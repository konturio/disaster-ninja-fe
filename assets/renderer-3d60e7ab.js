var uR=Object.defineProperty;var cR=(e,t,n)=>t in e?uR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rr=(e,t,n)=>(cR(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var l=Function.bind.apply(t,s);return new l}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var jt={},pR={get exports(){return jt},set exports(e){jt=e}},Zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=Symbol.for("react.element"),hR=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),mR=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),_R=Symbol.for("react.suspense"),xR=Symbol.for("react.memo"),bR=Symbol.for("react.lazy"),b5=Symbol.iterator;function wR(e){return e===null||typeof e!="object"?null:(e=b5&&e[b5]||e["@@iterator"],typeof e=="function"?e:null)}var kP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PP=Object.assign,TP={};function B0(e,t,n){this.props=e,this.context=t,this.refs=TP,this.updater=n||kP}B0.prototype.isReactComponent={};B0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};B0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IP(){}IP.prototype=B0.prototype;function t4(e,t,n){this.props=e,this.context=t,this.refs=TP,this.updater=n||kP}var n4=t4.prototype=new IP;n4.constructor=t4;PP(n4,B0.prototype);n4.isPureReactComponent=!0;var w5=Array.isArray,MP=Object.prototype.hasOwnProperty,r4={current:null},OP={key:!0,ref:!0,__self:!0,__source:!0};function LP(e,t,n){var i,s={},l=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)MP.call(t,i)&&!OP.hasOwnProperty(i)&&(s[i]=t[i]);var x=arguments.length-2;if(x===1)s.children=n;else if(1<x){for(var S=Array(x),P=0;P<x;P++)S[P]=arguments[P+2];s.children=S}if(e&&e.defaultProps)for(i in x=e.defaultProps,x)s[i]===void 0&&(s[i]=x[i]);return{$$typeof:oy,type:e,key:l,ref:a,props:s,_owner:r4.current}}function SR(e,t){return{$$typeof:oy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i4(e){return typeof e=="object"&&e!==null&&e.$$typeof===oy}function CR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var S5=/\/+/g;function Bb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CR(""+e.key):t.toString(36)}function B1(e,t,n,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case oy:case hR:a=!0}}if(a)return a=e,s=s(a),e=i===""?"."+Bb(a,0):i,w5(s)?(n="",e!=null&&(n=e.replace(S5,"$&/")+"/"),B1(s,t,n,"",function(P){return P})):s!=null&&(i4(s)&&(s=SR(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(S5,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=i===""?".":i+":",w5(e))for(var x=0;x<e.length;x++){l=e[x];var S=i+Bb(l,x);a+=B1(l,t,n,S,s)}else if(S=wR(e),typeof S=="function")for(e=S.call(e),x=0;!(l=e.next()).done;)l=l.value,S=i+Bb(l,x++),a+=B1(l,t,n,S,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $v(e,t,n){if(e==null)return e;var i=[],s=0;return B1(e,i,"","",function(l){return t.call(n,l,s++)}),i}function ER(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tl={current:null},z1={transition:null},kR={ReactCurrentDispatcher:tl,ReactCurrentBatchConfig:z1,ReactCurrentOwner:r4};Zr.Children={map:$v,forEach:function(e,t,n){$v(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $v(e,function(){t++}),t},toArray:function(e){return $v(e,function(t){return t})||[]},only:function(e){if(!i4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zr.Component=B0;Zr.Fragment=AR;Zr.Profiler=mR;Zr.PureComponent=t4;Zr.StrictMode=dR;Zr.Suspense=_R;Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR;Zr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=PP({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=r4.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(S in t)MP.call(t,S)&&!OP.hasOwnProperty(S)&&(i[S]=t[S]===void 0&&x!==void 0?x[S]:t[S])}var S=arguments.length-2;if(S===1)i.children=n;else if(1<S){x=Array(S);for(var P=0;P<S;P++)x[P]=arguments[P+2];i.children=x}return{$$typeof:oy,type:e.type,key:s,ref:l,props:i,_owner:a}};Zr.createContext=function(e){return e={$$typeof:yR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gR,_context:e},e.Consumer=e};Zr.createElement=LP;Zr.createFactory=function(e){var t=LP.bind(null,e);return t.type=e,t};Zr.createRef=function(){return{current:null}};Zr.forwardRef=function(e){return{$$typeof:vR,render:e}};Zr.isValidElement=i4;Zr.lazy=function(e){return{$$typeof:bR,_payload:{_status:-1,_result:e},_init:ER}};Zr.memo=function(e,t){return{$$typeof:xR,type:e,compare:t===void 0?null:t}};Zr.startTransition=function(e){var t=z1.transition;z1.transition={};try{e()}finally{z1.transition=t}};Zr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Zr.useCallback=function(e,t){return tl.current.useCallback(e,t)};Zr.useContext=function(e){return tl.current.useContext(e)};Zr.useDebugValue=function(){};Zr.useDeferredValue=function(e){return tl.current.useDeferredValue(e)};Zr.useEffect=function(e,t){return tl.current.useEffect(e,t)};Zr.useId=function(){return tl.current.useId()};Zr.useImperativeHandle=function(e,t,n){return tl.current.useImperativeHandle(e,t,n)};Zr.useInsertionEffect=function(e,t){return tl.current.useInsertionEffect(e,t)};Zr.useLayoutEffect=function(e,t){return tl.current.useLayoutEffect(e,t)};Zr.useMemo=function(e,t){return tl.current.useMemo(e,t)};Zr.useReducer=function(e,t,n){return tl.current.useReducer(e,t,n)};Zr.useRef=function(e){return tl.current.useRef(e)};Zr.useState=function(e){return tl.current.useState(e)};Zr.useSyncExternalStore=function(e,t,n){return tl.current.useSyncExternalStore(e,t,n)};Zr.useTransition=function(){return tl.current.useTransition()};Zr.version="18.2.0";(function(e){e.exports=Zr})(pR);const qn=e4(jt);var Zw={},PR={get exports(){return Zw},set exports(e){Zw=e}},C5={},TR={get exports(){return C5},set exports(e){C5=e}};(function(e){var t=function(n){var i=Object.prototype,s=i.hasOwnProperty,l=Object.defineProperty||function(Me,Oe,oe){Me[Oe]=oe.value},a,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",P=x.asyncIterator||"@@asyncIterator",L=x.toStringTag||"@@toStringTag";function F(Me,Oe,oe){return Object.defineProperty(Me,Oe,{value:oe,enumerable:!0,configurable:!0,writable:!0}),Me[Oe]}try{F({},"")}catch{F=function(Oe,oe,ge){return Oe[oe]=ge}}function N(Me,Oe,oe,ge){var Mt=Oe&&Oe.prototype instanceof ee?Oe:ee,un=Object.create(Mt.prototype),wn=new pn(ge||[]);return l(un,"_invoke",{value:ut(Me,oe,wn)}),un}n.wrap=N;function $(Me,Oe,oe){try{return{type:"normal",arg:Me.call(Oe,oe)}}catch(ge){return{type:"throw",arg:ge}}}var q="suspendedStart",K="suspendedYield",te="executing",V="completed",X={};function ee(){}function ce(){}function _e(){}var re={};F(re,S,function(){return this});var Se=Object.getPrototypeOf,Le=Se&&Se(Se(xn([])));Le&&Le!==i&&s.call(Le,S)&&(re=Le);var Ze=_e.prototype=ee.prototype=Object.create(re);ce.prototype=_e,l(Ze,"constructor",{value:_e,configurable:!0}),l(_e,"constructor",{value:ce,configurable:!0}),ce.displayName=F(_e,L,"GeneratorFunction");function ot(Me){["next","throw","return"].forEach(function(Oe){F(Me,Oe,function(oe){return this._invoke(Oe,oe)})})}n.isGeneratorFunction=function(Me){var Oe=typeof Me=="function"&&Me.constructor;return Oe?Oe===ce||(Oe.displayName||Oe.name)==="GeneratorFunction":!1},n.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,_e):(Me.__proto__=_e,F(Me,L,"GeneratorFunction")),Me.prototype=Object.create(Ze),Me},n.awrap=function(Me){return{__await:Me}};function We(Me,Oe){function oe(un,wn,dn,Cn){var $n=$(Me[un],Me,wn);if($n.type==="throw")Cn($n.arg);else{var Fn=$n.arg,Xr=Fn.value;return Xr&&typeof Xr=="object"&&s.call(Xr,"__await")?Oe.resolve(Xr.__await).then(function(jr){oe("next",jr,dn,Cn)},function(jr){oe("throw",jr,dn,Cn)}):Oe.resolve(Xr).then(function(jr){Fn.value=jr,dn(Fn)},function(jr){return oe("throw",jr,dn,Cn)})}}var ge;function Mt(un,wn){function dn(){return new Oe(function(Cn,$n){oe(un,wn,Cn,$n)})}return ge=ge?ge.then(dn,dn):dn()}l(this,"_invoke",{value:Mt})}ot(We.prototype),F(We.prototype,P,function(){return this}),n.AsyncIterator=We,n.async=function(Me,Oe,oe,ge,Mt){Mt===void 0&&(Mt=Promise);var un=new We(N(Me,Oe,oe,ge),Mt);return n.isGeneratorFunction(Oe)?un:un.next().then(function(wn){return wn.done?wn.value:un.next()})};function ut(Me,Oe,oe){var ge=q;return function(un,wn){if(ge===te)throw new Error("Generator is already running");if(ge===V){if(un==="throw")throw wn;return at()}for(oe.method=un,oe.arg=wn;;){var dn=oe.delegate;if(dn){var Cn=yt(dn,oe);if(Cn){if(Cn===X)continue;return Cn}}if(oe.method==="next")oe.sent=oe._sent=oe.arg;else if(oe.method==="throw"){if(ge===q)throw ge=V,oe.arg;oe.dispatchException(oe.arg)}else oe.method==="return"&&oe.abrupt("return",oe.arg);ge=te;var $n=$(Me,Oe,oe);if($n.type==="normal"){if(ge=oe.done?V:K,$n.arg===X)continue;return{value:$n.arg,done:oe.done}}else $n.type==="throw"&&(ge=V,oe.method="throw",oe.arg=$n.arg)}}}function yt(Me,Oe){var oe=Oe.method,ge=Me.iterator[oe];if(ge===a)return Oe.delegate=null,oe==="throw"&&Me.iterator.return&&(Oe.method="return",Oe.arg=a,yt(Me,Oe),Oe.method==="throw")||oe!=="return"&&(Oe.method="throw",Oe.arg=new TypeError("The iterator does not provide a '"+oe+"' method")),X;var Mt=$(ge,Me.iterator,Oe.arg);if(Mt.type==="throw")return Oe.method="throw",Oe.arg=Mt.arg,Oe.delegate=null,X;var un=Mt.arg;if(!un)return Oe.method="throw",Oe.arg=new TypeError("iterator result is not an object"),Oe.delegate=null,X;if(un.done)Oe[Me.resultName]=un.value,Oe.next=Me.nextLoc,Oe.method!=="return"&&(Oe.method="next",Oe.arg=a);else return un;return Oe.delegate=null,X}ot(Ze),F(Ze,L,"Generator"),F(Ze,S,function(){return this}),F(Ze,"toString",function(){return"[object Generator]"});function Bt(Me){var Oe={tryLoc:Me[0]};1 in Me&&(Oe.catchLoc=Me[1]),2 in Me&&(Oe.finallyLoc=Me[2],Oe.afterLoc=Me[3]),this.tryEntries.push(Oe)}function Yt(Me){var Oe=Me.completion||{};Oe.type="normal",delete Oe.arg,Me.completion=Oe}function pn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(Bt,this),this.reset(!0)}n.keys=function(Me){var Oe=Object(Me),oe=[];for(var ge in Oe)oe.push(ge);return oe.reverse(),function Mt(){for(;oe.length;){var un=oe.pop();if(un in Oe)return Mt.value=un,Mt.done=!1,Mt}return Mt.done=!0,Mt}};function xn(Me){if(Me){var Oe=Me[S];if(Oe)return Oe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var oe=-1,ge=function Mt(){for(;++oe<Me.length;)if(s.call(Me,oe))return Mt.value=Me[oe],Mt.done=!1,Mt;return Mt.value=a,Mt.done=!0,Mt};return ge.next=ge}}return{next:at}}n.values=xn;function at(){return{value:a,done:!0}}return pn.prototype={constructor:pn,reset:function(Me){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Yt),!Me)for(var Oe in this)Oe.charAt(0)==="t"&&s.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=a)},stop:function(){this.done=!0;var Me=this.tryEntries[0],Oe=Me.completion;if(Oe.type==="throw")throw Oe.arg;return this.rval},dispatchException:function(Me){if(this.done)throw Me;var Oe=this;function oe(Cn,$n){return un.type="throw",un.arg=Me,Oe.next=Cn,$n&&(Oe.method="next",Oe.arg=a),!!$n}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Mt=this.tryEntries[ge],un=Mt.completion;if(Mt.tryLoc==="root")return oe("end");if(Mt.tryLoc<=this.prev){var wn=s.call(Mt,"catchLoc"),dn=s.call(Mt,"finallyLoc");if(wn&&dn){if(this.prev<Mt.catchLoc)return oe(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return oe(Mt.finallyLoc)}else if(wn){if(this.prev<Mt.catchLoc)return oe(Mt.catchLoc,!0)}else if(dn){if(this.prev<Mt.finallyLoc)return oe(Mt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Me,Oe){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ge=this.tryEntries[oe];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var Mt=ge;break}}Mt&&(Me==="break"||Me==="continue")&&Mt.tryLoc<=Oe&&Oe<=Mt.finallyLoc&&(Mt=null);var un=Mt?Mt.completion:{};return un.type=Me,un.arg=Oe,Mt?(this.method="next",this.next=Mt.finallyLoc,X):this.complete(un)},complete:function(Me,Oe){if(Me.type==="throw")throw Me.arg;return Me.type==="break"||Me.type==="continue"?this.next=Me.arg:Me.type==="return"?(this.rval=this.arg=Me.arg,this.method="return",this.next="end"):Me.type==="normal"&&Oe&&(this.next=Oe),X},finish:function(Me){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var oe=this.tryEntries[Oe];if(oe.finallyLoc===Me)return this.complete(oe.completion,oe.afterLoc),Yt(oe),X}},catch:function(Me){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var oe=this.tryEntries[Oe];if(oe.tryLoc===Me){var ge=oe.completion;if(ge.type==="throw"){var Mt=ge.arg;Yt(oe)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(Me,Oe,oe){return this.delegate={iterator:xn(Me),resultName:Oe,nextLoc:oe},this.method==="next"&&(this.arg=a),X}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(TR);var DP={},Xw={},bg={},IR={get exports(){return bg},set exports(e){bg=e}},Yl={},Yw={},MR={get exports(){return Yw},set exports(e){Yw=e}},RP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(at,Me){var Oe=at.length;at.push(Me);e:for(;0<Oe;){var oe=Oe-1>>>1,ge=at[oe];if(0<s(ge,Me))at[oe]=Me,at[Oe]=ge,Oe=oe;else break e}}function n(at){return at.length===0?null:at[0]}function i(at){if(at.length===0)return null;var Me=at[0],Oe=at.pop();if(Oe!==Me){at[0]=Oe;e:for(var oe=0,ge=at.length,Mt=ge>>>1;oe<Mt;){var un=2*(oe+1)-1,wn=at[un],dn=un+1,Cn=at[dn];if(0>s(wn,Oe))dn<ge&&0>s(Cn,wn)?(at[oe]=Cn,at[dn]=Oe,oe=dn):(at[oe]=wn,at[un]=Oe,oe=un);else if(dn<ge&&0>s(Cn,Oe))at[oe]=Cn,at[dn]=Oe,oe=dn;else break e}}return Me}function s(at,Me){var Oe=at.sortIndex-Me.sortIndex;return Oe!==0?Oe:at.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,x=a.now();e.unstable_now=function(){return a.now()-x}}var S=[],P=[],L=1,F=null,N=3,$=!1,q=!1,K=!1,te=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(at){for(var Me=n(P);Me!==null;){if(Me.callback===null)i(P);else if(Me.startTime<=at)i(P),Me.sortIndex=Me.expirationTime,t(S,Me);else break;Me=n(P)}}function ce(at){if(K=!1,ee(at),!q)if(n(S)!==null)q=!0,pn(_e);else{var Me=n(P);Me!==null&&xn(ce,Me.startTime-at)}}function _e(at,Me){q=!1,K&&(K=!1,V(Le),Le=-1),$=!0;var Oe=N;try{for(ee(Me),F=n(S);F!==null&&(!(F.expirationTime>Me)||at&&!We());){var oe=F.callback;if(typeof oe=="function"){F.callback=null,N=F.priorityLevel;var ge=oe(F.expirationTime<=Me);Me=e.unstable_now(),typeof ge=="function"?F.callback=ge:F===n(S)&&i(S),ee(Me)}else i(S);F=n(S)}if(F!==null)var Mt=!0;else{var un=n(P);un!==null&&xn(ce,un.startTime-Me),Mt=!1}return Mt}finally{F=null,N=Oe,$=!1}}var re=!1,Se=null,Le=-1,Ze=5,ot=-1;function We(){return!(e.unstable_now()-ot<Ze)}function ut(){if(Se!==null){var at=e.unstable_now();ot=at;var Me=!0;try{Me=Se(!0,at)}finally{Me?yt():(re=!1,Se=null)}}else re=!1}var yt;if(typeof X=="function")yt=function(){X(ut)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Yt=Bt.port2;Bt.port1.onmessage=ut,yt=function(){Yt.postMessage(null)}}else yt=function(){te(ut,0)};function pn(at){Se=at,re||(re=!0,yt())}function xn(at,Me){Le=te(function(){at(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(at){at.callback=null},e.unstable_continueExecution=function(){q||$||(q=!0,pn(_e))},e.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<at?Math.floor(1e3/at):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(S)},e.unstable_next=function(at){switch(N){case 1:case 2:case 3:var Me=3;break;default:Me=N}var Oe=N;N=Me;try{return at()}finally{N=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(at,Me){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var Oe=N;N=at;try{return Me()}finally{N=Oe}},e.unstable_scheduleCallback=function(at,Me,Oe){var oe=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?oe+Oe:oe):Oe=oe,at){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Oe+ge,at={id:L++,callback:Me,priorityLevel:at,startTime:Oe,expirationTime:ge,sortIndex:-1},Oe>oe?(at.sortIndex=Oe,t(P,at),n(S)===null&&at===n(P)&&(K?(V(Le),Le=-1):K=!0,xn(ce,Oe-oe))):(at.sortIndex=ge,t(S,at),q||$||(q=!0,pn(_e))),at},e.unstable_shouldYield=We,e.unstable_wrapCallback=function(at){var Me=N;return function(){var Oe=N;N=Me;try{return at.apply(this,arguments)}finally{N=Oe}}}})(RP);(function(e){e.exports=RP})(MR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=jt,Xl=Yw;function tn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BP=new Set,wg={};function KA(e,t){E0(e,t),E0(e+"Capture",t)}function E0(e,t){for(wg[e]=t,e=0;e<t.length;e++)BP.add(t[e])}var bp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jw=Object.prototype.hasOwnProperty,OR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E5={},k5={};function LR(e){return Jw.call(k5,e)?!0:Jw.call(E5,e)?!1:OR.test(e)?k5[e]=!0:(E5[e]=!0,!1)}function DR(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RR(e,t,n,i){if(t===null||typeof t>"u"||DR(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nl(e,t,n,i,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var _s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_s[e]=new nl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_s[t]=new nl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_s[e]=new nl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_s[e]=new nl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_s[e]=new nl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_s[e]=new nl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_s[e]=new nl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_s[e]=new nl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_s[e]=new nl(e,5,!1,e.toLowerCase(),null,!1,!1)});var o4=/[\-:]([a-z])/g;function a4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(o4,a4);_s[t]=new nl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(o4,a4);_s[t]=new nl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(o4,a4);_s[t]=new nl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_s[e]=new nl(e,1,!1,e.toLowerCase(),null,!1,!1)});_s.xlinkHref=new nl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_s[e]=new nl(e,1,!1,e.toLowerCase(),null,!0,!0)});function s4(e,t,n,i){var s=_s.hasOwnProperty(t)?_s[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RR(t,n,s,i)&&(n=null),i||s===null?LR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var kp=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jv=Symbol.for("react.element"),Jd=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),l4=Symbol.for("react.strict_mode"),e3=Symbol.for("react.profiler"),zP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),u4=Symbol.for("react.forward_ref"),t3=Symbol.for("react.suspense"),n3=Symbol.for("react.suspense_list"),c4=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),UP=Symbol.for("react.offscreen"),P5=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=P5&&e[P5]||e["@@iterator"],typeof e=="function"?e:null)}var Ho=Object.assign,zb;function Xm(e){if(zb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zb=t&&t[1]||""}return`
`+zb+e}var Nb=!1;function Ub(e,t){if(!e||Nb)return"";Nb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var s=P.stack.split(`
`),l=i.stack.split(`
`),a=s.length-1,x=l.length-1;1<=a&&0<=x&&s[a]!==l[x];)x--;for(;1<=a&&0<=x;a--,x--)if(s[a]!==l[x]){if(a!==1||x!==1)do if(a--,x--,0>x||s[a]!==l[x]){var S=`
`+s[a].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=a&&0<=x);break}}}finally{Nb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xm(e):""}function FR(e){switch(e.tag){case 5:return Xm(e.type);case 16:return Xm("Lazy");case 13:return Xm("Suspense");case 19:return Xm("SuspenseList");case 0:case 2:case 15:return e=Ub(e.type,!1),e;case 11:return e=Ub(e.type.render,!1),e;case 1:return e=Ub(e.type,!0),e;default:return""}}function r3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case e0:return"Fragment";case Jd:return"Portal";case e3:return"Profiler";case l4:return"StrictMode";case t3:return"Suspense";case n3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NP:return(e.displayName||"Context")+".Consumer";case zP:return(e._context.displayName||"Context")+".Provider";case u4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c4:return t=e.displayName||null,t!==null?t:r3(e.type)||"Memo";case dh:t=e._payload,e=e._init;try{return r3(e(t))}catch{}}return null}function BR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r3(t);case 8:return t===l4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $P(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zR(e){var t=$P(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vv(e){e._valueTracker||(e._valueTracker=zR(e))}function jP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$P(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function i_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function i3(e,t){var n=t.checked;return Ho({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function T5(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=zh(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VP(e,t){t=t.checked,t!=null&&s4(e,"checked",t,!1)}function o3(e,t){VP(e,t);var n=zh(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?a3(e,t.type,n):t.hasOwnProperty("defaultValue")&&a3(e,t.type,zh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function a3(e,t,n){(t!=="number"||i_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ym=Array.isArray;function d0(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+zh(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function s3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tn(91));return Ho({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function M5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(tn(92));if(Ym(n)){if(1<n.length)throw Error(tn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zh(n)}}function HP(e,t){var n=zh(t.value),i=zh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function O5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hv,GP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hv=Hv||document.createElement("div"),Hv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NR=["Webkit","ms","Moz","O"];Object.keys(ig).forEach(function(e){NR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ig[t]=ig[e]})});function QP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ig.hasOwnProperty(e)&&ig[e]?(""+t).trim():t+"px"}function WP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=QP(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var UR=Ho({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u3(e,t){if(t){if(UR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tn(62))}}function c3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f3=null;function f4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var p3=null,m0=null,g0=null;function L5(e){if(e=ly(e)){if(typeof p3!="function")throw Error(tn(280));var t=e.stateNode;t&&(t=A2(t),p3(e.stateNode,e.type,t))}}function KP(e){m0?g0?g0.push(e):g0=[e]:m0=e}function ZP(){if(m0){var e=m0,t=g0;if(g0=m0=null,L5(e),t)for(e=0;e<t.length;e++)L5(t[e])}}function XP(e,t){return e(t)}function YP(){}var $b=!1;function JP(e,t,n){if($b)return e(t,n);$b=!0;try{return XP(e,t,n)}finally{$b=!1,(m0!==null||g0!==null)&&(YP(),ZP())}}function Cg(e,t){var n=e.stateNode;if(n===null)return null;var i=A2(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(tn(231,t,typeof n));return n}var h3=!1;if(bp)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){h3=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{h3=!1}function $R(e,t,n,i,s,l,a,x,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(L){this.onError(L)}}var og=!1,o_=null,a_=!1,A3=null,jR={onError:function(e){og=!0,o_=e}};function VR(e,t,n,i,s,l,a,x,S){og=!1,o_=null,$R.apply(jR,arguments)}function HR(e,t,n,i,s,l,a,x,S){if(VR.apply(this,arguments),og){if(og){var P=o_;og=!1,o_=null}else throw Error(tn(198));a_||(a_=!0,A3=P)}}function ZA(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D5(e){if(ZA(e)!==e)throw Error(tn(188))}function qR(e){var t=e.alternate;if(!t){if(t=ZA(e),t===null)throw Error(tn(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return D5(s),e;if(l===i)return D5(s),t;l=l.sibling}throw Error(tn(188))}if(n.return!==i.return)n=s,i=l;else{for(var a=!1,x=s.child;x;){if(x===n){a=!0,n=s,i=l;break}if(x===i){a=!0,i=s,n=l;break}x=x.sibling}if(!a){for(x=l.child;x;){if(x===n){a=!0,n=l,i=s;break}if(x===i){a=!0,i=l,n=s;break}x=x.sibling}if(!a)throw Error(tn(189))}}if(n.alternate!==i)throw Error(tn(190))}if(n.tag!==3)throw Error(tn(188));return n.stateNode.current===n?e:t}function tT(e){return e=qR(e),e!==null?nT(e):null}function nT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nT(e);if(t!==null)return t;e=e.sibling}return null}var rT=Xl.unstable_scheduleCallback,R5=Xl.unstable_cancelCallback,GR=Xl.unstable_shouldYield,QR=Xl.unstable_requestPaint,va=Xl.unstable_now,WR=Xl.unstable_getCurrentPriorityLevel,p4=Xl.unstable_ImmediatePriority,iT=Xl.unstable_UserBlockingPriority,s_=Xl.unstable_NormalPriority,KR=Xl.unstable_LowPriority,oT=Xl.unstable_IdlePriority,c2=null,_f=null;function ZR(e){if(_f&&typeof _f.onCommitFiberRoot=="function")try{_f.onCommitFiberRoot(c2,e,void 0,(e.current.flags&128)===128)}catch{}}var Cc=Math.clz32?Math.clz32:JR,XR=Math.log,YR=Math.LN2;function JR(e){return e>>>=0,e===0?32:31-(XR(e)/YR|0)|0}var qv=64,Gv=4194304;function Jm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function l_(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var x=a&~s;x!==0?i=Jm(x):(l&=a,l!==0&&(i=Jm(l)))}else a=n&~s,a!==0?i=Jm(a):l!==0&&(i=Jm(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Cc(t),s=1<<n,i|=e[n],t&=~s;return i}function e7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t7(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Cc(l),x=1<<a,S=s[a];S===-1?(!(x&n)||x&i)&&(s[a]=e7(x,t)):S<=t&&(e.expiredLanes|=x),l&=~x}}function d3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aT(){var e=qv;return qv<<=1,!(qv&4194240)&&(qv=64),e}function jb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ay(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cc(t),e[t]=n}function n7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Cc(n),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~l}}function h4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Cc(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Oi=0;function sT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lT,A4,uT,cT,fT,m3=!1,Qv=[],kh=null,Ph=null,Th=null,Eg=new Map,kg=new Map,vh=[],r7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F5(e,t){switch(e){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Th=null;break;case"pointerover":case"pointerout":Eg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kg.delete(t.pointerId)}}function Mm(e,t,n,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=ly(t),t!==null&&A4(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function i7(e,t,n,i,s){switch(t){case"focusin":return kh=Mm(kh,e,t,n,i,s),!0;case"dragenter":return Ph=Mm(Ph,e,t,n,i,s),!0;case"mouseover":return Th=Mm(Th,e,t,n,i,s),!0;case"pointerover":var l=s.pointerId;return Eg.set(l,Mm(Eg.get(l)||null,e,t,n,i,s)),!0;case"gotpointercapture":return l=s.pointerId,kg.set(l,Mm(kg.get(l)||null,e,t,n,i,s)),!0}return!1}function pT(e){var t=IA(e.target);if(t!==null){var n=ZA(t);if(n!==null){if(t=n.tag,t===13){if(t=eT(n),t!==null){e.blockedOn=t,fT(e.priority,function(){uT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function N1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=g3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);f3=i,n.target.dispatchEvent(i),f3=null}else return t=ly(n),t!==null&&A4(t),e.blockedOn=n,!1;t.shift()}return!0}function B5(e,t,n){N1(e)&&n.delete(t)}function o7(){m3=!1,kh!==null&&N1(kh)&&(kh=null),Ph!==null&&N1(Ph)&&(Ph=null),Th!==null&&N1(Th)&&(Th=null),Eg.forEach(B5),kg.forEach(B5)}function Om(e,t){e.blockedOn===t&&(e.blockedOn=null,m3||(m3=!0,Xl.unstable_scheduleCallback(Xl.unstable_NormalPriority,o7)))}function Pg(e){function t(s){return Om(s,e)}if(0<Qv.length){Om(Qv[0],e);for(var n=1;n<Qv.length;n++){var i=Qv[n];i.blockedOn===e&&(i.blockedOn=null)}}for(kh!==null&&Om(kh,e),Ph!==null&&Om(Ph,e),Th!==null&&Om(Th,e),Eg.forEach(t),kg.forEach(t),n=0;n<vh.length;n++)i=vh[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<vh.length&&(n=vh[0],n.blockedOn===null);)pT(n),n.blockedOn===null&&vh.shift()}var y0=kp.ReactCurrentBatchConfig,u_=!0;function a7(e,t,n,i){var s=Oi,l=y0.transition;y0.transition=null;try{Oi=1,d4(e,t,n,i)}finally{Oi=s,y0.transition=l}}function s7(e,t,n,i){var s=Oi,l=y0.transition;y0.transition=null;try{Oi=4,d4(e,t,n,i)}finally{Oi=s,y0.transition=l}}function d4(e,t,n,i){if(u_){var s=g3(e,t,n,i);if(s===null)Yb(e,t,i,c_,n),F5(e,i);else if(i7(s,e,t,n,i))i.stopPropagation();else if(F5(e,i),t&4&&-1<r7.indexOf(e)){for(;s!==null;){var l=ly(s);if(l!==null&&lT(l),l=g3(e,t,n,i),l===null&&Yb(e,t,i,c_,n),l===s)break;s=l}s!==null&&i.stopPropagation()}else Yb(e,t,i,null,n)}}var c_=null;function g3(e,t,n,i){if(c_=null,e=f4(i),e=IA(e),e!==null)if(t=ZA(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return c_=e,null}function hT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WR()){case p4:return 1;case iT:return 4;case s_:case KR:return 16;case oT:return 536870912;default:return 16}default:return 16}}var bh=null,m4=null,U1=null;function AT(){if(U1)return U1;var e,t=m4,n=t.length,i,s="value"in bh?bh.value:bh.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[l-i];i++);return U1=s.slice(e,1<i?1-i:void 0)}function $1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wv(){return!0}function z5(){return!1}function Jl(e){function t(n,i,s,l,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(l):l[x]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Wv:z5,this.isPropagationStopped=z5,this}return Ho(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wv)},persist:function(){},isPersistent:Wv}),t}var z0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g4=Jl(z0),sy=Ho({},z0,{view:0,detail:0}),l7=Jl(sy),Vb,Hb,Lm,f2=Ho({},sy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lm&&(Lm&&e.type==="mousemove"?(Vb=e.screenX-Lm.screenX,Hb=e.screenY-Lm.screenY):Hb=Vb=0,Lm=e),Vb)},movementY:function(e){return"movementY"in e?e.movementY:Hb}}),N5=Jl(f2),u7=Ho({},f2,{dataTransfer:0}),c7=Jl(u7),f7=Ho({},sy,{relatedTarget:0}),qb=Jl(f7),p7=Ho({},z0,{animationName:0,elapsedTime:0,pseudoElement:0}),h7=Jl(p7),A7=Ho({},z0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d7=Jl(A7),m7=Ho({},z0,{data:0}),U5=Jl(m7),g7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v7[e])?!!t[e]:!1}function y4(){return _7}var x7=Ho({},sy,{key:function(e){if(e.key){var t=g7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y4,charCode:function(e){return e.type==="keypress"?$1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b7=Jl(x7),w7=Ho({},f2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$5=Jl(w7),S7=Ho({},sy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y4}),C7=Jl(S7),E7=Ho({},z0,{propertyName:0,elapsedTime:0,pseudoElement:0}),k7=Jl(E7),P7=Ho({},f2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T7=Jl(P7),I7=[9,13,27,32],v4=bp&&"CompositionEvent"in window,ag=null;bp&&"documentMode"in document&&(ag=document.documentMode);var M7=bp&&"TextEvent"in window&&!ag,dT=bp&&(!v4||ag&&8<ag&&11>=ag),j5=String.fromCharCode(32),V5=!1;function mT(e,t){switch(e){case"keyup":return I7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var t0=!1;function O7(e,t){switch(e){case"compositionend":return gT(t);case"keypress":return t.which!==32?null:(V5=!0,j5);case"textInput":return e=t.data,e===j5&&V5?null:e;default:return null}}function L7(e,t){if(t0)return e==="compositionend"||!v4&&mT(e,t)?(e=AT(),U1=m4=bh=null,t0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dT&&t.locale!=="ko"?null:t.data;default:return null}}var D7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D7[e.type]:t==="textarea"}function yT(e,t,n,i){KP(i),t=f_(t,"onChange"),0<t.length&&(n=new g4("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var sg=null,Tg=null;function R7(e){TT(e,0)}function p2(e){var t=i0(e);if(jP(t))return e}function F7(e,t){if(e==="change")return t}var vT=!1;if(bp){var Gb;if(bp){var Qb="oninput"in document;if(!Qb){var q5=document.createElement("div");q5.setAttribute("oninput","return;"),Qb=typeof q5.oninput=="function"}Gb=Qb}else Gb=!1;vT=Gb&&(!document.documentMode||9<document.documentMode)}function G5(){sg&&(sg.detachEvent("onpropertychange",_T),Tg=sg=null)}function _T(e){if(e.propertyName==="value"&&p2(Tg)){var t=[];yT(t,Tg,e,f4(e)),JP(R7,t)}}function B7(e,t,n){e==="focusin"?(G5(),sg=t,Tg=n,sg.attachEvent("onpropertychange",_T)):e==="focusout"&&G5()}function z7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p2(Tg)}function N7(e,t){if(e==="click")return p2(t)}function U7(e,t){if(e==="input"||e==="change")return p2(t)}function $7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tc=typeof Object.is=="function"?Object.is:$7;function Ig(e,t){if(Tc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Jw.call(t,s)||!Tc(e[s],t[s]))return!1}return!0}function Q5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W5(e,t){var n=Q5(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q5(n)}}function xT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bT(){for(var e=window,t=i_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=i_(e.document)}return t}function _4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function j7(e){var t=bT(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xT(n.ownerDocument.documentElement,n)){if(i!==null&&_4(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=W5(n,l);var a=W5(n,i);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V7=bp&&"documentMode"in document&&11>=document.documentMode,n0=null,y3=null,lg=null,v3=!1;function K5(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v3||n0==null||n0!==i_(i)||(i=n0,"selectionStart"in i&&_4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lg&&Ig(lg,i)||(lg=i,i=f_(y3,"onSelect"),0<i.length&&(t=new g4("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=n0)))}function Kv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var r0={animationend:Kv("Animation","AnimationEnd"),animationiteration:Kv("Animation","AnimationIteration"),animationstart:Kv("Animation","AnimationStart"),transitionend:Kv("Transition","TransitionEnd")},Wb={},wT={};bp&&(wT=document.createElement("div").style,"AnimationEvent"in window||(delete r0.animationend.animation,delete r0.animationiteration.animation,delete r0.animationstart.animation),"TransitionEvent"in window||delete r0.transitionend.transition);function h2(e){if(Wb[e])return Wb[e];if(!r0[e])return e;var t=r0[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wT)return Wb[e]=t[n];return e}var ST=h2("animationend"),CT=h2("animationiteration"),ET=h2("animationstart"),kT=h2("transitionend"),PT=new Map,Z5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vh(e,t){PT.set(e,t),KA(t,[e])}for(var Kb=0;Kb<Z5.length;Kb++){var Zb=Z5[Kb],H7=Zb.toLowerCase(),q7=Zb[0].toUpperCase()+Zb.slice(1);Vh(H7,"on"+q7)}Vh(ST,"onAnimationEnd");Vh(CT,"onAnimationIteration");Vh(ET,"onAnimationStart");Vh("dblclick","onDoubleClick");Vh("focusin","onFocus");Vh("focusout","onBlur");Vh(kT,"onTransitionEnd");E0("onMouseEnter",["mouseout","mouseover"]);E0("onMouseLeave",["mouseout","mouseover"]);E0("onPointerEnter",["pointerout","pointerover"]);E0("onPointerLeave",["pointerout","pointerover"]);KA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));KA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));KA("onBeforeInput",["compositionend","keypress","textInput","paste"]);KA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));KA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));KA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G7=new Set("cancel close invalid load scroll toggle".split(" ").concat(eg));function X5(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,HR(i,t,void 0,e),e.currentTarget=null}function TT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var a=i.length-1;0<=a;a--){var x=i[a],S=x.instance,P=x.currentTarget;if(x=x.listener,S!==l&&s.isPropagationStopped())break e;X5(s,x,P),l=S}else for(a=0;a<i.length;a++){if(x=i[a],S=x.instance,P=x.currentTarget,x=x.listener,S!==l&&s.isPropagationStopped())break e;X5(s,x,P),l=S}}}if(a_)throw e=A3,a_=!1,A3=null,e}function bo(e,t){var n=t[S3];n===void 0&&(n=t[S3]=new Set);var i=e+"__bubble";n.has(i)||(IT(t,e,2,!1),n.add(i))}function Xb(e,t,n){var i=0;t&&(i|=4),IT(n,e,i,t)}var Zv="_reactListening"+Math.random().toString(36).slice(2);function Mg(e){if(!e[Zv]){e[Zv]=!0,BP.forEach(function(n){n!=="selectionchange"&&(G7.has(n)||Xb(n,!1,e),Xb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zv]||(t[Zv]=!0,Xb("selectionchange",!1,t))}}function IT(e,t,n,i){switch(hT(t)){case 1:var s=a7;break;case 4:s=s7;break;default:s=d4}n=s.bind(null,t,n,e),s=void 0,!h3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Yb(e,t,n,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var S=a.tag;if((S===3||S===4)&&(S=a.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;a=a.return}for(;x!==null;){if(a=IA(x),a===null)return;if(S=a.tag,S===5||S===6){i=l=a;continue e}x=x.parentNode}}i=i.return}JP(function(){var P=l,L=f4(n),F=[];e:{var N=PT.get(e);if(N!==void 0){var $=g4,q=e;switch(e){case"keypress":if($1(n)===0)break e;case"keydown":case"keyup":$=b7;break;case"focusin":q="focus",$=qb;break;case"focusout":q="blur",$=qb;break;case"beforeblur":case"afterblur":$=qb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=N5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=c7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=C7;break;case ST:case CT:case ET:$=h7;break;case kT:$=k7;break;case"scroll":$=l7;break;case"wheel":$=T7;break;case"copy":case"cut":case"paste":$=d7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=$5}var K=(t&4)!==0,te=!K&&e==="scroll",V=K?N!==null?N+"Capture":null:N;K=[];for(var X=P,ee;X!==null;){ee=X;var ce=ee.stateNode;if(ee.tag===5&&ce!==null&&(ee=ce,V!==null&&(ce=Cg(X,V),ce!=null&&K.push(Og(X,ce,ee)))),te)break;X=X.return}0<K.length&&(N=new $(N,q,null,n,L),F.push({event:N,listeners:K}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",N&&n!==f3&&(q=n.relatedTarget||n.fromElement)&&(IA(q)||q[wp]))break e;if(($||N)&&(N=L.window===L?L:(N=L.ownerDocument)?N.defaultView||N.parentWindow:window,$?(q=n.relatedTarget||n.toElement,$=P,q=q?IA(q):null,q!==null&&(te=ZA(q),q!==te||q.tag!==5&&q.tag!==6)&&(q=null)):($=null,q=P),$!==q)){if(K=N5,ce="onMouseLeave",V="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(K=$5,ce="onPointerLeave",V="onPointerEnter",X="pointer"),te=$==null?N:i0($),ee=q==null?N:i0(q),N=new K(ce,X+"leave",$,n,L),N.target=te,N.relatedTarget=ee,ce=null,IA(L)===P&&(K=new K(V,X+"enter",q,n,L),K.target=ee,K.relatedTarget=te,ce=K),te=ce,$&&q)t:{for(K=$,V=q,X=0,ee=K;ee;ee=Fd(ee))X++;for(ee=0,ce=V;ce;ce=Fd(ce))ee++;for(;0<X-ee;)K=Fd(K),X--;for(;0<ee-X;)V=Fd(V),ee--;for(;X--;){if(K===V||V!==null&&K===V.alternate)break t;K=Fd(K),V=Fd(V)}K=null}else K=null;$!==null&&Y5(F,N,$,K,!1),q!==null&&te!==null&&Y5(F,te,q,K,!0)}}e:{if(N=P?i0(P):window,$=N.nodeName&&N.nodeName.toLowerCase(),$==="select"||$==="input"&&N.type==="file")var _e=F7;else if(H5(N))if(vT)_e=U7;else{_e=z7;var re=B7}else($=N.nodeName)&&$.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(_e=N7);if(_e&&(_e=_e(e,P))){yT(F,_e,n,L);break e}re&&re(e,N,P),e==="focusout"&&(re=N._wrapperState)&&re.controlled&&N.type==="number"&&a3(N,"number",N.value)}switch(re=P?i0(P):window,e){case"focusin":(H5(re)||re.contentEditable==="true")&&(n0=re,y3=P,lg=null);break;case"focusout":lg=y3=n0=null;break;case"mousedown":v3=!0;break;case"contextmenu":case"mouseup":case"dragend":v3=!1,K5(F,n,L);break;case"selectionchange":if(V7)break;case"keydown":case"keyup":K5(F,n,L)}var Se;if(v4)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else t0?mT(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(dT&&n.locale!=="ko"&&(t0||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&t0&&(Se=AT()):(bh=L,m4="value"in bh?bh.value:bh.textContent,t0=!0)),re=f_(P,Le),0<re.length&&(Le=new U5(Le,e,null,n,L),F.push({event:Le,listeners:re}),Se?Le.data=Se:(Se=gT(n),Se!==null&&(Le.data=Se)))),(Se=M7?O7(e,n):L7(e,n))&&(P=f_(P,"onBeforeInput"),0<P.length&&(L=new U5("onBeforeInput","beforeinput",null,n,L),F.push({event:L,listeners:P}),L.data=Se))}TT(F,t)})}function Og(e,t,n){return{instance:e,listener:t,currentTarget:n}}function f_(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Cg(e,n),l!=null&&i.unshift(Og(e,l,s)),l=Cg(e,t),l!=null&&i.push(Og(e,l,s))),e=e.return}return i}function Fd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y5(e,t,n,i,s){for(var l=t._reactName,a=[];n!==null&&n!==i;){var x=n,S=x.alternate,P=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&P!==null&&(x=P,s?(S=Cg(n,l),S!=null&&a.unshift(Og(n,S,x))):s||(S=Cg(n,l),S!=null&&a.push(Og(n,S,x)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Q7=/\r\n?/g,W7=/\u0000|\uFFFD/g;function J5(e){return(typeof e=="string"?e:""+e).replace(Q7,`
`).replace(W7,"")}function Xv(e,t,n){if(t=J5(t),J5(e)!==t&&n)throw Error(tn(425))}function p_(){}var _3=null,x3=null;function b3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w3=typeof setTimeout=="function"?setTimeout:void 0,K7=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,Z7=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(e){return eE.resolve(null).then(e).catch(X7)}:w3;function X7(e){setTimeout(function(){throw e})}function Jb(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Pg(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Pg(t)}function Ih(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var N0=Math.random().toString(36).slice(2),gf="__reactFiber$"+N0,Lg="__reactProps$"+N0,wp="__reactContainer$"+N0,S3="__reactEvents$"+N0,Y7="__reactListeners$"+N0,J7="__reactHandles$"+N0;function IA(e){var t=e[gf];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wp]||n[gf]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tE(e);e!==null;){if(n=e[gf])return n;e=tE(e)}return t}e=n,n=e.parentNode}return null}function ly(e){return e=e[gf]||e[wp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function i0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tn(33))}function A2(e){return e[Lg]||null}var C3=[],o0=-1;function Hh(e){return{current:e}}function So(e){0>o0||(e.current=C3[o0],C3[o0]=null,o0--)}function uo(e,t){o0++,C3[o0]=e.current,e.current=t}var Nh={},Fs=Hh(Nh),Pl=Hh(!1),UA=Nh;function k0(e,t){var n=e.type.contextTypes;if(!n)return Nh;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tl(e){return e=e.childContextTypes,e!=null}function h_(){So(Pl),So(Fs)}function nE(e,t,n){if(Fs.current!==Nh)throw Error(tn(168));uo(Fs,t),uo(Pl,n)}function MT(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(tn(108,BR(e)||"Unknown",s));return Ho({},n,i)}function A_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nh,UA=Fs.current,uo(Fs,e),uo(Pl,Pl.current),!0}function rE(e,t,n){var i=e.stateNode;if(!i)throw Error(tn(169));n?(e=MT(e,t,UA),i.__reactInternalMemoizedMergedChildContext=e,So(Pl),So(Fs),uo(Fs,e)):So(Pl),uo(Pl,n)}var mp=null,d2=!1,ew=!1;function OT(e){mp===null?mp=[e]:mp.push(e)}function eF(e){d2=!0,OT(e)}function qh(){if(!ew&&mp!==null){ew=!0;var e=0,t=Oi;try{var n=mp;for(Oi=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}mp=null,d2=!1}catch(s){throw mp!==null&&(mp=mp.slice(e+1)),rT(p4,qh),s}finally{Oi=t,ew=!1}}return null}var a0=[],s0=0,d_=null,m_=0,ku=[],Pu=0,$A=null,yp=1,vp="";function SA(e,t){a0[s0++]=m_,a0[s0++]=d_,d_=e,m_=t}function LT(e,t,n){ku[Pu++]=yp,ku[Pu++]=vp,ku[Pu++]=$A,$A=e;var i=yp;e=vp;var s=32-Cc(i)-1;i&=~(1<<s),n+=1;var l=32-Cc(t)+s;if(30<l){var a=s-s%5;l=(i&(1<<a)-1).toString(32),i>>=a,s-=a,yp=1<<32-Cc(t)+s|n<<s|i,vp=l+e}else yp=1<<l|n<<s|i,vp=e}function x4(e){e.return!==null&&(SA(e,1),LT(e,1,0))}function b4(e){for(;e===d_;)d_=a0[--s0],a0[s0]=null,m_=a0[--s0],a0[s0]=null;for(;e===$A;)$A=ku[--Pu],ku[Pu]=null,vp=ku[--Pu],ku[Pu]=null,yp=ku[--Pu],ku[Pu]=null}var Zl=null,Gl=null,Mo=!1,wc=null;function DT(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zl=e,Gl=Ih(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zl=e,Gl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$A!==null?{id:yp,overflow:vp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mu(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zl=e,Gl=null,!0):!1;default:return!1}}function E3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k3(e){if(Mo){var t=Gl;if(t){var n=t;if(!iE(e,t)){if(E3(e))throw Error(tn(418));t=Ih(n.nextSibling);var i=Zl;t&&iE(e,t)?DT(i,n):(e.flags=e.flags&-4097|2,Mo=!1,Zl=e)}}else{if(E3(e))throw Error(tn(418));e.flags=e.flags&-4097|2,Mo=!1,Zl=e}}}function oE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zl=e}function Yv(e){if(e!==Zl)return!1;if(!Mo)return oE(e),Mo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!b3(e.type,e.memoizedProps)),t&&(t=Gl)){if(E3(e))throw RT(),Error(tn(418));for(;t;)DT(e,t),t=Ih(t.nextSibling)}if(oE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gl=Ih(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gl=null}}else Gl=Zl?Ih(e.stateNode.nextSibling):null;return!0}function RT(){for(var e=Gl;e;)e=Ih(e.nextSibling)}function P0(){Gl=Zl=null,Mo=!1}function w4(e){wc===null?wc=[e]:wc.push(e)}var tF=kp.ReactCurrentBatchConfig;function xc(e,t){if(e&&e.defaultProps){t=Ho({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var g_=Hh(null),y_=null,l0=null,S4=null;function C4(){S4=l0=y_=null}function E4(e){var t=g_.current;So(g_),e._currentValue=t}function P3(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function v0(e,t){y_=e,S4=l0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kl=!0),e.firstContext=null)}function Ru(e){var t=e._currentValue;if(S4!==e)if(e={context:e,memoizedValue:t,next:null},l0===null){if(y_===null)throw Error(tn(308));l0=e,y_.dependencies={lanes:0,firstContext:e}}else l0=l0.next=e;return t}var MA=null;function k4(e){MA===null?MA=[e]:MA.push(e)}function FT(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,k4(t)):(n.next=s.next,s.next=n),t.interleaved=n,Sp(e,i)}function Sp(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mh=!1;function P4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mh(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,pi&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Sp(e,n)}return s=i.interleaved,s===null?(t.next=t,k4(i)):(t.next=s.next,s.next=t),i.interleaved=t,Sp(e,n)}function j1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,h4(e,n)}}function aE(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function v_(e,t,n,i){var s=e.updateQueue;mh=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,P=S.next;S.next=null,a===null?l=P:a.next=P,a=S;var L=e.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==a&&(x===null?L.firstBaseUpdate=P:x.next=P,L.lastBaseUpdate=S))}if(l!==null){var F=s.baseState;a=0,L=P=S=null,x=l;do{var N=x.lane,$=x.eventTime;if((i&N)===N){L!==null&&(L=L.next={eventTime:$,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var q=e,K=x;switch(N=t,$=n,K.tag){case 1:if(q=K.payload,typeof q=="function"){F=q.call($,F,N);break e}F=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,N=typeof q=="function"?q.call($,F,N):q,N==null)break e;F=Ho({},F,N);break e;case 2:mh=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,N=s.effects,N===null?s.effects=[x]:N.push(x))}else $={eventTime:$,lane:N,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(P=L=$,S=F):L=L.next=$,a|=N;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;N=x,x=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(1);if(L===null&&(S=F),s.baseState=S,s.firstBaseUpdate=P,s.lastBaseUpdate=L,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);VA|=a,e.lanes=a,e.memoizedState=F}}function sE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(tn(191,s));s.call(i)}}}var zT=new FP.Component().refs;function T3(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ho({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var m2={isMounted:function(e){return(e=e._reactInternals)?ZA(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=el(),s=Lh(e),l=xp(i,s);l.payload=t,n!=null&&(l.callback=n),t=Mh(e,l,s),t!==null&&(Ec(t,e,s,i),j1(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=el(),s=Lh(e),l=xp(i,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Mh(e,l,s),t!==null&&(Ec(t,e,s,i),j1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),i=Lh(e),s=xp(n,i);s.tag=2,t!=null&&(s.callback=t),t=Mh(e,s,i),t!==null&&(Ec(t,e,i,n),j1(t,e,i))}};function lE(e,t,n,i,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ig(n,i)||!Ig(s,l):!0}function NT(e,t,n){var i=!1,s=Nh,l=t.contextType;return typeof l=="object"&&l!==null?l=Ru(l):(s=Tl(t)?UA:Fs.current,i=t.contextTypes,l=(i=i!=null)?k0(e,s):Nh),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=m2,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function uE(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&m2.enqueueReplaceState(t,t.state,null)}function I3(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=zT,P4(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ru(l):(l=Tl(t)?UA:Fs.current,s.context=k0(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(T3(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&m2.enqueueReplaceState(s,s.state,null),v_(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tn(309));var i=n.stateNode}if(!i)throw Error(tn(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var x=s.refs;x===zT&&(x=s.refs={}),a===null?delete x[l]:x[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(tn(284));if(!n._owner)throw Error(tn(290,e))}return e}function Jv(e,t){throw e=Object.prototype.toString.call(t),Error(tn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cE(e){var t=e._init;return t(e._payload)}function UT(e){function t(V,X){if(e){var ee=V.deletions;ee===null?(V.deletions=[X],V.flags|=16):ee.push(X)}}function n(V,X){if(!e)return null;for(;X!==null;)t(V,X),X=X.sibling;return null}function i(V,X){for(V=new Map;X!==null;)X.key!==null?V.set(X.key,X):V.set(X.index,X),X=X.sibling;return V}function s(V,X){return V=Dh(V,X),V.index=0,V.sibling=null,V}function l(V,X,ee){return V.index=ee,e?(ee=V.alternate,ee!==null?(ee=ee.index,ee<X?(V.flags|=2,X):ee):(V.flags|=2,X)):(V.flags|=1048576,X)}function a(V){return e&&V.alternate===null&&(V.flags|=2),V}function x(V,X,ee,ce){return X===null||X.tag!==6?(X=sw(ee,V.mode,ce),X.return=V,X):(X=s(X,ee),X.return=V,X)}function S(V,X,ee,ce){var _e=ee.type;return _e===e0?L(V,X,ee.props.children,ce,ee.key):X!==null&&(X.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===dh&&cE(_e)===X.type)?(ce=s(X,ee.props),ce.ref=Dm(V,X,ee),ce.return=V,ce):(ce=W1(ee.type,ee.key,ee.props,null,V.mode,ce),ce.ref=Dm(V,X,ee),ce.return=V,ce)}function P(V,X,ee,ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=lw(ee,V.mode,ce),X.return=V,X):(X=s(X,ee.children||[]),X.return=V,X)}function L(V,X,ee,ce,_e){return X===null||X.tag!==7?(X=RA(ee,V.mode,ce,_e),X.return=V,X):(X=s(X,ee),X.return=V,X)}function F(V,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number")return X=sw(""+X,V.mode,ee),X.return=V,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case jv:return ee=W1(X.type,X.key,X.props,null,V.mode,ee),ee.ref=Dm(V,null,X),ee.return=V,ee;case Jd:return X=lw(X,V.mode,ee),X.return=V,X;case dh:var ce=X._init;return F(V,ce(X._payload),ee)}if(Ym(X)||Tm(X))return X=RA(X,V.mode,ee,null),X.return=V,X;Jv(V,X)}return null}function N(V,X,ee,ce){var _e=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return _e!==null?null:x(V,X,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case jv:return ee.key===_e?S(V,X,ee,ce):null;case Jd:return ee.key===_e?P(V,X,ee,ce):null;case dh:return _e=ee._init,N(V,X,_e(ee._payload),ce)}if(Ym(ee)||Tm(ee))return _e!==null?null:L(V,X,ee,ce,null);Jv(V,ee)}return null}function $(V,X,ee,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return V=V.get(ee)||null,x(X,V,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case jv:return V=V.get(ce.key===null?ee:ce.key)||null,S(X,V,ce,_e);case Jd:return V=V.get(ce.key===null?ee:ce.key)||null,P(X,V,ce,_e);case dh:var re=ce._init;return $(V,X,ee,re(ce._payload),_e)}if(Ym(ce)||Tm(ce))return V=V.get(ee)||null,L(X,V,ce,_e,null);Jv(X,ce)}return null}function q(V,X,ee,ce){for(var _e=null,re=null,Se=X,Le=X=0,Ze=null;Se!==null&&Le<ee.length;Le++){Se.index>Le?(Ze=Se,Se=null):Ze=Se.sibling;var ot=N(V,Se,ee[Le],ce);if(ot===null){Se===null&&(Se=Ze);break}e&&Se&&ot.alternate===null&&t(V,Se),X=l(ot,X,Le),re===null?_e=ot:re.sibling=ot,re=ot,Se=Ze}if(Le===ee.length)return n(V,Se),Mo&&SA(V,Le),_e;if(Se===null){for(;Le<ee.length;Le++)Se=F(V,ee[Le],ce),Se!==null&&(X=l(Se,X,Le),re===null?_e=Se:re.sibling=Se,re=Se);return Mo&&SA(V,Le),_e}for(Se=i(V,Se);Le<ee.length;Le++)Ze=$(Se,V,Le,ee[Le],ce),Ze!==null&&(e&&Ze.alternate!==null&&Se.delete(Ze.key===null?Le:Ze.key),X=l(Ze,X,Le),re===null?_e=Ze:re.sibling=Ze,re=Ze);return e&&Se.forEach(function(We){return t(V,We)}),Mo&&SA(V,Le),_e}function K(V,X,ee,ce){var _e=Tm(ee);if(typeof _e!="function")throw Error(tn(150));if(ee=_e.call(ee),ee==null)throw Error(tn(151));for(var re=_e=null,Se=X,Le=X=0,Ze=null,ot=ee.next();Se!==null&&!ot.done;Le++,ot=ee.next()){Se.index>Le?(Ze=Se,Se=null):Ze=Se.sibling;var We=N(V,Se,ot.value,ce);if(We===null){Se===null&&(Se=Ze);break}e&&Se&&We.alternate===null&&t(V,Se),X=l(We,X,Le),re===null?_e=We:re.sibling=We,re=We,Se=Ze}if(ot.done)return n(V,Se),Mo&&SA(V,Le),_e;if(Se===null){for(;!ot.done;Le++,ot=ee.next())ot=F(V,ot.value,ce),ot!==null&&(X=l(ot,X,Le),re===null?_e=ot:re.sibling=ot,re=ot);return Mo&&SA(V,Le),_e}for(Se=i(V,Se);!ot.done;Le++,ot=ee.next())ot=$(Se,V,Le,ot.value,ce),ot!==null&&(e&&ot.alternate!==null&&Se.delete(ot.key===null?Le:ot.key),X=l(ot,X,Le),re===null?_e=ot:re.sibling=ot,re=ot);return e&&Se.forEach(function(ut){return t(V,ut)}),Mo&&SA(V,Le),_e}function te(V,X,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===e0&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case jv:e:{for(var _e=ee.key,re=X;re!==null;){if(re.key===_e){if(_e=ee.type,_e===e0){if(re.tag===7){n(V,re.sibling),X=s(re,ee.props.children),X.return=V,V=X;break e}}else if(re.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===dh&&cE(_e)===re.type){n(V,re.sibling),X=s(re,ee.props),X.ref=Dm(V,re,ee),X.return=V,V=X;break e}n(V,re);break}else t(V,re);re=re.sibling}ee.type===e0?(X=RA(ee.props.children,V.mode,ce,ee.key),X.return=V,V=X):(ce=W1(ee.type,ee.key,ee.props,null,V.mode,ce),ce.ref=Dm(V,X,ee),ce.return=V,V=ce)}return a(V);case Jd:e:{for(re=ee.key;X!==null;){if(X.key===re)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){n(V,X.sibling),X=s(X,ee.children||[]),X.return=V,V=X;break e}else{n(V,X);break}else t(V,X);X=X.sibling}X=lw(ee,V.mode,ce),X.return=V,V=X}return a(V);case dh:return re=ee._init,te(V,X,re(ee._payload),ce)}if(Ym(ee))return q(V,X,ee,ce);if(Tm(ee))return K(V,X,ee,ce);Jv(V,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,X!==null&&X.tag===6?(n(V,X.sibling),X=s(X,ee),X.return=V,V=X):(n(V,X),X=sw(ee,V.mode,ce),X.return=V,V=X),a(V)):n(V,X)}return te}var T0=UT(!0),$T=UT(!1),uy={},xf=Hh(uy),Dg=Hh(uy),Rg=Hh(uy);function OA(e){if(e===uy)throw Error(tn(174));return e}function T4(e,t){switch(uo(Rg,t),uo(Dg,e),uo(xf,uy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:l3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=l3(t,e)}So(xf),uo(xf,t)}function I0(){So(xf),So(Dg),So(Rg)}function jT(e){OA(Rg.current);var t=OA(xf.current),n=l3(t,e.type);t!==n&&(uo(Dg,e),uo(xf,n))}function I4(e){Dg.current===e&&(So(xf),So(Dg))}var jo=Hh(0);function __(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tw=[];function M4(){for(var e=0;e<tw.length;e++)tw[e]._workInProgressVersionPrimary=null;tw.length=0}var V1=kp.ReactCurrentDispatcher,nw=kp.ReactCurrentBatchConfig,jA=0,Vo=null,Fa=null,Ja=null,x_=!1,ug=!1,Fg=0,nF=0;function Os(){throw Error(tn(321))}function O4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tc(e[n],t[n]))return!1;return!0}function L4(e,t,n,i,s,l){if(jA=l,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V1.current=e===null||e.memoizedState===null?aF:sF,e=n(i,s),ug){l=0;do{if(ug=!1,Fg=0,25<=l)throw Error(tn(301));l+=1,Ja=Fa=null,t.updateQueue=null,V1.current=lF,e=n(i,s)}while(ug)}if(V1.current=b_,t=Fa!==null&&Fa.next!==null,jA=0,Ja=Fa=Vo=null,x_=!1,t)throw Error(tn(300));return e}function D4(){var e=Fg!==0;return Fg=0,e}function df(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ja===null?Vo.memoizedState=Ja=e:Ja=Ja.next=e,Ja}function Fu(){if(Fa===null){var e=Vo.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=Ja===null?Vo.memoizedState:Ja.next;if(t!==null)Ja=t,Fa=e;else{if(e===null)throw Error(tn(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},Ja===null?Vo.memoizedState=Ja=e:Ja=Ja.next=e}return Ja}function Bg(e,t){return typeof t=="function"?t(e):t}function rw(e){var t=Fu(),n=t.queue;if(n===null)throw Error(tn(311));n.lastRenderedReducer=e;var i=Fa,s=i.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}i.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,i=i.baseState;var x=a=null,S=null,P=l;do{var L=P.lane;if((jA&L)===L)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var F={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(x=S=F,a=i):S=S.next=F,Vo.lanes|=L,VA|=L}P=P.next}while(P!==null&&P!==l);S===null?a=i:S.next=x,Tc(i,t.memoizedState)||(kl=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Vo.lanes|=l,VA|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function iw(e){var t=Fu(),n=t.queue;if(n===null)throw Error(tn(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Tc(l,t.memoizedState)||(kl=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function VT(){}function HT(e,t){var n=Vo,i=Fu(),s=t(),l=!Tc(i.memoizedState,s);if(l&&(i.memoizedState=s,kl=!0),i=i.queue,R4(QT.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||Ja!==null&&Ja.memoizedState.tag&1){if(n.flags|=2048,zg(9,GT.bind(null,n,i,s,t),void 0,null),es===null)throw Error(tn(349));jA&30||qT(n,t,s)}return s}function qT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function GT(e,t,n,i){t.value=n,t.getSnapshot=i,WT(t)&&KT(e)}function QT(e,t,n){return n(function(){WT(t)&&KT(e)})}function WT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tc(e,n)}catch{return!0}}function KT(e){var t=Sp(e,1);t!==null&&Ec(t,e,1,-1)}function fE(e){var t=df();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:e},t.queue=e,e=e.dispatch=oF.bind(null,Vo,e),[t.memoizedState,e]}function zg(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ZT(){return Fu().memoizedState}function H1(e,t,n,i){var s=df();Vo.flags|=e,s.memoizedState=zg(1|t,n,void 0,i===void 0?null:i)}function g2(e,t,n,i){var s=Fu();i=i===void 0?null:i;var l=void 0;if(Fa!==null){var a=Fa.memoizedState;if(l=a.destroy,i!==null&&O4(i,a.deps)){s.memoizedState=zg(t,n,l,i);return}}Vo.flags|=e,s.memoizedState=zg(1|t,n,l,i)}function pE(e,t){return H1(8390656,8,e,t)}function R4(e,t){return g2(2048,8,e,t)}function XT(e,t){return g2(4,2,e,t)}function YT(e,t){return g2(4,4,e,t)}function JT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eI(e,t,n){return n=n!=null?n.concat([e]):null,g2(4,4,JT.bind(null,t,e),n)}function F4(){}function tI(e,t){var n=Fu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&O4(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function nI(e,t){var n=Fu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&O4(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function rI(e,t,n){return jA&21?(Tc(n,t)||(n=aT(),Vo.lanes|=n,VA|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kl=!0),e.memoizedState=n)}function rF(e,t){var n=Oi;Oi=n!==0&&4>n?n:4,e(!0);var i=nw.transition;nw.transition={};try{e(!1),t()}finally{Oi=n,nw.transition=i}}function iI(){return Fu().memoizedState}function iF(e,t,n){var i=Lh(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},oI(e))aI(t,n);else if(n=FT(e,t,n,i),n!==null){var s=el();Ec(n,e,i,s),sI(n,t,i)}}function oF(e,t,n){var i=Lh(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(oI(e))aI(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,x=l(a,n);if(s.hasEagerState=!0,s.eagerState=x,Tc(x,a)){var S=t.interleaved;S===null?(s.next=s,k4(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}n=FT(e,t,s,i),n!==null&&(s=el(),Ec(n,e,i,s),sI(n,t,i))}}function oI(e){var t=e.alternate;return e===Vo||t!==null&&t===Vo}function aI(e,t){ug=x_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sI(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,h4(e,n)}}var b_={readContext:Ru,useCallback:Os,useContext:Os,useEffect:Os,useImperativeHandle:Os,useInsertionEffect:Os,useLayoutEffect:Os,useMemo:Os,useReducer:Os,useRef:Os,useState:Os,useDebugValue:Os,useDeferredValue:Os,useTransition:Os,useMutableSource:Os,useSyncExternalStore:Os,useId:Os,unstable_isNewReconciler:!1},aF={readContext:Ru,useCallback:function(e,t){return df().memoizedState=[e,t===void 0?null:t],e},useContext:Ru,useEffect:pE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,H1(4194308,4,JT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return H1(4194308,4,e,t)},useInsertionEffect:function(e,t){return H1(4,2,e,t)},useMemo:function(e,t){var n=df();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=df();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=iF.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){var t=df();return e={current:e},t.memoizedState=e},useState:fE,useDebugValue:F4,useDeferredValue:function(e){return df().memoizedState=e},useTransition:function(){var e=fE(!1),t=e[0];return e=rF.bind(null,e[1]),df().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Vo,s=df();if(Mo){if(n===void 0)throw Error(tn(407));n=n()}else{if(n=t(),es===null)throw Error(tn(349));jA&30||qT(i,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,pE(QT.bind(null,i,l,e),[e]),i.flags|=2048,zg(9,GT.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=df(),t=es.identifierPrefix;if(Mo){var n=vp,i=yp;n=(i&~(1<<32-Cc(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sF={readContext:Ru,useCallback:tI,useContext:Ru,useEffect:R4,useImperativeHandle:eI,useInsertionEffect:XT,useLayoutEffect:YT,useMemo:nI,useReducer:rw,useRef:ZT,useState:function(){return rw(Bg)},useDebugValue:F4,useDeferredValue:function(e){var t=Fu();return rI(t,Fa.memoizedState,e)},useTransition:function(){var e=rw(Bg)[0],t=Fu().memoizedState;return[e,t]},useMutableSource:VT,useSyncExternalStore:HT,useId:iI,unstable_isNewReconciler:!1},lF={readContext:Ru,useCallback:tI,useContext:Ru,useEffect:R4,useImperativeHandle:eI,useInsertionEffect:XT,useLayoutEffect:YT,useMemo:nI,useReducer:iw,useRef:ZT,useState:function(){return iw(Bg)},useDebugValue:F4,useDeferredValue:function(e){var t=Fu();return Fa===null?t.memoizedState=e:rI(t,Fa.memoizedState,e)},useTransition:function(){var e=iw(Bg)[0],t=Fu().memoizedState;return[e,t]},useMutableSource:VT,useSyncExternalStore:HT,useId:iI,unstable_isNewReconciler:!1};function M0(e,t){try{var n="",i=t;do n+=FR(i),i=i.return;while(i);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ow(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function M3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uF=typeof WeakMap=="function"?WeakMap:Map;function lI(e,t,n){n=xp(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){S_||(S_=!0,$3=i),M3(e,t)},n}function uI(e,t,n){n=xp(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){M3(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){M3(e,t),typeof i!="function"&&(Oh===null?Oh=new Set([this]):Oh.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function hE(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new uF;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=wF.bind(null,e,t,n),t.then(e,e))}function AE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dE(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xp(-1,1),t.tag=2,Mh(n,t,1))),n.lanes|=1),e)}var cF=kp.ReactCurrentOwner,kl=!1;function Js(e,t,n,i){t.child=e===null?$T(t,null,n,i):T0(t,e.child,n,i)}function mE(e,t,n,i,s){n=n.render;var l=t.ref;return v0(t,s),i=L4(e,t,n,i,l,s),n=D4(),e!==null&&!kl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cp(e,t,s)):(Mo&&n&&x4(t),t.flags|=1,Js(e,t,i,s),t.child)}function gE(e,t,n,i,s){if(e===null){var l=n.type;return typeof l=="function"&&!H4(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,cI(e,t,l,i,s)):(e=W1(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ig,n(a,i)&&e.ref===t.ref)return Cp(e,t,s)}return t.flags|=1,e=Dh(l,i),e.ref=t.ref,e.return=t,t.child=e}function cI(e,t,n,i,s){if(e!==null){var l=e.memoizedProps;if(Ig(l,i)&&e.ref===t.ref)if(kl=!1,t.pendingProps=i=l,(e.lanes&s)!==0)e.flags&131072&&(kl=!0);else return t.lanes=e.lanes,Cp(e,t,s)}return O3(e,t,n,i,s)}function fI(e,t,n){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},uo(c0,ql),ql|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,uo(c0,ql),ql|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,uo(c0,ql),ql|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,uo(c0,ql),ql|=i;return Js(e,t,s,n),t.child}function pI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O3(e,t,n,i,s){var l=Tl(n)?UA:Fs.current;return l=k0(t,l),v0(t,s),n=L4(e,t,n,i,l,s),i=D4(),e!==null&&!kl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cp(e,t,s)):(Mo&&i&&x4(t),t.flags|=1,Js(e,t,n,s),t.child)}function yE(e,t,n,i,s){if(Tl(n)){var l=!0;A_(t)}else l=!1;if(v0(t,s),t.stateNode===null)q1(e,t),NT(t,n,i),I3(t,n,i,s),i=!0;else if(e===null){var a=t.stateNode,x=t.memoizedProps;a.props=x;var S=a.context,P=n.contextType;typeof P=="object"&&P!==null?P=Ru(P):(P=Tl(n)?UA:Fs.current,P=k0(t,P));var L=n.getDerivedStateFromProps,F=typeof L=="function"||typeof a.getSnapshotBeforeUpdate=="function";F||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==i||S!==P)&&uE(t,a,i,P),mh=!1;var N=t.memoizedState;a.state=N,v_(t,i,a,s),S=t.memoizedState,x!==i||N!==S||Pl.current||mh?(typeof L=="function"&&(T3(t,n,L,i),S=t.memoizedState),(x=mh||lE(t,n,x,i,N,S,P))?(F||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),a.props=i,a.state=S,a.context=P,i=x):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,BT(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:xc(t.type,x),a.props=P,F=t.pendingProps,N=a.context,S=n.contextType,typeof S=="object"&&S!==null?S=Ru(S):(S=Tl(n)?UA:Fs.current,S=k0(t,S));var $=n.getDerivedStateFromProps;(L=typeof $=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==F||N!==S)&&uE(t,a,i,S),mh=!1,N=t.memoizedState,a.state=N,v_(t,i,a,s);var q=t.memoizedState;x!==F||N!==q||Pl.current||mh?(typeof $=="function"&&(T3(t,n,$,i),q=t.memoizedState),(P=mh||lE(t,n,P,i,N,q,S)||!1)?(L||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,q,S),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,q,S)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),a.props=i,a.state=q,a.context=S,i=P):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return L3(e,t,n,i,l,s)}function L3(e,t,n,i,s,l){pI(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&rE(t,n,!1),Cp(e,t,l);i=t.stateNode,cF.current=t;var x=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=T0(t,e.child,null,l),t.child=T0(t,null,x,l)):Js(e,t,x,l),t.memoizedState=i.state,s&&rE(t,n,!0),t.child}function hI(e){var t=e.stateNode;t.pendingContext?nE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nE(e,t.context,!1),T4(e,t.containerInfo)}function vE(e,t,n,i,s){return P0(),w4(s),t.flags|=256,Js(e,t,n,i),t.child}var D3={dehydrated:null,treeContext:null,retryLane:0};function R3(e){return{baseLanes:e,cachePool:null,transitions:null}}function AI(e,t,n){var i=t.pendingProps,s=jo.current,l=!1,a=(t.flags&128)!==0,x;if((x=a)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),uo(jo,s&1),e===null)return k3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,l?(i=t.mode,l=t.child,a={mode:"hidden",children:a},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=_2(a,i,0,null),e=RA(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=R3(n),t.memoizedState=D3,e):B4(t,a));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return fF(e,t,a,i,x,s,n);if(l){l=i.fallback,a=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Dh(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?l=Dh(x,l):(l=RA(l,a,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,a=e.child.memoizedState,a=a===null?R3(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=D3,i}return l=e.child,e=l.sibling,i=Dh(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function B4(e,t){return t=_2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function e1(e,t,n,i){return i!==null&&w4(i),T0(t,e.child,null,n),e=B4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fF(e,t,n,i,s,l,a){if(n)return t.flags&256?(t.flags&=-257,i=ow(Error(tn(422))),e1(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=_2({mode:"visible",children:i.children},s,0,null),l=RA(l,s,a,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&T0(t,e.child,null,a),t.child.memoizedState=R3(a),t.memoizedState=D3,l);if(!(t.mode&1))return e1(e,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,l=Error(tn(419)),i=ow(l,i,void 0),e1(e,t,a,i)}if(x=(a&e.childLanes)!==0,kl||x){if(i=es,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Sp(e,s),Ec(i,e,s,-1))}return V4(),i=ow(Error(tn(421))),e1(e,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=SF.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Gl=Ih(s.nextSibling),Zl=t,Mo=!0,wc=null,e!==null&&(ku[Pu++]=yp,ku[Pu++]=vp,ku[Pu++]=$A,yp=e.id,vp=e.overflow,$A=t),t=B4(t,i.children),t.flags|=4096,t)}function _E(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),P3(e.return,t,n)}function aw(e,t,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=s)}function dI(e,t,n){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(Js(e,t,i.children,n),i=jo.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_E(e,n,t);else if(e.tag===19)_E(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(uo(jo,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&__(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),aw(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&__(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}aw(t,!0,n,null,l);break;case"together":aw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function q1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cp(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),VA|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tn(153));if(t.child!==null){for(e=t.child,n=Dh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pF(e,t,n){switch(t.tag){case 3:hI(t),P0();break;case 5:jT(t);break;case 1:Tl(t.type)&&A_(t);break;case 4:T4(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;uo(g_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(uo(jo,jo.current&1),t.flags|=128,null):n&t.child.childLanes?AI(e,t,n):(uo(jo,jo.current&1),e=Cp(e,t,n),e!==null?e.sibling:null);uo(jo,jo.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return dI(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),uo(jo,jo.current),i)break;return null;case 22:case 23:return t.lanes=0,fI(e,t,n)}return Cp(e,t,n)}var mI,F3,gI,yI;mI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F3=function(){};gI=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,OA(xf.current);var l=null;switch(n){case"input":s=i3(e,s),i=i3(e,i),l=[];break;case"select":s=Ho({},s,{value:void 0}),i=Ho({},i,{value:void 0}),l=[];break;case"textarea":s=s3(e,s),i=s3(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=p_)}u3(n,i);var a;n=null;for(P in s)if(!i.hasOwnProperty(P)&&s.hasOwnProperty(P)&&s[P]!=null)if(P==="style"){var x=s[P];for(a in x)x.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(wg.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in i){var S=i[P];if(x=s!=null?s[P]:void 0,i.hasOwnProperty(P)&&S!==x&&(S!=null||x!=null))if(P==="style")if(x){for(a in x)!x.hasOwnProperty(a)||S&&S.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in S)S.hasOwnProperty(a)&&x[a]!==S[a]&&(n||(n={}),n[a]=S[a])}else n||(l||(l=[]),l.push(P,n)),n=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(l=l||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(l=l||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(wg.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&bo("scroll",e),l||x===S||(l=[])):(l=l||[]).push(P,S))}n&&(l=l||[]).push("style",n);var P=l;(t.updateQueue=P)&&(t.flags|=4)}};yI=function(e,t,n,i){n!==i&&(t.flags|=4)};function Rm(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ls(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function hF(e,t,n){var i=t.pendingProps;switch(b4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(t),null;case 1:return Tl(t.type)&&h_(),Ls(t),null;case 3:return i=t.stateNode,I0(),So(Pl),So(Fs),M4(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Yv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wc!==null&&(H3(wc),wc=null))),F3(e,t),Ls(t),null;case 5:I4(t);var s=OA(Rg.current);if(n=t.type,e!==null&&t.stateNode!=null)gI(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(tn(166));return Ls(t),null}if(e=OA(xf.current),Yv(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[gf]=t,i[Lg]=l,e=(t.mode&1)!==0,n){case"dialog":bo("cancel",i),bo("close",i);break;case"iframe":case"object":case"embed":bo("load",i);break;case"video":case"audio":for(s=0;s<eg.length;s++)bo(eg[s],i);break;case"source":bo("error",i);break;case"img":case"image":case"link":bo("error",i),bo("load",i);break;case"details":bo("toggle",i);break;case"input":T5(i,l),bo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},bo("invalid",i);break;case"textarea":M5(i,l),bo("invalid",i)}u3(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var x=l[a];a==="children"?typeof x=="string"?i.textContent!==x&&(l.suppressHydrationWarning!==!0&&Xv(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(l.suppressHydrationWarning!==!0&&Xv(i.textContent,x,e),s=["children",""+x]):wg.hasOwnProperty(a)&&x!=null&&a==="onScroll"&&bo("scroll",i)}switch(n){case"input":Vv(i),I5(i,l,!0);break;case"textarea":Vv(i),O5(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=p_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[gf]=t,e[Lg]=i,mI(e,t,!1,!1),t.stateNode=e;e:{switch(a=c3(n,i),n){case"dialog":bo("cancel",e),bo("close",e),s=i;break;case"iframe":case"object":case"embed":bo("load",e),s=i;break;case"video":case"audio":for(s=0;s<eg.length;s++)bo(eg[s],e);s=i;break;case"source":bo("error",e),s=i;break;case"img":case"image":case"link":bo("error",e),bo("load",e),s=i;break;case"details":bo("toggle",e),s=i;break;case"input":T5(e,i),s=i3(e,i),bo("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ho({},i,{value:void 0}),bo("invalid",e);break;case"textarea":M5(e,i),s=s3(e,i),bo("invalid",e);break;default:s=i}u3(n,s),x=s;for(l in x)if(x.hasOwnProperty(l)){var S=x[l];l==="style"?WP(e,S):l==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&GP(e,S)):l==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Sg(e,S):typeof S=="number"&&Sg(e,""+S):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wg.hasOwnProperty(l)?S!=null&&l==="onScroll"&&bo("scroll",e):S!=null&&s4(e,l,S,a))}switch(n){case"input":Vv(e),I5(e,i,!1);break;case"textarea":Vv(e),O5(e);break;case"option":i.value!=null&&e.setAttribute("value",""+zh(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?d0(e,!!i.multiple,l,!1):i.defaultValue!=null&&d0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=p_)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ls(t),null;case 6:if(e&&t.stateNode!=null)yI(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(tn(166));if(n=OA(Rg.current),OA(xf.current),Yv(t)){if(i=t.stateNode,n=t.memoizedProps,i[gf]=t,(l=i.nodeValue!==n)&&(e=Zl,e!==null))switch(e.tag){case 3:Xv(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xv(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[gf]=t,t.stateNode=i}return Ls(t),null;case 13:if(So(jo),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mo&&Gl!==null&&t.mode&1&&!(t.flags&128))RT(),P0(),t.flags|=98560,l=!1;else if(l=Yv(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(tn(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(tn(317));l[gf]=t}else P0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ls(t),l=!1}else wc!==null&&(H3(wc),wc=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||jo.current&1?Ba===0&&(Ba=3):V4())),t.updateQueue!==null&&(t.flags|=4),Ls(t),null);case 4:return I0(),F3(e,t),e===null&&Mg(t.stateNode.containerInfo),Ls(t),null;case 10:return E4(t.type._context),Ls(t),null;case 17:return Tl(t.type)&&h_(),Ls(t),null;case 19:if(So(jo),l=t.memoizedState,l===null)return Ls(t),null;if(i=(t.flags&128)!==0,a=l.rendering,a===null)if(i)Rm(l,!1);else{if(Ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=__(e),a!==null){for(t.flags|=128,Rm(l,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(jo,jo.current&1|2),t.child}e=e.sibling}l.tail!==null&&va()>O0&&(t.flags|=128,i=!0,Rm(l,!1),t.lanes=4194304)}else{if(!i)if(e=__(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rm(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Mo)return Ls(t),null}else 2*va()-l.renderingStartTime>O0&&n!==1073741824&&(t.flags|=128,i=!0,Rm(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=va(),t.sibling=null,n=jo.current,uo(jo,i?n&1|2:n&1),t):(Ls(t),null);case 22:case 23:return j4(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?ql&1073741824&&(Ls(t),t.subtreeFlags&6&&(t.flags|=8192)):Ls(t),null;case 24:return null;case 25:return null}throw Error(tn(156,t.tag))}function AF(e,t){switch(b4(t),t.tag){case 1:return Tl(t.type)&&h_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return I0(),So(Pl),So(Fs),M4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return I4(t),null;case 13:if(So(jo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tn(340));P0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return So(jo),null;case 4:return I0(),null;case 10:return E4(t.type._context),null;case 22:case 23:return j4(),null;case 24:return null;default:return null}}var t1=!1,Ds=!1,dF=typeof WeakSet=="function"?WeakSet:Set,In=null;function u0(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){oa(e,t,i)}else n.current=null}function B3(e,t,n){try{n()}catch(i){oa(e,t,i)}}var xE=!1;function mF(e,t){if(_3=u_,e=bT(),_4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,x=-1,S=-1,P=0,L=0,F=e,N=null;t:for(;;){for(var $;F!==n||s!==0&&F.nodeType!==3||(x=a+s),F!==l||i!==0&&F.nodeType!==3||(S=a+i),F.nodeType===3&&(a+=F.nodeValue.length),($=F.firstChild)!==null;)N=F,F=$;for(;;){if(F===e)break t;if(N===n&&++P===s&&(x=a),N===l&&++L===i&&(S=a),($=F.nextSibling)!==null)break;F=N,N=F.parentNode}F=$}n=x===-1||S===-1?null:{start:x,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(x3={focusedElem:e,selectionRange:n},u_=!1,In=t;In!==null;)if(t=In,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,In=e;else for(;In!==null;){t=In;try{var q=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var K=q.memoizedProps,te=q.memoizedState,V=t.stateNode,X=V.getSnapshotBeforeUpdate(t.elementType===t.type?K:xc(t.type,K),te);V.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tn(163))}}catch(ce){oa(t,t.return,ce)}if(e=t.sibling,e!==null){e.return=t.return,In=e;break}In=t.return}return q=xE,xE=!1,q}function cg(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&B3(t,n,l)}s=s.next}while(s!==i)}}function y2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function z3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vI(e){var t=e.alternate;t!==null&&(e.alternate=null,vI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gf],delete t[Lg],delete t[S3],delete t[Y7],delete t[J7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _I(e){return e.tag===5||e.tag===3||e.tag===4}function bE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_I(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N3(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=p_));else if(i!==4&&(e=e.child,e!==null))for(N3(e,t,n),e=e.sibling;e!==null;)N3(e,t,n),e=e.sibling}function U3(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(U3(e,t,n),e=e.sibling;e!==null;)U3(e,t,n),e=e.sibling}var gs=null,bc=!1;function ph(e,t,n){for(n=n.child;n!==null;)xI(e,t,n),n=n.sibling}function xI(e,t,n){if(_f&&typeof _f.onCommitFiberUnmount=="function")try{_f.onCommitFiberUnmount(c2,n)}catch{}switch(n.tag){case 5:Ds||u0(n,t);case 6:var i=gs,s=bc;gs=null,ph(e,t,n),gs=i,bc=s,gs!==null&&(bc?(e=gs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gs.removeChild(n.stateNode));break;case 18:gs!==null&&(bc?(e=gs,n=n.stateNode,e.nodeType===8?Jb(e.parentNode,n):e.nodeType===1&&Jb(e,n),Pg(e)):Jb(gs,n.stateNode));break;case 4:i=gs,s=bc,gs=n.stateNode.containerInfo,bc=!0,ph(e,t,n),gs=i,bc=s;break;case 0:case 11:case 14:case 15:if(!Ds&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&B3(n,t,a),s=s.next}while(s!==i)}ph(e,t,n);break;case 1:if(!Ds&&(u0(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){oa(n,t,x)}ph(e,t,n);break;case 21:ph(e,t,n);break;case 22:n.mode&1?(Ds=(i=Ds)||n.memoizedState!==null,ph(e,t,n),Ds=i):ph(e,t,n);break;default:ph(e,t,n)}}function wE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dF),t.forEach(function(i){var s=CF.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function yc(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var l=e,a=t,x=a;e:for(;x!==null;){switch(x.tag){case 5:gs=x.stateNode,bc=!1;break e;case 3:gs=x.stateNode.containerInfo,bc=!0;break e;case 4:gs=x.stateNode.containerInfo,bc=!0;break e}x=x.return}if(gs===null)throw Error(tn(160));xI(l,a,s),gs=null,bc=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(P){oa(s,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bI(t,e),t=t.sibling}function bI(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),ff(e),i&4){try{cg(3,e,e.return),y2(3,e)}catch(K){oa(e,e.return,K)}try{cg(5,e,e.return)}catch(K){oa(e,e.return,K)}}break;case 1:yc(t,e),ff(e),i&512&&n!==null&&u0(n,n.return);break;case 5:if(yc(t,e),ff(e),i&512&&n!==null&&u0(n,n.return),e.flags&32){var s=e.stateNode;try{Sg(s,"")}catch(K){oa(e,e.return,K)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&l.type==="radio"&&l.name!=null&&VP(s,l),c3(x,a);var P=c3(x,l);for(a=0;a<S.length;a+=2){var L=S[a],F=S[a+1];L==="style"?WP(s,F):L==="dangerouslySetInnerHTML"?GP(s,F):L==="children"?Sg(s,F):s4(s,L,F,P)}switch(x){case"input":o3(s,l);break;case"textarea":HP(s,l);break;case"select":var N=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var $=l.value;$!=null?d0(s,!!l.multiple,$,!1):N!==!!l.multiple&&(l.defaultValue!=null?d0(s,!!l.multiple,l.defaultValue,!0):d0(s,!!l.multiple,l.multiple?[]:"",!1))}s[Lg]=l}catch(K){oa(e,e.return,K)}}break;case 6:if(yc(t,e),ff(e),i&4){if(e.stateNode===null)throw Error(tn(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(K){oa(e,e.return,K)}}break;case 3:if(yc(t,e),ff(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Pg(t.containerInfo)}catch(K){oa(e,e.return,K)}break;case 4:yc(t,e),ff(e);break;case 13:yc(t,e),ff(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(U4=va())),i&4&&wE(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(Ds=(P=Ds)||L,yc(t,e),Ds=P):yc(t,e),ff(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!L&&e.mode&1)for(In=e,L=e.child;L!==null;){for(F=In=L;In!==null;){switch(N=In,$=N.child,N.tag){case 0:case 11:case 14:case 15:cg(4,N,N.return);break;case 1:u0(N,N.return);var q=N.stateNode;if(typeof q.componentWillUnmount=="function"){i=N,n=N.return;try{t=i,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(K){oa(i,n,K)}}break;case 5:u0(N,N.return);break;case 22:if(N.memoizedState!==null){CE(F);continue}}$!==null?($.return=N,In=$):CE(F)}L=L.sibling}e:for(L=null,F=e;;){if(F.tag===5){if(L===null){L=F;try{s=F.stateNode,P?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(x=F.stateNode,S=F.memoizedProps.style,a=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=QP("display",a))}catch(K){oa(e,e.return,K)}}}else if(F.tag===6){if(L===null)try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(K){oa(e,e.return,K)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;L===F&&(L=null),F=F.return}L===F&&(L=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:yc(t,e),ff(e),i&4&&wE(e);break;case 21:break;default:yc(t,e),ff(e)}}function ff(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_I(n)){var i=n;break e}n=n.return}throw Error(tn(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Sg(s,""),i.flags&=-33);var l=bE(e);U3(e,l,s);break;case 3:case 4:var a=i.stateNode.containerInfo,x=bE(e);N3(e,x,a);break;default:throw Error(tn(161))}}catch(S){oa(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gF(e,t,n){In=e,wI(e)}function wI(e,t,n){for(var i=(e.mode&1)!==0;In!==null;){var s=In,l=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||t1;if(!a){var x=s.alternate,S=x!==null&&x.memoizedState!==null||Ds;x=t1;var P=Ds;if(t1=a,(Ds=S)&&!P)for(In=s;In!==null;)a=In,S=a.child,a.tag===22&&a.memoizedState!==null?EE(s):S!==null?(S.return=a,In=S):EE(s);for(;l!==null;)In=l,wI(l),l=l.sibling;In=s,t1=x,Ds=P}SE(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,In=l):SE(e)}}function SE(e){for(;In!==null;){var t=In;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ds||y2(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ds)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xc(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&sE(t,l,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sE(t,a,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var F=L.dehydrated;F!==null&&Pg(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tn(163))}Ds||t.flags&512&&z3(t)}catch(N){oa(t,t.return,N)}}if(t===e){In=null;break}if(n=t.sibling,n!==null){n.return=t.return,In=n;break}In=t.return}}function CE(e){for(;In!==null;){var t=In;if(t===e){In=null;break}var n=t.sibling;if(n!==null){n.return=t.return,In=n;break}In=t.return}}function EE(e){for(;In!==null;){var t=In;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{y2(4,t)}catch(S){oa(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){oa(t,s,S)}}var l=t.return;try{z3(t)}catch(S){oa(t,l,S)}break;case 5:var a=t.return;try{z3(t)}catch(S){oa(t,a,S)}}}catch(S){oa(t,t.return,S)}if(t===e){In=null;break}var x=t.sibling;if(x!==null){x.return=t.return,In=x;break}In=t.return}}var yF=Math.ceil,w_=kp.ReactCurrentDispatcher,z4=kp.ReactCurrentOwner,Ou=kp.ReactCurrentBatchConfig,pi=0,es=null,Oa=null,vs=0,ql=0,c0=Hh(0),Ba=0,Ng=null,VA=0,v2=0,N4=0,fg=null,El=null,U4=0,O0=1/0,Ap=null,S_=!1,$3=null,Oh=null,n1=!1,wh=null,C_=0,pg=0,j3=null,G1=-1,Q1=0;function el(){return pi&6?va():G1!==-1?G1:G1=va()}function Lh(e){return e.mode&1?pi&2&&vs!==0?vs&-vs:tF.transition!==null?(Q1===0&&(Q1=aT()),Q1):(e=Oi,e!==0||(e=window.event,e=e===void 0?16:hT(e.type)),e):1}function Ec(e,t,n,i){if(50<pg)throw pg=0,j3=null,Error(tn(185));ay(e,n,i),(!(pi&2)||e!==es)&&(e===es&&(!(pi&2)&&(v2|=n),Ba===4&&_h(e,vs)),Il(e,i),n===1&&pi===0&&!(t.mode&1)&&(O0=va()+500,d2&&qh()))}function Il(e,t){var n=e.callbackNode;t7(e,t);var i=l_(e,e===es?vs:0);if(i===0)n!==null&&R5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&R5(n),t===1)e.tag===0?eF(kE.bind(null,e)):OT(kE.bind(null,e)),Z7(function(){!(pi&6)&&qh()}),n=null;else{switch(sT(i)){case 1:n=p4;break;case 4:n=iT;break;case 16:n=s_;break;case 536870912:n=oT;break;default:n=s_}n=MI(n,SI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function SI(e,t){if(G1=-1,Q1=0,pi&6)throw Error(tn(327));var n=e.callbackNode;if(_0()&&e.callbackNode!==n)return null;var i=l_(e,e===es?vs:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=E_(e,i);else{t=i;var s=pi;pi|=2;var l=EI();(es!==e||vs!==t)&&(Ap=null,O0=va()+500,DA(e,t));do try{xF();break}catch(x){CI(e,x)}while(1);C4(),w_.current=l,pi=s,Oa!==null?t=0:(es=null,vs=0,t=Ba)}if(t!==0){if(t===2&&(s=d3(e),s!==0&&(i=s,t=V3(e,s))),t===1)throw n=Ng,DA(e,0),_h(e,i),Il(e,va()),n;if(t===6)_h(e,i);else{if(s=e.current.alternate,!(i&30)&&!vF(s)&&(t=E_(e,i),t===2&&(l=d3(e),l!==0&&(i=l,t=V3(e,l))),t===1))throw n=Ng,DA(e,0),_h(e,i),Il(e,va()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(tn(345));case 2:CA(e,El,Ap);break;case 3:if(_h(e,i),(i&130023424)===i&&(t=U4+500-va(),10<t)){if(l_(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){el(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=w3(CA.bind(null,e,El,Ap),t);break}CA(e,El,Ap);break;case 4:if(_h(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-Cc(i);l=1<<a,a=t[a],a>s&&(s=a),i&=~l}if(i=s,i=va()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yF(i/1960))-i,10<i){e.timeoutHandle=w3(CA.bind(null,e,El,Ap),i);break}CA(e,El,Ap);break;case 5:CA(e,El,Ap);break;default:throw Error(tn(329))}}}return Il(e,va()),e.callbackNode===n?SI.bind(null,e):null}function V3(e,t){var n=fg;return e.current.memoizedState.isDehydrated&&(DA(e,t).flags|=256),e=E_(e,t),e!==2&&(t=El,El=n,t!==null&&H3(t)),e}function H3(e){El===null?El=e:El.push.apply(El,e)}function vF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],l=s.getSnapshot;s=s.value;try{if(!Tc(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _h(e,t){for(t&=~N4,t&=~v2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cc(t),i=1<<n;e[n]=-1,t&=~i}}function kE(e){if(pi&6)throw Error(tn(327));_0();var t=l_(e,0);if(!(t&1))return Il(e,va()),null;var n=E_(e,t);if(e.tag!==0&&n===2){var i=d3(e);i!==0&&(t=i,n=V3(e,i))}if(n===1)throw n=Ng,DA(e,0),_h(e,t),Il(e,va()),n;if(n===6)throw Error(tn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,CA(e,El,Ap),Il(e,va()),null}function $4(e,t){var n=pi;pi|=1;try{return e(t)}finally{pi=n,pi===0&&(O0=va()+500,d2&&qh())}}function HA(e){wh!==null&&wh.tag===0&&!(pi&6)&&_0();var t=pi;pi|=1;var n=Ou.transition,i=Oi;try{if(Ou.transition=null,Oi=1,e)return e()}finally{Oi=i,Ou.transition=n,pi=t,!(pi&6)&&qh()}}function j4(){ql=c0.current,So(c0)}function DA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,K7(n)),Oa!==null)for(n=Oa.return;n!==null;){var i=n;switch(b4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&h_();break;case 3:I0(),So(Pl),So(Fs),M4();break;case 5:I4(i);break;case 4:I0();break;case 13:So(jo);break;case 19:So(jo);break;case 10:E4(i.type._context);break;case 22:case 23:j4()}n=n.return}if(es=e,Oa=e=Dh(e.current,null),vs=ql=t,Ba=0,Ng=null,N4=v2=VA=0,El=fg=null,MA!==null){for(t=0;t<MA.length;t++)if(n=MA[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,i.next=a}n.pending=i}MA=null}return e}function CI(e,t){do{var n=Oa;try{if(C4(),V1.current=b_,x_){for(var i=Vo.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}x_=!1}if(jA=0,Ja=Fa=Vo=null,ug=!1,Fg=0,z4.current=null,n===null||n.return===null){Ba=1,Ng=t,Oa=null;break}e:{var l=e,a=n.return,x=n,S=t;if(t=vs,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,L=x,F=L.tag;if(!(L.mode&1)&&(F===0||F===11||F===15)){var N=L.alternate;N?(L.updateQueue=N.updateQueue,L.memoizedState=N.memoizedState,L.lanes=N.lanes):(L.updateQueue=null,L.memoizedState=null)}var $=AE(a);if($!==null){$.flags&=-257,dE($,a,x,l,t),$.mode&1&&hE(l,P,t),t=$,S=P;var q=t.updateQueue;if(q===null){var K=new Set;K.add(S),t.updateQueue=K}else q.add(S);break e}else{if(!(t&1)){hE(l,P,t),V4();break e}S=Error(tn(426))}}else if(Mo&&x.mode&1){var te=AE(a);if(te!==null){!(te.flags&65536)&&(te.flags|=256),dE(te,a,x,l,t),w4(M0(S,x));break e}}l=S=M0(S,x),Ba!==4&&(Ba=2),fg===null?fg=[l]:fg.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var V=lI(l,S,t);aE(l,V);break e;case 1:x=S;var X=l.type,ee=l.stateNode;if(!(l.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Oh===null||!Oh.has(ee)))){l.flags|=65536,t&=-t,l.lanes|=t;var ce=uI(l,x,t);aE(l,ce);break e}}l=l.return}while(l!==null)}PI(n)}catch(_e){t=_e,Oa===n&&n!==null&&(Oa=n=n.return);continue}break}while(1)}function EI(){var e=w_.current;return w_.current=b_,e===null?b_:e}function V4(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),es===null||!(VA&268435455)&&!(v2&268435455)||_h(es,vs)}function E_(e,t){var n=pi;pi|=2;var i=EI();(es!==e||vs!==t)&&(Ap=null,DA(e,t));do try{_F();break}catch(s){CI(e,s)}while(1);if(C4(),pi=n,w_.current=i,Oa!==null)throw Error(tn(261));return es=null,vs=0,Ba}function _F(){for(;Oa!==null;)kI(Oa)}function xF(){for(;Oa!==null&&!GR();)kI(Oa)}function kI(e){var t=II(e.alternate,e,ql);e.memoizedProps=e.pendingProps,t===null?PI(e):Oa=t,z4.current=null}function PI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AF(n,t),n!==null){n.flags&=32767,Oa=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Oa=null;return}}else if(n=hF(n,t,ql),n!==null){Oa=n;return}if(t=t.sibling,t!==null){Oa=t;return}Oa=t=e}while(t!==null);Ba===0&&(Ba=5)}function CA(e,t,n){var i=Oi,s=Ou.transition;try{Ou.transition=null,Oi=1,bF(e,t,n,i)}finally{Ou.transition=s,Oi=i}return null}function bF(e,t,n,i){do _0();while(wh!==null);if(pi&6)throw Error(tn(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(tn(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(n7(e,l),e===es&&(Oa=es=null,vs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||n1||(n1=!0,MI(s_,function(){return _0(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ou.transition,Ou.transition=null;var a=Oi;Oi=1;var x=pi;pi|=4,z4.current=null,mF(e,n),bI(n,e),j7(x3),u_=!!_3,x3=_3=null,e.current=n,gF(n),QR(),pi=x,Oi=a,Ou.transition=l}else e.current=n;if(n1&&(n1=!1,wh=e,C_=s),l=e.pendingLanes,l===0&&(Oh=null),ZR(n.stateNode),Il(e,va()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(S_)throw S_=!1,e=$3,$3=null,e;return C_&1&&e.tag!==0&&_0(),l=e.pendingLanes,l&1?e===j3?pg++:(pg=0,j3=e):pg=0,qh(),null}function _0(){if(wh!==null){var e=sT(C_),t=Ou.transition,n=Oi;try{if(Ou.transition=null,Oi=16>e?16:e,wh===null)var i=!1;else{if(e=wh,wh=null,C_=0,pi&6)throw Error(tn(331));var s=pi;for(pi|=4,In=e.current;In!==null;){var l=In,a=l.child;if(In.flags&16){var x=l.deletions;if(x!==null){for(var S=0;S<x.length;S++){var P=x[S];for(In=P;In!==null;){var L=In;switch(L.tag){case 0:case 11:case 15:cg(8,L,l)}var F=L.child;if(F!==null)F.return=L,In=F;else for(;In!==null;){L=In;var N=L.sibling,$=L.return;if(vI(L),L===P){In=null;break}if(N!==null){N.return=$,In=N;break}In=$}}}var q=l.alternate;if(q!==null){var K=q.child;if(K!==null){q.child=null;do{var te=K.sibling;K.sibling=null,K=te}while(K!==null)}}In=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,In=a;else e:for(;In!==null;){if(l=In,l.flags&2048)switch(l.tag){case 0:case 11:case 15:cg(9,l,l.return)}var V=l.sibling;if(V!==null){V.return=l.return,In=V;break e}In=l.return}}var X=e.current;for(In=X;In!==null;){a=In;var ee=a.child;if(a.subtreeFlags&2064&&ee!==null)ee.return=a,In=ee;else e:for(a=X;In!==null;){if(x=In,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:y2(9,x)}}catch(_e){oa(x,x.return,_e)}if(x===a){In=null;break e}var ce=x.sibling;if(ce!==null){ce.return=x.return,In=ce;break e}In=x.return}}if(pi=s,qh(),_f&&typeof _f.onPostCommitFiberRoot=="function")try{_f.onPostCommitFiberRoot(c2,e)}catch{}i=!0}return i}finally{Oi=n,Ou.transition=t}}return!1}function PE(e,t,n){t=M0(n,t),t=lI(e,t,1),e=Mh(e,t,1),t=el(),e!==null&&(ay(e,1,t),Il(e,t))}function oa(e,t,n){if(e.tag===3)PE(e,e,n);else for(;t!==null;){if(t.tag===3){PE(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oh===null||!Oh.has(i))){e=M0(n,e),e=uI(t,e,1),t=Mh(t,e,1),e=el(),t!==null&&(ay(t,1,e),Il(t,e));break}}t=t.return}}function wF(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,es===e&&(vs&n)===n&&(Ba===4||Ba===3&&(vs&130023424)===vs&&500>va()-U4?DA(e,0):N4|=n),Il(e,t)}function TI(e,t){t===0&&(e.mode&1?(t=Gv,Gv<<=1,!(Gv&130023424)&&(Gv=4194304)):t=1);var n=el();e=Sp(e,t),e!==null&&(ay(e,t,n),Il(e,n))}function SF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),TI(e,n)}function CF(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(tn(314))}i!==null&&i.delete(t),TI(e,n)}var II;II=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pl.current)kl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kl=!1,pF(e,t,n);kl=!!(e.flags&131072)}else kl=!1,Mo&&t.flags&1048576&&LT(t,m_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;q1(e,t),e=t.pendingProps;var s=k0(t,Fs.current);v0(t,n),s=L4(null,t,i,e,s,n);var l=D4();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tl(i)?(l=!0,A_(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,P4(t),s.updater=m2,t.stateNode=s,s._reactInternals=t,I3(t,i,e,n),t=L3(null,t,i,!0,l,n)):(t.tag=0,Mo&&l&&x4(t),Js(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(q1(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=kF(i),e=xc(i,e),s){case 0:t=O3(null,t,i,e,n);break e;case 1:t=yE(null,t,i,e,n);break e;case 11:t=mE(null,t,i,e,n);break e;case 14:t=gE(null,t,i,xc(i.type,e),n);break e}throw Error(tn(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xc(i,s),O3(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xc(i,s),yE(e,t,i,s,n);case 3:e:{if(hI(t),e===null)throw Error(tn(387));i=t.pendingProps,l=t.memoizedState,s=l.element,BT(e,t),v_(t,i,null,n);var a=t.memoizedState;if(i=a.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=M0(Error(tn(423)),t),t=vE(e,t,i,n,s);break e}else if(i!==s){s=M0(Error(tn(424)),t),t=vE(e,t,i,n,s);break e}else for(Gl=Ih(t.stateNode.containerInfo.firstChild),Zl=t,Mo=!0,wc=null,n=$T(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(P0(),i===s){t=Cp(e,t,n);break e}Js(e,t,i,n)}t=t.child}return t;case 5:return jT(t),e===null&&k3(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,b3(i,s)?a=null:l!==null&&b3(i,l)&&(t.flags|=32),pI(e,t),Js(e,t,a,n),t.child;case 6:return e===null&&k3(t),null;case 13:return AI(e,t,n);case 4:return T4(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=T0(t,null,i,n):Js(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xc(i,s),mE(e,t,i,s,n);case 7:return Js(e,t,t.pendingProps,n),t.child;case 8:return Js(e,t,t.pendingProps.children,n),t.child;case 12:return Js(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,uo(g_,i._currentValue),i._currentValue=a,l!==null)if(Tc(l.value,a)){if(l.children===s.children&&!Pl.current){t=Cp(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var x=l.dependencies;if(x!==null){a=l.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(l.tag===1){S=xp(-1,n&-n),S.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?S.next=S:(S.next=L.next,L.next=S),P.pending=S}}l.lanes|=n,S=l.alternate,S!==null&&(S.lanes|=n),P3(l.return,n,t),x.lanes|=n;break}S=S.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(tn(341));a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),P3(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Js(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,v0(t,n),s=Ru(s),i=i(s),t.flags|=1,Js(e,t,i,n),t.child;case 14:return i=t.type,s=xc(i,t.pendingProps),s=xc(i.type,s),gE(e,t,i,s,n);case 15:return cI(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:xc(i,s),q1(e,t),t.tag=1,Tl(i)?(e=!0,A_(t)):e=!1,v0(t,n),NT(t,i,s),I3(t,i,s,n),L3(null,t,i,!0,e,n);case 19:return dI(e,t,n);case 22:return fI(e,t,n)}throw Error(tn(156,t.tag))};function MI(e,t){return rT(e,t)}function EF(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,i){return new EF(e,t,n,i)}function H4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kF(e){if(typeof e=="function")return H4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u4)return 11;if(e===c4)return 14}return 2}function Dh(e,t){var n=e.alternate;return n===null?(n=Mu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function W1(e,t,n,i,s,l){var a=2;if(i=e,typeof e=="function")H4(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case e0:return RA(n.children,s,l,t);case l4:a=8,s|=8;break;case e3:return e=Mu(12,n,t,s|2),e.elementType=e3,e.lanes=l,e;case t3:return e=Mu(13,n,t,s),e.elementType=t3,e.lanes=l,e;case n3:return e=Mu(19,n,t,s),e.elementType=n3,e.lanes=l,e;case UP:return _2(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zP:a=10;break e;case NP:a=9;break e;case u4:a=11;break e;case c4:a=14;break e;case dh:a=16,i=null;break e}throw Error(tn(130,e==null?e:typeof e,""))}return t=Mu(a,n,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function RA(e,t,n,i){return e=Mu(7,e,i,t),e.lanes=n,e}function _2(e,t,n,i){return e=Mu(22,e,i,t),e.elementType=UP,e.lanes=n,e.stateNode={isHidden:!1},e}function sw(e,t,n){return e=Mu(6,e,null,t),e.lanes=n,e}function lw(e,t,n){return t=Mu(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PF(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jb(0),this.expirationTimes=jb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jb(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function q4(e,t,n,i,s,l,a,x,S){return e=new PF(e,t,n,x,S),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Mu(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P4(l),e}function TF(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jd,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function OI(e){if(!e)return Nh;e=e._reactInternals;e:{if(ZA(e)!==e||e.tag!==1)throw Error(tn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tn(171))}if(e.tag===1){var n=e.type;if(Tl(n))return MT(e,n,t)}return t}function LI(e,t,n,i,s,l,a,x,S){return e=q4(n,i,!0,e,s,l,a,x,S),e.context=OI(null),n=e.current,i=el(),s=Lh(n),l=xp(i,s),l.callback=t??null,Mh(n,l,s),e.current.lanes=s,ay(e,s,i),Il(e,i),e}function x2(e,t,n,i){var s=t.current,l=el(),a=Lh(s);return n=OI(n),t.context===null?t.context=n:t.pendingContext=n,t=xp(l,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Mh(s,t,a),e!==null&&(Ec(e,s,a,l),j1(e,s,a)),a}function k_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function G4(e,t){TE(e,t),(e=e.alternate)&&TE(e,t)}function IF(){return null}var DI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Q4(e){this._internalRoot=e}b2.prototype.render=Q4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tn(409));x2(e,t,null,null)};b2.prototype.unmount=Q4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;HA(function(){x2(null,e,null,null)}),t[wp]=null}};function b2(e){this._internalRoot=e}b2.prototype.unstable_scheduleHydration=function(e){if(e){var t=cT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&t!==0&&t<vh[n].priority;n++);vh.splice(n,0,e),n===0&&pT(e)}};function W4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IE(){}function MF(e,t,n,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var P=k_(a);l.call(P)}}var a=LI(t,i,e,0,null,!1,!1,"",IE);return e._reactRootContainer=a,e[wp]=a.current,Mg(e.nodeType===8?e.parentNode:e),HA(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var P=k_(S);x.call(P)}}var S=q4(e,0,!1,null,null,!1,!1,"",IE);return e._reactRootContainer=S,e[wp]=S.current,Mg(e.nodeType===8?e.parentNode:e),HA(function(){x2(t,S,n,i)}),S}function S2(e,t,n,i,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var x=s;s=function(){var S=k_(a);x.call(S)}}x2(t,a,e,s)}else a=MF(n,t,e,s,i);return k_(a)}lT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jm(t.pendingLanes);n!==0&&(h4(t,n|1),Il(t,va()),!(pi&6)&&(O0=va()+500,qh()))}break;case 13:HA(function(){var i=Sp(e,1);if(i!==null){var s=el();Ec(i,e,1,s)}}),G4(e,1)}};A4=function(e){if(e.tag===13){var t=Sp(e,134217728);if(t!==null){var n=el();Ec(t,e,134217728,n)}G4(e,134217728)}};uT=function(e){if(e.tag===13){var t=Lh(e),n=Sp(e,t);if(n!==null){var i=el();Ec(n,e,t,i)}G4(e,t)}};cT=function(){return Oi};fT=function(e,t){var n=Oi;try{return Oi=e,t()}finally{Oi=n}};p3=function(e,t,n){switch(t){case"input":if(o3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=A2(i);if(!s)throw Error(tn(90));jP(i),o3(i,s)}}}break;case"textarea":HP(e,n);break;case"select":t=n.value,t!=null&&d0(e,!!n.multiple,t,!1)}};XP=$4;YP=HA;var OF={usingClientEntryPoint:!1,Events:[ly,i0,A2,KP,ZP,$4]},Fm={findFiberByHostInstance:IA,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LF={bundleType:Fm.bundleType,version:Fm.version,rendererPackageName:Fm.rendererPackageName,rendererConfig:Fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kp.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tT(e),e===null?null:e.stateNode},findFiberByHostInstance:Fm.findFiberByHostInstance||IF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r1.isDisabled&&r1.supportsFiber)try{c2=r1.inject(LF),_f=r1}catch{}}Yl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OF;Yl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W4(t))throw Error(tn(200));return TF(e,t,null,n)};Yl.createRoot=function(e,t){if(!W4(e))throw Error(tn(299));var n=!1,i="",s=DI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=q4(e,1,!1,null,null,n,!1,i,s),e[wp]=t.current,Mg(e.nodeType===8?e.parentNode:e),new Q4(t)};Yl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tn(188)):(e=Object.keys(e).join(","),Error(tn(268,e)));return e=tT(t),e=e===null?null:e.stateNode,e};Yl.flushSync=function(e){return HA(e)};Yl.hydrate=function(e,t,n){if(!w2(t))throw Error(tn(200));return S2(null,e,t,!0,n)};Yl.hydrateRoot=function(e,t,n){if(!W4(e))throw Error(tn(405));var i=n!=null&&n.hydratedSources||null,s=!1,l="",a=DI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=LI(t,null,e,1,n??null,s,!1,l,a),e[wp]=t.current,Mg(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new b2(t)};Yl.render=function(e,t,n){if(!w2(t))throw Error(tn(200));return S2(null,e,t,!1,n)};Yl.unmountComponentAtNode=function(e){if(!w2(e))throw Error(tn(40));return e._reactRootContainer?(HA(function(){S2(null,null,e,!1,function(){e._reactRootContainer=null,e[wp]=null})}),!0):!1};Yl.unstable_batchedUpdates=$4;Yl.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!w2(n))throw Error(tn(200));if(e==null||e._reactInternals===void 0)throw Error(tn(38));return S2(e,t,n,!1,i)};Yl.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Yl})(IR);const i1=e4(bg);var K4,ME=bg;K4=Xw.createRoot=ME.createRoot,Xw.hydrateRoot=ME.hydrateRoot;var Z4={};Object.defineProperty(Z4,"__esModule",{value:!0});Z4.getDomContainer=DF;function DF(e){if(!e)return OE();var t=document.querySelector(e);return t||(console.warn('Query selector "'.concat(e,`" doesn't match any existing DOM element. `)+"Are you using a custom HTML template? "+'Add an element matching "'.concat(e,'" to your template or change the containerQuerySelector setting.')),OE())}function OE(){return document.getElementById("root")||RF()}function RF(){var e=document.createElement("div");return e.setAttribute("id","root"),document.body.appendChild(e),e}var X4={},P_={},FF={get exports(){return P_},set exports(e){P_=e}},RI={},C2={},Y4={},J4={},ts={},BF={get exports(){return ts},set exports(e){ts=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,i="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",x="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",P=500,L="__lodash_placeholder__",F=1,N=2,$=4,q=1,K=2,te=1,V=2,X=4,ee=8,ce=16,_e=32,re=64,Se=128,Le=256,Ze=512,ot=30,We="...",ut=800,yt=16,Bt=1,Yt=2,pn=3,xn=1/0,at=9007199254740991,Me=17976931348623157e292,Oe=0/0,oe=4294967295,ge=oe-1,Mt=oe>>>1,un=[["ary",Se],["bind",te],["bindKey",V],["curry",ee],["curryRight",ce],["flip",Ze],["partial",_e],["partialRight",re],["rearg",Le]],wn="[object Arguments]",dn="[object Array]",Cn="[object AsyncFunction]",$n="[object Boolean]",Fn="[object Date]",Xr="[object DOMException]",jr="[object Error]",Fi="[object Function]",jn="[object GeneratorFunction]",mi="[object Map]",gi="[object Number]",Go="[object Null]",Bi="[object Object]",Wi="[object Promise]",bs="[object Proxy]",ro="[object RegExp]",Wr="[object Set]",Lo="[object String]",io="[object Symbol]",bi="[object Undefined]",Do="[object WeakMap]",la="[object WeakSet]",vt="[object ArrayBuffer]",be="[object DataView]",Je="[object Float32Array]",Ct="[object Float64Array]",an="[object Int8Array]",Gn="[object Int16Array]",Or="[object Int32Array]",On="[object Uint8Array]",nr="[object Uint8ClampedArray]",Vr="[object Uint16Array]",Yr="[object Uint32Array]",mr=/\b__p \+= '';/g,Co=/\b(__p \+=) '' \+/g,Jr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ua=/&(?:amp|lt|gt|quot|#39);/g,La=/[&<>"']/g,Vt=RegExp(ua.source),Ei=RegExp(La.source),Nr=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,se=/<%=([\s\S]+?)%>/g,pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ye=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,He=RegExp(Ue.source),Ne=/^\s+/,xe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,A=/[()=,{}\[\]\/\s]/,me=/\\(\\)?/g,Ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,hn=/^0o[0-7]+$/i,cn=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",gr="\\u0300-\\u036f",lr="\\ufe20-\\ufe2f",vr="\\u20d0-\\u20ff",hi=gr+lr+vr,Sr="\\u2700-\\u27bf",Zt="a-z\\xdf-\\xf6\\xf8-\\xff",qe="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",il="\\u2000-\\u206f",Lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oo="A-Z\\xc0-\\xd6\\xd8-\\xde",Qo="\\ufe0e\\ufe0f",Dc=qe+bn+il+Lc,De="[']",ao="["+Rr+"]",os="["+Dc+"]",ca="["+hi+"]",ai="\\d+",fa="["+Sr+"]",Eo="["+Zt+"]",Wo="[^"+Rr+Dc+ai+Sr+Zt+oo+"]",as="\\ud83c[\\udffb-\\udfff]",Tf="(?:"+ca+"|"+as+")",zi="[^"+Rr+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",ss="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+oo+"]",Ni="\\u200d",Ml="(?:"+Eo+"|"+Wo+")",qu="(?:"+wi+"|"+Wo+")",Ip="(?:"+De+"(?:d|ll|m|re|s|t|ve))?",Mp="(?:"+De+"(?:D|LL|M|RE|S|T|VE))?",ui=Tf+"?",Rc="["+Qo+"]?",If="(?:"+Ni+"(?:"+[zi,ki,ss].join("|")+")"+Rc+ui+")*",Wh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gu=Rc+ui+If,Qu="(?:"+[fa,ki,ss].join("|")+")"+Gu,Ol="(?:"+[zi+ca+"?",ca,ki,ss,ao].join("|")+")",Fc=RegExp(De,"g"),Bc=RegExp(ca,"g"),Wu=RegExp(as+"(?="+as+")|"+Ol+Gu,"g"),Ko=RegExp([wi+"?"+Eo+"+"+Ip+"(?="+[os,wi,"$"].join("|")+")",qu+"+"+Mp+"(?="+[os,wi+Ml,"$"].join("|")+")",wi+"?"+Ml+"+"+Ip,wi+"+"+Mp,Mf,Wh,ai,Qu].join("|"),"g"),ol=RegExp("["+Ni+Rr+hi+Qo+"]"),ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],al=-1,Ur={};Ur[Je]=Ur[Ct]=Ur[an]=Ur[Gn]=Ur[Or]=Ur[On]=Ur[nr]=Ur[Vr]=Ur[Yr]=!0,Ur[wn]=Ur[dn]=Ur[vt]=Ur[$n]=Ur[be]=Ur[Fn]=Ur[jr]=Ur[Fi]=Ur[mi]=Ur[gi]=Ur[Bi]=Ur[ro]=Ur[Wr]=Ur[Lo]=Ur[Do]=!1;var Qn={};Qn[wn]=Qn[dn]=Qn[vt]=Qn[be]=Qn[$n]=Qn[Fn]=Qn[Je]=Qn[Ct]=Qn[an]=Qn[Gn]=Qn[Or]=Qn[mi]=Qn[gi]=Qn[Bi]=Qn[ro]=Qn[Wr]=Qn[Lo]=Qn[io]=Qn[On]=Qn[nr]=Qn[Vr]=Qn[Yr]=!0,Qn[jr]=Qn[Fi]=Qn[Do]=!1;var Ro={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Of={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nc=parseFloat,Op=parseInt,ru=typeof Iu=="object"&&Iu&&Iu.Object===Object&&Iu,iu=typeof self=="object"&&self&&self.Object===Object&&self,yi=ru||iu||Function("return this")(),ou=t&&!t.nodeType&&t,zs=ou&&!0&&e&&!e.nodeType&&e,au=zs&&zs.exports===ou,Ns=au&&ru.process,Pi=function(){try{var nt=zs&&zs.require&&zs.require("util").types;return nt||Ns&&Ns.binding&&Ns.binding("util")}catch{}}(),Ll=Pi&&Pi.isArrayBuffer,Uc=Pi&&Pi.isDate,Ki=Pi&&Pi.isMap,$c=Pi&&Pi.isRegExp,Us=Pi&&Pi.isSet,Ss=Pi&&Pi.isTypedArray;function co(nt,Tt,xt){switch(xt.length){case 0:return nt.call(Tt);case 1:return nt.call(Tt,xt[0]);case 2:return nt.call(Tt,xt[0],xt[1]);case 3:return nt.call(Tt,xt[0],xt[1],xt[2])}return nt.apply(Tt,xt)}function Dl(nt,Tt,xt,Ht){for(var er=-1,Cr=nt==null?0:nt.length;++er<Cr;){var ti=nt[er];Tt(Ht,ti,xt(ti),nt)}return Ht}function fo(nt,Tt){for(var xt=-1,Ht=nt==null?0:nt.length;++xt<Ht&&Tt(nt[xt],xt,nt)!==!1;);return nt}function ls(nt,Tt){for(var xt=nt==null?0:nt.length;xt--&&Tt(nt[xt],xt,nt)!==!1;);return nt}function sl(nt,Tt){for(var xt=-1,Ht=nt==null?0:nt.length;++xt<Ht;)if(!Tt(nt[xt],xt,nt))return!1;return!0}function Zo(nt,Tt){for(var xt=-1,Ht=nt==null?0:nt.length,er=0,Cr=[];++xt<Ht;){var ti=nt[xt];Tt(ti,xt,nt)&&(Cr[er++]=ti)}return Cr}function su(nt,Tt){var xt=nt==null?0:nt.length;return!!xt&&Rl(nt,Tt,0)>-1}function Fr(nt,Tt,xt){for(var Ht=-1,er=nt==null?0:nt.length;++Ht<er;)if(xt(Tt,nt[Ht]))return!0;return!1}function ei(nt,Tt){for(var xt=-1,Ht=nt==null?0:nt.length,er=Array(Ht);++xt<Ht;)er[xt]=Tt(nt[xt],xt,nt);return er}function Ua(nt,Tt){for(var xt=-1,Ht=Tt.length,er=nt.length;++xt<Ht;)nt[er+xt]=Tt[xt];return nt}function Ku(nt,Tt,xt,Ht){var er=-1,Cr=nt==null?0:nt.length;for(Ht&&Cr&&(xt=nt[++er]);++er<Cr;)xt=Tt(xt,nt[er],er,nt);return xt}function lu(nt,Tt,xt,Ht){var er=nt==null?0:nt.length;for(Ht&&er&&(xt=nt[--er]);er--;)xt=Tt(xt,nt[er],er,nt);return xt}function $s(nt,Tt){for(var xt=-1,Ht=nt==null?0:nt.length;++xt<Ht;)if(Tt(nt[xt],xt,nt))return!0;return!1}var Lp=Xu("length");function Zu(nt){return nt.split("")}function ll(nt){return nt.match(Ge)||[]}function js(nt,Tt,xt){var Ht;return xt(nt,function(er,Cr,ti){if(Tt(er,Cr,ti))return Ht=Cr,!1}),Ht}function Vs(nt,Tt,xt,Ht){for(var er=nt.length,Cr=xt+(Ht?1:-1);Ht?Cr--:++Cr<er;)if(Tt(nt[Cr],Cr,nt))return Cr;return-1}function Rl(nt,Tt,xt){return Tt===Tt?Xo(nt,Tt,xt):Vs(nt,jc,xt)}function Dp(nt,Tt,xt,Ht){for(var er=xt-1,Cr=nt.length;++er<Cr;)if(Ht(nt[er],Tt))return er;return-1}function jc(nt){return nt!==nt}function ul(nt,Tt){var xt=nt==null?0:nt.length;return xt?Yu(nt,Tt)/xt:Oe}function Xu(nt){return function(Tt){return Tt==null?n:Tt[nt]}}function _a(nt){return function(Tt){return nt==null?n:nt[Tt]}}function Fl(nt,Tt,xt,Ht,er){return er(nt,function(Cr,ti,Ln){xt=Ht?(Ht=!1,Cr):Tt(xt,Cr,ti,Ln)}),xt}function Vc(nt,Tt){var xt=nt.length;for(nt.sort(Tt);xt--;)nt[xt]=nt[xt].value;return nt}function Yu(nt,Tt){for(var xt,Ht=-1,er=nt.length;++Ht<er;){var Cr=Tt(nt[Ht]);Cr!==n&&(xt=xt===n?Cr:xt+Cr)}return xt}function Hr(nt,Tt){for(var xt=-1,Ht=Array(nt);++xt<nt;)Ht[xt]=Tt(xt);return Ht}function Hc(nt,Tt){return ei(Tt,function(xt){return[xt,nt[xt]]})}function Lf(nt){return nt&&nt.slice(0,cs(nt)+1).replace(Ne,"")}function ko(nt){return function(Tt){return nt(Tt)}}function qc(nt,Tt){return ei(Tt,function(xt){return nt[xt]})}function uu(nt,Tt){return nt.has(Tt)}function cl(nt,Tt){for(var xt=-1,Ht=nt.length;++xt<Ht&&Rl(Tt,nt[xt],0)>-1;);return xt}function Df(nt,Tt){for(var xt=nt.length;xt--&&Rl(Tt,nt[xt],0)>-1;);return xt}function po(nt,Tt){for(var xt=nt.length,Ht=0;xt--;)nt[xt]===Tt&&++Ht;return Ht}var Ui=_a(Ro),Gc=_a(Tr);function Ju(nt){return"\\"+Of[nt]}function cu(nt,Tt){return nt==null?n:nt[Tt]}function fl(nt){return ol.test(nt)}function ec(nt){return ws.test(nt)}function Si(nt){for(var Tt,xt=[];!(Tt=nt.next()).done;)xt.push(Tt.value);return xt}function fu(nt){var Tt=-1,xt=Array(nt.size);return nt.forEach(function(Ht,er){xt[++Tt]=[er,Ht]}),xt}function Cs(nt,Tt){return function(xt){return nt(Tt(xt))}}function Es(nt,Tt){for(var xt=-1,Ht=nt.length,er=0,Cr=[];++xt<Ht;){var ti=nt[xt];(ti===Tt||ti===L)&&(nt[xt]=L,Cr[er++]=xt)}return Cr}function $a(nt){var Tt=-1,xt=Array(nt.size);return nt.forEach(function(Ht){xt[++Tt]=Ht}),xt}function tc(nt){var Tt=-1,xt=Array(nt.size);return nt.forEach(function(Ht){xt[++Tt]=[Ht,Ht]}),xt}function Xo(nt,Tt,xt){for(var Ht=xt-1,er=nt.length;++Ht<er;)if(nt[Ht]===Tt)return Ht;return-1}function Rp(nt,Tt,xt){for(var Ht=xt+1;Ht--;)if(nt[Ht]===Tt)return Ht;return Ht}function us(nt){return fl(nt)?Fp(nt):Lp(nt)}function pa(nt){return fl(nt)?Rf(nt):Zu(nt)}function cs(nt){for(var Tt=nt.length;Tt--&&xe.test(nt.charAt(Tt)););return Tt}var Hs=_a(nu);function Fp(nt){for(var Tt=Wu.lastIndex=0;Wu.test(nt);)++Tt;return Tt}function Rf(nt){return nt.match(Wu)||[]}function Qc(nt){return nt.match(Ko)||[]}var pu=function nt(Tt){Tt=Tt==null?yi:qs.defaults(yi.Object(),Tt,qs.pick(yi,zc));var xt=Tt.Array,Ht=Tt.Date,er=Tt.Error,Cr=Tt.Function,ti=Tt.Math,Ln=Tt.Object,cr=Tt.RegExp,Bl=Tt.String,$i=Tt.TypeError,hu=xt.prototype,xa=Cr.prototype,fs=Ln.prototype,Wc=Tt["__core-js_shared__"],pl=xa.toString,$r=fs.hasOwnProperty,nc=0,Po=function(){var d=/[^.]+$/.exec(Wc&&Wc.keys&&Wc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ho=fs.toString,Ff=pl.call(Ln),Zi=yi._,ba=cr("^"+pl.call($r).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rn=au?Tt.Buffer:n,ja=Tt.Symbol,Gs=Tt.Uint8Array,Qs=rn?rn.allocUnsafe:n,Fo=Cs(Ln.getPrototypeOf,Ln),Au=Ln.create,Yo=fs.propertyIsEnumerable,sn=hu.splice,rc=ja?ja.isConcatSpreadable:n,Ws=ja?ja.iterator:n,Ao=ja?ja.toStringTag:n,Er=function(){try{var d=of(Ln,"defineProperty");return d({},"",{}),d}catch{}}(),Kc=Tt.clearTimeout!==yi.clearTimeout&&Tt.clearTimeout,Bp=Ht&&Ht.now!==yi.Date.now&&Ht.now,Bf=Tt.setTimeout!==yi.setTimeout&&Tt.setTimeout,mo=ti.ceil,Va=ti.floor,zl=Ln.getOwnPropertySymbols,Zc=rn?rn.isBuffer:n,Xc=Tt.isFinite,ps=hu.join,zp=Cs(Ln.keys,Ln),ir=ti.max,Wn=ti.min,ha=Ht.now,Ti=Tt.parseInt,Bn=ti.random,Bo=hu.reverse,Ha=of(Tt,"DataView"),Jo=of(Tt,"Map"),ea=of(Tt,"Promise"),qa=of(Tt,"Set"),Qt=of(Tt,"WeakMap"),dt=of(Ln,"create"),Xt=Qt&&new Qt,To={},Ga=lf(Ha),zo=lf(Jo),ji=lf(ea),Np=lf(qa),ta=lf(Qt),h=ja?ja.prototype:n,m=h?h.valueOf:n,v=h?h.toString:n;function _(d){if(Qi(d)&&!Xn(d)&&!(d instanceof z)){if(d instanceof I)return d;if($r.call(d,"__wrapped__"))return Jy(d)}return new I(d)}var k=function(){function d(){}return function(w){if(!fi(w))return{};if(Au)return Au(w);d.prototype=w;var D=new d;return d.prototype=n,D}}();function M(){}function I(d,w){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}_.templateSettings={escape:Nr,evaluate:J,interpolate:se,variable:"",imports:{_}},_.prototype=M.prototype,_.prototype.constructor=_,I.prototype=k(M.prototype),I.prototype.constructor=I;function z(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function Q(){var d=new z(this.__wrapped__);return d.__actions__=Ps(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ps(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ps(this.__views__),d}function ie(){if(this.__filtered__){var d=new z(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function fe(){var d=this.__wrapped__.value(),w=this.__dir__,D=Xn(d),H=w<0,le=D?d.length:0,we=Xx(0,le,this.__views__),$e=we.start,Ye=we.end,lt=Ye-$e,Dt=H?Ye:$e-1,Ft=this.__iteratees__,qt=Ft.length,Sn=0,Nn=Wn(lt,this.__takeCount__);if(!D||!H&&le==lt&&Nn==lt)return Yh(d,this.__actions__);var ar=[];e:for(;lt--&&Sn<Nn;){Dt+=w;for(var Br=-1,sr=d[Dt];++Br<qt;){var Qr=Ft[Br],ii=Qr.iteratee,$l=Qr.type,Xs=ii(sr);if($l==Yt)sr=Xs;else if(!Xs){if($l==Bt)continue e;break e}}ar[Sn++]=sr}return ar}z.prototype=k(M.prototype),z.prototype.constructor=z;function Fe(d){var w=-1,D=d==null?0:d.length;for(this.clear();++w<D;){var H=d[w];this.set(H[0],H[1])}}function Ke(){this.__data__=dt?dt(null):{},this.size=0}function it(d){var w=this.has(d)&&delete this.__data__[d];return this.size-=w?1:0,w}function wt(d){var w=this.__data__;if(dt){var D=w[d];return D===S?n:D}return $r.call(w,d)?w[d]:n}function Et(d){var w=this.__data__;return dt?w[d]!==n:$r.call(w,d)}function Nt(d,w){var D=this.__data__;return this.size+=this.has(d)?0:1,D[d]=dt&&w===n?S:w,this}Fe.prototype.clear=Ke,Fe.prototype.delete=it,Fe.prototype.get=wt,Fe.prototype.has=Et,Fe.prototype.set=Nt;function ln(d){var w=-1,D=d==null?0:d.length;for(this.clear();++w<D;){var H=d[w];this.set(H[0],H[1])}}function mt(){this.__data__=[],this.size=0}function Lt(d){var w=this.__data__,D=At(w,d);if(D<0)return!1;var H=w.length-1;return D==H?w.pop():sn.call(w,D,1),--this.size,!0}function Xe(d){var w=this.__data__,D=At(w,d);return D<0?n:w[D][1]}function vn(d){return At(this.__data__,d)>-1}function _n(d,w){var D=this.__data__,H=At(D,d);return H<0?(++this.size,D.push([d,w])):D[H][1]=w,this}ln.prototype.clear=mt,ln.prototype.delete=Lt,ln.prototype.get=Xe,ln.prototype.has=vn,ln.prototype.set=_n;function Wt(d){var w=-1,D=d==null?0:d.length;for(this.clear();++w<D;){var H=d[w];this.set(H[0],H[1])}}function c(){this.size=0,this.__data__={hash:new Fe,map:new(Jo||ln),string:new Fe}}function p(d){var w=Gf(this,d).delete(d);return this.size-=w?1:0,w}function f(d){return Gf(this,d).get(d)}function y(d){return Gf(this,d).has(d)}function E(d,w){var D=Gf(this,d),H=D.size;return D.set(d,w),this.size+=D.size==H?0:1,this}Wt.prototype.clear=c,Wt.prototype.delete=p,Wt.prototype.get=f,Wt.prototype.has=y,Wt.prototype.set=E;function O(d){var w=-1,D=d==null?0:d.length;for(this.__data__=new Wt;++w<D;)this.add(d[w])}function R(d){return this.__data__.set(d,S),this}function U(d){return this.__data__.has(d)}O.prototype.add=O.prototype.push=R,O.prototype.has=U;function G(d){var w=this.__data__=new ln(d);this.size=w.size}function ne(){this.__data__=new ln,this.size=0}function Ae(d){var w=this.__data__,D=w.delete(d);return this.size=w.size,D}function ve(d){return this.__data__.get(d)}function de(d){return this.__data__.has(d)}function Ie(d,w){var D=this.__data__;if(D instanceof ln){var H=D.__data__;if(!Jo||H.length<s-1)return H.push([d,w]),this.size=++D.size,this;D=this.__data__=new Wt(H)}return D.set(d,w),this.size=D.size,this}G.prototype.clear=ne,G.prototype.delete=Ae,G.prototype.get=ve,G.prototype.has=de,G.prototype.set=Ie;function Pe(d,w){var D=Xn(d),H=!D&&pr(d),le=!D&&!H&&ga(d),we=!D&&!H&&!le&&Nl(d),$e=D||H||le||we,Ye=$e?Hr(d.length,Bl):[],lt=Ye.length;for(var Dt in d)(w||$r.call(d,Dt))&&!($e&&(Dt=="length"||le&&(Dt=="offset"||Dt=="parent")||we&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||yl(Dt,lt)))&&Ye.push(Dt);return Ye}function ze(d){var w=d.length;return w?d[K0(0,w-1)]:n}function ke(d,w){return rA(Ps(d),Jt(w,0,d.length))}function Be(d){return rA(Ps(d))}function Qe(d,w,D){(D!==n&&!Ir(d[w],D)||D===n&&!(w in d))&&zt(d,w,D)}function et(d,w,D){var H=d[w];(!($r.call(d,w)&&Ir(H,D))||D===n&&!(w in d))&&zt(d,w,D)}function At(d,w){for(var D=d.length;D--;)if(Ir(d[D][0],w))return D;return-1}function ht(d,w,D,H){return Dn(d,function(le,we,$e){w(H,le,D(le),$e)}),H}function gt(d,w){return d&&yu(w,Pa(w),d)}function Pt(d,w){return d&&yu(w,ds(w),d)}function zt(d,w,D){w=="__proto__"&&Er?Er(d,w,{configurable:!0,enumerable:!0,value:D,writable:!0}):d[w]=D}function Rt(d,w){for(var D=-1,H=w.length,le=xt(H),we=d==null;++D<H;)le[D]=we?n:Ld(d,w[D]);return le}function Jt(d,w,D){return d===d&&(D!==n&&(d=d<=D?d:D),w!==n&&(d=d>=w?d:w)),d}function mn(d,w,D,H,le,we){var $e,Ye=w&F,lt=w&N,Dt=w&$;if(D&&($e=le?D(d,H,le,we):D(d)),$e!==n)return $e;if(!fi(d))return d;var Ft=Xn(d);if(Ft){if($e=Jx(d),!Ye)return Ps(d,$e)}else{var qt=Wa(d),Sn=qt==Fi||qt==jn;if(ga(d))return cd(d,Ye);if(qt==Bi||qt==wn||Sn&&!le){if($e=lt||Sn?{}:Qy(d),!Ye)return lt?By(d,Pt($e,d)):Gx(d,gt($e,d))}else{if(!Qn[qt])return le?d:{};$e=eb(d,qt,Ye)}}we||(we=new G);var Nn=we.get(d);if(Nn)return Nn;we.set(d,$e),AA(d)?d.forEach(function(sr){$e.add(mn(sr,w,D,sr,d,we))}):np(d)&&d.forEach(function(sr,Qr){$e.set(Qr,mn(sr,w,D,Qr,d,we))});var ar=Dt?lt?sm:dd:lt?ds:Pa,Br=Ft?n:ar(d);return fo(Br||d,function(sr,Qr){Br&&(Qr=sr,sr=d[Qr]),et($e,Qr,mn(sr,w,D,Qr,d,we))}),$e}function Tn(d){var w=Pa(d);return function(D){return kn(D,d,w)}}function kn(d,w,D){var H=D.length;if(d==null)return!H;for(d=Ln(d);H--;){var le=D[H],we=w[le],$e=d[le];if($e===n&&!(le in d)||!we($e))return!1}return!0}function _r(d,w,D){if(typeof d!="function")throw new $i(a);return Kp(function(){d.apply(n,D)},w)}function fn(d,w,D,H){var le=-1,we=su,$e=!0,Ye=d.length,lt=[],Dt=w.length;if(!Ye)return lt;D&&(w=ei(w,ko(D))),H?(we=Fr,$e=!1):w.length>=s&&(we=uu,$e=!1,w=new O(w));e:for(;++le<Ye;){var Ft=d[le],qt=D==null?Ft:D(Ft);if(Ft=H||Ft!==0?Ft:0,$e&&qt===qt){for(var Sn=Dt;Sn--;)if(w[Sn]===qt)continue e;lt.push(Ft)}else we(w,qt,H)||lt.push(Ft)}return lt}var Dn=zy(Ii),tr=zy(so,!0);function Vn(d,w){var D=!0;return Dn(d,function(H,le,we){return D=!!w(H,le,we),D}),D}function zn(d,w,D){for(var H=-1,le=d.length;++H<le;){var we=d[H],$e=w(we);if($e!=null&&(Ye===n?$e===$e&&!Za($e):D($e,Ye)))var Ye=$e,lt=we}return lt}function Un(d,w,D,H){var le=d.length;for(D=br(D),D<0&&(D=-D>le?0:le+D),H=H===n||H>le?le:br(H),H<0&&(H+=le),H=D>H?0:Pd(H);D<H;)d[D++]=w;return d}function Rn(d,w){var D=[];return Dn(d,function(H,le,we){w(H,le,we)&&D.push(H)}),D}function An(d,w,D,H,le){var we=-1,$e=d.length;for(D||(D=nb),le||(le=[]);++we<$e;){var Ye=d[we];w>0&&D(Ye)?w>1?An(Ye,w-1,D,H,le):Ua(le,Ye):H||(le[le.length]=Ye)}return le}var qr=tm(),Vi=tm(!0);function Ii(d,w){return d&&qr(d,w,Pa)}function so(d,w){return d&&Vi(d,w,Pa)}function Xi(d,w){return Zo(w,function(D){return Zs(d[D])})}function ci(d,w){w=sc(w,d);for(var D=0,H=w.length;d!=null&&D<H;)d=d[vl(w[D++])];return D&&D==H?d:n}function na(d,w,D){var H=w(d);return Xn(d)?H:Ua(H,D(d))}function Hi(d){return d==null?d===n?bi:Go:Ao&&Ao in Ln(d)?fc(d):gd(d)}function ra(d,w){return d>w}function wa(d,w){return d!=null&&$r.call(d,w)}function hl(d,w){return d!=null&&w in Ln(d)}function hs(d,w,D){return d>=Wn(w,D)&&d<ir(w,D)}function zf(d,w,D){for(var H=D?Fr:su,le=d[0].length,we=d.length,$e=we,Ye=xt(we),lt=1/0,Dt=[];$e--;){var Ft=d[$e];$e&&w&&(Ft=ei(Ft,ko(w))),lt=Wn(Ft.length,lt),Ye[$e]=!D&&(w||le>=120&&Ft.length>=120)?new O($e&&Ft):n}Ft=d[0];var qt=-1,Sn=Ye[0];e:for(;++qt<le&&Dt.length<lt;){var Nn=Ft[qt],ar=w?w(Nn):Nn;if(Nn=D||Nn!==0?Nn:0,!(Sn?uu(Sn,ar):H(Dt,ar,D))){for($e=we;--$e;){var Br=Ye[$e];if(!(Br?uu(Br,ar):H(d[$e],ar,D)))continue e}Sn&&Sn.push(ar),Dt.push(Nn)}}return Dt}function du(d,w,D,H){return Ii(d,function(le,we,$e){w(H,D(le),we,$e)}),H}function Al(d,w,D){w=sc(w,d),d=Ka(d,w);var H=d==null?d:d[vl(_l(w))];return H==null?n:co(H,d,D)}function mu(d){return Qi(d)&&Hi(d)==wn}function Nf(d){return Qi(d)&&Hi(d)==vt}function Yc(d){return Qi(d)&&Hi(d)==Fn}function Qa(d,w,D,H,le){return d===w?!0:d==null||w==null||!Qi(d)&&!Qi(w)?d!==d&&w!==w:Jc(d,w,D,H,Qa,le)}function Jc(d,w,D,H,le,we){var $e=Xn(d),Ye=Xn(w),lt=$e?dn:Wa(d),Dt=Ye?dn:Wa(w);lt=lt==wn?Bi:lt,Dt=Dt==wn?Bi:Dt;var Ft=lt==Bi,qt=Dt==Bi,Sn=lt==Dt;if(Sn&&ga(d)){if(!ga(w))return!1;$e=!0,Ft=!1}if(Sn&&!Ft)return we||(we=new G),$e||Nl(d)?am(d,w,D,H,le,we):Kx(d,w,lt,D,H,le,we);if(!(D&q)){var Nn=Ft&&$r.call(d,"__wrapped__"),ar=qt&&$r.call(w,"__wrapped__");if(Nn||ar){var Br=Nn?d.value():d,sr=ar?w.value():w;return we||(we=new G),le(Br,sr,D,H,we)}}return Sn?(we||(we=new G),Zx(d,w,D,H,le,we)):!1}function go(d){return Qi(d)&&Wa(d)==mi}function Ks(d,w,D,H){var le=D.length,we=le,$e=!H;if(d==null)return!we;for(d=Ln(d);le--;){var Ye=D[le];if($e&&Ye[2]?Ye[1]!==d[Ye[0]]:!(Ye[0]in d))return!1}for(;++le<we;){Ye=D[le];var lt=Ye[0],Dt=d[lt],Ft=Ye[1];if($e&&Ye[2]){if(Dt===n&&!(lt in d))return!1}else{var qt=new G;if(H)var Sn=H(Dt,Ft,lt,d,w,qt);if(!(Sn===n?Qa(Ft,Dt,q|K,H,qt):Sn))return!1}}return!0}function ks(d){if(!fi(d)||ib(d))return!1;var w=Zs(d)?ba:bt;return w.test(lf(d))}function ic(d){return Qi(d)&&Hi(d)==ro}function Yi(d){return Qi(d)&&Wa(d)==Wr}function qi(d){return Qi(d)&&tp(d.length)&&!!Ur[Hi(d)]}function Aa(d){return typeof d=="function"?d:d==null?bl:typeof d=="object"?Xn(d)?Zh(d[0],d[1]):$f(d):_5(d)}function oc(d){if(!sf(d))return zp(d);var w=[];for(var D in Ln(d))$r.call(d,D)&&D!="constructor"&&w.push(D);return w}function Up(d){if(!fi(d))return Ca(d);var w=sf(d),D=[];for(var H in d)H=="constructor"&&(w||!$r.call(d,H))||D.push(H);return D}function Kh(d,w){return d<w}function Uf(d,w){var D=-1,H=xo(d)?xt(d.length):[];return Dn(d,function(le,we,$e){H[++D]=w(le,we,$e)}),H}function $f(d){var w=ni(d);return w.length==1&&w[0][2]?Qp(w[0][0],w[0][1]):function(D){return D===d||Ks(D,d,w)}}function Zh(d,w){return md(d)&&Gp(w)?Qp(vl(d),w):function(D){var H=Ld(D,d);return H===n&&H===w?Xa(D,d):Qa(w,H,q|K)}}function gu(d,w,D,H,le){d!==w&&qr(w,function(we,$e){if(le||(le=new G),fi(we))jf(d,w,$e,D,gu,H,le);else{var Ye=H?H(yd(d,$e),we,$e+"",d,w,le):n;Ye===n&&(Ye=we),Qe(d,$e,Ye)}},ds)}function jf(d,w,D,H,le,we,$e){var Ye=yd(d,D),lt=yd(w,D),Dt=$e.get(lt);if(Dt){Qe(d,D,Dt);return}var Ft=we?we(Ye,lt,D+"",d,w,$e):n,qt=Ft===n;if(qt){var Sn=Xn(lt),Nn=!Sn&&ga(lt),ar=!Sn&&!Nn&&Nl(lt);Ft=lt,Sn||Nn||ar?Xn(Ye)?Ft=Ye:hr(Ye)?Ft=Ps(Ye):Nn?(qt=!1,Ft=cd(lt,!0)):ar?(qt=!1,Ft=Ry(lt,!0)):Ft=[]:Ac(lt)||pr(lt)?(Ft=Ye,pr(Ye)?Ft=sh(Ye):(!fi(Ye)||Zs(Ye))&&(Ft=Qy(lt))):qt=!1}qt&&($e.set(lt,Ft),le(Ft,lt,H,we,$e),$e.delete(lt)),Qe(d,D,Ft)}function W0(d,w){var D=d.length;if(D)return w+=w<0?D:0,yl(w,D)?d[w]:n}function id(d,w,D){w.length?w=ei(w,function(we){return Xn(we)?function($e){return ci($e,we.length===1?we[0]:we)}:we}):w=[bl];var H=-1;w=ei(w,ko(Kn()));var le=Uf(d,function(we,$e,Ye){var lt=ei(w,function(Dt){return Dt(we)});return{criteria:lt,index:++H,value:we}});return Vc(le,function(we,$e){return em(we,$e,D)})}function Vf(d,w){return Da(d,w,function(D,H){return Xa(d,H)})}function Da(d,w,D){for(var H=-1,le=w.length,we={};++H<le;){var $e=w[H],Ye=ci(d,$e);D(Ye,$e)&&$p(we,sc($e,d),Ye)}return we}function Ux(d){return function(w){return ci(w,d)}}function od(d,w,D,H){var le=H?Dp:Rl,we=-1,$e=w.length,Ye=d;for(d===w&&(w=Ps(w)),D&&(Ye=ei(d,ko(D)));++we<$e;)for(var lt=0,Dt=w[we],Ft=D?D(Dt):Dt;(lt=le(Ye,Ft,lt,H))>-1;)Ye!==d&&sn.call(Ye,lt,1),sn.call(d,lt,1);return d}function Iy(d,w){for(var D=d?w.length:0,H=D-1;D--;){var le=w[D];if(D==H||le!==we){var we=le;yl(le)?sn.call(d,le,1):tf(d,le)}}return d}function K0(d,w){return d+Va(Bn()*(w-d+1))}function $x(d,w,D,H){for(var le=-1,we=ir(mo((w-d)/(D||1)),0),$e=xt(we);we--;)$e[H?we:++le]=d,d+=D;return $e}function Z0(d,w){var D="";if(!d||w<1||w>at)return D;do w%2&&(D+=d),w=Va(w/2),w&&(d+=d);while(w);return D}function kr(d,w){return nA(tA(d,w,bl),d+"")}function jx(d){return ze(sp(d))}function ad(d,w){var D=sp(d);return rA(D,Jt(w,0,D.length))}function $p(d,w,D,H){if(!fi(d))return d;w=sc(w,d);for(var le=-1,we=w.length,$e=we-1,Ye=d;Ye!=null&&++le<we;){var lt=vl(w[le]),Dt=D;if(lt==="__proto__"||lt==="constructor"||lt==="prototype")return d;if(le!=$e){var Ft=Ye[lt];Dt=H?H(Ft,lt,Ye):n,Dt===n&&(Dt=fi(Ft)?Ft:yl(w[le+1])?[]:{})}et(Ye,lt,Dt),Ye=Ye[lt]}return d}var ac=Xt?function(d,w){return Xt.set(d,w),d}:bl,Xh=Er?function(d,w){return Er(d,"toString",{configurable:!0,enumerable:!1,value:Mb(w),writable:!0})}:bl;function Vx(d){return rA(sp(d))}function dl(d,w,D){var H=-1,le=d.length;w<0&&(w=-w>le?0:le+w),D=D>le?le:D,D<0&&(D+=le),le=w>D?0:D-w>>>0,w>>>=0;for(var we=xt(le);++H<le;)we[H]=d[H+w];return we}function Hx(d,w){var D;return Dn(d,function(H,le,we){return D=w(H,le,we),!D}),!!D}function sd(d,w,D){var H=0,le=d==null?H:d.length;if(typeof w=="number"&&w===w&&le<=Mt){for(;H<le;){var we=H+le>>>1,$e=d[we];$e!==null&&!Za($e)&&(D?$e<=w:$e<w)?H=we+1:le=we}return le}return X0(d,w,bl,D)}function X0(d,w,D,H){var le=0,we=d==null?0:d.length;if(we===0)return 0;w=D(w);for(var $e=w!==w,Ye=w===null,lt=Za(w),Dt=w===n;le<we;){var Ft=Va((le+we)/2),qt=D(d[Ft]),Sn=qt!==n,Nn=qt===null,ar=qt===qt,Br=Za(qt);if($e)var sr=H||ar;else Dt?sr=ar&&(H||Sn):Ye?sr=ar&&Sn&&(H||!Nn):lt?sr=ar&&Sn&&!Nn&&(H||!Br):Nn||Br?sr=!1:sr=H?qt<=w:qt<w;sr?le=Ft+1:we=Ft}return Wn(we,ge)}function My(d,w){for(var D=-1,H=d.length,le=0,we=[];++D<H;){var $e=d[D],Ye=w?w($e):$e;if(!D||!Ir(Ye,lt)){var lt=Ye;we[le++]=$e===0?0:$e}}return we}function Oy(d){return typeof d=="number"?d:Za(d)?Oe:+d}function As(d){if(typeof d=="string")return d;if(Xn(d))return ei(d,As)+"";if(Za(d))return v?v.call(d):"";var w=d+"";return w=="0"&&1/d==-xn?"-0":w}function ef(d,w,D){var H=-1,le=su,we=d.length,$e=!0,Ye=[],lt=Ye;if(D)$e=!1,le=Fr;else if(we>=s){var Dt=w?null:qy(d);if(Dt)return $a(Dt);$e=!1,le=uu,lt=new O}else lt=w?[]:Ye;e:for(;++H<we;){var Ft=d[H],qt=w?w(Ft):Ft;if(Ft=D||Ft!==0?Ft:0,$e&&qt===qt){for(var Sn=lt.length;Sn--;)if(lt[Sn]===qt)continue e;w&&lt.push(qt),Ye.push(Ft)}else le(lt,qt,D)||(lt!==Ye&&lt.push(qt),Ye.push(Ft))}return Ye}function tf(d,w){return w=sc(w,d),d=Ka(d,w),d==null||delete d[vl(_l(w))]}function Ly(d,w,D,H){return $p(d,w,D(ci(d,w)),H)}function Gi(d,w,D,H){for(var le=d.length,we=H?le:-1;(H?we--:++we<le)&&w(d[we],we,d););return D?dl(d,H?0:we,H?we+1:le):dl(d,H?we+1:0,H?le:we)}function Yh(d,w){var D=d;return D instanceof z&&(D=D.value()),Ku(w,function(H,le){return le.func.apply(le.thisArg,Ua([H],le.args))},D)}function ld(d,w,D){var H=d.length;if(H<2)return H?ef(d[0]):[];for(var le=-1,we=xt(H);++le<H;)for(var $e=d[le],Ye=-1;++Ye<H;)Ye!=le&&(we[le]=fn(we[le]||$e,d[Ye],w,D));return ef(An(we,1),w,D)}function Jh(d,w,D){for(var H=-1,le=d.length,we=w.length,$e={};++H<le;){var Ye=H<we?w[H]:n;D($e,d[H],Ye)}return $e}function jp(d){return hr(d)?d:[]}function Hf(d){return typeof d=="function"?d:bl}function sc(d,w){return Xn(d)?d:md(d,w)?[d]:Qf(Mr(d))}var Dy=kr;function ml(d,w,D){var H=d.length;return D=D===n?H:D,!w&&D>=H?d:dl(d,w,D)}var ud=Kc||function(d){return yi.clearTimeout(d)};function cd(d,w){if(w)return d.slice();var D=d.length,H=Qs?Qs(D):new d.constructor(D);return d.copy(H),H}function Y0(d){var w=new d.constructor(d.byteLength);return new Gs(w).set(new Gs(d)),w}function eA(d,w){var D=w?Y0(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.byteLength)}function qx(d){var w=new d.constructor(d.source,$t.exec(d));return w.lastIndex=d.lastIndex,w}function J0(d){return m?Ln(m.call(d)):{}}function Ry(d,w){var D=w?Y0(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.length)}function fd(d,w){if(d!==w){var D=d!==n,H=d===null,le=d===d,we=Za(d),$e=w!==n,Ye=w===null,lt=w===w,Dt=Za(w);if(!Ye&&!Dt&&!we&&d>w||we&&$e&&lt&&!Ye&&!Dt||H&&$e&&lt||!D&&lt||!le)return 1;if(!H&&!we&&!Dt&&d<w||Dt&&D&&le&&!H&&!we||Ye&&D&&le||!$e&&le||!lt)return-1}return 0}function em(d,w,D){for(var H=-1,le=d.criteria,we=w.criteria,$e=le.length,Ye=D.length;++H<$e;){var lt=fd(le[H],we[H]);if(lt){if(H>=Ye)return lt;var Dt=D[H];return lt*(Dt=="desc"?-1:1)}}return d.index-w.index}function gl(d,w,D,H){for(var le=-1,we=d.length,$e=D.length,Ye=-1,lt=w.length,Dt=ir(we-$e,0),Ft=xt(lt+Dt),qt=!H;++Ye<lt;)Ft[Ye]=w[Ye];for(;++le<$e;)(qt||le<we)&&(Ft[D[le]]=d[le]);for(;Dt--;)Ft[Ye++]=d[le++];return Ft}function Fy(d,w,D,H){for(var le=-1,we=d.length,$e=-1,Ye=D.length,lt=-1,Dt=w.length,Ft=ir(we-Ye,0),qt=xt(Ft+Dt),Sn=!H;++le<Ft;)qt[le]=d[le];for(var Nn=le;++lt<Dt;)qt[Nn+lt]=w[lt];for(;++$e<Ye;)(Sn||le<we)&&(qt[Nn+D[$e]]=d[le++]);return qt}function Ps(d,w){var D=-1,H=d.length;for(w||(w=xt(H));++D<H;)w[D]=d[D];return w}function yu(d,w,D,H){var le=!D;D||(D={});for(var we=-1,$e=w.length;++we<$e;){var Ye=w[we],lt=H?H(D[Ye],d[Ye],Ye,D,d):n;lt===n&&(lt=d[Ye]),le?zt(D,Ye,lt):et(D,Ye,lt)}return D}function Gx(d,w){return yu(d,af(d),w)}function By(d,w){return yu(d,um(d),w)}function lc(d,w){return function(D,H){var le=Xn(D)?Dl:ht,we=w?w():{};return le(D,d,Kn(H,2),we)}}function Vp(d){return kr(function(w,D){var H=-1,le=D.length,we=le>1?D[le-1]:n,$e=le>2?D[2]:n;for(we=d.length>3&&typeof we=="function"?(le--,we):n,$e&&ia(D[0],D[1],$e)&&(we=le<3?n:we,le=1),w=Ln(w);++H<le;){var Ye=D[H];Ye&&d(w,Ye,H,we)}return w})}function zy(d,w){return function(D,H){if(D==null)return D;if(!xo(D))return d(D,H);for(var le=D.length,we=w?le:-1,$e=Ln(D);(w?we--:++we<le)&&H($e[we],we,$e)!==!1;);return D}}function tm(d){return function(w,D,H){for(var le=-1,we=Ln(w),$e=H(w),Ye=$e.length;Ye--;){var lt=$e[d?Ye:++le];if(D(we[lt],lt,we)===!1)break}return w}}function Ny(d,w,D){var H=w&te,le=vu(d);function we(){var $e=this&&this!==yi&&this instanceof we?le:d;return $e.apply(H?D:this,arguments)}return we}function Uy(d){return function(w){w=Mr(w);var D=fl(w)?pa(w):n,H=D?D[0]:w.charAt(0),le=D?ml(D,1).join(""):w.slice(1);return H[d]()+le}}function Hp(d){return function(w){return Ku(y5(Bv(w).replace(Fc,"")),d,"")}}function vu(d){return function(){var w=arguments;switch(w.length){case 0:return new d;case 1:return new d(w[0]);case 2:return new d(w[0],w[1]);case 3:return new d(w[0],w[1],w[2]);case 4:return new d(w[0],w[1],w[2],w[3]);case 5:return new d(w[0],w[1],w[2],w[3],w[4]);case 6:return new d(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new d(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var D=k(d.prototype),H=d.apply(D,w);return fi(H)?H:D}}function Qx(d,w,D){var H=vu(d);function le(){for(var we=arguments.length,$e=xt(we),Ye=we,lt=qf(le);Ye--;)$e[Ye]=arguments[Ye];var Dt=we<3&&$e[0]!==lt&&$e[we-1]!==lt?[]:Es($e,lt);if(we-=Dt.length,we<D)return Hy(d,w,Ts,le.placeholder,n,$e,Dt,n,n,D-we);var Ft=this&&this!==yi&&this instanceof le?H:d;return co(Ft,this,$e)}return le}function pd(d){return function(w,D,H){var le=Ln(w);if(!xo(w)){var we=Kn(D,3);w=Pa(w),D=function(Ye){return we(le[Ye],Ye,le)}}var $e=d(w,D,H);return $e>-1?le[we?w[$e]:$e]:n}}function qp(d){return cc(function(w){var D=w.length,H=D,le=I.prototype.thru;for(d&&w.reverse();H--;){var we=w[H];if(typeof we!="function")throw new $i(a);if(le&&!$e&&rf(we)=="wrapper")var $e=new I([],!0)}for(H=$e?H:D;++H<D;){we=w[H];var Ye=rf(we),lt=Ye=="wrapper"?lm(we):n;lt&&cm(lt[0])&&lt[1]==(Se|ee|_e|Le)&&!lt[4].length&&lt[9]==1?$e=$e[rf(lt[0])].apply($e,lt[3]):$e=we.length==1&&cm(we)?$e[Ye]():$e.thru(we)}return function(){var Dt=arguments,Ft=Dt[0];if($e&&Dt.length==1&&Xn(Ft))return $e.plant(Ft).value();for(var qt=0,Sn=D?w[qt].apply(this,Dt):Ft;++qt<D;)Sn=w[qt].call(this,Sn);return Sn}})}function Ts(d,w,D,H,le,we,$e,Ye,lt,Dt){var Ft=w&Se,qt=w&te,Sn=w&V,Nn=w&(ee|ce),ar=w&Ze,Br=Sn?n:vu(d);function sr(){for(var Qr=arguments.length,ii=xt(Qr),$l=Qr;$l--;)ii[$l]=arguments[$l];if(Nn)var Xs=qf(sr),jl=po(ii,Xs);if(H&&(ii=gl(ii,H,le,Nn)),we&&(ii=Fy(ii,we,$e,Nn)),Qr-=jl,Nn&&Qr<Dt){var ya=Es(ii,Xs);return Hy(d,w,Ts,sr.placeholder,D,ii,ya,Ye,lt,Dt-Qr)}var gc=qt?D:this,lp=Sn?gc[d]:d;return Qr=ii.length,Ye?ii=Ky(ii,Ye):ar&&Qr>1&&ii.reverse(),Ft&&lt<Qr&&(ii.length=lt),this&&this!==yi&&this instanceof sr&&(lp=Br||vu(lp)),lp.apply(gc,ii)}return sr}function $y(d,w){return function(D,H){return du(D,d,w(H),{})}}function hd(d,w){return function(D,H){var le;if(D===n&&H===n)return w;if(D!==n&&(le=D),H!==n){if(le===n)return H;typeof D=="string"||typeof H=="string"?(D=As(D),H=As(H)):(D=Oy(D),H=Oy(H)),le=d(D,H)}return le}}function nm(d){return cc(function(w){return w=ei(w,ko(Kn())),kr(function(D){var H=this;return d(w,function(le){return co(le,H,D)})})})}function nf(d,w){w=w===n?" ":As(w);var D=w.length;if(D<2)return D?Z0(w,d):w;var H=Z0(w,mo(d/us(w)));return fl(w)?ml(pa(H),0,d).join(""):H.slice(0,d)}function jy(d,w,D,H){var le=w&te,we=vu(d);function $e(){for(var Ye=-1,lt=arguments.length,Dt=-1,Ft=H.length,qt=xt(Ft+lt),Sn=this&&this!==yi&&this instanceof $e?we:d;++Dt<Ft;)qt[Dt]=H[Dt];for(;lt--;)qt[Dt++]=arguments[++Ye];return co(Sn,le?D:this,qt)}return $e}function Vy(d){return function(w,D,H){return H&&typeof H!="number"&&ia(w,D,H)&&(D=H=n),w=Ul(w),D===n?(D=w,w=0):D=Ul(D),H=H===n?w<D?1:-1:Ul(H),$x(w,D,H,d)}}function Ad(d){return function(w,D){return typeof w=="string"&&typeof D=="string"||(w=xl(w),D=xl(D)),d(w,D)}}function Hy(d,w,D,H,le,we,$e,Ye,lt,Dt){var Ft=w&ee,qt=Ft?$e:n,Sn=Ft?n:$e,Nn=Ft?we:n,ar=Ft?n:we;w|=Ft?_e:re,w&=~(Ft?re:_e),w&X||(w&=~(te|V));var Br=[d,w,le,Nn,qt,ar,Sn,Ye,lt,Dt],sr=D.apply(n,Br);return cm(d)&&Zy(sr,Br),sr.placeholder=H,vd(sr,d,w)}function rm(d){var w=ti[d];return function(D,H){if(D=xl(D),H=H==null?0:Wn(br(H),292),H&&Xc(D)){var le=(Mr(D)+"e").split("e"),we=w(le[0]+"e"+(+le[1]+H));return le=(Mr(we)+"e").split("e"),+(le[0]+"e"+(+le[1]-H))}return w(D)}}var qy=qa&&1/$a(new qa([,-0]))[1]==xn?function(d){return new qa(d)}:Db;function Sa(d){return function(w){var D=Wa(w);return D==mi?fu(w):D==Wr?tc(w):Hc(w,d(w))}}function uc(d,w,D,H,le,we,$e,Ye){var lt=w&V;if(!lt&&typeof d!="function")throw new $i(a);var Dt=H?H.length:0;if(Dt||(w&=~(_e|re),H=le=n),$e=$e===n?$e:ir(br($e),0),Ye=Ye===n?Ye:br(Ye),Dt-=le?le.length:0,w&re){var Ft=H,qt=le;H=le=n}var Sn=lt?n:lm(d),Nn=[d,w,D,H,le,Ft,qt,we,$e,Ye];if(Sn&&Wp(Nn,Sn),d=Nn[0],w=Nn[1],D=Nn[2],H=Nn[3],le=Nn[4],Ye=Nn[9]=Nn[9]===n?lt?0:d.length:ir(Nn[9]-Dt,0),!Ye&&w&(ee|ce)&&(w&=~(ee|ce)),!w||w==te)var ar=Ny(d,w,D);else w==ee||w==ce?ar=Qx(d,w,Ye):(w==_e||w==(te|_e))&&!le.length?ar=jy(d,w,D,H):ar=Ts.apply(n,Nn);var Br=Sn?ac:Zy;return vd(Br(ar,Nn),d,w)}function im(d,w,D,H){return d===n||Ir(d,fs[D])&&!$r.call(H,D)?w:d}function om(d,w,D,H,le,we){return fi(d)&&fi(w)&&(we.set(w,d),gu(d,w,n,om,we),we.delete(w)),d}function Wx(d){return Ac(d)?n:d}function am(d,w,D,H,le,we){var $e=D&q,Ye=d.length,lt=w.length;if(Ye!=lt&&!($e&&lt>Ye))return!1;var Dt=we.get(d),Ft=we.get(w);if(Dt&&Ft)return Dt==w&&Ft==d;var qt=-1,Sn=!0,Nn=D&K?new O:n;for(we.set(d,w),we.set(w,d);++qt<Ye;){var ar=d[qt],Br=w[qt];if(H)var sr=$e?H(Br,ar,qt,w,d,we):H(ar,Br,qt,d,w,we);if(sr!==n){if(sr)continue;Sn=!1;break}if(Nn){if(!$s(w,function(Qr,ii){if(!uu(Nn,ii)&&(ar===Qr||le(ar,Qr,D,H,we)))return Nn.push(ii)})){Sn=!1;break}}else if(!(ar===Br||le(ar,Br,D,H,we))){Sn=!1;break}}return we.delete(d),we.delete(w),Sn}function Kx(d,w,D,H,le,we,$e){switch(D){case be:if(d.byteLength!=w.byteLength||d.byteOffset!=w.byteOffset)return!1;d=d.buffer,w=w.buffer;case vt:return!(d.byteLength!=w.byteLength||!we(new Gs(d),new Gs(w)));case $n:case Fn:case gi:return Ir(+d,+w);case jr:return d.name==w.name&&d.message==w.message;case ro:case Lo:return d==w+"";case mi:var Ye=fu;case Wr:var lt=H&q;if(Ye||(Ye=$a),d.size!=w.size&&!lt)return!1;var Dt=$e.get(d);if(Dt)return Dt==w;H|=K,$e.set(d,w);var Ft=am(Ye(d),Ye(w),H,le,we,$e);return $e.delete(d),Ft;case io:if(m)return m.call(d)==m.call(w)}return!1}function Zx(d,w,D,H,le,we){var $e=D&q,Ye=dd(d),lt=Ye.length,Dt=dd(w),Ft=Dt.length;if(lt!=Ft&&!$e)return!1;for(var qt=lt;qt--;){var Sn=Ye[qt];if(!($e?Sn in w:$r.call(w,Sn)))return!1}var Nn=we.get(d),ar=we.get(w);if(Nn&&ar)return Nn==w&&ar==d;var Br=!0;we.set(d,w),we.set(w,d);for(var sr=$e;++qt<lt;){Sn=Ye[qt];var Qr=d[Sn],ii=w[Sn];if(H)var $l=$e?H(ii,Qr,Sn,w,d,we):H(Qr,ii,Sn,d,w,we);if(!($l===n?Qr===ii||le(Qr,ii,D,H,we):$l)){Br=!1;break}sr||(sr=Sn=="constructor")}if(Br&&!sr){var Xs=d.constructor,jl=w.constructor;Xs!=jl&&"constructor"in d&&"constructor"in w&&!(typeof Xs=="function"&&Xs instanceof Xs&&typeof jl=="function"&&jl instanceof jl)&&(Br=!1)}return we.delete(d),we.delete(w),Br}function cc(d){return nA(tA(d,n,Wf),d+"")}function dd(d){return na(d,Pa,af)}function sm(d){return na(d,ds,um)}var lm=Xt?function(d){return Xt.get(d)}:Db;function rf(d){for(var w=d.name+"",D=To[w],H=$r.call(To,w)?D.length:0;H--;){var le=D[H],we=le.func;if(we==null||we==d)return le.name}return w}function qf(d){var w=$r.call(_,"placeholder")?_:d;return w.placeholder}function Kn(){var d=_.iteratee||Ob;return d=d===Ob?Aa:d,arguments.length?d(arguments[0],arguments[1]):d}function Gf(d,w){var D=d.__data__;return rb(w)?D[typeof w=="string"?"string":"hash"]:D.map}function ni(d){for(var w=Pa(d),D=w.length;D--;){var H=w[D],le=d[H];w[D]=[H,le,Gp(le)]}return w}function of(d,w){var D=cu(d,w);return ks(D)?D:n}function fc(d){var w=$r.call(d,Ao),D=d[Ao];try{d[Ao]=n;var H=!0}catch{}var le=ho.call(d);return H&&(w?d[Ao]=D:delete d[Ao]),le}var af=zl?function(d){return d==null?[]:(d=Ln(d),Zo(zl(d),function(w){return Yo.call(d,w)}))}:Rb,um=zl?function(d){for(var w=[];d;)Ua(w,af(d)),d=Fo(d);return w}:Rb,Wa=Hi;(Ha&&Wa(new Ha(new ArrayBuffer(1)))!=be||Jo&&Wa(new Jo)!=mi||ea&&Wa(ea.resolve())!=Wi||qa&&Wa(new qa)!=Wr||Qt&&Wa(new Qt)!=Do)&&(Wa=function(d){var w=Hi(d),D=w==Bi?d.constructor:n,H=D?lf(D):"";if(H)switch(H){case Ga:return be;case zo:return mi;case ji:return Wi;case Np:return Wr;case ta:return Do}return w});function Xx(d,w,D){for(var H=-1,le=D.length;++H<le;){var we=D[H],$e=we.size;switch(we.type){case"drop":d+=$e;break;case"dropRight":w-=$e;break;case"take":w=Wn(w,d+$e);break;case"takeRight":d=ir(d,w-$e);break}}return{start:d,end:w}}function Yx(d){var w=d.match(je);return w?w[1].split(st):[]}function Gy(d,w,D){w=sc(w,d);for(var H=-1,le=w.length,we=!1;++H<le;){var $e=vl(w[H]);if(!(we=d!=null&&D(d,$e)))break;d=d[$e]}return we||++H!=le?we:(le=d==null?0:d.length,!!le&&tp(le)&&yl($e,le)&&(Xn(d)||pr(d)))}function Jx(d){var w=d.length,D=new d.constructor(w);return w&&typeof d[0]=="string"&&$r.call(d,"index")&&(D.index=d.index,D.input=d.input),D}function Qy(d){return typeof d.constructor=="function"&&!sf(d)?k(Fo(d)):{}}function eb(d,w,D){var H=d.constructor;switch(w){case vt:return Y0(d);case $n:case Fn:return new H(+d);case be:return eA(d,D);case Je:case Ct:case an:case Gn:case Or:case On:case nr:case Vr:case Yr:return Ry(d,D);case mi:return new H;case gi:case Lo:return new H(d);case ro:return qx(d);case Wr:return new H;case io:return J0(d)}}function tb(d,w){var D=w.length;if(!D)return d;var H=D-1;return w[H]=(D>1?"& ":"")+w[H],w=w.join(D>2?", ":" "),d.replace(ae,`{
/* [wrapped with `+w+`] */
`)}function nb(d){return Xn(d)||pr(d)||!!(rc&&d&&d[rc])}function yl(d,w){var D=typeof d;return w=w??at,!!w&&(D=="number"||D!="symbol"&&cn.test(d))&&d>-1&&d%1==0&&d<w}function ia(d,w,D){if(!fi(D))return!1;var H=typeof w;return(H=="number"?xo(D)&&yl(w,D.length):H=="string"&&w in D)?Ir(D[w],d):!1}function md(d,w){if(Xn(d))return!1;var D=typeof d;return D=="number"||D=="symbol"||D=="boolean"||d==null||Za(d)?!0:ye.test(d)||!pe.test(d)||w!=null&&d in Ln(w)}function rb(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function cm(d){var w=rf(d),D=_[w];if(typeof D!="function"||!(w in z.prototype))return!1;if(d===D)return!0;var H=lm(D);return!!H&&d===H[0]}function ib(d){return!!Po&&Po in d}var Wy=Wc?Zs:Fb;function sf(d){var w=d&&d.constructor,D=typeof w=="function"&&w.prototype||fs;return d===D}function Gp(d){return d===d&&!fi(d)}function Qp(d,w){return function(D){return D==null?!1:D[d]===w&&(w!==n||d in Ln(D))}}function Is(d){var w=si(d,function(H){return D.size===P&&D.clear(),H}),D=w.cache;return w}function Wp(d,w){var D=d[1],H=w[1],le=D|H,we=le<(te|V|Se),$e=H==Se&&D==ee||H==Se&&D==Le&&d[7].length<=w[8]||H==(Se|Le)&&w[7].length<=w[8]&&D==ee;if(!(we||$e))return d;H&te&&(d[2]=w[2],le|=D&te?0:X);var Ye=w[3];if(Ye){var lt=d[3];d[3]=lt?gl(lt,Ye,w[4]):Ye,d[4]=lt?Es(d[3],L):w[4]}return Ye=w[5],Ye&&(lt=d[5],d[5]=lt?Fy(lt,Ye,w[6]):Ye,d[6]=lt?Es(d[5],L):w[6]),Ye=w[7],Ye&&(d[7]=Ye),H&Se&&(d[8]=d[8]==null?w[8]:Wn(d[8],w[8])),d[9]==null&&(d[9]=w[9]),d[0]=w[0],d[1]=le,d}function Ca(d){var w=[];if(d!=null)for(var D in Ln(d))w.push(D);return w}function gd(d){return ho.call(d)}function tA(d,w,D){return w=ir(w===n?d.length-1:w,0),function(){for(var H=arguments,le=-1,we=ir(H.length-w,0),$e=xt(we);++le<we;)$e[le]=H[w+le];le=-1;for(var Ye=xt(w+1);++le<w;)Ye[le]=H[le];return Ye[w]=D($e),co(d,this,Ye)}}function Ka(d,w){return w.length<2?d:ci(d,dl(w,0,-1))}function Ky(d,w){for(var D=d.length,H=Wn(w.length,D),le=Ps(d);H--;){var we=w[H];d[H]=yl(we,D)?le[we]:n}return d}function yd(d,w){if(!(w==="constructor"&&typeof d[w]=="function")&&w!="__proto__")return d[w]}var Zy=Xy(ac),Kp=Bf||function(d,w){return yi.setTimeout(d,w)},nA=Xy(Xh);function vd(d,w,D){var H=w+"";return nA(d,tb(H,Yy(Yx(H),D)))}function Xy(d){var w=0,D=0;return function(){var H=ha(),le=yt-(H-D);if(D=H,le>0){if(++w>=ut)return arguments[0]}else w=0;return d.apply(n,arguments)}}function rA(d,w){var D=-1,H=d.length,le=H-1;for(w=w===n?H:w;++D<w;){var we=K0(D,le),$e=d[we];d[we]=d[D],d[D]=$e}return d.length=w,d}var Qf=Is(function(d){var w=[];return d.charCodeAt(0)===46&&w.push(""),d.replace(Te,function(D,H,le,we){w.push(le?we.replace(me,"$1"):H||D)}),w});function vl(d){if(typeof d=="string"||Za(d))return d;var w=d+"";return w=="0"&&1/d==-xn?"-0":w}function lf(d){if(d!=null){try{return pl.call(d)}catch{}try{return d+""}catch{}}return""}function Yy(d,w){return fo(un,function(D){var H="_."+D[0];w&D[1]&&!su(d,H)&&d.push(H)}),d.sort()}function Jy(d){if(d instanceof z)return d.clone();var w=new I(d.__wrapped__,d.__chain__);return w.__actions__=Ps(d.__actions__),w.__index__=d.__index__,w.__values__=d.__values__,w}function ev(d,w,D){(D?ia(d,w,D):w===n)?w=1:w=ir(br(w),0);var H=d==null?0:d.length;if(!H||w<1)return[];for(var le=0,we=0,$e=xt(mo(H/w));le<H;)$e[we++]=dl(d,le,le+=w);return $e}function tv(d){for(var w=-1,D=d==null?0:d.length,H=0,le=[];++w<D;){var we=d[w];we&&(le[H++]=we)}return le}function nv(){var d=arguments.length;if(!d)return[];for(var w=xt(d-1),D=arguments[0],H=d;H--;)w[H-1]=arguments[H];return Ua(Xn(D)?Ps(D):[D],An(w,1))}var rv=kr(function(d,w){return hr(d)?fn(d,An(w,1,hr,!0)):[]}),ob=kr(function(d,w){var D=_l(w);return hr(D)&&(D=n),hr(d)?fn(d,An(w,1,hr,!0),Kn(D,2)):[]}),ab=kr(function(d,w){var D=_l(w);return hr(D)&&(D=n),hr(d)?fn(d,An(w,1,hr,!0),n,D):[]});function iv(d,w,D){var H=d==null?0:d.length;return H?(w=D||w===n?1:br(w),dl(d,w<0?0:w,H)):[]}function ov(d,w,D){var H=d==null?0:d.length;return H?(w=D||w===n?1:br(w),w=H-w,dl(d,0,w<0?0:w)):[]}function _d(d,w){return d&&d.length?Gi(d,Kn(w,3),!0,!0):[]}function av(d,w){return d&&d.length?Gi(d,Kn(w,3),!0):[]}function xd(d,w,D,H){var le=d==null?0:d.length;return le?(D&&typeof D!="number"&&ia(d,w,D)&&(D=0,H=le),Un(d,w,D,H)):[]}function iA(d,w,D){var H=d==null?0:d.length;if(!H)return-1;var le=D==null?0:br(D);return le<0&&(le=ir(H+le,0)),Vs(d,Kn(w,3),le)}function oA(d,w,D){var H=d==null?0:d.length;if(!H)return-1;var le=H-1;return D!==n&&(le=br(D),le=D<0?ir(H+le,0):Wn(le,H-1)),Vs(d,Kn(w,3),le,!0)}function Wf(d){var w=d==null?0:d.length;return w?An(d,1):[]}function sb(d){var w=d==null?0:d.length;return w?An(d,xn):[]}function lb(d,w){var D=d==null?0:d.length;return D?(w=w===n?1:br(w),An(d,w)):[]}function ub(d){for(var w=-1,D=d==null?0:d.length,H={};++w<D;){var le=d[w];H[le[0]]=le[1]}return H}function Kf(d){return d&&d.length?d[0]:n}function fm(d,w,D){var H=d==null?0:d.length;if(!H)return-1;var le=D==null?0:br(D);return le<0&&(le=ir(H+le,0)),Rl(d,w,le)}function sv(d){var w=d==null?0:d.length;return w?dl(d,0,-1):[]}var pm=kr(function(d){var w=ei(d,jp);return w.length&&w[0]===d[0]?zf(w):[]}),lv=kr(function(d){var w=_l(d),D=ei(d,jp);return w===_l(D)?w=n:D.pop(),D.length&&D[0]===d[0]?zf(D,Kn(w,2)):[]}),uv=kr(function(d){var w=_l(d),D=ei(d,jp);return w=typeof w=="function"?w:n,w&&D.pop(),D.length&&D[0]===d[0]?zf(D,n,w):[]});function cb(d,w){return d==null?"":ps.call(d,w)}function _l(d){var w=d==null?0:d.length;return w?d[w-1]:n}function fb(d,w,D){var H=d==null?0:d.length;if(!H)return-1;var le=H;return D!==n&&(le=br(D),le=le<0?ir(H+le,0):Wn(le,H-1)),w===w?Rp(d,w,le):Vs(d,jc,le,!0)}function bd(d,w){return d&&d.length?W0(d,br(w)):n}var hm=kr(cv);function cv(d,w){return d&&d.length&&w&&w.length?od(d,w):d}function Zp(d,w,D){return d&&d.length&&w&&w.length?od(d,w,Kn(D,2)):d}function aA(d,w,D){return d&&d.length&&w&&w.length?od(d,w,n,D):d}var Kr=cc(function(d,w){var D=d==null?0:d.length,H=Rt(d,w);return Iy(d,ei(w,function(le){return yl(le,D)?+le:le}).sort(fd)),H});function pb(d,w){var D=[];if(!(d&&d.length))return D;var H=-1,le=[],we=d.length;for(w=Kn(w,3);++H<we;){var $e=d[H];w($e,H,d)&&(D.push($e),le.push(H))}return Iy(d,le),D}function sA(d){return d==null?d:Bo.call(d)}function Xp(d,w,D){var H=d==null?0:d.length;return H?(D&&typeof D!="number"&&ia(d,w,D)?(w=0,D=H):(w=w==null?0:br(w),D=D===n?H:br(D)),dl(d,w,D)):[]}function hb(d,w){return sd(d,w)}function Ab(d,w,D){return X0(d,w,Kn(D,2))}function db(d,w){var D=d==null?0:d.length;if(D){var H=sd(d,w);if(H<D&&Ir(d[H],w))return H}return-1}function mb(d,w){return sd(d,w,!0)}function gb(d,w,D){return X0(d,w,Kn(D,2),!0)}function yb(d,w){var D=d==null?0:d.length;if(D){var H=sd(d,w,!0)-1;if(Ir(d[H],w))return H}return-1}function vb(d){return d&&d.length?My(d):[]}function fv(d,w){return d&&d.length?My(d,Kn(w,2)):[]}function pv(d){var w=d==null?0:d.length;return w?dl(d,1,w):[]}function hv(d,w,D){return d&&d.length?(w=D||w===n?1:br(w),dl(d,0,w<0?0:w)):[]}function Av(d,w,D){var H=d==null?0:d.length;return H?(w=D||w===n?1:br(w),w=H-w,dl(d,w<0?0:w,H)):[]}function wd(d,w){return d&&d.length?Gi(d,Kn(w,3),!1,!0):[]}function Zf(d,w){return d&&d.length?Gi(d,Kn(w,3)):[]}var Am=kr(function(d){return ef(An(d,1,hr,!0))}),Yp=kr(function(d){var w=_l(d);return hr(w)&&(w=n),ef(An(d,1,hr,!0),Kn(w,2))}),dv=kr(function(d){var w=_l(d);return w=typeof w=="function"?w:n,ef(An(d,1,hr,!0),n,w)});function yo(d){return d&&d.length?ef(d):[]}function vi(d,w){return d&&d.length?ef(d,Kn(w,2)):[]}function mv(d,w){return w=typeof w=="function"?w:n,d&&d.length?ef(d,n,w):[]}function Sd(d){if(!(d&&d.length))return[];var w=0;return d=Zo(d,function(D){if(hr(D))return w=ir(D.length,w),!0}),Hr(w,function(D){return ei(d,Xu(D))})}function dm(d,w){if(!(d&&d.length))return[];var D=Sd(d);return w==null?D:ei(D,function(H){return co(w,n,H)})}var gv=kr(function(d,w){return hr(d)?fn(d,w):[]}),yv=kr(function(d){return ld(Zo(d,hr))}),mm=kr(function(d){var w=_l(d);return hr(w)&&(w=n),ld(Zo(d,hr),Kn(w,2))}),Xf=kr(function(d){var w=_l(d);return w=typeof w=="function"?w:n,ld(Zo(d,hr),n,w)}),Yf=kr(Sd);function vv(d,w){return Jh(d||[],w||[],et)}function vo(d,w){return Jh(d||[],w||[],$p)}var lA=kr(function(d){var w=d.length,D=w>1?d[w-1]:n;return D=typeof D=="function"?(d.pop(),D):n,dm(d,D)});function _u(d){var w=_(d);return w.__chain__=!0,w}function Cd(d,w){return w(d),d}function Jf(d,w){return w(d)}var gm=cc(function(d){var w=d.length,D=w?d[0]:0,H=this.__wrapped__,le=function(we){return Rt(we,d)};return w>1||this.__actions__.length||!(H instanceof z)||!yl(D)?this.thru(le):(H=H.slice(D,+D+(w?1:0)),H.__actions__.push({func:Jf,args:[le],thisArg:n}),new I(H,this.__chain__).thru(function(we){return w&&!we.length&&we.push(n),we}))});function Jp(){return _u(this)}function pc(){return new I(this.value(),this.__chain__)}function _v(){this.__values__===n&&(this.__values__=vm(this.value()));var d=this.__index__>=this.__values__.length,w=d?n:this.__values__[this.__index__++];return{done:d,value:w}}function xv(){return this}function _b(d){for(var w,D=this;D instanceof M;){var H=Jy(D);H.__index__=0,H.__values__=n,w?le.__wrapped__=H:w=H;var le=H;D=D.__wrapped__}return le.__wrapped__=d,w}function No(){var d=this.__wrapped__;if(d instanceof z){var w=d;return this.__actions__.length&&(w=new z(this)),w=w.reverse(),w.__actions__.push({func:Jf,args:[sA],thisArg:n}),new I(w,this.__chain__)}return this.thru(sA)}function uf(){return Yh(this.__wrapped__,this.__actions__)}var bv=lc(function(d,w,D){$r.call(d,D)?++d[D]:zt(d,D,1)});function r(d,w,D){var H=Xn(d)?sl:Vn;return D&&ia(d,w,D)&&(w=n),H(d,Kn(w,3))}function o(d,w){var D=Xn(d)?Zo:Rn;return D(d,Kn(w,3))}var u=pd(iA),g=pd(oA);function b(d,w){return An(he(d,w),1)}function C(d,w){return An(he(d,w),xn)}function T(d,w,D){return D=D===n?1:br(D),An(he(d,w),D)}function B(d,w){var D=Xn(d)?fo:Dn;return D(d,Kn(w,3))}function j(d,w){var D=Xn(d)?ls:tr;return D(d,Kn(w,3))}var W=lc(function(d,w,D){$r.call(d,D)?d[D].push(w):zt(d,D,[w])});function Z(d,w,D,H){d=xo(d)?d:sp(d),D=D&&!H?br(D):0;var le=d.length;return D<0&&(D=ir(le+D,0)),dc(d)?D<=le&&d.indexOf(w,D)>-1:!!le&&Rl(d,w,D)>-1}var Y=kr(function(d,w,D){var H=-1,le=typeof w=="function",we=xo(d)?xt(d.length):[];return Dn(d,function($e){we[++H]=le?co(w,$e,D):Al($e,w,D)}),we}),ue=lc(function(d,w,D){zt(d,D,w)});function he(d,w){var D=Xn(d)?ei:Uf;return D(d,Kn(w,3))}function Ce(d,w,D,H){return d==null?[]:(Xn(w)||(w=w==null?[]:[w]),D=H?n:D,Xn(D)||(D=D==null?[]:[D]),id(d,w,D))}var Ee=lc(function(d,w,D){d[D?0:1].push(w)},function(){return[[],[]]});function Ve(d,w,D){var H=Xn(d)?Ku:Fl,le=arguments.length<3;return H(d,Kn(w,4),D,le,Dn)}function Re(d,w,D){var H=Xn(d)?lu:Fl,le=arguments.length<3;return H(d,Kn(w,4),D,le,tr)}function tt(d,w){var D=Xn(d)?Zo:Rn;return D(d,_i(Kn(w,3)))}function rt(d){var w=Xn(d)?ze:jx;return w(d)}function ft(d,w,D){(D?ia(d,w,D):w===n)?w=1:w=br(w);var H=Xn(d)?ke:ad;return H(d,w)}function pt(d){var w=Xn(d)?Be:Vx;return w(d)}function kt(d){if(d==null)return 0;if(xo(d))return dc(d)?us(d):d.length;var w=Wa(d);return w==mi||w==Wr?d.size:oc(d).length}function Ut(d,w,D){var H=Xn(d)?$s:Hx;return D&&ia(d,w,D)&&(w=n),H(d,Kn(w,3))}var Kt=kr(function(d,w){if(d==null)return[];var D=w.length;return D>1&&ia(d,w[0],w[1])?w=[]:D>2&&ia(w[0],w[1],w[2])&&(w=[w[0]]),id(d,An(w,1),[])}),gn=Bp||function(){return yi.Date.now()};function en(d,w){if(typeof w!="function")throw new $i(a);return d=br(d),function(){if(--d<1)return w.apply(this,arguments)}}function En(d,w,D){return w=D?n:w,w=d&&w==null?d.length:w,uc(d,Se,n,n,n,n,w)}function nn(d,w){var D;if(typeof w!="function")throw new $i(a);return d=br(d),function(){return--d>0&&(D=w.apply(this,arguments)),d<=1&&(w=n),D}}var Zn=kr(function(d,w,D){var H=te;if(D.length){var le=Es(D,qf(Zn));H|=_e}return uc(d,H,w,D,le)}),Mn=kr(function(d,w,D){var H=te|V;if(D.length){var le=Es(D,qf(Mn));H|=_e}return uc(w,H,d,D,le)});function yn(d,w,D){w=D?n:w;var H=uc(d,ee,n,n,n,n,n,w);return H.placeholder=yn.placeholder,H}function or(d,w,D){w=D?n:w;var H=uc(d,ce,n,n,n,n,n,w);return H.placeholder=or.placeholder,H}function Hn(d,w,D){var H,le,we,$e,Ye,lt,Dt=0,Ft=!1,qt=!1,Sn=!0;if(typeof d!="function")throw new $i(a);w=xl(w)||0,fi(D)&&(Ft=!!D.leading,qt="maxWait"in D,we=qt?ir(xl(D.maxWait)||0,w):we,Sn="trailing"in D?!!D.trailing:Sn);function Nn(ya){var gc=H,lp=le;return H=le=n,Dt=ya,$e=d.apply(lp,gc),$e}function ar(ya){return Dt=ya,Ye=Kp(Qr,w),Ft?Nn(ya):$e}function Br(ya){var gc=ya-lt,lp=ya-Dt,x5=w-gc;return qt?Wn(x5,we-lp):x5}function sr(ya){var gc=ya-lt,lp=ya-Dt;return lt===n||gc>=w||gc<0||qt&&lp>=we}function Qr(){var ya=gn();if(sr(ya))return ii(ya);Ye=Kp(Qr,Br(ya))}function ii(ya){return Ye=n,Sn&&H?Nn(ya):(H=le=n,$e)}function $l(){Ye!==n&&ud(Ye),Dt=0,H=lt=le=Ye=n}function Xs(){return Ye===n?$e:ii(gn())}function jl(){var ya=gn(),gc=sr(ya);if(H=arguments,le=this,lt=ya,gc){if(Ye===n)return ar(lt);if(qt)return ud(Ye),Ye=Kp(Qr,w),Nn(lt)}return Ye===n&&(Ye=Kp(Qr,w)),$e}return jl.cancel=$l,jl.flush=Xs,jl}var xr=kr(function(d,w){return _r(d,1,w)}),Pn=kr(function(d,w,D){return _r(d,xl(w)||0,D)});function Lr(d){return uc(d,Ze)}function si(d,w){if(typeof d!="function"||w!=null&&typeof w!="function")throw new $i(a);var D=function(){var H=arguments,le=w?w.apply(this,H):H[0],we=D.cache;if(we.has(le))return we.get(le);var $e=d.apply(this,H);return D.cache=we.set(le,$e)||we,$e};return D.cache=new(si.Cache||Wt),D}si.Cache=Wt;function _i(d){if(typeof d!="function")throw new $i(a);return function(){var w=arguments;switch(w.length){case 0:return!d.call(this);case 1:return!d.call(this,w[0]);case 2:return!d.call(this,w[0],w[1]);case 3:return!d.call(this,w[0],w[1],w[2])}return!d.apply(this,w)}}function Mi(d){return nn(2,d)}var xi=Dy(function(d,w){w=w.length==1&&Xn(w[0])?ei(w[0],ko(Kn())):ei(An(w,1),ko(Kn()));var D=w.length;return kr(function(H){for(var le=-1,we=Wn(H.length,D);++le<we;)H[le]=w[le].call(this,H[le]);return co(d,this,H)})}),Ci=kr(function(d,w){var D=Es(w,qf(Ci));return uc(d,_e,n,w,D)}),_o=kr(function(d,w){var D=Es(w,qf(_o));return uc(d,re,n,w,D)}),Io=cc(function(d,w){return uc(d,Le,n,n,n,w)});function Ea(d,w){if(typeof d!="function")throw new $i(a);return w=w===n?w:br(w),kr(d,w)}function Uo(d,w){if(typeof d!="function")throw new $i(a);return w=w==null?0:ir(br(w),0),kr(function(D){var H=D[w],le=ml(D,0,w);return H&&Ua(le,H),co(d,this,le)})}function ka(d,w,D){var H=!0,le=!0;if(typeof d!="function")throw new $i(a);return fi(D)&&(H="leading"in D?!!D.leading:H,le="trailing"in D?!!D.trailing:le),Hn(d,w,{leading:H,maxWait:w,trailing:le})}function Ji(d){return En(d,1)}function $o(d,w){return Ci(Hf(w),d)}function fr(){if(!arguments.length)return[];var d=arguments[0];return Xn(d)?d:[d]}function ri(d){return mn(d,$)}function Gr(d,w){return w=typeof w=="function"?w:n,mn(d,$,w)}function Pr(d){return mn(d,F|$)}function Ra(d,w){return w=typeof w=="function"?w:n,mn(d,F|$,w)}function da(d,w){return w==null||kn(d,w,Pa(w))}function Ir(d,w){return d===w||d!==d&&w!==w}var lo=Ad(ra),ma=Ad(function(d,w){return d>=w}),pr=mu(function(){return arguments}())?mu:function(d){return Qi(d)&&$r.call(d,"callee")&&!Yo.call(d,"callee")},Xn=xt.isArray,Ms=Ll?ko(Ll):Nf;function xo(d){return d!=null&&tp(d.length)&&!Zs(d)}function hr(d){return Qi(d)&&xo(d)}function xu(d){return d===!0||d===!1||Qi(d)&&Hi(d)==$n}var ga=Zc||Fb,eh=Uc?ko(Uc):Yc;function ep(d){return Qi(d)&&d.nodeType===1&&!Ac(d)}function th(d){if(d==null)return!0;if(xo(d)&&(Xn(d)||typeof d=="string"||typeof d.splice=="function"||ga(d)||Nl(d)||pr(d)))return!d.length;var w=Wa(d);if(w==mi||w==Wr)return!d.size;if(sf(d))return!oc(d).length;for(var D in d)if($r.call(d,D))return!1;return!0}function hc(d,w){return Qa(d,w)}function nh(d,w,D){D=typeof D=="function"?D:n;var H=D?D(d,w):n;return H===n?Qa(d,w,n,D):!!H}function rh(d){if(!Qi(d))return!1;var w=Hi(d);return w==jr||w==Xr||typeof d.message=="string"&&typeof d.name=="string"&&!Ac(d)}function ih(d){return typeof d=="number"&&Xc(d)}function Zs(d){if(!fi(d))return!1;var w=Hi(d);return w==Fi||w==jn||w==Cn||w==bs}function uA(d){return typeof d=="number"&&d==br(d)}function tp(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=at}function fi(d){var w=typeof d;return d!=null&&(w=="object"||w=="function")}function Qi(d){return d!=null&&typeof d=="object"}var np=Ki?ko(Ki):go;function cf(d,w){return d===w||Ks(d,w,ni(w))}function oh(d,w,D){return D=typeof D=="function"?D:n,Ks(d,w,ni(w),D)}function Ed(d){return pA(d)&&d!=+d}function kd(d){if(Wy(d))throw new er(l);return ks(d)}function cA(d){return d===null}function fA(d){return d==null}function pA(d){return typeof d=="number"||Qi(d)&&Hi(d)==gi}function Ac(d){if(!Qi(d)||Hi(d)!=Bi)return!1;var w=Fo(d);if(w===null)return!0;var D=$r.call(w,"constructor")&&w.constructor;return typeof D=="function"&&D instanceof D&&pl.call(D)==Ff}var rp=$c?ko($c):ic;function hA(d){return uA(d)&&d>=-at&&d<=at}var AA=Us?ko(Us):Yi;function dc(d){return typeof d=="string"||!Xn(d)&&Qi(d)&&Hi(d)==Lo}function Za(d){return typeof d=="symbol"||Qi(d)&&Hi(d)==io}var Nl=Ss?ko(Ss):qi;function dA(d){return d===n}function ip(d){return Qi(d)&&Wa(d)==Do}function mA(d){return Qi(d)&&Hi(d)==la}var ah=Ad(Kh),ym=Ad(function(d,w){return d<=w});function vm(d){if(!d)return[];if(xo(d))return dc(d)?pa(d):Ps(d);if(Ws&&d[Ws])return Si(d[Ws]());var w=Wa(d),D=w==mi?fu:w==Wr?$a:sp;return D(d)}function Ul(d){if(!d)return d===0?d:0;if(d=xl(d),d===xn||d===-xn){var w=d<0?-1:1;return w*Me}return d===d?d:0}function br(d){var w=Ul(d),D=w%1;return w===w?D?w-D:w:0}function Pd(d){return d?Jt(br(d),0,oe):0}function xl(d){if(typeof d=="number")return d;if(Za(d))return Oe;if(fi(d)){var w=typeof d.valueOf=="function"?d.valueOf():d;d=fi(w)?w+"":w}if(typeof d!="string")return d===0?d:+d;d=Lf(d);var D=It.test(d);return D||hn.test(d)?Op(d.slice(2),D?2:8):ct.test(d)?Oe:+d}function sh(d){return yu(d,ds(d))}function eo(d){return d?Jt(br(d),-at,at):d===0?d:0}function Mr(d){return d==null?"":As(d)}var xb=Vp(function(d,w){if(sf(w)||xo(w)){yu(w,Pa(w),d);return}for(var D in w)$r.call(w,D)&&et(d,D,w[D])}),mc=Vp(function(d,w){yu(w,ds(w),d)}),lh=Vp(function(d,w,D,H){yu(w,ds(w),d,H)}),wv=Vp(function(d,w,D,H){yu(w,Pa(w),d,H)}),Td=cc(Rt);function bu(d,w){var D=k(d);return w==null?D:gt(D,w)}var Id=kr(function(d,w){d=Ln(d);var D=-1,H=w.length,le=H>2?w[2]:n;for(le&&ia(w[0],w[1],le)&&(H=1);++D<H;)for(var we=w[D],$e=ds(we),Ye=-1,lt=$e.length;++Ye<lt;){var Dt=$e[Ye],Ft=d[Dt];(Ft===n||Ir(Ft,fs[Dt])&&!$r.call(d,Dt))&&(d[Dt]=we[Dt])}return d}),gA=kr(function(d){return d.push(n,om),co(ap,n,d)});function Md(d,w){return js(d,Kn(w,3),Ii)}function Od(d,w){return js(d,Kn(w,3),so)}function _m(d,w){return d==null?d:qr(d,Kn(w,3),ds)}function Sv(d,w){return d==null?d:Vi(d,Kn(w,3),ds)}function yA(d,w){return d&&Ii(d,Kn(w,3))}function Cv(d,w){return d&&so(d,Kn(w,3))}function Ev(d){return d==null?[]:Xi(d,Pa(d))}function kv(d){return d==null?[]:Xi(d,ds(d))}function Ld(d,w,D){var H=d==null?n:ci(d,w);return H===n?D:H}function Pv(d,w){return d!=null&&Gy(d,w,wa)}function Xa(d,w){return d!=null&&Gy(d,w,hl)}var Dd=$y(function(d,w,D){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),d[w]=D},Mb(bl)),Tv=$y(function(d,w,D){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),$r.call(d,w)?d[w].push(D):d[w]=[D]},Kn),wu=kr(Al);function Pa(d){return xo(d)?Pe(d):oc(d)}function ds(d){return xo(d)?Pe(d,!0):Up(d)}function op(d,w){var D={};return w=Kn(w,3),Ii(d,function(H,le,we){zt(D,w(H,le,we),H)}),D}function uh(d,w){var D={};return w=Kn(w,3),Ii(d,function(H,le,we){zt(D,le,w(H,le,we))}),D}var ch=Vp(function(d,w,D){gu(d,w,D)}),ap=Vp(function(d,w,D,H){gu(d,w,D,H)}),fh=cc(function(d,w){var D={};if(d==null)return D;var H=!1;w=ei(w,function(we){return we=sc(we,d),H||(H=we.length>1),we}),yu(d,sm(d),D),H&&(D=mn(D,F|N|$,Wx));for(var le=w.length;le--;)tf(D,w[le]);return D});function Iv(d,w){return xm(d,_i(Kn(w)))}var Mv=cc(function(d,w){return d==null?{}:Vf(d,w)});function xm(d,w){if(d==null)return{};var D=ei(sm(d),function(H){return[H]});return w=Kn(w),Da(d,D,function(H,le){return w(H,le[0])})}function Ov(d,w,D){w=sc(w,d);var H=-1,le=w.length;for(le||(le=1,d=n);++H<le;){var we=d==null?n:d[vl(w[H])];we===n&&(H=le,we=D),d=Zs(we)?we.call(d):we}return d}function bm(d,w,D){return d==null?d:$p(d,w,D)}function wm(d,w,D,H){return H=typeof H=="function"?H:n,d==null?d:$p(d,w,D,H)}var Su=Sa(Pa),Sm=Sa(ds);function Cm(d,w,D){var H=Xn(d),le=H||ga(d)||Nl(d);if(w=Kn(w,4),D==null){var we=d&&d.constructor;le?D=H?new we:[]:fi(d)?D=Zs(we)?k(Fo(d)):{}:D={}}return(le?fo:Ii)(d,function($e,Ye,lt){return w(D,$e,Ye,lt)}),D}function Em(d,w){return d==null?!0:tf(d,w)}function Lv(d,w,D){return d==null?d:Ly(d,w,Hf(D))}function km(d,w,D,H){return H=typeof H=="function"?H:n,d==null?d:Ly(d,w,Hf(D),H)}function sp(d){return d==null?[]:qc(d,Pa(d))}function Dv(d){return d==null?[]:qc(d,ds(d))}function Pm(d,w,D){return D===n&&(D=w,w=n),D!==n&&(D=xl(D),D=D===D?D:0),w!==n&&(w=xl(w),w=w===w?w:0),Jt(xl(d),w,D)}function Rv(d,w,D){return w=Ul(w),D===n?(D=w,w=0):D=Ul(D),d=xl(d),hs(d,w,D)}function vA(d,w,D){if(D&&typeof D!="boolean"&&ia(d,w,D)&&(w=D=n),D===n&&(typeof w=="boolean"?(D=w,w=n):typeof d=="boolean"&&(D=d,d=n)),d===n&&w===n?(d=0,w=1):(d=Ul(d),w===n?(w=d,d=0):w=Ul(w)),d>w){var H=d;d=w,w=H}if(D||d%1||w%1){var le=Bn();return Wn(d+le*(w-d+Nc("1e-"+((le+"").length-1))),w)}return K0(d,w)}var Fv=Hp(function(d,w,D){return w=w.toLowerCase(),d+(D?_A(w):w)});function _A(d){return Ib(Mr(d).toLowerCase())}function Bv(d){return d=Mr(d),d&&d.replace(Gt,Ui).replace(Bc,"")}function zv(d,w,D){d=Mr(d),w=As(w);var H=d.length;D=D===n?H:Jt(br(D),0,H);var le=D;return D-=w.length,D>=0&&d.slice(D,le)==w}function bb(d){return d=Mr(d),d&&Ei.test(d)?d.replace(La,Gc):d}function wb(d){return d=Mr(d),d&&He.test(d)?d.replace(Ue,"\\$&"):d}var Sb=Hp(function(d,w,D){return d+(D?"-":"")+w.toLowerCase()}),Cb=Hp(function(d,w,D){return d+(D?" ":"")+w.toLowerCase()}),Eb=Uy("toLowerCase");function kb(d,w,D){d=Mr(d),w=br(w);var H=w?us(d):0;if(!w||H>=w)return d;var le=(w-H)/2;return nf(Va(le),D)+d+nf(mo(le),D)}function Pb(d,w,D){d=Mr(d),w=br(w);var H=w?us(d):0;return w&&H<w?d+nf(w-H,D):d}function Tb(d,w,D){d=Mr(d),w=br(w);var H=w?us(d):0;return w&&H<w?nf(w-H,D)+d:d}function Cu(d,w,D){return D||w==null?w=0:w&&(w=+w),Ti(Mr(d).replace(Ne,""),w||0)}function Rd(d,w,D){return(D?ia(d,w,D):w===n)?w=1:w=br(w),Z0(Mr(d),w)}function Nv(){var d=arguments,w=Mr(d[0]);return d.length<3?w:w.replace(d[1],d[2])}var xA=Hp(function(d,w,D){return d+(D?"_":"")+w.toLowerCase()});function Uv(d,w,D){return D&&typeof D!="number"&&ia(d,w,D)&&(w=D=n),D=D===n?oe:D>>>0,D?(d=Mr(d),d&&(typeof w=="string"||w!=null&&!rp(w))&&(w=As(w),!w&&fl(d))?ml(pa(d),0,D):d.split(w,D)):[]}var hD=Hp(function(d,w,D){return d+(D?" ":"")+Ib(w)});function AD(d,w,D){return d=Mr(d),D=D==null?0:Jt(br(D),0,d.length),w=As(w),d.slice(D,D+w.length)==w}function dD(d,w,D){var H=_.templateSettings;D&&ia(d,w,D)&&(w=n),d=Mr(d),w=lh({},w,H,im);var le=lh({},w.imports,H.imports,im),we=Pa(le),$e=qc(le,we),Ye,lt,Dt=0,Ft=w.interpolate||dr,qt="__p += '",Sn=cr((w.escape||dr).source+"|"+Ft.source+"|"+(Ft===se?Ot:dr).source+"|"+(w.evaluate||dr).source+"|$","g"),Nn="//# sourceURL="+($r.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++al+"]")+`
`;d.replace(Sn,function(sr,Qr,ii,$l,Xs,jl){return ii||(ii=$l),qt+=d.slice(Dt,jl).replace(Jn,Ju),Qr&&(Ye=!0,qt+=`' +
__e(`+Qr+`) +
'`),Xs&&(lt=!0,qt+=`';
`+Xs+`;
__p += '`),ii&&(qt+=`' +
((__t = (`+ii+`)) == null ? '' : __t) +
'`),Dt=jl+sr.length,sr}),qt+=`';
`;var ar=$r.call(w,"variable")&&w.variable;if(!ar)qt=`with (obj) {
`+qt+`
}
`;else if(A.test(ar))throw new er(x);qt=(lt?qt.replace(mr,""):qt).replace(Co,"$1").replace(Jr,"$1;"),qt="function("+(ar||"obj")+`) {
`+(ar?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(lt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qt+`return __p
}`;var Br=v5(function(){return Cr(we,Nn+"return "+qt).apply(n,$e)});if(Br.source=qt,rh(Br))throw Br;return Br}function mD(d){return Mr(d).toLowerCase()}function gD(d){return Mr(d).toUpperCase()}function yD(d,w,D){if(d=Mr(d),d&&(D||w===n))return Lf(d);if(!d||!(w=As(w)))return d;var H=pa(d),le=pa(w),we=cl(H,le),$e=Df(H,le)+1;return ml(H,we,$e).join("")}function vD(d,w,D){if(d=Mr(d),d&&(D||w===n))return d.slice(0,cs(d)+1);if(!d||!(w=As(w)))return d;var H=pa(d),le=Df(H,pa(w))+1;return ml(H,0,le).join("")}function _D(d,w,D){if(d=Mr(d),d&&(D||w===n))return d.replace(Ne,"");if(!d||!(w=As(w)))return d;var H=pa(d),le=cl(H,pa(w));return ml(H,le).join("")}function xD(d,w){var D=ot,H=We;if(fi(w)){var le="separator"in w?w.separator:le;D="length"in w?br(w.length):D,H="omission"in w?As(w.omission):H}d=Mr(d);var we=d.length;if(fl(d)){var $e=pa(d);we=$e.length}if(D>=we)return d;var Ye=D-us(H);if(Ye<1)return H;var lt=$e?ml($e,0,Ye).join(""):d.slice(0,Ye);if(le===n)return lt+H;if($e&&(Ye+=lt.length-Ye),rp(le)){if(d.slice(Ye).search(le)){var Dt,Ft=lt;for(le.global||(le=cr(le.source,Mr($t.exec(le))+"g")),le.lastIndex=0;Dt=le.exec(Ft);)var qt=Dt.index;lt=lt.slice(0,qt===n?Ye:qt)}}else if(d.indexOf(As(le),Ye)!=Ye){var Sn=lt.lastIndexOf(le);Sn>-1&&(lt=lt.slice(0,Sn))}return lt+H}function bD(d){return d=Mr(d),d&&Vt.test(d)?d.replace(ua,Hs):d}var wD=Hp(function(d,w,D){return d+(D?" ":"")+w.toUpperCase()}),Ib=Uy("toUpperCase");function y5(d,w,D){return d=Mr(d),w=D?n:w,w===n?ec(d)?Qc(d):ll(d):d.match(w)||[]}var v5=kr(function(d,w){try{return co(d,n,w)}catch(D){return rh(D)?D:new er(D)}}),SD=cc(function(d,w){return fo(w,function(D){D=vl(D),zt(d,D,Zn(d[D],d))}),d});function CD(d){var w=d==null?0:d.length,D=Kn();return d=w?ei(d,function(H){if(typeof H[1]!="function")throw new $i(a);return[D(H[0]),H[1]]}):[],kr(function(H){for(var le=-1;++le<w;){var we=d[le];if(co(we[0],this,H))return co(we[1],this,H)}})}function ED(d){return Tn(mn(d,F))}function Mb(d){return function(){return d}}function kD(d,w){return d==null||d!==d?w:d}var PD=qp(),TD=qp(!0);function bl(d){return d}function Ob(d){return Aa(typeof d=="function"?d:mn(d,F))}function ID(d){return $f(mn(d,F))}function MD(d,w){return Zh(d,mn(w,F))}var OD=kr(function(d,w){return function(D){return Al(D,d,w)}}),LD=kr(function(d,w){return function(D){return Al(d,D,w)}});function Lb(d,w,D){var H=Pa(w),le=Xi(w,H);D==null&&!(fi(w)&&(le.length||!H.length))&&(D=w,w=d,d=this,le=Xi(w,Pa(w)));var we=!(fi(D)&&"chain"in D)||!!D.chain,$e=Zs(d);return fo(le,function(Ye){var lt=w[Ye];d[Ye]=lt,$e&&(d.prototype[Ye]=function(){var Dt=this.__chain__;if(we||Dt){var Ft=d(this.__wrapped__),qt=Ft.__actions__=Ps(this.__actions__);return qt.push({func:lt,args:arguments,thisArg:d}),Ft.__chain__=Dt,Ft}return lt.apply(d,Ua([this.value()],arguments))})}),d}function DD(){return yi._===this&&(yi._=Zi),this}function Db(){}function RD(d){return d=br(d),kr(function(w){return W0(w,d)})}var FD=nm(ei),BD=nm(sl),zD=nm($s);function _5(d){return md(d)?Xu(vl(d)):Ux(d)}function ND(d){return function(w){return d==null?n:ci(d,w)}}var UD=Vy(),$D=Vy(!0);function Rb(){return[]}function Fb(){return!1}function jD(){return{}}function VD(){return""}function HD(){return!0}function qD(d,w){if(d=br(d),d<1||d>at)return[];var D=oe,H=Wn(d,oe);w=Kn(w),d-=oe;for(var le=Hr(H,w);++D<d;)w(D);return le}function GD(d){return Xn(d)?ei(d,vl):Za(d)?[d]:Ps(Qf(Mr(d)))}function QD(d){var w=++nc;return Mr(d)+w}var WD=hd(function(d,w){return d+w},0),KD=rm("ceil"),ZD=hd(function(d,w){return d/w},1),XD=rm("floor");function YD(d){return d&&d.length?zn(d,bl,ra):n}function JD(d,w){return d&&d.length?zn(d,Kn(w,2),ra):n}function eR(d){return ul(d,bl)}function tR(d,w){return ul(d,Kn(w,2))}function nR(d){return d&&d.length?zn(d,bl,Kh):n}function rR(d,w){return d&&d.length?zn(d,Kn(w,2),Kh):n}var iR=hd(function(d,w){return d*w},1),oR=rm("round"),aR=hd(function(d,w){return d-w},0);function sR(d){return d&&d.length?Yu(d,bl):0}function lR(d,w){return d&&d.length?Yu(d,Kn(w,2)):0}return _.after=en,_.ary=En,_.assign=xb,_.assignIn=mc,_.assignInWith=lh,_.assignWith=wv,_.at=Td,_.before=nn,_.bind=Zn,_.bindAll=SD,_.bindKey=Mn,_.castArray=fr,_.chain=_u,_.chunk=ev,_.compact=tv,_.concat=nv,_.cond=CD,_.conforms=ED,_.constant=Mb,_.countBy=bv,_.create=bu,_.curry=yn,_.curryRight=or,_.debounce=Hn,_.defaults=Id,_.defaultsDeep=gA,_.defer=xr,_.delay=Pn,_.difference=rv,_.differenceBy=ob,_.differenceWith=ab,_.drop=iv,_.dropRight=ov,_.dropRightWhile=_d,_.dropWhile=av,_.fill=xd,_.filter=o,_.flatMap=b,_.flatMapDeep=C,_.flatMapDepth=T,_.flatten=Wf,_.flattenDeep=sb,_.flattenDepth=lb,_.flip=Lr,_.flow=PD,_.flowRight=TD,_.fromPairs=ub,_.functions=Ev,_.functionsIn=kv,_.groupBy=W,_.initial=sv,_.intersection=pm,_.intersectionBy=lv,_.intersectionWith=uv,_.invert=Dd,_.invertBy=Tv,_.invokeMap=Y,_.iteratee=Ob,_.keyBy=ue,_.keys=Pa,_.keysIn=ds,_.map=he,_.mapKeys=op,_.mapValues=uh,_.matches=ID,_.matchesProperty=MD,_.memoize=si,_.merge=ch,_.mergeWith=ap,_.method=OD,_.methodOf=LD,_.mixin=Lb,_.negate=_i,_.nthArg=RD,_.omit=fh,_.omitBy=Iv,_.once=Mi,_.orderBy=Ce,_.over=FD,_.overArgs=xi,_.overEvery=BD,_.overSome=zD,_.partial=Ci,_.partialRight=_o,_.partition=Ee,_.pick=Mv,_.pickBy=xm,_.property=_5,_.propertyOf=ND,_.pull=hm,_.pullAll=cv,_.pullAllBy=Zp,_.pullAllWith=aA,_.pullAt=Kr,_.range=UD,_.rangeRight=$D,_.rearg=Io,_.reject=tt,_.remove=pb,_.rest=Ea,_.reverse=sA,_.sampleSize=ft,_.set=bm,_.setWith=wm,_.shuffle=pt,_.slice=Xp,_.sortBy=Kt,_.sortedUniq=vb,_.sortedUniqBy=fv,_.split=Uv,_.spread=Uo,_.tail=pv,_.take=hv,_.takeRight=Av,_.takeRightWhile=wd,_.takeWhile=Zf,_.tap=Cd,_.throttle=ka,_.thru=Jf,_.toArray=vm,_.toPairs=Su,_.toPairsIn=Sm,_.toPath=GD,_.toPlainObject=sh,_.transform=Cm,_.unary=Ji,_.union=Am,_.unionBy=Yp,_.unionWith=dv,_.uniq=yo,_.uniqBy=vi,_.uniqWith=mv,_.unset=Em,_.unzip=Sd,_.unzipWith=dm,_.update=Lv,_.updateWith=km,_.values=sp,_.valuesIn=Dv,_.without=gv,_.words=y5,_.wrap=$o,_.xor=yv,_.xorBy=mm,_.xorWith=Xf,_.zip=Yf,_.zipObject=vv,_.zipObjectDeep=vo,_.zipWith=lA,_.entries=Su,_.entriesIn=Sm,_.extend=mc,_.extendWith=lh,Lb(_,_),_.add=WD,_.attempt=v5,_.camelCase=Fv,_.capitalize=_A,_.ceil=KD,_.clamp=Pm,_.clone=ri,_.cloneDeep=Pr,_.cloneDeepWith=Ra,_.cloneWith=Gr,_.conformsTo=da,_.deburr=Bv,_.defaultTo=kD,_.divide=ZD,_.endsWith=zv,_.eq=Ir,_.escape=bb,_.escapeRegExp=wb,_.every=r,_.find=u,_.findIndex=iA,_.findKey=Md,_.findLast=g,_.findLastIndex=oA,_.findLastKey=Od,_.floor=XD,_.forEach=B,_.forEachRight=j,_.forIn=_m,_.forInRight=Sv,_.forOwn=yA,_.forOwnRight=Cv,_.get=Ld,_.gt=lo,_.gte=ma,_.has=Pv,_.hasIn=Xa,_.head=Kf,_.identity=bl,_.includes=Z,_.indexOf=fm,_.inRange=Rv,_.invoke=wu,_.isArguments=pr,_.isArray=Xn,_.isArrayBuffer=Ms,_.isArrayLike=xo,_.isArrayLikeObject=hr,_.isBoolean=xu,_.isBuffer=ga,_.isDate=eh,_.isElement=ep,_.isEmpty=th,_.isEqual=hc,_.isEqualWith=nh,_.isError=rh,_.isFinite=ih,_.isFunction=Zs,_.isInteger=uA,_.isLength=tp,_.isMap=np,_.isMatch=cf,_.isMatchWith=oh,_.isNaN=Ed,_.isNative=kd,_.isNil=fA,_.isNull=cA,_.isNumber=pA,_.isObject=fi,_.isObjectLike=Qi,_.isPlainObject=Ac,_.isRegExp=rp,_.isSafeInteger=hA,_.isSet=AA,_.isString=dc,_.isSymbol=Za,_.isTypedArray=Nl,_.isUndefined=dA,_.isWeakMap=ip,_.isWeakSet=mA,_.join=cb,_.kebabCase=Sb,_.last=_l,_.lastIndexOf=fb,_.lowerCase=Cb,_.lowerFirst=Eb,_.lt=ah,_.lte=ym,_.max=YD,_.maxBy=JD,_.mean=eR,_.meanBy=tR,_.min=nR,_.minBy=rR,_.stubArray=Rb,_.stubFalse=Fb,_.stubObject=jD,_.stubString=VD,_.stubTrue=HD,_.multiply=iR,_.nth=bd,_.noConflict=DD,_.noop=Db,_.now=gn,_.pad=kb,_.padEnd=Pb,_.padStart=Tb,_.parseInt=Cu,_.random=vA,_.reduce=Ve,_.reduceRight=Re,_.repeat=Rd,_.replace=Nv,_.result=Ov,_.round=oR,_.runInContext=nt,_.sample=rt,_.size=kt,_.snakeCase=xA,_.some=Ut,_.sortedIndex=hb,_.sortedIndexBy=Ab,_.sortedIndexOf=db,_.sortedLastIndex=mb,_.sortedLastIndexBy=gb,_.sortedLastIndexOf=yb,_.startCase=hD,_.startsWith=AD,_.subtract=aR,_.sum=sR,_.sumBy=lR,_.template=dD,_.times=qD,_.toFinite=Ul,_.toInteger=br,_.toLength=Pd,_.toLower=mD,_.toNumber=xl,_.toSafeInteger=eo,_.toString=Mr,_.toUpper=gD,_.trim=yD,_.trimEnd=vD,_.trimStart=_D,_.truncate=xD,_.unescape=bD,_.uniqueId=QD,_.upperCase=wD,_.upperFirst=Ib,_.each=B,_.eachRight=j,_.first=Kf,Lb(_,function(){var d={};return Ii(_,function(w,D){$r.call(_.prototype,D)||(d[D]=w)}),d}(),{chain:!1}),_.VERSION=i,fo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){_[d].placeholder=_}),fo(["drop","take"],function(d,w){z.prototype[d]=function(D){D=D===n?1:ir(br(D),0);var H=this.__filtered__&&!w?new z(this):this.clone();return H.__filtered__?H.__takeCount__=Wn(D,H.__takeCount__):H.__views__.push({size:Wn(D,oe),type:d+(H.__dir__<0?"Right":"")}),H},z.prototype[d+"Right"]=function(D){return this.reverse()[d](D).reverse()}}),fo(["filter","map","takeWhile"],function(d,w){var D=w+1,H=D==Bt||D==pn;z.prototype[d]=function(le){var we=this.clone();return we.__iteratees__.push({iteratee:Kn(le,3),type:D}),we.__filtered__=we.__filtered__||H,we}}),fo(["head","last"],function(d,w){var D="take"+(w?"Right":"");z.prototype[d]=function(){return this[D](1).value()[0]}}),fo(["initial","tail"],function(d,w){var D="drop"+(w?"":"Right");z.prototype[d]=function(){return this.__filtered__?new z(this):this[D](1)}}),z.prototype.compact=function(){return this.filter(bl)},z.prototype.find=function(d){return this.filter(d).head()},z.prototype.findLast=function(d){return this.reverse().find(d)},z.prototype.invokeMap=kr(function(d,w){return typeof d=="function"?new z(this):this.map(function(D){return Al(D,d,w)})}),z.prototype.reject=function(d){return this.filter(_i(Kn(d)))},z.prototype.slice=function(d,w){d=br(d);var D=this;return D.__filtered__&&(d>0||w<0)?new z(D):(d<0?D=D.takeRight(-d):d&&(D=D.drop(d)),w!==n&&(w=br(w),D=w<0?D.dropRight(-w):D.take(w-d)),D)},z.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},z.prototype.toArray=function(){return this.take(oe)},Ii(z.prototype,function(d,w){var D=/^(?:filter|find|map|reject)|While$/.test(w),H=/^(?:head|last)$/.test(w),le=_[H?"take"+(w=="last"?"Right":""):w],we=H||/^find/.test(w);le&&(_.prototype[w]=function(){var $e=this.__wrapped__,Ye=H?[1]:arguments,lt=$e instanceof z,Dt=Ye[0],Ft=lt||Xn($e),qt=function(Qr){var ii=le.apply(_,Ua([Qr],Ye));return H&&Sn?ii[0]:ii};Ft&&D&&typeof Dt=="function"&&Dt.length!=1&&(lt=Ft=!1);var Sn=this.__chain__,Nn=!!this.__actions__.length,ar=we&&!Sn,Br=lt&&!Nn;if(!we&&Ft){$e=Br?$e:new z(this);var sr=d.apply($e,Ye);return sr.__actions__.push({func:Jf,args:[qt],thisArg:n}),new I(sr,Sn)}return ar&&Br?d.apply(this,Ye):(sr=this.thru(qt),ar?H?sr.value()[0]:sr.value():sr)})}),fo(["pop","push","shift","sort","splice","unshift"],function(d){var w=hu[d],D=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",H=/^(?:pop|shift)$/.test(d);_.prototype[d]=function(){var le=arguments;if(H&&!this.__chain__){var we=this.value();return w.apply(Xn(we)?we:[],le)}return this[D](function($e){return w.apply(Xn($e)?$e:[],le)})}}),Ii(z.prototype,function(d,w){var D=_[w];if(D){var H=D.name+"";$r.call(To,H)||(To[H]=[]),To[H].push({name:w,func:D})}}),To[Ts(n,V).name]=[{name:"wrapper",func:n}],z.prototype.clone=Q,z.prototype.reverse=ie,z.prototype.value=fe,_.prototype.at=gm,_.prototype.chain=Jp,_.prototype.commit=pc,_.prototype.next=_v,_.prototype.plant=_b,_.prototype.reverse=No,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=uf,_.prototype.first=_.prototype.head,Ws&&(_.prototype[Ws]=xv),_},qs=pu();zs?((zs.exports=qs)._=qs,ou._=qs):yi._=qs}).call(Iu)})(BF,ts);var Ic={},Nu={},Uh={},zF={get exports(){return Uh},set exports(e){Uh=e}},no={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=60103,k2=60106,cy=60107,fy=60108,py=60114,hy=60109,Ay=60110,dy=60112,my=60113,eC=60120,gy=60115,yy=60116,FI=60121,BI=60122,zI=60117,NI=60129,UI=60131;if(typeof Symbol=="function"&&Symbol.for){var ms=Symbol.for;E2=ms("react.element"),k2=ms("react.portal"),cy=ms("react.fragment"),fy=ms("react.strict_mode"),py=ms("react.profiler"),hy=ms("react.provider"),Ay=ms("react.context"),dy=ms("react.forward_ref"),my=ms("react.suspense"),eC=ms("react.suspense_list"),gy=ms("react.memo"),yy=ms("react.lazy"),FI=ms("react.block"),BI=ms("react.server.block"),zI=ms("react.fundamental"),NI=ms("react.debug_trace_mode"),UI=ms("react.legacy_hidden")}function Mc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case E2:switch(e=e.type,e){case cy:case py:case fy:case my:case eC:return e;default:switch(e=e&&e.$$typeof,e){case Ay:case dy:case yy:case gy:case hy:return e;default:return t}}case k2:return t}}}var NF=hy,UF=E2,$F=dy,jF=cy,VF=yy,HF=gy,qF=k2,GF=py,QF=fy,WF=my;no.ContextConsumer=Ay;no.ContextProvider=NF;no.Element=UF;no.ForwardRef=$F;no.Fragment=jF;no.Lazy=VF;no.Memo=HF;no.Portal=qF;no.Profiler=GF;no.StrictMode=QF;no.Suspense=WF;no.isAsyncMode=function(){return!1};no.isConcurrentMode=function(){return!1};no.isContextConsumer=function(e){return Mc(e)===Ay};no.isContextProvider=function(e){return Mc(e)===hy};no.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===E2};no.isForwardRef=function(e){return Mc(e)===dy};no.isFragment=function(e){return Mc(e)===cy};no.isLazy=function(e){return Mc(e)===yy};no.isMemo=function(e){return Mc(e)===gy};no.isPortal=function(e){return Mc(e)===k2};no.isProfiler=function(e){return Mc(e)===py};no.isStrictMode=function(e){return Mc(e)===fy};no.isSuspense=function(e){return Mc(e)===my};no.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cy||e===py||e===NI||e===fy||e===my||e===eC||e===UI||typeof e=="object"&&e!==null&&(e.$$typeof===yy||e.$$typeof===gy||e.$$typeof===hy||e.$$typeof===Ay||e.$$typeof===dy||e.$$typeof===zI||e.$$typeof===FI||e[0]===BI)};no.typeOf=Mc;(function(e){e.exports=no})(zF);Object.defineProperty(Nu,"__esModule",{value:!0});Nu.isArray=JF;Nu.isBoolean=VI;Nu.isNull=HI;Nu.isNumber=jI;Nu.isObject=YF;Nu.isPrimitiveData=XF;Nu.isString=$I;Nu.isUndefined=qI;var KF=ts,ZF=Uh;function $I(e){return typeof e=="string"}function jI(e){return typeof e=="number"}function VI(e){return typeof e=="boolean"}function HI(e){return e===null}function qI(e){return e===void 0}function XF(e){return $I(e)||jI(e)||VI(e)||HI(e)||qI(e)}function YF(e){return(0,KF.isPlainObject)(e)&&!(0,ZF.isElement)(e)}function JF(e){return Array.isArray(e)}var P2={},GI={},tC={};Object.defineProperty(tC,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function LE(e){return Object.prototype.toString.call(e)==="[object Object]"}function e9(e){var t,n;return LE(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(LE(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}tC.isPlainObject=e9;var nC={},T_=Iu&&Iu.__assign||function(){return T_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},T_.apply(this,arguments)},t9=Iu&&Iu.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var l=arguments[t],a=0,x=l.length;a<x;a++,s++)i[s]=l[a];return i};Object.defineProperty(nC,"__esModule",{value:!0});var Bm=[];function n9(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function r9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function i9(e){return Object.getOwnPropertySymbols(e).filter(function(t){return Object.prototype.propertyIsEnumerable.call(e,t)})}function K1(e,t,n){n===void 0&&(n="");var i={indent:"	",singleQuotes:!0},s=T_(T_({},i),t),l;s.inlineCharacterLimit===void 0?l={newLine:`
`,newLineOrSpace:`
`,pad:n,indent:n+s.indent}:l={newLine:"@@__PRETTY_PRINT_NEW_LINE__@@",newLineOrSpace:"@@__PRETTY_PRINT_NEW_LINE_OR_SPACE__@@",pad:"@@__PRETTY_PRINT_PAD__@@",indent:"@@__PRETTY_PRINT_INDENT__@@"};var a=function(P){if(s.inlineCharacterLimit===void 0)return P;var L=P.replace(new RegExp(l.newLine,"g"),"").replace(new RegExp(l.newLineOrSpace,"g")," ").replace(new RegExp(l.pad+"|"+l.indent,"g"),"");return L.length<=s.inlineCharacterLimit?L:P.replace(new RegExp(l.newLine+"|"+l.newLineOrSpace,"g"),`
`).replace(new RegExp(l.pad,"g"),n).replace(new RegExp(l.indent,"g"),n+s.indent)};if(Bm.indexOf(e)!==-1)return'"[Circular]"';if(e==null||typeof e=="number"||typeof e=="boolean"||typeof e=="function"||typeof e=="symbol"||r9(e))return String(e);if(e instanceof Date)return"new Date('"+e.toISOString()+"')";if(Array.isArray(e)){if(e.length===0)return"[]";Bm.push(e);var x="["+l.newLine+e.map(function(P,L){var F=e.length-1===L?l.newLine:","+l.newLineOrSpace,N=K1(P,s,n+s.indent);return s.transform&&(N=s.transform(e,L,N)),l.indent+N+F}).join("")+l.pad+"]";return Bm.pop(),a(x)}if(n9(e)){var S=t9(Object.keys(e),i9(e));if(s.filter&&(S=S.filter(function(L){return s.filter&&s.filter(e,L)})),S.length===0)return"{}";Bm.push(e);var x="{"+l.newLine+S.map(function(L,F){var N=S.length-1===F?l.newLine:","+l.newLineOrSpace,$=typeof L=="symbol",q=!$&&/^[a-z$_][a-z$_0-9]*$/i.test(L.toString()),K=$||q?L:K1(L,s),te=K1(e[L],s,n+s.indent);return s.transform&&(te=s.transform(e,L,te)),l.indent+String(K)+": "+te+N}).join("")+l.pad+"}";return Bm.pop(),a(x)}return e=String(e).replace(/[\r\n]/g,function(P){return P===`
`?"\\n":"\\r"}),s.singleQuotes?(e=e.replace(/\\?'/g,"\\'"),"'"+e+"'"):(e=e.replace(/"/g,'\\"'),'"'+e+'"')}nC.prettyPrint=K1;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=tC,n=jt,i=nC,s=Uh;function l(vt){return vt&&typeof vt=="object"&&"default"in vt?vt:{default:vt}}function a(vt){if(vt&&vt.__esModule)return vt;var be=Object.create(null);return vt&&Object.keys(vt).forEach(function(Je){if(Je!=="default"){var Ct=Object.getOwnPropertyDescriptor(vt,Je);Object.defineProperty(be,Je,Ct.get?Ct:{enumerable:!0,get:function(){return vt[Je]}})}}),be.default=vt,Object.freeze(be)}var x=a(n),S=l(n),P=function(vt,be){return vt===0?"":new Array(vt*be).fill(" ").join("")};function L(vt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(be){return typeof be}:L=function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},L(vt)}function F(vt){return N(vt)||$(vt)||q(vt)||te()}function N(vt){if(Array.isArray(vt))return K(vt)}function $(vt){if(typeof Symbol<"u"&&vt[Symbol.iterator]!=null||vt["@@iterator"]!=null)return Array.from(vt)}function q(vt,be){if(vt){if(typeof vt=="string")return K(vt,be);var Je=Object.prototype.toString.call(vt).slice(8,-1);if(Je==="Object"&&vt.constructor&&(Je=vt.constructor.name),Je==="Map"||Je==="Set")return Array.from(vt);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return K(vt,be)}}function K(vt,be){(be==null||be>vt.length)&&(be=vt.length);for(var Je=0,Ct=new Array(be);Je<be;Je++)Ct[Je]=vt[Je];return Ct}function te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(vt,be){return vt===null||L(vt)!=="object"||vt instanceof Date||vt instanceof RegExp||x.isValidElement(vt)?vt:(be.add(vt),Array.isArray(vt)?vt.map(function(Je){return V(Je,be)}):Object.keys(vt).sort().reduce(function(Je,Ct){return Ct==="_owner"||(Ct==="current"||be.has(vt[Ct])?Je[Ct]="[Circular]":Je[Ct]=V(vt[Ct],be)),Je},{}))}function X(vt){return V(vt,new WeakSet)}var ee=function(be){return{type:"string",value:be}},ce=function(be){return{type:"number",value:be}},_e=function(be,Je,Ct,an){return{type:"ReactElement",displayName:be,props:Je,defaultProps:Ct,childrens:an}},re=function(be,Je){return{type:"ReactFragment",key:be,childrens:Je}},Se=!!n.Fragment,Le=function(be){return!be.name||be.name==="_default"?"No Display Name":be.name},Ze=function vt(be){switch(!0){case!!be.displayName:return be.displayName;case be.$$typeof===s.Memo:return vt(be.type);case be.$$typeof===s.ForwardRef:return vt(be.render);default:return Le(be)}},ot=function(be){switch(!0){case typeof be.type=="string":return be.type;case typeof be.type=="function":return be.type.displayName?be.type.displayName:Le(be.type);case s.isForwardRef(be):case s.isMemo(be):return Ze(be.type);case s.isContextConsumer(be):return"".concat(be.type._context.displayName||"Context",".Consumer");case s.isContextProvider(be):return"".concat(be.type._context.displayName||"Context",".Provider");case s.isLazy(be):return"Lazy";case s.isProfiler(be):return"Profiler";case s.isStrictMode(be):return"StrictMode";case s.isSuspense(be):return"Suspense";default:return"UnknownElementType"}},We=function(be,Je){return Je!=="children"},ut=function(be){return be!==!0&&be!==!1&&be!==null&&be!==""},yt=function(be,Je){var Ct={};return Object.keys(be).filter(function(an){return Je(be[an],an)}).forEach(function(an){return Ct[an]=be[an]}),Ct},Bt=function vt(be,Je){var Ct=Je.displayName,an=Ct===void 0?ot:Ct;if(typeof be=="string")return ee(be);if(typeof be=="number")return ce(be);if(!S.default.isValidElement(be))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `".concat(L(be),"`"));var Gn=an(be),Or=yt(be.props,We);be.ref!==null&&(Or.ref=be.ref);var On=be.key;typeof On=="string"&&On.search(/^\./)&&(Or.key=On);var nr=yt(be.type.defaultProps||{},We),Vr=S.default.Children.toArray(be.props.children).filter(ut).map(function(Yr){return vt(Yr,Je)});return Se&&be.type===n.Fragment?re(On,Vr):_e(Gn,Or,nr,Vr)};function Yt(){}var pn=function(be){return be.toString().split(`
`).map(function(Je){return Je.trim()}).join("")},xn=function(be){return be.toString()},at=pn,Me=function(vt,be){var Je=be.functionValue,Ct=Je===void 0?at:Je,an=be.showFunctions;return Ct(!an&&Ct===at?Yt:vt)},Oe=function(vt,be,Je,Ct){var an=X(vt),Gn=i.prettyPrint(an,{transform:function(On,nr,Vr){var Yr=On[nr];return Yr&&n.isValidElement(Yr)?bi(Bt(Yr,Ct),!0,Je,Ct):typeof Yr=="function"?Me(Yr,Ct):Vr}});return be?Gn.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):Gn.replace(/\t/g,P(1,Ct.tabStop)).replace(/\n([^$])/g,`
`.concat(P(Je+1,Ct.tabStop),"$1"))},oe=function(be){return be.replace(/"/g,"&quot;")},ge=function(be,Je,Ct,an){if(typeof be=="number")return"{".concat(String(be),"}");if(typeof be=="string")return'"'.concat(oe(be),'"');if(L(be)==="symbol"){var Gn=be.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return Gn?"{Symbol('".concat(Gn,"')}"):"{Symbol()}"}return typeof be=="function"?"{".concat(Me(be,an),"}"):n.isValidElement(be)?"{".concat(bi(Bt(be,an),!0,Ct,an),"}"):be instanceof Date?isNaN(be.valueOf())?"{new Date(NaN)}":'{new Date("'.concat(be.toISOString(),'")}'):t.isPlainObject(be)||Array.isArray(be)?"{".concat(Oe(be,Je,Ct,an),"}"):"{".concat(String(be),"}")},Mt=function(vt,be,Je,Ct,an,Gn,Or,On){if(!be&&!Ct)throw new Error('The prop "'.concat(vt,'" has no value and no default: could not be formatted'));var nr=be?Je:an,Vr=On.useBooleanShorthandSyntax,Yr=On.tabStop,mr=ge(nr,Gn,Or,On),Co=" ",Jr=`
`.concat(P(Or+1,Yr)),ua=mr.includes(`
`);return Vr&&mr==="{false}"&&!Ct?(Co="",Jr=""):Vr&&mr==="{true}"?(Co+="".concat(vt),Jr+="".concat(vt)):(Co+="".concat(vt,"=").concat(mr),Jr+="".concat(vt,"=").concat(mr)),{attributeFormattedInline:Co,attributeFormattedMultiline:Jr,isMultilineAttribute:ua}},un=function(vt,be){var Je=vt.slice(0,vt.length>0?vt.length-1:0),Ct=vt[vt.length-1];return Ct&&(be.type==="string"||be.type==="number")&&(Ct.type==="string"||Ct.type==="number")?Je.push(ee(String(Ct.value)+String(be.value))):(Ct&&Je.push(Ct),Je.push(be)),Je},wn=function(be){return["key","ref"].includes(be)},dn=function(vt){return function(be){var Je=be.includes("key"),Ct=be.includes("ref"),an=be.filter(function(Or){return!wn(Or)}),Gn=F(vt?an.sort():an);return Ct&&Gn.unshift("ref"),Je&&Gn.unshift("key"),Gn}};function Cn(vt,be){return Array.isArray(be)?function(Je){return be.indexOf(Je)===-1}:function(Je){return be(vt[Je],Je)}}var $n=function(be,Je,Ct,an,Gn){var Or=Gn.tabStop;return be.type==="string"?Je.split(`
`).map(function(On,nr){return nr===0?On:"".concat(P(an,Or)).concat(On)}).join(`
`):Je},Fn=function(be,Je,Ct){return function(an){return $n(an,bi(an,be,Je,Ct),be,Je,Ct)}},Xr=function(be,Je){return function(Ct){var an=Object.keys(be).includes(Ct);return!an||an&&be[Ct]!==Je[Ct]}},jr=function(be,Je,Ct,an,Gn){return Gn?P(Ct,an).length+Je.length>Gn:be.length>1},Fi=function(be,Je,Ct,an,Gn,Or,On){return(jr(be,Je,Gn,Or,On)||Ct)&&!an},jn=function(vt,be,Je,Ct){var an=vt.type,Gn=vt.displayName,Or=Gn===void 0?"":Gn,On=vt.childrens,nr=vt.props,Vr=nr===void 0?{}:nr,Yr=vt.defaultProps,mr=Yr===void 0?{}:Yr;if(an!=="ReactElement")throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '.concat(an));var Co=Ct.filterProps,Jr=Ct.maxInlineAttributesLineLength,ua=Ct.showDefaultProps,La=Ct.sortProps,Vt=Ct.tabStop,Ei="<".concat(Or),Nr=Ei,J=Ei,se=!1,pe=[],ye=Cn(Vr,Co);Object.keys(Vr).filter(ye).filter(Xr(mr,Vr)).forEach(function(He){return pe.push(He)}),Object.keys(mr).filter(ye).filter(function(){return ua}).filter(function(He){return!pe.includes(He)}).forEach(function(He){return pe.push(He)});var Te=dn(La)(pe);if(Te.forEach(function(He){var Ne=Mt(He,Object.keys(Vr).includes(He),Vr[He],Object.keys(mr).includes(He),mr[He],be,Je,Ct),xe=Ne.attributeFormattedInline,ae=Ne.attributeFormattedMultiline,je=Ne.isMultilineAttribute;je&&(se=!0),Nr+=xe,J+=ae}),J+=`
`.concat(P(Je,Vt)),Fi(Te,Nr,se,be,Je,Vt,Jr)?Ei=J:Ei=Nr,On&&On.length>0){var Ue=Je+1;Ei+=">",be||(Ei+=`
`,Ei+=P(Ue,Vt)),Ei+=On.reduce(un,[]).map(Fn(be,Ue,Ct)).join(be?"":`
`.concat(P(Ue,Vt))),be||(Ei+=`
`,Ei+=P(Ue-1,Vt)),Ei+="</".concat(Or,">")}else jr(Te,Nr,Je,Vt,Jr)||(Ei+=" "),Ei+="/>";return Ei},mi="",gi="React.Fragment",Go=function(be,Je,Ct){var an={};return Je&&(an={key:Je}),{type:"ReactElement",displayName:be,props:an,defaultProps:{},childrens:Ct}},Bi=function(be){var Je=be.key;return!!Je},Wi=function(be){var Je=be.childrens;return Je.length===0},bs=function(vt,be,Je,Ct){var an=vt.type,Gn=vt.key,Or=vt.childrens;if(an!=="ReactFragment")throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '.concat(an));var On=Ct.useFragmentShortSyntax,nr;return On?Wi(vt)||Bi(vt)?nr=gi:nr=mi:nr=gi,jn(Go(nr,Gn,Or),be,Je,Ct)},ro=["<",">","{","}"],Wr=function(be){return ro.some(function(Je){return be.includes(Je)})},Lo=function(be){return Wr(be)?"{`".concat(be,"`}"):be},io=function(be){var Je=be;return Je.endsWith(" ")&&(Je=Je.replace(/^(.*?)(\s+)$/,"$1{'$2'}")),Je.startsWith(" ")&&(Je=Je.replace(/^(\s+)(.*)$/,"{'$1'}$2")),Je},bi=function(vt,be,Je,Ct){if(vt.type==="number")return String(vt.value);if(vt.type==="string")return vt.value?"".concat(io(Lo(String(vt.value)))):"";if(vt.type==="ReactElement")return jn(vt,be,Je,Ct);if(vt.type==="ReactFragment")return bs(vt,be,Je,Ct);throw new TypeError('Unknow format type "'.concat(vt.type,'"'))},Do=function(vt,be){return bi(vt,!1,0,be)},la=function(be){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ct=Je.filterProps,an=Ct===void 0?[]:Ct,Gn=Je.showDefaultProps,Or=Gn===void 0?!0:Gn,On=Je.showFunctions,nr=On===void 0?!1:On,Vr=Je.functionValue,Yr=Je.tabStop,mr=Yr===void 0?2:Yr,Co=Je.useBooleanShorthandSyntax,Jr=Co===void 0?!0:Co,ua=Je.useFragmentShortSyntax,La=ua===void 0?!0:ua,Vt=Je.sortProps,Ei=Vt===void 0?!0:Vt,Nr=Je.maxInlineAttributesLineLength,J=Je.displayName;if(!be)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var se={filterProps:an,showDefaultProps:Or,showFunctions:nr,functionValue:Vr,tabStop:mr,useBooleanShorthandSyntax:Jr,useFragmentShortSyntax:La,sortProps:Ei,maxInlineAttributesLineLength:Nr,displayName:J};return Do(Bt(be,se),se)};e.default=la,e.inlineFunction=pn,e.preserveFunctionLineBreak=xn})(GI);Object.defineProperty(P2,"__esModule",{value:!0});P2.createValue=rC;P2.createValues=QI;var o9=s9(GI),a9=Uh,uw=Nu;function s9(e){return e&&e.__esModule?e:{default:e}}function QI(e){var t={};return Object.keys(e).forEach(function(n){t[n]=rC(e[n])}),t}function rC(e){return(0,uw.isPrimitiveData)(e)?{type:"primitive",data:e}:(0,uw.isArray)(e)?{type:"array",values:e.map(function(t){return rC(t)})}:(0,uw.isObject)(e)?{type:"object",values:QI(e)}:{type:"unserializable",stringifiedData:l9(e)}}function l9(e){return(0,a9.isElement)(e)?(0,o9.default)(e):String(e)}var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.extendWithValue=iC;T2.extendWithValues=WI;var DE=Nu;function WI(e,t){var n={};return Object.keys(t).forEach(function(i){n[i]=iC(e[i],t[i])}),n}function iC(e,t){if(t.type==="unserializable")return e;if(t.type==="object"){var n=(0,DE.isObject)(e)?e:{};return WI(n,t.values)}if(t.type==="array"){var i=(0,DE.isArray)(e)?e:[];return t.values.map(function(s,l){return iC(i[l],s)})}return t.data}var Ef={},I2={},vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.removeItemMatch=m9;vy.replaceOrAddItem=d9;vy.updateItem=A9;var KI=ts;function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(i){u9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function u9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rh(e){return h9(e)||p9(e)||f9(e)||c9()}function c9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(e,t){if(e){if(typeof e=="string")return q3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q3(e,t)}}function p9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h9(e){if(Array.isArray(e))return q3(e)}function q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A9(e,t,n){var i=e.indexOf(t);return[].concat(Rh(e.slice(0,i)),[FE(FE({},t),n)],Rh(e.slice(i+1)))}function d9(e,t,n){var i=(0,KI.findIndex)(e,t);return i!==-1?[].concat(Rh(e.slice(0,i)),[n],Rh(e.slice(i+1))):[].concat(Rh(e),[n])}function m9(e,t){var n=(0,KI.findIndex)(e,t);return n===-1?Rh(e):[].concat(Rh(e.slice(0,n)),Rh(e.slice(n+1)))}var M2={};Object.defineProperty(M2,"__esModule",{value:!0});M2.addTreeNodeChild=x9;M2.sortTreeChildren=XI;function BE(e){return _9(e)||v9(e)||y9(e)||g9()}function g9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9(e,t){if(e){if(typeof e=="string")return G3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(e,t)}}function v9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _9(e){if(Array.isArray(e))return G3(e)}function G3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function o1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(i){ZI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e,t,n){e.children||(e.children={}),e.children[t]=n}function XI(e){var t=e.children;if(!t)return e;var n=Object.keys(t),i=n.filter(function(l){return t[l].children}),s=n.filter(function(l){return!t[l].children});return o1(o1({},e),{},{children:[].concat(BE(i.sort()),BE(s.sort())).reduce(function(l,a){return o1(o1({},l),{},ZI({},a,XI(t[a])))},{})})}var oC={};Object.defineProperty(oC,"__esModule",{value:!0});oC.uuid=YI;function YI(e){return e?(Number(e)^Math.random()*16>>Number(e)/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,YI)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TreeNode",{enumerable:!0,get:function(){return n.TreeNode}}),Object.defineProperty(e,"addTreeNodeChild",{enumerable:!0,get:function(){return n.addTreeNodeChild}}),Object.defineProperty(e,"removeItemMatch",{enumerable:!0,get:function(){return t.removeItemMatch}}),Object.defineProperty(e,"replaceOrAddItem",{enumerable:!0,get:function(){return t.replaceOrAddItem}}),Object.defineProperty(e,"sortTreeChildren",{enumerable:!0,get:function(){return n.sortTreeChildren}}),Object.defineProperty(e,"updateItem",{enumerable:!0,get:function(){return t.updateItem}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return i.uuid}});var t=vy,n=M2,i=oC})(I2);Object.defineProperty(Ef,"__esModule",{value:!0});Ef.DEFAULT_RENDER_KEY=void 0;Ef.createFixtureStateProps=w9;Ef.findFixtureStateProps=eM;Ef.getFixtureStateProps=b9;Ef.removeFixtureStateProps=E9;Ef.resetFixtureStateProps=S9;Ef.updateFixtureStateProps=C9;var Q3=ts,O2=I2,JI=0;Ef.DEFAULT_RENDER_KEY=JI;function b9(e,t){var n=e.props;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function eM(e,t){var n=e.props;return n&&(0,Q3.find)(n,function(i){return(0,Q3.isEqual)(i.elementId,t)})}function w9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.props,a=l===void 0?[]:l;return(0,O2.replaceOrAddItem)(a,tM(n),{elementId:n,values:i,renderKey:JI,componentName:s})}function S9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=nM(t,n);return(0,O2.updateItem)(t.props,s,{values:i,renderKey:s.renderKey+1})}function C9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=nM(t,n);return(0,O2.updateItem)(t.props,s,{values:i})}function E9(e,t){return(0,O2.removeItemMatch)(e.props||[],tM(t))}function tM(e){return function(t){return(0,Q3.isEqual)(t.elementId,e)}}function nM(e,t){var n=eM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state props missing for element "'.concat(i,'"'))}return n}var XA={};Object.defineProperty(XA,"__esModule",{value:!0});XA.createFixtureStateClassState=P9;XA.findFixtureStateClassState=rM;XA.getFixtureStateClassState=k9;XA.removeFixtureStateClassState=I9;XA.updateFixtureStateClassState=T9;var W3=ts,aC=I2;function k9(e,t){var n=e.classState;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function rM(e,t){var n=e.classState;return n&&(0,W3.find)(n,function(i){return(0,W3.isEqual)(i.elementId,t)})}function P9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.classState,a=l===void 0?[]:l;return(0,aC.replaceOrAddItem)(a,iM(n),{elementId:n,values:i,componentName:s})}function T9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=M9(t,n);return(0,aC.updateItem)(t.classState,s,{values:i})}function I9(e,t){return(0,aC.removeItemMatch)(e.classState||[],iM(t))}function iM(e){return function(t){return(0,W3.isEqual)(t.elementId,e)}}function M9(e,t){var n=rM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state class state missing for element "'.concat(i,'"'))}return n}var sC={};Object.defineProperty(sC,"__esModule",{value:!0});sC.findFixtureStateControl=O9;function O9(e,t){var n=e.controls;return n&&n[t]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ArrayData",{enumerable:!0,get:function(){return t.ArrayData}}),Object.defineProperty(e,"DEFAULT_RENDER_KEY",{enumerable:!0,get:function(){return s.DEFAULT_RENDER_KEY}}),Object.defineProperty(e,"FixtureDecoratorId",{enumerable:!0,get:function(){return t.FixtureDecoratorId}}),Object.defineProperty(e,"FixtureElementId",{enumerable:!0,get:function(){return t.FixtureElementId}}),Object.defineProperty(e,"FixtureState",{enumerable:!0,get:function(){return t.FixtureState}}),Object.defineProperty(e,"FixtureStateArrayValue",{enumerable:!0,get:function(){return t.FixtureStateArrayValue}}),Object.defineProperty(e,"FixtureStateClassState",{enumerable:!0,get:function(){return t.FixtureStateClassState}}),Object.defineProperty(e,"FixtureStateControl",{enumerable:!0,get:function(){return t.FixtureStateControl}}),Object.defineProperty(e,"FixtureStateControls",{enumerable:!0,get:function(){return t.FixtureStateControls}}),Object.defineProperty(e,"FixtureStateData",{enumerable:!0,get:function(){return t.FixtureStateData}}),Object.defineProperty(e,"FixtureStateObjectValue",{enumerable:!0,get:function(){return t.FixtureStateObjectValue}}),Object.defineProperty(e,"FixtureStatePrimitiveValue",{enumerable:!0,get:function(){return t.FixtureStatePrimitiveValue}}),Object.defineProperty(e,"FixtureStateProps",{enumerable:!0,get:function(){return t.FixtureStateProps}}),Object.defineProperty(e,"FixtureStateSelectControl",{enumerable:!0,get:function(){return t.FixtureStateSelectControl}}),Object.defineProperty(e,"FixtureStateStandardControl",{enumerable:!0,get:function(){return t.FixtureStateStandardControl}}),Object.defineProperty(e,"FixtureStateUnserializableValue",{enumerable:!0,get:function(){return t.FixtureStateUnserializableValue}}),Object.defineProperty(e,"FixtureStateValue",{enumerable:!0,get:function(){return t.FixtureStateValue}}),Object.defineProperty(e,"FixtureStateValues",{enumerable:!0,get:function(){return t.FixtureStateValues}}),Object.defineProperty(e,"ObjectData",{enumerable:!0,get:function(){return t.ObjectData}}),Object.defineProperty(e,"PrimitiveData",{enumerable:!0,get:function(){return t.PrimitiveData}}),Object.defineProperty(e,"SetFixtureState",{enumerable:!0,get:function(){return t.SetFixtureState}}),Object.defineProperty(e,"createFixtureStateClassState",{enumerable:!0,get:function(){return l.createFixtureStateClassState}}),Object.defineProperty(e,"createFixtureStateProps",{enumerable:!0,get:function(){return s.createFixtureStateProps}}),Object.defineProperty(e,"createValue",{enumerable:!0,get:function(){return n.createValue}}),Object.defineProperty(e,"createValues",{enumerable:!0,get:function(){return n.createValues}}),Object.defineProperty(e,"extendWithValue",{enumerable:!0,get:function(){return i.extendWithValue}}),Object.defineProperty(e,"extendWithValues",{enumerable:!0,get:function(){return i.extendWithValues}}),Object.defineProperty(e,"findFixtureStateClassState",{enumerable:!0,get:function(){return l.findFixtureStateClassState}}),Object.defineProperty(e,"findFixtureStateControl",{enumerable:!0,get:function(){return a.findFixtureStateControl}}),Object.defineProperty(e,"findFixtureStateProps",{enumerable:!0,get:function(){return s.findFixtureStateProps}}),Object.defineProperty(e,"getFixtureStateClassState",{enumerable:!0,get:function(){return l.getFixtureStateClassState}}),Object.defineProperty(e,"getFixtureStateProps",{enumerable:!0,get:function(){return s.getFixtureStateProps}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return t.isBoolean}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return t.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return t.isObject}}),Object.defineProperty(e,"isPrimitiveData",{enumerable:!0,get:function(){return t.isPrimitiveData}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return t.isString}}),Object.defineProperty(e,"removeFixtureStateClassState",{enumerable:!0,get:function(){return l.removeFixtureStateClassState}}),Object.defineProperty(e,"removeFixtureStateProps",{enumerable:!0,get:function(){return s.removeFixtureStateProps}}),Object.defineProperty(e,"resetFixtureStateProps",{enumerable:!0,get:function(){return s.resetFixtureStateProps}}),Object.defineProperty(e,"updateFixtureStateClassState",{enumerable:!0,get:function(){return l.updateFixtureStateClassState}}),Object.defineProperty(e,"updateFixtureStateProps",{enumerable:!0,get:function(){return s.updateFixtureStateProps}});var t=Nu,n=P2,i=T2,s=Ef,l=XA,a=sC})(Ic);var Oc={},lC={},L2={};Object.defineProperty(L2,"__esModule",{value:!0});L2.getComponentName=L9;var cw=new WeakMap;function L9(e){if(typeof e=="string")return e;if(!cw.has(e)){var t=e.displayName||e.name||"";cw.set(e,t)}return cw.get(e)}var D2={};Object.defineProperty(D2,"__esModule",{value:!0});D2.isReactElement=R9;var D9=Uh;function R9(e){return(0,D9.isElement)(e)}Object.defineProperty(lC,"__esModule",{value:!0});lC.areNodesEqual=uC;var hg=ts,NE=L2,UE=D2;function uC(e,t,n){return(0,UE.isReactElement)(e)&&(0,UE.isReactElement)(t)?F9(e,t,n):Array.isArray(e)&&Array.isArray(t)?z9(e,t,n):$E(e)&&$E(t)?N9(e,t):(0,hg.isEqual)(e,t)}function F9(e,t,n){return B9(e.type,t.type,n)?e.key===t.key&&e.ref===t.ref&&uC(e.props,t.props,n):!1}function B9(e,t,n){return n?e===t:(0,NE.getComponentName)(e)===(0,NE.getComponentName)(t)}function z9(e,t,n){return e.length!==t.length?!1:e.every(function(i,s){return uC(i,t[s],n)})}function $E(e){return(0,hg.isPlainObject)(e)}function N9(e,t){return(0,hg.isEqual)(Object.keys(e),Object.keys(t))?Object.keys(e).every(function(n){return(0,hg.isEqualWith)(e[n],t[n],function(i,s){return typeof i=="function"&&typeof s=="function"?i===s||i.toString()===s.toString():(0,hg.isEqual)(i,s)})}):!1}var R2={},F2={};Object.defineProperty(F2,"__esModule",{value:!0});F2.isMultiFixture=$9;var U9=Uh;function K3(e){return K3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K3(e)}function $9(e){return e!==null&&K3(e)==="object"&&!(0,U9.isElement)(e)}Object.defineProperty(R2,"__esModule",{value:!0});R2.getFixtureListFromExports=H9;R2.getFixtureListFromWrappers=V9;var j9=F2;function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(i){cC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V9(e){return Object.keys(e).reduce(function(t,n){return I_(I_({},t),{},cC({},n,q9(e[n])))},{})}function H9(e){return Object.keys(e).reduce(function(t,n){return I_(I_({},t),{},cC({},n,oM(e[n])))},{})}function q9(e){return oM(e.module.default)}function oM(e){return(0,j9.isMultiFixture)(e)?{type:"multi",fixtureNames:Object.keys(e)}:{type:"single"}}var fC={};Object.defineProperty(fC,"__esModule",{value:!0});fC.getSortedDecoratorsForFixturePath=X9;function G9(e){return Z9(e)||K9(e)||W9(e)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e,t){if(e){if(typeof e=="string")return Z3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z3(e,t)}}function K9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z9(e){if(Array.isArray(e))return Z3(e)}function Z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(i){aM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function aM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e,t){return tB(Y9(t,e))}function Y9(e,t){return Object.keys(e).filter(function(n){return J9(eB(n),t)}).reduce(function(n,i){return HE(HE({},n),{},aM({},i,e[i]))},{})}function J9(e,t){return e===""||t.indexOf("".concat(e,"/"))===0}function eB(e){return e.replace(/^((.+)\/)?.+$/,"$2")}function tB(e){return nB(Object.keys(e)).map(function(t){return e[t]})}function nB(e){return G9(e).sort(function(t,n){return qE(t)-qE(n)||t.localeCompare(n)})}function qE(e){return e.split("/").length}var sM={};Object.defineProperty(sM,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReactDecorator",{enumerable:!0,get:function(){return x.ReactDecorator}}),Object.defineProperty(e,"ReactDecoratorProps",{enumerable:!0,get:function(){return x.ReactDecoratorProps}}),Object.defineProperty(e,"ReactDecorators",{enumerable:!0,get:function(){return x.ReactDecorators}}),Object.defineProperty(e,"ReactFixture",{enumerable:!0,get:function(){return x.ReactFixture}}),Object.defineProperty(e,"ReactFixtureExport",{enumerable:!0,get:function(){return x.ReactFixtureExport}}),Object.defineProperty(e,"ReactFixtureExports",{enumerable:!0,get:function(){return x.ReactFixtureExports}}),Object.defineProperty(e,"ReactFixtureMap",{enumerable:!0,get:function(){return x.ReactFixtureMap}}),Object.defineProperty(e,"ReactFixtureModule",{enumerable:!0,get:function(){return x.ReactFixtureModule}}),Object.defineProperty(e,"ReactFixtureWrapper",{enumerable:!0,get:function(){return x.ReactFixtureWrapper}}),Object.defineProperty(e,"ReactFixtureWrappers",{enumerable:!0,get:function(){return x.ReactFixtureWrappers}}),Object.defineProperty(e,"areNodesEqual",{enumerable:!0,get:function(){return t.areNodesEqual}}),Object.defineProperty(e,"getComponentName",{enumerable:!0,get:function(){return n.getComponentName}}),Object.defineProperty(e,"getFixtureListFromExports",{enumerable:!0,get:function(){return i.getFixtureListFromExports}}),Object.defineProperty(e,"getFixtureListFromWrappers",{enumerable:!0,get:function(){return i.getFixtureListFromWrappers}}),Object.defineProperty(e,"getSortedDecoratorsForFixturePath",{enumerable:!0,get:function(){return s.getSortedDecoratorsForFixturePath}}),Object.defineProperty(e,"isMultiFixture",{enumerable:!0,get:function(){return l.isMultiFixture}}),Object.defineProperty(e,"isReactElement",{enumerable:!0,get:function(){return a.isReactElement}});var t=lC,n=L2,i=R2,s=fC,l=F2,a=D2,x=sM})(Oc);var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.FixtureContext=void 0;var rB=jt,iB=(0,rB.createContext)({fixtureState:{},setFixtureState:function(){}});rl.FixtureContext=iB;var YA={},_y={},pC={},JA={};Object.defineProperty(JA,"__esModule",{value:!0});JA.getChildrenPath=oB;JA.isRootPath=lM;function oB(e){return lM(e)?"props.children":"".concat(e,".props.children")}function lM(e){return e===""}Object.defineProperty(pC,"__esModule",{value:!0});pC.findElementPaths=Y3;var aB=ts,sB=jt,lB=Oc,uB=JA;function cB(e){return AB(e)||hB(e)||pB(e)||fB()}function fB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(e,t){if(e){if(typeof e=="string")return X3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X3(e,t)}}function hB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AB(e){if(Array.isArray(e))return X3(e)}function X3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Y3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Array.isArray(e))return(0,aB.flatten)(e.map(function(s,l){return Y3(s,"".concat(t,"[").concat(l,"]"))}));if(!(0,lB.isReactElement)(e))return[];var n=e.props.children,i=typeof n!="function"?Y3(n,(0,uB.getChildrenPath)(t)):[];return e.type===sB.Fragment?i:[t].concat(cB(i))}var xy={};Object.defineProperty(xy,"__esModule",{value:!0});xy.getElementAtPath=uM;xy.getExpectedElementAtPath=gB;var dB=ts,GE=Oc,mB=JA;function uM(e,t){if(!(0,GE.isReactElement)(e)&&!Array.isArray(e))return null;var n=e,i=(0,mB.isRootPath)(t)?n:(0,dB.get)(n,t);return(0,GE.isReactElement)(i)?i:null}function gB(e,t){var n=uM(e,t);if(!n)throw new Error("Element not found at path: ".concat(t));return n}var hC={};Object.defineProperty(hC,"__esModule",{value:!0});hC.setElementAtPath=EB;var yB=ts,vB=Oc,_B=xy,xB=JA,bB=["children"];function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(i){wB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SB(e,t){if(e==null)return{};var n=CB(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function CB(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function EB(e,t,n){var i=(0,_B.getExpectedElementAtPath)(e,t),s=n(i);return(0,xB.isRootPath)(t)?s:(0,yB.set)(J3(e),t,s)}function J3(e){if(Array.isArray(e))return e.map(function(s){return J3(s)});if((0,vB.isReactElement)(e)){var t=e.props,n=t.children,i=SB(t,bB);return a1(a1({},e),{},{props:a1(a1({},i),{},{children:J3(n)})})}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"findElementPaths",{enumerable:!0,get:function(){return t.findElementPaths}}),Object.defineProperty(e,"getChildrenPath",{enumerable:!0,get:function(){return s.getChildrenPath}}),Object.defineProperty(e,"getElementAtPath",{enumerable:!0,get:function(){return n.getElementAtPath}}),Object.defineProperty(e,"getExpectedElementAtPath",{enumerable:!0,get:function(){return n.getExpectedElementAtPath}}),Object.defineProperty(e,"setElementAtPath",{enumerable:!0,get:function(){return i.setElementAtPath}});var t=pC,n=xy,i=hC,s=JA})(_y);Object.defineProperty(YA,"__esModule",{value:!0});YA.findRelevantElementPaths=kB;var WE=_y;function eS(e){return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eS(e)}function kB(e){var t=(0,WE.findElementPaths)(e);return t.filter(function(n){var i=(0,WE.getExpectedElementAtPath)(e,n),s=i.type;if(eS(s)==="symbol")return!1;if(typeof s=="string")return PB(s);var l=s;return l.cosmosCapture!==!1&&TB(l)})}function PB(e){return e!=="div"&&e!=="span"}function TB(e){return e.name!=="StyledComponent"}var AC={},dC={};Object.defineProperty(dC,"__esModule",{value:!0});dC.isRefSupported=LB;var IB=OB(jt),MB=Uh;function OB(e){return e&&e.__esModule?e:{default:e}}function LB(e){if(typeof e=="string")return!1;var t=e,n=t.$$typeof,i=t.prototype;return n===MB.ForwardRef||i&&(i instanceof IB.default.Component||i.getInitialState!==void 0)&&!0}Object.defineProperty(AC,"__esModule",{value:!0});AC.decorateFixtureRefs=NB;var DB=zB(jt),RB=_y,FB=YA,BB=dC;function zB(e){return e&&e.__esModule?e:{default:e}}function NB(e,t,n){var i=(0,FB.findRelevantElementPaths)(e);return i.reduce(function(s,l){return(0,RB.setElementAtPath)(s,l,function(a){return(0,BB.isRefSupported)(a.type)?DB.default.cloneElement(a,{ref:UB(a.ref,t,l,n)}):a})},e)}function UB(e,t,n,i){var s=i[n];if(s&&s.origRef===e)return s.handler;var l=$B(e,t,n);return i[n]={origRef:e,handler:l},l}function $B(e,t,n){return function(i){e&&jB(e,i),t(n,i)}}function jB(e,t){if(typeof e=="string"){console.warn("[decorateFixtureRefs] String refs are not supported");return}if(typeof e=="function"){e(t);return}var n=e;n.current=t}var mC={};Object.defineProperty(mC,"__esModule",{value:!0});mC.replaceState=HB;var VB=ts;function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(i){cM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e,t){var n=qB(e.state,t);(0,VB.isEqual)(n,e.state)||e.setState(n)}function qB(e,t){return Object.keys(e).reduce(function(n,i){return Object.keys(n).indexOf(i)===-1?ZE(ZE({},n),{},cM({},i,void 0)):n},t)}Object.defineProperty(J4,"__esModule",{value:!0});J4.useFixtureState=XB;var XE=ts,dp=KB(jt),vc=Ic,YE=Oc,GB=rl,QB=YA,WB=AC,fw=mC;function KB(e){return e&&e.__esModule?e:{default:e}}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(i){ZB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(e,t,n){var i=(0,QB.findRelevantElementPaths)(e),s=dp.default.useContext(GB.FixtureContext),l=s.fixtureState,a=s.setFixtureState,x=YB(l),S=dp.default.useRef(l),P=dp.default.useRef({}),L=dp.default.useRef({});return dp.default.useEffect(function(){return function(){P.current={},L.current={}}},[]),dp.default.useEffect(function(){var N=(0,vc.getFixtureStateClassState)(l,t);N.forEach(function($){var q=$.elementId,K=q.elPath;i.indexOf(q.elPath)===-1&&(a(function(te){return Bd(Bd({},te),{},{classState:(0,vc.removeFixtureStateClassState)(l,q)})}),n.current[K]&&(delete n.current[K],delete P.current[K],delete L.current[K]))}),i.forEach(function($){var q={decoratorId:t,elPath:$},K=(0,vc.findFixtureStateClassState)(l,q);if(K){var X=n.current[$];if(!X)return;var ee=(0,vc.findFixtureStateClassState)(S.current,q);if(ee&&!(0,XE.isEqual)(ee,K))return(0,fw.replaceState)(X,(0,vc.extendWithValues)(X.state,K.values))}else if(P.current[$]){var te=P.current[$].state,V=n.current[$];(0,XE.isEqual)(V.state,te)||(0,fw.replaceState)(V,te),a(function(ce){return Bd(Bd({},ce),{},{classState:(0,vc.createFixtureStateClassState)({fixtureState:ce,elementId:q,values:(0,vc.createValues)(te),componentName:(0,YE.getComponentName)(V.constructor)})})})}})},[t,i,n,l,l.classState,a]),dp.default.useEffect(function(){S.current=l}),(0,WB.decorateFixtureRefs)(e,F,L.current);function F(N,$){if(!$){delete n.current[N];return}var q=$.state;if(q){n.current[N]=$,JB(P.current,N,$);var K={decoratorId:t,elPath:N},te=(0,vc.findFixtureStateClassState)(x.current,K);te?(0,fw.replaceState)($,(0,vc.extendWithValues)(q,te.values)):a(function(V){return Bd(Bd({},V),{},{classState:(0,vc.createFixtureStateClassState)({fixtureState:V,elementId:K,values:(0,vc.createValues)(q),componentName:(0,YE.getComponentName)($.constructor)})})})}}}function YB(e){var t=dp.default.useRef(e);return dp.default.useEffect(function(){t.current=e}),t}function JB(e,t,n){var i=e[t],s=n.constructor,l=i&&i.type===s;!l&&n.state&&(e[t]={type:s,state:n.state})}var gC={};Object.defineProperty(gC,"__esModule",{value:!0});gC.useReadClassState=sz;var ez=ts,pw=rz(jt),Z1=Ic,tz=rl,nz=YA;function rz(e){return e&&e.__esModule?e:{default:e}}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(i){iz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nk(e,t,n,i,s,l,a){try{var x=e[l](a),S=x.value}catch(P){n(P);return}x.done?t(S):Promise.resolve(S).then(i,s)}function oz(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var l=e.apply(t,n);function a(S){nk(l,i,s,a,x,"next",S)}function x(S){nk(l,i,s,a,x,"throw",S)}a(void 0)})}}var az=200;function sz(e,t,n){var i=(0,nz.findRelevantElementPaths)(e),s=pw.default.useContext(tz.FixtureContext),l=s.fixtureState,a=s.setFixtureState,x=pw.default.useRef(null);pw.default.useEffect(function(){return S(),function(){x.current&&clearTimeout(x.current)}});function S(){x.current=window.setTimeout(P,az)}function P(){var L=!1;Object.keys(n.current).map(function(){var F=oz(regeneratorRuntime.mark(function N($){var q,K,te;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(i.indexOf($)!==-1){X.next=2;break}throw new Error('[FixtureCapture] Child ref exists for missing element path "'.concat($,'"'));case 2:q=n.current[$].state,K={decoratorId:t,elPath:$},te=(0,Z1.findFixtureStateClassState)(l,K),te&&q&&!lz(te,q)&&(L=!0,a(function(ee){return tk(tk({},ee),{},{classState:(0,Z1.updateFixtureStateClassState)({fixtureState:ee,elementId:K,values:(0,Z1.createValues)(q)})})}));case 6:case"end":return X.stop()}},N)}));return function(N){return F.apply(this,arguments)}}()),L||S()}}function lz(e,t){return(0,ez.isEqual)(t,(0,Z1.extendWithValues)(t,e.values))}Object.defineProperty(Y4,"__esModule",{value:!0});Y4.useClassStateCapture=pz;var rk=fz(jt),uz=J4,cz=gC;function fz(e){return e&&e.__esModule?e:{default:e}}function pz(e,t){var n=rk.default.useRef({});return rk.default.useEffect(function(){return function(){n.current={}}},[]),(0,cz.useReadClassState)(e,t,n),(0,uz.useFixtureState)(e,t,n)}var yC={},vC={};Object.defineProperty(vC,"__esModule",{value:!0});vC.useFixtureProps=yz;var ik=ts,hz=mz(jt),hw=Ic,Az=Oc,dz=YA,fM=_y;function mz(e){return e&&e.__esModule?e:{default:e}}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(n),!0).forEach(function(i){gz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e,t,n){var i=hz.default.useMemo(function(){return{}},[n]),s=(0,dz.findRelevantElementPaths)(e);return s.reduce(function(l,a){var x={decoratorId:n,elPath:a},S=(0,hw.findFixtureStateProps)(t,x);return(0,fM.setElementAtPath)(l,a,function(P){if(!S||$(S.componentName))return zd(zd({},P),{},{key:ak(a,hw.DEFAULT_RENDER_KEY)});var L=P.props,F=(0,hw.extendWithValues)(L,S.values),N=(0,ik.mapValues)(F,function(q,K){var te=vz(a,K);return i.hasOwnProperty(te)||(i[te]=L[K]),(0,ik.isEqual)(i[te],q)?i[te]:(i[te]=q,q)});return zd(zd({},P),{},{props:_z(s,a)?zd(zd({},N),{},{children:L.children}):N,key:ak(a,S.renderKey)});function $(q){return q!==(0,Az.getComponentName)(P.type)}})},e)}function vz(e,t){return e?"".concat(e,"-").concat(t):t}function ak(e,t){return"".concat(e,"-").concat(t)}function _z(e,t){return e.some(function(n){return n.indexOf((0,fM.getChildrenPath)(t))===0})}Object.defineProperty(yC,"__esModule",{value:!0});yC.usePropsCapture=Ez;var s1=Sz(jt),bA=Ic,sk=Oc,xz=rl,bz=YA,lk=_y,wz=vC;function Sz(e){return e&&e.__esModule?e:{default:e}}function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(n),!0).forEach(function(i){Cz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ez(e,t){var n=s1.default.useContext(xz.FixtureContext),i=n.fixtureState,s=n.setFixtureState,l=s1.default.useRef(e),a=(0,bz.findRelevantElementPaths)(e);return s1.default.useEffect(function(){if(!i.props&&a.length===0){s(function(S){return hh(hh({},S),{},{props:S.props||[]})});return}var x=(0,bA.getFixtureStateProps)(i,t);x.forEach(function(S){var P=S.elementId;a.indexOf(P.elPath)===-1&&s(function(L){return hh(hh({},L),{},{props:(0,bA.removeFixtureStateProps)(i,P)})})}),a.forEach(function(S){var P=(0,lk.getExpectedElementAtPath)(e,S),L={decoratorId:t,elPath:S};if((0,bA.findFixtureStateProps)(i,L)){var N=(0,lk.getElementAtPath)(l.current,S);(0,sk.areNodesEqual)(N,P,!1)||s(function($){return hh(hh({},$),{},{props:(0,bA.updateFixtureStateProps)({fixtureState:i,elementId:L,values:(0,bA.createValues)(P.props)})})})}else{var F=(0,sk.getComponentName)(P.type);s(function($){return hh(hh({},$),{},{props:(0,bA.createFixtureStateProps)({fixtureState:$,elementId:L,values:(0,bA.createValues)(P.props),componentName:F})})})}})},[e,t,a,i,i.props,s]),s1.default.useEffect(function(){l.current=e}),(0,wz.useFixtureProps)(e,i,t)}Object.defineProperty(C2,"__esModule",{value:!0});C2.FixtureCapture=Iz;var ck=Tz(jt),kz=Y4,Pz=yC;function Tz(e){return e&&e.__esModule?e:{default:e}}function Iz(e){var t=e.children,n=e.decoratorId,i=(0,Pz.usePropsCapture)(t,n);return i=(0,kz.useClassStateCapture)(i,n),ck.default.createElement(ck.default.Fragment,null,i)}var B2={},_C={};Object.defineProperty(_C,"__esModule",{value:!0});_C.getFixture=Mz;var fk=Oc;function Mz(e,t){if(t===void 0)return(0,fk.isMultiFixture)(e)?void 0:e;if((0,fk.isMultiFixture)(e)){var n=e;return n[t]}}var xC={},z2={},bC={};Object.defineProperty(bC,"__esModule",{value:!0});bC.FixtureElement=pM;var Oz=Lz(jt);function Lz(e){return e&&e.__esModule?e:{default:e}}function pM(e){var t=e.Component;return Oz.default.createElement(t,null)}pM.cosmosCapture=!1;Object.defineProperty(z2,"__esModule",{value:!0});z2.getDecoratedFixtureElement=jz;var tS=Fz(jt),Dz=C2,Rz=bC;function Fz(e){return e&&e.__esModule?e:{default:e}}function Bz(e){return $z(e)||Uz(e)||Nz(e)||zz()}function zz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nz(e,t){if(e){if(typeof e=="string")return nS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(e,t)}}function Uz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $z(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jz(e,t,n){var i=tS.default.createElement(Dz.FixtureCapture,{decoratorId:"root"},Vz(e));return Bz(t).reverse().reduce(function(s,l){return tS.default.createElement(l,n,s)},i)}function Vz(e){return Hz(e)?tS.default.createElement(Rz.FixtureElement,{Component:e}):e}function Hz(e){return typeof e=="function"}Object.defineProperty(xC,"__esModule",{value:!0});xC.FixtureProvider=Jz;var zm=Wz(jt),qz=Oc,Gz=rl,Qz=z2;function Wz(e){return e&&e.__esModule?e:{default:e}}function pk(e){return Yz(e)||Xz(e)||Zz(e)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(e,t){if(e){if(typeof e=="string")return rS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(e,t)}}function Xz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yz(e){if(Array.isArray(e))return rS(e)}function rS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jz(e){var t=e.fixtureId,n=e.fixture,i=e.systemDecorators,s=e.userDecorators,l=e.fixtureState,a=e.setFixtureState,x=e.onErrorReset,S=zm.default.useMemo(function(){return{fixtureState:l,setFixtureState:a}},[l,a]),P=zm.default.useMemo(function(){return{fixtureState:l,setFixtureState:a,onErrorReset:x}},[l,x,a]),L=zm.default.useMemo(function(){return eN(t,i,s)},[t,i,s]),F=zm.default.useMemo(function(){return(0,Qz.getDecoratedFixtureElement)(n,L,P)},[P,L,n]);return zm.default.createElement(Gz.FixtureContext.Provider,{value:S},F)}function eN(e,t,n){return[].concat(pk(t),pk((0,qz.getSortedDecoratorsForFixturePath)(e.path,n)))}function M_(e){return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(e)}Object.defineProperty(B2,"__esModule",{value:!0});B2.FixtureLoader=void 0;var Nm=ts,hk=iN(jt),tN=Oc,nN=_C,rN=xC;function hM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(hM=function(s){return s?n:t})(e)}function iN(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||M_(e)!=="object"&&typeof e!="function")return{default:e};var n=hM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var a=s?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(i,l,a):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(i){Kd(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aN(e,t,n){return t&&dk(e.prototype,t),n&&dk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},iS(e,t)}function lN(e){var t=cN();return function(){var i=O_(e),s;if(t){var l=O_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return uN(this,s)}}function uN(e,t){if(t&&(M_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wd(e)}function Wd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O_(e){return O_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},O_(e)}function Kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fN(e){return e?{fixtureId:e,fixtureState:{},syncedFixtureState:{}}:null}var pN=function(e){sN(n,e);var t=lN(n);function n(){var i;oN(this,n);for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l)),Kd(Wd(i),"state",{selectedFixture:fN(i.props.selectedFixtureId||i.props.initialFixtureId),renderKey:0}),Kd(Wd(i),"unsubscribe",null),Kd(Wd(i),"handleRequest",function(x){if(x.type==="pingRenderers")return i.postReadyState();if(!(!x.payload||x.payload.rendererId!==i.props.rendererId))switch(hN(x)&&i.fireChangeCallback(),x.type){case"selectFixture":return i.handleSelectFixtureRequest(x);case"unselectFixture":return i.handleUnselectFixtureRequest();case"setFixtureState":return i.handleSetFixtureStateRequest(x)}}),Kd(Wd(i),"postFixtureStateChange",function(x,S){var P=i.props.rendererId;i.postMessage({type:"fixtureStateChange",payload:{rendererId:P,fixtureId:x,fixtureState:S}})}),Kd(Wd(i),"setFixtureState",function(x){if(!i.state.selectedFixture){console.warn("[FixtureLoader] Trying to set fixture state with no fixture selected");return}i.setState(function(S){var P=S.selectedFixture;return P?{selectedFixture:l1(l1({},P),{},{fixtureState:x(P.fixtureState)})}:null})}),i}return aN(n,[{key:"componentDidMount",value:function(){if(!this.props.selectedFixtureId){var s=this.props.rendererConnect;this.unsubscribe=s.onMessage(this.handleRequest),this.postReadyState()}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"componentDidUpdate",value:function(s){var l=this.props.fixtures;(0,Nm.isEqual)(l,s.fixtures)||this.postFixtureListUpdate();var a=this.state.selectedFixture;if(a){var x=a.fixtureId,S=a.fixtureState,P=a.syncedFixtureState;x&&!(0,Nm.isEqual)(S,P)&&(this.postFixtureStateChange(x,S),this.updateSyncedFixtureState(S))}}},{key:"shouldComponentUpdate",value:function(s,l){return!(0,Nm.isEqual)(this.props,s)||!(0,Nm.isEqual)(this.state,l)}},{key:"render",value:function(){var s=this.state.selectedFixture;if(!s)return this.renderMessage("No fixture selected.");var l=this.props.fixtures,a=s.fixtureId,x=s.fixtureState;if(!l.hasOwnProperty(a.path))return this.renderMessage("Fixture path not found: ".concat(a.path));var S=l[a.path].module.default,P=(0,nN.getFixture)(S,a.name);if(typeof P>"u")return this.renderMessage("Invalid fixture ID: ".concat(JSON.stringify(a)));var L=this.props,F=L.systemDecorators,N=L.userDecorators,$=L.onErrorReset,q=this.state.renderKey;return hk.default.createElement(rN.FixtureProvider,{key:q,fixtureId:a,fixture:P,systemDecorators:F,userDecorators:N,fixtureState:x,setFixtureState:this.setFixtureState,onErrorReset:$||AN})}},{key:"handleSelectFixtureRequest",value:function(s){var l=s.payload,a=l.fixtureId,x=l.fixtureState;this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x},renderKey:this.state.renderKey+1})}},{key:"handleUnselectFixtureRequest",value:function(){this.setState({selectedFixture:null,renderKey:0})}},{key:"handleSetFixtureStateRequest",value:function(s){var l=s.payload,a=l.fixtureId,x=l.fixtureState,S=this.state.selectedFixture;S&&(0,Nm.isEqual)(a,S.fixtureId)&&this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x}})}},{key:"postReadyState",value:function(){var s=this.props,l=s.rendererId,a=s.initialFixtureId,x=this.getFixtureList();this.postMessage({type:"rendererReady",payload:a?{rendererId:l,fixtures:x,initialFixtureId:a}:{rendererId:l,fixtures:x}})}},{key:"postFixtureListUpdate",value:function(){var s=this.props.rendererId;this.postMessage({type:"fixtureListUpdate",payload:{rendererId:s,fixtures:this.getFixtureList()}})}},{key:"getFixtureList",value:function(){return(0,tN.getFixtureListFromWrappers)(this.props.fixtures)}},{key:"fireChangeCallback",value:function(){var s=this.props.onErrorReset;typeof s=="function"&&s()}},{key:"updateSyncedFixtureState",value:function(s){this.setState(function(l){var a=l.selectedFixture;return a?{selectedFixture:l1(l1({},a),{},{syncedFixtureState:s})}:null})}},{key:"postMessage",value:function(s){this.props.rendererConnect.postMessage(s)}},{key:"renderMessage",value:function(s){return typeof this.props.renderMessage<"u"?this.props.renderMessage({msg:s}):s}}]),n}(hk.Component);B2.FixtureLoader=pN;function hN(e){return e.type==="selectFixture"||e.type==="unselectFixture"}function AN(){}var wC={},SC={};Object.defineProperty(SC,"__esModule",{value:!0});SC.registerShortcuts=dN;function dN(e){window.addEventListener("keydown",n);function t(i,s){i.preventDefault(),e(s)}function n(i){if(!mN()){var s=String.fromCharCode(i.keyCode),l=i.metaKey||i.ctrlKey;s==="P"&&l?t(i,"searchFixtures"):s==="L"&&l&&i.shiftKey?t(i,"toggleFixtureList"):s==="K"&&l&&i.shiftKey?t(i,"toggleControlPanel"):s==="F"&&l&&i.shiftKey?t(i,"goFullScreen"):s==="E"&&l&&i.shiftKey&&t(i,"editFixture")}}return function(){window.removeEventListener("keydown",n)}}function mN(){var e=document.activeElement;return e&&gN(e.tagName)}function gN(e){var t=["input","textarea","select"];return t.includes(e.toLowerCase())}Object.defineProperty(wC,"__esModule",{value:!0});wC.createPostMessageConnect=vN;var yN=SC;function vN(){function e(t){parent.postMessage(t,"*")}return{postMessage:e,onMessage:function(n){function i(l){n(l.data)}window.addEventListener("message",i,!1);var s=(0,yN.registerShortcuts)(function(l){e({type:"playgroundCommand",payload:{command:l}})});return function(){window.removeEventListener("message",i),s()}}}}var CC={},EC={},N2={};Object.defineProperty(N2,"__esModule",{value:!0});N2.getDefaultSelectValue=_N;function _N(e){var t=e.options,n=e.defaultValue;return typeof n=="string"?n:t[0]}function oS(e){return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(e)}Object.defineProperty(EC,"__esModule",{value:!0});EC.useCreateFixtureState=CN;var mk=SN(jt),xN=Ic,bN=rl,wN=N2;function AM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(AM=function(s){return s?n:t})(e)}function SN(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||oS(e)!=="object"&&typeof e!="function")return{default:e};var n=AM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var a=s?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(i,l,a):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function u1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(i){dM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CN(e,t){var n=mk.default.useContext(bN.FixtureContext),i=n.setFixtureState,s=(0,wN.getDefaultSelectValue)(t);(0,mk.useEffect)(function(){i(function(l){var a=(0,xN.findFixtureStateControl)(l,e);return a&&a.type==="select"&&a.defaultValue===s?l:u1(u1({},l),{},{controls:u1(u1({},l.controls),{},dM({},e,{type:"select",options:t.options,defaultValue:s,currentValue:s}))})})},[t.options,s,e,i])}var kC={};Object.defineProperty(kC,"__esModule",{value:!0});kC.useCurrentValue=IN;var EN=jt,kN=Ic,PN=rl,TN=N2;function IN(e,t){var n=(0,EN.useContext)(PN.FixtureContext),i=n.fixtureState,s=(0,kN.findFixtureStateControl)(i,e);return s&&s.type==="select"?s.currentValue:(0,TN.getDefaultSelectValue)(t)}var PC={};Object.defineProperty(PC,"__esModule",{value:!0});PC.useSetValue=LN;var yk=jt,MN=Ic,ON=rl;function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(i){mM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LN(e){var t=(0,yk.useContext)(ON.FixtureContext),n=t.setFixtureState;return(0,yk.useCallback)(function(i){n(function(s){var l=(0,MN.findFixtureStateControl)(s,e);return!l||l.type!=="select"?(console.warn("Invalid fixture state for select: ".concat(e)),s):Nd(Nd({},s),{},{controls:Nd(Nd({},s.controls),{},mM({},e,Nd(Nd({},l),{},{currentValue:i})))})})},[e,n])}Object.defineProperty(CC,"__esModule",{value:!0});CC.useSelect=BN;var DN=EC,RN=kC,FN=PC;function BN(e,t){if(!t||!t.options||!t.options.length)throw new Error("No options provided to useSelect");(0,DN.useCreateFixtureState)(e,t);var n=(0,RN.useCurrentValue)(e,t),i=(0,FN.useSetValue)(e);return[n,i]}var TC={},IC={};Object.defineProperty(IC,"__esModule",{value:!0});IC.useCreateFixtureState=$N;var zN=ts,_k=UN(jt),X1=Ic,NN=rl;function UN(e){return e&&e.__esModule?e:{default:e}}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function c1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(i){gM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $N(e,t){var n=_k.default.useContext(NN.FixtureContext),i=n.setFixtureState;_k.default.useEffect(function(){i(function(s){var l=(0,X1.findFixtureStateControl)(s,e);return l&&l.type==="standard"&&jN(l.defaultValue,t)?s:c1(c1({},s),{},{controls:c1(c1({},s.controls),{},gM({},e,{type:"standard",defaultValue:(0,X1.createValue)(t),currentValue:(0,X1.createValue)(t)}))})})},[i,e,t])}function jN(e,t){return(0,zN.isEqual)(t,(0,X1.extendWithValue)(t,e))}var MC={};Object.defineProperty(MC,"__esModule",{value:!0});MC.useCurrentValue=GN;var VN=qN(jt),bk=Ic,HN=rl;function qN(e){return e&&e.__esModule?e:{default:e}}function GN(e,t){var n=VN.default.useContext(HN.FixtureContext),i=n.fixtureState,s=(0,bk.findFixtureStateControl)(i,e);return s&&s.type==="standard"?(0,bk.extendWithValue)(t,s.currentValue):t}var OC={};Object.defineProperty(OC,"__esModule",{value:!0});OC.useSetValue=KN;var wk=WN(jt),L_=Ic,QN=rl;function WN(e){return e&&e.__esModule?e:{default:e}}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(i){yM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KN(e,t){var n=wk.default.useContext(QN.FixtureContext),i=n.setFixtureState;return wk.default.useCallback(function(s){i(function(l){var a=typeof s=="function"?s(ZN(l,e,t)):s;return f1(f1({},l),{},{controls:f1(f1({},l.controls),{},yM({},e,{type:"standard",defaultValue:(0,L_.createValue)(t),currentValue:(0,L_.createValue)(a)}))})})},[i,t,e])}function ZN(e,t,n){var i=(0,L_.findFixtureStateControl)(e,t);return i&&i.type==="standard"?(0,L_.extendWithValue)(n,i.currentValue):n}Object.defineProperty(TC,"__esModule",{value:!0});TC.useValue=eU;var XN=IC,YN=MC,JN=OC;function eU(e,t){var n=t.defaultValue;(0,XN.useCreateFixtureState)(e,n);var i=(0,YN.useCurrentValue)(e,n),s=(0,JN.useSetValue)(e,n);return[i,s]}var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.Viewport=void 0;var p1=nU(jt),tU=rl;function nU(e){return e&&e.__esModule?e:{default:e}}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(i){rU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vM=function(t){var n=t.children,i=t.width,s=t.height,l=p1.default.useContext(tU.FixtureContext),a=l.setFixtureState;return p1.default.useEffect(function(){a(function(x){return Ek(Ek({},x),{},{viewport:{width:i,height:s}})})},[a,i,s]),p1.default.createElement(p1.default.Fragment,null,n)};U2.Viewport=vM;vM.cosmosCapture=!1;var LC={},D_={},iU={get exports(){return D_},set exports(e){D_=e}},oU=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_M=function(t){var n=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var l=oU.exec(t||""),a={},x=14;x--;)a[aU[x]]=l[x]||"";return i!=-1&&s!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a},qA={},sU={get exports(){return qA},set exports(e){qA=e}},R_={},lU={get exports(){return R_},set exports(e){R_=e}},Ug=1e3,$g=Ug*60,jg=$g*60,Vg=jg*24,uU=Vg*365.25,cU=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return fU(e);if(n==="number"&&isNaN(e)===!1)return t.long?hU(e):pU(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function fU(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*uU;case"days":case"day":case"d":return n*Vg;case"hours":case"hour":case"hrs":case"hr":case"h":return n*jg;case"minutes":case"minute":case"mins":case"min":case"m":return n*$g;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ug;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function pU(e){return e>=Vg?Math.round(e/Vg)+"d":e>=jg?Math.round(e/jg)+"h":e>=$g?Math.round(e/$g)+"m":e>=Ug?Math.round(e/Ug)+"s":e+"ms"}function hU(e){return h1(e,Vg,"day")||h1(e,jg,"hour")||h1(e,$g,"minute")||h1(e,Ug,"second")||e+" ms"}function h1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=cU,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var L=0,F;for(F in P)L=(L<<5)-L+P.charCodeAt(F),L|=0;return t.colors[Math.abs(L)%t.colors.length]}function i(P){var L;function F(){if(F.enabled){var N=F,$=+new Date,q=$-(L||$);N.diff=q,N.prev=L,N.curr=$,L=$;for(var K=new Array(arguments.length),te=0;te<K.length;te++)K[te]=arguments[te];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ee,ce){if(ee==="%%")return ee;V++;var _e=t.formatters[ce];if(typeof _e=="function"){var re=K[V];ee=_e.call(N,re),K.splice(V,1),V--}return ee}),t.formatArgs.call(N,K);var X=F.log||t.log||console.log.bind(console);X.apply(N,K)}}return F.namespace=P,F.enabled=t.enabled(P),F.useColors=t.useColors(),F.color=n(P),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var L,F=(typeof P=="string"?P:"").split(/[\s,]+/),N=F.length;for(L=0;L<N;L++)F[L]&&(P=F[L].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(L=0;L<t.instances.length;L++){var $=t.instances[L];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var L,F;for(L=0,F=t.skips.length;L<F;L++)if(t.skips[L].test(P))return!1;for(L=0,F=t.names.length;L<F;L++)if(t.names[L].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(lU,R_);(function(e,t){t=e.exports=R_,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var L="color: "+this.color;S.splice(1,0,L,"color: inherit");var F=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(F++,$==="%c"&&(N=F))}),S.splice(N,0,L)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(sU,qA);var AU=_M,kk=qA("socket.io-client:url"),dU=mU;function mU(e,t){var n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(kk("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),kk("parse %s",e),n=AU(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,s=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}var $2={},F_={},gU={get exports(){return F_},set exports(e){F_=e}},B_={},yU={get exports(){return B_},set exports(e){B_=e}},Hg=1e3,qg=Hg*60,Gg=qg*60,Qg=Gg*24,vU=Qg*365.25,_U=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return xU(e);if(n==="number"&&isNaN(e)===!1)return t.long?wU(e):bU(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function xU(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*vU;case"days":case"day":case"d":return n*Qg;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Gg;case"minutes":case"minute":case"mins":case"min":case"m":return n*qg;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function bU(e){return e>=Qg?Math.round(e/Qg)+"d":e>=Gg?Math.round(e/Gg)+"h":e>=qg?Math.round(e/qg)+"m":e>=Hg?Math.round(e/Hg)+"s":e+"ms"}function wU(e){return A1(e,Qg,"day")||A1(e,Gg,"hour")||A1(e,qg,"minute")||A1(e,Hg,"second")||e+" ms"}function A1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=_U,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var L=0,F;for(F in P)L=(L<<5)-L+P.charCodeAt(F),L|=0;return t.colors[Math.abs(L)%t.colors.length]}function i(P){var L;function F(){if(F.enabled){var N=F,$=+new Date,q=$-(L||$);N.diff=q,N.prev=L,N.curr=$,L=$;for(var K=new Array(arguments.length),te=0;te<K.length;te++)K[te]=arguments[te];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ee,ce){if(ee==="%%")return ee;V++;var _e=t.formatters[ce];if(typeof _e=="function"){var re=K[V];ee=_e.call(N,re),K.splice(V,1),V--}return ee}),t.formatArgs.call(N,K);var X=F.log||t.log||console.log.bind(console);X.apply(N,K)}}return F.namespace=P,F.enabled=t.enabled(P),F.useColors=t.useColors(),F.color=n(P),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var L,F=(typeof P=="string"?P:"").split(/[\s,]+/),N=F.length;for(L=0;L<N;L++)F[L]&&(P=F[L].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(L=0;L<t.instances.length;L++){var $=t.instances[L];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var L,F;for(L=0,F=t.skips.length;L<F;L++)if(t.skips[L].test(P))return!1;for(L=0,F=t.names.length;L<F;L++)if(t.names[L].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(yU,B_);(function(e,t){t=e.exports=B_,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var L="color: "+this.color;S.splice(1,0,L,"color: inherit");var F=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(F++,$==="%c"&&(N=F))}),S.splice(N,0,L)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(gU,F_);var aS={},SU={get exports(){return aS},set exports(e){aS=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return l.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(SU);var j2={},CU={}.toString,DC=Array.isArray||function(e){return CU.call(e)=="[object Array]"},xM=TU,EU=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",kU=typeof ArrayBuffer=="function",PU=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function TU(e){return EU&&Buffer.isBuffer(e)||kU&&(e instanceof ArrayBuffer||PU(e))}var RC=DC,bM=xM,wM=Object.prototype.toString,IU=typeof Blob=="function"||typeof Blob<"u"&&wM.call(Blob)==="[object BlobConstructor]",MU=typeof File=="function"||typeof File<"u"&&wM.call(File)==="[object FileConstructor]";j2.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=sS(n,t),i.attachments=t.length,{packet:i,buffers:t}};function sS(e,t){if(!e)return e;if(bM(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}else if(RC(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=sS(e[s],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){var i={};for(var l in e)i[l]=sS(e[l],t);return i}return e}j2.reconstructPacket=function(e,t){return e.data=lS(e.data,t),e.attachments=void 0,e};function lS(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(RC(e))for(var n=0;n<e.length;n++)e[n]=lS(e[n],t);else if(typeof e=="object")for(var i in e)e[i]=lS(e[i],t);return e}j2.removeBlobs=function(e,t){function n(l,a,x){if(!l)return l;if(IU&&l instanceof Blob||MU&&l instanceof File){i++;var S=new FileReader;S.onload=function(){x?x[a]=this.result:s=this.result,--i||t(s)},S.readAsArrayBuffer(l)}else if(RC(l))for(var P=0;P<l.length;P++)n(l[P],P,l);else if(typeof l=="object"&&!bM(l))for(var L in l)n(l[L],L,l)}var i=0,s=e;n(s),i||t(s)};(function(e){var t=F_("socket.io-parser"),n=aS,i=j2,s=DC,l=xM;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=a,e.Decoder=F;function a(){}var x=e.ERROR+'"encode error"';a.prototype.encode=function(te,V){if(t("encoding packet %j",te),e.BINARY_EVENT===te.type||e.BINARY_ACK===te.type)L(te,V);else{var X=S(te);V([X])}};function S(te){var V=""+te.type;if((e.BINARY_EVENT===te.type||e.BINARY_ACK===te.type)&&(V+=te.attachments+"-"),te.nsp&&te.nsp!=="/"&&(V+=te.nsp+","),te.id!=null&&(V+=te.id),te.data!=null){var X=P(te.data);if(X!==!1)V+=X;else return x}return t("encoded %j as %s",te,V),V}function P(te){try{return JSON.stringify(te)}catch{return!1}}function L(te,V){function X(ee){var ce=i.deconstructPacket(ee),_e=S(ce.packet),re=ce.buffers;re.unshift(_e),V(re)}i.removeBlobs(te,X)}function F(){this.reconstructor=null}n(F.prototype),F.prototype.add=function(te){var V;if(typeof te=="string")V=N(te),e.BINARY_EVENT===V.type||e.BINARY_ACK===V.type?(this.reconstructor=new q(V),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",V)):this.emit("decoded",V);else if(l(te)||te.base64)if(this.reconstructor)V=this.reconstructor.takeBinaryData(te),V&&(this.reconstructor=null,this.emit("decoded",V));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+te)};function N(te){var V=0,X={type:Number(te.charAt(0))};if(e.types[X.type]==null)return K("unknown packet type "+X.type);if(e.BINARY_EVENT===X.type||e.BINARY_ACK===X.type){for(var ee=V+1;te.charAt(++V)!=="-"&&V!=te.length;);var ce=te.substring(ee,V);if(ce!=Number(ce)||te.charAt(V)!=="-")throw new Error("Illegal attachments");X.attachments=Number(ce)}if(te.charAt(V+1)==="/"){for(var ee=V+1;++V;){var _e=te.charAt(V);if(_e===","||V===te.length)break}X.nsp=te.substring(ee,V)}else X.nsp="/";var re=te.charAt(V+1);if(re!==""&&Number(re)==re){for(var ee=V+1;++V;){var _e=te.charAt(V);if(_e==null||Number(_e)!=_e){--V;break}if(V===te.length)break}X.id=Number(te.substring(ee,V+1))}if(te.charAt(++V)){var Se=$(te.substr(V)),Le=Se!==!1&&(X.type===e.ERROR||s(Se));if(Le)X.data=Se;else return K("invalid payload")}return t("decoded %s as %j",te,X),X}function $(te){try{return JSON.parse(te)}catch{return!1}}F.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function q(te){this.reconPack=te,this.buffers=[]}q.prototype.takeBinaryData=function(te){if(this.buffers.push(te),this.buffers.length===this.reconPack.attachments){var V=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),V}return null},q.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function K(te){return{type:e.ERROR,data:"parser error: "+te}}})($2);var uS={},OU={get exports(){return uS},set exports(e){uS=e}},V2={},cS={},Pk={get exports(){return cS},set exports(e){cS=e}};try{Pk.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Pk.exports=!1}var LU=cS,FC=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||LU))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&i)return new XDomainRequest}catch{}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},z_={},DU={get exports(){return z_},set exports(e){z_=e}},ed={},RU=Object.keys||function(t){var n=[],i=Object.prototype.hasOwnProperty;for(var s in t)i.call(t,s)&&n.push(s);return n},FU=DC,SM=Object.prototype.toString,BU=typeof Blob=="function"||typeof Blob<"u"&&SM.call(Blob)==="[object BlobConstructor]",zU=typeof File=="function"||typeof File<"u"&&SM.call(File)==="[object FileConstructor]",CM=Y1;function Y1(e){if(!e||typeof e!="object")return!1;if(FU(e)){for(var t=0,n=e.length;t<n;t++)if(Y1(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||BU&&e instanceof Blob||zU&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Y1(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&Y1(e[i]))return!0;return!1}var NU=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||i===0)return new ArrayBuffer(0);for(var s=new Uint8Array(e),l=new Uint8Array(n-t),a=t,x=0;a<n;a++,x++)l[x]=s[a];return l.buffer},UU=$U;function $U(e,t,n){var i=!1;return n=n||jU,s.count=e,e===0?t():s;function s(l,a){if(s.count<=0)throw new Error("after called too many times");--s.count,l?(i=!0,t(l),t=n):s.count===0&&!i&&t(null,a)}}function jU(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var xh=String.fromCharCode;function EM(e){for(var t=[],n=0,i=e.length,s,l;n<i;)s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<i?(l=e.charCodeAt(n++),(l&64512)==56320?t.push(((s&1023)<<10)+(l&1023)+65536):(t.push(s),n--)):t.push(s);return t}function VU(e){for(var t=e.length,n=-1,i,s="";++n<t;)i=e[n],i>65535&&(i-=65536,s+=xh(i>>>10&1023|55296),i=56320|i&1023),s+=xh(i);return s}function kM(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Aw(e,t){return xh(e>>t&63|128)}function HU(e,t){if(!(e&4294967168))return xh(e);var n="";return e&4294965248?e&4294901760?e&4292870144||(n=xh(e>>18&7|240),n+=Aw(e,12),n+=Aw(e,6)):(kM(e,t)||(e=65533),n=xh(e>>12&15|224),n+=Aw(e,6)):n=xh(e>>6&31|192),n+=xh(e&63|128),n}function qU(e,t){t=t||{};for(var n=t.strict!==!1,i=EM(e),s=i.length,l=-1,a,x="";++l<s;)a=i[l],x+=HU(a,n);return x}function Ud(){if(Sh>=U_)throw Error("Invalid byte index");var e=N_[Sh]&255;if(Sh++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function GU(e){var t,n,i,s,l;if(Sh>U_)throw Error("Invalid byte index");if(Sh==U_)return!1;if(t=N_[Sh]&255,Sh++,!(t&128))return t;if((t&224)==192){if(n=Ud(),l=(t&31)<<6|n,l>=128)return l;throw Error("Invalid continuation byte")}if((t&240)==224){if(n=Ud(),i=Ud(),l=(t&15)<<12|n<<6|i,l>=2048)return kM(l,e)?l:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(n=Ud(),i=Ud(),s=Ud(),l=(t&7)<<18|n<<12|i<<6|s,l>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}var N_,U_,Sh;function QU(e,t){t=t||{};var n=t.strict!==!1;N_=EM(e),U_=N_.length,Sh=0;for(var i=[],s;(s=GU(n))!==!1;)i.push(s);return VU(i)}var WU={version:"2.1.2",encode:qU,decode:QU},d1={},Tk;function KU(){return Tk||(Tk=1,function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;d1.encode=function(i){var s=new Uint8Array(i),l,a=s.length,x="";for(l=0;l<a;l+=3)x+=e[s[l]>>2],x+=e[(s[l]&3)<<4|s[l+1]>>4],x+=e[(s[l+1]&15)<<2|s[l+2]>>6],x+=e[s[l+2]&63];return a%3===2?x=x.substring(0,x.length-1)+"=":a%3===1&&(x=x.substring(0,x.length-2)+"=="),x},d1.decode=function(i){var s=i.length*.75,l=i.length,a,x=0,S,P,L,F;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var N=new ArrayBuffer(s),$=new Uint8Array(N);for(a=0;a<l;a+=4)S=t[i.charCodeAt(a)],P=t[i.charCodeAt(a+1)],L=t[i.charCodeAt(a+2)],F=t[i.charCodeAt(a+3)],$[x++]=S<<2|P>>4,$[x++]=(P&15)<<4|L>>2,$[x++]=(L&3)<<6|F&63;return N}}()),d1}var dw,Ik;function ZU(){if(Ik)return dw;Ik=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),n=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),i=e&&e.prototype.append&&e.prototype.getBlob;function s(x){return x.map(function(S){if(S.buffer instanceof ArrayBuffer){var P=S.buffer;if(S.byteLength!==P.byteLength){var L=new Uint8Array(S.byteLength);L.set(new Uint8Array(P,S.byteOffset,S.byteLength)),P=L.buffer}return P}return S})}function l(x,S){S=S||{};var P=new e;return s(x).forEach(function(L){P.append(L)}),S.type?P.getBlob(S.type):P.getBlob()}function a(x,S){return new Blob(s(x),S||{})}return typeof Blob<"u"&&(l.prototype=Blob.prototype,a.prototype=Blob.prototype),dw=function(){return t?n?Blob:a:i?l:void 0}(),dw}(function(e){var t=RU,n=CM,i=NU,s=UU,l=WU,a;typeof ArrayBuffer<"u"&&(a=KU());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),P=x||S;e.protocol=3;var L=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},F=t(L),N={type:"error",data:"parser error"},$=ZU();e.encodePacket=function(ce,_e,re,Se){typeof _e=="function"&&(Se=_e,_e=!1),typeof re=="function"&&(Se=re,re=null);var Le=ce.data===void 0?void 0:ce.data.buffer||ce.data;if(typeof ArrayBuffer<"u"&&Le instanceof ArrayBuffer)return K(ce,_e,Se);if(typeof $<"u"&&Le instanceof $)return V(ce,_e,Se);if(Le&&Le.base64)return q(ce,Se);var Ze=L[ce.type];return ce.data!==void 0&&(Ze+=re?l.encode(String(ce.data),{strict:!1}):String(ce.data)),Se(""+Ze)};function q(ce,_e){var re="b"+e.packets[ce.type]+ce.data.data;return _e(re)}function K(ce,_e,re){if(!_e)return e.encodeBase64Packet(ce,re);var Se=ce.data,Le=new Uint8Array(Se),Ze=new Uint8Array(1+Se.byteLength);Ze[0]=L[ce.type];for(var ot=0;ot<Le.length;ot++)Ze[ot+1]=Le[ot];return re(Ze.buffer)}function te(ce,_e,re){if(!_e)return e.encodeBase64Packet(ce,re);var Se=new FileReader;return Se.onload=function(){e.encodePacket({type:ce.type,data:Se.result},_e,!0,re)},Se.readAsArrayBuffer(ce.data)}function V(ce,_e,re){if(!_e)return e.encodeBase64Packet(ce,re);if(P)return te(ce,_e,re);var Se=new Uint8Array(1);Se[0]=L[ce.type];var Le=new $([Se.buffer,ce.data]);return re(Le)}e.encodeBase64Packet=function(ce,_e){var re="b"+e.packets[ce.type];if(typeof $<"u"&&ce.data instanceof $){var Se=new FileReader;return Se.onload=function(){var ut=Se.result.split(",")[1];_e(re+ut)},Se.readAsDataURL(ce.data)}var Le;try{Le=String.fromCharCode.apply(null,new Uint8Array(ce.data))}catch{for(var Ze=new Uint8Array(ce.data),ot=new Array(Ze.length),We=0;We<Ze.length;We++)ot[We]=Ze[We];Le=String.fromCharCode.apply(null,ot)}return re+=btoa(Le),_e(re)},e.decodePacket=function(ce,_e,re){if(ce===void 0)return N;if(typeof ce=="string"){if(ce.charAt(0)==="b")return e.decodeBase64Packet(ce.substr(1),_e);if(re&&(ce=X(ce),ce===!1))return N;var Le=ce.charAt(0);return Number(Le)!=Le||!F[Le]?N:ce.length>1?{type:F[Le],data:ce.substring(1)}:{type:F[Le]}}var Se=new Uint8Array(ce),Le=Se[0],Ze=i(ce,1);return $&&_e==="blob"&&(Ze=new $([Ze])),{type:F[Le],data:Ze}};function X(ce){try{ce=l.decode(ce,{strict:!1})}catch{return!1}return ce}e.decodeBase64Packet=function(ce,_e){var re=F[ce.charAt(0)];if(!a)return{type:re,data:{base64:!0,data:ce.substr(1)}};var Se=a.decode(ce.substr(1));return _e==="blob"&&$&&(Se=new $([Se])),{type:re,data:Se}},e.encodePayload=function(ce,_e,re){typeof _e=="function"&&(re=_e,_e=null);var Se=n(ce);if(_e&&Se)return $&&!P?e.encodePayloadAsBlob(ce,re):e.encodePayloadAsArrayBuffer(ce,re);if(!ce.length)return re("0:");function Le(ot){return ot.length+":"+ot}function Ze(ot,We){e.encodePacket(ot,Se?_e:!1,!1,function(ut){We(null,Le(ut))})}ee(ce,Ze,function(ot,We){return re(We.join(""))})};function ee(ce,_e,re){for(var Se=new Array(ce.length),Le=s(ce.length,re),Ze=function(We,ut,yt){_e(ut,function(Bt,Yt){Se[We]=Yt,yt(Bt,Se)})},ot=0;ot<ce.length;ot++)Ze(ot,ce[ot],Le)}e.decodePayload=function(ce,_e,re){if(typeof ce!="string")return e.decodePayloadAsBinary(ce,_e,re);typeof _e=="function"&&(re=_e,_e=null);var Se;if(ce==="")return re(N,0,1);for(var Le="",Ze,ot,We=0,ut=ce.length;We<ut;We++){var yt=ce.charAt(We);if(yt!==":"){Le+=yt;continue}if(Le===""||Le!=(Ze=Number(Le))||(ot=ce.substr(We+1,Ze),Le!=ot.length))return re(N,0,1);if(ot.length){if(Se=e.decodePacket(ot,_e,!1),N.type===Se.type&&N.data===Se.data)return re(N,0,1);var Bt=re(Se,We+Ze,ut);if(Bt===!1)return}We+=Ze,Le=""}if(Le!=="")return re(N,0,1)},e.encodePayloadAsArrayBuffer=function(ce,_e){if(!ce.length)return _e(new ArrayBuffer(0));function re(Se,Le){e.encodePacket(Se,!0,!0,function(Ze){return Le(null,Ze)})}ee(ce,re,function(Se,Le){var Ze=Le.reduce(function(ut,yt){var Bt;return typeof yt=="string"?Bt=yt.length:Bt=yt.byteLength,ut+Bt.toString().length+Bt+2},0),ot=new Uint8Array(Ze),We=0;return Le.forEach(function(ut){var yt=typeof ut=="string",Bt=ut;if(yt){for(var xn=new Uint8Array(ut.length),Yt=0;Yt<ut.length;Yt++)xn[Yt]=ut.charCodeAt(Yt);Bt=xn.buffer}yt?ot[We++]=0:ot[We++]=1;for(var pn=Bt.byteLength.toString(),Yt=0;Yt<pn.length;Yt++)ot[We++]=parseInt(pn[Yt]);ot[We++]=255;for(var xn=new Uint8Array(Bt),Yt=0;Yt<xn.length;Yt++)ot[We++]=xn[Yt]}),_e(ot.buffer)})},e.encodePayloadAsBlob=function(ce,_e){function re(Se,Le){e.encodePacket(Se,!0,!0,function(Ze){var ot=new Uint8Array(1);if(ot[0]=1,typeof Ze=="string"){for(var We=new Uint8Array(Ze.length),ut=0;ut<Ze.length;ut++)We[ut]=Ze.charCodeAt(ut);Ze=We.buffer,ot[0]=0}for(var yt=Ze instanceof ArrayBuffer?Ze.byteLength:Ze.size,Bt=yt.toString(),Yt=new Uint8Array(Bt.length+1),ut=0;ut<Bt.length;ut++)Yt[ut]=parseInt(Bt[ut]);if(Yt[Bt.length]=255,$){var pn=new $([ot.buffer,Yt.buffer,Ze]);Le(null,pn)}})}ee(ce,re,function(Se,Le){return _e(new $(Le))})},e.decodePayloadAsBinary=function(ce,_e,re){typeof _e=="function"&&(re=_e,_e=null);for(var Se=ce,Le=[];Se.byteLength>0;){for(var Ze=new Uint8Array(Se),ot=Ze[0]===0,We="",ut=1;Ze[ut]!==255;ut++){if(We.length>310)return re(N,0,1);We+=Ze[ut]}Se=i(Se,2+We.length),We=parseInt(We);var yt=i(Se,0,We);if(ot)try{yt=String.fromCharCode.apply(null,new Uint8Array(yt))}catch{var Bt=new Uint8Array(yt);yt="";for(var ut=0;ut<Bt.length;ut++)yt+=String.fromCharCode(Bt[ut])}Le.push(yt),Se=i(Se,We)}var Yt=Le.length;Le.forEach(function(pn,xn){re(e.decodePacket(pn,_e,!0),xn,Yt)})}})(ed);var Wg={},XU={get exports(){return Wg},set exports(e){Wg=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(XU);var mw,Mk;function BC(){if(Mk)return mw;Mk=1;var e=ed,t=Wg;mw=n;function n(i){this.path=i.path,this.hostname=i.hostname,this.port=i.port,this.secure=i.secure,this.query=i.query,this.timestampParam=i.timestampParam,this.timestampRequests=i.timestampRequests,this.readyState="",this.agent=i.agent||!1,this.socket=i.socket,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.forceNode=i.forceNode,this.isReactNative=i.isReactNative,this.extraHeaders=i.extraHeaders,this.localAddress=i.localAddress}return t(n.prototype),n.prototype.onError=function(i,s){var l=new Error(i);return l.type="TransportError",l.description=s,this.emit("error",l),this},n.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},n.prototype.send=function(i){if(this.readyState==="open")this.write(i);else throw new Error("Transport not open")},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(i){var s=e.decodePacket(i,this.socket.binaryType);this.onPacket(s)},n.prototype.onPacket=function(i){this.emit("packet",i)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")},mw}var U0={};U0.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t};U0.decode=function(e){for(var t={},n=e.split("&"),i=0,s=n.length;i<s;i++){var l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t};var H2=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},PM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$_=64,TM={},Ok=0,Ch=0,Lk;function fS(e){var t="";do t=PM[e%$_]+t,e=Math.floor(e/$_);while(e>0);return t}function YU(e){var t=0;for(Ch=0;Ch<e.length;Ch++)t=t*$_+TM[e.charAt(Ch)];return t}function zC(){var e=fS(+new Date);return e!==Lk?(Ok=0,Lk=e):e+"."+fS(Ok++)}for(;Ch<$_;Ch++)TM[PM[Ch]]=Ch;zC.encode=fS;zC.decode=YU;var IM=zC,GA={},JU={get exports(){return GA},set exports(e){GA=e}},j_={},e$={get exports(){return j_},set exports(e){j_=e}},Kg=1e3,Zg=Kg*60,Xg=Zg*60,Yg=Xg*24,t$=Yg*365.25,n$=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return r$(e);if(n==="number"&&isNaN(e)===!1)return t.long?o$(e):i$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function r$(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*t$;case"days":case"day":case"d":return n*Yg;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Xg;case"minutes":case"minute":case"mins":case"min":case"m":return n*Zg;case"seconds":case"second":case"secs":case"sec":case"s":return n*Kg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i$(e){return e>=Yg?Math.round(e/Yg)+"d":e>=Xg?Math.round(e/Xg)+"h":e>=Zg?Math.round(e/Zg)+"m":e>=Kg?Math.round(e/Kg)+"s":e+"ms"}function o$(e){return m1(e,Yg,"day")||m1(e,Xg,"hour")||m1(e,Zg,"minute")||m1(e,Kg,"second")||e+" ms"}function m1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=n$,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var L=0,F;for(F in P)L=(L<<5)-L+P.charCodeAt(F),L|=0;return t.colors[Math.abs(L)%t.colors.length]}function i(P){var L;function F(){if(F.enabled){var N=F,$=+new Date,q=$-(L||$);N.diff=q,N.prev=L,N.curr=$,L=$;for(var K=new Array(arguments.length),te=0;te<K.length;te++)K[te]=arguments[te];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ee,ce){if(ee==="%%")return ee;V++;var _e=t.formatters[ce];if(typeof _e=="function"){var re=K[V];ee=_e.call(N,re),K.splice(V,1),V--}return ee}),t.formatArgs.call(N,K);var X=F.log||t.log||console.log.bind(console);X.apply(N,K)}}return F.namespace=P,F.enabled=t.enabled(P),F.useColors=t.useColors(),F.color=n(P),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var L,F=(typeof P=="string"?P:"").split(/[\s,]+/),N=F.length;for(L=0;L<N;L++)F[L]&&(P=F[L].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(L=0;L<t.instances.length;L++){var $=t.instances[L];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var L,F;for(L=0,F=t.skips.length;L<F;L++)if(t.skips[L].test(P))return!1;for(L=0,F=t.names.length;L<F;L++)if(t.names[L].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(e$,j_);(function(e,t){t=e.exports=j_,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var L="color: "+this.color;S.splice(1,0,L,"color: inherit");var F=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(F++,$==="%c"&&(N=F))}),S.splice(N,0,L)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(JU,GA);var MM=BC(),a$=U0,OM=ed,s$=H2,l$=IM,Sc=GA("engine.io-client:polling"),LM=kf,u$=function(){var e=FC,t=new e({xdomain:!1});return t.responseType!=null}();function kf(e){var t=e&&e.forceBase64;(!u$||t)&&(this.supportsBinary=!1),MM.call(this,e)}s$(kf,MM);kf.prototype.name="polling";kf.prototype.doOpen=function(){this.poll()};kf.prototype.pause=function(e){var t=this;this.readyState="pausing";function n(){Sc("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var i=0;this.polling&&(Sc("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Sc("pre-pause polling complete"),--i||n()})),this.writable||(Sc("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Sc("pre-pause writing complete"),--i||n()}))}else n()};kf.prototype.poll=function(){Sc("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};kf.prototype.onData=function(e){var t=this;Sc("polling got data %s",e);var n=function(i,s,l){if(t.readyState==="opening"&&t.onOpen(),i.type==="close")return t.onClose(),!1;t.onPacket(i)};OM.decodePayload(e,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Sc('ignoring poll - transport state "%s"',this.readyState))};kf.prototype.doClose=function(){var e=this;function t(){Sc("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Sc("transport open - closing"),t()):(Sc("transport not open - deferring close"),this.once("open",t))};kf.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};OM.encodePayload(e,this.supportsBinary,function(i){t.doWrite(i,n)})};kf.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(e[this.timestampParam]=l$()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=a$.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};var c$=FC,DM=LM,f$=Wg,p$=H2,pS=GA("engine.io-client:polling-xhr");DU.exports=$0;z_.Request=za;function Dk(){}function $0(e){if(DM.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",n=location.port;n||(n=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}p$($0,DM);$0.prototype.supportsBinary=!0;$0.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new za(e)};$0.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==void 0,i=this.request({method:"POST",data:e,isBinary:n}),s=this;i.on("success",t),i.on("error",function(l){s.onError("xhr post error",l)}),this.sendXhr=i};$0.prototype.doPoll=function(){pS("xhr poll");var e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e};function za(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}f$(za.prototype);za.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new c$(e),n=this;try{pS("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var s=t.getResponseHeader("Content-Type");n.supportsBinary&&s==="application/octet-stream"&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},pS("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){n.onError(s)},0);return}typeof document<"u"&&(this.index=za.requestsCount++,za.requests[this.index]=this)};za.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};za.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};za.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};za.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Dk:this.xhr.onreadystatechange=Dk,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete za.requests[this.index],this.xhr=null}};za.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(n){this.onError(n)}e!=null&&this.onData(e)};za.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};za.prototype.abort=function(){this.cleanup()};za.requestsCount=0;za.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rk);else if(typeof addEventListener=="function"){var h$="onpagehide"in self?"pagehide":"unload";addEventListener(h$,Rk,!1)}}function Rk(){for(var e in za.requests)za.requests.hasOwnProperty(e)&&za.requests[e].abort()}var NC=LM,A$=H2,d$=j0,m$=/\n/g,g$=/\\n/g,g1;function y$(){}function v$(){return typeof self<"u"?self:typeof window<"u"?window:typeof Iu<"u"?Iu:{}}function j0(e){if(NC.call(this,e),this.query=this.query||{},!g1){var t=v$();g1=t.___eio=t.___eio||[]}this.index=g1.length;var n=this;g1.push(function(i){n.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=y$)},!1)}A$(j0,NC);j0.prototype.supportsBinary=!1;j0.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),NC.prototype.doClose.call(this)};j0.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)};j0.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,a;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function x(){S(),t()}function S(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(L){n.onError("jsonp polling iframe removal error",L)}try{var P='<iframe src="javascript:0" name="'+n.iframeId+'">';a=document.createElement(P)}catch{a=document.createElement("iframe"),a.name=n.iframeId,a.src="javascript:0"}a.id=n.iframeId,n.form.appendChild(a),n.iframe=a}S(),e=e.replace(g$,`\\
`),this.area.value=e.replace(m$,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};const _$={},x$=Object.freeze(Object.defineProperty({__proto__:null,default:_$},Symbol.toStringTag,{value:"Module"})),b$=fR(x$);var UC=BC(),w$=ed,S$=U0,C$=H2,E$=IM,k$=GA("engine.io-client:websocket"),V_,$C;if(typeof WebSocket<"u")V_=WebSocket;else if(typeof self<"u")V_=self.WebSocket||self.MozWebSocket;else try{$C=b$}catch{}var x0=V_||$C,P$=Bu;function Bu(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=V_&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(x0=$C),UC.call(this,e)}C$(Bu,UC);Bu.prototype.name="websocket";Bu.prototype.supportsBinary=!0;Bu.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new x0(e,t):new x0(e):new x0(e,t,n)}catch(i){return this.emit("error",i)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};Bu.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};Bu.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,s=n;i<s;i++)(function(a){w$.encodePacket(a,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var S={};if(a.options&&(S.compress=a.options.compress),t.perMessageDeflate){var P=typeof x=="string"?Buffer.byteLength(x):x.length;P<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,S)}catch{k$("websocket closed before onclose event")}--n||l()})})(e[i]);function l(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};Bu.prototype.onClose=function(){UC.prototype.onClose.call(this)};Bu.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};Bu.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=E$()),this.supportsBinary||(e.b64=1),e=S$.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};Bu.prototype.check=function(){return!!x0&&!("__initialize"in x0&&this.name===Bu.prototype.name)};var T$=FC,I$=z_,M$=d$,O$=P$;V2.polling=L$;V2.websocket=O$;function L$(e){var t,n=!1,i=!1,s=e.jsonp!==!1;if(typeof location<"u"){var l=location.protocol==="https:",a=location.port;a||(a=l?443:80),n=e.hostname!==location.hostname||a!==e.port,i=e.secure!==l}if(e.xdomain=n,e.xscheme=i,t=new T$(e),"open"in t&&!e.forceJSONP)return new I$(e);if(!s)throw new Error("JSONP disabled");return new M$(e)}var D$=[].indexOf,RM=function(e,t){if(D$)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},R$=V2,F$=Wg,Ia=GA("engine.io-client:socket"),B$=RM,FM=ed,Fk=_M,z$=U0,N$=oi;function oi(e,t){if(!(this instanceof oi))return new oi(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=Fk(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Fk(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=z$.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}oi.priorWebsocketSuccess=!1;F$(oi.prototype);oi.protocol=FM.protocol;oi.Socket=oi;oi.Transport=BC();oi.transports=V2;oi.parser=ed;oi.prototype.createTransport=function(e){Ia('creating transport "%s"',e);var t=U$(this.query);t.EIO=FM.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var i=new R$[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return i};function U$(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}oi.prototype.open=function(){var e;if(this.rememberUpgrade&&oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};oi.prototype.setTransport=function(e){Ia("setting transport %s",e.name);var t=this;this.transport&&(Ia("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};oi.prototype.probe=function(e){Ia('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;oi.priorWebsocketSuccess=!1;function s(){if(i.onlyBinaryUpgrades){var F=!this.supportsBinary&&i.transport.supportsBinary;n=n||F}n||(Ia('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(N){if(!n)if(N.type==="pong"&&N.data==="probe"){if(Ia('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;oi.priorWebsocketSuccess=t.name==="websocket",Ia('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||i.readyState!=="closed"&&(Ia("changing transport and sending upgrade packet"),L(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{Ia('probe transport "%s" failed',e);var $=new Error("probe error");$.transport=t.name,i.emit("upgradeError",$)}}))}function l(){n||(n=!0,L(),t.close(),t=null)}function a(F){var N=new Error("probe error: "+F);N.transport=t.name,l(),Ia('probe transport "%s" failed because of error: %s',e,F),i.emit("upgradeError",N)}function x(){a("transport closed")}function S(){a("socket closed")}function P(F){t&&F.name!==t.name&&(Ia('"%s" works - aborting "%s"',F.name,t.name),l())}function L(){t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",x),i.removeListener("close",S),i.removeListener("upgrading",P)}t.once("open",s),t.once("error",a),t.once("close",x),this.once("close",S),this.once("upgrading",P),t.open()};oi.prototype.onOpen=function(){if(Ia("socket open"),this.readyState="open",oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ia("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};oi.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ia('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ia('packet received with socket readyState "%s"',this.readyState)};oi.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};oi.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};oi.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Ia("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};oi.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};oi.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};oi.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ia("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};oi.prototype.write=oi.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this};oi.prototype.sendPacket=function(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}};oi.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),Ia("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this};oi.prototype.onError=function(e){Ia("socket error %j",e),oi.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};oi.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ia('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}};oi.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~B$(this.transports,e[n])&&t.push(e[n]);return t};(function(e){e.exports=N$,e.exports.parser=ed})(OU);var H_={},$$={get exports(){return H_},set exports(e){H_=e}},q_={},j$={get exports(){return q_},set exports(e){q_=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(j$);var V$=H$;function H$(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}var BM=q$;function q$(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}var Bk=[].slice,zM=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var n=Bk.call(arguments,2);return function(){return t.apply(e,n.concat(Bk.call(arguments)))}};(function(e,t){var n=$2,i=q_,s=V$,l=BM,a=zM,x=qA("socket.io-client:socket"),S=U0,P=CM;e.exports=N;var L={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},F=i.prototype.emit;function N($,q,K){this.io=$,this.nsp=q,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},K&&K.query&&(this.query=K.query),this.io.autoConnect&&this.open()}i(N.prototype),N.prototype.subEvents=function(){if(!this.subs){var $=this.io;this.subs=[l($,"open",a(this,"onopen")),l($,"packet",a(this,"onpacket")),l($,"close",a(this,"onclose"))]}},N.prototype.open=N.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},N.prototype.send=function(){var $=s(arguments);return $.unshift("message"),this.emit.apply(this,$),this},N.prototype.emit=function($){if(L.hasOwnProperty($))return F.apply(this,arguments),this;var q=s(arguments),K={type:(this.flags.binary!==void 0?this.flags.binary:P(q))?n.BINARY_EVENT:n.EVENT,data:q};return K.options={},K.options.compress=!this.flags||this.flags.compress!==!1,typeof q[q.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=q.pop(),K.id=this.ids++),this.connected?this.packet(K):this.sendBuffer.push(K),this.flags={},this},N.prototype.packet=function($){$.nsp=this.nsp,this.io.packet($)},N.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var $=typeof this.query=="object"?S.encode(this.query):this.query;x("sending connect packet with query %s",$),this.packet({type:n.CONNECT,query:$})}else this.packet({type:n.CONNECT})},N.prototype.onclose=function($){x("close (%s)",$),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",$)},N.prototype.onpacket=function($){var q=$.nsp===this.nsp,K=$.type===n.ERROR&&$.nsp==="/";if(!(!q&&!K))switch($.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent($);break;case n.BINARY_EVENT:this.onevent($);break;case n.ACK:this.onack($);break;case n.BINARY_ACK:this.onack($);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",$.data);break}},N.prototype.onevent=function($){var q=$.data||[];x("emitting event %j",q),$.id!=null&&(x("attaching ack callback to event"),q.push(this.ack($.id))),this.connected?F.apply(this,q):this.receiveBuffer.push(q)},N.prototype.ack=function($){var q=this,K=!1;return function(){if(!K){K=!0;var te=s(arguments);x("sending ack %j",te),q.packet({type:P(te)?n.BINARY_ACK:n.ACK,id:$,data:te})}}},N.prototype.onack=function($){var q=this.acks[$.id];typeof q=="function"?(x("calling ack %s with %j",$.id,$.data),q.apply(this,$.data),delete this.acks[$.id]):x("bad ack %s",$.id)},N.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},N.prototype.emitBuffered=function(){var $;for($=0;$<this.receiveBuffer.length;$++)F.apply(this,this.receiveBuffer[$]);for(this.receiveBuffer=[],$=0;$<this.sendBuffer.length;$++)this.packet(this.sendBuffer[$]);this.sendBuffer=[]},N.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},N.prototype.destroy=function(){if(this.subs){for(var $=0;$<this.subs.length;$++)this.subs[$].destroy();this.subs=null}this.io.destroy(this)},N.prototype.close=N.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},N.prototype.compress=function($){return this.flags.compress=$,this},N.prototype.binary=function($){return this.flags.binary=$,this}})($$);var G$=V0;function V0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}V0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};V0.prototype.reset=function(){this.attempts=0};V0.prototype.setMin=function(e){this.ms=e};V0.prototype.setMax=function(e){this.max=e};V0.prototype.setJitter=function(e){this.jitter=e};var Q$=uS,W$=H_,K$=q_,Z$=$2,gh=BM,$d=zM,Rs=qA("socket.io-client:manager"),NM=RM,X$=G$,UM=Object.prototype.hasOwnProperty,zk=di;function di(e,t){if(!(this instanceof di))return new di(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new X$({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||Z$;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}di.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)UM.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};di.prototype.updateSocketIds=function(){for(var e in this.nsps)UM.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};di.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};K$(di.prototype);di.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};di.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};di.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};di.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};di.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};di.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};di.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};di.prototype.open=di.prototype.connect=function(e,t){if(Rs("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Rs("opening %s",this.uri),this.engine=Q$(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=gh(n,"open",function(){i.onopen(),e&&e()}),l=gh(n,"error",function(S){if(Rs("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",S),e){var P=new Error("Connection error");P.data=S,e(P)}else i.maybeReconnectOnOpen()});if(this._timeout!==!1){var a=this._timeout;Rs("connect attempt will timeout after %d",a);var x=setTimeout(function(){Rs("connect attempt timed out after %d",a),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(s),this.subs.push(l),this};di.prototype.onopen=function(){Rs("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(gh(e,"data",$d(this,"ondata"))),this.subs.push(gh(e,"ping",$d(this,"onping"))),this.subs.push(gh(e,"pong",$d(this,"onpong"))),this.subs.push(gh(e,"error",$d(this,"onerror"))),this.subs.push(gh(e,"close",$d(this,"onclose"))),this.subs.push(gh(this.decoder,"decoded",$d(this,"ondecoded")))};di.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};di.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};di.prototype.ondata=function(e){this.decoder.add(e)};di.prototype.ondecoded=function(e){this.emit("packet",e)};di.prototype.onerror=function(e){Rs("error",e),this.emitAll("error",e)};di.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new W$(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",s),n.on("connect",function(){n.id=i.generateId(e)}),this.autoConnect&&s()}function s(){~NM(i.connecting,n)||i.connecting.push(n)}return n};di.prototype.destroy=function(e){var t=NM(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};di.prototype.packet=function(e){Rs("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))};di.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};di.prototype.cleanup=function(){Rs("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};di.prototype.close=di.prototype.disconnect=function(){Rs("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};di.prototype.onclose=function(e){Rs("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};di.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Rs("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Rs("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(Rs("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(i){i?(Rs("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",i.data)):(Rs("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};di.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var n=dU,i=$2,s=zk,l=qA("socket.io-client");e.exports=t=x;var a=t.managers={};function x(S,P){typeof S=="object"&&(P=S,S=void 0),P=P||{};var L=n(S),F=L.source,N=L.id,$=L.path,q=a[N]&&$ in a[N].nsps,K=P.forceNew||P["force new connection"]||P.multiplex===!1||q,te;return K?(l("ignoring socket cache for %s",F),te=s(F,P)):(a[N]||(l("new io instance for %s",F),a[N]=s(F,P)),te=a[N]),L.query&&!P.query&&(P.query=L.query),te.socket(L.path,P)}t.protocol=i.protocol,t.connect=x,t.Manager=zk,t.Socket=H_})(iU,D_);var q2={};Object.defineProperty(q2,"__esModule",{value:!0});q2.RENDERER_MESSAGE_EVENT_NAME=void 0;var Y$="cosmos-renderer-message";q2.RENDERER_MESSAGE_EVENT_NAME=Y$;Object.defineProperty(LC,"__esModule",{value:!0});LC.createWebSocketsConnect=tj;var J$=ej(D_),gw=q2;function ej(e){return e&&e.__esModule?e:{default:e}}function tj(e){var t=(0,J$.default)(e);return{postMessage:function(i){t.emit(gw.RENDERER_MESSAGE_EVENT_NAME,i)},onMessage:function(i){return t.on(gw.RENDERER_MESSAGE_EVENT_NAME,i),function(){return t.off(gw.RENDERER_MESSAGE_EVENT_NAME,i)}}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FixtureCapture",{enumerable:!0,get:function(){return t.FixtureCapture}}),Object.defineProperty(e,"FixtureContext",{enumerable:!0,get:function(){return n.FixtureContext}}),Object.defineProperty(e,"FixtureLoader",{enumerable:!0,get:function(){return i.FixtureLoader}}),Object.defineProperty(e,"Viewport",{enumerable:!0,get:function(){return S.Viewport}}),Object.defineProperty(e,"createPostMessageConnect",{enumerable:!0,get:function(){return l.createPostMessageConnect}}),Object.defineProperty(e,"createWebSocketsConnect",{enumerable:!0,get:function(){return P.createWebSocketsConnect}}),Object.defineProperty(e,"getDecoratedFixtureElement",{enumerable:!0,get:function(){return s.getDecoratedFixtureElement}}),Object.defineProperty(e,"useSelect",{enumerable:!0,get:function(){return a.useSelect}}),Object.defineProperty(e,"useValue",{enumerable:!0,get:function(){return x.useValue}});var t=C2,n=rl,i=B2,s=z2,l=wC,a=CC,x=TC,S=U2,P=LC})(RI);(function(e){e.exports=RI})(FF);var G2={},hS={},nj={get exports(){return hS},set exports(e){hS=e}};(function(e){e.exports=Oc})(nj);function AS(e){return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AS(e)}Object.defineProperty(G2,"__esModule",{value:!0});G2.ErrorCatch=void 0;var wA=oj(jt),rj=ts,ij=hS;function oj(e){return e&&e.__esModule?e:{default:e}}function aj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sj(e,t,n){return t&&Nk(e.prototype,t),n&&Nk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},dS(e,t)}function uj(e){var t=fj();return function(){var i=G_(e),s;if(t){var l=G_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return cj(this,s)}}function cj(e,t){if(t&&(AS(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(e)}function $M(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G_(e){return G_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},G_(e)}function pj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hj=function(e){lj(n,e);var t=uj(n);function n(){var i;aj(this,n);for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l)),pj($M(i),"state",{error:null}),i}return sj(n,[{key:"componentDidCatch",value:function(s,l){this.setState({error:"".concat(s.message,`
`).concat(l.componentStack)})}},{key:"componentDidUpdate",value:function(s){this.state.error&&(Aj(this.props.children,s.children)||dj(this.props.fixtureState,s.fixtureState))&&(this.setState({error:null}),this.props.onErrorReset())}},{key:"render",value:function(){return this.state.error?this.renderError(this.state.error):this.props.children}},{key:"renderError",value:function(s){return __DEV__?null:wA.default.createElement(wA.default.Fragment,null,wA.default.createElement("p",null,wA.default.createElement("strong",null,"Ouch, something wrong!")),wA.default.createElement("pre",null,s),wA.default.createElement("p",null,"Check console for more info."))}}]),n}(wA.default.Component);G2.ErrorCatch=hj;function Aj(e,t){return!(0,ij.areNodesEqual)(e,t,!0)}function dj(e,t){return!(0,rj.isEqual)(e,t)}var H0={},Q2={};Object.defineProperty(Q2,"__esModule",{value:!0});Q2.isInsideCosmosPreviewIframe=mj;function mj(){try{return window.self!==window.parent}catch{return!0}}Object.defineProperty(H0,"__esModule",{value:!0});H0.rendererConnect=void 0;var Uk=P_,gj=Q2,yj=(0,gj.isInsideCosmosPreviewIframe)()?(0,Uk.createPostMessageConnect)():(0,Uk.createWebSocketsConnect)(vj());H0.rendererConnect=yj;function vj(){return location.origin}var q0={},mS={},_j={get exports(){return mS},set exports(e){mS=e}};(function(e){e.exports=I2})(_j);Object.defineProperty(q0,"__esModule",{value:!0});q0.rendererId=void 0;var xj=mS,bj=wj();q0.rendererId=bj;function wj(){var e=sessionStorage.getItem("cosmosRendererId");return e||(e=(0,xj.uuid)(),sessionStorage.setItem("cosmosRendererId",e)),e}var jC={};Object.defineProperty(jC,"__esModule",{value:!0});jC.renderMessage=kj;var Sj=Cj(jt);function Cj(e){return e&&e.__esModule?e:{default:e}}var Ej={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'-apple-system, BlinkMacSystemFont, Ubuntu, "Helvetica Neue", Helvetica, sans-serif',fontSize:14};function kj(e){var t=e.msg;return Sj.default.createElement("div",{style:Ej},t)}var W2={},gS={},Pj={get exports(){return gS},set exports(e){gS=e}},Gh={},by={},Tj=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var $k=Object.getOwnPropertySymbols,Ij=Object.prototype.hasOwnProperty,Mj=Object.prototype.propertyIsEnumerable;function Oj(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Lj(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(l){return t[l]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(l){s[l]=l}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Dj=Lj()?Object.assign:function(e,t){for(var n,i=Oj(e),s,l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var a in n)Ij.call(n,a)&&(i[a]=n[a]);if($k){s=$k(n);for(var x=0;x<s.length;x++)Mj.call(n,s[x])&&(i[s[x]]=n[s[x]])}}return i},jM="%[a-f0-9]{2}",jk=new RegExp("("+jM+")|([^%]+?)","gi"),Vk=new RegExp("("+jM+")+","gi");function yS(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],yS(n),yS(i))}function Rj(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(jk)||[],n=1;n<t.length;n++)e=yS(t,n).join(""),t=e.match(jk)||[];return e}}function Fj(e){for(var t={"%FE%FF":"","%FF%FE":""},n=Vk.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var i=Rj(n[0]);i!==n[0]&&(t[n[0]]=i)}n=Vk.exec(e)}t["%C2"]="";for(var s=Object.keys(t),l=0;l<s.length;l++){var a=s[l];e=e.replace(new RegExp(a,"g"),t[a])}return e}var Bj=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Fj(e)}},zj=Tj,VM=Dj,Hk=Bj;function Nj(e){switch(e.arrayFormat){case"index":return function(t,n,i){return n===null?[Hl(t,e),"[",i,"]"].join(""):[Hl(t,e),"[",Hl(i,e),"]=",Hl(n,e)].join("")};case"bracket":return function(t,n){return n===null?Hl(t,e):[Hl(t,e),"[]=",Hl(n,e)].join("")};default:return function(t,n){return n===null?Hl(t,e):[Hl(t,e),"=",Hl(n,e)].join("")}}}function Uj(e){var t;switch(e.arrayFormat){case"index":return function(n,i,s){if(t=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!t){s[n]=i;return}s[n]===void 0&&(s[n]={}),s[n][t[1]]=i};case"bracket":return function(n,i,s){if(t=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),t){if(s[n]===void 0){s[n]=[i];return}}else{s[n]=i;return}s[n]=[].concat(s[n],i)};default:return function(n,i,s){if(s[n]===void 0){s[n]=i;return}s[n]=[].concat(s[n],i)}}}function Hl(e,t){return t.encode?t.strict?zj(e):encodeURIComponent(e):e}function HM(e){return Array.isArray(e)?e.sort():typeof e=="object"?HM(Object.keys(e)).sort(function(t,n){return Number(t)-Number(n)}).map(function(t){return e[t]}):e}function qM(e){var t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function GM(e,t){t=VM({arrayFormat:"none"},t);var n=Uj(t),i=Object.create(null);return typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e)?i:(e.split("&").forEach(function(s){var l=s.replace(/\+/g," ").split("="),a=l.shift(),x=l.length>0?l.join("="):void 0;x=x===void 0?null:Hk(x),n(Hk(a),x,i)}),Object.keys(i).sort().reduce(function(s,l){var a=i[l];return a&&typeof a=="object"&&!Array.isArray(a)?s[l]=HM(a):s[l]=a,s},Object.create(null)))}by.extract=qM;by.parse=GM;by.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=VM(n,t),t.sort===!1&&(t.sort=function(){});var i=Nj(t);return e?Object.keys(e).sort(t.sort).map(function(s){var l=e[s];if(l===void 0)return"";if(l===null)return Hl(s,t);if(Array.isArray(l)){var a=[];return l.slice().forEach(function(x){x!==void 0&&a.push(i(s,x,a.length))}),a.join("&")}return Hl(s,t)+"="+Hl(l,t)}).filter(function(s){return s.length>0}).join("&"):""};by.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:GM(qM(e),t)}};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.parsePlaygroundUrlQuery=Vj;Gh.parseRendererUrlQuery=qj;Gh.parseUrlQuery=VC;Gh.stringifyPlaygroundUrlQuery=jj;Gh.stringifyRendererUrlQuery=Hj;Gh.stringifyUrlQuery=Gj;var K2=$j(by);function $j(e){return e&&e.__esModule?e:{default:e}}function jj(e){var t={};return e.fixtureId&&(t.fixtureId=JSON.stringify(e.fixtureId)),K2.default.stringify(t)}function Vj(e){var t=VC(e),n={};return t.fixtureId&&(n.fixtureId=JSON.parse(t.fixtureId)),n}function Hj(e){var t={};return e._fixtureId&&(t._fixtureId=JSON.stringify(e._fixtureId)),K2.default.stringify(t)}function qj(e){var t=VC(e),n={};return t._fixtureId&&(n._fixtureId=JSON.parse(t._fixtureId)),n}function VC(e){return K2.default.parse(e)}function Gj(e){return K2.default.stringify(e)}(function(e){e.exports=Gh})(Pj);Object.defineProperty(W2,"__esModule",{value:!0});W2.selectedFixtureId=void 0;var Qj=gS,Wj=Q2,Kj=Zj();W2.selectedFixtureId=Kj;function Zj(){var e=(0,Qj.parseRendererUrlQuery)(location.search);return e._fixtureId?(Xj(e._fixtureId),e._fixtureId):Yj()}function Xj(e){sessionStorage.setItem("cosmosFixtureId",JSON.stringify(e))}function Yj(){if((0,Wj.isInsideCosmosPreviewIframe)())return null;var e=sessionStorage.getItem("cosmosFixtureId");return e?JSON.parse(e):null}Object.defineProperty(X4,"__esModule",{value:!0});X4.DomFixtureLoader=sV;var Jj=aV(jt),eV=P_,tV=G2,nV=H0,rV=q0,iV=jC,oV=W2;function aV(e){return e&&e.__esModule?e:{default:e}}function sV(e){var t=e.fixtures,n=e.decorators,i=e.onErrorReset;return Jj.default.createElement(eV.FixtureLoader,{rendererId:rV.rendererId,rendererConnect:nV.rendererConnect,fixtures:t,selectedFixtureId:oV.selectedFixtureId,systemDecorators:[tV.ErrorCatch],userDecorators:n,renderMessage:iV.renderMessage,onErrorReset:i})}var lV=q0,uV=H0;window.addEventListener("error",function(){uV.rendererConnect.postMessage({type:"rendererError",payload:{rendererId:lV.rendererId}})});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mountDomRenderer=S,Object.defineProperty(e,"rendererConnect",{enumerable:!0,get:function(){return l.rendererConnect}}),Object.defineProperty(e,"rendererId",{enumerable:!0,get:function(){return a.rendererId}});var t=x(jt),n=Xw,i=Z4,s=X4,l=H0,a=q0;function x(P){return P&&P.__esModule?P:{default:P}}function S(P){var L=P.rendererConfig,F=P.fixtures,N=P.decorators,$=P.onErrorReset,q=(0,i.getDomContainer)(L.containerQuerySelector),K=(0,n.createRoot)(q);K.render(t.default.createElement(s.DomFixtureLoader,{fixtures:F,decorators:N,onErrorReset:$}))}})(DP);(function(e){e.exports=DP})(PR);const cV="2.8.0";var Jg={},fV={get exports(){return Jg},set exports(e){Jg=e}},Z2={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV=jt,hV=Symbol.for("react.element"),AV=Symbol.for("react.fragment"),dV=Object.prototype.hasOwnProperty,mV=pV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gV={key:!0,ref:!0,__self:!0,__source:!0};function QM(e,t,n){var i,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)dV.call(t,i)&&!gV.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:hV,type:e,key:l,ref:a,props:s,_owner:mV.current}}Z2.Fragment=AV;Z2.jsx=QM;Z2.jsxs=QM;(function(e){e.exports=Z2})(fV);const X2=Jg.Fragment,_t=Jg.jsx,wr=Jg.jsxs;function WM(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=WM(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function aa(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=WM(e))&&(i&&(i+=" "),i+=t);return i}const KM=e=>_t("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.54039 5.54039C5.79423 5.28655 6.20578 5.28655 6.45963 5.54039L12 11.0808L17.5404 5.54039C17.7942 5.28655 18.2058 5.28655 18.4596 5.54039C18.7135 5.79423 18.7135 6.20578 18.4596 6.45963L12.9192 12L18.4596 17.5404C18.7135 17.7942 18.7135 18.2058 18.4596 18.4596C18.2058 18.7135 17.7942 18.7135 17.5404 18.4596L12 12.9192L6.45963 18.4596C6.20578 18.7135 5.79423 18.7135 5.54039 18.4596C5.28655 18.2058 5.28655 17.7942 5.54039 17.5404L11.0808 12L5.54039 6.45963C5.28655 6.20578 5.28655 5.79423 5.54039 5.54039Z",fill:"currentColor"})});KM.displayName="Close24";const yV=jt.memo(KM),vV=yV,ZM=e=>wr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L13.3536 12.6464C13.5488 12.8417 13.5488 13.1583 13.3536 13.3536C13.1583 13.5488 12.8417 13.5488 12.6464 13.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.64645C13.1583 2.45118 12.8417 2.45118 12.6464 2.64645L2.64645 12.6464C2.45118 12.8417 2.45118 13.1583 2.64645 13.3536C2.84171 13.5488 3.15829 13.5488 3.35355 13.3536L13.3536 3.35355C13.5488 3.15829 13.5488 2.84171 13.3536 2.64645Z",fill:"currentColor"})]});ZM.displayName="Close16";const _V=jt.memo(ZM),xV=_V,XM=e=>_t("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 5.64645C2.84171 5.45118 3.15829 5.45118 3.35355 5.64645L8 10.2929L12.6464 5.64645C12.8417 5.45118 13.1583 5.45118 13.3536 5.64645C13.5488 5.84171 13.5488 6.15829 13.3536 6.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L2.64645 6.35355C2.45118 6.15829 2.45118 5.84171 2.64645 5.64645Z",fill:"currentColor"})});XM.displayName="ChevronDown16";const bV=jt.memo(XM),wV=bV,YM=e=>wr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00002 2.66669C5.0545 2.66669 2.66669 5.0545 2.66669 8.00002C2.66669 10.9455 5.0545 13.3334 8.00002 13.3334C10.9455 13.3334 13.3334 10.9455 13.3334 8.00002C13.3334 5.0545 10.9455 2.66669 8.00002 2.66669ZM1.66669 8.00002C1.66669 4.50222 4.50222 1.66669 8.00002 1.66669C11.4978 1.66669 14.3334 4.50222 14.3334 8.00002C14.3334 11.4978 11.4978 14.3334 8.00002 14.3334C4.50222 14.3334 1.66669 11.4978 1.66669 8.00002Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6.87481C8.27614 6.87481 8.5 7.09867 8.5 7.37481V11C8.5 11.2761 8.27614 11.5 8 11.5C7.72386 11.5 7.5 11.2761 7.5 11V7.37481C7.5 7.09867 7.72386 6.87481 8 6.87481Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4.5C8.27614 4.5 8.5 4.72386 8.5 5V5.01C8.5 5.28614 8.27614 5.51 8 5.51C7.72386 5.51 7.5 5.28614 7.5 5.01V5C7.5 4.72386 7.72386 4.5 8 4.5Z",fill:"currentColor"})]});YM.displayName="InfoOutline16";const SV=jt.memo(YM),CV=SV;var ur={},EV={get exports(){return ur},set exports(e){ur=e}},kV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PV=kV,TV=PV;function JM(){}function eO(){}eO.resetWarningCache=JM;var IV=function(){function e(i,s,l,a,x,S){if(S!==TV){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eO,resetWarningCache:JM};return n.PropTypes=n,n};EV.exports=IV();let MV=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function wy(e){return e.split("-")[1]}function HC(e){return e==="y"?"height":"width"}function FA(e){return e.split("-")[0]}function Sy(e){return["top","bottom"].includes(FA(e))?"x":"y"}function qk(e,t,n){let{reference:i,floating:s}=e;const l=i.x+i.width/2-s.width/2,a=i.y+i.height/2-s.height/2,x=Sy(t),S=HC(x),P=i[S]/2-s[S]/2,L=x==="x";let F;switch(FA(t)){case"top":F={x:l,y:i.y-s.height};break;case"bottom":F={x:l,y:i.y+i.height};break;case"right":F={x:i.x+i.width,y:a};break;case"left":F={x:i.x-s.width,y:a};break;default:F={x:i.x,y:i.y}}switch(wy(t)){case"start":F[x]-=P*(n&&L?-1:1);break;case"end":F[x]+=P*(n&&L?-1:1)}return F}const OV=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:a}=n,x=l.filter(Boolean),S=await(a.isRTL==null?void 0:a.isRTL(t));let P=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:L,y:F}=qk(P,i,S),N=i,$={},q=0;for(let K=0;K<x.length;K++){const{name:te,fn:V}=x[K],{x:X,y:ee,data:ce,reset:_e}=await V({x:L,y:F,initialPlacement:i,placement:N,strategy:s,middlewareData:$,rects:P,platform:a,elements:{reference:e,floating:t}});L=X??L,F=ee??F,$={...$,[te]:{...$[te],...ce}},_e&&q<=50&&(q++,typeof _e=="object"&&(_e.placement&&(N=_e.placement),_e.rects&&(P=_e.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_e.rects),{x:L,y:F}=qk(P,N,S)),K=-1)}return{x:L,y:F,placement:N,strategy:s,middlewareData:$}};function tO(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function vS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function nO(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:a,elements:x,strategy:S}=e,{boundary:P="clippingAncestors",rootBoundary:L="viewport",elementContext:F="floating",altBoundary:N=!1,padding:$=0}=t,q=tO($),K=x[N?F==="floating"?"reference":"floating":F],te=vS(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(K)))==null||n?K:K.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(x.floating)),boundary:P,rootBoundary:L,strategy:S})),V=F==="floating"?{...a.floating,x:i,y:s}:a.reference,X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(x.floating)),ee=await(l.isElement==null?void 0:l.isElement(X))&&await(l.getScale==null?void 0:l.getScale(X))||{x:1,y:1},ce=vS(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:V,offsetParent:X,strategy:S}):V);return{top:(te.top-ce.top+q.top)/ee.y,bottom:(ce.bottom-te.bottom+q.bottom)/ee.y,left:(te.left-ce.left+q.left)/ee.x,right:(ce.right-te.right+q.right)/ee.x}}const LV=Math.min,DV=Math.max;function _S(e,t,n){return DV(e,LV(t,n))}const Gk=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:i=0}=e||{},{x:s,y:l,placement:a,rects:x,platform:S}=t;if(n==null)return{};const P=tO(i),L={x:s,y:l},F=Sy(a),N=HC(F),$=await S.getDimensions(n),q=F==="y"?"top":"left",K=F==="y"?"bottom":"right",te=x.reference[N]+x.reference[F]-L[F]-x.floating[N],V=L[F]-x.reference[F],X=await(S.getOffsetParent==null?void 0:S.getOffsetParent(n));let ee=X?F==="y"?X.clientHeight||0:X.clientWidth||0:0;ee===0&&(ee=x.floating[N]);const ce=te/2-V/2,_e=P[q],re=ee-$[N]-P[K],Se=ee/2-$[N]/2+ce,Le=_S(_e,Se,re),Ze=wy(a)!=null&&Se!=Le&&x.reference[N]/2-(Se<_e?P[q]:P[K])-$[N]/2<0;return{[F]:L[F]-(Ze?Se<_e?_e-Se:re-Se:0),data:{[F]:Le,centerOffset:Se-Le}}}}),RV=["top","right","bottom","left"];RV.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const FV={left:"right",right:"left",bottom:"top",top:"bottom"};function Q_(e){return e.replace(/left|right|bottom|top/g,t=>FV[t])}function BV(e,t,n){n===void 0&&(n=!1);const i=wy(e),s=Sy(e),l=HC(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=Q_(a)),{main:a,cross:Q_(a)}}const zV={start:"end",end:"start"};function yw(e){return e.replace(/start|end/g,t=>zV[t])}const NV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:s,rects:l,initialPlacement:a,platform:x,elements:S}=t,{mainAxis:P=!0,crossAxis:L=!0,fallbackPlacements:F,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:$="none",flipAlignment:q=!0,...K}=e,te=FA(i),V=FA(a)===a,X=await(x.isRTL==null?void 0:x.isRTL(S.floating)),ee=F||(V||!q?[Q_(a)]:function(We){const ut=Q_(We);return[yw(We),ut,yw(ut)]}(a));F||$==="none"||ee.push(...function(We,ut,yt,Bt){const Yt=wy(We);let pn=function(xn,at,Me){const Oe=["left","right"],oe=["right","left"],ge=["top","bottom"],Mt=["bottom","top"];switch(xn){case"top":case"bottom":return Me?at?oe:Oe:at?Oe:oe;case"left":case"right":return at?ge:Mt;default:return[]}}(FA(We),yt==="start",Bt);return Yt&&(pn=pn.map(xn=>xn+"-"+Yt),ut&&(pn=pn.concat(pn.map(yw)))),pn}(a,q,$,X));const ce=[a,...ee],_e=await nO(t,K),re=[];let Se=((n=s.flip)==null?void 0:n.overflows)||[];if(P&&re.push(_e[te]),L){const{main:We,cross:ut}=BV(i,l,X);re.push(_e[We],_e[ut])}if(Se=[...Se,{placement:i,overflows:re}],!re.every(We=>We<=0)){var Le,Ze;const We=(((Le=s.flip)==null?void 0:Le.index)||0)+1,ut=ce[We];if(ut)return{data:{index:We,overflows:Se},reset:{placement:ut}};let yt=(Ze=Se.filter(Bt=>Bt.overflows[0]<=0).sort((Bt,Yt)=>Bt.overflows[1]-Yt.overflows[1])[0])==null?void 0:Ze.placement;if(!yt)switch(N){case"bestFit":{var ot;const Bt=(ot=Se.map(Yt=>[Yt.placement,Yt.overflows.filter(pn=>pn>0).reduce((pn,xn)=>pn+xn,0)]).sort((Yt,pn)=>Yt[1]-pn[1])[0])==null?void 0:ot[0];Bt&&(yt=Bt);break}case"initialPlacement":yt=a}if(i!==yt)return{reset:{placement:yt}}}return{}}}},UV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,s=await async function(l,a){const{placement:x,platform:S,elements:P}=l,L=await(S.isRTL==null?void 0:S.isRTL(P.floating)),F=FA(x),N=wy(x),$=Sy(x)==="x",q=["left","top"].includes(F)?-1:1,K=L&&$?-1:1,te=typeof a=="function"?a(l):a;let{mainAxis:V,crossAxis:X,alignmentAxis:ee}=typeof te=="number"?{mainAxis:te,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...te};return N&&typeof ee=="number"&&(X=N==="end"?-1*ee:ee),$?{x:X*K,y:V*q}:{x:V*q,y:X*K}}(t,e);return{x:n+s.x,y:i+s.y,data:s}}}};function $V(e){return e==="x"?"y":"x"}const jV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:x={fn:te=>{let{x:V,y:X}=te;return{x:V,y:X}}},...S}=e,P={x:n,y:i},L=await nO(t,S),F=Sy(FA(s)),N=$V(F);let $=P[F],q=P[N];if(l){const te=F==="y"?"bottom":"right";$=_S($+L[F==="y"?"top":"left"],$,$-L[te])}if(a){const te=N==="y"?"bottom":"right";q=_S(q+L[N==="y"?"top":"left"],q,q-L[te])}const K=x.fn({...t,[F]:$,[N]:q});return{...K,data:{x:K.x-n,y:K.y-i}}}}};function Ql(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bf(e){return Ql(e).getComputedStyle(e)}const Qk=Math.min,Ag=Math.max,W_=Math.round;function rO(e){const t=bf(e);let n=parseFloat(t.width),i=parseFloat(t.height);const s=e.offsetWidth,l=e.offsetHeight,a=W_(n)!==s||W_(i)!==l;return a&&(n=s,i=l),{width:n,height:i,fallback:a}}function $h(e){return oO(e)?(e.nodeName||"").toLowerCase():""}let y1;function iO(){if(y1)return y1;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(y1=e.brands.map(t=>t.brand+"/"+t.version).join(" "),y1):navigator.userAgent}function wf(e){return e instanceof Ql(e).HTMLElement}function kc(e){return e instanceof Ql(e).Element}function oO(e){return e instanceof Ql(e).Node}function Wk(e){return typeof ShadowRoot>"u"?!1:e instanceof Ql(e).ShadowRoot||e instanceof ShadowRoot}function Y2(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=bf(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function VV(e){return["table","td","th"].includes($h(e))}function xS(e){const t=/firefox/i.test(iO()),n=bf(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const l=n.contain;return l!=null&&l.includes(s)})}function bS(){return/^((?!chrome|android).)*safari/i.test(iO())}function qC(e){return["html","body","#document"].includes($h(e))}function aO(e){return kc(e)?e:e.contextElement}const sO={x:1,y:1};function b0(e){const t=aO(e);if(!wf(t))return sO;const n=t.getBoundingClientRect(),{width:i,height:s,fallback:l}=rO(t);let a=(l?W_(n.width):n.width)/i,x=(l?W_(n.height):n.height)/s;return a&&Number.isFinite(a)||(a=1),x&&Number.isFinite(x)||(x=1),{x:a,y:x}}function QA(e,t,n,i){var s,l;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),x=aO(e);let S=sO;t&&(i?kc(i)&&(S=b0(i)):S=b0(e));const P=x?Ql(x):window,L=bS()&&n;let F=(a.left+(L&&((s=P.visualViewport)==null?void 0:s.offsetLeft)||0))/S.x,N=(a.top+(L&&((l=P.visualViewport)==null?void 0:l.offsetTop)||0))/S.y,$=a.width/S.x,q=a.height/S.y;if(x){const K=Ql(x),te=i&&kc(i)?Ql(i):i;let V=K.frameElement;for(;V&&i&&te!==K;){const X=b0(V),ee=V.getBoundingClientRect(),ce=getComputedStyle(V);ee.x+=(V.clientLeft+parseFloat(ce.paddingLeft))*X.x,ee.y+=(V.clientTop+parseFloat(ce.paddingTop))*X.y,F*=X.x,N*=X.y,$*=X.x,q*=X.y,F+=ee.x,N+=ee.y,V=Ql(V).frameElement}}return{width:$,height:q,top:N,right:F+$,bottom:N+q,left:F,x:F,y:N}}function Fh(e){return((oO(e)?e.ownerDocument:e.document)||window.document).documentElement}function J2(e){return kc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function lO(e){return QA(Fh(e)).left+J2(e).scrollLeft}function ey(e){if($h(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wk(e)&&e.host||Fh(e);return Wk(t)?t.host:t}function uO(e){const t=ey(e);return qC(t)?t.ownerDocument.body:wf(t)&&Y2(t)?t:uO(t)}function dg(e,t){var n;t===void 0&&(t=[]);const i=uO(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=Ql(i);return s?t.concat(l,l.visualViewport||[],Y2(i)?i:[]):t.concat(i,dg(i))}function Kk(e,t,n){let i;if(t==="viewport")i=function(a,x){const S=Ql(a),P=Fh(a),L=S.visualViewport;let F=P.clientWidth,N=P.clientHeight,$=0,q=0;if(L){F=L.width,N=L.height;const K=bS();(!K||K&&x==="fixed")&&($=L.offsetLeft,q=L.offsetTop)}return{width:F,height:N,x:$,y:q}}(e,n);else if(t==="document")i=function(a){const x=Fh(a),S=J2(a),P=a.ownerDocument.body,L=Ag(x.scrollWidth,x.clientWidth,P.scrollWidth,P.clientWidth),F=Ag(x.scrollHeight,x.clientHeight,P.scrollHeight,P.clientHeight);let N=-S.scrollLeft+lO(a);const $=-S.scrollTop;return bf(P).direction==="rtl"&&(N+=Ag(x.clientWidth,P.clientWidth)-L),{width:L,height:F,x:N,y:$}}(Fh(e));else if(kc(t))i=function(a,x){const S=QA(a,!0,x==="fixed"),P=S.top+a.clientTop,L=S.left+a.clientLeft,F=wf(a)?b0(a):{x:1,y:1};return{width:a.clientWidth*F.x,height:a.clientHeight*F.y,x:L*F.x,y:P*F.y}}(t,n);else{const a={...t};if(bS()){var s,l;const x=Ql(e);a.x-=((s=x.visualViewport)==null?void 0:s.offsetLeft)||0,a.y-=((l=x.visualViewport)==null?void 0:l.offsetTop)||0}i=a}return vS(i)}function Zk(e,t){return wf(e)&&bf(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Xk(e,t){const n=Ql(e);let i=Zk(e,t);for(;i&&VV(i)&&bf(i).position==="static";)i=Zk(i,t);return i&&($h(i)==="html"||$h(i)==="body"&&bf(i).position==="static"&&!xS(i))?n:i||function(s){let l=ey(s);for(;wf(l)&&!qC(l);){if(xS(l))return l;l=ey(l)}return null}(e)||n}function HV(e,t,n){const i=wf(t),s=Fh(t),l=QA(e,!0,n==="fixed",t);let a={scrollLeft:0,scrollTop:0};const x={x:0,y:0};if(i||!i&&n!=="fixed")if(($h(t)!=="body"||Y2(s))&&(a=J2(t)),wf(t)){const S=QA(t,!0);x.x=S.x+t.clientLeft,x.y=S.y+t.clientTop}else s&&(x.x=lO(s));return{x:l.left+a.scrollLeft-x.x,y:l.top+a.scrollTop-x.y,width:l.width,height:l.height}}const qV={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=n==="clippingAncestors"?function(P,L){const F=L.get(P);if(F)return F;let N=dg(P).filter(te=>kc(te)&&$h(te)!=="body"),$=null;const q=bf(P).position==="fixed";let K=q?ey(P):P;for(;kc(K)&&!qC(K);){const te=bf(K),V=xS(K);te.position==="fixed"?$=null:(q?V||$:V||te.position!=="static"||!$||!["absolute","fixed"].includes($.position))?$=te:N=N.filter(X=>X!==K),K=ey(K)}return L.set(P,N),N}(t,this._c):[].concat(n),a=[...l,i],x=a[0],S=a.reduce((P,L)=>{const F=Kk(t,L,s);return P.top=Ag(F.top,P.top),P.right=Qk(F.right,P.right),P.bottom=Qk(F.bottom,P.bottom),P.left=Ag(F.left,P.left),P},Kk(t,x,s));return{width:S.right-S.left,height:S.bottom-S.top,x:S.left,y:S.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const s=wf(n),l=Fh(n);if(n===l)return t;let a={scrollLeft:0,scrollTop:0},x={x:1,y:1};const S={x:0,y:0};if((s||!s&&i!=="fixed")&&(($h(n)!=="body"||Y2(l))&&(a=J2(n)),wf(n))){const P=QA(n);x=b0(n),S.x=P.x+n.clientLeft,S.y=P.y+n.clientTop}return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-a.scrollLeft*x.x+S.x,y:t.y*x.y-a.scrollTop*x.y+S.y}},isElement:kc,getDimensions:function(e){return wf(e)?rO(e):e.getBoundingClientRect()},getOffsetParent:Xk,getDocumentElement:Fh,getScale:b0,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e;const s=this.getOffsetParent||Xk,l=this.getDimensions;return{reference:HV(t,await s(n),i),floating:{x:0,y:0,...await l(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>bf(e).direction==="rtl"};function GV(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:a=!0,animationFrame:x=!1}=i,S=s&&!x,P=S||l?[...kc(e)?dg(e):e.contextElement?dg(e.contextElement):[],...dg(t)]:[];P.forEach($=>{S&&$.addEventListener("scroll",n,{passive:!0}),l&&$.addEventListener("resize",n)});let L,F=null;if(a){let $=!0;F=new ResizeObserver(()=>{$||n(),$=!1}),kc(e)&&!x&&F.observe(e),kc(e)||!e.contextElement||x||F.observe(e.contextElement),F.observe(t)}let N=x?QA(e):null;return x&&function $(){const q=QA(e);!N||q.x===N.x&&q.y===N.y&&q.width===N.width&&q.height===N.height||n(),N=q,L=requestAnimationFrame($)}(),n(),()=>{var $;P.forEach(q=>{S&&q.removeEventListener("scroll",n),l&&q.removeEventListener("resize",n)}),($=F)==null||$.disconnect(),F=null,x&&cancelAnimationFrame(L)}}const QV=(e,t,n)=>{const i=new Map,s={platform:qV,...n},l={...s.platform,_c:i};return OV(e,t,{...s,platform:l})},WV=e=>{const{element:t,padding:n}=e;function i(s){return Object.prototype.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){return i(t)?t.current!=null?Gk({element:t.current,padding:n}).fn(s):{}:t?Gk({element:t,padding:n}).fn(s):{}}}};var J1=typeof document<"u"?jt.useLayoutEffect:jt.useEffect;function K_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!K_(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!K_(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Yk(e){const t=jt.useRef(e);return J1(()=>{t.current=e}),t}function KV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,whileElementsMounted:l,open:a}=e,[x,S]=jt.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[P,L]=jt.useState(i);K_(P,i)||L(i);const F=jt.useRef(null),N=jt.useRef(null),$=jt.useRef(x),q=Yk(l),K=Yk(s),[te,V]=jt.useState(null),[X,ee]=jt.useState(null),ce=jt.useCallback(ot=>{F.current!==ot&&(F.current=ot,V(ot))},[]),_e=jt.useCallback(ot=>{N.current!==ot&&(N.current=ot,ee(ot))},[]),re=jt.useCallback(()=>{if(!F.current||!N.current)return;const ot={placement:t,strategy:n,middleware:P};K.current&&(ot.platform=K.current),QV(F.current,N.current,ot).then(We=>{const ut={...We,isPositioned:!0};Se.current&&!K_($.current,ut)&&($.current=ut,bg.flushSync(()=>{S(ut)}))})},[P,t,n,K]);J1(()=>{a===!1&&$.current.isPositioned&&($.current.isPositioned=!1,S(ot=>({...ot,isPositioned:!1})))},[a]);const Se=jt.useRef(!1);J1(()=>(Se.current=!0,()=>{Se.current=!1}),[]),J1(()=>{if(te&&X){if(q.current)return q.current(te,X,re);re()}},[te,X,re,q]);const Le=jt.useMemo(()=>({reference:F,floating:N,setReference:ce,setFloating:_e}),[ce,_e]),Ze=jt.useMemo(()=>({reference:te,floating:X}),[te,X]);return jt.useMemo(()=>({...x,update:re,refs:Le,elements:Ze,reference:ce,floating:_e}),[x,re,Le,Ze,ce,_e])}const ZV="_tooltipContainer_g6vht_4",XV="_hoverTooltip_g6vht_15",YV="_popup_g6vht_18",JV="_contentBody_g6vht_23",eH="_bodyBottom_g6vht_36",tH="_unset_g6vht_41",nH="_arrow_g6vht_45",rH="_arrowInner_g6vht_74",iH="_tooltipContent_g6vht_81",oH="_closeIcon_g6vht_88",up={tooltipContainer:ZV,hoverTooltip:XV,popup:YV,contentBody:JV,bodyBottom:eH,unset:tH,arrow:nH,"arrow-top":"_arrow-top_g6vht_58","arrow-bottom":"_arrow-bottom_g6vht_62","arrow-left":"_arrow-left_g6vht_66","arrow-right":"_arrow-right_g6vht_70",arrowInner:rH,tooltipContent:iH,closeIcon:oH};function Jk(e){switch(e){case"top-left":return"top-start";case"top-right":return"top-end";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end"}}function aH(e,t,n){if(e&&t&&console.error("You should not use both placement and deprecadedPlacement props at the same time. Placement prop will be used."),t)return t;if(n){if(typeof e=="function")return Jk(e(n));if(e)return Jk(e)}}const e6="top";function sH({children:e,position:t,triggerRef:n,transitionRef:i,placement:s,getPlacement:l,classes:a,hoverBehavior:x=!1,onOuterClick:S,onClose:P,open:L=!0,offset:F=7}){const N=jt.useCallback(Ze=>{if(!(S&&x===!0)){if(S){S(Ze);return}P==null||P(Ze)}},[x,S,P]),$=jt.useRef(null),q=jt.useMemo(()=>aH(l,s,t)||e6,[l,s,t]),{refs:K,x:te,y:V,strategy:X,middlewareData:{arrow:{x:ee,y:ce}={}},placement:_e}=KV({placement:q,open:L,whileElementsMounted:GV,middleware:[UV(F),NV(),jV({padding:5}),WV({element:$})]}),re=jt.useMemo(()=>({"--tooltip-arrox-x-position":ee!=null?`${ee}px`:"","--tooltip-arrow-y-position":ce!=null?`${ce}px`:"","--tooltip-x-position":`${te??0}px`,"--tooltip-y-position":`${V??0}px`,"--tooltip-placement":X}),[ee,ce,te,V,X]),Se=jt.useMemo(()=>`arrow-${_e.split("-")[0]||e6}`,[_e]);if(jt.useLayoutEffect(()=>{if(n)K.setReference(n.current);else if(t){const{x:Ze,y:ot}=t;K.setReference({getBoundingClientRect(){return{width:0,height:0,x:Ze,y:ot,top:ot,left:Ze,right:Ze,bottom:ot}}})}},[t,K,n]),t&&n&&console.error("Both position and triggerRef are provided. Tooltip will be rendered with triggerRef"),!t&&!n)return console.error("Tooltip will not be rendered because neither position nor triggerRef are provided"),null;if(!L)return null;const Le=x?void 0:P;return _t("div",{ref:i,className:aa(up.tooltipContainer,{[up.hoverTooltip]:x}),onClick:N,style:re,children:wr("div",{ref:K.setFloating,className:up.tooltipContent,children:[wr("div",{className:aa(up.contentBody,aa),children:[wr("div",{children:[e,_t("div",{className:up.bodyBottom})]}),Le&&_t("div",{className:up.closeIcon,onClick:Le,children:_t(xV,{})})]}),_t("div",{ref:$,className:aa(up.arrow,up[Se]),children:_t("div",{className:up.arrowInner})})]})})}const lH="_legendTitle_sgaz8_1",uH="_grid_sgaz8_6",cH="_cell_sgaz8_11",fH="_colorCell_sgaz8_17",pH="_yStepsCell_sgaz8_26",hH="_xStepsCell_sgaz8_45",AH="_xStepsCellNoLabel_sgaz8_46",dH="_arrowX_sgaz8_70",mH="_arrowY_sgaz8_71",gH="_axisLabelX_sgaz8_88",yH="_axisLabelY_sgaz8_89",vH="_arrowHeadX_sgaz8_107",_H="_arrowHeadY_sgaz8_108",xH="_arrowHeadY_angle0_sgaz8_123",Ya={legendTitle:lH,grid:uH,cell:cH,colorCell:fH,yStepsCell:pH,xStepsCell:hH,xStepsCellNoLabel:AH,arrowX:dH,arrowY:mH,axisLabelX:gH,axisLabelY:yH,arrowHeadX:vH,arrowHeadY:_H,arrowHeadY_angle0:xH};function bH(){const e={};return{increment:t=>(typeof e[t]=="number"?e[t]+=1:e[t]=0,e[t])}}function wH(e,t){const n=[],i=bH();return e.forEach((s,l)=>{s.split(" ").forEach((a,x)=>{const S=i.increment(a),P=t[a]&&t[a][S];P&&n.push({...P,_position:{x,y:l}})})}),n}function t6(e){return[...e].reverse()}const SH=(e,t)=>({gridColumn:`${e+1} / ${e+2}`,gridRow:`${t+1} / ${t+2}`}),n6=({className:e,type:t})=>_t("div",{className:e,children:t==="horizontal"?_t("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,6L0,0l0,2.4L3.6,6L0,9.6L0,12L6,6z",fill:"currentColor"})}):_t("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,0L0,6l2.4,0L6,2.4L9.6,6L12,6L6,0z",fill:"currentColor"})})}),CH=({cells:e,size:t,axis:n,title:i,showAxisLabels:s=!1,showSteps:l=!0,showArrowHeads:a=!0,onCellPointerOver:x,onCellPointerLeave:S,renderXAxisLabel:P,renderYAxisLabel:L})=>{const F=jt.useMemo(()=>[`y ${new Array(t+1).fill(".").join(" ")}`,...new Array(t).fill(`y ${new Array(t).fill("c").join(" ")} .`),`. ${new Array(t+1).fill("x").join(" ")}`],[t]),N=wH(F,{x:l?n.x.steps.map(K=>({label:K.label||K.value.toFixed(1),className:Ya.xStepsCell})):n.x.steps.map(K=>({label:"",className:Ya.xStepsCellNoLabel})),y:l?t6(n.y.steps).map(K=>({label:K.label||K.value.toFixed(1),className:Ya.yStepsCell})):t6(n.y.steps).map(K=>({label:"",className:Ya.yStepsCellNoLabel})),c:e.map((K,te)=>({label:_t("span",{children:K.label}),className:aa(Ya.cell,Ya.colorCell),style:{backgroundColor:K.color},...x&&{onPointerOver:V=>x(V,K,te)},...S&&{onPointerLeave:V=>S(V,K,te)}}))}),$=()=>P?P(n.x,Ya.axisLabelX):_t("div",{className:Ya.axisLabelX,children:n.x.label}),q=()=>L?L(n.y,Ya.axisLabelY):_t("div",{className:Ya.axisLabelY,children:n.y.label});return wr("div",{children:[i&&_t("div",{className:Ya.legendTitle,children:i}),wr("div",{className:Ya.grid,style:{gridTemplateColumns:`repeat(${t+2}, auto)`,gridTemplateRows:`repeat(${t+2}, auto)`},children:[s&&n.x.label?$():null,s&&n.y.label?q():null,_t("div",{className:Ya.arrowX,children:a&&_t(n6,{type:"horizontal",className:Ya.arrowHeadX})}),_t("div",{className:Ya.arrowY,children:a&&_t(n6,{type:"vertical",className:aa({[Ya.arrowHeadY]:!0,[Ya.arrowHeadY_angle0]:!s})})}),N.map(K=>_t("div",{style:Object.assign(SH(K._position.x,K._position.y),K.style),className:aa(K.className,Ya.cell),onPointerOver:K.onPointerOver,onPointerLeave:K.onPointerLeave,children:K.label},`${K._position.x}|${K._position.y}`))]})]})};var wS={},EH={get exports(){return wS},set exports(e){wS=e}},Li={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=Symbol.for("react.element"),QC=Symbol.for("react.portal"),ex=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),kH=Symbol.for("react.server_context"),ox=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),sx=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),ux=Symbol.for("react.lazy"),PH=Symbol.for("react.offscreen"),cO;cO=Symbol.for("react.module.reference");function Uu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GC:switch(e=e.type,e){case ex:case nx:case tx:case ax:case sx:return e;default:switch(e=e&&e.$$typeof,e){case kH:case ix:case ox:case ux:case lx:case rx:return e;default:return t}}case QC:return t}}}Li.ContextConsumer=ix;Li.ContextProvider=rx;Li.Element=GC;Li.ForwardRef=ox;Li.Fragment=ex;Li.Lazy=ux;Li.Memo=lx;Li.Portal=QC;Li.Profiler=nx;Li.StrictMode=tx;Li.Suspense=ax;Li.SuspenseList=sx;Li.isAsyncMode=function(){return!1};Li.isConcurrentMode=function(){return!1};Li.isContextConsumer=function(e){return Uu(e)===ix};Li.isContextProvider=function(e){return Uu(e)===rx};Li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GC};Li.isForwardRef=function(e){return Uu(e)===ox};Li.isFragment=function(e){return Uu(e)===ex};Li.isLazy=function(e){return Uu(e)===ux};Li.isMemo=function(e){return Uu(e)===lx};Li.isPortal=function(e){return Uu(e)===QC};Li.isProfiler=function(e){return Uu(e)===nx};Li.isStrictMode=function(e){return Uu(e)===tx};Li.isSuspense=function(e){return Uu(e)===ax};Li.isSuspenseList=function(e){return Uu(e)===sx};Li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ex||e===nx||e===tx||e===ax||e===sx||e===PH||typeof e=="object"&&e!==null&&(e.$$typeof===ux||e.$$typeof===lx||e.$$typeof===rx||e.$$typeof===ix||e.$$typeof===ox||e.$$typeof===cO||e.getModuleId!==void 0)};Li.typeOf=Uu;(function(e){e.exports=Li})(EH);const TH=e4(wS);function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Z_(e,t)}function zu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Z_(e,t)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xs.apply(this,arguments)}function v1(e){return e.charAt(0)==="/"}function vw(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}function IH(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&v1(e),l=t&&v1(t),a=s||l;if(e&&v1(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var x;if(i.length){var S=i[i.length-1];x=S==="."||S===".."||S===""}else x=!1;for(var P=0,L=i.length;L>=0;L--){var F=i[L];F==="."?vw(i,L):F===".."?(vw(i,L),P++):P&&(vw(i,L),P--)}if(!a)for(;P--;P)i.unshift("..");a&&i[0]!==""&&(!i[0]||!v1(i[0]))&&i.unshift("");var N=i.join("/");return x&&N.substr(-1)!=="/"&&(N+="/"),N}var MH=!0,_w="Invariant failed";function td(e,t){if(!e){if(MH)throw new Error(_w);var n=typeof t=="function"?t():t,i=n?_w+": "+n:_w;throw new Error(i)}}function mg(e){return e.charAt(0)==="/"?e:"/"+e}function r6(e){return e.charAt(0)==="/"?e.substr(1):e}function OH(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function fO(e,t){return OH(e,t)?e.substr(t.length):e}function pO(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function LH(e){var t=e||"/",n="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var l=t.indexOf("?");return l!==-1&&(n=t.substr(l),t=t.substr(0,l)),{pathname:t,search:n==="?"?"":n,hash:i==="#"?"":i}}function Cl(e){var t=e.pathname,n=e.search,i=e.hash,s=t||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Wl(e,t,n,i){var s;typeof e=="string"?(s=LH(e),s.state=t):(s=xs({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(l){throw l instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):l}return n&&(s.key=n),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=IH(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function WC(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function n(a,x,S,P){if(e!=null){var L=typeof e=="function"?e(a,x):e;typeof L=="string"?typeof S=="function"?S(L,P):P(!0):P(L!==!1)}else P(!0)}var i=[];function s(a){var x=!0;function S(){x&&a.apply(void 0,arguments)}return i.push(S),function(){x=!1,i=i.filter(function(P){return P!==S})}}function l(){for(var a=arguments.length,x=new Array(a),S=0;S<a;S++)x[S]=arguments[S];i.forEach(function(P){return P.apply(void 0,x)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:s,notifyListeners:l}}var hO=!!(typeof window<"u"&&window.document&&window.document.createElement);function AO(e,t){t(window.confirm(e))}function DH(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function RH(){return window.navigator.userAgent.indexOf("Trident")===-1}function FH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function BH(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var i6="popstate",o6="hashchange";function a6(){try{return window.history.state||{}}catch{return{}}}function dO(e){e===void 0&&(e={}),hO||td(!1);var t=window.history,n=DH(),i=!RH(),s=e,l=s.forceRefresh,a=l===void 0?!1:l,x=s.getUserConfirmation,S=x===void 0?AO:x,P=s.keyLength,L=P===void 0?6:P,F=e.basename?pO(mg(e.basename)):"";function N(Me){var Oe=Me||{},oe=Oe.key,ge=Oe.state,Mt=window.location,un=Mt.pathname,wn=Mt.search,dn=Mt.hash,Cn=un+wn+dn;return F&&(Cn=fO(Cn,F)),Wl(Cn,ge,oe)}function $(){return Math.random().toString(36).substr(2,L)}var q=WC();function K(Me){xs(at,Me),at.length=t.length,q.notifyListeners(at.location,at.action)}function te(Me){BH(Me)||ee(N(Me.state))}function V(){ee(N(a6()))}var X=!1;function ee(Me){if(X)X=!1,K();else{var Oe="POP";q.confirmTransitionTo(Me,Oe,S,function(oe){oe?K({action:Oe,location:Me}):ce(Me)})}}function ce(Me){var Oe=at.location,oe=re.indexOf(Oe.key);oe===-1&&(oe=0);var ge=re.indexOf(Me.key);ge===-1&&(ge=0);var Mt=oe-ge;Mt&&(X=!0,ot(Mt))}var _e=N(a6()),re=[_e.key];function Se(Me){return F+Cl(Me)}function Le(Me,Oe){var oe="PUSH",ge=Wl(Me,Oe,$(),at.location);q.confirmTransitionTo(ge,oe,S,function(Mt){if(Mt){var un=Se(ge),wn=ge.key,dn=ge.state;if(n)if(t.pushState({key:wn,state:dn},null,un),a)window.location.href=un;else{var Cn=re.indexOf(at.location.key),$n=re.slice(0,Cn+1);$n.push(ge.key),re=$n,K({action:oe,location:ge})}else window.location.href=un}})}function Ze(Me,Oe){var oe="REPLACE",ge=Wl(Me,Oe,$(),at.location);q.confirmTransitionTo(ge,oe,S,function(Mt){if(Mt){var un=Se(ge),wn=ge.key,dn=ge.state;if(n)if(t.replaceState({key:wn,state:dn},null,un),a)window.location.replace(un);else{var Cn=re.indexOf(at.location.key);Cn!==-1&&(re[Cn]=ge.key),K({action:oe,location:ge})}else window.location.replace(un)}})}function ot(Me){t.go(Me)}function We(){ot(-1)}function ut(){ot(1)}var yt=0;function Bt(Me){yt+=Me,yt===1&&Me===1?(window.addEventListener(i6,te),i&&window.addEventListener(o6,V)):yt===0&&(window.removeEventListener(i6,te),i&&window.removeEventListener(o6,V))}var Yt=!1;function pn(Me){Me===void 0&&(Me=!1);var Oe=q.setPrompt(Me);return Yt||(Bt(1),Yt=!0),function(){return Yt&&(Yt=!1,Bt(-1)),Oe()}}function xn(Me){var Oe=q.appendListener(Me);return Bt(1),function(){Bt(-1),Oe()}}var at={length:t.length,action:"POP",location:_e,createHref:Se,push:Le,replace:Ze,go:ot,goBack:We,goForward:ut,block:pn,listen:xn};return at}var s6="hashchange",zH={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+r6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:r6,decodePath:mg},slash:{encodePath:mg,decodePath:mg}};function mO(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Um(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function NH(e){window.location.hash=e}function xw(e){window.location.replace(mO(window.location.href)+"#"+e)}function UH(e){e===void 0&&(e={}),hO||td(!1);var t=window.history;FH();var n=e,i=n.getUserConfirmation,s=i===void 0?AO:i,l=n.hashType,a=l===void 0?"slash":l,x=e.basename?pO(mg(e.basename)):"",S=zH[a],P=S.encodePath,L=S.decodePath;function F(){var Oe=L(Um());return x&&(Oe=fO(Oe,x)),Wl(Oe)}var N=WC();function $(Oe){xs(Me,Oe),Me.length=t.length,N.notifyListeners(Me.location,Me.action)}var q=!1,K=null;function te(Oe,oe){return Oe.pathname===oe.pathname&&Oe.search===oe.search&&Oe.hash===oe.hash}function V(){var Oe=Um(),oe=P(Oe);if(Oe!==oe)xw(oe);else{var ge=F(),Mt=Me.location;if(!q&&te(Mt,ge)||K===Cl(ge))return;K=null,X(ge)}}function X(Oe){if(q)q=!1,$();else{var oe="POP";N.confirmTransitionTo(Oe,oe,s,function(ge){ge?$({action:oe,location:Oe}):ee(Oe)})}}function ee(Oe){var oe=Me.location,ge=Se.lastIndexOf(Cl(oe));ge===-1&&(ge=0);var Mt=Se.lastIndexOf(Cl(Oe));Mt===-1&&(Mt=0);var un=ge-Mt;un&&(q=!0,We(un))}var ce=Um(),_e=P(ce);ce!==_e&&xw(_e);var re=F(),Se=[Cl(re)];function Le(Oe){var oe=document.querySelector("base"),ge="";return oe&&oe.getAttribute("href")&&(ge=mO(window.location.href)),ge+"#"+P(x+Cl(Oe))}function Ze(Oe,oe){var ge="PUSH",Mt=Wl(Oe,void 0,void 0,Me.location);N.confirmTransitionTo(Mt,ge,s,function(un){if(un){var wn=Cl(Mt),dn=P(x+wn),Cn=Um()!==dn;if(Cn){K=wn,NH(dn);var $n=Se.lastIndexOf(Cl(Me.location)),Fn=Se.slice(0,$n+1);Fn.push(wn),Se=Fn,$({action:ge,location:Mt})}else $()}})}function ot(Oe,oe){var ge="REPLACE",Mt=Wl(Oe,void 0,void 0,Me.location);N.confirmTransitionTo(Mt,ge,s,function(un){if(un){var wn=Cl(Mt),dn=P(x+wn),Cn=Um()!==dn;Cn&&(K=wn,xw(dn));var $n=Se.indexOf(Cl(Me.location));$n!==-1&&(Se[$n]=wn),$({action:ge,location:Mt})}})}function We(Oe){t.go(Oe)}function ut(){We(-1)}function yt(){We(1)}var Bt=0;function Yt(Oe){Bt+=Oe,Bt===1&&Oe===1?window.addEventListener(s6,V):Bt===0&&window.removeEventListener(s6,V)}var pn=!1;function xn(Oe){Oe===void 0&&(Oe=!1);var oe=N.setPrompt(Oe);return pn||(Yt(1),pn=!0),function(){return pn&&(pn=!1,Yt(-1)),oe()}}function at(Oe){var oe=N.appendListener(Oe);return Yt(1),function(){Yt(-1),oe()}}var Me={length:t.length,action:"POP",location:re,createHref:Le,push:Ze,replace:ot,go:We,goBack:ut,goForward:yt,block:xn,listen:at};return Me}function l6(e,t,n){return Math.min(Math.max(e,t),n)}function $H(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,l=t.initialIndex,a=l===void 0?0:l,x=t.keyLength,S=x===void 0?6:x,P=WC();function L(Le){xs(Se,Le),Se.length=Se.entries.length,P.notifyListeners(Se.location,Se.action)}function F(){return Math.random().toString(36).substr(2,S)}var N=l6(a,0,s.length-1),$=s.map(function(Le){return typeof Le=="string"?Wl(Le,void 0,F()):Wl(Le,void 0,Le.key||F())}),q=Cl;function K(Le,Ze){var ot="PUSH",We=Wl(Le,Ze,F(),Se.location);P.confirmTransitionTo(We,ot,n,function(ut){if(ut){var yt=Se.index,Bt=yt+1,Yt=Se.entries.slice(0);Yt.length>Bt?Yt.splice(Bt,Yt.length-Bt,We):Yt.push(We),L({action:ot,location:We,index:Bt,entries:Yt})}})}function te(Le,Ze){var ot="REPLACE",We=Wl(Le,Ze,F(),Se.location);P.confirmTransitionTo(We,ot,n,function(ut){ut&&(Se.entries[Se.index]=We,L({action:ot,location:We}))})}function V(Le){var Ze=l6(Se.index+Le,0,Se.entries.length-1),ot="POP",We=Se.entries[Ze];P.confirmTransitionTo(We,ot,n,function(ut){ut?L({action:ot,location:We,index:Ze}):L()})}function X(){V(-1)}function ee(){V(1)}function ce(Le){var Ze=Se.index+Le;return Ze>=0&&Ze<Se.entries.length}function _e(Le){return Le===void 0&&(Le=!1),P.setPrompt(Le)}function re(Le){return P.appendListener(Le)}var Se={length:$.length,action:"POP",location:$[N],index:N,entries:$,createHref:q,push:K,replace:te,go:V,goBack:X,goForward:ee,canGo:ce,block:_e,listen:re};return Se}var WA={},jH={get exports(){return WA},set exports(e){WA=e}},VH=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},X_=VH;jH.exports=vO;WA.parse=KC;WA.compile=qH;WA.tokensToFunction=gO;WA.tokensToRegExp=yO;var HH=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function KC(e,t){for(var n=[],i=0,s=0,l="",a=t&&t.delimiter||"/",x;(x=HH.exec(e))!=null;){var S=x[0],P=x[1],L=x.index;if(l+=e.slice(s,L),s=L+S.length,P){l+=P[1];continue}var F=e[s],N=x[2],$=x[3],q=x[4],K=x[5],te=x[6],V=x[7];l&&(n.push(l),l="");var X=N!=null&&F!=null&&F!==N,ee=te==="+"||te==="*",ce=te==="?"||te==="*",_e=x[2]||a,re=q||K;n.push({name:$||i++,prefix:N||"",delimiter:_e,optional:ce,repeat:ee,partial:X,asterisk:!!V,pattern:re?WH(re):V?".*":"[^"+e_(_e)+"]+?"})}return s<e.length&&(l+=e.substr(s)),l&&n.push(l),n}function qH(e,t){return gO(KC(e,t),t)}function GH(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function QH(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function gO(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",XC(t)));return function(s,l){for(var a="",x=s||{},S=l||{},P=S.pretty?GH:encodeURIComponent,L=0;L<e.length;L++){var F=e[L];if(typeof F=="string"){a+=F;continue}var N=x[F.name],$;if(N==null)if(F.optional){F.partial&&(a+=F.prefix);continue}else throw new TypeError('Expected "'+F.name+'" to be defined');if(X_(N)){if(!F.repeat)throw new TypeError('Expected "'+F.name+'" to not repeat, but received `'+JSON.stringify(N)+"`");if(N.length===0){if(F.optional)continue;throw new TypeError('Expected "'+F.name+'" to not be empty')}for(var q=0;q<N.length;q++){if($=P(N[q]),!n[L].test($))throw new TypeError('Expected all "'+F.name+'" to match "'+F.pattern+'", but received `'+JSON.stringify($)+"`");a+=(q===0?F.prefix:F.delimiter)+$}continue}if($=F.asterisk?QH(N):P(N),!n[L].test($))throw new TypeError('Expected "'+F.name+'" to match "'+F.pattern+'", but received "'+$+'"');a+=F.prefix+$}return a}}function e_(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function WH(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function ZC(e,t){return e.keys=t,e}function XC(e){return e&&e.sensitive?"":"i"}function KH(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ZC(e,t)}function ZH(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push(vO(e[s],t,n).source);var l=new RegExp("(?:"+i.join("|")+")",XC(n));return ZC(l,t)}function XH(e,t,n){return yO(KC(e,n),t,n)}function yO(e,t,n){X_(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,s=n.end!==!1,l="",a=0;a<e.length;a++){var x=e[a];if(typeof x=="string")l+=e_(x);else{var S=e_(x.prefix),P="(?:"+x.pattern+")";t.push(x),x.repeat&&(P+="(?:"+S+P+")*"),x.optional?x.partial?P=S+"("+P+")?":P="(?:"+S+"("+P+"))?":P=S+"("+P+")",l+=P}}var L=e_(n.delimiter||"/"),F=l.slice(-L.length)===L;return i||(l=(F?l.slice(0,-L.length):l)+"(?:"+L+"(?=$))?"),s?l+="$":l+=i&&F?"":"(?="+L+"|$)",ZC(new RegExp("^"+l,XC(n)),t)}function vO(e,t,n){return X_(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?KH(e,t):X_(e)?ZH(e,t,n):XH(e,t,n)}var u6={},YH={get exports(){return u6},set exports(e){u6=e}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=typeof Symbol=="function"&&Symbol.for,YC=rs?Symbol.for("react.element"):60103,JC=rs?Symbol.for("react.portal"):60106,cx=rs?Symbol.for("react.fragment"):60107,fx=rs?Symbol.for("react.strict_mode"):60108,px=rs?Symbol.for("react.profiler"):60114,hx=rs?Symbol.for("react.provider"):60109,Ax=rs?Symbol.for("react.context"):60110,e5=rs?Symbol.for("react.async_mode"):60111,dx=rs?Symbol.for("react.concurrent_mode"):60111,mx=rs?Symbol.for("react.forward_ref"):60112,gx=rs?Symbol.for("react.suspense"):60113,JH=rs?Symbol.for("react.suspense_list"):60120,yx=rs?Symbol.for("react.memo"):60115,vx=rs?Symbol.for("react.lazy"):60116,eq=rs?Symbol.for("react.block"):60121,tq=rs?Symbol.for("react.fundamental"):60117,nq=rs?Symbol.for("react.responder"):60118,rq=rs?Symbol.for("react.scope"):60119;function eu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YC:switch(e=e.type,e){case e5:case dx:case cx:case px:case fx:case gx:return e;default:switch(e=e&&e.$$typeof,e){case Ax:case mx:case vx:case yx:case hx:return e;default:return t}}case JC:return t}}}function _O(e){return eu(e)===dx}Di.AsyncMode=e5;Di.ConcurrentMode=dx;Di.ContextConsumer=Ax;Di.ContextProvider=hx;Di.Element=YC;Di.ForwardRef=mx;Di.Fragment=cx;Di.Lazy=vx;Di.Memo=yx;Di.Portal=JC;Di.Profiler=px;Di.StrictMode=fx;Di.Suspense=gx;Di.isAsyncMode=function(e){return _O(e)||eu(e)===e5};Di.isConcurrentMode=_O;Di.isContextConsumer=function(e){return eu(e)===Ax};Di.isContextProvider=function(e){return eu(e)===hx};Di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YC};Di.isForwardRef=function(e){return eu(e)===mx};Di.isFragment=function(e){return eu(e)===cx};Di.isLazy=function(e){return eu(e)===vx};Di.isMemo=function(e){return eu(e)===yx};Di.isPortal=function(e){return eu(e)===JC};Di.isProfiler=function(e){return eu(e)===px};Di.isStrictMode=function(e){return eu(e)===fx};Di.isSuspense=function(e){return eu(e)===gx};Di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cx||e===dx||e===px||e===fx||e===gx||e===JH||typeof e=="object"&&e!==null&&(e.$$typeof===vx||e.$$typeof===yx||e.$$typeof===hx||e.$$typeof===Ax||e.$$typeof===mx||e.$$typeof===tq||e.$$typeof===nq||e.$$typeof===rq||e.$$typeof===eq)};Di.typeOf=eu;(function(e){e.exports=Di})(YH);function nd(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var SS={},iq={get exports(){return SS},set exports(e){SS=e}},Ri={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=typeof Symbol=="function"&&Symbol.for,t5=is?Symbol.for("react.element"):60103,n5=is?Symbol.for("react.portal"):60106,_x=is?Symbol.for("react.fragment"):60107,xx=is?Symbol.for("react.strict_mode"):60108,bx=is?Symbol.for("react.profiler"):60114,wx=is?Symbol.for("react.provider"):60109,Sx=is?Symbol.for("react.context"):60110,r5=is?Symbol.for("react.async_mode"):60111,Cx=is?Symbol.for("react.concurrent_mode"):60111,Ex=is?Symbol.for("react.forward_ref"):60112,kx=is?Symbol.for("react.suspense"):60113,oq=is?Symbol.for("react.suspense_list"):60120,Px=is?Symbol.for("react.memo"):60115,Tx=is?Symbol.for("react.lazy"):60116,aq=is?Symbol.for("react.block"):60121,sq=is?Symbol.for("react.fundamental"):60117,lq=is?Symbol.for("react.responder"):60118,uq=is?Symbol.for("react.scope"):60119;function tu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case t5:switch(e=e.type,e){case r5:case Cx:case _x:case bx:case xx:case kx:return e;default:switch(e=e&&e.$$typeof,e){case Sx:case Ex:case Tx:case Px:case wx:return e;default:return t}}case n5:return t}}}function xO(e){return tu(e)===Cx}Ri.AsyncMode=r5;Ri.ConcurrentMode=Cx;Ri.ContextConsumer=Sx;Ri.ContextProvider=wx;Ri.Element=t5;Ri.ForwardRef=Ex;Ri.Fragment=_x;Ri.Lazy=Tx;Ri.Memo=Px;Ri.Portal=n5;Ri.Profiler=bx;Ri.StrictMode=xx;Ri.Suspense=kx;Ri.isAsyncMode=function(e){return xO(e)||tu(e)===r5};Ri.isConcurrentMode=xO;Ri.isContextConsumer=function(e){return tu(e)===Sx};Ri.isContextProvider=function(e){return tu(e)===wx};Ri.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===t5};Ri.isForwardRef=function(e){return tu(e)===Ex};Ri.isFragment=function(e){return tu(e)===_x};Ri.isLazy=function(e){return tu(e)===Tx};Ri.isMemo=function(e){return tu(e)===Px};Ri.isPortal=function(e){return tu(e)===n5};Ri.isProfiler=function(e){return tu(e)===bx};Ri.isStrictMode=function(e){return tu(e)===xx};Ri.isSuspense=function(e){return tu(e)===kx};Ri.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_x||e===Cx||e===bx||e===xx||e===kx||e===oq||typeof e=="object"&&e!==null&&(e.$$typeof===Tx||e.$$typeof===Px||e.$$typeof===wx||e.$$typeof===Sx||e.$$typeof===Ex||e.$$typeof===sq||e.$$typeof===lq||e.$$typeof===uq||e.$$typeof===aq)};Ri.typeOf=tu;(function(e){e.exports=Ri})(iq);var bO=SS,cq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wO={};wO[bO.ForwardRef]=cq;wO[bO.Memo]=fq;var bw=1073741823,c6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function pq(){var e="__global_unique_id__";return c6[e]=(c6[e]||0)+1}function hq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Aq(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(l){return l(e,s)})}}}function dq(e){return Array.isArray(e)?e[0]:e}function mq(e,t){var n,i,s="__create-react-context-"+pq()+"__",l=function(x){zu(S,x);function S(){for(var L,F=arguments.length,N=new Array(F),$=0;$<F;$++)N[$]=arguments[$];return L=x.call.apply(x,[this].concat(N))||this,L.emitter=Aq(L.props.value),L}var P=S.prototype;return P.getChildContext=function(){var F;return F={},F[s]=this.emitter,F},P.componentWillReceiveProps=function(F){if(this.props.value!==F.value){var N=this.props.value,$=F.value,q;hq(N,$)?q=0:(q=typeof t=="function"?t(N,$):bw,q|=0,q!==0&&this.emitter.set(F.value,q))}},P.render=function(){return this.props.children},S}(qn.Component);l.childContextTypes=(n={},n[s]=ur.object.isRequired,n);var a=function(x){zu(S,x);function S(){for(var L,F=arguments.length,N=new Array(F),$=0;$<F;$++)N[$]=arguments[$];return L=x.call.apply(x,[this].concat(N))||this,L.observedBits=void 0,L.state={value:L.getValue()},L.onUpdate=function(q,K){var te=L.observedBits|0;te&K&&L.setState({value:L.getValue()})},L}var P=S.prototype;return P.componentWillReceiveProps=function(F){var N=F.observedBits;this.observedBits=N??bw},P.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var F=this.props.observedBits;this.observedBits=F??bw},P.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},P.getValue=function(){return this.context[s]?this.context[s].get():e},P.render=function(){return dq(this.props.children)(this.state.value)},S}(qn.Component);return a.contextTypes=(i={},i[s]=ur.object,i),{Provider:l,Consumer:a}}var gq=qn.createContext||mq,SO=function(t){var n=gq();return n.displayName=t,n},yq=SO("Router-History"),L0=SO("Router"),Ix=function(e){zu(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(l){s._pendingLocation=l})),s}var n=t.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(l){s._isMounted&&s.setState({location:l})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return qn.createElement(L0.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},qn.createElement(yq.Provider,{children:this.props.children||null,value:this.props.history}))},t}(qn.Component);qn.Component;qn.Component;var f6={},vq=1e4,p6=0;function _q(e,t){var n=""+t.end+t.strict+t.sensitive,i=f6[n]||(f6[n]={});if(i[e])return i[e];var s=[],l=WA(e,s,t),a={regexp:l,keys:s};return p6<vq&&(i[e]=a,p6++),a}function i5(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,s=n.exact,l=s===void 0?!1:s,a=n.strict,x=a===void 0?!1:a,S=n.sensitive,P=S===void 0?!1:S,L=[].concat(i);return L.reduce(function(F,N){if(!N&&N!=="")return null;if(F)return F;var $=_q(N,{end:l,strict:x,sensitive:P}),q=$.regexp,K=$.keys,te=q.exec(e);if(!te)return null;var V=te[0],X=te.slice(1),ee=e===V;return l&&!ee?null:{path:N,url:N==="/"&&V===""?"/":V,isExact:ee,params:K.reduce(function(ce,_e,re){return ce[_e.name]=X[re],ce},{})}},null)}function xq(e){return qn.Children.count(e)===0}qn.Component;function o5(e){return e.charAt(0)==="/"?e:"/"+e}function bq(e,t){return e?xs({},t,{pathname:o5(e)+t.pathname}):t}function wq(e,t){if(!e)return t;var n=o5(e);return t.pathname.indexOf(n)!==0?t:xs({},t,{pathname:t.pathname.substr(n.length)})}function h6(e){return typeof e=="string"?e:Cl(e)}function ww(e){return function(){td(!1)}}function A6(){}qn.Component;qn.Component;qn.useContext;var CO=function(e){zu(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,i.history=dO(i.props),i}var n=t.prototype;return n.render=function(){return qn.createElement(Ix,{history:this.history,children:this.props.children})},t}(qn.Component);qn.Component;var CS=function(t,n){return typeof t=="function"?t(n):t},ES=function(t,n){return typeof t=="string"?Wl(t,null,null,n):t},a5=function(t){return t},D0=qn.forwardRef;typeof D0>"u"&&(D0=a5);function Sq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Cq=D0(function(e,t){var n=e.innerRef,i=e.navigate,s=e.onClick,l=nd(e,["innerRef","navigate","onClick"]),a=l.target,x=xs({},l,{onClick:function(P){try{s&&s(P)}catch(L){throw P.preventDefault(),L}!P.defaultPrevented&&P.button===0&&(!a||a==="_self")&&!Sq(P)&&(P.preventDefault(),i())}});return a5!==D0?x.ref=t||n:x.ref=n,qn.createElement("a",x)}),Eq=D0(function(e,t){var n=e.component,i=n===void 0?Cq:n,s=e.replace,l=e.to,a=e.innerRef,x=nd(e,["component","replace","to","innerRef"]);return qn.createElement(L0.Consumer,null,function(S){S||td(!1);var P=S.history,L=ES(CS(l,S.location),S.location),F=L?P.createHref(L):"",N=xs({},x,{href:F,navigate:function(){var q=CS(l,S.location),K=Cl(S.location)===Cl(ES(q)),te=s||K?P.replace:P.push;te(q)}});return a5!==D0?N.ref=t||a:N.innerRef=a,qn.createElement(i,N)})}),EO=function(t){return t},Y_=qn.forwardRef;typeof Y_>"u"&&(Y_=EO);function kq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(i){return i}).join(" ")}Y_(function(e,t){var n=e["aria-current"],i=n===void 0?"page":n,s=e.activeClassName,l=s===void 0?"active":s,a=e.activeStyle,x=e.className,S=e.exact,P=e.isActive,L=e.location,F=e.sensitive,N=e.strict,$=e.style,q=e.to,K=e.innerRef,te=nd(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return qn.createElement(L0.Consumer,null,function(V){V||td(!1);var X=L||V.location,ee=ES(CS(q,X),X),ce=ee.pathname,_e=ce&&ce.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),re=_e?i5(X.pathname,{path:_e,exact:S,sensitive:F,strict:N}):null,Se=!!(P?P(re,X):re),Le=typeof x=="function"?x(Se):x,Ze=typeof $=="function"?$(Se):$;Se&&(Le=kq(Le,l),Ze=xs({},Ze,a));var ot=xs({"aria-current":Se&&i||null,className:Le,style:Ze,to:ee},te);return EO!==Y_?ot.ref=t||K:ot.innerRef=K,qn.createElement(Eq,ot)})});var s5=function(){};function kO(e){try{return e.apply(this,[].slice.call(arguments,1))}catch(t){return t=t instanceof Error?t:new Error(t),setTimeout(function(){throw t}),t}}function ty(e){return typeof e=="string"}function J_(e){return typeof e=="object"&&e!==null}function ny(e){return typeof e=="function"}function PO(e){return ny(e)&&"types"in e}function TO(e){return ny(e)&&"type"in e}function Pq(e){return J_(e)&&ty(e.type)&&"payload"in e}function Tq(e,t,n){var i=e.get(t);i===void 0&&e.set(t,i=new Set),i.add(n)}function Iq(e,t,n){var i=e.get(t);i!==void 0&&(i.delete(n),i.size===0&&e.delete(t))}function Sw(e,t){e.includes(t)||e.push(t)}function gp(e,t){return Object.assign(new Error("Reatom: "+e),{data:t})}function l5(e){return{atom:e,cause:"init",ctx:{},state:void 0,tracks:void 0}}function Mq(e,t){var n=t===void 0?{}:t,i=n.patch,s=i===void 0?new Map:i,l=n.getCache,a=l===void 0?function($,q){return q??l5($)}:l,x=n.effects,S=x===void 0?[]:x,P=n.causes,L=P===void 0?[]:P;L=L.concat({actions:e,patch:s});var F=e.map(function($){return $.type}).join(", "),N={actions:e,getCache:a,process:function($,q){var K=s.get($);if(K==null){q=a($,q);var te=(K=$(N,q)).cause,V=K.state,X=K.listeners;s.set($,K),Object.is(V,q.state)?K.cause=q.cause:(X==null?void 0:X.size)>0&&N.schedule(function(ee,ce){return X.forEach(function(_e){return kO(_e,V,ce)})},te)}return K},schedule:function($,q){q===void 0&&(q=F);var K=L.concat([q]);S.push(function(te){return $(function(V){return te(V,K)},K)})}};return N}function d6(e,t){return t===void 0&&(t=u5),t.getState(e)}var Oq=0;function Cy(e,t,n){n===void 0&&(n={});var i=ty(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,a=i.id,x=a===void 0?"atom"+ ++Oq:a,S=i.store,P=S===void 0?u5:S,L=[],F=[],N={},$={};if(!ny(t)||!ty(x))throw gp("Atom arguments");Object.entries(e).forEach(function(te){var V=te[0],X=te[1];if(!ny(X))throw gp("Invalid atom dependencies (type "+typeof X+") at "+V,X);if(PO(X))X.types.forEach(function(_e){return Sw(F,_e)});else{var ee;if(TO(X))$[V]=ee=X.type;else{var ce=function(){return{payload:X.apply(void 0,[].slice.call(arguments)),type:ee,targets:[K]}};ce.type=ee=V+"_"+x,ce.dispatch=function(){return P.dispatch(ce.apply(void 0,[].slice.call(arguments)))},N[V]=ce,V[0]!="_"&&(K[V]=ce)}Sw(L,ee),Sw(F,ee)}});var q=l.reduce(function(te,V){return V(te)},function(te,V,X,ee,ce){var _e=function(re){return ee[re].apply(ee,[].slice.call(arguments,1))};return function(re,Se){var Le,Ze=re.actions,ot=re.process,We=re.schedule,ut=Se.atom,yt=Se.ctx,Bt=Se.state,Yt=Se.listeners,pn=[],xn=s5,at=function(oe,ge){xn();var Mt=ot(oe,ge);return Le==null&&pn.every(function(un){return un.atom.id!=oe.id})&&pn.push(Mt),Mt},Me={create:_e,get:function(oe){return at(V[oe]).state},getUnlistedState:function(oe){return xn(),ot(oe).state},onAction:function(oe,ge){var Mt,un;if(xn(),Le!=null)throw gp("Can not react to action inside another reaction");var wn=(Mt=ce[oe])!=null?Mt:(un=ee[oe])==null?void 0:un.type;if(wn==null)throw gp("Unknown action",{name:oe});Ze.forEach(function(dn){wn==dn.type&&(Le=oe,oe!=wn&&(Le+=" ("+wn+")"),Le+=" handler",ge(dn.payload),Le=void 0)})},onChange:function(oe,ge){var Mt;if(xn(),Le!=null)throw gp("Can not react to atom changes inside another reaction");var un=V[oe],wn=(Mt=Se.tracks)==null?void 0:Mt.find(function(Cn){return Cn.atom.id==un.id}),dn=at(un,wn);wn!=null&&Object.is(wn.state,dn.state)||(Le=oe,oe!=ut.id&&(Le+=" ("+ut.id+")"),Le+=" handler",ge(dn.state,wn==null?void 0:wn.state),Le=void 0)},onInit:function(oe){Se.tracks==null&&oe()},schedule:function(oe){xn(),We(function(ge,Mt){return oe(ge,yt,Mt)},Le)}},Oe="init";return(Se.tracks==null||Ze.some(function(oe){var ge=oe.type;return X.includes(ge)&&(Oe=ge+" action",!0)})||Se.tracks.some(function(oe){return!Object.is(oe.state,at(oe.atom,oe).state)&&(Oe=oe.atom.id+" atom",!0)}))&&(pn.length=0,Bt=te(Me,Bt)),xn=function(){throw gp("Outdated track call")},{atom:ut,cause:Oe,ctx:yt,state:Bt,tracks:pn,listeners:Yt}}}(t,e,L,N,$));function K(te,V){return V===void 0&&(V=l5(K)),q(te,V)}return K.id=x,K.getState=function(){return P.getState(K)},K.subscribe=function(te){return P.subscribe(K,te)},K.types=F,K}var Lq=Symbol();function IO(e){var t=e===void 0?{}:e,n=t.callSafety,i=n===void 0?kO:n,s=t.createTemplateCache,l=s===void 0?l5:s,a=t.onError,x=t.onPatch,S=t.now,P=S===void 0?Date.now.bind(Date):S,L=new Map,F=new WeakMap,N=[],$=[];function q(V){if(!PO(V))throw gp("passed thing is not an atom");(function(X,ee){var ce,_e=ee(X);if(_e.tracks===void 0)return!1;if(((ce=_e.listeners)==null?void 0:ce.size)>0)return!0;for(var re=[_e.tracks];re.length>0;)for(var Se=re.pop(),Le=0;Le<Se.length;Le++){var Ze=Se[Le];if(Ze!=ee(Ze.atom))return!1;re.push(Ze.tracks)}return!0})(V,te.getCache)||te.dispatch({type:"invalidate "+V.id+" [~"+Math.random()+"]",payload:null,targets:[V]})}a&&N.push(a),x&&$.push(x);var K=function(V,X){var ee,ce;return(ee=(ce=F.get(V))!=null?ce:X)!=null?ee:l(V)},te={dispatch:function V(X,ee){var ce=P(),_e=Array.isArray(X)?X:[X];if(_e.length==0||!_e.every(Pq))throw gp("dispatch arguments");var re=new Map,Se=[],Le=Mq(_e,{patch:re,getCache:K,effects:Se,causes:ee}),Ze=function(){return{actions:_e,patch:re,causes:ee??[],start:ce,end:P()}};try{_e.forEach(function(ut){var yt,Bt=ut.type,Yt=ut.targets;Yt==null||Yt.forEach(function(pn){return Le.process(pn)}),(yt=L.get(Bt))==null||yt.forEach(function(pn){return Le.process(pn)})}),re.forEach(function(ut,yt){return F.set(yt,ut)})}catch(ut){var ot=Ze();throw N.forEach(function(yt){return yt(ut,ot)}),ut}var We=Ze();$.forEach(function(ut){return ut(We)}),Se.forEach(function(ut){return i(ut,V)})},getCache:K,getState:function(V){return q(V),K(V).state},onError:function(V){return N.push(V),function(){return N=N.filter(function(X){return X!==V})}},onPatch:function(V){return $.push(V),function(){return $=$.filter(function(X){return X!==V})}},subscribe:function(V,X){var ee;if(!ny(X))throw gp("subscribe callback is not a function");q(V);var ce=K(V),_e=(ee=ce.listeners)!=null?ee:ce.listeners=new Set;_e.size==0&&V.types.forEach(function(Le){return Tq(L,Le,V)});var re=Lq,Se=function(Le,Ze){var ot=F.get(V);Object.is(re,ot.state)||X(re=Le,Ze)};return _e.add(Se),i(X,ce.state,[]),function(){_e.delete(Se),_e.size==0&&V.types.forEach(function(Le){return Iq(L,Le,V)})}}};return te}var u5=IO(),MO=qn.createContext(u5),Dq=function(e){return e()};function OO(e,t){return function(){var n=t.apply(void 0,[].slice.call(arguments));n&&Dq(function(){e.dispatch(n)})}}function kS(e,t){t===void 0&&(t=[]);var n=qn.useContext(MO);return qn.useCallback(OO(n,e),t.concat(n))}function m6(e,t,n){var i=e;typeof t=="function"?(n!=null||(n=[]),e=qn.useMemo(function(){return Cy({origin:i},function(L){return t((0,L.get)("origin"))})},n.concat(i))):n=t??[];var s=qn.useContext(MO);n=n.concat([e,s]);var l=qn.useState(function(){return d6(e,s)}),a=l[0],x=l[1],S=qn.useRef(a);S.current=a=d6(e,s);var P=qn.useMemo(function(){return Object.entries(i).reduce(function(L,F){var N=F[0],$=F[1];return TO($)&&(L[N]=OO(s,$)),L},{})},n);return qn.useEffect(function(){return s.subscribe(e,function(L){return Object.is(L,S.current)||x(S.current=L)})},n),qn.useDebugValue(a),[a,P]}const g6=["http","https","mailto","tel"];function Rq(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let s=-1;for(;++s<g6.length;){const l=g6[s];if(i===l.length&&t.slice(0,l.length).toLowerCase()===l)return t}return s=t.indexOf("?"),s!==-1&&i>s||(s=t.indexOf("#"),s!==-1&&i>s)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Fq=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const LO=Fq;function gg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?y6(e.position):"start"in e||"end"in e?y6(e):"line"in e||"column"in e?PS(e):""}function PS(e){return v6(e&&e.line)+":"+v6(e&&e.column)}function y6(e){return PS(e&&e.start)+"-"+PS(e&&e.end)}function v6(e){return e&&typeof e=="number"?e:1}class $u extends Error{constructor(t,n,i){const s=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const a=i.indexOf(":");a===-1?s[1]=i:(s[0]=i.slice(0,a),s[1]=i.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=gg(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.source=s[0],this.ruleId=s[1],this.position=l,this.actual,this.expected,this.file,this.url,this.note}}$u.prototype.file="";$u.prototype.name="";$u.prototype.reason="";$u.prototype.message="";$u.prototype.stack="";$u.prototype.fatal=null;$u.prototype.column=null;$u.prototype.line=null;$u.prototype.source=null;$u.prototype.ruleId=null;$u.prototype.position=null;const mf={basename:Bq,dirname:zq,extname:Nq,join:Uq,sep:"/"};function Bq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ey(e);let n=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,x=t.length-1;for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else a<0&&(l=!0,a=s+1),x>-1&&(e.charCodeAt(s)===t.charCodeAt(x--)?x<0&&(i=s):(x=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function zq(e){if(Ey(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.charCodeAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Nq(e){Ey(e);let t=e.length,n=-1,i=0,s=-1,l=0,a;for(;t--;){const x=e.charCodeAt(t);if(x===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),x===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function Uq(...e){let t=-1,n;for(;++t<e.length;)Ey(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$q(n)}function $q(e){Ey(e);const t=e.charCodeAt(0)===47;let n=jq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function jq(e,t){let n="",i=0,s=-1,l=0,a=-1,x,S;for(;++a<=e.length;){if(a<e.length)x=e.charCodeAt(a);else{if(x===47)break;x=47}if(x===47){if(!(s===a-1||l===1))if(s!==a-1&&l===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(S=n.lastIndexOf("/"),S!==n.length-1){S<0?(n="",i=0):(n=n.slice(0,S),i=n.length-1-n.lastIndexOf("/")),s=a,l=0;continue}}else if(n.length>0){n="",i=0,s=a,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),i=a-s-1;s=a,l=0}else x===46&&l>-1?l++:l=-1}return n}function Ey(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vq={cwd:Hq};function Hq(){return"/"}function TS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function qq(e){if(typeof e=="string")e=new URL(e);else if(!TS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Gq(e)}function Gq(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const i=t.charCodeAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Cw=["history","path","basename","stem","extname","dirname"];class DO{constructor(t){let n;t?typeof t=="string"||LO(t)?n={value:t}:TS(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=Vq.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<Cw.length;){const l=Cw[i];l in n&&n[l]!==void 0&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Cw.includes(s)||(this[s]=n[s])}get path(){return this.history[this.history.length-1]}set path(t){TS(t)&&(t=qq(t)),kw(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?mf.dirname(this.path):void 0}set dirname(t){_6(this.basename,"dirname"),this.path=mf.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?mf.basename(this.path):void 0}set basename(t){kw(t,"basename"),Ew(t,"basename"),this.path=mf.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?mf.extname(this.path):void 0}set extname(t){if(Ew(t,"extname"),_6(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mf.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?mf.basename(this.path,this.extname):void 0}set stem(t){kw(t,"stem"),Ew(t,"stem"),this.path=mf.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,i){const s=new $u(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=null,s}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}}function Ew(e,t){if(e&&e.includes(mf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+mf.sep+"`")}function kw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _6(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function x6(e){if(e)throw e}var t_=Object.prototype.hasOwnProperty,RO=Object.prototype.toString,b6=Object.defineProperty,w6=Object.getOwnPropertyDescriptor,S6=function(t){return typeof Array.isArray=="function"?Array.isArray(t):RO.call(t)==="[object Array]"},C6=function(t){if(!t||RO.call(t)!=="[object Object]")return!1;var n=t_.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&t_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var s;for(s in t);return typeof s>"u"||t_.call(t,s)},E6=function(t,n){b6&&n.name==="__proto__"?b6(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},k6=function(t,n){if(n==="__proto__")if(t_.call(t,n)){if(w6)return w6(t,n).value}else return;return t[n]},P6=function e(){var t,n,i,s,l,a,x=arguments[0],S=1,P=arguments.length,L=!1;for(typeof x=="boolean"&&(L=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<P;++S)if(t=arguments[S],t!=null)for(n in t)i=k6(x,n),s=k6(t,n),x!==s&&(L&&s&&(C6(s)||(l=S6(s)))?(l?(l=!1,a=i&&S6(i)?i:[]):a=i&&C6(i)?i:{},E6(x,{name:n,newValue:e(L,a,s)})):typeof s<"u"&&E6(x,{name:n,newValue:s}));return x};function IS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qq(){const e=[],t={run:n,use:i};return t;function n(...s){let l=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);x(null,...s);function x(S,...P){const L=e[++l];let F=-1;if(S){a(S);return}for(;++F<s.length;)(P[F]===null||P[F]===void 0)&&(P[F]=s[F]);s=P,L?Wq(L,x)(...P):a(null,...P)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Wq(e,t){let n;return i;function i(...a){const x=e.length>a.length;let S;x&&a.push(s);try{S=e.apply(this,a)}catch(P){const L=P;if(x&&n)throw L;return s(L)}x||(S instanceof Promise?S.then(l,s):S instanceof Error?s(S):l(S))}function s(a,...x){n||(n=!0,t(a,...x))}function l(a){s(null,a)}}const Kq=BO().freeze(),FO={}.hasOwnProperty;function BO(){const e=Qq(),t=[];let n={},i,s=-1;return l.data=a,l.Parser=void 0,l.Compiler=void 0,l.freeze=x,l.attachers=t,l.use=S,l.parse=P,l.stringify=L,l.run=F,l.runSync=N,l.process=$,l.processSync=q,l;function l(){const K=BO();let te=-1;for(;++te<t.length;)K.use(...t[te]);return K.data(P6(!0,{},n)),K}function a(K,te){return typeof K=="string"?arguments.length===2?(Iw("data",i),n[K]=te,l):FO.call(n,K)&&n[K]||null:K?(Iw("data",i),n=K,l):n}function x(){if(i)return l;for(;++s<t.length;){const[K,...te]=t[s];if(te[0]===!1)continue;te[0]===!0&&(te[0]=void 0);const V=K.call(l,...te);typeof V=="function"&&e.use(V)}return i=!0,s=Number.POSITIVE_INFINITY,l}function S(K,...te){let V;if(Iw("use",i),K!=null)if(typeof K=="function")_e(K,...te);else if(typeof K=="object")Array.isArray(K)?ce(K):ee(K);else throw new TypeError("Expected usable value, not `"+K+"`");return V&&(n.settings=Object.assign(n.settings||{},V)),l;function X(re){if(typeof re=="function")_e(re);else if(typeof re=="object")if(Array.isArray(re)){const[Se,...Le]=re;_e(Se,...Le)}else ee(re);else throw new TypeError("Expected usable value, not `"+re+"`")}function ee(re){ce(re.plugins),re.settings&&(V=Object.assign(V||{},re.settings))}function ce(re){let Se=-1;if(re!=null)if(Array.isArray(re))for(;++Se<re.length;){const Le=re[Se];X(Le)}else throw new TypeError("Expected a list of plugins, not `"+re+"`")}function _e(re,Se){let Le=-1,Ze;for(;++Le<t.length;)if(t[Le][0]===re){Ze=t[Le];break}Ze?(IS(Ze[1])&&IS(Se)&&(Se=P6(!0,Ze[1],Se)),Ze[1]=Se):t.push([...arguments])}}function P(K){l.freeze();const te=$m(K),V=l.Parser;return Pw("parse",V),T6(V,"parse")?new V(String(te),te).parse():V(String(te),te)}function L(K,te){l.freeze();const V=$m(te),X=l.Compiler;return Tw("stringify",X),I6(K),T6(X,"compile")?new X(K,V).compile():X(K,V)}function F(K,te,V){if(I6(K),l.freeze(),!V&&typeof te=="function"&&(V=te,te=void 0),!V)return new Promise(X);X(null,V);function X(ee,ce){e.run(K,$m(te),_e);function _e(re,Se,Le){Se=Se||K,re?ce(re):ee?ee(Se):V(null,Se,Le)}}}function N(K,te){let V,X;return l.run(K,te,ee),M6("runSync","run",X),V;function ee(ce,_e){x6(ce),V=_e,X=!0}}function $(K,te){if(l.freeze(),Pw("process",l.Parser),Tw("process",l.Compiler),!te)return new Promise(V);V(null,te);function V(X,ee){const ce=$m(K);l.run(l.parse(ce),ce,(re,Se,Le)=>{if(re||!Se||!Le)_e(re);else{const Ze=l.stringify(Se,Le);Ze==null||(Yq(Ze)?Le.value=Ze:Le.result=Ze),_e(re,Le)}});function _e(re,Se){re||!Se?ee(re):X?X(Se):te(null,Se)}}}function q(K){let te;l.freeze(),Pw("processSync",l.Parser),Tw("processSync",l.Compiler);const V=$m(K);return l.process(V,X),M6("processSync","process",te),V;function X(ee){te=!0,x6(ee)}}}function T6(e,t){return typeof e=="function"&&e.prototype&&(Zq(e.prototype)||t in e.prototype)}function Zq(e){let t;for(t in e)if(FO.call(e,t))return!0;return!1}function Pw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Tw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Iw(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function I6(e){if(!IS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function M6(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $m(e){return Xq(e)?e:new DO(e)}function Xq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Yq(e){return typeof e=="string"||LO(e)}function Jq(e,t){var{includeImageAlt:n=!0}=t||{};return zO(e,n)}function zO(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&O6(e.children,t)||Array.isArray(e)&&O6(e,t))||""}function O6(e,t){for(var n=[],i=-1;++i<e.length;)n[i]=zO(e[i],t);return n.join("")}function Sf(e,t,n,i){const s=e.length;let l=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),[].splice.apply(e,a);else for(n&&[].splice.apply(e,[t,n]);l<i.length;)a=i.slice(l,l+1e4),a.unshift(t,0),[].splice.apply(e,a),l+=1e4,t+=1e4}function Tu(e,t){return e.length>0?(Sf(e,e.length,0,t),e):t}const L6={}.hasOwnProperty;function eG(e){const t={};let n=-1;for(;++n<e.length;)tG(t,e[n]);return t}function tG(e,t){let n;for(n in t){const s=(L6.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let a;for(a in l){L6.call(s,a)||(s[a]=[]);const x=l[a];nG(s[a],Array.isArray(x)?x:x?[x]:[])}}}function nG(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Sf(e,0,0,i)}const rG=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,yf=Qh(/[A-Za-z]/),MS=Qh(/\d/),iG=Qh(/[\dA-Fa-f]/),Kl=Qh(/[\dA-Za-z]/),oG=Qh(/[!-/:-@[-`{-~]/),D6=Qh(/[#-'*+\--9=?A-Z^-~]/);function OS(e){return e!==null&&(e<32||e===127)}function Lu(e){return e!==null&&(e<0||e===32)}function yr(e){return e!==null&&e<-2}function Ma(e){return e===-2||e===-1||e===32}const aG=Qh(/\s/),sG=Qh(rG);function Qh(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function to(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(S){return Ma(S)?(e.enter(n),x(S)):t(S)}function x(S){return Ma(S)&&l++<s?(e.consume(S),x):(e.exit(n),t(S))}}const lG={tokenize:uG};function uG(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(x){if(x===null){e.consume(x);return}return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),to(e,t,"linePrefix")}function s(x){return e.enter("paragraph"),l(x)}function l(x){const S=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=S),n=S,a(x)}function a(x){if(x===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(x);return}return yr(x)?(e.consume(x),e.exit("chunkText"),l):(e.consume(x),a)}}const cG={tokenize:fG},R6={tokenize:pG};function fG(e){const t=this,n=[];let i=0,s,l,a;return x;function x(ee){if(i<n.length){const ce=n[i];return t.containerState=ce[1],e.attempt(ce[0].continuation,S,P)(ee)}return P(ee)}function S(ee){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&X();const ce=t.events.length;let _e=ce,re;for(;_e--;)if(t.events[_e][0]==="exit"&&t.events[_e][1].type==="chunkFlow"){re=t.events[_e][1].end;break}V(i);let Se=ce;for(;Se<t.events.length;)t.events[Se][1].end=Object.assign({},re),Se++;return Sf(t.events,_e+1,0,t.events.slice(ce)),t.events.length=Se,P(ee)}return x(ee)}function P(ee){if(i===n.length){if(!s)return N(ee);if(s.currentConstruct&&s.currentConstruct.concrete)return q(ee);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(R6,L,F)(ee)}function L(ee){return s&&X(),V(i),N(ee)}function F(ee){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,q(ee)}function N(ee){return t.containerState={},e.attempt(R6,$,q)(ee)}function $(ee){return i++,n.push([t.currentConstruct,t.containerState]),N(ee)}function q(ee){if(ee===null){s&&X(),V(0),e.consume(ee);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:s}),K(ee)}function K(ee){if(ee===null){te(e.exit("chunkFlow"),!0),V(0),e.consume(ee);return}return yr(ee)?(e.consume(ee),te(e.exit("chunkFlow")),i=0,t.interrupt=void 0,x):(e.consume(ee),K)}function te(ee,ce){const _e=t.sliceStream(ee);if(ce&&_e.push(null),ee.previous=l,l&&(l.next=ee),l=ee,s.defineSkip(ee.start),s.write(_e),t.parser.lazy[ee.start.line]){let re=s.events.length;for(;re--;)if(s.events[re][1].start.offset<a&&(!s.events[re][1].end||s.events[re][1].end.offset>a))return;const Se=t.events.length;let Le=Se,Ze,ot;for(;Le--;)if(t.events[Le][0]==="exit"&&t.events[Le][1].type==="chunkFlow"){if(Ze){ot=t.events[Le][1].end;break}Ze=!0}for(V(i),re=Se;re<t.events.length;)t.events[re][1].end=Object.assign({},ot),re++;Sf(t.events,Le+1,0,t.events.slice(Se)),t.events.length=re}}function V(ee){let ce=n.length;for(;ce-- >ee;){const _e=n[ce];t.containerState=_e[1],_e[0].exit.call(t,e)}n.length=ee}function X(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function pG(e,t,n){return to(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function F6(e){if(e===null||Lu(e)||aG(e))return 1;if(sG(e))return 2}function c5(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const LS={name:"attention",tokenize:AG,resolveAll:hG};function hG(e,t){let n=-1,i,s,l,a,x,S,P,L;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;S=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const F=Object.assign({},e[i][1].end),N=Object.assign({},e[n][1].start);B6(F,-S),B6(N,S),a={type:S>1?"strongSequence":"emphasisSequence",start:F,end:Object.assign({},e[i][1].end)},x={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:N},l={type:S>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s={type:S>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},x.end)},e[i][1].end=Object.assign({},a.start),e[n][1].start=Object.assign({},x.end),P=[],e[i][1].end.offset-e[i][1].start.offset&&(P=Tu(P,[["enter",e[i][1],t],["exit",e[i][1],t]])),P=Tu(P,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",l,t]]),P=Tu(P,c5(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),P=Tu(P,[["exit",l,t],["enter",x,t],["exit",x,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(L=2,P=Tu(P,[["enter",e[n][1],t],["exit",e[n][1],t]])):L=0,Sf(e,i-1,n-i+3,P),n=i+P.length-L-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function AG(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=F6(i);let l;return a;function a(S){return e.enter("attentionSequence"),l=S,x(S)}function x(S){if(S===l)return e.consume(S),x;const P=e.exit("attentionSequence"),L=F6(S),F=!L||L===2&&s||n.includes(S),N=!s||s===2&&L||n.includes(i);return P._open=!!(l===42?F:F&&(s||!N)),P._close=!!(l===42?N:N&&(L||!F)),t(S)}}function B6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dG={name:"autolink",tokenize:mG};function mG(e,t,n){let i=1;return s;function s(q){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(q){return yf(q)?(e.consume(q),a):D6(q)?P(q):n(q)}function a(q){return q===43||q===45||q===46||Kl(q)?x(q):P(q)}function x(q){return q===58?(e.consume(q),S):(q===43||q===45||q===46||Kl(q))&&i++<32?(e.consume(q),x):P(q)}function S(q){return q===62?(e.exit("autolinkProtocol"),$(q)):q===null||q===32||q===60||OS(q)?n(q):(e.consume(q),S)}function P(q){return q===64?(e.consume(q),i=0,L):D6(q)?(e.consume(q),P):n(q)}function L(q){return Kl(q)?F(q):n(q)}function F(q){return q===46?(e.consume(q),i=0,L):q===62?(e.exit("autolinkProtocol").type="autolinkEmail",$(q)):N(q)}function N(q){return(q===45||Kl(q))&&i++<63?(e.consume(q),q===45?N:F):n(q)}function $(q){return e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.exit("autolink"),t}}const Mx={tokenize:gG,partial:!0};function gG(e,t,n){return to(e,i,"linePrefix");function i(s){return s===null||yr(s)?t(s):n(s)}}const NO={name:"blockQuote",tokenize:yG,continuation:{tokenize:vG},exit:_G};function yG(e,t,n){const i=this;return s;function s(a){if(a===62){const x=i.containerState;return x.open||(e.enter("blockQuote",{_container:!0}),x.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return n(a)}function l(a){return Ma(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function vG(e,t,n){return to(e,e.attempt(NO,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _G(e){e.exit("blockQuote")}const UO={name:"characterEscape",tokenize:xG};function xG(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return oG(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const z6=document.createElement("i");function f5(e){const t="&"+e+";";z6.innerHTML=t;const n=z6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const $O={name:"characterReference",tokenize:bG};function bG(e,t,n){const i=this;let s=0,l,a;return x;function x(F){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(F),e.exit("characterReferenceMarker"),S}function S(F){return F===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(F),e.exit("characterReferenceMarkerNumeric"),P):(e.enter("characterReferenceValue"),l=31,a=Kl,L(F))}function P(F){return F===88||F===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(F),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=iG,L):(e.enter("characterReferenceValue"),l=7,a=MS,L(F))}function L(F){let N;return F===59&&s?(N=e.exit("characterReferenceValue"),a===Kl&&!f5(i.sliceSerialize(N))?n(F):(e.enter("characterReferenceMarker"),e.consume(F),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):a(F)&&s++<l?(e.consume(F),L):n(F)}}const N6={name:"codeFenced",tokenize:wG,concrete:!0};function wG(e,t,n){const i=this,s={tokenize:_e,partial:!0},l={tokenize:ce,partial:!0},a=this.events[this.events.length-1],x=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let S=0,P;return L;function L(re){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),P=re,F(re)}function F(re){return re===P?(e.consume(re),S++,F):(e.exit("codeFencedFenceSequence"),S<3?n(re):to(e,N,"whitespace")(re))}function N(re){return re===null||yr(re)?te(re):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),$(re))}function $(re){return re===null||Lu(re)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),to(e,q,"whitespace")(re)):re===96&&re===P?n(re):(e.consume(re),$)}function q(re){return re===null||yr(re)?te(re):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),K(re))}function K(re){return re===null||yr(re)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),te(re)):re===96&&re===P?n(re):(e.consume(re),K)}function te(re){return e.exit("codeFencedFence"),i.interrupt?t(re):V(re)}function V(re){return re===null?ee(re):yr(re)?e.attempt(l,e.attempt(s,ee,x?to(e,V,"linePrefix",x+1):V),ee)(re):(e.enter("codeFlowValue"),X(re))}function X(re){return re===null||yr(re)?(e.exit("codeFlowValue"),V(re)):(e.consume(re),X)}function ee(re){return e.exit("codeFenced"),t(re)}function ce(re,Se,Le){const Ze=this;return ot;function ot(ut){return re.enter("lineEnding"),re.consume(ut),re.exit("lineEnding"),We}function We(ut){return Ze.parser.lazy[Ze.now().line]?Le(ut):Se(ut)}}function _e(re,Se,Le){let Ze=0;return to(re,ot,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function ot(yt){return re.enter("codeFencedFence"),re.enter("codeFencedFenceSequence"),We(yt)}function We(yt){return yt===P?(re.consume(yt),Ze++,We):Ze<S?Le(yt):(re.exit("codeFencedFenceSequence"),to(re,ut,"whitespace")(yt))}function ut(yt){return yt===null||yr(yt)?(re.exit("codeFencedFence"),Se(yt)):Le(yt)}}}const Mw={name:"codeIndented",tokenize:CG},SG={tokenize:EG,partial:!0};function CG(e,t,n){const i=this;return s;function s(P){return e.enter("codeIndented"),to(e,l,"linePrefix",4+1)(P)}function l(P){const L=i.events[i.events.length-1];return L&&L[1].type==="linePrefix"&&L[2].sliceSerialize(L[1],!0).length>=4?a(P):n(P)}function a(P){return P===null?S(P):yr(P)?e.attempt(SG,a,S)(P):(e.enter("codeFlowValue"),x(P))}function x(P){return P===null||yr(P)?(e.exit("codeFlowValue"),a(P)):(e.consume(P),x)}function S(P){return e.exit("codeIndented"),t(P)}}function EG(e,t,n){const i=this;return s;function s(a){return i.parser.lazy[i.now().line]?n(a):yr(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):to(e,l,"linePrefix",4+1)(a)}function l(a){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):yr(a)?s(a):n(a)}}const kG={name:"codeText",tokenize:IG,resolve:PG,previous:TG};function PG(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function TG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IG(e,t,n){let i=0,s,l;return a;function a(F){return e.enter("codeText"),e.enter("codeTextSequence"),x(F)}function x(F){return F===96?(e.consume(F),i++,x):(e.exit("codeTextSequence"),S(F))}function S(F){return F===null?n(F):F===96?(l=e.enter("codeTextSequence"),s=0,L(F)):F===32?(e.enter("space"),e.consume(F),e.exit("space"),S):yr(F)?(e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),S):(e.enter("codeTextData"),P(F))}function P(F){return F===null||F===32||F===96||yr(F)?(e.exit("codeTextData"),S(F)):(e.consume(F),P)}function L(F){return F===96?(e.consume(F),s++,L):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(F)):(l.type="codeTextData",P(F))}}function jO(e){const t={};let n=-1,i,s,l,a,x,S,P;for(;++n<e.length;){for(;n in t;)n=t[n];if(i=e[n],n&&i[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(S=i[1]._tokenizer.events,l=0,l<S.length&&S[l][1].type==="lineEndingBlank"&&(l+=2),l<S.length&&S[l][1].type==="content"))for(;++l<S.length&&S[l][1].type!=="content";)S[l][1].type==="chunkText"&&(S[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,MG(e,n)),n=t[n],P=!0);else if(i[1]._container){for(l=n,s=void 0;l--&&(a=e[l],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(s&&(e[s][1].type="lineEndingBlank"),a[1].type="lineEnding",s=l);s&&(i[1].end=Object.assign({},e[s][1].start),x=e.slice(s,n),x.unshift(i),Sf(e,s,n-s+1,x))}}return!P}function MG(e,t){const n=e[t][1],i=e[t][2];let s=t-1;const l=[],a=n._tokenizer||i.parser[n.contentType](n.start),x=a.events,S=[],P={};let L,F,N=-1,$=n,q=0,K=0;const te=[K];for(;$;){for(;e[++s][1]!==$;);l.push(s),$._tokenizer||(L=i.sliceStream($),$.next||L.push(null),F&&a.defineSkip($.start),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(L),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),F=$,$=$.next}for($=n;++N<x.length;)x[N][0]==="exit"&&x[N-1][0]==="enter"&&x[N][1].type===x[N-1][1].type&&x[N][1].start.line!==x[N][1].end.line&&(K=N+1,te.push(K),$._tokenizer=void 0,$.previous=void 0,$=$.next);for(a.events=[],$?($._tokenizer=void 0,$.previous=void 0):te.pop(),N=te.length;N--;){const V=x.slice(te[N],te[N+1]),X=l.pop();S.unshift([X,X+V.length-1]),Sf(e,X,2,V)}for(N=-1;++N<S.length;)P[q+S[N][0]]=q+S[N][1],q+=S[N][1]-S[N][0]-1;return P}const OG={tokenize:RG,resolve:DG},LG={tokenize:FG,partial:!0};function DG(e){return jO(e),e}function RG(e,t){let n;return i;function i(x){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(x)}function s(x){return x===null?l(x):yr(x)?e.check(LG,a,l)(x):(e.consume(x),s)}function l(x){return e.exit("chunkContent"),e.exit("content"),t(x)}function a(x){return e.consume(x),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function FG(e,t,n){const i=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),to(e,l,"linePrefix")}function l(a){if(a===null||yr(a))return n(a);const x=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function VO(e,t,n,i,s,l,a,x,S){const P=S||Number.POSITIVE_INFINITY;let L=0;return F;function F(V){return V===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(V),e.exit(l),N):V===null||V===41||OS(V)?n(V):(e.enter(i),e.enter(a),e.enter(x),e.enter("chunkString",{contentType:"string"}),K(V))}function N(V){return V===62?(e.enter(l),e.consume(V),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(x),e.enter("chunkString",{contentType:"string"}),$(V))}function $(V){return V===62?(e.exit("chunkString"),e.exit(x),N(V)):V===null||V===60||yr(V)?n(V):(e.consume(V),V===92?q:$)}function q(V){return V===60||V===62||V===92?(e.consume(V),$):$(V)}function K(V){return V===40?++L>P?n(V):(e.consume(V),K):V===41?L--?(e.consume(V),K):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):V===null||Lu(V)?L?n(V):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):OS(V)?n(V):(e.consume(V),V===92?te:K)}function te(V){return V===40||V===41||V===92?(e.consume(V),K):K(V)}}function HO(e,t,n,i,s,l){const a=this;let x=0,S;return P;function P($){return e.enter(i),e.enter(s),e.consume($),e.exit(s),e.enter(l),L}function L($){return $===null||$===91||$===93&&!S||$===94&&!x&&"_hiddenFootnoteSupport"in a.parser.constructs||x>999?n($):$===93?(e.exit(l),e.enter(s),e.consume($),e.exit(s),e.exit(i),t):yr($)?(e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),L):(e.enter("chunkString",{contentType:"string"}),F($))}function F($){return $===null||$===91||$===93||yr($)||x++>999?(e.exit("chunkString"),L($)):(e.consume($),S=S||!Ma($),$===92?N:F)}function N($){return $===91||$===92||$===93?(e.consume($),x++,F):F($)}}function qO(e,t,n,i,s,l){let a;return x;function x(N){return e.enter(i),e.enter(s),e.consume(N),e.exit(s),a=N===40?41:N,S}function S(N){return N===a?(e.enter(s),e.consume(N),e.exit(s),e.exit(i),t):(e.enter(l),P(N))}function P(N){return N===a?(e.exit(l),S(a)):N===null?n(N):yr(N)?(e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),to(e,P,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),L(N))}function L(N){return N===a||N===null||yr(N)?(e.exit("chunkString"),P(N)):(e.consume(N),N===92?F:L)}function F(N){return N===a||N===92?(e.consume(N),L):L(N)}}function yg(e,t){let n;return i;function i(s){return yr(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Ma(s)?to(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}function w0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const BG={name:"definition",tokenize:NG},zG={tokenize:UG,partial:!0};function NG(e,t,n){const i=this;let s;return l;function l(S){return e.enter("definition"),HO.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function a(S){return s=w0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),yg(e,VO(e,e.attempt(zG,to(e,x,"whitespace"),to(e,x,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(S)}function x(S){return S===null||yr(S)?(e.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),t(S)):n(S)}}function UG(e,t,n){return i;function i(a){return Lu(a)?yg(e,s)(a):n(a)}function s(a){return a===34||a===39||a===40?qO(e,to(e,l,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):n(a)}function l(a){return a===null||yr(a)?t(a):n(a)}}const $G={name:"hardBreakEscape",tokenize:jG};function jG(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(l),s}function s(l){return yr(l)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(l)):n(l)}}const VG={name:"headingAtx",tokenize:qG,resolve:HG};function HG(e,t){let n=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Sf(e,i,n-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function qG(e,t,n){const i=this;let s=0;return l;function l(L){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),a(L)}function a(L){return L===35&&s++<6?(e.consume(L),a):L===null||Lu(L)?(e.exit("atxHeadingSequence"),i.interrupt?t(L):x(L)):n(L)}function x(L){return L===35?(e.enter("atxHeadingSequence"),S(L)):L===null||yr(L)?(e.exit("atxHeading"),t(L)):Ma(L)?to(e,x,"whitespace")(L):(e.enter("atxHeadingText"),P(L))}function S(L){return L===35?(e.consume(L),S):(e.exit("atxHeadingSequence"),x(L))}function P(L){return L===null||L===35||Lu(L)?(e.exit("atxHeadingText"),x(L)):(e.consume(L),P)}}const GG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],U6=["pre","script","style","textarea"],QG={name:"htmlFlow",tokenize:ZG,resolveTo:KG,concrete:!0},WG={tokenize:XG,partial:!0};function KG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ZG(e,t,n){const i=this;let s,l,a,x,S;return P;function P(ge){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ge),L}function L(ge){return ge===33?(e.consume(ge),F):ge===47?(e.consume(ge),q):ge===63?(e.consume(ge),s=3,i.interrupt?t:Me):yf(ge)?(e.consume(ge),a=String.fromCharCode(ge),l=!0,K):n(ge)}function F(ge){return ge===45?(e.consume(ge),s=2,N):ge===91?(e.consume(ge),s=5,a="CDATA[",x=0,$):yf(ge)?(e.consume(ge),s=4,i.interrupt?t:Me):n(ge)}function N(ge){return ge===45?(e.consume(ge),i.interrupt?t:Me):n(ge)}function $(ge){return ge===a.charCodeAt(x++)?(e.consume(ge),x===a.length?i.interrupt?t:We:$):n(ge)}function q(ge){return yf(ge)?(e.consume(ge),a=String.fromCharCode(ge),K):n(ge)}function K(ge){return ge===null||ge===47||ge===62||Lu(ge)?ge!==47&&l&&U6.includes(a.toLowerCase())?(s=1,i.interrupt?t(ge):We(ge)):GG.includes(a.toLowerCase())?(s=6,ge===47?(e.consume(ge),te):i.interrupt?t(ge):We(ge)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(ge):l?X(ge):V(ge)):ge===45||Kl(ge)?(e.consume(ge),a+=String.fromCharCode(ge),K):n(ge)}function te(ge){return ge===62?(e.consume(ge),i.interrupt?t:We):n(ge)}function V(ge){return Ma(ge)?(e.consume(ge),V):Ze(ge)}function X(ge){return ge===47?(e.consume(ge),Ze):ge===58||ge===95||yf(ge)?(e.consume(ge),ee):Ma(ge)?(e.consume(ge),X):Ze(ge)}function ee(ge){return ge===45||ge===46||ge===58||ge===95||Kl(ge)?(e.consume(ge),ee):ce(ge)}function ce(ge){return ge===61?(e.consume(ge),_e):Ma(ge)?(e.consume(ge),ce):X(ge)}function _e(ge){return ge===null||ge===60||ge===61||ge===62||ge===96?n(ge):ge===34||ge===39?(e.consume(ge),S=ge,re):Ma(ge)?(e.consume(ge),_e):(S=null,Se(ge))}function re(ge){return ge===null||yr(ge)?n(ge):ge===S?(e.consume(ge),Le):(e.consume(ge),re)}function Se(ge){return ge===null||ge===34||ge===39||ge===60||ge===61||ge===62||ge===96||Lu(ge)?ce(ge):(e.consume(ge),Se)}function Le(ge){return ge===47||ge===62||Ma(ge)?X(ge):n(ge)}function Ze(ge){return ge===62?(e.consume(ge),ot):n(ge)}function ot(ge){return Ma(ge)?(e.consume(ge),ot):ge===null||yr(ge)?We(ge):n(ge)}function We(ge){return ge===45&&s===2?(e.consume(ge),Yt):ge===60&&s===1?(e.consume(ge),pn):ge===62&&s===4?(e.consume(ge),Oe):ge===63&&s===3?(e.consume(ge),Me):ge===93&&s===5?(e.consume(ge),at):yr(ge)&&(s===6||s===7)?e.check(WG,Oe,ut)(ge):ge===null||yr(ge)?ut(ge):(e.consume(ge),We)}function ut(ge){return e.exit("htmlFlowData"),yt(ge)}function yt(ge){return ge===null?oe(ge):yr(ge)?e.attempt({tokenize:Bt,partial:!0},yt,oe)(ge):(e.enter("htmlFlowData"),We(ge))}function Bt(ge,Mt,un){return wn;function wn(Cn){return ge.enter("lineEnding"),ge.consume(Cn),ge.exit("lineEnding"),dn}function dn(Cn){return i.parser.lazy[i.now().line]?un(Cn):Mt(Cn)}}function Yt(ge){return ge===45?(e.consume(ge),Me):We(ge)}function pn(ge){return ge===47?(e.consume(ge),a="",xn):We(ge)}function xn(ge){return ge===62&&U6.includes(a.toLowerCase())?(e.consume(ge),Oe):yf(ge)&&a.length<8?(e.consume(ge),a+=String.fromCharCode(ge),xn):We(ge)}function at(ge){return ge===93?(e.consume(ge),Me):We(ge)}function Me(ge){return ge===62?(e.consume(ge),Oe):ge===45&&s===2?(e.consume(ge),Me):We(ge)}function Oe(ge){return ge===null||yr(ge)?(e.exit("htmlFlowData"),oe(ge)):(e.consume(ge),Oe)}function oe(ge){return e.exit("htmlFlow"),t(ge)}}function XG(e,t,n){return i;function i(s){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),e.attempt(Mx,t,n)}}const YG={name:"htmlText",tokenize:JG};function JG(e,t,n){const i=this;let s,l,a,x;return S;function S(oe){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(oe),P}function P(oe){return oe===33?(e.consume(oe),L):oe===47?(e.consume(oe),Se):oe===63?(e.consume(oe),_e):yf(oe)?(e.consume(oe),ot):n(oe)}function L(oe){return oe===45?(e.consume(oe),F):oe===91?(e.consume(oe),l="CDATA[",a=0,te):yf(oe)?(e.consume(oe),ce):n(oe)}function F(oe){return oe===45?(e.consume(oe),N):n(oe)}function N(oe){return oe===null||oe===62?n(oe):oe===45?(e.consume(oe),$):q(oe)}function $(oe){return oe===null||oe===62?n(oe):q(oe)}function q(oe){return oe===null?n(oe):oe===45?(e.consume(oe),K):yr(oe)?(x=q,at(oe)):(e.consume(oe),q)}function K(oe){return oe===45?(e.consume(oe),Oe):q(oe)}function te(oe){return oe===l.charCodeAt(a++)?(e.consume(oe),a===l.length?V:te):n(oe)}function V(oe){return oe===null?n(oe):oe===93?(e.consume(oe),X):yr(oe)?(x=V,at(oe)):(e.consume(oe),V)}function X(oe){return oe===93?(e.consume(oe),ee):V(oe)}function ee(oe){return oe===62?Oe(oe):oe===93?(e.consume(oe),ee):V(oe)}function ce(oe){return oe===null||oe===62?Oe(oe):yr(oe)?(x=ce,at(oe)):(e.consume(oe),ce)}function _e(oe){return oe===null?n(oe):oe===63?(e.consume(oe),re):yr(oe)?(x=_e,at(oe)):(e.consume(oe),_e)}function re(oe){return oe===62?Oe(oe):_e(oe)}function Se(oe){return yf(oe)?(e.consume(oe),Le):n(oe)}function Le(oe){return oe===45||Kl(oe)?(e.consume(oe),Le):Ze(oe)}function Ze(oe){return yr(oe)?(x=Ze,at(oe)):Ma(oe)?(e.consume(oe),Ze):Oe(oe)}function ot(oe){return oe===45||Kl(oe)?(e.consume(oe),ot):oe===47||oe===62||Lu(oe)?We(oe):n(oe)}function We(oe){return oe===47?(e.consume(oe),Oe):oe===58||oe===95||yf(oe)?(e.consume(oe),ut):yr(oe)?(x=We,at(oe)):Ma(oe)?(e.consume(oe),We):Oe(oe)}function ut(oe){return oe===45||oe===46||oe===58||oe===95||Kl(oe)?(e.consume(oe),ut):yt(oe)}function yt(oe){return oe===61?(e.consume(oe),Bt):yr(oe)?(x=yt,at(oe)):Ma(oe)?(e.consume(oe),yt):We(oe)}function Bt(oe){return oe===null||oe===60||oe===61||oe===62||oe===96?n(oe):oe===34||oe===39?(e.consume(oe),s=oe,Yt):yr(oe)?(x=Bt,at(oe)):Ma(oe)?(e.consume(oe),Bt):(e.consume(oe),s=void 0,xn)}function Yt(oe){return oe===s?(e.consume(oe),pn):oe===null?n(oe):yr(oe)?(x=Yt,at(oe)):(e.consume(oe),Yt)}function pn(oe){return oe===62||oe===47||Lu(oe)?We(oe):n(oe)}function xn(oe){return oe===null||oe===34||oe===39||oe===60||oe===61||oe===96?n(oe):oe===62||Lu(oe)?We(oe):(e.consume(oe),xn)}function at(oe){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(oe),e.exit("lineEnding"),to(e,Me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Me(oe){return e.enter("htmlTextData"),x(oe)}function Oe(oe){return oe===62?(e.consume(oe),e.exit("htmlTextData"),e.exit("htmlText"),t):n(oe)}}const p5={name:"labelEnd",tokenize:oQ,resolveTo:iQ,resolveAll:rQ},eQ={tokenize:aQ},tQ={tokenize:sQ},nQ={tokenize:lQ};function rQ(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function iQ(e,t){let n=e.length,i=0,s,l,a,x;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(a=n);const S={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},P={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[a][1].end)},L={type:"labelText",start:Object.assign({},e[l+i+2][1].end),end:Object.assign({},e[a-2][1].start)};return x=[["enter",S,t],["enter",P,t]],x=Tu(x,e.slice(l+1,l+i+3)),x=Tu(x,[["enter",L,t]]),x=Tu(x,c5(t.parser.constructs.insideSpan.null,e.slice(l+i+4,a-3),t)),x=Tu(x,[["exit",L,t],e[a-2],e[a-1],["exit",P,t]]),x=Tu(x,e.slice(a+1)),x=Tu(x,[["exit",S,t]]),Sf(e,l,e.length,x),e}function oQ(e,t,n){const i=this;let s=i.events.length,l,a;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return x;function x(L){return l?l._inactive?P(L):(a=i.parser.defined.includes(w0(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(L),e.exit("labelMarker"),e.exit("labelEnd"),S):n(L)}function S(L){return L===40?e.attempt(eQ,t,a?t:P)(L):L===91?e.attempt(tQ,t,a?e.attempt(nQ,t,P):P)(L):a?t(L):P(L)}function P(L){return l._balanced=!0,n(L)}}function aQ(e,t,n){return i;function i(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),yg(e,s)}function s(S){return S===41?x(S):VO(e,l,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function l(S){return Lu(S)?yg(e,a)(S):x(S)}function a(S){return S===34||S===39||S===40?qO(e,yg(e,x),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):x(S)}function x(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):n(S)}}function sQ(e,t,n){const i=this;return s;function s(a){return HO.call(i,e,l,n,"reference","referenceMarker","referenceString")(a)}function l(a){return i.parser.defined.includes(w0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):n(a)}}function lQ(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const uQ={name:"labelStartImage",tokenize:cQ,resolveAll:p5.resolveAll};function cQ(e,t,n){const i=this;return s;function s(x){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(x),e.exit("labelImageMarker"),l}function l(x){return x===91?(e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelImage"),a):n(x)}function a(x){return x===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(x):t(x)}}const fQ={name:"labelStartLink",tokenize:pQ,resolveAll:p5.resolveAll};function pQ(e,t,n){const i=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const Ow={name:"lineEnding",tokenize:hQ};function hQ(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),to(e,t,"linePrefix")}}const n_={name:"thematicBreak",tokenize:AQ};function AQ(e,t,n){let i=0,s;return l;function l(S){return e.enter("thematicBreak"),s=S,a(S)}function a(S){return S===s?(e.enter("thematicBreakSequence"),x(S)):Ma(S)?to(e,a,"whitespace")(S):i<3||S!==null&&!yr(S)?n(S):(e.exit("thematicBreak"),t(S))}function x(S){return S===s?(e.consume(S),i++,x):(e.exit("thematicBreakSequence"),a(S))}}const Sl={name:"list",tokenize:gQ,continuation:{tokenize:yQ},exit:_Q},dQ={tokenize:xQ,partial:!0},mQ={tokenize:vQ,partial:!0};function gQ(e,t,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return x;function x($){const q=i.containerState.type||($===42||$===43||$===45?"listUnordered":"listOrdered");if(q==="listUnordered"?!i.containerState.marker||$===i.containerState.marker:MS($)){if(i.containerState.type||(i.containerState.type=q,e.enter(q,{_container:!0})),q==="listUnordered")return e.enter("listItemPrefix"),$===42||$===45?e.check(n_,n,P)($):P($);if(!i.interrupt||$===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),S($)}return n($)}function S($){return MS($)&&++a<10?(e.consume($),S):(!i.interrupt||a<2)&&(i.containerState.marker?$===i.containerState.marker:$===41||$===46)?(e.exit("listItemValue"),P($)):n($)}function P($){return e.enter("listItemMarker"),e.consume($),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||$,e.check(Mx,i.interrupt?n:L,e.attempt(dQ,N,F))}function L($){return i.containerState.initialBlankLine=!0,l++,N($)}function F($){return Ma($)?(e.enter("listItemPrefixWhitespace"),e.consume($),e.exit("listItemPrefixWhitespace"),N):n($)}function N($){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t($)}}function yQ(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Mx,s,l);function s(x){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,to(e,t,"listItemIndent",i.containerState.size+1)(x)}function l(x){return i.containerState.furtherBlankLines||!Ma(x)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(x)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(mQ,t,a)(x))}function a(x){return i.containerState._closeFlow=!0,i.interrupt=void 0,to(e,e.attempt(Sl,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function vQ(e,t,n){const i=this;return to(e,s,"listItemIndent",i.containerState.size+1);function s(l){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(l):n(l)}}function _Q(e){e.exit(this.containerState.type)}function xQ(e,t,n){const i=this;return to(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function s(l){const a=i.events[i.events.length-1];return!Ma(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const $6={name:"setextUnderline",tokenize:wQ,resolveTo:bQ};function bQ(e,t){let n=e.length,i,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const a={type:"setextHeading",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",a,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[l][1].end)):e[i][1]=a,e.push(["exit",a,t]),e}function wQ(e,t,n){const i=this;let s=i.events.length,l,a;for(;s--;)if(i.events[s][1].type!=="lineEnding"&&i.events[s][1].type!=="linePrefix"&&i.events[s][1].type!=="content"){a=i.events[s][1].type==="paragraph";break}return x;function x(L){return!i.parser.lazy[i.now().line]&&(i.interrupt||a)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),l=L,S(L)):n(L)}function S(L){return L===l?(e.consume(L),S):(e.exit("setextHeadingLineSequence"),to(e,P,"lineSuffix")(L))}function P(L){return L===null||yr(L)?(e.exit("setextHeadingLine"),t(L)):n(L)}}const SQ={tokenize:CQ};function CQ(e){const t=this,n=e.attempt(Mx,i,e.attempt(this.parser.constructs.flowInitial,s,to(e,e.attempt(this.parser.constructs.flow,s,e.attempt(OG,s)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const EQ={resolveAll:QO()},kQ=GO("string"),PQ=GO("text");function GO(e){return{tokenize:t,resolveAll:QO(e==="text"?TQ:void 0)};function t(n){const i=this,s=this.parser.constructs[e],l=n.attempt(s,a,x);return a;function a(L){return P(L)?l(L):x(L)}function x(L){if(L===null){n.consume(L);return}return n.enter("data"),n.consume(L),S}function S(L){return P(L)?(n.exit("data"),l(L)):(n.consume(L),S)}function P(L){if(L===null)return!0;const F=s[L];let N=-1;if(F)for(;++N<F.length;){const $=F[N];if(!$.previous||$.previous.call(i,i.previous))return!0}return!1}}}function QO(e){return t;function t(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,i):n}}function TQ(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let l=s.length,a=-1,x=0,S;for(;l--;){const P=s[l];if(typeof P=="string"){for(a=P.length;P.charCodeAt(a-1)===32;)x++,a--;if(a)break;a=-1}else if(P===-2)S=!0,x++;else if(P!==-1){l++;break}}if(x){const P={type:n===e.length||S||x<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-x,offset:i.end.offset-x,_index:i.start._index+l,_bufferIndex:l?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},P.start),i.start.offset===i.end.offset?Object.assign(i,P):(e.splice(n,0,["enter",P,t],["exit",P,t]),n+=2)}n++}return e}function IQ(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},l=[];let a=[],x=[];const S={consume:X,enter:ee,exit:ce,attempt:Se(_e),check:Se(re),interrupt:Se(re,{interrupt:!0})},P={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:$,sliceSerialize:N,now:q,defineSkip:K,write:F};let L=t.tokenize.call(P,S);return t.resolveAll&&l.push(t),P;function F(We){return a=Tu(a,We),te(),a[a.length-1]!==null?[]:(Le(t,0),P.events=c5(l,P.events,P),P.events)}function N(We,ut){return OQ($(We),ut)}function $(We){return MQ(a,We)}function q(){return Object.assign({},i)}function K(We){s[We.line]=We.column,ot()}function te(){let We;for(;i._index<a.length;){const ut=a[i._index];if(typeof ut=="string")for(We=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===We&&i._bufferIndex<ut.length;)V(ut.charCodeAt(i._bufferIndex));else V(ut)}}function V(We){L=L(We)}function X(We){yr(We)?(i.line++,i.column=1,i.offset+=We===-3?2:1,ot()):We!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),P.previous=We}function ee(We,ut){const yt=ut||{};return yt.type=We,yt.start=q(),P.events.push(["enter",yt,P]),x.push(yt),yt}function ce(We){const ut=x.pop();return ut.end=q(),P.events.push(["exit",ut,P]),ut}function _e(We,ut){Le(We,ut.from)}function re(We,ut){ut.restore()}function Se(We,ut){return yt;function yt(Bt,Yt,pn){let xn,at,Me,Oe;return Array.isArray(Bt)?ge(Bt):"tokenize"in Bt?ge([Bt]):oe(Bt);function oe(dn){return Cn;function Cn($n){const Fn=$n!==null&&dn[$n],Xr=$n!==null&&dn.null,jr=[...Array.isArray(Fn)?Fn:Fn?[Fn]:[],...Array.isArray(Xr)?Xr:Xr?[Xr]:[]];return ge(jr)($n)}}function ge(dn){return xn=dn,at=0,dn.length===0?pn:Mt(dn[at])}function Mt(dn){return Cn;function Cn($n){return Oe=Ze(),Me=dn,dn.partial||(P.currentConstruct=dn),dn.name&&P.parser.constructs.disable.null.includes(dn.name)?wn():dn.tokenize.call(ut?Object.assign(Object.create(P),ut):P,S,un,wn)($n)}}function un(dn){return We(Me,Oe),Yt}function wn(dn){return Oe.restore(),++at<xn.length?Mt(xn[at]):pn}}}function Le(We,ut){We.resolveAll&&!l.includes(We)&&l.push(We),We.resolve&&Sf(P.events,ut,P.events.length-ut,We.resolve(P.events.slice(ut),P)),We.resolveTo&&(P.events=We.resolveTo(P.events,P))}function Ze(){const We=q(),ut=P.previous,yt=P.currentConstruct,Bt=P.events.length,Yt=Array.from(x);return{restore:pn,from:Bt};function pn(){i=We,P.previous=ut,P.currentConstruct=yt,P.events.length=Bt,x=Yt,ot()}}function ot(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function MQ(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let a;return n===s?a=[e[n].slice(i,l)]:(a=e.slice(n,s),i>-1&&(a[0]=a[0].slice(i)),l>0&&a.push(e[s].slice(0,l))),a}function OQ(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const l=e[n];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(l)}s=l===-2,i.push(a)}return i.join("")}const LQ={[42]:Sl,[43]:Sl,[45]:Sl,[48]:Sl,[49]:Sl,[50]:Sl,[51]:Sl,[52]:Sl,[53]:Sl,[54]:Sl,[55]:Sl,[56]:Sl,[57]:Sl,[62]:NO},DQ={[91]:BG},RQ={[-2]:Mw,[-1]:Mw,[32]:Mw},FQ={[35]:VG,[42]:n_,[45]:[$6,n_],[60]:QG,[61]:$6,[95]:n_,[96]:N6,[126]:N6},BQ={[38]:$O,[92]:UO},zQ={[-5]:Ow,[-4]:Ow,[-3]:Ow,[33]:uQ,[38]:$O,[42]:LS,[60]:[dG,YG],[91]:fQ,[92]:[$G,UO],[93]:p5,[95]:LS,[96]:kG},NQ={null:[LS,EQ]},UQ={null:[42,95]},$Q={null:[]},jQ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:UQ,contentInitial:DQ,disable:$Q,document:LQ,flow:FQ,flowInitial:RQ,insideSpan:NQ,string:BQ,text:zQ},Symbol.toStringTag,{value:"Module"}));function VQ(e={}){const t=eG([jQ].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:i(lG),document:i(cG),flow:i(SQ),string:i(kQ),text:i(PQ)};return n;function i(s){return l;function l(a){return IQ(n,s,a)}}}const j6=/[\0\t\n\r]/g;function HQ(){let e=1,t="",n=!0,i;return s;function s(l,a,x){const S=[];let P,L,F,N,$;for(l=t+l.toString(a),F=0,t="",n&&(l.charCodeAt(0)===65279&&F++,n=void 0);F<l.length;){if(j6.lastIndex=F,P=j6.exec(l),N=P&&P.index!==void 0?P.index:l.length,$=l.charCodeAt(N),!P){t=l.slice(F);break}if($===10&&F===N&&i)S.push(-3),i=void 0;else switch(i&&(S.push(-5),i=void 0),F<N&&(S.push(l.slice(F,N)),e+=N-F),$){case 0:{S.push(65533),e++;break}case 9:{for(L=Math.ceil(e/4)*4,S.push(-2);e++<L;)S.push(-1);break}case 10:{S.push(-4),e=1;break}default:i=!0,e=1}F=N+1}return x&&(i&&S.push(-5),t&&S.push(t),S.push(null)),S}}function qQ(e){for(;!jO(e););return e}function WO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const GQ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QQ(e){return e.replace(GQ,WQ)}function WQ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return WO(n.slice(l?2:1),l?16:10)}return f5(n)||e}const DS={}.hasOwnProperty,KQ=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ZQ(n)(qQ(VQ(n).document().write(HQ()(e,t,!0))))};function ZQ(e={}){const t=KO({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:S(Wr),autolinkProtocol:ut,autolinkEmail:ut,atxHeading:S(Bi),blockQuote:S(Fi),characterEscape:ut,characterReference:ut,codeFenced:S(jn),codeFencedFenceInfo:P,codeFencedFenceMeta:P,codeIndented:S(jn,P),codeText:S(mi,P),codeTextData:ut,data:ut,codeFlowValue:ut,definition:S(gi),definitionDestinationString:P,definitionLabelString:P,definitionTitleString:P,emphasis:S(Go),hardBreakEscape:S(Wi),hardBreakTrailing:S(Wi),htmlFlow:S(bs,P),htmlFlowData:ut,htmlText:S(bs,P),htmlTextData:ut,image:S(ro),label:P,link:S(Wr),listItem:S(io),listItemValue:K,listOrdered:S(Lo,q),listUnordered:S(Lo),paragraph:S(bi),reference:dn,referenceString:P,resourceDestinationString:P,resourceTitleString:P,setextHeading:S(Bi),strong:S(Do),thematicBreak:S(vt)},exit:{atxHeading:F(),atxHeadingSequence:Le,autolink:F(),autolinkEmail:jr,autolinkProtocol:Xr,blockQuote:F(),characterEscapeValue:yt,characterReferenceMarkerHexadecimal:$n,characterReferenceMarkerNumeric:$n,characterReferenceValue:Fn,codeFenced:F(ee),codeFencedFence:X,codeFencedFenceInfo:te,codeFencedFenceMeta:V,codeFlowValue:yt,codeIndented:F(ce),codeText:F(at),codeTextData:yt,data:yt,definition:F(),definitionDestinationString:Se,definitionLabelString:_e,definitionTitleString:re,emphasis:F(),hardBreakEscape:F(Yt),hardBreakTrailing:F(Yt),htmlFlow:F(pn),htmlFlowData:yt,htmlText:F(xn),htmlTextData:yt,image:F(Oe),label:ge,labelText:oe,lineEnding:Bt,link:F(Me),listItem:F(),listOrdered:F(),listUnordered:F(),paragraph:F(),referenceString:Cn,resourceDestinationString:Mt,resourceTitleString:un,resource:wn,setextHeading:F(We),setextHeadingLineSequence:ot,setextHeadingText:Ze,strong:F(),thematicBreak:F()}},e.mdastExtensions||[]),n={};return i;function i(be){let Je={type:"root",children:[]};const Ct=[Je],an=[],Gn=[],Or={stack:Ct,tokenStack:an,config:t,enter:L,exit:N,buffer:P,resume:$,setData:l,getData:a};let On=-1;for(;++On<be.length;)if(be[On][1].type==="listOrdered"||be[On][1].type==="listUnordered")if(be[On][0]==="enter")Gn.push(On);else{const nr=Gn.pop();On=s(be,nr,On)}for(On=-1;++On<be.length;){const nr=t[be[On][0]];DS.call(nr,be[On][1].type)&&nr[be[On][1].type].call(Object.assign({sliceSerialize:be[On][2].sliceSerialize},Or),be[On][1])}if(an.length>0){const nr=an[an.length-1];(nr[1]||V6).call(Or,void 0,nr[0])}for(Je.position={start:x(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:x(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},On=-1;++On<t.transforms.length;)Je=t.transforms[On](Je)||Je;return Je}function s(be,Je,Ct){let an=Je-1,Gn=-1,Or=!1,On,nr,Vr,Yr;for(;++an<=Ct;){const mr=be[an];if(mr[1].type==="listUnordered"||mr[1].type==="listOrdered"||mr[1].type==="blockQuote"?(mr[0]==="enter"?Gn++:Gn--,Yr=void 0):mr[1].type==="lineEndingBlank"?mr[0]==="enter"&&(On&&!Yr&&!Gn&&!Vr&&(Vr=an),Yr=void 0):mr[1].type==="linePrefix"||mr[1].type==="listItemValue"||mr[1].type==="listItemMarker"||mr[1].type==="listItemPrefix"||mr[1].type==="listItemPrefixWhitespace"||(Yr=void 0),!Gn&&mr[0]==="enter"&&mr[1].type==="listItemPrefix"||Gn===-1&&mr[0]==="exit"&&(mr[1].type==="listUnordered"||mr[1].type==="listOrdered")){if(On){let Co=an;for(nr=void 0;Co--;){const Jr=be[Co];if(Jr[1].type==="lineEnding"||Jr[1].type==="lineEndingBlank"){if(Jr[0]==="exit")continue;nr&&(be[nr][1].type="lineEndingBlank",Or=!0),Jr[1].type="lineEnding",nr=Co}else if(!(Jr[1].type==="linePrefix"||Jr[1].type==="blockQuotePrefix"||Jr[1].type==="blockQuotePrefixWhitespace"||Jr[1].type==="blockQuoteMarker"||Jr[1].type==="listItemIndent"))break}Vr&&(!nr||Vr<nr)&&(On._spread=!0),On.end=Object.assign({},nr?be[nr][1].start:mr[1].end),be.splice(nr||an,0,["exit",On,mr[2]]),an++,Ct++}mr[1].type==="listItemPrefix"&&(On={type:"listItem",_spread:!1,start:Object.assign({},mr[1].start)},be.splice(an,0,["enter",On,mr[2]]),an++,Ct++,Vr=void 0,Yr=!0)}}return be[Je][1]._spread=Or,Ct}function l(be,Je){n[be]=Je}function a(be){return n[be]}function x(be){return{line:be.line,column:be.column,offset:be.offset}}function S(be,Je){return Ct;function Ct(an){L.call(this,be(an),an),Je&&Je.call(this,an)}}function P(){this.stack.push({type:"fragment",children:[]})}function L(be,Je,Ct){return this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Je,Ct]),be.position={start:x(Je.start)},be}function F(be){return Je;function Je(Ct){be&&be.call(this,Ct),N.call(this,Ct)}}function N(be,Je){const Ct=this.stack.pop(),an=this.tokenStack.pop();if(an)an[0].type!==be.type&&(Je?Je.call(this,be,an[0]):(an[1]||V6).call(this,be,an[0]));else throw new Error("Cannot close `"+be.type+"` ("+gg({start:be.start,end:be.end})+"): its not open");return Ct.position.end=x(be.end),Ct}function $(){return Jq(this.stack.pop())}function q(){l("expectingFirstListItemValue",!0)}function K(be){if(a("expectingFirstListItemValue")){const Je=this.stack[this.stack.length-2];Je.start=Number.parseInt(this.sliceSerialize(be),10),l("expectingFirstListItemValue")}}function te(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.lang=be}function V(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.meta=be}function X(){a("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function ee(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function ce(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be.replace(/(\r?\n|\r)$/g,"")}function _e(be){const Je=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=Je,Ct.identifier=w0(this.sliceSerialize(be)).toLowerCase()}function re(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.title=be}function Se(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.url=be}function Le(be){const Je=this.stack[this.stack.length-1];if(!Je.depth){const Ct=this.sliceSerialize(be).length;Je.depth=Ct}}function Ze(){l("setextHeadingSlurpLineEnding",!0)}function ot(be){const Je=this.stack[this.stack.length-1];Je.depth=this.sliceSerialize(be).charCodeAt(0)===61?1:2}function We(){l("setextHeadingSlurpLineEnding")}function ut(be){const Je=this.stack[this.stack.length-1];let Ct=Je.children[Je.children.length-1];(!Ct||Ct.type!=="text")&&(Ct=la(),Ct.position={start:x(be.start)},Je.children.push(Ct)),this.stack.push(Ct)}function yt(be){const Je=this.stack.pop();Je.value+=this.sliceSerialize(be),Je.position.end=x(be.end)}function Bt(be){const Je=this.stack[this.stack.length-1];if(a("atHardBreak")){const Ct=Je.children[Je.children.length-1];Ct.position.end=x(be.end),l("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Je.type)&&(ut.call(this,be),yt.call(this,be))}function Yt(){l("atHardBreak",!0)}function pn(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function xn(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function at(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function Me(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function Oe(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function oe(be){const Je=this.stack[this.stack.length-2],Ct=this.sliceSerialize(be);Je.label=QQ(Ct),Je.identifier=w0(Ct).toLowerCase()}function ge(){const be=this.stack[this.stack.length-1],Je=this.resume(),Ct=this.stack[this.stack.length-1];l("inReference",!0),Ct.type==="link"?Ct.children=be.children:Ct.alt=Je}function Mt(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.url=be}function un(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.title=be}function wn(){l("inReference")}function dn(){l("referenceType","collapsed")}function Cn(be){const Je=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=Je,Ct.identifier=w0(this.sliceSerialize(be)).toLowerCase(),l("referenceType","full")}function $n(be){l("characterReferenceType",be.type)}function Fn(be){const Je=this.sliceSerialize(be),Ct=a("characterReferenceType");let an;Ct?(an=WO(Je,Ct==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):an=f5(Je);const Gn=this.stack.pop();Gn.value+=an,Gn.position.end=x(be.end)}function Xr(be){yt.call(this,be);const Je=this.stack[this.stack.length-1];Je.url=this.sliceSerialize(be)}function jr(be){yt.call(this,be);const Je=this.stack[this.stack.length-1];Je.url="mailto:"+this.sliceSerialize(be)}function Fi(){return{type:"blockquote",children:[]}}function jn(){return{type:"code",lang:null,meta:null,value:""}}function mi(){return{type:"inlineCode",value:""}}function gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Go(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:void 0,children:[]}}function Wi(){return{type:"break"}}function bs(){return{type:"html",value:""}}function ro(){return{type:"image",title:null,url:"",alt:null}}function Wr(){return{type:"link",title:null,url:"",children:[]}}function Lo(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function io(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function bi(){return{type:"paragraph",children:[]}}function Do(){return{type:"strong",children:[]}}function la(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function KO(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?KO(e,i):XQ(e,i)}return e}function XQ(e,t){let n;for(n in t)if(DS.call(t,n)){const i=n==="canContainEols"||n==="transforms",l=(DS.call(e,n)?e[n]:void 0)||(e[n]=i?[]:{}),a=t[n];a&&(i?e[n]=[...l,...a]:Object.assign(l,a))}}function V6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gg({start:t.start,end:t.end})+") is still open")}function YQ(e){Object.assign(this,{Parser:n=>{const i=this.data("settings");return KQ(n,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Na=function(e,t,n){var i={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(i,t),Array.isArray(n)?i.children=n:n!=null&&(i.value=String(n)),i};const r_={}.hasOwnProperty;function JQ(e,t){const n=t.data||{};return"value"in t&&!(r_.call(n,"hName")||r_.call(n,"hProperties")||r_.call(n,"hChildren"))?e.augment(t,Na("text",t.value)):e(t,"div",Bs(e,t))}function ZO(e,t,n){const i=t&&t.type;let s;if(!i)throw new Error("Expected node, got `"+t+"`");return r_.call(e.handlers,i)?s=e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?s=eW:s=e.unknownHandler,(typeof s=="function"?s:JQ)(e,t,n)}function eW(e,t){return"children"in t?{...t,children:Bs(e,t)}:t}function Bs(e,t){const n=[];if("children"in t){const i=t.children;let s=-1;for(;++s<i.length;){const l=ZO(e,i[s],t);if(l){if(s&&i[s-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const a=l.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}const XO=function(e){if(e==null)return iW;if(typeof e=="string")return rW(e);if(typeof e=="object")return Array.isArray(e)?tW(e):nW(e);if(typeof e=="function")return Ox(e);throw new Error("Expected function, string, or object as test")};function tW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=XO(e[n]);return Ox(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].call(this,...s))return!0;return!1}}function nW(e){return Ox(t);function t(n){let i;for(i in e)if(n[i]!==e[i])return!1;return!0}}function rW(e){return Ox(t);function t(n){return n&&n.type===e}}function Ox(e){return t;function t(...n){return!!e.call(this,...n)}}function iW(){return!0}const oW=!0,aW="skip",H6=!1,sW=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null);const s=XO(t),l=i?-1:1;a(e,null,[])();function a(x,S,P){const L=typeof x=="object"&&x!==null?x:{};let F;return typeof L.type=="string"&&(F=typeof L.tagName=="string"?L.tagName:typeof L.name=="string"?L.name:void 0,Object.defineProperty(N,"name",{value:"node ("+(L.type+(F?"<"+F+">":""))+")"})),N;function N(){let $=[],q,K,te;if((!t||s(x,S,P[P.length-1]||null))&&($=lW(n(x,P)),$[0]===H6))return $;if(x.children&&$[0]!==aW)for(K=(i?x.children.length:-1)+l,te=P.concat(x);K>-1&&K<x.children.length;){if(q=a(x.children[K],K,te)(),q[0]===H6)return q;K=typeof q[1]=="number"?q[1]:K+l}return $}}};function lW(e){return Array.isArray(e)?e:typeof e=="number"?[oW,e]:[e]}const h5=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null),sW(e,t,s,i);function s(l,a){const x=a[a.length-1];return n(l,x?x.children.indexOf(l):null,x)}},YO=eL("start"),JO=eL("end");function eL(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function uW(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const q6={}.hasOwnProperty;function cW(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return h5(e,"definition",i=>{const s=G6(i.identifier);s&&!q6.call(t,s)&&(t[s]=i)}),n;function n(i){const s=G6(i);return s&&q6.call(t,s)?t[s]:null}}function G6(e){return String(e||"").toUpperCase()}const fW={'"':"quot","&":"amp","<":"lt",">":"gt"};function pW(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+fW[n]+";"}}function tL(e,t){const n=pW(hW(e||""));if(!t)return n;const i=n.indexOf(":"),s=n.indexOf("?"),l=n.indexOf("#"),a=n.indexOf("/");return i<0||a>-1&&i>a||s>-1&&i>s||l>-1&&i>l||t.test(n.slice(0,i))?n:""}function hW(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let a="";if(l===37&&Kl(e.charCodeAt(n+1))&&Kl(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const x=e.charCodeAt(n+1);l<56320&&x>56319&&x<57344?(a=String.fromCharCode(l,x),s=1):a=""}else a=String.fromCharCode(l);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function _p(e,t){const n=[];let i=-1;for(t&&n.push(Na("text",`
`));++i<e.length;)i&&n.push(Na("text",`
`)),n.push(e[i]);return t&&e.length>0&&n.push(Na("text",`
`)),n}function AW(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const s=Bs(e,i),l=String(i.identifier),a=tL(l.toLowerCase());let x=0;const S=[];for(;++x<=e.footnoteCounts[l];){const F={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(x>1?"-"+x:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};x>1&&F.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(x)}]}),S.length>0&&S.push({type:"text",value:" "}),S.push(F)}const P=s[s.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const F=P.children[P.children.length-1];F&&F.type==="text"?F.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...S)}else s.push(...S);const L={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:_p(s,!0)};i.position&&(L.position=i.position),n.push(L)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Na("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_p(n,!0)},{type:"text",value:`
`}]}}function dW(e,t){return e(t,"blockquote",_p(Bs(e,t),!0))}function mW(e,t){return[e(t,"br"),Na("text",`
`)]}function gW(e,t){const n=t.value?t.value+`
`:"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};i&&(s.className=["language-"+i]);const l=e(t,"code",s,[Na("text",n)]);return t.meta&&(l.data={meta:t.meta}),e(t.position,"pre",[l])}function yW(e,t){return e(t,"del",Bs(e,t))}function vW(e,t){return e(t,"em",Bs(e,t))}function nL(e,t){const n=String(t.identifier),i=tL(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l;s===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,l=e.footnoteOrder.length):(e.footnoteCounts[n]++,l=s+1);const a=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Na("text",String(l))])])}function _W(e,t){const n=e.footnoteById;let i=1;for(;i in n;)i++;const s=String(i);return n[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:t.children}],position:t.position},nL(e,{type:"footnoteReference",identifier:s,position:t.position})}function xW(e,t){return e(t,"h"+t.depth,Bs(e,t))}function bW(e,t){return e.dangerous?e.augment(t,Na("raw",t.value)):null}var Q6={};function wW(e){var t,n,i=Q6[e];if(i)return i;for(i=Q6[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function Lx(e,t,n){var i,s,l,a,x,S="";for(typeof t!="string"&&(n=t,t=Lx.defaultChars),typeof n>"u"&&(n=!0),x=wW(t),i=0,s=e.length;i<s;i++){if(l=e.charCodeAt(i),n&&l===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){S+=e.slice(i,i+3),i+=2;continue}if(l<128){S+=x[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<s&&(a=e.charCodeAt(i+1),a>=56320&&a<=57343)){S+=encodeURIComponent(e[i]+e[i+1]),i++;continue}S+="%EF%BF%BD";continue}S+=encodeURIComponent(e[i])}return S}Lx.defaultChars=";/?:@&=+$,-_.!~*'()#";Lx.componentChars="-_.!~*'()";var Dx=Lx;function rL(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Na("text","!["+t.alt+i);const s=Bs(e,t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift(Na("text","["));const a=s[s.length-1];return a&&a.type==="text"?a.value+=i:s.push(Na("text",i)),s}function SW(e,t){const n=e.definition(t.identifier);if(!n)return rL(e,t);const i={src:Dx(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"img",i)}function CW(e,t){const n={src:Dx(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function EW(e,t){return e(t,"code",[Na("text",t.value.replace(/\r?\n|\r/g," "))])}function kW(e,t){const n=e.definition(t.identifier);if(!n)return rL(e,t);const i={href:Dx(n.url||"")};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"a",i,Bs(e,t))}function PW(e,t){const n={href:Dx(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,Bs(e,t))}function TW(e,t,n){const i=Bs(e,t),s=n?IW(n):iL(t),l={},a=[];if(typeof t.checked=="boolean"){let P;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?P=i[0]:(P=e(null,"p",[]),i.unshift(P)),P.children.length>0&&P.children.unshift(Na("text"," ")),P.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),l.className=["task-list-item"]}let x=-1;for(;++x<i.length;){const P=i[x];(s||x!==0||P.type!=="element"||P.tagName!=="p")&&a.push(Na("text",`
`)),P.type==="element"&&P.tagName==="p"&&!s?a.push(...P.children):a.push(P)}const S=i[i.length-1];return S&&(s||!("tagName"in S)||S.tagName!=="p")&&a.push(Na("text",`
`)),e(t,"li",l,a)}function IW(e){let t=e.spread;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=iL(n[i]);return!!t}function iL(e){const t=e.spread;return t??e.children.length>1}function MW(e,t){const n={},i=t.ordered?"ol":"ul",s=Bs(e,t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<s.length;){const a=s[l];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,i,n,_p(s,!0))}function OW(e,t){return e(t,"p",Bs(e,t))}function LW(e,t){return e.augment(t,Na("root",_p(Bs(e,t))))}function DW(e,t){return e(t,"strong",Bs(e,t))}function RW(e,t){const n=t.children;let i=-1;const s=t.align||[],l=[];for(;++i<n.length;){const a=n[i].children,x=i===0?"th":"td",S=[];let P=-1;const L=t.align?s.length:a.length;for(;++P<L;){const F=a[P];S.push(e(F,x,{align:s[P]},F?Bs(e,F):[]))}l[i]=e(n[i],"tr",_p(S,!0))}return e(t,"table",_p([e(l[0].position,"thead",_p([l[0]],!0))].concat(l[1]?e({start:YO(l[1]),end:JO(l[l.length-1])},"tbody",_p(l.slice(1),!0)):[]),!0))}const W6=9,K6=32;function FW(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const l=[];for(;i;)l.push(Z6(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return l.push(Z6(t.slice(s),s>0,!1)),l.join("")}function Z6(e,t,n){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===W6||l===K6;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(s-1);for(;l===W6||l===K6;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function BW(e,t){return e.augment(t,Na("text",FW(String(t.value))))}function zW(e,t){return e(t,"hr")}const NW={blockquote:dW,break:mW,code:gW,delete:yW,emphasis:vW,footnoteReference:nL,footnote:_W,heading:xW,html:bW,imageReference:SW,image:CW,inlineCode:EW,linkReference:kW,link:PW,listItem:TW,list:MW,paragraph:OW,root:LW,strong:DW,table:RW,text:BW,thematicBreak:zW,toml:_1,yaml:_1,definition:_1,footnoteDefinition:_1};function _1(){return null}const UW={}.hasOwnProperty;function $W(e,t){const n=t||{},i=n.allowDangerousHtml||!1,s={};return a.dangerous=i,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.definition=cW(e),a.footnoteById=s,a.footnoteOrder=[],a.footnoteCounts={},a.augment=l,a.handlers={...NW,...n.handlers},a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,h5(e,"footnoteDefinition",x=>{const S=String(x.identifier).toUpperCase();UW.call(s,S)||(s[S]=x)}),a;function l(x,S){if(x&&"data"in x&&x.data){const P=x.data;P.hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=P.hName),S.type==="element"&&P.hProperties&&(S.properties={...S.properties,...P.hProperties}),"children"in S&&S.children&&P.hChildren&&(S.children=P.hChildren)}if(x){const P="type"in x?x:{position:x};uW(P)||(S.position={start:YO(P),end:JO(P)})}return S}function a(x,S,P,L){return Array.isArray(P)&&(L=P,P={}),l(x,{type:"element",tagName:S,properties:P||{},children:L||[]})}}function oL(e,t){const n=$W(e,t),i=ZO(n,e,null),s=AW(n);return s&&i.children.push(Na("text",`
`),s),Array.isArray(i)?{type:"root",children:i}:i}const jW=function(e,t){return e&&"run"in e?HW(e,t):qW(e||t)},VW=jW;function HW(e,t){return(n,i,s)=>{e.run(oL(n,t),i,l=>{s(l)})}}function qW(e){return t=>oL(t,e)}class ky{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}ky.prototype.property={};ky.prototype.normal={};ky.prototype.space=null;function aL(e,t){const n={},i={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(i,e[s].normal);return new ky(n,i,t)}function RS(e){return e.toLowerCase()}class ju{constructor(t,n){this.property=t,this.attribute=n}}ju.prototype.space=null;ju.prototype.boolean=!1;ju.prototype.booleanish=!1;ju.prototype.overloadedBoolean=!1;ju.prototype.number=!1;ju.prototype.commaSeparated=!1;ju.prototype.spaceSeparated=!1;ju.prototype.commaOrSpaceSeparated=!1;ju.prototype.mustUseProperty=!1;ju.prototype.defined=!1;let GW=0;const zr=rd(),Ta=rd(),sL=rd(),on=rd(),wo=rd(),S0=rd(),Vl=rd();function rd(){return 2**++GW}const FS=Object.freeze(Object.defineProperty({__proto__:null,boolean:zr,booleanish:Ta,commaOrSpaceSeparated:Vl,commaSeparated:S0,number:on,overloadedBoolean:sL,spaceSeparated:wo},Symbol.toStringTag,{value:"Module"})),Lw=Object.keys(FS);class A5 extends ju{constructor(t,n,i,s){let l=-1;if(super(t,n),X6(this,"space",s),typeof i=="number")for(;++l<Lw.length;){const a=Lw[l];X6(this,Lw[l],(i&FS[a])===FS[a])}}}A5.prototype.defined=!0;function X6(e,t,n){n&&(e[t]=n)}const QW={}.hasOwnProperty;function G0(e){const t={},n={};let i;for(i in e.properties)if(QW.call(e.properties,i)){const s=e.properties[i],l=new A5(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[RS(i)]=i,n[RS(l.attribute)]=i}return new ky(t,n,e.space)}const lL=G0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uL=G0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cL(e,t){return t in e?e[t]:t}function fL(e,t){return cL(e,t.toLowerCase())}const pL=G0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:fL,properties:{xmlns:null,xmlnsXLink:null}}),hL=G0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ta,ariaAutoComplete:null,ariaBusy:Ta,ariaChecked:Ta,ariaColCount:on,ariaColIndex:on,ariaColSpan:on,ariaControls:wo,ariaCurrent:null,ariaDescribedBy:wo,ariaDetails:null,ariaDisabled:Ta,ariaDropEffect:wo,ariaErrorMessage:null,ariaExpanded:Ta,ariaFlowTo:wo,ariaGrabbed:Ta,ariaHasPopup:null,ariaHidden:Ta,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wo,ariaLevel:on,ariaLive:null,ariaModal:Ta,ariaMultiLine:Ta,ariaMultiSelectable:Ta,ariaOrientation:null,ariaOwns:wo,ariaPlaceholder:null,ariaPosInSet:on,ariaPressed:Ta,ariaReadOnly:Ta,ariaRelevant:null,ariaRequired:Ta,ariaRoleDescription:wo,ariaRowCount:on,ariaRowIndex:on,ariaRowSpan:on,ariaSelected:Ta,ariaSetSize:on,ariaSort:null,ariaValueMax:on,ariaValueMin:on,ariaValueNow:on,ariaValueText:null,role:null}}),WW=G0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:fL,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:S0,acceptCharset:wo,accessKey:wo,action:null,allow:null,allowFullScreen:zr,allowPaymentRequest:zr,allowUserMedia:zr,alt:null,as:null,async:zr,autoCapitalize:null,autoComplete:wo,autoFocus:zr,autoPlay:zr,capture:zr,charSet:null,checked:zr,cite:null,className:wo,cols:on,colSpan:null,content:null,contentEditable:Ta,controls:zr,controlsList:wo,coords:on|S0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zr,defer:zr,dir:null,dirName:null,disabled:zr,download:sL,draggable:Ta,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zr,formTarget:null,headers:wo,height:on,hidden:zr,high:on,href:null,hrefLang:null,htmlFor:wo,httpEquiv:wo,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:zr,itemId:null,itemProp:wo,itemRef:wo,itemScope:zr,itemType:wo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zr,low:on,manifest:null,max:null,maxLength:on,media:null,method:null,min:null,minLength:on,multiple:zr,muted:zr,name:null,nonce:null,noModule:zr,noValidate:zr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zr,optimum:on,pattern:null,ping:wo,placeholder:null,playsInline:zr,poster:null,preload:null,readOnly:zr,referrerPolicy:null,rel:wo,required:zr,reversed:zr,rows:on,rowSpan:on,sandbox:wo,scope:null,scoped:zr,seamless:zr,selected:zr,shape:null,size:on,sizes:null,slot:null,span:on,spellCheck:Ta,src:null,srcDoc:null,srcLang:null,srcSet:null,start:on,step:null,style:null,tabIndex:on,target:null,title:null,translate:null,type:null,typeMustMatch:zr,useMap:null,value:Ta,width:on,wrap:null,align:null,aLink:null,archive:wo,axis:null,background:null,bgColor:null,border:on,borderColor:null,bottomMargin:on,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zr,declare:zr,event:null,face:null,frame:null,frameBorder:null,hSpace:on,leftMargin:on,link:null,longDesc:null,lowSrc:null,marginHeight:on,marginWidth:on,noResize:zr,noHref:zr,noShade:zr,noWrap:zr,object:null,profile:null,prompt:null,rev:null,rightMargin:on,rules:null,scheme:null,scrolling:Ta,standby:null,summary:null,text:null,topMargin:on,valueType:null,version:null,vAlign:null,vLink:null,vSpace:on,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zr,disableRemotePlayback:zr,prefix:null,property:null,results:on,security:null,unselectable:null}}),KW=G0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cL,properties:{about:Vl,accentHeight:on,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:on,amplitude:on,arabicForm:null,ascent:on,attributeName:null,attributeType:null,azimuth:on,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:on,by:null,calcMode:null,capHeight:on,className:wo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:on,diffuseConstant:on,direction:null,display:null,dur:null,divisor:on,dominantBaseline:null,download:zr,dx:null,dy:null,edgeMode:null,editable:null,elevation:on,enableBackground:null,end:null,event:null,exponent:on,externalResourcesRequired:null,fill:null,fillOpacity:on,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:S0,g2:S0,glyphName:S0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:on,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:on,horizOriginX:on,horizOriginY:on,id:null,ideographic:on,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:on,k:on,k1:on,k2:on,k3:on,k4:on,kernelMatrix:Vl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:on,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:on,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:on,overlineThickness:on,paintOrder:null,panose1:null,path:null,pathLength:on,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:on,pointsAtY:on,pointsAtZ:on,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vl,rev:Vl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vl,requiredFeatures:Vl,requiredFonts:Vl,requiredFormats:Vl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:on,specularExponent:on,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:on,strikethroughThickness:on,string:null,stroke:null,strokeDashArray:Vl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:on,strokeOpacity:on,strokeWidth:null,style:null,surfaceScale:on,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vl,tabIndex:on,tableValues:null,target:null,targetX:on,targetY:on,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vl,to:null,transform:null,u1:null,u2:null,underlinePosition:on,underlineThickness:on,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:on,values:null,vAlphabetic:on,vMathematical:on,vectorEffect:null,vHanging:on,vIdeographic:on,version:null,vertAdvY:on,vertOriginX:on,vertOriginY:on,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:on,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ZW=/^data[-\w.:]+$/i,Y6=/-[a-z]/g,XW=/[A-Z]/g;function YW(e,t){const n=RS(t);let i=t,s=ju;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZW.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Y6,eK);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Y6.test(l)){let a=l.replace(XW,JW);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=A5}return new s(i,t)}function JW(e){return"-"+e.toLowerCase()}function eK(e){return e.charAt(1).toUpperCase()}const J6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tK=aL([uL,lL,pL,hL,WW],"html"),nK=aL([uL,lL,pL,hL,KW],"svg");function rK(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{h5(t,"element",(n,i,s)=>{const l=s;let a;if(e.allowedElements?a=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(n.tagName)),!a&&e.allowElement&&typeof i=="number"&&(a=!e.allowElement(n,i,l)),a&&typeof i=="number")return e.unwrapDisallowed&&n.children?l.children.splice(i,1,...n.children):l.children.splice(i,1),i})}}function iK(e){var t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function oK(e){return e.join(" ").trim()}function aK(e,t){var n=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var e2={},sK={get exports(){return e2},set exports(e){e2=e}},e8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lK=/\n/g,uK=/^\s*/,cK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,fK=/^:\s*/,pK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hK=/^[;\s]*/,AK=/^\s+|\s+$/g,dK=`
`,t8="/",n8="*",TA="",mK="comment",gK="declaration",yK=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function s(q){var K=q.match(lK);K&&(n+=K.length);var te=q.lastIndexOf(dK);i=~te?q.length-te:i+q.length}function l(){var q={line:n,column:i};return function(K){return K.position=new a(q),P(),K}}function a(q){this.start=q,this.end={line:n,column:i},this.source=t.source}a.prototype.content=e;function x(q){var K=new Error(t.source+":"+n+":"+i+": "+q);if(K.reason=q,K.filename=t.source,K.line=n,K.column=i,K.source=e,!t.silent)throw K}function S(q){var K=q.exec(e);if(K){var te=K[0];return s(te),e=e.slice(te.length),K}}function P(){S(uK)}function L(q){var K;for(q=q||[];K=F();)K!==!1&&q.push(K);return q}function F(){var q=l();if(!(t8!=e.charAt(0)||n8!=e.charAt(1))){for(var K=2;TA!=e.charAt(K)&&(n8!=e.charAt(K)||t8!=e.charAt(K+1));)++K;if(K+=2,TA===e.charAt(K-1))return x("End of comment missing");var te=e.slice(2,K-2);return i+=2,s(te),e=e.slice(K),i+=2,q({type:mK,comment:te})}}function N(){var q=l(),K=S(cK);if(K){if(F(),!S(fK))return x("property missing ':'");var te=S(pK),V=q({type:gK,property:r8(K[0].replace(e8,TA)),value:te?r8(te[0].replace(e8,TA)):TA});return S(hK),V}}function $(){var q=[];L(q);for(var K;K=N();)K!==!1&&(q.push(K),L(q));return q}return P(),$()};function r8(e){return e?e.replace(AK,TA):TA}var vK=yK;function AL(e,t){var n=null;if(!e||typeof e!="string")return n;for(var i,s=vK(e),l=typeof t=="function",a,x,S=0,P=s.length;S<P;S++)i=s[S],a=i.property,x=i.value,l?t(a,x,i):x&&(n||(n={}),n[a]=x);return n}sK.exports=AL;e2.default=AL;const _K=e2,BS={}.hasOwnProperty,xK=new Set(["table","thead","tbody","tfoot","tr"]);function dL(e,t){const n=[];let i=-1,s;for(;++i<t.children.length;)s=t.children[i],s.type==="element"?n.push(bK(e,s,i,t)):s.type==="text"?(t.type!=="element"||!xK.has(t.tagName)||!iK(s))&&n.push(s.value):s.type==="raw"&&!e.options.skipHtml&&n.push(s.value);return n}function bK(e,t,n,i){const s=e.options,l=s.transformLinkUri===void 0?Rq:s.transformLinkUri,a=e.schema,x=t.tagName,S={};let P=a,L;if(a.space==="html"&&x==="svg"&&(P=nK,e.schema=P),t.properties)for(L in t.properties)BS.call(t.properties,L)&&SK(S,L,t.properties[L],e);(x==="ol"||x==="ul")&&e.listDepth++;const F=dL(e,t);(x==="ol"||x==="ul")&&e.listDepth--,e.schema=a;const N=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},$=s.components&&BS.call(s.components,x)?s.components[x]:x,q=typeof $=="string"||$===qn.Fragment;if(!TH.isValidElementType($))throw new TypeError(`Component for name \`${x}\` not defined or is not renderable`);if(S.key=[x,N.start.line,N.start.column,n].join("-"),x==="a"&&s.linkTarget&&(S.target=typeof s.linkTarget=="function"?s.linkTarget(String(S.href||""),t.children,typeof S.title=="string"?S.title:null):s.linkTarget),x==="a"&&l&&(S.href=l(String(S.href||""),t.children,typeof S.title=="string"?S.title:null)),!q&&x==="code"&&i.type==="element"&&i.tagName!=="pre"&&(S.inline=!0),!q&&(x==="h1"||x==="h2"||x==="h3"||x==="h4"||x==="h5"||x==="h6")&&(S.level=Number.parseInt(x.charAt(1),10)),x==="img"&&s.transformImageUri&&(S.src=s.transformImageUri(String(S.src||""),String(S.alt||""),typeof S.title=="string"?S.title:null)),!q&&x==="li"&&i.type==="element"){const K=wK(t);S.checked=K&&K.properties?!!K.properties.checked:null,S.index=Dw(i,t),S.ordered=i.tagName==="ol"}return!q&&(x==="ol"||x==="ul")&&(S.ordered=x==="ol",S.depth=e.listDepth),(x==="td"||x==="th")&&(S.align&&(S.style||(S.style={}),S.style.textAlign=S.align,delete S.align),q||(S.isHeader=x==="th")),!q&&x==="tr"&&i.type==="element"&&(S.isHeader=i.tagName==="thead"),s.sourcePos&&(S["data-sourcepos"]=kK(N)),!q&&s.rawSourcePos&&(S.sourcePosition=t.position),!q&&s.includeElementIndex&&(S.index=Dw(i,t),S.siblingCount=Dw(i)),q||(S.node=t),F.length>0?qn.createElement($,S,F):qn.createElement($,S)}function wK(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function Dw(e,t){let n=-1,i=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&i++;return i}function SK(e,t,n,i){const s=YW(i.schema,t);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=s.commaSeparated?aK(l):oK(l)),s.property==="style"&&typeof l=="string"&&(l=CK(l)),s.space&&s.property?e[BS.call(J6,s.property)?J6[s.property]:s.property]=l:s.attribute&&(e[s.attribute]=l))}function CK(e){const t={};try{_K(e,n)}catch{}return t;function n(i,s){const l=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[l.replace(/-([a-z])/g,EK)]=s}}function EK(e,t){return t.toUpperCase()}function kK(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const i8={}.hasOwnProperty,PK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function mL(e){for(const l in x1)if(i8.call(x1,l)&&i8.call(e,l)){const a=x1[l];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${l}\` (see <${PK}#${a.id}> for more info)`),delete x1[l]}const t=Kq().use(YQ).use(e.remarkPlugins||[]).use(VW,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(rK,e),n=new DO;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(n),n);if(i.type!=="root")throw new TypeError("Expected a `root` node");let s=qn.createElement(qn.Fragment,{},dL({options:e,schema:tK,listDepth:0},i));return e.className&&(s=qn.createElement("div",{className:e.className},s)),s}mL.propTypes={children:ur.string,className:ur.string,allowElement:ur.func,allowedElements:ur.arrayOf(ur.string),disallowedElements:ur.arrayOf(ur.string),unwrapDisallowed:ur.bool,remarkPlugins:ur.arrayOf(ur.oneOfType([ur.object,ur.func,ur.arrayOf(ur.oneOfType([ur.bool,ur.string,ur.object,ur.func,ur.arrayOf(ur.any)]))])),rehypePlugins:ur.arrayOf(ur.oneOfType([ur.object,ur.func,ur.arrayOf(ur.oneOfType([ur.bool,ur.string,ur.object,ur.func,ur.arrayOf(ur.any)]))])),sourcePos:ur.bool,rawSourcePos:ur.bool,skipHtml:ur.bool,includeElementIndex:ur.bool,transformLinkUri:ur.oneOfType([ur.func,ur.bool]),linkTarget:ur.oneOfType([ur.func,ur.string]),transformImageUri:ur.func,components:ur.object};function zS(){return zS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zS.apply(this,arguments)}var TK=["decorators"],IK=0;function MK(e,t,n){n===void 0&&(n="primitive"+ ++IK),t!=null||(t={set:function(L,F){return F},change:function(L,F){return F(L)}});var i=ty(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,a=function(L,F){if(L==null)return{};var N,$,q={},K=Object.keys(L);for($=0;$<K.length;$++)F.indexOf(N=K[$])>=0||(q[N]=L[N]);return q}(i,TK);(l=l.slice()).unshift(function(L){return function(F,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),F.actions.forEach(function(q){var K,te=P.indexOf(q.type);te!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(K=t)[x[te]].apply(K,[N.state].concat(q.payload)))}),N}});var x=Object.keys(t),S=Cy(x.reduce(function(L,F){return L[F]=function(){return[].slice.call(arguments)},L},{}),s5,zS({decorators:l},a)),P=x.map(function(L){return S[L].type});return S}var OK=0;function LK(e,t){return e===void 0&&(e=!1),t===void 0&&(t="boolean"+ ++OK),MK(e,{toggle:function(n){return!n},setTrue:function(){return!0},setFalse:function(){return!1},change:function(n,i){return i(n)},set:function(n,i){return i}},t)}function NS(){return NS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},NS.apply(this,arguments)}var DK=["decorators"],RK=0;function gL(e,t,n){n===void 0&&(n="primitive"+ ++RK),t!=null||(t={set:function(L,F){return F},change:function(L,F){return F(L)}});var i=ty(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,a=function(L,F){if(L==null)return{};var N,$,q={},K=Object.keys(L);for($=0;$<K.length;$++)F.indexOf(N=K[$])>=0||(q[N]=L[N]);return q}(i,DK);(l=l.slice()).unshift(function(L){return function(F,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),F.actions.forEach(function(q){var K,te=P.indexOf(q.type);te!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(K=t)[x[te]].apply(K,[N.state].concat(q.payload)))}),N}});var x=Object.keys(t),S=Cy(x.reduce(function(L,F){return L[F]=function(){return[].slice.call(arguments)},L},{}),s5,NS({decorators:l},a)),P=x.map(function(L){return S[L].type});return S}const FK={APP_LOGIN:"app_login",ANALYTICS_PANEL:"analytics_panel",ADVANCED_ANALYTICS_PANEL:"advanced_analytics_panel",EVENTS_LIST:"events_list",FEED_SELECTOR:"feed_selector",EVENTS_LIST__FEED_SELECTOR:"events_list__feed_selector",EVENTS_LIST__BBOX_FILTER:"events_list__bbox_filter",MAP_LAYERS_PANEL:"map_layers_panel",SIDE_BAR:"side_bar",BIVARIATE_MANAGER:"bivariate_manager",CURRENT_EVENT:"current_event",FOCUSED_GEOMETRY_LAYER:"focused_geometry_layer",LAYERS_IN_AREA:"layers_in_area",MAP_RULER:"map_ruler",TOASTS:"toasts",BOUNDARY_SELECTOR:"boundary_selector",DRAW_TOOLS:"draw_tools",FOCUSED_GEOMETRY_EDITOR:"focused_geometry_editor",GEOMETRY_UPLOADER:"geometry_uploader",LEGEND_PANEL:"legend_panel",REPORTS:"reports",INTERACTIVE_MAP:"interactive_map",CURRENT_EPISODE:"current_episode",GEOCODER:"geocoder",EPISODE_LIST:"episode_list",COMMUNITIES:"communities",FEATURE_SETTINGS:"feature_settings",OSM_EDIT_LINK:"osm_edit_link",TOOLTIP:"tooltip",CREATE_LAYER:"create_layer",HEADER:"header",INTERCOM:"intercom",BIVARIATE_COLOR_MANAGER:"bivariate_color_manager",EPISODES_TIMELINE:"episodes_timeline",LOCATE_ME:"locate_me",USE_3RDPARTY_ANALYTICS:"use_3rdparty_analytics",LIVE_SENSOR:"live_sensor",MCDA:"mcda"},BK="METRICS";function zK(e,t){if(!globalThis.CustomEvent)return;const n=new CustomEvent(BK,{detail:{name:e,payload:t}});globalThis.dispatchEvent(n)}var bP;const Rx=!!((bP=globalThis.window)!=null&&bP.localStorage.getItem("KONTUR_DEBUG"));var wP;(wP=globalThis.window)!=null&&wP.localStorage.getItem("KONTUR_METRICS_DEBUG");var SP;const NK=!!((SP=globalThis.window)!=null&&SP.localStorage.getItem("KONTUR_WARN"));var CP;const o8=(CP=globalThis.window)==null?void 0:CP.localStorage.getItem("KONTUR_TRACE_TYPE");var EP;const UK=!!((EP=globalThis.window)!=null&&EP.localStorage.getItem("KONTUR_TRACE_PATCH"));function $K(e){var n;const t=`\x1B[94m${Math.trunc(performance.now())}\x1B[m `;(n=e.actions.filter(i=>!i.type.startsWith("invalidate ")))==null||n.map(i=>{var s;if(((s=i.targets)==null?void 0:s.length)===1){const l=String(i.targets[0].id);if(i.type.endsWith(l)){const a=i.type.substring(0,i.type.length-l.length-1),x={_error:"\x1B[30;101m",_done:"\x1B[30;102m"}[a]??"\x1B[22;31m";console.warn(`${t}\x1B[1;32m${l} ${x}${a}\x1B[m`,i.payload,{"+":e.causes})}}else console.warn(`${t}\x1B[1;32m${i.type}\x1B[m`,i.payload,i.targets,{"+":e.causes})})}function jK(){return IO({onPatch:e=>{{UK&&$K(e);for(const t of e.actions)t.type.includes("invalidate")||(zK(t.type,t.payload),o8&&t.type.includes(o8)&&console.trace("TRACE:",t.type,e),Rx&&console.debug(t.type,t.payload),NK&&console.warn(t.type,t.payload))}}})}const yL=jK(),Fx=e=>({store:yL,...typeof e=="string"?{id:e}:e}),Oo=(e,t,n)=>Cy(e,t,Fx(n)),vL=(e,t)=>LK(e,Fx(t));let _L=0;function xL(e=new Set,t=`set${++_L}`){return gL(e,{set:(n,i)=>n.has(i)?n:new Set(n).add(i),delete:(n,i)=>{const s=n=new Set(n);return s.delete(i)?s:n},clear:()=>new Set,change:(n,i)=>i(new Set(n))},Fx(t))}function Q0(e=new Map,t=`map${++_L}`){return gL(e,{set:(n,i,s)=>n.get(i)===s?n:new Map(n).set(i,s),delete:(n,i)=>{const s=n=new Map(n);return s.delete(i)?s:n},clear:()=>new Map,change:(n,i)=>i(new Map(n))},Fx(t))}const ry=Oo({setCurrentTooltip:e=>e,resetCurrentTooltip:()=>null,turnOffById:e=>e},({onAction:e},t=null)=>(e("setCurrentTooltip",n=>t=n),e("resetCurrentTooltip",()=>t=null),e("turnOffById",n=>{(t==null?void 0:t.initiatorId)===n&&(t=null)}),t),"[Shared state] currentTooltipAtom");function VK(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function HK(e,t){e.classList?e.classList.add(t):VK(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function a8(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function qK(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=a8(e.className,t):e.setAttribute("class",a8(e.className&&e.className.baseVal||"",t))}const s8={disabled:!1},bL=qn.createContext(null);var wL=function(t){return t.scrollTop},tg="unmounted",EA="exited",kA="entering",Zd="entered",US="exiting",Pp=function(e){zu(t,e);function t(i,s){var l;l=e.call(this,i,s)||this;var a=s,x=a&&!a.isMounting?i.enter:i.appear,S;return l.appearStatus=null,i.in?x?(S=EA,l.appearStatus=kA):S=Zd:i.unmountOnExit||i.mountOnEnter?S=tg:S=EA,l.state={status:S},l.nextCallback=null,l}t.getDerivedStateFromProps=function(s,l){var a=s.in;return a&&l.status===tg?{status:EA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var l=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==kA&&a!==Zd&&(l=kA):(a===kA||a===Zd)&&(l=US)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,l,a,x;return l=a=x=s,s!=null&&typeof s!="number"&&(l=s.exit,a=s.enter,x=s.appear!==void 0?s.appear:a),{exit:l,enter:a,appear:x}},n.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===kA){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:i1.findDOMNode(this);a&&wL(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EA&&this.setState({status:tg})},n.performEnter=function(s){var l=this,a=this.props.enter,x=this.context?this.context.isMounting:s,S=this.props.nodeRef?[x]:[i1.findDOMNode(this),x],P=S[0],L=S[1],F=this.getTimeouts(),N=x?F.appear:F.enter;if(!s&&!a||s8.disabled){this.safeSetState({status:Zd},function(){l.props.onEntered(P)});return}this.props.onEnter(P,L),this.safeSetState({status:kA},function(){l.props.onEntering(P,L),l.onTransitionEnd(N,function(){l.safeSetState({status:Zd},function(){l.props.onEntered(P,L)})})})},n.performExit=function(){var s=this,l=this.props.exit,a=this.getTimeouts(),x=this.props.nodeRef?void 0:i1.findDOMNode(this);if(!l||s8.disabled){this.safeSetState({status:EA},function(){s.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:US},function(){s.props.onExiting(x),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:EA},function(){s.props.onExited(x)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},n.setNextCallback=function(s){var l=this,a=!0;return this.nextCallback=function(x){a&&(a=!1,l.nextCallback=null,s(x))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,l){this.setNextCallback(l);var a=this.props.nodeRef?this.props.nodeRef.current:i1.findDOMNode(this),x=s==null&&!this.props.addEndListener;if(!a||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],P=S[0],L=S[1];this.props.addEndListener(P,L)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===tg)return null;var l=this.props,a=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var x=nd(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qn.createElement(bL.Provider,{value:null},typeof a=="function"?a(s,x):qn.cloneElement(qn.Children.only(a),x))},t}(qn.Component);Pp.contextType=bL;Pp.propTypes={};function jd(){}Pp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jd,onEntering:jd,onEntered:jd,onExit:jd,onExiting:jd,onExited:jd};Pp.UNMOUNTED=tg;Pp.EXITED=EA;Pp.ENTERING=kA;Pp.ENTERED=Zd;Pp.EXITING=US;const GK=Pp;var QK=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return HK(t,i)})},Rw=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return qK(t,i)})},d5=function(e){zu(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(x,S){var P=i.resolveArguments(x,S),L=P[0],F=P[1];i.removeClasses(L,"exit"),i.addClass(L,F?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(x,S)},i.onEntering=function(x,S){var P=i.resolveArguments(x,S),L=P[0],F=P[1],N=F?"appear":"enter";i.addClass(L,N,"active"),i.props.onEntering&&i.props.onEntering(x,S)},i.onEntered=function(x,S){var P=i.resolveArguments(x,S),L=P[0],F=P[1],N=F?"appear":"enter";i.removeClasses(L,N),i.addClass(L,N,"done"),i.props.onEntered&&i.props.onEntered(x,S)},i.onExit=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"appear"),i.removeClasses(P,"enter"),i.addClass(P,"exit","base"),i.props.onExit&&i.props.onExit(x)},i.onExiting=function(x){var S=i.resolveArguments(x),P=S[0];i.addClass(P,"exit","active"),i.props.onExiting&&i.props.onExiting(x)},i.onExited=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"exit"),i.addClass(P,"exit","done"),i.props.onExited&&i.props.onExited(x)},i.resolveArguments=function(x,S){return i.props.nodeRef?[i.props.nodeRef.current,x]:[x,S]},i.getClassNames=function(x){var S=i.props.classNames,P=typeof S=="string",L=P&&S?S+"-":"",F=P?""+L+x:S[x],N=P?F+"-active":S[x+"Active"],$=P?F+"-done":S[x+"Done"];return{baseClassName:F,activeClassName:N,doneClassName:$}},i}var n=t.prototype;return n.addClass=function(s,l,a){var x=this.getClassNames(l)[a+"ClassName"],S=this.getClassNames("enter"),P=S.doneClassName;l==="appear"&&a==="done"&&P&&(x+=" "+P),a==="active"&&s&&wL(s),x&&(this.appliedClasses[l][a]=x,QK(s,x))},n.removeClasses=function(s,l){var a=this.appliedClasses[l],x=a.base,S=a.active,P=a.done;this.appliedClasses[l]={},x&&Rw(s,x),S&&Rw(s,S),P&&Rw(s,P)},n.render=function(){var s=this.props;s.classNames;var l=nd(s,["classNames"]);return qn.createElement(GK,xs({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(qn.Component);d5.defaultProps={classNames:""};d5.propTypes={};const WK=d5;function Bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const KK="_fadeEnter_1fjeq_1",ZK="_fadeEnterActive_1fjeq_5",XK="_fadeExit_1fjeq_10",YK="_fadeExitActive_1fjeq_14",b1={fadeEnter:KK,fadeEnterActive:ZK,fadeExit:XK,fadeExitActive:YK},JK={enter:b1.fadeEnter,enterActive:b1.fadeEnterActive,exit:b1.fadeExit,exitActive:b1.fadeExitActive},eZ=({children:e,...t})=>{const n=jt.useRef(null);return _t(WK,{...t,nodeRef:n,children:e(n)})};function tZ(e){if(!e)return"";let t=e;const n=/(.?.?https|.?.?http)(:\/\/)([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm,i=e.matchAll(n);let s=0;return[...i].forEach(l=>{const[a,x,,S,P]=l,L=l.index??0,F=a.length;if(a.startsWith("](")||a.indexOf("[http")>-1)return;const N=a.indexOf("http"),$=a.substring(N),q=a.substring(0,N),K=S.replace("www.",""),te=`${q}[${K}${P??""}](${$})`,V=nZ(t)(L+s,F,te);s+=te.length-F,t=V}),t}function nZ(e){return function(t,n,i){return t<0&&(t+=e.length,t<0&&(t=0)),e.slice(0,t)+(i||"")+e.slice(t+n)}}const SL=jt.memo(function(e){return _t("a",{href:e.href,target:"_blank",rel:"noreferrer",onClick:rZ,children:e.children})});function rZ(e){e.stopPropagation()}SL.displayName="LinkRenderer";const l8=dO(),iZ=Oo({_set:e=>e},({onAction:e,onInit:t,schedule:n,create:i},s=l8.location)=>(t(()=>{n(l=>{l8.listen(a=>{l(i("_set",a))})})}),e("_set",l=>s=l),s),"currentLocationAtom"),oZ=Oo({currentLocationAtom:iZ},({onChange:e,schedule:t,getUnlistedState:n})=>{e("currentLocationAtom",(i,s)=>{const l=n(ry);i.pathname!==(s==null?void 0:s.pathname)&&(l!=null&&l.position)&&t(a=>{a(ry.resetCurrentTooltip())})})}),aZ="_markdown_mj6ia_1",sZ={markdown:aZ};function CL(){const[e,{resetCurrentTooltip:t}]=m6(ry);m6(oZ);const n=jt.useCallback(s=>{var l;t(),(l=e==null?void 0:e.onClose)==null||l.call(e,s,t)},[t,e]),i=jt.useCallback(s=>{var l;(l=e==null?void 0:e.onOuterClick)==null||l.call(e,s,t)},[t,e]);return _t(eZ,{in:!!e,timeout:300,classNames:JK,children:s=>_t(X2,{children:e&&_t(sH,{transitionRef:s,position:e.position,hoverBehavior:e.hoverBehavior,getPlacement:e.position.predefinedPosition,classes:e.popupClasses,onClose:n,onOuterClick:i,children:typeof e.popup=="string"?_t(mL,{components:{a:SL},className:sZ.markdown,children:tZ(e.popup)}):e.popup})})})}function Pc(e){return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lZ(e,t){if(Pc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Pc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EL(e){var t=lZ(e,"string");return Pc(t)==="symbol"?t:String(t)}function u8(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,EL(i.key),i)}}function Hu(e,t,n){return t&&u8(e.prototype,t),n&&u8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Py(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bh(e)}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function Tp(e,t,n){return t=EL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){if(Array.isArray(e))return e}function cZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fZ(e,t){if(e){if(typeof e=="string")return c8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(e,t)}}function pZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(e){return uZ(e)||cZ(e)||fZ(e)||pZ()}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function p8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var AZ={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},dZ=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vu(this,e),this.init(t,n)}return Hu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=n||AZ,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,i,s,l){return l&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[i](n))}},{key:"create",value:function(n){return new e(this.logger,p8(p8({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),vf=new dZ,jh=function(){function e(){Vu(this,e),this.observers={}}return Hu(e,[{key:"on",value:function(n,i){var s=this;return n.split(" ").forEach(function(l){s.observers[l]=s.observers[l]||[],s.observers[l].push(i)}),this}},{key:"off",value:function(n,i){if(this.observers[n]){if(!i){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==i})}}},{key:"emit",value:function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(S){S.apply(void 0,s)})}if(this.observers["*"]){var x=[].concat(this.observers["*"]);x.forEach(function(S){S.apply(S,[n].concat(s))})}}}]),e}();function jm(){var e,t,n=new Promise(function(i,s){e=i,t=s});return n.resolve=e,n.reject=t,n}function h8(e){return e==null?"":""+e}function mZ(e,t,n){e.forEach(function(i){t[i]&&(n[i]=t[i])})}function m5(e,t,n){function i(x){return x&&x.indexOf("###")>-1?x.replace(/###/g,"."):x}function s(){return!e||typeof e=="string"}for(var l=typeof t!="string"?[].concat(t):t.split(".");l.length>1;){if(s())return{};var a=i(l.shift());!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return s()?{}:{obj:e,k:i(l.shift())}}function A8(e,t,n){var i=m5(e,t,Object),s=i.obj,l=i.k;s[l]=n}function gZ(e,t,n,i){var s=m5(e,t,Object),l=s.obj,a=s.k;l[a]=l[a]||[],i&&(l[a]=l[a].concat(n)),i||l[a].push(n)}function t2(e,t){var n=m5(e,t),i=n.obj,s=n.k;if(i)return i[s]}function d8(e,t,n){var i=t2(e,n);return i!==void 0?i:t2(t,n)}function kL(e,t,n){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?n&&(e[i]=t[i]):kL(e[i],t[i],n):e[i]=t[i]);return e}function Vd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function vZ(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return yZ[t]}):e}var zx=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,_Z=[" ",",","?","!",";"];function xZ(e,t,n){t=t||"",n=n||"";var i=_Z.filter(function(x){return t.indexOf(x)<0&&n.indexOf(x)<0});if(i.length===0)return!0;var s=new RegExp("(".concat(i.map(function(x){return x==="?"?"\\?":x}).join("|"),")")),l=!s.test(e);if(!l){var a=e.indexOf(n);a>0&&!s.test(e.substring(0,a))&&(l=!0)}return l}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function w1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function bZ(e){var t=wZ();return function(){var i=Cf(e),s;if(t){var l=Cf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Py(this,s)}}function wZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PL(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),s=e,l=0;l<i.length;++l){if(!s||typeof s[i[l]]=="string"&&l+1<i.length)return;if(s[i[l]]===void 0){for(var a=2,x=i.slice(l,l+a).join(n),S=s[x];S===void 0&&i.length>l+a;)a++,x=i.slice(l,l+a).join(n),S=s[x];if(S===void 0)return;if(S===null)return null;if(t.endsWith(x)){if(typeof S=="string")return S;if(x&&typeof S[x]=="string")return S[x]}var P=i.slice(l+a).join(n);return P?PL(S,P,n):void 0}s=s[i[l]]}return s}}var SZ=function(e){Bx(n,e);var t=bZ(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Vu(this,n),s=t.call(this),zx&&jh.call(Bh(s)),s.data=i||{},s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Hu(n,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,P=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure,L=[s,l];a&&typeof a!="string"&&(L=L.concat(a)),a&&typeof a=="string"&&(L=L.concat(S?a.split(S):a)),s.indexOf(".")>-1&&(L=s.split("."));var F=t2(this.data,L);return F||!P||typeof a!="string"?F:PL(this.data&&this.data[s]&&this.data[s][l],a,S)}},{key:"addResource",value:function(s,l,a,x){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},P=this.options.keySeparator;P===void 0&&(P=".");var L=[s,l];a&&(L=L.concat(P?a.split(P):a)),s.indexOf(".")>-1&&(L=s.split("."),x=l,l=L[1]),this.addNamespaces(l),A8(this.data,L,x),S.silent||this.emit("added",s,l,a,x)}},{key:"addResources",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in a)(typeof a[S]=="string"||Object.prototype.toString.apply(a[S])==="[object Array]")&&this.addResource(s,l,S,a[S],{silent:!0});x.silent||this.emit("added",s,l,a)}},{key:"addResourceBundle",value:function(s,l,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},L=[s,l];s.indexOf(".")>-1&&(L=s.split("."),x=a,a=l,l=L[1]),this.addNamespaces(l);var F=t2(this.data,L)||{};x?kL(F,a,S):F=w1(w1({},F),a),A8(this.data,L,F),P.silent||this.emit("added",s,l,a)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?w1(w1({},{}),this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var l=this.getDataByLanguage(s),a=l&&Object.keys(l)||[];return!!a.find(function(x){return l[x]&&Object.keys(l[x]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(jh),TL={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,i,s,l){var a=this;return t.forEach(function(x){a.processors[x]&&(n=a.processors[x].process(n,i,s,l))}),n}};function g8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function CZ(e){var t=EZ();return function(){var i=Cf(e),s;if(t){var l=Cf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Py(this,s)}}function EZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var y8={},v8=function(e){Bx(n,e);var t=CZ(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Vu(this,n),s=t.call(this),zx&&jh.call(Bh(s)),mZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,Bh(s)),s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=vf.create("translator"),s}return Hu(n,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var a=this.resolve(s,l);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(s,l){var a=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var x=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,S=l.ns||this.options.defaultNS||[],P=a&&s.indexOf(a)>-1,L=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!xZ(s,a,x);if(P&&!L){var F=s.match(this.interpolator.nestingRegexp);if(F&&F.length>0)return{key:s,namespaces:S};var N=s.split(a);(a!==x||a===x&&this.options.ns.indexOf(N[0])>-1)&&(S=N.shift()),s=N.join(x)}return typeof S=="string"&&(S=[S]),{key:s,namespaces:S}}},{key:"translate",value:function(s,l,a){var x=this;if(Pc(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var S=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,P=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,L=this.extractFromKey(s[s.length-1],l),F=L.key,N=L.namespaces,$=N[N.length-1],q=l.lng||this.language,K=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(q&&q.toLowerCase()==="cimode"){if(K){var te=l.nsSeparator||this.options.nsSeparator;return S?(V.res="".concat($).concat(te).concat(F),V):"".concat($).concat(te).concat(F)}return S?(V.res=F,V):F}var V=this.resolve(s,l),X=V&&V.res,ee=V&&V.usedKey||F,ce=V&&V.exactUsedKey||F,_e=Object.prototype.toString.apply(X),re=["[object Number]","[object Function]","[object RegExp]"],Se=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,Le=!this.i18nFormat||this.i18nFormat.handleAsObject,Ze=typeof X!="string"&&typeof X!="boolean"&&typeof X!="number";if(Le&&X&&Ze&&re.indexOf(_e)<0&&!(typeof Se=="string"&&_e==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var ot=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ee,X,Ys(Ys({},l),{},{ns:N})):"key '".concat(F," (").concat(this.language,")' returned an object instead of string.");return S?(V.res=ot,V):ot}if(P){var We=_e==="[object Array]",ut=We?[]:{},yt=We?ce:ee;for(var Bt in X)if(Object.prototype.hasOwnProperty.call(X,Bt)){var Yt="".concat(yt).concat(P).concat(Bt);ut[Bt]=this.translate(Yt,Ys(Ys({},l),{joinArrays:!1,ns:N})),ut[Bt]===Yt&&(ut[Bt]=X[Bt])}X=ut}}else if(Le&&typeof Se=="string"&&_e==="[object Array]")X=X.join(Se),X&&(X=this.extendTranslation(X,s,l,a));else{var pn=!1,xn=!1,at=l.count!==void 0&&typeof l.count!="string",Me=n.hasDefaultValue(l),Oe=at?this.pluralResolver.getSuffix(q,l.count,l):"",oe=l["defaultValue".concat(Oe)]||l.defaultValue;!this.isValidLookup(X)&&Me&&(pn=!0,X=oe),this.isValidLookup(X)||(xn=!0,X=F);var ge=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Mt=ge&&xn?void 0:X,un=Me&&oe!==X&&this.options.updateMissing;if(xn||pn||un){if(this.logger.log(un?"updateKey":"missingKey",q,$,F,un?oe:X),P){var wn=this.resolve(F,Ys(Ys({},l),{},{keySeparator:!1}));wn&&wn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var dn=[],Cn=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Cn&&Cn[0])for(var $n=0;$n<Cn.length;$n++)dn.push(Cn[$n]);else this.options.saveMissingTo==="all"?dn=this.languageUtils.toResolveHierarchy(l.lng||this.language):dn.push(l.lng||this.language);var Fn=function(jr,Fi,jn){var mi=Me&&jn!==X?jn:Mt;x.options.missingKeyHandler?x.options.missingKeyHandler(jr,$,Fi,mi,un,l):x.backendConnector&&x.backendConnector.saveMissing&&x.backendConnector.saveMissing(jr,$,Fi,mi,un,l),x.emit("missingKey",jr,$,Fi,X)};this.options.saveMissing&&(this.options.saveMissingPlurals&&at?dn.forEach(function(Xr){x.pluralResolver.getSuffixes(Xr,l).forEach(function(jr){Fn([Xr],F+jr,l["defaultValue".concat(jr)]||oe)})}):Fn(dn,F,oe))}X=this.extendTranslation(X,s,l,V,a),xn&&X===F&&this.options.appendNamespaceToMissingKey&&(X="".concat($,":").concat(F)),(xn||pn)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?X=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat($,":").concat(F):F,pn?X:void 0):X=this.options.parseMissingKeyHandler(X))}return S?(V.res=X,V):X}},{key:"extendTranslation",value:function(s,l,a,x,S){var P=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,Ys(Ys({},this.options.interpolation.defaultVariables),a),x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Ys(Ys({},a),{interpolation:Ys(Ys({},this.options.interpolation),a.interpolation)}));var L=typeof s=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),F;if(L){var N=s.match(this.interpolator.nestingRegexp);F=N&&N.length}var $=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&($=Ys(Ys({},this.options.interpolation.defaultVariables),$)),s=this.interpolator.interpolate(s,$,a.lng||this.language,a),L){var q=s.match(this.interpolator.nestingRegexp),K=q&&q.length;F<K&&(a.nest=!1)}a.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var X=arguments.length,ee=new Array(X),ce=0;ce<X;ce++)ee[ce]=arguments[ce];return S&&S[0]===ee[0]&&!a.context?(P.logger.warn("It seems you are nesting recursively key: ".concat(ee[0]," in key: ").concat(l[0])),null):P.translate.apply(P,ee.concat([l]))},a)),a.interpolation&&this.interpolator.reset()}var te=a.postProcess||this.options.postProcess,V=typeof te=="string"?[te]:te;return s!=null&&V&&V.length&&a.applyPostProcessor!==!1&&(s=TL.handle(V,s,l,this.options&&this.options.postProcessPassResolved?Ys({i18nResolved:x},a):a,this)),s}},{key:"resolve",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,S,P,L,F;return typeof s=="string"&&(s=[s]),s.forEach(function(N){if(!l.isValidLookup(x)){var $=l.extractFromKey(N,a),q=$.key;S=q;var K=$.namespaces;l.options.fallbackNS&&(K=K.concat(l.options.fallbackNS));var te=a.count!==void 0&&typeof a.count!="string",V=te&&!a.ordinal&&a.count===0&&l.pluralResolver.shouldUseIntlApi(),X=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",ee=a.lngs?a.lngs:l.languageUtils.toResolveHierarchy(a.lng||l.language,a.fallbackLng);K.forEach(function(ce){l.isValidLookup(x)||(F=ce,!y8["".concat(ee[0],"-").concat(ce)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(F)&&(y8["".concat(ee[0],"-").concat(ce)]=!0,l.logger.warn('key "'.concat(S,'" for languages "').concat(ee.join(", "),`" won't get resolved as namespace "`).concat(F,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ee.forEach(function(_e){if(!l.isValidLookup(x)){L=_e;var re=[q];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(re,q,_e,ce,a);else{var Se;te&&(Se=l.pluralResolver.getSuffix(_e,a.count,a));var Le="".concat(l.options.pluralSeparator,"zero");if(te&&(re.push(q+Se),V&&re.push(q+Le)),X){var Ze="".concat(q).concat(l.options.contextSeparator).concat(a.context);re.push(Ze),te&&(re.push(Ze+Se),V&&re.push(Ze+Le))}}for(var ot;ot=re.pop();)l.isValidLookup(x)||(P=ot,x=l.getResource(_e,ce,ot,a))}}))})}}),{res:x,usedKey:S,exactUsedKey:P,usedLng:L,usedNS:F}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,a,x):this.resourceStore.getResource(s,l,a,x)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&l===a.substring(0,l.length)&&s[a]!==void 0)return!0;return!1}}]),n}(jh);function Fw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var _8=function(){function e(t){Vu(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vf.create("languageUtils")}return Hu(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var i=n.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var i=n.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(l){return l.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Fw(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Fw(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=Fw(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var i=this;if(!n)return null;var s;return n.forEach(function(l){if(!s){var a=i.formatLanguageCode(l);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&n.forEach(function(l){if(!s){var a=i.getLanguagePartFromCode(l);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(x){if(x.indexOf(a)===0)return x})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,i){if(!n)return[];if(typeof n=="function"&&(n=n(i)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!i)return n.default||[];var s=n[i];return s||(s=n[this.getScriptPartFromCode(i)]),s||(s=n[this.formatLanguageCode(i)]),s||(s=n[this.getLanguagePartFromCode(i)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,i){var s=this,l=this.getFallbackCodes(i||this.options.fallbackLng||[],n),a=[],x=function(P){P&&(s.isSupportedCode(P)?a.push(P):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(P)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(n))):typeof n=="string"&&x(this.formatLanguageCode(n)),l.forEach(function(S){a.indexOf(S)<0&&x(s.formatLanguageCode(S))}),a}}]),e}(),kZ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],PZ={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},TZ=["v1","v2","v3"],x8={zero:0,one:1,two:2,few:3,many:4,other:5};function IZ(){var e={};return kZ.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:PZ[t.fc]}})}),e}var MZ=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vu(this,e),this.languageUtils=t,this.options=n,this.logger=vf.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=IZ()}return Hu(e,[{key:"addRule",value:function(n,i){this.rules[n]=i}},{key:"getRule",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(function(l){return"".concat(i).concat(l)})}},{key:"getSuffixes",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(a,x){return x8[a]-x8[x]}).map(function(a){return"".concat(i.options.prepend).concat(a)}):l.numbers.map(function(a){return i.getSuffix(n,a,s)}):[]}},{key:"getSuffix",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(i)):this.getSuffixRetroCompatible(l,i):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,i){var s=this,l=n.noAbs?n.plurals(i):n.plurals(Math.abs(i)),a=n.numbers[l];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var x=function(){return s.options.prepend&&a.toString()?s.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):x():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?x():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!TZ.includes(this.options.compatibilityJSON)}}]),e}();function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var OZ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vu(this,e),this.logger=vf.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Hu(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var i=n.interpolation;this.escape=i.escape!==void 0?i.escape:vZ,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Vd(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Vd(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Vd(i.nestingPrefix):i.nestingPrefixEscaped||Vd("$t("),this.nestingSuffix=i.nestingSuffix?Vd(i.nestingSuffix):i.nestingSuffixEscaped||Vd(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,i,s,l){var a=this,x,S,P,L=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function F(te){return te.replace(/\$/g,"$$$$")}var N=function(V){if(V.indexOf(a.formatSeparator)<0){var X=d8(i,L,V);return a.alwaysFormat?a.format(X,void 0,s,_c(_c(_c({},l),i),{},{interpolationkey:V})):X}var ee=V.split(a.formatSeparator),ce=ee.shift().trim(),_e=ee.join(a.formatSeparator).trim();return a.format(d8(i,L,ce),_e,s,_c(_c(_c({},l),i),{},{interpolationkey:ce}))};this.resetRegExp();var $=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,q=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,K=[{regex:this.regexpUnescape,safeValue:function(V){return F(V)}},{regex:this.regexp,safeValue:function(V){return a.escapeValue?F(a.escape(V)):F(V)}}];return K.forEach(function(te){for(P=0;x=te.regex.exec(n);){var V=x[1].trim();if(S=N(V),S===void 0)if(typeof $=="function"){var X=$(n,x,l);S=typeof X=="string"?X:""}else if(l&&l.hasOwnProperty(V))S="";else if(q){S=x[0];continue}else a.logger.warn("missed to pass in variable ".concat(V," for interpolating ").concat(n)),S="";else typeof S!="string"&&!a.useRawValueToEscape&&(S=h8(S));var ee=te.safeValue(S);if(n=n.replace(x[0],ee),q?(te.regex.lastIndex+=S.length,te.regex.lastIndex-=x[0].length):te.regex.lastIndex=0,P++,P>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,i){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,x,S;function P($,q){var K=this.nestingOptionsSeparator;if($.indexOf(K)<0)return $;var te=$.split(new RegExp("".concat(K,"[ ]*{"))),V="{".concat(te[1]);$=te[0],V=this.interpolate(V,S);var X=V.match(/'/g),ee=V.match(/"/g);(X&&X.length%2===0&&!ee||ee.length%2!==0)&&(V=V.replace(/'/g,'"'));try{S=JSON.parse(V),q&&(S=_c(_c({},q),S))}catch(ce){return this.logger.warn("failed parsing options string in nesting for key ".concat($),ce),"".concat($).concat(K).concat(V)}return delete S.defaultValue,$}for(;a=this.nestingRegexp.exec(n);){var L=[];S=_c({},l),S=S.replace&&typeof S.replace!="string"?S.replace:S,S.applyPostProcessor=!1,delete S.defaultValue;var F=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var N=a[1].split(this.formatSeparator).map(function($){return $.trim()});a[1]=N.shift(),L=N,F=!0}if(x=i(P.call(this,a[1].trim(),S),S),x&&a[0]===n&&typeof x!="string")return x;typeof x!="string"&&(x=h8(x)),x||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),x=""),F&&(x=L.reduce(function($,q){return s.format($,q,l.lng,_c(_c({},l),{},{interpolationkey:a[1].trim()}))},x.trim())),n=n.replace(a[0],x),this.regexp.lastIndex=0}return n}}]),e}();function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function LZ(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var s=i[1].substring(0,i[1].length-1);if(t==="currency"&&s.indexOf(":")<0)n.currency||(n.currency=s.trim());else if(t==="relativetime"&&s.indexOf(":")<0)n.range||(n.range=s.trim());else{var l=s.split(";");l.forEach(function(a){if(a){var x=a.split(":"),S=hZ(x),P=S[0],L=S.slice(1),F=L.join(":").trim().replace(/^'+|'+$/g,"");n[P.trim()]||(n[P.trim()]=F),F==="false"&&(n[P.trim()]=!1),F==="true"&&(n[P.trim()]=!0),isNaN(F)||(n[P.trim()]=parseInt(F,10))}})}}return{formatName:t,formatOptions:n}}function Hd(e){var t={};return function(i,s,l){var a=s+JSON.stringify(l),x=t[a];return x||(x=e(s,l),t[a]=x),x(i)}}var DZ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vu(this,e),this.logger=vf.create("formatter"),this.options=t,this.formats={number:Hd(function(n,i){var s=new Intl.NumberFormat(n,i);return function(l){return s.format(l)}}),currency:Hd(function(n,i){var s=new Intl.NumberFormat(n,Ah(Ah({},i),{},{style:"currency"}));return function(l){return s.format(l)}}),datetime:Hd(function(n,i){var s=new Intl.DateTimeFormat(n,Ah({},i));return function(l){return s.format(l)}}),relativetime:Hd(function(n,i){var s=new Intl.RelativeTimeFormat(n,Ah({},i));return function(l){return s.format(l,i.range||"day")}}),list:Hd(function(n,i){var s=new Intl.ListFormat(n,Ah({},i));return function(l){return s.format(l)}})},this.init(t)}return Hu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=i.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(n,i){this.formats[n.toLowerCase().trim()]=i}},{key:"addCached",value:function(n,i){this.formats[n.toLowerCase().trim()]=Hd(i)}},{key:"format",value:function(n,i,s,l){var a=this,x=i.split(this.formatSeparator),S=x.reduce(function(P,L){var F=LZ(L),N=F.formatName,$=F.formatOptions;if(a.formats[N]){var q=P;try{var K=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},te=K.locale||K.lng||l.locale||l.lng||s;q=a.formats[N](P,te,Ah(Ah(Ah({},$),l),K))}catch(V){a.logger.warn(V)}return q}else a.logger.warn("there was no format function for ".concat(N));return P},n);return S}}]),e}();function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function RZ(e){var t=FZ();return function(){var i=Cf(e),s;if(t){var l=Cf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Py(this,s)}}function FZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function BZ(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var zZ=function(e){Bx(n,e);var t=RZ(n);function n(i,s,l){var a,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Vu(this,n),a=t.call(this),zx&&jh.call(Bh(a)),a.backend=i,a.store=s,a.services=l,a.languageUtils=l.languageUtils,a.options=x,a.logger=vf.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=x.maxParallelReads||10,a.readingCalls=0,a.maxRetries=x.maxRetries>=0?x.maxRetries:5,a.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(l,x.backend,x),a}return Hu(n,[{key:"queueLoad",value:function(s,l,a,x){var S=this,P={},L={},F={},N={};return s.forEach(function($){var q=!0;l.forEach(function(K){var te="".concat($,"|").concat(K);!a.reload&&S.store.hasResourceBundle($,K)?S.state[te]=2:S.state[te]<0||(S.state[te]===1?L[te]===void 0&&(L[te]=!0):(S.state[te]=1,q=!1,L[te]===void 0&&(L[te]=!0),P[te]===void 0&&(P[te]=!0),N[K]===void 0&&(N[K]=!0)))}),q||(F[$]=!0)}),(Object.keys(P).length||Object.keys(L).length)&&this.queue.push({pending:L,pendingCount:Object.keys(L).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(P),pending:Object.keys(L),toLoadLanguages:Object.keys(F),toLoadNamespaces:Object.keys(N)}}},{key:"loaded",value:function(s,l,a){var x=s.split("|"),S=x[0],P=x[1];l&&this.emit("failedLoading",S,P,l),a&&this.store.addResourceBundle(S,P,a),this.state[s]=l?-1:2;var L={};this.queue.forEach(function(F){gZ(F.loaded,[S],P),BZ(F,s),l&&F.errors.push(l),F.pendingCount===0&&!F.done&&(Object.keys(F.loaded).forEach(function(N){L[N]||(L[N]={});var $=F.loaded[N];$.length&&$.forEach(function(q){L[N][q]===void 0&&(L[N][q]=!0)})}),F.done=!0,F.errors.length?F.callback(F.errors):F.callback())}),this.emit("loaded",L),this.queue=this.queue.filter(function(F){return!F.done})}},{key:"read",value:function(s,l,a){var x=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,L=arguments.length>5?arguments[5]:void 0;if(!s.length)return L(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:l,fcName:a,tried:S,wait:P,callback:L});return}this.readingCalls++;var F=function(K,te){if(x.readingCalls--,x.waitingReads.length>0){var V=x.waitingReads.shift();x.read(V.lng,V.ns,V.fcName,V.tried,V.wait,V.callback)}if(K&&te&&S<x.maxRetries){setTimeout(function(){x.read.call(x,s,l,a,S+1,P*2,L)},P);return}L(K,te)},N=this.backend[a].bind(this.backend);if(N.length===2){try{var $=N(s,l);$&&typeof $.then=="function"?$.then(function(q){return F(null,q)}).catch(F):F(null,$)}catch(q){F(q)}return}return N(s,l,F)}},{key:"prepareLoading",value:function(s,l){var a=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var P=this.queueLoad(s,l,x,S);if(!P.toLoad.length)return P.pending.length||S(),null;P.toLoad.forEach(function(L){a.loadOne(L)})}},{key:"load",value:function(s,l,a){this.prepareLoading(s,l,{},a)}},{key:"reload",value:function(s,l,a){this.prepareLoading(s,l,{reload:!0},a)}},{key:"loadOne",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=s.split("|"),S=x[0],P=x[1];this.read(S,P,"read",void 0,void 0,function(L,F){L&&l.logger.warn("".concat(a,"loading namespace ").concat(P," for language ").concat(S," failed"),L),!L&&F&&l.logger.log("".concat(a,"loaded namespace ").concat(P," for language ").concat(S),F),l.loaded(s,L,F)})}},{key:"saveMissing",value:function(s,l,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},L=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var F=C8(C8({},P),{},{isUpdate:S}),N=this.backend.create.bind(this.backend);if(N.length<6)try{var $;N.length===5?$=N(s,l,a,x,F):$=N(s,l,a,x),$&&typeof $.then=="function"?$.then(function(q){return L(null,q)}).catch(L):L(null,$)}catch(q){L(q)}else N(s,l,a,x,L,F)}!s||!s[0]||this.store.addResource(s[0],l,a,x)}}}]),n}(jh);function E8(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Pc(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Pc(t[2])==="object"||Pc(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){n[s]=i[s]})}return n},interpolation:{escapeValue:!0,format:function(t,n,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function k8(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function P8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function NZ(e){var t=UZ();return function(){var i=Cf(e),s;if(t){var l=Cf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return Py(this,s)}}function UZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S1(){}function $Z(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var n2=function(e){Bx(n,e);var t=NZ(n);function n(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Vu(this,n),i=t.call(this),zx&&jh.call(Bh(i)),i.options=k8(s),i.services={},i.logger=vf,i.modules={external:[]},$Z(Bh(i)),l&&!i.isInitialized&&!s.isClone){if(!i.options.initImmediate)return i.init(s,l),Py(i,Bh(i));setTimeout(function(){i.init(s,l)},0)}return i}return Hu(n,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(a=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var x=E8();this.options=pf(pf(pf({},x),this.options),k8(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=pf(pf({},x.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function S(V){return V?typeof V=="function"?new V:V:null}if(!this.options.isClone){this.modules.logger?vf.init(S(this.modules.logger),this.options):vf.init(null,this.options);var P;this.modules.formatter?P=this.modules.formatter:typeof Intl<"u"&&(P=DZ);var L=new _8(this.options);this.store=new SZ(this.options.resources,this.options);var F=this.services;F.logger=vf,F.resourceStore=this.store,F.languageUtils=L,F.pluralResolver=new MZ(L,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),P&&(!this.options.interpolation.format||this.options.interpolation.format===x.interpolation.format)&&(F.formatter=S(P),F.formatter.init(F,this.options),this.options.interpolation.format=F.formatter.format.bind(F.formatter)),F.interpolator=new OZ(this.options),F.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},F.backendConnector=new zZ(S(this.modules.backend),F.resourceStore,F,this.options),F.backendConnector.on("*",function(V){for(var X=arguments.length,ee=new Array(X>1?X-1:0),ce=1;ce<X;ce++)ee[ce-1]=arguments[ce];s.emit.apply(s,[V].concat(ee))}),this.modules.languageDetector&&(F.languageDetector=S(this.modules.languageDetector),F.languageDetector.init&&F.languageDetector.init(F,this.options.detection,this.options)),this.modules.i18nFormat&&(F.i18nFormat=S(this.modules.i18nFormat),F.i18nFormat.init&&F.i18nFormat.init(this)),this.translator=new v8(this.services,this.options),this.translator.on("*",function(V){for(var X=arguments.length,ee=new Array(X>1?X-1:0),ce=1;ce<X;ce++)ee[ce-1]=arguments[ce];s.emit.apply(s,[V].concat(ee))}),this.modules.external.forEach(function(V){V.init&&V.init(s)})}if(this.format=this.options.interpolation.format,a||(a=S1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var $=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];$.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments)}});var q=["addResource","addResources","addResourceBundle","removeResourceBundle"];q.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments),s}});var K=jm(),te=function(){var X=function(ce,_e){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),K.resolve(_e),a(ce,_e)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return X(null,s.t.bind(s));s.changeLanguage(s.options.lng,X)};return this.options.resources||!this.options.initImmediate?te():setTimeout(te,0),K}},{key:"loadResources",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S1,x=a,S=typeof s=="string"?s:this.language;if(typeof s=="function"&&(x=s),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return x();var P=[],L=function($){if($){var q=l.services.languageUtils.toResolveHierarchy($);q.forEach(function(K){P.indexOf(K)<0&&P.push(K)})}};if(S)L(S);else{var F=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);F.forEach(function(N){return L(N)})}this.options.preload&&this.options.preload.forEach(function(N){return L(N)}),this.services.backendConnector.load(P,this.options.ns,function(N){!N&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),x(N)})}else x(null)}},{key:"reloadResources",value:function(s,l,a){var x=jm();return s||(s=this.languages),l||(l=this.options.ns),a||(a=S1),this.services.backendConnector.reload(s,l,function(S){x.resolve(),a(S)}),x}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&TL.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var l=0;l<this.languages.length;l++){var a=this.languages[l];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(s,l){var a=this;this.isLanguageChangingTo=s;var x=jm();this.emit("languageChanging",s);var S=function(N){a.language=N,a.languages=a.services.languageUtils.toResolveHierarchy(N),a.resolvedLanguage=void 0,a.setResolvedLanguage(N)},P=function(N,$){$?(S($),a.translator.changeLanguage($),a.isLanguageChangingTo=void 0,a.emit("languageChanged",$),a.logger.log("languageChanged",$)):a.isLanguageChangingTo=void 0,x.resolve(function(){return a.t.apply(a,arguments)}),l&&l(N,function(){return a.t.apply(a,arguments)})},L=function(N){!s&&!N&&a.services.languageDetector&&(N=[]);var $=typeof N=="string"?N:a.services.languageUtils.getBestMatchFromCodes(N);$&&(a.language||S($),a.translator.language||a.translator.changeLanguage($),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage($)),a.loadResources($,function(q){P(q,$)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?L(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(L):this.services.languageDetector.detect(L):L(s),x}},{key:"getFixedT",value:function(s,l,a){var x=this,S=function P(L,F){var N;if(Pc(F)!=="object"){for(var $=arguments.length,q=new Array($>2?$-2:0),K=2;K<$;K++)q[K-2]=arguments[K];N=x.options.overloadTranslationOptionHandler([L,F].concat(q))}else N=pf({},F);N.lng=N.lng||P.lng,N.lngs=N.lngs||P.lngs,N.ns=N.ns||P.ns,N.keyPrefix=N.keyPrefix||a||P.keyPrefix;var te=x.options.keySeparator||".",V;return N.keyPrefix&&Array.isArray(L)?V=L.map(function(X){return"".concat(N.keyPrefix).concat(te).concat(X)}):V=N.keyPrefix?"".concat(N.keyPrefix).concat(te).concat(L):L,x.t(V,N)};return typeof s=="string"?S.lng=s:S.lngs=s,S.ns=l,S.keyPrefix=a,S}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var x=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,P=this.languages[this.languages.length-1];if(x.toLowerCase()==="cimode")return!0;var L=function($,q){var K=l.services.backendConnector.state["".concat($,"|").concat(q)];return K===-1||K===2};if(a.precheck){var F=a.precheck(this,L);if(F!==void 0)return F}return!!(this.hasResourceBundle(x,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||L(x,s)&&(!S||L(P,s)))}},{key:"loadNamespaces",value:function(s,l){var a=this,x=jm();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(S){a.options.ns.indexOf(S)<0&&a.options.ns.push(S)}),this.loadResources(function(S){x.resolve(),l&&l(S)}),x):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var a=jm();typeof s=="string"&&(s=[s]);var x=this.options.preload||[],S=s.filter(function(P){return x.indexOf(P)<0});return S.length?(this.options.preload=x.concat(S),this.loadResources(function(P){a.resolve(),l&&l(P)}),a):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new _8(E8());return l.indexOf(a.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S1,x=pf(pf(pf({},this.options),l),{isClone:!0}),S=new n(x);(l.debug!==void 0||l.prefix!==void 0)&&(S.logger=S.logger.clone(l));var P=["store","services","language"];return P.forEach(function(L){S[L]=s[L]}),S.services=pf({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new v8(S.services,S.options),S.translator.on("*",function(L){for(var F=arguments.length,N=new Array(F>1?F-1:0),$=1;$<F;$++)N[$-1]=arguments[$];S.emit.apply(S,[L].concat(N))}),S.init(x,a),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(jh);Tp(n2,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new n2(e,t)});var ns=n2.createInstance();ns.createInstance=n2.createInstance;ns.createInstance;ns.dir;ns.init;ns.loadResources;ns.reloadResources;ns.use;ns.changeLanguage;ns.getFixedT;ns.t;ns.exists;ns.setDefaultNamespace;ns.hasLoadedNamespace;ns.loadNamespaces;ns.loadLanguages;var jZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},HZ=function(t){return VZ[t]},qZ=function(t){return t.replace(jZ,HZ)};function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function I8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(i){Tp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var M8={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:qZ};function GZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M8=I8(I8({},M8),e)}var QZ={type:"3rdParty",init:function(t){GZ(t.options.react)}};jt.createContext();(function(){function e(){Vu(this,e),this.usedNamespaces={}}return Hu(e,[{key:"addUsedNamespaces",value:function(n){var i=this;n.forEach(function(s){i.usedNamespaces[s]||(i.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e})();var IL=[],WZ=IL.forEach,KZ=IL.slice;function ZZ(e){return WZ.call(KZ.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var O8=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,XZ=function(t,n,i){var s=i||{};s.path=s.path||"/";var l=encodeURIComponent(n),a="".concat(t,"=").concat(l);if(s.maxAge>0){var x=s.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(x))}if(s.domain){if(!O8.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!O8.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var S=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(S){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},L8={create:function(t,n,i,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+i*60*1e3)),s&&(l.domain=s),document.cookie=XZ(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var l=i[s];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},YZ={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var i=L8.read(t.lookupCookie);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&L8.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},JZ={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),l=s.split("&"),a=0;a<l.length;a++){var x=l[a].indexOf("=");if(x>0){var S=l[a].substring(0,x);S===t.lookupQuerystring&&(n=l[a].substring(x+1))}}}return n}},Vm=null,D8=function(){if(Vm!==null)return Vm;try{Vm=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Vm=!1}return Vm},eX={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&D8()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&D8()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Hm=null,R8=function(){if(Hm!==null)return Hm;try{Hm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Hm=!1}return Hm},tX={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&R8()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&R8()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},nX={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)n.push(navigator.languages[i]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},rX={name:"htmlTag",lookup:function(t){var n,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},iX={name:"path",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;n=i[t.lookupFromPathIndex].replace("/","")}else n=i[0].replace("/","")}return n}},oX={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};function aX(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var ML=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vu(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return Hu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=ZZ(i,this.options||{},aX()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(YZ),this.addDetector(JZ),this.addDetector(eX),this.addDetector(tX),this.addDetector(nX),this.addDetector(rX),this.addDetector(iX),this.addDetector(oX)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var i=this;n||(n=this.options.order);var s=[];return n.forEach(function(l){if(i.detectors[l]){var a=i.detectors[l].lookup(i.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(function(l){s.detectors[l]&&s.detectors[l].cacheUserLanguage(n,s.options)}))}}]),e}();ML.type="languageDetector";const sX="km",lX="m",uX="to",cX="Logout",fX="Save",pX="Cancel",hX="Create",AX="Disasters",dX="Loading...",mX="Loading events",gX="Legend",yX="maps",vX="Vertical direction",_X="Horizontal direction",xX="Legend presentation",bX="Layers",wX="Feed",SX="Deselect",CX="Gathering data",EX="Updated",kX="No data received",PX="Wrong data received",TX="Error",IX="Sort Icon",MX={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"The feed contains real-time data about Cyclones, Droughts, Earthquakes, Floods, Volcanoes, Wildfires."},OX={default:"Sorry, we are having issues, which will be fixed soon",timeout:"Request Timeout",cannot_connect:"Can't connect to server",forbidden:"Forbidden",not_found:"Not found",unknown:"Unknown",server_error:"Server Error"},LX={overlays:"Overlays",basemap:"Basemap"},DX={layers_in_selected_area:"Layers in selected area",your_layers:"Your Layers",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap Based",other:"Other",elevation:"Elevation",photo:"Photo",map:"Map"},RX={load_world_data:"Load World Data",numerator:"Numerator",normalized_by:"Normalized By",sum:"Sum",min:"Min",max:"Max",mean:"Mean",stddev:"Stddev",median:"Median",filter_numerator:"Filter Numerator",filter_denominator:"Filter Denominator"},FX={title:"Multi-criteria decision analysis",name:"MCDA"},BX={warning_title:"Can't use map as filter",warning_description:"Map not ready yet, try later",bbox_filter_button:"Use map view as filter",analytics:{affected_people:{tooltip:"Affected People",value:"No humanitarian impact"},settled_area_tooltip:"Settled Area",loss_tooltip:"Estimated loss"},no_event_in_feed:"Event not found in the current event feed",no_selected_disaster:"No disaster selected",chose_disaster:"Choose disaster",no_historical_disasters:"No historical disasters in this area",no_feed_disasters:"No disasters in this feed",no_disasters:"No disasters",severity_unknown:"Unknown",severity_termination:"Termination",severity_minor:"Minor",severity_moderate:"Moderate",severity_severe:"Severe",severity_extreme:"Extreme",open_timeline_button:"Open timeline"},zX={edit_layer:"Edit Layer",edit_features:"Edit Features",delete_layer:"Delete Layer",create_layer:"Create Layer",saving_layer:"Saving layer...",field_name:"Field name",layer_name:"Layer name",marker_icon:"Marker icon",type:"Type",select:"Select",short_text:"Short Text",long_text:"Long Text",link:"Link",image:"Image",fields:"Fields",add_field:"Add field",location:"Location",edit_feature_placeholder:"Select some feature for start edit feature properties"},NX={header_title:"Analytics",error_loading:"Error while fetching analytics data",info_short:"Calculations are made for the selected area."},UX={header_title:"Advanced analytics",error:"Error while fetching advanced analytics data"},$X={not_found:"Sorry, requested event not found.",error:"An error occured!",analytics_for_selected:"Analytics for a selected area",will_be_provided:"will be provided here"},jX={area:"Area",line:"Line",point:"Point",finish_drawing:"Finish Drawing",caption:"Click on the map to begin drawing",no_geometry_error:"No drawn geometry to download",overlap_error:"Polygon should not overlap itself",save_features:"Save features"},VX={title:"Focus to administrative boundary"},HX={title:"Focus to uploaded geometry",error:"Error while reading uploaded file"},qX={title:"Focus to freehand geometry"},GX={settings:{name:"Selected Area"}},QX={self_directions_not_supported:"Self intersections are not supported!"},WX={panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Base axis",annex_axis:"Annex axis",tooltip:{p1:"Charts involving the Base and Annex axes help establish a relationship between two data sets.",li1:"Annex axis - parameters that we analyse",li2:"Base axis - reference point in the analysis",b:"Ex: the best location to open a cafe",p2:"We can explore the number of eatery places (Annex axis) against Population density (Base axis).",p3:"In this scenario, we are first interested in a small number of eatery places, and the number of people in that place gives us additional information."}},header:{title:"Choose two layers to explore correlations",hint:"Layers and correlations are displayed for the current Selected Area"},icon:{population:"Value divided by Population",area_km2:"Value divided by Area",total_building_count:"Value divided by Total Buildings Estimate",populated_area_km2:"Value divided by Populated Area",one:"Without divider",roads:"Value divided by Total Roads Length"},progress:{rendering:"Rendering",applied:"Applied on the map"},loading_error:"Unfortunately, we cannot display the matrix. Try refreshing the page or come back later."},legend:{high:"High",low:"Low",medium:"Medium"},color_manager:{not_defined:"Not defined",sentiments_combinations_filter:"Sentiments combinations",layers_filter:"Layers",no_legends:"There are no legends satisfying the conditions.",no_data:"No Data.",sentiments_tab:"Sentiments",color_legends_tab:"Color Legends",layers_tab:"Layers (indicators)"}},KX={biv_color_manager:"olor manager",edit_osm:"Edit in OpenStreetMap",ruler:"Ruler",collapse:"Collapse",expand:"Expand",icon_alt:"Application logo"},ZX={email:"Email",password:"Password",login_button:"Login",sign_up:"Sign up",logging_in:"Logging in...",log_in:"Log in",description:"Please log in to change your settings",error:{email_empty:"Email has not to be empty!",email_invalid:"Email has to be valid!",password:"Password has not to be empty!",connect:"Couldn't connect to authentication service"}},XX={title:"Disaster Ninja Reports",no_data:"No data for this report",sorting:"Sorting data...",loading:"Loading data",search_location:"Search location",open_josm:"Open via JOSM remote control",josm_logo_alt:"JOSM logo",see_all:"See all reports",wrong_id:"Wrong report ID",description:"<0>Kontur </0> generates several reports that help validate OpenStreetMap quality. They contain links to areas on <4>osm.org </4> and links to open them in the JOSM editor with enabled remote control for editing."},YX={map:"Map",about:"About",reports:"Reports",profile:"Profile",privacy:"Privacy"},JX={title:"Welcome to Disaster Ninja!",intro:"Do you want to be notified about ongoing disasters? Are you interested in instant population data and other analytics for any region in the world? Disaster Ninja showcases some of <2>Kontur</2>s capabilities in addressing these needs.<br/><br/>We initially designed it as a decision support tool for humanitarian mappers. Now it has grown in functionality and use cases. Whether you work in disaster management, build a smart city, or perform research on climate change, Disaster Ninja can help you to:",l1:"1. Stay up to date with the latest hazard events globally.",p1:"The Disasters panel continually refreshes to inform you about ongoing events. It consumes data from the <2>Kontur Event Feed</2>, which you can also access via an API.",l2:"2. Focus on your area of interest.",p2:"The Drawing Tools panel allows you to draw or upload your own geometry on the map. You can also focus on a disaster-exposed area or an administrative unit  a country, city, or region.",l3:"3. Get analytics for the focused area.",p3:"The Analytics panel shows the number of people living in that area per <2>Kontur Population</2> and estimated mapping gaps in OpenStreetMap. Konturs customers have access to hundreds of other indicators through Advanced Analytics.",l4:"4. Explore data on the map and make conclusions.",p4:"The Layers panel gives you various options to display two indicators simultaneously on a bivariate map, e.g., population density and distance to the nearest fire station. Use the color legend to assess which areas require attention. <br/>Hint: in general, green indicates low risk / few gaps, red  high risk / many gaps.",p5:"In addition, you can switch to Reports in the left panel to access data on potential errors and inconsistencies in OpenStreetMap and help fix them by mapping the respective area with the JOSM editor.",goToMap:"Go to the map now",p6:"We hope you find this tool valuable. Use the chatbox on Disaster Ninja for any questions about the functionality, and we will be happy to guide you. You can also contact us by email at <1>hello@kontur.io</1> if you have feedback or suggestions on improving the tool.<br/><br/>Disaster Ninja is an open-source project. Find the code in <8>Konturs GitHub account</8>."},eY={interfaceTheme:"Theme",interfaceLanguage:"Language",units:"Units",fullName:"Full Name",email:"Email",metric:"metric",imperialBeta:"imperial (beta)",profileSettingsHeader:"Profile",appSettingsHeader:"Settings",saveButton:"Save changes",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Default disaster feed",defaultOSMeditor:"Default OpenStreetMap editor (beta)",successNotification:"All changes have been applied successfully",languageOption:{en:"English",es:"Spanish",ar:"Arabic",ko:"Korean",id:"Indonesian",de:"German",uk:"Ukrainian"}},tY={not_found_request:"Sorry, requested event not found."},nY={get_location_error:"Error while getting location",feature_title:"Locate me"},rY="Episode",iY="Loading Episodes",oY={header:"We value your privacy",body:`We use absolutely necessary cookies to provide you personalized services and optional cookies to improve Disaster Ninja and your experience. You can manage cookies settings or withdraw consent to optional cookies at any time.
For more information, please, check our [Privacy Policy](about/privacy)`,decline_all:"Decline optional cookies",accept_all:"Accept optional cookies"},aY={start:"Start sensor recording",finish:"Stop sensor recording",finishMessage:"Recording has been finished",startMessage:"Recording has been started",noSensorsError:"Your device desn't have the required sensors"},sY={km:sX,m:lX,to:uX,logout:cX,save:fX,cancel:pX,create:hX,disasters:AX,loading:dX,loading_events:mX,legend:gX,maps:yX,vertical_direction:vX,horizontal_direction:_X,legend_presentation:xX,layers:bX,feed:wX,deselect:SX,spinner_text:CX,updated:EX,no_data_received:kX,wrong_data_received:PX,error:TX,sort_icon:IX,configs:MX,errors:OX,categories:LX,groups:DX,advanced_analytics_data_list:RX,mcda:FX,event_list:BX,create_layer:zX,analytics_panel:NX,advanced_analytics_panel:UX,advanced_analytics_empty:$X,draw_tools:jX,boundary_selector:VX,geometry_uploader:HX,focus_geometry:qX,focus_geometry_layer:GX,drawings:QX,bivariate:WX,sidebar:KX,login:ZX,reports:XX,modes:YX,about:JX,profile:eY,current_event:tY,locate_me:nY,episode:rY,loading_episodes:iY,cookie_banner:oY,live_sensor:aY},lY="km",uY="m",cY="a",fY="mapas",pY="Cierre de sesin",hY="Guardar",AY="Cancelar",dY="Crear",mY="Desastres",gY="Cargando...",yY="Cargando eventos",vY="Leyenda",_Y="Direccin vertical",xY="Direccin horizontal",bY="Presentacin de la leyenda",wY="Capas",SY={color_manager:{layers_filter:"Capas",not_defined:"No definido",sentiments_combinations_filter:"Combinaciones de sentimientos",no_legends:"No hay leyendas que cumplan las condiciones.",no_data:"No hay datos.",sentiments_tab:"Sentimientos",color_legends_tab:"Leyendas de colores",layers_tab:"Capas (indicadores)"},panel:{header:"Matriz bivariada"},matrix:{caption:{base_axis:"Eje base",annex_axis:"Eje anexo",tooltip:{p1:"Las grficas que incluyen los ejes base y anexo ayudan a establecer una relacin entre dos conjuntos de datos.",li1:"Eje anexo: parmetros que analizamos",li2:"Eje base: punto de referencia en el anlisis",b:"Ej.: la mejor ubicacin para abrir una cafetera",p2:"Podemos explorar el nmero de locales de comida (eje anexo) frente a la densidad de poblacin (eje base).",p3:"En este escenario, en primer lugar nos interesa un nmero reducido de locales de comida, y la cantidad de personas presentes nos da informacin adicional."}},header:{title:"Elija dos capas para explorar las correlaciones",hint:"Las capas y correlaciones se muestran para el rea seleccionada actual"},icon:{population:"Valor dividido por la poblacin",area_km2:"Valor dividido por el rea",total_building_count:"Valor dividido por la estimacin total de edificios",populated_area_km2:"Valor dividido por el rea poblada",one:"Sin divisor",roads:"Valor dividido por la longitud total de las carreteras"},progress:{rendering:"Renderizado",applied:"Aplicado en el mapa"}},legend:{high:"Alto",low:"Bajo",medium:"Medio"}},CY="Fuente",EY="Anular la seleccin",kY="Recopilacin de datos",PY="Actualizado",TY="No se han recibido datos",IY="Se han recibido datos errneos",MY="Error",OY="Icono de ordenar",LY={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"El feed contiene datos en tiempo real sobre Ciclones, Sequas, Terremotos, Inundaciones, Volcanes, Incendios forestales."},DY={default:"Lo sentimos, estamos teniendo problemas, que pronto se solucionarn",timeout:"Se agot el tiempo de espera de la solicitud",cannot_connect:"No se puede conectar al servidor",forbidden:"Prohibido",not_found:"No encontrado",unknown:"Desconocido",server_error:"Error del servidor"},RY={severity_unknown:"Desconocido",warning_title:"No se puede utilizar el mapa como filtro",warning_description:"El mapa an no est listo, intntelo ms tarde",bbox_filter_button:"Usar la vista del mapa como filtro",analytics:{affected_people:{tooltip:"Personas afectadas",value:"Sin impacto humanitario"},settled_area_tooltip:"rea habitada",loss_tooltip:"Prdida estimada"},no_event_in_feed:"Evento no encontrado en el feed de eventos actual",no_selected_disaster:"No se ha seleccionado ningn desastre",chose_disaster:"Seleccione el desastre"},FY={overlays:"Superposiciones",basemap:"Mapa base"},BY={layers_in_selected_area:"Capas en el rea seleccionada",your_layers:"Sus capas",kontur_analytics:"Anlisis de Kontur",qa:"Certificacin de calidad",osmbasedmap:"Basado en OpenStreetMap",other:"Otros",elevation:"Elevacin",photo:"Foto",map:"Mapa"},zY={map:"Mapa",about:"Acerca de",reports:"Informes",profile:"Perfil"},NY={load_world_data:"Cargar datos mundiales",numerator:"Numerador",normalized_by:"Normalizado por",sum:"Suma",min:"Mn.",max:"Mx.",mean:"Media",stddev:"Desv. est.",median:"Mediana",filter_denominator:"Filtrar Denominador"},UY={},$Y={edit_layer:"Editar capa",edit_features:"Editar caractersticas",delete_layer:"Eliminar capa",create_layer:"Crear capa",saving_layer:"Guardando capa...",field_name:"Nombre de campo",layer_name:"Nombre de la capa",marker_icon:"Icono de marcador",type:"Tipo",select:"Seleccionar",short_text:"Texto corto",long_text:"Texto largo",link:"Enlace",image:"Imagen",fields:"Campos",add_field:"Agregar campo",location:"Ubicacin",edit_feature_placeholder:"Seleccione una caracterstica para comenzar a editar las propiedades de la misma"},jY={header_title:"Anlisis",error_loading:"Error en la obtencin de datos de anlisis"},VY={header_title:"Anlisis avanzado",error:"Error en la obtencin de datos de anlisis Avanzado"},HY={not_found:"Lo sentimos, el evento solicitado no se ha encontrado.",error:"Se produjo un error!"},qY={not_found_request:"Lo sentimos, el evento solicitado no se ha encontrado."},GY={area:"rea",line:"Lnea",point:"Punto",finish_drawing:"Terminar el dibujo",caption:"Haga clic en el mapa para empezar a dibujar",no_geometry_error:"No hay geometra dibujada para descargar",overlap_error:"El polgono no debe superponerse sobre s mismo",save_features:"Guardar caractersticas"},QY={title:"Enfocar en el lmite administrativo"},WY={title:"Enfocar en la geometra cargada",error:"Error al leer el archivo cargado"},KY={title:"Enfocar en la geometra a mano"},ZY={settings:{name:"rea seleccionada"}},XY={self_directions_not_supported:"No se admiten las autointersecciones!"},YY={biv_color_manager:"Administrador de color",edit_osm:"Editar en OpenStreetMap",ruler:"Regla",collapse:"Contraer",expand:"Expandir",icon_alt:"Logotipo de la aplicacin"},JY={email:"Correo electrnico",password:"Contrasea",login_button:"Inicio de sesin",sign_up:"Registrarse",logging_in:"Iniciando sesin...",log_in:"Iniciar sesin",description:"Acceda a su cuenta para cambiar los ajustes",error:{email_empty:"El correo electrnico no debe estar vaco!",email_invalid:"El correo electrnico debe ser vlido!",password:"La contrasea no debe estar vaca!",connect:"No se pudo conectar con el servicio de autenticacin"}},eJ={email:"Correo electrnico",profileSettingsHeader:"Perfil",interfaceTheme:"Tema",interfaceLanguage:"Idioma",units:"Unidades",fullName:"Nombre completo",metric:"mtricas",imperialBeta:"imperiales (beta)",appSettingsHeader:"Ajustes",saveButton:"Guardar cambios",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Feed de desastres predeterminado",defaultOSMeditor:"Editor predeterminado de OpenStreetMap (beta)",successNotification:"Todos los cambios se han aplicado correctamente",languageOption:{en:"Ingls",es:"Espaol",ar:"rabe",ko:"oreano",id:"Indonesio",de:"Alemn",uk:"Ucranio"}},tJ={title:"Informes de Disaster Ninja",no_data:"No hay datos para este informe",sorting:"Ordenando datos...",loading:"Cargando datos",search_location:"Buscar ubicacin",open_josm:"Abrir a travs del control remoto JOSM",josm_logo_alt:"Logotipo de JOSM",see_all:"Ver todos los informes",wrong_id:"ID de informe incorrecto",description:"<0>Kontur </0> genera una serie de informes tiles para validar la calidad de OpenStreetMap. Contienen enlaces a zonas en <4>osm.org </4> y enlaces para abrirlas en el editor JOSM con control remoto habilitado para la edicin."},nJ={title:"Bienvenido a Disaster Ninja!",intro:"Desea recibir notificaciones sobre desastres en curso? Le interesan los datos de poblacin instantneos y otros datos analticos de alguna regin del mundo? Disaster Ninja muestra algunas de las capacidades de <2>Kontur</2> para ocuparse de estas necesidades.<br/><br/> Inicialmente la diseamos como una herramienta de apoyo a los mapeadores de servicios humanitarios. Ahora ha ampliado sus funcionalidades y aplicaciones prcticas. Tanto si trabaja en la gestin de desastres como si construye una ciudad inteligente o realiza investigaciones sobre el cambio climtico, Disaster Ninja puede ayudarle a:",l1:"1. Estar al da con los ltimos eventos peligrosos a nivel mundial.",p1:"El panel de Desastres se actualiza continuamente para informarle sobre los acontecimientos en curso. Utiliza la informacin proporcionada por <2>Kontur Event Feed</2>, a la que tambin puede acceder a travs de la interfaz de la aplicacin.",l2:"2. Centrarse en su rea de inters.",p2:"El panel de Herramientas de Dibujo le permite dibujar o subir su propia geometra en el mapa. Tambin puede centrarse en un rea o en una unidad administrativa - pas, ciudad o regin  expuesta a desastres.",l3:"3. Recibir anlisis de su rea de inters.",p3:"El panel de Anlisis le muestra el nmero de personas que viven en la zona segn <2>Kontur Population</2> y segn una estimacin de las zonas sin mapear en OpenStreetMap. Los clientes de Kontur tienen acceso a cientos de otros indicadores a travs de Advance Analytics.",l4:"4. Explorar los datos del mapa y sacar sus propias conclusiones.",p4:"El panel Capas le ofrece varias opciones para mostrar dos indicadores en simultneo en un mapa bivariado, p. ej:, la densidad de poblacin y la distancia a la estacin de bomberos ms cercana. Utilice las leyendas de colores para evaluar qu reas requieren atencin. <br/>Consejo: en general, el verde indica riesgo bajo / pocas zonas sin mapear, el rojo  riesgo alto / muchas zonas sin mapear.",p5:"Adems, puede cambiar a Informes en el panel de la izquierda para acceder a los datos sobre posibles errores e inconsistencias en OpenStreetMap y ayudarle a realizar correcciones mapeando la zona correspondiente con el editor JOSM.",goToMap:"Ir al mapa ahora",p6:"Esperamos que esta herramienta le resulte valiosa. Utilice el chat de Disaster Ninja si tiene alguna pregunta sobre sus funcionalidades y estaremos encantados de ayudarle. Tambin puede contactarnos por correo electrnico en <1>hello@kontur.io</1> si tiene algn comentario o sugerencia para mejorar la herramienta.<br/><br/> Disaster Ninja es un proyecto de cdigo abierto. Encuentre el cdigo en la <8>cuenta de GitHub de Kontur</8>."},rJ={get_location_error:"Error al obtener la ubicacin",feature_title:"Localizarme"},iJ="Episodio",oJ="Cargando episodios",aJ={},sJ={},lJ={km:lY,m:uY,to:cY,maps:fY,logout:pY,save:hY,cancel:AY,create:dY,disasters:mY,loading:gY,loading_events:yY,legend:vY,vertical_direction:_Y,horizontal_direction:xY,legend_presentation:bY,layers:wY,bivariate:SY,feed:CY,deselect:EY,spinner_text:kY,updated:PY,no_data_received:TY,wrong_data_received:IY,error:MY,sort_icon:OY,configs:LY,errors:DY,event_list:RY,categories:FY,groups:BY,modes:zY,advanced_analytics_data_list:NY,mcda:UY,create_layer:$Y,analytics_panel:jY,advanced_analytics_panel:VY,advanced_analytics_empty:HY,current_event:qY,draw_tools:GY,boundary_selector:QY,geometry_uploader:WY,focus_geometry:KY,focus_geometry_layer:ZY,drawings:XY,sidebar:YY,login:JY,profile:eJ,reports:tJ,about:nJ,locate_me:rJ,episode:iJ,loading_episodes:oJ,cookie_banner:aJ,live_sensor:sJ},uJ="",cJ="",fJ="",pJ="",hJ=" ",AJ="",dJ="",mJ="",gJ="",yJ=" ...",vJ="  ",_J=" ",xJ=" ",bJ=" ",wJ="  ",SJ="",CJ={color_manager:{layers_filter:"",not_defined:" ",sentiments_combinations_filter:" ",no_legends:"    .",no_data:" .",sentiments_tab:"",color_legends_tab:" ",layers_tab:" ()"},panel:{header:"  "},matrix:{caption:{base_axis:" ",annex_axis:" ",tooltip:{p1:"            .",li1:"  -    ",li2:"  -    ",b:":    ",p2:"     ( )    ( ).",p3:"                  ."}},header:{title:"   ",hint:"      "},icon:{population:"    ",area_km2:"   ",total_building_count:"     ",populated_area_km2:"    ",one:" ",roads:"     "},progress:{rendering:"",applied:"  "}},legend:{high:"",low:"",medium:""}},EJ="",kJ="",PJ=" ",TJ="",IJ="   ",MJ="   ",OJ="",LJ=" ",DJ={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"            ."},RJ={default:"     ",timeout:"  ",cannot_connect:"   ",forbidden:"",not_found:"   ",unknown:" ",server_error:"  "},FJ={severity_unknown:" ",warning_title:"     ",warning_description:"     ",bbox_filter_button:"    ",analytics:{affected_people:{tooltip:" ",value:"  "},settled_area_tooltip:" ",loss_tooltip:" "},no_event_in_feed:"        ",no_selected_disaster:"   ",chose_disaster:" "},BJ={overlays:"",basemap:" "},zJ={layers_in_selected_area:"   ",your_layers:"",kontur_analytics:" ",qa:" ",osmbasedmap:"    ",other:"",elevation:"",photo:"",map:""},NJ={map:"",about:"",reports:"",profile:" "},UJ={load_world_data:"  ",numerator:"",normalized_by:" ",sum:"",min:" ",max:" ",mean:"",stddev:"Stddev",median:"",filter_denominator:" "},$J={},jJ={edit_layer:" ",edit_features:" ",delete_layer:" ",create_layer:" ",saving_layer:" ...",field_name:" ",layer_name:" ",marker_icon:" ",type:"",select:"",short_text:" ",long_text:" ",link:"",image:"",fields:"",add_field:" ",location:"",edit_feature_placeholder:"      "},VJ={header_title:"",error_loading:"    "},HJ={header_title:" ",error:"     "},qJ={not_found:"    .",error:" !"},GJ={not_found_request:"    ."},QJ={area:"",line:"",point:"",finish_drawing:" ",caption:"    ",no_geometry_error:"    ",overlap_error:"     ",save_features:" "},WJ={title:"   "},KJ={title:"   ",error:"      "},ZJ={title:"   "},XJ={settings:{name:" "}},YJ={self_directions_not_supported:"   !"},JJ={biv_color_manager:" ",edit_osm:"  OpenStreetMap",ruler:"",collapse:"",expand:"",icon_alt:" "},eee={email:" ",password:" ",login_button:" ",sign_up:" ",logging_in:"  ...",log_in:" ",description:"    ",error:{email_empty:"      !",email_invalid:"     !",password:"      !",connect:"    "}},tee={email:" ",profileSettingsHeader:" ",interfaceTheme:"",interfaceLanguage:"",units:"",fullName:" ",metric:"",imperialBeta:" ()",appSettingsHeader:"",saveButton:" ",konturTheme:"Kontur",HOTTheme:"","userBio(about)":"",defaultDisasterFeed:"  ",defaultOSMeditor:" OpenStreetMap  ()",successNotification:"    ",languageOption:{en:"",es:"",ar:"",ko:"",id:"",de:"",uk:""}},nee={title:" Disaster Ninja",no_data:"    ",sorting:"  ...",loading:"  ",search_location:"  ",open_josm:"     JOSM  ",josm_logo_alt:" JOSM",see_all:"  ",wrong_id:"  ",description:" <0> Kontur</0>        OpenStreetMap.        <4> osm.org </4>      JOSM      ."},ree={title:"  Disaster Ninja!",intro:"                    Disaster Ninja   <2>Kontur</2>    .<br/><br/>          .     .                    Disaster Ninja :",l1:"1.          .",p1:"       .     <2>Kontur Event Feed</2>         .",l2:"2.    .",p2:"             .           -     .",l3:"3.     .",p3:"           <2>Kontur Population</2>     OpenStreetMap.   Kontur         .",l4:"4.       .",p4:"  Layers                     .         . <br/>        /    -   /   .",p5:"                   OpenStreetMap            JOSM.",goToMap:"   ",p6:"      .     Disaster Ninja       .       <1>hello@kontur.io</1>         .<br/><br/> Disaster Ninja   .      <8>Kontur</8>  <8>GitHub</8>."},iee={get_location_error:"     ",feature_title:" "},oee="",aee="  ",see={},lee={},uee={km:uJ,m:cJ,to:fJ,maps:pJ,logout:hJ,save:AJ,cancel:dJ,create:mJ,disasters:gJ,loading:yJ,loading_events:vJ,legend:_J,vertical_direction:xJ,horizontal_direction:bJ,legend_presentation:wJ,layers:SJ,bivariate:CJ,feed:EJ,deselect:kJ,spinner_text:PJ,updated:TJ,no_data_received:IJ,wrong_data_received:MJ,error:OJ,sort_icon:LJ,configs:DJ,errors:RJ,event_list:FJ,categories:BJ,groups:zJ,modes:NJ,advanced_analytics_data_list:UJ,mcda:$J,create_layer:jJ,analytics_panel:VJ,advanced_analytics_panel:HJ,advanced_analytics_empty:qJ,current_event:GJ,draw_tools:QJ,boundary_selector:WJ,geometry_uploader:KJ,focus_geometry:ZJ,focus_geometry_layer:XJ,drawings:YJ,sidebar:JJ,login:eee,profile:tee,reports:nee,about:ree,locate_me:iee,episode:oee,loading_episodes:aee,cookie_banner:see,live_sensor:lee},cee="",fee="",pee="",hee="",Aee="",dee="",mee="",gee="",yee="",vee=" ...",_ee="  ",xee="",bee=" ",wee=" ",See=" ",Cee="",Eee={color_manager:{layers_filter:"",not_defined:" ",sentiments_combinations_filter:" ",no_legends:"   .",no_data:" .",sentiments_tab:"",color_legends_tab:" ",layers_tab:"()"},panel:{header:" "},matrix:{caption:{base_axis:" ",annex_axis:" ",tooltip:{p1:"              .",li1:"  -   ",li2:"  -  ",b:":    ",p2:" ( )   ( )   .",p3:"       ,         ."}},header:{title:"      .",hint:"      ."},icon:{population:"  ",area_km2:"  ",total_building_count:"    ",populated_area_km2:"    ",one:" ",roads:"    "},progress:{rendering:"",applied:" "}},legend:{high:"",low:"",medium:""}},kee="",Pee=" ",Tee=" ",Iee="",Mee="  ",Oee="  ",Lee="",Dee=" ",Ree={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:" , , , ,  ,     ."},Fee={default:".  .   .",timeout:"  ",cannot_connect:"   .",forbidden:"  ",not_found:"  ",unknown:"  ",server_error:" "},Bee={severity_unknown:"  ",warning_title:"    .",warning_description:"    .     .",bbox_filter_button:"   ",analytics:{affected_people:{tooltip:"  ",value:"  "},settled_area_tooltip:" ",loss_tooltip:" "},no_event_in_feed:"      ",no_selected_disaster:"  ",chose_disaster:" "},zee={overlays:"",basemap:""},Nee={layers_in_selected_area:"   ",your_layers:"",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap ",other:"",elevation:"",photo:"",map:""},Uee={map:"",about:"",reports:"",profile:""},$ee={load_world_data:"   ",numerator:"",normalized_by:" :",sum:"",min:"",max:"",mean:"",stddev:"  ",median:"",filter_denominator:" "},jee={},Vee={edit_layer:" ",edit_features:" ",delete_layer:" ",create_layer:" ",saving_layer:"  ...",field_name:" ",layer_name:" ",marker_icon:" ",type:"",select:"",short_text:" ",long_text:" ",link:"",image:"",fields:"",add_field:" ",location:"",edit_feature_placeholder:"      ."},Hee={header_title:"",error_loading:"     ."},qee={header_title:" ",error:"      ."},Gee={not_found:".     .",error:" ."},Qee={not_found_request:".     ."},Wee={area:"",line:"",point:"",finish_drawing:" ",caption:"   .",no_geometry_error:"     .",overlap_error:"     .",save_features:" "},Kee={title:"   "},Zee={title:"    ",error:"     ."},Xee={title:"      "},Yee={settings:{name:" "}},Jee={self_directions_not_supported:"   ."},ete={biv_color_manager:" ",edit_osm:"OpenStreetMap ",ruler:"",collapse:"",expand:"",icon_alt:" "},tte={email:"",password:"",login_button:"",sign_up:"",logging_in:" ...",log_in:"",description:"  .",error:{email_empty:"   .",email_invalid:"   .",password:"   .",connect:"    ."}},nte={email:"",profileSettingsHeader:"",interfaceTheme:"",interfaceLanguage:"",units:"",fullName:" ",metric:"",imperialBeta:" ()",appSettingsHeader:"",saveButton:"  ",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"  ",defaultOSMeditor:" OpenStreetMap ()",successNotification:"    .",languageOption:{en:"",es:"",ar:"",ko:"",id:" ",de:" ",uk:" "}},rte={title:"Disaster Ninja ",no_data:"   .",sorting:"  ...",loading:"  ",search_location:" ",open_josm:"JOSM    ",josm_logo_alt:"JOSM ",see_all:"  ",wrong_id:"  ID",description:"<0>Kontur</0>     OpenStreetMap   .  <4>osm.org </4>   ,    JOSM          ."},ite={title:"Disaster Ninja   !",intro:"      ?            ? Disaster Ninja        <2>Kontur</2>  .<br/><br/>         ,      .  ,   ,               .",l1:"1.        .",p1:"           . <2>Kontur  </2>  , API      .",l2:"2.     .",p2:"           .     (: , , )    .",l3:"3.     .",p3:"  <2>Kontur </2>      OpenStreetMap     .   Kontur          .",l4:"4.       .",p4:"               (:  ,    ).       . <br/>:   /    /  .",p5:",     OpenStreetMap      , JOSM          .",goToMap:"   .",p6:"     .     Disaster Ninja       .        , <1>hello@kontur.io</1>    .<br/><br/>Disaster Ninja   . <8>Kontur GitHub </8>  ."},ote={get_location_error:"    .",feature_title:"  "},ate="",ste="  ",lte={},ute={},cte={km:cee,m:fee,to:pee,maps:hee,logout:Aee,save:dee,cancel:mee,create:gee,disasters:yee,loading:vee,loading_events:_ee,legend:xee,vertical_direction:bee,horizontal_direction:wee,legend_presentation:See,layers:Cee,bivariate:Eee,feed:kee,deselect:Pee,spinner_text:Tee,updated:Iee,no_data_received:Mee,wrong_data_received:Oee,error:Lee,sort_icon:Dee,configs:Ree,errors:Fee,event_list:Bee,categories:zee,groups:Nee,modes:Uee,advanced_analytics_data_list:$ee,mcda:jee,create_layer:Vee,analytics_panel:Hee,advanced_analytics_panel:qee,advanced_analytics_empty:Gee,current_event:Qee,draw_tools:Wee,boundary_selector:Kee,geometry_uploader:Zee,focus_geometry:Xee,focus_geometry_layer:Yee,drawings:Jee,sidebar:ete,login:tte,profile:nte,reports:rte,about:ite,locate_me:ote,episode:ate,loading_episodes:ste,cookie_banner:lte,live_sensor:ute},fte="km",pte="m",hte="ke",Ate="peta",dte="Keluar",mte="Simpan",gte="Batalkan",yte="Buat",vte="Bencana",_te="Memuat...",xte="Memuat kejadian",bte="Legenda",wte="Arah vertikal",Ste="Arah horizontal",Cte="Penyajian legenda",Ete="Lapisan",kte={color_manager:{layers_filter:"Lapisan",not_defined:"Tidak terdefinisi",sentiments_combinations_filter:"Gabungan sentimen",no_legends:"Tidak ada legenda yang memenuhi kondisi ini.",no_data:"Tidak Ada Data.",sentiments_tab:"Sentimen",color_legends_tab:"Legenda Warna",layers_tab:"Lapisan (indikator)"},panel:{header:"Matriks Bivariat"},matrix:{caption:{base_axis:"Sumbu Dasar",annex_axis:"Sumbu Tambahan",tooltip:{p1:"Diagram yang mencakup sumbu Dasar dan sumbu Tambahan membantu menetapkan hubungan antara dua kumpulan data.",li1:"Sumbu Tambahan - parameter yang kita analisis",li2:"Sumbu Dasar - titik referensi dalam analisis",b:"Contoh: lokasi terbaik untuk membuka kafe",p2:"Kita dapat menyelidiki jumlah tempat makan (sumbu Tambahan) terhadap Kerapatan populasi (sumbu Dasar).",p3:"Dalam skenario ini, pada awalnya kita tertarik dengan beberapa tempat makan, lalu kita mendapatkan informasi tambahan dari jumlah orang di tempat itu."}},header:{title:"Pilih dua lapisan untuk memeriksa korelasi",hint:"Lapisan dan korelasi ditampilkan untuk Area Pilihan terkini"},icon:{population:"Nilai dibagi dengan Populasi",area_km2:"Nilai dibagi dengan Area",total_building_count:"Nilai dibagi dengan Perkiraan Jumlah Bangunan",populated_area_km2:"Nilai dibagi dengan Area Berpenduduk",one:"Tanpa pembagi",roads:"Nilai dibagi dengan Total Panjang Jalan"},progress:{rendering:"Merender",applied:"Diterapkan pada peta"}},legend:{high:"Tinggi",low:"Rendah",medium:"Sedang"}},Pte="Feed",Tte="Batalkan Pilihan",Ite="Mengumpulkan data",Mte="Diperbarui",Ote="Tidak ada data yang diterima",Lte="Data yang diterima salah",Dte="Kesalahan",Rte="Sortir Ikon",Fte={Kontur_public_feed:"Publik Kontur",Kontur_public_feed_description:"Feed berisi data waktu-nyata tentang Angin Topan, Kekeringan, Gempa, Banjir, Gunung Meletus, Kebakaran Hutan."},Bte={default:"Maaf, kami mengalami masalah yang akan segera diperbaiki",timeout:"Waktu Permintaan Habis",cannot_connect:"Tidak dapat terhubung ke server",forbidden:"Terlarang",not_found:"Tidak ditemukan",unknown:"Tidak diketahui",server_error:"Kesalahan Server"},zte={severity_unknown:"Tidak diketahui",warning_title:"Tidak dapat menggunakan peta sebagai filter",warning_description:"Peta belum siap, coba nanti",bbox_filter_button:"Gunakan tampilan peta sebagai filter",analytics:{affected_people:{tooltip:"Orang yang Terdampak",value:"Tidak berdampak kemanusiaan"},settled_area_tooltip:"Area yang Ditempati",loss_tooltip:"Estimasi kerugian"},no_event_in_feed:"Kejadian tidak ditemukan di feed kejadian terkini",no_selected_disaster:"Tidak ada bencana yang dipilih",chose_disaster:"Pilih bencana"},Nte={overlays:"Tumpang Susun",basemap:"Peta Dasar"},Ute={layers_in_selected_area:"Lapisan di area pilihan",your_layers:"Lapisan Anda",kontur_analytics:"Analitik Kontur",qa:"QA",osmbasedmap:"Berbasis OpenStreetMap",other:"Lainnya",elevation:"Elevasi",photo:"Foto",map:"Peta"},$te={map:"Peta",about:"Tentang",reports:"Laporan",profile:"Profil"},jte={load_world_data:"Memuat Data Dunia",numerator:"Pembilang",normalized_by:"Dinormalkan Dengan",sum:"Jumlah",min:"Min",max:"Maks",mean:"Rerata",stddev:"Simpangan baku",median:"Median",filter_denominator:"Filter Penyebut"},Vte={},Hte={edit_layer:"Edit Lapisan",edit_features:"Edit Fitur",delete_layer:"Hapus Lapisan",create_layer:"Buat Lapisan",saving_layer:"Menyimpan lapisan...",field_name:"Nama bidang",layer_name:"Nama lapisan",marker_icon:"Ikon penanda",type:"Jenis",select:"Pilih",short_text:"Teks Singkat",long_text:"Teks Panjang",link:"Tautan",image:"Gambar",fields:"Bidang",add_field:"Tambahkan bidang",location:"Lokasi",edit_feature_placeholder:"Pilih beberapa fitur untuk mulai mengedit properti fitur"},qte={header_title:"Analitik",error_loading:"Kesalahan saat mengambil data analitik"},Gte={header_title:"Analitik tingkat lanjut",error:"Kesalahan saat mengambil data analitik tingkat lanjut"},Qte={not_found:"Maaf, kejadian yang diminta tidak ditemukan.",error:"Terjadi kesalahan!"},Wte={not_found_request:"Maaf, kejadian yang diminta tidak ditemukan."},Kte={area:"Area",line:"Garis",point:"Titik",finish_drawing:"Selesai Menggambar",caption:"Klik peta untuk mulai menggambar",no_geometry_error:"Tidak ada gambar geometri untuk diunduh",overlap_error:"Poligon tidak boleh bertumpang-tindih sendiri",save_features:"Simpan fitur"},Zte={title:"Fokus ke batas administratif"},Xte={title:"Fokus ke geometri unggahan",error:"Kesalahan saat membaca file unggahan"},Yte={title:"Fokus ke geometri bebas"},Jte={settings:{name:"Area Pilihan"}},ene={self_directions_not_supported:"Tidak mendukung perpotongan dengan dirinya sendiri!"},tne={biv_color_manager:"Pengelola warna",edit_osm:"Edit di OpenStreetMap",ruler:"Penggaris",collapse:"Ciutkan",expand:"Bentangkan",icon_alt:"Logo aplikasi"},nne={email:"Email",password:"Kata Sandi",login_button:"Masuk",sign_up:"Daftar",logging_in:"Masuk...",log_in:"Masuk",description:"Masuk untuk mengubah pengaturan Anda",error:{email_empty:"Email tidak boleh kosong!",email_invalid:"Email harus valid!",password:"Kata sandi tidak boleh kosong!",connect:"Tidak dapat terhubung ke layanan autentikasi"}},rne={email:"Email",profileSettingsHeader:"Profil",interfaceTheme:"Tema",interfaceLanguage:"Bahasa",units:"Satuan",fullName:"Nama Lengkap",metric:"metrik",imperialBeta:"imperial (beta)",appSettingsHeader:"Pengaturan",saveButton:"Simpan perubahan",konturTheme:"Kontur",HOTTheme:"HANGAT","userBio(about)":"Bio",defaultDisasterFeed:"Feed bencana bawaan",defaultOSMeditor:"Editor OpenStreetMap bawaan (beta)",successNotification:"Semua perubahan telah berhasil diterapkan",languageOption:{en:"Inggris",es:"Spanyol",ar:"Arab",ko:"Korea",id:"Indonesia",de:"Jerman",uk:"Orang Ukraina"}},ine={title:"Laporan Disaster Ninja",no_data:"Tidak ada data untuk laporan ini",sorting:"Menyortir data...",loading:"Memuat data",search_location:"Cari lokasi",open_josm:"Buka melalui kendali jarak jaruh JOSM",josm_logo_alt:"Logo JOSM",see_all:"Lihat semua laporan",wrong_id:"ID laporan salah",description:"<0>Kontur </0> menghasilkan beberapa laporan yang membantu memvalidasi kualitas OpenStreetMap. Laporan tersebut berisi tautan ke area di <4>osm.org </4> dan tautan untuk membukanya di editor JOSM dengan kendali jarak jauh untuk pengeditan yang diaktifkan."},one={title:"Selamat datang di Disaster Ninja!",intro:"Apakah Anda ingin menerima kabar tentang bencana yang sedang terjadi? Anda tertarik dengan data populasi dan analitik lainnya yang tersaji seketika untuk wilayah mana pun di dunia? Disaster Ninja menampilkan beberapa kemampuan dari <2>Kontur</2> dalam mengatasi berbagai kebutuhan ini.<br/><br/>Pada awalnya, kami merancang alat ini sebagai alat bantu untuk pemetaan kemanusiaan. Kini, fungsionalitas dan kasus penggunaannya telah bertambah. Apakah Anda bekerja pada pengelolaan bencana, membangun kota cerdas, ataupun meneliti perubahan iklim, Disaster Ninja dapat membantu Anda untuk:",l1:"1. Selalu mendapatkan kabar terbaru tentang kejadian berbahaya terkini di seluruh dunia.",p1:"Panel Bencana disegarkan secara terus-menerus untuk memberi tahu Anda kejadian yang sedang berlangsung. Panel ini memakai data dari <2>Feed Kejadian Kontur</2>, yang juga dapat diakses melalui API.",l2:"2. Fokus pada area perhatian Anda.",p2:"Panel Peralatan Gambar memungkinkan Anda menggambar atau mengunggah geometri Anda sendiri pada peta. Anda juga dapat berfokus pada area yang terpapar bencana atau satuan administratif  negara, kota, atau wilayah.",l3:"3. Dapatkan analitik untuk area yang menjadi fokus.",p3:"Panel Analitik memperlihatkan jumlah orang yang tinggal di area tersebut untuk setiap <2>Populasi Kontur</2> dan perkiraan kesenjangan pemetaan di OpenStreetMap. Pelanggan Kontur memiliki akses ke ratusan indikator lainnya melalui Analitik Lanjut.",l4:"4. Selidiki data pada peta dan buat kesimpulan.",p4:"Panel Lapisan memberi Anda berbagai opsi untuk menampilkan dua indikator secara serentak pada peta bivariat, misalnya kepadatan populasi dan jarak ke stasiun pemadam kebakaran terdekat. Gunakan legenda warna untuk menilai area mana yang perlu diperhatikan. <br/>Petunjuk: secara umum, warna hijau menunjukkan risiko rendah/sedikit kesenjangan, warna merah  risiko tinggi/banyak kesenjangan.",p5:"Selain itu, Anda dapat beralih ke Laporan di panel kiri untuk mengakses data tentang potensi kesalahan dan inkonsistensi di OpenStreetMap serta membantu memperbaikinya dengan memetakan masing-masing area menggunakan editor JOSM.",goToMap:"Buka peta sekarang",p6:"Kami berharap agar alat ini bermanfaat bagi Anda. Gunakan kotak obrolan di Disaster Ninja untuk setiap pertanyaan tentang fungsionalitas, dan kami dengan senang hati akan memandu Anda. Anda juga dapat menghubungi kami melalui email di <1>hello@kontur.io</1> jika Anda memiliki tanggapan atau saran untuk meningkatkan alat ini.<br/><br/>Disaster Ninja adalah proyek sumber terbuka. Temukan kodenya di <8>akun GitHub Kontur</8>."},ane={get_location_error:"Kesalahan saat memperoleh lokasi",feature_title:"Temukan saya"},sne="Episode",lne="Memuat Episode",une={},cne={},fne={km:fte,m:pte,to:hte,maps:Ate,logout:dte,save:mte,cancel:gte,create:yte,disasters:vte,loading:_te,loading_events:xte,legend:bte,vertical_direction:wte,horizontal_direction:Ste,legend_presentation:Cte,layers:Ete,bivariate:kte,feed:Pte,deselect:Tte,spinner_text:Ite,updated:Mte,no_data_received:Ote,wrong_data_received:Lte,error:Dte,sort_icon:Rte,configs:Fte,errors:Bte,event_list:zte,categories:Nte,groups:Ute,modes:$te,advanced_analytics_data_list:jte,mcda:Vte,create_layer:Hte,analytics_panel:qte,advanced_analytics_panel:Gte,advanced_analytics_empty:Qte,current_event:Wte,draw_tools:Kte,boundary_selector:Zte,geometry_uploader:Xte,focus_geometry:Yte,focus_geometry_layer:Jte,drawings:ene,sidebar:tne,login:nne,profile:rne,reports:ine,about:one,locate_me:ane,episode:sne,loading_episodes:lne,cookie_banner:une,live_sensor:cne},pne="km",hne="m",Ane="bis",dne="Karten",mne="Abmelden",gne="Speichern",yne="Abbrechen",vne="Erstellen",_ne="Katastrophen",xne="Wird geladen...",bne="Ereignisse werden geladen",wne="Legende",Sne="Vertikale Richtung",Cne="Horizontale Richtung",Ene="Darstellung der Legende",kne="Ebenen",Pne={color_manager:{layers_filter:"Ebenen",not_defined:"Nicht definiert",sentiments_combinations_filter:"Stimmungs-Kombinationen",no_legends:"Es gibt keine Legenden, die den Kriterien entsprechen.",no_data:"Keine Daten.",sentiments_tab:"Stimmungen",color_legends_tab:"Farbe Legenden",layers_tab:"Ebenen (Indikatoren)"},panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Basisachse",annex_axis:"Hilfsachse",tooltip:{p1:"Diagramme mit der Basis- und der Hilfsachse helfen, eine Beziehung zwischen zwei Datenstzen herzustellen.",li1:"Hilfsachse - Parameter, die wir analysieren",li2:"Basisachse - Referenzpunkt in der Analyse",b:"Beispiel: der beste Standort fr die Erffnung eines Cafs",p2:"Wir knnen die Anzahl der Lokale (Hilfsachse) gegen die Bevlkerungsdichte (Basisachse) untersuchen.",p3:"In diesem Szenario liegt unser Interesse zunchst auf einer kleinen Anzahl von Lokalen, wobei uns die Anzahl der Personen in diesem Ort zustzliche Informationen liefert."}},header:{title:"Whlen Sie zwei Ebenen, um Zusammenhnge zu untersuchen",hint:"Die Ebenen und Zusammenhnge werden fr den aktuellen ausgewhlten Bereich angezeigt"},icon:{population:"Wert geteilt durch Einwohnerzahl",area_km2:"Wert geteilt durch Flche",total_building_count:"Wert geteilt durch geschtzte Gesamtbebauung",populated_area_km2:"Wert geteilt durch bevlkerte Flche",one:"Ohne Teilung",roads:"Wert geteilt durch die Gesamtlnge der Straen"},progress:{rendering:"bertragung",applied:"Wird auf die Karte angewendet"}},legend:{high:"Hoch",low:"Niedrig",medium:"Mittel"}},Tne="Feed",Ine="Auswahl aufheben",Mne="Daten sammeln",One="Aktualisiert",Lne="Keine Daten erhalten",Dne="Falsche Daten empfangen",Rne="Fehler",Fne="Sortiersymbol",Bne={Kontur_public_feed:"Kontur ffentlichkeit",Kontur_public_feed_description:"Der Feed enthlt Echtzeitdaten ber Wirbelstrme, Drren, Erdbeben, berschwemmungen, Vulkanausbrche und Waldbrnde."},zne={default:"Leider gibt es derzeit ein paar Probleme, die wir in Krze beheben werden",timeout:"Zeitberschreitung der Anfrage",cannot_connect:"Die Verbindung zum Server kann nicht hergestellt werden",forbidden:"Verboten",not_found:"Nicht gefunden",unknown:"Unbekannt",server_error:"Serverfehler"},Nne={severity_unknown:"Unbekannt",warning_title:"Die Karte kann nicht als Filter verwendet werden",warning_description:"Die Karte ist noch nicht bereit. Bitte versuchen Sie es spter.",bbox_filter_button:"Kartenansicht als Filter verwenden",analytics:{affected_people:{tooltip:"Betroffene Menschen",value:"Keine humanitren Auswirkungen"},settled_area_tooltip:"Besiedeltes Gebiet",loss_tooltip:"Geschtzter Verlust"},no_event_in_feed:"Das Ereignis wurde nicht im aktuellen Ereignis-Feed gefunden",no_selected_disaster:"Keine Katastrophe ausgewhlt",chose_disaster:"Katastrophe auswhlen"},Une={overlays:"berlagerungen",basemap:"Basiskarte"},$ne={layers_in_selected_area:"Ebenen im ausgewhlten Bereich",your_layers:"Ihre Ebenen",kontur_analytics:"Kontur Analytik",qa:"QS",osmbasedmap:"Basierend auf OpenStreetMap",other:"Andere",elevation:"Hhe",photo:"Foto",map:"Karte"},jne={map:"Karte",about:"ber uns",reports:"Berichte",profile:"Profil"},Vne={load_world_data:"Weltdaten laden",numerator:"Zhler",normalized_by:"Normalisiert auf",sum:"Summe",min:"Min",max:"Max",mean:"Mittelwert",stddev:"SD",median:"Median",filter_denominator:"Filter Nenner"},Hne={},qne={edit_layer:"Ebene bearbeiten",edit_features:"Merkmale bearbeiten",delete_layer:"Ebene lschen",create_layer:"Ebene erstellen",saving_layer:"Ebene wird gespeichert...",field_name:"Feldname",layer_name:"Name der Ebene",marker_icon:"Markierungssymbol",type:"Typ",select:"Auswhlen",short_text:"Kurzer Text",long_text:"Langer Text",link:"Link",image:"Bild",fields:"Felder",add_field:"Feld hinzufgen",location:"Standort",edit_feature_placeholder:"Whlen Sie einige Merkmale aus, um Merkmalseigenschaften zu bearbeiten"},Gne={header_title:"Analytik",error_loading:"Fehler beim Abrufen von Analysedaten"},Qne={header_title:"Erweiterte Analytik",error:"Fehler beim Abrufen von erweiterten Analysedaten"},Wne={not_found:"Leider wurde das gewnschte Ereignis nicht gefunden.",error:"Es ist ein Fehler aufgetreten!"},Kne={not_found_request:"Leider wurde das gewnschte Ereignis nicht gefunden."},Zne={area:"Gebiet",line:"Linie",point:"Punkt",finish_drawing:"Zeichnen beenden",caption:"Klicken Sie auf die Karte, um mit dem Zeichnen zu beginnen",no_geometry_error:"Keine gezeichnete Formen zum Herunterladen",overlap_error:"Das Polygon darf sich nicht berschneiden",save_features:"Merkmale speichern"},Xne={title:"Fokus auf die Verwaltungsgrenze"},Yne={title:"Fokus auf die hochgeladene geometrische Form",error:"Fehler beim Lesen der hochgeladenen Datei"},Jne={title:"Fokus auf freihndig gezeichnete Formen"},ere={settings:{name:"Ausgewhltes Gebiet"}},tre={self_directions_not_supported:"berschneidungen werden nicht untersttzt!"},nre={biv_color_manager:"Farbmanager",edit_osm:"In OpenStreetMap bearbeiten",ruler:"Lineal",collapse:"Zusammenklappen",expand:"Erweitern",icon_alt:"Logo der Anwendung"},rre={email:"E-Mail",password:"Passwort",login_button:"Anmelden",sign_up:"Registrieren",logging_in:"Anmelden...",log_in:"Einloggen",description:"Bitte melden Sie sich an, um Ihre Einstellungen zu ndern",error:{email_empty:"E-Mail darf nicht leer sein!",email_invalid:"E-Mail muss gltig sein!",password:"Passwort darf nicht leer sein!",connect:"Die Verbindung zum Authentifizierungsdienst konnte nicht hergestellt werden"}},ire={email:"E-Mail",profileSettingsHeader:"Profil",interfaceTheme:"Thema",interfaceLanguage:"Sprache",units:"Einheiten",fullName:"Vollstndiger Name",metric:"metrisch",imperialBeta:"imperial (beta)",appSettingsHeader:"Einstellungen",saveButton:"nderungen speichern",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Standardmige Katastrophenmeldung",defaultOSMeditor:"Standardmiger OpenStreetMap-Editor (Beta)",successNotification:"Alle nderungen wurden erfolgreich bernommen",languageOption:{en:"Englisch",es:"Spanisch",ar:"Arabisch",ko:"Koreanisch",id:"Indonesisch",de:"Deutsch",uk:"Ukrainisch"}},ore={title:"Disaster Ninja Berichte",no_data:"Keine Daten fr diesen Bericht",sorting:"Daten werden sortiert...",loading:"Daten werden geladen",search_location:"Standort suchen",open_josm:"ffnen ber die JOSM-Fernsteuerung",josm_logo_alt:"JOSM-Logo",see_all:"Alle Berichte anzeigen",wrong_id:"Falsche Berichts-ID",description:"<0>Kontur </0> generiert verschiedene Berichte, die bei der berprfung der Qualitt von OpenStreetMap helfen. Sie enthalten Links zu Gebieten auf <4>osm.org </4> und Links, um sie im JOSM-Editor mit aktivierter Fernsteuerung zur Bearbeitung ffnen zu knnen."},are={title:"Willkommen bei Disaster Ninja!",intro:"Mchten Sie ber aktuelle Katastrophen informiert werden? Sind Sie an sofortigen Bevlkerungsdaten und anderen Analysen fr eine beliebige Region auf der Welt interessiert? Disaster Ninja zeigt Ihnen einige der Funktionen von <2>Kontur</2>, mit denen diese Anforderungen umgesetzt werden knnen.<br/><br/>Ursprnglich haben wir es als Entscheidungshilfe fr Kartografen im humanitren Bereich entwickelt. Mittlerweile ist der Funktionsumfang und der Anwendungsbereich des Programms erweitert worden. Ganz gleich, ob Sie im Katastrophenmanagement ttig sind, eine intelligente Stadt bauen oder ber den Klimawandel forschen, Disaster Ninja kann Ihnen dabei helfen:",l1:"1. ber die aktuellen Gefahrenereignisse weltweit auf dem Laufenden zu bleiben.",p1:"Das Bedienfeld von Disasters wird kontinuierlich aktualisiert, um Sie ber aktuelle Ereignisse zu informieren. Es bezieht die Daten aus dem <2>Kontur Ereignis-Feed</2>, auf den Sie auch ber eine API zugreifen knnen.",l2:"2. Den Fokus auf Ihr Interessengebiet zu legen.",p2:"Mit den Zeichenwerkzeugen knnen Sie Ihre eigene geometrische Form auf die Karte zeichnen oder hochladen. Sie knnen sich auch auf ein von einer Katastrophe betroffenes Gebiet oder eine Verwaltungseinheit - ein Land, eine Stadt oder eine Region - konzentrieren.",l3:"3. Die Analytik fr den ausgewhlten Bereich aufrufen.",p3:"Das Bedienfeld Analytik zeigt die Anzahl der in diesem Gebiet lebenden Menschen pro <2>Kontur Bevlkerung</2> und geschtzte Kartierungslcken in OpenStreetMap. Kontur-Kunden haben ber Erweiterte Analytik Zugang zu Hunderten von weiteren Indikatoren.",l4:"4. Die Daten auf der Karte entdecken und Schlussfolgerungen ziehen.",p4:"Das Ebenen-Panel bietet Ihnen verschiedene Optionen, um zwei Indikatoren gleichzeitig auf einer bivariaten Karte anzuzeigen, z. B. die Bevlkerungsdichte und die Entfernung zur nchsten Feuerwache. Verwenden Sie die Farblegende, um zu beurteilen, welche Bereiche Aufmerksamkeit erfordern. <br/>Tipp: Im Allgemeinen bedeutet grn ein geringes Risiko / wenige Lcken, rot ein hohes Risiko / viele Lcken.",p5:"Auerdem knnen Sie im linken Bereich zu Berichte wechseln, um auf Daten zu potenziellen Fehlern und Unstimmigkeiten in OpenStreetMap zuzugreifen und dabei zu helfen, diese zu beheben, indem Sie das entsprechende Gebiet mit dem JOSM-Editor kartieren.",goToMap:"Jetzt die Karte aufrufen",p6:"Wir hoffen, dass dieses Tool Ihnen von Nutzen ist. Wenn Sie Fragen zur Funktionalitt haben, knnen Sie die Chatbox auf Disaster Ninja nutzen, und wir helfen Ihnen gerne weiter. Sie knnen uns auch eine E-Mail an <1>hello@kontur.io</1> schreiben, wenn Sie Feedback oder Vorschlge zur Verbesserung des Tools haben.<br/><br/>Disaster Ninja ist ein Open-Source-Projekt. Sie finden den Code in <8>Konturs GitHub-Konto</8>."},sre={get_location_error:"Fehler beim Abrufen des Standorts",feature_title:"Standort finden"},lre="Episode",ure="Episoden werden geladen",cre={},fre={},pre={km:pne,m:hne,to:Ane,maps:dne,logout:mne,save:gne,cancel:yne,create:vne,disasters:_ne,loading:xne,loading_events:bne,legend:wne,vertical_direction:Sne,horizontal_direction:Cne,legend_presentation:Ene,layers:kne,bivariate:Pne,feed:Tne,deselect:Ine,spinner_text:Mne,updated:One,no_data_received:Lne,wrong_data_received:Dne,error:Rne,sort_icon:Fne,configs:Bne,errors:zne,event_list:Nne,categories:Une,groups:$ne,modes:jne,advanced_analytics_data_list:Vne,mcda:Hne,create_layer:qne,analytics_panel:Gne,advanced_analytics_panel:Qne,advanced_analytics_empty:Wne,current_event:Kne,draw_tools:Zne,boundary_selector:Xne,geometry_uploader:Yne,focus_geometry:Jne,focus_geometry_layer:ere,drawings:tre,sidebar:nre,login:rre,profile:ire,reports:ore,about:are,locate_me:sre,episode:lre,loading_episodes:ure,cookie_banner:cre,live_sensor:fre},hre="",Are="",dre="",mre="",gre="",yre="",vre="",_re="",xre="",bre="...",wre=" ",Sre="",Cre=" ",Ere=" ",kre=" ",Pre="",Tre={color_manager:{layers_filter:"",not_defined:" ",sentiments_combinations_filter:" ",no_legends:" ,   .",no_data:" .",sentiments_tab:"",color_legends_tab:" ",layers_tab:" ()"},panel:{header:" "},matrix:{caption:{base_axis:" ",annex_axis:" ",tooltip:{p1:",      ,       .",li1:"  - ,   ",li2:"  -   ",b:":     ",p2:"      ( )    ( ).",p3:"         ,          ."}},header:{title:"  ,    ",hint:"      "},icon:{population:",    ",area_km2:",   ",total_building_count:",     ",populated_area_km2:",    ",one:" ",roads:",     "},progress:{rendering:"",applied:"  "},loading_error:" ,     .     ."},legend:{high:"",low:"",medium:""}},Ire="",Mre=" ",Ore=" ",Lre="",Dre=" ",Rre="  ",Fre="",Bre=" ",zre={Kontur_public_feed_description:"       , , , , ,  ."},Nre={default:",    ,    ",timeout:"   ",cannot_connect:"  '  ",forbidden:"",not_found:" ",unknown:"",server_error:" "},Ure={severity_unknown:"",warning_title:"     ",warning_description:"   ,  ",bbox_filter_button:"    ",analytics:{affected_people:{tooltip:"  ",value:"  "},settled_area_tooltip:" ",loss_tooltip:" "},no_event_in_feed:"      ",no_selected_disaster:"  ",chose_disaster:" ",no_historical_disasters:"     ",no_feed_disasters:"   ",no_disasters:" ",severity_termination:"",severity_minor:"",severity_moderate:"",severity_severe:"",severity_extreme:"",open_timeline_button:"  "},$re={overlays:"",basemap:" "},jre={layers_in_selected_area:"   ",your_layers:" ",kontur_analytics:" Kontur",qa:" ",osmbasedmap:"  OpenStreetMap",other:"",elevation:"'",photo:"",map:""},Vre={map:"",about:" ",reports:"",profile:"",privacy:""},Hre={load_world_data:"    ",numerator:"",normalized_by:" ",sum:"",min:".",max:".",mean:"",stddev:" ",median:"",filter_numerator:" ",filter_denominator:" "},qre={},Gre={edit_layer:" ",edit_features:" '",delete_layer:" ",create_layer:" ",saving_layer:" ...",field_name:" ",layer_name:" ",marker_icon:" ",type:"",select:"",short_text:"()",long_text:"()",link:"",image:"",fields:"",add_field:" ",location:"",edit_feature_placeholder:"     "},Qre={header_title:"",error_loading:"     "},Wre={header_title:" ",error:"      "},Kre={not_found:",   .",error:" !",analytics_for_selected:"   ",will_be_provided:"  "},Zre={not_found_request:",   ."},Xre={area:"",line:"",point:"",finish_drawing:" ",caption:"  ,   ",no_geometry_error:"   ",overlap_error:"     ",save_features:" '"},Yre={title:"   "},Jre={title:"   ",error:"    "},eie={title:"   "},tie={settings:{name:" "}},nie={self_directions_not_supported:"  !"},rie={biv_color_manager:" ",edit_osm:"  OpenStreetMap",ruler:"",collapse:"",expand:"",icon_alt:" "},iie={email:" ",password:"",login_button:"",sign_up:"",logging_in:"...",log_in:"",description:",   ",error:{email_empty:"     !",email_invalid:"    !",password:"    !",connect:"  '   "}},oie={email:" ",profileSettingsHeader:"",interfaceTheme:"",interfaceLanguage:"",units:" ",fullName:" '",metric:" ",imperialBeta:"  ()",appSettingsHeader:"",saveButton:" ","userBio(about)":" ",defaultDisasterFeed:"   ",defaultOSMeditor:" OpenStreetMap   ()",successNotification:"   ",languageOption:{en:"",es:"",ar:"",ko:"",id:"",de:"",uk:""}},aie={title:" Disaster Ninja",no_data:"   ",sorting:" ...",loading:" ",search_location:" ",open_josm:"  JOSM",josm_logo_alt:" JOSM",see_all:"  ",wrong_id:" ID ",description:"<0>Kontur </0>         OpenStreetMap.     <4>osm.org</4>  ,      JOSM  ."},sie={title:"  Disaster Ninja!",intro:"     ?           -  ? Disaster Ninja  <2>Kontur</2>    .<br/><br/>           .    .   ,         ,         , Disaster Ninja   :",l1:"1.        .",p1:"   ,      .      <2>Kontur</2>,        API.",l2:"2.     .",p2:' " "        .      ,     ,      ,   .',l3:"3.     .",p3:"    ,        <2> Kontur</2>      OpenStreetMap.  Kontur          .",l4:"4.       .",p4:' ""          , ,        .   ,  ,    . <br/>:       /  ,     /  .',p5:" ,        ,             OpenStreetMap    ,     JOSM.",goToMap:"  ",p6:" ,     .     Disaster Ninja,   -   ,      .         <1>hello@kontur.io</1>          .<br/><br/> Disaster Ninja     .      GitHub <8>Kontur</8>."},lie={get_location_error:"    ",feature_title:" "},uie="",cie=" ",fie={header:"   ",body:`     cookies,     ,    cookies,   Disaster Ninja   .   -    cookies        cookies.
  ,   [ ]( /)`,decline_all:"  cookies",accept_all:"  cookies"},pie={start:"    ",finish:"    ",finishMessage:"  ",startMessage:"  ",noSensorsError:"     "},hie={km:hre,m:Are,to:dre,maps:mre,logout:gre,save:yre,cancel:vre,create:_re,disasters:xre,loading:bre,loading_events:wre,legend:Sre,vertical_direction:Cre,horizontal_direction:Ere,legend_presentation:kre,layers:Pre,bivariate:Tre,feed:Ire,deselect:Mre,spinner_text:Ore,updated:Lre,no_data_received:Dre,wrong_data_received:Rre,error:Fre,sort_icon:Bre,configs:zre,errors:Nre,event_list:Ure,categories:$re,groups:jre,modes:Vre,advanced_analytics_data_list:Hre,mcda:qre,create_layer:Gre,analytics_panel:Qre,advanced_analytics_panel:Wre,advanced_analytics_empty:Kre,current_event:Zre,draw_tools:Xre,boundary_selector:Yre,geometry_uploader:Jre,focus_geometry:eie,focus_geometry_layer:tie,drawings:nie,sidebar:rie,login:iie,profile:oie,reports:aie,about:sie,locate_me:lie,episode:uie,loading_episodes:cie,cookie_banner:fie,live_sensor:pie},Aie="en";ns.use(ML).use(QZ).init({fallbackLng:Aie,debug:!1,defaultNS:"common",interpolation:{escapeValue:!1},contextSeparator:":",pluralSeparator:":",resources:{en:{common:sY},es:{common:lJ},ar:{common:uee},ko:{common:cte},id:{common:fne},de:{common:pre},uk:{common:hie}}});const Ai={t:(e,t)=>{const n=ns.t(e,t);return typeof n=="string"?n:(console.error(`Not supported translation result for key: ${e}`),e)},instance:ns},ys=3,OL=[0,ys-1,ys*ys-ys,ys*ys-1],r2=`${Ai.t("bivariate.legend.low")}`,i2=`${Ai.t("bivariate.legend.high")}`,LL=Ai.t("bivariate.legend.medium"),die=e=>Array.from(Array(ys),(t,n)=>n).includes(e),$S=e=>{const t=ys*ys-ys;return Array.from(Array(ys),(n,i)=>t+i).includes(e)},jS=e=>Array.from(Array(ys),(t,n)=>n*ys).includes(e),mie=e=>Array.from(Array(ys),(t,n)=>n*ys+(ys-1)).includes(e);const Nx=jt.memo(({children:e,tooltipText:t,renderTooltip:n,tooltipId:i,hoverBehavior:s=!0,popupClasses:l})=>{const a=kS(ry.setCurrentTooltip),x=kS(ry.resetCurrentTooltip),S=F=>{t&&a({popupClasses:l,popup:t,position:{x:F.clientX,y:F.clientY},onOuterClick(N,$){$()},initiatorId:i,hoverBehavior:s})};return e({showTooltip:(F,...N)=>{n?n(F,a,...N):S(F)},hideTooltip:()=>{x()}})});Nx.displayName="TooltipWrapper";function LA(e){return["get",e]}function gie(e){return["var",e]}function F8(e,t){return["<",e,t]}function VS(e,t){return["!=",e,t]}function yie(e,t){return["==",e,t]}function HS(e,t){return[e,t]}function qS(...e){const t=e.pop();return["case",...e.flat(2),t]}function vie(...e){return["concat",...e]}function _ie(e,t,n){return["let",e,t,n]}function DL(...e){return["any",...e]}function GS(e){return typeof e=="string"?e==="1"?1:LA(e):Array.isArray(e)?e.map((t,n)=>n===0?t:GS(t)):e}const xie=64,QS=e=>String.fromCharCode(xie+e);function bie(e,t){const n=GS(e.propName),i=GS(t.propName);return vie(qS(e.borders.map((s,l)=>HS(F8(n,s),QS(l))),QS(e.borders.length)),qS(t.borders.map((s,l)=>HS(F8(i,s),l)),t.borders.length))}function wie(e,t,n){return qS(Object.entries(t).map(([i,s])=>HS(yie(gie(e),i),s)),n)}function Sie(e){return Object.fromEntries(e.map(Object.values))}function Cie(e,t){return DL(VS(["/",LA(e.quotient[0]),LA(e.quotient[1])],0),VS(["/",LA(t.quotient[0]),LA(t.quotient[1])],0))}function Eie(e,t,n){return _ie("class",bie({propName:["/",...e.quotient],borders:e.steps.reduce((i,{value:s})=>(i.push(s),i),[])},{propName:["/",...t.quotient],borders:t.steps.reduce((i,{value:s})=>(i.push(s),i),[])}),wie("class",n,"transparent"))}function RL({x:e,y:t,colors:n,source:i,sourceLayer:s,id:l="bivariate"}){const a={id:l,type:"fill",layout:{},filter:Cie(e,t),paint:{"fill-color":Eie(e,t,Sie(n)),"fill-opacity":1,"fill-antialias":!1}};return i&&(a.source=i),s&&(a["source-layer"]=s),a}function kie(e,t="id"){const n=e.reduce((i,s)=>{const l=s[t].slice(0,1);return i[l]?i[l].push(s):i[l]=[s],i},{});return Object.values(n)}function Pie(e,t="id"){return[...kie(e,t)].reverse().reduce((i,s)=>i.concat(s),[])}function B8(e,t=0,{start:n=!0,middle:i=!0,once:s=!1}={}){let l=0,a,x=!1;function S(...P){if(x)return;const L=Date.now()-l;l=Date.now(),n?(n=!1,e.apply(this,P),s&&S.cancel()):(i&&L<t||!i)&&(clearTimeout(a),a=setTimeout(()=>{l=Date.now(),e.apply(this,P),s&&S.cancel()},i?t-L:t))}return S.cancel=()=>{clearTimeout(a),x=!0},S}const Tie=e=>e!==null&&typeof e=="object"&&"message"in e,FL=e=>e.charAt(0).toUpperCase()+e.slice(1),Iie=e=>e.map(FL).join(", "),WS=(e,t)=>e.reduce((n,i)=>n+i[t],0),Mie=e=>Array.isArray(e)?Iie(e):FL(e),z8=e=>{if(!e)return"";const[t,n]=e;return N8(t.unit.id)?n.name==="one"?`${t.label} (${t.unit.shortName})`:N8(n.unit.id)?n.name==="area_km2"?`${t.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName})`:`${t.label} to ${n.label}`},N8=e=>!!(e&&e!=="other"),Oie="_tooltipRoot_zjmcz_1",Lie="_tooltipRow_zjmcz_11",Die="_sentimentDirection_zjmcz_17",Rie="_sentimentLabel_zjmcz_21",Fie="_sentimentInfo_zjmcz_25",Bie="_indicator_zjmcz_29",qd={tooltipRoot:Oie,tooltipRow:Lie,sentimentDirection:Die,sentimentLabel:Rie,sentimentInfo:Fie,indicator:Bie},zie=({children:e,hints:t})=>{const n=(i,s,l,a)=>{t&&OL.includes(a)&&s({popup:_t(Nie,{cellIndex:a,hints:t}),position:{x:i.clientX,y:i.clientY},hoverBehavior:!0})};return jt.isValidElement(e)?_t(Nx,{renderTooltip:n,children:({showTooltip:i,hideTooltip:s})=>jt.cloneElement(e,{onCellPointerOver:i,onCellPointerLeave:s})}):null},Nie=({hints:e,cellIndex:t})=>{var i,s,l,a,x,S;if(!e)return null;const n=[{label:(i=e.x)==null?void 0:i.label,direction:(l=(s=e.x)==null?void 0:s.direction)==null?void 0:l[$S(t)?0:1],indicator:$S(t)?r2:i2},{label:(a=e.y)==null?void 0:a.label,direction:(S=(x=e.y)==null?void 0:x.direction)==null?void 0:S[jS(t)?0:1],indicator:jS(t)?r2:i2}];return _t("div",{className:aa(qd.tooltipRoot),children:n.map(({label:P,direction:L,indicator:F},N)=>wr("div",{className:aa(qd.tooltipRow),children:[_t("span",{className:aa(qd.indicator),children:F}),wr("span",{className:aa(qd.sentimentInfo),children:[wr("span",{className:aa(qd.sentimentLabel),children:[P," "]}),L&&_t("span",{className:aa(qd.sentimentDirection),children:Mie(L)})]})]},N))})},Uie={hints:{x:{label:"Average NDVI, JUN 2019",direction:[["bad"],["good"]]},y:{label:"Multi-hazard exposure PDC GRVA",direction:[["unimportant"],["bad","important"]]}}},$ie={x:{label:"Multi-hazard exposure PDC GRVA to 1",steps:[{label:"",value:0},{label:"",value:.48},{label:"",value:.62},{label:"",value:1}],quality:.997101882904748,quotient:["mhe_index","one"]},y:{label:"Average NDVI, JUN 2019 to 1",steps:[{label:"",value:-1},{label:"",value:.3625118070036407},{label:"",value:.6441754083082613},{label:"",value:1}],quality:.9410965072118505,quotient:["avg_ndvi","one"]}},jie=[{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(179,165,130,0.5)"},{label:"C3",color:"rgba(153,153,153,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(195,163,111,0.5)"},{label:"B3",color:"rgba(204,103,116,0.5)"},{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"}];function Vie(){return wr(CO,{children:[_t(CL,{}),_t(zie,{meta:Uie,children:_t(CH,{showAxisLabels:!0,size:ys,axis:$ie,cells:jie})})]})}const Hie="_LegendGrid_1ko5k_1",qie="_LegendGridCell_1ko5k_10",Gie="_LegendGridCellChanged_1ko5k_17",Qie="_LegendGridCellUndefinedChanged_1ko5k_22",Wie="_CircleIndicator_1ko5k_26",Kie="_UndefinedColorsIndicator_1ko5k_36",Gd={LegendGrid:Hie,LegendGridCell:qie,LegendGridCellChanged:Gie,LegendGridCellUndefinedChanged:Qie,CircleIndicator:Wie,UndefinedColorsIndicator:Kie},qm=({legendSteps:e,changes:t={}})=>{const n=OL.map(s=>e[s]),i=e.some(s=>s.isFallbackColor);return wr("div",{className:Gd.LegendGrid,children:[n.map(s=>{var P;let l=s.color,a=!1,x,S;if(t[s.label]){a=!0;const L=(P=t[s.label])==null?void 0:P.color;l=L,x=L?Gd.LegendGridCellChanged:Gd.LegendGridCellUndefinedChanged}return l&&(S={backgroundColor:l}),_t("div",{className:aa(Gd.LegendGridCell,x),style:S,children:a&&_t("div",{className:Gd.CircleIndicator})},s.label)}),i&&_t("div",{className:Gd.UndefinedColorsIndicator,children:_t(Zie,{})})]})},Zie=()=>wr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[_t("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),_t("path",{d:"M10 3C6.13438 3 3 6.13438 3 10C3 13.8656 6.13438 17 10 17C13.8656 17 17 13.8656 17 10C17 6.13438 13.8656 3 10 3ZM10 15.8125C6.79063 15.8125 4.1875 13.2094 4.1875 10C4.1875 6.79063 6.79063 4.1875 10 4.1875C13.2094 4.1875 15.8125 6.79063 15.8125 10C15.8125 13.2094 13.2094 15.8125 10 15.8125Z",fill:"#F5222D"}),_t("path",{d:"M9.25 12.75C9.25 12.9489 9.32902 13.1397 9.46967 13.2803C9.61032 13.421 9.80109 13.5 10 13.5C10.1989 13.5 10.3897 13.421 10.5303 13.2803C10.671 13.1397 10.75 12.9489 10.75 12.75C10.75 12.5511 10.671 12.3603 10.5303 12.2197C10.3897 12.079 10.1989 12 10 12C9.80109 12 9.61032 12.079 9.46967 12.2197C9.32902 12.3603 9.25 12.5511 9.25 12.75ZM9.625 11H10.375C10.4438 11 10.5 10.9438 10.5 10.875V6.625C10.5 6.55625 10.4438 6.5 10.375 6.5H9.625C9.55625 6.5 9.5 6.55625 9.5 6.625V10.875C9.5 10.9438 9.55625 11 9.625 11Z",fill:"#F5222D"})]}),Gm=[{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(159,171,87,0.5)"},{label:"B3",color:"rgba(140,127,57,0.5)"},{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(88,176,117,0.5)"},{label:"C3",color:"rgba(83,152,106,0.5)"}],Xie=wr("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:["All next colors - undefined",_t(qm,{legendSteps:Gm,changes:{A1:{color:void 0},A3:{color:void 0},C1:{color:void 0},C3:{color:void 0}}}),"No changes",_t(qm,{legendSteps:Gm,changes:{}}),"All changed",_t(qm,{legendSteps:Gm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(171, 216, 237, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed",_t(qm,{legendSteps:Gm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed, half comes incorrect",_t(qm,{legendSteps:Gm,changes:{A1:{color:void 0},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:void 0}}})]}),Yie="modulepreload",Jie=function(e,t){return new URL(e,t).href},U8={},eoe=function(t,n,i){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=Jie(l,i),l in U8)return;U8[l]=!0;const a=l.endsWith(".css"),x=a?'[rel="stylesheet"]':"";if(!!i)for(let L=s.length-1;L>=0;L--){const F=s[L];if(F.href===l&&(!a||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${x}`))return;const P=document.createElement("link");if(P.rel=a?"stylesheet":Yie,a||(P.as="script",P.crossOrigin=""),P.href=l,document.head.appendChild(P),a)return new Promise((L,F)=>{P.addEventListener("load",L),P.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},toe=e=>new Proxy({},{get:(t,n)=>{if(typeof n=="string")return jt.lazy(()=>e(n).then(i=>({default:i[n]})))}}),$8="bivariate-greetings-disabled",noe="_container_zzzsn_1",roe="_closeButton_zzzsn_8",j8={container:noe,closeButton:roe},{BivariateGreetings:ioe}=toe(()=>eoe(()=>import("./BivariateGreetings-4f8d61f9.js"),[],import.meta.url)),ooe=({className:e})=>{const[t,n]=jt.useState(!1);jt.useEffect(()=>{!localStorage.getItem($8)&&!t&&n(!0)},[]);const i=()=>{n(!1),localStorage.setItem($8,"true")};return t?wr("div",{className:aa(e,j8.container),children:[_t(jt.Suspense,{fallback:null,children:_t(ioe,{})}),_t("div",{onClick:i,className:j8.closeButton,children:_t(vV,{})})]}):null},aoe=()=>_t(ooe,{});var soe=0;function loe(e){var t=e.get,n=e.set,i=e.throttle,s=i===void 0?0:i;return function(l){var a="__persistIntervalId"+ ++soe;return function(x){return function(S,P){var L=P.atom.id;P.tracks==null&&(P.state=t(l??L));var F=x(S,P);return n!=null&&S.schedule(function(){var N;s==0?n(l??L,F.state):((N=F.ctx[a])!=null?N:null)===null&&(F.ctx[a]=setTimeout(function(){F.ctx[a]=null,n(l??L,S.getCache(F.atom).state)},150))}),F}}}}var uoe={get:function(e){var t,n=(t=globalThis.localStorage)==null?void 0:t.getItem(e);return n?JSON.parse(n):void 0},set:function(e,t){var n;return(n=globalThis.localStorage)==null?void 0:n.setItem(e,JSON.stringify(t))},throttle:150};loe(uoe);function coe(e,t){if(Object.is(e,t))return!0;if(J_(e)&&J_(t)){var n=Object.keys(e),i=Object.keys(t);return n.length==i.length&&n.every(function(s){return Object.is(e[s],t[s])})}return!1}function BL(e){return e===void 0&&(e=coe),function(t){return function(n,i){var s=t(n,i);return i.tracks!=null&&e(i.state,s.state)&&(s.state=i.state),s}}}class R0 extends Error{constructor(n,i,s=0){super(n);rr(this,"problem");rr(this,"status",0);this.problem=i,this.status=s,Object.setPrototypeOf(this,R0.prototype)}}function zL(e){return e.problem?typeof e.problem=="object":!1}const NL="Abort error",V8=e=>e?typeof e=="string"?e===NL:zL(e)?e.problem.kind==="canceled":e instanceof DOMException?e.name==="AbortError":!1:!1;async function foe(e,t){return new Promise((n,i)=>{if(e.signal.aborted)return Promise.reject(new DOMException("Aborted","AbortError"));const s=()=>{e.signal.removeEventListener("abort",s),i(new DOMException("Aborted","AbortError"))};e.signal.addEventListener("abort",s),t.then(n).catch(i).finally(()=>e.signal.removeEventListener("abort",s))})}function poe(e){return"loading"in e||"error"in e}const hoe="",Aoe=e=>(...t)=>{e===hoe&&console.log(...t)},Bw={inheritState:!1,store:yL,auto:!0},UL=(e=>t=>{if(!e.has(t))return e.add(t),t;console.warn(`Atom with name ${t} already exist. Full page reload recommended`);const n=t+performance.now();return UL(n)})(new Set);function $L(e,t,n,i={}){const s=Aoe(n),l={...i,auto:i.auto??Bw.auto,inheritState:i.inheritState??Bw.inheritState,store:i.store??Bw.store},a={request:S=>S,refetch:()=>null,cancel:()=>null,_done:(S,P)=>({params:S,data:P}),_error:(S,P)=>({params:S,error:P}),_loading:S=>({params:S})};return e&&(a.depsAtom=e),Oo(a,({onAction:S,schedule:P,create:L,onChange:F,get:N},$={loading:!1,data:null,error:null,lastParams:null,dirty:!1})=>{const q={...$};return S("request",K=>{q.dirty=!0,P(async(te,V)=>{if(s("1. Request",K),V.abortController){s("2. Cancel flow"),V.abortController.abort(),delete V.abortController;let ee=!1;try{s("2.1. Cancel flow: await activeRequest"),await V.activeRequest}catch(ce){s("2.2. Cancel flow: activeRequest have error"),ee=V8(ce)}ee&&(s("2.3. Cancel flow: activeRequest was canceled"),s("2.4. Repeat request"),te(L("request",K)));return}s("3. Set loading state"),te(L("_loading",K));const X=new AbortController;try{V.abortController=X,V.activeRequest=foe(X,t(K,X)),s("4. Wait result");const ee=await V.activeRequest;ee===void 0&&console.warn("resourceAtom: fetcherResult undefined"),delete V.activeRequest,s("5. Check that it was aborted:"),X.signal.throwIfAborted(),s("5.1.A. request was not aborted"),V.abortController===X&&(s("5.1.A.1. Done"),delete V.abortController,te(L("_done",K,ee)),l.onSuccess&&l.onSuccess(te,K,ee))}catch(ee){if(V8(ee))s("5.1.B. request was aborted"),s("5.1.B.1. Error"),te(L("_error",K,NL));else if(V.abortController===X){delete V.abortController,s("5.1.C Not abort error"),console.error(`[${n}]:`,ee);const ce=Tie(ee)?ee.message:typeof ee=="string"?ee:"Unknown";te(L("_error",K,ce))}}})}),S("refetch",()=>{P((K,te)=>{$.dirty&&!$.loading?K(L("request",q.lastParams)):console.error(`[${n}]:`,"Do not call refetch before request")})}),S("cancel",()=>{P(async(K,te)=>{te.abortController&&(te.abortController.abort(),delete te.abortController)})}),S("_loading",({params:K})=>{q.loading=!0,q.error=null,q.lastParams=K}),S("_error",({params:K,error:te})=>{q.error=te,q.lastParams=K,q.loading=!1}),S("_done",({data:K,params:te})=>{q.data=K,q.error=null,q.loading=!1,q.lastParams=te}),a.depsAtom?F("depsAtom",K=>{var te;J_(K)?(l.inheritState&&(q.loading=K.loading||q.loading,q.error=K.error||q.error),poe(K)?!K.loading&&!K.error&&K.dirty&&P(V=>V(L("request",K.data))):P(V=>V(L("request",K)))):K!==null?P(V=>V(L("request",K))):console.warn(`Resource atom with name ${n} skips running as its dependency state ${(te=a==null?void 0:a.depsAtom)==null?void 0:te.id} is null`)}):l.auto&&!q.dirty&&P(K=>K(L("request",null))),q},{id:UL(n),store:l.store,decorators:[BL()]})}const Eh={global:{},custom:{},overrides:{},merged:{}};function doe(){var n,i,s,l;const e=globalThis.konturAppConfig??{},t={apiGateway:e.API_GATEWAY,reportsApi:e.REPORTS_API,bivariateTilesRelativeUrl:e.BIVARIATE_TILES_RELATIVE_URL,bivariateTilesServer:e.BIVARIATE_TILES_SERVER,bivariateTilesIndicatorsClass:e.BIVARIATE_TILES_INDICATORS_CLASS,refreshIntervalSec:e.REFRESH_INTERVAL_SEC,mapBaseStyle:e.MAP_BASE_STYLE,featuresByDefault:e.FEATURES_BY_DEFAULT,defaultFeed:e.DEFAULT_FEED,keycloakUrl:e.KEYCLOAK_URL,keycloakRealm:e.KEYCLOAK_REALM,keycloakClientId:e.KEYCLOAK_CLIENT_ID,yandexMetricaId:e.YANDEX_METRICA_ID,baseUrl:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_BASE_PATH,autoFocus:{desktopPaddings:{top:((n=e.AUTOFOCUS_PADDINGS)==null?void 0:n[0])??0,right:((i=e.AUTOFOCUS_PADDINGS)==null?void 0:i[1])??0,bottom:((s=e.AUTOFOCUS_PADDINGS)==null?void 0:s[2])??0,left:((l=e.AUTOFOCUS_PADDINGS)==null?void 0:l[3])??0},maxZoom:e.AUTOFOCUS_ZOOM},intercom:{name:e.INTERCOM_DEFAULT_NAME,app_id:e.INTERCOM_APP_ID,custom_launcher_selector:e.INTERCOM_SELECTOR},osmEditors:e.OSM_EDITORS||[{id:"josm",title:"JOSM",url:"https://www.openstreetmap.org/edit?editor=remote#map="}],effectiveFeatures:{}};return Eh.global=t,t}function moe(e){return e.features&&e.features.length>0?Object.fromEntries((e.features??[]).map(t=>[t.name,t.configuration||!0])):Object.fromEntries((e.featuresByDefault??[]).map(t=>[t,!0]))}function goe(){doe();const e={defaultLayers:[],...Eh.global,...Eh.custom,...Eh.overrides};return e.effectiveFeatures=moe(e),Object.assign(Eh.merged,e),e}goe();const sa=new Proxy(Eh.merged,{get(e,t){return Rx&&console.warn("\x1B[1;35m appConfig\x1B[0m",t,Eh.merged[t]),Eh.merged[t]}});console.info(`%c Disaster Ninja ${{}.PACKAGE_VERSION} deployment:
  - Build Time: ${{}.BUILD_TIME}
  - Git Branch: ${{}.GIT_BRANCH}
  - Git Commit: #${{}.GIT_COMMIT_HASH}
  - Git Commit Time: ${{}.GIT_COMMIT_TIME}
  `,"color: #bada55");const yoe="application/json",jL="Content-Type",zw=Symbol();function H8(e={}){var t;return(t=Object.entries(e).find(([n])=>n.toLowerCase()===jL.toLowerCase()))===null||t===void 0?void 0:t[1]}function q8(e){return/^application\/.*json.*/.test(e)}const BA=function(e,t,n=!1){return Object.entries(t).reduce((i,[s,l])=>{const a=e[s];return Array.isArray(a)&&Array.isArray(l)?i[s]=n?[...a,...l]:l:typeof a=="object"&&typeof l=="object"?i[s]=BA(a,l,n):i[s]=l,i},{...e})},F0={options:{},errorType:"text",polyfills:{},polyfill(e,t=!0,n=!1,...i){const s=this.polyfills[e]||(typeof self<"u"?self[e]:null)||(typeof global<"u"?global[e]:null);if(t&&!s)throw new Error(e+" is not defined");return n&&s?new s(...i):s}};function voe(e,t=!1){F0.options=t?e:BA(F0.options,e)}function _oe(e,t=!1){F0.polyfills=t?e:BA(F0.polyfills,e)}function xoe(e){F0.errorType=e}const boe=e=>t=>e.reduceRight((n,i)=>i(n),t)||t;class VL extends Error{}const woe=e=>{const t=Object.create(null);e=e._addons.reduce((ee,ce)=>ce.beforeRequest&&ce.beforeRequest(ee,e._options,t)||ee,e);const{_url:n,_options:i,_config:s,_catchers:l,_resolvers:a,_middlewares:x,_addons:S}=e,P=new Map(l),L=BA(s.options,i);let F=n;const N=boe(x)((ee,ce)=>(F=ee,s.polyfill("fetch")(ee,ce)))(n,L),$=new Error,q=N.catch(ee=>{throw{__wrap:ee}}).then(ee=>{if(!ee.ok){const ce=new VL;if(ce.cause=$,ce.stack=ce.stack+`
CAUSE: `+$.stack,ce.response=ee,ce.url=F,ee.type==="opaque")throw ce;return ee.text().then(_e=>{var re;if(ce.message=_e,s.errorType==="json"||((re=ee.headers.get("Content-Type"))===null||re===void 0?void 0:re.split(";")[0])==="application/json")try{ce.json=JSON.parse(_e)}catch{}throw ce.text=_e,ce.status=ee.status,ce})}return ee}),K=ee=>ee.catch(ce=>{const _e=ce.__wrap||ce,re=_e.status&&P.get(_e.status)||P.get(_e.name)||ce.__wrap&&P.has(zw)&&P.get(zw);if(re)return re(_e,e);throw _e}),te=ee=>ce=>K(ee?q.then(_e=>_e&&_e[ee]()).then(_e=>ce?ce(_e):_e):q.then(_e=>ce?ce(_e):_e)),V={_wretchReq:e,_fetchReq:N,_sharedState:t,res:te(null),json:te("json"),blob:te("blob"),formData:te("formData"),arrayBuffer:te("arrayBuffer"),text:te("text"),error(ee,ce){return P.set(ee,ce),this},badRequest(ee){return this.error(400,ee)},unauthorized(ee){return this.error(401,ee)},forbidden(ee){return this.error(403,ee)},notFound(ee){return this.error(404,ee)},timeout(ee){return this.error(408,ee)},internalError(ee){return this.error(500,ee)},fetchError(ee){return this.error(zw,ee)}},X=S.reduce((ee,ce)=>({...ee,...ce.resolver}),V);return a.reduce((ee,ce)=>ce(ee,e),X)},Soe={_url:"",_options:{},_config:F0,_catchers:new Map,_resolvers:[],_deferred:[],_middlewares:[],_addons:[],addon(e){return{...this,_addons:[...this._addons,e],...e.wretch}},errorType(e){return{...this,_config:{...this._config,errorType:e}}},polyfills(e,t=!1){return{...this,_config:{...this._config,polyfills:t?e:BA(this._config.polyfills,e)}}},url(e,t=!1){if(t)return{...this,_url:e};const n=this._url.split("?");return{...this,_url:n.length>1?n[0]+e+"?"+n[1]:this._url+e}},options(e,t=!1){return{...this,_options:t?e:BA(this._options,e)}},headers(e){return{...this,_options:BA(this._options,{headers:e||{}})}},accept(e){return this.headers({Accept:e})},content(e){return this.headers({[jL]:e})},auth(e){return this.headers({Authorization:e})},catcher(e,t){const n=new Map(this._catchers);return n.set(e,t),{...this,_catchers:n}},resolve(e,t=!1){return{...this,_resolvers:t?[e]:[...this._resolvers,e]}},defer(e,t=!1){return{...this,_deferred:t?[e]:[...this._deferred,e]}},middlewares(e,t=!1){return{...this,_middlewares:t?e:[...this._middlewares,...e]}},fetch(e=this._options.method,t="",n=null){let i=this.url(t).options({method:e});const s=H8(i._options.headers),l=typeof n=="object"&&(!i._options.headers||!s||q8(s));return i=n?l?i.json(n,s):i.body(n):i,woe(i._deferred.reduce((a,x)=>x(a,a._url,a._options),i))},get(e=""){return this.fetch("GET",e)},delete(e=""){return this.fetch("DELETE",e)},put(e,t=""){return this.fetch("PUT",t,e)},post(e,t=""){return this.fetch("POST",t,e)},patch(e,t=""){return this.fetch("PATCH",t,e)},head(e=""){return this.fetch("HEAD",e)},opts(e=""){return this.fetch("OPTIONS",e)},body(e){return{...this,_options:{...this._options,body:e}}},json(e,t){const n=H8(this._options.headers);return this.content(t||q8(n)&&n||yoe).body(JSON.stringify(e))}};function Ep(e="",t={}){return{...Soe,_url:e,_options:t}}Ep.default=Ep;Ep.options=voe;Ep.errorType=xoe;Ep.polyfills=_oe;Ep.WretchError=VL;function G8(e){return typeof e<"u"?e:""}const Coe=(e,t,n,i)=>{let s;if(typeof t=="string")s=t;else{const a=i.polyfill("URLSearchParams",!0,!0);for(const x in t){const S=t[x];if(t[x]instanceof Array)for(const P of S)a.append(x,G8(P));else a.append(x,G8(S))}s=a.toString()}const l=e.split("?");return s?n||l.length<2?l[0]+"?"+s:e+"&"+s:n?l[0]:e},Eoe={wretch:{query(e,t=!1){return{...this,_url:Coe(this._url,e,t,this._config)}}}},koe=Eoe;function Q8(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(typeof t=="object"?JSON.stringify(t):""+t)}function Poe(e){return Object.keys(e).map(t=>{const n=e[t];return n instanceof Array?n.map(i=>Q8(t,i)).join("&"):Q8(t,n)}).join("&")}const Toe={wretch:{formUrl(e){return this.body(typeof e=="string"?e:Poe(e)).content("application/x-www-form-urlencoded")}}},Ioe=Toe;function KS(e){this.message=e}KS.prototype=new Error,KS.prototype.name="InvalidCharacterError";var W8=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new KS("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,s=0,l=0,a="";i=t.charAt(l++);~i&&(n=s%4?64*n+i:i,s++%4)?a+=String.fromCharCode(255&n>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function Moe(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(W8(n).replace(/(.)/g,function(i,s){var l=s.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return W8(t)}}function o2(e){this.message=e}function Ooe(e,t){if(typeof e!="string")throw new o2("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(Moe(e.split(".")[n]))}catch(i){throw new o2("Invalid token specified: "+i.message)}}o2.prototype=new Error,o2.prototype.name="InvalidTokenError";function Loe(e){if(e!=null&&e.json){const t=e==null?void 0:e.json;if(t!==null){if(Array.isArray(t))return t.map(n=>n.name&&n.message?`${n.name}: ${n.message}`:n).join("<br/>");if(t!=null&&t.error)return t.error;if(t!=null&&t.errors&&Array.isArray(t.errors))return t.errors.reduce((n,i)=>(i!=null&&i.message&&n.push(i.message),n),[]).join("<br/>")}return String(t)}return(e==null?void 0:e.text)??(e==null?void 0:e.message)??"Unknown Error"}function K8(e){var s,l;let t="",n={kind:"unknown",temporary:!0},i=0;return e instanceof R0?e:(Rx&&console.error(e),e instanceof Ep.WretchError?(i=e.status,i===400?n={kind:"bad-request"}:i===401?(t=((s=e.json)==null?void 0:s.error_description)??(e==null?void 0:e.message)??"Auth error",n={kind:"unauthorized",data:(l=e.json)==null?void 0:l.error}):i===403?n={kind:"forbidden"}:i===404?n={kind:"not-found"}:i===408?n={kind:"timeout",temporary:!0}:i>=500&&(n={kind:"server",data:(e==null?void 0:e.json)??(e==null?void 0:e.text)})):Doe(e)?n={kind:"canceled"}:n={kind:"client-unknown"},t||(t=Loe(e)),new R0(t||"Unknown error",n,i))}function Doe(e){var t;return(e==null?void 0:e.name)==="AbortError"||((t=e==null?void 0:e.problem)==null?void 0:t.kind)==="canceled"}const Qm={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"},Nw="auth_token",yh=class{constructor({instanceId:t="default",notificationService:n,loginApiPath:i="",refreshTokenApiPath:s="",keycloakClientId:l="",unauthorizedCallback:a,disableAuth:x=!1,storage:S=globalThis.localStorage,baseURL:P}){rr(this,"instanceId");rr(this,"notificationService");rr(this,"unauthorizedCallback");rr(this,"loginApiPath");rr(this,"refreshTokenApiPath");rr(this,"disableAuth");rr(this,"storage");rr(this,"token","");rr(this,"refreshToken","");rr(this,"tokenExpirationDate");rr(this,"tokenRefreshFlowPromise");rr(this,"expiredTokenCallback",()=>{});rr(this,"keycloakClientId");rr(this,"baseURL");rr(this,"timeToRefresh",1e3*60*5);this.instanceId=t,this.notificationService=n,this.loginApiPath=i,this.refreshTokenApiPath=s,this.keycloakClientId=l,this.disableAuth=x,this.storage=S,this.unauthorizedCallback=a,this.baseURL=P}static getInstance(t="default"){if(yh.instances[t])return yh.instances[t];throw new Error("You have to initialize api client first!")}static init(t){const n=t.instanceId||"default";if(yh.instances[n])throw new Error(`Api client instance with Id: ${n} already initialized`);return yh.instances[n]=new yh(t),yh.instances[n]}storeTokens(t,n){let i="";try{const s=Ooe(t);if(Rx&&console.debug({decodedToken:s,now:new Date().getTime()}),s&&s.exp){const l=new Date(s.exp*1e3);if(l>new Date)return this.token=t,this.refreshToken=n,this.tokenExpirationDate=l,this.storage.setItem(Nw,JSON.stringify({token:t,refreshToken:n})),!0;i="Token is expired right after receiving, clock is out of sync"}}catch{i="Token decode error"}throw new R0(i||"Token error",{kind:"bad-data"})}checkLocalAuthToken(){try{const t=this.storage.getItem(Nw);if(t){const{token:n,refreshToken:i}=JSON.parse(t);if(n&&i)return this.storeTokens(n,i)}}catch{}return this.resetAuth(),!1}resetAuth(){this.token="",this.refreshToken="",this.tokenExpirationDate=void 0,this.storage.removeItem(Nw)}async _tokenRefreshFlow(){if(!this.tokenExpirationDate)return!1;const t=this.tokenExpirationDate.getTime()-new Date().getTime();if(t<0)return this.resetAuth(),this.expiredTokenCallback(),!1;if(t<this.timeToRefresh)try{await this.refreshAuthToken()}catch{return!1}return!0}async isTokenOk(){this.tokenRefreshFlowPromise||(this.tokenRefreshFlowPromise=this._tokenRefreshFlow());const t=await this.tokenRefreshFlowPromise;return this.tokenRefreshFlowPromise=void 0,t}async login(t,n){const i={username:t,password:n,client_id:this.keycloakClientId,grant_type:"password"};return await this.requestTokenOrThrow(this.loginApiPath,i)}async refreshAuthToken(){const t={client_id:this.keycloakClientId,refresh_token:this.refreshToken,grant_type:"refresh_token"};return await this.requestTokenOrThrow(this.refreshTokenApiPath,t)}async requestTokenOrThrow(t,n){var i;try{const s=await Ep(t).addon(Ioe).formUrl(n).errorType("json").post().res(Uw);if((i=s==null?void 0:s.data)!=null&&i.access_token)return this.storeTokens(s.data.access_token,s.data.refresh_token);throw new R0("Token error",{kind:"bad-data"})}catch(s){throw K8(s)}}async logout(){this.resetAuth()}async call(t,n,i,s=!this.disableAuth,l={}){var S;const a=["post","put","patch"];let x=Ep(this.baseURL,{mode:"cors"}).addon(koe).url(n);l.signal&&(x=x.options({signal:l.signal})),l.headers&&(x=x.headers(l.headers)),!this.disableAuth&&s&&this.token&&await this.isTokenOk()&&(x=x.auth(`Bearer ${this.token}`).catcher(401,async(L,F)=>(await this.refreshAuthToken(),F.auth(`Bearer ${this.token}`).fetch().unauthorized(N=>{throw N}).res(Uw)))),i&&(x=a.includes(t)?x.json(i):x.query(i));try{return(await x[t]().res(Uw)).data}catch(P){const L=K8(P);if(L.problem.kind==="canceled")throw L;L.problem.kind==="unauthorized"&&(this.resetAuth(),(S=this.unauthorizedCallback)==null||S.call(this,this));const F=l.errorsConfig;throw F&&F.messages&&(typeof F.messages!="string"?L.status in F.messages&&(L.message=F.messages[L.status]):L.message=F.messages),(F==null?void 0:F.hideErrors)!==!0&&this.notificationService.error({title:"Error",description:L.message}),L}}async get(t,n,i=!this.disableAuth,s){return this.call(Qm.GET,t,n,i,s)}async post(t,n,i=!this.disableAuth,s){return this.call(Qm.POST,t,n,i,s)}async put(t,n,i=!this.disableAuth,s){return this.call(Qm.PUT,t,n,i,s)}async patch(t,n,i=!this.disableAuth,s){return this.call(Qm.PATCH,t,n,i,s)}async delete(t,n=!this.disableAuth,i){return this.call(Qm.DELETE,t,void 0,n,i)}};let zA=yh;rr(zA,"instances",{});async function Uw(e){return e.status===204?(e.data=null,e):(e.ok?(e.headers.get("content-type")??"").includes("application/json")?e.data=await e.json():e.data=await e.text():console.debug("autoParseBody",e),e)}const ng=Oo({showNotification:(e,t,n)=>({type:e,message:t,lifetimeSec:n}),removeNotification:e=>e},({onAction:e,schedule:t,create:n},i=[])=>(e("showNotification",({type:s,message:l,lifetimeSec:a})=>{const x=MV(4),S=()=>ng.removeNotification.dispatch(x);i=[...i,{id:x,type:s,message:l,lifetimeSec:a,onClose:S}],t(P=>{setTimeout(S,a*1e3)})}),e("removeNotification",s=>i=i.filter(({id:l})=>l!==s)),[...i]),"[Shared state] currentNotificationAtom"),A0=class{constructor(){rr(this,"defaultLifetimeSec",10)}static getInstance(){if(A0.instance)return A0.instance;throw new Error("You have to initialize api client first!")}static init(){A0.instance=new A0}error(t,n){ng.showNotification.dispatch("error",t,n||this.defaultLifetimeSec)}warning(t,n){ng.showNotification.dispatch("warning",t,n||this.defaultLifetimeSec)}info(t,n){ng.showNotification.dispatch("info",t,n||this.defaultLifetimeSec)}success(t,n){ng.showNotification.dispatch("success",t,n||this.defaultLifetimeSec)}};let vg=A0;rr(vg,"instance");vg.init();const HL=vg.getInstance();zA.init({notificationService:HL,baseURL:sa.apiGateway,loginApiPath:`${sa.keycloakUrl}/auth/realms/${sa.keycloakRealm}/protocol/openid-connect/token`,refreshTokenApiPath:`${sa.keycloakUrl}/auth/realms/${sa.keycloakRealm}/protocol/openid-connect/token`,keycloakClientId:sa.keycloakClientId,unauthorizedCallback(e){var t;e.logout(),(t=e.expiredTokenCallback)==null||t.call(e)}});const qL=zA.getInstance();zA.init({instanceId:"reports",notificationService:HL,baseURL:sa.reportsApi,disableAuth:!0});zA.getInstance("reports");/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _g(e,t,n,i){function s(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function x(L){try{P(i.next(L))}catch(F){a(F)}}function S(L){try{P(i.throw(L))}catch(F){a(F)}}function P(L){L.done?l(L.value):s(L.value).then(x,S)}P((i=i.apply(e,t||[])).next())})}class qo{constructor(){this.mutex=Promise.resolve()}lock(){let t=()=>{};return this.mutex=this.mutex.then(()=>new Promise(t)),new Promise(n=>{t=n})}dispatch(t){return _g(this,void 0,void 0,function*(){const n=yield this.lock();try{return yield Promise.resolve(t())}finally{n()}})}}var $w;function Roe(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const ZS=Roe(),jw=($w=ZS.Buffer)!==null&&$w!==void 0?$w:null,Foe=ZS.TextEncoder?new ZS.TextEncoder:null;function GL(e,t){return(e&15)+(e>>6|e>>3&8)<<4|(t&15)+(t>>6|t>>3&8)}function Boe(e,t){const n=t.length>>1;for(let i=0;i<n;i++){const s=i<<1;e[i]=GL(t.charCodeAt(s),t.charCodeAt(s+1))}}function zoe(e,t){if(e.length!==t.length*2)return!1;for(let n=0;n<t.length;n++){const i=n<<1;if(t[n]!==GL(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}const Z8="a".charCodeAt(0)-10,X8="0".charCodeAt(0);function Y8(e,t,n){let i=0;for(let s=0;s<n;s++){let l=t[s]>>>4;e[i++]=l>9?l+Z8:l+X8,l=t[s]&15,e[i++]=l>9?l+Z8:l+X8}return String.fromCharCode.apply(null,e)}const J8=jw!==null?e=>{if(typeof e=="string"){const t=jw.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(jw.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if(typeof e=="string")return Foe.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},eP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rg=new Uint8Array(256);for(let e=0;e<eP.length;e++)rg[eP.charCodeAt(e)]=e;function Noe(e){let t=Math.floor(e.length*.75);const n=e.length;return e[n-1]==="="&&(t-=1,e[n-2]==="="&&(t-=1)),t}function Uoe(e){const t=Noe(e),n=e.length,i=new Uint8Array(t);let s=0;for(let l=0;l<n;l+=4){const a=rg[e.charCodeAt(l)],x=rg[e.charCodeAt(l+1)],S=rg[e.charCodeAt(l+2)],P=rg[e.charCodeAt(l+3)];i[s]=a<<2|x>>4,s+=1,i[s]=(x&15)<<4|S>>2,s+=1,i[s]=(S&3)<<6|P&63,s+=1}return i}const C1=16*1024,Wm=4,$oe=new qo,Vw=new Map;function joe(e,t){return _g(this,void 0,void 0,function*(){let n=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const l=(re,Se=0)=>{i.set(re,Se)},a=()=>i,x=()=>n.exports,S=re=>{n.exports.Hash_SetMemorySize(re);const Se=n.exports.Hash_GetBuffer(),Le=n.exports.memory.buffer;i=new Uint8Array(Le,Se,re)},P=()=>new DataView(n.exports.memory.buffer).getUint32(n.exports.STATE_SIZE,!0),L=$oe.dispatch(()=>_g(this,void 0,void 0,function*(){if(!Vw.has(e.name)){const Se=Uoe(e.data),Le=WebAssembly.compile(Se);Vw.set(e.name,Le)}const re=yield Vw.get(e.name);n=yield WebAssembly.instantiate(re,{})})),F=()=>_g(this,void 0,void 0,function*(){n||(yield L);const re=n.exports.Hash_GetBuffer(),Se=n.exports.memory.buffer;i=new Uint8Array(Se,re,C1)}),N=(re=null)=>{s=!0,n.exports.Hash_Init(re)},$=re=>{let Se=0;for(;Se<re.length;){const Le=re.subarray(Se,Se+C1);Se+=Le.length,i.set(Le),n.exports.Hash_Update(Le.length)}},q=re=>{if(!s)throw new Error("update() called before init()");const Se=J8(re);$(Se)},K=new Uint8Array(t*2),te=(re,Se=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,n.exports.Hash_Final(Se),re==="binary"?i.slice(0,t):Y8(K,i,t)},V=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const re=n.exports.Hash_GetState(),Se=P(),Le=n.exports.memory.buffer,Ze=new Uint8Array(Le,re,Se),ot=new Uint8Array(Wm+Se);return Boe(ot,e.hash),ot.set(Ze,Wm),ot},X=re=>{if(!(re instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const Se=n.exports.Hash_GetState(),Le=P(),Ze=Wm+Le,ot=n.exports.memory.buffer;if(re.length!==Ze)throw new Error(`Bad state length (expected ${Ze} bytes, got ${re.length})`);if(!zoe(e.hash,re.subarray(0,Wm)))throw new Error("This state was written by an incompatible hash implementation");const We=re.subarray(Wm);new Uint8Array(ot,Se,Le).set(We),s=!0},ee=re=>typeof re=="string"?re.length<C1/4:re.byteLength<C1;let ce=ee;switch(e.name){case"argon2":case"scrypt":ce=()=>!0;break;case"blake2b":case"blake2s":ce=(re,Se)=>Se<=512&&ee(re);break;case"blake3":ce=(re,Se)=>Se===0&&ee(re);break;case"xxhash64":case"xxhash3":case"xxhash128":ce=()=>!1;break}const _e=(re,Se=null,Le=null)=>{if(!ce(re,Se))return N(Se),q(re),te("hex",Le);const Ze=J8(re);return i.set(Ze),n.exports.Hash_Calculate(Ze.length,Se,Le),Y8(K,i,t)};return yield F(),{getMemory:a,writeMemory:l,getExports:x,setMemorySize:S,init:N,update:q,digest:te,save:V,load:X,calculate:_e,hashLength:t}})}function Voe(e,t,n){return _g(this,void 0,void 0,function*(){const i=yield e.lock(),s=yield joe(t,n);return i(),s})}new qo;new qo;new qo;new qo;var Hoe="crc32",qoe="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",Goe="749723dc",Qoe={name:Hoe,data:qoe,hash:Goe};const Woe=new qo;let E1=null;function Koe(e){if(E1===null)return Voe(Woe,Qoe,4).then(t=>(E1=t,E1.calculate(e,3988292384)));try{const t=E1.calculate(e,3988292384);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;const Zoe={username:"",email:"",fullName:"",language:"en",useMetricUnits:!0,subscribedToKonturUpdates:!1,bio:"",osmEditor:sa.osmEditors[0].id,defaultFeed:sa.defaultFeed,theme:"kontur"},Hw={...Zoe},Ty=Q0(new Map,"layersSettings"),C0=Q0(new Map,"mountedLayers"),QL=Oo({setMap:e=>e,resetMap:()=>null},({onAction:e,schedule:t},n=null)=>(e("setMap",i=>{n=i,t(s=>{s(C0.clear())})}),e("resetMap",()=>{n=null}),n),"[Shared state] currentMapAtom");function Xoe(e,t){const n=new Blob([JSON.stringify(e)],{type:"json"}),i=document.createElement("a"),s=URL.createObjectURL(n);i.href=s,i.download=t,document.body.appendChild(i),i.click(),clearTimeout(setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)},0))}const NA=xL(new Set,"enabledLayers"),xg=xL(new Set,"hiddenLayers"),g5=Q0(new Map,"layersLegends"),WL=Q0(new Map,"layersMeta"),KL=Q0(new Map,"layersSources"),ZL=Q0(new Map,"layersMenus");function Xd(e){if(e&&typeof e=="object"){const t=Object.getOwnPropertyNames(e);for(const n of t){const i=e[n];Xd(i)}return Object.freeze(e)}return e}const tP="bivariate-layer-",Yoe="bivariate-source-",Joe={overlay:{name:Ai.t("categories.overlays"),openByDefault:!0,mutuallyExclusive:!1,order:1},base:{name:Ai.t("categories.basemap"),openByDefault:!1,mutuallyExclusive:!0,order:2}},eae={layersInSelectedArea:{name:Ai.t("groups.layers_in_selected_area"),openByDefault:!0,mutuallyExclusive:!1,order:0},user_layers:{name:Ai.t("groups.your_layers"),openByDefault:!0,mutuallyExclusive:!1,order:1},bivariate:{name:Ai.t("groups.kontur_analytics"),openByDefault:!0,mutuallyExclusive:!0,order:2},qa:{name:Ai.t("groups.qa"),openByDefault:!0,mutuallyExclusive:!1,order:3},osmbasedmap:{name:Ai.t("groups.osmbasedmap"),openByDefault:!1,mutuallyExclusive:!1,order:4},other:{name:Ai.t("groups.other"),openByDefault:!1,mutuallyExclusive:!1,order:999},elevation:{name:Ai.t("groups.elevation"),openByDefault:!0,mutuallyExclusive:!1},photo:{name:Ai.t("groups.photo"),openByDefault:!0,mutuallyExclusive:!1},map:{name:Ai.t("groups.map"),openByDefault:!0,mutuallyExclusive:!1}},tae=eae,nae=new Proxy(tae,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),rae=Oo({},({},e=nae)=>e,"layersGroupsSettingsAtom"),iae=Joe,oae=new Proxy(iae,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),aae=Oo({},({},e=oae)=>e,"layersCategoriesSettingsAtom"),sae=(()=>{let e=null;rae.subscribe(s=>e=s);let t=null;aae.subscribe(s=>t=s);let n=null;NA.subscribe(s=>n=s);let i=null;return Ty.subscribe(s=>i=s),s=>{var L,F,N,$;if(!e||!t||!n||!i)return[];const l=(L=s.settings)==null?void 0:L.category,a=(F=s.settings)==null?void 0:F.group,x=l&&((N=t[l])==null?void 0:N.mutuallyExclusive),S=a&&(($=e[a])==null?void 0:$.mutuallyExclusive);if(!x&&!S)return[];const P=new Set;return n.forEach(q=>{var te,V;if(s.id===q)return;const K=i.get(q);K&&(x?((te=K.data)==null?void 0:te.category)===l&&P.add(q):S&&((V=K.data)==null?void 0:V.group)===a&&P.add(q))}),Array.from(P).map(q=>NA.delete(q))}})(),lae={enable:()=>null,disable:()=>null,hide:()=>null,show:()=>null,download:()=>null,destroy:()=>null},uae=e=>(...t)=>console.error(`[Logical layer: ${e}]:`,...t);function cae(e,t,n,i){let s=!1;const l=Oo({...lae,layersSettingsAtom:Ty,layersLegendsAtom:g5,layersMetaAtom:WL,layersSourcesAtom:KL,enabledLayersAtom:NA,mountedLayersAtom:C0,hiddenLayersAtom:xg,layersMenusAtom:ZL,_patchState:a=>a},({get:a,onAction:x,getUnlistedState:S,onInit:P,schedule:L,create:F},N={id:e,error:null,isEnabled:!1,isLoading:!1,isMounted:!1,isVisible:!0,isDownloadable:!1,settings:null,meta:null,legend:null,source:null,contextMenu:null,style:null})=>{var Ze,ot;const $=[],q=i||S(QL),K={isLoading:!1,data:null,error:null},te=a("layersSettingsAtom").get(e)??K,V=a("layersMetaAtom").get(e)??K,X=a("layersLegendsAtom").get(e)??K,ee=a("layersSourcesAtom").get(e)??K,ce=a("layersMenusAtom").get(e)??null,_e=uae(N.id),re={id:N.id,error:N.error,isLoading:[te,V,X,ee].some(We=>We.isLoading),isEnabled:a("enabledLayersAtom").has(e),isMounted:a("mountedLayersAtom").has(e),isVisible:!a("hiddenLayersAtom").has(e),isDownloadable:((Ze=ee.data)==null?void 0:Ze.source.type)==="geojson",settings:Xd(te.data),meta:Xd(V.data),legend:Xd(X.data),source:Xd(ee.data),contextMenu:Xd(ce),style:((ot=ee.data)==null?void 0:ot.style)??null};P(()=>{try{t.willInit({map:q,state:{...re}})}catch(We){_e(We),re.error=We}}),x("enable",()=>{re.isEnabled=!0,$.push(NA.set(e),...sae(N))}),x("disable",()=>{re.isEnabled=!1,$.push(NA.delete(e))}),x("hide",()=>{if(q)try{t.willHide({map:q,state:{...re}}),re.isVisible=!1,$.push(xg.set(e))}catch(We){_e(We),re.error=We}}),x("show",()=>{if(q)try{t.willUnhide({map:q,state:{...re}}),re.isVisible=!0,$.push(xg.delete(e))}catch(We){_e(We),re.error=We}}),x("download",()=>{var We,ut;try{if(!N.isDownloadable)return;if(!((We=N.source)!=null&&We.source)){_e("Download failed, source unavailable");return}N.source.source.type==="geojson"?Xoe(N.source.source.data,`${((ut=N.settings)==null?void 0:ut.name)||N.id||"Disaster Ninja map layer"}-${new Date().toISOString()}.json`):_e("Only geojson layers can be downloaded")}catch(yt){_e(yt),re.error=yt}});const Se=!s&&re.isEnabled!==re.isMounted;if(!(N.isMounted!==re.isMounted)&&Se&&!re.isLoading)try{re.isMounted?q&&(t.willUnMount({map:q,state:{...re}}),re.isMounted=!1,$.push(C0.delete(e))):q&&(t.willMount({map:q,state:{...re}}),re.isMounted=!0,$.push(C0.set(e,l)))}catch(We){_e(We),re.error=We}if(N.isMounted&&re.isMounted){if(N.legend!==re.legend&&q)try{t.willLegendUpdate({map:q,state:{...re}})}catch(yt){_e(yt),re.error=yt}if(N.source!==re.source&&q)try{t.willSourceUpdate({map:q,state:{...re}})}catch(yt){_e(yt),re.error=yt}}return x("destroy",()=>{s=!0;try{t.willDestroy({map:q,state:{...re}}),S(n).has(N.id)&&$.push(n.unregister(N.id,{notifyLayerAboutDestroy:!1}))}catch(We){_e(We),re.error=We}}),x("_patchState",We=>{Object.assign(re,We)}),$.length&&L(We=>{We($),t.setErrorState(ut=>{_e(ut),We(F("_patchState",{error:ut.message}))})}),re},{id:e,decorators:[BL()]});return l}const nP=new WeakMap,rP=new WeakMap,fae=e=>{const t=Oo({register:n=>Array.isArray(n)?n:[n],unregister:(n,{notifyLayerAboutDestroy:i}={})=>({ids:Array.isArray(n)?n:[n],notifyLayerAboutDestroy:i}),_delete:n=>Array.isArray(n)?n:[n]},({onAction:n,create:i,schedule:s},l=new Map)=>(n("register",a=>{const x=new Map(l);a.forEach(({id:S,renderer:P,cleanUpActions:L,map:F})=>{const N=cae(S,P,t,F);x.set(S,N),L&&nP.set(N,L),rP.set(N,N.subscribe(()=>null))}),l=x}),n("unregister",({ids:a,notifyLayerAboutDestroy:x})=>{a.forEach(S=>{const P=l.get(S);P?s(L=>{rP.get(P)();const N=[...nP.get(P)||[],C0.delete(S),xg.delete(S),x&&P.destroy(),i("_delete",S)].filter($=>!!$);L(N)}):console.error(`Attempt unregister not existing layer with id: ${S}`)})}),n("_delete",a=>{const x=new Map(l);a.forEach(S=>{x.delete(S)}),l=x}),l),e);return t},Yd=fae("layersRegistryAtom"),XS=Oo({setUser:(e=Hw)=>e},({onAction:e,schedule:t,getUnlistedState:n},i=Hw)=>(e("setUser",s=>{s?i=s:i=Hw;const l=Array.from(n(Ty)).filter(([,S])=>{var P;return(P=S==null?void 0:S.data)==null?void 0:P.ownedByUser}).map(([S])=>S);if(!l.length)return;const a=Array.from(n(Yd)).filter(([S])=>l.includes(S)).map(([S,P])=>P);if(!a.length)return;const x=a.map(S=>S.destroy());t(S=>{S(x)})}),i),"[Shared state] currentUserAtom"),pae=Oo({open:()=>null,close:()=>null},({onAction:e},t={isOpen:!1})=>(e("open",()=>t={...t,isOpen:!0}),e("close",()=>t={...t,isOpen:!1}),t),"episodesPanelState"),XL=Oo({setFocusedGeometry:(e,t)=>({source:e,geometry:t}),_update:e=>e,reset:()=>null,currentUserAtom:XS,episodesPanelState:pae},({onAction:e,schedule:t,create:n,getUnlistedState:i,onChange:s},l=null)=>(e("setFocusedGeometry",({source:a,geometry:x})=>{const S=i(XS);a&&x?t(async(P,L)=>{const F=await Koe(JSON.stringify({geometry:x,source:a,user:S.email}));if(!l||!L.hash||L.hash!==F){L.hash=F;const N={...x,hash:F};P(n("_update",{source:a,geometry:N}))}}):l=null}),e("reset",()=>{l=null}),e("_update",a=>{l=a}),s("currentUserAtom",()=>{var a;l&&((a=l.source)==null?void 0:a.type)!=="event"&&(l={...l})}),l),"[Shared state] focusedGeometryAtom"),hae=[["count","area_km2"],["building_count","area_km2"],["highway_length","area_km2"],["local_hours","area_km2"],["avgmax_ts","one"],["days_mintemp_above_25c_1c","one"],["population","area_km2"],["total_hours","area_km2"],["view_count","area_km2"]];function YL(e){const t=Array.isArray(e)?[]:{};for(const n in e){const i=e[n];i&&typeof i=="object"?t[n]=YL(i):t[n]=i}return t}const Aae=window.structuredClone??YL;function JL(e){const t=Aae(e);return"properties"in t&&(t.properties={}),"features"in t&&t.features.length&&(t.features=t.features.map(n=>JL(n))),t}function eD(e){return!e||!e.geometry||e.geometry.type==="FeatureCollection"&&!e.geometry.features.length}function dae(e){const t={importantLayers:hae};return e&&!eD(e)&&(t.geoJSON=JL(e==null?void 0:e.geometry)),t}function mae(e){if(e.hasOwnProperty("errors")&&Array.isArray(e.errors))return e.errors.reduce((t,n)=>(n.hasOwnProperty("message")&&t.push(n.message),t),[]).join("<br/>")}const gae=Cy({focusedGeometryAtom:XL},({onChange:e},t={focusedGeometry:null})=>(e("focusedGeometryAtom",n=>{t={focusedGeometry:n}}),t),"bivariateStatisticsDependencyAtom");let k1;const tD=$L(gae,async({focusedGeometry:e},t)=>{if(!(e!=null&&e.geometry)&&k1)return k1;let n;try{const i=dae(e);n=await qL.post("/bivariate_matrix",i,!0,{signal:t.signal})}catch(i){if(zL(i)&&i.problem.kind==="canceled")return null;throw i}if(!n)throw new Error(Ai.t("no_data_received"));if(!(n!=null&&n.data)){const i=mae(n);throw new Error(i||Ai.t("no_data_received"))}return eD(e)&&!k1&&(k1=n.data),n.data},"bivariateStatisticsResource");var St=St||{};St.Geometry=function(){};St.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope),i=e.slope*n+e.intercept;return{x:n,y:i}};St.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))};St.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)};St.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope,i=t.y-n*t.x;return{slope:n,intercept:i}};St.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)};St.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t};St.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))};St.Hsluv=function(){};St.Hsluv.getBounds=function(e){for(var t=[],n=Math.pow(e+16,3)/1560896,i=n>St.Hsluv.epsilon?n:e/St.Hsluv.kappa,s=0;s<3;)for(var l=s++,a=St.Hsluv.m[l][0],x=St.Hsluv.m[l][1],S=St.Hsluv.m[l][2],P=0;P<2;){var L=P++,F=(284517*a-94839*S)*i,N=(838422*S+769860*x+731718*a)*e*i-769860*L*e,$=(632260*S-126452*x)*i+126452*L;t.push({slope:F/$,intercept:N/$})}return t};St.Hsluv.maxSafeChromaForL=function(e){for(var t=St.Hsluv.getBounds(e),n=1/0,i=0;i<t.length;){var s=t[i];++i;var l=St.Geometry.distanceLineFromOrigin(s);n=Math.min(n,l)}return n};St.Hsluv.maxChromaForLH=function(e,t){for(var n=t/360*Math.PI*2,i=St.Hsluv.getBounds(e),s=1/0,l=0;l<i.length;){var a=i[l];++l;var x=St.Geometry.lengthOfRayUntilIntersect(n,a);x>=0&&(s=Math.min(s,x))}return s};St.Hsluv.dotProduct=function(e,t){for(var n=0,i=0,s=e.length;i<s;){var l=i++;n+=e[l]*t[l]}return n};St.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055};St.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92};St.Hsluv.xyzToRgb=function(e){return[St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[0],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[1],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[2],e))]};St.Hsluv.rgbToXyz=function(e){var t=[St.Hsluv.toLinear(e[0]),St.Hsluv.toLinear(e[1]),St.Hsluv.toLinear(e[2])];return[St.Hsluv.dotProduct(St.Hsluv.minv[0],t),St.Hsluv.dotProduct(St.Hsluv.minv[1],t),St.Hsluv.dotProduct(St.Hsluv.minv[2],t)]};St.Hsluv.yToL=function(e){return e<=St.Hsluv.epsilon?e/St.Hsluv.refY*St.Hsluv.kappa:116*Math.pow(e/St.Hsluv.refY,.3333333333333333)-16};St.Hsluv.lToY=function(e){return e<=8?St.Hsluv.refY*e/St.Hsluv.kappa:St.Hsluv.refY*Math.pow((e+16)/116,3)};St.Hsluv.xyzToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=t+15*n+3*i,l=4*t,a=9*n;s!=0?(l/=s,a/=s):(l=NaN,a=NaN);var x=St.Hsluv.yToL(n);if(x==0)return[0,0,0];var S=13*x*(l-St.Hsluv.refU),P=13*x*(a-St.Hsluv.refV);return[x,S,P]};St.Hsluv.luvToXyz=function(e){var t=e[0],n=e[1],i=e[2];if(t==0)return[0,0,0];var s=n/(13*t)+St.Hsluv.refU,l=i/(13*t)+St.Hsluv.refV,a=St.Hsluv.lToY(t),x=0-9*a*s/((s-4)*l-s*l),S=(9*a-15*l*a-l*x)/(3*l);return[x,a,S]};St.Hsluv.luvToLch=function(e){var t=e[0],n=e[1],i=e[2],s=Math.sqrt(n*n+i*i),l;if(s<1e-8)l=0;else{var a=Math.atan2(i,n);l=a*180/Math.PI,l<0&&(l=360+l)}return[t,s,l]};St.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=i/360*2*Math.PI,l=Math.cos(s)*n,a=Math.sin(s)*n;return[t,l,a]};St.Hsluv.hsluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxChromaForLH(i,t),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHsluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxChromaForLH(t,i),l=n/s*100;return[i,l,t]};St.Hsluv.hpluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxSafeChromaForL(i),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHpluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxSafeChromaForL(t),l=n/s*100;return[i,l,t]};St.Hsluv.rgbToHex=function(e){for(var t="#",n=0;n<3;){var i=n++,s=e[i],l=Math.round(s*255),a=l%16,x=(l-a)/16|0;t+=St.Hsluv.hexChars.charAt(x)+St.Hsluv.hexChars.charAt(a)}return t};St.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],n=0;n<3;){var i=n++,s=St.Hsluv.hexChars.indexOf(e.charAt(i*2+1)),l=St.Hsluv.hexChars.indexOf(e.charAt(i*2+2)),a=s*16+l;t.push(a/255)}return t};St.Hsluv.lchToRgb=function(e){return St.Hsluv.xyzToRgb(St.Hsluv.luvToXyz(St.Hsluv.lchToLuv(e)))};St.Hsluv.rgbToLch=function(e){return St.Hsluv.luvToLch(St.Hsluv.xyzToLuv(St.Hsluv.rgbToXyz(e)))};St.Hsluv.hsluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hsluvToLch(e))};St.Hsluv.rgbToHsluv=function(e){return St.Hsluv.lchToHsluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hpluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hpluvToLch(e))};St.Hsluv.rgbToHpluv=function(e){return St.Hsluv.lchToHpluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hsluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hsluvToRgb(e))};St.Hsluv.hpluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hpluvToRgb(e))};St.Hsluv.hexToHsluv=function(e){return St.Hsluv.rgbToHsluv(St.Hsluv.hexToRgb(e))};St.Hsluv.hexToHpluv=function(e){return St.Hsluv.rgbToHpluv(St.Hsluv.hexToRgb(e))};St.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];St.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];St.Hsluv.refY=1;St.Hsluv.refU=.19783000664283;St.Hsluv.refV=.46831999493879;St.Hsluv.kappa=903.2962962;St.Hsluv.epsilon=.0088564516;St.Hsluv.hexChars="0123456789abcdef";var yae={hsluvToRgb:St.Hsluv.hsluvToRgb,rgbToHsluv:St.Hsluv.rgbToHsluv,hpluvToRgb:St.Hsluv.hpluvToRgb,rgbToHpluv:St.Hsluv.rgbToHpluv,hsluvToHex:St.Hsluv.hsluvToHex,hexToHsluv:St.Hsluv.hexToHsluv,hpluvToHex:St.Hsluv.hpluvToHex,hexToHpluv:St.Hsluv.hexToHpluv,lchToHpluv:St.Hsluv.lchToHpluv,hpluvToLch:St.Hsluv.hpluvToLch,lchToHsluv:St.Hsluv.lchToHsluv,hsluvToLch:St.Hsluv.hsluvToLch,lchToLuv:St.Hsluv.lchToLuv,luvToLch:St.Hsluv.luvToLch,xyzToLuv:St.Hsluv.xyzToLuv,luvToXyz:St.Hsluv.luvToXyz,xyzToRgb:St.Hsluv.xyzToRgb,rgbToXyz:St.Hsluv.rgbToXyz,lchToRgb:St.Hsluv.lchToRgb,rgbToLch:St.Hsluv.rgbToLch},cp=yae;function a2(e){const t=/https?:/;t.test(e)?e=window.location.protocol+e.replace(t,""):e=`${sa.bivariateTilesServer??`${window.location.protocol}${window.location.host}${sa.baseUrl}`}${e}`,e=e.replace("{bbox}","{bbox-epsg-3857}").replace("{proj}","EPSG:3857").replace("{width}","256").replace("{height}","256").replace("{zoom}","{z}").replace("{-y}","{y}");const n=(e.match(/{switch:(.*?)}/)||["",""])[1].split(",")[0];return e=e.replace(/{switch:(.*?)}/,n),e}function vae(e,t){return e+(((t-e)%360+540)%360-180)*.5}function iP(e,t){return(e+t)/2}function Km(e,t){return[vae(e[0],t[0]),iP(e[1],t[1]),iP(e[2],t[2])]}function fp(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=parseInt(`0x${t.join("")}`,0);return`rgba(${[n>>16&255,n>>8&255,n&255].join(",")},0.5)`}throw new Error("Bad Hex")}function P1(e,t){const n=(Array.isArray(t[0])?[...t[0]]:[t[0]]).sort(),i=(Array.isArray(t[1])?[...t[1]]:[t[1]]).sort(),s=Array.from(new Set(n.concat(i))),l=e.combinations.find(({corner:a})=>{if(s.length!==a.length)return!1;for(let x=0;x<s.length;x+=1)if(s[x]!==a[x])return!1;return!0});return l!=null&&l.color?{color:l.color}:{color:e.fallback,isFallbackColor:!0}}function _ae(e,t,n,i,s){var q,K;const{indicators:l,colors:a,axis:x}=s,S=x.find(te=>te.quotient[0]===e&&te.quotient[1]===t),P=x.find(te=>te.quotient[0]===n&&te.quotient[1]===i);if(!S||!P)return;const L=(q=l.find(te=>te.name===e))==null?void 0:q.direction,F=(K=l.find(te=>te.name===n))==null?void 0:K.direction;if(!L||!F)return;const N=bae(a,L,F),$=xae(S,P,N,s==null?void 0:s.meta);return[N,$]}const xae=(e,t,n,i)=>RL({id:`${e.quotient.join("&")}|${t.quotient.join("&")}`,x:e,y:t,colors:n,sourceLayer:"stats",source:{type:"vector",tiles:[`${a2(sa.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${sa.bivariateTilesIndicatorsClass}`],maxzoom:i.max_zoom,minzoom:0}}),bae=(e,t,n)=>{const i=P1(e,[t[0],n[0]]),s=P1(e,[t[1],n[0]]),l=P1(e,[t[0],n[1]]),a=P1(e,[t[1],n[1]]),x=cp.hexToHsluv(i.color),S=cp.hexToHsluv(s.color),P=cp.hexToHsluv(l.color),L=cp.hexToHsluv(a.color),F=Km(x,P),N=Km(x,S),$=Km(P,L),q=Km(S,L),K=Km(N,$);return[{id:"A1",color:fp(i.color),isFallbackColor:i.isFallbackColor},{id:"A2",color:fp(cp.hsluvToHex(F))},{id:"A3",color:fp(l.color),isFallbackColor:l.isFallbackColor},{id:"B1",color:fp(cp.hsluvToHex(N))},{id:"B2",color:fp(cp.hsluvToHex(K))},{id:"B3",color:fp(cp.hsluvToHex($))},{id:"C1",color:fp(s.color),isFallbackColor:s.isFallbackColor},{id:"C2",color:fp(cp.hsluvToHex(q))},{id:"C3",color:fp(a.color),isFallbackColor:a.isFallbackColor}]};function wae(e){return RL({id:`${e.axis.x.quotient.join("&")}|${e.axis.y.quotient.join("&")}`,x:e.axis.x,y:e.axis.y,colors:[...e.steps].sort((t,n)=>t.label>n.label?1:-1).map(t=>({id:t.label,color:t.color})),sourceLayer:"stats"})}function Sae(e,t,n,i,s,l,a){const x=a.axis.find(P=>P.quotient[0]===n&&P.quotient[1]===i),S=a.axis.find(P=>P.quotient[0]===s&&P.quotient[1]===l);if(!(!x||!S))return Cae(e,x,S,t)}const Cae=(e,t,n,i)=>({name:e,axis:{x:t,y:n},type:"bivariate",steps:i.map(({id:s,color:l,isFallbackColor:a})=>({label:s,color:l,isFallbackColor:a}))});function Eae(e,t,n,i,s){var $,q,K,te;const l=s.indicators.find(V=>V.name===e),a=s.indicators.find(V=>V.name===n),x=l==null?void 0:l.label,S=a==null?void 0:a.label,P=($=s.indicators.find(V=>V.name===t))==null?void 0:$.label,L=(q=s.indicators.find(V=>V.name===i))==null?void 0:q.label;let F=[];return(K=l==null?void 0:l.copyrights)!=null&&K.length&&(F=F.concat(l.copyrights)),(te=a==null?void 0:a.copyrights)!=null&&te.length&&(F=F.concat(a.copyrights)),{description:`This map shows relation of ${x} (normalized by ${P}) to the base of ${S} (normalized by ${L}).`,copyrights:F,hints:{x:{label:x,direction:l==null?void 0:l.direction},y:{label:S,direction:a==null?void 0:a.direction}}}}function kae(e,t,n,i){const s=e.findIndex(x=>{if(n<x.value)return!0}),l=QS(s),a=t.findIndex(x=>{if(i<x.value)return!0});return l+a}const Pae=e=>{const{correlationRates:t}=e,n=[],i=[];for(const s of t){const l=s.x.quotient,a=s.x.parent||l;let x=n.find(F=>F.parent===JSON.stringify(a));x?x.quotients.find(F=>JSON.stringify(F)===JSON.stringify(l))||x.quotients.push(l):(x={parent:JSON.stringify(a),quotients:[l],selectedQuotient:l},n.push(x));const S=s.y.quotient,P=s.y.parent||S;let L=i.find(F=>F.parent===JSON.stringify(P));L?L.quotients.find(F=>JSON.stringify(F)===JSON.stringify(S))||L.quotients.push(S):(L={parent:JSON.stringify(P),quotients:[S],selectedQuotient:S},i.push(L))}for(const s of n){const l=s.quotients.find(a=>JSON.stringify(a)===s.parent);l&&(s.selectedQuotient=l)}for(const s of i){const l=s.quotients.find(a=>JSON.stringify(a)===s.parent);l&&(s.selectedQuotient=l)}return{x:n,y:i}},T1=Oo({setNumerators:(e,t)=>({xGroups:e,yGroups:t}),bivariateStatisticsResourceAtom:tD},({get:e,onAction:t,onChange:n},i={xGroups:[],yGroups:[]})=>(n("bivariateStatisticsResourceAtom",({data:s,loading:l})=>{if(s&&!l){const a=s.polygonStatistic.bivariateStatistic,x=Pae(a);i={xGroups:x.x,yGroups:x.y}}}),t("setNumerators",s=>{i=s}),i),"bivariateNumerators"),Tae=()=>({legend:[],source:[],meta:[],settings:[],menu:[]}),I1=([e,t])=>[e,{data:t,isLoading:!1,error:null}];function oP(e){const t=e.reduce((s,{id:l,...a})=>(Object.keys(a).forEach(x=>{s[x].push([l,a[x]])}),s),Tae()),n=[],i=[];if(t.legend.length){const s=t.legend.map(I1);n.push(g5.change(l=>new Map([...l,...s])))}if(t.source.length){const s=t.source.map(I1);n.push(KL.change(l=>new Map([...l,...s])))}if(t.meta.length){const s=t.meta.map(I1);n.push(WL.change(l=>new Map([...l,...s])))}if(t.settings.length){const s=t.settings.map(I1);n.push(Ty.change(l=>new Map([...l,...s])))}if(t.menu.length){const s=t.menu;n.push(ZL.change(l=>new Map([...l,...s])))}return[n,i]}var Du=function(e){e=e||{};var t=typeof e<"u"?e:{},n={},i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);var s="";function l(ae){return t.locateFile?t.locateFile(ae,s):s+ae}var a;document.currentScript&&(s=document.currentScript.src),s.indexOf("blob:")!==0?s=s.substr(0,s.lastIndexOf("/")+1):s="",a=function(je,st,Ge){var A=new XMLHttpRequest;A.open("GET",je,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){st(A.response);return}var Ot=Jr(je);if(Ot){st(Ot.buffer);return}Ge()},A.onerror=Ge,A.send(null)};var x=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);n=null,t.arguments&&t.arguments;var P=0,L=function(ae){P=ae},F=function(){return P},N=8;function $(ae,je,st,Ge){switch(st=st||"i8",st.charAt(st.length-1)==="*"&&(st="i32"),st){case"i1":ut[ae>>0]=je;break;case"i8":ut[ae>>0]=je;break;case"i16":Bt[ae>>1]=je;break;case"i32":Yt[ae>>2]=je;break;case"i64":Do=[je>>>0,(bi=je,+jn(bi)>=1?bi>0?(Go(+gi(bi/4294967296),4294967295)|0)>>>0:~~+mi((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Yt[ae>>2]=Do[0],Yt[ae+4>>2]=Do[1];break;case"float":pn[ae>>2]=je;break;case"double":xn[ae>>3]=je;break;default:xe("invalid type for setValue: "+st)}}function q(ae,je,st){switch(je=je||"i8",je.charAt(je.length-1)==="*"&&(je="i32"),je){case"i1":return ut[ae>>0];case"i8":return ut[ae>>0];case"i16":return Bt[ae>>1];case"i32":return Yt[ae>>2];case"i64":return Yt[ae>>2];case"float":return pn[ae>>2];case"double":return xn[ae>>3];default:xe("invalid type for getValue: "+je)}return null}var K=!1;function te(ae,je){ae||xe("Assertion failed: "+je)}function V(ae){var je=t["_"+ae];return te(je,"Cannot call unknown function "+ae+", make sure it is exported"),je}function X(ae,je,st,Ge,A){var me={string:function(Gt){var dr=0;if(Gt!=null&&Gt!==0){var Jn=(Gt.length<<2)+1;dr=Nr(Jn),Le(Gt,dr,Jn)}return dr},array:function(Gt){var dr=Nr(Gt.length);return Ze(Gt,dr),dr}};function Ot(Gt){return je==="string"?re(Gt):je==="boolean"?!!Gt:Gt}var $t=V(ae),ct=[],It=0;if(Ge)for(var bt=0;bt<Ge.length;bt++){var hn=me[st[bt]];hn?(It===0&&(It=se()),ct[bt]=hn(Ge[bt])):ct[bt]=Ge[bt]}var cn=$t.apply(null,ct);return cn=Ot(cn),It!==0&&J(It),cn}function ee(ae,je,st,Ge){st=st||[];var A=st.every(function(Ot){return Ot==="number"}),me=je!=="string";return me&&A&&!Ge?V(ae):function(){return X(ae,je,st,arguments)}}var ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _e(ae,je,st){for(var Ge=je+st,A=je;ae[A]&&!(A>=Ge);)++A;if(A-je>16&&ae.subarray&&ce)return ce.decode(ae.subarray(je,A));for(var me="";je<A;){var Ot=ae[je++];if(!(Ot&128)){me+=String.fromCharCode(Ot);continue}var $t=ae[je++]&63;if((Ot&224)==192){me+=String.fromCharCode((Ot&31)<<6|$t);continue}var ct=ae[je++]&63;if((Ot&240)==224?Ot=(Ot&15)<<12|$t<<6|ct:Ot=(Ot&7)<<18|$t<<12|ct<<6|ae[je++]&63,Ot<65536)me+=String.fromCharCode(Ot);else{var It=Ot-65536;me+=String.fromCharCode(55296|It>>10,56320|It&1023)}}return me}function re(ae,je){return ae?_e(yt,ae,je):""}function Se(ae,je,st,Ge){if(!(Ge>0))return 0;for(var A=st,me=st+Ge-1,Ot=0;Ot<ae.length;++Ot){var $t=ae.charCodeAt(Ot);if($t>=55296&&$t<=57343){var ct=ae.charCodeAt(++Ot);$t=65536+(($t&1023)<<10)|ct&1023}if($t<=127){if(st>=me)break;je[st++]=$t}else if($t<=2047){if(st+1>=me)break;je[st++]=192|$t>>6,je[st++]=128|$t&63}else if($t<=65535){if(st+2>=me)break;je[st++]=224|$t>>12,je[st++]=128|$t>>6&63,je[st++]=128|$t&63}else{if(st+3>=me)break;je[st++]=240|$t>>18,je[st++]=128|$t>>12&63,je[st++]=128|$t>>6&63,je[st++]=128|$t&63}}return je[st]=0,st-A}function Le(ae,je,st){return Se(ae,yt,je,st)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function Ze(ae,je){ut.set(ae,je)}function ot(ae,je){return ae%je>0&&(ae+=je-ae%je),ae}var We,ut,yt,Bt,Yt,pn,xn;function at(ae){We=ae,t.HEAP8=ut=new Int8Array(ae),t.HEAP16=Bt=new Int16Array(ae),t.HEAP32=Yt=new Int32Array(ae),t.HEAPU8=yt=new Uint8Array(ae),t.HEAPU16=new Uint16Array(ae),t.HEAPU32=new Uint32Array(ae),t.HEAPF32=pn=new Float32Array(ae),t.HEAPF64=xn=new Float64Array(ae)}var Me=5266928,Oe=24016,oe=t.TOTAL_MEMORY||33554432;t.buffer?We=t.buffer:We=new ArrayBuffer(oe),oe=We.byteLength,at(We),Yt[Oe>>2]=Me;function ge(ae){for(;ae.length>0;){var je=ae.shift();if(typeof je=="function"){je();continue}var st=je.func;typeof st=="number"?je.arg===void 0?t.dynCall_v(st):t.dynCall_vi(st,je.arg):st(je.arg===void 0?null:je.arg)}}var Mt=[],un=[],wn=[],dn=[];function Cn(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)jr(t.preRun.shift());ge(Mt)}function $n(){ge(un)}function Fn(){ge(wn)}function Xr(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Fi(t.postRun.shift());ge(dn)}function jr(ae){Mt.unshift(ae)}function Fi(ae){dn.unshift(ae)}var jn=Math.abs,mi=Math.ceil,gi=Math.floor,Go=Math.min,Bi=0,Wi=null;function bs(ae){Bi++,t.monitorRunDependencies&&t.monitorRunDependencies(Bi)}function ro(ae){if(Bi--,t.monitorRunDependencies&&t.monitorRunDependencies(Bi),Bi==0&&Wi){var je=Wi;Wi=null,je()}}t.preloadedImages={},t.preloadedAudios={};var Wr=null,Lo="data:application/octet-stream;base64,";function io(ae){return String.prototype.startsWith?ae.startsWith(Lo):ae.indexOf(Lo)===0}var bi,Do;Wr="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var la=24032;function vt(ae){return ae}function be(ae){var je=/\b__Z[\w\d_]+/g;return ae.replace(je,function(st){var Ge=st;return st===Ge?st:Ge+" ["+st+"]"})}function Je(){var ae=new Error;if(!ae.stack){try{throw new Error(0)}catch(je){ae=je}if(!ae.stack)return"(no stack trace available)"}return ae.stack.toString()}function Ct(){var ae=Je();return t.extraStackTrace&&(ae+=`
`+t.extraStackTrace()),be(ae)}function an(ae,je,st,Ge){xe("Assertion failed: "+re(ae)+", at: "+[je?re(je):"unknown filename",st,Ge?re(Ge):"unknown function"])}function Gn(){return ut.length}function Or(ae,je,st){yt.set(yt.subarray(je,je+st),ae)}function On(ae){return t.___errno_location&&(Yt[t.___errno_location()>>2]=ae),ae}function nr(ae){xe("OOM")}function Vr(ae){try{var je=new ArrayBuffer(ae);return je.byteLength!=ae?void 0:(new Int8Array(je).set(ut),Ei(je),at(je),1)}catch{}}function Yr(ae){var je=Gn(),st=16777216,Ge=2147483648-st;if(ae>Ge)return!1;for(var A=16777216,me=Math.max(je,A);me<ae;)me<=536870912?me=ot(2*me,st):me=Math.min(ot((3*me+2147483648)/4,st),Ge);var Ot=Vr(me);return!!Ot}var mr=typeof atob=="function"?atob:function(ae){var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",st="",Ge,A,me,Ot,$t,ct,It,bt=0;ae=ae.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Ot=je.indexOf(ae.charAt(bt++)),$t=je.indexOf(ae.charAt(bt++)),ct=je.indexOf(ae.charAt(bt++)),It=je.indexOf(ae.charAt(bt++)),Ge=Ot<<2|$t>>4,A=($t&15)<<4|ct>>2,me=(ct&3)<<6|It,st=st+String.fromCharCode(Ge),ct!==64&&(st=st+String.fromCharCode(A)),It!==64&&(st=st+String.fromCharCode(me));while(bt<ae.length);return st};function Co(ae){try{for(var je=mr(ae),st=new Uint8Array(je.length),Ge=0;Ge<je.length;++Ge)st[Ge]=je.charCodeAt(Ge);return st}catch{throw new Error("Converting base64 string to bytes failed.")}}function Jr(ae){if(io(ae))return Co(ae.slice(Lo.length))}var ua={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},La={a:xe,b:L,c:F,d:an,e:On,f:Gn,g:Or,h:Yr,i:nr,j:vt,k:be,l:Vr,m:Je,n:Ct,o:la,p:Oe},Vt=function(ae,je,st){var Ge=new ae.Int8Array(st),A=new ae.Int32Array(st);new ae.Uint8Array(st),new ae.Float32Array(st);var me=new ae.Float64Array(st),Ot=je.p|0,$t=ae.Math.floor,ct=ae.Math.abs,It=ae.Math.sqrt,bt=ae.Math.pow,hn=ae.Math.cos,cn=ae.Math.sin,Gt=ae.Math.tan,dr=ae.Math.acos,Jn=ae.Math.asin,Rr=ae.Math.atan,gr=ae.Math.atan2,lr=ae.Math.ceil,vr=ae.Math.imul,hi=ae.Math.min,Sr=ae.Math.clz32,Zt=je.b,qe=je.c,bn=je.d,il=je.e,Lc=je.f,oo=je.g,Qo=je.h,Dc=je.i,De=24048;function ao(h){return Ge=new Int8Array(h),A=new Int32Array(h),me=new Float64Array(h),st=h,!0}function os(h){h=h|0;var m=0;return m=De,De=De+h|0,De=De+15&-16,m|0}function ca(){return De|0}function ai(h){h=h|0,De=h}function fa(h,m){h=h|0,De=h}function Eo(h){return h=h|0,(vr(h*3|0,h+1|0)|0)+1|0}function Wo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0;Tf(h,m,v,_,0)|0&&(M=(vr(v*3|0,v+1|0)|0)+1|0,ji(_|0,0,M<<3|0)|0,k=Bo(M,4)|0,k&&(zi(h,m,v,_,k,M,0),Bn(k)))}function as(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0;if(Tf(h,m,v,_,k)|0){if(M=(vr(v*3|0,v+1|0)|0)+1|0,ji(_|0,0,M<<3|0)|0,k|0){ji(k|0,0,M<<2|0)|0,zi(h,m,v,_,k,M,0);return}k=Bo(M,4)|0,k&&(zi(h,m,v,_,k,M,0),Bn(k))}}function Tf(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0;if(it=De,De=De+16|0,Ke=it,M=_,A[M>>2]=h,A[M+4>>2]=m,M=(k|0)!=0,M&&(A[k>>2]=0),Ui(h,m)|0)return Ke=1,De=it,Ke|0;A[Ke>>2]=0;e:do if((v|0)>=1)if(M)for(ie=0,fe=1,Fe=1,I=0,M=h;;){if(!(I|ie)){if(M=ki(M,m,4,Ke)|0,m=qe()|0,(M|0)==0&(m|0)==0){M=2;break e}if(Ui(M,m)|0){M=1;break e}}if(M=ki(M,m,A[16+(ie<<2)>>2]|0,Ke)|0,m=qe()|0,(M|0)==0&(m|0)==0){M=2;break e}if(h=_+(Fe<<3)|0,A[h>>2]=M,A[h+4>>2]=m,A[k+(Fe<<2)>>2]=fe,I=I+1|0,h=(I|0)==(fe|0),z=ie+1|0,Q=(z|0)==6,Ui(M,m)|0){M=1;break e}if(fe=fe+(Q&h&1)|0,(fe|0)>(v|0)){M=0;break}else ie=h?Q?0:z:ie,Fe=Fe+1|0,I=h?0:I}else for(ie=0,fe=1,Fe=1,I=0,M=h;;){if(!(I|ie)){if(M=ki(M,m,4,Ke)|0,m=qe()|0,(M|0)==0&(m|0)==0){M=2;break e}if(Ui(M,m)|0){M=1;break e}}if(M=ki(M,m,A[16+(ie<<2)>>2]|0,Ke)|0,m=qe()|0,(M|0)==0&(m|0)==0){M=2;break e}if(h=_+(Fe<<3)|0,A[h>>2]=M,A[h+4>>2]=m,I=I+1|0,h=(I|0)==(fe|0),z=ie+1|0,Q=(z|0)==6,Ui(M,m)|0){M=1;break e}if(fe=fe+(Q&h&1)|0,(fe|0)>(v|0)){M=0;break}else ie=h?Q?0:z:ie,Fe=Fe+1|0,I=h?0:I}else M=0;while(0);return Ke=M,De=it,Ke|0}function zi(h,m,v,_,k,M,I){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,M=M|0,I=I|0;var z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0;if(Fe=De,De=De+16|0,fe=Fe,(h|0)==0&(m|0)==0){De=Fe;return}if(z=Qt(h|0,m|0,M|0,((M|0)<0)<<31>>31|0)|0,qe()|0,Q=_+(z<<3)|0,Ke=Q,it=A[Ke>>2]|0,Ke=A[Ke+4>>2]|0,ie=(it|0)==(h|0)&(Ke|0)==(m|0),!((it|0)==0&(Ke|0)==0|ie))do z=(z+1|0)%(M|0)|0,Q=_+(z<<3)|0,it=Q,Ke=A[it>>2]|0,it=A[it+4>>2]|0,ie=(Ke|0)==(h|0)&(it|0)==(m|0);while(!((Ke|0)==0&(it|0)==0|ie));if(z=k+(z<<2)|0,ie&&(A[z>>2]|0)<=(I|0)){De=Fe;return}if(it=Q,A[it>>2]=h,A[it+4>>2]=m,A[z>>2]=I,(I|0)>=(v|0)){De=Fe;return}it=I+1|0,A[fe>>2]=0,Ke=ki(h,m,2,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),A[fe>>2]=0,Ke=ki(h,m,3,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),A[fe>>2]=0,Ke=ki(h,m,1,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),A[fe>>2]=0,Ke=ki(h,m,5,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),A[fe>>2]=0,Ke=ki(h,m,4,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),A[fe>>2]=0,Ke=ki(h,m,6,fe)|0,zi(Ke,qe()|0,v,_,k,M,it),De=Fe}function ki(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0;if((A[_>>2]|0)>0){k=0;do v=Ns(v)|0,k=k+1|0;while((k|0)<(A[_>>2]|0))}z=dt(h|0,m|0,45)|0,qe()|0,Q=z&127,M=Si(h,m)|0,k=dt(h|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!k)I=6;else for(;;){if(Fe=(15-k|0)*3|0,Ke=dt(h|0,m|0,Fe|0)|0,qe()|0,Ke=Ke&7,it=(Xo(k)|0)==0,k=k+-1|0,fe=Xt(7,0,Fe|0)|0,m=m&~(qe()|0),Fe=Xt(A[(it?464:48)+(Ke*28|0)+(v<<2)>>2]|0,0,Fe|0)|0,ie=qe()|0,v=A[(it?672:256)+(Ke*28|0)+(v<<2)>>2]|0,h=Fe|h&~fe,m=ie|m,!v){v=0;break e}if(!k){I=6;break}}while(0);(I|0)==6&&(it=A[880+(Q*28|0)+(v<<2)>>2]|0,Ke=Xt(it|0,0,45)|0,h=Ke|h,m=qe()|0|m&-1040385,v=A[4304+(Q*28|0)+(v<<2)>>2]|0,(it&127|0)==127&&(it=Xt(A[880+(Q*28|0)+20>>2]|0,0,45)|0,m=qe()|0|m&-1040385,v=A[4304+(Q*28|0)+20>>2]|0,h=Cs(it|h,m)|0,m=qe()|0,A[_>>2]=(A[_>>2]|0)+1)),I=dt(h|0,m|0,45)|0,qe()|0,I=I&127;e:do if(ui(I)|0){t:do if((Si(h,m)|0)==1){if((Q|0)!=(I|0))if(Qu(I,A[7728+(Q*28|0)>>2]|0)|0){h=$a(h,m)|0,M=1,m=qe()|0;break}else{h=Cs(h,m)|0,M=1,m=qe()|0;break}switch(M|0){case 5:{h=$a(h,m)|0,m=qe()|0,A[_>>2]=(A[_>>2]|0)+5,M=0;break t}case 3:{h=Cs(h,m)|0,m=qe()|0,A[_>>2]=(A[_>>2]|0)+1,M=0;break t}default:return Ke=0,it=0,Zt(Ke|0),it|0}}else M=0;while(0);if((v|0)>0){k=0;do h=fu(h,m)|0,m=qe()|0,k=k+1|0;while((k|0)!=(v|0))}if((Q|0)!=(I|0)){if(!(Rc(I)|0)){if((M|0)!=0|(Si(h,m)|0)!=5)break;A[_>>2]=(A[_>>2]|0)+1;break}switch(z&127){case 8:case 118:break e}(Si(h,m)|0)!=3&&(A[_>>2]=(A[_>>2]|0)+1)}}else if((v|0)>0){k=0;do h=Cs(h,m)|0,m=qe()|0,k=k+1|0;while((k|0)!=(v|0))}while(0);return A[_>>2]=((A[_>>2]|0)+v|0)%6|0,Ke=m,it=h,Zt(Ke|0),it|0}function ss(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0;if(Fe=De,De=De+16|0,fe=Fe,!v)return fe=_,A[fe>>2]=h,A[fe+4>>2]=m,fe=0,De=Fe,fe|0;A[fe>>2]=0;e:do if(Ui(h,m)|0)h=1;else{if(M=(v|0)>0,M){k=0,ie=h;do{if(ie=ki(ie,m,4,fe)|0,m=qe()|0,(ie|0)==0&(m|0)==0){h=2;break e}if(k=k+1|0,Ui(ie,m)|0){h=1;break e}}while((k|0)<(v|0));if(Q=_,A[Q>>2]=ie,A[Q+4>>2]=m,Q=v+-1|0,M){M=0,I=1,k=ie,h=m;do{if(k=ki(k,h,2,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(z=_+(I<<3)|0,A[z>>2]=k,A[z+4>>2]=h,I=I+1|0,Ui(k,h)|0){h=1;break e}M=M+1|0}while((M|0)<(v|0));z=0,M=I;do{if(k=ki(k,h,3,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(I=_+(M<<3)|0,A[I>>2]=k,A[I+4>>2]=h,M=M+1|0,Ui(k,h)|0){h=1;break e}z=z+1|0}while((z|0)<(v|0));I=0;do{if(k=ki(k,h,1,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(z=_+(M<<3)|0,A[z>>2]=k,A[z+4>>2]=h,M=M+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,5,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(z=_+(M<<3)|0,A[z>>2]=k,A[z+4>>2]=h,M=M+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,4,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(z=_+(M<<3)|0,A[z>>2]=k,A[z+4>>2]=h,M=M+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));for(I=0;;){if(k=ki(k,h,6,fe)|0,h=qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if((I|0)!=(Q|0))if(z=_+(M<<3)|0,A[z>>2]=k,A[z+4>>2]=h,!(Ui(k,h)|0))M=M+1|0;else{h=1;break e}if(I=I+1|0,(I|0)>=(v|0)){I=ie,M=m;break}}}else I=ie,k=ie,M=m,h=m}else I=_,A[I>>2]=h,A[I+4>>2]=m,I=h,k=h,M=m,h=m;h=((I|0)!=(k|0)|(M|0)!=(h|0))&1}while(0);return fe=h,De=Fe,fe|0}function wi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0;if(M=De,De=De+48|0,k=M+8|0,_=M,z=h,I=A[z+4>>2]|0,v=_,A[v>>2]=A[z>>2],A[v+4>>2]=I,Zi(_,k),k=ws(k,m)|0,m=A[_>>2]|0,_=A[h+8>>2]|0,(_|0)<=0)return z=m,I=(k|0)<(z|0),z=I?z:k,z=z+12|0,De=M,z|0;v=A[h+12>>2]|0,h=0;do m=(A[v+(h<<3)>>2]|0)+m|0,h=h+1|0;while((h|0)<(_|0));return z=(k|0)<(m|0),z=z?m:k,z=z+12|0,De=M,z|0}function Ni(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0;if(z=De,De=De+48|0,_=z+8|0,k=z,!(Ml(h,m,v)|0)){De=z;return}if(Q=h,M=A[Q+4>>2]|0,I=k,A[I>>2]=A[Q>>2],A[I+4>>2]=M,Zi(k,_),I=ws(_,m)|0,m=A[k>>2]|0,M=A[h+8>>2]|0,(M|0)>0){k=A[h+12>>2]|0,_=0;do m=(A[k+(_<<3)>>2]|0)+m|0,_=_+1|0;while((_|0)!=(M|0))}if(m=(I|0)<(m|0)?m:I,(m|0)<=-12){De=z;return}Q=m+11|0,ji(v|0,0,(((Q|0)>0?Q:0)<<3)+8|0)|0,De=z}function Ml(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0,p=0,f=0,y=0,E=0,O=0,R=0,U=0,G=0;if(G=De,De=De+112|0,E=G+80|0,Q=G+72|0,O=G,R=G+56|0,ie=h+8|0,U=Ti((A[ie>>2]<<5)+32|0)|0,U||bn(22848,22448,800,22456),ba(h,U),M=h,_=A[M+4>>2]|0,z=Q,A[z>>2]=A[M>>2],A[z+4>>2]=_,Zi(Q,E),z=ws(E,m)|0,_=A[Q>>2]|0,M=A[ie>>2]|0,(M|0)>0){I=A[h+12>>2]|0,k=0;do _=(A[I+(k<<3)>>2]|0)+_|0,k=k+1|0;while((k|0)!=(M|0))}if(z=(z|0)<(_|0)?_:z,y=z+12|0,k=Bo(y,8)|0,fe=Bo(y,8)|0,A[E>>2]=0,p=h,f=A[p+4>>2]|0,_=Q,A[_>>2]=A[p>>2],A[_+4>>2]=f,_=qu(Q,y,m,E,k,fe)|0,_|0)return Bn(k),Bn(fe),Bn(U),U=_,De=G,U|0;e:do if((A[ie>>2]|0)>0){for(M=h+12|0,_=0;I=qu((A[M>>2]|0)+(_<<3)|0,y,m,E,k,fe)|0,_=_+1|0,!(I|0);)if((_|0)>=(A[ie>>2]|0))break e;return Bn(k),Bn(fe),Bn(U),U=I,De=G,U|0}while(0);(z|0)>-12&&ji(fe|0,0,((y|0)>1?y:1)<<3|0)|0;e:do if((A[E>>2]|0)>0){f=((y|0)<0)<<31>>31,Xe=k,vn=fe,_n=k,Wt=k,c=fe,p=k,_=k,Nt=k,ln=fe,mt=fe,Lt=fe,k=fe;t:for(;;){for(Et=A[E>>2]|0,it=0,wt=0,M=0;;){I=O,z=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(z|0));if(m=Xe+(it<<3)|0,Q=A[m>>2]|0,m=A[m+4>>2]|0,Tf(Q,m,1,O,0)|0){I=O,z=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(z|0));I=Bo(7,4)|0,I|0&&(zi(Q,m,1,O,I,7,0),Bn(I))}Ke=0;do{Fe=O+(Ke<<3)|0,fe=A[Fe>>2]|0,Fe=A[Fe+4>>2]|0;n:do if(!((fe|0)==0&(Fe|0)==0)){if(Q=Qt(fe|0,Fe|0,y|0,f|0)|0,qe()|0,I=v+(Q<<3)|0,z=I,m=A[z>>2]|0,z=A[z+4>>2]|0,!((m|0)==0&(z|0)==0))for(ie=0;;){if((ie|0)>(y|0))break t;if((m|0)==(fe|0)&(z|0)==(Fe|0))break n;if(Q=(Q+1|0)%(y|0)|0,I=v+(Q<<3)|0,z=I,m=A[z>>2]|0,z=A[z+4>>2]|0,(m|0)==0&(z|0)==0)break;ie=ie+1|0}(fe|0)==0&(Fe|0)==0||(cs(fe,Fe,R),rn(h,U,R)|0&&(ie=I,A[ie>>2]=fe,A[ie+4>>2]=Fe,ie=vn+(M<<3)|0,A[ie>>2]=fe,A[ie+4>>2]=Fe,M=M+1|0))}while(0);Ke=Ke+1|0}while(Ke>>>0<7);if(wt=wt+1|0,(wt|0)>=(Et|0))break;it=it+1|0}if((Et|0)>0&&ji(_n|0,0,Et<<3|0)|0,A[E>>2]=M,(M|0)>0)fe=k,Fe=Lt,Ke=p,it=mt,wt=ln,Et=vn,k=Nt,Lt=_,mt=Wt,ln=_n,Nt=fe,_=Fe,p=c,c=Ke,Wt=it,_n=wt,vn=Xe,Xe=Et;else break e}return Bn(Wt),Bn(c),Bn(U),U=-1,De=G,U|0}else _=fe;while(0);return Bn(U),Bn(k),Bn(_),U=0,De=G,U|0}function qu(h,m,v,_,k,M){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,M=M|0;var I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0,p=0,f=0,y=0,E=0;if(f=De,De=De+48|0,_n=f+32|0,Wt=f+16|0,c=f,I=A[h>>2]|0,(I|0)<=0)return p=0,De=f,p|0;ln=h+4|0,mt=_n+8|0,Lt=Wt+8|0,Xe=c+8|0,vn=((m|0)<0)<<31>>31,Nt=0;e:for(;;){z=A[ln>>2]|0,wt=z+(Nt<<4)|0,A[_n>>2]=A[wt>>2],A[_n+4>>2]=A[wt+4>>2],A[_n+8>>2]=A[wt+8>>2],A[_n+12>>2]=A[wt+12>>2],(Nt|0)==(I+-1|0)?(A[Wt>>2]=A[z>>2],A[Wt+4>>2]=A[z+4>>2],A[Wt+8>>2]=A[z+8>>2],A[Wt+12>>2]=A[z+12>>2]):(wt=z+(Nt+1<<4)|0,A[Wt>>2]=A[wt>>2],A[Wt+4>>2]=A[wt+4>>2],A[Wt+8>>2]=A[wt+8>>2],A[Wt+12>>2]=A[wt+12>>2]),wt=zc(_n,Wt,v)|0;t:do if((wt|0)>0){Et=+(wt|0),it=0;n:for(;;){E=+(wt-it|0),y=+(it|0),me[c>>3]=+me[_n>>3]*E/Et+ +me[Wt>>3]*y/Et,me[Xe>>3]=+me[mt>>3]*E/Et+ +me[Lt>>3]*y/Et,Fe=Rp(c,v)|0,Ke=qe()|0,z=Qt(Fe|0,Ke|0,m|0,vn|0)|0,qe()|0,I=M+(z<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0;r:do if((ie|0)==0&(Q|0)==0)p=14;else for(fe=0;;){if((fe|0)>(m|0)){I=1;break r}if((ie|0)==(Fe|0)&(Q|0)==(Ke|0)){I=7;break r}if(z=(z+1|0)%(m|0)|0,I=M+(z<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0){p=14;break}else fe=fe+1|0}while(0);switch((p|0)==14&&(p=0,(Fe|0)==0&(Ke|0)==0?I=7:(A[I>>2]=Fe,A[I+4>>2]=Ke,I=A[_>>2]|0,fe=k+(I<<3)|0,A[fe>>2]=Fe,A[fe+4>>2]=Ke,A[_>>2]=I+1,I=0)),I&7){case 7:case 0:break;default:break n}if(it=it+1|0,(wt|0)<=(it|0)){p=8;break t}}if(I|0){I=-1,p=20;break e}}else p=8;while(0);if((p|0)==8&&(p=0),Nt=Nt+1|0,I=A[h>>2]|0,(Nt|0)>=(I|0)){I=0,p=20;break}}return(p|0)==20?(De=f,I|0):0}function Ip(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0;if(ie=De,De=De+176|0,Q=ie,(m|0)<1){mo(v,0,0),De=ie;return}I=h,I=dt(A[I>>2]|0,A[I+4>>2]|0,52)|0,qe()|0,mo(v,(m|0)>6?m:6,I&15),I=0;do{if(_=h+(I<<3)|0,Hs(A[_>>2]|0,A[_+4>>2]|0,Q),_=A[Q>>2]|0,(_|0)>0){z=0;do M=Q+8+(z<<4)|0,z=z+1|0,_=Q+8+(((z|0)%(_|0)|0)<<4)|0,k=ps(v,_,M)|0,k?Zc(v,k)|0:Xc(v,M,_)|0,_=A[Q>>2]|0;while((z|0)<(_|0))}I=I+1|0}while((I|0)!=(m|0));De=ie}function Mp(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0;if(M=De,De=De+32|0,_=M,k=M+16|0,Ip(h,m,k),A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,h=zl(k)|0,!h){$i(v)|0,Va(k),De=M;return}do{m=Ln(v)|0;do cr(m,h)|0,I=h+16|0,A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],A[_+12>>2]=A[I+12>>2],Zc(k,h)|0,h=zp(k,_)|0;while(h|0);h=zl(k)|0}while(h|0);$i(v)|0,Va(k),De=M}function ui(h){return h=h|0,A[7728+(h*28|0)+16>>2]|0}function Rc(h){return h=h|0,(h|0)==4|(h|0)==117|0}function If(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)>>2]|0}function Wh(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)+4>>2]|0}function Mf(h,m){h=h|0,m=m|0,h=7728+(h*28|0)|0,A[m>>2]=A[h>>2],A[m+4>>2]=A[h+4>>2],A[m+8>>2]=A[h+8>>2],A[m+12>>2]=A[h+12>>2]}function Gu(h,m){h=h|0,m=m|0;var v=0,_=0;if(m>>>0>20)return m=-1,m|0;do if((A[11152+(m*216|0)>>2]|0)!=(h|0))if((A[11152+(m*216|0)+8>>2]|0)!=(h|0))if((A[11152+(m*216|0)+16>>2]|0)!=(h|0))if((A[11152+(m*216|0)+24>>2]|0)!=(h|0))if((A[11152+(m*216|0)+32>>2]|0)!=(h|0))if((A[11152+(m*216|0)+40>>2]|0)!=(h|0))if((A[11152+(m*216|0)+48>>2]|0)!=(h|0))if((A[11152+(m*216|0)+56>>2]|0)!=(h|0))if((A[11152+(m*216|0)+64>>2]|0)!=(h|0))if((A[11152+(m*216|0)+72>>2]|0)!=(h|0))if((A[11152+(m*216|0)+80>>2]|0)!=(h|0))if((A[11152+(m*216|0)+88>>2]|0)!=(h|0))if((A[11152+(m*216|0)+96>>2]|0)!=(h|0))if((A[11152+(m*216|0)+104>>2]|0)!=(h|0))if((A[11152+(m*216|0)+112>>2]|0)!=(h|0))if((A[11152+(m*216|0)+120>>2]|0)!=(h|0))if((A[11152+(m*216|0)+128>>2]|0)!=(h|0))if((A[11152+(m*216|0)+136>>2]|0)==(h|0))h=2,v=1,_=2;else{if((A[11152+(m*216|0)+144>>2]|0)==(h|0)){h=0,v=2,_=0;break}if((A[11152+(m*216|0)+152>>2]|0)==(h|0)){h=0,v=2,_=1;break}if((A[11152+(m*216|0)+160>>2]|0)==(h|0)){h=0,v=2,_=2;break}if((A[11152+(m*216|0)+168>>2]|0)==(h|0)){h=1,v=2,_=0;break}if((A[11152+(m*216|0)+176>>2]|0)==(h|0)){h=1,v=2,_=1;break}if((A[11152+(m*216|0)+184>>2]|0)==(h|0)){h=1,v=2,_=2;break}if((A[11152+(m*216|0)+192>>2]|0)==(h|0)){h=2,v=2,_=0;break}if((A[11152+(m*216|0)+200>>2]|0)==(h|0)){h=2,v=2,_=1;break}if((A[11152+(m*216|0)+208>>2]|0)==(h|0)){h=2,v=2,_=2;break}else h=-1;return h|0}else h=2,v=1,_=1;else h=2,v=1,_=0;else h=1,v=1,_=2;else h=1,v=1,_=1;else h=1,v=1,_=0;else h=0,v=1,_=2;else h=0,v=1,_=1;else h=0,v=1,_=0;else h=2,v=0,_=2;else h=2,v=0,_=1;else h=2,v=0,_=0;else h=1,v=0,_=2;else h=1,v=0,_=1;else h=1,v=0,_=0;else h=0,v=0,_=2;else h=0,v=0,_=1;else h=0,v=0,_=0;while(0);return m=A[11152+(m*216|0)+(v*72|0)+(h*24|0)+(_<<3)+4>>2]|0,m|0}function Qu(h,m){return h=h|0,m=m|0,(A[7728+(h*28|0)+20>>2]|0)==(m|0)?(m=1,m|0):(m=(A[7728+(h*28|0)+24>>2]|0)==(m|0),m|0)}function Ol(h,m){return h=h|0,m=m|0,A[880+(h*28|0)+(m<<2)>>2]|0}function Fc(h,m){return h=h|0,m=m|0,(A[880+(h*28|0)>>2]|0)==(m|0)?(m=0,m|0):(A[880+(h*28|0)+4>>2]|0)==(m|0)?(m=1,m|0):(A[880+(h*28|0)+8>>2]|0)==(m|0)?(m=2,m|0):(A[880+(h*28|0)+12>>2]|0)==(m|0)?(m=3,m|0):(A[880+(h*28|0)+16>>2]|0)==(m|0)?(m=4,m|0):(A[880+(h*28|0)+20>>2]|0)==(m|0)?(m=5,m|0):((A[880+(h*28|0)+24>>2]|0)==(m|0)?6:7)|0}function Bc(){return 122}function Wu(h){h=h|0;var m=0,v=0,_=0;m=0;do Xt(m|0,0,45)|0,_=qe()|0|134225919,v=h+(m<<3)|0,A[v>>2]=-1,A[v+4>>2]=_,m=m+1|0;while((m|0)!=122)}function Ko(h){return h=h|0,+me[h+16>>3]<+me[h+24>>3]|0}function ol(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return v=+me[m>>3],!(v>=+me[h+8>>3])||!(v<=+me[h>>3])?(m=0,m|0):(_=+me[h+16>>3],v=+me[h+24>>3],k=+me[m+8>>3],m=k>=v,h=k<=_&1,_<v?m&&(h=1):m||(h=0),m=(h|0)!=0,m|0)}function ws(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0;I=De,De=De+288|0,v=I+264|0,_=I+96|0,k=I,M=k,z=M+96|0;do A[M>>2]=0,M=M+4|0;while((M|0)<(z|0));return pu(m,k),M=k,z=A[M>>2]|0,M=A[M+4>>2]|0,cs(z,M,v),Hs(z,M,_),Q=+Zu(v,_+8|0),me[v>>3]=+me[h>>3],M=v+8|0,me[M>>3]=+me[h+16>>3],me[_>>3]=+me[h+8>>3],z=_+8|0,me[z>>3]=+me[h+24>>3],ie=+Zu(v,_),z=~~+lr(+(ie*ie/+To(+ +ct(+((+me[M>>3]-+me[z>>3])/(+me[v>>3]-+me[_>>3]))),3)/(Q*(Q*2.59807621135)*.8))),De=I,(z|0?z:1)|0}function zc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0;z=De,De=De+288|0,_=z+264|0,k=z+96|0,M=z,I=M,Q=I+96|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(Q|0));return pu(v,M),Q=M,I=A[Q>>2]|0,Q=A[Q+4>>2]|0,cs(I,Q,_),Hs(I,Q,k),ie=+Zu(_,k+8|0),Q=~~+lr(+(+Zu(h,m)/(ie*2))),De=z,(Q|0?Q:1)|0}function al(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0,A[h>>2]=m,A[h+4>>2]=v,A[h+8>>2]=_}function Ur(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0;Fe=m+8|0,A[Fe>>2]=0,Q=+me[h>>3],I=+ct(+Q),ie=+me[h+8>>3],z=+ct(+ie)/.8660254037844386,I=I+z*.5,v=~~I,h=~~z,I=I-+(v|0),z=z-+(h|0);do if(I<.5)if(I<.3333333333333333)if(A[m>>2]=v,z<(I+1)*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}else if(Ke=1-I,h=(!(z<Ke)&1)+h|0,A[m+4>>2]=h,Ke<=z&z<I*2){v=v+1|0,A[m>>2]=v;break}else{A[m>>2]=v;break}else{if(!(I<.6666666666666666))if(v=v+1|0,A[m>>2]=v,z<I*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}if(z<1-I){if(A[m+4>>2]=h,I*2+-1<z){A[m>>2]=v;break}}else h=h+1|0,A[m+4>>2]=h;v=v+1|0,A[m>>2]=v}while(0);do if(Q<0)if(h&1){fe=(h+1|0)/2|0,fe=Jo(v|0,((v|0)<0)<<31>>31|0,fe|0,((fe|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(fe>>>0)+4294967296*+(qe()|0))*2+1)),A[m>>2]=v;break}else{fe=(h|0)/2|0,fe=Jo(v|0,((v|0)<0)<<31>>31|0,fe|0,((fe|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(fe>>>0)+4294967296*+(qe()|0))*2),A[m>>2]=v;break}while(0);fe=m+4|0,ie<0&&(v=v-((h<<1|1|0)/2|0)|0,A[m>>2]=v,h=0-h|0,A[fe>>2]=h),_=h-v|0,(v|0)<0?(k=0-v|0,A[fe>>2]=_,A[Fe>>2]=k,A[m>>2]=0,h=_,v=0):k=0,(h|0)<0&&(v=v-h|0,A[m>>2]=v,k=k-h|0,A[Fe>>2]=k,A[fe>>2]=0,h=0),M=v-k|0,_=h-k|0,(k|0)<0&&(A[m>>2]=M,A[fe>>2]=_,A[Fe>>2]=0,h=_,v=M,k=0),_=(h|0)<(v|0)?h:v,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[m>>2]=v-_,A[fe>>2]=h-_,A[Fe>>2]=k-_)}function Qn(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,(m|0)<0&&(v=v-m|0,A[I>>2]=v,M=h+8|0,A[M>>2]=(A[M>>2]|0)-m,A[h>>2]=0,m=0),(v|0)<0?(m=m-v|0,A[h>>2]=m,M=h+8|0,k=(A[M>>2]|0)-v|0,A[M>>2]=k,A[I>>2]=0,v=0):(k=h+8|0,M=k,k=A[k>>2]|0),(k|0)<0&&(m=m-k|0,A[h>>2]=m,v=v-k|0,A[I>>2]=v,A[M>>2]=0,k=0),_=(v|0)<(m|0)?v:m,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[h>>2]=m-_,A[I>>2]=v-_,A[M>>2]=k-_)}function Ro(h,m){h=h|0,m=m|0;var v=0,_=0;_=A[h+8>>2]|0,v=+((A[h+4>>2]|0)-_|0),me[m>>3]=+((A[h>>2]|0)-_|0)-v*.5,me[m+8>>3]=v*.8660254037844386}function Tr(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[m>>2]|0)+(A[h>>2]|0),A[v+4>>2]=(A[m+4>>2]|0)+(A[h+4>>2]|0),A[v+8>>2]=(A[m+8>>2]|0)+(A[h+8>>2]|0)}function nu(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[h>>2]|0)-(A[m>>2]|0),A[v+4>>2]=(A[h+4>>2]|0)-(A[m+4>>2]|0),A[v+8>>2]=(A[h+8>>2]|0)-(A[m+8>>2]|0)}function Of(h,m){h=h|0,m=m|0;var v=0,_=0;v=vr(A[h>>2]|0,m)|0,A[h>>2]=v,v=h+4|0,_=vr(A[v>>2]|0,m)|0,A[v>>2]=_,h=h+8|0,m=vr(A[h>>2]|0,m)|0,A[h>>2]=m}function Nc(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;I=A[h>>2]|0,z=(I|0)<0,_=(A[h+4>>2]|0)-(z?I:0)|0,M=(_|0)<0,k=(M?0-_|0:0)+((A[h+8>>2]|0)-(z?I:0))|0,v=(k|0)<0,h=v?0:k,m=(M?0:_)-(v?k:0)|0,k=(z?0:I)-(M?_:0)-(v?k:0)|0,v=(m|0)<(k|0)?m:k,v=(h|0)<(v|0)?h:v,_=(v|0)>0,h=h-(_?v:0)|0,m=m-(_?v:0)|0;e:do switch(k-(_?v:0)|0){case 0:switch(m|0){case 0:return z=h|0?(h|0)==1?1:7:0,z|0;case 1:return z=h|0?(h|0)==1?3:7:2,z|0;default:break e}case 1:switch(m|0){case 0:return z=h|0?(h|0)==1?5:7:4,z|0;case 1:{if(!h)h=6;else break e;return h|0}default:break e}}while(0);return z=7,z|0}function Op(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,z=h+4|0,v=(A[z>>2]|0)-v|0,_=ha(+((m*3|0)-v|0)/7)|0,A[h>>2]=_,m=ha(+((v<<1)+m|0)/7)|0,A[z>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(M=0-_|0,A[z>>2]=v,A[I>>2]=M,A[h>>2]=0,m=v,_=0,v=M):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[z>>2]=0,m=0),M=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=M,A[z>>2]=k,A[I>>2]=0,m=k,k=M,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[z>>2]=m-_,A[I>>2]=v-_)}function ru(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,z=h+4|0,v=(A[z>>2]|0)-v|0,_=ha(+((m<<1)+v|0)/7)|0,A[h>>2]=_,m=ha(+((v*3|0)-m|0)/7)|0,A[z>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(M=0-_|0,A[z>>2]=v,A[I>>2]=M,A[h>>2]=0,m=v,_=0,v=M):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[z>>2]=0,m=0),M=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=M,A[z>>2]=k,A[I>>2]=0,m=k,k=M,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[z>>2]=m-_,A[I>>2]=v-_)}function iu(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,z=h+8|0,_=A[z>>2]|0,k=v+(m*3|0)|0,A[h>>2]=k,v=_+(v*3|0)|0,A[I>>2]=v,m=(_*3|0)+m|0,A[z>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[z>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=k,A[z>>2]=0,_=M,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[z>>2]=m-v)}function yi(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,z=h+8|0,v=A[z>>2]|0,_=(m*3|0)+k|0,k=v+(k*3|0)|0,A[h>>2]=k,A[I>>2]=_,m=(v*3|0)+m|0,A[z>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[z>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=_,A[z>>2]=0,k=M,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[z>>2]=m-v)}function ou(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0;(m+-1|0)>>>0>=6||(k=(A[15472+(m*12|0)>>2]|0)+(A[h>>2]|0)|0,A[h>>2]=k,z=h+4|0,_=(A[15472+(m*12|0)+4>>2]|0)+(A[z>>2]|0)|0,A[z>>2]=_,I=h+8|0,m=(A[15472+(m*12|0)+8>>2]|0)+(A[I>>2]|0)|0,A[I>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[z>>2]=v,A[I>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[I>>2]=m,A[z>>2]=0,v=0),M=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=M,A[z>>2]=k,A[I>>2]=0,_=M,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[z>>2]=k-v,A[I>>2]=m-v))}function zs(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,z=h+8|0,v=A[z>>2]|0,_=m+k|0,k=v+k|0,A[h>>2]=k,A[I>>2]=_,m=v+m|0,A[z>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[z>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=k,A[z>>2]=0,_=M,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[z>>2]=m-v)}function au(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;m=A[h>>2]|0,I=h+4|0,_=A[I>>2]|0,z=h+8|0,v=A[z>>2]|0,k=_+m|0,A[h>>2]=k,_=v+_|0,A[I>>2]=_,m=v+m|0,A[z>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[z>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=k,A[z>>2]=0,_=M,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[z>>2]=m-v)}function Ns(h){switch(h=h|0,h|0){case 1:{h=5;break}case 5:{h=4;break}case 4:{h=6;break}case 6:{h=2;break}case 2:{h=3;break}case 3:{h=1;break}}return h|0}function Pi(h){switch(h=h|0,h|0){case 1:{h=3;break}case 3:{h=2;break}case 2:{h=6;break}case 6:{h=4;break}case 4:{h=5;break}case 5:{h=1;break}}return h|0}function Ll(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,z=h+8|0,_=A[z>>2]|0,k=v+(m<<1)|0,A[h>>2]=k,v=_+(v<<1)|0,A[I>>2]=v,m=(_<<1)+m|0,A[z>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[z>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=k,A[z>>2]=0,_=M,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[z>>2]=m-v)}function Uc(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,z=h+8|0,v=A[z>>2]|0,_=(m<<1)+k|0,k=v+(k<<1)|0,A[h>>2]=k,A[I>>2]=_,m=(v<<1)+m|0,A[z>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[z>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[z>>2]=m,A[I>>2]=0,v=0),M=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=M,A[I>>2]=_,A[z>>2]=0,k=M,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[z>>2]=m-v)}function Ki(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0;return I=(A[h>>2]|0)-(A[m>>2]|0)|0,z=(I|0)<0,_=(A[h+4>>2]|0)-(A[m+4>>2]|0)-(z?I:0)|0,M=(_|0)<0,k=(z?0-I|0:0)+(A[h+8>>2]|0)-(A[m+8>>2]|0)+(M?0-_|0:0)|0,h=(k|0)<0,m=h?0:k,v=(M?0:_)-(h?k:0)|0,k=(z?0:I)-(M?_:0)-(h?k:0)|0,h=(v|0)<(k|0)?v:k,h=(m|0)<(h|0)?m:h,_=(h|0)>0,m=m-(_?h:0)|0,v=v-(_?h:0)|0,h=k-(_?h:0)|0,h=(h|0)>-1?h:0-h|0,v=(v|0)>-1?v:0-v|0,m=(m|0)>-1?m:0-m|0,m=(v|0)>(m|0)?v:m,((h|0)>(m|0)?h:m)|0}function $c(h,m){h=h|0,m=m|0;var v=0;v=A[h+8>>2]|0,A[m>>2]=(A[h>>2]|0)-v,A[m+4>>2]=(A[h+4>>2]|0)-v}function Us(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0;_=A[h>>2]|0,A[m>>2]=_,h=A[h+4>>2]|0,I=m+4|0,A[I>>2]=h,z=m+8|0,A[z>>2]=0,v=h-_|0,(_|0)<0?(h=0-_|0,A[I>>2]=v,A[z>>2]=h,A[m>>2]=0,_=0):(v=h,h=0),(v|0)<0&&(_=_-v|0,A[m>>2]=_,h=h-v|0,A[z>>2]=h,A[I>>2]=0,v=0),M=_-h|0,k=v-h|0,(h|0)<0?(A[m>>2]=M,A[I>>2]=k,A[z>>2]=0,v=k,k=M,h=0):k=_,_=(v|0)<(k|0)?v:k,_=(h|0)<(_|0)?h:_,!((_|0)<=0)&&(A[m>>2]=k-_,A[I>>2]=v-_,A[z>>2]=h-_)}function Ss(h){h=h|0;var m=0,v=0,_=0,k=0;m=h+8|0,k=A[m>>2]|0,v=k-(A[h>>2]|0)|0,A[h>>2]=v,_=h+4|0,h=(A[_>>2]|0)-k|0,A[_>>2]=h,A[m>>2]=0-(h+v)}function co(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;v=A[h>>2]|0,m=0-v|0,A[h>>2]=m,I=h+8|0,A[I>>2]=0,z=h+4|0,_=A[z>>2]|0,k=_+v|0,(v|0)>0?(A[z>>2]=k,A[I>>2]=v,A[h>>2]=0,m=0,_=k):v=0,(_|0)<0?(M=m-_|0,A[h>>2]=M,v=v-_|0,A[I>>2]=v,A[z>>2]=0,k=M-v|0,m=0-v|0,(v|0)<0?(A[h>>2]=k,A[z>>2]=m,A[I>>2]=0,_=m,v=0):(_=0,k=M)):k=m,m=(_|0)<(k|0)?_:k,m=(v|0)<(m|0)?v:m,!((m|0)<=0)&&(A[h>>2]=k-m,A[z>>2]=_-m,A[I>>2]=v-m)}function Dl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=De,De=De+16|0,k=_,fo(h,m,v,k),Ur(k,v+4|0),De=_}function fo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0;if(Q=De,De=De+32|0,M=Q,Kc(h,M),A[v>>2]=0,k=+Er(15888,M),I=+Er(15912,M),I<k&&(A[v>>2]=1,k=I),I=+Er(15936,M),I<k&&(A[v>>2]=2,k=I),I=+Er(15960,M),I<k&&(A[v>>2]=3,k=I),I=+Er(15984,M),I<k&&(A[v>>2]=4,k=I),I=+Er(16008,M),I<k&&(A[v>>2]=5,k=I),I=+Er(16032,M),I<k&&(A[v>>2]=6,k=I),I=+Er(16056,M),I<k&&(A[v>>2]=7,k=I),I=+Er(16080,M),I<k&&(A[v>>2]=8,k=I),I=+Er(16104,M),I<k&&(A[v>>2]=9,k=I),I=+Er(16128,M),I<k&&(A[v>>2]=10,k=I),I=+Er(16152,M),I<k&&(A[v>>2]=11,k=I),I=+Er(16176,M),I<k&&(A[v>>2]=12,k=I),I=+Er(16200,M),I<k&&(A[v>>2]=13,k=I),I=+Er(16224,M),I<k&&(A[v>>2]=14,k=I),I=+Er(16248,M),I<k&&(A[v>>2]=15,k=I),I=+Er(16272,M),I<k&&(A[v>>2]=16,k=I),I=+Er(16296,M),I<k&&(A[v>>2]=17,k=I),I=+Er(16320,M),I<k&&(A[v>>2]=18,k=I),I=+Er(16344,M),I<k&&(A[v>>2]=19,k=I),I=+dr(+(1-k*.5)),I<1e-16){A[_>>2]=0,A[_+4>>2]=0,A[_+8>>2]=0,A[_+12>>2]=0,De=Q;return}if(v=A[v>>2]|0,k=+me[16368+(v*24|0)>>3],k=+lu(k-+lu(+js(15568+(v<<4)|0,h))),Xo(m)|0?z=+lu(k+-.3334731722518321):z=k,k=+Gt(+I)/.381966011250105,(m|0)>0){M=0;do k=k*2.6457513110645907,M=M+1|0;while((M|0)!=(m|0))}I=+hn(+z)*k,me[_>>3]=I,z=+cn(+z)*k,me[_+8>>3]=z,De=Q}function ls(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0;if(M=+rc(h),M<1e-16){m=15568+(m<<4)|0,A[k>>2]=A[m>>2],A[k+4>>2]=A[m+4>>2],A[k+8>>2]=A[m+8>>2],A[k+12>>2]=A[m+12>>2];return}if(I=+gr(+ +me[h+8>>3],+ +me[h>>3]),(v|0)>0){h=0;do M=M/2.6457513110645907,h=h+1|0;while((h|0)!=(v|0))}_?(M=M/3,v=(Xo(v)|0)==0,M=+Rr(+((v?M:M/2.6457513110645907)*.381966011250105))):(M=+Rr(+(M*.381966011250105)),Xo(v)|0&&(I=+lu(I+.3334731722518321))),Vs(15568+(m<<4)|0,+lu(+me[16368+(m*24|0)>>3]-I),M,k)}function sl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=De,De=De+16|0,k=_,Ro(h+4|0,k),ls(k,A[h>>2]|0,m,0,v),De=_}function Zo(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0,p=0,f=0,y=0,E=0,O=0,R=0,U=0,G=0;if(R=De,De=De+272|0,M=R+256|0,mt=R+240|0,y=R,E=R+224|0,O=R+208|0,Lt=R+176|0,Xe=R+160|0,vn=R+192|0,_n=R+144|0,Wt=R+128|0,c=R+112|0,p=R+96|0,f=R+80|0,A[M>>2]=m,A[mt>>2]=A[h>>2],A[mt+4>>2]=A[h+4>>2],A[mt+8>>2]=A[h+8>>2],A[mt+12>>2]=A[h+12>>2],su(mt,M,y),A[k>>2]=0,mt=_+v+((_|0)==5&1)|0,(mt|0)<=(v|0)){De=R;return}Q=A[M>>2]|0,ie=E+4|0,fe=Lt+4|0,Fe=v+5|0,Ke=16848+(Q<<2)|0,it=16928+(Q<<2)|0,wt=Wt+8|0,Et=c+8|0,Nt=p+8|0,ln=O+4|0,z=v;e:for(;;){I=y+(((z|0)%5|0)<<4)|0,A[O>>2]=A[I>>2],A[O+4>>2]=A[I+4>>2],A[O+8>>2]=A[I+8>>2],A[O+12>>2]=A[I+12>>2];do;while((Fr(O,Q,0,1)|0)==2);if((z|0)>(v|0)&(Xo(m)|0)!=0){if(A[Lt>>2]=A[O>>2],A[Lt+4>>2]=A[O+4>>2],A[Lt+8>>2]=A[O+8>>2],A[Lt+12>>2]=A[O+12>>2],Ro(ie,Xe),_=A[Lt>>2]|0,M=A[17008+(_*80|0)+(A[E>>2]<<2)>>2]|0,A[Lt>>2]=A[18608+(_*80|0)+(M*20|0)>>2],I=A[18608+(_*80|0)+(M*20|0)+16>>2]|0,(I|0)>0){h=0;do zs(fe),h=h+1|0;while((h|0)<(I|0))}switch(I=18608+(_*80|0)+(M*20|0)+4|0,A[vn>>2]=A[I>>2],A[vn+4>>2]=A[I+4>>2],A[vn+8>>2]=A[I+8>>2],Of(vn,(A[Ke>>2]|0)*3|0),Tr(fe,vn,fe),Qn(fe),Ro(fe,_n),U=+(A[it>>2]|0),me[Wt>>3]=U*3,me[wt>>3]=0,G=U*-1.5,me[c>>3]=G,me[Et>>3]=U*2.598076211353316,me[p>>3]=G,me[Nt>>3]=U*-2.598076211353316,A[17008+((A[Lt>>2]|0)*80|0)+(A[O>>2]<<2)>>2]|0){case 1:{h=c,_=Wt;break}case 3:{h=p,_=c;break}case 2:{h=Wt,_=p;break}default:{h=12;break e}}Ws(Xe,_n,_,h,f),ls(f,A[Lt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1}if((z|0)<(Fe|0)&&(Ro(ln,Lt),ls(Lt,A[O>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),A[E>>2]=A[O>>2],A[E+4>>2]=A[O+4>>2],A[E+8>>2]=A[O+8>>2],A[E+12>>2]=A[O+12>>2],z=z+1|0,(z|0)>=(mt|0)){h=3;break}}if((h|0)==3){De=R;return}else(h|0)==12&&bn(22474,22521,581,22531)}function su(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0;Q=De,De=De+128|0,_=Q+64|0,k=Q,M=_,I=20208,z=M+60|0;do A[M>>2]=A[I>>2],M=M+4|0,I=I+4|0;while((M|0)<(z|0));M=k,I=20272,z=M+60|0;do A[M>>2]=A[I>>2],M=M+4|0,I=I+4|0;while((M|0)<(z|0));z=(Xo(A[m>>2]|0)|0)==0,_=z?_:k,k=h+4|0,Ll(k),Uc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,Tr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,Tr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,Tr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,Tr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],v=v+68|0,Tr(k,_+48|0,v),Qn(v),De=Q}function Fr(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0;if(wt=De,De=De+32|0,Ke=wt+12|0,z=wt,it=h+4|0,Fe=A[16928+(m<<2)>>2]|0,fe=(_|0)!=0,Fe=fe?Fe*3|0:Fe,k=A[it>>2]|0,ie=h+8|0,I=A[ie>>2]|0,fe){if(M=h+12|0,_=A[M>>2]|0,k=I+k+_|0,(k|0)==(Fe|0))return it=1,De=wt,it|0;Q=M}else Q=h+12|0,_=A[Q>>2]|0,k=I+k+_|0;if((k|0)<=(Fe|0))return it=0,De=wt,it|0;do if((_|0)>0){if(_=A[h>>2]|0,(I|0)>0){M=18608+(_*80|0)+60|0,_=h;break}_=18608+(_*80|0)+40|0,v?(al(Ke,Fe,0,0),nu(it,Ke,z),au(z),Tr(z,Ke,it),M=_,_=h):(M=_,_=h)}else M=18608+((A[h>>2]|0)*80|0)+20|0,_=h;while(0);if(A[_>>2]=A[M>>2],k=M+16|0,(A[k>>2]|0)>0){_=0;do zs(it),_=_+1|0;while((_|0)<(A[k>>2]|0))}return h=M+4|0,A[Ke>>2]=A[h>>2],A[Ke+4>>2]=A[h+4>>2],A[Ke+8>>2]=A[h+8>>2],m=A[16848+(m<<2)>>2]|0,Of(Ke,fe?m*3|0:m),Tr(it,Ke,it),Qn(it),fe?_=((A[ie>>2]|0)+(A[it>>2]|0)+(A[Q>>2]|0)|0)==(Fe|0)?1:2:_=2,it=_,De=wt,it|0}function ei(h,m){h=h|0,m=m|0;var v=0;do v=Fr(h,m,0,1)|0;while((v|0)==2);return v|0}function Ua(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0,p=0,f=0,y=0;if(p=De,De=De+240|0,M=p+224|0,vn=p+208|0,_n=p,Wt=p+192|0,c=p+176|0,Nt=p+160|0,ln=p+144|0,mt=p+128|0,Lt=p+112|0,Xe=p+96|0,A[M>>2]=m,A[vn>>2]=A[h>>2],A[vn+4>>2]=A[h+4>>2],A[vn+8>>2]=A[h+8>>2],A[vn+12>>2]=A[h+12>>2],Ku(vn,M,_n),A[k>>2]=0,Et=_+v+((_|0)==6&1)|0,(Et|0)<=(v|0)){De=p;return}Q=A[M>>2]|0,ie=v+6|0,fe=16928+(Q<<2)|0,Fe=ln+8|0,Ke=mt+8|0,it=Lt+8|0,wt=Wt+4|0,I=0,z=v,_=-1;e:for(;;){if(M=(z|0)%6|0,h=_n+(M<<4)|0,A[Wt>>2]=A[h>>2],A[Wt+4>>2]=A[h+4>>2],A[Wt+8>>2]=A[h+8>>2],A[Wt+12>>2]=A[h+12>>2],h=I,I=Fr(Wt,Q,0,1)|0,(z|0)>(v|0)&(Xo(m)|0)!=0&&(h|0)!=1&&(A[Wt>>2]|0)!=(_|0)){switch(Ro(_n+(((M+5|0)%6|0)<<4)+4|0,c),Ro(_n+(M<<4)+4|0,Nt),f=+(A[fe>>2]|0),me[ln>>3]=f*3,me[Fe>>3]=0,y=f*-1.5,me[mt>>3]=y,me[Ke>>3]=f*2.598076211353316,me[Lt>>3]=y,me[it>>3]=f*-2.598076211353316,M=A[vn>>2]|0,A[17008+(M*80|0)+(((_|0)==(M|0)?A[Wt>>2]|0:_)<<2)>>2]|0){case 1:{h=mt,_=ln;break}case 3:{h=Lt,_=mt;break}case 2:{h=ln,_=Lt;break}default:{h=8;break e}}Ws(c,Nt,_,h,Xe),!(Ao(c,Xe)|0)&&!(Ao(Nt,Xe)|0)&&(ls(Xe,A[vn>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1)}if((z|0)<(ie|0)&&(Ro(wt,c),ls(c,A[Wt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),z=z+1|0,(z|0)>=(Et|0)){h=3;break}else _=A[Wt>>2]|0}if((h|0)==3){De=p;return}else(h|0)==8&&bn(22557,22521,746,22602)}function Ku(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0;Q=De,De=De+160|0,_=Q+80|0,k=Q,M=_,I=20336,z=M+72|0;do A[M>>2]=A[I>>2],M=M+4|0,I=I+4|0;while((M|0)<(z|0));M=k,I=20416,z=M+72|0;do A[M>>2]=A[I>>2],M=M+4|0,I=I+4|0;while((M|0)<(z|0));z=(Xo(A[m>>2]|0)|0)==0,_=z?_:k,k=h+4|0,Ll(k),Uc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,Tr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,Tr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,Tr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,Tr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],m=v+68|0,Tr(k,_+48|0,m),Qn(m),A[v+80>>2]=A[h>>2],v=v+84|0,Tr(k,_+60|0,v),Qn(v),De=Q}function lu(h){h=+h;var m=0;return m=h<0?h+6.283185307179586:h,+(h>=6.283185307179586?m+-6.283185307179586:m)}function $s(h,m){return h=h|0,m=m|0,+ct(+(+me[h>>3]-+me[m>>3]))<17453292519943298e-27?(m=+ct(+(+me[h+8>>3]-+me[m+8>>3]))<17453292519943298e-27,m|0):(m=0,m|0)}function Lp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0;return k=+me[m>>3],_=+me[h>>3],M=+cn(+((k-_)*.5)),v=+cn(+((+me[m+8>>3]-+me[h+8>>3])*.5)),v=M*M+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2)}function Zu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0;return k=+me[m>>3],_=+me[h>>3],M=+cn(+((k-_)*.5)),v=+cn(+((+me[m+8>>3]-+me[h+8>>3])*.5)),v=M*M+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475)}function ll(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0;return k=+me[m>>3],_=+me[h>>3],M=+cn(+((k-_)*.5)),v=+cn(+((+me[m+8>>3]-+me[h+8>>3])*.5)),v=M*M+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475*1e3)}function js(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;return M=+me[m>>3],_=+hn(+M),k=+me[m+8>>3]-+me[h+8>>3],I=_*+cn(+k),v=+me[h>>3],+ +gr(+I,+(+cn(+M)*+hn(+v)-+hn(+k)*(_*+cn(+v))))}function Vs(h,m,v,_){h=h|0,m=+m,v=+v,_=_|0;var k=0,M=0,I=0,z=0;if(v<1e-16){A[_>>2]=A[h>>2],A[_+4>>2]=A[h+4>>2],A[_+8>>2]=A[h+8>>2],A[_+12>>2]=A[h+12>>2];return}M=m<0?m+6.283185307179586:m,M=m>=6.283185307179586?M+-6.283185307179586:M;do if(M<1e-16)m=+me[h>>3]+v,me[_>>3]=m,k=_;else{if(k=+ct(+(M+-3.141592653589793))<1e-16,m=+me[h>>3],k){m=m-v,me[_>>3]=m,k=_;break}if(I=+hn(+v),v=+cn(+v),m=I*+cn(+m)+ +hn(+M)*(v*+hn(+m)),m=m>1?1:m,m=+Jn(+(m<-1?-1:m)),me[_>>3]=m,+ct(+(m+-1.5707963267948966))<1e-16){me[_>>3]=1.5707963267948966,me[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){me[_>>3]=-1.5707963267948966,me[_+8>>3]=0;return}if(z=+hn(+m),M=v*+cn(+M)/z,v=+me[h>>3],m=(I-+cn(+m)*+cn(+v))/+hn(+v)/z,I=M>1?1:M,m=m>1?1:m,m=+me[h+8>>3]+ +gr(+(I<-1?-1:I),+(m<-1?-1:m)),m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);me[_+8>>3]=m;return}while(0);if(+ct(+(m+-1.5707963267948966))<1e-16){me[k>>3]=1.5707963267948966,me[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){me[k>>3]=-1.5707963267948966,me[_+8>>3]=0;return}if(m=+me[h+8>>3],m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);me[_+8>>3]=m}function Rl(h){return h=h|0,+ +me[20496+(h<<3)>>3]}function Dp(h){return h=h|0,+ +me[20624+(h<<3)>>3]}function jc(h){return h=h|0,+ +me[20752+(h<<3)>>3]}function ul(h){return h=h|0,+ +me[20880+(h<<3)>>3]}function Xu(h){h=h|0;var m=0;return m=21008+(h<<3)|0,h=A[m>>2]|0,Zt(A[m+4>>2]|0),h|0}function _a(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0;return Ke=+me[m>>3],fe=+me[h>>3],Q=+cn(+((Ke-fe)*.5)),M=+me[m+8>>3],ie=+me[h+8>>3],I=+cn(+((M-ie)*.5)),z=+hn(+fe),Fe=+hn(+Ke),I=Q*Q+I*(Fe*z*I),I=+gr(+ +It(+I),+ +It(+(1-I)))*2,Q=+me[v>>3],Ke=+cn(+((Q-Ke)*.5)),_=+me[v+8>>3],M=+cn(+((_-M)*.5)),k=+hn(+Q),M=Ke*Ke+M*(Fe*k*M),M=+gr(+ +It(+M),+ +It(+(1-M)))*2,Q=+cn(+((fe-Q)*.5)),_=+cn(+((ie-_)*.5)),_=Q*Q+_*(z*k*_),_=+gr(+ +It(+_),+ +It(+(1-_)))*2,k=(I+M+_)*.5,+(+Rr(+ +It(+(+Gt(+(k*.5))*+Gt(+((k-I)*.5))*+Gt(+((k-M)*.5))*+Gt(+((k-_)*.5)))))*4)}function Fl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;if(M=De,De=De+192|0,_=M+168|0,k=M,cs(h,m,_),Hs(h,m,k),m=A[k>>2]|0,(m|0)<=0)return v=0,De=M,+v;if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)==1)return De=M,+v;h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0));return De=M,+v}function Vc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;if(M=De,De=De+192|0,_=M+168|0,k=M,cs(h,m,_),Hs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return De=M,+(v*6371.007180918475*6371.007180918475)}function Yu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;if(M=De,De=De+192|0,_=M+168|0,k=M,cs(h,m,_),Hs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return De=M,+(v*6371.007180918475*6371.007180918475*1e3*1e3)}function Hr(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0;if(I=De,De=De+176|0,M=I,ti(h,m,M),h=A[M>>2]|0,(h|0)<=1)return k=0,De=I,+k;m=h+-1|0,h=0,v=0,_=+me[M+8>>3],k=+me[M+16>>3];do h=h+1|0,Q=_,_=+me[M+8+(h<<4)>>3],ie=+cn(+((_-Q)*.5)),z=k,k=+me[M+8+(h<<4)+8>>3],z=+cn(+((k-z)*.5)),z=ie*ie+z*(+hn(+_)*+hn(+Q)*z),v=v+ +gr(+ +It(+z),+ +It(+(1-z)))*2;while((h|0)<(m|0));return De=I,+v}function Hc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0;if(I=De,De=De+176|0,M=I,ti(h,m,M),h=A[M>>2]|0,(h|0)<=1)return k=0,De=I,+k;m=h+-1|0,h=0,v=0,_=+me[M+8>>3],k=+me[M+16>>3];do h=h+1|0,Q=_,_=+me[M+8+(h<<4)>>3],ie=+cn(+((_-Q)*.5)),z=k,k=+me[M+8+(h<<4)+8>>3],z=+cn(+((k-z)*.5)),z=ie*ie+z*(+hn(+Q)*+hn(+_)*z),v=v+ +gr(+ +It(+z),+ +It(+(1-z)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475,De=I,+ie}function Lf(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0;if(I=De,De=De+176|0,M=I,ti(h,m,M),h=A[M>>2]|0,(h|0)<=1)return k=0,De=I,+k;m=h+-1|0,h=0,v=0,_=+me[M+8>>3],k=+me[M+16>>3];do h=h+1|0,Q=_,_=+me[M+8+(h<<4)>>3],ie=+cn(+((_-Q)*.5)),z=k,k=+me[M+8+(h<<4)+8>>3],z=+cn(+((k-z)*.5)),z=ie*ie+z*(+hn(+Q)*+hn(+_)*z),v=v+ +gr(+ +It(+z),+ +It(+(1-z)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475*1e3,De=I,+ie}function ko(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,52)|0,qe()|0,m&15|0}function qc(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,45)|0,qe()|0,m&127|0}function uu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0;if(!(!0&(m&-16777216|0)==134217728)||(I=dt(h|0,m|0,45)|0,qe()|0,I=I&127,I>>>0>121))return m=0,m|0;v=dt(h|0,m|0,52)|0,qe()|0,v=v&15;do if(v|0){for(k=1,_=0;;){if(M=dt(h|0,m|0,(15-k|0)*3|0)|0,qe()|0,M=M&7,(M|0)!=0&(_^1))if((M|0)==1&(ui(I)|0)!=0){z=0,_=13;break}else _=1;if((M|0)==7){z=0,_=13;break}if(k>>>0<v>>>0)k=k+1|0;else{_=9;break}}if((_|0)==9){if((v|0)==15)z=1;else break;return z|0}else if((_|0)==13)return z|0}while(0);for(;;){if(z=dt(h|0,m|0,(14-v|0)*3|0)|0,qe()|0,!((z&7|0)==7&!0)){z=0,_=13;break}if(v>>>0<14)v=v+1|0;else{z=1,_=13;break}}return(_|0)==13?z|0:0}function cl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,(_|0)>=(v|0)){if((_|0)!=(v|0))if(v>>>0<=15){if(k=Xt(v|0,0,52)|0,h=k|h,m=qe()|0|m&-15728641,(_|0)>(v|0))do k=Xt(7,0,(14-v|0)*3|0)|0,v=v+1|0,h=k|h,m=qe()|0|m;while((v|0)<(_|0))}else m=0,h=0}else m=0,h=0;return Zt(m|0),h|0}function Df(h,m,v){return h=h|0,m=m|0,v=v|0,h=dt(h|0,m|0,52)|0,qe()|0,h=h&15,(v|0)<16&(h|0)<=(v|0)?(v=ho(7,v-h|0)|0,v|0):(v=0,v|0)}function po(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0;if(I=dt(h|0,m|0,52)|0,qe()|0,I=I&15,!!((v|0)<16&(I|0)<=(v|0))){if((I|0)==(v|0)){v=_,A[v>>2]=h,A[v+4>>2]=m;return}if(Q=ho(7,v-I|0)|0,ie=(Q|0)/7|0,z=dt(h|0,m|0,45)|0,qe()|0,!(ui(z&127)|0))M=0;else{e:do if(!I)k=0;else for(M=1;;){if(k=dt(h|0,m|0,(15-M|0)*3|0)|0,qe()|0,k=k&7,k|0)break e;if(M>>>0<I>>>0)M=M+1|0;else{k=0;break}}while(0);M=(k|0)==0}if(fe=Xt(I+1|0,0,52)|0,k=qe()|0|m&-15728641,z=(14-I|0)*3|0,m=Xt(7,0,z|0)|0,m=(fe|h)&~m,I=k&~(qe()|0),po(m,I,v,_),k=_+(ie<<3)|0,!M){fe=Xt(1,0,z|0)|0,po(fe|m,qe()|0|I,v,k),fe=k+(ie<<3)|0,Q=Xt(2,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),fe=fe+(ie<<3)|0,Q=Xt(3,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),fe=fe+(ie<<3)|0,Q=Xt(4,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),fe=fe+(ie<<3)|0,Q=Xt(5,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),Q=Xt(6,0,z|0)|0,po(Q|m,qe()|0|I,v,fe+(ie<<3)|0);return}M=k+(ie<<3)|0,(Q|0)>6&&(Q=k+8|0,fe=(M>>>0>Q>>>0?M:Q)+-1+(0-k)|0,ji(k|0,0,fe+8&-8|0)|0,k=Q+(fe>>>3<<3)|0),fe=Xt(2,0,z|0)|0,po(fe|m,qe()|0|I,v,k),fe=k+(ie<<3)|0,Q=Xt(3,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),fe=fe+(ie<<3)|0,Q=Xt(4,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),fe=fe+(ie<<3)|0,Q=Xt(5,0,z|0)|0,po(Q|m,qe()|0|I,v,fe),Q=Xt(6,0,z|0)|0,po(Q|m,qe()|0|I,v,fe+(ie<<3)|0)}}function Ui(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=dt(h|0,m|0,45)|0,qe()|0,!(ui(k&127)|0))return k=0,k|0;k=dt(h|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!k)v=0;else for(_=1;;){if(v=dt(h|0,m|0,(15-_|0)*3|0)|0,qe()|0,v=v&7,v|0)break e;if(_>>>0<k>>>0)_=_+1|0;else{v=0;break}}while(0);return k=(v|0)==0&1,k|0}function Gc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,(v|0)<16&(_|0)<=(v|0)){if((_|0)!=(v|0)&&(k=Xt(v|0,0,52)|0,h=k|h,m=qe()|0|m&-15728641,(_|0)<(v|0)))do k=Xt(7,0,(14-_|0)*3|0)|0,_=_+1|0,h=h&~k,m=m&~(qe()|0);while((_|0)<(v|0))}else m=0,h=0;return Zt(m|0),h|0}function Ju(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0;if(!v)return Wt=0,Wt|0;if(k=h,_=A[k>>2]|0,k=A[k+4>>2]|0,!0&(k&15728640|0)==0){if((v|0)<=0||(Wt=m,A[Wt>>2]=_,A[Wt+4>>2]=k,(v|0)==1))return Wt=0,Wt|0;_=1;do vn=h+(_<<3)|0,_n=A[vn+4>>2]|0,Wt=m+(_<<3)|0,A[Wt>>2]=A[vn>>2],A[Wt+4>>2]=_n,_=_+1|0;while((_|0)!=(v|0));return _=0,_|0}if(vn=v<<3,_n=Ti(vn)|0,!_n)return Wt=-3,Wt|0;if(zo(_n|0,h|0,vn|0)|0,Xe=Bo(v,8)|0,!Xe)return Bn(_n),Wt=-3,Wt|0;_=v;e:for(;;){I=_n,fe=A[I>>2]|0,I=A[I+4>>2]|0,mt=dt(fe|0,I|0,52)|0,qe()|0,mt=mt&15,Lt=mt+-1|0,ln=(_|0)>0;t:do if(ln){if(Nt=((_|0)<0)<<31>>31,wt=Xt(Lt|0,0,52)|0,Et=qe()|0,Lt>>>0>15)for(k=0,h=fe,v=I;;){if(!((h|0)==0&(v|0)==0)){if(M=dt(h|0,v|0,52)|0,qe()|0,M=M&15,z=(M|0)<(Lt|0),M=(M|0)==(Lt|0),ie=z?0:M?h:0,h=z?0:M?v:0,v=Qt(ie|0,h|0,_|0,Nt|0)|0,qe()|0,M=Xe+(v<<3)|0,z=M,Q=A[z>>2]|0,z=A[z+4>>2]|0,(Q|0)==0&(z|0)==0)v=ie;else for(wt=0,it=v,Ke=z,v=ie;;){if((wt|0)>(_|0)){Wt=41;break e}if((Q|0)==(v|0)&(Ke&-117440513|0)==(h|0)){ie=dt(Q|0,Ke|0,56)|0,qe()|0,ie=ie&7,Fe=ie+1|0,Et=dt(Q|0,Ke|0,45)|0,qe()|0;n:do if(!(ui(Et&127)|0))z=7;else{if(Q=dt(Q|0,Ke|0,52)|0,qe()|0,Q=Q&15,!Q){z=6;break}for(z=1;;){if(Et=Xt(7,0,(15-z|0)*3|0)|0,!((Et&v|0)==0&((qe()|0)&h|0)==0)){z=7;break n}if(z>>>0<Q>>>0)z=z+1|0;else{z=6;break}}}while(0);if((ie+2|0)>>>0>z>>>0){Wt=51;break e}Et=Xt(Fe|0,0,56)|0,h=qe()|0|h&-117440513,z=M,A[z>>2]=0,A[z+4>>2]=0,z=it,v=Et|v}else z=(it+1|0)%(_|0)|0;if(M=Xe+(z<<3)|0,Ke=M,Q=A[Ke>>2]|0,Ke=A[Ke+4>>2]|0,(Q|0)==0&(Ke|0)==0)break;wt=wt+1|0,it=z}Et=M,A[Et>>2]=v,A[Et+4>>2]=h}if(k=k+1|0,(k|0)>=(_|0))break t;v=_n+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}for(k=0,h=fe,v=I;;){if(!((h|0)==0&(v|0)==0)){if(z=dt(h|0,v|0,52)|0,qe()|0,z=z&15,(z|0)>=(Lt|0)){if((z|0)!=(Lt|0)&&(h=h|wt,v=v&-15728641|Et,z>>>0>=mt>>>0)){M=Lt;do it=Xt(7,0,(14-M|0)*3|0)|0,M=M+1|0,h=it|h,v=qe()|0|v;while(M>>>0<z>>>0)}}else h=0,v=0;if(z=Qt(h|0,v|0,_|0,Nt|0)|0,qe()|0,M=Xe+(z<<3)|0,Q=M,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,!((ie|0)==0&(Q|0)==0))for(it=0;;){if((it|0)>(_|0)){Wt=41;break e}if((ie|0)==(h|0)&(Q&-117440513|0)==(v|0)){Fe=dt(ie|0,Q|0,56)|0,qe()|0,Fe=Fe&7,Ke=Fe+1|0,c=dt(ie|0,Q|0,45)|0,qe()|0;n:do if(!(ui(c&127)|0))Q=7;else{if(ie=dt(ie|0,Q|0,52)|0,qe()|0,ie=ie&15,!ie){Q=6;break}for(Q=1;;){if(c=Xt(7,0,(15-Q|0)*3|0)|0,!((c&h|0)==0&((qe()|0)&v|0)==0)){Q=7;break n}if(Q>>>0<ie>>>0)Q=Q+1|0;else{Q=6;break}}}while(0);if((Fe+2|0)>>>0>Q>>>0){Wt=51;break e}c=Xt(Ke|0,0,56)|0,v=qe()|0|v&-117440513,Ke=M,A[Ke>>2]=0,A[Ke+4>>2]=0,h=c|h}else z=(z+1|0)%(_|0)|0;if(M=Xe+(z<<3)|0,Q=M,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0)break;it=it+1|0}c=M,A[c>>2]=h,A[c+4>>2]=v}if(k=k+1|0,(k|0)>=(_|0))break t;v=_n+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}}while(0);if((_+5|0)>>>0<11){Wt=99;break}if(Et=Bo((_|0)/6|0,8)|0,!Et){Wt=58;break}t:do if(ln){it=0,Ke=0;do{if(z=Xe+(it<<3)|0,h=z,k=A[h>>2]|0,h=A[h+4>>2]|0,!((k|0)==0&(h|0)==0)){Q=dt(k|0,h|0,56)|0,qe()|0,Q=Q&7,v=Q+1|0,ie=h&-117440513,c=dt(k|0,h|0,45)|0,qe()|0;n:do if(ui(c&127)|0){if(Fe=dt(k|0,h|0,52)|0,qe()|0,Fe=Fe&15,Fe|0)for(M=1;;){if(c=Xt(7,0,(15-M|0)*3|0)|0,!((k&c|0)==0&(ie&(qe()|0)|0)==0))break n;if(M>>>0<Fe>>>0)M=M+1|0;else break}h=Xt(v|0,0,56)|0,k=h|k,h=qe()|0|ie,v=z,A[v>>2]=k,A[v+4>>2]=h,v=Q+2|0}while(0);(v|0)==7&&(c=Et+(Ke<<3)|0,A[c>>2]=k,A[c+4>>2]=h&-117440513,Ke=Ke+1|0)}it=it+1|0}while((it|0)!=(_|0));if(ln){if(wt=((_|0)<0)<<31>>31,Fe=Xt(Lt|0,0,52)|0,it=qe()|0,Lt>>>0>15)for(h=0,k=0;;){do if(!((fe|0)==0&(I|0)==0)){for(Q=dt(fe|0,I|0,52)|0,qe()|0,Q=Q&15,M=(Q|0)<(Lt|0),Q=(Q|0)==(Lt|0),z=M?0:Q?fe:0,Q=M?0:Q?I:0,M=Qt(z|0,Q|0,_|0,wt|0)|0,qe()|0,v=0;;){if((v|0)>(_|0)){Wt=98;break e}if(c=Xe+(M<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(z|0)){Wt=70;break}if(M=(M+1|0)%(_|0)|0,c=Xe+(M<<3)|0,(A[c>>2]|0)==(z|0)&&(A[c+4>>2]|0)==(Q|0))break;v=v+1|0}if((Wt|0)==70&&(Wt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=fe,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ke;break t}I=_n+(h<<3)|0,fe=A[I>>2]|0,I=A[I+4>>2]|0}for(h=0,k=0;;){do if(!((fe|0)==0&(I|0)==0)){if(Q=dt(fe|0,I|0,52)|0,qe()|0,Q=Q&15,(Q|0)>=(Lt|0))if((Q|0)!=(Lt|0))if(v=fe|Fe,M=I&-15728641|it,Q>>>0<mt>>>0)Q=M;else{z=Lt;do c=Xt(7,0,(14-z|0)*3|0)|0,z=z+1|0,v=c|v,M=qe()|0|M;while(z>>>0<Q>>>0);Q=M}else v=fe,Q=I;else v=0,Q=0;for(z=Qt(v|0,Q|0,_|0,wt|0)|0,qe()|0,M=0;;){if((M|0)>(_|0)){Wt=98;break e}if(c=Xe+(z<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(v|0)){Wt=93;break}if(z=(z+1|0)%(_|0)|0,c=Xe+(z<<3)|0,(A[c>>2]|0)==(v|0)&&(A[c+4>>2]|0)==(Q|0))break;M=M+1|0}if((Wt|0)==93&&(Wt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=fe,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ke;break t}I=_n+(h<<3)|0,fe=A[I>>2]|0,I=A[I+4>>2]|0}}else k=0,_=Ke}else k=0,_=0;while(0);if(ji(Xe|0,0,vn|0)|0,zo(_n|0,Et|0,_<<3|0)|0,Bn(Et),_)m=m+(k<<3)|0;else break}return(Wt|0)==41?(Bn(_n),Bn(Xe),c=-1,c|0):(Wt|0)==51?(Bn(_n),Bn(Xe),c=-2,c|0):(Wt|0)==58?(Bn(_n),Bn(Xe),c=-3,c|0):(Wt|0)==98?(Bn(Et),Bn(_n),Bn(Xe),c=-1,c|0):((Wt|0)==99&&zo(m|0,_n|0,_<<3|0)|0,Bn(_n),Bn(Xe),c=0,c|0)}function cu(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0;if((m|0)<=0)return k=0,k|0;if((k|0)>=16){for(M=0;;){if(fe=h+(M<<3)|0,!((A[fe>>2]|0)==0&(A[fe+4>>2]|0)==0)){M=14;break}if(M=M+1|0,(M|0)>=(m|0)){I=0,M=16;break}}if((M|0)==14)return((_|0)>0?-2:-1)|0;if((M|0)==16)return I|0}M=0,fe=0;e:for(;;){ie=h+(fe<<3)|0,z=ie,I=A[z>>2]|0,z=A[z+4>>2]|0;do if(!((I|0)==0&(z|0)==0)){if((M|0)>=(_|0)){I=-1,M=16;break e}if(Q=dt(I|0,z|0,52)|0,qe()|0,Q=Q&15,(Q|0)>(k|0)){I=-2,M=16;break e}if((Q|0)==(k|0)){ie=v+(M<<3)|0,A[ie>>2]=I,A[ie+4>>2]=z,M=M+1|0;break}if(I=(ho(7,k-Q|0)|0)+M|0,(I|0)>(_|0)){I=-1,M=16;break e}po(A[ie>>2]|0,A[ie+4>>2]|0,k,v+(M<<3)|0),M=I}while(0);if(fe=fe+1|0,(fe|0)>=(m|0)){I=0,M=16;break}}return(M|0)==16?I|0:0}function fl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0;if((m|0)<=0)return v=0,v|0;if((v|0)>=16){for(_=0;;){if(I=h+(_<<3)|0,!((A[I>>2]|0)==0&(A[I+4>>2]|0)==0)){_=-1,k=13;break}if(_=_+1|0,(_|0)>=(m|0)){_=0,k=13;break}}if((k|0)==13)return _|0}_=0,I=0;e:for(;;){k=h+(I<<3)|0,M=A[k>>2]|0,k=A[k+4>>2]|0;do if(!((M|0)==0&(k|0)==0)){if(k=dt(M|0,k|0,52)|0,qe()|0,k=k&15,(k|0)>(v|0)){_=-1,k=13;break e}if((k|0)==(v|0)){_=_+1|0;break}else{_=(ho(7,v-k|0)|0)+_|0;break}}while(0);if(I=I+1|0,(I|0)>=(m|0)){k=13;break}}return(k|0)==13?_|0:0}function ec(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,52)|0,qe()|0,m&1|0}function Si(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=dt(h|0,m|0,52)|0,qe()|0,k=k&15,!k)return k=0,k|0;for(_=1;;){if(v=dt(h|0,m|0,(15-_|0)*3|0)|0,qe()|0,v=v&7,v|0){_=5;break}if(_>>>0<k>>>0)_=_+1|0;else{v=0,_=5;break}}return(_|0)==5?v|0:0}function fu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0;if(Q=dt(h|0,m|0,52)|0,qe()|0,Q=Q&15,!Q)return z=m,Q=h,Zt(z|0),Q|0;for(z=1,v=0;;){M=(15-z|0)*3|0,_=Xt(7,0,M|0)|0,k=qe()|0,I=dt(h|0,m|0,M|0)|0,qe()|0,M=Xt(Ns(I&7)|0,0,M|0)|0,I=qe()|0,h=M|h&~_,m=I|m&~k;e:do if(!v)if((M&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(h|0,m|0,(15-v|0)*3|0)|0,qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(I=(15-v|0)*3|0,k=dt(h|0,m|0,I|0)|0,qe()|0,M=Xt(7,0,I|0)|0,m=m&~(qe()|0),I=Xt(Ns(k&7)|0,0,I|0)|0,h=h&~M|I,m=m|(qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(z>>>0<Q>>>0)z=z+1|0;else break}return Zt(m|0),h|0}function Cs(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,!_)return v=m,_=h,Zt(v|0),_|0;for(v=1;M=(15-v|0)*3|0,I=dt(h|0,m|0,M|0)|0,qe()|0,k=Xt(7,0,M|0)|0,m=m&~(qe()|0),M=Xt(Ns(I&7)|0,0,M|0)|0,h=M|h&~k,m=qe()|0|m,v>>>0<_>>>0;)v=v+1|0;return Zt(m|0),h|0}function Es(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0;if(Q=dt(h|0,m|0,52)|0,qe()|0,Q=Q&15,!Q)return z=m,Q=h,Zt(z|0),Q|0;for(z=1,v=0;;){M=(15-z|0)*3|0,_=Xt(7,0,M|0)|0,k=qe()|0,I=dt(h|0,m|0,M|0)|0,qe()|0,M=Xt(Pi(I&7)|0,0,M|0)|0,I=qe()|0,h=M|h&~_,m=I|m&~k;e:do if(!v)if((M&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(h|0,m|0,(15-v|0)*3|0)|0,qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(k=(15-v|0)*3|0,M=Xt(7,0,k|0)|0,I=m&~(qe()|0),m=dt(h|0,m|0,k|0)|0,qe()|0,m=Xt(Pi(m&7)|0,0,k|0)|0,h=h&~M|m,m=I|(qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(z>>>0<Q>>>0)z=z+1|0;else break}return Zt(m|0),h|0}function $a(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0;if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,!_)return v=m,_=h,Zt(v|0),_|0;for(v=1;I=(15-v|0)*3|0,M=Xt(7,0,I|0)|0,k=m&~(qe()|0),m=dt(h|0,m|0,I|0)|0,qe()|0,m=Xt(Pi(m&7)|0,0,I|0)|0,h=m|h&~M,m=qe()|0|k,v>>>0<_>>>0;)v=v+1|0;return Zt(m|0),h|0}function tc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0;if(Q=De,De=De+64|0,z=Q+40|0,_=Q+24|0,k=Q+12|0,M=Q,Xt(m|0,0,52)|0,v=qe()|0|134225919,!m)return(A[h+4>>2]|0)>2||(A[h+8>>2]|0)>2||(A[h+12>>2]|0)>2?(I=0,z=0,Zt(I|0),De=Q,z|0):(Xt(If(h)|0,0,45)|0,I=qe()|0|v,z=-1,Zt(I|0),De=Q,z|0);if(A[z>>2]=A[h>>2],A[z+4>>2]=A[h+4>>2],A[z+8>>2]=A[h+8>>2],A[z+12>>2]=A[h+12>>2],I=z+4|0,(m|0)>0)for(h=-1;A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],m&1?(Op(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],iu(k)):(ru(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],yi(k)),nu(_,k,M),Qn(M),fe=(15-m|0)*3|0,ie=Xt(7,0,fe|0)|0,v=v&~(qe()|0),fe=Xt(Nc(M)|0,0,fe|0)|0,h=fe|h&~ie,v=qe()|0|v,(m|0)>1;)m=m+-1|0;else h=-1;e:do if((A[I>>2]|0)<=2&&(A[z+8>>2]|0)<=2&&(A[z+12>>2]|0)<=2){if(_=If(z)|0,m=Xt(_|0,0,45)|0,m=m|h,h=qe()|0|v&-1040385,M=Wh(z)|0,!(ui(_)|0)){if((M|0)<=0)break;for(k=0;;){if(_=dt(m|0,h|0,52)|0,qe()|0,_=_&15,_)for(v=1;fe=(15-v|0)*3|0,z=dt(m|0,h|0,fe|0)|0,qe()|0,ie=Xt(7,0,fe|0)|0,h=h&~(qe()|0),fe=Xt(Ns(z&7)|0,0,fe|0)|0,m=m&~ie|fe,h=h|(qe()|0),v>>>0<_>>>0;)v=v+1|0;if(k=k+1|0,(k|0)==(M|0))break e}}k=dt(m|0,h|0,52)|0,qe()|0,k=k&15;t:do if(k){v=1;n:for(;;){switch(fe=dt(m|0,h|0,(15-v|0)*3|0)|0,qe()|0,fe&7){case 1:break n;case 0:break;default:break t}if(v>>>0<k>>>0)v=v+1|0;else break t}if(Qu(_,A[z>>2]|0)|0)for(v=1;z=(15-v|0)*3|0,ie=Xt(7,0,z|0)|0,fe=h&~(qe()|0),h=dt(m|0,h|0,z|0)|0,qe()|0,h=Xt(Pi(h&7)|0,0,z|0)|0,m=m&~ie|h,h=fe|(qe()|0),v>>>0<k>>>0;)v=v+1|0;else for(v=1;fe=(15-v|0)*3|0,z=dt(m|0,h|0,fe|0)|0,qe()|0,ie=Xt(7,0,fe|0)|0,h=h&~(qe()|0),fe=Xt(Ns(z&7)|0,0,fe|0)|0,m=m&~ie|fe,h=h|(qe()|0),v>>>0<k>>>0;)v=v+1|0}while(0);if((M|0)>0){v=0;do m=fu(m,h)|0,h=qe()|0,v=v+1|0;while((v|0)!=(M|0))}}else m=0,h=0;while(0);return ie=h,fe=m,Zt(ie|0),De=Q,fe|0}function Xo(h){return h=h|0,(h|0)%2|0|0}function Rp(h,m){h=h|0,m=m|0;var v=0,_=0;return _=De,De=De+16|0,v=_,m>>>0<=15&&(A[h+4>>2]&2146435072|0)!=2146435072&&(A[h+8+4>>2]&2146435072|0)!=2146435072?(Dl(h,m,v),m=tc(v,m)|0,h=qe()|0):(h=0,m=0),Zt(h|0),De=_,m|0}function us(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0;if(k=v+4|0,M=dt(h|0,m|0,52)|0,qe()|0,M=M&15,I=dt(h|0,m|0,45)|0,qe()|0,_=(M|0)==0,ui(I&127)|0){if(_)return I=1,I|0;_=1}else{if(_)return I=0,I|0;!(A[k>>2]|0)&&!(A[v+8>>2]|0)?_=(A[v+12>>2]|0)!=0&1:_=1}for(v=1;v&1?iu(k):yi(k),I=dt(h|0,m|0,(15-v|0)*3|0)|0,qe()|0,ou(k,I&7),v>>>0<M>>>0;)v=v+1|0;return _|0}function pa(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0;fe=De,De=De+16|0,Q=fe,ie=dt(h|0,m|0,45)|0,qe()|0,ie=ie&127;e:do if(ui(ie)|0&&(M=dt(h|0,m|0,52)|0,qe()|0,M=M&15,(M|0)!=0)){_=1;t:for(;;){switch(z=dt(h|0,m|0,(15-_|0)*3|0)|0,qe()|0,z&7){case 5:break t;case 0:break;default:{_=m;break e}}if(_>>>0<M>>>0)_=_+1|0;else{_=m;break e}}for(k=1,_=m;m=(15-k|0)*3|0,I=Xt(7,0,m|0)|0,z=_&~(qe()|0),_=dt(h|0,_|0,m|0)|0,qe()|0,_=Xt(Pi(_&7)|0,0,m|0)|0,h=h&~I|_,_=z|(qe()|0),k>>>0<M>>>0;)k=k+1|0}else _=m;while(0);if(z=7728+(ie*28|0)|0,A[v>>2]=A[z>>2],A[v+4>>2]=A[z+4>>2],A[v+8>>2]=A[z+8>>2],A[v+12>>2]=A[z+12>>2],!(us(h,_,v)|0)){De=fe;return}if(I=v+4|0,A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],M=dt(h|0,_|0,52)|0,qe()|0,z=M&15,M&1?(yi(I),M=z+1|0):M=z,!(ui(ie)|0))_=0;else{e:do if(!z)_=0;else for(m=1;;){if(k=dt(h|0,_|0,(15-m|0)*3|0)|0,qe()|0,k=k&7,k|0){_=k;break e}if(m>>>0<z>>>0)m=m+1|0;else{_=0;break}}while(0);_=(_|0)==4&1}if(!(Fr(v,M,_,0)|0))(M|0)!=(z|0)&&(A[I>>2]=A[Q>>2],A[I+4>>2]=A[Q+4>>2],A[I+8>>2]=A[Q+8>>2]);else{if(ui(ie)|0)do;while(Fr(v,M,0,0)|0);(M|0)!=(z|0)&&ru(I)}De=fe}function cs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=De,De=De+16|0,k=_,pa(h,m,k),m=dt(h|0,m|0,52)|0,qe()|0,sl(k,m&15,v),De=_}function Hs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0;I=De,De=De+16|0,M=I,pa(h,m,M),_=dt(h|0,m|0,45)|0,qe()|0,_=(ui(_&127)|0)==0,k=dt(h|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!_){if(k|0)for(_=1;;){if(z=Xt(7,0,(15-_|0)*3|0)|0,!((z&h|0)==0&((qe()|0)&m|0)==0))break e;if(_>>>0<k>>>0)_=_+1|0;else break}Zo(M,k,0,5,v),De=I;return}while(0);Ua(M,k,0,6,v),De=I}function Fp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(_=dt(h|0,m|0,45)|0,qe()|0,!(ui(_&127)|0))return _=2,_|0;if(_=dt(h|0,m|0,52)|0,qe()|0,_=_&15,!_)return _=5,_|0;for(v=1;;){if(k=Xt(7,0,(15-v|0)*3|0)|0,!((k&h|0)==0&((qe()|0)&m|0)==0)){v=2,h=6;break}if(v>>>0<_>>>0)v=v+1|0;else{v=5,h=6;break}}return(h|0)==6?v|0:0}function Rf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0;Fe=De,De=De+128|0,ie=Fe+112|0,M=Fe+96|0,fe=Fe,k=dt(h|0,m|0,52)|0,qe()|0,z=k&15,A[ie>>2]=z,I=dt(h|0,m|0,45)|0,qe()|0,I=I&127;e:do if(ui(I)|0){if(z|0)for(_=1;;){if(Q=Xt(7,0,(15-_|0)*3|0)|0,!((Q&h|0)==0&((qe()|0)&m|0)==0)){k=0;break e}if(_>>>0<z>>>0)_=_+1|0;else break}if(k&1)k=1;else{Q=Xt(z+1|0,0,52)|0,fe=qe()|0|m&-15728641,ie=Xt(7,0,(14-z|0)*3|0)|0,Rf((Q|h)&~ie,fe&~(qe()|0),v),De=Fe;return}}else k=0;while(0);pa(h,m,M),k?(su(M,ie,fe),Q=5):(Ku(M,ie,fe),Q=6);e:do if(ui(I)|0)if(!z)_=20;else for(_=1;;){if(I=Xt(7,0,(15-_|0)*3|0)|0,!((I&h|0)==0&((qe()|0)&m|0)==0)){_=8;break e}if(_>>>0<z>>>0)_=_+1|0;else{_=20;break}}else _=8;while(0);if(ji(v|0,-1,_|0)|0,k){k=0;do{for(M=fe+(k<<4)|0,ei(M,A[ie>>2]|0)|0,M=A[M>>2]|0,_=0;I=v+(_<<2)|0,z=A[I>>2]|0,!((z|0)==-1|(z|0)==(M|0));)_=_+1|0;A[I>>2]=M,k=k+1|0}while((k|0)!=(Q|0))}else{k=0;do{for(M=fe+(k<<4)|0,Fr(M,A[ie>>2]|0,0,1)|0,M=A[M>>2]|0,_=0;I=v+(_<<2)|0,z=A[I>>2]|0,!((z|0)==-1|(z|0)==(M|0));)_=_+1|0;A[I>>2]=M,k=k+1|0}while((k|0)!=(Q|0))}De=Fe}function Qc(){return 12}function pu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0;if(Xt(h|0,0,52)|0,z=qe()|0|134225919,(h|0)<1){_=0,v=0;do ui(_)|0&&(Xt(_|0,0,45)|0,I=z|(qe()|0),h=m+(v<<3)|0,A[h>>2]=-1,A[h+4>>2]=I,v=v+1|0),_=_+1|0;while((_|0)!=122);return}I=0,v=0;do{if(ui(I)|0){for(Xt(I|0,0,45)|0,_=1,k=-1,M=z|(qe()|0);Q=Xt(7,0,(15-_|0)*3|0)|0,k=k&~Q,M=M&~(qe()|0),(_|0)!=(h|0);)_=_+1|0;Q=m+(v<<3)|0,A[Q>>2]=k,A[Q+4>>2]=M,v=v+1|0}I=I+1|0}while((I|0)!=122)}function qs(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0;if(z=De,De=De+64|0,I=z,(h|0)==(v|0)&(m|0)==(_|0)|(!1|(m&2013265920|0)!=134217728|(!1|(_&2013265920|0)!=134217728))||(k=dt(h|0,m|0,52)|0,qe()|0,k=k&15,M=dt(v|0,_|0,52)|0,qe()|0,(k|0)!=(M&15|0)))return I=0,De=z,I|0;if(M=k+-1|0,k>>>0>1&&(ie=cl(h,m,M)|0,Q=qe()|0,M=cl(v,_,M)|0,(ie|0)==(M|0)&(Q|0)==(qe()|0))&&(M=(k^15)*3|0,k=dt(h|0,m|0,M|0)|0,qe()|0,k=k&7,M=dt(v|0,_|0,M|0)|0,qe()|0,M=M&7,(k|0)==0|(M|0)==0||(A[21136+(k<<2)>>2]|0)==(M|0)||(A[21168+(k<<2)>>2]|0)==(M|0)))return ie=1,De=z,ie|0;k=I,M=k+56|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(M|0));return Wo(h,m,1,I),ie=I,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0))&&(ie=I+8|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+16|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+24|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+32|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+40|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))?(k=I+48|0,k=((A[k>>2]|0)==(v|0)?(A[k+4>>2]|0)==(_|0):0)&1):k=1,ie=k,De=z,ie|0}function nt(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0;if(ie=De,De=De+16|0,I=ie,!(qs(h,m,v,_)|0))return z=0,Q=0,Zt(z|0),De=ie,Q|0;for(z=m&-2130706433,k=(Ui(h,m)|0)==0,k=k?1:2;A[I>>2]=0,fe=ki(h,m,k,I)|0,M=k+1|0,!((fe|0)==(v|0)&(qe()|0)==(_|0));)if(M>>>0<7)k=M;else{k=0,h=0,Q=6;break}return(Q|0)==6?(Zt(k|0),De=ie,h|0):(fe=Xt(k|0,0,56)|0,Q=z|(qe()|0)|268435456,fe=h|fe,Zt(Q|0),De=ie,fe|0)}function Tt(h,m){h=h|0,m=m|0;var v=0;return v=!0&(m&2013265920|0)==268435456,Zt((v?m&-2130706433|134217728:0)|0),(v?h:0)|0}function xt(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return _=De,De=De+16|0,v=_,!0&(m&2013265920|0)==268435456?(k=dt(h|0,m|0,56)|0,qe()|0,A[v>>2]=0,v=ki(h,m&-2130706433|134217728,k&7,v)|0,m=qe()|0,Zt(m|0),De=_,v|0):(m=0,v=0,Zt(m|0),De=_,v|0)}function Ht(h,m){h=h|0,m=m|0;var v=0;if(!(!0&(m&2013265920|0)==268435456))return v=0,v|0;switch(v=dt(h|0,m|0,56)|0,qe()|0,v&7){case 0:case 7:return v=0,v|0}return v=m&-2130706433|134217728,!0&(m&117440512|0)==16777216&(Ui(h,v)|0)!=0?(v=0,v|0):(v=uu(h,v)|0,v|0)}function er(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0;M=De,De=De+16|0,_=M,I=!0&(m&2013265920|0)==268435456,k=m&-2130706433|134217728,z=v,A[z>>2]=I?h:0,A[z+4>>2]=I?k:0,I?(m=dt(h|0,m|0,56)|0,qe()|0,A[_>>2]=0,h=ki(h,k,m&7,_)|0,m=qe()|0):(h=0,m=0),z=v+8|0,A[z>>2]=h,A[z+4>>2]=m,De=M}function Cr(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;k=(Ui(h,m)|0)==0,m=m&-2130706433,_=v,A[_>>2]=k?h:0,A[_+4>>2]=k?m|285212672:0,_=v+8|0,A[_>>2]=h,A[_+4>>2]=m|301989888,_=v+16|0,A[_>>2]=h,A[_+4>>2]=m|318767104,_=v+24|0,A[_>>2]=h,A[_+4>>2]=m|335544320,_=v+32|0,A[_>>2]=h,A[_+4>>2]=m|352321536,v=v+40|0,A[v>>2]=h,A[v+4>>2]=m|369098752}function ti(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0;if(I=De,De=De+16|0,M=I,_=dt(h|0,m|0,56)|0,qe()|0,z=!0&(m&2013265920|0)==268435456,k=z?h:0,h=z?m&-2130706433|134217728:0,m=Bf(k,h,_&7)|0,(m|0)==-1){A[v>>2]=0,De=I;return}pa(k,h,M),_=dt(k|0,h|0,52)|0,qe()|0,_=_&15,Ui(k,h)|0?Zo(M,_,m,2,v):Ua(M,_,m,2,v),De=I}function Ln(h){h=h|0;var m=0,v=0,_=0;return m=Bo(1,12)|0,m||bn(22691,22646,49,22704),v=h+4|0,_=A[v>>2]|0,_|0?(_=_+8|0,A[_>>2]=m,A[v>>2]=m,m|0):(A[h>>2]|0&&bn(22721,22646,61,22744),_=h,A[_>>2]=m,A[v>>2]=m,m|0)}function cr(h,m){h=h|0,m=m|0;var v=0,_=0;return _=Ti(24)|0,_||bn(22758,22646,78,22772),A[_>>2]=A[m>>2],A[_+4>>2]=A[m+4>>2],A[_+8>>2]=A[m+8>>2],A[_+12>>2]=A[m+12>>2],A[_+16>>2]=0,m=h+4|0,v=A[m>>2]|0,v|0?(A[v+16>>2]=_,A[m>>2]=_,_|0):(A[h>>2]|0&&bn(22787,22646,82,22772),A[h>>2]=_,A[m>>2]=_,_|0)}function Bl(h){h=h|0;var m=0,v=0,_=0,k=0;if(h)for(_=1;;){if(m=A[h>>2]|0,m|0)do{if(v=A[m>>2]|0,v|0)do k=v,v=A[v+16>>2]|0,Bn(k);while(v|0);k=m,m=A[m+8>>2]|0,Bn(k)}while(m|0);if(m=h,h=A[h+8>>2]|0,_||Bn(m),h)_=0;else break}}function $i(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0,c=0,p=0,f=0,y=0,E=0,O=0,R=0,U=0,G=0;if(k=h+8|0,A[k>>2]|0)return G=1,G|0;if(_=A[h>>2]|0,!_)return G=0,G|0;m=_,v=0;do v=v+1|0,m=A[m+8>>2]|0;while(m|0);if(v>>>0<2)return G=0,G|0;R=Ti(v<<2)|0,R||bn(22807,22646,317,22826),O=Ti(v<<5)|0,O||bn(22848,22646,321,22826),A[h>>2]=0,_n=h+4|0,A[_n>>2]=0,A[k>>2]=0,v=0,E=0,vn=0,Fe=0;e:for(;;){if(fe=A[_>>2]|0,fe){M=0,I=fe;do{if(Q=+me[I+8>>3],m=I,I=A[I+16>>2]|0,ie=(I|0)==0,k=ie?fe:I,z=+me[k+8>>3],+ct(+(Q-z))>3.141592653589793){G=14;break}M=M+(z-Q)*(+me[m>>3]+ +me[k>>3])}while(!ie);if((G|0)==14){G=0,M=0,m=fe;do Xe=+me[m+8>>3],y=m+16|0,f=A[y>>2]|0,f=f|0?f:fe,Lt=+me[f+8>>3],M=M+(+me[m>>3]+ +me[f>>3])*((Lt<0?Lt+6.283185307179586:Lt)-(Xe<0?Xe+6.283185307179586:Xe)),m=A[(m|0?y:_)>>2]|0;while(m|0)}M>0?(A[R+(E<<2)>>2]=_,E=E+1|0,k=vn,m=Fe):G=19}else G=19;if((G|0)==19){G=0;do if(v){if(m=v+8|0,A[m>>2]|0){G=21;break e}if(v=Bo(1,12)|0,!v){G=23;break e}A[m>>2]=v,k=v+4|0,I=v,m=Fe}else if(Fe){k=_n,I=Fe+8|0,m=_,v=h;break}else if(A[h>>2]|0){G=27;break e}else{k=_n,I=h,m=_,v=h;break}while(0);if(A[I>>2]=_,A[k>>2]=_,I=O+(vn<<5)|0,ie=A[_>>2]|0,ie){for(fe=O+(vn<<5)+8|0,me[fe>>3]=17976931348623157e292,Fe=O+(vn<<5)+24|0,me[Fe>>3]=17976931348623157e292,me[I>>3]=-17976931348623157e292,Ke=O+(vn<<5)+16|0,me[Ke>>3]=-17976931348623157e292,ln=17976931348623157e292,mt=-17976931348623157e292,k=0,it=ie,Q=17976931348623157e292,Et=17976931348623157e292,Nt=-17976931348623157e292,z=-17976931348623157e292;M=+me[it>>3],Xe=+me[it+8>>3],it=A[it+16>>2]|0,wt=(it|0)==0,Lt=+me[(wt?ie:it)+8>>3],M<Q&&(me[fe>>3]=M,Q=M),Xe<Et&&(me[Fe>>3]=Xe,Et=Xe),M>Nt?me[I>>3]=M:M=Nt,Xe>z&&(me[Ke>>3]=Xe,z=Xe),ln=Xe>0&Xe<ln?Xe:ln,mt=Xe<0&Xe>mt?Xe:mt,k=k|+ct(+(Xe-Lt))>3.141592653589793,!wt;)Nt=M;k&&(me[Ke>>3]=mt,me[Fe>>3]=ln)}else A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,A[I+12>>2]=0,A[I+16>>2]=0,A[I+20>>2]=0,A[I+24>>2]=0,A[I+28>>2]=0;k=vn+1|0}if(y=_+8|0,_=A[y>>2]|0,A[y>>2]=0,_)vn=k,Fe=m;else{G=45;break}}if((G|0)==21)bn(22624,22646,35,22658);else if((G|0)==23)bn(22678,22646,37,22658);else if((G|0)==27)bn(22721,22646,61,22744);else if((G|0)==45){e:do if((E|0)>0){for(y=(k|0)==0,p=k<<2,f=(h|0)==0,c=0,m=0;;){if(Wt=A[R+(c<<2)>>2]|0,y)G=73;else{if(vn=Ti(p)|0,!vn){G=50;break}if(_n=Ti(p)|0,!_n){G=52;break}t:do if(f)v=0;else{for(k=0,v=0,I=h;_=O+(k<<5)|0,hu(A[I>>2]|0,_,A[Wt>>2]|0)|0?(A[vn+(v<<2)>>2]=I,A[_n+(v<<2)>>2]=_,wt=v+1|0):wt=v,I=A[I+8>>2]|0,I;)k=k+1|0,v=wt;if((wt|0)>0)if(_=A[vn>>2]|0,(wt|0)==1)v=_;else for(Ke=0,it=-1,v=_,Fe=_;;){for(ie=A[Fe>>2]|0,_=0,I=0;k=A[A[vn+(I<<2)>>2]>>2]|0,(k|0)==(ie|0)?fe=_:fe=_+((hu(k,A[_n+(I<<2)>>2]|0,A[ie>>2]|0)|0)&1)|0,I=I+1|0,(I|0)!=(wt|0);)_=fe;if(k=(fe|0)>(it|0),v=k?Fe:v,_=Ke+1|0,(_|0)==(wt|0))break t;Ke=_,it=k?fe:it,Fe=A[vn+(_<<2)>>2]|0}else v=0}while(0);if(Bn(vn),Bn(_n),v){if(k=v+4|0,_=A[k>>2]|0,_)v=_+8|0;else if(A[v>>2]|0){G=70;break}A[v>>2]=Wt,A[k>>2]=Wt}else G=73}if((G|0)==73){if(G=0,m=A[Wt>>2]|0,m|0)do _n=m,m=A[m+16>>2]|0,Bn(_n);while(m|0);Bn(Wt),m=2}if(c=c+1|0,(c|0)>=(E|0)){U=m;break e}}(G|0)==50?bn(22863,22646,249,22882):(G|0)==52?bn(22901,22646,252,22882):(G|0)==70&&bn(22721,22646,61,22744)}else U=0;while(0);return Bn(R),Bn(O),G=U,G|0}return 0}function hu(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0;if(!(ol(m,v)|0)||(m=Ko(m)|0,ie=+me[v>>3],_=+me[v+8>>3],_=m&_<0?_+6.283185307179586:_,h=A[h>>2]|0,!h))return h=0,h|0;if(m){m=0,v=h;e:for(;;){for(;I=+me[v>>3],Q=+me[v+8>>3],v=v+16|0,fe=A[v>>2]|0,fe=fe|0?fe:h,M=+me[fe>>3],k=+me[fe+8>>3],I>M?(z=I,I=Q):(z=M,M=I,I=k,k=Q),!!(ie<M|ie>z);)if(v=A[v>>2]|0,!v){v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(ie-M)/(z-M)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}else{m=0,v=h;e:for(;;){for(;I=+me[v>>3],Q=+me[v+8>>3],v=v+16|0,fe=A[v>>2]|0,fe=fe|0?fe:h,M=+me[fe>>3],k=+me[fe+8>>3],I>M?(z=I,I=Q):(z=M,M=I,I=k,k=Q),!!(ie<M|ie>z);)if(v=A[v>>2]|0,!v){v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(ie-M)/(z-M)*(I-k)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}return 0}function xa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0;if(mt=De,De=De+32|0,ln=mt+16|0,Nt=mt,M=dt(h|0,m|0,52)|0,qe()|0,M=M&15,it=dt(v|0,_|0,52)|0,qe()|0,(M|0)!=(it&15|0))return ln=1,De=mt,ln|0;if(ie=dt(h|0,m|0,45)|0,qe()|0,ie=ie&127,fe=dt(v|0,_|0,45)|0,qe()|0,fe=fe&127,it=(ie|0)!=(fe|0),it){if(z=Fc(ie,fe)|0,(z|0)==7)return ln=2,De=mt,ln|0;Q=Fc(fe,ie)|0,(Q|0)==7?bn(22925,22949,151,22959):(wt=z,I=Q)}else wt=0,I=0;Fe=ui(ie)|0,Ke=ui(fe)|0,A[ln>>2]=0,A[ln+4>>2]=0,A[ln+8>>2]=0,A[ln+12>>2]=0;do if(wt){if(fe=A[4304+(ie*28|0)+(wt<<2)>>2]|0,z=(fe|0)>0,Ke)if(z){ie=0,Q=v,z=_;do Q=Es(Q,z)|0,z=qe()|0,I=Pi(I)|0,(I|0)==1&&(I=Pi(1)|0),ie=ie+1|0;while((ie|0)!=(fe|0));fe=I,ie=Q,Q=z}else fe=I,ie=v,Q=_;else if(z){ie=0,Q=v,z=_;do Q=$a(Q,z)|0,z=qe()|0,I=Pi(I)|0,ie=ie+1|0;while((ie|0)!=(fe|0));fe=I,ie=Q,Q=z}else fe=I,ie=v,Q=_;if(us(ie,Q,ln)|0,it||bn(22972,22949,181,22959),z=(Fe|0)!=0,I=(Ke|0)!=0,z&I&&bn(22999,22949,182,22959),z){if(I=Si(h,m)|0,Ge[22032+(I*7|0)+wt>>0]|0){M=3;break}Q=A[21200+(I*28|0)+(wt<<2)>>2]|0,ie=Q,Et=26}else if(I){if(I=Si(ie,Q)|0,Ge[22032+(I*7|0)+fe>>0]|0){M=4;break}ie=0,Q=A[21200+(fe*28|0)+(I<<2)>>2]|0,Et=26}else I=0;if((Et|0)==26)if((Q|0)<=-1&&bn(23030,22949,212,22959),(ie|0)<=-1&&bn(23053,22949,213,22959),(Q|0)>0){z=ln+4|0,I=0;do au(z),I=I+1|0;while((I|0)!=(Q|0));I=ie}else I=ie;if(A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,ou(Nt,wt),M|0)for(;Xo(M)|0?iu(Nt):yi(Nt),(M|0)>1;)M=M+-1|0;if((I|0)>0){M=0;do au(Nt),M=M+1|0;while((M|0)!=(I|0))}Et=ln+4|0,Tr(Et,Nt,Et),Qn(Et),Et=50}else if(us(v,_,ln)|0,(Fe|0)!=0&(Ke|0)!=0)if((fe|0)!=(ie|0)&&bn(23077,22949,243,22959),I=Si(h,m)|0,M=Si(v,_)|0,Ge[22032+(I*7|0)+M>>0]|0)M=5;else if(I=A[21200+(I*28|0)+(M<<2)>>2]|0,(I|0)>0){z=ln+4|0,M=0;do au(z),M=M+1|0;while((M|0)!=(I|0));Et=50}else Et=50;else Et=50;while(0);return(Et|0)==50&&(M=ln+4|0,A[k>>2]=A[M>>2],A[k+4>>2]=A[M+4>>2],A[k+8>>2]=A[M+8>>2],M=0),ln=M,De=mt,ln|0}function fs(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0;if(wt=De,De=De+48|0,I=wt+36|0,z=wt+24|0,Q=wt+12|0,ie=wt,M=dt(h|0,m|0,52)|0,qe()|0,M=M&15,Ke=dt(h|0,m|0,45)|0,qe()|0,Ke=Ke&127,fe=ui(Ke)|0,Xt(M|0,0,52)|0,Nt=qe()|0|134225919,Et=_,A[Et>>2]=-1,A[Et+4>>2]=Nt,!M)return(A[v>>2]|0)>1||(A[v+4>>2]|0)>1||(A[v+8>>2]|0)>1||(k=Ol(Ke,Nc(v)|0)|0,(k|0)==127)?(Nt=1,De=wt,Nt|0):(it=Xt(k|0,0,45)|0,Et=qe()|0,Ke=_,Et=A[Ke+4>>2]&-1040385|Et,Nt=_,A[Nt>>2]=A[Ke>>2]|it,A[Nt+4>>2]=Et,Nt=0,De=wt,Nt|0);for(A[I>>2]=A[v>>2],A[I+4>>2]=A[v+4>>2],A[I+8>>2]=A[v+8>>2];A[z>>2]=A[I>>2],A[z+4>>2]=A[I+4>>2],A[z+8>>2]=A[I+8>>2],Xo(M)|0?(Op(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],iu(Q)):(ru(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],yi(Q)),nu(z,Q,ie),Qn(ie),Et=_,ln=A[Et>>2]|0,Et=A[Et+4>>2]|0,mt=(15-M|0)*3|0,v=Xt(7,0,mt|0)|0,Et=Et&~(qe()|0),mt=Xt(Nc(ie)|0,0,mt|0)|0,Et=qe()|0|Et,Nt=_,A[Nt>>2]=mt|ln&~v,A[Nt+4>>2]=Et,(M|0)>1;)M=M+-1|0;e:do if((A[I>>2]|0)<=1&&(A[I+4>>2]|0)<=1&&(A[I+8>>2]|0)<=1){M=Nc(I)|0,z=Ol(Ke,M)|0,(z|0)==127?ie=0:ie=ui(z)|0;t:do if(M){if(fe){if(I=21408+((Si(h,m)|0)*28|0)+(M<<2)|0,I=A[I>>2]|0,(I|0)>0){v=0;do M=Ns(M)|0,v=v+1|0;while((v|0)!=(I|0))}if((M|0)==1){k=3;break e}v=Ol(Ke,M)|0,(v|0)==127&&bn(23104,22949,376,23134),ui(v)|0?bn(23147,22949,377,23134):(it=I,Fe=M,k=v)}else it=0,Fe=M,k=z;if(Q=A[4304+(Ke*28|0)+(Fe<<2)>>2]|0,(Q|0)<=-1&&bn(23178,22949,384,23134),!ie){if((it|0)<=-1&&bn(23030,22949,417,23134),it|0){I=_,M=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=Cs(v,I)|0,I=qe()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,M=M+1|0;while((M|0)<(it|0))}if((Q|0)<=0){M=54;break}for(I=_,M=0,v=A[I>>2]|0,I=A[I+4>>2]|0;;)if(v=Cs(v,I)|0,I=qe()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,M=M+1|0,(M|0)==(Q|0)){M=54;break t}}if(z=Fc(k,Ke)|0,(z|0)==7&&bn(22925,22949,393,23134),M=_,v=A[M>>2]|0,M=A[M+4>>2]|0,(Q|0)>0){I=0;do v=Cs(v,M)|0,M=qe()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=M,I=I+1|0;while((I|0)!=(Q|0))}if(v=Si(v,M)|0,mt=Rc(k)|0,v=A[(mt?21824:21616)+(z*28|0)+(v<<2)>>2]|0,(v|0)<=-1&&bn(23030,22949,412,23134),!v)M=54;else{z=_,M=0,I=A[z>>2]|0,z=A[z+4>>2]|0;do I=fu(I,z)|0,z=qe()|0,mt=_,A[mt>>2]=I,A[mt+4>>2]=z,M=M+1|0;while((M|0)<(v|0));M=54}}else if((fe|0)!=0&(ie|0)!=0)if(mt=Si(h,m)|0,M=_,M=21408+(mt*28|0)+((Si(A[M>>2]|0,A[M+4>>2]|0)|0)<<2)|0,M=A[M>>2]|0,(M|0)<=-1&&bn(23201,22949,433,23134),!M)k=z,M=55;else{I=_,k=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=Cs(v,I)|0,I=qe()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,k=k+1|0;while((k|0)<(M|0));k=z,M=54}else k=z,M=54;while(0);if((M|0)==54&&ie&&(M=55),(M|0)==55&&(mt=_,(Si(A[mt>>2]|0,A[mt+4>>2]|0)|0)==1)){k=4;break}mt=_,Nt=A[mt>>2]|0,mt=A[mt+4>>2]&-1040385,ln=Xt(k|0,0,45)|0,mt=mt|(qe()|0),k=_,A[k>>2]=Nt|ln,A[k+4>>2]=mt,k=0}else k=2;while(0);return mt=k,De=wt,mt|0}function Wc(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0;return I=De,De=De+16|0,M=I,h=xa(h,m,v,_,M)|0,h||($c(M,k),h=0),De=I,h|0}function pl(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0;return k=De,De=De+16|0,M=k,Us(v,M),_=fs(h,m,M,_)|0,De=k,_|0}function $r(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0;return I=De,De=De+32|0,k=I+12|0,M=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,M)|0)?h=Ki(k,M)|0:h=-1,De=I,h|0}function nc(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0,I=0;return I=De,De=De+32|0,k=I+12|0,M=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,M)|0)?h=Ki(k,M)|0:h=-1,De=I,(h>>>31^1)+h|0}function Po(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0;if(vn=De,De=De+48|0,M=vn+24|0,I=vn+12|0,Xe=vn,!(xa(h,m,h,m,M)|0)&&!(xa(h,m,v,_,I)|0)){if(Lt=Ki(M,I)|0,(Lt|0)<0)return Xe=Lt,De=vn,Xe|0;for(A[M>>2]=0,A[M+4>>2]=0,A[M+8>>2]=0,A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,xa(h,m,h,m,M)|0,xa(h,m,v,_,I)|0,Ss(M),Ss(I),Lt?(fe=A[M>>2]|0,it=+(Lt|0),Nt=M+4|0,Fe=A[Nt>>2]|0,ln=M+8|0,Ke=A[ln>>2]|0,mt=M,v=fe,_=Fe,M=Ke,wt=+((A[I>>2]|0)-fe|0)/it,Et=+((A[I+4>>2]|0)-Fe|0)/it,it=+((A[I+8>>2]|0)-Ke|0)/it):(_=M+4|0,Ke=M+8|0,Nt=_,ln=Ke,mt=M,v=A[M>>2]|0,_=A[_>>2]|0,M=A[Ke>>2]|0,wt=0,Et=0,it=0),A[Xe>>2]=v,Ke=Xe+4|0,A[Ke>>2]=_,Fe=Xe+8|0,A[Fe>>2]=M,fe=0;;){Q=+(fe|0),_n=wt*Q+ +(v|0),z=Et*Q+ +(A[Nt>>2]|0),Q=it*Q+ +(A[ln>>2]|0),_=~~+Ga(+_n),I=~~+Ga(+z),v=~~+Ga(+Q),_n=+ct(+(+(_|0)-_n)),z=+ct(+(+(I|0)-z)),Q=+ct(+(+(v|0)-Q));do if(_n>z&_n>Q)_=0-(I+v)|0,M=I;else if(ie=0-_|0,z>Q){M=ie-v|0;break}else{M=I,v=ie-I|0;break}while(0);if(A[Xe>>2]=_,A[Ke>>2]=M,A[Fe>>2]=v,co(Xe),fs(h,m,Xe,k+(fe<<3)|0)|0,(fe|0)==(Lt|0))break;fe=fe+1|0,v=A[mt>>2]|0}return Xe=0,De=vn,Xe|0}return Xe=-1,De=vn,Xe|0}function ho(h,m){h=h|0,m=m|0;var v=0;if(!m)return v=1,v|0;v=h,h=1;do h=vr(m&1|0?v:1,h)|0,m=m>>1,v=vr(v,v)|0;while(m|0);return h|0}function Ff(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0;if(!(ol(m,v)|0)||(m=Ko(m)|0,Ke=+me[v>>3],_=+me[v+8>>3],_=m&_<0?_+6.283185307179586:_,Fe=A[h>>2]|0,(Fe|0)<=0))return Fe=0,Fe|0;if(fe=A[h+4>>2]|0,m){m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+me[fe+(ie<<4)>>3],Q=+me[fe+(ie<<4)+8>>3],h=(v+2|0)%(Fe|0)|0,M=+me[fe+(h<<4)>>3],k=+me[fe+(h<<4)+8>>3],I>M?(z=I,I=Q):(z=M,M=I,I=k,k=Q),!!(Ke<M|Ke>z);)if(v=ie+1|0,(v|0)<(Fe|0))h=ie,ie=v,v=h;else{v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(Ke-M)/(z-M)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Fe|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}else{m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+me[fe+(ie<<4)>>3],Q=+me[fe+(ie<<4)+8>>3],h=(v+2|0)%(Fe|0)|0,M=+me[fe+(h<<4)>>3],k=+me[fe+(h<<4)+8>>3],I>M?(z=I,I=Q):(z=M,M=I,I=k,k=Q),!!(Ke<M|Ke>z);)if(v=ie+1|0,(v|0)<(Fe|0))h=ie,ie=v,v=h;else{v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(Ke-M)/(z-M)*(I-k)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Fe|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}return 0}function Zi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0;if(wt=A[h>>2]|0,!wt){A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;return}if(Et=m+8|0,me[Et>>3]=17976931348623157e292,Nt=m+24|0,me[Nt>>3]=17976931348623157e292,me[m>>3]=-17976931348623157e292,ln=m+16|0,me[ln>>3]=-17976931348623157e292,!((wt|0)<=0)){for(Ke=A[h+4>>2]|0,ie=17976931348623157e292,fe=-17976931348623157e292,Fe=0,h=-1,M=17976931348623157e292,I=17976931348623157e292,Q=-17976931348623157e292,_=-17976931348623157e292,it=0;v=+me[Ke+(it<<4)>>3],z=+me[Ke+(it<<4)+8>>3],h=h+2|0,k=+me[Ke+(((h|0)==(wt|0)?0:h)<<4)+8>>3],v<M&&(me[Et>>3]=v,M=v),z<I&&(me[Nt>>3]=z,I=z),v>Q?me[m>>3]=v:v=Q,z>_&&(me[ln>>3]=z,_=z),ie=z>0&z<ie?z:ie,fe=z<0&z>fe?z:fe,Fe=Fe|+ct(+(z-k))>3.141592653589793,h=it+1|0,(h|0)!=(wt|0);)mt=it,Q=v,it=h,h=mt;Fe&&(me[ln>>3]=fe,me[Nt>>3]=ie)}}function ba(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0,_n=0,Wt=0;if(wt=A[h>>2]|0,wt){if(Et=m+8|0,me[Et>>3]=17976931348623157e292,Nt=m+24|0,me[Nt>>3]=17976931348623157e292,me[m>>3]=-17976931348623157e292,ln=m+16|0,me[ln>>3]=-17976931348623157e292,(wt|0)>0){for(k=A[h+4>>2]|0,Ke=17976931348623157e292,it=-17976931348623157e292,_=0,v=-1,Q=17976931348623157e292,ie=17976931348623157e292,Fe=-17976931348623157e292,I=-17976931348623157e292,mt=0;M=+me[k+(mt<<4)>>3],fe=+me[k+(mt<<4)+8>>3],_n=v+2|0,z=+me[k+(((_n|0)==(wt|0)?0:_n)<<4)+8>>3],M<Q&&(me[Et>>3]=M,Q=M),fe<ie&&(me[Nt>>3]=fe,ie=fe),M>Fe?me[m>>3]=M:M=Fe,fe>I&&(me[ln>>3]=fe,I=fe),Ke=fe>0&fe<Ke?fe:Ke,it=fe<0&fe>it?fe:it,_=_|+ct(+(fe-z))>3.141592653589793,v=mt+1|0,(v|0)!=(wt|0);)_n=mt,Fe=M,mt=v,v=_n;_&&(me[ln>>3]=it,me[Nt>>3]=Ke)}}else A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;if(_n=h+8|0,v=A[_n>>2]|0,!((v|0)<=0)){vn=h+12|0,Xe=0;do if(k=A[vn>>2]|0,_=Xe,Xe=Xe+1|0,Nt=m+(Xe<<5)|0,ln=A[k+(_<<3)>>2]|0,ln){if(mt=m+(Xe<<5)+8|0,me[mt>>3]=17976931348623157e292,h=m+(Xe<<5)+24|0,me[h>>3]=17976931348623157e292,me[Nt>>3]=-17976931348623157e292,Lt=m+(Xe<<5)+16|0,me[Lt>>3]=-17976931348623157e292,(ln|0)>0){for(wt=A[k+(_<<3)+4>>2]|0,Ke=17976931348623157e292,it=-17976931348623157e292,k=0,_=-1,Et=0,Q=17976931348623157e292,ie=17976931348623157e292,fe=-17976931348623157e292,I=-17976931348623157e292;M=+me[wt+(Et<<4)>>3],Fe=+me[wt+(Et<<4)+8>>3],_=_+2|0,z=+me[wt+(((_|0)==(ln|0)?0:_)<<4)+8>>3],M<Q&&(me[mt>>3]=M,Q=M),Fe<ie&&(me[h>>3]=Fe,ie=Fe),M>fe?me[Nt>>3]=M:M=fe,Fe>I&&(me[Lt>>3]=Fe,I=Fe),Ke=Fe>0&Fe<Ke?Fe:Ke,it=Fe<0&Fe>it?Fe:it,k=k|+ct(+(Fe-z))>3.141592653589793,_=Et+1|0,(_|0)!=(ln|0);)Wt=Et,Et=_,fe=M,_=Wt;k&&(me[Lt>>3]=it,me[h>>3]=Ke)}}else A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,A[Nt+12>>2]=0,A[Nt+16>>2]=0,A[Nt+20>>2]=0,A[Nt+24>>2]=0,A[Nt+28>>2]=0,v=A[_n>>2]|0;while((Xe|0)<(v|0))}}function rn(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0;if(!(Ff(h,m,v)|0))return k=0,k|0;if(k=h+8|0,(A[k>>2]|0)<=0)return k=1,k|0;for(_=h+12|0,h=0;;){if(M=h,h=h+1|0,Ff((A[_>>2]|0)+(M<<3)|0,m+(h<<5)|0,v)|0){h=0,_=6;break}if((h|0)>=(A[k>>2]|0)){h=1,_=6;break}}return(_|0)==6?h|0:0}function ja(){return 8}function Gs(){return 16}function Qs(){return 168}function Fo(){return 8}function Au(){return 16}function Yo(){return 12}function sn(){return 8}function rc(h){h=h|0;var m=0,v=0;return v=+me[h>>3],m=+me[h+8>>3],+ +It(+(v*v+m*m))}function Ws(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0;ie=+me[h>>3],Q=+me[m>>3]-ie,z=+me[h+8>>3],I=+me[m+8>>3]-z,Fe=+me[v>>3],M=+me[_>>3]-Fe,Ke=+me[v+8>>3],fe=+me[_+8>>3]-Ke,M=(M*(z-Ke)-(ie-Fe)*fe)/(Q*fe-I*M),me[k>>3]=ie+Q*M,me[k+8>>3]=z+I*M}function Ao(h,m){return h=h|0,m=m|0,+me[h>>3]!=+me[m>>3]?(m=0,m|0):(m=+me[h+8>>3]==+me[m+8>>3],m|0)}function Er(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return k=+me[h>>3]-+me[m>>3],_=+me[h+8>>3]-+me[m+8>>3],v=+me[h+16>>3]-+me[m+16>>3],+(k*k+_*_+v*v)}function Kc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;v=+me[h>>3],_=+hn(+v),v=+cn(+v),me[m+16>>3]=v,v=+me[h+8>>3],k=_*+hn(+v),me[m>>3]=k,v=_*+cn(+v),me[m+8>>3]=v}function Bp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0;if(ie=De,De=De+32|0,k=ie+16|0,M=ie,pa(h,m,k),I=qc(h,m)|0,Q=Si(h,m)|0,Mf(I,M),m=Gu(I,A[k>>2]|0)|0,!(ui(I)|0))return Q=m,De=ie,Q|0;do switch(I|0){case 4:{h=0,v=14;break}case 14:{h=1,v=14;break}case 24:{h=2,v=14;break}case 38:{h=3,v=14;break}case 49:{h=4,v=14;break}case 58:{h=5,v=14;break}case 63:{h=6,v=14;break}case 72:{h=7,v=14;break}case 83:{h=8,v=14;break}case 97:{h=9,v=14;break}case 107:{h=10,v=14;break}case 117:{h=11,v=14;break}default:z=0,_=0}while(0);return(v|0)==14&&(z=A[22096+(h*24|0)+8>>2]|0,_=A[22096+(h*24|0)+16>>2]|0),h=A[k>>2]|0,(h|0)!=(A[M>>2]|0)&&(I=Rc(I)|0,h=A[k>>2]|0,I|(h|0)==(_|0)&&(m=(m+1|0)%6|0)),(Q|0)==3&(h|0)==(_|0)?(Q=(m+5|0)%6|0,De=ie,Q|0):(Q|0)==5&(h|0)==(z|0)?(Q=(m+1|0)%6|0,De=ie,Q|0):(Q=m,De=ie,Q|0)}function Bf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;return _=Ui(h,m)|0,(v+-1|0)>>>0>5||(k=(_|0)!=0,(v|0)==1&k)?(v=-1,v|0):(_=Bp(h,m)|0,k?(v=(5-_+(A[22384+(v<<2)>>2]|0)|0)%5|0,v|0):(v=(6-_+(A[22416+(v<<2)>>2]|0)|0)%6|0,v|0))}function mo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0;(m|0)>0?(_=Bo(m,4)|0,A[h>>2]=_,_||bn(23230,23253,40,23267)):A[h>>2]=0,A[h+4>>2]=m,A[h+8>>2]=0,A[h+12>>2]=v}function Va(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0;k=h+4|0,M=h+12|0,I=h+8|0;e:for(;;){for(v=A[k>>2]|0,m=0;;){if((m|0)>=(v|0))break e;if(_=A[h>>2]|0,z=A[_+(m<<2)>>2]|0,!z)m=m+1|0;else break}m=_+(~~(+ct(+(+bt(10,+ +(15-(A[M>>2]|0)|0))*(+me[z>>3]+ +me[z+8>>3])))%+(v|0))>>>0<<2)|0,v=A[m>>2]|0;t:do if(v|0){if(_=z+32|0,(v|0)==(z|0))A[m>>2]=A[_>>2];else{if(v=v+32|0,m=A[v>>2]|0,!m)break;for(;(m|0)!=(z|0);)if(v=m+32|0,m=A[v>>2]|0,!m)break t;A[v>>2]=A[_>>2]}Bn(z),A[I>>2]=(A[I>>2]|0)+-1}while(0)}Bn(A[h>>2]|0)}function zl(h){h=h|0;var m=0,v=0,_=0;for(_=A[h+4>>2]|0,v=0;;){if((v|0)>=(_|0)){m=0,v=4;break}if(m=A[(A[h>>2]|0)+(v<<2)>>2]|0,!m)v=v+1|0;else{v=4;break}}return(v|0)==4?m|0:0}function Zc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,M=0;if(v=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+me[m>>3]+ +me[m+8>>3])))%+(A[h+4>>2]|0))>>>0,v=(A[h>>2]|0)+(v<<2)|0,_=A[v>>2]|0,!_)return M=1,M|0;M=m+32|0;do if((_|0)!=(m|0)){if(v=A[_+32>>2]|0,!v)return M=1,M|0;for(k=v;;){if((k|0)==(m|0)){k=8;break}if(v=A[k+32>>2]|0,v)_=k,k=v;else{v=1,k=10;break}}if((k|0)==8){A[_+32>>2]=A[M>>2];break}else if((k|0)==10)return v|0}else A[v>>2]=A[M>>2];while(0);return Bn(m),M=h+8|0,A[M>>2]=(A[M>>2]|0)+-1,M=0,M|0}function Xc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0;M=Ti(40)|0,M||bn(23283,23253,98,23296),A[M>>2]=A[m>>2],A[M+4>>2]=A[m+4>>2],A[M+8>>2]=A[m+8>>2],A[M+12>>2]=A[m+12>>2],k=M+16|0,A[k>>2]=A[v>>2],A[k+4>>2]=A[v+4>>2],A[k+8>>2]=A[v+8>>2],A[k+12>>2]=A[v+12>>2],A[M+32>>2]=0,k=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+me[m>>3]+ +me[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=(A[h>>2]|0)+(k<<2)|0,_=A[k>>2]|0;do if(!_)A[k>>2]=M;else{for(;!($s(_,m)|0&&$s(_+16|0,v)|0);)if(k=A[_+32>>2]|0,_=k|0?k:_,!(A[_+32>>2]|0)){I=10;break}if((I|0)==10){A[_+32>>2]=M;break}return Bn(M),I=_,I|0}while(0);return I=h+8|0,A[I>>2]=(A[I>>2]|0)+1,I=M,I|0}function ps(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(k=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+me[m>>3]+ +me[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=A[(A[h>>2]|0)+(k<<2)>>2]|0,!k)return v=0,v|0;if(!v){for(h=k;;){if($s(h,m)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}if((_|0)==10)return h|0}for(h=k;;){if($s(h,m)|0&&$s(h+16|0,v)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}return(_|0)==10?h|0:0}function zp(h,m){h=h|0,m=m|0;var v=0;if(v=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+me[m>>3]+ +me[m+8>>3])))%+(A[h+4>>2]|0))>>>0,h=A[(A[h>>2]|0)+(v<<2)>>2]|0,!h)return v=0,v|0;for(;;){if($s(h,m)|0){m=5;break}if(h=A[h+32>>2]|0,!h){h=0,m=5;break}}return(m|0)==5?h|0:0}function ir(){return 23312}function Wn(h){return h=+h,+ +Np(+h)}function ha(h){return h=+h,~~+Wn(h)|0}function Ti(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0,Et=0,Nt=0,ln=0,mt=0,Lt=0,Xe=0,vn=0;vn=De,De=De+16|0,Ke=vn;do if(h>>>0<245){if(ie=h>>>0<11?16:h+11&-8,h=ie>>>3,Fe=A[5829]|0,v=Fe>>>h,v&3|0)return m=(v&1^1)+h|0,h=23356+(m<<1<<2)|0,v=h+8|0,_=A[v>>2]|0,k=_+8|0,M=A[k>>2]|0,(M|0)==(h|0)?A[5829]=Fe&~(1<<m):(A[M+12>>2]=h,A[v>>2]=M),Xe=m<<3,A[_+4>>2]=Xe|3,Xe=_+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1,Xe=k,De=vn,Xe|0;if(fe=A[5831]|0,ie>>>0>fe>>>0){if(v|0)return m=2<<h,m=v<<h&(m|0-m),m=(m&0-m)+-1|0,z=m>>>12&16,m=m>>>z,v=m>>>5&8,m=m>>>v,M=m>>>2&4,m=m>>>M,h=m>>>1&2,m=m>>>h,_=m>>>1&1,_=(v|z|M|h|_)+(m>>>_)|0,m=23356+(_<<1<<2)|0,h=m+8|0,M=A[h>>2]|0,z=M+8|0,v=A[z>>2]|0,(v|0)==(m|0)?(h=Fe&~(1<<_),A[5829]=h):(A[v+12>>2]=m,A[h>>2]=v,h=Fe),Xe=_<<3,I=Xe-ie|0,A[M+4>>2]=ie|3,k=M+ie|0,A[k+4>>2]=I|1,A[M+Xe>>2]=I,fe|0&&(_=A[5834]|0,m=fe>>>3,v=23356+(m<<1<<2)|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=I,A[5834]=k,Xe=z,De=vn,Xe|0;if(M=A[5830]|0,M){for(v=(M&0-M)+-1|0,k=v>>>12&16,v=v>>>k,_=v>>>5&8,v=v>>>_,I=v>>>2&4,v=v>>>I,z=v>>>1&2,v=v>>>z,Q=v>>>1&1,Q=A[23620+((_|k|I|z|Q)+(v>>>Q)<<2)>>2]|0,v=Q,z=Q,Q=(A[Q+4>>2]&-8)-ie|0;h=A[v+16>>2]|0,!(!h&&(h=A[v+20>>2]|0,!h));)I=(A[h+4>>2]&-8)-ie|0,k=I>>>0<Q>>>0,v=h,z=k?h:z,Q=k?I:Q;if(I=z+ie|0,I>>>0>z>>>0){k=A[z+24>>2]|0,m=A[z+12>>2]|0;do if((m|0)==(z|0)){if(h=z+20|0,m=A[h>>2]|0,!m&&(h=z+16|0,m=A[h>>2]|0,!m)){v=0;break}for(;;)if(_=m+20|0,v=A[_>>2]|0,v)m=v,h=_;else if(_=m+16|0,v=A[_>>2]|0,v)m=v,h=_;else break;A[h>>2]=0,v=m}else v=A[z+8>>2]|0,A[v+12>>2]=m,A[m+8>>2]=v,v=m;while(0);do if(k|0){if(m=A[z+28>>2]|0,h=23620+(m<<2)|0,(z|0)==(A[h>>2]|0)){if(A[h>>2]=v,!v){A[5830]=M&~(1<<m);break}}else if(Xe=k+16|0,A[((A[Xe>>2]|0)==(z|0)?Xe:k+20|0)>>2]=v,!v)break;A[v+24>>2]=k,m=A[z+16>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),m=A[z+20>>2]|0,m|0&&(A[v+20>>2]=m,A[m+24>>2]=v)}while(0);return Q>>>0<16?(Xe=Q+ie|0,A[z+4>>2]=Xe|3,Xe=z+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1):(A[z+4>>2]=ie|3,A[I+4>>2]=Q|1,A[I+Q>>2]=Q,fe|0&&(_=A[5834]|0,m=fe>>>3,v=23356+(m<<1<<2)|0,m=1<<m,m&Fe?(h=v+8|0,m=A[h>>2]|0):(A[5829]=m|Fe,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=Q,A[5834]=I),Xe=z+8|0,De=vn,Xe|0}else Fe=ie}else Fe=ie}else Fe=ie}else if(h>>>0<=4294967231)if(h=h+11|0,ie=h&-8,_=A[5830]|0,_){k=0-ie|0,h=h>>>8,h?ie>>>0>16777215?Q=31:(Fe=(h+1048320|0)>>>16&8,Et=h<<Fe,z=(Et+520192|0)>>>16&4,Et=Et<<z,Q=(Et+245760|0)>>>16&2,Q=14-(z|Fe|Q)+(Et<<Q>>>15)|0,Q=ie>>>(Q+7|0)&1|Q<<1):Q=0,v=A[23620+(Q<<2)>>2]|0;e:do if(!v)v=0,h=0,Et=61;else for(h=0,z=ie<<((Q|0)==31?0:25-(Q>>>1)|0),M=0;;){if(I=(A[v+4>>2]&-8)-ie|0,I>>>0<k>>>0)if(I)h=v,k=I;else{h=v,k=0,Et=65;break e}if(Et=A[v+20>>2]|0,v=A[v+16+(z>>>31<<2)>>2]|0,M=(Et|0)==0|(Et|0)==(v|0)?M:Et,v)z=z<<1;else{v=M,Et=61;break}}while(0);if((Et|0)==61){if((v|0)==0&(h|0)==0){if(h=2<<Q,h=(h|0-h)&_,!h){Fe=ie;break}Fe=(h&0-h)+-1|0,I=Fe>>>12&16,Fe=Fe>>>I,M=Fe>>>5&8,Fe=Fe>>>M,z=Fe>>>2&4,Fe=Fe>>>z,Q=Fe>>>1&2,Fe=Fe>>>Q,v=Fe>>>1&1,h=0,v=A[23620+((M|I|z|Q|v)+(Fe>>>v)<<2)>>2]|0}v?Et=65:(z=h,I=k)}if((Et|0)==65)for(M=v;;)if(Fe=(A[M+4>>2]&-8)-ie|0,v=Fe>>>0<k>>>0,k=v?Fe:k,h=v?M:h,v=A[M+16>>2]|0,v||(v=A[M+20>>2]|0),v)M=v;else{z=h,I=k;break}if(z|0&&I>>>0<((A[5831]|0)-ie|0)>>>0&&(fe=z+ie|0,fe>>>0>z>>>0)){M=A[z+24>>2]|0,m=A[z+12>>2]|0;do if((m|0)==(z|0)){if(h=z+20|0,m=A[h>>2]|0,!m&&(h=z+16|0,m=A[h>>2]|0,!m)){m=0;break}for(;;)if(k=m+20|0,v=A[k>>2]|0,v)m=v,h=k;else if(k=m+16|0,v=A[k>>2]|0,v)m=v,h=k;else break;A[h>>2]=0}else Xe=A[z+8>>2]|0,A[Xe+12>>2]=m,A[m+8>>2]=Xe;while(0);do if(M){if(h=A[z+28>>2]|0,v=23620+(h<<2)|0,(z|0)==(A[v>>2]|0)){if(A[v>>2]=m,!m){_=_&~(1<<h),A[5830]=_;break}}else if(Xe=M+16|0,A[((A[Xe>>2]|0)==(z|0)?Xe:M+20|0)>>2]=m,!m)break;A[m+24>>2]=M,h=A[z+16>>2]|0,h|0&&(A[m+16>>2]=h,A[h+24>>2]=m),h=A[z+20>>2]|0,h&&(A[m+20>>2]=h,A[h+24>>2]=m)}while(0);e:do if(I>>>0<16)Xe=I+ie|0,A[z+4>>2]=Xe|3,Xe=z+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1;else{if(A[z+4>>2]=ie|3,A[fe+4>>2]=I|1,A[fe+I>>2]=I,m=I>>>3,I>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=fe,A[m+12>>2]=fe,A[fe+8>>2]=m,A[fe+12>>2]=v;break}if(m=I>>>8,m?I>>>0>16777215?v=31:(Lt=(m+1048320|0)>>>16&8,Xe=m<<Lt,mt=(Xe+520192|0)>>>16&4,Xe=Xe<<mt,v=(Xe+245760|0)>>>16&2,v=14-(mt|Lt|v)+(Xe<<v>>>15)|0,v=I>>>(v+7|0)&1|v<<1):v=0,m=23620+(v<<2)|0,A[fe+28>>2]=v,h=fe+16|0,A[h+4>>2]=0,A[h>>2]=0,h=1<<v,!(_&h)){A[5830]=_|h,A[m>>2]=fe,A[fe+24>>2]=m,A[fe+12>>2]=fe,A[fe+8>>2]=fe;break}m=A[m>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(I|0)){for(_=I<<((v|0)==31?0:25-(v>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(I|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=fe,A[fe+24>>2]=m,A[fe+12>>2]=fe,A[fe+8>>2]=fe;break e}while(0);Lt=m+8|0,Xe=A[Lt>>2]|0,A[Xe+12>>2]=fe,A[Lt>>2]=fe,A[fe+8>>2]=Xe,A[fe+12>>2]=m,A[fe+24>>2]=0}while(0);return Xe=z+8|0,De=vn,Xe|0}else Fe=ie}else Fe=ie;else Fe=-1;while(0);if(v=A[5831]|0,v>>>0>=Fe>>>0)return m=v-Fe|0,h=A[5834]|0,m>>>0>15?(Xe=h+Fe|0,A[5834]=Xe,A[5831]=m,A[Xe+4>>2]=m|1,A[h+v>>2]=m,A[h+4>>2]=Fe|3):(A[5831]=0,A[5834]=0,A[h+4>>2]=v|3,Xe=h+v+4|0,A[Xe>>2]=A[Xe>>2]|1),Xe=h+8|0,De=vn,Xe|0;if(I=A[5832]|0,I>>>0>Fe>>>0)return mt=I-Fe|0,A[5832]=mt,Xe=A[5835]|0,Lt=Xe+Fe|0,A[5835]=Lt,A[Lt+4>>2]=mt|1,A[Xe+4>>2]=Fe|3,Xe=Xe+8|0,De=vn,Xe|0;if(A[5947]|0?h=A[5949]|0:(A[5949]=4096,A[5948]=4096,A[5950]=-1,A[5951]=-1,A[5952]=0,A[5940]=0,A[5947]=Ke&-16^1431655768,h=4096),z=Fe+48|0,Q=Fe+47|0,M=h+Q|0,k=0-h|0,ie=M&k,ie>>>0<=Fe>>>0||(h=A[5939]|0,h|0&&(fe=A[5937]|0,Ke=fe+ie|0,Ke>>>0<=fe>>>0|Ke>>>0>h>>>0)))return Xe=0,De=vn,Xe|0;e:do if(A[5940]&4)m=0,Et=143;else{v=A[5835]|0;t:do if(v){for(_=23764;Ke=A[_>>2]|0,!(Ke>>>0<=v>>>0&&(Ke+(A[_+4>>2]|0)|0)>>>0>v>>>0);)if(h=A[_+8>>2]|0,h)_=h;else{Et=128;break t}if(m=M-I&k,m>>>0<2147483647)if(h=ta(m|0)|0,(h|0)==((A[_>>2]|0)+(A[_+4>>2]|0)|0)){if((h|0)!=-1){I=m,M=h,Et=145;break e}}else _=h,Et=136;else m=0}else Et=128;while(0);do if((Et|0)==128)if(v=ta(0)|0,(v|0)!=-1&&(m=v,it=A[5948]|0,wt=it+-1|0,m=(wt&m|0?(wt+m&0-it)-m|0:0)+ie|0,it=A[5937]|0,wt=m+it|0,m>>>0>Fe>>>0&m>>>0<2147483647)){if(Ke=A[5939]|0,Ke|0&&wt>>>0<=it>>>0|wt>>>0>Ke>>>0){m=0;break}if(h=ta(m|0)|0,(h|0)==(v|0)){I=m,M=v,Et=145;break e}else _=h,Et=136}else m=0;while(0);do if((Et|0)==136){if(v=0-m|0,!(z>>>0>m>>>0&(m>>>0<2147483647&(_|0)!=-1)))if((_|0)==-1){m=0;break}else{I=m,M=_,Et=145;break e}if(h=A[5949]|0,h=Q-m+h&0-h,h>>>0>=2147483647){I=m,M=_,Et=145;break e}if((ta(h|0)|0)==-1){ta(v|0)|0,m=0;break}else{I=h+m|0,M=_,Et=145;break e}}while(0);A[5940]=A[5940]|4,Et=143}while(0);if((Et|0)==143&&ie>>>0<2147483647&&(mt=ta(ie|0)|0,wt=ta(0)|0,Nt=wt-mt|0,ln=Nt>>>0>(Fe+40|0)>>>0,!((mt|0)==-1|ln^1|mt>>>0<wt>>>0&((mt|0)!=-1&(wt|0)!=-1)^1))&&(I=ln?Nt:m,M=mt,Et=145),(Et|0)==145){m=(A[5937]|0)+I|0,A[5937]=m,m>>>0>(A[5938]|0)>>>0&&(A[5938]=m),Q=A[5835]|0;e:do if(Q){for(m=23764;;){if(h=A[m>>2]|0,v=A[m+4>>2]|0,(M|0)==(h+v|0)){Et=154;break}if(_=A[m+8>>2]|0,_)m=_;else break}if((Et|0)==154&&(Lt=m+4|0,(A[m+12>>2]&8|0)==0)&&M>>>0>Q>>>0&h>>>0<=Q>>>0){A[Lt>>2]=v+I,Xe=(A[5832]|0)+I|0,mt=Q+8|0,mt=mt&7|0?0-mt&7:0,Lt=Q+mt|0,mt=Xe-mt|0,A[5835]=Lt,A[5832]=mt,A[Lt+4>>2]=mt|1,A[Q+Xe+4>>2]=40,A[5836]=A[5951];break}for(M>>>0<(A[5833]|0)>>>0&&(A[5833]=M),v=M+I|0,m=23764;;){if((A[m>>2]|0)==(v|0)){Et=162;break}if(h=A[m+8>>2]|0,h)m=h;else break}if((Et|0)==162&&!(A[m+12>>2]&8|0)){A[m>>2]=M,fe=m+4|0,A[fe>>2]=(A[fe>>2]|0)+I,fe=M+8|0,fe=M+(fe&7|0?0-fe&7:0)|0,m=v+8|0,m=v+(m&7|0?0-m&7:0)|0,ie=fe+Fe|0,z=m-fe-Fe|0,A[fe+4>>2]=Fe|3;t:do if((Q|0)==(m|0))Xe=(A[5832]|0)+z|0,A[5832]=Xe,A[5835]=ie,A[ie+4>>2]=Xe|1;else{if((A[5834]|0)==(m|0)){Xe=(A[5831]|0)+z|0,A[5831]=Xe,A[5834]=ie,A[ie+4>>2]=Xe|1,A[ie+Xe>>2]=Xe;break}if(h=A[m+4>>2]|0,(h&3|0)==1){I=h&-8,_=h>>>3;n:do if(h>>>0<256)if(h=A[m+8>>2]|0,v=A[m+12>>2]|0,(v|0)==(h|0)){A[5829]=A[5829]&~(1<<_);break}else{A[h+12>>2]=v,A[v+8>>2]=h;break}else{M=A[m+24>>2]|0,h=A[m+12>>2]|0;do if((h|0)==(m|0)){if(v=m+16|0,_=v+4|0,h=A[_>>2]|0,h)v=_;else if(h=A[v>>2]|0,!h){h=0;break}for(;;)if(k=h+20|0,_=A[k>>2]|0,_)h=_,v=k;else if(k=h+16|0,_=A[k>>2]|0,_)h=_,v=k;else break;A[v>>2]=0}else Xe=A[m+8>>2]|0,A[Xe+12>>2]=h,A[h+8>>2]=Xe;while(0);if(!M)break;v=A[m+28>>2]|0,_=23620+(v<<2)|0;do if((A[_>>2]|0)!=(m|0)){if(Xe=M+16|0,A[((A[Xe>>2]|0)==(m|0)?Xe:M+20|0)>>2]=h,!h)break n}else{if(A[_>>2]=h,h|0)break;A[5830]=A[5830]&~(1<<v);break n}while(0);if(A[h+24>>2]=M,v=m+16|0,_=A[v>>2]|0,_|0&&(A[h+16>>2]=_,A[_+24>>2]=h),v=A[v+4>>2]|0,!v)break;A[h+20>>2]=v,A[v+24>>2]=h}while(0);m=m+I|0,k=I+z|0}else k=z;if(m=m+4|0,A[m>>2]=A[m>>2]&-2,A[ie+4>>2]=k|1,A[ie+k>>2]=k,m=k>>>3,k>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=ie,A[m+12>>2]=ie,A[ie+8>>2]=m,A[ie+12>>2]=v;break}m=k>>>8;do if(!m)_=0;else{if(k>>>0>16777215){_=31;break}Lt=(m+1048320|0)>>>16&8,Xe=m<<Lt,mt=(Xe+520192|0)>>>16&4,Xe=Xe<<mt,_=(Xe+245760|0)>>>16&2,_=14-(mt|Lt|_)+(Xe<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1}while(0);if(m=23620+(_<<2)|0,A[ie+28>>2]=_,h=ie+16|0,A[h+4>>2]=0,A[h>>2]=0,h=A[5830]|0,v=1<<_,!(h&v)){A[5830]=h|v,A[m>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break}m=A[m>>2]|0;n:do if((A[m+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(k|0)){m=h;break n}else _=_<<1,m=h;A[v>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break t}while(0);Lt=m+8|0,Xe=A[Lt>>2]|0,A[Xe+12>>2]=ie,A[Lt>>2]=ie,A[ie+8>>2]=Xe,A[ie+12>>2]=m,A[ie+24>>2]=0}while(0);return Xe=fe+8|0,De=vn,Xe|0}for(m=23764;h=A[m>>2]|0,!(h>>>0<=Q>>>0&&(Xe=h+(A[m+4>>2]|0)|0,Xe>>>0>Q>>>0));)m=A[m+8>>2]|0;k=Xe+-47|0,h=k+8|0,h=k+(h&7|0?0-h&7:0)|0,k=Q+16|0,h=h>>>0<k>>>0?Q:h,m=h+8|0,v=I+-40|0,mt=M+8|0,mt=mt&7|0?0-mt&7:0,Lt=M+mt|0,mt=v-mt|0,A[5835]=Lt,A[5832]=mt,A[Lt+4>>2]=mt|1,A[M+v+4>>2]=40,A[5836]=A[5951],v=h+4|0,A[v>>2]=27,A[m>>2]=A[5941],A[m+4>>2]=A[5942],A[m+8>>2]=A[5943],A[m+12>>2]=A[5944],A[5941]=M,A[5942]=I,A[5944]=0,A[5943]=m,m=h+24|0;do Lt=m,m=m+4|0,A[m>>2]=7;while((Lt+8|0)>>>0<Xe>>>0);if((h|0)!=(Q|0)){if(M=h-Q|0,A[v>>2]=A[v>>2]&-2,A[Q+4>>2]=M|1,A[h>>2]=M,m=M>>>3,M>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=Q,A[m+12>>2]=Q,A[Q+8>>2]=m,A[Q+12>>2]=v;break}if(m=M>>>8,m?M>>>0>16777215?_=31:(Lt=(m+1048320|0)>>>16&8,Xe=m<<Lt,mt=(Xe+520192|0)>>>16&4,Xe=Xe<<mt,_=(Xe+245760|0)>>>16&2,_=14-(mt|Lt|_)+(Xe<<_>>>15)|0,_=M>>>(_+7|0)&1|_<<1):_=0,v=23620+(_<<2)|0,A[Q+28>>2]=_,A[Q+20>>2]=0,A[k>>2]=0,m=A[5830]|0,h=1<<_,!(m&h)){A[5830]=m|h,A[v>>2]=Q,A[Q+24>>2]=v,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break}m=A[v>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(M|0)){for(_=M<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(M|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=Q,A[Q+24>>2]=m,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break e}while(0);Lt=m+8|0,Xe=A[Lt>>2]|0,A[Xe+12>>2]=Q,A[Lt>>2]=Q,A[Q+8>>2]=Xe,A[Q+12>>2]=m,A[Q+24>>2]=0}}else Xe=A[5833]|0,(Xe|0)==0|M>>>0<Xe>>>0&&(A[5833]=M),A[5941]=M,A[5942]=I,A[5944]=0,A[5838]=A[5947],A[5837]=-1,A[5842]=23356,A[5841]=23356,A[5844]=23364,A[5843]=23364,A[5846]=23372,A[5845]=23372,A[5848]=23380,A[5847]=23380,A[5850]=23388,A[5849]=23388,A[5852]=23396,A[5851]=23396,A[5854]=23404,A[5853]=23404,A[5856]=23412,A[5855]=23412,A[5858]=23420,A[5857]=23420,A[5860]=23428,A[5859]=23428,A[5862]=23436,A[5861]=23436,A[5864]=23444,A[5863]=23444,A[5866]=23452,A[5865]=23452,A[5868]=23460,A[5867]=23460,A[5870]=23468,A[5869]=23468,A[5872]=23476,A[5871]=23476,A[5874]=23484,A[5873]=23484,A[5876]=23492,A[5875]=23492,A[5878]=23500,A[5877]=23500,A[5880]=23508,A[5879]=23508,A[5882]=23516,A[5881]=23516,A[5884]=23524,A[5883]=23524,A[5886]=23532,A[5885]=23532,A[5888]=23540,A[5887]=23540,A[5890]=23548,A[5889]=23548,A[5892]=23556,A[5891]=23556,A[5894]=23564,A[5893]=23564,A[5896]=23572,A[5895]=23572,A[5898]=23580,A[5897]=23580,A[5900]=23588,A[5899]=23588,A[5902]=23596,A[5901]=23596,A[5904]=23604,A[5903]=23604,Xe=I+-40|0,mt=M+8|0,mt=mt&7|0?0-mt&7:0,Lt=M+mt|0,mt=Xe-mt|0,A[5835]=Lt,A[5832]=mt,A[Lt+4>>2]=mt|1,A[M+Xe+4>>2]=40,A[5836]=A[5951];while(0);if(m=A[5832]|0,m>>>0>Fe>>>0)return mt=m-Fe|0,A[5832]=mt,Xe=A[5835]|0,Lt=Xe+Fe|0,A[5835]=Lt,A[Lt+4>>2]=mt|1,A[Xe+4>>2]=Fe|3,Xe=Xe+8|0,De=vn,Xe|0}return Xe=ir()|0,A[Xe>>2]=12,Xe=0,De=vn,Xe|0}function Bn(h){h=h|0;var m=0,v=0,_=0,k=0,M=0,I=0,z=0,Q=0;if(h){v=h+-8|0,k=A[5833]|0,h=A[h+-4>>2]|0,m=h&-8,Q=v+m|0;do if(h&1)z=v,I=v;else{if(_=A[v>>2]|0,!(h&3)||(I=v+(0-_)|0,M=_+m|0,I>>>0<k>>>0))return;if((A[5834]|0)==(I|0)){if(h=Q+4|0,m=A[h>>2]|0,(m&3|0)!=3){z=I,m=M;break}A[5831]=M,A[h>>2]=m&-2,A[I+4>>2]=M|1,A[I+M>>2]=M;return}if(v=_>>>3,_>>>0<256)if(h=A[I+8>>2]|0,m=A[I+12>>2]|0,(m|0)==(h|0)){A[5829]=A[5829]&~(1<<v),z=I,m=M;break}else{A[h+12>>2]=m,A[m+8>>2]=h,z=I,m=M;break}k=A[I+24>>2]|0,h=A[I+12>>2]|0;do if((h|0)==(I|0)){if(m=I+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){h=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0}else z=A[I+8>>2]|0,A[z+12>>2]=h,A[h+8>>2]=z;while(0);if(k){if(m=A[I+28>>2]|0,v=23620+(m<<2)|0,(A[v>>2]|0)==(I|0)){if(A[v>>2]=h,!h){A[5830]=A[5830]&~(1<<m),z=I,m=M;break}}else if(z=k+16|0,A[((A[z>>2]|0)==(I|0)?z:k+20|0)>>2]=h,!h){z=I,m=M;break}A[h+24>>2]=k,m=I+16|0,v=A[m>>2]|0,v|0&&(A[h+16>>2]=v,A[v+24>>2]=h),m=A[m+4>>2]|0,m?(A[h+20>>2]=m,A[m+24>>2]=h,z=I,m=M):(z=I,m=M)}else z=I,m=M}while(0);if(!(I>>>0>=Q>>>0)&&(h=Q+4|0,_=A[h>>2]|0,!!(_&1))){if(_&2)A[h>>2]=_&-2,A[z+4>>2]=m|1,A[I+m>>2]=m,k=m;else{if((A[5835]|0)==(Q|0)){if(Q=(A[5832]|0)+m|0,A[5832]=Q,A[5835]=z,A[z+4>>2]=Q|1,(z|0)!=(A[5834]|0))return;A[5834]=0,A[5831]=0;return}if((A[5834]|0)==(Q|0)){Q=(A[5831]|0)+m|0,A[5831]=Q,A[5834]=I,A[z+4>>2]=Q|1,A[I+Q>>2]=Q;return}k=(_&-8)+m|0,v=_>>>3;do if(_>>>0<256)if(m=A[Q+8>>2]|0,h=A[Q+12>>2]|0,(h|0)==(m|0)){A[5829]=A[5829]&~(1<<v);break}else{A[m+12>>2]=h,A[h+8>>2]=m;break}else{M=A[Q+24>>2]|0,h=A[Q+12>>2]|0;do if((h|0)==(Q|0)){if(m=Q+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){v=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0,v=h}else v=A[Q+8>>2]|0,A[v+12>>2]=h,A[h+8>>2]=v,v=h;while(0);if(M|0){if(h=A[Q+28>>2]|0,m=23620+(h<<2)|0,(A[m>>2]|0)==(Q|0)){if(A[m>>2]=v,!v){A[5830]=A[5830]&~(1<<h);break}}else if(_=M+16|0,A[((A[_>>2]|0)==(Q|0)?_:M+20|0)>>2]=v,!v)break;A[v+24>>2]=M,h=Q+16|0,m=A[h>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),h=A[h+4>>2]|0,h|0&&(A[v+20>>2]=h,A[h+24>>2]=v)}}while(0);if(A[z+4>>2]=k|1,A[I+k>>2]=k,(z|0)==(A[5834]|0)){A[5831]=k;return}}if(h=k>>>3,k>>>0<256){v=23356+(h<<1<<2)|0,m=A[5829]|0,h=1<<h,m&h?(m=v+8|0,h=A[m>>2]|0):(A[5829]=m|h,h=v,m=v+8|0),A[m>>2]=z,A[h+12>>2]=z,A[z+8>>2]=h,A[z+12>>2]=v;return}h=k>>>8,h?k>>>0>16777215?_=31:(I=(h+1048320|0)>>>16&8,Q=h<<I,M=(Q+520192|0)>>>16&4,Q=Q<<M,_=(Q+245760|0)>>>16&2,_=14-(M|I|_)+(Q<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,h=23620+(_<<2)|0,A[z+28>>2]=_,A[z+20>>2]=0,A[z+16>>2]=0,m=A[5830]|0,v=1<<_;e:do if(!(m&v))A[5830]=m|v,A[h>>2]=z,A[z+24>>2]=h,A[z+12>>2]=z,A[z+8>>2]=z;else{h=A[h>>2]|0;t:do if((A[h+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=h+16+(_>>>31<<2)|0,m=A[v>>2]|0,!!m;)if((A[m+4>>2]&-8|0)==(k|0)){h=m;break t}else _=_<<1,h=m;A[v>>2]=z,A[z+24>>2]=h,A[z+12>>2]=z,A[z+8>>2]=z;break e}while(0);I=h+8|0,Q=A[I>>2]|0,A[Q+12>>2]=z,A[I>>2]=z,A[z+8>>2]=Q,A[z+12>>2]=h,A[z+24>>2]=0}while(0);if(Q=(A[5837]|0)+-1|0,A[5837]=Q,!(Q|0)){for(h=23772;h=A[h>>2]|0,h;)h=h+8|0;A[5837]=-1}}}}function Bo(h,m){h=h|0,m=m|0;var v=0;return h?(v=vr(m,h)|0,(m|h)>>>0>65535&&(v=((v>>>0)/(h>>>0)|0|0)==(m|0)?v:-1)):v=0,h=Ti(v)|0,!h||!(A[h+-4>>2]&3)||ji(h|0,0,v|0)|0,h|0}function Ha(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,v=h+v>>>0,Zt(m+_+(v>>>0<h>>>0|0)>>>0|0),v|0|0}function Jo(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,_=m-_-(v>>>0>h>>>0|0)>>>0,Zt(_|0),h-v>>>0|0|0}function ea(h){return h=h|0,(h?31-(Sr(h^h-1)|0)|0:32)|0}function qa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var M=0,I=0,z=0,Q=0,ie=0,fe=0,Fe=0,Ke=0,it=0,wt=0;if(fe=h,Q=m,ie=Q,I=v,Ke=_,z=Ke,!ie)return M=(k|0)!=0,z?M?(A[k>>2]=h|0,A[k+4>>2]=m&0,Ke=0,k=0,Zt(Ke|0),k|0):(Ke=0,k=0,Zt(Ke|0),k|0):(M&&(A[k>>2]=(fe>>>0)%(I>>>0),A[k+4>>2]=0),Ke=0,k=(fe>>>0)/(I>>>0)>>>0,Zt(Ke|0),k|0);M=(z|0)==0;do if(I){if(!M){if(M=(Sr(z|0)|0)-(Sr(ie|0)|0)|0,M>>>0<=31){Fe=M+1|0,z=31-M|0,m=M-31>>31,I=Fe,h=fe>>>(Fe>>>0)&m|ie<<z,m=ie>>>(Fe>>>0)&m,M=0,z=fe<<z;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,Ke=0,k=0,Zt(Ke|0),k|0):(Ke=0,k=0,Zt(Ke|0),k|0)}if(M=I-1|0,M&I|0){z=(Sr(I|0)|0)+33-(Sr(ie|0)|0)|0,wt=64-z|0,Fe=32-z|0,Q=Fe>>31,it=z-32|0,m=it>>31,I=z,h=Fe-1>>31&ie>>>(it>>>0)|(ie<<Fe|fe>>>(z>>>0))&m,m=m&ie>>>(z>>>0),M=fe<<wt&Q,z=(ie<<wt|fe>>>(it>>>0))&Q|fe<<Fe&z-33>>31;break}return k|0&&(A[k>>2]=M&fe,A[k+4>>2]=0),(I|0)==1?(it=Q|m&0,wt=h|0|0,Zt(it|0),wt|0):(wt=ea(I|0)|0,it=ie>>>(wt>>>0)|0,wt=ie<<32-wt|fe>>>(wt>>>0)|0,Zt(it|0),wt|0)}else{if(M)return k|0&&(A[k>>2]=(ie>>>0)%(I>>>0),A[k+4>>2]=0),it=0,wt=(ie>>>0)/(I>>>0)>>>0,Zt(it|0),wt|0;if(!fe)return k|0&&(A[k>>2]=0,A[k+4>>2]=(ie>>>0)%(z>>>0)),it=0,wt=(ie>>>0)/(z>>>0)>>>0,Zt(it|0),wt|0;if(M=z-1|0,!(M&z))return k|0&&(A[k>>2]=h|0,A[k+4>>2]=M&ie|m&0),it=0,wt=ie>>>((ea(z|0)|0)>>>0),Zt(it|0),wt|0;if(M=(Sr(z|0)|0)-(Sr(ie|0)|0)|0,M>>>0<=30){m=M+1|0,z=31-M|0,I=m,h=ie<<z|fe>>>(m>>>0),m=ie>>>(m>>>0),M=0,z=fe<<z;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,it=0,wt=0,Zt(it|0),wt|0):(it=0,wt=0,Zt(it|0),wt|0)}while(0);if(!I)ie=z,Q=0,z=0;else{Fe=v|0|0,fe=Ke|_&0,ie=Ha(Fe|0,fe|0,-1,-1)|0,v=qe()|0,Q=z,z=0;do _=Q,Q=M>>>31|Q<<1,M=z|M<<1,_=h<<1|_>>>31|0,Ke=h>>>31|m<<1|0,Jo(ie|0,v|0,_|0,Ke|0)|0,wt=qe()|0,it=wt>>31|((wt|0)<0?-1:0)<<1,z=it&1,h=Jo(_|0,Ke|0,it&Fe|0,(((wt|0)<0?-1:0)>>31|((wt|0)<0?-1:0)<<1)&fe|0)|0,m=qe()|0,I=I-1|0;while(I|0);ie=Q,Q=0}return I=0,k|0&&(A[k>>2]=h,A[k+4>>2]=m),it=(M|0)>>>31|(ie|I)<<1|(I<<1|M>>>31)&0|Q,wt=(M<<1|0>>>31)&-2|z,Zt(it|0),wt|0}function Qt(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,M=0;return M=De,De=De+16|0,k=M|0,qa(h,m,v,_,k)|0,De=M,Zt(A[k+4>>2]|0),A[k>>2]|0|0}function dt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Zt(m>>>v|0),h>>>v|(m&(1<<v)-1)<<32-v):(Zt(0),m>>>v-32|0)}function Xt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Zt(m<<v|(h&(1<<v)-1<<32-v)>>>32-v|0),h<<v):(Zt(h<<v-32|0),0)}function To(h,m){return h=+h,m=+m,h!=h?+m:m!=m?+h:+hi(+h,+m)}function Ga(h){return h=+h,h>=0?+$t(h+.5):+lr(h-.5)}function zo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0;if((v|0)>=8192)return oo(h|0,m|0,v|0)|0,h|0;if(M=h|0,k=h+v|0,(h&3)==(m&3)){for(;h&3;){if(!v)return M|0;Ge[h>>0]=Ge[m>>0]|0,h=h+1|0,m=m+1|0,v=v-1|0}for(v=k&-4|0,_=v-64|0;(h|0)<=(_|0);)A[h>>2]=A[m>>2],A[h+4>>2]=A[m+4>>2],A[h+8>>2]=A[m+8>>2],A[h+12>>2]=A[m+12>>2],A[h+16>>2]=A[m+16>>2],A[h+20>>2]=A[m+20>>2],A[h+24>>2]=A[m+24>>2],A[h+28>>2]=A[m+28>>2],A[h+32>>2]=A[m+32>>2],A[h+36>>2]=A[m+36>>2],A[h+40>>2]=A[m+40>>2],A[h+44>>2]=A[m+44>>2],A[h+48>>2]=A[m+48>>2],A[h+52>>2]=A[m+52>>2],A[h+56>>2]=A[m+56>>2],A[h+60>>2]=A[m+60>>2],h=h+64|0,m=m+64|0;for(;(h|0)<(v|0);)A[h>>2]=A[m>>2],h=h+4|0,m=m+4|0}else for(v=k-4|0;(h|0)<(v|0);)Ge[h>>0]=Ge[m>>0]|0,Ge[h+1>>0]=Ge[m+1>>0]|0,Ge[h+2>>0]=Ge[m+2>>0]|0,Ge[h+3>>0]=Ge[m+3>>0]|0,h=h+4|0,m=m+4|0;for(;(h|0)<(k|0);)Ge[h>>0]=Ge[m>>0]|0,h=h+1|0,m=m+1|0;return M|0}function ji(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,M=0,I=0;if(M=h+v|0,m=m&255,(v|0)>=67){for(;h&3;)Ge[h>>0]=m,h=h+1|0;for(_=M&-4|0,I=m|m<<8|m<<16|m<<24,k=_-64|0;(h|0)<=(k|0);)A[h>>2]=I,A[h+4>>2]=I,A[h+8>>2]=I,A[h+12>>2]=I,A[h+16>>2]=I,A[h+20>>2]=I,A[h+24>>2]=I,A[h+28>>2]=I,A[h+32>>2]=I,A[h+36>>2]=I,A[h+40>>2]=I,A[h+44>>2]=I,A[h+48>>2]=I,A[h+52>>2]=I,A[h+56>>2]=I,A[h+60>>2]=I,h=h+64|0;for(;(h|0)<(_|0);)A[h>>2]=I,h=h+4|0}for(;(h|0)<(M|0);)Ge[h>>0]=m,h=h+1|0;return M-v|0}function Np(h){return h=+h,h>=0?+$t(h+.5):+lr(h-.5)}function ta(h){h=h|0;var m=0,v=0,_=0;return _=Lc()|0,v=A[Ot>>2]|0,m=v+h|0,(h|0)>0&(m|0)<(v|0)|(m|0)<0?(Dc(m|0)|0,il(12),-1):(m|0)>(_|0)&&!(Qo(m|0)|0)?(il(12),-1):(A[Ot>>2]=m,v|0)}return{___uremdi3:Qt,_bitshift64Lshr:dt,_bitshift64Shl:Xt,_calloc:Bo,_cellAreaKm2:Vc,_cellAreaM2:Yu,_cellAreaRads2:Fl,_compact:Ju,_destroyLinkedPolygon:Bl,_edgeLengthKm:jc,_edgeLengthM:ul,_emscripten_replace_memory:ao,_exactEdgeLengthKm:Hc,_exactEdgeLengthM:Lf,_exactEdgeLengthRads:Hr,_experimentalH3ToLocalIj:Wc,_experimentalLocalIjToH3:pl,_free:Bn,_geoToH3:Rp,_getDestinationH3IndexFromUnidirectionalEdge:xt,_getH3IndexesFromUnidirectionalEdge:er,_getH3UnidirectionalEdge:nt,_getH3UnidirectionalEdgeBoundary:ti,_getH3UnidirectionalEdgesFromHexagon:Cr,_getOriginH3IndexFromUnidirectionalEdge:Tt,_getPentagonIndexes:pu,_getRes0Indexes:Wu,_h3Distance:$r,_h3GetBaseCell:qc,_h3GetFaces:Rf,_h3GetResolution:ko,_h3IndexesAreNeighbors:qs,_h3IsPentagon:Ui,_h3IsResClassIII:ec,_h3IsValid:uu,_h3Line:Po,_h3LineSize:nc,_h3SetToLinkedGeo:Mp,_h3ToCenterChild:Gc,_h3ToChildren:po,_h3ToGeo:cs,_h3ToGeoBoundary:Hs,_h3ToParent:cl,_h3UnidirectionalEdgeIsValid:Ht,_hexAreaKm2:Rl,_hexAreaM2:Dp,_hexRing:ss,_i64Subtract:Jo,_kRing:Wo,_kRingDistances:as,_llvm_minnum_f64:To,_llvm_round_f64:Ga,_malloc:Ti,_maxFaceCount:Fp,_maxH3ToChildrenSize:Df,_maxKringSize:Eo,_maxPolyfillSize:wi,_maxUncompactSize:fl,_memcpy:zo,_memset:ji,_numHexagons:Xu,_pentagonIndexCount:Qc,_pointDistKm:Zu,_pointDistM:ll,_pointDistRads:Lp,_polyfill:Ni,_res0IndexCount:Bc,_round:Np,_sbrk:ta,_sizeOfCoordIJ:sn,_sizeOfGeoBoundary:Qs,_sizeOfGeoCoord:Gs,_sizeOfGeoPolygon:Au,_sizeOfGeofence:Fo,_sizeOfH3Index:ja,_sizeOfLinkedGeoPolygon:Yo,_uncompact:cu,establishStackSpace:fa,stackAlloc:os,stackRestore:ai,stackSave:ca}}(ua,La,We);t.___uremdi3=Vt.___uremdi3,t._bitshift64Lshr=Vt._bitshift64Lshr,t._bitshift64Shl=Vt._bitshift64Shl,t._calloc=Vt._calloc,t._cellAreaKm2=Vt._cellAreaKm2,t._cellAreaM2=Vt._cellAreaM2,t._cellAreaRads2=Vt._cellAreaRads2,t._compact=Vt._compact,t._destroyLinkedPolygon=Vt._destroyLinkedPolygon,t._edgeLengthKm=Vt._edgeLengthKm,t._edgeLengthM=Vt._edgeLengthM;var Ei=t._emscripten_replace_memory=Vt._emscripten_replace_memory;t._exactEdgeLengthKm=Vt._exactEdgeLengthKm,t._exactEdgeLengthM=Vt._exactEdgeLengthM,t._exactEdgeLengthRads=Vt._exactEdgeLengthRads,t._experimentalH3ToLocalIj=Vt._experimentalH3ToLocalIj,t._experimentalLocalIjToH3=Vt._experimentalLocalIjToH3,t._free=Vt._free,t._geoToH3=Vt._geoToH3,t._getDestinationH3IndexFromUnidirectionalEdge=Vt._getDestinationH3IndexFromUnidirectionalEdge,t._getH3IndexesFromUnidirectionalEdge=Vt._getH3IndexesFromUnidirectionalEdge,t._getH3UnidirectionalEdge=Vt._getH3UnidirectionalEdge,t._getH3UnidirectionalEdgeBoundary=Vt._getH3UnidirectionalEdgeBoundary,t._getH3UnidirectionalEdgesFromHexagon=Vt._getH3UnidirectionalEdgesFromHexagon,t._getOriginH3IndexFromUnidirectionalEdge=Vt._getOriginH3IndexFromUnidirectionalEdge,t._getPentagonIndexes=Vt._getPentagonIndexes,t._getRes0Indexes=Vt._getRes0Indexes,t._h3Distance=Vt._h3Distance,t._h3GetBaseCell=Vt._h3GetBaseCell,t._h3GetFaces=Vt._h3GetFaces,t._h3GetResolution=Vt._h3GetResolution,t._h3IndexesAreNeighbors=Vt._h3IndexesAreNeighbors,t._h3IsPentagon=Vt._h3IsPentagon,t._h3IsResClassIII=Vt._h3IsResClassIII,t._h3IsValid=Vt._h3IsValid,t._h3Line=Vt._h3Line,t._h3LineSize=Vt._h3LineSize,t._h3SetToLinkedGeo=Vt._h3SetToLinkedGeo,t._h3ToCenterChild=Vt._h3ToCenterChild,t._h3ToChildren=Vt._h3ToChildren,t._h3ToGeo=Vt._h3ToGeo,t._h3ToGeoBoundary=Vt._h3ToGeoBoundary,t._h3ToParent=Vt._h3ToParent,t._h3UnidirectionalEdgeIsValid=Vt._h3UnidirectionalEdgeIsValid,t._hexAreaKm2=Vt._hexAreaKm2,t._hexAreaM2=Vt._hexAreaM2,t._hexRing=Vt._hexRing,t._i64Subtract=Vt._i64Subtract,t._kRing=Vt._kRing,t._kRingDistances=Vt._kRingDistances,t._llvm_minnum_f64=Vt._llvm_minnum_f64,t._llvm_round_f64=Vt._llvm_round_f64,t._malloc=Vt._malloc,t._maxFaceCount=Vt._maxFaceCount,t._maxH3ToChildrenSize=Vt._maxH3ToChildrenSize,t._maxKringSize=Vt._maxKringSize,t._maxPolyfillSize=Vt._maxPolyfillSize,t._maxUncompactSize=Vt._maxUncompactSize,t._memcpy=Vt._memcpy,t._memset=Vt._memset,t._numHexagons=Vt._numHexagons,t._pentagonIndexCount=Vt._pentagonIndexCount,t._pointDistKm=Vt._pointDistKm,t._pointDistM=Vt._pointDistM,t._pointDistRads=Vt._pointDistRads,t._polyfill=Vt._polyfill,t._res0IndexCount=Vt._res0IndexCount,t._round=Vt._round,t._sbrk=Vt._sbrk,t._sizeOfCoordIJ=Vt._sizeOfCoordIJ,t._sizeOfGeoBoundary=Vt._sizeOfGeoBoundary,t._sizeOfGeoCoord=Vt._sizeOfGeoCoord,t._sizeOfGeoPolygon=Vt._sizeOfGeoPolygon,t._sizeOfGeofence=Vt._sizeOfGeofence,t._sizeOfH3Index=Vt._sizeOfH3Index,t._sizeOfLinkedGeoPolygon=Vt._sizeOfLinkedGeoPolygon,t._uncompact=Vt._uncompact,t.establishStackSpace=Vt.establishStackSpace;var Nr=t.stackAlloc=Vt.stackAlloc,J=t.stackRestore=Vt.stackRestore,se=t.stackSave=Vt.stackSave;if(t.asm=Vt,t.cwrap=ee,t.setValue=$,t.getValue=q,t.getTempRet0=F,Wr){io(Wr)||(Wr=l(Wr));{bs();var pe=function(ae){ae.byteLength&&(ae=new Uint8Array(ae)),yt.set(ae,N),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,ro()},ye=function(){a(Wr,pe,function(){throw"could not load memory initializer "+Wr})},Te=Jr(Wr);if(Te)pe(Te.buffer);else if(t.memoryInitializerRequest){var Ue=function(){var ae=t.memoryInitializerRequest,je=ae.response;if(ae.status!==200&&ae.status!==0){var st=Jr(t.memoryInitializerRequestURL);if(st)je=st.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+ae.status+", retrying "+Wr),ye();return}}pe(je)};t.memoryInitializerRequest.response?setTimeout(Ue,0):t.memoryInitializerRequest.addEventListener("load",Ue)}else ye()}}var He;Wi=function ae(){He||Ne(),He||(Wi=ae)};function Ne(ae){if(Bi>0||(Cn(),Bi>0))return;function je(){He||(He=!0,!K&&($n(),Fn(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Xr()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),je()},1)):je()}t.run=Ne;function xe(ae){throw t.onAbort&&t.onAbort(ae),ae+="",x(ae),S(ae),K=!0,"abort("+ae+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=xe,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ne(),e}(typeof Du=="object"?Du:{}),Yn="number",Zm=Yn,Ar=Yn,Dr=Yn,wl=Yn,li=Yn,Iae=[["sizeOfH3Index",Yn],["sizeOfGeoCoord",Yn],["sizeOfGeoBoundary",Yn],["sizeOfGeoPolygon",Yn],["sizeOfGeofence",Yn],["sizeOfLinkedGeoPolygon",Yn],["sizeOfCoordIJ",Yn],["h3IsValid",Zm,[Ar,Dr]],["geoToH3",Ar,[Yn,Yn,wl]],["h3ToGeo",null,[Ar,Dr,li]],["h3ToGeoBoundary",null,[Ar,Dr,li]],["maxKringSize",Yn,[Yn]],["kRing",null,[Ar,Dr,Yn,li]],["kRingDistances",null,[Ar,Dr,Yn,li,li]],["hexRing",null,[Ar,Dr,Yn,li]],["maxPolyfillSize",Yn,[li,wl]],["polyfill",null,[li,wl,li]],["h3SetToLinkedGeo",null,[li,Yn,li]],["destroyLinkedPolygon",null,[li]],["compact",Yn,[li,li,Yn]],["uncompact",Yn,[li,Yn,li,Yn,wl]],["maxUncompactSize",Yn,[li,Yn,wl]],["h3IsPentagon",Zm,[Ar,Dr]],["h3IsResClassIII",Zm,[Ar,Dr]],["h3GetBaseCell",Yn,[Ar,Dr]],["h3GetResolution",Yn,[Ar,Dr]],["maxFaceCount",Yn,[Ar,Dr]],["h3GetFaces",null,[Ar,Dr,li]],["h3ToParent",Ar,[Ar,Dr,wl]],["h3ToChildren",null,[Ar,Dr,wl,li]],["h3ToCenterChild",Ar,[Ar,Dr,wl]],["maxH3ToChildrenSize",Yn,[Ar,Dr,wl]],["h3IndexesAreNeighbors",Zm,[Ar,Dr,Ar,Dr]],["getH3UnidirectionalEdge",Ar,[Ar,Dr,Ar,Dr]],["getOriginH3IndexFromUnidirectionalEdge",Ar,[Ar,Dr]],["getDestinationH3IndexFromUnidirectionalEdge",Ar,[Ar,Dr]],["h3UnidirectionalEdgeIsValid",Zm,[Ar,Dr]],["getH3IndexesFromUnidirectionalEdge",null,[Ar,Dr,li]],["getH3UnidirectionalEdgesFromHexagon",null,[Ar,Dr,li]],["getH3UnidirectionalEdgeBoundary",null,[Ar,Dr,li]],["h3Distance",Yn,[Ar,Dr,Ar,Dr]],["h3Line",Yn,[Ar,Dr,Ar,Dr,li]],["h3LineSize",Yn,[Ar,Dr,Ar,Dr]],["experimentalH3ToLocalIj",Yn,[Ar,Dr,Ar,Dr,li]],["experimentalLocalIjToH3",Yn,[Ar,Dr,li,li]],["hexAreaM2",Yn,[wl]],["hexAreaKm2",Yn,[wl]],["edgeLengthM",Yn,[wl]],["edgeLengthKm",Yn,[wl]],["pointDistM",Yn,[li,li]],["pointDistKm",Yn,[li,li]],["pointDistRads",Yn,[li,li]],["cellAreaM2",Yn,[Ar,Dr]],["cellAreaKm2",Yn,[Ar,Dr]],["cellAreaRads2",Yn,[Ar,Dr]],["exactEdgeLengthM",Yn,[Ar,Dr]],["exactEdgeLengthKm",Yn,[Ar,Dr]],["exactEdgeLengthRads",Yn,[Ar,Dr]],["numHexagons",Yn,[wl]],["getRes0Indexes",null,[li]],["res0IndexCount",Yn],["getPentagonIndexes",null,[Yn,li]],["pentagonIndexCount",Yn]],Pf={};Iae.forEach(function(t){Pf[t[0]]=Du.cwrap.apply(Du,t)});var f0=16,iy=8;Pf.sizeOfH3Index();var Mae=Pf.sizeOfGeoCoord(),Oae=Pf.sizeOfGeoBoundary();Pf.sizeOfGeoPolygon();Pf.sizeOfGeofence();Pf.sizeOfLinkedGeoPolygon();Pf.sizeOfCoordIJ();var Lae=/[^0-9a-fA-F]/;function Dae(e){if(Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if(typeof e!="string"||Lae.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),f0),n=parseInt(e.substring(e.length-8),f0);return[n,t]}function aP(e){if(e>=0)return e.toString(f0);e=e&2147483647;var t=nD(8,e.toString(f0)),n=(parseInt(t[0],f0)+8).toString(f0);return t=n+t.substring(1),t}function Rae(e,t){return aP(t)+nD(8,aP(e))}function nD(e,t){for(var n=e-t.length,i="",s=0;s<n;s++)i+="0";return i=i+t,i}function Fae(e){var t=Du.getTempRet0();return[e,t]}function Bae(e){var t=Fae(e),n=t[0],i=t[1];return i?Rae(n,i):null}function s2(e){return Hae(Du.getValue(e,"double"))}function zae(e){return[s2(e),s2(e+iy)]}function Nae(e){return[s2(e+iy),s2(e)]}function Uae(e,t,n){for(var i=Du.getValue(e,"i32"),s=e+iy,l=[],a=t?Nae:zae,x=0;x<i*2;x+=2)l.push(a(s+iy*x));return n&&l.push(l[0]),l}function $ae(e,t,n){var i=Du._malloc(Mae);Du.HEAPF64.set([e,t].map(Vae),i/iy);var s=Bae(Pf.geoToH3(i,n));return Du._free(i),s}function jae(e,t){var n=Du._malloc(Oae),i=Dae(e),s=i[0],l=i[1];Pf.h3ToGeoBoundary(s,l,n);var a=Uae(n,t,t);return Du._free(n),a}function Vae(e){return e*Math.PI/180}function Hae(e){return e*180/Math.PI}var l2={},qae={get exports(){return l2},set exports(e){l2=e}};(function(e,t){(function(n,i){e.exports=i()})(Iu,function(){var n,i,s;function l(a,x){if(!n)n=x;else if(!i)i=x;else{var S="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",P={};n(P),s=x(P),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return l(["exports"],function(a){function x(r,o){return r(o={exports:{}},o.exports),o.exports}var S=P;function P(r,o,u,g){this.cx=3*r,this.bx=3*(u-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(g-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=g,this.p2x=u,this.p2y=g}P.prototype.sampleCurveX=function(r){return((this.ax*r+this.bx)*r+this.cx)*r},P.prototype.sampleCurveY=function(r){return((this.ay*r+this.by)*r+this.cy)*r},P.prototype.sampleCurveDerivativeX=function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},P.prototype.solveCurveX=function(r,o){var u,g,b,C,T;for(o===void 0&&(o=1e-6),b=r,T=0;T<8;T++){if(C=this.sampleCurveX(b)-r,Math.abs(C)<o)return b;var B=this.sampleCurveDerivativeX(b);if(Math.abs(B)<1e-6)break;b-=C/B}if((b=r)<(u=0))return u;if(b>(g=1))return g;for(;u<g;){if(C=this.sampleCurveX(b),Math.abs(C-r)<o)return b;r>C?u=b:g=b,b=.5*(g-u)+u}return b},P.prototype.solve=function(r,o){return this.sampleCurveY(this.solveCurveX(r,o))};var L=F;function F(r,o){this.x=r,this.y=o}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,o){return this.clone()._rotateAround(r,o)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var o=r.x-this.x,u=r.y-this.y;return o*o+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,o){return Math.atan2(this.x*o-this.y*r,this.x*r+this.y*o)},_matMult:function(r){var o=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=o,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var o=Math.cos(r),u=Math.sin(r),g=u*this.x+o*this.y;return this.x=o*this.x-u*this.y,this.y=g,this},_rotateAround:function(r,o){var u=Math.cos(r),g=Math.sin(r),b=o.y+g*(this.x-o.x)+u*(this.y-o.y);return this.x=o.x+u*(this.x-o.x)-g*(this.y-o.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},F.convert=function(r){return r instanceof F?r:Array.isArray(r)?new F(r[0],r[1]):r};var N=typeof self<"u"?self:{},$=Math.pow(2,53)-1;function q(r,o,u,g){var b=new S(r,o,u,g);return function(C){return b.solve(C)}}var K=q(.25,.1,.25,1);function te(r,o,u){return Math.min(u,Math.max(o,r))}function V(r,o,u){var g=u-o,b=((r-o)%g+g)%g+o;return b===o?u:b}function X(r){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)r[T]=C[T]}return r}var ee=1;function ce(){return ee++}function _e(){return function r(o){return o?(o^16*Math.random()>>o/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function re(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function Se(r,o){r.forEach(function(u){o[u]&&(o[u]=o[u].bind(o))})}function Le(r,o){return r.indexOf(o,r.length-o.length)!==-1}function Ze(r,o,u){var g={};for(var b in r)g[b]=o.call(u||this,r[b],b,r);return g}function ot(r,o,u){var g={};for(var b in r)o.call(u||this,r[b],b,r)&&(g[b]=r[b]);return g}function We(r){return Array.isArray(r)?r.map(We):typeof r=="object"&&r?Ze(r,We):r}var ut={};function yt(r){ut[r]||(typeof console<"u"&&console.warn(r),ut[r]=!0)}function Bt(r,o,u){return(u.y-r.y)*(o.x-r.x)>(o.y-r.y)*(u.x-r.x)}function Yt(r){for(var o=0,u=0,g=r.length,b=g-1,C=void 0,T=void 0;u<g;b=u++)o+=((T=r[b]).x-(C=r[u]).x)*(C.y+T.y);return o}function pn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xn(r){var o={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,b,C,T){var B=C||T;return o[b]=!B||B.toLowerCase(),""}),o["max-age"]){var u=parseInt(o["max-age"],10);isNaN(u)?delete o["max-age"]:o["max-age"]=u}return o}var at=null;function Me(r){if(at==null){var o=r.navigator?r.navigator.userAgent:null;at=!!r.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return at}function Oe(r){try{var o=N[r];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}var oe,ge,Mt,un,wn=N.performance&&N.performance.now?N.performance.now.bind(N.performance):Date.now.bind(Date),dn=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame,Cn=N.cancelAnimationFrame||N.mozCancelAnimationFrame||N.webkitCancelAnimationFrame||N.msCancelAnimationFrame,$n={now:wn,frame:function(r){var o=dn(r);return{cancel:function(){return Cn(o)}}},getImageData:function(r,o){o===void 0&&(o=0);var u=N.document.createElement("canvas"),g=u.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return u.width=r.width,u.height=r.height,g.drawImage(r,0,0,r.width,r.height),g.getImageData(-o,-o,r.width+2*o,r.height+2*o)},resolveURL:function(r){return oe||(oe=N.document.createElement("a")),oe.href=r,oe.href},hardwareConcurrency:N.navigator&&N.navigator.hardwareConcurrency||4,get devicePixelRatio(){return N.devicePixelRatio},get prefersReducedMotion(){return!!N.matchMedia&&(ge==null&&(ge=N.matchMedia("(prefers-reduced-motion: reduce)")),ge.matches)}},Fn={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Xr={supported:!1,testSupport:function(r){!jr&&un&&(Fi?jn(r):Mt=r)}},jr=!1,Fi=!1;function jn(r){var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,un),r.isContextLost())return;Xr.supported=!0}catch{}r.deleteTexture(o),jr=!0}N.document&&((un=N.document.createElement("img")).onload=function(){Mt&&jn(Mt),Mt=null,Fi=!0},un.onerror=function(){jr=!0,Mt=null},un.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var mi="01",gi=function(r,o){this._transformRequestFn=r,this._customAccessToken=o,this._createSkuToken()};function Go(r){return r.indexOf("mapbox:")===0}gi.prototype._createSkuToken=function(){var r=function(){for(var o="",u=0;u<10;u++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",mi,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(r,o){return this._transformRequestFn&&this._transformRequestFn(r,o)||{url:r}},gi.prototype.normalizeStyleURL=function(r,o){if(!Go(r))return r;var u=ro(r);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeGlyphsURL=function(r,o){if(!Go(r))return r;var u=ro(r);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeSourceURL=function(r,o){if(!Go(r))return r;var u=ro(r);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeSpriteURL=function(r,o,u,g){var b=ro(r);return Go(r)?(b.path="/styles/v1"+b.path+"/sprite"+o+u,this._makeAPIURL(b,this._customAccessToken||g)):(b.path+=""+o+u,Wr(b))},gi.prototype.normalizeTileURL=function(r,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Go(r))return r;var u=ro(r);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,($n.devicePixelRatio>=2||o===512?"@2x":"")+(Xr.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var g=this._customAccessToken||function(b){for(var C=0,T=b;C<T.length;C+=1){var B=T[C].match(/^access_token=(.*)$/);if(B)return B[1]}return null}(u.params)||Fn.ACCESS_TOKEN;return Fn.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,g)},gi.prototype.canonicalizeTileURL=function(r,o){var u=ro(r);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return r;var g="mapbox://tiles/";g+=u.path.replace("/v4/","");var b=u.params;return o&&(b=b.filter(function(C){return!C.match(/^access_token=/)})),b.length&&(g+="?"+b.join("&")),g},gi.prototype.canonicalizeTileset=function(r,o){for(var u=!!o&&Go(o),g=[],b=0,C=r.tiles||[];b<C.length;b+=1){var T=C[b];Wi(T)?g.push(this.canonicalizeTileURL(T,u)):g.push(T)}return g},gi.prototype._makeAPIURL=function(r,o){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=ro(Fn.API_URL);if(r.protocol=g.protocol,r.authority=g.authority,r.protocol==="http"){var b=r.params.indexOf("secure");b>=0&&r.params.splice(b,1)}if(g.path!=="/"&&(r.path=""+g.path+r.path),!Fn.REQUIRE_ACCESS_TOKEN)return Wr(r);if(!(o=o||Fn.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if(o[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return r.params=r.params.filter(function(C){return C.indexOf("access_token")===-1}),r.params.push("access_token="+o),Wr(r)},gi.prototype.setTransformRequest=function(r){this._transformRequestFn=r};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wi(r){return Bi.test(r)}var bs=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ro(r){var o=r.match(bs);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function Wr(r){var o=r.params.length?"?"+r.params.join("&"):"";return r.protocol+"://"+r.authority+r.path+o}function Lo(r){if(!r)return null;var o=r.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(N.atob(o[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var io=function(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};io.prototype.getStorageKey=function(r){var o,u=Lo(Fn.ACCESS_TOKEN);return o=u&&u.u?N.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(g,b){return String.fromCharCode(+("0x"+b))})):Fn.ACCESS_TOKEN||"",r?"mapbox.eventData."+r+":"+o:"mapbox.eventData:"+o},io.prototype.fetchEventData=function(){var r=Oe("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{var g=N.localStorage.getItem(o);g&&(this.eventData=JSON.parse(g));var b=N.localStorage.getItem(u);b&&(this.anonId=b)}catch{yt("Unable to read from LocalStorage")}},io.prototype.saveEventData=function(){var r=Oe("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{N.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&N.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{yt("Unable to write to LocalStorage")}},io.prototype.processRequests=function(r){},io.prototype.postEvent=function(r,o,u,g){var b=this;if(Fn.EVENTS_URL){var C=ro(Fn.EVENTS_URL);C.params.push("access_token="+(g||Fn.ACCESS_TOKEN||""));var T={event:this.type,created:new Date(r).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.15.3",skuId:mi,userId:this.anonId},B=o?X(T,o):T,j={url:Wr(C),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=J(j,function(W){b.pendingRequest=null,u(W),b.saveEventData(),b.processRequests(g)})}},io.prototype.queueRequest=function(r,o){this.queue.push(r),this.processRequests(o)};var bi,Do,la=function(r){function o(){r.call(this,"map.load"),this.success={},this.skuToken=""}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.postMapLoadEvent=function(u,g,b,C){this.skuToken=b,(Fn.EVENTS_URL&&C||Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(T){return Go(T)||Wi(T)}))&&this.queueRequest({id:g,timestamp:Date.now()},C)},o.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var b=this.queue.shift(),C=b.id,T=b.timestamp;C&&this.success[C]||(this.anonId||this.fetchEventData(),re(this.anonId)||(this.anonId=_e()),this.postEvent(T,{skuToken:this.skuToken},function(B){B||C&&(g.success[C]=!0)},u))}},o}(io),vt=new(function(r){function o(u){r.call(this,"appUserTurnstile"),this._customAccessToken=u}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.postTurnstileEvent=function(u,g){Fn.EVENTS_URL&&Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(b){return Go(b)||Wi(b)})&&this.queueRequest(Date.now(),g)},o.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Lo(Fn.ACCESS_TOKEN),C=b?b.u:Fn.ACCESS_TOKEN,T=C!==this.eventData.tokenU;re(this.anonId)||(this.anonId=_e(),T=!0);var B=this.queue.shift();if(this.eventData.lastSuccess){var j=new Date(this.eventData.lastSuccess),W=new Date(B),Z=(B-this.eventData.lastSuccess)/864e5;T=T||Z>=1||Z<-1||j.getDate()!==W.getDate()}else T=!0;if(!T)return this.processRequests();this.postEvent(B,{"enabled.telemetry":!1},function(Y){Y||(g.eventData.lastSuccess=B,g.eventData.tokenU=C)},u)}},o}(io)),be=vt.postTurnstileEvent.bind(vt),Je=new la,Ct=Je.postMapLoadEvent.bind(Je),an=500,Gn=50;function Or(){N.caches&&!bi&&(bi=N.caches.open("mapbox-tiles"))}function On(r){var o=r.indexOf("?");return o<0?r:r.slice(0,o)}var nr,Vr=1/0;function Yr(){return nr==null&&(nr=N.OffscreenCanvas&&new N.OffscreenCanvas(1,1).getContext("2d")&&typeof N.createImageBitmap=="function"),nr}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var Co=function(r){function o(u,g,b){g===401&&Wi(b)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),r.call(this,u),this.status=g,this.url=b,this.name=this.constructor.name,this.message=u}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},o}(Error),Jr=pn()?function(){return self.worker&&self.worker.referrer}:function(){return(N.location.protocol==="blob:"?N.parent:N).location.href};function ua(r,o){var u,g=new N.AbortController,b=new N.Request(r.url,{method:r.method||"GET",body:r.body,credentials:r.credentials,headers:r.headers,referrer:Jr(),signal:g.signal}),C=!1,T=!1,B=(u=b.url).indexOf("sku=")>0&&Wi(u);r.type==="json"&&b.headers.set("Accept","application/json");var j=function(Z,Y,ue){if(!T){if(Z&&Z.message!=="SecurityError"&&yt(Z),Y&&ue)return W(Y);var he=Date.now();N.fetch(b).then(function(Ce){if(Ce.ok){var Ee=B?Ce.clone():null;return W(Ce,Ee,he)}return o(new Co(Ce.statusText,Ce.status,r.url))}).catch(function(Ce){Ce.code!==20&&o(new Error(Ce.message))})}},W=function(Z,Y,ue){(r.type==="arrayBuffer"?Z.arrayBuffer():r.type==="json"?Z.json():Z.text()).then(function(he){T||(Y&&ue&&function(Ce,Ee,Ve){if(Or(),bi){var Re={status:Ee.status,statusText:Ee.statusText,headers:new N.Headers};Ee.headers.forEach(function(rt,ft){return Re.headers.set(ft,rt)});var tt=xn(Ee.headers.get("Cache-Control")||"");tt["no-store"]||(tt["max-age"]&&Re.headers.set("Expires",new Date(Ve+1e3*tt["max-age"]).toUTCString()),new Date(Re.headers.get("Expires")).getTime()-Ve<42e4||function(rt,ft){if(Do===void 0)try{new Response(new ReadableStream),Do=!0}catch{Do=!1}Do?ft(rt.body):rt.blob().then(ft)}(Ee,function(rt){var ft=new N.Response(rt,Re);Or(),bi&&bi.then(function(pt){return pt.put(On(Ce.url),ft)}).catch(function(pt){return yt(pt.message)})}))}}(b,Y,ue),C=!0,o(null,he,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(function(he){T||o(new Error(he.message))})};return B?function(Z,Y){if(Or(),!bi)return Y(null);var ue=On(Z.url);bi.then(function(he){he.match(ue).then(function(Ce){var Ee=function(Ve){if(!Ve)return!1;var Re=new Date(Ve.headers.get("Expires")||0),tt=xn(Ve.headers.get("Cache-Control")||"");return Re>Date.now()&&!tt["no-cache"]}(Ce);he.delete(ue),Ee&&he.put(ue,Ce.clone()),Y(null,Ce,Ee)}).catch(Y)}).catch(Y)}(b,j):j(null,null),{cancel:function(){T=!0,C||g.abort()}}}var La,Vt,Ei=function(r,o){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){if(pn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,o);if(!pn()){var u=r.url.substring(0,r.url.indexOf("://"));return(Fn.REGISTERED_PROTOCOLS[u]||ua)(r,o)}}if(!(/^file:/.test(g=r.url)||/^file:/.test(Jr())&&!/^\w+:/.test(g))){if(N.fetch&&N.Request&&N.AbortController&&N.Request.prototype.hasOwnProperty("signal"))return ua(r,o);if(pn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,o,void 0,!0)}var g;return function(b,C){var T=new N.XMLHttpRequest;for(var B in T.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(T.responseType="arraybuffer"),b.headers)T.setRequestHeader(B,b.headers[B]);return b.type==="json"&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials=b.credentials==="include",T.onerror=function(){C(new Error(T.statusText))},T.onload=function(){if((T.status>=200&&T.status<300||T.status===0)&&T.response!==null){var j=T.response;if(b.type==="json")try{j=JSON.parse(T.response)}catch(W){return C(W)}C(null,j,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else C(new Co(T.statusText,T.status,b.url))},T.send(b.body),{cancel:function(){return T.abort()}}}(r,o)},Nr=function(r,o){return Ei(X(r,{type:"arrayBuffer"}),o)},J=function(r,o){return Ei(X(r,{method:"POST"}),o)},se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";La=[],Vt=0;var pe=function(r,o){if(Xr.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Vt>=Fn.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:r,callback:o,cancelled:!1,cancel:function(){this.cancelled=!0}};return La.push(u),u}Vt++;var g=!1,b=function(){if(!g)for(g=!0,Vt--;La.length&&Vt<Fn.MAX_PARALLEL_IMAGE_REQUESTS;){var T=La.shift();T.cancelled||(T.cancel=pe(T.requestParameters,T.callback).cancel)}},C=Nr(r,function(T,B,j,W){b(),T?o(T):B&&(Yr()?function(Z,Y){var ue=new N.Blob([new Uint8Array(Z)],{type:"image/png"});N.createImageBitmap(ue).then(function(he){Y(null,he)}).catch(function(he){Y(new Error("Could not load image because of "+he.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(B,o):function(Z,Y,ue,he){var Ce=new N.Image,Ee=N.URL;Ce.onload=function(){Y(null,Ce),Ee.revokeObjectURL(Ce.src),Ce.onload=null,N.requestAnimationFrame(function(){Ce.src=se})},Ce.onerror=function(){return Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ve=new N.Blob([new Uint8Array(Z)],{type:"image/png"});Ce.cacheControl=ue,Ce.expires=he,Ce.src=Z.byteLength?Ee.createObjectURL(Ve):se}(B,o,j,W))});return{cancel:function(){C.cancel(),b()}}};function ye(r,o,u){u[r]&&u[r].indexOf(o)!==-1||(u[r]=u[r]||[],u[r].push(o))}function Te(r,o,u){if(u&&u[r]){var g=u[r].indexOf(o);g!==-1&&u[r].splice(g,1)}}var Ue=function(r,o){o===void 0&&(o={}),X(this,o),this.type=r},He=function(r){function o(u,g){g===void 0&&(g={}),r.call(this,"error",X({error:u},g))}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o}(Ue),Ne=function(){};Ne.prototype.on=function(r,o){return this._listeners=this._listeners||{},ye(r,o,this._listeners),this},Ne.prototype.off=function(r,o){return Te(r,o,this._listeners),Te(r,o,this._oneTimeListeners),this},Ne.prototype.once=function(r,o){return this._oneTimeListeners=this._oneTimeListeners||{},ye(r,o,this._oneTimeListeners),this},Ne.prototype.fire=function(r,o){typeof r=="string"&&(r=new Ue(r,o||{}));var u=r.type;if(this.listens(u)){r.target=this;for(var g=0,b=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];g<b.length;g+=1)b[g].call(this,r);for(var C=0,T=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];C<T.length;C+=1){var B=T[C];Te(u,B,this._oneTimeListeners),B.call(this,r)}var j=this._eventedParent;j&&(X(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),j.fire(r))}else r instanceof He&&console.error(r.error);return this},Ne.prototype.listens=function(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)},Ne.prototype.setEventedParent=function(r,o){return this._eventedParent=r,this._eventedParentData=o,this};var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ae=function(r,o,u,g){this.message=(r?r+": ":"")+u,g&&(this.identifier=g),o!=null&&o.__line__&&(this.line=o.__line__)};function je(r){var o=r.value;return o?[new ae(r.key,o,"constants have been deprecated as of v8")]:[]}function st(r){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)r[T]=C[T]}return r}function Ge(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function A(r){if(Array.isArray(r))return r.map(A);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){var o={};for(var u in r)o[u]=A(r[u]);return o}return Ge(r)}var me=function(r){function o(u,g){r.call(this,g),this.message=g,this.key=u}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o}(Error),Ot=function(r,o){o===void 0&&(o=[]),this.parent=r,this.bindings={};for(var u=0,g=o;u<g.length;u+=1){var b=g[u];this.bindings[b[0]]=b[1]}};Ot.prototype.concat=function(r){return new Ot(this,r)},Ot.prototype.get=function(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(r+" not found in scope.")},Ot.prototype.has=function(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)};var $t={kind:"null"},ct={kind:"number"},It={kind:"string"},bt={kind:"boolean"},hn={kind:"color"},cn={kind:"object"},Gt={kind:"value"},dr={kind:"collator"},Jn={kind:"formatted"},Rr={kind:"resolvedImage"};function gr(r,o){return{kind:"array",itemType:r,N:o}}function lr(r){if(r.kind==="array"){var o=lr(r.itemType);return typeof r.N=="number"?"array<"+o+", "+r.N+">":r.itemType.kind==="value"?"array":"array<"+o+">"}return r.kind}var vr=[$t,ct,It,bt,hn,Jn,cn,gr(Gt),Rr];function hi(r,o){if(o.kind==="error")return null;if(r.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!hi(r.itemType,o.itemType))&&(typeof r.N!="number"||r.N===o.N))return null}else{if(r.kind===o.kind)return null;if(r.kind==="value"){for(var u=0,g=vr;u<g.length;u+=1)if(!hi(g[u],o))return null}}return"Expected "+lr(r)+" but found "+lr(o)+" instead."}function Sr(r,o){return o.some(function(u){return u.kind===r.kind})}function Zt(r,o){return o.some(function(u){return u==="null"?r===null:u==="array"?Array.isArray(r):u==="object"?r&&!Array.isArray(r)&&typeof r=="object":u===typeof r})}var qe=x(function(r,o){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(B){return(B=Math.round(B))<0?0:B>255?255:B}function b(B){return g(B[B.length-1]==="%"?parseFloat(B)/100*255:parseInt(B))}function C(B){return(j=B[B.length-1]==="%"?parseFloat(B)/100:parseFloat(B))<0?0:j>1?1:j;var j}function T(B,j,W){return W<0?W+=1:W>1&&(W-=1),6*W<1?B+(j-B)*W*6:2*W<1?j:3*W<2?B+(j-B)*(2/3-W)*6:B}try{o.parseCSSColor=function(B){var j,W=B.replace(/ /g,"").toLowerCase();if(W in u)return u[W].slice();if(W[0]==="#")return W.length===4?(j=parseInt(W.substr(1),16))>=0&&j<=4095?[(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1]:null:W.length===7&&(j=parseInt(W.substr(1),16))>=0&&j<=16777215?[(16711680&j)>>16,(65280&j)>>8,255&j,1]:null;var Z=W.indexOf("("),Y=W.indexOf(")");if(Z!==-1&&Y+1===W.length){var ue=W.substr(0,Z),he=W.substr(Z+1,Y-(Z+1)).split(","),Ce=1;switch(ue){case"rgba":if(he.length!==4)return null;Ce=C(he.pop());case"rgb":return he.length!==3?null:[b(he[0]),b(he[1]),b(he[2]),Ce];case"hsla":if(he.length!==4)return null;Ce=C(he.pop());case"hsl":if(he.length!==3)return null;var Ee=(parseFloat(he[0])%360+360)%360/360,Ve=C(he[1]),Re=C(he[2]),tt=Re<=.5?Re*(Ve+1):Re+Ve-Re*Ve,rt=2*Re-tt;return[g(255*T(rt,tt,Ee+1/3)),g(255*T(rt,tt,Ee)),g(255*T(rt,tt,Ee-1/3)),Ce];default:return null}}return null}}catch{}}).parseCSSColor,bn=function(r,o,u,g){g===void 0&&(g=1),this.r=r,this.g=o,this.b=u,this.a=g};bn.parse=function(r){if(r){if(r instanceof bn)return r;if(typeof r=="string"){var o=qe(r);if(o)return new bn(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3])}}},bn.prototype.toString=function(){var r=this.toArray(),o=r[1],u=r[2],g=r[3];return"rgba("+Math.round(r[0])+","+Math.round(o)+","+Math.round(u)+","+g+")"},bn.prototype.toArray=function(){var r=this.a;return r===0?[0,0,0,0]:[255*this.r/r,255*this.g/r,255*this.b/r,r]},bn.black=new bn(0,0,0,1),bn.white=new bn(1,1,1,1),bn.transparent=new bn(0,0,0,0),bn.red=new bn(1,0,0,1);var il=function(r,o,u){this.sensitivity=r?o?"variant":"case":o?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};il.prototype.compare=function(r,o){return this.collator.compare(r,o)},il.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Lc=function(r,o,u,g,b){this.text=r,this.image=o,this.scale=u,this.fontStack=g,this.textColor=b},oo=function(r){this.sections=r};oo.fromString=function(r){return new oo([new Lc(r,null,null,null,null)])},oo.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(r){return r.text.length!==0||r.image&&r.image.name.length!==0})},oo.factory=function(r){return r instanceof oo?r:oo.fromString(r)},oo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(r){return r.text}).join("")},oo.prototype.serialize=function(){for(var r=["format"],o=0,u=this.sections;o<u.length;o+=1){var g=u[o];if(g.image)r.push(["image",g.image.name]);else{r.push(g.text);var b={};g.fontStack&&(b["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(b["font-scale"]=g.scale),g.textColor&&(b["text-color"]=["rgba"].concat(g.textColor.toArray())),r.push(b)}}return r};var Qo=function(r){this.name=r.name,this.available=r.available};function Dc(r,o,u,g){return typeof r=="number"&&r>=0&&r<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof u=="number"&&u>=0&&u<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[r,o,u,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[r,o,u,g]:[r,o,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function De(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof bn||r instanceof il||r instanceof oo||r instanceof Qo)return!0;if(Array.isArray(r)){for(var o=0,u=r;o<u.length;o+=1)if(!De(u[o]))return!1;return!0}if(typeof r=="object"){for(var g in r)if(!De(r[g]))return!1;return!0}return!1}function ao(r){if(r===null)return $t;if(typeof r=="string")return It;if(typeof r=="boolean")return bt;if(typeof r=="number")return ct;if(r instanceof bn)return hn;if(r instanceof il)return dr;if(r instanceof oo)return Jn;if(r instanceof Qo)return Rr;if(Array.isArray(r)){for(var o,u=r.length,g=0,b=r;g<b.length;g+=1){var C=ao(b[g]);if(o){if(o===C)continue;o=Gt;break}o=C}return gr(o||Gt,u)}return cn}function os(r){var o=typeof r;return r===null?"":o==="string"||o==="number"||o==="boolean"?String(r):r instanceof bn||r instanceof oo||r instanceof Qo?r.toString():JSON.stringify(r)}Qo.prototype.toString=function(){return this.name},Qo.fromString=function(r){return r?new Qo({name:r,available:!1}):null},Qo.prototype.serialize=function(){return["image",this.name]};var ca=function(r,o){this.type=r,this.value=o};ca.parse=function(r,o){if(r.length!==2)return o.error("'literal' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(!De(r[1]))return o.error("invalid value");var u=r[1],g=ao(u),b=o.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new ca(g,u)},ca.prototype.evaluate=function(){return this.value},ca.prototype.eachChild=function(){},ca.prototype.outputDefined=function(){return!0},ca.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof bn?["rgba"].concat(this.value.toArray()):this.value instanceof oo?this.value.serialize():this.value};var ai=function(r){this.name="ExpressionEvaluationError",this.message=r};ai.prototype.toJSON=function(){return this.message};var fa={string:It,number:ct,boolean:bt,object:cn},Eo=function(r,o){this.type=r,this.args=o};Eo.parse=function(r,o){if(r.length<2)return o.error("Expected at least one argument.");var u,g=1,b=r[0];if(b==="array"){var C,T;if(r.length>2){var B=r[1];if(typeof B!="string"||!(B in fa)||B==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);C=fa[B],g++}else C=Gt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return o.error('The length argument to "array" must be a positive integer literal',2);T=r[2],g++}u=gr(C,T)}else u=fa[b];for(var j=[];g<r.length;g++){var W=o.parse(r[g],g,Gt);if(!W)return null;j.push(W)}return new Eo(u,j)},Eo.prototype.evaluate=function(r){for(var o=0;o<this.args.length;o++){var u=this.args[o].evaluate(r);if(!hi(this.type,ao(u)))return u;if(o===this.args.length-1)throw new ai("Expected value to be of type "+lr(this.type)+", but found "+lr(ao(u))+" instead.")}return null},Eo.prototype.eachChild=function(r){this.args.forEach(r)},Eo.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},Eo.prototype.serialize=function(){var r=this.type,o=[r.kind];if(r.kind==="array"){var u=r.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){o.push(u.kind);var g=r.N;(typeof g=="number"||this.args.length>1)&&o.push(g)}}return o.concat(this.args.map(function(b){return b.serialize()}))};var Wo=function(r){this.type=Jn,this.sections=r};Wo.parse=function(r,o){if(r.length<2)return o.error("Expected at least one argument.");var u=r[1];if(!Array.isArray(u)&&typeof u=="object")return o.error("First argument must be an image or text section.");for(var g=[],b=!1,C=1;C<=r.length-1;++C){var T=r[C];if(b&&typeof T=="object"&&!Array.isArray(T)){b=!1;var B=null;if(T["font-scale"]&&!(B=o.parse(T["font-scale"],1,ct)))return null;var j=null;if(T["text-font"]&&!(j=o.parse(T["text-font"],1,gr(It))))return null;var W=null;if(T["text-color"]&&!(W=o.parse(T["text-color"],1,hn)))return null;var Z=g[g.length-1];Z.scale=B,Z.font=j,Z.textColor=W}else{var Y=o.parse(r[C],1,Gt);if(!Y)return null;var ue=Y.type.kind;if(ue!=="string"&&ue!=="value"&&ue!=="null"&&ue!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:Y,scale:null,font:null,textColor:null})}}return new Wo(g)},Wo.prototype.evaluate=function(r){return new oo(this.sections.map(function(o){var u=o.content.evaluate(r);return ao(u)===Rr?new Lc("",u,null,null,null):new Lc(os(u),null,o.scale?o.scale.evaluate(r):null,o.font?o.font.evaluate(r).join(","):null,o.textColor?o.textColor.evaluate(r):null)}))},Wo.prototype.eachChild=function(r){for(var o=0,u=this.sections;o<u.length;o+=1){var g=u[o];r(g.content),g.scale&&r(g.scale),g.font&&r(g.font),g.textColor&&r(g.textColor)}},Wo.prototype.outputDefined=function(){return!1},Wo.prototype.serialize=function(){for(var r=["format"],o=0,u=this.sections;o<u.length;o+=1){var g=u[o];r.push(g.content.serialize());var b={};g.scale&&(b["font-scale"]=g.scale.serialize()),g.font&&(b["text-font"]=g.font.serialize()),g.textColor&&(b["text-color"]=g.textColor.serialize()),r.push(b)}return r};var as=function(r){this.type=Rr,this.input=r};as.parse=function(r,o){if(r.length!==2)return o.error("Expected two arguments.");var u=o.parse(r[1],1,It);return u?new as(u):o.error("No image name provided.")},as.prototype.evaluate=function(r){var o=this.input.evaluate(r),u=Qo.fromString(o);return u&&r.availableImages&&(u.available=r.availableImages.indexOf(o)>-1),u},as.prototype.eachChild=function(r){r(this.input)},as.prototype.outputDefined=function(){return!1},as.prototype.serialize=function(){return["image",this.input.serialize()]};var Tf={"to-boolean":bt,"to-color":hn,"to-number":ct,"to-string":It},zi=function(r,o){this.type=r,this.args=o};zi.parse=function(r,o){if(r.length<2)return o.error("Expected at least one argument.");var u=r[0];if((u==="to-boolean"||u==="to-string")&&r.length!==2)return o.error("Expected one argument.");for(var g=Tf[u],b=[],C=1;C<r.length;C++){var T=o.parse(r[C],C,Gt);if(!T)return null;b.push(T)}return new zi(g,b)},zi.prototype.evaluate=function(r){if(this.type.kind==="boolean")return!!this.args[0].evaluate(r);if(this.type.kind==="color"){for(var o,u,g=0,b=this.args;g<b.length;g+=1){if(u=null,(o=b[g].evaluate(r))instanceof bn)return o;if(typeof o=="string"){var C=r.parseColor(o);if(C)return C}else if(Array.isArray(o)&&!(u=o.length<3||o.length>4?"Invalid rbga value "+JSON.stringify(o)+": expected an array containing either three or four numeric values.":Dc(o[0],o[1],o[2],o[3])))return new bn(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new ai(u||"Could not parse color from value '"+(typeof o=="string"?o:String(JSON.stringify(o)))+"'")}if(this.type.kind==="number"){for(var T=null,B=0,j=this.args;B<j.length;B+=1){if((T=j[B].evaluate(r))===null)return 0;var W=Number(T);if(!isNaN(W))return W}throw new ai("Could not convert "+JSON.stringify(T)+" to number.")}return this.type.kind==="formatted"?oo.fromString(os(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?Qo.fromString(os(this.args[0].evaluate(r))):os(this.args[0].evaluate(r))},zi.prototype.eachChild=function(r){this.args.forEach(r)},zi.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},zi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Wo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new as(this.args[0]).serialize();var r=["to-"+this.type.kind];return this.eachChild(function(o){r.push(o.serialize())}),r};var ki=["Unknown","Point","LineString","Polygon"],ss=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ss.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ss.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ki[this.feature.type]:this.feature.type:null},ss.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ss.prototype.canonicalID=function(){return this.canonical},ss.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ss.prototype.parseColor=function(r){var o=this._parseColorCache[r];return o||(o=this._parseColorCache[r]=bn.parse(r)),o};var wi=function(r,o,u,g){this.name=r,this.type=o,this._evaluate=u,this.args=g};wi.prototype.evaluate=function(r){return this._evaluate(r,this.args)},wi.prototype.eachChild=function(r){this.args.forEach(r)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(r){return r.serialize()}))},wi.parse=function(r,o){var u,g=r[0],b=wi.definitions[g];if(!b)return o.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var C=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,B=T.filter(function(En){var nn=En[0];return!Array.isArray(nn)||nn.length===r.length-1}),j=null,W=0,Z=B;W<Z.length;W+=1){var Y=Z[W],ue=Y[0],he=Y[1];j=new Ur(o.registry,o.path,null,o.scope);for(var Ce=[],Ee=!1,Ve=1;Ve<r.length;Ve++){var Re=r[Ve],tt=Array.isArray(ue)?ue[Ve-1]:ue.type,rt=j.parse(Re,1+Ce.length,tt);if(!rt){Ee=!0;break}Ce.push(rt)}if(!Ee)if(Array.isArray(ue)&&ue.length!==Ce.length)j.error("Expected "+ue.length+" arguments, but found "+Ce.length+" instead.");else{for(var ft=0;ft<Ce.length;ft++){var pt=Array.isArray(ue)?ue[ft]:ue.type,kt=Ce[ft];j.concat(ft+1).checkSubtype(pt,kt.type)}if(j.errors.length===0)return new wi(g,C,he,Ce)}}if(B.length===1)(u=o.errors).push.apply(u,j.errors);else{for(var Ut=(B.length?B:T).map(function(En){var nn;return nn=En[0],Array.isArray(nn)?"("+nn.map(lr).join(", ")+")":"("+lr(nn.type)+"...)"}).join(" | "),Kt=[],gn=1;gn<r.length;gn++){var en=o.parse(r[gn],1+Kt.length);if(!en)return null;Kt.push(lr(en.type))}o.error("Expected arguments of type "+Ut+", but found ("+Kt.join(", ")+") instead.")}return null},wi.register=function(r,o){for(var u in wi.definitions=o,o)r[u]=wi};var Ni=function(r,o,u){this.type=dr,this.locale=u,this.caseSensitive=r,this.diacriticSensitive=o};function Ml(r,o){r[0]=Math.min(r[0],o[0]),r[1]=Math.min(r[1],o[1]),r[2]=Math.max(r[2],o[0]),r[3]=Math.max(r[3],o[1])}function qu(r,o){return!(r[0]<=o[0]||r[2]>=o[2]||r[1]<=o[1]||r[3]>=o[3])}function Ip(r,o){var u=(180+r[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,b=Math.pow(2,o.z);return[Math.round(u*b*8192),Math.round(g*b*8192)]}function Mp(r,o,u){return o[1]>r[1]!=u[1]>r[1]&&r[0]<(u[0]-o[0])*(r[1]-o[1])/(u[1]-o[1])+o[0]}function ui(r,o){for(var u,g,b,C,T,B,j,W=!1,Z=0,Y=o.length;Z<Y;Z++)for(var ue=o[Z],he=0,Ce=ue.length;he<Ce-1;he++){if((C=(u=r)[0]-(g=ue[he])[0])*(j=u[1]-(b=ue[he+1])[1])-(B=u[0]-b[0])*(T=u[1]-g[1])==0&&C*B<=0&&T*j<=0)return!1;Mp(r,ue[he],ue[he+1])&&(W=!W)}return W}function Rc(r,o){for(var u=0;u<o.length;u++)if(ui(r,o[u]))return!0;return!1}function If(r,o,u,g){var b=g[0]-u[0],C=g[1]-u[1],T=(r[0]-u[0])*C-b*(r[1]-u[1]),B=(o[0]-u[0])*C-b*(o[1]-u[1]);return T>0&&B<0||T<0&&B>0}function Wh(r,o,u){for(var g=0,b=u;g<b.length;g+=1)for(var C=b[g],T=0;T<C.length-1;++T)if((Y=[(Z=C[T+1])[0]-(W=C[T])[0],Z[1]-W[1]])[0]*(ue=[(j=o)[0]-(B=r)[0],j[1]-B[1]])[1]-Y[1]*ue[0]!=0&&If(B,j,W,Z)&&If(W,Z,B,j))return!0;var B,j,W,Z,Y,ue;return!1}function Mf(r,o){for(var u=0;u<r.length;++u)if(!ui(r[u],o))return!1;for(var g=0;g<r.length-1;++g)if(Wh(r[g],r[g+1],o))return!1;return!0}function Gu(r,o){for(var u=0;u<o.length;u++)if(Mf(r,o[u]))return!0;return!1}function Qu(r,o,u){for(var g=[],b=0;b<r.length;b++){for(var C=[],T=0;T<r[b].length;T++){var B=Ip(r[b][T],u);Ml(o,B),C.push(B)}g.push(C)}return g}function Ol(r,o,u){for(var g=[],b=0;b<r.length;b++){var C=Qu(r[b],o,u);g.push(C)}return g}function Fc(r,o,u,g){if(r[0]<u[0]||r[0]>u[2]){var b=.5*g,C=r[0]-u[0]>b?-g:u[0]-r[0]>b?g:0;C===0&&(C=r[0]-u[2]>b?-g:u[2]-r[0]>b?g:0),r[0]+=C}Ml(o,r)}function Bc(r,o,u,g){for(var b=8192*Math.pow(2,g.z),C=[8192*g.x,8192*g.y],T=[],B=0,j=r;B<j.length;B+=1)for(var W=0,Z=j[B];W<Z.length;W+=1){var Y=Z[W],ue=[Y.x+C[0],Y.y+C[1]];Fc(ue,o,u,b),T.push(ue)}return T}function Wu(r,o,u,g){for(var b,C=8192*Math.pow(2,g.z),T=[8192*g.x,8192*g.y],B=[],j=0,W=r;j<W.length;j+=1){for(var Z=[],Y=0,ue=W[j];Y<ue.length;Y+=1){var he=ue[Y],Ce=[he.x+T[0],he.y+T[1]];Ml(o,Ce),Z.push(Ce)}B.push(Z)}if(o[2]-o[0]<=C/2){(b=o)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var Ee=0,Ve=B;Ee<Ve.length;Ee+=1)for(var Re=0,tt=Ve[Ee];Re<tt.length;Re+=1)Fc(tt[Re],o,u,C)}return B}Ni.parse=function(r,o){if(r.length!==2)return o.error("Expected one argument.");var u=r[1];if(typeof u!="object"||Array.isArray(u))return o.error("Collator options argument must be an object.");var g=o.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,bt);if(!g)return null;var b=o.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,bt);if(!b)return null;var C=null;return u.locale&&!(C=o.parse(u.locale,1,It))?null:new Ni(g,b,C)},Ni.prototype.evaluate=function(r){return new il(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)},Ni.prototype.eachChild=function(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]};var Ko=function(r,o){this.type=bt,this.geojson=r,this.geometries=o};function ol(r){if(r instanceof wi&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ko)return!1;var o=!0;return r.eachChild(function(u){o&&!ol(u)&&(o=!1)}),o}function ws(r){if(r instanceof wi&&r.name==="feature-state")return!1;var o=!0;return r.eachChild(function(u){o&&!ws(u)&&(o=!1)}),o}function zc(r,o){if(r instanceof wi&&o.indexOf(r.name)>=0)return!1;var u=!0;return r.eachChild(function(g){u&&!zc(g,o)&&(u=!1)}),u}Ko.parse=function(r,o){if(r.length!==2)return o.error("'within' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(De(r[1])){var u=r[1];if(u.type==="FeatureCollection")for(var g=0;g<u.features.length;++g){var b=u.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Ko(u,u.features[g].geometry)}else if(u.type==="Feature"){var C=u.geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new Ko(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Ko(u,u)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ko.prototype.evaluate=function(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(o,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(u.type==="Polygon"){var T=Qu(u.coordinates,b,C),B=Bc(o.geometry(),g,b,C);if(!qu(g,b))return!1;for(var j=0,W=B;j<W.length;j+=1)if(!ui(W[j],T))return!1}if(u.type==="MultiPolygon"){var Z=Ol(u.coordinates,b,C),Y=Bc(o.geometry(),g,b,C);if(!qu(g,b))return!1;for(var ue=0,he=Y;ue<he.length;ue+=1)if(!Rc(he[ue],Z))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(o,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(u.type==="Polygon"){var T=Qu(u.coordinates,b,C),B=Wu(o.geometry(),g,b,C);if(!qu(g,b))return!1;for(var j=0,W=B;j<W.length;j+=1)if(!Mf(W[j],T))return!1}if(u.type==="MultiPolygon"){var Z=Ol(u.coordinates,b,C),Y=Wu(o.geometry(),g,b,C);if(!qu(g,b))return!1;for(var ue=0,he=Y;ue<he.length;ue+=1)if(!Gu(he[ue],Z))return!1}return!0}(r,this.geometries)}return!1},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return["within",this.geojson]};var al=function(r,o){this.type=o.type,this.name=r,this.boundExpression=o};al.parse=function(r,o){if(r.length!==2||typeof r[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");var u=r[1];return o.scope.has(u)?new al(u,o.scope.get(u)):o.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},al.prototype.evaluate=function(r){return this.boundExpression.evaluate(r)},al.prototype.eachChild=function(){},al.prototype.outputDefined=function(){return!1},al.prototype.serialize=function(){return["var",this.name]};var Ur=function(r,o,u,g,b){o===void 0&&(o=[]),g===void 0&&(g=new Ot),b===void 0&&(b=[]),this.registry=r,this.path=o,this.key=o.map(function(C){return"["+C+"]"}).join(""),this.scope=g,this.errors=b,this.expectedType=u};function Qn(r,o){for(var u,g=r.length-1,b=0,C=g,T=0;b<=C;)if((u=r[T=Math.floor((b+C)/2)])<=o){if(T===g||o<r[T+1])return T;b=T+1}else{if(!(u>o))throw new ai("Input is not a number.");C=T-1}return 0}Ur.prototype.parse=function(r,o,u,g,b){return b===void 0&&(b={}),o?this.concat(o,u,g)._parse(r,b):this._parse(r,b)},Ur.prototype._parse=function(r,o){function u(W,Z,Y){return Y==="assert"?new Eo(Z,[W]):Y==="coerce"?new zi(Z,[W]):W}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=r[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[g];if(b){var C=b.parse(r,this);if(!C)return null;if(this.expectedType){var T=this.expectedType,B=C.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||B.kind!=="value")if(T.kind!=="color"&&T.kind!=="formatted"&&T.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string"){if(this.checkSubtype(T,B))return null}else C=u(C,T,o.typeAnnotation||"coerce");else C=u(C,T,o.typeAnnotation||"assert")}if(!(C instanceof ca)&&C.type.kind!=="resolvedImage"&&function W(Z){if(Z instanceof al)return W(Z.boundExpression);if(Z instanceof wi&&Z.name==="error"||Z instanceof Ni||Z instanceof Ko)return!1;var Y=Z instanceof zi||Z instanceof Eo,ue=!0;return Z.eachChild(function(he){ue=Y?ue&&W(he):ue&&he instanceof ca}),!!ue&&ol(Z)&&zc(Z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(C)){var j=new ss;try{C=new ca(C.type,C.evaluate(j))}catch(W){return this.error(W.message),null}}return C}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof r+" instead.")},Ur.prototype.concat=function(r,o,u){var g=typeof r=="number"?this.path.concat(r):this.path,b=u?this.scope.concat(u):this.scope;return new Ur(this.registry,g,o||null,b,this.errors)},Ur.prototype.error=function(r){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];var g=""+this.key+o.map(function(b){return"["+b+"]"}).join("");this.errors.push(new me(g,r))},Ur.prototype.checkSubtype=function(r,o){var u=hi(r,o);return u&&this.error(u),u};var Ro=function(r,o,u){this.type=r,this.input=o,this.labels=[],this.outputs=[];for(var g=0,b=u;g<b.length;g+=1){var C=b[g],T=C[1];this.labels.push(C[0]),this.outputs.push(T)}};function Tr(r,o,u){return r*(1-u)+o*u}Ro.parse=function(r,o){if(r.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return o.error("Expected an even number of arguments.");var u=o.parse(r[1],1,ct);if(!u)return null;var g=[],b=null;o.expectedType&&o.expectedType.kind!=="value"&&(b=o.expectedType);for(var C=1;C<r.length;C+=2){var T=C===1?-1/0:r[C],B=r[C+1],j=C,W=C+1;if(typeof T!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(g.length&&g[g.length-1][0]>=T)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);var Z=o.parse(B,W,b);if(!Z)return null;b=b||Z.type,g.push([T,Z])}return new Ro(b,u,g)},Ro.prototype.evaluate=function(r){var o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=o[0])return u[0].evaluate(r);var b=o.length;return g>=o[b-1]?u[b-1].evaluate(r):u[Qn(o,g)].evaluate(r)},Ro.prototype.eachChild=function(r){r(this.input);for(var o=0,u=this.outputs;o<u.length;o+=1)r(u[o])},Ro.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Ro.prototype.serialize=function(){for(var r=["step",this.input.serialize()],o=0;o<this.labels.length;o++)o>0&&r.push(this.labels[o]),r.push(this.outputs[o].serialize());return r};var nu=Object.freeze({__proto__:null,number:Tr,color:function(r,o,u){return new bn(Tr(r.r,o.r,u),Tr(r.g,o.g,u),Tr(r.b,o.b,u),Tr(r.a,o.a,u))},array:function(r,o,u){return r.map(function(g,b){return Tr(g,o[b],u)})}}),Of=6/29*3*(6/29),Nc=Math.PI/180,Op=180/Math.PI;function ru(r){return r>.008856451679035631?Math.pow(r,1/3):r/Of+4/29}function iu(r){return r>6/29?r*r*r:Of*(r-4/29)}function yi(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function ou(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function zs(r){var o=ou(r.r),u=ou(r.g),g=ou(r.b),b=ru((.4124564*o+.3575761*u+.1804375*g)/.95047),C=ru((.2126729*o+.7151522*u+.072175*g)/1);return{l:116*C-16,a:500*(b-C),b:200*(C-ru((.0193339*o+.119192*u+.9503041*g)/1.08883)),alpha:r.a}}function au(r){var o=(r.l+16)/116,u=isNaN(r.a)?o:o+r.a/500,g=isNaN(r.b)?o:o-r.b/200;return o=1*iu(o),u=.95047*iu(u),g=1.08883*iu(g),new bn(yi(3.2404542*u-1.5371385*o-.4985314*g),yi(-.969266*u+1.8760108*o+.041556*g),yi(.0556434*u-.2040259*o+1.0572252*g),r.alpha)}function Ns(r,o,u){var g=o-r;return r+u*(g>180||g<-180?g-360*Math.round(g/360):g)}var Pi={forward:zs,reverse:au,interpolate:function(r,o,u){return{l:Tr(r.l,o.l,u),a:Tr(r.a,o.a,u),b:Tr(r.b,o.b,u),alpha:Tr(r.alpha,o.alpha,u)}}},Ll={forward:function(r){var o=zs(r),u=o.l,g=o.a,b=o.b,C=Math.atan2(b,g)*Op;return{h:C<0?C+360:C,c:Math.sqrt(g*g+b*b),l:u,alpha:r.a}},reverse:function(r){var o=r.h*Nc,u=r.c;return au({l:r.l,a:Math.cos(o)*u,b:Math.sin(o)*u,alpha:r.alpha})},interpolate:function(r,o,u){return{h:Ns(r.h,o.h,u),c:Tr(r.c,o.c,u),l:Tr(r.l,o.l,u),alpha:Tr(r.alpha,o.alpha,u)}}},Uc=Object.freeze({__proto__:null,lab:Pi,hcl:Ll}),Ki=function(r,o,u,g,b){this.type=r,this.operator=o,this.interpolation=u,this.input=g,this.labels=[],this.outputs=[];for(var C=0,T=b;C<T.length;C+=1){var B=T[C],j=B[1];this.labels.push(B[0]),this.outputs.push(j)}};function $c(r,o,u,g){var b=g-u,C=r-u;return b===0?0:o===1?C/b:(Math.pow(o,C)-1)/(Math.pow(o,b)-1)}Ki.interpolationFactor=function(r,o,u,g){var b=0;if(r.name==="exponential")b=$c(o,r.base,u,g);else if(r.name==="linear")b=$c(o,1,u,g);else if(r.name==="cubic-bezier"){var C=r.controlPoints;b=new S(C[0],C[1],C[2],C[3]).solve($c(o,1,u,g))}return b},Ki.parse=function(r,o){var u=r[0],g=r[1],b=r[2],C=r.slice(3);if(!Array.isArray(g)||g.length===0)return o.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var T=g[1];if(typeof T!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:T}}else{if(g[0]!=="cubic-bezier")return o.error("Unknown interpolation type "+String(g[0]),1,0);var B=g.slice(1);if(B.length!==4||B.some(function(Ve){return typeof Ve!="number"||Ve<0||Ve>1}))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:B}}if(r.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(!(b=o.parse(b,2,ct)))return null;var j=[],W=null;u==="interpolate-hcl"||u==="interpolate-lab"?W=hn:o.expectedType&&o.expectedType.kind!=="value"&&(W=o.expectedType);for(var Z=0;Z<C.length;Z+=2){var Y=C[Z],ue=C[Z+1],he=Z+3,Ce=Z+4;if(typeof Y!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',he);if(j.length&&j[j.length-1][0]>=Y)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',he);var Ee=o.parse(ue,Ce,W);if(!Ee)return null;W=W||Ee.type,j.push([Y,Ee])}return W.kind==="number"||W.kind==="color"||W.kind==="array"&&W.itemType.kind==="number"&&typeof W.N=="number"?new Ki(W,u,g,b,j):o.error("Type "+lr(W)+" is not interpolatable.")},Ki.prototype.evaluate=function(r){var o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=o[0])return u[0].evaluate(r);var b=o.length;if(g>=o[b-1])return u[b-1].evaluate(r);var C=Qn(o,g),T=Ki.interpolationFactor(this.interpolation,g,o[C],o[C+1]),B=u[C].evaluate(r),j=u[C+1].evaluate(r);return this.operator==="interpolate"?nu[this.type.kind.toLowerCase()](B,j,T):this.operator==="interpolate-hcl"?Ll.reverse(Ll.interpolate(Ll.forward(B),Ll.forward(j),T)):Pi.reverse(Pi.interpolate(Pi.forward(B),Pi.forward(j),T))},Ki.prototype.eachChild=function(r){r(this.input);for(var o=0,u=this.outputs;o<u.length;o+=1)r(u[o])},Ki.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Ki.prototype.serialize=function(){var r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var o=[this.operator,r,this.input.serialize()],u=0;u<this.labels.length;u++)o.push(this.labels[u],this.outputs[u].serialize());return o};var Us=function(r,o){this.type=r,this.args=o};Us.parse=function(r,o){if(r.length<2)return o.error("Expectected at least one argument.");var u=null,g=o.expectedType;g&&g.kind!=="value"&&(u=g);for(var b=[],C=0,T=r.slice(1);C<T.length;C+=1){var B=o.parse(T[C],1+b.length,u,void 0,{typeAnnotation:"omit"});if(!B)return null;u=u||B.type,b.push(B)}var j=g&&b.some(function(W){return hi(g,W.type)});return new Us(j?Gt:u,b)},Us.prototype.evaluate=function(r){for(var o,u=null,g=0,b=0,C=this.args;b<C.length&&(g++,(u=C[b].evaluate(r))&&u instanceof Qo&&!u.available&&(o||(o=u.name),u=null,g===this.args.length&&(u=o)),u===null);b+=1);return u},Us.prototype.eachChild=function(r){this.args.forEach(r)},Us.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},Us.prototype.serialize=function(){var r=["coalesce"];return this.eachChild(function(o){r.push(o.serialize())}),r};var Ss=function(r,o){this.type=o.type,this.bindings=[].concat(r),this.result=o};Ss.prototype.evaluate=function(r){return this.result.evaluate(r)},Ss.prototype.eachChild=function(r){for(var o=0,u=this.bindings;o<u.length;o+=1)r(u[o][1]);r(this.result)},Ss.parse=function(r,o){if(r.length<4)return o.error("Expected at least 3 arguments, but found "+(r.length-1)+" instead.");for(var u=[],g=1;g<r.length-1;g+=2){var b=r[g];if(typeof b!="string")return o.error("Expected string, but found "+typeof b+" instead.",g);if(/[^a-zA-Z0-9_]/.test(b))return o.error("Variable names must contain only alphanumeric characters or '_'.",g);var C=o.parse(r[g+1],g+1);if(!C)return null;u.push([b,C])}var T=o.parse(r[r.length-1],r.length-1,o.expectedType,u);return T?new Ss(u,T):null},Ss.prototype.outputDefined=function(){return this.result.outputDefined()},Ss.prototype.serialize=function(){for(var r=["let"],o=0,u=this.bindings;o<u.length;o+=1){var g=u[o];r.push(g[0],g[1].serialize())}return r.push(this.result.serialize()),r};var co=function(r,o,u){this.type=r,this.index=o,this.input=u};co.parse=function(r,o){if(r.length!==3)return o.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=o.parse(r[1],1,ct),g=o.parse(r[2],2,gr(o.expectedType||Gt));return u&&g?new co(g.type.itemType,u,g):null},co.prototype.evaluate=function(r){var o=this.index.evaluate(r),u=this.input.evaluate(r);if(o<0)throw new ai("Array index out of bounds: "+o+" < 0.");if(o>=u.length)throw new ai("Array index out of bounds: "+o+" > "+(u.length-1)+".");if(o!==Math.floor(o))throw new ai("Array index must be an integer, but found "+o+" instead.");return u[o]},co.prototype.eachChild=function(r){r(this.index),r(this.input)},co.prototype.outputDefined=function(){return!1},co.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Dl=function(r,o){this.type=bt,this.needle=r,this.haystack=o};Dl.parse=function(r,o){if(r.length!==3)return o.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=o.parse(r[1],1,Gt),g=o.parse(r[2],2,Gt);return u&&g?Sr(u.type,[bt,It,ct,$t,Gt])?new Dl(u,g):o.error("Expected first argument to be of type boolean, string, number or null, but found "+lr(u.type)+" instead"):null},Dl.prototype.evaluate=function(r){var o=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!u)return!1;if(!Zt(o,["boolean","string","number","null"]))throw new ai("Expected first argument to be of type boolean, string, number or null, but found "+lr(ao(o))+" instead.");if(!Zt(u,["string","array"]))throw new ai("Expected second argument to be of type array or string, but found "+lr(ao(u))+" instead.");return u.indexOf(o)>=0},Dl.prototype.eachChild=function(r){r(this.needle),r(this.haystack)},Dl.prototype.outputDefined=function(){return!0},Dl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fo=function(r,o,u){this.type=ct,this.needle=r,this.haystack=o,this.fromIndex=u};fo.parse=function(r,o){if(r.length<=2||r.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=o.parse(r[1],1,Gt),g=o.parse(r[2],2,Gt);if(!u||!g)return null;if(!Sr(u.type,[bt,It,ct,$t,Gt]))return o.error("Expected first argument to be of type boolean, string, number or null, but found "+lr(u.type)+" instead");if(r.length===4){var b=o.parse(r[3],3,ct);return b?new fo(u,g,b):null}return new fo(u,g)},fo.prototype.evaluate=function(r){var o=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!Zt(o,["boolean","string","number","null"]))throw new ai("Expected first argument to be of type boolean, string, number or null, but found "+lr(ao(o))+" instead.");if(!Zt(u,["string","array"]))throw new ai("Expected second argument to be of type array or string, but found "+lr(ao(u))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(r);return u.indexOf(o,g)}return u.indexOf(o)},fo.prototype.eachChild=function(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ls=function(r,o,u,g,b,C){this.inputType=r,this.type=o,this.input=u,this.cases=g,this.outputs=b,this.otherwise=C};ls.parse=function(r,o){if(r.length<5)return o.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if(r.length%2!=1)return o.error("Expected an even number of arguments.");var u,g;o.expectedType&&o.expectedType.kind!=="value"&&(g=o.expectedType);for(var b={},C=[],T=2;T<r.length-1;T+=2){var B=r[T],j=r[T+1];Array.isArray(B)||(B=[B]);var W=o.concat(T);if(B.length===0)return W.error("Expected at least one branch label.");for(var Z=0,Y=B;Z<Y.length;Z+=1){var ue=Y[Z];if(typeof ue!="number"&&typeof ue!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ue=="number"&&Math.abs(ue)>Number.MAX_SAFE_INTEGER)return W.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof ue=="number"&&Math.floor(ue)!==ue)return W.error("Numeric branch labels must be integer values.");if(u){if(W.checkSubtype(u,ao(ue)))return null}else u=ao(ue);if(b[String(ue)]!==void 0)return W.error("Branch labels must be unique.");b[String(ue)]=C.length}var he=o.parse(j,T,g);if(!he)return null;g=g||he.type,C.push(he)}var Ce=o.parse(r[1],1,Gt);if(!Ce)return null;var Ee=o.parse(r[r.length-1],r.length-1,g);return Ee?Ce.type.kind!=="value"&&o.concat(1).checkSubtype(u,Ce.type)?null:new ls(u,g,Ce,b,C,Ee):null},ls.prototype.evaluate=function(r){var o=this.input.evaluate(r);return(ao(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(r)},ls.prototype.eachChild=function(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)},ls.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})&&this.otherwise.outputDefined()},ls.prototype.serialize=function(){for(var r=this,o=["match",this.input.serialize()],u=[],g={},b=0,C=Object.keys(this.cases).sort();b<C.length;b+=1){var T=C[b];(Y=g[this.cases[T]])===void 0?(g[this.cases[T]]=u.length,u.push([this.cases[T],[T]])):u[Y][1].push(T)}for(var B=function(he){return r.inputType.kind==="number"?Number(he):he},j=0,W=u;j<W.length;j+=1){var Z=W[j],Y=Z[0],ue=Z[1];o.push(ue.length===1?B(ue[0]):ue.map(B)),o.push(this.outputs[outputIndex$1].serialize())}return o.push(this.otherwise.serialize()),o};var sl=function(r,o,u){this.type=r,this.branches=o,this.otherwise=u};sl.parse=function(r,o){if(r.length<4)return o.error("Expected at least 3 arguments, but found only "+(r.length-1)+".");if(r.length%2!=0)return o.error("Expected an odd number of arguments.");var u;o.expectedType&&o.expectedType.kind!=="value"&&(u=o.expectedType);for(var g=[],b=1;b<r.length-1;b+=2){var C=o.parse(r[b],b,bt);if(!C)return null;var T=o.parse(r[b+1],b+1,u);if(!T)return null;g.push([C,T]),u=u||T.type}var B=o.parse(r[r.length-1],r.length-1,u);return B?new sl(u,g,B):null},sl.prototype.evaluate=function(r){for(var o=0,u=this.branches;o<u.length;o+=1){var g=u[o],b=g[1];if(g[0].evaluate(r))return b.evaluate(r)}return this.otherwise.evaluate(r)},sl.prototype.eachChild=function(r){for(var o=0,u=this.branches;o<u.length;o+=1){var g=u[o],b=g[1];r(g[0]),r(b)}r(this.otherwise)},sl.prototype.outputDefined=function(){return this.branches.every(function(r){return r[1].outputDefined()})&&this.otherwise.outputDefined()},sl.prototype.serialize=function(){var r=["case"];return this.eachChild(function(o){r.push(o.serialize())}),r};var Zo=function(r,o,u,g){this.type=r,this.input=o,this.beginIndex=u,this.endIndex=g};function su(r,o){return r==="=="||r==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function Fr(r,o,u,g){return g.compare(o,u)===0}function ei(r,o,u){var g=r!=="=="&&r!=="!=";return function(){function b(C,T,B){this.type=bt,this.lhs=C,this.rhs=T,this.collator=B,this.hasUntypedArgument=C.type.kind==="value"||T.type.kind==="value"}return b.parse=function(C,T){if(C.length!==3&&C.length!==4)return T.error("Expected two or three arguments.");var B=C[0],j=T.parse(C[1],1,Gt);if(!j)return null;if(!su(B,j.type))return T.concat(1).error('"'+B+`" comparisons are not supported for type '`+lr(j.type)+"'.");var W=T.parse(C[2],2,Gt);if(!W)return null;if(!su(B,W.type))return T.concat(2).error('"'+B+`" comparisons are not supported for type '`+lr(W.type)+"'.");if(j.type.kind!==W.type.kind&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot compare types '"+lr(j.type)+"' and '"+lr(W.type)+"'.");g&&(j.type.kind==="value"&&W.type.kind!=="value"?j=new Eo(W.type,[j]):j.type.kind!=="value"&&W.type.kind==="value"&&(W=new Eo(j.type,[W])));var Z=null;if(C.length===4){if(j.type.kind!=="string"&&W.type.kind!=="string"&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(!(Z=T.parse(C[3],3,dr)))return null}return new b(j,W,Z)},b.prototype.evaluate=function(C){var T=this.lhs.evaluate(C),B=this.rhs.evaluate(C);if(g&&this.hasUntypedArgument){var j=ao(T),W=ao(B);if(j.kind!==W.kind||j.kind!=="string"&&j.kind!=="number")throw new ai('Expected arguments for "'+r+'" to be (string, string) or (number, number), but found ('+j.kind+", "+W.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var Z=ao(T),Y=ao(B);if(Z.kind!=="string"||Y.kind!=="string")return o(C,T,B)}return this.collator?u(C,T,B,this.collator.evaluate(C)):o(C,T,B)},b.prototype.eachChild=function(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var C=[r];return this.eachChild(function(T){C.push(T.serialize())}),C},b}()}Zo.parse=function(r,o){if(r.length<=2||r.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=o.parse(r[1],1,Gt),g=o.parse(r[2],2,ct);if(!u||!g)return null;if(!Sr(u.type,[gr(Gt),It,Gt]))return o.error("Expected first argument to be of type array or string, but found "+lr(u.type)+" instead");if(r.length===4){var b=o.parse(r[3],3,ct);return b?new Zo(u.type,u,g,b):null}return new Zo(u.type,u,g)},Zo.prototype.evaluate=function(r){var o=this.input.evaluate(r),u=this.beginIndex.evaluate(r);if(!Zt(o,["string","array"]))throw new ai("Expected first argument to be of type array or string, but found "+lr(ao(o))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(r);return o.slice(u,g)}return o.slice(u)},Zo.prototype.eachChild=function(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ua=ei("==",function(r,o,u){return o===u},Fr),Ku=ei("!=",function(r,o,u){return o!==u},function(r,o,u,g){return!Fr(0,o,u,g)}),lu=ei("<",function(r,o,u){return o<u},function(r,o,u,g){return g.compare(o,u)<0}),$s=ei(">",function(r,o,u){return o>u},function(r,o,u,g){return g.compare(o,u)>0}),Lp=ei("<=",function(r,o,u){return o<=u},function(r,o,u,g){return g.compare(o,u)<=0}),Zu=ei(">=",function(r,o,u){return o>=u},function(r,o,u,g){return g.compare(o,u)>=0}),ll=function(r,o,u,g,b){this.type=It,this.number=r,this.locale=o,this.currency=u,this.minFractionDigits=g,this.maxFractionDigits=b};ll.parse=function(r,o){if(r.length!==3)return o.error("Expected two arguments.");var u=o.parse(r[1],1,ct);if(!u)return null;var g=r[2];if(typeof g!="object"||Array.isArray(g))return o.error("NumberFormat options argument must be an object.");var b=null;if(g.locale&&!(b=o.parse(g.locale,1,It)))return null;var C=null;if(g.currency&&!(C=o.parse(g.currency,1,It)))return null;var T=null;if(g["min-fraction-digits"]&&!(T=o.parse(g["min-fraction-digits"],1,ct)))return null;var B=null;return g["max-fraction-digits"]&&!(B=o.parse(g["max-fraction-digits"],1,ct))?null:new ll(u,b,C,T,B)},ll.prototype.evaluate=function(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))},ll.prototype.eachChild=function(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){var r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]};var js=function(r){this.type=ct,this.input=r};js.parse=function(r,o){if(r.length!==2)return o.error("Expected 1 argument, but found "+(r.length-1)+" instead.");var u=o.parse(r[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?o.error("Expected argument of type string or array, but found "+lr(u.type)+" instead."):new js(u):null},js.prototype.evaluate=function(r){var o=this.input.evaluate(r);if(typeof o=="string"||Array.isArray(o))return o.length;throw new ai("Expected value to be of type string or array, but found "+lr(ao(o))+" instead.")},js.prototype.eachChild=function(r){r(this.input)},js.prototype.outputDefined=function(){return!1},js.prototype.serialize=function(){var r=["length"];return this.eachChild(function(o){r.push(o.serialize())}),r};var Vs={"==":Ua,"!=":Ku,">":$s,"<":lu,">=":Zu,"<=":Lp,array:Eo,at:co,boolean:Eo,case:sl,coalesce:Us,collator:Ni,format:Wo,image:as,in:Dl,"index-of":fo,interpolate:Ki,"interpolate-hcl":Ki,"interpolate-lab":Ki,length:js,let:Ss,literal:ca,match:ls,number:Eo,"number-format":ll,object:Eo,slice:Zo,step:Ro,string:Eo,"to-boolean":zi,"to-color":zi,"to-number":zi,"to-string":zi,var:al,within:Ko};function Rl(r,o){var u=o[0],g=o[1],b=o[2],C=o[3];u=u.evaluate(r),g=g.evaluate(r),b=b.evaluate(r);var T=C?C.evaluate(r):1,B=Dc(u,g,b,T);if(B)throw new ai(B);return new bn(u/255*T,g/255*T,b/255*T,T)}function Dp(r,o){return r in o}function jc(r,o){var u=o[r];return u===void 0?null:u}function ul(r){return{type:r}}function Xu(r){return{result:"success",value:r}}function _a(r){return{result:"error",value:r}}function Fl(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Vc(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function Yu(r){return!!r.expression&&r.expression.interpolated}function Hr(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Hc(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Lf(r){return r}function ko(r,o,u){return r!==void 0?r:o!==void 0?o:u!==void 0?u:void 0}function qc(r,o,u,g,b){return ko(typeof u===b?g[u]:void 0,r.default,o.default)}function uu(r,o,u){if(Hr(u)!=="number")return ko(r.default,o.default);var g=r.stops.length;if(g===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[g-1][0])return r.stops[g-1][1];var b=Qn(r.stops.map(function(C){return C[0]}),u);return r.stops[b][1]}function cl(r,o,u){var g=r.base!==void 0?r.base:1;if(Hr(u)!=="number")return ko(r.default,o.default);var b=r.stops.length;if(b===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[b-1][0])return r.stops[b-1][1];var C=Qn(r.stops.map(function(Y){return Y[0]}),u),T=function(Y,ue,he,Ce){var Ee=Ce-he,Ve=Y-he;return Ee===0?0:ue===1?Ve/Ee:(Math.pow(ue,Ve)-1)/(Math.pow(ue,Ee)-1)}(u,g,r.stops[C][0],r.stops[C+1][0]),B=r.stops[C][1],j=r.stops[C+1][1],W=nu[o.type]||Lf;if(r.colorSpace&&r.colorSpace!=="rgb"){var Z=Uc[r.colorSpace];W=function(Y,ue){return Z.reverse(Z.interpolate(Z.forward(Y),Z.forward(ue),T))}}return typeof B.evaluate=="function"?{evaluate:function(){for(var Y=[],ue=arguments.length;ue--;)Y[ue]=arguments[ue];var he=B.evaluate.apply(void 0,Y),Ce=j.evaluate.apply(void 0,Y);if(he!==void 0&&Ce!==void 0)return W(he,Ce,T)}}:W(B,j,T)}function Df(r,o,u){return o.type==="color"?u=bn.parse(u):o.type==="formatted"?u=oo.fromString(u.toString()):o.type==="resolvedImage"?u=Qo.fromString(u.toString()):Hr(u)===o.type||o.type==="enum"&&o.values[u]||(u=void 0),ko(u,r.default,o.default)}wi.register(Vs,{error:[{kind:"error"},[It],function(r,o){throw new ai(o[0].evaluate(r))}],typeof:[It,[Gt],function(r,o){return lr(ao(o[0].evaluate(r)))}],"to-rgba":[gr(ct,4),[hn],function(r,o){return o[0].evaluate(r).toArray()}],rgb:[hn,[ct,ct,ct],Rl],rgba:[hn,[ct,ct,ct,ct],Rl],has:{type:bt,overloads:[[[It],function(r,o){return Dp(o[0].evaluate(r),r.properties())}],[[It,cn],function(r,o){var u=o[1];return Dp(o[0].evaluate(r),u.evaluate(r))}]]},get:{type:Gt,overloads:[[[It],function(r,o){return jc(o[0].evaluate(r),r.properties())}],[[It,cn],function(r,o){var u=o[1];return jc(o[0].evaluate(r),u.evaluate(r))}]]},"feature-state":[Gt,[It],function(r,o){return jc(o[0].evaluate(r),r.featureState||{})}],properties:[cn,[],function(r){return r.properties()}],"geometry-type":[It,[],function(r){return r.geometryType()}],id:[Gt,[],function(r){return r.id()}],zoom:[ct,[],function(r){return r.globals.zoom}],"heatmap-density":[ct,[],function(r){return r.globals.heatmapDensity||0}],"line-progress":[ct,[],function(r){return r.globals.lineProgress||0}],accumulated:[Gt,[],function(r){return r.globals.accumulated===void 0?null:r.globals.accumulated}],"+":[ct,ul(ct),function(r,o){for(var u=0,g=0,b=o;g<b.length;g+=1)u+=b[g].evaluate(r);return u}],"*":[ct,ul(ct),function(r,o){for(var u=1,g=0,b=o;g<b.length;g+=1)u*=b[g].evaluate(r);return u}],"-":{type:ct,overloads:[[[ct,ct],function(r,o){var u=o[1];return o[0].evaluate(r)-u.evaluate(r)}],[[ct],function(r,o){return-o[0].evaluate(r)}]]},"/":[ct,[ct,ct],function(r,o){var u=o[1];return o[0].evaluate(r)/u.evaluate(r)}],"%":[ct,[ct,ct],function(r,o){var u=o[1];return o[0].evaluate(r)%u.evaluate(r)}],ln2:[ct,[],function(){return Math.LN2}],pi:[ct,[],function(){return Math.PI}],e:[ct,[],function(){return Math.E}],"^":[ct,[ct,ct],function(r,o){var u=o[1];return Math.pow(o[0].evaluate(r),u.evaluate(r))}],sqrt:[ct,[ct],function(r,o){return Math.sqrt(o[0].evaluate(r))}],log10:[ct,[ct],function(r,o){return Math.log(o[0].evaluate(r))/Math.LN10}],ln:[ct,[ct],function(r,o){return Math.log(o[0].evaluate(r))}],log2:[ct,[ct],function(r,o){return Math.log(o[0].evaluate(r))/Math.LN2}],sin:[ct,[ct],function(r,o){return Math.sin(o[0].evaluate(r))}],cos:[ct,[ct],function(r,o){return Math.cos(o[0].evaluate(r))}],tan:[ct,[ct],function(r,o){return Math.tan(o[0].evaluate(r))}],asin:[ct,[ct],function(r,o){return Math.asin(o[0].evaluate(r))}],acos:[ct,[ct],function(r,o){return Math.acos(o[0].evaluate(r))}],atan:[ct,[ct],function(r,o){return Math.atan(o[0].evaluate(r))}],min:[ct,ul(ct),function(r,o){return Math.min.apply(Math,o.map(function(u){return u.evaluate(r)}))}],max:[ct,ul(ct),function(r,o){return Math.max.apply(Math,o.map(function(u){return u.evaluate(r)}))}],abs:[ct,[ct],function(r,o){return Math.abs(o[0].evaluate(r))}],round:[ct,[ct],function(r,o){var u=o[0].evaluate(r);return u<0?-Math.round(-u):Math.round(u)}],floor:[ct,[ct],function(r,o){return Math.floor(o[0].evaluate(r))}],ceil:[ct,[ct],function(r,o){return Math.ceil(o[0].evaluate(r))}],"filter-==":[bt,[It,Gt],function(r,o){var u=o[0],g=o[1];return r.properties()[u.value]===g.value}],"filter-id-==":[bt,[Gt],function(r,o){var u=o[0];return r.id()===u.value}],"filter-type-==":[bt,[It],function(r,o){var u=o[0];return r.geometryType()===u.value}],"filter-<":[bt,[It,Gt],function(r,o){var u=o[0],g=o[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b<C}],"filter-id-<":[bt,[Gt],function(r,o){var u=o[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<b}],"filter->":[bt,[It,Gt],function(r,o){var u=o[0],g=o[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b>C}],"filter-id->":[bt,[Gt],function(r,o){var u=o[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>b}],"filter-<=":[bt,[It,Gt],function(r,o){var u=o[0],g=o[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b<=C}],"filter-id-<=":[bt,[Gt],function(r,o){var u=o[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<=b}],"filter->=":[bt,[It,Gt],function(r,o){var u=o[0],g=o[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b>=C}],"filter-id->=":[bt,[Gt],function(r,o){var u=o[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>=b}],"filter-has":[bt,[Gt],function(r,o){return o[0].value in r.properties()}],"filter-has-id":[bt,[],function(r){return r.id()!==null&&r.id()!==void 0}],"filter-type-in":[bt,[gr(It)],function(r,o){return o[0].value.indexOf(r.geometryType())>=0}],"filter-id-in":[bt,[gr(Gt)],function(r,o){return o[0].value.indexOf(r.id())>=0}],"filter-in-small":[bt,[It,gr(Gt)],function(r,o){var u=o[0];return o[1].value.indexOf(r.properties()[u.value])>=0}],"filter-in-large":[bt,[It,gr(Gt)],function(r,o){var u=o[0],g=o[1];return function(b,C,T,B){for(;T<=B;){var j=T+B>>1;if(C[j]===b)return!0;C[j]>b?B=j-1:T=j+1}return!1}(r.properties()[u.value],g.value,0,g.value.length-1)}],all:{type:bt,overloads:[[[bt,bt],function(r,o){var u=o[1];return o[0].evaluate(r)&&u.evaluate(r)}],[ul(bt),function(r,o){for(var u=0,g=o;u<g.length;u+=1)if(!g[u].evaluate(r))return!1;return!0}]]},any:{type:bt,overloads:[[[bt,bt],function(r,o){var u=o[1];return o[0].evaluate(r)||u.evaluate(r)}],[ul(bt),function(r,o){for(var u=0,g=o;u<g.length;u+=1)if(g[u].evaluate(r))return!0;return!1}]]},"!":[bt,[bt],function(r,o){return!o[0].evaluate(r)}],"is-supported-script":[bt,[It],function(r,o){var u=r.globals&&r.globals.isSupportedScript;return!u||u(o[0].evaluate(r))}],upcase:[It,[It],function(r,o){return o[0].evaluate(r).toUpperCase()}],downcase:[It,[It],function(r,o){return o[0].evaluate(r).toLowerCase()}],concat:[It,ul(Gt),function(r,o){return o.map(function(u){return os(u.evaluate(r))}).join("")}],"resolved-locale":[It,[dr],function(r,o){return o[0].evaluate(r).resolvedLocale()}]});var po=function(r,o){this.expression=r,this._warningHistory={},this._evaluator=new ss,this._defaultValue=o?function(u){return u.type==="color"&&Hc(u.default)?new bn(0,0,0,0):u.type==="color"?bn.parse(u.default)||null:u.default===void 0?null:u.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null};function Ui(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Vs}function Gc(r,o){var u=new Ur(Vs,[],o?function(b){var C={color:hn,string:It,number:ct,enum:It,boolean:bt,formatted:Jn,resolvedImage:Rr};return b.type==="array"?gr(C[b.value]||Gt,b.length):C[b.type]}(o):void 0),g=u.parse(r,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?Xu(new po(g,o)):_a(u.errors)}po.prototype.evaluateWithoutErrorHandling=function(r,o,u,g,b,C){return this._evaluator.globals=r,this._evaluator.feature=o,this._evaluator.featureState=u,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this.expression.evaluate(this._evaluator)},po.prototype.evaluate=function(r,o,u,g,b,C){this._evaluator.globals=r,this._evaluator.feature=o||null,this._evaluator.featureState=u||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null;try{var T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new ai("Expected value to be one of "+Object.keys(this._enumValues).map(function(B){return JSON.stringify(B)}).join(", ")+", but found "+JSON.stringify(T)+" instead.");return T}catch(B){return this._warningHistory[B.message]||(this._warningHistory[B.message]=!0,typeof console<"u"&&console.warn(B.message)),this._defaultValue}};var Ju=function(r,o){this.kind=r,this._styleExpression=o,this.isStateDependent=r!=="constant"&&!ws(o.expression)};Ju.prototype.evaluateWithoutErrorHandling=function(r,o,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(r,o,u,g,b,C)},Ju.prototype.evaluate=function(r,o,u,g,b,C){return this._styleExpression.evaluate(r,o,u,g,b,C)};var cu=function(r,o,u,g){this.kind=r,this.zoomStops=u,this._styleExpression=o,this.isStateDependent=r!=="camera"&&!ws(o.expression),this.interpolationType=g};function fl(r,o){if((r=Gc(r,o)).result==="error")return r;var u=r.value.expression,g=ol(u);if(!g&&!Fl(o))return _a([new me("","data expressions not supported")]);var b=zc(u,["zoom"]);if(!b&&!Vc(o))return _a([new me("","zoom expressions not supported")]);var C=function T(B){var j=null;if(B instanceof Ss)j=T(B.result);else if(B instanceof Us)for(var W=0,Z=B.args;W<Z.length&&!(j=T(Z[W]));W+=1);else(B instanceof Ro||B instanceof Ki)&&B.input instanceof wi&&B.input.name==="zoom"&&(j=B);return j instanceof me||B.eachChild(function(Y){var ue=T(Y);ue instanceof me?j=ue:!j&&ue?j=new me("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):j&&ue&&j!==ue&&(j=new me("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),j}(u);return C||b?C instanceof me?_a([C]):C instanceof Ki&&!Yu(o)?_a([new me("",'"interpolate" expressions cannot be used with this property')]):Xu(C?new cu(g?"camera":"composite",r.value,C.labels,C instanceof Ki?C.interpolation:void 0):new Ju(g?"constant":"source",r.value)):_a([new me("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}cu.prototype.evaluateWithoutErrorHandling=function(r,o,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(r,o,u,g,b,C)},cu.prototype.evaluate=function(r,o,u,g,b,C){return this._styleExpression.evaluate(r,o,u,g,b,C)},cu.prototype.interpolationFactor=function(r,o,u){return this.interpolationType?Ki.interpolationFactor(this.interpolationType,r,o,u):0};var ec=function(r,o){this._parameters=r,this._specification=o,st(this,function u(g,b){var C,T,B,j=b.type==="color",W=g.stops&&typeof g.stops[0][0]=="object",Z=W||!(W||g.property!==void 0),Y=g.type||(Yu(b)?"exponential":"interval");if(j&&((g=st({},g)).stops&&(g.stops=g.stops.map(function(en){return[en[0],bn.parse(en[1])]})),g.default=bn.parse(g.default?g.default:b.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!Uc[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(Y==="exponential")C=cl;else if(Y==="interval")C=uu;else if(Y==="categorical"){C=qc,T=Object.create(null);for(var ue=0,he=g.stops;ue<he.length;ue+=1){var Ce=he[ue];T[Ce[0]]=Ce[1]}B=typeof g.stops[0][0]}else{if(Y!=="identity")throw new Error('Unknown function type "'+Y+'"');C=Df}if(W){for(var Ee={},Ve=[],Re=0;Re<g.stops.length;Re++){var tt=g.stops[Re],rt=tt[0].zoom;Ee[rt]===void 0&&(Ee[rt]={zoom:rt,type:g.type,property:g.property,default:g.default,stops:[]},Ve.push(rt)),Ee[rt].stops.push([tt[0].value,tt[1]])}for(var ft=[],pt=0,kt=Ve;pt<kt.length;pt+=1){var Ut=kt[pt];ft.push([Ee[Ut].zoom,u(Ee[Ut],b)])}var Kt={name:"linear"};return{kind:"composite",interpolationType:Kt,interpolationFactor:Ki.interpolationFactor.bind(void 0,Kt),zoomStops:ft.map(function(en){return en[0]}),evaluate:function(en,En){var nn=en.zoom;return cl({stops:ft,base:g.base},b,nn).evaluate(nn,En)}}}if(Z){var gn=Y==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:gn,interpolationFactor:Ki.interpolationFactor.bind(void 0,gn),zoomStops:g.stops.map(function(en){return en[0]}),evaluate:function(en){return C(g,b,en.zoom,T,B)}}}return{kind:"source",evaluate:function(en,En){var nn=En&&En.properties?En.properties[g.property]:void 0;return nn===void 0?ko(g.default,b.default):C(g,b,nn,T,B)}}}(this._parameters,this._specification))};function Si(r){var o=r.key,u=r.value,g=r.valueSpec||{},b=r.objectElementValidators||{},C=r.style,T=r.styleSpec,B=[],j=Hr(u);if(j!=="object")return[new ae(o,u,"object expected, "+j+" found")];for(var W in u){var Z=W.split(".")[0],Y=g[Z]||g["*"],ue=void 0;if(b[Z])ue=b[Z];else if(g[Z])ue=cr;else if(b["*"])ue=b["*"];else{if(!g["*"]){B.push(new ae(o,u[W],'unknown property "'+W+'"'));continue}ue=cr}B=B.concat(ue({key:(o&&o+".")+W,value:u[W],valueSpec:Y,style:C,styleSpec:T,object:u,objectKey:W},u))}for(var he in g)b[he]||g[he].required&&g[he].default===void 0&&u[he]===void 0&&B.push(new ae(o,u,'missing required property "'+he+'"'));return B}function fu(r){var o=r.value,u=r.valueSpec,g=r.style,b=r.styleSpec,C=r.key,T=r.arrayElementValidator||cr;if(Hr(o)!=="array")return[new ae(C,o,"array expected, "+Hr(o)+" found")];if(u.length&&o.length!==u.length)return[new ae(C,o,"array length "+u.length+" expected, length "+o.length+" found")];if(u["min-length"]&&o.length<u["min-length"])return[new ae(C,o,"array length at least "+u["min-length"]+" expected, length "+o.length+" found")];var B={type:u.value,values:u.values};b.$version<7&&(B.function=u.function),Hr(u.value)==="object"&&(B=u.value);for(var j=[],W=0;W<o.length;W++)j=j.concat(T({array:o,arrayIndex:W,value:o[W],valueSpec:B,style:g,styleSpec:b,key:C+"["+W+"]"}));return j}function Cs(r){var o=r.key,u=r.value,g=r.valueSpec,b=Hr(u);return b==="number"&&u!=u&&(b="NaN"),b!=="number"?[new ae(o,u,"number expected, "+b+" found")]:"minimum"in g&&u<g.minimum?[new ae(o,u,u+" is less than the minimum value "+g.minimum)]:"maximum"in g&&u>g.maximum?[new ae(o,u,u+" is greater than the maximum value "+g.maximum)]:[]}function Es(r){var o,u,g,b=r.valueSpec,C=Ge(r.value.type),T={},B=C!=="categorical"&&r.value.property===void 0,j=!B,W=Hr(r.value.stops)==="array"&&Hr(r.value.stops[0])==="array"&&Hr(r.value.stops[0][0])==="object",Z=Si({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(he){if(C==="identity")return[new ae(he.key,he.value,'identity function may not have a "stops" property')];var Ce=[],Ee=he.value;return Ce=Ce.concat(fu({key:he.key,value:Ee,valueSpec:he.valueSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:Y})),Hr(Ee)==="array"&&Ee.length===0&&Ce.push(new ae(he.key,Ee,"array must have at least one stop")),Ce},default:function(he){return cr({key:he.key,value:he.value,valueSpec:b,style:he.style,styleSpec:he.styleSpec})}}});return C==="identity"&&B&&Z.push(new ae(r.key,r.value,'missing required property "property"')),C==="identity"||r.value.stops||Z.push(new ae(r.key,r.value,'missing required property "stops"')),C==="exponential"&&r.valueSpec.expression&&!Yu(r.valueSpec)&&Z.push(new ae(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(j&&!Fl(r.valueSpec)?Z.push(new ae(r.key,r.value,"property functions not supported")):B&&!Vc(r.valueSpec)&&Z.push(new ae(r.key,r.value,"zoom functions not supported"))),C!=="categorical"&&!W||r.value.property!==void 0||Z.push(new ae(r.key,r.value,'"property" property is required')),Z;function Y(he){var Ce=[],Ee=he.value,Ve=he.key;if(Hr(Ee)!=="array")return[new ae(Ve,Ee,"array expected, "+Hr(Ee)+" found")];if(Ee.length!==2)return[new ae(Ve,Ee,"array length 2 expected, length "+Ee.length+" found")];if(W){if(Hr(Ee[0])!=="object")return[new ae(Ve,Ee,"object expected, "+Hr(Ee[0])+" found")];if(Ee[0].zoom===void 0)return[new ae(Ve,Ee,"object stop key must have zoom")];if(Ee[0].value===void 0)return[new ae(Ve,Ee,"object stop key must have value")];if(g&&g>Ge(Ee[0].zoom))return[new ae(Ve,Ee[0].zoom,"stop zoom values must appear in ascending order")];Ge(Ee[0].zoom)!==g&&(g=Ge(Ee[0].zoom),u=void 0,T={}),Ce=Ce.concat(Si({key:Ve+"[0]",value:Ee[0],valueSpec:{zoom:{}},style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:Cs,value:ue}}))}else Ce=Ce.concat(ue({key:Ve+"[0]",value:Ee[0],valueSpec:{},style:he.style,styleSpec:he.styleSpec},Ee));return Ui(A(Ee[1]))?Ce.concat([new ae(Ve+"[1]",Ee[1],"expressions are not allowed in function stops.")]):Ce.concat(cr({key:Ve+"[1]",value:Ee[1],valueSpec:b,style:he.style,styleSpec:he.styleSpec}))}function ue(he,Ce){var Ee=Hr(he.value),Ve=Ge(he.value),Re=he.value!==null?he.value:Ce;if(o){if(Ee!==o)return[new ae(he.key,Re,Ee+" stop domain type must match previous stop domain type "+o)]}else o=Ee;if(Ee!=="number"&&Ee!=="string"&&Ee!=="boolean")return[new ae(he.key,Re,"stop domain value must be a number, string, or boolean")];if(Ee!=="number"&&C!=="categorical"){var tt="number expected, "+Ee+" found";return Fl(b)&&C===void 0&&(tt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ae(he.key,Re,tt)]}return C!=="categorical"||Ee!=="number"||isFinite(Ve)&&Math.floor(Ve)===Ve?C!=="categorical"&&Ee==="number"&&u!==void 0&&Ve<u?[new ae(he.key,Re,"stop domain values must appear in ascending order")]:(u=Ve,C==="categorical"&&Ve in T?[new ae(he.key,Re,"stop domain values must be unique")]:(T[Ve]=!0,[])):[new ae(he.key,Re,"integer expected, found "+Ve)]}}function $a(r){var o=(r.expressionContext==="property"?fl:Gc)(A(r.value),r.valueSpec);if(o.result==="error")return o.value.map(function(g){return new ae(""+r.key+g.key,r.value,g.message)});var u=o.value.expression||o.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!u.outputDefined())return[new ae(r.key,r.value,'Invalid data expression for "'+r.propertyKey+'". Output values must be contained as literals within the expression.')];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!ws(u))return[new ae(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!ws(u))return[new ae(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!zc(u,["zoom","feature-state"]))return[new ae(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!ol(u))return[new ae(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tc(r){var o=r.key,u=r.value,g=r.valueSpec,b=[];return Array.isArray(g.values)?g.values.indexOf(Ge(u))===-1&&b.push(new ae(o,u,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(u)+" found")):Object.keys(g.values).indexOf(Ge(u))===-1&&b.push(new ae(o,u,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(u)+" found")),b}function Xo(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(var o=0,u=r.slice(1);o<u.length;o+=1){var g=u[o];if(!Xo(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ec.deserialize=function(r){return new ec(r._parameters,r._specification)},ec.serialize=function(r){return{_parameters:r._parameters,_specification:r._specification}};var Rp={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function us(r){if(r==null)return{filter:function(){return!0},needGeometry:!1};Xo(r)||(r=cs(r));var o=Gc(r,Rp);if(o.result==="error")throw new Error(o.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,g,b){return o.value.evaluate(u,g,{},b)},needGeometry:function u(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var b=1;b<g.length;b++)if(u(g[b]))return!0;return!1}(r)}}function pa(r,o){return r<o?-1:r>o?1:0}function cs(r){if(!r)return!0;var o,u=r[0];return r.length<=1?u!=="any":u==="=="?Hs(r[1],r[2],"=="):u==="!="?Qc(Hs(r[1],r[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Hs(r[1],r[2],u):u==="any"?(o=r.slice(1),["any"].concat(o.map(cs))):u==="all"?["all"].concat(r.slice(1).map(cs)):u==="none"?["all"].concat(r.slice(1).map(cs).map(Qc)):u==="in"?Fp(r[1],r.slice(2)):u==="!in"?Qc(Fp(r[1],r.slice(2))):u==="has"?Rf(r[1]):u==="!has"?Qc(Rf(r[1])):u!=="within"||r}function Hs(r,o,u){switch(r){case"$type":return["filter-type-"+u,o];case"$id":return["filter-id-"+u,o];default:return["filter-"+u,r,o]}}function Fp(r,o){if(o.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(function(u){return typeof u!=typeof o[0]})?["filter-in-large",r,["literal",o.sort(pa)]]:["filter-in-small",r,["literal",o]]}}function Rf(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Qc(r){return["!",r]}function pu(r){return Xo(A(r.value))?$a(st({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function o(u){var g=u.value,b=u.key;if(Hr(g)!=="array")return[new ae(b,g,"array expected, "+Hr(g)+" found")];var C,T=u.styleSpec,B=[];if(g.length<1)return[new ae(b,g,"filter array must have at least 1 element")];switch(B=B.concat(tc({key:b+"[0]",value:g[0],valueSpec:T.filter_operator,style:u.style,styleSpec:u.styleSpec})),Ge(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&Ge(g[1])==="$type"&&B.push(new ae(b,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&B.push(new ae(b,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(C=Hr(g[1]))!=="string"&&B.push(new ae(b+"[1]",g[1],"string expected, "+C+" found"));for(var j=2;j<g.length;j++)C=Hr(g[j]),Ge(g[1])==="$type"?B=B.concat(tc({key:b+"["+j+"]",value:g[j],valueSpec:T.geometry_type,style:u.style,styleSpec:u.styleSpec})):C!=="string"&&C!=="number"&&C!=="boolean"&&B.push(new ae(b+"["+j+"]",g[j],"string, number, or boolean expected, "+C+" found"));break;case"any":case"all":case"none":for(var W=1;W<g.length;W++)B=B.concat(o({key:b+"["+W+"]",value:g[W],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":C=Hr(g[1]),g.length!==2?B.push(new ae(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="string"&&B.push(new ae(b+"[1]",g[1],"string expected, "+C+" found"));break;case"within":C=Hr(g[1]),g.length!==2?B.push(new ae(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="object"&&B.push(new ae(b+"[1]",g[1],"object expected, "+C+" found"))}return B}(r)}function qs(r,o){var u=r.key,g=r.style,b=r.styleSpec,C=r.value,T=r.objectKey,B=b[o+"_"+r.layerType];if(!B)return[];var j=T.match(/^(.*)-transition$/);if(o==="paint"&&j&&B[j[1]]&&B[j[1]].transition)return cr({key:u,value:C,valueSpec:b.transition,style:g,styleSpec:b});var W,Z=r.valueSpec||B[T];if(!Z)return[new ae(u,C,'unknown property "'+T+'"')];if(Hr(C)==="string"&&Fl(Z)&&!Z.tokens&&(W=/^{([^}]+)}$/.exec(C)))return[new ae(u,C,'"'+T+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(W[1])+" }`.")];var Y=[];return r.layerType==="symbol"&&(T==="text-field"&&g&&!g.glyphs&&Y.push(new ae(u,C,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Hc(A(C))&&Ge(C.type)==="identity"&&Y.push(new ae(u,C,'"text-font" does not support identity functions'))),Y.concat(cr({key:r.key,value:C,valueSpec:Z,style:g,styleSpec:b,expressionContext:"property",propertyType:o,propertyKey:T}))}function nt(r){return qs(r,"paint")}function Tt(r){return qs(r,"layout")}function xt(r){var o=[],u=r.value,g=r.key,b=r.style,C=r.styleSpec;u.type||u.ref||o.push(new ae(g,u,'either "type" or "ref" is required'));var T,B=Ge(u.type),j=Ge(u.ref);if(u.id)for(var W=Ge(u.id),Z=0;Z<r.arrayIndex;Z++){var Y=b.layers[Z];Ge(Y.id)===W&&o.push(new ae(g,u.id,'duplicate layer id "'+u.id+'", previously used at line '+Y.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(Ce){Ce in u&&o.push(new ae(g,u[Ce],'"'+Ce+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ce){Ge(Ce.id)===j&&(T=Ce)}),T?T.ref?o.push(new ae(g,u.ref,"ref cannot reference another ref layer")):B=Ge(T.type):o.push(new ae(g,u.ref,'ref layer "'+j+'" not found'));else if(B!=="background")if(u.source){var ue=b.sources&&b.sources[u.source],he=ue&&Ge(ue.type);ue?he==="vector"&&B==="raster"?o.push(new ae(g,u.source,'layer "'+u.id+'" requires a raster source')):he==="raster"&&B!=="raster"?o.push(new ae(g,u.source,'layer "'+u.id+'" requires a vector source')):he!=="vector"||u["source-layer"]?he==="raster-dem"&&B!=="hillshade"?o.push(new ae(g,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):B!=="line"||!u.paint||!u.paint["line-gradient"]||he==="geojson"&&ue.lineMetrics||o.push(new ae(g,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):o.push(new ae(g,u,'layer "'+u.id+'" must specify a "source-layer"')):o.push(new ae(g,u.source,'source "'+u.source+'" not found'))}else o.push(new ae(g,u,'missing required property "source"'));return o=o.concat(Si({key:g,value:u,valueSpec:C.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return cr({key:g+".type",value:u.type,valueSpec:C.layer.type,style:r.style,styleSpec:r.styleSpec,object:u,objectKey:"type"})},filter:pu,layout:function(Ce){return Si({layer:u,key:Ce.key,value:Ce.value,style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{"*":function(Ee){return Tt(st({layerType:B},Ee))}}})},paint:function(Ce){return Si({layer:u,key:Ce.key,value:Ce.value,style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{"*":function(Ee){return nt(st({layerType:B},Ee))}}})}}}))}function Ht(r){var o=r.value,u=r.key,g=Hr(o);return g!=="string"?[new ae(u,o,"string expected, "+g+" found")]:[]}var er={promoteId:function(r){var o=r.key,u=r.value;if(Hr(u)==="string")return Ht({key:o,value:u});var g=[];for(var b in u)g.push.apply(g,Ht({key:o+"."+b,value:u[b]}));return g}};function Cr(r){var o=r.value,u=r.key,g=r.styleSpec,b=r.style;if(!o.type)return[new ae(u,o,'"type" is required')];var C,T=Ge(o.type);switch(T){case"vector":case"raster":case"raster-dem":return Si({key:u,value:o,valueSpec:g["source_"+T.replace("-","_")],style:r.style,styleSpec:g,objectElementValidators:er});case"geojson":if(C=Si({key:u,value:o,valueSpec:g.source_geojson,style:b,styleSpec:g,objectElementValidators:er}),o.cluster)for(var B in o.clusterProperties){var j=o.clusterProperties[B],W=j[0],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;C.push.apply(C,$a({key:u+"."+B+".map",value:j[1],expressionContext:"cluster-map"})),C.push.apply(C,$a({key:u+"."+B+".reduce",value:Z,expressionContext:"cluster-reduce"}))}return C;case"video":return Si({key:u,value:o,valueSpec:g.source_video,style:b,styleSpec:g});case"image":return Si({key:u,value:o,valueSpec:g.source_image,style:b,styleSpec:g});case"canvas":return[new ae(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tc({key:u+".type",value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:g})}}function ti(r){var o=r.value,u=r.styleSpec,g=u.light,b=r.style,C=[],T=Hr(o);if(o===void 0)return C;if(T!=="object")return C.concat([new ae("light",o,"object expected, "+T+" found")]);for(var B in o){var j=B.match(/^(.*)-transition$/);C=C.concat(j&&g[j[1]]&&g[j[1]].transition?cr({key:B,value:o[B],valueSpec:u.transition,style:b,styleSpec:u}):g[B]?cr({key:B,value:o[B],valueSpec:g[B],style:b,styleSpec:u}):[new ae(B,o[B],'unknown property "'+B+'"')])}return C}var Ln={"*":function(){return[]},array:fu,boolean:function(r){var o=r.value,u=r.key,g=Hr(o);return g!=="boolean"?[new ae(u,o,"boolean expected, "+g+" found")]:[]},number:Cs,color:function(r){var o=r.key,u=r.value,g=Hr(u);return g!=="string"?[new ae(o,u,"color expected, "+g+" found")]:qe(u)===null?[new ae(o,u,'color expected, "'+u+'" found')]:[]},constants:je,enum:tc,filter:pu,function:Es,layer:xt,object:Si,source:Cr,light:ti,string:Ht,formatted:function(r){return Ht(r).length===0?[]:$a(r)},resolvedImage:function(r){return Ht(r).length===0?[]:$a(r)}};function cr(r){var o=r.value,u=r.valueSpec,g=r.styleSpec;return u.expression&&Hc(Ge(o))?Es(r):u.expression&&Ui(A(o))?$a(r):u.type&&Ln[u.type]?Ln[u.type](r):Si(st({},r,{valueSpec:u.type?g[u.type]:u}))}function Bl(r){var o=r.value,u=r.key,g=Ht(r);return g.length||(o.indexOf("{fontstack}")===-1&&g.push(new ae(u,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&g.push(new ae(u,o,'"glyphs" url must include a "{range}" token'))),g}function $i(r,o){o===void 0&&(o=xe);var u=[];return u=u.concat(cr({key:"",value:r,valueSpec:o.$root,styleSpec:o,style:r,objectElementValidators:{glyphs:Bl,"*":function(){return[]}}})),r.constants&&(u=u.concat(je({key:"constants",value:r.constants,style:r,styleSpec:o}))),hu(u)}function hu(r){return[].concat(r).sort(function(o,u){return o.line-u.line})}function xa(r){return function(){for(var o=[],u=arguments.length;u--;)o[u]=arguments[u];return hu(r.apply(this,o))}}$i.source=xa(Cr),$i.light=xa(ti),$i.layer=xa(xt),$i.filter=xa(pu),$i.paintProperty=xa(nt),$i.layoutProperty=xa(Tt);var fs=$i,Wc=fs.light,pl=fs.paintProperty,$r=fs.layoutProperty;function nc(r,o){var u=!1;if(o&&o.length)for(var g=0,b=o;g<b.length;g+=1)r.fire(new He(new Error(b[g].message))),u=!0;return u}var Po=ho;function ho(r,o,u){var g=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var b=new Int32Array(this.arrayBuffer);r=b[0],this.d=(o=b[1])+2*(u=b[2]);for(var C=0;C<this.d*this.d;C++){var T=b[3+C],B=b[3+C+1];g.push(T===B?null:b.subarray(T,B))}var j=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],j),this.bboxes=b.subarray(j),this.insert=this._insertReadonly}else{this.d=o+2*u;for(var W=0;W<this.d*this.d;W++)g.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=r,this.padding=u,this.scale=o/r,this.uid=0;var Z=u/o*r;this.min=-Z,this.max=r+Z}ho.prototype.insert=function(r,o,u,g,b){this._forEachCell(o,u,g,b,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(o),this.bboxes.push(u),this.bboxes.push(g),this.bboxes.push(b)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(r,o,u,g,b,C){this.cells[b].push(C)},ho.prototype.query=function(r,o,u,g,b){var C=this.min,T=this.max;if(r<=C&&o<=C&&T<=u&&T<=g&&!b)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(r,o,u,g,this._queryCell,B,{},b),B},ho.prototype._queryCell=function(r,o,u,g,b,C,T,B){var j=this.cells[b];if(j!==null)for(var W=this.keys,Z=this.bboxes,Y=0;Y<j.length;Y++){var ue=j[Y];if(T[ue]===void 0){var he=4*ue;(B?B(Z[he+0],Z[he+1],Z[he+2],Z[he+3]):r<=Z[he+2]&&o<=Z[he+3]&&u>=Z[he+0]&&g>=Z[he+1])?(T[ue]=!0,C.push(W[ue])):T[ue]=!1}}},ho.prototype._forEachCell=function(r,o,u,g,b,C,T,B){for(var j=this._convertToCellCoord(r),W=this._convertToCellCoord(o),Z=this._convertToCellCoord(u),Y=this._convertToCellCoord(g),ue=j;ue<=Z;ue++)for(var he=W;he<=Y;he++){var Ce=this.d*he+ue;if((!B||B(this._convertFromCellCoord(ue),this._convertFromCellCoord(he),this._convertFromCellCoord(ue+1),this._convertFromCellCoord(he+1)))&&b.call(this,r,o,u,g,Ce,C,T,B))return}},ho.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,o=3+this.cells.length+1+1,u=0,g=0;g<this.cells.length;g++)u+=this.cells[g].length;var b=new Int32Array(o+u+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var C=o,T=0;T<r.length;T++){var B=r[T];b[3+T]=C,b.set(B,C),C+=B.length}return b[3+r.length]=C,b.set(this.keys,C),b[3+r.length+1]=C+=this.keys.length,b.set(this.bboxes,C),C+=this.bboxes.length,b.buffer};var Ff=N.ImageData,Zi=N.ImageBitmap,ba={};function rn(r,o,u){u===void 0&&(u={}),Object.defineProperty(o,"_classRegistryKey",{value:r,writeable:!1}),ba[r]={klass:o,omit:u.omit||[],shallow:u.shallow||[]}}for(var ja in rn("Object",Object),Po.serialize=function(r,o){var u=r.toArrayBuffer();return o&&o.push(u),{buffer:u}},Po.deserialize=function(r){return new Po(r.buffer)},rn("Grid",Po),rn("Color",bn),rn("Error",Error),rn("ResolvedImage",Qo),rn("StylePropertyFunction",ec),rn("StyleExpression",po,{omit:["_evaluator"]}),rn("ZoomDependentExpression",cu),rn("ZoomConstantExpression",Ju),rn("CompoundExpression",wi,{omit:["_evaluate"]}),Vs)Vs[ja]._classRegistryKey||rn("Expression_"+ja,Vs[ja]);function Gs(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Qs(r){return Zi&&r instanceof Zi}function Fo(r,o){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Gs(r)||Qs(r))return o&&o.push(r),r;if(ArrayBuffer.isView(r)){var u=r;return o&&o.push(u.buffer),u}if(r instanceof Ff)return o&&o.push(r.data.buffer),r;if(Array.isArray(r)){for(var g=[],b=0,C=r;b<C.length;b+=1)g.push(Fo(C[b],o));return g}if(typeof r=="object"){var T=r.constructor,B=T._classRegistryKey;if(!B)throw new Error("can't serialize object of unregistered class");var j=T.serialize?T.serialize(r,o):{};if(!T.serialize){for(var W in r)if(r.hasOwnProperty(W)&&!(ba[B].omit.indexOf(W)>=0)){var Z=r[W];j[W]=ba[B].shallow.indexOf(W)>=0?Z:Fo(Z,o)}r instanceof Error&&(j.message=r.message)}if(j.$name)throw new Error("$name property is reserved for worker serialization logic.");return B!=="Object"&&(j.$name=B),j}throw new Error("can't serialize object of type "+typeof r)}function Au(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Gs(r)||Qs(r)||ArrayBuffer.isView(r)||r instanceof Ff)return r;if(Array.isArray(r))return r.map(Au);if(typeof r=="object"){var o=r.$name||"Object",u=ba[o].klass;if(!u)throw new Error("can't deserialize unregistered class "+o);if(u.deserialize)return u.deserialize(r);for(var g=Object.create(u.prototype),b=0,C=Object.keys(r);b<C.length;b+=1){var T=C[b];if(T!=="$name"){var B=r[T];g[T]=ba[o].shallow.indexOf(T)>=0?B:Au(B)}}return g}throw new Error("can't deserialize object of type "+typeof r)}var Yo=function(){this.first=!0};Yo.prototype.update=function(r,o){var u=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=o):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=o),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=u,!0))};var sn={"Latin-1 Supplement":function(r){return r>=128&&r<=255},Arabic:function(r){return r>=1536&&r<=1791},"Arabic Supplement":function(r){return r>=1872&&r<=1919},"Arabic Extended-A":function(r){return r>=2208&&r<=2303},"Hangul Jamo":function(r){return r>=4352&&r<=4607},"Unified Canadian Aboriginal Syllabics":function(r){return r>=5120&&r<=5759},Khmer:function(r){return r>=6016&&r<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(r){return r>=6320&&r<=6399},"General Punctuation":function(r){return r>=8192&&r<=8303},"Letterlike Symbols":function(r){return r>=8448&&r<=8527},"Number Forms":function(r){return r>=8528&&r<=8591},"Miscellaneous Technical":function(r){return r>=8960&&r<=9215},"Control Pictures":function(r){return r>=9216&&r<=9279},"Optical Character Recognition":function(r){return r>=9280&&r<=9311},"Enclosed Alphanumerics":function(r){return r>=9312&&r<=9471},"Geometric Shapes":function(r){return r>=9632&&r<=9727},"Miscellaneous Symbols":function(r){return r>=9728&&r<=9983},"Miscellaneous Symbols and Arrows":function(r){return r>=11008&&r<=11263},"CJK Radicals Supplement":function(r){return r>=11904&&r<=12031},"Kangxi Radicals":function(r){return r>=12032&&r<=12255},"Ideographic Description Characters":function(r){return r>=12272&&r<=12287},"CJK Symbols and Punctuation":function(r){return r>=12288&&r<=12351},Hiragana:function(r){return r>=12352&&r<=12447},Katakana:function(r){return r>=12448&&r<=12543},Bopomofo:function(r){return r>=12544&&r<=12591},"Hangul Compatibility Jamo":function(r){return r>=12592&&r<=12687},Kanbun:function(r){return r>=12688&&r<=12703},"Bopomofo Extended":function(r){return r>=12704&&r<=12735},"CJK Strokes":function(r){return r>=12736&&r<=12783},"Katakana Phonetic Extensions":function(r){return r>=12784&&r<=12799},"Enclosed CJK Letters and Months":function(r){return r>=12800&&r<=13055},"CJK Compatibility":function(r){return r>=13056&&r<=13311},"CJK Unified Ideographs Extension A":function(r){return r>=13312&&r<=19903},"Yijing Hexagram Symbols":function(r){return r>=19904&&r<=19967},"CJK Unified Ideographs":function(r){return r>=19968&&r<=40959},"Yi Syllables":function(r){return r>=40960&&r<=42127},"Yi Radicals":function(r){return r>=42128&&r<=42191},"Hangul Jamo Extended-A":function(r){return r>=43360&&r<=43391},"Hangul Syllables":function(r){return r>=44032&&r<=55215},"Hangul Jamo Extended-B":function(r){return r>=55216&&r<=55295},"Private Use Area":function(r){return r>=57344&&r<=63743},"CJK Compatibility Ideographs":function(r){return r>=63744&&r<=64255},"Arabic Presentation Forms-A":function(r){return r>=64336&&r<=65023},"Vertical Forms":function(r){return r>=65040&&r<=65055},"CJK Compatibility Forms":function(r){return r>=65072&&r<=65103},"Small Form Variants":function(r){return r>=65104&&r<=65135},"Arabic Presentation Forms-B":function(r){return r>=65136&&r<=65279},"Halfwidth and Fullwidth Forms":function(r){return r>=65280&&r<=65519}};function rc(r){for(var o=0,u=r;o<u.length;o+=1)if(Ws(u[o].charCodeAt(0)))return!0;return!1}function Ws(r){return!(r!==746&&r!==747&&(r<4352||!(sn["Bopomofo Extended"](r)||sn.Bopomofo(r)||sn["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||sn["CJK Compatibility Ideographs"](r)||sn["CJK Compatibility"](r)||sn["CJK Radicals Supplement"](r)||sn["CJK Strokes"](r)||!(!sn["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||sn["CJK Unified Ideographs Extension A"](r)||sn["CJK Unified Ideographs"](r)||sn["Enclosed CJK Letters and Months"](r)||sn["Hangul Compatibility Jamo"](r)||sn["Hangul Jamo Extended-A"](r)||sn["Hangul Jamo Extended-B"](r)||sn["Hangul Jamo"](r)||sn["Hangul Syllables"](r)||sn.Hiragana(r)||sn["Ideographic Description Characters"](r)||sn.Kanbun(r)||sn["Kangxi Radicals"](r)||sn["Katakana Phonetic Extensions"](r)||sn.Katakana(r)&&r!==12540||!(!sn["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!sn["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||sn["Unified Canadian Aboriginal Syllabics"](r)||sn["Unified Canadian Aboriginal Syllabics Extended"](r)||sn["Vertical Forms"](r)||sn["Yijing Hexagram Symbols"](r)||sn["Yi Syllables"](r)||sn["Yi Radicals"](r))))}function Ao(r){return!(Ws(r)||function(o){return!!(sn["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||sn["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||sn["Letterlike Symbols"](o)||sn["Number Forms"](o)||sn["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||sn["Control Pictures"](o)&&o!==9251||sn["Optical Character Recognition"](o)||sn["Enclosed Alphanumerics"](o)||sn["Geometric Shapes"](o)||sn["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||sn["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||sn["CJK Symbols and Punctuation"](o)||sn.Katakana(o)||sn["Private Use Area"](o)||sn["CJK Compatibility Forms"](o)||sn["Small Form Variants"](o)||sn["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(r))}function Er(r){return r>=1424&&r<=2303||sn["Arabic Presentation Forms-A"](r)||sn["Arabic Presentation Forms-B"](r)}function Kc(r,o){return!(!o&&Er(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||sn.Khmer(r))}function Bp(r){for(var o=0,u=r;o<u.length;o+=1)if(Er(u[o].charCodeAt(0)))return!0;return!1}var Bf=null,mo="unavailable",Va=null,zl=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(mo="error"),Bf&&Bf(r)};function Zc(){Xc.fire(new Ue("pluginStateChange",{pluginStatus:mo,pluginURL:Va}))}var Xc=new Ne,ps=function(){return mo},zp=function(){if(mo!=="deferred"||!Va)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");mo="loading",Zc(),Va&&Nr({url:Va},function(r){r?zl(r):(mo="loaded",Zc())})},ir={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return mo==="loaded"||ir.applyArabicShaping!=null},isLoading:function(){return mo==="loading"},setState:function(r){mo=r.pluginStatus,Va=r.pluginURL},isParsed:function(){return ir.applyArabicShaping!=null&&ir.processBidirectionalText!=null&&ir.processStyledBidirectionalText!=null},getPluginURL:function(){return Va}},Wn=function(r,o){this.zoom=r,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Yo,this.transition={})};Wn.prototype.isSupportedScript=function(r){return function(o,u){for(var g=0,b=o;g<b.length;g+=1)if(!Kc(b[g].charCodeAt(0),u))return!1;return!0}(r,ir.isLoaded())},Wn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wn.prototype.getCrossfadeParameters=function(){var r=this.zoom,o=r-Math.floor(r),u=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:o+(1-o)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*o}};var ha=function(r,o){this.property=r,this.value=o,this.expression=function(u,g){if(Hc(u))return new ec(u,g);if(Ui(u)){var b=fl(u,g);if(b.result==="error")throw new Error(b.value.map(function(T){return T.key+": "+T.message}).join(", "));return b.value}var C=u;return typeof u=="string"&&g.type==="color"&&(C=bn.parse(u)),{kind:"constant",evaluate:function(){return C}}}(o===void 0?r.specification.default:o,r.specification)};ha.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ha.prototype.possiblyEvaluate=function(r,o,u){return this.property.possiblyEvaluate(this,r,o,u)};var Ti=function(r){this.property=r,this.value=new ha(r,void 0)};Ti.prototype.transitioned=function(r,o){return new Bo(this.property,this.value,o,X({},r.transition,this.transition),r.now)},Ti.prototype.untransitioned=function(){return new Bo(this.property,this.value,null,{},0)};var Bn=function(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)};Bn.prototype.getValue=function(r){return We(this._values[r].value.value)},Bn.prototype.setValue=function(r,o){this._values.hasOwnProperty(r)||(this._values[r]=new Ti(this._values[r].property)),this._values[r].value=new ha(this._values[r].property,o===null?void 0:We(o))},Bn.prototype.getTransition=function(r){return We(this._values[r].transition)},Bn.prototype.setTransition=function(r,o){this._values.hasOwnProperty(r)||(this._values[r]=new Ti(this._values[r].property)),this._values[r].transition=We(o)||void 0},Bn.prototype.serialize=function(){for(var r={},o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o],b=this.getValue(g);b!==void 0&&(r[g]=b);var C=this.getTransition(g);C!==void 0&&(r[g+"-transition"]=C)}return r},Bn.prototype.transitioned=function(r,o){for(var u=new Ha(this._properties),g=0,b=Object.keys(this._values);g<b.length;g+=1){var C=b[g];u._values[C]=this._values[C].transitioned(r,o._values[C])}return u},Bn.prototype.untransitioned=function(){for(var r=new Ha(this._properties),o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o];r._values[g]=this._values[g].untransitioned()}return r};var Bo=function(r,o,u,g,b){this.property=r,this.value=o,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,r.specification.transition&&(g.delay||g.duration)&&(this.prior=u)};Bo.prototype.possiblyEvaluate=function(r,o,u){var g=r.now||0,b=this.value.possiblyEvaluate(r,o,u),C=this.prior;if(C){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return C.possiblyEvaluate(r,o,u);var T=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(r,o,u),b,function(B){if(B<=0)return 0;if(B>=1)return 1;var j=B*B,W=j*B;return 4*(B<.5?W:3*(B-j)+W-.75)}(T))}return b};var Ha=function(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)};Ha.prototype.possiblyEvaluate=function(r,o,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(r,o,u)}return g},Ha.prototype.hasTransition=function(){for(var r=0,o=Object.keys(this._values);r<o.length;r+=1)if(this._values[o[r]].prior)return!0;return!1};var Jo=function(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)};Jo.prototype.getValue=function(r){return We(this._values[r].value)},Jo.prototype.setValue=function(r,o){this._values[r]=new ha(this._values[r].property,o===null?void 0:We(o))},Jo.prototype.serialize=function(){for(var r={},o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o],b=this.getValue(g);b!==void 0&&(r[g]=b)}return r},Jo.prototype.possiblyEvaluate=function(r,o,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(r,o,u)}return g};var ea=function(r,o,u){this.property=r,this.value=o,this.parameters=u};ea.prototype.isConstant=function(){return this.value.kind==="constant"},ea.prototype.constantOr=function(r){return this.value.kind==="constant"?this.value.value:r},ea.prototype.evaluate=function(r,o,u,g){return this.property.evaluate(this.value,this.parameters,r,o,u,g)};var qa=function(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)};qa.prototype.get=function(r){return this._values[r]};var Qt=function(r){this.specification=r};Qt.prototype.possiblyEvaluate=function(r,o){return r.expression.evaluate(o)},Qt.prototype.interpolate=function(r,o,u){var g=nu[this.specification.type];return g?g(r,o,u):r};var dt=function(r,o){this.specification=r,this.overrides=o};dt.prototype.possiblyEvaluate=function(r,o,u,g){return new ea(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(o,null,{},u,g)}:r.expression,o)},dt.prototype.interpolate=function(r,o,u){if(r.value.kind!=="constant"||o.value.kind!=="constant")return r;if(r.value.value===void 0||o.value.value===void 0)return new ea(this,{kind:"constant",value:void 0},r.parameters);var g=nu[this.specification.type];return g?new ea(this,{kind:"constant",value:g(r.value.value,o.value.value,u)},r.parameters):r},dt.prototype.evaluate=function(r,o,u,g,b,C){return r.kind==="constant"?r.value:r.evaluate(o,u,g,b,C)};var Xt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(u,g,b,C){if(u.value===void 0)return new ea(this,{kind:"constant",value:void 0},g);if(u.expression.kind==="constant"){var T=u.expression.evaluate(g,null,{},b,C),B=u.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,j=this._calculate(B,B,B,g);return new ea(this,{kind:"constant",value:j},g)}if(u.expression.kind==="camera"){var W=this._calculate(u.expression.evaluate({zoom:g.zoom-1}),u.expression.evaluate({zoom:g.zoom}),u.expression.evaluate({zoom:g.zoom+1}),g);return new ea(this,{kind:"constant",value:W},g)}return new ea(this,u.expression,g)},o.prototype.evaluate=function(u,g,b,C,T,B){if(u.kind==="source"){var j=u.evaluate(g,b,C,T,B);return this._calculate(j,j,j,g)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(g.zoom)-1},b,C),u.evaluate({zoom:Math.floor(g.zoom)},b,C),u.evaluate({zoom:Math.floor(g.zoom)+1},b,C),g):u.value},o.prototype._calculate=function(u,g,b,C){return C.zoom>C.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:b,to:g}},o.prototype.interpolate=function(u){return u},o}(dt),To=function(r){this.specification=r};To.prototype.possiblyEvaluate=function(r,o,u,g){if(r.value!==void 0){if(r.expression.kind==="constant"){var b=r.expression.evaluate(o,null,{},u,g);return this._calculate(b,b,b,o)}return this._calculate(r.expression.evaluate(new Wn(Math.floor(o.zoom-1),o)),r.expression.evaluate(new Wn(Math.floor(o.zoom),o)),r.expression.evaluate(new Wn(Math.floor(o.zoom+1),o)),o)}},To.prototype._calculate=function(r,o,u,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:r,to:o}:{from:u,to:o}},To.prototype.interpolate=function(r){return r};var Ga=function(r){this.specification=r};Ga.prototype.possiblyEvaluate=function(r,o,u,g){return!!r.expression.evaluate(o,null,{},u,g)},Ga.prototype.interpolate=function(){return!1};var zo=function(r){for(var o in this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],r){var u=r[o];u.specification.overridable&&this.overridableProperties.push(o);var g=this.defaultPropertyValues[o]=new ha(u,void 0),b=this.defaultTransitionablePropertyValues[o]=new Ti(u);this.defaultTransitioningPropertyValues[o]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=g.possiblyEvaluate({})}};rn("DataDrivenProperty",dt),rn("DataConstantProperty",Qt),rn("CrossFadedDataDrivenProperty",Xt),rn("CrossFadedProperty",To),rn("ColorRampProperty",Ga);var ji=function(r){function o(u,g){if(r.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},u.type!=="custom"&&(this.metadata=(u=u).metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),g.layout&&(this._unevaluatedLayout=new Jo(g.layout)),g.paint)){for(var b in this._transitionablePaint=new Bn(g.paint),u.paint)this.setPaintProperty(b,u.paint[b],{validate:!1});for(var C in u.layout)this.setLayoutProperty(C,u.layout[C],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qa(g.paint)}}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},o.prototype.getLayoutProperty=function(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)},o.prototype.setLayoutProperty=function(u,g,b){b===void 0&&(b={}),g!=null&&this._validate($r,"layers."+this.id+".layout."+u,u,g,b)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,g):this.visibility=g)},o.prototype.getPaintProperty=function(u){return Le(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},o.prototype.setPaintProperty=function(u,g,b){if(b===void 0&&(b={}),g!=null&&this._validate(pl,"layers."+this.id+".paint."+u,u,g,b))return!1;if(Le(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),g||void 0),!1;var C=this._transitionablePaint._values[u],T=C.property.specification["property-type"]==="cross-faded-data-driven",B=C.value.isDataDriven(),j=C.value;this._transitionablePaint.setValue(u,g),this._handleSpecialPaintPropertyUpdate(u);var W=this._transitionablePaint._values[u].value;return W.isDataDriven()||B||T||this._handleOverridablePaintPropertyUpdate(u,j,W)},o.prototype._handleSpecialPaintPropertyUpdate=function(u){},o.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!1},o.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"},o.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},o.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},o.prototype.recalculate=function(u,g){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,g)},o.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),ot(u,function(g,b){return!(g===void 0||b==="layout"&&!Object.keys(g).length||b==="paint"&&!Object.keys(g).length)})},o.prototype._validate=function(u,g,b,C,T){return T===void 0&&(T={}),(!T||T.validate!==!1)&&nc(this,u.call(fs,{key:g,layerType:this.type,objectKey:b,value:C,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))},o.prototype.is3D=function(){return!1},o.prototype.isTileClipped=function(){return!1},o.prototype.hasOffscreenPass=function(){return!1},o.prototype.resize=function(){},o.prototype.isStateDependent=function(){for(var u in this.paint._values){var g=this.paint.get(u);if(g instanceof ea&&Fl(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},o}(Ne),Np={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ta=function(r,o){this._structArray=r,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},h=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function m(r,o){o===void 0&&(o=1);var u=0,g=0;return{members:r.map(function(b){var C=Np[b.type].BYTES_PER_ELEMENT,T=u=v(u,Math.max(o,C)),B=b.components||1;return g=Math.max(g,C),u+=C*B,{name:b.name,type:b.type,components:B,offset:T}}),size:v(u,Math.max(g,o)),alignment:o}}function v(r,o){return Math.ceil(r/o)*o}h.serialize=function(r,o){return r._trim(),o&&(r.isTransferred=!0,o.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}},h.deserialize=function(r){var o=Object.create(this.prototype);return o.arrayBuffer=r.arrayBuffer,o.length=r.length,o.capacity=r.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o},h.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},h.prototype.clear=function(){this.length=0},h.prototype.resize=function(r){this.reserve(r),this.length=r},h.prototype.reserve=function(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}},h.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.int16[C+0]=g,this.int16[C+1]=b,u},o}(h);_.prototype.bytesPerElement=4,rn("StructArrayLayout2i4",_);var k=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var B=4*u;return this.int16[B+0]=g,this.int16[B+1]=b,this.int16[B+2]=C,this.int16[B+3]=T,u},o}(h);k.prototype.bytesPerElement=8,rn("StructArrayLayout4i8",k);var M=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},o.prototype.emplace=function(u,g,b,C,T,B,j){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=C,this.int16[W+3]=T,this.int16[W+4]=B,this.int16[W+5]=j,u},o}(h);M.prototype.bytesPerElement=12,rn("StructArrayLayout2i4i12",M);var I=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},o.prototype.emplace=function(u,g,b,C,T,B,j){var W=4*u,Z=8*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.uint8[Z+4]=C,this.uint8[Z+5]=T,this.uint8[Z+6]=B,this.uint8[Z+7]=j,u},o}(h);I.prototype.bytesPerElement=8,rn("StructArrayLayout2i4ub8",I);var z=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.float32[C+0]=g,this.float32[C+1]=b,u},o}(h);z.prototype.bytesPerElement=8,rn("StructArrayLayout2f8",z);var Q=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y){var ue=this.length;return this.resize(ue+1),this.emplace(ue,u,g,b,C,T,B,j,W,Z,Y)},o.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue){var he=10*u;return this.uint16[he+0]=g,this.uint16[he+1]=b,this.uint16[he+2]=C,this.uint16[he+3]=T,this.uint16[he+4]=B,this.uint16[he+5]=j,this.uint16[he+6]=W,this.uint16[he+7]=Z,this.uint16[he+8]=Y,this.uint16[he+9]=ue,u},o}(h);Q.prototype.bytesPerElement=20,rn("StructArrayLayout10ui20",Q);var ie=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,u,g,b,C,T,B,j,W,Z,Y,ue,he)},o.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce){var Ee=12*u;return this.int16[Ee+0]=g,this.int16[Ee+1]=b,this.int16[Ee+2]=C,this.int16[Ee+3]=T,this.uint16[Ee+4]=B,this.uint16[Ee+5]=j,this.uint16[Ee+6]=W,this.uint16[Ee+7]=Z,this.int16[Ee+8]=Y,this.int16[Ee+9]=ue,this.int16[Ee+10]=he,this.int16[Ee+11]=Ce,u},o}(h);ie.prototype.bytesPerElement=24,rn("StructArrayLayout4i4ui4i24",ie);var fe=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.float32[T+0]=g,this.float32[T+1]=b,this.float32[T+2]=C,u},o}(h);fe.prototype.bytesPerElement=12,rn("StructArrayLayout3f12",fe);var Fe=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.uint32[1*u+0]=g,u},o}(h);Fe.prototype.bytesPerElement=4,rn("StructArrayLayout1ul4",Fe);var Ke=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z){var Y=this.length;return this.resize(Y+1),this.emplace(Y,u,g,b,C,T,B,j,W,Z)},o.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y){var ue=10*u,he=5*u;return this.int16[ue+0]=g,this.int16[ue+1]=b,this.int16[ue+2]=C,this.int16[ue+3]=T,this.int16[ue+4]=B,this.int16[ue+5]=j,this.uint32[he+3]=W,this.uint16[ue+8]=Z,this.uint16[ue+9]=Y,u},o}(h);Ke.prototype.bytesPerElement=20,rn("StructArrayLayout6i1ul2ui20",Ke);var it=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},o.prototype.emplace=function(u,g,b,C,T,B,j){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=C,this.int16[W+3]=T,this.int16[W+4]=B,this.int16[W+5]=j,u},o}(h);it.prototype.bytesPerElement=12,rn("StructArrayLayout2i2i2i12",it);var wt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T){var B=this.length;return this.resize(B+1),this.emplace(B,u,g,b,C,T)},o.prototype.emplace=function(u,g,b,C,T,B){var j=4*u,W=8*u;return this.float32[j+0]=g,this.float32[j+1]=b,this.float32[j+2]=C,this.int16[W+6]=T,this.int16[W+7]=B,u},o}(h);wt.prototype.bytesPerElement=16,rn("StructArrayLayout2f1f2i16",wt);var Et=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var B=12*u,j=3*u;return this.uint8[B+0]=g,this.uint8[B+1]=b,this.float32[j+1]=C,this.float32[j+2]=T,u},o}(h);Et.prototype.bytesPerElement=12,rn("StructArrayLayout2ub2f12",Et);var Nt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.uint16[T+0]=g,this.uint16[T+1]=b,this.uint16[T+2]=C,u},o}(h);Nt.prototype.bytesPerElement=6,rn("StructArrayLayout3ui6",Nt);var ln=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt)},o.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt,rt){var ft=24*u,pt=12*u,kt=48*u;return this.int16[ft+0]=g,this.int16[ft+1]=b,this.uint16[ft+2]=C,this.uint16[ft+3]=T,this.uint32[pt+2]=B,this.uint32[pt+3]=j,this.uint32[pt+4]=W,this.uint16[ft+10]=Z,this.uint16[ft+11]=Y,this.uint16[ft+12]=ue,this.float32[pt+7]=he,this.float32[pt+8]=Ce,this.uint8[kt+36]=Ee,this.uint8[kt+37]=Ve,this.uint8[kt+38]=Re,this.uint32[pt+10]=tt,this.int16[ft+22]=rt,u},o}(h);ln.prototype.bytesPerElement=48,rn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ln);var mt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt,rt,ft,pt,kt,Ut,Kt,gn,en,En,nn,Zn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt,rt,ft,pt,kt,Ut,Kt,gn,en,En,nn,Zn)},o.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee,Ve,Re,tt,rt,ft,pt,kt,Ut,Kt,gn,en,En,nn,Zn,Mn){var yn=34*u,or=17*u;return this.int16[yn+0]=g,this.int16[yn+1]=b,this.int16[yn+2]=C,this.int16[yn+3]=T,this.int16[yn+4]=B,this.int16[yn+5]=j,this.int16[yn+6]=W,this.int16[yn+7]=Z,this.uint16[yn+8]=Y,this.uint16[yn+9]=ue,this.uint16[yn+10]=he,this.uint16[yn+11]=Ce,this.uint16[yn+12]=Ee,this.uint16[yn+13]=Ve,this.uint16[yn+14]=Re,this.uint16[yn+15]=tt,this.uint16[yn+16]=rt,this.uint16[yn+17]=ft,this.uint16[yn+18]=pt,this.uint16[yn+19]=kt,this.uint16[yn+20]=Ut,this.uint16[yn+21]=Kt,this.uint16[yn+22]=gn,this.uint32[or+12]=en,this.float32[or+13]=En,this.float32[or+14]=nn,this.float32[or+15]=Zn,this.float32[or+16]=Mn,u},o}(h);mt.prototype.bytesPerElement=68,rn("StructArrayLayout8i15ui1ul4f68",mt);var Lt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.float32[1*u+0]=g,u},o}(h);Lt.prototype.bytesPerElement=4,rn("StructArrayLayout1f4",Lt);var Xe=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.int16[T+0]=g,this.int16[T+1]=b,this.int16[T+2]=C,u},o}(h);Xe.prototype.bytesPerElement=6,rn("StructArrayLayout3i6",Xe);var vn=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=4*u;return this.uint32[2*u+0]=g,this.uint16[T+2]=b,this.uint16[T+3]=C,u},o}(h);vn.prototype.bytesPerElement=8,rn("StructArrayLayout1ul2ui8",vn);var _n=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.uint16[C+0]=g,this.uint16[C+1]=b,u},o}(h);_n.prototype.bytesPerElement=4,rn("StructArrayLayout2ui4",_n);var Wt=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.uint16[1*u+0]=g,u},o}(h);Wt.prototype.bytesPerElement=2,rn("StructArrayLayout1ui2",Wt);var c=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var B=4*u;return this.float32[B+0]=g,this.float32[B+1]=b,this.float32[B+2]=C,this.float32[B+3]=T,u},o}(h);c.prototype.bytesPerElement=16,rn("StructArrayLayout4f16",c);var p=function(r){function o(){r.apply(this,arguments)}r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new L(this.anchorPointX,this.anchorPointY)},Object.defineProperties(o.prototype,u),o}(ta);p.prototype.size=20;var f=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.get=function(u){return new p(this,u)},o}(Ke);rn("CollisionBoxArray",f);var y=function(r){function o(){r.apply(this,arguments)}r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(o.prototype,u),o}(ta);y.prototype.size=48;var E=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.get=function(u){return new y(this,u)},o}(ln);rn("PlacedSymbolArray",E);var O=function(r){function o(){r.apply(this,arguments)}r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(o.prototype,u),o}(ta);O.prototype.size=68;var R=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.get=function(u){return new O(this,u)},o}(mt);rn("SymbolInstanceArray",R);var U=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.getoffsetX=function(u){return this.float32[1*u+0]},o}(Lt);rn("GlyphOffsetArray",U);var G=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.getx=function(u){return this.int16[3*u+0]},o.prototype.gety=function(u){return this.int16[3*u+1]},o.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},o}(Xe);rn("SymbolLineVertexArray",G);var ne=function(r){function o(){r.apply(this,arguments)}r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(o.prototype,u),o}(ta);ne.prototype.size=8;var Ae=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.get=function(u){return new ne(this,u)},o}(vn);rn("FeatureIndexArray",Ae);var ve=m([{name:"a_pos",components:2,type:"Int16"}],4).members,de=function(r){r===void 0&&(r=[]),this.segments=r};function Ie(r,o){return 256*(r=te(Math.floor(r),0,255))+te(Math.floor(o),0,255)}de.prototype.prepareSegment=function(r,o,u,g){var b=this.segments[this.segments.length-1];return r>de.MAX_VERTEX_ARRAY_LENGTH&&yt("Max vertices per segment is "+de.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+r),(!b||b.vertexLength+r>de.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:o.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b},de.prototype.get=function(){return this.segments},de.prototype.destroy=function(){for(var r=0,o=this.segments;r<o.length;r+=1){var u=o[r];for(var g in u.vaos)u.vaos[g].destroy()}},de.simpleSegment=function(r,o,u,g){return new de([{vertexOffset:r,primitiveOffset:o,vertexLength:u,primitiveLength:g,vaos:{},sortKey:0}])},de.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,rn("SegmentVector",de);var Pe=m([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ze=x(function(r){r.exports=function(o,u){var g,b,C,T,B,j,W,Z;for(b=o.length-(g=3&o.length),C=u,B=3432918353,j=461845907,Z=0;Z<b;)W=255&o.charCodeAt(Z)|(255&o.charCodeAt(++Z))<<8|(255&o.charCodeAt(++Z))<<16|(255&o.charCodeAt(++Z))<<24,++Z,C=27492+(65535&(T=5*(65535&(C=(C^=W=(65535&(W=(W=(65535&W)*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*j+(((W>>>16)*j&65535)<<16)&4294967295)<<13|C>>>19))+((5*(C>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(W=0,g){case 3:W^=(255&o.charCodeAt(Z+2))<<16;case 2:W^=(255&o.charCodeAt(Z+1))<<8;case 1:C^=W=(65535&(W=(W=(65535&(W^=255&o.charCodeAt(Z)))*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*j+(((W>>>16)*j&65535)<<16)&4294967295}return C^=o.length,C=2246822507*(65535&(C^=C>>>16))+((2246822507*(C>>>16)&65535)<<16)&4294967295,C=3266489909*(65535&(C^=C>>>13))+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^=C>>>16)>>>0}}),ke=x(function(r){r.exports=function(o,u){for(var g,b=o.length,C=u^b,T=0;b>=4;)g=1540483477*(65535&(g=255&o.charCodeAt(T)|(255&o.charCodeAt(++T))<<8|(255&o.charCodeAt(++T))<<16|(255&o.charCodeAt(++T))<<24))+((1540483477*(g>>>16)&65535)<<16),C=1540483477*(65535&C)+((1540483477*(C>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),b-=4,++T;switch(b){case 3:C^=(255&o.charCodeAt(T+2))<<16;case 2:C^=(255&o.charCodeAt(T+1))<<8;case 1:C=1540483477*(65535&(C^=255&o.charCodeAt(T)))+((1540483477*(C>>>16)&65535)<<16)}return C=1540483477*(65535&(C^=C>>>13))+((1540483477*(C>>>16)&65535)<<16),(C^=C>>>15)>>>0}}),Be=ze,Qe=ke;Be.murmur3=ze,Be.murmur2=Qe;var et=function(){this.ids=[],this.positions=[],this.indexed=!1};et.prototype.add=function(r,o,u,g){this.ids.push(ht(r)),this.positions.push(o,u,g)},et.prototype.getPositions=function(r){for(var o=ht(r),u=0,g=this.ids.length-1;u<g;){var b=u+g>>1;this.ids[b]>=o?g=b:u=b+1}for(var C=[];this.ids[u]===o;)C.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return C},et.serialize=function(r,o){var u=new Float64Array(r.ids),g=new Uint32Array(r.positions);return function b(C,T,B,j){for(;B<j;){for(var W=C[B+j>>1],Z=B-1,Y=j+1;;){do Z++;while(C[Z]<W);do Y--;while(C[Y]>W);if(Z>=Y)break;gt(C,Z,Y),gt(T,3*Z,3*Y),gt(T,3*Z+1,3*Y+1),gt(T,3*Z+2,3*Y+2)}Y-B<j-Y?(b(C,T,B,Y),B=Y+1):(b(C,T,Y+1,j),j=Y)}}(u,g,0,u.length-1),o&&o.push(u.buffer,g.buffer),{ids:u,positions:g}},et.deserialize=function(r){var o=new et;return o.ids=r.ids,o.positions=r.positions,o.indexed=!0,o};var At=Math.pow(2,53)-1;function ht(r){var o=+r;return!isNaN(o)&&o<=At?o:Be(String(r))}function gt(r,o,u){var g=r[o];r[o]=r[u],r[u]=g}rn("FeaturePositionMap",et);var Pt=function(r,o){this.gl=r.gl,this.location=o},zt=function(r){function o(u,g){r.call(this,u,g),this.current=0}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},o}(Pt),Rt=function(r){function o(u,g){r.call(this,u,g),this.current=0}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},o}(Pt),Jt=function(r){function o(u,g){r.call(this,u,g),this.current=[0,0]}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},o}(Pt),mn=function(r){function o(u,g){r.call(this,u,g),this.current=[0,0,0]}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},o}(Pt),Tn=function(r){function o(u,g){r.call(this,u,g),this.current=[0,0,0,0]}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},o}(Pt),kn=function(r){function o(u,g){r.call(this,u,g),this.current=bn.transparent}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},o}(Pt),_r=new Float32Array(16),fn=function(r){function o(u,g){r.call(this,u,g),this.current=_r}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var g=1;g<16;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},o}(Pt);function Dn(r){return[Ie(255*r.r,255*r.g),Ie(255*r.b,255*r.a)]}var tr=function(r,o,u){this.value=r,this.uniformNames=o.map(function(g){return"u_"+g}),this.type=u};tr.prototype.setUniform=function(r,o,u){r.set(u.constantOr(this.value))},tr.prototype.getBinding=function(r,o,u){return this.type==="color"?new kn(r,o):new Rt(r,o)};var Vn=function(r,o){this.uniformNames=o.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(r,o){this.pixelRatioFrom=o.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=o.tlbr,this.patternTo=r.tlbr},Vn.prototype.setUniform=function(r,o,u,g){var b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&r.set(b)},Vn.prototype.getBinding=function(r,o,u){return u.substr(0,9)==="u_pattern"?new Tn(r,o):new Rt(r,o)};var zn=function(r,o,u,g){this.expression=r,this.type=u,this.maxValue=0,this.paintVertexAttributes=o.map(function(b){return{name:"a_"+b,type:"Float32",components:u==="color"?2:1,offset:0}}),this.paintVertexArray=new g};zn.prototype.populatePaintArray=function(r,o,u,g,b){var C=this.paintVertexArray.length,T=this.expression.evaluate(new Wn(0),o,{},g,[],b);this.paintVertexArray.resize(r),this._setPaintValue(C,r,T)},zn.prototype.updatePaintArray=function(r,o,u,g){var b=this.expression.evaluate({zoom:0},u,g);this._setPaintValue(r,o,b)},zn.prototype._setPaintValue=function(r,o,u){if(this.type==="color")for(var g=Dn(u),b=r;b<o;b++)this.paintVertexArray.emplace(b,g[0],g[1]);else{for(var C=r;C<o;C++)this.paintVertexArray.emplace(C,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},zn.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},zn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Un=function(r,o,u,g,b,C){this.expression=r,this.uniformNames=o.map(function(T){return"u_"+T+"_t"}),this.type=u,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=o.map(function(T){return{name:"a_"+T,type:"Float32",components:u==="color"?4:2,offset:0}}),this.paintVertexArray=new C};Un.prototype.populatePaintArray=function(r,o,u,g,b){var C=this.expression.evaluate(new Wn(this.zoom),o,{},g,[],b),T=this.expression.evaluate(new Wn(this.zoom+1),o,{},g,[],b),B=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(B,r,C,T)},Un.prototype.updatePaintArray=function(r,o,u,g){var b=this.expression.evaluate({zoom:this.zoom},u,g),C=this.expression.evaluate({zoom:this.zoom+1},u,g);this._setPaintValue(r,o,b,C)},Un.prototype._setPaintValue=function(r,o,u,g){if(this.type==="color")for(var b=Dn(u),C=Dn(g),T=r;T<o;T++)this.paintVertexArray.emplace(T,b[0],b[1],C[0],C[1]);else{for(var B=r;B<o;B++)this.paintVertexArray.emplace(B,u,g);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(g))}},Un.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Un.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Un.prototype.setUniform=function(r,o){var u=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,g=te(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);r.set(g)},Un.prototype.getBinding=function(r,o,u){return new Rt(r,o)};var Rn=function(r,o,u,g,b,C){this.expression=r,this.type=o,this.useIntegerZoom=u,this.zoom=g,this.layerId=C,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};Rn.prototype.populatePaintArray=function(r,o,u){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(g,r,o.patterns&&o.patterns[this.layerId],u)},Rn.prototype.updatePaintArray=function(r,o,u,g,b){this._setPaintValues(r,o,u.patterns&&u.patterns[this.layerId],b)},Rn.prototype._setPaintValues=function(r,o,u,g){if(g&&u){var b=g[u.min],C=g[u.mid],T=g[u.max];if(b&&C&&T)for(var B=r;B<o;B++)this.zoomInPaintVertexArray.emplace(B,C.tl[0],C.tl[1],C.br[0],C.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],C.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,C.tl[0],C.tl[1],C.br[0],C.br[1],T.tl[0],T.tl[1],T.br[0],T.br[1],C.pixelRatio,T.pixelRatio)}},Rn.prototype.upload=function(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Pe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Pe.members,this.expression.isStateDependent))},Rn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var An=function(r,o,u){this.binders={},this._buffers=[];var g=[];for(var b in r.paint._values)if(u(b)){var C=r.paint.get(b);if(C instanceof ea&&Fl(C.property.specification)){var T=Vi(b,r.type),B=C.value,j=C.property.specification.type,W=C.property.useIntegerZoom,Z=C.property.specification["property-type"],Y=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[b]=Y?new Vn(B.value,T):new tr(B.value,T,j),g.push("/u_"+b);else if(B.kind==="source"||Y){var ue=Ii(b,j,"source");this.binders[b]=Y?new Rn(B,j,W,o,ue,r.id):new zn(B,T,j,ue),g.push("/a_"+b)}else{var he=Ii(b,j,"composite");this.binders[b]=new Un(B,T,j,W,o,he),g.push("/z_"+b)}}}this.cacheKey=g.sort().join("")};An.prototype.getMaxValue=function(r){var o=this.binders[r];return o instanceof zn||o instanceof Un?o.maxValue:0},An.prototype.populatePaintArrays=function(r,o,u,g,b){for(var C in this.binders){var T=this.binders[C];(T instanceof zn||T instanceof Un||T instanceof Rn)&&T.populatePaintArray(r,o,u,g,b)}},An.prototype.setConstantPatternPositions=function(r,o){for(var u in this.binders){var g=this.binders[u];g instanceof Vn&&g.setConstantPatternPositions(r,o)}},An.prototype.updatePaintArrays=function(r,o,u,g,b){var C=!1;for(var T in r)for(var B=0,j=o.getPositions(T);B<j.length;B+=1){var W=j[B],Z=u.feature(W.index);for(var Y in this.binders){var ue=this.binders[Y];if((ue instanceof zn||ue instanceof Un||ue instanceof Rn)&&ue.expression.isStateDependent===!0){var he=g.paint.get(Y);ue.expression=he.value,ue.updatePaintArray(W.start,W.end,Z,r[T],b),C=!0}}}return C},An.prototype.defines=function(){var r=[];for(var o in this.binders){var u=this.binders[o];(u instanceof tr||u instanceof Vn)&&r.push.apply(r,u.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return r},An.prototype.getBinderAttributes=function(){var r=[];for(var o in this.binders){var u=this.binders[o];if(u instanceof zn||u instanceof Un)for(var g=0;g<u.paintVertexAttributes.length;g++)r.push(u.paintVertexAttributes[g].name);else if(u instanceof Rn)for(var b=0;b<Pe.members.length;b++)r.push(Pe.members[b].name)}return r},An.prototype.getBinderUniforms=function(){var r=[];for(var o in this.binders){var u=this.binders[o];if(u instanceof tr||u instanceof Vn||u instanceof Un)for(var g=0,b=u.uniformNames;g<b.length;g+=1)r.push(b[g])}return r},An.prototype.getPaintVertexBuffers=function(){return this._buffers},An.prototype.getUniforms=function(r,o){var u=[];for(var g in this.binders){var b=this.binders[g];if(b instanceof tr||b instanceof Vn||b instanceof Un)for(var C=0,T=b.uniformNames;C<T.length;C+=1){var B=T[C];if(o[B]){var j=b.getBinding(r,o[B],B);u.push({name:B,property:g,binding:j})}}}return u},An.prototype.setUniforms=function(r,o,u,g){for(var b=0,C=o;b<C.length;b+=1){var T=C[b],B=T.name,j=T.property;this.binders[j].setUniform(T.binding,g,u.get(j),B)}},An.prototype.updatePaintBuffers=function(r){for(var o in this._buffers=[],this.binders){var u=this.binders[o];if(r&&u instanceof Rn){var g=r.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(u instanceof zn||u instanceof Un)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},An.prototype.upload=function(r){for(var o in this.binders){var u=this.binders[o];(u instanceof zn||u instanceof Un||u instanceof Rn)&&u.upload(r)}this.updatePaintBuffers()},An.prototype.destroy=function(){for(var r in this.binders){var o=this.binders[r];(o instanceof zn||o instanceof Un||o instanceof Rn)&&o.destroy()}};var qr=function(r,o,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var g=0,b=r;g<b.length;g+=1){var C=b[g];this.programConfigurations[C.id]=new An(C,o,u)}this.needsUpload=!1,this._featureMap=new et,this._bufferOffset=0};function Vi(r,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(o+"-","").replace(/-/g,"_")]}function Ii(r,o,u){var g={color:{source:z,composite:c},number:{source:Lt,composite:z}},b=function(C){return{"line-pattern":{source:Q,composite:Q},"fill-pattern":{source:Q,composite:Q},"fill-extrusion-pattern":{source:Q,composite:Q}}[C]}(r);return b&&b[u]||g[o][u]}qr.prototype.populatePaintArrays=function(r,o,u,g,b,C){for(var T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(r,o,g,b,C);o.id!==void 0&&this._featureMap.add(o.id,u,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0},qr.prototype.updatePaintArrays=function(r,o,u,g){for(var b=0,C=u;b<C.length;b+=1){var T=C[b];this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(r,this._featureMap,o,T,g)||this.needsUpload}},qr.prototype.get=function(r){return this.programConfigurations[r]},qr.prototype.upload=function(r){if(this.needsUpload){for(var o in this.programConfigurations)this.programConfigurations[o].upload(r);this.needsUpload=!1}},qr.prototype.destroy=function(){for(var r in this.programConfigurations)this.programConfigurations[r].destroy()},rn("ConstantBinder",tr),rn("CrossFadedConstantBinder",Vn),rn("SourceExpressionBinder",zn),rn("CrossFadedCompositeBinder",Rn),rn("CompositeExpressionBinder",Un),rn("ProgramConfiguration",An,{omit:["_buffers"]}),rn("ProgramConfigurationSet",qr);var so=Math.pow(2,14)-1,Xi=-so-1;function ci(r){for(var o=8192/r.extent,u=r.loadGeometry(),g=0;g<u.length;g++)for(var b=u[g],C=0;C<b.length;C++){var T=b[C],B=Math.round(T.x*o),j=Math.round(T.y*o);T.x=te(B,Xi,so),T.y=te(j,Xi,so),(B<T.x||B>T.x+1||j<T.y||j>T.y+1)&&yt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function na(r,o){return{type:r.type,id:r.id,properties:r.properties,geometry:o?ci(r):[]}}function Hi(r,o,u,g,b){r.emplaceBack(2*o+(g+1)/2,2*u+(b+1)/2)}var ra=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Nt,this.segments=new de,this.programConfigurations=new qr(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function wa(r,o){for(var u=0;u<r.length;u++)if(Qa(o,r[u]))return!0;for(var g=0;g<o.length;g++)if(Qa(r,o[g]))return!0;return!!du(r,o)}function hl(r,o,u){return!!Qa(r,o)||!!mu(o,r,u)}function hs(r,o){if(r.length===1)return Yc(o,r[0]);for(var u=0;u<o.length;u++)for(var g=o[u],b=0;b<g.length;b++)if(Qa(r,g[b]))return!0;for(var C=0;C<r.length;C++)if(Yc(o,r[C]))return!0;for(var T=0;T<o.length;T++)if(du(r,o[T]))return!0;return!1}function zf(r,o,u){if(r.length>1){if(du(r,o))return!0;for(var g=0;g<o.length;g++)if(mu(o[g],r,u))return!0}for(var b=0;b<r.length;b++)if(mu(r[b],o,u))return!0;return!1}function du(r,o){if(r.length===0||o.length===0)return!1;for(var u=0;u<r.length-1;u++)for(var g=r[u],b=r[u+1],C=0;C<o.length-1;C++)if(Al(g,b,o[C],o[C+1]))return!0;return!1}function Al(r,o,u,g){return Bt(r,u,g)!==Bt(o,u,g)&&Bt(r,o,u)!==Bt(r,o,g)}function mu(r,o,u){var g=u*u;if(o.length===1)return r.distSqr(o[0])<g;for(var b=1;b<o.length;b++)if(Nf(r,o[b-1],o[b])<g)return!0;return!1}function Nf(r,o,u){var g=o.distSqr(u);if(g===0)return r.distSqr(o);var b=((r.x-o.x)*(u.x-o.x)+(r.y-o.y)*(u.y-o.y))/g;return r.distSqr(b<0?o:b>1?u:u.sub(o)._mult(b)._add(o))}function Yc(r,o){for(var u,g,b,C=!1,T=0;T<r.length;T++)for(var B=0,j=(u=r[T]).length-1;B<u.length;j=B++)(g=u[B]).y>o.y!=(b=u[j]).y>o.y&&o.x<(b.x-g.x)*(o.y-g.y)/(b.y-g.y)+g.x&&(C=!C);return C}function Qa(r,o){for(var u=!1,g=0,b=r.length-1;g<r.length;b=g++){var C=r[g],T=r[b];C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(u=!u)}return u}function Jc(r,o,u){var g=u[0],b=u[2];if(r.x<g.x&&o.x<g.x||r.x>b.x&&o.x>b.x||r.y<g.y&&o.y<g.y||r.y>b.y&&o.y>b.y)return!1;var C=Bt(r,o,u[0]);return C!==Bt(r,o,u[1])||C!==Bt(r,o,u[2])||C!==Bt(r,o,u[3])}function go(r,o,u){var g=o.paint.get(r).value;return g.kind==="constant"?g.value:u.programConfigurations.get(o.id).getMaxValue(r)}function Ks(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function ks(r,o,u,g,b){if(!o[0]&&!o[1])return r;var C=L.convert(o)._mult(b);u==="viewport"&&C._rotate(-g);for(var T=[],B=0;B<r.length;B++)T.push(r[B].sub(C));return T}ra.prototype.populate=function(r,o,u){var g=this.layers[0],b=[],C=null,T=!1;g.type==="circle"&&(T=!(C=g.layout.get("circle-sort-key")).isConstant());for(var B=0,j=r;B<j.length;B+=1){var W=j[B],Z=W.feature,Y=W.id,ue=W.index,he=W.sourceLayerIndex,Ce=this.layers[0]._featureFilter.needGeometry,Ee=na(Z,Ce);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ee,u)){var Ve=T?C.evaluate(Ee,{},u):void 0,Re={id:Y,properties:Z.properties,type:Z.type,sourceLayerIndex:he,index:ue,geometry:Ce?Ee.geometry:ci(Z),patterns:{},sortKey:Ve};b.push(Re)}}T&&b.sort(function(gn,en){return gn.sortKey-en.sortKey});for(var tt=0,rt=b;tt<rt.length;tt+=1){var ft=rt[tt],pt=ft.geometry,kt=ft.index,Ut=ft.sourceLayerIndex,Kt=r[kt].feature;this.addFeature(ft,pt,kt,u),o.featureIndex.insert(Kt,pt,kt,Ut,this.index)}},ra.prototype.update=function(r,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,o,this.stateDependentLayers,u)},ra.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ra.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ra.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,ve),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},ra.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ra.prototype.addFeature=function(r,o,u,g){for(var b=0,C=o;b<C.length;b+=1)for(var T=0,B=C[b];T<B.length;T+=1){var j=B[T],W=j.x,Z=j.y;if(!(W<0||W>=8192||Z<0||Z>=8192)){var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),ue=Y.vertexLength;Hi(this.layoutVertexArray,W,Z,-1,-1),Hi(this.layoutVertexArray,W,Z,1,-1),Hi(this.layoutVertexArray,W,Z,1,1),Hi(this.layoutVertexArray,W,Z,-1,1),this.indexArray.emplaceBack(ue,ue+1,ue+2),this.indexArray.emplaceBack(ue,ue+3,ue+2),Y.vertexLength+=4,Y.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,{},g)},rn("CircleBucket",ra,{omit:["layers"]});var ic=new zo({"circle-sort-key":new dt(xe.layout_circle["circle-sort-key"])}),Yi={paint:new zo({"circle-radius":new dt(xe.paint_circle["circle-radius"]),"circle-color":new dt(xe.paint_circle["circle-color"]),"circle-blur":new dt(xe.paint_circle["circle-blur"]),"circle-opacity":new dt(xe.paint_circle["circle-opacity"]),"circle-translate":new Qt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new dt(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new dt(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new dt(xe.paint_circle["circle-stroke-opacity"])}),layout:ic},qi=typeof Float32Array<"u"?Float32Array:Array;function Aa(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function oc(r,o,u){var g=o[0],b=o[1],C=o[2],T=o[3],B=o[4],j=o[5],W=o[6],Z=o[7],Y=o[8],ue=o[9],he=o[10],Ce=o[11],Ee=o[12],Ve=o[13],Re=o[14],tt=o[15],rt=u[0],ft=u[1],pt=u[2],kt=u[3];return r[0]=rt*g+ft*B+pt*Y+kt*Ee,r[1]=rt*b+ft*j+pt*ue+kt*Ve,r[2]=rt*C+ft*W+pt*he+kt*Re,r[3]=rt*T+ft*Z+pt*Ce+kt*tt,r[4]=(rt=u[4])*g+(ft=u[5])*B+(pt=u[6])*Y+(kt=u[7])*Ee,r[5]=rt*b+ft*j+pt*ue+kt*Ve,r[6]=rt*C+ft*W+pt*he+kt*Re,r[7]=rt*T+ft*Z+pt*Ce+kt*tt,r[8]=(rt=u[8])*g+(ft=u[9])*B+(pt=u[10])*Y+(kt=u[11])*Ee,r[9]=rt*b+ft*j+pt*ue+kt*Ve,r[10]=rt*C+ft*W+pt*he+kt*Re,r[11]=rt*T+ft*Z+pt*Ce+kt*tt,r[12]=(rt=u[12])*g+(ft=u[13])*B+(pt=u[14])*Y+(kt=u[15])*Ee,r[13]=rt*b+ft*j+pt*ue+kt*Ve,r[14]=rt*C+ft*W+pt*he+kt*Re,r[15]=rt*T+ft*Z+pt*Ce+kt*tt,r}Math.hypot||(Math.hypot=function(){for(var r=arguments,o=0,u=arguments.length;u--;)o+=r[u]*r[u];return Math.sqrt(o)});var Up,Kh=oc;function Uf(r,o,u){var g=o[0],b=o[1],C=o[2],T=o[3];return r[0]=u[0]*g+u[4]*b+u[8]*C+u[12]*T,r[1]=u[1]*g+u[5]*b+u[9]*C+u[13]*T,r[2]=u[2]*g+u[6]*b+u[10]*C+u[14]*T,r[3]=u[3]*g+u[7]*b+u[11]*C+u[15]*T,r}Up=new qi(3),qi!=Float32Array&&(Up[0]=0,Up[1]=0,Up[2]=0),function(){var r=new qi(4);qi!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0)}();var $f=(function(){var r=new qi(2);qi!=Float32Array&&(r[0]=0,r[1]=0)}(),function(r){function o(u){r.call(this,u,Yi)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.createBucket=function(u){return new ra(u)},o.prototype.queryRadius=function(u){var g=u;return go("circle-radius",this,g)+go("circle-stroke-width",this,g)+Ks(this.paint.get("circle-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j,W){for(var Z=ks(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,j),Y=this.paint.get("circle-radius").evaluate(g,b)+this.paint.get("circle-stroke-width").evaluate(g,b),ue=this.paint.get("circle-pitch-alignment")==="map",he=ue?Z:function(Ut,Kt){return Ut.map(function(gn){return Zh(gn,Kt)})}(Z,W),Ce=ue?Y*j:Y,Ee=0,Ve=C;Ee<Ve.length;Ee+=1)for(var Re=0,tt=Ve[Ee];Re<tt.length;Re+=1){var rt=tt[Re],ft=ue?rt:Zh(rt,W),pt=Ce,kt=Uf([],[rt.x,rt.y,0,1],W);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pt*=kt[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pt*=B.cameraToCenterDistance/kt[3]),hl(he,ft,pt))return!0}return!1},o}(ji));function Zh(r,o){var u=Uf([],[r.x,r.y,0,1],o);return new L(u[0]/u[3],u[1]/u[3])}var gu=function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o}(ra);function jf(r,o,u,g){var b=o.width,C=o.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==b*C*u)throw new RangeError("mismatched image size")}else g=new Uint8Array(b*C*u);return r.width=b,r.height=C,r.data=g,r}function W0(r,o,u){var g=o.width,b=o.height;if(g!==r.width||b!==r.height){var C=jf({},{width:g,height:b},u);id(r,C,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,g),height:Math.min(r.height,b)},u),r.width=g,r.height=b,r.data=C.data}}function id(r,o,u,g,b,C){if(b.width===0||b.height===0)return o;if(b.width>r.width||b.height>r.height||u.x>r.width-b.width||u.y>r.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>o.width||b.height>o.height||g.x>o.width-b.width||g.y>o.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var T=r.data,B=o.data,j=0;j<b.height;j++)for(var W=((u.y+j)*r.width+u.x)*C,Z=((g.y+j)*o.width+g.x)*C,Y=0;Y<b.width*C;Y++)B[Z+Y]=T[W+Y];return o}rn("HeatmapBucket",gu,{omit:["layers"]});var Vf=function(r,o){jf(this,r,1,o)};Vf.prototype.resize=function(r){W0(this,r,1)},Vf.prototype.clone=function(){return new Vf({width:this.width,height:this.height},new Uint8Array(this.data))},Vf.copy=function(r,o,u,g,b){id(r,o,u,g,b,1)};var Da=function(r,o){jf(this,r,4,o)};Da.prototype.resize=function(r){W0(this,r,4)},Da.prototype.replace=function(r,o){o?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r},Da.prototype.clone=function(){return new Da({width:this.width,height:this.height},new Uint8Array(this.data))},Da.copy=function(r,o,u,g,b){id(r,o,u,g,b,4)},rn("AlphaImage",Vf),rn("RGBAImage",Da);var Ux={paint:new zo({"heatmap-radius":new dt(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new dt(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ga(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(xe.paint_heatmap["heatmap-opacity"])})};function od(r){var o={},u=r.resolution||256,g=r.clips?r.clips.length:1,b=r.image||new Da({width:u,height:g}),C=function(Ce,Ee,Ve){o[r.evaluationKey]=Ve;var Re=r.expression.evaluate(o);b.data[Ce+Ee+0]=Math.floor(255*Re.r/Re.a),b.data[Ce+Ee+1]=Math.floor(255*Re.g/Re.a),b.data[Ce+Ee+2]=Math.floor(255*Re.b/Re.a),b.data[Ce+Ee+3]=Math.floor(255*Re.a)};if(r.clips)for(var T=0,B=0;T<g;++T,B+=4*u)for(var j=0,W=0;j<u;j++,W+=4){var Z=j/(u-1),Y=r.clips[T];C(B,W,Y.start*(1-Z)+Y.end*Z)}else for(var ue=0,he=0;ue<u;ue++,he+=4)C(0,he,ue/(u-1));return b}var Iy=function(r){function o(u){r.call(this,u,Ux),this._updateColorRamp()}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.createBucket=function(u){return new gu(u)},o.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="heatmap-color"&&this._updateColorRamp()},o.prototype._updateColorRamp=function(){this.colorRamp=od({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},o.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},o}(ji),K0={paint:new zo({"hillshade-illumination-direction":new Qt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(xe.paint_hillshade["hillshade-accent-color"])})},$x=function(r){function o(u){r.call(this,u,K0)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},o}(ji),Z0=m([{name:"a_pos",components:2,type:"Int16"}],4).members,kr=ad,jx=ad;function ad(r,o,u){u=u||2;var g,b,C,T,B,j,W,Z=o&&o.length,Y=Z?o[0]*u:r.length,ue=$p(r,0,Y,u,!0),he=[];if(!ue||ue.next===ue.prev)return he;if(Z&&(ue=function(Ee,Ve,Re,tt){var rt,ft,pt,kt=[];for(rt=0,ft=Ve.length;rt<ft;rt++)(pt=$p(Ee,Ve[rt]*tt,rt<ft-1?Ve[rt+1]*tt:Ee.length,tt,!1))===pt.next&&(pt.steiner=!0),kt.push(ef(pt));for(kt.sort(X0),rt=0;rt<kt.length;rt++)My(kt[rt],Re),Re=ac(Re,Re.next);return Re}(r,o,ue,u)),r.length>80*u){g=C=r[0],b=T=r[1];for(var Ce=u;Ce<Y;Ce+=u)(B=r[Ce])<g&&(g=B),(j=r[Ce+1])<b&&(b=j),B>C&&(C=B),j>T&&(T=j);W=(W=Math.max(C-g,T-b))!==0?1/W:0}return Xh(ue,he,u,g,b,W),he}function $p(r,o,u,g,b){var C,T;if(b===cd(r,o,u,g)>0)for(C=o;C<u;C+=g)T=Dy(C,r[C],r[C+1],T);else for(C=u-g;C>=o;C-=g)T=Dy(C,r[C],r[C+1],T);return T&&Yh(T,T.next)&&(ml(T),T=T.next),T}function ac(r,o){if(!r)return r;o||(o=r);var u,g=r;do if(u=!1,g.steiner||!Yh(g,g.next)&&Gi(g.prev,g,g.next)!==0)g=g.next;else{if(ml(g),(g=o=g.prev)===g.next)break;u=!0}while(u||g!==o);return o}function Xh(r,o,u,g,b,C,T){if(r){!T&&C&&function(Z,Y,ue,he){var Ce=Z;do Ce.z===null&&(Ce.z=As(Ce.x,Ce.y,Y,ue,he)),Ce.prevZ=Ce.prev,Ce.nextZ=Ce.next,Ce=Ce.next;while(Ce!==Z);Ce.prevZ.nextZ=null,Ce.prevZ=null,function(Ee){var Ve,Re,tt,rt,ft,pt,kt,Ut,Kt=1;do{for(Re=Ee,Ee=null,ft=null,pt=0;Re;){for(pt++,tt=Re,kt=0,Ve=0;Ve<Kt&&(kt++,tt=tt.nextZ);Ve++);for(Ut=Kt;kt>0||Ut>0&&tt;)kt!==0&&(Ut===0||!tt||Re.z<=tt.z)?(rt=Re,Re=Re.nextZ,kt--):(rt=tt,tt=tt.nextZ,Ut--),ft?ft.nextZ=rt:Ee=rt,rt.prevZ=ft,ft=rt;Re=tt}ft.nextZ=null,Kt*=2}while(pt>1)}(Ce)}(r,g,b,C);for(var B,j,W=r;r.prev!==r.next;)if(B=r.prev,j=r.next,C?dl(r,g,b,C):Vx(r))o.push(B.i/u),o.push(r.i/u),o.push(j.i/u),ml(r),r=j.next,W=j.next;else if((r=j)===W){T?T===1?Xh(r=Hx(ac(r),o,u),o,u,g,b,C,2):T===2&&sd(r,o,u,g,b,C):Xh(ac(r),o,u,g,b,C,1);break}}}function Vx(r){var o=r.prev,u=r,g=r.next;if(Gi(o,u,g)>=0)return!1;for(var b=r.next.next;b!==r.prev;){if(tf(o.x,o.y,u.x,u.y,g.x,g.y,b.x,b.y)&&Gi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function dl(r,o,u,g){var b=r.prev,C=r,T=r.next;if(Gi(b,C,T)>=0)return!1;for(var B=b.x>C.x?b.x>T.x?b.x:T.x:C.x>T.x?C.x:T.x,j=b.y>C.y?b.y>T.y?b.y:T.y:C.y>T.y?C.y:T.y,W=As(b.x<C.x?b.x<T.x?b.x:T.x:C.x<T.x?C.x:T.x,b.y<C.y?b.y<T.y?b.y:T.y:C.y<T.y?C.y:T.y,o,u,g),Z=As(B,j,o,u,g),Y=r.prevZ,ue=r.nextZ;Y&&Y.z>=W&&ue&&ue.z<=Z;){if(Y!==r.prev&&Y!==r.next&&tf(b.x,b.y,C.x,C.y,T.x,T.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ue!==r.prev&&ue!==r.next&&tf(b.x,b.y,C.x,C.y,T.x,T.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;Y&&Y.z>=W;){if(Y!==r.prev&&Y!==r.next&&tf(b.x,b.y,C.x,C.y,T.x,T.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ue&&ue.z<=Z;){if(ue!==r.prev&&ue!==r.next&&tf(b.x,b.y,C.x,C.y,T.x,T.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function Hx(r,o,u){var g=r;do{var b=g.prev,C=g.next.next;!Yh(b,C)&&ld(b,g,g.next,C)&&Hf(b,C)&&Hf(C,b)&&(o.push(b.i/u),o.push(g.i/u),o.push(C.i/u),ml(g),ml(g.next),g=r=C),g=g.next}while(g!==r);return ac(g)}function sd(r,o,u,g,b,C){var T=r;do{for(var B=T.next.next;B!==T.prev;){if(T.i!==B.i&&Ly(T,B)){var j=sc(T,B);return T=ac(T,T.next),j=ac(j,j.next),Xh(T,o,u,g,b,C),void Xh(j,o,u,g,b,C)}B=B.next}T=T.next}while(T!==r)}function X0(r,o){return r.x-o.x}function My(r,o){if(o=function(g,b){var C,T=b,B=g.x,j=g.y,W=-1/0;do{if(j<=T.y&&j>=T.next.y&&T.next.y!==T.y){var Z=T.x+(j-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Z<=B&&Z>W){if(W=Z,Z===B){if(j===T.y)return T;if(j===T.next.y)return T.next}C=T.x<T.next.x?T:T.next}}T=T.next}while(T!==b);if(!C)return null;if(B===W)return C;var Y,ue=C,he=C.x,Ce=C.y,Ee=1/0;T=C;do B>=T.x&&T.x>=he&&B!==T.x&&tf(j<Ce?B:W,j,he,Ce,j<Ce?W:B,j,T.x,T.y)&&(Y=Math.abs(j-T.y)/(B-T.x),Hf(T,g)&&(Y<Ee||Y===Ee&&(T.x>C.x||T.x===C.x&&Oy(C,T)))&&(C=T,Ee=Y)),T=T.next;while(T!==ue);return C}(r,o)){var u=sc(o,r);ac(o,o.next),ac(u,u.next)}}function Oy(r,o){return Gi(r.prev,r,o.prev)<0&&Gi(o.next,r,r.next)<0}function As(r,o,u,g,b){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-u)*b)|r<<8))|r<<4))|r<<2))|r<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-g)*b)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function ef(r){var o=r,u=r;do(o.x<u.x||o.x===u.x&&o.y<u.y)&&(u=o),o=o.next;while(o!==r);return u}function tf(r,o,u,g,b,C,T,B){return(b-T)*(o-B)-(r-T)*(C-B)>=0&&(r-T)*(g-B)-(u-T)*(o-B)>=0&&(u-T)*(C-B)-(b-T)*(g-B)>=0}function Ly(r,o){return r.next.i!==o.i&&r.prev.i!==o.i&&!function(u,g){var b=u;do{if(b.i!==u.i&&b.next.i!==u.i&&b.i!==g.i&&b.next.i!==g.i&&ld(b,b.next,u,g))return!0;b=b.next}while(b!==u);return!1}(r,o)&&(Hf(r,o)&&Hf(o,r)&&function(u,g){var b=u,C=!1,T=(u.x+g.x)/2,B=(u.y+g.y)/2;do b.y>B!=b.next.y>B&&b.next.y!==b.y&&T<(b.next.x-b.x)*(B-b.y)/(b.next.y-b.y)+b.x&&(C=!C),b=b.next;while(b!==u);return C}(r,o)&&(Gi(r.prev,r,o.prev)||Gi(r,o.prev,o))||Yh(r,o)&&Gi(r.prev,r,r.next)>0&&Gi(o.prev,o,o.next)>0)}function Gi(r,o,u){return(o.y-r.y)*(u.x-o.x)-(o.x-r.x)*(u.y-o.y)}function Yh(r,o){return r.x===o.x&&r.y===o.y}function ld(r,o,u,g){var b=jp(Gi(r,o,u)),C=jp(Gi(r,o,g)),T=jp(Gi(u,g,r)),B=jp(Gi(u,g,o));return b!==C&&T!==B||!(b!==0||!Jh(r,u,o))||!(C!==0||!Jh(r,g,o))||!(T!==0||!Jh(u,r,g))||!(B!==0||!Jh(u,o,g))}function Jh(r,o,u){return o.x<=Math.max(r.x,u.x)&&o.x>=Math.min(r.x,u.x)&&o.y<=Math.max(r.y,u.y)&&o.y>=Math.min(r.y,u.y)}function jp(r){return r>0?1:r<0?-1:0}function Hf(r,o){return Gi(r.prev,r,r.next)<0?Gi(r,o,r.next)>=0&&Gi(r,r.prev,o)>=0:Gi(r,o,r.prev)<0||Gi(r,r.next,o)<0}function sc(r,o){var u=new ud(r.i,r.x,r.y),g=new ud(o.i,o.x,o.y),b=r.next,C=o.prev;return r.next=o,o.prev=r,u.next=b,b.prev=u,g.next=u,u.prev=g,C.next=g,g.prev=C,g}function Dy(r,o,u,g){var b=new ud(r,o,u);return g?(b.next=g.next,b.prev=g,g.next.prev=b,g.next=b):(b.prev=b,b.next=b),b}function ml(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function ud(r,o,u){this.i=r,this.x=o,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cd(r,o,u,g){for(var b=0,C=o,T=u-g;C<u;C+=g)b+=(r[T]-r[C])*(r[C+1]+r[T+1]),T=C;return b}function Y0(r,o,u,g,b){(function C(T,B,j,W,Z){for(;W>j;){if(W-j>600){var Y=W-j+1,ue=B-j+1,he=Math.log(Y),Ce=.5*Math.exp(2*he/3),Ee=.5*Math.sqrt(he*Ce*(Y-Ce)/Y)*(ue-Y/2<0?-1:1);C(T,B,Math.max(j,Math.floor(B-ue*Ce/Y+Ee)),Math.min(W,Math.floor(B+(Y-ue)*Ce/Y+Ee)),Z)}var Ve=T[B],Re=j,tt=W;for(eA(T,j,B),Z(T[W],Ve)>0&&eA(T,j,W);Re<tt;){for(eA(T,Re,tt),Re++,tt--;Z(T[Re],Ve)<0;)Re++;for(;Z(T[tt],Ve)>0;)tt--}Z(T[j],Ve)===0?eA(T,j,tt):eA(T,++tt,W),tt<=B&&(j=tt+1),B<=tt&&(W=tt-1)}})(r,o,u||0,g||r.length-1,b||qx)}function eA(r,o,u){var g=r[o];r[o]=r[u],r[u]=g}function qx(r,o){return r<o?-1:r>o?1:0}function J0(r,o){var u=r.length;if(u<=1)return[r];for(var g,b,C=[],T=0;T<u;T++){var B=Yt(r[T]);B!==0&&(r[T].area=Math.abs(B),b===void 0&&(b=B<0),b===B<0?(g&&C.push(g),g=[r[T]]):g.push(r[T]))}if(g&&C.push(g),o>1)for(var j=0;j<C.length;j++)C[j].length<=o||(Y0(C[j],o,1,C[j].length-1,Ry),C[j]=C[j].slice(0,o));return C}function Ry(r,o){return o.area-r.area}function fd(r,o,u){for(var g=u.patternDependencies,b=!1,C=0,T=o;C<T.length;C+=1){var B=T[C].paint.get(r+"-pattern");B.isConstant()||(b=!0);var j=B.constantOr(null);j&&(b=!0,g[j.to]=!0,g[j.from]=!0)}return b}function em(r,o,u,g,b){for(var C=b.patternDependencies,T=0,B=o;T<B.length;T+=1){var j=B[T],W=j.paint.get(r+"-pattern").value;if(W.kind!=="constant"){var Z=W.evaluate({zoom:g-1},u,{},b.availableImages),Y=W.evaluate({zoom:g},u,{},b.availableImages),ue=W.evaluate({zoom:g+1},u,{},b.availableImages);Y=Y&&Y.name?Y.name:Y,ue=ue&&ue.name?ue.name:ue,C[Z=Z&&Z.name?Z.name:Z]=!0,C[Y]=!0,C[ue]=!0,u.patterns[j.id]={min:Z,mid:Y,max:ue}}}return u}ad.deviation=function(r,o,u,g){var b=o&&o.length,C=Math.abs(cd(r,0,b?o[0]*u:r.length,u));if(b)for(var T=0,B=o.length;T<B;T++)C-=Math.abs(cd(r,o[T]*u,T<B-1?o[T+1]*u:r.length,u));var j=0;for(T=0;T<g.length;T+=3){var W=g[T]*u,Z=g[T+1]*u,Y=g[T+2]*u;j+=Math.abs((r[W]-r[Y])*(r[Z+1]-r[W+1])-(r[W]-r[Z])*(r[Y+1]-r[W+1]))}return C===0&&j===0?0:Math.abs((j-C)/C)},ad.flatten=function(r){for(var o=r[0][0].length,u={vertices:[],holes:[],dimensions:o},g=0,b=0;b<r.length;b++){for(var C=0;C<r[b].length;C++)for(var T=0;T<o;T++)u.vertices.push(r[b][C][T]);b>0&&u.holes.push(g+=r[b-1].length)}return u},kr.default=jx;var gl=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Nt,this.indexArray2=new _n,this.programConfigurations=new qr(r.layers,r.zoom),this.segments=new de,this.segments2=new de,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};gl.prototype.populate=function(r,o,u){this.hasPattern=fd("fill",this.layers,o);for(var g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),C=[],T=0,B=r;T<B.length;T+=1){var j=B[T],W=j.feature,Z=j.id,Y=j.index,ue=j.sourceLayerIndex,he=this.layers[0]._featureFilter.needGeometry,Ce=na(W,he);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ce,u)){var Ee=b?g.evaluate(Ce,{},u,o.availableImages):void 0,Ve={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:he?Ce.geometry:ci(W),patterns:{},sortKey:Ee};C.push(Ve)}}b&&C.sort(function(Kt,gn){return Kt.sortKey-gn.sortKey});for(var Re=0,tt=C;Re<tt.length;Re+=1){var rt=tt[Re],ft=rt.geometry,pt=rt.index,kt=rt.sourceLayerIndex;if(this.hasPattern){var Ut=em("fill",this.layers,rt,this.zoom,o);this.patternFeatures.push(Ut)}else this.addFeature(rt,ft,pt,u,{});o.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},gl.prototype.update=function(r,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,o,this.stateDependentLayers,u)},gl.prototype.addFeatures=function(r,o,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},gl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},gl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},gl.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Z0),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},gl.prototype.addFeature=function(r,o,u,g,b){for(var C=0,T=J0(o,500);C<T.length;C+=1){for(var B=T[C],j=0,W=0,Z=B;W<Z.length;W+=1)j+=Z[W].length;for(var Y=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),ue=Y.vertexLength,he=[],Ce=[],Ee=0,Ve=B;Ee<Ve.length;Ee+=1){var Re=Ve[Ee];if(Re.length!==0){Re!==B[0]&&Ce.push(he.length/2);var tt=this.segments2.prepareSegment(Re.length,this.layoutVertexArray,this.indexArray2),rt=tt.vertexLength;this.layoutVertexArray.emplaceBack(Re[0].x,Re[0].y),this.indexArray2.emplaceBack(rt+Re.length-1,rt),he.push(Re[0].x),he.push(Re[0].y);for(var ft=1;ft<Re.length;ft++)this.layoutVertexArray.emplaceBack(Re[ft].x,Re[ft].y),this.indexArray2.emplaceBack(rt+ft-1,rt+ft),he.push(Re[ft].x),he.push(Re[ft].y);tt.vertexLength+=Re.length,tt.primitiveLength+=Re.length}}for(var pt=kr(he,Ce),kt=0;kt<pt.length;kt+=3)this.indexArray.emplaceBack(ue+pt[kt],ue+pt[kt+1],ue+pt[kt+2]);Y.vertexLength+=j,Y.primitiveLength+=pt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},rn("FillBucket",gl,{omit:["layers","patternFeatures"]});var Fy=new zo({"fill-sort-key":new dt(xe.layout_fill["fill-sort-key"])}),Ps={paint:new zo({"fill-antialias":new Qt(xe.paint_fill["fill-antialias"]),"fill-opacity":new dt(xe.paint_fill["fill-opacity"]),"fill-color":new dt(xe.paint_fill["fill-color"]),"fill-outline-color":new dt(xe.paint_fill["fill-outline-color"]),"fill-translate":new Qt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xt(xe.paint_fill["fill-pattern"])}),layout:Fy},yu=function(r){function o(u){r.call(this,u,Ps)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g);var b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},o.prototype.createBucket=function(u){return new gl(u)},o.prototype.queryRadius=function(){return Ks(this.paint.get("fill-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j){return hs(ks(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,j),C)},o.prototype.isTileClipped=function(){return!0},o}(ji),Gx=m([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,By=lc;function lc(r,o,u,g,b){this.properties={},this.extent=u,this.type=0,this._pbf=r,this._geometry=-1,this._keys=g,this._values=b,r.readFields(Vp,this,o)}function Vp(r,o,u){r==1?o.id=u.readVarint():r==2?function(g,b){for(var C=g.readVarint()+g.pos;g.pos<C;){var T=b._keys[g.readVarint()],B=b._values[g.readVarint()];b.properties[T]=B}}(u,o):r==3?o.type=u.readVarint():r==4&&(o._geometry=u.pos)}function zy(r){for(var o,u,g=0,b=0,C=r.length,T=C-1;b<C;T=b++)g+=((u=r[T]).x-(o=r[b]).x)*(o.y+u.y);return g}lc.types=["Unknown","Point","LineString","Polygon"],lc.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var o,u=r.readVarint()+r.pos,g=1,b=0,C=0,T=0,B=[];r.pos<u;){if(b<=0){var j=r.readVarint();g=7&j,b=j>>3}if(b--,g===1||g===2)C+=r.readSVarint(),T+=r.readSVarint(),g===1&&(o&&B.push(o),o=[]),o.push(new L(C,T));else{if(g!==7)throw new Error("unknown command "+g);o&&o.push(o[0].clone())}}return o&&B.push(o),B},lc.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var o=r.readVarint()+r.pos,u=1,g=0,b=0,C=0,T=1/0,B=-1/0,j=1/0,W=-1/0;r.pos<o;){if(g<=0){var Z=r.readVarint();u=7&Z,g=Z>>3}if(g--,u===1||u===2)(b+=r.readSVarint())<T&&(T=b),b>B&&(B=b),(C+=r.readSVarint())<j&&(j=C),C>W&&(W=C);else if(u!==7)throw new Error("unknown command "+u)}return[T,j,B,W]},lc.prototype.toGeoJSON=function(r,o,u){var g,b,C=this.extent*Math.pow(2,u),T=this.extent*r,B=this.extent*o,j=this.loadGeometry(),W=lc.types[this.type];function Z(he){for(var Ce=0;Ce<he.length;Ce++){var Ee=he[Ce];he[Ce]=[360*(Ee.x+T)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ee.y+B)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(g=0;g<j.length;g++)Y[g]=j[g][0];Z(j=Y);break;case 2:for(g=0;g<j.length;g++)Z(j[g]);break;case 3:for(j=function(he){var Ce=he.length;if(Ce<=1)return[he];for(var Ee,Ve,Re=[],tt=0;tt<Ce;tt++){var rt=zy(he[tt]);rt!==0&&(Ve===void 0&&(Ve=rt<0),Ve===rt<0?(Ee&&Re.push(Ee),Ee=[he[tt]]):Ee.push(he[tt]))}return Ee&&Re.push(Ee),Re}(j),g=0;g<j.length;g++)for(b=0;b<j[g].length;b++)Z(j[g][b])}j.length===1?j=j[0]:W="Multi"+W;var ue={type:"Feature",geometry:{type:W,coordinates:j},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var tm=Ny;function Ny(r,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(Uy,this,o),this.length=this._features.length}function Uy(r,o,u){r===15?o.version=u.readVarint():r===1?o.name=u.readString():r===5?o.extent=u.readVarint():r===2?o._features.push(u.pos):r===3?o._keys.push(u.readString()):r===4&&o._values.push(function(g){for(var b=null,C=g.readVarint()+g.pos;g.pos<C;){var T=g.readVarint()>>3;b=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}return b}(u))}function Hp(r,o,u){if(r===3){var g=new tm(u,u.readVarint()+u.pos);g.length&&(o[g.name]=g)}}Ny.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var o=this._pbf.readVarint()+this._pbf.pos;return new By(this._pbf,o,this.extent,this._keys,this._values)};var vu={VectorTile:function(r,o){this.layers=r.readFields(Hp,{},o)},VectorTileFeature:By,VectorTileLayer:tm},Qx=vu.VectorTileFeature.types,pd=Math.pow(2,13);function qp(r,o,u,g,b,C,T,B){r.emplaceBack(o,u,2*Math.floor(g*pd)+T,b*pd*2,C*pd*2,Math.round(B))}var Ts=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new M,this.indexArray=new Nt,this.programConfigurations=new qr(r.layers,r.zoom),this.segments=new de,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function $y(r,o){return r.x===o.x&&(r.x<0||r.x>8192)||r.y===o.y&&(r.y<0||r.y>8192)}Ts.prototype.populate=function(r,o,u){this.features=[],this.hasPattern=fd("fill-extrusion",this.layers,o);for(var g=0,b=r;g<b.length;g+=1){var C=b[g],T=C.feature,B=C.id,j=C.index,W=C.sourceLayerIndex,Z=this.layers[0]._featureFilter.needGeometry,Y=na(T,Z);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Y,u)){var ue={id:B,sourceLayerIndex:W,index:j,geometry:Z?Y.geometry:ci(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push(em("fill-extrusion",this.layers,ue,this.zoom,o)):this.addFeature(ue,ue.geometry,j,u,{}),o.featureIndex.insert(T,ue.geometry,j,W,this.index,!0)}}},Ts.prototype.addFeatures=function(r,o,u){for(var g=0,b=this.features;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},Ts.prototype.update=function(r,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,o,this.stateDependentLayers,u)},Ts.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Gx),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.addFeature=function(r,o,u,g,b){for(var C=0,T=J0(o,500);C<T.length;C+=1){for(var B=T[C],j=0,W=0,Z=B;W<Z.length;W+=1)j+=Z[W].length;for(var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ue=0,he=B;ue<he.length;ue+=1){var Ce=he[ue];if(Ce.length!==0&&!((or=Ce).every(function(Hn){return Hn.x<0})||or.every(function(Hn){return Hn.x>8192})||or.every(function(Hn){return Hn.y<0})||or.every(function(Hn){return Hn.y>8192})))for(var Ee=0,Ve=0;Ve<Ce.length;Ve++){var Re=Ce[Ve];if(Ve>=1){var tt=Ce[Ve-1];if(!$y(Re,tt)){Y.vertexLength+4>de.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var rt=Re.sub(tt)._perp()._unit(),ft=tt.dist(Re);Ee+ft>32768&&(Ee=0),qp(this.layoutVertexArray,Re.x,Re.y,rt.x,rt.y,0,0,Ee),qp(this.layoutVertexArray,Re.x,Re.y,rt.x,rt.y,0,1,Ee),qp(this.layoutVertexArray,tt.x,tt.y,rt.x,rt.y,0,0,Ee+=ft),qp(this.layoutVertexArray,tt.x,tt.y,rt.x,rt.y,0,1,Ee);var pt=Y.vertexLength;this.indexArray.emplaceBack(pt,pt+2,pt+1),this.indexArray.emplaceBack(pt+1,pt+2,pt+3),Y.vertexLength+=4,Y.primitiveLength+=2}}}}if(Y.vertexLength+j>de.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),Qx[r.type]==="Polygon"){for(var kt=[],Ut=[],Kt=Y.vertexLength,gn=0,en=B;gn<en.length;gn+=1){var En=en[gn];if(En.length!==0){En!==B[0]&&Ut.push(kt.length/2);for(var nn=0;nn<En.length;nn++){var Zn=En[nn];qp(this.layoutVertexArray,Zn.x,Zn.y,0,0,1,1,0),kt.push(Zn.x),kt.push(Zn.y)}}}for(var Mn=kr(kt,Ut),yn=0;yn<Mn.length;yn+=3)this.indexArray.emplaceBack(Kt+Mn[yn],Kt+Mn[yn+2],Kt+Mn[yn+1]);Y.primitiveLength+=Mn.length/3,Y.vertexLength+=j}}var or;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},rn("FillExtrusionBucket",Ts,{omit:["layers","features"]});var hd={paint:new zo({"fill-extrusion-opacity":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new dt(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xt(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new dt(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new dt(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},nm=function(r){function o(u){r.call(this,u,hd)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.createBucket=function(u){return new Ts(u)},o.prototype.queryRadius=function(){return Ks(this.paint.get("fill-extrusion-translate"))},o.prototype.is3D=function(){return!0},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j,W){var Z=ks(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,j),Y=this.paint.get("fill-extrusion-height").evaluate(g,b),ue=this.paint.get("fill-extrusion-base").evaluate(g,b),he=function(Ee,Ve,Re,tt){for(var rt=[],ft=0,pt=Ee;ft<pt.length;ft+=1){var kt=pt[ft],Ut=[kt.x,kt.y,0,1];Uf(Ut,Ut,Ve),rt.push(new L(Ut[0]/Ut[3],Ut[1]/Ut[3]))}return rt}(Z,W),Ce=function(Ee,Ve,Re,tt){for(var rt=[],ft=[],pt=tt[8]*Ve,kt=tt[9]*Ve,Ut=tt[10]*Ve,Kt=tt[11]*Ve,gn=tt[8]*Re,en=tt[9]*Re,En=tt[10]*Re,nn=tt[11]*Re,Zn=0,Mn=Ee;Zn<Mn.length;Zn+=1){for(var yn=[],or=[],Hn=0,xr=Mn[Zn];Hn<xr.length;Hn+=1){var Pn=xr[Hn],Lr=Pn.x,si=Pn.y,_i=tt[0]*Lr+tt[4]*si+tt[12],Mi=tt[1]*Lr+tt[5]*si+tt[13],xi=tt[2]*Lr+tt[6]*si+tt[14],Ci=tt[3]*Lr+tt[7]*si+tt[15],_o=xi+Ut,Io=Ci+Kt,Ea=_i+gn,Uo=Mi+en,ka=xi+En,Ji=Ci+nn,$o=new L((_i+pt)/Io,(Mi+kt)/Io);$o.z=_o/Io,yn.push($o);var fr=new L(Ea/Ji,Uo/Ji);fr.z=ka/Ji,or.push(fr)}rt.push(yn),ft.push(or)}return[rt,ft]}(C,ue,Y,W);return function(Ee,Ve,Re){var tt=1/0;hs(Re,Ve)&&(tt=jy(Re,Ve[0]));for(var rt=0;rt<Ve.length;rt++)for(var ft=Ve[rt],pt=Ee[rt],kt=0;kt<ft.length-1;kt++){var Ut=ft[kt],Kt=[Ut,ft[kt+1],pt[kt+1],pt[kt],Ut];wa(Re,Kt)&&(tt=Math.min(tt,jy(Re,Kt)))}return tt!==1/0&&tt}(Ce[0],Ce[1],he)},o}(ji);function nf(r,o){return r.x*o.x+r.y*o.y}function jy(r,o){if(r.length===1){for(var u,g=0,b=o[g++];!u||b.equals(u);)if(!(u=o[g++]))return 1/0;for(;g<o.length;g++){var C=o[g],T=r[0],B=u.sub(b),j=C.sub(b),W=T.sub(b),Z=nf(B,B),Y=nf(B,j),ue=nf(j,j),he=nf(W,B),Ce=nf(W,j),Ee=Z*ue-Y*Y,Ve=(ue*he-Y*Ce)/Ee,Re=(Z*Ce-Y*he)/Ee,tt=b.z*(1-Ve-Re)+u.z*Ve+C.z*Re;if(isFinite(tt))return tt}return 1/0}for(var rt=1/0,ft=0,pt=o;ft<pt.length;ft+=1)rt=Math.min(rt,pt[ft].z);return rt}var Vy=m([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ad=m([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Hy=vu.VectorTileFeature.types,rm=Math.cos(Math.PI/180*37.5),qy=Math.pow(2,14)/.5,Sa=function(r){var o=this;this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){o.gradients[u.id]={}}),this.layoutVertexArray=new I,this.layoutVertexArray2=new z,this.indexArray=new Nt,this.programConfigurations=new qr(r.layers,r.zoom),this.segments=new de,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};Sa.prototype.populate=function(r,o,u){this.hasPattern=fd("line",this.layers,o);for(var g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),C=[],T=0,B=r;T<B.length;T+=1){var j=B[T],W=j.feature,Z=j.id,Y=j.index,ue=j.sourceLayerIndex,he=this.layers[0]._featureFilter.needGeometry,Ce=na(W,he);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ce,u)){var Ee=b?g.evaluate(Ce,{},u):void 0,Ve={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:he?Ce.geometry:ci(W),patterns:{},sortKey:Ee};C.push(Ve)}}b&&C.sort(function(Kt,gn){return Kt.sortKey-gn.sortKey});for(var Re=0,tt=C;Re<tt.length;Re+=1){var rt=tt[Re],ft=rt.geometry,pt=rt.index,kt=rt.sourceLayerIndex;if(this.hasPattern){var Ut=em("line",this.layers,rt,this.zoom,o);this.patternFeatures.push(Ut)}else this.addFeature(rt,ft,pt,u,{});o.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},Sa.prototype.update=function(r,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,o,this.stateDependentLayers,u)},Sa.prototype.addFeatures=function(r,o,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,Ad)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Vy),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.lineFeatureClips=function(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}},Sa.prototype.addFeature=function(r,o,u,g,b){var C=this.layers[0].layout,T=C.get("line-join").evaluate(r,{}),B=C.get("line-cap"),j=C.get("line-miter-limit"),W=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(var Z=0,Y=o;Z<Y.length;Z+=1)this.addLine(Y[Z],r,T,B,j,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},Sa.prototype.addLine=function(r,o,u,g,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var T=0;T<r.length-1;T++)this.totalDistance+=r[T].dist(r[T+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var B=Hy[o.type]==="Polygon",j=r.length;j>=2&&r[j-1].equals(r[j-2]);)j--;for(var W=0;W<j-1&&r[W].equals(r[W+1]);)W++;if(!(j<(B?3:2))){u==="bevel"&&(b=1.05);var Z,Y=this.overscaling<=16?122880/(512*this.overscaling):0,ue=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray),he=void 0,Ce=void 0,Ee=void 0,Ve=void 0;this.e1=this.e2=-1,B&&(Ve=r[W].sub(Z=r[j-2])._unit()._perp());for(var Re=W;Re<j;Re++)if(!(Ce=Re===j-1?B?r[W+1]:void 0:r[Re+1])||!r[Re].equals(Ce)){Ve&&(Ee=Ve),Z&&(he=Z),Z=r[Re],Ve=Ce?Ce.sub(Z)._unit()._perp():Ee;var tt=(Ee=Ee||Ve).add(Ve);tt.x===0&&tt.y===0||tt._unit();var rt=Ee.x*Ve.x+Ee.y*Ve.y,ft=tt.x*Ve.x+tt.y*Ve.y,pt=ft!==0?1/ft:1/0,kt=2*Math.sqrt(2-2*ft),Ut=ft<rm&&he&&Ce,Kt=Ee.x*Ve.y-Ee.y*Ve.x>0;if(Ut&&Re>W){var gn=Z.dist(he);if(gn>2*Y){var en=Z.sub(Z.sub(he)._mult(Y/gn)._round());this.updateDistance(he,en),this.addCurrentVertex(en,Ee,0,0,ue),he=en}}var En=he&&Ce,nn=En?u:B?"butt":g;if(En&&nn==="round"&&(pt<C?nn="miter":pt<=2&&(nn="fakeround")),nn==="miter"&&pt>b&&(nn="bevel"),nn==="bevel"&&(pt>2&&(nn="flipbevel"),pt<b&&(nn="miter")),he&&this.updateDistance(he,Z),nn==="miter")tt._mult(pt),this.addCurrentVertex(Z,tt,0,0,ue);else if(nn==="flipbevel"){if(pt>100)tt=Ve.mult(-1);else{var Zn=pt*Ee.add(Ve).mag()/Ee.sub(Ve).mag();tt._perp()._mult(Zn*(Kt?-1:1))}this.addCurrentVertex(Z,tt,0,0,ue),this.addCurrentVertex(Z,tt.mult(-1),0,0,ue)}else if(nn==="bevel"||nn==="fakeround"){var Mn=-Math.sqrt(pt*pt-1),yn=Kt?Mn:0,or=Kt?0:Mn;if(he&&this.addCurrentVertex(Z,Ee,yn,or,ue),nn==="fakeround")for(var Hn=Math.round(180*kt/Math.PI/20),xr=1;xr<Hn;xr++){var Pn=xr/Hn;if(Pn!==.5){var Lr=Pn-.5;Pn+=Pn*Lr*(Pn-1)*((1.0904+rt*(rt*(3.55645-1.43519*rt)-3.2452))*Lr*Lr+(.848013+rt*(.215638*rt-1.06021)))}var si=Ve.sub(Ee)._mult(Pn)._add(Ee)._unit()._mult(Kt?-1:1);this.addHalfVertex(Z,si.x,si.y,!1,Kt,0,ue)}Ce&&this.addCurrentVertex(Z,Ve,-yn,-or,ue)}else if(nn==="butt")this.addCurrentVertex(Z,tt,0,0,ue);else if(nn==="square"){var _i=he?1:-1;this.addCurrentVertex(Z,tt,_i,_i,ue)}else nn==="round"&&(he&&(this.addCurrentVertex(Z,Ee,0,0,ue),this.addCurrentVertex(Z,Ee,1,1,ue,!0)),Ce&&(this.addCurrentVertex(Z,Ve,-1,-1,ue,!0),this.addCurrentVertex(Z,Ve,0,0,ue)));if(Ut&&Re<j-1){var Mi=Z.dist(Ce);if(Mi>2*Y){var xi=Z.add(Ce.sub(Z)._mult(Y/Mi)._round());this.updateDistance(Z,xi),this.addCurrentVertex(xi,Ve,0,0,ue),Z=xi}}}}},Sa.prototype.addCurrentVertex=function(r,o,u,g,b,C){C===void 0&&(C=!1);var T=o.y*g-o.x,B=-o.y-o.x*g;this.addHalfVertex(r,o.x+o.y*u,o.y-o.x*u,C,!1,u,b),this.addHalfVertex(r,T,B,C,!0,-g,b),this.distance>qy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(r,o,u,g,b,C))},Sa.prototype.addHalfVertex=function(r,o,u,g,b,C,T){var B=.5*(this.lineClips?this.scaledDistance*(qy-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r.x<<1)+(g?1:0),(r.y<<1)+(b?1:0),Math.round(63*o)+128,Math.round(63*u)+128,1+(C===0?0:C<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var j=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,j),T.primitiveLength++),b?this.e2=j:this.e1=j},Sa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Sa.prototype.updateDistance=function(r,o){this.distance+=r.dist(o),this.updateScaledDistance()},rn("LineBucket",Sa,{omit:["layers","patternFeatures"]});var uc=new zo({"line-cap":new Qt(xe.layout_line["line-cap"]),"line-join":new dt(xe.layout_line["line-join"]),"line-miter-limit":new Qt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Qt(xe.layout_line["line-round-limit"]),"line-sort-key":new dt(xe.layout_line["line-sort-key"])}),im={paint:new zo({"line-opacity":new dt(xe.paint_line["line-opacity"]),"line-color":new dt(xe.paint_line["line-color"]),"line-translate":new Qt(xe.paint_line["line-translate"]),"line-translate-anchor":new Qt(xe.paint_line["line-translate-anchor"]),"line-width":new dt(xe.paint_line["line-width"]),"line-gap-width":new dt(xe.paint_line["line-gap-width"]),"line-offset":new dt(xe.paint_line["line-offset"]),"line-blur":new dt(xe.paint_line["line-blur"]),"line-dasharray":new To(xe.paint_line["line-dasharray"]),"line-pattern":new Xt(xe.paint_line["line-pattern"]),"line-gradient":new Ga(xe.paint_line["line-gradient"])}),layout:uc},om=new(function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(u,g){return g=new Wn(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),r.prototype.possiblyEvaluate.call(this,u,g)},o.prototype.evaluate=function(u,g,b,C){return g=X({},g,{zoom:Math.floor(g.zoom)}),r.prototype.evaluate.call(this,u,g,b,C)},o}(dt))(im.paint.properties["line-width"].specification);om.useIntegerZoom=!0;var Wx=function(r){function o(u){r.call(this,u,im),this.gradientVersion=0}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ro,this.gradientVersion=(this.gradientVersion+1)%$)},o.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},o.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g),this.paint._values["line-floorwidth"]=om.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},o.prototype.createBucket=function(u){return new Sa(u)},o.prototype.queryRadius=function(u){var g=u,b=am(go("line-width",this,g),go("line-gap-width",this,g)),C=go("line-offset",this,g);return b/2+Math.abs(C)+Ks(this.paint.get("line-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j){var W=ks(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,j),Z=j/2*am(this.paint.get("line-width").evaluate(g,b),this.paint.get("line-gap-width").evaluate(g,b)),Y=this.paint.get("line-offset").evaluate(g,b);return Y&&(C=function(ue,he){for(var Ce=[],Ee=new L(0,0),Ve=0;Ve<ue.length;Ve++){for(var Re=ue[Ve],tt=[],rt=0;rt<Re.length;rt++){var ft=Re[rt],pt=Re[rt+1],kt=rt===0?Ee:ft.sub(Re[rt-1])._unit()._perp(),Ut=rt===Re.length-1?Ee:pt.sub(ft)._unit()._perp(),Kt=kt._add(Ut)._unit();Kt._mult(1/(Kt.x*Ut.x+Kt.y*Ut.y)),tt.push(Kt._mult(he)._add(ft))}Ce.push(tt)}return Ce}(C,Y*j)),function(ue,he,Ce){for(var Ee=0;Ee<he.length;Ee++){var Ve=he[Ee];if(ue.length>=3){for(var Re=0;Re<Ve.length;Re++)if(Qa(ue,Ve[Re]))return!0}if(zf(ue,Ve,Ce))return!0}return!1}(W,C,Z)},o.prototype.isTileClipped=function(){return!0},o}(ji);function am(r,o){return o>0?o+2*r:r}var Kx=m([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Zx=m([{name:"a_projected_pos",components:3,type:"Float32"}],4),cc=(m([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),m([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),dd=(m([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),m([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),sm=m([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function lm(r,o,u){return r.sections.forEach(function(g){g.text=function(b,C,T){var B=C.layout.get("text-transform").evaluate(T,{});return B==="uppercase"?b=b.toLocaleUpperCase():B==="lowercase"&&(b=b.toLocaleLowerCase()),ir.applyArabicShaping&&(b=ir.applyArabicShaping(b)),b}(g.text,o,u)}),r}m([{name:"triangle",components:3,type:"Uint16"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),m([{type:"Float32",name:"offsetX"}]),m([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var rf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},qf=function(r,o,u,g,b){var C,T,B=8*b-g-1,j=(1<<B)-1,W=j>>1,Z=-7,Y=u?b-1:0,ue=u?-1:1,he=r[o+Y];for(Y+=ue,C=he&(1<<-Z)-1,he>>=-Z,Z+=B;Z>0;C=256*C+r[o+Y],Y+=ue,Z-=8);for(T=C&(1<<-Z)-1,C>>=-Z,Z+=g;Z>0;T=256*T+r[o+Y],Y+=ue,Z-=8);if(C===0)C=1-W;else{if(C===j)return T?NaN:1/0*(he?-1:1);T+=Math.pow(2,g),C-=W}return(he?-1:1)*T*Math.pow(2,C-g)},Kn=function(r,o,u,g,b,C){var T,B,j,W=8*C-b-1,Z=(1<<W)-1,Y=Z>>1,ue=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,he=g?0:C-1,Ce=g?1:-1,Ee=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(B=isNaN(o)?1:0,T=Z):(T=Math.floor(Math.log(o)/Math.LN2),o*(j=Math.pow(2,-T))<1&&(T--,j*=2),(o+=T+Y>=1?ue/j:ue*Math.pow(2,1-Y))*j>=2&&(T++,j/=2),T+Y>=Z?(B=0,T=Z):T+Y>=1?(B=(o*j-1)*Math.pow(2,b),T+=Y):(B=o*Math.pow(2,Y-1)*Math.pow(2,b),T=0));b>=8;r[u+he]=255&B,he+=Ce,B/=256,b-=8);for(T=T<<b|B,W+=b;W>0;r[u+he]=255&T,he+=Ce,T/=256,W-=8);r[u+he-Ce]|=128*Ee},Gf=ni;function ni(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}ni.Varint=0,ni.Fixed64=1,ni.Bytes=2,ni.Fixed32=5;var of=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function fc(r){return r.type===ni.Bytes?r.readVarint()+r.pos:r.pos+1}function af(r,o,u){return u?4294967296*o+(r>>>0):4294967296*(o>>>0)+(r>>>0)}function um(r,o,u){var g=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));u.realloc(g);for(var b=u.pos-1;b>=r;b--)u.buf[b+g]=u.buf[b]}function Wa(r,o){for(var u=0;u<r.length;u++)o.writeVarint(r[u])}function Xx(r,o){for(var u=0;u<r.length;u++)o.writeSVarint(r[u])}function Yx(r,o){for(var u=0;u<r.length;u++)o.writeFloat(r[u])}function Gy(r,o){for(var u=0;u<r.length;u++)o.writeDouble(r[u])}function Jx(r,o){for(var u=0;u<r.length;u++)o.writeBoolean(r[u])}function Qy(r,o){for(var u=0;u<r.length;u++)o.writeFixed32(r[u])}function eb(r,o){for(var u=0;u<r.length;u++)o.writeSFixed32(r[u])}function tb(r,o){for(var u=0;u<r.length;u++)o.writeFixed64(r[u])}function nb(r,o){for(var u=0;u<r.length;u++)o.writeSFixed64(r[u])}function yl(r,o){return(r[o]|r[o+1]<<8|r[o+2]<<16)+16777216*r[o+3]}function ia(r,o,u){r[u]=o,r[u+1]=o>>>8,r[u+2]=o>>>16,r[u+3]=o>>>24}function md(r,o){return(r[o]|r[o+1]<<8|r[o+2]<<16)+(r[o+3]<<24)}function rb(r,o,u){r===1&&u.readMessage(cm,o)}function cm(r,o,u){if(r===3){var g=u.readMessage(ib,{}),b=g.width,C=g.height,T=g.left,B=g.top,j=g.advance;o.push({id:g.id,bitmap:new Vf({width:b+6,height:C+6},g.bitmap),metrics:{width:b,height:C,left:T,top:B,advance:j}})}}function ib(r,o,u){r===1?o.id=u.readVarint():r===2?o.bitmap=u.readBytes():r===3?o.width=u.readVarint():r===4?o.height=u.readVarint():r===5?o.left=u.readSVarint():r===6?o.top=u.readSVarint():r===7&&(o.advance=u.readVarint())}function Wy(r){for(var o=0,u=0,g=0,b=r;g<b.length;g+=1){var C=b[g];o+=C.w*C.h,u=Math.max(u,C.w)}r.sort(function(Ee,Ve){return Ve.h-Ee.h});for(var T=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),u),h:1/0}],B=0,j=0,W=0,Z=r;W<Z.length;W+=1)for(var Y=Z[W],ue=T.length-1;ue>=0;ue--){var he=T[ue];if(!(Y.w>he.w||Y.h>he.h)){if(Y.x=he.x,Y.y=he.y,j=Math.max(j,Y.y+Y.h),B=Math.max(B,Y.x+Y.w),Y.w===he.w&&Y.h===he.h){var Ce=T.pop();ue<T.length&&(T[ue]=Ce)}else Y.h===he.h?(he.x+=Y.w,he.w-=Y.w):Y.w===he.w?(he.y+=Y.h,he.h-=Y.h):(T.push({x:he.x+Y.w,y:he.y,w:he.w-Y.w,h:Y.h}),he.y+=Y.h,he.h-=Y.h);break}}return{w:B,h:j,fill:o/(B*j)||0}}ni.prototype={destroy:function(){this.buf=null},readFields:function(r,o,u){for(u=u||this.length;this.pos<u;){var g=this.readVarint(),b=g>>3,C=this.pos;this.type=7&g,r(b,o,this),this.pos===C&&this.skip(g)}return o},readMessage:function(r,o){return this.readFields(r,o,this.readVarint()+this.pos)},readFixed32:function(){var r=yl(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=md(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=yl(this.buf,this.pos)+4294967296*yl(this.buf,this.pos+4);return this.pos+=8,r},readSFixed64:function(){var r=yl(this.buf,this.pos)+4294967296*md(this.buf,this.pos+4);return this.pos+=8,r},readFloat:function(){var r=qf(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=qf(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var o,u,g=this.buf;return o=127&(u=g[this.pos++]),u<128?o:(o|=(127&(u=g[this.pos++]))<<7,u<128?o:(o|=(127&(u=g[this.pos++]))<<14,u<128?o:(o|=(127&(u=g[this.pos++]))<<21,u<128?o:function(b,C,T){var B,j,W=T.buf;if(B=(112&(j=W[T.pos++]))>>4,j<128||(B|=(127&(j=W[T.pos++]))<<3,j<128)||(B|=(127&(j=W[T.pos++]))<<10,j<128)||(B|=(127&(j=W[T.pos++]))<<17,j<128)||(B|=(127&(j=W[T.pos++]))<<24,j<128)||(B|=(1&(j=W[T.pos++]))<<31,j<128))return af(b,B,C);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(u=g[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var r=this.readVarint()+this.pos,o=this.pos;return this.pos=r,r-o>=12&&of?function(u,g,b){return of.decode(u.subarray(g,b))}(this.buf,o,r):function(u,g,b){for(var C="",T=g;T<b;){var B,j,W,Z=u[T],Y=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(T+ue>b)break;ue===1?Z<128&&(Y=Z):ue===2?(192&(B=u[T+1]))==128&&(Y=(31&Z)<<6|63&B)<=127&&(Y=null):ue===3?(j=u[T+2],(192&(B=u[T+1]))==128&&(192&j)==128&&((Y=(15&Z)<<12|(63&B)<<6|63&j)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):ue===4&&(j=u[T+2],W=u[T+3],(192&(B=u[T+1]))==128&&(192&j)==128&&(192&W)==128&&((Y=(15&Z)<<18|(63&B)<<12|(63&j)<<6|63&W)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,ue=1):Y>65535&&(Y-=65536,C+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),C+=String.fromCharCode(Y),T+=ue}return C}(this.buf,o,r)},readBytes:function(){var r=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,r);return this.pos=r,o},readPackedVarint:function(r,o){if(this.type!==ni.Bytes)return r.push(this.readVarint(o));var u=fc(this);for(r=r||[];this.pos<u;)r.push(this.readVarint(o));return r},readPackedSVarint:function(r){if(this.type!==ni.Bytes)return r.push(this.readSVarint());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==ni.Bytes)return r.push(this.readBoolean());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==ni.Bytes)return r.push(this.readFloat());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==ni.Bytes)return r.push(this.readDouble());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==ni.Bytes)return r.push(this.readFixed32());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==ni.Bytes)return r.push(this.readSFixed32());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==ni.Bytes)return r.push(this.readFixed64());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==ni.Bytes)return r.push(this.readSFixed64());var o=fc(this);for(r=r||[];this.pos<o;)r.push(this.readSFixed64());return r},skip:function(r){var o=7&r;if(o===ni.Varint)for(;this.buf[this.pos++]>127;);else if(o===ni.Bytes)this.pos=this.readVarint()+this.pos;else if(o===ni.Fixed32)this.pos+=4;else{if(o!==ni.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(r,o){this.writeVarint(r<<3|o)},realloc:function(r){for(var o=this.length||16;o<this.pos+r;)o*=2;if(o!==this.length){var u=new Uint8Array(o);u.set(this.buf),this.buf=u,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(o,u){var g,b;if(o>=0?(g=o%4294967296|0,b=o/4294967296|0):(b=~(-o/4294967296),4294967295^(g=~(-o%4294967296))?g=g+1|0:(g=0,b=b+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(C,T,B){B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,B.buf[B.pos]=127&(C>>>=7)}(g,0,u),function(C,T){var B=(7&C)<<4;T.buf[T.pos++]|=B|((C>>>=3)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C)))))}(b,u)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(!!r)},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var o=this.pos;this.pos=function(g,b,C){for(var T,B,j=0;j<b.length;j++){if((T=b.charCodeAt(j))>55295&&T<57344){if(!B){T>56319||j+1===b.length?(g[C++]=239,g[C++]=191,g[C++]=189):B=T;continue}if(T<56320){g[C++]=239,g[C++]=191,g[C++]=189,B=T;continue}T=B-55296<<10|T-56320|65536,B=null}else B&&(g[C++]=239,g[C++]=191,g[C++]=189,B=null);T<128?g[C++]=T:(T<2048?g[C++]=T>>6|192:(T<65536?g[C++]=T>>12|224:(g[C++]=T>>18|240,g[C++]=T>>12&63|128),g[C++]=T>>6&63|128),g[C++]=63&T|128)}return C}(this.buf,r,this.pos);var u=this.pos-o;u>=128&&um(o,u,this),this.pos=o-1,this.writeVarint(u),this.pos+=u},writeFloat:function(r){this.realloc(4),Kn(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Kn(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var o=r.length;this.writeVarint(o),this.realloc(o);for(var u=0;u<o;u++)this.buf[this.pos++]=r[u]},writeRawMessage:function(r,o){this.pos++;var u=this.pos;r(o,this);var g=this.pos-u;g>=128&&um(u,g,this),this.pos=u-1,this.writeVarint(g),this.pos+=g},writeMessage:function(r,o,u){this.writeTag(r,ni.Bytes),this.writeRawMessage(o,u)},writePackedVarint:function(r,o){o.length&&this.writeMessage(r,Wa,o)},writePackedSVarint:function(r,o){o.length&&this.writeMessage(r,Xx,o)},writePackedBoolean:function(r,o){o.length&&this.writeMessage(r,Jx,o)},writePackedFloat:function(r,o){o.length&&this.writeMessage(r,Yx,o)},writePackedDouble:function(r,o){o.length&&this.writeMessage(r,Gy,o)},writePackedFixed32:function(r,o){o.length&&this.writeMessage(r,Qy,o)},writePackedSFixed32:function(r,o){o.length&&this.writeMessage(r,eb,o)},writePackedFixed64:function(r,o){o.length&&this.writeMessage(r,tb,o)},writePackedSFixed64:function(r,o){o.length&&this.writeMessage(r,nb,o)},writeBytesField:function(r,o){this.writeTag(r,ni.Bytes),this.writeBytes(o)},writeFixed32Field:function(r,o){this.writeTag(r,ni.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(r,o){this.writeTag(r,ni.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(r,o){this.writeTag(r,ni.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(r,o){this.writeTag(r,ni.Fixed64),this.writeSFixed64(o)},writeVarintField:function(r,o){this.writeTag(r,ni.Varint),this.writeVarint(o)},writeSVarintField:function(r,o){this.writeTag(r,ni.Varint),this.writeSVarint(o)},writeStringField:function(r,o){this.writeTag(r,ni.Bytes),this.writeString(o)},writeFloatField:function(r,o){this.writeTag(r,ni.Fixed32),this.writeFloat(o)},writeDoubleField:function(r,o){this.writeTag(r,ni.Fixed64),this.writeDouble(o)},writeBooleanField:function(r,o){this.writeVarintField(r,!!o)}};var sf=function(r,o){var u=o.pixelRatio,g=o.version,b=o.stretchX,C=o.stretchY,T=o.content;this.paddedRect=r,this.pixelRatio=u,this.stretchX=b,this.stretchY=C,this.content=T,this.version=g},Gp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Gp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Gp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Gp.tlbr.get=function(){return this.tl.concat(this.br)},Gp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(sf.prototype,Gp);var Qp=function(r,o){var u={},g={};this.haveRenderCallbacks=[];var b=[];this.addImages(r,u,b),this.addImages(o,g,b);var C=Wy(b),T=new Da({width:C.w||1,height:C.h||1});for(var B in r){var j=r[B],W=u[B].paddedRect;Da.copy(j.data,T,{x:0,y:0},{x:W.x+1,y:W.y+1},j.data)}for(var Z in o){var Y=o[Z],ue=g[Z].paddedRect,he=ue.x+1,Ce=ue.y+1,Ee=Y.data.width,Ve=Y.data.height;Da.copy(Y.data,T,{x:0,y:0},{x:he,y:Ce},Y.data),Da.copy(Y.data,T,{x:0,y:Ve-1},{x:he,y:Ce-1},{width:Ee,height:1}),Da.copy(Y.data,T,{x:0,y:0},{x:he,y:Ce+Ve},{width:Ee,height:1}),Da.copy(Y.data,T,{x:Ee-1,y:0},{x:he-1,y:Ce},{width:1,height:Ve}),Da.copy(Y.data,T,{x:0,y:0},{x:he+Ee,y:Ce},{width:1,height:Ve})}this.image=T,this.iconPositions=u,this.patternPositions=g};Qp.prototype.addImages=function(r,o,u){for(var g in r){var b=r[g],C={x:0,y:0,w:b.data.width+2,h:b.data.height+2};u.push(C),o[g]=new sf(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},Qp.prototype.patchUpdatedImages=function(r,o){for(var u in r.dispatchRenderCallbacks(this.haveRenderCallbacks),r.updatedImages)this.patchUpdatedImage(this.iconPositions[u],r.getImage(u),o),this.patchUpdatedImage(this.patternPositions[u],r.getImage(u),o)},Qp.prototype.patchUpdatedImage=function(r,o,u){if(r&&o&&r.version!==o.version){r.version=o.version;var g=r.tl;u.update(o.data,void 0,{x:g[0],y:g[1]})}},rn("ImagePosition",sf),rn("ImageAtlas",Qp);var Is={horizontal:1,vertical:2,horizontalOnly:3},Wp=function(){this.scale=1,this.fontStack="",this.imageName=null};Wp.forText=function(r,o){var u=new Wp;return u.scale=r||1,u.fontStack=o,u},Wp.forImage=function(r){var o=new Wp;return o.imageName=r,o};var Ca=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function gd(r,o,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee){var Ve,Re=Ca.fromFeature(r,b);Y===Is.vertical&&Re.verticalizePunctuation();var tt=ir.processBidirectionalText,rt=ir.processStyledBidirectionalText;if(tt&&Re.sections.length===1){Ve=[];for(var ft=0,pt=tt(Re.toString(),nA(Re,W,C,o,g,he,Ce));ft<pt.length;ft+=1){var kt=pt[ft],Ut=new Ca;Ut.text=kt,Ut.sections=Re.sections;for(var Kt=0;Kt<kt.length;Kt++)Ut.sectionIndex.push(0);Ve.push(Ut)}}else if(rt){Ve=[];for(var gn=0,en=rt(Re.text,Re.sectionIndex,nA(Re,W,C,o,g,he,Ce));gn<en.length;gn+=1){var En=en[gn],nn=new Ca;nn.text=En[0],nn.sectionIndex=En[1],nn.sections=Re.sections,Ve.push(nn)}}else Ve=function(yn,or){for(var Hn=[],xr=yn.text,Pn=0,Lr=0,si=or;Lr<si.length;Lr+=1){var _i=si[Lr];Hn.push(yn.substring(Pn,_i)),Pn=_i}return Pn<xr.length&&Hn.push(yn.substring(Pn,xr.length)),Hn}(Re,nA(Re,W,C,o,g,he,Ce));var Zn=[],Mn={positionedLines:Zn,text:Re.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return function(yn,or,Hn,xr,Pn,Lr,si,_i,Mi,xi,Ci,_o){for(var Io=0,Ea=-17,Uo=0,ka=0,Ji=_i==="right"?1:_i==="left"?0:.5,$o=0,fr=0,ri=Pn;fr<ri.length;fr+=1){var Gr=ri[fr];Gr.trim();var Pr=Gr.getMaxScale(),Ra=24*(Pr-1),da={positionedGlyphs:[],lineOffset:0};yn.positionedLines[$o]=da;var Ir=da.positionedGlyphs,lo=0;if(Gr.length()){for(var ma=0;ma<Gr.length();ma++){var pr=Gr.getSection(ma),Xn=Gr.getSectionIndex(ma),Ms=Gr.getCharCode(ma),xo=0,hr=null,xu=null,ga=null,eh=24,ep=!(Mi===Is.horizontal||!Ci&&!Ws(Ms)||Ci&&(tA[Ms]||(fi=Ms,sn.Arabic(fi)||sn["Arabic Supplement"](fi)||sn["Arabic Extended-A"](fi)||sn["Arabic Presentation Forms-A"](fi)||sn["Arabic Presentation Forms-B"](fi))));if(pr.imageName){var th=xr[pr.imageName];if(!th)continue;ga=pr.imageName,yn.iconsInText=yn.iconsInText||!0,xu=th.paddedRect;var hc=th.displaySize;pr.scale=24*pr.scale/_o,xo=Ra+(24-hc[1]*pr.scale),eh=(hr={width:hc[0],height:hc[1],left:1,top:-3,advance:ep?hc[1]:hc[0]}).advance;var nh=ep?hc[0]*pr.scale-24*Pr:hc[1]*pr.scale-24*Pr;nh>0&&nh>lo&&(lo=nh)}else{var rh=Hn[pr.fontStack],ih=rh&&rh[Ms];if(ih&&ih.rect)xu=ih.rect,hr=ih.metrics;else{var Zs=or[pr.fontStack],uA=Zs&&Zs[Ms];if(!uA)continue;hr=uA.metrics}xo=24*(Pr-pr.scale)}ep?(yn.verticalizable=!0,Ir.push({glyph:Ms,imageName:ga,x:Io,y:Ea+xo,vertical:ep,scale:pr.scale,fontStack:pr.fontStack,sectionIndex:Xn,metrics:hr,rect:xu}),Io+=eh*pr.scale+xi):(Ir.push({glyph:Ms,imageName:ga,x:Io,y:Ea+xo,vertical:ep,scale:pr.scale,fontStack:pr.fontStack,sectionIndex:Xn,metrics:hr,rect:xu}),Io+=hr.advance*pr.scale+xi)}Ir.length!==0&&(Uo=Math.max(Io-xi,Uo),Xy(Ir,0,Ir.length-1,Ji,lo)),Io=0;var tp=Lr*Pr+lo;da.lineOffset=Math.max(lo,Ra),Ea+=tp,ka=Math.max(tp,ka),++$o}else Ea+=Lr,++$o}var fi,Qi=Ea- -17,np=vd(si),cf=np.horizontalAlign,oh=np.verticalAlign;(function(Ed,kd,cA,fA,pA,Ac,rp,hA,AA){var dc,Za=(kd-cA)*pA;dc=Ac!==rp?-hA*fA- -17:(-fA*AA+.5)*rp;for(var Nl=0,dA=Ed;Nl<dA.length;Nl+=1)for(var ip=0,mA=dA[Nl].positionedGlyphs;ip<mA.length;ip+=1){var ah=mA[ip];ah.x+=Za,ah.y+=dc}})(yn.positionedLines,Ji,cf,oh,Uo,ka,Lr,Qi,Pn.length),yn.top+=-oh*Qi,yn.bottom=yn.top+Qi,yn.left+=-cf*Uo,yn.right=yn.left+Uo}(Mn,o,u,g,Ve,T,B,j,Y,W,ue,Ee),!function(yn){for(var or=0,Hn=yn;or<Hn.length;or+=1)if(Hn[or].positionedGlyphs.length!==0)return!1;return!0}(Zn)&&Mn}Ca.fromFeature=function(r,o){for(var u=new Ca,g=0;g<r.sections.length;g++){var b=r.sections[g];b.image?u.addImageSection(b):u.addTextSection(b,o)}return u},Ca.prototype.length=function(){return this.text.length},Ca.prototype.getSection=function(r){return this.sections[this.sectionIndex[r]]},Ca.prototype.getSectionIndex=function(r){return this.sectionIndex[r]},Ca.prototype.getCharCode=function(r){return this.text.charCodeAt(r)},Ca.prototype.verticalizePunctuation=function(){this.text=function(r){for(var o="",u=0;u<r.length;u++){var g=r.charCodeAt(u+1)||null,b=r.charCodeAt(u-1)||null;o+=g&&Ao(g)&&!rf[r[u+1]]||b&&Ao(b)&&!rf[r[u-1]]||!rf[r[u]]?r[u]:rf[r[u]]}return o}(this.text)},Ca.prototype.trim=function(){for(var r=0,o=0;o<this.text.length&&tA[this.text.charCodeAt(o)];o++)r++;for(var u=this.text.length,g=this.text.length-1;g>=0&&g>=r&&tA[this.text.charCodeAt(g)];g--)u--;this.text=this.text.substring(r,u),this.sectionIndex=this.sectionIndex.slice(r,u)},Ca.prototype.substring=function(r,o){var u=new Ca;return u.text=this.text.substring(r,o),u.sectionIndex=this.sectionIndex.slice(r,o),u.sections=this.sections,u},Ca.prototype.toString=function(){return this.text},Ca.prototype.getMaxScale=function(){var r=this;return this.sectionIndex.reduce(function(o,u){return Math.max(o,r.sections[u].scale)},0)},Ca.prototype.addTextSection=function(r,o){this.text+=r.text,this.sections.push(Wp.forText(r.scale,r.fontStack||o));for(var u=this.sections.length-1,g=0;g<r.text.length;++g)this.sectionIndex.push(u)},Ca.prototype.addImageSection=function(r){var o=r.image?r.image.name:"";if(o.length!==0){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Wp.forImage(o)),this.sectionIndex.push(this.sections.length-1)):yt("Reached maximum number of images 6401")}else yt("Can't add FormattedSection with an empty image.")},Ca.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var tA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ka={};function Ky(r,o,u,g,b,C){if(o.imageName){var T=g[o.imageName];return T?T.displaySize[0]*o.scale*24/C+b:0}var B=u[o.fontStack],j=B&&B[r];return j?j.metrics.advance*o.scale+b:0}function yd(r,o,u,g){var b=Math.pow(r-o,2);return g?r<o?b/2:2*b:b+Math.abs(u)*u}function Zy(r,o,u){var g=0;return r===10&&(g-=1e4),u&&(g+=150),r!==40&&r!==65288||(g+=50),o!==41&&o!==65289||(g+=50),g}function Kp(r,o,u,g,b,C){for(var T=null,B=yd(o,u,b,C),j=0,W=g;j<W.length;j+=1){var Z=W[j],Y=yd(o-Z.x,u,b,C)+Z.badness;Y<=B&&(T=Z,B=Y)}return{index:r,x:o,priorBreak:T,badness:B}}function nA(r,o,u,g,b,C,T){if(C!=="point")return[];if(!r)return[];for(var B,j=[],W=function(Ve,Re,tt,rt,ft,pt){for(var kt=0,Ut=0;Ut<Ve.length();Ut++){var Kt=Ve.getSection(Ut);kt+=Ky(Ve.getCharCode(Ut),Kt,rt,ft,Re,pt)}return kt/Math.max(1,Math.ceil(kt/tt))}(r,o,u,g,b,T),Z=r.text.indexOf("")>=0,Y=0,ue=0;ue<r.length();ue++){var he=r.getSection(ue),Ce=r.getCharCode(ue);if(tA[Ce]||(Y+=Ky(Ce,he,g,b,o,T)),ue<r.length()-1){var Ee=!((B=Ce)<11904||!(sn["Bopomofo Extended"](B)||sn.Bopomofo(B)||sn["CJK Compatibility Forms"](B)||sn["CJK Compatibility Ideographs"](B)||sn["CJK Compatibility"](B)||sn["CJK Radicals Supplement"](B)||sn["CJK Strokes"](B)||sn["CJK Symbols and Punctuation"](B)||sn["CJK Unified Ideographs Extension A"](B)||sn["CJK Unified Ideographs"](B)||sn["Enclosed CJK Letters and Months"](B)||sn["Halfwidth and Fullwidth Forms"](B)||sn.Hiragana(B)||sn["Ideographic Description Characters"](B)||sn["Kangxi Radicals"](B)||sn["Katakana Phonetic Extensions"](B)||sn.Katakana(B)||sn["Vertical Forms"](B)||sn["Yi Radicals"](B)||sn["Yi Syllables"](B)));(Ka[Ce]||Ee||he.imageName)&&j.push(Kp(ue+1,Y,W,j,Zy(Ce,r.getCharCode(ue+1),Ee&&Z),!1))}}return function Ve(Re){return Re?Ve(Re.priorBreak).concat(Re.index):[]}(Kp(r.length(),Y,W,j,0,!0))}function vd(r){var o=.5,u=.5;switch(r){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:o,verticalAlign:u}}function Xy(r,o,u,g,b){if(g||b)for(var C=r[u],T=(r[u].x+C.metrics.advance*C.scale)*g,B=o;B<=u;B++)r[B].x-=T,r[B].y+=b}function rA(r,o,u,g,b,C){var T,B=r.image;if(B.content){var j=B.content,W=B.pixelRatio||1;T=[j[0]/W,j[1]/W,B.displaySize[0]-j[2]/W,B.displaySize[1]-j[3]/W]}var Z,Y,ue,he,Ce=o.left*C,Ee=o.right*C;u==="width"||u==="both"?(he=b[0]+Ce-g[3],Y=b[0]+Ee+g[1]):Y=(he=b[0]+(Ce+Ee-B.displaySize[0])/2)+B.displaySize[0];var Ve=o.top*C,Re=o.bottom*C;return u==="height"||u==="both"?(Z=b[1]+Ve-g[0],ue=b[1]+Re+g[2]):ue=(Z=b[1]+(Ve+Re-B.displaySize[1])/2)+B.displaySize[1],{image:B,top:Z,right:Y,bottom:ue,left:he,collisionPadding:T}}Ka[10]=!0,Ka[32]=!0,Ka[38]=!0,Ka[40]=!0,Ka[41]=!0,Ka[43]=!0,Ka[45]=!0,Ka[47]=!0,Ka[173]=!0,Ka[183]=!0,Ka[8203]=!0,Ka[8208]=!0,Ka[8211]=!0,Ka[8231]=!0;var Qf=function(r){function o(u,g,b,C){r.call(this,u,g),this.angle=b,C!==void 0&&(this.segment=C)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.clone=function(){return new o(this.x,this.y,this.angle,this.segment)},o}(L);function vl(r,o){var u=o.expression;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Wn(r+1))};if(u.kind==="source")return{kind:"source"};for(var g=u.zoomStops,b=u.interpolationType,C=0;C<g.length&&g[C]<=r;)C++;for(var T=C=Math.max(0,C-1);T<g.length&&g[T]<r+1;)T++;T=Math.min(g.length-1,T);var B=g[C],j=g[T];return u.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:j,interpolationType:b}:{kind:"camera",minZoom:B,maxZoom:j,minSize:u.evaluate(new Wn(B)),maxSize:u.evaluate(new Wn(j)),interpolationType:b}}function lf(r,o,u){var g=o.uSize,b=u.lowerSize;return r.kind==="source"?b/128:r.kind==="composite"?Tr(b/128,u.upperSize/128,o.uSizeT):g}function Yy(r,o){var u=0,g=0;if(r.kind==="constant")g=r.layoutSize;else if(r.kind!=="source"){var b=r.interpolationType,C=b?te(Ki.interpolationFactor(b,o,r.minZoom,r.maxZoom),0,1):0;r.kind==="camera"?g=Tr(r.minSize,r.maxSize,C):u=C}return{uSizeT:u,uSize:g}}rn("Anchor",Qf);var Jy=Object.freeze({__proto__:null,getSizeData:vl,evaluateSizeForFeature:lf,evaluateSizeForZoom:Yy,SIZE_PACK_FACTOR:128});function ev(r,o,u,g,b){if(o.segment===void 0)return!0;for(var C=o,T=o.segment+1,B=0;B>-u/2;){if(--T<0)return!1;B-=r[T].dist(C),C=r[T]}B+=r[T].dist(r[T+1]),T++;for(var j=[],W=0;B<u/2;){var Z=r[T],Y=r[T+1];if(!Y)return!1;var ue=r[T-1].angleTo(Z)-Z.angleTo(Y);for(ue=Math.abs((ue+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:B,angleDelta:ue}),W+=ue;B-j[0].distance>g;)W-=j.shift().angleDelta;if(W>b)return!1;T++,B+=Z.dist(Y)}return!0}function tv(r){for(var o=0,u=0;u<r.length-1;u++)o+=r[u].dist(r[u+1]);return o}function nv(r,o,u){return r?.6*o*u:0}function rv(r,o){return Math.max(r?r.right-r.left:0,o?o.right-o.left:0)}function ob(r,o,u,g,b,C){for(var T=nv(u,b,C),B=rv(u,g)*C,j=0,W=tv(r)/2,Z=0;Z<r.length-1;Z++){var Y=r[Z],ue=r[Z+1],he=Y.dist(ue);if(j+he>W){var Ce=(W-j)/he,Ee=Tr(Y.x,ue.x,Ce),Ve=Tr(Y.y,ue.y,Ce),Re=new Qf(Ee,Ve,ue.angleTo(Y),Z);return Re._round(),!T||ev(r,Re,B,T,o)?Re:void 0}j+=he}}function ab(r,o,u,g,b,C,T,B,j){var W=nv(g,C,T),Z=rv(g,b),Y=Z*T,ue=r[0].x===0||r[0].x===j||r[0].y===0||r[0].y===j;return o-Y<o/4&&(o=Y+o/4),function he(Ce,Ee,Ve,Re,tt,rt,ft,pt,kt){for(var Ut=rt/2,Kt=tv(Ce),gn=0,en=Ee-Ve,En=[],nn=0;nn<Ce.length-1;nn++){for(var Zn=Ce[nn],Mn=Ce[nn+1],yn=Zn.dist(Mn),or=Mn.angleTo(Zn);en+Ve<gn+yn;){var Hn=((en+=Ve)-gn)/yn,xr=Tr(Zn.x,Mn.x,Hn),Pn=Tr(Zn.y,Mn.y,Hn);if(xr>=0&&xr<kt&&Pn>=0&&Pn<kt&&en-Ut>=0&&en+Ut<=Kt){var Lr=new Qf(xr,Pn,or,nn);Lr._round(),Re&&!ev(Ce,Lr,rt,Re,tt)||En.push(Lr)}}gn+=yn}return pt||En.length||ft||(En=he(Ce,gn/2,Ve,Re,tt,rt,ft,!0,kt)),En}(r,ue?o/2*B%o:(Z/2+2*C)*T*B%o,o,W,u,Y,ue,!1,j)}function iv(r,o,u,g,b){for(var C=[],T=0;T<r.length;T++)for(var B=r[T],j=void 0,W=0;W<B.length-1;W++){var Z=B[W],Y=B[W+1];Z.x<o&&Y.x<o||(Z.x<o?Z=new L(o,Z.y+(o-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x<o&&(Y=new L(o,Z.y+(o-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y<u&&Y.y<u||(Z.y<u?Z=new L(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round():Y.y<u&&(Y=new L(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round()),Z.x>=g&&Y.x>=g||(Z.x>=g?Z=new L(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x>=g&&(Y=new L(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y>=b&&Y.y>=b||(Z.y>=b?Z=new L(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round():Y.y>=b&&(Y=new L(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round()),j&&Z.equals(j[j.length-1])||C.push(j=[Z]),j.push(Y)))))}return C}function ov(r,o,u,g){var b=[],C=r.image,T=C.pixelRatio,B=C.paddedRect.w-2,j=C.paddedRect.h-2,W=r.right-r.left,Z=r.bottom-r.top,Y=C.stretchX||[[0,B]],ue=C.stretchY||[[0,j]],he=function(xr,Pn){return xr+Pn[1]-Pn[0]},Ce=Y.reduce(he,0),Ee=ue.reduce(he,0),Ve=B-Ce,Re=j-Ee,tt=0,rt=Ce,ft=0,pt=Ee,kt=0,Ut=Ve,Kt=0,gn=Re;if(C.content&&g){var en=C.content;tt=_d(Y,0,en[0]),ft=_d(ue,0,en[1]),rt=_d(Y,en[0],en[2]),pt=_d(ue,en[1],en[3]),kt=en[0]-tt,Kt=en[1]-ft,Ut=en[2]-en[0]-rt,gn=en[3]-en[1]-pt}var En=function(xr,Pn,Lr,si){var _i=xd(xr.stretch-tt,rt,W,r.left),Mi=iA(xr.fixed-kt,Ut,xr.stretch,Ce),xi=xd(Pn.stretch-ft,pt,Z,r.top),Ci=iA(Pn.fixed-Kt,gn,Pn.stretch,Ee),_o=xd(Lr.stretch-tt,rt,W,r.left),Io=iA(Lr.fixed-kt,Ut,Lr.stretch,Ce),Ea=xd(si.stretch-ft,pt,Z,r.top),Uo=iA(si.fixed-Kt,gn,si.stretch,Ee),ka=new L(_i,xi),Ji=new L(_o,xi),$o=new L(_o,Ea),fr=new L(_i,Ea),ri=new L(Mi/T,Ci/T),Gr=new L(Io/T,Uo/T),Pr=o*Math.PI/180;if(Pr){var Ra=Math.sin(Pr),da=Math.cos(Pr),Ir=[da,-Ra,Ra,da];ka._matMult(Ir),Ji._matMult(Ir),fr._matMult(Ir),$o._matMult(Ir)}var lo=xr.stretch+xr.fixed,ma=Pn.stretch+Pn.fixed;return{tl:ka,tr:Ji,bl:fr,br:$o,tex:{x:C.paddedRect.x+1+lo,y:C.paddedRect.y+1+ma,w:Lr.stretch+Lr.fixed-lo,h:si.stretch+si.fixed-ma},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ri,pixelOffsetBR:Gr,minFontScaleX:Ut/T/W,minFontScaleY:gn/T/Z,isSDF:u}};if(g&&(C.stretchX||C.stretchY))for(var nn=av(Y,Ve,Ce),Zn=av(ue,Re,Ee),Mn=0;Mn<nn.length-1;Mn++)for(var yn=nn[Mn],or=nn[Mn+1],Hn=0;Hn<Zn.length-1;Hn++)b.push(En(yn,Zn[Hn],or,Zn[Hn+1]));else b.push(En({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:j+1}));return b}function _d(r,o,u){for(var g=0,b=0,C=r;b<C.length;b+=1){var T=C[b];g+=Math.max(o,Math.min(u,T[1]))-Math.max(o,Math.min(u,T[0]))}return g}function av(r,o,u){for(var g=[{fixed:-1,stretch:0}],b=0,C=r;b<C.length;b+=1){var T=C[b],B=T[0],j=T[1],W=g[g.length-1];g.push({fixed:B-W.stretch,stretch:W.stretch}),g.push({fixed:B-W.stretch,stretch:W.stretch+(j-B)})}return g.push({fixed:o+1,stretch:u}),g}function xd(r,o,u,g){return r/o*u+g}function iA(r,o,u,g){return r-o*u/g}var oA=function(r,o,u,g,b,C,T,B,j,W){if(this.boxStartIndex=r.length,j){var Z=C.top,Y=C.bottom,ue=C.collisionPadding;ue&&(Z-=ue[1],Y+=ue[3]);var he=Y-Z;he>0&&(he=Math.max(10,he),this.circleDiameter=he)}else{var Ce=C.top*T-B,Ee=C.bottom*T+B,Ve=C.left*T-B,Re=C.right*T+B,tt=C.collisionPadding;if(tt&&(Ve-=tt[0]*T,Ce-=tt[1]*T,Re+=tt[2]*T,Ee+=tt[3]*T),W){var rt=new L(Ve,Ce),ft=new L(Re,Ce),pt=new L(Ve,Ee),kt=new L(Re,Ee),Ut=W*Math.PI/180;rt._rotate(Ut),ft._rotate(Ut),pt._rotate(Ut),kt._rotate(Ut),Ve=Math.min(rt.x,ft.x,pt.x,kt.x),Re=Math.max(rt.x,ft.x,pt.x,kt.x),Ce=Math.min(rt.y,ft.y,pt.y,kt.y),Ee=Math.max(rt.y,ft.y,pt.y,kt.y)}r.emplaceBack(o.x,o.y,Ve,Ce,Re,Ee,u,g,b)}this.boxEndIndex=r.length},Wf=function(r,o){if(r===void 0&&(r=[]),o===void 0&&(o=sb),this.data=r,this.length=this.data.length,this.compare=o,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function sb(r,o){return r<o?-1:r>o?1:0}function lb(r,o,u){o===void 0&&(o=1),u===void 0&&(u=!1);for(var g=1/0,b=1/0,C=-1/0,T=-1/0,B=r[0],j=0;j<B.length;j++){var W=B[j];(!j||W.x<g)&&(g=W.x),(!j||W.y<b)&&(b=W.y),(!j||W.x>C)&&(C=W.x),(!j||W.y>T)&&(T=W.y)}var Z=Math.min(C-g,T-b),Y=Z/2,ue=new Wf([],ub);if(Z===0)return new L(g,b);for(var he=g;he<C;he+=Z)for(var Ce=b;Ce<T;Ce+=Z)ue.push(new Kf(he+Y,Ce+Y,Y,r));for(var Ee=function(tt){for(var rt=0,ft=0,pt=0,kt=tt[0],Ut=0,Kt=kt.length,gn=Kt-1;Ut<Kt;gn=Ut++){var en=kt[Ut],En=kt[gn],nn=en.x*En.y-En.x*en.y;ft+=(en.x+En.x)*nn,pt+=(en.y+En.y)*nn,rt+=3*nn}return new Kf(ft/rt,pt/rt,0,tt)}(r),Ve=ue.length;ue.length;){var Re=ue.pop();(Re.d>Ee.d||!Ee.d)&&(Ee=Re,u&&console.log("found best %d after %d probes",Math.round(1e4*Re.d)/1e4,Ve)),Re.max-Ee.d<=o||(ue.push(new Kf(Re.p.x-(Y=Re.h/2),Re.p.y-Y,Y,r)),ue.push(new Kf(Re.p.x+Y,Re.p.y-Y,Y,r)),ue.push(new Kf(Re.p.x-Y,Re.p.y+Y,Y,r)),ue.push(new Kf(Re.p.x+Y,Re.p.y+Y,Y,r)),Ve+=4)}return u&&(console.log("num probes: "+Ve),console.log("best distance: "+Ee.d)),Ee.p}function ub(r,o){return o.max-r.max}function Kf(r,o,u,g){this.p=new L(r,o),this.h=u,this.d=function(b,C){for(var T=!1,B=1/0,j=0;j<C.length;j++)for(var W=C[j],Z=0,Y=W.length,ue=Y-1;Z<Y;ue=Z++){var he=W[Z],Ce=W[ue];he.y>b.y!=Ce.y>b.y&&b.x<(Ce.x-he.x)*(b.y-he.y)/(Ce.y-he.y)+he.x&&(T=!T),B=Math.min(B,Nf(b,he,Ce))}return(T?1:-1)*Math.sqrt(B)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Wf.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},Wf.prototype.pop=function(){if(this.length!==0){var r=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),r}},Wf.prototype.peek=function(){return this.data[0]},Wf.prototype._up=function(r){for(var o=this.data,u=this.compare,g=o[r];r>0;){var b=r-1>>1,C=o[b];if(u(g,C)>=0)break;o[r]=C,r=b}o[r]=g},Wf.prototype._down=function(r){for(var o=this.data,u=this.compare,g=this.length>>1,b=o[r];r<g;){var C=1+(r<<1),T=o[C],B=C+1;if(B<this.length&&u(o[B],T)<0&&(C=B,T=o[B]),u(T,b)>=0)break;o[r]=T,r=C}o[r]=b};var fm=Number.POSITIVE_INFINITY;function sv(r,o){return o[1]!==fm?function(u,g,b){var C=0,T=0;switch(g=Math.abs(g),b=Math.abs(b),u){case"top-right":case"top-left":case"top":T=b-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-b}switch(u){case"top-right":case"bottom-right":case"right":C=-g;break;case"top-left":case"bottom-left":case"left":C=g}return[C,T]}(r,o[0],o[1]):function(u,g){var b=0,C=0;g<0&&(g=0);var T=g/Math.sqrt(2);switch(u){case"top-right":case"top-left":C=T-7;break;case"bottom-right":case"bottom-left":C=7-T;break;case"bottom":C=7-g;break;case"top":C=g-7}switch(u){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=g;break;case"right":b=-g}return[b,C]}(r,o[0])}function pm(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function lv(r,o,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ce){var Ee=function(ft,pt,kt,Ut,Kt,gn,en,En){for(var nn=Ut.layout.get("text-rotate").evaluate(gn,{})*Math.PI/180,Zn=[],Mn=0,yn=pt.positionedLines;Mn<yn.length;Mn+=1)for(var or=yn[Mn],Hn=0,xr=or.positionedGlyphs;Hn<xr.length;Hn+=1){var Pn=xr[Hn];if(Pn.rect){var Lr=Pn.rect||{},si=4,_i=!0,Mi=1,xi=0,Ci=(Kt||En)&&Pn.vertical,_o=Pn.metrics.advance*Pn.scale/2;if(En&&pt.verticalizable&&(xi=or.lineOffset/2-(Pn.imageName?-(24-Pn.metrics.width*Pn.scale)/2:24*(Pn.scale-1))),Pn.imageName){var Io=en[Pn.imageName];_i=Io.sdf,si=1/(Mi=Io.pixelRatio)}var Ea=Kt?[Pn.x+_o,Pn.y]:[0,0],Uo=Kt?[0,0]:[Pn.x+_o+kt[0],Pn.y+kt[1]-xi],ka=[0,0];Ci&&(ka=Uo,Uo=[0,0]);var Ji=(Pn.metrics.left-si)*Pn.scale-_o+Uo[0],$o=(-Pn.metrics.top-si)*Pn.scale+Uo[1],fr=Ji+Lr.w*Pn.scale/Mi,ri=$o+Lr.h*Pn.scale/Mi,Gr=new L(Ji,$o),Pr=new L(fr,$o),Ra=new L(Ji,ri),da=new L(fr,ri);if(Ci){var Ir=new L(-_o,_o- -17),lo=-Math.PI/2,ma=12-_o,pr=new L(22-ma,-(Pn.imageName?ma:0)),Xn=new(Function.prototype.bind.apply(L,[null].concat(ka)));Gr._rotateAround(lo,Ir)._add(pr)._add(Xn),Pr._rotateAround(lo,Ir)._add(pr)._add(Xn),Ra._rotateAround(lo,Ir)._add(pr)._add(Xn),da._rotateAround(lo,Ir)._add(pr)._add(Xn)}if(nn){var Ms=Math.sin(nn),xo=Math.cos(nn),hr=[xo,-Ms,Ms,xo];Gr._matMult(hr),Pr._matMult(hr),Ra._matMult(hr),da._matMult(hr)}var xu=new L(0,0),ga=new L(0,0);Zn.push({tl:Gr,tr:Pr,bl:Ra,br:da,tex:Lr,writingMode:pt.writingMode,glyphOffset:Ea,sectionIndex:Pn.sectionIndex,isSDF:_i,pixelOffsetTL:xu,pixelOffsetBR:ga,minFontScaleX:0,minFontScaleY:0})}}return Zn}(0,u,B,b,C,T,g,r.allowVerticalPlacement),Ve=r.textSizeData,Re=null;Ve.kind==="source"?(Re=[128*b.layout.get("text-size").evaluate(T,{})])[0]>32640&&yt(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Ve.kind==="composite"&&((Re=[128*he.compositeTextSizes[0].evaluate(T,{},Ce),128*he.compositeTextSizes[1].evaluate(T,{},Ce)])[0]>32640||Re[1]>32640)&&yt(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),r.addSymbols(r.text,Ee,Re,B,C,T,W,o,j.lineStartIndex,j.lineLength,ue,Ce);for(var tt=0,rt=Z;tt<rt.length;tt+=1)Y[rt[tt]]=r.text.placedSymbolArray.length-1;return 4*Ee.length}function uv(r){for(var o in r)return r[o];return null}function cb(r,o,u,g){var b=r.compareText;if(o in b){for(var C=b[o],T=C.length-1;T>=0;T--)if(g.dist(C[T])<u)return!0}else b[o]=[];return b[o].push(g),!1}var _l=vu.VectorTileFeature.types,fb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function bd(r,o,u,g,b,C,T,B,j,W,Z,Y,ue){var he=B?Math.min(32640,Math.round(B[0])):0,Ce=B?Math.min(32640,Math.round(B[1])):0;r.emplaceBack(o,u,Math.round(32*g),Math.round(32*b),C,T,(he<<1)+(j?1:0),Ce,16*W,16*Z,256*Y,256*ue)}function hm(r,o,u){r.emplaceBack(o.x,o.y,u),r.emplaceBack(o.x,o.y,u),r.emplaceBack(o.x,o.y,u),r.emplaceBack(o.x,o.y,u)}function cv(r){for(var o=0,u=r.sections;o<u.length;o+=1)if(Bp(u[o].text))return!0;return!1}var Zp=function(r){this.layoutVertexArray=new ie,this.indexArray=new Nt,this.programConfigurations=r,this.segments=new de,this.dynamicLayoutVertexArray=new fe,this.opacityVertexArray=new Fe,this.placedSymbolArray=new E};Zp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Zp.prototype.upload=function(r,o,u,g){this.isEmpty()||(u&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Kx.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,Zx.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,fb,!0),this.opacityVertexBuffer.itemSize=1),(u||g)&&this.programConfigurations.upload(r))},Zp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},rn("SymbolBuffers",Zp);var aA=function(r,o,u){this.layoutVertexArray=new r,this.layoutAttributes=o,this.indexArray=new u,this.segments=new de,this.collisionVertexArray=new Et};aA.prototype.upload=function(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,cc.members,!0)},aA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},rn("CollisionBuffers",aA);var Kr=function(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(C){return C.id}),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Aa([]),this.placementViewportMatrix=Aa([]);var o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=vl(this.zoom,o["text-size"]),this.iconSizeData=vl(this.zoom,o["icon-size"]);var u=this.layers[0].layout,g=u.get("symbol-sort-key"),b=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(function(C){return Is[C]})),this.stateDependentLayerIds=this.layers.filter(function(C){return C.isStateDependent()}).map(function(C){return C.id}),this.sourceID=r.sourceID};Kr.prototype.createArrays=function(){this.text=new Zp(new qr(this.layers,this.zoom,function(r){return/^text/.test(r)})),this.icon=new Zp(new qr(this.layers,this.zoom,function(r){return/^icon/.test(r)})),this.glyphOffsetArray=new U,this.lineVertexArray=new G,this.symbolInstances=new R},Kr.prototype.calculateGlyphDependencies=function(r,o,u,g,b){for(var C=0;C<r.length;C++)if(o[r.charCodeAt(C)]=!0,(u||g)&&b){var T=rf[r.charAt(C)];T&&(o[T.charCodeAt(0)]=!0)}},Kr.prototype.populate=function(r,o,u){var g=this.layers[0],b=g.layout,C=b.get("text-font"),T=b.get("text-field"),B=b.get("icon-image"),j=(T.value.kind!=="constant"||T.value.value instanceof oo&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),W=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=b.get("symbol-sort-key");if(this.features=[],j||W){for(var Y=o.iconDependencies,ue=o.glyphDependencies,he=o.availableImages,Ce=new Wn(this.zoom),Ee=0,Ve=r;Ee<Ve.length;Ee+=1){var Re=Ve[Ee],tt=Re.feature,rt=Re.id,ft=Re.index,pt=Re.sourceLayerIndex,kt=g._featureFilter.needGeometry,Ut=na(tt,kt);if(g._featureFilter.filter(Ce,Ut,u)){kt||(Ut.geometry=ci(tt));var Kt=void 0;if(j){var gn=g.getValueAndResolveTokens("text-field",Ut,u,he),en=oo.factory(gn);cv(en)&&(this.hasRTLText=!0),(!this.hasRTLText||ps()==="unavailable"||this.hasRTLText&&ir.isParsed())&&(Kt=lm(en,g,Ut))}var En=void 0;if(W){var nn=g.getValueAndResolveTokens("icon-image",Ut,u,he);En=nn instanceof Qo?nn:Qo.fromString(nn)}if(Kt||En){var Zn=this.sortFeaturesByKey?Z.evaluate(Ut,{},u):void 0;if(this.features.push({id:rt,text:Kt,icon:En,index:ft,sourceLayerIndex:pt,geometry:Ut.geometry,properties:tt.properties,type:_l[tt.type],sortKey:Zn}),En&&(Y[En.name]=!0),Kt){var Mn=C.evaluate(Ut,{},u).join(","),yn=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Is.vertical)>=0;for(var or=0,Hn=Kt.sections;or<Hn.length;or+=1){var xr=Hn[or];if(xr.image)Y[xr.image.name]=!0;else{var Pn=rc(Kt.toString()),Lr=xr.fontStack||Mn,si=ue[Lr]=ue[Lr]||{};this.calculateGlyphDependencies(xr.text,si,yn,this.allowVerticalPlacement,Pn)}}}}}}b.get("symbol-placement")==="line"&&(this.features=function(_i){var Mi={},xi={},Ci=[],_o=0;function Io(Ir){Ci.push(_i[Ir]),_o++}function Ea(Ir,lo,ma){var pr=xi[Ir];return delete xi[Ir],xi[lo]=pr,Ci[pr].geometry[0].pop(),Ci[pr].geometry[0]=Ci[pr].geometry[0].concat(ma[0]),pr}function Uo(Ir,lo,ma){var pr=Mi[lo];return delete Mi[lo],Mi[Ir]=pr,Ci[pr].geometry[0].shift(),Ci[pr].geometry[0]=ma[0].concat(Ci[pr].geometry[0]),pr}function ka(Ir,lo,ma){var pr=ma?lo[0][lo[0].length-1]:lo[0][0];return Ir+":"+pr.x+":"+pr.y}for(var Ji=0;Ji<_i.length;Ji++){var $o=_i[Ji],fr=$o.geometry,ri=$o.text?$o.text.toString():null;if(ri){var Gr=ka(ri,fr),Pr=ka(ri,fr,!0);if(Gr in xi&&Pr in Mi&&xi[Gr]!==Mi[Pr]){var Ra=Uo(Gr,Pr,fr),da=Ea(Gr,Pr,Ci[Ra].geometry);delete Mi[Gr],delete xi[Pr],xi[ka(ri,Ci[da].geometry,!0)]=da,Ci[Ra].geometry=null}else Gr in xi?Ea(Gr,Pr,fr):Pr in Mi?Uo(Gr,Pr,fr):(Io(Ji),Mi[Gr]=_o-1,xi[Pr]=_o-1)}else Io(Ji)}return Ci.filter(function(Ir){return Ir.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,Mi){return _i.sortKey-Mi.sortKey})}},Kr.prototype.update=function(r,o,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,o,this.layers,u),this.icon.programConfigurations.updatePaintArrays(r,o,this.layers,u))},Kr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Kr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Kr.prototype.upload=function(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Kr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Kr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Kr.prototype.addToLineVertexArray=function(r,o){var u=this.lineVertexArray.length;if(r.segment!==void 0){for(var g=r.dist(o[r.segment+1]),b=r.dist(o[r.segment]),C={},T=r.segment+1;T<o.length;T++)C[T]={x:o[T].x,y:o[T].y,tileUnitDistanceFromAnchor:g},T<o.length-1&&(g+=o[T+1].dist(o[T]));for(var B=r.segment||0;B>=0;B--)C[B]={x:o[B].x,y:o[B].y,tileUnitDistanceFromAnchor:b},B>0&&(b+=o[B-1].dist(o[B]));for(var j=0;j<o.length;j++){var W=C[j];this.lineVertexArray.emplaceBack(W.x,W.y,W.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},Kr.prototype.addSymbols=function(r,o,u,g,b,C,T,B,j,W,Z,Y){for(var ue=r.indexArray,he=r.layoutVertexArray,Ce=r.segments.prepareSegment(4*o.length,he,ue,this.canOverlap?C.sortKey:void 0),Ee=this.glyphOffsetArray.length,Ve=Ce.vertexLength,Re=this.allowVerticalPlacement&&T===Is.vertical?Math.PI/2:0,tt=C.text&&C.text.sections,rt=0;rt<o.length;rt++){var ft=o[rt],pt=ft.tl,kt=ft.tr,Ut=ft.bl,Kt=ft.br,gn=ft.tex,en=ft.pixelOffsetTL,En=ft.pixelOffsetBR,nn=ft.minFontScaleX,Zn=ft.minFontScaleY,Mn=ft.glyphOffset,yn=ft.isSDF,or=ft.sectionIndex,Hn=Ce.vertexLength,xr=Mn[1];bd(he,B.x,B.y,pt.x,xr+pt.y,gn.x,gn.y,u,yn,en.x,en.y,nn,Zn),bd(he,B.x,B.y,kt.x,xr+kt.y,gn.x+gn.w,gn.y,u,yn,En.x,en.y,nn,Zn),bd(he,B.x,B.y,Ut.x,xr+Ut.y,gn.x,gn.y+gn.h,u,yn,en.x,En.y,nn,Zn),bd(he,B.x,B.y,Kt.x,xr+Kt.y,gn.x+gn.w,gn.y+gn.h,u,yn,En.x,En.y,nn,Zn),hm(r.dynamicLayoutVertexArray,B,Re),ue.emplaceBack(Hn,Hn+1,Hn+2),ue.emplaceBack(Hn+1,Hn+2,Hn+3),Ce.vertexLength+=4,Ce.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Mn[0]),rt!==o.length-1&&or===o[rt+1].sectionIndex||r.programConfigurations.populatePaintArrays(he.length,C,C.index,{},Y,tt&&tt[or])}r.placedSymbolArray.emplaceBack(B.x,B.y,Ee,this.glyphOffsetArray.length-Ee,Ve,j,W,B.segment,u?u[0]:0,u?u[1]:0,g[0],g[1],T,0,!1,0,Z)},Kr.prototype._addCollisionDebugVertex=function(r,o,u,g,b,C){return o.emplaceBack(0,0),r.emplaceBack(u.x,u.y,g,b,Math.round(C.x),Math.round(C.y))},Kr.prototype.addCollisionDebugVertices=function(r,o,u,g,b,C,T){var B=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),j=B.vertexLength,W=b.layoutVertexArray,Z=b.collisionVertexArray,Y=T.anchorX,ue=T.anchorY;this._addCollisionDebugVertex(W,Z,C,Y,ue,new L(r,o)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new L(u,o)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new L(u,g)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new L(r,g)),B.vertexLength+=4;var he=b.indexArray;he.emplaceBack(j,j+1),he.emplaceBack(j+1,j+2),he.emplaceBack(j+2,j+3),he.emplaceBack(j+3,j),B.primitiveLength+=4},Kr.prototype.addDebugCollisionBoxes=function(r,o,u,g){for(var b=r;b<o;b++){var C=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(C.x1,C.y1,C.x2,C.y2,g?this.textCollisionBox:this.iconCollisionBox,C.anchorPoint,u)}},Kr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new aA(it,dd.members,_n),this.iconCollisionBox=new aA(it,dd.members,_n);for(var r=0;r<this.symbolInstances.length;r++){var o=this.symbolInstances.get(r);this.addDebugCollisionBoxes(o.textBoxStartIndex,o.textBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.iconBoxStartIndex,o.iconBoxEndIndex,o,!1),this.addDebugCollisionBoxes(o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o,!1)}},Kr.prototype._deserializeCollisionBoxesForSymbol=function(r,o,u,g,b,C,T,B,j){for(var W={},Z=o;Z<u;Z++){var Y=r.get(Z);W.textBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},W.textFeatureIndex=Y.featureIndex;break}for(var ue=g;ue<b;ue++){var he=r.get(ue);W.verticalTextBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},W.verticalTextFeatureIndex=he.featureIndex;break}for(var Ce=C;Ce<T;Ce++){var Ee=r.get(Ce);W.iconBox={x1:Ee.x1,y1:Ee.y1,x2:Ee.x2,y2:Ee.y2,anchorPointX:Ee.anchorPointX,anchorPointY:Ee.anchorPointY},W.iconFeatureIndex=Ee.featureIndex;break}for(var Ve=B;Ve<j;Ve++){var Re=r.get(Ve);W.verticalIconBox={x1:Re.x1,y1:Re.y1,x2:Re.x2,y2:Re.y2,anchorPointX:Re.anchorPointX,anchorPointY:Re.anchorPointY},W.verticalIconFeatureIndex=Re.featureIndex;break}return W},Kr.prototype.deserializeCollisionBoxes=function(r){this.collisionArrays=[];for(var o=0;o<this.symbolInstances.length;o++){var u=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},Kr.prototype.hasTextData=function(){return this.text.segments.get().length>0},Kr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Kr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Kr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Kr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Kr.prototype.addIndicesForPlacedSymbol=function(r,o){for(var u=r.placedSymbolArray.get(o),g=u.vertexStartIndex+4*u.numGlyphs,b=u.vertexStartIndex;b<g;b+=4)r.indexArray.emplaceBack(b,b+1,b+2),r.indexArray.emplaceBack(b+1,b+2,b+3)},Kr.prototype.getSortedSymbolIndexes=function(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var o=Math.sin(r),u=Math.cos(r),g=[],b=[],C=[],T=0;T<this.symbolInstances.length;++T){C.push(T);var B=this.symbolInstances.get(T);g.push(0|Math.round(o*B.anchorX+u*B.anchorY)),b.push(B.featureIndex)}return C.sort(function(j,W){return g[j]-g[W]||b[W]-b[j]}),C},Kr.prototype.addToSortKeyRanges=function(r,o){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===o?u.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:r,symbolInstanceEnd:r+1})},Kr.prototype.sortFeatures=function(r){var o=this;if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,g=this.symbolInstanceIndexes;u<g.length;u+=1){var b=this.symbolInstances.get(g[u]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(C,T,B){C>=0&&B.indexOf(C)===T&&o.addIndicesForPlacedSymbol(o.text,C)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},rn("SymbolBucket",Kr,{omit:["layers","collisionBoxArray","features","compareText"]}),Kr.MAX_GLYPHS=65535,Kr.addDynamicAttributes=hm;var pb=new zo({"symbol-placement":new Qt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new dt(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Qt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new dt(xe.layout_symbol["icon-size"]),"icon-text-fit":new Qt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new dt(xe.layout_symbol["icon-image"]),"icon-rotate":new dt(xe.layout_symbol["icon-rotate"]),"icon-padding":new Qt(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new dt(xe.layout_symbol["icon-offset"]),"icon-anchor":new dt(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new dt(xe.layout_symbol["text-field"]),"text-font":new dt(xe.layout_symbol["text-font"]),"text-size":new dt(xe.layout_symbol["text-size"]),"text-max-width":new dt(xe.layout_symbol["text-max-width"]),"text-line-height":new Qt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new dt(xe.layout_symbol["text-letter-spacing"]),"text-justify":new dt(xe.layout_symbol["text-justify"]),"text-radial-offset":new dt(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new dt(xe.layout_symbol["text-anchor"]),"text-max-angle":new Qt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new dt(xe.layout_symbol["text-rotate"]),"text-padding":new Qt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Qt(xe.layout_symbol["text-keep-upright"]),"text-transform":new dt(xe.layout_symbol["text-transform"]),"text-offset":new dt(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Qt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(xe.layout_symbol["text-optional"])}),sA={paint:new zo({"icon-opacity":new dt(xe.paint_symbol["icon-opacity"]),"icon-color":new dt(xe.paint_symbol["icon-color"]),"icon-halo-color":new dt(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new dt(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new dt(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new dt(xe.paint_symbol["text-opacity"]),"text-color":new dt(xe.paint_symbol["text-color"],{runtimeType:hn,getOverride:function(r){return r.textColor},hasOverride:function(r){return!!r.textColor}}),"text-halo-color":new dt(xe.paint_symbol["text-halo-color"]),"text-halo-width":new dt(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new dt(xe.paint_symbol["text-halo-blur"]),"text-translate":new Qt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(xe.paint_symbol["text-translate-anchor"])}),layout:pb},Xp=function(r){this.type=r.property.overrides?r.property.overrides.runtimeType:$t,this.defaultValue=r};Xp.prototype.evaluate=function(r){if(r.formattedSection){var o=this.defaultValue.property.overrides;if(o&&o.hasOverride(r.formattedSection))return o.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default},Xp.prototype.eachChild=function(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)},Xp.prototype.outputDefined=function(){return!1},Xp.prototype.serialize=function(){return null},rn("FormatSectionOverride",Xp,{omit:["defaultValue"]});var hb=function(r){function o(u){r.call(this,u,sA)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.recalculate=function(u,g){if(r.prototype.recalculate.call(this,u,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var b=this.layout.get("text-writing-mode");if(b){for(var C=[],T=0,B=b;T<B.length;T+=1){var j=B[T];C.indexOf(j)<0&&C.push(j)}this.layout._values["text-writing-mode"]=C}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},o.prototype.getValueAndResolveTokens=function(u,g,b,C){var T=this.layout.get(u).evaluate(g,{},b,C),B=this._unevaluatedLayout._values[u];return B.isDataDriven()||Ui(B.value)||!T?T:function(j,W){return W.replace(/{([^{}]+)}/g,function(Z,Y){return Y in j?String(j[Y]):""})}(g.properties,T)},o.prototype.createBucket=function(u){return new Kr(u)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype._setPaintOverrides=function(){for(var u=0,g=sA.paint.overridableProperties;u<g.length;u+=1){var b=g[u];if(o.hasPaintOverride(this.layout,b)){var C,T=this.paint.get(b),B=new Xp(T),j=new po(B,T.property.specification);C=T.value.kind==="constant"||T.value.kind==="source"?new Ju("source",j):new cu("composite",j,T.value.zoomStops,T.value._interpolationType),this.paint._values[b]=new ea(T.property,C,T.parameters)}}},o.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!(!this.layout||g.isDataDriven()||b.isDataDriven())&&o.hasPaintOverride(this.layout,u)},o.hasPaintOverride=function(u,g){var b=u.get("text-field"),C=sA.paint.properties[g],T=!1,B=function(Z){for(var Y=0,ue=Z;Y<ue.length;Y+=1)if(C.overrides&&C.overrides.hasOverride(ue[Y]))return void(T=!0)};if(b.value.kind==="constant"&&b.value.value instanceof oo)B(b.value.value.sections);else if(b.value.kind==="source"){var j=function(Z){T||(Z instanceof ca&&ao(Z.value)===Jn?B(Z.value.sections):Z instanceof Wo?B(Z.sections):Z.eachChild(j))},W=b.value;W._styleExpression&&j(W._styleExpression.expression)}return T},o}(ji),Ab={paint:new zo({"background-color":new Qt(xe.paint_background["background-color"]),"background-pattern":new To(xe.paint_background["background-pattern"]),"background-opacity":new Qt(xe.paint_background["background-opacity"])})},db=function(r){function o(u){r.call(this,u,Ab)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o}(ji),mb={paint:new zo({"raster-opacity":new Qt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Qt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Qt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(xe.paint_raster["raster-fade-duration"])})},gb=function(r){function o(u){r.call(this,u,mb)}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o}(ji),yb=function(r){function o(u){r.call(this,u,{}),this.implementation=u}return r&&(o.__proto__=r),(o.prototype=Object.create(r&&r.prototype)).constructor=o,o.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},o.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},o.prototype.recalculate=function(){},o.prototype.updateTransitions=function(){},o.prototype.hasTransition=function(){},o.prototype.serialize=function(){},o.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},o.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},o}(ji),vb={circle:$f,heatmap:Iy,hillshade:$x,fill:yu,"fill-extrusion":nm,line:Wx,symbol:hb,background:db,raster:gb},fv=N.HTMLImageElement,pv=N.HTMLCanvasElement,hv=N.HTMLVideoElement,Av=N.ImageData,wd=N.ImageBitmap,Zf=function(r,o,u,g){this.context=r,this.format=u,this.texture=r.gl.createTexture(),this.update(o,g)};Zf.prototype.update=function(r,o,u){var g=r.width,b=r.height,C=!(this.size&&this.size[0]===g&&this.size[1]===b||u),T=this.context,B=T.gl;if(this.useMipmap=!!(o&&o.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!o||o.premultiply!==!1)),C)this.size=[g,b],r instanceof fv||r instanceof pv||r instanceof hv||r instanceof Av||wd&&r instanceof wd?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,r):B.texImage2D(B.TEXTURE_2D,0,this.format,g,b,0,this.format,B.UNSIGNED_BYTE,r.data);else{var j=u||{x:0,y:0},W=j.x,Z=j.y;r instanceof fv||r instanceof pv||r instanceof hv||r instanceof Av||wd&&r instanceof wd?B.texSubImage2D(B.TEXTURE_2D,0,W,Z,B.RGBA,B.UNSIGNED_BYTE,r):B.texSubImage2D(B.TEXTURE_2D,0,W,Z,g,b,B.RGBA,B.UNSIGNED_BYTE,r.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)},Zf.prototype.bind=function(r,o,u){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),u!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=g.LINEAR),r!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,r),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,u||r),this.filter=r),o!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,o),this.wrap=o)},Zf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Zf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Am=function(r){var o=this;this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){o._triggered=!1,o._callback()})};Am.prototype.trigger=function(){var r=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){r._triggered=!1,r._callback()},0))},Am.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Yp=function(r,o,u){this.target=r,this.parent=o,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Se(["receive","process"],this),this.invoker=new Am(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=pn()?r:N};function dv(r,o,u){var g=2*Math.PI*6378137/256/Math.pow(2,u);return[r*g-2*Math.PI*6378137/2,o*g-2*Math.PI*6378137/2]}Yp.prototype.send=function(r,o,u,g,b){var C=this;b===void 0&&(b=!1);var T=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[T]=u);var B=Me(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!u,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:Fo(o,B)},B),{cancel:function(){u&&delete C.callbacks[T],C.target.postMessage({id:T,type:"<cancel>",targetMapId:g,sourceMapId:C.mapId})}}},Yp.prototype.receive=function(r){var o=r.data,u=o.id;if(u&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){delete this.tasks[u];var g=this.cancelCallbacks[u];delete this.cancelCallbacks[u],g&&g()}else pn()||o.mustQueue?(this.tasks[u]=o,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,o)},Yp.prototype.process=function(){if(this.taskQueue.length){var r=this.taskQueue.shift(),o=this.tasks[r];delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),o&&this.processTask(r,o)}},Yp.prototype.processTask=function(r,o){var u=this;if(o.type==="<response>"){var g=this.callbacks[r];delete this.callbacks[r],g&&(o.error?g(Au(o.error)):g(null,Au(o.data)))}else{var b=!1,C=Me(this.globalScope)?void 0:[],T=o.hasCallback?function(Z,Y){b=!0,delete u.cancelCallbacks[r],u.target.postMessage({id:r,type:"<response>",sourceMapId:u.mapId,error:Z?Fo(Z):null,data:Fo(Y,C)},C)}:function(Z){b=!0},B=null,j=Au(o.data);if(this.parent[o.type])B=this.parent[o.type](o.sourceMapId,j,T);else if(this.parent.getWorkerSource){var W=o.type.split(".");B=this.parent.getWorkerSource(o.sourceMapId,W[0],j.source)[W[1]](j,T)}else T(new Error("Could not find function "+o.type));!b&&B&&B.cancel&&(this.cancelCallbacks[r]=B.cancel)}},Yp.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var yo=function(r,o){r&&(o?this.setSouthWest(r).setNorthEast(o):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))};yo.prototype.setNorthEast=function(r){return this._ne=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.setSouthWest=function(r){return this._sw=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.extend=function(r){var o,u,g=this._sw,b=this._ne;if(r instanceof vi)o=r,u=r;else{if(!(r instanceof yo))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(yo.convert(r)):this.extend(vi.convert(r)):this;if(u=r._ne,!(o=r._sw)||!u)return this}return g||b?(g.lng=Math.min(o.lng,g.lng),g.lat=Math.min(o.lat,g.lat),b.lng=Math.max(u.lng,b.lng),b.lat=Math.max(u.lat,b.lat)):(this._sw=new vi(o.lng,o.lat),this._ne=new vi(u.lng,u.lat)),this},yo.prototype.getCenter=function(){return new vi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},yo.prototype.getSouthWest=function(){return this._sw},yo.prototype.getNorthEast=function(){return this._ne},yo.prototype.getNorthWest=function(){return new vi(this.getWest(),this.getNorth())},yo.prototype.getSouthEast=function(){return new vi(this.getEast(),this.getSouth())},yo.prototype.getWest=function(){return this._sw.lng},yo.prototype.getSouth=function(){return this._sw.lat},yo.prototype.getEast=function(){return this._ne.lng},yo.prototype.getNorth=function(){return this._ne.lat},yo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},yo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},yo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},yo.prototype.contains=function(r){var o=vi.convert(r),u=o.lng,g=o.lat,b=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&b},yo.convert=function(r){return!r||r instanceof yo?r:new yo(r)};var vi=function(r,o){if(isNaN(r)||isNaN(o))throw new Error("Invalid LngLat object: ("+r+", "+o+")");if(this.lng=+r,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vi.prototype.wrap=function(){return new vi(V(this.lng,-180,180),this.lat)},vi.prototype.toArray=function(){return[this.lng,this.lat]},vi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vi.prototype.distanceTo=function(r){var o=Math.PI/180,u=this.lat*o,g=r.lat*o,b=Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos((r.lng-this.lng)*o);return 63710088e-1*Math.acos(Math.min(b,1))},vi.prototype.toBounds=function(r){r===void 0&&(r=0);var o=360*r/40075017,u=o/Math.cos(Math.PI/180*this.lat);return new yo(new vi(this.lng-u,this.lat-o),new vi(this.lng+u,this.lat+o))},vi.convert=function(r){if(r instanceof vi)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new vi(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new vi(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var mv=2*Math.PI*63710088e-1;function Sd(r){return mv*Math.cos(r*Math.PI/180)}function dm(r){return(180+r)/360}function gv(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function yv(r,o){return r/Sd(o)}function mm(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}var Xf=function(r,o,u){u===void 0&&(u=0),this.x=+r,this.y=+o,this.z=+u};Xf.fromLngLat=function(r,o){o===void 0&&(o=0);var u=vi.convert(r);return new Xf(dm(u.lng),gv(u.lat),yv(o,u.lat))},Xf.prototype.toLngLat=function(){return new vi(360*this.x-180,mm(this.y))},Xf.prototype.toAltitude=function(){return this.z*Sd(mm(this.y))},Xf.prototype.meterInMercatorCoordinateUnits=function(){return 1/mv*(r=mm(this.y),1/Math.cos(r*Math.PI/180));var r};var Yf=function(r,o,u){this.z=r,this.x=o,this.y=u,this.key=lA(0,r,r,o,u)};Yf.prototype.equals=function(r){return this.z===r.z&&this.x===r.x&&this.y===r.y},Yf.prototype.url=function(r,o){var u,g,b,C,T,B=(g=this.y,b=this.z,C=dv(256*(u=this.x),256*(g=Math.pow(2,b)-g-1),b),T=dv(256*(u+1),256*(g+1),b),C[0]+","+C[1]+","+T[0]+","+T[1]),j=function(W,Z,Y){for(var ue,he="",Ce=W;Ce>0;Ce--)he+=(Z&(ue=1<<Ce-1)?1:0)+(Y&ue?2:0);return he}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",j).replace("{bbox-epsg-3857}",B)},Yf.prototype.getTilePoint=function(r){var o=Math.pow(2,this.z);return new L(8192*(r.x*o-this.x),8192*(r.y*o-this.y))},Yf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var vv=function(r,o){this.wrap=r,this.canonical=o,this.key=lA(r,o.z,o.z,o.x,o.y)},vo=function(r,o,u,g,b){this.overscaledZ=r,this.wrap=o,this.canonical=new Yf(u,+g,+b),this.key=lA(o,r,u,g,b)};function lA(r,o,u,g,b){(r*=2)<0&&(r=-1*r-1);var C=1<<u;return(C*C*r+C*b+g).toString(36)+u.toString(36)+o.toString(36)}vo.prototype.equals=function(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)},vo.prototype.scaledTo=function(r){var o=this.canonical.z-r;return r>this.canonical.z?new vo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vo(r,this.wrap,r,this.canonical.x>>o,this.canonical.y>>o)},vo.prototype.calculateScaledKey=function(r,o){var u=this.canonical.z-r;return r>this.canonical.z?lA(this.wrap*+o,r,this.canonical.z,this.canonical.x,this.canonical.y):lA(this.wrap*+o,r,r,this.canonical.x>>u,this.canonical.y>>u)},vo.prototype.isChildOf=function(r){if(r.wrap!==this.wrap)return!1;var o=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>o&&r.canonical.y===this.canonical.y>>o},vo.prototype.children=function(r){if(this.overscaledZ>=r)return[new vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var o=this.canonical.z+1,u=2*this.canonical.x,g=2*this.canonical.y;return[new vo(o,this.wrap,o,u,g),new vo(o,this.wrap,o,u+1,g),new vo(o,this.wrap,o,u,g+1),new vo(o,this.wrap,o,u+1,g+1)]},vo.prototype.isLessThan=function(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))},vo.prototype.wrapped=function(){return new vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.unwrapTo=function(r){return new vo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vo.prototype.toUnwrapped=function(){return new vv(this.wrap,this.canonical)},vo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vo.prototype.getTilePoint=function(r){return this.canonical.getTilePoint(new Xf(r.x-this.wrap,r.y))},rn("CanonicalTileID",Yf),rn("OverscaledTileID",vo,{omit:["posMatrix"]});var _u=function(r,o,u){if(this.uid=r,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return yt('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=o.height;var g=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=u||"mapbox";for(var b=0;b<g;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(g,b)]=this.data[this._idx(g-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,g)]=this.data[this._idx(b,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};_u.prototype.get=function(r,o){var u=new Uint8Array(this.data.buffer),g=4*this._idx(r,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(u[g],u[g+1],u[g+2])},_u.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},_u.prototype._idx=function(r,o){if(r<-1||r>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(r+1)},_u.prototype._unpackMapbox=function(r,o,u){return(256*r*256+256*o+u)/10-1e4},_u.prototype._unpackTerrarium=function(r,o,u){return 256*r+o+u/256-32768},_u.prototype.getPixels=function(){return new Da({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},_u.prototype.backfillBorder=function(r,o,u){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");var g=o*this.dim,b=o*this.dim+this.dim,C=u*this.dim,T=u*this.dim+this.dim;switch(o){case-1:g=b-1;break;case 1:b=g+1}switch(u){case-1:C=T-1;break;case 1:T=C+1}for(var B=-o*this.dim,j=-u*this.dim,W=C;W<T;W++)for(var Z=g;Z<b;Z++)this.data[this._idx(Z,W)]=r.data[this._idx(Z+B,W+j)]},rn("DEMData",_u);var Cd=function(r){this._stringToNumber={},this._numberToString=[];for(var o=0;o<r.length;o++){var u=r[o];this._stringToNumber[u]=o,this._numberToString[o]=u}};Cd.prototype.encode=function(r){return this._stringToNumber[r]},Cd.prototype.decode=function(r){return this._numberToString[r]};var Jf=function(r,o,u,g,b){this.type="Feature",this._vectorTileFeature=r,r._z=o,r._x=u,r._y=g,this.properties=r.properties,this.id=b},gm={geometry:{configurable:!0}};gm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},gm.geometry.set=function(r){this._geometry=r},Jf.prototype.toJSON=function(){var r={geometry:this.geometry};for(var o in this)o!=="_geometry"&&o!=="_vectorTileFeature"&&(r[o]=this[o]);return r},Object.defineProperties(Jf.prototype,gm);var Jp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Jp.prototype.updateState=function(r,o,u){var g=String(o);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][g]=this.stateChanges[r][g]||{},X(this.stateChanges[r][g],u),this.deletedStates[r]===null)for(var b in this.deletedStates[r]={},this.state[r])b!==g&&(this.deletedStates[r][b]=null);else if(this.deletedStates[r]&&this.deletedStates[r][g]===null)for(var C in this.deletedStates[r][g]={},this.state[r][g])u[C]||(this.deletedStates[r][g][C]=null);else for(var T in u)this.deletedStates[r]&&this.deletedStates[r][g]&&this.deletedStates[r][g][T]===null&&delete this.deletedStates[r][g][T]},Jp.prototype.removeFeatureState=function(r,o,u){if(this.deletedStates[r]!==null){var g=String(o);if(this.deletedStates[r]=this.deletedStates[r]||{},u&&o!==void 0)this.deletedStates[r][g]!==null&&(this.deletedStates[r][g]=this.deletedStates[r][g]||{},this.deletedStates[r][g][u]=null);else if(o!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][g])for(u in this.deletedStates[r][g]={},this.stateChanges[r][g])this.deletedStates[r][g][u]=null;else this.deletedStates[r][g]=null;else this.deletedStates[r]=null}},Jp.prototype.getState=function(r,o){var u=String(o),g=X({},(this.state[r]||{})[u],(this.stateChanges[r]||{})[u]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){var b=this.deletedStates[r][o];if(b===null)return{};for(var C in b)delete g[C]}return g},Jp.prototype.initializeTileState=function(r,o){r.setFeatureState(this.state,o)},Jp.prototype.coalesceChanges=function(r,o){var u={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var b={};for(var C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),X(this.state[g][C],this.stateChanges[g][C]),b[C]=this.state[g][C];u[g]=b}for(var T in this.deletedStates){this.state[T]=this.state[T]||{};var B={};if(this.deletedStates[T]===null)for(var j in this.state[T])B[j]={},this.state[T][j]={};else for(var W in this.deletedStates[T]){if(this.deletedStates[T][W]===null)this.state[T][W]={};else for(var Z=0,Y=Object.keys(this.deletedStates[T][W]);Z<Y.length;Z+=1)delete this.state[T][W][Y[Z]];B[W]=this.state[T][W]}u[T]=u[T]||{},X(u[T],B)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(var ue in r)r[ue].setFeatureState(u,o)};var pc=function(r,o){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Po(8192,16,0),this.grid3D=new Po(8192,16,0),this.featureIndexArray=new Ae,this.promoteId=o};function _v(r,o,u,g,b){return Ze(r,function(C,T){var B=o instanceof qa?o.get(T):null;return B&&B.evaluate?B.evaluate(u,g,b):B})}function xv(r){for(var o=1/0,u=1/0,g=-1/0,b=-1/0,C=0,T=r;C<T.length;C+=1){var B=T[C];o=Math.min(o,B.x),u=Math.min(u,B.y),g=Math.max(g,B.x),b=Math.max(b,B.y)}return{minX:o,minY:u,maxX:g,maxY:b}}function _b(r,o){return o-r}pc.prototype.insert=function(r,o,u,g,b,C){var T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,g,b);for(var B=C?this.grid3D:this.grid,j=0;j<o.length;j++){for(var W=o[j],Z=[1/0,1/0,-1/0,-1/0],Y=0;Y<W.length;Y++){var ue=W[Y];Z[0]=Math.min(Z[0],ue.x),Z[1]=Math.min(Z[1],ue.y),Z[2]=Math.max(Z[2],ue.x),Z[3]=Math.max(Z[3],ue.y)}Z[0]<8192&&Z[1]<8192&&Z[2]>=0&&Z[3]>=0&&B.insert(T,Z[0],Z[1],Z[2],Z[3])}},pc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new vu.VectorTile(new Gf(this.rawTileData)).layers,this.sourceLayerCoder=new Cd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},pc.prototype.query=function(r,o,u,g){var b=this;this.loadVTLayers();for(var C=r.params||{},T=8192/r.tileSize/r.scale,B=us(C.filter),j=r.queryGeometry,W=r.queryPadding*T,Z=xv(j),Y=this.grid.query(Z.minX-W,Z.minY-W,Z.maxX+W,Z.maxY+W),ue=xv(r.cameraQueryGeometry),he=this.grid3D.query(ue.minX-W,ue.minY-W,ue.maxX+W,ue.maxY+W,function(ft,pt,kt,Ut){return function(Kt,gn,en,En,nn){for(var Zn=0,Mn=Kt;Zn<Mn.length;Zn+=1){var yn=Mn[Zn];if(gn<=yn.x&&en<=yn.y&&En>=yn.x&&nn>=yn.y)return!0}var or=[new L(gn,en),new L(gn,nn),new L(En,nn),new L(En,en)];if(Kt.length>2){for(var Hn=0,xr=or;Hn<xr.length;Hn+=1)if(Qa(Kt,xr[Hn]))return!0}for(var Pn=0;Pn<Kt.length-1;Pn++)if(Jc(Kt[Pn],Kt[Pn+1],or))return!0;return!1}(r.cameraQueryGeometry,ft-W,pt-W,kt+W,Ut+W)}),Ce=0,Ee=he;Ce<Ee.length;Ce+=1)Y.push(Ee[Ce]);Y.sort(_b);for(var Ve,Re={},tt=function(ft){var pt=Y[ft];if(pt!==Ve){Ve=pt;var kt=b.featureIndexArray.get(pt),Ut=null;b.loadMatchingFeature(Re,kt.bucketIndex,kt.sourceLayerIndex,kt.featureIndex,B,C.layers,C.availableImages,o,u,g,function(Kt,gn,en){return Ut||(Ut=ci(Kt)),gn.queryIntersectsFeature(j,Kt,en,Ut,b.z,r.transform,T,r.pixelPosMatrix)})}},rt=0;rt<Y.length;rt++)tt(rt);return Re},pc.prototype.loadMatchingFeature=function(r,o,u,g,b,C,T,B,j,W,Z){var Y=this.bucketLayerIDs[o];if(!C||function(Kt,gn){for(var en=0;en<Kt.length;en++)if(gn.indexOf(Kt[en])>=0)return!0;return!1}(C,Y)){var ue=this.sourceLayerCoder.decode(u),he=this.vtLayers[ue].feature(g);if(b.needGeometry){var Ce=na(he,!0);if(!b.filter(new Wn(this.tileID.overscaledZ),Ce,this.tileID.canonical))return}else if(!b.filter(new Wn(this.tileID.overscaledZ),he))return;for(var Ee=this.getId(he,ue),Ve=0;Ve<Y.length;Ve++){var Re=Y[Ve];if(!(C&&C.indexOf(Re)<0)){var tt=B[Re];if(tt){var rt={};Ee!==void 0&&W&&(rt=W.getState(tt.sourceLayer||"_geojsonTileLayer",Ee));var ft=X({},j[Re]);ft.paint=_v(ft.paint,tt.paint,he,rt,T),ft.layout=_v(ft.layout,tt.layout,he,rt,T);var pt=!Z||Z(he,tt,rt);if(pt){var kt=new Jf(he,this.z,this.x,this.y,Ee);kt.layer=ft;var Ut=r[Re];Ut===void 0&&(Ut=r[Re]=[]),Ut.push({featureIndex:g,feature:kt,intersectionZ:pt})}}}}}},pc.prototype.lookupSymbolFeatures=function(r,o,u,g,b,C,T,B){var j={};this.loadVTLayers();for(var W=us(b),Z=0,Y=r;Z<Y.length;Z+=1)this.loadMatchingFeature(j,u,g,Y[Z],W,C,T,B,o);return j},pc.prototype.hasLayer=function(r){for(var o=0,u=this.bucketLayerIDs;o<u.length;o+=1)for(var g=0,b=u[o];g<b.length;g+=1)if(r===b[g])return!0;return!1},pc.prototype.getId=function(r,o){var u=r.id;return this.promoteId&&typeof(u=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[o]])=="boolean"&&(u=Number(u)),u},rn("FeatureIndex",pc,{omit:["rawTileData","sourceLayerCoder"]});var No=function(r,o){this.tileID=r,this.uid=ce(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(r){var o=r+this.timeAdded;o<$n.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(r,o,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){for(var g in r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(W,Z){var Y={};if(!Z)return Y;for(var ue=function(){var Ee=Ce[he],Ve=Ee.layerIds.map(function(rt){return Z.getLayer(rt)}).filter(Boolean);if(Ve.length!==0){Ee.layers=Ve,Ee.stateDependentLayerIds&&(Ee.stateDependentLayers=Ee.stateDependentLayerIds.map(function(rt){return Ve.filter(function(ft){return ft.id===rt})[0]}));for(var Re=0,tt=Ve;Re<tt.length;Re+=1)Y[tt[Re].id]=Ee}},he=0,Ce=W;he<Ce.length;he+=1)ue();return Y}(r.buckets,o.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[g];if(b instanceof Kr){if(this.hasSymbolBuckets=!0,!u)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var C in this.buckets){var T=this.buckets[C];if(T instanceof Kr&&T.hasRTLText){this.hasRTLText=!0,ir.isLoading()||ir.isLoaded()||ps()!=="deferred"||zp();break}}for(var B in this.queryPadding=0,this.buckets){var j=this.buckets[B];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(B).queryRadius(j))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new f},No.prototype.unloadVectorData=function(){for(var r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(r){return this.buckets[r.id]},No.prototype.upload=function(r){for(var o in this.buckets){var u=this.buckets[o];u.uploadPending()&&u.upload(r)}var g=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Zf(r,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Zf(r,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(r,o,u,g,b,C,T,B,j,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:C,tileSize:this.tileSize,pixelPosMatrix:W,transform:B,params:T,queryPadding:this.queryPadding*j},r,o,u):{}},No.prototype.querySourceFeatures=function(r,o){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var g=u.loadVTLayers(),b=o?o.sourceLayer:"",C=g._geojsonTileLayer||g[b];if(C)for(var T=us(o&&o.filter),B=this.tileID.canonical,j=B.z,W=B.x,Z=B.y,Y={z:j,x:W,y:Z},ue=0;ue<C.length;ue++){var he=C.feature(ue);if(T.needGeometry){var Ce=na(he,!0);if(!T.filter(new Wn(this.tileID.overscaledZ),Ce,this.tileID.canonical))continue}else if(!T.filter(new Wn(this.tileID.overscaledZ),he))continue;var Ee=u.getId(he,b),Ve=new Jf(he,j,W,Z,Ee);Ve.tile=Y,r.push(Ve)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(r){var o=this.expirationTime;if(r.cacheControl){var u=xn(r.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){var g=Date.now(),b=!1;if(this.expirationTime>g)b=!1;else if(o)if(this.expirationTime<o)b=!0;else{var C=this.expirationTime-o;C?this.expirationTime=g+Math.max(C,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(r,o){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(r).length!==0){var u=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(o.style.hasLayer(g)){var b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",T=u[C],B=r[C];if(T&&B&&Object.keys(B).length!==0){b.update(B,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});var j=o&&o.style&&o.style.getLayer(g);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(b)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$n.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(r){this.symbolFadeHoldUntil=$n.now()+r},No.prototype.setDependencies=function(r,o){for(var u={},g=0,b=o;g<b.length;g+=1)u[b[g]]=!0;this.dependencies[r]=u},No.prototype.hasDependency=function(r,o){for(var u=0,g=r;u<g.length;u+=1){var b=this.dependencies[g[u]];if(b){for(var C=0,T=o;C<T.length;C+=1)if(b[T[C]])return!0}}return!1};var uf=N.performance,bv=function(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},uf.mark(this._marks.start)};bv.prototype.finish=function(){uf.mark(this._marks.end);var r=uf.getEntriesByName(this._marks.measure);return r.length===0&&(uf.measure(this._marks.measure,this._marks.start,this._marks.end),r=uf.getEntriesByName(this._marks.measure),uf.clearMarks(this._marks.start),uf.clearMarks(this._marks.end),uf.clearMeasures(this._marks.measure)),r},a.Actor=Yp,a.AlphaImage=Vf,a.CanonicalTileID=Yf,a.CollisionBoxArray=f,a.Color=bn,a.DEMData=_u,a.DataConstantProperty=Qt,a.DictionaryCoder=Cd,a.EXTENT=8192,a.ErrorEvent=He,a.EvaluationParameters=Wn,a.Event=Ue,a.Evented=Ne,a.FeatureIndex=pc,a.FillBucket=gl,a.FillExtrusionBucket=Ts,a.ImageAtlas=Qp,a.ImagePosition=sf,a.LineBucket=Sa,a.LngLat=vi,a.LngLatBounds=yo,a.MercatorCoordinate=Xf,a.ONE_EM=24,a.OverscaledTileID=vo,a.Point=L,a.Point$1=L,a.Properties=zo,a.Protobuf=Gf,a.RGBAImage=Da,a.RequestManager=gi,a.RequestPerformance=bv,a.ResourceType=mr,a.SegmentVector=de,a.SourceFeatureState=Jp,a.StructArrayLayout1ui2=Wt,a.StructArrayLayout2f1f2i16=wt,a.StructArrayLayout2i4=_,a.StructArrayLayout3ui6=Nt,a.StructArrayLayout4i8=k,a.SymbolBucket=Kr,a.Texture=Zf,a.Tile=No,a.Transitionable=Bn,a.Uniform1f=Rt,a.Uniform1i=zt,a.Uniform2f=Jt,a.Uniform3f=mn,a.Uniform4f=Tn,a.UniformColor=kn,a.UniformMatrix4f=fn,a.UnwrappedTileID=vv,a.ValidationError=ae,a.WritingMode=Is,a.ZoomHistory=Yo,a.add=function(r,o,u){return r[0]=o[0]+u[0],r[1]=o[1]+u[1],r[2]=o[2]+u[2],r},a.addDynamicAttributes=hm,a.asyncAll=function(r,o,u){if(!r.length)return u(null,[]);var g=r.length,b=new Array(r.length),C=null;r.forEach(function(T,B){o(T,function(j,W){j&&(C=j),b[B]=W,--g==0&&u(C,b)})})},a.bezier=q,a.bindAll=Se,a.browser=$n,a.cacheEntryPossiblyAdded=function(r){++Vr>Gn&&(r.getActor().send("enforceCacheSizeLimit",an),Vr=0)},a.clamp=te,a.clearTileCache=function(r){var o=N.caches.delete("mapbox-tiles");r&&o.catch(r).then(function(){return r()})},a.clipLine=iv,a.clone=function(r){var o=new qi(16);return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[4]=r[4],o[5]=r[5],o[6]=r[6],o[7]=r[7],o[8]=r[8],o[9]=r[9],o[10]=r[10],o[11]=r[11],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15],o},a.clone$1=We,a.clone$2=function(r){var o=new qi(3);return o[0]=r[0],o[1]=r[1],o[2]=r[2],o},a.collisionCircleLayout=sm,a.config=Fn,a.create=function(){var r=new qi(16);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},a.create$1=function(){var r=new qi(9);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r},a.create$2=function(){var r=new qi(4);return qi!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r},a.createCommonjsModule=x,a.createExpression=Gc,a.createLayout=m,a.createStyleLayer=function(r){return r.type==="custom"?new yb(r):new vb[r.type](r)},a.cross=function(r,o,u){var g=o[0],b=o[1],C=o[2],T=u[0],B=u[1],j=u[2];return r[0]=b*j-C*B,r[1]=C*T-g*j,r[2]=g*B-b*T,r},a.deepEqual=function r(o,u){if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var g=0;g<o.length;g++)if(!r(o[g],u[g]))return!1;return!0}if(typeof o=="object"&&o!==null&&u!==null){if(typeof u!="object"||Object.keys(o).length!==Object.keys(u).length)return!1;for(var b in o)if(!r(o[b],u[b]))return!1;return!0}return o===u},a.dot=function(r,o){return r[0]*o[0]+r[1]*o[1]+r[2]*o[2]},a.dot$1=function(r,o){return r[0]*o[0]+r[1]*o[1]+r[2]*o[2]+r[3]*o[3]},a.ease=K,a.emitValidationErrors=nc,a.endsWith=Le,a.enforceCacheSizeLimit=function(r){Or(),bi&&bi.then(function(o){o.keys().then(function(u){for(var g=0;g<u.length-r;g++)o.delete(u[g])})})},a.evaluateSizeForFeature=lf,a.evaluateSizeForZoom=Yy,a.evaluateVariableOffset=sv,a.evented=Xc,a.extend=X,a.featureFilter=us,a.filterObject=ot,a.fromRotation=function(r,o){var u=Math.sin(o),g=Math.cos(o);return r[0]=g,r[1]=u,r[2]=0,r[3]=-u,r[4]=g,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},a.getAnchorAlignment=vd,a.getAnchorJustification=pm,a.getArrayBuffer=Nr,a.getImage=pe,a.getJSON=function(r,o){return Ei(X(r,{type:"json"}),o)},a.getRTLTextPluginStatus=ps,a.getReferrer=Jr,a.getVideo=function(r,o){var u,g,b=N.document.createElement("video");b.muted=!0,b.onloadstart=function(){o(null,b)};for(var C=0;C<r.length;C++){var T=N.document.createElement("source");u=r[C],g=void 0,(g=N.document.createElement("a")).href=u,(g.protocol!==N.document.location.protocol||g.host!==N.document.location.host)&&(b.crossOrigin="Anonymous"),T.src=r[C],b.appendChild(T)}return{cancel:function(){}}},a.identity=Aa,a.invert=function(r,o){var u=o[0],g=o[1],b=o[2],C=o[3],T=o[4],B=o[5],j=o[6],W=o[7],Z=o[8],Y=o[9],ue=o[10],he=o[11],Ce=o[12],Ee=o[13],Ve=o[14],Re=o[15],tt=u*B-g*T,rt=u*j-b*T,ft=u*W-C*T,pt=g*j-b*B,kt=g*W-C*B,Ut=b*W-C*j,Kt=Z*Ee-Y*Ce,gn=Z*Ve-ue*Ce,en=Z*Re-he*Ce,En=Y*Ve-ue*Ee,nn=Y*Re-he*Ee,Zn=ue*Re-he*Ve,Mn=tt*Zn-rt*nn+ft*En+pt*en-kt*gn+Ut*Kt;return Mn?(r[0]=(B*Zn-j*nn+W*En)*(Mn=1/Mn),r[1]=(b*nn-g*Zn-C*En)*Mn,r[2]=(Ee*Ut-Ve*kt+Re*pt)*Mn,r[3]=(ue*kt-Y*Ut-he*pt)*Mn,r[4]=(j*en-T*Zn-W*gn)*Mn,r[5]=(u*Zn-b*en+C*gn)*Mn,r[6]=(Ve*ft-Ce*Ut-Re*rt)*Mn,r[7]=(Z*Ut-ue*ft+he*rt)*Mn,r[8]=(T*nn-B*en+W*Kt)*Mn,r[9]=(g*en-u*nn-C*Kt)*Mn,r[10]=(Ce*kt-Ee*ft+Re*tt)*Mn,r[11]=(Y*ft-Z*kt-he*tt)*Mn,r[12]=(B*gn-T*En-j*Kt)*Mn,r[13]=(u*En-g*gn+b*Kt)*Mn,r[14]=(Ee*rt-Ce*pt-Ve*tt)*Mn,r[15]=(Z*pt-Y*rt+ue*tt)*Mn,r):null},a.isChar=sn,a.isMapboxURL=Go,a.keysDifference=function(r,o){var u=[];for(var g in r)g in o||u.push(g);return u},a.makeRequest=Ei,a.mapObject=Ze,a.mercatorXfromLng=dm,a.mercatorYfromLat=gv,a.mercatorZfromAltitude=yv,a.mul=Kh,a.multiply=oc,a.mvt=vu,a.nextPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},a.normalize=function(r,o){var u=o[0],g=o[1],b=o[2],C=u*u+g*g+b*b;return C>0&&(C=1/Math.sqrt(C)),r[0]=o[0]*C,r[1]=o[1]*C,r[2]=o[2]*C,r},a.number=Tr,a.offscreenCanvasSupported=Yr,a.ortho=function(r,o,u,g,b,C,T){var B=1/(o-u),j=1/(g-b),W=1/(C-T);return r[0]=-2*B,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*j,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*W,r[11]=0,r[12]=(o+u)*B,r[13]=(b+g)*j,r[14]=(T+C)*W,r[15]=1,r},a.parseGlyphPBF=function(r){return new Gf(r).readFields(rb,[])},a.pbf=Gf,a.performSymbolLayout=function(r,o,u,g,b,C,T){r.createArrays(),r.tilePixelRatio=8192/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;var B=r.layers[0].layout,j=r.layers[0]._unevaluatedLayout._values,W={};if(r.textSizeData.kind==="composite"){var Z=r.textSizeData,Y=Z.maxZoom;W.compositeTextSizes=[j["text-size"].possiblyEvaluate(new Wn(Z.minZoom),T),j["text-size"].possiblyEvaluate(new Wn(Y),T)]}if(r.iconSizeData.kind==="composite"){var ue=r.iconSizeData,he=ue.maxZoom;W.compositeIconSizes=[j["icon-size"].possiblyEvaluate(new Wn(ue.minZoom),T),j["icon-size"].possiblyEvaluate(new Wn(he),T)]}W.layoutTextSize=j["text-size"].possiblyEvaluate(new Wn(r.zoom+1),T),W.layoutIconSize=j["icon-size"].possiblyEvaluate(new Wn(r.zoom+1),T),W.textMaxSize=j["text-size"].possiblyEvaluate(new Wn(18));for(var Ce=24*B.get("text-line-height"),Ee=B.get("text-rotation-alignment")==="map"&&B.get("symbol-placement")!=="point",Ve=B.get("text-keep-upright"),Re=B.get("text-size"),tt=function(){var pt=ft[rt],kt=B.get("text-font").evaluate(pt,{},T).join(","),Ut=Re.evaluate(pt,{},T),Kt=W.layoutTextSize.evaluate(pt,{},T),gn=W.layoutIconSize.evaluate(pt,{},T),en={horizontal:{},vertical:void 0},En=pt.text,nn=[0,0];if(En){var Zn=En.toString(),Mn=24*B.get("text-letter-spacing").evaluate(pt,{},T),yn=function(fr){for(var ri=0,Gr=fr;ri<Gr.length;ri+=1)if(Pr=Gr[ri].charCodeAt(0),sn.Arabic(Pr)||sn["Arabic Supplement"](Pr)||sn["Arabic Extended-A"](Pr)||sn["Arabic Presentation Forms-A"](Pr)||sn["Arabic Presentation Forms-B"](Pr))return!1;var Pr;return!0}(Zn)?Mn:0,or=B.get("text-anchor").evaluate(pt,{},T),Hn=B.get("text-variable-anchor");if(!Hn){var xr=B.get("text-radial-offset").evaluate(pt,{},T);nn=xr?sv(or,[24*xr,fm]):B.get("text-offset").evaluate(pt,{},T).map(function(fr){return 24*fr})}var Pn=Ee?"center":B.get("text-justify").evaluate(pt,{},T),Lr=B.get("symbol-placement"),si=Lr==="point"?24*B.get("text-max-width").evaluate(pt,{},T):0,_i=function(){r.allowVerticalPlacement&&rc(Zn)&&(en.vertical=gd(En,o,u,b,kt,si,Ce,or,"left",yn,nn,Is.vertical,!0,Lr,Kt,Ut))};if(!Ee&&Hn){for(var Mi=Pn==="auto"?Hn.map(function(fr){return pm(fr)}):[Pn],xi=!1,Ci=0;Ci<Mi.length;Ci++){var _o=Mi[Ci];if(!en.horizontal[_o])if(xi)en.horizontal[_o]=en.horizontal[0];else{var Io=gd(En,o,u,b,kt,si,Ce,"center",_o,yn,nn,Is.horizontal,!1,Lr,Kt,Ut);Io&&(en.horizontal[_o]=Io,xi=Io.positionedLines.length===1)}}_i()}else{Pn==="auto"&&(Pn=pm(or));var Ea=gd(En,o,u,b,kt,si,Ce,or,Pn,yn,nn,Is.horizontal,!1,Lr,Kt,Ut);Ea&&(en.horizontal[Pn]=Ea),_i(),rc(Zn)&&Ee&&Ve&&(en.vertical=gd(En,o,u,b,kt,si,Ce,or,Pn,yn,nn,Is.vertical,!1,Lr,Kt,Ut))}}var Uo=void 0,ka=!1;if(pt.icon&&pt.icon.name){var Ji=g[pt.icon.name];Ji&&(Uo=function(fr,ri,Gr){var Pr=vd(Gr),Ra=ri[0]-fr.displaySize[0]*Pr.horizontalAlign,da=ri[1]-fr.displaySize[1]*Pr.verticalAlign;return{image:fr,top:da,bottom:da+fr.displaySize[1],left:Ra,right:Ra+fr.displaySize[0]}}(b[pt.icon.name],B.get("icon-offset").evaluate(pt,{},T),B.get("icon-anchor").evaluate(pt,{},T)),ka=Ji.sdf,r.sdfIcons===void 0?r.sdfIcons=Ji.sdf:r.sdfIcons!==Ji.sdf&&yt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ji.pixelRatio!==r.pixelRatio||B.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}var $o=uv(en.horizontal)||en.vertical;r.iconsInText=!!$o&&$o.iconsInText,($o||Uo)&&function(fr,ri,Gr,Pr,Ra,da,Ir,lo,ma,pr,Xn){var Ms=da.textMaxSize.evaluate(ri,{});Ms===void 0&&(Ms=Ir);var xo,hr=fr.layers[0].layout,xu=hr.get("icon-offset").evaluate(ri,{},Xn),ga=uv(Gr.horizontal),eh=Ir/24,ep=fr.tilePixelRatio*eh,th=fr.tilePixelRatio*Ms/24,hc=fr.tilePixelRatio*lo,nh=fr.tilePixelRatio*hr.get("symbol-spacing"),rh=hr.get("text-padding")*fr.tilePixelRatio,ih=hr.get("icon-padding")*fr.tilePixelRatio,Zs=hr.get("text-max-angle")/180*Math.PI,uA=hr.get("text-rotation-alignment")==="map"&&hr.get("symbol-placement")!=="point",tp=hr.get("icon-rotation-alignment")==="map"&&hr.get("symbol-placement")!=="point",fi=hr.get("symbol-placement"),Qi=nh/2,np=hr.get("icon-text-fit");Pr&&np!=="none"&&(fr.allowVerticalPlacement&&Gr.vertical&&(xo=rA(Pr,Gr.vertical,np,hr.get("icon-text-fit-padding"),xu,eh)),ga&&(Pr=rA(Pr,ga,np,hr.get("icon-text-fit-padding"),xu,eh)));var cf=function(xl,sh){sh.x<0||sh.x>=8192||sh.y<0||sh.y>=8192||function(eo,Mr,xb,mc,lh,wv,Td,bu,Id,gA,Md,Od,_m,Sv,yA,Cv,Ev,kv,Ld,Pv,Xa,Dd,Tv,wu,Pa){var ds,op,uh,ch,ap,fh=eo.addToLineVertexArray(Mr,xb),Iv=0,Mv=0,xm=0,Ov=0,bm=-1,wm=-1,Su={},Sm=Be(""),Cm=0,Em=0;if(bu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Cm=(ds=bu.layout.get("text-offset").evaluate(Xa,{},wu).map(function(xA){return 24*xA}))[0],Em=ds[1]):(Cm=24*bu.layout.get("text-radial-offset").evaluate(Xa,{},wu),Em=fm),eo.allowVerticalPlacement&&mc.vertical){var Lv=bu.layout.get("text-rotate").evaluate(Xa,{},wu)+90;ch=new oA(Id,Mr,gA,Md,Od,mc.vertical,_m,Sv,yA,Lv),Td&&(ap=new oA(Id,Mr,gA,Md,Od,Td,Ev,kv,yA,Lv))}if(lh){var km=bu.layout.get("icon-rotate").evaluate(Xa,{}),sp=bu.layout.get("icon-text-fit")!=="none",Dv=ov(lh,km,Tv,sp),Pm=Td?ov(Td,km,Tv,sp):void 0;uh=new oA(Id,Mr,gA,Md,Od,lh,Ev,kv,!1,km),Iv=4*Dv.length;var Rv=eo.iconSizeData,vA=null;Rv.kind==="source"?(vA=[128*bu.layout.get("icon-size").evaluate(Xa,{})])[0]>32640&&yt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Rv.kind==="composite"&&((vA=[128*Dd.compositeIconSizes[0].evaluate(Xa,{},wu),128*Dd.compositeIconSizes[1].evaluate(Xa,{},wu)])[0]>32640||vA[1]>32640)&&yt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),eo.addSymbols(eo.icon,Dv,vA,Pv,Ld,Xa,!1,Mr,fh.lineStartIndex,fh.lineLength,-1,wu),bm=eo.icon.placedSymbolArray.length-1,Pm&&(Mv=4*Pm.length,eo.addSymbols(eo.icon,Pm,vA,Pv,Ld,Xa,Is.vertical,Mr,fh.lineStartIndex,fh.lineLength,-1,wu),wm=eo.icon.placedSymbolArray.length-1)}for(var Fv in mc.horizontal){var _A=mc.horizontal[Fv];if(!op){Sm=Be(_A.text);var Bv=bu.layout.get("text-rotate").evaluate(Xa,{},wu);op=new oA(Id,Mr,gA,Md,Od,_A,_m,Sv,yA,Bv)}var zv=_A.positionedLines.length===1;if(xm+=lv(eo,Mr,_A,wv,bu,yA,Xa,Cv,fh,mc.vertical?Is.horizontal:Is.horizontalOnly,zv?Object.keys(mc.horizontal):[Fv],Su,bm,Dd,wu),zv)break}mc.vertical&&(Ov+=lv(eo,Mr,mc.vertical,wv,bu,yA,Xa,Cv,fh,Is.vertical,["vertical"],Su,wm,Dd,wu));var bb=op?op.boxStartIndex:eo.collisionBoxArray.length,wb=op?op.boxEndIndex:eo.collisionBoxArray.length,Sb=ch?ch.boxStartIndex:eo.collisionBoxArray.length,Cb=ch?ch.boxEndIndex:eo.collisionBoxArray.length,Eb=uh?uh.boxStartIndex:eo.collisionBoxArray.length,kb=uh?uh.boxEndIndex:eo.collisionBoxArray.length,Pb=ap?ap.boxStartIndex:eo.collisionBoxArray.length,Tb=ap?ap.boxEndIndex:eo.collisionBoxArray.length,Cu=-1,Rd=function(xA,Uv){return xA&&xA.circleDiameter?Math.max(xA.circleDiameter,Uv):Uv};Cu=Rd(op,Cu),Cu=Rd(ch,Cu),Cu=Rd(uh,Cu);var Nv=(Cu=Rd(ap,Cu))>-1?1:0;Nv&&(Cu*=Pa/24),eo.glyphOffsetArray.length>=Kr.MAX_GLYPHS&&yt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&eo.addToSortKeyRanges(eo.symbolInstances.length,Xa.sortKey),eo.symbolInstances.emplaceBack(Mr.x,Mr.y,Su.right>=0?Su.right:-1,Su.center>=0?Su.center:-1,Su.left>=0?Su.left:-1,Su.vertical||-1,bm,wm,Sm,bb,wb,Sb,Cb,Eb,kb,Pb,Tb,gA,xm,Ov,Iv,Mv,Nv,0,_m,Cm,Em,Cu)}(fr,sh,xl,Gr,Pr,Ra,xo,fr.layers[0],fr.collisionBoxArray,ri.index,ri.sourceLayerIndex,fr.index,ep,rh,uA,ma,hc,ih,tp,xu,ri,da,pr,Xn,Ir)};if(fi==="line")for(var oh=0,Ed=iv(ri.geometry,0,0,8192,8192);oh<Ed.length;oh+=1)for(var kd=Ed[oh],cA=0,fA=ab(kd,nh,Zs,Gr.vertical||ga,Pr,24,th,fr.overscaling,8192);cA<fA.length;cA+=1){var pA=fA[cA];ga&&cb(fr,ga.text,Qi,pA)||cf(kd,pA)}else if(fi==="line-center")for(var Ac=0,rp=ri.geometry;Ac<rp.length;Ac+=1){var hA=rp[Ac];if(hA.length>1){var AA=ob(hA,Zs,Gr.vertical||ga,Pr,24,th);AA&&cf(hA,AA)}}else if(ri.type==="Polygon")for(var dc=0,Za=J0(ri.geometry,0);dc<Za.length;dc+=1){var Nl=Za[dc],dA=lb(Nl,16);cf(Nl[0],new Qf(dA.x,dA.y,0))}else if(ri.type==="LineString")for(var ip=0,mA=ri.geometry;ip<mA.length;ip+=1){var ah=mA[ip];cf(ah,new Qf(ah[0].x,ah[0].y,0))}else if(ri.type==="Point")for(var ym=0,vm=ri.geometry;ym<vm.length;ym+=1)for(var Ul=0,br=vm[ym];Ul<br.length;Ul+=1){var Pd=br[Ul];cf([Pd],new Qf(Pd.x,Pd.y,0))}}(r,pt,en,Uo,g,W,Kt,gn,nn,ka,T)},rt=0,ft=r.features;rt<ft.length;rt+=1)tt();C&&r.generateCollisionDebugBuffers()},a.perspective=function(r,o,u,g,b){var C,T=1/Math.tan(o/2);return r[0]=T/u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,b!=null&&b!==1/0?(r[10]=(b+g)*(C=1/(g-b)),r[14]=2*b*g*C):(r[10]=-1,r[14]=-2*g),r},a.pick=function(r,o){for(var u={},g=0;g<o.length;g++){var b=o[g];b in r&&(u[b]=r[b])}return u},a.plugin=ir,a.polygonIntersectsPolygon=wa,a.postMapLoadEvent=Ct,a.postTurnstileEvent=be,a.potpack=Wy,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=rn,a.registerForPluginStateChange=function(r){return r({pluginStatus:mo,pluginURL:Va}),Xc.on("pluginStateChange",r),r},a.renderColorRamp=od,a.rotate=function(r,o,u){var g=o[0],b=o[1],C=o[2],T=o[3],B=Math.sin(u),j=Math.cos(u);return r[0]=g*j+C*B,r[1]=b*j+T*B,r[2]=g*-B+C*j,r[3]=b*-B+T*j,r},a.rotateX=function(r,o,u){var g=Math.sin(u),b=Math.cos(u),C=o[4],T=o[5],B=o[6],j=o[7],W=o[8],Z=o[9],Y=o[10],ue=o[11];return o!==r&&(r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15]),r[4]=C*b+W*g,r[5]=T*b+Z*g,r[6]=B*b+Y*g,r[7]=j*b+ue*g,r[8]=W*b-C*g,r[9]=Z*b-T*g,r[10]=Y*b-B*g,r[11]=ue*b-j*g,r},a.rotateZ=function(r,o,u){var g=Math.sin(u),b=Math.cos(u),C=o[0],T=o[1],B=o[2],j=o[3],W=o[4],Z=o[5],Y=o[6],ue=o[7];return o!==r&&(r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15]),r[0]=C*b+W*g,r[1]=T*b+Z*g,r[2]=B*b+Y*g,r[3]=j*b+ue*g,r[4]=W*b-C*g,r[5]=Z*b-T*g,r[6]=Y*b-B*g,r[7]=ue*b-j*g,r},a.scale=function(r,o,u){var g=u[0],b=u[1],C=u[2];return r[0]=o[0]*g,r[1]=o[1]*g,r[2]=o[2]*g,r[3]=o[3]*g,r[4]=o[4]*b,r[5]=o[5]*b,r[6]=o[6]*b,r[7]=o[7]*b,r[8]=o[8]*C,r[9]=o[9]*C,r[10]=o[10]*C,r[11]=o[11]*C,r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],r},a.scale$1=function(r,o,u){return r[0]=o[0]*u,r[1]=o[1]*u,r[2]=o[2]*u,r[3]=o[3]*u,r},a.scale$2=function(r,o,u){return r[0]=o[0]*u,r[1]=o[1]*u,r[2]=o[2]*u,r},a.setCacheLimits=function(r,o){an=r,Gn=o},a.setRTLTextPlugin=function(r,o,u){if(u===void 0&&(u=!1),mo==="deferred"||mo==="loading"||mo==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Va=$n.resolveURL(r),mo="deferred",Bf=o,Zc(),u||zp()},a.sphericalToCartesian=function(r){var o=r[0],u=r[1],g=r[2];return u+=90,u*=Math.PI/180,g*=Math.PI/180,{x:o*Math.cos(u)*Math.sin(g),y:o*Math.sin(u)*Math.sin(g),z:o*Math.cos(g)}},a.sqrLen=function(r){var o=r[0],u=r[1];return o*o+u*u},a.styleSpec=xe,a.sub=function(r,o,u){return r[0]=o[0]-u[0],r[1]=o[1]-u[1],r[2]=o[2]-u[2],r},a.symbolSize=Jy,a.transformMat3=function(r,o,u){var g=o[0],b=o[1],C=o[2];return r[0]=g*u[0]+b*u[3]+C*u[6],r[1]=g*u[1]+b*u[4]+C*u[7],r[2]=g*u[2]+b*u[5]+C*u[8],r},a.transformMat4=Uf,a.translate=function(r,o,u){var g,b,C,T,B,j,W,Z,Y,ue,he,Ce,Ee=u[0],Ve=u[1],Re=u[2];return o===r?(r[12]=o[0]*Ee+o[4]*Ve+o[8]*Re+o[12],r[13]=o[1]*Ee+o[5]*Ve+o[9]*Re+o[13],r[14]=o[2]*Ee+o[6]*Ve+o[10]*Re+o[14],r[15]=o[3]*Ee+o[7]*Ve+o[11]*Re+o[15]):(b=o[1],C=o[2],T=o[3],B=o[4],j=o[5],W=o[6],Z=o[7],Y=o[8],ue=o[9],he=o[10],Ce=o[11],r[0]=g=o[0],r[1]=b,r[2]=C,r[3]=T,r[4]=B,r[5]=j,r[6]=W,r[7]=Z,r[8]=Y,r[9]=ue,r[10]=he,r[11]=Ce,r[12]=g*Ee+B*Ve+Y*Re+o[12],r[13]=b*Ee+j*Ve+ue*Re+o[13],r[14]=C*Ee+W*Ve+he*Re+o[14],r[15]=T*Ee+Z*Ve+Ce*Re+o[15]),r},a.triggerPluginCompletionEvent=zl,a.uniqueId=ce,a.validateCustomStyleLayer=function(r){var o=[],u=r.id;return u===void 0&&o.push({message:"layers."+u+': missing required property "id"'}),r.render===void 0&&o.push({message:"layers."+u+': missing required method "render"'}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&o.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),o},a.validateLight=Wc,a.validateStyle=fs,a.values=function(r){var o=[];for(var u in r)o.push(r[u]);return o},a.vectorTile=vu,a.version="1.15.3",a.warnOnce=yt,a.webpSupported=Xr,a.window=N,a.wrap=V}),l(["./shared"],function(a){function x(J){var se=typeof J;if(se==="number"||se==="boolean"||se==="string"||J==null)return JSON.stringify(J);if(Array.isArray(J)){for(var pe="[",ye=0,Te=J;ye<Te.length;ye+=1)pe+=x(Te[ye])+",";return pe+"]"}for(var Ue=Object.keys(J).sort(),He="{",Ne=0;Ne<Ue.length;Ne++)He+=JSON.stringify(Ue[Ne])+":"+x(J[Ue[Ne]])+",";return He+"}"}function S(J){for(var se="",pe=0,ye=a.refProperties;pe<ye.length;pe+=1)se+="/"+x(J[ye[pe]]);return se}var P=function(J){this.keyCache={},J&&this.replace(J)};P.prototype.replace=function(J){this._layerConfigs={},this._layers={},this.update(J,[])},P.prototype.update=function(J,se){for(var pe=this,ye=0,Te=J;ye<Te.length;ye+=1){var Ue=Te[ye];this._layerConfigs[Ue.id]=Ue;var He=this._layers[Ue.id]=a.createStyleLayer(Ue);He._featureFilter=a.featureFilter(He.filter),this.keyCache[Ue.id]&&delete this.keyCache[Ue.id]}for(var Ne=0,xe=se;Ne<xe.length;Ne+=1){var ae=xe[Ne];delete this.keyCache[ae],delete this._layerConfigs[ae],delete this._layers[ae]}this.familiesBySource={};for(var je=0,st=function(It,bt){for(var hn={},cn=0;cn<It.length;cn++){var Gt=bt&&bt[It[cn].id]||S(It[cn]);bt&&(bt[It[cn].id]=Gt);var dr=hn[Gt];dr||(dr=hn[Gt]=[]),dr.push(It[cn])}var Jn=[];for(var Rr in hn)Jn.push(hn[Rr]);return Jn}(a.values(this._layerConfigs),this.keyCache);je<st.length;je+=1){var Ge=st[je].map(function(It){return pe._layers[It.id]}),A=Ge[0];if(A.visibility!=="none"){var me=A.source||"",Ot=this.familiesBySource[me];Ot||(Ot=this.familiesBySource[me]={});var $t=A.sourceLayer||"_geojsonTileLayer",ct=Ot[$t];ct||(ct=Ot[$t]=[]),ct.push(Ge)}}};var L=function(J){var se={},pe=[];for(var ye in J){var Te=J[ye],Ue=se[ye]={};for(var He in Te){var Ne=Te[+He];if(Ne&&Ne.bitmap.width!==0&&Ne.bitmap.height!==0){var xe={x:0,y:0,w:Ne.bitmap.width+2,h:Ne.bitmap.height+2};pe.push(xe),Ue[He]={rect:xe,metrics:Ne.metrics}}}}var ae=a.potpack(pe),je=new a.AlphaImage({width:ae.w||1,height:ae.h||1});for(var st in J){var Ge=J[st];for(var A in Ge){var me=Ge[+A];if(me&&me.bitmap.width!==0&&me.bitmap.height!==0){var Ot=se[st][A].rect;a.AlphaImage.copy(me.bitmap,je,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},me.bitmap)}}}this.image=je,this.positions=se};a.register("GlyphAtlas",L);var F=function(J){this.tileID=new a.OverscaledTileID(J.tileID.overscaledZ,J.tileID.wrap,J.tileID.canonical.z,J.tileID.canonical.x,J.tileID.canonical.y),this.uid=J.uid,this.zoom=J.zoom,this.pixelRatio=J.pixelRatio,this.tileSize=J.tileSize,this.source=J.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=J.showCollisionBoxes,this.collectResourceTiming=!!J.collectResourceTiming,this.returnDependencies=!!J.returnDependencies,this.promoteId=J.promoteId};function N(J,se,pe){for(var ye=new a.EvaluationParameters(se),Te=0,Ue=J;Te<Ue.length;Te+=1)Ue[Te].recalculate(ye,pe)}function $(J,se){var pe=a.getArrayBuffer(J.request,function(ye,Te,Ue,He){ye?se(ye):Te&&se(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Te)),rawData:Te,cacheControl:Ue,expires:He})});return function(){pe.cancel(),se()}}F.prototype.parse=function(J,se,pe,ye,Te){var Ue=this;this.status="parsing",this.data=J,this.collisionBoxArray=new a.CollisionBoxArray;var He=new a.DictionaryCoder(Object.keys(J.layers).sort()),Ne=new a.FeatureIndex(this.tileID,this.promoteId);Ne.bucketLayerIDs=[];var xe,ae,je,st,Ge={},A={featureIndex:Ne,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:pe},me=se.familiesBySource[this.source];for(var Ot in me){var $t=J.layers[Ot];if($t){$t.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ot+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var ct=He.encode(Ot),It=[],bt=0;bt<$t.length;bt++){var hn=$t.feature(bt),cn=Ne.getId(hn,Ot);It.push({feature:hn,id:cn,index:bt,sourceLayerIndex:ct})}for(var Gt=0,dr=me[Ot];Gt<dr.length;Gt+=1){var Jn=dr[Gt],Rr=Jn[0];Rr.minzoom&&this.zoom<Math.floor(Rr.minzoom)||Rr.maxzoom&&this.zoom>=Rr.maxzoom||Rr.visibility!=="none"&&(N(Jn,this.zoom,pe),(Ge[Rr.id]=Rr.createBucket({index:Ne.bucketLayerIDs.length,layers:Jn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ct,sourceID:this.source})).populate(It,A,this.tileID.canonical),Ne.bucketLayerIDs.push(Jn.map(function(Sr){return Sr.id})))}}}var gr=a.mapObject(A.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(gr).length?ye.send("getGlyphs",{uid:this.uid,stacks:gr},function(Sr,Zt){xe||(xe=Sr,ae=Zt,hi.call(Ue))}):ae={};var lr=Object.keys(A.iconDependencies);lr.length?ye.send("getImages",{icons:lr,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,Zt){xe||(xe=Sr,je=Zt,hi.call(Ue))}):je={};var vr=Object.keys(A.patternDependencies);function hi(){if(xe)return Te(xe);if(ae&&je&&st){var Sr=new L(ae),Zt=new a.ImageAtlas(je,st);for(var qe in Ge){var bn=Ge[qe];bn instanceof a.SymbolBucket?(N(bn.layers,this.zoom,pe),a.performSymbolLayout(bn,ae,Sr.positions,je,Zt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):bn.hasPattern&&(bn instanceof a.LineBucket||bn instanceof a.FillBucket||bn instanceof a.FillExtrusionBucket)&&(N(bn.layers,this.zoom,pe),bn.addFeatures(A,this.tileID.canonical,Zt.patternPositions))}this.status="done",Te(null,{buckets:a.values(Ge).filter(function(il){return!il.isEmpty()}),featureIndex:Ne,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:Zt,glyphMap:this.returnDependencies?ae:null,iconMap:this.returnDependencies?je:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}vr.length?ye.send("getImages",{icons:vr,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,Zt){xe||(xe=Sr,st=Zt,hi.call(Ue))}):st={},hi.call(this)};var q=function(J,se,pe,ye){this.actor=J,this.layerIndex=se,this.availableImages=pe,this.loadVectorData=ye||$,this.loading={},this.loaded={}};q.prototype.loadTile=function(J,se){var pe=this,ye=J.uid;this.loading||(this.loading={});var Te=!!(J&&J.request&&J.request.collectResourceTiming)&&new a.RequestPerformance(J.request),Ue=this.loading[ye]=new F(J);Ue.abort=this.loadVectorData(J,function(He,Ne){if(delete pe.loading[ye],He||!Ne)return Ue.status="done",pe.loaded[ye]=Ue,se(He);var xe=Ne.rawData,ae={};Ne.expires&&(ae.expires=Ne.expires),Ne.cacheControl&&(ae.cacheControl=Ne.cacheControl);var je={};if(Te){var st=Te.finish();st&&(je.resourceTiming=JSON.parse(JSON.stringify(st)))}Ue.vectorTile=Ne.vectorTile,Ue.parse(Ne.vectorTile,pe.layerIndex,pe.availableImages,pe.actor,function(Ge,A){if(Ge||!A)return se(Ge);se(null,a.extend({rawTileData:xe.slice(0)},A,ae,je))}),pe.loaded=pe.loaded||{},pe.loaded[ye]=Ue})},q.prototype.reloadTile=function(J,se){var pe=this,ye=this.loaded,Te=J.uid,Ue=this;if(ye&&ye[Te]){var He=ye[Te];He.showCollisionBoxes=J.showCollisionBoxes;var Ne=function(xe,ae){var je=He.reloadCallback;je&&(delete He.reloadCallback,He.parse(He.vectorTile,Ue.layerIndex,pe.availableImages,Ue.actor,je)),se(xe,ae)};He.status==="parsing"?He.reloadCallback=Ne:He.status==="done"&&(He.vectorTile?He.parse(He.vectorTile,this.layerIndex,this.availableImages,this.actor,Ne):Ne())}},q.prototype.abortTile=function(J,se){var pe=this.loading,ye=J.uid;pe&&pe[ye]&&pe[ye].abort&&(pe[ye].abort(),delete pe[ye]),se()},q.prototype.removeTile=function(J,se){var pe=this.loaded,ye=J.uid;pe&&pe[ye]&&delete pe[ye],se()};var K=a.window.ImageBitmap,te=function(){this.loaded={}};function V(J,se){if(J.length!==0){X(J[0],se);for(var pe=1;pe<J.length;pe++)X(J[pe],!se)}}function X(J,se){for(var pe=0,ye=0,Te=J.length,Ue=Te-1;ye<Te;Ue=ye++)pe+=(J[ye][0]-J[Ue][0])*(J[Ue][1]+J[ye][1]);pe>=0!=!!se&&J.reverse()}te.prototype.loadTile=function(J,se){var pe=J.uid,ye=J.encoding,Te=J.rawImageData,Ue=K&&Te instanceof K?this.getImageData(Te):Te,He=new a.DEMData(pe,Ue,ye);this.loaded=this.loaded||{},this.loaded[pe]=He,se(null,He)},te.prototype.getImageData=function(J){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(J.width,J.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=J.width,this.offscreenCanvas.height=J.height,this.offscreenCanvasContext.drawImage(J,0,0,J.width,J.height);var se=this.offscreenCanvasContext.getImageData(-1,-1,J.width+2,J.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:se.width,height:se.height},se.data)},te.prototype.removeTile=function(J){var se=this.loaded,pe=J.uid;se&&se[pe]&&delete se[pe]};var ee=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,ce=function(J){this._feature=J,this.extent=a.EXTENT,this.type=J.type,this.properties=J.tags,"id"in J&&!isNaN(J.id)&&(this.id=parseInt(J.id,10))};ce.prototype.loadGeometry=function(){if(this._feature.type===1){for(var J=[],se=0,pe=this._feature.geometry;se<pe.length;se+=1){var ye=pe[se];J.push([new a.Point$1(ye[0],ye[1])])}return J}for(var Te=[],Ue=0,He=this._feature.geometry;Ue<He.length;Ue+=1){for(var Ne=[],xe=0,ae=He[Ue];xe<ae.length;xe+=1){var je=ae[xe];Ne.push(new a.Point$1(je[0],je[1]))}Te.push(Ne)}return Te},ce.prototype.toGeoJSON=function(J,se,pe){return ee.call(this,J,se,pe)};var _e=function(J){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=J.length,this._features=J};_e.prototype.feature=function(J){return new ce(this._features[J])};var re=a.vectorTile.VectorTileFeature,Se=Le;function Le(J,se){this.options=se||{},this.features=J,this.length=J.length}function Ze(J,se){this.id=typeof J.id=="number"?J.id:void 0,this.type=J.type,this.rawGeometry=J.type===1?[J.geometry]:J.geometry,this.properties=J.tags,this.extent=se||4096}Le.prototype.feature=function(J){return new Ze(this.features[J],this.options.extent)},Ze.prototype.loadGeometry=function(){var J=this.rawGeometry;this.geometry=[];for(var se=0;se<J.length;se++){for(var pe=J[se],ye=[],Te=0;Te<pe.length;Te++)ye.push(new a.Point$1(pe[Te][0],pe[Te][1]));this.geometry.push(ye)}return this.geometry},Ze.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var J=this.geometry,se=1/0,pe=-1/0,ye=1/0,Te=-1/0,Ue=0;Ue<J.length;Ue++)for(var He=J[Ue],Ne=0;Ne<He.length;Ne++){var xe=He[Ne];se=Math.min(se,xe.x),pe=Math.max(pe,xe.x),ye=Math.min(ye,xe.y),Te=Math.max(Te,xe.y)}return[se,ye,pe,Te]},Ze.prototype.toGeoJSON=re.prototype.toGeoJSON;var ot=ut,We=Se;function ut(J){var se=new a.pbf;return function(pe,ye){for(var Te in pe.layers)ye.writeMessage(3,yt,pe.layers[Te])}(J,se),se.finish()}function yt(J,se){var pe;se.writeVarintField(15,J.version||1),se.writeStringField(1,J.name||""),se.writeVarintField(5,J.extent||4096);var ye={keys:[],values:[],keycache:{},valuecache:{}};for(pe=0;pe<J.length;pe++)ye.feature=J.feature(pe),se.writeMessage(2,Bt,ye);var Te=ye.keys;for(pe=0;pe<Te.length;pe++)se.writeStringField(3,Te[pe]);var Ue=ye.values;for(pe=0;pe<Ue.length;pe++)se.writeMessage(4,Me,Ue[pe])}function Bt(J,se){var pe=J.feature;pe.id!==void 0&&se.writeVarintField(1,pe.id),se.writeMessage(2,Yt,J),se.writeVarintField(3,pe.type),se.writeMessage(4,at,pe)}function Yt(J,se){var pe=J.feature,ye=J.keys,Te=J.values,Ue=J.keycache,He=J.valuecache;for(var Ne in pe.properties){var xe=Ue[Ne];xe===void 0&&(ye.push(Ne),Ue[Ne]=xe=ye.length-1),se.writeVarint(xe);var ae=pe.properties[Ne],je=typeof ae;je!=="string"&&je!=="boolean"&&je!=="number"&&(ae=JSON.stringify(ae));var st=je+":"+ae,Ge=He[st];Ge===void 0&&(Te.push(ae),He[st]=Ge=Te.length-1),se.writeVarint(Ge)}}function pn(J,se){return(se<<3)+(7&J)}function xn(J){return J<<1^J>>31}function at(J,se){for(var pe=J.loadGeometry(),ye=J.type,Te=0,Ue=0,He=pe.length,Ne=0;Ne<He;Ne++){var xe=pe[Ne],ae=1;ye===1&&(ae=xe.length),se.writeVarint(pn(1,ae));for(var je=ye===3?xe.length-1:xe.length,st=0;st<je;st++){st===1&&ye!==1&&se.writeVarint(pn(2,je-1));var Ge=xe[st].x-Te,A=xe[st].y-Ue;se.writeVarint(xn(Ge)),se.writeVarint(xn(A)),Te+=Ge,Ue+=A}ye===3&&se.writeVarint(pn(7,1))}}function Me(J,se){var pe=typeof J;pe==="string"?se.writeStringField(1,J):pe==="boolean"?se.writeBooleanField(7,J):pe==="number"&&(J%1!=0?se.writeDoubleField(3,J):J<0?se.writeSVarintField(6,J):se.writeVarintField(5,J))}function Oe(J,se,pe,ye){oe(J,pe,ye),oe(se,2*pe,2*ye),oe(se,2*pe+1,2*ye+1)}function oe(J,se,pe){var ye=J[se];J[se]=J[pe],J[pe]=ye}function ge(J,se,pe,ye){var Te=J-pe,Ue=se-ye;return Te*Te+Ue*Ue}ot.fromVectorTileJs=ut,ot.fromGeojsonVt=function(J,se){se=se||{};var pe={};for(var ye in J)pe[ye]=new Se(J[ye].features,se),pe[ye].name=ye,pe[ye].version=se.version,pe[ye].extent=se.extent;return ut({layers:pe})},ot.GeoJSONWrapper=We;var Mt=function(J){return J[0]},un=function(J){return J[1]},wn=function(J,se,pe,ye,Te){se===void 0&&(se=Mt),pe===void 0&&(pe=un),ye===void 0&&(ye=64),Te===void 0&&(Te=Float64Array),this.nodeSize=ye,this.points=J;for(var Ue=J.length<65536?Uint16Array:Uint32Array,He=this.ids=new Ue(J.length),Ne=this.coords=new Te(2*J.length),xe=0;xe<J.length;xe++)He[xe]=xe,Ne[2*xe]=se(J[xe]),Ne[2*xe+1]=pe(J[xe]);(function ae(je,st,Ge,A,me,Ot){if(!(me-A<=Ge)){var $t=A+me>>1;(function ct(It,bt,hn,cn,Gt,dr){for(;Gt>cn;){if(Gt-cn>600){var Jn=Gt-cn+1,Rr=hn-cn+1,gr=Math.log(Jn),lr=.5*Math.exp(2*gr/3),vr=.5*Math.sqrt(gr*lr*(Jn-lr)/Jn)*(Rr-Jn/2<0?-1:1);ct(It,bt,hn,Math.max(cn,Math.floor(hn-Rr*lr/Jn+vr)),Math.min(Gt,Math.floor(hn+(Jn-Rr)*lr/Jn+vr)),dr)}var hi=bt[2*hn+dr],Sr=cn,Zt=Gt;for(Oe(It,bt,cn,hn),bt[2*Gt+dr]>hi&&Oe(It,bt,cn,Gt);Sr<Zt;){for(Oe(It,bt,Sr,Zt),Sr++,Zt--;bt[2*Sr+dr]<hi;)Sr++;for(;bt[2*Zt+dr]>hi;)Zt--}bt[2*cn+dr]===hi?Oe(It,bt,cn,Zt):Oe(It,bt,++Zt,Gt),Zt<=hn&&(cn=Zt+1),hn<=Zt&&(Gt=Zt-1)}})(je,st,$t,A,me,Ot%2),ae(je,st,Ge,A,$t-1,Ot+1),ae(je,st,Ge,$t+1,me,Ot+1)}})(He,Ne,ye,0,He.length-1,0)};wn.prototype.range=function(J,se,pe,ye){return function(Te,Ue,He,Ne,xe,ae,je){for(var st,Ge,A=[0,Te.length-1,0],me=[];A.length;){var Ot=A.pop(),$t=A.pop(),ct=A.pop();if($t-ct<=je)for(var It=ct;It<=$t;It++)Ge=Ue[2*It+1],(st=Ue[2*It])>=He&&st<=xe&&Ge>=Ne&&Ge<=ae&&me.push(Te[It]);else{var bt=Math.floor((ct+$t)/2);Ge=Ue[2*bt+1],(st=Ue[2*bt])>=He&&st<=xe&&Ge>=Ne&&Ge<=ae&&me.push(Te[bt]);var hn=(Ot+1)%2;(Ot===0?He<=st:Ne<=Ge)&&(A.push(ct),A.push(bt-1),A.push(hn)),(Ot===0?xe>=st:ae>=Ge)&&(A.push(bt+1),A.push($t),A.push(hn))}}return me}(this.ids,this.coords,J,se,pe,ye,this.nodeSize)},wn.prototype.within=function(J,se,pe){return function(ye,Te,Ue,He,Ne,xe){for(var ae=[0,ye.length-1,0],je=[],st=Ne*Ne;ae.length;){var Ge=ae.pop(),A=ae.pop(),me=ae.pop();if(A-me<=xe)for(var Ot=me;Ot<=A;Ot++)ge(Te[2*Ot],Te[2*Ot+1],Ue,He)<=st&&je.push(ye[Ot]);else{var $t=Math.floor((me+A)/2),ct=Te[2*$t],It=Te[2*$t+1];ge(ct,It,Ue,He)<=st&&je.push(ye[$t]);var bt=(Ge+1)%2;(Ge===0?Ue-Ne<=ct:He-Ne<=It)&&(ae.push(me),ae.push($t-1),ae.push(bt)),(Ge===0?Ue+Ne>=ct:He+Ne>=It)&&(ae.push($t+1),ae.push(A),ae.push(bt))}}return je}(this.ids,this.coords,J,se,pe,this.nodeSize)};var dn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(J){return J}},Cn=function(J){this.options=mi(Object.create(dn),J),this.trees=new Array(this.options.maxZoom+1)};function $n(J,se,pe,ye,Te){return{x:J,y:se,zoom:1/0,id:pe,parentId:-1,numPoints:ye,properties:Te}}function Fn(J,se){var pe=J.geometry.coordinates,ye=pe[1];return{x:Fi(pe[0]),y:jn(ye),zoom:1/0,index:se,parentId:-1}}function Xr(J){return{type:"Feature",id:J.id,properties:jr(J),geometry:{type:"Point",coordinates:[(ye=J.x,360*(ye-.5)),(se=J.y,pe=(180-360*se)*Math.PI/180,360*Math.atan(Math.exp(pe))/Math.PI-90)]}};var se,pe,ye}function jr(J){var se=J.numPoints,pe=se>=1e4?Math.round(se/1e3)+"k":se>=1e3?Math.round(se/100)/10+"k":se;return mi(mi({},J.properties),{cluster:!0,cluster_id:J.id,point_count:se,point_count_abbreviated:pe})}function Fi(J){return J/360+.5}function jn(J){var se=Math.sin(J*Math.PI/180),pe=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return pe<0?0:pe>1?1:pe}function mi(J,se){for(var pe in se)J[pe]=se[pe];return J}function gi(J){return J.x}function Go(J){return J.y}function Bi(J,se,pe,ye,Te,Ue){var He=Te-pe,Ne=Ue-ye;if(He!==0||Ne!==0){var xe=((J-pe)*He+(se-ye)*Ne)/(He*He+Ne*Ne);xe>1?(pe=Te,ye=Ue):xe>0&&(pe+=He*xe,ye+=Ne*xe)}return(He=J-pe)*He+(Ne=se-ye)*Ne}function Wi(J,se,pe,ye){var Te={id:J===void 0?null:J,type:se,geometry:pe,tags:ye,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ue){var He=Ue.geometry,Ne=Ue.type;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")bs(Ue,He);else if(Ne==="Polygon"||Ne==="MultiLineString")for(var xe=0;xe<He.length;xe++)bs(Ue,He[xe]);else if(Ne==="MultiPolygon")for(xe=0;xe<He.length;xe++)for(var ae=0;ae<He[xe].length;ae++)bs(Ue,He[xe][ae])}(Te),Te}function bs(J,se){for(var pe=0;pe<se.length;pe+=3)J.minX=Math.min(J.minX,se[pe]),J.minY=Math.min(J.minY,se[pe+1]),J.maxX=Math.max(J.maxX,se[pe]),J.maxY=Math.max(J.maxY,se[pe+1])}function ro(J,se,pe,ye){if(se.geometry){var Te=se.geometry.coordinates,Ue=se.geometry.type,He=Math.pow(pe.tolerance/((1<<pe.maxZoom)*pe.extent),2),Ne=[],xe=se.id;if(pe.promoteId?xe=se.properties[pe.promoteId]:pe.generateId&&(xe=ye||0),Ue==="Point")Wr(Te,Ne);else if(Ue==="MultiPoint")for(var ae=0;ae<Te.length;ae++)Wr(Te[ae],Ne);else if(Ue==="LineString")Lo(Te,Ne,He,!1);else if(Ue==="MultiLineString"){if(pe.lineMetrics){for(ae=0;ae<Te.length;ae++)Lo(Te[ae],Ne=[],He,!1),J.push(Wi(xe,"LineString",Ne,se.properties));return}io(Te,Ne,He,!1)}else if(Ue==="Polygon")io(Te,Ne,He,!0);else{if(Ue!=="MultiPolygon"){if(Ue==="GeometryCollection"){for(ae=0;ae<se.geometry.geometries.length;ae++)ro(J,{id:xe,geometry:se.geometry.geometries[ae],properties:se.properties},pe,ye);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ae=0;ae<Te.length;ae++){var je=[];io(Te[ae],je,He,!0),Ne.push(je)}}J.push(Wi(xe,Ue,Ne,se.properties))}}function Wr(J,se){se.push(bi(J[0])),se.push(Do(J[1])),se.push(0)}function Lo(J,se,pe,ye){for(var Te,Ue,He=0,Ne=0;Ne<J.length;Ne++){var xe=bi(J[Ne][0]),ae=Do(J[Ne][1]);se.push(xe),se.push(ae),se.push(0),Ne>0&&(He+=ye?(Te*ae-xe*Ue)/2:Math.sqrt(Math.pow(xe-Te,2)+Math.pow(ae-Ue,2))),Te=xe,Ue=ae}var je=se.length-3;se[2]=1,function st(Ge,A,me,Ot){for(var $t,ct=Ot,It=me-A>>1,bt=me-A,hn=Ge[A],cn=Ge[A+1],Gt=Ge[me],dr=Ge[me+1],Jn=A+3;Jn<me;Jn+=3){var Rr=Bi(Ge[Jn],Ge[Jn+1],hn,cn,Gt,dr);if(Rr>ct)$t=Jn,ct=Rr;else if(Rr===ct){var gr=Math.abs(Jn-It);gr<bt&&($t=Jn,bt=gr)}}ct>Ot&&($t-A>3&&st(Ge,A,$t,Ot),Ge[$t+2]=ct,me-$t>3&&st(Ge,$t,me,Ot))}(se,0,je,pe),se[je+2]=1,se.size=Math.abs(He),se.start=0,se.end=se.size}function io(J,se,pe,ye){for(var Te=0;Te<J.length;Te++){var Ue=[];Lo(J[Te],Ue,pe,ye),se.push(Ue)}}function bi(J){return J/360+.5}function Do(J){var se=Math.sin(J*Math.PI/180),pe=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return pe<0?0:pe>1?1:pe}function la(J,se,pe,ye,Te,Ue,He,Ne){if(ye/=se,Ue>=(pe/=se)&&He<ye)return J;if(He<pe||Ue>=ye)return null;for(var xe=[],ae=0;ae<J.length;ae++){var je=J[ae],st=je.geometry,Ge=je.type,A=Te===0?je.minX:je.minY,me=Te===0?je.maxX:je.maxY;if(A>=pe&&me<ye)xe.push(je);else if(!(me<pe||A>=ye)){var Ot=[];if(Ge==="Point"||Ge==="MultiPoint")vt(st,Ot,pe,ye,Te);else if(Ge==="LineString")be(st,Ot,pe,ye,Te,!1,Ne.lineMetrics);else if(Ge==="MultiLineString")Ct(st,Ot,pe,ye,Te,!1);else if(Ge==="Polygon")Ct(st,Ot,pe,ye,Te,!0);else if(Ge==="MultiPolygon")for(var $t=0;$t<st.length;$t++){var ct=[];Ct(st[$t],ct,pe,ye,Te,!0),ct.length&&Ot.push(ct)}if(Ot.length){if(Ne.lineMetrics&&Ge==="LineString"){for($t=0;$t<Ot.length;$t++)xe.push(Wi(je.id,Ge,Ot[$t],je.tags));continue}Ge!=="LineString"&&Ge!=="MultiLineString"||(Ot.length===1?(Ge="LineString",Ot=Ot[0]):Ge="MultiLineString"),Ge!=="Point"&&Ge!=="MultiPoint"||(Ge=Ot.length===3?"Point":"MultiPoint"),xe.push(Wi(je.id,Ge,Ot,je.tags))}}}return xe.length?xe:null}function vt(J,se,pe,ye,Te){for(var Ue=0;Ue<J.length;Ue+=3){var He=J[Ue+Te];He>=pe&&He<=ye&&(se.push(J[Ue]),se.push(J[Ue+1]),se.push(J[Ue+2]))}}function be(J,se,pe,ye,Te,Ue,He){for(var Ne,xe,ae=Je(J),je=Te===0?Gn:Or,st=J.start,Ge=0;Ge<J.length-3;Ge+=3){var A=J[Ge],me=J[Ge+1],Ot=J[Ge+2],$t=J[Ge+3],ct=J[Ge+4],It=Te===0?A:me,bt=Te===0?$t:ct,hn=!1;He&&(Ne=Math.sqrt(Math.pow(A-$t,2)+Math.pow(me-ct,2))),It<pe?bt>pe&&(xe=je(ae,A,me,$t,ct,pe),He&&(ae.start=st+Ne*xe)):It>ye?bt<ye&&(xe=je(ae,A,me,$t,ct,ye),He&&(ae.start=st+Ne*xe)):an(ae,A,me,Ot),bt<pe&&It>=pe&&(xe=je(ae,A,me,$t,ct,pe),hn=!0),bt>ye&&It<=ye&&(xe=je(ae,A,me,$t,ct,ye),hn=!0),!Ue&&hn&&(He&&(ae.end=st+Ne*xe),se.push(ae),ae=Je(J)),He&&(st+=Ne)}var cn=J.length-3;A=J[cn],me=J[cn+1],Ot=J[cn+2],(It=Te===0?A:me)>=pe&&It<=ye&&an(ae,A,me,Ot),cn=ae.length-3,Ue&&cn>=3&&(ae[cn]!==ae[0]||ae[cn+1]!==ae[1])&&an(ae,ae[0],ae[1],ae[2]),ae.length&&se.push(ae)}function Je(J){var se=[];return se.size=J.size,se.start=J.start,se.end=J.end,se}function Ct(J,se,pe,ye,Te,Ue){for(var He=0;He<J.length;He++)be(J[He],se,pe,ye,Te,Ue,!1)}function an(J,se,pe,ye){J.push(se),J.push(pe),J.push(ye)}function Gn(J,se,pe,ye,Te,Ue){var He=(Ue-se)/(ye-se);return J.push(Ue),J.push(pe+(Te-pe)*He),J.push(1),He}function Or(J,se,pe,ye,Te,Ue){var He=(Ue-pe)/(Te-pe);return J.push(se+(ye-se)*He),J.push(Ue),J.push(1),He}function On(J,se){for(var pe=[],ye=0;ye<J.length;ye++){var Te,Ue=J[ye],He=Ue.type;if(He==="Point"||He==="MultiPoint"||He==="LineString")Te=nr(Ue.geometry,se);else if(He==="MultiLineString"||He==="Polygon"){Te=[];for(var Ne=0;Ne<Ue.geometry.length;Ne++)Te.push(nr(Ue.geometry[Ne],se))}else if(He==="MultiPolygon")for(Te=[],Ne=0;Ne<Ue.geometry.length;Ne++){for(var xe=[],ae=0;ae<Ue.geometry[Ne].length;ae++)xe.push(nr(Ue.geometry[Ne][ae],se));Te.push(xe)}pe.push(Wi(Ue.id,He,Te,Ue.tags))}return pe}function nr(J,se){var pe=[];pe.size=J.size,J.start!==void 0&&(pe.start=J.start,pe.end=J.end);for(var ye=0;ye<J.length;ye+=3)pe.push(J[ye]+se,J[ye+1],J[ye+2]);return pe}function Vr(J,se){if(J.transformed)return J;var pe,ye,Te,Ue=1<<J.z,He=J.x,Ne=J.y;for(pe=0;pe<J.features.length;pe++){var xe=J.features[pe],ae=xe.geometry,je=xe.type;if(xe.geometry=[],je===1)for(ye=0;ye<ae.length;ye+=2)xe.geometry.push(Yr(ae[ye],ae[ye+1],se,Ue,He,Ne));else for(ye=0;ye<ae.length;ye++){var st=[];for(Te=0;Te<ae[ye].length;Te+=2)st.push(Yr(ae[ye][Te],ae[ye][Te+1],se,Ue,He,Ne));xe.geometry.push(st)}}return J.transformed=!0,J}function Yr(J,se,pe,ye,Te,Ue){return[Math.round(pe*(J*ye-Te)),Math.round(pe*(se*ye-Ue))]}function mr(J,se,pe,ye,Te){for(var Ue=se===Te.maxZoom?0:Te.tolerance/((1<<se)*Te.extent),He={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:pe,y:ye,z:se,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ne=0;Ne<J.length;Ne++){He.numFeatures++,Co(He,J[Ne],Ue,Te);var xe=J[Ne].minX,ae=J[Ne].minY,je=J[Ne].maxX,st=J[Ne].maxY;xe<He.minX&&(He.minX=xe),ae<He.minY&&(He.minY=ae),je>He.maxX&&(He.maxX=je),st>He.maxY&&(He.maxY=st)}return He}function Co(J,se,pe,ye){var Te=se.geometry,Ue=se.type,He=[];if(Ue==="Point"||Ue==="MultiPoint")for(var Ne=0;Ne<Te.length;Ne+=3)He.push(Te[Ne]),He.push(Te[Ne+1]),J.numPoints++,J.numSimplified++;else if(Ue==="LineString")Jr(He,Te,J,pe,!1,!1);else if(Ue==="MultiLineString"||Ue==="Polygon")for(Ne=0;Ne<Te.length;Ne++)Jr(He,Te[Ne],J,pe,Ue==="Polygon",Ne===0);else if(Ue==="MultiPolygon")for(var xe=0;xe<Te.length;xe++){var ae=Te[xe];for(Ne=0;Ne<ae.length;Ne++)Jr(He,ae[Ne],J,pe,!0,Ne===0)}if(He.length){var je=se.tags||null;if(Ue==="LineString"&&ye.lineMetrics){for(var st in je={},se.tags)je[st]=se.tags[st];je.mapbox_clip_start=Te.start/Te.size,je.mapbox_clip_end=Te.end/Te.size}var Ge={geometry:He,type:Ue==="Polygon"||Ue==="MultiPolygon"?3:Ue==="LineString"||Ue==="MultiLineString"?2:1,tags:je};se.id!==null&&(Ge.id=se.id),J.features.push(Ge)}}function Jr(J,se,pe,ye,Te,Ue){var He=ye*ye;if(ye>0&&se.size<(Te?He:ye))pe.numPoints+=se.length/3;else{for(var Ne=[],xe=0;xe<se.length;xe+=3)(ye===0||se[xe+2]>He)&&(pe.numSimplified++,Ne.push(se[xe]),Ne.push(se[xe+1])),pe.numPoints++;Te&&function(ae,je){for(var st=0,Ge=0,A=ae.length,me=A-2;Ge<A;me=Ge,Ge+=2)st+=(ae[Ge]-ae[me])*(ae[Ge+1]+ae[me+1]);if(st>0===je)for(Ge=0,A=ae.length;Ge<A/2;Ge+=2){var Ot=ae[Ge],$t=ae[Ge+1];ae[Ge]=ae[A-2-Ge],ae[Ge+1]=ae[A-1-Ge],ae[A-2-Ge]=Ot,ae[A-1-Ge]=$t}}(Ne,Ue),J.push(Ne)}}function ua(J,se){var pe=(se=this.options=function(Te,Ue){for(var He in Ue)Te[He]=Ue[He];return Te}(Object.create(this.options),se)).debug;if(pe&&console.time("preprocess data"),se.maxZoom<0||se.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(se.promoteId&&se.generateId)throw new Error("promoteId and generateId cannot be used together.");var ye=function(Te,Ue){var He=[];if(Te.type==="FeatureCollection")for(var Ne=0;Ne<Te.features.length;Ne++)ro(He,Te.features[Ne],Ue,Ne);else ro(He,Te.type==="Feature"?Te:{geometry:Te},Ue);return He}(J,se);this.tiles={},this.tileCoords=[],pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",se.indexMaxZoom,se.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ye=function(Te,Ue){var He=Ue.buffer/Ue.extent,Ne=Te,xe=la(Te,1,-1-He,He,0,-1,2,Ue),ae=la(Te,1,1-He,2+He,0,-1,2,Ue);return(xe||ae)&&(Ne=la(Te,1,-He,1+He,0,-1,2,Ue)||[],xe&&(Ne=On(xe,1).concat(Ne)),ae&&(Ne=Ne.concat(On(ae,-1)))),Ne}(ye,se)).length&&this.splitTile(ye,0,0,0),pe&&(ye.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function La(J,se,pe){return 32*((1<<J)*pe+se)+J}function Vt(J,se){var pe=J.tileID.canonical;if(!this._geoJSONIndex)return se(null,null);var ye=this._geoJSONIndex.getTile(pe.z,pe.x,pe.y);if(!ye)return se(null,null);var Te=new _e(ye.features),Ue=ot(Te);Ue.byteOffset===0&&Ue.byteLength===Ue.buffer.byteLength||(Ue=new Uint8Array(Ue)),se(null,{vectorTile:Te,rawData:Ue.buffer})}Cn.prototype.load=function(J){var se=this.options,pe=se.log,ye=se.minZoom,Te=se.maxZoom,Ue=se.nodeSize;pe&&console.time("total time");var He="prepare "+J.length+" points";pe&&console.time(He),this.points=J;for(var Ne=[],xe=0;xe<J.length;xe++)J[xe].geometry&&Ne.push(Fn(J[xe],xe));this.trees[Te+1]=new wn(Ne,gi,Go,Ue,Float32Array),pe&&console.timeEnd(He);for(var ae=Te;ae>=ye;ae--){var je=+Date.now();Ne=this._cluster(Ne,ae),this.trees[ae]=new wn(Ne,gi,Go,Ue,Float32Array),pe&&console.log("z%d: %d clusters in %dms",ae,Ne.length,+Date.now()-je)}return pe&&console.timeEnd("total time"),this},Cn.prototype.getClusters=function(J,se){var pe=((J[0]+180)%360+360)%360-180,ye=Math.max(-90,Math.min(90,J[1])),Te=J[2]===180?180:((J[2]+180)%360+360)%360-180,Ue=Math.max(-90,Math.min(90,J[3]));if(J[2]-J[0]>=360)pe=-180,Te=180;else if(pe>Te){var He=this.getClusters([pe,ye,180,Ue],se),Ne=this.getClusters([-180,ye,Te,Ue],se);return He.concat(Ne)}for(var xe=this.trees[this._limitZoom(se)],ae=[],je=0,st=xe.range(Fi(pe),jn(Ue),Fi(Te),jn(ye));je<st.length;je+=1){var Ge=xe.points[st[je]];ae.push(Ge.numPoints?Xr(Ge):this.points[Ge.index])}return ae},Cn.prototype.getChildren=function(J){var se=this._getOriginId(J),pe=this._getOriginZoom(J),ye="No cluster with the specified id.",Te=this.trees[pe];if(!Te)throw new Error(ye);var Ue=Te.points[se];if(!Ue)throw new Error(ye);for(var He=this.options.radius/(this.options.extent*Math.pow(2,pe-1)),Ne=[],xe=0,ae=Te.within(Ue.x,Ue.y,He);xe<ae.length;xe+=1){var je=Te.points[ae[xe]];je.parentId===J&&Ne.push(je.numPoints?Xr(je):this.points[je.index])}if(Ne.length===0)throw new Error(ye);return Ne},Cn.prototype.getLeaves=function(J,se,pe){var ye=[];return this._appendLeaves(ye,J,se=se||10,pe=pe||0,0),ye},Cn.prototype.getTile=function(J,se,pe){var ye=this.trees[this._limitZoom(J)],Te=Math.pow(2,J),Ue=this.options,He=Ue.radius/Ue.extent,Ne=(pe-He)/Te,xe=(pe+1+He)/Te,ae={features:[]};return this._addTileFeatures(ye.range((se-He)/Te,Ne,(se+1+He)/Te,xe),ye.points,se,pe,Te,ae),se===0&&this._addTileFeatures(ye.range(1-He/Te,Ne,1,xe),ye.points,Te,pe,Te,ae),se===Te-1&&this._addTileFeatures(ye.range(0,Ne,He/Te,xe),ye.points,-1,pe,Te,ae),ae.features.length?ae:null},Cn.prototype.getClusterExpansionZoom=function(J){for(var se=this._getOriginZoom(J)-1;se<=this.options.maxZoom;){var pe=this.getChildren(J);if(se++,pe.length!==1)break;J=pe[0].properties.cluster_id}return se},Cn.prototype._appendLeaves=function(J,se,pe,ye,Te){for(var Ue=0,He=this.getChildren(se);Ue<He.length;Ue+=1){var Ne=He[Ue],xe=Ne.properties;if(xe&&xe.cluster?Te+xe.point_count<=ye?Te+=xe.point_count:Te=this._appendLeaves(J,xe.cluster_id,pe,ye,Te):Te<ye?Te++:J.push(Ne),J.length===pe)break}return Te},Cn.prototype._addTileFeatures=function(J,se,pe,ye,Te,Ue){for(var He=0,Ne=J;He<Ne.length;He+=1){var xe=se[Ne[He]],ae=xe.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(xe.x*Te-pe)),Math.round(this.options.extent*(xe.y*Te-ye))]],tags:ae?jr(xe):this.points[xe.index].properties},st=void 0;ae?st=xe.id:this.options.generateId?st=xe.index:this.points[xe.index].id&&(st=this.points[xe.index].id),st!==void 0&&(je.id=st),Ue.features.push(je)}},Cn.prototype._limitZoom=function(J){return Math.max(this.options.minZoom,Math.min(+J,this.options.maxZoom+1))},Cn.prototype._cluster=function(J,se){for(var pe=[],ye=this.options,Te=ye.reduce,Ue=ye.minPoints,He=ye.radius/(ye.extent*Math.pow(2,se)),Ne=0;Ne<J.length;Ne++){var xe=J[Ne];if(!(xe.zoom<=se)){xe.zoom=se;for(var ae=this.trees[se+1],je=ae.within(xe.x,xe.y,He),st=xe.numPoints||1,Ge=st,A=0,me=je;A<me.length;A+=1){var Ot=ae.points[me[A]];Ot.zoom>se&&(Ge+=Ot.numPoints||1)}if(Ge>=Ue){for(var $t=xe.x*st,ct=xe.y*st,It=Te&&st>1?this._map(xe,!0):null,bt=(Ne<<5)+(se+1)+this.points.length,hn=0,cn=je;hn<cn.length;hn+=1){var Gt=ae.points[cn[hn]];if(!(Gt.zoom<=se)){Gt.zoom=se;var dr=Gt.numPoints||1;$t+=Gt.x*dr,ct+=Gt.y*dr,Gt.parentId=bt,Te&&(It||(It=this._map(xe,!0)),Te(It,this._map(Gt)))}}xe.parentId=bt,pe.push($n($t/Ge,ct/Ge,bt,Ge,It))}else if(pe.push(xe),Ge>1)for(var Jn=0,Rr=je;Jn<Rr.length;Jn+=1){var gr=ae.points[Rr[Jn]];gr.zoom<=se||(gr.zoom=se,pe.push(gr))}}}return pe},Cn.prototype._getOriginId=function(J){return J-this.points.length>>5},Cn.prototype._getOriginZoom=function(J){return(J-this.points.length)%32},Cn.prototype._map=function(J,se){if(J.numPoints)return se?mi({},J.properties):J.properties;var pe=this.points[J.index].properties,ye=this.options.map(pe);return se&&ye===pe?mi({},ye):ye},ua.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ua.prototype.splitTile=function(J,se,pe,ye,Te,Ue,He){for(var Ne=[J,se,pe,ye],xe=this.options,ae=xe.debug;Ne.length;){ye=Ne.pop(),pe=Ne.pop(),se=Ne.pop(),J=Ne.pop();var je=1<<se,st=La(se,pe,ye),Ge=this.tiles[st];if(!Ge&&(ae>1&&console.time("creation"),Ge=this.tiles[st]=mr(J,se,pe,ye,xe),this.tileCoords.push({z:se,x:pe,y:ye}),ae)){ae>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",se,pe,ye,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var A="z"+se;this.stats[A]=(this.stats[A]||0)+1,this.total++}if(Ge.source=J,Te){if(se===xe.maxZoom||se===Te)continue;var me=1<<Te-se;if(pe!==Math.floor(Ue/me)||ye!==Math.floor(He/me))continue}else if(se===xe.indexMaxZoom||Ge.numPoints<=xe.indexMaxPoints)continue;if(Ge.source=null,J.length!==0){ae>1&&console.time("clipping");var Ot,$t,ct,It,bt,hn,cn=.5*xe.buffer/xe.extent,Gt=.5-cn,dr=.5+cn,Jn=1+cn;Ot=$t=ct=It=null,bt=la(J,je,pe-cn,pe+dr,0,Ge.minX,Ge.maxX,xe),hn=la(J,je,pe+Gt,pe+Jn,0,Ge.minX,Ge.maxX,xe),J=null,bt&&(Ot=la(bt,je,ye-cn,ye+dr,1,Ge.minY,Ge.maxY,xe),$t=la(bt,je,ye+Gt,ye+Jn,1,Ge.minY,Ge.maxY,xe),bt=null),hn&&(ct=la(hn,je,ye-cn,ye+dr,1,Ge.minY,Ge.maxY,xe),It=la(hn,je,ye+Gt,ye+Jn,1,Ge.minY,Ge.maxY,xe),hn=null),ae>1&&console.timeEnd("clipping"),Ne.push(Ot||[],se+1,2*pe,2*ye),Ne.push($t||[],se+1,2*pe,2*ye+1),Ne.push(ct||[],se+1,2*pe+1,2*ye),Ne.push(It||[],se+1,2*pe+1,2*ye+1)}}},ua.prototype.getTile=function(J,se,pe){var ye=this.options,Te=ye.extent,Ue=ye.debug;if(J<0||J>24)return null;var He=1<<J,Ne=La(J,se=(se%He+He)%He,pe);if(this.tiles[Ne])return Vr(this.tiles[Ne],Te);Ue>1&&console.log("drilling down to z%d-%d-%d",J,se,pe);for(var xe,ae=J,je=se,st=pe;!xe&&ae>0;)ae--,je=Math.floor(je/2),st=Math.floor(st/2),xe=this.tiles[La(ae,je,st)];return xe&&xe.source?(Ue>1&&console.log("found parent tile z%d-%d-%d",ae,je,st),Ue>1&&console.time("drilling down"),this.splitTile(xe.source,ae,je,st,J,se,pe),Ue>1&&console.timeEnd("drilling down"),this.tiles[Ne]?Vr(this.tiles[Ne],Te):null):null};var Ei=function(J){function se(pe,ye,Te,Ue){J.call(this,pe,ye,Te,Vt),Ue&&(this.loadGeoJSON=Ue)}return J&&(se.__proto__=J),(se.prototype=Object.create(J&&J.prototype)).constructor=se,se.prototype.loadData=function(pe,ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ye,this._pendingLoadDataParams=pe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},se.prototype._loadData=function(){var pe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ye=this._pendingCallback,Te=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ue=!!(Te&&Te.request&&Te.request.collectResourceTiming)&&new a.RequestPerformance(Te.request);this.loadGeoJSON(Te,function(He,Ne){if(He||!Ne)return ye(He);if(typeof Ne!="object")return ye(new Error("Input data given to '"+Te.source+"' is not a valid GeoJSON object."));(function Ge(A,me){var Ot,$t=A&&A.type;if($t==="FeatureCollection")for(Ot=0;Ot<A.features.length;Ot++)Ge(A.features[Ot],me);else if($t==="GeometryCollection")for(Ot=0;Ot<A.geometries.length;Ot++)Ge(A.geometries[Ot],me);else if($t==="Feature")Ge(A.geometry,me);else if($t==="Polygon")V(A.coordinates,me);else if($t==="MultiPolygon")for(Ot=0;Ot<A.coordinates.length;Ot++)V(A.coordinates[Ot],me);return A})(Ne,!0);try{if(Te.filter){var xe=a.createExpression(Te.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var ae=Ne.features.filter(function(Ge){return xe.value.evaluate({zoom:0},Ge)});Ne={type:"FeatureCollection",features:ae}}pe._geoJSONIndex=Te.cluster?new Cn(function(Ge){var A=Ge.superclusterOptions,me=Ge.clusterProperties;if(!me||!A)return A;for(var Ot={},$t={},ct={accumulated:null,zoom:0},It={properties:null},bt=Object.keys(me),hn=0,cn=bt;hn<cn.length;hn+=1){var Gt=cn[hn],dr=me[Gt],Jn=dr[0],Rr=a.createExpression(dr[1]),gr=a.createExpression(typeof Jn=="string"?[Jn,["accumulated"],["get",Gt]]:Jn);Ot[Gt]=Rr.value,$t[Gt]=gr.value}return A.map=function(lr){It.properties=lr;for(var vr={},hi=0,Sr=bt;hi<Sr.length;hi+=1){var Zt=Sr[hi];vr[Zt]=Ot[Zt].evaluate(ct,It)}return vr},A.reduce=function(lr,vr){It.properties=vr;for(var hi=0,Sr=bt;hi<Sr.length;hi+=1){var Zt=Sr[hi];ct.accumulated=lr[Zt],lr[Zt]=$t[Zt].evaluate(ct,It)}},A}(Te)).load(Ne.features):function(Ge,A){return new ua(Ge,A)}(Ne,Te.geojsonVtOptions)}catch(Ge){return ye(Ge)}pe.loaded={};var je={};if(Ue){var st=Ue.finish();st&&(je.resourceTiming={},je.resourceTiming[Te.source]=JSON.parse(JSON.stringify(st)))}ye(null,je)})}},se.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},se.prototype.reloadTile=function(pe,ye){var Te=this.loaded;return Te&&Te[pe.uid]?J.prototype.reloadTile.call(this,pe,ye):this.loadTile(pe,ye)},se.prototype.loadGeoJSON=function(pe,ye){if(pe.request)a.getJSON(pe.request,ye);else{if(typeof pe.data!="string")return ye(new Error("Input data given to '"+pe.source+"' is not a valid GeoJSON object."));try{return ye(null,JSON.parse(pe.data))}catch{return ye(new Error("Input data given to '"+pe.source+"' is not a valid GeoJSON object."))}}},se.prototype.removeSource=function(pe,ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ye()},se.prototype.getClusterExpansionZoom=function(pe,ye){try{ye(null,this._geoJSONIndex.getClusterExpansionZoom(pe.clusterId))}catch(Te){ye(Te)}},se.prototype.getClusterChildren=function(pe,ye){try{ye(null,this._geoJSONIndex.getChildren(pe.clusterId))}catch(Te){ye(Te)}},se.prototype.getClusterLeaves=function(pe,ye){try{ye(null,this._geoJSONIndex.getLeaves(pe.clusterId,pe.limit,pe.offset))}catch(Te){ye(Te)}},se}(q),Nr=function(J){var se=this;this.self=J,this.actor=new a.Actor(J,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:q,geojson:Ei},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(pe,ye){if(se.workerSourceTypes[pe])throw new Error('Worker source with name "'+pe+'" already registered.');se.workerSourceTypes[pe]=ye},this.self.registerRTLTextPlugin=function(pe){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=pe.applyArabicShaping,a.plugin.processBidirectionalText=pe.processBidirectionalText,a.plugin.processStyledBidirectionalText=pe.processStyledBidirectionalText}};return Nr.prototype.setReferrer=function(J,se){this.referrer=se},Nr.prototype.setImages=function(J,se,pe){for(var ye in this.availableImages[J]=se,this.workerSources[J]){var Te=this.workerSources[J][ye];for(var Ue in Te)Te[Ue].availableImages=se}pe()},Nr.prototype.setLayers=function(J,se,pe){this.getLayerIndex(J).replace(se),pe()},Nr.prototype.updateLayers=function(J,se,pe){this.getLayerIndex(J).update(se.layers,se.removedIds),pe()},Nr.prototype.loadTile=function(J,se,pe){this.getWorkerSource(J,se.type,se.source).loadTile(se,pe)},Nr.prototype.loadDEMTile=function(J,se,pe){this.getDEMWorkerSource(J,se.source).loadTile(se,pe)},Nr.prototype.reloadTile=function(J,se,pe){this.getWorkerSource(J,se.type,se.source).reloadTile(se,pe)},Nr.prototype.abortTile=function(J,se,pe){this.getWorkerSource(J,se.type,se.source).abortTile(se,pe)},Nr.prototype.removeTile=function(J,se,pe){this.getWorkerSource(J,se.type,se.source).removeTile(se,pe)},Nr.prototype.removeDEMTile=function(J,se){this.getDEMWorkerSource(J,se.source).removeTile(se)},Nr.prototype.removeSource=function(J,se,pe){if(this.workerSources[J]&&this.workerSources[J][se.type]&&this.workerSources[J][se.type][se.source]){var ye=this.workerSources[J][se.type][se.source];delete this.workerSources[J][se.type][se.source],ye.removeSource!==void 0?ye.removeSource(se,pe):pe()}},Nr.prototype.loadWorkerSource=function(J,se,pe){try{this.self.importScripts(se.url),pe()}catch(ye){pe(ye.toString())}},Nr.prototype.syncRTLPluginState=function(J,se,pe){try{a.plugin.setState(se);var ye=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ye!=null){this.self.importScripts(ye);var Te=a.plugin.isParsed();pe(Te?void 0:new Error("RTL Text Plugin failed to import scripts from "+ye),Te)}}catch(Ue){pe(Ue.toString())}},Nr.prototype.getAvailableImages=function(J){var se=this.availableImages[J];return se||(se=[]),se},Nr.prototype.getLayerIndex=function(J){var se=this.layerIndexes[J];return se||(se=this.layerIndexes[J]=new P),se},Nr.prototype.getWorkerSource=function(J,se,pe){var ye=this;return this.workerSources[J]||(this.workerSources[J]={}),this.workerSources[J][se]||(this.workerSources[J][se]={}),this.workerSources[J][se][pe]||(this.workerSources[J][se][pe]=new this.workerSourceTypes[se]({send:function(Te,Ue,He){ye.actor.send(Te,Ue,He,J)}},this.getLayerIndex(J),this.getAvailableImages(J))),this.workerSources[J][se][pe]},Nr.prototype.getDEMWorkerSource=function(J,se){return this.demWorkerSources[J]||(this.demWorkerSources[J]={}),this.demWorkerSources[J][se]||(this.demWorkerSources[J][se]=new te),this.demWorkerSources[J][se]},Nr.prototype.enforceCacheSizeLimit=function(J,se){a.enforceCacheSizeLimit(se)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Nr(self)),Nr}),l(["./shared"],function(a){var x=a.createCommonjsModule(function(c){function p(E){return!f(E)}function f(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var R,U,G=new Blob([""],{type:"text/javascript"}),ne=URL.createObjectURL(G);try{U=new Worker(ne),R=!0}catch{R=!1}return U&&U.terminate(),URL.revokeObjectURL(ne),R}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var R=document.createElement("canvas");R.width=R.height=1;var U=R.getContext("2d");if(!U)return!1;var G=U.getImageData(0,0,1,1);return G&&G.width===R.width}()?(y[O=E&&E.failIfMajorPerformanceCaveat]===void 0&&(y[O]=function(R){var U=function(ne){var Ae=document.createElement("canvas"),ve=Object.create(p.webGLContextAttributes);return ve.failIfMajorPerformanceCaveat=ne,Ae.probablySupportsContext?Ae.probablySupportsContext("webgl",ve)||Ae.probablySupportsContext("experimental-webgl",ve):Ae.supportsContext?Ae.supportsContext("webgl",ve)||Ae.supportsContext("experimental-webgl",ve):Ae.getContext("webgl",ve)||Ae.getContext("experimental-webgl",ve)}(R);if(!U)return!1;var G=U.createShader(U.VERTEX_SHADER);return!(!G||U.isContextLost())&&(U.shaderSource(G,"void main() {}"),U.compileShader(G),U.getShaderParameter(G,U.COMPILE_STATUS)===!0)}(O)),y[O]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var O}c.exports?c.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=f);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),S={create:function(c,p,f){var y=a.window.document.createElement(c);return p!==void 0&&(y.className=p),f&&f.appendChild(y),y},createNS:function(c,p){return a.window.document.createElementNS(c,p)}},P=a.window.document&&a.window.document.documentElement.style;function L(c){if(!P)return c[0];for(var p=0;p<c.length;p++)if(c[p]in P)return c[p];return c[0]}var F,N=L(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);S.disableDrag=function(){P&&N&&(F=P[N],P[N]="none")},S.enableDrag=function(){P&&N&&(P[N]=F)};var $=L(["transform","WebkitTransform"]);S.setTransform=function(c,p){c.style[$]=p};var q=!1;try{var K=Object.defineProperty({},"passive",{get:function(){q=!0}});a.window.addEventListener("test",K,K),a.window.removeEventListener("test",K,K)}catch{q=!1}S.addEventListener=function(c,p,f,y){y===void 0&&(y={}),c.addEventListener(p,f,"passive"in y&&q?y:y.capture)},S.removeEventListener=function(c,p,f,y){y===void 0&&(y={}),c.removeEventListener(p,f,"passive"in y&&q?y:y.capture)};var te=function(c){c.preventDefault(),c.stopPropagation(),a.window.removeEventListener("click",te,!0)};function V(c){var p=c.userImage;return!!(p&&p.render&&p.render())&&(c.data.replace(new Uint8Array(p.data.buffer)),!0)}S.suppressClick=function(){a.window.addEventListener("click",te,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",te,!0)},0)},S.mousePos=function(c,p){var f=c.getBoundingClientRect();return new a.Point(p.clientX-f.left-c.clientLeft,p.clientY-f.top-c.clientTop)},S.touchPos=function(c,p){for(var f=c.getBoundingClientRect(),y=[],E=0;E<p.length;E++)y.push(new a.Point(p[E].clientX-f.left-c.clientLeft,p[E].clientY-f.top-c.clientTop));return y},S.mouseButton=function(c){return a.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},S.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var X=function(c){function p(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(f){if(this.loaded!==f&&(this.loaded=f,f)){for(var y=0,E=this.requestors;y<E.length;y+=1){var O=E[y];this._notify(O.ids,O.callback)}this.requestors=[]}},p.prototype.getImage=function(f){return this.images[f]},p.prototype.addImage=function(f,y){this._validate(f,y)&&(this.images[f]=y)},p.prototype._validate=function(f,y){var E=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchY" value'))),E=!1),this._validateContent(y.content,y)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "content" value'))),E=!1),E},p.prototype._validateStretch=function(f,y){if(!f)return!0;for(var E=0,O=0,R=f;O<R.length;O+=1){var U=R[O];if(U[0]<E||U[1]<U[0]||y<U[1])return!1;E=U[1]}return!0},p.prototype._validateContent=function(f,y){return!(f&&(f.length!==4||f[0]<0||y.data.width<f[0]||f[1]<0||y.data.height<f[1]||f[2]<0||y.data.width<f[2]||f[3]<0||y.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))},p.prototype.updateImage=function(f,y){y.version=this.images[f].version+1,this.images[f]=y,this.updatedImages[f]=!0},p.prototype.removeImage=function(f){var y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(f,y){var E=!0;if(!this.isLoaded())for(var O=0,R=f;O<R.length;O+=1)this.images[R[O]]||(E=!1);this.isLoaded()||E?this._notify(f,y):this.requestors.push({ids:f,callback:y})},p.prototype._notify=function(f,y){for(var E={},O=0,R=f;O<R.length;O+=1){var U=R[O];this.images[U]||this.fire(new a.Event("styleimagemissing",{id:U}));var G=this.images[U];G?E[U]={data:G.data.clone(),pixelRatio:G.pixelRatio,sdf:G.sdf,version:G.version,stretchX:G.stretchX,stretchY:G.stretchY,content:G.content,hasRenderCallback:!!(G.userImage&&G.userImage.render)}:a.warnOnce('Image "'+U+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,E)},p.prototype.getPixelSize=function(){var f=this.atlasImage;return{width:f.width,height:f.height}},p.prototype.getPattern=function(f){var y=this.patterns[f],E=this.getImage(f);if(!E)return null;if(y&&y.position.version===E.version)return y.position;if(y)y.position.version=E.version;else{var O={w:E.data.width+2,h:E.data.height+2,x:0,y:0},R=new a.ImagePosition(O,E);this.patterns[f]={bin:O,position:R}}return this._updatePatternAtlas(),this.patterns[f].position},p.prototype.bind=function(f){var y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var f=[];for(var y in this.patterns)f.push(this.patterns[y].bin);var E=a.potpack(f),O=E.w,R=E.h,U=this.atlasImage;for(var G in U.resize({width:O||1,height:R||1}),this.patterns){var ne=this.patterns[G].bin,Ae=ne.x+1,ve=ne.y+1,de=this.images[G].data,Ie=de.width,Pe=de.height;a.RGBAImage.copy(de,U,{x:0,y:0},{x:Ae,y:ve},{width:Ie,height:Pe}),a.RGBAImage.copy(de,U,{x:0,y:Pe-1},{x:Ae,y:ve-1},{width:Ie,height:1}),a.RGBAImage.copy(de,U,{x:0,y:0},{x:Ae,y:ve+Pe},{width:Ie,height:1}),a.RGBAImage.copy(de,U,{x:Ie-1,y:0},{x:Ae-1,y:ve},{width:1,height:Pe}),a.RGBAImage.copy(de,U,{x:0,y:0},{x:Ae+Ie,y:ve},{width:1,height:Pe})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(f){for(var y=0,E=f;y<E.length;y+=1){var O=E[y];if(!this.callbackDispatchedThisFrame[O]){this.callbackDispatchedThisFrame[O]=!0;var R=this.images[O];V(R)&&this.updateImage(O,R)}}},p}(a.Evented),ee=re,ce=re,_e=1e20;function re(c,p,f,y,E,O){this.fontSize=c||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=E||"sans-serif",this.fontWeight=O||"normal",this.radius=f||8;var R=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=R,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.d=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Int16Array(R),this.middle=Math.round(R/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Se(c,p,f,y,E,O,R){for(var U=0;U<p;U++){for(var G=0;G<f;G++)y[G]=c[G*p+U];for(Le(y,E,O,R,f),G=0;G<f;G++)c[G*p+U]=E[G]}for(G=0;G<f;G++){for(U=0;U<p;U++)y[U]=c[G*p+U];for(Le(y,E,O,R,p),U=0;U<p;U++)c[G*p+U]=Math.sqrt(E[U])}}function Le(c,p,f,y,E){f[0]=0,y[0]=-_e,y[1]=+_e;for(var O=1,R=0;O<E;O++){for(var U=(c[O]+O*O-(c[f[R]]+f[R]*f[R]))/(2*O-2*f[R]);U<=y[R];)R--,U=(c[O]+O*O-(c[f[R]]+f[R]*f[R]))/(2*O-2*f[R]);f[++R]=O,y[R]=U,y[R+1]=+_e}for(O=0,R=0;O<E;O++){for(;y[R+1]<O;)R++;p[O]=(O-f[R])*(O-f[R])+c[f[R]]}}re.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),f=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var E=p.data[4*y+3]/255;this.gridOuter[y]=E===1?0:E===0?_e:Math.pow(Math.max(0,.5-E),2),this.gridInner[y]=E===1?_e:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(Se(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Se(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)f[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return f},ee.default=ce;var Ze=function(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}};Ze.prototype.setURL=function(c){this.url=c},Ze.prototype.getGlyphs=function(c,p){var f=this,y=[];for(var E in c)for(var O=0,R=c[E];O<R.length;O+=1)y.push({stack:E,id:R[O]});a.asyncAll(y,function(U,G){var ne=U.stack,Ae=U.id,ve=f.entries[ne];ve||(ve=f.entries[ne]={glyphs:{},requests:{},ranges:{}});var de=ve.glyphs[Ae];if(de===void 0){if(de=f._tinySDF(ve,ne,Ae))return ve.glyphs[Ae]=de,void G(null,{stack:ne,id:Ae,glyph:de});var Ie=Math.floor(Ae/256);if(256*Ie>65535)G(new Error("glyphs > 65535 not supported"));else if(ve.ranges[Ie])G(null,{stack:ne,id:Ae,glyph:de});else{var Pe=ve.requests[Ie];Pe||(Pe=ve.requests[Ie]=[],Ze.loadGlyphRange(ne,Ie,f.url,f.requestManager,function(ze,ke){if(ke){for(var Be in ke)f._doesCharSupportLocalGlyph(+Be)||(ve.glyphs[+Be]=ke[+Be]);ve.ranges[Ie]=!0}for(var Qe=0,et=Pe;Qe<et.length;Qe+=1)(0,et[Qe])(ze,ke);delete ve.requests[Ie]})),Pe.push(function(ze,ke){ze?G(ze):ke&&G(null,{stack:ne,id:Ae,glyph:ke[Ae]||null})})}}else G(null,{stack:ne,id:Ae,glyph:de})},function(U,G){if(U)p(U);else if(G){for(var ne={},Ae=0,ve=G;Ae<ve.length;Ae+=1){var de=ve[Ae],Ie=de.stack,Pe=de.id,ze=de.glyph;(ne[Ie]||(ne[Ie]={}))[Pe]=ze&&{id:ze.id,bitmap:ze.bitmap.clone(),metrics:ze.metrics}}p(null,ne)}})},Ze.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](c)||a.isChar["Hangul Syllables"](c)||a.isChar.Hiragana(c)||a.isChar.Katakana(c))},Ze.prototype._tinySDF=function(c,p,f){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(f)){var E=c.tinySDF;if(!E){var O="400";/bold/i.test(p)?O="900":/medium/i.test(p)?O="500":/light/i.test(p)&&(O="200"),E=c.tinySDF=new Ze.TinySDF(24,3,8,.25,y,O)}return{id:f,bitmap:new a.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(f))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Ze.loadGlyphRange=function(c,p,f,y,E){var O=256*p,R=O+255,U=y.transformRequest(y.normalizeGlyphsURL(f).replace("{fontstack}",c).replace("{range}",O+"-"+R),a.ResourceType.Glyphs);a.getArrayBuffer(U,function(G,ne){if(G)E(G);else if(ne){for(var Ae={},ve=0,de=a.parseGlyphPBF(ne);ve<de.length;ve+=1){var Ie=de[ve];Ae[Ie.id]=Ie}E(null,Ae)}})},Ze.TinySDF=ee;var ot=function(){this.specification=a.styleSpec.light.position};ot.prototype.possiblyEvaluate=function(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))},ot.prototype.interpolate=function(c,p,f){return{x:a.number(c.x,p.x,f),y:a.number(c.y,p.y,f),z:a.number(c.z,p.z,f)}};var We=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new ot,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),ut=function(c){function p(f){c.call(this),this._transitionable=new a.Transitionable(We),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(f,y){if(y===void 0&&(y={}),!this._validate(a.validateLight,f,y))for(var E in f){var O=f[E];a.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),O):this._transitionable.setValue(E,O)}},p.prototype.updateTransitions=function(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(f){this.properties=this._transitioning.possiblyEvaluate(f)},p.prototype._validate=function(f,y,E){return(!E||E.validate!==!1)&&a.emitValidationErrors(this,f.call(a.validateStyle,a.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},p}(a.Evented),yt=function(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};yt.prototype.getDash=function(c,p){var f=c.join(",")+String(p);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(c,p)),this.dashEntry[f]},yt.prototype.getDashRanges=function(c,p,f){var y=[],E=c.length%2==1?-c[c.length-1]*f:0,O=c[0]*f,R=!0;y.push({left:E,right:O,isDash:R,zeroLength:c[0]===0});for(var U=c[0],G=1;G<c.length;G++){var ne=c[G];y.push({left:E=U*f,right:O=(U+=ne)*f,isDash:R=!R,zeroLength:ne===0})}return y},yt.prototype.addRoundDash=function(c,p,f){for(var y=p/2,E=-f;E<=f;E++)for(var O=this.width*(this.nextRow+f+E),R=0,U=c[R],G=0;G<this.width;G++){G/U.right>1&&(U=c[++R]);var ne=Math.abs(G-U.left),Ae=Math.abs(G-U.right),ve=Math.min(ne,Ae),de=void 0,Ie=E/f*(y+1);if(U.isDash){var Pe=y-Math.abs(Ie);de=Math.sqrt(ve*ve+Pe*Pe)}else de=y-Math.sqrt(ve*ve+Ie*Ie);this.data[O+G]=Math.max(0,Math.min(255,de+128))}},yt.prototype.addRegularDash=function(c){for(var p=c.length-1;p>=0;--p){var f=c[p],y=c[p+1];f.zeroLength?c.splice(p,1):y&&y.isDash===f.isDash&&(y.left=f.left,c.splice(p,1))}var E=c[0],O=c[c.length-1];E.isDash===O.isDash&&(E.left=O.left-this.width,O.right=E.right+this.width);for(var R=this.width*this.nextRow,U=0,G=c[U],ne=0;ne<this.width;ne++){ne/G.right>1&&(G=c[++U]);var Ae=Math.abs(ne-G.left),ve=Math.abs(ne-G.right),de=Math.min(Ae,ve);this.data[R+ne]=Math.max(0,Math.min(255,(G.isDash?de:-de)+128))}},yt.prototype.addDash=function(c,p){var f=p?7:0,y=2*f+1;if(this.nextRow+y>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var E=0,O=0;O<c.length;O++)E+=c[O];if(E!==0){var R=this.width/E,U=this.getDashRanges(c,this.width,R);p?this.addRoundDash(U,R,f):this.addRegularDash(U)}var G={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:E};return this.nextRow+=y,this.dirty=!0,G},yt.prototype.bind=function(c){var p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var Bt=function c(p,f){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var y=this.workerPool.acquire(this.id),E=0;E<y.length;E++){var O=new c.Actor(y[E],f,this.id);O.name="Worker "+E,this.actors.push(O)}};function Yt(c,p,f){var y=function(E,O){if(E)return f(E);if(O){var R=a.pick(a.extend(O,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);O.vector_layers&&(R.vectorLayers=O.vector_layers,R.vectorLayerIds=R.vectorLayers.map(function(U){return U.id})),R.tiles=p.canonicalizeTileset(R,c.url),f(null,R)}};return c.url?a.getJSON(p.transformRequest(p.normalizeSourceURL(c.url),a.ResourceType.Source),y):a.browser.frame(function(){return y(null,c)})}Bt.prototype.broadcast=function(c,p,f){a.asyncAll(this.actors,function(y,E){y.send(c,p,E)},f=f||function(){})},Bt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Bt.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},Bt.Actor=a.Actor;var pn=function(c,p,f){this.bounds=a.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=f||24};pn.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},pn.prototype.contains=function(c){var p=Math.pow(2,c.z),f=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),O=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=f&&c.x<E&&c.y>=y&&c.y<O};var xn=function(c){function p(f,y,E,O){if(c.call(this),this.id=f,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(y,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(O)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new pn(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles,f.map._requestManager._customAccessToken),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken,f.map._requestManager._customAccessToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setSourceProperty=function(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(f){var y=this;return this.setSourceProperty(function(){y._options.tiles=f}),this},p.prototype.setUrl=function(f){var y=this;return this.setSourceProperty(function(){y.url=f,y._options.url=f}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),O={request:this.map._requestManager.transformRequest(E,a.ResourceType.Tile),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function R(U,G){return delete f.request,f.aborted?y(null):U&&U.status!==404?y(U):(G&&G.resourceTiming&&(f.resourceTiming=G.resourceTiming),this.map._refreshExpiredTiles&&G&&f.setExpiryData(G),f.loadVectorData(G,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}O.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired"?f.state==="loading"?f.reloadCallback=y:f.request=f.actor.send("reloadTile",O,R.bind(this)):(f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",O,R.bind(this)))},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(a.Evented),at=function(c){function p(f,y,E,O){c.call(this),this.id=f,this.dispatcher=E,this.setEventedParent(O),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},y),a.extend(this,a.pick(y,["url","scheme","tileSize"]))}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new pn(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.loadTile=function(f,y){var E=this,O=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);f.request=a.getImage(this.map._requestManager.transformRequest(O,a.ResourceType.Tile),function(R,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(R)f.state="errored",y(R);else if(U){E.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var G=E.map.painter.context,ne=G.gl;f.texture=E.map.painter.getTileTexture(U.width),f.texture?f.texture.update(U,{useMipmap:!0}):(f.texture=new a.Texture(G,U,ne.RGBA,{useMipmap:!0}),f.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),G.extTextureFilterAnisotropic&&ne.texParameterf(ne.TEXTURE_2D,G.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,G.extTextureFilterAnisotropicMax)),f.state="loaded",a.cacheEntryPossiblyAdded(E.dispatcher),y(null)}})},p.prototype.abortTile=function(f,y){f.request&&(f.request.cancel(),delete f.request),y()},p.prototype.unloadTile=function(f,y){f.texture&&this.map.painter.saveTileTexture(f.texture),y()},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Me=function(c){function p(f,y,E,O){c.call(this,f,y,E,O),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function O(R,U){R&&(f.state="errored",y(R)),U&&(f.dem=U,f.needsHillshadePrepare=!0,f.state="loaded",y(null))}f.request=a.getImage(this.map._requestManager.transformRequest(E,a.ResourceType.Tile),function(R,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(R)f.state="errored",y(R);else if(U){this.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var G=a.window.ImageBitmap&&U instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?U:a.browser.getImageData(U,1),ne={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:G,encoding:this.encoding};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",ne,O.bind(this)))}}.bind(this)),f.neighboringTiles=this._getNeighboringTiles(f.tileID)},p.prototype._getNeighboringTiles=function(f){var y=f.canonical,E=Math.pow(2,y.z),O=(y.x-1+E)%E,R=y.x===0?f.wrap-1:f.wrap,U=(y.x+1+E)%E,G=y.x+1===E?f.wrap+1:f.wrap,ne={};return ne[new a.OverscaledTileID(f.overscaledZ,R,y.z,O,y.y).key]={backfilled:!1},ne[new a.OverscaledTileID(f.overscaledZ,G,y.z,U,y.y).key]={backfilled:!1},y.y>0&&(ne[new a.OverscaledTileID(f.overscaledZ,R,y.z,O,y.y-1).key]={backfilled:!1},ne[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},ne[new a.OverscaledTileID(f.overscaledZ,G,y.z,U,y.y-1).key]={backfilled:!1}),y.y+1<E&&(ne[new a.OverscaledTileID(f.overscaledZ,R,y.z,O,y.y+1).key]={backfilled:!1},ne[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},ne[new a.OverscaledTileID(f.overscaledZ,G,y.z,U,y.y+1).key]={backfilled:!1}),ne},p.prototype.unloadTile=function(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&f.actor.send("removeDEMTile",{uid:f.uid,source:this.id})},p}(at),Oe=function(c){function p(f,y,E,O){c.call(this),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(O),this._data=y.data,this._options=a.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var R=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*R,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*R,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:a.EXTENT,radius:(y.clusterRadius||50)*R,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)f.fire(new a.ErrorEvent(y));else{var E={dataType:"source",sourceDataType:"metadata"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(E.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new a.Event("data",E))}})},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setData=function(f){var y=this;return this._data=f,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)y.fire(new a.ErrorEvent(E));else{var O={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(O.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new a.Event("data",O))}}),this},p.prototype.getClusterExpansionZoom=function(f,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},y),this},p.prototype.getClusterChildren=function(f,y){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},y),this},p.prototype.getClusterLeaves=function(f,y,E,O){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:y,offset:E},O),this},p.prototype._updateWorkerData=function(f){var y=this;this._loaded=!1;var E=a.extend({},this.workerOptions),O=this._data;typeof O=="string"?(E.request=this.map._requestManager.transformRequest(a.browser.resolveURL(O),a.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(O),this.actor.send(this.type+".loadData",E,function(R,U){y._removed||U&&U.abandoned||(y._loaded=!0,U&&U.resourceTiming&&U.resourceTiming[y.id]&&(y._resourceTiming=U.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:E.source},null),f(R))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(f,y){var E=this,O=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(O,{type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(R,U){return delete f.request,f.unloadVectorData(),f.aborted?y(null):R?y(R):(f.loadVectorData(U,E.map.painter,O==="reloadTile"),y(null))})},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0},p.prototype.unloadTile=function(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(a.Evented),oe=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ge=function(c){function p(f,y,E,O){c.call(this),this.id=f,this.dispatcher=E,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(O),this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(f,y){var E=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(O,R){E._loaded=!0,O?E.fire(new a.ErrorEvent(O)):R&&(E.image=R,f&&(E.coordinates=f),y&&y(),E._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(f){var y=this;return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setCoordinates=function(f){var y=this;this.coordinates=f;var E=f.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(R){for(var U=1/0,G=1/0,ne=-1/0,Ae=-1/0,ve=0,de=R;ve<de.length;ve+=1){var Ie=de[ve];U=Math.min(U,Ie.x),G=Math.min(G,Ie.y),ne=Math.max(ne,Ie.x),Ae=Math.max(Ae,Ie.y)}var Pe=Math.max(ne-U,Ae-G),ze=Math.max(0,Math.floor(-Math.log(Pe)/Math.LN2)),ke=Math.pow(2,ze);return new a.CanonicalTileID(ze,Math.floor((U+ne)/2*ke),Math.floor((G+Ae)/2*ke))}(E),this.minzoom=this.maxzoom=this.tileID.z;var O=E.map(function(R){return y.tileID.getTilePoint(R)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(O[0].x,O[0].y,0,0),this._boundsArray.emplaceBack(O[1].x,O[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(O[3].x,O[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(O[2].x,O[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,oe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var O=this.tiles[E];O.state!=="loaded"&&(O.state="loaded",O.texture=this.texture)}}},p.prototype.loadTile=function(f,y){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},y(null)):(f.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Mt=function(c){function p(f,y,E,O){c.call(this,f,y,E,O),this.roundZoom=!0,this.type="video",this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1;var y=this.options;this.urls=[];for(var E=0,O=y.urls;E<O.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(O[E],a.ResourceType.Source).url);a.getVideo(this.urls,function(R,U){f._loaded=!0,R?f.fire(new a.ErrorEvent(R)):U&&(f.video=U,f.video.loop=!0,f.video.addEventListener("playing",function(){f.map.triggerRepaint()}),f.map&&f.video.play(),f._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(f){if(this.video){var y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=f}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,oe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var O=this.tiles[E];O.state!=="loaded"&&(O.state="loaded",O.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(ge),un=function(c){function p(f,y,E,O){c.call(this,f,y,E,O),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(R){return!Array.isArray(R)||R.length!==2||R.some(function(U){return typeof U!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,E=y.gl;for(var O in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,oe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(y,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var R=this.tiles[O];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var f=0,y=[this.canvas.width,this.canvas.height];f<y.length;f+=1){var E=y[f];if(isNaN(E)||E<=0)return!0}return!1},p}(ge),wn={vector:xn,raster:at,"raster-dem":Me,geojson:Oe,video:Mt,image:ge,canvas:un};function dn(c,p){var f=a.identity([]);return a.translate(f,f,[1,1,0]),a.scale(f,f,[.5*c.width,.5*c.height,1]),a.multiply(f,f,c.calculatePosMatrix(p.toUnwrapped()))}function Cn(c,p,f,y,E,O){var R=function(ze,ke,Be){if(ze)for(var Qe=0,et=ze;Qe<et.length;Qe+=1){var At=ke[et[Qe]];if(At&&At.source===Be&&At.type==="fill-extrusion")return!0}else for(var ht in ke){var gt=ke[ht];if(gt.source===Be&&gt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,p,c.id),U=O.maxPitchScaleFactor(),G=c.tilesIn(y,U,R);G.sort($n);for(var ne=[],Ae=0,ve=G;Ae<ve.length;Ae+=1){var de=ve[Ae];ne.push({wrappedTileID:de.tileID.wrapped().key,queryResults:de.tile.queryRenderedFeatures(p,f,c._state,de.queryGeometry,de.cameraQueryGeometry,de.scale,E,O,U,dn(c.transform,de.tileID))})}var Ie=function(ze){for(var ke={},Be={},Qe=0,et=ze;Qe<et.length;Qe+=1){var At=et[Qe],ht=At.queryResults,gt=At.wrappedTileID,Pt=Be[gt]=Be[gt]||{};for(var zt in ht)for(var Rt=ht[zt],Jt=Pt[zt]=Pt[zt]||{},mn=ke[zt]=ke[zt]||[],Tn=0,kn=Rt;Tn<kn.length;Tn+=1){var _r=kn[Tn];Jt[_r.featureIndex]||(Jt[_r.featureIndex]=!0,mn.push(_r))}}return ke}(ne);for(var Pe in Ie)Ie[Pe].forEach(function(ze){var ke=ze.feature,Be=c.getFeatureState(ke.layer["source-layer"],ke.id);ke.source=ke.layer.source,ke.layer["source-layer"]&&(ke.sourceLayer=ke.layer["source-layer"]),ke.state=Be});return Ie}function $n(c,p){var f=c.tileID,y=p.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}var Fn=function(c,p){this.max=c,this.onRemove=p,this.reset()};Fn.prototype.reset=function(){for(var c in this.data)for(var p=0,f=this.data[c];p<f.length;p+=1){var y=f[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},Fn.prototype.add=function(c,p,f){var y=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var O={value:p,timeout:void 0};if(f!==void 0&&(O.timeout=setTimeout(function(){y.remove(c,O)},f)),this.data[E].push(O),this.order.push(E),this.order.length>this.max){var R=this._getAndRemoveByKey(this.order[0]);R&&this.onRemove(R)}return this},Fn.prototype.has=function(c){return c.wrapped().key in this.data},Fn.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},Fn.prototype._getAndRemoveByKey=function(c){var p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value},Fn.prototype.getByKey=function(c){var p=this.data[c];return p?p[0].value:null},Fn.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},Fn.prototype.remove=function(c,p){if(!this.has(c))return this;var f=c.wrapped().key,y=p===void 0?0:this.data[f].indexOf(p),E=this.data[f][y];return this.data[f].splice(y,1),E.timeout&&clearTimeout(E.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(E.value),this.order.splice(this.order.indexOf(f),1),this},Fn.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},Fn.prototype.filter=function(c){var p=[];for(var f in this.data)for(var y=0,E=this.data[f];y<E.length;y+=1){var O=E[y];c(O.value)||p.push(O)}for(var R=0,U=p;R<U.length;R+=1){var G=U[R];this.remove(G.value.tileID,G)}};var Xr=function(c,p,f){this.context=c;var y=c.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Xr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Xr.prototype.updateData=function(c){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Xr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fi=function(c,p,f,y){this.length=p.length,this.attributes=f,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Fi.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fi.prototype.updateData=function(c){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)},Fi.prototype.enableAttributes=function(c,p){for(var f=0;f<this.attributes.length;f++){var y=p.attributes[this.attributes[f].name];y!==void 0&&c.enableVertexAttribArray(y)}},Fi.prototype.setVertexAttribPointers=function(c,p,f){for(var y=0;y<this.attributes.length;y++){var E=this.attributes[y],O=p.attributes[E.name];O!==void 0&&c.vertexAttribPointer(O,E.components,c[jr[E.type]],!1,this.itemSize,E.offset+this.itemSize*(f||0))}},Fi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jn=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};jn.prototype.get=function(){return this.current},jn.prototype.set=function(c){},jn.prototype.getDefault=function(){return this.default},jn.prototype.setDefault=function(){this.set(this.default)};var mi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jn),gi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)},p}(jn),Go=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)},p}(jn),Bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jn),Wi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)},p}(jn),bs=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)},p}(jn),ro=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(f){var y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)},p}(jn),Wr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)},p}(jn),Lo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}},p}(jn),io=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jn),bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}},p}(jn),Do=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)},p}(jn),la=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}},p}(jn),vt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.ONE,f.ZERO]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jn),be=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jn),Je=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)},p}(jn),Ct=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}},p}(jn),an=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)},p}(jn),Gn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)},p}(jn),Or=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)},p}(jn),On=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)},p}(jn),nr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jn),Vr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}},p}(jn),Yr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(jn),mr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}},p}(jn),Co=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}},p}(jn),Jr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1},p}(jn),ua=function(c){function p(f){c.call(this,f),this.vao=f.extVertexArrayObject}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)},p}(jn),La=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}},p}(jn),Vt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}},p}(jn),Ei=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}},p}(jn),Nr=function(c){function p(f,y){c.call(this,f),this.context=f,this.parent=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}(jn),J=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}},p}(Nr),se=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(Nr),pe=function(c,p,f,y){this.context=c,this.width=p,this.height=f;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new J(c,E),y&&(this.depthAttachment=new se(c,E))};pe.prototype.destroy=function(){var c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){var f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}c.deleteFramebuffer(this.framebuffer)};var ye=function(c,p,f){this.func=c,this.mask=p,this.range=f};ye.ReadOnly=!1,ye.ReadWrite=!0,ye.disabled=new ye(519,ye.ReadOnly,[0,1]);var Te=function(c,p,f,y,E,O){this.test=c,this.ref=p,this.mask=f,this.fail=y,this.depthFail=E,this.pass=O};Te.disabled=new Te({func:519,mask:0},0,0,7680,7680,7680);var Ue=function(c,p,f){this.blendFunction=c,this.blendColor=p,this.mask=f};Ue.disabled=new Ue(Ue.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),Ue.unblended=new Ue(Ue.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ue.alphaBlended=new Ue([1,771],a.Color.transparent,[!0,!0,!0,!0]);var He=function(c,p,f){this.enable=c,this.mode=p,this.frontFace=f};He.disabled=new He(!1,1029,2305),He.backCCW=new He(!0,1029,2305);var Ne=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mi(this),this.clearDepth=new gi(this),this.clearStencil=new Go(this),this.colorMask=new Bi(this),this.depthMask=new Wi(this),this.stencilMask=new bs(this),this.stencilFunc=new ro(this),this.stencilOp=new Wr(this),this.stencilTest=new Lo(this),this.depthRange=new io(this),this.depthTest=new bi(this),this.depthFunc=new Do(this),this.blend=new la(this),this.blendFunc=new vt(this),this.blendColor=new be(this),this.blendEquation=new Je(this),this.cullFace=new Ct(this),this.cullFaceSide=new an(this),this.frontFace=new Gn(this),this.program=new Or(this),this.activeTexture=new On(this),this.viewport=new nr(this),this.bindFramebuffer=new Vr(this),this.bindRenderbuffer=new Yr(this),this.bindTexture=new mr(this),this.bindVertexBuffer=new Co(this),this.bindElementBuffer=new Jr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ua(this),this.pixelStoreUnpack=new La(this),this.pixelStoreUnpackPremultiplyAlpha=new Vt(this),this.pixelStoreUnpackFlipY=new Ei(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};Ne.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ne.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ne.prototype.createIndexBuffer=function(c,p){return new Xr(this,c,p)},Ne.prototype.createVertexBuffer=function(c,p,f){return new Fi(this,c,p,f)},Ne.prototype.createRenderbuffer=function(c,p,f){var y=this.gl,E=y.createRenderbuffer();return this.bindRenderbuffer.set(E),y.renderbufferStorage(y.RENDERBUFFER,c,p,f),this.bindRenderbuffer.set(null),E},Ne.prototype.createFramebuffer=function(c,p,f){return new pe(this,c,p,f)},Ne.prototype.clear=function(c){var p=c.color,f=c.depth,y=this.gl,E=0;p&&(E|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(E|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y.clear(E)},Ne.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},Ne.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},Ne.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},Ne.prototype.setColorMode=function(c){a.deepEqual(c.blendFunction,Ue.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},Ne.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(c){function p(f,y,E){var O=this;c.call(this),this.id=f,this.dispatcher=E,this.on("data",function(R){R.dataType==="source"&&R.sourceDataType==="metadata"&&(O._sourceLoaded=!0),O._sourceLoaded&&!O._paused&&R.dataType==="source"&&R.sourceDataType==="content"&&(O.reload(),O.transform&&O.update(O.transform))}),this.on("error",function(){O._sourceErrored=!0}),this._source=function(R,U,G,ne){var Ae=new wn[U.type](R,U,G,ne);if(Ae.id!==R)throw new Error("Expected Source id to be "+R+" instead of "+Ae.id);return a.bindAll(["load","abort","unload","serialize","prepare"],Ae),Ae}(f,y,E,this),this._tiles={},this._cache=new Fn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(f)},p.prototype.onRemove=function(f){this._source&&this._source.onRemove&&this._source.onRemove(f)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var f in this._tiles){var y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(f,y){return this._source.loadTile(f,y)},p.prototype._unloadTile=function(f){if(this._source.unloadTile)return this._source.unloadTile(f,function(){})},p.prototype._abortTile=function(f){if(this._source.abortTile)return this._source.abortTile(f,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(f){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[y];E.upload(f),E.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return a.values(this._tiles).map(function(f){return f.tileID}).sort(ae).map(function(f){return f.key})},p.prototype.getRenderableIds=function(f){var y=this,E=[];for(var O in this._tiles)this._isIdRenderable(O,f)&&E.push(this._tiles[O]);return f?E.sort(function(R,U){var G=R.tileID,ne=U.tileID,Ae=new a.Point(G.canonical.x,G.canonical.y)._rotate(y.transform.angle),ve=new a.Point(ne.canonical.x,ne.canonical.y)._rotate(y.transform.angle);return G.overscaledZ-ne.overscaledZ||ve.y-Ae.y||ve.x-Ae.x}).map(function(R){return R.tileID.key}):E.map(function(R){return R.tileID}).sort(ae).map(function(R){return R.key})},p.prototype.hasRenderableParent=function(f){var y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var f in this._cache.reset(),this._tiles)this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")},p.prototype._reloadTile=function(f,y){var E=this._tiles[f];E&&(E.state!=="loading"&&(E.state=y),this._loadTile(E,this._tileLoaded.bind(this,E,f,y)))},p.prototype._tileLoaded=function(f,y,E,O){if(O)return f.state="errored",void(O.status!==404?this._source.fire(new a.ErrorEvent(O,{tile:f})):this.update(this.transform));f.timeAdded=a.browser.now(),E==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:f,coord:f.tileID}))},p.prototype._backfillDEM=function(f){for(var y=this.getRenderableIds(),E=0;E<y.length;E++){var O=y[E];if(f.neighboringTiles&&f.neighboringTiles[O]){var R=this.getTileByID(O);U(f,R),U(R,f)}}function U(G,ne){G.needsHillshadePrepare=!0;var Ae=ne.tileID.canonical.x-G.tileID.canonical.x,ve=ne.tileID.canonical.y-G.tileID.canonical.y,de=Math.pow(2,G.tileID.canonical.z),Ie=ne.tileID.key;Ae===0&&ve===0||Math.abs(ve)>1||(Math.abs(Ae)>1&&(Math.abs(Ae+de)===1?Ae+=de:Math.abs(Ae-de)===1&&(Ae-=de)),ne.dem&&G.dem&&(G.dem.backfillBorder(ne.dem,Ae,ve),G.neighboringTiles&&G.neighboringTiles[Ie]&&(G.neighboringTiles[Ie].backfilled=!0)))}},p.prototype.getTile=function(f){return this.getTileByID(f.key)},p.prototype.getTileByID=function(f){return this._tiles[f]},p.prototype._retainLoadedChildren=function(f,y,E,O){for(var R in this._tiles){var U=this._tiles[R];if(!(O[R]||!U.hasData()||U.tileID.overscaledZ<=y||U.tileID.overscaledZ>E)){for(var G=U.tileID;U&&U.tileID.overscaledZ>y+1;){var ne=U.tileID.scaledTo(U.tileID.overscaledZ-1);(U=this._tiles[ne.key])&&U.hasData()&&(G=ne)}for(var Ae=G;Ae.overscaledZ>y;)if(f[(Ae=Ae.scaledTo(Ae.overscaledZ-1)).key]){O[G.key]=G;break}}}},p.prototype.findLoadedParent=function(f,y){if(f.key in this._loadedParentTiles){var E=this._loadedParentTiles[f.key];return E&&E.tileID.overscaledZ>=y?E:null}for(var O=f.overscaledZ-1;O>=y;O--){var R=f.scaledTo(O),U=this._getLoadedTile(R);if(U)return U}},p.prototype._getLoadedTile=function(f){var y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)},p.prototype.updateCacheSize=function(f){var y=Math.ceil(f.width/this._source.tileSize)+1,E=Math.ceil(f.height/this._source.tileSize)+1,O=Math.floor(y*E*5),R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,O):O;this._cache.setMaxSize(R)},p.prototype.handleWrapJump=function(f){var y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){var E={};for(var O in this._tiles){var R=this._tiles[O];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+y),E[R.tileID.key]=R}for(var U in this._tiles=E,this._timers)clearTimeout(this._timers[U]),delete this._timers[U];for(var G in this._tiles)this._setTileReloadTimer(G,this._tiles[G])}},p.prototype.update=function(f){var y=this;if(this.transform=f,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Pt){return new a.OverscaledTileID(Pt.canonical.z,Pt.wrap,Pt.canonical.z,Pt.canonical.x,Pt.canonical.y)}):(E=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(Pt){return y._source.hasTile(Pt)}))):E=[];var O=f.coveringZoomLevel(this._source),R=Math.max(O-p.maxOverzooming,this._source.minzoom),U=Math.max(O+p.maxUnderzooming,this._source.minzoom),G=this._updateRetainedTiles(E,O);if(je(this._source.type)){for(var ne={},Ae={},ve=0,de=Object.keys(G);ve<de.length;ve+=1){var Ie=de[ve],Pe=G[Ie],ze=this._tiles[Ie];if(ze&&!(ze.fadeEndTime&&ze.fadeEndTime<=a.browser.now())){var ke=this.findLoadedParent(Pe,R);ke&&(this._addTile(ke.tileID),ne[ke.tileID.key]=ke.tileID),Ae[Ie]=Pe}}for(var Be in this._retainLoadedChildren(Ae,O,U,G),ne)G[Be]||(this._coveredTiles[Be]=!0,G[Be]=ne[Be])}for(var Qe in G)this._tiles[Qe].clearFadeHold();for(var et=0,At=a.keysDifference(this._tiles,G);et<At.length;et+=1){var ht=At[et],gt=this._tiles[ht];gt.hasSymbolBuckets&&!gt.holdingForFade()?gt.setHoldDuration(this.map._fadeDuration):gt.hasSymbolBuckets&&!gt.symbolFadeFinished()||this._removeTile(ht)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)},p.prototype._updateRetainedTiles=function(f,y){for(var E={},O={},R=Math.max(y-p.maxOverzooming,this._source.minzoom),U=Math.max(y+p.maxUnderzooming,this._source.minzoom),G={},ne=0,Ae=f;ne<Ae.length;ne+=1){var ve=Ae[ne],de=this._addTile(ve);E[ve.key]=ve,de.hasData()||y<this._source.maxzoom&&(G[ve.key]=ve)}this._retainLoadedChildren(G,y,U,E);for(var Ie=0,Pe=f;Ie<Pe.length;Ie+=1){var ze=Pe[Ie],ke=this._tiles[ze.key];if(!ke.hasData()){if(y+1>this._source.maxzoom){var Be=ze.children(this._source.maxzoom)[0],Qe=this.getTile(Be);if(Qe&&Qe.hasData()){E[Be.key]=Be;continue}}else{var et=ze.children(this._source.maxzoom);if(E[et[0].key]&&E[et[1].key]&&E[et[2].key]&&E[et[3].key])continue}for(var At=ke.wasRequested(),ht=ze.overscaledZ-1;ht>=R;--ht){var gt=ze.scaledTo(ht);if(O[gt.key]||(O[gt.key]=!0,!(ke=this.getTile(gt))&&At&&(ke=this._addTile(gt)),ke&&(E[gt.key]=gt,At=ke.wasRequested(),ke.hasData())))break}}}return E},p.prototype._updateLoadedParentTileCache=function(){for(var f in this._loadedParentTiles={},this._tiles){for(var y=[],E=void 0,O=this._tiles[f].tileID;O.overscaledZ>0;){if(O.key in this._loadedParentTiles){E=this._loadedParentTiles[O.key];break}y.push(O.key);var R=O.scaledTo(O.overscaledZ-1);if(E=this._getLoadedTile(R))break;O=R}for(var U=0,G=y;U<G.length;U+=1)this._loadedParentTiles[G[U]]=E}},p.prototype._addTile=function(f){var y=this._tiles[f.key];if(y)return y;(y=this._cache.getAndRemove(f))&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));var E=!!y;return E||(y=new a.Tile(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,f.key,y.state))),y?(y.uses++,this._tiles[f.key]=y,E||this._source.fire(new a.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(f,y){var E=this;f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);var O=y.getExpiryTimeout();O&&(this._timers[f]=setTimeout(function(){E._reloadTile(f,"expired"),delete E._timers[f]},O))},p.prototype._removeTile=function(f){var y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var f in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(f);this._cache.reset()},p.prototype.tilesIn=function(f,y,E){var O=this,R=[],U=this.transform;if(!U)return R;for(var G=E?U.getCameraQueryGeometry(f):f,ne=f.map(function(ht){return U.pointCoordinate(ht)}),Ae=G.map(function(ht){return U.pointCoordinate(ht)}),ve=this.getIds(),de=1/0,Ie=1/0,Pe=-1/0,ze=-1/0,ke=0,Be=Ae;ke<Be.length;ke+=1){var Qe=Be[ke];de=Math.min(de,Qe.x),Ie=Math.min(Ie,Qe.y),Pe=Math.max(Pe,Qe.x),ze=Math.max(ze,Qe.y)}for(var et=function(ht){var gt=O._tiles[ve[ht]];if(!gt.holdingForFade()){var Pt=gt.tileID,zt=Math.pow(2,U.zoom-gt.tileID.overscaledZ),Rt=y*gt.queryPadding*a.EXTENT/gt.tileSize/zt,Jt=[Pt.getTilePoint(new a.MercatorCoordinate(de,Ie)),Pt.getTilePoint(new a.MercatorCoordinate(Pe,ze))];if(Jt[0].x-Rt<a.EXTENT&&Jt[0].y-Rt<a.EXTENT&&Jt[1].x+Rt>=0&&Jt[1].y+Rt>=0){var mn=ne.map(function(kn){return Pt.getTilePoint(kn)}),Tn=Ae.map(function(kn){return Pt.getTilePoint(kn)});R.push({tile:gt,tileID:Pt,queryGeometry:mn,cameraQueryGeometry:Tn,scale:zt})}}},At=0;At<ve.length;At++)et(At);return R},p.prototype.getVisibleCoordinates=function(f){for(var y=this,E=this.getRenderableIds(f).map(function(G){return y._tiles[G].tileID}),O=0,R=E;O<R.length;O+=1){var U=R[O];U.posMatrix=this.transform.calculatePosMatrix(U.toUnwrapped())}return E},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var f in this._tiles){var y=this._tiles[f];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=a.browser.now())return!0}return!1},p.prototype.setFeatureState=function(f,y,E){this._state.updateState(f=f||"_geojsonTileLayer",y,E)},p.prototype.removeFeatureState=function(f,y,E){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,E)},p.prototype.getFeatureState=function(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(f,y,E){var O=this._tiles[f];O&&O.setDependencies(y,E)},p.prototype.reloadTilesForDependencies=function(f,y){for(var E in this._tiles)this._tiles[E].hasDependency(f,y)&&this._reloadTile(E,"reloading");this._cache.filter(function(O){return!O.hasDependency(f,y)})},p}(a.Evented);function ae(c,p){var f=Math.abs(2*c.wrap)-+(c.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return c.overscaledZ-p.overscaledZ||y-f||p.canonical.y-c.canonical.y||p.canonical.x-c.canonical.x}function je(c){return c==="raster"||c==="image"||c==="video"}function st(){return new a.window.Worker(Wt.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var Ge="mapboxgl_preloaded_worker_pool",A=function(){this.active={}};A.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<A.workerCount;)this.workers.push(new st);return this.active[c]=!0,this.workers.slice()},A.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},A.prototype.isPreloaded=function(){return!!this.active[Ge]},A.prototype.numActive=function(){return Object.keys(this.active).length};var me,Ot=Math.floor(a.browser.hardwareConcurrency/2);function $t(){return me||(me=new A),me}function ct(c,p){var f={};for(var y in c)y!=="ref"&&(f[y]=c[y]);return a.refProperties.forEach(function(E){E in p&&(f[E]=p[E])}),f}function It(c){c=c.slice();for(var p=Object.create(null),f=0;f<c.length;f++)p[c[f].id]=c[f];for(var y=0;y<c.length;y++)"ref"in c[y]&&(c[y]=ct(c[y],p[c[y].ref]));return c}A.workerCount=Math.max(Math.min(Ot,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hn(c,p,f){f.push({command:bt.addSource,args:[c,p[c]]})}function cn(c,p,f){p.push({command:bt.removeSource,args:[c]}),f[c]=!0}function Gt(c,p,f,y){cn(c,f,y),hn(c,p,f)}function dr(c,p,f){var y;for(y in c[f])if(c[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;for(y in p[f])if(p[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;return!0}function Jn(c,p,f,y,E,O){var R;for(R in p=p||{},c=c||{})c.hasOwnProperty(R)&&(a.deepEqual(c[R],p[R])||f.push({command:O,args:[y,R,p[R],E]}));for(R in p)p.hasOwnProperty(R)&&!c.hasOwnProperty(R)&&(a.deepEqual(c[R],p[R])||f.push({command:O,args:[y,R,p[R],E]}))}function Rr(c){return c.id}function gr(c,p){return c[p.id]=p,c}var lr=function(c,p){this.reset(c,p)};lr.prototype.reset=function(c,p){this.points=c||[],this._distances=[0];for(var f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},lr.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);for(var p=1,f=this._distances[p],y=c*this.paddedLength+this.padding;f<y&&p<this._distances.length;)f=this._distances[++p];var E=p-1,O=this._distances[E],R=f-O,U=R>0?(y-O)/R:0;return this.points[E].mult(1-U).add(this.points[p].mult(U))};var vr=function(c,p,f){var y=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/f),this.yCellCount=Math.ceil(p/f);for(var O=0;O<this.xCellCount*this.yCellCount;O++)y.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function hi(c,p,f,y,E){var O=a.create();return p?(a.scale(O,O,[1/E,1/E,1]),f||a.rotateZ(O,O,y.angle)):a.multiply(O,y.labelPlaneMatrix,c),O}function Sr(c,p,f,y,E){if(p){var O=a.clone(c);return a.scale(O,O,[E,E,1]),f||a.rotateZ(O,O,-y.angle),O}return y.glCoordMatrix}function Zt(c,p){var f=[c.x,c.y,0,1];ca(f,f,p);var y=f[3];return{point:new a.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function qe(c,p){return .5+c/p*.5}function bn(c,p){var f=c[0]/c[3],y=c[1]/c[3];return f>=-p[0]&&f<=p[0]&&y>=-p[1]&&y<=p[1]}function il(c,p,f,y,E,O,R,U){var G=y?c.textSizeData:c.iconSizeData,ne=a.evaluateSizeForZoom(G,f.transform.zoom),Ae=[256/f.width*2+1,256/f.height*2+1],ve=y?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;ve.clear();for(var de=c.lineVertexArray,Ie=y?c.text.placedSymbolArray:c.icon.placedSymbolArray,Pe=f.transform.width/f.transform.height,ze=!1,ke=0;ke<Ie.length;ke++){var Be=Ie.get(ke);if(Be.hidden||Be.writingMode===a.WritingMode.vertical&&!ze)os(Be.numGlyphs,ve);else{ze=!1;var Qe=[Be.anchorX,Be.anchorY,0,1];if(a.transformMat4(Qe,Qe,p),bn(Qe,Ae)){var et=qe(f.transform.cameraToCenterDistance,Qe[3]),At=a.evaluateSizeForFeature(G,ne,Be),ht=R?At/et:At*et,gt=new a.Point(Be.anchorX,Be.anchorY),Pt=Zt(gt,E).point,zt={},Rt=Qo(Be,ht,!1,U,p,E,O,c.glyphOffsetArray,de,ve,Pt,gt,zt,Pe);ze=Rt.useVertical,(Rt.notEnoughRoom||ze||Rt.needsFlipping&&Qo(Be,ht,!0,U,p,E,O,c.glyphOffsetArray,de,ve,Pt,gt,zt,Pe).notEnoughRoom)&&os(Be.numGlyphs,ve)}else os(Be.numGlyphs,ve)}}y?c.text.dynamicLayoutVertexBuffer.updateData(ve):c.icon.dynamicLayoutVertexBuffer.updateData(ve)}function Lc(c,p,f,y,E,O,R,U,G,ne,Ae){var ve=U.glyphStartIndex+U.numGlyphs,de=U.lineStartIndex,Ie=U.lineStartIndex+U.lineLength,Pe=p.getoffsetX(U.glyphStartIndex),ze=p.getoffsetX(ve-1),ke=De(c*Pe,f,y,E,O,R,U.segment,de,Ie,G,ne,Ae);if(!ke)return null;var Be=De(c*ze,f,y,E,O,R,U.segment,de,Ie,G,ne,Ae);return Be?{first:ke,last:Be}:null}function oo(c,p,f,y){return c===a.WritingMode.horizontal&&Math.abs(f.y-p.y)>Math.abs(f.x-p.x)*y?{useVertical:!0}:(c===a.WritingMode.vertical?p.y<f.y:p.x>f.x)?{needsFlipping:!0}:null}function Qo(c,p,f,y,E,O,R,U,G,ne,Ae,ve,de,Ie){var Pe,ze=p/24,ke=c.lineOffsetX*ze,Be=c.lineOffsetY*ze;if(c.numGlyphs>1){var Qe=c.glyphStartIndex+c.numGlyphs,et=c.lineStartIndex,At=c.lineStartIndex+c.lineLength,ht=Lc(ze,U,ke,Be,f,Ae,ve,c,G,O,de);if(!ht)return{notEnoughRoom:!0};var gt=Zt(ht.first.point,R).point,Pt=Zt(ht.last.point,R).point;if(y&&!f){var zt=oo(c.writingMode,gt,Pt,Ie);if(zt)return zt}Pe=[ht.first];for(var Rt=c.glyphStartIndex+1;Rt<Qe-1;Rt++)Pe.push(De(ze*U.getoffsetX(Rt),ke,Be,f,Ae,ve,c.segment,et,At,G,O,de));Pe.push(ht.last)}else{if(y&&!f){var Jt=Zt(ve,E).point,mn=c.lineStartIndex+c.segment+1,Tn=new a.Point(G.getx(mn),G.gety(mn)),kn=Zt(Tn,E),_r=kn.signedDistanceFromCamera>0?kn.point:Dc(ve,Tn,Jt,1,E),fn=oo(c.writingMode,Jt,_r,Ie);if(fn)return fn}var Dn=De(ze*U.getoffsetX(c.glyphStartIndex),ke,Be,f,Ae,ve,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,G,O,de);if(!Dn)return{notEnoughRoom:!0};Pe=[Dn]}for(var tr=0,Vn=Pe;tr<Vn.length;tr+=1){var zn=Vn[tr];a.addDynamicAttributes(ne,zn.point,zn.angle)}return{}}function Dc(c,p,f,y,E){var O=Zt(c.add(c.sub(p)._unit()),E).point,R=f.sub(O);return f.add(R._mult(y/R.mag()))}function De(c,p,f,y,E,O,R,U,G,ne,Ae,ve){var de=y?c-p:c+p,Ie=de>0?1:-1,Pe=0;y&&(Ie*=-1,Pe=Math.PI),Ie<0&&(Pe+=Math.PI);for(var ze=Ie>0?U+R:U+R+1,ke=E,Be=E,Qe=0,et=0,At=Math.abs(de),ht=[];Qe+et<=At;){if((ze+=Ie)<U||ze>=G)return null;if(Be=ke,ht.push(ke),(ke=ve[ze])===void 0){var gt=new a.Point(ne.getx(ze),ne.gety(ze)),Pt=Zt(gt,Ae);if(Pt.signedDistanceFromCamera>0)ke=ve[ze]=Pt.point;else{var zt=ze-Ie;ke=Dc(Qe===0?O:new a.Point(ne.getx(zt),ne.gety(zt)),gt,Be,At-Qe+1,Ae)}}Qe+=et,et=Be.dist(ke)}var Rt=(At-Qe)/et,Jt=ke.sub(Be),mn=Jt.mult(Rt)._add(Be);mn._add(Jt._unit()._perp()._mult(f*Ie));var Tn=Pe+Math.atan2(ke.y-Be.y,ke.x-Be.x);return ht.push(mn),{point:mn,angle:Tn,path:ht}}vr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},vr.prototype.insert=function(c,p,f,y,E){this._forEachCell(p,f,y,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(E)},vr.prototype.insertCircle=function(c,p,f,y){this._forEachCell(p-y,f-y,p+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(f),this.circles.push(y)},vr.prototype._insertBoxCell=function(c,p,f,y,E,O){this.boxCells[E].push(O)},vr.prototype._insertCircleCell=function(c,p,f,y,E,O){this.circleCells[E].push(O)},vr.prototype._query=function(c,p,f,y,E,O){if(f<0||c>this.width||y<0||p>this.height)return!E&&[];var R=[];if(c<=0&&p<=0&&this.width<=f&&this.height<=y){if(E)return!0;for(var U=0;U<this.boxKeys.length;U++)R.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(var G=0;G<this.circleKeys.length;G++){var ne=this.circles[3*G],Ae=this.circles[3*G+1],ve=this.circles[3*G+2];R.push({key:this.circleKeys[G],x1:ne-ve,y1:Ae-ve,x2:ne+ve,y2:Ae+ve})}return O?R.filter(O):R}return this._forEachCell(c,p,f,y,this._queryCell,R,{hitTest:E,seenUids:{box:{},circle:{}}},O),E?R.length>0:R},vr.prototype._queryCircle=function(c,p,f,y,E){var O=c-f,R=c+f,U=p-f,G=p+f;if(R<0||O>this.width||G<0||U>this.height)return!y&&[];var ne=[];return this._forEachCell(O,U,R,G,this._queryCellCircle,ne,{hitTest:y,circle:{x:c,y:p,radius:f},seenUids:{box:{},circle:{}}},E),y?ne.length>0:ne},vr.prototype.query=function(c,p,f,y,E){return this._query(c,p,f,y,!1,E)},vr.prototype.hitTest=function(c,p,f,y,E){return this._query(c,p,f,y,!0,E)},vr.prototype.hitTestCircle=function(c,p,f,y){return this._queryCircle(c,p,f,!0,y)},vr.prototype._queryCell=function(c,p,f,y,E,O,R,U){var G=R.seenUids,ne=this.boxCells[E];if(ne!==null)for(var Ae=this.bboxes,ve=0,de=ne;ve<de.length;ve+=1){var Ie=de[ve];if(!G.box[Ie]){G.box[Ie]=!0;var Pe=4*Ie;if(c<=Ae[Pe+2]&&p<=Ae[Pe+3]&&f>=Ae[Pe+0]&&y>=Ae[Pe+1]&&(!U||U(this.boxKeys[Ie]))){if(R.hitTest)return O.push(!0),!0;O.push({key:this.boxKeys[Ie],x1:Ae[Pe],y1:Ae[Pe+1],x2:Ae[Pe+2],y2:Ae[Pe+3]})}}}var ze=this.circleCells[E];if(ze!==null)for(var ke=this.circles,Be=0,Qe=ze;Be<Qe.length;Be+=1){var et=Qe[Be];if(!G.circle[et]){G.circle[et]=!0;var At=3*et;if(this._circleAndRectCollide(ke[At],ke[At+1],ke[At+2],c,p,f,y)&&(!U||U(this.circleKeys[et]))){if(R.hitTest)return O.push(!0),!0;var ht=ke[At],gt=ke[At+1],Pt=ke[At+2];O.push({key:this.circleKeys[et],x1:ht-Pt,y1:gt-Pt,x2:ht+Pt,y2:gt+Pt})}}}},vr.prototype._queryCellCircle=function(c,p,f,y,E,O,R,U){var G=R.circle,ne=R.seenUids,Ae=this.boxCells[E];if(Ae!==null)for(var ve=this.bboxes,de=0,Ie=Ae;de<Ie.length;de+=1){var Pe=Ie[de];if(!ne.box[Pe]){ne.box[Pe]=!0;var ze=4*Pe;if(this._circleAndRectCollide(G.x,G.y,G.radius,ve[ze+0],ve[ze+1],ve[ze+2],ve[ze+3])&&(!U||U(this.boxKeys[Pe])))return O.push(!0),!0}}var ke=this.circleCells[E];if(ke!==null)for(var Be=this.circles,Qe=0,et=ke;Qe<et.length;Qe+=1){var At=et[Qe];if(!ne.circle[At]){ne.circle[At]=!0;var ht=3*At;if(this._circlesCollide(Be[ht],Be[ht+1],Be[ht+2],G.x,G.y,G.radius)&&(!U||U(this.circleKeys[At])))return O.push(!0),!0}}},vr.prototype._forEachCell=function(c,p,f,y,E,O,R,U){for(var G=this._convertToXCellCoord(c),ne=this._convertToYCellCoord(p),Ae=this._convertToXCellCoord(f),ve=this._convertToYCellCoord(y),de=G;de<=Ae;de++)for(var Ie=ne;Ie<=ve;Ie++)if(E.call(this,c,p,f,y,this.xCellCount*Ie+de,O,R,U))return},vr.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},vr.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},vr.prototype._circlesCollide=function(c,p,f,y,E,O){var R=y-c,U=E-p,G=f+O;return G*G>R*R+U*U},vr.prototype._circleAndRectCollide=function(c,p,f,y,E,O,R){var U=(O-y)/2,G=Math.abs(c-(y+U));if(G>U+f)return!1;var ne=(R-E)/2,Ae=Math.abs(p-(E+ne));if(Ae>ne+f)return!1;if(G<=U||Ae<=ne)return!0;var ve=G-U,de=Ae-ne;return ve*ve+de*de<=f*f};var ao=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function os(c,p){for(var f=0;f<c;f++){var y=p.length;p.resize(y+4),p.float32.set(ao,3*y)}}function ca(c,p,f){var y=p[0],E=p[1];return c[0]=f[0]*y+f[4]*E+f[12],c[1]=f[1]*y+f[5]*E+f[13],c[3]=f[3]*y+f[7]*E+f[15],c}var ai=function(c,p,f){p===void 0&&(p=new vr(c.width+200,c.height+200,25)),f===void 0&&(f=new vr(c.width+200,c.height+200,25)),this.transform=c,this.grid=p,this.ignoredGrid=f,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function fa(c,p,f){return p*(a.EXTENT/(c.tileSize*Math.pow(2,f-c.tileID.overscaledZ)))}ai.prototype.placeCollisionBox=function(c,p,f,y,E){var O=this.projectAndGetPerspectiveRatio(y,c.anchorPointX,c.anchorPointY),R=f*O.perspectiveRatio,U=c.x1*R+O.point.x,G=c.y1*R+O.point.y,ne=c.x2*R+O.point.x,Ae=c.y2*R+O.point.y;return!this.isInsideGrid(U,G,ne,Ae)||!p&&this.grid.hitTest(U,G,ne,Ae,E)?{box:[],offscreen:!1}:{box:[U,G,ne,Ae],offscreen:this.isOffscreen(U,G,ne,Ae)}},ai.prototype.placeCollisionCircles=function(c,p,f,y,E,O,R,U,G,ne,Ae,ve,de){var Ie=[],Pe=new a.Point(p.anchorX,p.anchorY),ze=Zt(Pe,O),ke=qe(this.transform.cameraToCenterDistance,ze.signedDistanceFromCamera),Be=(ne?E/ke:E*ke)/a.ONE_EM,Qe=Zt(Pe,R).point,et=Lc(Be,y,p.lineOffsetX*Be,p.lineOffsetY*Be,!1,Qe,Pe,p,f,R,{}),At=!1,ht=!1,gt=!0;if(et){for(var Pt=.5*ve*ke+de,zt=new a.Point(-100,-100),Rt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Jt=new lr,mn=et.first,Tn=et.last,kn=[],_r=mn.path.length-1;_r>=1;_r--)kn.push(mn.path[_r]);for(var fn=1;fn<Tn.path.length;fn++)kn.push(Tn.path[fn]);var Dn=2.5*Pt;if(U){var tr=kn.map(function(hs){return Zt(hs,U)});kn=tr.some(function(hs){return hs.signedDistanceFromCamera<=0})?[]:tr.map(function(hs){return hs.point})}var Vn=[];if(kn.length>0){for(var zn=kn[0].clone(),Un=kn[0].clone(),Rn=1;Rn<kn.length;Rn++)zn.x=Math.min(zn.x,kn[Rn].x),zn.y=Math.min(zn.y,kn[Rn].y),Un.x=Math.max(Un.x,kn[Rn].x),Un.y=Math.max(Un.y,kn[Rn].y);Vn=zn.x>=zt.x&&Un.x<=Rt.x&&zn.y>=zt.y&&Un.y<=Rt.y?[kn]:Un.x<zt.x||zn.x>Rt.x||Un.y<zt.y||zn.y>Rt.y?[]:a.clipLine([kn],zt.x,zt.y,Rt.x,Rt.y)}for(var An=0,qr=Vn;An<qr.length;An+=1){var Vi;Jt.reset(qr[An],.25*Pt),Vi=Jt.length<=.5*Pt?1:Math.ceil(Jt.paddedLength/Dn)+1;for(var Ii=0;Ii<Vi;Ii++){var so=Ii/Math.max(Vi-1,1),Xi=Jt.lerp(so),ci=Xi.x+100,na=Xi.y+100;Ie.push(ci,na,Pt,0);var Hi=ci-Pt,ra=na-Pt,wa=ci+Pt,hl=na+Pt;if(gt=gt&&this.isOffscreen(Hi,ra,wa,hl),ht=ht||this.isInsideGrid(Hi,ra,wa,hl),!c&&this.grid.hitTestCircle(ci,na,Pt,Ae)&&(At=!0,!G))return{circles:[],offscreen:!1,collisionDetected:At}}}}return{circles:!G&&At||!ht?[]:Ie,offscreen:gt,collisionDetected:At}},ai.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],f=1/0,y=1/0,E=-1/0,O=-1/0,R=0,U=c;R<U.length;R+=1){var G=U[R],ne=new a.Point(G.x+100,G.y+100);f=Math.min(f,ne.x),y=Math.min(y,ne.y),E=Math.max(E,ne.x),O=Math.max(O,ne.y),p.push(ne)}for(var Ae={},ve={},de=0,Ie=this.grid.query(f,y,E,O).concat(this.ignoredGrid.query(f,y,E,O));de<Ie.length;de+=1){var Pe=Ie[de],ze=Pe.key;if(Ae[ze.bucketInstanceId]===void 0&&(Ae[ze.bucketInstanceId]={}),!Ae[ze.bucketInstanceId][ze.featureIndex]){var ke=[new a.Point(Pe.x1,Pe.y1),new a.Point(Pe.x2,Pe.y1),new a.Point(Pe.x2,Pe.y2),new a.Point(Pe.x1,Pe.y2)];a.polygonIntersectsPolygon(p,ke)&&(Ae[ze.bucketInstanceId][ze.featureIndex]=!0,ve[ze.bucketInstanceId]===void 0&&(ve[ze.bucketInstanceId]=[]),ve[ze.bucketInstanceId].push(ze.featureIndex))}}return ve},ai.prototype.insertCollisionBox=function(c,p,f,y,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:E},c[0],c[1],c[2],c[3])},ai.prototype.insertCollisionCircles=function(c,p,f,y,E){for(var O=p?this.ignoredGrid:this.grid,R={bucketInstanceId:f,featureIndex:y,collisionGroupID:E},U=0;U<c.length;U+=4)O.insertCircle(R,c[U],c[U+1],c[U+2])},ai.prototype.projectAndGetPerspectiveRatio=function(c,p,f){var y=[p,f,0,1];return ca(y,y,c),{point:new a.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},ai.prototype.isOffscreen=function(c,p,f,y){return f<100||c>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},ai.prototype.isInsideGrid=function(c,p,f,y){return f>=0&&c<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},ai.prototype.getViewportMatrix=function(){var c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c};var Eo=function(c,p,f,y){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):y&&f?1:0,this.placed=f};Eo.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Wo=function(c,p,f,y,E){this.text=new Eo(c?c.text:null,p,f,E),this.icon=new Eo(c?c.icon:null,p,y,E)};Wo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var as=function(c,p,f){this.text=c,this.icon=p,this.skipFade=f},Tf=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},zi=function(c,p,f,y,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=E},ki=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function ss(c,p,f,y,E){var O=a.getAnchorAlignment(c),R=-(O.horizontalAlign-.5)*p,U=-(O.verticalAlign-.5)*f,G=a.evaluateVariableOffset(c,y);return new a.Point(R+G[0]*E,U+G[1]*E)}function wi(c,p,f,y,E,O){var R=c.x1,U=c.x2,G=c.y1,ne=c.y2,Ae=c.anchorPointX,ve=c.anchorPointY,de=new a.Point(p,f);return y&&de._rotate(E?O:-O),{x1:R+de.x,y1:G+de.y,x2:U+de.x,y2:ne+de.y,anchorPointX:Ae,anchorPointY:ve}}ki.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:function(f){return f.collisionGroupID===p}}}return this.collisionGroups[c]};var Ni=function(c,p,f,y){this.transform=c.clone(),this.collisionIndex=new ai(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ki(f),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Ml(c,p,f,y,E){c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0)}Ni.prototype.getBucketParts=function(c,p,f,y){var E=f.getBucket(p),O=f.latestFeatureIndex;if(E&&O&&p.id===E.layerIds[0]){var R=f.collisionBoxArray,U=E.layers[0].layout,G=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),ne=f.tileSize/a.EXTENT,Ae=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),ve=U.get("text-pitch-alignment")==="map",de=U.get("text-rotation-alignment")==="map",Ie=fa(f,1,this.transform.zoom),Pe=hi(Ae,ve,de,this.transform,Ie),ze=null;if(ve){var ke=Sr(Ae,ve,de,this.transform,Ie);ze=a.multiply([],this.transform.labelPlaneMatrix,ke)}this.retainedQueryData[E.bucketInstanceId]=new zi(E.bucketInstanceId,O,E.sourceLayerIndex,E.index,f.tileID);var Be={bucket:E,layout:U,posMatrix:Ae,textLabelPlaneMatrix:Pe,labelToScreenMatrix:ze,scale:G,textPixelRatio:ne,holdingForFade:f.holdingForFade(),collisionBoxArray:R,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(y)for(var Qe=0,et=E.sortKeyRanges;Qe<et.length;Qe+=1){var At=et[Qe];c.push({sortKey:At.sortKey,symbolInstanceStart:At.symbolInstanceStart,symbolInstanceEnd:At.symbolInstanceEnd,parameters:Be})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Be})}},Ni.prototype.attemptAnchorPlacement=function(c,p,f,y,E,O,R,U,G,ne,Ae,ve,de,Ie,Pe){var ze,ke=[ve.textOffset0,ve.textOffset1],Be=ss(c,f,y,ke,E),Qe=this.collisionIndex.placeCollisionBox(wi(p,Be.x,Be.y,O,R,this.transform.angle),Ae,U,G,ne.predicate);if(!Pe||this.collisionIndex.placeCollisionBox(wi(Pe,Be.x,Be.y,O,R,this.transform.angle),Ae,U,G,ne.predicate).box.length!==0)return Qe.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[ve.crossTileID]&&this.prevPlacement.placements[ve.crossTileID]&&this.prevPlacement.placements[ve.crossTileID].text&&(ze=this.prevPlacement.variableOffsets[ve.crossTileID].anchor),this.variableOffsets[ve.crossTileID]={textOffset:ke,width:f,height:y,anchor:c,textBoxScale:E,prevAnchor:ze},this.markUsedJustification(de,c,ve,Ie),de.allowVerticalPlacement&&(this.markUsedOrientation(de,Ie,ve),this.placedOrientations[ve.crossTileID]=Ie),{shift:Be,placedGlyphBoxes:Qe}):void 0},Ni.prototype.placeLayerBucketPart=function(c,p,f){var y=this,E=c.parameters,O=E.bucket,R=E.layout,U=E.posMatrix,G=E.textLabelPlaneMatrix,ne=E.labelToScreenMatrix,Ae=E.textPixelRatio,ve=E.holdingForFade,de=E.collisionBoxArray,Ie=E.partiallyEvaluatedTextSize,Pe=E.collisionGroup,ze=R.get("text-optional"),ke=R.get("icon-optional"),Be=R.get("text-allow-overlap"),Qe=R.get("icon-allow-overlap"),et=R.get("text-rotation-alignment")==="map",At=R.get("text-pitch-alignment")==="map",ht=R.get("icon-text-fit")!=="none",gt=R.get("symbol-z-order")==="viewport-y",Pt=Be&&(Qe||!O.hasIconData()||ke),zt=Qe&&(Be||!O.hasTextData()||ze);!O.collisionArrays&&de&&O.deserializeCollisionBoxes(de);var Rt=function(fn,Dn){if(!p[fn.crossTileID])if(ve)y.placements[fn.crossTileID]=new as(!1,!1,!1);else{var tr,Vn=!1,zn=!1,Un=!0,Rn=null,An={box:null,offscreen:null},qr={box:null,offscreen:null},Vi=null,Ii=null,so=0,Xi=0,ci=0;Dn.textFeatureIndex?so=Dn.textFeatureIndex:fn.useRuntimeCollisionCircles&&(so=fn.featureIndex),Dn.verticalTextFeatureIndex&&(Xi=Dn.verticalTextFeatureIndex);var na=Dn.textBox;if(na){var Hi=function(Yi){var qi=a.WritingMode.horizontal;if(O.allowVerticalPlacement&&!Yi&&y.prevPlacement){var Aa=y.prevPlacement.placedOrientations[fn.crossTileID];Aa&&(y.placedOrientations[fn.crossTileID]=Aa,y.markUsedOrientation(O,qi=Aa,fn))}return qi},ra=function(Yi,qi){if(O.allowVerticalPlacement&&fn.numVerticalGlyphVertices>0&&Dn.verticalTextBox)for(var Aa=0,oc=O.writingModes;Aa<oc.length&&(oc[Aa]===a.WritingMode.vertical?(An=qi(),qr=An):An=Yi(),!(An&&An.box&&An.box.length));Aa+=1);else An=Yi()};if(R.get("text-variable-anchor")){var wa=R.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[fn.crossTileID]){var hl=y.prevPlacement.variableOffsets[fn.crossTileID];wa.indexOf(hl.anchor)>0&&(wa=wa.filter(function(Yi){return Yi!==hl.anchor})).unshift(hl.anchor)}var hs=function(Yi,qi,Aa){for(var oc=Yi.x2-Yi.x1,Up=Yi.y2-Yi.y1,Kh=fn.textBoxScale,Uf=ht&&!Qe?qi:null,$f={box:[],offscreen:!1},Zh=Be?2*wa.length:wa.length,gu=0;gu<Zh;++gu){var jf=y.attemptAnchorPlacement(wa[gu%wa.length],Yi,oc,Up,Kh,et,At,Ae,U,Pe,gu>=wa.length,fn,O,Aa,Uf);if(jf&&($f=jf.placedGlyphBoxes)&&$f.box&&$f.box.length){Vn=!0,Rn=jf.shift;break}}return $f};ra(function(){return hs(na,Dn.iconBox,a.WritingMode.horizontal)},function(){var Yi=Dn.verticalTextBox;return O.allowVerticalPlacement&&!(An&&An.box&&An.box.length)&&fn.numVerticalGlyphVertices>0&&Yi?hs(Yi,Dn.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),An&&(Vn=An.box,Un=An.offscreen);var zf=Hi(An&&An.box);if(!Vn&&y.prevPlacement){var du=y.prevPlacement.variableOffsets[fn.crossTileID];du&&(y.variableOffsets[fn.crossTileID]=du,y.markUsedJustification(O,du.anchor,fn,zf))}}else{var Al=function(Yi,qi){var Aa=y.collisionIndex.placeCollisionBox(Yi,Be,Ae,U,Pe.predicate);return Aa&&Aa.box&&Aa.box.length&&(y.markUsedOrientation(O,qi,fn),y.placedOrientations[fn.crossTileID]=qi),Aa};ra(function(){return Al(na,a.WritingMode.horizontal)},function(){var Yi=Dn.verticalTextBox;return O.allowVerticalPlacement&&fn.numVerticalGlyphVertices>0&&Yi?Al(Yi,a.WritingMode.vertical):{box:null,offscreen:null}}),Hi(An&&An.box&&An.box.length)}}if(Vn=(tr=An)&&tr.box&&tr.box.length>0,Un=tr&&tr.offscreen,fn.useRuntimeCollisionCircles){var mu=O.text.placedSymbolArray.get(fn.centerJustifiedTextSymbolIndex),Nf=a.evaluateSizeForFeature(O.textSizeData,Ie,mu),Yc=R.get("text-padding");Vi=y.collisionIndex.placeCollisionCircles(Be,mu,O.lineVertexArray,O.glyphOffsetArray,Nf,U,G,ne,f,At,Pe.predicate,fn.collisionCircleDiameter,Yc),Vn=Be||Vi.circles.length>0&&!Vi.collisionDetected,Un=Un&&Vi.offscreen}if(Dn.iconFeatureIndex&&(ci=Dn.iconFeatureIndex),Dn.iconBox){var Qa=function(Yi){var qi=ht&&Rn?wi(Yi,Rn.x,Rn.y,et,At,y.transform.angle):Yi;return y.collisionIndex.placeCollisionBox(qi,Qe,Ae,U,Pe.predicate)};zn=qr&&qr.box&&qr.box.length&&Dn.verticalIconBox?(Ii=Qa(Dn.verticalIconBox)).box.length>0:(Ii=Qa(Dn.iconBox)).box.length>0,Un=Un&&Ii.offscreen}var Jc=ze||fn.numHorizontalGlyphVertices===0&&fn.numVerticalGlyphVertices===0,go=ke||fn.numIconVertices===0;if(Jc||go?go?Jc||(zn=zn&&Vn):Vn=zn&&Vn:zn=Vn=zn&&Vn,Vn&&tr&&tr.box&&y.collisionIndex.insertCollisionBox(tr.box,R.get("text-ignore-placement"),O.bucketInstanceId,qr&&qr.box&&Xi?Xi:so,Pe.ID),zn&&Ii&&y.collisionIndex.insertCollisionBox(Ii.box,R.get("icon-ignore-placement"),O.bucketInstanceId,ci,Pe.ID),Vi&&(Vn&&y.collisionIndex.insertCollisionCircles(Vi.circles,R.get("text-ignore-placement"),O.bucketInstanceId,so,Pe.ID),f)){var Ks=O.bucketInstanceId,ks=y.collisionCircleArrays[Ks];ks===void 0&&(ks=y.collisionCircleArrays[Ks]=new Tf);for(var ic=0;ic<Vi.circles.length;ic+=4)ks.circles.push(Vi.circles[ic+0]),ks.circles.push(Vi.circles[ic+1]),ks.circles.push(Vi.circles[ic+2]),ks.circles.push(Vi.collisionDetected?1:0)}y.placements[fn.crossTileID]=new as(Vn||Pt,zn||zt,Un||O.justReloaded),p[fn.crossTileID]=!0}};if(gt)for(var Jt=O.getSortedSymbolIndexes(this.transform.angle),mn=Jt.length-1;mn>=0;--mn){var Tn=Jt[mn];Rt(O.symbolInstances.get(Tn),O.collisionArrays[Tn])}else for(var kn=c.symbolInstanceStart;kn<c.symbolInstanceEnd;kn++)Rt(O.symbolInstances.get(kn),O.collisionArrays[kn]);if(f&&O.bucketInstanceId in this.collisionCircleArrays){var _r=this.collisionCircleArrays[O.bucketInstanceId];a.invert(_r.invProjMatrix,U),_r.viewportMatrix=this.collisionIndex.getViewportMatrix()}O.justReloaded=!1},Ni.prototype.markUsedJustification=function(c,p,f,y){var E;E=y===a.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];for(var O=0,R=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];O<R.length;O+=1){var U=R[O];U>=0&&(c.text.placedSymbolArray.get(U).crossTileID=E>=0&&U!==E?0:f.crossTileID)}},Ni.prototype.markUsedOrientation=function(c,p,f){for(var y=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,O=0,R=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];O<R.length;O+=1)c.text.placedSymbolArray.get(R[O]).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=E)},Ni.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,f=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},O=p?p.variableOffsets:{},R=p?p.placedOrientations:{};for(var U in this.placements){var G=this.placements[U],ne=E[U];ne?(this.opacities[U]=new Wo(ne,y,G.text,G.icon),f=f||G.text!==ne.text.placed||G.icon!==ne.icon.placed):(this.opacities[U]=new Wo(null,y,G.text,G.icon,G.skipFade),f=f||G.text||G.icon)}for(var Ae in E){var ve=E[Ae];if(!this.opacities[Ae]){var de=new Wo(ve,y,!1,!1);de.isHidden()||(this.opacities[Ae]=de,f=f||ve.text.placed||ve.icon.placed)}}for(var Ie in O)this.variableOffsets[Ie]||!this.opacities[Ie]||this.opacities[Ie].isHidden()||(this.variableOffsets[Ie]=O[Ie]);for(var Pe in R)this.placedOrientations[Pe]||!this.opacities[Pe]||this.opacities[Pe].isHidden()||(this.placedOrientations[Pe]=R[Pe]);f?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)},Ni.prototype.updateLayerOpacities=function(c,p){for(var f={},y=0,E=p;y<E.length;y+=1){var O=E[y],R=O.getBucket(c);R&&O.latestFeatureIndex&&c.id===R.layerIds[0]&&this.updateBucketOpacities(R,f,O.collisionBoxArray)}},Ni.prototype.updateBucketOpacities=function(c,p,f){var y=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,O=new Wo(null,0,!1,!1,!0),R=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),G=E.get("text-variable-anchor"),ne=E.get("text-rotation-alignment")==="map",Ae=E.get("text-pitch-alignment")==="map",ve=E.get("icon-text-fit")!=="none",de=new Wo(null,0,R&&(U||!c.hasIconData()||E.get("icon-optional")),U&&(R||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&f&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(f);for(var Ie=function(Be,Qe,et){for(var At=0;At<Qe/4;At++)Be.opacityVertexArray.emplaceBack(et)},Pe=function(Be){var Qe=c.symbolInstances.get(Be),et=Qe.numHorizontalGlyphVertices,At=Qe.numVerticalGlyphVertices,ht=Qe.crossTileID,gt=y.opacities[ht];p[ht]?gt=O:gt||(y.opacities[ht]=gt=de),p[ht]=!0;var Pt=Qe.numIconVertices>0,zt=y.placedOrientations[Qe.crossTileID],Rt=zt===a.WritingMode.vertical,Jt=zt===a.WritingMode.horizontal||zt===a.WritingMode.horizontalOnly;if(et>0||At>0){var mn=Mf(gt.text);Ie(c.text,et,Rt?Gu:mn),Ie(c.text,At,Jt?Gu:mn);var Tn=gt.text.isHidden();[Qe.rightJustifiedTextSymbolIndex,Qe.centerJustifiedTextSymbolIndex,Qe.leftJustifiedTextSymbolIndex].forEach(function(An){An>=0&&(c.text.placedSymbolArray.get(An).hidden=Tn||Rt?1:0)}),Qe.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Qe.verticalPlacedTextSymbolIndex).hidden=Tn||Jt?1:0);var kn=y.variableOffsets[Qe.crossTileID];kn&&y.markUsedJustification(c,kn.anchor,Qe,zt);var _r=y.placedOrientations[Qe.crossTileID];_r&&(y.markUsedJustification(c,"left",Qe,_r),y.markUsedOrientation(c,_r,Qe))}if(Pt){var fn=Mf(gt.icon),Dn=!(ve&&Qe.verticalPlacedIconSymbolIndex&&Rt);Qe.placedIconSymbolIndex>=0&&(Ie(c.icon,Qe.numIconVertices,Dn?fn:Gu),c.icon.placedSymbolArray.get(Qe.placedIconSymbolIndex).hidden=gt.icon.isHidden()),Qe.verticalPlacedIconSymbolIndex>=0&&(Ie(c.icon,Qe.numVerticalIconVertices,Dn?Gu:fn),c.icon.placedSymbolArray.get(Qe.verticalPlacedIconSymbolIndex).hidden=gt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var tr=c.collisionArrays[Be];if(tr){var Vn=new a.Point(0,0);if(tr.textBox||tr.verticalTextBox){var zn=!0;if(G){var Un=y.variableOffsets[ht];Un?(Vn=ss(Un.anchor,Un.width,Un.height,Un.textOffset,Un.textBoxScale),ne&&Vn._rotate(Ae?y.transform.angle:-y.transform.angle)):zn=!1}tr.textBox&&Ml(c.textCollisionBox.collisionVertexArray,gt.text.placed,!zn||Rt,Vn.x,Vn.y),tr.verticalTextBox&&Ml(c.textCollisionBox.collisionVertexArray,gt.text.placed,!zn||Jt,Vn.x,Vn.y)}var Rn=!!(!Jt&&tr.verticalIconBox);tr.iconBox&&Ml(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,Rn,ve?Vn.x:0,ve?Vn.y:0),tr.verticalIconBox&&Ml(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,!Rn,ve?Vn.x:0,ve?Vn.y:0)}}},ze=0;ze<c.symbolInstances.length;ze++)Pe(ze);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var ke=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ke.invProjMatrix,c.placementViewportMatrix=ke.viewportMatrix,c.collisionCircleArray=ke.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},Ni.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ni.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},Ni.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},Ni.prototype.stillRecent=function(c,p){var f=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*f>c},Ni.prototype.setStale=function(){this.stale=!0};var qu=Math.pow(2,25),Ip=Math.pow(2,24),Mp=Math.pow(2,17),ui=Math.pow(2,16),Rc=Math.pow(2,9),If=Math.pow(2,8),Wh=Math.pow(2,1);function Mf(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var p=c.placed?1:0,f=Math.floor(127*c.opacity);return f*qu+p*Ip+f*Mp+p*ui+f*Rc+p*If+f*Wh+p}var Gu=0,Qu=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Qu.prototype.continuePlacement=function(c,p,f,y,E){for(var O=this._bucketParts;this._currentTileIndex<c.length;)if(p.getBucketParts(O,y,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort(function(R,U){return R.sortKey-U.sortKey}));this._currentPartIndex<O.length;)if(p.placeLayerBucketPart(O[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,E())return!0;return!1};var Ol=function(c,p,f,y,E,O,R){this.placement=new Ni(c,E,O,R),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1};Ol.prototype.isDone=function(){return this._done},Ol.prototype.continuePlacement=function(c,p,f){for(var y=this,E=a.browser.now(),O=function(){var G=a.browser.now()-E;return!y._forceFullPlacement&&G>2};this._currentPlacementIndex>=0;){var R=p[c[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=U)&&(!R.maxzoom||R.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new Qu(R)),this._inProgressLayer.continuePlacement(f[R.source],this.placement,this._showCollisionBoxes,R,O))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ol.prototype.commit=function(c){return this.placement.commit(c),this.placement};var Fc=512/a.EXTENT/2,Bc=function(c,p,f){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(var y=0;y<p.length;y++){var E=p.get(y),O=E.key;this.indexedSymbolInstances[O]||(this.indexedSymbolInstances[O]=[]),this.indexedSymbolInstances[O].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};Bc.prototype.getScaledCoordinates=function(c,p){var f=Fc/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*a.EXTENT+c.anchorX)*f),y:Math.floor((p.canonical.y*a.EXTENT+c.anchorY)*f)}},Bc.prototype.findMatches=function(c,p,f){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),E=0;E<c.length;E++){var O=c.get(E);if(!O.crossTileID){var R=this.indexedSymbolInstances[O.key];if(R)for(var U=this.getScaledCoordinates(O,p),G=0,ne=R;G<ne.length;G+=1){var Ae=ne[G];if(Math.abs(Ae.coord.x-U.x)<=y&&Math.abs(Ae.coord.y-U.y)<=y&&!f[Ae.crossTileID]){f[Ae.crossTileID]=!0,O.crossTileID=Ae.crossTileID;break}}}}};var Wu=function(){this.maxCrossTileID=0};Wu.prototype.generate=function(){return++this.maxCrossTileID};var Ko=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ko.prototype.handleWrapJump=function(c){var p=Math.round((c-this.lng)/360);if(p!==0)for(var f in this.indexes){var y=this.indexes[f],E={};for(var O in y){var R=y[O];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+p),E[R.tileID.key]=R}this.indexes[f]=E}this.lng=c},Ko.prototype.addBucket=function(c,p,f){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var O in this.indexes){var R=this.indexes[O];if(Number(O)>c.overscaledZ)for(var U in R){var G=R[U];G.tileID.isChildOf(c)&&G.findMatches(p.symbolInstances,c,E)}else{var ne=R[c.scaledTo(Number(O)).key];ne&&ne.findMatches(p.symbolInstances,c,E)}}for(var Ae=0;Ae<p.symbolInstances.length;Ae++){var ve=p.symbolInstances.get(Ae);ve.crossTileID||(ve.crossTileID=f.generate(),E[ve.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Bc(c,p.symbolInstances,p.bucketInstanceId),!0},Ko.prototype.removeBucketCrossTileIDs=function(c,p){for(var f in p.indexedSymbolInstances)for(var y=0,E=p.indexedSymbolInstances[f];y<E.length;y+=1)delete this.usedCrossTileIDs[c][E[y].crossTileID]},Ko.prototype.removeStaleBuckets=function(c){var p=!1;for(var f in this.indexes){var y=this.indexes[f];for(var E in y)c[y[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[E]),delete y[E],p=!0)}return p};var ol=function(){this.layerIndexes={},this.crossTileIDs=new Wu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ol.prototype.addLayer=function(c,p,f){var y=this.layerIndexes[c.id];y===void 0&&(y=this.layerIndexes[c.id]=new Ko);var E=!1,O={};y.handleWrapJump(f);for(var R=0,U=p;R<U.length;R+=1){var G=U[R],ne=G.getBucket(c);ne&&c.id===ne.layerIds[0]&&(ne.bucketInstanceId||(ne.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(G.tileID,ne,this.crossTileIDs)&&(E=!0),O[ne.bucketInstanceId]=!0)}return y.removeStaleBuckets(O)&&(E=!0),E},ol.prototype.pruneUnusedLayers=function(c){var p={};for(var f in c.forEach(function(y){p[y]=!0}),this.layerIndexes)p[f]||delete this.layerIndexes[f]};var ws=function(c,p){return a.emitValidationErrors(c,p&&p.filter(function(f){return f.identifier!=="source.canvas"}))},zc=a.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),al=a.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),Ur=function(){var c={},p=a.styleSpec.$version;for(var f in a.styleSpec.$root){var y,E=a.styleSpec.$root[f];E.required&&(y=f==="version"?p:E.type==="array"?[]:{})!=null&&(c[f]=y)}return c}(),Qn=function(c){function p(f,y){var E=this;y===void 0&&(y={}),c.call(this),this.map=f,this.dispatcher=new Bt($t(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new Ze(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new yt(256,512),this.crossTileSymbolIndex=new ol,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var O=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(R){O.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:R.pluginStatus,pluginURL:R.pluginURL},function(U,G){if(a.triggerPluginCompletionEvent(U),G&&G.every(function(Ae){return Ae}))for(var ne in O.sourceCaches)O.sourceCaches[ne].reload()})}),this.on("data",function(R){if(R.dataType==="source"&&R.sourceDataType==="metadata"){var U=E.sourceCaches[R.sourceId];if(U){var G=U.getSource();if(G&&G.vectorLayerIds)for(var ne in E._layers){var Ae=E._layers[ne];Ae.source===G.id&&E._validateLayer(Ae)}}}})}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.loadURL=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var O=typeof y.validate=="boolean"?y.validate:!a.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,y.accessToken);var R=this.map._requestManager.transformRequest(f,a.ResourceType.Style);this._request=a.getJSON(R,function(U,G){E._request=null,U?E.fire(new a.ErrorEvent(U)):G&&E._load(G,O)})},p.prototype.loadJSON=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){E._request=null,E._load(f,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Ur,!1)},p.prototype._load=function(f,y){if(!y||!ws(this,a.validateStyle(f))){for(var E in this._loaded=!0,this.stylesheet=f,f.sources)this.addSource(E,f.sources[E],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs);var O=It(this.stylesheet.layers);this._order=O.map(function(ne){return ne.id}),this._layers={},this._serializedLayers={};for(var R=0,U=O;R<U.length;R+=1){var G=U[R];(G=a.createStyleLayer(G)).setEventedParent(this,{layer:{id:G.id}}),this._layers[G.id]=G,this._serializedLayers[G.id]=G.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ut(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},p.prototype._loadSprite=function(f){var y=this;this._spriteRequest=function(E,O,R){var U,G,ne,Ae=a.browser.devicePixelRatio>1?"@2x":"",ve=a.getJSON(O.transformRequest(O.normalizeSpriteURL(E,Ae,".json"),a.ResourceType.SpriteJSON),function(Pe,ze){ve=null,ne||(ne=Pe,U=ze,Ie())}),de=a.getImage(O.transformRequest(O.normalizeSpriteURL(E,Ae,".png"),a.ResourceType.SpriteImage),function(Pe,ze){de=null,ne||(ne=Pe,G=ze,Ie())});function Ie(){if(ne)R(ne);else if(U&&G){var Pe=a.browser.getImageData(G),ze={};for(var ke in U){var Be=U[ke],Qe=Be.width,et=Be.height,At=Be.x,ht=Be.y,gt=Be.sdf,Pt=Be.pixelRatio,zt=Be.stretchX,Rt=Be.stretchY,Jt=Be.content,mn=new a.RGBAImage({width:Qe,height:et});a.RGBAImage.copy(Pe,mn,{x:At,y:ht},{x:0,y:0},{width:Qe,height:et}),ze[ke]={data:mn,pixelRatio:Pt,sdf:gt,stretchX:zt,stretchY:Rt,content:Jt}}R(null,ze)}}return{cancel:function(){ve&&(ve.cancel(),ve=null),de&&(de.cancel(),de=null)}}}(f,this.map._requestManager,function(E,O){if(y._spriteRequest=null,E)y.fire(new a.ErrorEvent(E));else if(O)for(var R in O)y.imageManager.addImage(R,O[R]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new a.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(f){var y=this.sourceCaches[f.source];if(y){var E=f.sourceLayer;if(E){var O=y.getSource();(O.type==="geojson"||O.vectorLayerIds&&O.vectorLayerIds.indexOf(E)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+O.id+'" as specified by style layer "'+f.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(f){for(var y=[],E=0,O=f;E<O.length;E+=1){var R=this._layers[O[E]];R.type!=="custom"&&y.push(R.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(f){if(this._loaded){var y=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),O=Object.keys(this._removedLayers);for(var R in(E.length||O.length)&&this._updateWorkerLayers(E,O),this._updatedSources){var U=this._updatedSources[R];U==="reload"?this._reloadSource(R):U==="clear"&&this._clearSource(R)}for(var G in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[G].updateTransitions(f);this.light.updateTransitions(f),this._resetUpdates()}var ne={};for(var Ae in this.sourceCaches){var ve=this.sourceCaches[Ae];ne[Ae]=ve.used,ve.used=!1}for(var de=0,Ie=this._order;de<Ie.length;de+=1){var Pe=this._layers[Ie[de]];Pe.recalculate(f,this._availableImages),!Pe.isHidden(f.zoom)&&Pe.source&&(this.sourceCaches[Pe.source].used=!0)}for(var ze in ne){var ke=this.sourceCaches[ze];ne[ze]!==ke.used&&ke.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ze}))}this.light.recalculate(f),this.z=f.zoom,y&&this.fire(new a.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var f=Object.keys(this._changedImages);if(f.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}},p.prototype._updateWorkerLayers=function(f,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(f){var y=this;if(this._checkLoaded(),ws(this,a.validateStyle(f)))return!1;(f=a.clone$1(f)).layers=It(f.layers);var E=function(R,U){if(!R)return[{command:bt.setStyle,args:[U]}];var G=[];try{if(!a.deepEqual(R.version,U.version))return[{command:bt.setStyle,args:[U]}];a.deepEqual(R.center,U.center)||G.push({command:bt.setCenter,args:[U.center]}),a.deepEqual(R.zoom,U.zoom)||G.push({command:bt.setZoom,args:[U.zoom]}),a.deepEqual(R.bearing,U.bearing)||G.push({command:bt.setBearing,args:[U.bearing]}),a.deepEqual(R.pitch,U.pitch)||G.push({command:bt.setPitch,args:[U.pitch]}),a.deepEqual(R.sprite,U.sprite)||G.push({command:bt.setSprite,args:[U.sprite]}),a.deepEqual(R.glyphs,U.glyphs)||G.push({command:bt.setGlyphs,args:[U.glyphs]}),a.deepEqual(R.transition,U.transition)||G.push({command:bt.setTransition,args:[U.transition]}),a.deepEqual(R.light,U.light)||G.push({command:bt.setLight,args:[U.light]});var ne={},Ae=[];(function(de,Ie,Pe,ze){var ke;for(ke in Ie=Ie||{},de=de||{})de.hasOwnProperty(ke)&&(Ie.hasOwnProperty(ke)||cn(ke,Pe,ze));for(ke in Ie)Ie.hasOwnProperty(ke)&&(de.hasOwnProperty(ke)?a.deepEqual(de[ke],Ie[ke])||(de[ke].type==="geojson"&&Ie[ke].type==="geojson"&&dr(de,Ie,ke)?Pe.push({command:bt.setGeoJSONSourceData,args:[ke,Ie[ke].data]}):Gt(ke,Ie,Pe,ze)):hn(ke,Ie,Pe))})(R.sources,U.sources,Ae,ne);var ve=[];R.layers&&R.layers.forEach(function(de){ne[de.source]?G.push({command:bt.removeLayer,args:[de.id]}):ve.push(de)}),G=G.concat(Ae),function(de,Ie,Pe){Ie=Ie||[];var ze,ke,Be,Qe,et,At,ht,gt=(de=de||[]).map(Rr),Pt=Ie.map(Rr),zt=de.reduce(gr,{}),Rt=Ie.reduce(gr,{}),Jt=gt.slice(),mn=Object.create(null);for(ze=0,ke=0;ze<gt.length;ze++)Rt.hasOwnProperty(Be=gt[ze])?ke++:(Pe.push({command:bt.removeLayer,args:[Be]}),Jt.splice(Jt.indexOf(Be,ke),1));for(ze=0,ke=0;ze<Pt.length;ze++)Jt[Jt.length-1-ze]!==(Be=Pt[Pt.length-1-ze])&&(zt.hasOwnProperty(Be)?(Pe.push({command:bt.removeLayer,args:[Be]}),Jt.splice(Jt.lastIndexOf(Be,Jt.length-ke),1)):ke++,Pe.push({command:bt.addLayer,args:[Rt[Be],At=Jt[Jt.length-ze]]}),Jt.splice(Jt.length-ze,0,Be),mn[Be]=!0);for(ze=0;ze<Pt.length;ze++)if(Qe=zt[Be=Pt[ze]],et=Rt[Be],!mn[Be]&&!a.deepEqual(Qe,et))if(a.deepEqual(Qe.source,et.source)&&a.deepEqual(Qe["source-layer"],et["source-layer"])&&a.deepEqual(Qe.type,et.type)){for(ht in Jn(Qe.layout,et.layout,Pe,Be,null,bt.setLayoutProperty),Jn(Qe.paint,et.paint,Pe,Be,null,bt.setPaintProperty),a.deepEqual(Qe.filter,et.filter)||Pe.push({command:bt.setFilter,args:[Be,et.filter]}),a.deepEqual(Qe.minzoom,et.minzoom)&&a.deepEqual(Qe.maxzoom,et.maxzoom)||Pe.push({command:bt.setLayerZoomRange,args:[Be,et.minzoom,et.maxzoom]}),Qe)Qe.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(Qe[ht],et[ht],Pe,Be,ht.slice(6),bt.setPaintProperty):a.deepEqual(Qe[ht],et[ht])||Pe.push({command:bt.setLayerProperty,args:[Be,ht,et[ht]]}));for(ht in et)et.hasOwnProperty(ht)&&!Qe.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(Qe[ht],et[ht],Pe,Be,ht.slice(6),bt.setPaintProperty):a.deepEqual(Qe[ht],et[ht])||Pe.push({command:bt.setLayerProperty,args:[Be,ht,et[ht]]}))}else Pe.push({command:bt.removeLayer,args:[Be]}),At=Jt[Jt.lastIndexOf(Be)+1],Pe.push({command:bt.addLayer,args:[et,At]})}(ve,U.layers,G)}catch(de){console.warn("Unable to compute style diff:",de),G=[{command:bt.setStyle,args:[U]}]}return G}(this.serialize(),f).filter(function(R){return!(R.command in al)});if(E.length===0)return!1;var O=E.filter(function(R){return!(R.command in zc)});if(O.length>0)throw new Error("Unimplemented: "+O.map(function(R){return R.command}).join(", ")+".");return E.forEach(function(R){R.command!=="setTransition"&&y[R.command].apply(y,R.args)}),this.stylesheet=f,!0},p.prototype.addImage=function(f,y){if(this.getImage(f))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,y),this._afterImageUpdated(f)},p.prototype.updateImage=function(f,y){this.imageManager.updateImage(f,y)},p.prototype.getImage=function(f){return this.imageManager.getImage(f)},p.prototype.removeImage=function(f){if(!this.getImage(f))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)},p.prototype._afterImageUpdated=function(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(f,y,E){var O=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(a.validateStyle.source,"sources."+f,y,null,E))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var R=this.sourceCaches[f]=new xe(f,y,this.dispatcher);R.style=this,R.setEventedParent(this,function(){return{isSourceLoaded:O.loaded(),source:R.serialize(),sourceId:f}}),R.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===f)return this.fire(new a.ErrorEvent(new Error('Source "'+f+'" cannot be removed while layer "'+y+'" is using it.')));var E=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],E.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(f,y){this._checkLoaded(),this.sourceCaches[f].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()},p.prototype.addLayer=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var O=f.id;if(this.getLayer(O))this.fire(new a.ErrorEvent(new Error('Layer with id "'+O+'" already exists on this map')));else{var R;if(f.type==="custom"){if(ws(this,a.validateCustomStyleLayer(f)))return;R=a.createStyleLayer(f)}else{if(typeof f.source=="object"&&(this.addSource(O,f.source),f=a.clone$1(f),f=a.extend(f,{source:O})),this._validate(a.validateStyle.layer,"layers."+O,f,{arrayIndex:-1},E))return;R=a.createStyleLayer(f),this._validateLayer(R),R.setEventedParent(this,{layer:{id:O}}),this._serializedLayers[R.id]=R.serialize()}var U=y?this._order.indexOf(y):this._order.length;if(y&&U===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice(U,0,O),this._layerOrderChanged=!0,this._layers[O]=R,this._removedLayers[O]&&R.source&&R.type!=="custom"){var G=this._removedLayers[O];delete this._removedLayers[O],G.type!==R.type?this._updatedSources[R.source]="clear":(this._updatedSources[R.source]="reload",this.sourceCaches[R.source].pause())}this._updateLayer(R),R.onAdd&&R.onAdd(this.map)}}},p.prototype.moveLayer=function(f,y){if(this._checkLoaded(),this._changed=!0,this._layers[f]){if(f!==y){var E=this._order.indexOf(f);this._order.splice(E,1);var O=y?this._order.indexOf(y):this._order.length;y&&O===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(O,0,f),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(f){this._checkLoaded();var y=this._layers[f];if(y){y.setEventedParent(null);var E=this._order.indexOf(f);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(f){return this._layers[f]},p.prototype.hasLayer=function(f){return f in this._layers},p.prototype.setLayerZoomRange=function(f,y,E){this._checkLoaded();var O=this.getLayer(f);O?O.minzoom===y&&O.maxzoom===E||(y!=null&&(O.minzoom=y),E!=null&&(O.maxzoom=E),this._updateLayer(O)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var O=this.getLayer(f);if(O){if(!a.deepEqual(O.filter,y))return y==null?(O.filter=void 0,void this._updateLayer(O)):void(this._validate(a.validateStyle.filter,"layers."+O.id+".filter",y,null,E)||(O.filter=a.clone$1(y),this._updateLayer(O)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(f){return a.clone$1(this.getLayer(f).filter)},p.prototype.setLayoutProperty=function(f,y,E,O){O===void 0&&(O={}),this._checkLoaded();var R=this.getLayer(f);R?a.deepEqual(R.getLayoutProperty(y),E)||(R.setLayoutProperty(y,E,O),this._updateLayer(R)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(f,y){var E=this.getLayer(f);if(E)return E.getLayoutProperty(y);this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(f,y,E,O){O===void 0&&(O={}),this._checkLoaded();var R=this.getLayer(f);R?a.deepEqual(R.getPaintProperty(y),E)||(R.setPaintProperty(y,E,O)&&this._updateLayer(R),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(f,y){return this.getLayer(f).getPaintProperty(y)},p.prototype.setFeatureState=function(f,y){this._checkLoaded();var E=f.source,O=f.sourceLayer,R=this.sourceCaches[E];if(R!==void 0){var U=R.getSource().type;U==="geojson"&&O?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||O?(f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),R.setFeatureState(O,f.id,y)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(f,y){this._checkLoaded();var E=f.source,O=this.sourceCaches[E];if(O!==void 0){var R=O.getSource().type,U=R==="vector"?f.sourceLayer:void 0;R!=="vector"||U?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):O.removeFeatureState(U,f.id,y):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(f){this._checkLoaded();var y=f.source,E=f.sourceLayer,O=this.sourceCaches[y];if(O!==void 0){if(O.getSource().type!=="vector"||E)return f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),O.getFeatureState(E,f.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(f){return f.serialize()}),layers:this._serializeLayers(this._order)},function(f){return f!==void 0})},p.prototype._updateLayer=function(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(f){for(var y=this,E=function(zt){return y._layers[zt].type==="fill-extrusion"},O={},R=[],U=this._order.length-1;U>=0;U--){var G=this._order[U];if(E(G)){O[G]=U;for(var ne=0,Ae=f;ne<Ae.length;ne+=1){var ve=Ae[ne][G];if(ve)for(var de=0,Ie=ve;de<Ie.length;de+=1)R.push(Ie[de])}}}R.sort(function(zt,Rt){return Rt.intersectionZ-zt.intersectionZ});for(var Pe=[],ze=this._order.length-1;ze>=0;ze--){var ke=this._order[ze];if(E(ke))for(var Be=R.length-1;Be>=0;Be--){var Qe=R[Be].feature;if(O[Qe.layer.id]<ze)break;Pe.push(Qe),R.pop()}else for(var et=0,At=f;et<At.length;et+=1){var ht=At[et][ke];if(ht)for(var gt=0,Pt=ht;gt<Pt.length;gt+=1)Pe.push(Pt[gt].feature)}}return Pe},p.prototype.queryRenderedFeatures=function(f,y,E){y&&y.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var O={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var R=0,U=y.layers;R<U.length;R+=1){var G=U[R],ne=this._layers[G];if(!ne)return this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be queried for features."))),[];O[ne.source]=!0}}var Ae=[];for(var ve in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!O[ve]||Ae.push(Cn(this.sourceCaches[ve],this._layers,this._serializedLayers,f,y,E));return this.placement&&Ae.push(function(de,Ie,Pe,ze,ke,Be,Qe){for(var et={},At=Be.queryRenderedSymbols(ze),ht=[],gt=0,Pt=Object.keys(At).map(Number);gt<Pt.length;gt+=1)ht.push(Qe[Pt[gt]]);ht.sort($n);for(var zt=function(){var kn=Jt[Rt],_r=kn.featureIndex.lookupSymbolFeatures(At[kn.bucketInstanceId],Ie,kn.bucketIndex,kn.sourceLayerIndex,ke.filter,ke.layers,ke.availableImages,de);for(var fn in _r){var Dn=et[fn]=et[fn]||[],tr=_r[fn];tr.sort(function(Un,Rn){var An=kn.featureSortOrder;if(An){var qr=An.indexOf(Un.featureIndex);return An.indexOf(Rn.featureIndex)-qr}return Rn.featureIndex-Un.featureIndex});for(var Vn=0,zn=tr;Vn<zn.length;Vn+=1)Dn.push(zn[Vn])}},Rt=0,Jt=ht;Rt<Jt.length;Rt+=1)zt();var mn=function(kn){et[kn].forEach(function(_r){var fn=_r.feature,Dn=Pe[de[kn].source].getFeatureState(fn.layer["source-layer"],fn.id);fn.source=fn.layer.source,fn.layer["source-layer"]&&(fn.sourceLayer=fn.layer["source-layer"]),fn.state=Dn})};for(var Tn in et)mn(Tn);return et}(this._layers,this._serializedLayers,this.sourceCaches,f,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ae)},p.prototype.querySourceFeatures=function(f,y){y&&y.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var E=this.sourceCaches[f];return E?function(O,R){for(var U=O.getRenderableIds().map(function(Ie){return O.getTileByID(Ie)}),G=[],ne={},Ae=0;Ae<U.length;Ae++){var ve=U[Ae],de=ve.tileID.canonical.key;ne[de]||(ne[de]=!0,ve.querySourceFeatures(G,R))}return G}(E,y):[]},p.prototype.addSourceType=function(f,y,E){return p.getSourceType(f)?E(new Error('A source type called "'+f+'" already exists.')):(p.setSourceType(f,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:y.workerSourceURL},E):E(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(f,y){y===void 0&&(y={}),this._checkLoaded();var E=this.light.getLight(),O=!1;for(var R in f)if(!a.deepEqual(f[R],E[R])){O=!0;break}if(O){var U={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions(U)}},p.prototype._validate=function(f,y,E,O,R){return R===void 0&&(R={}),(!R||R.validate!==!1)&&ws(this,f.call(a.validateStyle,a.extend({key:y,style:this.serialize(),value:E,styleSpec:a.styleSpec},O)))},p.prototype._remove=function(){for(var f in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[f].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(f){this.sourceCaches[f].clearTiles()},p.prototype._reloadSource=function(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()},p.prototype._updateSources=function(f){for(var y in this.sourceCaches)this.sourceCaches[y].update(f)},p.prototype._generateCollisionBoxes=function(){for(var f in this.sourceCaches)this._reloadSource(f)},p.prototype._updatePlacement=function(f,y,E,O,R){R===void 0&&(R=!1);for(var U=!1,G=!1,ne={},Ae=0,ve=this._order;Ae<ve.length;Ae+=1){var de=this._layers[ve[Ae]];if(de.type==="symbol"){if(!ne[de.source]){var Ie=this.sourceCaches[de.source];ne[de.source]=Ie.getRenderableIds(!0).map(function(Qe){return Ie.getTileByID(Qe)}).sort(function(Qe,et){return et.tileID.overscaledZ-Qe.tileID.overscaledZ||(Qe.tileID.isLessThan(et.tileID)?-1:1)})}var Pe=this.crossTileSymbolIndex.addLayer(de,ne[de.source],f.center.lng);U=U||Pe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((R=R||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),f.zoom))&&(this.pauseablePlacement=new Ol(f,this._order,R,y,E,O,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ne),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),G=!0),U&&this.pauseablePlacement.placement.setStale()),G||U)for(var ze=0,ke=this._order;ze<ke.length;ze+=1){var Be=this._layers[ke[ze]];Be.type==="symbol"&&this.placement.updateLayerOpacities(Be,ne[Be.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()},p.prototype.getImages=function(f,y,E){this.imageManager.getImages(y.icons,E),this._updateTilesForChangedImages();var O=this.sourceCaches[y.source];O&&O.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(f,y,E){this.glyphManager.getGlyphs(y.stacks,E)},p.prototype.getResource=function(f,y,E){return a.makeRequest(y,E)},p}(a.Evented);Qn.getSourceType=function(c){return wn[c]},Qn.setSourceType=function(c,p){wn[c]=p},Qn.registerForPluginStateChange=a.registerForPluginStateChange;var Ro=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Tr=Fr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),nu=Fr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Of=Fr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Nc=Fr(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Op=Fr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ru=Fr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),iu=Fr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),yi=Fr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ou=Fr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),zs=Fr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),au=Fr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ns=Fr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Pi=Fr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ll=Fr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Uc=Fr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Ki=Fr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),$c=Fr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Us=Fr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Ss=Fr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),co=Fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Dl=Fr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),fo=Fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ls=Fr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),sl=Fr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Zo=Fr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),su=Fr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Fr(c,p){var f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),O=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=O?O.concat(E):E,U={};return{fragmentSource:c=c.replace(f,function(G,ne,Ae,ve,de){return U[de]=!0,ne==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
varying `+Ae+" "+ve+" "+de+`;
#else
uniform `+Ae+" "+ve+" u_"+de+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+ve+" "+de+" = u_"+de+`;
#endif
`}),vertexSource:p=p.replace(f,function(G,ne,Ae,ve,de){var Ie=ve==="float"?"vec2":"vec4",Pe=de.match(/color/)?"color":Ie;return U[de]?ne==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+Ae+" "+Ie+" a_"+de+`;
varying `+Ae+" "+ve+" "+de+`;
#else
uniform `+Ae+" "+ve+" u_"+de+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = a_"+de+`;
#else
    `+Ae+" "+ve+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = unpack_mix_"+Pe+"(a_"+de+", u_"+de+`_t);
#else
    `+Ae+" "+ve+" "+de+" = u_"+de+`;
#endif
`:ne==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+Ae+" "+Ie+" a_"+de+`;
#else
uniform `+Ae+" "+ve+" u_"+de+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+ve+" "+de+" = a_"+de+`;
#else
    `+Ae+" "+ve+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+ve+" "+de+" = unpack_mix_"+Pe+"(a_"+de+", u_"+de+`_t);
#else
    `+Ae+" "+ve+" "+de+" = u_"+de+`;
#endif
`}),staticAttributes:y,staticUniforms:R}}var ei=Object.freeze({__proto__:null,prelude:Tr,background:nu,backgroundPattern:Of,circle:Nc,clippingMask:Op,heatmap:ru,heatmapTexture:iu,collisionBox:yi,collisionCircle:ou,debug:zs,fill:au,fillOutline:Ns,fillOutlinePattern:Pi,fillPattern:Ll,fillExtrusion:Uc,fillExtrusionPattern:Ki,hillshadePrepare:$c,hillshade:Us,line:Ss,lineGradient:co,linePattern:Dl,lineSDF:fo,raster:ls,symbolIcon:sl,symbolSDF:Zo,symbolTextAndIcon:su}),Ua=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ku(c){for(var p=[],f=0;f<c.length;f++)if(c[f]!==null){var y=c[f].split(" ");p.push(y.pop())}return p}Ua.prototype.bind=function(c,p,f,y,E,O,R,U){this.context=c;for(var G=this.boundPaintVertexBuffers.length!==y.length,ne=0;!G&&ne<y.length;ne++)this.boundPaintVertexBuffers[ne]!==y[ne]&&(G=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===f&&!G&&this.boundIndexBuffer===E&&this.boundVertexOffset===O&&this.boundDynamicVertexBuffer===R&&this.boundDynamicVertexBuffer2===U?(c.bindVertexArrayOES.set(this.vao),R&&R.bind(),E&&E.dynamicDraw&&E.bind(),U&&U.bind()):this.freshBind(p,f,y,E,O,R,U)},Ua.prototype.freshBind=function(c,p,f,y,E,O,R){var U,G=c.numAttributes,ne=this.context,Ae=ne.gl;if(ne.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ne.extVertexArrayObject.createVertexArrayOES(),ne.bindVertexArrayOES.set(this.vao),U=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=O,this.boundDynamicVertexBuffer2=R;else{U=ne.currentNumAttributes||0;for(var ve=G;ve<U;ve++)Ae.disableVertexAttribArray(ve)}p.enableAttributes(Ae,c);for(var de=0,Ie=f;de<Ie.length;de+=1)Ie[de].enableAttributes(Ae,c);O&&O.enableAttributes(Ae,c),R&&R.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,E);for(var Pe=0,ze=f;Pe<ze.length;Pe+=1){var ke=ze[Pe];ke.bind(),ke.setVertexAttribPointers(Ae,c,E)}O&&(O.bind(),O.setVertexAttribPointers(Ae,c,E)),y&&y.bind(),R&&(R.bind(),R.setVertexAttribPointers(Ae,c,E)),ne.currentNumAttributes=G},Ua.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var lu=function(c,p,f,y,E,O){var R=c.gl;this.program=R.createProgram();for(var U=Ku(f.staticAttributes),G=y?y.getBinderAttributes():[],ne=U.concat(G),Ae=f.staticUniforms?Ku(f.staticUniforms):[],ve=y?y.getBinderUniforms():[],de=[],Ie=0,Pe=Ae.concat(ve);Ie<Pe.length;Ie+=1){var ze=Pe[Ie];de.indexOf(ze)<0&&de.push(ze)}var ke=y?y.defines():[];O&&ke.push("#define OVERDRAW_INSPECTOR;");var Be=ke.concat(Tr.fragmentSource,f.fragmentSource).join(`
`),Qe=ke.concat(Tr.vertexSource,f.vertexSource).join(`
`),et=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(et,Be),R.compileShader(et),R.attachShader(this.program,et);var At=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(At,Qe),R.compileShader(At),R.attachShader(this.program,At),this.attributes={};var ht={};this.numAttributes=ne.length;for(var gt=0;gt<this.numAttributes;gt++)ne[gt]&&(R.bindAttribLocation(this.program,gt,ne[gt]),this.attributes[ne[gt]]=gt);R.linkProgram(this.program),R.deleteShader(At),R.deleteShader(et);for(var Pt=0;Pt<de.length;Pt++){var zt=de[Pt];if(zt&&!ht[zt]){var Rt=R.getUniformLocation(this.program,zt);Rt&&(ht[zt]=Rt)}}this.fixedUniforms=E(c,ht),this.binderUniforms=y?y.getUniforms(c,ht):[]}}};function $s(c,p,f){var y=1/fa(f,1,p.transform.tileZoom),E=Math.pow(2,f.tileID.overscaledZ),O=f.tileSize*Math.pow(2,p.transform.tileZoom)/E,R=O*(f.tileID.canonical.x+f.tileID.wrap*E),U=O*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[R>>16,U>>16],u_pixel_coord_lower:[65535&R,65535&U]}}lu.prototype.draw=function(c,p,f,y,E,O,R,U,G,ne,Ae,ve,de,Ie,Pe,ze){var ke,Be=c.gl;if(!this.failedToCreate){for(var Qe in c.program.set(this.program),c.setDepthMode(f),c.setStencilMode(y),c.setColorMode(E),c.setCullFace(O),this.fixedUniforms)this.fixedUniforms[Qe].set(R[Qe]);Ie&&Ie.setUniforms(c,this.binderUniforms,ve,{zoom:de});for(var et=(ke={},ke[Be.LINES]=2,ke[Be.TRIANGLES]=3,ke[Be.LINE_STRIP]=1,ke)[p],At=0,ht=Ae.get();At<ht.length;At+=1){var gt=ht[At],Pt=gt.vaos||(gt.vaos={});(Pt[U]||(Pt[U]=new Ua)).bind(c,this,G,Ie?Ie.getPaintVertexBuffers():[],ne,gt.vertexOffset,Pe,ze),Be.drawElements(p,gt.primitiveLength*et,Be.UNSIGNED_SHORT,gt.primitiveOffset*et*2)}}};var Lp=function(c,p,f,y){var E=p.style.light,O=E.properties.get("position"),R=[O.x,O.y,O.z],U=a.create$1();E.properties.get("anchor")==="viewport"&&a.fromRotation(U,-p.transform.angle),a.transformMat3(R,R,U);var G=E.properties.get("color");return{u_matrix:c,u_lightpos:R,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+f,u_opacity:y}},Zu=function(c,p,f,y,E,O,R){return a.extend(Lp(c,p,f,y),$s(O,p,R),{u_height_factor:-Math.pow(2,E.overscaledZ)/R.tileSize/8})},ll=function(c){return{u_matrix:c}},js=function(c,p,f,y){return a.extend(ll(c),$s(f,p,y))},Vs=function(c,p){return{u_matrix:c,u_world:p}},Rl=function(c,p,f,y,E){return a.extend(js(c,p,f,y),{u_world:E})},Dp=function(c,p,f,y){var E,O,R=c.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var U=fa(f,1,R.zoom);E=!0,O=[U,U]}else E=!1,O=R.pixelsToGLUnits;return{u_camera_to_center_distance:R.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(p.posMatrix,f,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:O}},jc=function(c,p,f){var y=fa(f,1,p.zoom),E=Math.pow(2,p.zoom-f.tileID.overscaledZ),O=f.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*E),p.pixelsToGLUnits[1]/(y*E)],u_overscale_factor:O}},ul=function(c,p,f){return{u_matrix:c,u_inv_matrix:p,u_camera_to_center_distance:f.cameraToCenterDistance,u_viewport_size:[f.width,f.height]}},Xu=function(c,p,f){return f===void 0&&(f=1),{u_matrix:c,u_color:p,u_overlay:0,u_overlay_scale:f}},_a=function(c){return{u_matrix:c}},Fl=function(c,p,f,y){return{u_matrix:c,u_extrude_scale:fa(p,1,f),u_intensity:y}},Vc=function(c,p,f){var y=c.transform;return{u_matrix:ko(c,p,f),u_ratio:1/fa(p,1,y.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},Yu=function(c,p,f,y){return a.extend(Vc(c,p,f),{u_image:0,u_image_height:y})},Hr=function(c,p,f,y){var E=c.transform,O=Lf(p,E);return{u_matrix:ko(c,p,f),u_texsize:p.imageAtlasTexture.size,u_ratio:1/fa(p,1,E.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[O,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},Hc=function(c,p,f,y,E){var O=c.lineAtlas,R=Lf(p,c.transform),U=f.layout.get("line-cap")==="round",G=O.getDash(y.from,U),ne=O.getDash(y.to,U),Ae=G.width*E.fromScale,ve=ne.width*E.toScale;return a.extend(Vc(c,p,f),{u_patternscale_a:[R/Ae,-G.height/2],u_patternscale_b:[R/ve,-ne.height/2],u_sdfgamma:O.width/(256*Math.min(Ae,ve)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:G.y,u_tex_y_b:ne.y,u_mix:E.t})};function Lf(c,p){return 1/fa(c,1,p.tileZoom)}function ko(c,p,f){return c.translatePosMatrix(p.tileID.posMatrix,p,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}var qc=function(c,p,f,y,E){return{u_matrix:c,u_tl_parent:p,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(R=E.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(O=E.paint.get("raster-contrast"),O>0?1/(1-O):1+O),u_spin_weights:uu(E.paint.get("raster-hue-rotate"))};var O,R};function uu(c){c*=Math.PI/180;var p=Math.sin(c),f=Math.cos(c);return[(2*f+1)/3,(-Math.sqrt(3)*p-f+1)/3,(Math.sqrt(3)*p-f+1)/3]}var cl,Df=function(c,p,f,y,E,O,R,U,G,ne){var Ae=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:O,u_label_plane_matrix:R,u_coord_matrix:U,u_is_text:+G,u_pitch_with_map:+y,u_texsize:ne,u_texture:0}},po=function(c,p,f,y,E,O,R,U,G,ne,Ae){var ve=E.transform;return a.extend(Df(c,p,f,y,E,O,R,U,G,ne),{u_gamma_scale:y?Math.cos(ve._pitch)*ve.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Ae})},Ui=function(c,p,f,y,E,O,R,U,G,ne){return a.extend(po(c,p,f,y,E,O,R,U,!0,G,!0),{u_texsize_icon:ne,u_texture_icon:1})},Gc=function(c,p,f){return{u_matrix:c,u_opacity:p,u_color:f}},Ju=function(c,p,f,y,E,O){return a.extend(function(R,U,G,ne){var Ae=G.imageManager.getPattern(R.from.toString()),ve=G.imageManager.getPattern(R.to.toString()),de=G.imageManager.getPixelSize(),Ie=de.width,Pe=de.height,ze=Math.pow(2,ne.tileID.overscaledZ),ke=ne.tileSize*Math.pow(2,G.transform.tileZoom)/ze,Be=ke*(ne.tileID.canonical.x+ne.tileID.wrap*ze),Qe=ke*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:ve.tl,u_pattern_br_b:ve.br,u_texsize:[Ie,Pe],u_mix:U.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:ve.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/fa(ne,1,G.transform.tileZoom),u_pixel_coord_upper:[Be>>16,Qe>>16],u_pixel_coord_lower:[65535&Be,65535&Qe]}}(y,O,f,E),{u_matrix:c,u_opacity:p})},cu={fillExtrusion:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fillExtrusionPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_height_factor:new a.Uniform1f(c,p.u_height_factor),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fill:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},fillPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},fillOutline:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world)}},fillOutlinePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},circle:function(c,p){return{u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(c,p.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},collisionBox:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(c,p.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_overscale_factor:new a.Uniform1f(c,p.u_overscale_factor)}},collisionCircle:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_inv_matrix:new a.UniformMatrix4f(c,p.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(c,p.u_viewport_size)}},debug:function(c,p){return{u_color:new a.UniformColor(c,p.u_color),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_overlay:new a.Uniform1i(c,p.u_overlay),u_overlay_scale:new a.Uniform1f(c,p.u_overlay_scale)}},clippingMask:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmap:function(c,p){return{u_extrude_scale:new a.Uniform1f(c,p.u_extrude_scale),u_intensity:new a.Uniform1f(c,p.u_intensity),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmapTexture:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_color_ramp:new a.Uniform1i(c,p.u_color_ramp),u_opacity:new a.Uniform1f(c,p.u_opacity)}},hillshade:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_latrange:new a.Uniform2f(c,p.u_latrange),u_light:new a.Uniform2f(c,p.u_light),u_shadow:new a.UniformColor(c,p.u_shadow),u_highlight:new a.UniformColor(c,p.u_highlight),u_accent:new a.UniformColor(c,p.u_accent)}},hillshadePrepare:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_dimension:new a.Uniform2f(c,p.u_dimension),u_zoom:new a.Uniform1f(c,p.u_zoom),u_unpack:new a.Uniform4f(c,p.u_unpack)}},line:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels)}},lineGradient:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_image:new a.Uniform1i(c,p.u_image),u_image_height:new a.Uniform1f(c,p.u_image_height)}},linePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_texsize:new a.Uniform2f(c,p.u_texsize),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_image:new a.Uniform1i(c,p.u_image),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},lineSDF:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(c,p.u_patternscale_a),u_patternscale_b:new a.Uniform2f(c,p.u_patternscale_b),u_sdfgamma:new a.Uniform1f(c,p.u_sdfgamma),u_image:new a.Uniform1i(c,p.u_image),u_tex_y_a:new a.Uniform1f(c,p.u_tex_y_a),u_tex_y_b:new a.Uniform1f(c,p.u_tex_y_b),u_mix:new a.Uniform1f(c,p.u_mix)}},raster:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_tl_parent:new a.Uniform2f(c,p.u_tl_parent),u_scale_parent:new a.Uniform1f(c,p.u_scale_parent),u_buffer_scale:new a.Uniform1f(c,p.u_buffer_scale),u_fade_t:new a.Uniform1f(c,p.u_fade_t),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image0:new a.Uniform1i(c,p.u_image0),u_image1:new a.Uniform1i(c,p.u_image1),u_brightness_low:new a.Uniform1f(c,p.u_brightness_low),u_brightness_high:new a.Uniform1f(c,p.u_brightness_high),u_saturation_factor:new a.Uniform1f(c,p.u_saturation_factor),u_contrast_factor:new a.Uniform1f(c,p.u_contrast_factor),u_spin_weights:new a.Uniform3f(c,p.u_spin_weights)}},symbolIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture)}},symbolSDF:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},symbolTextAndIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texsize_icon:new a.Uniform2f(c,p.u_texsize_icon),u_texture:new a.Uniform1i(c,p.u_texture),u_texture_icon:new a.Uniform1i(c,p.u_texture_icon),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},background:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_color:new a.UniformColor(c,p.u_color)}},backgroundPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image:new a.Uniform1i(c,p.u_image),u_pattern_tl_a:new a.Uniform2f(c,p.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(c,p.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(c,p.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(c,p.u_pattern_br_b),u_texsize:new a.Uniform2f(c,p.u_texsize),u_mix:new a.Uniform1f(c,p.u_mix),u_pattern_size_a:new a.Uniform2f(c,p.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(c,p.u_pattern_size_b),u_scale_a:new a.Uniform1f(c,p.u_scale_a),u_scale_b:new a.Uniform1f(c,p.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(c,p.u_tile_units_to_pixels)}}};function fl(c,p,f,y,E,O,R){for(var U=c.context,G=U.gl,ne=c.useProgram("collisionBox"),Ae=[],ve=0,de=0,Ie=0;Ie<y.length;Ie++){var Pe=y[Ie],ze=p.getTile(Pe),ke=ze.getBucket(f);if(ke){var Be=Pe.posMatrix;E[0]===0&&E[1]===0||(Be=c.translatePosMatrix(Pe.posMatrix,ze,E,O));var Qe=R?ke.textCollisionBox:ke.iconCollisionBox,et=ke.collisionCircleArray;if(et.length>0){var At=a.create(),ht=Be;a.mul(At,ke.placementInvProjMatrix,c.transform.glCoordMatrix),a.mul(At,At,ke.placementViewportMatrix),Ae.push({circleArray:et,circleOffset:de,transform:ht,invTransform:At}),de=ve+=et.length/4}Qe&&ne.draw(U,G.LINES,ye.disabled,Te.disabled,c.colorModeForRenderPass(),He.disabled,jc(Be,c.transform,ze),f.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,null,c.transform.zoom,null,null,Qe.collisionVertexBuffer)}}if(R&&Ae.length){var gt=c.useProgram("collisionCircle"),Pt=new a.StructArrayLayout2f1f2i16;Pt.resize(4*ve),Pt._trim();for(var zt=0,Rt=0,Jt=Ae;Rt<Jt.length;Rt+=1)for(var mn=Jt[Rt],Tn=0;Tn<mn.circleArray.length/4;Tn++){var kn=4*Tn,_r=mn.circleArray[kn+0],fn=mn.circleArray[kn+1],Dn=mn.circleArray[kn+2],tr=mn.circleArray[kn+3];Pt.emplace(zt++,_r,fn,Dn,tr,0),Pt.emplace(zt++,_r,fn,Dn,tr,1),Pt.emplace(zt++,_r,fn,Dn,tr,2),Pt.emplace(zt++,_r,fn,Dn,tr,3)}(!cl||cl.length<2*ve)&&(cl=function(Vi){var Ii=2*Vi,so=new a.StructArrayLayout3ui6;so.resize(Ii),so._trim();for(var Xi=0;Xi<Ii;Xi++){var ci=6*Xi;so.uint16[ci+0]=4*Xi+0,so.uint16[ci+1]=4*Xi+1,so.uint16[ci+2]=4*Xi+2,so.uint16[ci+3]=4*Xi+2,so.uint16[ci+4]=4*Xi+3,so.uint16[ci+5]=4*Xi+0}return so}(ve));for(var Vn=U.createIndexBuffer(cl,!0),zn=U.createVertexBuffer(Pt,a.collisionCircleLayout.members,!0),Un=0,Rn=Ae;Un<Rn.length;Un+=1){var An=Rn[Un],qr=ul(An.transform,An.invTransform,c.transform);gt.draw(U,G.TRIANGLES,ye.disabled,Te.disabled,c.colorModeForRenderPass(),He.disabled,qr,f.id,zn,Vn,a.SegmentVector.simpleSegment(0,2*An.circleOffset,An.circleArray.length,An.circleArray.length/2),null,c.transform.zoom,null,null,null)}zn.destroy(),Vn.destroy()}}var ec=a.identity(new Float32Array(16));function Si(c,p,f,y,E,O){var R=a.getAnchorAlignment(c),U=-(R.horizontalAlign-.5)*p,G=-(R.verticalAlign-.5)*f,ne=a.evaluateVariableOffset(c,y);return new a.Point((U/E+ne[0])*O,(G/E+ne[1])*O)}function fu(c,p,f,y,E,O,R,U,G,ne,Ae){var ve=c.text.placedSymbolArray,de=c.text.dynamicLayoutVertexArray,Ie=c.icon.dynamicLayoutVertexArray,Pe={};de.clear();for(var ze=0;ze<ve.length;ze++){var ke=ve.get(ze),Be=ke.hidden||!ke.crossTileID||c.allowVerticalPlacement&&!ke.placedOrientation?null:y[ke.crossTileID];if(Be){var Qe=new a.Point(ke.anchorX,ke.anchorY),et=Zt(Qe,f?U:R),At=qe(O.cameraToCenterDistance,et.signedDistanceFromCamera),ht=E.evaluateSizeForFeature(c.textSizeData,ne,ke)*At/a.ONE_EM;f&&(ht*=c.tilePixelRatio/G);for(var gt=Si(Be.anchor,Be.width,Be.height,Be.textOffset,Be.textBoxScale,ht),Pt=f?Zt(Qe.add(gt),R).point:et.point.add(p?gt.rotate(-O.angle):gt),zt=c.allowVerticalPlacement&&ke.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Rt=0;Rt<ke.numGlyphs;Rt++)a.addDynamicAttributes(de,Pt,zt);Ae&&ke.associatedIconIndex>=0&&(Pe[ke.associatedIconIndex]={shiftedAnchor:Pt,angle:zt})}else os(ke.numGlyphs,de)}if(Ae){Ie.clear();for(var Jt=c.icon.placedSymbolArray,mn=0;mn<Jt.length;mn++){var Tn=Jt.get(mn);if(Tn.hidden)os(Tn.numGlyphs,Ie);else{var kn=Pe[mn];if(kn)for(var _r=0;_r<Tn.numGlyphs;_r++)a.addDynamicAttributes(Ie,kn.shiftedAnchor,kn.angle);else os(Tn.numGlyphs,Ie)}}c.icon.dynamicLayoutVertexBuffer.updateData(Ie)}c.text.dynamicLayoutVertexBuffer.updateData(de)}function Cs(c,p,f){return f.iconsInText&&p?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function Es(c,p,f,y,E,O,R,U,G,ne,Ae,ve){for(var de=c.context,Ie=de.gl,Pe=c.transform,ze=U==="map",ke=G==="map",Be=ze&&f.layout.get("symbol-placement")!=="point",Qe=ze&&!ke&&!Be,et=!f.layout.get("symbol-sort-key").isConstant(),At=!1,ht=c.depthModeForSublayer(0,ye.ReadOnly),gt=f.layout.get("text-variable-anchor"),Pt=[],zt=0,Rt=y;zt<Rt.length;zt+=1){var Jt=Rt[zt],mn=p.getTile(Jt),Tn=mn.getBucket(f);if(Tn){var kn=E?Tn.text:Tn.icon;if(kn&&kn.segments.get().length){var _r=kn.programConfigurations.get(f.id),fn=E||Tn.sdfIcons,Dn=E?Tn.textSizeData:Tn.iconSizeData,tr=ke||Pe.pitch!==0,Vn=c.useProgram(Cs(fn,E,Tn),_r),zn=a.evaluateSizeForZoom(Dn,Pe.zoom),Un=void 0,Rn=[0,0],An=void 0,qr=void 0,Vi=null,Ii=void 0;if(E)An=mn.glyphAtlasTexture,qr=Ie.LINEAR,Un=mn.glyphAtlasTexture.size,Tn.iconsInText&&(Rn=mn.imageAtlasTexture.size,Vi=mn.imageAtlasTexture,Ii=tr||c.options.rotating||c.options.zooming||Dn.kind==="composite"||Dn.kind==="camera"?Ie.LINEAR:Ie.NEAREST);else{var so=f.layout.get("icon-size").constantOr(0)!==1||Tn.iconsNeedLinear;An=mn.imageAtlasTexture,qr=fn||c.options.rotating||c.options.zooming||so||tr?Ie.LINEAR:Ie.NEAREST,Un=mn.imageAtlasTexture.size}var Xi=fa(mn,1,c.transform.zoom),ci=hi(Jt.posMatrix,ke,ze,c.transform,Xi),na=Sr(Jt.posMatrix,ke,ze,c.transform,Xi),Hi=gt&&Tn.hasTextData(),ra=f.layout.get("icon-text-fit")!=="none"&&Hi&&Tn.hasIconData();Be&&il(Tn,Jt.posMatrix,c,E,ci,na,ke,ne);var wa=c.translatePosMatrix(Jt.posMatrix,mn,O,R),hl=Be||E&&gt||ra?ec:ci,hs=c.translatePosMatrix(na,mn,O,R,!0),zf=fn&&f.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,du={program:Vn,buffers:kn,uniformValues:fn?Tn.iconsInText?Ui(Dn.kind,zn,Qe,ke,c,wa,hl,hs,Un,Rn):po(Dn.kind,zn,Qe,ke,c,wa,hl,hs,E,Un,!0):Df(Dn.kind,zn,Qe,ke,c,wa,hl,hs,E,Un),atlasTexture:An,atlasTextureIcon:Vi,atlasInterpolation:qr,atlasInterpolationIcon:Ii,isSDF:fn,hasHalo:zf};if(et&&Tn.canOverlap){At=!0;for(var Al=0,mu=kn.segments.get();Al<mu.length;Al+=1){var Nf=mu[Al];Pt.push({segments:new a.SegmentVector([Nf]),sortKey:Nf.sortKey,state:du})}}else Pt.push({segments:kn.segments,sortKey:0,state:du})}}}At&&Pt.sort(function(ks,ic){return ks.sortKey-ic.sortKey});for(var Yc=0,Qa=Pt;Yc<Qa.length;Yc+=1){var Jc=Qa[Yc],go=Jc.state;if(de.activeTexture.set(Ie.TEXTURE0),go.atlasTexture.bind(go.atlasInterpolation,Ie.CLAMP_TO_EDGE),go.atlasTextureIcon&&(de.activeTexture.set(Ie.TEXTURE1),go.atlasTextureIcon&&go.atlasTextureIcon.bind(go.atlasInterpolationIcon,Ie.CLAMP_TO_EDGE)),go.isSDF){var Ks=go.uniformValues;go.hasHalo&&(Ks.u_is_halo=1,$a(go.buffers,Jc.segments,f,c,go.program,ht,Ae,ve,Ks)),Ks.u_is_halo=0}$a(go.buffers,Jc.segments,f,c,go.program,ht,Ae,ve,go.uniformValues)}}function $a(c,p,f,y,E,O,R,U,G){var ne=y.context;E.draw(ne,ne.gl.TRIANGLES,O,R,U,He.disabled,G,f.id,c.layoutVertexBuffer,c.indexBuffer,p,f.paint,y.transform.zoom,c.programConfigurations.get(f.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function tc(c,p,f,y,E,O,R){var U,G,ne,Ae,ve,de=c.context.gl,Ie=f.paint.get("fill-pattern"),Pe=Ie&&Ie.constantOr(1),ze=f.getCrossfadeParameters();R?(G=Pe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=de.LINES):(G=Pe?"fillPattern":"fill",U=de.TRIANGLES);for(var ke=0,Be=y;ke<Be.length;ke+=1){var Qe=Be[ke],et=p.getTile(Qe);if(!Pe||et.patternsLoaded()){var At=et.getBucket(f);if(At){var ht=At.programConfigurations.get(f.id),gt=c.useProgram(G,ht);Pe&&(c.context.activeTexture.set(de.TEXTURE0),et.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),ht.updatePaintBuffers(ze));var Pt=Ie.constantOr(null);if(Pt&&et.imageAtlas){var zt=et.imageAtlas,Rt=zt.patternPositions[Pt.to.toString()],Jt=zt.patternPositions[Pt.from.toString()];Rt&&Jt&&ht.setConstantPatternPositions(Rt,Jt)}var mn=c.translatePosMatrix(Qe.posMatrix,et,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(R){Ae=At.indexBuffer2,ve=At.segments2;var Tn=[de.drawingBufferWidth,de.drawingBufferHeight];ne=G==="fillOutlinePattern"&&Pe?Rl(mn,c,ze,et,Tn):Vs(mn,Tn)}else Ae=At.indexBuffer,ve=At.segments,ne=Pe?js(mn,c,ze,et):ll(mn);gt.draw(c.context,U,E,c.stencilModeForClipping(Qe),O,He.disabled,ne,f.id,At.layoutVertexBuffer,Ae,ve,f.paint,c.transform.zoom,ht)}}}}function Xo(c,p,f,y,E,O,R){for(var U=c.context,G=U.gl,ne=f.paint.get("fill-extrusion-pattern"),Ae=ne.constantOr(1),ve=f.getCrossfadeParameters(),de=f.paint.get("fill-extrusion-opacity"),Ie=0,Pe=y;Ie<Pe.length;Ie+=1){var ze=Pe[Ie],ke=p.getTile(ze),Be=ke.getBucket(f);if(Be){var Qe=Be.programConfigurations.get(f.id),et=c.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",Qe);Ae&&(c.context.activeTexture.set(G.TEXTURE0),ke.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Qe.updatePaintBuffers(ve));var At=ne.constantOr(null);if(At&&ke.imageAtlas){var ht=ke.imageAtlas,gt=ht.patternPositions[At.to.toString()],Pt=ht.patternPositions[At.from.toString()];gt&&Pt&&Qe.setConstantPatternPositions(gt,Pt)}var zt=c.translatePosMatrix(ze.posMatrix,ke,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Rt=f.paint.get("fill-extrusion-vertical-gradient"),Jt=Ae?Zu(zt,c,Rt,de,ze,ve,ke):Lp(zt,c,Rt,de);et.draw(U,U.gl.TRIANGLES,E,O,R,He.backCCW,Jt,f.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,f.paint,c.transform.zoom,Qe)}}}function Rp(c,p,f,y,E,O){var R=c.context,U=R.gl,G=p.fbo;if(G){var ne=c.useProgram("hillshade");R.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,G.colorAttachment.get());var Ae=function(ve,de,Ie){var Pe=Ie.paint.get("hillshade-shadow-color"),ze=Ie.paint.get("hillshade-highlight-color"),ke=Ie.paint.get("hillshade-accent-color"),Be=Ie.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ie.paint.get("hillshade-illumination-anchor")==="viewport"&&(Be-=ve.transform.angle);var Qe,et,At,ht=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(de.tileID.toUnwrapped(),ht),u_image:0,u_latrange:(Qe=de.tileID,et=Math.pow(2,Qe.canonical.z),At=Qe.canonical.y,[new a.MercatorCoordinate(0,At/et).toLngLat().lat,new a.MercatorCoordinate(0,(At+1)/et).toLngLat().lat]),u_light:[Ie.paint.get("hillshade-exaggeration"),Be],u_shadow:Pe,u_highlight:ze,u_accent:ke}}(c,p,f);ne.draw(R,U.TRIANGLES,y,E,O,He.disabled,Ae,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function us(c,p,f,y,E,O){var R=c.context,U=R.gl,G=p.dem;if(G&&G.data){var ne=G.dim,Ae=G.stride,ve=G.getPixels();if(R.activeTexture.set(U.TEXTURE1),R.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||c.getTileTexture(Ae),p.demTexture){var de=p.demTexture;de.update(ve,{premultiply:!1}),de.bind(U.NEAREST,U.CLAMP_TO_EDGE)}else p.demTexture=new a.Texture(R,ve,U.RGBA,{premultiply:!1}),p.demTexture.bind(U.NEAREST,U.CLAMP_TO_EDGE);R.activeTexture.set(U.TEXTURE0);var Ie=p.fbo;if(!Ie){var Pe=new a.Texture(R,{width:ne,height:ne,data:null},U.RGBA);Pe.bind(U.LINEAR,U.CLAMP_TO_EDGE),(Ie=p.fbo=R.createFramebuffer(ne,ne,!0)).colorAttachment.set(Pe.texture)}R.bindFramebuffer.set(Ie.framebuffer),R.viewport.set([0,0,ne,ne]),c.useProgram("hillshadePrepare").draw(R,U.TRIANGLES,y,E,O,He.disabled,function(ze,ke){var Be=ke.stride,Qe=a.create();return a.ortho(Qe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Qe,Qe,[0,-a.EXTENT,0]),{u_matrix:Qe,u_image:1,u_dimension:[Be,Be],u_zoom:ze.overscaledZ,u_unpack:ke.getUnpackVector()}}(p.tileID,G),f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function pa(c,p,f,y,E){var O=y.paint.get("raster-fade-duration");if(O>0){var R=a.browser.now(),U=(R-c.timeAdded)/O,G=p?(R-p.timeAdded)/O:-1,ne=f.getSource(),Ae=E.coveringZoomLevel({tileSize:ne.tileSize,roundZoom:ne.roundZoom}),ve=!p||Math.abs(p.tileID.overscaledZ-Ae)>Math.abs(c.tileID.overscaledZ-Ae),de=ve&&c.refreshedUponExpiration?1:a.clamp(ve?U:1-G,0,1);return c.refreshedUponExpiration&&U>=1&&(c.refreshedUponExpiration=!1),p?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}var cs=new a.Color(1,0,0,1),Hs=new a.Color(0,1,0,1),Fp=new a.Color(0,0,1,1),Rf=new a.Color(1,0,1,1),Qc=new a.Color(0,1,1,1);function pu(c,p,f,y){nt(c,0,p+f/2,c.transform.width,f,y)}function qs(c,p,f,y){nt(c,p-f/2,0,f,c.transform.height,y)}function nt(c,p,f,y,E,O){var R=c.context,U=R.gl;U.enable(U.SCISSOR_TEST),U.scissor(p*a.browser.devicePixelRatio,f*a.browser.devicePixelRatio,y*a.browser.devicePixelRatio,E*a.browser.devicePixelRatio),R.clear({color:O}),U.disable(U.SCISSOR_TEST)}function Tt(c,p,f){var y=c.context,E=y.gl,O=f.posMatrix,R=c.useProgram("debug"),U=ye.disabled,G=Te.disabled,ne=c.colorModeForRenderPass();y.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),R.draw(y,E.LINE_STRIP,U,G,ne,He.disabled,Xu(O,a.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var Ae=p.getTileByID(f.key).latestRawTileData,ve=Math.floor((Ae&&Ae.byteLength||0)/1024),de=p.getTile(f).tileSize,Ie=512/Math.min(de,512)*(f.overscaledZ/c.transform.zoom)*.5,Pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Pe+=" => "+f.overscaledZ),function(ze,ke){ze.initDebugOverlayCanvas();var Be=ze.debugOverlayCanvas,Qe=ze.context.gl,et=ze.debugOverlayCanvas.getContext("2d");et.clearRect(0,0,Be.width,Be.height),et.shadowColor="white",et.shadowBlur=2,et.lineWidth=1.5,et.strokeStyle="white",et.textBaseline="top",et.font="bold 36px Open Sans, sans-serif",et.fillText(ke,5,5),et.strokeText(ke,5,5),ze.debugOverlayTexture.update(Be),ze.debugOverlayTexture.bind(Qe.LINEAR,Qe.CLAMP_TO_EDGE)}(c,Pe+" "+ve+"kb"),R.draw(y,E.TRIANGLES,U,G,Ue.alphaBlended,He.disabled,Xu(O,a.Color.transparent,Ie),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var xt={symbol:function(c,p,f,y,E){if(c.renderPass==="translucent"){var O=Te.disabled,R=c.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(U,G,ne,Ae,ve,de,Ie){for(var Pe=G.transform,ze=ve==="map",ke=de==="map",Be=0,Qe=U;Be<Qe.length;Be+=1){var et=Qe[Be],At=Ae.getTile(et),ht=At.getBucket(ne);if(ht&&ht.text&&ht.text.segments.get().length){var gt=a.evaluateSizeForZoom(ht.textSizeData,Pe.zoom),Pt=fa(At,1,G.transform.zoom),zt=hi(et.posMatrix,ke,ze,G.transform,Pt),Rt=ne.layout.get("icon-text-fit")!=="none"&&ht.hasIconData();if(gt){var Jt=Math.pow(2,Pe.zoom-At.tileID.overscaledZ);fu(ht,ze,ke,Ie,a.symbolSize,Pe,zt,et.posMatrix,Jt,gt,Rt)}}}}(y,c,f,p,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),E),f.paint.get("icon-opacity").constantOr(1)!==0&&Es(c,p,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),O,R),f.paint.get("text-opacity").constantOr(1)!==0&&Es(c,p,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),O,R),p.map.showCollisionBoxes&&(fl(c,p,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),fl(c,p,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))}},circle:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("circle-opacity"),O=f.paint.get("circle-stroke-width"),R=f.paint.get("circle-stroke-opacity"),U=!f.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)!==0||O.constantOr(1)!==0&&R.constantOr(1)!==0){for(var G=c.context,ne=G.gl,Ae=c.depthModeForSublayer(0,ye.ReadOnly),ve=Te.disabled,de=c.colorModeForRenderPass(),Ie=[],Pe=0;Pe<y.length;Pe++){var ze=y[Pe],ke=p.getTile(ze),Be=ke.getBucket(f);if(Be){var Qe=Be.programConfigurations.get(f.id),et={programConfiguration:Qe,program:c.useProgram("circle",Qe),layoutVertexBuffer:Be.layoutVertexBuffer,indexBuffer:Be.indexBuffer,uniformValues:Dp(c,ze,ke,f)};if(U)for(var At=0,ht=Be.segments.get();At<ht.length;At+=1){var gt=ht[At];Ie.push({segments:new a.SegmentVector([gt]),sortKey:gt.sortKey,state:et})}else Ie.push({segments:Be.segments,sortKey:0,state:et})}}U&&Ie.sort(function(mn,Tn){return mn.sortKey-Tn.sortKey});for(var Pt=0,zt=Ie;Pt<zt.length;Pt+=1){var Rt=zt[Pt],Jt=Rt.state;Jt.program.draw(G,ne.TRIANGLES,Ae,ve,de,He.disabled,Jt.uniformValues,f.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Rt.segments,f.paint,c.transform.zoom,Jt.programConfiguration)}}}},heatmap:function(c,p,f,y){if(f.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,O=E.gl,R=Te.disabled,U=new Ue([O.ONE,O.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Ie,Pe,ze){var ke=Ie.gl;Ie.activeTexture.set(ke.TEXTURE1),Ie.viewport.set([0,0,Pe.width/4,Pe.height/4]);var Be=ze.heatmapFbo;if(Be)ke.bindTexture(ke.TEXTURE_2D,Be.colorAttachment.get()),Ie.bindFramebuffer.set(Be.framebuffer);else{var Qe=ke.createTexture();ke.bindTexture(ke.TEXTURE_2D,Qe),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_S,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_T,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MIN_FILTER,ke.LINEAR),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MAG_FILTER,ke.LINEAR),Be=ze.heatmapFbo=Ie.createFramebuffer(Pe.width/4,Pe.height/4,!1),function(et,At,ht,gt){var Pt=et.gl;Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,At.width/4,At.height/4,0,Pt.RGBA,et.extRenderToTextureHalfFloat?et.extTextureHalfFloat.HALF_FLOAT_OES:Pt.UNSIGNED_BYTE,null),gt.colorAttachment.set(ht)}(Ie,Pe,Qe,Be)}})(E,c,f),E.clear({color:a.Color.transparent});for(var G=0;G<y.length;G++){var ne=y[G];if(!p.hasRenderableParent(ne)){var Ae=p.getTile(ne),ve=Ae.getBucket(f);if(ve){var de=ve.programConfigurations.get(f.id);c.useProgram("heatmap",de).draw(E,O.TRIANGLES,ye.disabled,R,U,He.disabled,Fl(ne.posMatrix,Ae,c.transform.zoom,f.paint.get("heatmap-intensity")),f.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,f.paint,c.transform.zoom,de)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Ie,Pe){var ze=Ie.context,ke=ze.gl,Be=Pe.heatmapFbo;if(Be){ze.activeTexture.set(ke.TEXTURE0),ke.bindTexture(ke.TEXTURE_2D,Be.colorAttachment.get()),ze.activeTexture.set(ke.TEXTURE1);var Qe=Pe.colorRampTexture;Qe||(Qe=Pe.colorRampTexture=new a.Texture(ze,Pe.colorRamp,ke.RGBA)),Qe.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),Ie.useProgram("heatmapTexture").draw(ze,ke.TRIANGLES,ye.disabled,Te.disabled,Ie.colorModeForRenderPass(),He.disabled,function(et,At,ht,gt){var Pt=a.create();a.ortho(Pt,0,et.width,et.height,0,0,1);var zt=et.context.gl;return{u_matrix:Pt,u_world:[zt.drawingBufferWidth,zt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:At.paint.get("heatmap-opacity")}}(Ie,Pe),Pe.id,Ie.viewportBuffer,Ie.quadTriangleIndexBuffer,Ie.viewportSegments,Pe.paint,Ie.transform.zoom)}}(c,f))},line:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("line-opacity"),O=f.paint.get("line-width");if(E.constantOr(1)!==0&&O.constantOr(1)!==0)for(var R=c.depthModeForSublayer(0,ye.ReadOnly),U=c.colorModeForRenderPass(),G=f.paint.get("line-dasharray"),ne=f.paint.get("line-pattern"),Ae=ne.constantOr(1),ve=f.paint.get("line-gradient"),de=f.getCrossfadeParameters(),Ie=Ae?"linePattern":G?"lineSDF":ve?"lineGradient":"line",Pe=c.context,ze=Pe.gl,ke=!0,Be=0,Qe=y;Be<Qe.length;Be+=1){var et=Qe[Be],At=p.getTile(et);if(!Ae||At.patternsLoaded()){var ht=At.getBucket(f);if(ht){var gt=ht.programConfigurations.get(f.id),Pt=c.context.program.get(),zt=c.useProgram(Ie,gt),Rt=ke||zt.program!==Pt,Jt=ne.constantOr(null);if(Jt&&At.imageAtlas){var mn=At.imageAtlas,Tn=mn.patternPositions[Jt.to.toString()],kn=mn.patternPositions[Jt.from.toString()];Tn&&kn&&gt.setConstantPatternPositions(Tn,kn)}var _r=Ae?Hr(c,At,f,de):G?Hc(c,At,f,G,de):ve?Yu(c,At,f,ht.lineClipsArray.length):Vc(c,At,f);if(Ae)Pe.activeTexture.set(ze.TEXTURE0),At.imageAtlasTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE),gt.updatePaintBuffers(de);else if(G&&(Rt||c.lineAtlas.dirty))Pe.activeTexture.set(ze.TEXTURE0),c.lineAtlas.bind(Pe);else if(ve){var fn=ht.gradients[f.id],Dn=fn.texture;if(f.gradientVersion!==fn.version){var tr=256;if(f.stepInterpolant){var Vn=p.getSource().maxzoom,zn=et.canonical.z===Vn?Math.ceil(1<<c.transform.maxZoom-et.canonical.z):1;tr=a.clamp(a.nextPowerOfTwo(ht.maxLineLength/a.EXTENT*1024*zn),256,Pe.maxTextureSize)}fn.gradient=a.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:tr,image:fn.gradient||void 0,clips:ht.lineClipsArray}),fn.texture?fn.texture.update(fn.gradient):fn.texture=new a.Texture(Pe,fn.gradient,ze.RGBA),fn.version=f.gradientVersion,Dn=fn.texture}Pe.activeTexture.set(ze.TEXTURE0),Dn.bind(f.stepInterpolant?ze.NEAREST:ze.LINEAR,ze.CLAMP_TO_EDGE)}zt.draw(Pe,ze.TRIANGLES,R,c.stencilModeForClipping(et),U,He.disabled,_r,f.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,f.paint,c.transform.zoom,gt,ht.layoutVertexBuffer2),ke=!1}}}}},fill:function(c,p,f,y){var E=f.paint.get("fill-color"),O=f.paint.get("fill-opacity");if(O.constantOr(1)!==0){var R=c.colorModeForRenderPass(),U=f.paint.get("fill-pattern"),G=c.opaquePassEnabledForLayer()&&!U.constantOr(1)&&E.constantOr(a.Color.transparent).a===1&&O.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===G){var ne=c.depthModeForSublayer(1,c.renderPass==="opaque"?ye.ReadWrite:ye.ReadOnly);tc(c,p,f,y,ne,R,!1)}if(c.renderPass==="translucent"&&f.paint.get("fill-antialias")){var Ae=c.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,ye.ReadOnly);tc(c,p,f,y,Ae,R,!0)}}},"fill-extrusion":function(c,p,f,y){var E=f.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var O=new ye(c.context.gl.LEQUAL,ye.ReadWrite,c.depthRangeFor3D);if(E!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Xo(c,p,f,y,O,Te.disabled,Ue.disabled),Xo(c,p,f,y,O,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var R=c.colorModeForRenderPass();Xo(c,p,f,y,O,Te.disabled,R)}}},hillshade:function(c,p,f,y){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,O=c.depthModeForSublayer(0,ye.ReadOnly),R=c.colorModeForRenderPass(),U=c.renderPass==="translucent"?c.stencilConfigForOverlap(y):[{},y],G=U[0],ne=0,Ae=U[1];ne<Ae.length;ne+=1){var ve=Ae[ne],de=p.getTile(ve);de.needsHillshadePrepare&&c.renderPass==="offscreen"?us(c,de,f,O,Te.disabled,R):c.renderPass==="translucent"&&Rp(c,de,f,O,G[ve.overscaledZ],R)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,p,f,y){if(c.renderPass==="translucent"&&f.paint.get("raster-opacity")!==0&&y.length)for(var E=c.context,O=E.gl,R=p.getSource(),U=c.useProgram("raster"),G=c.colorModeForRenderPass(),ne=R instanceof ge?[{},y]:c.stencilConfigForOverlap(y),Ae=ne[0],ve=ne[1],de=ve[ve.length-1].overscaledZ,Ie=!c.options.moving,Pe=0,ze=ve;Pe<ze.length;Pe+=1){var ke=ze[Pe],Be=c.depthModeForSublayer(ke.overscaledZ-de,f.paint.get("raster-opacity")===1?ye.ReadWrite:ye.ReadOnly,O.LESS),Qe=p.getTile(ke),et=c.transform.calculatePosMatrix(ke.toUnwrapped(),Ie);Qe.registerFadeDuration(f.paint.get("raster-fade-duration"));var At=p.findLoadedParent(ke,0),ht=pa(Qe,At,p,f,c.transform),gt=void 0,Pt=void 0,zt=f.paint.get("raster-resampling")==="nearest"?O.NEAREST:O.LINEAR;E.activeTexture.set(O.TEXTURE0),Qe.texture.bind(zt,O.CLAMP_TO_EDGE,O.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(O.TEXTURE1),At?(At.texture.bind(zt,O.CLAMP_TO_EDGE,O.LINEAR_MIPMAP_NEAREST),gt=Math.pow(2,At.tileID.overscaledZ-Qe.tileID.overscaledZ),Pt=[Qe.tileID.canonical.x*gt%1,Qe.tileID.canonical.y*gt%1]):Qe.texture.bind(zt,O.CLAMP_TO_EDGE,O.LINEAR_MIPMAP_NEAREST);var Rt=qc(et,Pt||[0,0],gt||1,ht,f);R instanceof ge?U.draw(E,O.TRIANGLES,Be,Te.disabled,G,He.disabled,Rt,f.id,R.boundsBuffer,c.quadTriangleIndexBuffer,R.boundsSegments):U.draw(E,O.TRIANGLES,Be,Ae[ke.overscaledZ],G,He.disabled,Rt,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,p,f){var y=f.paint.get("background-color"),E=f.paint.get("background-opacity");if(E!==0){var O=c.context,R=O.gl,U=c.transform,G=U.tileSize,ne=f.paint.get("background-pattern");if(!c.isPatternMissing(ne)){var Ae=!ne&&y.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===Ae){var ve=Te.disabled,de=c.depthModeForSublayer(0,Ae==="opaque"?ye.ReadWrite:ye.ReadOnly),Ie=c.colorModeForRenderPass(),Pe=c.useProgram(ne?"backgroundPattern":"background"),ze=U.coveringTiles({tileSize:G});ne&&(O.activeTexture.set(R.TEXTURE0),c.imageManager.bind(c.context));for(var ke=f.getCrossfadeParameters(),Be=0,Qe=ze;Be<Qe.length;Be+=1){var et=Qe[Be],At=c.transform.calculatePosMatrix(et.toUnwrapped()),ht=ne?Ju(At,E,c,ne,{tileID:et,tileSize:G},ke):Gc(At,E,y);Pe.draw(O,R.TRIANGLES,de,ve,Ie,He.disabled,ht,f.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,p,f){for(var y=0;y<f.length;y++)Tt(c,p,f[y])},custom:function(c,p,f){var y=c.context,E=f.implementation;if(c.renderPass==="offscreen"){var O=E.prerender;O&&(c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),O.call(E,y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),y.setStencilMode(Te.disabled);var R=E.renderingMode==="3d"?new ye(c.context.gl.LEQUAL,ye.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ye.ReadOnly);y.setDepthMode(R),E.render(y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState(),y.bindFramebuffer.set(null)}}},Ht=function(c,p){this.context=new Ne(c),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ol,this.gpuTimers={}};Ht.prototype.resize=function(c,p){if(this.width=c*a.browser.devicePixelRatio,this.height=p*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var f=0,y=this.style._order;f<y.length;f+=1)this.style._layers[y[f]].resize()},Ht.prototype.setup=function(){var c=this.context,p=new a.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Ro.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var f=new a.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(a.EXTENT,0),f.emplaceBack(0,a.EXTENT),f.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(f,Ro.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var y=new a.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(a.EXTENT,0,a.EXTENT,0),y.emplaceBack(0,a.EXTENT,0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(y,oe.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var E=new a.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Ro.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var O=new a.StructArrayLayout1ui2;O.emplaceBack(0),O.emplaceBack(1),O.emplaceBack(3),O.emplaceBack(2),O.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(O);var R=new a.StructArrayLayout3ui6;R.emplaceBack(0,1,2),R.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(R),this.emptyTexture=new a.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var U=this.context.gl;this.stencilClearMode=new Te({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)},Ht.prototype.clearStencil=function(){var c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var f=a.create();a.ortho(f,0,this.width,this.height,0,0,1),a.scale(f,f,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,ye.disabled,this.stencilClearMode,Ue.disabled,He.disabled,_a(f),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ht.prototype._renderTileClippingMasks=function(c,p){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&p&&p.length){this.currentStencilSource=c.source;var f=this.context,y=f.gl;this.nextStencilID+p.length>256&&this.clearStencil(),f.setColorMode(Ue.disabled),f.setDepthMode(ye.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var O=0,R=p;O<R.length;O+=1){var U=R[O],G=this._tileClippingMaskIDs[U.key]=this.nextStencilID++;E.draw(f,y.TRIANGLES,ye.disabled,new Te({func:y.ALWAYS,mask:0},G,255,y.KEEP,y.KEEP,y.REPLACE),Ue.disabled,He.disabled,_a(U.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ht.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,p=this.context.gl;return new Te({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)},Ht.prototype.stencilModeForClipping=function(c){var p=this.context.gl;return new Te({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)},Ht.prototype.stencilConfigForOverlap=function(c){var p,f=this.context.gl,y=c.sort(function(G,ne){return ne.overscaledZ-G.overscaledZ}),E=y[y.length-1].overscaledZ,O=y[0].overscaledZ-E+1;if(O>1){this.currentStencilSource=void 0,this.nextStencilID+O>256&&this.clearStencil();for(var R={},U=0;U<O;U++)R[U+E]=new Te({func:f.GEQUAL,mask:255},U+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=O,[R,y]}return[(p={},p[E]=Te.disabled,p),y]},Ht.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new Ue([c.CONSTANT_COLOR,c.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ue.unblended:Ue.alphaBlended},Ht.prototype.depthModeForSublayer=function(c,p,f){if(!this.opaquePassEnabledForLayer())return ye.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ye(f||this.context.gl.LEQUAL,p,[y,y])},Ht.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ht.prototype.render=function(c,p){var f=this;this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var y=this.style._order,E=this.style.sourceCaches;for(var O in E){var R=E[O];R.used&&R.prepare(this.context)}var U,G,ne={},Ae={},ve={};for(var de in E){var Ie=E[de];ne[de]=Ie.getVisibleCoordinates(),Ae[de]=ne[de].slice().reverse(),ve[de]=Ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Pe=0;Pe<y.length;Pe++)if(this.style._layers[y[Pe]].is3D()){this.opaquePassCutoff=Pe;break}this.renderPass="offscreen";for(var ze=0,ke=y;ze<ke.length;ze+=1){var Be=this.style._layers[ke[ze]];if(Be.hasOffscreenPass()&&!Be.isHidden(this.transform.zoom)){var Qe=Ae[Be.source];(Be.type==="custom"||Qe.length)&&this.renderLayer(this,E[Be.source],Be,Qe)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var et=this.style._layers[y[this.currentLayer]],At=E[et.source],ht=ne[et.source];this._renderTileClippingMasks(et,ht),this.renderLayer(this,At,et,ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var gt=this.style._layers[y[this.currentLayer]],Pt=E[gt.source],zt=(gt.type==="symbol"?ve:Ae)[gt.source];this._renderTileClippingMasks(gt,ne[gt.source]),this.renderLayer(this,Pt,gt,zt)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Rt){Rt.source&&!Rt.isHidden(f.transform.zoom)&&(Rt.source!==(G&&G.id)&&(G=f.style.sourceCaches[Rt.source]),(!U||U.getSource().maxzoom<G.getSource().maxzoom)&&(U=G))}),U&&xt.debug(this,U,U.getVisibleCoordinates())),this.options.showPadding&&function(Rt){var Jt=Rt.transform.padding;pu(Rt,Rt.transform.height-(Jt.top||0),3,cs),pu(Rt,Jt.bottom||0,3,Hs),qs(Rt,Jt.left||0,3,Fp),qs(Rt,Rt.transform.width-(Jt.right||0),3,Rf);var mn=Rt.transform.centerPoint;(function(Tn,kn,_r,fn){nt(Tn,kn-1,_r-10,2,20,fn),nt(Tn,kn-10,_r-1,20,2,fn)})(Rt,mn.x,Rt.transform.height-mn.y,Qc)}(this),this.context.setDefault()},Ht.prototype.renderLayer=function(c,p,f,y){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||y.length)&&(this.id=f.id,this.gpuTimingStart(f),xt[f.type](c,p,f,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ht.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var p=this.context.extTimerQuery,f=this.gpuTimers[c.id];f||(f=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),f.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,f.query)}},Ht.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},Ht.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},Ht.prototype.queryGpuTimers=function(c){var p={};for(var f in c){var y=c[f],E=this.context.extTimerQuery,O=E.getQueryObjectEXT(y.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(y.query),p[f]=O}return p},Ht.prototype.translatePosMatrix=function(c,p,f,y,E){if(!f[0]&&!f[1])return c;var O=E?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(O){var R=Math.sin(O),U=Math.cos(O);f=[f[0]*U-f[1]*R,f[0]*R+f[1]*U]}var G=[E?f[0]:fa(p,f[0],this.transform.zoom),E?f[1]:fa(p,f[1],this.transform.zoom),0],ne=new Float32Array(16);return a.translate(ne,c,G),ne},Ht.prototype.saveTileTexture=function(c){var p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]},Ht.prototype.getTileTexture=function(c){var p=this._tileTextures[c];return p&&p.length>0?p.pop():null},Ht.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var p=this.imageManager.getPattern(c.from.toString()),f=this.imageManager.getPattern(c.to.toString());return!p||!f},Ht.prototype.useProgram=function(c,p){this.cache=this.cache||{};var f=""+c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[f]||(this.cache[f]=new lu(this.context,c,ei[c],p,cu[c],this._showOverdrawInspector)),this.cache[f]},Ht.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},Ht.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ht.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var er=function(c,p){this.points=c,this.planes=p};er.fromInvProjectionMatrix=function(c,p,f){var y=Math.pow(2,f),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(R){return a.transformMat4([],R,c)}).map(function(R){return a.scale$1([],R,1/R[3]/p*y)}),O=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(R){var U=a.sub([],E[R[0]],E[R[1]]),G=a.sub([],E[R[2]],E[R[1]]),ne=a.normalize([],a.cross([],U,G)),Ae=-a.dot(ne,E[R[1]]);return ne.concat(Ae)});return new er(E,O)};var Cr=function(c,p){this.min=c,this.max=p,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Cr.prototype.quadrant=function(c){for(var p=[c%2==0,c<2],f=a.clone$2(this.min),y=a.clone$2(this.max),E=0;E<p.length;E++)f[E]=p[E]?this.min[E]:this.center[E],y[E]=p[E]?this.center[E]:this.max[E];return y[2]=this.max[2],new Cr(f,y)},Cr.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},Cr.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},Cr.prototype.intersects=function(c){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],f=!0,y=0;y<c.planes.length;y++){for(var E=c.planes[y],O=0,R=0;R<p.length;R++)O+=a.dot$1(E,p[R])>=0;if(O===0)return 0;O!==p.length&&(f=!1)}if(f)return 2;for(var U=0;U<3;U++){for(var G=Number.MAX_VALUE,ne=-Number.MAX_VALUE,Ae=0;Ae<c.points.length;Ae++){var ve=c.points[Ae][U]-this.min[U];G=Math.min(G,ve),ne=Math.max(ne,ve)}if(ne<0||G>this.max[U]-this.min[U])return 0}return 1};var ti=function(c,p,f,y){if(c===void 0&&(c=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),isNaN(c)||c<0||isNaN(p)||p<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=f,this.right=y};ti.prototype.interpolate=function(c,p,f){return p.top!=null&&c.top!=null&&(this.top=a.number(c.top,p.top,f)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.number(c.bottom,p.bottom,f)),p.left!=null&&c.left!=null&&(this.left=a.number(c.left,p.left,f)),p.right!=null&&c.right!=null&&(this.right=a.number(c.right,p.right,f)),this},ti.prototype.getCenter=function(c,p){var f=a.clamp((this.left+c-this.right)/2,0,c),y=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(f,y)},ti.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},ti.prototype.clone=function(){return new ti(this.top,this.bottom,this.left,this.right)},ti.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ln=function(c,p,f,y,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ti,this._posMatrixCache={},this._alignedPosMatrixCache={}},cr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ln.prototype.clone=function(){var c=new Ln(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},cr.minZoom.get=function(){return this._minZoom},cr.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},cr.maxZoom.get=function(){return this._maxZoom},cr.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},cr.minPitch.get=function(){return this._minPitch},cr.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},cr.maxPitch.get=function(){return this._maxPitch},cr.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},cr.renderWorldCopies.get=function(){return this._renderWorldCopies},cr.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},cr.worldSize.get=function(){return this.tileSize*this.scale},cr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},cr.size.get=function(){return new a.Point(this.width,this.height)},cr.bearing.get=function(){return-this.angle/Math.PI*180},cr.bearing.set=function(c){var p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},cr.pitch.get=function(){return this._pitch/Math.PI*180},cr.pitch.set=function(c){var p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},cr.fov.get=function(){return this._fov/Math.PI*180},cr.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},cr.zoom.get=function(){return this._zoom},cr.zoom.set=function(c){var p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},cr.center.get=function(){return this._center},cr.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},cr.padding.get=function(){return this._edgeInsets.toJSON()},cr.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},cr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ln.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Ln.prototype.interpolatePadding=function(c,p,f){this._unmodified=!1,this._edgeInsets.interpolate(c,p,f),this._constrain(),this._calcMatrices()},Ln.prototype.coveringZoomLevel=function(c){var p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)},Ln.prototype.getVisibleUnwrappedCoordinates=function(c){var p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var f=this.pointCoordinate(new a.Point(0,0)),y=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),O=this.pointCoordinate(new a.Point(0,this.height)),R=Math.floor(Math.min(f.x,y.x,E.x,O.x)),U=Math.floor(Math.max(f.x,y.x,E.x,O.x)),G=R-1;G<=U+1;G++)G!==0&&p.push(new a.UnwrappedTileID(G,c));return p},Ln.prototype.coveringTiles=function(c){var p=this.coveringZoomLevel(c),f=p;if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);var y=a.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,p),O=[E*y.x,E*y.y,0],R=er.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),U=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(U=p);var G=function(Rt){return{aabb:new Cr([Rt*E,0,0],[(Rt+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Rt,fullyVisible:!1}},ne=[],Ae=[],ve=p,de=c.reparseOverscaled?f:p;if(this._renderWorldCopies)for(var Ie=1;Ie<=3;Ie++)ne.push(G(-Ie)),ne.push(G(Ie));for(ne.push(G(0));ne.length>0;){var Pe=ne.pop(),ze=Pe.x,ke=Pe.y,Be=Pe.fullyVisible;if(!Be){var Qe=Pe.aabb.intersects(R);if(Qe===0)continue;Be=Qe===2}var et=Pe.aabb.distanceX(O),At=Pe.aabb.distanceY(O),ht=Math.max(Math.abs(et),Math.abs(At));if(Pe.zoom===ve||ht>3+(1<<ve-Pe.zoom)-2&&Pe.zoom>=U)Ae.push({tileID:new a.OverscaledTileID(Pe.zoom===ve?de:Pe.zoom,Pe.wrap,Pe.zoom,ze,ke),distanceSq:a.sqrLen([O[0]-.5-ze,O[1]-.5-ke])});else for(var gt=0;gt<4;gt++){var Pt=(ze<<1)+gt%2,zt=(ke<<1)+(gt>>1);ne.push({aabb:Pe.aabb.quadrant(gt),zoom:Pe.zoom+1,x:Pt,y:zt,wrap:Pe.wrap,fullyVisible:Be})}}return Ae.sort(function(Rt,Jt){return Rt.distanceSq-Jt.distanceSq}).map(function(Rt){return Rt.tileID})},Ln.prototype.resize=function(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()},cr.unmodified.get=function(){return this._unmodified},Ln.prototype.zoomScale=function(c){return Math.pow(2,c)},Ln.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Ln.prototype.project=function(c){var p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)},Ln.prototype.unproject=function(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},cr.point.get=function(){return this.project(this.center)},Ln.prototype.setLocationAtPoint=function(c,p){var f=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),O=new a.MercatorCoordinate(E.x-(f.x-y.x),E.y-(f.y-y.y));this.center=this.coordinateLocation(O),this._renderWorldCopies&&(this.center=this.center.wrap())},Ln.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Ln.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Ln.prototype.locationCoordinate=function(c){return a.MercatorCoordinate.fromLngLat(c)},Ln.prototype.coordinateLocation=function(c){return c.toLngLat()},Ln.prototype.pointCoordinate=function(c){var p=[c.x,c.y,0,1],f=[c.x,c.y,1,1];a.transformMat4(p,p,this.pixelMatrixInverse),a.transformMat4(f,f,this.pixelMatrixInverse);var y=p[3],E=f[3],O=p[1]/y,R=f[1]/E,U=p[2]/y,G=f[2]/E,ne=U===G?0:(0-U)/(G-U);return new a.MercatorCoordinate(a.number(p[0]/y,f[0]/E,ne)/this.worldSize,a.number(O,R,ne)/this.worldSize)},Ln.prototype.coordinatePoint=function(c){var p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix),new a.Point(p[0]/p[3],p[1]/p[3])},Ln.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Ln.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ln.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ln.prototype.calculatePosMatrix=function(c,p){p===void 0&&(p=!1);var f=c.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];var E=c.canonical,O=this.worldSize/this.zoomScale(E.z),R=E.x+Math.pow(2,E.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[R*O,E.y*O,0]),a.scale(U,U,[O/a.EXTENT,O/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),y[f]=new Float32Array(U),y[f]},Ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ln.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,p,f,y,E=-90,O=90,R=-180,U=180,G=this.size,ne=this._unmodified;if(this.latRange){var Ae=this.latRange;E=a.mercatorYfromLat(Ae[1])*this.worldSize,c=(O=a.mercatorYfromLat(Ae[0])*this.worldSize)-E<G.y?G.y/(O-E):0}if(this.lngRange){var ve=this.lngRange;R=a.mercatorXfromLng(ve[0])*this.worldSize,p=(U=a.mercatorXfromLng(ve[1])*this.worldSize)-R<G.x?G.x/(U-R):0}var de=this.point,Ie=Math.max(p||0,c||0);if(Ie)return this.center=this.unproject(new a.Point(p?(U+R)/2:de.x,c?(O+E)/2:de.y)),this.zoom+=this.scaleZoom(Ie),this._unmodified=ne,void(this._constraining=!1);if(this.latRange){var Pe=de.y,ze=G.y/2;Pe-ze<E&&(y=E+ze),Pe+ze>O&&(y=O-ze)}if(this.lngRange){var ke=de.x,Be=G.x/2;ke-Be<R&&(f=R+Be),ke+Be>U&&(f=U-Be)}f===void 0&&y===void 0||(this.center=this.unproject(new a.Point(f!==void 0?f:de.x,y!==void 0?y:de.y))),this._unmodified=ne,this._constraining=!1}},Ln.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,f=this._fov*(.5+c.y/this.height),y=Math.sin(f)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-p-f,.01,Math.PI-.01)),E=this.point,O=E.x,R=E.y,U=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),G=this.height/50,ne=new Float64Array(16);a.perspective(ne,this._fov,this.width/this.height,G,U),ne[8]=2*-c.x/this.width,ne[9]=2*c.y/this.height,a.scale(ne,ne,[1,-1,1]),a.translate(ne,ne,[0,0,-this.cameraToCenterDistance]),a.rotateX(ne,ne,this._pitch),a.rotateZ(ne,ne,this.angle),a.translate(ne,ne,[-O,-R,0]),this.mercatorMatrix=a.scale([],ne,[this.worldSize,this.worldSize,this.worldSize]),a.scale(ne,ne,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ne,this.invProjMatrix=a.invert([],this.projMatrix);var Ae=this.width%2/2,ve=this.height%2/2,de=Math.cos(this.angle),Ie=Math.sin(this.angle),Pe=O-Math.round(O)+de*Ae+Ie*ve,ze=R-Math.round(R)+de*ve+Ie*Ae,ke=new Float64Array(ne);if(a.translate(ke,ke,[Pe>.5?Pe-1:Pe,ze>.5?ze-1:ze,0]),this.alignedProjMatrix=ke,ne=a.create(),a.scale(ne,ne,[this.width/2,-this.height/2,1]),a.translate(ne,ne,[1,-1,0]),this.labelPlaneMatrix=ne,ne=a.create(),a.scale(ne,ne,[1,-1,1]),a.translate(ne,ne,[-1,-1,0]),a.scale(ne,ne,[2/this.width,2/this.height,1]),this.glCoordMatrix=ne,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ne=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ne,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ln.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))},Ln.prototype.getCameraQueryGeometry=function(c){var p=this.getCameraPoint();if(c.length===1)return[c[0],p];for(var f=p.x,y=p.y,E=p.x,O=p.y,R=0,U=c;R<U.length;R+=1){var G=U[R];f=Math.min(f,G.x),y=Math.min(y,G.y),E=Math.max(E,G.x),O=Math.max(O,G.y)}return[new a.Point(f,y),new a.Point(E,y),new a.Point(E,O),new a.Point(f,O),new a.Point(f,y)]},Object.defineProperties(Ln.prototype,cr);var Bl=function(c){var p,f,y,E;this._hashName=c&&encodeURIComponent(c),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),f=!1,y=null,E=function(){y=null,f&&(p(),y=setTimeout(E,300),f=!1)},function(){return f=!0,y||E(),y})};Bl.prototype.addTo=function(c){return this._map=c,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Bl.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Bl.prototype.getHashString=function(c){var p=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,y),O=Math.round(p.lng*E)/E,R=Math.round(p.lat*E)/E,U=this._map.getBearing(),G=this._map.getPitch(),ne="";if(ne+=c?"/"+O+"/"+R+"/"+f:f+"/"+R+"/"+O,(U||G)&&(ne+="/"+Math.round(10*U)/10),G&&(ne+="/"+Math.round(G)),this._hashName){var Ae=this._hashName,ve=!1,de=a.window.location.hash.slice(1).split("&").map(function(Ie){var Pe=Ie.split("=")[0];return Pe===Ae?(ve=!0,Pe+"="+ne):Ie}).filter(function(Ie){return Ie});return ve||de.push(Ae+"="+ne),"#"+de.join("&")}return"#"+ne},Bl.prototype._getCurrentHash=function(){var c,p=this,f=a.window.location.hash.replace("#","");return this._hashName?(f.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(c=y)}),(c&&c[1]||"").split("/")):f.split("/")},Bl.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(f){return isNaN(f)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:p,pitch:+(c[4]||0)}),!0}return!1},Bl.prototype._updateHashUnthrottled=function(){var c=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,c)}catch{}};var $i={linearity:.3,easing:a.bezier(0,0,.3,1)},hu=a.extend({deceleration:2500,maxSpeed:1400},$i),xa=a.extend({deceleration:20,maxSpeed:1400},$i),fs=a.extend({deceleration:1e3,maxSpeed:360},$i),Wc=a.extend({deceleration:1e3,maxSpeed:90},$i),pl=function(c){this._map=c,this.clear()};function $r(c,p){(!c.duration||c.duration<p.duration)&&(c.duration=p.duration,c.easing=p.easing)}function nc(c,p,f){var y=f.maxSpeed,E=f.linearity,O=f.deceleration,R=a.clamp(c*E/(p/1e3),-y,y),U=Math.abs(R)/(O*E);return{easing:f.easing,duration:1e3*U,amount:R*(U/2)}}pl.prototype.clear=function(){this._inertiaBuffer=[]},pl.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})},pl.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,p=a.browser.now();c.length>0&&p-c[0].time>160;)c.shift()},pl.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},f=0,y=this._inertiaBuffer;f<y.length;f+=1){var E=y[f].settings;p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround)}var O=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,R={};if(p.pan.mag()){var U=nc(p.pan.mag(),O,a.extend({},hu,c||{}));R.offset=p.pan.mult(U.amount/p.pan.mag()),R.center=this._map.transform.center,$r(R,U)}if(p.zoom){var G=nc(p.zoom,O,xa);R.zoom=this._map.transform.zoom+G.amount,$r(R,G)}if(p.bearing){var ne=nc(p.bearing,O,fs);R.bearing=this._map.transform.bearing+a.clamp(ne.amount,-179,179),$r(R,ne)}if(p.pitch){var Ae=nc(p.pitch,O,Wc);R.pitch=this._map.transform.pitch+Ae.amount,$r(R,Ae)}if(R.zoom||R.bearing){var ve=p.pinchAround===void 0?p.around:p.pinchAround;R.around=ve?this._map.unproject(ve):this._map.getCenter()}return this.clear(),a.extend(R,{noMoveStart:!0})}};var Po=function(c){function p(y,E,O,R){R===void 0&&(R={});var U=S.mousePos(E.getCanvasContainer(),O),G=E.unproject(U);c.call(this,y,a.extend({point:U,lngLat:G,originalEvent:O},R)),this._defaultPrevented=!1,this.target=E}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),ho=function(c){function p(y,E,O){var R=y==="touchend"?O.changedTouches:O.touches,U=S.touchPos(E.getCanvasContainer(),R),G=U.map(function(ve){return E.unproject(ve)}),ne=U.reduce(function(ve,de,Ie,Pe){return ve.add(de.div(Pe.length))},new a.Point(0,0)),Ae=E.unproject(ne);c.call(this,y,{points:U,point:ne,lngLats:G,lngLat:Ae,originalEvent:O}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Ff=function(c){function p(y,E,O){c.call(this,y,{originalEvent:O}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Zi=function(c,p){this._map=c,this._clickTolerance=p.clickTolerance};Zi.prototype.reset=function(){delete this._mousedownPos},Zi.prototype.wheel=function(c){return this._firePreventable(new Ff(c.type,this._map,c))},Zi.prototype.mousedown=function(c,p){return this._mousedownPos=p,this._firePreventable(new Po(c.type,this._map,c))},Zi.prototype.mouseup=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.click=function(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.dblclick=function(c){return this._firePreventable(new Po(c.type,this._map,c))},Zi.prototype.mouseover=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.mouseout=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.touchstart=function(c){return this._firePreventable(new ho(c.type,this._map,c))},Zi.prototype.touchmove=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchend=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchcancel=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Zi.prototype.isEnabled=function(){return!0},Zi.prototype.isActive=function(){return!1},Zi.prototype.enable=function(){},Zi.prototype.disable=function(){};var ba=function(c){this._map=c};ba.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ba.prototype.mousemove=function(c){this._map.fire(new Po(c.type,this._map,c))},ba.prototype.mousedown=function(){this._delayContextMenu=!0},ba.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ba.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Po(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},ba.prototype.isEnabled=function(){return!0},ba.prototype.isActive=function(){return!1},ba.prototype.enable=function(){},ba.prototype.disable=function(){};var rn=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1};function ja(c,p){for(var f={},y=0;y<c.length;y++)f[c[y].identifier]=p[y];return f}rn.prototype.isEnabled=function(){return!!this._enabled},rn.prototype.isActive=function(){return!!this._active},rn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},rn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},rn.prototype.mousedown=function(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(S.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},rn.prototype.mousemoveWindow=function(c,p){if(this._active){var f=p;if(!(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=f,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(y.x,f.x),O=Math.max(y.x,f.x),R=Math.min(y.y,f.y),U=Math.max(y.y,f.y);S.setTransform(this._box,"translate("+E+"px,"+R+"px)"),this._box.style.width=O-E+"px",this._box.style.height=U-R+"px"}}},rn.prototype.mouseupWindow=function(c,p){var f=this;if(this._active&&c.button===0){var y=this._startPos,E=p;if(this.reset(),S.suppressClick(),y.x!==E.x||y.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(O){return O.fitScreenCoordinates(y,E,f._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},rn.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},rn.prototype.reset=function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},rn.prototype._fireEvent=function(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))};var Gs=function(c){this.reset(),this.numTouches=c.numTouches};Gs.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Gs.prototype.touchstart=function(c,p,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){for(var E=new a.Point(0,0),O=0,R=y;O<R.length;O+=1)E._add(R[O]);return E.div(y.length)}(p),this.touches=ja(f,p)))},Gs.prototype.touchmove=function(c,p,f){if(!this.aborted&&this.centroid){var y=ja(f,p);for(var E in this.touches){var O=y[E];(!O||O.dist(this.touches[E])>30)&&(this.aborted=!0)}}},Gs.prototype.touchend=function(c,p,f){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Qs=function(c){this.singleTap=new Gs(c),this.numTaps=c.numTaps,this.reset()};Qs.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Qs.prototype.touchstart=function(c,p,f){this.singleTap.touchstart(c,p,f)},Qs.prototype.touchmove=function(c,p,f){this.singleTap.touchmove(c,p,f)},Qs.prototype.touchend=function(c,p,f){var y=this.singleTap.touchend(c,p,f);if(y){var E=c.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(y)<30;if(E&&O||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var Fo=function(){this._zoomIn=new Qs({numTouches:1,numTaps:2}),this._zoomOut=new Qs({numTouches:2,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fo.prototype.touchstart=function(c,p,f){this._zoomIn.touchstart(c,p,f),this._zoomOut.touchstart(c,p,f)},Fo.prototype.touchmove=function(c,p,f){this._zoomIn.touchmove(c,p,f),this._zoomOut.touchmove(c,p,f)},Fo.prototype.touchend=function(c,p,f){var y=this,E=this._zoomIn.touchend(c,p,f),O=this._zoomOut.touchend(c,p,f);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(R){return R.easeTo({duration:300,zoom:R.getZoom()+1,around:R.unproject(E)},{originalEvent:c})}}):O?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(R){return R.easeTo({duration:300,zoom:R.getZoom()-1,around:R.unproject(O)},{originalEvent:c})}}):void 0},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var Au={0:1,2:2},Yo=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Yo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Yo.prototype._correctButton=function(c,p){return!1},Yo.prototype._move=function(c,p){return{}},Yo.prototype.mousedown=function(c,p){if(!this._lastPoint){var f=S.mouseButton(c);this._correctButton(c,f)&&(this._lastPoint=p,this._eventButton=f)}},Yo.prototype.mousemoveWindow=function(c,p){var f=this._lastPoint;if(f){if(c.preventDefault(),function(y,E){var O=Au[E];return y.buttons===void 0||(y.buttons&O)!==O}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(f,p)}},Yo.prototype.mouseupWindow=function(c){this._lastPoint&&S.mouseButton(c)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())},Yo.prototype.enable=function(){this._enabled=!0},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var sn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.mousedown=function(f,y){c.prototype.mousedown.call(this,f,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(f,y){return y===0&&!f.ctrlKey},p.prototype._move=function(f,y){return{around:y,panDelta:y.sub(f)}},p}(Yo),rc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=.8*(y.x-f.x);if(E)return this._active=!0,{bearingDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Ws=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=-.5*(y.y-f.y);if(E)return this._active=!0,{pitchDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Ao=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};Ao.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Ao.prototype.touchstart=function(c,p,f){return this._calculateTransform(c,p,f)},Ao.prototype.touchmove=function(c,p,f){if(this._active&&!(f.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,f)},Ao.prototype.touchend=function(c,p,f){this._calculateTransform(c,p,f),this._active&&f.length<this._minTouches&&this.reset()},Ao.prototype.touchcancel=function(){this.reset()},Ao.prototype._calculateTransform=function(c,p,f){f.length>0&&(this._active=!0);var y=ja(f,p),E=new a.Point(0,0),O=new a.Point(0,0),R=0;for(var U in y){var G=y[U],ne=this._touches[U];ne&&(E._add(G),O._add(G.sub(ne)),R++,y[U]=G)}if(this._touches=y,!(R<this._minTouches)&&O.mag()){var Ae=O.div(R);if(this._sum._add(Ae),!(this._sum.mag()<this._clickTolerance))return{around:E.div(R),panDelta:Ae}}},Ao.prototype.enable=function(){this._enabled=!0},Ao.prototype.disable=function(){this._enabled=!1,this.reset()},Ao.prototype.isEnabled=function(){return this._enabled},Ao.prototype.isActive=function(){return this._active};var Er=function(){this.reset()};function Kc(c,p,f){for(var y=0;y<c.length;y++)if(c[y].identifier===f)return p[y]}function Bp(c,p){return Math.log(c/p)/Math.LN2}Er.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Er.prototype._start=function(c){},Er.prototype._move=function(c,p,f){return{}},Er.prototype.touchstart=function(c,p,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([p[0],p[1]]))},Er.prototype.touchmove=function(c,p,f){if(this._firstTwoTouches){c.preventDefault();var y=this._firstTwoTouches,E=y[1],O=Kc(f,p,y[0]),R=Kc(f,p,E);if(O&&R){var U=this._aroundCenter?null:O.add(R).div(2);return this._move([O,R],U,c)}}},Er.prototype.touchend=function(c,p,f){if(this._firstTwoTouches){var y=this._firstTwoTouches,E=y[1],O=Kc(f,p,y[0]),R=Kc(f,p,E);O&&R||(this._active&&S.suppressClick(),this.reset())}},Er.prototype.touchcancel=function(){this.reset()},Er.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},Er.prototype.disable=function(){this._enabled=!1,this.reset()},Er.prototype.isEnabled=function(){return this._enabled},Er.prototype.isActive=function(){return this._active};var Bf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(f){this._startDistance=this._distance=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(Bp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Bp(this._distance,E),pinchAround:y}},p}(Er);function mo(c,p){return 180*c.angleWith(p)/Math.PI}var Va=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:mo(this._vector,E),pinchAround:y}},p.prototype._isBelowThreshold=function(f){this._minDiameter=Math.min(this._minDiameter,f.mag());var y=25/(Math.PI*this._minDiameter)*360,E=mo(f,this._startVector);return Math.abs(E)<y},p}(Er);function zl(c){return Math.abs(c.y)>Math.abs(c.x)}var Zc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(f){this._lastPoints=f,zl(f[0].sub(f[1]))&&(this._valid=!1)},p.prototype._move=function(f,y,E){var O=f[0].sub(this._lastPoints[0]),R=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(O,R,E.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(O.y+R.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(f,y,E){if(this._valid!==void 0)return this._valid;var O=f.mag()>=2,R=y.mag()>=2;if(O||R){if(!O||!R)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var U=f.y>0==y.y>0;return zl(f)&&zl(y)&&U}},p}(Er),Xc={panStep:100,bearingStep:15,pitchStep:10},ps=function(){var c=Xc;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function zp(c){return c*(2-c)}ps.prototype.reset=function(){this._active=!1},ps.prototype.keydown=function(c){var p=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=0,y=0,E=0,O=0,R=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),O=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),O=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),R=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(y=0,E=0),{cameraAnimation:function(U){var G=U.getZoom();U.easeTo({duration:300,easeId:"keyboardHandler",easing:zp,zoom:f?Math.round(G)+f*(c.shiftKey?2:1):G,bearing:U.getBearing()+y*p._bearingStep,pitch:U.getPitch()+E*p._pitchStep,offset:[-O*p._panStep,-R*p._panStep],center:U.getCenter()},{originalEvent:c})}}}},ps.prototype.enable=function(){this._enabled=!0},ps.prototype.disable=function(){this._enabled=!1,this.reset()},ps.prototype.isEnabled=function(){return this._enabled},ps.prototype.isActive=function(){return this._active},ps.prototype.disableRotation=function(){this._rotationDisabled=!0},ps.prototype.enableRotation=function(){this._rotationDisabled=!1};var ir=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onTimeout"],this)};ir.prototype.setZoomRate=function(c){this._defaultZoomRate=c},ir.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},ir.prototype.isEnabled=function(){return!!this._enabled},ir.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ir.prototype.isZooming=function(){return!!this._zooming},ir.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},ir.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ir.prototype.wheel=function(c){if(this.isEnabled()){var p=c.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,f=a.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}},ir.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},ir.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=S.mousePos(this._el,c);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ir.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var f=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*f)));this._delta<0&&y!==0&&(y=1/y);var E=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(E*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var O,R=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,U=this._startZoom,G=this._easing,ne=!1;if(this._type==="wheel"&&U&&G){var Ae=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),ve=G(Ae);O=a.number(U,R,ve),Ae<1?this._frameId||(this._frameId=!0):ne=!0}else O=R,ne=!0;return this._active=!0,ne&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ne,zoomDelta:O-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ir.prototype._smoothOutEasing=function(c){var p=a.ease;if(this._prevEase){var f=this._prevEase,y=(a.browser.now()-f.start)/f.duration,E=f.easing(y+.01)-f.easing(y),O=.27/Math.sqrt(E*E+1e-4)*.01,R=Math.sqrt(.0729-O*O);p=a.bezier(O,R,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p},ir.prototype.reset=function(){this._active=!1};var Wn=function(c,p){this._clickZoom=c,this._tapZoom=p};Wn.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Wn.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Wn.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Wn.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ha=function(){this.reset()};ha.prototype.reset=function(){this._active=!1},ha.prototype.dblclick=function(c,p){return c.preventDefault(),{cameraAnimation:function(f){f.easeTo({duration:300,zoom:f.getZoom()+(c.shiftKey?-1:1),around:f.unproject(p)},{originalEvent:c})}}},ha.prototype.enable=function(){this._enabled=!0},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};var Ti=function(){this._tap=new Qs({numTouches:1,numTaps:1}),this.reset()};Ti.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ti.prototype.touchstart=function(c,p,f){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=p[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(c,p,f))},Ti.prototype.touchmove=function(c,p,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;var y=p[0],E=y.y-this._swipePoint.y;return this._swipePoint=y,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,f)},Ti.prototype.touchend=function(c,p,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(c,p,f)&&(this._tapTime=c.timeStamp)},Ti.prototype.touchcancel=function(){this.reset()},Ti.prototype.enable=function(){this._enabled=!0},Ti.prototype.disable=function(){this._enabled=!1,this.reset()},Ti.prototype.isEnabled=function(){return this._enabled},Ti.prototype.isActive=function(){return this._active};var Bn=function(c,p,f){this._el=c,this._mousePan=p,this._touchPan=f};Bn.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Bn.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function(c,p,f){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=f};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ha=function(c,p,f,y){this._el=c,this._touchZoom=p,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ha.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ha.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ha.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ha.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Jo=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ea=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p}(a.Event);function qa(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Qt=function(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new pl(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),a.bindAll(["handleEvent","handleWindowEvent"],this);var f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[a.window,"blur",void 0]];for(var y=0,E=this._listeners;y<E.length;y+=1){var O=E[y],R=O[0];S.addEventListener(R,O[1],R===a.window.document?this.handleWindowEvent:this.handleEvent,O[2])}};Qt.prototype.destroy=function(){for(var c=0,p=this._listeners;c<p.length;c+=1){var f=p[c],y=f[0];S.removeEventListener(y,f[1],y===a.window.document?this.handleWindowEvent:this.handleEvent,f[2])}},Qt.prototype._addDefaultHandlers=function(c){var p=this._map,f=p.getCanvasContainer();this._add("mapEvent",new Zi(p,c));var y=p.boxZoom=new rn(p,c);this._add("boxZoom",y);var E=new Fo,O=new ha;p.doubleClickZoom=new Wn(O,E),this._add("tapZoom",E),this._add("clickZoom",O);var R=new Ti;this._add("tapDragZoom",R);var U=p.touchPitch=new Zc;this._add("touchPitch",U);var G=new rc(c),ne=new Ws(c);p.dragRotate=new Bo(c,G,ne),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",ne,["mouseRotate"]);var Ae=new sn(c),ve=new Ao(c);p.dragPan=new Bn(f,Ae,ve),this._add("mousePan",Ae),this._add("touchPan",ve,["touchZoom","touchRotate"]);var de=new Va,Ie=new Bf;p.touchZoomRotate=new Ha(f,Ie,de,R),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",Ie,["touchPan","touchRotate"]);var Pe=p.scrollZoom=new ir(p,this);this._add("scrollZoom",Pe,["mousePan"]);var ze=p.keyboard=new ps;this._add("keyboard",ze),this._add("blockableMapEvent",new ba(p));for(var ke=0,Be=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ke<Be.length;ke+=1){var Qe=Be[ke];c.interactive&&c[Qe]&&p[Qe].enable(c[Qe])}},Qt.prototype._add=function(c,p,f){this._handlers.push({handlerName:c,handler:p,allowed:f}),this._handlersById[c]=p},Qt.prototype.stop=function(c){if(!this._updatingCamera){for(var p=0,f=this._handlers;p<f.length;p+=1)f[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Qt.prototype.isActive=function(){for(var c=0,p=this._handlers;c<p.length;c+=1)if(p[c].handler.isActive())return!0;return!1},Qt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Qt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Qt.prototype.isMoving=function(){return!!Jo(this._eventsInProgress)||this.isZooming()},Qt.prototype._blockedByActive=function(c,p,f){for(var y in c)if(y!==f&&(!p||p.indexOf(y)<0))return!0;return!1},Qt.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Qt.prototype._getMapTouches=function(c){for(var p=[],f=0,y=c;f<y.length;f+=1){var E=y[f];this._el.contains(E.target)&&p.push(E)}return p},Qt.prototype.handleEvent=function(c,p){if(c.type!=="blur"){this._updatingCamera=!0;for(var f=c.type==="renderFrame"?void 0:c,y={needsRenderFrame:!1},E={},O={},R=c.touches?this._getMapTouches(c.touches):void 0,U=R?S.touchPos(this._el,R):S.mousePos(this._el,c),G=0,ne=this._handlers;G<ne.length;G+=1){var Ae=ne[G],ve=Ae.handlerName,de=Ae.handler,Ie=Ae.allowed;if(de.isEnabled()){var Pe=void 0;this._blockedByActive(O,Ie,ve)?de.reset():de[p||c.type]&&(Pe=de[p||c.type](c,U,R),this.mergeHandlerResult(y,E,Pe,ve,f),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||de.isActive())&&(O[ve]=de)}}var ze={};for(var ke in this._previousActiveHandlers)O[ke]||(ze[ke]=f);this._previousActiveHandlers=O,(Object.keys(ze).length||qa(y))&&(this._changes.push([y,E,ze]),this._triggerRenderFrame()),(Object.keys(O).length||qa(y))&&this._map._stop(!0),this._updatingCamera=!1;var Be=y.cameraAnimation;Be&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Be(this._map))}else this.stop(!0)},Qt.prototype.mergeHandlerResult=function(c,p,f,y,E){if(f){a.extend(c,f);var O={handlerName:y,originalEvent:f.originalEvent||E};f.zoomDelta!==void 0&&(p.zoom=O),f.panDelta!==void 0&&(p.drag=O),f.pitchDelta!==void 0&&(p.pitch=O),f.bearingDelta!==void 0&&(p.rotate=O)}},Qt.prototype._applyChanges=function(){for(var c={},p={},f={},y=0,E=this._changes;y<E.length;y+=1){var O=E[y],R=O[0],U=O[1],G=O[2];R.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(R.panDelta)),R.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+R.zoomDelta),R.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+R.bearingDelta),R.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+R.pitchDelta),R.around!==void 0&&(c.around=R.around),R.pinchAround!==void 0&&(c.pinchAround=R.pinchAround),R.noInertia&&(c.noInertia=R.noInertia),a.extend(p,U),a.extend(f,G)}this._updateMapTransform(c,p,f),this._changes=[]},Qt.prototype._updateMapTransform=function(c,p,f){var y=this._map,E=y.transform;if(!qa(c))return this._fireEvents(p,f,!0);var O=c.panDelta,R=c.zoomDelta,U=c.bearingDelta,G=c.pitchDelta,ne=c.around,Ae=c.pinchAround;Ae!==void 0&&(ne=Ae),y._stop(!0),ne=ne||y.transform.centerPoint;var ve=E.pointLocation(O?ne.sub(O):ne);U&&(E.bearing+=U),G&&(E.pitch+=G),R&&(E.zoom+=R),E.setLocationAtPoint(ve,ne),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,f,!0)},Qt.prototype._fireEvents=function(c,p,f){var y=this,E=Jo(this._eventsInProgress),O=Jo(c),R={};for(var U in c)this._eventsInProgress[U]||(R[U+"start"]=c[U].originalEvent),this._eventsInProgress[U]=c[U];for(var G in!E&&O&&this._fireEvent("movestart",O.originalEvent),R)this._fireEvent(G,R[G]);for(var ne in O&&this._fireEvent("move",O.originalEvent),c)this._fireEvent(ne,c[ne].originalEvent);var Ae,ve={};for(var de in this._eventsInProgress){var Ie=this._eventsInProgress[de],Pe=Ie.handlerName,ze=Ie.originalEvent;this._handlersById[Pe].isActive()||(delete this._eventsInProgress[de],ve[de+"end"]=Ae=p[Pe]||ze)}for(var ke in ve)this._fireEvent(ke,ve[ke]);var Be=Jo(this._eventsInProgress);if(f&&(E||O)&&!Be){this._updatingCamera=!0;var Qe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),et=function(At){return At!==0&&-y._bearingSnap<At&&At<y._bearingSnap};Qe?(et(Qe.bearing||this._map.getBearing())&&(Qe.bearing=0),this._map.easeTo(Qe,{originalEvent:Ae})):(this._map.fire(new a.Event("moveend",{originalEvent:Ae})),et(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Qt.prototype._fireEvent=function(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))},Qt.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete c._frameId,c.handleEvent(new ea("renderFrame",{timeStamp:p})),c._applyChanges()})},Qt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var dt=function(c){function p(f,y){c.call(this),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=y.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(f,y){return this.jumpTo({center:f},y)},p.prototype.panBy=function(f,y,E){return f=a.Point.convert(f).mult(-1),this.panTo(this.transform.center,a.extend({offset:f},y),E)},p.prototype.panTo=function(f,y,E){return this.easeTo(a.extend({center:f},y),E)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(f,y){return this.jumpTo({zoom:f},y),this},p.prototype.zoomTo=function(f,y,E){return this.easeTo(a.extend({zoom:f},y),E)},p.prototype.zoomIn=function(f,y){return this.zoomTo(this.getZoom()+1,f,y),this},p.prototype.zoomOut=function(f,y){return this.zoomTo(this.getZoom()-1,f,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(f,y){return this.jumpTo({bearing:f},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(f,y){return this.jumpTo({padding:f},y),this},p.prototype.rotateTo=function(f,y,E){return this.easeTo(a.extend({bearing:f},y),E)},p.prototype.resetNorth=function(f,y){return this.rotateTo(0,a.extend({duration:1e3},f),y),this},p.prototype.resetNorthPitch=function(f,y){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},f),y),this},p.prototype.snapToNorth=function(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(f,y){return this.jumpTo({pitch:f},y),this},p.prototype.cameraForBounds=function(f,y){f=a.LngLatBounds.convert(f);var E=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),E,y)},p.prototype._cameraForBoxAndBearing=function(f,y,E,O){var R={top:0,bottom:0,right:0,left:0};if(typeof(O=a.extend({padding:R,offset:[0,0],maxZoom:this.transform.maxZoom},O)).padding=="number"){var U=O.padding;O.padding={top:U,bottom:U,right:U,left:U}}O.padding=a.extend(R,O.padding);var G=this.transform,ne=G.padding,Ae=G.project(a.LngLat.convert(f)),ve=G.project(a.LngLat.convert(y)),de=Ae.rotate(-E*Math.PI/180),Ie=ve.rotate(-E*Math.PI/180),Pe=new a.Point(Math.max(de.x,Ie.x),Math.max(de.y,Ie.y)),ze=new a.Point(Math.min(de.x,Ie.x),Math.min(de.y,Ie.y)),ke=Pe.sub(ze),Be=(G.width-(ne.left+ne.right+O.padding.left+O.padding.right))/ke.x,Qe=(G.height-(ne.top+ne.bottom+O.padding.top+O.padding.bottom))/ke.y;if(!(Qe<0||Be<0)){var et=Math.min(G.scaleZoom(G.scale*Math.min(Be,Qe)),O.maxZoom),At=typeof O.offset.x=="number"?new a.Point(O.offset.x,O.offset.y):a.Point.convert(O.offset),ht=new a.Point((O.padding.left-O.padding.right)/2,(O.padding.top-O.padding.bottom)/2).rotate(E*Math.PI/180),gt=At.add(ht).mult(G.scale/G.zoomScale(et));return{center:G.unproject(Ae.add(ve).div(2).sub(gt)),zoom:et,bearing:E}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(f,y,E){return this._fitInternal(this.cameraForBounds(f,y),y,E)},p.prototype.fitScreenCoordinates=function(f,y,E,O,R){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(f)),this.transform.pointLocation(a.Point.convert(y)),E,O),O,R)},p.prototype._fitInternal=function(f,y,E){return f?(delete(y=a.extend(f,y)).padding,y.linear?this.easeTo(y,E):this.flyTo(y,E)):this},p.prototype.jumpTo=function(f,y){this.stop();var E=this.transform,O=!1,R=!1,U=!1;return"zoom"in f&&E.zoom!==+f.zoom&&(O=!0,E.zoom=+f.zoom),f.center!==void 0&&(E.center=a.LngLat.convert(f.center)),"bearing"in f&&E.bearing!==+f.bearing&&(R=!0,E.bearing=+f.bearing),"pitch"in f&&E.pitch!==+f.pitch&&(U=!0,E.pitch=+f.pitch),f.padding==null||E.isPaddingEqual(f.padding)||(E.padding=f.padding),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y)),O&&this.fire(new a.Event("zoomstart",y)).fire(new a.Event("zoom",y)).fire(new a.Event("zoomend",y)),R&&this.fire(new a.Event("rotatestart",y)).fire(new a.Event("rotate",y)).fire(new a.Event("rotateend",y)),U&&this.fire(new a.Event("pitchstart",y)).fire(new a.Event("pitch",y)).fire(new a.Event("pitchend",y)),this.fire(new a.Event("moveend",y))},p.prototype.easeTo=function(f,y){var E=this;this._stop(!1,f.easeId),((f=a.extend({offset:[0,0],duration:500,easing:a.ease},f)).animate===!1||!f.essential&&a.browser.prefersReducedMotion)&&(f.duration=0);var O=this.transform,R=this.getZoom(),U=this.getBearing(),G=this.getPitch(),ne=this.getPadding(),Ae="zoom"in f?+f.zoom:R,ve="bearing"in f?this._normalizeBearing(f.bearing,U):U,de="pitch"in f?+f.pitch:G,Ie="padding"in f?f.padding:O.padding,Pe=a.Point.convert(f.offset),ze=O.centerPoint.add(Pe),ke=O.pointLocation(ze),Be=a.LngLat.convert(f.center||ke);this._normalizeCenter(Be);var Qe,et,At=O.project(ke),ht=O.project(Be).sub(At),gt=O.zoomScale(Ae-R);f.around&&(Qe=a.LngLat.convert(f.around),et=O.locationPoint(Qe));var Pt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ae!==R,this._rotating=this._rotating||U!==ve,this._pitching=this._pitching||de!==G,this._padding=!O.isPaddingEqual(Ie),this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,Pt),this._ease(function(zt){if(E._zooming&&(O.zoom=a.number(R,Ae,zt)),E._rotating&&(O.bearing=a.number(U,ve,zt)),E._pitching&&(O.pitch=a.number(G,de,zt)),E._padding&&(O.interpolatePadding(ne,Ie,zt),ze=O.centerPoint.add(Pe)),Qe)O.setLocationAtPoint(Qe,et);else{var Rt=O.zoomScale(O.zoom-R),Jt=Ae>R?Math.min(2,gt):Math.max(.5,gt),mn=Math.pow(Jt,1-zt),Tn=O.unproject(At.add(ht.mult(zt*mn)).mult(Rt));O.setLocationAtPoint(O.renderWorldCopies?Tn.wrap():Tn,ze)}E._fireMoveEvents(y)},function(zt){E._afterEase(y,zt)},f),this},p.prototype._prepareEase=function(f,y,E){E===void 0&&(E={}),this._moving=!0,y||E.moving||this.fire(new a.Event("movestart",f)),this._zooming&&!E.zooming&&this.fire(new a.Event("zoomstart",f)),this._rotating&&!E.rotating&&this.fire(new a.Event("rotatestart",f)),this._pitching&&!E.pitching&&this.fire(new a.Event("pitchstart",f))},p.prototype._fireMoveEvents=function(f){this.fire(new a.Event("move",f)),this._zooming&&this.fire(new a.Event("zoom",f)),this._rotating&&this.fire(new a.Event("rotate",f)),this._pitching&&this.fire(new a.Event("pitch",f))},p.prototype._afterEase=function(f,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var E=this._zooming,O=this._rotating,R=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new a.Event("zoomend",f)),O&&this.fire(new a.Event("rotateend",f)),R&&this.fire(new a.Event("pitchend",f)),this.fire(new a.Event("moveend",f))}},p.prototype.flyTo=function(f,y){var E=this;if(!f.essential&&a.browser.prefersReducedMotion){var O=a.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(O,y)}this.stop(),f=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},f);var R=this.transform,U=this.getZoom(),G=this.getBearing(),ne=this.getPitch(),Ae=this.getPadding(),ve="zoom"in f?a.clamp(+f.zoom,R.minZoom,R.maxZoom):U,de="bearing"in f?this._normalizeBearing(f.bearing,G):G,Ie="pitch"in f?+f.pitch:ne,Pe="padding"in f?f.padding:R.padding,ze=R.zoomScale(ve-U),ke=a.Point.convert(f.offset),Be=R.centerPoint.add(ke),Qe=R.pointLocation(Be),et=a.LngLat.convert(f.center||Qe);this._normalizeCenter(et);var At=R.project(Qe),ht=R.project(et).sub(At),gt=f.curve,Pt=Math.max(R.width,R.height),zt=Pt/ze,Rt=ht.mag();if("minZoom"in f){var Jt=a.clamp(Math.min(f.minZoom,U,ve),R.minZoom,R.maxZoom),mn=Pt/R.zoomScale(Jt-U);gt=Math.sqrt(mn/Rt*2)}var Tn=gt*gt;function kn(Rn){var An=(zt*zt-Pt*Pt+(Rn?-1:1)*Tn*Tn*Rt*Rt)/(2*(Rn?zt:Pt)*Tn*Rt);return Math.log(Math.sqrt(An*An+1)-An)}function _r(Rn){return(Math.exp(Rn)-Math.exp(-Rn))/2}function fn(Rn){return(Math.exp(Rn)+Math.exp(-Rn))/2}var Dn=kn(0),tr=function(Rn){return fn(Dn)/fn(Dn+gt*Rn)},Vn=function(Rn){return Pt*((fn(Dn)*(_r(An=Dn+gt*Rn)/fn(An))-_r(Dn))/Tn)/Rt;var An},zn=(kn(1)-Dn)/gt;if(Math.abs(Rt)<1e-6||!isFinite(zn)){if(Math.abs(Pt-zt)<1e-6)return this.easeTo(f,y);var Un=zt<Pt?-1:1;zn=Math.abs(Math.log(zt/Pt))/gt,Vn=function(){return 0},tr=function(Rn){return Math.exp(Un*gt*Rn)}}return f.duration="duration"in f?+f.duration:1e3*zn/("screenSpeed"in f?+f.screenSpeed/gt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=G!==de,this._pitching=Ie!==ne,this._padding=!R.isPaddingEqual(Pe),this._prepareEase(y,!1),this._ease(function(Rn){var An=Rn*zn,qr=1/tr(An);R.zoom=Rn===1?ve:U+R.scaleZoom(qr),E._rotating&&(R.bearing=a.number(G,de,Rn)),E._pitching&&(R.pitch=a.number(ne,Ie,Rn)),E._padding&&(R.interpolatePadding(Ae,Pe,Rn),Be=R.centerPoint.add(ke));var Vi=Rn===1?et:R.unproject(At.add(ht.mult(Vn(An))).mult(qr));R.setLocationAtPoint(R.renderWorldCopies?Vi.wrap():Vi,Be),E._fireMoveEvents(y)},function(){return E._afterEase(y)},f),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(f,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,y)}if(!f){var O=this.handlers;O&&O.stop(!1)}return this},p.prototype._ease=function(f,y,E){E.animate===!1||E.duration===0?(f(1),y()):(this._easeStart=a.browser.now(),this._easeOptions=E,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var f=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(f,y){f=a.wrap(f,-180,180);var E=Math.abs(f-y);return Math.abs(f-360-y)<E&&(f-=360),Math.abs(f+360-y)<E&&(f+=360),f},p.prototype._normalizeCenter=function(f){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var E=f.lng-y.center.lng;f.lng+=E>180?-360:E<-180?360:0}},p}(a.Evented),Xt=function(c){c===void 0&&(c={}),this.options=c,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Xt.prototype.getDefaultPosition=function(){return"bottom-right"},Xt.prototype.onAdd=function(c){var p=this.options&&this.options.compact;return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.type="button",this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("maplibregl-compact","mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Xt.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Xt.prototype._setElementTitle=function(c,p){var f=this._map._getUIString("AttributionControl."+p);c.title=f,c.setAttribute("aria-label",f)},Xt.prototype._toggleAttribution=function(){this._container.classList.contains("maplibregl-compact-show")||this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Xt.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(c){var f=p.reduce(function(y,E,O){return E.value&&(y+=E.key+"="+E.value+(O<p.length-1?"&":"")),y},"?");c.href=a.config.FEEDBACK_URL+"/"+f+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Xt.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Xt.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(U){return typeof U!="string"?"":U})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var f=this._map.style.sourceCaches;for(var y in f){var E=f[y];if(E.used){var O=E.getSource();O.attribution&&c.indexOf(O.attribution)<0&&c.push(O.attribution)}}c.sort(function(U,G){return U.length-G.length});var R=(c=c.filter(function(U,G){for(var ne=G+1;ne<c.length;ne++)if(c[ne].indexOf(U)>=0)return!1;return!0})).join(" | ");R!==this._attribHTML&&(this._attribHTML=R,c.length?(this._innerContainer.innerHTML=R,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._editLink=null)}},Xt.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("maplibregl-compact","mapboxgl-compact"):this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show")};var To=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};To.prototype.onAdd=function(c){this._map=c,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");var p=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},To.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},To.prototype.getDefaultPosition=function(){return"bottom-left"},To.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},To.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var p in c)if(c[p].getSource().mapbox_logo)return!0;return!1}},To.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(c){var p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p},Ga.prototype.remove=function(c){for(var p=this._currentlyRunning,f=0,y=p?this._queue.concat(p):this._queue;f<y.length;f+=1){var E=y[f];if(E.id===c)return void(E.cancelled=!0)}},Ga.prototype.run=function(c){c===void 0&&(c=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var f=0,y=p;f<y.length;f+=1){var E=y[f];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var zo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ji=a.window.HTMLImageElement,Np=a.window.HTMLElement,ta=a.window.ImageBitmap,h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m=function(c){function p(y){var E=this;if((y=a.extend({},h,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var O=new Ln(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(c.call(this,O,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},zo,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new a.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=a.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof Np))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Qt(this,y),this._hash=y.hash&&new Bl(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,a.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Xt({customAttribution:y.customAttribution})),this.addControl(new To,y.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(R){E._update(R.dataType==="style"),E.fire(new a.Event(R.dataType+"data",R))}),this.on("dataloading",function(R){E.fire(new a.Event(R.dataType+"dataloading",R))})}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,E){if(E===void 0&&(E=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var O=y.onAdd(this);this._controls.push(y);var R=this._controlPositions[E];return E.indexOf("bottom")!==-1?R.insertBefore(O,R.firstChild):R.appendChild(O),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(y);return E>-1&&this._controls.splice(E,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var E=this._containerDimensions(),O=E[0],R=E[1];this._resizeCanvas(O,R),this.transform.resize(O,R),this.painter.resize(O,R);var U=!this._moving;return U&&(this.stop(),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y))),this.fire(new a.Event("resize",y)),U&&this.fire(new a.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(a.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(a.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(a.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,E,O){var R,U=this;if(y==="mouseenter"||y==="mouseover"){var G=!1;return{layer:E,listener:O,delegates:{mousemove:function(Ae){var ve=U.getLayer(E)?U.queryRenderedFeatures(Ae.point,{layers:[E]}):[];ve.length?G||(G=!0,O.call(U,new Po(y,U,Ae.originalEvent,{features:ve}))):G=!1},mouseout:function(){G=!1}}}}if(y==="mouseleave"||y==="mouseout"){var ne=!1;return{layer:E,listener:O,delegates:{mousemove:function(Ae){(U.getLayer(E)?U.queryRenderedFeatures(Ae.point,{layers:[E]}):[]).length?ne=!0:ne&&(ne=!1,O.call(U,new Po(y,U,Ae.originalEvent)))},mouseout:function(Ae){ne&&(ne=!1,O.call(U,new Po(y,U,Ae.originalEvent)))}}}}return{layer:E,listener:O,delegates:(R={},R[y]=function(Ae){var ve=U.getLayer(E)?U.queryRenderedFeatures(Ae.point,{layers:[E]}):[];ve.length&&(Ae.features=ve,O.call(U,Ae),delete Ae.features)},R)}},p.prototype.on=function(y,E,O){if(O===void 0)return c.prototype.on.call(this,y,E);var R=this._createDelegatedListener(y,E,O);for(var U in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(R),R.delegates)this.on(U,R.delegates[U]);return this},p.prototype.once=function(y,E,O){if(O===void 0)return c.prototype.once.call(this,y,E);var R=this._createDelegatedListener(y,E,O);for(var U in R.delegates)this.once(U,R.delegates[U]);return this},p.prototype.off=function(y,E,O){var R=this;return O===void 0?c.prototype.off.call(this,y,E):(this._delegatedListeners&&this._delegatedListeners[y]&&function(U){for(var G=U[y],ne=0;ne<G.length;ne++){var Ae=G[ne];if(Ae.layer===E&&Ae.listener===O){for(var ve in Ae.delegates)R.off(ve,Ae.delegates[ve]);return G.splice(ne,1),R}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,E){if(!this.style)return[];var O;if(E!==void 0||y===void 0||y instanceof a.Point||Array.isArray(y)||(E=y,y=void 0),E=E||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof y[0]=="number")O=[a.Point.convert(y)];else{var R=a.Point.convert(y[0]),U=a.Point.convert(y[1]);O=[R,new a.Point(U.x,R.y),U,new a.Point(R.x,U.y),R]}return this.style.queryRenderedFeatures(O,E,this.transform)},p.prototype.querySourceFeatures=function(y,E){return this.style.querySourceFeatures(y,E)},p.prototype.setStyle=function(y,E){return(E=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(y,E))},p.prototype.setTransformRequest=function(y){return this._requestManager.setTransformRequest(y),this},p.prototype._getUIString=function(y){var E=this._locale[y];if(E==null)throw new Error("Missing UI string '"+y+"'");return E},p.prototype._updateStyle=function(y,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new Qn(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Qn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,E){var O=this;if(typeof y=="string"){var R=this._requestManager.normalizeStyleURL(y),U=this._requestManager.transformRequest(R,a.ResourceType.Style);a.getJSON(U,function(G,ne){G?O.fire(new a.ErrorEvent(G)):ne&&O._updateDiff(ne,E)})}else typeof y=="object"&&this._updateDiff(y,E)},p.prototype._updateDiff=function(y,E){try{this.style.setState(y)&&this._update(!0)}catch(O){a.warnOnce("Unable to perform style diff: "+(O.message||O.error||O)+".  Rebuilding the style from scratch."),this._updateStyle(y,E)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,E){return this._lazyInitEmptyStyle(),this.style.addSource(y,E),this._update(!0)},p.prototype.isSourceLoaded=function(y){var E=this.style&&this.style.sourceCaches[y];if(E!==void 0)return E.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var E in y){var O=y[E]._tiles;for(var R in O){var U=O[R];if(U.state!=="loaded"&&U.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,E,O){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,E,O)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,E,O){O===void 0&&(O={});var R=O.pixelRatio;R===void 0&&(R=1);var U=O.sdf;U===void 0&&(U=!1);var G=O.stretchX,ne=O.stretchY,Ae=O.content;if(this._lazyInitEmptyStyle(),E instanceof ji||ta&&E instanceof ta){var ve=a.browser.getImageData(E);this.style.addImage(y,{data:new a.RGBAImage({width:ve.width,height:ve.height},ve.data),pixelRatio:R,stretchX:G,stretchY:ne,content:Ae,sdf:U,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var de=E;this.style.addImage(y,{data:new a.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:R,stretchX:G,stretchY:ne,content:Ae,sdf:U,version:0,userImage:de}),de.onAdd&&de.onAdd(this,y)}},p.prototype.updateImage=function(y,E){var O=this.style.getImage(y);if(!O)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var R=E instanceof ji||ta&&E instanceof ta?a.browser.getImageData(E):E,U=R.width,G=R.height,ne=R.data;return U===void 0||G===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):U!==O.data.width||G!==O.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(O.data.replace(ne,!(E instanceof ji||ta&&E instanceof ta)),void this.style.updateImage(y,O))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,E){a.getImage(this._requestManager.transformRequest(y,a.ResourceType.Image),E)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,E){return this._lazyInitEmptyStyle(),this.style.addLayer(y,E),this._update(!0)},p.prototype.moveLayer=function(y,E){return this.style.moveLayer(y,E),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,E,O){return this.style.setLayerZoomRange(y,E,O),this._update(!0)},p.prototype.setFilter=function(y,E,O){return O===void 0&&(O={}),this.style.setFilter(y,E,O),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,E,O,R){return R===void 0&&(R={}),this.style.setPaintProperty(y,E,O,R),this._update(!0)},p.prototype.getPaintProperty=function(y,E){return this.style.getPaintProperty(y,E)},p.prototype.setLayoutProperty=function(y,E,O,R){return R===void 0&&(R={}),this.style.setLayoutProperty(y,E,O,R),this._update(!0)},p.prototype.getLayoutProperty=function(y,E){return this.style.getLayoutProperty(y,E)},p.prototype.setLight=function(y,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(y,E),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,E){return this.style.setFeatureState(y,E),this._update()},p.prototype.removeFeatureState=function(y,E){return this.style.removeFeatureState(y,E),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,E=0;return this._container&&(y=this._container.clientWidth||400,E=this._container.clientHeight||300),[y,E]},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("maplibregl-map","mapboxgl-map");var E=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",y);this._interactive&&E.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var O=this._containerDimensions();this._resizeCanvas(O[0],O[1]);var R=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",y),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(G){U[G]=S.create("div","maplibregl-ctrl-"+G+" mapboxgl-ctrl-"+G,R)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,E){var O=a.browser.devicePixelRatio||1;this._canvas.width=O*y,this._canvas.height=O*E,this._canvas.style.width=y+"px",this._canvas.style.height=E+"px"},p.prototype._setupPainter=function(){var y=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);E?(this.painter=new Ht(E,this.transform),a.webpSupported.testSupport(E)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var E,O=this,R=0,U=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=U.createQueryEXT(),U.beginQueryEXT(U.TIME_ELAPSED_EXT,E),R=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var G=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ne=this.transform.zoom,Ae=a.browser.now();this.style.zoomHistory.update(ne,Ae);var ve=new a.EvaluationParameters(ne,{now:Ae,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),de=ve.crossFadingFactor();de===1&&de===this._crossFadingFactor||(G=!0,this._crossFadingFactor=de),this.style.update(ve)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||G)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ie=a.browser.now()-R;U.endQueryEXT(U.TIME_ELAPSED_EXT,E),setTimeout(function(){var ke=U.getQueryObjectEXT(E,U.QUERY_RESULT_EXT)/1e6;U.deleteQueryEXT(E),O.fire(new a.Event("gpu-timing-frame",{cpuTime:Ie,gpuTime:ke}))},50)}if(this.listens("gpu-timing-layer")){var Pe=this.painter.collectGpuTimers();setTimeout(function(){var ke=O.painter.queryGpuTimers(Pe);O.fire(new a.Event("gpu-timing-layer",{layerTimes:ke}))},50)}var ze=this._sourcesDirty||this._styleDirty||this._placementDirty;return ze||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||ze||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,E=this._controls;y<E.length;y+=1)E[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var O=this.painter.context.gl.getExtension("WEBGL_lose_context");O&&O.loseContext(),v(this._canvasContainer),v(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(E){y._frame=null,y._render(E)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},f.showPadding.get=function(){return!!this._showPadding},f.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,E){a.setCacheLimits(y,E)},f.version.get=function(){return a.version},Object.defineProperties(p.prototype,f),p}(dt);function v(c){c.parentNode&&c.parentNode.removeChild(c)}var _={showCompass:!0,showZoom:!0,visualizePitch:!1},k=function(c){var p=this;this.options=a.extend({},_,c),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(f){return f.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(f){return p._map.zoomIn({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(f){return p._map.zoomOut({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(f){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:f}):p._map.resetNorth({},{originalEvent:f})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};k.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),p=c===this._map.getMaxZoom(),f=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},k.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},k.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new M(this._map,this._compass,this.options.visualizePitch)),this._container},k.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},k.prototype._createButton=function(c,p){var f=S.create("button",c,this._container);return f.type="button",f.addEventListener("click",p),f},k.prototype._setButtonTitle=function(c,p){var f=this._map._getUIString("NavigationControl."+p);c.title=f,c.setAttribute("aria-label",f)};var M=function(c,p,f){f===void 0&&(f=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new rc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,f&&(this.mousePitch=new Ws({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(p,"mousedown",this.mousedown),S.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(p,"touchmove",this.touchmove),S.addEventListener(p,"touchend",this.touchend),S.addEventListener(p,"touchcancel",this.reset)};function I(c,p,f){if(c=new a.LngLat(c.lng,c.lat),p){var y=new a.LngLat(c.lng-360,c.lat),E=new a.LngLat(c.lng+360,c.lat),O=f.locationPoint(c).distSqr(p);f.locationPoint(y).distSqr(p)<O?c=y:f.locationPoint(E).distSqr(p)<O&&(c=E)}for(;Math.abs(c.lng-f.center.lng)>180;){var R=f.locationPoint(c);if(R.x>=0&&R.y>=0&&R.x<=f.width&&R.y<=f.height)break;c.lng>f.center.lng?c.lng-=360:c.lng+=360}return c}M.prototype.down=function(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),S.disableDrag()},M.prototype.move=function(c,p){var f=this.map,y=this.mouseRotate.mousemoveWindow(c,p);if(y&&y.bearingDelta&&f.setBearing(f.getBearing()+y.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,p);E&&E.pitchDelta&&f.setPitch(f.getPitch()+E.pitchDelta)}},M.prototype.off=function(){var c=this.element;S.removeEventListener(c,"mousedown",this.mousedown),S.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(c,"touchmove",this.touchmove),S.removeEventListener(c,"touchend",this.touchend),S.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},M.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(a.window,"mousemove",this.mousemove),S.removeEventListener(a.window,"mouseup",this.mouseup)},M.prototype.mousedown=function(c){this.down(a.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),S.mousePos(this.element,c)),S.addEventListener(a.window,"mousemove",this.mousemove),S.addEventListener(a.window,"mouseup",this.mouseup)},M.prototype.mousemove=function(c){this.move(c,S.mousePos(this.element,c))},M.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},M.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},M.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},M.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},M.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var z={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Q(c,p,f){var y=c.classList;for(var E in z)y.remove("maplibregl-"+f+"-anchor-"+E,"mapboxgl-"+f+"-anchor-"+E);y.add("maplibregl-"+f+"-anchor-"+p,"mapboxgl-"+f+"-anchor-"+p)}var ie,fe=function(c){function p(f,y){if(c.call(this),(f instanceof a.window.HTMLElement||y)&&(f=a.extend({element:f},y)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=a.Point.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var E=S.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var O=S.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"stroke","none"),O.setAttributeNS(null,"stroke-width","1"),O.setAttributeNS(null,"fill","none"),O.setAttributeNS(null,"fill-rule","evenodd");var R=S.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill-rule","nonzero");var U=S.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");for(var G=0,ne=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];G<ne.length;G+=1){var Ae=ne[G],ve=S.createNS("http://www.w3.org/2000/svg","ellipse");ve.setAttributeNS(null,"opacity","0.04"),ve.setAttributeNS(null,"cx","10.5"),ve.setAttributeNS(null,"cy","5.80029008"),ve.setAttributeNS(null,"rx",Ae.rx),ve.setAttributeNS(null,"ry",Ae.ry),U.appendChild(ve)}var de=S.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"fill",this._color);var Ie=S.createNS("http://www.w3.org/2000/svg","path");Ie.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),de.appendChild(Ie);var Pe=S.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"opacity","0.25"),Pe.setAttributeNS(null,"fill","#000000");var ze=S.createNS("http://www.w3.org/2000/svg","path");ze.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Pe.appendChild(ze);var ke=S.createNS("http://www.w3.org/2000/svg","g");ke.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ke.setAttributeNS(null,"fill","#FFFFFF");var Be=S.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Qe=S.createNS("http://www.w3.org/2000/svg","circle");Qe.setAttributeNS(null,"fill","#000000"),Qe.setAttributeNS(null,"opacity","0.25"),Qe.setAttributeNS(null,"cx","5.5"),Qe.setAttributeNS(null,"cy","5.5"),Qe.setAttributeNS(null,"r","5.4999962");var et=S.createNS("http://www.w3.org/2000/svg","circle");et.setAttributeNS(null,"fill","#FFFFFF"),et.setAttributeNS(null,"cx","5.5"),et.setAttributeNS(null,"cy","5.5"),et.setAttributeNS(null,"r","5.4999962"),Be.appendChild(Qe),Be.appendChild(et),R.appendChild(U),R.appendChild(de),R.appendChild(Pe),R.appendChild(ke),R.appendChild(Be),E.appendChild(R),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=a.Point.convert(f&&f.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",function(At){At.preventDefault()}),this._element.addEventListener("mousedown",function(At){At.preventDefault()}),Q(this._element,this._anchor,"marker"),this._popup=null}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(f){var y=f.code,E=f.charCode||f.keyCode;y!=="Space"&&y!=="Enter"&&E!==32&&E!==13||this.togglePopup()},p.prototype._onMapClick=function(f){var y=f.originalEvent.target,E=this._element;this._popup&&(y===E||E.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this},p.prototype._update=function(f){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),f&&f.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,z[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(f){return this._offset=a.Point.convert(f),this._update(),this},p.prototype._onMove=function(f){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(f){return this._rotation=f||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(f){return this._rotationAlignment=f||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(a.Evented),Fe={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ke=0,it=!1,wt=function(c){function p(f){c.call(this),this.options=a.extend({},Fe,f),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){var y;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,ie!==void 0?y(ie):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(E){y(ie=E.state!=="denied")}):y(ie=!!a.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ke=0,it=!1},p.prototype._isOutOfMapMaxBounds=function(f){var y=this._map.getMaxBounds(),E=f.coords;return y&&(E.longitude<y.getWest()||E.longitude>y.getEast()||E.latitude<y.getSouth()||E.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",f)),this._finish()}},p.prototype._updateCamera=function(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude),E=f.coords.accuracy,O=this._map.getBearing(),R=a.extend({bearing:O},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(E),R,{geolocateSource:!0})},p.prototype._updateMarker=function(f){if(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var f=this._map._container.clientHeight/2,y=this._map.unproject([0,f]),E=this._map.unproject([1,f]),O=y.distanceTo(E),R=Math.ceil(2*this._accuracy/O);this._circleElement.style.width=R+"px",this._circleElement.style.height=R+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&it)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",f)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(f){var y=this;if(this._container.addEventListener("contextmenu",function(R){return R.preventDefault()}),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",f===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var O=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=O,this._geolocateButton.setAttribute("aria-label",O)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new fe(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fe({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(R){R.geolocateSource||y._watchState!=="ACTIVE_LOCK"||R.originalEvent&&R.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),y.fire(new a.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ke--,it=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ke>1?(f={maximumAge:6e5,timeout:0},it=!0):(f=this.options.positionOptions,it=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(a.Evented),Et={maxWidth:100,unit:"metric"},Nt=function(c){this.options=a.extend({},Et,c),a.bindAll(["_onMove","setUnit"],this)};function ln(c,p,f){var y=f&&f.maxWidth||100,E=c._container.clientHeight/2,O=c.unproject([0,E]),R=c.unproject([y,E]),U=O.distanceTo(R);if(f&&f.unit==="imperial"){var G=3.2808*U;G>5280?mt(p,y,G/5280,c._getUIString("ScaleControl.Miles")):mt(p,y,G,c._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?mt(p,y,U/1852,c._getUIString("ScaleControl.NauticalMiles")):U>=1e3?mt(p,y,U/1e3,c._getUIString("ScaleControl.Kilometers")):mt(p,y,U,c._getUIString("ScaleControl.Meters"))}function mt(c,p,f,y){var E,O,R,U=(E=f,(O=Math.pow(10,(""+Math.floor(E)).length-1))*(R=(R=E/O)>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(G){var ne=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*ne)/ne}(R)));c.style.width=p*(U/f)+"px",c.innerHTML=U+"&nbsp;"+y}Nt.prototype.getDefaultPosition=function(){return"bottom-left"},Nt.prototype._onMove=function(){ln(this._map,this._container,this.options)},Nt.prototype.onAdd=function(c){return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Nt.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Nt.prototype.setUnit=function(c){this.options.unit=c,ln(this._map,this._container,this.options)};var Lt=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof a.window.HTMLElement?this._container=c.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Lt.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Lt.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Lt.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Lt.prototype._setupUI=function(){var c=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Lt.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Lt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Lt.prototype._isFullscreen=function(){return this._fullscreen},Lt.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Lt.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Xe={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),_n=function(c){function p(f){c.call(this),this.options=a.extend(Object.create(Xe),f),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(f){return this.setDOMContent(a.window.document.createTextNode(f))},p.prototype.setHTML=function(f){var y,E=a.window.document.createDocumentFragment(),O=a.window.document.createElement("body");for(O.innerHTML=f;y=O.firstChild;)E.appendChild(y);return this.setDOMContent(E)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(f){return this.options.maxWidth=f,this._update(),this},p.prototype.setDOMContent=function(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(f){this._container&&this._container.classList.add(f)},p.prototype.removeClassName=function(f){this._container&&this._container.classList.remove(f)},p.prototype.setOffset=function(f){return this.options.offset=f,this._update(),this},p.prototype.toggleClassName=function(f){if(this._container)return this._container.classList.toggle(f)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(f){this._update(f.point)},p.prototype._onMouseMove=function(f){this._update(f.point)},p.prototype._onDrag=function(f){this._update(f.point)},p.prototype._update=function(f){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(ve){return y._container.classList.add(ve)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||f)){var E=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat),O=this.options.anchor,R=function ve(de){if(de){if(typeof de=="number"){var Ie=Math.round(Math.sqrt(.5*Math.pow(de,2)));return{center:new a.Point(0,0),top:new a.Point(0,de),"top-left":new a.Point(Ie,Ie),"top-right":new a.Point(-Ie,Ie),bottom:new a.Point(0,-de),"bottom-left":new a.Point(Ie,-Ie),"bottom-right":new a.Point(-Ie,-Ie),left:new a.Point(de,0),right:new a.Point(-de,0)}}if(de instanceof a.Point||Array.isArray(de)){var Pe=a.Point.convert(de);return{center:Pe,top:Pe,"top-left":Pe,"top-right":Pe,bottom:Pe,"bottom-left":Pe,"bottom-right":Pe,left:Pe,right:Pe}}return{center:a.Point.convert(de.center||[0,0]),top:a.Point.convert(de.top||[0,0]),"top-left":a.Point.convert(de["top-left"]||[0,0]),"top-right":a.Point.convert(de["top-right"]||[0,0]),bottom:a.Point.convert(de.bottom||[0,0]),"bottom-left":a.Point.convert(de["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(de["bottom-right"]||[0,0]),left:a.Point.convert(de.left||[0,0]),right:a.Point.convert(de.right||[0,0])}}return ve(new a.Point(0,0))}(this.options.offset);if(!O){var U,G=this._container.offsetWidth,ne=this._container.offsetHeight;U=E.y+R.bottom.y<ne?["top"]:E.y>this._map.transform.height-ne?["bottom"]:[],E.x<G/2?U.push("left"):E.x>this._map.transform.width-G/2&&U.push("right"),O=U.length===0?"bottom":U.join("-")}var Ae=E.add(R[O]).round();S.setTransform(this._container,z[O]+" translate("+Ae.x+"px,"+Ae.y+"px)"),Q(this._container,O,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var f=this._container.querySelector(vn);f&&f.focus()}},p.prototype._onClose=function(){this.remove()},p}(a.Evented),Wt={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:m,NavigationControl:k,GeolocateControl:wt,AttributionControl:Xt,ScaleControl:Nt,FullscreenControl:Lt,Popup:_n,Marker:fe,Style:Qn,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){$t().acquire(Ge)},clearPrewarmedResources:function(){var c=me;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(Ge),me=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(c){a.config.ACCESS_TOKEN=c},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(c){a.config.API_URL=c},get workerCount(){return A.workerCount},set workerCount(c){A.workerCount=c},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){a.clearTileCache(c)},workerUrl:"",addProtocol:function(c,p){a.config.REGISTERED_PROTOCOLS[c]=p},removeProtocol:function(c){delete a.config.REGISTERED_PROTOCOLS[c]}};return Wt}),s})})(qae);class Gae{constructor(){rr(this,"errorSetter",t=>{console.warn("Hook for renderer errors not installed. You must add it in logical layer by setErrorState method")});rr(this,"onError",t=>{t instanceof Error?this.errorSetter(t):typeof t=="string"?this.errorSetter(new Error(t)):this.errorSetter(new Error("unknown"))})}setErrorState(t){this.errorSetter=t}setupExtension(t){}willInit(t){}willMount(t){}willUnMount(t){}willHide(t){}willUnhide(t){}willLegendUpdate(t){}willSourceUpdate(t){}willDestroy(t){}}Oo({currentMapAtom:QL},({onChange:e,schedule:t})=>{e("currentMapAtom",(n,i)=>{i&&t(s=>{s([xg.clear(),C0.clear()])})})},"autoClearAtom");const Qae=["background","raster","hillshade","heatmap","fill","fill-extrusion","line","circle","symbol","custom"];class Wae{constructor(){rr(this,"_baseMapFirstLayerIdx",null);rr(this,"_map",null);rr(this,"_layersSettings",null);rr(this,"_layersParentsIds",null);rr(this,"_unsubscribe",[]);rr(this,"_typesOrder",[...Qae]);rr(this,"_awaitingTasks",new Set)}init(t,n,i){this._map=t,this._unsubscribe.push(i.subscribe(s=>this._layersSettings=s)),this._layersParentsIds=n,this._baseMapFirstLayerIdx=(t.getStyle().layers??[]).length-1,this._awaitingTasks.forEach(s=>{this._awaitingTasks.delete(s),s(t)})}destroy(){this._unsubscribe.forEach(t=>t())}getIdToMountOnTypesTop(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesTopSync.bind(this))}getIdToMountOnTypesBottom(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesBottomSync.bind(this))}_getIdToMountOnTypesTopSync(t,n,i){var L,F,N,$;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),a=(L=this._layersParentsIds)==null?void 0:L.get(i),x=(N=(F=this._layersSettings)==null?void 0:F.get(a||""))==null?void 0:N.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,P=l==null?void 0:l.find(q=>{if(S==="base")return q.category!=="base";if(S==="overlay")return q.category===void 0});if(S&&P)return P.layer.id;if(!P||!S){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(te=>{var V;return(V=s.get(te))==null?void 0:V.length});return q?($=s.get(q))==null?void 0:$[0].layer.id:void 0}}_getIdToMountOnTypesBottomSync(t,n,i){var L,F,N,$;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),a=(L=this._layersParentsIds)==null?void 0:L.get(i),x=(N=(F=this._layersSettings)==null?void 0:F.get(a||""))==null?void 0:N.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,P=(()=>{if(S==="base")return l==null?void 0:l[0];if(S==="overlay")return l==null?void 0:l.find(q=>q.category==="overlay"||q.category===void 0);if(S===void 0)return l==null?void 0:l.find(q=>q.category===void 0)})();if(P)return P.layer.id;if(!(l!=null&&l.length)||!P){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(te=>{var V;return(V=s.get(te))==null?void 0:V.length});return q?($=s.get(q))==null?void 0:$[0].layer.id:void 0}}_getMountedOrderedLayers(t){if(this._baseMapFirstLayerIdx===null)return;const n=t.getStyle().layers??[];if(n.length===0)return;const i=n.slice(this._baseMapFirstLayerIdx+1);if(!i.length)return;const s=new Map;return i.forEach(l=>{var S,P,L,F;const a=(S=this._layersParentsIds)==null?void 0:S.get(l.id);if(!a)return console.warn("id was not found for",l.id,l);const x=s.get(l.type)||[];x.push({layer:l,category:(F=(L=(P=this._layersSettings)==null?void 0:P.get(a))==null?void 0:L.data)==null?void 0:F.category}),s.set(l.type,x)}),s}_asyncWrap(t,n,i,s){const l=this._map;l===null||this._baseMapFirstLayerIdx===null?this._awaitingTasks.add(a=>{i(s(a,t,n))}):i(s(l,t,n))}}const Kae=new Wae,qw=new Map;function sP(e,t=Kae){function n(l,a){qw.set(l.id,a),t.getIdToMountOnTypesTop(l.type,l.id,x=>e.addLayer(l,x))}function i(l,a){qw.set(l.id,a),t.getIdToMountOnTypesBottom(l.type,l.id,x=>e.addLayer(l,x))}function s(l,a){qw.set(l.id,a),e.addLayer(l,void 0)}return{addAboveLayerWithSameType:n,addUnderLayerWithSameType:i,addAboveAllExistingLayers:s}}const Zae=(e,t)=>new Promise((n,i)=>{try{e.on(t,n)}catch(s){i(s)}});function lP(e){if(!e._loaded)return Zae(e,"load")}const Xae={click:[],mousemove:[]};function M1(e,t,n=50){return uP.addMapListener.dispatch(e,t,n),()=>{uP.removeMapListener.dispatch(e,t)}}const uP=Oo({addMapListener:(e,t,n)=>({eventType:e,listener:t,priority:n}),removeMapListener:(e,t)=>({eventType:e,listener:t})},({onAction:e},t=Xae)=>(e("addMapListener",({eventType:n,listener:i,priority:s})=>{const l=[...t[n]];if(!l.length)l.push({listener:i,priority:s});else for(let a=0;a<l.length;a++){const x=l[a];if(s<x.priority){l.splice(a,0,{listener:i,priority:s});break}else if(x.priority===s){l.splice(a+1,0,{listener:i,priority:s});break}else if(l[a+1]){if(s>x.priority&&s<l[a+1].priority){l.splice(a+1,0,{listener:i,priority:s});break}}else{l.push({listener:i,priority:s});break}}t={...t,[n]:l}}),e("removeMapListener",({eventType:n,listener:i})=>t[n]=t[n].filter(s=>s.listener!==i)),t),"[Shared state] mapListenersAtom"),Yae="_tootipRoot_i3o78_1",Jae="_hexagon_i3o78_5",ese="_labels_i3o78_28",tse="_column_i3o78_34",nse="_bivariateHexagonPopupContentRoot_i3o78_45",PA={tootipRoot:Yae,hexagon:Jae,labels:ese,column:tse,bivariateHexagonPopupContentRoot:nse},cP=PA.bivariateHexagonPopupContentRoot,rse=e=>$S(e)?r2:die(e)?i2:LL,ise=e=>jS(e)?r2:mie(e)?i2:LL,ose=({hexagonColor:e,axis:t,cellIndex:n,cellLabel:i,values:s})=>wr("div",{className:PA.tootipRoot,children:[_t("div",{className:PA.hexagon,children:_t("div",{style:{background:e},children:i})}),wr("div",{className:PA.labels,children:[wr("div",{className:PA.column,children:[_t("span",{children:t.x.label||z8(t.x.quotients)}),_t("span",{children:t.y.label||z8(t.y.quotients)})]}),s&&wr("div",{className:PA.column,children:[_t("span",{children:s.x}),_t("span",{children:s.y})]}),wr("div",{className:PA.column,children:[_t("span",{children:rse(n)}),_t("span",{children:ise(n)})]})]})]});Oo({set:e=>e,reset:()=>null},({onAction:e},t=null)=>(e("set",n=>t={id:n}),e("reset",()=>t=null),t),"[Shared state] currentEpisodeAtom");const ase=Oo({setCurrentEventId:e=>e,focusedGeometryAtom:XL},({onAction:e,onChange:t},n=null)=>(t("focusedGeometryAtom",i=>{const s=i==null?void 0:i.source;s&&s.type!=="event"&&s.type!=="episode"&&(n={id:null})}),e("setCurrentEventId",i=>n={id:i}),n),"[Shared state] currentEventAtom"),sse=vL(!1,"scheduledAutoSelect");vL(!1,"scheduledAutoFocus");const lse=$L(null,async(e,t)=>qL.get("/events/user_feeds",void 0,!0,{signal:t.signal}),"eventFeedsResource"),fP=[cse(sa.defaultFeed)],use=Oo({eventFeedsResourceAtom:lse},({get:e},t=fP)=>{const{data:n,error:i,loading:s}=e("eventFeedsResourceAtom");return!s&&!i?n?(console.assert(n.map(l=>l.feed).includes(sa.defaultFeed),"default feed not included in response"),n):[...fP]:t},"[Shared state] eventFeeds");function cse(e){return(!e||e!=="kontur-public")&&console.warn("WARNING! Default feed provided via config is incorrect or absent"),{feed:"kontur-public",name:Ai.t("configs.Kontur_public_feed"),description:Ai.t("configs.Kontur_public_feed_description"),default:!0}}Oo({setCurrentFeed:e=>e,setFeedForExistingEvent:e=>e,resetCurrentFeed:()=>null,eventFeedsAtom:use},({onAction:e,onChange:t,schedule:n,getUnlistedState:i},s={id:sa.defaultFeed})=>(e("setCurrentFeed",l=>{(s==null?void 0:s.id)!==l&&(s={id:l})}),e("resetCurrentFeed",()=>{s&&(s=null)}),t("eventFeedsAtom",l=>{if(l&&l.length){const a=fse(l,s==null?void 0:s.id);a!==void 0&&a!==(s==null?void 0:s.id)&&(s={id:a},i(ase)!==null&&n(S=>S(sse.setTrue())))}}),s),"[Shared state] currentEventFeedAtom");function fse(e,t){if(!t)return sa.defaultFeed;const n=e==null?void 0:e.find(i=>i.feed===t);return n?n.feed:sa.defaultFeed}Oo({setCurrentMapPosition:e=>e},({onAction:e,schedule:t},n=null)=>(e("setCurrentMapPosition",({lat:i,lng:s,zoom:l})=>{n===null&&(n={lat:i,lng:s,zoom:l}),(n.lat!==i||n.lng!==s||n.zoom!==l)&&(n={lat:i,lng:s,zoom:l})}),n),"[Shared state] currentMapPositionAtom");Oo({addControl:e=>e,removeControl:e=>e,toggleActiveState:e=>e,enable:e=>e,disable:e=>e,reset:()=>null,currentUserAtom:XS},({onAction:e,onChange:t,schedule:n,create:i},s={})=>(t("currentUserAtom",(l,a)=>{a!==void 0&&n(x=>{x(i("reset"))})}),e("addControl",l=>{s={...s,[l.id]:l}}),e("removeControl",l=>{delete s[l],s={...s}}),e("enable",l=>{var L;const a=s[l];(L=a.onChange)==null||L.call(a,!0);const x={...s[l],active:!0},S={...s,[l]:x},P=[];Object.entries(S).forEach(([F,N])=>{if(N.id!==l&&N.exclusiveGroup===a.exclusiveGroup&&N.active){const $=i("disable",N.id);P.push($)}}),P.length&&n(F=>{F(P)}),s=S}),e("disable",l=>{var S;const a=s[l];(S=a==null?void 0:a.onChange)==null||S.call(a,!1);const x={...s[l],active:!1};s={...s,[l]:x}}),e("toggleActiveState",l=>{if(!s[l])return console.error(`[toolbarControlsAtom] Cannot toggle state for ${l} because it doesn't exist`);const x=i(s[l].active?"disable":"enable",l);n(S=>S(x))}),e("reset",()=>{Object.entries(s).forEach(([l,a])=>{var x;a.active&&((x=a.onChange)==null||x.call(a,!1))}),s={}}),s),"[Shared state] toolbarControlsAtom");const pse=FK,hse=Oo({set:(e={...sa.effectiveFeatures})=>e},({onAction:e},t={})=>{if(e("set",n=>{n?t=n:t={...sa.effectiveFeatures}}),{}.VITE_FEATURES_CONFIG)try{const n=JSON.parse({}.VITE_FEATURES_CONFIG);n&&(t={...t,...n})}catch(n){console.error("Local features override error",n)}return t},"[Shared state] featureFlagsAtom"),Ase="rgba(90, 200, 127, 0.5)",dse="rgba(228, 26, 28, 0.5)",mse=["bad","good"],gse=["good","bad"];class yse{constructor(){rr(this,"add",(t,n)=>["+",t,n]);rr(this,"sub",(t,n)=>["-",t,n]);rr(this,"mult",(t,n)=>["*",t,n]);rr(this,"div",(t,n)=>["/",t,n]);rr(this,"log",t=>["ln",t]);rr(this,"sqrt",t=>["sqrt",t])}}class vse{constructor(){rr(this,"add",(t,n)=>t+n);rr(this,"sub",(t,n)=>t-n);rr(this,"mult",(t,n)=>t*n);rr(this,"div",(t,n)=>t/n);rr(this,"log",t=>Math.log(t));rr(this,"sqrt",t=>Math.sqrt(t))}}const pP=(e,t)=>e.length===t.length&&e.every((n,i)=>n===t[i]);class rD{constructor(t){rr(this,"math");this.math=t}rate({num:t,den:n}){return this.math.div(t,n)}normalize({x:t,min:n,max:i}){return this.math.div(this.math.sub(t,n),this.math.sub(i,n))}transform({x:t,min:n,max:i,transformation:s}){switch(s){case"no":return{tX:t,tMin:n,tMax:i};case"square_root":return{tX:this.math.sqrt(t),tMin:this.math.sqrt(n),tMax:this.math.sqrt(i)};case"natural_logarithm":return{tX:this.math.log(this.math.add(t,1)),tMin:this.math.log(this.math.add(n,1)),tMax:this.math.log(this.math.add(i,1))}}}invert(t){return this.math.sub(1,t)}scale(t,n){return this.math.mult(t,n)}}const _se=new rD(new yse),xse=new rD(new vse),iD=(e,t)=>({axis:n,range:i,coefficient:s,sentiment:l,transformationFunction:a,normalization:x})=>{const[S,P]=n,[L,F]=i,N=pP(l,gse);N||console.assert(pP(l,mse),"Not inverted equals default");const $=t({num:S,den:P}),q=e.rate($),{tX:K,tMin:te,tMax:V}=e.transform({x:q,min:L,max:F,transformation:a}),X=x==="max-min"?e.normalize({x:K,min:te,max:V}):K,ee=N?e.invert(X):X;return e.scale(ee,s)},hP=iD(_se,e=>({num:["get",e.num],den:["get",e.den]}));function bse(e){return DL(...e.map(({axis:t})=>VS(["/",LA(t[0]),LA(t[1])],0)))}function wse(e){return e.length===1?hP(e.at(0)):["/",["+",...e.map(hP)],WS(e,"coefficient")]}function Sse({colorsConfig:e,mcdaResult:t,absoluteMin:n,absoluteMax:i}){const{good:s=Ase,bad:l=dse}=e.parameters;return{"fill-color":["let","mcdaResult",["to-number",t,-9999],["case",["all",[">=",["var","mcdaResult"],n],["<=",["var","mcdaResult"],i]],["interpolate-hcl",["linear"],["var","mcdaResult"],0,l,1,s],"transparent"]],"fill-opacity":1,"fill-antialias":!1}}function Cse({colorsConfig:e,mcdaResult:t,absoluteMax:n,absoluteMin:i}){return Object.entries(e.parameters).reduce((s,[l,a])=>(s[l]=Array.isArray(a)?["let","mcdaResult",["to-number",t,-9999],"absoluteMax",["to-number",n,-9999],"absoluteMin",["to-number",i,-9999],...a]:a,s),{})}function Ese(e){switch(e.colorsConfig.type){case"sentiments":return Sse(e);case"mapLibreExpression":return Cse(e)}}function kse(e){const[t=0,n=1]=e.layers.reduce((l,a)=>{const x=a.normalization==="no"?a.range:[0,1];return l.length===0?x:(l[0]=Math.min(l[0],x[0]),l[1]=Math.min(l[1],x[1]),l)},[]),i=wse(e.layers);return{id:e.id,type:"fill",layout:{},filter:bse(e.layers),paint:Ese({colorsConfig:e.colors,mcdaResult:i,absoluteMin:t,absoluteMax:n}),source:{type:"vector",tiles:[`${a2(sa.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${sa.bivariateTilesIndicatorsClass}`],maxzoom:8,minzoom:0},"source-layer":"stats"}}const Pse={mcda:e=>new Array(kse(e))},Tse="_result_1vl4a_1",Ise="_tableBody_1vl4a_6",AP={result:Tse,tableBody:Ise},Mse=({layers:e,normalized:t,resultMCDA:n})=>wr("table",{children:[_t("thead",{children:wr("tr",{children:[_t("th",{children:"Layer"}),_t("th",{children:"Range"}),_t("th",{children:"Coefficient"}),_t("th",{children:"Value"}),_t("th",{children:"Normalized Value"})]})}),wr("tbody",{className:AP.tableBody,children:[e.map(({axis:i,range:s,coefficient:l})=>{const[a,x]=s,[S,P]=i;return wr("tr",{children:[wr("td",{children:[S," / ",P]}),wr("td",{children:[a," - ",x]}),_t("td",{children:l}),_t("td",{children:t[`${S}-${P}`].val.toFixed(2)}),_t("td",{children:t[`${S}-${P}`].norm.toFixed(2)})]},`${S}-${P}`)}),_t("tr",{children:_t("td",{colSpan:5,children:wr("b",{className:AP.result,children:["Result: ",n.toFixed(2)]})})})]})]});function Ose(e,t){const n=iD(xse,({num:i,den:s})=>{var l,a;return{num:(l=e.properties)==null?void 0:l[i],den:(a=e.properties)==null?void 0:a[s]}});return t.reduce((i,s)=>{var S,P;const[l,a]=s.axis,x=((S=e.properties)==null?void 0:S[l])/((P=e.properties)==null?void 0:P[a]);return i[`${l}-${a}`]={val:x,norm:n(s)},i},{})}function Lse(e,t){const n=WS(Object.values(t),"norm"),i=WS(e,"coefficient");return n/i}function Dse(e,t){const n=Ose(e,t),i=Lse(t,n),s=document.createElement("div");return K4(s).render(Mse({layers:t,normalized:n,resultMCDA:i})),s}const Rse=8,dP="rgba(5, 22, 38, 0.4)",mP="rgb(5, 22, 38)",Gw="hex-selected-layer",hf="hex-selected-source",Af="hex-hover-source",Qw="hex-hover-layer",O1=e=>e.a===0&&e.r===0&&e.g===0&&e.b===0,Fse=(e,t=!0)=>`rgba(${e.r*255*2},${e.g*255*2},${e.b*255*2}${t?","+e.a:""})`,L1=(e,t)=>{const n=$ae(e.lat,e.lng,Math.min(t,Rse)),i=jae(n,!0);return Bse(i),{type:"Polygon",coordinates:[i]}};function Bse(e){let t=!1;for(let n=0;n<e.length;n++)if(Math.abs(e[0][0]-e[(n+1)%e.length][0])>180){t=!0;break}t&&e.forEach(zse)}function zse(e){const t=e[0];e[0]=t<0?t+360:t}const gP=(e,t,n)=>{const i=e[t],s=e[n];if(i==null||s==null)return"0.00";if(s!==0)return(i/s).toFixed(2)};class Nse extends Gae{constructor({id:n,layersOrderManager:i}){super();rr(this,"id");rr(this,"_layerId");rr(this,"_sourceId");rr(this,"_removeClickListener",null);rr(this,"_removeMouseMoveListener",null);rr(this,"_layersOrderManager");rr(this,"_popup");rr(this,"onMapZoom",n=>{this.cleanPopupWithDeps(n.target)});this.id=n,this._layersOrderManager=i,this._sourceId=Yoe+this.id}_generateLayerFromLegend(n){if(n.type==="bivariate")return wae(n);throw new Error(`Unexpected legend type '${n.type}'`)}_setTileScheme(n,i){n.includes("{-y}")&&(i.scheme="tms")}async mountBivariateLayer(n,i,s){const l={type:"vector",tiles:i.source.urls.map(a=>a2(a)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};if(this._setTileScheme(i.source.urls[0],l),await lP(n),n.getSource(this._sourceId)===void 0&&n.addSource(this._sourceId,l),s){const a=this._generateLayerFromLegend(s),x=`${tP+this.id}`;if(n.getLayer(x))return;const S={...a,id:x,source:this._sourceId};sP(n,this._layersOrderManager).addAboveLayerWithSameType(S,this.id),this._layerId=S.id}else throw new Error(`[GenericLayer ${this.id}] Vector layers must have legend`)}addBivariatePopup(n,i){const s=S=>{var Ze;const P=S.target.queryRenderedFeatures(S.point).filter(ot=>ot.source.includes(this._sourceId));if(!P.length||!i||!P[0].geometry)return!0;const L=P[0],F=L1(S.lngLat,n.getZoom()),N=(Ze=L.layer.paint)==null?void 0:Ze["fill-color"];if(!N||O1(N)||!L.properties)return!0;const $=hse.getState()[pse.BIVARIATE_MANAGER],[q,K]=i.axis.x.quotient,[te,V]=i.axis.y.quotient,X=gP(L.properties,q,K),ee=gP(L.properties,te,V);if(!X||!ee)return!0;const ce=Fse(N),_e=Pie(i.steps,"label"),re=kae(i.axis.x.steps,i.axis.y.steps,Number(X),Number(ee)),Se=_e.findIndex(ot=>ot.label===re),Le=document.createElement("div");return K4(Le).render(_t(ose,{cellLabel:_e[Se].label,cellIndex:Se,axis:i.axis,values:$?{x:X,y:ee}:void 0,hexagonColor:ce})),this.cleanPopup(),this._popup=new l2.Popup({closeOnClick:!0,className:cP,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(Le).addTo(n),this._popup.once("close",()=>{this.cleanSelection(n)}),this.cleanHover(n),n.getSource(hf)?n.getSource(hf).setData({type:"Feature",geometry:F,properties:{}}):(n.addSource(hf,{type:"geojson",data:{type:"Feature",geometry:F,properties:{}}}),n.addLayer({id:Gw,type:"line",source:hf,layout:{},paint:{"line-color":mP,"line-width":1}})),!0},a=B8(S=>{var $,q;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!(($=P[0])!=null&&$.source.includes(this._sourceId)))return;const L=P[0],F=L1(S.lngLat,n.getZoom()),N=(q=L.layer.paint)==null?void 0:q["fill-color"];!N||O1(N)||(n.getSource(Af)?n.getSource(Af).setData({type:"Feature",geometry:F,properties:{}}):(n.addSource(Af,{type:"geojson",data:{type:"Feature",geometry:F,properties:{}}}),n.addLayer({id:Qw,type:"line",source:Af,layout:{},paint:{"line-color":dP,"line-width":1}})))},100);n.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null);const x=S=>(a(S),!0);this._removeMouseMoveListener=M1("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=M1("click",s,60)}async mountMCDALayer(n,i,s){const l={type:"vector",tiles:i.source.urls.map(P=>a2(P)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};this._setTileScheme(i.source.urls[0],l),await lP(n),n.getSource(this._sourceId)===void 0&&n.addSource(this._sourceId,l);const a=Pse.mcda(s.config)[0],x=`${tP+this.id}`;if(n.getLayer(x))return;const S={...a,id:x,source:this._sourceId};sP(n,this._layersOrderManager).addAboveLayerWithSameType(S,this.id),this._layerId=x}addMCDAPopup(n,i){const s=S=>{var q;const P=S.target.queryRenderedFeatures(S.point).filter(K=>K.source.includes(this._sourceId));if(!P.length||!P[0].geometry)return!0;const[L]=P,F=(q=L.layer.paint)==null?void 0:q["fill-color"];if(!F||O1(F)||!L.properties)return!0;const N=Dse(L,i.config.layers);this.cleanPopup(),this._popup=new l2.Popup({closeOnClick:!0,className:cP,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(N).addTo(n),this._popup.once("close",()=>{this.cleanSelection(n)}),this.cleanHover(n);const $=L1(S.lngLat,n.getZoom());return n.getSource(hf)?n.getSource(hf).setData({type:"Feature",geometry:$,properties:{}}):(n.addSource(hf,{type:"geojson",data:{type:"Feature",geometry:$,properties:{}}}),n.addLayer({id:Gw,type:"line",source:hf,layout:{},paint:{"line-color":mP,"line-width":1}})),!0},a=B8(S=>{var $,q;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!(($=P[0])!=null&&$.source.includes(this._sourceId)))return!0;const L=P[0],F=L1(S.lngLat,n.getZoom()),N=(q=L.layer.paint)==null?void 0:q["fill-color"];!N||O1(N)||(n.getSource(Af)?n.getSource(Af).setData({type:"Feature",geometry:F,properties:{}}):(n.addSource(Af,{type:"geojson",data:{type:"Feature",geometry:F,properties:{}}}),n.addLayer({id:Qw,type:"line",source:Af,layout:{},paint:{"line-color":dP,"line-width":1}})))},100);n.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null);const x=S=>(a(S),!0);this._removeMouseMoveListener=M1("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=M1("click",s,60)}_updateMap(n,i,s,l,a){i!=null&&((a==null?void 0:a.type)==="mcda"?(this.mountMCDALayer(n,i,a),this.addMCDAPopup(n,a)):(this.mountBivariateLayer(n,i,s),this.addBivariatePopup(n,s)),l||this.willHide({map:n}))}cleanPopup(){this._popup&&(this._popup.remove(),this._popup=null)}cleanHover(n){n.getSource(Af)&&(n.removeLayer(Qw),n.removeSource(Af))}cleanSelection(n){n.getSource(hf)&&(n.removeLayer(Gw),n.removeSource(hf))}cleanPopupWithDeps(n){this.cleanPopup(),this.cleanHover(n),this.cleanSelection(n)}willSourceUpdate({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible,i.style)}willMount({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible,i.style)}willUnMount({map:n}){var i,s;this._layerId&&n.getLayer(this._layerId)?(n.removeLayer(this._layerId),this._layerId=void 0):console.warn(`Can't remove layer with ID: ${this._layerId}. Layer does't exist in map`),this.cleanPopupWithDeps(n),n.off("zoom",this.onMapZoom),n.getSource(this._sourceId)?n.removeSource(this._sourceId):console.warn(`Can't remove source with ID: ${this._sourceId}. Source does't exist in map`),(i=this._removeClickListener)==null||i.call(this),(s=this._removeMouseMoveListener)==null||s.call(this)}willHide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?(n.setLayoutProperty(this._layerId,"visibility","none"),this.cleanPopupWithDeps(n)):console.warn(`Can't hide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willUnhide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?n.setLayoutProperty(this._layerId,"visibility","visible"):console.warn(`Cannot unhide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willDestroy({map:n}){this._layerId===void 0||n===null||n.getLayer(this._layerId)!==void 0&&this.willUnMount({map:n})}}const Ww=(e,t,n)=>{const i=e?e.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.xNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.xDenominator)):-1,s=t?t.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.yNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.yDenominator)):-1;return{x:i,y:s}},yP=(e,t,n)=>{const i=[...e];let s;const l=i.findIndex(({quotients:a})=>(s=a.find(x=>x[0]===t&&x[1]===n),s));return s&&(i[l]={...i[l],selectedQuotient:s}),i},Use={xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null,selectCellCallback:null},Kw=(e,t,n,i)=>({xNumerator:e,xDenominator:t,yNumerator:n,yDenominator:i}),$se=Oo({enabledLayersAtom:NA,layersLegendsAtom:g5,calculateSelectedCell:()=>null,resetSelection:()=>null,setSelectCellCallback:e=>e,runPreselection:()=>null,setMatrixSelection:Kw,presetMatrixSelection:e=>e,enableBivariateLayer:e=>e,disableBivariateLayer:()=>null},({onAction:e,schedule:t,getUnlistedState:n,create:i,onChange:s},l=Use)=>{e("calculateSelectedCell",()=>{const{xGroups:x,yGroups:S}=n(T1),P=Ww(x,S,Kw(l.xNumerator,l.xDenominator,l.yNumerator,l.yDenominator)),L=l.selectedCell;(!L||P.x!==L.x||P.y!==L.y)&&(l={...l,selectedCell:P})}),e("setSelectCellCallback",x=>{l={...l,selectCellCallback:x}});const a=()=>{const x=n(NA),S=n(Yd);return[...x].map(L=>{var F;return(F=S.get(L))==null?void 0:F.getState()}).find(L=>{var F;return L&&L.isEnabled&&((F=L.legend)==null?void 0:F.type)==="bivariate"})};return e("resetSelection",()=>{l={...l,xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null},t(x=>{var S;(S=l==null?void 0:l.selectCellCallback)==null||S.call(l,-1,-1)})}),e("runPreselection",()=>{const x=a();if(!x||!(x!=null&&x.legend)){t(P=>{P(i("resetSelection"))});return}const S=x.legend.axis;if(S){const P=Kw(S.x.quotient[0]||null,S.x.quotient[1]||null,S.y.quotient[0]||null,S.y.quotient[1]||null),{xGroups:L,yGroups:F}=n(T1),N=Ww(L,F,P);if(N.x>=0&&N.y>=0){t(te=>{var V;te(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,N.x,N.y)});return}let $=L,q=F;N.x===-1&&($=yP(L,S.x.quotient[0],S.x.quotient[1])),N.y===-1&&(q=yP(F,S.y.quotient[0],S.y.quotient[1]));const K=Ww($,q,P);t(te=>{var V;K.x>=0&&K.y>=0?(te(T1.setNumerators($,q)),te(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,K.x,K.y)):te(i("resetSelection"))})}}),e("presetMatrixSelection",x=>{l={...l,...x},t(S=>{S(i("calculateSelectedCell"))})}),e("setMatrixSelection",x=>{l={...l,...x},t(V=>{V(i("calculateSelectedCell"))});const{xNumerator:S,xDenominator:P,yNumerator:L,yDenominator:F}=x;if(S===null||L===null)return;const{xGroups:N,yGroups:$}=n(T1),q=n(tD).data;if(q===null)return;const K=q.polygonStatistic.bivariateStatistic;if(!N||!$||!N.length||!$.length||!P||!F)return;const te=_ae(S,P,L,F,K);if(te){const[V,X]=te,ee=Sae("Bivariate Layer",V,S,P,L,F,K);if(ee){const ce=X,_e=ce.source,re=ce.id,Se=Eae(S,P,L,F,K),Le=_e?{id:re,maxZoom:_e.maxzoom,minZoom:_e.minzoom,source:{type:_e.type,urls:_e.tiles,tileSize:512,apiKey:""}}:void 0,[Ze,ot]=oP([{id:re,legend:ee,meta:Se,source:Le}]);n(Ty).has(re)||Ze.push(...oP([{id:re,settings:{id:re,name:"Bivariate Layer",category:"overlay",group:"bivariate",ownedByUser:!0}}]).flat()),n(Yd).has(re)||Ze.push(i("disableBivariateLayer"),Yd.register({id:re,renderer:new Nse({id:re}),cleanUpActions:ot}),i("enableBivariateLayer",re)),Ze.length&&t((yt,Bt={})=>{yt(Ze),Bt.bivariateLayerAtomId=re})}}}),e("enableBivariateLayer",x=>{const S=n(Yd);for(const[P,L]of Array.from(S))if(P===x){t(F=>{F(L.enable())});break}}),e("disableBivariateLayer",()=>{const x=n(Yd);t((S,P={})=>{if(P.bivariateLayerAtomId){const L=x.get(P.bivariateLayerAtomId);L&&S(L.destroy())}})}),l},"bivariateMatrixSelection"),jse=jt.createContext(null),u2=37,Vse=.7,oD=u2/Math.sqrt(2),aD=u2/Math.sqrt(2);function Hse(e,t,n=0){return jt.useMemo(()=>({display:"inline-grid","--cell-size":n===0?"initial":`${n}px`,gridTemplateRows:`repeat(${t}, ${n===0?"auto":n+"px"})`,gridTemplateColumns:`repeat(${e}, ${n===0?"auto":n+"px"})`}),[e,t,n])}function qse(e,t){const n=[];for(let i=0;i<e;i++){n[i]=[];for(let s=0;s<t;s++)n[i][s]={gridColumn:`${i} / ${i+1}`,gridRow:`${s} / ${s+1}`}}return n}function Gse(e,t){return jt.useMemo(()=>{if(!e||!e.length||!t||!t.length)return 0;let i=D1(e[0].label);for(let l=1;l<e.length;l++){const a=D1(e[l].label),x=l*aD;a>i+x&&(i=a-x)}let s=D1(t[0].label);for(let l=1;l<t.length;l++){const a=D1(t[l].label),x=l*oD;a>s+x&&(s=a-x)}return i>s?i:s},[e,t])}const Qse=document.createElement("canvas"),sD=Qse.getContext("2d")||{};sD.font="normal 13px Roboto";const Wse=30,Kse=90;function D1(e){return sD.measureText(e).width+Wse+Kse}function vP(e,t,n){return t?{height:`${e+n*aD}px`}:{width:`${e+n*oD}px`}}const Zse="_hoveredCell_kt59d_1",Xse="_valueCell_kt59d_5",Yse="_rotatedCell_kt59d_19",Jse="_valueFill_kt59d_28",ele="_disabled_kt59d_39",tle="_selectedCol_kt59d_43",nle="_first_kt59d_48",rle="_last_kt59d_52",ile="_selectedRow_kt59d_56",pp={hoveredCell:Zse,valueCell:Xse,rotatedCell:Yse,valueFill:Jse,disabled:ele,selectedCol:tle,first:nle,last:rle,selectedRow:ile},lD=jt.forwardRef(({value:e,x:t,y:n,className:i,onMouseOver:s,onMouseOut:l,onClick:a,disabled:x=!1,style:S,firstRow:P,firstCol:L,lastRow:F,lastCol:N},$)=>{const q=jt.useRef(null);let K=!1,te=!1,V=!1;const X=aa(pp.valueCell,i,x&&pp.disabled);function ee(){return`${X} ${aa({[pp.hoveredCell]:K,[pp.selectedCol]:V,[pp.selectedRow]:te,[pp.first]:P&&V||L&&te,[pp.last]:F&&V||N&&te})}`}return jt.useImperativeHandle($,()=>({setHovered:()=>{q.current&&(K=!0,q.current.className=ee())},resetHovered:()=>{q.current&&(K=!1,q.current.className=ee())},setSelectedCol:()=>{q.current&&(V=!0,q.current.className=ee())},resetSelectedCol:()=>{q.current&&(V=!1,q.current.className=ee())},setSelectedRow:()=>{q.current&&(te=!0,q.current.className=ee())},resetSelectedRow:()=>{q.current&&(te=!1,q.current.className=ee())}})),_t("div",{ref:q,className:X,style:S,onMouseOver:()=>{s(t,n)},onClick:ce=>{a(t,n,ce)},onMouseOut:l,children:!x&&e!==void 0?wr(X2,{children:[Math.abs(e)>=.1&&_t("div",{className:pp.valueFill,style:{transform:`scale(${Math.abs(e)})`}}),_t("span",{className:pp.rotatedCell,children:e==null?void 0:e.toFixed(3)})]}):null})});lD.displayName="BivariateMatrixCell";const ole="_legendSlot_i0ppr_6",ale="_matrixContainer_i0ppr_14",sle="_rotatedMatrix_i0ppr_21",_P={legendSlot:ole,matrixContainer:ale,rotatedMatrix:sle},lle="_horConnector_zzmmn_1",ule="_vertConnector_zzmmn_7",cle="_connectorBody_zzmmn_13",fle="_hovered_zzmmn_28",ple="_selected_zzmmn_33",Qd={horConnector:lle,vertConnector:ule,connectorBody:cle,hovered:fle,selected:ple},YS=jt.forwardRef(({type:e,style:t},n)=>{const i=jt.useRef(null);let s=!1,l=!1;const a=Qd.connectorBody;function x(){return`${a} ${aa({[Qd.hovered]:s,[Qd.selected]:l})}`}return jt.useImperativeHandle(n,()=>({setHovered:()=>{i.current&&(s=!0,i.current.className=x())},resetHovered:()=>{i.current&&(s=!1,i.current.className=x())},setSelectedCol:()=>{e==="vertical"&&i.current&&(l=!0,i.current.className=x())},resetSelectedCol:()=>{e==="vertical"&&i.current&&(l=!1,i.current.className=x())},setSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!0,i.current.className=x())},resetSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!1,i.current.className=x())}})),_t("div",{className:e==="horizontal"?Qd.horConnector:Qd.vertConnector,style:t,children:_t("div",{className:Qd.connectorBody,ref:i})})});YS.displayName="BivariateMatrixCellConnector";const hle="_denominatorIcon_2n0u5_1",Ale={denominatorIcon:hle},dle=()=>wr("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[wr("g",{clipPath:"url(#clip0_4777_147920)",children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59226 5.6715C4.57385 5.68982 4.55581 5.70848 4.53814 5.72748C4.27818 6.00698 4.09843 6.3591 4.03058 6.74363C4.30836 6.45062 4.50699 6.08183 4.59226 5.6715ZM10.3266 5.66248C10.4117 6.0808 10.6146 6.45633 10.8991 6.75295C10.8325 6.3648 10.6519 6.00926 10.3899 5.7275C10.3693 5.70537 10.3482 5.68368 10.3266 5.66248ZM10.927 7.12889C10.2881 7.58142 9.93487 8.39557 10.1356 9.23105L10.3024 9.92533L10.8712 7.55816C10.9059 7.41385 10.924 7.27018 10.927 7.12889ZM10.8167 12.0655L11.135 13.3906C11.2431 13.8401 11.6451 14.157 12.1074 14.157H12.8928C13.3551 14.157 13.7571 13.8401 13.8651 13.3906L14.8646 9.23105C15.0886 8.29843 14.6225 7.39238 13.8391 6.98624C14.3731 6.58123 14.718 5.93987 14.718 5.21796C14.718 3.99301 13.725 3 12.5001 3C12.1224 3 11.7669 3.09436 11.4556 3.26079C11.4174 3.85333 11.25 4.41104 10.9816 4.90556C11.0898 5.00751 11.1903 5.11726 11.2822 5.23375C11.2821 5.22849 11.2821 5.22323 11.2821 5.21796C11.2821 4.5453 11.8274 4 12.5001 4C13.1727 4 13.718 4.5453 13.718 5.21796C13.718 5.89062 13.1727 6.43592 12.5001 6.43592C12.2381 6.43592 11.9954 6.35321 11.7968 6.21249C11.9482 6.7042 11.975 7.24459 11.8435 7.79175C11.9191 7.77351 11.9983 7.7638 12.0803 7.7638H12.9199C13.5667 7.7638 14.0433 8.36854 13.8922 8.99743L12.8928 13.157L12.1074 13.157L11.3309 9.92533L10.8167 12.0655ZM4.10776 12.0505L3.78577 13.3906C3.67777 13.8401 3.27574 14.157 2.81344 14.157H2.02803C1.56574 14.157 1.16371 13.8401 1.0557 13.3906L0.0562696 9.23105C-0.167809 8.29845 0.298349 7.39241 1.08167 6.98626C0.547652 6.58125 0.202745 5.93988 0.202745 5.21796C0.202745 3.99301 1.19576 3 2.42071 3C2.80138 3 3.15965 3.0959 3.47268 3.26486C3.5114 3.85587 3.67872 4.41215 3.94647 4.90553C3.83535 5.01024 3.73236 5.12317 3.63841 5.24319C3.63858 5.2348 3.63867 5.22639 3.63867 5.21796C3.63867 4.5453 3.09337 4 2.42071 4C1.74804 4 1.20274 4.5453 1.20274 5.21796C1.20274 5.89062 1.74804 6.43592 2.42071 6.43592C2.68679 6.43592 2.93294 6.3506 3.1333 6.20582C2.98006 6.69932 2.95243 7.24213 3.0845 7.79178L3.08494 7.79363C3.00708 7.77418 2.92528 7.7638 2.84055 7.7638H2.00092C1.35413 7.7638 0.877492 8.36854 1.0286 8.99742L2.02803 13.157L2.81344 13.157L3.59353 9.91034L4.10776 12.0505ZM4.62199 9.91034L4.78521 9.23105C4.98518 8.39877 4.63543 7.58765 4.00112 7.13409C4.00445 7.2737 4.02258 7.41562 4.05683 7.55816L4.62199 9.91034Z",fill:"black"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46348 3C9.46348 4.10457 8.56805 5 7.46348 5C6.35891 5 5.46348 4.10457 5.46348 3C5.46348 1.89543 6.35891 1 7.46348 1C8.56805 1 9.46348 1.89543 9.46348 3ZM9.52339 5.18101C10.1023 4.63409 10.4635 3.85923 10.4635 3C10.4635 1.34315 9.12033 0 7.46348 0C5.80662 0 4.46348 1.34315 4.46348 3C4.46348 3.85922 4.8247 4.63408 5.40356 5.181C4.4317 5.4836 3.80296 6.50391 4.05627 7.55816L5.68205 14.3245C5.79005 14.774 6.19208 15.0909 6.65437 15.0909H8.27254C8.73483 15.0909 9.13686 14.774 9.24487 14.3245L10.8706 7.55816C11.1239 6.50392 10.4952 5.48363 9.52339 5.18101ZM6.00092 6.09091H8.92599C9.57278 6.09091 10.0494 6.69564 9.89832 7.32453L8.27254 14.0909H6.65437L5.0286 7.32453C4.87749 6.69564 5.35414 6.09091 6.00092 6.09091Z",fill:"black"})]}),_t("defs",{children:_t("clipPath",{id:"clip0_4777_147920",children:_t("rect",{width:"24",height:"24",fill:"white"})})})]}),mle=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{d:"M14.6012 12.1833C15.0887 12.6708 15.0887 13.4833 14.6012 13.9708L13.7346 14.8375C13.6262 14.9458 13.5179 15 13.3554 15C13.2471 15 13.0846 14.9458 12.9762 14.8375C12.7596 14.6208 12.7596 14.2958 12.9762 14.1333L13.4637 13.6458H3.33874C2.20124 13.6458 1.33457 12.725 1.33457 11.5875V1.4625L0.847072 1.95C0.630406 2.16667 0.305406 2.16667 0.142906 1.95C-0.0195943 1.73333 -0.073761 1.40833 0.142906 1.24583L1.00957 0.379167C1.49707 -0.108333 2.30957 -0.108333 2.79707 0.379167L3.66374 1.24583C3.88041 1.4625 3.88041 1.7875 3.66374 1.95C3.55541 2.05833 3.39291 2.05833 3.28457 2.05833C3.17624 2.05833 3.01374 2.00417 2.90541 1.89583L2.36374 1.35417V11.5875C2.36374 12.1292 2.79707 12.6167 3.39291 12.6167H13.5721L13.0304 12.075C12.8137 11.8583 12.8137 11.5333 13.0304 11.3708C13.2471 11.1542 13.5721 11.1542 13.7346 11.3708L14.6012 12.1833ZM13.4637 0H6.85541C6.58457 0 6.36791 0.216667 6.36791 0.4875C6.36791 0.758333 6.58457 0.975 6.85541 0.975H13.4096C13.6804 0.975 13.8971 1.19167 13.8971 1.4625V8.125C13.8971 8.39583 14.1137 8.6125 14.3846 8.6125C14.6554 8.6125 14.8721 8.39583 14.8721 8.125V1.51667C14.9804 0.704167 14.2762 0 13.4637 0ZM8.45541 9.72083C8.72624 9.72083 8.94291 9.50417 8.94291 9.23333V6.95833C8.94291 6.2 8.29291 5.55 7.53457 5.55C7.20957 5.55 6.88457 5.65833 6.66791 5.875C6.45124 5.65833 6.12624 5.55 5.80124 5.55C5.58457 5.55 5.42207 5.60417 5.25957 5.65833C5.15124 5.55 5.04291 5.49583 4.88041 5.49583C4.60957 5.49583 4.39291 5.7125 4.39291 5.98333V9.17917C4.39291 9.45 4.60957 9.66667 4.88041 9.66667C5.15124 9.66667 5.36791 9.45 5.36791 9.17917V6.95833C5.36791 6.74167 5.53041 6.57917 5.74707 6.57917C5.96374 6.57917 6.12624 6.74167 6.12624 6.95833V9.23333C6.12624 9.50417 6.34291 9.72083 6.61374 9.72083C6.88457 9.72083 7.10124 9.50417 7.10124 9.23333V6.95833C7.10124 6.74167 7.26374 6.57917 7.48041 6.57917C7.69707 6.57917 7.85957 6.74167 7.85957 6.95833V9.23333C7.91374 9.50417 8.18457 9.72083 8.45541 9.72083ZM10.7304 3.7625C10.0804 3.7625 9.53874 4.30417 9.53874 4.95417C9.53874 5.225 9.75541 5.44167 10.0262 5.44167C10.2971 5.44167 10.5137 5.225 10.5137 4.95417C10.5137 4.84583 10.5679 4.79167 10.6762 4.79167C10.7304 4.79167 10.8387 4.84583 10.8387 4.95417C10.8387 5.00833 10.7304 5.225 10.2429 5.76667C9.9179 6.09167 9.64707 6.3625 9.64707 6.3625C9.48457 6.525 9.4304 6.74167 9.53874 6.90417C9.59291 7.12083 9.80957 7.22917 10.0262 7.22917H11.3804C11.6512 7.22917 11.8679 7.0125 11.8679 6.74167C11.8679 6.47083 11.6512 6.25417 11.3804 6.25417H11.2721C11.7054 5.7125 11.9221 5.33333 11.9221 5.00833C11.9221 4.25 11.3804 3.7625 10.7304 3.7625Z",fill:"black"})}),gle=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5938 15C14.112 15 14.5312 14.5807 14.5312 14.0625V7.5C14.5312 6.9818 14.112 6.5625 13.5938 6.5625H12.6562V0.9375C12.6562 0.419297 12.237 0 11.7188 0H5.15625C4.63805 0 4.21875 0.419297 4.21875 0.9375V2.8125H1.40625C0.888047 2.8125 0.46875 3.2318 0.46875 3.75V14.0625C0.46875 14.5807 0.888047 15 1.40625 15H13.5938ZM1.40625 3.75H4.21875V5.5H3.5C3.22386 5.5 3 5.72386 3 6C3 6.27614 3.22386 6.5 3.5 6.5H4.21875V8H3.5C3.22386 8 3 8.22386 3 8.5C3 8.77614 3.22386 9 3.5 9H4.21875V10.5H3.5C3.22386 10.5 3 10.7239 3 11C3 11.2761 3.22386 11.5 3.5 11.5H4.21875V14.0625H1.40625V3.75ZM5.15625 0.9375H11.7188V14.0625H8.90625V11.25H7.96875V14.0625H5.15625V0.9375ZM12.6562 7.5H13.5938V14.0625H12.6562V7.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5ZM6 7.5C6 7.22386 6.22386 7 6.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H6.5C6.22386 8 6 7.77614 6 7.5ZM6.5 5C6.22386 5 6 5.22386 6 5.5C6 5.77614 6.22386 6 6.5 6H10.5C10.7761 6 11 5.77614 11 5.5C11 5.22386 10.7761 5 10.5 5H6.5Z",fill:"black"})}),yle=()=>_t("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4949 0.505013C14.7683 0.77838 14.7683 1.2216 14.4949 1.49496L1.49493 14.495C1.22156 14.7683 0.778343 14.7683 0.504977 14.495C0.23161 14.2216 0.23161 13.7784 0.504977 13.505L13.505 0.505013C13.7783 0.231646 14.2216 0.231646 14.4949 0.505013ZM14.495 6.50503C14.7683 6.77839 14.7683 7.22161 14.495 7.49497L7.49497 14.495C7.22161 14.7683 6.77839 14.7683 6.50503 14.495C6.23166 14.2216 6.23166 13.7784 6.50503 13.505L13.505 6.50503C13.7784 6.23166 14.2216 6.23166 14.495 6.50503ZM8.49498 1.49497C8.76834 1.22161 8.76834 0.778392 8.49498 0.505025C8.22161 0.231658 7.77839 0.231658 7.50503 0.505025L0.505025 7.50503C0.231658 7.77839 0.231658 8.22161 0.505025 8.49498C0.778392 8.76834 1.22161 8.76834 1.49497 8.49498L8.49498 1.49497ZM3.49497 0.505025C3.76834 0.778392 3.76834 1.22161 3.49497 1.49497L1.49497 3.49497C1.22161 3.76834 0.778392 3.76834 0.505025 3.49497C0.231658 3.22161 0.231658 2.77839 0.505025 2.50503L2.50503 0.505025C2.77839 0.231658 3.22161 0.231658 3.49497 0.505025ZM14.495 12.495C14.7684 12.2216 14.7684 11.7784 14.495 11.505C14.2217 11.2317 13.7784 11.2317 13.5051 11.505L11.5051 13.505C11.2317 13.7784 11.2317 14.2216 11.5051 14.495C11.7784 14.7683 12.2217 14.7683 12.495 14.495L14.495 12.495Z",fill:"black"})}),vle=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.60002 4C8.60002 3.75732 8.45384 3.53854 8.22963 3.44567C8.00543 3.3528 7.74736 3.40413 7.57576 3.57573L5.57576 5.57573C5.34145 5.81005 5.34145 6.18995 5.57576 6.42426C5.81007 6.65857 6.18997 6.65857 6.42429 6.42426L7.40002 5.44852V10.4H6.50002C6.16865 10.4 5.90002 10.6686 5.90002 11C5.90002 11.3314 6.16865 11.6 6.50002 11.6H9.50002C9.8314 11.6 10.1 11.3314 10.1 11C10.1 10.6686 9.8314 10.4 9.50002 10.4H8.60002V4Z",fill:"black"})}),_le=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31257 14.9513C2.38285 14.9835 2.45927 15.0001 2.53658 15C2.66433 14.9997 2.78777 14.9537 2.88462 14.8704C2.98148 14.7871 3.04538 14.672 3.0648 14.5457L5.20765 0.617136C5.22508 0.478692 5.1878 0.338912 5.10375 0.227531C5.0197 0.116151 4.89551 0.0419601 4.75759 0.0207426C4.61968 -0.00047491 4.47893 0.0329551 4.36529 0.113921C4.25164 0.194887 4.17407 0.316999 4.14908 0.454279L2.00622 14.3828C1.99447 14.4593 1.9994 14.5373 2.02067 14.6116C2.04193 14.686 2.07903 14.7548 2.12942 14.8134C2.17981 14.8721 2.24229 14.9191 2.31257 14.9513ZM12.9007 14.8704C12.9975 14.9537 13.121 14.9997 13.2487 15C13.326 15.0001 13.4025 14.9835 13.4727 14.9513C13.543 14.9191 13.6055 14.8721 13.6559 14.8134C13.7063 14.7548 13.7434 14.686 13.7646 14.6116C13.7859 14.5373 13.7908 14.4593 13.7791 14.3828L11.6362 0.454279C11.6112 0.316999 11.5337 0.194887 11.42 0.113921C11.3064 0.0329551 11.1656 -0.00047491 11.0277 0.0207426C10.8898 0.0419601 10.7656 0.116151 10.6816 0.227531C10.5975 0.338912 10.5602 0.478692 10.5777 0.617136L12.7205 14.5457C12.7399 14.672 12.8038 14.7871 12.9007 14.8704ZM8.5 10.5C8.5 10.2239 8.27614 10 8 10C7.72386 10 7.5 10.2239 7.5 10.5V14.5C7.5 14.7761 7.72386 15 8 15C8.27614 15 8.5 14.7761 8.5 14.5V10.5ZM8 4C8.27614 4 8.5 4.22386 8.5 4.5V7.5C8.5 7.77614 8.27614 8 8 8C7.72386 8 7.5 7.77614 7.5 7.5V4.5C7.5 4.22386 7.72386 4 8 4ZM8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1V2C7.5 2.27614 7.72386 2.5 8 2.5C8.27614 2.5 8.5 2.27614 8.5 2V1Z",fill:"black"})}),xle={population:_t(dle,{}),area_km2:_t(mle,{}),total_building_count:_t(gle,{}),populated_area_km2:_t(yle,{}),one:_t(vle,{})},ble={population:Ai.t("bivariate.matrix.icon.population"),area_km2:Ai.t("bivariate.matrix.icon.area_km2"),total_building_count:Ai.t("bivariate.matrix.icon.total_building_count"),populated_area_km2:Ai.t("bivariate.matrix.icon.populated_area_km2"),one:Ai.t("bivariate.matrix.icon.one")},uD=({iconId:e})=>{const t=xle[e]||_t(_le,{}),n=ble[e]||Ai.t("bivariate.matrix.icon.roads");return _t(Nx,{tooltipText:n,children:({showTooltip:i,hideTooltip:s})=>_t("span",{className:Ale.denominatorIcon,onPointerOver:i,onPointerLeave:s,children:t})})},wle=e=>{let t=e;const n=new Set,i=s=>{t=s,n.forEach(l=>l())};return()=>{const[s,l]=jt.useState(t);return jt.useEffect(()=>{const a=()=>{l(t)};return n.add(a),a(),()=>{n.delete(a)}},[]),[s,i]}},Sle=wle({headingId:""}),Cle="_denominators_1m5c6_1",Ele="_row_1m5c6_5",kle="_column_1m5c6_9",Ple="_denominatorSelector_1m5c6_13",Tle="_disabled_1m5c6_25",Ile="_denominatorsContainer_1m5c6_43",Mle="_quotientItem_1m5c6_79",Ole="_selected_1m5c6_85",p0={denominators:Cle,row:Ele,column:kle,denominatorSelector:Ple,disabled:Tle,denominatorsContainer:Ile,quotientItem:Mle,selected:Ole},Lle=({numeratorId:e,denominatorId:t,numeratorLabel:n,quality:i,onSelectQuotient:s,isSelected:l=!1})=>{const a=x=>{x.stopPropagation(),s(e,t)};return wr("div",{className:aa(p0.quotientItem,l&&p0.selected),onClick:a,children:[_t(uD,{iconId:t}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:i??"&nbsp;"}),_t("div",{className:"quotientLabel",children:n})]})},Dle=100/70,Rle=5,cD=jt.memo(({id:e,quotients:t,selectedQuotient:n,onSelectQuotient:i,type:s,children:l})=>{const[a,x]=Sle(),S=$=>{if($.stopPropagation(),a.headingId===e)x({headingId:"",width:0});else{const q=$.currentTarget.getBoundingClientRect(),K=$.currentTarget.parentElement.parentElement.getBoundingClientRect(),te=Math.ceil((q.left-K.left)*Dle+Rle);x({headingId:e,width:te})}},P=jt.useCallback(($,q)=>{x({headingId:""}),i($,q)},[x,i]),[L,F]=jt.useMemo(()=>{const $=t.findIndex(({id:q})=>q[0]===n.id[0]&&q[1]===n.id[1]);return $>=0?[t[$],t.filter((q,K)=>K!==$)]:[null,t]},[t,n.id]),N=({id:$,label:q,quality:K},te)=>_t(Lle,{onSelectQuotient:P,quality:K,numeratorId:$[0],denominatorId:$[1],numeratorLabel:q,isSelected:te},JSON.stringify($));return wr("div",{className:aa({[p0.denominators]:!0,[p0.row]:s==="horizontal",[p0.column]:s==="vertical"}),children:[_t("div",{onClick:S,children:l}),a.headingId===e&&wr("div",{className:p0.denominatorsContainer,style:s==="horizontal"?{left:-a.width,right:0}:{top:-a.width,bottom:0},children:[L&&N(L,!0),F.map($=>N($,!1))]})]})});cD.displayName="QuotientSelector";const Fle="_axisRecord_1dbhd_8",Ble="_container_1dbhd_13",zle="_column_1dbhd_34",Nle="_row_1dbhd_43",Ule="_selected_1dbhd_110",$le="_corner_1dbhd_142",jle="_hovered_1dbhd_146",Vle="_verticalText_1dbhd_173",Hle="_quotientsCountLabel_1dbhd_185",hp={axisRecord:Fle,container:Ble,column:zle,row:Nle,selected:Ule,corner:$le,hovered:jle,verticalText:Vle,quotientsCountLabel:Hle},qle=(e,t)=>({gridColumn:e?`${t+3} / ${t+4}`:"1",gridRow:e?"1":`${t+3} / ${t+4}`}),JS=jt.forwardRef(({index:e,type:t,className:n,selectedIndex:i=-1,headerCell:s,id:l,onCellHover:a,onCellClick:x,onSelectQuotient:S,baseDimension:P,calculateHeadingsStyle:L},F)=>{const N=()=>{a(e)},$=()=>{a(null)},q=Le=>{const Ze=Le.target;Ze.tagName==="svg"||Ze.tagName==="path"||Ze.className&&Ze.className.indexOf&&Ze.className.indexOf("denominator")!==-1||x(e,Le)},K=jt.useCallback((Le,Ze)=>{S(e,Le,Ze)},[S,e]),te=s.quotients.length>1?wr("div",{className:hp.quotientsCountLabel,children:["+",s.quotients.length-1," layers",_t(wV,{})]}):null,V=jt.useRef(null);let X=!1,ee=!1;const ce=t==="horizontal",_e=t==="vertical",re=aa({[n||""]:n,[hp.axisRecord]:!0,[hp.column]:_e,[hp.row]:ce,[hp.verticalText]:_e,horizontal:ce,vertical:_e});function Se(){return`${re} ${aa({[hp.hovered]:X,[hp.selected]:ee})}`}return jt.useImperativeHandle(F,()=>({setHovered:()=>{V.current&&(X=!0,V.current.className=Se())},resetHovered:()=>{V.current&&(X=!1,V.current.className=Se())},setSelectedCol:()=>{_e&&V.current&&(ee=!0,V.current.className=Se())},resetSelectedCol:()=>{_e&&V.current&&(ee=!1,V.current.className=Se())},setSelectedRow:()=>{ce&&V.current&&(ee=!0,V.current.className=Se())},resetSelectedRow:()=>{ce&&V.current&&(ee=!1,V.current.className=Se())}})),_t("div",{ref:V,onMouseEnter:N,onMouseOut:$,onClick:q,style:qle(t==="vertical",e),className:re,children:wr("div",{style:L(P,_e,e),className:hp.container,children:[_t("div",{className:hp.corner}),_t(uD,{iconId:s.selectedQuotient.id[1]}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:s.quality?s.quality:"&nbsp;"}),s.label,te&&_t(cD,{id:`quotient_${l}`,onSelectQuotient:K,selectedQuotient:s.selectedQuotient,quotients:s.quotients,type:t,children:te})]})})});JS.displayName="BivariateMatrixHeadingEntry";const Gle="_axisCaptionRoot_1yhrg_1",Qle="_axisCaptionAnchor_1yhrg_6",Wle="_axisCaptionBody_1yhrg_10",Kle="_tooltipHover_1yhrg_24",Zle="_axisCaptionText_1yhrg_33",Xle="_popupContent_1yhrg_47",h0={axisCaptionRoot:Gle,axisCaptionAnchor:Qle,axisCaptionBody:Wle,tooltipHover:Kle,axisCaptionText:Zle,popupContent:Xle},Yle=wr("div",{className:h0.axisCaptionText,children:[_t("p",{children:Ai.t("bivariate.matrix.caption.tooltip.p1")}),wr("ul",{children:[_t("li",{children:Ai.t("bivariate.matrix.caption.tooltip.li1")}),_t("li",{children:Ai.t("bivariate.matrix.caption.tooltip.li2")})]}),_t("br",{}),_t("b",{children:Ai.t("bivariate.matrix.caption.tooltip.b")}),_t("p",{children:Ai.t("bivariate.matrix.caption.tooltip.p2")}),_t("p",{children:Ai.t("bivariate.matrix.caption.tooltip.p3")})]}),Jle={popupContent:h0.popupContent},eue=({baseDimension:e=0})=>{const t=jt.useRef(null);return jt.useLayoutEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({block:"center"})},[]),_t("div",{className:h0.axisCaptionRoot,ref:t,children:_t("div",{className:h0.axisCaptionAnchor,style:{left:-e},children:_t(Nx,{hoverBehavior:!1,tooltipId:"axis_caption",tooltipText:Yle,popupClasses:Jle,children:({showTooltip:n})=>wr("div",{className:h0.axisCaptionBody,children:[_t(xP,{position:"left"}),_t("br",{}),wr("div",{className:h0.tooltipHover,onClick:n,children:[_t("span",{children:Ai.t("bivariate.matrix.caption.base_axis")}),_t(CV,{}),_t("span",{children:Ai.t("bivariate.matrix.caption.annex_axis")})]}),_t("br",{}),_t(xP,{position:"right"})]})})})})},xP=({position:e="left"})=>wr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"22",viewBox:"0 0 6 22",fill:"none",transform:e==="left"?"rotate(90)":"rotate(-90)",children:[_t("path",{d:"M3 1V20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M1 18L3 21.5L5 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),R1=3,F1=3,tue=15,fD=({matrix:e,xHeadings:t,yHeadings:n,onSelectCell:i,selectedCell:s,cellSize:l=0,onSelectQuotient:a})=>{const x=jt.useRef(null),S=jt.useContext(jse),P=[],L=[];let F=-1,N=-1;const $=jt.useRef((s==null?void 0:s.x)??-1),q=jt.useRef((s==null?void 0:s.y)??-1),K=kS($se.setSelectCellCallback),te=(at,Me,Oe)=>{Me>=0&&(P[Me]||(P[Me]=[]),P[Me].push(at)),Oe>=0&&(L[Oe]||(L[Oe]=[]),L[Oe].push(at))},V=(at,Me)=>{if(F!==at&&(F=at,F!==-1)){const Oe=L[F];Oe&&Oe.forEach(oe=>{oe==null||oe.setHovered()})}if(N!==Me&&(N=Me,N!==-1)){const Oe=P[N];Oe&&Oe.forEach(oe=>{oe==null||oe.setHovered()})}},X=()=>{if(F!==-1){const at=L[F];at&&at.forEach(Me=>{Me==null||Me.resetHovered()}),F=-1}if(N!==-1){const at=P[N];at&&at.forEach(Me=>{Me==null||Me.resetHovered()}),N=-1}},ee=at=>{X(),at&&V(at,N)},ce=at=>{X(),at&&V(F,at)},_e=()=>{if($.current!==-1){const at=L[$.current];at&&at.forEach(Me=>{Me==null||Me.resetSelectedCol()}),$.current=-1}if(q.current!==-1){const at=P[q.current];at&&at.forEach(Me=>{Me==null||Me.resetSelectedRow()}),q.current=-1}},re=(at,Me,Oe)=>{_e(),Le(at,Me),i(at,Me,Oe)},Se=(at,Me)=>{_e(),Le(at,Me)},Le=(at,Me)=>{if(at!==-1&&$.current!==at){$.current=at;const Oe=L[$.current];Oe&&Oe.forEach(oe=>{oe==null||oe.setSelectedCol()})}if(Me!==-1&&q.current!==Me){q.current=Me;const Oe=P[q.current];Oe&&Oe.forEach(oe=>{oe==null||oe.setSelectedRow()})}},Ze=(at,Me)=>{re(at,q.current,Me)},ot=(at,Me)=>{re($.current,at,Me)},We=jt.useCallback((at,Me,Oe,oe)=>{a(!1,at,Me,Oe,oe)},[a]),ut=jt.useCallback((at,Me,Oe,oe)=>{a(!0,at,Me,Oe,oe)},[a]),yt=Gse(t,n),Bt=Math.sqrt(Math.pow(t.length*u2,2)+Math.pow(n.length*u2,2))*Vse+tue;jt.useEffect(()=>{S==null||S.onMatrixPositionRecalculated(yt,Bt),x.current&&(x.current.style.visibility="visible")},[yt]);const Yt=Hse(t.length+1,n.length+1,l),pn=jt.useMemo(()=>({width:Bt,height:Bt}),[Bt]),xn=jt.useMemo(()=>qse(t.length+R1,n.length+F1),[t,n]);return jt.useEffect(()=>{K(Se.bind(void 0)),s&&(s.x!==-1||s.y!==-1)&&Se(s.x,s.y)},[e]),_t("div",{ref:x,className:_P.matrixContainer,style:pn,children:wr("div",{style:Yt,className:_P.rotatedMatrix,children:[e.map((at,Me)=>_t(YS,{type:"horizontal",style:xn[-1+R1][Me+F1],ref:Oe=>te(Oe,Me,-1)},`${Me}_row_connector`)),e[0].map((at,Me)=>_t(YS,{type:"vertical",style:xn[Me+R1][-1+F1],ref:Oe=>te(Oe,-1,Me)},`${Me}_col_connector`)),e.map((at,Me)=>at.map((Oe,oe)=>_t(lD,{x:oe,y:Me,onClick:re,onMouseOver:V,onMouseOut:X,style:xn[oe+R1][Me+F1],ref:ge=>te(ge,Me,oe),value:Oe===null?void 0:Oe,disabled:Oe===null,firstRow:Me===0,firstCol:oe===0,lastRow:Me===e.length-1,lastCol:oe===at.length-1},`matrix_cell_${oe}_${Me}`))),[...n].reverse().map((at,Me)=>_t(JS,{id:`hor_${n.length-1-Me}`,index:n.length-1-Me,type:"horizontal",selectedIndex:s==null?void 0:s.y,headerCell:at,onCellHover:ce,onCellClick:ot,onSelectQuotient:ut,baseDimension:yt,calculateHeadingsStyle:vP,ref:Oe=>te(Oe,n.length-1-Me,-1)},`hor_${n.length-1-Me}`)),_t(eue,{baseDimension:yt}),t.map((at,Me)=>_t(JS,{id:`vert_${Me}`,index:Me,type:"vertical",selectedIndex:s==null?void 0:s.x,headerCell:at,onCellHover:ee,onCellClick:Ze,onSelectQuotient:We,baseDimension:yt,calculateHeadingsStyle:vP,ref:Oe=>te(Oe,-1,Me)},`vert_${Me}`))]})})};fD.displayName="BivariateMatrixControl";const nue=jt.memo(fD,(e,t)=>e.matrix===t.matrix),Eu={xGroups:[{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["local_hours","area_km2"]',quotients:[["count","populated_area_km2"],["population_prev","populated_area_km2"],["gdp","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["osm_users","area_km2"],["total_hours","populated_area_km2"],["covid19_confirmed","populated_area_km2"],["covid19_confirmed","area_km2"],["osm_users","populated_area_km2"],["local_hours","area_km2"],["local_hours","populated_area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["count","total_building_count"]',quotients:[["count","total_building_count"]],selectedQuotient:["count","total_building_count"]},{parent:'["highway_length","population"]',quotients:[["forest","population"],["highway_length","population"]],selectedQuotient:["highway_length","population"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],yGroups:[{parent:'["local_hours","area_km2"]',quotients:[["population","populated_area_km2"],["total_building_count","populated_area_km2"],["count","populated_area_km2"],["population_prev","populated_area_km2"],["total_building_count","area_km2"],["gdp","populated_area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["total_hours","populated_area_km2"],["osm_users","area_km2"],["covid19_confirmed","populated_area_km2"],["osm_users","populated_area_km2"],["covid19_confirmed","area_km2"],["local_hours","populated_area_km2"],["local_hours","area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["population","area_km2"]',quotients:[["population","area_km2"]],selectedQuotient:["population","area_km2"]},{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["populated_area_km2","area_km2"]',quotients:[["populated_area_km2","area_km2"]],selectedQuotient:["populated_area_km2","area_km2"]},{parent:'["count","population"]',quotients:[["populated_area_km2","population"],["count","population"]],selectedQuotient:["count","population"]},{parent:'["populated_area_km2","total_building_count"]',quotients:[["populated_area_km2","total_building_count"]],selectedQuotient:["populated_area_km2","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["forest","population"]',quotients:[["highway_length","population"],["forest","population"]],selectedQuotient:["forest","population"]},{parent:'["avg_elevation","one"]',quotients:[["avg_elevation","one"]],selectedQuotient:["avg_elevation","one"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],matrix:[[.6330778143702572,null,.5428354424212366,.8125028273732107,.41794744630059005,.49075709882519214,.26266841211785613,.17540431775688137,.2817357956135096,-.08277918866628682,-.07354014808858399,.19952042019781102,.2900699030570146,-.09959194444606909,-.05653224901990311,-.08121946780800145,-.06293349539553206,.210717984018573],[.7671266114613431,.4624540160877126,.7461271344307278,.6236796022803118,.4651837775930101,.6983788201180583,.3282268564011803,.23940172696613696,.6102526069773476,-.06854993994184201,-.06300652330464818,.5425853155901724,.5357120339754239,-.12569275885753226,-.05722122475056985,-.044124976285712575,-.07252302728830883,.46170009422253117],[null,.6330778143702572,.9448400352897224,.8088667700993942,.5478619819586914,.7272525499712613,.39403434829318645,.27693369264722456,.4212553882513244,-.09219840214177631,-.08214624778695,.3334796387999488,.3381396079397914,-.11599438338517783,-.0603311321070773,null,-.0709735871498622,.24799941442360907],[.9448400352897224,.5428354424212366,null,.676324490987385,.495437368648744,.6083458288157841,.3469868158515808,.2430950316469889,.4310608323815133,-.09512147612349764,-.08309756332167413,.3452068134908724,.33210650851954204,-.1245886065474142,-.059708735955503585,-.14339940649431673,-.07375589630648925,.24325119232100342],[.8088667700993942,.8125028273732107,.676324490987385,null,.5189347708683577,.6884534708417488,.33187782018548295,.2219184858913333,.35395740401150805,-.09412791983951108,-.0863908043684727,.26082399416277346,.349163057602413,-.0749918701328735,-.06355840786694379,-.06179508212619175,-.06748437844937322,.25841056419208985],[.5478619819586914,.41794744630059005,.495437368648744,.5189347708683577,null,.38324804690465736,null,.414339823397522,.3069414868687711,-.10644082342648567,-.10931575987231072,.2754560009958487,.2569523390521722,-.11051731563471724,-.08226769814606767,.000604231582566239,null,.20899371630213479],[.7272525499712613,.49075709882519214,.6083458288157841,.6884534708417488,.38324804690465736,null,.30947144087595235,.22699474527609945,.2830320630422097,-.04226615774405834,-.037742340113614686,.23762065170375052,.23266705566189747,-.05154149468310855,-.02870286844834339,-.031190214624625075,-.03390072345440923,.18581115270615528],[.39403434829318645,.26266841211785613,.3469868158515808,.33187782018548295,null,.30947144087595235,null,.9304780288243525,.13914319427120514,.3291875622555688,.3720654440390036,.1934927693146689,.10623582254983449,.0007285286560751833,.19378449287322094,.32680720759696696,null,.16809925893975913],[.27693369264722456,.17540431775688137,.2430950316469889,.2219184858913333,.414339823397522,.22699474527609945,.9304780288243525,null,.09020847847993732,.42400942691094484,.5064709774524677,.1712970613845418,.06714970974071707,.01180306783229655,.2255650150706005,.3599655140069753,.30252787549965515,.15970052255248204],[.4212553882513244,.2817357956135096,.4310608323815133,.35395740401150805,.3069414868687711,.2830320630422097,.13914319427120514,.09020847847993732,null,-.06649666693010343,-.06343156740380441,null,.6841527486069171,-.13779469419376966,-.0635847915251171,-.026485710953304663,-.08026301675299034,.6178257434320957],[-.09219840214177631,-.08277918866628682,-.09512147612349764,-.09412791983951108,-.10644082342648567,-.04226615774405834,.3291875622555688,.42400942691094484,-.06649666693010343,null,.7678796845524921,.012760506344240884,-.054701981754940544,.1344540319549378,null,.5631324180563558,.3071029030398512,.04014411156301263],[-.08214624778695,-.07354014808858399,-.08309756332167413,-.0863908043684727,-.10931575987231072,-.037742340113614686,.3720654440390036,.5064709774524677,-.06343156740380441,.7678796845524921,null,.014062866759102748,-.05210682697853124,.11091668928613378,.2990964999949313,.5385399665532266,.22651079092994508,.04521239572328026],[.33092297487284617,.306348164358225,.3238400065207823,.3693496848744186,.38871869483912574,.1581862969025989,-.3471496502086163,-.43374811025089965,.33796301073828167,-.3268410473725932,-.3386739643520862,.055679399245274847,.3020796910928048,-.04623557252911246,-.19287576889960628,-.23886314058329716,-.1732637367181755,.02241746611798094],[null,-.05985205635299918,-.07346388019658537,-.04156216899598115,-.06836488141749311,-.03935680545094748,.12058512533492027,.13212728757237097,-.11270465651638581,.15970627541493335,.13401194122424062,-.12384718246215928,-.10414752849189488,.7574388860132296,.48388350772788513,null,.6315662616124519,-.11571785360027256],[-.2290337466539601,-.1757661352019487,-.24760184223062584,-.18278999260309406,-.1710761141838468,-.09542438099888385,-.059267030345385996,-.013539781630611262,-.09643066932644401,.43854582251146346,.3609544353566733,-.07178405902927397,-.06341025046618942,.22096261180630974,.10541941385096928,.5599627595822098,.1278673522191922,-.032944279661146915],[.3334796387999488,.19952042019781102,.3452068134908724,.26082399416277346,.2754560009958487,.23762065170375052,.1934927693146689,.1712970613845418,null,.012760506344240884,.014062866759102748,null,.6310066640401927,-.1500265206387344,-.06689746899862688,.01986212506899432,-.08550943488376969,.676555546708353],[.3381396079397914,.2900699030570146,.33210650851954204,.349163057602413,.2569523390521722,.23266705566189747,.10623582254983449,.06714970974071707,.6841527486069171,-.054701981754940544,-.05210682697853124,.6310066640401927,null,-.12258332045801432,-.0567307219837807,-.022320716664225384,-.07178249009741255,null],[-.11599438338517783,-.09959194444606909,-.1245886065474142,-.0749918701328735,-.11051731563471724,-.05154149468310855,.0007285286560751833,.01180306783229655,-.13779469419376966,.1344540319549378,.11091668928613378,-.1500265206387344,-.12258332045801432,null,.4348018015155649,.1802672705079899,.5785565720280881,-.1349910962529299],[-.0603311321070773,-.05653224901990311,-.059708735955503585,-.06355840786694379,-.08226769814606767,-.02870286844834339,.19378449287322094,.2255650150706005,-.0635847915251171,null,.2990964999949313,-.06689746899862688,-.0567307219837807,.4348018015155649,null,.16176932292012,.7133807791437314,-.05999313994718329],[-.06778027180778882,-.06094700100554602,-.06749293269532497,-.07015551687145612,-.09380332086205506,-.03214432503025587,.20746554020517102,.2523547017592986,-.07210328538123267,.4203440217106889,null,-.0750002557187531,-.06409549706414985,.49720071299727603,.8986894662282207,.19577005850577103,.7147205376873481,-.06663105366067186],[-.1314723477716716,-.10888331650996384,-.12016811312503141,-.14500851581063834,-.14651760866997154,-.0894267074095959,-.10021629943072725,-.02053796018986287,-.08959271152178999,.07728964320941438,.11382059101409457,-.055901670004619375,-.07981810377749747,.12046075802517535,.07334344740483416,-.020568856117619418,.12080907584004444,-.040957057721220644],[.24799941442360907,.210717984018573,.24325119232100342,.25841056419208985,.20899371630213479,.18581115270615528,.16809925893975913,.15970052255248204,.6178257434320957,.04014411156301263,.04521239572328026,.676555546708353,null,-.1349910962529299,-.05999313994718329,.035960163104143954,-.07699941382657573,null]],indicators:[{name:"mhr_index",label:"Multi-hazard risk PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"mhe_index",label:"Multi-hazard exposure PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"coping_capacity_index",label:"Coping Capacity PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"resilience_index",label:"Resilience PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"vulnerability_index",label:"Vulnerability PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"count",label:"OSM Objects",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"count_6_months",label:"OSM Objects (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"view_count",label:"OSM Map Views",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]},{name:"avgmax_ts",label:"OSM Last Edit Date (avg)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"max_ts",label:"OSM Last Edit Date (max)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"min_ts",label:"OSM First Edit Date (min)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["neutral"]]},{name:"osm_users",label:"OSM Mappers Edited Here",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count",label:"OSM Buildings",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count_6_months",label:"OSM Buildings (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length",label:"OSM Road Length",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length_6_months",label:"OSM Road Length (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"local_hours",label:"OSM Mapping Hours by Local Mappers",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"total_hours",label:"OSM Mapping Hours by All Mappers",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"pop_disability_total",label:"Population with a disability",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"forest",label:"Forest Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_not_well_eng_speak",label:"Population with a difficulty speaking English",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["good"],["important","bad"]]},{name:"evergreen_needle_leaved_forest",label:"Evergreen Needle-leaved Forest Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_under_5_total",label:"Population under age of 5",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"shrubs",label:"Shrubland Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_over_65_total",label:"Population over age of 65",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"herbage",label:"Herbaceous Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"poverty_families_total",label:"Families living below poverty line",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant, good"],["important"]]},{name:"unknown_forest",label:"Unknown Forest Type Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"volcanos_count",label:"Number of volcanos",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"covid19_vaccines",label:"COVID19 Vaccine Acceptance",copyrights:[" Data from Delphi COVIDcast, covidcast.cmu.edu"],direction:[["bad"],["neutral"]]},{name:"covid19_confirmed",label:"COVID19 Confirmed Cases",copyrights:[" Data from JHU CSSE COVID-19 Dataset"],direction:[["good"],["bad"]]},{name:"avg_slope",label:"Average slope",copyrights:[" Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_elevation",label:"Average elevation",copyrights:[" Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"gdp",label:"Gross Domestic Product",copyrights:[" Kontur https://kontur.io/"," 2019 The World Bank Group, CC-BY 4.0","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, Myroslava Lesiv, Nandin-Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","@ OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"population_prev",label:"Population (previous version)",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"wildfires",label:"Wildfire Days Per Year",copyrights:[" NRT VIIRS 375 m Active Fire product VJ114IMGTDL_NRT. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/VIIRS/VJ114IMGT_NRT.002","NRT VIIRS 375 m Active Fire product VNP14IMGT. Available on-line [https://earthdata.nasa.gov/firms]. doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14DL. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14DL.NRT.006","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14ML. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14ML"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_ndvi",label:"Average NDVI, JUN 2019",copyrights:[" Data from Sentinel-2 L2A 120m Mosaic, CC-BY 4.0, https://forum.sentinel-hub.com/c/aws-sentinel"],direction:[["bad"],["good"]]},{name:"industrial_area",label:"OSM industrial area",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"pop_without_car",label:"Population without a car",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["neutral"],["important"]]},{name:"area_km2",label:"Area",copyrights:["Concept of areas  Brahmagupta, Ren Descartes"],direction:[["neutral"],["neutral"]]},{name:"days_maxtemp_over_32c_1c",label:"Days above 32C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxtemp_over_32c_2c",label:"Days above 32C, potential scenario (2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_1c",label:"Nights above 25C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_2c",label:"Nights above 25C, potential scenario(2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_1c",label:"Days above 32C wet-bulb, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_2c",label:"Days above 32C wet-bulb, potential scenario(2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"mandays_maxtemp_over_32c_1c",label:"Man-days above 32C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"man_distance_to_fire_brigade",label:"Man-distance to fire brigade",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"man_distance_to_hospital",label:"Man-distance to hospitals",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"total_road_length",label:"Total Roads length",copyrights:["2019 Facebook, Inc. and its affiliates https://github.com/facebookmicrosites/Open-Mapping-At-Facebook/blob/main/LICENSE.md"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"foursquare_places_count",label:"Foursquare Japan places count",copyrights:["Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"foursquare_visits_count",label:"Foursquare Japan visits count",copyrights:["Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"one",label:"1",copyrights:["Numbers  Muammad ibn Ms al-Khwrizm"],direction:[["neutral"],["neutral"]]},{name:"populated_area_km2",label:"Populated area",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"population",label:"Population",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"total_building_count",label:"Total Buildings Estimate",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"view_count_bf2402",label:"OSM Map Views 30 days before 24.02.2022",copyrights:[" Kontur"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]}]},rue="_axisMatrix_caw7e_1",iue={axisMatrix:rue},oue=(e,t)=>{var n,i;return{label:((n=t.find(s=>s.name===e.selectedQuotient[0]))==null?void 0:n.label)||"",selectedQuotient:{id:e.selectedQuotient,label:(i=t.find(s=>s.name===e.selectedQuotient[1]))==null?void 0:i.label},quality:"1",quotients:e.quotients.map(s=>{var l;return{id:s,label:(l=t.find(a=>a.name===s[0]))==null?void 0:l.label,quality:"1"}})}};function aue(){const e=jt.useMemo(()=>{if(!Eu.indicators||!Eu.xGroups||!Eu.xGroups.length||!Eu.yGroups||!Eu.yGroups.length)return null;const l=a=>oue(a,Eu==null?void 0:Eu.indicators);return{x:Eu.xGroups.map(l),y:Eu.yGroups.map(l)}},[Eu]),[t,n]=jt.useState(null),i=jt.useCallback((l,a,x)=>{console.log("onSelectCellHandler",l,a,x),n({x:l,y:a})},[]),s=jt.useCallback((l,a,x,S)=>{console.log("onSelectQuotient",l,a,x,S)},[]);return _t("div",{className:iue.axisMatrix,children:wr(CO,{children:[_t(nue,{matrix:Eu.matrix,xHeadings:e==null?void 0:e.x,yHeadings:e==null?void 0:e.y,onSelectCell:i,selectedCell:t,onSelectQuotient:s}),_t(CL,{})]})})}const pD=document.createElement("template");pD.innerHTML=`
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg {
  z-index: 99;
  position: fixed;
  border: 0px;
  top: 0px;
}
</style>
<svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;class sue extends HTMLElement{constructor(){super(),this.right="0",this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(this.ownerDocument.importNode(pD.content,!0)),this.update()}static get observedAttributes(){return["style","z-index","target","height","width","href","color","fill","position","top","left","right","bottom","transform"]}setAttr(t,n){const i=this.shadow.querySelector("svg");/(href)/.test(t.toLocaleLowerCase())?i.lastElementChild.setAttribute("xlink:href",n):/(color|fill)/.test(t.toLocaleLowerCase())?i.firstElementChild.style[t]=n:/(z-index|position|top|left|right|bottom|transform)/.test(t.toLocaleLowerCase())?i.style[t]=n:i.setAttribute(t,n)}update(){[...this.getAttributeNames(),"right"].forEach(t=>{const n=this.getAttribute(t)||this[t]||"";this.setAttr(t,n)})}attributeChangedCallback(t,n,i){n!==i&&this.setAttr(t,i)}}customElements.define("github-corners",sue);var lue=["size","fixed","bottom","zIndex","className","style","bgColor","color","position"];function uue(e){var{size:t=80,fixed:n=!1,bottom:i,zIndex:s,style:l,bgColor:a="#151513",color:x="#fff",position:S="right"}=e,P=nd(e,lue),L=S==="left"?{left:0,right:"initial",transform:"scale(-1, 1)"}:{right:0,left:"initial",transform:"scale(1, 1)"};return i?(L.bottom=0,L.top="initial",L.transform=S==="left"?"scale(-1, -1)":"scale(1, -1)"):(L.bottom="initial",L.top=0),_t("github-corners",xs({target:"__blank",width:t,height:t,href:e.href,position:n?"fixed":"absolute","z-index":s,style:l,fill:a,color:x},L,P))}const cue=({children:e})=>wr(X2,{children:[e,_t(uue,{size:40,href:"https://github.com/konturio/disaster-ninja-fe"})]}),fue=e=>e.raw[0],pue=fue`
  .cosmos-ui-kit-decorator {
    padding: 1em;
    display: flex;
    gap: 2em;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    box-sizing: border-box;
    background-color: #fff;
    --transp-clr: #f5f5f5;
    background-image: linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      ),
      linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      );
    background-size: 24px 24px;
    background-position: 0 0, 12px 12px;
  }
`;function hue({children:e}){return wr(X2,{children:[_t("style",{dangerouslySetInnerHTML:{__html:pue}}),_t("div",{className:"cosmos-ui-kit-decorator",children:e})]})}const Aue={port:5e3},due={"src/components/BivariateLegend/BivariateLegend.fixture.tsx":{module:{default:Vie}},"src/features/bivariate_color_manager/components/MiniLegend/MiniLegend.fixture.tsx":{module:{default:Xie}},"src/features/bivariate_manager/fixtures/BivariateGreetings.fixture.tsx":{module:{default:aoe}},"src/features/bivariate_manager/fixtures/BivariateMatrixControl.fixture.tsx":{module:{default:aue}}},mue={"cosmos.decorator.tsx":cue,"src/cosmos.decorator.tsx":hue};Zw.mountDomRenderer({rendererConfig:Aue,decorators:mue,fixtures:due});console.log("Disaster Ninja",cV);export{_t as a,wr as j,jt as r};

var C9=Object.defineProperty;var E9=(e,t,r)=>t in e?C9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oi=(e,t,r)=>(E9(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}})();var Bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k9(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var cr={exports:{}},Kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=Symbol.for("react.element"),T9=Symbol.for("react.portal"),P9=Symbol.for("react.fragment"),I9=Symbol.for("react.strict_mode"),O9=Symbol.for("react.profiler"),M9=Symbol.for("react.provider"),R9=Symbol.for("react.context"),L9=Symbol.for("react.forward_ref"),D9=Symbol.for("react.suspense"),F9=Symbol.for("react.memo"),B9=Symbol.for("react.lazy"),W4=Symbol.iterator;function z9(e){return e===null||typeof e!="object"?null:(e=W4&&e[W4]||e["@@iterator"],typeof e=="function"?e:null)}var SP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CP=Object.assign,EP={};function F0(e,t,r){this.props=e,this.context=t,this.refs=EP,this.updater=r||SP}F0.prototype.isReactComponent={};F0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};F0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kP(){}kP.prototype=F0.prototype;function uC(e,t,r){this.props=e,this.context=t,this.refs=EP,this.updater=r||SP}var lC=uC.prototype=new kP;lC.constructor=uC;CP(lC,F0.prototype);lC.isPureReactComponent=!0;var Z4=Array.isArray,TP=Object.prototype.hasOwnProperty,cC={current:null},PP={key:!0,ref:!0,__self:!0,__source:!0};function IP(e,t,r){var i,s={},u=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(u=""+t.key),t)TP.call(t,i)&&!PP.hasOwnProperty(i)&&(s[i]=t[i]);var x=arguments.length-2;if(x===1)s.children=r;else if(1<x){for(var S=Array(x),P=0;P<x;P++)S[P]=arguments[P+2];s.children=S}if(e&&e.defaultProps)for(i in x=e.defaultProps,x)s[i]===void 0&&(s[i]=x[i]);return{$$typeof:ly,type:e,key:u,ref:a,props:s,_owner:cC.current}}function N9(e,t){return{$$typeof:ly,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fC(e){return typeof e=="object"&&e!==null&&e.$$typeof===ly}function U9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var K4=/\/+/g;function Fb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U9(""+e.key):t.toString(36)}function N1(e,t,r,i,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(u){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ly:case T9:a=!0}}if(a)return a=e,s=s(a),e=i===""?"."+Fb(a,0):i,Z4(s)?(r="",e!=null&&(r=e.replace(K4,"$&/")+"/"),N1(s,t,r,"",function(P){return P})):s!=null&&(fC(s)&&(s=N9(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(K4,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=i===""?".":i+":",Z4(e))for(var x=0;x<e.length;x++){u=e[x];var S=i+Fb(u,x);a+=N1(u,t,r,S,s)}else if(S=z9(e),typeof S=="function")for(e=S.call(e),x=0;!(u=e.next()).done;)u=u.value,S=i+Fb(u,x++),a+=N1(u,t,r,S,s);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hv(e,t,r){if(e==null)return e;var i=[],s=0;return N1(e,i,"","",function(u){return t.call(r,u,s++)}),i}function j9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ou={current:null},U1={transition:null},$9={ReactCurrentDispatcher:ou,ReactCurrentBatchConfig:U1,ReactCurrentOwner:cC};Kn.Children={map:Hv,forEach:function(e,t,r){Hv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hv(e,function(){t++}),t},toArray:function(e){return Hv(e,function(t){return t})||[]},only:function(e){if(!fC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kn.Component=F0;Kn.Fragment=P9;Kn.Profiler=O9;Kn.PureComponent=uC;Kn.StrictMode=I9;Kn.Suspense=D9;Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$9;Kn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=CP({},e.props),s=e.key,u=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,a=cC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(S in t)TP.call(t,S)&&!PP.hasOwnProperty(S)&&(i[S]=t[S]===void 0&&x!==void 0?x[S]:t[S])}var S=arguments.length-2;if(S===1)i.children=r;else if(1<S){x=Array(S);for(var P=0;P<S;P++)x[P]=arguments[P+2];i.children=x}return{$$typeof:ly,type:e.type,key:s,ref:u,props:i,_owner:a}};Kn.createContext=function(e){return e={$$typeof:R9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M9,_context:e},e.Consumer=e};Kn.createElement=IP;Kn.createFactory=function(e){var t=IP.bind(null,e);return t.type=e,t};Kn.createRef=function(){return{current:null}};Kn.forwardRef=function(e){return{$$typeof:L9,render:e}};Kn.isValidElement=fC;Kn.lazy=function(e){return{$$typeof:B9,_payload:{_status:-1,_result:e},_init:j9}};Kn.memo=function(e,t){return{$$typeof:F9,type:e,compare:t===void 0?null:t}};Kn.startTransition=function(e){var t=U1.transition;U1.transition={};try{e()}finally{U1.transition=t}};Kn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Kn.useCallback=function(e,t){return ou.current.useCallback(e,t)};Kn.useContext=function(e){return ou.current.useContext(e)};Kn.useDebugValue=function(){};Kn.useDeferredValue=function(e){return ou.current.useDeferredValue(e)};Kn.useEffect=function(e,t){return ou.current.useEffect(e,t)};Kn.useId=function(){return ou.current.useId()};Kn.useImperativeHandle=function(e,t,r){return ou.current.useImperativeHandle(e,t,r)};Kn.useInsertionEffect=function(e,t){return ou.current.useInsertionEffect(e,t)};Kn.useLayoutEffect=function(e,t){return ou.current.useLayoutEffect(e,t)};Kn.useMemo=function(e,t){return ou.current.useMemo(e,t)};Kn.useReducer=function(e,t,r){return ou.current.useReducer(e,t,r)};Kn.useRef=function(e){return ou.current.useRef(e)};Kn.useState=function(e){return ou.current.useState(e)};Kn.useSyncExternalStore=function(e,t,r){return ou.current.useSyncExternalStore(e,t,r)};Kn.useTransition=function(){return ou.current.useTransition()};Kn.version="18.2.0";(function(e){e.exports=Kn})(cr);const En=e2(cr.exports);var OP={exports:{}},V9={exports:{}};(function(e){var t=function(r){var i=Object.prototype,s=i.hasOwnProperty,u=Object.defineProperty||function(Ze,Oe,ee){Ze[Oe]=ee.value},a,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",P=x.asyncIterator||"@@asyncIterator",R=x.toStringTag||"@@toStringTag";function z(Ze,Oe,ee){return Object.defineProperty(Ze,Oe,{value:ee,enumerable:!0,configurable:!0,writable:!0}),Ze[Oe]}try{z({},"")}catch{z=function(Oe,ee,pe){return Oe[ee]=pe}}function N(Ze,Oe,ee,pe){var yt=Oe&&Oe.prototype instanceof ue?Oe:ue,tr=Object.create(yt.prototype),yr=new fr(pe||[]);return u(tr,"_invoke",{value:st(Ze,ee,yr)}),tr}r.wrap=N;function $(Ze,Oe,ee){try{return{type:"normal",arg:Ze.call(Oe,ee)}}catch(pe){return{type:"throw",arg:pe}}}var Z="suspendedStart",J="suspendedYield",ae="executing",V="completed",K={};function ue(){}function ge(){}function he(){}var le={};z(le,S,function(){return this});var Se=Object.getPrototypeOf,Ce=Se&&Se(Se(wr([])));Ce&&Ce!==i&&s.call(Ce,S)&&(le=Ce);var He=he.prototype=ue.prototype=Object.create(le);ge.prototype=he,u(He,"constructor",{value:he,configurable:!0}),u(he,"constructor",{value:ge,configurable:!0}),ge.displayName=z(he,R,"GeneratorFunction");function ut(Ze){["next","throw","return"].forEach(function(Oe){z(Ze,Oe,function(ee){return this._invoke(Oe,ee)})})}r.isGeneratorFunction=function(Ze){var Oe=typeof Ze=="function"&&Ze.constructor;return Oe?Oe===ge||(Oe.displayName||Oe.name)==="GeneratorFunction":!1},r.mark=function(Ze){return Object.setPrototypeOf?Object.setPrototypeOf(Ze,he):(Ze.__proto__=he,z(Ze,R,"GeneratorFunction")),Ze.prototype=Object.create(He),Ze},r.awrap=function(Ze){return{__await:Ze}};function tt(Ze,Oe){function ee(tr,yr,hr,Sr){var Ur=$(Ze[tr],Ze,yr);if(Ur.type==="throw")Sr(Ur.arg);else{var Dr=Ur.arg,Xn=Dr.value;return Xn&&typeof Xn=="object"&&s.call(Xn,"__await")?Oe.resolve(Xn.__await).then(function(jn){ee("next",jn,hr,Sr)},function(jn){ee("throw",jn,hr,Sr)}):Oe.resolve(Xn).then(function(jn){Dr.value=jn,hr(Dr)},function(jn){return ee("throw",jn,hr,Sr)})}}var pe;function yt(tr,yr){function hr(){return new Oe(function(Sr,Ur){ee(tr,yr,Sr,Ur)})}return pe=pe?pe.then(hr,hr):hr()}u(this,"_invoke",{value:yt})}ut(tt.prototype),z(tt.prototype,P,function(){return this}),r.AsyncIterator=tt,r.async=function(Ze,Oe,ee,pe,yt){yt===void 0&&(yt=Promise);var tr=new tt(N(Ze,Oe,ee,pe),yt);return r.isGeneratorFunction(Oe)?tr:tr.next().then(function(yr){return yr.done?yr.value:tr.next()})};function st(Ze,Oe,ee){var pe=Z;return function(tr,yr){if(pe===ae)throw new Error("Generator is already running");if(pe===V){if(tr==="throw")throw yr;return Et()}for(ee.method=tr,ee.arg=yr;;){var hr=ee.delegate;if(hr){var Sr=bt(hr,ee);if(Sr){if(Sr===K)continue;return Sr}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(pe===Z)throw pe=V,ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);pe=ae;var Ur=$(Ze,Oe,ee);if(Ur.type==="normal"){if(pe=ee.done?V:J,Ur.arg===K)continue;return{value:Ur.arg,done:ee.done}}else Ur.type==="throw"&&(pe=V,ee.method="throw",ee.arg=Ur.arg)}}}function bt(Ze,Oe){var ee=Ze.iterator[Oe.method];if(ee===a){if(Oe.delegate=null,Oe.method==="throw"){if(Ze.iterator.return&&(Oe.method="return",Oe.arg=a,bt(Ze,Oe),Oe.method==="throw"))return K;Oe.method="throw",Oe.arg=new TypeError("The iterator does not provide a 'throw' method")}return K}var pe=$(ee,Ze.iterator,Oe.arg);if(pe.type==="throw")return Oe.method="throw",Oe.arg=pe.arg,Oe.delegate=null,K;var yt=pe.arg;if(!yt)return Oe.method="throw",Oe.arg=new TypeError("iterator result is not an object"),Oe.delegate=null,K;if(yt.done)Oe[Ze.resultName]=yt.value,Oe.next=Ze.nextLoc,Oe.method!=="return"&&(Oe.method="next",Oe.arg=a);else return yt;return Oe.delegate=null,K}ut(He),z(He,R,"Generator"),z(He,S,function(){return this}),z(He,"toString",function(){return"[object Generator]"});function St(Ze){var Oe={tryLoc:Ze[0]};1 in Ze&&(Oe.catchLoc=Ze[1]),2 in Ze&&(Oe.finallyLoc=Ze[2],Oe.afterLoc=Ze[3]),this.tryEntries.push(Oe)}function Qt(Ze){var Oe=Ze.completion||{};Oe.type="normal",delete Oe.arg,Ze.completion=Oe}function fr(Ze){this.tryEntries=[{tryLoc:"root"}],Ze.forEach(St,this),this.reset(!0)}r.keys=function(Ze){var Oe=Object(Ze),ee=[];for(var pe in Oe)ee.push(pe);return ee.reverse(),function yt(){for(;ee.length;){var tr=ee.pop();if(tr in Oe)return yt.value=tr,yt.done=!1,yt}return yt.done=!0,yt}};function wr(Ze){if(Ze){var Oe=Ze[S];if(Oe)return Oe.call(Ze);if(typeof Ze.next=="function")return Ze;if(!isNaN(Ze.length)){var ee=-1,pe=function yt(){for(;++ee<Ze.length;)if(s.call(Ze,ee))return yt.value=Ze[ee],yt.done=!1,yt;return yt.value=a,yt.done=!0,yt};return pe.next=pe}}return{next:Et}}r.values=wr;function Et(){return{value:a,done:!0}}return fr.prototype={constructor:fr,reset:function(Ze){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Qt),!Ze)for(var Oe in this)Oe.charAt(0)==="t"&&s.call(this,Oe)&&!isNaN(+Oe.slice(1))&&(this[Oe]=a)},stop:function(){this.done=!0;var Ze=this.tryEntries[0],Oe=Ze.completion;if(Oe.type==="throw")throw Oe.arg;return this.rval},dispatchException:function(Ze){if(this.done)throw Ze;var Oe=this;function ee(Sr,Ur){return tr.type="throw",tr.arg=Ze,Oe.next=Sr,Ur&&(Oe.method="next",Oe.arg=a),!!Ur}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var yt=this.tryEntries[pe],tr=yt.completion;if(yt.tryLoc==="root")return ee("end");if(yt.tryLoc<=this.prev){var yr=s.call(yt,"catchLoc"),hr=s.call(yt,"finallyLoc");if(yr&&hr){if(this.prev<yt.catchLoc)return ee(yt.catchLoc,!0);if(this.prev<yt.finallyLoc)return ee(yt.finallyLoc)}else if(yr){if(this.prev<yt.catchLoc)return ee(yt.catchLoc,!0)}else if(hr){if(this.prev<yt.finallyLoc)return ee(yt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ze,Oe){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var pe=this.tryEntries[ee];if(pe.tryLoc<=this.prev&&s.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var yt=pe;break}}yt&&(Ze==="break"||Ze==="continue")&&yt.tryLoc<=Oe&&Oe<=yt.finallyLoc&&(yt=null);var tr=yt?yt.completion:{};return tr.type=Ze,tr.arg=Oe,yt?(this.method="next",this.next=yt.finallyLoc,K):this.complete(tr)},complete:function(Ze,Oe){if(Ze.type==="throw")throw Ze.arg;return Ze.type==="break"||Ze.type==="continue"?this.next=Ze.arg:Ze.type==="return"?(this.rval=this.arg=Ze.arg,this.method="return",this.next="end"):Ze.type==="normal"&&Oe&&(this.next=Oe),K},finish:function(Ze){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var ee=this.tryEntries[Oe];if(ee.finallyLoc===Ze)return this.complete(ee.completion,ee.afterLoc),Qt(ee),K}},catch:function(Ze){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var ee=this.tryEntries[Oe];if(ee.tryLoc===Ze){var pe=ee.completion;if(pe.type==="throw"){var yt=pe.arg;Qt(ee)}return yt}}throw new Error("illegal catch attempt")},delegateYield:function(Ze,Oe,ee){return this.delegate={iterator:wr(Ze),resultName:Oe,nextLoc:ee},this.method==="next"&&(this.arg=a),K}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(V9);var MP={},o3={},pC={exports:{}},nl={},RP={exports:{}},LP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Et,Ze){var Oe=Et.length;Et.push(Ze);e:for(;0<Oe;){var ee=Oe-1>>>1,pe=Et[ee];if(0<s(pe,Ze))Et[ee]=Ze,Et[Oe]=pe,Oe=ee;else break e}}function r(Et){return Et.length===0?null:Et[0]}function i(Et){if(Et.length===0)return null;var Ze=Et[0],Oe=Et.pop();if(Oe!==Ze){Et[0]=Oe;e:for(var ee=0,pe=Et.length,yt=pe>>>1;ee<yt;){var tr=2*(ee+1)-1,yr=Et[tr],hr=tr+1,Sr=Et[hr];if(0>s(yr,Oe))hr<pe&&0>s(Sr,yr)?(Et[ee]=Sr,Et[hr]=Oe,ee=hr):(Et[ee]=yr,Et[tr]=Oe,ee=tr);else if(hr<pe&&0>s(Sr,Oe))Et[ee]=Sr,Et[hr]=Oe,ee=hr;else break e}}return Ze}function s(Et,Ze){var Oe=Et.sortIndex-Ze.sortIndex;return Oe!==0?Oe:Et.id-Ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var a=Date,x=a.now();e.unstable_now=function(){return a.now()-x}}var S=[],P=[],R=1,z=null,N=3,$=!1,Z=!1,J=!1,ae=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(Et){for(var Ze=r(P);Ze!==null;){if(Ze.callback===null)i(P);else if(Ze.startTime<=Et)i(P),Ze.sortIndex=Ze.expirationTime,t(S,Ze);else break;Ze=r(P)}}function ge(Et){if(J=!1,ue(Et),!Z)if(r(S)!==null)Z=!0,fr(he);else{var Ze=r(P);Ze!==null&&wr(ge,Ze.startTime-Et)}}function he(Et,Ze){Z=!1,J&&(J=!1,V(Ce),Ce=-1),$=!0;var Oe=N;try{for(ue(Ze),z=r(S);z!==null&&(!(z.expirationTime>Ze)||Et&&!tt());){var ee=z.callback;if(typeof ee=="function"){z.callback=null,N=z.priorityLevel;var pe=ee(z.expirationTime<=Ze);Ze=e.unstable_now(),typeof pe=="function"?z.callback=pe:z===r(S)&&i(S),ue(Ze)}else i(S);z=r(S)}if(z!==null)var yt=!0;else{var tr=r(P);tr!==null&&wr(ge,tr.startTime-Ze),yt=!1}return yt}finally{z=null,N=Oe,$=!1}}var le=!1,Se=null,Ce=-1,He=5,ut=-1;function tt(){return!(e.unstable_now()-ut<He)}function st(){if(Se!==null){var Et=e.unstable_now();ut=Et;var Ze=!0;try{Ze=Se(!0,Et)}finally{Ze?bt():(le=!1,Se=null)}}else le=!1}var bt;if(typeof K=="function")bt=function(){K(st)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Qt=St.port2;St.port1.onmessage=st,bt=function(){Qt.postMessage(null)}}else bt=function(){ae(st,0)};function fr(Et){Se=Et,le||(le=!0,bt())}function wr(Et,Ze){Ce=ae(function(){Et(e.unstable_now())},Ze)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Et){Et.callback=null},e.unstable_continueExecution=function(){Z||$||(Z=!0,fr(he))},e.unstable_forceFrameRate=function(Et){0>Et||125<Et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<Et?Math.floor(1e3/Et):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return r(S)},e.unstable_next=function(Et){switch(N){case 1:case 2:case 3:var Ze=3;break;default:Ze=N}var Oe=N;N=Ze;try{return Et()}finally{N=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Et,Ze){switch(Et){case 1:case 2:case 3:case 4:case 5:break;default:Et=3}var Oe=N;N=Et;try{return Ze()}finally{N=Oe}},e.unstable_scheduleCallback=function(Et,Ze,Oe){var ee=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?ee+Oe:ee):Oe=ee,Et){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Oe+pe,Et={id:R++,callback:Ze,priorityLevel:Et,startTime:Oe,expirationTime:pe,sortIndex:-1},Oe>ee?(Et.sortIndex=Oe,t(P,Et),r(S)===null&&Et===r(P)&&(J?(V(Ce),Ce=-1):J=!0,wr(ge,Oe-ee))):(Et.sortIndex=pe,t(S,Et),Z||$||(Z=!0,fr(he))),Et},e.unstable_shouldYield=tt,e.unstable_wrapCallback=function(Et){var Ze=N;return function(){var Oe=N;N=Ze;try{return Et.apply(this,arguments)}finally{N=Oe}}}})(LP);(function(e){e.exports=LP})(RP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP=cr.exports,rl=RP.exports;function er(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FP=new Set,Ig={};function jh(e,t){b0(e,t),b0(e+"Capture",t)}function b0(e,t){for(Ig[e]=t,e=0;e<t.length;e++)FP.add(t[e])}var wp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a3=Object.prototype.hasOwnProperty,H9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X4={},Y4={};function q9(e){return a3.call(Y4,e)?!0:a3.call(X4,e)?!1:H9.test(e)?Y4[e]=!0:(X4[e]=!0,!1)}function G9(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q9(e,t,r,i){if(t===null||typeof t>"u"||G9(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function au(e,t,r,i,s,u,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=a}var vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vs[e]=new au(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vs[t]=new au(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vs[e]=new au(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vs[e]=new au(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vs[e]=new au(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vs[e]=new au(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vs[e]=new au(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vs[e]=new au(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vs[e]=new au(e,5,!1,e.toLowerCase(),null,!1,!1)});var AC=/[\-:]([a-z])/g;function hC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(AC,hC);vs[t]=new au(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(AC,hC);vs[t]=new au(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(AC,hC);vs[t]=new au(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vs[e]=new au(e,1,!1,e.toLowerCase(),null,!1,!1)});vs.xlinkHref=new au("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vs[e]=new au(e,1,!1,e.toLowerCase(),null,!0,!0)});function dC(e,t,r,i){var s=vs.hasOwnProperty(t)?vs[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q9(t,r,s,i)&&(r=null),i||s===null?q9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var kp=DP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qv=Symbol.for("react.element"),Xd=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),s3=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),gC=Symbol.for("react.forward_ref"),u3=Symbol.for("react.suspense"),l3=Symbol.for("react.suspense_list"),yC=Symbol.for("react.memo"),mA=Symbol.for("react.lazy"),NP=Symbol.for("react.offscreen"),J4=Symbol.iterator;function Dm(e){return e===null||typeof e!="object"?null:(e=J4&&e[J4]||e["@@iterator"],typeof e=="function"?e:null)}var qo=Object.assign,Bb;function og(e){if(Bb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bb=t&&t[1]||""}return`
`+Bb+e}var zb=!1;function Nb(e,t){if(!e||zb)return"";zb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var s=P.stack.split(`
`),u=i.stack.split(`
`),a=s.length-1,x=u.length-1;1<=a&&0<=x&&s[a]!==u[x];)x--;for(;1<=a&&0<=x;a--,x--)if(s[a]!==u[x]){if(a!==1||x!==1)do if(a--,x--,0>x||s[a]!==u[x]){var S=`
`+s[a].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=a&&0<=x);break}}}finally{zb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?og(e):""}function W9(e){switch(e.tag){case 5:return og(e.type);case 16:return og("Lazy");case 13:return og("Suspense");case 19:return og("SuspenseList");case 0:case 2:case 15:return e=Nb(e.type,!1),e;case 11:return e=Nb(e.type.render,!1),e;case 1:return e=Nb(e.type,!0),e;default:return""}}function c3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yd:return"Fragment";case Xd:return"Portal";case s3:return"Profiler";case mC:return"StrictMode";case u3:return"Suspense";case l3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zP:return(e.displayName||"Context")+".Consumer";case BP:return(e._context.displayName||"Context")+".Provider";case gC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yC:return t=e.displayName||null,t!==null?t:c3(e.type)||"Memo";case mA:t=e._payload,e=e._init;try{return c3(e(t))}catch{}}return null}function Z9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c3(t);case 8:return t===mC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function NA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K9(e){var t=UP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,u.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gv(e){e._valueTracker||(e._valueTracker=K9(e))}function jP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=UP(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function u_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f3(e,t){var r=t.checked;return qo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function e5(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=NA(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $P(e,t){t=t.checked,t!=null&&dC(e,"checked",t,!1)}function p3(e,t){$P(e,t);var r=NA(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?A3(e,t.type,r):t.hasOwnProperty("defaultValue")&&A3(e,t.type,NA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t5(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function A3(e,t,r){(t!=="number"||u_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ag=Array.isArray;function p0(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+NA(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function h3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(er(91));return qo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r5(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(er(92));if(ag(r)){if(1<r.length)throw Error(er(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:NA(r)}}function VP(e,t){var r=NA(t.value),i=NA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function n5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qv,qP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qv=Qv||document.createElement("div"),Qv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Og(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ag={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X9=["Webkit","ms","Moz","O"];Object.keys(Ag).forEach(function(e){X9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ag[t]=Ag[e]})});function GP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ag.hasOwnProperty(e)&&Ag[e]?(""+t).trim():t+"px"}function QP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=GP(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var Y9=qo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m3(e,t){if(t){if(Y9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(er(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(er(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(er(61))}if(t.style!=null&&typeof t.style!="object")throw Error(er(62))}}function g3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y3=null;function vC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v3=null,A0=null,h0=null;function i5(e){if(e=py(e)){if(typeof v3!="function")throw Error(er(280));var t=e.stateNode;t&&(t=o2(t),v3(e.stateNode,e.type,t))}}function WP(e){A0?h0?h0.push(e):h0=[e]:A0=e}function ZP(){if(A0){var e=A0,t=h0;if(h0=A0=null,i5(e),t)for(e=0;e<t.length;e++)i5(t[e])}}function KP(e,t){return e(t)}function XP(){}var Ub=!1;function YP(e,t,r){if(Ub)return e(t,r);Ub=!0;try{return KP(e,t,r)}finally{Ub=!1,(A0!==null||h0!==null)&&(XP(),ZP())}}function Mg(e,t){var r=e.stateNode;if(r===null)return null;var i=o2(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(er(231,t,typeof r));return r}var _3=!1;if(wp)try{var Fm={};Object.defineProperty(Fm,"passive",{get:function(){_3=!0}}),window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{_3=!1}function J9(e,t,r,i,s,u,a,x,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(R){this.onError(R)}}var hg=!1,l_=null,c_=!1,x3=null,eF={onError:function(e){hg=!0,l_=e}};function tF(e,t,r,i,s,u,a,x,S){hg=!1,l_=null,J9.apply(eF,arguments)}function rF(e,t,r,i,s,u,a,x,S){if(tF.apply(this,arguments),hg){if(hg){var P=l_;hg=!1,l_=null}else throw Error(er(198));c_||(c_=!0,x3=P)}}function $h(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function JP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o5(e){if($h(e)!==e)throw Error(er(188))}function nF(e){var t=e.alternate;if(!t){if(t=$h(e),t===null)throw Error(er(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===r)return o5(s),e;if(u===i)return o5(s),t;u=u.sibling}throw Error(er(188))}if(r.return!==i.return)r=s,i=u;else{for(var a=!1,x=s.child;x;){if(x===r){a=!0,r=s,i=u;break}if(x===i){a=!0,i=s,r=u;break}x=x.sibling}if(!a){for(x=u.child;x;){if(x===r){a=!0,r=u,i=s;break}if(x===i){a=!0,i=u,r=s;break}x=x.sibling}if(!a)throw Error(er(189))}}if(r.alternate!==i)throw Error(er(190))}if(r.tag!==3)throw Error(er(188));return r.stateNode.current===r?e:t}function eI(e){return e=nF(e),e!==null?tI(e):null}function tI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tI(e);if(t!==null)return t;e=e.sibling}return null}var rI=rl.unstable_scheduleCallback,a5=rl.unstable_cancelCallback,iF=rl.unstable_shouldYield,oF=rl.unstable_requestPaint,ya=rl.unstable_now,aF=rl.unstable_getCurrentPriorityLevel,_C=rl.unstable_ImmediatePriority,nI=rl.unstable_UserBlockingPriority,f_=rl.unstable_NormalPriority,sF=rl.unstable_LowPriority,iI=rl.unstable_IdlePriority,t2=null,xf=null;function uF(e){if(xf&&typeof xf.onCommitFiberRoot=="function")try{xf.onCommitFiberRoot(t2,e,void 0,(e.current.flags&128)===128)}catch{}}var Ic=Math.clz32?Math.clz32:fF,lF=Math.log,cF=Math.LN2;function fF(e){return e>>>=0,e===0?32:31-(lF(e)/cF|0)|0}var Wv=64,Zv=4194304;function sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function p_(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,u=e.pingedLanes,a=r&268435455;if(a!==0){var x=a&~s;x!==0?i=sg(x):(u&=a,u!==0&&(i=sg(u)))}else a=r&~s,a!==0?i=sg(a):u!==0&&(i=sg(u));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ic(t),s=1<<r,i|=e[r],t&=~s;return i}function pF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AF(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var a=31-Ic(u),x=1<<a,S=s[a];S===-1?((x&r)===0||(x&i)!==0)&&(s[a]=pF(x,t)):S<=t&&(e.expiredLanes|=x),u&=~x}}function b3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oI(){var e=Wv;return Wv<<=1,(Wv&4194240)===0&&(Wv=64),e}function jb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ic(t),e[t]=r}function hF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ic(r),u=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~u}}function xC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ic(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var Mi=0;function aI(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var sI,bC,uI,lI,cI,w3=!1,Kv=[],TA=null,PA=null,IA=null,Rg=new Map,Lg=new Map,xA=[],dF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s5(e,t){switch(e){case"focusin":case"focusout":TA=null;break;case"dragenter":case"dragleave":PA=null;break;case"mouseover":case"mouseout":IA=null;break;case"pointerover":case"pointerout":Rg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(t.pointerId)}}function Bm(e,t,r,i,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:u,targetContainers:[s]},t!==null&&(t=py(t),t!==null&&bC(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mF(e,t,r,i,s){switch(t){case"focusin":return TA=Bm(TA,e,t,r,i,s),!0;case"dragenter":return PA=Bm(PA,e,t,r,i,s),!0;case"mouseover":return IA=Bm(IA,e,t,r,i,s),!0;case"pointerover":var u=s.pointerId;return Rg.set(u,Bm(Rg.get(u)||null,e,t,r,i,s)),!0;case"gotpointercapture":return u=s.pointerId,Lg.set(u,Bm(Lg.get(u)||null,e,t,r,i,s)),!0}return!1}function fI(e){var t=Ih(e.target);if(t!==null){var r=$h(t);if(r!==null){if(t=r.tag,t===13){if(t=JP(r),t!==null){e.blockedOn=t,cI(e.priority,function(){uI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=S3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);y3=i,r.target.dispatchEvent(i),y3=null}else return t=py(r),t!==null&&bC(t),e.blockedOn=r,!1;t.shift()}return!0}function u5(e,t,r){j1(e)&&r.delete(t)}function gF(){w3=!1,TA!==null&&j1(TA)&&(TA=null),PA!==null&&j1(PA)&&(PA=null),IA!==null&&j1(IA)&&(IA=null),Rg.forEach(u5),Lg.forEach(u5)}function zm(e,t){e.blockedOn===t&&(e.blockedOn=null,w3||(w3=!0,rl.unstable_scheduleCallback(rl.unstable_NormalPriority,gF)))}function Dg(e){function t(s){return zm(s,e)}if(0<Kv.length){zm(Kv[0],e);for(var r=1;r<Kv.length;r++){var i=Kv[r];i.blockedOn===e&&(i.blockedOn=null)}}for(TA!==null&&zm(TA,e),PA!==null&&zm(PA,e),IA!==null&&zm(IA,e),Rg.forEach(t),Lg.forEach(t),r=0;r<xA.length;r++)i=xA[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<xA.length&&(r=xA[0],r.blockedOn===null);)fI(r),r.blockedOn===null&&xA.shift()}var d0=kp.ReactCurrentBatchConfig,A_=!0;function yF(e,t,r,i){var s=Mi,u=d0.transition;d0.transition=null;try{Mi=1,wC(e,t,r,i)}finally{Mi=s,d0.transition=u}}function vF(e,t,r,i){var s=Mi,u=d0.transition;d0.transition=null;try{Mi=4,wC(e,t,r,i)}finally{Mi=s,d0.transition=u}}function wC(e,t,r,i){if(A_){var s=S3(e,t,r,i);if(s===null)Xb(e,t,i,h_,r),s5(e,i);else if(mF(s,e,t,r,i))i.stopPropagation();else if(s5(e,i),t&4&&-1<dF.indexOf(e)){for(;s!==null;){var u=py(s);if(u!==null&&sI(u),u=S3(e,t,r,i),u===null&&Xb(e,t,i,h_,r),u===s)break;s=u}s!==null&&i.stopPropagation()}else Xb(e,t,i,null,r)}}var h_=null;function S3(e,t,r,i){if(h_=null,e=vC(i),e=Ih(e),e!==null)if(t=$h(e),t===null)e=null;else if(r=t.tag,r===13){if(e=JP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return h_=e,null}function pI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aF()){case _C:return 1;case nI:return 4;case f_:case sF:return 16;case iI:return 536870912;default:return 16}default:return 16}}var SA=null,SC=null,$1=null;function AI(){if($1)return $1;var e,t=SC,r=t.length,i,s="value"in SA?SA.value:SA.textContent,u=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(i=1;i<=a&&t[r-i]===s[u-i];i++);return $1=s.slice(e,1<i?1-i:void 0)}function V1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xv(){return!0}function l5(){return!1}function il(e){function t(r,i,s,u,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=u,this.target=a,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Xv:l5,this.isPropagationStopped=l5,this}return qo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xv)},persist:function(){},isPersistent:Xv}),t}var B0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CC=il(B0),fy=qo({},B0,{view:0,detail:0}),_F=il(fy),$b,Vb,Nm,r2=qo({},fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nm&&(Nm&&e.type==="mousemove"?($b=e.screenX-Nm.screenX,Vb=e.screenY-Nm.screenY):Vb=$b=0,Nm=e),$b)},movementY:function(e){return"movementY"in e?e.movementY:Vb}}),c5=il(r2),xF=qo({},r2,{dataTransfer:0}),bF=il(xF),wF=qo({},fy,{relatedTarget:0}),Hb=il(wF),SF=qo({},B0,{animationName:0,elapsedTime:0,pseudoElement:0}),CF=il(SF),EF=qo({},B0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kF=il(EF),TF=qo({},B0,{data:0}),f5=il(TF),PF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OF[e])?!!t[e]:!1}function EC(){return MF}var RF=qo({},fy,{key:function(e){if(e.key){var t=PF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=V1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(e){return e.type==="keypress"?V1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?V1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LF=il(RF),DF=qo({},r2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p5=il(DF),FF=qo({},fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),BF=il(FF),zF=qo({},B0,{propertyName:0,elapsedTime:0,pseudoElement:0}),NF=il(zF),UF=qo({},r2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jF=il(UF),$F=[9,13,27,32],kC=wp&&"CompositionEvent"in window,dg=null;wp&&"documentMode"in document&&(dg=document.documentMode);var VF=wp&&"TextEvent"in window&&!dg,hI=wp&&(!kC||dg&&8<dg&&11>=dg),A5=String.fromCharCode(32),h5=!1;function dI(e,t){switch(e){case"keyup":return $F.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jd=!1;function HF(e,t){switch(e){case"compositionend":return mI(t);case"keypress":return t.which!==32?null:(h5=!0,A5);case"textInput":return e=t.data,e===A5&&h5?null:e;default:return null}}function qF(e,t){if(Jd)return e==="compositionend"||!kC&&dI(e,t)?(e=AI(),$1=SC=SA=null,Jd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hI&&t.locale!=="ko"?null:t.data;default:return null}}var GF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GF[e.type]:t==="textarea"}function gI(e,t,r,i){WP(i),t=d_(t,"onChange"),0<t.length&&(r=new CC("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var mg=null,Fg=null;function QF(e){TI(e,0)}function n2(e){var t=r0(e);if(jP(t))return e}function WF(e,t){if(e==="change")return t}var yI=!1;if(wp){var qb;if(wp){var Gb="oninput"in document;if(!Gb){var m5=document.createElement("div");m5.setAttribute("oninput","return;"),Gb=typeof m5.oninput=="function"}qb=Gb}else qb=!1;yI=qb&&(!document.documentMode||9<document.documentMode)}function g5(){mg&&(mg.detachEvent("onpropertychange",vI),Fg=mg=null)}function vI(e){if(e.propertyName==="value"&&n2(Fg)){var t=[];gI(t,Fg,e,vC(e)),YP(QF,t)}}function ZF(e,t,r){e==="focusin"?(g5(),mg=t,Fg=r,mg.attachEvent("onpropertychange",vI)):e==="focusout"&&g5()}function KF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n2(Fg)}function XF(e,t){if(e==="click")return n2(t)}function YF(e,t){if(e==="input"||e==="change")return n2(t)}function JF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mc=typeof Object.is=="function"?Object.is:JF;function Bg(e,t){if(Mc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!a3.call(t,s)||!Mc(e[s],t[s]))return!1}return!0}function y5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v5(e,t){var r=y5(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=y5(r)}}function _I(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_I(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xI(){for(var e=window,t=u_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=u_(e.document)}return t}function TC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e7(e){var t=xI(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_I(r.ownerDocument.documentElement,r)){if(i!==null&&TC(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,u=Math.min(i.start,s);i=i.end===void 0?u:Math.min(i.end,s),!e.extend&&u>i&&(s=i,i=u,u=s),s=v5(r,u);var a=v5(r,i);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t7=wp&&"documentMode"in document&&11>=document.documentMode,e0=null,C3=null,gg=null,E3=!1;function _5(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E3||e0==null||e0!==u_(i)||(i=e0,"selectionStart"in i&&TC(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gg&&Bg(gg,i)||(gg=i,i=d_(C3,"onSelect"),0<i.length&&(t=new CC("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=e0)))}function Yv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var t0={animationend:Yv("Animation","AnimationEnd"),animationiteration:Yv("Animation","AnimationIteration"),animationstart:Yv("Animation","AnimationStart"),transitionend:Yv("Transition","TransitionEnd")},Qb={},bI={};wp&&(bI=document.createElement("div").style,"AnimationEvent"in window||(delete t0.animationend.animation,delete t0.animationiteration.animation,delete t0.animationstart.animation),"TransitionEvent"in window||delete t0.transitionend.transition);function i2(e){if(Qb[e])return Qb[e];if(!t0[e])return e;var t=t0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bI)return Qb[e]=t[r];return e}var wI=i2("animationend"),SI=i2("animationiteration"),CI=i2("animationstart"),EI=i2("transitionend"),kI=new Map,x5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $A(e,t){kI.set(e,t),jh(t,[e])}for(var Wb=0;Wb<x5.length;Wb++){var Zb=x5[Wb],r7=Zb.toLowerCase(),n7=Zb[0].toUpperCase()+Zb.slice(1);$A(r7,"on"+n7)}$A(wI,"onAnimationEnd");$A(SI,"onAnimationIteration");$A(CI,"onAnimationStart");$A("dblclick","onDoubleClick");$A("focusin","onFocus");$A("focusout","onBlur");$A(EI,"onTransitionEnd");b0("onMouseEnter",["mouseout","mouseover"]);b0("onMouseLeave",["mouseout","mouseover"]);b0("onPointerEnter",["pointerout","pointerover"]);b0("onPointerLeave",["pointerout","pointerover"]);jh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jh("onBeforeInput",["compositionend","keypress","textInput","paste"]);jh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i7=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function b5(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,rF(i,t,void 0,e),e.currentTarget=null}function TI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var a=i.length-1;0<=a;a--){var x=i[a],S=x.instance,P=x.currentTarget;if(x=x.listener,S!==u&&s.isPropagationStopped())break e;b5(s,x,P),u=S}else for(a=0;a<i.length;a++){if(x=i[a],S=x.instance,P=x.currentTarget,x=x.listener,S!==u&&s.isPropagationStopped())break e;b5(s,x,P),u=S}}}if(c_)throw e=x3,c_=!1,x3=null,e}function wo(e,t){var r=t[O3];r===void 0&&(r=t[O3]=new Set);var i=e+"__bubble";r.has(i)||(PI(t,e,2,!1),r.add(i))}function Kb(e,t,r){var i=0;t&&(i|=4),PI(r,e,i,t)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function zg(e){if(!e[Jv]){e[Jv]=!0,FP.forEach(function(r){r!=="selectionchange"&&(i7.has(r)||Kb(r,!1,e),Kb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jv]||(t[Jv]=!0,Kb("selectionchange",!1,t))}}function PI(e,t,r,i){switch(pI(t)){case 1:var s=yF;break;case 4:s=vF;break;default:s=wC}r=s.bind(null,t,r,e),s=void 0,!_3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xb(e,t,r,i,s){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var S=a.tag;if((S===3||S===4)&&(S=a.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;a=a.return}for(;x!==null;){if(a=Ih(x),a===null)return;if(S=a.tag,S===5||S===6){i=u=a;continue e}x=x.parentNode}}i=i.return}YP(function(){var P=u,R=vC(r),z=[];e:{var N=kI.get(e);if(N!==void 0){var $=CC,Z=e;switch(e){case"keypress":if(V1(r)===0)break e;case"keydown":case"keyup":$=LF;break;case"focusin":Z="focus",$=Hb;break;case"focusout":Z="blur",$=Hb;break;case"beforeblur":case"afterblur":$=Hb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=c5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=bF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=BF;break;case wI:case SI:case CI:$=CF;break;case EI:$=NF;break;case"scroll":$=_F;break;case"wheel":$=jF;break;case"copy":case"cut":case"paste":$=kF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=p5}var J=(t&4)!==0,ae=!J&&e==="scroll",V=J?N!==null?N+"Capture":null:N;J=[];for(var K=P,ue;K!==null;){ue=K;var ge=ue.stateNode;if(ue.tag===5&&ge!==null&&(ue=ge,V!==null&&(ge=Mg(K,V),ge!=null&&J.push(Ng(K,ge,ue)))),ae)break;K=K.return}0<J.length&&(N=new $(N,Z,null,r,R),z.push({event:N,listeners:J}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",N&&r!==y3&&(Z=r.relatedTarget||r.fromElement)&&(Ih(Z)||Z[Sp]))break e;if(($||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,$?(Z=r.relatedTarget||r.toElement,$=P,Z=Z?Ih(Z):null,Z!==null&&(ae=$h(Z),Z!==ae||Z.tag!==5&&Z.tag!==6)&&(Z=null)):($=null,Z=P),$!==Z)){if(J=c5,ge="onMouseLeave",V="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(J=p5,ge="onPointerLeave",V="onPointerEnter",K="pointer"),ae=$==null?N:r0($),ue=Z==null?N:r0(Z),N=new J(ge,K+"leave",$,r,R),N.target=ae,N.relatedTarget=ue,ge=null,Ih(R)===P&&(J=new J(V,K+"enter",Z,r,R),J.target=ue,J.relatedTarget=ae,ge=J),ae=ge,$&&Z)t:{for(J=$,V=Z,K=0,ue=J;ue;ue=Id(ue))K++;for(ue=0,ge=V;ge;ge=Id(ge))ue++;for(;0<K-ue;)J=Id(J),K--;for(;0<ue-K;)V=Id(V),ue--;for(;K--;){if(J===V||V!==null&&J===V.alternate)break t;J=Id(J),V=Id(V)}J=null}else J=null;$!==null&&w5(z,N,$,J,!1),Z!==null&&ae!==null&&w5(z,ae,Z,J,!0)}}e:{if(N=P?r0(P):window,$=N.nodeName&&N.nodeName.toLowerCase(),$==="select"||$==="input"&&N.type==="file")var he=WF;else if(d5(N))if(yI)he=YF;else{he=KF;var le=ZF}else($=N.nodeName)&&$.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(he=XF);if(he&&(he=he(e,P))){gI(z,he,r,R);break e}le&&le(e,N,P),e==="focusout"&&(le=N._wrapperState)&&le.controlled&&N.type==="number"&&A3(N,"number",N.value)}switch(le=P?r0(P):window,e){case"focusin":(d5(le)||le.contentEditable==="true")&&(e0=le,C3=P,gg=null);break;case"focusout":gg=C3=e0=null;break;case"mousedown":E3=!0;break;case"contextmenu":case"mouseup":case"dragend":E3=!1,_5(z,r,R);break;case"selectionchange":if(t7)break;case"keydown":case"keyup":_5(z,r,R)}var Se;if(kC)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Jd?dI(e,r)&&(Ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(hI&&r.locale!=="ko"&&(Jd||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Jd&&(Se=AI()):(SA=R,SC="value"in SA?SA.value:SA.textContent,Jd=!0)),le=d_(P,Ce),0<le.length&&(Ce=new f5(Ce,e,null,r,R),z.push({event:Ce,listeners:le}),Se?Ce.data=Se:(Se=mI(r),Se!==null&&(Ce.data=Se)))),(Se=VF?HF(e,r):qF(e,r))&&(P=d_(P,"onBeforeInput"),0<P.length&&(R=new f5("onBeforeInput","beforeinput",null,r,R),z.push({event:R,listeners:P}),R.data=Se))}TI(z,t)})}function Ng(e,t,r){return{instance:e,listener:t,currentTarget:r}}function d_(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=Mg(e,r),u!=null&&i.unshift(Ng(e,u,s)),u=Mg(e,t),u!=null&&i.push(Ng(e,u,s))),e=e.return}return i}function Id(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w5(e,t,r,i,s){for(var u=t._reactName,a=[];r!==null&&r!==i;){var x=r,S=x.alternate,P=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&P!==null&&(x=P,s?(S=Mg(r,u),S!=null&&a.unshift(Ng(r,S,x))):s||(S=Mg(r,u),S!=null&&a.push(Ng(r,S,x)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var o7=/\r\n?/g,a7=/\u0000|\uFFFD/g;function S5(e){return(typeof e=="string"?e:""+e).replace(o7,`
`).replace(a7,"")}function e1(e,t,r){if(t=S5(t),S5(e)!==t&&r)throw Error(er(425))}function m_(){}var k3=null,T3=null;function P3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I3=typeof setTimeout=="function"?setTimeout:void 0,s7=typeof clearTimeout=="function"?clearTimeout:void 0,C5=typeof Promise=="function"?Promise:void 0,u7=typeof queueMicrotask=="function"?queueMicrotask:typeof C5<"u"?function(e){return C5.resolve(null).then(e).catch(l7)}:I3;function l7(e){setTimeout(function(){throw e})}function Yb(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),Dg(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Dg(t)}function OA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var z0=Math.random().toString(36).slice(2),yf="__reactFiber$"+z0,Ug="__reactProps$"+z0,Sp="__reactContainer$"+z0,O3="__reactEvents$"+z0,c7="__reactListeners$"+z0,f7="__reactHandles$"+z0;function Ih(e){var t=e[yf];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sp]||r[yf]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=E5(e);e!==null;){if(r=e[yf])return r;e=E5(e)}return t}e=r,r=e.parentNode}return null}function py(e){return e=e[yf]||e[Sp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function r0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(er(33))}function o2(e){return e[Ug]||null}var M3=[],n0=-1;function VA(e){return{current:e}}function Co(e){0>n0||(e.current=M3[n0],M3[n0]=null,n0--)}function co(e,t){n0++,M3[n0]=e.current,e.current=t}var UA={},Ns=VA(UA),Mu=VA(!1),Fh=UA;function w0(e,t){var r=e.type.contextTypes;if(!r)return UA;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in r)s[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ru(e){return e=e.childContextTypes,e!=null}function g_(){Co(Mu),Co(Ns)}function k5(e,t,r){if(Ns.current!==UA)throw Error(er(168));co(Ns,t),co(Mu,r)}function II(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(er(108,Z9(e)||"Unknown",s));return qo({},r,i)}function y_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||UA,Fh=Ns.current,co(Ns,e),co(Mu,Mu.current),!0}function T5(e,t,r){var i=e.stateNode;if(!i)throw Error(er(169));r?(e=II(e,t,Fh),i.__reactInternalMemoizedMergedChildContext=e,Co(Mu),Co(Ns),co(Ns,e)):Co(Mu),co(Mu,r)}var mp=null,a2=!1,Jb=!1;function OI(e){mp===null?mp=[e]:mp.push(e)}function p7(e){a2=!0,OI(e)}function HA(){if(!Jb&&mp!==null){Jb=!0;var e=0,t=Mi;try{var r=mp;for(Mi=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}mp=null,a2=!1}catch(s){throw mp!==null&&(mp=mp.slice(e+1)),rI(_C,HA),s}finally{Mi=t,Jb=!1}}return null}var i0=[],o0=0,v_=null,__=0,Ml=[],Rl=0,Bh=null,yp=1,vp="";function wh(e,t){i0[o0++]=__,i0[o0++]=v_,v_=e,__=t}function MI(e,t,r){Ml[Rl++]=yp,Ml[Rl++]=vp,Ml[Rl++]=Bh,Bh=e;var i=yp;e=vp;var s=32-Ic(i)-1;i&=~(1<<s),r+=1;var u=32-Ic(t)+s;if(30<u){var a=s-s%5;u=(i&(1<<a)-1).toString(32),i>>=a,s-=a,yp=1<<32-Ic(t)+s|r<<s|i,vp=u+e}else yp=1<<u|r<<s|i,vp=e}function PC(e){e.return!==null&&(wh(e,1),MI(e,1,0))}function IC(e){for(;e===v_;)v_=i0[--o0],i0[o0]=null,__=i0[--o0],i0[o0]=null;for(;e===Bh;)Bh=Ml[--Rl],Ml[Rl]=null,vp=Ml[--Rl],Ml[Rl]=null,yp=Ml[--Rl],Ml[Rl]=null}var tl=null,Yu=null,Mo=!1,Tc=null;function RI(e,t){var r=Dl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function P5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tl=e,Yu=OA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tl=e,Yu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bh!==null?{id:yp,overflow:vp}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tl=e,Yu=null,!0):!1;default:return!1}}function R3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function L3(e){if(Mo){var t=Yu;if(t){var r=t;if(!P5(e,t)){if(R3(e))throw Error(er(418));t=OA(r.nextSibling);var i=tl;t&&P5(e,t)?RI(i,r):(e.flags=e.flags&-4097|2,Mo=!1,tl=e)}}else{if(R3(e))throw Error(er(418));e.flags=e.flags&-4097|2,Mo=!1,tl=e}}}function I5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tl=e}function t1(e){if(e!==tl)return!1;if(!Mo)return I5(e),Mo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!P3(e.type,e.memoizedProps)),t&&(t=Yu)){if(R3(e))throw LI(),Error(er(418));for(;t;)RI(e,t),t=OA(t.nextSibling)}if(I5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(er(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yu=OA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yu=null}}else Yu=tl?OA(e.stateNode.nextSibling):null;return!0}function LI(){for(var e=Yu;e;)e=OA(e.nextSibling)}function S0(){Yu=tl=null,Mo=!1}function OC(e){Tc===null?Tc=[e]:Tc.push(e)}var A7=kp.ReactCurrentBatchConfig;function Ec(e,t){if(e&&e.defaultProps){t=qo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var x_=VA(null),b_=null,a0=null,MC=null;function RC(){MC=a0=b_=null}function LC(e){var t=x_.current;Co(x_),e._currentValue=t}function D3(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function m0(e,t){b_=e,MC=a0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ou=!0),e.firstContext=null)}function Nl(e){var t=e._currentValue;if(MC!==e)if(e={context:e,memoizedValue:t,next:null},a0===null){if(b_===null)throw Error(er(308));a0=e,b_.dependencies={lanes:0,firstContext:e}}else a0=a0.next=e;return t}var Oh=null;function DC(e){Oh===null?Oh=[e]:Oh.push(e)}function DI(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,DC(t)):(r.next=s.next,s.next=r),t.interleaved=r,Cp(e,i)}function Cp(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gA=!1;function FC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function MA(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ai&2)!==0){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Cp(e,r)}return s=i.interleaved,s===null?(t.next=t,DC(i)):(t.next=s.next,s.next=t),i.interleaved=t,Cp(e,r)}function H1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xC(e,r)}}function O5(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?s=u=a:u=u.next=a,r=r.next}while(r!==null);u===null?s=u=t:u=u.next=t}else s=u=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function w_(e,t,r,i){var s=e.updateQueue;gA=!1;var u=s.firstBaseUpdate,a=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,P=S.next;S.next=null,a===null?u=P:a.next=P,a=S;var R=e.alternate;R!==null&&(R=R.updateQueue,x=R.lastBaseUpdate,x!==a&&(x===null?R.firstBaseUpdate=P:x.next=P,R.lastBaseUpdate=S))}if(u!==null){var z=s.baseState;a=0,R=P=S=null,x=u;do{var N=x.lane,$=x.eventTime;if((i&N)===N){R!==null&&(R=R.next={eventTime:$,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Z=e,J=x;switch(N=t,$=r,J.tag){case 1:if(Z=J.payload,typeof Z=="function"){z=Z.call($,z,N);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=J.payload,N=typeof Z=="function"?Z.call($,z,N):Z,N==null)break e;z=qo({},z,N);break e;case 2:gA=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,N=s.effects,N===null?s.effects=[x]:N.push(x))}else $={eventTime:$,lane:N,tag:x.tag,payload:x.payload,callback:x.callback,next:null},R===null?(P=R=$,S=z):R=R.next=$,a|=N;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;N=x,x=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(1);if(R===null&&(S=z),s.baseState=S,s.firstBaseUpdate=P,s.lastBaseUpdate=R,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);Nh|=a,e.lanes=a,e.memoizedState=z}}function M5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(er(191,s));s.call(i)}}}var BI=new DP.Component().refs;function F3(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:qo({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var s2={isMounted:function(e){return(e=e._reactInternals)?$h(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=nu(),s=LA(e),u=xp(i,s);u.payload=t,r!=null&&(u.callback=r),t=MA(e,u,s),t!==null&&(Oc(t,e,s,i),H1(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=nu(),s=LA(e),u=xp(i,s);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=MA(e,u,s),t!==null&&(Oc(t,e,s,i),H1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nu(),i=LA(e),s=xp(r,i);s.tag=2,t!=null&&(s.callback=t),t=MA(e,s,i),t!==null&&(Oc(t,e,i,r),H1(t,e,i))}};function R5(e,t,r,i,s,u,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,a):t.prototype&&t.prototype.isPureReactComponent?!Bg(r,i)||!Bg(s,u):!0}function zI(e,t,r){var i=!1,s=UA,u=t.contextType;return typeof u=="object"&&u!==null?u=Nl(u):(s=Ru(t)?Fh:Ns.current,i=t.contextTypes,u=(i=i!=null)?w0(e,s):UA),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=s2,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function L5(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&s2.enqueueReplaceState(t,t.state,null)}function B3(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=BI,FC(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=Nl(u):(u=Ru(t)?Fh:Ns.current,s.context=w0(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(F3(e,t,u,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&s2.enqueueReplaceState(s,s.state,null),w_(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Um(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(er(309));var i=r.stateNode}if(!i)throw Error(er(147,e));var s=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(a){var x=s.refs;x===BI&&(x=s.refs={}),a===null?delete x[u]:x[u]=a},t._stringRef=u,t)}if(typeof e!="string")throw Error(er(284));if(!r._owner)throw Error(er(290,e))}return e}function r1(e,t){throw e=Object.prototype.toString.call(t),Error(er(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D5(e){var t=e._init;return t(e._payload)}function NI(e){function t(V,K){if(e){var ue=V.deletions;ue===null?(V.deletions=[K],V.flags|=16):ue.push(K)}}function r(V,K){if(!e)return null;for(;K!==null;)t(V,K),K=K.sibling;return null}function i(V,K){for(V=new Map;K!==null;)K.key!==null?V.set(K.key,K):V.set(K.index,K),K=K.sibling;return V}function s(V,K){return V=DA(V,K),V.index=0,V.sibling=null,V}function u(V,K,ue){return V.index=ue,e?(ue=V.alternate,ue!==null?(ue=ue.index,ue<K?(V.flags|=2,K):ue):(V.flags|=2,K)):(V.flags|=1048576,K)}function a(V){return e&&V.alternate===null&&(V.flags|=2),V}function x(V,K,ue,ge){return K===null||K.tag!==6?(K=aw(ue,V.mode,ge),K.return=V,K):(K=s(K,ue),K.return=V,K)}function S(V,K,ue,ge){var he=ue.type;return he===Yd?R(V,K,ue.props.children,ge,ue.key):K!==null&&(K.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===mA&&D5(he)===K.type)?(ge=s(K,ue.props),ge.ref=Um(V,K,ue),ge.return=V,ge):(ge=K1(ue.type,ue.key,ue.props,null,V.mode,ge),ge.ref=Um(V,K,ue),ge.return=V,ge)}function P(V,K,ue,ge){return K===null||K.tag!==4||K.stateNode.containerInfo!==ue.containerInfo||K.stateNode.implementation!==ue.implementation?(K=sw(ue,V.mode,ge),K.return=V,K):(K=s(K,ue.children||[]),K.return=V,K)}function R(V,K,ue,ge,he){return K===null||K.tag!==7?(K=Lh(ue,V.mode,ge,he),K.return=V,K):(K=s(K,ue),K.return=V,K)}function z(V,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number")return K=aw(""+K,V.mode,ue),K.return=V,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case qv:return ue=K1(K.type,K.key,K.props,null,V.mode,ue),ue.ref=Um(V,null,K),ue.return=V,ue;case Xd:return K=sw(K,V.mode,ue),K.return=V,K;case mA:var ge=K._init;return z(V,ge(K._payload),ue)}if(ag(K)||Dm(K))return K=Lh(K,V.mode,ue,null),K.return=V,K;r1(V,K)}return null}function N(V,K,ue,ge){var he=K!==null?K.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return he!==null?null:x(V,K,""+ue,ge);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case qv:return ue.key===he?S(V,K,ue,ge):null;case Xd:return ue.key===he?P(V,K,ue,ge):null;case mA:return he=ue._init,N(V,K,he(ue._payload),ge)}if(ag(ue)||Dm(ue))return he!==null?null:R(V,K,ue,ge,null);r1(V,ue)}return null}function $(V,K,ue,ge,he){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return V=V.get(ue)||null,x(K,V,""+ge,he);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case qv:return V=V.get(ge.key===null?ue:ge.key)||null,S(K,V,ge,he);case Xd:return V=V.get(ge.key===null?ue:ge.key)||null,P(K,V,ge,he);case mA:var le=ge._init;return $(V,K,ue,le(ge._payload),he)}if(ag(ge)||Dm(ge))return V=V.get(ue)||null,R(K,V,ge,he,null);r1(K,ge)}return null}function Z(V,K,ue,ge){for(var he=null,le=null,Se=K,Ce=K=0,He=null;Se!==null&&Ce<ue.length;Ce++){Se.index>Ce?(He=Se,Se=null):He=Se.sibling;var ut=N(V,Se,ue[Ce],ge);if(ut===null){Se===null&&(Se=He);break}e&&Se&&ut.alternate===null&&t(V,Se),K=u(ut,K,Ce),le===null?he=ut:le.sibling=ut,le=ut,Se=He}if(Ce===ue.length)return r(V,Se),Mo&&wh(V,Ce),he;if(Se===null){for(;Ce<ue.length;Ce++)Se=z(V,ue[Ce],ge),Se!==null&&(K=u(Se,K,Ce),le===null?he=Se:le.sibling=Se,le=Se);return Mo&&wh(V,Ce),he}for(Se=i(V,Se);Ce<ue.length;Ce++)He=$(Se,V,Ce,ue[Ce],ge),He!==null&&(e&&He.alternate!==null&&Se.delete(He.key===null?Ce:He.key),K=u(He,K,Ce),le===null?he=He:le.sibling=He,le=He);return e&&Se.forEach(function(tt){return t(V,tt)}),Mo&&wh(V,Ce),he}function J(V,K,ue,ge){var he=Dm(ue);if(typeof he!="function")throw Error(er(150));if(ue=he.call(ue),ue==null)throw Error(er(151));for(var le=he=null,Se=K,Ce=K=0,He=null,ut=ue.next();Se!==null&&!ut.done;Ce++,ut=ue.next()){Se.index>Ce?(He=Se,Se=null):He=Se.sibling;var tt=N(V,Se,ut.value,ge);if(tt===null){Se===null&&(Se=He);break}e&&Se&&tt.alternate===null&&t(V,Se),K=u(tt,K,Ce),le===null?he=tt:le.sibling=tt,le=tt,Se=He}if(ut.done)return r(V,Se),Mo&&wh(V,Ce),he;if(Se===null){for(;!ut.done;Ce++,ut=ue.next())ut=z(V,ut.value,ge),ut!==null&&(K=u(ut,K,Ce),le===null?he=ut:le.sibling=ut,le=ut);return Mo&&wh(V,Ce),he}for(Se=i(V,Se);!ut.done;Ce++,ut=ue.next())ut=$(Se,V,Ce,ut.value,ge),ut!==null&&(e&&ut.alternate!==null&&Se.delete(ut.key===null?Ce:ut.key),K=u(ut,K,Ce),le===null?he=ut:le.sibling=ut,le=ut);return e&&Se.forEach(function(st){return t(V,st)}),Mo&&wh(V,Ce),he}function ae(V,K,ue,ge){if(typeof ue=="object"&&ue!==null&&ue.type===Yd&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case qv:e:{for(var he=ue.key,le=K;le!==null;){if(le.key===he){if(he=ue.type,he===Yd){if(le.tag===7){r(V,le.sibling),K=s(le,ue.props.children),K.return=V,V=K;break e}}else if(le.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===mA&&D5(he)===le.type){r(V,le.sibling),K=s(le,ue.props),K.ref=Um(V,le,ue),K.return=V,V=K;break e}r(V,le);break}else t(V,le);le=le.sibling}ue.type===Yd?(K=Lh(ue.props.children,V.mode,ge,ue.key),K.return=V,V=K):(ge=K1(ue.type,ue.key,ue.props,null,V.mode,ge),ge.ref=Um(V,K,ue),ge.return=V,V=ge)}return a(V);case Xd:e:{for(le=ue.key;K!==null;){if(K.key===le)if(K.tag===4&&K.stateNode.containerInfo===ue.containerInfo&&K.stateNode.implementation===ue.implementation){r(V,K.sibling),K=s(K,ue.children||[]),K.return=V,V=K;break e}else{r(V,K);break}else t(V,K);K=K.sibling}K=sw(ue,V.mode,ge),K.return=V,V=K}return a(V);case mA:return le=ue._init,ae(V,K,le(ue._payload),ge)}if(ag(ue))return Z(V,K,ue,ge);if(Dm(ue))return J(V,K,ue,ge);r1(V,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,K!==null&&K.tag===6?(r(V,K.sibling),K=s(K,ue),K.return=V,V=K):(r(V,K),K=aw(ue,V.mode,ge),K.return=V,V=K),a(V)):r(V,K)}return ae}var C0=NI(!0),UI=NI(!1),Ay={},bf=VA(Ay),jg=VA(Ay),$g=VA(Ay);function Mh(e){if(e===Ay)throw Error(er(174));return e}function BC(e,t){switch(co($g,t),co(jg,e),co(bf,Ay),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d3(t,e)}Co(bf),co(bf,t)}function E0(){Co(bf),Co(jg),Co($g)}function jI(e){Mh($g.current);var t=Mh(bf.current),r=d3(t,e.type);t!==r&&(co(jg,e),co(bf,r))}function zC(e){jg.current===e&&(Co(bf),Co(jg))}var Vo=VA(0);function S_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ew=[];function NC(){for(var e=0;e<ew.length;e++)ew[e]._workInProgressVersionPrimary=null;ew.length=0}var q1=kp.ReactCurrentDispatcher,tw=kp.ReactCurrentBatchConfig,zh=0,Ho=null,Fa=null,es=null,C_=!1,yg=!1,Vg=0,h7=0;function Rs(){throw Error(er(321))}function UC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mc(e[r],t[r]))return!1;return!0}function jC(e,t,r,i,s,u){if(zh=u,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q1.current=e===null||e.memoizedState===null?y7:v7,e=r(i,s),yg){u=0;do{if(yg=!1,Vg=0,25<=u)throw Error(er(301));u+=1,es=Fa=null,t.updateQueue=null,q1.current=_7,e=r(i,s)}while(yg)}if(q1.current=E_,t=Fa!==null&&Fa.next!==null,zh=0,es=Fa=Ho=null,C_=!1,t)throw Error(er(300));return e}function $C(){var e=Vg!==0;return Vg=0,e}function mf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Ho.memoizedState=es=e:es=es.next=e,es}function Ul(){if(Fa===null){var e=Ho.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=es===null?Ho.memoizedState:es.next;if(t!==null)es=t,Fa=e;else{if(e===null)throw Error(er(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},es===null?Ho.memoizedState=es=e:es=es.next=e}return es}function Hg(e,t){return typeof t=="function"?t(e):t}function rw(e){var t=Ul(),r=t.queue;if(r===null)throw Error(er(311));r.lastRenderedReducer=e;var i=Fa,s=i.baseQueue,u=r.pending;if(u!==null){if(s!==null){var a=s.next;s.next=u.next,u.next=a}i.baseQueue=s=u,r.pending=null}if(s!==null){u=s.next,i=i.baseState;var x=a=null,S=null,P=u;do{var R=P.lane;if((zh&R)===R)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var z={lane:R,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(x=S=z,a=i):S=S.next=z,Ho.lanes|=R,Nh|=R}P=P.next}while(P!==null&&P!==u);S===null?a=i:S.next=x,Mc(i,t.memoizedState)||(Ou=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=S,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do u=s.lane,Ho.lanes|=u,Nh|=u,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nw(e){var t=Ul(),r=t.queue;if(r===null)throw Error(er(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,u=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do u=e(u,a.action),a=a.next;while(a!==s);Mc(u,t.memoizedState)||(Ou=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,i]}function $I(){}function VI(e,t){var r=Ho,i=Ul(),s=t(),u=!Mc(i.memoizedState,s);if(u&&(i.memoizedState=s,Ou=!0),i=i.queue,VC(GI.bind(null,r,i,e),[e]),i.getSnapshot!==t||u||es!==null&&es.memoizedState.tag&1){if(r.flags|=2048,qg(9,qI.bind(null,r,i,s,t),void 0,null),ts===null)throw Error(er(349));(zh&30)!==0||HI(r,t,s)}return s}function HI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ho.updateQueue,t===null?(t={lastEffect:null,stores:null},Ho.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qI(e,t,r,i){t.value=r,t.getSnapshot=i,QI(t)&&WI(e)}function GI(e,t,r){return r(function(){QI(t)&&WI(e)})}function QI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mc(e,r)}catch{return!0}}function WI(e){var t=Cp(e,1);t!==null&&Oc(t,e,1,-1)}function F5(e){var t=mf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:e},t.queue=e,e=e.dispatch=g7.bind(null,Ho,e),[t.memoizedState,e]}function qg(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ho.updateQueue,t===null?(t={lastEffect:null,stores:null},Ho.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ZI(){return Ul().memoizedState}function G1(e,t,r,i){var s=mf();Ho.flags|=e,s.memoizedState=qg(1|t,r,void 0,i===void 0?null:i)}function u2(e,t,r,i){var s=Ul();i=i===void 0?null:i;var u=void 0;if(Fa!==null){var a=Fa.memoizedState;if(u=a.destroy,i!==null&&UC(i,a.deps)){s.memoizedState=qg(t,r,u,i);return}}Ho.flags|=e,s.memoizedState=qg(1|t,r,u,i)}function B5(e,t){return G1(8390656,8,e,t)}function VC(e,t){return u2(2048,8,e,t)}function KI(e,t){return u2(4,2,e,t)}function XI(e,t){return u2(4,4,e,t)}function YI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JI(e,t,r){return r=r!=null?r.concat([e]):null,u2(4,4,YI.bind(null,t,e),r)}function HC(){}function eO(e,t){var r=Ul();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&UC(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function tO(e,t){var r=Ul();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&UC(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function rO(e,t,r){return(zh&21)===0?(e.baseState&&(e.baseState=!1,Ou=!0),e.memoizedState=r):(Mc(r,t)||(r=oI(),Ho.lanes|=r,Nh|=r,e.baseState=!0),t)}function d7(e,t){var r=Mi;Mi=r!==0&&4>r?r:4,e(!0);var i=tw.transition;tw.transition={};try{e(!1),t()}finally{Mi=r,tw.transition=i}}function nO(){return Ul().memoizedState}function m7(e,t,r){var i=LA(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},iO(e))oO(t,r);else if(r=DI(e,t,r,i),r!==null){var s=nu();Oc(r,e,i,s),aO(r,t,i)}}function g7(e,t,r){var i=LA(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(iO(e))oO(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var a=t.lastRenderedState,x=u(a,r);if(s.hasEagerState=!0,s.eagerState=x,Mc(x,a)){var S=t.interleaved;S===null?(s.next=s,DC(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}r=DI(e,t,s,i),r!==null&&(s=nu(),Oc(r,e,i,s),aO(r,t,i))}}function iO(e){var t=e.alternate;return e===Ho||t!==null&&t===Ho}function oO(e,t){yg=C_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aO(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xC(e,r)}}var E_={readContext:Nl,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},y7={readContext:Nl,useCallback:function(e,t){return mf().memoizedState=[e,t===void 0?null:t],e},useContext:Nl,useEffect:B5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,G1(4194308,4,YI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return G1(4194308,4,e,t)},useInsertionEffect:function(e,t){return G1(4,2,e,t)},useMemo:function(e,t){var r=mf();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=mf();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=m7.bind(null,Ho,e),[i.memoizedState,e]},useRef:function(e){var t=mf();return e={current:e},t.memoizedState=e},useState:F5,useDebugValue:HC,useDeferredValue:function(e){return mf().memoizedState=e},useTransition:function(){var e=F5(!1),t=e[0];return e=d7.bind(null,e[1]),mf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ho,s=mf();if(Mo){if(r===void 0)throw Error(er(407));r=r()}else{if(r=t(),ts===null)throw Error(er(349));(zh&30)!==0||HI(i,t,r)}s.memoizedState=r;var u={value:r,getSnapshot:t};return s.queue=u,B5(GI.bind(null,i,u,e),[e]),i.flags|=2048,qg(9,qI.bind(null,i,u,r,t),void 0,null),r},useId:function(){var e=mf(),t=ts.identifierPrefix;if(Mo){var r=vp,i=yp;r=(i&~(1<<32-Ic(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h7++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v7={readContext:Nl,useCallback:eO,useContext:Nl,useEffect:VC,useImperativeHandle:JI,useInsertionEffect:KI,useLayoutEffect:XI,useMemo:tO,useReducer:rw,useRef:ZI,useState:function(){return rw(Hg)},useDebugValue:HC,useDeferredValue:function(e){var t=Ul();return rO(t,Fa.memoizedState,e)},useTransition:function(){var e=rw(Hg)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:$I,useSyncExternalStore:VI,useId:nO,unstable_isNewReconciler:!1},_7={readContext:Nl,useCallback:eO,useContext:Nl,useEffect:VC,useImperativeHandle:JI,useInsertionEffect:KI,useLayoutEffect:XI,useMemo:tO,useReducer:nw,useRef:ZI,useState:function(){return nw(Hg)},useDebugValue:HC,useDeferredValue:function(e){var t=Ul();return Fa===null?t.memoizedState=e:rO(t,Fa.memoizedState,e)},useTransition:function(){var e=nw(Hg)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:$I,useSyncExternalStore:VI,useId:nO,unstable_isNewReconciler:!1};function k0(e,t){try{var r="",i=t;do r+=W9(i),i=i.return;while(i);var s=r}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function iw(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function z3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var x7=typeof WeakMap=="function"?WeakMap:Map;function sO(e,t,r){r=xp(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){T_||(T_=!0,W3=i),z3(e,t)},r}function uO(e,t,r){r=xp(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){z3(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){z3(e,t),typeof i!="function"&&(RA===null?RA=new Set([this]):RA.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function z5(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new x7;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=D7.bind(null,e,t,r),t.then(e,e))}function N5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U5(e,t,r,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xp(-1,1),t.tag=2,MA(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var b7=kp.ReactCurrentOwner,Ou=!1;function ru(e,t,r,i){t.child=e===null?UI(t,null,r,i):C0(t,e.child,r,i)}function j5(e,t,r,i,s){r=r.render;var u=t.ref;return m0(t,s),i=jC(e,t,r,i,u,s),r=$C(),e!==null&&!Ou?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ep(e,t,s)):(Mo&&r&&PC(t),t.flags|=1,ru(e,t,i,s),t.child)}function $5(e,t,r,i,s){if(e===null){var u=r.type;return typeof u=="function"&&!YC(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,lO(e,t,u,i,s)):(e=K1(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&s)===0){var a=u.memoizedProps;if(r=r.compare,r=r!==null?r:Bg,r(a,i)&&e.ref===t.ref)return Ep(e,t,s)}return t.flags|=1,e=DA(u,i),e.ref=t.ref,e.return=t,t.child=e}function lO(e,t,r,i,s){if(e!==null){var u=e.memoizedProps;if(Bg(u,i)&&e.ref===t.ref)if(Ou=!1,t.pendingProps=i=u,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Ou=!0);else return t.lanes=e.lanes,Ep(e,t,s)}return N3(e,t,r,i,s)}function cO(e,t,r){var i=t.pendingProps,s=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},co(u0,Xu),Xu|=r;else{if((r&1073741824)===0)return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,co(u0,Xu),Xu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:r,co(u0,Xu),Xu|=i}else u!==null?(i=u.baseLanes|r,t.memoizedState=null):i=r,co(u0,Xu),Xu|=i;return ru(e,t,s,r),t.child}function fO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function N3(e,t,r,i,s){var u=Ru(r)?Fh:Ns.current;return u=w0(t,u),m0(t,s),r=jC(e,t,r,i,u,s),i=$C(),e!==null&&!Ou?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ep(e,t,s)):(Mo&&i&&PC(t),t.flags|=1,ru(e,t,r,s),t.child)}function V5(e,t,r,i,s){if(Ru(r)){var u=!0;y_(t)}else u=!1;if(m0(t,s),t.stateNode===null)Q1(e,t),zI(t,r,i),B3(t,r,i,s),i=!0;else if(e===null){var a=t.stateNode,x=t.memoizedProps;a.props=x;var S=a.context,P=r.contextType;typeof P=="object"&&P!==null?P=Nl(P):(P=Ru(r)?Fh:Ns.current,P=w0(t,P));var R=r.getDerivedStateFromProps,z=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function";z||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==i||S!==P)&&L5(t,a,i,P),gA=!1;var N=t.memoizedState;a.state=N,w_(t,i,a,s),S=t.memoizedState,x!==i||N!==S||Mu.current||gA?(typeof R=="function"&&(F3(t,r,R,i),S=t.memoizedState),(x=gA||R5(t,r,x,i,N,S,P))?(z||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),a.props=i,a.state=S,a.context=P,i=x):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,FI(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:Ec(t.type,x),a.props=P,z=t.pendingProps,N=a.context,S=r.contextType,typeof S=="object"&&S!==null?S=Nl(S):(S=Ru(r)?Fh:Ns.current,S=w0(t,S));var $=r.getDerivedStateFromProps;(R=typeof $=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==z||N!==S)&&L5(t,a,i,S),gA=!1,N=t.memoizedState,a.state=N,w_(t,i,a,s);var Z=t.memoizedState;x!==z||N!==Z||Mu.current||gA?(typeof $=="function"&&(F3(t,r,$,i),Z=t.memoizedState),(P=gA||R5(t,r,P,i,N,Z,S)||!1)?(R||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,Z,S),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,Z,S)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Z),a.props=i,a.state=Z,a.context=S,i=P):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return U3(e,t,r,i,u,s)}function U3(e,t,r,i,s,u){fO(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&T5(t,r,!1),Ep(e,t,u);i=t.stateNode,b7.current=t;var x=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=C0(t,e.child,null,u),t.child=C0(t,null,x,u)):ru(e,t,x,u),t.memoizedState=i.state,s&&T5(t,r,!0),t.child}function pO(e){var t=e.stateNode;t.pendingContext?k5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k5(e,t.context,!1),BC(e,t.containerInfo)}function H5(e,t,r,i,s){return S0(),OC(s),t.flags|=256,ru(e,t,r,i),t.child}var j3={dehydrated:null,treeContext:null,retryLane:0};function $3(e){return{baseLanes:e,cachePool:null,transitions:null}}function AO(e,t,r){var i=t.pendingProps,s=Vo.current,u=!1,a=(t.flags&128)!==0,x;if((x=a)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),co(Vo,s&1),e===null)return L3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,u?(i=t.mode,u=t.child,a={mode:"hidden",children:a},(i&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=a):u=f2(a,i,0,null),e=Lh(e,i,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=$3(r),t.memoizedState=j3,e):qC(t,a));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return w7(e,t,a,i,x,s,r);if(u){u=i.fallback,a=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return(a&1)===0&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=DA(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?u=DA(x,u):(u=Lh(u,a,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,a=e.child.memoizedState,a=a===null?$3(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},u.memoizedState=a,u.childLanes=e.childLanes&~r,t.memoizedState=j3,i}return u=e.child,e=u.sibling,i=DA(u,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function qC(e,t){return t=f2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function n1(e,t,r,i){return i!==null&&OC(i),C0(t,e.child,null,r),e=qC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w7(e,t,r,i,s,u,a){if(r)return t.flags&256?(t.flags&=-257,i=iw(Error(er(422))),n1(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,s=t.mode,i=f2({mode:"visible",children:i.children},s,0,null),u=Lh(u,s,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,(t.mode&1)!==0&&C0(t,e.child,null,a),t.child.memoizedState=$3(a),t.memoizedState=j3,u);if((t.mode&1)===0)return n1(e,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,u=Error(er(419)),i=iw(u,i,void 0),n1(e,t,a,i)}if(x=(a&e.childLanes)!==0,Ou||x){if(i=ts,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|a))!==0?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,Cp(e,s),Oc(i,e,s,-1))}return XC(),i=iw(Error(er(421))),n1(e,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=F7.bind(null,e),s._reactRetry=t,null):(e=u.treeContext,Yu=OA(s.nextSibling),tl=t,Mo=!0,Tc=null,e!==null&&(Ml[Rl++]=yp,Ml[Rl++]=vp,Ml[Rl++]=Bh,yp=e.id,vp=e.overflow,Bh=t),t=qC(t,i.children),t.flags|=4096,t)}function q5(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),D3(e.return,t,r)}function ow(e,t,r,i,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=r,u.tailMode=s)}function hO(e,t,r){var i=t.pendingProps,s=i.revealOrder,u=i.tail;if(ru(e,t,i.children,r),i=Vo.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q5(e,r,t);else if(e.tag===19)q5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(co(Vo,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&S_(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ow(t,!1,s,r,u);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&S_(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ow(t,!0,r,null,u);break;case"together":ow(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Q1(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ep(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nh|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(er(153));if(t.child!==null){for(e=t.child,r=DA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=DA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S7(e,t,r){switch(t.tag){case 3:pO(t),S0();break;case 5:jI(t);break;case 1:Ru(t.type)&&y_(t);break;case 4:BC(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;co(x_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(co(Vo,Vo.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?AO(e,t,r):(co(Vo,Vo.current&1),e=Ep(e,t,r),e!==null?e.sibling:null);co(Vo,Vo.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return hO(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),co(Vo,Vo.current),i)break;return null;case 22:case 23:return t.lanes=0,cO(e,t,r)}return Ep(e,t,r)}var dO,V3,mO,gO;dO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V3=function(){};mO=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Mh(bf.current);var u=null;switch(r){case"input":s=f3(e,s),i=f3(e,i),u=[];break;case"select":s=qo({},s,{value:void 0}),i=qo({},i,{value:void 0}),u=[];break;case"textarea":s=h3(e,s),i=h3(e,i),u=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=m_)}m3(r,i);var a;r=null;for(P in s)if(!i.hasOwnProperty(P)&&s.hasOwnProperty(P)&&s[P]!=null)if(P==="style"){var x=s[P];for(a in x)x.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(Ig.hasOwnProperty(P)?u||(u=[]):(u=u||[]).push(P,null));for(P in i){var S=i[P];if(x=s!=null?s[P]:void 0,i.hasOwnProperty(P)&&S!==x&&(S!=null||x!=null))if(P==="style")if(x){for(a in x)!x.hasOwnProperty(a)||S&&S.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in S)S.hasOwnProperty(a)&&x[a]!==S[a]&&(r||(r={}),r[a]=S[a])}else r||(u||(u=[]),u.push(P,r)),r=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(u=u||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(u=u||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(Ig.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&wo("scroll",e),u||x===S||(u=[])):(u=u||[]).push(P,S))}r&&(u=u||[]).push("style",r);var P=u;(t.updateQueue=P)&&(t.flags|=4)}};gO=function(e,t,r,i){r!==i&&(t.flags|=4)};function jm(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ls(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function C7(e,t,r){var i=t.pendingProps;switch(IC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(t),null;case 1:return Ru(t.type)&&g_(),Ls(t),null;case 3:return i=t.stateNode,E0(),Co(Mu),Co(Ns),NC(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(t1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tc!==null&&(X3(Tc),Tc=null))),V3(e,t),Ls(t),null;case 5:zC(t);var s=Mh($g.current);if(r=t.type,e!==null&&t.stateNode!=null)mO(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(er(166));return Ls(t),null}if(e=Mh(bf.current),t1(t)){i=t.stateNode,r=t.type;var u=t.memoizedProps;switch(i[yf]=t,i[Ug]=u,e=(t.mode&1)!==0,r){case"dialog":wo("cancel",i),wo("close",i);break;case"iframe":case"object":case"embed":wo("load",i);break;case"video":case"audio":for(s=0;s<ug.length;s++)wo(ug[s],i);break;case"source":wo("error",i);break;case"img":case"image":case"link":wo("error",i),wo("load",i);break;case"details":wo("toggle",i);break;case"input":e5(i,u),wo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},wo("invalid",i);break;case"textarea":r5(i,u),wo("invalid",i)}m3(r,u),s=null;for(var a in u)if(u.hasOwnProperty(a)){var x=u[a];a==="children"?typeof x=="string"?i.textContent!==x&&(u.suppressHydrationWarning!==!0&&e1(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(u.suppressHydrationWarning!==!0&&e1(i.textContent,x,e),s=["children",""+x]):Ig.hasOwnProperty(a)&&x!=null&&a==="onScroll"&&wo("scroll",i)}switch(r){case"input":Gv(i),t5(i,u,!0);break;case"textarea":Gv(i),n5(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=m_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(r,{is:i.is}):(e=a.createElement(r),r==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,r),e[yf]=t,e[Ug]=i,dO(e,t,!1,!1),t.stateNode=e;e:{switch(a=g3(r,i),r){case"dialog":wo("cancel",e),wo("close",e),s=i;break;case"iframe":case"object":case"embed":wo("load",e),s=i;break;case"video":case"audio":for(s=0;s<ug.length;s++)wo(ug[s],e);s=i;break;case"source":wo("error",e),s=i;break;case"img":case"image":case"link":wo("error",e),wo("load",e),s=i;break;case"details":wo("toggle",e),s=i;break;case"input":e5(e,i),s=f3(e,i),wo("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=qo({},i,{value:void 0}),wo("invalid",e);break;case"textarea":r5(e,i),s=h3(e,i),wo("invalid",e);break;default:s=i}m3(r,s),x=s;for(u in x)if(x.hasOwnProperty(u)){var S=x[u];u==="style"?QP(e,S):u==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&qP(e,S)):u==="children"?typeof S=="string"?(r!=="textarea"||S!=="")&&Og(e,S):typeof S=="number"&&Og(e,""+S):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ig.hasOwnProperty(u)?S!=null&&u==="onScroll"&&wo("scroll",e):S!=null&&dC(e,u,S,a))}switch(r){case"input":Gv(e),t5(e,i,!1);break;case"textarea":Gv(e),n5(e);break;case"option":i.value!=null&&e.setAttribute("value",""+NA(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?p0(e,!!i.multiple,u,!1):i.defaultValue!=null&&p0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=m_)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ls(t),null;case 6:if(e&&t.stateNode!=null)gO(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(er(166));if(r=Mh($g.current),Mh(bf.current),t1(t)){if(i=t.stateNode,r=t.memoizedProps,i[yf]=t,(u=i.nodeValue!==r)&&(e=tl,e!==null))switch(e.tag){case 3:e1(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&e1(i.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[yf]=t,t.stateNode=i}return Ls(t),null;case 13:if(Co(Vo),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mo&&Yu!==null&&(t.mode&1)!==0&&(t.flags&128)===0)LI(),S0(),t.flags|=98560,u=!1;else if(u=t1(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(er(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(er(317));u[yf]=t}else S0(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ls(t),u=!1}else Tc!==null&&(X3(Tc),Tc=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Vo.current&1)!==0?Ba===0&&(Ba=3):XC())),t.updateQueue!==null&&(t.flags|=4),Ls(t),null);case 4:return E0(),V3(e,t),e===null&&zg(t.stateNode.containerInfo),Ls(t),null;case 10:return LC(t.type._context),Ls(t),null;case 17:return Ru(t.type)&&g_(),Ls(t),null;case 19:if(Co(Vo),u=t.memoizedState,u===null)return Ls(t),null;if(i=(t.flags&128)!==0,a=u.rendering,a===null)if(i)jm(u,!1);else{if(Ba!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=S_(e),a!==null){for(t.flags|=128,jm(u,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)u=r,e=i,u.flags&=14680066,a=u.alternate,a===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,u.type=a.type,e=a.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return co(Vo,Vo.current&1|2),t.child}e=e.sibling}u.tail!==null&&ya()>T0&&(t.flags|=128,i=!0,jm(u,!1),t.lanes=4194304)}else{if(!i)if(e=S_(a),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jm(u,!0),u.tail===null&&u.tailMode==="hidden"&&!a.alternate&&!Mo)return Ls(t),null}else 2*ya()-u.renderingStartTime>T0&&r!==1073741824&&(t.flags|=128,i=!0,jm(u,!1),t.lanes=4194304);u.isBackwards?(a.sibling=t.child,t.child=a):(r=u.last,r!==null?r.sibling=a:t.child=a,u.last=a)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ya(),t.sibling=null,r=Vo.current,co(Vo,i?r&1|2:r&1),t):(Ls(t),null);case 22:case 23:return KC(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Xu&1073741824)!==0&&(Ls(t),t.subtreeFlags&6&&(t.flags|=8192)):Ls(t),null;case 24:return null;case 25:return null}throw Error(er(156,t.tag))}function E7(e,t){switch(IC(t),t.tag){case 1:return Ru(t.type)&&g_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return E0(),Co(Mu),Co(Ns),NC(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return zC(t),null;case 13:if(Co(Vo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(er(340));S0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Co(Vo),null;case 4:return E0(),null;case 10:return LC(t.type._context),null;case 22:case 23:return KC(),null;case 24:return null;default:return null}}var i1=!1,Fs=!1,k7=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function s0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){aa(e,t,i)}else r.current=null}function H3(e,t,r){try{r()}catch(i){aa(e,t,i)}}var G5=!1;function T7(e,t){if(k3=A_,e=xI(),TC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var a=0,x=-1,S=-1,P=0,R=0,z=e,N=null;t:for(;;){for(var $;z!==r||s!==0&&z.nodeType!==3||(x=a+s),z!==u||i!==0&&z.nodeType!==3||(S=a+i),z.nodeType===3&&(a+=z.nodeValue.length),($=z.firstChild)!==null;)N=z,z=$;for(;;){if(z===e)break t;if(N===r&&++P===s&&(x=a),N===u&&++R===i&&(S=a),($=z.nextSibling)!==null)break;z=N,N=z.parentNode}z=$}r=x===-1||S===-1?null:{start:x,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(T3={focusedElem:e,selectionRange:r},A_=!1,Pr=t;Pr!==null;)if(t=Pr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pr=e;else for(;Pr!==null;){t=Pr;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var J=Z.memoizedProps,ae=Z.memoizedState,V=t.stateNode,K=V.getSnapshotBeforeUpdate(t.elementType===t.type?J:Ec(t.type,J),ae);V.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ue=t.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(er(163))}}catch(ge){aa(t,t.return,ge)}if(e=t.sibling,e!==null){e.return=t.return,Pr=e;break}Pr=t.return}return Z=G5,G5=!1,Z}function vg(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&H3(t,r,u)}s=s.next}while(s!==i)}}function l2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function q3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yO(e){var t=e.alternate;t!==null&&(e.alternate=null,yO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yf],delete t[Ug],delete t[O3],delete t[c7],delete t[f7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vO(e){return e.tag===5||e.tag===3||e.tag===4}function Q5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G3(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=m_));else if(i!==4&&(e=e.child,e!==null))for(G3(e,t,r),e=e.sibling;e!==null;)G3(e,t,r),e=e.sibling}function Q3(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Q3(e,t,r),e=e.sibling;e!==null;)Q3(e,t,r),e=e.sibling}var ms=null,kc=!1;function pA(e,t,r){for(r=r.child;r!==null;)_O(e,t,r),r=r.sibling}function _O(e,t,r){if(xf&&typeof xf.onCommitFiberUnmount=="function")try{xf.onCommitFiberUnmount(t2,r)}catch{}switch(r.tag){case 5:Fs||s0(r,t);case 6:var i=ms,s=kc;ms=null,pA(e,t,r),ms=i,kc=s,ms!==null&&(kc?(e=ms,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ms.removeChild(r.stateNode));break;case 18:ms!==null&&(kc?(e=ms,r=r.stateNode,e.nodeType===8?Yb(e.parentNode,r):e.nodeType===1&&Yb(e,r),Dg(e)):Yb(ms,r.stateNode));break;case 4:i=ms,s=kc,ms=r.stateNode.containerInfo,kc=!0,pA(e,t,r),ms=i,kc=s;break;case 0:case 11:case 14:case 15:if(!Fs&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var u=s,a=u.destroy;u=u.tag,a!==void 0&&((u&2)!==0||(u&4)!==0)&&H3(r,t,a),s=s.next}while(s!==i)}pA(e,t,r);break;case 1:if(!Fs&&(s0(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(x){aa(r,t,x)}pA(e,t,r);break;case 21:pA(e,t,r);break;case 22:r.mode&1?(Fs=(i=Fs)||r.memoizedState!==null,pA(e,t,r),Fs=i):pA(e,t,r);break;default:pA(e,t,r)}}function W5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new k7),t.forEach(function(i){var s=B7.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function bc(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var u=e,a=t,x=a;e:for(;x!==null;){switch(x.tag){case 5:ms=x.stateNode,kc=!1;break e;case 3:ms=x.stateNode.containerInfo,kc=!0;break e;case 4:ms=x.stateNode.containerInfo,kc=!0;break e}x=x.return}if(ms===null)throw Error(er(160));_O(u,a,s),ms=null,kc=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(P){aa(s,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xO(t,e),t=t.sibling}function xO(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bc(t,e),hf(e),i&4){try{vg(3,e,e.return),l2(3,e)}catch(J){aa(e,e.return,J)}try{vg(5,e,e.return)}catch(J){aa(e,e.return,J)}}break;case 1:bc(t,e),hf(e),i&512&&r!==null&&s0(r,r.return);break;case 5:if(bc(t,e),hf(e),i&512&&r!==null&&s0(r,r.return),e.flags&32){var s=e.stateNode;try{Og(s,"")}catch(J){aa(e,e.return,J)}}if(i&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,a=r!==null?r.memoizedProps:u,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&u.type==="radio"&&u.name!=null&&$P(s,u),g3(x,a);var P=g3(x,u);for(a=0;a<S.length;a+=2){var R=S[a],z=S[a+1];R==="style"?QP(s,z):R==="dangerouslySetInnerHTML"?qP(s,z):R==="children"?Og(s,z):dC(s,R,z,P)}switch(x){case"input":p3(s,u);break;case"textarea":VP(s,u);break;case"select":var N=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var $=u.value;$!=null?p0(s,!!u.multiple,$,!1):N!==!!u.multiple&&(u.defaultValue!=null?p0(s,!!u.multiple,u.defaultValue,!0):p0(s,!!u.multiple,u.multiple?[]:"",!1))}s[Ug]=u}catch(J){aa(e,e.return,J)}}break;case 6:if(bc(t,e),hf(e),i&4){if(e.stateNode===null)throw Error(er(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(J){aa(e,e.return,J)}}break;case 3:if(bc(t,e),hf(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Dg(t.containerInfo)}catch(J){aa(e,e.return,J)}break;case 4:bc(t,e),hf(e);break;case 13:bc(t,e),hf(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(WC=ya())),i&4&&W5(e);break;case 22:if(R=r!==null&&r.memoizedState!==null,e.mode&1?(Fs=(P=Fs)||R,bc(t,e),Fs=P):bc(t,e),hf(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!R&&(e.mode&1)!==0)for(Pr=e,R=e.child;R!==null;){for(z=Pr=R;Pr!==null;){switch(N=Pr,$=N.child,N.tag){case 0:case 11:case 14:case 15:vg(4,N,N.return);break;case 1:s0(N,N.return);var Z=N.stateNode;if(typeof Z.componentWillUnmount=="function"){i=N,r=N.return;try{t=i,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(J){aa(i,r,J)}}break;case 5:s0(N,N.return);break;case 22:if(N.memoizedState!==null){K5(z);continue}}$!==null?($.return=N,Pr=$):K5(z)}R=R.sibling}e:for(R=null,z=e;;){if(z.tag===5){if(R===null){R=z;try{s=z.stateNode,P?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(x=z.stateNode,S=z.memoizedProps.style,a=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=GP("display",a))}catch(J){aa(e,e.return,J)}}}else if(z.tag===6){if(R===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(J){aa(e,e.return,J)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;R===z&&(R=null),z=z.return}R===z&&(R=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:bc(t,e),hf(e),i&4&&W5(e);break;case 21:break;default:bc(t,e),hf(e)}}function hf(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vO(r)){var i=r;break e}r=r.return}throw Error(er(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Og(s,""),i.flags&=-33);var u=Q5(e);Q3(e,u,s);break;case 3:case 4:var a=i.stateNode.containerInfo,x=Q5(e);G3(e,x,a);break;default:throw Error(er(161))}}catch(S){aa(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P7(e,t,r){Pr=e,bO(e)}function bO(e,t,r){for(var i=(e.mode&1)!==0;Pr!==null;){var s=Pr,u=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||i1;if(!a){var x=s.alternate,S=x!==null&&x.memoizedState!==null||Fs;x=i1;var P=Fs;if(i1=a,(Fs=S)&&!P)for(Pr=s;Pr!==null;)a=Pr,S=a.child,a.tag===22&&a.memoizedState!==null?X5(s):S!==null?(S.return=a,Pr=S):X5(s);for(;u!==null;)Pr=u,bO(u),u=u.sibling;Pr=s,i1=x,Fs=P}Z5(e)}else(s.subtreeFlags&8772)!==0&&u!==null?(u.return=s,Pr=u):Z5(e)}}function Z5(e){for(;Pr!==null;){var t=Pr;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Fs||l2(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Fs)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ec(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&M5(t,u,i);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}M5(t,a,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&r.focus();break;case"img":S.src&&(r.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var R=P.memoizedState;if(R!==null){var z=R.dehydrated;z!==null&&Dg(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(er(163))}Fs||t.flags&512&&q3(t)}catch(N){aa(t,t.return,N)}}if(t===e){Pr=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pr=r;break}Pr=t.return}}function K5(e){for(;Pr!==null;){var t=Pr;if(t===e){Pr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pr=r;break}Pr=t.return}}function X5(e){for(;Pr!==null;){var t=Pr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{l2(4,t)}catch(S){aa(t,r,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){aa(t,s,S)}}var u=t.return;try{q3(t)}catch(S){aa(t,u,S)}break;case 5:var a=t.return;try{q3(t)}catch(S){aa(t,a,S)}}}catch(S){aa(t,t.return,S)}if(t===e){Pr=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Pr=x;break}Pr=t.return}}var I7=Math.ceil,k_=kp.ReactCurrentDispatcher,GC=kp.ReactCurrentOwner,Fl=kp.ReactCurrentBatchConfig,Ai=0,ts=null,Ma=null,ys=0,Xu=0,u0=VA(0),Ba=0,Gg=null,Nh=0,c2=0,QC=0,_g=null,Iu=null,WC=0,T0=1/0,Ap=null,T_=!1,W3=null,RA=null,o1=!1,CA=null,P_=0,xg=0,Z3=null,W1=-1,Z1=0;function nu(){return(Ai&6)!==0?ya():W1!==-1?W1:W1=ya()}function LA(e){return(e.mode&1)===0?1:(Ai&2)!==0&&ys!==0?ys&-ys:A7.transition!==null?(Z1===0&&(Z1=oI()),Z1):(e=Mi,e!==0||(e=window.event,e=e===void 0?16:pI(e.type)),e)}function Oc(e,t,r,i){if(50<xg)throw xg=0,Z3=null,Error(er(185));cy(e,r,i),((Ai&2)===0||e!==ts)&&(e===ts&&((Ai&2)===0&&(c2|=r),Ba===4&&bA(e,ys)),Lu(e,i),r===1&&Ai===0&&(t.mode&1)===0&&(T0=ya()+500,a2&&HA()))}function Lu(e,t){var r=e.callbackNode;AF(e,t);var i=p_(e,e===ts?ys:0);if(i===0)r!==null&&a5(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&a5(r),t===1)e.tag===0?p7(Y5.bind(null,e)):OI(Y5.bind(null,e)),u7(function(){(Ai&6)===0&&HA()}),r=null;else{switch(aI(i)){case 1:r=_C;break;case 4:r=nI;break;case 16:r=f_;break;case 536870912:r=iI;break;default:r=f_}r=IO(r,wO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wO(e,t){if(W1=-1,Z1=0,(Ai&6)!==0)throw Error(er(327));var r=e.callbackNode;if(g0()&&e.callbackNode!==r)return null;var i=p_(e,e===ts?ys:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=I_(e,i);else{t=i;var s=Ai;Ai|=2;var u=CO();(ts!==e||ys!==t)&&(Ap=null,T0=ya()+500,Rh(e,t));do try{R7();break}catch(x){SO(e,x)}while(1);RC(),k_.current=u,Ai=s,Ma!==null?t=0:(ts=null,ys=0,t=Ba)}if(t!==0){if(t===2&&(s=b3(e),s!==0&&(i=s,t=K3(e,s))),t===1)throw r=Gg,Rh(e,0),bA(e,i),Lu(e,ya()),r;if(t===6)bA(e,i);else{if(s=e.current.alternate,(i&30)===0&&!O7(s)&&(t=I_(e,i),t===2&&(u=b3(e),u!==0&&(i=u,t=K3(e,u))),t===1))throw r=Gg,Rh(e,0),bA(e,i),Lu(e,ya()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(er(345));case 2:Sh(e,Iu,Ap);break;case 3:if(bA(e,i),(i&130023424)===i&&(t=WC+500-ya(),10<t)){if(p_(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){nu(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=I3(Sh.bind(null,e,Iu,Ap),t);break}Sh(e,Iu,Ap);break;case 4:if(bA(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-Ic(i);u=1<<a,a=t[a],a>s&&(s=a),i&=~u}if(i=s,i=ya()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*I7(i/1960))-i,10<i){e.timeoutHandle=I3(Sh.bind(null,e,Iu,Ap),i);break}Sh(e,Iu,Ap);break;case 5:Sh(e,Iu,Ap);break;default:throw Error(er(329))}}}return Lu(e,ya()),e.callbackNode===r?wO.bind(null,e):null}function K3(e,t){var r=_g;return e.current.memoizedState.isDehydrated&&(Rh(e,t).flags|=256),e=I_(e,t),e!==2&&(t=Iu,Iu=r,t!==null&&X3(t)),e}function X3(e){Iu===null?Iu=e:Iu.push.apply(Iu,e)}function O7(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],u=s.getSnapshot;s=s.value;try{if(!Mc(u(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bA(e,t){for(t&=~QC,t&=~c2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ic(t),i=1<<r;e[r]=-1,t&=~i}}function Y5(e){if((Ai&6)!==0)throw Error(er(327));g0();var t=p_(e,0);if((t&1)===0)return Lu(e,ya()),null;var r=I_(e,t);if(e.tag!==0&&r===2){var i=b3(e);i!==0&&(t=i,r=K3(e,i))}if(r===1)throw r=Gg,Rh(e,0),bA(e,t),Lu(e,ya()),r;if(r===6)throw Error(er(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sh(e,Iu,Ap),Lu(e,ya()),null}function ZC(e,t){var r=Ai;Ai|=1;try{return e(t)}finally{Ai=r,Ai===0&&(T0=ya()+500,a2&&HA())}}function Uh(e){CA!==null&&CA.tag===0&&(Ai&6)===0&&g0();var t=Ai;Ai|=1;var r=Fl.transition,i=Mi;try{if(Fl.transition=null,Mi=1,e)return e()}finally{Mi=i,Fl.transition=r,Ai=t,(Ai&6)===0&&HA()}}function KC(){Xu=u0.current,Co(u0)}function Rh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,s7(r)),Ma!==null)for(r=Ma.return;r!==null;){var i=r;switch(IC(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&g_();break;case 3:E0(),Co(Mu),Co(Ns),NC();break;case 5:zC(i);break;case 4:E0();break;case 13:Co(Vo);break;case 19:Co(Vo);break;case 10:LC(i.type._context);break;case 22:case 23:KC()}r=r.return}if(ts=e,Ma=e=DA(e.current,null),ys=Xu=t,Ba=0,Gg=null,QC=c2=Nh=0,Iu=_g=null,Oh!==null){for(t=0;t<Oh.length;t++)if(r=Oh[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,u=r.pending;if(u!==null){var a=u.next;u.next=s,i.next=a}r.pending=i}Oh=null}return e}function SO(e,t){do{var r=Ma;try{if(RC(),q1.current=E_,C_){for(var i=Ho.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}C_=!1}if(zh=0,es=Fa=Ho=null,yg=!1,Vg=0,GC.current=null,r===null||r.return===null){Ba=1,Gg=t,Ma=null;break}e:{var u=e,a=r.return,x=r,S=t;if(t=ys,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,R=x,z=R.tag;if((R.mode&1)===0&&(z===0||z===11||z===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=N5(a);if($!==null){$.flags&=-257,U5($,a,x,u,t),$.mode&1&&z5(u,P,t),t=$,S=P;var Z=t.updateQueue;if(Z===null){var J=new Set;J.add(S),t.updateQueue=J}else Z.add(S);break e}else{if((t&1)===0){z5(u,P,t),XC();break e}S=Error(er(426))}}else if(Mo&&x.mode&1){var ae=N5(a);if(ae!==null){(ae.flags&65536)===0&&(ae.flags|=256),U5(ae,a,x,u,t),OC(k0(S,x));break e}}u=S=k0(S,x),Ba!==4&&(Ba=2),_g===null?_g=[u]:_g.push(u),u=a;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var V=sO(u,S,t);O5(u,V);break e;case 1:x=S;var K=u.type,ue=u.stateNode;if((u.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(RA===null||!RA.has(ue)))){u.flags|=65536,t&=-t,u.lanes|=t;var ge=uO(u,x,t);O5(u,ge);break e}}u=u.return}while(u!==null)}kO(r)}catch(he){t=he,Ma===r&&r!==null&&(Ma=r=r.return);continue}break}while(1)}function CO(){var e=k_.current;return k_.current=E_,e===null?E_:e}function XC(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),ts===null||(Nh&268435455)===0&&(c2&268435455)===0||bA(ts,ys)}function I_(e,t){var r=Ai;Ai|=2;var i=CO();(ts!==e||ys!==t)&&(Ap=null,Rh(e,t));do try{M7();break}catch(s){SO(e,s)}while(1);if(RC(),Ai=r,k_.current=i,Ma!==null)throw Error(er(261));return ts=null,ys=0,Ba}function M7(){for(;Ma!==null;)EO(Ma)}function R7(){for(;Ma!==null&&!iF();)EO(Ma)}function EO(e){var t=PO(e.alternate,e,Xu);e.memoizedProps=e.pendingProps,t===null?kO(e):Ma=t,GC.current=null}function kO(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=C7(r,t,Xu),r!==null){Ma=r;return}}else{if(r=E7(r,t),r!==null){r.flags&=32767,Ma=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Ma=null;return}}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ba===0&&(Ba=5)}function Sh(e,t,r){var i=Mi,s=Fl.transition;try{Fl.transition=null,Mi=1,L7(e,t,r,i)}finally{Fl.transition=s,Mi=i}return null}function L7(e,t,r,i){do g0();while(CA!==null);if((Ai&6)!==0)throw Error(er(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(er(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(hF(e,u),e===ts&&(Ma=ts=null,ys=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||o1||(o1=!0,IO(f_,function(){return g0(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=Fl.transition,Fl.transition=null;var a=Mi;Mi=1;var x=Ai;Ai|=4,GC.current=null,T7(e,r),xO(r,e),e7(T3),A_=!!k3,T3=k3=null,e.current=r,P7(r),oF(),Ai=x,Mi=a,Fl.transition=u}else e.current=r;if(o1&&(o1=!1,CA=e,P_=s),u=e.pendingLanes,u===0&&(RA=null),uF(r.stateNode),Lu(e,ya()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(T_)throw T_=!1,e=W3,W3=null,e;return(P_&1)!==0&&e.tag!==0&&g0(),u=e.pendingLanes,(u&1)!==0?e===Z3?xg++:(xg=0,Z3=e):xg=0,HA(),null}function g0(){if(CA!==null){var e=aI(P_),t=Fl.transition,r=Mi;try{if(Fl.transition=null,Mi=16>e?16:e,CA===null)var i=!1;else{if(e=CA,CA=null,P_=0,(Ai&6)!==0)throw Error(er(331));var s=Ai;for(Ai|=4,Pr=e.current;Pr!==null;){var u=Pr,a=u.child;if((Pr.flags&16)!==0){var x=u.deletions;if(x!==null){for(var S=0;S<x.length;S++){var P=x[S];for(Pr=P;Pr!==null;){var R=Pr;switch(R.tag){case 0:case 11:case 15:vg(8,R,u)}var z=R.child;if(z!==null)z.return=R,Pr=z;else for(;Pr!==null;){R=Pr;var N=R.sibling,$=R.return;if(yO(R),R===P){Pr=null;break}if(N!==null){N.return=$,Pr=N;break}Pr=$}}}var Z=u.alternate;if(Z!==null){var J=Z.child;if(J!==null){Z.child=null;do{var ae=J.sibling;J.sibling=null,J=ae}while(J!==null)}}Pr=u}}if((u.subtreeFlags&2064)!==0&&a!==null)a.return=u,Pr=a;else e:for(;Pr!==null;){if(u=Pr,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:vg(9,u,u.return)}var V=u.sibling;if(V!==null){V.return=u.return,Pr=V;break e}Pr=u.return}}var K=e.current;for(Pr=K;Pr!==null;){a=Pr;var ue=a.child;if((a.subtreeFlags&2064)!==0&&ue!==null)ue.return=a,Pr=ue;else e:for(a=K;Pr!==null;){if(x=Pr,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:l2(9,x)}}catch(he){aa(x,x.return,he)}if(x===a){Pr=null;break e}var ge=x.sibling;if(ge!==null){ge.return=x.return,Pr=ge;break e}Pr=x.return}}if(Ai=s,HA(),xf&&typeof xf.onPostCommitFiberRoot=="function")try{xf.onPostCommitFiberRoot(t2,e)}catch{}i=!0}return i}finally{Mi=r,Fl.transition=t}}return!1}function J5(e,t,r){t=k0(r,t),t=sO(e,t,1),e=MA(e,t,1),t=nu(),e!==null&&(cy(e,1,t),Lu(e,t))}function aa(e,t,r){if(e.tag===3)J5(e,e,r);else for(;t!==null;){if(t.tag===3){J5(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(RA===null||!RA.has(i))){e=k0(r,e),e=uO(t,e,1),t=MA(t,e,1),e=nu(),t!==null&&(cy(t,1,e),Lu(t,e));break}}t=t.return}}function D7(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=nu(),e.pingedLanes|=e.suspendedLanes&r,ts===e&&(ys&r)===r&&(Ba===4||Ba===3&&(ys&130023424)===ys&&500>ya()-WC?Rh(e,0):QC|=r),Lu(e,t)}function TO(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zv,Zv<<=1,(Zv&130023424)===0&&(Zv=4194304)));var r=nu();e=Cp(e,t),e!==null&&(cy(e,t,r),Lu(e,r))}function F7(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),TO(e,r)}function B7(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(er(314))}i!==null&&i.delete(t),TO(e,r)}var PO;PO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mu.current)Ou=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ou=!1,S7(e,t,r);Ou=(e.flags&131072)!==0}else Ou=!1,Mo&&(t.flags&1048576)!==0&&MI(t,__,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Q1(e,t),e=t.pendingProps;var s=w0(t,Ns.current);m0(t,r),s=jC(null,t,i,e,s,r);var u=$C();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ru(i)?(u=!0,y_(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,FC(t),s.updater=s2,t.stateNode=s,s._reactInternals=t,B3(t,i,e,r),t=U3(null,t,i,!0,u,r)):(t.tag=0,Mo&&u&&PC(t),ru(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Q1(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=N7(i),e=Ec(i,e),s){case 0:t=N3(null,t,i,e,r);break e;case 1:t=V5(null,t,i,e,r);break e;case 11:t=j5(null,t,i,e,r);break e;case 14:t=$5(null,t,i,Ec(i.type,e),r);break e}throw Error(er(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),N3(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),V5(e,t,i,s,r);case 3:e:{if(pO(t),e===null)throw Error(er(387));i=t.pendingProps,u=t.memoizedState,s=u.element,FI(e,t),w_(t,i,null,r);var a=t.memoizedState;if(i=a.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=k0(Error(er(423)),t),t=H5(e,t,i,r,s);break e}else if(i!==s){s=k0(Error(er(424)),t),t=H5(e,t,i,r,s);break e}else for(Yu=OA(t.stateNode.containerInfo.firstChild),tl=t,Mo=!0,Tc=null,r=UI(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(S0(),i===s){t=Ep(e,t,r);break e}ru(e,t,i,r)}t=t.child}return t;case 5:return jI(t),e===null&&L3(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,a=s.children,P3(i,s)?a=null:u!==null&&P3(i,u)&&(t.flags|=32),fO(e,t),ru(e,t,a,r),t.child;case 6:return e===null&&L3(t),null;case 13:return AO(e,t,r);case 4:return BC(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=C0(t,null,i,r):ru(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),j5(e,t,i,s,r);case 7:return ru(e,t,t.pendingProps,r),t.child;case 8:return ru(e,t,t.pendingProps.children,r),t.child;case 12:return ru(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,u=t.memoizedProps,a=s.value,co(x_,i._currentValue),i._currentValue=a,u!==null)if(Mc(u.value,a)){if(u.children===s.children&&!Mu.current){t=Ep(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var x=u.dependencies;if(x!==null){a=u.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(u.tag===1){S=xp(-1,r&-r),S.tag=2;var P=u.updateQueue;if(P!==null){P=P.shared;var R=P.pending;R===null?S.next=S:(S.next=R.next,R.next=S),P.pending=S}}u.lanes|=r,S=u.alternate,S!==null&&(S.lanes|=r),D3(u.return,r,t),x.lanes|=r;break}S=S.next}}else if(u.tag===10)a=u.type===t.type?null:u.child;else if(u.tag===18){if(a=u.return,a===null)throw Error(er(341));a.lanes|=r,x=a.alternate,x!==null&&(x.lanes|=r),D3(a,r,t),a=u.sibling}else a=u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===t){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}ru(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,m0(t,r),s=Nl(s),i=i(s),t.flags|=1,ru(e,t,i,r),t.child;case 14:return i=t.type,s=Ec(i,t.pendingProps),s=Ec(i.type,s),$5(e,t,i,s,r);case 15:return lO(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),Q1(e,t),t.tag=1,Ru(i)?(e=!0,y_(t)):e=!1,m0(t,r),zI(t,i,s),B3(t,i,s,r),U3(null,t,i,!0,e,r);case 19:return hO(e,t,r);case 22:return cO(e,t,r)}throw Error(er(156,t.tag))};function IO(e,t){return rI(e,t)}function z7(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,r,i){return new z7(e,t,r,i)}function YC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N7(e){if(typeof e=="function")return YC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gC)return 11;if(e===yC)return 14}return 2}function DA(e,t){var r=e.alternate;return r===null?(r=Dl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function K1(e,t,r,i,s,u){var a=2;if(i=e,typeof e=="function")YC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Yd:return Lh(r.children,s,u,t);case mC:a=8,s|=8;break;case s3:return e=Dl(12,r,t,s|2),e.elementType=s3,e.lanes=u,e;case u3:return e=Dl(13,r,t,s),e.elementType=u3,e.lanes=u,e;case l3:return e=Dl(19,r,t,s),e.elementType=l3,e.lanes=u,e;case NP:return f2(r,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BP:a=10;break e;case zP:a=9;break e;case gC:a=11;break e;case yC:a=14;break e;case mA:a=16,i=null;break e}throw Error(er(130,e==null?e:typeof e,""))}return t=Dl(a,r,t,s),t.elementType=e,t.type=i,t.lanes=u,t}function Lh(e,t,r,i){return e=Dl(7,e,i,t),e.lanes=r,e}function f2(e,t,r,i){return e=Dl(22,e,i,t),e.elementType=NP,e.lanes=r,e.stateNode={isHidden:!1},e}function aw(e,t,r){return e=Dl(6,e,null,t),e.lanes=r,e}function sw(e,t,r){return t=Dl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U7(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jb(0),this.expirationTimes=jb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jb(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function JC(e,t,r,i,s,u,a,x,S){return e=new U7(e,t,r,x,S),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Dl(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},FC(u),e}function j7(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xd,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function OO(e){if(!e)return UA;e=e._reactInternals;e:{if($h(e)!==e||e.tag!==1)throw Error(er(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ru(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(er(171))}if(e.tag===1){var r=e.type;if(Ru(r))return II(e,r,t)}return t}function MO(e,t,r,i,s,u,a,x,S){return e=JC(r,i,!0,e,s,u,a,x,S),e.context=OO(null),r=e.current,i=nu(),s=LA(r),u=xp(i,s),u.callback=t!=null?t:null,MA(r,u,s),e.current.lanes=s,cy(e,s,i),Lu(e,i),e}function p2(e,t,r,i){var s=t.current,u=nu(),a=LA(s);return r=OO(r),t.context===null?t.context=r:t.pendingContext=r,t=xp(u,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=MA(s,t,a),e!==null&&(Oc(e,s,a,u),H1(e,s,a)),a}function O_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ek(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eE(e,t){ek(e,t),(e=e.alternate)&&ek(e,t)}function $7(){return null}var RO=typeof reportError=="function"?reportError:function(e){console.error(e)};function tE(e){this._internalRoot=e}A2.prototype.render=tE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(er(409));p2(e,t,null,null)};A2.prototype.unmount=tE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(function(){p2(null,e,null,null)}),t[Sp]=null}};function A2(e){this._internalRoot=e}A2.prototype.unstable_scheduleHydration=function(e){if(e){var t=lI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xA.length&&t!==0&&t<xA[r].priority;r++);xA.splice(r,0,e),r===0&&fI(e)}};function rE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tk(){}function V7(e,t,r,i,s){if(s){if(typeof i=="function"){var u=i;i=function(){var P=O_(a);u.call(P)}}var a=MO(t,i,e,0,null,!1,!1,"",tk);return e._reactRootContainer=a,e[Sp]=a.current,zg(e.nodeType===8?e.parentNode:e),Uh(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var P=O_(S);x.call(P)}}var S=JC(e,0,!1,null,null,!1,!1,"",tk);return e._reactRootContainer=S,e[Sp]=S.current,zg(e.nodeType===8?e.parentNode:e),Uh(function(){p2(t,S,r,i)}),S}function d2(e,t,r,i,s){var u=r._reactRootContainer;if(u){var a=u;if(typeof s=="function"){var x=s;s=function(){var S=O_(a);x.call(S)}}p2(t,a,e,s)}else a=V7(r,t,e,s,i);return O_(a)}sI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sg(t.pendingLanes);r!==0&&(xC(t,r|1),Lu(t,ya()),(Ai&6)===0&&(T0=ya()+500,HA()))}break;case 13:Uh(function(){var i=Cp(e,1);if(i!==null){var s=nu();Oc(i,e,1,s)}}),eE(e,1)}};bC=function(e){if(e.tag===13){var t=Cp(e,134217728);if(t!==null){var r=nu();Oc(t,e,134217728,r)}eE(e,134217728)}};uI=function(e){if(e.tag===13){var t=LA(e),r=Cp(e,t);if(r!==null){var i=nu();Oc(r,e,t,i)}eE(e,t)}};lI=function(){return Mi};cI=function(e,t){var r=Mi;try{return Mi=e,t()}finally{Mi=r}};v3=function(e,t,r){switch(t){case"input":if(p3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=o2(i);if(!s)throw Error(er(90));jP(i),p3(i,s)}}}break;case"textarea":VP(e,r);break;case"select":t=r.value,t!=null&&p0(e,!!r.multiple,t,!1)}};KP=ZC;XP=Uh;var H7={usingClientEntryPoint:!1,Events:[py,r0,o2,WP,ZP,ZC]},$m={findFiberByHostInstance:Ih,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q7={bundleType:$m.bundleType,version:$m.version,rendererPackageName:$m.rendererPackageName,rendererConfig:$m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kp.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eI(e),e===null?null:e.stateNode},findFiberByHostInstance:$m.findFiberByHostInstance||$7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a1.isDisabled&&a1.supportsFiber)try{t2=a1.inject(q7),xf=a1}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H7;nl.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rE(t))throw Error(er(200));return j7(e,t,null,r)};nl.createRoot=function(e,t){if(!rE(e))throw Error(er(299));var r=!1,i="",s=RO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=JC(e,1,!1,null,null,r,!1,i,s),e[Sp]=t.current,zg(e.nodeType===8?e.parentNode:e),new tE(t)};nl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(er(188)):(e=Object.keys(e).join(","),Error(er(268,e)));return e=eI(t),e=e===null?null:e.stateNode,e};nl.flushSync=function(e){return Uh(e)};nl.hydrate=function(e,t,r){if(!h2(t))throw Error(er(200));return d2(null,e,t,!0,r)};nl.hydrateRoot=function(e,t,r){if(!rE(e))throw Error(er(405));var i=r!=null&&r.hydratedSources||null,s=!1,u="",a=RO;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=MO(t,null,e,1,r!=null?r:null,s,!1,u,a),e[Sp]=t.current,zg(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new A2(t)};nl.render=function(e,t,r){if(!h2(t))throw Error(er(200));return d2(null,e,t,!1,r)};nl.unmountComponentAtNode=function(e){if(!h2(e))throw Error(er(40));return e._reactRootContainer?(Uh(function(){d2(null,null,e,!1,function(){e._reactRootContainer=null,e[Sp]=null})}),!0):!1};nl.unstable_batchedUpdates=ZC;nl.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!h2(r))throw Error(er(200));if(e==null||e._reactInternals===void 0)throw Error(er(38));return d2(e,t,r,!1,i)};nl.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=nl})(pC);const s1=e2(pC.exports);var LO,rk=pC.exports;LO=o3.createRoot=rk.createRoot,o3.hydrateRoot=rk.hydrateRoot;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.getDomContainer=G7;function G7(e){if(!e)return nk();var t=document.querySelector(e);return t||(console.warn('Query selector "'.concat(e,`" doesn't match any existing DOM element. `)+"Are you using a custom HTML template? "+'Add an element matching "'.concat(e,'" to your template or change the containerQuerySelector setting.')),nk())}function nk(){return document.getElementById("root")||Q7()}function Q7(){var e=document.createElement("div");return e.setAttribute("id","root"),document.body.appendChild(e),e}var iE={},oE={exports:{}},DO={},m2={},aE={},sE={},_s={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",x="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",P=500,R="__lodash_placeholder__",z=1,N=2,$=4,Z=1,J=2,ae=1,V=2,K=4,ue=8,ge=16,he=32,le=64,Se=128,Ce=256,He=512,ut=30,tt="...",st=800,bt=16,St=1,Qt=2,fr=3,wr=1/0,Et=9007199254740991,Ze=17976931348623157e292,Oe=0/0,ee=4294967295,pe=ee-1,yt=ee>>>1,tr=[["ary",Se],["bind",ae],["bindKey",V],["curry",ue],["curryRight",ge],["flip",He],["partial",he],["partialRight",le],["rearg",Ce]],yr="[object Arguments]",hr="[object Array]",Sr="[object AsyncFunction]",Ur="[object Boolean]",Dr="[object Date]",Xn="[object DOMException]",jn="[object Error]",Fi="[object Function]",jr="[object GeneratorFunction]",mi="[object Map]",gi="[object Number]",Qo="[object Null]",Bi="[object Object]",Wi="[object Promise]",ws="[object Proxy]",io="[object RegExp]",Qn="[object Set]",Lo="[object String]",oo="[object Symbol]",bi="[object Undefined]",Do="[object WeakMap]",sa="[object WeakSet]",gt="[object ArrayBuffer]",be="[object DataView]",Ye="[object Float32Array]",kt="[object Float64Array]",or="[object Int8Array]",Hr="[object Int16Array]",In="[object Int32Array]",Or="[object Uint8Array]",en="[object Uint8ClampedArray]",$n="[object Uint16Array]",Yn="[object Uint32Array]",hn=/\b__p \+= '';/g,Eo=/\b(__p \+=) '' \+/g,Jn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ua=/&(?:amp|lt|gt|quot|#39);/g,Ra=/[&<>"']/g,$t=RegExp(ua.source),Ei=RegExp(Ra.source),zn=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,ie=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(Ne.source),ze=/^\s+/,xe=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,ot=/,? & /,Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,h=/[()=,{}\[\]\/\s]/,ye=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,lt=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,xt=/^\[object .+?Constructor\]$/,pr=/^0o[0-7]+$/i,ur=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,An=/($^)/,Xr=/['\n\r\u2028\u2029\\]/g,Ln="\\ud800-\\udfff",dn="\\u0300-\\u036f",an="\\ufe20-\\ufe2f",gn="\\u20d0-\\u20ff",hi=dn+an+gn,xn="\\u2700-\\u27bf",Kt="a-z\\xdf-\\xf6\\xf8-\\xff",qe="\\xac\\xb1\\xd7\\xf7",xr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uu="\\u2000-\\u206f",Fc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ao="A-Z\\xc0-\\xd6\\xd8-\\xde",Wo="\\ufe0e\\ufe0f",Bc=qe+xr+uu+Fc,Re="['\u2019]",so="["+Ln+"]",is="["+Bc+"]",la="["+hi+"]",si="\\d+",ca="["+xn+"]",ko="["+Kt+"]",Zo="[^"+Ln+Bc+si+xn+Kt+ao+"]",os="\\ud83c[\\udffb-\\udfff]",Pf="(?:"+la+"|"+os+")",zi="[^"+Ln+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",as="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+ao+"]",Ni="\\u200d",Fu="(?:"+ko+"|"+Zo+")",Zl="(?:"+wi+"|"+Zo+")",Ip="(?:"+Re+"(?:d|ll|m|re|s|t|ve))?",Op="(?:"+Re+"(?:D|LL|M|RE|S|T|VE))?",ci=Pf+"?",zc="["+Wo+"]?",If="(?:"+Ni+"(?:"+[zi,ki,as].join("|")+")"+zc+ci+")*",QA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Of="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kl=zc+ci+If,Xl="(?:"+[ca,ki,as].join("|")+")"+Kl,Bu="(?:"+[zi+la+"?",la,ki,as,so].join("|")+")",Nc=RegExp(Re,"g"),Uc=RegExp(la,"g"),Yl=RegExp(os+"(?="+os+")|"+Bu+Kl,"g"),Ko=RegExp([wi+"?"+ko+"+"+Ip+"(?="+[is,wi,"$"].join("|")+")",Zl+"+"+Op+"(?="+[is,wi+Fu,"$"].join("|")+")",wi+"?"+Fu+"+"+Ip,wi+"+"+Op,Of,QA,si,Xl].join("|"),"g"),lu=RegExp("["+Ni+Ln+hi+Wo+"]"),Ss=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cu=-1,Nn={};Nn[Ye]=Nn[kt]=Nn[or]=Nn[Hr]=Nn[In]=Nn[Or]=Nn[en]=Nn[$n]=Nn[Yn]=!0,Nn[yr]=Nn[hr]=Nn[gt]=Nn[Ur]=Nn[be]=Nn[Dr]=Nn[jn]=Nn[Fi]=Nn[mi]=Nn[gi]=Nn[Bi]=Nn[io]=Nn[Qn]=Nn[Lo]=Nn[Do]=!1;var qr={};qr[yr]=qr[hr]=qr[gt]=qr[be]=qr[Ur]=qr[Dr]=qr[Ye]=qr[kt]=qr[or]=qr[Hr]=qr[In]=qr[mi]=qr[gi]=qr[Bi]=qr[io]=qr[Qn]=qr[Lo]=qr[oo]=qr[Or]=qr[en]=qr[$n]=qr[Yn]=!0,qr[jn]=qr[Fi]=qr[Do]=!1;var Fo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$c=parseFloat,Mp=parseInt,ul=typeof Bs=="object"&&Bs&&Bs.Object===Object&&Bs,ll=typeof self=="object"&&self&&self.Object===Object&&self,yi=ul||ll||Function("return this")(),cl=t&&!t.nodeType&&t,js=cl&&!0&&e&&!e.nodeType&&e,fl=js&&js.exports===cl,$s=fl&&ul.process,Ti=function(){try{var rt=js&&js.require&&js.require("util").types;return rt||$s&&$s.binding&&$s.binding("util")}catch{}}(),zu=Ti&&Ti.isArrayBuffer,Vc=Ti&&Ti.isDate,Zi=Ti&&Ti.isMap,Hc=Ti&&Ti.isRegExp,Vs=Ti&&Ti.isSet,Cs=Ti&&Ti.isTypedArray;function fo(rt,Ot,vt){switch(vt.length){case 0:return rt.call(Ot);case 1:return rt.call(Ot,vt[0]);case 2:return rt.call(Ot,vt[0],vt[1]);case 3:return rt.call(Ot,vt[0],vt[1],vt[2])}return rt.apply(Ot,vt)}function Nu(rt,Ot,vt,Vt){for(var Yr=-1,bn=rt==null?0:rt.length;++Yr<bn;){var ti=rt[Yr];Ot(Vt,ti,vt(ti),rt)}return Vt}function po(rt,Ot){for(var vt=-1,Vt=rt==null?0:rt.length;++vt<Vt&&Ot(rt[vt],vt,rt)!==!1;);return rt}function ss(rt,Ot){for(var vt=rt==null?0:rt.length;vt--&&Ot(rt[vt],vt,rt)!==!1;);return rt}function fu(rt,Ot){for(var vt=-1,Vt=rt==null?0:rt.length;++vt<Vt;)if(!Ot(rt[vt],vt,rt))return!1;return!0}function Xo(rt,Ot){for(var vt=-1,Vt=rt==null?0:rt.length,Yr=0,bn=[];++vt<Vt;){var ti=rt[vt];Ot(ti,vt,rt)&&(bn[Yr++]=ti)}return bn}function pl(rt,Ot){var vt=rt==null?0:rt.length;return!!vt&&Uu(rt,Ot,0)>-1}function Dn(rt,Ot,vt){for(var Vt=-1,Yr=rt==null?0:rt.length;++Vt<Yr;)if(vt(Ot,rt[Vt]))return!0;return!1}function ei(rt,Ot){for(var vt=-1,Vt=rt==null?0:rt.length,Yr=Array(Vt);++vt<Vt;)Yr[vt]=Ot(rt[vt],vt,rt);return Yr}function Ua(rt,Ot){for(var vt=-1,Vt=Ot.length,Yr=rt.length;++vt<Vt;)rt[Yr+vt]=Ot[vt];return rt}function Jl(rt,Ot,vt,Vt){var Yr=-1,bn=rt==null?0:rt.length;for(Vt&&bn&&(vt=rt[++Yr]);++Yr<bn;)vt=Ot(vt,rt[Yr],Yr,rt);return vt}function Al(rt,Ot,vt,Vt){var Yr=rt==null?0:rt.length;for(Vt&&Yr&&(vt=rt[--Yr]);Yr--;)vt=Ot(vt,rt[Yr],Yr,rt);return vt}function Hs(rt,Ot){for(var vt=-1,Vt=rt==null?0:rt.length;++vt<Vt;)if(Ot(rt[vt],vt,rt))return!0;return!1}var Rp=tc("length");function ec(rt){return rt.split("")}function pu(rt){return rt.match(Ge)||[]}function qs(rt,Ot,vt){var Vt;return vt(rt,function(Yr,bn,ti){if(Ot(Yr,bn,ti))return Vt=bn,!1}),Vt}function Gs(rt,Ot,vt,Vt){for(var Yr=rt.length,bn=vt+(Vt?1:-1);Vt?bn--:++bn<Yr;)if(Ot(rt[bn],bn,rt))return bn;return-1}function Uu(rt,Ot,vt){return Ot===Ot?Yo(rt,Ot,vt):Gs(rt,qc,vt)}function Lp(rt,Ot,vt,Vt){for(var Yr=vt-1,bn=rt.length;++Yr<bn;)if(Vt(rt[Yr],Ot))return Yr;return-1}function qc(rt){return rt!==rt}function Au(rt,Ot){var vt=rt==null?0:rt.length;return vt?rc(rt,Ot)/vt:Oe}function tc(rt){return function(Ot){return Ot==null?r:Ot[rt]}}function _a(rt){return function(Ot){return rt==null?r:rt[Ot]}}function ju(rt,Ot,vt,Vt,Yr){return Yr(rt,function(bn,ti,Mr){vt=Vt?(Vt=!1,bn):Ot(vt,bn,ti,Mr)}),vt}function Gc(rt,Ot){var vt=rt.length;for(rt.sort(Ot);vt--;)rt[vt]=rt[vt].value;return rt}function rc(rt,Ot){for(var vt,Vt=-1,Yr=rt.length;++Vt<Yr;){var bn=Ot(rt[Vt]);bn!==r&&(vt=vt===r?bn:vt+bn)}return vt}function Vn(rt,Ot){for(var vt=-1,Vt=Array(rt);++vt<rt;)Vt[vt]=Ot(vt);return Vt}function Qc(rt,Ot){return ei(Ot,function(vt){return[vt,rt[vt]]})}function Rf(rt){return rt&&rt.slice(0,ls(rt)+1).replace(ze,"")}function To(rt){return function(Ot){return rt(Ot)}}function Wc(rt,Ot){return ei(Ot,function(vt){return rt[vt]})}function hl(rt,Ot){return rt.has(Ot)}function hu(rt,Ot){for(var vt=-1,Vt=rt.length;++vt<Vt&&Uu(Ot,rt[vt],0)>-1;);return vt}function Lf(rt,Ot){for(var vt=rt.length;vt--&&Uu(Ot,rt[vt],0)>-1;);return vt}function Ao(rt,Ot){for(var vt=rt.length,Vt=0;vt--;)rt[vt]===Ot&&++Vt;return Vt}var Ui=_a(Fo),Zc=_a(kn);function nc(rt){return"\\"+Mf[rt]}function dl(rt,Ot){return rt==null?r:rt[Ot]}function du(rt){return lu.test(rt)}function ic(rt){return Ss.test(rt)}function Si(rt){for(var Ot,vt=[];!(Ot=rt.next()).done;)vt.push(Ot.value);return vt}function ml(rt){var Ot=-1,vt=Array(rt.size);return rt.forEach(function(Vt,Yr){vt[++Ot]=[Yr,Vt]}),vt}function Es(rt,Ot){return function(vt){return rt(Ot(vt))}}function ks(rt,Ot){for(var vt=-1,Vt=rt.length,Yr=0,bn=[];++vt<Vt;){var ti=rt[vt];(ti===Ot||ti===R)&&(rt[vt]=R,bn[Yr++]=vt)}return bn}function ja(rt){var Ot=-1,vt=Array(rt.size);return rt.forEach(function(Vt){vt[++Ot]=Vt}),vt}function oc(rt){var Ot=-1,vt=Array(rt.size);return rt.forEach(function(Vt){vt[++Ot]=[Vt,Vt]}),vt}function Yo(rt,Ot,vt){for(var Vt=vt-1,Yr=rt.length;++Vt<Yr;)if(rt[Vt]===Ot)return Vt;return-1}function Dp(rt,Ot,vt){for(var Vt=vt+1;Vt--;)if(rt[Vt]===Ot)return Vt;return Vt}function us(rt){return du(rt)?Fp(rt):Rp(rt)}function fa(rt){return du(rt)?Df(rt):ec(rt)}function ls(rt){for(var Ot=rt.length;Ot--&&xe.test(rt.charAt(Ot)););return Ot}var Qs=_a(sl);function Fp(rt){for(var Ot=Yl.lastIndex=0;Yl.test(rt);)++Ot;return Ot}function Df(rt){return rt.match(Yl)||[]}function Kc(rt){return rt.match(Ko)||[]}var gl=function rt(Ot){Ot=Ot==null?yi:Ws.defaults(yi.Object(),Ot,Ws.pick(yi,jc));var vt=Ot.Array,Vt=Ot.Date,Yr=Ot.Error,bn=Ot.Function,ti=Ot.Math,Mr=Ot.Object,sn=Ot.RegExp,$u=Ot.String,ji=Ot.TypeError,yl=vt.prototype,xa=bn.prototype,cs=Mr.prototype,Xc=Ot["__core-js_shared__"],mu=xa.toString,Un=cs.hasOwnProperty,ac=0,Po=function(){var d=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ho=cs.toString,Ff=mu.call(Mr),Ki=yi._,ba=sn("^"+mu.call(Un).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nr=fl?Ot.Buffer:r,$a=Ot.Symbol,Zs=Ot.Uint8Array,Ks=nr?nr.allocUnsafe:r,Bo=Es(Mr.getPrototypeOf,Mr),vl=Mr.create,Jo=cs.propertyIsEnumerable,ar=yl.splice,sc=$a?$a.isConcatSpreadable:r,Xs=$a?$a.iterator:r,mo=$a?$a.toStringTag:r,wn=function(){try{var d=uf(Mr,"defineProperty");return d({},"",{}),d}catch{}}(),Yc=Ot.clearTimeout!==yi.clearTimeout&&Ot.clearTimeout,Bp=Vt&&Vt.now!==yi.Date.now&&Vt.now,Bf=Ot.setTimeout!==yi.setTimeout&&Ot.setTimeout,go=ti.ceil,Va=ti.floor,Vu=Mr.getOwnPropertySymbols,Jc=nr?nr.isBuffer:r,ef=Ot.isFinite,fs=yl.join,zp=Es(Mr.keys,Mr),tn=ti.max,Gr=ti.min,pa=Vt.now,Pi=Ot.parseInt,Fr=ti.random,zo=yl.reverse,Ha=uf(Ot,"DataView"),ea=uf(Ot,"Map"),ta=uf(Ot,"Promise"),qa=uf(Ot,"Set"),Gt=uf(Ot,"WeakMap"),ht=uf(Mr,"create"),Xt=Gt&&new Gt,Io={},Ga=ff(Ha),No=ff(ea),$i=ff(ta),Np=ff(qa),ra=ff(Gt),A=$a?$a.prototype:r,m=A?A.valueOf:r,v=A?A.toString:r;function _(d){if(Qi(d)&&!Zr(d)&&!(d instanceof B)){if(d instanceof I)return d;if(Un.call(d,"__wrapped__"))return rv(d)}return new I(d)}var k=function(){function d(){}return function(w){if(!pi(w))return{};if(vl)return vl(w);d.prototype=w;var L=new d;return d.prototype=r,L}}();function O(){}function I(d,w){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=r}_.templateSettings={escape:zn,evaluate:Y,interpolate:ie,variable:"",imports:{_}},_.prototype=O.prototype,_.prototype.constructor=_,I.prototype=k(O.prototype),I.prototype.constructor=I;function B(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function G(){var d=new B(this.__wrapped__);return d.__actions__=Ps(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ps(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ps(this.__views__),d}function re(){if(this.__filtered__){var d=new B(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function ce(){var d=this.__wrapped__.value(),w=this.__dir__,L=Zr(d),H=w<0,oe=L?d.length:0,we=Kx(0,oe,this.__views__),Ue=we.start,Xe=we.end,at=Xe-Ue,Dt=H?Xe:Ue-1,Bt=this.__iteratees__,Ht=Bt.length,br=0,zr=Gr(at,this.__takeCount__);if(!L||!H&&oe==at&&zr==at)return XA(d,this.__actions__);var nn=[];e:for(;at--&&br<zr;){Dt+=w;for(var Fn=-1,on=d[Dt];++Fn<Ht;){var Gn=Bt[Fn],ii=Gn.iteratee,Gu=Gn.type,eu=ii(on);if(Gu==Qt)on=eu;else if(!eu){if(Gu==St)continue e;break e}}nn[br++]=on}return nn}B.prototype=k(O.prototype),B.prototype.constructor=B;function De(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function We(){this.__data__=ht?ht(null):{},this.size=0}function it(d){var w=this.has(d)&&delete this.__data__[d];return this.size-=w?1:0,w}function wt(d){var w=this.__data__;if(ht){var L=w[d];return L===S?r:L}return Un.call(w,d)?w[d]:r}function Tt(d){var w=this.__data__;return ht?w[d]!==r:Un.call(w,d)}function Nt(d,w){var L=this.__data__;return this.size+=this.has(d)?0:1,L[d]=ht&&w===r?S:w,this}De.prototype.clear=We,De.prototype.delete=it,De.prototype.get=wt,De.prototype.has=Tt,De.prototype.set=Nt;function sr(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function dt(){this.__data__=[],this.size=0}function Lt(d){var w=this.__data__,L=At(w,d);if(L<0)return!1;var H=w.length-1;return L==H?w.pop():ar.call(w,L,1),--this.size,!0}function Ke(d){var w=this.__data__,L=At(w,d);return L<0?r:w[L][1]}function vr(d){return At(this.__data__,d)>-1}function _r(d,w){var L=this.__data__,H=At(L,d);return H<0?(++this.size,L.push([d,w])):L[H][1]=w,this}sr.prototype.clear=dt,sr.prototype.delete=Lt,sr.prototype.get=Ke,sr.prototype.has=vr,sr.prototype.set=_r;function Wt(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function c(){this.size=0,this.__data__={hash:new De,map:new(ea||sr),string:new De}}function p(d){var w=Gf(this,d).delete(d);return this.size-=w?1:0,w}function f(d){return Gf(this,d).get(d)}function y(d){return Gf(this,d).has(d)}function E(d,w){var L=Gf(this,d),H=L.size;return L.set(d,w),this.size+=L.size==H?0:1,this}Wt.prototype.clear=c,Wt.prototype.delete=p,Wt.prototype.get=f,Wt.prototype.has=y,Wt.prototype.set=E;function M(d){var w=-1,L=d==null?0:d.length;for(this.__data__=new Wt;++w<L;)this.add(d[w])}function D(d){return this.__data__.set(d,S),this}function U(d){return this.__data__.has(d)}M.prototype.add=M.prototype.push=D,M.prototype.has=U;function q(d){var w=this.__data__=new sr(d);this.size=w.size}function te(){this.__data__=new sr,this.size=0}function de(d){var w=this.__data__,L=w.delete(d);return this.size=w.size,L}function _e(d){return this.__data__.get(d)}function me(d){return this.__data__.has(d)}function Me(d,w){var L=this.__data__;if(L instanceof sr){var H=L.__data__;if(!ea||H.length<s-1)return H.push([d,w]),this.size=++L.size,this;L=this.__data__=new Wt(H)}return L.set(d,w),this.size=L.size,this}q.prototype.clear=te,q.prototype.delete=de,q.prototype.get=_e,q.prototype.has=me,q.prototype.set=Me;function Pe(d,w){var L=Zr(d),H=!L&&ln(d),oe=!L&&!H&&ma(d),we=!L&&!H&&!oe&&Hu(d),Ue=L||H||oe||we,Xe=Ue?Vn(d.length,$u):[],at=Xe.length;for(var Dt in d)(w||Un.call(d,Dt))&&!(Ue&&(Dt=="length"||oe&&(Dt=="offset"||Dt=="parent")||we&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||bu(Dt,at)))&&Xe.push(Dt);return Xe}function Be(d){var w=d.length;return w?d[tm(0,w-1)]:r}function Te(d,w){return rh(Ps(d),Yt(w,0,d.length))}function Fe(d){return rh(Ps(d))}function Qe(d,w,L){(L!==r&&!Tn(d[w],L)||L===r&&!(w in d))&&zt(d,w,L)}function Je(d,w,L){var H=d[w];(!(Un.call(d,w)&&Tn(H,L))||L===r&&!(w in d))&&zt(d,w,L)}function At(d,w){for(var L=d.length;L--;)if(Tn(d[L][0],w))return L;return-1}function pt(d,w,L,H){return Rr(d,function(oe,we,Ue){w(H,oe,L(oe),Ue)}),H}function mt(d,w){return d&&wl(w,Ta(w),d)}function It(d,w){return d&&wl(w,hs(w),d)}function zt(d,w,L){w=="__proto__"&&wn?wn(d,w,{configurable:!0,enumerable:!0,value:L,writable:!0}):d[w]=L}function Ft(d,w){for(var L=-1,H=w.length,oe=vt(H),we=d==null;++L<H;)oe[L]=we?r:kd(d,w[L]);return oe}function Yt(d,w,L){return d===d&&(L!==r&&(d=d<=L?d:L),w!==r&&(d=d>=w?d:w)),d}function dr(d,w,L,H,oe,we){var Ue,Xe=w&z,at=w&N,Dt=w&$;if(L&&(Ue=oe?L(d,H,oe,we):L(d)),Ue!==r)return Ue;if(!pi(d))return d;var Bt=Zr(d);if(Bt){if(Ue=Yx(d),!Xe)return Ps(d,Ue)}else{var Ht=Wa(d),br=Ht==Fi||Ht==jr;if(ma(d))return id(d,Xe);if(Ht==Bi||Ht==yr||br&&!oe){if(Ue=at||br?{}:Ky(d),!Xe)return at?Uy(d,It(Ue,d)):qx(d,mt(Ue,d))}else{if(!qr[Ht])return oe?d:{};Ue=Jx(d,Ht,Xe)}}we||(we=new q);var zr=we.get(d);if(zr)return zr;we.set(d,Ue),Ah(d)?d.forEach(function(on){Ue.add(dr(on,w,L,on,d,we))}):rp(d)&&d.forEach(function(on,Gn){Ue.set(Gn,dr(on,w,L,Gn,d,we))});var nn=Dt?at?Am:ld:at?hs:Ta,Fn=Bt?r:nn(d);return po(Fn||d,function(on,Gn){Fn&&(Gn=on,on=d[Gn]),Je(Ue,Gn,dr(on,w,L,Gn,d,we))}),Ue}function Tr(d){var w=Ta(d);return function(L){return Er(L,d,w)}}function Er(d,w,L){var H=L.length;if(d==null)return!H;for(d=Mr(d);H--;){var oe=L[H],we=w[oe],Ue=d[oe];if(Ue===r&&!(oe in d)||!we(Ue))return!1}return!0}function yn(d,w,L){if(typeof d!="function")throw new ji(a);return Zp(function(){d.apply(r,L)},w)}function lr(d,w,L,H){var oe=-1,we=pl,Ue=!0,Xe=d.length,at=[],Dt=w.length;if(!Xe)return at;L&&(w=ei(w,To(L))),H?(we=Dn,Ue=!1):w.length>=s&&(we=hl,Ue=!1,w=new M(w));e:for(;++oe<Xe;){var Bt=d[oe],Ht=L==null?Bt:L(Bt);if(Bt=H||Bt!==0?Bt:0,Ue&&Ht===Ht){for(var br=Dt;br--;)if(w[br]===Ht)continue e;at.push(Bt)}else we(w,Ht,H)||at.push(Bt)}return at}var Rr=jy(Ii),Jr=jy(uo,!0);function $r(d,w){var L=!0;return Rr(d,function(H,oe,we){return L=!!w(H,oe,we),L}),L}function Br(d,w,L){for(var H=-1,oe=d.length;++H<oe;){var we=d[H],Ue=w(we);if(Ue!=null&&(Xe===r?Ue===Ue&&!Ka(Ue):L(Ue,Xe)))var Xe=Ue,at=we}return at}function Nr(d,w,L,H){var oe=d.length;for(L=_n(L),L<0&&(L=-L>oe?0:oe+L),H=H===r||H>oe?oe:_n(H),H<0&&(H+=oe),H=L>H?0:bd(H);L<H;)d[L++]=w;return d}function Lr(d,w){var L=[];return Rr(d,function(H,oe,we){w(H,oe,we)&&L.push(H)}),L}function Ar(d,w,L,H,oe){var we=-1,Ue=d.length;for(L||(L=tb),oe||(oe=[]);++we<Ue;){var Xe=d[we];w>0&&L(Xe)?w>1?Ar(Xe,w-1,L,H,oe):Ua(oe,Xe):H||(oe[oe.length]=Xe)}return oe}var Hn=sm(),Vi=sm(!0);function Ii(d,w){return d&&Hn(d,w,Ta)}function uo(d,w){return d&&Vi(d,w,Ta)}function Xi(d,w){return Xo(w,function(L){return Js(d[L])})}function fi(d,w){w=fc(w,d);for(var L=0,H=w.length;d!=null&&L<H;)d=d[wu(w[L++])];return L&&L==H?d:r}function na(d,w,L){var H=w(d);return Zr(d)?H:Ua(H,L(d))}function Hi(d){return d==null?d===r?bi:Qo:mo&&mo in Mr(d)?dc(d):fd(d)}function ia(d,w){return d>w}function wa(d,w){return d!=null&&Un.call(d,w)}function gu(d,w){return d!=null&&w in Mr(d)}function ps(d,w,L){return d>=Gr(w,L)&&d<tn(w,L)}function zf(d,w,L){for(var H=L?Dn:pl,oe=d[0].length,we=d.length,Ue=we,Xe=vt(we),at=1/0,Dt=[];Ue--;){var Bt=d[Ue];Ue&&w&&(Bt=ei(Bt,To(w))),at=Gr(Bt.length,at),Xe[Ue]=!L&&(w||oe>=120&&Bt.length>=120)?new M(Ue&&Bt):r}Bt=d[0];var Ht=-1,br=Xe[0];e:for(;++Ht<oe&&Dt.length<at;){var zr=Bt[Ht],nn=w?w(zr):zr;if(zr=L||zr!==0?zr:0,!(br?hl(br,nn):H(Dt,nn,L))){for(Ue=we;--Ue;){var Fn=Xe[Ue];if(!(Fn?hl(Fn,nn):H(d[Ue],nn,L)))continue e}br&&br.push(nn),Dt.push(zr)}}return Dt}function _l(d,w,L,H){return Ii(d,function(oe,we,Ue){w(H,L(oe),we,Ue)}),H}function yu(d,w,L){w=fc(w,d),d=Za(d,w);var H=d==null?d:d[wu(Su(w))];return H==null?r:fo(H,d,L)}function xl(d){return Qi(d)&&Hi(d)==yr}function Nf(d){return Qi(d)&&Hi(d)==gt}function tf(d){return Qi(d)&&Hi(d)==Dr}function Qa(d,w,L,H,oe){return d===w?!0:d==null||w==null||!Qi(d)&&!Qi(w)?d!==d&&w!==w:rf(d,w,L,H,Qa,oe)}function rf(d,w,L,H,oe,we){var Ue=Zr(d),Xe=Zr(w),at=Ue?hr:Wa(d),Dt=Xe?hr:Wa(w);at=at==yr?Bi:at,Dt=Dt==yr?Bi:Dt;var Bt=at==Bi,Ht=Dt==Bi,br=at==Dt;if(br&&ma(d)){if(!ma(w))return!1;Ue=!0,Bt=!1}if(br&&!Bt)return we||(we=new q),Ue||Hu(d)?pm(d,w,L,H,oe,we):Wx(d,w,at,L,H,oe,we);if(!(L&Z)){var zr=Bt&&Un.call(d,"__wrapped__"),nn=Ht&&Un.call(w,"__wrapped__");if(zr||nn){var Fn=zr?d.value():d,on=nn?w.value():w;return we||(we=new q),oe(Fn,on,L,H,we)}}return br?(we||(we=new q),Zx(d,w,L,H,oe,we)):!1}function yo(d){return Qi(d)&&Wa(d)==mi}function Ys(d,w,L,H){var oe=L.length,we=oe,Ue=!H;if(d==null)return!we;for(d=Mr(d);oe--;){var Xe=L[oe];if(Ue&&Xe[2]?Xe[1]!==d[Xe[0]]:!(Xe[0]in d))return!1}for(;++oe<we;){Xe=L[oe];var at=Xe[0],Dt=d[at],Bt=Xe[1];if(Ue&&Xe[2]){if(Dt===r&&!(at in d))return!1}else{var Ht=new q;if(H)var br=H(Dt,Bt,at,d,w,Ht);if(!(br===r?Qa(Bt,Dt,Z|J,H,Ht):br))return!1}}return!0}function Ts(d){if(!pi(d)||nb(d))return!1;var w=Js(d)?ba:xt;return w.test(ff(d))}function uc(d){return Qi(d)&&Hi(d)==io}function Yi(d){return Qi(d)&&Wa(d)==Qn}function qi(d){return Qi(d)&&tp(d.length)&&!!Nn[Hi(d)]}function Aa(d){return typeof d=="function"?d:d==null?Eu:typeof d=="object"?Zr(d)?ZA(d[0],d[1]):jf(d):G4(d)}function lc(d){if(!cf(d))return zp(d);var w=[];for(var L in Mr(d))Un.call(d,L)&&L!="constructor"&&w.push(L);return w}function Up(d){if(!pi(d))return Ca(d);var w=cf(d),L=[];for(var H in d)H=="constructor"&&(w||!Un.call(d,H))||L.push(H);return L}function WA(d,w){return d<w}function Uf(d,w){var L=-1,H=bo(d)?vt(d.length):[];return Rr(d,function(oe,we,Ue){H[++L]=w(oe,we,Ue)}),H}function jf(d){var w=ri(d);return w.length==1&&w[0][2]?Qp(w[0][0],w[0][1]):function(L){return L===d||Ys(L,d,w)}}function ZA(d,w){return cd(d)&&Gp(w)?Qp(wu(d),w):function(L){var H=kd(L,d);return H===r&&H===w?Xa(L,d):Qa(w,H,Z|J)}}function bl(d,w,L,H,oe){d!==w&&Hn(w,function(we,Ue){if(oe||(oe=new q),pi(we))$f(d,w,Ue,L,bl,H,oe);else{var Xe=H?H(pd(d,Ue),we,Ue+"",d,w,oe):r;Xe===r&&(Xe=we),Qe(d,Ue,Xe)}},hs)}function $f(d,w,L,H,oe,we,Ue){var Xe=pd(d,L),at=pd(w,L),Dt=Ue.get(at);if(Dt){Qe(d,L,Dt);return}var Bt=we?we(Xe,at,L+"",d,w,Ue):r,Ht=Bt===r;if(Ht){var br=Zr(at),zr=!br&&ma(at),nn=!br&&!zr&&Hu(at);Bt=at,br||zr||nn?Zr(Xe)?Bt=Xe:cn(Xe)?Bt=Ps(Xe):zr?(Ht=!1,Bt=id(at,!0)):nn?(Ht=!1,Bt=zy(at,!0)):Bt=[]:yc(at)||ln(at)?(Bt=Xe,ln(Xe)?Bt=sA(Xe):(!pi(Xe)||Js(Xe))&&(Bt=Ky(at))):Ht=!1}Ht&&(Ue.set(at,Bt),oe(Bt,at,H,we,Ue),Ue.delete(at)),Qe(d,L,Bt)}function em(d,w){var L=d.length;if(!!L)return w+=w<0?L:0,bu(w,L)?d[w]:r}function Yh(d,w,L){w.length?w=ei(w,function(we){return Zr(we)?function(Ue){return fi(Ue,we.length===1?we[0]:we)}:we}):w=[Eu];var H=-1;w=ei(w,To(Qr()));var oe=Uf(d,function(we,Ue,Xe){var at=ei(w,function(Dt){return Dt(we)});return{criteria:at,index:++H,value:we}});return Gc(oe,function(we,Ue){return am(we,Ue,L)})}function Vf(d,w){return La(d,w,function(L,H){return Xa(d,H)})}function La(d,w,L){for(var H=-1,oe=w.length,we={};++H<oe;){var Ue=w[H],Xe=fi(d,Ue);L(Xe,Ue)&&jp(we,fc(Ue,d),Xe)}return we}function Nx(d){return function(w){return fi(w,d)}}function Jh(d,w,L,H){var oe=H?Lp:Uu,we=-1,Ue=w.length,Xe=d;for(d===w&&(w=Ps(w)),L&&(Xe=ei(d,To(L)));++we<Ue;)for(var at=0,Dt=w[we],Bt=L?L(Dt):Dt;(at=oe(Xe,Bt,at,H))>-1;)Xe!==d&&ar.call(Xe,at,1),ar.call(d,at,1);return d}function Ry(d,w){for(var L=d?w.length:0,H=L-1;L--;){var oe=w[L];if(L==H||oe!==we){var we=oe;bu(oe)?ar.call(d,oe,1):of(d,oe)}}return d}function tm(d,w){return d+Va(Fr()*(w-d+1))}function Ux(d,w,L,H){for(var oe=-1,we=tn(go((w-d)/(L||1)),0),Ue=vt(we);we--;)Ue[H?we:++oe]=d,d+=L;return Ue}function rm(d,w){var L="";if(!d||w<1||w>Et)return L;do w%2&&(L+=d),w=Va(w/2),w&&(d+=d);while(w);return L}function Sn(d,w){return th(eh(d,w,Eu),d+"")}function jx(d){return Be(sp(d))}function ed(d,w){var L=sp(d);return rh(L,Yt(w,0,L.length))}function jp(d,w,L,H){if(!pi(d))return d;w=fc(w,d);for(var oe=-1,we=w.length,Ue=we-1,Xe=d;Xe!=null&&++oe<we;){var at=wu(w[oe]),Dt=L;if(at==="__proto__"||at==="constructor"||at==="prototype")return d;if(oe!=Ue){var Bt=Xe[at];Dt=H?H(Bt,at,Xe):r,Dt===r&&(Dt=pi(Bt)?Bt:bu(w[oe+1])?[]:{})}Je(Xe,at,Dt),Xe=Xe[at]}return d}var cc=Xt?function(d,w){return Xt.set(d,w),d}:Eu,KA=wn?function(d,w){return wn(d,"toString",{configurable:!0,enumerable:!1,value:Ib(w),writable:!0})}:Eu;function $x(d){return rh(sp(d))}function vu(d,w,L){var H=-1,oe=d.length;w<0&&(w=-w>oe?0:oe+w),L=L>oe?oe:L,L<0&&(L+=oe),oe=w>L?0:L-w>>>0,w>>>=0;for(var we=vt(oe);++H<oe;)we[H]=d[H+w];return we}function Vx(d,w){var L;return Rr(d,function(H,oe,we){return L=w(H,oe,we),!L}),!!L}function td(d,w,L){var H=0,oe=d==null?H:d.length;if(typeof w=="number"&&w===w&&oe<=yt){for(;H<oe;){var we=H+oe>>>1,Ue=d[we];Ue!==null&&!Ka(Ue)&&(L?Ue<=w:Ue<w)?H=we+1:oe=we}return oe}return nm(d,w,Eu,L)}function nm(d,w,L,H){var oe=0,we=d==null?0:d.length;if(we===0)return 0;w=L(w);for(var Ue=w!==w,Xe=w===null,at=Ka(w),Dt=w===r;oe<we;){var Bt=Va((oe+we)/2),Ht=L(d[Bt]),br=Ht!==r,zr=Ht===null,nn=Ht===Ht,Fn=Ka(Ht);if(Ue)var on=H||nn;else Dt?on=nn&&(H||br):Xe?on=nn&&br&&(H||!zr):at?on=nn&&br&&!zr&&(H||!Fn):zr||Fn?on=!1:on=H?Ht<=w:Ht<w;on?oe=Bt+1:we=Bt}return Gr(we,pe)}function Ly(d,w){for(var L=-1,H=d.length,oe=0,we=[];++L<H;){var Ue=d[L],Xe=w?w(Ue):Ue;if(!L||!Tn(Xe,at)){var at=Xe;we[oe++]=Ue===0?0:Ue}}return we}function Dy(d){return typeof d=="number"?d:Ka(d)?Oe:+d}function As(d){if(typeof d=="string")return d;if(Zr(d))return ei(d,As)+"";if(Ka(d))return v?v.call(d):"";var w=d+"";return w=="0"&&1/d==-wr?"-0":w}function nf(d,w,L){var H=-1,oe=pl,we=d.length,Ue=!0,Xe=[],at=Xe;if(L)Ue=!1,oe=Dn;else if(we>=s){var Dt=w?null:Wy(d);if(Dt)return ja(Dt);Ue=!1,oe=hl,at=new M}else at=w?[]:Xe;e:for(;++H<we;){var Bt=d[H],Ht=w?w(Bt):Bt;if(Bt=L||Bt!==0?Bt:0,Ue&&Ht===Ht){for(var br=at.length;br--;)if(at[br]===Ht)continue e;w&&at.push(Ht),Xe.push(Bt)}else oe(at,Ht,L)||(at!==Xe&&at.push(Ht),Xe.push(Bt))}return Xe}function of(d,w){return w=fc(w,d),d=Za(d,w),d==null||delete d[wu(Su(w))]}function Fy(d,w,L,H){return jp(d,w,L(fi(d,w)),H)}function Gi(d,w,L,H){for(var oe=d.length,we=H?oe:-1;(H?we--:++we<oe)&&w(d[we],we,d););return L?vu(d,H?0:we,H?we+1:oe):vu(d,H?we+1:0,H?oe:we)}function XA(d,w){var L=d;return L instanceof B&&(L=L.value()),Jl(w,function(H,oe){return oe.func.apply(oe.thisArg,Ua([H],oe.args))},L)}function rd(d,w,L){var H=d.length;if(H<2)return H?nf(d[0]):[];for(var oe=-1,we=vt(H);++oe<H;)for(var Ue=d[oe],Xe=-1;++Xe<H;)Xe!=oe&&(we[oe]=lr(we[oe]||Ue,d[Xe],w,L));return nf(Ar(we,1),w,L)}function YA(d,w,L){for(var H=-1,oe=d.length,we=w.length,Ue={};++H<oe;){var Xe=H<we?w[H]:r;L(Ue,d[H],Xe)}return Ue}function $p(d){return cn(d)?d:[]}function Hf(d){return typeof d=="function"?d:Eu}function fc(d,w){return Zr(d)?d:cd(d,w)?[d]:Qf(Pn(d))}var By=Sn;function _u(d,w,L){var H=d.length;return L=L===r?H:L,!w&&L>=H?d:vu(d,w,L)}var nd=Yc||function(d){return yi.clearTimeout(d)};function id(d,w){if(w)return d.slice();var L=d.length,H=Ks?Ks(L):new d.constructor(L);return d.copy(H),H}function im(d){var w=new d.constructor(d.byteLength);return new Zs(w).set(new Zs(d)),w}function JA(d,w){var L=w?im(d.buffer):d.buffer;return new d.constructor(L,d.byteOffset,d.byteLength)}function Hx(d){var w=new d.constructor(d.source,jt.exec(d));return w.lastIndex=d.lastIndex,w}function om(d){return m?Mr(m.call(d)):{}}function zy(d,w){var L=w?im(d.buffer):d.buffer;return new d.constructor(L,d.byteOffset,d.length)}function od(d,w){if(d!==w){var L=d!==r,H=d===null,oe=d===d,we=Ka(d),Ue=w!==r,Xe=w===null,at=w===w,Dt=Ka(w);if(!Xe&&!Dt&&!we&&d>w||we&&Ue&&at&&!Xe&&!Dt||H&&Ue&&at||!L&&at||!oe)return 1;if(!H&&!we&&!Dt&&d<w||Dt&&L&&oe&&!H&&!we||Xe&&L&&oe||!Ue&&oe||!at)return-1}return 0}function am(d,w,L){for(var H=-1,oe=d.criteria,we=w.criteria,Ue=oe.length,Xe=L.length;++H<Ue;){var at=od(oe[H],we[H]);if(at){if(H>=Xe)return at;var Dt=L[H];return at*(Dt=="desc"?-1:1)}}return d.index-w.index}function xu(d,w,L,H){for(var oe=-1,we=d.length,Ue=L.length,Xe=-1,at=w.length,Dt=tn(we-Ue,0),Bt=vt(at+Dt),Ht=!H;++Xe<at;)Bt[Xe]=w[Xe];for(;++oe<Ue;)(Ht||oe<we)&&(Bt[L[oe]]=d[oe]);for(;Dt--;)Bt[Xe++]=d[oe++];return Bt}function Ny(d,w,L,H){for(var oe=-1,we=d.length,Ue=-1,Xe=L.length,at=-1,Dt=w.length,Bt=tn(we-Xe,0),Ht=vt(Bt+Dt),br=!H;++oe<Bt;)Ht[oe]=d[oe];for(var zr=oe;++at<Dt;)Ht[zr+at]=w[at];for(;++Ue<Xe;)(br||oe<we)&&(Ht[zr+L[Ue]]=d[oe++]);return Ht}function Ps(d,w){var L=-1,H=d.length;for(w||(w=vt(H));++L<H;)w[L]=d[L];return w}function wl(d,w,L,H){var oe=!L;L||(L={});for(var we=-1,Ue=w.length;++we<Ue;){var Xe=w[we],at=H?H(L[Xe],d[Xe],Xe,L,d):r;at===r&&(at=d[Xe]),oe?zt(L,Xe,at):Je(L,Xe,at)}return L}function qx(d,w){return wl(d,lf(d),w)}function Uy(d,w){return wl(d,dm(d),w)}function pc(d,w){return function(L,H){var oe=Zr(L)?Nu:pt,we=w?w():{};return oe(L,d,Qr(H,2),we)}}function Vp(d){return Sn(function(w,L){var H=-1,oe=L.length,we=oe>1?L[oe-1]:r,Ue=oe>2?L[2]:r;for(we=d.length>3&&typeof we=="function"?(oe--,we):r,Ue&&oa(L[0],L[1],Ue)&&(we=oe<3?r:we,oe=1),w=Mr(w);++H<oe;){var Xe=L[H];Xe&&d(w,Xe,H,we)}return w})}function jy(d,w){return function(L,H){if(L==null)return L;if(!bo(L))return d(L,H);for(var oe=L.length,we=w?oe:-1,Ue=Mr(L);(w?we--:++we<oe)&&H(Ue[we],we,Ue)!==!1;);return L}}function sm(d){return function(w,L,H){for(var oe=-1,we=Mr(w),Ue=H(w),Xe=Ue.length;Xe--;){var at=Ue[d?Xe:++oe];if(L(we[at],at,we)===!1)break}return w}}function $y(d,w,L){var H=w&ae,oe=Sl(d);function we(){var Ue=this&&this!==yi&&this instanceof we?oe:d;return Ue.apply(H?L:this,arguments)}return we}function Vy(d){return function(w){w=Pn(w);var L=du(w)?fa(w):r,H=L?L[0]:w.charAt(0),oe=L?_u(L,1).join(""):w.slice(1);return H[d]()+oe}}function Hp(d){return function(w){return Jl(H4(Uv(w).replace(Nc,"")),d,"")}}function Sl(d){return function(){var w=arguments;switch(w.length){case 0:return new d;case 1:return new d(w[0]);case 2:return new d(w[0],w[1]);case 3:return new d(w[0],w[1],w[2]);case 4:return new d(w[0],w[1],w[2],w[3]);case 5:return new d(w[0],w[1],w[2],w[3],w[4]);case 6:return new d(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new d(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var L=k(d.prototype),H=d.apply(L,w);return pi(H)?H:L}}function Gx(d,w,L){var H=Sl(d);function oe(){for(var we=arguments.length,Ue=vt(we),Xe=we,at=qf(oe);Xe--;)Ue[Xe]=arguments[Xe];var Dt=we<3&&Ue[0]!==at&&Ue[we-1]!==at?[]:ks(Ue,at);if(we-=Dt.length,we<L)return Qy(d,w,Is,oe.placeholder,r,Ue,Dt,r,r,L-we);var Bt=this&&this!==yi&&this instanceof oe?H:d;return fo(Bt,this,Ue)}return oe}function ad(d){return function(w,L,H){var oe=Mr(w);if(!bo(w)){var we=Qr(L,3);w=Ta(w),L=function(Xe){return we(oe[Xe],Xe,oe)}}var Ue=d(w,L,H);return Ue>-1?oe[we?w[Ue]:Ue]:r}}function qp(d){return hc(function(w){var L=w.length,H=L,oe=I.prototype.thru;for(d&&w.reverse();H--;){var we=w[H];if(typeof we!="function")throw new ji(a);if(oe&&!Ue&&sf(we)=="wrapper")var Ue=new I([],!0)}for(H=Ue?H:L;++H<L;){we=w[H];var Xe=sf(we),at=Xe=="wrapper"?hm(we):r;at&&mm(at[0])&&at[1]==(Se|ue|he|Ce)&&!at[4].length&&at[9]==1?Ue=Ue[sf(at[0])].apply(Ue,at[3]):Ue=we.length==1&&mm(we)?Ue[Xe]():Ue.thru(we)}return function(){var Dt=arguments,Bt=Dt[0];if(Ue&&Dt.length==1&&Zr(Bt))return Ue.plant(Bt).value();for(var Ht=0,br=L?w[Ht].apply(this,Dt):Bt;++Ht<L;)br=w[Ht].call(this,br);return br}})}function Is(d,w,L,H,oe,we,Ue,Xe,at,Dt){var Bt=w&Se,Ht=w&ae,br=w&V,zr=w&(ue|ge),nn=w&He,Fn=br?r:Sl(d);function on(){for(var Gn=arguments.length,ii=vt(Gn),Gu=Gn;Gu--;)ii[Gu]=arguments[Gu];if(zr)var eu=qf(on),Qu=Ao(ii,eu);if(H&&(ii=xu(ii,H,oe,zr)),we&&(ii=Ny(ii,we,Ue,zr)),Gn-=Qu,zr&&Gn<Dt){var ga=ks(ii,eu);return Qy(d,w,Is,on.placeholder,L,ii,ga,Xe,at,Dt-Gn)}var xc=Ht?L:this,up=br?xc[d]:d;return Gn=ii.length,Xe?ii=Yy(ii,Xe):nn&&Gn>1&&ii.reverse(),Bt&&at<Gn&&(ii.length=at),this&&this!==yi&&this instanceof on&&(up=Fn||Sl(up)),up.apply(xc,ii)}return on}function Hy(d,w){return function(L,H){return _l(L,d,w(H),{})}}function sd(d,w){return function(L,H){var oe;if(L===r&&H===r)return w;if(L!==r&&(oe=L),H!==r){if(oe===r)return H;typeof L=="string"||typeof H=="string"?(L=As(L),H=As(H)):(L=Dy(L),H=Dy(H)),oe=d(L,H)}return oe}}function um(d){return hc(function(w){return w=ei(w,To(Qr())),Sn(function(L){var H=this;return d(w,function(oe){return fo(oe,H,L)})})})}function af(d,w){w=w===r?" ":As(w);var L=w.length;if(L<2)return L?rm(w,d):w;var H=rm(w,go(d/us(w)));return du(w)?_u(fa(H),0,d).join(""):H.slice(0,d)}function qy(d,w,L,H){var oe=w&ae,we=Sl(d);function Ue(){for(var Xe=-1,at=arguments.length,Dt=-1,Bt=H.length,Ht=vt(Bt+at),br=this&&this!==yi&&this instanceof Ue?we:d;++Dt<Bt;)Ht[Dt]=H[Dt];for(;at--;)Ht[Dt++]=arguments[++Xe];return fo(br,oe?L:this,Ht)}return Ue}function Gy(d){return function(w,L,H){return H&&typeof H!="number"&&oa(w,L,H)&&(L=H=r),w=qu(w),L===r?(L=w,w=0):L=qu(L),H=H===r?w<L?1:-1:qu(H),Ux(w,L,H,d)}}function ud(d){return function(w,L){return typeof w=="string"&&typeof L=="string"||(w=Cu(w),L=Cu(L)),d(w,L)}}function Qy(d,w,L,H,oe,we,Ue,Xe,at,Dt){var Bt=w&ue,Ht=Bt?Ue:r,br=Bt?r:Ue,zr=Bt?we:r,nn=Bt?r:we;w|=Bt?he:le,w&=~(Bt?le:he),w&K||(w&=~(ae|V));var Fn=[d,w,oe,zr,Ht,nn,br,Xe,at,Dt],on=L.apply(r,Fn);return mm(d)&&Jy(on,Fn),on.placeholder=H,Ad(on,d,w)}function lm(d){var w=ti[d];return function(L,H){if(L=Cu(L),H=H==null?0:Gr(_n(H),292),H&&ef(L)){var oe=(Pn(L)+"e").split("e"),we=w(oe[0]+"e"+(+oe[1]+H));return oe=(Pn(we)+"e").split("e"),+(oe[0]+"e"+(+oe[1]-H))}return w(L)}}var Wy=qa&&1/ja(new qa([,-0]))[1]==wr?function(d){return new qa(d)}:Rb;function Sa(d){return function(w){var L=Wa(w);return L==mi?ml(w):L==Qn?oc(w):Qc(w,d(w))}}function Ac(d,w,L,H,oe,we,Ue,Xe){var at=w&V;if(!at&&typeof d!="function")throw new ji(a);var Dt=H?H.length:0;if(Dt||(w&=~(he|le),H=oe=r),Ue=Ue===r?Ue:tn(_n(Ue),0),Xe=Xe===r?Xe:_n(Xe),Dt-=oe?oe.length:0,w&le){var Bt=H,Ht=oe;H=oe=r}var br=at?r:hm(d),zr=[d,w,L,H,oe,Bt,Ht,we,Ue,Xe];if(br&&Wp(zr,br),d=zr[0],w=zr[1],L=zr[2],H=zr[3],oe=zr[4],Xe=zr[9]=zr[9]===r?at?0:d.length:tn(zr[9]-Dt,0),!Xe&&w&(ue|ge)&&(w&=~(ue|ge)),!w||w==ae)var nn=$y(d,w,L);else w==ue||w==ge?nn=Gx(d,w,Xe):(w==he||w==(ae|he))&&!oe.length?nn=qy(d,w,L,H):nn=Is.apply(r,zr);var Fn=br?cc:Jy;return Ad(Fn(nn,zr),d,w)}function cm(d,w,L,H){return d===r||Tn(d,cs[L])&&!Un.call(H,L)?w:d}function fm(d,w,L,H,oe,we){return pi(d)&&pi(w)&&(we.set(w,d),bl(d,w,r,fm,we),we.delete(w)),d}function Qx(d){return yc(d)?r:d}function pm(d,w,L,H,oe,we){var Ue=L&Z,Xe=d.length,at=w.length;if(Xe!=at&&!(Ue&&at>Xe))return!1;var Dt=we.get(d),Bt=we.get(w);if(Dt&&Bt)return Dt==w&&Bt==d;var Ht=-1,br=!0,zr=L&J?new M:r;for(we.set(d,w),we.set(w,d);++Ht<Xe;){var nn=d[Ht],Fn=w[Ht];if(H)var on=Ue?H(Fn,nn,Ht,w,d,we):H(nn,Fn,Ht,d,w,we);if(on!==r){if(on)continue;br=!1;break}if(zr){if(!Hs(w,function(Gn,ii){if(!hl(zr,ii)&&(nn===Gn||oe(nn,Gn,L,H,we)))return zr.push(ii)})){br=!1;break}}else if(!(nn===Fn||oe(nn,Fn,L,H,we))){br=!1;break}}return we.delete(d),we.delete(w),br}function Wx(d,w,L,H,oe,we,Ue){switch(L){case be:if(d.byteLength!=w.byteLength||d.byteOffset!=w.byteOffset)return!1;d=d.buffer,w=w.buffer;case gt:return!(d.byteLength!=w.byteLength||!we(new Zs(d),new Zs(w)));case Ur:case Dr:case gi:return Tn(+d,+w);case jn:return d.name==w.name&&d.message==w.message;case io:case Lo:return d==w+"";case mi:var Xe=ml;case Qn:var at=H&Z;if(Xe||(Xe=ja),d.size!=w.size&&!at)return!1;var Dt=Ue.get(d);if(Dt)return Dt==w;H|=J,Ue.set(d,w);var Bt=pm(Xe(d),Xe(w),H,oe,we,Ue);return Ue.delete(d),Bt;case oo:if(m)return m.call(d)==m.call(w)}return!1}function Zx(d,w,L,H,oe,we){var Ue=L&Z,Xe=ld(d),at=Xe.length,Dt=ld(w),Bt=Dt.length;if(at!=Bt&&!Ue)return!1;for(var Ht=at;Ht--;){var br=Xe[Ht];if(!(Ue?br in w:Un.call(w,br)))return!1}var zr=we.get(d),nn=we.get(w);if(zr&&nn)return zr==w&&nn==d;var Fn=!0;we.set(d,w),we.set(w,d);for(var on=Ue;++Ht<at;){br=Xe[Ht];var Gn=d[br],ii=w[br];if(H)var Gu=Ue?H(ii,Gn,br,w,d,we):H(Gn,ii,br,d,w,we);if(!(Gu===r?Gn===ii||oe(Gn,ii,L,H,we):Gu)){Fn=!1;break}on||(on=br=="constructor")}if(Fn&&!on){var eu=d.constructor,Qu=w.constructor;eu!=Qu&&"constructor"in d&&"constructor"in w&&!(typeof eu=="function"&&eu instanceof eu&&typeof Qu=="function"&&Qu instanceof Qu)&&(Fn=!1)}return we.delete(d),we.delete(w),Fn}function hc(d){return th(eh(d,r,Wf),d+"")}function ld(d){return na(d,Ta,lf)}function Am(d){return na(d,hs,dm)}var hm=Xt?function(d){return Xt.get(d)}:Rb;function sf(d){for(var w=d.name+"",L=Io[w],H=Un.call(Io,w)?L.length:0;H--;){var oe=L[H],we=oe.func;if(we==null||we==d)return oe.name}return w}function qf(d){var w=Un.call(_,"placeholder")?_:d;return w.placeholder}function Qr(){var d=_.iteratee||Ob;return d=d===Ob?Aa:d,arguments.length?d(arguments[0],arguments[1]):d}function Gf(d,w){var L=d.__data__;return rb(w)?L[typeof w=="string"?"string":"hash"]:L.map}function ri(d){for(var w=Ta(d),L=w.length;L--;){var H=w[L],oe=d[H];w[L]=[H,oe,Gp(oe)]}return w}function uf(d,w){var L=dl(d,w);return Ts(L)?L:r}function dc(d){var w=Un.call(d,mo),L=d[mo];try{d[mo]=r;var H=!0}catch{}var oe=ho.call(d);return H&&(w?d[mo]=L:delete d[mo]),oe}var lf=Vu?function(d){return d==null?[]:(d=Mr(d),Xo(Vu(d),function(w){return Jo.call(d,w)}))}:Lb,dm=Vu?function(d){for(var w=[];d;)Ua(w,lf(d)),d=Bo(d);return w}:Lb,Wa=Hi;(Ha&&Wa(new Ha(new ArrayBuffer(1)))!=be||ea&&Wa(new ea)!=mi||ta&&Wa(ta.resolve())!=Wi||qa&&Wa(new qa)!=Qn||Gt&&Wa(new Gt)!=Do)&&(Wa=function(d){var w=Hi(d),L=w==Bi?d.constructor:r,H=L?ff(L):"";if(H)switch(H){case Ga:return be;case No:return mi;case $i:return Wi;case Np:return Qn;case ra:return Do}return w});function Kx(d,w,L){for(var H=-1,oe=L.length;++H<oe;){var we=L[H],Ue=we.size;switch(we.type){case"drop":d+=Ue;break;case"dropRight":w-=Ue;break;case"take":w=Gr(w,d+Ue);break;case"takeRight":d=tn(d,w-Ue);break}}return{start:d,end:w}}function Xx(d){var w=d.match(je);return w?w[1].split(ot):[]}function Zy(d,w,L){w=fc(w,d);for(var H=-1,oe=w.length,we=!1;++H<oe;){var Ue=wu(w[H]);if(!(we=d!=null&&L(d,Ue)))break;d=d[Ue]}return we||++H!=oe?we:(oe=d==null?0:d.length,!!oe&&tp(oe)&&bu(Ue,oe)&&(Zr(d)||ln(d)))}function Yx(d){var w=d.length,L=new d.constructor(w);return w&&typeof d[0]=="string"&&Un.call(d,"index")&&(L.index=d.index,L.input=d.input),L}function Ky(d){return typeof d.constructor=="function"&&!cf(d)?k(Bo(d)):{}}function Jx(d,w,L){var H=d.constructor;switch(w){case gt:return im(d);case Ur:case Dr:return new H(+d);case be:return JA(d,L);case Ye:case kt:case or:case Hr:case In:case Or:case en:case $n:case Yn:return zy(d,L);case mi:return new H;case gi:case Lo:return new H(d);case io:return Hx(d);case Qn:return new H;case oo:return om(d)}}function eb(d,w){var L=w.length;if(!L)return d;var H=L-1;return w[H]=(L>1?"& ":"")+w[H],w=w.join(L>2?", ":" "),d.replace(ne,`{
/* [wrapped with `+w+`] */
`)}function tb(d){return Zr(d)||ln(d)||!!(sc&&d&&d[sc])}function bu(d,w){var L=typeof d;return w=w==null?Et:w,!!w&&(L=="number"||L!="symbol"&&ur.test(d))&&d>-1&&d%1==0&&d<w}function oa(d,w,L){if(!pi(L))return!1;var H=typeof w;return(H=="number"?bo(L)&&bu(w,L.length):H=="string"&&w in L)?Tn(L[w],d):!1}function cd(d,w){if(Zr(d))return!1;var L=typeof d;return L=="number"||L=="symbol"||L=="boolean"||d==null||Ka(d)?!0:ve.test(d)||!fe.test(d)||w!=null&&d in Mr(w)}function rb(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function mm(d){var w=sf(d),L=_[w];if(typeof L!="function"||!(w in B.prototype))return!1;if(d===L)return!0;var H=hm(L);return!!H&&d===H[0]}function nb(d){return!!Po&&Po in d}var Xy=Xc?Js:Db;function cf(d){var w=d&&d.constructor,L=typeof w=="function"&&w.prototype||cs;return d===L}function Gp(d){return d===d&&!pi(d)}function Qp(d,w){return function(L){return L==null?!1:L[d]===w&&(w!==r||d in Mr(L))}}function Os(d){var w=ui(d,function(H){return L.size===P&&L.clear(),H}),L=w.cache;return w}function Wp(d,w){var L=d[1],H=w[1],oe=L|H,we=oe<(ae|V|Se),Ue=H==Se&&L==ue||H==Se&&L==Ce&&d[7].length<=w[8]||H==(Se|Ce)&&w[7].length<=w[8]&&L==ue;if(!(we||Ue))return d;H&ae&&(d[2]=w[2],oe|=L&ae?0:K);var Xe=w[3];if(Xe){var at=d[3];d[3]=at?xu(at,Xe,w[4]):Xe,d[4]=at?ks(d[3],R):w[4]}return Xe=w[5],Xe&&(at=d[5],d[5]=at?Ny(at,Xe,w[6]):Xe,d[6]=at?ks(d[5],R):w[6]),Xe=w[7],Xe&&(d[7]=Xe),H&Se&&(d[8]=d[8]==null?w[8]:Gr(d[8],w[8])),d[9]==null&&(d[9]=w[9]),d[0]=w[0],d[1]=oe,d}function Ca(d){var w=[];if(d!=null)for(var L in Mr(d))w.push(L);return w}function fd(d){return ho.call(d)}function eh(d,w,L){return w=tn(w===r?d.length-1:w,0),function(){for(var H=arguments,oe=-1,we=tn(H.length-w,0),Ue=vt(we);++oe<we;)Ue[oe]=H[w+oe];oe=-1;for(var Xe=vt(w+1);++oe<w;)Xe[oe]=H[oe];return Xe[w]=L(Ue),fo(d,this,Xe)}}function Za(d,w){return w.length<2?d:fi(d,vu(w,0,-1))}function Yy(d,w){for(var L=d.length,H=Gr(w.length,L),oe=Ps(d);H--;){var we=w[H];d[H]=bu(we,L)?oe[we]:r}return d}function pd(d,w){if(!(w==="constructor"&&typeof d[w]=="function")&&w!="__proto__")return d[w]}var Jy=ev(cc),Zp=Bf||function(d,w){return yi.setTimeout(d,w)},th=ev(KA);function Ad(d,w,L){var H=w+"";return th(d,eb(H,tv(Xx(H),L)))}function ev(d){var w=0,L=0;return function(){var H=pa(),oe=bt-(H-L);if(L=H,oe>0){if(++w>=st)return arguments[0]}else w=0;return d.apply(r,arguments)}}function rh(d,w){var L=-1,H=d.length,oe=H-1;for(w=w===r?H:w;++L<w;){var we=tm(L,oe),Ue=d[we];d[we]=d[L],d[L]=Ue}return d.length=w,d}var Qf=Os(function(d){var w=[];return d.charCodeAt(0)===46&&w.push(""),d.replace(Ie,function(L,H,oe,we){w.push(oe?we.replace(ye,"$1"):H||L)}),w});function wu(d){if(typeof d=="string"||Ka(d))return d;var w=d+"";return w=="0"&&1/d==-wr?"-0":w}function ff(d){if(d!=null){try{return mu.call(d)}catch{}try{return d+""}catch{}}return""}function tv(d,w){return po(tr,function(L){var H="_."+L[0];w&L[1]&&!pl(d,H)&&d.push(H)}),d.sort()}function rv(d){if(d instanceof B)return d.clone();var w=new I(d.__wrapped__,d.__chain__);return w.__actions__=Ps(d.__actions__),w.__index__=d.__index__,w.__values__=d.__values__,w}function nv(d,w,L){(L?oa(d,w,L):w===r)?w=1:w=tn(_n(w),0);var H=d==null?0:d.length;if(!H||w<1)return[];for(var oe=0,we=0,Ue=vt(go(H/w));oe<H;)Ue[we++]=vu(d,oe,oe+=w);return Ue}function iv(d){for(var w=-1,L=d==null?0:d.length,H=0,oe=[];++w<L;){var we=d[w];we&&(oe[H++]=we)}return oe}function ov(){var d=arguments.length;if(!d)return[];for(var w=vt(d-1),L=arguments[0],H=d;H--;)w[H-1]=arguments[H];return Ua(Zr(L)?Ps(L):[L],Ar(w,1))}var av=Sn(function(d,w){return cn(d)?lr(d,Ar(w,1,cn,!0)):[]}),ib=Sn(function(d,w){var L=Su(w);return cn(L)&&(L=r),cn(d)?lr(d,Ar(w,1,cn,!0),Qr(L,2)):[]}),ob=Sn(function(d,w){var L=Su(w);return cn(L)&&(L=r),cn(d)?lr(d,Ar(w,1,cn,!0),r,L):[]});function sv(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),vu(d,w<0?0:w,H)):[]}function uv(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),w=H-w,vu(d,0,w<0?0:w)):[]}function hd(d,w){return d&&d.length?Gi(d,Qr(w,3),!0,!0):[]}function lv(d,w){return d&&d.length?Gi(d,Qr(w,3),!0):[]}function dd(d,w,L,H){var oe=d==null?0:d.length;return oe?(L&&typeof L!="number"&&oa(d,w,L)&&(L=0,H=oe),Nr(d,w,L,H)):[]}function nh(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var oe=L==null?0:_n(L);return oe<0&&(oe=tn(H+oe,0)),Gs(d,Qr(w,3),oe)}function ih(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var oe=H-1;return L!==r&&(oe=_n(L),oe=L<0?tn(H+oe,0):Gr(oe,H-1)),Gs(d,Qr(w,3),oe,!0)}function Wf(d){var w=d==null?0:d.length;return w?Ar(d,1):[]}function ab(d){var w=d==null?0:d.length;return w?Ar(d,wr):[]}function sb(d,w){var L=d==null?0:d.length;return L?(w=w===r?1:_n(w),Ar(d,w)):[]}function ub(d){for(var w=-1,L=d==null?0:d.length,H={};++w<L;){var oe=d[w];H[oe[0]]=oe[1]}return H}function Zf(d){return d&&d.length?d[0]:r}function gm(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var oe=L==null?0:_n(L);return oe<0&&(oe=tn(H+oe,0)),Uu(d,w,oe)}function cv(d){var w=d==null?0:d.length;return w?vu(d,0,-1):[]}var ym=Sn(function(d){var w=ei(d,$p);return w.length&&w[0]===d[0]?zf(w):[]}),fv=Sn(function(d){var w=Su(d),L=ei(d,$p);return w===Su(L)?w=r:L.pop(),L.length&&L[0]===d[0]?zf(L,Qr(w,2)):[]}),pv=Sn(function(d){var w=Su(d),L=ei(d,$p);return w=typeof w=="function"?w:r,w&&L.pop(),L.length&&L[0]===d[0]?zf(L,r,w):[]});function lb(d,w){return d==null?"":fs.call(d,w)}function Su(d){var w=d==null?0:d.length;return w?d[w-1]:r}function cb(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var oe=H;return L!==r&&(oe=_n(L),oe=oe<0?tn(H+oe,0):Gr(oe,H-1)),w===w?Dp(d,w,oe):Gs(d,qc,oe,!0)}function md(d,w){return d&&d.length?em(d,_n(w)):r}var vm=Sn(Av);function Av(d,w){return d&&d.length&&w&&w.length?Jh(d,w):d}function Kp(d,w,L){return d&&d.length&&w&&w.length?Jh(d,w,Qr(L,2)):d}function oh(d,w,L){return d&&d.length&&w&&w.length?Jh(d,w,r,L):d}var Wn=hc(function(d,w){var L=d==null?0:d.length,H=Ft(d,w);return Ry(d,ei(w,function(oe){return bu(oe,L)?+oe:oe}).sort(od)),H});function fb(d,w){var L=[];if(!(d&&d.length))return L;var H=-1,oe=[],we=d.length;for(w=Qr(w,3);++H<we;){var Ue=d[H];w(Ue,H,d)&&(L.push(Ue),oe.push(H))}return Ry(d,oe),L}function ah(d){return d==null?d:zo.call(d)}function Xp(d,w,L){var H=d==null?0:d.length;return H?(L&&typeof L!="number"&&oa(d,w,L)?(w=0,L=H):(w=w==null?0:_n(w),L=L===r?H:_n(L)),vu(d,w,L)):[]}function pb(d,w){return td(d,w)}function Ab(d,w,L){return nm(d,w,Qr(L,2))}function hb(d,w){var L=d==null?0:d.length;if(L){var H=td(d,w);if(H<L&&Tn(d[H],w))return H}return-1}function db(d,w){return td(d,w,!0)}function mb(d,w,L){return nm(d,w,Qr(L,2),!0)}function gb(d,w){var L=d==null?0:d.length;if(L){var H=td(d,w,!0)-1;if(Tn(d[H],w))return H}return-1}function yb(d){return d&&d.length?Ly(d):[]}function hv(d,w){return d&&d.length?Ly(d,Qr(w,2)):[]}function dv(d){var w=d==null?0:d.length;return w?vu(d,1,w):[]}function mv(d,w,L){return d&&d.length?(w=L||w===r?1:_n(w),vu(d,0,w<0?0:w)):[]}function gv(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),w=H-w,vu(d,w<0?0:w,H)):[]}function gd(d,w){return d&&d.length?Gi(d,Qr(w,3),!1,!0):[]}function Kf(d,w){return d&&d.length?Gi(d,Qr(w,3)):[]}var _m=Sn(function(d){return nf(Ar(d,1,cn,!0))}),Yp=Sn(function(d){var w=Su(d);return cn(w)&&(w=r),nf(Ar(d,1,cn,!0),Qr(w,2))}),yv=Sn(function(d){var w=Su(d);return w=typeof w=="function"?w:r,nf(Ar(d,1,cn,!0),r,w)});function vo(d){return d&&d.length?nf(d):[]}function vi(d,w){return d&&d.length?nf(d,Qr(w,2)):[]}function vv(d,w){return w=typeof w=="function"?w:r,d&&d.length?nf(d,r,w):[]}function yd(d){if(!(d&&d.length))return[];var w=0;return d=Xo(d,function(L){if(cn(L))return w=tn(L.length,w),!0}),Vn(w,function(L){return ei(d,tc(L))})}function xm(d,w){if(!(d&&d.length))return[];var L=yd(d);return w==null?L:ei(L,function(H){return fo(w,r,H)})}var _v=Sn(function(d,w){return cn(d)?lr(d,w):[]}),xv=Sn(function(d){return rd(Xo(d,cn))}),bm=Sn(function(d){var w=Su(d);return cn(w)&&(w=r),rd(Xo(d,cn),Qr(w,2))}),Xf=Sn(function(d){var w=Su(d);return w=typeof w=="function"?w:r,rd(Xo(d,cn),r,w)}),Yf=Sn(yd);function bv(d,w){return YA(d||[],w||[],Je)}function _o(d,w){return YA(d||[],w||[],jp)}var sh=Sn(function(d){var w=d.length,L=w>1?d[w-1]:r;return L=typeof L=="function"?(d.pop(),L):r,xm(d,L)});function Cl(d){var w=_(d);return w.__chain__=!0,w}function vd(d,w){return w(d),d}function Jf(d,w){return w(d)}var wm=hc(function(d){var w=d.length,L=w?d[0]:0,H=this.__wrapped__,oe=function(we){return Ft(we,d)};return w>1||this.__actions__.length||!(H instanceof B)||!bu(L)?this.thru(oe):(H=H.slice(L,+L+(w?1:0)),H.__actions__.push({func:Jf,args:[oe],thisArg:r}),new I(H,this.__chain__).thru(function(we){return w&&!we.length&&we.push(r),we}))});function Jp(){return Cl(this)}function mc(){return new I(this.value(),this.__chain__)}function wv(){this.__values__===r&&(this.__values__=Cm(this.value()));var d=this.__index__>=this.__values__.length,w=d?r:this.__values__[this.__index__++];return{done:d,value:w}}function Sv(){return this}function vb(d){for(var w,L=this;L instanceof O;){var H=rv(L);H.__index__=0,H.__values__=r,w?oe.__wrapped__=H:w=H;var oe=H;L=L.__wrapped__}return oe.__wrapped__=d,w}function Uo(){var d=this.__wrapped__;if(d instanceof B){var w=d;return this.__actions__.length&&(w=new B(this)),w=w.reverse(),w.__actions__.push({func:Jf,args:[ah],thisArg:r}),new I(w,this.__chain__)}return this.thru(ah)}function pf(){return XA(this.__wrapped__,this.__actions__)}var Cv=pc(function(d,w,L){Un.call(d,L)?++d[L]:zt(d,L,1)});function n(d,w,L){var H=Zr(d)?fu:$r;return L&&oa(d,w,L)&&(w=r),H(d,Qr(w,3))}function o(d,w){var L=Zr(d)?Xo:Lr;return L(d,Qr(w,3))}var l=ad(nh),g=ad(ih);function b(d,w){return Ar(Ae(d,w),1)}function C(d,w){return Ar(Ae(d,w),wr)}function T(d,w,L){return L=L===r?1:_n(L),Ar(Ae(d,w),L)}function F(d,w){var L=Zr(d)?po:Rr;return L(d,Qr(w,3))}function j(d,w){var L=Zr(d)?ss:Jr;return L(d,Qr(w,3))}var Q=pc(function(d,w,L){Un.call(d,L)?d[L].push(w):zt(d,L,[w])});function W(d,w,L,H){d=bo(d)?d:sp(d),L=L&&!H?_n(L):0;var oe=d.length;return L<0&&(L=tn(oe+L,0)),vc(d)?L<=oe&&d.indexOf(w,L)>-1:!!oe&&Uu(d,w,L)>-1}var X=Sn(function(d,w,L){var H=-1,oe=typeof w=="function",we=bo(d)?vt(d.length):[];return Rr(d,function(Ue){we[++H]=oe?fo(w,Ue,L):yu(Ue,w,L)}),we}),se=pc(function(d,w,L){zt(d,L,w)});function Ae(d,w){var L=Zr(d)?ei:Uf;return L(d,Qr(w,3))}function Ee(d,w,L,H){return d==null?[]:(Zr(w)||(w=w==null?[]:[w]),L=H?r:L,Zr(L)||(L=L==null?[]:[L]),Yh(d,w,L))}var ke=pc(function(d,w,L){d[L?0:1].push(w)},function(){return[[],[]]});function $e(d,w,L){var H=Zr(d)?Jl:ju,oe=arguments.length<3;return H(d,Qr(w,4),L,oe,Rr)}function Le(d,w,L){var H=Zr(d)?Al:ju,oe=arguments.length<3;return H(d,Qr(w,4),L,oe,Jr)}function et(d,w){var L=Zr(d)?Xo:Lr;return L(d,_i(Qr(w,3)))}function nt(d){var w=Zr(d)?Be:jx;return w(d)}function ct(d,w,L){(L?oa(d,w,L):w===r)?w=1:w=_n(w);var H=Zr(d)?Te:ed;return H(d,w)}function ft(d){var w=Zr(d)?Fe:$x;return w(d)}function Pt(d){if(d==null)return 0;if(bo(d))return vc(d)?us(d):d.length;var w=Wa(d);return w==mi||w==Qn?d.size:lc(d).length}function Ut(d,w,L){var H=Zr(d)?Hs:Vx;return L&&oa(d,w,L)&&(w=r),H(d,Qr(w,3))}var Zt=Sn(function(d,w){if(d==null)return[];var L=w.length;return L>1&&oa(d,w[0],w[1])?w=[]:L>2&&oa(w[0],w[1],w[2])&&(w=[w[0]]),Yh(d,Ar(w,1),[])}),mr=Bp||function(){return yi.Date.now()};function Jt(d,w){if(typeof w!="function")throw new ji(a);return d=_n(d),function(){if(--d<1)return w.apply(this,arguments)}}function Cr(d,w,L){return w=L?r:w,w=d&&w==null?d.length:w,Ac(d,Se,r,r,r,r,w)}function rr(d,w){var L;if(typeof w!="function")throw new ji(a);return d=_n(d),function(){return--d>0&&(L=w.apply(this,arguments)),d<=1&&(w=r),L}}var Wr=Sn(function(d,w,L){var H=ae;if(L.length){var oe=ks(L,qf(Wr));H|=he}return Ac(d,H,w,L,oe)}),Ir=Sn(function(d,w,L){var H=ae|V;if(L.length){var oe=ks(L,qf(Ir));H|=he}return Ac(w,H,d,L,oe)});function gr(d,w,L){w=L?r:w;var H=Ac(d,ue,r,r,r,r,r,w);return H.placeholder=gr.placeholder,H}function rn(d,w,L){w=L?r:w;var H=Ac(d,ge,r,r,r,r,r,w);return H.placeholder=rn.placeholder,H}function Vr(d,w,L){var H,oe,we,Ue,Xe,at,Dt=0,Bt=!1,Ht=!1,br=!0;if(typeof d!="function")throw new ji(a);w=Cu(w)||0,pi(L)&&(Bt=!!L.leading,Ht="maxWait"in L,we=Ht?tn(Cu(L.maxWait)||0,w):we,br="trailing"in L?!!L.trailing:br);function zr(ga){var xc=H,up=oe;return H=oe=r,Dt=ga,Ue=d.apply(up,xc),Ue}function nn(ga){return Dt=ga,Xe=Zp(Gn,w),Bt?zr(ga):Ue}function Fn(ga){var xc=ga-at,up=ga-Dt,Q4=w-xc;return Ht?Gr(Q4,we-up):Q4}function on(ga){var xc=ga-at,up=ga-Dt;return at===r||xc>=w||xc<0||Ht&&up>=we}function Gn(){var ga=mr();if(on(ga))return ii(ga);Xe=Zp(Gn,Fn(ga))}function ii(ga){return Xe=r,br&&H?zr(ga):(H=oe=r,Ue)}function Gu(){Xe!==r&&nd(Xe),Dt=0,H=at=oe=Xe=r}function eu(){return Xe===r?Ue:ii(mr())}function Qu(){var ga=mr(),xc=on(ga);if(H=arguments,oe=this,at=ga,xc){if(Xe===r)return nn(at);if(Ht)return nd(Xe),Xe=Zp(Gn,w),zr(at)}return Xe===r&&(Xe=Zp(Gn,w)),Ue}return Qu.cancel=Gu,Qu.flush=eu,Qu}var vn=Sn(function(d,w){return yn(d,1,w)}),kr=Sn(function(d,w,L){return yn(d,Cu(w)||0,L)});function On(d){return Ac(d,He)}function ui(d,w){if(typeof d!="function"||w!=null&&typeof w!="function")throw new ji(a);var L=function(){var H=arguments,oe=w?w.apply(this,H):H[0],we=L.cache;if(we.has(oe))return we.get(oe);var Ue=d.apply(this,H);return L.cache=we.set(oe,Ue)||we,Ue};return L.cache=new(ui.Cache||Wt),L}ui.Cache=Wt;function _i(d){if(typeof d!="function")throw new ji(a);return function(){var w=arguments;switch(w.length){case 0:return!d.call(this);case 1:return!d.call(this,w[0]);case 2:return!d.call(this,w[0],w[1]);case 3:return!d.call(this,w[0],w[1],w[2])}return!d.apply(this,w)}}function Oi(d){return rr(2,d)}var xi=By(function(d,w){w=w.length==1&&Zr(w[0])?ei(w[0],To(Qr())):ei(Ar(w,1),To(Qr()));var L=w.length;return Sn(function(H){for(var oe=-1,we=Gr(H.length,L);++oe<we;)H[oe]=w[oe].call(this,H[oe]);return fo(d,this,H)})}),Ci=Sn(function(d,w){var L=ks(w,qf(Ci));return Ac(d,he,r,w,L)}),xo=Sn(function(d,w){var L=ks(w,qf(xo));return Ac(d,le,r,w,L)}),Oo=hc(function(d,w){return Ac(d,Ce,r,r,r,w)});function Ea(d,w){if(typeof d!="function")throw new ji(a);return w=w===r?w:_n(w),Sn(d,w)}function jo(d,w){if(typeof d!="function")throw new ji(a);return w=w==null?0:tn(_n(w),0),Sn(function(L){var H=L[w],oe=_u(L,0,w);return H&&Ua(oe,H),fo(d,this,oe)})}function ka(d,w,L){var H=!0,oe=!0;if(typeof d!="function")throw new ji(a);return pi(L)&&(H="leading"in L?!!L.leading:H,oe="trailing"in L?!!L.trailing:oe),Vr(d,w,{leading:H,maxWait:w,trailing:oe})}function Ji(d){return Cr(d,1)}function $o(d,w){return Ci(Hf(w),d)}function un(){if(!arguments.length)return[];var d=arguments[0];return Zr(d)?d:[d]}function ni(d){return dr(d,$)}function qn(d,w){return w=typeof w=="function"?w:r,dr(d,$,w)}function Cn(d){return dr(d,z|$)}function Da(d,w){return w=typeof w=="function"?w:r,dr(d,z|$,w)}function ha(d,w){return w==null||Er(d,w,Ta(w))}function Tn(d,w){return d===w||d!==d&&w!==w}var lo=ud(ia),da=ud(function(d,w){return d>=w}),ln=xl(function(){return arguments}())?xl:function(d){return Qi(d)&&Un.call(d,"callee")&&!Jo.call(d,"callee")},Zr=vt.isArray,Ms=zu?To(zu):Nf;function bo(d){return d!=null&&tp(d.length)&&!Js(d)}function cn(d){return Qi(d)&&bo(d)}function El(d){return d===!0||d===!1||Qi(d)&&Hi(d)==Ur}var ma=Jc||Db,eA=Vc?To(Vc):tf;function ep(d){return Qi(d)&&d.nodeType===1&&!yc(d)}function tA(d){if(d==null)return!0;if(bo(d)&&(Zr(d)||typeof d=="string"||typeof d.splice=="function"||ma(d)||Hu(d)||ln(d)))return!d.length;var w=Wa(d);if(w==mi||w==Qn)return!d.size;if(cf(d))return!lc(d).length;for(var L in d)if(Un.call(d,L))return!1;return!0}function gc(d,w){return Qa(d,w)}function rA(d,w,L){L=typeof L=="function"?L:r;var H=L?L(d,w):r;return H===r?Qa(d,w,r,L):!!H}function nA(d){if(!Qi(d))return!1;var w=Hi(d);return w==jn||w==Xn||typeof d.message=="string"&&typeof d.name=="string"&&!yc(d)}function iA(d){return typeof d=="number"&&ef(d)}function Js(d){if(!pi(d))return!1;var w=Hi(d);return w==Fi||w==jr||w==Sr||w==ws}function uh(d){return typeof d=="number"&&d==_n(d)}function tp(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=Et}function pi(d){var w=typeof d;return d!=null&&(w=="object"||w=="function")}function Qi(d){return d!=null&&typeof d=="object"}var rp=Zi?To(Zi):yo;function Af(d,w){return d===w||Ys(d,w,ri(w))}function oA(d,w,L){return L=typeof L=="function"?L:r,Ys(d,w,ri(w),L)}function _d(d){return fh(d)&&d!=+d}function xd(d){if(Xy(d))throw new Yr(u);return Ts(d)}function lh(d){return d===null}function ch(d){return d==null}function fh(d){return typeof d=="number"||Qi(d)&&Hi(d)==gi}function yc(d){if(!Qi(d)||Hi(d)!=Bi)return!1;var w=Bo(d);if(w===null)return!0;var L=Un.call(w,"constructor")&&w.constructor;return typeof L=="function"&&L instanceof L&&mu.call(L)==Ff}var np=Hc?To(Hc):uc;function ph(d){return uh(d)&&d>=-Et&&d<=Et}var Ah=Vs?To(Vs):Yi;function vc(d){return typeof d=="string"||!Zr(d)&&Qi(d)&&Hi(d)==Lo}function Ka(d){return typeof d=="symbol"||Qi(d)&&Hi(d)==oo}var Hu=Cs?To(Cs):qi;function hh(d){return d===r}function ip(d){return Qi(d)&&Wa(d)==Do}function dh(d){return Qi(d)&&Hi(d)==sa}var aA=ud(WA),Sm=ud(function(d,w){return d<=w});function Cm(d){if(!d)return[];if(bo(d))return vc(d)?fa(d):Ps(d);if(Xs&&d[Xs])return Si(d[Xs]());var w=Wa(d),L=w==mi?ml:w==Qn?ja:sp;return L(d)}function qu(d){if(!d)return d===0?d:0;if(d=Cu(d),d===wr||d===-wr){var w=d<0?-1:1;return w*Ze}return d===d?d:0}function _n(d){var w=qu(d),L=w%1;return w===w?L?w-L:w:0}function bd(d){return d?Yt(_n(d),0,ee):0}function Cu(d){if(typeof d=="number")return d;if(Ka(d))return Oe;if(pi(d)){var w=typeof d.valueOf=="function"?d.valueOf():d;d=pi(w)?w+"":w}if(typeof d!="string")return d===0?d:+d;d=Rf(d);var L=Mt.test(d);return L||pr.test(d)?Mp(d.slice(2),L?2:8):lt.test(d)?Oe:+d}function sA(d){return wl(d,hs(d))}function eo(d){return d?Yt(_n(d),-Et,Et):d===0?d:0}function Pn(d){return d==null?"":As(d)}var _b=Vp(function(d,w){if(cf(w)||bo(w)){wl(w,Ta(w),d);return}for(var L in w)Un.call(w,L)&&Je(d,L,w[L])}),_c=Vp(function(d,w){wl(w,hs(w),d)}),uA=Vp(function(d,w,L,H){wl(w,hs(w),d,H)}),Ev=Vp(function(d,w,L,H){wl(w,Ta(w),d,H)}),wd=hc(Ft);function kl(d,w){var L=k(d);return w==null?L:mt(L,w)}var Sd=Sn(function(d,w){d=Mr(d);var L=-1,H=w.length,oe=H>2?w[2]:r;for(oe&&oa(w[0],w[1],oe)&&(H=1);++L<H;)for(var we=w[L],Ue=hs(we),Xe=-1,at=Ue.length;++Xe<at;){var Dt=Ue[Xe],Bt=d[Dt];(Bt===r||Tn(Bt,cs[Dt])&&!Un.call(d,Dt))&&(d[Dt]=we[Dt])}return d}),mh=Sn(function(d){return d.push(r,fm),fo(ap,r,d)});function Cd(d,w){return qs(d,Qr(w,3),Ii)}function Ed(d,w){return qs(d,Qr(w,3),uo)}function Em(d,w){return d==null?d:Hn(d,Qr(w,3),hs)}function kv(d,w){return d==null?d:Vi(d,Qr(w,3),hs)}function gh(d,w){return d&&Ii(d,Qr(w,3))}function Tv(d,w){return d&&uo(d,Qr(w,3))}function Pv(d){return d==null?[]:Xi(d,Ta(d))}function Iv(d){return d==null?[]:Xi(d,hs(d))}function kd(d,w,L){var H=d==null?r:fi(d,w);return H===r?L:H}function Ov(d,w){return d!=null&&Zy(d,w,wa)}function Xa(d,w){return d!=null&&Zy(d,w,gu)}var Td=Hy(function(d,w,L){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),d[w]=L},Ib(Eu)),Mv=Hy(function(d,w,L){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),Un.call(d,w)?d[w].push(L):d[w]=[L]},Qr),Tl=Sn(yu);function Ta(d){return bo(d)?Pe(d):lc(d)}function hs(d){return bo(d)?Pe(d,!0):Up(d)}function op(d,w){var L={};return w=Qr(w,3),Ii(d,function(H,oe,we){zt(L,w(H,oe,we),H)}),L}function lA(d,w){var L={};return w=Qr(w,3),Ii(d,function(H,oe,we){zt(L,oe,w(H,oe,we))}),L}var cA=Vp(function(d,w,L){bl(d,w,L)}),ap=Vp(function(d,w,L,H){bl(d,w,L,H)}),fA=hc(function(d,w){var L={};if(d==null)return L;var H=!1;w=ei(w,function(we){return we=fc(we,d),H||(H=we.length>1),we}),wl(d,Am(d),L),H&&(L=dr(L,z|N|$,Qx));for(var oe=w.length;oe--;)of(L,w[oe]);return L});function Rv(d,w){return km(d,_i(Qr(w)))}var Lv=hc(function(d,w){return d==null?{}:Vf(d,w)});function km(d,w){if(d==null)return{};var L=ei(Am(d),function(H){return[H]});return w=Qr(w),La(d,L,function(H,oe){return w(H,oe[0])})}function Dv(d,w,L){w=fc(w,d);var H=-1,oe=w.length;for(oe||(oe=1,d=r);++H<oe;){var we=d==null?r:d[wu(w[H])];we===r&&(H=oe,we=L),d=Js(we)?we.call(d):we}return d}function Tm(d,w,L){return d==null?d:jp(d,w,L)}function Pm(d,w,L,H){return H=typeof H=="function"?H:r,d==null?d:jp(d,w,L,H)}var Pl=Sa(Ta),Im=Sa(hs);function Om(d,w,L){var H=Zr(d),oe=H||ma(d)||Hu(d);if(w=Qr(w,4),L==null){var we=d&&d.constructor;oe?L=H?new we:[]:pi(d)?L=Js(we)?k(Bo(d)):{}:L={}}return(oe?po:Ii)(d,function(Ue,Xe,at){return w(L,Ue,Xe,at)}),L}function Mm(d,w){return d==null?!0:of(d,w)}function Fv(d,w,L){return d==null?d:Fy(d,w,Hf(L))}function Rm(d,w,L,H){return H=typeof H=="function"?H:r,d==null?d:Fy(d,w,Hf(L),H)}function sp(d){return d==null?[]:Wc(d,Ta(d))}function Bv(d){return d==null?[]:Wc(d,hs(d))}function Lm(d,w,L){return L===r&&(L=w,w=r),L!==r&&(L=Cu(L),L=L===L?L:0),w!==r&&(w=Cu(w),w=w===w?w:0),Yt(Cu(d),w,L)}function zv(d,w,L){return w=qu(w),L===r?(L=w,w=0):L=qu(L),d=Cu(d),ps(d,w,L)}function yh(d,w,L){if(L&&typeof L!="boolean"&&oa(d,w,L)&&(w=L=r),L===r&&(typeof w=="boolean"?(L=w,w=r):typeof d=="boolean"&&(L=d,d=r)),d===r&&w===r?(d=0,w=1):(d=qu(d),w===r?(w=d,d=0):w=qu(w)),d>w){var H=d;d=w,w=H}if(L||d%1||w%1){var oe=Fr();return Gr(d+oe*(w-d+$c("1e-"+((oe+"").length-1))),w)}return tm(d,w)}var Nv=Hp(function(d,w,L){return w=w.toLowerCase(),d+(L?vh(w):w)});function vh(d){return Pb(Pn(d).toLowerCase())}function Uv(d){return d=Pn(d),d&&d.replace(qt,Ui).replace(Uc,"")}function jv(d,w,L){d=Pn(d),w=As(w);var H=d.length;L=L===r?H:Yt(_n(L),0,H);var oe=L;return L-=w.length,L>=0&&d.slice(L,oe)==w}function xb(d){return d=Pn(d),d&&Ei.test(d)?d.replace(Ra,Zc):d}function bb(d){return d=Pn(d),d&&Ve.test(d)?d.replace(Ne,"\\$&"):d}var wb=Hp(function(d,w,L){return d+(L?"-":"")+w.toLowerCase()}),Sb=Hp(function(d,w,L){return d+(L?" ":"")+w.toLowerCase()}),Cb=Vy("toLowerCase");function Eb(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;if(!w||H>=w)return d;var oe=(w-H)/2;return af(Va(oe),L)+d+af(go(oe),L)}function kb(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;return w&&H<w?d+af(w-H,L):d}function Tb(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;return w&&H<w?af(w-H,L)+d:d}function Il(d,w,L){return L||w==null?w=0:w&&(w=+w),Pi(Pn(d).replace(ze,""),w||0)}function Pd(d,w,L){return(L?oa(d,w,L):w===r)?w=1:w=_n(w),rm(Pn(d),w)}function $v(){var d=arguments,w=Pn(d[0]);return d.length<3?w:w.replace(d[1],d[2])}var _h=Hp(function(d,w,L){return d+(L?"_":"")+w.toLowerCase()});function Vv(d,w,L){return L&&typeof L!="number"&&oa(d,w,L)&&(w=L=r),L=L===r?ee:L>>>0,L?(d=Pn(d),d&&(typeof w=="string"||w!=null&&!np(w))&&(w=As(w),!w&&du(d))?_u(fa(d),0,L):d.split(w,L)):[]}var PD=Hp(function(d,w,L){return d+(L?" ":"")+Pb(w)});function ID(d,w,L){return d=Pn(d),L=L==null?0:Yt(_n(L),0,d.length),w=As(w),d.slice(L,L+w.length)==w}function OD(d,w,L){var H=_.templateSettings;L&&oa(d,w,L)&&(w=r),d=Pn(d),w=uA({},w,H,cm);var oe=uA({},w.imports,H.imports,cm),we=Ta(oe),Ue=Wc(oe,we),Xe,at,Dt=0,Bt=w.interpolate||An,Ht="__p += '",br=sn((w.escape||An).source+"|"+Bt.source+"|"+(Bt===ie?Rt:An).source+"|"+(w.evaluate||An).source+"|$","g"),zr="//# sourceURL="+(Un.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cu+"]")+`
`;d.replace(br,function(on,Gn,ii,Gu,eu,Qu){return ii||(ii=Gu),Ht+=d.slice(Dt,Qu).replace(Xr,nc),Gn&&(Xe=!0,Ht+=`' +
__e(`+Gn+`) +
'`),eu&&(at=!0,Ht+=`';
`+eu+`;
__p += '`),ii&&(Ht+=`' +
((__t = (`+ii+`)) == null ? '' : __t) +
'`),Dt=Qu+on.length,on}),Ht+=`';
`;var nn=Un.call(w,"variable")&&w.variable;if(!nn)Ht=`with (obj) {
`+Ht+`
}
`;else if(h.test(nn))throw new Yr(x);Ht=(at?Ht.replace(hn,""):Ht).replace(Eo,"$1").replace(Jn,"$1;"),Ht="function("+(nn||"obj")+`) {
`+(nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xe?", __e = _.escape":"")+(at?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ht+`return __p
}`;var Fn=q4(function(){return bn(we,zr+"return "+Ht).apply(r,Ue)});if(Fn.source=Ht,nA(Fn))throw Fn;return Fn}function MD(d){return Pn(d).toLowerCase()}function RD(d){return Pn(d).toUpperCase()}function LD(d,w,L){if(d=Pn(d),d&&(L||w===r))return Rf(d);if(!d||!(w=As(w)))return d;var H=fa(d),oe=fa(w),we=hu(H,oe),Ue=Lf(H,oe)+1;return _u(H,we,Ue).join("")}function DD(d,w,L){if(d=Pn(d),d&&(L||w===r))return d.slice(0,ls(d)+1);if(!d||!(w=As(w)))return d;var H=fa(d),oe=Lf(H,fa(w))+1;return _u(H,0,oe).join("")}function FD(d,w,L){if(d=Pn(d),d&&(L||w===r))return d.replace(ze,"");if(!d||!(w=As(w)))return d;var H=fa(d),oe=hu(H,fa(w));return _u(H,oe).join("")}function BD(d,w){var L=ut,H=tt;if(pi(w)){var oe="separator"in w?w.separator:oe;L="length"in w?_n(w.length):L,H="omission"in w?As(w.omission):H}d=Pn(d);var we=d.length;if(du(d)){var Ue=fa(d);we=Ue.length}if(L>=we)return d;var Xe=L-us(H);if(Xe<1)return H;var at=Ue?_u(Ue,0,Xe).join(""):d.slice(0,Xe);if(oe===r)return at+H;if(Ue&&(Xe+=at.length-Xe),np(oe)){if(d.slice(Xe).search(oe)){var Dt,Bt=at;for(oe.global||(oe=sn(oe.source,Pn(jt.exec(oe))+"g")),oe.lastIndex=0;Dt=oe.exec(Bt);)var Ht=Dt.index;at=at.slice(0,Ht===r?Xe:Ht)}}else if(d.indexOf(As(oe),Xe)!=Xe){var br=at.lastIndexOf(oe);br>-1&&(at=at.slice(0,br))}return at+H}function zD(d){return d=Pn(d),d&&$t.test(d)?d.replace(ua,Qs):d}var ND=Hp(function(d,w,L){return d+(L?" ":"")+w.toUpperCase()}),Pb=Vy("toUpperCase");function H4(d,w,L){return d=Pn(d),w=L?r:w,w===r?ic(d)?Kc(d):pu(d):d.match(w)||[]}var q4=Sn(function(d,w){try{return fo(d,r,w)}catch(L){return nA(L)?L:new Yr(L)}}),UD=hc(function(d,w){return po(w,function(L){L=wu(L),zt(d,L,Wr(d[L],d))}),d});function jD(d){var w=d==null?0:d.length,L=Qr();return d=w?ei(d,function(H){if(typeof H[1]!="function")throw new ji(a);return[L(H[0]),H[1]]}):[],Sn(function(H){for(var oe=-1;++oe<w;){var we=d[oe];if(fo(we[0],this,H))return fo(we[1],this,H)}})}function $D(d){return Tr(dr(d,z))}function Ib(d){return function(){return d}}function VD(d,w){return d==null||d!==d?w:d}var HD=qp(),qD=qp(!0);function Eu(d){return d}function Ob(d){return Aa(typeof d=="function"?d:dr(d,z))}function GD(d){return jf(dr(d,z))}function QD(d,w){return ZA(d,dr(w,z))}var WD=Sn(function(d,w){return function(L){return yu(L,d,w)}}),ZD=Sn(function(d,w){return function(L){return yu(d,L,w)}});function Mb(d,w,L){var H=Ta(w),oe=Xi(w,H);L==null&&!(pi(w)&&(oe.length||!H.length))&&(L=w,w=d,d=this,oe=Xi(w,Ta(w)));var we=!(pi(L)&&"chain"in L)||!!L.chain,Ue=Js(d);return po(oe,function(Xe){var at=w[Xe];d[Xe]=at,Ue&&(d.prototype[Xe]=function(){var Dt=this.__chain__;if(we||Dt){var Bt=d(this.__wrapped__),Ht=Bt.__actions__=Ps(this.__actions__);return Ht.push({func:at,args:arguments,thisArg:d}),Bt.__chain__=Dt,Bt}return at.apply(d,Ua([this.value()],arguments))})}),d}function KD(){return yi._===this&&(yi._=Ki),this}function Rb(){}function XD(d){return d=_n(d),Sn(function(w){return em(w,d)})}var YD=um(ei),JD=um(fu),e9=um(Hs);function G4(d){return cd(d)?tc(wu(d)):Nx(d)}function t9(d){return function(w){return d==null?r:fi(d,w)}}var r9=Gy(),n9=Gy(!0);function Lb(){return[]}function Db(){return!1}function i9(){return{}}function o9(){return""}function a9(){return!0}function s9(d,w){if(d=_n(d),d<1||d>Et)return[];var L=ee,H=Gr(d,ee);w=Qr(w),d-=ee;for(var oe=Vn(H,w);++L<d;)w(L);return oe}function u9(d){return Zr(d)?ei(d,wu):Ka(d)?[d]:Ps(Qf(Pn(d)))}function l9(d){var w=++ac;return Pn(d)+w}var c9=sd(function(d,w){return d+w},0),f9=lm("ceil"),p9=sd(function(d,w){return d/w},1),A9=lm("floor");function h9(d){return d&&d.length?Br(d,Eu,ia):r}function d9(d,w){return d&&d.length?Br(d,Qr(w,2),ia):r}function m9(d){return Au(d,Eu)}function g9(d,w){return Au(d,Qr(w,2))}function y9(d){return d&&d.length?Br(d,Eu,WA):r}function v9(d,w){return d&&d.length?Br(d,Qr(w,2),WA):r}var _9=sd(function(d,w){return d*w},1),x9=lm("round"),b9=sd(function(d,w){return d-w},0);function w9(d){return d&&d.length?rc(d,Eu):0}function S9(d,w){return d&&d.length?rc(d,Qr(w,2)):0}return _.after=Jt,_.ary=Cr,_.assign=_b,_.assignIn=_c,_.assignInWith=uA,_.assignWith=Ev,_.at=wd,_.before=rr,_.bind=Wr,_.bindAll=UD,_.bindKey=Ir,_.castArray=un,_.chain=Cl,_.chunk=nv,_.compact=iv,_.concat=ov,_.cond=jD,_.conforms=$D,_.constant=Ib,_.countBy=Cv,_.create=kl,_.curry=gr,_.curryRight=rn,_.debounce=Vr,_.defaults=Sd,_.defaultsDeep=mh,_.defer=vn,_.delay=kr,_.difference=av,_.differenceBy=ib,_.differenceWith=ob,_.drop=sv,_.dropRight=uv,_.dropRightWhile=hd,_.dropWhile=lv,_.fill=dd,_.filter=o,_.flatMap=b,_.flatMapDeep=C,_.flatMapDepth=T,_.flatten=Wf,_.flattenDeep=ab,_.flattenDepth=sb,_.flip=On,_.flow=HD,_.flowRight=qD,_.fromPairs=ub,_.functions=Pv,_.functionsIn=Iv,_.groupBy=Q,_.initial=cv,_.intersection=ym,_.intersectionBy=fv,_.intersectionWith=pv,_.invert=Td,_.invertBy=Mv,_.invokeMap=X,_.iteratee=Ob,_.keyBy=se,_.keys=Ta,_.keysIn=hs,_.map=Ae,_.mapKeys=op,_.mapValues=lA,_.matches=GD,_.matchesProperty=QD,_.memoize=ui,_.merge=cA,_.mergeWith=ap,_.method=WD,_.methodOf=ZD,_.mixin=Mb,_.negate=_i,_.nthArg=XD,_.omit=fA,_.omitBy=Rv,_.once=Oi,_.orderBy=Ee,_.over=YD,_.overArgs=xi,_.overEvery=JD,_.overSome=e9,_.partial=Ci,_.partialRight=xo,_.partition=ke,_.pick=Lv,_.pickBy=km,_.property=G4,_.propertyOf=t9,_.pull=vm,_.pullAll=Av,_.pullAllBy=Kp,_.pullAllWith=oh,_.pullAt=Wn,_.range=r9,_.rangeRight=n9,_.rearg=Oo,_.reject=et,_.remove=fb,_.rest=Ea,_.reverse=ah,_.sampleSize=ct,_.set=Tm,_.setWith=Pm,_.shuffle=ft,_.slice=Xp,_.sortBy=Zt,_.sortedUniq=yb,_.sortedUniqBy=hv,_.split=Vv,_.spread=jo,_.tail=dv,_.take=mv,_.takeRight=gv,_.takeRightWhile=gd,_.takeWhile=Kf,_.tap=vd,_.throttle=ka,_.thru=Jf,_.toArray=Cm,_.toPairs=Pl,_.toPairsIn=Im,_.toPath=u9,_.toPlainObject=sA,_.transform=Om,_.unary=Ji,_.union=_m,_.unionBy=Yp,_.unionWith=yv,_.uniq=vo,_.uniqBy=vi,_.uniqWith=vv,_.unset=Mm,_.unzip=yd,_.unzipWith=xm,_.update=Fv,_.updateWith=Rm,_.values=sp,_.valuesIn=Bv,_.without=_v,_.words=H4,_.wrap=$o,_.xor=xv,_.xorBy=bm,_.xorWith=Xf,_.zip=Yf,_.zipObject=bv,_.zipObjectDeep=_o,_.zipWith=sh,_.entries=Pl,_.entriesIn=Im,_.extend=_c,_.extendWith=uA,Mb(_,_),_.add=c9,_.attempt=q4,_.camelCase=Nv,_.capitalize=vh,_.ceil=f9,_.clamp=Lm,_.clone=ni,_.cloneDeep=Cn,_.cloneDeepWith=Da,_.cloneWith=qn,_.conformsTo=ha,_.deburr=Uv,_.defaultTo=VD,_.divide=p9,_.endsWith=jv,_.eq=Tn,_.escape=xb,_.escapeRegExp=bb,_.every=n,_.find=l,_.findIndex=nh,_.findKey=Cd,_.findLast=g,_.findLastIndex=ih,_.findLastKey=Ed,_.floor=A9,_.forEach=F,_.forEachRight=j,_.forIn=Em,_.forInRight=kv,_.forOwn=gh,_.forOwnRight=Tv,_.get=kd,_.gt=lo,_.gte=da,_.has=Ov,_.hasIn=Xa,_.head=Zf,_.identity=Eu,_.includes=W,_.indexOf=gm,_.inRange=zv,_.invoke=Tl,_.isArguments=ln,_.isArray=Zr,_.isArrayBuffer=Ms,_.isArrayLike=bo,_.isArrayLikeObject=cn,_.isBoolean=El,_.isBuffer=ma,_.isDate=eA,_.isElement=ep,_.isEmpty=tA,_.isEqual=gc,_.isEqualWith=rA,_.isError=nA,_.isFinite=iA,_.isFunction=Js,_.isInteger=uh,_.isLength=tp,_.isMap=rp,_.isMatch=Af,_.isMatchWith=oA,_.isNaN=_d,_.isNative=xd,_.isNil=ch,_.isNull=lh,_.isNumber=fh,_.isObject=pi,_.isObjectLike=Qi,_.isPlainObject=yc,_.isRegExp=np,_.isSafeInteger=ph,_.isSet=Ah,_.isString=vc,_.isSymbol=Ka,_.isTypedArray=Hu,_.isUndefined=hh,_.isWeakMap=ip,_.isWeakSet=dh,_.join=lb,_.kebabCase=wb,_.last=Su,_.lastIndexOf=cb,_.lowerCase=Sb,_.lowerFirst=Cb,_.lt=aA,_.lte=Sm,_.max=h9,_.maxBy=d9,_.mean=m9,_.meanBy=g9,_.min=y9,_.minBy=v9,_.stubArray=Lb,_.stubFalse=Db,_.stubObject=i9,_.stubString=o9,_.stubTrue=a9,_.multiply=_9,_.nth=md,_.noConflict=KD,_.noop=Rb,_.now=mr,_.pad=Eb,_.padEnd=kb,_.padStart=Tb,_.parseInt=Il,_.random=yh,_.reduce=$e,_.reduceRight=Le,_.repeat=Pd,_.replace=$v,_.result=Dv,_.round=x9,_.runInContext=rt,_.sample=nt,_.size=Pt,_.snakeCase=_h,_.some=Ut,_.sortedIndex=pb,_.sortedIndexBy=Ab,_.sortedIndexOf=hb,_.sortedLastIndex=db,_.sortedLastIndexBy=mb,_.sortedLastIndexOf=gb,_.startCase=PD,_.startsWith=ID,_.subtract=b9,_.sum=w9,_.sumBy=S9,_.template=OD,_.times=s9,_.toFinite=qu,_.toInteger=_n,_.toLength=bd,_.toLower=MD,_.toNumber=Cu,_.toSafeInteger=eo,_.toString=Pn,_.toUpper=RD,_.trim=LD,_.trimEnd=DD,_.trimStart=FD,_.truncate=BD,_.unescape=zD,_.uniqueId=l9,_.upperCase=ND,_.upperFirst=Pb,_.each=F,_.eachRight=j,_.first=Zf,Mb(_,function(){var d={};return Ii(_,function(w,L){Un.call(_.prototype,L)||(d[L]=w)}),d}(),{chain:!1}),_.VERSION=i,po(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){_[d].placeholder=_}),po(["drop","take"],function(d,w){B.prototype[d]=function(L){L=L===r?1:tn(_n(L),0);var H=this.__filtered__&&!w?new B(this):this.clone();return H.__filtered__?H.__takeCount__=Gr(L,H.__takeCount__):H.__views__.push({size:Gr(L,ee),type:d+(H.__dir__<0?"Right":"")}),H},B.prototype[d+"Right"]=function(L){return this.reverse()[d](L).reverse()}}),po(["filter","map","takeWhile"],function(d,w){var L=w+1,H=L==St||L==fr;B.prototype[d]=function(oe){var we=this.clone();return we.__iteratees__.push({iteratee:Qr(oe,3),type:L}),we.__filtered__=we.__filtered__||H,we}}),po(["head","last"],function(d,w){var L="take"+(w?"Right":"");B.prototype[d]=function(){return this[L](1).value()[0]}}),po(["initial","tail"],function(d,w){var L="drop"+(w?"":"Right");B.prototype[d]=function(){return this.__filtered__?new B(this):this[L](1)}}),B.prototype.compact=function(){return this.filter(Eu)},B.prototype.find=function(d){return this.filter(d).head()},B.prototype.findLast=function(d){return this.reverse().find(d)},B.prototype.invokeMap=Sn(function(d,w){return typeof d=="function"?new B(this):this.map(function(L){return yu(L,d,w)})}),B.prototype.reject=function(d){return this.filter(_i(Qr(d)))},B.prototype.slice=function(d,w){d=_n(d);var L=this;return L.__filtered__&&(d>0||w<0)?new B(L):(d<0?L=L.takeRight(-d):d&&(L=L.drop(d)),w!==r&&(w=_n(w),L=w<0?L.dropRight(-w):L.take(w-d)),L)},B.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},B.prototype.toArray=function(){return this.take(ee)},Ii(B.prototype,function(d,w){var L=/^(?:filter|find|map|reject)|While$/.test(w),H=/^(?:head|last)$/.test(w),oe=_[H?"take"+(w=="last"?"Right":""):w],we=H||/^find/.test(w);!oe||(_.prototype[w]=function(){var Ue=this.__wrapped__,Xe=H?[1]:arguments,at=Ue instanceof B,Dt=Xe[0],Bt=at||Zr(Ue),Ht=function(Gn){var ii=oe.apply(_,Ua([Gn],Xe));return H&&br?ii[0]:ii};Bt&&L&&typeof Dt=="function"&&Dt.length!=1&&(at=Bt=!1);var br=this.__chain__,zr=!!this.__actions__.length,nn=we&&!br,Fn=at&&!zr;if(!we&&Bt){Ue=Fn?Ue:new B(this);var on=d.apply(Ue,Xe);return on.__actions__.push({func:Jf,args:[Ht],thisArg:r}),new I(on,br)}return nn&&Fn?d.apply(this,Xe):(on=this.thru(Ht),nn?H?on.value()[0]:on.value():on)})}),po(["pop","push","shift","sort","splice","unshift"],function(d){var w=yl[d],L=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",H=/^(?:pop|shift)$/.test(d);_.prototype[d]=function(){var oe=arguments;if(H&&!this.__chain__){var we=this.value();return w.apply(Zr(we)?we:[],oe)}return this[L](function(Ue){return w.apply(Zr(Ue)?Ue:[],oe)})}}),Ii(B.prototype,function(d,w){var L=_[w];if(L){var H=L.name+"";Un.call(Io,H)||(Io[H]=[]),Io[H].push({name:w,func:L})}}),Io[Is(r,V).name]=[{name:"wrapper",func:r}],B.prototype.clone=G,B.prototype.reverse=re,B.prototype.value=ce,_.prototype.at=wm,_.prototype.chain=Jp,_.prototype.commit=mc,_.prototype.next=wv,_.prototype.plant=vb,_.prototype.reverse=Uo,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=pf,_.prototype.first=_.prototype.head,Xs&&(_.prototype[Xs]=Sv),_},Ws=gl();js?((js.exports=Ws)._=Ws,cl._=Ws):yi._=Ws}).call(Bs)})(_s,_s.exports);var Rc={},Vl={},Vh={exports:{}},no={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=60103,y2=60106,hy=60107,dy=60108,my=60114,gy=60109,yy=60110,vy=60112,_y=60113,uE=60120,xy=60115,by=60116,FO=60121,BO=60122,zO=60117,NO=60129,UO=60131;if(typeof Symbol=="function"&&Symbol.for){var ds=Symbol.for;g2=ds("react.element"),y2=ds("react.portal"),hy=ds("react.fragment"),dy=ds("react.strict_mode"),my=ds("react.profiler"),gy=ds("react.provider"),yy=ds("react.context"),vy=ds("react.forward_ref"),_y=ds("react.suspense"),uE=ds("react.suspense_list"),xy=ds("react.memo"),by=ds("react.lazy"),FO=ds("react.block"),BO=ds("react.server.block"),zO=ds("react.fundamental"),NO=ds("react.debug_trace_mode"),UO=ds("react.legacy_hidden")}function Lc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case g2:switch(e=e.type,e){case hy:case my:case dy:case _y:case uE:return e;default:switch(e=e&&e.$$typeof,e){case yy:case vy:case by:case xy:case gy:return e;default:return t}}case y2:return t}}}var W7=gy,Z7=g2,K7=vy,X7=hy,Y7=by,J7=xy,eB=y2,tB=my,rB=dy,nB=_y;no.ContextConsumer=yy;no.ContextProvider=W7;no.Element=Z7;no.ForwardRef=K7;no.Fragment=X7;no.Lazy=Y7;no.Memo=J7;no.Portal=eB;no.Profiler=tB;no.StrictMode=rB;no.Suspense=nB;no.isAsyncMode=function(){return!1};no.isConcurrentMode=function(){return!1};no.isContextConsumer=function(e){return Lc(e)===yy};no.isContextProvider=function(e){return Lc(e)===gy};no.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===g2};no.isForwardRef=function(e){return Lc(e)===vy};no.isFragment=function(e){return Lc(e)===hy};no.isLazy=function(e){return Lc(e)===by};no.isMemo=function(e){return Lc(e)===xy};no.isPortal=function(e){return Lc(e)===y2};no.isProfiler=function(e){return Lc(e)===my};no.isStrictMode=function(e){return Lc(e)===dy};no.isSuspense=function(e){return Lc(e)===_y};no.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hy||e===my||e===NO||e===dy||e===_y||e===uE||e===UO||typeof e=="object"&&e!==null&&(e.$$typeof===by||e.$$typeof===xy||e.$$typeof===gy||e.$$typeof===yy||e.$$typeof===vy||e.$$typeof===zO||e.$$typeof===FO||e[0]===BO)};no.typeOf=Lc;(function(e){e.exports=no})(Vh);Object.defineProperty(Vl,"__esModule",{value:!0});Vl.isArray=uB;Vl.isBoolean=VO;Vl.isNull=HO;Vl.isNumber=$O;Vl.isObject=sB;Vl.isPrimitiveData=aB;Vl.isString=jO;Vl.isUndefined=qO;var iB=_s.exports,oB=Vh.exports;function jO(e){return typeof e=="string"}function $O(e){return typeof e=="number"}function VO(e){return typeof e=="boolean"}function HO(e){return e===null}function qO(e){return e===void 0}function aB(e){return jO(e)||$O(e)||VO(e)||HO(e)||qO(e)}function sB(e){return(0,iB.isPlainObject)(e)&&!(0,oB.isElement)(e)}function uB(e){return Array.isArray(e)}var v2={},GO={},lE={};Object.defineProperty(lE,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function ik(e){return Object.prototype.toString.call(e)==="[object Object]"}function lB(e){var t,r;return ik(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(ik(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}lE.isPlainObject=lB;var cE={},M_=Bs&&Bs.__assign||function(){return M_=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},M_.apply(this,arguments)},cB=Bs&&Bs.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var u=arguments[t],a=0,x=u.length;a<x;a++,s++)i[s]=u[a];return i};Object.defineProperty(cE,"__esModule",{value:!0});var Vm=[];function fB(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function pB(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function AB(e){return Object.getOwnPropertySymbols(e).filter(function(t){return Object.prototype.propertyIsEnumerable.call(e,t)})}function X1(e,t,r){r===void 0&&(r="");var i={indent:"	",singleQuotes:!0},s=M_(M_({},i),t),u;s.inlineCharacterLimit===void 0?u={newLine:`
`,newLineOrSpace:`
`,pad:r,indent:r+s.indent}:u={newLine:"@@__PRETTY_PRINT_NEW_LINE__@@",newLineOrSpace:"@@__PRETTY_PRINT_NEW_LINE_OR_SPACE__@@",pad:"@@__PRETTY_PRINT_PAD__@@",indent:"@@__PRETTY_PRINT_INDENT__@@"};var a=function(P){if(s.inlineCharacterLimit===void 0)return P;var R=P.replace(new RegExp(u.newLine,"g"),"").replace(new RegExp(u.newLineOrSpace,"g")," ").replace(new RegExp(u.pad+"|"+u.indent,"g"),"");return R.length<=s.inlineCharacterLimit?R:P.replace(new RegExp(u.newLine+"|"+u.newLineOrSpace,"g"),`
`).replace(new RegExp(u.pad,"g"),r).replace(new RegExp(u.indent,"g"),r+s.indent)};if(Vm.indexOf(e)!==-1)return'"[Circular]"';if(e==null||typeof e=="number"||typeof e=="boolean"||typeof e=="function"||typeof e=="symbol"||pB(e))return String(e);if(e instanceof Date)return"new Date('"+e.toISOString()+"')";if(Array.isArray(e)){if(e.length===0)return"[]";Vm.push(e);var x="["+u.newLine+e.map(function(P,R){var z=e.length-1===R?u.newLine:","+u.newLineOrSpace,N=X1(P,s,r+s.indent);return s.transform&&(N=s.transform(e,R,N)),u.indent+N+z}).join("")+u.pad+"]";return Vm.pop(),a(x)}if(fB(e)){var S=cB(Object.keys(e),AB(e));if(s.filter&&(S=S.filter(function(R){return s.filter&&s.filter(e,R)})),S.length===0)return"{}";Vm.push(e);var x="{"+u.newLine+S.map(function(R,z){var N=S.length-1===z?u.newLine:","+u.newLineOrSpace,$=typeof R=="symbol",Z=!$&&/^[a-z$_][a-z$_0-9]*$/i.test(R.toString()),J=$||Z?R:X1(R,s),ae=X1(e[R],s,r+s.indent);return s.transform&&(ae=s.transform(e,R,ae)),u.indent+String(J)+": "+ae+N}).join("")+u.pad+"}";return Vm.pop(),a(x)}return e=String(e).replace(/[\r\n]/g,function(P){return P===`
`?"\\n":"\\r"}),s.singleQuotes?(e=e.replace(/\\?'/g,"\\'"),"'"+e+"'"):(e=e.replace(/"/g,'\\"'),'"'+e+'"')}cE.prettyPrint=X1;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=lE,r=cr.exports,i=cE,s=Vh.exports;function u(gt){return gt&&typeof gt=="object"&&"default"in gt?gt:{default:gt}}function a(gt){if(gt&&gt.__esModule)return gt;var be=Object.create(null);return gt&&Object.keys(gt).forEach(function(Ye){if(Ye!=="default"){var kt=Object.getOwnPropertyDescriptor(gt,Ye);Object.defineProperty(be,Ye,kt.get?kt:{enumerable:!0,get:function(){return gt[Ye]}})}}),be.default=gt,Object.freeze(be)}var x=a(r),S=u(r),P=function(gt,be){return gt===0?"":new Array(gt*be).fill(" ").join("")};function R(gt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(be){return typeof be}:R=function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},R(gt)}function z(gt){return N(gt)||$(gt)||Z(gt)||ae()}function N(gt){if(Array.isArray(gt))return J(gt)}function $(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}function Z(gt,be){if(!!gt){if(typeof gt=="string")return J(gt,be);var Ye=Object.prototype.toString.call(gt).slice(8,-1);if(Ye==="Object"&&gt.constructor&&(Ye=gt.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(gt);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return J(gt,be)}}function J(gt,be){(be==null||be>gt.length)&&(be=gt.length);for(var Ye=0,kt=new Array(be);Ye<be;Ye++)kt[Ye]=gt[Ye];return kt}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(gt,be){return gt===null||R(gt)!=="object"||gt instanceof Date||gt instanceof RegExp||x.isValidElement(gt)?gt:(be.add(gt),Array.isArray(gt)?gt.map(function(Ye){return V(Ye,be)}):Object.keys(gt).sort().reduce(function(Ye,kt){return kt==="_owner"||(kt==="current"||be.has(gt[kt])?Ye[kt]="[Circular]":Ye[kt]=V(gt[kt],be)),Ye},{}))}function K(gt){return V(gt,new WeakSet)}var ue=function(be){return{type:"string",value:be}},ge=function(be){return{type:"number",value:be}},he=function(be,Ye,kt,or){return{type:"ReactElement",displayName:be,props:Ye,defaultProps:kt,childrens:or}},le=function(be,Ye){return{type:"ReactFragment",key:be,childrens:Ye}},Se=Boolean(r.Fragment),Ce=function(be){return!be.name||be.name==="_default"?"No Display Name":be.name},He=function gt(be){switch(!0){case Boolean(be.displayName):return be.displayName;case be.$$typeof===s.Memo:return gt(be.type);case be.$$typeof===s.ForwardRef:return gt(be.render);default:return Ce(be)}},ut=function(be){switch(!0){case typeof be.type=="string":return be.type;case typeof be.type=="function":return be.type.displayName?be.type.displayName:Ce(be.type);case s.isForwardRef(be):case s.isMemo(be):return He(be.type);case s.isContextConsumer(be):return"".concat(be.type._context.displayName||"Context",".Consumer");case s.isContextProvider(be):return"".concat(be.type._context.displayName||"Context",".Provider");case s.isLazy(be):return"Lazy";case s.isProfiler(be):return"Profiler";case s.isStrictMode(be):return"StrictMode";case s.isSuspense(be):return"Suspense";default:return"UnknownElementType"}},tt=function(be,Ye){return Ye!=="children"},st=function(be){return be!==!0&&be!==!1&&be!==null&&be!==""},bt=function(be,Ye){var kt={};return Object.keys(be).filter(function(or){return Ye(be[or],or)}).forEach(function(or){return kt[or]=be[or]}),kt},St=function gt(be,Ye){var kt=Ye.displayName,or=kt===void 0?ut:kt;if(typeof be=="string")return ue(be);if(typeof be=="number")return ge(be);if(!S.default.isValidElement(be))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `".concat(R(be),"`"));var Hr=or(be),In=bt(be.props,tt);be.ref!==null&&(In.ref=be.ref);var Or=be.key;typeof Or=="string"&&Or.search(/^\./)&&(In.key=Or);var en=bt(be.type.defaultProps||{},tt),$n=S.default.Children.toArray(be.props.children).filter(st).map(function(Yn){return gt(Yn,Ye)});return Se&&be.type===r.Fragment?le(Or,$n):he(Hr,In,en,$n)};function Qt(){}var fr=function(be){return be.toString().split(`
`).map(function(Ye){return Ye.trim()}).join("")},wr=function(be){return be.toString()},Et=fr,Ze=function(gt,be){var Ye=be.functionValue,kt=Ye===void 0?Et:Ye,or=be.showFunctions;return kt(!or&&kt===Et?Qt:gt)},Oe=function(gt,be,Ye,kt){var or=K(gt),Hr=i.prettyPrint(or,{transform:function(Or,en,$n){var Yn=Or[en];return Yn&&r.isValidElement(Yn)?bi(St(Yn,kt),!0,Ye,kt):typeof Yn=="function"?Ze(Yn,kt):$n}});return be?Hr.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):Hr.replace(/\t/g,P(1,kt.tabStop)).replace(/\n([^$])/g,`
`.concat(P(Ye+1,kt.tabStop),"$1"))},ee=function(be){return be.replace(/"/g,"&quot;")},pe=function(be,Ye,kt,or){if(typeof be=="number")return"{".concat(String(be),"}");if(typeof be=="string")return'"'.concat(ee(be),'"');if(R(be)==="symbol"){var Hr=be.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return Hr?"{Symbol('".concat(Hr,"')}"):"{Symbol()}"}return typeof be=="function"?"{".concat(Ze(be,or),"}"):r.isValidElement(be)?"{".concat(bi(St(be,or),!0,kt,or),"}"):be instanceof Date?isNaN(be.valueOf())?"{new Date(NaN)}":'{new Date("'.concat(be.toISOString(),'")}'):t.isPlainObject(be)||Array.isArray(be)?"{".concat(Oe(be,Ye,kt,or),"}"):"{".concat(String(be),"}")},yt=function(gt,be,Ye,kt,or,Hr,In,Or){if(!be&&!kt)throw new Error('The prop "'.concat(gt,'" has no value and no default: could not be formatted'));var en=be?Ye:or,$n=Or.useBooleanShorthandSyntax,Yn=Or.tabStop,hn=pe(en,Hr,In,Or),Eo=" ",Jn=`
`.concat(P(In+1,Yn)),ua=hn.includes(`
`);return $n&&hn==="{false}"&&!kt?(Eo="",Jn=""):$n&&hn==="{true}"?(Eo+="".concat(gt),Jn+="".concat(gt)):(Eo+="".concat(gt,"=").concat(hn),Jn+="".concat(gt,"=").concat(hn)),{attributeFormattedInline:Eo,attributeFormattedMultiline:Jn,isMultilineAttribute:ua}},tr=function(gt,be){var Ye=gt.slice(0,gt.length>0?gt.length-1:0),kt=gt[gt.length-1];return kt&&(be.type==="string"||be.type==="number")&&(kt.type==="string"||kt.type==="number")?Ye.push(ue(String(kt.value)+String(be.value))):(kt&&Ye.push(kt),Ye.push(be)),Ye},yr=function(be){return["key","ref"].includes(be)},hr=function(gt){return function(be){var Ye=be.includes("key"),kt=be.includes("ref"),or=be.filter(function(In){return!yr(In)}),Hr=z(gt?or.sort():or);return kt&&Hr.unshift("ref"),Ye&&Hr.unshift("key"),Hr}};function Sr(gt,be){return Array.isArray(be)?function(Ye){return be.indexOf(Ye)===-1}:function(Ye){return be(gt[Ye],Ye)}}var Ur=function(be,Ye,kt,or,Hr){var In=Hr.tabStop;return be.type==="string"?Ye.split(`
`).map(function(Or,en){return en===0?Or:"".concat(P(or,In)).concat(Or)}).join(`
`):Ye},Dr=function(be,Ye,kt){return function(or){return Ur(or,bi(or,be,Ye,kt),be,Ye,kt)}},Xn=function(be,Ye){return function(kt){var or=Object.keys(be).includes(kt);return!or||or&&be[kt]!==Ye[kt]}},jn=function(be,Ye,kt,or,Hr){return Hr?P(kt,or).length+Ye.length>Hr:be.length>1},Fi=function(be,Ye,kt,or,Hr,In,Or){return(jn(be,Ye,Hr,In,Or)||kt)&&!or},jr=function(gt,be,Ye,kt){var or=gt.type,Hr=gt.displayName,In=Hr===void 0?"":Hr,Or=gt.childrens,en=gt.props,$n=en===void 0?{}:en,Yn=gt.defaultProps,hn=Yn===void 0?{}:Yn;if(or!=="ReactElement")throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '.concat(or));var Eo=kt.filterProps,Jn=kt.maxInlineAttributesLineLength,ua=kt.showDefaultProps,Ra=kt.sortProps,$t=kt.tabStop,Ei="<".concat(In),zn=Ei,Y=Ei,ie=!1,fe=[],ve=Sr($n,Eo);Object.keys($n).filter(ve).filter(Xn(hn,$n)).forEach(function(Ve){return fe.push(Ve)}),Object.keys(hn).filter(ve).filter(function(){return ua}).filter(function(Ve){return!fe.includes(Ve)}).forEach(function(Ve){return fe.push(Ve)});var Ie=hr(Ra)(fe);if(Ie.forEach(function(Ve){var ze=yt(Ve,Object.keys($n).includes(Ve),$n[Ve],Object.keys(hn).includes(Ve),hn[Ve],be,Ye,kt),xe=ze.attributeFormattedInline,ne=ze.attributeFormattedMultiline,je=ze.isMultilineAttribute;je&&(ie=!0),zn+=xe,Y+=ne}),Y+=`
`.concat(P(Ye,$t)),Fi(Ie,zn,ie,be,Ye,$t,Jn)?Ei=Y:Ei=zn,Or&&Or.length>0){var Ne=Ye+1;Ei+=">",be||(Ei+=`
`,Ei+=P(Ne,$t)),Ei+=Or.reduce(tr,[]).map(Dr(be,Ne,kt)).join(be?"":`
`.concat(P(Ne,$t))),be||(Ei+=`
`,Ei+=P(Ne-1,$t)),Ei+="</".concat(In,">")}else jn(Ie,zn,Ye,$t,Jn)||(Ei+=" "),Ei+="/>";return Ei},mi="",gi="React.Fragment",Qo=function(be,Ye,kt){var or={};return Ye&&(or={key:Ye}),{type:"ReactElement",displayName:be,props:or,defaultProps:{},childrens:kt}},Bi=function(be){var Ye=be.key;return Boolean(Ye)},Wi=function(be){var Ye=be.childrens;return Ye.length===0},ws=function(gt,be,Ye,kt){var or=gt.type,Hr=gt.key,In=gt.childrens;if(or!=="ReactFragment")throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '.concat(or));var Or=kt.useFragmentShortSyntax,en;return Or?Wi(gt)||Bi(gt)?en=gi:en=mi:en=gi,jr(Qo(en,Hr,In),be,Ye,kt)},io=["<",">","{","}"],Qn=function(be){return io.some(function(Ye){return be.includes(Ye)})},Lo=function(be){return Qn(be)?"{`".concat(be,"`}"):be},oo=function(be){var Ye=be;return Ye.endsWith(" ")&&(Ye=Ye.replace(/^(.*?)(\s+)$/,"$1{'$2'}")),Ye.startsWith(" ")&&(Ye=Ye.replace(/^(\s+)(.*)$/,"{'$1'}$2")),Ye},bi=function(gt,be,Ye,kt){if(gt.type==="number")return String(gt.value);if(gt.type==="string")return gt.value?"".concat(oo(Lo(String(gt.value)))):"";if(gt.type==="ReactElement")return jr(gt,be,Ye,kt);if(gt.type==="ReactFragment")return ws(gt,be,Ye,kt);throw new TypeError('Unknow format type "'.concat(gt.type,'"'))},Do=function(gt,be){return bi(gt,!1,0,be)},sa=function(be){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kt=Ye.filterProps,or=kt===void 0?[]:kt,Hr=Ye.showDefaultProps,In=Hr===void 0?!0:Hr,Or=Ye.showFunctions,en=Or===void 0?!1:Or,$n=Ye.functionValue,Yn=Ye.tabStop,hn=Yn===void 0?2:Yn,Eo=Ye.useBooleanShorthandSyntax,Jn=Eo===void 0?!0:Eo,ua=Ye.useFragmentShortSyntax,Ra=ua===void 0?!0:ua,$t=Ye.sortProps,Ei=$t===void 0?!0:$t,zn=Ye.maxInlineAttributesLineLength,Y=Ye.displayName;if(!be)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var ie={filterProps:or,showDefaultProps:In,showFunctions:en,functionValue:$n,tabStop:hn,useBooleanShorthandSyntax:Jn,useFragmentShortSyntax:Ra,sortProps:Ei,maxInlineAttributesLineLength:zn,displayName:Y};return Do(St(be,ie),ie)};e.default=sa,e.inlineFunction=fr,e.preserveFunctionLineBreak=wr})(GO);Object.defineProperty(v2,"__esModule",{value:!0});v2.createValue=fE;v2.createValues=QO;var hB=mB(GO),dB=Vh.exports,uw=Vl;function mB(e){return e&&e.__esModule?e:{default:e}}function QO(e){var t={};return Object.keys(e).forEach(function(r){t[r]=fE(e[r])}),t}function fE(e){return(0,uw.isPrimitiveData)(e)?{type:"primitive",data:e}:(0,uw.isArray)(e)?{type:"array",values:e.map(function(t){return fE(t)})}:(0,uw.isObject)(e)?{type:"object",values:QO(e)}:{type:"unserializable",stringifiedData:gB(e)}}function gB(e){return(0,dB.isElement)(e)?(0,hB.default)(e):String(e)}var _2={};Object.defineProperty(_2,"__esModule",{value:!0});_2.extendWithValue=pE;_2.extendWithValues=WO;var ok=Vl;function WO(e,t){var r={};return Object.keys(t).forEach(function(i){r[i]=pE(e[i],t[i])}),r}function pE(e,t){if(t.type==="unserializable")return e;if(t.type==="object"){var r=(0,ok.isObject)(e)?e:{};return WO(r,t.values)}if(t.type==="array"){var i=(0,ok.isArray)(e)?e:[];return t.values.map(function(s,u){return pE(i[u],s)})}return t.data}var Cf={},x2={},wy={};Object.defineProperty(wy,"__esModule",{value:!0});wy.removeItemMatch=CB;wy.replaceOrAddItem=SB;wy.updateItem=wB;var ZO=_s.exports;function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(i){yB(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function yB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FA(e){return bB(e)||xB(e)||_B(e)||vB()}function vB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(e,t){if(!!e){if(typeof e=="string")return Y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(e,t)}}function xB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bB(e){if(Array.isArray(e))return Y3(e)}function Y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function wB(e,t,r){var i=e.indexOf(t);return[].concat(FA(e.slice(0,i)),[sk(sk({},t),r)],FA(e.slice(i+1)))}function SB(e,t,r){var i=(0,ZO.findIndex)(e,t);return i!==-1?[].concat(FA(e.slice(0,i)),[r],FA(e.slice(i+1))):[].concat(FA(e),[r])}function CB(e,t){var r=(0,ZO.findIndex)(e,t);return r===-1?FA(e):[].concat(FA(e.slice(0,r)),FA(e.slice(r+1)))}var b2={};Object.defineProperty(b2,"__esModule",{value:!0});b2.addTreeNodeChild=IB;b2.sortTreeChildren=XO;function uk(e){return PB(e)||TB(e)||kB(e)||EB()}function EB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kB(e,t){if(!!e){if(typeof e=="string")return J3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(e,t)}}function TB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PB(e){if(Array.isArray(e))return J3(e)}function J3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function u1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(i){KO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function KO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e,t,r){e.children||(e.children={}),e.children[t]=r}function XO(e){var t=e.children;if(!t)return e;var r=Object.keys(t),i=r.filter(function(u){return t[u].children}),s=r.filter(function(u){return!t[u].children});return u1(u1({},e),{},{children:[].concat(uk(i.sort()),uk(s.sort())).reduce(function(u,a){return u1(u1({},u),{},KO({},a,XO(t[a])))},{})})}var AE={};Object.defineProperty(AE,"__esModule",{value:!0});AE.uuid=YO;function YO(e){return e?(Number(e)^Math.random()*16>>Number(e)/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,YO)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TreeNode",{enumerable:!0,get:function(){return r.TreeNode}}),Object.defineProperty(e,"addTreeNodeChild",{enumerable:!0,get:function(){return r.addTreeNodeChild}}),Object.defineProperty(e,"removeItemMatch",{enumerable:!0,get:function(){return t.removeItemMatch}}),Object.defineProperty(e,"replaceOrAddItem",{enumerable:!0,get:function(){return t.replaceOrAddItem}}),Object.defineProperty(e,"sortTreeChildren",{enumerable:!0,get:function(){return r.sortTreeChildren}}),Object.defineProperty(e,"updateItem",{enumerable:!0,get:function(){return t.updateItem}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return i.uuid}});var t=wy,r=b2,i=AE})(x2);Object.defineProperty(Cf,"__esModule",{value:!0});Cf.DEFAULT_RENDER_KEY=void 0;Cf.createFixtureStateProps=MB;Cf.findFixtureStateProps=eM;Cf.getFixtureStateProps=OB;Cf.removeFixtureStateProps=DB;Cf.resetFixtureStateProps=RB;Cf.updateFixtureStateProps=LB;var eS=_s.exports,w2=x2,JO=0;Cf.DEFAULT_RENDER_KEY=JO;function OB(e,t){var r=e.props;return r?r.filter(function(i){return i.elementId.decoratorId===t}):[]}function eM(e,t){var r=e.props;return r&&(0,eS.find)(r,function(i){return(0,eS.isEqual)(i.elementId,t)})}function MB(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=e.componentName,u=t.props,a=u===void 0?[]:u;return(0,w2.replaceOrAddItem)(a,tM(r),{elementId:r,values:i,renderKey:JO,componentName:s})}function RB(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=rM(t,r);return(0,w2.updateItem)(t.props,s,{values:i,renderKey:s.renderKey+1})}function LB(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=rM(t,r);return(0,w2.updateItem)(t.props,s,{values:i})}function DB(e,t){return(0,w2.removeItemMatch)(e.props||[],tM(t))}function tM(e){return function(t){return(0,eS.isEqual)(t.elementId,e)}}function rM(e,t){var r=eM(e,t);if(!r){var i=JSON.stringify(t);throw new Error('Fixture state props missing for element "'.concat(i,'"'))}return r}var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.createFixtureStateClassState=BB;Hh.findFixtureStateClassState=nM;Hh.getFixtureStateClassState=FB;Hh.removeFixtureStateClassState=NB;Hh.updateFixtureStateClassState=zB;var tS=_s.exports,hE=x2;function FB(e,t){var r=e.classState;return r?r.filter(function(i){return i.elementId.decoratorId===t}):[]}function nM(e,t){var r=e.classState;return r&&(0,tS.find)(r,function(i){return(0,tS.isEqual)(i.elementId,t)})}function BB(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=e.componentName,u=t.classState,a=u===void 0?[]:u;return(0,hE.replaceOrAddItem)(a,iM(r),{elementId:r,values:i,componentName:s})}function zB(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=UB(t,r);return(0,hE.updateItem)(t.classState,s,{values:i})}function NB(e,t){return(0,hE.removeItemMatch)(e.classState||[],iM(t))}function iM(e){return function(t){return(0,tS.isEqual)(t.elementId,e)}}function UB(e,t){var r=nM(e,t);if(!r){var i=JSON.stringify(t);throw new Error('Fixture state class state missing for element "'.concat(i,'"'))}return r}var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.findFixtureStateControl=jB;function jB(e,t){var r=e.controls;return r&&r[t]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ArrayData",{enumerable:!0,get:function(){return t.ArrayData}}),Object.defineProperty(e,"DEFAULT_RENDER_KEY",{enumerable:!0,get:function(){return s.DEFAULT_RENDER_KEY}}),Object.defineProperty(e,"FixtureDecoratorId",{enumerable:!0,get:function(){return t.FixtureDecoratorId}}),Object.defineProperty(e,"FixtureElementId",{enumerable:!0,get:function(){return t.FixtureElementId}}),Object.defineProperty(e,"FixtureState",{enumerable:!0,get:function(){return t.FixtureState}}),Object.defineProperty(e,"FixtureStateArrayValue",{enumerable:!0,get:function(){return t.FixtureStateArrayValue}}),Object.defineProperty(e,"FixtureStateClassState",{enumerable:!0,get:function(){return t.FixtureStateClassState}}),Object.defineProperty(e,"FixtureStateControl",{enumerable:!0,get:function(){return t.FixtureStateControl}}),Object.defineProperty(e,"FixtureStateControls",{enumerable:!0,get:function(){return t.FixtureStateControls}}),Object.defineProperty(e,"FixtureStateData",{enumerable:!0,get:function(){return t.FixtureStateData}}),Object.defineProperty(e,"FixtureStateObjectValue",{enumerable:!0,get:function(){return t.FixtureStateObjectValue}}),Object.defineProperty(e,"FixtureStatePrimitiveValue",{enumerable:!0,get:function(){return t.FixtureStatePrimitiveValue}}),Object.defineProperty(e,"FixtureStateProps",{enumerable:!0,get:function(){return t.FixtureStateProps}}),Object.defineProperty(e,"FixtureStateSelectControl",{enumerable:!0,get:function(){return t.FixtureStateSelectControl}}),Object.defineProperty(e,"FixtureStateStandardControl",{enumerable:!0,get:function(){return t.FixtureStateStandardControl}}),Object.defineProperty(e,"FixtureStateUnserializableValue",{enumerable:!0,get:function(){return t.FixtureStateUnserializableValue}}),Object.defineProperty(e,"FixtureStateValue",{enumerable:!0,get:function(){return t.FixtureStateValue}}),Object.defineProperty(e,"FixtureStateValues",{enumerable:!0,get:function(){return t.FixtureStateValues}}),Object.defineProperty(e,"ObjectData",{enumerable:!0,get:function(){return t.ObjectData}}),Object.defineProperty(e,"PrimitiveData",{enumerable:!0,get:function(){return t.PrimitiveData}}),Object.defineProperty(e,"SetFixtureState",{enumerable:!0,get:function(){return t.SetFixtureState}}),Object.defineProperty(e,"createFixtureStateClassState",{enumerable:!0,get:function(){return u.createFixtureStateClassState}}),Object.defineProperty(e,"createFixtureStateProps",{enumerable:!0,get:function(){return s.createFixtureStateProps}}),Object.defineProperty(e,"createValue",{enumerable:!0,get:function(){return r.createValue}}),Object.defineProperty(e,"createValues",{enumerable:!0,get:function(){return r.createValues}}),Object.defineProperty(e,"extendWithValue",{enumerable:!0,get:function(){return i.extendWithValue}}),Object.defineProperty(e,"extendWithValues",{enumerable:!0,get:function(){return i.extendWithValues}}),Object.defineProperty(e,"findFixtureStateClassState",{enumerable:!0,get:function(){return u.findFixtureStateClassState}}),Object.defineProperty(e,"findFixtureStateControl",{enumerable:!0,get:function(){return a.findFixtureStateControl}}),Object.defineProperty(e,"findFixtureStateProps",{enumerable:!0,get:function(){return s.findFixtureStateProps}}),Object.defineProperty(e,"getFixtureStateClassState",{enumerable:!0,get:function(){return u.getFixtureStateClassState}}),Object.defineProperty(e,"getFixtureStateProps",{enumerable:!0,get:function(){return s.getFixtureStateProps}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return t.isBoolean}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return t.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return t.isObject}}),Object.defineProperty(e,"isPrimitiveData",{enumerable:!0,get:function(){return t.isPrimitiveData}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return t.isString}}),Object.defineProperty(e,"removeFixtureStateClassState",{enumerable:!0,get:function(){return u.removeFixtureStateClassState}}),Object.defineProperty(e,"removeFixtureStateProps",{enumerable:!0,get:function(){return s.removeFixtureStateProps}}),Object.defineProperty(e,"resetFixtureStateProps",{enumerable:!0,get:function(){return s.resetFixtureStateProps}}),Object.defineProperty(e,"updateFixtureStateClassState",{enumerable:!0,get:function(){return u.updateFixtureStateClassState}}),Object.defineProperty(e,"updateFixtureStateProps",{enumerable:!0,get:function(){return s.updateFixtureStateProps}});var t=Vl,r=v2,i=_2,s=Cf,u=Hh,a=dE})(Rc);var Dc={},mE={},S2={};Object.defineProperty(S2,"__esModule",{value:!0});S2.getComponentName=$B;var lw=new WeakMap;function $B(e){if(typeof e=="string")return e;if(!lw.has(e)){var t=e.displayName||e.name||"";lw.set(e,t)}return lw.get(e)}var C2={};Object.defineProperty(C2,"__esModule",{value:!0});C2.isReactElement=HB;var VB=Vh.exports;function HB(e){return(0,VB.isElement)(e)}Object.defineProperty(mE,"__esModule",{value:!0});mE.areNodesEqual=gE;var bg=_s.exports,ck=S2,fk=C2;function gE(e,t,r){return(0,fk.isReactElement)(e)&&(0,fk.isReactElement)(t)?qB(e,t,r):Array.isArray(e)&&Array.isArray(t)?QB(e,t,r):pk(e)&&pk(t)?WB(e,t):(0,bg.isEqual)(e,t)}function qB(e,t,r){return GB(e.type,t.type,r)?e.key===t.key&&e.ref===t.ref&&gE(e.props,t.props,r):!1}function GB(e,t,r){return r?e===t:(0,ck.getComponentName)(e)===(0,ck.getComponentName)(t)}function QB(e,t,r){return e.length!==t.length?!1:e.every(function(i,s){return gE(i,t[s],r)})}function pk(e){return(0,bg.isPlainObject)(e)}function WB(e,t){return(0,bg.isEqual)(Object.keys(e),Object.keys(t))?Object.keys(e).every(function(r){return(0,bg.isEqualWith)(e[r],t[r],function(i,s){return typeof i=="function"&&typeof s=="function"?i===s||i.toString()===s.toString():(0,bg.isEqual)(i,s)})}):!1}var E2={},k2={};Object.defineProperty(k2,"__esModule",{value:!0});k2.isMultiFixture=KB;var ZB=Vh.exports;function rS(e){return rS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rS(e)}function KB(e){return e!==null&&rS(e)==="object"&&!(0,ZB.isElement)(e)}Object.defineProperty(E2,"__esModule",{value:!0});E2.getFixtureListFromExports=JB;E2.getFixtureListFromWrappers=YB;var XB=k2;function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function R_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(i){yE(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function yE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){return Object.keys(e).reduce(function(t,r){return R_(R_({},t),{},yE({},r,ez(e[r])))},{})}function JB(e){return Object.keys(e).reduce(function(t,r){return R_(R_({},t),{},yE({},r,oM(e[r])))},{})}function ez(e){return oM(e.module.default)}function oM(e){return(0,XB.isMultiFixture)(e)?{type:"multi",fixtureNames:Object.keys(e)}:{type:"single"}}var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.getSortedDecoratorsForFixturePath=az;function tz(e){return oz(e)||iz(e)||nz(e)||rz()}function rz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nz(e,t){if(!!e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function iz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oz(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(i){aM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function aM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e,t){return cz(sz(t,e))}function sz(e,t){return Object.keys(e).filter(function(r){return uz(lz(r),t)}).reduce(function(r,i){return dk(dk({},r),{},aM({},i,e[i]))},{})}function uz(e,t){return e===""||t.indexOf("".concat(e,"/"))===0}function lz(e){return e.replace(/^((.+)\/)?.+$/,"$2")}function cz(e){return fz(Object.keys(e)).map(function(t){return e[t]})}function fz(e){return tz(e).sort(function(t,r){return mk(t)-mk(r)||t.localeCompare(r)})}function mk(e){return e.split("/").length}var sM={};Object.defineProperty(sM,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReactDecorator",{enumerable:!0,get:function(){return x.ReactDecorator}}),Object.defineProperty(e,"ReactDecoratorProps",{enumerable:!0,get:function(){return x.ReactDecoratorProps}}),Object.defineProperty(e,"ReactDecorators",{enumerable:!0,get:function(){return x.ReactDecorators}}),Object.defineProperty(e,"ReactFixture",{enumerable:!0,get:function(){return x.ReactFixture}}),Object.defineProperty(e,"ReactFixtureExport",{enumerable:!0,get:function(){return x.ReactFixtureExport}}),Object.defineProperty(e,"ReactFixtureExports",{enumerable:!0,get:function(){return x.ReactFixtureExports}}),Object.defineProperty(e,"ReactFixtureMap",{enumerable:!0,get:function(){return x.ReactFixtureMap}}),Object.defineProperty(e,"ReactFixtureModule",{enumerable:!0,get:function(){return x.ReactFixtureModule}}),Object.defineProperty(e,"ReactFixtureWrapper",{enumerable:!0,get:function(){return x.ReactFixtureWrapper}}),Object.defineProperty(e,"ReactFixtureWrappers",{enumerable:!0,get:function(){return x.ReactFixtureWrappers}}),Object.defineProperty(e,"areNodesEqual",{enumerable:!0,get:function(){return t.areNodesEqual}}),Object.defineProperty(e,"getComponentName",{enumerable:!0,get:function(){return r.getComponentName}}),Object.defineProperty(e,"getFixtureListFromExports",{enumerable:!0,get:function(){return i.getFixtureListFromExports}}),Object.defineProperty(e,"getFixtureListFromWrappers",{enumerable:!0,get:function(){return i.getFixtureListFromWrappers}}),Object.defineProperty(e,"getSortedDecoratorsForFixturePath",{enumerable:!0,get:function(){return s.getSortedDecoratorsForFixturePath}}),Object.defineProperty(e,"isMultiFixture",{enumerable:!0,get:function(){return u.isMultiFixture}}),Object.defineProperty(e,"isReactElement",{enumerable:!0,get:function(){return a.isReactElement}});var t=mE,r=S2,i=E2,s=vE,u=k2,a=C2,x=sM})(Dc);var su={};Object.defineProperty(su,"__esModule",{value:!0});su.FixtureContext=void 0;var pz=cr.exports,Az=(0,pz.createContext)({fixtureState:{},setFixtureState:function(){}});su.FixtureContext=Az;var qh={},Sy={},_E={},Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.getChildrenPath=hz;Gh.isRootPath=uM;function hz(e){return uM(e)?"props.children":"".concat(e,".props.children")}function uM(e){return e===""}Object.defineProperty(_E,"__esModule",{value:!0});_E.findElementPaths=oS;var dz=_s.exports,mz=cr.exports,gz=Dc,yz=Gh;function vz(e){return wz(e)||bz(e)||xz(e)||_z()}function _z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(e,t){if(!!e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function bz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wz(e){if(Array.isArray(e))return iS(e)}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function oS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Array.isArray(e))return(0,dz.flatten)(e.map(function(s,u){return oS(s,"".concat(t,"[").concat(u,"]"))}));if(!(0,gz.isReactElement)(e))return[];var r=e.props.children,i=typeof r!="function"?oS(r,(0,yz.getChildrenPath)(t)):[];return e.type===mz.Fragment?i:[t].concat(vz(i))}var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.getElementAtPath=lM;Cy.getExpectedElementAtPath=Ez;var Sz=_s.exports,gk=Dc,Cz=Gh;function lM(e,t){if(!(0,gk.isReactElement)(e)&&!Array.isArray(e))return null;var r=e,i=(0,Cz.isRootPath)(t)?r:(0,Sz.get)(r,t);return(0,gk.isReactElement)(i)?i:null}function Ez(e,t){var r=lM(e,t);if(!r)throw new Error("Element not found at path: ".concat(t));return r}var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.setElementAtPath=Dz;var kz=_s.exports,Tz=Dc,Pz=Cy,Iz=Gh,Oz=["children"];function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function l1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(i){Mz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Mz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e,t){if(e==null)return{};var r=Lz(e,t),i,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(s=0;s<u.length;s++)i=u[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function Lz(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Dz(e,t,r){var i=(0,Pz.getExpectedElementAtPath)(e,t),s=r(i);return(0,Iz.isRootPath)(t)?s:(0,kz.set)(aS(e),t,s)}function aS(e){if(Array.isArray(e))return e.map(function(s){return aS(s)});if((0,Tz.isReactElement)(e)){var t=e.props,r=t.children,i=Rz(t,Oz);return l1(l1({},e),{},{props:l1(l1({},i),{},{children:aS(r)})})}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"findElementPaths",{enumerable:!0,get:function(){return t.findElementPaths}}),Object.defineProperty(e,"getChildrenPath",{enumerable:!0,get:function(){return s.getChildrenPath}}),Object.defineProperty(e,"getElementAtPath",{enumerable:!0,get:function(){return r.getElementAtPath}}),Object.defineProperty(e,"getExpectedElementAtPath",{enumerable:!0,get:function(){return r.getExpectedElementAtPath}}),Object.defineProperty(e,"setElementAtPath",{enumerable:!0,get:function(){return i.setElementAtPath}});var t=_E,r=Cy,i=xE,s=Gh})(Sy);Object.defineProperty(qh,"__esModule",{value:!0});qh.findRelevantElementPaths=Fz;var vk=Sy;function sS(e){return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(e)}function Fz(e){var t=(0,vk.findElementPaths)(e);return t.filter(function(r){var i=(0,vk.getExpectedElementAtPath)(e,r),s=i.type;if(sS(s)==="symbol")return!1;if(typeof s=="string")return Bz(s);var u=s;return u.cosmosCapture!==!1&&zz(u)})}function Bz(e){return e!=="div"&&e!=="span"}function zz(e){return e.name!=="StyledComponent"}var bE={},wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.isRefSupported=$z;var Nz=jz(cr.exports),Uz=Vh.exports;function jz(e){return e&&e.__esModule?e:{default:e}}function $z(e){if(typeof e=="string")return!1;var t=e,r=t.$$typeof,i=t.prototype;return r===Uz.ForwardRef||i&&(i instanceof Nz.default.Component||i.getInitialState!==void 0)&&!0}Object.defineProperty(bE,"__esModule",{value:!0});bE.decorateFixtureRefs=Wz;var Vz=Qz(cr.exports),Hz=Sy,qz=qh,Gz=wE;function Qz(e){return e&&e.__esModule?e:{default:e}}function Wz(e,t,r){var i=(0,qz.findRelevantElementPaths)(e);return i.reduce(function(s,u){return(0,Hz.setElementAtPath)(s,u,function(a){return(0,Gz.isRefSupported)(a.type)?Vz.default.cloneElement(a,{ref:Zz(a.ref,t,u,r)}):a})},e)}function Zz(e,t,r,i){var s=i[r];if(s&&s.origRef===e)return s.handler;var u=Kz(e,t,r);return i[r]={origRef:e,handler:u},u}function Kz(e,t,r){return function(i){e&&Xz(e,i),t(r,i)}}function Xz(e,t){if(typeof e=="string"){console.warn("[decorateFixtureRefs] String refs are not supported");return}if(typeof e=="function"){e(t);return}var r=e;r.current=t}var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.replaceState=Jz;var Yz=_s.exports;function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(i){cM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function cM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e,t){var r=eN(e.state,t);(0,Yz.isEqual)(r,e.state)||e.setState(r)}function eN(e,t){return Object.keys(e).reduce(function(r,i){return Object.keys(r).indexOf(i)===-1?xk(xk({},r),{},cM({},i,void 0)):r},t)}Object.defineProperty(sE,"__esModule",{value:!0});sE.useFixtureState=aN;var bk=_s.exports,hp=iN(cr.exports),wc=Rc,wk=Dc,tN=su,rN=qh,nN=bE,cw=SE;function iN(e){return e&&e.__esModule?e:{default:e}}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(i){oN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function oN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aN(e,t,r){var i=(0,rN.findRelevantElementPaths)(e),s=hp.default.useContext(tN.FixtureContext),u=s.fixtureState,a=s.setFixtureState,x=sN(u),S=hp.default.useRef(u),P=hp.default.useRef({}),R=hp.default.useRef({});return hp.default.useEffect(function(){return function(){P.current={},R.current={}}},[]),hp.default.useEffect(function(){var N=(0,wc.getFixtureStateClassState)(u,t);N.forEach(function($){var Z=$.elementId,J=Z.elPath;i.indexOf(Z.elPath)===-1&&(a(function(ae){return Od(Od({},ae),{},{classState:(0,wc.removeFixtureStateClassState)(u,Z)})}),r.current[J]&&(delete r.current[J],delete P.current[J],delete R.current[J]))}),i.forEach(function($){var Z={decoratorId:t,elPath:$},J=(0,wc.findFixtureStateClassState)(u,Z);if(J){var K=r.current[$];if(!K)return;var ue=(0,wc.findFixtureStateClassState)(S.current,Z);if(ue&&!(0,bk.isEqual)(ue,J))return(0,cw.replaceState)(K,(0,wc.extendWithValues)(K.state,J.values))}else if(P.current[$]){var ae=P.current[$].state,V=r.current[$];(0,bk.isEqual)(V.state,ae)||(0,cw.replaceState)(V,ae),a(function(ge){return Od(Od({},ge),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:ge,elementId:Z,values:(0,wc.createValues)(ae),componentName:(0,wk.getComponentName)(V.constructor)})})})}})},[t,i,r,u,u.classState,a]),hp.default.useEffect(function(){S.current=u}),(0,nN.decorateFixtureRefs)(e,z,R.current);function z(N,$){if(!$){delete r.current[N];return}var Z=$.state;if(!!Z){r.current[N]=$,uN(P.current,N,$);var J={decoratorId:t,elPath:N},ae=(0,wc.findFixtureStateClassState)(x.current,J);ae?(0,cw.replaceState)($,(0,wc.extendWithValues)(Z,ae.values)):a(function(V){return Od(Od({},V),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:V,elementId:J,values:(0,wc.createValues)(Z),componentName:(0,wk.getComponentName)($.constructor)})})})}}}function sN(e){var t=hp.default.useRef(e);return hp.default.useEffect(function(){t.current=e}),t}function uN(e,t,r){var i=e[t],s=r.constructor,u=i&&i.type===s;!u&&r.state&&(e[t]={type:s,state:r.state})}var CE={};Object.defineProperty(CE,"__esModule",{value:!0});CE.useReadClassState=mN;var lN=_s.exports,fw=pN(cr.exports),Y1=Rc,cN=su,fN=qh;function pN(e){return e&&e.__esModule?e:{default:e}}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(i){AN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function AN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kk(e,t,r,i,s,u,a){try{var x=e[u](a),S=x.value}catch(P){r(P);return}x.done?t(S):Promise.resolve(S).then(i,s)}function hN(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var u=e.apply(t,r);function a(S){kk(u,i,s,a,x,"next",S)}function x(S){kk(u,i,s,a,x,"throw",S)}a(void 0)})}}var dN=200;function mN(e,t,r){var i=(0,fN.findRelevantElementPaths)(e),s=fw.default.useContext(cN.FixtureContext),u=s.fixtureState,a=s.setFixtureState,x=fw.default.useRef(null);fw.default.useEffect(function(){return S(),function(){x.current&&clearTimeout(x.current)}});function S(){x.current=window.setTimeout(P,dN)}function P(){var R=!1;Object.keys(r.current).map(function(){var z=hN(regeneratorRuntime.mark(function N($){var Z,J,ae;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(i.indexOf($)!==-1){K.next=2;break}throw new Error('[FixtureCapture] Child ref exists for missing element path "'.concat($,'"'));case 2:Z=r.current[$].state,J={decoratorId:t,elPath:$},ae=(0,Y1.findFixtureStateClassState)(u,J),ae&&Z&&!gN(ae,Z)&&(R=!0,a(function(ue){return Ek(Ek({},ue),{},{classState:(0,Y1.updateFixtureStateClassState)({fixtureState:ue,elementId:J,values:(0,Y1.createValues)(Z)})})}));case 6:case"end":return K.stop()}},N)}));return function(N){return z.apply(this,arguments)}}()),R||S()}}function gN(e,t){return(0,lN.isEqual)(t,(0,Y1.extendWithValues)(t,e.values))}Object.defineProperty(aE,"__esModule",{value:!0});aE.useClassStateCapture=xN;var Tk=_N(cr.exports),yN=sE,vN=CE;function _N(e){return e&&e.__esModule?e:{default:e}}function xN(e,t){var r=Tk.default.useRef({});return Tk.default.useEffect(function(){return function(){r.current={}}},[]),(0,vN.useReadClassState)(e,t,r),(0,yN.useFixtureState)(e,t,r)}var EE={},kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.useFixtureProps=kN;var Pk=_s.exports,bN=CN(cr.exports),pw=Rc,wN=Dc,SN=qh,fM=Sy;function CN(e){return e&&e.__esModule?e:{default:e}}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(i){EN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function EN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kN(e,t,r){var i=bN.default.useMemo(function(){return{}},[r]),s=(0,SN.findRelevantElementPaths)(e);return s.reduce(function(u,a){var x={decoratorId:r,elPath:a},S=(0,pw.findFixtureStateProps)(t,x);return(0,fM.setElementAtPath)(u,a,function(P){if(!S||$(S.componentName))return Md(Md({},P),{},{key:Ok(a,pw.DEFAULT_RENDER_KEY)});var R=P.props,z=(0,pw.extendWithValues)(R,S.values),N=(0,Pk.mapValues)(z,function(Z,J){var ae=TN(a,J);return i.hasOwnProperty(ae)||(i[ae]=R[J]),(0,Pk.isEqual)(i[ae],Z)?i[ae]:(i[ae]=Z,Z)});return Md(Md({},P),{},{props:PN(s,a)?Md(Md({},N),{},{children:R.children}):N,key:Ok(a,S.renderKey)});function $(Z){return Z!==(0,wN.getComponentName)(P.type)}})},e)}function TN(e,t){return e?"".concat(e,"-").concat(t):t}function Ok(e,t){return"".concat(e,"-").concat(t)}function PN(e,t){return e.some(function(r){return r.indexOf((0,fM.getChildrenPath)(t))===0})}Object.defineProperty(EE,"__esModule",{value:!0});EE.usePropsCapture=DN;var c1=RN(cr.exports),xh=Rc,Mk=Dc,IN=su,ON=qh,Rk=Sy,MN=kE;function RN(e){return e&&e.__esModule?e:{default:e}}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(i){LN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function LN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DN(e,t){var r=c1.default.useContext(IN.FixtureContext),i=r.fixtureState,s=r.setFixtureState,u=c1.default.useRef(e),a=(0,ON.findRelevantElementPaths)(e);return c1.default.useEffect(function(){if(!i.props&&a.length===0){s(function(S){return AA(AA({},S),{},{props:S.props||[]})});return}var x=(0,xh.getFixtureStateProps)(i,t);x.forEach(function(S){var P=S.elementId;a.indexOf(P.elPath)===-1&&s(function(R){return AA(AA({},R),{},{props:(0,xh.removeFixtureStateProps)(i,P)})})}),a.forEach(function(S){var P=(0,Rk.getExpectedElementAtPath)(e,S),R={decoratorId:t,elPath:S};if((0,xh.findFixtureStateProps)(i,R)){var N=(0,Rk.getElementAtPath)(u.current,S);(0,Mk.areNodesEqual)(N,P,!1)||s(function($){return AA(AA({},$),{},{props:(0,xh.updateFixtureStateProps)({fixtureState:i,elementId:R,values:(0,xh.createValues)(P.props)})})})}else{var z=(0,Mk.getComponentName)(P.type);s(function($){return AA(AA({},$),{},{props:(0,xh.createFixtureStateProps)({fixtureState:$,elementId:R,values:(0,xh.createValues)(P.props),componentName:z})})})}})},[e,t,a,i,i.props,s]),c1.default.useEffect(function(){u.current=e}),(0,MN.useFixtureProps)(e,i,t)}Object.defineProperty(m2,"__esModule",{value:!0});m2.FixtureCapture=NN;var Dk=zN(cr.exports),FN=aE,BN=EE;function zN(e){return e&&e.__esModule?e:{default:e}}function NN(e){var t=e.children,r=e.decoratorId,i=(0,BN.usePropsCapture)(t,r);return i=(0,FN.useClassStateCapture)(i,r),Dk.default.createElement(Dk.default.Fragment,null,i)}var T2={},TE={};Object.defineProperty(TE,"__esModule",{value:!0});TE.getFixture=UN;var Fk=Dc;function UN(e,t){if(t===void 0)return(0,Fk.isMultiFixture)(e)?void 0:e;if(!!(0,Fk.isMultiFixture)(e)){var r=e;return r[t]}}var PE={},P2={},IE={};Object.defineProperty(IE,"__esModule",{value:!0});IE.FixtureElement=pM;var jN=$N(cr.exports);function $N(e){return e&&e.__esModule?e:{default:e}}function pM(e){var t=e.Component;return jN.default.createElement(t,null)}pM.cosmosCapture=!1;Object.defineProperty(P2,"__esModule",{value:!0});P2.getDecoratedFixtureElement=XN;var uS=qN(cr.exports),VN=m2,HN=IE;function qN(e){return e&&e.__esModule?e:{default:e}}function GN(e){return KN(e)||ZN(e)||WN(e)||QN()}function QN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WN(e,t){if(!!e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function ZN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KN(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function XN(e,t,r){var i=uS.default.createElement(VN.FixtureCapture,{decoratorId:"root"},YN(e));return GN(t).reverse().reduce(function(s,u){return uS.default.createElement(u,r,s)},i)}function YN(e){return JN(e)?uS.default.createElement(HN.FixtureElement,{Component:e}):e}function JN(e){return typeof e=="function"}Object.defineProperty(PE,"__esModule",{value:!0});PE.FixtureProvider=uU;var Hm=nU(cr.exports),eU=Dc,tU=su,rU=P2;function nU(e){return e&&e.__esModule?e:{default:e}}function Bk(e){return sU(e)||aU(e)||oU(e)||iU()}function iU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oU(e,t){if(!!e){if(typeof e=="string")return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(e,t)}}function aU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sU(e){if(Array.isArray(e))return cS(e)}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function uU(e){var t=e.fixtureId,r=e.fixture,i=e.systemDecorators,s=e.userDecorators,u=e.fixtureState,a=e.setFixtureState,x=e.onErrorReset,S=Hm.default.useMemo(function(){return{fixtureState:u,setFixtureState:a}},[u,a]),P=Hm.default.useMemo(function(){return{fixtureState:u,setFixtureState:a,onErrorReset:x}},[u,x,a]),R=Hm.default.useMemo(function(){return lU(t,i,s)},[t,i,s]),z=Hm.default.useMemo(function(){return(0,rU.getDecoratedFixtureElement)(r,R,P)},[P,R,r]);return Hm.default.createElement(tU.FixtureContext.Provider,{value:S},z)}function lU(e,t,r){return[].concat(Bk(t),Bk((0,eU.getSortedDecoratorsForFixturePath)(e.path,r)))}function L_(e){return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L_(e)}Object.defineProperty(T2,"__esModule",{value:!0});T2.FixtureLoader=void 0;var qm=_s.exports,zk=AU(cr.exports),cU=Dc,fU=TE,pU=PE;function AM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(AM=function(s){return s?r:t})(e)}function AU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||L_(e)!=="object"&&typeof e!="function")return{default:e};var r=AM(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var a=s?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(i,u,a):i[u]=e[u]}return i.default=e,r&&r.set(e,i),i}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function f1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(i){Qd(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function hU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uk(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dU(e,t,r){return t&&Uk(e.prototype,t),r&&Uk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},fS(e,t)}function gU(e){var t=vU();return function(){var i=D_(e),s;if(t){var u=D_(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return yU(this,s)}}function yU(e,t){if(t&&(L_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gd(e)}function Gd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},D_(e)}function Qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){return e?{fixtureId:e,fixtureState:{},syncedFixtureState:{}}:null}var xU=function(e){mU(r,e);var t=gU(r);function r(){var i;hU(this,r);for(var s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];return i=t.call.apply(t,[this].concat(u)),Qd(Gd(i),"state",{selectedFixture:_U(i.props.selectedFixtureId||i.props.initialFixtureId),renderKey:0}),Qd(Gd(i),"unsubscribe",null),Qd(Gd(i),"handleRequest",function(x){if(x.type==="pingRenderers")return i.postReadyState();if(!(!x.payload||x.payload.rendererId!==i.props.rendererId))switch(bU(x)&&i.fireChangeCallback(),x.type){case"selectFixture":return i.handleSelectFixtureRequest(x);case"unselectFixture":return i.handleUnselectFixtureRequest();case"setFixtureState":return i.handleSetFixtureStateRequest(x)}}),Qd(Gd(i),"postFixtureStateChange",function(x,S){var P=i.props.rendererId;i.postMessage({type:"fixtureStateChange",payload:{rendererId:P,fixtureId:x,fixtureState:S}})}),Qd(Gd(i),"setFixtureState",function(x){if(!i.state.selectedFixture){console.warn("[FixtureLoader] Trying to set fixture state with no fixture selected");return}i.setState(function(S){var P=S.selectedFixture;return P?{selectedFixture:f1(f1({},P),{},{fixtureState:x(P.fixtureState)})}:null})}),i}return dU(r,[{key:"componentDidMount",value:function(){if(!this.props.selectedFixtureId){var s=this.props.rendererConnect;this.unsubscribe=s.onMessage(this.handleRequest),this.postReadyState()}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"componentDidUpdate",value:function(s){var u=this.props.fixtures;(0,qm.isEqual)(u,s.fixtures)||this.postFixtureListUpdate();var a=this.state.selectedFixture;if(a){var x=a.fixtureId,S=a.fixtureState,P=a.syncedFixtureState;x&&!(0,qm.isEqual)(S,P)&&(this.postFixtureStateChange(x,S),this.updateSyncedFixtureState(S))}}},{key:"shouldComponentUpdate",value:function(s,u){return!(0,qm.isEqual)(this.props,s)||!(0,qm.isEqual)(this.state,u)}},{key:"render",value:function(){var s=this.state.selectedFixture;if(!s)return this.renderMessage("No fixture selected.");var u=this.props.fixtures,a=s.fixtureId,x=s.fixtureState;if(!u.hasOwnProperty(a.path))return this.renderMessage("Fixture path not found: ".concat(a.path));var S=u[a.path].module.default,P=(0,fU.getFixture)(S,a.name);if(typeof P>"u")return this.renderMessage("Invalid fixture ID: ".concat(JSON.stringify(a)));var R=this.props,z=R.systemDecorators,N=R.userDecorators,$=R.onErrorReset,Z=this.state.renderKey;return zk.default.createElement(pU.FixtureProvider,{key:Z,fixtureId:a,fixture:P,systemDecorators:z,userDecorators:N,fixtureState:x,setFixtureState:this.setFixtureState,onErrorReset:$||wU})}},{key:"handleSelectFixtureRequest",value:function(s){var u=s.payload,a=u.fixtureId,x=u.fixtureState;this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x},renderKey:this.state.renderKey+1})}},{key:"handleUnselectFixtureRequest",value:function(){this.setState({selectedFixture:null,renderKey:0})}},{key:"handleSetFixtureStateRequest",value:function(s){var u=s.payload,a=u.fixtureId,x=u.fixtureState,S=this.state.selectedFixture;S&&(0,qm.isEqual)(a,S.fixtureId)&&this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x}})}},{key:"postReadyState",value:function(){var s=this.props,u=s.rendererId,a=s.initialFixtureId,x=this.getFixtureList();this.postMessage({type:"rendererReady",payload:a?{rendererId:u,fixtures:x,initialFixtureId:a}:{rendererId:u,fixtures:x}})}},{key:"postFixtureListUpdate",value:function(){var s=this.props.rendererId;this.postMessage({type:"fixtureListUpdate",payload:{rendererId:s,fixtures:this.getFixtureList()}})}},{key:"getFixtureList",value:function(){return(0,cU.getFixtureListFromWrappers)(this.props.fixtures)}},{key:"fireChangeCallback",value:function(){var s=this.props.onErrorReset;typeof s=="function"&&s()}},{key:"updateSyncedFixtureState",value:function(s){this.setState(function(u){var a=u.selectedFixture;return a?{selectedFixture:f1(f1({},a),{},{syncedFixtureState:s})}:null})}},{key:"postMessage",value:function(s){this.props.rendererConnect.postMessage(s)}},{key:"renderMessage",value:function(s){return typeof this.props.renderMessage<"u"?this.props.renderMessage({msg:s}):s}}]),r}(zk.Component);T2.FixtureLoader=xU;function bU(e){return e.type==="selectFixture"||e.type==="unselectFixture"}function wU(){}var OE={},ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.registerShortcuts=SU;function SU(e){window.addEventListener("keydown",r);function t(i,s){i.preventDefault(),e(s)}function r(i){if(!CU()){var s=String.fromCharCode(i.keyCode),u=i.metaKey||i.ctrlKey;s==="P"&&u?t(i,"searchFixtures"):s==="L"&&u&&i.shiftKey?t(i,"toggleFixtureList"):s==="K"&&u&&i.shiftKey?t(i,"toggleControlPanel"):s==="F"&&u&&i.shiftKey?t(i,"goFullScreen"):s==="E"&&u&&i.shiftKey&&t(i,"editFixture")}}return function(){window.removeEventListener("keydown",r)}}function CU(){var e=document.activeElement;return e&&EU(e.tagName)}function EU(e){var t=["input","textarea","select"];return t.includes(e.toLowerCase())}Object.defineProperty(OE,"__esModule",{value:!0});OE.createPostMessageConnect=TU;var kU=ME;function TU(){function e(t){parent.postMessage(t,"*")}return{postMessage:e,onMessage:function(r){function i(u){r(u.data)}window.addEventListener("message",i,!1);var s=(0,kU.registerShortcuts)(function(u){e({type:"playgroundCommand",payload:{command:u}})});return function(){window.removeEventListener("message",i),s()}}}}var RE={},LE={},I2={};Object.defineProperty(I2,"__esModule",{value:!0});I2.getDefaultSelectValue=PU;function PU(e){var t=e.options,r=e.defaultValue;return typeof r=="string"?r:t[0]}function pS(e){return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pS(e)}Object.defineProperty(LE,"__esModule",{value:!0});LE.useCreateFixtureState=LU;var jk=RU(cr.exports),IU=Rc,OU=su,MU=I2;function hM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(hM=function(s){return s?r:t})(e)}function RU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||pS(e)!=="object"&&typeof e!="function")return{default:e};var r=hM(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var a=s?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(i,u,a):i[u]=e[u]}return i.default=e,r&&r.set(e,i),i}function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(i){dM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function dM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e,t){var r=jk.default.useContext(OU.FixtureContext),i=r.setFixtureState,s=(0,MU.getDefaultSelectValue)(t);(0,jk.useEffect)(function(){i(function(u){var a=(0,IU.findFixtureStateControl)(u,e);return a&&a.type==="select"&&a.defaultValue===s?u:p1(p1({},u),{},{controls:p1(p1({},u.controls),{},dM({},e,{type:"select",options:t.options,defaultValue:s,currentValue:s}))})})},[t.options,s,e,i])}var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.useCurrentValue=NU;var DU=cr.exports,FU=Rc,BU=su,zU=I2;function NU(e,t){var r=(0,DU.useContext)(BU.FixtureContext),i=r.fixtureState,s=(0,FU.findFixtureStateControl)(i,e);return s&&s.type==="select"?s.currentValue:(0,zU.getDefaultSelectValue)(t)}var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.useSetValue=$U;var Vk=cr.exports,UU=Rc,jU=su;function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(i){mM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function mM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=(0,Vk.useContext)(jU.FixtureContext),r=t.setFixtureState;return(0,Vk.useCallback)(function(i){r(function(s){var u=(0,UU.findFixtureStateControl)(s,e);return!u||u.type!=="select"?(console.warn("Invalid fixture state for select: ".concat(e)),s):Rd(Rd({},s),{},{controls:Rd(Rd({},s.controls),{},mM({},e,Rd(Rd({},u),{},{currentValue:i})))})})},[e,r])}Object.defineProperty(RE,"__esModule",{value:!0});RE.useSelect=GU;var VU=LE,HU=DE,qU=FE;function GU(e,t){if(!t||!t.options||!t.options.length)throw new Error("No options provided to useSelect");(0,VU.useCreateFixtureState)(e,t);var r=(0,HU.useCurrentValue)(e,t),i=(0,qU.useSetValue)(e);return[r,i]}var BE={},zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.useCreateFixtureState=KU;var QU=_s.exports,qk=ZU(cr.exports),J1=Rc,WU=su;function ZU(e){return e&&e.__esModule?e:{default:e}}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(i){gM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function gM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e,t){var r=qk.default.useContext(WU.FixtureContext),i=r.setFixtureState;qk.default.useEffect(function(){i(function(s){var u=(0,J1.findFixtureStateControl)(s,e);return u&&u.type==="standard"&&XU(u.defaultValue,t)?s:A1(A1({},s),{},{controls:A1(A1({},s.controls),{},gM({},e,{type:"standard",defaultValue:(0,J1.createValue)(t),currentValue:(0,J1.createValue)(t)}))})})},[i,e,t])}function XU(e,t){return(0,QU.isEqual)(t,(0,J1.extendWithValue)(t,e))}var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.useCurrentValue=tj;var YU=ej(cr.exports),Qk=Rc,JU=su;function ej(e){return e&&e.__esModule?e:{default:e}}function tj(e,t){var r=YU.default.useContext(JU.FixtureContext),i=r.fixtureState,s=(0,Qk.findFixtureStateControl)(i,e);return s&&s.type==="standard"?(0,Qk.extendWithValue)(t,s.currentValue):t}var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.useSetValue=ij;var Wk=nj(cr.exports),F_=Rc,rj=su;function nj(e){return e&&e.__esModule?e:{default:e}}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function h1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(i){yM(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function yM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ij(e,t){var r=Wk.default.useContext(rj.FixtureContext),i=r.setFixtureState;return Wk.default.useCallback(function(s){i(function(u){var a=typeof s=="function"?s(oj(u,e,t)):s;return h1(h1({},u),{},{controls:h1(h1({},u.controls),{},yM({},e,{type:"standard",defaultValue:(0,F_.createValue)(t),currentValue:(0,F_.createValue)(a)}))})})},[i,t,e])}function oj(e,t,r){var i=(0,F_.findFixtureStateControl)(e,t);return i&&i.type==="standard"?(0,F_.extendWithValue)(r,i.currentValue):r}Object.defineProperty(BE,"__esModule",{value:!0});BE.useValue=lj;var aj=zE,sj=NE,uj=UE;function lj(e,t){var r=t.defaultValue;(0,aj.useCreateFixtureState)(e,r);var i=(0,sj.useCurrentValue)(e,r),s=(0,uj.useSetValue)(e,r);return[i,s]}var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.Viewport=void 0;var d1=fj(cr.exports),cj=su;function fj(e){return e&&e.__esModule?e:{default:e}}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(i){pj(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function pj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vM=function(t){var r=t.children,i=t.width,s=t.height,u=d1.default.useContext(cj.FixtureContext),a=u.setFixtureState;return d1.default.useEffect(function(){a(function(x){return Xk(Xk({},x),{},{viewport:{width:i,height:s}})})},[a,i,s]),d1.default.createElement(d1.default.Fragment,null,r)};O2.Viewport=vM;vM.cosmosCapture=!1;var jE={},AS={exports:{}},Aj=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_M=function(t){var r=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var u=Aj.exec(t||""),a={},x=14;x--;)a[hj[x]]=u[x]||"";return i!=-1&&s!=-1&&(a.source=r,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a},P0={exports:{}},hS={exports:{}},Qg=1e3,Wg=Qg*60,Zg=Wg*60,Kg=Zg*24,dj=Kg*365.25,mj=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return gj(e);if(r==="number"&&isNaN(e)===!1)return t.long?vj(e):yj(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function gj(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*dj;case"days":case"day":case"d":return r*Kg;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Zg;case"minutes":case"minute":case"mins":case"min":case"m":return r*Wg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Qg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function yj(e){return e>=Kg?Math.round(e/Kg)+"d":e>=Zg?Math.round(e/Zg)+"h":e>=Wg?Math.round(e/Wg)+"m":e>=Qg?Math.round(e/Qg)+"s":e+"ms"}function vj(e){return m1(e,Kg,"day")||m1(e,Zg,"hour")||m1(e,Wg,"minute")||m1(e,Qg,"second")||e+" ms"}function m1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=u,t.enabled=x,t.humanize=mj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(ue,ge){if(ue==="%%")return ue;V++;var he=t.formatters[ge];if(typeof he=="function"){var le=J[V];ue=he.call(N,le),J.splice(V,1),V--}return ue}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function u(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(hS,hS.exports);(function(e,t){t=e.exports=hS.exports,t.log=s,t.formatArgs=i,t.save=u,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(P0,P0.exports);var _j=_M,Yk=P0.exports("socket.io-client:url"),xj=bj;function bj(e,t){var r=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(Yk("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),Yk("parse %s",e),r=_j(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=r.host.indexOf(":")!==-1,s=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}var M2={},dS={exports:{}},mS={exports:{}},Xg=1e3,Yg=Xg*60,Jg=Yg*60,ey=Jg*24,wj=ey*365.25,Sj=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Cj(e);if(r==="number"&&isNaN(e)===!1)return t.long?kj(e):Ej(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Cj(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*wj;case"days":case"day":case"d":return r*ey;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Jg;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Xg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ej(e){return e>=ey?Math.round(e/ey)+"d":e>=Jg?Math.round(e/Jg)+"h":e>=Yg?Math.round(e/Yg)+"m":e>=Xg?Math.round(e/Xg)+"s":e+"ms"}function kj(e){return g1(e,ey,"day")||g1(e,Jg,"hour")||g1(e,Yg,"minute")||g1(e,Xg,"second")||e+" ms"}function g1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=u,t.enabled=x,t.humanize=Sj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(ue,ge){if(ue==="%%")return ue;V++;var he=t.formatters[ge];if(typeof he=="function"){var le=J[V];ue=he.call(N,le),J.splice(V,1),V--}return ue}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function u(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(mS,mS.exports);(function(e,t){t=e.exports=mS.exports,t.log=s,t.formatArgs=i,t.save=u,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(dS,dS.exports);var xM={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function u(){this.off(i,u),s.apply(this,arguments)}return u.fn=s,this.on(i,u),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+i];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<u.length;x++)if(a=u[x],a===s||a.fn===s){u.splice(x,1);break}return u.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),u=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(u){u=u.slice(0);for(var a=0,x=u.length;a<x;++a)u[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(xM);var R2={},Tj={}.toString,$E=Array.isArray||function(e){return Tj.call(e)=="[object Array]"},bM=Mj,Pj=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",Ij=typeof ArrayBuffer=="function",Oj=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function Mj(e){return Pj&&Buffer.isBuffer(e)||Ij&&(e instanceof ArrayBuffer||Oj(e))}var VE=$E,wM=bM,SM=Object.prototype.toString,Rj=typeof Blob=="function"||typeof Blob<"u"&&SM.call(Blob)==="[object BlobConstructor]",Lj=typeof File=="function"||typeof File<"u"&&SM.call(File)==="[object FileConstructor]";R2.deconstructPacket=function(e){var t=[],r=e.data,i=e;return i.data=gS(r,t),i.attachments=t.length,{packet:i,buffers:t}};function gS(e,t){if(!e)return e;if(wM(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(VE(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=gS(e[s],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){var i={};for(var u in e)i[u]=gS(e[u],t);return i}return e}R2.reconstructPacket=function(e,t){return e.data=yS(e.data,t),e.attachments=void 0,e};function yS(e,t){if(!e)return e;if(e&&e._placeholder===!0){var r=typeof e.num=="number"&&e.num>=0&&e.num<t.length;if(r)return t[e.num];throw new Error("illegal attachments")}else if(VE(e))for(var i=0;i<e.length;i++)e[i]=yS(e[i],t);else if(typeof e=="object")for(var s in e)e[s]=yS(e[s],t);return e}R2.removeBlobs=function(e,t){function r(u,a,x){if(!u)return u;if(Rj&&u instanceof Blob||Lj&&u instanceof File){i++;var S=new FileReader;S.onload=function(){x?x[a]=this.result:s=this.result,--i||t(s)},S.readAsArrayBuffer(u)}else if(VE(u))for(var P=0;P<u.length;P++)r(u[P],P,u);else if(typeof u=="object"&&!wM(u))for(var R in u)r(u[R],R,u)}var i=0,s=e;r(s),i||t(s)};(function(e){var t=dS.exports("socket.io-parser"),r=xM.exports,i=R2,s=$E,u=bM;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=a,e.Decoder=z;function a(){}var x=e.ERROR+'"encode error"';a.prototype.encode=function(ae,V){if(t("encoding packet %j",ae),e.BINARY_EVENT===ae.type||e.BINARY_ACK===ae.type)R(ae,V);else{var K=S(ae);V([K])}};function S(ae){var V=""+ae.type;if((e.BINARY_EVENT===ae.type||e.BINARY_ACK===ae.type)&&(V+=ae.attachments+"-"),ae.nsp&&ae.nsp!=="/"&&(V+=ae.nsp+","),ae.id!=null&&(V+=ae.id),ae.data!=null){var K=P(ae.data);if(K!==!1)V+=K;else return x}return t("encoded %j as %s",ae,V),V}function P(ae){try{return JSON.stringify(ae)}catch{return!1}}function R(ae,V){function K(ue){var ge=i.deconstructPacket(ue),he=S(ge.packet),le=ge.buffers;le.unshift(he),V(le)}i.removeBlobs(ae,K)}function z(){this.reconstructor=null}r(z.prototype),z.prototype.add=function(ae){var V;if(typeof ae=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");V=N(ae),e.BINARY_EVENT===V.type||e.BINARY_ACK===V.type?(this.reconstructor=new Z(V),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",V)):this.emit("decoded",V)}else if(u(ae)||ae.base64)if(this.reconstructor)V=this.reconstructor.takeBinaryData(ae),V&&(this.reconstructor=null,this.emit("decoded",V));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+ae)};function N(ae){var V=0,K={type:Number(ae.charAt(0))};if(e.types[K.type]==null)return J("unknown packet type "+K.type);if(e.BINARY_EVENT===K.type||e.BINARY_ACK===K.type){for(var ue=V+1;ae.charAt(++V)!=="-"&&V!=ae.length;);var ge=ae.substring(ue,V);if(ge!=Number(ge)||ae.charAt(V)!=="-")throw new Error("Illegal attachments");K.attachments=Number(ge)}if(ae.charAt(V+1)==="/"){for(var ue=V+1;++V;){var he=ae.charAt(V);if(he===","||V===ae.length)break}K.nsp=ae.substring(ue,V)}else K.nsp="/";var le=ae.charAt(V+1);if(le!==""&&Number(le)==le){for(var ue=V+1;++V;){var he=ae.charAt(V);if(he==null||Number(he)!=he){--V;break}if(V===ae.length)break}K.id=Number(ae.substring(ue,V+1))}if(ae.charAt(++V)){var Se=$(ae.substr(V)),Ce=Se!==!1&&(K.type===e.ERROR||s(Se));if(Ce)K.data=Se;else return J("invalid payload")}return t("decoded %s as %j",ae,K),K}function $(ae){try{return JSON.parse(ae)}catch{return!1}}z.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function Z(ae){this.reconPack=ae,this.buffers=[]}Z.prototype.takeBinaryData=function(ae){if(this.buffers.push(ae),this.buffers.length===this.reconPack.attachments){var V=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),V}return null},Z.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function J(ae){return{type:e.ERROR,data:"parser error: "+ae}}})(M2);var CM={exports:{}},L2={},vS={exports:{}};try{vS.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{vS.exports=!1}var Dj=vS.exports,HE=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||Dj))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&i)return new XDomainRequest}catch{}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},qE={exports:{}},Qh={},Fj=Object.keys||function(t){var r=[],i=Object.prototype.hasOwnProperty;for(var s in t)i.call(t,s)&&r.push(s);return r},Bj=$E,EM=Object.prototype.toString,zj=typeof Blob=="function"||typeof Blob<"u"&&EM.call(Blob)==="[object BlobConstructor]",Nj=typeof File=="function"||typeof File<"u"&&EM.call(File)==="[object FileConstructor]",kM=e_;function e_(e){if(!e||typeof e!="object")return!1;if(Bj(e)){for(var t=0,r=e.length;t<r;t++)if(e_(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||zj&&e instanceof Blob||Nj&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return e_(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e_(e[i]))return!0;return!1}var Uj=function(e,t,r){var i=e.byteLength;if(t=t||0,r=r||i,e.slice)return e.slice(t,r);if(t<0&&(t+=i),r<0&&(r+=i),r>i&&(r=i),t>=i||t>=r||i===0)return new ArrayBuffer(0);for(var s=new Uint8Array(e),u=new Uint8Array(r-t),a=t,x=0;a<r;a++,x++)u[x]=s[a];return u.buffer},jj=$j;function $j(e,t,r){var i=!1;return r=r||Vj,s.count=e,e===0?t():s;function s(u,a){if(s.count<=0)throw new Error("after called too many times");--s.count,u?(i=!0,t(u),t=r):s.count===0&&!i&&t(null,a)}}function Vj(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var wA=String.fromCharCode;function TM(e){for(var t=[],r=0,i=e.length,s,u;r<i;)s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<i?(u=e.charCodeAt(r++),(u&64512)==56320?t.push(((s&1023)<<10)+(u&1023)+65536):(t.push(s),r--)):t.push(s);return t}function Hj(e){for(var t=e.length,r=-1,i,s="";++r<t;)i=e[r],i>65535&&(i-=65536,s+=wA(i>>>10&1023|55296),i=56320|i&1023),s+=wA(i);return s}function PM(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Aw(e,t){return wA(e>>t&63|128)}function qj(e,t){if((e&4294967168)==0)return wA(e);var r="";return(e&4294965248)==0?r=wA(e>>6&31|192):(e&4294901760)==0?(PM(e,t)||(e=65533),r=wA(e>>12&15|224),r+=Aw(e,6)):(e&4292870144)==0&&(r=wA(e>>18&7|240),r+=Aw(e,12),r+=Aw(e,6)),r+=wA(e&63|128),r}function Gj(e,t){t=t||{};for(var r=t.strict!==!1,i=TM(e),s=i.length,u=-1,a,x="";++u<s;)a=i[u],x+=qj(a,r);return x}function Ld(){if(EA>=z_)throw Error("Invalid byte index");var e=B_[EA]&255;if(EA++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function Qj(e){var t,r,i,s,u;if(EA>z_)throw Error("Invalid byte index");if(EA==z_)return!1;if(t=B_[EA]&255,EA++,(t&128)==0)return t;if((t&224)==192){if(r=Ld(),u=(t&31)<<6|r,u>=128)return u;throw Error("Invalid continuation byte")}if((t&240)==224){if(r=Ld(),i=Ld(),u=(t&15)<<12|r<<6|i,u>=2048)return PM(u,e)?u:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(r=Ld(),i=Ld(),s=Ld(),u=(t&7)<<18|r<<12|i<<6|s,u>=65536&&u<=1114111))return u;throw Error("Invalid UTF-8 detected")}var B_,z_,EA;function Wj(e,t){t=t||{};var r=t.strict!==!1;B_=TM(e),z_=B_.length,EA=0;for(var i=[],s;(s=Qj(r))!==!1;)i.push(s);return Hj(i)}var Zj={version:"2.1.2",encode:Gj,decode:Wj},y1={},Jk;function Kj(){return Jk||(Jk=1,function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;y1.encode=function(i){var s=new Uint8Array(i),u,a=s.length,x="";for(u=0;u<a;u+=3)x+=e[s[u]>>2],x+=e[(s[u]&3)<<4|s[u+1]>>4],x+=e[(s[u+1]&15)<<2|s[u+2]>>6],x+=e[s[u+2]&63];return a%3===2?x=x.substring(0,x.length-1)+"=":a%3===1&&(x=x.substring(0,x.length-2)+"=="),x},y1.decode=function(i){var s=i.length*.75,u=i.length,a,x=0,S,P,R,z;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var N=new ArrayBuffer(s),$=new Uint8Array(N);for(a=0;a<u;a+=4)S=t[i.charCodeAt(a)],P=t[i.charCodeAt(a+1)],R=t[i.charCodeAt(a+2)],z=t[i.charCodeAt(a+3)],$[x++]=S<<2|P>>4,$[x++]=(P&15)<<4|R>>2,$[x++]=(R&3)<<6|z&63;return N}}()),y1}var hw,e6;function Xj(){if(e6)return hw;e6=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),r=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),i=e&&e.prototype.append&&e.prototype.getBlob;function s(x){return x.map(function(S){if(S.buffer instanceof ArrayBuffer){var P=S.buffer;if(S.byteLength!==P.byteLength){var R=new Uint8Array(S.byteLength);R.set(new Uint8Array(P,S.byteOffset,S.byteLength)),P=R.buffer}return P}return S})}function u(x,S){S=S||{};var P=new e;return s(x).forEach(function(R){P.append(R)}),S.type?P.getBlob(S.type):P.getBlob()}function a(x,S){return new Blob(s(x),S||{})}return typeof Blob<"u"&&(u.prototype=Blob.prototype,a.prototype=Blob.prototype),hw=function(){return t?r?Blob:a:i?u:void 0}(),hw}(function(e){var t=Fj,r=kM,i=Uj,s=jj,u=Zj,a;typeof ArrayBuffer<"u"&&(a=Kj());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),P=x||S;e.protocol=3;var R=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=t(R),N={type:"error",data:"parser error"},$=Xj();e.encodePacket=function(ge,he,le,Se){typeof he=="function"&&(Se=he,he=!1),typeof le=="function"&&(Se=le,le=null);var Ce=ge.data===void 0?void 0:ge.data.buffer||ge.data;if(typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer)return J(ge,he,Se);if(typeof $<"u"&&Ce instanceof $)return V(ge,he,Se);if(Ce&&Ce.base64)return Z(ge,Se);var He=R[ge.type];return ge.data!==void 0&&(He+=le?u.encode(String(ge.data),{strict:!1}):String(ge.data)),Se(""+He)};function Z(ge,he){var le="b"+e.packets[ge.type]+ge.data.data;return he(le)}function J(ge,he,le){if(!he)return e.encodeBase64Packet(ge,le);var Se=ge.data,Ce=new Uint8Array(Se),He=new Uint8Array(1+Se.byteLength);He[0]=R[ge.type];for(var ut=0;ut<Ce.length;ut++)He[ut+1]=Ce[ut];return le(He.buffer)}function ae(ge,he,le){if(!he)return e.encodeBase64Packet(ge,le);var Se=new FileReader;return Se.onload=function(){e.encodePacket({type:ge.type,data:Se.result},he,!0,le)},Se.readAsArrayBuffer(ge.data)}function V(ge,he,le){if(!he)return e.encodeBase64Packet(ge,le);if(P)return ae(ge,he,le);var Se=new Uint8Array(1);Se[0]=R[ge.type];var Ce=new $([Se.buffer,ge.data]);return le(Ce)}e.encodeBase64Packet=function(ge,he){var le="b"+e.packets[ge.type];if(typeof $<"u"&&ge.data instanceof $){var Se=new FileReader;return Se.onload=function(){var st=Se.result.split(",")[1];he(le+st)},Se.readAsDataURL(ge.data)}var Ce;try{Ce=String.fromCharCode.apply(null,new Uint8Array(ge.data))}catch{for(var He=new Uint8Array(ge.data),ut=new Array(He.length),tt=0;tt<He.length;tt++)ut[tt]=He[tt];Ce=String.fromCharCode.apply(null,ut)}return le+=btoa(Ce),he(le)},e.decodePacket=function(ge,he,le){if(ge===void 0)return N;if(typeof ge=="string"){if(ge.charAt(0)==="b")return e.decodeBase64Packet(ge.substr(1),he);if(le&&(ge=K(ge),ge===!1))return N;var Ce=ge.charAt(0);return Number(Ce)!=Ce||!z[Ce]?N:ge.length>1?{type:z[Ce],data:ge.substring(1)}:{type:z[Ce]}}var Se=new Uint8Array(ge),Ce=Se[0],He=i(ge,1);return $&&he==="blob"&&(He=new $([He])),{type:z[Ce],data:He}};function K(ge){try{ge=u.decode(ge,{strict:!1})}catch{return!1}return ge}e.decodeBase64Packet=function(ge,he){var le=z[ge.charAt(0)];if(!a)return{type:le,data:{base64:!0,data:ge.substr(1)}};var Se=a.decode(ge.substr(1));return he==="blob"&&$&&(Se=new $([Se])),{type:le,data:Se}},e.encodePayload=function(ge,he,le){typeof he=="function"&&(le=he,he=null);var Se=r(ge);if(he&&Se)return $&&!P?e.encodePayloadAsBlob(ge,le):e.encodePayloadAsArrayBuffer(ge,le);if(!ge.length)return le("0:");function Ce(ut){return ut.length+":"+ut}function He(ut,tt){e.encodePacket(ut,Se?he:!1,!1,function(st){tt(null,Ce(st))})}ue(ge,He,function(ut,tt){return le(tt.join(""))})};function ue(ge,he,le){for(var Se=new Array(ge.length),Ce=s(ge.length,le),He=function(tt,st,bt){he(st,function(St,Qt){Se[tt]=Qt,bt(St,Se)})},ut=0;ut<ge.length;ut++)He(ut,ge[ut],Ce)}e.decodePayload=function(ge,he,le){if(typeof ge!="string")return e.decodePayloadAsBinary(ge,he,le);typeof he=="function"&&(le=he,he=null);var Se;if(ge==="")return le(N,0,1);for(var Ce="",He,ut,tt=0,st=ge.length;tt<st;tt++){var bt=ge.charAt(tt);if(bt!==":"){Ce+=bt;continue}if(Ce===""||Ce!=(He=Number(Ce))||(ut=ge.substr(tt+1,He),Ce!=ut.length))return le(N,0,1);if(ut.length){if(Se=e.decodePacket(ut,he,!1),N.type===Se.type&&N.data===Se.data)return le(N,0,1);var St=le(Se,tt+He,st);if(St===!1)return}tt+=He,Ce=""}if(Ce!=="")return le(N,0,1)},e.encodePayloadAsArrayBuffer=function(ge,he){if(!ge.length)return he(new ArrayBuffer(0));function le(Se,Ce){e.encodePacket(Se,!0,!0,function(He){return Ce(null,He)})}ue(ge,le,function(Se,Ce){var He=Ce.reduce(function(st,bt){var St;return typeof bt=="string"?St=bt.length:St=bt.byteLength,st+St.toString().length+St+2},0),ut=new Uint8Array(He),tt=0;return Ce.forEach(function(st){var bt=typeof st=="string",St=st;if(bt){for(var wr=new Uint8Array(st.length),Qt=0;Qt<st.length;Qt++)wr[Qt]=st.charCodeAt(Qt);St=wr.buffer}bt?ut[tt++]=0:ut[tt++]=1;for(var fr=St.byteLength.toString(),Qt=0;Qt<fr.length;Qt++)ut[tt++]=parseInt(fr[Qt]);ut[tt++]=255;for(var wr=new Uint8Array(St),Qt=0;Qt<wr.length;Qt++)ut[tt++]=wr[Qt]}),he(ut.buffer)})},e.encodePayloadAsBlob=function(ge,he){function le(Se,Ce){e.encodePacket(Se,!0,!0,function(He){var ut=new Uint8Array(1);if(ut[0]=1,typeof He=="string"){for(var tt=new Uint8Array(He.length),st=0;st<He.length;st++)tt[st]=He.charCodeAt(st);He=tt.buffer,ut[0]=0}for(var bt=He instanceof ArrayBuffer?He.byteLength:He.size,St=bt.toString(),Qt=new Uint8Array(St.length+1),st=0;st<St.length;st++)Qt[st]=parseInt(St[st]);if(Qt[St.length]=255,$){var fr=new $([ut.buffer,Qt.buffer,He]);Ce(null,fr)}})}ue(ge,le,function(Se,Ce){return he(new $(Ce))})},e.decodePayloadAsBinary=function(ge,he,le){typeof he=="function"&&(le=he,he=null);for(var Se=ge,Ce=[];Se.byteLength>0;){for(var He=new Uint8Array(Se),ut=He[0]===0,tt="",st=1;He[st]!==255;st++){if(tt.length>310)return le(N,0,1);tt+=He[st]}Se=i(Se,2+tt.length),tt=parseInt(tt);var bt=i(Se,0,tt);if(ut)try{bt=String.fromCharCode.apply(null,new Uint8Array(bt))}catch{var St=new Uint8Array(bt);bt="";for(var st=0;st<St.length;st++)bt+=String.fromCharCode(St[st])}Ce.push(bt),Se=i(Se,tt)}var Qt=Ce.length;Ce.forEach(function(fr,wr){le(e.decodePacket(fr,he,!0),wr,Qt)})}})(Qh);var D2={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function u(){this.off(i,u),s.apply(this,arguments)}return u.fn=s,this.on(i,u),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+i];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<u.length;x++)if(a=u[x],a===s||a.fn===s){u.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),u=this._callbacks["$"+i];if(u){u=u.slice(0);for(var a=0,x=u.length;a<x;++a)u[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(D2);var dw,t6;function GE(){if(t6)return dw;t6=1;var e=Qh,t=D2.exports;dw=r;function r(i){this.path=i.path,this.hostname=i.hostname,this.port=i.port,this.secure=i.secure,this.query=i.query,this.timestampParam=i.timestampParam,this.timestampRequests=i.timestampRequests,this.readyState="",this.agent=i.agent||!1,this.socket=i.socket,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.forceNode=i.forceNode,this.isReactNative=i.isReactNative,this.extraHeaders=i.extraHeaders,this.localAddress=i.localAddress}return t(r.prototype),r.prototype.onError=function(i,s){var u=new Error(i);return u.type="TransportError",u.description=s,this.emit("error",u),this},r.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},r.prototype.send=function(i){if(this.readyState==="open")this.write(i);else throw new Error("Transport not open")},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(i){var s=e.decodePacket(i,this.socket.binaryType);this.onPacket(s)},r.prototype.onPacket=function(i){this.emit("packet",i)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")},dw}var N0={};N0.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};N0.decode=function(e){for(var t={},r=e.split("&"),i=0,s=r.length;i<s;i++){var u=r[i].split("=");t[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return t};var F2=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},IM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),N_=64,OM={},r6=0,kA=0,n6;function _S(e){var t="";do t=IM[e%N_]+t,e=Math.floor(e/N_);while(e>0);return t}function Yj(e){var t=0;for(kA=0;kA<e.length;kA++)t=t*N_+OM[e.charAt(kA)];return t}function QE(){var e=_S(+new Date);return e!==n6?(r6=0,n6=e):e+"."+_S(r6++)}for(;kA<N_;kA++)OM[IM[kA]]=kA;QE.encode=_S;QE.decode=Yj;var MM=QE,I0={exports:{}},xS={exports:{}},ty=1e3,ry=ty*60,ny=ry*60,iy=ny*24,Jj=iy*365.25,e$=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return t$(e);if(r==="number"&&isNaN(e)===!1)return t.long?n$(e):r$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function t$(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Jj;case"days":case"day":case"d":return r*iy;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ny;case"minutes":case"minute":case"mins":case"min":case"m":return r*ry;case"seconds":case"second":case"secs":case"sec":case"s":return r*ty;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function r$(e){return e>=iy?Math.round(e/iy)+"d":e>=ny?Math.round(e/ny)+"h":e>=ry?Math.round(e/ry)+"m":e>=ty?Math.round(e/ty)+"s":e+"ms"}function n$(e){return v1(e,iy,"day")||v1(e,ny,"hour")||v1(e,ry,"minute")||v1(e,ty,"second")||e+" ms"}function v1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=u,t.enabled=x,t.humanize=e$,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(ue,ge){if(ue==="%%")return ue;V++;var he=t.formatters[ge];if(typeof he=="function"){var le=J[V];ue=he.call(N,le),J.splice(V,1),V--}return ue}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function u(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(xS,xS.exports);(function(e,t){t=e.exports=xS.exports,t.log=s,t.formatArgs=i,t.save=u,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(I0,I0.exports);var RM=GE(),i$=N0,LM=Qh,o$=F2,a$=MM,Pc=I0.exports("engine.io-client:polling"),DM=Ef,s$=function(){var e=HE,t=new e({xdomain:!1});return t.responseType!=null}();function Ef(e){var t=e&&e.forceBase64;(!s$||t)&&(this.supportsBinary=!1),RM.call(this,e)}o$(Ef,RM);Ef.prototype.name="polling";Ef.prototype.doOpen=function(){this.poll()};Ef.prototype.pause=function(e){var t=this;this.readyState="pausing";function r(){Pc("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var i=0;this.polling&&(Pc("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Pc("pre-pause polling complete"),--i||r()})),this.writable||(Pc("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Pc("pre-pause writing complete"),--i||r()}))}else r()};Ef.prototype.poll=function(){Pc("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Ef.prototype.onData=function(e){var t=this;Pc("polling got data %s",e);var r=function(i,s,u){if(t.readyState==="opening"&&t.onOpen(),i.type==="close")return t.onClose(),!1;t.onPacket(i)};LM.decodePayload(e,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Pc('ignoring poll - transport state "%s"',this.readyState))};Ef.prototype.doClose=function(){var e=this;function t(){Pc("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Pc("transport open - closing"),t()):(Pc("transport not open - deferring close"),this.once("open",t))};Ef.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};LM.encodePayload(e,this.supportsBinary,function(i){t.doWrite(i,r)})};Ef.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(e[this.timestampParam]=a$()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=i$.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(r=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e};var u$=HE,FM=DM,l$=D2.exports,c$=F2,bS=I0.exports("engine.io-client:polling-xhr");qE.exports=U0;qE.exports.Request=za;function i6(){}function U0(e){if(FM.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",r=location.port;r||(r=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}c$(U0,FM);U0.prototype.supportsBinary=!0;U0.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new za(e)};U0.prototype.doWrite=function(e,t){var r=typeof e!="string"&&e!==void 0,i=this.request({method:"POST",data:e,isBinary:r}),s=this;i.on("success",t),i.on("error",function(u){s.onError("xhr post error",u)}),this.sendXhr=i};U0.prototype.doPoll=function(){bS("xhr poll");var e=this.request(),t=this;e.on("data",function(r){t.onData(r)}),e.on("error",function(r){t.onError("xhr poll error",r)}),this.pollXhr=e};function za(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}l$(za.prototype);za.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new u$(e),r=this;try{bS("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var s=t.getResponseHeader("Content-Type");r.supportsBinary&&s==="application/octet-stream"&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},bS("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){r.onError(s)},0);return}typeof document<"u"&&(this.index=za.requestsCount++,za.requests[this.index]=this)};za.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};za.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};za.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};za.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i6:this.xhr.onreadystatechange=i6,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete za.requests[this.index],this.xhr=null}};za.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(r){this.onError(r)}e!=null&&this.onData(e)};za.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};za.prototype.abort=function(){this.cleanup()};za.requestsCount=0;za.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",o6);else if(typeof addEventListener=="function"){var f$="onpagehide"in self?"pagehide":"unload";addEventListener(f$,o6,!1)}}function o6(){for(var e in za.requests)za.requests.hasOwnProperty(e)&&za.requests[e].abort()}var WE=DM,p$=F2,A$=j0,h$=/\n/g,d$=/\\n/g,_1;function m$(){}function g$(){return typeof self<"u"?self:typeof window<"u"?window:typeof Bs<"u"?Bs:{}}function j0(e){if(WE.call(this,e),this.query=this.query||{},!_1){var t=g$();_1=t.___eio=t.___eio||[]}this.index=_1.length;var r=this;_1.push(function(i){r.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){r.script&&(r.script.onerror=m$)},!1)}p$(j0,WE);j0.prototype.supportsBinary=!1;j0.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),WE.prototype.doClose.call(this)};j0.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)};j0.prototype.doWrite=function(e,t){var r=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,a;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function x(){S(),t()}function S(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(R){r.onError("jsonp polling iframe removal error",R)}try{var P='<iframe src="javascript:0" name="'+r.iframeId+'">';a=document.createElement(P)}catch{a=document.createElement("iframe"),a.name=r.iframeId,a.src="javascript:0"}a.id=r.iframeId,r.form.appendChild(a),r.iframe=a}S(),e=e.replace(d$,`\\
`),this.area.value=e.replace(h$,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};const y$={},v$=Object.freeze(Object.defineProperty({__proto__:null,default:y$},Symbol.toStringTag,{value:"Module"})),_$=k9(v$);var ZE=GE(),x$=Qh,b$=N0,w$=F2,S$=MM,C$=I0.exports("engine.io-client:websocket"),U_,KE;if(typeof WebSocket<"u")U_=WebSocket;else if(typeof self<"u")U_=self.WebSocket||self.MozWebSocket;else try{KE=_$}catch{}var y0=U_||KE,E$=jl;function jl(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=U_&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(y0=KE),ZE.call(this,e)}w$(jl,ZE);jl.prototype.name="websocket";jl.prototype.supportsBinary=!0;jl.prototype.doOpen=function(){if(!!this.check()){var e=this.uri(),t=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new y0(e,t):new y0(e):new y0(e,t,r)}catch(i){return this.emit("error",i)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};jl.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};jl.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,i=0,s=r;i<s;i++)(function(a){x$.encodePacket(a,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var S={};if(a.options&&(S.compress=a.options.compress),t.perMessageDeflate){var P=typeof x=="string"?Buffer.byteLength(x):x.length;P<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,S)}catch{C$("websocket closed before onclose event")}--r||u()})})(e[i]);function u(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};jl.prototype.onClose=function(){ZE.prototype.onClose.call(this)};jl.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};jl.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=S$()),this.supportsBinary||(e.b64=1),e=b$.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e};jl.prototype.check=function(){return!!y0&&!("__initialize"in y0&&this.name===jl.prototype.name)};var k$=HE,T$=qE.exports,P$=A$,I$=E$;L2.polling=O$;L2.websocket=I$;function O$(e){var t,r=!1,i=!1,s=e.jsonp!==!1;if(typeof location<"u"){var u=location.protocol==="https:",a=location.port;a||(a=u?443:80),r=e.hostname!==location.hostname||a!==e.port,i=e.secure!==u}if(e.xdomain=r,e.xscheme=i,t=new k$(e),"open"in t&&!e.forceJSONP)return new T$(e);if(!s)throw new Error("JSONP disabled");return new P$(e)}var M$=[].indexOf,BM=function(e,t){if(M$)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1},R$=L2,L$=D2.exports,Ia=I0.exports("engine.io-client:socket"),D$=BM,zM=Qh,a6=_M,F$=N0,B$=ai;function ai(e,t){if(!(this instanceof ai))return new ai(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=a6(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=a6(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=F$.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ai.priorWebsocketSuccess=!1;L$(ai.prototype);ai.protocol=zM.protocol;ai.Socket=ai;ai.Transport=GE();ai.transports=L2;ai.parser=Qh;ai.prototype.createTransport=function(e){Ia('creating transport "%s"',e);var t=z$(this.query);t.EIO=zM.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var i=new R$[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return i};function z$(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}ai.prototype.open=function(){var e;if(this.rememberUpgrade&&ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};ai.prototype.setTransport=function(e){Ia("setting transport %s",e.name);var t=this;this.transport&&(Ia("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(r){t.onPacket(r)}).on("error",function(r){t.onError(r)}).on("close",function(){t.onClose("transport close")})};ai.prototype.probe=function(e){Ia('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,i=this;ai.priorWebsocketSuccess=!1;function s(){if(i.onlyBinaryUpgrades){var z=!this.supportsBinary&&i.transport.supportsBinary;r=r||z}r||(Ia('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(N){if(!r)if(N.type==="pong"&&N.data==="probe"){if(Ia('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;ai.priorWebsocketSuccess=t.name==="websocket",Ia('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){r||i.readyState!=="closed"&&(Ia("changing transport and sending upgrade packet"),R(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{Ia('probe transport "%s" failed',e);var $=new Error("probe error");$.transport=t.name,i.emit("upgradeError",$)}}))}function u(){r||(r=!0,R(),t.close(),t=null)}function a(z){var N=new Error("probe error: "+z);N.transport=t.name,u(),Ia('probe transport "%s" failed because of error: %s',e,z),i.emit("upgradeError",N)}function x(){a("transport closed")}function S(){a("socket closed")}function P(z){t&&z.name!==t.name&&(Ia('"%s" works - aborting "%s"',z.name,t.name),u())}function R(){t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",x),i.removeListener("close",S),i.removeListener("upgrading",P)}t.once("open",s),t.once("error",a),t.once("close",x),this.once("close",S),this.once("upgrading",P),t.open()};ai.prototype.onOpen=function(){if(Ia("socket open"),this.readyState="open",ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ia("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};ai.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ia('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ia('packet received with socket readyState "%s"',this.readyState)};ai.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};ai.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};ai.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Ia("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};ai.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};ai.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};ai.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ia("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};ai.prototype.write=ai.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this};ai.prototype.sendPacket=function(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var s={type:e,data:t,options:r};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}};ai.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),Ia("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function i(){e.once("upgrade",r),e.once("upgradeError",r)}return this};ai.prototype.onError=function(e){Ia("socket error %j",e),ai.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};ai.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ia('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}};ai.prototype.filterUpgrades=function(e){for(var t=[],r=0,i=e.length;r<i;r++)~D$(this.transports,e[r])&&t.push(e[r]);return t};(function(e){e.exports=B$,e.exports.parser=Qh})(CM);var XE={exports:{}},YE={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function u(){this.off(i,u),s.apply(this,arguments)}return u.fn=s,this.on(i,u),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+i];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<u.length;x++)if(a=u[x],a===s||a.fn===s){u.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),u=this._callbacks["$"+i];if(u){u=u.slice(0);for(var a=0,x=u.length;a<x;++a)u[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(YE);var N$=U$;function U$(e,t){var r=[];t=t||0;for(var i=t||0;i<e.length;i++)r[i-t]=e[i];return r}var NM=j$;function j$(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}var s6=[].slice,UM=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var r=s6.call(arguments,2);return function(){return t.apply(e,r.concat(s6.call(arguments)))}};(function(e,t){var r=M2,i=YE.exports,s=N$,u=NM,a=UM,x=P0.exports("socket.io-client:socket"),S=N0,P=kM;e.exports=N;var R={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},z=i.prototype.emit;function N($,Z,J){this.io=$,this.nsp=Z,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},J&&J.query&&(this.query=J.query),this.io.autoConnect&&this.open()}i(N.prototype),N.prototype.subEvents=function(){if(!this.subs){var $=this.io;this.subs=[u($,"open",a(this,"onopen")),u($,"packet",a(this,"onpacket")),u($,"close",a(this,"onclose"))]}},N.prototype.open=N.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},N.prototype.send=function(){var $=s(arguments);return $.unshift("message"),this.emit.apply(this,$),this},N.prototype.emit=function($){if(R.hasOwnProperty($))return z.apply(this,arguments),this;var Z=s(arguments),J={type:(this.flags.binary!==void 0?this.flags.binary:P(Z))?r.BINARY_EVENT:r.EVENT,data:Z};return J.options={},J.options.compress=!this.flags||this.flags.compress!==!1,typeof Z[Z.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=Z.pop(),J.id=this.ids++),this.connected?this.packet(J):this.sendBuffer.push(J),this.flags={},this},N.prototype.packet=function($){$.nsp=this.nsp,this.io.packet($)},N.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var $=typeof this.query=="object"?S.encode(this.query):this.query;x("sending connect packet with query %s",$),this.packet({type:r.CONNECT,query:$})}else this.packet({type:r.CONNECT})},N.prototype.onclose=function($){x("close (%s)",$),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",$)},N.prototype.onpacket=function($){var Z=$.nsp===this.nsp,J=$.type===r.ERROR&&$.nsp==="/";if(!(!Z&&!J))switch($.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent($);break;case r.BINARY_EVENT:this.onevent($);break;case r.ACK:this.onack($);break;case r.BINARY_ACK:this.onack($);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",$.data);break}},N.prototype.onevent=function($){var Z=$.data||[];x("emitting event %j",Z),$.id!=null&&(x("attaching ack callback to event"),Z.push(this.ack($.id))),this.connected?z.apply(this,Z):this.receiveBuffer.push(Z)},N.prototype.ack=function($){var Z=this,J=!1;return function(){if(!J){J=!0;var ae=s(arguments);x("sending ack %j",ae),Z.packet({type:P(ae)?r.BINARY_ACK:r.ACK,id:$,data:ae})}}},N.prototype.onack=function($){var Z=this.acks[$.id];typeof Z=="function"?(x("calling ack %s with %j",$.id,$.data),Z.apply(this,$.data),delete this.acks[$.id]):x("bad ack %s",$.id)},N.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},N.prototype.emitBuffered=function(){var $;for($=0;$<this.receiveBuffer.length;$++)z.apply(this,this.receiveBuffer[$]);for(this.receiveBuffer=[],$=0;$<this.sendBuffer.length;$++)this.packet(this.sendBuffer[$]);this.sendBuffer=[]},N.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},N.prototype.destroy=function(){if(this.subs){for(var $=0;$<this.subs.length;$++)this.subs[$].destroy();this.subs=null}this.io.destroy(this)},N.prototype.close=N.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},N.prototype.compress=function($){return this.flags.compress=$,this},N.prototype.binary=function($){return this.flags.binary=$,this}})(XE);var $$=$0;function $0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}$0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};$0.prototype.reset=function(){this.attempts=0};$0.prototype.setMin=function(e){this.ms=e};$0.prototype.setMax=function(e){this.max=e};$0.prototype.setJitter=function(e){this.jitter=e};var V$=CM.exports,H$=XE.exports,q$=YE.exports,G$=M2,yA=NM,Dd=UM,zs=P0.exports("socket.io-client:manager"),jM=BM,Q$=$$,$M=Object.prototype.hasOwnProperty,u6=di;function di(e,t){if(!(this instanceof di))return new di(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Q$({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||G$;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}di.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)$M.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};di.prototype.updateSocketIds=function(){for(var e in this.nsps)$M.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};di.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};q$(di.prototype);di.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};di.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};di.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};di.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};di.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};di.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};di.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};di.prototype.open=di.prototype.connect=function(e,t){if(zs("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;zs("opening %s",this.uri),this.engine=V$(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=yA(r,"open",function(){i.onopen(),e&&e()}),u=yA(r,"error",function(S){if(zs("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",S),e){var P=new Error("Connection error");P.data=S,e(P)}else i.maybeReconnectOnOpen()});if(this._timeout!==!1){var a=this._timeout;zs("connect attempt will timeout after %d",a);var x=setTimeout(function(){zs("connect attempt timed out after %d",a),s.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(s),this.subs.push(u),this};di.prototype.onopen=function(){zs("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(yA(e,"data",Dd(this,"ondata"))),this.subs.push(yA(e,"ping",Dd(this,"onping"))),this.subs.push(yA(e,"pong",Dd(this,"onpong"))),this.subs.push(yA(e,"error",Dd(this,"onerror"))),this.subs.push(yA(e,"close",Dd(this,"onclose"))),this.subs.push(yA(this.decoder,"decoded",Dd(this,"ondecoded")))};di.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};di.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};di.prototype.ondata=function(e){this.decoder.add(e)};di.prototype.ondecoded=function(e){this.emit("packet",e)};di.prototype.onerror=function(e){zs("error",e),this.emitAll("error",e)};di.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new H$(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",s),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&s()}function s(){~jM(i.connecting,r)||i.connecting.push(r)}return r};di.prototype.destroy=function(e){var t=jM(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};di.prototype.packet=function(e){zs("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var i=0;i<r.length;i++)t.engine.write(r[i],e.options);t.encoding=!1,t.processPacketQueue()}))};di.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};di.prototype.cleanup=function(){zs("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};di.prototype.close=di.prototype.disconnect=function(){zs("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};di.prototype.onclose=function(e){zs("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};di.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)zs("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();zs("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(zs("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(i){i?(zs("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",i.data)):(zs("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}};di.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var r=xj,i=M2,s=u6,u=P0.exports("socket.io-client");e.exports=t=x;var a=t.managers={};function x(S,P){typeof S=="object"&&(P=S,S=void 0),P=P||{};var R=r(S),z=R.source,N=R.id,$=R.path,Z=a[N]&&$ in a[N].nsps,J=P.forceNew||P["force new connection"]||P.multiplex===!1||Z,ae;return J?(u("ignoring socket cache for %s",z),ae=s(z,P)):(a[N]||(u("new io instance for %s",z),a[N]=s(z,P)),ae=a[N]),R.query&&!P.query&&(P.query=R.query),ae.socket(R.path,P)}t.protocol=i.protocol,t.connect=x,t.Manager=u6,t.Socket=XE.exports})(AS,AS.exports);var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.RENDERER_MESSAGE_EVENT_NAME=void 0;var W$="cosmos-renderer-message";B2.RENDERER_MESSAGE_EVENT_NAME=W$;Object.defineProperty(jE,"__esModule",{value:!0});jE.createWebSocketsConnect=X$;var Z$=K$(AS.exports),mw=B2;function K$(e){return e&&e.__esModule?e:{default:e}}function X$(e){var t=(0,Z$.default)(e);return{postMessage:function(i){t.emit(mw.RENDERER_MESSAGE_EVENT_NAME,i)},onMessage:function(i){return t.on(mw.RENDERER_MESSAGE_EVENT_NAME,i),function(){return t.off(mw.RENDERER_MESSAGE_EVENT_NAME,i)}}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FixtureCapture",{enumerable:!0,get:function(){return t.FixtureCapture}}),Object.defineProperty(e,"FixtureContext",{enumerable:!0,get:function(){return r.FixtureContext}}),Object.defineProperty(e,"FixtureLoader",{enumerable:!0,get:function(){return i.FixtureLoader}}),Object.defineProperty(e,"Viewport",{enumerable:!0,get:function(){return S.Viewport}}),Object.defineProperty(e,"createPostMessageConnect",{enumerable:!0,get:function(){return u.createPostMessageConnect}}),Object.defineProperty(e,"createWebSocketsConnect",{enumerable:!0,get:function(){return P.createWebSocketsConnect}}),Object.defineProperty(e,"getDecoratedFixtureElement",{enumerable:!0,get:function(){return s.getDecoratedFixtureElement}}),Object.defineProperty(e,"useSelect",{enumerable:!0,get:function(){return a.useSelect}}),Object.defineProperty(e,"useValue",{enumerable:!0,get:function(){return x.useValue}});var t=m2,r=su,i=T2,s=P2,u=OE,a=RE,x=BE,S=O2,P=jE})(DO);(function(e){e.exports=DO})(oE);var z2={},VM={exports:{}};(function(e){e.exports=Dc})(VM);function wS(e){return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wS(e)}Object.defineProperty(z2,"__esModule",{value:!0});z2.ErrorCatch=void 0;var bh=eV(cr.exports),Y$=_s.exports,J$=VM.exports;function eV(e){return e&&e.__esModule?e:{default:e}}function tV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rV(e,t,r){return t&&l6(e.prototype,t),r&&l6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},SS(e,t)}function iV(e){var t=aV();return function(){var i=j_(e),s;if(t){var u=j_(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return oV(this,s)}}function oV(e,t){if(t&&(wS(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HM(e)}function HM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j_(e){return j_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},j_(e)}function sV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uV=function(e){nV(r,e);var t=iV(r);function r(){var i;tV(this,r);for(var s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];return i=t.call.apply(t,[this].concat(u)),sV(HM(i),"state",{error:null}),i}return rV(r,[{key:"componentDidCatch",value:function(s,u){this.setState({error:"".concat(s.message,`
`).concat(u.componentStack)})}},{key:"componentDidUpdate",value:function(s){this.state.error&&(lV(this.props.children,s.children)||cV(this.props.fixtureState,s.fixtureState))&&(this.setState({error:null}),this.props.onErrorReset())}},{key:"render",value:function(){return this.state.error?this.renderError(this.state.error):this.props.children}},{key:"renderError",value:function(s){return __DEV__?null:bh.default.createElement(bh.default.Fragment,null,bh.default.createElement("p",null,bh.default.createElement("strong",null,"Ouch, something wrong!")),bh.default.createElement("pre",null,s),bh.default.createElement("p",null,"Check console for more info."))}}]),r}(bh.default.Component);z2.ErrorCatch=uV;function lV(e,t){return!(0,J$.areNodesEqual)(e,t,!0)}function cV(e,t){return!(0,Y$.isEqual)(e,t)}var V0={},N2={};Object.defineProperty(N2,"__esModule",{value:!0});N2.isInsideCosmosPreviewIframe=fV;function fV(){try{return window.self!==window.parent}catch{return!0}}Object.defineProperty(V0,"__esModule",{value:!0});V0.rendererConnect=void 0;var c6=oE.exports,pV=N2,AV=(0,pV.isInsideCosmosPreviewIframe)()?(0,c6.createPostMessageConnect)():(0,c6.createWebSocketsConnect)(hV());V0.rendererConnect=AV;function hV(){return location.origin}var H0={},qM={exports:{}};(function(e){e.exports=x2})(qM);Object.defineProperty(H0,"__esModule",{value:!0});H0.rendererId=void 0;var dV=qM.exports,mV=gV();H0.rendererId=mV;function gV(){var e=sessionStorage.getItem("cosmosRendererId");return e||(e=(0,dV.uuid)(),sessionStorage.setItem("cosmosRendererId",e)),e}var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.renderMessage=xV;var yV=vV(cr.exports);function vV(e){return e&&e.__esModule?e:{default:e}}var _V={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'-apple-system, BlinkMacSystemFont, Ubuntu, "Helvetica Neue", Helvetica, sans-serif',fontSize:14};function xV(e){var t=e.msg;return yV.default.createElement("div",{style:_V},t)}var U2={},GM={exports:{}},qA={},Ey={},bV=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var f6=Object.getOwnPropertySymbols,wV=Object.prototype.hasOwnProperty,SV=Object.prototype.propertyIsEnumerable;function CV(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function EV(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(u){return t[u]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(u){s[u]=u}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var kV=EV()?Object.assign:function(e,t){for(var r,i=CV(e),s,u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var a in r)wV.call(r,a)&&(i[a]=r[a]);if(f6){s=f6(r);for(var x=0;x<s.length;x++)SV.call(r,s[x])&&(i[s[x]]=r[s[x]])}}return i},QM="%[a-f0-9]{2}",p6=new RegExp("("+QM+")|([^%]+?)","gi"),A6=new RegExp("("+QM+")+","gi");function CS(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],CS(r),CS(i))}function TV(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(p6)||[],r=1;r<t.length;r++)e=CS(t,r).join(""),t=e.match(p6)||[];return e}}function PV(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=A6.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var i=TV(r[0]);i!==r[0]&&(t[r[0]]=i)}r=A6.exec(e)}t["%C2"]="\uFFFD";for(var s=Object.keys(t),u=0;u<s.length;u++){var a=s[u];e=e.replace(new RegExp(a,"g"),t[a])}return e}var IV=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return PV(e)}},OV=bV,WM=kV,h6=IV;function MV(e){switch(e.arrayFormat){case"index":return function(t,r,i){return r===null?[Ku(t,e),"[",i,"]"].join(""):[Ku(t,e),"[",Ku(i,e),"]=",Ku(r,e)].join("")};case"bracket":return function(t,r){return r===null?Ku(t,e):[Ku(t,e),"[]=",Ku(r,e)].join("")};default:return function(t,r){return r===null?Ku(t,e):[Ku(t,e),"=",Ku(r,e)].join("")}}}function RV(e){var t;switch(e.arrayFormat){case"index":return function(r,i,s){if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){s[r]=i;return}s[r]===void 0&&(s[r]={}),s[r][t[1]]=i};case"bracket":return function(r,i,s){if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),t){if(s[r]===void 0){s[r]=[i];return}}else{s[r]=i;return}s[r]=[].concat(s[r],i)};default:return function(r,i,s){if(s[r]===void 0){s[r]=i;return}s[r]=[].concat(s[r],i)}}}function Ku(e,t){return t.encode?t.strict?OV(e):encodeURIComponent(e):e}function ZM(e){return Array.isArray(e)?e.sort():typeof e=="object"?ZM(Object.keys(e)).sort(function(t,r){return Number(t)-Number(r)}).map(function(t){return e[t]}):e}function KM(e){var t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function XM(e,t){t=WM({arrayFormat:"none"},t);var r=RV(t),i=Object.create(null);return typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e)?i:(e.split("&").forEach(function(s){var u=s.replace(/\+/g," ").split("="),a=u.shift(),x=u.length>0?u.join("="):void 0;x=x===void 0?null:h6(x),r(h6(a),x,i)}),Object.keys(i).sort().reduce(function(s,u){var a=i[u];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?s[u]=ZM(a):s[u]=a,s},Object.create(null)))}Ey.extract=KM;Ey.parse=XM;Ey.stringify=function(e,t){var r={encode:!0,strict:!0,arrayFormat:"none"};t=WM(r,t),t.sort===!1&&(t.sort=function(){});var i=MV(t);return e?Object.keys(e).sort(t.sort).map(function(s){var u=e[s];if(u===void 0)return"";if(u===null)return Ku(s,t);if(Array.isArray(u)){var a=[];return u.slice().forEach(function(x){x!==void 0&&a.push(i(s,x,a.length))}),a.join("&")}return Ku(s,t)+"="+Ku(u,t)}).filter(function(s){return s.length>0}).join("&"):""};Ey.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:XM(KM(e),t)}};Object.defineProperty(qA,"__esModule",{value:!0});qA.parsePlaygroundUrlQuery=FV;qA.parseRendererUrlQuery=zV;qA.parseUrlQuery=e4;qA.stringifyPlaygroundUrlQuery=DV;qA.stringifyRendererUrlQuery=BV;qA.stringifyUrlQuery=NV;var j2=LV(Ey);function LV(e){return e&&e.__esModule?e:{default:e}}function DV(e){var t={};return e.fixtureId&&(t.fixtureId=JSON.stringify(e.fixtureId)),j2.default.stringify(t)}function FV(e){var t=e4(e),r={};return t.fixtureId&&(r.fixtureId=JSON.parse(t.fixtureId)),r}function BV(e){var t={};return e._fixtureId&&(t._fixtureId=JSON.stringify(e._fixtureId)),j2.default.stringify(t)}function zV(e){var t=e4(e),r={};return t._fixtureId&&(r._fixtureId=JSON.parse(t._fixtureId)),r}function e4(e){return j2.default.parse(e)}function NV(e){return j2.default.stringify(e)}(function(e){e.exports=qA})(GM);Object.defineProperty(U2,"__esModule",{value:!0});U2.selectedFixtureId=void 0;var UV=GM.exports,jV=N2,$V=VV();U2.selectedFixtureId=$V;function VV(){var e=(0,UV.parseRendererUrlQuery)(location.search);return e._fixtureId?(HV(e._fixtureId),e._fixtureId):qV()}function HV(e){sessionStorage.setItem("cosmosFixtureId",JSON.stringify(e))}function qV(){if((0,jV.isInsideCosmosPreviewIframe)())return null;var e=sessionStorage.getItem("cosmosFixtureId");return e?JSON.parse(e):null}Object.defineProperty(iE,"__esModule",{value:!0});iE.DomFixtureLoader=eH;var GV=JV(cr.exports),QV=oE.exports,WV=z2,ZV=V0,KV=H0,XV=JE,YV=U2;function JV(e){return e&&e.__esModule?e:{default:e}}function eH(e){var t=e.fixtures,r=e.decorators,i=e.onErrorReset;return GV.default.createElement(QV.FixtureLoader,{rendererId:KV.rendererId,rendererConnect:ZV.rendererConnect,fixtures:t,selectedFixtureId:YV.selectedFixtureId,systemDecorators:[WV.ErrorCatch],userDecorators:r,renderMessage:XV.renderMessage,onErrorReset:i})}var tH=H0,rH=V0;window.addEventListener("error",function(){rH.rendererConnect.postMessage({type:"rendererError",payload:{rendererId:tH.rendererId}})});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mountDomRenderer=S,Object.defineProperty(e,"rendererConnect",{enumerable:!0,get:function(){return u.rendererConnect}}),Object.defineProperty(e,"rendererId",{enumerable:!0,get:function(){return a.rendererId}});var t=x(cr.exports),r=o3,i=nE,s=iE,u=V0,a=H0;function x(P){return P&&P.__esModule?P:{default:P}}function S(P){var R=P.rendererConfig,z=P.fixtures,N=P.decorators,$=P.onErrorReset,Z=(0,i.getDomContainer)(R.containerQuerySelector),J=(0,r.createRoot)(Z);J.render(t.default.createElement(s.DomFixtureLoader,{fixtures:z,decorators:N,onErrorReset:$}))}})(MP);(function(e){e.exports=MP})(OP);const nH="2.2.5";var $2={exports:{}},V2={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iH=cr.exports,oH=Symbol.for("react.element"),aH=Symbol.for("react.fragment"),sH=Object.prototype.hasOwnProperty,uH=iH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lH={key:!0,ref:!0,__self:!0,__source:!0};function YM(e,t,r){var i,s={},u=null,a=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)sH.call(t,i)&&!lH.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:oH,type:e,key:u,ref:a,props:s,_owner:uH.current}}V2.Fragment=aH;V2.jsx=YM;V2.jsxs=YM;(function(e){e.exports=V2})($2);const H2=$2.exports.Fragment,_t=$2.exports.jsx,Zn=$2.exports.jsxs;function JM(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=JM(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function va(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=JM(e))&&(i&&(i+=" "),i+=t);return i}const eR=e=>Zn("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:[_t("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:1.3,strokeLinejoin:"bevel"}),_t("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:1.3,strokeLinejoin:"bevel"})]});eR.displayName="Close24";const cH=cr.exports.memo(eR),fH=cH,tR=e=>Zn("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{d:"M3 3L13 13",stroke:"currentColor",strokeLinejoin:"bevel"}),_t("path",{d:"M13 3L3 13",stroke:"currentColor",strokeLinejoin:"bevel"})]});tR.displayName="Close16";const pH=cr.exports.memo(tR),AH=pH,rR=e=>_t("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:_t("path",{d:"M3 5L8 10L13 5",stroke:"currentColor",strokeLinejoin:"bevel"})});rR.displayName="ChevronDown16";const hH=cr.exports.memo(rR),dH=hH,nR=e=>Zn("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{d:"M8.00002 13.8334C11.2217 13.8334 13.8334 11.2217 13.8334 8.00002C13.8334 4.77836 11.2217 2.16669 8.00002 2.16669C4.77836 2.16669 2.16669 4.77836 2.16669 8.00002C2.16669 11.2217 4.77836 13.8334 8.00002 13.8334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M8 11L8 7.37482",stroke:"currentColor",strokeLinejoin:"round"}),_t("path",{d:"M8 6V5",stroke:"currentColor",strokeLinejoin:"round"})]});nR.displayName="InfoOutline16";const mH=cr.exports.memo(nR),gH=mH;var pn={exports:{}},yH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vH=yH,_H=vH;function iR(){}function oR(){}oR.resetWarningCache=iR;var xH=function(){function e(i,s,u,a,x,S){if(S!==_H){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oR,resetWarningCache:iR};return r.PropTypes=r,r};pn.exports=xH();const bH="_legendTitle_sgaz8_1",wH="_grid_sgaz8_6",SH="_cell_sgaz8_11",CH="_colorCell_sgaz8_17",EH="_yStepsCell_sgaz8_26",kH="_xStepsCell_sgaz8_45",TH="_xStepsCellNoLabel_sgaz8_46",PH="_arrowX_sgaz8_70",IH="_arrowY_sgaz8_71",OH="_axisLabelX_sgaz8_88",MH="_axisLabelY_sgaz8_89",RH="_arrowHeadX_sgaz8_107",LH="_arrowHeadY_sgaz8_108",DH="_arrowHeadY_angle0_sgaz8_123",Ya={legendTitle:bH,grid:wH,cell:SH,colorCell:CH,yStepsCell:EH,xStepsCell:kH,xStepsCellNoLabel:TH,arrowX:PH,arrowY:IH,axisLabelX:OH,axisLabelY:MH,arrowHeadX:RH,arrowHeadY:LH,arrowHeadY_angle0:DH};function FH(){const e={};return{increment:t=>(typeof e[t]=="number"?e[t]+=1:e[t]=0,e[t])}}function BH(e,t){const r=[],i=FH();return e.forEach((s,u)=>{s.split(" ").forEach((a,x)=>{const S=i.increment(a),P=t[a]&&t[a][S];P&&r.push({...P,_position:{x,y:u}})})}),r}function d6(e){return[...e].reverse()}const zH=(e,t)=>({gridColumn:`${e+1} / ${e+2}`,gridRow:`${t+1} / ${t+2}`}),m6=({className:e,type:t})=>_t("div",{className:e,children:t==="horizontal"?_t("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,6L0,0l0,2.4L3.6,6L0,9.6L0,12L6,6z",fill:"currentColor"})}):_t("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,0L0,6l2.4,0L6,2.4L9.6,6L12,6L6,0z",fill:"currentColor"})})}),NH=({cells:e,size:t,axis:r,title:i,showAxisLabels:s=!1,showSteps:u=!0,showArrowHeads:a=!0,onCellPointerOver:x,onCellPointerLeave:S,renderXAxisLabel:P,renderYAxisLabel:R})=>{const z=cr.exports.useMemo(()=>[`y ${new Array(t+1).fill(".").join(" ")}`,...new Array(t).fill(`y ${new Array(t).fill("c").join(" ")} .`),`. ${new Array(t+1).fill("x").join(" ")}`],[t]),N=BH(z,{x:u?r.x.steps.map(J=>({label:J.label||J.value.toFixed(1),className:Ya.xStepsCell})):r.x.steps.map(J=>({label:"",className:Ya.xStepsCellNoLabel})),y:u?d6(r.y.steps).map(J=>({label:J.label||J.value.toFixed(1),className:Ya.yStepsCell})):d6(r.y.steps).map(J=>({label:"",className:Ya.yStepsCellNoLabel})),c:e.map((J,ae)=>({label:_t("span",{children:J.label}),className:va(Ya.cell,Ya.colorCell),style:{backgroundColor:J.color},...x&&{onPointerOver:V=>x(V,J,ae)},...S&&{onPointerLeave:V=>S(V,J,ae)}}))}),$=()=>P?P(r.x,Ya.axisLabelX):_t("div",{className:Ya.axisLabelX,children:r.x.label}),Z=()=>R?R(r.y,Ya.axisLabelY):_t("div",{className:Ya.axisLabelY,children:r.y.label});return Zn("div",{children:[i&&_t("div",{className:Ya.legendTitle,children:i}),Zn("div",{className:Ya.grid,style:{gridTemplateColumns:`repeat(${t+2}, auto)`,gridTemplateRows:`repeat(${t+2}, auto)`},children:[s&&r.x.label?$():null,s&&r.y.label?Z():null,_t("div",{className:Ya.arrowX,children:a&&_t(m6,{type:"horizontal",className:Ya.arrowHeadX})}),_t("div",{className:Ya.arrowY,children:a&&_t(m6,{type:"vertical",className:va({[Ya.arrowHeadY]:!0,[Ya.arrowHeadY_angle0]:!s})})}),N.map(J=>_t("div",{style:Object.assign(zH(J._position.x,J._position.y),J.style),className:va(J.className,Ya.cell),onPointerOver:J.onPointerOver,onPointerLeave:J.onPointerLeave,children:J.label},`${J._position.x}|${J._position.y}`))]})]})};var aR={exports:{}},Ri={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=Symbol.for("react.element"),r4=Symbol.for("react.portal"),q2=Symbol.for("react.fragment"),G2=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),W2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),UH=Symbol.for("react.server_context"),K2=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),Y2=Symbol.for("react.suspense_list"),J2=Symbol.for("react.memo"),ex=Symbol.for("react.lazy"),jH=Symbol.for("react.offscreen"),sR;sR=Symbol.for("react.module.reference");function Hl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case t4:switch(e=e.type,e){case q2:case Q2:case G2:case X2:case Y2:return e;default:switch(e=e&&e.$$typeof,e){case UH:case Z2:case K2:case ex:case J2:case W2:return e;default:return t}}case r4:return t}}}Ri.ContextConsumer=Z2;Ri.ContextProvider=W2;Ri.Element=t4;Ri.ForwardRef=K2;Ri.Fragment=q2;Ri.Lazy=ex;Ri.Memo=J2;Ri.Portal=r4;Ri.Profiler=Q2;Ri.StrictMode=G2;Ri.Suspense=X2;Ri.SuspenseList=Y2;Ri.isAsyncMode=function(){return!1};Ri.isConcurrentMode=function(){return!1};Ri.isContextConsumer=function(e){return Hl(e)===Z2};Ri.isContextProvider=function(e){return Hl(e)===W2};Ri.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===t4};Ri.isForwardRef=function(e){return Hl(e)===K2};Ri.isFragment=function(e){return Hl(e)===q2};Ri.isLazy=function(e){return Hl(e)===ex};Ri.isMemo=function(e){return Hl(e)===J2};Ri.isPortal=function(e){return Hl(e)===r4};Ri.isProfiler=function(e){return Hl(e)===Q2};Ri.isStrictMode=function(e){return Hl(e)===G2};Ri.isSuspense=function(e){return Hl(e)===X2};Ri.isSuspenseList=function(e){return Hl(e)===Y2};Ri.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===q2||e===Q2||e===G2||e===X2||e===Y2||e===jH||typeof e=="object"&&e!==null&&(e.$$typeof===ex||e.$$typeof===J2||e.$$typeof===W2||e.$$typeof===Z2||e.$$typeof===K2||e.$$typeof===sR||e.getModuleId!==void 0)};Ri.typeOf=Hl;(function(e){e.exports=Ri})(aR);const $H=e2(aR.exports);function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},$_(e,t)}function $l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$_(e,t)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},iu.apply(this,arguments)}function x1(e){return e.charAt(0)==="/"}function gw(e,t){for(var r=t,i=r+1,s=e.length;i<s;r+=1,i+=1)e[r]=e[i];e.pop()}function VH(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&x1(e),u=t&&x1(t),a=s||u;if(e&&x1(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var x;if(i.length){var S=i[i.length-1];x=S==="."||S===".."||S===""}else x=!1;for(var P=0,R=i.length;R>=0;R--){var z=i[R];z==="."?gw(i,R):z===".."?(gw(i,R),P++):P&&(gw(i,R),P--)}if(!a)for(;P--;P)i.unshift("..");a&&i[0]!==""&&(!i[0]||!x1(i[0]))&&i.unshift("");var N=i.join("/");return x&&N.substr(-1)!=="/"&&(N+="/"),N}var HH=!0,yw="Invariant failed";function Wh(e,t){if(!e){if(HH)throw new Error(yw);var r=typeof t=="function"?t():t,i=r?yw+": "+r:yw;throw new Error(i)}}function wg(e){return e.charAt(0)==="/"?e:"/"+e}function g6(e){return e.charAt(0)==="/"?e.substr(1):e}function qH(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function uR(e,t){return qH(e,t)?e.substr(t.length):e}function lR(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function GH(e){var t=e||"/",r="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var u=t.indexOf("?");return u!==-1&&(r=t.substr(u),t=t.substr(0,u)),{pathname:t,search:r==="?"?"":r,hash:i==="#"?"":i}}function Pu(e){var t=e.pathname,r=e.search,i=e.hash,s=t||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Ju(e,t,r,i){var s;typeof e=="string"?(s=GH(e),s.state=t):(s=iu({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return r&&(s.key=r),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=VH(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function n4(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function r(a,x,S,P){if(e!=null){var R=typeof e=="function"?e(a,x):e;typeof R=="string"?typeof S=="function"?S(R,P):P(!0):P(R!==!1)}else P(!0)}var i=[];function s(a){var x=!0;function S(){x&&a.apply(void 0,arguments)}return i.push(S),function(){x=!1,i=i.filter(function(P){return P!==S})}}function u(){for(var a=arguments.length,x=new Array(a),S=0;S<a;S++)x[S]=arguments[S];i.forEach(function(P){return P.apply(void 0,x)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:s,notifyListeners:u}}var cR=!!(typeof window<"u"&&window.document&&window.document.createElement);function fR(e,t){t(window.confirm(e))}function QH(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function WH(){return window.navigator.userAgent.indexOf("Trident")===-1}function ZH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function KH(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var y6="popstate",v6="hashchange";function _6(){try{return window.history.state||{}}catch{return{}}}function pR(e){e===void 0&&(e={}),cR||Wh(!1);var t=window.history,r=QH(),i=!WH(),s=e,u=s.forceRefresh,a=u===void 0?!1:u,x=s.getUserConfirmation,S=x===void 0?fR:x,P=s.keyLength,R=P===void 0?6:P,z=e.basename?lR(wg(e.basename)):"";function N(Ze){var Oe=Ze||{},ee=Oe.key,pe=Oe.state,yt=window.location,tr=yt.pathname,yr=yt.search,hr=yt.hash,Sr=tr+yr+hr;return z&&(Sr=uR(Sr,z)),Ju(Sr,pe,ee)}function $(){return Math.random().toString(36).substr(2,R)}var Z=n4();function J(Ze){iu(Et,Ze),Et.length=t.length,Z.notifyListeners(Et.location,Et.action)}function ae(Ze){KH(Ze)||ue(N(Ze.state))}function V(){ue(N(_6()))}var K=!1;function ue(Ze){if(K)K=!1,J();else{var Oe="POP";Z.confirmTransitionTo(Ze,Oe,S,function(ee){ee?J({action:Oe,location:Ze}):ge(Ze)})}}function ge(Ze){var Oe=Et.location,ee=le.indexOf(Oe.key);ee===-1&&(ee=0);var pe=le.indexOf(Ze.key);pe===-1&&(pe=0);var yt=ee-pe;yt&&(K=!0,ut(yt))}var he=N(_6()),le=[he.key];function Se(Ze){return z+Pu(Ze)}function Ce(Ze,Oe){var ee="PUSH",pe=Ju(Ze,Oe,$(),Et.location);Z.confirmTransitionTo(pe,ee,S,function(yt){if(!!yt){var tr=Se(pe),yr=pe.key,hr=pe.state;if(r)if(t.pushState({key:yr,state:hr},null,tr),a)window.location.href=tr;else{var Sr=le.indexOf(Et.location.key),Ur=le.slice(0,Sr+1);Ur.push(pe.key),le=Ur,J({action:ee,location:pe})}else window.location.href=tr}})}function He(Ze,Oe){var ee="REPLACE",pe=Ju(Ze,Oe,$(),Et.location);Z.confirmTransitionTo(pe,ee,S,function(yt){if(!!yt){var tr=Se(pe),yr=pe.key,hr=pe.state;if(r)if(t.replaceState({key:yr,state:hr},null,tr),a)window.location.replace(tr);else{var Sr=le.indexOf(Et.location.key);Sr!==-1&&(le[Sr]=pe.key),J({action:ee,location:pe})}else window.location.replace(tr)}})}function ut(Ze){t.go(Ze)}function tt(){ut(-1)}function st(){ut(1)}var bt=0;function St(Ze){bt+=Ze,bt===1&&Ze===1?(window.addEventListener(y6,ae),i&&window.addEventListener(v6,V)):bt===0&&(window.removeEventListener(y6,ae),i&&window.removeEventListener(v6,V))}var Qt=!1;function fr(Ze){Ze===void 0&&(Ze=!1);var Oe=Z.setPrompt(Ze);return Qt||(St(1),Qt=!0),function(){return Qt&&(Qt=!1,St(-1)),Oe()}}function wr(Ze){var Oe=Z.appendListener(Ze);return St(1),function(){St(-1),Oe()}}var Et={length:t.length,action:"POP",location:he,createHref:Se,push:Ce,replace:He,go:ut,goBack:tt,goForward:st,block:fr,listen:wr};return Et}var x6="hashchange",XH={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+g6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:g6,decodePath:wg},slash:{encodePath:wg,decodePath:wg}};function AR(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Gm(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function YH(e){window.location.hash=e}function vw(e){window.location.replace(AR(window.location.href)+"#"+e)}function JH(e){e===void 0&&(e={}),cR||Wh(!1);var t=window.history;ZH();var r=e,i=r.getUserConfirmation,s=i===void 0?fR:i,u=r.hashType,a=u===void 0?"slash":u,x=e.basename?lR(wg(e.basename)):"",S=XH[a],P=S.encodePath,R=S.decodePath;function z(){var Oe=R(Gm());return x&&(Oe=uR(Oe,x)),Ju(Oe)}var N=n4();function $(Oe){iu(Ze,Oe),Ze.length=t.length,N.notifyListeners(Ze.location,Ze.action)}var Z=!1,J=null;function ae(Oe,ee){return Oe.pathname===ee.pathname&&Oe.search===ee.search&&Oe.hash===ee.hash}function V(){var Oe=Gm(),ee=P(Oe);if(Oe!==ee)vw(ee);else{var pe=z(),yt=Ze.location;if(!Z&&ae(yt,pe)||J===Pu(pe))return;J=null,K(pe)}}function K(Oe){if(Z)Z=!1,$();else{var ee="POP";N.confirmTransitionTo(Oe,ee,s,function(pe){pe?$({action:ee,location:Oe}):ue(Oe)})}}function ue(Oe){var ee=Ze.location,pe=Se.lastIndexOf(Pu(ee));pe===-1&&(pe=0);var yt=Se.lastIndexOf(Pu(Oe));yt===-1&&(yt=0);var tr=pe-yt;tr&&(Z=!0,tt(tr))}var ge=Gm(),he=P(ge);ge!==he&&vw(he);var le=z(),Se=[Pu(le)];function Ce(Oe){var ee=document.querySelector("base"),pe="";return ee&&ee.getAttribute("href")&&(pe=AR(window.location.href)),pe+"#"+P(x+Pu(Oe))}function He(Oe,ee){var pe="PUSH",yt=Ju(Oe,void 0,void 0,Ze.location);N.confirmTransitionTo(yt,pe,s,function(tr){if(!!tr){var yr=Pu(yt),hr=P(x+yr),Sr=Gm()!==hr;if(Sr){J=yr,YH(hr);var Ur=Se.lastIndexOf(Pu(Ze.location)),Dr=Se.slice(0,Ur+1);Dr.push(yr),Se=Dr,$({action:pe,location:yt})}else $()}})}function ut(Oe,ee){var pe="REPLACE",yt=Ju(Oe,void 0,void 0,Ze.location);N.confirmTransitionTo(yt,pe,s,function(tr){if(!!tr){var yr=Pu(yt),hr=P(x+yr),Sr=Gm()!==hr;Sr&&(J=yr,vw(hr));var Ur=Se.indexOf(Pu(Ze.location));Ur!==-1&&(Se[Ur]=yr),$({action:pe,location:yt})}})}function tt(Oe){t.go(Oe)}function st(){tt(-1)}function bt(){tt(1)}var St=0;function Qt(Oe){St+=Oe,St===1&&Oe===1?window.addEventListener(x6,V):St===0&&window.removeEventListener(x6,V)}var fr=!1;function wr(Oe){Oe===void 0&&(Oe=!1);var ee=N.setPrompt(Oe);return fr||(Qt(1),fr=!0),function(){return fr&&(fr=!1,Qt(-1)),ee()}}function Et(Oe){var ee=N.appendListener(Oe);return Qt(1),function(){Qt(-1),ee()}}var Ze={length:t.length,action:"POP",location:le,createHref:Ce,push:He,replace:ut,go:tt,goBack:st,goForward:bt,block:wr,listen:Et};return Ze}function b6(e,t,r){return Math.min(Math.max(e,t),r)}function eq(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,u=t.initialIndex,a=u===void 0?0:u,x=t.keyLength,S=x===void 0?6:x,P=n4();function R(Ce){iu(Se,Ce),Se.length=Se.entries.length,P.notifyListeners(Se.location,Se.action)}function z(){return Math.random().toString(36).substr(2,S)}var N=b6(a,0,s.length-1),$=s.map(function(Ce){return typeof Ce=="string"?Ju(Ce,void 0,z()):Ju(Ce,void 0,Ce.key||z())}),Z=Pu;function J(Ce,He){var ut="PUSH",tt=Ju(Ce,He,z(),Se.location);P.confirmTransitionTo(tt,ut,r,function(st){if(!!st){var bt=Se.index,St=bt+1,Qt=Se.entries.slice(0);Qt.length>St?Qt.splice(St,Qt.length-St,tt):Qt.push(tt),R({action:ut,location:tt,index:St,entries:Qt})}})}function ae(Ce,He){var ut="REPLACE",tt=Ju(Ce,He,z(),Se.location);P.confirmTransitionTo(tt,ut,r,function(st){!st||(Se.entries[Se.index]=tt,R({action:ut,location:tt}))})}function V(Ce){var He=b6(Se.index+Ce,0,Se.entries.length-1),ut="POP",tt=Se.entries[He];P.confirmTransitionTo(tt,ut,r,function(st){st?R({action:ut,location:tt,index:He}):R()})}function K(){V(-1)}function ue(){V(1)}function ge(Ce){var He=Se.index+Ce;return He>=0&&He<Se.entries.length}function he(Ce){return Ce===void 0&&(Ce=!1),P.setPrompt(Ce)}function le(Ce){return P.appendListener(Ce)}var Se={length:$.length,action:"POP",location:$[N],index:N,entries:$,createHref:Z,push:J,replace:ae,go:V,goBack:K,goForward:ue,canGo:ge,block:he,listen:le};return Se}var _w=1073741823,w6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function tq(){var e="__global_unique_id__";return w6[e]=(w6[e]||0)+1}function rq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nq(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(u){return u(e,s)})}}}function iq(e){return Array.isArray(e)?e[0]:e}function oq(e,t){var r,i,s="__create-react-context-"+tq()+"__",u=function(x){$l(S,x);function S(){var R;return R=x.apply(this,arguments)||this,R.emitter=nq(R.props.value),R}var P=S.prototype;return P.getChildContext=function(){var z;return z={},z[s]=this.emitter,z},P.componentWillReceiveProps=function(z){if(this.props.value!==z.value){var N=this.props.value,$=z.value,Z;rq(N,$)?Z=0:(Z=typeof t=="function"?t(N,$):_w,Z|=0,Z!==0&&this.emitter.set(z.value,Z))}},P.render=function(){return this.props.children},S}(cr.exports.Component);u.childContextTypes=(r={},r[s]=pn.exports.object.isRequired,r);var a=function(x){$l(S,x);function S(){var R;return R=x.apply(this,arguments)||this,R.state={value:R.getValue()},R.onUpdate=function(z,N){var $=R.observedBits|0;($&N)!==0&&R.setState({value:R.getValue()})},R}var P=S.prototype;return P.componentWillReceiveProps=function(z){var N=z.observedBits;this.observedBits=N==null?_w:N},P.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var z=this.props.observedBits;this.observedBits=z==null?_w:z},P.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},P.getValue=function(){return this.context[s]?this.context[s].get():e},P.render=function(){return iq(this.props.children)(this.state.value)},S}(cr.exports.Component);return a.contextTypes=(i={},i[s]=pn.exports.object,i),{Provider:u,Consumer:a}}var aq=En.createContext||oq,q0={exports:{}},sq=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},V_=sq;q0.exports=mR;q0.exports.parse=i4;q0.exports.compile=lq;q0.exports.tokensToFunction=hR;q0.exports.tokensToRegExp=dR;var uq=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i4(e,t){for(var r=[],i=0,s=0,u="",a=t&&t.delimiter||"/",x;(x=uq.exec(e))!=null;){var S=x[0],P=x[1],R=x.index;if(u+=e.slice(s,R),s=R+S.length,P){u+=P[1];continue}var z=e[s],N=x[2],$=x[3],Z=x[4],J=x[5],ae=x[6],V=x[7];u&&(r.push(u),u="");var K=N!=null&&z!=null&&z!==N,ue=ae==="+"||ae==="*",ge=ae==="?"||ae==="*",he=x[2]||a,le=Z||J;r.push({name:$||i++,prefix:N||"",delimiter:he,optional:ge,repeat:ue,partial:K,asterisk:!!V,pattern:le?pq(le):V?".*":"[^"+t_(he)+"]+?"})}return s<e.length&&(u+=e.substr(s)),u&&r.push(u),r}function lq(e,t){return hR(i4(e,t),t)}function cq(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function fq(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function hR(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",a4(t)));return function(s,u){for(var a="",x=s||{},S=u||{},P=S.pretty?cq:encodeURIComponent,R=0;R<e.length;R++){var z=e[R];if(typeof z=="string"){a+=z;continue}var N=x[z.name],$;if(N==null)if(z.optional){z.partial&&(a+=z.prefix);continue}else throw new TypeError('Expected "'+z.name+'" to be defined');if(V_(N)){if(!z.repeat)throw new TypeError('Expected "'+z.name+'" to not repeat, but received `'+JSON.stringify(N)+"`");if(N.length===0){if(z.optional)continue;throw new TypeError('Expected "'+z.name+'" to not be empty')}for(var Z=0;Z<N.length;Z++){if($=P(N[Z]),!r[R].test($))throw new TypeError('Expected all "'+z.name+'" to match "'+z.pattern+'", but received `'+JSON.stringify($)+"`");a+=(Z===0?z.prefix:z.delimiter)+$}continue}if($=z.asterisk?fq(N):P(N),!r[R].test($))throw new TypeError('Expected "'+z.name+'" to match "'+z.pattern+'", but received "'+$+'"');a+=z.prefix+$}return a}}function t_(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function pq(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o4(e,t){return e.keys=t,e}function a4(e){return e&&e.sensitive?"":"i"}function Aq(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return o4(e,t)}function hq(e,t,r){for(var i=[],s=0;s<e.length;s++)i.push(mR(e[s],t,r).source);var u=new RegExp("(?:"+i.join("|")+")",a4(r));return o4(u,t)}function dq(e,t,r){return dR(i4(e,r),t,r)}function dR(e,t,r){V_(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,s=r.end!==!1,u="",a=0;a<e.length;a++){var x=e[a];if(typeof x=="string")u+=t_(x);else{var S=t_(x.prefix),P="(?:"+x.pattern+")";t.push(x),x.repeat&&(P+="(?:"+S+P+")*"),x.optional?x.partial?P=S+"("+P+")?":P="(?:"+S+"("+P+"))?":P=S+"("+P+")",u+=P}}var R=t_(r.delimiter||"/"),z=u.slice(-R.length)===R;return i||(u=(z?u.slice(0,-R.length):u)+"(?:"+R+"(?=$))?"),s?u+="$":u+=i&&z?"":"(?="+R+"|$)",o4(new RegExp("^"+u,a4(r)),t)}function mR(e,t,r){return V_(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?Aq(e,t):V_(e)?hq(e,t,r):dq(e,t,r)}var mq={exports:{}},Li={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=typeof Symbol=="function"&&Symbol.for,s4=rs?Symbol.for("react.element"):60103,u4=rs?Symbol.for("react.portal"):60106,tx=rs?Symbol.for("react.fragment"):60107,rx=rs?Symbol.for("react.strict_mode"):60108,nx=rs?Symbol.for("react.profiler"):60114,ix=rs?Symbol.for("react.provider"):60109,ox=rs?Symbol.for("react.context"):60110,l4=rs?Symbol.for("react.async_mode"):60111,ax=rs?Symbol.for("react.concurrent_mode"):60111,sx=rs?Symbol.for("react.forward_ref"):60112,ux=rs?Symbol.for("react.suspense"):60113,gq=rs?Symbol.for("react.suspense_list"):60120,lx=rs?Symbol.for("react.memo"):60115,cx=rs?Symbol.for("react.lazy"):60116,yq=rs?Symbol.for("react.block"):60121,vq=rs?Symbol.for("react.fundamental"):60117,_q=rs?Symbol.for("react.responder"):60118,xq=rs?Symbol.for("react.scope"):60119;function ol(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s4:switch(e=e.type,e){case l4:case ax:case tx:case nx:case rx:case ux:return e;default:switch(e=e&&e.$$typeof,e){case ox:case sx:case cx:case lx:case ix:return e;default:return t}}case u4:return t}}}function gR(e){return ol(e)===ax}Li.AsyncMode=l4;Li.ConcurrentMode=ax;Li.ContextConsumer=ox;Li.ContextProvider=ix;Li.Element=s4;Li.ForwardRef=sx;Li.Fragment=tx;Li.Lazy=cx;Li.Memo=lx;Li.Portal=u4;Li.Profiler=nx;Li.StrictMode=rx;Li.Suspense=ux;Li.isAsyncMode=function(e){return gR(e)||ol(e)===l4};Li.isConcurrentMode=gR;Li.isContextConsumer=function(e){return ol(e)===ox};Li.isContextProvider=function(e){return ol(e)===ix};Li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s4};Li.isForwardRef=function(e){return ol(e)===sx};Li.isFragment=function(e){return ol(e)===tx};Li.isLazy=function(e){return ol(e)===cx};Li.isMemo=function(e){return ol(e)===lx};Li.isPortal=function(e){return ol(e)===u4};Li.isProfiler=function(e){return ol(e)===nx};Li.isStrictMode=function(e){return ol(e)===rx};Li.isSuspense=function(e){return ol(e)===ux};Li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tx||e===ax||e===nx||e===rx||e===ux||e===gq||typeof e=="object"&&e!==null&&(e.$$typeof===cx||e.$$typeof===lx||e.$$typeof===ix||e.$$typeof===ox||e.$$typeof===sx||e.$$typeof===vq||e.$$typeof===_q||e.$$typeof===xq||e.$$typeof===yq)};Li.typeOf=ol;(function(e){e.exports=Li})(mq);function Zh(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var yR={exports:{}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=typeof Symbol=="function"&&Symbol.for,c4=ns?Symbol.for("react.element"):60103,f4=ns?Symbol.for("react.portal"):60106,fx=ns?Symbol.for("react.fragment"):60107,px=ns?Symbol.for("react.strict_mode"):60108,Ax=ns?Symbol.for("react.profiler"):60114,hx=ns?Symbol.for("react.provider"):60109,dx=ns?Symbol.for("react.context"):60110,p4=ns?Symbol.for("react.async_mode"):60111,mx=ns?Symbol.for("react.concurrent_mode"):60111,gx=ns?Symbol.for("react.forward_ref"):60112,yx=ns?Symbol.for("react.suspense"):60113,bq=ns?Symbol.for("react.suspense_list"):60120,vx=ns?Symbol.for("react.memo"):60115,_x=ns?Symbol.for("react.lazy"):60116,wq=ns?Symbol.for("react.block"):60121,Sq=ns?Symbol.for("react.fundamental"):60117,Cq=ns?Symbol.for("react.responder"):60118,Eq=ns?Symbol.for("react.scope"):60119;function al(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case c4:switch(e=e.type,e){case p4:case mx:case fx:case Ax:case px:case yx:return e;default:switch(e=e&&e.$$typeof,e){case dx:case gx:case _x:case vx:case hx:return e;default:return t}}case f4:return t}}}function vR(e){return al(e)===mx}Di.AsyncMode=p4;Di.ConcurrentMode=mx;Di.ContextConsumer=dx;Di.ContextProvider=hx;Di.Element=c4;Di.ForwardRef=gx;Di.Fragment=fx;Di.Lazy=_x;Di.Memo=vx;Di.Portal=f4;Di.Profiler=Ax;Di.StrictMode=px;Di.Suspense=yx;Di.isAsyncMode=function(e){return vR(e)||al(e)===p4};Di.isConcurrentMode=vR;Di.isContextConsumer=function(e){return al(e)===dx};Di.isContextProvider=function(e){return al(e)===hx};Di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===c4};Di.isForwardRef=function(e){return al(e)===gx};Di.isFragment=function(e){return al(e)===fx};Di.isLazy=function(e){return al(e)===_x};Di.isMemo=function(e){return al(e)===vx};Di.isPortal=function(e){return al(e)===f4};Di.isProfiler=function(e){return al(e)===Ax};Di.isStrictMode=function(e){return al(e)===px};Di.isSuspense=function(e){return al(e)===yx};Di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fx||e===mx||e===Ax||e===px||e===yx||e===bq||typeof e=="object"&&e!==null&&(e.$$typeof===_x||e.$$typeof===vx||e.$$typeof===hx||e.$$typeof===dx||e.$$typeof===gx||e.$$typeof===Sq||e.$$typeof===Cq||e.$$typeof===Eq||e.$$typeof===wq)};Di.typeOf=al;(function(e){e.exports=Di})(yR);var _R=yR.exports,kq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xR={};xR[_R.ForwardRef]=kq;xR[_R.Memo]=Tq;var bR=function(t){var r=aq();return r.displayName=t,r},Pq=bR("Router-History"),O0=bR("Router"),xx=function(e){$l(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(u){s._pendingLocation=u})),s}var r=t.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(u){s._isMounted&&s.setState({location:u})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return En.createElement(O0.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},En.createElement(Pq.Provider,{children:this.props.children||null,value:this.props.history}))},t}(En.Component);En.Component;En.Component;var S6={},Iq=1e4,C6=0;function Oq(e,t){var r=""+t.end+t.strict+t.sensitive,i=S6[r]||(S6[r]={});if(i[e])return i[e];var s=[],u=q0.exports(e,s,t),a={regexp:u,keys:s};return C6<Iq&&(i[e]=a,C6++),a}function A4(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,i=r.path,s=r.exact,u=s===void 0?!1:s,a=r.strict,x=a===void 0?!1:a,S=r.sensitive,P=S===void 0?!1:S,R=[].concat(i);return R.reduce(function(z,N){if(!N&&N!=="")return null;if(z)return z;var $=Oq(N,{end:u,strict:x,sensitive:P}),Z=$.regexp,J=$.keys,ae=Z.exec(e);if(!ae)return null;var V=ae[0],K=ae.slice(1),ue=e===V;return u&&!ue?null:{path:N,url:N==="/"&&V===""?"/":V,isExact:ue,params:J.reduce(function(ge,he,le){return ge[he.name]=K[le],ge},{})}},null)}function Mq(e){return En.Children.count(e)===0}En.Component;function h4(e){return e.charAt(0)==="/"?e:"/"+e}function Rq(e,t){return e?iu({},t,{pathname:h4(e)+t.pathname}):t}function Lq(e,t){if(!e)return t;var r=h4(e);return t.pathname.indexOf(r)!==0?t:iu({},t,{pathname:t.pathname.substr(r.length)})}function E6(e){return typeof e=="string"?e:Pu(e)}function xw(e){return function(){Wh(!1)}}function k6(){}En.Component;En.Component;En.useContext;var wR=function(e){$l(t,e);function t(){for(var i,s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];return i=e.call.apply(e,[this].concat(u))||this,i.history=pR(i.props),i}var r=t.prototype;return r.render=function(){return _t(xx,{history:this.history,children:this.props.children})},t}(En.Component);En.Component;var ES=function(t,r){return typeof t=="function"?t(r):t},kS=function(t,r){return typeof t=="string"?Ju(t,null,null,r):t},d4=function(t){return t},M0=En.forwardRef;typeof M0>"u"&&(M0=d4);function Dq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Fq=M0(function(e,t){var r=e.innerRef,i=e.navigate,s=e.onClick,u=Zh(e,["innerRef","navigate","onClick"]),a=u.target,x=iu({},u,{onClick:function(P){try{s&&s(P)}catch(R){throw P.preventDefault(),R}!P.defaultPrevented&&P.button===0&&(!a||a==="_self")&&!Dq(P)&&(P.preventDefault(),i())}});return d4!==M0?x.ref=t||r:x.ref=r,_t("a",{...x})}),Bq=M0(function(e,t){var r=e.component,i=r===void 0?Fq:r,s=e.replace,u=e.to,a=e.innerRef,x=Zh(e,["component","replace","to","innerRef"]);return En.createElement(O0.Consumer,null,function(S){S||Wh(!1);var P=S.history,R=kS(ES(u,S.location),S.location),z=R?P.createHref(R):"",N=iu({},x,{href:z,navigate:function(){var Z=ES(u,S.location),J=Pu(S.location)===Pu(kS(Z)),ae=s||J?P.replace:P.push;ae(Z)}});return d4!==M0?N.ref=t||a:N.innerRef=a,En.createElement(i,N)})}),SR=function(t){return t},H_=En.forwardRef;typeof H_>"u"&&(H_=SR);function zq(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(i){return i}).join(" ")}H_(function(e,t){var r=e["aria-current"],i=r===void 0?"page":r,s=e.activeClassName,u=s===void 0?"active":s,a=e.activeStyle,x=e.className,S=e.exact,P=e.isActive,R=e.location,z=e.sensitive,N=e.strict,$=e.style,Z=e.to,J=e.innerRef,ae=Zh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return En.createElement(O0.Consumer,null,function(V){V||Wh(!1);var K=R||V.location,ue=kS(ES(Z,K),K),ge=ue.pathname,he=ge&&ge.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),le=he?A4(K.pathname,{path:he,exact:S,sensitive:z,strict:N}):null,Se=!!(P?P(le,K):le),Ce=typeof x=="function"?x(Se):x,He=typeof $=="function"?$(Se):$;Se&&(Ce=zq(Ce,u),He=iu({},He,a));var ut=iu({"aria-current":Se&&i||null,className:Ce,style:He,to:ue},ae);return SR!==H_?ut.ref=t||J:ut.innerRef=J,_t(Bq,{...ut})})});var m4=function(){};function CR(e){try{return e.apply(this,[].slice.call(arguments,1))}catch(t){return t=t instanceof Error?t:new Error(t),setTimeout(function(){throw t}),t}}function oy(e){return typeof e=="string"}function q_(e){return typeof e=="object"&&e!==null}function ay(e){return typeof e=="function"}function ER(e){return ay(e)&&"types"in e}function kR(e){return ay(e)&&"type"in e}function Nq(e){return q_(e)&&oy(e.type)&&"payload"in e}function Uq(e,t,r){var i=e.get(t);i===void 0&&e.set(t,i=new Set),i.add(r)}function jq(e,t,r){var i=e.get(t);i!==void 0&&(i.delete(r),i.size===0&&e.delete(t))}function bw(e,t){e.includes(t)||e.push(t)}function gp(e,t){return Object.assign(new Error("Reatom: "+e),{data:t})}function g4(e){return{atom:e,cause:"init",ctx:{},state:void 0,tracks:void 0}}function $q(e,t){var r=t===void 0?{}:t,i=r.patch,s=i===void 0?new Map:i,u=r.getCache,a=u===void 0?function($,Z){return Z!=null?Z:g4($)}:u,x=r.effects,S=x===void 0?[]:x,P=r.causes,R=P===void 0?[]:P;R=R.concat({actions:e,patch:s});var z=e.map(function($){return $.type}).join(", "),N={actions:e,getCache:a,process:function($,Z){var J=s.get($);if(J==null){Z=a($,Z);var ae=(J=$(N,Z)).cause,V=J.state,K=J.listeners;s.set($,J),Object.is(V,Z.state)?J.cause=Z.cause:(K==null?void 0:K.size)>0&&N.schedule(function(ue,ge){return K.forEach(function(he){return CR(he,V,ge)})},ae)}return J},schedule:function($,Z){Z===void 0&&(Z=z);var J=R.concat([Z]);S.push(function(ae){return $(function(V){return ae(V,J)},J)})}};return N}function T6(e,t){return t===void 0&&(t=y4),t.getState(e)}var Vq=0;function bx(e,t,r){r===void 0&&(r={});var i=oy(r)?{id:r}:r,s=i.decorators,u=s===void 0?[]:s,a=i.id,x=a===void 0?"atom"+ ++Vq:a,S=i.store,P=S===void 0?y4:S,R=[],z=[],N={},$={};if(!ay(t)||!oy(x))throw gp("Atom arguments");Object.entries(e).forEach(function(ae){var V=ae[0],K=ae[1];if(!ay(K))throw gp("Invalid atom dependencies (type "+typeof K+") at "+V,K);if(ER(K))K.types.forEach(function(he){return bw(z,he)});else{var ue;if(kR(K))$[V]=ue=K.type;else{var ge=function(){return{payload:K.apply(void 0,[].slice.call(arguments)),type:ue,targets:[J]}};ge.type=ue=V+"_"+x,ge.dispatch=function(){return P.dispatch(ge.apply(void 0,[].slice.call(arguments)))},N[V]=ge,V[0]!="_"&&(J[V]=ge)}bw(R,ue),bw(z,ue)}});var Z=u.reduce(function(ae,V){return V(ae)},function(ae,V,K,ue,ge){var he=function(le){return ue[le].apply(ue,[].slice.call(arguments,1))};return function(le,Se){var Ce,He=le.actions,ut=le.process,tt=le.schedule,st=Se.atom,bt=Se.ctx,St=Se.state,Qt=Se.listeners,fr=[],wr=m4,Et=function(ee,pe){wr();var yt=ut(ee,pe);return Ce==null&&fr.every(function(tr){return tr.atom.id!=ee.id})&&fr.push(yt),yt},Ze={create:he,get:function(ee){return Et(V[ee]).state},getUnlistedState:function(ee){return wr(),ut(ee).state},onAction:function(ee,pe){var yt,tr;if(wr(),Ce!=null)throw gp("Can not react to action inside another reaction");var yr=(yt=ge[ee])!=null?yt:(tr=ue[ee])==null?void 0:tr.type;if(yr==null)throw gp("Unknown action",{name:ee});He.forEach(function(hr){yr==hr.type&&(Ce=ee,ee!=yr&&(Ce+=" ("+yr+")"),Ce+=" handler",pe(hr.payload),Ce=void 0)})},onChange:function(ee,pe){var yt;if(wr(),Ce!=null)throw gp("Can not react to atom changes inside another reaction");var tr=V[ee],yr=(yt=Se.tracks)==null?void 0:yt.find(function(Sr){return Sr.atom.id==tr.id}),hr=Et(tr,yr);yr!=null&&Object.is(yr.state,hr.state)||(Ce=ee,ee!=st.id&&(Ce+=" ("+st.id+")"),Ce+=" handler",pe(hr.state,yr==null?void 0:yr.state),Ce=void 0)},onInit:function(ee){Se.tracks==null&&ee()},schedule:function(ee){wr(),tt(function(pe,yt){return ee(pe,bt,yt)},Ce)}},Oe="init";return(Se.tracks==null||He.some(function(ee){var pe=ee.type;return K.includes(pe)&&(Oe=pe+" action",!0)})||Se.tracks.some(function(ee){return!Object.is(ee.state,Et(ee.atom,ee).state)&&(Oe=ee.atom.id+" atom",!0)}))&&(fr.length=0,St=ae(Ze,St)),wr=function(){throw gp("Outdated track call")},{atom:st,cause:Oe,ctx:bt,state:St,tracks:fr,listeners:Qt}}}(t,e,R,N,$));function J(ae,V){return V===void 0&&(V=g4(J)),Z(ae,V)}return J.id=x,J.getState=function(){return P.getState(J)},J.subscribe=function(ae){return P.subscribe(J,ae)},J.types=z,J}var Hq=Symbol();function TR(e){var t=e===void 0?{}:e,r=t.callSafety,i=r===void 0?CR:r,s=t.createTemplateCache,u=s===void 0?g4:s,a=t.onError,x=t.onPatch,S=t.now,P=S===void 0?Date.now.bind(Date):S,R=new Map,z=new WeakMap,N=[],$=[];function Z(V){if(!ER(V))throw gp("passed thing is not an atom");(function(K,ue){var ge,he=ue(K);if(he.tracks===void 0)return!1;if(((ge=he.listeners)==null?void 0:ge.size)>0)return!0;for(var le=[he.tracks];le.length>0;)for(var Se=le.pop(),Ce=0;Ce<Se.length;Ce++){var He=Se[Ce];if(He!=ue(He.atom))return!1;le.push(He.tracks)}return!0})(V,ae.getCache)||ae.dispatch({type:"invalidate "+V.id+" [~"+Math.random()+"]",payload:null,targets:[V]})}a&&N.push(a),x&&$.push(x);var J=function(V,K){var ue,ge;return(ue=(ge=z.get(V))!=null?ge:K)!=null?ue:u(V)},ae={dispatch:function V(K,ue){var ge=P(),he=Array.isArray(K)?K:[K];if(he.length==0||!he.every(Nq))throw gp("dispatch arguments");var le=new Map,Se=[],Ce=$q(he,{patch:le,getCache:J,effects:Se,causes:ue}),He=function(){return{actions:he,patch:le,causes:ue!=null?ue:[],start:ge,end:P()}};try{he.forEach(function(st){var bt,St=st.type,Qt=st.targets;Qt==null||Qt.forEach(function(fr){return Ce.process(fr)}),(bt=R.get(St))==null||bt.forEach(function(fr){return Ce.process(fr)})}),le.forEach(function(st,bt){return z.set(bt,st)})}catch(st){var ut=He();throw N.forEach(function(bt){return bt(st,ut)}),st}var tt=He();$.forEach(function(st){return st(tt)}),Se.forEach(function(st){return i(st,V)})},getCache:J,getState:function(V){return Z(V),J(V).state},onError:function(V){return N.push(V),function(){return N=N.filter(function(K){return K!==V})}},onPatch:function(V){return $.push(V),function(){return $=$.filter(function(K){return K!==V})}},subscribe:function(V,K){var ue;if(!ay(K))throw gp("subscribe callback is not a function");Z(V);var ge=J(V),he=(ue=ge.listeners)!=null?ue:ge.listeners=new Set;he.size==0&&V.types.forEach(function(Ce){return Uq(R,Ce,V)});var le=Hq,Se=function(Ce,He){var ut=z.get(V);Object.is(le,ut.state)||K(le=Ce,He)};return he.add(Se),i(K,ge.state,[]),function(){he.delete(Se),he.size==0&&V.types.forEach(function(Ce){return jq(R,Ce,V)})}}};return ae}var y4=TR(),PR=En.createContext(y4),qq=function(e){return e()};function IR(e,t){return function(){var r=t.apply(void 0,[].slice.call(arguments));r&&qq(function(){e.dispatch(r)})}}function TS(e,t){t===void 0&&(t=[]);var r=En.useContext(PR);return En.useCallback(IR(r,e),t.concat(r))}function OR(e,t,r){var i=e;typeof t=="function"?(r!=null||(r=[]),e=En.useMemo(function(){return bx({origin:i},function(R){return t((0,R.get)("origin"))})},r.concat(i))):r=t!=null?t:[];var s=En.useContext(PR);r=r.concat([e,s]);var u=En.useState(function(){return T6(e,s)}),a=u[0],x=u[1],S=En.useRef(a);S.current=a=T6(e,s);var P=En.useMemo(function(){return Object.entries(i).reduce(function(R,z){var N=z[0],$=z[1];return kR($)&&(R[N]=IR(s,$)),R},{})},r);return En.useEffect(function(){return s.subscribe(e,function(R){return Object.is(R,S.current)||x(S.current=R)})},r),En.useDebugValue(a),[a,P]}function PS(){return PS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},PS.apply(this,arguments)}var Gq=["decorators"],Qq=0;function Wq(e,t,r){r===void 0&&(r="primitive"+ ++Qq),t!=null||(t={set:function(R,z){return z},change:function(R,z){return z(R)}});var i=oy(r)?{id:r}:r,s=i.decorators,u=s===void 0?[]:s,a=function(R,z){if(R==null)return{};var N,$,Z={},J=Object.keys(R);for($=0;$<J.length;$++)z.indexOf(N=J[$])>=0||(Z[N]=R[N]);return Z}(i,Gq);(u=u.slice()).unshift(function(R){return function(z,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),z.actions.forEach(function(Z){var J,ae=P.indexOf(Z.type);ae!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(J=t)[x[ae]].apply(J,[N.state].concat(Z.payload)))}),N}});var x=Object.keys(t),S=bx(x.reduce(function(R,z){return R[z]=function(){return[].slice.call(arguments)},R},{}),m4,PS({decorators:u},a)),P=x.map(function(R){return S[R].type});return S}var Zq=0;function Kq(e,t){return e===void 0&&(e=!1),t===void 0&&(t="boolean"+ ++Zq),Wq(e,{toggle:function(r){return!r},setTrue:function(){return!0},setFalse:function(){return!1},change:function(r,i){return i(r)},set:function(r,i){return i}},t)}function IS(){return IS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},IS.apply(this,arguments)}var Xq=["decorators"],Yq=0;function v4(e,t,r){r===void 0&&(r="primitive"+ ++Yq),t!=null||(t={set:function(R,z){return z},change:function(R,z){return z(R)}});var i=oy(r)?{id:r}:r,s=i.decorators,u=s===void 0?[]:s,a=function(R,z){if(R==null)return{};var N,$,Z={},J=Object.keys(R);for($=0;$<J.length;$++)z.indexOf(N=J[$])>=0||(Z[N]=R[N]);return Z}(i,Xq);(u=u.slice()).unshift(function(R){return function(z,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),z.actions.forEach(function(Z){var J,ae=P.indexOf(Z.type);ae!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(J=t)[x[ae]].apply(J,[N.state].concat(Z.payload)))}),N}});var x=Object.keys(t),S=bx(x.reduce(function(R,z){return R[z]=function(){return[].slice.call(arguments)},R},{}),m4,IS({decorators:u},a)),P=x.map(function(R){return S[R].type});return S}var Jq=typeof Bs=="object"&&Bs&&Bs.Object===Object&&Bs,MR=Jq,eG=MR,tG=typeof self=="object"&&self&&self.Object===Object&&self,rG=eG||tG||Function("return this")(),kf=rG,nG=kf,iG=nG.Symbol,wx=iG,P6=wx,RR=Object.prototype,oG=RR.hasOwnProperty,aG=RR.toString,Qm=P6?P6.toStringTag:void 0;function sG(e){var t=oG.call(e,Qm),r=e[Qm];try{e[Qm]=void 0;var i=!0}catch{}var s=aG.call(e);return i&&(t?e[Qm]=r:delete e[Qm]),s}var uG=sG,lG=Object.prototype,cG=lG.toString;function fG(e){return cG.call(e)}var pG=fG,I6=wx,AG=uG,hG=pG,dG="[object Null]",mG="[object Undefined]",O6=I6?I6.toStringTag:void 0;function gG(e){return e==null?e===void 0?mG:dG:O6&&O6 in Object(e)?AG(e):hG(e)}var Sx=gG;function yG(e){return e!=null&&typeof e=="object"}var _4=yG,vG=Sx,_G=_4,xG="[object Arguments]";function bG(e){return _G(e)&&vG(e)==xG}var wG=bG,M6=wG,SG=_4,LR=Object.prototype,CG=LR.hasOwnProperty,EG=LR.propertyIsEnumerable;M6(function(){return arguments}());var R6={exports:{}};function kG(){return!1}var TG=kG;(function(e,t){var r=kf,i=TG,s=t&&!t.nodeType&&t,u=s&&!0&&e&&!e.nodeType&&e,a=u&&u.exports===s,x=a?r.Buffer:void 0,S=x?x.isBuffer:void 0,P=S||i;e.exports=P})(R6,R6.exports);var OS={exports:{}};(function(e,t){var r=MR,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,u=s&&s.exports===i,a=u&&r.process,x=function(){try{var S=s&&s.require&&s.require("util").types;return S||a&&a.binding&&a.binding("util")}catch{}}();e.exports=x})(OS,OS.exports);var L6=OS.exports;L6&&L6.isTypedArray;function PG(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ky=PG,IG=Sx,OG=ky,MG="[object AsyncFunction]",RG="[object Function]",LG="[object GeneratorFunction]",DG="[object Proxy]";function FG(e){if(!OG(e))return!1;var t=IG(e);return t==RG||t==LG||t==MG||t==DG}var BG=FG;function zG(){this.__data__=[],this.size=0}var NG=zG;function UG(e,t){return e===t||e!==e&&t!==t}var jG=UG,$G=jG;function VG(e,t){for(var r=e.length;r--;)if($G(e[r][0],t))return r;return-1}var Cx=VG,HG=Cx,qG=Array.prototype,GG=qG.splice;function QG(e){var t=this.__data__,r=HG(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():GG.call(t,r,1),--this.size,!0}var WG=QG,ZG=Cx;function KG(e){var t=this.__data__,r=ZG(t,e);return r<0?void 0:t[r][1]}var XG=KG,YG=Cx;function JG(e){return YG(this.__data__,e)>-1}var eQ=JG,tQ=Cx;function rQ(e,t){var r=this.__data__,i=tQ(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var nQ=rQ,iQ=NG,oQ=WG,aQ=XG,sQ=eQ,uQ=nQ;function G0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}G0.prototype.clear=iQ;G0.prototype.delete=oQ;G0.prototype.get=aQ;G0.prototype.has=sQ;G0.prototype.set=uQ;var lQ=G0,cQ=kf,fQ=cQ["__core-js_shared__"],pQ=fQ,ww=pQ,D6=function(){var e=/[^.]+$/.exec(ww&&ww.keys&&ww.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function AQ(e){return!!D6&&D6 in e}var hQ=AQ,dQ=Function.prototype,mQ=dQ.toString;function gQ(e){if(e!=null){try{return mQ.call(e)}catch{}try{return e+""}catch{}}return""}var DR=gQ,yQ=BG,vQ=hQ,_Q=ky,xQ=DR,bQ=/[\\^$.*+?()[\]{}|]/g,wQ=/^\[object .+?Constructor\]$/,SQ=Function.prototype,CQ=Object.prototype,EQ=SQ.toString,kQ=CQ.hasOwnProperty,TQ=RegExp("^"+EQ.call(kQ).replace(bQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PQ(e){if(!_Q(e)||vQ(e))return!1;var t=yQ(e)?TQ:wQ;return t.test(xQ(e))}var IQ=PQ;function OQ(e,t){return e==null?void 0:e[t]}var MQ=OQ,RQ=IQ,LQ=MQ;function DQ(e,t){var r=LQ(e,t);return RQ(r)?r:void 0}var Q0=DQ,FQ=Q0,BQ=kf,zQ=FQ(BQ,"Map"),FR=zQ,NQ=Q0,UQ=NQ(Object,"create"),Ex=UQ,F6=Ex;function jQ(){this.__data__=F6?F6(null):{},this.size=0}var $Q=jQ;function VQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HQ=VQ,qQ=Ex,GQ="__lodash_hash_undefined__",QQ=Object.prototype,WQ=QQ.hasOwnProperty;function ZQ(e){var t=this.__data__;if(qQ){var r=t[e];return r===GQ?void 0:r}return WQ.call(t,e)?t[e]:void 0}var KQ=ZQ,XQ=Ex,YQ=Object.prototype,JQ=YQ.hasOwnProperty;function eW(e){var t=this.__data__;return XQ?t[e]!==void 0:JQ.call(t,e)}var tW=eW,rW=Ex,nW="__lodash_hash_undefined__";function iW(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rW&&t===void 0?nW:t,this}var oW=iW,aW=$Q,sW=HQ,uW=KQ,lW=tW,cW=oW;function W0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}W0.prototype.clear=aW;W0.prototype.delete=sW;W0.prototype.get=uW;W0.prototype.has=lW;W0.prototype.set=cW;var fW=W0,B6=fW,pW=lQ,AW=FR;function hW(){this.size=0,this.__data__={hash:new B6,map:new(AW||pW),string:new B6}}var dW=hW;function mW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gW=mW,yW=gW;function vW(e,t){var r=e.__data__;return yW(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kx=vW,_W=kx;function xW(e){var t=_W(this,e).delete(e);return this.size-=t?1:0,t}var bW=xW,wW=kx;function SW(e){return wW(this,e).get(e)}var CW=SW,EW=kx;function kW(e){return EW(this,e).has(e)}var TW=kW,PW=kx;function IW(e,t){var r=PW(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var OW=IW,MW=dW,RW=bW,LW=CW,DW=TW,FW=OW;function Z0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Z0.prototype.clear=MW;Z0.prototype.delete=RW;Z0.prototype.get=LW;Z0.prototype.has=DW;Z0.prototype.set=FW;var BW=Z0,zW=kf;zW.Uint8Array;var z6=wx,N6=z6?z6.prototype:void 0;N6&&N6.valueOf;var NW=Q0,UW=kf,jW=NW(UW,"DataView"),$W=jW,VW=Q0,HW=kf,qW=VW(HW,"Promise"),GW=qW,QW=Q0,WW=kf,ZW=QW(WW,"Set"),KW=ZW,XW=Q0,YW=kf,JW=XW(YW,"WeakMap"),eZ=JW,MS=$W,RS=FR,LS=GW,DS=KW,FS=eZ,BR=Sx,K0=DR,U6="[object Map]",tZ="[object Object]",j6="[object Promise]",$6="[object Set]",V6="[object WeakMap]",H6="[object DataView]",rZ=K0(MS),nZ=K0(RS),iZ=K0(LS),oZ=K0(DS),aZ=K0(FS),Fd=BR;(MS&&Fd(new MS(new ArrayBuffer(1)))!=H6||RS&&Fd(new RS)!=U6||LS&&Fd(LS.resolve())!=j6||DS&&Fd(new DS)!=$6||FS&&Fd(new FS)!=V6)&&(Fd=function(e){var t=BR(e),r=t==tZ?e.constructor:void 0,i=r?K0(r):"";if(i)switch(i){case rZ:return H6;case nZ:return U6;case iZ:return j6;case oZ:return $6;case aZ:return V6}return t});var sZ=Sx,uZ=_4,lZ="[object Symbol]";function cZ(e){return typeof e=="symbol"||uZ(e)&&sZ(e)==lZ}var fZ=cZ,zR=BW,pZ="Expected a function";function x4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pZ);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],u=r.cache;if(u.has(s))return u.get(s);var a=e.apply(this,i);return r.cache=u.set(s,a)||u,a};return r.cache=new(x4.Cache||zR),r}x4.Cache=zR;var AZ=x4,hZ=AZ,dZ=500;function mZ(e){var t=hZ(e,function(i){return r.size===dZ&&r.clear(),i}),r=t.cache;return t}var gZ=mZ,yZ=gZ,vZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_Z=/\\(\\)?/g;yZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vZ,function(r,i,s,u){t.push(s?u.replace(_Z,"$1"):i||r)}),t});var q6=wx,G6=q6?q6.prototype:void 0;G6&&G6.toString;const Ds={AUTHORIZED:"authorized",UNAUTHORIZED:"unauthorized",LOGGING_IN:"logging_in",SIGNING_UP:"signing_up",PASSWORD_RESET:"password_reset"},xZ={APP_LOGIN:"app_login",ANALYTICS_PANEL:"analytics_panel",ADVANCED_ANALYTICS_PANEL:"advanced_analytics_panel",EVENTS_LIST:"events_list",FEED_SELECTOR:"feed_selector",EVENTS_LIST__FEED_SELECTOR:"events_list__feed_selector",EVENTS_LIST__BBOX_FILTER:"events_list__bbox_filter",MAP_LAYERS_PANEL:"map_layers_panel",SIDE_BAR:"side_bar",BIVARIATE_MANAGER:"bivariate_manager",CURRENT_EVENT:"current_event",FOCUSED_GEOMETRY_LAYER:"focused_geometry_layer",LAYERS_IN_AREA:"layers_in_area",MAP_RULER:"map_ruler",TOASTS:"toasts",BOUNDARY_SELECTOR:"boundary_selector",DRAW_TOOLS:"draw_tools",FOCUSED_GEOMETRY_EDITOR:"focused_geometry_editor",GEOMETRY_UPLOADER:"geometry_uploader",LEGEND_PANEL:"legend_panel",REPORTS:"reports",INTERACTIVE_MAP:"interactive_map",CURRENT_EPISODE:"current_episode",GEOCODER:"geocoder",EPISODE_LIST:"episode_list",COMMUNITIES:"communities",FEATURE_SETTINGS:"feature_settings",OSM_EDIT_LINK:"osm_edit_link",TOOLTIP:"tooltip",CREATE_LAYER:"create_layer",HEADER:"header",INTERCOM:"intercom",BIVARIATE_COLOR_MANAGER:"bivariate_color_manager",EPISODES_TIMELINE:"episodes_timeline",LOCATE_ME:"locate_me"},bZ="METRICS";function wZ(e,t){const r=new CustomEvent(bZ,{detail:{name:e,payload:t}});globalThis.dispatchEvent(r)}var yP;const SZ=!!((yP=globalThis.window)!=null&&yP.localStorage.getItem("KONTUR_DEBUG"));var vP;(vP=globalThis.window)!=null&&vP.localStorage.getItem("KONTUR_METRICS_DEBUG");var _P;const CZ=!!((_P=globalThis.window)!=null&&_P.localStorage.getItem("KONTUR_WARN"));var xP;const Q6=(xP=globalThis.window)==null?void 0:xP.localStorage.getItem("KONTUR_TRACE_TYPE");var bP;const EZ=!!((bP=globalThis.window)!=null&&bP.localStorage.getItem("KONTUR_TRACE_PATCH"));function kZ(e){var r;const t=(r=e.actions.filter(i=>!i.type.startsWith("invalidate ")))==null?void 0:r.map(i=>{var s,u;if(((s=i.targets)==null?void 0:s.length)===1){const a=String(i.targets[0].id);if(i.type.endsWith(a)){const x=i.type.substring(0,i.type.length-a.length-1);return a+" <"+x+"> "}}return((u=i.targets)==null?void 0:u.map(a=>a.id).join(","))+" <-- "+i.type}).join(`
		`);t&&console.warn(`${Math.trunc(performance.now())}>`,t,e)}function TZ(){return TR({onPatch:e=>{{EZ&&kZ(e);for(const t of e.actions)t.type.includes("invalidate")||(wZ(t.type,t.payload),Q6&&t.type.includes(Q6)&&console.trace("TRACE:",t.type,e),SZ&&console.debug(t.type,t.payload),CZ&&console.warn(t.type,t.payload))}}})}const NR=TZ(),Ty=e=>({store:NR,...typeof e=="string"?{id:e}:e}),Ro=(e,t,r)=>bx(e,t,Ty(r)),b4=(e,t)=>Kq(e,Ty(t));function PZ(e,t,r){return v4(e,t,Ty(r))}let UR=0;function jR(e=new Set,t=`set${++UR}`){return v4(e,{set:(r,i)=>r.has(i)?r:new Set(r).add(i),delete:(r,i)=>{const s=r=new Set(r);return s.delete(i)?s:r},clear:()=>new Set,change:(r,i)=>i(new Set(r))},Ty(t))}function X0(e=new Map,t=`map${++UR}`){return v4(e,{set:(r,i,s)=>r.get(i)===s?r:new Map(r).set(i,s),delete:(r,i)=>{const s=r=new Map(r);return s.delete(i)?s:r},clear:()=>new Map,change:(r,i)=>i(new Map(r))},Ty(t))}const BS=Ro({setCurrentTooltip:e=>e,resetCurrentTooltip:()=>null,turnOffById:e=>e},({onAction:e},t=null)=>(e("setCurrentTooltip",r=>t=r),e("resetCurrentTooltip",()=>t=null),e("turnOffById",r=>{(t==null?void 0:t.initiatorId)===r&&(t=null)}),t),"[Shared state] currentTooltipAtom");function IZ(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function OZ(e,t){e.classList?e.classList.add(t):IZ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function W6(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MZ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=W6(e.className,t):e.setAttribute("class",W6(e.className&&e.className.baseVal||"",t))}const Z6={disabled:!1},$R=En.createContext(null);var VR=function(t){return t.scrollTop},lg="unmounted",Ch="exited",Eh="entering",Wd="entered",zS="exiting",Tp=function(e){$l(t,e);function t(i,s){var u;u=e.call(this,i,s)||this;var a=s,x=a&&!a.isMounting?i.enter:i.appear,S;return u.appearStatus=null,i.in?x?(S=Ch,u.appearStatus=Eh):S=Wd:i.unmountOnExit||i.mountOnEnter?S=lg:S=Ch,u.state={status:S},u.nextCallback=null,u}t.getDerivedStateFromProps=function(s,u){var a=s.in;return a&&u.status===lg?{status:Ch}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var u=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Eh&&a!==Wd&&(u=Eh):(a===Eh||a===Wd)&&(u=zS)}this.updateStatus(!1,u)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,u,a,x;return u=a=x=s,s!=null&&typeof s!="number"&&(u=s.exit,a=s.enter,x=s.appear!==void 0?s.appear:a),{exit:u,enter:a,appear:x}},r.updateStatus=function(s,u){if(s===void 0&&(s=!1),u!==null)if(this.cancelNextCallback(),u===Eh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:s1.findDOMNode(this);a&&VR(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ch&&this.setState({status:lg})},r.performEnter=function(s){var u=this,a=this.props.enter,x=this.context?this.context.isMounting:s,S=this.props.nodeRef?[x]:[s1.findDOMNode(this),x],P=S[0],R=S[1],z=this.getTimeouts(),N=x?z.appear:z.enter;if(!s&&!a||Z6.disabled){this.safeSetState({status:Wd},function(){u.props.onEntered(P)});return}this.props.onEnter(P,R),this.safeSetState({status:Eh},function(){u.props.onEntering(P,R),u.onTransitionEnd(N,function(){u.safeSetState({status:Wd},function(){u.props.onEntered(P,R)})})})},r.performExit=function(){var s=this,u=this.props.exit,a=this.getTimeouts(),x=this.props.nodeRef?void 0:s1.findDOMNode(this);if(!u||Z6.disabled){this.safeSetState({status:Ch},function(){s.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:zS},function(){s.props.onExiting(x),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:Ch},function(){s.props.onExited(x)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,u){u=this.setNextCallback(u),this.setState(s,u)},r.setNextCallback=function(s){var u=this,a=!0;return this.nextCallback=function(x){a&&(a=!1,u.nextCallback=null,s(x))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(s,u){this.setNextCallback(u);var a=this.props.nodeRef?this.props.nodeRef.current:s1.findDOMNode(this),x=s==null&&!this.props.addEndListener;if(!a||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],P=S[0],R=S[1];this.props.addEndListener(P,R)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===lg)return null;var u=this.props,a=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var x=Zh(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _t($R.Provider,{value:null,children:typeof a=="function"?a(s,x):En.cloneElement(En.Children.only(a),x)})},t}(En.Component);Tp.contextType=$R;Tp.propTypes={};function Bd(){}Tp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bd,onEntering:Bd,onEntered:Bd,onExit:Bd,onExiting:Bd,onExited:Bd};Tp.UNMOUNTED=lg;Tp.EXITED=Ch;Tp.ENTERING=Eh;Tp.ENTERED=Wd;Tp.EXITING=zS;const RZ=Tp;var LZ=function(t,r){return t&&r&&r.split(" ").forEach(function(i){return OZ(t,i)})},Sw=function(t,r){return t&&r&&r.split(" ").forEach(function(i){return MZ(t,i)})},w4=function(e){$l(t,e);function t(){for(var i,s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];return i=e.call.apply(e,[this].concat(u))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1];i.removeClasses(R,"exit"),i.addClass(R,z?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(x,S)},i.onEntering=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1],N=z?"appear":"enter";i.addClass(R,N,"active"),i.props.onEntering&&i.props.onEntering(x,S)},i.onEntered=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1],N=z?"appear":"enter";i.removeClasses(R,N),i.addClass(R,N,"done"),i.props.onEntered&&i.props.onEntered(x,S)},i.onExit=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"appear"),i.removeClasses(P,"enter"),i.addClass(P,"exit","base"),i.props.onExit&&i.props.onExit(x)},i.onExiting=function(x){var S=i.resolveArguments(x),P=S[0];i.addClass(P,"exit","active"),i.props.onExiting&&i.props.onExiting(x)},i.onExited=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"exit"),i.addClass(P,"exit","done"),i.props.onExited&&i.props.onExited(x)},i.resolveArguments=function(x,S){return i.props.nodeRef?[i.props.nodeRef.current,x]:[x,S]},i.getClassNames=function(x){var S=i.props.classNames,P=typeof S=="string",R=P&&S?S+"-":"",z=P?""+R+x:S[x],N=P?z+"-active":S[x+"Active"],$=P?z+"-done":S[x+"Done"];return{baseClassName:z,activeClassName:N,doneClassName:$}},i}var r=t.prototype;return r.addClass=function(s,u,a){var x=this.getClassNames(u)[a+"ClassName"],S=this.getClassNames("enter"),P=S.doneClassName;u==="appear"&&a==="done"&&P&&(x+=" "+P),a==="active"&&s&&VR(s),x&&(this.appliedClasses[u][a]=x,LZ(s,x))},r.removeClasses=function(s,u){var a=this.appliedClasses[u],x=a.base,S=a.active,P=a.done;this.appliedClasses[u]={},x&&Sw(s,x),S&&Sw(s,S),P&&Sw(s,P)},r.render=function(){var s=this.props;s.classNames;var u=Zh(s,["classNames"]);return _t(RZ,{...u,onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited})},t}(En.Component);w4.defaultProps={classNames:""};w4.propTypes={};const DZ=w4;function BA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const FZ="_fadeEnter_1fjeq_1",BZ="_fadeEnterActive_1fjeq_5",zZ="_fadeExit_1fjeq_10",NZ="_fadeExitActive_1fjeq_14",b1={fadeEnter:FZ,fadeEnterActive:BZ,fadeExit:zZ,fadeExitActive:NZ},UZ={enter:b1.fadeEnter,enterActive:b1.fadeEnterActive,exit:b1.fadeExit,exitActive:b1.fadeExitActive},jZ=({children:e,...t})=>{const r=cr.exports.useRef(null);return _t(DZ,{...t,nodeRef:r,children:e(r)})},K6=["http","https","mailto","tel"];function $Z(e){const t=(e||"").trim(),r=t.charAt(0);if(r==="#"||r==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let s=-1;for(;++s<K6.length;){const u=K6[s];if(i===u.length&&t.slice(0,u.length).toLowerCase()===u)return t}return s=t.indexOf("?"),s!==-1&&i>s||(s=t.indexOf("#"),s!==-1&&i>s)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var HR=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};function Sg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?X6(e.position):"start"in e||"end"in e?X6(e):"line"in e||"column"in e?NS(e):""}function NS(e){return Y6(e&&e.line)+":"+Y6(e&&e.column)}function X6(e){return NS(e&&e.start)+"-"+NS(e&&e.end)}function Y6(e){return e&&typeof e=="number"?e:1}class ql extends Error{constructor(t,r,i){const s=[null,null];let u={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof r=="string"&&(i=r,r=void 0),typeof i=="string"){const a=i.indexOf(":");a===-1?s[1]=i:(s[0]=i.slice(0,a),s[1]=i.slice(a+1))}r&&("type"in r||"position"in r?r.position&&(u=r.position):"start"in r||"end"in r?u=r:("line"in r||"column"in r)&&(u.start=r)),this.name=Sg(r)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=u.start.line,this.column=u.start.column,this.source=s[0],this.ruleId=s[1],this.position=u,this.actual,this.expected,this.file,this.url,this.note}}ql.prototype.file="";ql.prototype.name="";ql.prototype.reason="";ql.prototype.message="";ql.prototype.stack="";ql.prototype.fatal=null;ql.prototype.column=null;ql.prototype.line=null;ql.prototype.source=null;ql.prototype.ruleId=null;ql.prototype.position=null;const gf={basename:VZ,dirname:HZ,extname:qZ,join:GZ,sep:"/"};function VZ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Py(e);let r=0,i=-1,s=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.charCodeAt(s)===47){if(u){r=s+1;break}}else i<0&&(u=!0,i=s+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,x=t.length-1;for(;s--;)if(e.charCodeAt(s)===47){if(u){r=s+1;break}}else a<0&&(u=!0,a=s+1),x>-1&&(e.charCodeAt(s)===t.charCodeAt(x--)?x<0&&(i=s):(x=-1,i=a));return r===i?i=a:i<0&&(i=e.length),e.slice(r,i)}function HZ(e){if(Py(e),e.length===0)return".";let t=-1,r=e.length,i;for(;--r;)if(e.charCodeAt(r)===47){if(i){t=r;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function qZ(e){Py(e);let t=e.length,r=-1,i=0,s=-1,u=0,a;for(;t--;){const x=e.charCodeAt(t);if(x===47){if(a){i=t+1;break}continue}r<0&&(a=!0,r=t+1),x===46?s<0?s=t:u!==1&&(u=1):s>-1&&(u=-1)}return s<0||r<0||u===0||u===1&&s===r-1&&s===i+1?"":e.slice(s,r)}function GZ(...e){let t=-1,r;for(;++t<e.length;)Py(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":QZ(r)}function QZ(e){Py(e);const t=e.charCodeAt(0)===47;let r=WZ(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.charCodeAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function WZ(e,t){let r="",i=0,s=-1,u=0,a=-1,x,S;for(;++a<=e.length;){if(a<e.length)x=e.charCodeAt(a);else{if(x===47)break;x=47}if(x===47){if(!(s===a-1||u===1))if(s!==a-1&&u===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(S=r.lastIndexOf("/"),S!==r.length-1){S<0?(r="",i=0):(r=r.slice(0,S),i=r.length-1-r.lastIndexOf("/")),s=a,u=0;continue}}else if(r.length>0){r="",i=0,s=a,u=0;continue}}t&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),i=a-s-1;s=a,u=0}else x===46&&u>-1?u++:u=-1}return r}function Py(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ZZ={cwd:KZ};function KZ(){return"/"}function US(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function XZ(e){if(typeof e=="string")e=new URL(e);else if(!US(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YZ(e)}function YZ(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.charCodeAt(r)===37&&t.charCodeAt(r+1)===50){const i=t.charCodeAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Cw=["history","path","basename","stem","extname","dirname"];class qR{constructor(t){let r;t?typeof t=="string"||HR(t)?r={value:t}:US(t)?r={path:t}:r=t:r={},this.data={},this.messages=[],this.history=[],this.cwd=ZZ.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<Cw.length;){const u=Cw[i];u in r&&r[u]!==void 0&&(this[u]=u==="history"?[...r[u]]:r[u])}let s;for(s in r)Cw.includes(s)||(this[s]=r[s])}get path(){return this.history[this.history.length-1]}set path(t){US(t)&&(t=XZ(t)),kw(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?gf.dirname(this.path):void 0}set dirname(t){J6(this.basename,"dirname"),this.path=gf.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?gf.basename(this.path):void 0}set basename(t){kw(t,"basename"),Ew(t,"basename"),this.path=gf.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?gf.extname(this.path):void 0}set extname(t){if(Ew(t,"extname"),J6(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gf.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?gf.basename(this.path,this.extname):void 0}set stem(t){kw(t,"stem"),Ew(t,"stem"),this.path=gf.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,r,i){const s=new ql(t,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,r,i){const s=this.message(t,r,i);return s.fatal=null,s}fail(t,r,i){const s=this.message(t,r,i);throw s.fatal=!0,s}}function Ew(e,t){if(e&&e.includes(gf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gf.sep+"`")}function kw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function J6(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function e8(e){if(e)throw e}var r_=Object.prototype.hasOwnProperty,GR=Object.prototype.toString,t8=Object.defineProperty,r8=Object.getOwnPropertyDescriptor,n8=function(t){return typeof Array.isArray=="function"?Array.isArray(t):GR.call(t)==="[object Array]"},i8=function(t){if(!t||GR.call(t)!=="[object Object]")return!1;var r=r_.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;var s;for(s in t);return typeof s>"u"||r_.call(t,s)},o8=function(t,r){t8&&r.name==="__proto__"?t8(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},a8=function(t,r){if(r==="__proto__")if(r_.call(t,r)){if(r8)return r8(t,r).value}else return;return t[r]},s8=function e(){var t,r,i,s,u,a,x=arguments[0],S=1,P=arguments.length,R=!1;for(typeof x=="boolean"&&(R=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<P;++S)if(t=arguments[S],t!=null)for(r in t)i=a8(x,r),s=a8(t,r),x!==s&&(R&&s&&(i8(s)||(u=n8(s)))?(u?(u=!1,a=i&&n8(i)?i:[]):a=i&&i8(i)?i:{},o8(x,{name:r,newValue:e(R,a,s)})):typeof s<"u"&&o8(x,{name:r,newValue:s}));return x};function jS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function JZ(){const e=[],t={run:r,use:i};return t;function r(...s){let u=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);x(null,...s);function x(S,...P){const R=e[++u];let z=-1;if(S){a(S);return}for(;++z<s.length;)(P[z]===null||P[z]===void 0)&&(P[z]=s[z]);s=P,R?eK(R,x)(...P):a(null,...P)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function eK(e,t){let r;return i;function i(...a){const x=e.length>a.length;let S;x&&a.push(s);try{S=e.apply(this,a)}catch(P){const R=P;if(x&&r)throw R;return s(R)}x||(S instanceof Promise?S.then(u,s):S instanceof Error?s(S):u(S))}function s(a,...x){r||(r=!0,t(a,...x))}function u(a){s(null,a)}}const tK=WR().freeze(),QR={}.hasOwnProperty;function WR(){const e=JZ(),t=[];let r={},i,s=-1;return u.data=a,u.Parser=void 0,u.Compiler=void 0,u.freeze=x,u.attachers=t,u.use=S,u.parse=P,u.stringify=R,u.run=z,u.runSync=N,u.process=$,u.processSync=Z,u;function u(){const J=WR();let ae=-1;for(;++ae<t.length;)J.use(...t[ae]);return J.data(s8(!0,{},r)),J}function a(J,ae){return typeof J=="string"?arguments.length===2?(Iw("data",i),r[J]=ae,u):QR.call(r,J)&&r[J]||null:J?(Iw("data",i),r=J,u):r}function x(){if(i)return u;for(;++s<t.length;){const[J,...ae]=t[s];if(ae[0]===!1)continue;ae[0]===!0&&(ae[0]=void 0);const V=J.call(u,...ae);typeof V=="function"&&e.use(V)}return i=!0,s=Number.POSITIVE_INFINITY,u}function S(J,...ae){let V;if(Iw("use",i),J!=null)if(typeof J=="function")he(J,...ae);else if(typeof J=="object")Array.isArray(J)?ge(J):ue(J);else throw new TypeError("Expected usable value, not `"+J+"`");return V&&(r.settings=Object.assign(r.settings||{},V)),u;function K(le){if(typeof le=="function")he(le);else if(typeof le=="object")if(Array.isArray(le)){const[Se,...Ce]=le;he(Se,...Ce)}else ue(le);else throw new TypeError("Expected usable value, not `"+le+"`")}function ue(le){ge(le.plugins),le.settings&&(V=Object.assign(V||{},le.settings))}function ge(le){let Se=-1;if(le!=null)if(Array.isArray(le))for(;++Se<le.length;){const Ce=le[Se];K(Ce)}else throw new TypeError("Expected a list of plugins, not `"+le+"`")}function he(le,Se){let Ce=-1,He;for(;++Ce<t.length;)if(t[Ce][0]===le){He=t[Ce];break}He?(jS(He[1])&&jS(Se)&&(Se=s8(!0,He[1],Se)),He[1]=Se):t.push([...arguments])}}function P(J){u.freeze();const ae=Wm(J),V=u.Parser;return Tw("parse",V),u8(V,"parse")?new V(String(ae),ae).parse():V(String(ae),ae)}function R(J,ae){u.freeze();const V=Wm(ae),K=u.Compiler;return Pw("stringify",K),l8(J),u8(K,"compile")?new K(J,V).compile():K(J,V)}function z(J,ae,V){if(l8(J),u.freeze(),!V&&typeof ae=="function"&&(V=ae,ae=void 0),!V)return new Promise(K);K(null,V);function K(ue,ge){e.run(J,Wm(ae),he);function he(le,Se,Ce){Se=Se||J,le?ge(le):ue?ue(Se):V(null,Se,Ce)}}}function N(J,ae){let V,K;return u.run(J,ae,ue),c8("runSync","run",K),V;function ue(ge,he){e8(ge),V=he,K=!0}}function $(J,ae){if(u.freeze(),Tw("process",u.Parser),Pw("process",u.Compiler),!ae)return new Promise(V);V(null,ae);function V(K,ue){const ge=Wm(J);u.run(u.parse(ge),ge,(le,Se,Ce)=>{if(le||!Se||!Ce)he(le);else{const He=u.stringify(Se,Ce);He==null||(iK(He)?Ce.value=He:Ce.result=He),he(le,Ce)}});function he(le,Se){le||!Se?ue(le):K?K(Se):ae(null,Se)}}}function Z(J){let ae;u.freeze(),Tw("processSync",u.Parser),Pw("processSync",u.Compiler);const V=Wm(J);return u.process(V,K),c8("processSync","process",ae),V;function K(ue){ae=!0,e8(ue)}}}function u8(e,t){return typeof e=="function"&&e.prototype&&(rK(e.prototype)||t in e.prototype)}function rK(e){let t;for(t in e)if(QR.call(e,t))return!0;return!1}function Tw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Pw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Iw(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function l8(e){if(!jS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function c8(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wm(e){return nK(e)?e:new qR(e)}function nK(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function iK(e){return typeof e=="string"||HR(e)}function oK(e,t){var{includeImageAlt:r=!0}=t||{};return ZR(e,r)}function ZR(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&f8(e.children,t)||Array.isArray(e)&&f8(e,t))||""}function f8(e,t){for(var r=[],i=-1;++i<e.length;)r[i]=ZR(e[i],t);return r.join("")}function wf(e,t,r,i){const s=e.length;let u=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,r=r>0?r:0,i.length<1e4)a=Array.from(i),a.unshift(t,r),[].splice.apply(e,a);else for(r&&[].splice.apply(e,[t,r]);u<i.length;)a=i.slice(u,u+1e4),a.unshift(t,0),[].splice.apply(e,a),u+=1e4,t+=1e4}function Ll(e,t){return e.length>0?(wf(e,e.length,0,t),e):t}const p8={}.hasOwnProperty;function aK(e){const t={};let r=-1;for(;++r<e.length;)sK(t,e[r]);return t}function sK(e,t){let r;for(r in t){const s=(p8.call(e,r)?e[r]:void 0)||(e[r]={}),u=t[r];let a;for(a in u){p8.call(s,a)||(s[a]=[]);const x=u[a];uK(s[a],Array.isArray(x)?x:x?[x]:[])}}}function uK(e,t){let r=-1;const i=[];for(;++r<t.length;)(t[r].add==="after"?e:i).push(t[r]);wf(e,0,0,i)}const lK=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,vf=GA(/[A-Za-z]/),$S=GA(/\d/),cK=GA(/[\dA-Fa-f]/),el=GA(/[\dA-Za-z]/),fK=GA(/[!-/:-@[-`{-~]/),A8=GA(/[#-'*+\--9=?A-Z^-~]/);function VS(e){return e!==null&&(e<32||e===127)}function Bl(e){return e!==null&&(e<0||e===32)}function mn(e){return e!==null&&e<-2}function Oa(e){return e===-2||e===-1||e===32}const pK=GA(/\s/),AK=GA(lK);function GA(e){return t;function t(r){return r!==null&&e.test(String.fromCharCode(r))}}function ro(e,t,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let u=0;return a;function a(S){return Oa(S)?(e.enter(r),x(S)):t(S)}function x(S){return Oa(S)&&u++<s?(e.consume(S),x):(e.exit(r),t(S))}}const hK={tokenize:dK};function dK(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let r;return t;function i(x){if(x===null){e.consume(x);return}return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),ro(e,t,"linePrefix")}function s(x){return e.enter("paragraph"),u(x)}function u(x){const S=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=S),r=S,a(x)}function a(x){if(x===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(x);return}return mn(x)?(e.consume(x),e.exit("chunkText"),u):(e.consume(x),a)}}const mK={tokenize:gK},h8={tokenize:yK};function gK(e){const t=this,r=[];let i=0,s,u,a;return x;function x(ue){if(i<r.length){const ge=r[i];return t.containerState=ge[1],e.attempt(ge[0].continuation,S,P)(ue)}return P(ue)}function S(ue){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&K();const ge=t.events.length;let he=ge,le;for(;he--;)if(t.events[he][0]==="exit"&&t.events[he][1].type==="chunkFlow"){le=t.events[he][1].end;break}V(i);let Se=ge;for(;Se<t.events.length;)t.events[Se][1].end=Object.assign({},le),Se++;return wf(t.events,he+1,0,t.events.slice(ge)),t.events.length=Se,P(ue)}return x(ue)}function P(ue){if(i===r.length){if(!s)return N(ue);if(s.currentConstruct&&s.currentConstruct.concrete)return Z(ue);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(h8,R,z)(ue)}function R(ue){return s&&K(),V(i),N(ue)}function z(ue){return t.parser.lazy[t.now().line]=i!==r.length,a=t.now().offset,Z(ue)}function N(ue){return t.containerState={},e.attempt(h8,$,Z)(ue)}function $(ue){return i++,r.push([t.currentConstruct,t.containerState]),N(ue)}function Z(ue){if(ue===null){s&&K(),V(0),e.consume(ue);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:s}),J(ue)}function J(ue){if(ue===null){ae(e.exit("chunkFlow"),!0),V(0),e.consume(ue);return}return mn(ue)?(e.consume(ue),ae(e.exit("chunkFlow")),i=0,t.interrupt=void 0,x):(e.consume(ue),J)}function ae(ue,ge){const he=t.sliceStream(ue);if(ge&&he.push(null),ue.previous=u,u&&(u.next=ue),u=ue,s.defineSkip(ue.start),s.write(he),t.parser.lazy[ue.start.line]){let le=s.events.length;for(;le--;)if(s.events[le][1].start.offset<a&&(!s.events[le][1].end||s.events[le][1].end.offset>a))return;const Se=t.events.length;let Ce=Se,He,ut;for(;Ce--;)if(t.events[Ce][0]==="exit"&&t.events[Ce][1].type==="chunkFlow"){if(He){ut=t.events[Ce][1].end;break}He=!0}for(V(i),le=Se;le<t.events.length;)t.events[le][1].end=Object.assign({},ut),le++;wf(t.events,Ce+1,0,t.events.slice(Se)),t.events.length=le}}function V(ue){let ge=r.length;for(;ge-- >ue;){const he=r[ge];t.containerState=he[1],he[0].exit.call(t,e)}r.length=ue}function K(){s.write([null]),u=void 0,s=void 0,t.containerState._closeFlow=void 0}}function yK(e,t,r){return ro(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function d8(e){if(e===null||Bl(e)||pK(e))return 1;if(AK(e))return 2}function S4(e,t,r){const i=[];let s=-1;for(;++s<e.length;){const u=e[s].resolveAll;u&&!i.includes(u)&&(t=u(t,r),i.push(u))}return t}const HS={name:"attention",tokenize:_K,resolveAll:vK};function vK(e,t){let r=-1,i,s,u,a,x,S,P,R;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;S=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const z=Object.assign({},e[i][1].end),N=Object.assign({},e[r][1].start);m8(z,-S),m8(N,S),a={type:S>1?"strongSequence":"emphasisSequence",start:z,end:Object.assign({},e[i][1].end)},x={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:N},u={type:S>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[r][1].start)},s={type:S>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},x.end)},e[i][1].end=Object.assign({},a.start),e[r][1].start=Object.assign({},x.end),P=[],e[i][1].end.offset-e[i][1].start.offset&&(P=Ll(P,[["enter",e[i][1],t],["exit",e[i][1],t]])),P=Ll(P,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",u,t]]),P=Ll(P,S4(t.parser.constructs.insideSpan.null,e.slice(i+1,r),t)),P=Ll(P,[["exit",u,t],["enter",x,t],["exit",x,t],["exit",s,t]]),e[r][1].end.offset-e[r][1].start.offset?(R=2,P=Ll(P,[["enter",e[r][1],t],["exit",e[r][1],t]])):R=0,wf(e,i-1,r-i+3,P),r=i+P.length-R-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function _K(e,t){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=d8(i);let u;return a;function a(S){return e.enter("attentionSequence"),u=S,x(S)}function x(S){if(S===u)return e.consume(S),x;const P=e.exit("attentionSequence"),R=d8(S),z=!R||R===2&&s||r.includes(S),N=!s||s===2&&R||r.includes(i);return P._open=Boolean(u===42?z:z&&(s||!N)),P._close=Boolean(u===42?N:N&&(R||!z)),t(S)}}function m8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const xK={name:"autolink",tokenize:bK};function bK(e,t,r){let i=1;return s;function s(Z){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(Z),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(Z){return vf(Z)?(e.consume(Z),a):A8(Z)?P(Z):r(Z)}function a(Z){return Z===43||Z===45||Z===46||el(Z)?x(Z):P(Z)}function x(Z){return Z===58?(e.consume(Z),S):(Z===43||Z===45||Z===46||el(Z))&&i++<32?(e.consume(Z),x):P(Z)}function S(Z){return Z===62?(e.exit("autolinkProtocol"),$(Z)):Z===null||Z===32||Z===60||VS(Z)?r(Z):(e.consume(Z),S)}function P(Z){return Z===64?(e.consume(Z),i=0,R):A8(Z)?(e.consume(Z),P):r(Z)}function R(Z){return el(Z)?z(Z):r(Z)}function z(Z){return Z===46?(e.consume(Z),i=0,R):Z===62?(e.exit("autolinkProtocol").type="autolinkEmail",$(Z)):N(Z)}function N(Z){return(Z===45||el(Z))&&i++<63?(e.consume(Z),Z===45?N:z):r(Z)}function $(Z){return e.enter("autolinkMarker"),e.consume(Z),e.exit("autolinkMarker"),e.exit("autolink"),t}}const Tx={tokenize:wK,partial:!0};function wK(e,t,r){return ro(e,i,"linePrefix");function i(s){return s===null||mn(s)?t(s):r(s)}}const KR={name:"blockQuote",tokenize:SK,continuation:{tokenize:CK},exit:EK};function SK(e,t,r){const i=this;return s;function s(a){if(a===62){const x=i.containerState;return x.open||(e.enter("blockQuote",{_container:!0}),x.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),u}return r(a)}function u(a){return Oa(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function CK(e,t,r){return ro(e,e.attempt(KR,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function EK(e){e.exit("blockQuote")}const XR={name:"characterEscape",tokenize:kK};function kK(e,t,r){return i;function i(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),s}function s(u){return fK(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(u)}}const g8=document.createElement("i");function C4(e){const t="&"+e+";";g8.innerHTML=t;const r=g8.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}const YR={name:"characterReference",tokenize:TK};function TK(e,t,r){const i=this;let s=0,u,a;return x;function x(z){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(z),e.exit("characterReferenceMarker"),S}function S(z){return z===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(z),e.exit("characterReferenceMarkerNumeric"),P):(e.enter("characterReferenceValue"),u=31,a=el,R(z))}function P(z){return z===88||z===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(z),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,a=cK,R):(e.enter("characterReferenceValue"),u=7,a=$S,R(z))}function R(z){let N;return z===59&&s?(N=e.exit("characterReferenceValue"),a===el&&!C4(i.sliceSerialize(N))?r(z):(e.enter("characterReferenceMarker"),e.consume(z),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):a(z)&&s++<u?(e.consume(z),R):r(z)}}const y8={name:"codeFenced",tokenize:PK,concrete:!0};function PK(e,t,r){const i=this,s={tokenize:he,partial:!0},u={tokenize:ge,partial:!0},a=this.events[this.events.length-1],x=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let S=0,P;return R;function R(le){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),P=le,z(le)}function z(le){return le===P?(e.consume(le),S++,z):(e.exit("codeFencedFenceSequence"),S<3?r(le):ro(e,N,"whitespace")(le))}function N(le){return le===null||mn(le)?ae(le):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),$(le))}function $(le){return le===null||Bl(le)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ro(e,Z,"whitespace")(le)):le===96&&le===P?r(le):(e.consume(le),$)}function Z(le){return le===null||mn(le)?ae(le):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),J(le))}function J(le){return le===null||mn(le)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),ae(le)):le===96&&le===P?r(le):(e.consume(le),J)}function ae(le){return e.exit("codeFencedFence"),i.interrupt?t(le):V(le)}function V(le){return le===null?ue(le):mn(le)?e.attempt(u,e.attempt(s,ue,x?ro(e,V,"linePrefix",x+1):V),ue)(le):(e.enter("codeFlowValue"),K(le))}function K(le){return le===null||mn(le)?(e.exit("codeFlowValue"),V(le)):(e.consume(le),K)}function ue(le){return e.exit("codeFenced"),t(le)}function ge(le,Se,Ce){const He=this;return ut;function ut(st){return le.enter("lineEnding"),le.consume(st),le.exit("lineEnding"),tt}function tt(st){return He.parser.lazy[He.now().line]?Ce(st):Se(st)}}function he(le,Se,Ce){let He=0;return ro(le,ut,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function ut(bt){return le.enter("codeFencedFence"),le.enter("codeFencedFenceSequence"),tt(bt)}function tt(bt){return bt===P?(le.consume(bt),He++,tt):He<S?Ce(bt):(le.exit("codeFencedFenceSequence"),ro(le,st,"whitespace")(bt))}function st(bt){return bt===null||mn(bt)?(le.exit("codeFencedFence"),Se(bt)):Ce(bt)}}}const Ow={name:"codeIndented",tokenize:OK},IK={tokenize:MK,partial:!0};function OK(e,t,r){const i=this;return s;function s(P){return e.enter("codeIndented"),ro(e,u,"linePrefix",4+1)(P)}function u(P){const R=i.events[i.events.length-1];return R&&R[1].type==="linePrefix"&&R[2].sliceSerialize(R[1],!0).length>=4?a(P):r(P)}function a(P){return P===null?S(P):mn(P)?e.attempt(IK,a,S)(P):(e.enter("codeFlowValue"),x(P))}function x(P){return P===null||mn(P)?(e.exit("codeFlowValue"),a(P)):(e.consume(P),x)}function S(P){return e.exit("codeIndented"),t(P)}}function MK(e,t,r){const i=this;return s;function s(a){return i.parser.lazy[i.now().line]?r(a):mn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):ro(e,u,"linePrefix",4+1)(a)}function u(a){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):mn(a)?s(a):r(a)}}const RK={name:"codeText",tokenize:FK,resolve:LK,previous:DK};function LK(e){let t=e.length-4,r=3,i,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=r;++i<t;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(i=r-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function DK(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function FK(e,t,r){let i=0,s,u;return a;function a(z){return e.enter("codeText"),e.enter("codeTextSequence"),x(z)}function x(z){return z===96?(e.consume(z),i++,x):(e.exit("codeTextSequence"),S(z))}function S(z){return z===null?r(z):z===96?(u=e.enter("codeTextSequence"),s=0,R(z)):z===32?(e.enter("space"),e.consume(z),e.exit("space"),S):mn(z)?(e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),S):(e.enter("codeTextData"),P(z))}function P(z){return z===null||z===32||z===96||mn(z)?(e.exit("codeTextData"),S(z)):(e.consume(z),P)}function R(z){return z===96?(e.consume(z),s++,R):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(z)):(u.type="codeTextData",P(z))}}function JR(e){const t={};let r=-1,i,s,u,a,x,S,P;for(;++r<e.length;){for(;r in t;)r=t[r];if(i=e[r],r&&i[1].type==="chunkFlow"&&e[r-1][1].type==="listItemPrefix"&&(S=i[1]._tokenizer.events,u=0,u<S.length&&S[u][1].type==="lineEndingBlank"&&(u+=2),u<S.length&&S[u][1].type==="content"))for(;++u<S.length&&S[u][1].type!=="content";)S[u][1].type==="chunkText"&&(S[u][1]._isInFirstContentOfListItem=!0,u++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,BK(e,r)),r=t[r],P=!0);else if(i[1]._container){for(u=r,s=void 0;u--&&(a=e[u],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(s&&(e[s][1].type="lineEndingBlank"),a[1].type="lineEnding",s=u);s&&(i[1].end=Object.assign({},e[s][1].start),x=e.slice(s,r),x.unshift(i),wf(e,s,r-s+1,x))}}return!P}function BK(e,t){const r=e[t][1],i=e[t][2];let s=t-1;const u=[],a=r._tokenizer||i.parser[r.contentType](r.start),x=a.events,S=[],P={};let R,z,N=-1,$=r,Z=0,J=0;const ae=[J];for(;$;){for(;e[++s][1]!==$;);u.push(s),$._tokenizer||(R=i.sliceStream($),$.next||R.push(null),z&&a.defineSkip($.start),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(R),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),z=$,$=$.next}for($=r;++N<x.length;)x[N][0]==="exit"&&x[N-1][0]==="enter"&&x[N][1].type===x[N-1][1].type&&x[N][1].start.line!==x[N][1].end.line&&(J=N+1,ae.push(J),$._tokenizer=void 0,$.previous=void 0,$=$.next);for(a.events=[],$?($._tokenizer=void 0,$.previous=void 0):ae.pop(),N=ae.length;N--;){const V=x.slice(ae[N],ae[N+1]),K=u.pop();S.unshift([K,K+V.length-1]),wf(e,K,2,V)}for(N=-1;++N<S.length;)P[Z+S[N][0]]=Z+S[N][1],Z+=S[N][1]-S[N][0]-1;return P}const zK={tokenize:jK,resolve:UK},NK={tokenize:$K,partial:!0};function UK(e){return JR(e),e}function jK(e,t){let r;return i;function i(x){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(x)}function s(x){return x===null?u(x):mn(x)?e.check(NK,a,u)(x):(e.consume(x),s)}function u(x){return e.exit("chunkContent"),e.exit("content"),t(x)}function a(x){return e.consume(x),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function $K(e,t,r){const i=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ro(e,u,"linePrefix")}function u(a){if(a===null||mn(a))return r(a);const x=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,r,t)(a)}}function eL(e,t,r,i,s,u,a,x,S){const P=S||Number.POSITIVE_INFINITY;let R=0;return z;function z(V){return V===60?(e.enter(i),e.enter(s),e.enter(u),e.consume(V),e.exit(u),N):V===null||V===41||VS(V)?r(V):(e.enter(i),e.enter(a),e.enter(x),e.enter("chunkString",{contentType:"string"}),J(V))}function N(V){return V===62?(e.enter(u),e.consume(V),e.exit(u),e.exit(s),e.exit(i),t):(e.enter(x),e.enter("chunkString",{contentType:"string"}),$(V))}function $(V){return V===62?(e.exit("chunkString"),e.exit(x),N(V)):V===null||V===60||mn(V)?r(V):(e.consume(V),V===92?Z:$)}function Z(V){return V===60||V===62||V===92?(e.consume(V),$):$(V)}function J(V){return V===40?++R>P?r(V):(e.consume(V),J):V===41?R--?(e.consume(V),J):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):V===null||Bl(V)?R?r(V):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):VS(V)?r(V):(e.consume(V),V===92?ae:J)}function ae(V){return V===40||V===41||V===92?(e.consume(V),J):J(V)}}function tL(e,t,r,i,s,u){const a=this;let x=0,S;return P;function P($){return e.enter(i),e.enter(s),e.consume($),e.exit(s),e.enter(u),R}function R($){return $===null||$===91||$===93&&!S||$===94&&!x&&"_hiddenFootnoteSupport"in a.parser.constructs||x>999?r($):$===93?(e.exit(u),e.enter(s),e.consume($),e.exit(s),e.exit(i),t):mn($)?(e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R):(e.enter("chunkString",{contentType:"string"}),z($))}function z($){return $===null||$===91||$===93||mn($)||x++>999?(e.exit("chunkString"),R($)):(e.consume($),S=S||!Oa($),$===92?N:z)}function N($){return $===91||$===92||$===93?(e.consume($),x++,z):z($)}}function rL(e,t,r,i,s,u){let a;return x;function x(N){return e.enter(i),e.enter(s),e.consume(N),e.exit(s),a=N===40?41:N,S}function S(N){return N===a?(e.enter(s),e.consume(N),e.exit(s),e.exit(i),t):(e.enter(u),P(N))}function P(N){return N===a?(e.exit(u),S(a)):N===null?r(N):mn(N)?(e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),ro(e,P,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),R(N))}function R(N){return N===a||N===null||mn(N)?(e.exit("chunkString"),P(N)):(e.consume(N),N===92?z:R)}function z(N){return N===a||N===92?(e.consume(N),R):R(N)}}function Cg(e,t){let r;return i;function i(s){return mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,i):Oa(s)?ro(e,i,r?"linePrefix":"lineSuffix")(s):t(s)}}function v0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const VK={name:"definition",tokenize:qK},HK={tokenize:GK,partial:!0};function qK(e,t,r){const i=this;let s;return u;function u(S){return e.enter("definition"),tL.call(i,e,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function a(S){return s=v0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),Cg(e,eL(e,e.attempt(HK,ro(e,x,"whitespace"),ro(e,x,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(S)}function x(S){return S===null||mn(S)?(e.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),t(S)):r(S)}}function GK(e,t,r){return i;function i(a){return Bl(a)?Cg(e,s)(a):r(a)}function s(a){return a===34||a===39||a===40?rL(e,ro(e,u,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):r(a)}function u(a){return a===null||mn(a)?t(a):r(a)}}const QK={name:"hardBreakEscape",tokenize:WK};function WK(e,t,r){return i;function i(u){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(u),s}function s(u){return mn(u)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(u)):r(u)}}const ZK={name:"headingAtx",tokenize:XK,resolve:KK};function KK(e,t){let r=e.length-2,i=3,s,u;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},u={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},wf(e,i,r-i+1,[["enter",s,t],["enter",u,t],["exit",u,t],["exit",s,t]])),e}function XK(e,t,r){const i=this;let s=0;return u;function u(R){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),a(R)}function a(R){return R===35&&s++<6?(e.consume(R),a):R===null||Bl(R)?(e.exit("atxHeadingSequence"),i.interrupt?t(R):x(R)):r(R)}function x(R){return R===35?(e.enter("atxHeadingSequence"),S(R)):R===null||mn(R)?(e.exit("atxHeading"),t(R)):Oa(R)?ro(e,x,"whitespace")(R):(e.enter("atxHeadingText"),P(R))}function S(R){return R===35?(e.consume(R),S):(e.exit("atxHeadingSequence"),x(R))}function P(R){return R===null||R===35||Bl(R)?(e.exit("atxHeadingText"),x(R)):(e.consume(R),P)}}const YK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],v8=["pre","script","style","textarea"],JK={name:"htmlFlow",tokenize:rX,resolveTo:tX,concrete:!0},eX={tokenize:nX,partial:!0};function tX(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rX(e,t,r){const i=this;let s,u,a,x,S;return P;function P(pe){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(pe),R}function R(pe){return pe===33?(e.consume(pe),z):pe===47?(e.consume(pe),Z):pe===63?(e.consume(pe),s=3,i.interrupt?t:Ze):vf(pe)?(e.consume(pe),a=String.fromCharCode(pe),u=!0,J):r(pe)}function z(pe){return pe===45?(e.consume(pe),s=2,N):pe===91?(e.consume(pe),s=5,a="CDATA[",x=0,$):vf(pe)?(e.consume(pe),s=4,i.interrupt?t:Ze):r(pe)}function N(pe){return pe===45?(e.consume(pe),i.interrupt?t:Ze):r(pe)}function $(pe){return pe===a.charCodeAt(x++)?(e.consume(pe),x===a.length?i.interrupt?t:tt:$):r(pe)}function Z(pe){return vf(pe)?(e.consume(pe),a=String.fromCharCode(pe),J):r(pe)}function J(pe){return pe===null||pe===47||pe===62||Bl(pe)?pe!==47&&u&&v8.includes(a.toLowerCase())?(s=1,i.interrupt?t(pe):tt(pe)):YK.includes(a.toLowerCase())?(s=6,pe===47?(e.consume(pe),ae):i.interrupt?t(pe):tt(pe)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(pe):u?K(pe):V(pe)):pe===45||el(pe)?(e.consume(pe),a+=String.fromCharCode(pe),J):r(pe)}function ae(pe){return pe===62?(e.consume(pe),i.interrupt?t:tt):r(pe)}function V(pe){return Oa(pe)?(e.consume(pe),V):He(pe)}function K(pe){return pe===47?(e.consume(pe),He):pe===58||pe===95||vf(pe)?(e.consume(pe),ue):Oa(pe)?(e.consume(pe),K):He(pe)}function ue(pe){return pe===45||pe===46||pe===58||pe===95||el(pe)?(e.consume(pe),ue):ge(pe)}function ge(pe){return pe===61?(e.consume(pe),he):Oa(pe)?(e.consume(pe),ge):K(pe)}function he(pe){return pe===null||pe===60||pe===61||pe===62||pe===96?r(pe):pe===34||pe===39?(e.consume(pe),S=pe,le):Oa(pe)?(e.consume(pe),he):(S=null,Se(pe))}function le(pe){return pe===null||mn(pe)?r(pe):pe===S?(e.consume(pe),Ce):(e.consume(pe),le)}function Se(pe){return pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96||Bl(pe)?ge(pe):(e.consume(pe),Se)}function Ce(pe){return pe===47||pe===62||Oa(pe)?K(pe):r(pe)}function He(pe){return pe===62?(e.consume(pe),ut):r(pe)}function ut(pe){return Oa(pe)?(e.consume(pe),ut):pe===null||mn(pe)?tt(pe):r(pe)}function tt(pe){return pe===45&&s===2?(e.consume(pe),Qt):pe===60&&s===1?(e.consume(pe),fr):pe===62&&s===4?(e.consume(pe),Oe):pe===63&&s===3?(e.consume(pe),Ze):pe===93&&s===5?(e.consume(pe),Et):mn(pe)&&(s===6||s===7)?e.check(eX,Oe,st)(pe):pe===null||mn(pe)?st(pe):(e.consume(pe),tt)}function st(pe){return e.exit("htmlFlowData"),bt(pe)}function bt(pe){return pe===null?ee(pe):mn(pe)?e.attempt({tokenize:St,partial:!0},bt,ee)(pe):(e.enter("htmlFlowData"),tt(pe))}function St(pe,yt,tr){return yr;function yr(Sr){return pe.enter("lineEnding"),pe.consume(Sr),pe.exit("lineEnding"),hr}function hr(Sr){return i.parser.lazy[i.now().line]?tr(Sr):yt(Sr)}}function Qt(pe){return pe===45?(e.consume(pe),Ze):tt(pe)}function fr(pe){return pe===47?(e.consume(pe),a="",wr):tt(pe)}function wr(pe){return pe===62&&v8.includes(a.toLowerCase())?(e.consume(pe),Oe):vf(pe)&&a.length<8?(e.consume(pe),a+=String.fromCharCode(pe),wr):tt(pe)}function Et(pe){return pe===93?(e.consume(pe),Ze):tt(pe)}function Ze(pe){return pe===62?(e.consume(pe),Oe):pe===45&&s===2?(e.consume(pe),Ze):tt(pe)}function Oe(pe){return pe===null||mn(pe)?(e.exit("htmlFlowData"),ee(pe)):(e.consume(pe),Oe)}function ee(pe){return e.exit("htmlFlow"),t(pe)}}function nX(e,t,r){return i;function i(s){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),e.attempt(Tx,t,r)}}const iX={name:"htmlText",tokenize:oX};function oX(e,t,r){const i=this;let s,u,a,x;return S;function S(ee){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ee),P}function P(ee){return ee===33?(e.consume(ee),R):ee===47?(e.consume(ee),Se):ee===63?(e.consume(ee),he):vf(ee)?(e.consume(ee),ut):r(ee)}function R(ee){return ee===45?(e.consume(ee),z):ee===91?(e.consume(ee),u="CDATA[",a=0,ae):vf(ee)?(e.consume(ee),ge):r(ee)}function z(ee){return ee===45?(e.consume(ee),N):r(ee)}function N(ee){return ee===null||ee===62?r(ee):ee===45?(e.consume(ee),$):Z(ee)}function $(ee){return ee===null||ee===62?r(ee):Z(ee)}function Z(ee){return ee===null?r(ee):ee===45?(e.consume(ee),J):mn(ee)?(x=Z,Et(ee)):(e.consume(ee),Z)}function J(ee){return ee===45?(e.consume(ee),Oe):Z(ee)}function ae(ee){return ee===u.charCodeAt(a++)?(e.consume(ee),a===u.length?V:ae):r(ee)}function V(ee){return ee===null?r(ee):ee===93?(e.consume(ee),K):mn(ee)?(x=V,Et(ee)):(e.consume(ee),V)}function K(ee){return ee===93?(e.consume(ee),ue):V(ee)}function ue(ee){return ee===62?Oe(ee):ee===93?(e.consume(ee),ue):V(ee)}function ge(ee){return ee===null||ee===62?Oe(ee):mn(ee)?(x=ge,Et(ee)):(e.consume(ee),ge)}function he(ee){return ee===null?r(ee):ee===63?(e.consume(ee),le):mn(ee)?(x=he,Et(ee)):(e.consume(ee),he)}function le(ee){return ee===62?Oe(ee):he(ee)}function Se(ee){return vf(ee)?(e.consume(ee),Ce):r(ee)}function Ce(ee){return ee===45||el(ee)?(e.consume(ee),Ce):He(ee)}function He(ee){return mn(ee)?(x=He,Et(ee)):Oa(ee)?(e.consume(ee),He):Oe(ee)}function ut(ee){return ee===45||el(ee)?(e.consume(ee),ut):ee===47||ee===62||Bl(ee)?tt(ee):r(ee)}function tt(ee){return ee===47?(e.consume(ee),Oe):ee===58||ee===95||vf(ee)?(e.consume(ee),st):mn(ee)?(x=tt,Et(ee)):Oa(ee)?(e.consume(ee),tt):Oe(ee)}function st(ee){return ee===45||ee===46||ee===58||ee===95||el(ee)?(e.consume(ee),st):bt(ee)}function bt(ee){return ee===61?(e.consume(ee),St):mn(ee)?(x=bt,Et(ee)):Oa(ee)?(e.consume(ee),bt):tt(ee)}function St(ee){return ee===null||ee===60||ee===61||ee===62||ee===96?r(ee):ee===34||ee===39?(e.consume(ee),s=ee,Qt):mn(ee)?(x=St,Et(ee)):Oa(ee)?(e.consume(ee),St):(e.consume(ee),s=void 0,wr)}function Qt(ee){return ee===s?(e.consume(ee),fr):ee===null?r(ee):mn(ee)?(x=Qt,Et(ee)):(e.consume(ee),Qt)}function fr(ee){return ee===62||ee===47||Bl(ee)?tt(ee):r(ee)}function wr(ee){return ee===null||ee===34||ee===39||ee===60||ee===61||ee===96?r(ee):ee===62||Bl(ee)?tt(ee):(e.consume(ee),wr)}function Et(ee){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ee),e.exit("lineEnding"),ro(e,Ze,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ze(ee){return e.enter("htmlTextData"),x(ee)}function Oe(ee){return ee===62?(e.consume(ee),e.exit("htmlTextData"),e.exit("htmlText"),t):r(ee)}}const E4={name:"labelEnd",tokenize:fX,resolveTo:cX,resolveAll:lX},aX={tokenize:pX},sX={tokenize:AX},uX={tokenize:hX};function lX(e){let t=-1,r;for(;++t<e.length;)r=e[t][1],(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++);return e}function cX(e,t){let r=e.length,i=0,s,u,a,x;for(;r--;)if(s=e[r][1],u){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(u=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(a=r);const S={type:e[u][1].type==="labelLink"?"link":"image",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)},P={type:"label",start:Object.assign({},e[u][1].start),end:Object.assign({},e[a][1].end)},R={type:"labelText",start:Object.assign({},e[u+i+2][1].end),end:Object.assign({},e[a-2][1].start)};return x=[["enter",S,t],["enter",P,t]],x=Ll(x,e.slice(u+1,u+i+3)),x=Ll(x,[["enter",R,t]]),x=Ll(x,S4(t.parser.constructs.insideSpan.null,e.slice(u+i+4,a-3),t)),x=Ll(x,[["exit",R,t],e[a-2],e[a-1],["exit",P,t]]),x=Ll(x,e.slice(a+1)),x=Ll(x,[["exit",S,t]]),wf(e,u,e.length,x),e}function fX(e,t,r){const i=this;let s=i.events.length,u,a;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){u=i.events[s][1];break}return x;function x(R){return u?u._inactive?P(R):(a=i.parser.defined.includes(v0(i.sliceSerialize({start:u.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(R),e.exit("labelMarker"),e.exit("labelEnd"),S):r(R)}function S(R){return R===40?e.attempt(aX,t,a?t:P)(R):R===91?e.attempt(sX,t,a?e.attempt(uX,t,P):P)(R):a?t(R):P(R)}function P(R){return u._balanced=!0,r(R)}}function pX(e,t,r){return i;function i(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),Cg(e,s)}function s(S){return S===41?x(S):eL(e,u,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function u(S){return Bl(S)?Cg(e,a)(S):x(S)}function a(S){return S===34||S===39||S===40?rL(e,Cg(e,x),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):x(S)}function x(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):r(S)}}function AX(e,t,r){const i=this;return s;function s(a){return tL.call(i,e,u,r,"reference","referenceMarker","referenceString")(a)}function u(a){return i.parser.defined.includes(v0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):r(a)}}function hX(e,t,r){return i;function i(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),s}function s(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):r(u)}}const dX={name:"labelStartImage",tokenize:mX,resolveAll:E4.resolveAll};function mX(e,t,r){const i=this;return s;function s(x){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(x),e.exit("labelImageMarker"),u}function u(x){return x===91?(e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelImage"),a):r(x)}function a(x){return x===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(x):t(x)}}const gX={name:"labelStartLink",tokenize:yX,resolveAll:E4.resolveAll};function yX(e,t,r){const i=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),u}function u(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(a):t(a)}}const Mw={name:"lineEnding",tokenize:vX};function vX(e,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),ro(e,t,"linePrefix")}}const n_={name:"thematicBreak",tokenize:_X};function _X(e,t,r){let i=0,s;return u;function u(S){return e.enter("thematicBreak"),s=S,a(S)}function a(S){return S===s?(e.enter("thematicBreakSequence"),x(S)):Oa(S)?ro(e,a,"whitespace")(S):i<3||S!==null&&!mn(S)?r(S):(e.exit("thematicBreak"),t(S))}function x(S){return S===s?(e.consume(S),i++,x):(e.exit("thematicBreakSequence"),a(S))}}const Tu={name:"list",tokenize:wX,continuation:{tokenize:SX},exit:EX},xX={tokenize:kX,partial:!0},bX={tokenize:CX,partial:!0};function wX(e,t,r){const i=this,s=i.events[i.events.length-1];let u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return x;function x($){const Z=i.containerState.type||($===42||$===43||$===45?"listUnordered":"listOrdered");if(Z==="listUnordered"?!i.containerState.marker||$===i.containerState.marker:$S($)){if(i.containerState.type||(i.containerState.type=Z,e.enter(Z,{_container:!0})),Z==="listUnordered")return e.enter("listItemPrefix"),$===42||$===45?e.check(n_,r,P)($):P($);if(!i.interrupt||$===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),S($)}return r($)}function S($){return $S($)&&++a<10?(e.consume($),S):(!i.interrupt||a<2)&&(i.containerState.marker?$===i.containerState.marker:$===41||$===46)?(e.exit("listItemValue"),P($)):r($)}function P($){return e.enter("listItemMarker"),e.consume($),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||$,e.check(Tx,i.interrupt?r:R,e.attempt(xX,N,z))}function R($){return i.containerState.initialBlankLine=!0,u++,N($)}function z($){return Oa($)?(e.enter("listItemPrefixWhitespace"),e.consume($),e.exit("listItemPrefixWhitespace"),N):r($)}function N($){return i.containerState.size=u+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t($)}}function SX(e,t,r){const i=this;return i.containerState._closeFlow=void 0,e.check(Tx,s,u);function s(x){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ro(e,t,"listItemIndent",i.containerState.size+1)(x)}function u(x){return i.containerState.furtherBlankLines||!Oa(x)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(x)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(bX,t,a)(x))}function a(x){return i.containerState._closeFlow=!0,i.interrupt=void 0,ro(e,e.attempt(Tu,t,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function CX(e,t,r){const i=this;return ro(e,s,"listItemIndent",i.containerState.size+1);function s(u){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(u):r(u)}}function EX(e){e.exit(this.containerState.type)}function kX(e,t,r){const i=this;return ro(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function s(u){const a=i.events[i.events.length-1];return!Oa(u)&&a&&a[1].type==="listItemPrefixWhitespace"?t(u):r(u)}}const _8={name:"setextUnderline",tokenize:PX,resolveTo:TX};function TX(e,t){let r=e.length,i,s,u;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!u&&e[r][1].type==="definition"&&(u=r);const a={type:"setextHeading",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[s][1].type="setextHeadingText",u?(e.splice(s,0,["enter",a,t]),e.splice(u+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[u][1].end)):e[i][1]=a,e.push(["exit",a,t]),e}function PX(e,t,r){const i=this;let s=i.events.length,u,a;for(;s--;)if(i.events[s][1].type!=="lineEnding"&&i.events[s][1].type!=="linePrefix"&&i.events[s][1].type!=="content"){a=i.events[s][1].type==="paragraph";break}return x;function x(R){return!i.parser.lazy[i.now().line]&&(i.interrupt||a)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),u=R,S(R)):r(R)}function S(R){return R===u?(e.consume(R),S):(e.exit("setextHeadingLineSequence"),ro(e,P,"lineSuffix")(R))}function P(R){return R===null||mn(R)?(e.exit("setextHeadingLine"),t(R)):r(R)}}const IX={tokenize:OX};function OX(e){const t=this,r=e.attempt(Tx,i,e.attempt(this.parser.constructs.flowInitial,s,ro(e,e.attempt(this.parser.constructs.flow,s,e.attempt(zK,s)),"linePrefix")));return r;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function s(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const MX={resolveAll:iL()},RX=nL("string"),LX=nL("text");function nL(e){return{tokenize:t,resolveAll:iL(e==="text"?DX:void 0)};function t(r){const i=this,s=this.parser.constructs[e],u=r.attempt(s,a,x);return a;function a(R){return P(R)?u(R):x(R)}function x(R){if(R===null){r.consume(R);return}return r.enter("data"),r.consume(R),S}function S(R){return P(R)?(r.exit("data"),u(R)):(r.consume(R),S)}function P(R){if(R===null)return!0;const z=s[R];let N=-1;if(z)for(;++N<z.length;){const $=z[N];if(!$.previous||$.previous.call(i,i.previous))return!0}return!1}}}function iL(e){return t;function t(r,i){let s=-1,u;for(;++s<=r.length;)u===void 0?r[s]&&r[s][1].type==="data"&&(u=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==u+2&&(r[u][1].end=r[s-1][1].end,r.splice(u+2,s-u-2),s=u+2),u=void 0);return e?e(r,i):r}}function DX(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],s=t.sliceStream(i);let u=s.length,a=-1,x=0,S;for(;u--;){const P=s[u];if(typeof P=="string"){for(a=P.length;P.charCodeAt(a-1)===32;)x++,a--;if(a)break;a=-1}else if(P===-2)S=!0,x++;else if(P!==-1){u++;break}}if(x){const P={type:r===e.length||S||x<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-x,offset:i.end.offset-x,_index:i.start._index+u,_bufferIndex:u?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},P.start),i.start.offset===i.end.offset?Object.assign(i,P):(e.splice(r,0,["enter",P,t],["exit",P,t]),r+=2)}r++}return e}function FX(e,t,r){let i=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},u=[];let a=[],x=[];const S={consume:K,enter:ue,exit:ge,attempt:Se(he),check:Se(le),interrupt:Se(le,{interrupt:!0})},P={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:$,sliceSerialize:N,now:Z,defineSkip:J,write:z};let R=t.tokenize.call(P,S);return t.resolveAll&&u.push(t),P;function z(tt){return a=Ll(a,tt),ae(),a[a.length-1]!==null?[]:(Ce(t,0),P.events=S4(u,P.events,P),P.events)}function N(tt,st){return zX($(tt),st)}function $(tt){return BX(a,tt)}function Z(){return Object.assign({},i)}function J(tt){s[tt.line]=tt.column,ut()}function ae(){let tt;for(;i._index<a.length;){const st=a[i._index];if(typeof st=="string")for(tt=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===tt&&i._bufferIndex<st.length;)V(st.charCodeAt(i._bufferIndex));else V(st)}}function V(tt){R=R(tt)}function K(tt){mn(tt)?(i.line++,i.column=1,i.offset+=tt===-3?2:1,ut()):tt!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),P.previous=tt}function ue(tt,st){const bt=st||{};return bt.type=tt,bt.start=Z(),P.events.push(["enter",bt,P]),x.push(bt),bt}function ge(tt){const st=x.pop();return st.end=Z(),P.events.push(["exit",st,P]),st}function he(tt,st){Ce(tt,st.from)}function le(tt,st){st.restore()}function Se(tt,st){return bt;function bt(St,Qt,fr){let wr,Et,Ze,Oe;return Array.isArray(St)?pe(St):"tokenize"in St?pe([St]):ee(St);function ee(hr){return Sr;function Sr(Ur){const Dr=Ur!==null&&hr[Ur],Xn=Ur!==null&&hr.null,jn=[...Array.isArray(Dr)?Dr:Dr?[Dr]:[],...Array.isArray(Xn)?Xn:Xn?[Xn]:[]];return pe(jn)(Ur)}}function pe(hr){return wr=hr,Et=0,hr.length===0?fr:yt(hr[Et])}function yt(hr){return Sr;function Sr(Ur){return Oe=He(),Ze=hr,hr.partial||(P.currentConstruct=hr),hr.name&&P.parser.constructs.disable.null.includes(hr.name)?yr():hr.tokenize.call(st?Object.assign(Object.create(P),st):P,S,tr,yr)(Ur)}}function tr(hr){return tt(Ze,Oe),Qt}function yr(hr){return Oe.restore(),++Et<wr.length?yt(wr[Et]):fr}}}function Ce(tt,st){tt.resolveAll&&!u.includes(tt)&&u.push(tt),tt.resolve&&wf(P.events,st,P.events.length-st,tt.resolve(P.events.slice(st),P)),tt.resolveTo&&(P.events=tt.resolveTo(P.events,P))}function He(){const tt=Z(),st=P.previous,bt=P.currentConstruct,St=P.events.length,Qt=Array.from(x);return{restore:fr,from:St};function fr(){i=tt,P.previous=st,P.currentConstruct=bt,P.events.length=St,x=Qt,ut()}}function ut(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function BX(e,t){const r=t.start._index,i=t.start._bufferIndex,s=t.end._index,u=t.end._bufferIndex;let a;return r===s?a=[e[r].slice(i,u)]:(a=e.slice(r,s),i>-1&&(a[0]=a[0].slice(i)),u>0&&a.push(e[s].slice(0,u))),a}function zX(e,t){let r=-1;const i=[];let s;for(;++r<e.length;){const u=e[r];let a;if(typeof u=="string")a=u;else switch(u){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(u)}s=u===-2,i.push(a)}return i.join("")}const NX={[42]:Tu,[43]:Tu,[45]:Tu,[48]:Tu,[49]:Tu,[50]:Tu,[51]:Tu,[52]:Tu,[53]:Tu,[54]:Tu,[55]:Tu,[56]:Tu,[57]:Tu,[62]:KR},UX={[91]:VK},jX={[-2]:Ow,[-1]:Ow,[32]:Ow},$X={[35]:ZK,[42]:n_,[45]:[_8,n_],[60]:JK,[61]:_8,[95]:n_,[96]:y8,[126]:y8},VX={[38]:YR,[92]:XR},HX={[-5]:Mw,[-4]:Mw,[-3]:Mw,[33]:dX,[38]:YR,[42]:HS,[60]:[xK,iX],[91]:gX,[92]:[QK,XR],[93]:E4,[95]:HS,[96]:RK},qX={null:[HS,MX]},GX={null:[42,95]},QX={null:[]},WX=Object.freeze(Object.defineProperty({__proto__:null,document:NX,contentInitial:UX,flowInitial:jX,flow:$X,string:VX,text:HX,insideSpan:qX,attentionMarkers:GX,disable:QX},Symbol.toStringTag,{value:"Module"}));function ZX(e={}){const t=aK([WX].concat(e.extensions||[])),r={defined:[],lazy:{},constructs:t,content:i(hK),document:i(mK),flow:i(IX),string:i(RX),text:i(LX)};return r;function i(s){return u;function u(a){return FX(r,s,a)}}}const x8=/[\0\t\n\r]/g;function KX(){let e=1,t="",r=!0,i;return s;function s(u,a,x){const S=[];let P,R,z,N,$;for(u=t+u.toString(a),z=0,t="",r&&(u.charCodeAt(0)===65279&&z++,r=void 0);z<u.length;){if(x8.lastIndex=z,P=x8.exec(u),N=P&&P.index!==void 0?P.index:u.length,$=u.charCodeAt(N),!P){t=u.slice(z);break}if($===10&&z===N&&i)S.push(-3),i=void 0;else switch(i&&(S.push(-5),i=void 0),z<N&&(S.push(u.slice(z,N)),e+=N-z),$){case 0:{S.push(65533),e++;break}case 9:{for(R=Math.ceil(e/4)*4,S.push(-2);e++<R;)S.push(-1);break}case 10:{S.push(-4),e=1;break}default:i=!0,e=1}z=N+1}return x&&(i&&S.push(-5),t&&S.push(t),S.push(null)),S}}function XX(e){for(;!JR(e););return e}function oL(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\uFFFD":String.fromCharCode(r)}const YX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function JX(e){return e.replace(YX,eY)}function eY(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),u=s===120||s===88;return oL(r.slice(u?2:1),u?16:10)}return C4(r)||e}const qS={}.hasOwnProperty,tY=function(e,t,r){return typeof t!="string"&&(r=t,t=void 0),rY(r)(XX(ZX(r).document().write(KX()(e,t,!0))))};function rY(e={}){const t=aL({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:S(Qn),autolinkProtocol:st,autolinkEmail:st,atxHeading:S(Bi),blockQuote:S(Fi),characterEscape:st,characterReference:st,codeFenced:S(jr),codeFencedFenceInfo:P,codeFencedFenceMeta:P,codeIndented:S(jr,P),codeText:S(mi,P),codeTextData:st,data:st,codeFlowValue:st,definition:S(gi),definitionDestinationString:P,definitionLabelString:P,definitionTitleString:P,emphasis:S(Qo),hardBreakEscape:S(Wi),hardBreakTrailing:S(Wi),htmlFlow:S(ws,P),htmlFlowData:st,htmlText:S(ws,P),htmlTextData:st,image:S(io),label:P,link:S(Qn),listItem:S(oo),listItemValue:J,listOrdered:S(Lo,Z),listUnordered:S(Lo),paragraph:S(bi),reference:hr,referenceString:P,resourceDestinationString:P,resourceTitleString:P,setextHeading:S(Bi),strong:S(Do),thematicBreak:S(gt)},exit:{atxHeading:z(),atxHeadingSequence:Ce,autolink:z(),autolinkEmail:jn,autolinkProtocol:Xn,blockQuote:z(),characterEscapeValue:bt,characterReferenceMarkerHexadecimal:Ur,characterReferenceMarkerNumeric:Ur,characterReferenceValue:Dr,codeFenced:z(ue),codeFencedFence:K,codeFencedFenceInfo:ae,codeFencedFenceMeta:V,codeFlowValue:bt,codeIndented:z(ge),codeText:z(Et),codeTextData:bt,data:bt,definition:z(),definitionDestinationString:Se,definitionLabelString:he,definitionTitleString:le,emphasis:z(),hardBreakEscape:z(Qt),hardBreakTrailing:z(Qt),htmlFlow:z(fr),htmlFlowData:bt,htmlText:z(wr),htmlTextData:bt,image:z(Oe),label:pe,labelText:ee,lineEnding:St,link:z(Ze),listItem:z(),listOrdered:z(),listUnordered:z(),paragraph:z(),referenceString:Sr,resourceDestinationString:yt,resourceTitleString:tr,resource:yr,setextHeading:z(tt),setextHeadingLineSequence:ut,setextHeadingText:He,strong:z(),thematicBreak:z()}},e.mdastExtensions||[]),r={};return i;function i(be){let Ye={type:"root",children:[]};const kt=[Ye],or=[],Hr=[],In={stack:kt,tokenStack:or,config:t,enter:R,exit:N,buffer:P,resume:$,setData:u,getData:a};let Or=-1;for(;++Or<be.length;)if(be[Or][1].type==="listOrdered"||be[Or][1].type==="listUnordered")if(be[Or][0]==="enter")Hr.push(Or);else{const en=Hr.pop();Or=s(be,en,Or)}for(Or=-1;++Or<be.length;){const en=t[be[Or][0]];qS.call(en,be[Or][1].type)&&en[be[Or][1].type].call(Object.assign({sliceSerialize:be[Or][2].sliceSerialize},In),be[Or][1])}if(or.length>0){const en=or[or.length-1];(en[1]||b8).call(In,void 0,en[0])}for(Ye.position={start:x(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:x(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},Or=-1;++Or<t.transforms.length;)Ye=t.transforms[Or](Ye)||Ye;return Ye}function s(be,Ye,kt){let or=Ye-1,Hr=-1,In=!1,Or,en,$n,Yn;for(;++or<=kt;){const hn=be[or];if(hn[1].type==="listUnordered"||hn[1].type==="listOrdered"||hn[1].type==="blockQuote"?(hn[0]==="enter"?Hr++:Hr--,Yn=void 0):hn[1].type==="lineEndingBlank"?hn[0]==="enter"&&(Or&&!Yn&&!Hr&&!$n&&($n=or),Yn=void 0):hn[1].type==="linePrefix"||hn[1].type==="listItemValue"||hn[1].type==="listItemMarker"||hn[1].type==="listItemPrefix"||hn[1].type==="listItemPrefixWhitespace"||(Yn=void 0),!Hr&&hn[0]==="enter"&&hn[1].type==="listItemPrefix"||Hr===-1&&hn[0]==="exit"&&(hn[1].type==="listUnordered"||hn[1].type==="listOrdered")){if(Or){let Eo=or;for(en=void 0;Eo--;){const Jn=be[Eo];if(Jn[1].type==="lineEnding"||Jn[1].type==="lineEndingBlank"){if(Jn[0]==="exit")continue;en&&(be[en][1].type="lineEndingBlank",In=!0),Jn[1].type="lineEnding",en=Eo}else if(!(Jn[1].type==="linePrefix"||Jn[1].type==="blockQuotePrefix"||Jn[1].type==="blockQuotePrefixWhitespace"||Jn[1].type==="blockQuoteMarker"||Jn[1].type==="listItemIndent"))break}$n&&(!en||$n<en)&&(Or._spread=!0),Or.end=Object.assign({},en?be[en][1].start:hn[1].end),be.splice(en||or,0,["exit",Or,hn[2]]),or++,kt++}hn[1].type==="listItemPrefix"&&(Or={type:"listItem",_spread:!1,start:Object.assign({},hn[1].start)},be.splice(or,0,["enter",Or,hn[2]]),or++,kt++,$n=void 0,Yn=!0)}}return be[Ye][1]._spread=In,kt}function u(be,Ye){r[be]=Ye}function a(be){return r[be]}function x(be){return{line:be.line,column:be.column,offset:be.offset}}function S(be,Ye){return kt;function kt(or){R.call(this,be(or),or),Ye&&Ye.call(this,or)}}function P(){this.stack.push({type:"fragment",children:[]})}function R(be,Ye,kt){return this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Ye,kt]),be.position={start:x(Ye.start)},be}function z(be){return Ye;function Ye(kt){be&&be.call(this,kt),N.call(this,kt)}}function N(be,Ye){const kt=this.stack.pop(),or=this.tokenStack.pop();if(or)or[0].type!==be.type&&(Ye?Ye.call(this,be,or[0]):(or[1]||b8).call(this,be,or[0]));else throw new Error("Cannot close `"+be.type+"` ("+Sg({start:be.start,end:be.end})+"): it\u2019s not open");return kt.position.end=x(be.end),kt}function $(){return oK(this.stack.pop())}function Z(){u("expectingFirstListItemValue",!0)}function J(be){if(a("expectingFirstListItemValue")){const Ye=this.stack[this.stack.length-2];Ye.start=Number.parseInt(this.sliceSerialize(be),10),u("expectingFirstListItemValue")}}function ae(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.lang=be}function V(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.meta=be}function K(){a("flowCodeInside")||(this.buffer(),u("flowCodeInside",!0))}function ue(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u("flowCodeInside")}function ge(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be.replace(/(\r?\n|\r)$/g,"")}function he(be){const Ye=this.resume(),kt=this.stack[this.stack.length-1];kt.label=Ye,kt.identifier=v0(this.sliceSerialize(be)).toLowerCase()}function le(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=be}function Se(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=be}function Ce(be){const Ye=this.stack[this.stack.length-1];if(!Ye.depth){const kt=this.sliceSerialize(be).length;Ye.depth=kt}}function He(){u("setextHeadingSlurpLineEnding",!0)}function ut(be){const Ye=this.stack[this.stack.length-1];Ye.depth=this.sliceSerialize(be).charCodeAt(0)===61?1:2}function tt(){u("setextHeadingSlurpLineEnding")}function st(be){const Ye=this.stack[this.stack.length-1];let kt=Ye.children[Ye.children.length-1];(!kt||kt.type!=="text")&&(kt=sa(),kt.position={start:x(be.start)},Ye.children.push(kt)),this.stack.push(kt)}function bt(be){const Ye=this.stack.pop();Ye.value+=this.sliceSerialize(be),Ye.position.end=x(be.end)}function St(be){const Ye=this.stack[this.stack.length-1];if(a("atHardBreak")){const kt=Ye.children[Ye.children.length-1];kt.position.end=x(be.end),u("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ye.type)&&(st.call(this,be),bt.call(this,be))}function Qt(){u("atHardBreak",!0)}function fr(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function wr(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function Et(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function Ze(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),u("referenceType")}function Oe(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),u("referenceType")}function ee(be){const Ye=this.stack[this.stack.length-2],kt=this.sliceSerialize(be);Ye.label=JX(kt),Ye.identifier=v0(kt).toLowerCase()}function pe(){const be=this.stack[this.stack.length-1],Ye=this.resume(),kt=this.stack[this.stack.length-1];u("inReference",!0),kt.type==="link"?kt.children=be.children:kt.alt=Ye}function yt(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=be}function tr(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=be}function yr(){u("inReference")}function hr(){u("referenceType","collapsed")}function Sr(be){const Ye=this.resume(),kt=this.stack[this.stack.length-1];kt.label=Ye,kt.identifier=v0(this.sliceSerialize(be)).toLowerCase(),u("referenceType","full")}function Ur(be){u("characterReferenceType",be.type)}function Dr(be){const Ye=this.sliceSerialize(be),kt=a("characterReferenceType");let or;kt?(or=oL(Ye,kt==="characterReferenceMarkerNumeric"?10:16),u("characterReferenceType")):or=C4(Ye);const Hr=this.stack.pop();Hr.value+=or,Hr.position.end=x(be.end)}function Xn(be){bt.call(this,be);const Ye=this.stack[this.stack.length-1];Ye.url=this.sliceSerialize(be)}function jn(be){bt.call(this,be);const Ye=this.stack[this.stack.length-1];Ye.url="mailto:"+this.sliceSerialize(be)}function Fi(){return{type:"blockquote",children:[]}}function jr(){return{type:"code",lang:null,meta:null,value:""}}function mi(){return{type:"inlineCode",value:""}}function gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qo(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:void 0,children:[]}}function Wi(){return{type:"break"}}function ws(){return{type:"html",value:""}}function io(){return{type:"image",title:null,url:"",alt:null}}function Qn(){return{type:"link",title:null,url:"",children:[]}}function Lo(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function oo(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function bi(){return{type:"paragraph",children:[]}}function Do(){return{type:"strong",children:[]}}function sa(){return{type:"text",value:""}}function gt(){return{type:"thematicBreak"}}}function aL(e,t){let r=-1;for(;++r<t.length;){const i=t[r];Array.isArray(i)?aL(e,i):nY(e,i)}return e}function nY(e,t){let r;for(r in t)if(qS.call(t,r)){const i=r==="canContainEols"||r==="transforms",u=(qS.call(e,r)?e[r]:void 0)||(e[r]=i?[]:{}),a=t[r];a&&(i?e[r]=[...u,...a]:Object.assign(u,a))}}function b8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Sg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Sg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Sg({start:t.start,end:t.end})+") is still open")}function iY(e){Object.assign(this,{Parser:r=>{const i=this.data("settings");return tY(r,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Na=function(e,t,r){var i={type:String(e)};return r==null&&(typeof t=="string"||Array.isArray(t))?r=t:Object.assign(i,t),Array.isArray(r)?i.children=r:r!=null&&(i.value=String(r)),i};const i_={}.hasOwnProperty;function oY(e,t){const r=t.data||{};return"value"in t&&!(i_.call(r,"hName")||i_.call(r,"hProperties")||i_.call(r,"hChildren"))?e.augment(t,Na("text",t.value)):e(t,"div",Us(e,t))}function sL(e,t,r){const i=t&&t.type;let s;if(!i)throw new Error("Expected node, got `"+t+"`");return i_.call(e.handlers,i)?s=e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?s=aY:s=e.unknownHandler,(typeof s=="function"?s:oY)(e,t,r)}function aY(e,t){return"children"in t?{...t,children:Us(e,t)}:t}function Us(e,t){const r=[];if("children"in t){const i=t.children;let s=-1;for(;++s<i.length;){const u=sL(e,i[s],t);if(u){if(s&&i[s-1].type==="break"&&(!Array.isArray(u)&&u.type==="text"&&(u.value=u.value.replace(/^\s+/,"")),!Array.isArray(u)&&u.type==="element")){const a=u.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(u)?r.push(...u):r.push(u)}}}return r}const uL=function(e){if(e==null)return cY;if(typeof e=="string")return lY(e);if(typeof e=="object")return Array.isArray(e)?sY(e):uY(e);if(typeof e=="function")return Px(e);throw new Error("Expected function, string, or object as test")};function sY(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=uL(e[r]);return Px(i);function i(...s){let u=-1;for(;++u<t.length;)if(t[u].call(this,...s))return!0;return!1}}function uY(e){return Px(t);function t(r){let i;for(i in e)if(r[i]!==e[i])return!1;return!0}}function lY(e){return Px(t);function t(r){return r&&r.type===e}}function Px(e){return t;function t(...r){return Boolean(e.call(this,...r))}}function cY(){return!0}const fY=!0,pY="skip",w8=!1,AY=function(e,t,r,i){typeof t=="function"&&typeof r!="function"&&(i=r,r=t,t=null);const s=uL(t),u=i?-1:1;a(e,null,[])();function a(x,S,P){const R=typeof x=="object"&&x!==null?x:{};let z;return typeof R.type=="string"&&(z=typeof R.tagName=="string"?R.tagName:typeof R.name=="string"?R.name:void 0,Object.defineProperty(N,"name",{value:"node ("+(R.type+(z?"<"+z+">":""))+")"})),N;function N(){let $=[],Z,J,ae;if((!t||s(x,S,P[P.length-1]||null))&&($=hY(r(x,P)),$[0]===w8))return $;if(x.children&&$[0]!==pY)for(J=(i?x.children.length:-1)+u,ae=P.concat(x);J>-1&&J<x.children.length;){if(Z=a(x.children[J],J,ae)(),Z[0]===w8)return Z;J=typeof Z[1]=="number"?Z[1]:J+u}return $}}};function hY(e){return Array.isArray(e)?e:typeof e=="number"?[fY,e]:[e]}const k4=function(e,t,r,i){typeof t=="function"&&typeof r!="function"&&(i=r,r=t,t=null),AY(e,t,s,i);function s(u,a){const x=a[a.length-1];return r(u,x?x.children.indexOf(u):null,x)}},lL=fL("start"),cL=fL("end");function fL(e){return t;function t(r){const i=r&&r.position&&r.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function dY(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const S8={}.hasOwnProperty;function mY(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return k4(e,"definition",i=>{const s=C8(i.identifier);s&&!S8.call(t,s)&&(t[s]=i)}),r;function r(i){const s=C8(i);return s&&S8.call(t,s)?t[s]:null}}function C8(e){return String(e||"").toUpperCase()}const gY={'"':"quot","&":"amp","<":"lt",">":"gt"};function yY(e){return e.replace(/["&<>]/g,t);function t(r){return"&"+gY[r]+";"}}function pL(e,t){const r=yY(vY(e||""));if(!t)return r;const i=r.indexOf(":"),s=r.indexOf("?"),u=r.indexOf("#"),a=r.indexOf("/");return i<0||a>-1&&i>a||s>-1&&i>s||u>-1&&i>u||t.test(r.slice(0,i))?r:""}function vY(e){const t=[];let r=-1,i=0,s=0;for(;++r<e.length;){const u=e.charCodeAt(r);let a="";if(u===37&&el(e.charCodeAt(r+1))&&el(e.charCodeAt(r+2)))s=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(a=String.fromCharCode(u));else if(u>55295&&u<57344){const x=e.charCodeAt(r+1);u<56320&&x>56319&&x<57344?(a=String.fromCharCode(u,x),s=1):a="\uFFFD"}else a=String.fromCharCode(u);a&&(t.push(e.slice(i,r),encodeURIComponent(a)),i=r+s+1,a=""),s&&(r+=s,s=0)}return t.join("")+e.slice(i)}function _p(e,t){const r=[];let i=-1;for(t&&r.push(Na("text",`
`));++i<e.length;)i&&r.push(Na("text",`
`)),r.push(e[i]);return t&&e.length>0&&r.push(Na("text",`
`)),r}function _Y(e){let t=-1;const r=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const s=Us(e,i),u=String(i.identifier),a=pL(u.toLowerCase());let x=0;const S=[];for(;++x<=e.footnoteCounts[u];){const z={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(x>1?"-"+x:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21A9"}]};x>1&&z.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(x)}]}),S.length>0&&S.push({type:"text",value:" "}),S.push(z)}const P=s[s.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const z=P.children[P.children.length-1];z&&z.type==="text"?z.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...S)}else s.push(...S);const R={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:_p(s,!0)};i.position&&(R.position=i.position),r.push(R)}return r.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Na("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_p(r,!0)},{type:"text",value:`
`}]}}function xY(e,t){return e(t,"blockquote",_p(Us(e,t),!0))}function bY(e,t){return[e(t,"br"),Na("text",`
`)]}function wY(e,t){const r=t.value?t.value+`
`:"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};i&&(s.className=["language-"+i]);const u=e(t,"code",s,[Na("text",r)]);return t.meta&&(u.data={meta:t.meta}),e(t.position,"pre",[u])}function SY(e,t){return e(t,"del",Us(e,t))}function CY(e,t){return e(t,"em",Us(e,t))}function AL(e,t){const r=String(t.identifier),i=pL(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let u;s===-1?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,u=e.footnoteOrder.length):(e.footnoteCounts[r]++,u=s+1);const a=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Na("text",String(u))])])}function EY(e,t){const r=e.footnoteById;let i=1;for(;i in r;)i++;const s=String(i);return r[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:t.children}],position:t.position},AL(e,{type:"footnoteReference",identifier:s,position:t.position})}function kY(e,t){return e(t,"h"+t.depth,Us(e,t))}function TY(e,t){return e.dangerous?e.augment(t,Na("raw",t.value)):null}var E8={};function PY(e){var t,r,i=E8[e];if(i)return i;for(i=E8[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function Ix(e,t,r){var i,s,u,a,x,S="";for(typeof t!="string"&&(r=t,t=Ix.defaultChars),typeof r>"u"&&(r=!0),x=PY(t),i=0,s=e.length;i<s;i++){if(u=e.charCodeAt(i),r&&u===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){S+=e.slice(i,i+3),i+=2;continue}if(u<128){S+=x[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&i+1<s&&(a=e.charCodeAt(i+1),a>=56320&&a<=57343)){S+=encodeURIComponent(e[i]+e[i+1]),i++;continue}S+="%EF%BF%BD";continue}S+=encodeURIComponent(e[i])}return S}Ix.defaultChars=";/?:@&=+$,-_.!~*'()#";Ix.componentChars="-_.!~*'()";var Ox=Ix;function hL(e,t){const r=t.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Na("text","!["+t.alt+i);const s=Us(e,t),u=s[0];u&&u.type==="text"?u.value="["+u.value:s.unshift(Na("text","["));const a=s[s.length-1];return a&&a.type==="text"?a.value+=i:s.push(Na("text",i)),s}function IY(e,t){const r=e.definition(t.identifier);if(!r)return hL(e,t);const i={src:Ox(r.url||""),alt:t.alt};return r.title!==null&&r.title!==void 0&&(i.title=r.title),e(t,"img",i)}function OY(e,t){const r={src:Ox(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(r.title=t.title),e(t,"img",r)}function MY(e,t){return e(t,"code",[Na("text",t.value.replace(/\r?\n|\r/g," "))])}function RY(e,t){const r=e.definition(t.identifier);if(!r)return hL(e,t);const i={href:Ox(r.url||"")};return r.title!==null&&r.title!==void 0&&(i.title=r.title),e(t,"a",i,Us(e,t))}function LY(e,t){const r={href:Ox(t.url)};return t.title!==null&&t.title!==void 0&&(r.title=t.title),e(t,"a",r,Us(e,t))}function DY(e,t,r){const i=Us(e,t),s=r?FY(r):dL(t),u={},a=[];if(typeof t.checked=="boolean"){let P;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?P=i[0]:(P=e(null,"p",[]),i.unshift(P)),P.children.length>0&&P.children.unshift(Na("text"," ")),P.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),u.className=["task-list-item"]}let x=-1;for(;++x<i.length;){const P=i[x];(s||x!==0||P.type!=="element"||P.tagName!=="p")&&a.push(Na("text",`
`)),P.type==="element"&&P.tagName==="p"&&!s?a.push(...P.children):a.push(P)}const S=i[i.length-1];return S&&(s||!("tagName"in S)||S.tagName!=="p")&&a.push(Na("text",`
`)),e(t,"li",u,a)}function FY(e){let t=e.spread;const r=e.children;let i=-1;for(;!t&&++i<r.length;)t=dL(r[i]);return Boolean(t)}function dL(e){const t=e.spread;return t==null?e.children.length>1:t}function BY(e,t){const r={},i=t.ordered?"ol":"ul",s=Us(e,t);let u=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++u<s.length;){const a=s[u];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}return e(t,i,r,_p(s,!0))}function zY(e,t){return e(t,"p",Us(e,t))}function NY(e,t){return e.augment(t,Na("root",_p(Us(e,t))))}function UY(e,t){return e(t,"strong",Us(e,t))}function jY(e,t){const r=t.children;let i=-1;const s=t.align||[],u=[];for(;++i<r.length;){const a=r[i].children,x=i===0?"th":"td",S=[];let P=-1;const R=t.align?s.length:a.length;for(;++P<R;){const z=a[P];S.push(e(z,x,{align:s[P]},z?Us(e,z):[]))}u[i]=e(r[i],"tr",_p(S,!0))}return e(t,"table",_p([e(u[0].position,"thead",_p([u[0]],!0))].concat(u[1]?e({start:lL(u[1]),end:cL(u[u.length-1])},"tbody",_p(u.slice(1),!0)):[]),!0))}const k8=9,T8=32;function $Y(e){const t=String(e),r=/\r?\n|\r/g;let i=r.exec(t),s=0;const u=[];for(;i;)u.push(P8(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(t);return u.push(P8(t.slice(s),s>0,!1)),u.join("")}function P8(e,t,r){let i=0,s=e.length;if(t){let u=e.codePointAt(i);for(;u===k8||u===T8;)i++,u=e.codePointAt(i)}if(r){let u=e.codePointAt(s-1);for(;u===k8||u===T8;)s--,u=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function VY(e,t){return e.augment(t,Na("text",$Y(String(t.value))))}function HY(e,t){return e(t,"hr")}const qY={blockquote:xY,break:bY,code:wY,delete:SY,emphasis:CY,footnoteReference:AL,footnote:EY,heading:kY,html:TY,imageReference:IY,image:OY,inlineCode:MY,linkReference:RY,link:LY,listItem:DY,list:BY,paragraph:zY,root:NY,strong:UY,table:jY,text:VY,thematicBreak:HY,toml:w1,yaml:w1,definition:w1,footnoteDefinition:w1};function w1(){return null}const GY={}.hasOwnProperty;function QY(e,t){const r=t||{},i=r.allowDangerousHtml||!1,s={};return a.dangerous=i,a.clobberPrefix=r.clobberPrefix===void 0||r.clobberPrefix===null?"user-content-":r.clobberPrefix,a.footnoteLabel=r.footnoteLabel||"Footnotes",a.footnoteLabelTagName=r.footnoteLabelTagName||"h2",a.footnoteLabelProperties=r.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=r.footnoteBackLabel||"Back to content",a.definition=mY(e),a.footnoteById=s,a.footnoteOrder=[],a.footnoteCounts={},a.augment=u,a.handlers={...qY,...r.handlers},a.unknownHandler=r.unknownHandler,a.passThrough=r.passThrough,k4(e,"footnoteDefinition",x=>{const S=String(x.identifier).toUpperCase();GY.call(s,S)||(s[S]=x)}),a;function u(x,S){if(x&&"data"in x&&x.data){const P=x.data;P.hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=P.hName),S.type==="element"&&P.hProperties&&(S.properties={...S.properties,...P.hProperties}),"children"in S&&S.children&&P.hChildren&&(S.children=P.hChildren)}if(x){const P="type"in x?x:{position:x};dY(P)||(S.position={start:lL(P),end:cL(P)})}return S}function a(x,S,P,R){return Array.isArray(P)&&(R=P,P={}),u(x,{type:"element",tagName:S,properties:P||{},children:R||[]})}}function mL(e,t){const r=QY(e,t),i=sL(r,e,null),s=_Y(r);return s&&i.children.push(Na("text",`
`),s),Array.isArray(i)?{type:"root",children:i}:i}const WY=function(e,t){return e&&"run"in e?KY(e,t):XY(e||t)},ZY=WY;function KY(e,t){return(r,i,s)=>{e.run(mL(r,t),i,u=>{s(u)})}}function XY(e){return t=>mL(t,e)}class Iy{constructor(t,r,i){this.property=t,this.normal=r,i&&(this.space=i)}}Iy.prototype.property={};Iy.prototype.normal={};Iy.prototype.space=null;function gL(e,t){const r={},i={};let s=-1;for(;++s<e.length;)Object.assign(r,e[s].property),Object.assign(i,e[s].normal);return new Iy(r,i,t)}function GS(e){return e.toLowerCase()}class Gl{constructor(t,r){this.property=t,this.attribute=r}}Gl.prototype.space=null;Gl.prototype.boolean=!1;Gl.prototype.booleanish=!1;Gl.prototype.overloadedBoolean=!1;Gl.prototype.number=!1;Gl.prototype.commaSeparated=!1;Gl.prototype.spaceSeparated=!1;Gl.prototype.commaOrSpaceSeparated=!1;Gl.prototype.mustUseProperty=!1;Gl.prototype.defined=!1;let YY=0;const Bn=Kh(),Pa=Kh(),yL=Kh(),ir=Kh(),So=Kh(),_0=Kh(),Zu=Kh();function Kh(){return 2**++YY}const QS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bn,booleanish:Pa,overloadedBoolean:yL,number:ir,spaceSeparated:So,commaSeparated:_0,commaOrSpaceSeparated:Zu},Symbol.toStringTag,{value:"Module"})),Rw=Object.keys(QS);class T4 extends Gl{constructor(t,r,i,s){let u=-1;if(super(t,r),I8(this,"space",s),typeof i=="number")for(;++u<Rw.length;){const a=Rw[u];I8(this,Rw[u],(i&QS[a])===QS[a])}}}T4.prototype.defined=!0;function I8(e,t,r){r&&(e[t]=r)}const JY={}.hasOwnProperty;function Y0(e){const t={},r={};let i;for(i in e.properties)if(JY.call(e.properties,i)){const s=e.properties[i],u=new T4(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),t[i]=u,r[GS(i)]=i,r[GS(u.attribute)]=i}return new Iy(t,r,e.space)}const vL=Y0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_L=Y0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function xL(e,t){return t in e?e[t]:t}function bL(e,t){return xL(e,t.toLowerCase())}const wL=Y0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:bL,properties:{xmlns:null,xmlnsXLink:null}}),SL=Y0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Pa,ariaAutoComplete:null,ariaBusy:Pa,ariaChecked:Pa,ariaColCount:ir,ariaColIndex:ir,ariaColSpan:ir,ariaControls:So,ariaCurrent:null,ariaDescribedBy:So,ariaDetails:null,ariaDisabled:Pa,ariaDropEffect:So,ariaErrorMessage:null,ariaExpanded:Pa,ariaFlowTo:So,ariaGrabbed:Pa,ariaHasPopup:null,ariaHidden:Pa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:So,ariaLevel:ir,ariaLive:null,ariaModal:Pa,ariaMultiLine:Pa,ariaMultiSelectable:Pa,ariaOrientation:null,ariaOwns:So,ariaPlaceholder:null,ariaPosInSet:ir,ariaPressed:Pa,ariaReadOnly:Pa,ariaRelevant:null,ariaRequired:Pa,ariaRoleDescription:So,ariaRowCount:ir,ariaRowIndex:ir,ariaRowSpan:ir,ariaSelected:Pa,ariaSetSize:ir,ariaSort:null,ariaValueMax:ir,ariaValueMin:ir,ariaValueNow:ir,ariaValueText:null,role:null}}),eJ=Y0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:bL,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_0,acceptCharset:So,accessKey:So,action:null,allow:null,allowFullScreen:Bn,allowPaymentRequest:Bn,allowUserMedia:Bn,alt:null,as:null,async:Bn,autoCapitalize:null,autoComplete:So,autoFocus:Bn,autoPlay:Bn,capture:Bn,charSet:null,checked:Bn,cite:null,className:So,cols:ir,colSpan:null,content:null,contentEditable:Pa,controls:Bn,controlsList:So,coords:ir|_0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bn,defer:Bn,dir:null,dirName:null,disabled:Bn,download:yL,draggable:Pa,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bn,formTarget:null,headers:So,height:ir,hidden:Bn,high:ir,href:null,hrefLang:null,htmlFor:So,httpEquiv:So,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Bn,itemId:null,itemProp:So,itemRef:So,itemScope:Bn,itemType:So,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bn,low:ir,manifest:null,max:null,maxLength:ir,media:null,method:null,min:null,minLength:ir,multiple:Bn,muted:Bn,name:null,nonce:null,noModule:Bn,noValidate:Bn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bn,optimum:ir,pattern:null,ping:So,placeholder:null,playsInline:Bn,poster:null,preload:null,readOnly:Bn,referrerPolicy:null,rel:So,required:Bn,reversed:Bn,rows:ir,rowSpan:ir,sandbox:So,scope:null,scoped:Bn,seamless:Bn,selected:Bn,shape:null,size:ir,sizes:null,slot:null,span:ir,spellCheck:Pa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ir,step:null,style:null,tabIndex:ir,target:null,title:null,translate:null,type:null,typeMustMatch:Bn,useMap:null,value:Pa,width:ir,wrap:null,align:null,aLink:null,archive:So,axis:null,background:null,bgColor:null,border:ir,borderColor:null,bottomMargin:ir,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bn,declare:Bn,event:null,face:null,frame:null,frameBorder:null,hSpace:ir,leftMargin:ir,link:null,longDesc:null,lowSrc:null,marginHeight:ir,marginWidth:ir,noResize:Bn,noHref:Bn,noShade:Bn,noWrap:Bn,object:null,profile:null,prompt:null,rev:null,rightMargin:ir,rules:null,scheme:null,scrolling:Pa,standby:null,summary:null,text:null,topMargin:ir,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ir,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bn,disableRemotePlayback:Bn,prefix:null,property:null,results:ir,security:null,unselectable:null}}),tJ=Y0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:xL,properties:{about:Zu,accentHeight:ir,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ir,amplitude:ir,arabicForm:null,ascent:ir,attributeName:null,attributeType:null,azimuth:ir,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ir,by:null,calcMode:null,capHeight:ir,className:So,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ir,diffuseConstant:ir,direction:null,display:null,dur:null,divisor:ir,dominantBaseline:null,download:Bn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ir,enableBackground:null,end:null,event:null,exponent:ir,externalResourcesRequired:null,fill:null,fillOpacity:ir,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_0,g2:_0,glyphName:_0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ir,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ir,horizOriginX:ir,horizOriginY:ir,id:null,ideographic:ir,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ir,k:ir,k1:ir,k2:ir,k3:ir,k4:ir,kernelMatrix:Zu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ir,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ir,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ir,overlineThickness:ir,paintOrder:null,panose1:null,path:null,pathLength:ir,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:So,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ir,pointsAtY:ir,pointsAtZ:ir,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zu,rev:Zu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zu,requiredFeatures:Zu,requiredFonts:Zu,requiredFormats:Zu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ir,specularExponent:ir,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ir,strikethroughThickness:ir,string:null,stroke:null,strokeDashArray:Zu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ir,strokeOpacity:ir,strokeWidth:null,style:null,surfaceScale:ir,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zu,tabIndex:ir,tableValues:null,target:null,targetX:ir,targetY:ir,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zu,to:null,transform:null,u1:null,u2:null,underlinePosition:ir,underlineThickness:ir,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ir,values:null,vAlphabetic:ir,vMathematical:ir,vectorEffect:null,vHanging:ir,vIdeographic:ir,version:null,vertAdvY:ir,vertOriginX:ir,vertOriginY:ir,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ir,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),rJ=/^data[-\w.:]+$/i,O8=/-[a-z]/g,nJ=/[A-Z]/g;function iJ(e,t){const r=GS(t);let i=t,s=Gl;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&rJ.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(O8,aJ);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!O8.test(u)){let a=u.replace(nJ,oJ);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=T4}return new s(i,t)}function oJ(e){return"-"+e.toLowerCase()}function aJ(e){return e.charAt(1).toUpperCase()}const M8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sJ=gL([_L,vL,wL,SL,eJ],"html"),uJ=gL([_L,vL,wL,SL,tJ],"svg");function lJ(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{k4(t,"element",(r,i,s)=>{const u=s;let a;if(e.allowedElements?a=!e.allowedElements.includes(r.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(r.tagName)),!a&&e.allowElement&&typeof i=="number"&&(a=!e.allowElement(r,i,u)),a&&typeof i=="number")return e.unwrapDisallowed&&r.children?u.children.splice(i,1,...r.children):u.children.splice(i,1),i})}}function cJ(e){var t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function fJ(e){return e.join(" ").trim()}function pJ(e,t){var r=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}var R8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,AJ=/\n/g,hJ=/^\s*/,dJ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mJ=/^:\s*/,gJ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yJ=/^[;\s]*/,vJ=/^\s+|\s+$/g,_J=`
`,L8="/",D8="*",Th="",xJ="comment",bJ="declaration",wJ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,i=1;function s(Z){var J=Z.match(AJ);J&&(r+=J.length);var ae=Z.lastIndexOf(_J);i=~ae?Z.length-ae:i+Z.length}function u(){var Z={line:r,column:i};return function(J){return J.position=new a(Z),P(),J}}function a(Z){this.start=Z,this.end={line:r,column:i},this.source=t.source}a.prototype.content=e;function x(Z){var J=new Error(t.source+":"+r+":"+i+": "+Z);if(J.reason=Z,J.filename=t.source,J.line=r,J.column=i,J.source=e,!t.silent)throw J}function S(Z){var J=Z.exec(e);if(!!J){var ae=J[0];return s(ae),e=e.slice(ae.length),J}}function P(){S(hJ)}function R(Z){var J;for(Z=Z||[];J=z();)J!==!1&&Z.push(J);return Z}function z(){var Z=u();if(!(L8!=e.charAt(0)||D8!=e.charAt(1))){for(var J=2;Th!=e.charAt(J)&&(D8!=e.charAt(J)||L8!=e.charAt(J+1));)++J;if(J+=2,Th===e.charAt(J-1))return x("End of comment missing");var ae=e.slice(2,J-2);return i+=2,s(ae),e=e.slice(J),i+=2,Z({type:xJ,comment:ae})}}function N(){var Z=u(),J=S(dJ);if(!!J){if(z(),!S(mJ))return x("property missing ':'");var ae=S(gJ),V=Z({type:bJ,property:F8(J[0].replace(R8,Th)),value:ae?F8(ae[0].replace(R8,Th)):Th});return S(yJ),V}}function $(){var Z=[];R(Z);for(var J;J=N();)J!==!1&&(Z.push(J),R(Z));return Z}return P(),$()};function F8(e){return e?e.replace(vJ,Th):Th}var SJ=wJ;function CJ(e,t){var r=null;if(!e||typeof e!="string")return r;for(var i,s=SJ(e),u=typeof t=="function",a,x,S=0,P=s.length;S<P;S++)i=s[S],a=i.property,x=i.value,u?t(a,x,i):x&&(r||(r={}),r[a]=x);return r}var EJ=CJ;const WS={}.hasOwnProperty,kJ=new Set(["table","thead","tbody","tfoot","tr"]);function CL(e,t){const r=[];let i=-1,s;for(;++i<t.children.length;)s=t.children[i],s.type==="element"?r.push(TJ(e,s,i,t)):s.type==="text"?(t.type!=="element"||!kJ.has(t.tagName)||!cJ(s))&&r.push(s.value):s.type==="raw"&&!e.options.skipHtml&&r.push(s.value);return r}function TJ(e,t,r,i){const s=e.options,u=e.schema,a=t.tagName,x={};let S=u,P;if(u.space==="html"&&a==="svg"&&(S=uJ,e.schema=S),t.properties)for(P in t.properties)WS.call(t.properties,P)&&IJ(x,P,t.properties[P],e);(a==="ol"||a==="ul")&&e.listDepth++;const R=CL(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=u;const z=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},N=s.components&&WS.call(s.components,a)?s.components[a]:a,$=typeof N=="string"||N===En.Fragment;if(!$H.isValidElementType(N))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(x.key=[a,z.start.line,z.start.column,r].join("-"),a==="a"&&s.linkTarget&&(x.target=typeof s.linkTarget=="function"?s.linkTarget(String(x.href||""),t.children,typeof x.title=="string"?x.title:null):s.linkTarget),a==="a"&&s.transformLinkUri&&(x.href=s.transformLinkUri(String(x.href||""),t.children,typeof x.title=="string"?x.title:null)),!$&&a==="code"&&i.type==="element"&&i.tagName!=="pre"&&(x.inline=!0),!$&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(x.level=Number.parseInt(a.charAt(1),10)),a==="img"&&s.transformImageUri&&(x.src=s.transformImageUri(String(x.src||""),String(x.alt||""),typeof x.title=="string"?x.title:null)),!$&&a==="li"&&i.type==="element"){const Z=PJ(t);x.checked=Z&&Z.properties?Boolean(Z.properties.checked):null,x.index=Lw(i,t),x.ordered=i.tagName==="ol"}return!$&&(a==="ol"||a==="ul")&&(x.ordered=a==="ol",x.depth=e.listDepth),(a==="td"||a==="th")&&(x.align&&(x.style||(x.style={}),x.style.textAlign=x.align,delete x.align),$||(x.isHeader=a==="th")),!$&&a==="tr"&&i.type==="element"&&(x.isHeader=Boolean(i.tagName==="thead")),s.sourcePos&&(x["data-sourcepos"]=RJ(z)),!$&&s.rawSourcePos&&(x.sourcePosition=t.position),!$&&s.includeElementIndex&&(x.index=Lw(i,t),x.siblingCount=Lw(i)),$||(x.node=t),R.length>0?En.createElement(N,x,R):En.createElement(N,x)}function PJ(e){let t=-1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"&&r.tagName==="input")return r}return null}function Lw(e,t){let r=-1,i=0;for(;++r<e.children.length&&e.children[r]!==t;)e.children[r].type==="element"&&i++;return i}function IJ(e,t,r,i){const s=iJ(i.schema,t);let u=r;u==null||u!==u||(Array.isArray(u)&&(u=s.commaSeparated?pJ(u):fJ(u)),s.property==="style"&&typeof u=="string"&&(u=OJ(u)),s.space&&s.property?e[WS.call(M8,s.property)?M8[s.property]:s.property]=u:s.attribute&&(e[s.attribute]=u))}function OJ(e){const t={};try{EJ(e,r)}catch{}return t;function r(i,s){const u=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[u.replace(/-([a-z])/g,MJ)]=s}}function MJ(e,t){return t.toUpperCase()}function RJ(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}const B8={}.hasOwnProperty,LJ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",S1={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function P4(e){for(const u in S1)if(B8.call(S1,u)&&B8.call(e,u)){const a=S1[u];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${u}\` (see <${LJ}#${a.id}> for more info)`),delete S1[u]}const t=tK().use(iY).use(e.remarkPlugins||[]).use(ZY,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(lJ,e),r=new qR;typeof e.children=="string"?r.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(r),r);if(i.type!=="root")throw new TypeError("Expected a `root` node");let s=_t(H2,{children:CL({options:e,schema:sJ,listDepth:0},i)});return e.className&&(s=_t("div",{className:e.className,children:s})),s}P4.defaultProps={transformLinkUri:$Z};P4.propTypes={children:pn.exports.string,className:pn.exports.string,allowElement:pn.exports.func,allowedElements:pn.exports.arrayOf(pn.exports.string),disallowedElements:pn.exports.arrayOf(pn.exports.string),unwrapDisallowed:pn.exports.bool,remarkPlugins:pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.bool,pn.exports.string,pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.any)]))])),rehypePlugins:pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.bool,pn.exports.string,pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.any)]))])),sourcePos:pn.exports.bool,rawSourcePos:pn.exports.bool,skipHtml:pn.exports.bool,includeElementIndex:pn.exports.bool,transformLinkUri:pn.exports.oneOfType([pn.exports.func,pn.exports.bool]),linkTarget:pn.exports.oneOfType([pn.exports.func,pn.exports.string]),transformImageUri:pn.exports.func,components:pn.exports.object};const EL=cr.exports.memo(function(e){return _t("a",{href:e.href,target:"_blank",rel:"noreferrer",onClick:DJ,children:e.children})});function DJ(e){e.stopPropagation()}EL.displayName="LinkRenderer";function FJ(e){if(!e)return"";let t=e;const r=/(.?.?https|.?.?http)(:\/\/)([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm,i=e.matchAll(r);let s=0;return[...i].forEach(u=>{var K;const[a,x,,S,P]=u,R=(K=u.index)!=null?K:0,z=a.length;if(a.startsWith("](")||a.indexOf("[http")>-1)return;const N=a.indexOf("http"),$=a.substring(N),Z=a.substring(0,N),J=S.replace("www.",""),ae=`${Z}[${J}${P!=null?P:""}](${$})`,V=BJ(t)(R+s,z,ae);s+=ae.length-z,t=V}),t}function BJ(e){return function(t,r,i){return t<0&&(t+=e.length,t<0&&(t=0)),e.slice(0,t)+(i||"")+e.slice(t+r)}}const z8=pR(),zJ=Ro({_set:e=>e},({onAction:e,onInit:t,schedule:r,create:i},s=z8.location)=>(t(()=>{r(u=>{z8.listen(a=>{u(i("_set",a))})})}),e("_set",u=>s=u),s),"currentLocationAtom"),NJ="_tooltipContainer_1o3q9_4",UJ="_popup_1o3q9_16",jJ="_hoverTooltip_1o3q9_28",$J="_tooltipAnchor_1o3q9_36",VJ="_popupContent_1o3q9_40",HJ="_closeIcon_1o3q9_84",qJ="_unset_1o3q9_98",GJ="_markdown_1o3q9_102",hA={tooltipContainer:NJ,popup:UJ,hoverTooltip:jJ,tooltipAnchor:$J,popupContent:VJ,"top-left":"_top-left_1o3q9_52","top-right":"_top-right_1o3q9_61","bottom-left":"_bottom-left_1o3q9_70","bottom-right":"_bottom-right_1o3q9_79",closeIcon:HJ,unset:qJ,markdown:GJ};function QJ(e){if(window.visualViewport===null)return null;const{height:t,width:r}=window.visualViewport;return e?e.y>t/2&&e.x>r/2?"top-left":e.y>t/2?"top-right":e.x>r/2?"bottom-left":"bottom-right":null}function WJ({properties:e,closeTooltip:t,transitionRef:r}){var N,$;const[i,s]=cr.exports.useState(null),[u,a]=cr.exports.useState(null),x=cr.exports.useRef(),[{pathname:S}]=OR(zJ);if(cr.exports.useEffect(()=>{S!==x.current&&(e==null?void 0:e.position)&&t(),x.current=S},[S]),!e)return null;((u==null?void 0:u.x)!==e.position.x||(u==null?void 0:u.y)!==e.position.y)&&(e.position?(s(e.position.predefinedPosition||QJ(e.position)),a(e.position)):(s(null),a(null)));function P(Z){e!=null&&e.hoverBehavior||(e!=null&&e.onOuterClick?e.onOuterClick(Z,t):t())}function R(Z){e!=null&&e.onClose?e.onClose(Z,t):t()}function z(Z){Z.stopPropagation()}return _t("div",{ref:r,className:va(hA.tooltipContainer,e.hoverBehavior&&hA.hoverTooltip),onClick:P,children:_t("div",{className:hA.tooltipAnchor,style:{top:e.position.y||0,right:(((N=window.visualViewport)==null?void 0:N.width)||0)-e.position.x||0},children:i&&_t("div",{className:va(hA.popup,hA[i]),children:Zn("div",{className:va(hA.popupContent,($=e.popupClasses)==null?void 0:$.popupContent),onClick:z,children:[typeof e.popup=="string"?_t(P4,{components:{a:EL},className:hA.markdown,children:FJ(e.popup)}):e.popup,!e.hoverBehavior&&_t("div",{className:hA.closeIcon,onClick:R,children:_t(AH,{})})]})})})})}function kL(){const[e,{resetCurrentTooltip:t}]=OR(BS);return _t(jZ,{in:Boolean(e),timeout:300,classNames:UZ,children:r=>_t(WJ,{transitionRef:r,properties:e,closeTooltip:t})})}function zA(e){return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zA(e)}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wl(e,t,r){return t&&N8(e.prototype,t),r&&N8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function Oy(e,t){if(t&&(zA(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BA(e)}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function Pp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){if(Array.isArray(e))return e}function KJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function XJ(e,t){if(!!e){if(typeof e=="string")return U8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U8(e,t)}}function YJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(e){return ZJ(e)||KJ(e)||XJ(e)||YJ()}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function $8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var eee={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},tee=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.init(t,r)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=r||eee,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,i,s,u){return u&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[i](r))}},{key:"create",value:function(r){return new e(this.logger,$8($8({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}}]),e}(),_f=new tee,jA=function(){function e(){Ql(this,e),this.observers={}}return Wl(e,[{key:"on",value:function(r,i){var s=this;return r.split(" ").forEach(function(u){s.observers[u]=s.observers[u]||[],s.observers[u].push(i)}),this}},{key:"off",value:function(r,i){if(!!this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==i})}}},{key:"emit",value:function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(S){S.apply(void 0,s)})}if(this.observers["*"]){var x=[].concat(this.observers["*"]);x.forEach(function(S){S.apply(S,[r].concat(s))})}}}]),e}();function Zm(){var e,t,r=new Promise(function(i,s){e=i,t=s});return r.resolve=e,r.reject=t,r}function V8(e){return e==null?"":""+e}function ree(e,t,r){e.forEach(function(i){t[i]&&(r[i]=t[i])})}function I4(e,t,r){function i(x){return x&&x.indexOf("###")>-1?x.replace(/###/g,"."):x}function s(){return!e||typeof e=="string"}for(var u=typeof t!="string"?[].concat(t):t.split(".");u.length>1;){if(s())return{};var a=i(u.shift());!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return s()?{}:{obj:e,k:i(u.shift())}}function H8(e,t,r){var i=I4(e,t,Object),s=i.obj,u=i.k;s[u]=r}function nee(e,t,r,i){var s=I4(e,t,Object),u=s.obj,a=s.k;u[a]=u[a]||[],i&&(u[a]=u[a].concat(r)),i||u[a].push(r)}function G_(e,t){var r=I4(e,t),i=r.obj,s=r.k;if(!!i)return i[s]}function q8(e,t,r){var i=G_(e,r);return i!==void 0?i:G_(t,r)}function TL(e,t,r){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?r&&(e[i]=t[i]):TL(e[i],t[i],r):e[i]=t[i]);return e}function zd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var iee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function oee(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return iee[t]}):e}var Rx=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,aee=[" ",",","?","!",";"];function see(e,t,r){t=t||"",r=r||"";var i=aee.filter(function(x){return t.indexOf(x)<0&&r.indexOf(x)<0});if(i.length===0)return!0;var s=new RegExp("(".concat(i.map(function(x){return x==="?"?"\\?":x}).join("|"),")")),u=!s.test(e);if(!u){var a=e.indexOf(r);a>0&&!s.test(e.substring(0,a))&&(u=!0)}return u}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function uee(e){var t=lee();return function(){var i=Sf(e),s;if(t){var u=Sf(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return Oy(this,s)}}function lee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PL(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!e){if(e[t])return e[t];for(var i=t.split(r),s=e,u=0;u<i.length;++u){if(!s||typeof s[i[u]]=="string"&&u+1<i.length)return;if(s[i[u]]===void 0){for(var a=2,x=i.slice(u,u+a).join(r),S=s[x];S===void 0&&i.length>u+a;)a++,x=i.slice(u,u+a).join(r),S=s[x];if(S===void 0)return;if(S===null)return null;if(t.endsWith(x)){if(typeof S=="string")return S;if(x&&typeof S[x]=="string")return S[x]}var P=i.slice(u+a).join(r);return P?PL(S,P,r):void 0}s=s[i[u]]}return s}}var cee=function(e){Mx(r,e);var t=uee(r);function r(i){var s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ql(this,r),s=t.call(this),Rx&&jA.call(BA(s)),s.data=i||{},s.options=u,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Wl(r,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var u=this.options.ns.indexOf(s);u>-1&&this.options.ns.splice(u,1)}},{key:"getResource",value:function(s,u,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,P=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure,R=[s,u];a&&typeof a!="string"&&(R=R.concat(a)),a&&typeof a=="string"&&(R=R.concat(S?a.split(S):a)),s.indexOf(".")>-1&&(R=s.split("."));var z=G_(this.data,R);return z||!P||typeof a!="string"?z:PL(this.data&&this.data[s]&&this.data[s][u],a,S)}},{key:"addResource",value:function(s,u,a,x){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},P=this.options.keySeparator;P===void 0&&(P=".");var R=[s,u];a&&(R=R.concat(P?a.split(P):a)),s.indexOf(".")>-1&&(R=s.split("."),x=u,u=R[1]),this.addNamespaces(u),H8(this.data,R,x),S.silent||this.emit("added",s,u,a,x)}},{key:"addResources",value:function(s,u,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in a)(typeof a[S]=="string"||Object.prototype.toString.apply(a[S])==="[object Array]")&&this.addResource(s,u,S,a[S],{silent:!0});x.silent||this.emit("added",s,u,a)}},{key:"addResourceBundle",value:function(s,u,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},R=[s,u];s.indexOf(".")>-1&&(R=s.split("."),x=a,a=u,u=R[1]),this.addNamespaces(u);var z=G_(this.data,R)||{};x?TL(z,a,S):z=C1(C1({},z),a),H8(this.data,R,z),P.silent||this.emit("added",s,u,a)}},{key:"removeResourceBundle",value:function(s,u){this.hasResourceBundle(s,u)&&delete this.data[s][u],this.removeNamespaces(u),this.emit("removed",s,u)}},{key:"hasResourceBundle",value:function(s,u){return this.getResource(s,u)!==void 0}},{key:"getResourceBundle",value:function(s,u){return u||(u=this.options.defaultNS),this.options.compatibilityAPI==="v1"?C1(C1({},{}),this.getResource(s,u)):this.getResource(s,u)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var u=this.getDataByLanguage(s),a=u&&Object.keys(u)||[];return!!a.find(function(x){return u[x]&&Object.keys(u[x]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(jA),IL={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,i,s,u){var a=this;return t.forEach(function(x){a.processors[x]&&(r=a.processors[x].process(r,i,s,u))}),r}};function Q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function fee(e){var t=pee();return function(){var i=Sf(e),s;if(t){var u=Sf(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return Oy(this,s)}}function pee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var W8={},Z8=function(e){Mx(r,e);var t=fee(r);function r(i){var s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ql(this,r),s=t.call(this),Rx&&jA.call(BA(s)),ree(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,BA(s)),s.options=u,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=_f.create("translator"),s}return Wl(r,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var a=this.resolve(s,u);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(s,u){var a=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var x=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,S=u.ns||this.options.defaultNS||[],P=a&&s.indexOf(a)>-1,R=!this.options.userDefinedKeySeparator&&!u.keySeparator&&!this.options.userDefinedNsSeparator&&!u.nsSeparator&&!see(s,a,x);if(P&&!R){var z=s.match(this.interpolator.nestingRegexp);if(z&&z.length>0)return{key:s,namespaces:S};var N=s.split(a);(a!==x||a===x&&this.options.ns.indexOf(N[0])>-1)&&(S=N.shift()),s=N.join(x)}return typeof S=="string"&&(S=[S]),{key:s,namespaces:S}}},{key:"translate",value:function(s,u,a){var x=this;if(zA(u)!=="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),u||(u={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var S=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,P=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,R=this.extractFromKey(s[s.length-1],u),z=R.key,N=R.namespaces,$=N[N.length-1],Z=u.lng||this.language,J=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(Z&&Z.toLowerCase()==="cimode"){if(J){var ae=u.nsSeparator||this.options.nsSeparator;return S?(V.res="".concat($).concat(ae).concat(z),V):"".concat($).concat(ae).concat(z)}return S?(V.res=z,V):z}var V=this.resolve(s,u),K=V&&V.res,ue=V&&V.usedKey||z,ge=V&&V.exactUsedKey||z,he=Object.prototype.toString.apply(K),le=["[object Number]","[object Function]","[object RegExp]"],Se=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,Ce=!this.i18nFormat||this.i18nFormat.handleAsObject,He=typeof K!="string"&&typeof K!="boolean"&&typeof K!="number";if(Ce&&K&&He&&le.indexOf(he)<0&&!(typeof Se=="string"&&he==="[object Array]")){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var ut=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ue,K,tu(tu({},u),{},{ns:N})):"key '".concat(z," (").concat(this.language,")' returned an object instead of string.");return S?(V.res=ut,V):ut}if(P){var tt=he==="[object Array]",st=tt?[]:{},bt=tt?ge:ue;for(var St in K)if(Object.prototype.hasOwnProperty.call(K,St)){var Qt="".concat(bt).concat(P).concat(St);st[St]=this.translate(Qt,tu(tu({},u),{joinArrays:!1,ns:N})),st[St]===Qt&&(st[St]=K[St])}K=st}}else if(Ce&&typeof Se=="string"&&he==="[object Array]")K=K.join(Se),K&&(K=this.extendTranslation(K,s,u,a));else{var fr=!1,wr=!1,Et=u.count!==void 0&&typeof u.count!="string",Ze=r.hasDefaultValue(u),Oe=Et?this.pluralResolver.getSuffix(Z,u.count,u):"",ee=u["defaultValue".concat(Oe)]||u.defaultValue;!this.isValidLookup(K)&&Ze&&(fr=!0,K=ee),this.isValidLookup(K)||(wr=!0,K=z);var pe=u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,yt=pe&&wr?void 0:K,tr=Ze&&ee!==K&&this.options.updateMissing;if(wr||fr||tr){if(this.logger.log(tr?"updateKey":"missingKey",Z,$,z,tr?ee:K),P){var yr=this.resolve(z,tu(tu({},u),{},{keySeparator:!1}));yr&&yr.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var hr=[],Sr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Sr&&Sr[0])for(var Ur=0;Ur<Sr.length;Ur++)hr.push(Sr[Ur]);else this.options.saveMissingTo==="all"?hr=this.languageUtils.toResolveHierarchy(u.lng||this.language):hr.push(u.lng||this.language);var Dr=function(jn,Fi,jr){var mi=Ze&&jr!==K?jr:yt;x.options.missingKeyHandler?x.options.missingKeyHandler(jn,$,Fi,mi,tr,u):x.backendConnector&&x.backendConnector.saveMissing&&x.backendConnector.saveMissing(jn,$,Fi,mi,tr,u),x.emit("missingKey",jn,$,Fi,K)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Et?hr.forEach(function(Xn){x.pluralResolver.getSuffixes(Xn,u).forEach(function(jn){Dr([Xn],z+jn,u["defaultValue".concat(jn)]||ee)})}):Dr(hr,z,ee))}K=this.extendTranslation(K,s,u,V,a),wr&&K===z&&this.options.appendNamespaceToMissingKey&&(K="".concat($,":").concat(z)),(wr||fr)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?K=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat($,":").concat(z):z,fr?K:void 0):K=this.options.parseMissingKeyHandler(K))}return S?(V.res=K,V):K}},{key:"extendTranslation",value:function(s,u,a,x,S){var P=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,tu(tu({},this.options.interpolation.defaultVariables),a),x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(tu(tu({},a),{interpolation:tu(tu({},this.options.interpolation),a.interpolation)}));var R=typeof s=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),z;if(R){var N=s.match(this.interpolator.nestingRegexp);z=N&&N.length}var $=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&($=tu(tu({},this.options.interpolation.defaultVariables),$)),s=this.interpolator.interpolate(s,$,a.lng||this.language,a),R){var Z=s.match(this.interpolator.nestingRegexp),J=Z&&Z.length;z<J&&(a.nest=!1)}a.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var K=arguments.length,ue=new Array(K),ge=0;ge<K;ge++)ue[ge]=arguments[ge];return S&&S[0]===ue[0]&&!a.context?(P.logger.warn("It seems you are nesting recursively key: ".concat(ue[0]," in key: ").concat(u[0])),null):P.translate.apply(P,ue.concat([u]))},a)),a.interpolation&&this.interpolator.reset()}var ae=a.postProcess||this.options.postProcess,V=typeof ae=="string"?[ae]:ae;return s!=null&&V&&V.length&&a.applyPostProcessor!==!1&&(s=IL.handle(V,s,u,this.options&&this.options.postProcessPassResolved?tu({i18nResolved:x},a):a,this)),s}},{key:"resolve",value:function(s){var u=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,S,P,R,z;return typeof s=="string"&&(s=[s]),s.forEach(function(N){if(!u.isValidLookup(x)){var $=u.extractFromKey(N,a),Z=$.key;S=Z;var J=$.namespaces;u.options.fallbackNS&&(J=J.concat(u.options.fallbackNS));var ae=a.count!==void 0&&typeof a.count!="string",V=ae&&!a.ordinal&&a.count===0&&u.pluralResolver.shouldUseIntlApi(),K=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",ue=a.lngs?a.lngs:u.languageUtils.toResolveHierarchy(a.lng||u.language,a.fallbackLng);J.forEach(function(ge){u.isValidLookup(x)||(z=ge,!W8["".concat(ue[0],"-").concat(ge)]&&u.utils&&u.utils.hasLoadedNamespace&&!u.utils.hasLoadedNamespace(z)&&(W8["".concat(ue[0],"-").concat(ge)]=!0,u.logger.warn('key "'.concat(S,'" for languages "').concat(ue.join(", "),`" won't get resolved as namespace "`).concat(z,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ue.forEach(function(he){if(!u.isValidLookup(x)){R=he;var le=[Z];if(u.i18nFormat&&u.i18nFormat.addLookupKeys)u.i18nFormat.addLookupKeys(le,Z,he,ge,a);else{var Se;ae&&(Se=u.pluralResolver.getSuffix(he,a.count,a));var Ce="".concat(u.options.pluralSeparator,"zero");if(ae&&(le.push(Z+Se),V&&le.push(Z+Ce)),K){var He="".concat(Z).concat(u.options.contextSeparator).concat(a.context);le.push(He),ae&&(le.push(He+Se),V&&le.push(He+Ce))}}for(var ut;ut=le.pop();)u.isValidLookup(x)||(P=ut,x=u.getResource(he,ge,ut,a))}}))})}}),{res:x,usedKey:S,exactUsedKey:P,usedLng:R,usedNS:z}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,u,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,u,a,x):this.resourceStore.getResource(s,u,a,x)}}],[{key:"hasDefaultValue",value:function(s){var u="defaultValue";for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&u===a.substring(0,u.length)&&s[a]!==void 0)return!0;return!1}}]),r}(jA);function Dw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Aee=function(){function e(t){Ql(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_f.create("languageUtils")}return Wl(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var i=r.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(u){return u.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Dw(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Dw(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=Dw(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var i=this;if(!r)return null;var s;return r.forEach(function(u){if(!s){var a=i.formatLanguageCode(u);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&r.forEach(function(u){if(!s){var a=i.getLanguagePartFromCode(u);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(x){if(x.indexOf(a)===0)return x})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!i)return r.default||[];var s=r[i];return s||(s=r[this.getScriptPartFromCode(i)]),s||(s=r[this.formatLanguageCode(i)]),s||(s=r[this.getLanguagePartFromCode(i)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,i){var s=this,u=this.getFallbackCodes(i||this.options.fallbackLng||[],r),a=[],x=function(P){!P||(s.isSupportedCode(P)?a.push(P):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(P)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(r))):typeof r=="string"&&x(this.formatLanguageCode(r)),u.forEach(function(S){a.indexOf(S)<0&&x(s.formatLanguageCode(S))}),a}}]),e}(),hee=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],dee={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},mee=["v1","v2","v3"],K8={zero:0,one:1,two:2,few:3,many:4,other:5};function gee(){var e={};return hee.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:dee[t.fc]}})}),e}var yee=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.languageUtils=t,this.options=r,this.logger=_f.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=gee()}return Wl(e,[{key:"addRule",value:function(r,i){this.rules[r]=i}},{key:"getRule",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(r,i);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,s).map(function(u){return"".concat(i).concat(u)})}},{key:"getSuffixes",value:function(r){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.getRule(r,s);return u?this.shouldUseIntlApi()?u.resolvedOptions().pluralCategories.sort(function(a,x){return K8[a]-K8[x]}).map(function(a){return"".concat(i.options.prepend).concat(a)}):u.numbers.map(function(a){return i.getSuffix(r,a,s)}):[]}},{key:"getSuffix",value:function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=this.getRule(r,s);return u?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(u.select(i)):this.getSuffixRetroCompatible(u,i):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,i){var s=this,u=r.noAbs?r.plurals(i):r.plurals(Math.abs(i)),a=r.numbers[u];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var x=function(){return s.options.prepend&&a.toString()?s.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):x():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?x():this.options.prepend&&u.toString()?this.options.prepend+u.toString():u.toString()}},{key:"shouldUseIntlApi",value:function(){return!mee.includes(this.options.compatibilityJSON)}}]),e}();function X8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var vee=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(this,e),this.logger=_f.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return Wl(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var i=r.interpolation;this.escape=i.escape!==void 0?i.escape:oee,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?zd(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?zd(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?zd(i.nestingPrefix):i.nestingPrefixEscaped||zd("$t("),this.nestingSuffix=i.nestingSuffix?zd(i.nestingSuffix):i.nestingSuffixEscaped||zd(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,i,s,u){var a=this,x,S,P,R=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function z(ae){return ae.replace(/\$/g,"$$$$")}var N=function(V){if(V.indexOf(a.formatSeparator)<0){var K=q8(i,R,V);return a.alwaysFormat?a.format(K,void 0,s,Sc(Sc(Sc({},u),i),{},{interpolationkey:V})):K}var ue=V.split(a.formatSeparator),ge=ue.shift().trim(),he=ue.join(a.formatSeparator).trim();return a.format(q8(i,R,ge),he,s,Sc(Sc(Sc({},u),i),{},{interpolationkey:ge}))};this.resetRegExp();var $=u&&u.missingInterpolationHandler||this.options.missingInterpolationHandler,Z=u&&u.interpolation&&u.interpolation.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,J=[{regex:this.regexpUnescape,safeValue:function(V){return z(V)}},{regex:this.regexp,safeValue:function(V){return a.escapeValue?z(a.escape(V)):z(V)}}];return J.forEach(function(ae){for(P=0;x=ae.regex.exec(r);){var V=x[1].trim();if(S=N(V),S===void 0)if(typeof $=="function"){var K=$(r,x,u);S=typeof K=="string"?K:""}else if(u&&u.hasOwnProperty(V))S="";else if(Z){S=x[0];continue}else a.logger.warn("missed to pass in variable ".concat(V," for interpolating ").concat(r)),S="";else typeof S!="string"&&!a.useRawValueToEscape&&(S=V8(S));var ue=ae.safeValue(S);if(r=r.replace(x[0],ue),Z?(ae.regex.lastIndex+=S.length,ae.regex.lastIndex-=x[0].length):ae.regex.lastIndex=0,P++,P>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,i){var s=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,x,S=Sc({},u);S.applyPostProcessor=!1,delete S.defaultValue;function P($,Z){var J=this.nestingOptionsSeparator;if($.indexOf(J)<0)return $;var ae=$.split(new RegExp("".concat(J,"[ ]*{"))),V="{".concat(ae[1]);$=ae[0],V=this.interpolate(V,S);var K=V.match(/'/g),ue=V.match(/"/g);(K&&K.length%2===0&&!ue||ue.length%2!==0)&&(V=V.replace(/'/g,'"'));try{S=JSON.parse(V),Z&&(S=Sc(Sc({},Z),S))}catch(ge){return this.logger.warn("failed parsing options string in nesting for key ".concat($),ge),"".concat($).concat(J).concat(V)}return delete S.defaultValue,$}for(;a=this.nestingRegexp.exec(r);){var R=[],z=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var N=a[1].split(this.formatSeparator).map(function($){return $.trim()});a[1]=N.shift(),R=N,z=!0}if(x=i(P.call(this,a[1].trim(),S),S),x&&a[0]===r&&typeof x!="string")return x;typeof x!="string"&&(x=V8(x)),x||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),x=""),z&&(x=R.reduce(function($,Z){return s.format($,Z,u.lng,Sc(Sc({},u),{},{interpolationkey:a[1].trim()}))},x.trim())),r=r.replace(a[0],x),this.regexp.lastIndex=0}return r}}]),e}();function Y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function _ee(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var s=i[1].substring(0,i[1].length-1);if(t==="currency"&&s.indexOf(":")<0)r.currency||(r.currency=s.trim());else if(t==="relativetime"&&s.indexOf(":")<0)r.range||(r.range=s.trim());else{var u=s.split(";");u.forEach(function(a){if(!!a){var x=a.split(":"),S=JJ(x),P=S[0],R=S.slice(1),z=R.join(":").trim().replace(/^'+|'+$/g,"");r[P.trim()]||(r[P.trim()]=z),z==="false"&&(r[P.trim()]=!1),z==="true"&&(r[P.trim()]=!0),isNaN(z)||(r[P.trim()]=parseInt(z,10))}})}}return{formatName:t,formatOptions:r}}function Nd(e){var t={};return function(i,s,u){var a=s+JSON.stringify(u),x=t[a];return x||(x=e(s,u),t[a]=x),x(i)}}var xee=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(this,e),this.logger=_f.create("formatter"),this.options=t,this.formats={number:Nd(function(r,i){var s=new Intl.NumberFormat(r,i);return function(u){return s.format(u)}}),currency:Nd(function(r,i){var s=new Intl.NumberFormat(r,dA(dA({},i),{},{style:"currency"}));return function(u){return s.format(u)}}),datetime:Nd(function(r,i){var s=new Intl.DateTimeFormat(r,dA({},i));return function(u){return s.format(u)}}),relativetime:Nd(function(r,i){var s=new Intl.RelativeTimeFormat(r,dA({},i));return function(u){return s.format(u,i.range||"day")}}),list:Nd(function(r,i){var s=new Intl.ListFormat(r,dA({},i));return function(u){return s.format(u)}})},this.init(t)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=i.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(r,i){this.formats[r.toLowerCase().trim()]=i}},{key:"addCached",value:function(r,i){this.formats[r.toLowerCase().trim()]=Nd(i)}},{key:"format",value:function(r,i,s,u){var a=this,x=i.split(this.formatSeparator),S=x.reduce(function(P,R){var z=_ee(R),N=z.formatName,$=z.formatOptions;if(a.formats[N]){var Z=P;try{var J=u&&u.formatParams&&u.formatParams[u.interpolationkey]||{},ae=J.locale||J.lng||u.locale||u.lng||s;Z=a.formats[N](P,ae,dA(dA(dA({},$),u),J))}catch(V){a.logger.warn(V)}return Z}else a.logger.warn("there was no format function for ".concat(N));return P},r);return S}}]),e}();function J8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function bee(e){var t=wee();return function(){var i=Sf(e),s;if(t){var u=Sf(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return Oy(this,s)}}function wee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function See(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var Cee=function(e){Mx(r,e);var t=bee(r);function r(i,s,u){var a,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ql(this,r),a=t.call(this),Rx&&jA.call(BA(a)),a.backend=i,a.store=s,a.services=u,a.languageUtils=u.languageUtils,a.options=x,a.logger=_f.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=x.maxParallelReads||10,a.readingCalls=0,a.maxRetries=x.maxRetries>=0?x.maxRetries:5,a.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(u,x.backend,x),a}return Wl(r,[{key:"queueLoad",value:function(s,u,a,x){var S=this,P={},R={},z={},N={};return s.forEach(function($){var Z=!0;u.forEach(function(J){var ae="".concat($,"|").concat(J);!a.reload&&S.store.hasResourceBundle($,J)?S.state[ae]=2:S.state[ae]<0||(S.state[ae]===1?R[ae]===void 0&&(R[ae]=!0):(S.state[ae]=1,Z=!1,R[ae]===void 0&&(R[ae]=!0),P[ae]===void 0&&(P[ae]=!0),N[J]===void 0&&(N[J]=!0)))}),Z||(z[$]=!0)}),(Object.keys(P).length||Object.keys(R).length)&&this.queue.push({pending:R,pendingCount:Object.keys(R).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(P),pending:Object.keys(R),toLoadLanguages:Object.keys(z),toLoadNamespaces:Object.keys(N)}}},{key:"loaded",value:function(s,u,a){var x=s.split("|"),S=x[0],P=x[1];u&&this.emit("failedLoading",S,P,u),a&&this.store.addResourceBundle(S,P,a),this.state[s]=u?-1:2;var R={};this.queue.forEach(function(z){nee(z.loaded,[S],P),See(z,s),u&&z.errors.push(u),z.pendingCount===0&&!z.done&&(Object.keys(z.loaded).forEach(function(N){R[N]||(R[N]={});var $=z.loaded[N];$.length&&$.forEach(function(Z){R[N][Z]===void 0&&(R[N][Z]=!0)})}),z.done=!0,z.errors.length?z.callback(z.errors):z.callback())}),this.emit("loaded",R),this.queue=this.queue.filter(function(z){return!z.done})}},{key:"read",value:function(s,u,a){var x=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,R=arguments.length>5?arguments[5]:void 0;if(!s.length)return R(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:u,fcName:a,tried:S,wait:P,callback:R});return}return this.readingCalls++,this.backend[a](s,u,function(z,N){if(x.readingCalls--,x.waitingReads.length>0){var $=x.waitingReads.shift();x.read($.lng,$.ns,$.fcName,$.tried,$.wait,$.callback)}if(z&&N&&S<x.maxRetries){setTimeout(function(){x.read.call(x,s,u,a,S+1,P*2,R)},P);return}R(z,N)})}},{key:"prepareLoading",value:function(s,u){var a=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof u=="string"&&(u=[u]);var P=this.queueLoad(s,u,x,S);if(!P.toLoad.length)return P.pending.length||S(),null;P.toLoad.forEach(function(R){a.loadOne(R)})}},{key:"load",value:function(s,u,a){this.prepareLoading(s,u,{},a)}},{key:"reload",value:function(s,u,a){this.prepareLoading(s,u,{reload:!0},a)}},{key:"loadOne",value:function(s){var u=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=s.split("|"),S=x[0],P=x[1];this.read(S,P,"read",void 0,void 0,function(R,z){R&&u.logger.warn("".concat(a,"loading namespace ").concat(P," for language ").concat(S," failed"),R),!R&&z&&u.logger.log("".concat(a,"loaded namespace ").concat(P," for language ").concat(S),z),u.loaded(s,R,z)})}},{key:"saveMissing",value:function(s,u,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(u)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}a==null||a===""||(this.backend&&this.backend.create&&this.backend.create(s,u,a,x,null,eT(eT({},P),{},{isUpdate:S})),!(!s||!s[0])&&this.store.addResource(s[0],u,a,x))}}]),r}(jA);function Eee(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(zA(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),zA(t[2])==="object"||zA(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){r[s]=i[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function tT(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function kee(e){var t=Tee();return function(){var i=Sf(e),s;if(t){var u=Sf(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return Oy(this,s)}}function Tee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E1(){}function Pee(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var Q_=function(e){Mx(r,e);var t=kee(r);function r(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;if(Ql(this,r),i=t.call(this),Rx&&jA.call(BA(i)),i.options=tT(s),i.services={},i.logger=_f,i.modules={external:[]},Pee(BA(i)),u&&!i.isInitialized&&!s.isClone){if(!i.options.initImmediate)return i.init(s,u),Oy(i,BA(i));setTimeout(function(){i.init(s,u)},0)}return i}return Wl(r,[{key:"init",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(a=u,u={}),!u.defaultNS&&u.defaultNS!==!1&&u.ns&&(typeof u.ns=="string"?u.defaultNS=u.ns:u.ns.indexOf("translation")<0&&(u.defaultNS=u.ns[0]));var x=Eee();this.options=df(df(df({},x),this.options),tT(u)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=df(df({},x.interpolation),this.options.interpolation)),u.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=u.keySeparator),u.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=u.nsSeparator);function S(V){return V?typeof V=="function"?new V:V:null}if(!this.options.isClone){this.modules.logger?_f.init(S(this.modules.logger),this.options):_f.init(null,this.options);var P;this.modules.formatter?P=this.modules.formatter:typeof Intl<"u"&&(P=xee);var R=new Aee(this.options);this.store=new cee(this.options.resources,this.options);var z=this.services;z.logger=_f,z.resourceStore=this.store,z.languageUtils=R,z.pluralResolver=new yee(R,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),P&&(!this.options.interpolation.format||this.options.interpolation.format===x.interpolation.format)&&(z.formatter=S(P),z.formatter.init(z,this.options),this.options.interpolation.format=z.formatter.format.bind(z.formatter)),z.interpolator=new vee(this.options),z.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},z.backendConnector=new Cee(S(this.modules.backend),z.resourceStore,z,this.options),z.backendConnector.on("*",function(V){for(var K=arguments.length,ue=new Array(K>1?K-1:0),ge=1;ge<K;ge++)ue[ge-1]=arguments[ge];s.emit.apply(s,[V].concat(ue))}),this.modules.languageDetector&&(z.languageDetector=S(this.modules.languageDetector),z.languageDetector.init(z,this.options.detection,this.options)),this.modules.i18nFormat&&(z.i18nFormat=S(this.modules.i18nFormat),z.i18nFormat.init&&z.i18nFormat.init(this)),this.translator=new Z8(this.services,this.options),this.translator.on("*",function(V){for(var K=arguments.length,ue=new Array(K>1?K-1:0),ge=1;ge<K;ge++)ue[ge-1]=arguments[ge];s.emit.apply(s,[V].concat(ue))}),this.modules.external.forEach(function(V){V.init&&V.init(s)})}if(this.format=this.options.interpolation.format,a||(a=E1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var $=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];$.forEach(function(V){s[V]=function(){var K;return(K=s.store)[V].apply(K,arguments)}});var Z=["addResource","addResources","addResourceBundle","removeResourceBundle"];Z.forEach(function(V){s[V]=function(){var K;return(K=s.store)[V].apply(K,arguments),s}});var J=Zm(),ae=function(){var K=function(ge,he){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),J.resolve(he),a(ge,he)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return K(null,s.t.bind(s));s.changeLanguage(s.options.lng,K)};return this.options.resources||!this.options.initImmediate?ae():setTimeout(ae,0),J}},{key:"loadResources",value:function(s){var u=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E1,x=a,S=typeof s=="string"?s:this.language;if(typeof s=="function"&&(x=s),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return x();var P=[],R=function($){if(!!$){var Z=u.services.languageUtils.toResolveHierarchy($);Z.forEach(function(J){P.indexOf(J)<0&&P.push(J)})}};if(S)R(S);else{var z=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);z.forEach(function(N){return R(N)})}this.options.preload&&this.options.preload.forEach(function(N){return R(N)}),this.services.backendConnector.load(P,this.options.ns,function(N){!N&&!u.resolvedLanguage&&u.language&&u.setResolvedLanguage(u.language),x(N)})}else x(null)}},{key:"reloadResources",value:function(s,u,a){var x=Zm();return s||(s=this.languages),u||(u=this.options.ns),a||(a=E1),this.services.backendConnector.reload(s,u,function(S){x.resolve(),a(S)}),x}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&IL.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var u=0;u<this.languages.length;u++){var a=this.languages[u];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(s,u){var a=this;this.isLanguageChangingTo=s;var x=Zm();this.emit("languageChanging",s);var S=function(N){a.language=N,a.languages=a.services.languageUtils.toResolveHierarchy(N),a.resolvedLanguage=void 0,a.setResolvedLanguage(N)},P=function(N,$){$?(S($),a.translator.changeLanguage($),a.isLanguageChangingTo=void 0,a.emit("languageChanged",$),a.logger.log("languageChanged",$)):a.isLanguageChangingTo=void 0,x.resolve(function(){return a.t.apply(a,arguments)}),u&&u(N,function(){return a.t.apply(a,arguments)})},R=function(N){!s&&!N&&a.services.languageDetector&&(N=[]);var $=typeof N=="string"?N:a.services.languageUtils.getBestMatchFromCodes(N);$&&(a.language||S($),a.translator.language||a.translator.changeLanguage($),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage($)),a.loadResources($,function(Z){P(Z,$)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?R(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(R):R(s),x}},{key:"getFixedT",value:function(s,u,a){var x=this,S=function P(R,z){var N;if(zA(z)!=="object"){for(var $=arguments.length,Z=new Array($>2?$-2:0),J=2;J<$;J++)Z[J-2]=arguments[J];N=x.options.overloadTranslationOptionHandler([R,z].concat(Z))}else N=df({},z);N.lng=N.lng||P.lng,N.lngs=N.lngs||P.lngs,N.ns=N.ns||P.ns,N.keyPrefix=N.keyPrefix||a||P.keyPrefix;var ae=x.options.keySeparator||".",V=N.keyPrefix?"".concat(N.keyPrefix).concat(ae).concat(R):R;return x.t(V,N)};return typeof s=="string"?S.lng=s:S.lngs=s,S.ns=u,S.keyPrefix=a,S}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var u=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var x=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,P=this.languages[this.languages.length-1];if(x.toLowerCase()==="cimode")return!0;var R=function($,Z){var J=u.services.backendConnector.state["".concat($,"|").concat(Z)];return J===-1||J===2};if(a.precheck){var z=a.precheck(this,R);if(z!==void 0)return z}return!!(this.hasResourceBundle(x,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||R(x,s)&&(!S||R(P,s)))}},{key:"loadNamespaces",value:function(s,u){var a=this,x=Zm();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(S){a.options.ns.indexOf(S)<0&&a.options.ns.push(S)}),this.loadResources(function(S){x.resolve(),u&&u(S)}),x):(u&&u(),Promise.resolve())}},{key:"loadLanguages",value:function(s,u){var a=Zm();typeof s=="string"&&(s=[s]);var x=this.options.preload||[],S=s.filter(function(P){return x.indexOf(P)<0});return S.length?(this.options.preload=x.concat(S),this.loadResources(function(P){a.resolve(),u&&u(P)}),a):(u&&u(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var u=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return u.indexOf(this.services.languageUtils.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E1,x=df(df(df({},this.options),u),{isClone:!0}),S=new r(x);(u.debug!==void 0||u.prefix!==void 0)&&(S.logger=S.logger.clone(u));var P=["store","services","language"];return P.forEach(function(R){S[R]=s[R]}),S.services=df({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new Z8(S.services,S.options),S.translator.on("*",function(R){for(var z=arguments.length,N=new Array(z>1?z-1:0),$=1;$<z;$++)N[$-1]=arguments[$];S.emit.apply(S,[R].concat(N))}),S.init(x,a),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(jA);Pp(Q_,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Q_(e,t)});var xs=Q_.createInstance();xs.createInstance=Q_.createInstance;xs.createInstance;xs.init;xs.loadResources;xs.reloadResources;xs.use;xs.changeLanguage;xs.getFixedT;xs.t;xs.exists;xs.setDefaultNamespace;xs.hasLoadedNamespace;xs.loadNamespaces;xs.loadLanguages;var Iee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Oee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Mee=function(t){return Oee[t]},Ree=function(t){return t.replace(Iee,Mee)};function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(i){Pp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var oT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ree};cr.exports.createContext();function Lee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};oT=iT(iT({},oT),e)}(function(){function e(){Ql(this,e),this.usedNamespaces={}}return Wl(e,[{key:"addUsedNamespaces",value:function(r){var i=this;r.forEach(function(s){i.usedNamespaces[s]||(i.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e})();var Dee={type:"3rdParty",init:function(t){Lee(t.options.react)}},OL=[],Fee=OL.forEach,Bee=OL.slice;function zee(e){return Fee.call(Bee.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var aT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Nee=function(t,r,i){var s=i||{};s.path=s.path||"/";var u=encodeURIComponent(r),a="".concat(t,"=").concat(u);if(s.maxAge>0){var x=s.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(x))}if(s.domain){if(!aT.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!aT.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var S=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(S){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},sT={create:function(t,r,i,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(u.expires=new Date,u.expires.setTime(u.expires.getTime()+i*60*1e3)),s&&(u.domain=s),document.cookie=Nee(t,encodeURIComponent(r),u)},read:function(t){for(var r="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var u=i[s];u.charAt(0)===" ";)u=u.substring(1,u.length);if(u.indexOf(r)===0)return u.substring(r.length,u.length)}return null},remove:function(t){this.create(t,"",-1)}},Uee={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var i=sT.read(t.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&sT.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},jee={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),u=s.split("&"),a=0;a<u.length;a++){var x=u[a].indexOf("=");if(x>0){var S=u[a].substring(0,x);S===t.lookupQuerystring&&(r=u[a].substring(x+1))}}}return r}},Km=null,uT=function(){if(Km!==null)return Km;try{Km=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Km=!1}return Km},$ee={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&uT()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&uT()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Xm=null,lT=function(){if(Xm!==null)return Xm;try{Xm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Xm=!1}return Xm},Vee={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&lT()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&lT()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},Hee={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},qee={name:"htmlTag",lookup:function(t){var r,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},Gee={name:"path",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;r=i[t.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},Qee={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(!!i)return i[r]}};function Wee(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var ML=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=zee(i,this.options||{},Wee()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Uee),this.addDetector(jee),this.addDetector($ee),this.addDetector(Vee),this.addDetector(Hee),this.addDetector(qee),this.addDetector(Gee),this.addDetector(Qee)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var s=[];return r.forEach(function(u){if(i.detectors[u]){var a=i.detectors[u].lookup(i.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(r,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(u){s.detectors[u]&&s.detectors[u].cacheUserLanguage(r,s.options)}))}}]),e}();ML.type="languageDetector";const Zee="km",Kee="m",Xee="to",Yee="Logout",Jee="Save",ete="Cancel",tte="Create",rte="Disasters",nte="Loading...",ite="Loading events",ote="Legend",ate="maps",ste="Vertical direction",ute="Horizontal direction",lte="Legend presentation",cte="Layers",fte="Feed",pte="Details",Ate="Deselect",hte="Gathering data",dte="Updated",mte="No data received",gte="Wrong data received",yte="Error",vte="Sort Icon",_te={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"The feed contains real-time data about Cyclones, Droughts, Earthquakes, Floods, Volcanoes, Wildfires."},xte={default:"Sorry, we are having issues, which will be fixed soon",timeout:"Request Timeout",cannot_connect:"Can't connect to server",forbidden:"Forbidden",not_found:"Not found",unknown:"Unknown",server_error:"Server Error"},bte={overlays:"Overlays",basemap:"Basemap"},wte={layers_in_selected_area:"Layers in selected area",your_layers:"Your Layers",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap Based",other:"Other",elevation:"Elevation",photo:"Photo",map:"Map"},Ste={load_world_data:"Load World Data",numerator:"Numerator",normalized_by:"Normalized By",sum:"Sum",min:"Min",max:"Max",mean:"Mean",stddev:"Stddev",median:"Median",filter_numerator:"Filter Numerator",filter_denominator:"Filter Denominator"},Cte={warning_title:"Can't use map as filter",warning_description:"Map not ready yet, try later",bbox_filter_button:"Use map view as filter",analytics:{affected_people:{tooltip:"Affected People",value:"No humanitarian impact"},settled_area_tooltip:"Settled Area",loss_tooltip:"Estimated loss"},no_event_in_feed:"Event not found in the current event feed",no_selected_disaster:"No disaster selected",chose_disaster:"Choose disaster"},Ete={edit_layer:"Edit Layer",edit_features:"Edit Features",delete_layer:"Delete Layer",create_layer:"Create Layer",saving_layer:"Saving layer...",field_name:"Field name",layer_name:"Layer name",marker_icon:"Marker icon",type:"Type",select:"Select",short_text:"Short Text",long_text:"Long Text",link:"Link",image:"Image",fields:"Fields",add_field:"Add field",location:"Location",edit_feature_placeholder:"Select some feature for start edit feature properties"},kte={loading:"Loading analytics...",header_title:"Analytics",info_tab:"INFO",error_loading:"Error while fetching analytics data"},Tte={loading:"Loading advanced analytics...",header_title:"Advanced analytics",analytics_tab:"Advanced Analytics",error:"Error while fetching advanced analytics data"},Pte={not_found:"Sorry, requested event not found.",error:"An error occured!",please_select:"Please, select an area again",to_see_map:"to see state of the map",pickDisaster:"Pick disaster from the list",draw:"Draw polygon on the map",select:"Select boundary on the map",upload:"Upload your own geoJSON"},Ite={area:"Area",line:"Line",point:"Point",finish_drawing:"Finish Drawing",caption:"Click on the map to begin drawing",no_geometry_error:"No drawn geometry to download",overlap_error:"Polygon should not overlap itself",save_features:"Save features"},Ote={title:"Focus to administrative boundary"},Mte={title:"Focus to uploaded geometry",error:"Error while reading uploaded file"},Rte={title:"Focus to freehand geometry"},Lte={settings:{name:"Selected Area"}},Dte={self_directions_not_supported:"Self intersections are not supported!"},Fte={panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Base axis",annex_axis:"Annex axis",tooltip:{p1:"Charts involving the Base and Annex axes help establish a relationship between two data sets.",li1:"Annex axis - parameters that we analyse",li2:"Base axis - reference point in the analysis",b:"Ex: the best location to open a cafe",p2:"We can explore the number of eatery places (Annex axis) against Population density (Base axis).",p3:"In this scenario, we are first interested in a small number of eatery places, and the number of people in that place gives us additional information."}},header:{title:"Choose two layers to explore correlations",hint:"Layers and correlations are displayed for the current Selected Area"},icon:{population:"Value divided by Population",area_km2:"Value divided by Area",total_building_count:"Value divided by Total Buildings Estimate",populated_area_km2:"Value divided by Populated Area",one:"Without divider",roads:"Value divided by Total Roads Length"},progress:{rendering:"Rendering",applied:"Applied on the map"},loading_error:"Unfortunately, we cannot display the matrix. Try refreshing the page or come back later."},legend:{high:"High",low:"Low",medium:"Medium"},color_manager:{not_defined:"Not defined",sentiments_combinations_filter:"Sentiments combinations",layers_filter:"Layers",no_legends:"There are no legends satisfying the conditions.",no_data:"No Data.",sentiments_tab:"Sentiments",color_legends_tab:"Color Legends",layers_tab:"Layers (indicators)"}},Bte={biv_color_manager:"\u0421olor manager",edit_osm:"Edit in OpenStreetMap",ruler:"Ruler",collapse:"Collapse",expand:"Expand",icon_alt:"Application logo"},zte={email:"Email",password:"Password",login_button:"Login",sign_up:"Sign up",logging_in:"Logging in...",log_in:"Log in",description:"Please log in to change your settings",error:{email_empty:"Email has not to be empty!",email_invalid:"Email has to be valid!",password:"Password has not to be empty!",connect:"Couldn't connect to authentication service"}},Nte={title:"Disaster Ninja Reports",no_data:"No data for this report",sorting:"Sorting data...",loading:"Loading data",search_location:"Search location",open_josm:"Open via JOSM remote control",josm_logo_alt:"JOSM logo",see_all:"See all reports",wrong_id:"Wrong report ID",description:"<0>Kontur </0> generates several reports that help validate OpenStreetMap quality. They contain links to areas on <4>osm.org </4> and links to open them in the JOSM editor with enabled remote control for editing."},Ute={map:"Map",about:"About",reports:"Reports",profile:"Profile",privacy:"Privacy"},jte={title:"Welcome to Disaster Ninja!",intro:"Do you want to be notified about ongoing disasters? Are you interested in instant population data and other analytics for any region in the world? Disaster Ninja showcases some of <2>Kontur</2>\u2019s capabilities in addressing these needs.<br/><br/>We initially designed it as a decision support tool for humanitarian mappers. Now it has grown in functionality and use cases. Whether you work in disaster management, build a smart city, or perform research on climate change, Disaster Ninja can help you to:",l1:"1. Stay up to date with the latest hazard events globally.",p1:"The Disasters panel continually refreshes to inform you about ongoing events. It consumes data from the <2>Kontur Event Feed</2>, which you can also access via an API.",l2:"2. Focus on your area of interest.",p2:"The Drawing Tools panel allows you to draw or upload your own geometry on the map. You can also focus on a disaster-exposed area or an administrative unit \u2014 a country, city, or region.",l3:"3. Get analytics for the focused area.",p3:"The Analytics panel shows the number of people living in that area per <2>Kontur Population</2> and estimated mapping gaps in OpenStreetMap. Kontur\u2019s customers have access to hundreds of other indicators through Advanced Analytics.",l4:"4. Explore data on the map and make conclusions.",p4:"The Layers panel gives you various options to display two indicators simultaneously on a bivariate map, e.g., population density and distance to the nearest fire station. Use the color legend to assess which areas require attention. <br/>Hint: in general, green indicates low risk / few gaps, red \u2014 high risk / many gaps.",p5:"In addition, you can switch to Reports in the left panel to access data on potential errors and inconsistencies in OpenStreetMap and help fix them by mapping the respective area with the JOSM editor.",goToMap:"Go to the map now",p6:"We hope you find this tool valuable. Use the chatbox on Disaster Ninja for any questions about the functionality, and we will be happy to guide you. You can also contact us by email at <1>hello@kontur.io</1> if you have feedback or suggestions on improving the tool.<br/><br/>Disaster Ninja is an open-source project. Find the code in <8>Kontur\u2019s GitHub account</8>."},$te={interfaceTheme:"Theme",interfaceLanguage:"Language",units:"Units",fullName:"Full Name",email:"Email",metric:"metric",imperialBeta:"imperial (beta)",profileSettingsHeader:"Profile",appSettingsHeader:"Settings",englishLanguageOption:"English",spanishLanguageOption:"Spanish",arabicLanguageOption:"Arabic",saveButton:"Save changes",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Default disaster feed",defaultOSMeditor:"Default OpenStreetMap editor (beta)",successNotification:"All changes have been applied successfully"},Vte={not_found_request:"Sorry, requested event not found."},Hte={get_location_error:"Error while getting location",feature_title:"Locate me"},qte="Episode",Gte="Loading Episodes",Qte={km:Zee,m:Kee,to:Xee,logout:Yee,save:Jee,cancel:ete,create:tte,disasters:rte,loading:nte,loading_events:ite,legend:ote,maps:ate,vertical_direction:ste,horizontal_direction:ute,legend_presentation:lte,layers:cte,feed:fte,details:pte,deselect:Ate,spinner_text:hte,updated:dte,no_data_received:mte,wrong_data_received:gte,error:yte,sort_icon:vte,configs:_te,errors:xte,categories:bte,groups:wte,advanced_analytics_data_list:Ste,event_list:Cte,create_layer:Ete,analytics_panel:kte,advanced_analytics_panel:Tte,advanced_analytics_empty:Pte,draw_tools:Ite,boundary_selector:Ote,geometry_uploader:Mte,focus_geometry:Rte,focus_geometry_layer:Lte,drawings:Dte,bivariate:Fte,sidebar:Bte,login:zte,reports:Nte,modes:Ute,about:jte,profile:$te,current_event:Vte,locate_me:Hte,episode:qte,loading_episodes:Gte},Wte="km",Zte="m",Kte="a",Xte="mapas",Yte="Cierre de sesi\xF3n",Jte="Guardar",ere="Cancelar",tre="Crear",rre="Desastres",nre="Cargando...",ire="Cargando eventos",ore="Leyenda",are="Direcci\xF3n vertical",sre="Direcci\xF3n horizontal",ure="Presentaci\xF3n de la leyenda",lre="Capas",cre={color_manager:{layers_filter:"Capas",not_defined:"No definido",sentiments_combinations_filter:"Combinaciones de sentimientos",no_legends:"No hay leyendas que cumplan las condiciones.",no_data:"No hay datos.",sentiments_tab:"Sentimientos",color_legends_tab:"Leyendas de colores",layers_tab:"Capas (indicadores)"},panel:{header:"Matriz bivariada"},matrix:{header:{title:"Elija dos capas para explorar las correlaciones",hint:"Las capas y correlaciones se muestran para el \xE1rea seleccionada actual"},icon:{population:"Valor dividido por la poblaci\xF3n",area_km2:"Valor dividido por el \xE1rea",total_building_count:"Valor dividido por la estimaci\xF3n total de edificios",populated_area_km2:"Valor dividido por el \xE1rea poblada",one:"Sin divisor",roads:"Valor dividido por la longitud total de las carreteras"},progress:{rendering:"Renderizado",applied:"Aplicado en el mapa"}},legend:{high:"Alto",low:"Bajo"}},fre="Fuente",pre="Detalles",Are="Anular la selecci\xF3n",hre="Recopilaci\xF3n de datos",dre="Actualizado",mre="No se han recibido datos",gre="Error",yre={timeout:"Se agot\xF3 el tiempo de espera de la solicitud",cannot_connect:"No se puede conectar al servidor",forbidden:"Prohibido",not_found:"No encontrado",unknown:"Desconocido",server_error:"Error del servidor"},vre={overlays:"Superposiciones",basemap:"Mapa base"},_re={layers_in_selected_area:"Capas en el \xE1rea seleccionada",your_layers:"Sus capas",kontur_analytics:"An\xE1lisis de Kontur",qa:"Certificaci\xF3n de calidad",osmbasedmap:"Basado en OpenStreetMap",other:"Otros",elevation:"Elevaci\xF3n",photo:"Foto",map:"Mapa"},xre={map:"Mapa",reports:"Informes",about:"Acerca de",profile:"Perfil"},bre={profileSettingsHeader:"Perfil",email:"Correo electr\xF3nico"},wre={biv_color_manager:"Administrador de color",edit_osm:"Editar en OpenStreetMap",ruler:"Regla",collapse:"Contraer",expand:"Expandir"},Sre={email:"Correo electr\xF3nico",password:"Contrase\xF1a",login_button:"Inicio de sesi\xF3n",sign_up:"Registrarse",logging_in:"Iniciando sesi\xF3n...",log_in:"Iniciar sesi\xF3n",error:{email_empty:"\xA1El correo electr\xF3nico no debe estar vac\xEDo!",email_invalid:"\xA1El correo electr\xF3nico debe ser v\xE1lido! ",password:"\xA1La contrase\xF1a no debe estar vac\xEDa!",connect:"No se pudo conectar con el servicio de autenticaci\xF3n"}},Cre={load_world_data:"Cargar datos mundiales",numerator:"Numerador",normalized_by:"Normalizado por",sum:"Suma",min:"M\xEDn.",max:"M\xE1x.",mean:"Media",stddev:"Desv. est.",median:"Mediana",filter_denominator:"Filtrar Denominador"},Ere={warning_title:"No se puede utilizar el mapa como filtro",warning_description:"El mapa a\xFAn no est\xE1 listo, int\xE9ntelo m\xE1s tarde",bbox_filter_button:"Usar la vista del mapa como filtro",analytics:{affected_people:{tooltip:"Personas afectadas",value:"Sin impacto humanitario"},settled_area_tooltip:"\xC1rea habitada",loss_tooltip:"P\xE9rdida estimada"}},kre={edit_layer:"Editar capa",edit_features:"Editar caracter\xEDsticas",delete_layer:"Eliminar capa",create_layer:"Crear capa",saving_layer:"Guardando capa...",field_name:"Nombre de campo",layer_name:"Nombre de la capa",marker_icon:"Icono de marcador",type:"Tipo",select:"Seleccionar",short_text:"Texto corto",long_text:"Texto largo",link:"Enlace",image:"Imagen",fields:"Campos",add_field:"Agregar campo",location:"Ubicaci\xF3n",edit_feature_placeholder:"Seleccione una caracter\xEDstica para comenzar a editar las propiedades de la misma"},Tre={loading:"Cargando an\xE1lisis...",header_title:"An\xE1lisis",info_tab:"INFORMACI\xD3N",error_loading:"Error en la obtenci\xF3n de datos de an\xE1lisis"},Pre={loading:"Cargando an\xE1lisis avanzado...",header_title:"An\xE1lisis avanzado",analytics_tab:"Anal\xEDticas avanzadas",error:"Error en la obtenci\xF3n de datos de an\xE1lisis Avanzado"},Ire={not_found:"Lo sentimos, el evento solicitado no se ha encontrado.",error:"\xA1Se produjo un error!",please_select:" Vuelva a seleccionar un \xE1rea",to_see_map:" para ver el estado del mapa",pickDisaster:"Elija el desastre de la lista",draw:"Dibuje un pol\xEDgono en el mapa",select:"Seleccione el l\xEDmite en el mapa",upload:"Cargue su propio geoJSON"},Ore={area:"\xC1rea",line:"L\xEDnea",point:"Punto",finish_drawing:"Terminar el dibujo",caption:"Haga clic en el mapa para empezar a dibujar",no_geometry_error:"No hay geometr\xEDa dibujada para descargar",overlap_error:"El pol\xEDgono no debe superponerse sobre s\xED mismo",save_features:"Guardar caracter\xEDsticas"},Mre={title:"Enfoque en el l\xEDmite administrativo"},Rre={title:"Enfoque en la geometr\xEDa cargada",error:"Error al leer el archivo cargado"},Lre={title:"Enfoque en la geometr\xEDa a mano"},Dre={settings:{name:"\xC1rea seleccionada"}},Fre={self_directions_not_supported:"\xA1No se admiten las autointersecciones!"},Bre={title:"Informes de Disaster Ninja",no_data:"No hay datos para este informe",sorting:"Ordenando datos...",loading:"Cargando datos",search_location:"Buscar ubicaci\xF3n",open_josm:"Abrir a trav\xE9s del control remoto JOSM",josm_logo_alt:"Logotipo de JOSM",see_all:"Ver todos los informes",wrong_id:"ID de informe incorrecto"},zre={title:"\xA1Bienvenido a Disaster Ninja!",intro:"\xBFDesea recibir notificaciones sobre desastres en curso? \xBFLe interesan los datos de poblaci\xF3n instant\xE1neos y otros datos anal\xEDticos de alguna regi\xF3n del mundo? Disaster Ninja muestra algunas de las capacidades de <2>Kontur</2> para ocuparse de estas necesidades.<br /><br /> Inicialmente la dise\xF1amos como una herramienta de apoyo a los mapeadores de servicios humanitarios. Ahora ha ampliado sus funcionalidades y aplicaciones pr\xE1cticas. Ya sea que usted trabaje en la gesti\xF3n de desastres, dise\xF1e una ciudad inteligente o est\xE9 realizando una investigaci\xF3n sobre el cambio clim\xE1tico, Disaster Ninja le puede ayudar a:",l1:"1. Estar al d\xEDa con los \xFAltimos eventos peligrosos a nivel mundial.",p1:"El panel de Desastres se actualiza continuamente para informarle sobre los acontecimientos en curso. Utiliza la informaci\xF3n proporcionada por <2>Kontur Event Feed</2>, a la que tambi\xE9n puede acceder a trav\xE9s de la interfaz de la aplicaci\xF3n.",l2:"2. Centrarse en su \xE1rea de inter\xE9s.",p2:"El panel de Herramientas de Dibujo le permite dibujar o subir su propia geometr\xEDa en el mapa. Tambi\xE9n puede centrarse en un \xE1rea o en una unidad administrativa - pa\xEDs, ciudad o regi\xF3n \u2014 expuesta a desastres.",l3:"3. Recibir an\xE1lisis de su \xE1rea de inter\xE9s.",p3:"El panel de An\xE1lisis le muestra el n\xFAmero de personas que viven en la zona seg\xFAn <2>Kontur Population</2> y seg\xFAn una estimaci\xF3n de las zonas sin mapear en OpenStreetMap. Los clientes de Kontur tienen acceso a cientos de otros indicadores a trav\xE9s de Advance Analytics.",l4:"4. Explorar los datos del mapa y sacar sus propias conclusiones.",p4:"El panel Capas le ofrece varias opciones para mostrar dos indicadores en simult\xE1neo en un mapa bivariado, p. ej:, la densidad de poblaci\xF3n y la distancia a la estaci\xF3n de bomberos m\xE1s cercana. Utilice la leyenda de color para evaluar qu\xE9 \xE1reas requieren atenci\xF3n. <br/>Consejo: en general, el verde indica riesgo bajo / pocas zonas sin mapear, el rojo \u2014 riesgo alto / muchas zonas sin mapear.",p5:"Adem\xE1s, puede cambiar a Informes en el panel de la izquierda para acceder a los datos sobre posibles errores e inconsistencias en OpenStreetMap y ayudarle a realizar correcciones mapeando la zona correspondiente con el editor JOSM.",goToMap:"Vaya al mapa ahora",p6:"Esperamos que esta herramienta le resulte valiosa. Utilice el chat de Disaster Ninja si tiene alguna pregunta sobre sus funcionalidades y estaremos encantados de ayudarle. Tambi\xE9n puede contactarnos por correo electr\xF3nico en <1>hello@kontur.io</1> si tiene alg\xFAn comentario o sugerencia para mejorar la herramienta.<br /><br />Disaster Ninja es un proyecto de c\xF3digo abierto. Busque el c\xF3digo en la <8>cuenta GitHub de Kontur</8>."},Nre={km:Wte,m:Zte,to:Kte,maps:Xte,logout:Yte,save:Jte,cancel:ere,create:tre,disasters:rre,loading:nre,loading_events:ire,legend:ore,vertical_direction:are,horizontal_direction:sre,legend_presentation:ure,layers:lre,bivariate:cre,feed:fre,details:pre,deselect:Are,spinner_text:hre,updated:dre,no_data_received:mre,error:gre,errors:yre,categories:vre,groups:_re,modes:xre,profile:bre,sidebar:wre,login:Sre,advanced_analytics_data_list:Cre,event_list:Ere,create_layer:kre,analytics_panel:Tre,advanced_analytics_panel:Pre,advanced_analytics_empty:Ire,draw_tools:Ore,boundary_selector:Mre,geometry_uploader:Rre,focus_geometry:Lre,focus_geometry_layer:Dre,drawings:Fre,reports:Bre,about:zre},Ure="\u0643\u0645",jre="\u0645",$re="\u0625\u0644\u0649",Vre="\u062E\u0631\u0627\u0626\u0637",Hre="\u062A\u0633\u062C\u064A\u0644 \u062E\u0631\u0648\u062C",qre="\u062D\u0641\u0638",Gre="\u0625\u0644\u063A\u0627\u0621",Qre="\u0625\u0646\u0634\u0627\u0621",Wre="\u0643\u0648\u0627\u0631\u062B",Zre="\u062C\u0627\u0631\u064D \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",Kre="\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0623\u062D\u062F\u0627\u062B",Xre="\u0639\u0646\u0648\u0627\u0646 \u062A\u0641\u0633\u064A\u0631\u064A",Yre="\u0627\u0644\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0631\u0623\u0633\u064A",Jre="\u0627\u0644\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0623\u0641\u0642\u064A",ene="\u0639\u0631\u0636 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0641\u0633\u064A\u0631\u064A",tne="\u0637\u0628\u0642\u0627\u062A",rne={color_manager:{layers_filter:"\u0637\u0628\u0642\u0627\u062A",not_defined:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0641",sentiments_combinations_filter:"\u062A\u0631\u0643\u064A\u0628\u0627\u062A \u0627\u0644\u0645\u0634\u0627\u0639\u0631",no_legends:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u062A\u0641\u064A \u0628\u0627\u0644\u0634\u0631\u0648\u0637.",no_data:"\u0644\u0627\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A.",sentiments_tab:"\u0627\u0644\u0645\u0634\u0627\u0639\u0631",color_legends_tab:"\u0645\u0624\u0634\u0631\u0627\u062A \u0627\u0644\u0644\u0648\u0646",layers_tab:"\u0627\u0644\u0637\u0628\u0642\u0627\u062A (\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062A)"},panel:{header:"\u0645\u0635\u0641\u0648\u0641\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0645\u062A\u063A\u064A\u0631"},matrix:{caption:{base_axis:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A",annex_axis:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642",tooltip:{p1:"\u062A\u0633\u0627\u0639\u062F \u0627\u0644\u0645\u062E\u0637\u0637\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062A\u0636\u0645\u0646 \u0645\u062D\u0648\u0631\u064A \u0627\u0644\u0642\u0627\u0639\u062F\u0629 \u0648\u0627\u0644\u0645\u0644\u062D\u0642 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0639\u0644\u0627\u0642\u0629 \u0628\u064A\u0646 \u0645\u062C\u0645\u0648\u0639\u062A\u064A \u0628\u064A\u0627\u0646\u0627\u062A.",li1:"\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642 - \u0627\u0644\u0645\u0639\u0644\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u0646\u0642\u0648\u0645 \u0628\u062A\u062D\u0644\u064A\u0644\u0647\u0627",li2:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A - \u0627\u0644\u0646\u0642\u0637\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629 \u0641\u064A \u0627\u0644\u062A\u062D\u0644\u064A\u0644",b:"\u0645\u062B\u0627\u0644: \u0623\u0641\u0636\u0644 \u0645\u0648\u0642\u0639 \u0644\u0641\u062A\u062D \u0645\u0642\u0647\u0649",p2:"\u064A\u0645\u0643\u0646\u0646\u0627 \u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0639\u062F\u062F \u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0645\u0637\u0627\u0639\u0645 (\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642) \u0645\u0642\u0627\u0628\u0644 \u0627\u0644\u0643\u062B\u0627\u0641\u0629 \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 (\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A).",p3:"\u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0633\u064A\u0646\u0627\u0631\u064A\u0648\u060C \u0646\u0647\u062A\u0645 \u0623\u0648\u0644\u0627\u064B \u0628\u0639\u062F\u062F \u0635\u063A\u064A\u0631 \u0645\u0646 \u0623\u0645\u0627\u0643\u0646 \u062A\u0646\u0627\u0648\u0644 \u0627\u0644\u0637\u0639\u0627\u0645 \u0648\u064A\u0639\u0637\u064A\u0646\u0627 \u0639\u062F\u062F \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0645\u0643\u0627\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629."}},header:{title:"\u0627\u062E\u062A\u0631 \u0637\u0628\u0642\u062A\u064A\u0646 \u0644\u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0627\u0644\u0627\u0631\u062A\u0628\u0627\u0637\u0627\u062A",hint:"\u064A\u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0637\u0628\u0642\u0627\u062A \u0648\u0627\u0644\u0627\u0631\u062A\u0628\u0627\u0637\u0627\u062A \u0644\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629"},icon:{population:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0639\u062F\u062F \u0627\u0644\u0633\u0643\u0627\u0646",area_km2:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",total_building_count:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u062A\u0642\u062F\u064A\u0631 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0627\u0646\u064A",populated_area_km2:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0623\u0647\u0648\u0644\u0629",one:"\u0628\u062F\u0648\u0646 \u0641\u0627\u0635\u0644",roads:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0625\u062C\u0645\u0627\u0644\u064A \u0637\u0648\u0644 \u0627\u0644\u0637\u0631\u0642"},progress:{rendering:"\u0627\u0633\u062A\u062F\u0639\u0627\u0621",applied:"\u0645\u0637\u0628\u0642 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"}},legend:{high:"\u0645\u0631\u062A\u0641\u0639",low:"\u0645\u0646\u062E\u0641\u0636"}},nne="\u062A\u063A\u0630\u064A\u0629",ine="\u062A\u0641\u0627\u0635\u064A\u0644",one="\u0625\u0644\u063A\u0627\u0621",ane="\u062C\u0645\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",sne="\u062A\u062D\u062F\u064A\u062B",une="\u0644\u0645 \u062A\u064F\u0633\u062A\u0642\u0628\u0644 \u0623\u064A \u0628\u064A\u0627\u0646\u0627\u062A",lne="\u062E\u0637\u0623",cne={timeout:"\u0627\u0646\u062A\u0647\u062A \u0645\u0647\u0644\u0629 \u0627\u0644\u0637\u0644\u0628",cannot_connect:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645",forbidden:"\u0645\u062D\u0638\u0648\u0631",not_found:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649",unknown:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",server_error:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645"},fne={overlays:"\u062A\u0631\u0627\u0643\u0645\u064A\u0627\u062A",basemap:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629"},pne={layers_in_selected_area:"\u0637\u0628\u0642\u0627\u062A \u0641\u064A \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629",your_layers:"\u0637\u0628\u0642\u0627\u062A\u0643",kontur_analytics:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0643\u0648\u0646\u062A\u0648\u0631",qa:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062C\u0648\u062F\u0629",osmbasedmap:"\u0641\u062A\u062D \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0634\u0627\u0631\u0639 \u0639\u0644\u0649 \u0623\u0633\u0627\u0633",other:"\u0622\u062E\u0631",elevation:"\u0627\u0631\u062A\u0641\u0627\u0639",photo:"\u0635\u0648\u0631\u0629",map:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629"},Ane={map:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629",reports:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",about:"\u0639\u0646"},hne={biv_color_manager:"\u0645\u062F\u064A\u0631 \u0627\u0644\u0623\u0644\u0648\u0627\u0646",edit_osm:"\u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0641\u064A OpenStreetMap",ruler:"\u0627\u0644\u0645\u0633\u0637\u0631\u0629",collapse:"\u0625\u063A\u0644\u0627\u0642",expand:"\u0641\u062A\u062D"},dne={email:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"},mne={email:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631",login_button:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",sign_up:"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628",logging_in:"\u062C\u0627\u0631\u064D \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644...",log_in:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",error:{email_empty:"\u064A\u062C\u0628 \u0623\u0646 \u0644\u0627 \u064A\u0643\u0648\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0641\u0627\u0631\u063A\u064B\u0627!",email_invalid:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u0627\u0644\u062D\u064B\u0627!",password:"\u064A\u062C\u0628 \u0623\u0646 \u0644\u0627 \u062A\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0641\u0627\u0631\u063A\u0629!",connect:"\u062A\u0639\u0630\u0651\u0631 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062E\u0627\u062F\u0645 \u0627\u0644\u0645\u0635\u0627\u062F\u0642\u0629"}},gne={load_world_data:"\u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0627\u0644\u0645",numerator:"\u0627\u0644\u0628\u0633\u0637",normalized_by:"\u062A\u0637\u0628\u064A\u0639 \u0628\u0648\u0627\u0633\u0637\u0629",sum:"\u0645\u062C\u0645\u0648\u0639",min:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649",max:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649",mean:"\u0627\u0644\u0645\u062A\u0648\u0633\u0637",stddev:"Stddev",median:"\u0627\u0644\u0648\u0633\u064A\u0637",filter_denominator:"\u0645\u0642\u0627\u0645 \u0627\u0644\u0645\u0631\u0634\u062D"},yne={warning_title:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0643\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629",warning_description:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u064A\u0633\u062A \u062C\u0627\u0647\u0632\u0629 \u0628\u0639\u062F\u060C \u062D\u0627\u0648\u0644 \u0644\u0627\u062D\u0642\u064B\u0627",bbox_filter_button:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0639\u0631\u0636 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0643\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629",analytics:{affected_people:{tooltip:"\u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0648\u0646",value:"\u0644\u0627 \u0623\u062B\u0631 \u0625\u0646\u0633\u0627\u0646\u064A"},settled_area_tooltip:"\u0645\u0646\u0637\u0642\u0629 \u0645\u0633\u062A\u0648\u0637\u0646\u0629",loss_tooltip:"\u0627\u0644\u062E\u0633\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u062F\u0631\u0629"}},vne={edit_layer:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0637\u0628\u0642\u0629",edit_features:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u064A\u0632\u0627\u062A",delete_layer:"\u062D\u0630\u0641 \u0627\u0644\u0637\u0628\u0642\u0629",create_layer:"\u062E\u0644\u0642 \u0627\u0644\u0637\u0628\u0642\u0629",saving_layer:"\u062D\u0641\u0638 \u0627\u0644\u0637\u0628\u0642\u0629...",field_name:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062C\u0627\u0644",layer_name:"\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u0642\u0629",marker_icon:"\u0631\u0645\u0632 \u0627\u0644\u0639\u0644\u0627\u0645\u0629",type:"\u0627\u0644\u0646\u0648\u0639",select:"\u062A\u062D\u062F\u064A\u062F",short_text:"\u0646\u0635 \u0642\u0635\u064A\u0631",long_text:"\u0646\u0635 \u0637\u0648\u064A\u0644",link:"\u0631\u0627\u0628\u0637",image:"\u0635\u0648\u0631\u0629",fields:"\u0645\u062C\u0627\u0644\u0627\u062A",add_field:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062C\u0627\u0644",location:"\u0645\u0648\u0642\u0639",edit_feature_placeholder:"\u062D\u062F\u062F \u0628\u0639\u0636 \u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0644\u0628\u062F\u0621 \u062A\u062D\u0631\u064A\u0631 \u062E\u0635\u0627\u0626\u0635 \u0627\u0644\u0645\u064A\u0632\u0629"},_ne={loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A...",header_title:"\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A",info_tab:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A",error_loading:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A"},xne={loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629...",header_title:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629",analytics_tab:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629",error:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629"},bne={not_found:"\u0639\u0630\u0631\u064B\u0627\u060C \u0627\u0644\u062D\u062F\u062B \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F.",error:"\u062D\u062F\u062B \u062E\u0637\u0623!",please_select:"\u0645\u0646 \u0641\u0636\u0644\u0643\u060C \u062D\u062F\u062F \u0645\u0646\u0637\u0642\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649",to_see_map:"\u0644\u0645\u0639\u0631\u0641\u0629 \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",pickDisaster:"\u062D\u062F\u062F \u0627\u0644\u0643\u0627\u0631\u062B\u0629 \u0641\u064A \u0627\u0644\u0642\u0627\u0626\u0645\u0629",draw:"\u0627\u0631\u0633\u0645 \u0645\u0636\u0644\u0639\u064B\u0627 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",select:"\u062D\u062F\u062F \u0627\u0644\u062D\u062F\u0648\u062F \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",upload:"\u0642\u0645 \u0628\u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641 geoJSON \u0627\u0644\u062E\u0627\u0635 \u0628\u0643"},wne={area:"\u0645\u0646\u0637\u0642\u0629",line:"\u062E\u0637",point:"\u0646\u0642\u0637\u0629",finish_drawing:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0631\u0633\u0645",caption:"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u0628\u062F\u0621 \u0627\u0644\u0631\u0633\u0645",no_geometry_error:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u062C\u0633\u0645 \u0645\u0631\u0633\u0648\u0645 \u0644\u0644\u062A\u0646\u0632\u064A\u0644",overlap_error:"\u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062F\u0627\u062E\u0644 \u0627\u0644\u0645\u0636\u0644\u0639 \u0645\u0639 \u0646\u0641\u0633\u0647",save_features:"\u062D\u0641\u0638 \u0627\u0644\u0645\u064A\u0632\u0627\u062A"},Sne={title:"\u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0627\u0644\u062D\u062F\u0648\u062F \u0627\u0644\u0625\u062F\u0627\u0631\u064A\u0629"},Cne={title:"\u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u062C\u0633\u0645 \u0627\u0644\u0645\u062D\u0645\u0644",error:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0630\u064A \u062A\u0645 \u062A\u062D\u0645\u064A\u0644\u0647"},Ene={title:"\u0631\u0643\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u062C\u0633\u0645 \u0627\u0644\u062D\u0631"},kne={settings:{name:"\u0645\u0646\u0637\u0642\u0629 \u0645\u062E\u062A\u0627\u0631\u0629"}},Tne={self_directions_not_supported:"\u0627\u0644\u062A\u0642\u0627\u0637\u0639\u0627\u062A \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645\u0629!"},Pne={title:"\u062A\u0642\u0627\u0631\u064A\u0631 Disaster Ninja",no_data:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631",sorting:"\u062C\u0627\u0631\u064D \u062A\u0631\u062A\u064A\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",search_location:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0648\u0642\u0639",open_josm:"\u0627\u0644\u0641\u062A\u062D \u0645\u0646 \u062E\u0644\u0627\u0644 \u0648\u062D\u062F\u0629 \u062A\u062D\u0643\u0645 JOSM \u0639\u0646 \u0628\u0639\u062F",josm_logo_alt:"\u0634\u0639\u0627\u0631 JOSM",see_all:"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",wrong_id:"\u0645\u0639\u0631\u0641 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u062E\u0627\u0637\u0626"},Ine={title:"\u0645\u0631\u062D\u0628\u064B\u0627 \u0641\u064A Disaster Ninja!",intro:"\u0647\u0644 \u062A\u0631\u064A\u062F \u0623\u0646 \u064A\u062A\u0645 \u0625\u062E\u0637\u0627\u0631\u0643 \u0628\u0627\u0644\u0643\u0648\u0627\u0631\u062B \u0627\u0644\u0645\u0633\u062A\u0645\u0631\u0629\u061F  \u0647\u0644 \u0623\u0646\u062A \u0645\u0647\u062A\u0645 \u0628\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 \u0627\u0644\u0641\u0648\u0631\u064A\u0629 \u0648\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0644\u0623\u064A \u0645\u0646\u0637\u0642\u0629 \u0641\u064A \u0627\u0644\u0639\u0627\u0644\u0645\u061F  \u064A\u0639\u0631\u0636 Disaster Ninja \u0628\u0639\u0636 \u0642\u062F\u0631\u0627\u062A <2>Kontur</2> \u0641\u064A \u062A\u0644\u0628\u064A\u0629 \u0647\u0630\u0647 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A.<br /> <br /> \u0644\u0642\u062F \u0635\u0645\u0645\u0646\u0627\u0647 \u0641\u064A \u0627\u0644\u0628\u062F\u0627\u064A\u0629 \u0644\u064A\u0643\u0648\u0646 \u0623\u062F\u0627\u0629 \u0644\u062F\u0639\u0645 \u0627\u0644\u0642\u0631\u0627\u0631 \u0644\u0645\u0635\u0645\u0645\u064A \u0627\u0644\u062E\u0631\u0627\u0626\u0637 \u0627\u0644\u0625\u0646\u0633\u0627\u0646\u064A\u0629. \u0627\u0644\u0622\u0646 \u0627\u0632\u062F\u0627\u062F\u062A \u0648\u0638\u0627\u0626\u0641\u0647 \u0648\u062D\u0627\u0644\u0627\u062A \u0627\u0633\u062A\u062E\u062F\u0627\u0645\u0647. \u0633\u0648\u0627\u0621 \u0643\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0643\u0648\u0627\u0631\u062B\u060C \u0623\u0648 \u062A\u0628\u0646\u064A \u0645\u062F\u064A\u0646\u0629 \u0630\u0643\u064A\u0629\u060C \u0623\u0648 \u062A\u062C\u0631\u064A \u0628\u062D\u062B\u064B\u0627 \u0639\u0646 \u062A\u063A\u064A\u0631 \u0627\u0644\u0645\u0646\u0627\u062E\u060C \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0633\u0627\u0639\u062F\u0643 Disaster Ninja \u0639\u0644\u0649:",l1:"1. \u0627\u0644\u0628\u0642\u0627\u0621 \u0639\u0644\u0649 \u0627\u0637\u0644\u0627\u0639 \u0628\u0622\u062E\u0631 \u0627\u0644\u062A\u0637\u0648\u0631\u0627\u062A \u0644\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u062E\u0637\u0631\u0629 \u0639\u0644\u0649 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u0639\u0627\u0644\u0645.",p1:"\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0644\u0648\u062D\u0629 \u0627\u0644\u0643\u0648\u0627\u0631\u062B \u0628\u0627\u0633\u062A\u0645\u0631\u0627\u0631 \u0644\u0625\u0628\u0644\u0627\u063A\u0643 \u0628\u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u062C\u0627\u0631\u064A\u0629. \u0625\u0646\u0647\u0627 \u062A\u0633\u062A\u0647\u0644\u0643 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 <2>Kontur Event Feed</2> \u0648\u0627\u0644\u062A\u064A \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u064A\u0647\u0627 \u0639\u0628\u0631 \u0648\u0627\u062C\u0647\u0629 \u0628\u0631\u0645\u062C\u0629 \u0627\u0644\u062A\u0637\u0628\u064A\u0642\u0627\u062A.",l2:"2. \u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0645\u062C\u0627\u0644 \u0627\u0647\u062A\u0645\u0627\u0645\u0643.",p2:"\u062A\u062A\u064A\u062D \u0644\u0643 \u0644\u0648\u062D\u0629 \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0631\u0633\u0645 \u0631\u0633\u0645 \u0623\u0648 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0634\u0643\u0644 \u0627\u0644\u0647\u0646\u062F\u0633\u064A \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629. \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 \u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0645\u0646\u0637\u0642\u0629 \u0645\u0639\u0631\u0636\u0629 \u0644\u0644\u0643\u0648\u0627\u0631\u062B \u0623\u0648 \u0648\u062D\u062F\u0629 \u0625\u062F\u0627\u0631\u064A\u0629 - \u0628\u0644\u062F \u0623\u0648 \u0645\u062F\u064A\u0646\u0629 \u0623\u0648 \u0645\u0646\u0637\u0642\u0629.",l3:"3. \u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645.",p3:"\u062A\u0639\u0631\u0636 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0639\u062F\u062F \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0630\u064A\u0646 \u064A\u0639\u064A\u0634\u0648\u0646 \u0641\u064A \u062A\u0644\u0643 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u062D\u0633\u0628 <2>Kontur Population</2> \u0648\u0641\u062C\u0648\u0627\u062A \u0627\u0644\u062E\u0631\u0627\u0626\u0637 \u0627\u0644\u0645\u0642\u062F\u0631\u0629 \u0641\u064A OpenStreetMap. \u064A\u0645\u0643\u0646 \u0644\u0639\u0645\u0644\u0627\u0621 Kontur \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u0626\u0627\u062A \u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0645\u0646 \u062E\u0644\u0627\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629.",l4:"4. \u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0648\u0627\u0644\u062A\u0648\u0635\u0644 \u0625\u0644\u0649 \u0627\u0633\u062A\u0646\u062A\u0627\u062C\u0627\u062A.",p4:"\u062A\u0645\u0646\u062D\u0643 \u0644\u0648\u062D\u0629 Layers \u062E\u064A\u0627\u0631\u0627\u062A \u0645\u062A\u0646\u0648\u0639\u0629 \u0644\u0639\u0631\u0636 \u0645\u0624\u0634\u0631\u064A\u0646 \u0641\u064A \u0648\u0642\u062A \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0645\u062A\u063A\u064A\u0631 \u0639\u0644\u0649 \u0633\u0628\u064A\u0644 \u0627\u0644\u0645\u062B\u0627\u0644 \u0627\u0644\u0643\u062B\u0627\u0641\u0629 \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 \u0648\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0625\u0644\u0649 \u0623\u0642\u0631\u0628 \u0645\u062D\u0637\u0629 \u0625\u0637\u0641\u0627\u0621. \u0627\u0633\u062A\u062E\u062F\u0645 \u0648\u0633\u064A\u0644\u0629 \u0625\u064A\u0636\u0627\u062D \u0627\u0644\u0644\u0648\u0646 \u0644\u062A\u0642\u064A\u064A\u0645 \u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u062A\u064A \u062A\u062A\u0637\u0644\u0628 \u0627\u0644\u0627\u0646\u062A\u0628\u0627\u0647. <br/>\u0628\u0634\u0643\u0644 \u0639\u0627\u0645\u060C \u064A\u0634\u064A\u0631 \u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u062E\u0636\u0631 \u0625\u0644\u0649 \u0645\u062E\u0627\u0637\u0631 \u0645\u0646\u062E\u0641\u0636\u0629 / \u0641\u062C\u0648\u0627\u062A \u0642\u0644\u064A\u0644\u0629\u060C \u0648\u0627\u0644\u0623\u062D\u0645\u0631 - \u0645\u062E\u0627\u0637\u0631 \u0639\u0627\u0644\u064A\u0629 / \u0627\u0644\u0639\u062F\u064A\u062F \u0645\u0646 \u0627\u0644\u0641\u062C\u0648\u0627\u062A.",p5:"\u0628\u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0630\u0644\u0643 \u060C \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0625\u0644\u0649 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0641\u064A \u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u064A\u0645\u0646\u0649 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062A\u0639\u0644\u0642\u0629 \u0628\u0627\u0644\u0623\u062E\u0637\u0627\u0621 \u0648\u0627\u0644\u062A\u0646\u0627\u0642\u0636\u0627\u062A \u0627\u0644\u0645\u062D\u062A\u0645\u0644\u0629 \u0641\u064A OpenStreetMap \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062F\u0629 \u0641\u064A \u0625\u0635\u0644\u0627\u062D\u0647\u0627 \u0639\u0646 \u0637\u0631\u064A\u0642 \u0631\u0633\u0645 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0639\u0646\u064A\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u062D\u0631\u0631 JOSM.",goToMap:"\u0627\u0644\u0627\u0646\u062A\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0622\u0646",p6:"\u0646\u0623\u0645\u0644 \u0623\u0646 \u062A\u062C\u062F \u0647\u0630\u0647 \u0627\u0644\u0623\u062F\u0627\u0629 \u0630\u0627\u062A \u0642\u064A\u0645\u0629. \u0627\u0633\u062A\u062E\u062F\u0645 \u0645\u0631\u0628\u0639 \u0627\u0644\u062F\u0631\u062F\u0634\u0629 \u0639\u0644\u0649 Disaster Ninja \u0644\u0623\u064A\u0629 \u0623\u0633\u0626\u0644\u0629 \u062D\u0648\u0644 \u0648\u0638\u0627\u0626\u0641\u0647\u060C \u0648\u0633\u0646\u0643\u0648\u0646 \u0633\u0639\u062F\u0627\u0621 \u0628\u0625\u0631\u0634\u0627\u062F\u0643. \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 <1> \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A </1> \u0625\u0630\u0627 \u0643\u0627\u0646 \u0644\u062F\u064A\u0643 \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0623\u0648 \u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A \u0628\u0634\u0623\u0646 \u062A\u062D\u0633\u064A\u0646 \u0627\u0644\u0623\u062F\u0627\u0629. <br /> <br /> \u064A\u064F\u0639\u062F\u0651 Disaster Ninja \u0645\u0634\u0631\u0648\u0639\u064B\u0627 \u0645\u0641\u062A\u0648\u062D \u0627\u0644\u0645\u0635\u062F\u0631. \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0643\u0648\u062F \u0641\u064A <8>\u062D\u0633\u0627\u0628 Kontur \u0641\u064A GitHub</8>."},One={km:Ure,m:jre,to:$re,maps:Vre,logout:Hre,save:qre,cancel:Gre,create:Qre,disasters:Wre,loading:Zre,loading_events:Kre,legend:Xre,vertical_direction:Yre,horizontal_direction:Jre,legend_presentation:ene,layers:tne,bivariate:rne,feed:nne,details:ine,deselect:one,spinner_text:ane,updated:sne,no_data_received:une,error:lne,errors:cne,categories:fne,groups:pne,modes:Ane,sidebar:hne,profile:dne,login:mne,advanced_analytics_data_list:gne,event_list:yne,create_layer:vne,analytics_panel:_ne,advanced_analytics_panel:xne,advanced_analytics_empty:bne,draw_tools:wne,boundary_selector:Sne,geometry_uploader:Cne,focus_geometry:Ene,focus_geometry_layer:kne,drawings:Tne,reports:Pne,about:Ine};xs.use(ML).use(Dee).init({fallbackLng:"en",debug:!1,defaultNS:"common",interpolation:{escapeValue:!1},contextSeparator:":",pluralSeparator:":",resources:{en:{common:Qte},es:{common:Nre},ar:{common:One}}});const Rn={t:e=>{const t=xs.t(e);return typeof t=="string"?t:(console.error(`Not supported translation result for key: ${e}`),e)},instance:xs},gs=3,RL=[0,gs-1,gs*gs-gs,gs*gs-1],W_=`\u2193${Rn.t("bivariate.legend.low")}`,Z_=`\u2191${Rn.t("bivariate.legend.high")}`,LL=Rn.t("bivariate.legend.medium"),Mne=e=>Array.from(Array(gs),(t,r)=>r).includes(e),ZS=e=>{const t=gs*gs-gs;return Array.from(Array(gs),(r,i)=>t+i).includes(e)},KS=e=>Array.from(Array(gs),(t,r)=>r*gs).includes(e),Rne=e=>Array.from(Array(gs),(t,r)=>r*gs+(gs-1)).includes(e);const Lx=cr.exports.memo(({children:e,tooltipText:t,renderTooltip:r,tooltipId:i,hoverBehavior:s=!0,popupClasses:u})=>{const a=TS(BS.setCurrentTooltip),x=TS(BS.resetCurrentTooltip),S=z=>{t&&a({popupClasses:u,popup:t,position:{x:z.clientX,y:z.clientY},onOuterClick(N,$){$()},initiatorId:i,hoverBehavior:s})};return e({showTooltip:(z,...N)=>{r?r(z,a,...N):S(z)},hideTooltip:()=>{x()}})});Lx.displayName="TooltipWrapper";function cg(e){return["get",e]}function Lne(e){return["var",e]}function cT(e,t){return["<",e,t]}function fT(e,t){return["!=",e,t]}function Dne(e,t){return["==",e,t]}function XS(e,t){return[e,t]}function YS(...e){const t=e.pop();return["case",...e.flat(2),t]}function Fne(...e){return["concat",...e]}function Bne(e,t,r){return["let",e,t,r]}function zne(...e){return["any",...e]}function JS(e){return typeof e=="string"?e==="1"?1:cg(e):Array.isArray(e)?e.map((t,r)=>r===0?t:JS(t)):e}function Nne(e,t){const i=JS(e.propName),s=JS(t.propName);return Fne(YS(e.borders.map((u,a)=>XS(cT(i,u),String.fromCharCode(64+a))),String.fromCharCode(64+e.borders.length)),YS(t.borders.map((u,a)=>XS(cT(s,u),a)),t.borders.length))}function Une(e,t,r){return YS(Object.entries(t).map(([i,s])=>XS(Dne(Lne(e),i),s)),r)}function jne(e){return Object.fromEntries(e.map(Object.values))}function $ne(e,t){return zne(fT(["/",cg(e.quotient[0]),cg(e.quotient[1])],0),fT(["/",cg(t.quotient[0]),cg(t.quotient[1])],0))}function Vne(e,t,r){return Bne("class",Nne({propName:["/",...e.quotient],borders:e.steps.reduce((i,{value:s})=>(i.push(s),i),[])},{propName:["/",...t.quotient],borders:t.steps.reduce((i,{value:s})=>(i.push(s),i),[])}),Une("class",r,"transparent"))}function DL({x:e,y:t,colors:r,source:i,sourceLayer:s,id:u="bivariate"}){const a={id:u,type:"fill",layout:{},filter:$ne(e,t),paint:{"fill-color":Vne(e,t,jne(r)),"fill-opacity":1,"fill-antialias":!1}};return i&&(a.source=i),s&&(a["source-layer"]=s),a}function Hne(e,t="id"){const r=e.reduce((i,s)=>{const u=s[t].slice(0,1);return i[u]?i[u].push(s):i[u]=[s],i},{});return Object.values(r)}function qne(e,t="id"){return[...Hne(e,t)].reverse().reduce((i,s)=>i.concat(s),[])}const FL=e=>e.charAt(0).toUpperCase()+e.slice(1),Gne=e=>e.map(FL).join(", "),Qne=e=>e!==null&&typeof e=="object"&&"message"in e,Wne=e=>Array.isArray(e)?Gne(e):FL(e),pT=e=>{if(!e)return"";const[t,r]=e;return AT(t.unit.id)?r.name==="one"?`${t.label} (${t.unit.shortName})`:AT(r.unit.id)?r.name==="area_km2"?`${t.label} (${t.unit.shortName}/${r.unit.shortName})`:`${t.label} to ${r.label} (${t.unit.shortName}/${r.unit.shortName})`:`${t.label} to ${r.label} (${t.unit.shortName})`:`${t.label} to ${r.label}`},AT=e=>Boolean(e&&e!=="other"),Zne="_tooltipRoot_zjmcz_1",Kne="_tooltipRow_zjmcz_11",Xne="_sentimentDirection_zjmcz_17",Yne="_sentimentLabel_zjmcz_21",Jne="_sentimentInfo_zjmcz_25",eie="_indicator_zjmcz_29",Ud={tooltipRoot:Zne,tooltipRow:Kne,sentimentDirection:Xne,sentimentLabel:Yne,sentimentInfo:Jne,indicator:eie},tie=({children:e,hints:t})=>{const r=(i,s,u,a)=>{t&&RL.includes(a)&&s({popup:_t(rie,{cellIndex:a,hints:t}),position:{x:i.clientX,y:i.clientY},hoverBehavior:!0})};return cr.exports.isValidElement(e)?_t(Lx,{renderTooltip:r,children:({showTooltip:i,hideTooltip:s})=>cr.exports.cloneElement(e,{onCellPointerOver:i,onCellPointerLeave:s})}):null},rie=({hints:e,cellIndex:t})=>{var i,s,u,a,x,S;if(!e)return null;const r=[{label:(i=e.x)==null?void 0:i.label,direction:(u=(s=e.x)==null?void 0:s.direction)==null?void 0:u[ZS(t)?0:1],indicator:ZS(t)?W_:Z_},{label:(a=e.y)==null?void 0:a.label,direction:(S=(x=e.y)==null?void 0:x.direction)==null?void 0:S[KS(t)?0:1],indicator:KS(t)?W_:Z_}];return _t("div",{className:va(Ud.tooltipRoot),children:r.map(({label:P,direction:R,indicator:z},N)=>Zn("div",{className:va(Ud.tooltipRow),children:[_t("span",{className:va(Ud.indicator),children:z}),Zn("span",{className:va(Ud.sentimentInfo),children:[Zn("span",{className:va(Ud.sentimentLabel),children:[P," "]}),R&&_t("span",{className:va(Ud.sentimentDirection),children:Wne(R)})]})]},N))})},nie={hints:{x:{label:"Average NDVI, JUN 2019",direction:[["bad"],["good"]]},y:{label:"Multi-hazard exposure PDC GRVA",direction:[["unimportant"],["bad","important"]]}}},iie={x:{label:"Multi-hazard exposure PDC GRVA to 1",steps:[{label:"",value:0},{label:"",value:.48},{label:"",value:.62},{label:"",value:1}],quality:.997101882904748,quotient:["mhe_index","one"]},y:{label:"Average NDVI, JUN 2019 to 1",steps:[{label:"",value:-1},{label:"",value:.3625118070036407},{label:"",value:.6441754083082613},{label:"",value:1}],quality:.9410965072118505,quotient:["avg_ndvi","one"]}},oie=[{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(179,165,130,0.5)"},{label:"C3",color:"rgba(153,153,153,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(195,163,111,0.5)"},{label:"B3",color:"rgba(204,103,116,0.5)"},{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"}];function aie(){return Zn(wR,{children:[_t(kL,{}),_t(tie,{meta:nie,children:_t(NH,{showAxisLabels:!0,size:gs,axis:iie,cells:oie})})]})}const sie="_LegendGrid_1ko5k_1",uie="_LegendGridCell_1ko5k_10",lie="_LegendGridCellChanged_1ko5k_17",cie="_LegendGridCellUndefinedChanged_1ko5k_22",fie="_CircleIndicator_1ko5k_26",pie="_UndefinedColorsIndicator_1ko5k_36",jd={LegendGrid:sie,LegendGridCell:uie,LegendGridCellChanged:lie,LegendGridCellUndefinedChanged:cie,CircleIndicator:fie,UndefinedColorsIndicator:pie},Ym=({legendSteps:e,changes:t={}})=>{const r=RL.map(s=>e[s]),i=e.some(s=>s.isFallbackColor);return Zn("div",{className:jd.LegendGrid,children:[r.map(s=>{var P;let u=s.color,a=!1,x,S;if(t[s.label]){a=!0;const R=(P=t[s.label])==null?void 0:P.color;u=R,x=R?jd.LegendGridCellChanged:jd.LegendGridCellUndefinedChanged}return u&&(S={backgroundColor:u}),_t("div",{className:va(jd.LegendGridCell,x),style:S,children:a&&_t("div",{className:jd.CircleIndicator})},s.label)}),i&&_t("div",{className:jd.UndefinedColorsIndicator,children:_t(Aie,{})})]})},Aie=()=>Zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[_t("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),_t("path",{d:"M10 3C6.13438 3 3 6.13438 3 10C3 13.8656 6.13438 17 10 17C13.8656 17 17 13.8656 17 10C17 6.13438 13.8656 3 10 3ZM10 15.8125C6.79063 15.8125 4.1875 13.2094 4.1875 10C4.1875 6.79063 6.79063 4.1875 10 4.1875C13.2094 4.1875 15.8125 6.79063 15.8125 10C15.8125 13.2094 13.2094 15.8125 10 15.8125Z",fill:"#F5222D"}),_t("path",{d:"M9.25 12.75C9.25 12.9489 9.32902 13.1397 9.46967 13.2803C9.61032 13.421 9.80109 13.5 10 13.5C10.1989 13.5 10.3897 13.421 10.5303 13.2803C10.671 13.1397 10.75 12.9489 10.75 12.75C10.75 12.5511 10.671 12.3603 10.5303 12.2197C10.3897 12.079 10.1989 12 10 12C9.80109 12 9.61032 12.079 9.46967 12.2197C9.32902 12.3603 9.25 12.5511 9.25 12.75ZM9.625 11H10.375C10.4438 11 10.5 10.9438 10.5 10.875V6.625C10.5 6.55625 10.4438 6.5 10.375 6.5H9.625C9.55625 6.5 9.5 6.55625 9.5 6.625V10.875C9.5 10.9438 9.55625 11 9.625 11Z",fill:"#F5222D"})]}),Jm=[{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(159,171,87,0.5)"},{label:"B3",color:"rgba(140,127,57,0.5)"},{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(88,176,117,0.5)"},{label:"C3",color:"rgba(83,152,106,0.5)"}],hie=Zn("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:["All next colors - undefined",_t(Ym,{legendSteps:Jm,changes:{A1:{color:void 0},A3:{color:void 0},C1:{color:void 0},C3:{color:void 0}}}),"No changes",_t(Ym,{legendSteps:Jm,changes:{}}),"All changed",_t(Ym,{legendSteps:Jm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(171, 216, 237, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed",_t(Ym,{legendSteps:Jm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed, half comes incorrect",_t(Ym,{legendSteps:Jm,changes:{A1:{color:void 0},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:void 0}}})]}),die="modulepreload",mie=function(e,t){return new URL(e,t).href},hT={},gie=function(t,r,i){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=mie(s,i),s in hT)return;hT[s]=!0;const u=s.endsWith(".css"),a=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":die,u||(x.as="script",x.crossOrigin=""),x.href=s,document.head.appendChild(x),u)return new Promise((S,P)=>{x.addEventListener("load",S),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},yie=e=>new Proxy({},{get:(t,r)=>{if(typeof r=="string")return cr.exports.lazy(()=>e(r).then(i=>({default:i[r]})))}}),dT="bivariate-greetings-disabled",vie="_container_zzzsn_1",_ie="_closeButton_zzzsn_8",mT={container:vie,closeButton:_ie},{BivariateGreetings:xie}=yie(()=>gie(()=>import("./BivariateGreetings.998987c8.js"),[],import.meta.url)),bie=({className:e})=>{const[t,r]=cr.exports.useState(!1);cr.exports.useEffect(()=>{!localStorage.getItem(dT)&&!t&&r(!0)},[]);const i=()=>{r(!1),localStorage.setItem(dT,"true")};return t?Zn("div",{className:va(e,mT.container),children:[_t(cr.exports.Suspense,{fallback:null,children:_t(xie,{})}),_t("div",{onClick:i,className:mT.closeButton,children:_t(fH,{})})]}):null},wie=()=>_t(bie,{});var Sie=0;function Cie(e){var t=e.get,r=e.set,i=e.throttle,s=i===void 0?0:i;return function(u){var a="__persistIntervalId"+ ++Sie;return function(x){return function(S,P){var R=P.atom.id;P.tracks==null&&(P.state=t(u!=null?u:R));var z=x(S,P);return r!=null&&S.schedule(function(){var N;s==0?r(u!=null?u:R,z.state):((N=z.ctx[a])!=null?N:null)===null&&(z.ctx[a]=setTimeout(function(){z.ctx[a]=null,r(u!=null?u:R,S.getCache(z.atom).state)},150))}),z}}}}var Eie={get:function(e){var t,r=(t=globalThis.localStorage)==null?void 0:t.getItem(e);return r?JSON.parse(r):void 0},set:function(e,t){var r;return(r=globalThis.localStorage)==null?void 0:r.setItem(e,JSON.stringify(t))},throttle:150};Cie(Eie);function kie(e,t){if(Object.is(e,t))return!0;if(q_(e)&&q_(t)){var r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every(function(s){return Object.is(e[s],t[s])})}return!1}function BL(e){return e===void 0&&(e=kie),function(t){return function(r,i){var s=t(r,i);return i.tracks!=null&&e(i.state,s.state)&&(s.state=i.state),s}}}class Ph extends Error{constructor(r,i){super(r);oi(this,"problem");this.problem=i,Object.setPrototypeOf(this,Ph.prototype)}}function zL(e){return e.problem?typeof e.problem=="object":!1}const NL="Abort error",gT=e=>e?typeof e=="string"?e===NL:zL(e)?e.problem.kind==="canceled":e instanceof DOMException?e.name==="AbortError":!1:!1;async function Tie(e,t){return new Promise((r,i)=>{if(e.signal.aborted)return Promise.reject(new DOMException("Aborted","AbortError"));const s=()=>{e.signal.removeEventListener("abort",s),i(new DOMException("Aborted","AbortError"))};e.signal.addEventListener("abort",s),t.then(r).catch(i).finally(()=>e.signal.removeEventListener("abort",s))})}function Pie(e){return"loading"in e||"error"in e}const eg=(...e)=>{},Fw={inheritState:!1,store:NR,auto:!0},UL=(e=>t=>{if(!e.has(t))return e.add(t),t;console.warn(`Atom with name ${t} already exist. Full page reload recommended`);const r=t+performance.now();return UL(r)})(new Set);function O4(e,t,r,i={}){var x,S,P;const s={...i,auto:(x=i.auto)!=null?x:Fw.auto,inheritState:(S=i.inheritState)!=null?S:Fw.inheritState,store:(P=i.store)!=null?P:Fw.store},u={request:R=>R,refetch:()=>null,cancel:()=>null,_done:(R,z)=>({params:R,data:z}),_error:(R,z)=>({params:R,error:z}),_loading:R=>({params:R})};return e&&(u.depsAtom=e),Ro(u,({onAction:R,schedule:z,create:N,onChange:$,get:Z},J={loading:!1,data:null,error:null,lastParams:null,dirty:!1})=>{const ae={...J};return R("request",V=>{ae.dirty=!0,z(async(K,ue)=>{if(ue.abortController){ue.abortController.abort(),delete ue.abortController;let he=!1;try{eg("2.1. Cancel flow: await activeRequest"),await ue.activeRequest}catch(le){he=gT(le)}he&&K(N("request",V));return}K(N("_loading",V));const ge=new AbortController;try{ue.abortController=ge,ue.activeRequest=Tie(ge,t(V,ge)),eg("4. Wait result");const he=await ue.activeRequest;he===void 0&&console.warn("resourceAtom: fetcherResult undefined"),delete ue.activeRequest,eg("5. Check that it was aborted:"),ge.signal.throwIfAborted(),eg("5.1.A. request was not aborted"),ue.abortController===ge&&(eg("5.1.A.1. Done"),delete ue.abortController,K(N("_done",V,he)),s.onSuccess&&s.onSuccess(K,V,he))}catch(he){if(gT(he))K(N("_error",V,NL));else if(ue.abortController===ge){console.error(`[${r}]:`,he);const le=Qne(he)?he.message:typeof he=="string"?he:"Unknown";K(N("_error",V,le))}}})}),R("refetch",()=>{z((V,K)=>{J.dirty&&!J.loading?V(N("request",ae.lastParams)):console.error(`[${r}]:`,"Do not call refetch before request")})}),R("cancel",()=>{z(async(V,K)=>{K.abortController&&(K.abortController.abort(),K.abortController=null)})}),R("_loading",({params:V})=>{ae.loading=!0,ae.error=null,ae.lastParams=V}),R("_error",({params:V,error:K})=>{ae.error=K,ae.lastParams=V,ae.loading=!1}),R("_done",({data:V,params:K})=>{ae.data=V,ae.error=null,ae.loading=!1,ae.lastParams=K}),u.depsAtom?$("depsAtom",V=>{q_(V)?(s.inheritState&&(ae.loading=V.loading||ae.loading,ae.error=V.error||ae.error),Pie(V)?!V.loading&&!V.error&&V.dirty&&z(K=>K(N("request",V.data))):z(K=>K(N("request",V)))):V!==null&&z(K=>K(N("request",V)))}):s.auto&&!ae.dirty&&z(V=>V(N("request",null))),ae},{id:UL(r),store:s.store,decorators:[BL()]})}function eC(e){this.message=e}eC.prototype=new Error,eC.prototype.name="InvalidCharacterError";var yT=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new eC("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,s=0,u=0,a="";i=t.charAt(u++);~i&&(r=s%4?64*r+i:i,s++%4)?a+=String.fromCharCode(255&r>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function Iie(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(yT(r).replace(/(.)/g,function(i,s){var u=s.charCodeAt(0).toString(16).toUpperCase();return u.length<2&&(u="0"+u),"%"+u}))}(t)}catch{return yT(t)}}function K_(e){this.message=e}function Oie(e,t){if(typeof e!="string")throw new K_("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(Iie(e.split(".")[r]))}catch(i){throw new K_("Invalid token specified: "+i.message)}}K_.prototype=new Error,K_.prototype.name="InvalidTokenError";const to=(()=>{var t,r,i,s,u,a,x,S,P;const e=(t=globalThis.window.konturAppConfig)!=null?t:{};return{apiGateway:e.API_GATEWAY,boundariesApi:e.BOUNDARIES_API,reportsApi:e.REPORTS_API,bivariateTilesRelativeUrl:e.BIVARIATE_TILES_RELATIVE_URL,bivariateTilesServer:e.BIVARIATE_TILES_SERVER,bivariateTilesIndicatorsClass:e.BIVARIATE_TILES_INDICATORS_CLASS,refreshIntervalSec:e.REFRESH_INTERVAL_SEC,mapAccessToken:e.MAP_ACCESS_TOKEN,mapBaseStyle:e.MAP_BASE_STYLE,layersByDefault:e.LAYERS_BY_DEFAULT,featuresByDefault:e.FEATURES_BY_DEFAULT,defaultFeed:e.DEFAULT_FEED,defaultFeedObject:Mie(e.DEFAULT_FEED),keycloakUrl:e.KEYCLOAK_URL,keycloakRealm:e.KEYCLOAK_REALM,keycloakClientId:e.KEYCLOAK_CLIENT_ID,yandexMetricaId:e.YANDEX_METRICA_ID,baseUrl:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_BASE_PATH,isDevBuild:!1,isProdBuild:!0,appVersion:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.PACKAGE_VERSION,autoFocus:{desktopPaddings:{top:(i=(r=e.AUTOFOCUS_PADDINGS)==null?void 0:r[0])!=null?i:0,right:(u=(s=e.AUTOFOCUS_PADDINGS)==null?void 0:s[1])!=null?u:0,bottom:(x=(a=e.AUTOFOCUS_PADDINGS)==null?void 0:a[2])!=null?x:0,left:(P=(S=e.AUTOFOCUS_PADDINGS)==null?void 0:S[3])!=null?P:0},maxZoom:e.AUTOFOCUS_ZOOM},intercom:{name:e.INTERCOM_DEFAULT_NAME,app_id:e.INTERCOM_APP_ID,custom_launcher_selector:e.INTERCOM_SELECTOR},osmEditors:e.OSM_EDITORS||[{id:"josm",title:"JOSM",url:"https://www.openstreetmap.org/edit?editor=remote#map="}]}})();console.info(`%c Disaster Ninja ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.PACKAGE_VERSION} deployment:
  - Build Time: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.BUILD_TIME}
  - Git Branch: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_BRANCH}
  - Git Commit: #${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_COMMIT_HASH}
  - Git Commit Time: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_COMMIT_TIME}
  `,"color: #bada55");function Mie(e){return(!e||e!=="kontur-public")&&console.warn("WARNING! Default feed provided via config is incorrect or absent"),{feed:"kontur-public",name:Rn.t("configs.Kontur_public_feed"),description:Rn.t("configs.Kontur_public_feed_description"),default:!0}}var jL={exports:{}},M4={exports:{}},$L=function(t,r){return function(){for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];return t.apply(r,s)}},Rie=$L,R4=Object.prototype.toString,L4=function(e){return function(t){var r=R4.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Xh(e){return e=e.toLowerCase(),function(r){return L4(r)===e}}function D4(e){return Array.isArray(e)}function X_(e){return typeof e>"u"}function Lie(e){return e!==null&&!X_(e)&&e.constructor!==null&&!X_(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var VL=Xh("ArrayBuffer");function Die(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&VL(e.buffer),t}function Fie(e){return typeof e=="string"}function Bie(e){return typeof e=="number"}function HL(e){return e!==null&&typeof e=="object"}function o_(e){if(L4(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var zie=Xh("Date"),Nie=Xh("File"),Uie=Xh("Blob"),jie=Xh("FileList");function F4(e){return R4.call(e)==="[object Function]"}function $ie(e){return HL(e)&&F4(e.pipe)}function Vie(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||R4.call(e)===t||F4(e.toString)&&e.toString()===t)}var Hie=Xh("URLSearchParams");function qie(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Gie(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function B4(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),D4(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function tC(){var e={};function t(s,u){o_(e[u])&&o_(s)?e[u]=tC(e[u],s):o_(s)?e[u]=tC({},s):D4(s)?e[u]=s.slice():e[u]=s}for(var r=0,i=arguments.length;r<i;r++)B4(arguments[r],t);return e}function Qie(e,t,r){return B4(t,function(s,u){r&&typeof s=="function"?e[u]=Rie(s,r):e[u]=s}),e}function Wie(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function Zie(e,t,r,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function Kie(e,t,r){var i,s,u,a={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)u=i[s],a[u]||(t[u]=e[u],a[u]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function Xie(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var i=e.indexOf(t,r);return i!==-1&&i===r}function Yie(e){if(!e)return null;var t=e.length;if(X_(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var Jie=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),bs={isArray:D4,isArrayBuffer:VL,isBuffer:Lie,isFormData:Vie,isArrayBufferView:Die,isString:Fie,isNumber:Bie,isObject:HL,isPlainObject:o_,isUndefined:X_,isDate:zie,isFile:Nie,isBlob:Uie,isFunction:F4,isStream:$ie,isURLSearchParams:Hie,isStandardBrowserEnv:Gie,forEach:B4,merge:tC,extend:Qie,trim:qie,stripBOM:Wie,inherits:Zie,toFlatObject:Kie,kindOf:L4,kindOfTest:Xh,endsWith:Xie,toArray:Yie,isTypedArray:Jie,isFileList:jie},$d=bs;function vT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var qL=function(t,r,i){if(!r)return t;var s;if(i)s=i(r);else if($d.isURLSearchParams(r))s=r.toString();else{var u=[];$d.forEach(r,function(S,P){S===null||typeof S>"u"||($d.isArray(S)?P=P+"[]":S=[S],$d.forEach(S,function(z){$d.isDate(z)?z=z.toISOString():$d.isObject(z)&&(z=JSON.stringify(z)),u.push(vT(P)+"="+vT(z))}))}),s=u.join("&")}if(s){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},eoe=bs;function Dx(){this.handlers=[]}Dx.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Dx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Dx.prototype.forEach=function(t){eoe.forEach(this.handlers,function(i){i!==null&&t(i)})};var toe=Dx,roe=bs,noe=function(t,r){roe.forEach(t,function(s,u){u!==r&&u.toUpperCase()===r.toUpperCase()&&(t[r]=s,delete t[u])})},GL=bs;function R0(e,t,r,i,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s)}GL.inherits(R0,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var QL=R0.prototype,WL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){WL[e]={value:e}});Object.defineProperties(R0,WL);Object.defineProperty(QL,"isAxiosError",{value:!0});R0.from=function(e,t,r,i,s,u){var a=Object.create(QL);return GL.toFlatObject(e,a,function(S){return S!==Error.prototype}),R0.call(a,e.message,t,r,i,s),a.name=e.name,u&&Object.assign(a,u),a};var J0=R0,ZL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cc=bs;function ioe(e,t){t=t||new FormData;var r=[];function i(u){return u===null?"":Cc.isDate(u)?u.toISOString():Cc.isArrayBuffer(u)||Cc.isTypedArray(u)?typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function s(u,a){if(Cc.isPlainObject(u)||Cc.isArray(u)){if(r.indexOf(u)!==-1)throw Error("Circular reference detected in "+a);r.push(u),Cc.forEach(u,function(S,P){if(!Cc.isUndefined(S)){var R=a?a+"."+P:P,z;if(S&&!a&&typeof S=="object"){if(Cc.endsWith(P,"{}"))S=JSON.stringify(S);else if(Cc.endsWith(P,"[]")&&(z=Cc.toArray(S))){z.forEach(function(N){!Cc.isUndefined(N)&&t.append(R,i(N))});return}}s(S,R)}}),r.pop()}else t.append(a,i(u))}return s(e),t}var KL=ioe,Bw,_T;function ooe(){if(_T)return Bw;_T=1;var e=J0;return Bw=function(r,i,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?r(s):i(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},Bw}var zw,xT;function aoe(){if(xT)return zw;xT=1;var e=bs;return zw=e.isStandardBrowserEnv()?function(){return{write:function(i,s,u,a,x,S){var P=[];P.push(i+"="+encodeURIComponent(s)),e.isNumber(u)&&P.push("expires="+new Date(u).toGMTString()),e.isString(a)&&P.push("path="+a),e.isString(x)&&P.push("domain="+x),S===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),zw}var soe=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},uoe=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},loe=soe,coe=uoe,XL=function(t,r){return t&&!loe(r)?coe(t,r):r},Nw,bT;function foe(){if(bT)return Nw;bT=1;var e=bs,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Nw=function(i){var s={},u,a,x;return i&&e.forEach(i.split(`
`),function(P){if(x=P.indexOf(":"),u=e.trim(P.substr(0,x)).toLowerCase(),a=e.trim(P.substr(x+1)),u){if(s[u]&&t.indexOf(u)>=0)return;u==="set-cookie"?s[u]=(s[u]?s[u]:[]).concat([a]):s[u]=s[u]?s[u]+", "+a:a}}),s},Nw}var Uw,wT;function poe(){if(wT)return Uw;wT=1;var e=bs;return Uw=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function u(a){var x=a;return r&&(i.setAttribute("href",x),x=i.href),i.setAttribute("href",x),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=u(window.location.href),function(x){var S=e.isString(x)?u(x):x;return S.protocol===s.protocol&&S.host===s.host}}():function(){return function(){return!0}}(),Uw}var jw,ST;function Fx(){if(ST)return jw;ST=1;var e=J0,t=bs;function r(i){e.call(this,i==null?"canceled":i,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),jw=r,jw}var $w,CT;function Aoe(){return CT||(CT=1,$w=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),$w}var Vw,ET;function kT(){if(ET)return Vw;ET=1;var e=bs,t=ooe(),r=aoe(),i=qL,s=XL,u=foe(),a=poe(),x=ZL,S=J0,P=Fx(),R=Aoe();return Vw=function(N){return new Promise(function(Z,J){var ae=N.data,V=N.headers,K=N.responseType,ue;function ge(){N.cancelToken&&N.cancelToken.unsubscribe(ue),N.signal&&N.signal.removeEventListener("abort",ue)}e.isFormData(ae)&&e.isStandardBrowserEnv()&&delete V["Content-Type"];var he=new XMLHttpRequest;if(N.auth){var le=N.auth.username||"",Se=N.auth.password?unescape(encodeURIComponent(N.auth.password)):"";V.Authorization="Basic "+btoa(le+":"+Se)}var Ce=s(N.baseURL,N.url);he.open(N.method.toUpperCase(),i(Ce,N.params,N.paramsSerializer),!0),he.timeout=N.timeout;function He(){if(!!he){var st="getAllResponseHeaders"in he?u(he.getAllResponseHeaders()):null,bt=!K||K==="text"||K==="json"?he.responseText:he.response,St={data:bt,status:he.status,statusText:he.statusText,headers:st,config:N,request:he};t(function(fr){Z(fr),ge()},function(fr){J(fr),ge()},St),he=null}}if("onloadend"in he?he.onloadend=He:he.onreadystatechange=function(){!he||he.readyState!==4||he.status===0&&!(he.responseURL&&he.responseURL.indexOf("file:")===0)||setTimeout(He)},he.onabort=function(){!he||(J(new S("Request aborted",S.ECONNABORTED,N,he)),he=null)},he.onerror=function(){J(new S("Network Error",S.ERR_NETWORK,N,he,he)),he=null},he.ontimeout=function(){var bt=N.timeout?"timeout of "+N.timeout+"ms exceeded":"timeout exceeded",St=N.transitional||x;N.timeoutErrorMessage&&(bt=N.timeoutErrorMessage),J(new S(bt,St.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,N,he)),he=null},e.isStandardBrowserEnv()){var ut=(N.withCredentials||a(Ce))&&N.xsrfCookieName?r.read(N.xsrfCookieName):void 0;ut&&(V[N.xsrfHeaderName]=ut)}"setRequestHeader"in he&&e.forEach(V,function(bt,St){typeof ae>"u"&&St.toLowerCase()==="content-type"?delete V[St]:he.setRequestHeader(St,bt)}),e.isUndefined(N.withCredentials)||(he.withCredentials=!!N.withCredentials),K&&K!=="json"&&(he.responseType=N.responseType),typeof N.onDownloadProgress=="function"&&he.addEventListener("progress",N.onDownloadProgress),typeof N.onUploadProgress=="function"&&he.upload&&he.upload.addEventListener("progress",N.onUploadProgress),(N.cancelToken||N.signal)&&(ue=function(st){!he||(J(!st||st&&st.type?new P:st),he.abort(),he=null)},N.cancelToken&&N.cancelToken.subscribe(ue),N.signal&&(N.signal.aborted?ue():N.signal.addEventListener("abort",ue))),ae||(ae=null);var tt=R(Ce);if(tt&&["http","https","file"].indexOf(tt)===-1){J(new S("Unsupported protocol "+tt+":",S.ERR_BAD_REQUEST,N));return}he.send(ae)})},Vw}var Hw,TT;function hoe(){return TT||(TT=1,Hw=null),Hw}var Ja=bs,PT=noe,IT=J0,doe=ZL,moe=KL,goe={"Content-Type":"application/x-www-form-urlencoded"};function OT(e,t){!Ja.isUndefined(e)&&Ja.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function yoe(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=kT()),e}function voe(e,t,r){if(Ja.isString(e))try{return(t||JSON.parse)(e),Ja.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var Bx={transitional:doe,adapter:yoe(),transformRequest:[function(t,r){if(PT(r,"Accept"),PT(r,"Content-Type"),Ja.isFormData(t)||Ja.isArrayBuffer(t)||Ja.isBuffer(t)||Ja.isStream(t)||Ja.isFile(t)||Ja.isBlob(t))return t;if(Ja.isArrayBufferView(t))return t.buffer;if(Ja.isURLSearchParams(t))return OT(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Ja.isObject(t),s=r&&r["Content-Type"],u;if((u=Ja.isFileList(t))||i&&s==="multipart/form-data"){var a=this.env&&this.env.FormData;return moe(u?{"files[]":t}:t,a&&new a)}else if(i||s==="application/json")return OT(r,"application/json"),voe(t);return t}],transformResponse:[function(t){var r=this.transitional||Bx.transitional,i=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,u=!i&&this.responseType==="json";if(u||s&&Ja.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(u)throw a.name==="SyntaxError"?IT.from(a,IT.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hoe()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ja.forEach(["delete","get","head"],function(t){Bx.headers[t]={}});Ja.forEach(["post","put","patch"],function(t){Bx.headers[t]=Ja.merge(goe)});var z4=Bx,_oe=bs,xoe=z4,boe=function(t,r,i){var s=this||xoe;return _oe.forEach(i,function(a){t=a.call(s,t,r)}),t},qw,MT;function YL(){return MT||(MT=1,qw=function(t){return!!(t&&t.__CANCEL__)}),qw}var RT=bs,Gw=boe,woe=YL(),Soe=z4,Coe=Fx();function Qw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Coe}var Eoe=function(t){Qw(t),t.headers=t.headers||{},t.data=Gw.call(t,t.data,t.headers,t.transformRequest),t.headers=RT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),RT.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var r=t.adapter||Soe.adapter;return r(t).then(function(s){return Qw(t),s.data=Gw.call(t,s.data,s.headers,t.transformResponse),s},function(s){return woe(s)||(Qw(t),s&&s.response&&(s.response.data=Gw.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},Wu=bs,JL=function(t,r){r=r||{};var i={};function s(R,z){return Wu.isPlainObject(R)&&Wu.isPlainObject(z)?Wu.merge(R,z):Wu.isPlainObject(z)?Wu.merge({},z):Wu.isArray(z)?z.slice():z}function u(R){if(Wu.isUndefined(r[R])){if(!Wu.isUndefined(t[R]))return s(void 0,t[R])}else return s(t[R],r[R])}function a(R){if(!Wu.isUndefined(r[R]))return s(void 0,r[R])}function x(R){if(Wu.isUndefined(r[R])){if(!Wu.isUndefined(t[R]))return s(void 0,t[R])}else return s(void 0,r[R])}function S(R){if(R in r)return s(t[R],r[R]);if(R in t)return s(void 0,t[R])}var P={url:a,method:a,data:a,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S};return Wu.forEach(Object.keys(t).concat(Object.keys(r)),function(z){var N=P[z]||u,$=N(z);Wu.isUndefined($)&&N!==S||(i[z]=$)}),i},Ww,LT;function eD(){return LT||(LT=1,Ww={version:"0.27.2"}),Ww}var koe=eD().version,vA=J0,N4={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){N4[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var DT={};N4.transitional=function(t,r,i){function s(u,a){return"[Axios v"+koe+"] Transitional option '"+u+"'"+a+(i?". "+i:"")}return function(u,a,x){if(t===!1)throw new vA(s(a," has been removed"+(r?" in "+r:"")),vA.ERR_DEPRECATED);return r&&!DT[a]&&(DT[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,a,x):!0}};function Toe(e,t,r){if(typeof e!="object")throw new vA("options must be an object",vA.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var u=i[s],a=t[u];if(a){var x=e[u],S=x===void 0||a(x,u,e);if(S!==!0)throw new vA("option "+u+" must be "+S,vA.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new vA("Unknown option "+u,vA.ERR_BAD_OPTION)}}var Poe={assertOptions:Toe,validators:N4},tD=bs,Ioe=qL,FT=toe,BT=Eoe,zx=JL,Ooe=XL,rD=Poe,Vd=rD.validators;function L0(e){this.defaults=e,this.interceptors={request:new FT,response:new FT}}L0.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=zx(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&rD.assertOptions(i,{silentJSONParsing:Vd.transitional(Vd.boolean),forcedJSONParsing:Vd.transitional(Vd.boolean),clarifyTimeoutError:Vd.transitional(Vd.boolean)},!1);var s=[],u=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(r)===!1||(u=u&&$.synchronous,s.unshift($.fulfilled,$.rejected))});var a=[];this.interceptors.response.forEach(function($){a.push($.fulfilled,$.rejected)});var x;if(!u){var S=[BT,void 0];for(Array.prototype.unshift.apply(S,s),S=S.concat(a),x=Promise.resolve(r);S.length;)x=x.then(S.shift(),S.shift());return x}for(var P=r;s.length;){var R=s.shift(),z=s.shift();try{P=R(P)}catch(N){z(N);break}}try{x=BT(P)}catch(N){return Promise.reject(N)}for(;a.length;)x=x.then(a.shift(),a.shift());return x};L0.prototype.getUri=function(t){t=zx(this.defaults,t);var r=Ooe(t.baseURL,t.url);return Ioe(r,t.params,t.paramsSerializer)};tD.forEach(["delete","get","head","options"],function(t){L0.prototype[t]=function(r,i){return this.request(zx(i||{},{method:t,url:r,data:(i||{}).data}))}});tD.forEach(["post","put","patch"],function(t){function r(i){return function(u,a,x){return this.request(zx(x||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:a}))}}L0.prototype[t]=r(),L0.prototype[t+"Form"]=r(!0)});var Moe=L0,Zw,zT;function Roe(){if(zT)return Zw;zT=1;var e=Fx();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(a){i=a});var s=this;this.promise.then(function(u){if(!!s._listeners){var a,x=s._listeners.length;for(a=0;a<x;a++)s._listeners[a](u);s._listeners=null}}),this.promise.then=function(u){var a,x=new Promise(function(S){s.subscribe(S),a=S}).then(u);return x.cancel=function(){s.unsubscribe(a)},x},r(function(a){s.reason||(s.reason=new e(a),i(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(!!this._listeners){var s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}},t.source=function(){var i,s=new t(function(a){i=a});return{token:s,cancel:i}},Zw=t,Zw}var Kw,NT;function Loe(){return NT||(NT=1,Kw=function(t){return function(i){return t.apply(null,i)}}),Kw}var Xw,UT;function Doe(){if(UT)return Xw;UT=1;var e=bs;return Xw=function(r){return e.isObject(r)&&r.isAxiosError===!0},Xw}var jT=bs,Foe=$L,a_=Moe,Boe=JL,zoe=z4;function nD(e){var t=new a_(e),r=Foe(a_.prototype.request,t);return jT.extend(r,a_.prototype,t),jT.extend(r,t),r.create=function(s){return nD(Boe(e,s))},r}var Du=nD(zoe);Du.Axios=a_;Du.CanceledError=Fx();Du.CancelToken=Roe();Du.isCancel=YL();Du.VERSION=eD().version;Du.toFormData=KL;Du.AxiosError=J0;Du.Cancel=Du.CanceledError;Du.all=function(t){return Promise.all(t)};Du.spread=Loe();Du.isAxiosError=Doe();M4.exports=Du;M4.exports.default=Du;(function(e){e.exports=M4.exports})(jL);const rC=e2(jL.exports),$T=e=>e instanceof Date?e.getTime():typeof e=="number"||e===null||e===void 0?e:Number(e),U4=(e,t,r)=>r>=e&&r<=t,VT=e=>!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function",Noe={Accept:"application/json","Content-Type":"application/json"},Uoe={timeout:0},joe=null,iD="CLIENT_ERROR",$oe="SERVER_ERROR",Voe="TIMEOUT_ERROR",Hoe="CONNECTION_ERROR",qoe="NETWORK_ERROR",nC="UNKNOWN_ERROR",Goe="CANCEL_ERROR",Qoe=["ERR_BAD_REQUEST"],Woe=["ECONNABORTED"],Zoe=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],oD=e=>U4(200,299,e),Koe=e=>U4(400,499,e),Xoe=e=>U4(500,599,e),Yoe=e=>e.message==="Network Error"?qoe:rC.isCancel(e)?Goe:e.code?Qoe.includes(e.code)?iD:Woe.includes(e.code)?Voe:Zoe.includes(e.code)?Hoe:nC:aD(e.response.status),aD=e=>e?oD(e)?joe:Koe(e)?iD:Xoe(e)?$oe:nC:nC,Joe=e=>{const t={...Noe,...e.headers||{}};let r;if(e.axiosInstance)r=e.axiosInstance;else{const Ce={...e,headers:void 0},He={...Uoe,...Ce};r=rC.create(He)}const i=[],s=Ce=>{i.push(Ce)},u=[],a=[],x=[],S=[],P=Ce=>u.push(Ce),R=Ce=>a.push(Ce),z=Ce=>x.push(Ce),N=Ce=>S.push(Ce),$=(Ce,He)=>(t[Ce]=He,r),Z=Ce=>(Object.keys(Ce).forEach(He=>$(He,Ce[He])),r),J=Ce=>(delete t[Ce],r),ae=Ce=>(r.defaults.baseURL=Ce,r),V=()=>r.defaults.baseURL,K=Ce=>(He,ut={},tt={})=>ge({...tt,url:He,params:ut,method:Ce}),ue=Ce=>(He,ut,tt={})=>ge({...tt,url:He,method:Ce,data:ut}),ge=async Ce=>{if(Ce.headers={...t,...Ce.headers},u.length>0&&u.forEach(tt=>tt(Ce)),a.length>0)for(let tt=0;tt<a.length;tt++){const st=a[tt](Ce);VT(st)?await st:typeof st=="function"&&await st(Ce)}const He=$T(new Date),ut=async tt=>{const st=await le(He,tt);return he(st)};return r.request(Ce).then(ut).catch(ut)},he=Ce=>(i.forEach(He=>{try{He(Ce)}catch{}}),Ce),le=async(Ce,He)=>{const tt=$T(new Date)-Ce,st=He instanceof Error||rC.isCancel(He),bt=He,St=He,Qt=st?St.response:bt,fr=Qt&&Qt.status||null,wr=st?Yoe(He):aD(fr),Et=st?St:null,Ze=oD(fr||0),Oe=He.config||null,ee=Qt&&Qt.headers||null,pe=Qt&&Qt.data||null,yt={duration:tt,problem:wr,originalError:Et,ok:Ze,status:fr||void 0,headers:ee||void 0,config:Oe,data:pe};if(x.length>0&&x.forEach(tr=>tr(yt)),S.length>0)for(let tr=0;tr<S.length;tr++){const yr=S[tr](yt);VT(yr)?await yr:typeof yr=="function"&&await yr(yt)}return yt};return{axiosInstance:r,monitors:i,addMonitor:s,requestTransforms:u,asyncRequestTransforms:a,responseTransforms:x,asyncResponseTransforms:S,addRequestTransform:P,addAsyncRequestTransform:R,addResponseTransform:z,addAsyncResponseTransform:N,setHeader:$,setHeaders:Z,deleteHeader:J,headers:t,setBaseURL:ae,getBaseURL:V,any:ge,get:K("get"),delete:K("delete"),head:K("head"),post:ue("post"),put:ue("put"),patch:ue("patch"),link:K("link"),unlink:K("unlink")}},eae="localhost:3000";function HT(e){const t=window.viteProxyConfig;if(!t||!Object.keys(t).find(i=>e.includes(i)))return e;try{return e.replace(new URL(e).host,eae)}catch{return e}}const tg={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"};function tae(e){switch(e.problem){case"CONNECTION_ERROR":return{kind:"cannot-connect",temporary:!0};case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server",data:e.data};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(e.status){case 401:return{kind:"unauthorized",data:"Not authorized or session has expired."};case 403:return{kind:"forbidden"};case 404:return{kind:"not-found"};default:return{kind:"rejected",data:e.data}}case"CANCEL_ERROR":return{kind:"canceled"};default:return{kind:"unknown",temporary:!0}}}const k1="auth_token",dp=class{constructor({instanceId:t="default",notificationService:r,translationService:i,loginApiPath:s="",refreshTokenApiPath:u="",unauthorizedCallback:a,disableAuth:x=!1,storage:S=window.localStorage,...P}){oi(this,"instanceId");oi(this,"translationService");oi(this,"notificationService");oi(this,"unauthorizedCallback");oi(this,"loginApiPath");oi(this,"refreshTokenApiPath");oi(this,"apiSauceInstance");oi(this,"disableAuth");oi(this,"storage");oi(this,"token","");oi(this,"refreshToken","");oi(this,"tokenWillExpire");oi(this,"checkTokenPromise");oi(this,"expiredTokenCallback");var R,z,N;this.instanceId=t,this.translationService=i,this.notificationService=r,this.loginApiPath=s,this.refreshTokenApiPath=u,this.disableAuth=x,this.storage=S,this.unauthorizedCallback=a,(z=(R=import.meta)==null?void 0:R.env)!=null&&z.DEV&&(P.baseURL=HT((N=P.baseURL)!=null?N:""),this.loginApiPath=HT(this.loginApiPath)),P.headers||(P.headers={}),P.headers["Content-Type"]||(P.headers["Content-Type"]="application/json"),P.headers.Accept||(P.headers.Accept="application/json"),this.apiSauceInstance=Joe(P)}static getInstance(t="default"){if(dp.instances[t])return dp.instances[t];throw new Error("You have to initialize api client first!")}static init(t){const r=t.instanceId||"default";if(dp.instances[r])throw new Error(`Api client instance with Id: ${r} already initialized`);return dp.instances[r]=new dp(t),dp.instances[r]}setAuth(t,r){let i;try{i=Oie(t)}catch{return"Can't decode token!"}if(i&&i.exp){const s=new Date(i.exp*1e3);return s>new Date?(this.token=t,this.refreshToken=r,this.tokenWillExpire=s,this.storage.setItem(k1,JSON.stringify({token:t,refreshToken:r})),i):"Wrong token expire time!"}return"Wrong data received!"}async checkAuth(t){this.expiredTokenCallback=t;const r=localStorage.getItem(k1);if(r){const i=JSON.parse(r);if(i.token&&i.refreshToken){const s=this.setAuth(i.token,i.refreshToken);if(typeof s=="string")throw localStorage.removeItem(k1),new Ph(this.translationService.t(s),{kind:"bad-data"});return{token:i.token,refreshToken:i.refreshToken,jwtData:s}}}}resetAuth(){this.token="",this.refreshToken="",this.tokenWillExpire=void 0,this.storage.removeItem(k1)}async checkTokenIsExpired(){this.checkTokenPromise||(this.checkTokenPromise=new Promise(async r=>{if(this.tokenWillExpire){const i=this.tokenWillExpire.getTime()-new Date().getTime();if(i<0)return this.resetAuth(),this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1;const s=1e3*60*5;if(i<s){const u=await this.refreshAuthToken();return u&&typeof u!="string"?(r(!0),!0):(this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1)}return r(!0),!0}return this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1}));const t=await this.checkTokenPromise;return this.checkTokenPromise=void 0,t}async processResponse(t,r){if(t.ok)return t.data;this.unauthorizedCallback&&(t.status===401||t.status===403)&&this.unauthorizedCallback();const i=tae(t);let s="";throw r&&r.messages&&(typeof r.messages!="string"?t.status&&t.status in r.messages&&(s=r.messages[t.status]):s=r.messages),s||(s=dp.parseError(i)),(!r||!r.dontShowErrors)&&this.notificationService.error({title:this.translationService.t("error"),description:this.translationService.t(s)}),new Ph(s,i)}static parseError(t){if(t&&"data"in t){const{data:r}=t;if(r!==null){if(Array.isArray(r))return r.map(i=>i.name&&i.message?`${i.name}: ${i.message}`:i).join("<br/>");if(r instanceof Object){if(r.hasOwnProperty("error"))return r.error;if(r.hasOwnProperty("errors")&&Array.isArray(r.errors))return r.errors.reduce((i,s)=>(s.hasOwnProperty("message")&&i.push(s.message),i),[]).join("<br/>")}return String(r)}return"Unknown Error"}switch(t.kind){case"timeout":return Rn.t("errors.timeout");case"cannot-connect":return Rn.t("errors.cannot_connect");case"forbidden":return Rn.t("errors.forbidden");case"not-found":return Rn.t("errors.not_found");case"unknown":return Rn.t("errors.unknown");default:return Rn.t("errors.server_error")}}async checkToken(t){if(!await this.checkTokenIsExpired()){const i={isAxiosError:!1,message:"TOKEN ERROR",name:"Token error",config:t};return{ok:!1,problem:"CLIENT_ERROR",status:401,originalError:{...i,toJSON:()=>i}}}return!1}async login(t,r){var u;const i=new URLSearchParams;i.append("username",t),i.append("password",r),i.append("client_id",to.keycloakClientId),i.append("grant_type","password");const s=await this.apiSauceInstance.post(this.loginApiPath,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s.ok?this.processAuthResponse(s):(u=s.data)==null?void 0:u.error_description}processAuthResponse(t){if(t.ok)if(t.data&&t.data.access_token){const r=this.setAuth(t.data.access_token,t.data.refresh_token);if(typeof r=="string")throw new Ph(this.translationService.t(r),{kind:"bad-data"});return{token:t.data.access_token,refreshToken:t.data.refresh_token,jwtData:r}}else throw t.status===204?new Ph(this.translationService.t("no_data_received"),{kind:"no-data"}):new Ph(this.translationService.t("wrong_data_received"),{kind:"bad-data"})}async logout(){this.resetAuth()}async refreshAuthToken(){var i;const t=new URLSearchParams;t.append("client_id",to.keycloakClientId),t.append("refresh_token",this.refreshToken),t.append("grant_type","refresh_token");const r=await this.apiSauceInstance.post(this.refreshTokenApiPath,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return r.ok?this.processAuthResponse(r):(i=r.data)==null?void 0:i.error_description}async call(t,r,i,s=!this.disableAuth,u){if(u||(u={}),!this.disableAuth&&s&&this.token){const x=await this.checkToken(u);if(x)return await this.processResponse(x,u==null?void 0:u.errorsConfig);(!u.headers||!u.headers.Authorization)&&(u.headers={Authorization:`Bearer ${this.token}`})}const a=await this.apiSauceInstance[t](r,i,u);return this.processResponse(a,u==null?void 0:u.errorsConfig)}async get(t,r,i=!this.disableAuth,s){return this.call(tg.GET,t,r,i,s)}async post(t,r,i=!this.disableAuth,s){return this.call(tg.POST,t,r,i,s)}async put(t,r,i=!this.disableAuth,s){return this.call(tg.PUT,t,r,i,s)}async patch(t,r,i=!this.disableAuth,s){return this.call(tg.PATCH,t,r,i,s)}async delete(t,r=!this.disableAuth,i){return this.call(tg.DELETE,t,void 0,r,i)}};let bp=dp;oi(bp,"instances",{});let rae=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const s_=Ro({showNotification:(e,t,r)=>({type:e,message:t,lifetimeSec:r}),removeNotification:e=>e},({onAction:e,schedule:t,create:r},i=[])=>(e("showNotification",({type:s,message:u,lifetimeSec:a})=>{const x=rae(4),S=()=>s_.removeNotification.dispatch(x);i=[...i,{id:x,type:s,message:u,lifetimeSec:a,onClose:S}],t(P=>{setTimeout(S,a*1e3)})}),e("removeNotification",s=>i=i.filter(({id:u})=>u!==s)),[...i]),"[Shared state] currentNotificationAtom"),f0=class{constructor(){oi(this,"defaultLifetimeSec",10)}static getInstance(){if(f0.instance)return f0.instance;throw new Error("You have to initialize api client first!")}static init(){f0.instance=new f0}error(t,r){s_.showNotification.dispatch("error",t,r||this.defaultLifetimeSec)}warning(t,r){s_.showNotification.dispatch("warning",t,r||this.defaultLifetimeSec)}info(t,r){s_.showNotification.dispatch("info",t,r||this.defaultLifetimeSec)}};let Eg=f0;oi(Eg,"instance");function nae(e){Array.isArray(e)||(e=[e]);const t=e.map(r=>r.subscribe(()=>null));return()=>t.forEach(r=>r())}const x0=X0(new Map,"mountedLayers"),sD=Ro({setMap:e=>e,resetMap:()=>null},({onAction:e,schedule:t},r=null)=>(e("setMap",i=>{r=i,t(s=>{s(x0.clear())})}),e("resetMap",()=>{r=null}),r),"[Shared state] currentMapAtom"),kg=jR(new Set,"hiddenLayers"),iae=Ro({currentMapAtom:sD},({onChange:e,schedule:t})=>{e("currentMapAtom",(r,i)=>{!i||t(s=>{s([kg.clear(),x0.clear()])})})});function oae(){nae([iae])}Eg.init();oae();const j4=Eg.getInstance();bp.init({notificationService:j4,baseURL:to.apiGateway,loginApiPath:`${to.keycloakUrl}/auth/realms/${to.keycloakRealm}/protocol/openid-connect/token`,refreshTokenApiPath:`${to.keycloakUrl}/auth/realms/${to.keycloakRealm}/protocol/openid-connect/token`,translationService:Rn});const aae=bp.getInstance(),sy=aae;bp.init({instanceId:"boundaries",notificationService:j4,baseURL:to.boundariesApi,disableAuth:!0,translationService:Rn});bp.getInstance("boundaries");bp.init({instanceId:"reports",notificationService:j4,baseURL:to.reportsApi,disableAuth:!0,translationService:Rn});bp.getInstance("reports");Ro({set:e=>e,reset:()=>null},({onAction:e},t=null)=>(e("set",r=>t={id:r}),e("reset",()=>t=null),t),"[Shared state] currentEpisodeAtom");/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tg(e,t,r,i){function s(u){return u instanceof r?u:new r(function(a){a(u)})}return new(r||(r=Promise))(function(u,a){function x(R){try{P(i.next(R))}catch(z){a(z)}}function S(R){try{P(i.throw(R))}catch(z){a(z)}}function P(R){R.done?u(R.value):s(R.value).then(x,S)}P((i=i.apply(e,t||[])).next())})}class Go{constructor(){this.mutex=Promise.resolve()}lock(){let t=()=>{};return this.mutex=this.mutex.then(()=>new Promise(t)),new Promise(r=>{t=r})}dispatch(t){return Tg(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(t())}finally{r()}})}}var Yw;function sae(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const iC=sae(),Jw=(Yw=iC.Buffer)!==null&&Yw!==void 0?Yw:null,uae=iC.TextEncoder?new iC.TextEncoder:null;function uD(e,t){return(e&15)+(e>>6|e>>3&8)<<4|(t&15)+(t>>6|t>>3&8)}function lae(e,t){const r=t.length>>1;for(let i=0;i<r;i++){const s=i<<1;e[i]=uD(t.charCodeAt(s),t.charCodeAt(s+1))}}function cae(e,t){if(e.length!==t.length*2)return!1;for(let r=0;r<t.length;r++){const i=r<<1;if(t[r]!==uD(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}const qT="a".charCodeAt(0)-10,GT="0".charCodeAt(0);function QT(e,t,r){let i=0;for(let s=0;s<r;s++){let u=t[s]>>>4;e[i++]=u>9?u+qT:u+GT,u=t[s]&15,e[i++]=u>9?u+qT:u+GT}return String.fromCharCode.apply(null,e)}const WT=Jw!==null?e=>{if(typeof e=="string"){const t=Jw.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(Jw.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if(typeof e=="string")return uae.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},ZT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fg=new Uint8Array(256);for(let e=0;e<ZT.length;e++)fg[ZT.charCodeAt(e)]=e;function fae(e){let t=Math.floor(e.length*.75);const r=e.length;return e[r-1]==="="&&(t-=1,e[r-2]==="="&&(t-=1)),t}function pae(e){const t=fae(e),r=e.length,i=new Uint8Array(t);let s=0;for(let u=0;u<r;u+=4){const a=fg[e.charCodeAt(u)],x=fg[e.charCodeAt(u+1)],S=fg[e.charCodeAt(u+2)],P=fg[e.charCodeAt(u+3)];i[s]=a<<2|x>>4,s+=1,i[s]=(x&15)<<4|S>>2,s+=1,i[s]=(S&3)<<6|P&63,s+=1}return i}const T1=16*1024,rg=4,Aae=new Go,e3=new Map;function hae(e,t){return Tg(this,void 0,void 0,function*(){let r=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const u=(le,Se=0)=>{i.set(le,Se)},a=()=>i,x=()=>r.exports,S=le=>{r.exports.Hash_SetMemorySize(le);const Se=r.exports.Hash_GetBuffer(),Ce=r.exports.memory.buffer;i=new Uint8Array(Ce,Se,le)},P=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),R=Aae.dispatch(()=>Tg(this,void 0,void 0,function*(){if(!e3.has(e.name)){const Se=pae(e.data),Ce=WebAssembly.compile(Se);e3.set(e.name,Ce)}const le=yield e3.get(e.name);r=yield WebAssembly.instantiate(le,{})})),z=()=>Tg(this,void 0,void 0,function*(){r||(yield R);const le=r.exports.Hash_GetBuffer(),Se=r.exports.memory.buffer;i=new Uint8Array(Se,le,T1)}),N=(le=null)=>{s=!0,r.exports.Hash_Init(le)},$=le=>{let Se=0;for(;Se<le.length;){const Ce=le.subarray(Se,Se+T1);Se+=Ce.length,i.set(Ce),r.exports.Hash_Update(Ce.length)}},Z=le=>{if(!s)throw new Error("update() called before init()");const Se=WT(le);$(Se)},J=new Uint8Array(t*2),ae=(le,Se=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,r.exports.Hash_Final(Se),le==="binary"?i.slice(0,t):QT(J,i,t)},V=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const le=r.exports.Hash_GetState(),Se=P(),Ce=r.exports.memory.buffer,He=new Uint8Array(Ce,le,Se),ut=new Uint8Array(rg+Se);return lae(ut,e.hash),ut.set(He,rg),ut},K=le=>{if(!(le instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const Se=r.exports.Hash_GetState(),Ce=P(),He=rg+Ce,ut=r.exports.memory.buffer;if(le.length!==He)throw new Error(`Bad state length (expected ${He} bytes, got ${le.length})`);if(!cae(e.hash,le.subarray(0,rg)))throw new Error("This state was written by an incompatible hash implementation");const tt=le.subarray(rg);new Uint8Array(ut,Se,Ce).set(tt),s=!0},ue=le=>typeof le=="string"?le.length<T1/4:le.byteLength<T1;let ge=ue;switch(e.name){case"argon2":case"scrypt":ge=()=>!0;break;case"blake2b":case"blake2s":ge=(le,Se)=>Se<=512&&ue(le);break;case"blake3":ge=(le,Se)=>Se===0&&ue(le);break;case"xxhash64":case"xxhash3":case"xxhash128":ge=()=>!1;break}const he=(le,Se=null,Ce=null)=>{if(!ge(le,Se))return N(Se),Z(le),ae("hex",Ce);const He=WT(le);return i.set(He),r.exports.Hash_Calculate(He.length,Se,Ce),QT(J,i,t)};return yield z(),{getMemory:a,writeMemory:u,getExports:x,setMemorySize:S,init:N,update:Z,digest:ae,save:V,load:K,calculate:he,hashLength:t}})}function dae(e,t,r){return Tg(this,void 0,void 0,function*(){const i=yield e.lock(),s=yield hae(t,r);return i(),s})}new Go;new Go;new Go;new Go;var mae="crc32",gae="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",yae="749723dc",vae={name:mae,data:gae,hash:yae};const _ae=new Go;let P1=null;function xae(e){if(P1===null)return dae(_ae,vae,4).then(t=>(P1=t,P1.calculate(e,3988292384)));try{const t=P1.calculate(e,3988292384);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;const My=X0(new Map,"layersSettings");function bae(e,t){const r=new Blob([JSON.stringify(e)],{type:"json"}),i=document.createElement("a"),s=URL.createObjectURL(r);i.href=s,i.download=t,document.body.appendChild(i),i.click(),clearTimeout(setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)},0))}const Dh=jR(new Set,"enabledLayers"),$4=X0(new Map,"layersLegends"),lD=X0(new Map,"layersMeta"),cD=X0(new Map,"layersSources"),fD=X0(new Map,"layersMenus");function Zd(e){if(e&&typeof e=="object"){const t=Object.getOwnPropertyNames(e);for(const r of t){const i=e[r];Zd(i)}return Object.freeze(e)}return e}const wae="bivariate-layer-",Sae="bivariate-source-",Cae={overlay:{name:Rn.t("categories.overlays"),openByDefault:!0,mutuallyExclusive:!1,order:1},base:{name:Rn.t("categories.basemap"),openByDefault:!1,mutuallyExclusive:!0,order:2}},Eae={layersInSelectedArea:{name:Rn.t("groups.layers_in_selected_area"),openByDefault:!0,mutuallyExclusive:!1,order:0},user_layers:{name:Rn.t("groups.your_layers"),openByDefault:!0,mutuallyExclusive:!1,order:1},bivariate:{name:Rn.t("groups.kontur_analytics"),openByDefault:!0,mutuallyExclusive:!0,order:2},qa:{name:Rn.t("groups.qa"),openByDefault:!0,mutuallyExclusive:!1,order:3},osmbasedmap:{name:Rn.t("groups.osmbasedmap"),openByDefault:!1,mutuallyExclusive:!1,order:4},other:{name:Rn.t("groups.other"),openByDefault:!1,mutuallyExclusive:!1,order:999},elevation:{name:Rn.t("groups.elevation"),openByDefault:!0,mutuallyExclusive:!1},photo:{name:Rn.t("groups.photo"),openByDefault:!0,mutuallyExclusive:!1},map:{name:Rn.t("groups.map"),openByDefault:!0,mutuallyExclusive:!1}},kae=Eae,Tae=new Proxy(kae,{get(e,t,r){const i=Reflect.get(e,t,r);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,r,i){return Reflect.set(e,t,r,i)}}),Pae=Ro({},({},e=Tae)=>e,"layersGroupsSettingsAtom"),Iae=Cae,Oae=new Proxy(Iae,{get(e,t,r){const i=Reflect.get(e,t,r);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,r,i){return Reflect.set(e,t,r,i)}}),Mae=Ro({},({},e=Oae)=>e,"layersCategoriesSettingsAtom"),Rae=(()=>{let e=null;Pae.subscribe(s=>e=s);let t=null;Mae.subscribe(s=>t=s);let r=null;Dh.subscribe(s=>r=s);let i=null;return My.subscribe(s=>i=s),s=>{var R,z,N,$;if(!e||!t||!r||!i)return[];const u=(R=s.settings)==null?void 0:R.category,a=(z=s.settings)==null?void 0:z.group,x=u&&((N=t[u])==null?void 0:N.mutuallyExclusive),S=a&&(($=e[a])==null?void 0:$.mutuallyExclusive);if(!x&&!S)return[];const P=new Set;return r.forEach(Z=>{var ae,V;if(s.id===Z)return;const J=i.get(Z);!J||(x?((ae=J.data)==null?void 0:ae.category)===u&&P.add(Z):S&&((V=J.data)==null?void 0:V.group)===a&&P.add(Z))}),Array.from(P).map(Z=>Dh.delete(Z))}})(),Lae={enable:()=>null,disable:()=>null,hide:()=>null,show:()=>null,download:()=>null,destroy:()=>null};function Dae(e,t,r,i){let s=!1;const u=Ro({...Lae,layersSettingsAtom:My,layersLegendsAtom:$4,layersMetaAtom:lD,layersSourcesAtom:cD,enabledLayersAtom:Dh,mountedLayersAtom:x0,hiddenLayersAtom:kg,layersMenusAtom:fD},({get:a,onAction:x,getUnlistedState:S,onInit:P,schedule:R,onChange:z},N={id:e,error:null,isEnabled:!1,isLoading:!1,isMounted:!1,isVisible:!0,isDownloadable:!1,settings:null,meta:null,legend:null,source:null,contextMenu:null})=>{var Ce,He,ut,tt,st,bt;const $=[],Z=i||S(sD),J={isLoading:!1,data:null,error:null},ae=(Ce=a("layersSettingsAtom").get(e))!=null?Ce:J,V=(He=a("layersMetaAtom").get(e))!=null?He:J,K=(ut=a("layersLegendsAtom").get(e))!=null?ut:J,ue=(tt=a("layersSourcesAtom").get(e))!=null?tt:J,ge=(st=a("layersMenusAtom").get(e))!=null?st:null,he={id:N.id,error:N.error,isLoading:[ae,V,K,ue].some(St=>St.isLoading),isEnabled:a("enabledLayersAtom").has(e),isMounted:a("mountedLayersAtom").has(e),isVisible:!a("hiddenLayersAtom").has(e),isDownloadable:((bt=ue.data)==null?void 0:bt.source.type)==="geojson",settings:Zd(ae.data),meta:Zd(V.data),legend:Zd(K.data),source:Zd(ue.data),contextMenu:Zd(ge)};P(()=>{try{t.willInit({map:Z,state:{...he}})}catch(St){console.error(St),he.error=St}}),x("enable",()=>{he.isEnabled=!0,$.push(Dh.set(e),...Rae(N))}),x("disable",()=>{he.isEnabled=!1,$.push(Dh.delete(e))}),x("hide",()=>{if(!!Z)try{t.willHide({map:Z,state:{...he}}),he.isVisible=!1,$.push(kg.set(e))}catch(St){console.error(St),he.error=St}}),x("show",()=>{if(!!Z)try{t.willUnhide({map:Z,state:{...he}}),he.isVisible=!0,$.push(kg.delete(e))}catch(St){console.error(St),he.error=St}}),x("download",()=>{var St,Qt;try{if(!N.isDownloadable)return;if(!((St=N.source)!=null&&St.source)){console.error("Download failed, source unavailable");return}bae(N.source.source,`${((Qt=N.settings)==null?void 0:Qt.name)||N.id||"Disaster Ninja map layer"}-${new Date().toISOString()}.json`)}catch(fr){console.error(fr),he.error=fr}});const le=!s&&he.isEnabled!==he.isMounted;if(!(N.isMounted!==he.isMounted)&&le&&!he.isLoading)try{he.isMounted?Z&&(t.willUnMount({map:Z,state:{...he}}),he.isMounted=!1,$.push(x0.delete(e))):Z&&(t.willMount({map:Z,state:{...he}}),he.isMounted=!0,$.push(x0.set(e,u)))}catch(St){console.error(St),he.error=St}return N.isMounted&&he.isMounted&&(N.legend!==he.legend&&Z&&t.willLegendUpdate({map:Z,state:{...he}}),N.source!==he.source&&Z&&t.willSourceUpdate({map:Z,state:{...he}})),x("destroy",()=>{s=!0;try{t.willDestroy({map:Z,state:{...he}}),S(r).has(N.id)&&$.push(r.unregister(N.id,{notifyLayerAboutDestroy:!1}))}catch(St){console.error(St),he.error=St}}),$.length&&R(St=>St($)),he},{id:e,decorators:[BL()]});return u}const KT=new WeakMap,XT=new WeakMap,Fae=()=>{const e=Ro({register:t=>Array.isArray(t)?t:[t],unregister:(t,{notifyLayerAboutDestroy:r}={})=>({ids:Array.isArray(t)?t:[t],notifyLayerAboutDestroy:r}),_delete:t=>Array.isArray(t)?t:[t]},({onAction:t,create:r,schedule:i},s=new Map)=>(t("register",u=>{const a=new Map(s);u.forEach(({id:x,renderer:S,cleanUpActions:P,map:R})=>{const z=Dae(x,S,e,R);a.set(x,z),P&&KT.set(z,P),XT.set(z,z.subscribe(()=>null))}),s=a}),t("unregister",({ids:u,notifyLayerAboutDestroy:a})=>{u.forEach(x=>{const S=s.get(x);S?i(P=>{XT.get(S)();const z=[...KT.get(S)||[],x0.delete(x),kg.delete(x),a&&S.destroy(),r("_delete",x)].filter(N=>Boolean(N));P(z)}):console.error(`Attempt unregister not existing layer with id: ${x}`)})}),t("_delete",u=>{const a=new Map(s);u.forEach(x=>{a.delete(x)}),s=a}),s),"layersRegistry");return e},Kd=Fae(),oC="public",YT={id:oC,osmEditor:to.osmEditors[0].id,defaultFeed:to.defaultFeedObject.feed,useMetricUnits:!0},Bae={username:"",email:"",fullName:"",language:"en",useMetricUnits:!0,subscribedToKonturUpdates:!1,bio:"",osmEditor:to.osmEditors[0].id,defaultFeed:to.defaultFeedObject.feed,theme:"kontur"},D0=Ro({setUser:e=>e},({onAction:e,schedule:t,getUnlistedState:r},i=YT)=>(e("setUser",s=>{s?i=s:i=YT,i={...Bae,...i};const u=Array.from(r(My)).filter(([,S])=>{var P;return(P=S==null?void 0:S.data)==null?void 0:P.ownedByUser}).map(([S])=>S);if(!u.length)return;const a=Array.from(r(Kd)).filter(([S])=>u.includes(S)).map(([S,P])=>P);if(!a.length)return;const x=a.map(S=>S.destroy());t(S=>{S(x)})}),i),"[Shared state] currentUserAtom"),pD=Ro({setFocusedGeometry:(e,t)=>({source:e,geometry:t}),_update:e=>e,currentUserAtom:D0},({onAction:e,schedule:t,create:r,getUnlistedState:i,onChange:s},u=null)=>(e("setFocusedGeometry",({source:a,geometry:x})=>{const S=i(D0);a&&x?t(async(P,R)=>{const z=await xae(JSON.stringify({geometry:x,source:a,user:S}));(!u||!R.hash||R.hash!==z)&&(R.hash=z,P(r("_update",{source:a,geometry:x})))}):u=null}),e("_update",a=>{u=a}),s("currentUserAtom",()=>{var a;u&&((a=u.source)==null?void 0:a.type)!=="event"&&(u={...u})}),u),"[Shared state] focusedGeometryAtom"),zae=Ro({setCurrentEventId:e=>e,focusedGeometryAtom:pD},({onAction:e,onChange:t},r=null)=>(t("focusedGeometryAtom",i=>{const s=i==null?void 0:i.source;s&&s.type!=="event"&&s.type!=="episode"&&(r={id:null})}),e("setCurrentEventId",i=>r={id:i}),r),"[Shared state] currentEventAtom"),Nae=b4(!1,"scheduledAutoSelect");b4(!1,"scheduledAutoFocus");const AD=PZ(null,null,"[Shared state] currentApplicationAtom");O4(AD,async(e,t)=>e?await sy.get(`/apps/${e}`,void 0,!1,{signal:t.signal,errorsConfig:{dontShowErrors:!0}}):null,"app params atom");class Uae{constructor({features:t,feeds:r}){oi(this,"_features",{});oi(this,"_feeds",[]);this._features=t,this._feeds=r}get defaultFeed(){var t;return(t=this._feeds)==null?void 0:t.find(r=>r.default)}checkFeed(t){var i,s,u;if(!t)return(i=this.defaultFeed)==null?void 0:i.feed;const r=(s=this._feeds)==null?void 0:s.find(a=>a.feed===t);return r?r.feed:(u=this.defaultFeed)==null?void 0:u.feed}hasFeature(t){return this._features&&this._features[t]===!0}getActiveFeatures(){return Object.entries(this._features).reduce((t,[r,i])=>(i===!0&&t.add(r),t),new Set)}get feeds(){return this._feeds}}const jae=Ro({currentUserAtom:D0,currentApplicationAtom:AD},({get:e},t=null)=>{const r=e("currentApplicationAtom"),i=e("currentUserAtom");return r?{userData:i,applicationId:r}:null},"userResourceRequestParamsAtom"),V4=O4(jae,async(e,t)=>{const{userData:r,applicationId:i}=e,s=sy.get("/features",{appId:i},(r==null?void 0:r.id)!==oC,{signal:t.signal,errorsConfig:{dontShowErrors:!0}});let u;(r==null?void 0:r.id)===oC?u=(async()=>[to.defaultFeedObject])():u=sy.get("/events/user_feeds",void 0,!0);const[a,x]=await Promise.allSettled([s,u]);let S={};a.status==="fulfilled"&&Array.isArray(a.value)?a.value.forEach(z=>{S[z.name]=!0}):a.status==="rejected"&&(console.error("Feature api call failed. Applying default features..."),to.featuresByDefault.reduce((z,N)=>(z[N]=!0,z),S));let P=null;if(x.status==="fulfilled"&&Array.isArray(x.value)&&x.value.length>0?P=[...x.value]:x.status==="rejected"&&(console.error("User feeds call failed. Applying default feed..."),P=[to.defaultFeedObject]),{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_FEATURES_CONFIG)try{const z=JSON.parse({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_FEATURES_CONFIG);z&&(S={...S,...z})}catch{}return new Uae({features:S,feeds:P})},"userResourceAtom");Ro({setCurrentFeed:e=>e,setFeedForExistingEvent:e=>e,resetCurrentFeed:()=>null,userResourceAtom:V4},({onAction:e,onChange:t,schedule:r,getUnlistedState:i},s=null)=>(e("setCurrentFeed",u=>{(s==null?void 0:s.id)!==u&&(s={id:u})}),e("resetCurrentFeed",()=>{s&&(s=null)}),t("userResourceAtom",({data:u,loading:a,error:x})=>{if(!a&&!x&&u&&u.feeds&&u.feeds.length){const S=u.checkFeed(s==null?void 0:s.id);S!==void 0&&S!==(s==null?void 0:s.id)&&(s={id:S},i(zae)!==null&&r(R=>R(Nae.setTrue())))}}),s),"[Shared state] currentEventFeedAtom");Ro({setCurrentMapPosition:e=>e},({onAction:e,schedule:t},r=null)=>{const i=r;return e("setCurrentMapPosition",({lat:s,lng:u,zoom:a})=>{r===null&&(r={lat:s,lng:u,zoom:a}),(r.lat!==s||r.lng!==u||r.zoom!==a)&&(r={lat:s,lng:u,zoom:a})}),r!==i&&t(s=>s($ae.setFalse())),r},"[Shared state] currentMapPositionAtom");const $ae=b4(!1,"mapIdle"),Vae={click:[],mousemove:[]};function JT(e,t,r=50){return eP.addMapListener.dispatch(e,t,r),()=>{eP.removeMapListener.dispatch(e,t)}}const eP=Ro({addMapListener:(e,t,r)=>({eventType:e,listener:t,priority:r}),removeMapListener:(e,t)=>({eventType:e,listener:t})},({onAction:e},t=Vae)=>(e("addMapListener",({eventType:r,listener:i,priority:s})=>{const u=[...t[r]];if(!u.length)u.push({listener:i,priority:s});else for(let a=0;a<u.length;a++){const x=u[a];if(s<x.priority){u.splice(a,0,{listener:i,priority:s});break}else if(x.priority===s){u.splice(a+1,0,{listener:i,priority:s});break}else if(u[a+1]){if(s>x.priority&&s<u[a+1].priority){u.splice(a+1,0,{listener:i,priority:s});break}}else{u.push({listener:i,priority:s});break}}t={...t,[r]:u}}),e("removeMapListener",({eventType:r,listener:i})=>t[r]=t[r].filter(s=>s.listener!==i)),t),"[Shared state] mapListenersAtom");Ro({addControl:e=>e,removeControl:e=>e,toggleActiveState:e=>e,enable:e=>e,disable:e=>e,reset:()=>null,currentUserAtom:D0},({onAction:e,onChange:t,schedule:r,create:i},s={})=>(t("currentUserAtom",(u,a)=>{a!==void 0&&r(x=>{x(i("reset"))})}),e("addControl",u=>{s={...s,[u.id]:u}}),e("removeControl",u=>{delete s[u],s={...s}}),e("enable",u=>{var R;const a=s[u];(R=a.onChange)==null||R.call(a,!0);const x={...s[u],active:!0},S={...s,[u]:x},P=[];Object.entries(S).forEach(([z,N])=>{if(N.id!==u&&N.exclusiveGroup===a.exclusiveGroup&&N.active){const $=i("disable",N.id);P.push($)}}),P.length&&r(z=>{z(P)}),s=S}),e("disable",u=>{var S;const a=s[u];(S=a==null?void 0:a.onChange)==null||S.call(a,!1);const x={...s[u],active:!1};s={...s,[u]:x}}),e("toggleActiveState",u=>{if(!s[u])return console.error(`[toolbarControlsAtom] Cannot toggle state for ${u} because it doesn't exist`);const x=i(s[u].active?"disable":"enable",u);r(S=>S(x))}),e("reset",()=>{Object.entries(s).forEach(([u,a])=>{var x;a.active&&((x=a.onChange)==null||x.call(a,!1))}),s={}}),s),"[Shared state] toolbarControlsAtom");Ro({open:()=>null,close:()=>null},({onAction:e},t={isOpen:!1})=>(e("open",()=>t={...t,isOpen:!0}),e("close",()=>t={...t,isOpen:!1}),t),"episodesPanelState");const Hae=[["count","area_km2"],["building_count","area_km2"],["highway_length","area_km2"],["local_hours","area_km2"],["avgmax_ts","one"],["days_mintemp_above_25c_1c","one"],["population","area_km2"],["total_hours","area_km2"],["view_count","area_km2"]];function hD(e){const t=Array.isArray(e)?[]:{};for(const r in e){const i=e[r];i&&typeof i=="object"?t[r]=hD(i):t[r]=i}return t}var wP;const qae=(wP=window.structuredClone)!=null?wP:hD;function dD(e){const t=qae(e);return"properties"in t&&(t.properties={}),"features"in t&&t.features.length&&t.features.forEach(r=>dD(r)),t}function mD(e){return!e||!e.geometry||e.geometry.type==="FeatureCollection"&&!e.geometry.features.length}function Gae(e){const t={importantLayers:Hae};return e&&!mD(e)&&(t.geoJSON=dD(e==null?void 0:e.geometry)),t}function Qae(e){if(e.hasOwnProperty("errors")&&Array.isArray(e.errors))return e.errors.reduce((t,r)=>(r.hasOwnProperty("message")&&t.push(r.message),t),[]).join("<br/>")}let I1;const gD=O4(pD,async(e,t)=>{if(!e&&I1)return I1;let r;try{const i=Gae(e);r=await sy.post("/bivariate_matrix",i,!0,{signal:t.signal,errorsConfig:{dontShowErrors:!0}})}catch(i){if(zL(i)&&i.problem.kind==="canceled")return null;throw i}if(!r)throw new Error(Rn.t("no_data_received"));if(!(r!=null&&r.data)){const i=Qae(r);throw new Error(i||Rn.t("no_data_received"))}return mD(e)&&!I1&&(I1=r.data),r.data},"bivariateStatisticsResource");var Ct=Ct||{};Ct.Geometry=function(){};Ct.Geometry.intersectLineLine=function(e,t){var r=(e.intercept-t.intercept)/(t.slope-e.slope),i=e.slope*r+e.intercept;return{x:r,y:i}};Ct.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))};Ct.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)};Ct.Geometry.perpendicularThroughPoint=function(e,t){var r=-1/e.slope,i=t.y-r*t.x;return{slope:r,intercept:i}};Ct.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)};Ct.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t};Ct.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))};Ct.Hsluv=function(){};Ct.Hsluv.getBounds=function(e){for(var t=[],r=Math.pow(e+16,3)/1560896,i=r>Ct.Hsluv.epsilon?r:e/Ct.Hsluv.kappa,s=0;s<3;)for(var u=s++,a=Ct.Hsluv.m[u][0],x=Ct.Hsluv.m[u][1],S=Ct.Hsluv.m[u][2],P=0;P<2;){var R=P++,z=(284517*a-94839*S)*i,N=(838422*S+769860*x+731718*a)*e*i-769860*R*e,$=(632260*S-126452*x)*i+126452*R;t.push({slope:z/$,intercept:N/$})}return t};Ct.Hsluv.maxSafeChromaForL=function(e){for(var t=Ct.Hsluv.getBounds(e),r=1/0,i=0;i<t.length;){var s=t[i];++i;var u=Ct.Geometry.distanceLineFromOrigin(s);r=Math.min(r,u)}return r};Ct.Hsluv.maxChromaForLH=function(e,t){for(var r=t/360*Math.PI*2,i=Ct.Hsluv.getBounds(e),s=1/0,u=0;u<i.length;){var a=i[u];++u;var x=Ct.Geometry.lengthOfRayUntilIntersect(r,a);x>=0&&(s=Math.min(s,x))}return s};Ct.Hsluv.dotProduct=function(e,t){for(var r=0,i=0,s=e.length;i<s;){var u=i++;r+=e[u]*t[u]}return r};Ct.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055};Ct.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92};Ct.Hsluv.xyzToRgb=function(e){return[Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[0],e)),Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[1],e)),Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[2],e))]};Ct.Hsluv.rgbToXyz=function(e){var t=[Ct.Hsluv.toLinear(e[0]),Ct.Hsluv.toLinear(e[1]),Ct.Hsluv.toLinear(e[2])];return[Ct.Hsluv.dotProduct(Ct.Hsluv.minv[0],t),Ct.Hsluv.dotProduct(Ct.Hsluv.minv[1],t),Ct.Hsluv.dotProduct(Ct.Hsluv.minv[2],t)]};Ct.Hsluv.yToL=function(e){return e<=Ct.Hsluv.epsilon?e/Ct.Hsluv.refY*Ct.Hsluv.kappa:116*Math.pow(e/Ct.Hsluv.refY,.3333333333333333)-16};Ct.Hsluv.lToY=function(e){return e<=8?Ct.Hsluv.refY*e/Ct.Hsluv.kappa:Ct.Hsluv.refY*Math.pow((e+16)/116,3)};Ct.Hsluv.xyzToLuv=function(e){var t=e[0],r=e[1],i=e[2],s=t+15*r+3*i,u=4*t,a=9*r;s!=0?(u/=s,a/=s):(u=NaN,a=NaN);var x=Ct.Hsluv.yToL(r);if(x==0)return[0,0,0];var S=13*x*(u-Ct.Hsluv.refU),P=13*x*(a-Ct.Hsluv.refV);return[x,S,P]};Ct.Hsluv.luvToXyz=function(e){var t=e[0],r=e[1],i=e[2];if(t==0)return[0,0,0];var s=r/(13*t)+Ct.Hsluv.refU,u=i/(13*t)+Ct.Hsluv.refV,a=Ct.Hsluv.lToY(t),x=0-9*a*s/((s-4)*u-s*u),S=(9*a-15*u*a-u*x)/(3*u);return[x,a,S]};Ct.Hsluv.luvToLch=function(e){var t=e[0],r=e[1],i=e[2],s=Math.sqrt(r*r+i*i),u;if(s<1e-8)u=0;else{var a=Math.atan2(i,r);u=a*180/Math.PI,u<0&&(u=360+u)}return[t,s,u]};Ct.Hsluv.lchToLuv=function(e){var t=e[0],r=e[1],i=e[2],s=i/360*2*Math.PI,u=Math.cos(s)*r,a=Math.sin(s)*r;return[t,u,a]};Ct.Hsluv.hsluvToLch=function(e){var t=e[0],r=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=Ct.Hsluv.maxChromaForLH(i,t),u=s/100*r;return[i,u,t]};Ct.Hsluv.lchToHsluv=function(e){var t=e[0],r=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=Ct.Hsluv.maxChromaForLH(t,i),u=r/s*100;return[i,u,t]};Ct.Hsluv.hpluvToLch=function(e){var t=e[0],r=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=Ct.Hsluv.maxSafeChromaForL(i),u=s/100*r;return[i,u,t]};Ct.Hsluv.lchToHpluv=function(e){var t=e[0],r=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=Ct.Hsluv.maxSafeChromaForL(t),u=r/s*100;return[i,u,t]};Ct.Hsluv.rgbToHex=function(e){for(var t="#",r=0;r<3;){var i=r++,s=e[i],u=Math.round(s*255),a=u%16,x=(u-a)/16|0;t+=Ct.Hsluv.hexChars.charAt(x)+Ct.Hsluv.hexChars.charAt(a)}return t};Ct.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],r=0;r<3;){var i=r++,s=Ct.Hsluv.hexChars.indexOf(e.charAt(i*2+1)),u=Ct.Hsluv.hexChars.indexOf(e.charAt(i*2+2)),a=s*16+u;t.push(a/255)}return t};Ct.Hsluv.lchToRgb=function(e){return Ct.Hsluv.xyzToRgb(Ct.Hsluv.luvToXyz(Ct.Hsluv.lchToLuv(e)))};Ct.Hsluv.rgbToLch=function(e){return Ct.Hsluv.luvToLch(Ct.Hsluv.xyzToLuv(Ct.Hsluv.rgbToXyz(e)))};Ct.Hsluv.hsluvToRgb=function(e){return Ct.Hsluv.lchToRgb(Ct.Hsluv.hsluvToLch(e))};Ct.Hsluv.rgbToHsluv=function(e){return Ct.Hsluv.lchToHsluv(Ct.Hsluv.rgbToLch(e))};Ct.Hsluv.hpluvToRgb=function(e){return Ct.Hsluv.lchToRgb(Ct.Hsluv.hpluvToLch(e))};Ct.Hsluv.rgbToHpluv=function(e){return Ct.Hsluv.lchToHpluv(Ct.Hsluv.rgbToLch(e))};Ct.Hsluv.hsluvToHex=function(e){return Ct.Hsluv.rgbToHex(Ct.Hsluv.hsluvToRgb(e))};Ct.Hsluv.hpluvToHex=function(e){return Ct.Hsluv.rgbToHex(Ct.Hsluv.hpluvToRgb(e))};Ct.Hsluv.hexToHsluv=function(e){return Ct.Hsluv.rgbToHsluv(Ct.Hsluv.hexToRgb(e))};Ct.Hsluv.hexToHpluv=function(e){return Ct.Hsluv.rgbToHpluv(Ct.Hsluv.hexToRgb(e))};Ct.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];Ct.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];Ct.Hsluv.refY=1;Ct.Hsluv.refU=.19783000664283;Ct.Hsluv.refV=.46831999493879;Ct.Hsluv.kappa=903.2962962;Ct.Hsluv.epsilon=.0088564516;Ct.Hsluv.hexChars="0123456789abcdef";var Wae={hsluvToRgb:Ct.Hsluv.hsluvToRgb,rgbToHsluv:Ct.Hsluv.rgbToHsluv,hpluvToRgb:Ct.Hsluv.hpluvToRgb,rgbToHpluv:Ct.Hsluv.rgbToHpluv,hsluvToHex:Ct.Hsluv.hsluvToHex,hexToHsluv:Ct.Hsluv.hexToHsluv,hpluvToHex:Ct.Hsluv.hpluvToHex,hexToHpluv:Ct.Hsluv.hexToHpluv,lchToHpluv:Ct.Hsluv.lchToHpluv,hpluvToLch:Ct.Hsluv.hpluvToLch,lchToHsluv:Ct.Hsluv.lchToHsluv,hsluvToLch:Ct.Hsluv.hsluvToLch,lchToLuv:Ct.Hsluv.lchToLuv,luvToLch:Ct.Hsluv.luvToLch,xyzToLuv:Ct.Hsluv.xyzToLuv,luvToXyz:Ct.Hsluv.luvToXyz,xyzToRgb:Ct.Hsluv.xyzToRgb,rgbToXyz:Ct.Hsluv.rgbToXyz,lchToRgb:Ct.Hsluv.lchToRgb,rgbToLch:Ct.Hsluv.rgbToLch},lp=Wae;function yD(e){var i;const t=/https?:/;t.test(e)?e=window.location.protocol+e.replace(t,""):e=`${(i=to.bivariateTilesServer)!=null?i:`${window.location.protocol}${window.location.host}${to.baseUrl}`}${e}`,e=e.replace("{bbox}","{bbox-epsg-3857}").replace("{proj}","EPSG:3857").replace("{width}","256").replace("{height}","256").replace("{zoom}","{z}").replace("{-y}","{y}");const r=(e.match(/{switch:(.*?)}/)||["",""])[1].split(",")[0];return e=e.replace(/{switch:(.*?)}/,r),e}function Zae(e,t){return e+(((t-e)%360+540)%360-180)*.5}function tP(e,t){return(e+t)/2}function ng(e,t){return[Zae(e[0],t[0]),tP(e[1],t[1]),tP(e[2],t[2])]}function cp(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const r=parseInt(`0x${t.join("")}`,0);return`rgba(${[r>>16&255,r>>8&255,r&255].join(",")},0.5)`}throw new Error("Bad Hex")}function O1(e,t){const r=(Array.isArray(t[0])?[...t[0]]:[t[0]]).sort(),i=(Array.isArray(t[1])?[...t[1]]:[t[1]]).sort(),s=Array.from(new Set(r.concat(i))),u=e.combinations.find(({corner:a})=>{if(s.length!==a.length)return!1;for(let x=0;x<s.length;x+=1)if(s[x]!==a[x])return!1;return!0});return u!=null&&u.color?{color:u.color}:{color:e.fallback,isFallbackColor:!0}}function Kae(e,t,r,i,s){var Z,J;const{indicators:u,colors:a,axis:x}=s,S=x.find(ae=>ae.quotient[0]===e&&ae.quotient[1]===t),P=x.find(ae=>ae.quotient[0]===r&&ae.quotient[1]===i);if(!S||!P)return;const R=(Z=u.find(ae=>ae.name===e))==null?void 0:Z.direction,z=(J=u.find(ae=>ae.name===r))==null?void 0:J.direction;if(!R||!z)return;const N=Yae(a,R,z),$=Xae(S,P,N,s==null?void 0:s.meta);return[N,$]}const Xae=(e,t,r,i)=>DL({id:`${e.quotient.join("&")}|${t.quotient.join("&")}`,x:e,y:t,colors:r,sourceLayer:"stats",source:{type:"vector",tiles:[`${yD(to.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${to.bivariateTilesIndicatorsClass}`],maxzoom:i.max_zoom,minzoom:0}}),Yae=(e,t,r)=>{const i=O1(e,[t[0],r[0]]),s=O1(e,[t[1],r[0]]),u=O1(e,[t[0],r[1]]),a=O1(e,[t[1],r[1]]),x=lp.hexToHsluv(i.color),S=lp.hexToHsluv(s.color),P=lp.hexToHsluv(u.color),R=lp.hexToHsluv(a.color),z=ng(x,P),N=ng(x,S),$=ng(P,R),Z=ng(S,R),J=ng(N,$);return[{id:"A1",color:cp(i.color),isFallbackColor:i.isFallbackColor},{id:"A2",color:cp(lp.hsluvToHex(z))},{id:"A3",color:cp(u.color),isFallbackColor:u.isFallbackColor},{id:"B1",color:cp(lp.hsluvToHex(N))},{id:"B2",color:cp(lp.hsluvToHex(J))},{id:"B3",color:cp(lp.hsluvToHex($))},{id:"C1",color:cp(s.color),isFallbackColor:s.isFallbackColor},{id:"C2",color:cp(lp.hsluvToHex(Z))},{id:"C3",color:cp(a.color),isFallbackColor:a.isFallbackColor}]};function Jae(e){return DL({id:`${e.axis.x.quotient.join("&")}|${e.axis.y.quotient.join("&")}`,x:e.axis.x,y:e.axis.y,colors:[...e.steps].sort((t,r)=>t.label>r.label?1:-1).map(t=>({id:t.label,color:t.color})),sourceLayer:"stats"})}function ese(e,t,r,i,s,u,a){const x=a.axis.find(P=>P.quotient[0]===r&&P.quotient[1]===i),S=a.axis.find(P=>P.quotient[0]===s&&P.quotient[1]===u);if(!(!x||!S))return tse(e,x,S,t)}const tse=(e,t,r,i)=>({name:e,axis:{x:t,y:r},type:"bivariate",steps:i.map(({id:s,color:u,isFallbackColor:a})=>({label:s,color:u,isFallbackColor:a}))});function rse(e,t,r,i,s){var $,Z,J,ae;const u=s.indicators.find(V=>V.name===e),a=s.indicators.find(V=>V.name===r),x=u==null?void 0:u.label,S=a==null?void 0:a.label,P=($=s.indicators.find(V=>V.name===t))==null?void 0:$.label,R=(Z=s.indicators.find(V=>V.name===i))==null?void 0:Z.label;let z=[];return(J=u==null?void 0:u.copyrights)!=null&&J.length&&(z=z.concat(u.copyrights)),(ae=a==null?void 0:a.copyrights)!=null&&ae.length&&(z=z.concat(a.copyrights)),{description:`This map shows relation of ${x} (normalized by ${P}) to the base of ${S} (normalized by ${R}).`,copyrights:z,hints:{x:{label:x,direction:u==null?void 0:u.direction},y:{label:S,direction:a==null?void 0:a.direction}}}}const nse=e=>{const{correlationRates:t}=e,r=[],i=[];for(const s of t){const u=s.x.quotient,a=s.x.parent||u;let x=r.find(z=>z.parent===JSON.stringify(a));x?x.quotients.find(z=>JSON.stringify(z)===JSON.stringify(u))||x.quotients.push(u):(x={parent:JSON.stringify(a),quotients:[u],selectedQuotient:u},r.push(x));const S=s.y.quotient,P=s.y.parent||S;let R=i.find(z=>z.parent===JSON.stringify(P));R?R.quotients.find(z=>JSON.stringify(z)===JSON.stringify(S))||R.quotients.push(S):(R={parent:JSON.stringify(P),quotients:[S],selectedQuotient:S},i.push(R))}for(const s of r){const u=s.quotients.find(a=>JSON.stringify(a)===s.parent);u&&(s.selectedQuotient=u)}for(const s of i){const u=s.quotients.find(a=>JSON.stringify(a)===s.parent);u&&(s.selectedQuotient=u)}return{x:r,y:i}},M1=Ro({setNumerators:(e,t)=>({xGroups:e,yGroups:t}),bivariateStatisticsResourceAtom:gD},({get:e,onAction:t,onChange:r},i={xGroups:[],yGroups:[]})=>(r("bivariateStatisticsResourceAtom",({data:s,loading:u})=>{if(s&&!u){const a=s.polygonStatistic.bivariateStatistic,x=nse(a);i={xGroups:x.x,yGroups:x.y}}}),t("setNumerators",s=>{i=s}),i),"bivariateNumerators"),ise=()=>({legend:[],source:[],meta:[],settings:[],menu:[]}),R1=([e,t])=>[e,{data:t,isLoading:!1,error:null}];function rP(e){const t=e.reduce((s,{id:u,...a})=>(Object.keys(a).forEach(x=>{s[x].push([u,a[x]])}),s),ise()),r=[],i=[];if(t.legend.length){const s=t.legend.map(R1);r.push($4.change(u=>new Map([...u,...s])))}if(t.source.length){const s=t.source.map(R1);r.push(cD.change(u=>new Map([...u,...s])))}if(t.meta.length){const s=t.meta.map(R1);r.push(lD.change(u=>new Map([...u,...s])))}if(t.settings.length){const s=t.settings.map(R1);r.push(My.change(u=>new Map([...u,...s])))}if(t.menu.length){const s=t.menu;r.push(fD.change(u=>new Map([...u,...s])))}return[r,i]}var ose=kf,ase=function(){return ose.Date.now()},sse=ase,use=/\s/;function lse(e){for(var t=e.length;t--&&use.test(e.charAt(t)););return t}var cse=lse,fse=cse,pse=/^\s+/;function Ase(e){return e&&e.slice(0,fse(e)+1).replace(pse,"")}var hse=Ase,dse=hse,nP=ky,mse=fZ,iP=0/0,gse=/^[-+]0x[0-9a-f]+$/i,yse=/^0b[01]+$/i,vse=/^0o[0-7]+$/i,_se=parseInt;function xse(e){if(typeof e=="number")return e;if(mse(e))return iP;if(nP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dse(e);var r=yse.test(e);return r||vse.test(e)?_se(e.slice(2),r?2:8):gse.test(e)?iP:+e}var bse=xse,wse=ky,t3=sse,oP=bse,Sse="Expected a function",Cse=Math.max,Ese=Math.min;function kse(e,t,r){var i,s,u,a,x,S,P=0,R=!1,z=!1,N=!0;if(typeof e!="function")throw new TypeError(Sse);t=oP(t)||0,wse(r)&&(R=!!r.leading,z="maxWait"in r,u=z?Cse(oP(r.maxWait)||0,t):u,N="trailing"in r?!!r.trailing:N);function $(le){var Se=i,Ce=s;return i=s=void 0,P=le,a=e.apply(Ce,Se),a}function Z(le){return P=le,x=setTimeout(V,t),R?$(le):a}function J(le){var Se=le-S,Ce=le-P,He=t-Se;return z?Ese(He,u-Ce):He}function ae(le){var Se=le-S,Ce=le-P;return S===void 0||Se>=t||Se<0||z&&Ce>=u}function V(){var le=t3();if(ae(le))return K(le);x=setTimeout(V,J(le))}function K(le){return x=void 0,N&&i?$(le):(i=s=void 0,a)}function ue(){x!==void 0&&clearTimeout(x),P=0,i=S=s=x=void 0}function ge(){return x===void 0?a:K(t3())}function he(){var le=t3(),Se=ae(le);if(i=arguments,s=this,S=le,Se){if(x===void 0)return Z(S);if(z)return clearTimeout(x),x=setTimeout(V,t),$(S)}return x===void 0&&(x=setTimeout(V,t)),a}return he.cancel=ue,he.flush=ge,he}var Tse=kse,Pse=Tse,Ise=ky,Ose="Expected a function";function Mse(e,t,r){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(Ose);return Ise(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),Pse(e,t,{leading:i,maxWait:t,trailing:s})}var Rse=Mse;function Lse(e){return e==null}var aP=Lse,zl=function(e){e=e||{};var t=typeof e<"u"?e:{},r={},i;for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);var s="";function u(ne){return t.locateFile?t.locateFile(ne,s):s+ne}var a;document.currentScript&&(s=document.currentScript.src),s.indexOf("blob:")!==0?s=s.substr(0,s.lastIndexOf("/")+1):s="",a=function(je,ot,Ge){var h=new XMLHttpRequest;h.open("GET",je,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status==200||h.status==0&&h.response){ot(h.response);return}var Rt=Jn(je);if(Rt){ot(Rt.buffer);return}Ge()},h.onerror=Ge,h.send(null)};var x=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);r=null,t.arguments&&t.arguments;var P=0,R=function(ne){P=ne},z=function(){return P},N=8;function $(ne,je,ot,Ge){switch(ot=ot||"i8",ot.charAt(ot.length-1)==="*"&&(ot="i32"),ot){case"i1":st[ne>>0]=je;break;case"i8":st[ne>>0]=je;break;case"i16":St[ne>>1]=je;break;case"i32":Qt[ne>>2]=je;break;case"i64":Do=[je>>>0,(bi=je,+jr(bi)>=1?bi>0?(Qo(+gi(bi/4294967296),4294967295)|0)>>>0:~~+mi((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Qt[ne>>2]=Do[0],Qt[ne+4>>2]=Do[1];break;case"float":fr[ne>>2]=je;break;case"double":wr[ne>>3]=je;break;default:xe("invalid type for setValue: "+ot)}}function Z(ne,je,ot){switch(je=je||"i8",je.charAt(je.length-1)==="*"&&(je="i32"),je){case"i1":return st[ne>>0];case"i8":return st[ne>>0];case"i16":return St[ne>>1];case"i32":return Qt[ne>>2];case"i64":return Qt[ne>>2];case"float":return fr[ne>>2];case"double":return wr[ne>>3];default:xe("invalid type for getValue: "+je)}return null}var J=!1;function ae(ne,je){ne||xe("Assertion failed: "+je)}function V(ne){var je=t["_"+ne];return ae(je,"Cannot call unknown function "+ne+", make sure it is exported"),je}function K(ne,je,ot,Ge,h){var ye={string:function(qt){var An=0;if(qt!=null&&qt!==0){var Xr=(qt.length<<2)+1;An=zn(Xr),Ce(qt,An,Xr)}return An},array:function(qt){var An=zn(qt.length);return He(qt,An),An}};function Rt(qt){return je==="string"?le(qt):je==="boolean"?Boolean(qt):qt}var jt=V(ne),lt=[],Mt=0;if(Ge)for(var xt=0;xt<Ge.length;xt++){var pr=ye[ot[xt]];pr?(Mt===0&&(Mt=ie()),lt[xt]=pr(Ge[xt])):lt[xt]=Ge[xt]}var ur=jt.apply(null,lt);return ur=Rt(ur),Mt!==0&&Y(Mt),ur}function ue(ne,je,ot,Ge){ot=ot||[];var h=ot.every(function(Rt){return Rt==="number"}),ye=je!=="string";return ye&&h&&!Ge?V(ne):function(){return K(ne,je,ot,arguments)}}var ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function he(ne,je,ot){for(var Ge=je+ot,h=je;ne[h]&&!(h>=Ge);)++h;if(h-je>16&&ne.subarray&&ge)return ge.decode(ne.subarray(je,h));for(var ye="";je<h;){var Rt=ne[je++];if(!(Rt&128)){ye+=String.fromCharCode(Rt);continue}var jt=ne[je++]&63;if((Rt&224)==192){ye+=String.fromCharCode((Rt&31)<<6|jt);continue}var lt=ne[je++]&63;if((Rt&240)==224?Rt=(Rt&15)<<12|jt<<6|lt:Rt=(Rt&7)<<18|jt<<12|lt<<6|ne[je++]&63,Rt<65536)ye+=String.fromCharCode(Rt);else{var Mt=Rt-65536;ye+=String.fromCharCode(55296|Mt>>10,56320|Mt&1023)}}return ye}function le(ne,je){return ne?he(bt,ne,je):""}function Se(ne,je,ot,Ge){if(!(Ge>0))return 0;for(var h=ot,ye=ot+Ge-1,Rt=0;Rt<ne.length;++Rt){var jt=ne.charCodeAt(Rt);if(jt>=55296&&jt<=57343){var lt=ne.charCodeAt(++Rt);jt=65536+((jt&1023)<<10)|lt&1023}if(jt<=127){if(ot>=ye)break;je[ot++]=jt}else if(jt<=2047){if(ot+1>=ye)break;je[ot++]=192|jt>>6,je[ot++]=128|jt&63}else if(jt<=65535){if(ot+2>=ye)break;je[ot++]=224|jt>>12,je[ot++]=128|jt>>6&63,je[ot++]=128|jt&63}else{if(ot+3>=ye)break;je[ot++]=240|jt>>18,je[ot++]=128|jt>>12&63,je[ot++]=128|jt>>6&63,je[ot++]=128|jt&63}}return je[ot]=0,ot-h}function Ce(ne,je,ot){return Se(ne,bt,je,ot)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function He(ne,je){st.set(ne,je)}function ut(ne,je){return ne%je>0&&(ne+=je-ne%je),ne}var tt,st,bt,St,Qt,fr,wr;function Et(ne){tt=ne,t.HEAP8=st=new Int8Array(ne),t.HEAP16=St=new Int16Array(ne),t.HEAP32=Qt=new Int32Array(ne),t.HEAPU8=bt=new Uint8Array(ne),t.HEAPU16=new Uint16Array(ne),t.HEAPU32=new Uint32Array(ne),t.HEAPF32=fr=new Float32Array(ne),t.HEAPF64=wr=new Float64Array(ne)}var Ze=5266928,Oe=24016,ee=t.TOTAL_MEMORY||33554432;t.buffer?tt=t.buffer:tt=new ArrayBuffer(ee),ee=tt.byteLength,Et(tt),Qt[Oe>>2]=Ze;function pe(ne){for(;ne.length>0;){var je=ne.shift();if(typeof je=="function"){je();continue}var ot=je.func;typeof ot=="number"?je.arg===void 0?t.dynCall_v(ot):t.dynCall_vi(ot,je.arg):ot(je.arg===void 0?null:je.arg)}}var yt=[],tr=[],yr=[],hr=[];function Sr(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)jn(t.preRun.shift());pe(yt)}function Ur(){pe(tr)}function Dr(){pe(yr)}function Xn(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Fi(t.postRun.shift());pe(hr)}function jn(ne){yt.unshift(ne)}function Fi(ne){hr.unshift(ne)}var jr=Math.abs,mi=Math.ceil,gi=Math.floor,Qo=Math.min,Bi=0,Wi=null;function ws(ne){Bi++,t.monitorRunDependencies&&t.monitorRunDependencies(Bi)}function io(ne){if(Bi--,t.monitorRunDependencies&&t.monitorRunDependencies(Bi),Bi==0&&Wi){var je=Wi;Wi=null,je()}}t.preloadedImages={},t.preloadedAudios={};var Qn=null,Lo="data:application/octet-stream;base64,";function oo(ne){return String.prototype.startsWith?ne.startsWith(Lo):ne.indexOf(Lo)===0}var bi,Do;Qn="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var sa=24032;function gt(ne){return ne}function be(ne){var je=/\b__Z[\w\d_]+/g;return ne.replace(je,function(ot){var Ge=ot;return ot===Ge?ot:Ge+" ["+ot+"]"})}function Ye(){var ne=new Error;if(!ne.stack){try{throw new Error(0)}catch(je){ne=je}if(!ne.stack)return"(no stack trace available)"}return ne.stack.toString()}function kt(){var ne=Ye();return t.extraStackTrace&&(ne+=`
`+t.extraStackTrace()),be(ne)}function or(ne,je,ot,Ge){xe("Assertion failed: "+le(ne)+", at: "+[je?le(je):"unknown filename",ot,Ge?le(Ge):"unknown function"])}function Hr(){return st.length}function In(ne,je,ot){bt.set(bt.subarray(je,je+ot),ne)}function Or(ne){return t.___errno_location&&(Qt[t.___errno_location()>>2]=ne),ne}function en(ne){xe("OOM")}function $n(ne){try{var je=new ArrayBuffer(ne);return je.byteLength!=ne?void 0:(new Int8Array(je).set(st),Ei(je),Et(je),1)}catch{}}function Yn(ne){var je=Hr(),ot=16777216,Ge=2147483648-ot;if(ne>Ge)return!1;for(var h=16777216,ye=Math.max(je,h);ye<ne;)ye<=536870912?ye=ut(2*ye,ot):ye=Math.min(ut((3*ye+2147483648)/4,ot),Ge);var Rt=$n(ye);return!!Rt}var hn=typeof atob=="function"?atob:function(ne){var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ot="",Ge,h,ye,Rt,jt,lt,Mt,xt=0;ne=ne.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Rt=je.indexOf(ne.charAt(xt++)),jt=je.indexOf(ne.charAt(xt++)),lt=je.indexOf(ne.charAt(xt++)),Mt=je.indexOf(ne.charAt(xt++)),Ge=Rt<<2|jt>>4,h=(jt&15)<<4|lt>>2,ye=(lt&3)<<6|Mt,ot=ot+String.fromCharCode(Ge),lt!==64&&(ot=ot+String.fromCharCode(h)),Mt!==64&&(ot=ot+String.fromCharCode(ye));while(xt<ne.length);return ot};function Eo(ne){try{for(var je=hn(ne),ot=new Uint8Array(je.length),Ge=0;Ge<je.length;++Ge)ot[Ge]=je.charCodeAt(Ge);return ot}catch{throw new Error("Converting base64 string to bytes failed.")}}function Jn(ne){if(!!oo(ne))return Eo(ne.slice(Lo.length))}var ua={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Ra={a:xe,b:R,c:z,d:or,e:Or,f:Hr,g:In,h:Yn,i:en,j:gt,k:be,l:$n,m:Ye,n:kt,o:sa,p:Oe},$t=function(ne,je,ot){var Ge=new ne.Int8Array(ot),h=new ne.Int32Array(ot);new ne.Uint8Array(ot),new ne.Float32Array(ot);var ye=new ne.Float64Array(ot),Rt=je.p|0,jt=ne.Math.floor,lt=ne.Math.abs,Mt=ne.Math.sqrt,xt=ne.Math.pow,pr=ne.Math.cos,ur=ne.Math.sin,qt=ne.Math.tan,An=ne.Math.acos,Xr=ne.Math.asin,Ln=ne.Math.atan,dn=ne.Math.atan2,an=ne.Math.ceil,gn=ne.Math.imul,hi=ne.Math.min,xn=ne.Math.clz32,Kt=je.b,qe=je.c,xr=je.d,uu=je.e,Fc=je.f,ao=je.g,Wo=je.h,Bc=je.i,Re=24048;function so(A){return Ge=new Int8Array(A),h=new Int32Array(A),ye=new Float64Array(A),ot=A,!0}function is(A){A=A|0;var m=0;return m=Re,Re=Re+A|0,Re=Re+15&-16,m|0}function la(){return Re|0}function si(A){A=A|0,Re=A}function ca(A,m){A=A|0,Re=A}function ko(A){return A=A|0,(gn(A*3|0,A+1|0)|0)+1|0}function Zo(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;!(Pf(A,m,v,_,0)|0)||(O=(gn(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k=zo(O,4)|0,k&&(zi(A,m,v,_,k,O,0),Fr(k)))}function os(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0;if(!!(Pf(A,m,v,_,k)|0)){if(O=(gn(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k|0){$i(k|0,0,O<<2|0)|0,zi(A,m,v,_,k,O,0);return}k=zo(O,4)|0,k&&(zi(A,m,v,_,k,O,0),Fr(k))}}function Pf(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0;if(it=Re,Re=Re+16|0,We=it,O=_,h[O>>2]=A,h[O+4>>2]=m,O=(k|0)!=0,O&&(h[k>>2]=0),Ui(A,m)|0)return We=1,Re=it,We|0;h[We>>2]=0;e:do if((v|0)>=1)if(O)for(re=0,ce=1,De=1,I=0,O=A;;){if(!(I|re)){if(O=ki(O,m,4,We)|0,m=qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,h[16+(re<<2)>>2]|0,We)|0,m=qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(A=_+(De<<3)|0,h[A>>2]=O,h[A+4>>2]=m,h[k+(De<<2)>>2]=ce,I=I+1|0,A=(I|0)==(ce|0),B=re+1|0,G=(B|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(G&A&1)|0,(ce|0)>(v|0)){O=0;break}else re=A?G?0:B:re,De=De+1|0,I=A?0:I}else for(re=0,ce=1,De=1,I=0,O=A;;){if(!(I|re)){if(O=ki(O,m,4,We)|0,m=qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,h[16+(re<<2)>>2]|0,We)|0,m=qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(A=_+(De<<3)|0,h[A>>2]=O,h[A+4>>2]=m,I=I+1|0,A=(I|0)==(ce|0),B=re+1|0,G=(B|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(G&A&1)|0,(ce|0)>(v|0)){O=0;break}else re=A?G?0:B:re,De=De+1|0,I=A?0:I}else O=0;while(0);return We=O,Re=it,We|0}function zi(A,m,v,_,k,O,I){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0,I=I|0;var B=0,G=0,re=0,ce=0,De=0,We=0,it=0;if(De=Re,Re=Re+16|0,ce=De,(A|0)==0&(m|0)==0){Re=De;return}if(B=Gt(A|0,m|0,O|0,((O|0)<0)<<31>>31|0)|0,qe()|0,G=_+(B<<3)|0,We=G,it=h[We>>2]|0,We=h[We+4>>2]|0,re=(it|0)==(A|0)&(We|0)==(m|0),!((it|0)==0&(We|0)==0|re))do B=(B+1|0)%(O|0)|0,G=_+(B<<3)|0,it=G,We=h[it>>2]|0,it=h[it+4>>2]|0,re=(We|0)==(A|0)&(it|0)==(m|0);while(!((We|0)==0&(it|0)==0|re));if(B=k+(B<<2)|0,re&&(h[B>>2]|0)<=(I|0)){Re=De;return}if(it=G,h[it>>2]=A,h[it+4>>2]=m,h[B>>2]=I,(I|0)>=(v|0)){Re=De;return}it=I+1|0,h[ce>>2]=0,We=ki(A,m,2,ce)|0,zi(We,qe()|0,v,_,k,O,it),h[ce>>2]=0,We=ki(A,m,3,ce)|0,zi(We,qe()|0,v,_,k,O,it),h[ce>>2]=0,We=ki(A,m,1,ce)|0,zi(We,qe()|0,v,_,k,O,it),h[ce>>2]=0,We=ki(A,m,5,ce)|0,zi(We,qe()|0,v,_,k,O,it),h[ce>>2]=0,We=ki(A,m,4,ce)|0,zi(We,qe()|0,v,_,k,O,it),h[ce>>2]=0,We=ki(A,m,6,ce)|0,zi(We,qe()|0,v,_,k,O,it),Re=De}function ki(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0;if((h[_>>2]|0)>0){k=0;do v=$s(v)|0,k=k+1|0;while((k|0)<(h[_>>2]|0))}B=ht(A|0,m|0,45)|0,qe()|0,G=B&127,O=Si(A,m)|0,k=ht(A|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!k)I=6;else for(;;){if(De=(15-k|0)*3|0,We=ht(A|0,m|0,De|0)|0,qe()|0,We=We&7,it=(Yo(k)|0)==0,k=k+-1|0,ce=Xt(7,0,De|0)|0,m=m&~(qe()|0),De=Xt(h[(it?464:48)+(We*28|0)+(v<<2)>>2]|0,0,De|0)|0,re=qe()|0,v=h[(it?672:256)+(We*28|0)+(v<<2)>>2]|0,A=De|A&~ce,m=re|m,!v){v=0;break e}if(!k){I=6;break}}while(0);(I|0)==6&&(it=h[880+(G*28|0)+(v<<2)>>2]|0,We=Xt(it|0,0,45)|0,A=We|A,m=qe()|0|m&-1040385,v=h[4304+(G*28|0)+(v<<2)>>2]|0,(it&127|0)==127&&(it=Xt(h[880+(G*28|0)+20>>2]|0,0,45)|0,m=qe()|0|m&-1040385,v=h[4304+(G*28|0)+20>>2]|0,A=Es(it|A,m)|0,m=qe()|0,h[_>>2]=(h[_>>2]|0)+1)),I=ht(A|0,m|0,45)|0,qe()|0,I=I&127;e:do if(ci(I)|0){t:do if((Si(A,m)|0)==1){if((G|0)!=(I|0))if(Xl(I,h[7728+(G*28|0)>>2]|0)|0){A=ja(A,m)|0,O=1,m=qe()|0;break}else{A=Es(A,m)|0,O=1,m=qe()|0;break}switch(O|0){case 5:{A=ja(A,m)|0,m=qe()|0,h[_>>2]=(h[_>>2]|0)+5,O=0;break t}case 3:{A=Es(A,m)|0,m=qe()|0,h[_>>2]=(h[_>>2]|0)+1,O=0;break t}default:return We=0,it=0,Kt(We|0),it|0}}else O=0;while(0);if((v|0)>0){k=0;do A=ml(A,m)|0,m=qe()|0,k=k+1|0;while((k|0)!=(v|0))}if((G|0)!=(I|0)){if(!(zc(I)|0)){if((O|0)!=0|(Si(A,m)|0)!=5)break;h[_>>2]=(h[_>>2]|0)+1;break}switch(B&127){case 8:case 118:break e}(Si(A,m)|0)!=3&&(h[_>>2]=(h[_>>2]|0)+1)}}else if((v|0)>0){k=0;do A=Es(A,m)|0,m=qe()|0,k=k+1|0;while((k|0)!=(v|0))}while(0);return h[_>>2]=((h[_>>2]|0)+v|0)%6|0,We=m,it=A,Kt(We|0),it|0}function as(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0;if(De=Re,Re=Re+16|0,ce=De,!v)return ce=_,h[ce>>2]=A,h[ce+4>>2]=m,ce=0,Re=De,ce|0;h[ce>>2]=0;e:do if(Ui(A,m)|0)A=1;else{if(O=(v|0)>0,O){k=0,re=A;do{if(re=ki(re,m,4,ce)|0,m=qe()|0,(re|0)==0&(m|0)==0){A=2;break e}if(k=k+1|0,Ui(re,m)|0){A=1;break e}}while((k|0)<(v|0));if(G=_,h[G>>2]=re,h[G+4>>2]=m,G=v+-1|0,O){O=0,I=1,k=re,A=m;do{if(k=ki(k,A,2,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(I<<3)|0,h[B>>2]=k,h[B+4>>2]=A,I=I+1|0,Ui(k,A)|0){A=1;break e}O=O+1|0}while((O|0)<(v|0));B=0,O=I;do{if(k=ki(k,A,3,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if(I=_+(O<<3)|0,h[I>>2]=k,h[I+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}B=B+1|0}while((B|0)<(v|0));I=0;do{if(k=ki(k,A,1,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,A,5,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,A,4,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));for(I=0;;){if(k=ki(k,A,6,ce)|0,A=qe()|0,(k|0)==0&(A|0)==0){A=2;break e}if((I|0)!=(G|0))if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,!(Ui(k,A)|0))O=O+1|0;else{A=1;break e}if(I=I+1|0,(I|0)>=(v|0)){I=re,O=m;break}}}else I=re,k=re,O=m,A=m}else I=_,h[I>>2]=A,h[I+4>>2]=m,I=A,k=A,O=m,A=m;A=((I|0)!=(k|0)|(O|0)!=(A|0))&1}while(0);return ce=A,Re=De,ce|0}function wi(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;if(O=Re,Re=Re+48|0,k=O+8|0,_=O,B=A,I=h[B+4>>2]|0,v=_,h[v>>2]=h[B>>2],h[v+4>>2]=I,Ki(_,k),k=Ss(k,m)|0,m=h[_>>2]|0,_=h[A+8>>2]|0,(_|0)<=0)return B=m,I=(k|0)<(B|0),B=I?B:k,B=B+12|0,Re=O,B|0;v=h[A+12>>2]|0,A=0;do m=(h[v+(A<<3)>>2]|0)+m|0,A=A+1|0;while((A|0)<(_|0));return B=(k|0)<(m|0),B=B?m:k,B=B+12|0,Re=O,B|0}function Ni(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;if(B=Re,Re=Re+48|0,_=B+8|0,k=B,!(Fu(A,m,v)|0)){Re=B;return}if(G=A,O=h[G+4>>2]|0,I=k,h[I>>2]=h[G>>2],h[I+4>>2]=O,Ki(k,_),I=Ss(_,m)|0,m=h[k>>2]|0,O=h[A+8>>2]|0,(O|0)>0){k=h[A+12>>2]|0,_=0;do m=(h[k+(_<<3)>>2]|0)+m|0,_=_+1|0;while((_|0)!=(O|0))}if(m=(I|0)<(m|0)?m:I,(m|0)<=-12){Re=B;return}G=m+11|0,$i(v|0,0,(((G|0)>0?G:0)<<3)+8|0)|0,Re=B}function Fu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(q=Re,Re=Re+112|0,E=q+80|0,G=q+72|0,M=q,D=q+56|0,re=A+8|0,U=Pi((h[re>>2]<<5)+32|0)|0,U||xr(22848,22448,800,22456),ba(A,U),O=A,_=h[O+4>>2]|0,B=G,h[B>>2]=h[O>>2],h[B+4>>2]=_,Ki(G,E),B=Ss(E,m)|0,_=h[G>>2]|0,O=h[re>>2]|0,(O|0)>0){I=h[A+12>>2]|0,k=0;do _=(h[I+(k<<3)>>2]|0)+_|0,k=k+1|0;while((k|0)!=(O|0))}if(B=(B|0)<(_|0)?_:B,y=B+12|0,k=zo(y,8)|0,ce=zo(y,8)|0,h[E>>2]=0,p=A,f=h[p+4>>2]|0,_=G,h[_>>2]=h[p>>2],h[_+4>>2]=f,_=Zl(G,y,m,E,k,ce)|0,_|0)return Fr(k),Fr(ce),Fr(U),U=_,Re=q,U|0;e:do if((h[re>>2]|0)>0){for(O=A+12|0,_=0;I=Zl((h[O>>2]|0)+(_<<3)|0,y,m,E,k,ce)|0,_=_+1|0,!(I|0);)if((_|0)>=(h[re>>2]|0))break e;return Fr(k),Fr(ce),Fr(U),U=I,Re=q,U|0}while(0);(B|0)>-12&&$i(ce|0,0,((y|0)>1?y:1)<<3|0)|0;e:do if((h[E>>2]|0)>0){f=((y|0)<0)<<31>>31,Ke=k,vr=ce,_r=k,Wt=k,c=ce,p=k,_=k,Nt=k,sr=ce,dt=ce,Lt=ce,k=ce;t:for(;;){for(Tt=h[E>>2]|0,it=0,wt=0,O=0;;){I=M,B=I+56|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(B|0));if(m=Ke+(it<<3)|0,G=h[m>>2]|0,m=h[m+4>>2]|0,Pf(G,m,1,M,0)|0){I=M,B=I+56|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(B|0));I=zo(7,4)|0,I|0&&(zi(G,m,1,M,I,7,0),Fr(I))}We=0;do{De=M+(We<<3)|0,ce=h[De>>2]|0,De=h[De+4>>2]|0;r:do if(!((ce|0)==0&(De|0)==0)){if(G=Gt(ce|0,De|0,y|0,f|0)|0,qe()|0,I=v+(G<<3)|0,B=I,m=h[B>>2]|0,B=h[B+4>>2]|0,!((m|0)==0&(B|0)==0))for(re=0;;){if((re|0)>(y|0))break t;if((m|0)==(ce|0)&(B|0)==(De|0))break r;if(G=(G+1|0)%(y|0)|0,I=v+(G<<3)|0,B=I,m=h[B>>2]|0,B=h[B+4>>2]|0,(m|0)==0&(B|0)==0)break;re=re+1|0}(ce|0)==0&(De|0)==0||(ls(ce,De,D),nr(A,U,D)|0&&(re=I,h[re>>2]=ce,h[re+4>>2]=De,re=vr+(O<<3)|0,h[re>>2]=ce,h[re+4>>2]=De,O=O+1|0))}while(0);We=We+1|0}while(We>>>0<7);if(wt=wt+1|0,(wt|0)>=(Tt|0))break;it=it+1|0}if((Tt|0)>0&&$i(_r|0,0,Tt<<3|0)|0,h[E>>2]=O,(O|0)>0)ce=k,De=Lt,We=p,it=dt,wt=sr,Tt=vr,k=Nt,Lt=_,dt=Wt,sr=_r,Nt=ce,_=De,p=c,c=We,Wt=it,_r=wt,vr=Ke,Ke=Tt;else break e}return Fr(Wt),Fr(c),Fr(U),U=-1,Re=q,U|0}else _=ce;while(0);return Fr(U),Fr(k),Fr(_),U=0,Re=q,U|0}function Zl(A,m,v,_,k,O){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0;var I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0,p=0,f=0,y=0,E=0;if(f=Re,Re=Re+48|0,_r=f+32|0,Wt=f+16|0,c=f,I=h[A>>2]|0,(I|0)<=0)return p=0,Re=f,p|0;sr=A+4|0,dt=_r+8|0,Lt=Wt+8|0,Ke=c+8|0,vr=((m|0)<0)<<31>>31,Nt=0;e:for(;;){B=h[sr>>2]|0,wt=B+(Nt<<4)|0,h[_r>>2]=h[wt>>2],h[_r+4>>2]=h[wt+4>>2],h[_r+8>>2]=h[wt+8>>2],h[_r+12>>2]=h[wt+12>>2],(Nt|0)==(I+-1|0)?(h[Wt>>2]=h[B>>2],h[Wt+4>>2]=h[B+4>>2],h[Wt+8>>2]=h[B+8>>2],h[Wt+12>>2]=h[B+12>>2]):(wt=B+(Nt+1<<4)|0,h[Wt>>2]=h[wt>>2],h[Wt+4>>2]=h[wt+4>>2],h[Wt+8>>2]=h[wt+8>>2],h[Wt+12>>2]=h[wt+12>>2]),wt=jc(_r,Wt,v)|0;t:do if((wt|0)>0){Tt=+(wt|0),it=0;r:for(;;){E=+(wt-it|0),y=+(it|0),ye[c>>3]=+ye[_r>>3]*E/Tt+ +ye[Wt>>3]*y/Tt,ye[Ke>>3]=+ye[dt>>3]*E/Tt+ +ye[Lt>>3]*y/Tt,De=Dp(c,v)|0,We=qe()|0,B=Gt(De|0,We|0,m|0,vr|0)|0,qe()|0,I=O+(B<<3)|0,G=I,re=h[G>>2]|0,G=h[G+4>>2]|0;n:do if((re|0)==0&(G|0)==0)p=14;else for(ce=0;;){if((ce|0)>(m|0)){I=1;break n}if((re|0)==(De|0)&(G|0)==(We|0)){I=7;break n}if(B=(B+1|0)%(m|0)|0,I=O+(B<<3)|0,G=I,re=h[G>>2]|0,G=h[G+4>>2]|0,(re|0)==0&(G|0)==0){p=14;break}else ce=ce+1|0}while(0);switch((p|0)==14&&(p=0,(De|0)==0&(We|0)==0?I=7:(h[I>>2]=De,h[I+4>>2]=We,I=h[_>>2]|0,ce=k+(I<<3)|0,h[ce>>2]=De,h[ce+4>>2]=We,h[_>>2]=I+1,I=0)),I&7){case 7:case 0:break;default:break r}if(it=it+1|0,(wt|0)<=(it|0)){p=8;break t}}if(I|0){I=-1,p=20;break e}}else p=8;while(0);if((p|0)==8&&(p=0),Nt=Nt+1|0,I=h[A>>2]|0,(Nt|0)>=(I|0)){I=0,p=20;break}}return(p|0)==20?(Re=f,I|0):0}function Ip(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0;if(re=Re,Re=Re+176|0,G=re,(m|0)<1){go(v,0,0),Re=re;return}I=A,I=ht(h[I>>2]|0,h[I+4>>2]|0,52)|0,qe()|0,go(v,(m|0)>6?m:6,I&15),I=0;do{if(_=A+(I<<3)|0,Qs(h[_>>2]|0,h[_+4>>2]|0,G),_=h[G>>2]|0,(_|0)>0){B=0;do O=G+8+(B<<4)|0,B=B+1|0,_=G+8+(((B|0)%(_|0)|0)<<4)|0,k=fs(v,_,O)|0,k?Jc(v,k)|0:ef(v,O,_)|0,_=h[G>>2]|0;while((B|0)<(_|0))}I=I+1|0}while((I|0)!=(m|0));Re=re}function Op(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=Re,Re=Re+32|0,_=O,k=O+16|0,Ip(A,m,k),h[v>>2]=0,h[v+4>>2]=0,h[v+8>>2]=0,A=Vu(k)|0,!A){ji(v)|0,Va(k),Re=O;return}do{m=Mr(v)|0;do sn(m,A)|0,I=A+16|0,h[_>>2]=h[I>>2],h[_+4>>2]=h[I+4>>2],h[_+8>>2]=h[I+8>>2],h[_+12>>2]=h[I+12>>2],Jc(k,A)|0,A=zp(k,_)|0;while((A|0)!=0);A=Vu(k)|0}while((A|0)!=0);ji(v)|0,Va(k),Re=O}function ci(A){return A=A|0,h[7728+(A*28|0)+16>>2]|0}function zc(A){return A=A|0,(A|0)==4|(A|0)==117|0}function If(A){return A=A|0,h[11152+((h[A>>2]|0)*216|0)+((h[A+4>>2]|0)*72|0)+((h[A+8>>2]|0)*24|0)+(h[A+12>>2]<<3)>>2]|0}function QA(A){return A=A|0,h[11152+((h[A>>2]|0)*216|0)+((h[A+4>>2]|0)*72|0)+((h[A+8>>2]|0)*24|0)+(h[A+12>>2]<<3)+4>>2]|0}function Of(A,m){A=A|0,m=m|0,A=7728+(A*28|0)|0,h[m>>2]=h[A>>2],h[m+4>>2]=h[A+4>>2],h[m+8>>2]=h[A+8>>2],h[m+12>>2]=h[A+12>>2]}function Kl(A,m){A=A|0,m=m|0;var v=0,_=0;if(m>>>0>20)return m=-1,m|0;do if((h[11152+(m*216|0)>>2]|0)!=(A|0))if((h[11152+(m*216|0)+8>>2]|0)!=(A|0))if((h[11152+(m*216|0)+16>>2]|0)!=(A|0))if((h[11152+(m*216|0)+24>>2]|0)!=(A|0))if((h[11152+(m*216|0)+32>>2]|0)!=(A|0))if((h[11152+(m*216|0)+40>>2]|0)!=(A|0))if((h[11152+(m*216|0)+48>>2]|0)!=(A|0))if((h[11152+(m*216|0)+56>>2]|0)!=(A|0))if((h[11152+(m*216|0)+64>>2]|0)!=(A|0))if((h[11152+(m*216|0)+72>>2]|0)!=(A|0))if((h[11152+(m*216|0)+80>>2]|0)!=(A|0))if((h[11152+(m*216|0)+88>>2]|0)!=(A|0))if((h[11152+(m*216|0)+96>>2]|0)!=(A|0))if((h[11152+(m*216|0)+104>>2]|0)!=(A|0))if((h[11152+(m*216|0)+112>>2]|0)!=(A|0))if((h[11152+(m*216|0)+120>>2]|0)!=(A|0))if((h[11152+(m*216|0)+128>>2]|0)!=(A|0))if((h[11152+(m*216|0)+136>>2]|0)==(A|0))A=2,v=1,_=2;else{if((h[11152+(m*216|0)+144>>2]|0)==(A|0)){A=0,v=2,_=0;break}if((h[11152+(m*216|0)+152>>2]|0)==(A|0)){A=0,v=2,_=1;break}if((h[11152+(m*216|0)+160>>2]|0)==(A|0)){A=0,v=2,_=2;break}if((h[11152+(m*216|0)+168>>2]|0)==(A|0)){A=1,v=2,_=0;break}if((h[11152+(m*216|0)+176>>2]|0)==(A|0)){A=1,v=2,_=1;break}if((h[11152+(m*216|0)+184>>2]|0)==(A|0)){A=1,v=2,_=2;break}if((h[11152+(m*216|0)+192>>2]|0)==(A|0)){A=2,v=2,_=0;break}if((h[11152+(m*216|0)+200>>2]|0)==(A|0)){A=2,v=2,_=1;break}if((h[11152+(m*216|0)+208>>2]|0)==(A|0)){A=2,v=2,_=2;break}else A=-1;return A|0}else A=2,v=1,_=1;else A=2,v=1,_=0;else A=1,v=1,_=2;else A=1,v=1,_=1;else A=1,v=1,_=0;else A=0,v=1,_=2;else A=0,v=1,_=1;else A=0,v=1,_=0;else A=2,v=0,_=2;else A=2,v=0,_=1;else A=2,v=0,_=0;else A=1,v=0,_=2;else A=1,v=0,_=1;else A=1,v=0,_=0;else A=0,v=0,_=2;else A=0,v=0,_=1;else A=0,v=0,_=0;while(0);return m=h[11152+(m*216|0)+(v*72|0)+(A*24|0)+(_<<3)+4>>2]|0,m|0}function Xl(A,m){return A=A|0,m=m|0,(h[7728+(A*28|0)+20>>2]|0)==(m|0)?(m=1,m|0):(m=(h[7728+(A*28|0)+24>>2]|0)==(m|0),m|0)}function Bu(A,m){return A=A|0,m=m|0,h[880+(A*28|0)+(m<<2)>>2]|0}function Nc(A,m){return A=A|0,m=m|0,(h[880+(A*28|0)>>2]|0)==(m|0)?(m=0,m|0):(h[880+(A*28|0)+4>>2]|0)==(m|0)?(m=1,m|0):(h[880+(A*28|0)+8>>2]|0)==(m|0)?(m=2,m|0):(h[880+(A*28|0)+12>>2]|0)==(m|0)?(m=3,m|0):(h[880+(A*28|0)+16>>2]|0)==(m|0)?(m=4,m|0):(h[880+(A*28|0)+20>>2]|0)==(m|0)?(m=5,m|0):((h[880+(A*28|0)+24>>2]|0)==(m|0)?6:7)|0}function Uc(){return 122}function Yl(A){A=A|0;var m=0,v=0,_=0;m=0;do Xt(m|0,0,45)|0,_=qe()|0|134225919,v=A+(m<<3)|0,h[v>>2]=-1,h[v+4>>2]=_,m=m+1|0;while((m|0)!=122)}function Ko(A){return A=A|0,+ye[A+16>>3]<+ye[A+24>>3]|0}function lu(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return v=+ye[m>>3],!(v>=+ye[A+8>>3])||!(v<=+ye[A>>3])?(m=0,m|0):(_=+ye[A+16>>3],v=+ye[A+24>>3],k=+ye[m+8>>3],m=k>=v,A=k<=_&1,_<v?m&&(A=1):m||(A=0),m=(A|0)!=0,m|0)}function Ss(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0;I=Re,Re=Re+288|0,v=I+264|0,_=I+96|0,k=I,O=k,B=O+96|0;do h[O>>2]=0,O=O+4|0;while((O|0)<(B|0));return gl(m,k),O=k,B=h[O>>2]|0,O=h[O+4>>2]|0,ls(B,O,v),Qs(B,O,_),G=+ec(v,_+8|0),ye[v>>3]=+ye[A>>3],O=v+8|0,ye[O>>3]=+ye[A+16>>3],ye[_>>3]=+ye[A+8>>3],B=_+8|0,ye[B>>3]=+ye[A+24>>3],re=+ec(v,_),B=~~+an(+(re*re/+Io(+ +lt(+((+ye[O>>3]-+ye[B>>3])/(+ye[v>>3]-+ye[_>>3]))),3)/(G*(G*2.59807621135)*.8))),Re=I,((B|0)==0?1:B)|0}function jc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0;B=Re,Re=Re+288|0,_=B+264|0,k=B+96|0,O=B,I=O,G=I+96|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(G|0));return gl(v,O),G=O,I=h[G>>2]|0,G=h[G+4>>2]|0,ls(I,G,_),Qs(I,G,k),re=+ec(_,k+8|0),G=~~+an(+(+ec(A,m)/(re*2))),Re=B,((G|0)==0?1:G)|0}function cu(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0,h[A>>2]=m,h[A+4>>2]=v,h[A+8>>2]=_}function Nn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0;De=m+8|0,h[De>>2]=0,G=+ye[A>>3],I=+lt(+G),re=+ye[A+8>>3],B=+lt(+re)/.8660254037844386,I=I+B*.5,v=~~I,A=~~B,I=I-+(v|0),B=B-+(A|0);do if(I<.5)if(I<.3333333333333333)if(h[m>>2]=v,B<(I+1)*.5){h[m+4>>2]=A;break}else{A=A+1|0,h[m+4>>2]=A;break}else if(We=1-I,A=(!(B<We)&1)+A|0,h[m+4>>2]=A,We<=B&B<I*2){v=v+1|0,h[m>>2]=v;break}else{h[m>>2]=v;break}else{if(!(I<.6666666666666666))if(v=v+1|0,h[m>>2]=v,B<I*.5){h[m+4>>2]=A;break}else{A=A+1|0,h[m+4>>2]=A;break}if(B<1-I){if(h[m+4>>2]=A,I*2+-1<B){h[m>>2]=v;break}}else A=A+1|0,h[m+4>>2]=A;v=v+1|0,h[m>>2]=v}while(0);do if(G<0)if(A&1){ce=(A+1|0)/2|0,ce=ea(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(ce>>>0)+4294967296*+(qe()|0))*2+1)),h[m>>2]=v;break}else{ce=(A|0)/2|0,ce=ea(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(ce>>>0)+4294967296*+(qe()|0))*2),h[m>>2]=v;break}while(0);ce=m+4|0,re<0&&(v=v-((A<<1|1|0)/2|0)|0,h[m>>2]=v,A=0-A|0,h[ce>>2]=A),_=A-v|0,(v|0)<0?(k=0-v|0,h[ce>>2]=_,h[De>>2]=k,h[m>>2]=0,A=_,v=0):k=0,(A|0)<0&&(v=v-A|0,h[m>>2]=v,k=k-A|0,h[De>>2]=k,h[ce>>2]=0,A=0),O=v-k|0,_=A-k|0,(k|0)<0&&(h[m>>2]=O,h[ce>>2]=_,h[De>>2]=0,A=_,v=O,k=0),_=(A|0)<(v|0)?A:v,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(h[m>>2]=v-_,h[ce>>2]=A-_,h[De>>2]=k-_)}function qr(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,(m|0)<0&&(v=v-m|0,h[I>>2]=v,O=A+8|0,h[O>>2]=(h[O>>2]|0)-m,h[A>>2]=0,m=0),(v|0)<0?(m=m-v|0,h[A>>2]=m,O=A+8|0,k=(h[O>>2]|0)-v|0,h[O>>2]=k,h[I>>2]=0,v=0):(k=A+8|0,O=k,k=h[k>>2]|0),(k|0)<0&&(m=m-k|0,h[A>>2]=m,v=v-k|0,h[I>>2]=v,h[O>>2]=0,k=0),_=(v|0)<(m|0)?v:m,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(h[A>>2]=m-_,h[I>>2]=v-_,h[O>>2]=k-_)}function Fo(A,m){A=A|0,m=m|0;var v=0,_=0;_=h[A+8>>2]|0,v=+((h[A+4>>2]|0)-_|0),ye[m>>3]=+((h[A>>2]|0)-_|0)-v*.5,ye[m+8>>3]=v*.8660254037844386}function kn(A,m,v){A=A|0,m=m|0,v=v|0,h[v>>2]=(h[m>>2]|0)+(h[A>>2]|0),h[v+4>>2]=(h[m+4>>2]|0)+(h[A+4>>2]|0),h[v+8>>2]=(h[m+8>>2]|0)+(h[A+8>>2]|0)}function sl(A,m,v){A=A|0,m=m|0,v=v|0,h[v>>2]=(h[A>>2]|0)-(h[m>>2]|0),h[v+4>>2]=(h[A+4>>2]|0)-(h[m+4>>2]|0),h[v+8>>2]=(h[A+8>>2]|0)-(h[m+8>>2]|0)}function Mf(A,m){A=A|0,m=m|0;var v=0,_=0;v=gn(h[A>>2]|0,m)|0,h[A>>2]=v,v=A+4|0,_=gn(h[v>>2]|0,m)|0,h[v>>2]=_,A=A+8|0,m=gn(h[A>>2]|0,m)|0,h[A>>2]=m}function $c(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=h[A>>2]|0,B=(I|0)<0,_=(h[A+4>>2]|0)-(B?I:0)|0,O=(_|0)<0,k=(O?0-_|0:0)+((h[A+8>>2]|0)-(B?I:0))|0,v=(k|0)<0,A=v?0:k,m=(O?0:_)-(v?k:0)|0,k=(B?0:I)-(O?_:0)-(v?k:0)|0,v=(m|0)<(k|0)?m:k,v=(A|0)<(v|0)?A:v,_=(v|0)>0,A=A-(_?v:0)|0,m=m-(_?v:0)|0;e:do switch(k-(_?v:0)|0){case 0:switch(m|0){case 0:return B=(A|0)==0?0:(A|0)==1?1:7,B|0;case 1:return B=(A|0)==0?2:(A|0)==1?3:7,B|0;default:break e}case 1:switch(m|0){case 0:return B=(A|0)==0?4:(A|0)==1?5:7,B|0;case 1:{if(!A)A=6;else break e;return A|0}default:break e}}while(0);return B=7,B|0}function Mp(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=A+8|0,v=h[I>>2]|0,m=(h[A>>2]|0)-v|0,B=A+4|0,v=(h[B>>2]|0)-v|0,_=pa(+((m*3|0)-v|0)/7)|0,h[A>>2]=_,m=pa(+((v<<1)+m|0)/7)|0,h[B>>2]=m,h[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,h[B>>2]=v,h[I>>2]=O,h[A>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,h[A>>2]=_,v=v-m|0,h[I>>2]=v,h[B>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(h[A>>2]=k-_,h[B>>2]=m-_,h[I>>2]=v-_)}function ul(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=A+8|0,v=h[I>>2]|0,m=(h[A>>2]|0)-v|0,B=A+4|0,v=(h[B>>2]|0)-v|0,_=pa(+((m<<1)+v|0)/7)|0,h[A>>2]=_,m=pa(+((v*3|0)-m|0)/7)|0,h[B>>2]=m,h[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,h[B>>2]=v,h[I>>2]=O,h[A>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,h[A>>2]=_,v=v-m|0,h[I>>2]=v,h[B>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(h[A>>2]=k-_,h[B>>2]=m-_,h[I>>2]=v-_)}function ll(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,B=A+8|0,_=h[B>>2]|0,k=v+(m*3|0)|0,h[A>>2]=k,v=_+(v*3|0)|0,h[I>>2]=v,m=(_*3|0)+m|0,h[B>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=_,h[B>>2]=m,h[A>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function yi(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=(m*3|0)+k|0,k=v+(k*3|0)|0,h[A>>2]=k,h[I>>2]=_,m=(v*3|0)+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,h[A>>2]=k,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=_,h[B>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=k-v,h[I>>2]=_-v,h[B>>2]=m-v)}function cl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;(m+-1|0)>>>0>=6||(k=(h[15472+(m*12|0)>>2]|0)+(h[A>>2]|0)|0,h[A>>2]=k,B=A+4|0,_=(h[15472+(m*12|0)+4>>2]|0)+(h[B>>2]|0)|0,h[B>>2]=_,I=A+8|0,m=(h[15472+(m*12|0)+8>>2]|0)+(h[I>>2]|0)|0,h[I>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[B>>2]=v,h[I>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[I>>2]=m,h[B>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[B>>2]=k-v,h[I>>2]=m-v))}function js(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=m+k|0,k=v+k|0,h[A>>2]=k,h[I>>2]=_,m=v+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function fl(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,_=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,k=_+m|0,h[A>>2]=k,_=v+_|0,h[I>>2]=_,m=v+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function $s(A){switch(A=A|0,A|0){case 1:{A=5;break}case 5:{A=4;break}case 4:{A=6;break}case 6:{A=2;break}case 2:{A=3;break}case 3:{A=1;break}}return A|0}function Ti(A){switch(A=A|0,A|0){case 1:{A=3;break}case 3:{A=2;break}case 2:{A=6;break}case 6:{A=4;break}case 4:{A=5;break}case 5:{A=1;break}}return A|0}function zu(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,B=A+8|0,_=h[B>>2]|0,k=v+(m<<1)|0,h[A>>2]=k,v=_+(v<<1)|0,h[I>>2]=v,m=(_<<1)+m|0,h[B>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=_,h[B>>2]=m,h[A>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function Vc(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=(m<<1)+k|0,k=v+(k<<1)|0,h[A>>2]=k,h[I>>2]=_,m=(v<<1)+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,h[A>>2]=k,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=_,h[B>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=k-v,h[I>>2]=_-v,h[B>>2]=m-v)}function Zi(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;return I=(h[A>>2]|0)-(h[m>>2]|0)|0,B=(I|0)<0,_=(h[A+4>>2]|0)-(h[m+4>>2]|0)-(B?I:0)|0,O=(_|0)<0,k=(B?0-I|0:0)+(h[A+8>>2]|0)-(h[m+8>>2]|0)+(O?0-_|0:0)|0,A=(k|0)<0,m=A?0:k,v=(O?0:_)-(A?k:0)|0,k=(B?0:I)-(O?_:0)-(A?k:0)|0,A=(v|0)<(k|0)?v:k,A=(m|0)<(A|0)?m:A,_=(A|0)>0,m=m-(_?A:0)|0,v=v-(_?A:0)|0,A=k-(_?A:0)|0,A=(A|0)>-1?A:0-A|0,v=(v|0)>-1?v:0-v|0,m=(m|0)>-1?m:0-m|0,m=(v|0)>(m|0)?v:m,((A|0)>(m|0)?A:m)|0}function Hc(A,m){A=A|0,m=m|0;var v=0;v=h[A+8>>2]|0,h[m>>2]=(h[A>>2]|0)-v,h[m+4>>2]=(h[A+4>>2]|0)-v}function Vs(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;_=h[A>>2]|0,h[m>>2]=_,A=h[A+4>>2]|0,I=m+4|0,h[I>>2]=A,B=m+8|0,h[B>>2]=0,v=A-_|0,(_|0)<0?(A=0-_|0,h[I>>2]=v,h[B>>2]=A,h[m>>2]=0,_=0):(v=A,A=0),(v|0)<0&&(_=_-v|0,h[m>>2]=_,A=A-v|0,h[B>>2]=A,h[I>>2]=0,v=0),O=_-A|0,k=v-A|0,(A|0)<0?(h[m>>2]=O,h[I>>2]=k,h[B>>2]=0,v=k,k=O,A=0):k=_,_=(v|0)<(k|0)?v:k,_=(A|0)<(_|0)?A:_,!((_|0)<=0)&&(h[m>>2]=k-_,h[I>>2]=v-_,h[B>>2]=A-_)}function Cs(A){A=A|0;var m=0,v=0,_=0,k=0;m=A+8|0,k=h[m>>2]|0,v=k-(h[A>>2]|0)|0,h[A>>2]=v,_=A+4|0,A=(h[_>>2]|0)-k|0,h[_>>2]=A,h[m>>2]=0-(A+v)}function fo(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;v=h[A>>2]|0,m=0-v|0,h[A>>2]=m,I=A+8|0,h[I>>2]=0,B=A+4|0,_=h[B>>2]|0,k=_+v|0,(v|0)>0?(h[B>>2]=k,h[I>>2]=v,h[A>>2]=0,m=0,_=k):v=0,(_|0)<0?(O=m-_|0,h[A>>2]=O,v=v-_|0,h[I>>2]=v,h[B>>2]=0,k=O-v|0,m=0-v|0,(v|0)<0?(h[A>>2]=k,h[B>>2]=m,h[I>>2]=0,_=m,v=0):(_=0,k=O)):k=m,m=(_|0)<(k|0)?_:k,m=(v|0)<(m|0)?v:m,!((m|0)<=0)&&(h[A>>2]=k-m,h[B>>2]=_-m,h[I>>2]=v-m)}function Nu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,po(A,m,v,k),Nn(k,v+4|0),Re=_}function po(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0;if(G=Re,Re=Re+32|0,O=G,Yc(A,O),h[v>>2]=0,k=+wn(15888,O),I=+wn(15912,O),I<k&&(h[v>>2]=1,k=I),I=+wn(15936,O),I<k&&(h[v>>2]=2,k=I),I=+wn(15960,O),I<k&&(h[v>>2]=3,k=I),I=+wn(15984,O),I<k&&(h[v>>2]=4,k=I),I=+wn(16008,O),I<k&&(h[v>>2]=5,k=I),I=+wn(16032,O),I<k&&(h[v>>2]=6,k=I),I=+wn(16056,O),I<k&&(h[v>>2]=7,k=I),I=+wn(16080,O),I<k&&(h[v>>2]=8,k=I),I=+wn(16104,O),I<k&&(h[v>>2]=9,k=I),I=+wn(16128,O),I<k&&(h[v>>2]=10,k=I),I=+wn(16152,O),I<k&&(h[v>>2]=11,k=I),I=+wn(16176,O),I<k&&(h[v>>2]=12,k=I),I=+wn(16200,O),I<k&&(h[v>>2]=13,k=I),I=+wn(16224,O),I<k&&(h[v>>2]=14,k=I),I=+wn(16248,O),I<k&&(h[v>>2]=15,k=I),I=+wn(16272,O),I<k&&(h[v>>2]=16,k=I),I=+wn(16296,O),I<k&&(h[v>>2]=17,k=I),I=+wn(16320,O),I<k&&(h[v>>2]=18,k=I),I=+wn(16344,O),I<k&&(h[v>>2]=19,k=I),I=+An(+(1-k*.5)),I<1e-16){h[_>>2]=0,h[_+4>>2]=0,h[_+8>>2]=0,h[_+12>>2]=0,Re=G;return}if(v=h[v>>2]|0,k=+ye[16368+(v*24|0)>>3],k=+Al(k-+Al(+qs(15568+(v<<4)|0,A))),Yo(m)|0?B=+Al(k+-.3334731722518321):B=k,k=+qt(+I)/.381966011250105,(m|0)>0){O=0;do k=k*2.6457513110645907,O=O+1|0;while((O|0)!=(m|0))}I=+pr(+B)*k,ye[_>>3]=I,B=+ur(+B)*k,ye[_+8>>3]=B,Re=G}function ss(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;if(O=+sc(A),O<1e-16){m=15568+(m<<4)|0,h[k>>2]=h[m>>2],h[k+4>>2]=h[m+4>>2],h[k+8>>2]=h[m+8>>2],h[k+12>>2]=h[m+12>>2];return}if(I=+dn(+ +ye[A+8>>3],+ +ye[A>>3]),(v|0)>0){A=0;do O=O/2.6457513110645907,A=A+1|0;while((A|0)!=(v|0))}_?(O=O/3,v=(Yo(v)|0)==0,O=+Ln(+((v?O:O/2.6457513110645907)*.381966011250105))):(O=+Ln(+(O*.381966011250105)),Yo(v)|0&&(I=+Al(I+.3334731722518321))),Gs(15568+(m<<4)|0,+Al(+ye[16368+(m*24|0)>>3]-I),O,k)}function fu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,Fo(A+4|0,k),ss(k,h[A>>2]|0,m,0,v),Re=_}function Xo(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(D=Re,Re=Re+272|0,O=D+256|0,dt=D+240|0,y=D,E=D+224|0,M=D+208|0,Lt=D+176|0,Ke=D+160|0,vr=D+192|0,_r=D+144|0,Wt=D+128|0,c=D+112|0,p=D+96|0,f=D+80|0,h[O>>2]=m,h[dt>>2]=h[A>>2],h[dt+4>>2]=h[A+4>>2],h[dt+8>>2]=h[A+8>>2],h[dt+12>>2]=h[A+12>>2],pl(dt,O,y),h[k>>2]=0,dt=_+v+((_|0)==5&1)|0,(dt|0)<=(v|0)){Re=D;return}G=h[O>>2]|0,re=E+4|0,ce=Lt+4|0,De=v+5|0,We=16848+(G<<2)|0,it=16928+(G<<2)|0,wt=Wt+8|0,Tt=c+8|0,Nt=p+8|0,sr=M+4|0,B=v;e:for(;;){I=y+(((B|0)%5|0)<<4)|0,h[M>>2]=h[I>>2],h[M+4>>2]=h[I+4>>2],h[M+8>>2]=h[I+8>>2],h[M+12>>2]=h[I+12>>2];do;while((Dn(M,G,0,1)|0)==2);if((B|0)>(v|0)&(Yo(m)|0)!=0){if(h[Lt>>2]=h[M>>2],h[Lt+4>>2]=h[M+4>>2],h[Lt+8>>2]=h[M+8>>2],h[Lt+12>>2]=h[M+12>>2],Fo(re,Ke),_=h[Lt>>2]|0,O=h[17008+(_*80|0)+(h[E>>2]<<2)>>2]|0,h[Lt>>2]=h[18608+(_*80|0)+(O*20|0)>>2],I=h[18608+(_*80|0)+(O*20|0)+16>>2]|0,(I|0)>0){A=0;do js(ce),A=A+1|0;while((A|0)<(I|0))}switch(I=18608+(_*80|0)+(O*20|0)+4|0,h[vr>>2]=h[I>>2],h[vr+4>>2]=h[I+4>>2],h[vr+8>>2]=h[I+8>>2],Mf(vr,(h[We>>2]|0)*3|0),kn(ce,vr,ce),qr(ce),Fo(ce,_r),U=+(h[it>>2]|0),ye[Wt>>3]=U*3,ye[wt>>3]=0,q=U*-1.5,ye[c>>3]=q,ye[Tt>>3]=U*2.598076211353316,ye[p>>3]=q,ye[Nt>>3]=U*-2.598076211353316,h[17008+((h[Lt>>2]|0)*80|0)+(h[M>>2]<<2)>>2]|0){case 1:{A=c,_=Wt;break}case 3:{A=p,_=c;break}case 2:{A=Wt,_=p;break}default:{A=12;break e}}Xs(Ke,_r,_,A,f),ss(f,h[Lt>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1}if((B|0)<(De|0)&&(Fo(sr,Lt),ss(Lt,h[M>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1),h[E>>2]=h[M>>2],h[E+4>>2]=h[M+4>>2],h[E+8>>2]=h[M+8>>2],h[E+12>>2]=h[M+12>>2],B=B+1|0,(B|0)>=(dt|0)){A=3;break}}if((A|0)==3){Re=D;return}else(A|0)==12&&xr(22474,22521,581,22531)}function pl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;G=Re,Re=Re+128|0,_=G+64|0,k=G,O=_,I=20208,B=O+60|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));O=k,I=20272,B=O+60|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));B=(Yo(h[m>>2]|0)|0)==0,_=B?_:k,k=A+4|0,zu(k),Vc(k),Yo(h[m>>2]|0)|0&&(yi(k),h[m>>2]=(h[m>>2]|0)+1),h[v>>2]=h[A>>2],m=v+4|0,kn(k,_,m),qr(m),h[v+16>>2]=h[A>>2],m=v+20|0,kn(k,_+12|0,m),qr(m),h[v+32>>2]=h[A>>2],m=v+36|0,kn(k,_+24|0,m),qr(m),h[v+48>>2]=h[A>>2],m=v+52|0,kn(k,_+36|0,m),qr(m),h[v+64>>2]=h[A>>2],v=v+68|0,kn(k,_+48|0,v),qr(v),Re=G}function Dn(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0;if(wt=Re,Re=Re+32|0,We=wt+12|0,B=wt,it=A+4|0,De=h[16928+(m<<2)>>2]|0,ce=(_|0)!=0,De=ce?De*3|0:De,k=h[it>>2]|0,re=A+8|0,I=h[re>>2]|0,ce){if(O=A+12|0,_=h[O>>2]|0,k=I+k+_|0,(k|0)==(De|0))return it=1,Re=wt,it|0;G=O}else G=A+12|0,_=h[G>>2]|0,k=I+k+_|0;if((k|0)<=(De|0))return it=0,Re=wt,it|0;do if((_|0)>0){if(_=h[A>>2]|0,(I|0)>0){O=18608+(_*80|0)+60|0,_=A;break}_=18608+(_*80|0)+40|0,v?(cu(We,De,0,0),sl(it,We,B),fl(B),kn(B,We,it),O=_,_=A):(O=_,_=A)}else O=18608+((h[A>>2]|0)*80|0)+20|0,_=A;while(0);if(h[_>>2]=h[O>>2],k=O+16|0,(h[k>>2]|0)>0){_=0;do js(it),_=_+1|0;while((_|0)<(h[k>>2]|0))}return A=O+4|0,h[We>>2]=h[A>>2],h[We+4>>2]=h[A+4>>2],h[We+8>>2]=h[A+8>>2],m=h[16848+(m<<2)>>2]|0,Mf(We,ce?m*3|0:m),kn(it,We,it),qr(it),ce?_=((h[re>>2]|0)+(h[it>>2]|0)+(h[G>>2]|0)|0)==(De|0)?1:2:_=2,it=_,Re=wt,it|0}function ei(A,m){A=A|0,m=m|0;var v=0;do v=Dn(A,m,0,1)|0;while((v|0)==2);return v|0}function Ua(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0,p=0,f=0,y=0;if(p=Re,Re=Re+240|0,O=p+224|0,vr=p+208|0,_r=p,Wt=p+192|0,c=p+176|0,Nt=p+160|0,sr=p+144|0,dt=p+128|0,Lt=p+112|0,Ke=p+96|0,h[O>>2]=m,h[vr>>2]=h[A>>2],h[vr+4>>2]=h[A+4>>2],h[vr+8>>2]=h[A+8>>2],h[vr+12>>2]=h[A+12>>2],Jl(vr,O,_r),h[k>>2]=0,Tt=_+v+((_|0)==6&1)|0,(Tt|0)<=(v|0)){Re=p;return}G=h[O>>2]|0,re=v+6|0,ce=16928+(G<<2)|0,De=sr+8|0,We=dt+8|0,it=Lt+8|0,wt=Wt+4|0,I=0,B=v,_=-1;e:for(;;){if(O=(B|0)%6|0,A=_r+(O<<4)|0,h[Wt>>2]=h[A>>2],h[Wt+4>>2]=h[A+4>>2],h[Wt+8>>2]=h[A+8>>2],h[Wt+12>>2]=h[A+12>>2],A=I,I=Dn(Wt,G,0,1)|0,(B|0)>(v|0)&(Yo(m)|0)!=0&&(A|0)!=1&&(h[Wt>>2]|0)!=(_|0)){switch(Fo(_r+(((O+5|0)%6|0)<<4)+4|0,c),Fo(_r+(O<<4)+4|0,Nt),f=+(h[ce>>2]|0),ye[sr>>3]=f*3,ye[De>>3]=0,y=f*-1.5,ye[dt>>3]=y,ye[We>>3]=f*2.598076211353316,ye[Lt>>3]=y,ye[it>>3]=f*-2.598076211353316,O=h[vr>>2]|0,h[17008+(O*80|0)+(((_|0)==(O|0)?h[Wt>>2]|0:_)<<2)>>2]|0){case 1:{A=dt,_=sr;break}case 3:{A=Lt,_=dt;break}case 2:{A=sr,_=Lt;break}default:{A=8;break e}}Xs(c,Nt,_,A,Ke),!(mo(c,Ke)|0)&&!(mo(Nt,Ke)|0)&&(ss(Ke,h[vr>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1)}if((B|0)<(re|0)&&(Fo(wt,c),ss(c,h[Wt>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1),B=B+1|0,(B|0)>=(Tt|0)){A=3;break}else _=h[Wt>>2]|0}if((A|0)==3){Re=p;return}else(A|0)==8&&xr(22557,22521,746,22602)}function Jl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;G=Re,Re=Re+160|0,_=G+80|0,k=G,O=_,I=20336,B=O+72|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));O=k,I=20416,B=O+72|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));B=(Yo(h[m>>2]|0)|0)==0,_=B?_:k,k=A+4|0,zu(k),Vc(k),Yo(h[m>>2]|0)|0&&(yi(k),h[m>>2]=(h[m>>2]|0)+1),h[v>>2]=h[A>>2],m=v+4|0,kn(k,_,m),qr(m),h[v+16>>2]=h[A>>2],m=v+20|0,kn(k,_+12|0,m),qr(m),h[v+32>>2]=h[A>>2],m=v+36|0,kn(k,_+24|0,m),qr(m),h[v+48>>2]=h[A>>2],m=v+52|0,kn(k,_+36|0,m),qr(m),h[v+64>>2]=h[A>>2],m=v+68|0,kn(k,_+48|0,m),qr(m),h[v+80>>2]=h[A>>2],v=v+84|0,kn(k,_+60|0,v),qr(v),Re=G}function Al(A){A=+A;var m=0;return m=A<0?A+6.283185307179586:A,+(A>=6.283185307179586?m+-6.283185307179586:m)}function Hs(A,m){return A=A|0,m=m|0,+lt(+(+ye[A>>3]-+ye[m>>3]))<17453292519943298e-27?(m=+lt(+(+ye[A+8>>3]-+ye[m+8>>3]))<17453292519943298e-27,m|0):(m=0,m|0)}function Rp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[A>>3],O=+ur(+((k-_)*.5)),v=+ur(+((+ye[m+8>>3]-+ye[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Mt(+v),+ +Mt(+(1-v)))*2)}function ec(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[A>>3],O=+ur(+((k-_)*.5)),v=+ur(+((+ye[m+8>>3]-+ye[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Mt(+v),+ +Mt(+(1-v)))*2*6371.007180918475)}function pu(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[A>>3],O=+ur(+((k-_)*.5)),v=+ur(+((+ye[m+8>>3]-+ye[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Mt(+v),+ +Mt(+(1-v)))*2*6371.007180918475*1e3)}function qs(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;return O=+ye[m>>3],_=+pr(+O),k=+ye[m+8>>3]-+ye[A+8>>3],I=_*+ur(+k),v=+ye[A>>3],+ +dn(+I,+(+ur(+O)*+pr(+v)-+pr(+k)*(_*+ur(+v))))}function Gs(A,m,v,_){A=A|0,m=+m,v=+v,_=_|0;var k=0,O=0,I=0,B=0;if(v<1e-16){h[_>>2]=h[A>>2],h[_+4>>2]=h[A+4>>2],h[_+8>>2]=h[A+8>>2],h[_+12>>2]=h[A+12>>2];return}O=m<0?m+6.283185307179586:m,O=m>=6.283185307179586?O+-6.283185307179586:O;do if(O<1e-16)m=+ye[A>>3]+v,ye[_>>3]=m,k=_;else{if(k=+lt(+(O+-3.141592653589793))<1e-16,m=+ye[A>>3],k){m=m-v,ye[_>>3]=m,k=_;break}if(I=+pr(+v),v=+ur(+v),m=I*+ur(+m)+ +pr(+O)*(v*+pr(+m)),m=m>1?1:m,m=+Xr(+(m<-1?-1:m)),ye[_>>3]=m,+lt(+(m+-1.5707963267948966))<1e-16){ye[_>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+lt(+(m+1.5707963267948966))<1e-16){ye[_>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(B=+pr(+m),O=v*+ur(+O)/B,v=+ye[A>>3],m=(I-+ur(+m)*+ur(+v))/+pr(+v)/B,I=O>1?1:O,m=m>1?1:m,m=+ye[A+8>>3]+ +dn(+(I<-1?-1:I),+(m<-1?-1:m)),m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m;return}while(0);if(+lt(+(m+-1.5707963267948966))<1e-16){ye[k>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+lt(+(m+1.5707963267948966))<1e-16){ye[k>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(m=+ye[A+8>>3],m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m}function Uu(A){return A=A|0,+ +ye[20496+(A<<3)>>3]}function Lp(A){return A=A|0,+ +ye[20624+(A<<3)>>3]}function qc(A){return A=A|0,+ +ye[20752+(A<<3)>>3]}function Au(A){return A=A|0,+ +ye[20880+(A<<3)>>3]}function tc(A){A=A|0;var m=0;return m=21008+(A<<3)|0,A=h[m>>2]|0,Kt(h[m+4>>2]|0),A|0}function _a(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0;return We=+ye[m>>3],ce=+ye[A>>3],G=+ur(+((We-ce)*.5)),O=+ye[m+8>>3],re=+ye[A+8>>3],I=+ur(+((O-re)*.5)),B=+pr(+ce),De=+pr(+We),I=G*G+I*(De*B*I),I=+dn(+ +Mt(+I),+ +Mt(+(1-I)))*2,G=+ye[v>>3],We=+ur(+((G-We)*.5)),_=+ye[v+8>>3],O=+ur(+((_-O)*.5)),k=+pr(+G),O=We*We+O*(De*k*O),O=+dn(+ +Mt(+O),+ +Mt(+(1-O)))*2,G=+ur(+((ce-G)*.5)),_=+ur(+((re-_)*.5)),_=G*G+_*(B*k*_),_=+dn(+ +Mt(+_),+ +Mt(+(1-_)))*2,k=(I+O+_)*.5,+(+Ln(+ +Mt(+(+qt(+(k*.5))*+qt(+((k-I)*.5))*+qt(+((k-O)*.5))*+qt(+((k-_)*.5)))))*4)}function ju(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)<=0)return v=0,Re=O,+v;if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)==1)return Re=O,+v;A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0));return Re=O,+v}function Gc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475)}function rc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475*1e3*1e3)}function Vn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0;if(I=Re,Re=Re+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Re=I,+k;m=A+-1|0,A=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do A=A+1|0,G=_,_=+ye[O+8+(A<<4)>>3],re=+ur(+((_-G)*.5)),B=k,k=+ye[O+8+(A<<4)+8>>3],B=+ur(+((k-B)*.5)),B=re*re+B*(+pr(+_)*+pr(+G)*B),v=v+ +dn(+ +Mt(+B),+ +Mt(+(1-B)))*2;while((A|0)<(m|0));return Re=I,+v}function Qc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0;if(I=Re,Re=Re+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Re=I,+k;m=A+-1|0,A=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do A=A+1|0,G=_,_=+ye[O+8+(A<<4)>>3],re=+ur(+((_-G)*.5)),B=k,k=+ye[O+8+(A<<4)+8>>3],B=+ur(+((k-B)*.5)),B=re*re+B*(+pr(+G)*+pr(+_)*B),v=v+ +dn(+ +Mt(+B),+ +Mt(+(1-B)))*2;while((A|0)!=(m|0));return re=v*6371.007180918475,Re=I,+re}function Rf(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0;if(I=Re,Re=Re+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Re=I,+k;m=A+-1|0,A=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do A=A+1|0,G=_,_=+ye[O+8+(A<<4)>>3],re=+ur(+((_-G)*.5)),B=k,k=+ye[O+8+(A<<4)+8>>3],B=+ur(+((k-B)*.5)),B=re*re+B*(+pr(+G)*+pr(+_)*B),v=v+ +dn(+ +Mt(+B),+ +Mt(+(1-B)))*2;while((A|0)!=(m|0));return re=v*6371.007180918475*1e3,Re=I,+re}function To(A,m){return A=A|0,m=m|0,m=ht(A|0,m|0,52)|0,qe()|0,m&15|0}function Wc(A,m){return A=A|0,m=m|0,m=ht(A|0,m|0,45)|0,qe()|0,m&127|0}function hl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;if(!(!0&(m&-16777216|0)==134217728)||(I=ht(A|0,m|0,45)|0,qe()|0,I=I&127,I>>>0>121))return m=0,m|0;v=ht(A|0,m|0,52)|0,qe()|0,v=v&15;do if(v|0){for(k=1,_=0;;){if(O=ht(A|0,m|0,(15-k|0)*3|0)|0,qe()|0,O=O&7,(O|0)!=0&(_^1))if((O|0)==1&(ci(I)|0)!=0){B=0,_=13;break}else _=1;if((O|0)==7){B=0,_=13;break}if(k>>>0<v>>>0)k=k+1|0;else{_=9;break}}if((_|0)==9){if((v|0)==15)B=1;else break;return B|0}else if((_|0)==13)return B|0}while(0);for(;;){if(B=ht(A|0,m|0,(14-v|0)*3|0)|0,qe()|0,!((B&7|0)==7&!0)){B=0,_=13;break}if(v>>>0<14)v=v+1|0;else{B=1,_=13;break}}return(_|0)==13?B|0:0}function hu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,(_|0)>=(v|0)){if((_|0)!=(v|0))if(v>>>0<=15){if(k=Xt(v|0,0,52)|0,A=k|A,m=qe()|0|m&-15728641,(_|0)>(v|0))do k=Xt(7,0,(14-v|0)*3|0)|0,v=v+1|0,A=k|A,m=qe()|0|m;while((v|0)<(_|0))}else m=0,A=0}else m=0,A=0;return Kt(m|0),A|0}function Lf(A,m,v){return A=A|0,m=m|0,v=v|0,A=ht(A|0,m|0,52)|0,qe()|0,A=A&15,(v|0)<16&(A|0)<=(v|0)?(v=ho(7,v-A|0)|0,v|0):(v=0,v|0)}function Ao(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0;if(I=ht(A|0,m|0,52)|0,qe()|0,I=I&15,!!((v|0)<16&(I|0)<=(v|0))){if((I|0)==(v|0)){v=_,h[v>>2]=A,h[v+4>>2]=m;return}if(G=ho(7,v-I|0)|0,re=(G|0)/7|0,B=ht(A|0,m|0,45)|0,qe()|0,!(ci(B&127)|0))O=0;else{e:do if(!I)k=0;else for(O=1;;){if(k=ht(A|0,m|0,(15-O|0)*3|0)|0,qe()|0,k=k&7,k|0)break e;if(O>>>0<I>>>0)O=O+1|0;else{k=0;break}}while(0);O=(k|0)==0}if(ce=Xt(I+1|0,0,52)|0,k=qe()|0|m&-15728641,B=(14-I|0)*3|0,m=Xt(7,0,B|0)|0,m=(ce|A)&~m,I=k&~(qe()|0),Ao(m,I,v,_),k=_+(re<<3)|0,!O){ce=Xt(1,0,B|0)|0,Ao(ce|m,qe()|0|I,v,k),ce=k+(re<<3)|0,G=Xt(2,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),ce=ce+(re<<3)|0,G=Xt(3,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),ce=ce+(re<<3)|0,G=Xt(4,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),ce=ce+(re<<3)|0,G=Xt(5,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),G=Xt(6,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce+(re<<3)|0);return}O=k+(re<<3)|0,(G|0)>6&&(G=k+8|0,ce=(O>>>0>G>>>0?O:G)+-1+(0-k)|0,$i(k|0,0,ce+8&-8|0)|0,k=G+(ce>>>3<<3)|0),ce=Xt(2,0,B|0)|0,Ao(ce|m,qe()|0|I,v,k),ce=k+(re<<3)|0,G=Xt(3,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),ce=ce+(re<<3)|0,G=Xt(4,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),ce=ce+(re<<3)|0,G=Xt(5,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce),G=Xt(6,0,B|0)|0,Ao(G|m,qe()|0|I,v,ce+(re<<3)|0)}}function Ui(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(k=ht(A|0,m|0,45)|0,qe()|0,!(ci(k&127)|0))return k=0,k|0;k=ht(A|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!k)v=0;else for(_=1;;){if(v=ht(A|0,m|0,(15-_|0)*3|0)|0,qe()|0,v=v&7,v|0)break e;if(_>>>0<k>>>0)_=_+1|0;else{v=0;break}}while(0);return k=(v|0)==0&1,k|0}function Zc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,(v|0)<16&(_|0)<=(v|0)){if((_|0)!=(v|0)&&(k=Xt(v|0,0,52)|0,A=k|A,m=qe()|0|m&-15728641,(_|0)<(v|0)))do k=Xt(7,0,(14-_|0)*3|0)|0,_=_+1|0,A=A&~k,m=m&~(qe()|0);while((_|0)<(v|0))}else m=0,A=0;return Kt(m|0),A|0}function nc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0;if(!v)return Wt=0,Wt|0;if(k=A,_=h[k>>2]|0,k=h[k+4>>2]|0,!0&(k&15728640|0)==0){if((v|0)<=0||(Wt=m,h[Wt>>2]=_,h[Wt+4>>2]=k,(v|0)==1))return Wt=0,Wt|0;_=1;do vr=A+(_<<3)|0,_r=h[vr+4>>2]|0,Wt=m+(_<<3)|0,h[Wt>>2]=h[vr>>2],h[Wt+4>>2]=_r,_=_+1|0;while((_|0)!=(v|0));return _=0,_|0}if(vr=v<<3,_r=Pi(vr)|0,!_r)return Wt=-3,Wt|0;if(No(_r|0,A|0,vr|0)|0,Ke=zo(v,8)|0,!Ke)return Fr(_r),Wt=-3,Wt|0;_=v;e:for(;;){I=_r,ce=h[I>>2]|0,I=h[I+4>>2]|0,dt=ht(ce|0,I|0,52)|0,qe()|0,dt=dt&15,Lt=dt+-1|0,sr=(_|0)>0;t:do if(sr){if(Nt=((_|0)<0)<<31>>31,wt=Xt(Lt|0,0,52)|0,Tt=qe()|0,Lt>>>0>15)for(k=0,A=ce,v=I;;){if(!((A|0)==0&(v|0)==0)){if(O=ht(A|0,v|0,52)|0,qe()|0,O=O&15,B=(O|0)<(Lt|0),O=(O|0)==(Lt|0),re=B?0:O?A:0,A=B?0:O?v:0,v=Gt(re|0,A|0,_|0,Nt|0)|0,qe()|0,O=Ke+(v<<3)|0,B=O,G=h[B>>2]|0,B=h[B+4>>2]|0,(G|0)==0&(B|0)==0)v=re;else for(wt=0,it=v,We=B,v=re;;){if((wt|0)>(_|0)){Wt=41;break e}if((G|0)==(v|0)&(We&-117440513|0)==(A|0)){re=ht(G|0,We|0,56)|0,qe()|0,re=re&7,De=re+1|0,Tt=ht(G|0,We|0,45)|0,qe()|0;r:do if(!(ci(Tt&127)|0))B=7;else{if(G=ht(G|0,We|0,52)|0,qe()|0,G=G&15,!G){B=6;break}for(B=1;;){if(Tt=Xt(7,0,(15-B|0)*3|0)|0,!((Tt&v|0)==0&((qe()|0)&A|0)==0)){B=7;break r}if(B>>>0<G>>>0)B=B+1|0;else{B=6;break}}}while(0);if((re+2|0)>>>0>B>>>0){Wt=51;break e}Tt=Xt(De|0,0,56)|0,A=qe()|0|A&-117440513,B=O,h[B>>2]=0,h[B+4>>2]=0,B=it,v=Tt|v}else B=(it+1|0)%(_|0)|0;if(O=Ke+(B<<3)|0,We=O,G=h[We>>2]|0,We=h[We+4>>2]|0,(G|0)==0&(We|0)==0)break;wt=wt+1|0,it=B}Tt=O,h[Tt>>2]=v,h[Tt+4>>2]=A}if(k=k+1|0,(k|0)>=(_|0))break t;v=_r+(k<<3)|0,A=h[v>>2]|0,v=h[v+4>>2]|0}for(k=0,A=ce,v=I;;){if(!((A|0)==0&(v|0)==0)){if(B=ht(A|0,v|0,52)|0,qe()|0,B=B&15,(B|0)>=(Lt|0)){if((B|0)!=(Lt|0)&&(A=A|wt,v=v&-15728641|Tt,B>>>0>=dt>>>0)){O=Lt;do it=Xt(7,0,(14-O|0)*3|0)|0,O=O+1|0,A=it|A,v=qe()|0|v;while(O>>>0<B>>>0)}}else A=0,v=0;if(B=Gt(A|0,v|0,_|0,Nt|0)|0,qe()|0,O=Ke+(B<<3)|0,G=O,re=h[G>>2]|0,G=h[G+4>>2]|0,!((re|0)==0&(G|0)==0))for(it=0;;){if((it|0)>(_|0)){Wt=41;break e}if((re|0)==(A|0)&(G&-117440513|0)==(v|0)){De=ht(re|0,G|0,56)|0,qe()|0,De=De&7,We=De+1|0,c=ht(re|0,G|0,45)|0,qe()|0;r:do if(!(ci(c&127)|0))G=7;else{if(re=ht(re|0,G|0,52)|0,qe()|0,re=re&15,!re){G=6;break}for(G=1;;){if(c=Xt(7,0,(15-G|0)*3|0)|0,!((c&A|0)==0&((qe()|0)&v|0)==0)){G=7;break r}if(G>>>0<re>>>0)G=G+1|0;else{G=6;break}}}while(0);if((De+2|0)>>>0>G>>>0){Wt=51;break e}c=Xt(We|0,0,56)|0,v=qe()|0|v&-117440513,We=O,h[We>>2]=0,h[We+4>>2]=0,A=c|A}else B=(B+1|0)%(_|0)|0;if(O=Ke+(B<<3)|0,G=O,re=h[G>>2]|0,G=h[G+4>>2]|0,(re|0)==0&(G|0)==0)break;it=it+1|0}c=O,h[c>>2]=A,h[c+4>>2]=v}if(k=k+1|0,(k|0)>=(_|0))break t;v=_r+(k<<3)|0,A=h[v>>2]|0,v=h[v+4>>2]|0}}while(0);if((_+5|0)>>>0<11){Wt=99;break}if(Tt=zo((_|0)/6|0,8)|0,!Tt){Wt=58;break}t:do if(sr){it=0,We=0;do{if(B=Ke+(it<<3)|0,A=B,k=h[A>>2]|0,A=h[A+4>>2]|0,!((k|0)==0&(A|0)==0)){G=ht(k|0,A|0,56)|0,qe()|0,G=G&7,v=G+1|0,re=A&-117440513,c=ht(k|0,A|0,45)|0,qe()|0;r:do if(ci(c&127)|0){if(De=ht(k|0,A|0,52)|0,qe()|0,De=De&15,De|0)for(O=1;;){if(c=Xt(7,0,(15-O|0)*3|0)|0,!((k&c|0)==0&(re&(qe()|0)|0)==0))break r;if(O>>>0<De>>>0)O=O+1|0;else break}A=Xt(v|0,0,56)|0,k=A|k,A=qe()|0|re,v=B,h[v>>2]=k,h[v+4>>2]=A,v=G+2|0}while(0);(v|0)==7&&(c=Tt+(We<<3)|0,h[c>>2]=k,h[c+4>>2]=A&-117440513,We=We+1|0)}it=it+1|0}while((it|0)!=(_|0));if(sr){if(wt=((_|0)<0)<<31>>31,De=Xt(Lt|0,0,52)|0,it=qe()|0,Lt>>>0>15)for(A=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){for(G=ht(ce|0,I|0,52)|0,qe()|0,G=G&15,O=(G|0)<(Lt|0),G=(G|0)==(Lt|0),B=O?0:G?ce:0,G=O?0:G?I:0,O=Gt(B|0,G|0,_|0,wt|0)|0,qe()|0,v=0;;){if((v|0)>(_|0)){Wt=98;break e}if(c=Ke+(O<<3)|0,re=h[c+4>>2]|0,(re&-117440513|0)==(G|0)&&(h[c>>2]|0)==(B|0)){Wt=70;break}if(O=(O+1|0)%(_|0)|0,c=Ke+(O<<3)|0,(h[c>>2]|0)==(B|0)&&(h[c+4>>2]|0)==(G|0))break;v=v+1|0}if((Wt|0)==70&&(Wt=0,!0&(re&117440512|0)==100663296))break;c=m+(k<<3)|0,h[c>>2]=ce,h[c+4>>2]=I,k=k+1|0}while(0);if(A=A+1|0,(A|0)>=(_|0)){_=We;break t}I=_r+(A<<3)|0,ce=h[I>>2]|0,I=h[I+4>>2]|0}for(A=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){if(G=ht(ce|0,I|0,52)|0,qe()|0,G=G&15,(G|0)>=(Lt|0))if((G|0)!=(Lt|0))if(v=ce|De,O=I&-15728641|it,G>>>0<dt>>>0)G=O;else{B=Lt;do c=Xt(7,0,(14-B|0)*3|0)|0,B=B+1|0,v=c|v,O=qe()|0|O;while(B>>>0<G>>>0);G=O}else v=ce,G=I;else v=0,G=0;for(B=Gt(v|0,G|0,_|0,wt|0)|0,qe()|0,O=0;;){if((O|0)>(_|0)){Wt=98;break e}if(c=Ke+(B<<3)|0,re=h[c+4>>2]|0,(re&-117440513|0)==(G|0)&&(h[c>>2]|0)==(v|0)){Wt=93;break}if(B=(B+1|0)%(_|0)|0,c=Ke+(B<<3)|0,(h[c>>2]|0)==(v|0)&&(h[c+4>>2]|0)==(G|0))break;O=O+1|0}if((Wt|0)==93&&(Wt=0,!0&(re&117440512|0)==100663296))break;c=m+(k<<3)|0,h[c>>2]=ce,h[c+4>>2]=I,k=k+1|0}while(0);if(A=A+1|0,(A|0)>=(_|0)){_=We;break t}I=_r+(A<<3)|0,ce=h[I>>2]|0,I=h[I+4>>2]|0}}else k=0,_=We}else k=0,_=0;while(0);if($i(Ke|0,0,vr|0)|0,No(_r|0,Tt|0,_<<3|0)|0,Fr(Tt),_)m=m+(k<<3)|0;else break}return(Wt|0)==41?(Fr(_r),Fr(Ke),c=-1,c|0):(Wt|0)==51?(Fr(_r),Fr(Ke),c=-2,c|0):(Wt|0)==58?(Fr(_r),Fr(Ke),c=-3,c|0):(Wt|0)==98?(Fr(Tt),Fr(_r),Fr(Ke),c=-1,c|0):((Wt|0)==99&&No(m|0,_r|0,_<<3|0)|0,Fr(_r),Fr(Ke),c=0,c|0)}function dl(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0;if((m|0)<=0)return k=0,k|0;if((k|0)>=16){for(O=0;;){if(ce=A+(O<<3)|0,!((h[ce>>2]|0)==0&(h[ce+4>>2]|0)==0)){O=14;break}if(O=O+1|0,(O|0)>=(m|0)){I=0,O=16;break}}if((O|0)==14)return((_|0)>0?-2:-1)|0;if((O|0)==16)return I|0}O=0,ce=0;e:for(;;){re=A+(ce<<3)|0,B=re,I=h[B>>2]|0,B=h[B+4>>2]|0;do if(!((I|0)==0&(B|0)==0)){if((O|0)>=(_|0)){I=-1,O=16;break e}if(G=ht(I|0,B|0,52)|0,qe()|0,G=G&15,(G|0)>(k|0)){I=-2,O=16;break e}if((G|0)==(k|0)){re=v+(O<<3)|0,h[re>>2]=I,h[re+4>>2]=B,O=O+1|0;break}if(I=(ho(7,k-G|0)|0)+O|0,(I|0)>(_|0)){I=-1,O=16;break e}Ao(h[re>>2]|0,h[re+4>>2]|0,k,v+(O<<3)|0),O=I}while(0);if(ce=ce+1|0,(ce|0)>=(m|0)){I=0,O=16;break}}return(O|0)==16?I|0:0}function du(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if((m|0)<=0)return v=0,v|0;if((v|0)>=16){for(_=0;;){if(I=A+(_<<3)|0,!((h[I>>2]|0)==0&(h[I+4>>2]|0)==0)){_=-1,k=13;break}if(_=_+1|0,(_|0)>=(m|0)){_=0,k=13;break}}if((k|0)==13)return _|0}_=0,I=0;e:for(;;){k=A+(I<<3)|0,O=h[k>>2]|0,k=h[k+4>>2]|0;do if(!((O|0)==0&(k|0)==0)){if(k=ht(O|0,k|0,52)|0,qe()|0,k=k&15,(k|0)>(v|0)){_=-1,k=13;break e}if((k|0)==(v|0)){_=_+1|0;break}else{_=(ho(7,v-k|0)|0)+_|0;break}}while(0);if(I=I+1|0,(I|0)>=(m|0)){k=13;break}}return(k|0)==13?_|0:0}function ic(A,m){return A=A|0,m=m|0,m=ht(A|0,m|0,52)|0,qe()|0,m&1|0}function Si(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(k=ht(A|0,m|0,52)|0,qe()|0,k=k&15,!k)return k=0,k|0;for(_=1;;){if(v=ht(A|0,m|0,(15-_|0)*3|0)|0,qe()|0,v=v&7,v|0){_=5;break}if(_>>>0<k>>>0)_=_+1|0;else{v=0,_=5;break}}return(_|0)==5?v|0:0}function ml(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(G=ht(A|0,m|0,52)|0,qe()|0,G=G&15,!G)return B=m,G=A,Kt(B|0),G|0;for(B=1,v=0;;){O=(15-B|0)*3|0,_=Xt(7,0,O|0)|0,k=qe()|0,I=ht(A|0,m|0,O|0)|0,qe()|0,O=Xt($s(I&7)|0,0,O|0)|0,I=qe()|0,A=O|A&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=ht(A|0,m|0,(15-v|0)*3|0)|0,qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(I=(15-v|0)*3|0,k=ht(A|0,m|0,I|0)|0,qe()|0,O=Xt(7,0,I|0)|0,m=m&~(qe()|0),I=Xt($s(k&7)|0,0,I|0)|0,A=A&~O|I,m=m|(qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return Kt(m|0),A|0}function Es(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,!_)return v=m,_=A,Kt(v|0),_|0;for(v=1;O=(15-v|0)*3|0,I=ht(A|0,m|0,O|0)|0,qe()|0,k=Xt(7,0,O|0)|0,m=m&~(qe()|0),O=Xt($s(I&7)|0,0,O|0)|0,A=O|A&~k,m=qe()|0|m,v>>>0<_>>>0;)v=v+1|0;return Kt(m|0),A|0}function ks(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(G=ht(A|0,m|0,52)|0,qe()|0,G=G&15,!G)return B=m,G=A,Kt(B|0),G|0;for(B=1,v=0;;){O=(15-B|0)*3|0,_=Xt(7,0,O|0)|0,k=qe()|0,I=ht(A|0,m|0,O|0)|0,qe()|0,O=Xt(Ti(I&7)|0,0,O|0)|0,I=qe()|0,A=O|A&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=ht(A|0,m|0,(15-v|0)*3|0)|0,qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(k=(15-v|0)*3|0,O=Xt(7,0,k|0)|0,I=m&~(qe()|0),m=ht(A|0,m|0,k|0)|0,qe()|0,m=Xt(Ti(m&7)|0,0,k|0)|0,A=A&~O|m,m=I|(qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return Kt(m|0),A|0}function ja(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,!_)return v=m,_=A,Kt(v|0),_|0;for(v=1;I=(15-v|0)*3|0,O=Xt(7,0,I|0)|0,k=m&~(qe()|0),m=ht(A|0,m|0,I|0)|0,qe()|0,m=Xt(Ti(m&7)|0,0,I|0)|0,A=m|A&~O,m=qe()|0|k,v>>>0<_>>>0;)v=v+1|0;return Kt(m|0),A|0}function oc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0;if(G=Re,Re=Re+64|0,B=G+40|0,_=G+24|0,k=G+12|0,O=G,Xt(m|0,0,52)|0,v=qe()|0|134225919,!m)return(h[A+4>>2]|0)>2||(h[A+8>>2]|0)>2||(h[A+12>>2]|0)>2?(I=0,B=0,Kt(I|0),Re=G,B|0):(Xt(If(A)|0,0,45)|0,I=qe()|0|v,B=-1,Kt(I|0),Re=G,B|0);if(h[B>>2]=h[A>>2],h[B+4>>2]=h[A+4>>2],h[B+8>>2]=h[A+8>>2],h[B+12>>2]=h[A+12>>2],I=B+4|0,(m|0)>0)for(A=-1;h[_>>2]=h[I>>2],h[_+4>>2]=h[I+4>>2],h[_+8>>2]=h[I+8>>2],m&1?(Mp(I),h[k>>2]=h[I>>2],h[k+4>>2]=h[I+4>>2],h[k+8>>2]=h[I+8>>2],ll(k)):(ul(I),h[k>>2]=h[I>>2],h[k+4>>2]=h[I+4>>2],h[k+8>>2]=h[I+8>>2],yi(k)),sl(_,k,O),qr(O),ce=(15-m|0)*3|0,re=Xt(7,0,ce|0)|0,v=v&~(qe()|0),ce=Xt($c(O)|0,0,ce|0)|0,A=ce|A&~re,v=qe()|0|v,(m|0)>1;)m=m+-1|0;else A=-1;e:do if((h[I>>2]|0)<=2&&(h[B+8>>2]|0)<=2&&(h[B+12>>2]|0)<=2){if(_=If(B)|0,m=Xt(_|0,0,45)|0,m=m|A,A=qe()|0|v&-1040385,O=QA(B)|0,!(ci(_)|0)){if((O|0)<=0)break;for(k=0;;){if(_=ht(m|0,A|0,52)|0,qe()|0,_=_&15,_)for(v=1;ce=(15-v|0)*3|0,B=ht(m|0,A|0,ce|0)|0,qe()|0,re=Xt(7,0,ce|0)|0,A=A&~(qe()|0),ce=Xt($s(B&7)|0,0,ce|0)|0,m=m&~re|ce,A=A|(qe()|0),v>>>0<_>>>0;)v=v+1|0;if(k=k+1|0,(k|0)==(O|0))break e}}k=ht(m|0,A|0,52)|0,qe()|0,k=k&15;t:do if(k){v=1;r:for(;;){switch(ce=ht(m|0,A|0,(15-v|0)*3|0)|0,qe()|0,ce&7){case 1:break r;case 0:break;default:break t}if(v>>>0<k>>>0)v=v+1|0;else break t}if(Xl(_,h[B>>2]|0)|0)for(v=1;B=(15-v|0)*3|0,re=Xt(7,0,B|0)|0,ce=A&~(qe()|0),A=ht(m|0,A|0,B|0)|0,qe()|0,A=Xt(Ti(A&7)|0,0,B|0)|0,m=m&~re|A,A=ce|(qe()|0),v>>>0<k>>>0;)v=v+1|0;else for(v=1;ce=(15-v|0)*3|0,B=ht(m|0,A|0,ce|0)|0,qe()|0,re=Xt(7,0,ce|0)|0,A=A&~(qe()|0),ce=Xt($s(B&7)|0,0,ce|0)|0,m=m&~re|ce,A=A|(qe()|0),v>>>0<k>>>0;)v=v+1|0}while(0);if((O|0)>0){v=0;do m=ml(m,A)|0,A=qe()|0,v=v+1|0;while((v|0)!=(O|0))}}else m=0,A=0;while(0);return re=A,ce=m,Kt(re|0),Re=G,ce|0}function Yo(A){return A=A|0,(A|0)%2|0|0}function Dp(A,m){A=A|0,m=m|0;var v=0,_=0;return _=Re,Re=Re+16|0,v=_,m>>>0<=15&&(h[A+4>>2]&2146435072|0)!=2146435072&&(h[A+8+4>>2]&2146435072|0)!=2146435072?(Nu(A,m,v),m=oc(v,m)|0,A=qe()|0):(A=0,m=0),Kt(A|0),Re=_,m|0}function us(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(k=v+4|0,O=ht(A|0,m|0,52)|0,qe()|0,O=O&15,I=ht(A|0,m|0,45)|0,qe()|0,_=(O|0)==0,ci(I&127)|0){if(_)return I=1,I|0;_=1}else{if(_)return I=0,I|0;(h[k>>2]|0)==0&&(h[v+8>>2]|0)==0?_=(h[v+12>>2]|0)!=0&1:_=1}for(v=1;v&1?ll(k):yi(k),I=ht(A|0,m|0,(15-v|0)*3|0)|0,qe()|0,cl(k,I&7),v>>>0<O>>>0;)v=v+1|0;return _|0}function fa(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0;ce=Re,Re=Re+16|0,G=ce,re=ht(A|0,m|0,45)|0,qe()|0,re=re&127;e:do if((ci(re)|0)!=0&&(O=ht(A|0,m|0,52)|0,qe()|0,O=O&15,(O|0)!=0)){_=1;t:for(;;){switch(B=ht(A|0,m|0,(15-_|0)*3|0)|0,qe()|0,B&7){case 5:break t;case 0:break;default:{_=m;break e}}if(_>>>0<O>>>0)_=_+1|0;else{_=m;break e}}for(k=1,_=m;m=(15-k|0)*3|0,I=Xt(7,0,m|0)|0,B=_&~(qe()|0),_=ht(A|0,_|0,m|0)|0,qe()|0,_=Xt(Ti(_&7)|0,0,m|0)|0,A=A&~I|_,_=B|(qe()|0),k>>>0<O>>>0;)k=k+1|0}else _=m;while(0);if(B=7728+(re*28|0)|0,h[v>>2]=h[B>>2],h[v+4>>2]=h[B+4>>2],h[v+8>>2]=h[B+8>>2],h[v+12>>2]=h[B+12>>2],!(us(A,_,v)|0)){Re=ce;return}if(I=v+4|0,h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],O=ht(A|0,_|0,52)|0,qe()|0,B=O&15,O&1?(yi(I),O=B+1|0):O=B,!(ci(re)|0))_=0;else{e:do if(!B)_=0;else for(m=1;;){if(k=ht(A|0,_|0,(15-m|0)*3|0)|0,qe()|0,k=k&7,k|0){_=k;break e}if(m>>>0<B>>>0)m=m+1|0;else{_=0;break}}while(0);_=(_|0)==4&1}if(!(Dn(v,O,_,0)|0))(O|0)!=(B|0)&&(h[I>>2]=h[G>>2],h[I+4>>2]=h[G+4>>2],h[I+8>>2]=h[G+8>>2]);else{if(ci(re)|0)do;while((Dn(v,O,0,0)|0)!=0);(O|0)!=(B|0)&&ul(I)}Re=ce}function ls(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,fa(A,m,k),m=ht(A|0,m|0,52)|0,qe()|0,fu(k,m&15,v),Re=_}function Qs(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;I=Re,Re=Re+16|0,O=I,fa(A,m,O),_=ht(A|0,m|0,45)|0,qe()|0,_=(ci(_&127)|0)==0,k=ht(A|0,m|0,52)|0,qe()|0,k=k&15;e:do if(!_){if(k|0)for(_=1;;){if(B=Xt(7,0,(15-_|0)*3|0)|0,!((B&A|0)==0&((qe()|0)&m|0)==0))break e;if(_>>>0<k>>>0)_=_+1|0;else break}Xo(O,k,0,5,v),Re=I;return}while(0);Ua(O,k,0,6,v),Re=I}function Fp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(_=ht(A|0,m|0,45)|0,qe()|0,!(ci(_&127)|0))return _=2,_|0;if(_=ht(A|0,m|0,52)|0,qe()|0,_=_&15,!_)return _=5,_|0;for(v=1;;){if(k=Xt(7,0,(15-v|0)*3|0)|0,!((k&A|0)==0&((qe()|0)&m|0)==0)){v=2,A=6;break}if(v>>>0<_>>>0)v=v+1|0;else{v=5,A=6;break}}return(A|0)==6?v|0:0}function Df(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0;De=Re,Re=Re+128|0,re=De+112|0,O=De+96|0,ce=De,k=ht(A|0,m|0,52)|0,qe()|0,B=k&15,h[re>>2]=B,I=ht(A|0,m|0,45)|0,qe()|0,I=I&127;e:do if(ci(I)|0){if(B|0)for(_=1;;){if(G=Xt(7,0,(15-_|0)*3|0)|0,!((G&A|0)==0&((qe()|0)&m|0)==0)){k=0;break e}if(_>>>0<B>>>0)_=_+1|0;else break}if(k&1)k=1;else{G=Xt(B+1|0,0,52)|0,ce=qe()|0|m&-15728641,re=Xt(7,0,(14-B|0)*3|0)|0,Df((G|A)&~re,ce&~(qe()|0),v),Re=De;return}}else k=0;while(0);fa(A,m,O),k?(pl(O,re,ce),G=5):(Jl(O,re,ce),G=6);e:do if(ci(I)|0)if(!B)_=20;else for(_=1;;){if(I=Xt(7,0,(15-_|0)*3|0)|0,!((I&A|0)==0&((qe()|0)&m|0)==0)){_=8;break e}if(_>>>0<B>>>0)_=_+1|0;else{_=20;break}}else _=8;while(0);if($i(v|0,-1,_|0)|0,k){k=0;do{for(O=ce+(k<<4)|0,ei(O,h[re>>2]|0)|0,O=h[O>>2]|0,_=0;I=v+(_<<2)|0,B=h[I>>2]|0,!((B|0)==-1|(B|0)==(O|0));)_=_+1|0;h[I>>2]=O,k=k+1|0}while((k|0)!=(G|0))}else{k=0;do{for(O=ce+(k<<4)|0,Dn(O,h[re>>2]|0,0,1)|0,O=h[O>>2]|0,_=0;I=v+(_<<2)|0,B=h[I>>2]|0,!((B|0)==-1|(B|0)==(O|0));)_=_+1|0;h[I>>2]=O,k=k+1|0}while((k|0)!=(G|0))}Re=De}function Kc(){return 12}function gl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(Xt(A|0,0,52)|0,B=qe()|0|134225919,(A|0)<1){_=0,v=0;do ci(_)|0&&(Xt(_|0,0,45)|0,I=B|(qe()|0),A=m+(v<<3)|0,h[A>>2]=-1,h[A+4>>2]=I,v=v+1|0),_=_+1|0;while((_|0)!=122);return}I=0,v=0;do{if(ci(I)|0){for(Xt(I|0,0,45)|0,_=1,k=-1,O=B|(qe()|0);G=Xt(7,0,(15-_|0)*3|0)|0,k=k&~G,O=O&~(qe()|0),(_|0)!=(A|0);)_=_+1|0;G=m+(v<<3)|0,h[G>>2]=k,h[G+4>>2]=O,v=v+1|0}I=I+1|0}while((I|0)!=122)}function Ws(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0;if(B=Re,Re=Re+64|0,I=B,(A|0)==(v|0)&(m|0)==(_|0)|(!1|(m&2013265920|0)!=134217728|(!1|(_&2013265920|0)!=134217728))||(k=ht(A|0,m|0,52)|0,qe()|0,k=k&15,O=ht(v|0,_|0,52)|0,qe()|0,(k|0)!=(O&15|0)))return I=0,Re=B,I|0;if(O=k+-1|0,k>>>0>1&&(re=hu(A,m,O)|0,G=qe()|0,O=hu(v,_,O)|0,(re|0)==(O|0)&(G|0)==(qe()|0))&&(O=(k^15)*3|0,k=ht(A|0,m|0,O|0)|0,qe()|0,k=k&7,O=ht(v|0,_|0,O|0)|0,qe()|0,O=O&7,(k|0)==0|(O|0)==0||(h[21136+(k<<2)>>2]|0)==(O|0)||(h[21168+(k<<2)>>2]|0)==(O|0)))return re=1,Re=B,re|0;k=I,O=k+56|0;do h[k>>2]=0,k=k+4|0;while((k|0)<(O|0));return Zo(A,m,1,I),re=I,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0))&&(re=I+8|0,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0)))&&(re=I+16|0,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0)))&&(re=I+24|0,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0)))&&(re=I+32|0,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0)))&&(re=I+40|0,!((h[re>>2]|0)==(v|0)&&(h[re+4>>2]|0)==(_|0)))?(k=I+48|0,k=((h[k>>2]|0)==(v|0)?(h[k+4>>2]|0)==(_|0):0)&1):k=1,re=k,Re=B,re|0}function rt(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0;if(re=Re,Re=Re+16|0,I=re,!(Ws(A,m,v,_)|0))return B=0,G=0,Kt(B|0),Re=re,G|0;for(B=m&-2130706433,k=(Ui(A,m)|0)==0,k=k?1:2;h[I>>2]=0,ce=ki(A,m,k,I)|0,O=k+1|0,!((ce|0)==(v|0)&(qe()|0)==(_|0));)if(O>>>0<7)k=O;else{k=0,A=0,G=6;break}return(G|0)==6?(Kt(k|0),Re=re,A|0):(ce=Xt(k|0,0,56)|0,G=B|(qe()|0)|268435456,ce=A|ce,Kt(G|0),Re=re,ce|0)}function Ot(A,m){A=A|0,m=m|0;var v=0;return v=!0&(m&2013265920|0)==268435456,Kt((v?m&-2130706433|134217728:0)|0),(v?A:0)|0}function vt(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return _=Re,Re=Re+16|0,v=_,!0&(m&2013265920|0)==268435456?(k=ht(A|0,m|0,56)|0,qe()|0,h[v>>2]=0,v=ki(A,m&-2130706433|134217728,k&7,v)|0,m=qe()|0,Kt(m|0),Re=_,v|0):(m=0,v=0,Kt(m|0),Re=_,v|0)}function Vt(A,m){A=A|0,m=m|0;var v=0;if(!(!0&(m&2013265920|0)==268435456))return v=0,v|0;switch(v=ht(A|0,m|0,56)|0,qe()|0,v&7){case 0:case 7:return v=0,v|0}return v=m&-2130706433|134217728,!0&(m&117440512|0)==16777216&(Ui(A,v)|0)!=0?(v=0,v|0):(v=hl(A,v)|0,v|0)}function Yr(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;O=Re,Re=Re+16|0,_=O,I=!0&(m&2013265920|0)==268435456,k=m&-2130706433|134217728,B=v,h[B>>2]=I?A:0,h[B+4>>2]=I?k:0,I?(m=ht(A|0,m|0,56)|0,qe()|0,h[_>>2]=0,A=ki(A,k,m&7,_)|0,m=qe()|0):(A=0,m=0),B=v+8|0,h[B>>2]=A,h[B+4>>2]=m,Re=O}function bn(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;k=(Ui(A,m)|0)==0,m=m&-2130706433,_=v,h[_>>2]=k?A:0,h[_+4>>2]=k?m|285212672:0,_=v+8|0,h[_>>2]=A,h[_+4>>2]=m|301989888,_=v+16|0,h[_>>2]=A,h[_+4>>2]=m|318767104,_=v+24|0,h[_>>2]=A,h[_+4>>2]=m|335544320,_=v+32|0,h[_>>2]=A,h[_+4>>2]=m|352321536,v=v+40|0,h[v>>2]=A,h[v+4>>2]=m|369098752}function ti(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;if(I=Re,Re=Re+16|0,O=I,_=ht(A|0,m|0,56)|0,qe()|0,B=!0&(m&2013265920|0)==268435456,k=B?A:0,A=B?m&-2130706433|134217728:0,m=Bf(k,A,_&7)|0,(m|0)==-1){h[v>>2]=0,Re=I;return}fa(k,A,O),_=ht(k|0,A|0,52)|0,qe()|0,_=_&15,Ui(k,A)|0?Xo(O,_,m,2,v):Ua(O,_,m,2,v),Re=I}function Mr(A){A=A|0;var m=0,v=0,_=0;return m=zo(1,12)|0,m||xr(22691,22646,49,22704),v=A+4|0,_=h[v>>2]|0,_|0?(_=_+8|0,h[_>>2]=m,h[v>>2]=m,m|0):(h[A>>2]|0&&xr(22721,22646,61,22744),_=A,h[_>>2]=m,h[v>>2]=m,m|0)}function sn(A,m){A=A|0,m=m|0;var v=0,_=0;return _=Pi(24)|0,_||xr(22758,22646,78,22772),h[_>>2]=h[m>>2],h[_+4>>2]=h[m+4>>2],h[_+8>>2]=h[m+8>>2],h[_+12>>2]=h[m+12>>2],h[_+16>>2]=0,m=A+4|0,v=h[m>>2]|0,v|0?(h[v+16>>2]=_,h[m>>2]=_,_|0):(h[A>>2]|0&&xr(22787,22646,82,22772),h[A>>2]=_,h[m>>2]=_,_|0)}function $u(A){A=A|0;var m=0,v=0,_=0,k=0;if(!!A)for(_=1;;){if(m=h[A>>2]|0,m|0)do{if(v=h[m>>2]|0,v|0)do k=v,v=h[v+16>>2]|0,Fr(k);while((v|0)!=0);k=m,m=h[m+8>>2]|0,Fr(k)}while((m|0)!=0);if(m=A,A=h[A+8>>2]|0,_||Fr(m),A)_=0;else break}}function ji(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(k=A+8|0,h[k>>2]|0)return q=1,q|0;if(_=h[A>>2]|0,!_)return q=0,q|0;m=_,v=0;do v=v+1|0,m=h[m+8>>2]|0;while((m|0)!=0);if(v>>>0<2)return q=0,q|0;D=Pi(v<<2)|0,D||xr(22807,22646,317,22826),M=Pi(v<<5)|0,M||xr(22848,22646,321,22826),h[A>>2]=0,_r=A+4|0,h[_r>>2]=0,h[k>>2]=0,v=0,E=0,vr=0,De=0;e:for(;;){if(ce=h[_>>2]|0,ce){O=0,I=ce;do{if(G=+ye[I+8>>3],m=I,I=h[I+16>>2]|0,re=(I|0)==0,k=re?ce:I,B=+ye[k+8>>3],+lt(+(G-B))>3.141592653589793){q=14;break}O=O+(B-G)*(+ye[m>>3]+ +ye[k>>3])}while(!re);if((q|0)==14){q=0,O=0,m=ce;do Ke=+ye[m+8>>3],y=m+16|0,f=h[y>>2]|0,f=(f|0)==0?ce:f,Lt=+ye[f+8>>3],O=O+(+ye[m>>3]+ +ye[f>>3])*((Lt<0?Lt+6.283185307179586:Lt)-(Ke<0?Ke+6.283185307179586:Ke)),m=h[((m|0)==0?_:y)>>2]|0;while((m|0)!=0)}O>0?(h[D+(E<<2)>>2]=_,E=E+1|0,k=vr,m=De):q=19}else q=19;if((q|0)==19){q=0;do if(v){if(m=v+8|0,h[m>>2]|0){q=21;break e}if(v=zo(1,12)|0,!v){q=23;break e}h[m>>2]=v,k=v+4|0,I=v,m=De}else if(De){k=_r,I=De+8|0,m=_,v=A;break}else if(h[A>>2]|0){q=27;break e}else{k=_r,I=A,m=_,v=A;break}while(0);if(h[I>>2]=_,h[k>>2]=_,I=M+(vr<<5)|0,re=h[_>>2]|0,re){for(ce=M+(vr<<5)+8|0,ye[ce>>3]=17976931348623157e292,De=M+(vr<<5)+24|0,ye[De>>3]=17976931348623157e292,ye[I>>3]=-17976931348623157e292,We=M+(vr<<5)+16|0,ye[We>>3]=-17976931348623157e292,sr=17976931348623157e292,dt=-17976931348623157e292,k=0,it=re,G=17976931348623157e292,Tt=17976931348623157e292,Nt=-17976931348623157e292,B=-17976931348623157e292;O=+ye[it>>3],Ke=+ye[it+8>>3],it=h[it+16>>2]|0,wt=(it|0)==0,Lt=+ye[(wt?re:it)+8>>3],O<G&&(ye[ce>>3]=O,G=O),Ke<Tt&&(ye[De>>3]=Ke,Tt=Ke),O>Nt?ye[I>>3]=O:O=Nt,Ke>B&&(ye[We>>3]=Ke,B=Ke),sr=Ke>0&Ke<sr?Ke:sr,dt=Ke<0&Ke>dt?Ke:dt,k=k|+lt(+(Ke-Lt))>3.141592653589793,!wt;)Nt=O;k&&(ye[We>>3]=dt,ye[De>>3]=sr)}else h[I>>2]=0,h[I+4>>2]=0,h[I+8>>2]=0,h[I+12>>2]=0,h[I+16>>2]=0,h[I+20>>2]=0,h[I+24>>2]=0,h[I+28>>2]=0;k=vr+1|0}if(y=_+8|0,_=h[y>>2]|0,h[y>>2]=0,_)vr=k,De=m;else{q=45;break}}if((q|0)==21)xr(22624,22646,35,22658);else if((q|0)==23)xr(22678,22646,37,22658);else if((q|0)==27)xr(22721,22646,61,22744);else if((q|0)==45){e:do if((E|0)>0){for(y=(k|0)==0,p=k<<2,f=(A|0)==0,c=0,m=0;;){if(Wt=h[D+(c<<2)>>2]|0,y)q=73;else{if(vr=Pi(p)|0,!vr){q=50;break}if(_r=Pi(p)|0,!_r){q=52;break}t:do if(f)v=0;else{for(k=0,v=0,I=A;_=M+(k<<5)|0,yl(h[I>>2]|0,_,h[Wt>>2]|0)|0?(h[vr+(v<<2)>>2]=I,h[_r+(v<<2)>>2]=_,wt=v+1|0):wt=v,I=h[I+8>>2]|0,I;)k=k+1|0,v=wt;if((wt|0)>0)if(_=h[vr>>2]|0,(wt|0)==1)v=_;else for(We=0,it=-1,v=_,De=_;;){for(re=h[De>>2]|0,_=0,I=0;k=h[h[vr+(I<<2)>>2]>>2]|0,(k|0)==(re|0)?ce=_:ce=_+((yl(k,h[_r+(I<<2)>>2]|0,h[re>>2]|0)|0)&1)|0,I=I+1|0,(I|0)!=(wt|0);)_=ce;if(k=(ce|0)>(it|0),v=k?De:v,_=We+1|0,(_|0)==(wt|0))break t;We=_,it=k?ce:it,De=h[vr+(_<<2)>>2]|0}else v=0}while(0);if(Fr(vr),Fr(_r),v){if(k=v+4|0,_=h[k>>2]|0,_)v=_+8|0;else if(h[v>>2]|0){q=70;break}h[v>>2]=Wt,h[k>>2]=Wt}else q=73}if((q|0)==73){if(q=0,m=h[Wt>>2]|0,m|0)do _r=m,m=h[m+16>>2]|0,Fr(_r);while((m|0)!=0);Fr(Wt),m=2}if(c=c+1|0,(c|0)>=(E|0)){U=m;break e}}(q|0)==50?xr(22863,22646,249,22882):(q|0)==52?xr(22901,22646,252,22882):(q|0)==70&&xr(22721,22646,61,22744)}else U=0;while(0);return Fr(D),Fr(M),q=U,q|0}return 0}function yl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0;if(!(lu(m,v)|0)||(m=Ko(m)|0,re=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,A=h[A>>2]|0,!A))return A=0,A|0;if(m){m=0,v=A;e:for(;;){for(;I=+ye[v>>3],G=+ye[v+8>>3],v=v+16|0,ce=h[v>>2]|0,ce=(ce|0)==0?A:ce,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(re<O|re>B);)if(v=h[v>>2]|0,!v){v=22;break e}if(G=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|G==_?_+-2220446049250313e-31:_,G=G+(re-O)/(B-O)*(I-G),(G<0?G+6.283185307179586:G)>_&&(m=m^1),v=h[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}else{m=0,v=A;e:for(;;){for(;I=+ye[v>>3],G=+ye[v+8>>3],v=v+16|0,ce=h[v>>2]|0,ce=(ce|0)==0?A:ce,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(re<O|re>B);)if(v=h[v>>2]|0,!v){v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(re-O)/(B-O)*(I-k)>_&&(m=m^1),v=h[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}return 0}function xa(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0;if(dt=Re,Re=Re+32|0,sr=dt+16|0,Nt=dt,O=ht(A|0,m|0,52)|0,qe()|0,O=O&15,it=ht(v|0,_|0,52)|0,qe()|0,(O|0)!=(it&15|0))return sr=1,Re=dt,sr|0;if(re=ht(A|0,m|0,45)|0,qe()|0,re=re&127,ce=ht(v|0,_|0,45)|0,qe()|0,ce=ce&127,it=(re|0)!=(ce|0),it){if(B=Nc(re,ce)|0,(B|0)==7)return sr=2,Re=dt,sr|0;G=Nc(ce,re)|0,(G|0)==7?xr(22925,22949,151,22959):(wt=B,I=G)}else wt=0,I=0;De=ci(re)|0,We=ci(ce)|0,h[sr>>2]=0,h[sr+4>>2]=0,h[sr+8>>2]=0,h[sr+12>>2]=0;do if(wt){if(ce=h[4304+(re*28|0)+(wt<<2)>>2]|0,B=(ce|0)>0,We)if(B){re=0,G=v,B=_;do G=ks(G,B)|0,B=qe()|0,I=Ti(I)|0,(I|0)==1&&(I=Ti(1)|0),re=re+1|0;while((re|0)!=(ce|0));ce=I,re=G,G=B}else ce=I,re=v,G=_;else if(B){re=0,G=v,B=_;do G=ja(G,B)|0,B=qe()|0,I=Ti(I)|0,re=re+1|0;while((re|0)!=(ce|0));ce=I,re=G,G=B}else ce=I,re=v,G=_;if(us(re,G,sr)|0,it||xr(22972,22949,181,22959),B=(De|0)!=0,I=(We|0)!=0,B&I&&xr(22999,22949,182,22959),B){if(I=Si(A,m)|0,Ge[22032+(I*7|0)+wt>>0]|0){O=3;break}G=h[21200+(I*28|0)+(wt<<2)>>2]|0,re=G,Tt=26}else if(I){if(I=Si(re,G)|0,Ge[22032+(I*7|0)+ce>>0]|0){O=4;break}re=0,G=h[21200+(ce*28|0)+(I<<2)>>2]|0,Tt=26}else I=0;if((Tt|0)==26)if((G|0)<=-1&&xr(23030,22949,212,22959),(re|0)<=-1&&xr(23053,22949,213,22959),(G|0)>0){B=sr+4|0,I=0;do fl(B),I=I+1|0;while((I|0)!=(G|0));I=re}else I=re;if(h[Nt>>2]=0,h[Nt+4>>2]=0,h[Nt+8>>2]=0,cl(Nt,wt),O|0)for(;Yo(O)|0?ll(Nt):yi(Nt),(O|0)>1;)O=O+-1|0;if((I|0)>0){O=0;do fl(Nt),O=O+1|0;while((O|0)!=(I|0))}Tt=sr+4|0,kn(Tt,Nt,Tt),qr(Tt),Tt=50}else if(us(v,_,sr)|0,(De|0)!=0&(We|0)!=0)if((ce|0)!=(re|0)&&xr(23077,22949,243,22959),I=Si(A,m)|0,O=Si(v,_)|0,Ge[22032+(I*7|0)+O>>0]|0)O=5;else if(I=h[21200+(I*28|0)+(O<<2)>>2]|0,(I|0)>0){B=sr+4|0,O=0;do fl(B),O=O+1|0;while((O|0)!=(I|0));Tt=50}else Tt=50;else Tt=50;while(0);return(Tt|0)==50&&(O=sr+4|0,h[k>>2]=h[O>>2],h[k+4>>2]=h[O+4>>2],h[k+8>>2]=h[O+8>>2],O=0),sr=O,Re=dt,sr|0}function cs(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0;if(wt=Re,Re=Re+48|0,I=wt+36|0,B=wt+24|0,G=wt+12|0,re=wt,O=ht(A|0,m|0,52)|0,qe()|0,O=O&15,We=ht(A|0,m|0,45)|0,qe()|0,We=We&127,ce=ci(We)|0,Xt(O|0,0,52)|0,Nt=qe()|0|134225919,Tt=_,h[Tt>>2]=-1,h[Tt+4>>2]=Nt,!O)return(h[v>>2]|0)>1||(h[v+4>>2]|0)>1||(h[v+8>>2]|0)>1||(k=Bu(We,$c(v)|0)|0,(k|0)==127)?(Nt=1,Re=wt,Nt|0):(it=Xt(k|0,0,45)|0,Tt=qe()|0,We=_,Tt=h[We+4>>2]&-1040385|Tt,Nt=_,h[Nt>>2]=h[We>>2]|it,h[Nt+4>>2]=Tt,Nt=0,Re=wt,Nt|0);for(h[I>>2]=h[v>>2],h[I+4>>2]=h[v+4>>2],h[I+8>>2]=h[v+8>>2];h[B>>2]=h[I>>2],h[B+4>>2]=h[I+4>>2],h[B+8>>2]=h[I+8>>2],Yo(O)|0?(Mp(I),h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],ll(G)):(ul(I),h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],yi(G)),sl(B,G,re),qr(re),Tt=_,sr=h[Tt>>2]|0,Tt=h[Tt+4>>2]|0,dt=(15-O|0)*3|0,v=Xt(7,0,dt|0)|0,Tt=Tt&~(qe()|0),dt=Xt($c(re)|0,0,dt|0)|0,Tt=qe()|0|Tt,Nt=_,h[Nt>>2]=dt|sr&~v,h[Nt+4>>2]=Tt,(O|0)>1;)O=O+-1|0;e:do if((h[I>>2]|0)<=1&&(h[I+4>>2]|0)<=1&&(h[I+8>>2]|0)<=1){O=$c(I)|0,B=Bu(We,O)|0,(B|0)==127?re=0:re=ci(B)|0;t:do if(O){if(ce){if(I=21408+((Si(A,m)|0)*28|0)+(O<<2)|0,I=h[I>>2]|0,(I|0)>0){v=0;do O=$s(O)|0,v=v+1|0;while((v|0)!=(I|0))}if((O|0)==1){k=3;break e}v=Bu(We,O)|0,(v|0)==127&&xr(23104,22949,376,23134),ci(v)|0?xr(23147,22949,377,23134):(it=I,De=O,k=v)}else it=0,De=O,k=B;if(G=h[4304+(We*28|0)+(De<<2)>>2]|0,(G|0)<=-1&&xr(23178,22949,384,23134),!re){if((it|0)<=-1&&xr(23030,22949,417,23134),it|0){I=_,O=0,v=h[I>>2]|0,I=h[I+4>>2]|0;do v=Es(v,I)|0,I=qe()|0,dt=_,h[dt>>2]=v,h[dt+4>>2]=I,O=O+1|0;while((O|0)<(it|0))}if((G|0)<=0){O=54;break}for(I=_,O=0,v=h[I>>2]|0,I=h[I+4>>2]|0;;)if(v=Es(v,I)|0,I=qe()|0,dt=_,h[dt>>2]=v,h[dt+4>>2]=I,O=O+1|0,(O|0)==(G|0)){O=54;break t}}if(B=Nc(k,We)|0,(B|0)==7&&xr(22925,22949,393,23134),O=_,v=h[O>>2]|0,O=h[O+4>>2]|0,(G|0)>0){I=0;do v=Es(v,O)|0,O=qe()|0,dt=_,h[dt>>2]=v,h[dt+4>>2]=O,I=I+1|0;while((I|0)!=(G|0))}if(v=Si(v,O)|0,dt=zc(k)|0,v=h[(dt?21824:21616)+(B*28|0)+(v<<2)>>2]|0,(v|0)<=-1&&xr(23030,22949,412,23134),!v)O=54;else{B=_,O=0,I=h[B>>2]|0,B=h[B+4>>2]|0;do I=ml(I,B)|0,B=qe()|0,dt=_,h[dt>>2]=I,h[dt+4>>2]=B,O=O+1|0;while((O|0)<(v|0));O=54}}else if((ce|0)!=0&(re|0)!=0)if(dt=Si(A,m)|0,O=_,O=21408+(dt*28|0)+((Si(h[O>>2]|0,h[O+4>>2]|0)|0)<<2)|0,O=h[O>>2]|0,(O|0)<=-1&&xr(23201,22949,433,23134),!O)k=B,O=55;else{I=_,k=0,v=h[I>>2]|0,I=h[I+4>>2]|0;do v=Es(v,I)|0,I=qe()|0,dt=_,h[dt>>2]=v,h[dt+4>>2]=I,k=k+1|0;while((k|0)<(O|0));k=B,O=54}else k=B,O=54;while(0);if((O|0)==54&&re&&(O=55),(O|0)==55&&(dt=_,(Si(h[dt>>2]|0,h[dt+4>>2]|0)|0)==1)){k=4;break}dt=_,Nt=h[dt>>2]|0,dt=h[dt+4>>2]&-1040385,sr=Xt(k|0,0,45)|0,dt=dt|(qe()|0),k=_,h[k>>2]=Nt|sr,h[k+4>>2]=dt,k=0}else k=2;while(0);return dt=k,Re=wt,dt|0}function Xc(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;return I=Re,Re=Re+16|0,O=I,A=xa(A,m,v,_,O)|0,A||(Hc(O,k),A=0),Re=I,A|0}function mu(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return k=Re,Re=Re+16|0,O=k,Vs(v,O),_=cs(A,m,O,_)|0,Re=k,_|0}function Un(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,(xa(A,m,A,m,k)|0)==0&&(xa(A,m,v,_,O)|0)==0?A=Zi(k,O)|0:A=-1,Re=I,A|0}function ac(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,(xa(A,m,A,m,k)|0)==0&&(xa(A,m,v,_,O)|0)==0?A=Zi(k,O)|0:A=-1,Re=I,(A>>>31^1)+A|0}function Po(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0;if(vr=Re,Re=Re+48|0,O=vr+24|0,I=vr+12|0,Ke=vr,(xa(A,m,A,m,O)|0)==0&&(xa(A,m,v,_,I)|0)==0){if(Lt=Zi(O,I)|0,(Lt|0)<0)return Ke=Lt,Re=vr,Ke|0;for(h[O>>2]=0,h[O+4>>2]=0,h[O+8>>2]=0,h[I>>2]=0,h[I+4>>2]=0,h[I+8>>2]=0,xa(A,m,A,m,O)|0,xa(A,m,v,_,I)|0,Cs(O),Cs(I),Lt?(ce=h[O>>2]|0,it=+(Lt|0),Nt=O+4|0,De=h[Nt>>2]|0,sr=O+8|0,We=h[sr>>2]|0,dt=O,v=ce,_=De,O=We,wt=+((h[I>>2]|0)-ce|0)/it,Tt=+((h[I+4>>2]|0)-De|0)/it,it=+((h[I+8>>2]|0)-We|0)/it):(_=O+4|0,We=O+8|0,Nt=_,sr=We,dt=O,v=h[O>>2]|0,_=h[_>>2]|0,O=h[We>>2]|0,wt=0,Tt=0,it=0),h[Ke>>2]=v,We=Ke+4|0,h[We>>2]=_,De=Ke+8|0,h[De>>2]=O,ce=0;;){G=+(ce|0),_r=wt*G+ +(v|0),B=Tt*G+ +(h[Nt>>2]|0),G=it*G+ +(h[sr>>2]|0),_=~~+Ga(+_r),I=~~+Ga(+B),v=~~+Ga(+G),_r=+lt(+(+(_|0)-_r)),B=+lt(+(+(I|0)-B)),G=+lt(+(+(v|0)-G));do if(_r>B&_r>G)_=0-(I+v)|0,O=I;else if(re=0-_|0,B>G){O=re-v|0;break}else{O=I,v=re-I|0;break}while(0);if(h[Ke>>2]=_,h[We>>2]=O,h[De>>2]=v,fo(Ke),cs(A,m,Ke,k+(ce<<3)|0)|0,(ce|0)==(Lt|0))break;ce=ce+1|0,v=h[dt>>2]|0}return Ke=0,Re=vr,Ke|0}return Ke=-1,Re=vr,Ke|0}function ho(A,m){A=A|0,m=m|0;var v=0;if(!m)return v=1,v|0;v=A,A=1;do A=gn((m&1|0)==0?1:v,A)|0,m=m>>1,v=gn(v,v)|0;while((m|0)!=0);return A|0}function Ff(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0;if(!(lu(m,v)|0)||(m=Ko(m)|0,We=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,De=h[A>>2]|0,(De|0)<=0))return De=0,De|0;if(ce=h[A+4>>2]|0,m){m=0,v=-1,A=0;e:for(;;){for(re=A;I=+ye[ce+(re<<4)>>3],G=+ye[ce+(re<<4)+8>>3],A=(v+2|0)%(De|0)|0,O=+ye[ce+(A<<4)>>3],k=+ye[ce+(A<<4)+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(We<O|We>B);)if(v=re+1|0,(v|0)<(De|0))A=re,re=v,v=A;else{v=22;break e}if(G=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|G==_?_+-2220446049250313e-31:_,G=G+(We-O)/(B-O)*(I-G),(G<0?G+6.283185307179586:G)>_&&(m=m^1),A=re+1|0,(A|0)>=(De|0)){v=22;break}else v=re}if((v|0)==22)return m|0}else{m=0,v=-1,A=0;e:for(;;){for(re=A;I=+ye[ce+(re<<4)>>3],G=+ye[ce+(re<<4)+8>>3],A=(v+2|0)%(De|0)|0,O=+ye[ce+(A<<4)>>3],k=+ye[ce+(A<<4)+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(We<O|We>B);)if(v=re+1|0,(v|0)<(De|0))A=re,re=v,v=A;else{v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(We-O)/(B-O)*(I-k)>_&&(m=m^1),A=re+1|0,(A|0)>=(De|0)){v=22;break}else v=re}if((v|0)==22)return m|0}return 0}function Ki(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0;if(wt=h[A>>2]|0,!wt){h[m>>2]=0,h[m+4>>2]=0,h[m+8>>2]=0,h[m+12>>2]=0,h[m+16>>2]=0,h[m+20>>2]=0,h[m+24>>2]=0,h[m+28>>2]=0;return}if(Tt=m+8|0,ye[Tt>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,sr=m+16|0,ye[sr>>3]=-17976931348623157e292,!((wt|0)<=0)){for(We=h[A+4>>2]|0,re=17976931348623157e292,ce=-17976931348623157e292,De=0,A=-1,O=17976931348623157e292,I=17976931348623157e292,G=-17976931348623157e292,_=-17976931348623157e292,it=0;v=+ye[We+(it<<4)>>3],B=+ye[We+(it<<4)+8>>3],A=A+2|0,k=+ye[We+(((A|0)==(wt|0)?0:A)<<4)+8>>3],v<O&&(ye[Tt>>3]=v,O=v),B<I&&(ye[Nt>>3]=B,I=B),v>G?ye[m>>3]=v:v=G,B>_&&(ye[sr>>3]=B,_=B),re=B>0&B<re?B:re,ce=B<0&B>ce?B:ce,De=De|+lt(+(B-k))>3.141592653589793,A=it+1|0,(A|0)!=(wt|0);)dt=it,G=v,it=A,A=dt;!De||(ye[sr>>3]=ce,ye[Nt>>3]=re)}}function ba(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0,_r=0,Wt=0;if(wt=h[A>>2]|0,wt){if(Tt=m+8|0,ye[Tt>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,sr=m+16|0,ye[sr>>3]=-17976931348623157e292,(wt|0)>0){for(k=h[A+4>>2]|0,We=17976931348623157e292,it=-17976931348623157e292,_=0,v=-1,G=17976931348623157e292,re=17976931348623157e292,De=-17976931348623157e292,I=-17976931348623157e292,dt=0;O=+ye[k+(dt<<4)>>3],ce=+ye[k+(dt<<4)+8>>3],_r=v+2|0,B=+ye[k+(((_r|0)==(wt|0)?0:_r)<<4)+8>>3],O<G&&(ye[Tt>>3]=O,G=O),ce<re&&(ye[Nt>>3]=ce,re=ce),O>De?ye[m>>3]=O:O=De,ce>I&&(ye[sr>>3]=ce,I=ce),We=ce>0&ce<We?ce:We,it=ce<0&ce>it?ce:it,_=_|+lt(+(ce-B))>3.141592653589793,v=dt+1|0,(v|0)!=(wt|0);)_r=dt,De=O,dt=v,v=_r;_&&(ye[sr>>3]=it,ye[Nt>>3]=We)}}else h[m>>2]=0,h[m+4>>2]=0,h[m+8>>2]=0,h[m+12>>2]=0,h[m+16>>2]=0,h[m+20>>2]=0,h[m+24>>2]=0,h[m+28>>2]=0;if(_r=A+8|0,v=h[_r>>2]|0,!((v|0)<=0)){vr=A+12|0,Ke=0;do if(k=h[vr>>2]|0,_=Ke,Ke=Ke+1|0,Nt=m+(Ke<<5)|0,sr=h[k+(_<<3)>>2]|0,sr){if(dt=m+(Ke<<5)+8|0,ye[dt>>3]=17976931348623157e292,A=m+(Ke<<5)+24|0,ye[A>>3]=17976931348623157e292,ye[Nt>>3]=-17976931348623157e292,Lt=m+(Ke<<5)+16|0,ye[Lt>>3]=-17976931348623157e292,(sr|0)>0){for(wt=h[k+(_<<3)+4>>2]|0,We=17976931348623157e292,it=-17976931348623157e292,k=0,_=-1,Tt=0,G=17976931348623157e292,re=17976931348623157e292,ce=-17976931348623157e292,I=-17976931348623157e292;O=+ye[wt+(Tt<<4)>>3],De=+ye[wt+(Tt<<4)+8>>3],_=_+2|0,B=+ye[wt+(((_|0)==(sr|0)?0:_)<<4)+8>>3],O<G&&(ye[dt>>3]=O,G=O),De<re&&(ye[A>>3]=De,re=De),O>ce?ye[Nt>>3]=O:O=ce,De>I&&(ye[Lt>>3]=De,I=De),We=De>0&De<We?De:We,it=De<0&De>it?De:it,k=k|+lt(+(De-B))>3.141592653589793,_=Tt+1|0,(_|0)!=(sr|0);)Wt=Tt,Tt=_,ce=O,_=Wt;k&&(ye[Lt>>3]=it,ye[A>>3]=We)}}else h[Nt>>2]=0,h[Nt+4>>2]=0,h[Nt+8>>2]=0,h[Nt+12>>2]=0,h[Nt+16>>2]=0,h[Nt+20>>2]=0,h[Nt+24>>2]=0,h[Nt+28>>2]=0,v=h[_r>>2]|0;while((Ke|0)<(v|0))}}function nr(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0;if(!(Ff(A,m,v)|0))return k=0,k|0;if(k=A+8|0,(h[k>>2]|0)<=0)return k=1,k|0;for(_=A+12|0,A=0;;){if(O=A,A=A+1|0,Ff((h[_>>2]|0)+(O<<3)|0,m+(A<<5)|0,v)|0){A=0,_=6;break}if((A|0)>=(h[k>>2]|0)){A=1,_=6;break}}return(_|0)==6?A|0:0}function $a(){return 8}function Zs(){return 16}function Ks(){return 168}function Bo(){return 8}function vl(){return 16}function Jo(){return 12}function ar(){return 8}function sc(A){A=A|0;var m=0,v=0;return v=+ye[A>>3],m=+ye[A+8>>3],+ +Mt(+(v*v+m*m))}function Xs(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0;re=+ye[A>>3],G=+ye[m>>3]-re,B=+ye[A+8>>3],I=+ye[m+8>>3]-B,De=+ye[v>>3],O=+ye[_>>3]-De,We=+ye[v+8>>3],ce=+ye[_+8>>3]-We,O=(O*(B-We)-(re-De)*ce)/(G*ce-I*O),ye[k>>3]=re+G*O,ye[k+8>>3]=B+I*O}function mo(A,m){return A=A|0,m=m|0,+ye[A>>3]!=+ye[m>>3]?(m=0,m|0):(m=+ye[A+8>>3]==+ye[m+8>>3],m|0)}function wn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return k=+ye[A>>3]-+ye[m>>3],_=+ye[A+8>>3]-+ye[m+8>>3],v=+ye[A+16>>3]-+ye[m+16>>3],+(k*k+_*_+v*v)}function Yc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;v=+ye[A>>3],_=+pr(+v),v=+ur(+v),ye[m+16>>3]=v,v=+ye[A+8>>3],k=_*+pr(+v),ye[m>>3]=k,v=_*+ur(+v),ye[m+8>>3]=v}function Bp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0;if(re=Re,Re=Re+32|0,k=re+16|0,O=re,fa(A,m,k),I=Wc(A,m)|0,G=Si(A,m)|0,Of(I,O),m=Kl(I,h[k>>2]|0)|0,!(ci(I)|0))return G=m,Re=re,G|0;do switch(I|0){case 4:{A=0,v=14;break}case 14:{A=1,v=14;break}case 24:{A=2,v=14;break}case 38:{A=3,v=14;break}case 49:{A=4,v=14;break}case 58:{A=5,v=14;break}case 63:{A=6,v=14;break}case 72:{A=7,v=14;break}case 83:{A=8,v=14;break}case 97:{A=9,v=14;break}case 107:{A=10,v=14;break}case 117:{A=11,v=14;break}default:B=0,_=0}while(0);return(v|0)==14&&(B=h[22096+(A*24|0)+8>>2]|0,_=h[22096+(A*24|0)+16>>2]|0),A=h[k>>2]|0,(A|0)!=(h[O>>2]|0)&&(I=zc(I)|0,A=h[k>>2]|0,I|(A|0)==(_|0)&&(m=(m+1|0)%6|0)),(G|0)==3&(A|0)==(_|0)?(G=(m+5|0)%6|0,Re=re,G|0):(G|0)==5&(A|0)==(B|0)?(G=(m+1|0)%6|0,Re=re,G|0):(G=m,Re=re,G|0)}function Bf(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;return _=Ui(A,m)|0,(v+-1|0)>>>0>5||(k=(_|0)!=0,(v|0)==1&k)?(v=-1,v|0):(_=Bp(A,m)|0,k?(v=(5-_+(h[22384+(v<<2)>>2]|0)|0)%5|0,v|0):(v=(6-_+(h[22416+(v<<2)>>2]|0)|0)%6|0,v|0))}function go(A,m,v){A=A|0,m=m|0,v=v|0;var _=0;(m|0)>0?(_=zo(m,4)|0,h[A>>2]=_,_||xr(23230,23253,40,23267)):h[A>>2]=0,h[A+4>>2]=m,h[A+8>>2]=0,h[A+12>>2]=v}function Va(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=A+4|0,O=A+12|0,I=A+8|0;e:for(;;){for(v=h[k>>2]|0,m=0;;){if((m|0)>=(v|0))break e;if(_=h[A>>2]|0,B=h[_+(m<<2)>>2]|0,!B)m=m+1|0;else break}m=_+(~~(+lt(+(+xt(10,+ +(15-(h[O>>2]|0)|0))*(+ye[B>>3]+ +ye[B+8>>3])))%+(v|0))>>>0<<2)|0,v=h[m>>2]|0;t:do if(v|0){if(_=B+32|0,(v|0)==(B|0))h[m>>2]=h[_>>2];else{if(v=v+32|0,m=h[v>>2]|0,!m)break;for(;(m|0)!=(B|0);)if(v=m+32|0,m=h[v>>2]|0,!m)break t;h[v>>2]=h[_>>2]}Fr(B),h[I>>2]=(h[I>>2]|0)+-1}while(0)}Fr(h[A>>2]|0)}function Vu(A){A=A|0;var m=0,v=0,_=0;for(_=h[A+4>>2]|0,v=0;;){if((v|0)>=(_|0)){m=0,v=4;break}if(m=h[(h[A>>2]|0)+(v<<2)>>2]|0,!m)v=v+1|0;else{v=4;break}}return(v|0)==4?m|0:0}function Jc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;if(v=~~(+lt(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(h[A+4>>2]|0))>>>0,v=(h[A>>2]|0)+(v<<2)|0,_=h[v>>2]|0,!_)return O=1,O|0;O=m+32|0;do if((_|0)!=(m|0)){if(v=h[_+32>>2]|0,!v)return O=1,O|0;for(k=v;;){if((k|0)==(m|0)){k=8;break}if(v=h[k+32>>2]|0,v)_=k,k=v;else{v=1,k=10;break}}if((k|0)==8){h[_+32>>2]=h[O>>2];break}else if((k|0)==10)return v|0}else h[v>>2]=h[O>>2];while(0);return Fr(m),O=A+8|0,h[O>>2]=(h[O>>2]|0)+-1,O=0,O|0}function ef(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;O=Pi(40)|0,O||xr(23283,23253,98,23296),h[O>>2]=h[m>>2],h[O+4>>2]=h[m+4>>2],h[O+8>>2]=h[m+8>>2],h[O+12>>2]=h[m+12>>2],k=O+16|0,h[k>>2]=h[v>>2],h[k+4>>2]=h[v+4>>2],h[k+8>>2]=h[v+8>>2],h[k+12>>2]=h[v+12>>2],h[O+32>>2]=0,k=~~(+lt(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(h[A+4>>2]|0))>>>0,k=(h[A>>2]|0)+(k<<2)|0,_=h[k>>2]|0;do if(!_)h[k>>2]=O;else{for(;!(Hs(_,m)|0&&Hs(_+16|0,v)|0);)if(k=h[_+32>>2]|0,_=(k|0)==0?_:k,!(h[_+32>>2]|0)){I=10;break}if((I|0)==10){h[_+32>>2]=O;break}return Fr(O),I=_,I|0}while(0);return I=A+8|0,h[I>>2]=(h[I>>2]|0)+1,I=O,I|0}function fs(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(k=~~(+lt(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(h[A+4>>2]|0))>>>0,k=h[(h[A>>2]|0)+(k<<2)>>2]|0,!k)return v=0,v|0;if(!v){for(A=k;;){if(Hs(A,m)|0){_=10;break}if(A=h[A+32>>2]|0,!A){A=0,_=10;break}}if((_|0)==10)return A|0}for(A=k;;){if(Hs(A,m)|0&&Hs(A+16|0,v)|0){_=10;break}if(A=h[A+32>>2]|0,!A){A=0,_=10;break}}return(_|0)==10?A|0:0}function zp(A,m){A=A|0,m=m|0;var v=0;if(v=~~(+lt(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(h[A+4>>2]|0))>>>0,A=h[(h[A>>2]|0)+(v<<2)>>2]|0,!A)return v=0,v|0;for(;;){if(Hs(A,m)|0){m=5;break}if(A=h[A+32>>2]|0,!A){A=0,m=5;break}}return(m|0)==5?A|0:0}function tn(){return 23312}function Gr(A){return A=+A,+ +Np(+A)}function pa(A){return A=+A,~~+Gr(A)|0}function Pi(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0,Tt=0,Nt=0,sr=0,dt=0,Lt=0,Ke=0,vr=0;vr=Re,Re=Re+16|0,We=vr;do if(A>>>0<245){if(re=A>>>0<11?16:A+11&-8,A=re>>>3,De=h[5829]|0,v=De>>>A,v&3|0)return m=(v&1^1)+A|0,A=23356+(m<<1<<2)|0,v=A+8|0,_=h[v>>2]|0,k=_+8|0,O=h[k>>2]|0,(O|0)==(A|0)?h[5829]=De&~(1<<m):(h[O+12>>2]=A,h[v>>2]=O),Ke=m<<3,h[_+4>>2]=Ke|3,Ke=_+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1,Ke=k,Re=vr,Ke|0;if(ce=h[5831]|0,re>>>0>ce>>>0){if(v|0)return m=2<<A,m=v<<A&(m|0-m),m=(m&0-m)+-1|0,B=m>>>12&16,m=m>>>B,v=m>>>5&8,m=m>>>v,O=m>>>2&4,m=m>>>O,A=m>>>1&2,m=m>>>A,_=m>>>1&1,_=(v|B|O|A|_)+(m>>>_)|0,m=23356+(_<<1<<2)|0,A=m+8|0,O=h[A>>2]|0,B=O+8|0,v=h[B>>2]|0,(v|0)==(m|0)?(A=De&~(1<<_),h[5829]=A):(h[v+12>>2]=m,h[A>>2]=v,A=De),Ke=_<<3,I=Ke-re|0,h[O+4>>2]=re|3,k=O+re|0,h[k+4>>2]=I|1,h[O+Ke>>2]=I,ce|0&&(_=h[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=_,h[m+12>>2]=_,h[_+8>>2]=m,h[_+12>>2]=v),h[5831]=I,h[5834]=k,Ke=B,Re=vr,Ke|0;if(O=h[5830]|0,O){for(v=(O&0-O)+-1|0,k=v>>>12&16,v=v>>>k,_=v>>>5&8,v=v>>>_,I=v>>>2&4,v=v>>>I,B=v>>>1&2,v=v>>>B,G=v>>>1&1,G=h[23620+((_|k|I|B|G)+(v>>>G)<<2)>>2]|0,v=G,B=G,G=(h[G+4>>2]&-8)-re|0;A=h[v+16>>2]|0,!(!A&&(A=h[v+20>>2]|0,!A));)I=(h[A+4>>2]&-8)-re|0,k=I>>>0<G>>>0,v=A,B=k?A:B,G=k?I:G;if(I=B+re|0,I>>>0>B>>>0){k=h[B+24>>2]|0,m=h[B+12>>2]|0;do if((m|0)==(B|0)){if(A=B+20|0,m=h[A>>2]|0,!m&&(A=B+16|0,m=h[A>>2]|0,!m)){v=0;break}for(;;)if(_=m+20|0,v=h[_>>2]|0,v)m=v,A=_;else if(_=m+16|0,v=h[_>>2]|0,v)m=v,A=_;else break;h[A>>2]=0,v=m}else v=h[B+8>>2]|0,h[v+12>>2]=m,h[m+8>>2]=v,v=m;while(0);do if(k|0){if(m=h[B+28>>2]|0,A=23620+(m<<2)|0,(B|0)==(h[A>>2]|0)){if(h[A>>2]=v,!v){h[5830]=O&~(1<<m);break}}else if(Ke=k+16|0,h[((h[Ke>>2]|0)==(B|0)?Ke:k+20|0)>>2]=v,!v)break;h[v+24>>2]=k,m=h[B+16>>2]|0,m|0&&(h[v+16>>2]=m,h[m+24>>2]=v),m=h[B+20>>2]|0,m|0&&(h[v+20>>2]=m,h[m+24>>2]=v)}while(0);return G>>>0<16?(Ke=G+re|0,h[B+4>>2]=Ke|3,Ke=B+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1):(h[B+4>>2]=re|3,h[I+4>>2]=G|1,h[I+G>>2]=G,ce|0&&(_=h[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,m&De?(A=v+8|0,m=h[A>>2]|0):(h[5829]=m|De,m=v,A=v+8|0),h[A>>2]=_,h[m+12>>2]=_,h[_+8>>2]=m,h[_+12>>2]=v),h[5831]=G,h[5834]=I),Ke=B+8|0,Re=vr,Ke|0}else De=re}else De=re}else De=re}else if(A>>>0<=4294967231)if(A=A+11|0,re=A&-8,_=h[5830]|0,_){k=0-re|0,A=A>>>8,A?re>>>0>16777215?G=31:(De=(A+1048320|0)>>>16&8,Tt=A<<De,B=(Tt+520192|0)>>>16&4,Tt=Tt<<B,G=(Tt+245760|0)>>>16&2,G=14-(B|De|G)+(Tt<<G>>>15)|0,G=re>>>(G+7|0)&1|G<<1):G=0,v=h[23620+(G<<2)>>2]|0;e:do if(!v)v=0,A=0,Tt=61;else for(A=0,B=re<<((G|0)==31?0:25-(G>>>1)|0),O=0;;){if(I=(h[v+4>>2]&-8)-re|0,I>>>0<k>>>0)if(I)A=v,k=I;else{A=v,k=0,Tt=65;break e}if(Tt=h[v+20>>2]|0,v=h[v+16+(B>>>31<<2)>>2]|0,O=(Tt|0)==0|(Tt|0)==(v|0)?O:Tt,v)B=B<<1;else{v=O,Tt=61;break}}while(0);if((Tt|0)==61){if((v|0)==0&(A|0)==0){if(A=2<<G,A=(A|0-A)&_,!A){De=re;break}De=(A&0-A)+-1|0,I=De>>>12&16,De=De>>>I,O=De>>>5&8,De=De>>>O,B=De>>>2&4,De=De>>>B,G=De>>>1&2,De=De>>>G,v=De>>>1&1,A=0,v=h[23620+((O|I|B|G|v)+(De>>>v)<<2)>>2]|0}v?Tt=65:(B=A,I=k)}if((Tt|0)==65)for(O=v;;)if(De=(h[O+4>>2]&-8)-re|0,v=De>>>0<k>>>0,k=v?De:k,A=v?O:A,v=h[O+16>>2]|0,v||(v=h[O+20>>2]|0),v)O=v;else{B=A,I=k;break}if((B|0)!=0&&I>>>0<((h[5831]|0)-re|0)>>>0&&(ce=B+re|0,ce>>>0>B>>>0)){O=h[B+24>>2]|0,m=h[B+12>>2]|0;do if((m|0)==(B|0)){if(A=B+20|0,m=h[A>>2]|0,!m&&(A=B+16|0,m=h[A>>2]|0,!m)){m=0;break}for(;;)if(k=m+20|0,v=h[k>>2]|0,v)m=v,A=k;else if(k=m+16|0,v=h[k>>2]|0,v)m=v,A=k;else break;h[A>>2]=0}else Ke=h[B+8>>2]|0,h[Ke+12>>2]=m,h[m+8>>2]=Ke;while(0);do if(O){if(A=h[B+28>>2]|0,v=23620+(A<<2)|0,(B|0)==(h[v>>2]|0)){if(h[v>>2]=m,!m){_=_&~(1<<A),h[5830]=_;break}}else if(Ke=O+16|0,h[((h[Ke>>2]|0)==(B|0)?Ke:O+20|0)>>2]=m,!m)break;h[m+24>>2]=O,A=h[B+16>>2]|0,A|0&&(h[m+16>>2]=A,h[A+24>>2]=m),A=h[B+20>>2]|0,A&&(h[m+20>>2]=A,h[A+24>>2]=m)}while(0);e:do if(I>>>0<16)Ke=I+re|0,h[B+4>>2]=Ke|3,Ke=B+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1;else{if(h[B+4>>2]=re|3,h[ce+4>>2]=I|1,h[ce+I>>2]=I,m=I>>>3,I>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=ce,h[m+12>>2]=ce,h[ce+8>>2]=m,h[ce+12>>2]=v;break}if(m=I>>>8,m?I>>>0>16777215?v=31:(Lt=(m+1048320|0)>>>16&8,Ke=m<<Lt,dt=(Ke+520192|0)>>>16&4,Ke=Ke<<dt,v=(Ke+245760|0)>>>16&2,v=14-(dt|Lt|v)+(Ke<<v>>>15)|0,v=I>>>(v+7|0)&1|v<<1):v=0,m=23620+(v<<2)|0,h[ce+28>>2]=v,A=ce+16|0,h[A+4>>2]=0,h[A>>2]=0,A=1<<v,!(_&A)){h[5830]=_|A,h[m>>2]=ce,h[ce+24>>2]=m,h[ce+12>>2]=ce,h[ce+8>>2]=ce;break}m=h[m>>2]|0;t:do if((h[m+4>>2]&-8|0)!=(I|0)){for(_=I<<((v|0)==31?0:25-(v>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(I|0)){m=A;break t}else _=_<<1,m=A;h[v>>2]=ce,h[ce+24>>2]=m,h[ce+12>>2]=ce,h[ce+8>>2]=ce;break e}while(0);Lt=m+8|0,Ke=h[Lt>>2]|0,h[Ke+12>>2]=ce,h[Lt>>2]=ce,h[ce+8>>2]=Ke,h[ce+12>>2]=m,h[ce+24>>2]=0}while(0);return Ke=B+8|0,Re=vr,Ke|0}else De=re}else De=re;else De=-1;while(0);if(v=h[5831]|0,v>>>0>=De>>>0)return m=v-De|0,A=h[5834]|0,m>>>0>15?(Ke=A+De|0,h[5834]=Ke,h[5831]=m,h[Ke+4>>2]=m|1,h[A+v>>2]=m,h[A+4>>2]=De|3):(h[5831]=0,h[5834]=0,h[A+4>>2]=v|3,Ke=A+v+4|0,h[Ke>>2]=h[Ke>>2]|1),Ke=A+8|0,Re=vr,Ke|0;if(I=h[5832]|0,I>>>0>De>>>0)return dt=I-De|0,h[5832]=dt,Ke=h[5835]|0,Lt=Ke+De|0,h[5835]=Lt,h[Lt+4>>2]=dt|1,h[Ke+4>>2]=De|3,Ke=Ke+8|0,Re=vr,Ke|0;if(h[5947]|0?A=h[5949]|0:(h[5949]=4096,h[5948]=4096,h[5950]=-1,h[5951]=-1,h[5952]=0,h[5940]=0,h[5947]=We&-16^1431655768,A=4096),B=De+48|0,G=De+47|0,O=A+G|0,k=0-A|0,re=O&k,re>>>0<=De>>>0||(A=h[5939]|0,A|0&&(ce=h[5937]|0,We=ce+re|0,We>>>0<=ce>>>0|We>>>0>A>>>0)))return Ke=0,Re=vr,Ke|0;e:do if(h[5940]&4)m=0,Tt=143;else{v=h[5835]|0;t:do if(v){for(_=23764;We=h[_>>2]|0,!(We>>>0<=v>>>0&&(We+(h[_+4>>2]|0)|0)>>>0>v>>>0);)if(A=h[_+8>>2]|0,A)_=A;else{Tt=128;break t}if(m=O-I&k,m>>>0<2147483647)if(A=ra(m|0)|0,(A|0)==((h[_>>2]|0)+(h[_+4>>2]|0)|0)){if((A|0)!=-1){I=m,O=A,Tt=145;break e}}else _=A,Tt=136;else m=0}else Tt=128;while(0);do if((Tt|0)==128)if(v=ra(0)|0,(v|0)!=-1&&(m=v,it=h[5948]|0,wt=it+-1|0,m=((wt&m|0)==0?0:(wt+m&0-it)-m|0)+re|0,it=h[5937]|0,wt=m+it|0,m>>>0>De>>>0&m>>>0<2147483647)){if(We=h[5939]|0,We|0&&wt>>>0<=it>>>0|wt>>>0>We>>>0){m=0;break}if(A=ra(m|0)|0,(A|0)==(v|0)){I=m,O=v,Tt=145;break e}else _=A,Tt=136}else m=0;while(0);do if((Tt|0)==136){if(v=0-m|0,!(B>>>0>m>>>0&(m>>>0<2147483647&(_|0)!=-1)))if((_|0)==-1){m=0;break}else{I=m,O=_,Tt=145;break e}if(A=h[5949]|0,A=G-m+A&0-A,A>>>0>=2147483647){I=m,O=_,Tt=145;break e}if((ra(A|0)|0)==-1){ra(v|0)|0,m=0;break}else{I=A+m|0,O=_,Tt=145;break e}}while(0);h[5940]=h[5940]|4,Tt=143}while(0);if((Tt|0)==143&&re>>>0<2147483647&&(dt=ra(re|0)|0,wt=ra(0)|0,Nt=wt-dt|0,sr=Nt>>>0>(De+40|0)>>>0,!((dt|0)==-1|sr^1|dt>>>0<wt>>>0&((dt|0)!=-1&(wt|0)!=-1)^1))&&(I=sr?Nt:m,O=dt,Tt=145),(Tt|0)==145){m=(h[5937]|0)+I|0,h[5937]=m,m>>>0>(h[5938]|0)>>>0&&(h[5938]=m),G=h[5835]|0;e:do if(G){for(m=23764;;){if(A=h[m>>2]|0,v=h[m+4>>2]|0,(O|0)==(A+v|0)){Tt=154;break}if(_=h[m+8>>2]|0,_)m=_;else break}if((Tt|0)==154&&(Lt=m+4|0,(h[m+12>>2]&8|0)==0)&&O>>>0>G>>>0&A>>>0<=G>>>0){h[Lt>>2]=v+I,Ke=(h[5832]|0)+I|0,dt=G+8|0,dt=(dt&7|0)==0?0:0-dt&7,Lt=G+dt|0,dt=Ke-dt|0,h[5835]=Lt,h[5832]=dt,h[Lt+4>>2]=dt|1,h[G+Ke+4>>2]=40,h[5836]=h[5951];break}for(O>>>0<(h[5833]|0)>>>0&&(h[5833]=O),v=O+I|0,m=23764;;){if((h[m>>2]|0)==(v|0)){Tt=162;break}if(A=h[m+8>>2]|0,A)m=A;else break}if((Tt|0)==162&&(h[m+12>>2]&8|0)==0){h[m>>2]=O,ce=m+4|0,h[ce>>2]=(h[ce>>2]|0)+I,ce=O+8|0,ce=O+((ce&7|0)==0?0:0-ce&7)|0,m=v+8|0,m=v+((m&7|0)==0?0:0-m&7)|0,re=ce+De|0,B=m-ce-De|0,h[ce+4>>2]=De|3;t:do if((G|0)==(m|0))Ke=(h[5832]|0)+B|0,h[5832]=Ke,h[5835]=re,h[re+4>>2]=Ke|1;else{if((h[5834]|0)==(m|0)){Ke=(h[5831]|0)+B|0,h[5831]=Ke,h[5834]=re,h[re+4>>2]=Ke|1,h[re+Ke>>2]=Ke;break}if(A=h[m+4>>2]|0,(A&3|0)==1){I=A&-8,_=A>>>3;r:do if(A>>>0<256)if(A=h[m+8>>2]|0,v=h[m+12>>2]|0,(v|0)==(A|0)){h[5829]=h[5829]&~(1<<_);break}else{h[A+12>>2]=v,h[v+8>>2]=A;break}else{O=h[m+24>>2]|0,A=h[m+12>>2]|0;do if((A|0)==(m|0)){if(v=m+16|0,_=v+4|0,A=h[_>>2]|0,A)v=_;else if(A=h[v>>2]|0,!A){A=0;break}for(;;)if(k=A+20|0,_=h[k>>2]|0,_)A=_,v=k;else if(k=A+16|0,_=h[k>>2]|0,_)A=_,v=k;else break;h[v>>2]=0}else Ke=h[m+8>>2]|0,h[Ke+12>>2]=A,h[A+8>>2]=Ke;while(0);if(!O)break;v=h[m+28>>2]|0,_=23620+(v<<2)|0;do if((h[_>>2]|0)!=(m|0)){if(Ke=O+16|0,h[((h[Ke>>2]|0)==(m|0)?Ke:O+20|0)>>2]=A,!A)break r}else{if(h[_>>2]=A,A|0)break;h[5830]=h[5830]&~(1<<v);break r}while(0);if(h[A+24>>2]=O,v=m+16|0,_=h[v>>2]|0,_|0&&(h[A+16>>2]=_,h[_+24>>2]=A),v=h[v+4>>2]|0,!v)break;h[A+20>>2]=v,h[v+24>>2]=A}while(0);m=m+I|0,k=I+B|0}else k=B;if(m=m+4|0,h[m>>2]=h[m>>2]&-2,h[re+4>>2]=k|1,h[re+k>>2]=k,m=k>>>3,k>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=re,h[m+12>>2]=re,h[re+8>>2]=m,h[re+12>>2]=v;break}m=k>>>8;do if(!m)_=0;else{if(k>>>0>16777215){_=31;break}Lt=(m+1048320|0)>>>16&8,Ke=m<<Lt,dt=(Ke+520192|0)>>>16&4,Ke=Ke<<dt,_=(Ke+245760|0)>>>16&2,_=14-(dt|Lt|_)+(Ke<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1}while(0);if(m=23620+(_<<2)|0,h[re+28>>2]=_,A=re+16|0,h[A+4>>2]=0,h[A>>2]=0,A=h[5830]|0,v=1<<_,!(A&v)){h[5830]=A|v,h[m>>2]=re,h[re+24>>2]=m,h[re+12>>2]=re,h[re+8>>2]=re;break}m=h[m>>2]|0;r:do if((h[m+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(k|0)){m=A;break r}else _=_<<1,m=A;h[v>>2]=re,h[re+24>>2]=m,h[re+12>>2]=re,h[re+8>>2]=re;break t}while(0);Lt=m+8|0,Ke=h[Lt>>2]|0,h[Ke+12>>2]=re,h[Lt>>2]=re,h[re+8>>2]=Ke,h[re+12>>2]=m,h[re+24>>2]=0}while(0);return Ke=ce+8|0,Re=vr,Ke|0}for(m=23764;A=h[m>>2]|0,!(A>>>0<=G>>>0&&(Ke=A+(h[m+4>>2]|0)|0,Ke>>>0>G>>>0));)m=h[m+8>>2]|0;k=Ke+-47|0,A=k+8|0,A=k+((A&7|0)==0?0:0-A&7)|0,k=G+16|0,A=A>>>0<k>>>0?G:A,m=A+8|0,v=I+-40|0,dt=O+8|0,dt=(dt&7|0)==0?0:0-dt&7,Lt=O+dt|0,dt=v-dt|0,h[5835]=Lt,h[5832]=dt,h[Lt+4>>2]=dt|1,h[O+v+4>>2]=40,h[5836]=h[5951],v=A+4|0,h[v>>2]=27,h[m>>2]=h[5941],h[m+4>>2]=h[5942],h[m+8>>2]=h[5943],h[m+12>>2]=h[5944],h[5941]=O,h[5942]=I,h[5944]=0,h[5943]=m,m=A+24|0;do Lt=m,m=m+4|0,h[m>>2]=7;while((Lt+8|0)>>>0<Ke>>>0);if((A|0)!=(G|0)){if(O=A-G|0,h[v>>2]=h[v>>2]&-2,h[G+4>>2]=O|1,h[A>>2]=O,m=O>>>3,O>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=G,h[m+12>>2]=G,h[G+8>>2]=m,h[G+12>>2]=v;break}if(m=O>>>8,m?O>>>0>16777215?_=31:(Lt=(m+1048320|0)>>>16&8,Ke=m<<Lt,dt=(Ke+520192|0)>>>16&4,Ke=Ke<<dt,_=(Ke+245760|0)>>>16&2,_=14-(dt|Lt|_)+(Ke<<_>>>15)|0,_=O>>>(_+7|0)&1|_<<1):_=0,v=23620+(_<<2)|0,h[G+28>>2]=_,h[G+20>>2]=0,h[k>>2]=0,m=h[5830]|0,A=1<<_,!(m&A)){h[5830]=m|A,h[v>>2]=G,h[G+24>>2]=v,h[G+12>>2]=G,h[G+8>>2]=G;break}m=h[v>>2]|0;t:do if((h[m+4>>2]&-8|0)!=(O|0)){for(_=O<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(O|0)){m=A;break t}else _=_<<1,m=A;h[v>>2]=G,h[G+24>>2]=m,h[G+12>>2]=G,h[G+8>>2]=G;break e}while(0);Lt=m+8|0,Ke=h[Lt>>2]|0,h[Ke+12>>2]=G,h[Lt>>2]=G,h[G+8>>2]=Ke,h[G+12>>2]=m,h[G+24>>2]=0}}else Ke=h[5833]|0,(Ke|0)==0|O>>>0<Ke>>>0&&(h[5833]=O),h[5941]=O,h[5942]=I,h[5944]=0,h[5838]=h[5947],h[5837]=-1,h[5842]=23356,h[5841]=23356,h[5844]=23364,h[5843]=23364,h[5846]=23372,h[5845]=23372,h[5848]=23380,h[5847]=23380,h[5850]=23388,h[5849]=23388,h[5852]=23396,h[5851]=23396,h[5854]=23404,h[5853]=23404,h[5856]=23412,h[5855]=23412,h[5858]=23420,h[5857]=23420,h[5860]=23428,h[5859]=23428,h[5862]=23436,h[5861]=23436,h[5864]=23444,h[5863]=23444,h[5866]=23452,h[5865]=23452,h[5868]=23460,h[5867]=23460,h[5870]=23468,h[5869]=23468,h[5872]=23476,h[5871]=23476,h[5874]=23484,h[5873]=23484,h[5876]=23492,h[5875]=23492,h[5878]=23500,h[5877]=23500,h[5880]=23508,h[5879]=23508,h[5882]=23516,h[5881]=23516,h[5884]=23524,h[5883]=23524,h[5886]=23532,h[5885]=23532,h[5888]=23540,h[5887]=23540,h[5890]=23548,h[5889]=23548,h[5892]=23556,h[5891]=23556,h[5894]=23564,h[5893]=23564,h[5896]=23572,h[5895]=23572,h[5898]=23580,h[5897]=23580,h[5900]=23588,h[5899]=23588,h[5902]=23596,h[5901]=23596,h[5904]=23604,h[5903]=23604,Ke=I+-40|0,dt=O+8|0,dt=(dt&7|0)==0?0:0-dt&7,Lt=O+dt|0,dt=Ke-dt|0,h[5835]=Lt,h[5832]=dt,h[Lt+4>>2]=dt|1,h[O+Ke+4>>2]=40,h[5836]=h[5951];while(0);if(m=h[5832]|0,m>>>0>De>>>0)return dt=m-De|0,h[5832]=dt,Ke=h[5835]|0,Lt=Ke+De|0,h[5835]=Lt,h[Lt+4>>2]=dt|1,h[Ke+4>>2]=De|3,Ke=Ke+8|0,Re=vr,Ke|0}return Ke=tn()|0,h[Ke>>2]=12,Ke=0,Re=vr,Ke|0}function Fr(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(!A)return;v=A+-8|0,k=h[5833]|0,A=h[A+-4>>2]|0,m=A&-8,G=v+m|0;do if(A&1)B=v,I=v;else{if(_=h[v>>2]|0,!(A&3)||(I=v+(0-_)|0,O=_+m|0,I>>>0<k>>>0))return;if((h[5834]|0)==(I|0)){if(A=G+4|0,m=h[A>>2]|0,(m&3|0)!=3){B=I,m=O;break}h[5831]=O,h[A>>2]=m&-2,h[I+4>>2]=O|1,h[I+O>>2]=O;return}if(v=_>>>3,_>>>0<256)if(A=h[I+8>>2]|0,m=h[I+12>>2]|0,(m|0)==(A|0)){h[5829]=h[5829]&~(1<<v),B=I,m=O;break}else{h[A+12>>2]=m,h[m+8>>2]=A,B=I,m=O;break}k=h[I+24>>2]|0,A=h[I+12>>2]|0;do if((A|0)==(I|0)){if(m=I+16|0,v=m+4|0,A=h[v>>2]|0,A)m=v;else if(A=h[m>>2]|0,!A){A=0;break}for(;;)if(_=A+20|0,v=h[_>>2]|0,v)A=v,m=_;else if(_=A+16|0,v=h[_>>2]|0,v)A=v,m=_;else break;h[m>>2]=0}else B=h[I+8>>2]|0,h[B+12>>2]=A,h[A+8>>2]=B;while(0);if(k){if(m=h[I+28>>2]|0,v=23620+(m<<2)|0,(h[v>>2]|0)==(I|0)){if(h[v>>2]=A,!A){h[5830]=h[5830]&~(1<<m),B=I,m=O;break}}else if(B=k+16|0,h[((h[B>>2]|0)==(I|0)?B:k+20|0)>>2]=A,!A){B=I,m=O;break}h[A+24>>2]=k,m=I+16|0,v=h[m>>2]|0,v|0&&(h[A+16>>2]=v,h[v+24>>2]=A),m=h[m+4>>2]|0,m?(h[A+20>>2]=m,h[m+24>>2]=A,B=I,m=O):(B=I,m=O)}else B=I,m=O}while(0);if(I>>>0>=G>>>0||(A=G+4|0,_=h[A>>2]|0,!(_&1)))return;if(_&2)h[A>>2]=_&-2,h[B+4>>2]=m|1,h[I+m>>2]=m,k=m;else{if((h[5835]|0)==(G|0)){if(G=(h[5832]|0)+m|0,h[5832]=G,h[5835]=B,h[B+4>>2]=G|1,(B|0)!=(h[5834]|0))return;h[5834]=0,h[5831]=0;return}if((h[5834]|0)==(G|0)){G=(h[5831]|0)+m|0,h[5831]=G,h[5834]=I,h[B+4>>2]=G|1,h[I+G>>2]=G;return}k=(_&-8)+m|0,v=_>>>3;do if(_>>>0<256)if(m=h[G+8>>2]|0,A=h[G+12>>2]|0,(A|0)==(m|0)){h[5829]=h[5829]&~(1<<v);break}else{h[m+12>>2]=A,h[A+8>>2]=m;break}else{O=h[G+24>>2]|0,A=h[G+12>>2]|0;do if((A|0)==(G|0)){if(m=G+16|0,v=m+4|0,A=h[v>>2]|0,A)m=v;else if(A=h[m>>2]|0,!A){v=0;break}for(;;)if(_=A+20|0,v=h[_>>2]|0,v)A=v,m=_;else if(_=A+16|0,v=h[_>>2]|0,v)A=v,m=_;else break;h[m>>2]=0,v=A}else v=h[G+8>>2]|0,h[v+12>>2]=A,h[A+8>>2]=v,v=A;while(0);if(O|0){if(A=h[G+28>>2]|0,m=23620+(A<<2)|0,(h[m>>2]|0)==(G|0)){if(h[m>>2]=v,!v){h[5830]=h[5830]&~(1<<A);break}}else if(_=O+16|0,h[((h[_>>2]|0)==(G|0)?_:O+20|0)>>2]=v,!v)break;h[v+24>>2]=O,A=G+16|0,m=h[A>>2]|0,m|0&&(h[v+16>>2]=m,h[m+24>>2]=v),A=h[A+4>>2]|0,A|0&&(h[v+20>>2]=A,h[A+24>>2]=v)}}while(0);if(h[B+4>>2]=k|1,h[I+k>>2]=k,(B|0)==(h[5834]|0)){h[5831]=k;return}}if(A=k>>>3,k>>>0<256){v=23356+(A<<1<<2)|0,m=h[5829]|0,A=1<<A,m&A?(m=v+8|0,A=h[m>>2]|0):(h[5829]=m|A,A=v,m=v+8|0),h[m>>2]=B,h[A+12>>2]=B,h[B+8>>2]=A,h[B+12>>2]=v;return}A=k>>>8,A?k>>>0>16777215?_=31:(I=(A+1048320|0)>>>16&8,G=A<<I,O=(G+520192|0)>>>16&4,G=G<<O,_=(G+245760|0)>>>16&2,_=14-(O|I|_)+(G<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,A=23620+(_<<2)|0,h[B+28>>2]=_,h[B+20>>2]=0,h[B+16>>2]=0,m=h[5830]|0,v=1<<_;e:do if(!(m&v))h[5830]=m|v,h[A>>2]=B,h[B+24>>2]=A,h[B+12>>2]=B,h[B+8>>2]=B;else{A=h[A>>2]|0;t:do if((h[A+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=A+16+(_>>>31<<2)|0,m=h[v>>2]|0,!!m;)if((h[m+4>>2]&-8|0)==(k|0)){A=m;break t}else _=_<<1,A=m;h[v>>2]=B,h[B+24>>2]=A,h[B+12>>2]=B,h[B+8>>2]=B;break e}while(0);I=A+8|0,G=h[I>>2]|0,h[G+12>>2]=B,h[I>>2]=B,h[B+8>>2]=G,h[B+12>>2]=A,h[B+24>>2]=0}while(0);if(G=(h[5837]|0)+-1|0,h[5837]=G,!(G|0)){for(A=23772;A=h[A>>2]|0,A;)A=A+8|0;h[5837]=-1}}function zo(A,m){A=A|0,m=m|0;var v=0;return A?(v=gn(m,A)|0,(m|A)>>>0>65535&&(v=((v>>>0)/(A>>>0)|0|0)==(m|0)?v:-1)):v=0,A=Pi(v)|0,!A||!(h[A+-4>>2]&3)||$i(A|0,0,v|0)|0,A|0}function Ha(A,m,v,_){return A=A|0,m=m|0,v=v|0,_=_|0,v=A+v>>>0,Kt(m+_+(v>>>0<A>>>0|0)>>>0|0),v|0|0}function ea(A,m,v,_){return A=A|0,m=m|0,v=v|0,_=_|0,_=m-_-(v>>>0>A>>>0|0)>>>0,Kt(_|0),A-v>>>0|0|0}function ta(A){return A=A|0,(A?31-(xn(A^A-1)|0)|0:32)|0}function qa(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,re=0,ce=0,De=0,We=0,it=0,wt=0;if(ce=A,G=m,re=G,I=v,We=_,B=We,!re)return O=(k|0)!=0,B?O?(h[k>>2]=A|0,h[k+4>>2]=m&0,We=0,k=0,Kt(We|0),k|0):(We=0,k=0,Kt(We|0),k|0):(O&&(h[k>>2]=(ce>>>0)%(I>>>0),h[k+4>>2]=0),We=0,k=(ce>>>0)/(I>>>0)>>>0,Kt(We|0),k|0);O=(B|0)==0;do if(I){if(!O){if(O=(xn(B|0)|0)-(xn(re|0)|0)|0,O>>>0<=31){De=O+1|0,B=31-O|0,m=O-31>>31,I=De,A=ce>>>(De>>>0)&m|re<<B,m=re>>>(De>>>0)&m,O=0,B=ce<<B;break}return k?(h[k>>2]=A|0,h[k+4>>2]=G|m&0,We=0,k=0,Kt(We|0),k|0):(We=0,k=0,Kt(We|0),k|0)}if(O=I-1|0,O&I|0){B=(xn(I|0)|0)+33-(xn(re|0)|0)|0,wt=64-B|0,De=32-B|0,G=De>>31,it=B-32|0,m=it>>31,I=B,A=De-1>>31&re>>>(it>>>0)|(re<<De|ce>>>(B>>>0))&m,m=m&re>>>(B>>>0),O=ce<<wt&G,B=(re<<wt|ce>>>(it>>>0))&G|ce<<De&B-33>>31;break}return k|0&&(h[k>>2]=O&ce,h[k+4>>2]=0),(I|0)==1?(it=G|m&0,wt=A|0|0,Kt(it|0),wt|0):(wt=ta(I|0)|0,it=re>>>(wt>>>0)|0,wt=re<<32-wt|ce>>>(wt>>>0)|0,Kt(it|0),wt|0)}else{if(O)return k|0&&(h[k>>2]=(re>>>0)%(I>>>0),h[k+4>>2]=0),it=0,wt=(re>>>0)/(I>>>0)>>>0,Kt(it|0),wt|0;if(!ce)return k|0&&(h[k>>2]=0,h[k+4>>2]=(re>>>0)%(B>>>0)),it=0,wt=(re>>>0)/(B>>>0)>>>0,Kt(it|0),wt|0;if(O=B-1|0,!(O&B))return k|0&&(h[k>>2]=A|0,h[k+4>>2]=O&re|m&0),it=0,wt=re>>>((ta(B|0)|0)>>>0),Kt(it|0),wt|0;if(O=(xn(B|0)|0)-(xn(re|0)|0)|0,O>>>0<=30){m=O+1|0,B=31-O|0,I=m,A=re<<B|ce>>>(m>>>0),m=re>>>(m>>>0),O=0,B=ce<<B;break}return k?(h[k>>2]=A|0,h[k+4>>2]=G|m&0,it=0,wt=0,Kt(it|0),wt|0):(it=0,wt=0,Kt(it|0),wt|0)}while(0);if(!I)re=B,G=0,B=0;else{De=v|0|0,ce=We|_&0,re=Ha(De|0,ce|0,-1,-1)|0,v=qe()|0,G=B,B=0;do _=G,G=O>>>31|G<<1,O=B|O<<1,_=A<<1|_>>>31|0,We=A>>>31|m<<1|0,ea(re|0,v|0,_|0,We|0)|0,wt=qe()|0,it=wt>>31|((wt|0)<0?-1:0)<<1,B=it&1,A=ea(_|0,We|0,it&De|0,(((wt|0)<0?-1:0)>>31|((wt|0)<0?-1:0)<<1)&ce|0)|0,m=qe()|0,I=I-1|0;while((I|0)!=0);re=G,G=0}return I=0,k|0&&(h[k>>2]=A,h[k+4>>2]=m),it=(O|0)>>>31|(re|I)<<1|(I<<1|O>>>31)&0|G,wt=(O<<1|0>>>31)&-2|B,Kt(it|0),wt|0}function Gt(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return O=Re,Re=Re+16|0,k=O|0,qa(A,m,v,_,k)|0,Re=O,Kt(h[k+4>>2]|0),h[k>>2]|0|0}function ht(A,m,v){return A=A|0,m=m|0,v=v|0,(v|0)<32?(Kt(m>>>v|0),A>>>v|(m&(1<<v)-1)<<32-v):(Kt(0),m>>>v-32|0)}function Xt(A,m,v){return A=A|0,m=m|0,v=v|0,(v|0)<32?(Kt(m<<v|(A&(1<<v)-1<<32-v)>>>32-v|0),A<<v):(Kt(A<<v-32|0),0)}function Io(A,m){return A=+A,m=+m,A!=A?+m:m!=m?+A:+hi(+A,+m)}function Ga(A){return A=+A,A>=0?+jt(A+.5):+an(A-.5)}function No(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0;if((v|0)>=8192)return ao(A|0,m|0,v|0)|0,A|0;if(O=A|0,k=A+v|0,(A&3)==(m&3)){for(;A&3;){if(!v)return O|0;Ge[A>>0]=Ge[m>>0]|0,A=A+1|0,m=m+1|0,v=v-1|0}for(v=k&-4|0,_=v-64|0;(A|0)<=(_|0);)h[A>>2]=h[m>>2],h[A+4>>2]=h[m+4>>2],h[A+8>>2]=h[m+8>>2],h[A+12>>2]=h[m+12>>2],h[A+16>>2]=h[m+16>>2],h[A+20>>2]=h[m+20>>2],h[A+24>>2]=h[m+24>>2],h[A+28>>2]=h[m+28>>2],h[A+32>>2]=h[m+32>>2],h[A+36>>2]=h[m+36>>2],h[A+40>>2]=h[m+40>>2],h[A+44>>2]=h[m+44>>2],h[A+48>>2]=h[m+48>>2],h[A+52>>2]=h[m+52>>2],h[A+56>>2]=h[m+56>>2],h[A+60>>2]=h[m+60>>2],A=A+64|0,m=m+64|0;for(;(A|0)<(v|0);)h[A>>2]=h[m>>2],A=A+4|0,m=m+4|0}else for(v=k-4|0;(A|0)<(v|0);)Ge[A>>0]=Ge[m>>0]|0,Ge[A+1>>0]=Ge[m+1>>0]|0,Ge[A+2>>0]=Ge[m+2>>0]|0,Ge[A+3>>0]=Ge[m+3>>0]|0,A=A+4|0,m=m+4|0;for(;(A|0)<(k|0);)Ge[A>>0]=Ge[m>>0]|0,A=A+1|0,m=m+1|0;return O|0}function $i(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=A+v|0,m=m&255,(v|0)>=67){for(;A&3;)Ge[A>>0]=m,A=A+1|0;for(_=O&-4|0,I=m|m<<8|m<<16|m<<24,k=_-64|0;(A|0)<=(k|0);)h[A>>2]=I,h[A+4>>2]=I,h[A+8>>2]=I,h[A+12>>2]=I,h[A+16>>2]=I,h[A+20>>2]=I,h[A+24>>2]=I,h[A+28>>2]=I,h[A+32>>2]=I,h[A+36>>2]=I,h[A+40>>2]=I,h[A+44>>2]=I,h[A+48>>2]=I,h[A+52>>2]=I,h[A+56>>2]=I,h[A+60>>2]=I,A=A+64|0;for(;(A|0)<(_|0);)h[A>>2]=I,A=A+4|0}for(;(A|0)<(O|0);)Ge[A>>0]=m,A=A+1|0;return O-v|0}function Np(A){return A=+A,A>=0?+jt(A+.5):+an(A-.5)}function ra(A){A=A|0;var m=0,v=0,_=0;return _=Fc()|0,v=h[Rt>>2]|0,m=v+A|0,(A|0)>0&(m|0)<(v|0)|(m|0)<0?(Bc(m|0)|0,uu(12),-1):(m|0)>(_|0)&&!(Wo(m|0)|0)?(uu(12),-1):(h[Rt>>2]=m,v|0)}return{___uremdi3:Gt,_bitshift64Lshr:ht,_bitshift64Shl:Xt,_calloc:zo,_cellAreaKm2:Gc,_cellAreaM2:rc,_cellAreaRads2:ju,_compact:nc,_destroyLinkedPolygon:$u,_edgeLengthKm:qc,_edgeLengthM:Au,_emscripten_replace_memory:so,_exactEdgeLengthKm:Qc,_exactEdgeLengthM:Rf,_exactEdgeLengthRads:Vn,_experimentalH3ToLocalIj:Xc,_experimentalLocalIjToH3:mu,_free:Fr,_geoToH3:Dp,_getDestinationH3IndexFromUnidirectionalEdge:vt,_getH3IndexesFromUnidirectionalEdge:Yr,_getH3UnidirectionalEdge:rt,_getH3UnidirectionalEdgeBoundary:ti,_getH3UnidirectionalEdgesFromHexagon:bn,_getOriginH3IndexFromUnidirectionalEdge:Ot,_getPentagonIndexes:gl,_getRes0Indexes:Yl,_h3Distance:Un,_h3GetBaseCell:Wc,_h3GetFaces:Df,_h3GetResolution:To,_h3IndexesAreNeighbors:Ws,_h3IsPentagon:Ui,_h3IsResClassIII:ic,_h3IsValid:hl,_h3Line:Po,_h3LineSize:ac,_h3SetToLinkedGeo:Op,_h3ToCenterChild:Zc,_h3ToChildren:Ao,_h3ToGeo:ls,_h3ToGeoBoundary:Qs,_h3ToParent:hu,_h3UnidirectionalEdgeIsValid:Vt,_hexAreaKm2:Uu,_hexAreaM2:Lp,_hexRing:as,_i64Subtract:ea,_kRing:Zo,_kRingDistances:os,_llvm_minnum_f64:Io,_llvm_round_f64:Ga,_malloc:Pi,_maxFaceCount:Fp,_maxH3ToChildrenSize:Lf,_maxKringSize:ko,_maxPolyfillSize:wi,_maxUncompactSize:du,_memcpy:No,_memset:$i,_numHexagons:tc,_pentagonIndexCount:Kc,_pointDistKm:ec,_pointDistM:pu,_pointDistRads:Rp,_polyfill:Ni,_res0IndexCount:Uc,_round:Np,_sbrk:ra,_sizeOfCoordIJ:ar,_sizeOfGeoBoundary:Ks,_sizeOfGeoCoord:Zs,_sizeOfGeoPolygon:vl,_sizeOfGeofence:Bo,_sizeOfH3Index:$a,_sizeOfLinkedGeoPolygon:Jo,_uncompact:dl,establishStackSpace:ca,stackAlloc:is,stackRestore:si,stackSave:la}}(ua,Ra,tt);t.___uremdi3=$t.___uremdi3,t._bitshift64Lshr=$t._bitshift64Lshr,t._bitshift64Shl=$t._bitshift64Shl,t._calloc=$t._calloc,t._cellAreaKm2=$t._cellAreaKm2,t._cellAreaM2=$t._cellAreaM2,t._cellAreaRads2=$t._cellAreaRads2,t._compact=$t._compact,t._destroyLinkedPolygon=$t._destroyLinkedPolygon,t._edgeLengthKm=$t._edgeLengthKm,t._edgeLengthM=$t._edgeLengthM;var Ei=t._emscripten_replace_memory=$t._emscripten_replace_memory;t._exactEdgeLengthKm=$t._exactEdgeLengthKm,t._exactEdgeLengthM=$t._exactEdgeLengthM,t._exactEdgeLengthRads=$t._exactEdgeLengthRads,t._experimentalH3ToLocalIj=$t._experimentalH3ToLocalIj,t._experimentalLocalIjToH3=$t._experimentalLocalIjToH3,t._free=$t._free,t._geoToH3=$t._geoToH3,t._getDestinationH3IndexFromUnidirectionalEdge=$t._getDestinationH3IndexFromUnidirectionalEdge,t._getH3IndexesFromUnidirectionalEdge=$t._getH3IndexesFromUnidirectionalEdge,t._getH3UnidirectionalEdge=$t._getH3UnidirectionalEdge,t._getH3UnidirectionalEdgeBoundary=$t._getH3UnidirectionalEdgeBoundary,t._getH3UnidirectionalEdgesFromHexagon=$t._getH3UnidirectionalEdgesFromHexagon,t._getOriginH3IndexFromUnidirectionalEdge=$t._getOriginH3IndexFromUnidirectionalEdge,t._getPentagonIndexes=$t._getPentagonIndexes,t._getRes0Indexes=$t._getRes0Indexes,t._h3Distance=$t._h3Distance,t._h3GetBaseCell=$t._h3GetBaseCell,t._h3GetFaces=$t._h3GetFaces,t._h3GetResolution=$t._h3GetResolution,t._h3IndexesAreNeighbors=$t._h3IndexesAreNeighbors,t._h3IsPentagon=$t._h3IsPentagon,t._h3IsResClassIII=$t._h3IsResClassIII,t._h3IsValid=$t._h3IsValid,t._h3Line=$t._h3Line,t._h3LineSize=$t._h3LineSize,t._h3SetToLinkedGeo=$t._h3SetToLinkedGeo,t._h3ToCenterChild=$t._h3ToCenterChild,t._h3ToChildren=$t._h3ToChildren,t._h3ToGeo=$t._h3ToGeo,t._h3ToGeoBoundary=$t._h3ToGeoBoundary,t._h3ToParent=$t._h3ToParent,t._h3UnidirectionalEdgeIsValid=$t._h3UnidirectionalEdgeIsValid,t._hexAreaKm2=$t._hexAreaKm2,t._hexAreaM2=$t._hexAreaM2,t._hexRing=$t._hexRing,t._i64Subtract=$t._i64Subtract,t._kRing=$t._kRing,t._kRingDistances=$t._kRingDistances,t._llvm_minnum_f64=$t._llvm_minnum_f64,t._llvm_round_f64=$t._llvm_round_f64,t._malloc=$t._malloc,t._maxFaceCount=$t._maxFaceCount,t._maxH3ToChildrenSize=$t._maxH3ToChildrenSize,t._maxKringSize=$t._maxKringSize,t._maxPolyfillSize=$t._maxPolyfillSize,t._maxUncompactSize=$t._maxUncompactSize,t._memcpy=$t._memcpy,t._memset=$t._memset,t._numHexagons=$t._numHexagons,t._pentagonIndexCount=$t._pentagonIndexCount,t._pointDistKm=$t._pointDistKm,t._pointDistM=$t._pointDistM,t._pointDistRads=$t._pointDistRads,t._polyfill=$t._polyfill,t._res0IndexCount=$t._res0IndexCount,t._round=$t._round,t._sbrk=$t._sbrk,t._sizeOfCoordIJ=$t._sizeOfCoordIJ,t._sizeOfGeoBoundary=$t._sizeOfGeoBoundary,t._sizeOfGeoCoord=$t._sizeOfGeoCoord,t._sizeOfGeoPolygon=$t._sizeOfGeoPolygon,t._sizeOfGeofence=$t._sizeOfGeofence,t._sizeOfH3Index=$t._sizeOfH3Index,t._sizeOfLinkedGeoPolygon=$t._sizeOfLinkedGeoPolygon,t._uncompact=$t._uncompact,t.establishStackSpace=$t.establishStackSpace;var zn=t.stackAlloc=$t.stackAlloc,Y=t.stackRestore=$t.stackRestore,ie=t.stackSave=$t.stackSave;if(t.asm=$t,t.cwrap=ue,t.setValue=$,t.getValue=Z,t.getTempRet0=z,Qn){oo(Qn)||(Qn=u(Qn));{ws();var fe=function(ne){ne.byteLength&&(ne=new Uint8Array(ne)),bt.set(ne,N),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,io()},ve=function(){a(Qn,fe,function(){throw"could not load memory initializer "+Qn})},Ie=Jn(Qn);if(Ie)fe(Ie.buffer);else if(t.memoryInitializerRequest){var Ne=function(){var ne=t.memoryInitializerRequest,je=ne.response;if(ne.status!==200&&ne.status!==0){var ot=Jn(t.memoryInitializerRequestURL);if(ot)je=ot.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+ne.status+", retrying "+Qn),ve();return}}fe(je)};t.memoryInitializerRequest.response?setTimeout(Ne,0):t.memoryInitializerRequest.addEventListener("load",Ne)}else ve()}}var Ve;Wi=function ne(){Ve||ze(),Ve||(Wi=ne)};function ze(ne){if(Bi>0||(Sr(),Bi>0))return;function je(){Ve||(Ve=!0,!J&&(Ur(),Dr(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Xn()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),je()},1)):je()}t.run=ze;function xe(ne){throw t.onAbort&&t.onAbort(ne),ne+="",x(ne),S(ne),J=!0,"abort("+ne+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=xe,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ze(),e}(typeof zl=="object"?zl:{}),Kr="number",ig=Kr,fn=Kr,Mn=Kr,ku=Kr,li=Kr,Dse=[["sizeOfH3Index",Kr],["sizeOfGeoCoord",Kr],["sizeOfGeoBoundary",Kr],["sizeOfGeoPolygon",Kr],["sizeOfGeofence",Kr],["sizeOfLinkedGeoPolygon",Kr],["sizeOfCoordIJ",Kr],["h3IsValid",ig,[fn,Mn]],["geoToH3",fn,[Kr,Kr,ku]],["h3ToGeo",null,[fn,Mn,li]],["h3ToGeoBoundary",null,[fn,Mn,li]],["maxKringSize",Kr,[Kr]],["kRing",null,[fn,Mn,Kr,li]],["kRingDistances",null,[fn,Mn,Kr,li,li]],["hexRing",null,[fn,Mn,Kr,li]],["maxPolyfillSize",Kr,[li,ku]],["polyfill",null,[li,ku,li]],["h3SetToLinkedGeo",null,[li,Kr,li]],["destroyLinkedPolygon",null,[li]],["compact",Kr,[li,li,Kr]],["uncompact",Kr,[li,Kr,li,Kr,ku]],["maxUncompactSize",Kr,[li,Kr,ku]],["h3IsPentagon",ig,[fn,Mn]],["h3IsResClassIII",ig,[fn,Mn]],["h3GetBaseCell",Kr,[fn,Mn]],["h3GetResolution",Kr,[fn,Mn]],["maxFaceCount",Kr,[fn,Mn]],["h3GetFaces",null,[fn,Mn,li]],["h3ToParent",fn,[fn,Mn,ku]],["h3ToChildren",null,[fn,Mn,ku,li]],["h3ToCenterChild",fn,[fn,Mn,ku]],["maxH3ToChildrenSize",Kr,[fn,Mn,ku]],["h3IndexesAreNeighbors",ig,[fn,Mn,fn,Mn]],["getH3UnidirectionalEdge",fn,[fn,Mn,fn,Mn]],["getOriginH3IndexFromUnidirectionalEdge",fn,[fn,Mn]],["getDestinationH3IndexFromUnidirectionalEdge",fn,[fn,Mn]],["h3UnidirectionalEdgeIsValid",ig,[fn,Mn]],["getH3IndexesFromUnidirectionalEdge",null,[fn,Mn,li]],["getH3UnidirectionalEdgesFromHexagon",null,[fn,Mn,li]],["getH3UnidirectionalEdgeBoundary",null,[fn,Mn,li]],["h3Distance",Kr,[fn,Mn,fn,Mn]],["h3Line",Kr,[fn,Mn,fn,Mn,li]],["h3LineSize",Kr,[fn,Mn,fn,Mn]],["experimentalH3ToLocalIj",Kr,[fn,Mn,fn,Mn,li]],["experimentalLocalIjToH3",Kr,[fn,Mn,li,li]],["hexAreaM2",Kr,[ku]],["hexAreaKm2",Kr,[ku]],["edgeLengthM",Kr,[ku]],["edgeLengthKm",Kr,[ku]],["pointDistM",Kr,[li,li]],["pointDistKm",Kr,[li,li]],["pointDistRads",Kr,[li,li]],["cellAreaM2",Kr,[fn,Mn]],["cellAreaKm2",Kr,[fn,Mn]],["cellAreaRads2",Kr,[fn,Mn]],["exactEdgeLengthM",Kr,[fn,Mn]],["exactEdgeLengthKm",Kr,[fn,Mn]],["exactEdgeLengthRads",Kr,[fn,Mn]],["numHexagons",Kr,[ku]],["getRes0Indexes",null,[li]],["res0IndexCount",Kr],["getPentagonIndexes",null,[Kr,li]],["pentagonIndexCount",Kr]],Tf={};Dse.forEach(function(t){Tf[t[0]]=zl.cwrap.apply(zl,t)});var l0=16,uy=8;Tf.sizeOfH3Index();var Fse=Tf.sizeOfGeoCoord(),Bse=Tf.sizeOfGeoBoundary();Tf.sizeOfGeoPolygon();Tf.sizeOfGeofence();Tf.sizeOfLinkedGeoPolygon();Tf.sizeOfCoordIJ();var zse=/[^0-9a-fA-F]/;function Nse(e){if(Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if(typeof e!="string"||zse.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),l0),r=parseInt(e.substring(e.length-8),l0);return[r,t]}function sP(e){if(e>=0)return e.toString(l0);e=e&2147483647;var t=vD(8,e.toString(l0)),r=(parseInt(t[0],l0)+8).toString(l0);return t=r+t.substring(1),t}function Use(e,t){return sP(t)+vD(8,sP(e))}function vD(e,t){for(var r=e-t.length,i="",s=0;s<r;s++)i+="0";return i=i+t,i}function jse(e){var t=zl.getTempRet0();return[e,t]}function $se(e){var t=jse(e),r=t[0],i=t[1];return i?Use(r,i):null}function Y_(e){return Zse(zl.getValue(e,"double"))}function Vse(e){return[Y_(e),Y_(e+uy)]}function Hse(e){return[Y_(e+uy),Y_(e)]}function qse(e,t,r){for(var i=zl.getValue(e,"i32"),s=e+uy,u=[],a=t?Hse:Vse,x=0;x<i*2;x+=2)u.push(a(s+uy*x));return r&&u.push(u[0]),u}function Gse(e,t,r){var i=zl._malloc(Fse);zl.HEAPF64.set([e,t].map(Wse),i/uy);var s=$se(Tf.geoToH3(i,r));return zl._free(i),s}function Qse(e,t){var r=zl._malloc(Bse),i=Nse(e),s=i[0],u=i[1];Tf.h3ToGeoBoundary(s,u,r);var a=qse(r,t,t);return zl._free(r),a}function Wse(e){return e*Math.PI/180}function Zse(e){return e*180/Math.PI}var _D={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(Bs,function(){var r,i,s;function u(a,x){if(!r)r=x;else if(!i)i=x;else{var S="var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk);",P={};r(P),s=x(P),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return u(["exports"],function(a){function x(n,o){return n(o={exports:{}},o.exports),o.exports}var S=P;function P(n,o,l,g){this.cx=3*n,this.bx=3*(l-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(g-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=g,this.p2x=l,this.p2y=g}P.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},P.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},P.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},P.prototype.solveCurveX=function(n,o){var l,g,b,C,T;for(o===void 0&&(o=1e-6),b=n,T=0;T<8;T++){if(C=this.sampleCurveX(b)-n,Math.abs(C)<o)return b;var F=this.sampleCurveDerivativeX(b);if(Math.abs(F)<1e-6)break;b-=C/F}if((b=n)<(l=0))return l;if(b>(g=1))return g;for(;l<g;){if(C=this.sampleCurveX(b),Math.abs(C-n)<o)return b;n>C?l=b:g=b,b=.5*(g-l)+l}return b},P.prototype.solve=function(n,o){return this.sampleCurveY(this.solveCurveX(n,o))};var R=z;function z(n,o){this.x=n,this.y=o}z.prototype={clone:function(){return new z(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,o){return this.clone()._rotateAround(n,o)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var o=n.x-this.x,l=n.y-this.y;return o*o+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,o){return Math.atan2(this.x*o-this.y*n,this.x*n+this.y*o)},_matMult:function(n){var o=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=o,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var o=Math.cos(n),l=Math.sin(n),g=l*this.x+o*this.y;return this.x=o*this.x-l*this.y,this.y=g,this},_rotateAround:function(n,o){var l=Math.cos(n),g=Math.sin(n),b=o.y+g*(this.x-o.x)+l*(this.y-o.y);return this.x=o.x+l*(this.x-o.x)-g*(this.y-o.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},z.convert=function(n){return n instanceof z?n:Array.isArray(n)?new z(n[0],n[1]):n};var N=typeof self<"u"?self:{},$=Math.pow(2,53)-1;function Z(n,o,l,g){var b=new S(n,o,l,g);return function(C){return b.solve(C)}}var J=Z(.25,.1,.25,1);function ae(n,o,l){return Math.min(l,Math.max(o,n))}function V(n,o,l){var g=l-o,b=((n-o)%g+g)%g+o;return b===o?l:b}function K(n){for(var o=[],l=arguments.length-1;l-- >0;)o[l]=arguments[l+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)n[T]=C[T]}return n}var ue=1;function ge(){return ue++}function he(){return function n(o){return o?(o^16*Math.random()>>o/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,n)}()}function le(n){return!!n&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}function Se(n,o){n.forEach(function(l){o[l]&&(o[l]=o[l].bind(o))})}function Ce(n,o){return n.indexOf(o,n.length-o.length)!==-1}function He(n,o,l){var g={};for(var b in n)g[b]=o.call(l||this,n[b],b,n);return g}function ut(n,o,l){var g={};for(var b in n)o.call(l||this,n[b],b,n)&&(g[b]=n[b]);return g}function tt(n){return Array.isArray(n)?n.map(tt):typeof n=="object"&&n?He(n,tt):n}var st={};function bt(n){st[n]||(typeof console<"u"&&console.warn(n),st[n]=!0)}function St(n,o,l){return(l.y-n.y)*(o.x-n.x)>(o.y-n.y)*(l.x-n.x)}function Qt(n){for(var o=0,l=0,g=n.length,b=g-1,C=void 0,T=void 0;l<g;b=l++)o+=((T=n[b]).x-(C=n[l]).x)*(C.y+T.y);return o}function fr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function wr(n){var o={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,b,C,T){var F=C||T;return o[b]=!F||F.toLowerCase(),""}),o["max-age"]){var l=parseInt(o["max-age"],10);isNaN(l)?delete o["max-age"]:o["max-age"]=l}return o}var Et=null;function Ze(n){if(Et==null){var o=n.navigator?n.navigator.userAgent:null;Et=!!n.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Et}function Oe(n){try{var o=N[n];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}var ee,pe,yt,tr,yr=N.performance&&N.performance.now?N.performance.now.bind(N.performance):Date.now.bind(Date),hr=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame,Sr=N.cancelAnimationFrame||N.mozCancelAnimationFrame||N.webkitCancelAnimationFrame||N.msCancelAnimationFrame,Ur={now:yr,frame:function(n){var o=hr(n);return{cancel:function(){return Sr(o)}}},getImageData:function(n,o){o===void 0&&(o=0);var l=N.document.createElement("canvas"),g=l.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return l.width=n.width,l.height=n.height,g.drawImage(n,0,0,n.width,n.height),g.getImageData(-o,-o,n.width+2*o,n.height+2*o)},resolveURL:function(n){return ee||(ee=N.document.createElement("a")),ee.href=n,ee.href},hardwareConcurrency:N.navigator&&N.navigator.hardwareConcurrency||4,get devicePixelRatio(){return N.devicePixelRatio},get prefersReducedMotion(){return!!N.matchMedia&&(pe==null&&(pe=N.matchMedia("(prefers-reduced-motion: reduce)")),pe.matches)}},Dr={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Xn={supported:!1,testSupport:function(n){!jn&&tr&&(Fi?jr(n):yt=n)}},jn=!1,Fi=!1;function jr(n){var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,tr),n.isContextLost())return;Xn.supported=!0}catch{}n.deleteTexture(o),jn=!0}N.document&&((tr=N.document.createElement("img")).onload=function(){yt&&jr(yt),yt=null,Fi=!0},tr.onerror=function(){jn=!0,yt=null},tr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var mi="01",gi=function(n,o){this._transformRequestFn=n,this._customAccessToken=o,this._createSkuToken()};function Qo(n){return n.indexOf("mapbox:")===0}gi.prototype._createSkuToken=function(){var n=function(){for(var o="",l=0;l<10;l++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",mi,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=n.token,this._skuTokenExpiresAt=n.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(n,o){return this._transformRequestFn&&this._transformRequestFn(n,o)||{url:n}},gi.prototype.normalizeStyleURL=function(n,o){if(!Qo(n))return n;var l=io(n);return l.path="/styles/v1"+l.path,this._makeAPIURL(l,this._customAccessToken||o)},gi.prototype.normalizeGlyphsURL=function(n,o){if(!Qo(n))return n;var l=io(n);return l.path="/fonts/v1"+l.path,this._makeAPIURL(l,this._customAccessToken||o)},gi.prototype.normalizeSourceURL=function(n,o){if(!Qo(n))return n;var l=io(n);return l.path="/v4/"+l.authority+".json",l.params.push("secure"),this._makeAPIURL(l,this._customAccessToken||o)},gi.prototype.normalizeSpriteURL=function(n,o,l,g){var b=io(n);return Qo(n)?(b.path="/styles/v1"+b.path+"/sprite"+o+l,this._makeAPIURL(b,this._customAccessToken||g)):(b.path+=""+o+l,Qn(b))},gi.prototype.normalizeTileURL=function(n,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),n&&!Qo(n))return n;var l=io(n);l.path=l.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Ur.devicePixelRatio>=2||o===512?"@2x":"")+(Xn.supported?".webp":"$1")),l.path=l.path.replace(/^.+\/v4\//,"/"),l.path="/v4"+l.path;var g=this._customAccessToken||function(b){for(var C=0,T=b;C<T.length;C+=1){var F=T[C].match(/^access_token=(.*)$/);if(F)return F[1]}return null}(l.params)||Dr.ACCESS_TOKEN;return Dr.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&l.params.push("sku="+this._skuToken),this._makeAPIURL(l,g)},gi.prototype.canonicalizeTileURL=function(n,o){var l=io(n);if(!l.path.match(/(^\/v4\/)/)||!l.path.match(/\.[\w]+$/))return n;var g="mapbox://tiles/";g+=l.path.replace("/v4/","");var b=l.params;return o&&(b=b.filter(function(C){return!C.match(/^access_token=/)})),b.length&&(g+="?"+b.join("&")),g},gi.prototype.canonicalizeTileset=function(n,o){for(var l=!!o&&Qo(o),g=[],b=0,C=n.tiles||[];b<C.length;b+=1){var T=C[b];Wi(T)?g.push(this.canonicalizeTileURL(T,l)):g.push(T)}return g},gi.prototype._makeAPIURL=function(n,o){var l="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=io(Dr.API_URL);if(n.protocol=g.protocol,n.authority=g.authority,n.protocol==="http"){var b=n.params.indexOf("secure");b>=0&&n.params.splice(b,1)}if(g.path!=="/"&&(n.path=""+g.path+n.path),!Dr.REQUIRE_ACCESS_TOKEN)return Qn(n);if(!(o=o||Dr.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+l);if(o[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+l);return n.params=n.params.filter(function(C){return C.indexOf("access_token")===-1}),n.params.push("access_token="+o),Qn(n)},gi.prototype.setTransformRequest=function(n){this._transformRequestFn=n};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wi(n){return Bi.test(n)}var ws=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function io(n){var o=n.match(ws);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function Qn(n){var o=n.params.length?"?"+n.params.join("&"):"";return n.protocol+"://"+n.authority+n.path+o}function Lo(n){if(!n)return null;var o=n.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(N.atob(o[1]).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var oo=function(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};oo.prototype.getStorageKey=function(n){var o,l=Lo(Dr.ACCESS_TOKEN);return o=l&&l.u?N.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,function(g,b){return String.fromCharCode(Number("0x"+b))})):Dr.ACCESS_TOKEN||"",n?"mapbox.eventData."+n+":"+o:"mapbox.eventData:"+o},oo.prototype.fetchEventData=function(){var n=Oe("localStorage"),o=this.getStorageKey(),l=this.getStorageKey("uuid");if(n)try{var g=N.localStorage.getItem(o);g&&(this.eventData=JSON.parse(g));var b=N.localStorage.getItem(l);b&&(this.anonId=b)}catch{bt("Unable to read from LocalStorage")}},oo.prototype.saveEventData=function(){var n=Oe("localStorage"),o=this.getStorageKey(),l=this.getStorageKey("uuid");if(n)try{N.localStorage.setItem(l,this.anonId),Object.keys(this.eventData).length>=1&&N.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{bt("Unable to write to LocalStorage")}},oo.prototype.processRequests=function(n){},oo.prototype.postEvent=function(n,o,l,g){var b=this;if(Dr.EVENTS_URL){var C=io(Dr.EVENTS_URL);C.params.push("access_token="+(g||Dr.ACCESS_TOKEN||""));var T={event:this.type,created:new Date(n).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.15.3",skuId:mi,userId:this.anonId},F=o?K(T,o):T,j={url:Qn(C),headers:{"Content-Type":"text/plain"},body:JSON.stringify([F])};this.pendingRequest=Y(j,function(Q){b.pendingRequest=null,l(Q),b.saveEventData(),b.processRequests(g)})}},oo.prototype.queueRequest=function(n,o){this.queue.push(n),this.processRequests(o)};var bi,Do,sa=function(n){function o(){n.call(this,"map.load"),this.success={},this.skuToken=""}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.postMapLoadEvent=function(l,g,b,C){this.skuToken=b,(Dr.EVENTS_URL&&C||Dr.ACCESS_TOKEN&&Array.isArray(l)&&l.some(function(T){return Qo(T)||Wi(T)}))&&this.queueRequest({id:g,timestamp:Date.now()},C)},o.prototype.processRequests=function(l){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var b=this.queue.shift(),C=b.id,T=b.timestamp;C&&this.success[C]||(this.anonId||this.fetchEventData(),le(this.anonId)||(this.anonId=he()),this.postEvent(T,{skuToken:this.skuToken},function(F){F||C&&(g.success[C]=!0)},l))}},o}(oo),gt=new(function(n){function o(l){n.call(this,"appUserTurnstile"),this._customAccessToken=l}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.postTurnstileEvent=function(l,g){Dr.EVENTS_URL&&Dr.ACCESS_TOKEN&&Array.isArray(l)&&l.some(function(b){return Qo(b)||Wi(b)})&&this.queueRequest(Date.now(),g)},o.prototype.processRequests=function(l){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Lo(Dr.ACCESS_TOKEN),C=b?b.u:Dr.ACCESS_TOKEN,T=C!==this.eventData.tokenU;le(this.anonId)||(this.anonId=he(),T=!0);var F=this.queue.shift();if(this.eventData.lastSuccess){var j=new Date(this.eventData.lastSuccess),Q=new Date(F),W=(F-this.eventData.lastSuccess)/864e5;T=T||W>=1||W<-1||j.getDate()!==Q.getDate()}else T=!0;if(!T)return this.processRequests();this.postEvent(F,{"enabled.telemetry":!1},function(X){X||(g.eventData.lastSuccess=F,g.eventData.tokenU=C)},l)}},o}(oo)),be=gt.postTurnstileEvent.bind(gt),Ye=new sa,kt=Ye.postMapLoadEvent.bind(Ye),or=500,Hr=50;function In(){N.caches&&!bi&&(bi=N.caches.open("mapbox-tiles"))}function Or(n){var o=n.indexOf("?");return o<0?n:n.slice(0,o)}var en,$n=1/0;function Yn(){return en==null&&(en=N.OffscreenCanvas&&new N.OffscreenCanvas(1,1).getContext("2d")&&typeof N.createImageBitmap=="function"),en}var hn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(hn);var Eo=function(n){function o(l,g,b){g===401&&Wi(b)&&(l+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),n.call(this,l),this.status=g,this.url=b,this.name=this.constructor.name,this.message=l}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},o}(Error),Jn=fr()?function(){return self.worker&&self.worker.referrer}:function(){return(N.location.protocol==="blob:"?N.parent:N).location.href};function ua(n,o){var l,g=new N.AbortController,b=new N.Request(n.url,{method:n.method||"GET",body:n.body,credentials:n.credentials,headers:n.headers,referrer:Jn(),signal:g.signal}),C=!1,T=!1,F=(l=b.url).indexOf("sku=")>0&&Wi(l);n.type==="json"&&b.headers.set("Accept","application/json");var j=function(W,X,se){if(!T){if(W&&W.message!=="SecurityError"&&bt(W),X&&se)return Q(X);var Ae=Date.now();N.fetch(b).then(function(Ee){if(Ee.ok){var ke=F?Ee.clone():null;return Q(Ee,ke,Ae)}return o(new Eo(Ee.statusText,Ee.status,n.url))}).catch(function(Ee){Ee.code!==20&&o(new Error(Ee.message))})}},Q=function(W,X,se){(n.type==="arrayBuffer"?W.arrayBuffer():n.type==="json"?W.json():W.text()).then(function(Ae){T||(X&&se&&function(Ee,ke,$e){if(In(),bi){var Le={status:ke.status,statusText:ke.statusText,headers:new N.Headers};ke.headers.forEach(function(nt,ct){return Le.headers.set(ct,nt)});var et=wr(ke.headers.get("Cache-Control")||"");et["no-store"]||(et["max-age"]&&Le.headers.set("Expires",new Date($e+1e3*et["max-age"]).toUTCString()),new Date(Le.headers.get("Expires")).getTime()-$e<42e4||function(nt,ct){if(Do===void 0)try{new Response(new ReadableStream),Do=!0}catch{Do=!1}Do?ct(nt.body):nt.blob().then(ct)}(ke,function(nt){var ct=new N.Response(nt,Le);In(),bi&&bi.then(function(ft){return ft.put(Or(Ee.url),ct)}).catch(function(ft){return bt(ft.message)})}))}}(b,X,se),C=!0,o(null,Ae,W.headers.get("Cache-Control"),W.headers.get("Expires")))}).catch(function(Ae){T||o(new Error(Ae.message))})};return F?function(W,X){if(In(),!bi)return X(null);var se=Or(W.url);bi.then(function(Ae){Ae.match(se).then(function(Ee){var ke=function($e){if(!$e)return!1;var Le=new Date($e.headers.get("Expires")||0),et=wr($e.headers.get("Cache-Control")||"");return Le>Date.now()&&!et["no-cache"]}(Ee);Ae.delete(se),ke&&Ae.put(se,Ee.clone()),X(null,Ee,ke)}).catch(X)}).catch(X)}(b,j):j(null,null),{cancel:function(){T=!0,C||g.abort()}}}var Ra,$t,Ei=function(n,o){if(/:\/\//.test(n.url)&&!/^https?:|^file:/.test(n.url)){if(fr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,o);if(!fr()){var l=n.url.substring(0,n.url.indexOf("://"));return(Dr.REGISTERED_PROTOCOLS[l]||ua)(n,o)}}if(!(/^file:/.test(g=n.url)||/^file:/.test(Jn())&&!/^\w+:/.test(g))){if(N.fetch&&N.Request&&N.AbortController&&N.Request.prototype.hasOwnProperty("signal"))return ua(n,o);if(fr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,o,void 0,!0)}var g;return function(b,C){var T=new N.XMLHttpRequest;for(var F in T.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(T.responseType="arraybuffer"),b.headers)T.setRequestHeader(F,b.headers[F]);return b.type==="json"&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials=b.credentials==="include",T.onerror=function(){C(new Error(T.statusText))},T.onload=function(){if((T.status>=200&&T.status<300||T.status===0)&&T.response!==null){var j=T.response;if(b.type==="json")try{j=JSON.parse(T.response)}catch(Q){return C(Q)}C(null,j,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else C(new Eo(T.statusText,T.status,b.url))},T.send(b.body),{cancel:function(){return T.abort()}}}(n,o)},zn=function(n,o){return Ei(K(n,{type:"arrayBuffer"}),o)},Y=function(n,o){return Ei(K(n,{method:"POST"}),o)},ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ra=[],$t=0;var fe=function(n,o){if(Xn.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),$t>=Dr.MAX_PARALLEL_IMAGE_REQUESTS){var l={requestParameters:n,callback:o,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ra.push(l),l}$t++;var g=!1,b=function(){if(!g)for(g=!0,$t--;Ra.length&&$t<Dr.MAX_PARALLEL_IMAGE_REQUESTS;){var T=Ra.shift();T.cancelled||(T.cancel=fe(T.requestParameters,T.callback).cancel)}},C=zn(n,function(T,F,j,Q){b(),T?o(T):F&&(Yn()?function(W,X){var se=new N.Blob([new Uint8Array(W)],{type:"image/png"});N.createImageBitmap(se).then(function(Ae){X(null,Ae)}).catch(function(Ae){X(new Error("Could not load image because of "+Ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(F,o):function(W,X,se,Ae){var Ee=new N.Image,ke=N.URL;Ee.onload=function(){X(null,Ee),ke.revokeObjectURL(Ee.src),Ee.onload=null,N.requestAnimationFrame(function(){Ee.src=ie})},Ee.onerror=function(){return X(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var $e=new N.Blob([new Uint8Array(W)],{type:"image/png"});Ee.cacheControl=se,Ee.expires=Ae,Ee.src=W.byteLength?ke.createObjectURL($e):ie}(F,o,j,Q))});return{cancel:function(){C.cancel(),b()}}};function ve(n,o,l){l[n]&&l[n].indexOf(o)!==-1||(l[n]=l[n]||[],l[n].push(o))}function Ie(n,o,l){if(l&&l[n]){var g=l[n].indexOf(o);g!==-1&&l[n].splice(g,1)}}var Ne=function(n,o){o===void 0&&(o={}),K(this,o),this.type=n},Ve=function(n){function o(l,g){g===void 0&&(g={}),n.call(this,"error",K({error:l},g))}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(Ne),ze=function(){};ze.prototype.on=function(n,o){return this._listeners=this._listeners||{},ve(n,o,this._listeners),this},ze.prototype.off=function(n,o){return Ie(n,o,this._listeners),Ie(n,o,this._oneTimeListeners),this},ze.prototype.once=function(n,o){return this._oneTimeListeners=this._oneTimeListeners||{},ve(n,o,this._oneTimeListeners),this},ze.prototype.fire=function(n,o){typeof n=="string"&&(n=new Ne(n,o||{}));var l=n.type;if(this.listens(l)){n.target=this;for(var g=0,b=this._listeners&&this._listeners[l]?this._listeners[l].slice():[];g<b.length;g+=1)b[g].call(this,n);for(var C=0,T=this._oneTimeListeners&&this._oneTimeListeners[l]?this._oneTimeListeners[l].slice():[];C<T.length;C+=1){var F=T[C];Ie(l,F,this._oneTimeListeners),F.call(this,n)}var j=this._eventedParent;j&&(K(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),j.fire(n))}else n instanceof Ve&&console.error(n.error);return this},ze.prototype.listens=function(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)},ze.prototype.setEventedParent=function(n,o){return this._eventedParent=n,this._eventedParentData=o,this};var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ne=function(n,o,l,g){this.message=(n?n+": ":"")+l,g&&(this.identifier=g),o!=null&&o.__line__&&(this.line=o.__line__)};function je(n){var o=n.value;return o?[new ne(n.key,o,"constants have been deprecated as of v8")]:[]}function ot(n){for(var o=[],l=arguments.length-1;l-- >0;)o[l]=arguments[l+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)n[T]=C[T]}return n}function Ge(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function h(n){if(Array.isArray(n))return n.map(h);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){var o={};for(var l in n)o[l]=h(n[l]);return o}return Ge(n)}var ye=function(n){function o(l,g){n.call(this,g),this.message=g,this.key=l}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(Error),Rt=function(n,o){o===void 0&&(o=[]),this.parent=n,this.bindings={};for(var l=0,g=o;l<g.length;l+=1){var b=g[l];this.bindings[b[0]]=b[1]}};Rt.prototype.concat=function(n){return new Rt(this,n)},Rt.prototype.get=function(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(n+" not found in scope.")},Rt.prototype.has=function(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)};var jt={kind:"null"},lt={kind:"number"},Mt={kind:"string"},xt={kind:"boolean"},pr={kind:"color"},ur={kind:"object"},qt={kind:"value"},An={kind:"collator"},Xr={kind:"formatted"},Ln={kind:"resolvedImage"};function dn(n,o){return{kind:"array",itemType:n,N:o}}function an(n){if(n.kind==="array"){var o=an(n.itemType);return typeof n.N=="number"?"array<"+o+", "+n.N+">":n.itemType.kind==="value"?"array":"array<"+o+">"}return n.kind}var gn=[jt,lt,Mt,xt,pr,Xr,ur,dn(qt),Ln];function hi(n,o){if(o.kind==="error")return null;if(n.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!hi(n.itemType,o.itemType))&&(typeof n.N!="number"||n.N===o.N))return null}else{if(n.kind===o.kind)return null;if(n.kind==="value"){for(var l=0,g=gn;l<g.length;l+=1)if(!hi(g[l],o))return null}}return"Expected "+an(n)+" but found "+an(o)+" instead."}function xn(n,o){return o.some(function(l){return l.kind===n.kind})}function Kt(n,o){return o.some(function(l){return l==="null"?n===null:l==="array"?Array.isArray(n):l==="object"?n&&!Array.isArray(n)&&typeof n=="object":l===typeof n})}var qe=x(function(n,o){var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(F){return(F=Math.round(F))<0?0:F>255?255:F}function b(F){return g(F[F.length-1]==="%"?parseFloat(F)/100*255:parseInt(F))}function C(F){return(j=F[F.length-1]==="%"?parseFloat(F)/100:parseFloat(F))<0?0:j>1?1:j;var j}function T(F,j,Q){return Q<0?Q+=1:Q>1&&(Q-=1),6*Q<1?F+(j-F)*Q*6:2*Q<1?j:3*Q<2?F+(j-F)*(2/3-Q)*6:F}try{o.parseCSSColor=function(F){var j,Q=F.replace(/ /g,"").toLowerCase();if(Q in l)return l[Q].slice();if(Q[0]==="#")return Q.length===4?(j=parseInt(Q.substr(1),16))>=0&&j<=4095?[(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1]:null:Q.length===7&&(j=parseInt(Q.substr(1),16))>=0&&j<=16777215?[(16711680&j)>>16,(65280&j)>>8,255&j,1]:null;var W=Q.indexOf("("),X=Q.indexOf(")");if(W!==-1&&X+1===Q.length){var se=Q.substr(0,W),Ae=Q.substr(W+1,X-(W+1)).split(","),Ee=1;switch(se){case"rgba":if(Ae.length!==4)return null;Ee=C(Ae.pop());case"rgb":return Ae.length!==3?null:[b(Ae[0]),b(Ae[1]),b(Ae[2]),Ee];case"hsla":if(Ae.length!==4)return null;Ee=C(Ae.pop());case"hsl":if(Ae.length!==3)return null;var ke=(parseFloat(Ae[0])%360+360)%360/360,$e=C(Ae[1]),Le=C(Ae[2]),et=Le<=.5?Le*($e+1):Le+$e-Le*$e,nt=2*Le-et;return[g(255*T(nt,et,ke+1/3)),g(255*T(nt,et,ke)),g(255*T(nt,et,ke-1/3)),Ee];default:return null}}return null}}catch{}}).parseCSSColor,xr=function(n,o,l,g){g===void 0&&(g=1),this.r=n,this.g=o,this.b=l,this.a=g};xr.parse=function(n){if(n){if(n instanceof xr)return n;if(typeof n=="string"){var o=qe(n);if(o)return new xr(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3])}}},xr.prototype.toString=function(){var n=this.toArray(),o=n[1],l=n[2],g=n[3];return"rgba("+Math.round(n[0])+","+Math.round(o)+","+Math.round(l)+","+g+")"},xr.prototype.toArray=function(){var n=this.a;return n===0?[0,0,0,0]:[255*this.r/n,255*this.g/n,255*this.b/n,n]},xr.black=new xr(0,0,0,1),xr.white=new xr(1,1,1,1),xr.transparent=new xr(0,0,0,0),xr.red=new xr(1,0,0,1);var uu=function(n,o,l){this.sensitivity=n?o?"variant":"case":o?"accent":"base",this.locale=l,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};uu.prototype.compare=function(n,o){return this.collator.compare(n,o)},uu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Fc=function(n,o,l,g,b){this.text=n,this.image=o,this.scale=l,this.fontStack=g,this.textColor=b},ao=function(n){this.sections=n};ao.fromString=function(n){return new ao([new Fc(n,null,null,null,null)])},ao.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(n){return n.text.length!==0||n.image&&n.image.name.length!==0})},ao.factory=function(n){return n instanceof ao?n:ao.fromString(n)},ao.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(n){return n.text}).join("")},ao.prototype.serialize=function(){for(var n=["format"],o=0,l=this.sections;o<l.length;o+=1){var g=l[o];if(g.image)n.push(["image",g.image.name]);else{n.push(g.text);var b={};g.fontStack&&(b["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(b["font-scale"]=g.scale),g.textColor&&(b["text-color"]=["rgba"].concat(g.textColor.toArray())),n.push(b)}}return n};var Wo=function(n){this.name=n.name,this.available=n.available};function Bc(n,o,l,g){return typeof n=="number"&&n>=0&&n<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof l=="number"&&l>=0&&l<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[n,o,l,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[n,o,l,g]:[n,o,l]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Re(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof xr||n instanceof uu||n instanceof ao||n instanceof Wo)return!0;if(Array.isArray(n)){for(var o=0,l=n;o<l.length;o+=1)if(!Re(l[o]))return!1;return!0}if(typeof n=="object"){for(var g in n)if(!Re(n[g]))return!1;return!0}return!1}function so(n){if(n===null)return jt;if(typeof n=="string")return Mt;if(typeof n=="boolean")return xt;if(typeof n=="number")return lt;if(n instanceof xr)return pr;if(n instanceof uu)return An;if(n instanceof ao)return Xr;if(n instanceof Wo)return Ln;if(Array.isArray(n)){for(var o,l=n.length,g=0,b=n;g<b.length;g+=1){var C=so(b[g]);if(o){if(o===C)continue;o=qt;break}o=C}return dn(o||qt,l)}return ur}function is(n){var o=typeof n;return n===null?"":o==="string"||o==="number"||o==="boolean"?String(n):n instanceof xr||n instanceof ao||n instanceof Wo?n.toString():JSON.stringify(n)}Wo.prototype.toString=function(){return this.name},Wo.fromString=function(n){return n?new Wo({name:n,available:!1}):null},Wo.prototype.serialize=function(){return["image",this.name]};var la=function(n,o){this.type=n,this.value=o};la.parse=function(n,o){if(n.length!==2)return o.error("'literal' expression requires exactly one argument, but found "+(n.length-1)+" instead.");if(!Re(n[1]))return o.error("invalid value");var l=n[1],g=so(l),b=o.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new la(g,l)},la.prototype.evaluate=function(){return this.value},la.prototype.eachChild=function(){},la.prototype.outputDefined=function(){return!0},la.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xr?["rgba"].concat(this.value.toArray()):this.value instanceof ao?this.value.serialize():this.value};var si=function(n){this.name="ExpressionEvaluationError",this.message=n};si.prototype.toJSON=function(){return this.message};var ca={string:Mt,number:lt,boolean:xt,object:ur},ko=function(n,o){this.type=n,this.args=o};ko.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var l,g=1,b=n[0];if(b==="array"){var C,T;if(n.length>2){var F=n[1];if(typeof F!="string"||!(F in ca)||F==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);C=ca[F],g++}else C=qt;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return o.error('The length argument to "array" must be a positive integer literal',2);T=n[2],g++}l=dn(C,T)}else l=ca[b];for(var j=[];g<n.length;g++){var Q=o.parse(n[g],g,qt);if(!Q)return null;j.push(Q)}return new ko(l,j)},ko.prototype.evaluate=function(n){for(var o=0;o<this.args.length;o++){var l=this.args[o].evaluate(n);if(!hi(this.type,so(l)))return l;if(o===this.args.length-1)throw new si("Expected value to be of type "+an(this.type)+", but found "+an(so(l))+" instead.")}return null},ko.prototype.eachChild=function(n){this.args.forEach(n)},ko.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},ko.prototype.serialize=function(){var n=this.type,o=[n.kind];if(n.kind==="array"){var l=n.itemType;if(l.kind==="string"||l.kind==="number"||l.kind==="boolean"){o.push(l.kind);var g=n.N;(typeof g=="number"||this.args.length>1)&&o.push(g)}}return o.concat(this.args.map(function(b){return b.serialize()}))};var Zo=function(n){this.type=Xr,this.sections=n};Zo.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var l=n[1];if(!Array.isArray(l)&&typeof l=="object")return o.error("First argument must be an image or text section.");for(var g=[],b=!1,C=1;C<=n.length-1;++C){var T=n[C];if(b&&typeof T=="object"&&!Array.isArray(T)){b=!1;var F=null;if(T["font-scale"]&&!(F=o.parse(T["font-scale"],1,lt)))return null;var j=null;if(T["text-font"]&&!(j=o.parse(T["text-font"],1,dn(Mt))))return null;var Q=null;if(T["text-color"]&&!(Q=o.parse(T["text-color"],1,pr)))return null;var W=g[g.length-1];W.scale=F,W.font=j,W.textColor=Q}else{var X=o.parse(n[C],1,qt);if(!X)return null;var se=X.type.kind;if(se!=="string"&&se!=="value"&&se!=="null"&&se!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:X,scale:null,font:null,textColor:null})}}return new Zo(g)},Zo.prototype.evaluate=function(n){return new ao(this.sections.map(function(o){var l=o.content.evaluate(n);return so(l)===Ln?new Fc("",l,null,null,null):new Fc(is(l),null,o.scale?o.scale.evaluate(n):null,o.font?o.font.evaluate(n).join(","):null,o.textColor?o.textColor.evaluate(n):null)}))},Zo.prototype.eachChild=function(n){for(var o=0,l=this.sections;o<l.length;o+=1){var g=l[o];n(g.content),g.scale&&n(g.scale),g.font&&n(g.font),g.textColor&&n(g.textColor)}},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){for(var n=["format"],o=0,l=this.sections;o<l.length;o+=1){var g=l[o];n.push(g.content.serialize());var b={};g.scale&&(b["font-scale"]=g.scale.serialize()),g.font&&(b["text-font"]=g.font.serialize()),g.textColor&&(b["text-color"]=g.textColor.serialize()),n.push(b)}return n};var os=function(n){this.type=Ln,this.input=n};os.parse=function(n,o){if(n.length!==2)return o.error("Expected two arguments.");var l=o.parse(n[1],1,Mt);return l?new os(l):o.error("No image name provided.")},os.prototype.evaluate=function(n){var o=this.input.evaluate(n),l=Wo.fromString(o);return l&&n.availableImages&&(l.available=n.availableImages.indexOf(o)>-1),l},os.prototype.eachChild=function(n){n(this.input)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){return["image",this.input.serialize()]};var Pf={"to-boolean":xt,"to-color":pr,"to-number":lt,"to-string":Mt},zi=function(n,o){this.type=n,this.args=o};zi.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var l=n[0];if((l==="to-boolean"||l==="to-string")&&n.length!==2)return o.error("Expected one argument.");for(var g=Pf[l],b=[],C=1;C<n.length;C++){var T=o.parse(n[C],C,qt);if(!T)return null;b.push(T)}return new zi(g,b)},zi.prototype.evaluate=function(n){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(n));if(this.type.kind==="color"){for(var o,l,g=0,b=this.args;g<b.length;g+=1){if(l=null,(o=b[g].evaluate(n))instanceof xr)return o;if(typeof o=="string"){var C=n.parseColor(o);if(C)return C}else if(Array.isArray(o)&&!(l=o.length<3||o.length>4?"Invalid rbga value "+JSON.stringify(o)+": expected an array containing either three or four numeric values.":Bc(o[0],o[1],o[2],o[3])))return new xr(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new si(l||"Could not parse color from value '"+(typeof o=="string"?o:String(JSON.stringify(o)))+"'")}if(this.type.kind==="number"){for(var T=null,F=0,j=this.args;F<j.length;F+=1){if((T=j[F].evaluate(n))===null)return 0;var Q=Number(T);if(!isNaN(Q))return Q}throw new si("Could not convert "+JSON.stringify(T)+" to number.")}return this.type.kind==="formatted"?ao.fromString(is(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Wo.fromString(is(this.args[0].evaluate(n))):is(this.args[0].evaluate(n))},zi.prototype.eachChild=function(n){this.args.forEach(n)},zi.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},zi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Zo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new os(this.args[0]).serialize();var n=["to-"+this.type.kind];return this.eachChild(function(o){n.push(o.serialize())}),n};var ki=["Unknown","Point","LineString","Polygon"],as=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};as.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},as.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ki[this.feature.type]:this.feature.type:null},as.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},as.prototype.canonicalID=function(){return this.canonical},as.prototype.properties=function(){return this.feature&&this.feature.properties||{}},as.prototype.parseColor=function(n){var o=this._parseColorCache[n];return o||(o=this._parseColorCache[n]=xr.parse(n)),o};var wi=function(n,o,l,g){this.name=n,this.type=o,this._evaluate=l,this.args=g};wi.prototype.evaluate=function(n){return this._evaluate(n,this.args)},wi.prototype.eachChild=function(n){this.args.forEach(n)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(n){return n.serialize()}))},wi.parse=function(n,o){var l,g=n[0],b=wi.definitions[g];if(!b)return o.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var C=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,F=T.filter(function(Cr){var rr=Cr[0];return!Array.isArray(rr)||rr.length===n.length-1}),j=null,Q=0,W=F;Q<W.length;Q+=1){var X=W[Q],se=X[0],Ae=X[1];j=new Nn(o.registry,o.path,null,o.scope);for(var Ee=[],ke=!1,$e=1;$e<n.length;$e++){var Le=n[$e],et=Array.isArray(se)?se[$e-1]:se.type,nt=j.parse(Le,1+Ee.length,et);if(!nt){ke=!0;break}Ee.push(nt)}if(!ke)if(Array.isArray(se)&&se.length!==Ee.length)j.error("Expected "+se.length+" arguments, but found "+Ee.length+" instead.");else{for(var ct=0;ct<Ee.length;ct++){var ft=Array.isArray(se)?se[ct]:se.type,Pt=Ee[ct];j.concat(ct+1).checkSubtype(ft,Pt.type)}if(j.errors.length===0)return new wi(g,C,Ae,Ee)}}if(F.length===1)(l=o.errors).push.apply(l,j.errors);else{for(var Ut=(F.length?F:T).map(function(Cr){var rr;return rr=Cr[0],Array.isArray(rr)?"("+rr.map(an).join(", ")+")":"("+an(rr.type)+"...)"}).join(" | "),Zt=[],mr=1;mr<n.length;mr++){var Jt=o.parse(n[mr],1+Zt.length);if(!Jt)return null;Zt.push(an(Jt.type))}o.error("Expected arguments of type "+Ut+", but found ("+Zt.join(", ")+") instead.")}return null},wi.register=function(n,o){for(var l in wi.definitions=o,o)n[l]=wi};var Ni=function(n,o,l){this.type=An,this.locale=l,this.caseSensitive=n,this.diacriticSensitive=o};function Fu(n,o){n[0]=Math.min(n[0],o[0]),n[1]=Math.min(n[1],o[1]),n[2]=Math.max(n[2],o[0]),n[3]=Math.max(n[3],o[1])}function Zl(n,o){return!(n[0]<=o[0]||n[2]>=o[2]||n[1]<=o[1]||n[3]>=o[3])}function Ip(n,o){var l=(180+n[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,b=Math.pow(2,o.z);return[Math.round(l*b*8192),Math.round(g*b*8192)]}function Op(n,o,l){return o[1]>n[1]!=l[1]>n[1]&&n[0]<(l[0]-o[0])*(n[1]-o[1])/(l[1]-o[1])+o[0]}function ci(n,o){for(var l,g,b,C,T,F,j,Q=!1,W=0,X=o.length;W<X;W++)for(var se=o[W],Ae=0,Ee=se.length;Ae<Ee-1;Ae++){if((C=(l=n)[0]-(g=se[Ae])[0])*(j=l[1]-(b=se[Ae+1])[1])-(F=l[0]-b[0])*(T=l[1]-g[1])==0&&C*F<=0&&T*j<=0)return!1;Op(n,se[Ae],se[Ae+1])&&(Q=!Q)}return Q}function zc(n,o){for(var l=0;l<o.length;l++)if(ci(n,o[l]))return!0;return!1}function If(n,o,l,g){var b=g[0]-l[0],C=g[1]-l[1],T=(n[0]-l[0])*C-b*(n[1]-l[1]),F=(o[0]-l[0])*C-b*(o[1]-l[1]);return T>0&&F<0||T<0&&F>0}function QA(n,o,l){for(var g=0,b=l;g<b.length;g+=1)for(var C=b[g],T=0;T<C.length-1;++T)if((X=[(W=C[T+1])[0]-(Q=C[T])[0],W[1]-Q[1]])[0]*(se=[(j=o)[0]-(F=n)[0],j[1]-F[1]])[1]-X[1]*se[0]!=0&&If(F,j,Q,W)&&If(Q,W,F,j))return!0;var F,j,Q,W,X,se;return!1}function Of(n,o){for(var l=0;l<n.length;++l)if(!ci(n[l],o))return!1;for(var g=0;g<n.length-1;++g)if(QA(n[g],n[g+1],o))return!1;return!0}function Kl(n,o){for(var l=0;l<o.length;l++)if(Of(n,o[l]))return!0;return!1}function Xl(n,o,l){for(var g=[],b=0;b<n.length;b++){for(var C=[],T=0;T<n[b].length;T++){var F=Ip(n[b][T],l);Fu(o,F),C.push(F)}g.push(C)}return g}function Bu(n,o,l){for(var g=[],b=0;b<n.length;b++){var C=Xl(n[b],o,l);g.push(C)}return g}function Nc(n,o,l,g){if(n[0]<l[0]||n[0]>l[2]){var b=.5*g,C=n[0]-l[0]>b?-g:l[0]-n[0]>b?g:0;C===0&&(C=n[0]-l[2]>b?-g:l[2]-n[0]>b?g:0),n[0]+=C}Fu(o,n)}function Uc(n,o,l,g){for(var b=8192*Math.pow(2,g.z),C=[8192*g.x,8192*g.y],T=[],F=0,j=n;F<j.length;F+=1)for(var Q=0,W=j[F];Q<W.length;Q+=1){var X=W[Q],se=[X.x+C[0],X.y+C[1]];Nc(se,o,l,b),T.push(se)}return T}function Yl(n,o,l,g){for(var b,C=8192*Math.pow(2,g.z),T=[8192*g.x,8192*g.y],F=[],j=0,Q=n;j<Q.length;j+=1){for(var W=[],X=0,se=Q[j];X<se.length;X+=1){var Ae=se[X],Ee=[Ae.x+T[0],Ae.y+T[1]];Fu(o,Ee),W.push(Ee)}F.push(W)}if(o[2]-o[0]<=C/2){(b=o)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var ke=0,$e=F;ke<$e.length;ke+=1)for(var Le=0,et=$e[ke];Le<et.length;Le+=1)Nc(et[Le],o,l,C)}return F}Ni.parse=function(n,o){if(n.length!==2)return o.error("Expected one argument.");var l=n[1];if(typeof l!="object"||Array.isArray(l))return o.error("Collator options argument must be an object.");var g=o.parse(l["case-sensitive"]!==void 0&&l["case-sensitive"],1,xt);if(!g)return null;var b=o.parse(l["diacritic-sensitive"]!==void 0&&l["diacritic-sensitive"],1,xt);if(!b)return null;var C=null;return l.locale&&!(C=o.parse(l.locale,1,Mt))?null:new Ni(g,b,C)},Ni.prototype.evaluate=function(n){return new uu(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)},Ni.prototype.eachChild=function(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]};var Ko=function(n,o){this.type=xt,this.geojson=n,this.geometries=o};function lu(n){if(n instanceof wi&&(n.name==="get"&&n.args.length===1||n.name==="feature-state"||n.name==="has"&&n.args.length===1||n.name==="properties"||n.name==="geometry-type"||n.name==="id"||/^filter-/.test(n.name))||n instanceof Ko)return!1;var o=!0;return n.eachChild(function(l){o&&!lu(l)&&(o=!1)}),o}function Ss(n){if(n instanceof wi&&n.name==="feature-state")return!1;var o=!0;return n.eachChild(function(l){o&&!Ss(l)&&(o=!1)}),o}function jc(n,o){if(n instanceof wi&&o.indexOf(n.name)>=0)return!1;var l=!0;return n.eachChild(function(g){l&&!jc(g,o)&&(l=!1)}),l}Ko.parse=function(n,o){if(n.length!==2)return o.error("'within' expression requires exactly one argument, but found "+(n.length-1)+" instead.");if(Re(n[1])){var l=n[1];if(l.type==="FeatureCollection")for(var g=0;g<l.features.length;++g){var b=l.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Ko(l,l.features[g].geometry)}else if(l.type==="Feature"){var C=l.geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new Ko(l,l.geometry)}else if(l.type==="Polygon"||l.type==="MultiPolygon")return new Ko(l,l)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ko.prototype.evaluate=function(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(o,l){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(l.type==="Polygon"){var T=Xl(l.coordinates,b,C),F=Uc(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var j=0,Q=F;j<Q.length;j+=1)if(!ci(Q[j],T))return!1}if(l.type==="MultiPolygon"){var W=Bu(l.coordinates,b,C),X=Uc(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var se=0,Ae=X;se<Ae.length;se+=1)if(!zc(Ae[se],W))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(o,l){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(l.type==="Polygon"){var T=Xl(l.coordinates,b,C),F=Yl(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var j=0,Q=F;j<Q.length;j+=1)if(!Of(Q[j],T))return!1}if(l.type==="MultiPolygon"){var W=Bu(l.coordinates,b,C),X=Yl(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var se=0,Ae=X;se<Ae.length;se+=1)if(!Kl(Ae[se],W))return!1}return!0}(n,this.geometries)}return!1},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return["within",this.geojson]};var cu=function(n,o){this.type=o.type,this.name=n,this.boundExpression=o};cu.parse=function(n,o){if(n.length!==2||typeof n[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");var l=n[1];return o.scope.has(l)?new cu(l,o.scope.get(l)):o.error('Unknown variable "'+l+'". Make sure "'+l+'" has been bound in an enclosing "let" expression before using it.',1)},cu.prototype.evaluate=function(n){return this.boundExpression.evaluate(n)},cu.prototype.eachChild=function(){},cu.prototype.outputDefined=function(){return!1},cu.prototype.serialize=function(){return["var",this.name]};var Nn=function(n,o,l,g,b){o===void 0&&(o=[]),g===void 0&&(g=new Rt),b===void 0&&(b=[]),this.registry=n,this.path=o,this.key=o.map(function(C){return"["+C+"]"}).join(""),this.scope=g,this.errors=b,this.expectedType=l};function qr(n,o){for(var l,g=n.length-1,b=0,C=g,T=0;b<=C;)if((l=n[T=Math.floor((b+C)/2)])<=o){if(T===g||o<n[T+1])return T;b=T+1}else{if(!(l>o))throw new si("Input is not a number.");C=T-1}return 0}Nn.prototype.parse=function(n,o,l,g,b){return b===void 0&&(b={}),o?this.concat(o,l,g)._parse(n,b):this._parse(n,b)},Nn.prototype._parse=function(n,o){function l(Q,W,X){return X==="assert"?new ko(W,[Q]):X==="coerce"?new zi(W,[Q]):Q}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=n[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[g];if(b){var C=b.parse(n,this);if(!C)return null;if(this.expectedType){var T=this.expectedType,F=C.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||F.kind!=="value")if(T.kind!=="color"&&T.kind!=="formatted"&&T.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string"){if(this.checkSubtype(T,F))return null}else C=l(C,T,o.typeAnnotation||"coerce");else C=l(C,T,o.typeAnnotation||"assert")}if(!(C instanceof la)&&C.type.kind!=="resolvedImage"&&function Q(W){if(W instanceof cu)return Q(W.boundExpression);if(W instanceof wi&&W.name==="error"||W instanceof Ni||W instanceof Ko)return!1;var X=W instanceof zi||W instanceof ko,se=!0;return W.eachChild(function(Ae){se=X?se&&Q(Ae):se&&Ae instanceof la}),!!se&&lu(W)&&jc(W,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(C)){var j=new as;try{C=new la(C.type,C.evaluate(j))}catch(Q){return this.error(Q.message),null}}return C}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof n+" instead.")},Nn.prototype.concat=function(n,o,l){var g=typeof n=="number"?this.path.concat(n):this.path,b=l?this.scope.concat(l):this.scope;return new Nn(this.registry,g,o||null,b,this.errors)},Nn.prototype.error=function(n){for(var o=[],l=arguments.length-1;l-- >0;)o[l]=arguments[l+1];var g=""+this.key+o.map(function(b){return"["+b+"]"}).join("");this.errors.push(new ye(g,n))},Nn.prototype.checkSubtype=function(n,o){var l=hi(n,o);return l&&this.error(l),l};var Fo=function(n,o,l){this.type=n,this.input=o,this.labels=[],this.outputs=[];for(var g=0,b=l;g<b.length;g+=1){var C=b[g],T=C[1];this.labels.push(C[0]),this.outputs.push(T)}};function kn(n,o,l){return n*(1-l)+o*l}Fo.parse=function(n,o){if(n.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");var l=o.parse(n[1],1,lt);if(!l)return null;var g=[],b=null;o.expectedType&&o.expectedType.kind!=="value"&&(b=o.expectedType);for(var C=1;C<n.length;C+=2){var T=C===1?-1/0:n[C],F=n[C+1],j=C,Q=C+1;if(typeof T!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(g.length&&g[g.length-1][0]>=T)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);var W=o.parse(F,Q,b);if(!W)return null;b=b||W.type,g.push([T,W])}return new Fo(b,l,g)},Fo.prototype.evaluate=function(n){var o=this.labels,l=this.outputs;if(o.length===1)return l[0].evaluate(n);var g=this.input.evaluate(n);if(g<=o[0])return l[0].evaluate(n);var b=o.length;return g>=o[b-1]?l[b-1].evaluate(n):l[qr(o,g)].evaluate(n)},Fo.prototype.eachChild=function(n){n(this.input);for(var o=0,l=this.outputs;o<l.length;o+=1)n(l[o])},Fo.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})},Fo.prototype.serialize=function(){for(var n=["step",this.input.serialize()],o=0;o<this.labels.length;o++)o>0&&n.push(this.labels[o]),n.push(this.outputs[o].serialize());return n};var sl=Object.freeze({__proto__:null,number:kn,color:function(n,o,l){return new xr(kn(n.r,o.r,l),kn(n.g,o.g,l),kn(n.b,o.b,l),kn(n.a,o.a,l))},array:function(n,o,l){return n.map(function(g,b){return kn(g,o[b],l)})}}),Mf=6/29*3*(6/29),$c=Math.PI/180,Mp=180/Math.PI;function ul(n){return n>.008856451679035631?Math.pow(n,1/3):n/Mf+4/29}function ll(n){return n>6/29?n*n*n:Mf*(n-4/29)}function yi(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function cl(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function js(n){var o=cl(n.r),l=cl(n.g),g=cl(n.b),b=ul((.4124564*o+.3575761*l+.1804375*g)/.95047),C=ul((.2126729*o+.7151522*l+.072175*g)/1);return{l:116*C-16,a:500*(b-C),b:200*(C-ul((.0193339*o+.119192*l+.9503041*g)/1.08883)),alpha:n.a}}function fl(n){var o=(n.l+16)/116,l=isNaN(n.a)?o:o+n.a/500,g=isNaN(n.b)?o:o-n.b/200;return o=1*ll(o),l=.95047*ll(l),g=1.08883*ll(g),new xr(yi(3.2404542*l-1.5371385*o-.4985314*g),yi(-.969266*l+1.8760108*o+.041556*g),yi(.0556434*l-.2040259*o+1.0572252*g),n.alpha)}function $s(n,o,l){var g=o-n;return n+l*(g>180||g<-180?g-360*Math.round(g/360):g)}var Ti={forward:js,reverse:fl,interpolate:function(n,o,l){return{l:kn(n.l,o.l,l),a:kn(n.a,o.a,l),b:kn(n.b,o.b,l),alpha:kn(n.alpha,o.alpha,l)}}},zu={forward:function(n){var o=js(n),l=o.l,g=o.a,b=o.b,C=Math.atan2(b,g)*Mp;return{h:C<0?C+360:C,c:Math.sqrt(g*g+b*b),l,alpha:n.a}},reverse:function(n){var o=n.h*$c,l=n.c;return fl({l:n.l,a:Math.cos(o)*l,b:Math.sin(o)*l,alpha:n.alpha})},interpolate:function(n,o,l){return{h:$s(n.h,o.h,l),c:kn(n.c,o.c,l),l:kn(n.l,o.l,l),alpha:kn(n.alpha,o.alpha,l)}}},Vc=Object.freeze({__proto__:null,lab:Ti,hcl:zu}),Zi=function(n,o,l,g,b){this.type=n,this.operator=o,this.interpolation=l,this.input=g,this.labels=[],this.outputs=[];for(var C=0,T=b;C<T.length;C+=1){var F=T[C],j=F[1];this.labels.push(F[0]),this.outputs.push(j)}};function Hc(n,o,l,g){var b=g-l,C=n-l;return b===0?0:o===1?C/b:(Math.pow(o,C)-1)/(Math.pow(o,b)-1)}Zi.interpolationFactor=function(n,o,l,g){var b=0;if(n.name==="exponential")b=Hc(o,n.base,l,g);else if(n.name==="linear")b=Hc(o,1,l,g);else if(n.name==="cubic-bezier"){var C=n.controlPoints;b=new S(C[0],C[1],C[2],C[3]).solve(Hc(o,1,l,g))}return b},Zi.parse=function(n,o){var l=n[0],g=n[1],b=n[2],C=n.slice(3);if(!Array.isArray(g)||g.length===0)return o.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var T=g[1];if(typeof T!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:T}}else{if(g[0]!=="cubic-bezier")return o.error("Unknown interpolation type "+String(g[0]),1,0);var F=g.slice(1);if(F.length!==4||F.some(function($e){return typeof $e!="number"||$e<0||$e>1}))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:F}}if(n.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(!(b=o.parse(b,2,lt)))return null;var j=[],Q=null;l==="interpolate-hcl"||l==="interpolate-lab"?Q=pr:o.expectedType&&o.expectedType.kind!=="value"&&(Q=o.expectedType);for(var W=0;W<C.length;W+=2){var X=C[W],se=C[W+1],Ae=W+3,Ee=W+4;if(typeof X!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ae);if(j.length&&j[j.length-1][0]>=X)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ae);var ke=o.parse(se,Ee,Q);if(!ke)return null;Q=Q||ke.type,j.push([X,ke])}return Q.kind==="number"||Q.kind==="color"||Q.kind==="array"&&Q.itemType.kind==="number"&&typeof Q.N=="number"?new Zi(Q,l,g,b,j):o.error("Type "+an(Q)+" is not interpolatable.")},Zi.prototype.evaluate=function(n){var o=this.labels,l=this.outputs;if(o.length===1)return l[0].evaluate(n);var g=this.input.evaluate(n);if(g<=o[0])return l[0].evaluate(n);var b=o.length;if(g>=o[b-1])return l[b-1].evaluate(n);var C=qr(o,g),T=Zi.interpolationFactor(this.interpolation,g,o[C],o[C+1]),F=l[C].evaluate(n),j=l[C+1].evaluate(n);return this.operator==="interpolate"?sl[this.type.kind.toLowerCase()](F,j,T):this.operator==="interpolate-hcl"?zu.reverse(zu.interpolate(zu.forward(F),zu.forward(j),T)):Ti.reverse(Ti.interpolate(Ti.forward(F),Ti.forward(j),T))},Zi.prototype.eachChild=function(n){n(this.input);for(var o=0,l=this.outputs;o<l.length;o+=1)n(l[o])},Zi.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})},Zi.prototype.serialize=function(){var n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var o=[this.operator,n,this.input.serialize()],l=0;l<this.labels.length;l++)o.push(this.labels[l],this.outputs[l].serialize());return o};var Vs=function(n,o){this.type=n,this.args=o};Vs.parse=function(n,o){if(n.length<2)return o.error("Expectected at least one argument.");var l=null,g=o.expectedType;g&&g.kind!=="value"&&(l=g);for(var b=[],C=0,T=n.slice(1);C<T.length;C+=1){var F=o.parse(T[C],1+b.length,l,void 0,{typeAnnotation:"omit"});if(!F)return null;l=l||F.type,b.push(F)}var j=g&&b.some(function(Q){return hi(g,Q.type)});return new Vs(j?qt:l,b)},Vs.prototype.evaluate=function(n){for(var o,l=null,g=0,b=0,C=this.args;b<C.length&&(g++,(l=C[b].evaluate(n))&&l instanceof Wo&&!l.available&&(o||(o=l.name),l=null,g===this.args.length&&(l=o)),l===null);b+=1);return l},Vs.prototype.eachChild=function(n){this.args.forEach(n)},Vs.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},Vs.prototype.serialize=function(){var n=["coalesce"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Cs=function(n,o){this.type=o.type,this.bindings=[].concat(n),this.result=o};Cs.prototype.evaluate=function(n){return this.result.evaluate(n)},Cs.prototype.eachChild=function(n){for(var o=0,l=this.bindings;o<l.length;o+=1)n(l[o][1]);n(this.result)},Cs.parse=function(n,o){if(n.length<4)return o.error("Expected at least 3 arguments, but found "+(n.length-1)+" instead.");for(var l=[],g=1;g<n.length-1;g+=2){var b=n[g];if(typeof b!="string")return o.error("Expected string, but found "+typeof b+" instead.",g);if(/[^a-zA-Z0-9_]/.test(b))return o.error("Variable names must contain only alphanumeric characters or '_'.",g);var C=o.parse(n[g+1],g+1);if(!C)return null;l.push([b,C])}var T=o.parse(n[n.length-1],n.length-1,o.expectedType,l);return T?new Cs(l,T):null},Cs.prototype.outputDefined=function(){return this.result.outputDefined()},Cs.prototype.serialize=function(){for(var n=["let"],o=0,l=this.bindings;o<l.length;o+=1){var g=l[o];n.push(g[0],g[1].serialize())}return n.push(this.result.serialize()),n};var fo=function(n,o,l){this.type=n,this.index=o,this.input=l};fo.parse=function(n,o){if(n.length!==3)return o.error("Expected 2 arguments, but found "+(n.length-1)+" instead.");var l=o.parse(n[1],1,lt),g=o.parse(n[2],2,dn(o.expectedType||qt));return l&&g?new fo(g.type.itemType,l,g):null},fo.prototype.evaluate=function(n){var o=this.index.evaluate(n),l=this.input.evaluate(n);if(o<0)throw new si("Array index out of bounds: "+o+" < 0.");if(o>=l.length)throw new si("Array index out of bounds: "+o+" > "+(l.length-1)+".");if(o!==Math.floor(o))throw new si("Array index must be an integer, but found "+o+" instead.");return l[o]},fo.prototype.eachChild=function(n){n(this.index),n(this.input)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Nu=function(n,o){this.type=xt,this.needle=n,this.haystack=o};Nu.parse=function(n,o){if(n.length!==3)return o.error("Expected 2 arguments, but found "+(n.length-1)+" instead.");var l=o.parse(n[1],1,qt),g=o.parse(n[2],2,qt);return l&&g?xn(l.type,[xt,Mt,lt,jt,qt])?new Nu(l,g):o.error("Expected first argument to be of type boolean, string, number or null, but found "+an(l.type)+" instead"):null},Nu.prototype.evaluate=function(n){var o=this.needle.evaluate(n),l=this.haystack.evaluate(n);if(!l)return!1;if(!Kt(o,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+an(so(o))+" instead.");if(!Kt(l,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+an(so(l))+" instead.");return l.indexOf(o)>=0},Nu.prototype.eachChild=function(n){n(this.needle),n(this.haystack)},Nu.prototype.outputDefined=function(){return!0},Nu.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var po=function(n,o,l){this.type=lt,this.needle=n,this.haystack=o,this.fromIndex=l};po.parse=function(n,o){if(n.length<=2||n.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(n.length-1)+" instead.");var l=o.parse(n[1],1,qt),g=o.parse(n[2],2,qt);if(!l||!g)return null;if(!xn(l.type,[xt,Mt,lt,jt,qt]))return o.error("Expected first argument to be of type boolean, string, number or null, but found "+an(l.type)+" instead");if(n.length===4){var b=o.parse(n[3],3,lt);return b?new po(l,g,b):null}return new po(l,g)},po.prototype.evaluate=function(n){var o=this.needle.evaluate(n),l=this.haystack.evaluate(n);if(!Kt(o,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+an(so(o))+" instead.");if(!Kt(l,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+an(so(l))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(n);return l.indexOf(o,g)}return l.indexOf(o)},po.prototype.eachChild=function(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)},po.prototype.outputDefined=function(){return!1},po.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ss=function(n,o,l,g,b,C){this.inputType=n,this.type=o,this.input=l,this.cases=g,this.outputs=b,this.otherwise=C};ss.parse=function(n,o){if(n.length<5)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if(n.length%2!=1)return o.error("Expected an even number of arguments.");var l,g;o.expectedType&&o.expectedType.kind!=="value"&&(g=o.expectedType);for(var b={},C=[],T=2;T<n.length-1;T+=2){var F=n[T],j=n[T+1];Array.isArray(F)||(F=[F]);var Q=o.concat(T);if(F.length===0)return Q.error("Expected at least one branch label.");for(var W=0,X=F;W<X.length;W+=1){var se=X[W];if(typeof se!="number"&&typeof se!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof se=="number"&&Math.abs(se)>Number.MAX_SAFE_INTEGER)return Q.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof se=="number"&&Math.floor(se)!==se)return Q.error("Numeric branch labels must be integer values.");if(l){if(Q.checkSubtype(l,so(se)))return null}else l=so(se);if(b[String(se)]!==void 0)return Q.error("Branch labels must be unique.");b[String(se)]=C.length}var Ae=o.parse(j,T,g);if(!Ae)return null;g=g||Ae.type,C.push(Ae)}var Ee=o.parse(n[1],1,qt);if(!Ee)return null;var ke=o.parse(n[n.length-1],n.length-1,g);return ke?Ee.type.kind!=="value"&&o.concat(1).checkSubtype(l,Ee.type)?null:new ss(l,g,Ee,b,C,ke):null},ss.prototype.evaluate=function(n){var o=this.input.evaluate(n);return(so(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(n)},ss.prototype.eachChild=function(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)},ss.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})&&this.otherwise.outputDefined()},ss.prototype.serialize=function(){for(var n=this,o=["match",this.input.serialize()],l=[],g={},b=0,C=Object.keys(this.cases).sort();b<C.length;b+=1){var T=C[b];(X=g[this.cases[T]])===void 0?(g[this.cases[T]]=l.length,l.push([this.cases[T],[T]])):l[X][1].push(T)}for(var F=function(Ae){return n.inputType.kind==="number"?Number(Ae):Ae},j=0,Q=l;j<Q.length;j+=1){var W=Q[j],X=W[0],se=W[1];o.push(se.length===1?F(se[0]):se.map(F)),o.push(this.outputs[outputIndex$1].serialize())}return o.push(this.otherwise.serialize()),o};var fu=function(n,o,l){this.type=n,this.branches=o,this.otherwise=l};fu.parse=function(n,o){if(n.length<4)return o.error("Expected at least 3 arguments, but found only "+(n.length-1)+".");if(n.length%2!=0)return o.error("Expected an odd number of arguments.");var l;o.expectedType&&o.expectedType.kind!=="value"&&(l=o.expectedType);for(var g=[],b=1;b<n.length-1;b+=2){var C=o.parse(n[b],b,xt);if(!C)return null;var T=o.parse(n[b+1],b+1,l);if(!T)return null;g.push([C,T]),l=l||T.type}var F=o.parse(n[n.length-1],n.length-1,l);return F?new fu(l,g,F):null},fu.prototype.evaluate=function(n){for(var o=0,l=this.branches;o<l.length;o+=1){var g=l[o],b=g[1];if(g[0].evaluate(n))return b.evaluate(n)}return this.otherwise.evaluate(n)},fu.prototype.eachChild=function(n){for(var o=0,l=this.branches;o<l.length;o+=1){var g=l[o],b=g[1];n(g[0]),n(b)}n(this.otherwise)},fu.prototype.outputDefined=function(){return this.branches.every(function(n){return n[1].outputDefined()})&&this.otherwise.outputDefined()},fu.prototype.serialize=function(){var n=["case"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Xo=function(n,o,l,g){this.type=n,this.input=o,this.beginIndex=l,this.endIndex=g};function pl(n,o){return n==="=="||n==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function Dn(n,o,l,g){return g.compare(o,l)===0}function ei(n,o,l){var g=n!=="=="&&n!=="!=";return function(){function b(C,T,F){this.type=xt,this.lhs=C,this.rhs=T,this.collator=F,this.hasUntypedArgument=C.type.kind==="value"||T.type.kind==="value"}return b.parse=function(C,T){if(C.length!==3&&C.length!==4)return T.error("Expected two or three arguments.");var F=C[0],j=T.parse(C[1],1,qt);if(!j)return null;if(!pl(F,j.type))return T.concat(1).error('"'+F+`" comparisons are not supported for type '`+an(j.type)+"'.");var Q=T.parse(C[2],2,qt);if(!Q)return null;if(!pl(F,Q.type))return T.concat(2).error('"'+F+`" comparisons are not supported for type '`+an(Q.type)+"'.");if(j.type.kind!==Q.type.kind&&j.type.kind!=="value"&&Q.type.kind!=="value")return T.error("Cannot compare types '"+an(j.type)+"' and '"+an(Q.type)+"'.");g&&(j.type.kind==="value"&&Q.type.kind!=="value"?j=new ko(Q.type,[j]):j.type.kind!=="value"&&Q.type.kind==="value"&&(Q=new ko(j.type,[Q])));var W=null;if(C.length===4){if(j.type.kind!=="string"&&Q.type.kind!=="string"&&j.type.kind!=="value"&&Q.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(!(W=T.parse(C[3],3,An)))return null}return new b(j,Q,W)},b.prototype.evaluate=function(C){var T=this.lhs.evaluate(C),F=this.rhs.evaluate(C);if(g&&this.hasUntypedArgument){var j=so(T),Q=so(F);if(j.kind!==Q.kind||j.kind!=="string"&&j.kind!=="number")throw new si('Expected arguments for "'+n+'" to be (string, string) or (number, number), but found ('+j.kind+", "+Q.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var W=so(T),X=so(F);if(W.kind!=="string"||X.kind!=="string")return o(C,T,F)}return this.collator?l(C,T,F,this.collator.evaluate(C)):o(C,T,F)},b.prototype.eachChild=function(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var C=[n];return this.eachChild(function(T){C.push(T.serialize())}),C},b}()}Xo.parse=function(n,o){if(n.length<=2||n.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(n.length-1)+" instead.");var l=o.parse(n[1],1,qt),g=o.parse(n[2],2,lt);if(!l||!g)return null;if(!xn(l.type,[dn(qt),Mt,qt]))return o.error("Expected first argument to be of type array or string, but found "+an(l.type)+" instead");if(n.length===4){var b=o.parse(n[3],3,lt);return b?new Xo(l.type,l,g,b):null}return new Xo(l.type,l,g)},Xo.prototype.evaluate=function(n){var o=this.input.evaluate(n),l=this.beginIndex.evaluate(n);if(!Kt(o,["string","array"]))throw new si("Expected first argument to be of type array or string, but found "+an(so(o))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(n);return o.slice(l,g)}return o.slice(l)},Xo.prototype.eachChild=function(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ua=ei("==",function(n,o,l){return o===l},Dn),Jl=ei("!=",function(n,o,l){return o!==l},function(n,o,l,g){return!Dn(0,o,l,g)}),Al=ei("<",function(n,o,l){return o<l},function(n,o,l,g){return g.compare(o,l)<0}),Hs=ei(">",function(n,o,l){return o>l},function(n,o,l,g){return g.compare(o,l)>0}),Rp=ei("<=",function(n,o,l){return o<=l},function(n,o,l,g){return g.compare(o,l)<=0}),ec=ei(">=",function(n,o,l){return o>=l},function(n,o,l,g){return g.compare(o,l)>=0}),pu=function(n,o,l,g,b){this.type=Mt,this.number=n,this.locale=o,this.currency=l,this.minFractionDigits=g,this.maxFractionDigits=b};pu.parse=function(n,o){if(n.length!==3)return o.error("Expected two arguments.");var l=o.parse(n[1],1,lt);if(!l)return null;var g=n[2];if(typeof g!="object"||Array.isArray(g))return o.error("NumberFormat options argument must be an object.");var b=null;if(g.locale&&!(b=o.parse(g.locale,1,Mt)))return null;var C=null;if(g.currency&&!(C=o.parse(g.currency,1,Mt)))return null;var T=null;if(g["min-fraction-digits"]&&!(T=o.parse(g["min-fraction-digits"],1,lt)))return null;var F=null;return g["max-fraction-digits"]&&!(F=o.parse(g["max-fraction-digits"],1,lt))?null:new pu(l,b,C,T,F)},pu.prototype.evaluate=function(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))},pu.prototype.eachChild=function(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)},pu.prototype.outputDefined=function(){return!1},pu.prototype.serialize=function(){var n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]};var qs=function(n){this.type=lt,this.input=n};qs.parse=function(n,o){if(n.length!==2)return o.error("Expected 1 argument, but found "+(n.length-1)+" instead.");var l=o.parse(n[1],1);return l?l.type.kind!=="array"&&l.type.kind!=="string"&&l.type.kind!=="value"?o.error("Expected argument of type string or array, but found "+an(l.type)+" instead."):new qs(l):null},qs.prototype.evaluate=function(n){var o=this.input.evaluate(n);if(typeof o=="string"||Array.isArray(o))return o.length;throw new si("Expected value to be of type string or array, but found "+an(so(o))+" instead.")},qs.prototype.eachChild=function(n){n(this.input)},qs.prototype.outputDefined=function(){return!1},qs.prototype.serialize=function(){var n=["length"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Gs={"==":Ua,"!=":Jl,">":Hs,"<":Al,">=":ec,"<=":Rp,array:ko,at:fo,boolean:ko,case:fu,coalesce:Vs,collator:Ni,format:Zo,image:os,in:Nu,"index-of":po,interpolate:Zi,"interpolate-hcl":Zi,"interpolate-lab":Zi,length:qs,let:Cs,literal:la,match:ss,number:ko,"number-format":pu,object:ko,slice:Xo,step:Fo,string:ko,"to-boolean":zi,"to-color":zi,"to-number":zi,"to-string":zi,var:cu,within:Ko};function Uu(n,o){var l=o[0],g=o[1],b=o[2],C=o[3];l=l.evaluate(n),g=g.evaluate(n),b=b.evaluate(n);var T=C?C.evaluate(n):1,F=Bc(l,g,b,T);if(F)throw new si(F);return new xr(l/255*T,g/255*T,b/255*T,T)}function Lp(n,o){return n in o}function qc(n,o){var l=o[n];return l===void 0?null:l}function Au(n){return{type:n}}function tc(n){return{result:"success",value:n}}function _a(n){return{result:"error",value:n}}function ju(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function Gc(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function rc(n){return!!n.expression&&n.expression.interpolated}function Vn(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function Qc(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Rf(n){return n}function To(n,o,l){return n!==void 0?n:o!==void 0?o:l!==void 0?l:void 0}function Wc(n,o,l,g,b){return To(typeof l===b?g[l]:void 0,n.default,o.default)}function hl(n,o,l){if(Vn(l)!=="number")return To(n.default,o.default);var g=n.stops.length;if(g===1||l<=n.stops[0][0])return n.stops[0][1];if(l>=n.stops[g-1][0])return n.stops[g-1][1];var b=qr(n.stops.map(function(C){return C[0]}),l);return n.stops[b][1]}function hu(n,o,l){var g=n.base!==void 0?n.base:1;if(Vn(l)!=="number")return To(n.default,o.default);var b=n.stops.length;if(b===1||l<=n.stops[0][0])return n.stops[0][1];if(l>=n.stops[b-1][0])return n.stops[b-1][1];var C=qr(n.stops.map(function(X){return X[0]}),l),T=function(X,se,Ae,Ee){var ke=Ee-Ae,$e=X-Ae;return ke===0?0:se===1?$e/ke:(Math.pow(se,$e)-1)/(Math.pow(se,ke)-1)}(l,g,n.stops[C][0],n.stops[C+1][0]),F=n.stops[C][1],j=n.stops[C+1][1],Q=sl[o.type]||Rf;if(n.colorSpace&&n.colorSpace!=="rgb"){var W=Vc[n.colorSpace];Q=function(X,se){return W.reverse(W.interpolate(W.forward(X),W.forward(se),T))}}return typeof F.evaluate=="function"?{evaluate:function(){for(var X=[],se=arguments.length;se--;)X[se]=arguments[se];var Ae=F.evaluate.apply(void 0,X),Ee=j.evaluate.apply(void 0,X);if(Ae!==void 0&&Ee!==void 0)return Q(Ae,Ee,T)}}:Q(F,j,T)}function Lf(n,o,l){return o.type==="color"?l=xr.parse(l):o.type==="formatted"?l=ao.fromString(l.toString()):o.type==="resolvedImage"?l=Wo.fromString(l.toString()):Vn(l)===o.type||o.type==="enum"&&o.values[l]||(l=void 0),To(l,n.default,o.default)}wi.register(Gs,{error:[{kind:"error"},[Mt],function(n,o){throw new si(o[0].evaluate(n))}],typeof:[Mt,[qt],function(n,o){return an(so(o[0].evaluate(n)))}],"to-rgba":[dn(lt,4),[pr],function(n,o){return o[0].evaluate(n).toArray()}],rgb:[pr,[lt,lt,lt],Uu],rgba:[pr,[lt,lt,lt,lt],Uu],has:{type:xt,overloads:[[[Mt],function(n,o){return Lp(o[0].evaluate(n),n.properties())}],[[Mt,ur],function(n,o){var l=o[1];return Lp(o[0].evaluate(n),l.evaluate(n))}]]},get:{type:qt,overloads:[[[Mt],function(n,o){return qc(o[0].evaluate(n),n.properties())}],[[Mt,ur],function(n,o){var l=o[1];return qc(o[0].evaluate(n),l.evaluate(n))}]]},"feature-state":[qt,[Mt],function(n,o){return qc(o[0].evaluate(n),n.featureState||{})}],properties:[ur,[],function(n){return n.properties()}],"geometry-type":[Mt,[],function(n){return n.geometryType()}],id:[qt,[],function(n){return n.id()}],zoom:[lt,[],function(n){return n.globals.zoom}],"heatmap-density":[lt,[],function(n){return n.globals.heatmapDensity||0}],"line-progress":[lt,[],function(n){return n.globals.lineProgress||0}],accumulated:[qt,[],function(n){return n.globals.accumulated===void 0?null:n.globals.accumulated}],"+":[lt,Au(lt),function(n,o){for(var l=0,g=0,b=o;g<b.length;g+=1)l+=b[g].evaluate(n);return l}],"*":[lt,Au(lt),function(n,o){for(var l=1,g=0,b=o;g<b.length;g+=1)l*=b[g].evaluate(n);return l}],"-":{type:lt,overloads:[[[lt,lt],function(n,o){var l=o[1];return o[0].evaluate(n)-l.evaluate(n)}],[[lt],function(n,o){return-o[0].evaluate(n)}]]},"/":[lt,[lt,lt],function(n,o){var l=o[1];return o[0].evaluate(n)/l.evaluate(n)}],"%":[lt,[lt,lt],function(n,o){var l=o[1];return o[0].evaluate(n)%l.evaluate(n)}],ln2:[lt,[],function(){return Math.LN2}],pi:[lt,[],function(){return Math.PI}],e:[lt,[],function(){return Math.E}],"^":[lt,[lt,lt],function(n,o){var l=o[1];return Math.pow(o[0].evaluate(n),l.evaluate(n))}],sqrt:[lt,[lt],function(n,o){return Math.sqrt(o[0].evaluate(n))}],log10:[lt,[lt],function(n,o){return Math.log(o[0].evaluate(n))/Math.LN10}],ln:[lt,[lt],function(n,o){return Math.log(o[0].evaluate(n))}],log2:[lt,[lt],function(n,o){return Math.log(o[0].evaluate(n))/Math.LN2}],sin:[lt,[lt],function(n,o){return Math.sin(o[0].evaluate(n))}],cos:[lt,[lt],function(n,o){return Math.cos(o[0].evaluate(n))}],tan:[lt,[lt],function(n,o){return Math.tan(o[0].evaluate(n))}],asin:[lt,[lt],function(n,o){return Math.asin(o[0].evaluate(n))}],acos:[lt,[lt],function(n,o){return Math.acos(o[0].evaluate(n))}],atan:[lt,[lt],function(n,o){return Math.atan(o[0].evaluate(n))}],min:[lt,Au(lt),function(n,o){return Math.min.apply(Math,o.map(function(l){return l.evaluate(n)}))}],max:[lt,Au(lt),function(n,o){return Math.max.apply(Math,o.map(function(l){return l.evaluate(n)}))}],abs:[lt,[lt],function(n,o){return Math.abs(o[0].evaluate(n))}],round:[lt,[lt],function(n,o){var l=o[0].evaluate(n);return l<0?-Math.round(-l):Math.round(l)}],floor:[lt,[lt],function(n,o){return Math.floor(o[0].evaluate(n))}],ceil:[lt,[lt],function(n,o){return Math.ceil(o[0].evaluate(n))}],"filter-==":[xt,[Mt,qt],function(n,o){var l=o[0],g=o[1];return n.properties()[l.value]===g.value}],"filter-id-==":[xt,[qt],function(n,o){var l=o[0];return n.id()===l.value}],"filter-type-==":[xt,[Mt],function(n,o){var l=o[0];return n.geometryType()===l.value}],"filter-<":[xt,[Mt,qt],function(n,o){var l=o[0],g=o[1],b=n.properties()[l.value],C=g.value;return typeof b==typeof C&&b<C}],"filter-id-<":[xt,[qt],function(n,o){var l=o[0],g=n.id(),b=l.value;return typeof g==typeof b&&g<b}],"filter->":[xt,[Mt,qt],function(n,o){var l=o[0],g=o[1],b=n.properties()[l.value],C=g.value;return typeof b==typeof C&&b>C}],"filter-id->":[xt,[qt],function(n,o){var l=o[0],g=n.id(),b=l.value;return typeof g==typeof b&&g>b}],"filter-<=":[xt,[Mt,qt],function(n,o){var l=o[0],g=o[1],b=n.properties()[l.value],C=g.value;return typeof b==typeof C&&b<=C}],"filter-id-<=":[xt,[qt],function(n,o){var l=o[0],g=n.id(),b=l.value;return typeof g==typeof b&&g<=b}],"filter->=":[xt,[Mt,qt],function(n,o){var l=o[0],g=o[1],b=n.properties()[l.value],C=g.value;return typeof b==typeof C&&b>=C}],"filter-id->=":[xt,[qt],function(n,o){var l=o[0],g=n.id(),b=l.value;return typeof g==typeof b&&g>=b}],"filter-has":[xt,[qt],function(n,o){return o[0].value in n.properties()}],"filter-has-id":[xt,[],function(n){return n.id()!==null&&n.id()!==void 0}],"filter-type-in":[xt,[dn(Mt)],function(n,o){return o[0].value.indexOf(n.geometryType())>=0}],"filter-id-in":[xt,[dn(qt)],function(n,o){return o[0].value.indexOf(n.id())>=0}],"filter-in-small":[xt,[Mt,dn(qt)],function(n,o){var l=o[0];return o[1].value.indexOf(n.properties()[l.value])>=0}],"filter-in-large":[xt,[Mt,dn(qt)],function(n,o){var l=o[0],g=o[1];return function(b,C,T,F){for(;T<=F;){var j=T+F>>1;if(C[j]===b)return!0;C[j]>b?F=j-1:T=j+1}return!1}(n.properties()[l.value],g.value,0,g.value.length-1)}],all:{type:xt,overloads:[[[xt,xt],function(n,o){var l=o[1];return o[0].evaluate(n)&&l.evaluate(n)}],[Au(xt),function(n,o){for(var l=0,g=o;l<g.length;l+=1)if(!g[l].evaluate(n))return!1;return!0}]]},any:{type:xt,overloads:[[[xt,xt],function(n,o){var l=o[1];return o[0].evaluate(n)||l.evaluate(n)}],[Au(xt),function(n,o){for(var l=0,g=o;l<g.length;l+=1)if(g[l].evaluate(n))return!0;return!1}]]},"!":[xt,[xt],function(n,o){return!o[0].evaluate(n)}],"is-supported-script":[xt,[Mt],function(n,o){var l=n.globals&&n.globals.isSupportedScript;return!l||l(o[0].evaluate(n))}],upcase:[Mt,[Mt],function(n,o){return o[0].evaluate(n).toUpperCase()}],downcase:[Mt,[Mt],function(n,o){return o[0].evaluate(n).toLowerCase()}],concat:[Mt,Au(qt),function(n,o){return o.map(function(l){return is(l.evaluate(n))}).join("")}],"resolved-locale":[Mt,[An],function(n,o){return o[0].evaluate(n).resolvedLocale()}]});var Ao=function(n,o){this.expression=n,this._warningHistory={},this._evaluator=new as,this._defaultValue=o?function(l){return l.type==="color"&&Qc(l.default)?new xr(0,0,0,0):l.type==="color"?xr.parse(l.default)||null:l.default===void 0?null:l.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null};function Ui(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in Gs}function Zc(n,o){var l=new Nn(Gs,[],o?function(b){var C={color:pr,string:Mt,number:lt,enum:Mt,boolean:xt,formatted:Xr,resolvedImage:Ln};return b.type==="array"?dn(C[b.value]||qt,b.length):C[b.type]}(o):void 0),g=l.parse(n,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?tc(new Ao(g,o)):_a(l.errors)}Ao.prototype.evaluateWithoutErrorHandling=function(n,o,l,g,b,C){return this._evaluator.globals=n,this._evaluator.feature=o,this._evaluator.featureState=l,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this.expression.evaluate(this._evaluator)},Ao.prototype.evaluate=function(n,o,l,g,b,C){this._evaluator.globals=n,this._evaluator.feature=o||null,this._evaluator.featureState=l||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null;try{var T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new si("Expected value to be one of "+Object.keys(this._enumValues).map(function(F){return JSON.stringify(F)}).join(", ")+", but found "+JSON.stringify(T)+" instead.");return T}catch(F){return this._warningHistory[F.message]||(this._warningHistory[F.message]=!0,typeof console<"u"&&console.warn(F.message)),this._defaultValue}};var nc=function(n,o){this.kind=n,this._styleExpression=o,this.isStateDependent=n!=="constant"&&!Ss(o.expression)};nc.prototype.evaluateWithoutErrorHandling=function(n,o,l,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,o,l,g,b,C)},nc.prototype.evaluate=function(n,o,l,g,b,C){return this._styleExpression.evaluate(n,o,l,g,b,C)};var dl=function(n,o,l,g){this.kind=n,this.zoomStops=l,this._styleExpression=o,this.isStateDependent=n!=="camera"&&!Ss(o.expression),this.interpolationType=g};function du(n,o){if((n=Zc(n,o)).result==="error")return n;var l=n.value.expression,g=lu(l);if(!g&&!ju(o))return _a([new ye("","data expressions not supported")]);var b=jc(l,["zoom"]);if(!b&&!Gc(o))return _a([new ye("","zoom expressions not supported")]);var C=function T(F){var j=null;if(F instanceof Cs)j=T(F.result);else if(F instanceof Vs)for(var Q=0,W=F.args;Q<W.length&&!(j=T(W[Q]));Q+=1);else(F instanceof Fo||F instanceof Zi)&&F.input instanceof wi&&F.input.name==="zoom"&&(j=F);return j instanceof ye||F.eachChild(function(X){var se=T(X);se instanceof ye?j=se:!j&&se?j=new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):j&&se&&j!==se&&(j=new ye("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),j}(l);return C||b?C instanceof ye?_a([C]):C instanceof Zi&&!rc(o)?_a([new ye("",'"interpolate" expressions cannot be used with this property')]):tc(C?new dl(g?"camera":"composite",n.value,C.labels,C instanceof Zi?C.interpolation:void 0):new nc(g?"constant":"source",n.value)):_a([new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}dl.prototype.evaluateWithoutErrorHandling=function(n,o,l,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,o,l,g,b,C)},dl.prototype.evaluate=function(n,o,l,g,b,C){return this._styleExpression.evaluate(n,o,l,g,b,C)},dl.prototype.interpolationFactor=function(n,o,l){return this.interpolationType?Zi.interpolationFactor(this.interpolationType,n,o,l):0};var ic=function(n,o){this._parameters=n,this._specification=o,ot(this,function l(g,b){var C,T,F,j=b.type==="color",Q=g.stops&&typeof g.stops[0][0]=="object",W=Q||!(Q||g.property!==void 0),X=g.type||(rc(b)?"exponential":"interval");if(j&&((g=ot({},g)).stops&&(g.stops=g.stops.map(function(Jt){return[Jt[0],xr.parse(Jt[1])]})),g.default=xr.parse(g.default?g.default:b.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!Vc[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(X==="exponential")C=hu;else if(X==="interval")C=hl;else if(X==="categorical"){C=Wc,T=Object.create(null);for(var se=0,Ae=g.stops;se<Ae.length;se+=1){var Ee=Ae[se];T[Ee[0]]=Ee[1]}F=typeof g.stops[0][0]}else{if(X!=="identity")throw new Error('Unknown function type "'+X+'"');C=Lf}if(Q){for(var ke={},$e=[],Le=0;Le<g.stops.length;Le++){var et=g.stops[Le],nt=et[0].zoom;ke[nt]===void 0&&(ke[nt]={zoom:nt,type:g.type,property:g.property,default:g.default,stops:[]},$e.push(nt)),ke[nt].stops.push([et[0].value,et[1]])}for(var ct=[],ft=0,Pt=$e;ft<Pt.length;ft+=1){var Ut=Pt[ft];ct.push([ke[Ut].zoom,l(ke[Ut],b)])}var Zt={name:"linear"};return{kind:"composite",interpolationType:Zt,interpolationFactor:Zi.interpolationFactor.bind(void 0,Zt),zoomStops:ct.map(function(Jt){return Jt[0]}),evaluate:function(Jt,Cr){var rr=Jt.zoom;return hu({stops:ct,base:g.base},b,rr).evaluate(rr,Cr)}}}if(W){var mr=X==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:mr,interpolationFactor:Zi.interpolationFactor.bind(void 0,mr),zoomStops:g.stops.map(function(Jt){return Jt[0]}),evaluate:function(Jt){return C(g,b,Jt.zoom,T,F)}}}return{kind:"source",evaluate:function(Jt,Cr){var rr=Cr&&Cr.properties?Cr.properties[g.property]:void 0;return rr===void 0?To(g.default,b.default):C(g,b,rr,T,F)}}}(this._parameters,this._specification))};function Si(n){var o=n.key,l=n.value,g=n.valueSpec||{},b=n.objectElementValidators||{},C=n.style,T=n.styleSpec,F=[],j=Vn(l);if(j!=="object")return[new ne(o,l,"object expected, "+j+" found")];for(var Q in l){var W=Q.split(".")[0],X=g[W]||g["*"],se=void 0;if(b[W])se=b[W];else if(g[W])se=sn;else if(b["*"])se=b["*"];else{if(!g["*"]){F.push(new ne(o,l[Q],'unknown property "'+Q+'"'));continue}se=sn}F=F.concat(se({key:(o&&o+".")+Q,value:l[Q],valueSpec:X,style:C,styleSpec:T,object:l,objectKey:Q},l))}for(var Ae in g)b[Ae]||g[Ae].required&&g[Ae].default===void 0&&l[Ae]===void 0&&F.push(new ne(o,l,'missing required property "'+Ae+'"'));return F}function ml(n){var o=n.value,l=n.valueSpec,g=n.style,b=n.styleSpec,C=n.key,T=n.arrayElementValidator||sn;if(Vn(o)!=="array")return[new ne(C,o,"array expected, "+Vn(o)+" found")];if(l.length&&o.length!==l.length)return[new ne(C,o,"array length "+l.length+" expected, length "+o.length+" found")];if(l["min-length"]&&o.length<l["min-length"])return[new ne(C,o,"array length at least "+l["min-length"]+" expected, length "+o.length+" found")];var F={type:l.value,values:l.values};b.$version<7&&(F.function=l.function),Vn(l.value)==="object"&&(F=l.value);for(var j=[],Q=0;Q<o.length;Q++)j=j.concat(T({array:o,arrayIndex:Q,value:o[Q],valueSpec:F,style:g,styleSpec:b,key:C+"["+Q+"]"}));return j}function Es(n){var o=n.key,l=n.value,g=n.valueSpec,b=Vn(l);return b==="number"&&l!=l&&(b="NaN"),b!=="number"?[new ne(o,l,"number expected, "+b+" found")]:"minimum"in g&&l<g.minimum?[new ne(o,l,l+" is less than the minimum value "+g.minimum)]:"maximum"in g&&l>g.maximum?[new ne(o,l,l+" is greater than the maximum value "+g.maximum)]:[]}function ks(n){var o,l,g,b=n.valueSpec,C=Ge(n.value.type),T={},F=C!=="categorical"&&n.value.property===void 0,j=!F,Q=Vn(n.value.stops)==="array"&&Vn(n.value.stops[0])==="array"&&Vn(n.value.stops[0][0])==="object",W=Si({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(Ae){if(C==="identity")return[new ne(Ae.key,Ae.value,'identity function may not have a "stops" property')];var Ee=[],ke=Ae.value;return Ee=Ee.concat(ml({key:Ae.key,value:ke,valueSpec:Ae.valueSpec,style:Ae.style,styleSpec:Ae.styleSpec,arrayElementValidator:X})),Vn(ke)==="array"&&ke.length===0&&Ee.push(new ne(Ae.key,ke,"array must have at least one stop")),Ee},default:function(Ae){return sn({key:Ae.key,value:Ae.value,valueSpec:b,style:Ae.style,styleSpec:Ae.styleSpec})}}});return C==="identity"&&F&&W.push(new ne(n.key,n.value,'missing required property "property"')),C==="identity"||n.value.stops||W.push(new ne(n.key,n.value,'missing required property "stops"')),C==="exponential"&&n.valueSpec.expression&&!rc(n.valueSpec)&&W.push(new ne(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(j&&!ju(n.valueSpec)?W.push(new ne(n.key,n.value,"property functions not supported")):F&&!Gc(n.valueSpec)&&W.push(new ne(n.key,n.value,"zoom functions not supported"))),C!=="categorical"&&!Q||n.value.property!==void 0||W.push(new ne(n.key,n.value,'"property" property is required')),W;function X(Ae){var Ee=[],ke=Ae.value,$e=Ae.key;if(Vn(ke)!=="array")return[new ne($e,ke,"array expected, "+Vn(ke)+" found")];if(ke.length!==2)return[new ne($e,ke,"array length 2 expected, length "+ke.length+" found")];if(Q){if(Vn(ke[0])!=="object")return[new ne($e,ke,"object expected, "+Vn(ke[0])+" found")];if(ke[0].zoom===void 0)return[new ne($e,ke,"object stop key must have zoom")];if(ke[0].value===void 0)return[new ne($e,ke,"object stop key must have value")];if(g&&g>Ge(ke[0].zoom))return[new ne($e,ke[0].zoom,"stop zoom values must appear in ascending order")];Ge(ke[0].zoom)!==g&&(g=Ge(ke[0].zoom),l=void 0,T={}),Ee=Ee.concat(Si({key:$e+"[0]",value:ke[0],valueSpec:{zoom:{}},style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{zoom:Es,value:se}}))}else Ee=Ee.concat(se({key:$e+"[0]",value:ke[0],valueSpec:{},style:Ae.style,styleSpec:Ae.styleSpec},ke));return Ui(h(ke[1]))?Ee.concat([new ne($e+"[1]",ke[1],"expressions are not allowed in function stops.")]):Ee.concat(sn({key:$e+"[1]",value:ke[1],valueSpec:b,style:Ae.style,styleSpec:Ae.styleSpec}))}function se(Ae,Ee){var ke=Vn(Ae.value),$e=Ge(Ae.value),Le=Ae.value!==null?Ae.value:Ee;if(o){if(ke!==o)return[new ne(Ae.key,Le,ke+" stop domain type must match previous stop domain type "+o)]}else o=ke;if(ke!=="number"&&ke!=="string"&&ke!=="boolean")return[new ne(Ae.key,Le,"stop domain value must be a number, string, or boolean")];if(ke!=="number"&&C!=="categorical"){var et="number expected, "+ke+" found";return ju(b)&&C===void 0&&(et+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ne(Ae.key,Le,et)]}return C!=="categorical"||ke!=="number"||isFinite($e)&&Math.floor($e)===$e?C!=="categorical"&&ke==="number"&&l!==void 0&&$e<l?[new ne(Ae.key,Le,"stop domain values must appear in ascending order")]:(l=$e,C==="categorical"&&$e in T?[new ne(Ae.key,Le,"stop domain values must be unique")]:(T[$e]=!0,[])):[new ne(Ae.key,Le,"integer expected, found "+$e)]}}function ja(n){var o=(n.expressionContext==="property"?du:Zc)(h(n.value),n.valueSpec);if(o.result==="error")return o.value.map(function(g){return new ne(""+n.key+g.key,n.value,g.message)});var l=o.value.expression||o.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!l.outputDefined())return[new ne(n.key,n.value,'Invalid data expression for "'+n.propertyKey+'". Output values must be contained as literals within the expression.')];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!Ss(l))return[new ne(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!Ss(l))return[new ne(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!jc(l,["zoom","feature-state"]))return[new ne(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!lu(l))return[new ne(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function oc(n){var o=n.key,l=n.value,g=n.valueSpec,b=[];return Array.isArray(g.values)?g.values.indexOf(Ge(l))===-1&&b.push(new ne(o,l,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(l)+" found")):Object.keys(g.values).indexOf(Ge(l))===-1&&b.push(new ne(o,l,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(l)+" found")),b}function Yo(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(var o=0,l=n.slice(1);o<l.length;o+=1){var g=l[o];if(!Yo(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ic.deserialize=function(n){return new ic(n._parameters,n._specification)},ic.serialize=function(n){return{_parameters:n._parameters,_specification:n._specification}};var Dp={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function us(n){if(n==null)return{filter:function(){return!0},needGeometry:!1};Yo(n)||(n=ls(n));var o=Zc(n,Dp);if(o.result==="error")throw new Error(o.value.map(function(l){return l.key+": "+l.message}).join(", "));return{filter:function(l,g,b){return o.value.evaluate(l,g,{},b)},needGeometry:function l(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var b=1;b<g.length;b++)if(l(g[b]))return!0;return!1}(n)}}function fa(n,o){return n<o?-1:n>o?1:0}function ls(n){if(!n)return!0;var o,l=n[0];return n.length<=1?l!=="any":l==="=="?Qs(n[1],n[2],"=="):l==="!="?Kc(Qs(n[1],n[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Qs(n[1],n[2],l):l==="any"?(o=n.slice(1),["any"].concat(o.map(ls))):l==="all"?["all"].concat(n.slice(1).map(ls)):l==="none"?["all"].concat(n.slice(1).map(ls).map(Kc)):l==="in"?Fp(n[1],n.slice(2)):l==="!in"?Kc(Fp(n[1],n.slice(2))):l==="has"?Df(n[1]):l==="!has"?Kc(Df(n[1])):l!=="within"||n}function Qs(n,o,l){switch(n){case"$type":return["filter-type-"+l,o];case"$id":return["filter-id-"+l,o];default:return["filter-"+l,n,o]}}function Fp(n,o){if(o.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(function(l){return typeof l!=typeof o[0]})?["filter-in-large",n,["literal",o.sort(fa)]]:["filter-in-small",n,["literal",o]]}}function Df(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Kc(n){return["!",n]}function gl(n){return Yo(h(n.value))?ja(ot({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function o(l){var g=l.value,b=l.key;if(Vn(g)!=="array")return[new ne(b,g,"array expected, "+Vn(g)+" found")];var C,T=l.styleSpec,F=[];if(g.length<1)return[new ne(b,g,"filter array must have at least 1 element")];switch(F=F.concat(oc({key:b+"[0]",value:g[0],valueSpec:T.filter_operator,style:l.style,styleSpec:l.styleSpec})),Ge(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&Ge(g[1])==="$type"&&F.push(new ne(b,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&F.push(new ne(b,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(C=Vn(g[1]))!=="string"&&F.push(new ne(b+"[1]",g[1],"string expected, "+C+" found"));for(var j=2;j<g.length;j++)C=Vn(g[j]),Ge(g[1])==="$type"?F=F.concat(oc({key:b+"["+j+"]",value:g[j],valueSpec:T.geometry_type,style:l.style,styleSpec:l.styleSpec})):C!=="string"&&C!=="number"&&C!=="boolean"&&F.push(new ne(b+"["+j+"]",g[j],"string, number, or boolean expected, "+C+" found"));break;case"any":case"all":case"none":for(var Q=1;Q<g.length;Q++)F=F.concat(o({key:b+"["+Q+"]",value:g[Q],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":C=Vn(g[1]),g.length!==2?F.push(new ne(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="string"&&F.push(new ne(b+"[1]",g[1],"string expected, "+C+" found"));break;case"within":C=Vn(g[1]),g.length!==2?F.push(new ne(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="object"&&F.push(new ne(b+"[1]",g[1],"object expected, "+C+" found"))}return F}(n)}function Ws(n,o){var l=n.key,g=n.style,b=n.styleSpec,C=n.value,T=n.objectKey,F=b[o+"_"+n.layerType];if(!F)return[];var j=T.match(/^(.*)-transition$/);if(o==="paint"&&j&&F[j[1]]&&F[j[1]].transition)return sn({key:l,value:C,valueSpec:b.transition,style:g,styleSpec:b});var Q,W=n.valueSpec||F[T];if(!W)return[new ne(l,C,'unknown property "'+T+'"')];if(Vn(C)==="string"&&ju(W)&&!W.tokens&&(Q=/^{([^}]+)}$/.exec(C)))return[new ne(l,C,'"'+T+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Q[1])+" }`.")];var X=[];return n.layerType==="symbol"&&(T==="text-field"&&g&&!g.glyphs&&X.push(new ne(l,C,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Qc(h(C))&&Ge(C.type)==="identity"&&X.push(new ne(l,C,'"text-font" does not support identity functions'))),X.concat(sn({key:n.key,value:C,valueSpec:W,style:g,styleSpec:b,expressionContext:"property",propertyType:o,propertyKey:T}))}function rt(n){return Ws(n,"paint")}function Ot(n){return Ws(n,"layout")}function vt(n){var o=[],l=n.value,g=n.key,b=n.style,C=n.styleSpec;l.type||l.ref||o.push(new ne(g,l,'either "type" or "ref" is required'));var T,F=Ge(l.type),j=Ge(l.ref);if(l.id)for(var Q=Ge(l.id),W=0;W<n.arrayIndex;W++){var X=b.layers[W];Ge(X.id)===Q&&o.push(new ne(g,l.id,'duplicate layer id "'+l.id+'", previously used at line '+X.id.__line__))}if("ref"in l)["type","source","source-layer","filter","layout"].forEach(function(Ee){Ee in l&&o.push(new ne(g,l[Ee],'"'+Ee+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ee){Ge(Ee.id)===j&&(T=Ee)}),T?T.ref?o.push(new ne(g,l.ref,"ref cannot reference another ref layer")):F=Ge(T.type):o.push(new ne(g,l.ref,'ref layer "'+j+'" not found'));else if(F!=="background")if(l.source){var se=b.sources&&b.sources[l.source],Ae=se&&Ge(se.type);se?Ae==="vector"&&F==="raster"?o.push(new ne(g,l.source,'layer "'+l.id+'" requires a raster source')):Ae==="raster"&&F!=="raster"?o.push(new ne(g,l.source,'layer "'+l.id+'" requires a vector source')):Ae!=="vector"||l["source-layer"]?Ae==="raster-dem"&&F!=="hillshade"?o.push(new ne(g,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):F!=="line"||!l.paint||!l.paint["line-gradient"]||Ae==="geojson"&&se.lineMetrics||o.push(new ne(g,l,'layer "'+l.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):o.push(new ne(g,l,'layer "'+l.id+'" must specify a "source-layer"')):o.push(new ne(g,l.source,'source "'+l.source+'" not found'))}else o.push(new ne(g,l,'missing required property "source"'));return o=o.concat(Si({key:g,value:l,valueSpec:C.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return sn({key:g+".type",value:l.type,valueSpec:C.layer.type,style:n.style,styleSpec:n.styleSpec,object:l,objectKey:"type"})},filter:gl,layout:function(Ee){return Si({layer:l,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return Ot(ot({layerType:F},ke))}}})},paint:function(Ee){return Si({layer:l,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return rt(ot({layerType:F},ke))}}})}}}))}function Vt(n){var o=n.value,l=n.key,g=Vn(o);return g!=="string"?[new ne(l,o,"string expected, "+g+" found")]:[]}var Yr={promoteId:function(n){var o=n.key,l=n.value;if(Vn(l)==="string")return Vt({key:o,value:l});var g=[];for(var b in l)g.push.apply(g,Vt({key:o+"."+b,value:l[b]}));return g}};function bn(n){var o=n.value,l=n.key,g=n.styleSpec,b=n.style;if(!o.type)return[new ne(l,o,'"type" is required')];var C,T=Ge(o.type);switch(T){case"vector":case"raster":case"raster-dem":return Si({key:l,value:o,valueSpec:g["source_"+T.replace("-","_")],style:n.style,styleSpec:g,objectElementValidators:Yr});case"geojson":if(C=Si({key:l,value:o,valueSpec:g.source_geojson,style:b,styleSpec:g,objectElementValidators:Yr}),o.cluster)for(var F in o.clusterProperties){var j=o.clusterProperties[F],Q=j[0],W=typeof Q=="string"?[Q,["accumulated"],["get",F]]:Q;C.push.apply(C,ja({key:l+"."+F+".map",value:j[1],expressionContext:"cluster-map"})),C.push.apply(C,ja({key:l+"."+F+".reduce",value:W,expressionContext:"cluster-reduce"}))}return C;case"video":return Si({key:l,value:o,valueSpec:g.source_video,style:b,styleSpec:g});case"image":return Si({key:l,value:o,valueSpec:g.source_image,style:b,styleSpec:g});case"canvas":return[new ne(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oc({key:l+".type",value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:g})}}function ti(n){var o=n.value,l=n.styleSpec,g=l.light,b=n.style,C=[],T=Vn(o);if(o===void 0)return C;if(T!=="object")return C.concat([new ne("light",o,"object expected, "+T+" found")]);for(var F in o){var j=F.match(/^(.*)-transition$/);C=C.concat(j&&g[j[1]]&&g[j[1]].transition?sn({key:F,value:o[F],valueSpec:l.transition,style:b,styleSpec:l}):g[F]?sn({key:F,value:o[F],valueSpec:g[F],style:b,styleSpec:l}):[new ne(F,o[F],'unknown property "'+F+'"')])}return C}var Mr={"*":function(){return[]},array:ml,boolean:function(n){var o=n.value,l=n.key,g=Vn(o);return g!=="boolean"?[new ne(l,o,"boolean expected, "+g+" found")]:[]},number:Es,color:function(n){var o=n.key,l=n.value,g=Vn(l);return g!=="string"?[new ne(o,l,"color expected, "+g+" found")]:qe(l)===null?[new ne(o,l,'color expected, "'+l+'" found')]:[]},constants:je,enum:oc,filter:gl,function:ks,layer:vt,object:Si,source:bn,light:ti,string:Vt,formatted:function(n){return Vt(n).length===0?[]:ja(n)},resolvedImage:function(n){return Vt(n).length===0?[]:ja(n)}};function sn(n){var o=n.value,l=n.valueSpec,g=n.styleSpec;return l.expression&&Qc(Ge(o))?ks(n):l.expression&&Ui(h(o))?ja(n):l.type&&Mr[l.type]?Mr[l.type](n):Si(ot({},n,{valueSpec:l.type?g[l.type]:l}))}function $u(n){var o=n.value,l=n.key,g=Vt(n);return g.length||(o.indexOf("{fontstack}")===-1&&g.push(new ne(l,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&g.push(new ne(l,o,'"glyphs" url must include a "{range}" token'))),g}function ji(n,o){o===void 0&&(o=xe);var l=[];return l=l.concat(sn({key:"",value:n,valueSpec:o.$root,styleSpec:o,style:n,objectElementValidators:{glyphs:$u,"*":function(){return[]}}})),n.constants&&(l=l.concat(je({key:"constants",value:n.constants,style:n,styleSpec:o}))),yl(l)}function yl(n){return[].concat(n).sort(function(o,l){return o.line-l.line})}function xa(n){return function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];return yl(n.apply(this,o))}}ji.source=xa(bn),ji.light=xa(ti),ji.layer=xa(vt),ji.filter=xa(gl),ji.paintProperty=xa(rt),ji.layoutProperty=xa(Ot);var cs=ji,Xc=cs.light,mu=cs.paintProperty,Un=cs.layoutProperty;function ac(n,o){var l=!1;if(o&&o.length)for(var g=0,b=o;g<b.length;g+=1)n.fire(new Ve(new Error(b[g].message))),l=!0;return l}var Po=ho;function ho(n,o,l){var g=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;var b=new Int32Array(this.arrayBuffer);n=b[0],this.d=(o=b[1])+2*(l=b[2]);for(var C=0;C<this.d*this.d;C++){var T=b[3+C],F=b[3+C+1];g.push(T===F?null:b.subarray(T,F))}var j=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],j),this.bboxes=b.subarray(j),this.insert=this._insertReadonly}else{this.d=o+2*l;for(var Q=0;Q<this.d*this.d;Q++)g.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=n,this.padding=l,this.scale=o/n,this.uid=0;var W=l/o*n;this.min=-W,this.max=n+W}ho.prototype.insert=function(n,o,l,g,b){this._forEachCell(o,l,g,b,this._insertCell,this.uid++),this.keys.push(n),this.bboxes.push(o),this.bboxes.push(l),this.bboxes.push(g),this.bboxes.push(b)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(n,o,l,g,b,C){this.cells[b].push(C)},ho.prototype.query=function(n,o,l,g,b){var C=this.min,T=this.max;if(n<=C&&o<=C&&T<=l&&T<=g&&!b)return Array.prototype.slice.call(this.keys);var F=[];return this._forEachCell(n,o,l,g,this._queryCell,F,{},b),F},ho.prototype._queryCell=function(n,o,l,g,b,C,T,F){var j=this.cells[b];if(j!==null)for(var Q=this.keys,W=this.bboxes,X=0;X<j.length;X++){var se=j[X];if(T[se]===void 0){var Ae=4*se;(F?F(W[Ae+0],W[Ae+1],W[Ae+2],W[Ae+3]):n<=W[Ae+2]&&o<=W[Ae+3]&&l>=W[Ae+0]&&g>=W[Ae+1])?(T[se]=!0,C.push(Q[se])):T[se]=!1}}},ho.prototype._forEachCell=function(n,o,l,g,b,C,T,F){for(var j=this._convertToCellCoord(n),Q=this._convertToCellCoord(o),W=this._convertToCellCoord(l),X=this._convertToCellCoord(g),se=j;se<=W;se++)for(var Ae=Q;Ae<=X;Ae++){var Ee=this.d*Ae+se;if((!F||F(this._convertFromCellCoord(se),this._convertFromCellCoord(Ae),this._convertFromCellCoord(se+1),this._convertFromCellCoord(Ae+1)))&&b.call(this,n,o,l,g,Ee,C,T,F))return}},ho.prototype._convertFromCellCoord=function(n){return(n-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var n=this.cells,o=3+this.cells.length+1+1,l=0,g=0;g<this.cells.length;g++)l+=this.cells[g].length;var b=new Int32Array(o+l+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var C=o,T=0;T<n.length;T++){var F=n[T];b[3+T]=C,b.set(F,C),C+=F.length}return b[3+n.length]=C,b.set(this.keys,C),b[3+n.length+1]=C+=this.keys.length,b.set(this.bboxes,C),C+=this.bboxes.length,b.buffer};var Ff=N.ImageData,Ki=N.ImageBitmap,ba={};function nr(n,o,l){l===void 0&&(l={}),Object.defineProperty(o,"_classRegistryKey",{value:n,writeable:!1}),ba[n]={klass:o,omit:l.omit||[],shallow:l.shallow||[]}}for(var $a in nr("Object",Object),Po.serialize=function(n,o){var l=n.toArrayBuffer();return o&&o.push(l),{buffer:l}},Po.deserialize=function(n){return new Po(n.buffer)},nr("Grid",Po),nr("Color",xr),nr("Error",Error),nr("ResolvedImage",Wo),nr("StylePropertyFunction",ic),nr("StyleExpression",Ao,{omit:["_evaluator"]}),nr("ZoomDependentExpression",dl),nr("ZoomConstantExpression",nc),nr("CompoundExpression",wi,{omit:["_evaluate"]}),Gs)Gs[$a]._classRegistryKey||nr("Expression_"+$a,Gs[$a]);function Zs(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function Ks(n){return Ki&&n instanceof Ki}function Bo(n,o){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if(Zs(n)||Ks(n))return o&&o.push(n),n;if(ArrayBuffer.isView(n)){var l=n;return o&&o.push(l.buffer),l}if(n instanceof Ff)return o&&o.push(n.data.buffer),n;if(Array.isArray(n)){for(var g=[],b=0,C=n;b<C.length;b+=1)g.push(Bo(C[b],o));return g}if(typeof n=="object"){var T=n.constructor,F=T._classRegistryKey;if(!F)throw new Error("can't serialize object of unregistered class");var j=T.serialize?T.serialize(n,o):{};if(!T.serialize){for(var Q in n)if(n.hasOwnProperty(Q)&&!(ba[F].omit.indexOf(Q)>=0)){var W=n[Q];j[Q]=ba[F].shallow.indexOf(Q)>=0?W:Bo(W,o)}n instanceof Error&&(j.message=n.message)}if(j.$name)throw new Error("$name property is reserved for worker serialization logic.");return F!=="Object"&&(j.$name=F),j}throw new Error("can't serialize object of type "+typeof n)}function vl(n){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||Zs(n)||Ks(n)||ArrayBuffer.isView(n)||n instanceof Ff)return n;if(Array.isArray(n))return n.map(vl);if(typeof n=="object"){var o=n.$name||"Object",l=ba[o].klass;if(!l)throw new Error("can't deserialize unregistered class "+o);if(l.deserialize)return l.deserialize(n);for(var g=Object.create(l.prototype),b=0,C=Object.keys(n);b<C.length;b+=1){var T=C[b];if(T!=="$name"){var F=n[T];g[T]=ba[o].shallow.indexOf(T)>=0?F:vl(F)}}return g}throw new Error("can't deserialize object of type "+typeof n)}var Jo=function(){this.first=!0};Jo.prototype.update=function(n,o){var l=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=l,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=l,!0):(this.lastFloorZoom>l?(this.lastIntegerZoom=l+1,this.lastIntegerZoomTime=o):this.lastFloorZoom<l&&(this.lastIntegerZoom=l,this.lastIntegerZoomTime=o),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=l,!0))};var ar={"Latin-1 Supplement":function(n){return n>=128&&n<=255},Arabic:function(n){return n>=1536&&n<=1791},"Arabic Supplement":function(n){return n>=1872&&n<=1919},"Arabic Extended-A":function(n){return n>=2208&&n<=2303},"Hangul Jamo":function(n){return n>=4352&&n<=4607},"Unified Canadian Aboriginal Syllabics":function(n){return n>=5120&&n<=5759},Khmer:function(n){return n>=6016&&n<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(n){return n>=6320&&n<=6399},"General Punctuation":function(n){return n>=8192&&n<=8303},"Letterlike Symbols":function(n){return n>=8448&&n<=8527},"Number Forms":function(n){return n>=8528&&n<=8591},"Miscellaneous Technical":function(n){return n>=8960&&n<=9215},"Control Pictures":function(n){return n>=9216&&n<=9279},"Optical Character Recognition":function(n){return n>=9280&&n<=9311},"Enclosed Alphanumerics":function(n){return n>=9312&&n<=9471},"Geometric Shapes":function(n){return n>=9632&&n<=9727},"Miscellaneous Symbols":function(n){return n>=9728&&n<=9983},"Miscellaneous Symbols and Arrows":function(n){return n>=11008&&n<=11263},"CJK Radicals Supplement":function(n){return n>=11904&&n<=12031},"Kangxi Radicals":function(n){return n>=12032&&n<=12255},"Ideographic Description Characters":function(n){return n>=12272&&n<=12287},"CJK Symbols and Punctuation":function(n){return n>=12288&&n<=12351},Hiragana:function(n){return n>=12352&&n<=12447},Katakana:function(n){return n>=12448&&n<=12543},Bopomofo:function(n){return n>=12544&&n<=12591},"Hangul Compatibility Jamo":function(n){return n>=12592&&n<=12687},Kanbun:function(n){return n>=12688&&n<=12703},"Bopomofo Extended":function(n){return n>=12704&&n<=12735},"CJK Strokes":function(n){return n>=12736&&n<=12783},"Katakana Phonetic Extensions":function(n){return n>=12784&&n<=12799},"Enclosed CJK Letters and Months":function(n){return n>=12800&&n<=13055},"CJK Compatibility":function(n){return n>=13056&&n<=13311},"CJK Unified Ideographs Extension A":function(n){return n>=13312&&n<=19903},"Yijing Hexagram Symbols":function(n){return n>=19904&&n<=19967},"CJK Unified Ideographs":function(n){return n>=19968&&n<=40959},"Yi Syllables":function(n){return n>=40960&&n<=42127},"Yi Radicals":function(n){return n>=42128&&n<=42191},"Hangul Jamo Extended-A":function(n){return n>=43360&&n<=43391},"Hangul Syllables":function(n){return n>=44032&&n<=55215},"Hangul Jamo Extended-B":function(n){return n>=55216&&n<=55295},"Private Use Area":function(n){return n>=57344&&n<=63743},"CJK Compatibility Ideographs":function(n){return n>=63744&&n<=64255},"Arabic Presentation Forms-A":function(n){return n>=64336&&n<=65023},"Vertical Forms":function(n){return n>=65040&&n<=65055},"CJK Compatibility Forms":function(n){return n>=65072&&n<=65103},"Small Form Variants":function(n){return n>=65104&&n<=65135},"Arabic Presentation Forms-B":function(n){return n>=65136&&n<=65279},"Halfwidth and Fullwidth Forms":function(n){return n>=65280&&n<=65519}};function sc(n){for(var o=0,l=n;o<l.length;o+=1)if(Xs(l[o].charCodeAt(0)))return!0;return!1}function Xs(n){return!(n!==746&&n!==747&&(n<4352||!(ar["Bopomofo Extended"](n)||ar.Bopomofo(n)||ar["CJK Compatibility Forms"](n)&&!(n>=65097&&n<=65103)||ar["CJK Compatibility Ideographs"](n)||ar["CJK Compatibility"](n)||ar["CJK Radicals Supplement"](n)||ar["CJK Strokes"](n)||!(!ar["CJK Symbols and Punctuation"](n)||n>=12296&&n<=12305||n>=12308&&n<=12319||n===12336)||ar["CJK Unified Ideographs Extension A"](n)||ar["CJK Unified Ideographs"](n)||ar["Enclosed CJK Letters and Months"](n)||ar["Hangul Compatibility Jamo"](n)||ar["Hangul Jamo Extended-A"](n)||ar["Hangul Jamo Extended-B"](n)||ar["Hangul Jamo"](n)||ar["Hangul Syllables"](n)||ar.Hiragana(n)||ar["Ideographic Description Characters"](n)||ar.Kanbun(n)||ar["Kangxi Radicals"](n)||ar["Katakana Phonetic Extensions"](n)||ar.Katakana(n)&&n!==12540||!(!ar["Halfwidth and Fullwidth Forms"](n)||n===65288||n===65289||n===65293||n>=65306&&n<=65310||n===65339||n===65341||n===65343||n>=65371&&n<=65503||n===65507||n>=65512&&n<=65519)||!(!ar["Small Form Variants"](n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||ar["Unified Canadian Aboriginal Syllabics"](n)||ar["Unified Canadian Aboriginal Syllabics Extended"](n)||ar["Vertical Forms"](n)||ar["Yijing Hexagram Symbols"](n)||ar["Yi Syllables"](n)||ar["Yi Radicals"](n))))}function mo(n){return!(Xs(n)||function(o){return!!(ar["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||ar["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||ar["Letterlike Symbols"](o)||ar["Number Forms"](o)||ar["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||ar["Control Pictures"](o)&&o!==9251||ar["Optical Character Recognition"](o)||ar["Enclosed Alphanumerics"](o)||ar["Geometric Shapes"](o)||ar["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||ar["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||ar["CJK Symbols and Punctuation"](o)||ar.Katakana(o)||ar["Private Use Area"](o)||ar["CJK Compatibility Forms"](o)||ar["Small Form Variants"](o)||ar["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(n))}function wn(n){return n>=1424&&n<=2303||ar["Arabic Presentation Forms-A"](n)||ar["Arabic Presentation Forms-B"](n)}function Yc(n,o){return!(!o&&wn(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||ar.Khmer(n))}function Bp(n){for(var o=0,l=n;o<l.length;o+=1)if(wn(l[o].charCodeAt(0)))return!0;return!1}var Bf=null,go="unavailable",Va=null,Vu=function(n){n&&typeof n=="string"&&n.indexOf("NetworkError")>-1&&(go="error"),Bf&&Bf(n)};function Jc(){ef.fire(new Ne("pluginStateChange",{pluginStatus:go,pluginURL:Va}))}var ef=new ze,fs=function(){return go},zp=function(){if(go!=="deferred"||!Va)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");go="loading",Jc(),Va&&zn({url:Va},function(n){n?Vu(n):(go="loaded",Jc())})},tn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return go==="loaded"||tn.applyArabicShaping!=null},isLoading:function(){return go==="loading"},setState:function(n){go=n.pluginStatus,Va=n.pluginURL},isParsed:function(){return tn.applyArabicShaping!=null&&tn.processBidirectionalText!=null&&tn.processStyledBidirectionalText!=null},getPluginURL:function(){return Va}},Gr=function(n,o){this.zoom=n,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Jo,this.transition={})};Gr.prototype.isSupportedScript=function(n){return function(o,l){for(var g=0,b=o;g<b.length;g+=1)if(!Yc(b[g].charCodeAt(0),l))return!1;return!0}(n,tn.isLoaded())},Gr.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Gr.prototype.getCrossfadeParameters=function(){var n=this.zoom,o=n-Math.floor(n),l=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:o+(1-o)*l}:{fromScale:.5,toScale:1,t:1-(1-l)*o}};var pa=function(n,o){this.property=n,this.value=o,this.expression=function(l,g){if(Qc(l))return new ic(l,g);if(Ui(l)){var b=du(l,g);if(b.result==="error")throw new Error(b.value.map(function(T){return T.key+": "+T.message}).join(", "));return b.value}var C=l;return typeof l=="string"&&g.type==="color"&&(C=xr.parse(l)),{kind:"constant",evaluate:function(){return C}}}(o===void 0?n.specification.default:o,n.specification)};pa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},pa.prototype.possiblyEvaluate=function(n,o,l){return this.property.possiblyEvaluate(this,n,o,l)};var Pi=function(n){this.property=n,this.value=new pa(n,void 0)};Pi.prototype.transitioned=function(n,o){return new zo(this.property,this.value,o,K({},n.transition,this.transition),n.now)},Pi.prototype.untransitioned=function(){return new zo(this.property,this.value,null,{},0)};var Fr=function(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)};Fr.prototype.getValue=function(n){return tt(this._values[n].value.value)},Fr.prototype.setValue=function(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new Pi(this._values[n].property)),this._values[n].value=new pa(this._values[n].property,o===null?void 0:tt(o))},Fr.prototype.getTransition=function(n){return tt(this._values[n].transition)},Fr.prototype.setTransition=function(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new Pi(this._values[n].property)),this._values[n].transition=tt(o)||void 0},Fr.prototype.serialize=function(){for(var n={},o=0,l=Object.keys(this._values);o<l.length;o+=1){var g=l[o],b=this.getValue(g);b!==void 0&&(n[g]=b);var C=this.getTransition(g);C!==void 0&&(n[g+"-transition"]=C)}return n},Fr.prototype.transitioned=function(n,o){for(var l=new Ha(this._properties),g=0,b=Object.keys(this._values);g<b.length;g+=1){var C=b[g];l._values[C]=this._values[C].transitioned(n,o._values[C])}return l},Fr.prototype.untransitioned=function(){for(var n=new Ha(this._properties),o=0,l=Object.keys(this._values);o<l.length;o+=1){var g=l[o];n._values[g]=this._values[g].untransitioned()}return n};var zo=function(n,o,l,g,b){this.property=n,this.value=o,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,n.specification.transition&&(g.delay||g.duration)&&(this.prior=l)};zo.prototype.possiblyEvaluate=function(n,o,l){var g=n.now||0,b=this.value.possiblyEvaluate(n,o,l),C=this.prior;if(C){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return C.possiblyEvaluate(n,o,l);var T=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(n,o,l),b,function(F){if(F<=0)return 0;if(F>=1)return 1;var j=F*F,Q=j*F;return 4*(F<.5?Q:3*(F-j)+Q-.75)}(T))}return b};var Ha=function(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)};Ha.prototype.possiblyEvaluate=function(n,o,l){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(n,o,l)}return g},Ha.prototype.hasTransition=function(){for(var n=0,o=Object.keys(this._values);n<o.length;n+=1)if(this._values[o[n]].prior)return!0;return!1};var ea=function(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)};ea.prototype.getValue=function(n){return tt(this._values[n].value)},ea.prototype.setValue=function(n,o){this._values[n]=new pa(this._values[n].property,o===null?void 0:tt(o))},ea.prototype.serialize=function(){for(var n={},o=0,l=Object.keys(this._values);o<l.length;o+=1){var g=l[o],b=this.getValue(g);b!==void 0&&(n[g]=b)}return n},ea.prototype.possiblyEvaluate=function(n,o,l){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(n,o,l)}return g};var ta=function(n,o,l){this.property=n,this.value=o,this.parameters=l};ta.prototype.isConstant=function(){return this.value.kind==="constant"},ta.prototype.constantOr=function(n){return this.value.kind==="constant"?this.value.value:n},ta.prototype.evaluate=function(n,o,l,g){return this.property.evaluate(this.value,this.parameters,n,o,l,g)};var qa=function(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)};qa.prototype.get=function(n){return this._values[n]};var Gt=function(n){this.specification=n};Gt.prototype.possiblyEvaluate=function(n,o){return n.expression.evaluate(o)},Gt.prototype.interpolate=function(n,o,l){var g=sl[this.specification.type];return g?g(n,o,l):n};var ht=function(n,o){this.specification=n,this.overrides=o};ht.prototype.possiblyEvaluate=function(n,o,l,g){return new ta(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(o,null,{},l,g)}:n.expression,o)},ht.prototype.interpolate=function(n,o,l){if(n.value.kind!=="constant"||o.value.kind!=="constant")return n;if(n.value.value===void 0||o.value.value===void 0)return new ta(this,{kind:"constant",value:void 0},n.parameters);var g=sl[this.specification.type];return g?new ta(this,{kind:"constant",value:g(n.value.value,o.value.value,l)},n.parameters):n},ht.prototype.evaluate=function(n,o,l,g,b,C){return n.kind==="constant"?n.value:n.evaluate(o,l,g,b,C)};var Xt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(l,g,b,C){if(l.value===void 0)return new ta(this,{kind:"constant",value:void 0},g);if(l.expression.kind==="constant"){var T=l.expression.evaluate(g,null,{},b,C),F=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,j=this._calculate(F,F,F,g);return new ta(this,{kind:"constant",value:j},g)}if(l.expression.kind==="camera"){var Q=this._calculate(l.expression.evaluate({zoom:g.zoom-1}),l.expression.evaluate({zoom:g.zoom}),l.expression.evaluate({zoom:g.zoom+1}),g);return new ta(this,{kind:"constant",value:Q},g)}return new ta(this,l.expression,g)},o.prototype.evaluate=function(l,g,b,C,T,F){if(l.kind==="source"){var j=l.evaluate(g,b,C,T,F);return this._calculate(j,j,j,g)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(g.zoom)-1},b,C),l.evaluate({zoom:Math.floor(g.zoom)},b,C),l.evaluate({zoom:Math.floor(g.zoom)+1},b,C),g):l.value},o.prototype._calculate=function(l,g,b,C){return C.zoom>C.zoomHistory.lastIntegerZoom?{from:l,to:g}:{from:b,to:g}},o.prototype.interpolate=function(l){return l},o}(ht),Io=function(n){this.specification=n};Io.prototype.possiblyEvaluate=function(n,o,l,g){if(n.value!==void 0){if(n.expression.kind==="constant"){var b=n.expression.evaluate(o,null,{},l,g);return this._calculate(b,b,b,o)}return this._calculate(n.expression.evaluate(new Gr(Math.floor(o.zoom-1),o)),n.expression.evaluate(new Gr(Math.floor(o.zoom),o)),n.expression.evaluate(new Gr(Math.floor(o.zoom+1),o)),o)}},Io.prototype._calculate=function(n,o,l,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:n,to:o}:{from:l,to:o}},Io.prototype.interpolate=function(n){return n};var Ga=function(n){this.specification=n};Ga.prototype.possiblyEvaluate=function(n,o,l,g){return!!n.expression.evaluate(o,null,{},l,g)},Ga.prototype.interpolate=function(){return!1};var No=function(n){for(var o in this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],n){var l=n[o];l.specification.overridable&&this.overridableProperties.push(o);var g=this.defaultPropertyValues[o]=new pa(l,void 0),b=this.defaultTransitionablePropertyValues[o]=new Pi(l);this.defaultTransitioningPropertyValues[o]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=g.possiblyEvaluate({})}};nr("DataDrivenProperty",ht),nr("DataConstantProperty",Gt),nr("CrossFadedDataDrivenProperty",Xt),nr("CrossFadedProperty",Io),nr("ColorRampProperty",Ga);var $i=function(n){function o(l,g){if(n.call(this),this.id=l.id,this.type=l.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},l.type!=="custom"&&(this.metadata=(l=l).metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),g.layout&&(this._unevaluatedLayout=new ea(g.layout)),g.paint)){for(var b in this._transitionablePaint=new Fr(g.paint),l.paint)this.setPaintProperty(b,l.paint[b],{validate:!1});for(var C in l.layout)this.setLayoutProperty(C,l.layout[C],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qa(g.paint)}}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},o.prototype.getLayoutProperty=function(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)},o.prototype.setLayoutProperty=function(l,g,b){b===void 0&&(b={}),g!=null&&this._validate(Un,"layers."+this.id+".layout."+l,l,g,b)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,g):this.visibility=g)},o.prototype.getPaintProperty=function(l){return Ce(l,"-transition")?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)},o.prototype.setPaintProperty=function(l,g,b){if(b===void 0&&(b={}),g!=null&&this._validate(mu,"layers."+this.id+".paint."+l,l,g,b))return!1;if(Ce(l,"-transition"))return this._transitionablePaint.setTransition(l.slice(0,-11),g||void 0),!1;var C=this._transitionablePaint._values[l],T=C.property.specification["property-type"]==="cross-faded-data-driven",F=C.value.isDataDriven(),j=C.value;this._transitionablePaint.setValue(l,g),this._handleSpecialPaintPropertyUpdate(l);var Q=this._transitionablePaint._values[l].value;return Q.isDataDriven()||F||T||this._handleOverridablePaintPropertyUpdate(l,j,Q)},o.prototype._handleSpecialPaintPropertyUpdate=function(l){},o.prototype._handleOverridablePaintPropertyUpdate=function(l,g,b){return!1},o.prototype.isHidden=function(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"},o.prototype.updateTransitions=function(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)},o.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},o.prototype.recalculate=function(l,g){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,g)},o.prototype.serialize=function(){var l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ut(l,function(g,b){return!(g===void 0||b==="layout"&&!Object.keys(g).length||b==="paint"&&!Object.keys(g).length)})},o.prototype._validate=function(l,g,b,C,T){return T===void 0&&(T={}),(!T||T.validate!==!1)&&ac(this,l.call(cs,{key:g,layerType:this.type,objectKey:b,value:C,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))},o.prototype.is3D=function(){return!1},o.prototype.isTileClipped=function(){return!1},o.prototype.hasOffscreenPass=function(){return!1},o.prototype.resize=function(){},o.prototype.isStateDependent=function(){for(var l in this.paint._values){var g=this.paint.get(l);if(g instanceof ta&&ju(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},o}(ze),Np={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ra=function(n,o){this._structArray=n,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},A=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function m(n,o){o===void 0&&(o=1);var l=0,g=0;return{members:n.map(function(b){var C=Np[b.type].BYTES_PER_ELEMENT,T=l=v(l,Math.max(o,C)),F=b.components||1;return g=Math.max(g,C),l+=C*F,{name:b.name,type:b.type,components:F,offset:T}}),size:v(l,Math.max(g,o)),alignment:o}}function v(n,o){return Math.ceil(n/o)*o}A.serialize=function(n,o){return n._trim(),o&&(n.isTransferred=!0,o.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}},A.deserialize=function(n){var o=Object.create(this.prototype);return o.arrayBuffer=n.arrayBuffer,o.length=n.length,o.capacity=n.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o},A.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},A.prototype.clear=function(){this.length=0},A.prototype.resize=function(n){this.reserve(n),this.length=n},A.prototype.reserve=function(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}},A.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g){var b=this.length;return this.resize(b+1),this.emplace(b,l,g)},o.prototype.emplace=function(l,g,b){var C=2*l;return this.int16[C+0]=g,this.int16[C+1]=b,l},o}(A);_.prototype.bytesPerElement=4,nr("StructArrayLayout2i4",_);var k=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,l,g,b,C)},o.prototype.emplace=function(l,g,b,C,T){var F=4*l;return this.int16[F+0]=g,this.int16[F+1]=b,this.int16[F+2]=C,this.int16[F+3]=T,l},o}(A);k.prototype.bytesPerElement=8,nr("StructArrayLayout4i8",k);var O=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,l,g,b,C,T,F)},o.prototype.emplace=function(l,g,b,C,T,F,j){var Q=6*l;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.int16[Q+2]=C,this.int16[Q+3]=T,this.int16[Q+4]=F,this.int16[Q+5]=j,l},o}(A);O.prototype.bytesPerElement=12,nr("StructArrayLayout2i4i12",O);var I=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,l,g,b,C,T,F)},o.prototype.emplace=function(l,g,b,C,T,F,j){var Q=4*l,W=8*l;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.uint8[W+4]=C,this.uint8[W+5]=T,this.uint8[W+6]=F,this.uint8[W+7]=j,l},o}(A);I.prototype.bytesPerElement=8,nr("StructArrayLayout2i4ub8",I);var B=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g){var b=this.length;return this.resize(b+1),this.emplace(b,l,g)},o.prototype.emplace=function(l,g,b){var C=2*l;return this.float32[C+0]=g,this.float32[C+1]=b,l},o}(A);B.prototype.bytesPerElement=8,nr("StructArrayLayout2f8",B);var G=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F,j,Q,W,X){var se=this.length;return this.resize(se+1),this.emplace(se,l,g,b,C,T,F,j,Q,W,X)},o.prototype.emplace=function(l,g,b,C,T,F,j,Q,W,X,se){var Ae=10*l;return this.uint16[Ae+0]=g,this.uint16[Ae+1]=b,this.uint16[Ae+2]=C,this.uint16[Ae+3]=T,this.uint16[Ae+4]=F,this.uint16[Ae+5]=j,this.uint16[Ae+6]=Q,this.uint16[Ae+7]=W,this.uint16[Ae+8]=X,this.uint16[Ae+9]=se,l},o}(A);G.prototype.bytesPerElement=20,nr("StructArrayLayout10ui20",G);var re=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F,j,Q,W,X,se,Ae){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,l,g,b,C,T,F,j,Q,W,X,se,Ae)},o.prototype.emplace=function(l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee){var ke=12*l;return this.int16[ke+0]=g,this.int16[ke+1]=b,this.int16[ke+2]=C,this.int16[ke+3]=T,this.uint16[ke+4]=F,this.uint16[ke+5]=j,this.uint16[ke+6]=Q,this.uint16[ke+7]=W,this.int16[ke+8]=X,this.int16[ke+9]=se,this.int16[ke+10]=Ae,this.int16[ke+11]=Ee,l},o}(A);re.prototype.bytesPerElement=24,nr("StructArrayLayout4i4ui4i24",re);var ce=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,l,g,b)},o.prototype.emplace=function(l,g,b,C){var T=3*l;return this.float32[T+0]=g,this.float32[T+1]=b,this.float32[T+2]=C,l},o}(A);ce.prototype.bytesPerElement=12,nr("StructArrayLayout3f12",ce);var De=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l){var g=this.length;return this.resize(g+1),this.emplace(g,l)},o.prototype.emplace=function(l,g){return this.uint32[1*l+0]=g,l},o}(A);De.prototype.bytesPerElement=4,nr("StructArrayLayout1ul4",De);var We=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F,j,Q,W){var X=this.length;return this.resize(X+1),this.emplace(X,l,g,b,C,T,F,j,Q,W)},o.prototype.emplace=function(l,g,b,C,T,F,j,Q,W,X){var se=10*l,Ae=5*l;return this.int16[se+0]=g,this.int16[se+1]=b,this.int16[se+2]=C,this.int16[se+3]=T,this.int16[se+4]=F,this.int16[se+5]=j,this.uint32[Ae+3]=Q,this.uint16[se+8]=W,this.uint16[se+9]=X,l},o}(A);We.prototype.bytesPerElement=20,nr("StructArrayLayout6i1ul2ui20",We);var it=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,l,g,b,C,T,F)},o.prototype.emplace=function(l,g,b,C,T,F,j){var Q=6*l;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.int16[Q+2]=C,this.int16[Q+3]=T,this.int16[Q+4]=F,this.int16[Q+5]=j,l},o}(A);it.prototype.bytesPerElement=12,nr("StructArrayLayout2i2i2i12",it);var wt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T){var F=this.length;return this.resize(F+1),this.emplace(F,l,g,b,C,T)},o.prototype.emplace=function(l,g,b,C,T,F){var j=4*l,Q=8*l;return this.float32[j+0]=g,this.float32[j+1]=b,this.float32[j+2]=C,this.int16[Q+6]=T,this.int16[Q+7]=F,l},o}(A);wt.prototype.bytesPerElement=16,nr("StructArrayLayout2f1f2i16",wt);var Tt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,l,g,b,C)},o.prototype.emplace=function(l,g,b,C,T){var F=12*l,j=3*l;return this.uint8[F+0]=g,this.uint8[F+1]=b,this.float32[j+1]=C,this.float32[j+2]=T,l},o}(A);Tt.prototype.bytesPerElement=12,nr("StructArrayLayout2ub2f12",Tt);var Nt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,l,g,b)},o.prototype.emplace=function(l,g,b,C){var T=3*l;return this.uint16[T+0]=g,this.uint16[T+1]=b,this.uint16[T+2]=C,l},o}(A);Nt.prototype.bytesPerElement=6,nr("StructArrayLayout3ui6",Nt);var sr=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et){var nt=this.length;return this.resize(nt+1),this.emplace(nt,l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et)},o.prototype.emplace=function(l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et,nt){var ct=24*l,ft=12*l,Pt=48*l;return this.int16[ct+0]=g,this.int16[ct+1]=b,this.uint16[ct+2]=C,this.uint16[ct+3]=T,this.uint32[ft+2]=F,this.uint32[ft+3]=j,this.uint32[ft+4]=Q,this.uint16[ct+10]=W,this.uint16[ct+11]=X,this.uint16[ct+12]=se,this.float32[ft+7]=Ae,this.float32[ft+8]=Ee,this.uint8[Pt+36]=ke,this.uint8[Pt+37]=$e,this.uint8[Pt+38]=Le,this.uint32[ft+10]=et,this.int16[ct+22]=nt,l},o}(A);sr.prototype.bytesPerElement=48,nr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",sr);var dt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et,nt,ct,ft,Pt,Ut,Zt,mr,Jt,Cr,rr,Wr){var Ir=this.length;return this.resize(Ir+1),this.emplace(Ir,l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et,nt,ct,ft,Pt,Ut,Zt,mr,Jt,Cr,rr,Wr)},o.prototype.emplace=function(l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke,$e,Le,et,nt,ct,ft,Pt,Ut,Zt,mr,Jt,Cr,rr,Wr,Ir){var gr=34*l,rn=17*l;return this.int16[gr+0]=g,this.int16[gr+1]=b,this.int16[gr+2]=C,this.int16[gr+3]=T,this.int16[gr+4]=F,this.int16[gr+5]=j,this.int16[gr+6]=Q,this.int16[gr+7]=W,this.uint16[gr+8]=X,this.uint16[gr+9]=se,this.uint16[gr+10]=Ae,this.uint16[gr+11]=Ee,this.uint16[gr+12]=ke,this.uint16[gr+13]=$e,this.uint16[gr+14]=Le,this.uint16[gr+15]=et,this.uint16[gr+16]=nt,this.uint16[gr+17]=ct,this.uint16[gr+18]=ft,this.uint16[gr+19]=Pt,this.uint16[gr+20]=Ut,this.uint16[gr+21]=Zt,this.uint16[gr+22]=mr,this.uint32[rn+12]=Jt,this.float32[rn+13]=Cr,this.float32[rn+14]=rr,this.float32[rn+15]=Wr,this.float32[rn+16]=Ir,l},o}(A);dt.prototype.bytesPerElement=68,nr("StructArrayLayout8i15ui1ul4f68",dt);var Lt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l){var g=this.length;return this.resize(g+1),this.emplace(g,l)},o.prototype.emplace=function(l,g){return this.float32[1*l+0]=g,l},o}(A);Lt.prototype.bytesPerElement=4,nr("StructArrayLayout1f4",Lt);var Ke=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,l,g,b)},o.prototype.emplace=function(l,g,b,C){var T=3*l;return this.int16[T+0]=g,this.int16[T+1]=b,this.int16[T+2]=C,l},o}(A);Ke.prototype.bytesPerElement=6,nr("StructArrayLayout3i6",Ke);var vr=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,l,g,b)},o.prototype.emplace=function(l,g,b,C){var T=4*l;return this.uint32[2*l+0]=g,this.uint16[T+2]=b,this.uint16[T+3]=C,l},o}(A);vr.prototype.bytesPerElement=8,nr("StructArrayLayout1ul2ui8",vr);var _r=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g){var b=this.length;return this.resize(b+1),this.emplace(b,l,g)},o.prototype.emplace=function(l,g,b){var C=2*l;return this.uint16[C+0]=g,this.uint16[C+1]=b,l},o}(A);_r.prototype.bytesPerElement=4,nr("StructArrayLayout2ui4",_r);var Wt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l){var g=this.length;return this.resize(g+1),this.emplace(g,l)},o.prototype.emplace=function(l,g){return this.uint16[1*l+0]=g,l},o}(A);Wt.prototype.bytesPerElement=2,nr("StructArrayLayout1ui2",Wt);var c=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(l,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,l,g,b,C)},o.prototype.emplace=function(l,g,b,C,T){var F=4*l;return this.float32[F+0]=g,this.float32[F+1]=b,this.float32[F+2]=C,this.float32[F+3]=T,l},o}(A);c.prototype.bytesPerElement=16,nr("StructArrayLayout4f16",c);var p=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var l={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return l.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},l.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},l.x1.get=function(){return this._structArray.int16[this._pos2+2]},l.y1.get=function(){return this._structArray.int16[this._pos2+3]},l.x2.get=function(){return this._structArray.int16[this._pos2+4]},l.y2.get=function(){return this._structArray.int16[this._pos2+5]},l.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},l.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},l.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},l.anchorPoint.get=function(){return new R(this.anchorPointX,this.anchorPointY)},Object.defineProperties(o.prototype,l),o}(ra);p.prototype.size=20;var f=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(l){return new p(this,l)},o}(We);nr("CollisionBoxArray",f);var y=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var l={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return l.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},l.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},l.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},l.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},l.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},l.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},l.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},l.segment.get=function(){return this._structArray.uint16[this._pos2+10]},l.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},l.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},l.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},l.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},l.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},l.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},l.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},l.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},l.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},l.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},l.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},l.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(o.prototype,l),o}(ra);y.prototype.size=48;var E=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(l){return new y(this,l)},o}(sr);nr("PlacedSymbolArray",E);var M=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var l={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return l.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},l.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},l.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},l.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},l.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},l.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},l.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},l.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},l.key.get=function(){return this._structArray.uint16[this._pos2+8]},l.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},l.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},l.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},l.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},l.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},l.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},l.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},l.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},l.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},l.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},l.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},l.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},l.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},l.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},l.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},l.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},l.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},l.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},l.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},l.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(o.prototype,l),o}(ra);M.prototype.size=68;var D=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(l){return new M(this,l)},o}(dt);nr("SymbolInstanceArray",D);var U=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getoffsetX=function(l){return this.float32[1*l+0]},o}(Lt);nr("GlyphOffsetArray",U);var q=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getx=function(l){return this.int16[3*l+0]},o.prototype.gety=function(l){return this.int16[3*l+1]},o.prototype.gettileUnitDistanceFromAnchor=function(l){return this.int16[3*l+2]},o}(Ke);nr("SymbolLineVertexArray",q);var te=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var l={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return l.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},l.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},l.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(o.prototype,l),o}(ra);te.prototype.size=8;var de=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(l){return new te(this,l)},o}(vr);nr("FeatureIndexArray",de);var _e=m([{name:"a_pos",components:2,type:"Int16"}],4).members,me=function(n){n===void 0&&(n=[]),this.segments=n};function Me(n,o){return 256*(n=ae(Math.floor(n),0,255))+ae(Math.floor(o),0,255)}me.prototype.prepareSegment=function(n,o,l,g){var b=this.segments[this.segments.length-1];return n>me.MAX_VERTEX_ARRAY_LENGTH&&bt("Max vertices per segment is "+me.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+n),(!b||b.vertexLength+n>me.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:o.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b},me.prototype.get=function(){return this.segments},me.prototype.destroy=function(){for(var n=0,o=this.segments;n<o.length;n+=1){var l=o[n];for(var g in l.vaos)l.vaos[g].destroy()}},me.simpleSegment=function(n,o,l,g){return new me([{vertexOffset:n,primitiveOffset:o,vertexLength:l,primitiveLength:g,vaos:{},sortKey:0}])},me.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,nr("SegmentVector",me);var Pe=m([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Be=x(function(n){n.exports=function(o,l){var g,b,C,T,F,j,Q,W;for(b=o.length-(g=3&o.length),C=l,F=3432918353,j=461845907,W=0;W<b;)Q=255&o.charCodeAt(W)|(255&o.charCodeAt(++W))<<8|(255&o.charCodeAt(++W))<<16|(255&o.charCodeAt(++W))<<24,++W,C=27492+(65535&(T=5*(65535&(C=(C^=Q=(65535&(Q=(Q=(65535&Q)*F+(((Q>>>16)*F&65535)<<16)&4294967295)<<15|Q>>>17))*j+(((Q>>>16)*j&65535)<<16)&4294967295)<<13|C>>>19))+((5*(C>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(Q=0,g){case 3:Q^=(255&o.charCodeAt(W+2))<<16;case 2:Q^=(255&o.charCodeAt(W+1))<<8;case 1:C^=Q=(65535&(Q=(Q=(65535&(Q^=255&o.charCodeAt(W)))*F+(((Q>>>16)*F&65535)<<16)&4294967295)<<15|Q>>>17))*j+(((Q>>>16)*j&65535)<<16)&4294967295}return C^=o.length,C=2246822507*(65535&(C^=C>>>16))+((2246822507*(C>>>16)&65535)<<16)&4294967295,C=3266489909*(65535&(C^=C>>>13))+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^=C>>>16)>>>0}}),Te=x(function(n){n.exports=function(o,l){for(var g,b=o.length,C=l^b,T=0;b>=4;)g=1540483477*(65535&(g=255&o.charCodeAt(T)|(255&o.charCodeAt(++T))<<8|(255&o.charCodeAt(++T))<<16|(255&o.charCodeAt(++T))<<24))+((1540483477*(g>>>16)&65535)<<16),C=1540483477*(65535&C)+((1540483477*(C>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),b-=4,++T;switch(b){case 3:C^=(255&o.charCodeAt(T+2))<<16;case 2:C^=(255&o.charCodeAt(T+1))<<8;case 1:C=1540483477*(65535&(C^=255&o.charCodeAt(T)))+((1540483477*(C>>>16)&65535)<<16)}return C=1540483477*(65535&(C^=C>>>13))+((1540483477*(C>>>16)&65535)<<16),(C^=C>>>15)>>>0}}),Fe=Be,Qe=Te;Fe.murmur3=Be,Fe.murmur2=Qe;var Je=function(){this.ids=[],this.positions=[],this.indexed=!1};Je.prototype.add=function(n,o,l,g){this.ids.push(pt(n)),this.positions.push(o,l,g)},Je.prototype.getPositions=function(n){for(var o=pt(n),l=0,g=this.ids.length-1;l<g;){var b=l+g>>1;this.ids[b]>=o?g=b:l=b+1}for(var C=[];this.ids[l]===o;)C.push({index:this.positions[3*l],start:this.positions[3*l+1],end:this.positions[3*l+2]}),l++;return C},Je.serialize=function(n,o){var l=new Float64Array(n.ids),g=new Uint32Array(n.positions);return function b(C,T,F,j){for(;F<j;){for(var Q=C[F+j>>1],W=F-1,X=j+1;;){do W++;while(C[W]<Q);do X--;while(C[X]>Q);if(W>=X)break;mt(C,W,X),mt(T,3*W,3*X),mt(T,3*W+1,3*X+1),mt(T,3*W+2,3*X+2)}X-F<j-X?(b(C,T,F,X),F=X+1):(b(C,T,X+1,j),j=X)}}(l,g,0,l.length-1),o&&o.push(l.buffer,g.buffer),{ids:l,positions:g}},Je.deserialize=function(n){var o=new Je;return o.ids=n.ids,o.positions=n.positions,o.indexed=!0,o};var At=Math.pow(2,53)-1;function pt(n){var o=+n;return!isNaN(o)&&o<=At?o:Fe(String(n))}function mt(n,o,l){var g=n[o];n[o]=n[l],n[l]=g}nr("FeaturePositionMap",Je);var It=function(n,o){this.gl=n.gl,this.location=o},zt=function(n){function o(l,g){n.call(this,l,g),this.current=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))},o}(It),Ft=function(n){function o(l,g){n.call(this,l,g),this.current=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))},o}(It),Yt=function(n){function o(l,g){n.call(this,l,g),this.current=[0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))},o}(It),dr=function(n){function o(l,g){n.call(this,l,g),this.current=[0,0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))},o}(It),Tr=function(n){function o(l,g){n.call(this,l,g),this.current=[0,0,0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))},o}(It),Er=function(n){function o(l,g){n.call(this,l,g),this.current=xr.transparent}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))},o}(It),yn=new Float32Array(16),lr=function(n){function o(l,g){n.call(this,l,g),this.current=yn}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(var g=1;g<16;g++)if(l[g]!==this.current[g]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}},o}(It);function Rr(n){return[Me(255*n.r,255*n.g),Me(255*n.b,255*n.a)]}var Jr=function(n,o,l){this.value=n,this.uniformNames=o.map(function(g){return"u_"+g}),this.type=l};Jr.prototype.setUniform=function(n,o,l){n.set(l.constantOr(this.value))},Jr.prototype.getBinding=function(n,o,l){return this.type==="color"?new Er(n,o):new Ft(n,o)};var $r=function(n,o){this.uniformNames=o.map(function(l){return"u_"+l}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};$r.prototype.setConstantPatternPositions=function(n,o){this.pixelRatioFrom=o.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=o.tlbr,this.patternTo=n.tlbr},$r.prototype.setUniform=function(n,o,l,g){var b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&n.set(b)},$r.prototype.getBinding=function(n,o,l){return l.substr(0,9)==="u_pattern"?new Tr(n,o):new Ft(n,o)};var Br=function(n,o,l,g){this.expression=n,this.type=l,this.maxValue=0,this.paintVertexAttributes=o.map(function(b){return{name:"a_"+b,type:"Float32",components:l==="color"?2:1,offset:0}}),this.paintVertexArray=new g};Br.prototype.populatePaintArray=function(n,o,l,g,b){var C=this.paintVertexArray.length,T=this.expression.evaluate(new Gr(0),o,{},g,[],b);this.paintVertexArray.resize(n),this._setPaintValue(C,n,T)},Br.prototype.updatePaintArray=function(n,o,l,g){var b=this.expression.evaluate({zoom:0},l,g);this._setPaintValue(n,o,b)},Br.prototype._setPaintValue=function(n,o,l){if(this.type==="color")for(var g=Rr(l),b=n;b<o;b++)this.paintVertexArray.emplace(b,g[0],g[1]);else{for(var C=n;C<o;C++)this.paintVertexArray.emplace(C,l);this.maxValue=Math.max(this.maxValue,Math.abs(l))}},Br.prototype.upload=function(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Br.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Nr=function(n,o,l,g,b,C){this.expression=n,this.uniformNames=o.map(function(T){return"u_"+T+"_t"}),this.type=l,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=o.map(function(T){return{name:"a_"+T,type:"Float32",components:l==="color"?4:2,offset:0}}),this.paintVertexArray=new C};Nr.prototype.populatePaintArray=function(n,o,l,g,b){var C=this.expression.evaluate(new Gr(this.zoom),o,{},g,[],b),T=this.expression.evaluate(new Gr(this.zoom+1),o,{},g,[],b),F=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(F,n,C,T)},Nr.prototype.updatePaintArray=function(n,o,l,g){var b=this.expression.evaluate({zoom:this.zoom},l,g),C=this.expression.evaluate({zoom:this.zoom+1},l,g);this._setPaintValue(n,o,b,C)},Nr.prototype._setPaintValue=function(n,o,l,g){if(this.type==="color")for(var b=Rr(l),C=Rr(g),T=n;T<o;T++)this.paintVertexArray.emplace(T,b[0],b[1],C[0],C[1]);else{for(var F=n;F<o;F++)this.paintVertexArray.emplace(F,l,g);this.maxValue=Math.max(this.maxValue,Math.abs(l),Math.abs(g))}},Nr.prototype.upload=function(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Nr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Nr.prototype.setUniform=function(n,o){var l=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,g=ae(this.expression.interpolationFactor(l,this.zoom,this.zoom+1),0,1);n.set(g)},Nr.prototype.getBinding=function(n,o,l){return new Ft(n,o)};var Lr=function(n,o,l,g,b,C){this.expression=n,this.type=o,this.useIntegerZoom=l,this.zoom=g,this.layerId=C,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};Lr.prototype.populatePaintArray=function(n,o,l){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(g,n,o.patterns&&o.patterns[this.layerId],l)},Lr.prototype.updatePaintArray=function(n,o,l,g,b){this._setPaintValues(n,o,l.patterns&&l.patterns[this.layerId],b)},Lr.prototype._setPaintValues=function(n,o,l,g){if(g&&l){var b=g[l.min],C=g[l.mid],T=g[l.max];if(b&&C&&T)for(var F=n;F<o;F++)this.zoomInPaintVertexArray.emplace(F,C.tl[0],C.tl[1],C.br[0],C.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],C.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(F,C.tl[0],C.tl[1],C.br[0],C.br[1],T.tl[0],T.tl[1],T.br[0],T.br[1],C.pixelRatio,T.pixelRatio)}},Lr.prototype.upload=function(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,Pe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,Pe.members,this.expression.isStateDependent))},Lr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ar=function(n,o,l){this.binders={},this._buffers=[];var g=[];for(var b in n.paint._values)if(l(b)){var C=n.paint.get(b);if(C instanceof ta&&ju(C.property.specification)){var T=Vi(b,n.type),F=C.value,j=C.property.specification.type,Q=C.property.useIntegerZoom,W=C.property.specification["property-type"],X=W==="cross-faded"||W==="cross-faded-data-driven";if(F.kind==="constant")this.binders[b]=X?new $r(F.value,T):new Jr(F.value,T,j),g.push("/u_"+b);else if(F.kind==="source"||X){var se=Ii(b,j,"source");this.binders[b]=X?new Lr(F,j,Q,o,se,n.id):new Br(F,T,j,se),g.push("/a_"+b)}else{var Ae=Ii(b,j,"composite");this.binders[b]=new Nr(F,T,j,Q,o,Ae),g.push("/z_"+b)}}}this.cacheKey=g.sort().join("")};Ar.prototype.getMaxValue=function(n){var o=this.binders[n];return o instanceof Br||o instanceof Nr?o.maxValue:0},Ar.prototype.populatePaintArrays=function(n,o,l,g,b){for(var C in this.binders){var T=this.binders[C];(T instanceof Br||T instanceof Nr||T instanceof Lr)&&T.populatePaintArray(n,o,l,g,b)}},Ar.prototype.setConstantPatternPositions=function(n,o){for(var l in this.binders){var g=this.binders[l];g instanceof $r&&g.setConstantPatternPositions(n,o)}},Ar.prototype.updatePaintArrays=function(n,o,l,g,b){var C=!1;for(var T in n)for(var F=0,j=o.getPositions(T);F<j.length;F+=1){var Q=j[F],W=l.feature(Q.index);for(var X in this.binders){var se=this.binders[X];if((se instanceof Br||se instanceof Nr||se instanceof Lr)&&se.expression.isStateDependent===!0){var Ae=g.paint.get(X);se.expression=Ae.value,se.updatePaintArray(Q.start,Q.end,W,n[T],b),C=!0}}}return C},Ar.prototype.defines=function(){var n=[];for(var o in this.binders){var l=this.binders[o];(l instanceof Jr||l instanceof $r)&&n.push.apply(n,l.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return n},Ar.prototype.getBinderAttributes=function(){var n=[];for(var o in this.binders){var l=this.binders[o];if(l instanceof Br||l instanceof Nr)for(var g=0;g<l.paintVertexAttributes.length;g++)n.push(l.paintVertexAttributes[g].name);else if(l instanceof Lr)for(var b=0;b<Pe.members.length;b++)n.push(Pe.members[b].name)}return n},Ar.prototype.getBinderUniforms=function(){var n=[];for(var o in this.binders){var l=this.binders[o];if(l instanceof Jr||l instanceof $r||l instanceof Nr)for(var g=0,b=l.uniformNames;g<b.length;g+=1)n.push(b[g])}return n},Ar.prototype.getPaintVertexBuffers=function(){return this._buffers},Ar.prototype.getUniforms=function(n,o){var l=[];for(var g in this.binders){var b=this.binders[g];if(b instanceof Jr||b instanceof $r||b instanceof Nr)for(var C=0,T=b.uniformNames;C<T.length;C+=1){var F=T[C];if(o[F]){var j=b.getBinding(n,o[F],F);l.push({name:F,property:g,binding:j})}}}return l},Ar.prototype.setUniforms=function(n,o,l,g){for(var b=0,C=o;b<C.length;b+=1){var T=C[b],F=T.name,j=T.property;this.binders[j].setUniform(T.binding,g,l.get(j),F)}},Ar.prototype.updatePaintBuffers=function(n){for(var o in this._buffers=[],this.binders){var l=this.binders[o];if(n&&l instanceof Lr){var g=n.fromScale===2?l.zoomInPaintVertexBuffer:l.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(l instanceof Br||l instanceof Nr)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}},Ar.prototype.upload=function(n){for(var o in this.binders){var l=this.binders[o];(l instanceof Br||l instanceof Nr||l instanceof Lr)&&l.upload(n)}this.updatePaintBuffers()},Ar.prototype.destroy=function(){for(var n in this.binders){var o=this.binders[n];(o instanceof Br||o instanceof Nr||o instanceof Lr)&&o.destroy()}};var Hn=function(n,o,l){l===void 0&&(l=function(){return!0}),this.programConfigurations={};for(var g=0,b=n;g<b.length;g+=1){var C=b[g];this.programConfigurations[C.id]=new Ar(C,o,l)}this.needsUpload=!1,this._featureMap=new Je,this._bufferOffset=0};function Vi(n,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[n]||[n.replace(o+"-","").replace(/-/g,"_")]}function Ii(n,o,l){var g={color:{source:B,composite:c},number:{source:Lt,composite:B}},b=function(C){return{"line-pattern":{source:G,composite:G},"fill-pattern":{source:G,composite:G},"fill-extrusion-pattern":{source:G,composite:G}}[C]}(n);return b&&b[l]||g[o][l]}Hn.prototype.populatePaintArrays=function(n,o,l,g,b,C){for(var T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(n,o,g,b,C);o.id!==void 0&&this._featureMap.add(o.id,l,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0},Hn.prototype.updatePaintArrays=function(n,o,l,g){for(var b=0,C=l;b<C.length;b+=1){var T=C[b];this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(n,this._featureMap,o,T,g)||this.needsUpload}},Hn.prototype.get=function(n){return this.programConfigurations[n]},Hn.prototype.upload=function(n){if(this.needsUpload){for(var o in this.programConfigurations)this.programConfigurations[o].upload(n);this.needsUpload=!1}},Hn.prototype.destroy=function(){for(var n in this.programConfigurations)this.programConfigurations[n].destroy()},nr("ConstantBinder",Jr),nr("CrossFadedConstantBinder",$r),nr("SourceExpressionBinder",Br),nr("CrossFadedCompositeBinder",Lr),nr("CompositeExpressionBinder",Nr),nr("ProgramConfiguration",Ar,{omit:["_buffers"]}),nr("ProgramConfigurationSet",Hn);var uo=Math.pow(2,14)-1,Xi=-uo-1;function fi(n){for(var o=8192/n.extent,l=n.loadGeometry(),g=0;g<l.length;g++)for(var b=l[g],C=0;C<b.length;C++){var T=b[C],F=Math.round(T.x*o),j=Math.round(T.y*o);T.x=ae(F,Xi,uo),T.y=ae(j,Xi,uo),(F<T.x||F>T.x+1||j<T.y||j>T.y+1)&&bt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return l}function na(n,o){return{type:n.type,id:n.id,properties:n.properties,geometry:o?fi(n):[]}}function Hi(n,o,l,g,b){n.emplaceBack(2*o+(g+1)/2,2*l+(b+1)/2)}var ia=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Nt,this.segments=new me,this.programConfigurations=new Hn(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function wa(n,o){for(var l=0;l<n.length;l++)if(Qa(o,n[l]))return!0;for(var g=0;g<o.length;g++)if(Qa(n,o[g]))return!0;return!!_l(n,o)}function gu(n,o,l){return!!Qa(n,o)||!!xl(o,n,l)}function ps(n,o){if(n.length===1)return tf(o,n[0]);for(var l=0;l<o.length;l++)for(var g=o[l],b=0;b<g.length;b++)if(Qa(n,g[b]))return!0;for(var C=0;C<n.length;C++)if(tf(o,n[C]))return!0;for(var T=0;T<o.length;T++)if(_l(n,o[T]))return!0;return!1}function zf(n,o,l){if(n.length>1){if(_l(n,o))return!0;for(var g=0;g<o.length;g++)if(xl(o[g],n,l))return!0}for(var b=0;b<n.length;b++)if(xl(n[b],o,l))return!0;return!1}function _l(n,o){if(n.length===0||o.length===0)return!1;for(var l=0;l<n.length-1;l++)for(var g=n[l],b=n[l+1],C=0;C<o.length-1;C++)if(yu(g,b,o[C],o[C+1]))return!0;return!1}function yu(n,o,l,g){return St(n,l,g)!==St(o,l,g)&&St(n,o,l)!==St(n,o,g)}function xl(n,o,l){var g=l*l;if(o.length===1)return n.distSqr(o[0])<g;for(var b=1;b<o.length;b++)if(Nf(n,o[b-1],o[b])<g)return!0;return!1}function Nf(n,o,l){var g=o.distSqr(l);if(g===0)return n.distSqr(o);var b=((n.x-o.x)*(l.x-o.x)+(n.y-o.y)*(l.y-o.y))/g;return n.distSqr(b<0?o:b>1?l:l.sub(o)._mult(b)._add(o))}function tf(n,o){for(var l,g,b,C=!1,T=0;T<n.length;T++)for(var F=0,j=(l=n[T]).length-1;F<l.length;j=F++)(g=l[F]).y>o.y!=(b=l[j]).y>o.y&&o.x<(b.x-g.x)*(o.y-g.y)/(b.y-g.y)+g.x&&(C=!C);return C}function Qa(n,o){for(var l=!1,g=0,b=n.length-1;g<n.length;b=g++){var C=n[g],T=n[b];C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(l=!l)}return l}function rf(n,o,l){var g=l[0],b=l[2];if(n.x<g.x&&o.x<g.x||n.x>b.x&&o.x>b.x||n.y<g.y&&o.y<g.y||n.y>b.y&&o.y>b.y)return!1;var C=St(n,o,l[0]);return C!==St(n,o,l[1])||C!==St(n,o,l[2])||C!==St(n,o,l[3])}function yo(n,o,l){var g=o.paint.get(n).value;return g.kind==="constant"?g.value:l.programConfigurations.get(o.id).getMaxValue(n)}function Ys(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Ts(n,o,l,g,b){if(!o[0]&&!o[1])return n;var C=R.convert(o)._mult(b);l==="viewport"&&C._rotate(-g);for(var T=[],F=0;F<n.length;F++)T.push(n[F].sub(C));return T}ia.prototype.populate=function(n,o,l){var g=this.layers[0],b=[],C=null,T=!1;g.type==="circle"&&(T=!(C=g.layout.get("circle-sort-key")).isConstant());for(var F=0,j=n;F<j.length;F+=1){var Q=j[F],W=Q.feature,X=Q.id,se=Q.index,Ae=Q.sourceLayerIndex,Ee=this.layers[0]._featureFilter.needGeometry,ke=na(W,Ee);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),ke,l)){var $e=T?C.evaluate(ke,{},l):void 0,Le={id:X,properties:W.properties,type:W.type,sourceLayerIndex:Ae,index:se,geometry:Ee?ke.geometry:fi(W),patterns:{},sortKey:$e};b.push(Le)}}T&&b.sort(function(mr,Jt){return mr.sortKey-Jt.sortKey});for(var et=0,nt=b;et<nt.length;et+=1){var ct=nt[et],ft=ct.geometry,Pt=ct.index,Ut=ct.sourceLayerIndex,Zt=n[Pt].feature;this.addFeature(ct,ft,Pt,l),o.featureIndex.insert(Zt,ft,Pt,Ut,this.index)}},ia.prototype.update=function(n,o,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,l)},ia.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ia.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ia.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,_e),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},ia.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ia.prototype.addFeature=function(n,o,l,g){for(var b=0,C=o;b<C.length;b+=1)for(var T=0,F=C[b];T<F.length;T+=1){var j=F[T],Q=j.x,W=j.y;if(!(Q<0||Q>=8192||W<0||W>=8192)){var X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),se=X.vertexLength;Hi(this.layoutVertexArray,Q,W,-1,-1),Hi(this.layoutVertexArray,Q,W,1,-1),Hi(this.layoutVertexArray,Q,W,1,1),Hi(this.layoutVertexArray,Q,W,-1,1),this.indexArray.emplaceBack(se,se+1,se+2),this.indexArray.emplaceBack(se,se+3,se+2),X.vertexLength+=4,X.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,l,{},g)},nr("CircleBucket",ia,{omit:["layers"]});var uc=new No({"circle-sort-key":new ht(xe.layout_circle["circle-sort-key"])}),Yi={paint:new No({"circle-radius":new ht(xe.paint_circle["circle-radius"]),"circle-color":new ht(xe.paint_circle["circle-color"]),"circle-blur":new ht(xe.paint_circle["circle-blur"]),"circle-opacity":new ht(xe.paint_circle["circle-opacity"]),"circle-translate":new Gt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Gt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Gt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Gt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ht(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ht(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ht(xe.paint_circle["circle-stroke-opacity"])}),layout:uc},qi=typeof Float32Array<"u"?Float32Array:Array;function Aa(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function lc(n,o,l){var g=o[0],b=o[1],C=o[2],T=o[3],F=o[4],j=o[5],Q=o[6],W=o[7],X=o[8],se=o[9],Ae=o[10],Ee=o[11],ke=o[12],$e=o[13],Le=o[14],et=o[15],nt=l[0],ct=l[1],ft=l[2],Pt=l[3];return n[0]=nt*g+ct*F+ft*X+Pt*ke,n[1]=nt*b+ct*j+ft*se+Pt*$e,n[2]=nt*C+ct*Q+ft*Ae+Pt*Le,n[3]=nt*T+ct*W+ft*Ee+Pt*et,n[4]=(nt=l[4])*g+(ct=l[5])*F+(ft=l[6])*X+(Pt=l[7])*ke,n[5]=nt*b+ct*j+ft*se+Pt*$e,n[6]=nt*C+ct*Q+ft*Ae+Pt*Le,n[7]=nt*T+ct*W+ft*Ee+Pt*et,n[8]=(nt=l[8])*g+(ct=l[9])*F+(ft=l[10])*X+(Pt=l[11])*ke,n[9]=nt*b+ct*j+ft*se+Pt*$e,n[10]=nt*C+ct*Q+ft*Ae+Pt*Le,n[11]=nt*T+ct*W+ft*Ee+Pt*et,n[12]=(nt=l[12])*g+(ct=l[13])*F+(ft=l[14])*X+(Pt=l[15])*ke,n[13]=nt*b+ct*j+ft*se+Pt*$e,n[14]=nt*C+ct*Q+ft*Ae+Pt*Le,n[15]=nt*T+ct*W+ft*Ee+Pt*et,n}Math.hypot||(Math.hypot=function(){for(var n=arguments,o=0,l=arguments.length;l--;)o+=n[l]*n[l];return Math.sqrt(o)});var Up,WA=lc;function Uf(n,o,l){var g=o[0],b=o[1],C=o[2],T=o[3];return n[0]=l[0]*g+l[4]*b+l[8]*C+l[12]*T,n[1]=l[1]*g+l[5]*b+l[9]*C+l[13]*T,n[2]=l[2]*g+l[6]*b+l[10]*C+l[14]*T,n[3]=l[3]*g+l[7]*b+l[11]*C+l[15]*T,n}Up=new qi(3),qi!=Float32Array&&(Up[0]=0,Up[1]=0,Up[2]=0),function(){var n=new qi(4);qi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();var jf=(function(){var n=new qi(2);qi!=Float32Array&&(n[0]=0,n[1]=0)}(),function(n){function o(l){n.call(this,l,Yi)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(l){return new ia(l)},o.prototype.queryRadius=function(l){var g=l;return yo("circle-radius",this,g)+yo("circle-stroke-width",this,g)+Ys(this.paint.get("circle-translate"))},o.prototype.queryIntersectsFeature=function(l,g,b,C,T,F,j,Q){for(var W=Ts(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,j),X=this.paint.get("circle-radius").evaluate(g,b)+this.paint.get("circle-stroke-width").evaluate(g,b),se=this.paint.get("circle-pitch-alignment")==="map",Ae=se?W:function(Ut,Zt){return Ut.map(function(mr){return ZA(mr,Zt)})}(W,Q),Ee=se?X*j:X,ke=0,$e=C;ke<$e.length;ke+=1)for(var Le=0,et=$e[ke];Le<et.length;Le+=1){var nt=et[Le],ct=se?nt:ZA(nt,Q),ft=Ee,Pt=Uf([],[nt.x,nt.y,0,1],Q);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ft*=Pt[3]/F.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ft*=F.cameraToCenterDistance/Pt[3]),gu(Ae,ct,ft))return!0}return!1},o}($i));function ZA(n,o){var l=Uf([],[n.x,n.y,0,1],o);return new R(l[0]/l[3],l[1]/l[3])}var bl=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(ia);function $f(n,o,l,g){var b=o.width,C=o.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==b*C*l)throw new RangeError("mismatched image size")}else g=new Uint8Array(b*C*l);return n.width=b,n.height=C,n.data=g,n}function em(n,o,l){var g=o.width,b=o.height;if(g!==n.width||b!==n.height){var C=$f({},{width:g,height:b},l);Yh(n,C,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,g),height:Math.min(n.height,b)},l),n.width=g,n.height=b,n.data=C.data}}function Yh(n,o,l,g,b,C){if(b.width===0||b.height===0)return o;if(b.width>n.width||b.height>n.height||l.x>n.width-b.width||l.y>n.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>o.width||b.height>o.height||g.x>o.width-b.width||g.y>o.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var T=n.data,F=o.data,j=0;j<b.height;j++)for(var Q=((l.y+j)*n.width+l.x)*C,W=((g.y+j)*o.width+g.x)*C,X=0;X<b.width*C;X++)F[W+X]=T[Q+X];return o}nr("HeatmapBucket",bl,{omit:["layers"]});var Vf=function(n,o){$f(this,n,1,o)};Vf.prototype.resize=function(n){em(this,n,1)},Vf.prototype.clone=function(){return new Vf({width:this.width,height:this.height},new Uint8Array(this.data))},Vf.copy=function(n,o,l,g,b){Yh(n,o,l,g,b,1)};var La=function(n,o){$f(this,n,4,o)};La.prototype.resize=function(n){em(this,n,4)},La.prototype.replace=function(n,o){o?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n},La.prototype.clone=function(){return new La({width:this.width,height:this.height},new Uint8Array(this.data))},La.copy=function(n,o,l,g,b){Yh(n,o,l,g,b,4)},nr("AlphaImage",Vf),nr("RGBAImage",La);var Nx={paint:new No({"heatmap-radius":new ht(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ht(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Gt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ga(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Gt(xe.paint_heatmap["heatmap-opacity"])})};function Jh(n){var o={},l=n.resolution||256,g=n.clips?n.clips.length:1,b=n.image||new La({width:l,height:g}),C=function(Ee,ke,$e){o[n.evaluationKey]=$e;var Le=n.expression.evaluate(o);b.data[Ee+ke+0]=Math.floor(255*Le.r/Le.a),b.data[Ee+ke+1]=Math.floor(255*Le.g/Le.a),b.data[Ee+ke+2]=Math.floor(255*Le.b/Le.a),b.data[Ee+ke+3]=Math.floor(255*Le.a)};if(n.clips)for(var T=0,F=0;T<g;++T,F+=4*l)for(var j=0,Q=0;j<l;j++,Q+=4){var W=j/(l-1),X=n.clips[T];C(F,Q,X.start*(1-W)+X.end*W)}else for(var se=0,Ae=0;se<l;se++,Ae+=4)C(0,Ae,se/(l-1));return b}var Ry=function(n){function o(l){n.call(this,l,Nx),this._updateColorRamp()}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(l){return new bl(l)},o.prototype._handleSpecialPaintPropertyUpdate=function(l){l==="heatmap-color"&&this._updateColorRamp()},o.prototype._updateColorRamp=function(){this.colorRamp=Jh({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},o.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},o}($i),tm={paint:new No({"hillshade-illumination-direction":new Gt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Gt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Gt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Gt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Gt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Gt(xe.paint_hillshade["hillshade-accent-color"])})},Ux=function(n){function o(l){n.call(this,l,tm)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},o}($i),rm=m([{name:"a_pos",components:2,type:"Int16"}],4).members,Sn=ed,jx=ed;function ed(n,o,l){l=l||2;var g,b,C,T,F,j,Q,W=o&&o.length,X=W?o[0]*l:n.length,se=jp(n,0,X,l,!0),Ae=[];if(!se||se.next===se.prev)return Ae;if(W&&(se=function(ke,$e,Le,et){var nt,ct,ft,Pt=[];for(nt=0,ct=$e.length;nt<ct;nt++)(ft=jp(ke,$e[nt]*et,nt<ct-1?$e[nt+1]*et:ke.length,et,!1))===ft.next&&(ft.steiner=!0),Pt.push(nf(ft));for(Pt.sort(nm),nt=0;nt<Pt.length;nt++)Ly(Pt[nt],Le),Le=cc(Le,Le.next);return Le}(n,o,se,l)),n.length>80*l){g=C=n[0],b=T=n[1];for(var Ee=l;Ee<X;Ee+=l)(F=n[Ee])<g&&(g=F),(j=n[Ee+1])<b&&(b=j),F>C&&(C=F),j>T&&(T=j);Q=(Q=Math.max(C-g,T-b))!==0?1/Q:0}return KA(se,Ae,l,g,b,Q),Ae}function jp(n,o,l,g,b){var C,T;if(b===id(n,o,l,g)>0)for(C=o;C<l;C+=g)T=By(C,n[C],n[C+1],T);else for(C=l-g;C>=o;C-=g)T=By(C,n[C],n[C+1],T);return T&&XA(T,T.next)&&(_u(T),T=T.next),T}function cc(n,o){if(!n)return n;o||(o=n);var l,g=n;do if(l=!1,g.steiner||!XA(g,g.next)&&Gi(g.prev,g,g.next)!==0)g=g.next;else{if(_u(g),(g=o=g.prev)===g.next)break;l=!0}while(l||g!==o);return o}function KA(n,o,l,g,b,C,T){if(n){!T&&C&&function(W,X,se,Ae){var Ee=W;do Ee.z===null&&(Ee.z=As(Ee.x,Ee.y,X,se,Ae)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next;while(Ee!==W);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(ke){var $e,Le,et,nt,ct,ft,Pt,Ut,Zt=1;do{for(Le=ke,ke=null,ct=null,ft=0;Le;){for(ft++,et=Le,Pt=0,$e=0;$e<Zt&&(Pt++,et=et.nextZ);$e++);for(Ut=Zt;Pt>0||Ut>0&&et;)Pt!==0&&(Ut===0||!et||Le.z<=et.z)?(nt=Le,Le=Le.nextZ,Pt--):(nt=et,et=et.nextZ,Ut--),ct?ct.nextZ=nt:ke=nt,nt.prevZ=ct,ct=nt;Le=et}ct.nextZ=null,Zt*=2}while(ft>1)}(Ee)}(n,g,b,C);for(var F,j,Q=n;n.prev!==n.next;)if(F=n.prev,j=n.next,C?vu(n,g,b,C):$x(n))o.push(F.i/l),o.push(n.i/l),o.push(j.i/l),_u(n),n=j.next,Q=j.next;else if((n=j)===Q){T?T===1?KA(n=Vx(cc(n),o,l),o,l,g,b,C,2):T===2&&td(n,o,l,g,b,C):KA(cc(n),o,l,g,b,C,1);break}}}function $x(n){var o=n.prev,l=n,g=n.next;if(Gi(o,l,g)>=0)return!1;for(var b=n.next.next;b!==n.prev;){if(of(o.x,o.y,l.x,l.y,g.x,g.y,b.x,b.y)&&Gi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function vu(n,o,l,g){var b=n.prev,C=n,T=n.next;if(Gi(b,C,T)>=0)return!1;for(var F=b.x>C.x?b.x>T.x?b.x:T.x:C.x>T.x?C.x:T.x,j=b.y>C.y?b.y>T.y?b.y:T.y:C.y>T.y?C.y:T.y,Q=As(b.x<C.x?b.x<T.x?b.x:T.x:C.x<T.x?C.x:T.x,b.y<C.y?b.y<T.y?b.y:T.y:C.y<T.y?C.y:T.y,o,l,g),W=As(F,j,o,l,g),X=n.prevZ,se=n.nextZ;X&&X.z>=Q&&se&&se.z<=W;){if(X!==n.prev&&X!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,X.x,X.y)&&Gi(X.prev,X,X.next)>=0||(X=X.prevZ,se!==n.prev&&se!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,se.x,se.y)&&Gi(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;X&&X.z>=Q;){if(X!==n.prev&&X!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,X.x,X.y)&&Gi(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;se&&se.z<=W;){if(se!==n.prev&&se!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,se.x,se.y)&&Gi(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function Vx(n,o,l){var g=n;do{var b=g.prev,C=g.next.next;!XA(b,C)&&rd(b,g,g.next,C)&&Hf(b,C)&&Hf(C,b)&&(o.push(b.i/l),o.push(g.i/l),o.push(C.i/l),_u(g),_u(g.next),g=n=C),g=g.next}while(g!==n);return cc(g)}function td(n,o,l,g,b,C){var T=n;do{for(var F=T.next.next;F!==T.prev;){if(T.i!==F.i&&Fy(T,F)){var j=fc(T,F);return T=cc(T,T.next),j=cc(j,j.next),KA(T,o,l,g,b,C),void KA(j,o,l,g,b,C)}F=F.next}T=T.next}while(T!==n)}function nm(n,o){return n.x-o.x}function Ly(n,o){if(o=function(g,b){var C,T=b,F=g.x,j=g.y,Q=-1/0;do{if(j<=T.y&&j>=T.next.y&&T.next.y!==T.y){var W=T.x+(j-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(W<=F&&W>Q){if(Q=W,W===F){if(j===T.y)return T;if(j===T.next.y)return T.next}C=T.x<T.next.x?T:T.next}}T=T.next}while(T!==b);if(!C)return null;if(F===Q)return C;var X,se=C,Ae=C.x,Ee=C.y,ke=1/0;T=C;do F>=T.x&&T.x>=Ae&&F!==T.x&&of(j<Ee?F:Q,j,Ae,Ee,j<Ee?Q:F,j,T.x,T.y)&&(X=Math.abs(j-T.y)/(F-T.x),Hf(T,g)&&(X<ke||X===ke&&(T.x>C.x||T.x===C.x&&Dy(C,T)))&&(C=T,ke=X)),T=T.next;while(T!==se);return C}(n,o)){var l=fc(o,n);cc(o,o.next),cc(l,l.next)}}function Dy(n,o){return Gi(n.prev,n,o.prev)<0&&Gi(o.next,n,n.next)<0}function As(n,o,l,g,b){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-l)*b)|n<<8))|n<<4))|n<<2))|n<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-g)*b)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function nf(n){var o=n,l=n;do(o.x<l.x||o.x===l.x&&o.y<l.y)&&(l=o),o=o.next;while(o!==n);return l}function of(n,o,l,g,b,C,T,F){return(b-T)*(o-F)-(n-T)*(C-F)>=0&&(n-T)*(g-F)-(l-T)*(o-F)>=0&&(l-T)*(C-F)-(b-T)*(g-F)>=0}function Fy(n,o){return n.next.i!==o.i&&n.prev.i!==o.i&&!function(l,g){var b=l;do{if(b.i!==l.i&&b.next.i!==l.i&&b.i!==g.i&&b.next.i!==g.i&&rd(b,b.next,l,g))return!0;b=b.next}while(b!==l);return!1}(n,o)&&(Hf(n,o)&&Hf(o,n)&&function(l,g){var b=l,C=!1,T=(l.x+g.x)/2,F=(l.y+g.y)/2;do b.y>F!=b.next.y>F&&b.next.y!==b.y&&T<(b.next.x-b.x)*(F-b.y)/(b.next.y-b.y)+b.x&&(C=!C),b=b.next;while(b!==l);return C}(n,o)&&(Gi(n.prev,n,o.prev)||Gi(n,o.prev,o))||XA(n,o)&&Gi(n.prev,n,n.next)>0&&Gi(o.prev,o,o.next)>0)}function Gi(n,o,l){return(o.y-n.y)*(l.x-o.x)-(o.x-n.x)*(l.y-o.y)}function XA(n,o){return n.x===o.x&&n.y===o.y}function rd(n,o,l,g){var b=$p(Gi(n,o,l)),C=$p(Gi(n,o,g)),T=$p(Gi(l,g,n)),F=$p(Gi(l,g,o));return b!==C&&T!==F||!(b!==0||!YA(n,l,o))||!(C!==0||!YA(n,g,o))||!(T!==0||!YA(l,n,g))||!(F!==0||!YA(l,o,g))}function YA(n,o,l){return o.x<=Math.max(n.x,l.x)&&o.x>=Math.min(n.x,l.x)&&o.y<=Math.max(n.y,l.y)&&o.y>=Math.min(n.y,l.y)}function $p(n){return n>0?1:n<0?-1:0}function Hf(n,o){return Gi(n.prev,n,n.next)<0?Gi(n,o,n.next)>=0&&Gi(n,n.prev,o)>=0:Gi(n,o,n.prev)<0||Gi(n,n.next,o)<0}function fc(n,o){var l=new nd(n.i,n.x,n.y),g=new nd(o.i,o.x,o.y),b=n.next,C=o.prev;return n.next=o,o.prev=n,l.next=b,b.prev=l,g.next=l,l.prev=g,C.next=g,g.prev=C,g}function By(n,o,l,g){var b=new nd(n,o,l);return g?(b.next=g.next,b.prev=g,g.next.prev=b,g.next=b):(b.prev=b,b.next=b),b}function _u(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function nd(n,o,l){this.i=n,this.x=o,this.y=l,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function id(n,o,l,g){for(var b=0,C=o,T=l-g;C<l;C+=g)b+=(n[T]-n[C])*(n[C+1]+n[T+1]),T=C;return b}function im(n,o,l,g,b){(function C(T,F,j,Q,W){for(;Q>j;){if(Q-j>600){var X=Q-j+1,se=F-j+1,Ae=Math.log(X),Ee=.5*Math.exp(2*Ae/3),ke=.5*Math.sqrt(Ae*Ee*(X-Ee)/X)*(se-X/2<0?-1:1);C(T,F,Math.max(j,Math.floor(F-se*Ee/X+ke)),Math.min(Q,Math.floor(F+(X-se)*Ee/X+ke)),W)}var $e=T[F],Le=j,et=Q;for(JA(T,j,F),W(T[Q],$e)>0&&JA(T,j,Q);Le<et;){for(JA(T,Le,et),Le++,et--;W(T[Le],$e)<0;)Le++;for(;W(T[et],$e)>0;)et--}W(T[j],$e)===0?JA(T,j,et):JA(T,++et,Q),et<=F&&(j=et+1),F<=et&&(Q=et-1)}})(n,o,l||0,g||n.length-1,b||Hx)}function JA(n,o,l){var g=n[o];n[o]=n[l],n[l]=g}function Hx(n,o){return n<o?-1:n>o?1:0}function om(n,o){var l=n.length;if(l<=1)return[n];for(var g,b,C=[],T=0;T<l;T++){var F=Qt(n[T]);F!==0&&(n[T].area=Math.abs(F),b===void 0&&(b=F<0),b===F<0?(g&&C.push(g),g=[n[T]]):g.push(n[T]))}if(g&&C.push(g),o>1)for(var j=0;j<C.length;j++)C[j].length<=o||(im(C[j],o,1,C[j].length-1,zy),C[j]=C[j].slice(0,o));return C}function zy(n,o){return o.area-n.area}function od(n,o,l){for(var g=l.patternDependencies,b=!1,C=0,T=o;C<T.length;C+=1){var F=T[C].paint.get(n+"-pattern");F.isConstant()||(b=!0);var j=F.constantOr(null);j&&(b=!0,g[j.to]=!0,g[j.from]=!0)}return b}function am(n,o,l,g,b){for(var C=b.patternDependencies,T=0,F=o;T<F.length;T+=1){var j=F[T],Q=j.paint.get(n+"-pattern").value;if(Q.kind!=="constant"){var W=Q.evaluate({zoom:g-1},l,{},b.availableImages),X=Q.evaluate({zoom:g},l,{},b.availableImages),se=Q.evaluate({zoom:g+1},l,{},b.availableImages);X=X&&X.name?X.name:X,se=se&&se.name?se.name:se,C[W=W&&W.name?W.name:W]=!0,C[X]=!0,C[se]=!0,l.patterns[j.id]={min:W,mid:X,max:se}}}return l}ed.deviation=function(n,o,l,g){var b=o&&o.length,C=Math.abs(id(n,0,b?o[0]*l:n.length,l));if(b)for(var T=0,F=o.length;T<F;T++)C-=Math.abs(id(n,o[T]*l,T<F-1?o[T+1]*l:n.length,l));var j=0;for(T=0;T<g.length;T+=3){var Q=g[T]*l,W=g[T+1]*l,X=g[T+2]*l;j+=Math.abs((n[Q]-n[X])*(n[W+1]-n[Q+1])-(n[Q]-n[W])*(n[X+1]-n[Q+1]))}return C===0&&j===0?0:Math.abs((j-C)/C)},ed.flatten=function(n){for(var o=n[0][0].length,l={vertices:[],holes:[],dimensions:o},g=0,b=0;b<n.length;b++){for(var C=0;C<n[b].length;C++)for(var T=0;T<o;T++)l.vertices.push(n[b][C][T]);b>0&&l.holes.push(g+=n[b-1].length)}return l},Sn.default=jx;var xu=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Nt,this.indexArray2=new _r,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new me,this.segments2=new me,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};xu.prototype.populate=function(n,o,l){this.hasPattern=od("fill",this.layers,o);for(var g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),C=[],T=0,F=n;T<F.length;T+=1){var j=F[T],Q=j.feature,W=j.id,X=j.index,se=j.sourceLayerIndex,Ae=this.layers[0]._featureFilter.needGeometry,Ee=na(Q,Ae);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),Ee,l)){var ke=b?g.evaluate(Ee,{},l,o.availableImages):void 0,$e={id:W,properties:Q.properties,type:Q.type,sourceLayerIndex:se,index:X,geometry:Ae?Ee.geometry:fi(Q),patterns:{},sortKey:ke};C.push($e)}}b&&C.sort(function(Zt,mr){return Zt.sortKey-mr.sortKey});for(var Le=0,et=C;Le<et.length;Le+=1){var nt=et[Le],ct=nt.geometry,ft=nt.index,Pt=nt.sourceLayerIndex;if(this.hasPattern){var Ut=am("fill",this.layers,nt,this.zoom,o);this.patternFeatures.push(Ut)}else this.addFeature(nt,ct,ft,l,{});o.featureIndex.insert(n[ft].feature,ct,ft,Pt,this.index)}},xu.prototype.update=function(n,o,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,l)},xu.prototype.addFeatures=function(n,o,l){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,l)}},xu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},xu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xu.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,rm),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0},xu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},xu.prototype.addFeature=function(n,o,l,g,b){for(var C=0,T=om(o,500);C<T.length;C+=1){for(var F=T[C],j=0,Q=0,W=F;Q<W.length;Q+=1)j+=W[Q].length;for(var X=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),se=X.vertexLength,Ae=[],Ee=[],ke=0,$e=F;ke<$e.length;ke+=1){var Le=$e[ke];if(Le.length!==0){Le!==F[0]&&Ee.push(Ae.length/2);var et=this.segments2.prepareSegment(Le.length,this.layoutVertexArray,this.indexArray2),nt=et.vertexLength;this.layoutVertexArray.emplaceBack(Le[0].x,Le[0].y),this.indexArray2.emplaceBack(nt+Le.length-1,nt),Ae.push(Le[0].x),Ae.push(Le[0].y);for(var ct=1;ct<Le.length;ct++)this.layoutVertexArray.emplaceBack(Le[ct].x,Le[ct].y),this.indexArray2.emplaceBack(nt+ct-1,nt+ct),Ae.push(Le[ct].x),Ae.push(Le[ct].y);et.vertexLength+=Le.length,et.primitiveLength+=Le.length}}for(var ft=Sn(Ae,Ee),Pt=0;Pt<ft.length;Pt+=3)this.indexArray.emplaceBack(se+ft[Pt],se+ft[Pt+1],se+ft[Pt+2]);X.vertexLength+=j,X.primitiveLength+=ft.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,l,b,g)},nr("FillBucket",xu,{omit:["layers","patternFeatures"]});var Ny=new No({"fill-sort-key":new ht(xe.layout_fill["fill-sort-key"])}),Ps={paint:new No({"fill-antialias":new Gt(xe.paint_fill["fill-antialias"]),"fill-opacity":new ht(xe.paint_fill["fill-opacity"]),"fill-color":new ht(xe.paint_fill["fill-color"]),"fill-outline-color":new ht(xe.paint_fill["fill-outline-color"]),"fill-translate":new Gt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Gt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xt(xe.paint_fill["fill-pattern"])}),layout:Ny},wl=function(n){function o(l){n.call(this,l,Ps)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.recalculate=function(l,g){n.prototype.recalculate.call(this,l,g);var b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},o.prototype.createBucket=function(l){return new xu(l)},o.prototype.queryRadius=function(){return Ys(this.paint.get("fill-translate"))},o.prototype.queryIntersectsFeature=function(l,g,b,C,T,F,j){return ps(Ts(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,j),C)},o.prototype.isTileClipped=function(){return!0},o}($i),qx=m([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Uy=pc;function pc(n,o,l,g,b){this.properties={},this.extent=l,this.type=0,this._pbf=n,this._geometry=-1,this._keys=g,this._values=b,n.readFields(Vp,this,o)}function Vp(n,o,l){n==1?o.id=l.readVarint():n==2?function(g,b){for(var C=g.readVarint()+g.pos;g.pos<C;){var T=b._keys[g.readVarint()],F=b._values[g.readVarint()];b.properties[T]=F}}(l,o):n==3?o.type=l.readVarint():n==4&&(o._geometry=l.pos)}function jy(n){for(var o,l,g=0,b=0,C=n.length,T=C-1;b<C;T=b++)g+=((l=n[T]).x-(o=n[b]).x)*(o.y+l.y);return g}pc.types=["Unknown","Point","LineString","Polygon"],pc.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var o,l=n.readVarint()+n.pos,g=1,b=0,C=0,T=0,F=[];n.pos<l;){if(b<=0){var j=n.readVarint();g=7&j,b=j>>3}if(b--,g===1||g===2)C+=n.readSVarint(),T+=n.readSVarint(),g===1&&(o&&F.push(o),o=[]),o.push(new R(C,T));else{if(g!==7)throw new Error("unknown command "+g);o&&o.push(o[0].clone())}}return o&&F.push(o),F},pc.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var o=n.readVarint()+n.pos,l=1,g=0,b=0,C=0,T=1/0,F=-1/0,j=1/0,Q=-1/0;n.pos<o;){if(g<=0){var W=n.readVarint();l=7&W,g=W>>3}if(g--,l===1||l===2)(b+=n.readSVarint())<T&&(T=b),b>F&&(F=b),(C+=n.readSVarint())<j&&(j=C),C>Q&&(Q=C);else if(l!==7)throw new Error("unknown command "+l)}return[T,j,F,Q]},pc.prototype.toGeoJSON=function(n,o,l){var g,b,C=this.extent*Math.pow(2,l),T=this.extent*n,F=this.extent*o,j=this.loadGeometry(),Q=pc.types[this.type];function W(Ae){for(var Ee=0;Ee<Ae.length;Ee++){var ke=Ae[Ee];Ae[Ee]=[360*(ke.x+T)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(ke.y+F)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(g=0;g<j.length;g++)X[g]=j[g][0];W(j=X);break;case 2:for(g=0;g<j.length;g++)W(j[g]);break;case 3:for(j=function(Ae){var Ee=Ae.length;if(Ee<=1)return[Ae];for(var ke,$e,Le=[],et=0;et<Ee;et++){var nt=jy(Ae[et]);nt!==0&&($e===void 0&&($e=nt<0),$e===nt<0?(ke&&Le.push(ke),ke=[Ae[et]]):ke.push(Ae[et]))}return ke&&Le.push(ke),Le}(j),g=0;g<j.length;g++)for(b=0;b<j[g].length;b++)W(j[g][b])}j.length===1?j=j[0]:Q="Multi"+Q;var se={type:"Feature",geometry:{type:Q,coordinates:j},properties:this.properties};return"id"in this&&(se.id=this.id),se};var sm=$y;function $y(n,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(Vy,this,o),this.length=this._features.length}function Vy(n,o,l){n===15?o.version=l.readVarint():n===1?o.name=l.readString():n===5?o.extent=l.readVarint():n===2?o._features.push(l.pos):n===3?o._keys.push(l.readString()):n===4&&o._values.push(function(g){for(var b=null,C=g.readVarint()+g.pos;g.pos<C;){var T=g.readVarint()>>3;b=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}return b}(l))}function Hp(n,o,l){if(n===3){var g=new sm(l,l.readVarint()+l.pos);g.length&&(o[g.name]=g)}}$y.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var o=this._pbf.readVarint()+this._pbf.pos;return new Uy(this._pbf,o,this.extent,this._keys,this._values)};var Sl={VectorTile:function(n,o){this.layers=n.readFields(Hp,{},o)},VectorTileFeature:Uy,VectorTileLayer:sm},Gx=Sl.VectorTileFeature.types,ad=Math.pow(2,13);function qp(n,o,l,g,b,C,T,F){n.emplaceBack(o,l,2*Math.floor(g*ad)+T,b*ad*2,C*ad*2,Math.round(F))}var Is=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new O,this.indexArray=new Nt,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new me,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function Hy(n,o){return n.x===o.x&&(n.x<0||n.x>8192)||n.y===o.y&&(n.y<0||n.y>8192)}Is.prototype.populate=function(n,o,l){this.features=[],this.hasPattern=od("fill-extrusion",this.layers,o);for(var g=0,b=n;g<b.length;g+=1){var C=b[g],T=C.feature,F=C.id,j=C.index,Q=C.sourceLayerIndex,W=this.layers[0]._featureFilter.needGeometry,X=na(T,W);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),X,l)){var se={id:F,sourceLayerIndex:Q,index:j,geometry:W?X.geometry:fi(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push(am("fill-extrusion",this.layers,se,this.zoom,o)):this.addFeature(se,se.geometry,j,l,{}),o.featureIndex.insert(T,se.geometry,j,Q,this.index,!0)}}},Is.prototype.addFeatures=function(n,o,l){for(var g=0,b=this.features;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,l)}},Is.prototype.update=function(n,o,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,l)},Is.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Is.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,qx),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Is.prototype.addFeature=function(n,o,l,g,b){for(var C=0,T=om(o,500);C<T.length;C+=1){for(var F=T[C],j=0,Q=0,W=F;Q<W.length;Q+=1)j+=W[Q].length;for(var X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),se=0,Ae=F;se<Ae.length;se+=1){var Ee=Ae[se];if(Ee.length!==0&&!((rn=Ee).every(function(Vr){return Vr.x<0})||rn.every(function(Vr){return Vr.x>8192})||rn.every(function(Vr){return Vr.y<0})||rn.every(function(Vr){return Vr.y>8192})))for(var ke=0,$e=0;$e<Ee.length;$e++){var Le=Ee[$e];if($e>=1){var et=Ee[$e-1];if(!Hy(Le,et)){X.vertexLength+4>me.MAX_VERTEX_ARRAY_LENGTH&&(X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var nt=Le.sub(et)._perp()._unit(),ct=et.dist(Le);ke+ct>32768&&(ke=0),qp(this.layoutVertexArray,Le.x,Le.y,nt.x,nt.y,0,0,ke),qp(this.layoutVertexArray,Le.x,Le.y,nt.x,nt.y,0,1,ke),qp(this.layoutVertexArray,et.x,et.y,nt.x,nt.y,0,0,ke+=ct),qp(this.layoutVertexArray,et.x,et.y,nt.x,nt.y,0,1,ke);var ft=X.vertexLength;this.indexArray.emplaceBack(ft,ft+2,ft+1),this.indexArray.emplaceBack(ft+1,ft+2,ft+3),X.vertexLength+=4,X.primitiveLength+=2}}}}if(X.vertexLength+j>me.MAX_VERTEX_ARRAY_LENGTH&&(X=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),Gx[n.type]==="Polygon"){for(var Pt=[],Ut=[],Zt=X.vertexLength,mr=0,Jt=F;mr<Jt.length;mr+=1){var Cr=Jt[mr];if(Cr.length!==0){Cr!==F[0]&&Ut.push(Pt.length/2);for(var rr=0;rr<Cr.length;rr++){var Wr=Cr[rr];qp(this.layoutVertexArray,Wr.x,Wr.y,0,0,1,1,0),Pt.push(Wr.x),Pt.push(Wr.y)}}}for(var Ir=Sn(Pt,Ut),gr=0;gr<Ir.length;gr+=3)this.indexArray.emplaceBack(Zt+Ir[gr],Zt+Ir[gr+2],Zt+Ir[gr+1]);X.primitiveLength+=Ir.length/3,X.vertexLength+=j}}var rn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,l,b,g)},nr("FillExtrusionBucket",Is,{omit:["layers","features"]});var sd={paint:new No({"fill-extrusion-opacity":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ht(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xt(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ht(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ht(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},um=function(n){function o(l){n.call(this,l,sd)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(l){return new Is(l)},o.prototype.queryRadius=function(){return Ys(this.paint.get("fill-extrusion-translate"))},o.prototype.is3D=function(){return!0},o.prototype.queryIntersectsFeature=function(l,g,b,C,T,F,j,Q){var W=Ts(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,j),X=this.paint.get("fill-extrusion-height").evaluate(g,b),se=this.paint.get("fill-extrusion-base").evaluate(g,b),Ae=function(ke,$e,Le,et){for(var nt=[],ct=0,ft=ke;ct<ft.length;ct+=1){var Pt=ft[ct],Ut=[Pt.x,Pt.y,0,1];Uf(Ut,Ut,$e),nt.push(new R(Ut[0]/Ut[3],Ut[1]/Ut[3]))}return nt}(W,Q),Ee=function(ke,$e,Le,et){for(var nt=[],ct=[],ft=et[8]*$e,Pt=et[9]*$e,Ut=et[10]*$e,Zt=et[11]*$e,mr=et[8]*Le,Jt=et[9]*Le,Cr=et[10]*Le,rr=et[11]*Le,Wr=0,Ir=ke;Wr<Ir.length;Wr+=1){for(var gr=[],rn=[],Vr=0,vn=Ir[Wr];Vr<vn.length;Vr+=1){var kr=vn[Vr],On=kr.x,ui=kr.y,_i=et[0]*On+et[4]*ui+et[12],Oi=et[1]*On+et[5]*ui+et[13],xi=et[2]*On+et[6]*ui+et[14],Ci=et[3]*On+et[7]*ui+et[15],xo=xi+Ut,Oo=Ci+Zt,Ea=_i+mr,jo=Oi+Jt,ka=xi+Cr,Ji=Ci+rr,$o=new R((_i+ft)/Oo,(Oi+Pt)/Oo);$o.z=xo/Oo,gr.push($o);var un=new R(Ea/Ji,jo/Ji);un.z=ka/Ji,rn.push(un)}nt.push(gr),ct.push(rn)}return[nt,ct]}(C,se,X,Q);return function(ke,$e,Le){var et=1/0;ps(Le,$e)&&(et=qy(Le,$e[0]));for(var nt=0;nt<$e.length;nt++)for(var ct=$e[nt],ft=ke[nt],Pt=0;Pt<ct.length-1;Pt++){var Ut=ct[Pt],Zt=[Ut,ct[Pt+1],ft[Pt+1],ft[Pt],Ut];wa(Le,Zt)&&(et=Math.min(et,qy(Le,Zt)))}return et!==1/0&&et}(Ee[0],Ee[1],Ae)},o}($i);function af(n,o){return n.x*o.x+n.y*o.y}function qy(n,o){if(n.length===1){for(var l,g=0,b=o[g++];!l||b.equals(l);)if(!(l=o[g++]))return 1/0;for(;g<o.length;g++){var C=o[g],T=n[0],F=l.sub(b),j=C.sub(b),Q=T.sub(b),W=af(F,F),X=af(F,j),se=af(j,j),Ae=af(Q,F),Ee=af(Q,j),ke=W*se-X*X,$e=(se*Ae-X*Ee)/ke,Le=(W*Ee-X*Ae)/ke,et=b.z*(1-$e-Le)+l.z*$e+C.z*Le;if(isFinite(et))return et}return 1/0}for(var nt=1/0,ct=0,ft=o;ct<ft.length;ct+=1)nt=Math.min(nt,ft[ct].z);return nt}var Gy=m([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,ud=m([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Qy=Sl.VectorTileFeature.types,lm=Math.cos(Math.PI/180*37.5),Wy=Math.pow(2,14)/.5,Sa=function(n){var o=this;this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(l){return l.id}),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(l){o.gradients[l.id]={}}),this.layoutVertexArray=new I,this.layoutVertexArray2=new B,this.indexArray=new Nt,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new me,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(l){return l.isStateDependent()}).map(function(l){return l.id})};Sa.prototype.populate=function(n,o,l){this.hasPattern=od("line",this.layers,o);for(var g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),C=[],T=0,F=n;T<F.length;T+=1){var j=F[T],Q=j.feature,W=j.id,X=j.index,se=j.sourceLayerIndex,Ae=this.layers[0]._featureFilter.needGeometry,Ee=na(Q,Ae);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),Ee,l)){var ke=b?g.evaluate(Ee,{},l):void 0,$e={id:W,properties:Q.properties,type:Q.type,sourceLayerIndex:se,index:X,geometry:Ae?Ee.geometry:fi(Q),patterns:{},sortKey:ke};C.push($e)}}b&&C.sort(function(Zt,mr){return Zt.sortKey-mr.sortKey});for(var Le=0,et=C;Le<et.length;Le+=1){var nt=et[Le],ct=nt.geometry,ft=nt.index,Pt=nt.sourceLayerIndex;if(this.hasPattern){var Ut=am("line",this.layers,nt,this.zoom,o);this.patternFeatures.push(Ut)}else this.addFeature(nt,ct,ft,l,{});o.featureIndex.insert(n[ft].feature,ct,ft,Pt,this.index)}},Sa.prototype.update=function(n,o,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,l)},Sa.prototype.addFeatures=function(n,o,l){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,l)}},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,ud)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Gy),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.lineFeatureClips=function(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}},Sa.prototype.addFeature=function(n,o,l,g,b){var C=this.layers[0].layout,T=C.get("line-join").evaluate(n,{}),F=C.get("line-cap"),j=C.get("line-miter-limit"),Q=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(var W=0,X=o;W<X.length;W+=1)this.addLine(X[W],n,T,F,j,Q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,l,b,g)},Sa.prototype.addLine=function(n,o,l,g,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var T=0;T<n.length-1;T++)this.totalDistance+=n[T].dist(n[T+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var F=Qy[o.type]==="Polygon",j=n.length;j>=2&&n[j-1].equals(n[j-2]);)j--;for(var Q=0;Q<j-1&&n[Q].equals(n[Q+1]);)Q++;if(!(j<(F?3:2))){l==="bevel"&&(b=1.05);var W,X=this.overscaling<=16?122880/(512*this.overscaling):0,se=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray),Ae=void 0,Ee=void 0,ke=void 0,$e=void 0;this.e1=this.e2=-1,F&&($e=n[Q].sub(W=n[j-2])._unit()._perp());for(var Le=Q;Le<j;Le++)if(!(Ee=Le===j-1?F?n[Q+1]:void 0:n[Le+1])||!n[Le].equals(Ee)){$e&&(ke=$e),W&&(Ae=W),W=n[Le],$e=Ee?Ee.sub(W)._unit()._perp():ke;var et=(ke=ke||$e).add($e);et.x===0&&et.y===0||et._unit();var nt=ke.x*$e.x+ke.y*$e.y,ct=et.x*$e.x+et.y*$e.y,ft=ct!==0?1/ct:1/0,Pt=2*Math.sqrt(2-2*ct),Ut=ct<lm&&Ae&&Ee,Zt=ke.x*$e.y-ke.y*$e.x>0;if(Ut&&Le>Q){var mr=W.dist(Ae);if(mr>2*X){var Jt=W.sub(W.sub(Ae)._mult(X/mr)._round());this.updateDistance(Ae,Jt),this.addCurrentVertex(Jt,ke,0,0,se),Ae=Jt}}var Cr=Ae&&Ee,rr=Cr?l:F?"butt":g;if(Cr&&rr==="round"&&(ft<C?rr="miter":ft<=2&&(rr="fakeround")),rr==="miter"&&ft>b&&(rr="bevel"),rr==="bevel"&&(ft>2&&(rr="flipbevel"),ft<b&&(rr="miter")),Ae&&this.updateDistance(Ae,W),rr==="miter")et._mult(ft),this.addCurrentVertex(W,et,0,0,se);else if(rr==="flipbevel"){if(ft>100)et=$e.mult(-1);else{var Wr=ft*ke.add($e).mag()/ke.sub($e).mag();et._perp()._mult(Wr*(Zt?-1:1))}this.addCurrentVertex(W,et,0,0,se),this.addCurrentVertex(W,et.mult(-1),0,0,se)}else if(rr==="bevel"||rr==="fakeround"){var Ir=-Math.sqrt(ft*ft-1),gr=Zt?Ir:0,rn=Zt?0:Ir;if(Ae&&this.addCurrentVertex(W,ke,gr,rn,se),rr==="fakeround")for(var Vr=Math.round(180*Pt/Math.PI/20),vn=1;vn<Vr;vn++){var kr=vn/Vr;if(kr!==.5){var On=kr-.5;kr+=kr*On*(kr-1)*((1.0904+nt*(nt*(3.55645-1.43519*nt)-3.2452))*On*On+(.848013+nt*(.215638*nt-1.06021)))}var ui=$e.sub(ke)._mult(kr)._add(ke)._unit()._mult(Zt?-1:1);this.addHalfVertex(W,ui.x,ui.y,!1,Zt,0,se)}Ee&&this.addCurrentVertex(W,$e,-gr,-rn,se)}else if(rr==="butt")this.addCurrentVertex(W,et,0,0,se);else if(rr==="square"){var _i=Ae?1:-1;this.addCurrentVertex(W,et,_i,_i,se)}else rr==="round"&&(Ae&&(this.addCurrentVertex(W,ke,0,0,se),this.addCurrentVertex(W,ke,1,1,se,!0)),Ee&&(this.addCurrentVertex(W,$e,-1,-1,se,!0),this.addCurrentVertex(W,$e,0,0,se)));if(Ut&&Le<j-1){var Oi=W.dist(Ee);if(Oi>2*X){var xi=W.add(Ee.sub(W)._mult(X/Oi)._round());this.updateDistance(W,xi),this.addCurrentVertex(xi,$e,0,0,se),W=xi}}}}},Sa.prototype.addCurrentVertex=function(n,o,l,g,b,C){C===void 0&&(C=!1);var T=o.y*g-o.x,F=-o.y-o.x*g;this.addHalfVertex(n,o.x+o.y*l,o.y-o.x*l,C,!1,l,b),this.addHalfVertex(n,T,F,C,!0,-g,b),this.distance>Wy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(n,o,l,g,b,C))},Sa.prototype.addHalfVertex=function(n,o,l,g,b,C,T){var F=.5*(this.lineClips?this.scaledDistance*(Wy-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n.x<<1)+(g?1:0),(n.y<<1)+(b?1:0),Math.round(63*o)+128,Math.round(63*l)+128,1+(C===0?0:C<0?-1:1)|(63&F)<<2,F>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var j=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,j),T.primitiveLength++),b?this.e2=j:this.e1=j},Sa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Sa.prototype.updateDistance=function(n,o){this.distance+=n.dist(o),this.updateScaledDistance()},nr("LineBucket",Sa,{omit:["layers","patternFeatures"]});var Ac=new No({"line-cap":new Gt(xe.layout_line["line-cap"]),"line-join":new ht(xe.layout_line["line-join"]),"line-miter-limit":new Gt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Gt(xe.layout_line["line-round-limit"]),"line-sort-key":new ht(xe.layout_line["line-sort-key"])}),cm={paint:new No({"line-opacity":new ht(xe.paint_line["line-opacity"]),"line-color":new ht(xe.paint_line["line-color"]),"line-translate":new Gt(xe.paint_line["line-translate"]),"line-translate-anchor":new Gt(xe.paint_line["line-translate-anchor"]),"line-width":new ht(xe.paint_line["line-width"]),"line-gap-width":new ht(xe.paint_line["line-gap-width"]),"line-offset":new ht(xe.paint_line["line-offset"]),"line-blur":new ht(xe.paint_line["line-blur"]),"line-dasharray":new Io(xe.paint_line["line-dasharray"]),"line-pattern":new Xt(xe.paint_line["line-pattern"]),"line-gradient":new Ga(xe.paint_line["line-gradient"])}),layout:Ac},fm=new(function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(l,g){return g=new Gr(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),n.prototype.possiblyEvaluate.call(this,l,g)},o.prototype.evaluate=function(l,g,b,C){return g=K({},g,{zoom:Math.floor(g.zoom)}),n.prototype.evaluate.call(this,l,g,b,C)},o}(ht))(cm.paint.properties["line-width"].specification);fm.useIntegerZoom=!0;var Qx=function(n){function o(l){n.call(this,l,cm),this.gradientVersion=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._handleSpecialPaintPropertyUpdate=function(l){l==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Fo,this.gradientVersion=(this.gradientVersion+1)%$)},o.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},o.prototype.recalculate=function(l,g){n.prototype.recalculate.call(this,l,g),this.paint._values["line-floorwidth"]=fm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)},o.prototype.createBucket=function(l){return new Sa(l)},o.prototype.queryRadius=function(l){var g=l,b=pm(yo("line-width",this,g),yo("line-gap-width",this,g)),C=yo("line-offset",this,g);return b/2+Math.abs(C)+Ys(this.paint.get("line-translate"))},o.prototype.queryIntersectsFeature=function(l,g,b,C,T,F,j){var Q=Ts(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,j),W=j/2*pm(this.paint.get("line-width").evaluate(g,b),this.paint.get("line-gap-width").evaluate(g,b)),X=this.paint.get("line-offset").evaluate(g,b);return X&&(C=function(se,Ae){for(var Ee=[],ke=new R(0,0),$e=0;$e<se.length;$e++){for(var Le=se[$e],et=[],nt=0;nt<Le.length;nt++){var ct=Le[nt],ft=Le[nt+1],Pt=nt===0?ke:ct.sub(Le[nt-1])._unit()._perp(),Ut=nt===Le.length-1?ke:ft.sub(ct)._unit()._perp(),Zt=Pt._add(Ut)._unit();Zt._mult(1/(Zt.x*Ut.x+Zt.y*Ut.y)),et.push(Zt._mult(Ae)._add(ct))}Ee.push(et)}return Ee}(C,X*j)),function(se,Ae,Ee){for(var ke=0;ke<Ae.length;ke++){var $e=Ae[ke];if(se.length>=3){for(var Le=0;Le<$e.length;Le++)if(Qa(se,$e[Le]))return!0}if(zf(se,$e,Ee))return!0}return!1}(Q,C,W)},o.prototype.isTileClipped=function(){return!0},o}($i);function pm(n,o){return o>0?o+2*n:n}var Wx=m([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Zx=m([{name:"a_projected_pos",components:3,type:"Float32"}],4),hc=(m([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),m([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ld=(m([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),m([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Am=m([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function hm(n,o,l){return n.sections.forEach(function(g){g.text=function(b,C,T){var F=C.layout.get("text-transform").evaluate(T,{});return F==="uppercase"?b=b.toLocaleUpperCase():F==="lowercase"&&(b=b.toLocaleLowerCase()),tn.applyArabicShaping&&(b=tn.applyArabicShaping(b)),b}(g.text,o,l)}),n}m([{name:"triangle",components:3,type:"Uint16"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),m([{type:"Float32",name:"offsetX"}]),m([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var sf={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},qf=function(n,o,l,g,b){var C,T,F=8*b-g-1,j=(1<<F)-1,Q=j>>1,W=-7,X=l?b-1:0,se=l?-1:1,Ae=n[o+X];for(X+=se,C=Ae&(1<<-W)-1,Ae>>=-W,W+=F;W>0;C=256*C+n[o+X],X+=se,W-=8);for(T=C&(1<<-W)-1,C>>=-W,W+=g;W>0;T=256*T+n[o+X],X+=se,W-=8);if(C===0)C=1-Q;else{if(C===j)return T?NaN:1/0*(Ae?-1:1);T+=Math.pow(2,g),C-=Q}return(Ae?-1:1)*T*Math.pow(2,C-g)},Qr=function(n,o,l,g,b,C){var T,F,j,Q=8*C-b-1,W=(1<<Q)-1,X=W>>1,se=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ae=g?0:C-1,Ee=g?1:-1,ke=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(F=isNaN(o)?1:0,T=W):(T=Math.floor(Math.log(o)/Math.LN2),o*(j=Math.pow(2,-T))<1&&(T--,j*=2),(o+=T+X>=1?se/j:se*Math.pow(2,1-X))*j>=2&&(T++,j/=2),T+X>=W?(F=0,T=W):T+X>=1?(F=(o*j-1)*Math.pow(2,b),T+=X):(F=o*Math.pow(2,X-1)*Math.pow(2,b),T=0));b>=8;n[l+Ae]=255&F,Ae+=Ee,F/=256,b-=8);for(T=T<<b|F,Q+=b;Q>0;n[l+Ae]=255&T,Ae+=Ee,T/=256,Q-=8);n[l+Ae-Ee]|=128*ke},Gf=ri;function ri(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}ri.Varint=0,ri.Fixed64=1,ri.Bytes=2,ri.Fixed32=5;var uf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function dc(n){return n.type===ri.Bytes?n.readVarint()+n.pos:n.pos+1}function lf(n,o,l){return l?4294967296*o+(n>>>0):4294967296*(o>>>0)+(n>>>0)}function dm(n,o,l){var g=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));l.realloc(g);for(var b=l.pos-1;b>=n;b--)l.buf[b+g]=l.buf[b]}function Wa(n,o){for(var l=0;l<n.length;l++)o.writeVarint(n[l])}function Kx(n,o){for(var l=0;l<n.length;l++)o.writeSVarint(n[l])}function Xx(n,o){for(var l=0;l<n.length;l++)o.writeFloat(n[l])}function Zy(n,o){for(var l=0;l<n.length;l++)o.writeDouble(n[l])}function Yx(n,o){for(var l=0;l<n.length;l++)o.writeBoolean(n[l])}function Ky(n,o){for(var l=0;l<n.length;l++)o.writeFixed32(n[l])}function Jx(n,o){for(var l=0;l<n.length;l++)o.writeSFixed32(n[l])}function eb(n,o){for(var l=0;l<n.length;l++)o.writeFixed64(n[l])}function tb(n,o){for(var l=0;l<n.length;l++)o.writeSFixed64(n[l])}function bu(n,o){return(n[o]|n[o+1]<<8|n[o+2]<<16)+16777216*n[o+3]}function oa(n,o,l){n[l]=o,n[l+1]=o>>>8,n[l+2]=o>>>16,n[l+3]=o>>>24}function cd(n,o){return(n[o]|n[o+1]<<8|n[o+2]<<16)+(n[o+3]<<24)}function rb(n,o,l){n===1&&l.readMessage(mm,o)}function mm(n,o,l){if(n===3){var g=l.readMessage(nb,{}),b=g.width,C=g.height,T=g.left,F=g.top,j=g.advance;o.push({id:g.id,bitmap:new Vf({width:b+6,height:C+6},g.bitmap),metrics:{width:b,height:C,left:T,top:F,advance:j}})}}function nb(n,o,l){n===1?o.id=l.readVarint():n===2?o.bitmap=l.readBytes():n===3?o.width=l.readVarint():n===4?o.height=l.readVarint():n===5?o.left=l.readSVarint():n===6?o.top=l.readSVarint():n===7&&(o.advance=l.readVarint())}function Xy(n){for(var o=0,l=0,g=0,b=n;g<b.length;g+=1){var C=b[g];o+=C.w*C.h,l=Math.max(l,C.w)}n.sort(function(ke,$e){return $e.h-ke.h});for(var T=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),l),h:1/0}],F=0,j=0,Q=0,W=n;Q<W.length;Q+=1)for(var X=W[Q],se=T.length-1;se>=0;se--){var Ae=T[se];if(!(X.w>Ae.w||X.h>Ae.h)){if(X.x=Ae.x,X.y=Ae.y,j=Math.max(j,X.y+X.h),F=Math.max(F,X.x+X.w),X.w===Ae.w&&X.h===Ae.h){var Ee=T.pop();se<T.length&&(T[se]=Ee)}else X.h===Ae.h?(Ae.x+=X.w,Ae.w-=X.w):X.w===Ae.w?(Ae.y+=X.h,Ae.h-=X.h):(T.push({x:Ae.x+X.w,y:Ae.y,w:Ae.w-X.w,h:X.h}),Ae.y+=X.h,Ae.h-=X.h);break}}return{w:F,h:j,fill:o/(F*j)||0}}ri.prototype={destroy:function(){this.buf=null},readFields:function(n,o,l){for(l=l||this.length;this.pos<l;){var g=this.readVarint(),b=g>>3,C=this.pos;this.type=7&g,n(b,o,this),this.pos===C&&this.skip(g)}return o},readMessage:function(n,o){return this.readFields(n,o,this.readVarint()+this.pos)},readFixed32:function(){var n=bu(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=cd(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=bu(this.buf,this.pos)+4294967296*bu(this.buf,this.pos+4);return this.pos+=8,n},readSFixed64:function(){var n=bu(this.buf,this.pos)+4294967296*cd(this.buf,this.pos+4);return this.pos+=8,n},readFloat:function(){var n=qf(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=qf(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var o,l,g=this.buf;return o=127&(l=g[this.pos++]),l<128?o:(o|=(127&(l=g[this.pos++]))<<7,l<128?o:(o|=(127&(l=g[this.pos++]))<<14,l<128?o:(o|=(127&(l=g[this.pos++]))<<21,l<128?o:function(b,C,T){var F,j,Q=T.buf;if(F=(112&(j=Q[T.pos++]))>>4,j<128||(F|=(127&(j=Q[T.pos++]))<<3,j<128)||(F|=(127&(j=Q[T.pos++]))<<10,j<128)||(F|=(127&(j=Q[T.pos++]))<<17,j<128)||(F|=(127&(j=Q[T.pos++]))<<24,j<128)||(F|=(1&(j=Q[T.pos++]))<<31,j<128))return lf(b,F,C);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(l=g[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var n=this.readVarint()+this.pos,o=this.pos;return this.pos=n,n-o>=12&&uf?function(l,g,b){return uf.decode(l.subarray(g,b))}(this.buf,o,n):function(l,g,b){for(var C="",T=g;T<b;){var F,j,Q,W=l[T],X=null,se=W>239?4:W>223?3:W>191?2:1;if(T+se>b)break;se===1?W<128&&(X=W):se===2?(192&(F=l[T+1]))==128&&(X=(31&W)<<6|63&F)<=127&&(X=null):se===3?(j=l[T+2],(192&(F=l[T+1]))==128&&(192&j)==128&&((X=(15&W)<<12|(63&F)<<6|63&j)<=2047||X>=55296&&X<=57343)&&(X=null)):se===4&&(j=l[T+2],Q=l[T+3],(192&(F=l[T+1]))==128&&(192&j)==128&&(192&Q)==128&&((X=(15&W)<<18|(63&F)<<12|(63&j)<<6|63&Q)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,se=1):X>65535&&(X-=65536,C+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),C+=String.fromCharCode(X),T+=se}return C}(this.buf,o,n)},readBytes:function(){var n=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,n);return this.pos=n,o},readPackedVarint:function(n,o){if(this.type!==ri.Bytes)return n.push(this.readVarint(o));var l=dc(this);for(n=n||[];this.pos<l;)n.push(this.readVarint(o));return n},readPackedSVarint:function(n){if(this.type!==ri.Bytes)return n.push(this.readSVarint());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==ri.Bytes)return n.push(this.readBoolean());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==ri.Bytes)return n.push(this.readFloat());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==ri.Bytes)return n.push(this.readDouble());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==ri.Bytes)return n.push(this.readFixed32());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==ri.Bytes)return n.push(this.readSFixed32());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==ri.Bytes)return n.push(this.readFixed64());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==ri.Bytes)return n.push(this.readSFixed64());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSFixed64());return n},skip:function(n){var o=7&n;if(o===ri.Varint)for(;this.buf[this.pos++]>127;);else if(o===ri.Bytes)this.pos=this.readVarint()+this.pos;else if(o===ri.Fixed32)this.pos+=4;else{if(o!==ri.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(n,o){this.writeVarint(n<<3|o)},realloc:function(n){for(var o=this.length||16;o<this.pos+n;)o*=2;if(o!==this.length){var l=new Uint8Array(o);l.set(this.buf),this.buf=l,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),oa(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),oa(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),oa(this.buf,-1&n,this.pos),oa(this.buf,Math.floor(n*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),oa(this.buf,-1&n,this.pos),oa(this.buf,Math.floor(n*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(o,l){var g,b;if(o>=0?(g=o%4294967296|0,b=o/4294967296|0):(b=~(-o/4294967296),4294967295^(g=~(-o%4294967296))?g=g+1|0:(g=0,b=b+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(C,T,F){F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,F.buf[F.pos]=127&(C>>>=7)}(g,0,l),function(C,T){var F=(7&C)<<4;T.buf[T.pos++]|=F|((C>>>=3)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C)))))}(b,l)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(Boolean(n))},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var o=this.pos;this.pos=function(g,b,C){for(var T,F,j=0;j<b.length;j++){if((T=b.charCodeAt(j))>55295&&T<57344){if(!F){T>56319||j+1===b.length?(g[C++]=239,g[C++]=191,g[C++]=189):F=T;continue}if(T<56320){g[C++]=239,g[C++]=191,g[C++]=189,F=T;continue}T=F-55296<<10|T-56320|65536,F=null}else F&&(g[C++]=239,g[C++]=191,g[C++]=189,F=null);T<128?g[C++]=T:(T<2048?g[C++]=T>>6|192:(T<65536?g[C++]=T>>12|224:(g[C++]=T>>18|240,g[C++]=T>>12&63|128),g[C++]=T>>6&63|128),g[C++]=63&T|128)}return C}(this.buf,n,this.pos);var l=this.pos-o;l>=128&&dm(o,l,this),this.pos=o-1,this.writeVarint(l),this.pos+=l},writeFloat:function(n){this.realloc(4),Qr(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),Qr(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var o=n.length;this.writeVarint(o),this.realloc(o);for(var l=0;l<o;l++)this.buf[this.pos++]=n[l]},writeRawMessage:function(n,o){this.pos++;var l=this.pos;n(o,this);var g=this.pos-l;g>=128&&dm(l,g,this),this.pos=l-1,this.writeVarint(g),this.pos+=g},writeMessage:function(n,o,l){this.writeTag(n,ri.Bytes),this.writeRawMessage(o,l)},writePackedVarint:function(n,o){o.length&&this.writeMessage(n,Wa,o)},writePackedSVarint:function(n,o){o.length&&this.writeMessage(n,Kx,o)},writePackedBoolean:function(n,o){o.length&&this.writeMessage(n,Yx,o)},writePackedFloat:function(n,o){o.length&&this.writeMessage(n,Xx,o)},writePackedDouble:function(n,o){o.length&&this.writeMessage(n,Zy,o)},writePackedFixed32:function(n,o){o.length&&this.writeMessage(n,Ky,o)},writePackedSFixed32:function(n,o){o.length&&this.writeMessage(n,Jx,o)},writePackedFixed64:function(n,o){o.length&&this.writeMessage(n,eb,o)},writePackedSFixed64:function(n,o){o.length&&this.writeMessage(n,tb,o)},writeBytesField:function(n,o){this.writeTag(n,ri.Bytes),this.writeBytes(o)},writeFixed32Field:function(n,o){this.writeTag(n,ri.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(n,o){this.writeTag(n,ri.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(n,o){this.writeTag(n,ri.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(n,o){this.writeTag(n,ri.Fixed64),this.writeSFixed64(o)},writeVarintField:function(n,o){this.writeTag(n,ri.Varint),this.writeVarint(o)},writeSVarintField:function(n,o){this.writeTag(n,ri.Varint),this.writeSVarint(o)},writeStringField:function(n,o){this.writeTag(n,ri.Bytes),this.writeString(o)},writeFloatField:function(n,o){this.writeTag(n,ri.Fixed32),this.writeFloat(o)},writeDoubleField:function(n,o){this.writeTag(n,ri.Fixed64),this.writeDouble(o)},writeBooleanField:function(n,o){this.writeVarintField(n,Boolean(o))}};var cf=function(n,o){var l=o.pixelRatio,g=o.version,b=o.stretchX,C=o.stretchY,T=o.content;this.paddedRect=n,this.pixelRatio=l,this.stretchX=b,this.stretchY=C,this.content=T,this.version=g},Gp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Gp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Gp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Gp.tlbr.get=function(){return this.tl.concat(this.br)},Gp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(cf.prototype,Gp);var Qp=function(n,o){var l={},g={};this.haveRenderCallbacks=[];var b=[];this.addImages(n,l,b),this.addImages(o,g,b);var C=Xy(b),T=new La({width:C.w||1,height:C.h||1});for(var F in n){var j=n[F],Q=l[F].paddedRect;La.copy(j.data,T,{x:0,y:0},{x:Q.x+1,y:Q.y+1},j.data)}for(var W in o){var X=o[W],se=g[W].paddedRect,Ae=se.x+1,Ee=se.y+1,ke=X.data.width,$e=X.data.height;La.copy(X.data,T,{x:0,y:0},{x:Ae,y:Ee},X.data),La.copy(X.data,T,{x:0,y:$e-1},{x:Ae,y:Ee-1},{width:ke,height:1}),La.copy(X.data,T,{x:0,y:0},{x:Ae,y:Ee+$e},{width:ke,height:1}),La.copy(X.data,T,{x:ke-1,y:0},{x:Ae-1,y:Ee},{width:1,height:$e}),La.copy(X.data,T,{x:0,y:0},{x:Ae+ke,y:Ee},{width:1,height:$e})}this.image=T,this.iconPositions=l,this.patternPositions=g};Qp.prototype.addImages=function(n,o,l){for(var g in n){var b=n[g],C={x:0,y:0,w:b.data.width+2,h:b.data.height+2};l.push(C),o[g]=new cf(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},Qp.prototype.patchUpdatedImages=function(n,o){for(var l in n.dispatchRenderCallbacks(this.haveRenderCallbacks),n.updatedImages)this.patchUpdatedImage(this.iconPositions[l],n.getImage(l),o),this.patchUpdatedImage(this.patternPositions[l],n.getImage(l),o)},Qp.prototype.patchUpdatedImage=function(n,o,l){if(n&&o&&n.version!==o.version){n.version=o.version;var g=n.tl;l.update(o.data,void 0,{x:g[0],y:g[1]})}},nr("ImagePosition",cf),nr("ImageAtlas",Qp);var Os={horizontal:1,vertical:2,horizontalOnly:3},Wp=function(){this.scale=1,this.fontStack="",this.imageName=null};Wp.forText=function(n,o){var l=new Wp;return l.scale=n||1,l.fontStack=o,l},Wp.forImage=function(n){var o=new Wp;return o.imageName=n,o};var Ca=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function fd(n,o,l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke){var $e,Le=Ca.fromFeature(n,b);X===Os.vertical&&Le.verticalizePunctuation();var et=tn.processBidirectionalText,nt=tn.processStyledBidirectionalText;if(et&&Le.sections.length===1){$e=[];for(var ct=0,ft=et(Le.toString(),th(Le,Q,C,o,g,Ae,Ee));ct<ft.length;ct+=1){var Pt=ft[ct],Ut=new Ca;Ut.text=Pt,Ut.sections=Le.sections;for(var Zt=0;Zt<Pt.length;Zt++)Ut.sectionIndex.push(0);$e.push(Ut)}}else if(nt){$e=[];for(var mr=0,Jt=nt(Le.text,Le.sectionIndex,th(Le,Q,C,o,g,Ae,Ee));mr<Jt.length;mr+=1){var Cr=Jt[mr],rr=new Ca;rr.text=Cr[0],rr.sectionIndex=Cr[1],rr.sections=Le.sections,$e.push(rr)}}else $e=function(gr,rn){for(var Vr=[],vn=gr.text,kr=0,On=0,ui=rn;On<ui.length;On+=1){var _i=ui[On];Vr.push(gr.substring(kr,_i)),kr=_i}return kr<vn.length&&Vr.push(gr.substring(kr,vn.length)),Vr}(Le,th(Le,Q,C,o,g,Ae,Ee));var Wr=[],Ir={positionedLines:Wr,text:Le.toString(),top:W[1],bottom:W[1],left:W[0],right:W[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(gr,rn,Vr,vn,kr,On,ui,_i,Oi,xi,Ci,xo){for(var Oo=0,Ea=-17,jo=0,ka=0,Ji=_i==="right"?1:_i==="left"?0:.5,$o=0,un=0,ni=kr;un<ni.length;un+=1){var qn=ni[un];qn.trim();var Cn=qn.getMaxScale(),Da=24*(Cn-1),ha={positionedGlyphs:[],lineOffset:0};gr.positionedLines[$o]=ha;var Tn=ha.positionedGlyphs,lo=0;if(qn.length()){for(var da=0;da<qn.length();da++){var ln=qn.getSection(da),Zr=qn.getSectionIndex(da),Ms=qn.getCharCode(da),bo=0,cn=null,El=null,ma=null,eA=24,ep=!(Oi===Os.horizontal||!Ci&&!Xs(Ms)||Ci&&(eh[Ms]||(pi=Ms,ar.Arabic(pi)||ar["Arabic Supplement"](pi)||ar["Arabic Extended-A"](pi)||ar["Arabic Presentation Forms-A"](pi)||ar["Arabic Presentation Forms-B"](pi))));if(ln.imageName){var tA=vn[ln.imageName];if(!tA)continue;ma=ln.imageName,gr.iconsInText=gr.iconsInText||!0,El=tA.paddedRect;var gc=tA.displaySize;ln.scale=24*ln.scale/xo,bo=Da+(24-gc[1]*ln.scale),eA=(cn={width:gc[0],height:gc[1],left:1,top:-3,advance:ep?gc[1]:gc[0]}).advance;var rA=ep?gc[0]*ln.scale-24*Cn:gc[1]*ln.scale-24*Cn;rA>0&&rA>lo&&(lo=rA)}else{var nA=Vr[ln.fontStack],iA=nA&&nA[Ms];if(iA&&iA.rect)El=iA.rect,cn=iA.metrics;else{var Js=rn[ln.fontStack],uh=Js&&Js[Ms];if(!uh)continue;cn=uh.metrics}bo=24*(Cn-ln.scale)}ep?(gr.verticalizable=!0,Tn.push({glyph:Ms,imageName:ma,x:Oo,y:Ea+bo,vertical:ep,scale:ln.scale,fontStack:ln.fontStack,sectionIndex:Zr,metrics:cn,rect:El}),Oo+=eA*ln.scale+xi):(Tn.push({glyph:Ms,imageName:ma,x:Oo,y:Ea+bo,vertical:ep,scale:ln.scale,fontStack:ln.fontStack,sectionIndex:Zr,metrics:cn,rect:El}),Oo+=cn.advance*ln.scale+xi)}Tn.length!==0&&(jo=Math.max(Oo-xi,jo),ev(Tn,0,Tn.length-1,Ji,lo)),Oo=0;var tp=On*Cn+lo;ha.lineOffset=Math.max(lo,Da),Ea+=tp,ka=Math.max(tp,ka),++$o}else Ea+=On,++$o}var pi,Qi=Ea- -17,rp=Ad(ui),Af=rp.horizontalAlign,oA=rp.verticalAlign;(function(_d,xd,lh,ch,fh,yc,np,ph,Ah){var vc,Ka=(xd-lh)*fh;vc=yc!==np?-ph*ch- -17:(-ch*Ah+.5)*np;for(var Hu=0,hh=_d;Hu<hh.length;Hu+=1)for(var ip=0,dh=hh[Hu].positionedGlyphs;ip<dh.length;ip+=1){var aA=dh[ip];aA.x+=Ka,aA.y+=vc}})(gr.positionedLines,Ji,Af,oA,jo,ka,On,Qi,kr.length),gr.top+=-oA*Qi,gr.bottom=gr.top+Qi,gr.left+=-Af*jo,gr.right=gr.left+jo}(Ir,o,l,g,$e,T,F,j,X,Q,se,ke),!function(gr){for(var rn=0,Vr=gr;rn<Vr.length;rn+=1)if(Vr[rn].positionedGlyphs.length!==0)return!1;return!0}(Wr)&&Ir}Ca.fromFeature=function(n,o){for(var l=new Ca,g=0;g<n.sections.length;g++){var b=n.sections[g];b.image?l.addImageSection(b):l.addTextSection(b,o)}return l},Ca.prototype.length=function(){return this.text.length},Ca.prototype.getSection=function(n){return this.sections[this.sectionIndex[n]]},Ca.prototype.getSectionIndex=function(n){return this.sectionIndex[n]},Ca.prototype.getCharCode=function(n){return this.text.charCodeAt(n)},Ca.prototype.verticalizePunctuation=function(){this.text=function(n){for(var o="",l=0;l<n.length;l++){var g=n.charCodeAt(l+1)||null,b=n.charCodeAt(l-1)||null;o+=g&&mo(g)&&!sf[n[l+1]]||b&&mo(b)&&!sf[n[l-1]]||!sf[n[l]]?n[l]:sf[n[l]]}return o}(this.text)},Ca.prototype.trim=function(){for(var n=0,o=0;o<this.text.length&&eh[this.text.charCodeAt(o)];o++)n++;for(var l=this.text.length,g=this.text.length-1;g>=0&&g>=n&&eh[this.text.charCodeAt(g)];g--)l--;this.text=this.text.substring(n,l),this.sectionIndex=this.sectionIndex.slice(n,l)},Ca.prototype.substring=function(n,o){var l=new Ca;return l.text=this.text.substring(n,o),l.sectionIndex=this.sectionIndex.slice(n,o),l.sections=this.sections,l},Ca.prototype.toString=function(){return this.text},Ca.prototype.getMaxScale=function(){var n=this;return this.sectionIndex.reduce(function(o,l){return Math.max(o,n.sections[l].scale)},0)},Ca.prototype.addTextSection=function(n,o){this.text+=n.text,this.sections.push(Wp.forText(n.scale,n.fontStack||o));for(var l=this.sections.length-1,g=0;g<n.text.length;++g)this.sectionIndex.push(l)},Ca.prototype.addImageSection=function(n){var o=n.image?n.image.name:"";if(o.length!==0){var l=this.getNextImageSectionCharCode();l?(this.text+=String.fromCharCode(l),this.sections.push(Wp.forImage(o)),this.sectionIndex.push(this.sections.length-1)):bt("Reached maximum number of images 6401")}else bt("Can't add FormattedSection with an empty image.")},Ca.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var eh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Za={};function Yy(n,o,l,g,b,C){if(o.imageName){var T=g[o.imageName];return T?T.displaySize[0]*o.scale*24/C+b:0}var F=l[o.fontStack],j=F&&F[n];return j?j.metrics.advance*o.scale+b:0}function pd(n,o,l,g){var b=Math.pow(n-o,2);return g?n<o?b/2:2*b:b+Math.abs(l)*l}function Jy(n,o,l){var g=0;return n===10&&(g-=1e4),l&&(g+=150),n!==40&&n!==65288||(g+=50),o!==41&&o!==65289||(g+=50),g}function Zp(n,o,l,g,b,C){for(var T=null,F=pd(o,l,b,C),j=0,Q=g;j<Q.length;j+=1){var W=Q[j],X=pd(o-W.x,l,b,C)+W.badness;X<=F&&(T=W,F=X)}return{index:n,x:o,priorBreak:T,badness:F}}function th(n,o,l,g,b,C,T){if(C!=="point")return[];if(!n)return[];for(var F,j=[],Q=function($e,Le,et,nt,ct,ft){for(var Pt=0,Ut=0;Ut<$e.length();Ut++){var Zt=$e.getSection(Ut);Pt+=Yy($e.getCharCode(Ut),Zt,nt,ct,Le,ft)}return Pt/Math.max(1,Math.ceil(Pt/et))}(n,o,l,g,b,T),W=n.text.indexOf("\u200B")>=0,X=0,se=0;se<n.length();se++){var Ae=n.getSection(se),Ee=n.getCharCode(se);if(eh[Ee]||(X+=Yy(Ee,Ae,g,b,o,T)),se<n.length()-1){var ke=!((F=Ee)<11904||!(ar["Bopomofo Extended"](F)||ar.Bopomofo(F)||ar["CJK Compatibility Forms"](F)||ar["CJK Compatibility Ideographs"](F)||ar["CJK Compatibility"](F)||ar["CJK Radicals Supplement"](F)||ar["CJK Strokes"](F)||ar["CJK Symbols and Punctuation"](F)||ar["CJK Unified Ideographs Extension A"](F)||ar["CJK Unified Ideographs"](F)||ar["Enclosed CJK Letters and Months"](F)||ar["Halfwidth and Fullwidth Forms"](F)||ar.Hiragana(F)||ar["Ideographic Description Characters"](F)||ar["Kangxi Radicals"](F)||ar["Katakana Phonetic Extensions"](F)||ar.Katakana(F)||ar["Vertical Forms"](F)||ar["Yi Radicals"](F)||ar["Yi Syllables"](F)));(Za[Ee]||ke||Ae.imageName)&&j.push(Zp(se+1,X,Q,j,Jy(Ee,n.getCharCode(se+1),ke&&W),!1))}}return function $e(Le){return Le?$e(Le.priorBreak).concat(Le.index):[]}(Zp(n.length(),X,Q,j,0,!0))}function Ad(n){var o=.5,l=.5;switch(n){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:o,verticalAlign:l}}function ev(n,o,l,g,b){if(g||b)for(var C=n[l],T=(n[l].x+C.metrics.advance*C.scale)*g,F=o;F<=l;F++)n[F].x-=T,n[F].y+=b}function rh(n,o,l,g,b,C){var T,F=n.image;if(F.content){var j=F.content,Q=F.pixelRatio||1;T=[j[0]/Q,j[1]/Q,F.displaySize[0]-j[2]/Q,F.displaySize[1]-j[3]/Q]}var W,X,se,Ae,Ee=o.left*C,ke=o.right*C;l==="width"||l==="both"?(Ae=b[0]+Ee-g[3],X=b[0]+ke+g[1]):X=(Ae=b[0]+(Ee+ke-F.displaySize[0])/2)+F.displaySize[0];var $e=o.top*C,Le=o.bottom*C;return l==="height"||l==="both"?(W=b[1]+$e-g[0],se=b[1]+Le+g[2]):se=(W=b[1]+($e+Le-F.displaySize[1])/2)+F.displaySize[1],{image:F,top:W,right:X,bottom:se,left:Ae,collisionPadding:T}}Za[10]=!0,Za[32]=!0,Za[38]=!0,Za[40]=!0,Za[41]=!0,Za[43]=!0,Za[45]=!0,Za[47]=!0,Za[173]=!0,Za[183]=!0,Za[8203]=!0,Za[8208]=!0,Za[8211]=!0,Za[8231]=!0;var Qf=function(n){function o(l,g,b,C){n.call(this,l,g),this.angle=b,C!==void 0&&(this.segment=C)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.clone=function(){return new o(this.x,this.y,this.angle,this.segment)},o}(R);function wu(n,o){var l=o.expression;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Gr(n+1))};if(l.kind==="source")return{kind:"source"};for(var g=l.zoomStops,b=l.interpolationType,C=0;C<g.length&&g[C]<=n;)C++;for(var T=C=Math.max(0,C-1);T<g.length&&g[T]<n+1;)T++;T=Math.min(g.length-1,T);var F=g[C],j=g[T];return l.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:j,interpolationType:b}:{kind:"camera",minZoom:F,maxZoom:j,minSize:l.evaluate(new Gr(F)),maxSize:l.evaluate(new Gr(j)),interpolationType:b}}function ff(n,o,l){var g=o.uSize,b=l.lowerSize;return n.kind==="source"?b/128:n.kind==="composite"?kn(b/128,l.upperSize/128,o.uSizeT):g}function tv(n,o){var l=0,g=0;if(n.kind==="constant")g=n.layoutSize;else if(n.kind!=="source"){var b=n.interpolationType,C=b?ae(Zi.interpolationFactor(b,o,n.minZoom,n.maxZoom),0,1):0;n.kind==="camera"?g=kn(n.minSize,n.maxSize,C):l=C}return{uSizeT:l,uSize:g}}nr("Anchor",Qf);var rv=Object.freeze({__proto__:null,getSizeData:wu,evaluateSizeForFeature:ff,evaluateSizeForZoom:tv,SIZE_PACK_FACTOR:128});function nv(n,o,l,g,b){if(o.segment===void 0)return!0;for(var C=o,T=o.segment+1,F=0;F>-l/2;){if(--T<0)return!1;F-=n[T].dist(C),C=n[T]}F+=n[T].dist(n[T+1]),T++;for(var j=[],Q=0;F<l/2;){var W=n[T],X=n[T+1];if(!X)return!1;var se=n[T-1].angleTo(W)-W.angleTo(X);for(se=Math.abs((se+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:F,angleDelta:se}),Q+=se;F-j[0].distance>g;)Q-=j.shift().angleDelta;if(Q>b)return!1;T++,F+=W.dist(X)}return!0}function iv(n){for(var o=0,l=0;l<n.length-1;l++)o+=n[l].dist(n[l+1]);return o}function ov(n,o,l){return n?.6*o*l:0}function av(n,o){return Math.max(n?n.right-n.left:0,o?o.right-o.left:0)}function ib(n,o,l,g,b,C){for(var T=ov(l,b,C),F=av(l,g)*C,j=0,Q=iv(n)/2,W=0;W<n.length-1;W++){var X=n[W],se=n[W+1],Ae=X.dist(se);if(j+Ae>Q){var Ee=(Q-j)/Ae,ke=kn(X.x,se.x,Ee),$e=kn(X.y,se.y,Ee),Le=new Qf(ke,$e,se.angleTo(X),W);return Le._round(),!T||nv(n,Le,F,T,o)?Le:void 0}j+=Ae}}function ob(n,o,l,g,b,C,T,F,j){var Q=ov(g,C,T),W=av(g,b),X=W*T,se=n[0].x===0||n[0].x===j||n[0].y===0||n[0].y===j;return o-X<o/4&&(o=X+o/4),function Ae(Ee,ke,$e,Le,et,nt,ct,ft,Pt){for(var Ut=nt/2,Zt=iv(Ee),mr=0,Jt=ke-$e,Cr=[],rr=0;rr<Ee.length-1;rr++){for(var Wr=Ee[rr],Ir=Ee[rr+1],gr=Wr.dist(Ir),rn=Ir.angleTo(Wr);Jt+$e<mr+gr;){var Vr=((Jt+=$e)-mr)/gr,vn=kn(Wr.x,Ir.x,Vr),kr=kn(Wr.y,Ir.y,Vr);if(vn>=0&&vn<Pt&&kr>=0&&kr<Pt&&Jt-Ut>=0&&Jt+Ut<=Zt){var On=new Qf(vn,kr,rn,rr);On._round(),Le&&!nv(Ee,On,nt,Le,et)||Cr.push(On)}}mr+=gr}return ft||Cr.length||ct||(Cr=Ae(Ee,mr/2,$e,Le,et,nt,ct,!0,Pt)),Cr}(n,se?o/2*F%o:(W/2+2*C)*T*F%o,o,Q,l,X,se,!1,j)}function sv(n,o,l,g,b){for(var C=[],T=0;T<n.length;T++)for(var F=n[T],j=void 0,Q=0;Q<F.length-1;Q++){var W=F[Q],X=F[Q+1];W.x<o&&X.x<o||(W.x<o?W=new R(o,W.y+(o-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x<o&&(X=new R(o,W.y+(o-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y<l&&X.y<l||(W.y<l?W=new R(W.x+(l-W.y)/(X.y-W.y)*(X.x-W.x),l)._round():X.y<l&&(X=new R(W.x+(l-W.y)/(X.y-W.y)*(X.x-W.x),l)._round()),W.x>=g&&X.x>=g||(W.x>=g?W=new R(g,W.y+(g-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x>=g&&(X=new R(g,W.y+(g-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y>=b&&X.y>=b||(W.y>=b?W=new R(W.x+(b-W.y)/(X.y-W.y)*(X.x-W.x),b)._round():X.y>=b&&(X=new R(W.x+(b-W.y)/(X.y-W.y)*(X.x-W.x),b)._round()),j&&W.equals(j[j.length-1])||C.push(j=[W]),j.push(X)))))}return C}function uv(n,o,l,g){var b=[],C=n.image,T=C.pixelRatio,F=C.paddedRect.w-2,j=C.paddedRect.h-2,Q=n.right-n.left,W=n.bottom-n.top,X=C.stretchX||[[0,F]],se=C.stretchY||[[0,j]],Ae=function(vn,kr){return vn+kr[1]-kr[0]},Ee=X.reduce(Ae,0),ke=se.reduce(Ae,0),$e=F-Ee,Le=j-ke,et=0,nt=Ee,ct=0,ft=ke,Pt=0,Ut=$e,Zt=0,mr=Le;if(C.content&&g){var Jt=C.content;et=hd(X,0,Jt[0]),ct=hd(se,0,Jt[1]),nt=hd(X,Jt[0],Jt[2]),ft=hd(se,Jt[1],Jt[3]),Pt=Jt[0]-et,Zt=Jt[1]-ct,Ut=Jt[2]-Jt[0]-nt,mr=Jt[3]-Jt[1]-ft}var Cr=function(vn,kr,On,ui){var _i=dd(vn.stretch-et,nt,Q,n.left),Oi=nh(vn.fixed-Pt,Ut,vn.stretch,Ee),xi=dd(kr.stretch-ct,ft,W,n.top),Ci=nh(kr.fixed-Zt,mr,kr.stretch,ke),xo=dd(On.stretch-et,nt,Q,n.left),Oo=nh(On.fixed-Pt,Ut,On.stretch,Ee),Ea=dd(ui.stretch-ct,ft,W,n.top),jo=nh(ui.fixed-Zt,mr,ui.stretch,ke),ka=new R(_i,xi),Ji=new R(xo,xi),$o=new R(xo,Ea),un=new R(_i,Ea),ni=new R(Oi/T,Ci/T),qn=new R(Oo/T,jo/T),Cn=o*Math.PI/180;if(Cn){var Da=Math.sin(Cn),ha=Math.cos(Cn),Tn=[ha,-Da,Da,ha];ka._matMult(Tn),Ji._matMult(Tn),un._matMult(Tn),$o._matMult(Tn)}var lo=vn.stretch+vn.fixed,da=kr.stretch+kr.fixed;return{tl:ka,tr:Ji,bl:un,br:$o,tex:{x:C.paddedRect.x+1+lo,y:C.paddedRect.y+1+da,w:On.stretch+On.fixed-lo,h:ui.stretch+ui.fixed-da},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ni,pixelOffsetBR:qn,minFontScaleX:Ut/T/Q,minFontScaleY:mr/T/W,isSDF:l}};if(g&&(C.stretchX||C.stretchY))for(var rr=lv(X,$e,Ee),Wr=lv(se,Le,ke),Ir=0;Ir<rr.length-1;Ir++)for(var gr=rr[Ir],rn=rr[Ir+1],Vr=0;Vr<Wr.length-1;Vr++)b.push(Cr(gr,Wr[Vr],rn,Wr[Vr+1]));else b.push(Cr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:j+1}));return b}function hd(n,o,l){for(var g=0,b=0,C=n;b<C.length;b+=1){var T=C[b];g+=Math.max(o,Math.min(l,T[1]))-Math.max(o,Math.min(l,T[0]))}return g}function lv(n,o,l){for(var g=[{fixed:-1,stretch:0}],b=0,C=n;b<C.length;b+=1){var T=C[b],F=T[0],j=T[1],Q=g[g.length-1];g.push({fixed:F-Q.stretch,stretch:Q.stretch}),g.push({fixed:F-Q.stretch,stretch:Q.stretch+(j-F)})}return g.push({fixed:o+1,stretch:l}),g}function dd(n,o,l,g){return n/o*l+g}function nh(n,o,l,g){return n-o*l/g}var ih=function(n,o,l,g,b,C,T,F,j,Q){if(this.boxStartIndex=n.length,j){var W=C.top,X=C.bottom,se=C.collisionPadding;se&&(W-=se[1],X+=se[3]);var Ae=X-W;Ae>0&&(Ae=Math.max(10,Ae),this.circleDiameter=Ae)}else{var Ee=C.top*T-F,ke=C.bottom*T+F,$e=C.left*T-F,Le=C.right*T+F,et=C.collisionPadding;if(et&&($e-=et[0]*T,Ee-=et[1]*T,Le+=et[2]*T,ke+=et[3]*T),Q){var nt=new R($e,Ee),ct=new R(Le,Ee),ft=new R($e,ke),Pt=new R(Le,ke),Ut=Q*Math.PI/180;nt._rotate(Ut),ct._rotate(Ut),ft._rotate(Ut),Pt._rotate(Ut),$e=Math.min(nt.x,ct.x,ft.x,Pt.x),Le=Math.max(nt.x,ct.x,ft.x,Pt.x),Ee=Math.min(nt.y,ct.y,ft.y,Pt.y),ke=Math.max(nt.y,ct.y,ft.y,Pt.y)}n.emplaceBack(o.x,o.y,$e,Ee,Le,ke,l,g,b)}this.boxEndIndex=n.length},Wf=function(n,o){if(n===void 0&&(n=[]),o===void 0&&(o=ab),this.data=n,this.length=this.data.length,this.compare=o,this.length>0)for(var l=(this.length>>1)-1;l>=0;l--)this._down(l)};function ab(n,o){return n<o?-1:n>o?1:0}function sb(n,o,l){o===void 0&&(o=1),l===void 0&&(l=!1);for(var g=1/0,b=1/0,C=-1/0,T=-1/0,F=n[0],j=0;j<F.length;j++){var Q=F[j];(!j||Q.x<g)&&(g=Q.x),(!j||Q.y<b)&&(b=Q.y),(!j||Q.x>C)&&(C=Q.x),(!j||Q.y>T)&&(T=Q.y)}var W=Math.min(C-g,T-b),X=W/2,se=new Wf([],ub);if(W===0)return new R(g,b);for(var Ae=g;Ae<C;Ae+=W)for(var Ee=b;Ee<T;Ee+=W)se.push(new Zf(Ae+X,Ee+X,X,n));for(var ke=function(et){for(var nt=0,ct=0,ft=0,Pt=et[0],Ut=0,Zt=Pt.length,mr=Zt-1;Ut<Zt;mr=Ut++){var Jt=Pt[Ut],Cr=Pt[mr],rr=Jt.x*Cr.y-Cr.x*Jt.y;ct+=(Jt.x+Cr.x)*rr,ft+=(Jt.y+Cr.y)*rr,nt+=3*rr}return new Zf(ct/nt,ft/nt,0,et)}(n),$e=se.length;se.length;){var Le=se.pop();(Le.d>ke.d||!ke.d)&&(ke=Le,l&&console.log("found best %d after %d probes",Math.round(1e4*Le.d)/1e4,$e)),Le.max-ke.d<=o||(se.push(new Zf(Le.p.x-(X=Le.h/2),Le.p.y-X,X,n)),se.push(new Zf(Le.p.x+X,Le.p.y-X,X,n)),se.push(new Zf(Le.p.x-X,Le.p.y+X,X,n)),se.push(new Zf(Le.p.x+X,Le.p.y+X,X,n)),$e+=4)}return l&&(console.log("num probes: "+$e),console.log("best distance: "+ke.d)),ke.p}function ub(n,o){return o.max-n.max}function Zf(n,o,l,g){this.p=new R(n,o),this.h=l,this.d=function(b,C){for(var T=!1,F=1/0,j=0;j<C.length;j++)for(var Q=C[j],W=0,X=Q.length,se=X-1;W<X;se=W++){var Ae=Q[W],Ee=Q[se];Ae.y>b.y!=Ee.y>b.y&&b.x<(Ee.x-Ae.x)*(b.y-Ae.y)/(Ee.y-Ae.y)+Ae.x&&(T=!T),F=Math.min(F,Nf(b,Ae,Ee))}return(T?1:-1)*Math.sqrt(F)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Wf.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},Wf.prototype.pop=function(){if(this.length!==0){var n=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),n}},Wf.prototype.peek=function(){return this.data[0]},Wf.prototype._up=function(n){for(var o=this.data,l=this.compare,g=o[n];n>0;){var b=n-1>>1,C=o[b];if(l(g,C)>=0)break;o[n]=C,n=b}o[n]=g},Wf.prototype._down=function(n){for(var o=this.data,l=this.compare,g=this.length>>1,b=o[n];n<g;){var C=1+(n<<1),T=o[C],F=C+1;if(F<this.length&&l(o[F],T)<0&&(C=F,T=o[F]),l(T,b)>=0)break;o[n]=T,n=C}o[n]=b};var gm=Number.POSITIVE_INFINITY;function cv(n,o){return o[1]!==gm?function(l,g,b){var C=0,T=0;switch(g=Math.abs(g),b=Math.abs(b),l){case"top-right":case"top-left":case"top":T=b-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-b}switch(l){case"top-right":case"bottom-right":case"right":C=-g;break;case"top-left":case"bottom-left":case"left":C=g}return[C,T]}(n,o[0],o[1]):function(l,g){var b=0,C=0;g<0&&(g=0);var T=g/Math.sqrt(2);switch(l){case"top-right":case"top-left":C=T-7;break;case"bottom-right":case"bottom-left":C=7-T;break;case"bottom":C=7-g;break;case"top":C=g-7}switch(l){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=g;break;case"right":b=-g}return[b,C]}(n,o[0])}function ym(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function fv(n,o,l,g,b,C,T,F,j,Q,W,X,se,Ae,Ee){var ke=function(ct,ft,Pt,Ut,Zt,mr,Jt,Cr){for(var rr=Ut.layout.get("text-rotate").evaluate(mr,{})*Math.PI/180,Wr=[],Ir=0,gr=ft.positionedLines;Ir<gr.length;Ir+=1)for(var rn=gr[Ir],Vr=0,vn=rn.positionedGlyphs;Vr<vn.length;Vr+=1){var kr=vn[Vr];if(kr.rect){var On=kr.rect||{},ui=4,_i=!0,Oi=1,xi=0,Ci=(Zt||Cr)&&kr.vertical,xo=kr.metrics.advance*kr.scale/2;if(Cr&&ft.verticalizable&&(xi=rn.lineOffset/2-(kr.imageName?-(24-kr.metrics.width*kr.scale)/2:24*(kr.scale-1))),kr.imageName){var Oo=Jt[kr.imageName];_i=Oo.sdf,ui=1/(Oi=Oo.pixelRatio)}var Ea=Zt?[kr.x+xo,kr.y]:[0,0],jo=Zt?[0,0]:[kr.x+xo+Pt[0],kr.y+Pt[1]-xi],ka=[0,0];Ci&&(ka=jo,jo=[0,0]);var Ji=(kr.metrics.left-ui)*kr.scale-xo+jo[0],$o=(-kr.metrics.top-ui)*kr.scale+jo[1],un=Ji+On.w*kr.scale/Oi,ni=$o+On.h*kr.scale/Oi,qn=new R(Ji,$o),Cn=new R(un,$o),Da=new R(Ji,ni),ha=new R(un,ni);if(Ci){var Tn=new R(-xo,xo- -17),lo=-Math.PI/2,da=12-xo,ln=new R(22-da,-(kr.imageName?da:0)),Zr=new(Function.prototype.bind.apply(R,[null].concat(ka)));qn._rotateAround(lo,Tn)._add(ln)._add(Zr),Cn._rotateAround(lo,Tn)._add(ln)._add(Zr),Da._rotateAround(lo,Tn)._add(ln)._add(Zr),ha._rotateAround(lo,Tn)._add(ln)._add(Zr)}if(rr){var Ms=Math.sin(rr),bo=Math.cos(rr),cn=[bo,-Ms,Ms,bo];qn._matMult(cn),Cn._matMult(cn),Da._matMult(cn),ha._matMult(cn)}var El=new R(0,0),ma=new R(0,0);Wr.push({tl:qn,tr:Cn,bl:Da,br:ha,tex:On,writingMode:ft.writingMode,glyphOffset:Ea,sectionIndex:kr.sectionIndex,isSDF:_i,pixelOffsetTL:El,pixelOffsetBR:ma,minFontScaleX:0,minFontScaleY:0})}}return Wr}(0,l,F,b,C,T,g,n.allowVerticalPlacement),$e=n.textSizeData,Le=null;$e.kind==="source"?(Le=[128*b.layout.get("text-size").evaluate(T,{})])[0]>32640&&bt(n.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):$e.kind==="composite"&&((Le=[128*Ae.compositeTextSizes[0].evaluate(T,{},Ee),128*Ae.compositeTextSizes[1].evaluate(T,{},Ee)])[0]>32640||Le[1]>32640)&&bt(n.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),n.addSymbols(n.text,ke,Le,F,C,T,Q,o,j.lineStartIndex,j.lineLength,se,Ee);for(var et=0,nt=W;et<nt.length;et+=1)X[nt[et]]=n.text.placedSymbolArray.length-1;return 4*ke.length}function pv(n){for(var o in n)return n[o];return null}function lb(n,o,l,g){var b=n.compareText;if(o in b){for(var C=b[o],T=C.length-1;T>=0;T--)if(g.dist(C[T])<l)return!0}else b[o]=[];return b[o].push(g),!1}var Su=Sl.VectorTileFeature.types,cb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function md(n,o,l,g,b,C,T,F,j,Q,W,X,se){var Ae=F?Math.min(32640,Math.round(F[0])):0,Ee=F?Math.min(32640,Math.round(F[1])):0;n.emplaceBack(o,l,Math.round(32*g),Math.round(32*b),C,T,(Ae<<1)+(j?1:0),Ee,16*Q,16*W,256*X,256*se)}function vm(n,o,l){n.emplaceBack(o.x,o.y,l),n.emplaceBack(o.x,o.y,l),n.emplaceBack(o.x,o.y,l),n.emplaceBack(o.x,o.y,l)}function Av(n){for(var o=0,l=n.sections;o<l.length;o+=1)if(Bp(l[o].text))return!0;return!1}var Kp=function(n){this.layoutVertexArray=new re,this.indexArray=new Nt,this.programConfigurations=n,this.segments=new me,this.dynamicLayoutVertexArray=new ce,this.opacityVertexArray=new De,this.placedSymbolArray=new E};Kp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Kp.prototype.upload=function(n,o,l,g){this.isEmpty()||(l&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Wx.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,Zx.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,cb,!0),this.opacityVertexBuffer.itemSize=1),(l||g)&&this.programConfigurations.upload(n))},Kp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},nr("SymbolBuffers",Kp);var oh=function(n,o,l){this.layoutVertexArray=new n,this.layoutAttributes=o,this.indexArray=new l,this.segments=new me,this.collisionVertexArray=new Tt};oh.prototype.upload=function(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,hc.members,!0)},oh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},nr("CollisionBuffers",oh);var Wn=function(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(C){return C.id}),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Aa([]),this.placementViewportMatrix=Aa([]);var o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=wu(this.zoom,o["text-size"]),this.iconSizeData=wu(this.zoom,o["icon-size"]);var l=this.layers[0].layout,g=l.get("symbol-sort-key"),b=l.get("symbol-z-order");this.canOverlap=l.get("text-allow-overlap")||l.get("icon-allow-overlap")||l.get("text-ignore-placement")||l.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,l.get("symbol-placement")==="point"&&(this.writingModes=l.get("text-writing-mode").map(function(C){return Os[C]})),this.stateDependentLayerIds=this.layers.filter(function(C){return C.isStateDependent()}).map(function(C){return C.id}),this.sourceID=n.sourceID};Wn.prototype.createArrays=function(){this.text=new Kp(new Hn(this.layers,this.zoom,function(n){return/^text/.test(n)})),this.icon=new Kp(new Hn(this.layers,this.zoom,function(n){return/^icon/.test(n)})),this.glyphOffsetArray=new U,this.lineVertexArray=new q,this.symbolInstances=new D},Wn.prototype.calculateGlyphDependencies=function(n,o,l,g,b){for(var C=0;C<n.length;C++)if(o[n.charCodeAt(C)]=!0,(l||g)&&b){var T=sf[n.charAt(C)];T&&(o[T.charCodeAt(0)]=!0)}},Wn.prototype.populate=function(n,o,l){var g=this.layers[0],b=g.layout,C=b.get("text-font"),T=b.get("text-field"),F=b.get("icon-image"),j=(T.value.kind!=="constant"||T.value.value instanceof ao&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),Q=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,W=b.get("symbol-sort-key");if(this.features=[],j||Q){for(var X=o.iconDependencies,se=o.glyphDependencies,Ae=o.availableImages,Ee=new Gr(this.zoom),ke=0,$e=n;ke<$e.length;ke+=1){var Le=$e[ke],et=Le.feature,nt=Le.id,ct=Le.index,ft=Le.sourceLayerIndex,Pt=g._featureFilter.needGeometry,Ut=na(et,Pt);if(g._featureFilter.filter(Ee,Ut,l)){Pt||(Ut.geometry=fi(et));var Zt=void 0;if(j){var mr=g.getValueAndResolveTokens("text-field",Ut,l,Ae),Jt=ao.factory(mr);Av(Jt)&&(this.hasRTLText=!0),(!this.hasRTLText||fs()==="unavailable"||this.hasRTLText&&tn.isParsed())&&(Zt=hm(Jt,g,Ut))}var Cr=void 0;if(Q){var rr=g.getValueAndResolveTokens("icon-image",Ut,l,Ae);Cr=rr instanceof Wo?rr:Wo.fromString(rr)}if(Zt||Cr){var Wr=this.sortFeaturesByKey?W.evaluate(Ut,{},l):void 0;if(this.features.push({id:nt,text:Zt,icon:Cr,index:ct,sourceLayerIndex:ft,geometry:Ut.geometry,properties:et.properties,type:Su[et.type],sortKey:Wr}),Cr&&(X[Cr.name]=!0),Zt){var Ir=C.evaluate(Ut,{},l).join(","),gr=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Os.vertical)>=0;for(var rn=0,Vr=Zt.sections;rn<Vr.length;rn+=1){var vn=Vr[rn];if(vn.image)X[vn.image.name]=!0;else{var kr=sc(Zt.toString()),On=vn.fontStack||Ir,ui=se[On]=se[On]||{};this.calculateGlyphDependencies(vn.text,ui,gr,this.allowVerticalPlacement,kr)}}}}}}b.get("symbol-placement")==="line"&&(this.features=function(_i){var Oi={},xi={},Ci=[],xo=0;function Oo(Tn){Ci.push(_i[Tn]),xo++}function Ea(Tn,lo,da){var ln=xi[Tn];return delete xi[Tn],xi[lo]=ln,Ci[ln].geometry[0].pop(),Ci[ln].geometry[0]=Ci[ln].geometry[0].concat(da[0]),ln}function jo(Tn,lo,da){var ln=Oi[lo];return delete Oi[lo],Oi[Tn]=ln,Ci[ln].geometry[0].shift(),Ci[ln].geometry[0]=da[0].concat(Ci[ln].geometry[0]),ln}function ka(Tn,lo,da){var ln=da?lo[0][lo[0].length-1]:lo[0][0];return Tn+":"+ln.x+":"+ln.y}for(var Ji=0;Ji<_i.length;Ji++){var $o=_i[Ji],un=$o.geometry,ni=$o.text?$o.text.toString():null;if(ni){var qn=ka(ni,un),Cn=ka(ni,un,!0);if(qn in xi&&Cn in Oi&&xi[qn]!==Oi[Cn]){var Da=jo(qn,Cn,un),ha=Ea(qn,Cn,Ci[Da].geometry);delete Oi[qn],delete xi[Cn],xi[ka(ni,Ci[ha].geometry,!0)]=ha,Ci[Da].geometry=null}else qn in xi?Ea(qn,Cn,un):Cn in Oi?jo(qn,Cn,un):(Oo(Ji),Oi[qn]=xo-1,xi[Cn]=xo-1)}else Oo(Ji)}return Ci.filter(function(Tn){return Tn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,Oi){return _i.sortKey-Oi.sortKey})}},Wn.prototype.update=function(n,o,l){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,o,this.layers,l),this.icon.programConfigurations.updatePaintArrays(n,o,this.layers,l))},Wn.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Wn.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Wn.prototype.upload=function(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Wn.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Wn.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Wn.prototype.addToLineVertexArray=function(n,o){var l=this.lineVertexArray.length;if(n.segment!==void 0){for(var g=n.dist(o[n.segment+1]),b=n.dist(o[n.segment]),C={},T=n.segment+1;T<o.length;T++)C[T]={x:o[T].x,y:o[T].y,tileUnitDistanceFromAnchor:g},T<o.length-1&&(g+=o[T+1].dist(o[T]));for(var F=n.segment||0;F>=0;F--)C[F]={x:o[F].x,y:o[F].y,tileUnitDistanceFromAnchor:b},F>0&&(b+=o[F-1].dist(o[F]));for(var j=0;j<o.length;j++){var Q=C[j];this.lineVertexArray.emplaceBack(Q.x,Q.y,Q.tileUnitDistanceFromAnchor)}}return{lineStartIndex:l,lineLength:this.lineVertexArray.length-l}},Wn.prototype.addSymbols=function(n,o,l,g,b,C,T,F,j,Q,W,X){for(var se=n.indexArray,Ae=n.layoutVertexArray,Ee=n.segments.prepareSegment(4*o.length,Ae,se,this.canOverlap?C.sortKey:void 0),ke=this.glyphOffsetArray.length,$e=Ee.vertexLength,Le=this.allowVerticalPlacement&&T===Os.vertical?Math.PI/2:0,et=C.text&&C.text.sections,nt=0;nt<o.length;nt++){var ct=o[nt],ft=ct.tl,Pt=ct.tr,Ut=ct.bl,Zt=ct.br,mr=ct.tex,Jt=ct.pixelOffsetTL,Cr=ct.pixelOffsetBR,rr=ct.minFontScaleX,Wr=ct.minFontScaleY,Ir=ct.glyphOffset,gr=ct.isSDF,rn=ct.sectionIndex,Vr=Ee.vertexLength,vn=Ir[1];md(Ae,F.x,F.y,ft.x,vn+ft.y,mr.x,mr.y,l,gr,Jt.x,Jt.y,rr,Wr),md(Ae,F.x,F.y,Pt.x,vn+Pt.y,mr.x+mr.w,mr.y,l,gr,Cr.x,Jt.y,rr,Wr),md(Ae,F.x,F.y,Ut.x,vn+Ut.y,mr.x,mr.y+mr.h,l,gr,Jt.x,Cr.y,rr,Wr),md(Ae,F.x,F.y,Zt.x,vn+Zt.y,mr.x+mr.w,mr.y+mr.h,l,gr,Cr.x,Cr.y,rr,Wr),vm(n.dynamicLayoutVertexArray,F,Le),se.emplaceBack(Vr,Vr+1,Vr+2),se.emplaceBack(Vr+1,Vr+2,Vr+3),Ee.vertexLength+=4,Ee.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ir[0]),nt!==o.length-1&&rn===o[nt+1].sectionIndex||n.programConfigurations.populatePaintArrays(Ae.length,C,C.index,{},X,et&&et[rn])}n.placedSymbolArray.emplaceBack(F.x,F.y,ke,this.glyphOffsetArray.length-ke,$e,j,Q,F.segment,l?l[0]:0,l?l[1]:0,g[0],g[1],T,0,!1,0,W)},Wn.prototype._addCollisionDebugVertex=function(n,o,l,g,b,C){return o.emplaceBack(0,0),n.emplaceBack(l.x,l.y,g,b,Math.round(C.x),Math.round(C.y))},Wn.prototype.addCollisionDebugVertices=function(n,o,l,g,b,C,T){var F=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),j=F.vertexLength,Q=b.layoutVertexArray,W=b.collisionVertexArray,X=T.anchorX,se=T.anchorY;this._addCollisionDebugVertex(Q,W,C,X,se,new R(n,o)),this._addCollisionDebugVertex(Q,W,C,X,se,new R(l,o)),this._addCollisionDebugVertex(Q,W,C,X,se,new R(l,g)),this._addCollisionDebugVertex(Q,W,C,X,se,new R(n,g)),F.vertexLength+=4;var Ae=b.indexArray;Ae.emplaceBack(j,j+1),Ae.emplaceBack(j+1,j+2),Ae.emplaceBack(j+2,j+3),Ae.emplaceBack(j+3,j),F.primitiveLength+=4},Wn.prototype.addDebugCollisionBoxes=function(n,o,l,g){for(var b=n;b<o;b++){var C=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(C.x1,C.y1,C.x2,C.y2,g?this.textCollisionBox:this.iconCollisionBox,C.anchorPoint,l)}},Wn.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new oh(it,ld.members,_r),this.iconCollisionBox=new oh(it,ld.members,_r);for(var n=0;n<this.symbolInstances.length;n++){var o=this.symbolInstances.get(n);this.addDebugCollisionBoxes(o.textBoxStartIndex,o.textBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.iconBoxStartIndex,o.iconBoxEndIndex,o,!1),this.addDebugCollisionBoxes(o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o,!1)}},Wn.prototype._deserializeCollisionBoxesForSymbol=function(n,o,l,g,b,C,T,F,j){for(var Q={},W=o;W<l;W++){var X=n.get(W);Q.textBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},Q.textFeatureIndex=X.featureIndex;break}for(var se=g;se<b;se++){var Ae=n.get(se);Q.verticalTextBox={x1:Ae.x1,y1:Ae.y1,x2:Ae.x2,y2:Ae.y2,anchorPointX:Ae.anchorPointX,anchorPointY:Ae.anchorPointY},Q.verticalTextFeatureIndex=Ae.featureIndex;break}for(var Ee=C;Ee<T;Ee++){var ke=n.get(Ee);Q.iconBox={x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,anchorPointX:ke.anchorPointX,anchorPointY:ke.anchorPointY},Q.iconFeatureIndex=ke.featureIndex;break}for(var $e=F;$e<j;$e++){var Le=n.get($e);Q.verticalIconBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},Q.verticalIconFeatureIndex=Le.featureIndex;break}return Q},Wn.prototype.deserializeCollisionBoxes=function(n){this.collisionArrays=[];for(var o=0;o<this.symbolInstances.length;o++){var l=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,l.textBoxStartIndex,l.textBoxEndIndex,l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l.iconBoxStartIndex,l.iconBoxEndIndex,l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex))}},Wn.prototype.hasTextData=function(){return this.text.segments.get().length>0},Wn.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Wn.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Wn.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Wn.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Wn.prototype.addIndicesForPlacedSymbol=function(n,o){for(var l=n.placedSymbolArray.get(o),g=l.vertexStartIndex+4*l.numGlyphs,b=l.vertexStartIndex;b<g;b+=4)n.indexArray.emplaceBack(b,b+1,b+2),n.indexArray.emplaceBack(b+1,b+2,b+3)},Wn.prototype.getSortedSymbolIndexes=function(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var o=Math.sin(n),l=Math.cos(n),g=[],b=[],C=[],T=0;T<this.symbolInstances.length;++T){C.push(T);var F=this.symbolInstances.get(T);g.push(0|Math.round(o*F.anchorX+l*F.anchorY)),b.push(F.featureIndex)}return C.sort(function(j,Q){return g[j]-g[Q]||b[Q]-b[j]}),C},Wn.prototype.addToSortKeyRanges=function(n,o){var l=this.sortKeyRanges[this.sortKeyRanges.length-1];l&&l.sortKey===o?l.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:n+1})},Wn.prototype.sortFeatures=function(n){var o=this;if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var l=0,g=this.symbolInstanceIndexes;l<g.length;l+=1){var b=this.symbolInstances.get(g[l]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(C,T,F){C>=0&&F.indexOf(C)===T&&o.addIndicesForPlacedSymbol(o.text,C)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},nr("SymbolBucket",Wn,{omit:["layers","collisionBoxArray","features","compareText"]}),Wn.MAX_GLYPHS=65535,Wn.addDynamicAttributes=vm;var fb=new No({"symbol-placement":new Gt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Gt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Gt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ht(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Gt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Gt(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Gt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Gt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Gt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new ht(xe.layout_symbol["icon-size"]),"icon-text-fit":new Gt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Gt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new ht(xe.layout_symbol["icon-image"]),"icon-rotate":new ht(xe.layout_symbol["icon-rotate"]),"icon-padding":new Gt(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Gt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new ht(xe.layout_symbol["icon-offset"]),"icon-anchor":new ht(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Gt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Gt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Gt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new ht(xe.layout_symbol["text-field"]),"text-font":new ht(xe.layout_symbol["text-font"]),"text-size":new ht(xe.layout_symbol["text-size"]),"text-max-width":new ht(xe.layout_symbol["text-max-width"]),"text-line-height":new Gt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new ht(xe.layout_symbol["text-letter-spacing"]),"text-justify":new ht(xe.layout_symbol["text-justify"]),"text-radial-offset":new ht(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Gt(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new ht(xe.layout_symbol["text-anchor"]),"text-max-angle":new Gt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Gt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new ht(xe.layout_symbol["text-rotate"]),"text-padding":new Gt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Gt(xe.layout_symbol["text-keep-upright"]),"text-transform":new ht(xe.layout_symbol["text-transform"]),"text-offset":new ht(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Gt(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Gt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Gt(xe.layout_symbol["text-optional"])}),ah={paint:new No({"icon-opacity":new ht(xe.paint_symbol["icon-opacity"]),"icon-color":new ht(xe.paint_symbol["icon-color"]),"icon-halo-color":new ht(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new ht(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ht(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Gt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Gt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new ht(xe.paint_symbol["text-opacity"]),"text-color":new ht(xe.paint_symbol["text-color"],{runtimeType:pr,getOverride:function(n){return n.textColor},hasOverride:function(n){return!!n.textColor}}),"text-halo-color":new ht(xe.paint_symbol["text-halo-color"]),"text-halo-width":new ht(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new ht(xe.paint_symbol["text-halo-blur"]),"text-translate":new Gt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Gt(xe.paint_symbol["text-translate-anchor"])}),layout:fb},Xp=function(n){this.type=n.property.overrides?n.property.overrides.runtimeType:jt,this.defaultValue=n};Xp.prototype.evaluate=function(n){if(n.formattedSection){var o=this.defaultValue.property.overrides;if(o&&o.hasOverride(n.formattedSection))return o.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default},Xp.prototype.eachChild=function(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)},Xp.prototype.outputDefined=function(){return!1},Xp.prototype.serialize=function(){return null},nr("FormatSectionOverride",Xp,{omit:["defaultValue"]});var pb=function(n){function o(l){n.call(this,l,ah)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.recalculate=function(l,g){if(n.prototype.recalculate.call(this,l,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var b=this.layout.get("text-writing-mode");if(b){for(var C=[],T=0,F=b;T<F.length;T+=1){var j=F[T];C.indexOf(j)<0&&C.push(j)}this.layout._values["text-writing-mode"]=C}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},o.prototype.getValueAndResolveTokens=function(l,g,b,C){var T=this.layout.get(l).evaluate(g,{},b,C),F=this._unevaluatedLayout._values[l];return F.isDataDriven()||Ui(F.value)||!T?T:function(j,Q){return Q.replace(/{([^{}]+)}/g,function(W,X){return X in j?String(j[X]):""})}(g.properties,T)},o.prototype.createBucket=function(l){return new Wn(l)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype._setPaintOverrides=function(){for(var l=0,g=ah.paint.overridableProperties;l<g.length;l+=1){var b=g[l];if(o.hasPaintOverride(this.layout,b)){var C,T=this.paint.get(b),F=new Xp(T),j=new Ao(F,T.property.specification);C=T.value.kind==="constant"||T.value.kind==="source"?new nc("source",j):new dl("composite",j,T.value.zoomStops,T.value._interpolationType),this.paint._values[b]=new ta(T.property,C,T.parameters)}}},o.prototype._handleOverridablePaintPropertyUpdate=function(l,g,b){return!(!this.layout||g.isDataDriven()||b.isDataDriven())&&o.hasPaintOverride(this.layout,l)},o.hasPaintOverride=function(l,g){var b=l.get("text-field"),C=ah.paint.properties[g],T=!1,F=function(W){for(var X=0,se=W;X<se.length;X+=1)if(C.overrides&&C.overrides.hasOverride(se[X]))return void(T=!0)};if(b.value.kind==="constant"&&b.value.value instanceof ao)F(b.value.value.sections);else if(b.value.kind==="source"){var j=function(W){T||(W instanceof la&&so(W.value)===Xr?F(W.value.sections):W instanceof Zo?F(W.sections):W.eachChild(j))},Q=b.value;Q._styleExpression&&j(Q._styleExpression.expression)}return T},o}($i),Ab={paint:new No({"background-color":new Gt(xe.paint_background["background-color"]),"background-pattern":new Io(xe.paint_background["background-pattern"]),"background-opacity":new Gt(xe.paint_background["background-opacity"])})},hb=function(n){function o(l){n.call(this,l,Ab)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}($i),db={paint:new No({"raster-opacity":new Gt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Gt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Gt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Gt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Gt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Gt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Gt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Gt(xe.paint_raster["raster-fade-duration"])})},mb=function(n){function o(l){n.call(this,l,db)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}($i),gb=function(n){function o(l){n.call(this,l,{}),this.implementation=l}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},o.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},o.prototype.recalculate=function(){},o.prototype.updateTransitions=function(){},o.prototype.hasTransition=function(){},o.prototype.serialize=function(){},o.prototype.onAdd=function(l){this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},o.prototype.onRemove=function(l){this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},o}($i),yb={circle:jf,heatmap:Ry,hillshade:Ux,fill:wl,"fill-extrusion":um,line:Qx,symbol:pb,background:hb,raster:mb},hv=N.HTMLImageElement,dv=N.HTMLCanvasElement,mv=N.HTMLVideoElement,gv=N.ImageData,gd=N.ImageBitmap,Kf=function(n,o,l,g){this.context=n,this.format=l,this.texture=n.gl.createTexture(),this.update(o,g)};Kf.prototype.update=function(n,o,l){var g=n.width,b=n.height,C=!(this.size&&this.size[0]===g&&this.size[1]===b||l),T=this.context,F=T.gl;if(this.useMipmap=Boolean(o&&o.useMipmap),F.bindTexture(F.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===F.RGBA&&(!o||o.premultiply!==!1)),C)this.size=[g,b],n instanceof hv||n instanceof dv||n instanceof mv||n instanceof gv||gd&&n instanceof gd?F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,F.UNSIGNED_BYTE,n):F.texImage2D(F.TEXTURE_2D,0,this.format,g,b,0,this.format,F.UNSIGNED_BYTE,n.data);else{var j=l||{x:0,y:0},Q=j.x,W=j.y;n instanceof hv||n instanceof dv||n instanceof mv||n instanceof gv||gd&&n instanceof gd?F.texSubImage2D(F.TEXTURE_2D,0,Q,W,F.RGBA,F.UNSIGNED_BYTE,n):F.texSubImage2D(F.TEXTURE_2D,0,Q,W,g,b,F.RGBA,F.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&F.generateMipmap(F.TEXTURE_2D)},Kf.prototype.bind=function(n,o,l){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),l!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(l=g.LINEAR),n!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,l||n),this.filter=n),o!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,o),this.wrap=o)},Kf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Kf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var _m=function(n){var o=this;this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){o._triggered=!1,o._callback()})};_m.prototype.trigger=function(){var n=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){n._triggered=!1,n._callback()},0))},_m.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Yp=function(n,o,l){this.target=n,this.parent=o,this.mapId=l,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Se(["receive","process"],this),this.invoker=new _m(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=fr()?n:N};function yv(n,o,l){var g=2*Math.PI*6378137/256/Math.pow(2,l);return[n*g-2*Math.PI*6378137/2,o*g-2*Math.PI*6378137/2]}Yp.prototype.send=function(n,o,l,g,b){var C=this;b===void 0&&(b=!1);var T=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(this.callbacks[T]=l);var F=Ze(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:n,hasCallback:!!l,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:Bo(o,F)},F),{cancel:function(){l&&delete C.callbacks[T],C.target.postMessage({id:T,type:"<cancel>",targetMapId:g,sourceMapId:C.mapId})}}},Yp.prototype.receive=function(n){var o=n.data,l=o.id;if(l&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){delete this.tasks[l];var g=this.cancelCallbacks[l];delete this.cancelCallbacks[l],g&&g()}else fr()||o.mustQueue?(this.tasks[l]=o,this.taskQueue.push(l),this.invoker.trigger()):this.processTask(l,o)},Yp.prototype.process=function(){if(this.taskQueue.length){var n=this.taskQueue.shift(),o=this.tasks[n];delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),o&&this.processTask(n,o)}},Yp.prototype.processTask=function(n,o){var l=this;if(o.type==="<response>"){var g=this.callbacks[n];delete this.callbacks[n],g&&(o.error?g(vl(o.error)):g(null,vl(o.data)))}else{var b=!1,C=Ze(this.globalScope)?void 0:[],T=o.hasCallback?function(W,X){b=!0,delete l.cancelCallbacks[n],l.target.postMessage({id:n,type:"<response>",sourceMapId:l.mapId,error:W?Bo(W):null,data:Bo(X,C)},C)}:function(W){b=!0},F=null,j=vl(o.data);if(this.parent[o.type])F=this.parent[o.type](o.sourceMapId,j,T);else if(this.parent.getWorkerSource){var Q=o.type.split(".");F=this.parent.getWorkerSource(o.sourceMapId,Q[0],j.source)[Q[1]](j,T)}else T(new Error("Could not find function "+o.type));!b&&F&&F.cancel&&(this.cancelCallbacks[n]=F.cancel)}},Yp.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var vo=function(n,o){n&&(o?this.setSouthWest(n).setNorthEast(o):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))};vo.prototype.setNorthEast=function(n){return this._ne=n instanceof vi?new vi(n.lng,n.lat):vi.convert(n),this},vo.prototype.setSouthWest=function(n){return this._sw=n instanceof vi?new vi(n.lng,n.lat):vi.convert(n),this},vo.prototype.extend=function(n){var o,l,g=this._sw,b=this._ne;if(n instanceof vi)o=n,l=n;else{if(!(n instanceof vo))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(vo.convert(n)):this.extend(vi.convert(n)):this;if(l=n._ne,!(o=n._sw)||!l)return this}return g||b?(g.lng=Math.min(o.lng,g.lng),g.lat=Math.min(o.lat,g.lat),b.lng=Math.max(l.lng,b.lng),b.lat=Math.max(l.lat,b.lat)):(this._sw=new vi(o.lng,o.lat),this._ne=new vi(l.lng,l.lat)),this},vo.prototype.getCenter=function(){return new vi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},vo.prototype.getSouthWest=function(){return this._sw},vo.prototype.getNorthEast=function(){return this._ne},vo.prototype.getNorthWest=function(){return new vi(this.getWest(),this.getNorth())},vo.prototype.getSouthEast=function(){return new vi(this.getEast(),this.getSouth())},vo.prototype.getWest=function(){return this._sw.lng},vo.prototype.getSouth=function(){return this._sw.lat},vo.prototype.getEast=function(){return this._ne.lng},vo.prototype.getNorth=function(){return this._ne.lat},vo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},vo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},vo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},vo.prototype.contains=function(n){var o=vi.convert(n),l=o.lng,g=o.lat,b=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&b},vo.convert=function(n){return!n||n instanceof vo?n:new vo(n)};var vi=function(n,o){if(isNaN(n)||isNaN(o))throw new Error("Invalid LngLat object: ("+n+", "+o+")");if(this.lng=+n,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vi.prototype.wrap=function(){return new vi(V(this.lng,-180,180),this.lat)},vi.prototype.toArray=function(){return[this.lng,this.lat]},vi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vi.prototype.distanceTo=function(n){var o=Math.PI/180,l=this.lat*o,g=n.lat*o,b=Math.sin(l)*Math.sin(g)+Math.cos(l)*Math.cos(g)*Math.cos((n.lng-this.lng)*o);return 63710088e-1*Math.acos(Math.min(b,1))},vi.prototype.toBounds=function(n){n===void 0&&(n=0);var o=360*n/40075017,l=o/Math.cos(Math.PI/180*this.lat);return new vo(new vi(this.lng-l,this.lat-o),new vi(this.lng+l,this.lat+o))},vi.convert=function(n){if(n instanceof vi)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new vi(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new vi(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var vv=2*Math.PI*63710088e-1;function yd(n){return vv*Math.cos(n*Math.PI/180)}function xm(n){return(180+n)/360}function _v(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function xv(n,o){return n/yd(o)}function bm(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}var Xf=function(n,o,l){l===void 0&&(l=0),this.x=+n,this.y=+o,this.z=+l};Xf.fromLngLat=function(n,o){o===void 0&&(o=0);var l=vi.convert(n);return new Xf(xm(l.lng),_v(l.lat),xv(o,l.lat))},Xf.prototype.toLngLat=function(){return new vi(360*this.x-180,bm(this.y))},Xf.prototype.toAltitude=function(){return this.z*yd(bm(this.y))},Xf.prototype.meterInMercatorCoordinateUnits=function(){return 1/vv*(n=bm(this.y),1/Math.cos(n*Math.PI/180));var n};var Yf=function(n,o,l){this.z=n,this.x=o,this.y=l,this.key=sh(0,n,n,o,l)};Yf.prototype.equals=function(n){return this.z===n.z&&this.x===n.x&&this.y===n.y},Yf.prototype.url=function(n,o){var l,g,b,C,T,F=(g=this.y,b=this.z,C=yv(256*(l=this.x),256*(g=Math.pow(2,b)-g-1),b),T=yv(256*(l+1),256*(g+1),b),C[0]+","+C[1]+","+T[0]+","+T[1]),j=function(Q,W,X){for(var se,Ae="",Ee=Q;Ee>0;Ee--)Ae+=(W&(se=1<<Ee-1)?1:0)+(X&se?2:0);return Ae}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",j).replace("{bbox-epsg-3857}",F)},Yf.prototype.getTilePoint=function(n){var o=Math.pow(2,this.z);return new R(8192*(n.x*o-this.x),8192*(n.y*o-this.y))},Yf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var bv=function(n,o){this.wrap=n,this.canonical=o,this.key=sh(n,o.z,o.z,o.x,o.y)},_o=function(n,o,l,g,b){this.overscaledZ=n,this.wrap=o,this.canonical=new Yf(l,+g,+b),this.key=sh(o,n,l,g,b)};function sh(n,o,l,g,b){(n*=2)<0&&(n=-1*n-1);var C=1<<l;return(C*C*n+C*b+g).toString(36)+l.toString(36)+o.toString(36)}_o.prototype.equals=function(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)},_o.prototype.scaledTo=function(n){var o=this.canonical.z-n;return n>this.canonical.z?new _o(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _o(n,this.wrap,n,this.canonical.x>>o,this.canonical.y>>o)},_o.prototype.calculateScaledKey=function(n,o){var l=this.canonical.z-n;return n>this.canonical.z?sh(this.wrap*+o,n,this.canonical.z,this.canonical.x,this.canonical.y):sh(this.wrap*+o,n,n,this.canonical.x>>l,this.canonical.y>>l)},_o.prototype.isChildOf=function(n){if(n.wrap!==this.wrap)return!1;var o=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>o&&n.canonical.y===this.canonical.y>>o},_o.prototype.children=function(n){if(this.overscaledZ>=n)return[new _o(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var o=this.canonical.z+1,l=2*this.canonical.x,g=2*this.canonical.y;return[new _o(o,this.wrap,o,l,g),new _o(o,this.wrap,o,l+1,g),new _o(o,this.wrap,o,l,g+1),new _o(o,this.wrap,o,l+1,g+1)]},_o.prototype.isLessThan=function(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))},_o.prototype.wrapped=function(){return new _o(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.unwrapTo=function(n){return new _o(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},_o.prototype.toUnwrapped=function(){return new bv(this.wrap,this.canonical)},_o.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},_o.prototype.getTilePoint=function(n){return this.canonical.getTilePoint(new Xf(n.x-this.wrap,n.y))},nr("CanonicalTileID",Yf),nr("OverscaledTileID",_o,{omit:["posMatrix"]});var Cl=function(n,o,l){if(this.uid=n,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(l&&l!=="mapbox"&&l!=="terrarium")return bt('"'+l+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=o.height;var g=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=l||"mapbox";for(var b=0;b<g;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(g,b)]=this.data[this._idx(g-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,g)]=this.data[this._idx(b,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};Cl.prototype.get=function(n,o){var l=new Uint8Array(this.data.buffer),g=4*this._idx(n,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(l[g],l[g+1],l[g+2])},Cl.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Cl.prototype._idx=function(n,o){if(n<-1||n>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(n+1)},Cl.prototype._unpackMapbox=function(n,o,l){return(256*n*256+256*o+l)/10-1e4},Cl.prototype._unpackTerrarium=function(n,o,l){return 256*n+o+l/256-32768},Cl.prototype.getPixels=function(){return new La({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Cl.prototype.backfillBorder=function(n,o,l){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");var g=o*this.dim,b=o*this.dim+this.dim,C=l*this.dim,T=l*this.dim+this.dim;switch(o){case-1:g=b-1;break;case 1:b=g+1}switch(l){case-1:C=T-1;break;case 1:T=C+1}for(var F=-o*this.dim,j=-l*this.dim,Q=C;Q<T;Q++)for(var W=g;W<b;W++)this.data[this._idx(W,Q)]=n.data[this._idx(W+F,Q+j)]},nr("DEMData",Cl);var vd=function(n){this._stringToNumber={},this._numberToString=[];for(var o=0;o<n.length;o++){var l=n[o];this._stringToNumber[l]=o,this._numberToString[o]=l}};vd.prototype.encode=function(n){return this._stringToNumber[n]},vd.prototype.decode=function(n){return this._numberToString[n]};var Jf=function(n,o,l,g,b){this.type="Feature",this._vectorTileFeature=n,n._z=o,n._x=l,n._y=g,this.properties=n.properties,this.id=b},wm={geometry:{configurable:!0}};wm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},wm.geometry.set=function(n){this._geometry=n},Jf.prototype.toJSON=function(){var n={geometry:this.geometry};for(var o in this)o!=="_geometry"&&o!=="_vectorTileFeature"&&(n[o]=this[o]);return n},Object.defineProperties(Jf.prototype,wm);var Jp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Jp.prototype.updateState=function(n,o,l){var g=String(o);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][g]=this.stateChanges[n][g]||{},K(this.stateChanges[n][g],l),this.deletedStates[n]===null)for(var b in this.deletedStates[n]={},this.state[n])b!==g&&(this.deletedStates[n][b]=null);else if(this.deletedStates[n]&&this.deletedStates[n][g]===null)for(var C in this.deletedStates[n][g]={},this.state[n][g])l[C]||(this.deletedStates[n][g][C]=null);else for(var T in l)this.deletedStates[n]&&this.deletedStates[n][g]&&this.deletedStates[n][g][T]===null&&delete this.deletedStates[n][g][T]},Jp.prototype.removeFeatureState=function(n,o,l){if(this.deletedStates[n]!==null){var g=String(o);if(this.deletedStates[n]=this.deletedStates[n]||{},l&&o!==void 0)this.deletedStates[n][g]!==null&&(this.deletedStates[n][g]=this.deletedStates[n][g]||{},this.deletedStates[n][g][l]=null);else if(o!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][g])for(l in this.deletedStates[n][g]={},this.stateChanges[n][g])this.deletedStates[n][g][l]=null;else this.deletedStates[n][g]=null;else this.deletedStates[n]=null}},Jp.prototype.getState=function(n,o){var l=String(o),g=K({},(this.state[n]||{})[l],(this.stateChanges[n]||{})[l]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){var b=this.deletedStates[n][o];if(b===null)return{};for(var C in b)delete g[C]}return g},Jp.prototype.initializeTileState=function(n,o){n.setFeatureState(this.state,o)},Jp.prototype.coalesceChanges=function(n,o){var l={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var b={};for(var C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),K(this.state[g][C],this.stateChanges[g][C]),b[C]=this.state[g][C];l[g]=b}for(var T in this.deletedStates){this.state[T]=this.state[T]||{};var F={};if(this.deletedStates[T]===null)for(var j in this.state[T])F[j]={},this.state[T][j]={};else for(var Q in this.deletedStates[T]){if(this.deletedStates[T][Q]===null)this.state[T][Q]={};else for(var W=0,X=Object.keys(this.deletedStates[T][Q]);W<X.length;W+=1)delete this.state[T][Q][X[W]];F[Q]=this.state[T][Q]}l[T]=l[T]||{},K(l[T],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(l).length!==0)for(var se in n)n[se].setFeatureState(l,o)};var mc=function(n,o){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Po(8192,16,0),this.grid3D=new Po(8192,16,0),this.featureIndexArray=new de,this.promoteId=o};function wv(n,o,l,g,b){return He(n,function(C,T){var F=o instanceof qa?o.get(T):null;return F&&F.evaluate?F.evaluate(l,g,b):F})}function Sv(n){for(var o=1/0,l=1/0,g=-1/0,b=-1/0,C=0,T=n;C<T.length;C+=1){var F=T[C];o=Math.min(o,F.x),l=Math.min(l,F.y),g=Math.max(g,F.x),b=Math.max(b,F.y)}return{minX:o,minY:l,maxX:g,maxY:b}}function vb(n,o){return o-n}mc.prototype.insert=function(n,o,l,g,b,C){var T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(l,g,b);for(var F=C?this.grid3D:this.grid,j=0;j<o.length;j++){for(var Q=o[j],W=[1/0,1/0,-1/0,-1/0],X=0;X<Q.length;X++){var se=Q[X];W[0]=Math.min(W[0],se.x),W[1]=Math.min(W[1],se.y),W[2]=Math.max(W[2],se.x),W[3]=Math.max(W[3],se.y)}W[0]<8192&&W[1]<8192&&W[2]>=0&&W[3]>=0&&F.insert(T,W[0],W[1],W[2],W[3])}},mc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Sl.VectorTile(new Gf(this.rawTileData)).layers,this.sourceLayerCoder=new vd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},mc.prototype.query=function(n,o,l,g){var b=this;this.loadVTLayers();for(var C=n.params||{},T=8192/n.tileSize/n.scale,F=us(C.filter),j=n.queryGeometry,Q=n.queryPadding*T,W=Sv(j),X=this.grid.query(W.minX-Q,W.minY-Q,W.maxX+Q,W.maxY+Q),se=Sv(n.cameraQueryGeometry),Ae=this.grid3D.query(se.minX-Q,se.minY-Q,se.maxX+Q,se.maxY+Q,function(ct,ft,Pt,Ut){return function(Zt,mr,Jt,Cr,rr){for(var Wr=0,Ir=Zt;Wr<Ir.length;Wr+=1){var gr=Ir[Wr];if(mr<=gr.x&&Jt<=gr.y&&Cr>=gr.x&&rr>=gr.y)return!0}var rn=[new R(mr,Jt),new R(mr,rr),new R(Cr,rr),new R(Cr,Jt)];if(Zt.length>2){for(var Vr=0,vn=rn;Vr<vn.length;Vr+=1)if(Qa(Zt,vn[Vr]))return!0}for(var kr=0;kr<Zt.length-1;kr++)if(rf(Zt[kr],Zt[kr+1],rn))return!0;return!1}(n.cameraQueryGeometry,ct-Q,ft-Q,Pt+Q,Ut+Q)}),Ee=0,ke=Ae;Ee<ke.length;Ee+=1)X.push(ke[Ee]);X.sort(vb);for(var $e,Le={},et=function(ct){var ft=X[ct];if(ft!==$e){$e=ft;var Pt=b.featureIndexArray.get(ft),Ut=null;b.loadMatchingFeature(Le,Pt.bucketIndex,Pt.sourceLayerIndex,Pt.featureIndex,F,C.layers,C.availableImages,o,l,g,function(Zt,mr,Jt){return Ut||(Ut=fi(Zt)),mr.queryIntersectsFeature(j,Zt,Jt,Ut,b.z,n.transform,T,n.pixelPosMatrix)})}},nt=0;nt<X.length;nt++)et(nt);return Le},mc.prototype.loadMatchingFeature=function(n,o,l,g,b,C,T,F,j,Q,W){var X=this.bucketLayerIDs[o];if(!C||function(Zt,mr){for(var Jt=0;Jt<Zt.length;Jt++)if(mr.indexOf(Zt[Jt])>=0)return!0;return!1}(C,X)){var se=this.sourceLayerCoder.decode(l),Ae=this.vtLayers[se].feature(g);if(b.needGeometry){var Ee=na(Ae,!0);if(!b.filter(new Gr(this.tileID.overscaledZ),Ee,this.tileID.canonical))return}else if(!b.filter(new Gr(this.tileID.overscaledZ),Ae))return;for(var ke=this.getId(Ae,se),$e=0;$e<X.length;$e++){var Le=X[$e];if(!(C&&C.indexOf(Le)<0)){var et=F[Le];if(et){var nt={};ke!==void 0&&Q&&(nt=Q.getState(et.sourceLayer||"_geojsonTileLayer",ke));var ct=K({},j[Le]);ct.paint=wv(ct.paint,et.paint,Ae,nt,T),ct.layout=wv(ct.layout,et.layout,Ae,nt,T);var ft=!W||W(Ae,et,nt);if(ft){var Pt=new Jf(Ae,this.z,this.x,this.y,ke);Pt.layer=ct;var Ut=n[Le];Ut===void 0&&(Ut=n[Le]=[]),Ut.push({featureIndex:g,feature:Pt,intersectionZ:ft})}}}}}},mc.prototype.lookupSymbolFeatures=function(n,o,l,g,b,C,T,F){var j={};this.loadVTLayers();for(var Q=us(b),W=0,X=n;W<X.length;W+=1)this.loadMatchingFeature(j,l,g,X[W],Q,C,T,F,o);return j},mc.prototype.hasLayer=function(n){for(var o=0,l=this.bucketLayerIDs;o<l.length;o+=1)for(var g=0,b=l[o];g<b.length;g+=1)if(n===b[g])return!0;return!1},mc.prototype.getId=function(n,o){var l=n.id;return this.promoteId&&typeof(l=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[o]])=="boolean"&&(l=Number(l)),l},nr("FeatureIndex",mc,{omit:["rawTileData","sourceLayerCoder"]});var Uo=function(n,o){this.tileID=n,this.uid=ge(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Uo.prototype.registerFadeDuration=function(n){var o=n+this.timeAdded;o<Ur.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)},Uo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Uo.prototype.loadVectorData=function(n,o,l){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",n){for(var g in n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(Q,W){var X={};if(!W)return X;for(var se=function(){var ke=Ee[Ae],$e=ke.layerIds.map(function(nt){return W.getLayer(nt)}).filter(Boolean);if($e.length!==0){ke.layers=$e,ke.stateDependentLayerIds&&(ke.stateDependentLayers=ke.stateDependentLayerIds.map(function(nt){return $e.filter(function(ct){return ct.id===nt})[0]}));for(var Le=0,et=$e;Le<et.length;Le+=1)X[et[Le].id]=ke}},Ae=0,Ee=Q;Ae<Ee.length;Ae+=1)se();return X}(n.buckets,o.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[g];if(b instanceof Wn){if(this.hasSymbolBuckets=!0,!l)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var C in this.buckets){var T=this.buckets[C];if(T instanceof Wn&&T.hasRTLText){this.hasRTLText=!0,tn.isLoading()||tn.isLoaded()||fs()!=="deferred"||zp();break}}for(var F in this.queryPadding=0,this.buckets){var j=this.buckets[F];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(F).queryRadius(j))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage)}else this.collisionBoxArray=new f},Uo.prototype.unloadVectorData=function(){for(var n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Uo.prototype.getBucket=function(n){return this.buckets[n.id]},Uo.prototype.upload=function(n){for(var o in this.buckets){var l=this.buckets[o];l.uploadPending()&&l.upload(n)}var g=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Kf(n,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Kf(n,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},Uo.prototype.prepare=function(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)},Uo.prototype.queryRenderedFeatures=function(n,o,l,g,b,C,T,F,j,Q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:C,tileSize:this.tileSize,pixelPosMatrix:Q,transform:F,params:T,queryPadding:this.queryPadding*j},n,o,l):{}},Uo.prototype.querySourceFeatures=function(n,o){var l=this.latestFeatureIndex;if(l&&l.rawTileData){var g=l.loadVTLayers(),b=o?o.sourceLayer:"",C=g._geojsonTileLayer||g[b];if(C)for(var T=us(o&&o.filter),F=this.tileID.canonical,j=F.z,Q=F.x,W=F.y,X={z:j,x:Q,y:W},se=0;se<C.length;se++){var Ae=C.feature(se);if(T.needGeometry){var Ee=na(Ae,!0);if(!T.filter(new Gr(this.tileID.overscaledZ),Ee,this.tileID.canonical))continue}else if(!T.filter(new Gr(this.tileID.overscaledZ),Ae))continue;var ke=l.getId(Ae,b),$e=new Jf(Ae,j,Q,W,ke);$e.tile=X,n.push($e)}}},Uo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Uo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Uo.prototype.setExpiryData=function(n){var o=this.expirationTime;if(n.cacheControl){var l=wr(n.cacheControl);l["max-age"]&&(this.expirationTime=Date.now()+1e3*l["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){var g=Date.now(),b=!1;if(this.expirationTime>g)b=!1;else if(o)if(this.expirationTime<o)b=!0;else{var C=this.expirationTime-o;C?this.expirationTime=g+Math.max(C,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Uo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Uo.prototype.setFeatureState=function(n,o){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(n).length!==0){var l=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(o.style.hasLayer(g)){var b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",T=l[C],F=n[C];if(T&&F&&Object.keys(F).length!==0){b.update(F,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});var j=o&&o.style&&o.style.getLayer(g);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(b)))}}}},Uo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Uo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ur.now()},Uo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Uo.prototype.setHoldDuration=function(n){this.symbolFadeHoldUntil=Ur.now()+n},Uo.prototype.setDependencies=function(n,o){for(var l={},g=0,b=o;g<b.length;g+=1)l[b[g]]=!0;this.dependencies[n]=l},Uo.prototype.hasDependency=function(n,o){for(var l=0,g=n;l<g.length;l+=1){var b=this.dependencies[g[l]];if(b){for(var C=0,T=o;C<T.length;C+=1)if(b[T[C]])return!0}}return!1};var pf=N.performance,Cv=function(n){this._marks={start:[n.url,"start"].join("#"),end:[n.url,"end"].join("#"),measure:n.url.toString()},pf.mark(this._marks.start)};Cv.prototype.finish=function(){pf.mark(this._marks.end);var n=pf.getEntriesByName(this._marks.measure);return n.length===0&&(pf.measure(this._marks.measure,this._marks.start,this._marks.end),n=pf.getEntriesByName(this._marks.measure),pf.clearMarks(this._marks.start),pf.clearMarks(this._marks.end),pf.clearMeasures(this._marks.measure)),n},a.Actor=Yp,a.AlphaImage=Vf,a.CanonicalTileID=Yf,a.CollisionBoxArray=f,a.Color=xr,a.DEMData=Cl,a.DataConstantProperty=Gt,a.DictionaryCoder=vd,a.EXTENT=8192,a.ErrorEvent=Ve,a.EvaluationParameters=Gr,a.Event=Ne,a.Evented=ze,a.FeatureIndex=mc,a.FillBucket=xu,a.FillExtrusionBucket=Is,a.ImageAtlas=Qp,a.ImagePosition=cf,a.LineBucket=Sa,a.LngLat=vi,a.LngLatBounds=vo,a.MercatorCoordinate=Xf,a.ONE_EM=24,a.OverscaledTileID=_o,a.Point=R,a.Point$1=R,a.Properties=No,a.Protobuf=Gf,a.RGBAImage=La,a.RequestManager=gi,a.RequestPerformance=Cv,a.ResourceType=hn,a.SegmentVector=me,a.SourceFeatureState=Jp,a.StructArrayLayout1ui2=Wt,a.StructArrayLayout2f1f2i16=wt,a.StructArrayLayout2i4=_,a.StructArrayLayout3ui6=Nt,a.StructArrayLayout4i8=k,a.SymbolBucket=Wn,a.Texture=Kf,a.Tile=Uo,a.Transitionable=Fr,a.Uniform1f=Ft,a.Uniform1i=zt,a.Uniform2f=Yt,a.Uniform3f=dr,a.Uniform4f=Tr,a.UniformColor=Er,a.UniformMatrix4f=lr,a.UnwrappedTileID=bv,a.ValidationError=ne,a.WritingMode=Os,a.ZoomHistory=Jo,a.add=function(n,o,l){return n[0]=o[0]+l[0],n[1]=o[1]+l[1],n[2]=o[2]+l[2],n},a.addDynamicAttributes=vm,a.asyncAll=function(n,o,l){if(!n.length)return l(null,[]);var g=n.length,b=new Array(n.length),C=null;n.forEach(function(T,F){o(T,function(j,Q){j&&(C=j),b[F]=Q,--g==0&&l(C,b)})})},a.bezier=Z,a.bindAll=Se,a.browser=Ur,a.cacheEntryPossiblyAdded=function(n){++$n>Hr&&(n.getActor().send("enforceCacheSizeLimit",or),$n=0)},a.clamp=ae,a.clearTileCache=function(n){var o=N.caches.delete("mapbox-tiles");n&&o.catch(n).then(function(){return n()})},a.clipLine=sv,a.clone=function(n){var o=new qi(16);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},a.clone$1=tt,a.clone$2=function(n){var o=new qi(3);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o},a.collisionCircleLayout=Am,a.config=Dr,a.create=function(){var n=new qi(16);return qi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},a.create$1=function(){var n=new qi(9);return qi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},a.create$2=function(){var n=new qi(4);return qi!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n},a.createCommonjsModule=x,a.createExpression=Zc,a.createLayout=m,a.createStyleLayer=function(n){return n.type==="custom"?new gb(n):new yb[n.type](n)},a.cross=function(n,o,l){var g=o[0],b=o[1],C=o[2],T=l[0],F=l[1],j=l[2];return n[0]=b*j-C*F,n[1]=C*T-g*j,n[2]=g*F-b*T,n},a.deepEqual=function n(o,l){if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var g=0;g<o.length;g++)if(!n(o[g],l[g]))return!1;return!0}if(typeof o=="object"&&o!==null&&l!==null){if(typeof l!="object"||Object.keys(o).length!==Object.keys(l).length)return!1;for(var b in o)if(!n(o[b],l[b]))return!1;return!0}return o===l},a.dot=function(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2]},a.dot$1=function(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2]+n[3]*o[3]},a.ease=J,a.emitValidationErrors=ac,a.endsWith=Ce,a.enforceCacheSizeLimit=function(n){In(),bi&&bi.then(function(o){o.keys().then(function(l){for(var g=0;g<l.length-n;g++)o.delete(l[g])})})},a.evaluateSizeForFeature=ff,a.evaluateSizeForZoom=tv,a.evaluateVariableOffset=cv,a.evented=ef,a.extend=K,a.featureFilter=us,a.filterObject=ut,a.fromRotation=function(n,o){var l=Math.sin(o),g=Math.cos(o);return n[0]=g,n[1]=l,n[2]=0,n[3]=-l,n[4]=g,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},a.getAnchorAlignment=Ad,a.getAnchorJustification=ym,a.getArrayBuffer=zn,a.getImage=fe,a.getJSON=function(n,o){return Ei(K(n,{type:"json"}),o)},a.getRTLTextPluginStatus=fs,a.getReferrer=Jn,a.getVideo=function(n,o){var l,g,b=N.document.createElement("video");b.muted=!0,b.onloadstart=function(){o(null,b)};for(var C=0;C<n.length;C++){var T=N.document.createElement("source");l=n[C],g=void 0,(g=N.document.createElement("a")).href=l,(g.protocol!==N.document.location.protocol||g.host!==N.document.location.host)&&(b.crossOrigin="Anonymous"),T.src=n[C],b.appendChild(T)}return{cancel:function(){}}},a.identity=Aa,a.invert=function(n,o){var l=o[0],g=o[1],b=o[2],C=o[3],T=o[4],F=o[5],j=o[6],Q=o[7],W=o[8],X=o[9],se=o[10],Ae=o[11],Ee=o[12],ke=o[13],$e=o[14],Le=o[15],et=l*F-g*T,nt=l*j-b*T,ct=l*Q-C*T,ft=g*j-b*F,Pt=g*Q-C*F,Ut=b*Q-C*j,Zt=W*ke-X*Ee,mr=W*$e-se*Ee,Jt=W*Le-Ae*Ee,Cr=X*$e-se*ke,rr=X*Le-Ae*ke,Wr=se*Le-Ae*$e,Ir=et*Wr-nt*rr+ct*Cr+ft*Jt-Pt*mr+Ut*Zt;return Ir?(n[0]=(F*Wr-j*rr+Q*Cr)*(Ir=1/Ir),n[1]=(b*rr-g*Wr-C*Cr)*Ir,n[2]=(ke*Ut-$e*Pt+Le*ft)*Ir,n[3]=(se*Pt-X*Ut-Ae*ft)*Ir,n[4]=(j*Jt-T*Wr-Q*mr)*Ir,n[5]=(l*Wr-b*Jt+C*mr)*Ir,n[6]=($e*ct-Ee*Ut-Le*nt)*Ir,n[7]=(W*Ut-se*ct+Ae*nt)*Ir,n[8]=(T*rr-F*Jt+Q*Zt)*Ir,n[9]=(g*Jt-l*rr-C*Zt)*Ir,n[10]=(Ee*Pt-ke*ct+Le*et)*Ir,n[11]=(X*ct-W*Pt-Ae*et)*Ir,n[12]=(F*mr-T*Cr-j*Zt)*Ir,n[13]=(l*Cr-g*mr+b*Zt)*Ir,n[14]=(ke*nt-Ee*ft-$e*et)*Ir,n[15]=(W*ft-X*nt+se*et)*Ir,n):null},a.isChar=ar,a.isMapboxURL=Qo,a.keysDifference=function(n,o){var l=[];for(var g in n)g in o||l.push(g);return l},a.makeRequest=Ei,a.mapObject=He,a.mercatorXfromLng=xm,a.mercatorYfromLat=_v,a.mercatorZfromAltitude=xv,a.mul=WA,a.multiply=lc,a.mvt=Sl,a.nextPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},a.normalize=function(n,o){var l=o[0],g=o[1],b=o[2],C=l*l+g*g+b*b;return C>0&&(C=1/Math.sqrt(C)),n[0]=o[0]*C,n[1]=o[1]*C,n[2]=o[2]*C,n},a.number=kn,a.offscreenCanvasSupported=Yn,a.ortho=function(n,o,l,g,b,C,T){var F=1/(o-l),j=1/(g-b),Q=1/(C-T);return n[0]=-2*F,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*j,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*Q,n[11]=0,n[12]=(o+l)*F,n[13]=(b+g)*j,n[14]=(T+C)*Q,n[15]=1,n},a.parseGlyphPBF=function(n){return new Gf(n).readFields(rb,[])},a.pbf=Gf,a.performSymbolLayout=function(n,o,l,g,b,C,T){n.createArrays(),n.tilePixelRatio=8192/(512*n.overscaling),n.compareText={},n.iconsNeedLinear=!1;var F=n.layers[0].layout,j=n.layers[0]._unevaluatedLayout._values,Q={};if(n.textSizeData.kind==="composite"){var W=n.textSizeData,X=W.maxZoom;Q.compositeTextSizes=[j["text-size"].possiblyEvaluate(new Gr(W.minZoom),T),j["text-size"].possiblyEvaluate(new Gr(X),T)]}if(n.iconSizeData.kind==="composite"){var se=n.iconSizeData,Ae=se.maxZoom;Q.compositeIconSizes=[j["icon-size"].possiblyEvaluate(new Gr(se.minZoom),T),j["icon-size"].possiblyEvaluate(new Gr(Ae),T)]}Q.layoutTextSize=j["text-size"].possiblyEvaluate(new Gr(n.zoom+1),T),Q.layoutIconSize=j["icon-size"].possiblyEvaluate(new Gr(n.zoom+1),T),Q.textMaxSize=j["text-size"].possiblyEvaluate(new Gr(18));for(var Ee=24*F.get("text-line-height"),ke=F.get("text-rotation-alignment")==="map"&&F.get("symbol-placement")!=="point",$e=F.get("text-keep-upright"),Le=F.get("text-size"),et=function(){var ft=ct[nt],Pt=F.get("text-font").evaluate(ft,{},T).join(","),Ut=Le.evaluate(ft,{},T),Zt=Q.layoutTextSize.evaluate(ft,{},T),mr=Q.layoutIconSize.evaluate(ft,{},T),Jt={horizontal:{},vertical:void 0},Cr=ft.text,rr=[0,0];if(Cr){var Wr=Cr.toString(),Ir=24*F.get("text-letter-spacing").evaluate(ft,{},T),gr=function(un){for(var ni=0,qn=un;ni<qn.length;ni+=1)if(Cn=qn[ni].charCodeAt(0),ar.Arabic(Cn)||ar["Arabic Supplement"](Cn)||ar["Arabic Extended-A"](Cn)||ar["Arabic Presentation Forms-A"](Cn)||ar["Arabic Presentation Forms-B"](Cn))return!1;var Cn;return!0}(Wr)?Ir:0,rn=F.get("text-anchor").evaluate(ft,{},T),Vr=F.get("text-variable-anchor");if(!Vr){var vn=F.get("text-radial-offset").evaluate(ft,{},T);rr=vn?cv(rn,[24*vn,gm]):F.get("text-offset").evaluate(ft,{},T).map(function(un){return 24*un})}var kr=ke?"center":F.get("text-justify").evaluate(ft,{},T),On=F.get("symbol-placement"),ui=On==="point"?24*F.get("text-max-width").evaluate(ft,{},T):0,_i=function(){n.allowVerticalPlacement&&sc(Wr)&&(Jt.vertical=fd(Cr,o,l,b,Pt,ui,Ee,rn,"left",gr,rr,Os.vertical,!0,On,Zt,Ut))};if(!ke&&Vr){for(var Oi=kr==="auto"?Vr.map(function(un){return ym(un)}):[kr],xi=!1,Ci=0;Ci<Oi.length;Ci++){var xo=Oi[Ci];if(!Jt.horizontal[xo])if(xi)Jt.horizontal[xo]=Jt.horizontal[0];else{var Oo=fd(Cr,o,l,b,Pt,ui,Ee,"center",xo,gr,rr,Os.horizontal,!1,On,Zt,Ut);Oo&&(Jt.horizontal[xo]=Oo,xi=Oo.positionedLines.length===1)}}_i()}else{kr==="auto"&&(kr=ym(rn));var Ea=fd(Cr,o,l,b,Pt,ui,Ee,rn,kr,gr,rr,Os.horizontal,!1,On,Zt,Ut);Ea&&(Jt.horizontal[kr]=Ea),_i(),sc(Wr)&&ke&&$e&&(Jt.vertical=fd(Cr,o,l,b,Pt,ui,Ee,rn,kr,gr,rr,Os.vertical,!1,On,Zt,Ut))}}var jo=void 0,ka=!1;if(ft.icon&&ft.icon.name){var Ji=g[ft.icon.name];Ji&&(jo=function(un,ni,qn){var Cn=Ad(qn),Da=ni[0]-un.displaySize[0]*Cn.horizontalAlign,ha=ni[1]-un.displaySize[1]*Cn.verticalAlign;return{image:un,top:ha,bottom:ha+un.displaySize[1],left:Da,right:Da+un.displaySize[0]}}(b[ft.icon.name],F.get("icon-offset").evaluate(ft,{},T),F.get("icon-anchor").evaluate(ft,{},T)),ka=Ji.sdf,n.sdfIcons===void 0?n.sdfIcons=Ji.sdf:n.sdfIcons!==Ji.sdf&&bt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ji.pixelRatio!==n.pixelRatio||F.get("icon-rotate").constantOr(1)!==0)&&(n.iconsNeedLinear=!0))}var $o=pv(Jt.horizontal)||Jt.vertical;n.iconsInText=!!$o&&$o.iconsInText,($o||jo)&&function(un,ni,qn,Cn,Da,ha,Tn,lo,da,ln,Zr){var Ms=ha.textMaxSize.evaluate(ni,{});Ms===void 0&&(Ms=Tn);var bo,cn=un.layers[0].layout,El=cn.get("icon-offset").evaluate(ni,{},Zr),ma=pv(qn.horizontal),eA=Tn/24,ep=un.tilePixelRatio*eA,tA=un.tilePixelRatio*Ms/24,gc=un.tilePixelRatio*lo,rA=un.tilePixelRatio*cn.get("symbol-spacing"),nA=cn.get("text-padding")*un.tilePixelRatio,iA=cn.get("icon-padding")*un.tilePixelRatio,Js=cn.get("text-max-angle")/180*Math.PI,uh=cn.get("text-rotation-alignment")==="map"&&cn.get("symbol-placement")!=="point",tp=cn.get("icon-rotation-alignment")==="map"&&cn.get("symbol-placement")!=="point",pi=cn.get("symbol-placement"),Qi=rA/2,rp=cn.get("icon-text-fit");Cn&&rp!=="none"&&(un.allowVerticalPlacement&&qn.vertical&&(bo=rh(Cn,qn.vertical,rp,cn.get("icon-text-fit-padding"),El,eA)),ma&&(Cn=rh(Cn,ma,rp,cn.get("icon-text-fit-padding"),El,eA)));var Af=function(Cu,sA){sA.x<0||sA.x>=8192||sA.y<0||sA.y>=8192||function(eo,Pn,_b,_c,uA,Ev,wd,kl,Sd,mh,Cd,Ed,Em,kv,gh,Tv,Pv,Iv,kd,Ov,Xa,Td,Mv,Tl,Ta){var hs,op,lA,cA,ap,fA=eo.addToLineVertexArray(Pn,_b),Rv=0,Lv=0,km=0,Dv=0,Tm=-1,Pm=-1,Pl={},Im=Fe(""),Om=0,Mm=0;if(kl._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Om=(hs=kl.layout.get("text-offset").evaluate(Xa,{},Tl).map(function(_h){return 24*_h}))[0],Mm=hs[1]):(Om=24*kl.layout.get("text-radial-offset").evaluate(Xa,{},Tl),Mm=gm),eo.allowVerticalPlacement&&_c.vertical){var Fv=kl.layout.get("text-rotate").evaluate(Xa,{},Tl)+90;cA=new ih(Sd,Pn,mh,Cd,Ed,_c.vertical,Em,kv,gh,Fv),wd&&(ap=new ih(Sd,Pn,mh,Cd,Ed,wd,Pv,Iv,gh,Fv))}if(uA){var Rm=kl.layout.get("icon-rotate").evaluate(Xa,{}),sp=kl.layout.get("icon-text-fit")!=="none",Bv=uv(uA,Rm,Mv,sp),Lm=wd?uv(wd,Rm,Mv,sp):void 0;lA=new ih(Sd,Pn,mh,Cd,Ed,uA,Pv,Iv,!1,Rm),Rv=4*Bv.length;var zv=eo.iconSizeData,yh=null;zv.kind==="source"?(yh=[128*kl.layout.get("icon-size").evaluate(Xa,{})])[0]>32640&&bt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):zv.kind==="composite"&&((yh=[128*Td.compositeIconSizes[0].evaluate(Xa,{},Tl),128*Td.compositeIconSizes[1].evaluate(Xa,{},Tl)])[0]>32640||yh[1]>32640)&&bt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),eo.addSymbols(eo.icon,Bv,yh,Ov,kd,Xa,!1,Pn,fA.lineStartIndex,fA.lineLength,-1,Tl),Tm=eo.icon.placedSymbolArray.length-1,Lm&&(Lv=4*Lm.length,eo.addSymbols(eo.icon,Lm,yh,Ov,kd,Xa,Os.vertical,Pn,fA.lineStartIndex,fA.lineLength,-1,Tl),Pm=eo.icon.placedSymbolArray.length-1)}for(var Nv in _c.horizontal){var vh=_c.horizontal[Nv];if(!op){Im=Fe(vh.text);var Uv=kl.layout.get("text-rotate").evaluate(Xa,{},Tl);op=new ih(Sd,Pn,mh,Cd,Ed,vh,Em,kv,gh,Uv)}var jv=vh.positionedLines.length===1;if(km+=fv(eo,Pn,vh,Ev,kl,gh,Xa,Tv,fA,_c.vertical?Os.horizontal:Os.horizontalOnly,jv?Object.keys(_c.horizontal):[Nv],Pl,Tm,Td,Tl),jv)break}_c.vertical&&(Dv+=fv(eo,Pn,_c.vertical,Ev,kl,gh,Xa,Tv,fA,Os.vertical,["vertical"],Pl,Pm,Td,Tl));var xb=op?op.boxStartIndex:eo.collisionBoxArray.length,bb=op?op.boxEndIndex:eo.collisionBoxArray.length,wb=cA?cA.boxStartIndex:eo.collisionBoxArray.length,Sb=cA?cA.boxEndIndex:eo.collisionBoxArray.length,Cb=lA?lA.boxStartIndex:eo.collisionBoxArray.length,Eb=lA?lA.boxEndIndex:eo.collisionBoxArray.length,kb=ap?ap.boxStartIndex:eo.collisionBoxArray.length,Tb=ap?ap.boxEndIndex:eo.collisionBoxArray.length,Il=-1,Pd=function(_h,Vv){return _h&&_h.circleDiameter?Math.max(_h.circleDiameter,Vv):Vv};Il=Pd(op,Il),Il=Pd(cA,Il),Il=Pd(lA,Il);var $v=(Il=Pd(ap,Il))>-1?1:0;$v&&(Il*=Ta/24),eo.glyphOffsetArray.length>=Wn.MAX_GLYPHS&&bt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&eo.addToSortKeyRanges(eo.symbolInstances.length,Xa.sortKey),eo.symbolInstances.emplaceBack(Pn.x,Pn.y,Pl.right>=0?Pl.right:-1,Pl.center>=0?Pl.center:-1,Pl.left>=0?Pl.left:-1,Pl.vertical||-1,Tm,Pm,Im,xb,bb,wb,Sb,Cb,Eb,kb,Tb,mh,km,Dv,Rv,Lv,$v,0,Em,Om,Mm,Il)}(un,sA,Cu,qn,Cn,Da,bo,un.layers[0],un.collisionBoxArray,ni.index,ni.sourceLayerIndex,un.index,ep,nA,uh,da,gc,iA,tp,El,ni,ha,ln,Zr,Tn)};if(pi==="line")for(var oA=0,_d=sv(ni.geometry,0,0,8192,8192);oA<_d.length;oA+=1)for(var xd=_d[oA],lh=0,ch=ob(xd,rA,Js,qn.vertical||ma,Cn,24,tA,un.overscaling,8192);lh<ch.length;lh+=1){var fh=ch[lh];ma&&lb(un,ma.text,Qi,fh)||Af(xd,fh)}else if(pi==="line-center")for(var yc=0,np=ni.geometry;yc<np.length;yc+=1){var ph=np[yc];if(ph.length>1){var Ah=ib(ph,Js,qn.vertical||ma,Cn,24,tA);Ah&&Af(ph,Ah)}}else if(ni.type==="Polygon")for(var vc=0,Ka=om(ni.geometry,0);vc<Ka.length;vc+=1){var Hu=Ka[vc],hh=sb(Hu,16);Af(Hu[0],new Qf(hh.x,hh.y,0))}else if(ni.type==="LineString")for(var ip=0,dh=ni.geometry;ip<dh.length;ip+=1){var aA=dh[ip];Af(aA,new Qf(aA[0].x,aA[0].y,0))}else if(ni.type==="Point")for(var Sm=0,Cm=ni.geometry;Sm<Cm.length;Sm+=1)for(var qu=0,_n=Cm[Sm];qu<_n.length;qu+=1){var bd=_n[qu];Af([bd],new Qf(bd.x,bd.y,0))}}(n,ft,Jt,jo,g,Q,Zt,mr,rr,ka,T)},nt=0,ct=n.features;nt<ct.length;nt+=1)et();C&&n.generateCollisionDebugBuffers()},a.perspective=function(n,o,l,g,b){var C,T=1/Math.tan(o/2);return n[0]=T/l,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=T,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,b!=null&&b!==1/0?(n[10]=(b+g)*(C=1/(g-b)),n[14]=2*b*g*C):(n[10]=-1,n[14]=-2*g),n},a.pick=function(n,o){for(var l={},g=0;g<o.length;g++){var b=o[g];b in n&&(l[b]=n[b])}return l},a.plugin=tn,a.polygonIntersectsPolygon=wa,a.postMapLoadEvent=kt,a.postTurnstileEvent=be,a.potpack=Xy,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=nr,a.registerForPluginStateChange=function(n){return n({pluginStatus:go,pluginURL:Va}),ef.on("pluginStateChange",n),n},a.renderColorRamp=Jh,a.rotate=function(n,o,l){var g=o[0],b=o[1],C=o[2],T=o[3],F=Math.sin(l),j=Math.cos(l);return n[0]=g*j+C*F,n[1]=b*j+T*F,n[2]=g*-F+C*j,n[3]=b*-F+T*j,n},a.rotateX=function(n,o,l){var g=Math.sin(l),b=Math.cos(l),C=o[4],T=o[5],F=o[6],j=o[7],Q=o[8],W=o[9],X=o[10],se=o[11];return o!==n&&(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[4]=C*b+Q*g,n[5]=T*b+W*g,n[6]=F*b+X*g,n[7]=j*b+se*g,n[8]=Q*b-C*g,n[9]=W*b-T*g,n[10]=X*b-F*g,n[11]=se*b-j*g,n},a.rotateZ=function(n,o,l){var g=Math.sin(l),b=Math.cos(l),C=o[0],T=o[1],F=o[2],j=o[3],Q=o[4],W=o[5],X=o[6],se=o[7];return o!==n&&(n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[0]=C*b+Q*g,n[1]=T*b+W*g,n[2]=F*b+X*g,n[3]=j*b+se*g,n[4]=Q*b-C*g,n[5]=W*b-T*g,n[6]=X*b-F*g,n[7]=se*b-j*g,n},a.scale=function(n,o,l){var g=l[0],b=l[1],C=l[2];return n[0]=o[0]*g,n[1]=o[1]*g,n[2]=o[2]*g,n[3]=o[3]*g,n[4]=o[4]*b,n[5]=o[5]*b,n[6]=o[6]*b,n[7]=o[7]*b,n[8]=o[8]*C,n[9]=o[9]*C,n[10]=o[10]*C,n[11]=o[11]*C,n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n},a.scale$1=function(n,o,l){return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n[3]=o[3]*l,n},a.scale$2=function(n,o,l){return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n},a.setCacheLimits=function(n,o){or=n,Hr=o},a.setRTLTextPlugin=function(n,o,l){if(l===void 0&&(l=!1),go==="deferred"||go==="loading"||go==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Va=Ur.resolveURL(n),go="deferred",Bf=o,Jc(),l||zp()},a.sphericalToCartesian=function(n){var o=n[0],l=n[1],g=n[2];return l+=90,l*=Math.PI/180,g*=Math.PI/180,{x:o*Math.cos(l)*Math.sin(g),y:o*Math.sin(l)*Math.sin(g),z:o*Math.cos(g)}},a.sqrLen=function(n){var o=n[0],l=n[1];return o*o+l*l},a.styleSpec=xe,a.sub=function(n,o,l){return n[0]=o[0]-l[0],n[1]=o[1]-l[1],n[2]=o[2]-l[2],n},a.symbolSize=rv,a.transformMat3=function(n,o,l){var g=o[0],b=o[1],C=o[2];return n[0]=g*l[0]+b*l[3]+C*l[6],n[1]=g*l[1]+b*l[4]+C*l[7],n[2]=g*l[2]+b*l[5]+C*l[8],n},a.transformMat4=Uf,a.translate=function(n,o,l){var g,b,C,T,F,j,Q,W,X,se,Ae,Ee,ke=l[0],$e=l[1],Le=l[2];return o===n?(n[12]=o[0]*ke+o[4]*$e+o[8]*Le+o[12],n[13]=o[1]*ke+o[5]*$e+o[9]*Le+o[13],n[14]=o[2]*ke+o[6]*$e+o[10]*Le+o[14],n[15]=o[3]*ke+o[7]*$e+o[11]*Le+o[15]):(b=o[1],C=o[2],T=o[3],F=o[4],j=o[5],Q=o[6],W=o[7],X=o[8],se=o[9],Ae=o[10],Ee=o[11],n[0]=g=o[0],n[1]=b,n[2]=C,n[3]=T,n[4]=F,n[5]=j,n[6]=Q,n[7]=W,n[8]=X,n[9]=se,n[10]=Ae,n[11]=Ee,n[12]=g*ke+F*$e+X*Le+o[12],n[13]=b*ke+j*$e+se*Le+o[13],n[14]=C*ke+Q*$e+Ae*Le+o[14],n[15]=T*ke+W*$e+Ee*Le+o[15]),n},a.triggerPluginCompletionEvent=Vu,a.uniqueId=ge,a.validateCustomStyleLayer=function(n){var o=[],l=n.id;return l===void 0&&o.push({message:"layers."+l+': missing required property "id"'}),n.render===void 0&&o.push({message:"layers."+l+': missing required method "render"'}),n.renderingMode&&n.renderingMode!=="2d"&&n.renderingMode!=="3d"&&o.push({message:"layers."+l+': property "renderingMode" must be either "2d" or "3d"'}),o},a.validateLight=Xc,a.validateStyle=cs,a.values=function(n){var o=[];for(var l in n)o.push(n[l]);return o},a.vectorTile=Sl,a.version="1.15.3",a.warnOnce=bt,a.webpSupported=Xn,a.window=N,a.wrap=V}),u(["./shared"],function(a){function x(Y){var ie=typeof Y;if(ie==="number"||ie==="boolean"||ie==="string"||Y==null)return JSON.stringify(Y);if(Array.isArray(Y)){for(var fe="[",ve=0,Ie=Y;ve<Ie.length;ve+=1)fe+=x(Ie[ve])+",";return fe+"]"}for(var Ne=Object.keys(Y).sort(),Ve="{",ze=0;ze<Ne.length;ze++)Ve+=JSON.stringify(Ne[ze])+":"+x(Y[Ne[ze]])+",";return Ve+"}"}function S(Y){for(var ie="",fe=0,ve=a.refProperties;fe<ve.length;fe+=1)ie+="/"+x(Y[ve[fe]]);return ie}var P=function(Y){this.keyCache={},Y&&this.replace(Y)};P.prototype.replace=function(Y){this._layerConfigs={},this._layers={},this.update(Y,[])},P.prototype.update=function(Y,ie){for(var fe=this,ve=0,Ie=Y;ve<Ie.length;ve+=1){var Ne=Ie[ve];this._layerConfigs[Ne.id]=Ne;var Ve=this._layers[Ne.id]=a.createStyleLayer(Ne);Ve._featureFilter=a.featureFilter(Ve.filter),this.keyCache[Ne.id]&&delete this.keyCache[Ne.id]}for(var ze=0,xe=ie;ze<xe.length;ze+=1){var ne=xe[ze];delete this.keyCache[ne],delete this._layerConfigs[ne],delete this._layers[ne]}this.familiesBySource={};for(var je=0,ot=function(Mt,xt){for(var pr={},ur=0;ur<Mt.length;ur++){var qt=xt&&xt[Mt[ur].id]||S(Mt[ur]);xt&&(xt[Mt[ur].id]=qt);var An=pr[qt];An||(An=pr[qt]=[]),An.push(Mt[ur])}var Xr=[];for(var Ln in pr)Xr.push(pr[Ln]);return Xr}(a.values(this._layerConfigs),this.keyCache);je<ot.length;je+=1){var Ge=ot[je].map(function(Mt){return fe._layers[Mt.id]}),h=Ge[0];if(h.visibility!=="none"){var ye=h.source||"",Rt=this.familiesBySource[ye];Rt||(Rt=this.familiesBySource[ye]={});var jt=h.sourceLayer||"_geojsonTileLayer",lt=Rt[jt];lt||(lt=Rt[jt]=[]),lt.push(Ge)}}};var R=function(Y){var ie={},fe=[];for(var ve in Y){var Ie=Y[ve],Ne=ie[ve]={};for(var Ve in Ie){var ze=Ie[+Ve];if(ze&&ze.bitmap.width!==0&&ze.bitmap.height!==0){var xe={x:0,y:0,w:ze.bitmap.width+2,h:ze.bitmap.height+2};fe.push(xe),Ne[Ve]={rect:xe,metrics:ze.metrics}}}}var ne=a.potpack(fe),je=new a.AlphaImage({width:ne.w||1,height:ne.h||1});for(var ot in Y){var Ge=Y[ot];for(var h in Ge){var ye=Ge[+h];if(ye&&ye.bitmap.width!==0&&ye.bitmap.height!==0){var Rt=ie[ot][h].rect;a.AlphaImage.copy(ye.bitmap,je,{x:0,y:0},{x:Rt.x+1,y:Rt.y+1},ye.bitmap)}}}this.image=je,this.positions=ie};a.register("GlyphAtlas",R);var z=function(Y){this.tileID=new a.OverscaledTileID(Y.tileID.overscaledZ,Y.tileID.wrap,Y.tileID.canonical.z,Y.tileID.canonical.x,Y.tileID.canonical.y),this.uid=Y.uid,this.zoom=Y.zoom,this.pixelRatio=Y.pixelRatio,this.tileSize=Y.tileSize,this.source=Y.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Y.showCollisionBoxes,this.collectResourceTiming=!!Y.collectResourceTiming,this.returnDependencies=!!Y.returnDependencies,this.promoteId=Y.promoteId};function N(Y,ie,fe){for(var ve=new a.EvaluationParameters(ie),Ie=0,Ne=Y;Ie<Ne.length;Ie+=1)Ne[Ie].recalculate(ve,fe)}function $(Y,ie){var fe=a.getArrayBuffer(Y.request,function(ve,Ie,Ne,Ve){ve?ie(ve):Ie&&ie(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Ie)),rawData:Ie,cacheControl:Ne,expires:Ve})});return function(){fe.cancel(),ie()}}z.prototype.parse=function(Y,ie,fe,ve,Ie){var Ne=this;this.status="parsing",this.data=Y,this.collisionBoxArray=new a.CollisionBoxArray;var Ve=new a.DictionaryCoder(Object.keys(Y.layers).sort()),ze=new a.FeatureIndex(this.tileID,this.promoteId);ze.bucketLayerIDs=[];var xe,ne,je,ot,Ge={},h={featureIndex:ze,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:fe},ye=ie.familiesBySource[this.source];for(var Rt in ye){var jt=Y.layers[Rt];if(jt){jt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Rt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var lt=Ve.encode(Rt),Mt=[],xt=0;xt<jt.length;xt++){var pr=jt.feature(xt),ur=ze.getId(pr,Rt);Mt.push({feature:pr,id:ur,index:xt,sourceLayerIndex:lt})}for(var qt=0,An=ye[Rt];qt<An.length;qt+=1){var Xr=An[qt],Ln=Xr[0];Ln.minzoom&&this.zoom<Math.floor(Ln.minzoom)||Ln.maxzoom&&this.zoom>=Ln.maxzoom||Ln.visibility!=="none"&&(N(Xr,this.zoom,fe),(Ge[Ln.id]=Ln.createBucket({index:ze.bucketLayerIDs.length,layers:Xr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:lt,sourceID:this.source})).populate(Mt,h,this.tileID.canonical),ze.bucketLayerIDs.push(Xr.map(function(xn){return xn.id})))}}}var dn=a.mapObject(h.glyphDependencies,function(xn){return Object.keys(xn).map(Number)});Object.keys(dn).length?ve.send("getGlyphs",{uid:this.uid,stacks:dn},function(xn,Kt){xe||(xe=xn,ne=Kt,hi.call(Ne))}):ne={};var an=Object.keys(h.iconDependencies);an.length?ve.send("getImages",{icons:an,source:this.source,tileID:this.tileID,type:"icons"},function(xn,Kt){xe||(xe=xn,je=Kt,hi.call(Ne))}):je={};var gn=Object.keys(h.patternDependencies);function hi(){if(xe)return Ie(xe);if(ne&&je&&ot){var xn=new R(ne),Kt=new a.ImageAtlas(je,ot);for(var qe in Ge){var xr=Ge[qe];xr instanceof a.SymbolBucket?(N(xr.layers,this.zoom,fe),a.performSymbolLayout(xr,ne,xn.positions,je,Kt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):xr.hasPattern&&(xr instanceof a.LineBucket||xr instanceof a.FillBucket||xr instanceof a.FillExtrusionBucket)&&(N(xr.layers,this.zoom,fe),xr.addFeatures(h,this.tileID.canonical,Kt.patternPositions))}this.status="done",Ie(null,{buckets:a.values(Ge).filter(function(uu){return!uu.isEmpty()}),featureIndex:ze,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,imageAtlas:Kt,glyphMap:this.returnDependencies?ne:null,iconMap:this.returnDependencies?je:null,glyphPositions:this.returnDependencies?xn.positions:null})}}gn.length?ve.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"patterns"},function(xn,Kt){xe||(xe=xn,ot=Kt,hi.call(Ne))}):ot={},hi.call(this)};var Z=function(Y,ie,fe,ve){this.actor=Y,this.layerIndex=ie,this.availableImages=fe,this.loadVectorData=ve||$,this.loading={},this.loaded={}};Z.prototype.loadTile=function(Y,ie){var fe=this,ve=Y.uid;this.loading||(this.loading={});var Ie=!!(Y&&Y.request&&Y.request.collectResourceTiming)&&new a.RequestPerformance(Y.request),Ne=this.loading[ve]=new z(Y);Ne.abort=this.loadVectorData(Y,function(Ve,ze){if(delete fe.loading[ve],Ve||!ze)return Ne.status="done",fe.loaded[ve]=Ne,ie(Ve);var xe=ze.rawData,ne={};ze.expires&&(ne.expires=ze.expires),ze.cacheControl&&(ne.cacheControl=ze.cacheControl);var je={};if(Ie){var ot=Ie.finish();ot&&(je.resourceTiming=JSON.parse(JSON.stringify(ot)))}Ne.vectorTile=ze.vectorTile,Ne.parse(ze.vectorTile,fe.layerIndex,fe.availableImages,fe.actor,function(Ge,h){if(Ge||!h)return ie(Ge);ie(null,a.extend({rawTileData:xe.slice(0)},h,ne,je))}),fe.loaded=fe.loaded||{},fe.loaded[ve]=Ne})},Z.prototype.reloadTile=function(Y,ie){var fe=this,ve=this.loaded,Ie=Y.uid,Ne=this;if(ve&&ve[Ie]){var Ve=ve[Ie];Ve.showCollisionBoxes=Y.showCollisionBoxes;var ze=function(xe,ne){var je=Ve.reloadCallback;je&&(delete Ve.reloadCallback,Ve.parse(Ve.vectorTile,Ne.layerIndex,fe.availableImages,Ne.actor,je)),ie(xe,ne)};Ve.status==="parsing"?Ve.reloadCallback=ze:Ve.status==="done"&&(Ve.vectorTile?Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,ze):ze())}},Z.prototype.abortTile=function(Y,ie){var fe=this.loading,ve=Y.uid;fe&&fe[ve]&&fe[ve].abort&&(fe[ve].abort(),delete fe[ve]),ie()},Z.prototype.removeTile=function(Y,ie){var fe=this.loaded,ve=Y.uid;fe&&fe[ve]&&delete fe[ve],ie()};var J=a.window.ImageBitmap,ae=function(){this.loaded={}};function V(Y,ie){if(Y.length!==0){K(Y[0],ie);for(var fe=1;fe<Y.length;fe++)K(Y[fe],!ie)}}function K(Y,ie){for(var fe=0,ve=0,Ie=Y.length,Ne=Ie-1;ve<Ie;Ne=ve++)fe+=(Y[ve][0]-Y[Ne][0])*(Y[Ne][1]+Y[ve][1]);fe>=0!=!!ie&&Y.reverse()}ae.prototype.loadTile=function(Y,ie){var fe=Y.uid,ve=Y.encoding,Ie=Y.rawImageData,Ne=J&&Ie instanceof J?this.getImageData(Ie):Ie,Ve=new a.DEMData(fe,Ne,ve);this.loaded=this.loaded||{},this.loaded[fe]=Ve,ie(null,Ve)},ae.prototype.getImageData=function(Y){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Y.width,Y.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Y.width,this.offscreenCanvas.height=Y.height,this.offscreenCanvasContext.drawImage(Y,0,0,Y.width,Y.height);var ie=this.offscreenCanvasContext.getImageData(-1,-1,Y.width+2,Y.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:ie.width,height:ie.height},ie.data)},ae.prototype.removeTile=function(Y){var ie=this.loaded,fe=Y.uid;ie&&ie[fe]&&delete ie[fe]};var ue=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,ge=function(Y){this._feature=Y,this.extent=a.EXTENT,this.type=Y.type,this.properties=Y.tags,"id"in Y&&!isNaN(Y.id)&&(this.id=parseInt(Y.id,10))};ge.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Y=[],ie=0,fe=this._feature.geometry;ie<fe.length;ie+=1){var ve=fe[ie];Y.push([new a.Point$1(ve[0],ve[1])])}return Y}for(var Ie=[],Ne=0,Ve=this._feature.geometry;Ne<Ve.length;Ne+=1){for(var ze=[],xe=0,ne=Ve[Ne];xe<ne.length;xe+=1){var je=ne[xe];ze.push(new a.Point$1(je[0],je[1]))}Ie.push(ze)}return Ie},ge.prototype.toGeoJSON=function(Y,ie,fe){return ue.call(this,Y,ie,fe)};var he=function(Y){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Y.length,this._features=Y};he.prototype.feature=function(Y){return new ge(this._features[Y])};var le=a.vectorTile.VectorTileFeature,Se=Ce;function Ce(Y,ie){this.options=ie||{},this.features=Y,this.length=Y.length}function He(Y,ie){this.id=typeof Y.id=="number"?Y.id:void 0,this.type=Y.type,this.rawGeometry=Y.type===1?[Y.geometry]:Y.geometry,this.properties=Y.tags,this.extent=ie||4096}Ce.prototype.feature=function(Y){return new He(this.features[Y],this.options.extent)},He.prototype.loadGeometry=function(){var Y=this.rawGeometry;this.geometry=[];for(var ie=0;ie<Y.length;ie++){for(var fe=Y[ie],ve=[],Ie=0;Ie<fe.length;Ie++)ve.push(new a.Point$1(fe[Ie][0],fe[Ie][1]));this.geometry.push(ve)}return this.geometry},He.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Y=this.geometry,ie=1/0,fe=-1/0,ve=1/0,Ie=-1/0,Ne=0;Ne<Y.length;Ne++)for(var Ve=Y[Ne],ze=0;ze<Ve.length;ze++){var xe=Ve[ze];ie=Math.min(ie,xe.x),fe=Math.max(fe,xe.x),ve=Math.min(ve,xe.y),Ie=Math.max(Ie,xe.y)}return[ie,ve,fe,Ie]},He.prototype.toGeoJSON=le.prototype.toGeoJSON;var ut=st,tt=Se;function st(Y){var ie=new a.pbf;return function(fe,ve){for(var Ie in fe.layers)ve.writeMessage(3,bt,fe.layers[Ie])}(Y,ie),ie.finish()}function bt(Y,ie){var fe;ie.writeVarintField(15,Y.version||1),ie.writeStringField(1,Y.name||""),ie.writeVarintField(5,Y.extent||4096);var ve={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<Y.length;fe++)ve.feature=Y.feature(fe),ie.writeMessage(2,St,ve);var Ie=ve.keys;for(fe=0;fe<Ie.length;fe++)ie.writeStringField(3,Ie[fe]);var Ne=ve.values;for(fe=0;fe<Ne.length;fe++)ie.writeMessage(4,Ze,Ne[fe])}function St(Y,ie){var fe=Y.feature;fe.id!==void 0&&ie.writeVarintField(1,fe.id),ie.writeMessage(2,Qt,Y),ie.writeVarintField(3,fe.type),ie.writeMessage(4,Et,fe)}function Qt(Y,ie){var fe=Y.feature,ve=Y.keys,Ie=Y.values,Ne=Y.keycache,Ve=Y.valuecache;for(var ze in fe.properties){var xe=Ne[ze];xe===void 0&&(ve.push(ze),Ne[ze]=xe=ve.length-1),ie.writeVarint(xe);var ne=fe.properties[ze],je=typeof ne;je!=="string"&&je!=="boolean"&&je!=="number"&&(ne=JSON.stringify(ne));var ot=je+":"+ne,Ge=Ve[ot];Ge===void 0&&(Ie.push(ne),Ve[ot]=Ge=Ie.length-1),ie.writeVarint(Ge)}}function fr(Y,ie){return(ie<<3)+(7&Y)}function wr(Y){return Y<<1^Y>>31}function Et(Y,ie){for(var fe=Y.loadGeometry(),ve=Y.type,Ie=0,Ne=0,Ve=fe.length,ze=0;ze<Ve;ze++){var xe=fe[ze],ne=1;ve===1&&(ne=xe.length),ie.writeVarint(fr(1,ne));for(var je=ve===3?xe.length-1:xe.length,ot=0;ot<je;ot++){ot===1&&ve!==1&&ie.writeVarint(fr(2,je-1));var Ge=xe[ot].x-Ie,h=xe[ot].y-Ne;ie.writeVarint(wr(Ge)),ie.writeVarint(wr(h)),Ie+=Ge,Ne+=h}ve===3&&ie.writeVarint(fr(7,1))}}function Ze(Y,ie){var fe=typeof Y;fe==="string"?ie.writeStringField(1,Y):fe==="boolean"?ie.writeBooleanField(7,Y):fe==="number"&&(Y%1!=0?ie.writeDoubleField(3,Y):Y<0?ie.writeSVarintField(6,Y):ie.writeVarintField(5,Y))}function Oe(Y,ie,fe,ve){ee(Y,fe,ve),ee(ie,2*fe,2*ve),ee(ie,2*fe+1,2*ve+1)}function ee(Y,ie,fe){var ve=Y[ie];Y[ie]=Y[fe],Y[fe]=ve}function pe(Y,ie,fe,ve){var Ie=Y-fe,Ne=ie-ve;return Ie*Ie+Ne*Ne}ut.fromVectorTileJs=st,ut.fromGeojsonVt=function(Y,ie){ie=ie||{};var fe={};for(var ve in Y)fe[ve]=new Se(Y[ve].features,ie),fe[ve].name=ve,fe[ve].version=ie.version,fe[ve].extent=ie.extent;return st({layers:fe})},ut.GeoJSONWrapper=tt;var yt=function(Y){return Y[0]},tr=function(Y){return Y[1]},yr=function(Y,ie,fe,ve,Ie){ie===void 0&&(ie=yt),fe===void 0&&(fe=tr),ve===void 0&&(ve=64),Ie===void 0&&(Ie=Float64Array),this.nodeSize=ve,this.points=Y;for(var Ne=Y.length<65536?Uint16Array:Uint32Array,Ve=this.ids=new Ne(Y.length),ze=this.coords=new Ie(2*Y.length),xe=0;xe<Y.length;xe++)Ve[xe]=xe,ze[2*xe]=ie(Y[xe]),ze[2*xe+1]=fe(Y[xe]);(function ne(je,ot,Ge,h,ye,Rt){if(!(ye-h<=Ge)){var jt=h+ye>>1;(function lt(Mt,xt,pr,ur,qt,An){for(;qt>ur;){if(qt-ur>600){var Xr=qt-ur+1,Ln=pr-ur+1,dn=Math.log(Xr),an=.5*Math.exp(2*dn/3),gn=.5*Math.sqrt(dn*an*(Xr-an)/Xr)*(Ln-Xr/2<0?-1:1);lt(Mt,xt,pr,Math.max(ur,Math.floor(pr-Ln*an/Xr+gn)),Math.min(qt,Math.floor(pr+(Xr-Ln)*an/Xr+gn)),An)}var hi=xt[2*pr+An],xn=ur,Kt=qt;for(Oe(Mt,xt,ur,pr),xt[2*qt+An]>hi&&Oe(Mt,xt,ur,qt);xn<Kt;){for(Oe(Mt,xt,xn,Kt),xn++,Kt--;xt[2*xn+An]<hi;)xn++;for(;xt[2*Kt+An]>hi;)Kt--}xt[2*ur+An]===hi?Oe(Mt,xt,ur,Kt):Oe(Mt,xt,++Kt,qt),Kt<=pr&&(ur=Kt+1),pr<=Kt&&(qt=Kt-1)}})(je,ot,jt,h,ye,Rt%2),ne(je,ot,Ge,h,jt-1,Rt+1),ne(je,ot,Ge,jt+1,ye,Rt+1)}})(Ve,ze,ve,0,Ve.length-1,0)};yr.prototype.range=function(Y,ie,fe,ve){return function(Ie,Ne,Ve,ze,xe,ne,je){for(var ot,Ge,h=[0,Ie.length-1,0],ye=[];h.length;){var Rt=h.pop(),jt=h.pop(),lt=h.pop();if(jt-lt<=je)for(var Mt=lt;Mt<=jt;Mt++)Ge=Ne[2*Mt+1],(ot=Ne[2*Mt])>=Ve&&ot<=xe&&Ge>=ze&&Ge<=ne&&ye.push(Ie[Mt]);else{var xt=Math.floor((lt+jt)/2);Ge=Ne[2*xt+1],(ot=Ne[2*xt])>=Ve&&ot<=xe&&Ge>=ze&&Ge<=ne&&ye.push(Ie[xt]);var pr=(Rt+1)%2;(Rt===0?Ve<=ot:ze<=Ge)&&(h.push(lt),h.push(xt-1),h.push(pr)),(Rt===0?xe>=ot:ne>=Ge)&&(h.push(xt+1),h.push(jt),h.push(pr))}}return ye}(this.ids,this.coords,Y,ie,fe,ve,this.nodeSize)},yr.prototype.within=function(Y,ie,fe){return function(ve,Ie,Ne,Ve,ze,xe){for(var ne=[0,ve.length-1,0],je=[],ot=ze*ze;ne.length;){var Ge=ne.pop(),h=ne.pop(),ye=ne.pop();if(h-ye<=xe)for(var Rt=ye;Rt<=h;Rt++)pe(Ie[2*Rt],Ie[2*Rt+1],Ne,Ve)<=ot&&je.push(ve[Rt]);else{var jt=Math.floor((ye+h)/2),lt=Ie[2*jt],Mt=Ie[2*jt+1];pe(lt,Mt,Ne,Ve)<=ot&&je.push(ve[jt]);var xt=(Ge+1)%2;(Ge===0?Ne-ze<=lt:Ve-ze<=Mt)&&(ne.push(ye),ne.push(jt-1),ne.push(xt)),(Ge===0?Ne+ze>=lt:Ve+ze>=Mt)&&(ne.push(jt+1),ne.push(h),ne.push(xt))}}return je}(this.ids,this.coords,Y,ie,fe,this.nodeSize)};var hr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Y){return Y}},Sr=function(Y){this.options=mi(Object.create(hr),Y),this.trees=new Array(this.options.maxZoom+1)};function Ur(Y,ie,fe,ve,Ie){return{x:Y,y:ie,zoom:1/0,id:fe,parentId:-1,numPoints:ve,properties:Ie}}function Dr(Y,ie){var fe=Y.geometry.coordinates,ve=fe[1];return{x:Fi(fe[0]),y:jr(ve),zoom:1/0,index:ie,parentId:-1}}function Xn(Y){return{type:"Feature",id:Y.id,properties:jn(Y),geometry:{type:"Point",coordinates:[(ve=Y.x,360*(ve-.5)),(ie=Y.y,fe=(180-360*ie)*Math.PI/180,360*Math.atan(Math.exp(fe))/Math.PI-90)]}};var ie,fe,ve}function jn(Y){var ie=Y.numPoints,fe=ie>=1e4?Math.round(ie/1e3)+"k":ie>=1e3?Math.round(ie/100)/10+"k":ie;return mi(mi({},Y.properties),{cluster:!0,cluster_id:Y.id,point_count:ie,point_count_abbreviated:fe})}function Fi(Y){return Y/360+.5}function jr(Y){var ie=Math.sin(Y*Math.PI/180),fe=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return fe<0?0:fe>1?1:fe}function mi(Y,ie){for(var fe in ie)Y[fe]=ie[fe];return Y}function gi(Y){return Y.x}function Qo(Y){return Y.y}function Bi(Y,ie,fe,ve,Ie,Ne){var Ve=Ie-fe,ze=Ne-ve;if(Ve!==0||ze!==0){var xe=((Y-fe)*Ve+(ie-ve)*ze)/(Ve*Ve+ze*ze);xe>1?(fe=Ie,ve=Ne):xe>0&&(fe+=Ve*xe,ve+=ze*xe)}return(Ve=Y-fe)*Ve+(ze=ie-ve)*ze}function Wi(Y,ie,fe,ve){var Ie={id:Y===void 0?null:Y,type:ie,geometry:fe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ne){var Ve=Ne.geometry,ze=Ne.type;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")ws(Ne,Ve);else if(ze==="Polygon"||ze==="MultiLineString")for(var xe=0;xe<Ve.length;xe++)ws(Ne,Ve[xe]);else if(ze==="MultiPolygon")for(xe=0;xe<Ve.length;xe++)for(var ne=0;ne<Ve[xe].length;ne++)ws(Ne,Ve[xe][ne])}(Ie),Ie}function ws(Y,ie){for(var fe=0;fe<ie.length;fe+=3)Y.minX=Math.min(Y.minX,ie[fe]),Y.minY=Math.min(Y.minY,ie[fe+1]),Y.maxX=Math.max(Y.maxX,ie[fe]),Y.maxY=Math.max(Y.maxY,ie[fe+1])}function io(Y,ie,fe,ve){if(ie.geometry){var Ie=ie.geometry.coordinates,Ne=ie.geometry.type,Ve=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),ze=[],xe=ie.id;if(fe.promoteId?xe=ie.properties[fe.promoteId]:fe.generateId&&(xe=ve||0),Ne==="Point")Qn(Ie,ze);else if(Ne==="MultiPoint")for(var ne=0;ne<Ie.length;ne++)Qn(Ie[ne],ze);else if(Ne==="LineString")Lo(Ie,ze,Ve,!1);else if(Ne==="MultiLineString"){if(fe.lineMetrics){for(ne=0;ne<Ie.length;ne++)Lo(Ie[ne],ze=[],Ve,!1),Y.push(Wi(xe,"LineString",ze,ie.properties));return}oo(Ie,ze,Ve,!1)}else if(Ne==="Polygon")oo(Ie,ze,Ve,!0);else{if(Ne!=="MultiPolygon"){if(Ne==="GeometryCollection"){for(ne=0;ne<ie.geometry.geometries.length;ne++)io(Y,{id:xe,geometry:ie.geometry.geometries[ne],properties:ie.properties},fe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ne=0;ne<Ie.length;ne++){var je=[];oo(Ie[ne],je,Ve,!0),ze.push(je)}}Y.push(Wi(xe,Ne,ze,ie.properties))}}function Qn(Y,ie){ie.push(bi(Y[0])),ie.push(Do(Y[1])),ie.push(0)}function Lo(Y,ie,fe,ve){for(var Ie,Ne,Ve=0,ze=0;ze<Y.length;ze++){var xe=bi(Y[ze][0]),ne=Do(Y[ze][1]);ie.push(xe),ie.push(ne),ie.push(0),ze>0&&(Ve+=ve?(Ie*ne-xe*Ne)/2:Math.sqrt(Math.pow(xe-Ie,2)+Math.pow(ne-Ne,2))),Ie=xe,Ne=ne}var je=ie.length-3;ie[2]=1,function ot(Ge,h,ye,Rt){for(var jt,lt=Rt,Mt=ye-h>>1,xt=ye-h,pr=Ge[h],ur=Ge[h+1],qt=Ge[ye],An=Ge[ye+1],Xr=h+3;Xr<ye;Xr+=3){var Ln=Bi(Ge[Xr],Ge[Xr+1],pr,ur,qt,An);if(Ln>lt)jt=Xr,lt=Ln;else if(Ln===lt){var dn=Math.abs(Xr-Mt);dn<xt&&(jt=Xr,xt=dn)}}lt>Rt&&(jt-h>3&&ot(Ge,h,jt,Rt),Ge[jt+2]=lt,ye-jt>3&&ot(Ge,jt,ye,Rt))}(ie,0,je,fe),ie[je+2]=1,ie.size=Math.abs(Ve),ie.start=0,ie.end=ie.size}function oo(Y,ie,fe,ve){for(var Ie=0;Ie<Y.length;Ie++){var Ne=[];Lo(Y[Ie],Ne,fe,ve),ie.push(Ne)}}function bi(Y){return Y/360+.5}function Do(Y){var ie=Math.sin(Y*Math.PI/180),fe=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return fe<0?0:fe>1?1:fe}function sa(Y,ie,fe,ve,Ie,Ne,Ve,ze){if(ve/=ie,Ne>=(fe/=ie)&&Ve<ve)return Y;if(Ve<fe||Ne>=ve)return null;for(var xe=[],ne=0;ne<Y.length;ne++){var je=Y[ne],ot=je.geometry,Ge=je.type,h=Ie===0?je.minX:je.minY,ye=Ie===0?je.maxX:je.maxY;if(h>=fe&&ye<ve)xe.push(je);else if(!(ye<fe||h>=ve)){var Rt=[];if(Ge==="Point"||Ge==="MultiPoint")gt(ot,Rt,fe,ve,Ie);else if(Ge==="LineString")be(ot,Rt,fe,ve,Ie,!1,ze.lineMetrics);else if(Ge==="MultiLineString")kt(ot,Rt,fe,ve,Ie,!1);else if(Ge==="Polygon")kt(ot,Rt,fe,ve,Ie,!0);else if(Ge==="MultiPolygon")for(var jt=0;jt<ot.length;jt++){var lt=[];kt(ot[jt],lt,fe,ve,Ie,!0),lt.length&&Rt.push(lt)}if(Rt.length){if(ze.lineMetrics&&Ge==="LineString"){for(jt=0;jt<Rt.length;jt++)xe.push(Wi(je.id,Ge,Rt[jt],je.tags));continue}Ge!=="LineString"&&Ge!=="MultiLineString"||(Rt.length===1?(Ge="LineString",Rt=Rt[0]):Ge="MultiLineString"),Ge!=="Point"&&Ge!=="MultiPoint"||(Ge=Rt.length===3?"Point":"MultiPoint"),xe.push(Wi(je.id,Ge,Rt,je.tags))}}}return xe.length?xe:null}function gt(Y,ie,fe,ve,Ie){for(var Ne=0;Ne<Y.length;Ne+=3){var Ve=Y[Ne+Ie];Ve>=fe&&Ve<=ve&&(ie.push(Y[Ne]),ie.push(Y[Ne+1]),ie.push(Y[Ne+2]))}}function be(Y,ie,fe,ve,Ie,Ne,Ve){for(var ze,xe,ne=Ye(Y),je=Ie===0?Hr:In,ot=Y.start,Ge=0;Ge<Y.length-3;Ge+=3){var h=Y[Ge],ye=Y[Ge+1],Rt=Y[Ge+2],jt=Y[Ge+3],lt=Y[Ge+4],Mt=Ie===0?h:ye,xt=Ie===0?jt:lt,pr=!1;Ve&&(ze=Math.sqrt(Math.pow(h-jt,2)+Math.pow(ye-lt,2))),Mt<fe?xt>fe&&(xe=je(ne,h,ye,jt,lt,fe),Ve&&(ne.start=ot+ze*xe)):Mt>ve?xt<ve&&(xe=je(ne,h,ye,jt,lt,ve),Ve&&(ne.start=ot+ze*xe)):or(ne,h,ye,Rt),xt<fe&&Mt>=fe&&(xe=je(ne,h,ye,jt,lt,fe),pr=!0),xt>ve&&Mt<=ve&&(xe=je(ne,h,ye,jt,lt,ve),pr=!0),!Ne&&pr&&(Ve&&(ne.end=ot+ze*xe),ie.push(ne),ne=Ye(Y)),Ve&&(ot+=ze)}var ur=Y.length-3;h=Y[ur],ye=Y[ur+1],Rt=Y[ur+2],(Mt=Ie===0?h:ye)>=fe&&Mt<=ve&&or(ne,h,ye,Rt),ur=ne.length-3,Ne&&ur>=3&&(ne[ur]!==ne[0]||ne[ur+1]!==ne[1])&&or(ne,ne[0],ne[1],ne[2]),ne.length&&ie.push(ne)}function Ye(Y){var ie=[];return ie.size=Y.size,ie.start=Y.start,ie.end=Y.end,ie}function kt(Y,ie,fe,ve,Ie,Ne){for(var Ve=0;Ve<Y.length;Ve++)be(Y[Ve],ie,fe,ve,Ie,Ne,!1)}function or(Y,ie,fe,ve){Y.push(ie),Y.push(fe),Y.push(ve)}function Hr(Y,ie,fe,ve,Ie,Ne){var Ve=(Ne-ie)/(ve-ie);return Y.push(Ne),Y.push(fe+(Ie-fe)*Ve),Y.push(1),Ve}function In(Y,ie,fe,ve,Ie,Ne){var Ve=(Ne-fe)/(Ie-fe);return Y.push(ie+(ve-ie)*Ve),Y.push(Ne),Y.push(1),Ve}function Or(Y,ie){for(var fe=[],ve=0;ve<Y.length;ve++){var Ie,Ne=Y[ve],Ve=Ne.type;if(Ve==="Point"||Ve==="MultiPoint"||Ve==="LineString")Ie=en(Ne.geometry,ie);else if(Ve==="MultiLineString"||Ve==="Polygon"){Ie=[];for(var ze=0;ze<Ne.geometry.length;ze++)Ie.push(en(Ne.geometry[ze],ie))}else if(Ve==="MultiPolygon")for(Ie=[],ze=0;ze<Ne.geometry.length;ze++){for(var xe=[],ne=0;ne<Ne.geometry[ze].length;ne++)xe.push(en(Ne.geometry[ze][ne],ie));Ie.push(xe)}fe.push(Wi(Ne.id,Ve,Ie,Ne.tags))}return fe}function en(Y,ie){var fe=[];fe.size=Y.size,Y.start!==void 0&&(fe.start=Y.start,fe.end=Y.end);for(var ve=0;ve<Y.length;ve+=3)fe.push(Y[ve]+ie,Y[ve+1],Y[ve+2]);return fe}function $n(Y,ie){if(Y.transformed)return Y;var fe,ve,Ie,Ne=1<<Y.z,Ve=Y.x,ze=Y.y;for(fe=0;fe<Y.features.length;fe++){var xe=Y.features[fe],ne=xe.geometry,je=xe.type;if(xe.geometry=[],je===1)for(ve=0;ve<ne.length;ve+=2)xe.geometry.push(Yn(ne[ve],ne[ve+1],ie,Ne,Ve,ze));else for(ve=0;ve<ne.length;ve++){var ot=[];for(Ie=0;Ie<ne[ve].length;Ie+=2)ot.push(Yn(ne[ve][Ie],ne[ve][Ie+1],ie,Ne,Ve,ze));xe.geometry.push(ot)}}return Y.transformed=!0,Y}function Yn(Y,ie,fe,ve,Ie,Ne){return[Math.round(fe*(Y*ve-Ie)),Math.round(fe*(ie*ve-Ne))]}function hn(Y,ie,fe,ve,Ie){for(var Ne=ie===Ie.maxZoom?0:Ie.tolerance/((1<<ie)*Ie.extent),Ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:ve,z:ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ze=0;ze<Y.length;ze++){Ve.numFeatures++,Eo(Ve,Y[ze],Ne,Ie);var xe=Y[ze].minX,ne=Y[ze].minY,je=Y[ze].maxX,ot=Y[ze].maxY;xe<Ve.minX&&(Ve.minX=xe),ne<Ve.minY&&(Ve.minY=ne),je>Ve.maxX&&(Ve.maxX=je),ot>Ve.maxY&&(Ve.maxY=ot)}return Ve}function Eo(Y,ie,fe,ve){var Ie=ie.geometry,Ne=ie.type,Ve=[];if(Ne==="Point"||Ne==="MultiPoint")for(var ze=0;ze<Ie.length;ze+=3)Ve.push(Ie[ze]),Ve.push(Ie[ze+1]),Y.numPoints++,Y.numSimplified++;else if(Ne==="LineString")Jn(Ve,Ie,Y,fe,!1,!1);else if(Ne==="MultiLineString"||Ne==="Polygon")for(ze=0;ze<Ie.length;ze++)Jn(Ve,Ie[ze],Y,fe,Ne==="Polygon",ze===0);else if(Ne==="MultiPolygon")for(var xe=0;xe<Ie.length;xe++){var ne=Ie[xe];for(ze=0;ze<ne.length;ze++)Jn(Ve,ne[ze],Y,fe,!0,ze===0)}if(Ve.length){var je=ie.tags||null;if(Ne==="LineString"&&ve.lineMetrics){for(var ot in je={},ie.tags)je[ot]=ie.tags[ot];je.mapbox_clip_start=Ie.start/Ie.size,je.mapbox_clip_end=Ie.end/Ie.size}var Ge={geometry:Ve,type:Ne==="Polygon"||Ne==="MultiPolygon"?3:Ne==="LineString"||Ne==="MultiLineString"?2:1,tags:je};ie.id!==null&&(Ge.id=ie.id),Y.features.push(Ge)}}function Jn(Y,ie,fe,ve,Ie,Ne){var Ve=ve*ve;if(ve>0&&ie.size<(Ie?Ve:ve))fe.numPoints+=ie.length/3;else{for(var ze=[],xe=0;xe<ie.length;xe+=3)(ve===0||ie[xe+2]>Ve)&&(fe.numSimplified++,ze.push(ie[xe]),ze.push(ie[xe+1])),fe.numPoints++;Ie&&function(ne,je){for(var ot=0,Ge=0,h=ne.length,ye=h-2;Ge<h;ye=Ge,Ge+=2)ot+=(ne[Ge]-ne[ye])*(ne[Ge+1]+ne[ye+1]);if(ot>0===je)for(Ge=0,h=ne.length;Ge<h/2;Ge+=2){var Rt=ne[Ge],jt=ne[Ge+1];ne[Ge]=ne[h-2-Ge],ne[Ge+1]=ne[h-1-Ge],ne[h-2-Ge]=Rt,ne[h-1-Ge]=jt}}(ze,Ne),Y.push(ze)}}function ua(Y,ie){var fe=(ie=this.options=function(Ie,Ne){for(var Ve in Ne)Ie[Ve]=Ne[Ve];return Ie}(Object.create(this.options),ie)).debug;if(fe&&console.time("preprocess data"),ie.maxZoom<0||ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ie.promoteId&&ie.generateId)throw new Error("promoteId and generateId cannot be used together.");var ve=function(Ie,Ne){var Ve=[];if(Ie.type==="FeatureCollection")for(var ze=0;ze<Ie.features.length;ze++)io(Ve,Ie.features[ze],Ne,ze);else io(Ve,Ie.type==="Feature"?Ie:{geometry:Ie},Ne);return Ve}(Y,ie);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ie.indexMaxZoom,ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ve=function(Ie,Ne){var Ve=Ne.buffer/Ne.extent,ze=Ie,xe=sa(Ie,1,-1-Ve,Ve,0,-1,2,Ne),ne=sa(Ie,1,1-Ve,2+Ve,0,-1,2,Ne);return(xe||ne)&&(ze=sa(Ie,1,-Ve,1+Ve,0,-1,2,Ne)||[],xe&&(ze=Or(xe,1).concat(ze)),ne&&(ze=ze.concat(Or(ne,-1)))),ze}(ve,ie)).length&&this.splitTile(ve,0,0,0),fe&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ra(Y,ie,fe){return 32*((1<<Y)*fe+ie)+Y}function $t(Y,ie){var fe=Y.tileID.canonical;if(!this._geoJSONIndex)return ie(null,null);var ve=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!ve)return ie(null,null);var Ie=new he(ve.features),Ne=ut(Ie);Ne.byteOffset===0&&Ne.byteLength===Ne.buffer.byteLength||(Ne=new Uint8Array(Ne)),ie(null,{vectorTile:Ie,rawData:Ne.buffer})}Sr.prototype.load=function(Y){var ie=this.options,fe=ie.log,ve=ie.minZoom,Ie=ie.maxZoom,Ne=ie.nodeSize;fe&&console.time("total time");var Ve="prepare "+Y.length+" points";fe&&console.time(Ve),this.points=Y;for(var ze=[],xe=0;xe<Y.length;xe++)Y[xe].geometry&&ze.push(Dr(Y[xe],xe));this.trees[Ie+1]=new yr(ze,gi,Qo,Ne,Float32Array),fe&&console.timeEnd(Ve);for(var ne=Ie;ne>=ve;ne--){var je=+Date.now();ze=this._cluster(ze,ne),this.trees[ne]=new yr(ze,gi,Qo,Ne,Float32Array),fe&&console.log("z%d: %d clusters in %dms",ne,ze.length,+Date.now()-je)}return fe&&console.timeEnd("total time"),this},Sr.prototype.getClusters=function(Y,ie){var fe=((Y[0]+180)%360+360)%360-180,ve=Math.max(-90,Math.min(90,Y[1])),Ie=Y[2]===180?180:((Y[2]+180)%360+360)%360-180,Ne=Math.max(-90,Math.min(90,Y[3]));if(Y[2]-Y[0]>=360)fe=-180,Ie=180;else if(fe>Ie){var Ve=this.getClusters([fe,ve,180,Ne],ie),ze=this.getClusters([-180,ve,Ie,Ne],ie);return Ve.concat(ze)}for(var xe=this.trees[this._limitZoom(ie)],ne=[],je=0,ot=xe.range(Fi(fe),jr(Ne),Fi(Ie),jr(ve));je<ot.length;je+=1){var Ge=xe.points[ot[je]];ne.push(Ge.numPoints?Xn(Ge):this.points[Ge.index])}return ne},Sr.prototype.getChildren=function(Y){var ie=this._getOriginId(Y),fe=this._getOriginZoom(Y),ve="No cluster with the specified id.",Ie=this.trees[fe];if(!Ie)throw new Error(ve);var Ne=Ie.points[ie];if(!Ne)throw new Error(ve);for(var Ve=this.options.radius/(this.options.extent*Math.pow(2,fe-1)),ze=[],xe=0,ne=Ie.within(Ne.x,Ne.y,Ve);xe<ne.length;xe+=1){var je=Ie.points[ne[xe]];je.parentId===Y&&ze.push(je.numPoints?Xn(je):this.points[je.index])}if(ze.length===0)throw new Error(ve);return ze},Sr.prototype.getLeaves=function(Y,ie,fe){var ve=[];return this._appendLeaves(ve,Y,ie=ie||10,fe=fe||0,0),ve},Sr.prototype.getTile=function(Y,ie,fe){var ve=this.trees[this._limitZoom(Y)],Ie=Math.pow(2,Y),Ne=this.options,Ve=Ne.radius/Ne.extent,ze=(fe-Ve)/Ie,xe=(fe+1+Ve)/Ie,ne={features:[]};return this._addTileFeatures(ve.range((ie-Ve)/Ie,ze,(ie+1+Ve)/Ie,xe),ve.points,ie,fe,Ie,ne),ie===0&&this._addTileFeatures(ve.range(1-Ve/Ie,ze,1,xe),ve.points,Ie,fe,Ie,ne),ie===Ie-1&&this._addTileFeatures(ve.range(0,ze,Ve/Ie,xe),ve.points,-1,fe,Ie,ne),ne.features.length?ne:null},Sr.prototype.getClusterExpansionZoom=function(Y){for(var ie=this._getOriginZoom(Y)-1;ie<=this.options.maxZoom;){var fe=this.getChildren(Y);if(ie++,fe.length!==1)break;Y=fe[0].properties.cluster_id}return ie},Sr.prototype._appendLeaves=function(Y,ie,fe,ve,Ie){for(var Ne=0,Ve=this.getChildren(ie);Ne<Ve.length;Ne+=1){var ze=Ve[Ne],xe=ze.properties;if(xe&&xe.cluster?Ie+xe.point_count<=ve?Ie+=xe.point_count:Ie=this._appendLeaves(Y,xe.cluster_id,fe,ve,Ie):Ie<ve?Ie++:Y.push(ze),Y.length===fe)break}return Ie},Sr.prototype._addTileFeatures=function(Y,ie,fe,ve,Ie,Ne){for(var Ve=0,ze=Y;Ve<ze.length;Ve+=1){var xe=ie[ze[Ve]],ne=xe.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(xe.x*Ie-fe)),Math.round(this.options.extent*(xe.y*Ie-ve))]],tags:ne?jn(xe):this.points[xe.index].properties},ot=void 0;ne?ot=xe.id:this.options.generateId?ot=xe.index:this.points[xe.index].id&&(ot=this.points[xe.index].id),ot!==void 0&&(je.id=ot),Ne.features.push(je)}},Sr.prototype._limitZoom=function(Y){return Math.max(this.options.minZoom,Math.min(+Y,this.options.maxZoom+1))},Sr.prototype._cluster=function(Y,ie){for(var fe=[],ve=this.options,Ie=ve.reduce,Ne=ve.minPoints,Ve=ve.radius/(ve.extent*Math.pow(2,ie)),ze=0;ze<Y.length;ze++){var xe=Y[ze];if(!(xe.zoom<=ie)){xe.zoom=ie;for(var ne=this.trees[ie+1],je=ne.within(xe.x,xe.y,Ve),ot=xe.numPoints||1,Ge=ot,h=0,ye=je;h<ye.length;h+=1){var Rt=ne.points[ye[h]];Rt.zoom>ie&&(Ge+=Rt.numPoints||1)}if(Ge>=Ne){for(var jt=xe.x*ot,lt=xe.y*ot,Mt=Ie&&ot>1?this._map(xe,!0):null,xt=(ze<<5)+(ie+1)+this.points.length,pr=0,ur=je;pr<ur.length;pr+=1){var qt=ne.points[ur[pr]];if(!(qt.zoom<=ie)){qt.zoom=ie;var An=qt.numPoints||1;jt+=qt.x*An,lt+=qt.y*An,qt.parentId=xt,Ie&&(Mt||(Mt=this._map(xe,!0)),Ie(Mt,this._map(qt)))}}xe.parentId=xt,fe.push(Ur(jt/Ge,lt/Ge,xt,Ge,Mt))}else if(fe.push(xe),Ge>1)for(var Xr=0,Ln=je;Xr<Ln.length;Xr+=1){var dn=ne.points[Ln[Xr]];dn.zoom<=ie||(dn.zoom=ie,fe.push(dn))}}}return fe},Sr.prototype._getOriginId=function(Y){return Y-this.points.length>>5},Sr.prototype._getOriginZoom=function(Y){return(Y-this.points.length)%32},Sr.prototype._map=function(Y,ie){if(Y.numPoints)return ie?mi({},Y.properties):Y.properties;var fe=this.points[Y.index].properties,ve=this.options.map(fe);return ie&&ve===fe?mi({},ve):ve},ua.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ua.prototype.splitTile=function(Y,ie,fe,ve,Ie,Ne,Ve){for(var ze=[Y,ie,fe,ve],xe=this.options,ne=xe.debug;ze.length;){ve=ze.pop(),fe=ze.pop(),ie=ze.pop(),Y=ze.pop();var je=1<<ie,ot=Ra(ie,fe,ve),Ge=this.tiles[ot];if(!Ge&&(ne>1&&console.time("creation"),Ge=this.tiles[ot]=hn(Y,ie,fe,ve,xe),this.tileCoords.push({z:ie,x:fe,y:ve}),ne)){ne>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ie,fe,ve,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var h="z"+ie;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(Ge.source=Y,Ie){if(ie===xe.maxZoom||ie===Ie)continue;var ye=1<<Ie-ie;if(fe!==Math.floor(Ne/ye)||ve!==Math.floor(Ve/ye))continue}else if(ie===xe.indexMaxZoom||Ge.numPoints<=xe.indexMaxPoints)continue;if(Ge.source=null,Y.length!==0){ne>1&&console.time("clipping");var Rt,jt,lt,Mt,xt,pr,ur=.5*xe.buffer/xe.extent,qt=.5-ur,An=.5+ur,Xr=1+ur;Rt=jt=lt=Mt=null,xt=sa(Y,je,fe-ur,fe+An,0,Ge.minX,Ge.maxX,xe),pr=sa(Y,je,fe+qt,fe+Xr,0,Ge.minX,Ge.maxX,xe),Y=null,xt&&(Rt=sa(xt,je,ve-ur,ve+An,1,Ge.minY,Ge.maxY,xe),jt=sa(xt,je,ve+qt,ve+Xr,1,Ge.minY,Ge.maxY,xe),xt=null),pr&&(lt=sa(pr,je,ve-ur,ve+An,1,Ge.minY,Ge.maxY,xe),Mt=sa(pr,je,ve+qt,ve+Xr,1,Ge.minY,Ge.maxY,xe),pr=null),ne>1&&console.timeEnd("clipping"),ze.push(Rt||[],ie+1,2*fe,2*ve),ze.push(jt||[],ie+1,2*fe,2*ve+1),ze.push(lt||[],ie+1,2*fe+1,2*ve),ze.push(Mt||[],ie+1,2*fe+1,2*ve+1)}}},ua.prototype.getTile=function(Y,ie,fe){var ve=this.options,Ie=ve.extent,Ne=ve.debug;if(Y<0||Y>24)return null;var Ve=1<<Y,ze=Ra(Y,ie=(ie%Ve+Ve)%Ve,fe);if(this.tiles[ze])return $n(this.tiles[ze],Ie);Ne>1&&console.log("drilling down to z%d-%d-%d",Y,ie,fe);for(var xe,ne=Y,je=ie,ot=fe;!xe&&ne>0;)ne--,je=Math.floor(je/2),ot=Math.floor(ot/2),xe=this.tiles[Ra(ne,je,ot)];return xe&&xe.source?(Ne>1&&console.log("found parent tile z%d-%d-%d",ne,je,ot),Ne>1&&console.time("drilling down"),this.splitTile(xe.source,ne,je,ot,Y,ie,fe),Ne>1&&console.timeEnd("drilling down"),this.tiles[ze]?$n(this.tiles[ze],Ie):null):null};var Ei=function(Y){function ie(fe,ve,Ie,Ne){Y.call(this,fe,ve,Ie,$t),Ne&&(this.loadGeoJSON=Ne)}return Y&&(ie.__proto__=Y),(ie.prototype=Object.create(Y&&Y.prototype)).constructor=ie,ie.prototype.loadData=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ve,this._pendingLoadDataParams=fe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ie.prototype._loadData=function(){var fe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ve=this._pendingCallback,Ie=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ne=!!(Ie&&Ie.request&&Ie.request.collectResourceTiming)&&new a.RequestPerformance(Ie.request);this.loadGeoJSON(Ie,function(Ve,ze){if(Ve||!ze)return ve(Ve);if(typeof ze!="object")return ve(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."));(function Ge(h,ye){var Rt,jt=h&&h.type;if(jt==="FeatureCollection")for(Rt=0;Rt<h.features.length;Rt++)Ge(h.features[Rt],ye);else if(jt==="GeometryCollection")for(Rt=0;Rt<h.geometries.length;Rt++)Ge(h.geometries[Rt],ye);else if(jt==="Feature")Ge(h.geometry,ye);else if(jt==="Polygon")V(h.coordinates,ye);else if(jt==="MultiPolygon")for(Rt=0;Rt<h.coordinates.length;Rt++)V(h.coordinates[Rt],ye);return h})(ze,!0);try{if(Ie.filter){var xe=a.createExpression(Ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var ne=ze.features.filter(function(Ge){return xe.value.evaluate({zoom:0},Ge)});ze={type:"FeatureCollection",features:ne}}fe._geoJSONIndex=Ie.cluster?new Sr(function(Ge){var h=Ge.superclusterOptions,ye=Ge.clusterProperties;if(!ye||!h)return h;for(var Rt={},jt={},lt={accumulated:null,zoom:0},Mt={properties:null},xt=Object.keys(ye),pr=0,ur=xt;pr<ur.length;pr+=1){var qt=ur[pr],An=ye[qt],Xr=An[0],Ln=a.createExpression(An[1]),dn=a.createExpression(typeof Xr=="string"?[Xr,["accumulated"],["get",qt]]:Xr);Rt[qt]=Ln.value,jt[qt]=dn.value}return h.map=function(an){Mt.properties=an;for(var gn={},hi=0,xn=xt;hi<xn.length;hi+=1){var Kt=xn[hi];gn[Kt]=Rt[Kt].evaluate(lt,Mt)}return gn},h.reduce=function(an,gn){Mt.properties=gn;for(var hi=0,xn=xt;hi<xn.length;hi+=1){var Kt=xn[hi];lt.accumulated=an[Kt],an[Kt]=jt[Kt].evaluate(lt,Mt)}},h}(Ie)).load(ze.features):function(Ge,h){return new ua(Ge,h)}(ze,Ie.geojsonVtOptions)}catch(Ge){return ve(Ge)}fe.loaded={};var je={};if(Ne){var ot=Ne.finish();ot&&(je.resourceTiming={},je.resourceTiming[Ie.source]=JSON.parse(JSON.stringify(ot)))}ve(null,je)})}},ie.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ie.prototype.reloadTile=function(fe,ve){var Ie=this.loaded;return Ie&&Ie[fe.uid]?Y.prototype.reloadTile.call(this,fe,ve):this.loadTile(fe,ve)},ie.prototype.loadGeoJSON=function(fe,ve){if(fe.request)a.getJSON(fe.request,ve);else{if(typeof fe.data!="string")return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."));try{return ve(null,JSON.parse(fe.data))}catch{return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."))}}},ie.prototype.removeSource=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ve()},ie.prototype.getClusterExpansionZoom=function(fe,ve){try{ve(null,this._geoJSONIndex.getClusterExpansionZoom(fe.clusterId))}catch(Ie){ve(Ie)}},ie.prototype.getClusterChildren=function(fe,ve){try{ve(null,this._geoJSONIndex.getChildren(fe.clusterId))}catch(Ie){ve(Ie)}},ie.prototype.getClusterLeaves=function(fe,ve){try{ve(null,this._geoJSONIndex.getLeaves(fe.clusterId,fe.limit,fe.offset))}catch(Ie){ve(Ie)}},ie}(Z),zn=function(Y){var ie=this;this.self=Y,this.actor=new a.Actor(Y,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Z,geojson:Ei},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(fe,ve){if(ie.workerSourceTypes[fe])throw new Error('Worker source with name "'+fe+'" already registered.');ie.workerSourceTypes[fe]=ve},this.self.registerRTLTextPlugin=function(fe){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=fe.applyArabicShaping,a.plugin.processBidirectionalText=fe.processBidirectionalText,a.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}};return zn.prototype.setReferrer=function(Y,ie){this.referrer=ie},zn.prototype.setImages=function(Y,ie,fe){for(var ve in this.availableImages[Y]=ie,this.workerSources[Y]){var Ie=this.workerSources[Y][ve];for(var Ne in Ie)Ie[Ne].availableImages=ie}fe()},zn.prototype.setLayers=function(Y,ie,fe){this.getLayerIndex(Y).replace(ie),fe()},zn.prototype.updateLayers=function(Y,ie,fe){this.getLayerIndex(Y).update(ie.layers,ie.removedIds),fe()},zn.prototype.loadTile=function(Y,ie,fe){this.getWorkerSource(Y,ie.type,ie.source).loadTile(ie,fe)},zn.prototype.loadDEMTile=function(Y,ie,fe){this.getDEMWorkerSource(Y,ie.source).loadTile(ie,fe)},zn.prototype.reloadTile=function(Y,ie,fe){this.getWorkerSource(Y,ie.type,ie.source).reloadTile(ie,fe)},zn.prototype.abortTile=function(Y,ie,fe){this.getWorkerSource(Y,ie.type,ie.source).abortTile(ie,fe)},zn.prototype.removeTile=function(Y,ie,fe){this.getWorkerSource(Y,ie.type,ie.source).removeTile(ie,fe)},zn.prototype.removeDEMTile=function(Y,ie){this.getDEMWorkerSource(Y,ie.source).removeTile(ie)},zn.prototype.removeSource=function(Y,ie,fe){if(this.workerSources[Y]&&this.workerSources[Y][ie.type]&&this.workerSources[Y][ie.type][ie.source]){var ve=this.workerSources[Y][ie.type][ie.source];delete this.workerSources[Y][ie.type][ie.source],ve.removeSource!==void 0?ve.removeSource(ie,fe):fe()}},zn.prototype.loadWorkerSource=function(Y,ie,fe){try{this.self.importScripts(ie.url),fe()}catch(ve){fe(ve.toString())}},zn.prototype.syncRTLPluginState=function(Y,ie,fe){try{a.plugin.setState(ie);var ve=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ve!=null){this.self.importScripts(ve);var Ie=a.plugin.isParsed();fe(Ie?void 0:new Error("RTL Text Plugin failed to import scripts from "+ve),Ie)}}catch(Ne){fe(Ne.toString())}},zn.prototype.getAvailableImages=function(Y){var ie=this.availableImages[Y];return ie||(ie=[]),ie},zn.prototype.getLayerIndex=function(Y){var ie=this.layerIndexes[Y];return ie||(ie=this.layerIndexes[Y]=new P),ie},zn.prototype.getWorkerSource=function(Y,ie,fe){var ve=this;return this.workerSources[Y]||(this.workerSources[Y]={}),this.workerSources[Y][ie]||(this.workerSources[Y][ie]={}),this.workerSources[Y][ie][fe]||(this.workerSources[Y][ie][fe]=new this.workerSourceTypes[ie]({send:function(Ie,Ne,Ve){ve.actor.send(Ie,Ne,Ve,Y)}},this.getLayerIndex(Y),this.getAvailableImages(Y))),this.workerSources[Y][ie][fe]},zn.prototype.getDEMWorkerSource=function(Y,ie){return this.demWorkerSources[Y]||(this.demWorkerSources[Y]={}),this.demWorkerSources[Y][ie]||(this.demWorkerSources[Y][ie]=new ae),this.demWorkerSources[Y][ie]},zn.prototype.enforceCacheSizeLimit=function(Y,ie){a.enforceCacheSizeLimit(ie)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new zn(self)),zn}),u(["./shared"],function(a){var x=a.createCommonjsModule(function(c){function p(E){return!f(E)}function f(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var D,U,q=new Blob([""],{type:"text/javascript"}),te=URL.createObjectURL(q);try{U=new Worker(te),D=!0}catch{D=!1}return U&&U.terminate(),URL.revokeObjectURL(te),D}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var D=document.createElement("canvas");D.width=D.height=1;var U=D.getContext("2d");if(!U)return!1;var q=U.getImageData(0,0,1,1);return q&&q.width===D.width}()?(y[M=E&&E.failIfMajorPerformanceCaveat]===void 0&&(y[M]=function(D){var U=function(te){var de=document.createElement("canvas"),_e=Object.create(p.webGLContextAttributes);return _e.failIfMajorPerformanceCaveat=te,de.probablySupportsContext?de.probablySupportsContext("webgl",_e)||de.probablySupportsContext("experimental-webgl",_e):de.supportsContext?de.supportsContext("webgl",_e)||de.supportsContext("experimental-webgl",_e):de.getContext("webgl",_e)||de.getContext("experimental-webgl",_e)}(D);if(!U)return!1;var q=U.createShader(U.VERTEX_SHADER);return!(!q||U.isContextLost())&&(U.shaderSource(q,"void main() {}"),U.compileShader(q),U.getShaderParameter(q,U.COMPILE_STATUS)===!0)}(M)),y[M]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var M}c.exports?c.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=f);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),S={create:function(c,p,f){var y=a.window.document.createElement(c);return p!==void 0&&(y.className=p),f&&f.appendChild(y),y},createNS:function(c,p){return a.window.document.createElementNS(c,p)}},P=a.window.document&&a.window.document.documentElement.style;function R(c){if(!P)return c[0];for(var p=0;p<c.length;p++)if(c[p]in P)return c[p];return c[0]}var z,N=R(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);S.disableDrag=function(){P&&N&&(z=P[N],P[N]="none")},S.enableDrag=function(){P&&N&&(P[N]=z)};var $=R(["transform","WebkitTransform"]);S.setTransform=function(c,p){c.style[$]=p};var Z=!1;try{var J=Object.defineProperty({},"passive",{get:function(){Z=!0}});a.window.addEventListener("test",J,J),a.window.removeEventListener("test",J,J)}catch{Z=!1}S.addEventListener=function(c,p,f,y){y===void 0&&(y={}),c.addEventListener(p,f,"passive"in y&&Z?y:y.capture)},S.removeEventListener=function(c,p,f,y){y===void 0&&(y={}),c.removeEventListener(p,f,"passive"in y&&Z?y:y.capture)};var ae=function(c){c.preventDefault(),c.stopPropagation(),a.window.removeEventListener("click",ae,!0)};function V(c){var p=c.userImage;return!!(p&&p.render&&p.render())&&(c.data.replace(new Uint8Array(p.data.buffer)),!0)}S.suppressClick=function(){a.window.addEventListener("click",ae,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",ae,!0)},0)},S.mousePos=function(c,p){var f=c.getBoundingClientRect();return new a.Point(p.clientX-f.left-c.clientLeft,p.clientY-f.top-c.clientTop)},S.touchPos=function(c,p){for(var f=c.getBoundingClientRect(),y=[],E=0;E<p.length;E++)y.push(new a.Point(p[E].clientX-f.left-c.clientLeft,p[E].clientY-f.top-c.clientTop));return y},S.mouseButton=function(c){return a.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},S.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var K=function(c){function p(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(f){if(this.loaded!==f&&(this.loaded=f,f)){for(var y=0,E=this.requestors;y<E.length;y+=1){var M=E[y];this._notify(M.ids,M.callback)}this.requestors=[]}},p.prototype.getImage=function(f){return this.images[f]},p.prototype.addImage=function(f,y){this._validate(f,y)&&(this.images[f]=y)},p.prototype._validate=function(f,y){var E=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchY" value'))),E=!1),this._validateContent(y.content,y)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "content" value'))),E=!1),E},p.prototype._validateStretch=function(f,y){if(!f)return!0;for(var E=0,M=0,D=f;M<D.length;M+=1){var U=D[M];if(U[0]<E||U[1]<U[0]||y<U[1])return!1;E=U[1]}return!0},p.prototype._validateContent=function(f,y){return!(f&&(f.length!==4||f[0]<0||y.data.width<f[0]||f[1]<0||y.data.height<f[1]||f[2]<0||y.data.width<f[2]||f[3]<0||y.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))},p.prototype.updateImage=function(f,y){y.version=this.images[f].version+1,this.images[f]=y,this.updatedImages[f]=!0},p.prototype.removeImage=function(f){var y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(f,y){var E=!0;if(!this.isLoaded())for(var M=0,D=f;M<D.length;M+=1)this.images[D[M]]||(E=!1);this.isLoaded()||E?this._notify(f,y):this.requestors.push({ids:f,callback:y})},p.prototype._notify=function(f,y){for(var E={},M=0,D=f;M<D.length;M+=1){var U=D[M];this.images[U]||this.fire(new a.Event("styleimagemissing",{id:U}));var q=this.images[U];q?E[U]={data:q.data.clone(),pixelRatio:q.pixelRatio,sdf:q.sdf,version:q.version,stretchX:q.stretchX,stretchY:q.stretchY,content:q.content,hasRenderCallback:Boolean(q.userImage&&q.userImage.render)}:a.warnOnce('Image "'+U+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,E)},p.prototype.getPixelSize=function(){var f=this.atlasImage;return{width:f.width,height:f.height}},p.prototype.getPattern=function(f){var y=this.patterns[f],E=this.getImage(f);if(!E)return null;if(y&&y.position.version===E.version)return y.position;if(y)y.position.version=E.version;else{var M={w:E.data.width+2,h:E.data.height+2,x:0,y:0},D=new a.ImagePosition(M,E);this.patterns[f]={bin:M,position:D}}return this._updatePatternAtlas(),this.patterns[f].position},p.prototype.bind=function(f){var y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var f=[];for(var y in this.patterns)f.push(this.patterns[y].bin);var E=a.potpack(f),M=E.w,D=E.h,U=this.atlasImage;for(var q in U.resize({width:M||1,height:D||1}),this.patterns){var te=this.patterns[q].bin,de=te.x+1,_e=te.y+1,me=this.images[q].data,Me=me.width,Pe=me.height;a.RGBAImage.copy(me,U,{x:0,y:0},{x:de,y:_e},{width:Me,height:Pe}),a.RGBAImage.copy(me,U,{x:0,y:Pe-1},{x:de,y:_e-1},{width:Me,height:1}),a.RGBAImage.copy(me,U,{x:0,y:0},{x:de,y:_e+Pe},{width:Me,height:1}),a.RGBAImage.copy(me,U,{x:Me-1,y:0},{x:de-1,y:_e},{width:1,height:Pe}),a.RGBAImage.copy(me,U,{x:0,y:0},{x:de+Me,y:_e},{width:1,height:Pe})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(f){for(var y=0,E=f;y<E.length;y+=1){var M=E[y];if(!this.callbackDispatchedThisFrame[M]){this.callbackDispatchedThisFrame[M]=!0;var D=this.images[M];V(D)&&this.updateImage(M,D)}}},p}(a.Evented),ue=le,ge=le,he=1e20;function le(c,p,f,y,E,M){this.fontSize=c||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=E||"sans-serif",this.fontWeight=M||"normal",this.radius=f||8;var D=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=D,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.d=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Int16Array(D),this.middle=Math.round(D/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Se(c,p,f,y,E,M,D){for(var U=0;U<p;U++){for(var q=0;q<f;q++)y[q]=c[q*p+U];for(Ce(y,E,M,D,f),q=0;q<f;q++)c[q*p+U]=E[q]}for(q=0;q<f;q++){for(U=0;U<p;U++)y[U]=c[q*p+U];for(Ce(y,E,M,D,p),U=0;U<p;U++)c[q*p+U]=Math.sqrt(E[U])}}function Ce(c,p,f,y,E){f[0]=0,y[0]=-he,y[1]=+he;for(var M=1,D=0;M<E;M++){for(var U=(c[M]+M*M-(c[f[D]]+f[D]*f[D]))/(2*M-2*f[D]);U<=y[D];)D--,U=(c[M]+M*M-(c[f[D]]+f[D]*f[D]))/(2*M-2*f[D]);f[++D]=M,y[D]=U,y[D+1]=+he}for(M=0,D=0;M<E;M++){for(;y[D+1]<M;)D++;p[M]=(M-f[D])*(M-f[D])+c[f[D]]}}le.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),f=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var E=p.data[4*y+3]/255;this.gridOuter[y]=E===1?0:E===0?he:Math.pow(Math.max(0,.5-E),2),this.gridInner[y]=E===1?he:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(Se(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Se(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)f[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return f},ue.default=ge;var He=function(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}};He.prototype.setURL=function(c){this.url=c},He.prototype.getGlyphs=function(c,p){var f=this,y=[];for(var E in c)for(var M=0,D=c[E];M<D.length;M+=1)y.push({stack:E,id:D[M]});a.asyncAll(y,function(U,q){var te=U.stack,de=U.id,_e=f.entries[te];_e||(_e=f.entries[te]={glyphs:{},requests:{},ranges:{}});var me=_e.glyphs[de];if(me===void 0){if(me=f._tinySDF(_e,te,de))return _e.glyphs[de]=me,void q(null,{stack:te,id:de,glyph:me});var Me=Math.floor(de/256);if(256*Me>65535)q(new Error("glyphs > 65535 not supported"));else if(_e.ranges[Me])q(null,{stack:te,id:de,glyph:me});else{var Pe=_e.requests[Me];Pe||(Pe=_e.requests[Me]=[],He.loadGlyphRange(te,Me,f.url,f.requestManager,function(Be,Te){if(Te){for(var Fe in Te)f._doesCharSupportLocalGlyph(+Fe)||(_e.glyphs[+Fe]=Te[+Fe]);_e.ranges[Me]=!0}for(var Qe=0,Je=Pe;Qe<Je.length;Qe+=1)(0,Je[Qe])(Be,Te);delete _e.requests[Me]})),Pe.push(function(Be,Te){Be?q(Be):Te&&q(null,{stack:te,id:de,glyph:Te[de]||null})})}}else q(null,{stack:te,id:de,glyph:me})},function(U,q){if(U)p(U);else if(q){for(var te={},de=0,_e=q;de<_e.length;de+=1){var me=_e[de],Me=me.stack,Pe=me.id,Be=me.glyph;(te[Me]||(te[Me]={}))[Pe]=Be&&{id:Be.id,bitmap:Be.bitmap.clone(),metrics:Be.metrics}}p(null,te)}})},He.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](c)||a.isChar["Hangul Syllables"](c)||a.isChar.Hiragana(c)||a.isChar.Katakana(c))},He.prototype._tinySDF=function(c,p,f){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(f)){var E=c.tinySDF;if(!E){var M="400";/bold/i.test(p)?M="900":/medium/i.test(p)?M="500":/light/i.test(p)&&(M="200"),E=c.tinySDF=new He.TinySDF(24,3,8,.25,y,M)}return{id:f,bitmap:new a.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(f))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},He.loadGlyphRange=function(c,p,f,y,E){var M=256*p,D=M+255,U=y.transformRequest(y.normalizeGlyphsURL(f).replace("{fontstack}",c).replace("{range}",M+"-"+D),a.ResourceType.Glyphs);a.getArrayBuffer(U,function(q,te){if(q)E(q);else if(te){for(var de={},_e=0,me=a.parseGlyphPBF(te);_e<me.length;_e+=1){var Me=me[_e];de[Me.id]=Me}E(null,de)}})},He.TinySDF=ue;var ut=function(){this.specification=a.styleSpec.light.position};ut.prototype.possiblyEvaluate=function(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))},ut.prototype.interpolate=function(c,p,f){return{x:a.number(c.x,p.x,f),y:a.number(c.y,p.y,f),z:a.number(c.z,p.z,f)}};var tt=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new ut,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),st=function(c){function p(f){c.call(this),this._transitionable=new a.Transitionable(tt),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(f,y){if(y===void 0&&(y={}),!this._validate(a.validateLight,f,y))for(var E in f){var M=f[E];a.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),M):this._transitionable.setValue(E,M)}},p.prototype.updateTransitions=function(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(f){this.properties=this._transitioning.possiblyEvaluate(f)},p.prototype._validate=function(f,y,E){return(!E||E.validate!==!1)&&a.emitValidationErrors(this,f.call(a.validateStyle,a.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},p}(a.Evented),bt=function(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};bt.prototype.getDash=function(c,p){var f=c.join(",")+String(p);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(c,p)),this.dashEntry[f]},bt.prototype.getDashRanges=function(c,p,f){var y=[],E=c.length%2==1?-c[c.length-1]*f:0,M=c[0]*f,D=!0;y.push({left:E,right:M,isDash:D,zeroLength:c[0]===0});for(var U=c[0],q=1;q<c.length;q++){var te=c[q];y.push({left:E=U*f,right:M=(U+=te)*f,isDash:D=!D,zeroLength:te===0})}return y},bt.prototype.addRoundDash=function(c,p,f){for(var y=p/2,E=-f;E<=f;E++)for(var M=this.width*(this.nextRow+f+E),D=0,U=c[D],q=0;q<this.width;q++){q/U.right>1&&(U=c[++D]);var te=Math.abs(q-U.left),de=Math.abs(q-U.right),_e=Math.min(te,de),me=void 0,Me=E/f*(y+1);if(U.isDash){var Pe=y-Math.abs(Me);me=Math.sqrt(_e*_e+Pe*Pe)}else me=y-Math.sqrt(_e*_e+Me*Me);this.data[M+q]=Math.max(0,Math.min(255,me+128))}},bt.prototype.addRegularDash=function(c){for(var p=c.length-1;p>=0;--p){var f=c[p],y=c[p+1];f.zeroLength?c.splice(p,1):y&&y.isDash===f.isDash&&(y.left=f.left,c.splice(p,1))}var E=c[0],M=c[c.length-1];E.isDash===M.isDash&&(E.left=M.left-this.width,M.right=E.right+this.width);for(var D=this.width*this.nextRow,U=0,q=c[U],te=0;te<this.width;te++){te/q.right>1&&(q=c[++U]);var de=Math.abs(te-q.left),_e=Math.abs(te-q.right),me=Math.min(de,_e);this.data[D+te]=Math.max(0,Math.min(255,(q.isDash?me:-me)+128))}},bt.prototype.addDash=function(c,p){var f=p?7:0,y=2*f+1;if(this.nextRow+y>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var E=0,M=0;M<c.length;M++)E+=c[M];if(E!==0){var D=this.width/E,U=this.getDashRanges(c,this.width,D);p?this.addRoundDash(U,D,f):this.addRegularDash(U)}var q={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:E};return this.nextRow+=y,this.dirty=!0,q},bt.prototype.bind=function(c){var p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var St=function c(p,f){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var y=this.workerPool.acquire(this.id),E=0;E<y.length;E++){var M=new c.Actor(y[E],f,this.id);M.name="Worker "+E,this.actors.push(M)}};function Qt(c,p,f){var y=function(E,M){if(E)return f(E);if(M){var D=a.pick(a.extend(M,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);M.vector_layers&&(D.vectorLayers=M.vector_layers,D.vectorLayerIds=D.vectorLayers.map(function(U){return U.id})),D.tiles=p.canonicalizeTileset(D,c.url),f(null,D)}};return c.url?a.getJSON(p.transformRequest(p.normalizeSourceURL(c.url),a.ResourceType.Source),y):a.browser.frame(function(){return y(null,c)})}St.prototype.broadcast=function(c,p,f){a.asyncAll(this.actors,function(y,E){y.send(c,p,E)},f=f||function(){})},St.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},St.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},St.Actor=a.Actor;var fr=function(c,p,f){this.bounds=a.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=f||24};fr.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},fr.prototype.contains=function(c){var p=Math.pow(2,c.z),f=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),M=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=f&&c.x<E&&c.y>=y&&c.y<M};var wr=function(c){function p(f,y,E,M){if(c.call(this),this.id=f,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(y,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(M)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Qt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new fr(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles,f.map._requestManager._customAccessToken),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken,f.map._requestManager._customAccessToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setSourceProperty=function(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(f){var y=this;return this.setSourceProperty(function(){y._options.tiles=f}),this},p.prototype.setUrl=function(f){var y=this;return this.setSourceProperty(function(){y.url=f,y._options.url=f}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),M={request:this.map._requestManager.transformRequest(E,a.ResourceType.Tile),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function D(U,q){return delete f.request,f.aborted?y(null):U&&U.status!==404?y(U):(q&&q.resourceTiming&&(f.resourceTiming=q.resourceTiming),this.map._refreshExpiredTiles&&q&&f.setExpiryData(q),f.loadVectorData(q,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}M.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired"?f.state==="loading"?f.reloadCallback=y:f.request=f.actor.send("reloadTile",M,D.bind(this)):(f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",M,D.bind(this)))},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Et=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.dispatcher=E,this.setEventedParent(M),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},y),a.extend(this,a.pick(y,["url","scheme","tileSize"]))}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Qt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new fr(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.loadTile=function(f,y){var E=this,M=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);f.request=a.getImage(this.map._requestManager.transformRequest(M,a.ResourceType.Tile),function(D,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(U){E.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var q=E.map.painter.context,te=q.gl;f.texture=E.map.painter.getTileTexture(U.width),f.texture?f.texture.update(U,{useMipmap:!0}):(f.texture=new a.Texture(q,U,te.RGBA,{useMipmap:!0}),f.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST),q.extTextureFilterAnisotropic&&te.texParameterf(te.TEXTURE_2D,q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,q.extTextureFilterAnisotropicMax)),f.state="loaded",a.cacheEntryPossiblyAdded(E.dispatcher),y(null)}})},p.prototype.abortTile=function(f,y){f.request&&(f.request.cancel(),delete f.request),y()},p.prototype.unloadTile=function(f,y){f.texture&&this.map.painter.saveTileTexture(f.texture),y()},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Ze=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function M(D,U){D&&(f.state="errored",y(D)),U&&(f.dem=U,f.needsHillshadePrepare=!0,f.state="loaded",y(null))}f.request=a.getImage(this.map._requestManager.transformRequest(E,a.ResourceType.Tile),function(D,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(U){this.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var q=a.window.ImageBitmap&&U instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?U:a.browser.getImageData(U,1),te={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:q,encoding:this.encoding};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",te,M.bind(this)))}}.bind(this)),f.neighboringTiles=this._getNeighboringTiles(f.tileID)},p.prototype._getNeighboringTiles=function(f){var y=f.canonical,E=Math.pow(2,y.z),M=(y.x-1+E)%E,D=y.x===0?f.wrap-1:f.wrap,U=(y.x+1+E)%E,q=y.x+1===E?f.wrap+1:f.wrap,te={};return te[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y).key]={backfilled:!1},te[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y).key]={backfilled:!1},y.y>0&&(te[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y-1).key]={backfilled:!1},te[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},te[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y-1).key]={backfilled:!1}),y.y+1<E&&(te[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y+1).key]={backfilled:!1},te[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},te[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y+1).key]={backfilled:!1}),te},p.prototype.unloadTile=function(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&f.actor.send("removeDEMTile",{uid:f.uid,source:this.id})},p}(Et),Oe=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(M),this._data=y.data,this._options=a.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var D=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*D,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*D,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:a.EXTENT,radius:(y.clusterRadius||50)*D,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)f.fire(new a.ErrorEvent(y));else{var E={dataType:"source",sourceDataType:"metadata"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(E.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new a.Event("data",E))}})},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setData=function(f){var y=this;return this._data=f,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)y.fire(new a.ErrorEvent(E));else{var M={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(M.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new a.Event("data",M))}}),this},p.prototype.getClusterExpansionZoom=function(f,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},y),this},p.prototype.getClusterChildren=function(f,y){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},y),this},p.prototype.getClusterLeaves=function(f,y,E,M){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:y,offset:E},M),this},p.prototype._updateWorkerData=function(f){var y=this;this._loaded=!1;var E=a.extend({},this.workerOptions),M=this._data;typeof M=="string"?(E.request=this.map._requestManager.transformRequest(a.browser.resolveURL(M),a.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(M),this.actor.send(this.type+".loadData",E,function(D,U){y._removed||U&&U.abandoned||(y._loaded=!0,U&&U.resourceTiming&&U.resourceTiming[y.id]&&(y._resourceTiming=U.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:E.source},null),f(D))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(f,y){var E=this,M=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(M,{type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(D,U){return delete f.request,f.unloadVectorData(),f.aborted?y(null):D?y(D):(f.loadVectorData(U,E.map.painter,M==="reloadTile"),y(null))})},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0},p.prototype.unloadTile=function(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(a.Evented),ee=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),pe=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.dispatcher=E,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(M),this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(f,y){var E=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(M,D){E._loaded=!0,M?E.fire(new a.ErrorEvent(M)):D&&(E.image=D,f&&(E.coordinates=f),y&&y(),E._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(f){var y=this;return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setCoordinates=function(f){var y=this;this.coordinates=f;var E=f.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(D){for(var U=1/0,q=1/0,te=-1/0,de=-1/0,_e=0,me=D;_e<me.length;_e+=1){var Me=me[_e];U=Math.min(U,Me.x),q=Math.min(q,Me.y),te=Math.max(te,Me.x),de=Math.max(de,Me.y)}var Pe=Math.max(te-U,de-q),Be=Math.max(0,Math.floor(-Math.log(Pe)/Math.LN2)),Te=Math.pow(2,Be);return new a.CanonicalTileID(Be,Math.floor((U+te)/2*Te),Math.floor((q+de)/2*Te))}(E),this.minzoom=this.maxzoom=this.tileID.z;var M=E.map(function(D){return y.tileID.getTilePoint(D)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(M[0].x,M[0].y,0,0),this._boundsArray.emplaceBack(M[1].x,M[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(M[3].x,M[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(M[2].x,M[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,ee.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var M=this.tiles[E];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture)}}},p.prototype.loadTile=function(f,y){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},y(null)):(f.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(a.Evented),yt=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),this.roundZoom=!0,this.type="video",this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1;var y=this.options;this.urls=[];for(var E=0,M=y.urls;E<M.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(M[E],a.ResourceType.Source).url);a.getVideo(this.urls,function(D,U){f._loaded=!0,D?f.fire(new a.ErrorEvent(D)):U&&(f.video=U,f.video.loop=!0,f.video.addEventListener("playing",function(){f.map.triggerRepaint()}),f.map&&f.video.play(),f._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(f){if(this.video){var y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=f}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,ee.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var M=this.tiles[E];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(pe),tr=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(D){return!Array.isArray(D)||D.length!==2||D.some(function(U){return typeof U!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,E=y.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,ee.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(y,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var D=this.tiles[M];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var f=0,y=[this.canvas.width,this.canvas.height];f<y.length;f+=1){var E=y[f];if(isNaN(E)||E<=0)return!0}return!1},p}(pe),yr={vector:wr,raster:Et,"raster-dem":Ze,geojson:Oe,video:yt,image:pe,canvas:tr};function hr(c,p){var f=a.identity([]);return a.translate(f,f,[1,1,0]),a.scale(f,f,[.5*c.width,.5*c.height,1]),a.multiply(f,f,c.calculatePosMatrix(p.toUnwrapped()))}function Sr(c,p,f,y,E,M){var D=function(Be,Te,Fe){if(Be)for(var Qe=0,Je=Be;Qe<Je.length;Qe+=1){var At=Te[Je[Qe]];if(At&&At.source===Fe&&At.type==="fill-extrusion")return!0}else for(var pt in Te){var mt=Te[pt];if(mt.source===Fe&&mt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,p,c.id),U=M.maxPitchScaleFactor(),q=c.tilesIn(y,U,D);q.sort(Ur);for(var te=[],de=0,_e=q;de<_e.length;de+=1){var me=_e[de];te.push({wrappedTileID:me.tileID.wrapped().key,queryResults:me.tile.queryRenderedFeatures(p,f,c._state,me.queryGeometry,me.cameraQueryGeometry,me.scale,E,M,U,hr(c.transform,me.tileID))})}var Me=function(Be){for(var Te={},Fe={},Qe=0,Je=Be;Qe<Je.length;Qe+=1){var At=Je[Qe],pt=At.queryResults,mt=At.wrappedTileID,It=Fe[mt]=Fe[mt]||{};for(var zt in pt)for(var Ft=pt[zt],Yt=It[zt]=It[zt]||{},dr=Te[zt]=Te[zt]||[],Tr=0,Er=Ft;Tr<Er.length;Tr+=1){var yn=Er[Tr];Yt[yn.featureIndex]||(Yt[yn.featureIndex]=!0,dr.push(yn))}}return Te}(te);for(var Pe in Me)Me[Pe].forEach(function(Be){var Te=Be.feature,Fe=c.getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=Fe});return Me}function Ur(c,p){var f=c.tileID,y=p.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}var Dr=function(c,p){this.max=c,this.onRemove=p,this.reset()};Dr.prototype.reset=function(){for(var c in this.data)for(var p=0,f=this.data[c];p<f.length;p+=1){var y=f[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},Dr.prototype.add=function(c,p,f){var y=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var M={value:p,timeout:void 0};if(f!==void 0&&(M.timeout=setTimeout(function(){y.remove(c,M)},f)),this.data[E].push(M),this.order.push(E),this.order.length>this.max){var D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this},Dr.prototype.has=function(c){return c.wrapped().key in this.data},Dr.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},Dr.prototype._getAndRemoveByKey=function(c){var p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value},Dr.prototype.getByKey=function(c){var p=this.data[c];return p?p[0].value:null},Dr.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},Dr.prototype.remove=function(c,p){if(!this.has(c))return this;var f=c.wrapped().key,y=p===void 0?0:this.data[f].indexOf(p),E=this.data[f][y];return this.data[f].splice(y,1),E.timeout&&clearTimeout(E.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(E.value),this.order.splice(this.order.indexOf(f),1),this},Dr.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},Dr.prototype.filter=function(c){var p=[];for(var f in this.data)for(var y=0,E=this.data[f];y<E.length;y+=1){var M=E[y];c(M.value)||p.push(M)}for(var D=0,U=p;D<U.length;D+=1){var q=U[D];this.remove(q.value.tileID,q)}};var Xn=function(c,p,f){this.context=c;var y=c.gl;this.buffer=y.createBuffer(),this.dynamicDraw=Boolean(f),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Xn.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Xn.prototype.updateData=function(c){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Xn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fi=function(c,p,f,y){this.length=p.length,this.attributes=f,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Fi.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fi.prototype.updateData=function(c){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)},Fi.prototype.enableAttributes=function(c,p){for(var f=0;f<this.attributes.length;f++){var y=p.attributes[this.attributes[f].name];y!==void 0&&c.enableVertexAttribArray(y)}},Fi.prototype.setVertexAttribPointers=function(c,p,f){for(var y=0;y<this.attributes.length;y++){var E=this.attributes[y],M=p.attributes[E.name];M!==void 0&&c.vertexAttribPointer(M,E.components,c[jn[E.type]],!1,this.itemSize,E.offset+this.itemSize*(f||0))}},Fi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jr=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};jr.prototype.get=function(){return this.current},jr.prototype.set=function(c){},jr.prototype.getDefault=function(){return this.default},jr.prototype.setDefault=function(){this.set(this.default)};var mi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jr),gi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)},p}(jr),Qo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)},p}(jr),Bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jr),Wi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)},p}(jr),ws=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)},p}(jr),io=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(f){var y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)},p}(jr),Qn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)},p}(jr),Lo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}},p}(jr),oo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jr),bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}},p}(jr),Do=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)},p}(jr),sa=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}},p}(jr),gt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.ONE,f.ZERO]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jr),be=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jr),Ye=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)},p}(jr),kt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}},p}(jr),or=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)},p}(jr),Hr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)},p}(jr),In=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)},p}(jr),Or=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)},p}(jr),en=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jr),$n=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}},p}(jr),Yn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(jr),hn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}},p}(jr),Eo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}},p}(jr),Jn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1},p}(jr),ua=function(c){function p(f){c.call(this,f),this.vao=f.extVertexArrayObject}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)},p}(jr),Ra=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}},p}(jr),$t=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}},p}(jr),Ei=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}},p}(jr),zn=function(c){function p(f,y){c.call(this,f),this.context=f,this.parent=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}(jr),Y=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}},p}(zn),ie=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(zn),fe=function(c,p,f,y){this.context=c,this.width=p,this.height=f;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Y(c,E),y&&(this.depthAttachment=new ie(c,E))};fe.prototype.destroy=function(){var c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){var f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}c.deleteFramebuffer(this.framebuffer)};var ve=function(c,p,f){this.func=c,this.mask=p,this.range=f};ve.ReadOnly=!1,ve.ReadWrite=!0,ve.disabled=new ve(519,ve.ReadOnly,[0,1]);var Ie=function(c,p,f,y,E,M){this.test=c,this.ref=p,this.mask=f,this.fail=y,this.depthFail=E,this.pass=M};Ie.disabled=new Ie({func:519,mask:0},0,0,7680,7680,7680);var Ne=function(c,p,f){this.blendFunction=c,this.blendColor=p,this.mask=f};Ne.disabled=new Ne(Ne.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),Ne.unblended=new Ne(Ne.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ne.alphaBlended=new Ne([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ve=function(c,p,f){this.enable=c,this.mode=p,this.frontFace=f};Ve.disabled=new Ve(!1,1029,2305),Ve.backCCW=new Ve(!0,1029,2305);var ze=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mi(this),this.clearDepth=new gi(this),this.clearStencil=new Qo(this),this.colorMask=new Bi(this),this.depthMask=new Wi(this),this.stencilMask=new ws(this),this.stencilFunc=new io(this),this.stencilOp=new Qn(this),this.stencilTest=new Lo(this),this.depthRange=new oo(this),this.depthTest=new bi(this),this.depthFunc=new Do(this),this.blend=new sa(this),this.blendFunc=new gt(this),this.blendColor=new be(this),this.blendEquation=new Ye(this),this.cullFace=new kt(this),this.cullFaceSide=new or(this),this.frontFace=new Hr(this),this.program=new In(this),this.activeTexture=new Or(this),this.viewport=new en(this),this.bindFramebuffer=new $n(this),this.bindRenderbuffer=new Yn(this),this.bindTexture=new hn(this),this.bindVertexBuffer=new Eo(this),this.bindElementBuffer=new Jn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ua(this),this.pixelStoreUnpack=new Ra(this),this.pixelStoreUnpackPremultiplyAlpha=new $t(this),this.pixelStoreUnpackFlipY=new Ei(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};ze.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ze.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ze.prototype.createIndexBuffer=function(c,p){return new Xn(this,c,p)},ze.prototype.createVertexBuffer=function(c,p,f){return new Fi(this,c,p,f)},ze.prototype.createRenderbuffer=function(c,p,f){var y=this.gl,E=y.createRenderbuffer();return this.bindRenderbuffer.set(E),y.renderbufferStorage(y.RENDERBUFFER,c,p,f),this.bindRenderbuffer.set(null),E},ze.prototype.createFramebuffer=function(c,p,f){return new fe(this,c,p,f)},ze.prototype.clear=function(c){var p=c.color,f=c.depth,y=this.gl,E=0;p&&(E|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(E|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y.clear(E)},ze.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},ze.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},ze.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},ze.prototype.setColorMode=function(c){a.deepEqual(c.blendFunction,Ne.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},ze.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(c){function p(f,y,E){var M=this;c.call(this),this.id=f,this.dispatcher=E,this.on("data",function(D){D.dataType==="source"&&D.sourceDataType==="metadata"&&(M._sourceLoaded=!0),M._sourceLoaded&&!M._paused&&D.dataType==="source"&&D.sourceDataType==="content"&&(M.reload(),M.transform&&M.update(M.transform))}),this.on("error",function(){M._sourceErrored=!0}),this._source=function(D,U,q,te){var de=new yr[U.type](D,U,q,te);if(de.id!==D)throw new Error("Expected Source id to be "+D+" instead of "+de.id);return a.bindAll(["load","abort","unload","serialize","prepare"],de),de}(f,y,E,this),this._tiles={},this._cache=new Dr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(f)},p.prototype.onRemove=function(f){this._source&&this._source.onRemove&&this._source.onRemove(f)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var f in this._tiles){var y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(f,y){return this._source.loadTile(f,y)},p.prototype._unloadTile=function(f){if(this._source.unloadTile)return this._source.unloadTile(f,function(){})},p.prototype._abortTile=function(f){if(this._source.abortTile)return this._source.abortTile(f,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(f){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[y];E.upload(f),E.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return a.values(this._tiles).map(function(f){return f.tileID}).sort(ne).map(function(f){return f.key})},p.prototype.getRenderableIds=function(f){var y=this,E=[];for(var M in this._tiles)this._isIdRenderable(M,f)&&E.push(this._tiles[M]);return f?E.sort(function(D,U){var q=D.tileID,te=U.tileID,de=new a.Point(q.canonical.x,q.canonical.y)._rotate(y.transform.angle),_e=new a.Point(te.canonical.x,te.canonical.y)._rotate(y.transform.angle);return q.overscaledZ-te.overscaledZ||_e.y-de.y||_e.x-de.x}).map(function(D){return D.tileID.key}):E.map(function(D){return D.tileID}).sort(ne).map(function(D){return D.key})},p.prototype.hasRenderableParent=function(f){var y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var f in this._cache.reset(),this._tiles)this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")},p.prototype._reloadTile=function(f,y){var E=this._tiles[f];E&&(E.state!=="loading"&&(E.state=y),this._loadTile(E,this._tileLoaded.bind(this,E,f,y)))},p.prototype._tileLoaded=function(f,y,E,M){if(M)return f.state="errored",void(M.status!==404?this._source.fire(new a.ErrorEvent(M,{tile:f})):this.update(this.transform));f.timeAdded=a.browser.now(),E==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:f,coord:f.tileID}))},p.prototype._backfillDEM=function(f){for(var y=this.getRenderableIds(),E=0;E<y.length;E++){var M=y[E];if(f.neighboringTiles&&f.neighboringTiles[M]){var D=this.getTileByID(M);U(f,D),U(D,f)}}function U(q,te){q.needsHillshadePrepare=!0;var de=te.tileID.canonical.x-q.tileID.canonical.x,_e=te.tileID.canonical.y-q.tileID.canonical.y,me=Math.pow(2,q.tileID.canonical.z),Me=te.tileID.key;de===0&&_e===0||Math.abs(_e)>1||(Math.abs(de)>1&&(Math.abs(de+me)===1?de+=me:Math.abs(de-me)===1&&(de-=me)),te.dem&&q.dem&&(q.dem.backfillBorder(te.dem,de,_e),q.neighboringTiles&&q.neighboringTiles[Me]&&(q.neighboringTiles[Me].backfilled=!0)))}},p.prototype.getTile=function(f){return this.getTileByID(f.key)},p.prototype.getTileByID=function(f){return this._tiles[f]},p.prototype._retainLoadedChildren=function(f,y,E,M){for(var D in this._tiles){var U=this._tiles[D];if(!(M[D]||!U.hasData()||U.tileID.overscaledZ<=y||U.tileID.overscaledZ>E)){for(var q=U.tileID;U&&U.tileID.overscaledZ>y+1;){var te=U.tileID.scaledTo(U.tileID.overscaledZ-1);(U=this._tiles[te.key])&&U.hasData()&&(q=te)}for(var de=q;de.overscaledZ>y;)if(f[(de=de.scaledTo(de.overscaledZ-1)).key]){M[q.key]=q;break}}}},p.prototype.findLoadedParent=function(f,y){if(f.key in this._loadedParentTiles){var E=this._loadedParentTiles[f.key];return E&&E.tileID.overscaledZ>=y?E:null}for(var M=f.overscaledZ-1;M>=y;M--){var D=f.scaledTo(M),U=this._getLoadedTile(D);if(U)return U}},p.prototype._getLoadedTile=function(f){var y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)},p.prototype.updateCacheSize=function(f){var y=Math.ceil(f.width/this._source.tileSize)+1,E=Math.ceil(f.height/this._source.tileSize)+1,M=Math.floor(y*E*5),D=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(D)},p.prototype.handleWrapJump=function(f){var y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){var E={};for(var M in this._tiles){var D=this._tiles[M];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+y),E[D.tileID.key]=D}for(var U in this._tiles=E,this._timers)clearTimeout(this._timers[U]),delete this._timers[U];for(var q in this._tiles)this._setTileReloadTimer(q,this._tiles[q])}},p.prototype.update=function(f){var y=this;if(this.transform=f,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(It){return new a.OverscaledTileID(It.canonical.z,It.wrap,It.canonical.z,It.canonical.x,It.canonical.y)}):(E=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(It){return y._source.hasTile(It)}))):E=[];var M=f.coveringZoomLevel(this._source),D=Math.max(M-p.maxOverzooming,this._source.minzoom),U=Math.max(M+p.maxUnderzooming,this._source.minzoom),q=this._updateRetainedTiles(E,M);if(je(this._source.type)){for(var te={},de={},_e=0,me=Object.keys(q);_e<me.length;_e+=1){var Me=me[_e],Pe=q[Me],Be=this._tiles[Me];if(Be&&!(Be.fadeEndTime&&Be.fadeEndTime<=a.browser.now())){var Te=this.findLoadedParent(Pe,D);Te&&(this._addTile(Te.tileID),te[Te.tileID.key]=Te.tileID),de[Me]=Pe}}for(var Fe in this._retainLoadedChildren(de,M,U,q),te)q[Fe]||(this._coveredTiles[Fe]=!0,q[Fe]=te[Fe])}for(var Qe in q)this._tiles[Qe].clearFadeHold();for(var Je=0,At=a.keysDifference(this._tiles,q);Je<At.length;Je+=1){var pt=At[Je],mt=this._tiles[pt];mt.hasSymbolBuckets&&!mt.holdingForFade()?mt.setHoldDuration(this.map._fadeDuration):mt.hasSymbolBuckets&&!mt.symbolFadeFinished()||this._removeTile(pt)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)},p.prototype._updateRetainedTiles=function(f,y){for(var E={},M={},D=Math.max(y-p.maxOverzooming,this._source.minzoom),U=Math.max(y+p.maxUnderzooming,this._source.minzoom),q={},te=0,de=f;te<de.length;te+=1){var _e=de[te],me=this._addTile(_e);E[_e.key]=_e,me.hasData()||y<this._source.maxzoom&&(q[_e.key]=_e)}this._retainLoadedChildren(q,y,U,E);for(var Me=0,Pe=f;Me<Pe.length;Me+=1){var Be=Pe[Me],Te=this._tiles[Be.key];if(!Te.hasData()){if(y+1>this._source.maxzoom){var Fe=Be.children(this._source.maxzoom)[0],Qe=this.getTile(Fe);if(Qe&&Qe.hasData()){E[Fe.key]=Fe;continue}}else{var Je=Be.children(this._source.maxzoom);if(E[Je[0].key]&&E[Je[1].key]&&E[Je[2].key]&&E[Je[3].key])continue}for(var At=Te.wasRequested(),pt=Be.overscaledZ-1;pt>=D;--pt){var mt=Be.scaledTo(pt);if(M[mt.key]||(M[mt.key]=!0,!(Te=this.getTile(mt))&&At&&(Te=this._addTile(mt)),Te&&(E[mt.key]=mt,At=Te.wasRequested(),Te.hasData())))break}}}return E},p.prototype._updateLoadedParentTileCache=function(){for(var f in this._loadedParentTiles={},this._tiles){for(var y=[],E=void 0,M=this._tiles[f].tileID;M.overscaledZ>0;){if(M.key in this._loadedParentTiles){E=this._loadedParentTiles[M.key];break}y.push(M.key);var D=M.scaledTo(M.overscaledZ-1);if(E=this._getLoadedTile(D))break;M=D}for(var U=0,q=y;U<q.length;U+=1)this._loadedParentTiles[q[U]]=E}},p.prototype._addTile=function(f){var y=this._tiles[f.key];if(y)return y;(y=this._cache.getAndRemove(f))&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));var E=Boolean(y);return E||(y=new a.Tile(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,f.key,y.state))),y?(y.uses++,this._tiles[f.key]=y,E||this._source.fire(new a.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(f,y){var E=this;f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);var M=y.getExpiryTimeout();M&&(this._timers[f]=setTimeout(function(){E._reloadTile(f,"expired"),delete E._timers[f]},M))},p.prototype._removeTile=function(f){var y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var f in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(f);this._cache.reset()},p.prototype.tilesIn=function(f,y,E){var M=this,D=[],U=this.transform;if(!U)return D;for(var q=E?U.getCameraQueryGeometry(f):f,te=f.map(function(pt){return U.pointCoordinate(pt)}),de=q.map(function(pt){return U.pointCoordinate(pt)}),_e=this.getIds(),me=1/0,Me=1/0,Pe=-1/0,Be=-1/0,Te=0,Fe=de;Te<Fe.length;Te+=1){var Qe=Fe[Te];me=Math.min(me,Qe.x),Me=Math.min(Me,Qe.y),Pe=Math.max(Pe,Qe.x),Be=Math.max(Be,Qe.y)}for(var Je=function(pt){var mt=M._tiles[_e[pt]];if(!mt.holdingForFade()){var It=mt.tileID,zt=Math.pow(2,U.zoom-mt.tileID.overscaledZ),Ft=y*mt.queryPadding*a.EXTENT/mt.tileSize/zt,Yt=[It.getTilePoint(new a.MercatorCoordinate(me,Me)),It.getTilePoint(new a.MercatorCoordinate(Pe,Be))];if(Yt[0].x-Ft<a.EXTENT&&Yt[0].y-Ft<a.EXTENT&&Yt[1].x+Ft>=0&&Yt[1].y+Ft>=0){var dr=te.map(function(Er){return It.getTilePoint(Er)}),Tr=de.map(function(Er){return It.getTilePoint(Er)});D.push({tile:mt,tileID:It,queryGeometry:dr,cameraQueryGeometry:Tr,scale:zt})}}},At=0;At<_e.length;At++)Je(At);return D},p.prototype.getVisibleCoordinates=function(f){for(var y=this,E=this.getRenderableIds(f).map(function(q){return y._tiles[q].tileID}),M=0,D=E;M<D.length;M+=1){var U=D[M];U.posMatrix=this.transform.calculatePosMatrix(U.toUnwrapped())}return E},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var f in this._tiles){var y=this._tiles[f];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=a.browser.now())return!0}return!1},p.prototype.setFeatureState=function(f,y,E){this._state.updateState(f=f||"_geojsonTileLayer",y,E)},p.prototype.removeFeatureState=function(f,y,E){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,E)},p.prototype.getFeatureState=function(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(f,y,E){var M=this._tiles[f];M&&M.setDependencies(y,E)},p.prototype.reloadTilesForDependencies=function(f,y){for(var E in this._tiles)this._tiles[E].hasDependency(f,y)&&this._reloadTile(E,"reloading");this._cache.filter(function(M){return!M.hasDependency(f,y)})},p}(a.Evented);function ne(c,p){var f=Math.abs(2*c.wrap)-+(c.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return c.overscaledZ-p.overscaledZ||y-f||p.canonical.y-c.canonical.y||p.canonical.x-c.canonical.x}function je(c){return c==="raster"||c==="image"||c==="video"}function ot(){return new a.window.Worker(Wt.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var Ge="mapboxgl_preloaded_worker_pool",h=function(){this.active={}};h.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<h.workerCount;)this.workers.push(new ot);return this.active[c]=!0,this.workers.slice()},h.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},h.prototype.isPreloaded=function(){return!!this.active[Ge]},h.prototype.numActive=function(){return Object.keys(this.active).length};var ye,Rt=Math.floor(a.browser.hardwareConcurrency/2);function jt(){return ye||(ye=new h),ye}function lt(c,p){var f={};for(var y in c)y!=="ref"&&(f[y]=c[y]);return a.refProperties.forEach(function(E){E in p&&(f[E]=p[E])}),f}function Mt(c){c=c.slice();for(var p=Object.create(null),f=0;f<c.length;f++)p[c[f].id]=c[f];for(var y=0;y<c.length;y++)"ref"in c[y]&&(c[y]=lt(c[y],p[c[y].ref]));return c}h.workerCount=Math.max(Math.min(Rt,6),1);var xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pr(c,p,f){f.push({command:xt.addSource,args:[c,p[c]]})}function ur(c,p,f){p.push({command:xt.removeSource,args:[c]}),f[c]=!0}function qt(c,p,f,y){ur(c,f,y),pr(c,p,f)}function An(c,p,f){var y;for(y in c[f])if(c[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;for(y in p[f])if(p[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;return!0}function Xr(c,p,f,y,E,M){var D;for(D in p=p||{},c=c||{})c.hasOwnProperty(D)&&(a.deepEqual(c[D],p[D])||f.push({command:M,args:[y,D,p[D],E]}));for(D in p)p.hasOwnProperty(D)&&!c.hasOwnProperty(D)&&(a.deepEqual(c[D],p[D])||f.push({command:M,args:[y,D,p[D],E]}))}function Ln(c){return c.id}function dn(c,p){return c[p.id]=p,c}var an=function(c,p){this.reset(c,p)};an.prototype.reset=function(c,p){this.points=c||[],this._distances=[0];for(var f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},an.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);for(var p=1,f=this._distances[p],y=c*this.paddedLength+this.padding;f<y&&p<this._distances.length;)f=this._distances[++p];var E=p-1,M=this._distances[E],D=f-M,U=D>0?(y-M)/D:0;return this.points[E].mult(1-U).add(this.points[p].mult(U))};var gn=function(c,p,f){var y=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/f),this.yCellCount=Math.ceil(p/f);for(var M=0;M<this.xCellCount*this.yCellCount;M++)y.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function hi(c,p,f,y,E){var M=a.create();return p?(a.scale(M,M,[1/E,1/E,1]),f||a.rotateZ(M,M,y.angle)):a.multiply(M,y.labelPlaneMatrix,c),M}function xn(c,p,f,y,E){if(p){var M=a.clone(c);return a.scale(M,M,[E,E,1]),f||a.rotateZ(M,M,-y.angle),M}return y.glCoordMatrix}function Kt(c,p){var f=[c.x,c.y,0,1];la(f,f,p);var y=f[3];return{point:new a.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function qe(c,p){return .5+c/p*.5}function xr(c,p){var f=c[0]/c[3],y=c[1]/c[3];return f>=-p[0]&&f<=p[0]&&y>=-p[1]&&y<=p[1]}function uu(c,p,f,y,E,M,D,U){var q=y?c.textSizeData:c.iconSizeData,te=a.evaluateSizeForZoom(q,f.transform.zoom),de=[256/f.width*2+1,256/f.height*2+1],_e=y?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;_e.clear();for(var me=c.lineVertexArray,Me=y?c.text.placedSymbolArray:c.icon.placedSymbolArray,Pe=f.transform.width/f.transform.height,Be=!1,Te=0;Te<Me.length;Te++){var Fe=Me.get(Te);if(Fe.hidden||Fe.writingMode===a.WritingMode.vertical&&!Be)is(Fe.numGlyphs,_e);else{Be=!1;var Qe=[Fe.anchorX,Fe.anchorY,0,1];if(a.transformMat4(Qe,Qe,p),xr(Qe,de)){var Je=qe(f.transform.cameraToCenterDistance,Qe[3]),At=a.evaluateSizeForFeature(q,te,Fe),pt=D?At/Je:At*Je,mt=new a.Point(Fe.anchorX,Fe.anchorY),It=Kt(mt,E).point,zt={},Ft=Wo(Fe,pt,!1,U,p,E,M,c.glyphOffsetArray,me,_e,It,mt,zt,Pe);Be=Ft.useVertical,(Ft.notEnoughRoom||Be||Ft.needsFlipping&&Wo(Fe,pt,!0,U,p,E,M,c.glyphOffsetArray,me,_e,It,mt,zt,Pe).notEnoughRoom)&&is(Fe.numGlyphs,_e)}else is(Fe.numGlyphs,_e)}}y?c.text.dynamicLayoutVertexBuffer.updateData(_e):c.icon.dynamicLayoutVertexBuffer.updateData(_e)}function Fc(c,p,f,y,E,M,D,U,q,te,de){var _e=U.glyphStartIndex+U.numGlyphs,me=U.lineStartIndex,Me=U.lineStartIndex+U.lineLength,Pe=p.getoffsetX(U.glyphStartIndex),Be=p.getoffsetX(_e-1),Te=Re(c*Pe,f,y,E,M,D,U.segment,me,Me,q,te,de);if(!Te)return null;var Fe=Re(c*Be,f,y,E,M,D,U.segment,me,Me,q,te,de);return Fe?{first:Te,last:Fe}:null}function ao(c,p,f,y){return c===a.WritingMode.horizontal&&Math.abs(f.y-p.y)>Math.abs(f.x-p.x)*y?{useVertical:!0}:(c===a.WritingMode.vertical?p.y<f.y:p.x>f.x)?{needsFlipping:!0}:null}function Wo(c,p,f,y,E,M,D,U,q,te,de,_e,me,Me){var Pe,Be=p/24,Te=c.lineOffsetX*Be,Fe=c.lineOffsetY*Be;if(c.numGlyphs>1){var Qe=c.glyphStartIndex+c.numGlyphs,Je=c.lineStartIndex,At=c.lineStartIndex+c.lineLength,pt=Fc(Be,U,Te,Fe,f,de,_e,c,q,M,me);if(!pt)return{notEnoughRoom:!0};var mt=Kt(pt.first.point,D).point,It=Kt(pt.last.point,D).point;if(y&&!f){var zt=ao(c.writingMode,mt,It,Me);if(zt)return zt}Pe=[pt.first];for(var Ft=c.glyphStartIndex+1;Ft<Qe-1;Ft++)Pe.push(Re(Be*U.getoffsetX(Ft),Te,Fe,f,de,_e,c.segment,Je,At,q,M,me));Pe.push(pt.last)}else{if(y&&!f){var Yt=Kt(_e,E).point,dr=c.lineStartIndex+c.segment+1,Tr=new a.Point(q.getx(dr),q.gety(dr)),Er=Kt(Tr,E),yn=Er.signedDistanceFromCamera>0?Er.point:Bc(_e,Tr,Yt,1,E),lr=ao(c.writingMode,Yt,yn,Me);if(lr)return lr}var Rr=Re(Be*U.getoffsetX(c.glyphStartIndex),Te,Fe,f,de,_e,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,q,M,me);if(!Rr)return{notEnoughRoom:!0};Pe=[Rr]}for(var Jr=0,$r=Pe;Jr<$r.length;Jr+=1){var Br=$r[Jr];a.addDynamicAttributes(te,Br.point,Br.angle)}return{}}function Bc(c,p,f,y,E){var M=Kt(c.add(c.sub(p)._unit()),E).point,D=f.sub(M);return f.add(D._mult(y/D.mag()))}function Re(c,p,f,y,E,M,D,U,q,te,de,_e){var me=y?c-p:c+p,Me=me>0?1:-1,Pe=0;y&&(Me*=-1,Pe=Math.PI),Me<0&&(Pe+=Math.PI);for(var Be=Me>0?U+D:U+D+1,Te=E,Fe=E,Qe=0,Je=0,At=Math.abs(me),pt=[];Qe+Je<=At;){if((Be+=Me)<U||Be>=q)return null;if(Fe=Te,pt.push(Te),(Te=_e[Be])===void 0){var mt=new a.Point(te.getx(Be),te.gety(Be)),It=Kt(mt,de);if(It.signedDistanceFromCamera>0)Te=_e[Be]=It.point;else{var zt=Be-Me;Te=Bc(Qe===0?M:new a.Point(te.getx(zt),te.gety(zt)),mt,Fe,At-Qe+1,de)}}Qe+=Je,Je=Fe.dist(Te)}var Ft=(At-Qe)/Je,Yt=Te.sub(Fe),dr=Yt.mult(Ft)._add(Fe);dr._add(Yt._unit()._perp()._mult(f*Me));var Tr=Pe+Math.atan2(Te.y-Fe.y,Te.x-Fe.x);return pt.push(dr),{point:dr,angle:Tr,path:pt}}gn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gn.prototype.insert=function(c,p,f,y,E){this._forEachCell(p,f,y,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(E)},gn.prototype.insertCircle=function(c,p,f,y){this._forEachCell(p-y,f-y,p+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(f),this.circles.push(y)},gn.prototype._insertBoxCell=function(c,p,f,y,E,M){this.boxCells[E].push(M)},gn.prototype._insertCircleCell=function(c,p,f,y,E,M){this.circleCells[E].push(M)},gn.prototype._query=function(c,p,f,y,E,M){if(f<0||c>this.width||y<0||p>this.height)return!E&&[];var D=[];if(c<=0&&p<=0&&this.width<=f&&this.height<=y){if(E)return!0;for(var U=0;U<this.boxKeys.length;U++)D.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(var q=0;q<this.circleKeys.length;q++){var te=this.circles[3*q],de=this.circles[3*q+1],_e=this.circles[3*q+2];D.push({key:this.circleKeys[q],x1:te-_e,y1:de-_e,x2:te+_e,y2:de+_e})}return M?D.filter(M):D}return this._forEachCell(c,p,f,y,this._queryCell,D,{hitTest:E,seenUids:{box:{},circle:{}}},M),E?D.length>0:D},gn.prototype._queryCircle=function(c,p,f,y,E){var M=c-f,D=c+f,U=p-f,q=p+f;if(D<0||M>this.width||q<0||U>this.height)return!y&&[];var te=[];return this._forEachCell(M,U,D,q,this._queryCellCircle,te,{hitTest:y,circle:{x:c,y:p,radius:f},seenUids:{box:{},circle:{}}},E),y?te.length>0:te},gn.prototype.query=function(c,p,f,y,E){return this._query(c,p,f,y,!1,E)},gn.prototype.hitTest=function(c,p,f,y,E){return this._query(c,p,f,y,!0,E)},gn.prototype.hitTestCircle=function(c,p,f,y){return this._queryCircle(c,p,f,!0,y)},gn.prototype._queryCell=function(c,p,f,y,E,M,D,U){var q=D.seenUids,te=this.boxCells[E];if(te!==null)for(var de=this.bboxes,_e=0,me=te;_e<me.length;_e+=1){var Me=me[_e];if(!q.box[Me]){q.box[Me]=!0;var Pe=4*Me;if(c<=de[Pe+2]&&p<=de[Pe+3]&&f>=de[Pe+0]&&y>=de[Pe+1]&&(!U||U(this.boxKeys[Me]))){if(D.hitTest)return M.push(!0),!0;M.push({key:this.boxKeys[Me],x1:de[Pe],y1:de[Pe+1],x2:de[Pe+2],y2:de[Pe+3]})}}}var Be=this.circleCells[E];if(Be!==null)for(var Te=this.circles,Fe=0,Qe=Be;Fe<Qe.length;Fe+=1){var Je=Qe[Fe];if(!q.circle[Je]){q.circle[Je]=!0;var At=3*Je;if(this._circleAndRectCollide(Te[At],Te[At+1],Te[At+2],c,p,f,y)&&(!U||U(this.circleKeys[Je]))){if(D.hitTest)return M.push(!0),!0;var pt=Te[At],mt=Te[At+1],It=Te[At+2];M.push({key:this.circleKeys[Je],x1:pt-It,y1:mt-It,x2:pt+It,y2:mt+It})}}}},gn.prototype._queryCellCircle=function(c,p,f,y,E,M,D,U){var q=D.circle,te=D.seenUids,de=this.boxCells[E];if(de!==null)for(var _e=this.bboxes,me=0,Me=de;me<Me.length;me+=1){var Pe=Me[me];if(!te.box[Pe]){te.box[Pe]=!0;var Be=4*Pe;if(this._circleAndRectCollide(q.x,q.y,q.radius,_e[Be+0],_e[Be+1],_e[Be+2],_e[Be+3])&&(!U||U(this.boxKeys[Pe])))return M.push(!0),!0}}var Te=this.circleCells[E];if(Te!==null)for(var Fe=this.circles,Qe=0,Je=Te;Qe<Je.length;Qe+=1){var At=Je[Qe];if(!te.circle[At]){te.circle[At]=!0;var pt=3*At;if(this._circlesCollide(Fe[pt],Fe[pt+1],Fe[pt+2],q.x,q.y,q.radius)&&(!U||U(this.circleKeys[At])))return M.push(!0),!0}}},gn.prototype._forEachCell=function(c,p,f,y,E,M,D,U){for(var q=this._convertToXCellCoord(c),te=this._convertToYCellCoord(p),de=this._convertToXCellCoord(f),_e=this._convertToYCellCoord(y),me=q;me<=de;me++)for(var Me=te;Me<=_e;Me++)if(E.call(this,c,p,f,y,this.xCellCount*Me+me,M,D,U))return},gn.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},gn.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},gn.prototype._circlesCollide=function(c,p,f,y,E,M){var D=y-c,U=E-p,q=f+M;return q*q>D*D+U*U},gn.prototype._circleAndRectCollide=function(c,p,f,y,E,M,D){var U=(M-y)/2,q=Math.abs(c-(y+U));if(q>U+f)return!1;var te=(D-E)/2,de=Math.abs(p-(E+te));if(de>te+f)return!1;if(q<=U||de<=te)return!0;var _e=q-U,me=de-te;return _e*_e+me*me<=f*f};var so=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function is(c,p){for(var f=0;f<c;f++){var y=p.length;p.resize(y+4),p.float32.set(so,3*y)}}function la(c,p,f){var y=p[0],E=p[1];return c[0]=f[0]*y+f[4]*E+f[12],c[1]=f[1]*y+f[5]*E+f[13],c[3]=f[3]*y+f[7]*E+f[15],c}var si=function(c,p,f){p===void 0&&(p=new gn(c.width+200,c.height+200,25)),f===void 0&&(f=new gn(c.width+200,c.height+200,25)),this.transform=c,this.grid=p,this.ignoredGrid=f,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function ca(c,p,f){return p*(a.EXTENT/(c.tileSize*Math.pow(2,f-c.tileID.overscaledZ)))}si.prototype.placeCollisionBox=function(c,p,f,y,E){var M=this.projectAndGetPerspectiveRatio(y,c.anchorPointX,c.anchorPointY),D=f*M.perspectiveRatio,U=c.x1*D+M.point.x,q=c.y1*D+M.point.y,te=c.x2*D+M.point.x,de=c.y2*D+M.point.y;return!this.isInsideGrid(U,q,te,de)||!p&&this.grid.hitTest(U,q,te,de,E)?{box:[],offscreen:!1}:{box:[U,q,te,de],offscreen:this.isOffscreen(U,q,te,de)}},si.prototype.placeCollisionCircles=function(c,p,f,y,E,M,D,U,q,te,de,_e,me){var Me=[],Pe=new a.Point(p.anchorX,p.anchorY),Be=Kt(Pe,M),Te=qe(this.transform.cameraToCenterDistance,Be.signedDistanceFromCamera),Fe=(te?E/Te:E*Te)/a.ONE_EM,Qe=Kt(Pe,D).point,Je=Fc(Fe,y,p.lineOffsetX*Fe,p.lineOffsetY*Fe,!1,Qe,Pe,p,f,D,{}),At=!1,pt=!1,mt=!0;if(Je){for(var It=.5*_e*Te+me,zt=new a.Point(-100,-100),Ft=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Yt=new an,dr=Je.first,Tr=Je.last,Er=[],yn=dr.path.length-1;yn>=1;yn--)Er.push(dr.path[yn]);for(var lr=1;lr<Tr.path.length;lr++)Er.push(Tr.path[lr]);var Rr=2.5*It;if(U){var Jr=Er.map(function(ps){return Kt(ps,U)});Er=Jr.some(function(ps){return ps.signedDistanceFromCamera<=0})?[]:Jr.map(function(ps){return ps.point})}var $r=[];if(Er.length>0){for(var Br=Er[0].clone(),Nr=Er[0].clone(),Lr=1;Lr<Er.length;Lr++)Br.x=Math.min(Br.x,Er[Lr].x),Br.y=Math.min(Br.y,Er[Lr].y),Nr.x=Math.max(Nr.x,Er[Lr].x),Nr.y=Math.max(Nr.y,Er[Lr].y);$r=Br.x>=zt.x&&Nr.x<=Ft.x&&Br.y>=zt.y&&Nr.y<=Ft.y?[Er]:Nr.x<zt.x||Br.x>Ft.x||Nr.y<zt.y||Br.y>Ft.y?[]:a.clipLine([Er],zt.x,zt.y,Ft.x,Ft.y)}for(var Ar=0,Hn=$r;Ar<Hn.length;Ar+=1){var Vi;Yt.reset(Hn[Ar],.25*It),Vi=Yt.length<=.5*It?1:Math.ceil(Yt.paddedLength/Rr)+1;for(var Ii=0;Ii<Vi;Ii++){var uo=Ii/Math.max(Vi-1,1),Xi=Yt.lerp(uo),fi=Xi.x+100,na=Xi.y+100;Me.push(fi,na,It,0);var Hi=fi-It,ia=na-It,wa=fi+It,gu=na+It;if(mt=mt&&this.isOffscreen(Hi,ia,wa,gu),pt=pt||this.isInsideGrid(Hi,ia,wa,gu),!c&&this.grid.hitTestCircle(fi,na,It,de)&&(At=!0,!q))return{circles:[],offscreen:!1,collisionDetected:At}}}}return{circles:!q&&At||!pt?[]:Me,offscreen:mt,collisionDetected:At}},si.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],f=1/0,y=1/0,E=-1/0,M=-1/0,D=0,U=c;D<U.length;D+=1){var q=U[D],te=new a.Point(q.x+100,q.y+100);f=Math.min(f,te.x),y=Math.min(y,te.y),E=Math.max(E,te.x),M=Math.max(M,te.y),p.push(te)}for(var de={},_e={},me=0,Me=this.grid.query(f,y,E,M).concat(this.ignoredGrid.query(f,y,E,M));me<Me.length;me+=1){var Pe=Me[me],Be=Pe.key;if(de[Be.bucketInstanceId]===void 0&&(de[Be.bucketInstanceId]={}),!de[Be.bucketInstanceId][Be.featureIndex]){var Te=[new a.Point(Pe.x1,Pe.y1),new a.Point(Pe.x2,Pe.y1),new a.Point(Pe.x2,Pe.y2),new a.Point(Pe.x1,Pe.y2)];a.polygonIntersectsPolygon(p,Te)&&(de[Be.bucketInstanceId][Be.featureIndex]=!0,_e[Be.bucketInstanceId]===void 0&&(_e[Be.bucketInstanceId]=[]),_e[Be.bucketInstanceId].push(Be.featureIndex))}}return _e},si.prototype.insertCollisionBox=function(c,p,f,y,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:E},c[0],c[1],c[2],c[3])},si.prototype.insertCollisionCircles=function(c,p,f,y,E){for(var M=p?this.ignoredGrid:this.grid,D={bucketInstanceId:f,featureIndex:y,collisionGroupID:E},U=0;U<c.length;U+=4)M.insertCircle(D,c[U],c[U+1],c[U+2])},si.prototype.projectAndGetPerspectiveRatio=function(c,p,f){var y=[p,f,0,1];return la(y,y,c),{point:new a.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},si.prototype.isOffscreen=function(c,p,f,y){return f<100||c>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},si.prototype.isInsideGrid=function(c,p,f,y){return f>=0&&c<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},si.prototype.getViewportMatrix=function(){var c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c};var ko=function(c,p,f,y){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):y&&f?1:0,this.placed=f};ko.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Zo=function(c,p,f,y,E){this.text=new ko(c?c.text:null,p,f,E),this.icon=new ko(c?c.icon:null,p,y,E)};Zo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var os=function(c,p,f){this.text=c,this.icon=p,this.skipFade=f},Pf=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},zi=function(c,p,f,y,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=E},ki=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function as(c,p,f,y,E){var M=a.getAnchorAlignment(c),D=-(M.horizontalAlign-.5)*p,U=-(M.verticalAlign-.5)*f,q=a.evaluateVariableOffset(c,y);return new a.Point(D+q[0]*E,U+q[1]*E)}function wi(c,p,f,y,E,M){var D=c.x1,U=c.x2,q=c.y1,te=c.y2,de=c.anchorPointX,_e=c.anchorPointY,me=new a.Point(p,f);return y&&me._rotate(E?M:-M),{x1:D+me.x,y1:q+me.y,x2:U+me.x,y2:te+me.y,anchorPointX:de,anchorPointY:_e}}ki.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:function(f){return f.collisionGroupID===p}}}return this.collisionGroups[c]};var Ni=function(c,p,f,y){this.transform=c.clone(),this.collisionIndex=new si(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ki(f),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Fu(c,p,f,y,E){c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0)}Ni.prototype.getBucketParts=function(c,p,f,y){var E=f.getBucket(p),M=f.latestFeatureIndex;if(E&&M&&p.id===E.layerIds[0]){var D=f.collisionBoxArray,U=E.layers[0].layout,q=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),te=f.tileSize/a.EXTENT,de=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),_e=U.get("text-pitch-alignment")==="map",me=U.get("text-rotation-alignment")==="map",Me=ca(f,1,this.transform.zoom),Pe=hi(de,_e,me,this.transform,Me),Be=null;if(_e){var Te=xn(de,_e,me,this.transform,Me);Be=a.multiply([],this.transform.labelPlaneMatrix,Te)}this.retainedQueryData[E.bucketInstanceId]=new zi(E.bucketInstanceId,M,E.sourceLayerIndex,E.index,f.tileID);var Fe={bucket:E,layout:U,posMatrix:de,textLabelPlaneMatrix:Pe,labelToScreenMatrix:Be,scale:q,textPixelRatio:te,holdingForFade:f.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(y)for(var Qe=0,Je=E.sortKeyRanges;Qe<Je.length;Qe+=1){var At=Je[Qe];c.push({sortKey:At.sortKey,symbolInstanceStart:At.symbolInstanceStart,symbolInstanceEnd:At.symbolInstanceEnd,parameters:Fe})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Fe})}},Ni.prototype.attemptAnchorPlacement=function(c,p,f,y,E,M,D,U,q,te,de,_e,me,Me,Pe){var Be,Te=[_e.textOffset0,_e.textOffset1],Fe=as(c,f,y,Te,E),Qe=this.collisionIndex.placeCollisionBox(wi(p,Fe.x,Fe.y,M,D,this.transform.angle),de,U,q,te.predicate);if(!Pe||this.collisionIndex.placeCollisionBox(wi(Pe,Fe.x,Fe.y,M,D,this.transform.angle),de,U,q,te.predicate).box.length!==0)return Qe.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[_e.crossTileID].anchor),this.variableOffsets[_e.crossTileID]={textOffset:Te,width:f,height:y,anchor:c,textBoxScale:E,prevAnchor:Be},this.markUsedJustification(me,c,_e,Me),me.allowVerticalPlacement&&(this.markUsedOrientation(me,Me,_e),this.placedOrientations[_e.crossTileID]=Me),{shift:Fe,placedGlyphBoxes:Qe}):void 0},Ni.prototype.placeLayerBucketPart=function(c,p,f){var y=this,E=c.parameters,M=E.bucket,D=E.layout,U=E.posMatrix,q=E.textLabelPlaneMatrix,te=E.labelToScreenMatrix,de=E.textPixelRatio,_e=E.holdingForFade,me=E.collisionBoxArray,Me=E.partiallyEvaluatedTextSize,Pe=E.collisionGroup,Be=D.get("text-optional"),Te=D.get("icon-optional"),Fe=D.get("text-allow-overlap"),Qe=D.get("icon-allow-overlap"),Je=D.get("text-rotation-alignment")==="map",At=D.get("text-pitch-alignment")==="map",pt=D.get("icon-text-fit")!=="none",mt=D.get("symbol-z-order")==="viewport-y",It=Fe&&(Qe||!M.hasIconData()||Te),zt=Qe&&(Fe||!M.hasTextData()||Be);!M.collisionArrays&&me&&M.deserializeCollisionBoxes(me);var Ft=function(lr,Rr){if(!p[lr.crossTileID])if(_e)y.placements[lr.crossTileID]=new os(!1,!1,!1);else{var Jr,$r=!1,Br=!1,Nr=!0,Lr=null,Ar={box:null,offscreen:null},Hn={box:null,offscreen:null},Vi=null,Ii=null,uo=0,Xi=0,fi=0;Rr.textFeatureIndex?uo=Rr.textFeatureIndex:lr.useRuntimeCollisionCircles&&(uo=lr.featureIndex),Rr.verticalTextFeatureIndex&&(Xi=Rr.verticalTextFeatureIndex);var na=Rr.textBox;if(na){var Hi=function(Yi){var qi=a.WritingMode.horizontal;if(M.allowVerticalPlacement&&!Yi&&y.prevPlacement){var Aa=y.prevPlacement.placedOrientations[lr.crossTileID];Aa&&(y.placedOrientations[lr.crossTileID]=Aa,y.markUsedOrientation(M,qi=Aa,lr))}return qi},ia=function(Yi,qi){if(M.allowVerticalPlacement&&lr.numVerticalGlyphVertices>0&&Rr.verticalTextBox)for(var Aa=0,lc=M.writingModes;Aa<lc.length&&(lc[Aa]===a.WritingMode.vertical?(Ar=qi(),Hn=Ar):Ar=Yi(),!(Ar&&Ar.box&&Ar.box.length));Aa+=1);else Ar=Yi()};if(D.get("text-variable-anchor")){var wa=D.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[lr.crossTileID]){var gu=y.prevPlacement.variableOffsets[lr.crossTileID];wa.indexOf(gu.anchor)>0&&(wa=wa.filter(function(Yi){return Yi!==gu.anchor})).unshift(gu.anchor)}var ps=function(Yi,qi,Aa){for(var lc=Yi.x2-Yi.x1,Up=Yi.y2-Yi.y1,WA=lr.textBoxScale,Uf=pt&&!Qe?qi:null,jf={box:[],offscreen:!1},ZA=Fe?2*wa.length:wa.length,bl=0;bl<ZA;++bl){var $f=y.attemptAnchorPlacement(wa[bl%wa.length],Yi,lc,Up,WA,Je,At,de,U,Pe,bl>=wa.length,lr,M,Aa,Uf);if($f&&(jf=$f.placedGlyphBoxes)&&jf.box&&jf.box.length){$r=!0,Lr=$f.shift;break}}return jf};ia(function(){return ps(na,Rr.iconBox,a.WritingMode.horizontal)},function(){var Yi=Rr.verticalTextBox;return M.allowVerticalPlacement&&!(Ar&&Ar.box&&Ar.box.length)&&lr.numVerticalGlyphVertices>0&&Yi?ps(Yi,Rr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Ar&&($r=Ar.box,Nr=Ar.offscreen);var zf=Hi(Ar&&Ar.box);if(!$r&&y.prevPlacement){var _l=y.prevPlacement.variableOffsets[lr.crossTileID];_l&&(y.variableOffsets[lr.crossTileID]=_l,y.markUsedJustification(M,_l.anchor,lr,zf))}}else{var yu=function(Yi,qi){var Aa=y.collisionIndex.placeCollisionBox(Yi,Fe,de,U,Pe.predicate);return Aa&&Aa.box&&Aa.box.length&&(y.markUsedOrientation(M,qi,lr),y.placedOrientations[lr.crossTileID]=qi),Aa};ia(function(){return yu(na,a.WritingMode.horizontal)},function(){var Yi=Rr.verticalTextBox;return M.allowVerticalPlacement&&lr.numVerticalGlyphVertices>0&&Yi?yu(Yi,a.WritingMode.vertical):{box:null,offscreen:null}}),Hi(Ar&&Ar.box&&Ar.box.length)}}if($r=(Jr=Ar)&&Jr.box&&Jr.box.length>0,Nr=Jr&&Jr.offscreen,lr.useRuntimeCollisionCircles){var xl=M.text.placedSymbolArray.get(lr.centerJustifiedTextSymbolIndex),Nf=a.evaluateSizeForFeature(M.textSizeData,Me,xl),tf=D.get("text-padding");Vi=y.collisionIndex.placeCollisionCircles(Fe,xl,M.lineVertexArray,M.glyphOffsetArray,Nf,U,q,te,f,At,Pe.predicate,lr.collisionCircleDiameter,tf),$r=Fe||Vi.circles.length>0&&!Vi.collisionDetected,Nr=Nr&&Vi.offscreen}if(Rr.iconFeatureIndex&&(fi=Rr.iconFeatureIndex),Rr.iconBox){var Qa=function(Yi){var qi=pt&&Lr?wi(Yi,Lr.x,Lr.y,Je,At,y.transform.angle):Yi;return y.collisionIndex.placeCollisionBox(qi,Qe,de,U,Pe.predicate)};Br=Hn&&Hn.box&&Hn.box.length&&Rr.verticalIconBox?(Ii=Qa(Rr.verticalIconBox)).box.length>0:(Ii=Qa(Rr.iconBox)).box.length>0,Nr=Nr&&Ii.offscreen}var rf=Be||lr.numHorizontalGlyphVertices===0&&lr.numVerticalGlyphVertices===0,yo=Te||lr.numIconVertices===0;if(rf||yo?yo?rf||(Br=Br&&$r):$r=Br&&$r:Br=$r=Br&&$r,$r&&Jr&&Jr.box&&y.collisionIndex.insertCollisionBox(Jr.box,D.get("text-ignore-placement"),M.bucketInstanceId,Hn&&Hn.box&&Xi?Xi:uo,Pe.ID),Br&&Ii&&y.collisionIndex.insertCollisionBox(Ii.box,D.get("icon-ignore-placement"),M.bucketInstanceId,fi,Pe.ID),Vi&&($r&&y.collisionIndex.insertCollisionCircles(Vi.circles,D.get("text-ignore-placement"),M.bucketInstanceId,uo,Pe.ID),f)){var Ys=M.bucketInstanceId,Ts=y.collisionCircleArrays[Ys];Ts===void 0&&(Ts=y.collisionCircleArrays[Ys]=new Pf);for(var uc=0;uc<Vi.circles.length;uc+=4)Ts.circles.push(Vi.circles[uc+0]),Ts.circles.push(Vi.circles[uc+1]),Ts.circles.push(Vi.circles[uc+2]),Ts.circles.push(Vi.collisionDetected?1:0)}y.placements[lr.crossTileID]=new os($r||It,Br||zt,Nr||M.justReloaded),p[lr.crossTileID]=!0}};if(mt)for(var Yt=M.getSortedSymbolIndexes(this.transform.angle),dr=Yt.length-1;dr>=0;--dr){var Tr=Yt[dr];Ft(M.symbolInstances.get(Tr),M.collisionArrays[Tr])}else for(var Er=c.symbolInstanceStart;Er<c.symbolInstanceEnd;Er++)Ft(M.symbolInstances.get(Er),M.collisionArrays[Er]);if(f&&M.bucketInstanceId in this.collisionCircleArrays){var yn=this.collisionCircleArrays[M.bucketInstanceId];a.invert(yn.invProjMatrix,U),yn.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1},Ni.prototype.markUsedJustification=function(c,p,f,y){var E;E=y===a.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];for(var M=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];M<D.length;M+=1){var U=D[M];U>=0&&(c.text.placedSymbolArray.get(U).crossTileID=E>=0&&U!==E?0:f.crossTileID)}},Ni.prototype.markUsedOrientation=function(c,p,f){for(var y=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,M=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];M<D.length;M+=1)c.text.placedSymbolArray.get(D[M]).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=E)},Ni.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,f=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},M=p?p.variableOffsets:{},D=p?p.placedOrientations:{};for(var U in this.placements){var q=this.placements[U],te=E[U];te?(this.opacities[U]=new Zo(te,y,q.text,q.icon),f=f||q.text!==te.text.placed||q.icon!==te.icon.placed):(this.opacities[U]=new Zo(null,y,q.text,q.icon,q.skipFade),f=f||q.text||q.icon)}for(var de in E){var _e=E[de];if(!this.opacities[de]){var me=new Zo(_e,y,!1,!1);me.isHidden()||(this.opacities[de]=me,f=f||_e.text.placed||_e.icon.placed)}}for(var Me in M)this.variableOffsets[Me]||!this.opacities[Me]||this.opacities[Me].isHidden()||(this.variableOffsets[Me]=M[Me]);for(var Pe in D)this.placedOrientations[Pe]||!this.opacities[Pe]||this.opacities[Pe].isHidden()||(this.placedOrientations[Pe]=D[Pe]);f?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)},Ni.prototype.updateLayerOpacities=function(c,p){for(var f={},y=0,E=p;y<E.length;y+=1){var M=E[y],D=M.getBucket(c);D&&M.latestFeatureIndex&&c.id===D.layerIds[0]&&this.updateBucketOpacities(D,f,M.collisionBoxArray)}},Ni.prototype.updateBucketOpacities=function(c,p,f){var y=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,M=new Zo(null,0,!1,!1,!0),D=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),q=E.get("text-variable-anchor"),te=E.get("text-rotation-alignment")==="map",de=E.get("text-pitch-alignment")==="map",_e=E.get("icon-text-fit")!=="none",me=new Zo(null,0,D&&(U||!c.hasIconData()||E.get("icon-optional")),U&&(D||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&f&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(f);for(var Me=function(Fe,Qe,Je){for(var At=0;At<Qe/4;At++)Fe.opacityVertexArray.emplaceBack(Je)},Pe=function(Fe){var Qe=c.symbolInstances.get(Fe),Je=Qe.numHorizontalGlyphVertices,At=Qe.numVerticalGlyphVertices,pt=Qe.crossTileID,mt=y.opacities[pt];p[pt]?mt=M:mt||(y.opacities[pt]=mt=me),p[pt]=!0;var It=Qe.numIconVertices>0,zt=y.placedOrientations[Qe.crossTileID],Ft=zt===a.WritingMode.vertical,Yt=zt===a.WritingMode.horizontal||zt===a.WritingMode.horizontalOnly;if(Je>0||At>0){var dr=Of(mt.text);Me(c.text,Je,Ft?Kl:dr),Me(c.text,At,Yt?Kl:dr);var Tr=mt.text.isHidden();[Qe.rightJustifiedTextSymbolIndex,Qe.centerJustifiedTextSymbolIndex,Qe.leftJustifiedTextSymbolIndex].forEach(function(Ar){Ar>=0&&(c.text.placedSymbolArray.get(Ar).hidden=Tr||Ft?1:0)}),Qe.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Qe.verticalPlacedTextSymbolIndex).hidden=Tr||Yt?1:0);var Er=y.variableOffsets[Qe.crossTileID];Er&&y.markUsedJustification(c,Er.anchor,Qe,zt);var yn=y.placedOrientations[Qe.crossTileID];yn&&(y.markUsedJustification(c,"left",Qe,yn),y.markUsedOrientation(c,yn,Qe))}if(It){var lr=Of(mt.icon),Rr=!(_e&&Qe.verticalPlacedIconSymbolIndex&&Ft);Qe.placedIconSymbolIndex>=0&&(Me(c.icon,Qe.numIconVertices,Rr?lr:Kl),c.icon.placedSymbolArray.get(Qe.placedIconSymbolIndex).hidden=mt.icon.isHidden()),Qe.verticalPlacedIconSymbolIndex>=0&&(Me(c.icon,Qe.numVerticalIconVertices,Rr?Kl:lr),c.icon.placedSymbolArray.get(Qe.verticalPlacedIconSymbolIndex).hidden=mt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var Jr=c.collisionArrays[Fe];if(Jr){var $r=new a.Point(0,0);if(Jr.textBox||Jr.verticalTextBox){var Br=!0;if(q){var Nr=y.variableOffsets[pt];Nr?($r=as(Nr.anchor,Nr.width,Nr.height,Nr.textOffset,Nr.textBoxScale),te&&$r._rotate(de?y.transform.angle:-y.transform.angle)):Br=!1}Jr.textBox&&Fu(c.textCollisionBox.collisionVertexArray,mt.text.placed,!Br||Ft,$r.x,$r.y),Jr.verticalTextBox&&Fu(c.textCollisionBox.collisionVertexArray,mt.text.placed,!Br||Yt,$r.x,$r.y)}var Lr=Boolean(!Yt&&Jr.verticalIconBox);Jr.iconBox&&Fu(c.iconCollisionBox.collisionVertexArray,mt.icon.placed,Lr,_e?$r.x:0,_e?$r.y:0),Jr.verticalIconBox&&Fu(c.iconCollisionBox.collisionVertexArray,mt.icon.placed,!Lr,_e?$r.x:0,_e?$r.y:0)}}},Be=0;Be<c.symbolInstances.length;Be++)Pe(Be);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var Te=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Te.invProjMatrix,c.placementViewportMatrix=Te.viewportMatrix,c.collisionCircleArray=Te.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},Ni.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ni.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},Ni.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},Ni.prototype.stillRecent=function(c,p){var f=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*f>c},Ni.prototype.setStale=function(){this.stale=!0};var Zl=Math.pow(2,25),Ip=Math.pow(2,24),Op=Math.pow(2,17),ci=Math.pow(2,16),zc=Math.pow(2,9),If=Math.pow(2,8),QA=Math.pow(2,1);function Of(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var p=c.placed?1:0,f=Math.floor(127*c.opacity);return f*Zl+p*Ip+f*Op+p*ci+f*zc+p*If+f*QA+p}var Kl=0,Xl=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Xl.prototype.continuePlacement=function(c,p,f,y,E){for(var M=this._bucketParts;this._currentTileIndex<c.length;)if(p.getBucketParts(M,y,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,M.sort(function(D,U){return D.sortKey-U.sortKey}));this._currentPartIndex<M.length;)if(p.placeLayerBucketPart(M[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,E())return!0;return!1};var Bu=function(c,p,f,y,E,M,D){this.placement=new Ni(c,E,M,D),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1};Bu.prototype.isDone=function(){return this._done},Bu.prototype.continuePlacement=function(c,p,f){for(var y=this,E=a.browser.now(),M=function(){var q=a.browser.now()-E;return!y._forceFullPlacement&&q>2};this._currentPlacementIndex>=0;){var D=p[c[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=U)&&(!D.maxzoom||D.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new Xl(D)),this._inProgressLayer.continuePlacement(f[D.source],this.placement,this._showCollisionBoxes,D,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Bu.prototype.commit=function(c){return this.placement.commit(c),this.placement};var Nc=512/a.EXTENT/2,Uc=function(c,p,f){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(var y=0;y<p.length;y++){var E=p.get(y),M=E.key;this.indexedSymbolInstances[M]||(this.indexedSymbolInstances[M]=[]),this.indexedSymbolInstances[M].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};Uc.prototype.getScaledCoordinates=function(c,p){var f=Nc/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*a.EXTENT+c.anchorX)*f),y:Math.floor((p.canonical.y*a.EXTENT+c.anchorY)*f)}},Uc.prototype.findMatches=function(c,p,f){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),E=0;E<c.length;E++){var M=c.get(E);if(!M.crossTileID){var D=this.indexedSymbolInstances[M.key];if(D)for(var U=this.getScaledCoordinates(M,p),q=0,te=D;q<te.length;q+=1){var de=te[q];if(Math.abs(de.coord.x-U.x)<=y&&Math.abs(de.coord.y-U.y)<=y&&!f[de.crossTileID]){f[de.crossTileID]=!0,M.crossTileID=de.crossTileID;break}}}}};var Yl=function(){this.maxCrossTileID=0};Yl.prototype.generate=function(){return++this.maxCrossTileID};var Ko=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ko.prototype.handleWrapJump=function(c){var p=Math.round((c-this.lng)/360);if(p!==0)for(var f in this.indexes){var y=this.indexes[f],E={};for(var M in y){var D=y[M];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+p),E[D.tileID.key]=D}this.indexes[f]=E}this.lng=c},Ko.prototype.addBucket=function(c,p,f){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var M in this.indexes){var D=this.indexes[M];if(Number(M)>c.overscaledZ)for(var U in D){var q=D[U];q.tileID.isChildOf(c)&&q.findMatches(p.symbolInstances,c,E)}else{var te=D[c.scaledTo(Number(M)).key];te&&te.findMatches(p.symbolInstances,c,E)}}for(var de=0;de<p.symbolInstances.length;de++){var _e=p.symbolInstances.get(de);_e.crossTileID||(_e.crossTileID=f.generate(),E[_e.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Uc(c,p.symbolInstances,p.bucketInstanceId),!0},Ko.prototype.removeBucketCrossTileIDs=function(c,p){for(var f in p.indexedSymbolInstances)for(var y=0,E=p.indexedSymbolInstances[f];y<E.length;y+=1)delete this.usedCrossTileIDs[c][E[y].crossTileID]},Ko.prototype.removeStaleBuckets=function(c){var p=!1;for(var f in this.indexes){var y=this.indexes[f];for(var E in y)c[y[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[E]),delete y[E],p=!0)}return p};var lu=function(){this.layerIndexes={},this.crossTileIDs=new Yl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};lu.prototype.addLayer=function(c,p,f){var y=this.layerIndexes[c.id];y===void 0&&(y=this.layerIndexes[c.id]=new Ko);var E=!1,M={};y.handleWrapJump(f);for(var D=0,U=p;D<U.length;D+=1){var q=U[D],te=q.getBucket(c);te&&c.id===te.layerIds[0]&&(te.bucketInstanceId||(te.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(q.tileID,te,this.crossTileIDs)&&(E=!0),M[te.bucketInstanceId]=!0)}return y.removeStaleBuckets(M)&&(E=!0),E},lu.prototype.pruneUnusedLayers=function(c){var p={};for(var f in c.forEach(function(y){p[y]=!0}),this.layerIndexes)p[f]||delete this.layerIndexes[f]};var Ss=function(c,p){return a.emitValidationErrors(c,p&&p.filter(function(f){return f.identifier!=="source.canvas"}))},jc=a.pick(xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),cu=a.pick(xt,["setCenter","setZoom","setBearing","setPitch"]),Nn=function(){var c={},p=a.styleSpec.$version;for(var f in a.styleSpec.$root){var y,E=a.styleSpec.$root[f];E.required&&(y=f==="version"?p:E.type==="array"?[]:{})!=null&&(c[f]=y)}return c}(),qr=function(c){function p(f,y){var E=this;y===void 0&&(y={}),c.call(this),this.map=f,this.dispatcher=new St(jt(),this),this.imageManager=new K,this.imageManager.setEventedParent(this),this.glyphManager=new He(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new bt(256,512),this.crossTileSymbolIndex=new lu,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var M=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(D){M.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},function(U,q){if(a.triggerPluginCompletionEvent(U),q&&q.every(function(de){return de}))for(var te in M.sourceCaches)M.sourceCaches[te].reload()})}),this.on("data",function(D){if(D.dataType==="source"&&D.sourceDataType==="metadata"){var U=E.sourceCaches[D.sourceId];if(U){var q=U.getSource();if(q&&q.vectorLayerIds)for(var te in E._layers){var de=E._layers[te];de.source===q.id&&E._validateLayer(de)}}}})}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.loadURL=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var M=typeof y.validate=="boolean"?y.validate:!a.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,y.accessToken);var D=this.map._requestManager.transformRequest(f,a.ResourceType.Style);this._request=a.getJSON(D,function(U,q){E._request=null,U?E.fire(new a.ErrorEvent(U)):q&&E._load(q,M)})},p.prototype.loadJSON=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){E._request=null,E._load(f,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Nn,!1)},p.prototype._load=function(f,y){if(!y||!Ss(this,a.validateStyle(f))){for(var E in this._loaded=!0,this.stylesheet=f,f.sources)this.addSource(E,f.sources[E],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs);var M=Mt(this.stylesheet.layers);this._order=M.map(function(te){return te.id}),this._layers={},this._serializedLayers={};for(var D=0,U=M;D<U.length;D+=1){var q=U[D];(q=a.createStyleLayer(q)).setEventedParent(this,{layer:{id:q.id}}),this._layers[q.id]=q,this._serializedLayers[q.id]=q.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new st(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},p.prototype._loadSprite=function(f){var y=this;this._spriteRequest=function(E,M,D){var U,q,te,de=a.browser.devicePixelRatio>1?"@2x":"",_e=a.getJSON(M.transformRequest(M.normalizeSpriteURL(E,de,".json"),a.ResourceType.SpriteJSON),function(Pe,Be){_e=null,te||(te=Pe,U=Be,Me())}),me=a.getImage(M.transformRequest(M.normalizeSpriteURL(E,de,".png"),a.ResourceType.SpriteImage),function(Pe,Be){me=null,te||(te=Pe,q=Be,Me())});function Me(){if(te)D(te);else if(U&&q){var Pe=a.browser.getImageData(q),Be={};for(var Te in U){var Fe=U[Te],Qe=Fe.width,Je=Fe.height,At=Fe.x,pt=Fe.y,mt=Fe.sdf,It=Fe.pixelRatio,zt=Fe.stretchX,Ft=Fe.stretchY,Yt=Fe.content,dr=new a.RGBAImage({width:Qe,height:Je});a.RGBAImage.copy(Pe,dr,{x:At,y:pt},{x:0,y:0},{width:Qe,height:Je}),Be[Te]={data:dr,pixelRatio:It,sdf:mt,stretchX:zt,stretchY:Ft,content:Yt}}D(null,Be)}}return{cancel:function(){_e&&(_e.cancel(),_e=null),me&&(me.cancel(),me=null)}}}(f,this.map._requestManager,function(E,M){if(y._spriteRequest=null,E)y.fire(new a.ErrorEvent(E));else if(M)for(var D in M)y.imageManager.addImage(D,M[D]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new a.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(f){var y=this.sourceCaches[f.source];if(y){var E=f.sourceLayer;if(E){var M=y.getSource();(M.type==="geojson"||M.vectorLayerIds&&M.vectorLayerIds.indexOf(E)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+M.id+'" as specified by style layer "'+f.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(f){for(var y=[],E=0,M=f;E<M.length;E+=1){var D=this._layers[M[E]];D.type!=="custom"&&y.push(D.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(f){if(this._loaded){var y=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);for(var D in(E.length||M.length)&&this._updateWorkerLayers(E,M),this._updatedSources){var U=this._updatedSources[D];U==="reload"?this._reloadSource(D):U==="clear"&&this._clearSource(D)}for(var q in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[q].updateTransitions(f);this.light.updateTransitions(f),this._resetUpdates()}var te={};for(var de in this.sourceCaches){var _e=this.sourceCaches[de];te[de]=_e.used,_e.used=!1}for(var me=0,Me=this._order;me<Me.length;me+=1){var Pe=this._layers[Me[me]];Pe.recalculate(f,this._availableImages),!Pe.isHidden(f.zoom)&&Pe.source&&(this.sourceCaches[Pe.source].used=!0)}for(var Be in te){var Te=this.sourceCaches[Be];te[Be]!==Te.used&&Te.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Be}))}this.light.recalculate(f),this.z=f.zoom,y&&this.fire(new a.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var f=Object.keys(this._changedImages);if(f.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}},p.prototype._updateWorkerLayers=function(f,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(f){var y=this;if(this._checkLoaded(),Ss(this,a.validateStyle(f)))return!1;(f=a.clone$1(f)).layers=Mt(f.layers);var E=function(D,U){if(!D)return[{command:xt.setStyle,args:[U]}];var q=[];try{if(!a.deepEqual(D.version,U.version))return[{command:xt.setStyle,args:[U]}];a.deepEqual(D.center,U.center)||q.push({command:xt.setCenter,args:[U.center]}),a.deepEqual(D.zoom,U.zoom)||q.push({command:xt.setZoom,args:[U.zoom]}),a.deepEqual(D.bearing,U.bearing)||q.push({command:xt.setBearing,args:[U.bearing]}),a.deepEqual(D.pitch,U.pitch)||q.push({command:xt.setPitch,args:[U.pitch]}),a.deepEqual(D.sprite,U.sprite)||q.push({command:xt.setSprite,args:[U.sprite]}),a.deepEqual(D.glyphs,U.glyphs)||q.push({command:xt.setGlyphs,args:[U.glyphs]}),a.deepEqual(D.transition,U.transition)||q.push({command:xt.setTransition,args:[U.transition]}),a.deepEqual(D.light,U.light)||q.push({command:xt.setLight,args:[U.light]});var te={},de=[];(function(me,Me,Pe,Be){var Te;for(Te in Me=Me||{},me=me||{})me.hasOwnProperty(Te)&&(Me.hasOwnProperty(Te)||ur(Te,Pe,Be));for(Te in Me)Me.hasOwnProperty(Te)&&(me.hasOwnProperty(Te)?a.deepEqual(me[Te],Me[Te])||(me[Te].type==="geojson"&&Me[Te].type==="geojson"&&An(me,Me,Te)?Pe.push({command:xt.setGeoJSONSourceData,args:[Te,Me[Te].data]}):qt(Te,Me,Pe,Be)):pr(Te,Me,Pe))})(D.sources,U.sources,de,te);var _e=[];D.layers&&D.layers.forEach(function(me){te[me.source]?q.push({command:xt.removeLayer,args:[me.id]}):_e.push(me)}),q=q.concat(de),function(me,Me,Pe){Me=Me||[];var Be,Te,Fe,Qe,Je,At,pt,mt=(me=me||[]).map(Ln),It=Me.map(Ln),zt=me.reduce(dn,{}),Ft=Me.reduce(dn,{}),Yt=mt.slice(),dr=Object.create(null);for(Be=0,Te=0;Be<mt.length;Be++)Ft.hasOwnProperty(Fe=mt[Be])?Te++:(Pe.push({command:xt.removeLayer,args:[Fe]}),Yt.splice(Yt.indexOf(Fe,Te),1));for(Be=0,Te=0;Be<It.length;Be++)Yt[Yt.length-1-Be]!==(Fe=It[It.length-1-Be])&&(zt.hasOwnProperty(Fe)?(Pe.push({command:xt.removeLayer,args:[Fe]}),Yt.splice(Yt.lastIndexOf(Fe,Yt.length-Te),1)):Te++,Pe.push({command:xt.addLayer,args:[Ft[Fe],At=Yt[Yt.length-Be]]}),Yt.splice(Yt.length-Be,0,Fe),dr[Fe]=!0);for(Be=0;Be<It.length;Be++)if(Qe=zt[Fe=It[Be]],Je=Ft[Fe],!dr[Fe]&&!a.deepEqual(Qe,Je))if(a.deepEqual(Qe.source,Je.source)&&a.deepEqual(Qe["source-layer"],Je["source-layer"])&&a.deepEqual(Qe.type,Je.type)){for(pt in Xr(Qe.layout,Je.layout,Pe,Fe,null,xt.setLayoutProperty),Xr(Qe.paint,Je.paint,Pe,Fe,null,xt.setPaintProperty),a.deepEqual(Qe.filter,Je.filter)||Pe.push({command:xt.setFilter,args:[Fe,Je.filter]}),a.deepEqual(Qe.minzoom,Je.minzoom)&&a.deepEqual(Qe.maxzoom,Je.maxzoom)||Pe.push({command:xt.setLayerZoomRange,args:[Fe,Je.minzoom,Je.maxzoom]}),Qe)Qe.hasOwnProperty(pt)&&pt!=="layout"&&pt!=="paint"&&pt!=="filter"&&pt!=="metadata"&&pt!=="minzoom"&&pt!=="maxzoom"&&(pt.indexOf("paint.")===0?Xr(Qe[pt],Je[pt],Pe,Fe,pt.slice(6),xt.setPaintProperty):a.deepEqual(Qe[pt],Je[pt])||Pe.push({command:xt.setLayerProperty,args:[Fe,pt,Je[pt]]}));for(pt in Je)Je.hasOwnProperty(pt)&&!Qe.hasOwnProperty(pt)&&pt!=="layout"&&pt!=="paint"&&pt!=="filter"&&pt!=="metadata"&&pt!=="minzoom"&&pt!=="maxzoom"&&(pt.indexOf("paint.")===0?Xr(Qe[pt],Je[pt],Pe,Fe,pt.slice(6),xt.setPaintProperty):a.deepEqual(Qe[pt],Je[pt])||Pe.push({command:xt.setLayerProperty,args:[Fe,pt,Je[pt]]}))}else Pe.push({command:xt.removeLayer,args:[Fe]}),At=Yt[Yt.lastIndexOf(Fe)+1],Pe.push({command:xt.addLayer,args:[Je,At]})}(_e,U.layers,q)}catch(me){console.warn("Unable to compute style diff:",me),q=[{command:xt.setStyle,args:[U]}]}return q}(this.serialize(),f).filter(function(D){return!(D.command in cu)});if(E.length===0)return!1;var M=E.filter(function(D){return!(D.command in jc)});if(M.length>0)throw new Error("Unimplemented: "+M.map(function(D){return D.command}).join(", ")+".");return E.forEach(function(D){D.command!=="setTransition"&&y[D.command].apply(y,D.args)}),this.stylesheet=f,!0},p.prototype.addImage=function(f,y){if(this.getImage(f))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,y),this._afterImageUpdated(f)},p.prototype.updateImage=function(f,y){this.imageManager.updateImage(f,y)},p.prototype.getImage=function(f){return this.imageManager.getImage(f)},p.prototype.removeImage=function(f){if(!this.getImage(f))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)},p.prototype._afterImageUpdated=function(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(f,y,E){var M=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(a.validateStyle.source,"sources."+f,y,null,E))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var D=this.sourceCaches[f]=new xe(f,y,this.dispatcher);D.style=this,D.setEventedParent(this,function(){return{isSourceLoaded:M.loaded(),source:D.serialize(),sourceId:f}}),D.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===f)return this.fire(new a.ErrorEvent(new Error('Source "'+f+'" cannot be removed while layer "'+y+'" is using it.')));var E=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],E.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(f,y){this._checkLoaded(),this.sourceCaches[f].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()},p.prototype.addLayer=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var M=f.id;if(this.getLayer(M))this.fire(new a.ErrorEvent(new Error('Layer with id "'+M+'" already exists on this map')));else{var D;if(f.type==="custom"){if(Ss(this,a.validateCustomStyleLayer(f)))return;D=a.createStyleLayer(f)}else{if(typeof f.source=="object"&&(this.addSource(M,f.source),f=a.clone$1(f),f=a.extend(f,{source:M})),this._validate(a.validateStyle.layer,"layers."+M,f,{arrayIndex:-1},E))return;D=a.createStyleLayer(f),this._validateLayer(D),D.setEventedParent(this,{layer:{id:M}}),this._serializedLayers[D.id]=D.serialize()}var U=y?this._order.indexOf(y):this._order.length;if(y&&U===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice(U,0,M),this._layerOrderChanged=!0,this._layers[M]=D,this._removedLayers[M]&&D.source&&D.type!=="custom"){var q=this._removedLayers[M];delete this._removedLayers[M],q.type!==D.type?this._updatedSources[D.source]="clear":(this._updatedSources[D.source]="reload",this.sourceCaches[D.source].pause())}this._updateLayer(D),D.onAdd&&D.onAdd(this.map)}}},p.prototype.moveLayer=function(f,y){if(this._checkLoaded(),this._changed=!0,this._layers[f]){if(f!==y){var E=this._order.indexOf(f);this._order.splice(E,1);var M=y?this._order.indexOf(y):this._order.length;y&&M===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(M,0,f),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(f){this._checkLoaded();var y=this._layers[f];if(y){y.setEventedParent(null);var E=this._order.indexOf(f);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(f){return this._layers[f]},p.prototype.hasLayer=function(f){return f in this._layers},p.prototype.setLayerZoomRange=function(f,y,E){this._checkLoaded();var M=this.getLayer(f);M?M.minzoom===y&&M.maxzoom===E||(y!=null&&(M.minzoom=y),E!=null&&(M.maxzoom=E),this._updateLayer(M)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var M=this.getLayer(f);if(M){if(!a.deepEqual(M.filter,y))return y==null?(M.filter=void 0,void this._updateLayer(M)):void(this._validate(a.validateStyle.filter,"layers."+M.id+".filter",y,null,E)||(M.filter=a.clone$1(y),this._updateLayer(M)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(f){return a.clone$1(this.getLayer(f).filter)},p.prototype.setLayoutProperty=function(f,y,E,M){M===void 0&&(M={}),this._checkLoaded();var D=this.getLayer(f);D?a.deepEqual(D.getLayoutProperty(y),E)||(D.setLayoutProperty(y,E,M),this._updateLayer(D)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(f,y){var E=this.getLayer(f);if(E)return E.getLayoutProperty(y);this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(f,y,E,M){M===void 0&&(M={}),this._checkLoaded();var D=this.getLayer(f);D?a.deepEqual(D.getPaintProperty(y),E)||(D.setPaintProperty(y,E,M)&&this._updateLayer(D),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(f,y){return this.getLayer(f).getPaintProperty(y)},p.prototype.setFeatureState=function(f,y){this._checkLoaded();var E=f.source,M=f.sourceLayer,D=this.sourceCaches[E];if(D!==void 0){var U=D.getSource().type;U==="geojson"&&M?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||M?(f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),D.setFeatureState(M,f.id,y)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(f,y){this._checkLoaded();var E=f.source,M=this.sourceCaches[E];if(M!==void 0){var D=M.getSource().type,U=D==="vector"?f.sourceLayer:void 0;D!=="vector"||U?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):M.removeFeatureState(U,f.id,y):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(f){this._checkLoaded();var y=f.source,E=f.sourceLayer,M=this.sourceCaches[y];if(M!==void 0){if(M.getSource().type!=="vector"||E)return f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),M.getFeatureState(E,f.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(f){return f.serialize()}),layers:this._serializeLayers(this._order)},function(f){return f!==void 0})},p.prototype._updateLayer=function(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(f){for(var y=this,E=function(zt){return y._layers[zt].type==="fill-extrusion"},M={},D=[],U=this._order.length-1;U>=0;U--){var q=this._order[U];if(E(q)){M[q]=U;for(var te=0,de=f;te<de.length;te+=1){var _e=de[te][q];if(_e)for(var me=0,Me=_e;me<Me.length;me+=1)D.push(Me[me])}}}D.sort(function(zt,Ft){return Ft.intersectionZ-zt.intersectionZ});for(var Pe=[],Be=this._order.length-1;Be>=0;Be--){var Te=this._order[Be];if(E(Te))for(var Fe=D.length-1;Fe>=0;Fe--){var Qe=D[Fe].feature;if(M[Qe.layer.id]<Be)break;Pe.push(Qe),D.pop()}else for(var Je=0,At=f;Je<At.length;Je+=1){var pt=At[Je][Te];if(pt)for(var mt=0,It=pt;mt<It.length;mt+=1)Pe.push(It[mt].feature)}}return Pe},p.prototype.queryRenderedFeatures=function(f,y,E){y&&y.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var M={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var D=0,U=y.layers;D<U.length;D+=1){var q=U[D],te=this._layers[q];if(!te)return this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be queried for features."))),[];M[te.source]=!0}}var de=[];for(var _e in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!M[_e]||de.push(Sr(this.sourceCaches[_e],this._layers,this._serializedLayers,f,y,E));return this.placement&&de.push(function(me,Me,Pe,Be,Te,Fe,Qe){for(var Je={},At=Fe.queryRenderedSymbols(Be),pt=[],mt=0,It=Object.keys(At).map(Number);mt<It.length;mt+=1)pt.push(Qe[It[mt]]);pt.sort(Ur);for(var zt=function(){var Er=Yt[Ft],yn=Er.featureIndex.lookupSymbolFeatures(At[Er.bucketInstanceId],Me,Er.bucketIndex,Er.sourceLayerIndex,Te.filter,Te.layers,Te.availableImages,me);for(var lr in yn){var Rr=Je[lr]=Je[lr]||[],Jr=yn[lr];Jr.sort(function(Nr,Lr){var Ar=Er.featureSortOrder;if(Ar){var Hn=Ar.indexOf(Nr.featureIndex);return Ar.indexOf(Lr.featureIndex)-Hn}return Lr.featureIndex-Nr.featureIndex});for(var $r=0,Br=Jr;$r<Br.length;$r+=1)Rr.push(Br[$r])}},Ft=0,Yt=pt;Ft<Yt.length;Ft+=1)zt();var dr=function(Er){Je[Er].forEach(function(yn){var lr=yn.feature,Rr=Pe[me[Er].source].getFeatureState(lr.layer["source-layer"],lr.id);lr.source=lr.layer.source,lr.layer["source-layer"]&&(lr.sourceLayer=lr.layer["source-layer"]),lr.state=Rr})};for(var Tr in Je)dr(Tr);return Je}(this._layers,this._serializedLayers,this.sourceCaches,f,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(de)},p.prototype.querySourceFeatures=function(f,y){y&&y.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var E=this.sourceCaches[f];return E?function(M,D){for(var U=M.getRenderableIds().map(function(Me){return M.getTileByID(Me)}),q=[],te={},de=0;de<U.length;de++){var _e=U[de],me=_e.tileID.canonical.key;te[me]||(te[me]=!0,_e.querySourceFeatures(q,D))}return q}(E,y):[]},p.prototype.addSourceType=function(f,y,E){return p.getSourceType(f)?E(new Error('A source type called "'+f+'" already exists.')):(p.setSourceType(f,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:y.workerSourceURL},E):E(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(f,y){y===void 0&&(y={}),this._checkLoaded();var E=this.light.getLight(),M=!1;for(var D in f)if(!a.deepEqual(f[D],E[D])){M=!0;break}if(M){var U={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions(U)}},p.prototype._validate=function(f,y,E,M,D){return D===void 0&&(D={}),(!D||D.validate!==!1)&&Ss(this,f.call(a.validateStyle,a.extend({key:y,style:this.serialize(),value:E,styleSpec:a.styleSpec},M)))},p.prototype._remove=function(){for(var f in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[f].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(f){this.sourceCaches[f].clearTiles()},p.prototype._reloadSource=function(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()},p.prototype._updateSources=function(f){for(var y in this.sourceCaches)this.sourceCaches[y].update(f)},p.prototype._generateCollisionBoxes=function(){for(var f in this.sourceCaches)this._reloadSource(f)},p.prototype._updatePlacement=function(f,y,E,M,D){D===void 0&&(D=!1);for(var U=!1,q=!1,te={},de=0,_e=this._order;de<_e.length;de+=1){var me=this._layers[_e[de]];if(me.type==="symbol"){if(!te[me.source]){var Me=this.sourceCaches[me.source];te[me.source]=Me.getRenderableIds(!0).map(function(Qe){return Me.getTileByID(Qe)}).sort(function(Qe,Je){return Je.tileID.overscaledZ-Qe.tileID.overscaledZ||(Qe.tileID.isLessThan(Je.tileID)?-1:1)})}var Pe=this.crossTileSymbolIndex.addLayer(me,te[me.source],f.center.lng);U=U||Pe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((D=D||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),f.zoom))&&(this.pauseablePlacement=new Bu(f,this._order,D,y,E,M,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),q=!0),U&&this.pauseablePlacement.placement.setStale()),q||U)for(var Be=0,Te=this._order;Be<Te.length;Be+=1){var Fe=this._layers[Te[Be]];Fe.type==="symbol"&&this.placement.updateLayerOpacities(Fe,te[Fe.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()},p.prototype.getImages=function(f,y,E){this.imageManager.getImages(y.icons,E),this._updateTilesForChangedImages();var M=this.sourceCaches[y.source];M&&M.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(f,y,E){this.glyphManager.getGlyphs(y.stacks,E)},p.prototype.getResource=function(f,y,E){return a.makeRequest(y,E)},p}(a.Evented);qr.getSourceType=function(c){return yr[c]},qr.setSourceType=function(c,p){yr[c]=p},qr.registerForPluginStateChange=a.registerForPluginStateChange;var Fo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),kn=Dn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),sl=Dn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Mf=Dn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),$c=Dn(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Mp=Dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ul=Dn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),ll=Dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),yi=Dn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),cl=Dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),js=Dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fl=Dn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),$s=Dn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ti=Dn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),zu=Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Vc=Dn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Zi=Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Hc=Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Vs=Dn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Cs=Dn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),fo=Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Nu=Dn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),po=Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ss=Dn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),fu=Dn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Xo=Dn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),pl=Dn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Dn(c,p){var f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=M?M.concat(E):E,U={};return{fragmentSource:c=c.replace(f,function(q,te,de,_e,me){return U[me]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
varying `+de+" "+_e+" "+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`}),vertexSource:p=p.replace(f,function(q,te,de,_e,me){var Me=_e==="float"?"vec2":"vec4",Pe=me.match(/color/)?"color":Me;return U[me]?te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
uniform lowp float u_`+me+`_t;
attribute `+de+" "+Me+" a_"+me+`;
varying `+de+" "+_e+" "+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+me+`
    `+me+" = a_"+me+`;
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+me+`
    `+me+" = unpack_mix_"+Pe+"(a_"+me+", u_"+me+`_t);
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
uniform lowp float u_`+me+`_t;
attribute `+de+" "+Me+" a_"+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = a_"+me+`;
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = unpack_mix_"+Pe+"(a_"+me+", u_"+me+`_t);
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`}),staticAttributes:y,staticUniforms:D}}var ei=Object.freeze({__proto__:null,prelude:kn,background:sl,backgroundPattern:Mf,circle:$c,clippingMask:Mp,heatmap:ul,heatmapTexture:ll,collisionBox:yi,collisionCircle:cl,debug:js,fill:fl,fillOutline:$s,fillOutlinePattern:Ti,fillPattern:zu,fillExtrusion:Vc,fillExtrusionPattern:Zi,hillshadePrepare:Hc,hillshade:Vs,line:Cs,lineGradient:fo,linePattern:Nu,lineSDF:po,raster:ss,symbolIcon:fu,symbolSDF:Xo,symbolTextAndIcon:pl}),Ua=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Jl(c){for(var p=[],f=0;f<c.length;f++)if(c[f]!==null){var y=c[f].split(" ");p.push(y.pop())}return p}Ua.prototype.bind=function(c,p,f,y,E,M,D,U){this.context=c;for(var q=this.boundPaintVertexBuffers.length!==y.length,te=0;!q&&te<y.length;te++)this.boundPaintVertexBuffers[te]!==y[te]&&(q=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===f&&!q&&this.boundIndexBuffer===E&&this.boundVertexOffset===M&&this.boundDynamicVertexBuffer===D&&this.boundDynamicVertexBuffer2===U?(c.bindVertexArrayOES.set(this.vao),D&&D.bind(),E&&E.dynamicDraw&&E.bind(),U&&U.bind()):this.freshBind(p,f,y,E,M,D,U)},Ua.prototype.freshBind=function(c,p,f,y,E,M,D){var U,q=c.numAttributes,te=this.context,de=te.gl;if(te.extVertexArrayObject)this.vao&&this.destroy(),this.vao=te.extVertexArrayObject.createVertexArrayOES(),te.bindVertexArrayOES.set(this.vao),U=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=M,this.boundDynamicVertexBuffer2=D;else{U=te.currentNumAttributes||0;for(var _e=q;_e<U;_e++)de.disableVertexAttribArray(_e)}p.enableAttributes(de,c);for(var me=0,Me=f;me<Me.length;me+=1)Me[me].enableAttributes(de,c);M&&M.enableAttributes(de,c),D&&D.enableAttributes(de,c),p.bind(),p.setVertexAttribPointers(de,c,E);for(var Pe=0,Be=f;Pe<Be.length;Pe+=1){var Te=Be[Pe];Te.bind(),Te.setVertexAttribPointers(de,c,E)}M&&(M.bind(),M.setVertexAttribPointers(de,c,E)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(de,c,E)),te.currentNumAttributes=q},Ua.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Al=function(c,p,f,y,E,M){var D=c.gl;this.program=D.createProgram();for(var U=Jl(f.staticAttributes),q=y?y.getBinderAttributes():[],te=U.concat(q),de=f.staticUniforms?Jl(f.staticUniforms):[],_e=y?y.getBinderUniforms():[],me=[],Me=0,Pe=de.concat(_e);Me<Pe.length;Me+=1){var Be=Pe[Me];me.indexOf(Be)<0&&me.push(Be)}var Te=y?y.defines():[];M&&Te.push("#define OVERDRAW_INSPECTOR;");var Fe=Te.concat(kn.fragmentSource,f.fragmentSource).join(`
`),Qe=Te.concat(kn.vertexSource,f.vertexSource).join(`
`),Je=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(Je,Fe),D.compileShader(Je),D.attachShader(this.program,Je);var At=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(At,Qe),D.compileShader(At),D.attachShader(this.program,At),this.attributes={};var pt={};this.numAttributes=te.length;for(var mt=0;mt<this.numAttributes;mt++)te[mt]&&(D.bindAttribLocation(this.program,mt,te[mt]),this.attributes[te[mt]]=mt);D.linkProgram(this.program),D.deleteShader(At),D.deleteShader(Je);for(var It=0;It<me.length;It++){var zt=me[It];if(zt&&!pt[zt]){var Ft=D.getUniformLocation(this.program,zt);Ft&&(pt[zt]=Ft)}}this.fixedUniforms=E(c,pt),this.binderUniforms=y?y.getUniforms(c,pt):[]}}};function Hs(c,p,f){var y=1/ca(f,1,p.transform.tileZoom),E=Math.pow(2,f.tileID.overscaledZ),M=f.tileSize*Math.pow(2,p.transform.tileZoom)/E,D=M*(f.tileID.canonical.x+f.tileID.wrap*E),U=M*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[D>>16,U>>16],u_pixel_coord_lower:[65535&D,65535&U]}}Al.prototype.draw=function(c,p,f,y,E,M,D,U,q,te,de,_e,me,Me,Pe,Be){var Te,Fe=c.gl;if(!this.failedToCreate){for(var Qe in c.program.set(this.program),c.setDepthMode(f),c.setStencilMode(y),c.setColorMode(E),c.setCullFace(M),this.fixedUniforms)this.fixedUniforms[Qe].set(D[Qe]);Me&&Me.setUniforms(c,this.binderUniforms,_e,{zoom:me});for(var Je=(Te={},Te[Fe.LINES]=2,Te[Fe.TRIANGLES]=3,Te[Fe.LINE_STRIP]=1,Te)[p],At=0,pt=de.get();At<pt.length;At+=1){var mt=pt[At],It=mt.vaos||(mt.vaos={});(It[U]||(It[U]=new Ua)).bind(c,this,q,Me?Me.getPaintVertexBuffers():[],te,mt.vertexOffset,Pe,Be),Fe.drawElements(p,mt.primitiveLength*Je,Fe.UNSIGNED_SHORT,mt.primitiveOffset*Je*2)}}};var Rp=function(c,p,f,y){var E=p.style.light,M=E.properties.get("position"),D=[M.x,M.y,M.z],U=a.create$1();E.properties.get("anchor")==="viewport"&&a.fromRotation(U,-p.transform.angle),a.transformMat3(D,D,U);var q=E.properties.get("color");return{u_matrix:c,u_lightpos:D,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[q.r,q.g,q.b],u_vertical_gradient:+f,u_opacity:y}},ec=function(c,p,f,y,E,M,D){return a.extend(Rp(c,p,f,y),Hs(M,p,D),{u_height_factor:-Math.pow(2,E.overscaledZ)/D.tileSize/8})},pu=function(c){return{u_matrix:c}},qs=function(c,p,f,y){return a.extend(pu(c),Hs(f,p,y))},Gs=function(c,p){return{u_matrix:c,u_world:p}},Uu=function(c,p,f,y,E){return a.extend(qs(c,p,f,y),{u_world:E})},Lp=function(c,p,f,y){var E,M,D=c.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var U=ca(f,1,D.zoom);E=!0,M=[U,U]}else E=!1,M=D.pixelsToGLUnits;return{u_camera_to_center_distance:D.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(p.posMatrix,f,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:M}},qc=function(c,p,f){var y=ca(f,1,p.zoom),E=Math.pow(2,p.zoom-f.tileID.overscaledZ),M=f.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*E),p.pixelsToGLUnits[1]/(y*E)],u_overscale_factor:M}},Au=function(c,p,f){return{u_matrix:c,u_inv_matrix:p,u_camera_to_center_distance:f.cameraToCenterDistance,u_viewport_size:[f.width,f.height]}},tc=function(c,p,f){return f===void 0&&(f=1),{u_matrix:c,u_color:p,u_overlay:0,u_overlay_scale:f}},_a=function(c){return{u_matrix:c}},ju=function(c,p,f,y){return{u_matrix:c,u_extrude_scale:ca(p,1,f),u_intensity:y}},Gc=function(c,p,f){var y=c.transform;return{u_matrix:To(c,p,f),u_ratio:1/ca(p,1,y.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},rc=function(c,p,f,y){return a.extend(Gc(c,p,f),{u_image:0,u_image_height:y})},Vn=function(c,p,f,y){var E=c.transform,M=Rf(p,E);return{u_matrix:To(c,p,f),u_texsize:p.imageAtlasTexture.size,u_ratio:1/ca(p,1,E.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[M,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},Qc=function(c,p,f,y,E){var M=c.lineAtlas,D=Rf(p,c.transform),U=f.layout.get("line-cap")==="round",q=M.getDash(y.from,U),te=M.getDash(y.to,U),de=q.width*E.fromScale,_e=te.width*E.toScale;return a.extend(Gc(c,p,f),{u_patternscale_a:[D/de,-q.height/2],u_patternscale_b:[D/_e,-te.height/2],u_sdfgamma:M.width/(256*Math.min(de,_e)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:te.y,u_mix:E.t})};function Rf(c,p){return 1/ca(c,1,p.tileZoom)}function To(c,p,f){return c.translatePosMatrix(p.tileID.posMatrix,p,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}var Wc=function(c,p,f,y,E){return{u_matrix:c,u_tl_parent:p,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(D=E.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(M=E.paint.get("raster-contrast"),M>0?1/(1-M):1+M),u_spin_weights:hl(E.paint.get("raster-hue-rotate"))};var M,D};function hl(c){c*=Math.PI/180;var p=Math.sin(c),f=Math.cos(c);return[(2*f+1)/3,(-Math.sqrt(3)*p-f+1)/3,(Math.sqrt(3)*p-f+1)/3]}var hu,Lf=function(c,p,f,y,E,M,D,U,q,te){var de=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:de.cameraToCenterDistance,u_pitch:de.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:de.width/de.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:D,u_coord_matrix:U,u_is_text:+q,u_pitch_with_map:+y,u_texsize:te,u_texture:0}},Ao=function(c,p,f,y,E,M,D,U,q,te,de){var _e=E.transform;return a.extend(Lf(c,p,f,y,E,M,D,U,q,te),{u_gamma_scale:y?Math.cos(_e._pitch)*_e.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+de})},Ui=function(c,p,f,y,E,M,D,U,q,te){return a.extend(Ao(c,p,f,y,E,M,D,U,!0,q,!0),{u_texsize_icon:te,u_texture_icon:1})},Zc=function(c,p,f){return{u_matrix:c,u_opacity:p,u_color:f}},nc=function(c,p,f,y,E,M){return a.extend(function(D,U,q,te){var de=q.imageManager.getPattern(D.from.toString()),_e=q.imageManager.getPattern(D.to.toString()),me=q.imageManager.getPixelSize(),Me=me.width,Pe=me.height,Be=Math.pow(2,te.tileID.overscaledZ),Te=te.tileSize*Math.pow(2,q.transform.tileZoom)/Be,Fe=Te*(te.tileID.canonical.x+te.tileID.wrap*Be),Qe=Te*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[Me,Pe],u_mix:U.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/ca(te,1,q.transform.tileZoom),u_pixel_coord_upper:[Fe>>16,Qe>>16],u_pixel_coord_lower:[65535&Fe,65535&Qe]}}(y,M,f,E),{u_matrix:c,u_opacity:p})},dl={fillExtrusion:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fillExtrusionPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_height_factor:new a.Uniform1f(c,p.u_height_factor),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fill:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},fillPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},fillOutline:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world)}},fillOutlinePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},circle:function(c,p){return{u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(c,p.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},collisionBox:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(c,p.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_overscale_factor:new a.Uniform1f(c,p.u_overscale_factor)}},collisionCircle:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_inv_matrix:new a.UniformMatrix4f(c,p.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(c,p.u_viewport_size)}},debug:function(c,p){return{u_color:new a.UniformColor(c,p.u_color),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_overlay:new a.Uniform1i(c,p.u_overlay),u_overlay_scale:new a.Uniform1f(c,p.u_overlay_scale)}},clippingMask:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmap:function(c,p){return{u_extrude_scale:new a.Uniform1f(c,p.u_extrude_scale),u_intensity:new a.Uniform1f(c,p.u_intensity),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmapTexture:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_color_ramp:new a.Uniform1i(c,p.u_color_ramp),u_opacity:new a.Uniform1f(c,p.u_opacity)}},hillshade:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_latrange:new a.Uniform2f(c,p.u_latrange),u_light:new a.Uniform2f(c,p.u_light),u_shadow:new a.UniformColor(c,p.u_shadow),u_highlight:new a.UniformColor(c,p.u_highlight),u_accent:new a.UniformColor(c,p.u_accent)}},hillshadePrepare:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_dimension:new a.Uniform2f(c,p.u_dimension),u_zoom:new a.Uniform1f(c,p.u_zoom),u_unpack:new a.Uniform4f(c,p.u_unpack)}},line:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels)}},lineGradient:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_image:new a.Uniform1i(c,p.u_image),u_image_height:new a.Uniform1f(c,p.u_image_height)}},linePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_texsize:new a.Uniform2f(c,p.u_texsize),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_image:new a.Uniform1i(c,p.u_image),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},lineSDF:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(c,p.u_patternscale_a),u_patternscale_b:new a.Uniform2f(c,p.u_patternscale_b),u_sdfgamma:new a.Uniform1f(c,p.u_sdfgamma),u_image:new a.Uniform1i(c,p.u_image),u_tex_y_a:new a.Uniform1f(c,p.u_tex_y_a),u_tex_y_b:new a.Uniform1f(c,p.u_tex_y_b),u_mix:new a.Uniform1f(c,p.u_mix)}},raster:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_tl_parent:new a.Uniform2f(c,p.u_tl_parent),u_scale_parent:new a.Uniform1f(c,p.u_scale_parent),u_buffer_scale:new a.Uniform1f(c,p.u_buffer_scale),u_fade_t:new a.Uniform1f(c,p.u_fade_t),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image0:new a.Uniform1i(c,p.u_image0),u_image1:new a.Uniform1i(c,p.u_image1),u_brightness_low:new a.Uniform1f(c,p.u_brightness_low),u_brightness_high:new a.Uniform1f(c,p.u_brightness_high),u_saturation_factor:new a.Uniform1f(c,p.u_saturation_factor),u_contrast_factor:new a.Uniform1f(c,p.u_contrast_factor),u_spin_weights:new a.Uniform3f(c,p.u_spin_weights)}},symbolIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture)}},symbolSDF:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},symbolTextAndIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texsize_icon:new a.Uniform2f(c,p.u_texsize_icon),u_texture:new a.Uniform1i(c,p.u_texture),u_texture_icon:new a.Uniform1i(c,p.u_texture_icon),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},background:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_color:new a.UniformColor(c,p.u_color)}},backgroundPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image:new a.Uniform1i(c,p.u_image),u_pattern_tl_a:new a.Uniform2f(c,p.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(c,p.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(c,p.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(c,p.u_pattern_br_b),u_texsize:new a.Uniform2f(c,p.u_texsize),u_mix:new a.Uniform1f(c,p.u_mix),u_pattern_size_a:new a.Uniform2f(c,p.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(c,p.u_pattern_size_b),u_scale_a:new a.Uniform1f(c,p.u_scale_a),u_scale_b:new a.Uniform1f(c,p.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(c,p.u_tile_units_to_pixels)}}};function du(c,p,f,y,E,M,D){for(var U=c.context,q=U.gl,te=c.useProgram("collisionBox"),de=[],_e=0,me=0,Me=0;Me<y.length;Me++){var Pe=y[Me],Be=p.getTile(Pe),Te=Be.getBucket(f);if(Te){var Fe=Pe.posMatrix;E[0]===0&&E[1]===0||(Fe=c.translatePosMatrix(Pe.posMatrix,Be,E,M));var Qe=D?Te.textCollisionBox:Te.iconCollisionBox,Je=Te.collisionCircleArray;if(Je.length>0){var At=a.create(),pt=Fe;a.mul(At,Te.placementInvProjMatrix,c.transform.glCoordMatrix),a.mul(At,At,Te.placementViewportMatrix),de.push({circleArray:Je,circleOffset:me,transform:pt,invTransform:At}),me=_e+=Je.length/4}Qe&&te.draw(U,q.LINES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),Ve.disabled,qc(Fe,c.transform,Be),f.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,null,c.transform.zoom,null,null,Qe.collisionVertexBuffer)}}if(D&&de.length){var mt=c.useProgram("collisionCircle"),It=new a.StructArrayLayout2f1f2i16;It.resize(4*_e),It._trim();for(var zt=0,Ft=0,Yt=de;Ft<Yt.length;Ft+=1)for(var dr=Yt[Ft],Tr=0;Tr<dr.circleArray.length/4;Tr++){var Er=4*Tr,yn=dr.circleArray[Er+0],lr=dr.circleArray[Er+1],Rr=dr.circleArray[Er+2],Jr=dr.circleArray[Er+3];It.emplace(zt++,yn,lr,Rr,Jr,0),It.emplace(zt++,yn,lr,Rr,Jr,1),It.emplace(zt++,yn,lr,Rr,Jr,2),It.emplace(zt++,yn,lr,Rr,Jr,3)}(!hu||hu.length<2*_e)&&(hu=function(Vi){var Ii=2*Vi,uo=new a.StructArrayLayout3ui6;uo.resize(Ii),uo._trim();for(var Xi=0;Xi<Ii;Xi++){var fi=6*Xi;uo.uint16[fi+0]=4*Xi+0,uo.uint16[fi+1]=4*Xi+1,uo.uint16[fi+2]=4*Xi+2,uo.uint16[fi+3]=4*Xi+2,uo.uint16[fi+4]=4*Xi+3,uo.uint16[fi+5]=4*Xi+0}return uo}(_e));for(var $r=U.createIndexBuffer(hu,!0),Br=U.createVertexBuffer(It,a.collisionCircleLayout.members,!0),Nr=0,Lr=de;Nr<Lr.length;Nr+=1){var Ar=Lr[Nr],Hn=Au(Ar.transform,Ar.invTransform,c.transform);mt.draw(U,q.TRIANGLES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),Ve.disabled,Hn,f.id,Br,$r,a.SegmentVector.simpleSegment(0,2*Ar.circleOffset,Ar.circleArray.length,Ar.circleArray.length/2),null,c.transform.zoom,null,null,null)}Br.destroy(),$r.destroy()}}var ic=a.identity(new Float32Array(16));function Si(c,p,f,y,E,M){var D=a.getAnchorAlignment(c),U=-(D.horizontalAlign-.5)*p,q=-(D.verticalAlign-.5)*f,te=a.evaluateVariableOffset(c,y);return new a.Point((U/E+te[0])*M,(q/E+te[1])*M)}function ml(c,p,f,y,E,M,D,U,q,te,de){var _e=c.text.placedSymbolArray,me=c.text.dynamicLayoutVertexArray,Me=c.icon.dynamicLayoutVertexArray,Pe={};me.clear();for(var Be=0;Be<_e.length;Be++){var Te=_e.get(Be),Fe=Te.hidden||!Te.crossTileID||c.allowVerticalPlacement&&!Te.placedOrientation?null:y[Te.crossTileID];if(Fe){var Qe=new a.Point(Te.anchorX,Te.anchorY),Je=Kt(Qe,f?U:D),At=qe(M.cameraToCenterDistance,Je.signedDistanceFromCamera),pt=E.evaluateSizeForFeature(c.textSizeData,te,Te)*At/a.ONE_EM;f&&(pt*=c.tilePixelRatio/q);for(var mt=Si(Fe.anchor,Fe.width,Fe.height,Fe.textOffset,Fe.textBoxScale,pt),It=f?Kt(Qe.add(mt),D).point:Je.point.add(p?mt.rotate(-M.angle):mt),zt=c.allowVerticalPlacement&&Te.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Ft=0;Ft<Te.numGlyphs;Ft++)a.addDynamicAttributes(me,It,zt);de&&Te.associatedIconIndex>=0&&(Pe[Te.associatedIconIndex]={shiftedAnchor:It,angle:zt})}else is(Te.numGlyphs,me)}if(de){Me.clear();for(var Yt=c.icon.placedSymbolArray,dr=0;dr<Yt.length;dr++){var Tr=Yt.get(dr);if(Tr.hidden)is(Tr.numGlyphs,Me);else{var Er=Pe[dr];if(Er)for(var yn=0;yn<Tr.numGlyphs;yn++)a.addDynamicAttributes(Me,Er.shiftedAnchor,Er.angle);else is(Tr.numGlyphs,Me)}}c.icon.dynamicLayoutVertexBuffer.updateData(Me)}c.text.dynamicLayoutVertexBuffer.updateData(me)}function Es(c,p,f){return f.iconsInText&&p?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function ks(c,p,f,y,E,M,D,U,q,te,de,_e){for(var me=c.context,Me=me.gl,Pe=c.transform,Be=U==="map",Te=q==="map",Fe=Be&&f.layout.get("symbol-placement")!=="point",Qe=Be&&!Te&&!Fe,Je=!f.layout.get("symbol-sort-key").isConstant(),At=!1,pt=c.depthModeForSublayer(0,ve.ReadOnly),mt=f.layout.get("text-variable-anchor"),It=[],zt=0,Ft=y;zt<Ft.length;zt+=1){var Yt=Ft[zt],dr=p.getTile(Yt),Tr=dr.getBucket(f);if(Tr){var Er=E?Tr.text:Tr.icon;if(Er&&Er.segments.get().length){var yn=Er.programConfigurations.get(f.id),lr=E||Tr.sdfIcons,Rr=E?Tr.textSizeData:Tr.iconSizeData,Jr=Te||Pe.pitch!==0,$r=c.useProgram(Es(lr,E,Tr),yn),Br=a.evaluateSizeForZoom(Rr,Pe.zoom),Nr=void 0,Lr=[0,0],Ar=void 0,Hn=void 0,Vi=null,Ii=void 0;if(E)Ar=dr.glyphAtlasTexture,Hn=Me.LINEAR,Nr=dr.glyphAtlasTexture.size,Tr.iconsInText&&(Lr=dr.imageAtlasTexture.size,Vi=dr.imageAtlasTexture,Ii=Jr||c.options.rotating||c.options.zooming||Rr.kind==="composite"||Rr.kind==="camera"?Me.LINEAR:Me.NEAREST);else{var uo=f.layout.get("icon-size").constantOr(0)!==1||Tr.iconsNeedLinear;Ar=dr.imageAtlasTexture,Hn=lr||c.options.rotating||c.options.zooming||uo||Jr?Me.LINEAR:Me.NEAREST,Nr=dr.imageAtlasTexture.size}var Xi=ca(dr,1,c.transform.zoom),fi=hi(Yt.posMatrix,Te,Be,c.transform,Xi),na=xn(Yt.posMatrix,Te,Be,c.transform,Xi),Hi=mt&&Tr.hasTextData(),ia=f.layout.get("icon-text-fit")!=="none"&&Hi&&Tr.hasIconData();Fe&&uu(Tr,Yt.posMatrix,c,E,fi,na,Te,te);var wa=c.translatePosMatrix(Yt.posMatrix,dr,M,D),gu=Fe||E&&mt||ia?ic:fi,ps=c.translatePosMatrix(na,dr,M,D,!0),zf=lr&&f.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,_l={program:$r,buffers:Er,uniformValues:lr?Tr.iconsInText?Ui(Rr.kind,Br,Qe,Te,c,wa,gu,ps,Nr,Lr):Ao(Rr.kind,Br,Qe,Te,c,wa,gu,ps,E,Nr,!0):Lf(Rr.kind,Br,Qe,Te,c,wa,gu,ps,E,Nr),atlasTexture:Ar,atlasTextureIcon:Vi,atlasInterpolation:Hn,atlasInterpolationIcon:Ii,isSDF:lr,hasHalo:zf};if(Je&&Tr.canOverlap){At=!0;for(var yu=0,xl=Er.segments.get();yu<xl.length;yu+=1){var Nf=xl[yu];It.push({segments:new a.SegmentVector([Nf]),sortKey:Nf.sortKey,state:_l})}}else It.push({segments:Er.segments,sortKey:0,state:_l})}}}At&&It.sort(function(Ts,uc){return Ts.sortKey-uc.sortKey});for(var tf=0,Qa=It;tf<Qa.length;tf+=1){var rf=Qa[tf],yo=rf.state;if(me.activeTexture.set(Me.TEXTURE0),yo.atlasTexture.bind(yo.atlasInterpolation,Me.CLAMP_TO_EDGE),yo.atlasTextureIcon&&(me.activeTexture.set(Me.TEXTURE1),yo.atlasTextureIcon&&yo.atlasTextureIcon.bind(yo.atlasInterpolationIcon,Me.CLAMP_TO_EDGE)),yo.isSDF){var Ys=yo.uniformValues;yo.hasHalo&&(Ys.u_is_halo=1,ja(yo.buffers,rf.segments,f,c,yo.program,pt,de,_e,Ys)),Ys.u_is_halo=0}ja(yo.buffers,rf.segments,f,c,yo.program,pt,de,_e,yo.uniformValues)}}function ja(c,p,f,y,E,M,D,U,q){var te=y.context;E.draw(te,te.gl.TRIANGLES,M,D,U,Ve.disabled,q,f.id,c.layoutVertexBuffer,c.indexBuffer,p,f.paint,y.transform.zoom,c.programConfigurations.get(f.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function oc(c,p,f,y,E,M,D){var U,q,te,de,_e,me=c.context.gl,Me=f.paint.get("fill-pattern"),Pe=Me&&Me.constantOr(1),Be=f.getCrossfadeParameters();D?(q=Pe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=me.LINES):(q=Pe?"fillPattern":"fill",U=me.TRIANGLES);for(var Te=0,Fe=y;Te<Fe.length;Te+=1){var Qe=Fe[Te],Je=p.getTile(Qe);if(!Pe||Je.patternsLoaded()){var At=Je.getBucket(f);if(At){var pt=At.programConfigurations.get(f.id),mt=c.useProgram(q,pt);Pe&&(c.context.activeTexture.set(me.TEXTURE0),Je.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),pt.updatePaintBuffers(Be));var It=Me.constantOr(null);if(It&&Je.imageAtlas){var zt=Je.imageAtlas,Ft=zt.patternPositions[It.to.toString()],Yt=zt.patternPositions[It.from.toString()];Ft&&Yt&&pt.setConstantPatternPositions(Ft,Yt)}var dr=c.translatePosMatrix(Qe.posMatrix,Je,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(D){de=At.indexBuffer2,_e=At.segments2;var Tr=[me.drawingBufferWidth,me.drawingBufferHeight];te=q==="fillOutlinePattern"&&Pe?Uu(dr,c,Be,Je,Tr):Gs(dr,Tr)}else de=At.indexBuffer,_e=At.segments,te=Pe?qs(dr,c,Be,Je):pu(dr);mt.draw(c.context,U,E,c.stencilModeForClipping(Qe),M,Ve.disabled,te,f.id,At.layoutVertexBuffer,de,_e,f.paint,c.transform.zoom,pt)}}}}function Yo(c,p,f,y,E,M,D){for(var U=c.context,q=U.gl,te=f.paint.get("fill-extrusion-pattern"),de=te.constantOr(1),_e=f.getCrossfadeParameters(),me=f.paint.get("fill-extrusion-opacity"),Me=0,Pe=y;Me<Pe.length;Me+=1){var Be=Pe[Me],Te=p.getTile(Be),Fe=Te.getBucket(f);if(Fe){var Qe=Fe.programConfigurations.get(f.id),Je=c.useProgram(de?"fillExtrusionPattern":"fillExtrusion",Qe);de&&(c.context.activeTexture.set(q.TEXTURE0),Te.imageAtlasTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),Qe.updatePaintBuffers(_e));var At=te.constantOr(null);if(At&&Te.imageAtlas){var pt=Te.imageAtlas,mt=pt.patternPositions[At.to.toString()],It=pt.patternPositions[At.from.toString()];mt&&It&&Qe.setConstantPatternPositions(mt,It)}var zt=c.translatePosMatrix(Be.posMatrix,Te,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Ft=f.paint.get("fill-extrusion-vertical-gradient"),Yt=de?ec(zt,c,Ft,me,Be,_e,Te):Rp(zt,c,Ft,me);Je.draw(U,U.gl.TRIANGLES,E,M,D,Ve.backCCW,Yt,f.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,f.paint,c.transform.zoom,Qe)}}}function Dp(c,p,f,y,E,M){var D=c.context,U=D.gl,q=p.fbo;if(q){var te=c.useProgram("hillshade");D.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,q.colorAttachment.get());var de=function(_e,me,Me){var Pe=Me.paint.get("hillshade-shadow-color"),Be=Me.paint.get("hillshade-highlight-color"),Te=Me.paint.get("hillshade-accent-color"),Fe=Me.paint.get("hillshade-illumination-direction")*(Math.PI/180);Me.paint.get("hillshade-illumination-anchor")==="viewport"&&(Fe-=_e.transform.angle);var Qe,Je,At,pt=!_e.options.moving;return{u_matrix:_e.transform.calculatePosMatrix(me.tileID.toUnwrapped(),pt),u_image:0,u_latrange:(Qe=me.tileID,Je=Math.pow(2,Qe.canonical.z),At=Qe.canonical.y,[new a.MercatorCoordinate(0,At/Je).toLngLat().lat,new a.MercatorCoordinate(0,(At+1)/Je).toLngLat().lat]),u_light:[Me.paint.get("hillshade-exaggeration"),Fe],u_shadow:Pe,u_highlight:Be,u_accent:Te}}(c,p,f);te.draw(D,U.TRIANGLES,y,E,M,Ve.disabled,de,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function us(c,p,f,y,E,M){var D=c.context,U=D.gl,q=p.dem;if(q&&q.data){var te=q.dim,de=q.stride,_e=q.getPixels();if(D.activeTexture.set(U.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||c.getTileTexture(de),p.demTexture){var me=p.demTexture;me.update(_e,{premultiply:!1}),me.bind(U.NEAREST,U.CLAMP_TO_EDGE)}else p.demTexture=new a.Texture(D,_e,U.RGBA,{premultiply:!1}),p.demTexture.bind(U.NEAREST,U.CLAMP_TO_EDGE);D.activeTexture.set(U.TEXTURE0);var Me=p.fbo;if(!Me){var Pe=new a.Texture(D,{width:te,height:te,data:null},U.RGBA);Pe.bind(U.LINEAR,U.CLAMP_TO_EDGE),(Me=p.fbo=D.createFramebuffer(te,te,!0)).colorAttachment.set(Pe.texture)}D.bindFramebuffer.set(Me.framebuffer),D.viewport.set([0,0,te,te]),c.useProgram("hillshadePrepare").draw(D,U.TRIANGLES,y,E,M,Ve.disabled,function(Be,Te){var Fe=Te.stride,Qe=a.create();return a.ortho(Qe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Qe,Qe,[0,-a.EXTENT,0]),{u_matrix:Qe,u_image:1,u_dimension:[Fe,Fe],u_zoom:Be.overscaledZ,u_unpack:Te.getUnpackVector()}}(p.tileID,q),f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function fa(c,p,f,y,E){var M=y.paint.get("raster-fade-duration");if(M>0){var D=a.browser.now(),U=(D-c.timeAdded)/M,q=p?(D-p.timeAdded)/M:-1,te=f.getSource(),de=E.coveringZoomLevel({tileSize:te.tileSize,roundZoom:te.roundZoom}),_e=!p||Math.abs(p.tileID.overscaledZ-de)>Math.abs(c.tileID.overscaledZ-de),me=_e&&c.refreshedUponExpiration?1:a.clamp(_e?U:1-q,0,1);return c.refreshedUponExpiration&&U>=1&&(c.refreshedUponExpiration=!1),p?{opacity:1,mix:1-me}:{opacity:me,mix:0}}return{opacity:1,mix:0}}var ls=new a.Color(1,0,0,1),Qs=new a.Color(0,1,0,1),Fp=new a.Color(0,0,1,1),Df=new a.Color(1,0,1,1),Kc=new a.Color(0,1,1,1);function gl(c,p,f,y){rt(c,0,p+f/2,c.transform.width,f,y)}function Ws(c,p,f,y){rt(c,p-f/2,0,f,c.transform.height,y)}function rt(c,p,f,y,E,M){var D=c.context,U=D.gl;U.enable(U.SCISSOR_TEST),U.scissor(p*a.browser.devicePixelRatio,f*a.browser.devicePixelRatio,y*a.browser.devicePixelRatio,E*a.browser.devicePixelRatio),D.clear({color:M}),U.disable(U.SCISSOR_TEST)}function Ot(c,p,f){var y=c.context,E=y.gl,M=f.posMatrix,D=c.useProgram("debug"),U=ve.disabled,q=Ie.disabled,te=c.colorModeForRenderPass();y.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),D.draw(y,E.LINE_STRIP,U,q,te,Ve.disabled,tc(M,a.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var de=p.getTileByID(f.key).latestRawTileData,_e=Math.floor((de&&de.byteLength||0)/1024),me=p.getTile(f).tileSize,Me=512/Math.min(me,512)*(f.overscaledZ/c.transform.zoom)*.5,Pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Pe+=" => "+f.overscaledZ),function(Be,Te){Be.initDebugOverlayCanvas();var Fe=Be.debugOverlayCanvas,Qe=Be.context.gl,Je=Be.debugOverlayCanvas.getContext("2d");Je.clearRect(0,0,Fe.width,Fe.height),Je.shadowColor="white",Je.shadowBlur=2,Je.lineWidth=1.5,Je.strokeStyle="white",Je.textBaseline="top",Je.font="bold 36px Open Sans, sans-serif",Je.fillText(Te,5,5),Je.strokeText(Te,5,5),Be.debugOverlayTexture.update(Fe),Be.debugOverlayTexture.bind(Qe.LINEAR,Qe.CLAMP_TO_EDGE)}(c,Pe+" "+_e+"kb"),D.draw(y,E.TRIANGLES,U,q,Ne.alphaBlended,Ve.disabled,tc(M,a.Color.transparent,Me),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var vt={symbol:function(c,p,f,y,E){if(c.renderPass==="translucent"){var M=Ie.disabled,D=c.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(U,q,te,de,_e,me,Me){for(var Pe=q.transform,Be=_e==="map",Te=me==="map",Fe=0,Qe=U;Fe<Qe.length;Fe+=1){var Je=Qe[Fe],At=de.getTile(Je),pt=At.getBucket(te);if(pt&&pt.text&&pt.text.segments.get().length){var mt=a.evaluateSizeForZoom(pt.textSizeData,Pe.zoom),It=ca(At,1,q.transform.zoom),zt=hi(Je.posMatrix,Te,Be,q.transform,It),Ft=te.layout.get("icon-text-fit")!=="none"&&pt.hasIconData();if(mt){var Yt=Math.pow(2,Pe.zoom-At.tileID.overscaledZ);ml(pt,Be,Te,Me,a.symbolSize,Pe,zt,Je.posMatrix,Yt,mt,Ft)}}}}(y,c,f,p,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),E),f.paint.get("icon-opacity").constantOr(1)!==0&&ks(c,p,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),M,D),f.paint.get("text-opacity").constantOr(1)!==0&&ks(c,p,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),M,D),p.map.showCollisionBoxes&&(du(c,p,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),du(c,p,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))}},circle:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("circle-opacity"),M=f.paint.get("circle-stroke-width"),D=f.paint.get("circle-stroke-opacity"),U=!f.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)!==0||M.constantOr(1)!==0&&D.constantOr(1)!==0){for(var q=c.context,te=q.gl,de=c.depthModeForSublayer(0,ve.ReadOnly),_e=Ie.disabled,me=c.colorModeForRenderPass(),Me=[],Pe=0;Pe<y.length;Pe++){var Be=y[Pe],Te=p.getTile(Be),Fe=Te.getBucket(f);if(Fe){var Qe=Fe.programConfigurations.get(f.id),Je={programConfiguration:Qe,program:c.useProgram("circle",Qe),layoutVertexBuffer:Fe.layoutVertexBuffer,indexBuffer:Fe.indexBuffer,uniformValues:Lp(c,Be,Te,f)};if(U)for(var At=0,pt=Fe.segments.get();At<pt.length;At+=1){var mt=pt[At];Me.push({segments:new a.SegmentVector([mt]),sortKey:mt.sortKey,state:Je})}else Me.push({segments:Fe.segments,sortKey:0,state:Je})}}U&&Me.sort(function(dr,Tr){return dr.sortKey-Tr.sortKey});for(var It=0,zt=Me;It<zt.length;It+=1){var Ft=zt[It],Yt=Ft.state;Yt.program.draw(q,te.TRIANGLES,de,_e,me,Ve.disabled,Yt.uniformValues,f.id,Yt.layoutVertexBuffer,Yt.indexBuffer,Ft.segments,f.paint,c.transform.zoom,Yt.programConfiguration)}}}},heatmap:function(c,p,f,y){if(f.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,M=E.gl,D=Ie.disabled,U=new Ne([M.ONE,M.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Me,Pe,Be){var Te=Me.gl;Me.activeTexture.set(Te.TEXTURE1),Me.viewport.set([0,0,Pe.width/4,Pe.height/4]);var Fe=Be.heatmapFbo;if(Fe)Te.bindTexture(Te.TEXTURE_2D,Fe.colorAttachment.get()),Me.bindFramebuffer.set(Fe.framebuffer);else{var Qe=Te.createTexture();Te.bindTexture(Te.TEXTURE_2D,Qe),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MIN_FILTER,Te.LINEAR),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MAG_FILTER,Te.LINEAR),Fe=Be.heatmapFbo=Me.createFramebuffer(Pe.width/4,Pe.height/4,!1),function(Je,At,pt,mt){var It=Je.gl;It.texImage2D(It.TEXTURE_2D,0,It.RGBA,At.width/4,At.height/4,0,It.RGBA,Je.extRenderToTextureHalfFloat?Je.extTextureHalfFloat.HALF_FLOAT_OES:It.UNSIGNED_BYTE,null),mt.colorAttachment.set(pt)}(Me,Pe,Qe,Fe)}})(E,c,f),E.clear({color:a.Color.transparent});for(var q=0;q<y.length;q++){var te=y[q];if(!p.hasRenderableParent(te)){var de=p.getTile(te),_e=de.getBucket(f);if(_e){var me=_e.programConfigurations.get(f.id);c.useProgram("heatmap",me).draw(E,M.TRIANGLES,ve.disabled,D,U,Ve.disabled,ju(te.posMatrix,de,c.transform.zoom,f.paint.get("heatmap-intensity")),f.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,f.paint,c.transform.zoom,me)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Me,Pe){var Be=Me.context,Te=Be.gl,Fe=Pe.heatmapFbo;if(Fe){Be.activeTexture.set(Te.TEXTURE0),Te.bindTexture(Te.TEXTURE_2D,Fe.colorAttachment.get()),Be.activeTexture.set(Te.TEXTURE1);var Qe=Pe.colorRampTexture;Qe||(Qe=Pe.colorRampTexture=new a.Texture(Be,Pe.colorRamp,Te.RGBA)),Qe.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Me.useProgram("heatmapTexture").draw(Be,Te.TRIANGLES,ve.disabled,Ie.disabled,Me.colorModeForRenderPass(),Ve.disabled,function(Je,At,pt,mt){var It=a.create();a.ortho(It,0,Je.width,Je.height,0,0,1);var zt=Je.context.gl;return{u_matrix:It,u_world:[zt.drawingBufferWidth,zt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:At.paint.get("heatmap-opacity")}}(Me,Pe),Pe.id,Me.viewportBuffer,Me.quadTriangleIndexBuffer,Me.viewportSegments,Pe.paint,Me.transform.zoom)}}(c,f))},line:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("line-opacity"),M=f.paint.get("line-width");if(E.constantOr(1)!==0&&M.constantOr(1)!==0)for(var D=c.depthModeForSublayer(0,ve.ReadOnly),U=c.colorModeForRenderPass(),q=f.paint.get("line-dasharray"),te=f.paint.get("line-pattern"),de=te.constantOr(1),_e=f.paint.get("line-gradient"),me=f.getCrossfadeParameters(),Me=de?"linePattern":q?"lineSDF":_e?"lineGradient":"line",Pe=c.context,Be=Pe.gl,Te=!0,Fe=0,Qe=y;Fe<Qe.length;Fe+=1){var Je=Qe[Fe],At=p.getTile(Je);if(!de||At.patternsLoaded()){var pt=At.getBucket(f);if(pt){var mt=pt.programConfigurations.get(f.id),It=c.context.program.get(),zt=c.useProgram(Me,mt),Ft=Te||zt.program!==It,Yt=te.constantOr(null);if(Yt&&At.imageAtlas){var dr=At.imageAtlas,Tr=dr.patternPositions[Yt.to.toString()],Er=dr.patternPositions[Yt.from.toString()];Tr&&Er&&mt.setConstantPatternPositions(Tr,Er)}var yn=de?Vn(c,At,f,me):q?Qc(c,At,f,q,me):_e?rc(c,At,f,pt.lineClipsArray.length):Gc(c,At,f);if(de)Pe.activeTexture.set(Be.TEXTURE0),At.imageAtlasTexture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE),mt.updatePaintBuffers(me);else if(q&&(Ft||c.lineAtlas.dirty))Pe.activeTexture.set(Be.TEXTURE0),c.lineAtlas.bind(Pe);else if(_e){var lr=pt.gradients[f.id],Rr=lr.texture;if(f.gradientVersion!==lr.version){var Jr=256;if(f.stepInterpolant){var $r=p.getSource().maxzoom,Br=Je.canonical.z===$r?Math.ceil(1<<c.transform.maxZoom-Je.canonical.z):1;Jr=a.clamp(a.nextPowerOfTwo(pt.maxLineLength/a.EXTENT*1024*Br),256,Pe.maxTextureSize)}lr.gradient=a.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Jr,image:lr.gradient||void 0,clips:pt.lineClipsArray}),lr.texture?lr.texture.update(lr.gradient):lr.texture=new a.Texture(Pe,lr.gradient,Be.RGBA),lr.version=f.gradientVersion,Rr=lr.texture}Pe.activeTexture.set(Be.TEXTURE0),Rr.bind(f.stepInterpolant?Be.NEAREST:Be.LINEAR,Be.CLAMP_TO_EDGE)}zt.draw(Pe,Be.TRIANGLES,D,c.stencilModeForClipping(Je),U,Ve.disabled,yn,f.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,f.paint,c.transform.zoom,mt,pt.layoutVertexBuffer2),Te=!1}}}}},fill:function(c,p,f,y){var E=f.paint.get("fill-color"),M=f.paint.get("fill-opacity");if(M.constantOr(1)!==0){var D=c.colorModeForRenderPass(),U=f.paint.get("fill-pattern"),q=c.opaquePassEnabledForLayer()&&!U.constantOr(1)&&E.constantOr(a.Color.transparent).a===1&&M.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===q){var te=c.depthModeForSublayer(1,c.renderPass==="opaque"?ve.ReadWrite:ve.ReadOnly);oc(c,p,f,y,te,D,!1)}if(c.renderPass==="translucent"&&f.paint.get("fill-antialias")){var de=c.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,ve.ReadOnly);oc(c,p,f,y,de,D,!0)}}},"fill-extrusion":function(c,p,f,y){var E=f.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var M=new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D);if(E!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Yo(c,p,f,y,M,Ie.disabled,Ne.disabled),Yo(c,p,f,y,M,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var D=c.colorModeForRenderPass();Yo(c,p,f,y,M,Ie.disabled,D)}}},hillshade:function(c,p,f,y){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,M=c.depthModeForSublayer(0,ve.ReadOnly),D=c.colorModeForRenderPass(),U=c.renderPass==="translucent"?c.stencilConfigForOverlap(y):[{},y],q=U[0],te=0,de=U[1];te<de.length;te+=1){var _e=de[te],me=p.getTile(_e);me.needsHillshadePrepare&&c.renderPass==="offscreen"?us(c,me,f,M,Ie.disabled,D):c.renderPass==="translucent"&&Dp(c,me,f,M,q[_e.overscaledZ],D)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,p,f,y){if(c.renderPass==="translucent"&&f.paint.get("raster-opacity")!==0&&y.length)for(var E=c.context,M=E.gl,D=p.getSource(),U=c.useProgram("raster"),q=c.colorModeForRenderPass(),te=D instanceof pe?[{},y]:c.stencilConfigForOverlap(y),de=te[0],_e=te[1],me=_e[_e.length-1].overscaledZ,Me=!c.options.moving,Pe=0,Be=_e;Pe<Be.length;Pe+=1){var Te=Be[Pe],Fe=c.depthModeForSublayer(Te.overscaledZ-me,f.paint.get("raster-opacity")===1?ve.ReadWrite:ve.ReadOnly,M.LESS),Qe=p.getTile(Te),Je=c.transform.calculatePosMatrix(Te.toUnwrapped(),Me);Qe.registerFadeDuration(f.paint.get("raster-fade-duration"));var At=p.findLoadedParent(Te,0),pt=fa(Qe,At,p,f,c.transform),mt=void 0,It=void 0,zt=f.paint.get("raster-resampling")==="nearest"?M.NEAREST:M.LINEAR;E.activeTexture.set(M.TEXTURE0),Qe.texture.bind(zt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(M.TEXTURE1),At?(At.texture.bind(zt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),mt=Math.pow(2,At.tileID.overscaledZ-Qe.tileID.overscaledZ),It=[Qe.tileID.canonical.x*mt%1,Qe.tileID.canonical.y*mt%1]):Qe.texture.bind(zt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST);var Ft=Wc(Je,It||[0,0],mt||1,pt,f);D instanceof pe?U.draw(E,M.TRIANGLES,Fe,Ie.disabled,q,Ve.disabled,Ft,f.id,D.boundsBuffer,c.quadTriangleIndexBuffer,D.boundsSegments):U.draw(E,M.TRIANGLES,Fe,de[Te.overscaledZ],q,Ve.disabled,Ft,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,p,f){var y=f.paint.get("background-color"),E=f.paint.get("background-opacity");if(E!==0){var M=c.context,D=M.gl,U=c.transform,q=U.tileSize,te=f.paint.get("background-pattern");if(!c.isPatternMissing(te)){var de=!te&&y.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===de){var _e=Ie.disabled,me=c.depthModeForSublayer(0,de==="opaque"?ve.ReadWrite:ve.ReadOnly),Me=c.colorModeForRenderPass(),Pe=c.useProgram(te?"backgroundPattern":"background"),Be=U.coveringTiles({tileSize:q});te&&(M.activeTexture.set(D.TEXTURE0),c.imageManager.bind(c.context));for(var Te=f.getCrossfadeParameters(),Fe=0,Qe=Be;Fe<Qe.length;Fe+=1){var Je=Qe[Fe],At=c.transform.calculatePosMatrix(Je.toUnwrapped()),pt=te?nc(At,E,c,te,{tileID:Je,tileSize:q},Te):Zc(At,E,y);Pe.draw(M,D.TRIANGLES,me,_e,Me,Ve.disabled,pt,f.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,p,f){for(var y=0;y<f.length;y++)Ot(c,p,f[y])},custom:function(c,p,f){var y=c.context,E=f.implementation;if(c.renderPass==="offscreen"){var M=E.prerender;M&&(c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),M.call(E,y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),y.setStencilMode(Ie.disabled);var D=E.renderingMode==="3d"?new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ve.ReadOnly);y.setDepthMode(D),E.render(y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState(),y.bindFramebuffer.set(null)}}},Vt=function(c,p){this.context=new ze(c),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lu,this.gpuTimers={}};Vt.prototype.resize=function(c,p){if(this.width=c*a.browser.devicePixelRatio,this.height=p*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var f=0,y=this.style._order;f<y.length;f+=1)this.style._layers[y[f]].resize()},Vt.prototype.setup=function(){var c=this.context,p=new a.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Fo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var f=new a.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(a.EXTENT,0),f.emplaceBack(0,a.EXTENT),f.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(f,Fo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var y=new a.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(a.EXTENT,0,a.EXTENT,0),y.emplaceBack(0,a.EXTENT,0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(y,ee.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var E=new a.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Fo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var M=new a.StructArrayLayout1ui2;M.emplaceBack(0),M.emplaceBack(1),M.emplaceBack(3),M.emplaceBack(2),M.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(M);var D=new a.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(D),this.emptyTexture=new a.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var U=this.context.gl;this.stencilClearMode=new Ie({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)},Vt.prototype.clearStencil=function(){var c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var f=a.create();a.ortho(f,0,this.width,this.height,0,0,1),a.scale(f,f,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,ve.disabled,this.stencilClearMode,Ne.disabled,Ve.disabled,_a(f),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vt.prototype._renderTileClippingMasks=function(c,p){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&p&&p.length){this.currentStencilSource=c.source;var f=this.context,y=f.gl;this.nextStencilID+p.length>256&&this.clearStencil(),f.setColorMode(Ne.disabled),f.setDepthMode(ve.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var M=0,D=p;M<D.length;M+=1){var U=D[M],q=this._tileClippingMaskIDs[U.key]=this.nextStencilID++;E.draw(f,y.TRIANGLES,ve.disabled,new Ie({func:y.ALWAYS,mask:0},q,255,y.KEEP,y.KEEP,y.REPLACE),Ne.disabled,Ve.disabled,_a(U.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vt.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,p=this.context.gl;return new Ie({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)},Vt.prototype.stencilModeForClipping=function(c){var p=this.context.gl;return new Ie({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)},Vt.prototype.stencilConfigForOverlap=function(c){var p,f=this.context.gl,y=c.sort(function(q,te){return te.overscaledZ-q.overscaledZ}),E=y[y.length-1].overscaledZ,M=y[0].overscaledZ-E+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();for(var D={},U=0;U<M;U++)D[U+E]=new Ie({func:f.GEQUAL,mask:255},U+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=M,[D,y]}return[(p={},p[E]=Ie.disabled,p),y]},Vt.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new Ne([c.CONSTANT_COLOR,c.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ne.unblended:Ne.alphaBlended},Vt.prototype.depthModeForSublayer=function(c,p,f){if(!this.opaquePassEnabledForLayer())return ve.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ve(f||this.context.gl.LEQUAL,p,[y,y])},Vt.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vt.prototype.render=function(c,p){var f=this;this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var y=this.style._order,E=this.style.sourceCaches;for(var M in E){var D=E[M];D.used&&D.prepare(this.context)}var U,q,te={},de={},_e={};for(var me in E){var Me=E[me];te[me]=Me.getVisibleCoordinates(),de[me]=te[me].slice().reverse(),_e[me]=Me.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Pe=0;Pe<y.length;Pe++)if(this.style._layers[y[Pe]].is3D()){this.opaquePassCutoff=Pe;break}this.renderPass="offscreen";for(var Be=0,Te=y;Be<Te.length;Be+=1){var Fe=this.style._layers[Te[Be]];if(Fe.hasOffscreenPass()&&!Fe.isHidden(this.transform.zoom)){var Qe=de[Fe.source];(Fe.type==="custom"||Qe.length)&&this.renderLayer(this,E[Fe.source],Fe,Qe)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var Je=this.style._layers[y[this.currentLayer]],At=E[Je.source],pt=te[Je.source];this._renderTileClippingMasks(Je,pt),this.renderLayer(this,At,Je,pt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var mt=this.style._layers[y[this.currentLayer]],It=E[mt.source],zt=(mt.type==="symbol"?_e:de)[mt.source];this._renderTileClippingMasks(mt,te[mt.source]),this.renderLayer(this,It,mt,zt)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Ft){Ft.source&&!Ft.isHidden(f.transform.zoom)&&(Ft.source!==(q&&q.id)&&(q=f.style.sourceCaches[Ft.source]),(!U||U.getSource().maxzoom<q.getSource().maxzoom)&&(U=q))}),U&&vt.debug(this,U,U.getVisibleCoordinates())),this.options.showPadding&&function(Ft){var Yt=Ft.transform.padding;gl(Ft,Ft.transform.height-(Yt.top||0),3,ls),gl(Ft,Yt.bottom||0,3,Qs),Ws(Ft,Yt.left||0,3,Fp),Ws(Ft,Ft.transform.width-(Yt.right||0),3,Df);var dr=Ft.transform.centerPoint;(function(Tr,Er,yn,lr){rt(Tr,Er-1,yn-10,2,20,lr),rt(Tr,Er-10,yn-1,20,2,lr)})(Ft,dr.x,Ft.transform.height-dr.y,Kc)}(this),this.context.setDefault()},Vt.prototype.renderLayer=function(c,p,f,y){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||y.length)&&(this.id=f.id,this.gpuTimingStart(f),vt[f.type](c,p,f,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vt.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var p=this.context.extTimerQuery,f=this.gpuTimers[c.id];f||(f=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),f.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,f.query)}},Vt.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},Vt.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},Vt.prototype.queryGpuTimers=function(c){var p={};for(var f in c){var y=c[f],E=this.context.extTimerQuery,M=E.getQueryObjectEXT(y.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(y.query),p[f]=M}return p},Vt.prototype.translatePosMatrix=function(c,p,f,y,E){if(!f[0]&&!f[1])return c;var M=E?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(M){var D=Math.sin(M),U=Math.cos(M);f=[f[0]*U-f[1]*D,f[0]*D+f[1]*U]}var q=[E?f[0]:ca(p,f[0],this.transform.zoom),E?f[1]:ca(p,f[1],this.transform.zoom),0],te=new Float32Array(16);return a.translate(te,c,q),te},Vt.prototype.saveTileTexture=function(c){var p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]},Vt.prototype.getTileTexture=function(c){var p=this._tileTextures[c];return p&&p.length>0?p.pop():null},Vt.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var p=this.imageManager.getPattern(c.from.toString()),f=this.imageManager.getPattern(c.to.toString());return!p||!f},Vt.prototype.useProgram=function(c,p){this.cache=this.cache||{};var f=""+c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[f]||(this.cache[f]=new Al(this.context,c,ei[c],p,dl[c],this._showOverdrawInspector)),this.cache[f]},Vt.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vt.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},Vt.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Vt.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Yr=function(c,p){this.points=c,this.planes=p};Yr.fromInvProjectionMatrix=function(c,p,f){var y=Math.pow(2,f),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(D){return a.transformMat4([],D,c)}).map(function(D){return a.scale$1([],D,1/D[3]/p*y)}),M=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(D){var U=a.sub([],E[D[0]],E[D[1]]),q=a.sub([],E[D[2]],E[D[1]]),te=a.normalize([],a.cross([],U,q)),de=-a.dot(te,E[D[1]]);return te.concat(de)});return new Yr(E,M)};var bn=function(c,p){this.min=c,this.max=p,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(c){for(var p=[c%2==0,c<2],f=a.clone$2(this.min),y=a.clone$2(this.max),E=0;E<p.length;E++)f[E]=p[E]?this.min[E]:this.center[E],y[E]=p[E]?this.center[E]:this.max[E];return y[2]=this.max[2],new bn(f,y)},bn.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},bn.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},bn.prototype.intersects=function(c){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],f=!0,y=0;y<c.planes.length;y++){for(var E=c.planes[y],M=0,D=0;D<p.length;D++)M+=a.dot$1(E,p[D])>=0;if(M===0)return 0;M!==p.length&&(f=!1)}if(f)return 2;for(var U=0;U<3;U++){for(var q=Number.MAX_VALUE,te=-Number.MAX_VALUE,de=0;de<c.points.length;de++){var _e=c.points[de][U]-this.min[U];q=Math.min(q,_e),te=Math.max(te,_e)}if(te<0||q>this.max[U]-this.min[U])return 0}return 1};var ti=function(c,p,f,y){if(c===void 0&&(c=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),isNaN(c)||c<0||isNaN(p)||p<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=f,this.right=y};ti.prototype.interpolate=function(c,p,f){return p.top!=null&&c.top!=null&&(this.top=a.number(c.top,p.top,f)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.number(c.bottom,p.bottom,f)),p.left!=null&&c.left!=null&&(this.left=a.number(c.left,p.left,f)),p.right!=null&&c.right!=null&&(this.right=a.number(c.right,p.right,f)),this},ti.prototype.getCenter=function(c,p){var f=a.clamp((this.left+c-this.right)/2,0,c),y=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(f,y)},ti.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},ti.prototype.clone=function(){return new ti(this.top,this.bottom,this.left,this.right)},ti.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Mr=function(c,p,f,y,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=f==null?0:f,this._maxPitch=y==null?60:y,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ti,this._posMatrixCache={},this._alignedPosMatrixCache={}},sn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Mr.prototype.clone=function(){var c=new Mr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},sn.minZoom.get=function(){return this._minZoom},sn.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},sn.maxZoom.get=function(){return this._maxZoom},sn.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},sn.minPitch.get=function(){return this._minPitch},sn.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},sn.maxPitch.get=function(){return this._maxPitch},sn.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},sn.renderWorldCopies.get=function(){return this._renderWorldCopies},sn.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},sn.worldSize.get=function(){return this.tileSize*this.scale},sn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},sn.size.get=function(){return new a.Point(this.width,this.height)},sn.bearing.get=function(){return-this.angle/Math.PI*180},sn.bearing.set=function(c){var p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},sn.pitch.get=function(){return this._pitch/Math.PI*180},sn.pitch.set=function(c){var p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},sn.fov.get=function(){return this._fov/Math.PI*180},sn.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},sn.zoom.get=function(){return this._zoom},sn.zoom.set=function(c){var p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},sn.center.get=function(){return this._center},sn.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},sn.padding.get=function(){return this._edgeInsets.toJSON()},sn.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},sn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Mr.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Mr.prototype.interpolatePadding=function(c,p,f){this._unmodified=!1,this._edgeInsets.interpolate(c,p,f),this._constrain(),this._calcMatrices()},Mr.prototype.coveringZoomLevel=function(c){var p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)},Mr.prototype.getVisibleUnwrappedCoordinates=function(c){var p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var f=this.pointCoordinate(new a.Point(0,0)),y=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),M=this.pointCoordinate(new a.Point(0,this.height)),D=Math.floor(Math.min(f.x,y.x,E.x,M.x)),U=Math.floor(Math.max(f.x,y.x,E.x,M.x)),q=D-1;q<=U+1;q++)q!==0&&p.push(new a.UnwrappedTileID(q,c));return p},Mr.prototype.coveringTiles=function(c){var p=this.coveringZoomLevel(c),f=p;if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);var y=a.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,p),M=[E*y.x,E*y.y,0],D=Yr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),U=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(U=p);var q=function(Ft){return{aabb:new bn([Ft*E,0,0],[(Ft+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Ft,fullyVisible:!1}},te=[],de=[],_e=p,me=c.reparseOverscaled?f:p;if(this._renderWorldCopies)for(var Me=1;Me<=3;Me++)te.push(q(-Me)),te.push(q(Me));for(te.push(q(0));te.length>0;){var Pe=te.pop(),Be=Pe.x,Te=Pe.y,Fe=Pe.fullyVisible;if(!Fe){var Qe=Pe.aabb.intersects(D);if(Qe===0)continue;Fe=Qe===2}var Je=Pe.aabb.distanceX(M),At=Pe.aabb.distanceY(M),pt=Math.max(Math.abs(Je),Math.abs(At));if(Pe.zoom===_e||pt>3+(1<<_e-Pe.zoom)-2&&Pe.zoom>=U)de.push({tileID:new a.OverscaledTileID(Pe.zoom===_e?me:Pe.zoom,Pe.wrap,Pe.zoom,Be,Te),distanceSq:a.sqrLen([M[0]-.5-Be,M[1]-.5-Te])});else for(var mt=0;mt<4;mt++){var It=(Be<<1)+mt%2,zt=(Te<<1)+(mt>>1);te.push({aabb:Pe.aabb.quadrant(mt),zoom:Pe.zoom+1,x:It,y:zt,wrap:Pe.wrap,fullyVisible:Fe})}}return de.sort(function(Ft,Yt){return Ft.distanceSq-Yt.distanceSq}).map(function(Ft){return Ft.tileID})},Mr.prototype.resize=function(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()},sn.unmodified.get=function(){return this._unmodified},Mr.prototype.zoomScale=function(c){return Math.pow(2,c)},Mr.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Mr.prototype.project=function(c){var p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)},Mr.prototype.unproject=function(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},sn.point.get=function(){return this.project(this.center)},Mr.prototype.setLocationAtPoint=function(c,p){var f=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),M=new a.MercatorCoordinate(E.x-(f.x-y.x),E.y-(f.y-y.y));this.center=this.coordinateLocation(M),this._renderWorldCopies&&(this.center=this.center.wrap())},Mr.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Mr.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Mr.prototype.locationCoordinate=function(c){return a.MercatorCoordinate.fromLngLat(c)},Mr.prototype.coordinateLocation=function(c){return c.toLngLat()},Mr.prototype.pointCoordinate=function(c){var p=[c.x,c.y,0,1],f=[c.x,c.y,1,1];a.transformMat4(p,p,this.pixelMatrixInverse),a.transformMat4(f,f,this.pixelMatrixInverse);var y=p[3],E=f[3],M=p[1]/y,D=f[1]/E,U=p[2]/y,q=f[2]/E,te=U===q?0:(0-U)/(q-U);return new a.MercatorCoordinate(a.number(p[0]/y,f[0]/E,te)/this.worldSize,a.number(M,D,te)/this.worldSize)},Mr.prototype.coordinatePoint=function(c){var p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix),new a.Point(p[0]/p[3],p[1]/p[3])},Mr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Mr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Mr.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Mr.prototype.calculatePosMatrix=function(c,p){p===void 0&&(p=!1);var f=c.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];var E=c.canonical,M=this.worldSize/this.zoomScale(E.z),D=E.x+Math.pow(2,E.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[D*M,E.y*M,0]),a.scale(U,U,[M/a.EXTENT,M/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),y[f]=new Float32Array(U),y[f]},Mr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Mr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,p,f,y,E=-90,M=90,D=-180,U=180,q=this.size,te=this._unmodified;if(this.latRange){var de=this.latRange;E=a.mercatorYfromLat(de[1])*this.worldSize,c=(M=a.mercatorYfromLat(de[0])*this.worldSize)-E<q.y?q.y/(M-E):0}if(this.lngRange){var _e=this.lngRange;D=a.mercatorXfromLng(_e[0])*this.worldSize,p=(U=a.mercatorXfromLng(_e[1])*this.worldSize)-D<q.x?q.x/(U-D):0}var me=this.point,Me=Math.max(p||0,c||0);if(Me)return this.center=this.unproject(new a.Point(p?(U+D)/2:me.x,c?(M+E)/2:me.y)),this.zoom+=this.scaleZoom(Me),this._unmodified=te,void(this._constraining=!1);if(this.latRange){var Pe=me.y,Be=q.y/2;Pe-Be<E&&(y=E+Be),Pe+Be>M&&(y=M-Be)}if(this.lngRange){var Te=me.x,Fe=q.x/2;Te-Fe<D&&(f=D+Fe),Te+Fe>U&&(f=U-Fe)}f===void 0&&y===void 0||(this.center=this.unproject(new a.Point(f!==void 0?f:me.x,y!==void 0?y:me.y))),this._unmodified=te,this._constraining=!1}},Mr.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,f=this._fov*(.5+c.y/this.height),y=Math.sin(f)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-p-f,.01,Math.PI-.01)),E=this.point,M=E.x,D=E.y,U=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),q=this.height/50,te=new Float64Array(16);a.perspective(te,this._fov,this.width/this.height,q,U),te[8]=2*-c.x/this.width,te[9]=2*c.y/this.height,a.scale(te,te,[1,-1,1]),a.translate(te,te,[0,0,-this.cameraToCenterDistance]),a.rotateX(te,te,this._pitch),a.rotateZ(te,te,this.angle),a.translate(te,te,[-M,-D,0]),this.mercatorMatrix=a.scale([],te,[this.worldSize,this.worldSize,this.worldSize]),a.scale(te,te,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=te,this.invProjMatrix=a.invert([],this.projMatrix);var de=this.width%2/2,_e=this.height%2/2,me=Math.cos(this.angle),Me=Math.sin(this.angle),Pe=M-Math.round(M)+me*de+Me*_e,Be=D-Math.round(D)+me*_e+Me*de,Te=new Float64Array(te);if(a.translate(Te,Te,[Pe>.5?Pe-1:Pe,Be>.5?Be-1:Be,0]),this.alignedProjMatrix=Te,te=a.create(),a.scale(te,te,[this.width/2,-this.height/2,1]),a.translate(te,te,[1,-1,0]),this.labelPlaneMatrix=te,te=a.create(),a.scale(te,te,[1,-1,1]),a.translate(te,te,[-1,-1,0]),a.scale(te,te,[2/this.width,2/this.height,1]),this.glCoordMatrix=te,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(te=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=te,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Mr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},Mr.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))},Mr.prototype.getCameraQueryGeometry=function(c){var p=this.getCameraPoint();if(c.length===1)return[c[0],p];for(var f=p.x,y=p.y,E=p.x,M=p.y,D=0,U=c;D<U.length;D+=1){var q=U[D];f=Math.min(f,q.x),y=Math.min(y,q.y),E=Math.max(E,q.x),M=Math.max(M,q.y)}return[new a.Point(f,y),new a.Point(E,y),new a.Point(E,M),new a.Point(f,M),new a.Point(f,y)]},Object.defineProperties(Mr.prototype,sn);var $u=function(c){var p,f,y,E;this._hashName=c&&encodeURIComponent(c),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),f=!1,y=null,E=function(){y=null,f&&(p(),y=setTimeout(E,300),f=!1)},function(){return f=!0,y||E(),y})};$u.prototype.addTo=function(c){return this._map=c,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},$u.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},$u.prototype.getHashString=function(c){var p=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,y),M=Math.round(p.lng*E)/E,D=Math.round(p.lat*E)/E,U=this._map.getBearing(),q=this._map.getPitch(),te="";if(te+=c?"/"+M+"/"+D+"/"+f:f+"/"+D+"/"+M,(U||q)&&(te+="/"+Math.round(10*U)/10),q&&(te+="/"+Math.round(q)),this._hashName){var de=this._hashName,_e=!1,me=a.window.location.hash.slice(1).split("&").map(function(Me){var Pe=Me.split("=")[0];return Pe===de?(_e=!0,Pe+"="+te):Me}).filter(function(Me){return Me});return _e||me.push(de+"="+te),"#"+me.join("&")}return"#"+te},$u.prototype._getCurrentHash=function(){var c,p=this,f=a.window.location.hash.replace("#","");return this._hashName?(f.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(c=y)}),(c&&c[1]||"").split("/")):f.split("/")},$u.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(f){return isNaN(f)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:p,pitch:+(c[4]||0)}),!0}return!1},$u.prototype._updateHashUnthrottled=function(){var c=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,c)}catch{}};var ji={linearity:.3,easing:a.bezier(0,0,.3,1)},yl=a.extend({deceleration:2500,maxSpeed:1400},ji),xa=a.extend({deceleration:20,maxSpeed:1400},ji),cs=a.extend({deceleration:1e3,maxSpeed:360},ji),Xc=a.extend({deceleration:1e3,maxSpeed:90},ji),mu=function(c){this._map=c,this.clear()};function Un(c,p){(!c.duration||c.duration<p.duration)&&(c.duration=p.duration,c.easing=p.easing)}function ac(c,p,f){var y=f.maxSpeed,E=f.linearity,M=f.deceleration,D=a.clamp(c*E/(p/1e3),-y,y),U=Math.abs(D)/(M*E);return{easing:f.easing,duration:1e3*U,amount:D*(U/2)}}mu.prototype.clear=function(){this._inertiaBuffer=[]},mu.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})},mu.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,p=a.browser.now();c.length>0&&p-c[0].time>160;)c.shift()},mu.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},f=0,y=this._inertiaBuffer;f<y.length;f+=1){var E=y[f].settings;p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround)}var M=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(p.pan.mag()){var U=ac(p.pan.mag(),M,a.extend({},yl,c||{}));D.offset=p.pan.mult(U.amount/p.pan.mag()),D.center=this._map.transform.center,Un(D,U)}if(p.zoom){var q=ac(p.zoom,M,xa);D.zoom=this._map.transform.zoom+q.amount,Un(D,q)}if(p.bearing){var te=ac(p.bearing,M,cs);D.bearing=this._map.transform.bearing+a.clamp(te.amount,-179,179),Un(D,te)}if(p.pitch){var de=ac(p.pitch,M,Xc);D.pitch=this._map.transform.pitch+de.amount,Un(D,de)}if(D.zoom||D.bearing){var _e=p.pinchAround===void 0?p.around:p.pinchAround;D.around=_e?this._map.unproject(_e):this._map.getCenter()}return this.clear(),a.extend(D,{noMoveStart:!0})}};var Po=function(c){function p(y,E,M,D){D===void 0&&(D={});var U=S.mousePos(E.getCanvasContainer(),M),q=E.unproject(U);c.call(this,y,a.extend({point:U,lngLat:q,originalEvent:M},D)),this._defaultPrevented=!1,this.target=E}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),ho=function(c){function p(y,E,M){var D=y==="touchend"?M.changedTouches:M.touches,U=S.touchPos(E.getCanvasContainer(),D),q=U.map(function(_e){return E.unproject(_e)}),te=U.reduce(function(_e,me,Me,Pe){return _e.add(me.div(Pe.length))},new a.Point(0,0)),de=E.unproject(te);c.call(this,y,{points:U,point:te,lngLats:q,lngLat:de,originalEvent:M}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Ff=function(c){function p(y,E,M){c.call(this,y,{originalEvent:M}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Ki=function(c,p){this._map=c,this._clickTolerance=p.clickTolerance};Ki.prototype.reset=function(){delete this._mousedownPos},Ki.prototype.wheel=function(c){return this._firePreventable(new Ff(c.type,this._map,c))},Ki.prototype.mousedown=function(c,p){return this._mousedownPos=p,this._firePreventable(new Po(c.type,this._map,c))},Ki.prototype.mouseup=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.click=function(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.dblclick=function(c){return this._firePreventable(new Po(c.type,this._map,c))},Ki.prototype.mouseover=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.mouseout=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.touchstart=function(c){return this._firePreventable(new ho(c.type,this._map,c))},Ki.prototype.touchmove=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype.touchend=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype.touchcancel=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Ki.prototype.isEnabled=function(){return!0},Ki.prototype.isActive=function(){return!1},Ki.prototype.enable=function(){},Ki.prototype.disable=function(){};var ba=function(c){this._map=c};ba.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ba.prototype.mousemove=function(c){this._map.fire(new Po(c.type,this._map,c))},ba.prototype.mousedown=function(){this._delayContextMenu=!0},ba.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ba.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Po(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},ba.prototype.isEnabled=function(){return!0},ba.prototype.isActive=function(){return!1},ba.prototype.enable=function(){},ba.prototype.disable=function(){};var nr=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1};function $a(c,p){for(var f={},y=0;y<c.length;y++)f[c[y].identifier]=p[y];return f}nr.prototype.isEnabled=function(){return!!this._enabled},nr.prototype.isActive=function(){return!!this._active},nr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},nr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},nr.prototype.mousedown=function(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(S.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},nr.prototype.mousemoveWindow=function(c,p){if(this._active){var f=p;if(!(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=f,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(y.x,f.x),M=Math.max(y.x,f.x),D=Math.min(y.y,f.y),U=Math.max(y.y,f.y);S.setTransform(this._box,"translate("+E+"px,"+D+"px)"),this._box.style.width=M-E+"px",this._box.style.height=U-D+"px"}}},nr.prototype.mouseupWindow=function(c,p){var f=this;if(this._active&&c.button===0){var y=this._startPos,E=p;if(this.reset(),S.suppressClick(),y.x!==E.x||y.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(M){return M.fitScreenCoordinates(y,E,f._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},nr.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},nr.prototype.reset=function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},nr.prototype._fireEvent=function(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))};var Zs=function(c){this.reset(),this.numTouches=c.numTouches};Zs.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zs.prototype.touchstart=function(c,p,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){for(var E=new a.Point(0,0),M=0,D=y;M<D.length;M+=1)E._add(D[M]);return E.div(y.length)}(p),this.touches=$a(f,p)))},Zs.prototype.touchmove=function(c,p,f){if(!this.aborted&&this.centroid){var y=$a(f,p);for(var E in this.touches){var M=y[E];(!M||M.dist(this.touches[E])>30)&&(this.aborted=!0)}}},Zs.prototype.touchend=function(c,p,f){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Ks=function(c){this.singleTap=new Zs(c),this.numTaps=c.numTaps,this.reset()};Ks.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ks.prototype.touchstart=function(c,p,f){this.singleTap.touchstart(c,p,f)},Ks.prototype.touchmove=function(c,p,f){this.singleTap.touchmove(c,p,f)},Ks.prototype.touchend=function(c,p,f){var y=this.singleTap.touchend(c,p,f);if(y){var E=c.timeStamp-this.lastTime<500,M=!this.lastTap||this.lastTap.dist(y)<30;if(E&&M||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var Bo=function(){this._zoomIn=new Ks({numTouches:1,numTaps:2}),this._zoomOut=new Ks({numTouches:2,numTaps:1}),this.reset()};Bo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Bo.prototype.touchstart=function(c,p,f){this._zoomIn.touchstart(c,p,f),this._zoomOut.touchstart(c,p,f)},Bo.prototype.touchmove=function(c,p,f){this._zoomIn.touchmove(c,p,f),this._zoomOut.touchmove(c,p,f)},Bo.prototype.touchend=function(c,p,f){var y=this,E=this._zoomIn.touchend(c,p,f),M=this._zoomOut.touchend(c,p,f);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(E)},{originalEvent:c})}}):M?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(M)},{originalEvent:c})}}):void 0},Bo.prototype.touchcancel=function(){this.reset()},Bo.prototype.enable=function(){this._enabled=!0},Bo.prototype.disable=function(){this._enabled=!1,this.reset()},Bo.prototype.isEnabled=function(){return this._enabled},Bo.prototype.isActive=function(){return this._active};var vl={0:1,2:2},Jo=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Jo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Jo.prototype._correctButton=function(c,p){return!1},Jo.prototype._move=function(c,p){return{}},Jo.prototype.mousedown=function(c,p){if(!this._lastPoint){var f=S.mouseButton(c);this._correctButton(c,f)&&(this._lastPoint=p,this._eventButton=f)}},Jo.prototype.mousemoveWindow=function(c,p){var f=this._lastPoint;if(f){if(c.preventDefault(),function(y,E){var M=vl[E];return y.buttons===void 0||(y.buttons&M)!==M}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(f,p)}},Jo.prototype.mouseupWindow=function(c){this._lastPoint&&S.mouseButton(c)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())},Jo.prototype.enable=function(){this._enabled=!0},Jo.prototype.disable=function(){this._enabled=!1,this.reset()},Jo.prototype.isEnabled=function(){return this._enabled},Jo.prototype.isActive=function(){return this._active};var ar=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.mousedown=function(f,y){c.prototype.mousedown.call(this,f,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(f,y){return y===0&&!f.ctrlKey},p.prototype._move=function(f,y){return{around:y,panDelta:y.sub(f)}},p}(Jo),sc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=.8*(y.x-f.x);if(E)return this._active=!0,{bearingDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Jo),Xs=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=-.5*(y.y-f.y);if(E)return this._active=!0,{pitchDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Jo),mo=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};mo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},mo.prototype.touchstart=function(c,p,f){return this._calculateTransform(c,p,f)},mo.prototype.touchmove=function(c,p,f){if(this._active&&!(f.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,f)},mo.prototype.touchend=function(c,p,f){this._calculateTransform(c,p,f),this._active&&f.length<this._minTouches&&this.reset()},mo.prototype.touchcancel=function(){this.reset()},mo.prototype._calculateTransform=function(c,p,f){f.length>0&&(this._active=!0);var y=$a(f,p),E=new a.Point(0,0),M=new a.Point(0,0),D=0;for(var U in y){var q=y[U],te=this._touches[U];te&&(E._add(q),M._add(q.sub(te)),D++,y[U]=q)}if(this._touches=y,!(D<this._minTouches)&&M.mag()){var de=M.div(D);if(this._sum._add(de),!(this._sum.mag()<this._clickTolerance))return{around:E.div(D),panDelta:de}}},mo.prototype.enable=function(){this._enabled=!0},mo.prototype.disable=function(){this._enabled=!1,this.reset()},mo.prototype.isEnabled=function(){return this._enabled},mo.prototype.isActive=function(){return this._active};var wn=function(){this.reset()};function Yc(c,p,f){for(var y=0;y<c.length;y++)if(c[y].identifier===f)return p[y]}function Bp(c,p){return Math.log(c/p)/Math.LN2}wn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},wn.prototype._start=function(c){},wn.prototype._move=function(c,p,f){return{}},wn.prototype.touchstart=function(c,p,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([p[0],p[1]]))},wn.prototype.touchmove=function(c,p,f){if(this._firstTwoTouches){c.preventDefault();var y=this._firstTwoTouches,E=y[1],M=Yc(f,p,y[0]),D=Yc(f,p,E);if(M&&D){var U=this._aroundCenter?null:M.add(D).div(2);return this._move([M,D],U,c)}}},wn.prototype.touchend=function(c,p,f){if(this._firstTwoTouches){var y=this._firstTwoTouches,E=y[1],M=Yc(f,p,y[0]),D=Yc(f,p,E);M&&D||(this._active&&S.suppressClick(),this.reset())}},wn.prototype.touchcancel=function(){this.reset()},wn.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},wn.prototype.disable=function(){this._enabled=!1,this.reset()},wn.prototype.isEnabled=function(){return this._enabled},wn.prototype.isActive=function(){return this._active};var Bf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(f){this._startDistance=this._distance=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(Bp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Bp(this._distance,E),pinchAround:y}},p}(wn);function go(c,p){return 180*c.angleWith(p)/Math.PI}var Va=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:go(this._vector,E),pinchAround:y}},p.prototype._isBelowThreshold=function(f){this._minDiameter=Math.min(this._minDiameter,f.mag());var y=25/(Math.PI*this._minDiameter)*360,E=go(f,this._startVector);return Math.abs(E)<y},p}(wn);function Vu(c){return Math.abs(c.y)>Math.abs(c.x)}var Jc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(f){this._lastPoints=f,Vu(f[0].sub(f[1]))&&(this._valid=!1)},p.prototype._move=function(f,y,E){var M=f[0].sub(this._lastPoints[0]),D=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(M,D,E.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(M.y+D.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(f,y,E){if(this._valid!==void 0)return this._valid;var M=f.mag()>=2,D=y.mag()>=2;if(M||D){if(!M||!D)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var U=f.y>0==y.y>0;return Vu(f)&&Vu(y)&&U}},p}(wn),ef={panStep:100,bearingStep:15,pitchStep:10},fs=function(){var c=ef;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function zp(c){return c*(2-c)}fs.prototype.reset=function(){this._active=!1},fs.prototype.keydown=function(c){var p=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=0,y=0,E=0,M=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),M=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),M=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,E=0),{cameraAnimation:function(U){var q=U.getZoom();U.easeTo({duration:300,easeId:"keyboardHandler",easing:zp,zoom:f?Math.round(q)+f*(c.shiftKey?2:1):q,bearing:U.getBearing()+y*p._bearingStep,pitch:U.getPitch()+E*p._pitchStep,offset:[-M*p._panStep,-D*p._panStep],center:U.getCenter()},{originalEvent:c})}}}},fs.prototype.enable=function(){this._enabled=!0},fs.prototype.disable=function(){this._enabled=!1,this.reset()},fs.prototype.isEnabled=function(){return this._enabled},fs.prototype.isActive=function(){return this._active},fs.prototype.disableRotation=function(){this._rotationDisabled=!0},fs.prototype.enableRotation=function(){this._rotationDisabled=!1};var tn=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onTimeout"],this)};tn.prototype.setZoomRate=function(c){this._defaultZoomRate=c},tn.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},tn.prototype.isEnabled=function(){return!!this._enabled},tn.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},tn.prototype.isZooming=function(){return!!this._zooming},tn.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},tn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},tn.prototype.wheel=function(c){if(this.isEnabled()){var p=c.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,f=a.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}},tn.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},tn.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=S.mousePos(this._el,c);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},tn.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var f=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*f)));this._delta<0&&y!==0&&(y=1/y);var E=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(E*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var M,D=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,U=this._startZoom,q=this._easing,te=!1;if(this._type==="wheel"&&U&&q){var de=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),_e=q(de);M=a.number(U,D,_e),de<1?this._frameId||(this._frameId=!0):te=!0}else M=D,te=!0;return this._active=!0,te&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!te,zoomDelta:M-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},tn.prototype._smoothOutEasing=function(c){var p=a.ease;if(this._prevEase){var f=this._prevEase,y=(a.browser.now()-f.start)/f.duration,E=f.easing(y+.01)-f.easing(y),M=.27/Math.sqrt(E*E+1e-4)*.01,D=Math.sqrt(.0729-M*M);p=a.bezier(M,D,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p},tn.prototype.reset=function(){this._active=!1};var Gr=function(c,p){this._clickZoom=c,this._tapZoom=p};Gr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Gr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Gr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Gr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var pa=function(){this.reset()};pa.prototype.reset=function(){this._active=!1},pa.prototype.dblclick=function(c,p){return c.preventDefault(),{cameraAnimation:function(f){f.easeTo({duration:300,zoom:f.getZoom()+(c.shiftKey?-1:1),around:f.unproject(p)},{originalEvent:c})}}},pa.prototype.enable=function(){this._enabled=!0},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};var Pi=function(){this._tap=new Ks({numTouches:1,numTaps:1}),this.reset()};Pi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Pi.prototype.touchstart=function(c,p,f){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=p[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(c,p,f))},Pi.prototype.touchmove=function(c,p,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;var y=p[0],E=y.y-this._swipePoint.y;return this._swipePoint=y,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,f)},Pi.prototype.touchend=function(c,p,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(c,p,f)&&(this._tapTime=c.timeStamp)},Pi.prototype.touchcancel=function(){this.reset()},Pi.prototype.enable=function(){this._enabled=!0},Pi.prototype.disable=function(){this._enabled=!1,this.reset()},Pi.prototype.isEnabled=function(){return this._enabled},Pi.prototype.isActive=function(){return this._active};var Fr=function(c,p,f){this._el=c,this._mousePan=p,this._touchPan=f};Fr.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Fr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Fr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Fr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var zo=function(c,p,f){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=f};zo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},zo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},zo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},zo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ha=function(c,p,f,y){this._el=c,this._touchZoom=p,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ha.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ha.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ha.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ha.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ea=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ta=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p}(a.Event);function qa(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Gt=function(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mu(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),a.bindAll(["handleEvent","handleWindowEvent"],this);var f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[a.window,"blur",void 0]];for(var y=0,E=this._listeners;y<E.length;y+=1){var M=E[y],D=M[0];S.addEventListener(D,M[1],D===a.window.document?this.handleWindowEvent:this.handleEvent,M[2])}};Gt.prototype.destroy=function(){for(var c=0,p=this._listeners;c<p.length;c+=1){var f=p[c],y=f[0];S.removeEventListener(y,f[1],y===a.window.document?this.handleWindowEvent:this.handleEvent,f[2])}},Gt.prototype._addDefaultHandlers=function(c){var p=this._map,f=p.getCanvasContainer();this._add("mapEvent",new Ki(p,c));var y=p.boxZoom=new nr(p,c);this._add("boxZoom",y);var E=new Bo,M=new pa;p.doubleClickZoom=new Gr(M,E),this._add("tapZoom",E),this._add("clickZoom",M);var D=new Pi;this._add("tapDragZoom",D);var U=p.touchPitch=new Jc;this._add("touchPitch",U);var q=new sc(c),te=new Xs(c);p.dragRotate=new zo(c,q,te),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",te,["mouseRotate"]);var de=new ar(c),_e=new mo(c);p.dragPan=new Fr(f,de,_e),this._add("mousePan",de),this._add("touchPan",_e,["touchZoom","touchRotate"]);var me=new Va,Me=new Bf;p.touchZoomRotate=new Ha(f,Me,me,D),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",Me,["touchPan","touchRotate"]);var Pe=p.scrollZoom=new tn(p,this);this._add("scrollZoom",Pe,["mousePan"]);var Be=p.keyboard=new fs;this._add("keyboard",Be),this._add("blockableMapEvent",new ba(p));for(var Te=0,Fe=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Te<Fe.length;Te+=1){var Qe=Fe[Te];c.interactive&&c[Qe]&&p[Qe].enable(c[Qe])}},Gt.prototype._add=function(c,p,f){this._handlers.push({handlerName:c,handler:p,allowed:f}),this._handlersById[c]=p},Gt.prototype.stop=function(c){if(!this._updatingCamera){for(var p=0,f=this._handlers;p<f.length;p+=1)f[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Gt.prototype.isActive=function(){for(var c=0,p=this._handlers;c<p.length;c+=1)if(p[c].handler.isActive())return!0;return!1},Gt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Gt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Gt.prototype.isMoving=function(){return Boolean(ea(this._eventsInProgress))||this.isZooming()},Gt.prototype._blockedByActive=function(c,p,f){for(var y in c)if(y!==f&&(!p||p.indexOf(y)<0))return!0;return!1},Gt.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Gt.prototype._getMapTouches=function(c){for(var p=[],f=0,y=c;f<y.length;f+=1){var E=y[f];this._el.contains(E.target)&&p.push(E)}return p},Gt.prototype.handleEvent=function(c,p){if(c.type!=="blur"){this._updatingCamera=!0;for(var f=c.type==="renderFrame"?void 0:c,y={needsRenderFrame:!1},E={},M={},D=c.touches?this._getMapTouches(c.touches):void 0,U=D?S.touchPos(this._el,D):S.mousePos(this._el,c),q=0,te=this._handlers;q<te.length;q+=1){var de=te[q],_e=de.handlerName,me=de.handler,Me=de.allowed;if(me.isEnabled()){var Pe=void 0;this._blockedByActive(M,Me,_e)?me.reset():me[p||c.type]&&(Pe=me[p||c.type](c,U,D),this.mergeHandlerResult(y,E,Pe,_e,f),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||me.isActive())&&(M[_e]=me)}}var Be={};for(var Te in this._previousActiveHandlers)M[Te]||(Be[Te]=f);this._previousActiveHandlers=M,(Object.keys(Be).length||qa(y))&&(this._changes.push([y,E,Be]),this._triggerRenderFrame()),(Object.keys(M).length||qa(y))&&this._map._stop(!0),this._updatingCamera=!1;var Fe=y.cameraAnimation;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}else this.stop(!0)},Gt.prototype.mergeHandlerResult=function(c,p,f,y,E){if(f){a.extend(c,f);var M={handlerName:y,originalEvent:f.originalEvent||E};f.zoomDelta!==void 0&&(p.zoom=M),f.panDelta!==void 0&&(p.drag=M),f.pitchDelta!==void 0&&(p.pitch=M),f.bearingDelta!==void 0&&(p.rotate=M)}},Gt.prototype._applyChanges=function(){for(var c={},p={},f={},y=0,E=this._changes;y<E.length;y+=1){var M=E[y],D=M[0],U=M[1],q=M[2];D.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(D.panDelta)),D.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+D.pitchDelta),D.around!==void 0&&(c.around=D.around),D.pinchAround!==void 0&&(c.pinchAround=D.pinchAround),D.noInertia&&(c.noInertia=D.noInertia),a.extend(p,U),a.extend(f,q)}this._updateMapTransform(c,p,f),this._changes=[]},Gt.prototype._updateMapTransform=function(c,p,f){var y=this._map,E=y.transform;if(!qa(c))return this._fireEvents(p,f,!0);var M=c.panDelta,D=c.zoomDelta,U=c.bearingDelta,q=c.pitchDelta,te=c.around,de=c.pinchAround;de!==void 0&&(te=de),y._stop(!0),te=te||y.transform.centerPoint;var _e=E.pointLocation(M?te.sub(M):te);U&&(E.bearing+=U),q&&(E.pitch+=q),D&&(E.zoom+=D),E.setLocationAtPoint(_e,te),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,f,!0)},Gt.prototype._fireEvents=function(c,p,f){var y=this,E=ea(this._eventsInProgress),M=ea(c),D={};for(var U in c)this._eventsInProgress[U]||(D[U+"start"]=c[U].originalEvent),this._eventsInProgress[U]=c[U];for(var q in!E&&M&&this._fireEvent("movestart",M.originalEvent),D)this._fireEvent(q,D[q]);for(var te in M&&this._fireEvent("move",M.originalEvent),c)this._fireEvent(te,c[te].originalEvent);var de,_e={};for(var me in this._eventsInProgress){var Me=this._eventsInProgress[me],Pe=Me.handlerName,Be=Me.originalEvent;this._handlersById[Pe].isActive()||(delete this._eventsInProgress[me],_e[me+"end"]=de=p[Pe]||Be)}for(var Te in _e)this._fireEvent(Te,_e[Te]);var Fe=ea(this._eventsInProgress);if(f&&(E||M)&&!Fe){this._updatingCamera=!0;var Qe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Je=function(At){return At!==0&&-y._bearingSnap<At&&At<y._bearingSnap};Qe?(Je(Qe.bearing||this._map.getBearing())&&(Qe.bearing=0),this._map.easeTo(Qe,{originalEvent:de})):(this._map.fire(new a.Event("moveend",{originalEvent:de})),Je(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Gt.prototype._fireEvent=function(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))},Gt.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete c._frameId,c.handleEvent(new ta("renderFrame",{timeStamp:p})),c._applyChanges()})},Gt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ht=function(c){function p(f,y){c.call(this),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=y.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(f,y){return this.jumpTo({center:f},y)},p.prototype.panBy=function(f,y,E){return f=a.Point.convert(f).mult(-1),this.panTo(this.transform.center,a.extend({offset:f},y),E)},p.prototype.panTo=function(f,y,E){return this.easeTo(a.extend({center:f},y),E)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(f,y){return this.jumpTo({zoom:f},y),this},p.prototype.zoomTo=function(f,y,E){return this.easeTo(a.extend({zoom:f},y),E)},p.prototype.zoomIn=function(f,y){return this.zoomTo(this.getZoom()+1,f,y),this},p.prototype.zoomOut=function(f,y){return this.zoomTo(this.getZoom()-1,f,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(f,y){return this.jumpTo({bearing:f},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(f,y){return this.jumpTo({padding:f},y),this},p.prototype.rotateTo=function(f,y,E){return this.easeTo(a.extend({bearing:f},y),E)},p.prototype.resetNorth=function(f,y){return this.rotateTo(0,a.extend({duration:1e3},f),y),this},p.prototype.resetNorthPitch=function(f,y){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},f),y),this},p.prototype.snapToNorth=function(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(f,y){return this.jumpTo({pitch:f},y),this},p.prototype.cameraForBounds=function(f,y){f=a.LngLatBounds.convert(f);var E=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),E,y)},p.prototype._cameraForBoxAndBearing=function(f,y,E,M){var D={top:0,bottom:0,right:0,left:0};if(typeof(M=a.extend({padding:D,offset:[0,0],maxZoom:this.transform.maxZoom},M)).padding=="number"){var U=M.padding;M.padding={top:U,bottom:U,right:U,left:U}}M.padding=a.extend(D,M.padding);var q=this.transform,te=q.padding,de=q.project(a.LngLat.convert(f)),_e=q.project(a.LngLat.convert(y)),me=de.rotate(-E*Math.PI/180),Me=_e.rotate(-E*Math.PI/180),Pe=new a.Point(Math.max(me.x,Me.x),Math.max(me.y,Me.y)),Be=new a.Point(Math.min(me.x,Me.x),Math.min(me.y,Me.y)),Te=Pe.sub(Be),Fe=(q.width-(te.left+te.right+M.padding.left+M.padding.right))/Te.x,Qe=(q.height-(te.top+te.bottom+M.padding.top+M.padding.bottom))/Te.y;if(!(Qe<0||Fe<0)){var Je=Math.min(q.scaleZoom(q.scale*Math.min(Fe,Qe)),M.maxZoom),At=typeof M.offset.x=="number"?new a.Point(M.offset.x,M.offset.y):a.Point.convert(M.offset),pt=new a.Point((M.padding.left-M.padding.right)/2,(M.padding.top-M.padding.bottom)/2).rotate(E*Math.PI/180),mt=At.add(pt).mult(q.scale/q.zoomScale(Je));return{center:q.unproject(de.add(_e).div(2).sub(mt)),zoom:Je,bearing:E}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(f,y,E){return this._fitInternal(this.cameraForBounds(f,y),y,E)},p.prototype.fitScreenCoordinates=function(f,y,E,M,D){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(f)),this.transform.pointLocation(a.Point.convert(y)),E,M),M,D)},p.prototype._fitInternal=function(f,y,E){return f?(delete(y=a.extend(f,y)).padding,y.linear?this.easeTo(y,E):this.flyTo(y,E)):this},p.prototype.jumpTo=function(f,y){this.stop();var E=this.transform,M=!1,D=!1,U=!1;return"zoom"in f&&E.zoom!==+f.zoom&&(M=!0,E.zoom=+f.zoom),f.center!==void 0&&(E.center=a.LngLat.convert(f.center)),"bearing"in f&&E.bearing!==+f.bearing&&(D=!0,E.bearing=+f.bearing),"pitch"in f&&E.pitch!==+f.pitch&&(U=!0,E.pitch=+f.pitch),f.padding==null||E.isPaddingEqual(f.padding)||(E.padding=f.padding),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y)),M&&this.fire(new a.Event("zoomstart",y)).fire(new a.Event("zoom",y)).fire(new a.Event("zoomend",y)),D&&this.fire(new a.Event("rotatestart",y)).fire(new a.Event("rotate",y)).fire(new a.Event("rotateend",y)),U&&this.fire(new a.Event("pitchstart",y)).fire(new a.Event("pitch",y)).fire(new a.Event("pitchend",y)),this.fire(new a.Event("moveend",y))},p.prototype.easeTo=function(f,y){var E=this;this._stop(!1,f.easeId),((f=a.extend({offset:[0,0],duration:500,easing:a.ease},f)).animate===!1||!f.essential&&a.browser.prefersReducedMotion)&&(f.duration=0);var M=this.transform,D=this.getZoom(),U=this.getBearing(),q=this.getPitch(),te=this.getPadding(),de="zoom"in f?+f.zoom:D,_e="bearing"in f?this._normalizeBearing(f.bearing,U):U,me="pitch"in f?+f.pitch:q,Me="padding"in f?f.padding:M.padding,Pe=a.Point.convert(f.offset),Be=M.centerPoint.add(Pe),Te=M.pointLocation(Be),Fe=a.LngLat.convert(f.center||Te);this._normalizeCenter(Fe);var Qe,Je,At=M.project(Te),pt=M.project(Fe).sub(At),mt=M.zoomScale(de-D);f.around&&(Qe=a.LngLat.convert(f.around),Je=M.locationPoint(Qe));var It={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||de!==D,this._rotating=this._rotating||U!==_e,this._pitching=this._pitching||me!==q,this._padding=!M.isPaddingEqual(Me),this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,It),this._ease(function(zt){if(E._zooming&&(M.zoom=a.number(D,de,zt)),E._rotating&&(M.bearing=a.number(U,_e,zt)),E._pitching&&(M.pitch=a.number(q,me,zt)),E._padding&&(M.interpolatePadding(te,Me,zt),Be=M.centerPoint.add(Pe)),Qe)M.setLocationAtPoint(Qe,Je);else{var Ft=M.zoomScale(M.zoom-D),Yt=de>D?Math.min(2,mt):Math.max(.5,mt),dr=Math.pow(Yt,1-zt),Tr=M.unproject(At.add(pt.mult(zt*dr)).mult(Ft));M.setLocationAtPoint(M.renderWorldCopies?Tr.wrap():Tr,Be)}E._fireMoveEvents(y)},function(zt){E._afterEase(y,zt)},f),this},p.prototype._prepareEase=function(f,y,E){E===void 0&&(E={}),this._moving=!0,y||E.moving||this.fire(new a.Event("movestart",f)),this._zooming&&!E.zooming&&this.fire(new a.Event("zoomstart",f)),this._rotating&&!E.rotating&&this.fire(new a.Event("rotatestart",f)),this._pitching&&!E.pitching&&this.fire(new a.Event("pitchstart",f))},p.prototype._fireMoveEvents=function(f){this.fire(new a.Event("move",f)),this._zooming&&this.fire(new a.Event("zoom",f)),this._rotating&&this.fire(new a.Event("rotate",f)),this._pitching&&this.fire(new a.Event("pitch",f))},p.prototype._afterEase=function(f,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var E=this._zooming,M=this._rotating,D=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new a.Event("zoomend",f)),M&&this.fire(new a.Event("rotateend",f)),D&&this.fire(new a.Event("pitchend",f)),this.fire(new a.Event("moveend",f))}},p.prototype.flyTo=function(f,y){var E=this;if(!f.essential&&a.browser.prefersReducedMotion){var M=a.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(M,y)}this.stop(),f=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},f);var D=this.transform,U=this.getZoom(),q=this.getBearing(),te=this.getPitch(),de=this.getPadding(),_e="zoom"in f?a.clamp(+f.zoom,D.minZoom,D.maxZoom):U,me="bearing"in f?this._normalizeBearing(f.bearing,q):q,Me="pitch"in f?+f.pitch:te,Pe="padding"in f?f.padding:D.padding,Be=D.zoomScale(_e-U),Te=a.Point.convert(f.offset),Fe=D.centerPoint.add(Te),Qe=D.pointLocation(Fe),Je=a.LngLat.convert(f.center||Qe);this._normalizeCenter(Je);var At=D.project(Qe),pt=D.project(Je).sub(At),mt=f.curve,It=Math.max(D.width,D.height),zt=It/Be,Ft=pt.mag();if("minZoom"in f){var Yt=a.clamp(Math.min(f.minZoom,U,_e),D.minZoom,D.maxZoom),dr=It/D.zoomScale(Yt-U);mt=Math.sqrt(dr/Ft*2)}var Tr=mt*mt;function Er(Lr){var Ar=(zt*zt-It*It+(Lr?-1:1)*Tr*Tr*Ft*Ft)/(2*(Lr?zt:It)*Tr*Ft);return Math.log(Math.sqrt(Ar*Ar+1)-Ar)}function yn(Lr){return(Math.exp(Lr)-Math.exp(-Lr))/2}function lr(Lr){return(Math.exp(Lr)+Math.exp(-Lr))/2}var Rr=Er(0),Jr=function(Lr){return lr(Rr)/lr(Rr+mt*Lr)},$r=function(Lr){return It*((lr(Rr)*(yn(Ar=Rr+mt*Lr)/lr(Ar))-yn(Rr))/Tr)/Ft;var Ar},Br=(Er(1)-Rr)/mt;if(Math.abs(Ft)<1e-6||!isFinite(Br)){if(Math.abs(It-zt)<1e-6)return this.easeTo(f,y);var Nr=zt<It?-1:1;Br=Math.abs(Math.log(zt/It))/mt,$r=function(){return 0},Jr=function(Lr){return Math.exp(Nr*mt*Lr)}}return f.duration="duration"in f?+f.duration:1e3*Br/("screenSpeed"in f?+f.screenSpeed/mt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=q!==me,this._pitching=Me!==te,this._padding=!D.isPaddingEqual(Pe),this._prepareEase(y,!1),this._ease(function(Lr){var Ar=Lr*Br,Hn=1/Jr(Ar);D.zoom=Lr===1?_e:U+D.scaleZoom(Hn),E._rotating&&(D.bearing=a.number(q,me,Lr)),E._pitching&&(D.pitch=a.number(te,Me,Lr)),E._padding&&(D.interpolatePadding(de,Pe,Lr),Fe=D.centerPoint.add(Te));var Vi=Lr===1?Je:D.unproject(At.add(pt.mult($r(Ar))).mult(Hn));D.setLocationAtPoint(D.renderWorldCopies?Vi.wrap():Vi,Fe),E._fireMoveEvents(y)},function(){return E._afterEase(y)},f),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(f,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,y)}if(!f){var M=this.handlers;M&&M.stop(!1)}return this},p.prototype._ease=function(f,y,E){E.animate===!1||E.duration===0?(f(1),y()):(this._easeStart=a.browser.now(),this._easeOptions=E,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var f=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(f,y){f=a.wrap(f,-180,180);var E=Math.abs(f-y);return Math.abs(f-360-y)<E&&(f-=360),Math.abs(f+360-y)<E&&(f+=360),f},p.prototype._normalizeCenter=function(f){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var E=f.lng-y.center.lng;f.lng+=E>180?-360:E<-180?360:0}},p}(a.Evented),Xt=function(c){c===void 0&&(c={}),this.options=c,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Xt.prototype.getDefaultPosition=function(){return"bottom-right"},Xt.prototype.onAdd=function(c){var p=this.options&&this.options.compact;return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.type="button",this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("maplibregl-compact","mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Xt.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Xt.prototype._setElementTitle=function(c,p){var f=this._map._getUIString("AttributionControl."+p);c.title=f,c.setAttribute("aria-label",f)},Xt.prototype._toggleAttribution=function(){this._container.classList.contains("maplibregl-compact-show")||this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Xt.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(c){var f=p.reduce(function(y,E,M){return E.value&&(y+=E.key+"="+E.value+(M<p.length-1?"&":"")),y},"?");c.href=a.config.FEEDBACK_URL+"/"+f+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Xt.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Xt.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(U){return typeof U!="string"?"":U})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var f=this._map.style.sourceCaches;for(var y in f){var E=f[y];if(E.used){var M=E.getSource();M.attribution&&c.indexOf(M.attribution)<0&&c.push(M.attribution)}}c.sort(function(U,q){return U.length-q.length});var D=(c=c.filter(function(U,q){for(var te=q+1;te<c.length;te++)if(c[te].indexOf(U)>=0)return!1;return!0})).join(" | ");D!==this._attribHTML&&(this._attribHTML=D,c.length?(this._innerContainer.innerHTML=D,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._editLink=null)}},Xt.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("maplibregl-compact","mapboxgl-compact"):this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show")};var Io=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Io.prototype.onAdd=function(c){this._map=c,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");var p=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Io.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Io.prototype.getDefaultPosition=function(){return"bottom-left"},Io.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Io.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var p in c)if(c[p].getSource().mapbox_logo)return!0;return!1}},Io.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(c){var p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p},Ga.prototype.remove=function(c){for(var p=this._currentlyRunning,f=0,y=p?this._queue.concat(p):this._queue;f<y.length;f+=1){var E=y[f];if(E.id===c)return void(E.cancelled=!0)}},Ga.prototype.run=function(c){c===void 0&&(c=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var f=0,y=p;f<y.length;f+=1){var E=y[f];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var No={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},$i=a.window.HTMLImageElement,Np=a.window.HTMLElement,ra=a.window.ImageBitmap,A={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m=function(c){function p(y){var E=this;if((y=a.extend({},A,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var M=new Mr(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(c.call(this,M,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},No,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new a.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=a.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof Np))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Gt(this,y),this._hash=y.hash&&new $u(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,a.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Xt({customAttribution:y.customAttribution})),this.addControl(new Io,y.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(D){E._update(D.dataType==="style"),E.fire(new a.Event(D.dataType+"data",D))}),this.on("dataloading",function(D){E.fire(new a.Event(D.dataType+"dataloading",D))})}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,E){if(E===void 0&&(E=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var M=y.onAdd(this);this._controls.push(y);var D=this._controlPositions[E];return E.indexOf("bottom")!==-1?D.insertBefore(M,D.firstChild):D.appendChild(M),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(y);return E>-1&&this._controls.splice(E,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var E=this._containerDimensions(),M=E[0],D=E[1];this._resizeCanvas(M,D),this.transform.resize(M,D),this.painter.resize(M,D);var U=!this._moving;return U&&(this.stop(),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y))),this.fire(new a.Event("resize",y)),U&&this.fire(new a.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(a.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y==null?-2:y)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y==null?22:y)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y==null?0:y)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y==null?60:y)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(a.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(a.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,E,M){var D,U=this;if(y==="mouseenter"||y==="mouseover"){var q=!1;return{layer:E,listener:M,delegates:{mousemove:function(de){var _e=U.getLayer(E)?U.queryRenderedFeatures(de.point,{layers:[E]}):[];_e.length?q||(q=!0,M.call(U,new Po(y,U,de.originalEvent,{features:_e}))):q=!1},mouseout:function(){q=!1}}}}if(y==="mouseleave"||y==="mouseout"){var te=!1;return{layer:E,listener:M,delegates:{mousemove:function(de){(U.getLayer(E)?U.queryRenderedFeatures(de.point,{layers:[E]}):[]).length?te=!0:te&&(te=!1,M.call(U,new Po(y,U,de.originalEvent)))},mouseout:function(de){te&&(te=!1,M.call(U,new Po(y,U,de.originalEvent)))}}}}return{layer:E,listener:M,delegates:(D={},D[y]=function(de){var _e=U.getLayer(E)?U.queryRenderedFeatures(de.point,{layers:[E]}):[];_e.length&&(de.features=_e,M.call(U,de),delete de.features)},D)}},p.prototype.on=function(y,E,M){if(M===void 0)return c.prototype.on.call(this,y,E);var D=this._createDelegatedListener(y,E,M);for(var U in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(D),D.delegates)this.on(U,D.delegates[U]);return this},p.prototype.once=function(y,E,M){if(M===void 0)return c.prototype.once.call(this,y,E);var D=this._createDelegatedListener(y,E,M);for(var U in D.delegates)this.once(U,D.delegates[U]);return this},p.prototype.off=function(y,E,M){var D=this;return M===void 0?c.prototype.off.call(this,y,E):(this._delegatedListeners&&this._delegatedListeners[y]&&function(U){for(var q=U[y],te=0;te<q.length;te++){var de=q[te];if(de.layer===E&&de.listener===M){for(var _e in de.delegates)D.off(_e,de.delegates[_e]);return q.splice(te,1),D}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,E){if(!this.style)return[];var M;if(E!==void 0||y===void 0||y instanceof a.Point||Array.isArray(y)||(E=y,y=void 0),E=E||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof y[0]=="number")M=[a.Point.convert(y)];else{var D=a.Point.convert(y[0]),U=a.Point.convert(y[1]);M=[D,new a.Point(U.x,D.y),U,new a.Point(D.x,U.y),D]}return this.style.queryRenderedFeatures(M,E,this.transform)},p.prototype.querySourceFeatures=function(y,E){return this.style.querySourceFeatures(y,E)},p.prototype.setStyle=function(y,E){return(E=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(y,E))},p.prototype.setTransformRequest=function(y){return this._requestManager.setTransformRequest(y),this},p.prototype._getUIString=function(y){var E=this._locale[y];if(E==null)throw new Error("Missing UI string '"+y+"'");return E},p.prototype._updateStyle=function(y,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new qr(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,E){var M=this;if(typeof y=="string"){var D=this._requestManager.normalizeStyleURL(y),U=this._requestManager.transformRequest(D,a.ResourceType.Style);a.getJSON(U,function(q,te){q?M.fire(new a.ErrorEvent(q)):te&&M._updateDiff(te,E)})}else typeof y=="object"&&this._updateDiff(y,E)},p.prototype._updateDiff=function(y,E){try{this.style.setState(y)&&this._update(!0)}catch(M){a.warnOnce("Unable to perform style diff: "+(M.message||M.error||M)+".  Rebuilding the style from scratch."),this._updateStyle(y,E)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,E){return this._lazyInitEmptyStyle(),this.style.addSource(y,E),this._update(!0)},p.prototype.isSourceLoaded=function(y){var E=this.style&&this.style.sourceCaches[y];if(E!==void 0)return E.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var E in y){var M=y[E]._tiles;for(var D in M){var U=M[D];if(U.state!=="loaded"&&U.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,E,M){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,E,M)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,E,M){M===void 0&&(M={});var D=M.pixelRatio;D===void 0&&(D=1);var U=M.sdf;U===void 0&&(U=!1);var q=M.stretchX,te=M.stretchY,de=M.content;if(this._lazyInitEmptyStyle(),E instanceof $i||ra&&E instanceof ra){var _e=a.browser.getImageData(E);this.style.addImage(y,{data:new a.RGBAImage({width:_e.width,height:_e.height},_e.data),pixelRatio:D,stretchX:q,stretchY:te,content:de,sdf:U,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var me=E;this.style.addImage(y,{data:new a.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:D,stretchX:q,stretchY:te,content:de,sdf:U,version:0,userImage:me}),me.onAdd&&me.onAdd(this,y)}},p.prototype.updateImage=function(y,E){var M=this.style.getImage(y);if(!M)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var D=E instanceof $i||ra&&E instanceof ra?a.browser.getImageData(E):E,U=D.width,q=D.height,te=D.data;return U===void 0||q===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):U!==M.data.width||q!==M.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(M.data.replace(te,!(E instanceof $i||ra&&E instanceof ra)),void this.style.updateImage(y,M))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,E){a.getImage(this._requestManager.transformRequest(y,a.ResourceType.Image),E)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,E){return this._lazyInitEmptyStyle(),this.style.addLayer(y,E),this._update(!0)},p.prototype.moveLayer=function(y,E){return this.style.moveLayer(y,E),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,E,M){return this.style.setLayerZoomRange(y,E,M),this._update(!0)},p.prototype.setFilter=function(y,E,M){return M===void 0&&(M={}),this.style.setFilter(y,E,M),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,E,M,D){return D===void 0&&(D={}),this.style.setPaintProperty(y,E,M,D),this._update(!0)},p.prototype.getPaintProperty=function(y,E){return this.style.getPaintProperty(y,E)},p.prototype.setLayoutProperty=function(y,E,M,D){return D===void 0&&(D={}),this.style.setLayoutProperty(y,E,M,D),this._update(!0)},p.prototype.getLayoutProperty=function(y,E){return this.style.getLayoutProperty(y,E)},p.prototype.setLight=function(y,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(y,E),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,E){return this.style.setFeatureState(y,E),this._update()},p.prototype.removeFeatureState=function(y,E){return this.style.removeFeatureState(y,E),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,E=0;return this._container&&(y=this._container.clientWidth||400,E=this._container.clientHeight||300),[y,E]},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("maplibregl-map","mapboxgl-map");var E=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",y);this._interactive&&E.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var M=this._containerDimensions();this._resizeCanvas(M[0],M[1]);var D=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",y),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(q){U[q]=S.create("div","maplibregl-ctrl-"+q+" mapboxgl-ctrl-"+q,D)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,E){var M=a.browser.devicePixelRatio||1;this._canvas.width=M*y,this._canvas.height=M*E,this._canvas.style.width=y+"px",this._canvas.style.height=E+"px"},p.prototype._setupPainter=function(){var y=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);E?(this.painter=new Vt(E,this.transform),a.webpSupported.testSupport(E)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var E,M=this,D=0,U=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=U.createQueryEXT(),U.beginQueryEXT(U.TIME_ELAPSED_EXT,E),D=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var q=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var te=this.transform.zoom,de=a.browser.now();this.style.zoomHistory.update(te,de);var _e=new a.EvaluationParameters(te,{now:de,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),me=_e.crossFadingFactor();me===1&&me===this._crossFadingFactor||(q=!0,this._crossFadingFactor=me),this.style.update(_e)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||q)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Me=a.browser.now()-D;U.endQueryEXT(U.TIME_ELAPSED_EXT,E),setTimeout(function(){var Te=U.getQueryObjectEXT(E,U.QUERY_RESULT_EXT)/1e6;U.deleteQueryEXT(E),M.fire(new a.Event("gpu-timing-frame",{cpuTime:Me,gpuTime:Te}))},50)}if(this.listens("gpu-timing-layer")){var Pe=this.painter.collectGpuTimers();setTimeout(function(){var Te=M.painter.queryGpuTimers(Pe);M.fire(new a.Event("gpu-timing-layer",{layerTimes:Te}))},50)}var Be=this._sourcesDirty||this._styleDirty||this._placementDirty;return Be||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||Be||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,E=this._controls;y<E.length;y+=1)E[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var M=this.painter.context.gl.getExtension("WEBGL_lose_context");M&&M.loseContext(),v(this._canvasContainer),v(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(E){y._frame=null,y._render(E)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},f.showPadding.get=function(){return!!this._showPadding},f.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,E){a.setCacheLimits(y,E)},f.version.get=function(){return a.version},Object.defineProperties(p.prototype,f),p}(ht);function v(c){c.parentNode&&c.parentNode.removeChild(c)}var _={showCompass:!0,showZoom:!0,visualizePitch:!1},k=function(c){var p=this;this.options=a.extend({},_,c),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(f){return f.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(f){return p._map.zoomIn({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(f){return p._map.zoomOut({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(f){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:f}):p._map.resetNorth({},{originalEvent:f})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};k.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),p=c===this._map.getMaxZoom(),f=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},k.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},k.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new O(this._map,this._compass,this.options.visualizePitch)),this._container},k.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},k.prototype._createButton=function(c,p){var f=S.create("button",c,this._container);return f.type="button",f.addEventListener("click",p),f},k.prototype._setButtonTitle=function(c,p){var f=this._map._getUIString("NavigationControl."+p);c.title=f,c.setAttribute("aria-label",f)};var O=function(c,p,f){f===void 0&&(f=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new sc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,f&&(this.mousePitch=new Xs({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(p,"mousedown",this.mousedown),S.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(p,"touchmove",this.touchmove),S.addEventListener(p,"touchend",this.touchend),S.addEventListener(p,"touchcancel",this.reset)};function I(c,p,f){if(c=new a.LngLat(c.lng,c.lat),p){var y=new a.LngLat(c.lng-360,c.lat),E=new a.LngLat(c.lng+360,c.lat),M=f.locationPoint(c).distSqr(p);f.locationPoint(y).distSqr(p)<M?c=y:f.locationPoint(E).distSqr(p)<M&&(c=E)}for(;Math.abs(c.lng-f.center.lng)>180;){var D=f.locationPoint(c);if(D.x>=0&&D.y>=0&&D.x<=f.width&&D.y<=f.height)break;c.lng>f.center.lng?c.lng-=360:c.lng+=360}return c}O.prototype.down=function(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),S.disableDrag()},O.prototype.move=function(c,p){var f=this.map,y=this.mouseRotate.mousemoveWindow(c,p);if(y&&y.bearingDelta&&f.setBearing(f.getBearing()+y.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,p);E&&E.pitchDelta&&f.setPitch(f.getPitch()+E.pitchDelta)}},O.prototype.off=function(){var c=this.element;S.removeEventListener(c,"mousedown",this.mousedown),S.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(c,"touchmove",this.touchmove),S.removeEventListener(c,"touchend",this.touchend),S.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},O.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(a.window,"mousemove",this.mousemove),S.removeEventListener(a.window,"mouseup",this.mouseup)},O.prototype.mousedown=function(c){this.down(a.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),S.mousePos(this.element,c)),S.addEventListener(a.window,"mousemove",this.mousemove),S.addEventListener(a.window,"mouseup",this.mouseup)},O.prototype.mousemove=function(c){this.move(c,S.mousePos(this.element,c))},O.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},O.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},O.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},O.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},O.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var B={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function G(c,p,f){var y=c.classList;for(var E in B)y.remove("maplibregl-"+f+"-anchor-"+E,"mapboxgl-"+f+"-anchor-"+E);y.add("maplibregl-"+f+"-anchor-"+p,"mapboxgl-"+f+"-anchor-"+p)}var re,ce=function(c){function p(f,y){if(c.call(this),(f instanceof a.window.HTMLElement||y)&&(f=a.extend({element:f},y)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=a.Point.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var E=S.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var M=S.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"stroke","none"),M.setAttributeNS(null,"stroke-width","1"),M.setAttributeNS(null,"fill","none"),M.setAttributeNS(null,"fill-rule","evenodd");var D=S.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");var U=S.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");for(var q=0,te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];q<te.length;q+=1){var de=te[q],_e=S.createNS("http://www.w3.org/2000/svg","ellipse");_e.setAttributeNS(null,"opacity","0.04"),_e.setAttributeNS(null,"cx","10.5"),_e.setAttributeNS(null,"cy","5.80029008"),_e.setAttributeNS(null,"rx",de.rx),_e.setAttributeNS(null,"ry",de.ry),U.appendChild(_e)}var me=S.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"fill",this._color);var Me=S.createNS("http://www.w3.org/2000/svg","path");Me.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),me.appendChild(Me);var Pe=S.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"opacity","0.25"),Pe.setAttributeNS(null,"fill","#000000");var Be=S.createNS("http://www.w3.org/2000/svg","path");Be.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Pe.appendChild(Be);var Te=S.createNS("http://www.w3.org/2000/svg","g");Te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Te.setAttributeNS(null,"fill","#FFFFFF");var Fe=S.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Qe=S.createNS("http://www.w3.org/2000/svg","circle");Qe.setAttributeNS(null,"fill","#000000"),Qe.setAttributeNS(null,"opacity","0.25"),Qe.setAttributeNS(null,"cx","5.5"),Qe.setAttributeNS(null,"cy","5.5"),Qe.setAttributeNS(null,"r","5.4999962");var Je=S.createNS("http://www.w3.org/2000/svg","circle");Je.setAttributeNS(null,"fill","#FFFFFF"),Je.setAttributeNS(null,"cx","5.5"),Je.setAttributeNS(null,"cy","5.5"),Je.setAttributeNS(null,"r","5.4999962"),Fe.appendChild(Qe),Fe.appendChild(Je),D.appendChild(U),D.appendChild(me),D.appendChild(Pe),D.appendChild(Te),D.appendChild(Fe),E.appendChild(D),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=a.Point.convert(f&&f.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",function(At){At.preventDefault()}),this._element.addEventListener("mousedown",function(At){At.preventDefault()}),G(this._element,this._anchor,"marker"),this._popup=null}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(f){var y=f.code,E=f.charCode||f.keyCode;y!=="Space"&&y!=="Enter"&&E!==32&&E!==13||this.togglePopup()},p.prototype._onMapClick=function(f){var y=f.originalEvent.target,E=this._element;this._popup&&(y===E||E.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this},p.prototype._update=function(f){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),f&&f.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,B[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(f){return this._offset=a.Point.convert(f),this._update(),this},p.prototype._onMove=function(f){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(f){return this._rotation=f||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(f){return this._rotationAlignment=f||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(a.Evented),De={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},We=0,it=!1,wt=function(c){function p(f){c.call(this),this.options=a.extend({},De,f),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){var y;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,re!==void 0?y(re):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(E){y(re=E.state!=="denied")}):y(re=!!a.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,We=0,it=!1},p.prototype._isOutOfMapMaxBounds=function(f){var y=this._map.getMaxBounds(),E=f.coords;return y&&(E.longitude<y.getWest()||E.longitude>y.getEast()||E.latitude<y.getSouth()||E.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",f)),this._finish()}},p.prototype._updateCamera=function(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude),E=f.coords.accuracy,M=this._map.getBearing(),D=a.extend({bearing:M},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(E),D,{geolocateSource:!0})},p.prototype._updateMarker=function(f){if(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var f=this._map._container.clientHeight/2,y=this._map.unproject([0,f]),E=this._map.unproject([1,f]),M=y.distanceTo(E),D=Math.ceil(2*this._accuracy/M);this._circleElement.style.width=D+"px",this._circleElement.style.height=D+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&it)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",f)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(f){var y=this;if(this._container.addEventListener("contextmenu",function(D){return D.preventDefault()}),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",f===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var M=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=M,this._geolocateButton.setAttribute("aria-label",M)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ce(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ce({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(D){D.geolocateSource||y._watchState!=="ACTIVE_LOCK"||D.originalEvent&&D.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),y.fire(new a.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":We--,it=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++We>1?(f={maximumAge:6e5,timeout:0},it=!0):(f=this.options.positionOptions,it=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(a.Evented),Tt={maxWidth:100,unit:"metric"},Nt=function(c){this.options=a.extend({},Tt,c),a.bindAll(["_onMove","setUnit"],this)};function sr(c,p,f){var y=f&&f.maxWidth||100,E=c._container.clientHeight/2,M=c.unproject([0,E]),D=c.unproject([y,E]),U=M.distanceTo(D);if(f&&f.unit==="imperial"){var q=3.2808*U;q>5280?dt(p,y,q/5280,c._getUIString("ScaleControl.Miles")):dt(p,y,q,c._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?dt(p,y,U/1852,c._getUIString("ScaleControl.NauticalMiles")):U>=1e3?dt(p,y,U/1e3,c._getUIString("ScaleControl.Kilometers")):dt(p,y,U,c._getUIString("ScaleControl.Meters"))}function dt(c,p,f,y){var E,M,D,U=(E=f,(M=Math.pow(10,(""+Math.floor(E)).length-1))*(D=(D=E/M)>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(q){var te=Math.pow(10,Math.ceil(-Math.log(q)/Math.LN10));return Math.round(q*te)/te}(D)));c.style.width=p*(U/f)+"px",c.innerHTML=U+"&nbsp;"+y}Nt.prototype.getDefaultPosition=function(){return"bottom-left"},Nt.prototype._onMove=function(){sr(this._map,this._container,this.options)},Nt.prototype.onAdd=function(c){return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Nt.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Nt.prototype.setUnit=function(c){this.options.unit=c,sr(this._map,this._container,this.options)};var Lt=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof a.window.HTMLElement?this._container=c.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Lt.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Lt.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Lt.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Lt.prototype._setupUI=function(){var c=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Lt.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Lt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Lt.prototype._isFullscreen=function(){return this._fullscreen},Lt.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Lt.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ke={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),_r=function(c){function p(f){c.call(this),this.options=a.extend(Object.create(Ke),f),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(f){return this.setDOMContent(a.window.document.createTextNode(f))},p.prototype.setHTML=function(f){var y,E=a.window.document.createDocumentFragment(),M=a.window.document.createElement("body");for(M.innerHTML=f;y=M.firstChild;)E.appendChild(y);return this.setDOMContent(E)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(f){return this.options.maxWidth=f,this._update(),this},p.prototype.setDOMContent=function(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(f){this._container&&this._container.classList.add(f)},p.prototype.removeClassName=function(f){this._container&&this._container.classList.remove(f)},p.prototype.setOffset=function(f){return this.options.offset=f,this._update(),this},p.prototype.toggleClassName=function(f){if(this._container)return this._container.classList.toggle(f)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(f){this._update(f.point)},p.prototype._onMouseMove=function(f){this._update(f.point)},p.prototype._onDrag=function(f){this._update(f.point)},p.prototype._update=function(f){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_e){return y._container.classList.add(_e)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||f)){var E=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat),M=this.options.anchor,D=function _e(me){if(me){if(typeof me=="number"){var Me=Math.round(Math.sqrt(.5*Math.pow(me,2)));return{center:new a.Point(0,0),top:new a.Point(0,me),"top-left":new a.Point(Me,Me),"top-right":new a.Point(-Me,Me),bottom:new a.Point(0,-me),"bottom-left":new a.Point(Me,-Me),"bottom-right":new a.Point(-Me,-Me),left:new a.Point(me,0),right:new a.Point(-me,0)}}if(me instanceof a.Point||Array.isArray(me)){var Pe=a.Point.convert(me);return{center:Pe,top:Pe,"top-left":Pe,"top-right":Pe,bottom:Pe,"bottom-left":Pe,"bottom-right":Pe,left:Pe,right:Pe}}return{center:a.Point.convert(me.center||[0,0]),top:a.Point.convert(me.top||[0,0]),"top-left":a.Point.convert(me["top-left"]||[0,0]),"top-right":a.Point.convert(me["top-right"]||[0,0]),bottom:a.Point.convert(me.bottom||[0,0]),"bottom-left":a.Point.convert(me["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(me["bottom-right"]||[0,0]),left:a.Point.convert(me.left||[0,0]),right:a.Point.convert(me.right||[0,0])}}return _e(new a.Point(0,0))}(this.options.offset);if(!M){var U,q=this._container.offsetWidth,te=this._container.offsetHeight;U=E.y+D.bottom.y<te?["top"]:E.y>this._map.transform.height-te?["bottom"]:[],E.x<q/2?U.push("left"):E.x>this._map.transform.width-q/2&&U.push("right"),M=U.length===0?"bottom":U.join("-")}var de=E.add(D[M]).round();S.setTransform(this._container,B[M]+" translate("+de.x+"px,"+de.y+"px)"),G(this._container,M,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var f=this._container.querySelector(vr);f&&f.focus()}},p.prototype._onClose=function(){this.remove()},p}(a.Evented),Wt={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:m,NavigationControl:k,GeolocateControl:wt,AttributionControl:Xt,ScaleControl:Nt,FullscreenControl:Lt,Popup:_r,Marker:ce,Style:qr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){jt().acquire(Ge)},clearPrewarmedResources:function(){var c=ye;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(Ge),ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(c){a.config.ACCESS_TOKEN=c},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(c){a.config.API_URL=c},get workerCount(){return h.workerCount},set workerCount(c){h.workerCount=c},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){a.clearTileCache(c)},workerUrl:"",addProtocol:function(c,p){a.config.REGISTERED_PROTOCOLS[c]=p},removeProtocol:function(c){delete a.config.REGISTERED_PROTOCOLS[c]}};return Wt}),s})})(_D);class Kse{setupExtension(t){}willInit(t){}willMount(t){}willUnMount(t){}willHide(t){}willUnhide(t){}willLegendUpdate(t){}willSourceUpdate(t){}willDestroy(t){}}const Xse=["background","raster","hillshade","heatmap","fill","fill-extrusion","line","circle","symbol","custom"];class Yse{constructor(){oi(this,"_baseMapFirstLayerIdx",null);oi(this,"_map",null);oi(this,"_typesOrder",[...Xse]);oi(this,"_awaitingTasks",new Set)}init(t){this._map=t,t.once("load",()=>{var r;this._baseMapFirstLayerIdx=((r=t.getStyle().layers)!=null?r:[]).length-1,this._awaitingTasks.forEach(i=>{this._awaitingTasks.delete(i),i(t)})})}getIdToMountOnTypesTop(t,r){this._asyncWrap(t,r,this._getIdToMountOnTypesTopSync.bind(this))}getIdToMountOnTypesBottom(t,r){this._asyncWrap(t,r,this._getIdToMountOnTypesBottomSync.bind(this))}_getIdToMountOnTypesTopSync(t,r){var u;const i=this._getMountedBottomLayersByType(t,r);if(!i)return;const s=this._typesOrder.slice(this._typesOrder.indexOf(r)+1).find(a=>i.has(a));if(!!s)return(u=i.get(s))==null?void 0:u.id}_getIdToMountOnTypesBottomSync(t,r){var a;const i=this._getMountedBottomLayersByType(t,r);if(!i)return;const s=i.get(r);if(s!=null&&s.id)return s.id;const u=this._typesOrder.slice(this._typesOrder.indexOf(r)+1).find(x=>i.has(x));if(!!u)return(a=i.get(u))==null?void 0:a.id}_getMountedBottomLayersByType(t,r){var x;if(this._baseMapFirstLayerIdx===null)return;this._typesOrder.includes(r)||console.error(`${r} is not supported type. If you want to work with it add it to layers order manager`);const i=(x=t.getStyle().layers)!=null?x:[];if(i.length===0)return;const s=i.slice(this._baseMapFirstLayerIdx+1);if(!s.length)return;const u=new Map;let a=0;for(;a<s.length;){const S=s[a];u.has(S.type)||u.set(S.type,S),a++}return u}_asyncWrap(t,r,i){const s=this._map;s===null||this._baseMapFirstLayerIdx===null?this._awaitingTasks.add(u=>{r(i(u,t))}):r(i(s,t))}}const Jse=new Yse;function eue(e,t=Jse){function r(u){t.getIdToMountOnTypesTop(u.type,a=>e.addLayer(u,a))}function i(u){t.getIdToMountOnTypesBottom(u.type,a=>e.addLayer(u,a))}function s(u){e.addLayer(u,void 0)}return{addAboveLayerWithSameType:r,addUnderLayerWithSameType:i,addAboveAllExistingLayers:s}}const tue=(e,t)=>new Promise((r,i)=>{try{e.on(t,r)}catch(s){i(s)}});function rue(e){if(!e._loaded)return tue(e,"load")}const nue="_tootipRoot_i3o78_1",iue="_hexagon_i3o78_5",oue="_labels_i3o78_28",aue="_column_i3o78_34",sue="_bivariateHexagonPopupContentRoot_i3o78_45",kh={tootipRoot:nue,hexagon:iue,labels:oue,column:aue,bivariateHexagonPopupContentRoot:sue},uue=kh.bivariateHexagonPopupContentRoot,lue=e=>ZS(e)?W_:Mne(e)?Z_:LL,cue=e=>KS(e)?W_:Rne(e)?Z_:LL,fue=({hexagonColor:e,axis:t,cellIndex:r,cellLabel:i,values:s})=>Zn("div",{className:kh.tootipRoot,children:[_t("div",{className:kh.hexagon,children:_t("div",{style:{background:e},children:i})}),Zn("div",{className:kh.labels,children:[Zn("div",{className:kh.column,children:[_t("span",{children:t.x.label||pT(t.x.quotients)}),_t("span",{children:t.y.label||pT(t.y.quotients)})]}),s&&Zn("div",{className:kh.column,children:[_t("span",{children:s==null?void 0:s.x}),_t("span",{children:s==null?void 0:s.y})]}),Zn("div",{className:kh.column,children:[_t("span",{children:lue(r)}),_t("span",{children:cue(r)})]})]})]}),uP=window.yandexAccountId,r3=window.ym;function pue(...e){uP&&r3&&typeof r3=="function"&&r3(uP,...e)}const L1=Ro({setState:e=>e,authorize:()=>null,reset:()=>null,login:()=>null,logout:()=>null,signup:()=>null,passwordReset:()=>null},({onAction:e,onInit:t,schedule:r,create:i},s=Ds.UNAUTHORIZED)=>(e("setState",u=>{s!==u&&(s=u)}),e("authorize",()=>{s!==Ds.AUTHORIZED&&(s=Ds.AUTHORIZED)}),e("reset",()=>{s!==Ds.UNAUTHORIZED&&(s=Ds.UNAUTHORIZED)}),e("login",()=>{(s===Ds.UNAUTHORIZED||s===Ds.SIGNING_UP)&&(s=Ds.LOGGING_IN)}),e("logout",()=>{(s===Ds.AUTHORIZED||s===Ds.PASSWORD_RESET)&&(s=Ds.UNAUTHORIZED)}),e("signup",()=>{(s===Ds.UNAUTHORIZED||s===Ds.LOGGING_IN)&&(s=Ds.SIGNING_UP)}),e("passwordReset",()=>{s===Ds.AUTHORIZED&&(s=Ds.PASSWORD_RESET)}),s),"[Shared state] userStateAtom"),_A=class{constructor({apiClient:t}){oi(this,"_apiClient");this._apiClient=t}static getInstance(){if(_A.instance)return _A.instance;throw new Error("You have to initialize auth client first!")}static init(t){if(_A.instance)throw new Error("Auth client instance with had been already initialized");return _A.instance=new _A(t),_A.instance}showLoginForm(){L1.login.dispatch()}closeLoginForm(){L1.reset.dispatch()}logout(){this._apiClient.logout(),D0.setUser.dispatch(),L1.logout.dispatch(),window.Intercom&&(to.intercom.name=window.konturAppConfig.INTERCOM_DEFAULT_NAME,to.intercom.email=null,window.Intercom("update",{name:to.intercom.name,email:to.intercom.email}))}onTokenExpired(){console.warn("User session has been expired. Logging out."),this.logout()}async processAuthResponse(t){const r=await this._apiClient.get("/users/current_user",{},!0),s={...{username:t.jwtData.preferred_username,token:t.token,email:t.jwtData.email,firstName:t.jwtData.given_name,lastName:t.jwtData.family_name},...r};D0.setUser.dispatch(s),L1.authorize.dispatch(),window.Intercom&&window.Intercom("update",{name:t.jwtData.preferred_username,email:t.jwtData.email}),to.intercom.name=t.jwtData.preferred_username,to.intercom.email=t.jwtData.email,pue("setUserID",t.jwtData.email)}async authenticate(t,r){const i=await this._apiClient.login(t,r);return i&&typeof i=="object"&&"token"in i?(await this.processAuthResponse(i),!0):i}async checkAuth(){try{const t=await this._apiClient.checkAuth(this.onTokenExpired);t&&typeof t=="object"&&"token"in t&&this.processAuthResponse(t)}catch{console.warn("Auth has been expired"),this.logout()}}};let Pg=_A;oi(Pg,"instance");Pg.init({apiClient:sy});Pg.getInstance();Ro({userResourceAtom:V4},({get:e},t="pending")=>{const r=e("userResourceAtom");if(r.data&&!r.loading){const s=new URL(localStorage.getItem("initialUrl")||""),u=location.pathname===to.baseUrl&&s.search==="",a=localStorage.getItem("landed");u&&!a?t="no":t="yes"}return t},"userWasLandedAtom");const Aue=8,hue="rgba(5, 22, 38, 0.4)",due="rgb(5, 22, 38)",lP="hex-selected-layer",Hd="hex-selected-source",qd="hex-hover-source",cP="hex-hover-layer",fP=e=>e.a===0&&e.r===0&&e.g===0&&e.b===0,mue=(e,t=!0)=>`rgba(${e.r*255*2},${e.g*255*2},${e.b*255*2}${t?","+e.a:""})`,pP=(e,t)=>{const r=Gse(e.lat,e.lng,Math.min(t,Aue)),i=Qse(r,!0);return gue(i),{type:"Polygon",coordinates:[i]}};function gue(e){let t=!1;for(let r=0;r<e.length;r++)if(Math.abs(e[0][0]-e[(r+1)%e.length][0])>180){t=!0;break}t&&e.forEach(yue)}function yue(e){const t=e[0];e[0]=t<0?t+360:t}const AP=(e,t,r)=>{const i=e[t],s=e[r];return aP(i)||aP(s)?"0.00":s===0?"-":(i/s).toFixed(2)};class vue extends Kse{constructor({id:r,layersOrderManager:i}){super();oi(this,"id");oi(this,"_layerId");oi(this,"_sourceId");oi(this,"_removeClickListener",null);oi(this,"_removeMouseMoveListener",null);oi(this,"_layersOrderManager");oi(this,"_popup");oi(this,"onMapZoom",r=>{this.cleanPopupWithDeps(r.target)});this.id=r,this._layersOrderManager=i,this._sourceId=Sae+this.id}_generateLayerFromLegend(r){if(r.type==="bivariate")return Jae(r);throw new Error(`Unexpected legend type '${r.type}'`)}_setTileScheme(r,i){r.includes("{-y}")&&(i.scheme="tms")}async mountBivariateLayer(r,i,s){const u={type:"vector",tiles:i.source.urls.map(a=>yD(a)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};if(this._setTileScheme(i.source.urls[0],u),await rue(r),r.getSource(this._sourceId)===void 0&&r.addSource(this._sourceId,u),s){const a=this._generateLayerFromLegend(s),x=`${wae+this.id}`;if(r.getLayer(x))return;const S={...a,id:x,source:this._sourceId};eue(r,this._layersOrderManager).addAboveLayerWithSameType(S),this._layerId=S.id}else throw new Error(`[GenericLayer ${this.id}] Vector layers must have legend`)}_updateMap(r,i,s,u){if(i==null)return;this.mountBivariateLayer(r,i,s);const a=S=>{var Se,Ce;const P=S.target.queryRenderedFeatures(S.point).filter(He=>He.source.includes(this._sourceId));if(!P.length||!s||!P[0].geometry)return!0;const R=P[0],z=pP(S.lngLat,r.getZoom()),N=(Se=R.layer.paint)==null?void 0:Se["fill-color"];if(!N||fP(N))return!0;const $=mue(N),Z=qne(s.steps,"label"),J=Z.findIndex(He=>He.color===$),ae=(Ce=V4.getState().data)==null?void 0:Ce.hasFeature(xZ.BIVARIATE_MANAGER),[V,K]=s.axis.x.quotient,[ue,ge]=s.axis.y.quotient,he=ae&&R.properties?{x:AP(R.properties,V,K),y:AP(R.properties,ue,ge)}:void 0,le=document.createElement("div");return LO(le).render(_t(fue,{cellLabel:Z[J].label,cellIndex:J,axis:s.axis,values:he,hexagonColor:$})),this.cleanPopup(),this._popup=new _D.exports.Popup({closeOnClick:!0,className:uue,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(le).addTo(r),this._popup.once("close",()=>{this.cleanSelection(r)}),this.cleanHover(r),r.getSource(Hd)?r.getSource(Hd).setData({type:"Feature",geometry:z,properties:{}}):(r.addSource(Hd,{type:"geojson",data:{type:"Feature",geometry:z,properties:{}}}),r.addLayer({id:lP,type:"line",source:Hd,layout:{},paint:{"line-color":due,"line-width":1}})),!0},x=Rse(S=>{var $,Z;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!(($=P[0])!=null&&$.source.includes(this._sourceId)))return!0;const R=P[0],z=pP(S.lngLat,r.getZoom()),N=(Z=R.layer.paint)==null?void 0:Z["fill-color"];return!N||fP(N)||(r.getSource(qd)?r.getSource(qd).setData({type:"Feature",geometry:z,properties:{}}):(r.addSource(qd,{type:"geojson",data:{type:"Feature",geometry:z,properties:{}}}),r.addLayer({id:cP,type:"line",source:qd,layout:{},paint:{"line-color":hue,"line-width":1}}))),!0},100);r.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null),this._removeMouseMoveListener=JT("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=JT("click",a,60),u||this.willHide({map:r})}cleanPopup(){this._popup&&(this._popup.remove(),this._popup=null)}cleanHover(r){r.getSource(qd)&&(r.removeLayer(cP),r.removeSource(qd))}cleanSelection(r){r.getSource(Hd)&&(r.removeLayer(lP),r.removeSource(Hd))}cleanPopupWithDeps(r){this.cleanPopup(),this.cleanHover(r),this.cleanSelection(r)}willSourceUpdate({map:r,state:i}){i.source&&this._updateMap(r,i.source,i.legend,i.isVisible)}willMount({map:r,state:i}){i.source&&this._updateMap(r,i.source,i.legend,i.isVisible)}willUnMount({map:r}){var i,s;this._layerId!==void 0&&r.getLayer(this._layerId)!==void 0?r.removeLayer(this._layerId):console.warn(`Can't remove layer with ID: ${this._layerId}. Layer does't exist in map`),this.cleanPopupWithDeps(r),r.off("zoom",this.onMapZoom),this._layerId=void 0,this._sourceId&&(r.getSource(this._sourceId)!==void 0?r.removeSource(this._sourceId):console.warn(`Can't remove source with ID: ${this._sourceId}. Source does't exist in map`)),(i=this._removeClickListener)==null||i.call(this),(s=this._removeMouseMoveListener)==null||s.call(this)}willHide({map:r}){this._layerId===void 0||r===null||(r.getLayer(this._layerId)!==void 0?(r.setLayoutProperty(this._layerId,"visibility","none"),this.cleanPopupWithDeps(r)):console.warn(`Can't hide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willUnhide({map:r}){this._layerId===void 0||r===null||(r.getLayer(this._layerId)!==void 0?r.setLayoutProperty(this._layerId,"visibility","visible"):console.warn(`Cannot unhide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willDestroy({map:r}){this._layerId===void 0||r===null||r.getLayer(this._layerId)!==void 0&&this.willUnMount({map:r})}}const n3=(e,t,r)=>{const i=e?e.findIndex(u=>u.selectedQuotient[0]===(r==null?void 0:r.xNumerator)&&u.selectedQuotient[1]===(r==null?void 0:r.xDenominator)):-1,s=t?t.findIndex(u=>u.selectedQuotient[0]===(r==null?void 0:r.yNumerator)&&u.selectedQuotient[1]===(r==null?void 0:r.yDenominator)):-1;return{x:i,y:s}},hP=(e,t,r)=>{const i=[...e];let s;const u=i.findIndex(({quotients:a})=>(s=a.find(x=>x[0]===t&&x[1]===r),s));return s&&(i[u]={...i[u],selectedQuotient:s}),i},_ue={xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,preselectMode:!1,selectedCell:null,selectCellCallback:null},i3=(e,t,r,i)=>({xNumerator:e,xDenominator:t,yNumerator:r,yDenominator:i}),xue=Ro({enabledLayersAtom:Dh,layersLegendsAtom:$4,calculateSelectedCell:()=>null,setPreselectMode:e=>e,setSelectCellCallback:e=>e,runPreselection:()=>null,setMatrixSelection:i3,presetMatrixSelection:e=>e,enableBivariateLayer:e=>e,disableBivariateLayer:()=>null},({onAction:e,schedule:t,getUnlistedState:r,create:i,onChange:s},u=_ue)=>{e("calculateSelectedCell",()=>{const{xGroups:x,yGroups:S}=r(M1),P=n3(x,S,i3(u.xNumerator,u.xDenominator,u.yNumerator,u.yDenominator)),R=u.selectedCell;(!R||P.x!==R.x||P.y!==R.y)&&(u={...u,selectedCell:P})}),s("enabledLayersAtom",()=>{u.preselectMode&&t(x=>{x(i("runPreselection"))})}),s("layersLegendsAtom",()=>{u.preselectMode&&t(x=>{x(i("runPreselection"))})}),e("setPreselectMode",x=>{u={...u,preselectMode:x},x&&t(S=>{S(i("runPreselection"))})}),e("setSelectCellCallback",x=>{u={...u,selectCellCallback:x}});const a=()=>{const x=r(Dh),S=r(Kd);return[...x].map(R=>{var z;return(z=S.get(R))==null?void 0:z.getState()}).find(R=>{var z;return R&&R.isEnabled&&((z=R.legend)==null?void 0:z.type)==="bivariate"})};return e("runPreselection",()=>{const x=a();if(!x||!(x!=null&&x.legend)){u={...u,xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null},t(P=>{var R;(R=u==null?void 0:u.selectCellCallback)==null||R.call(u,-1,-1)});return}const S=x.legend.axis;if(S){const P=i3(S.x.quotient[0]||null,S.x.quotient[1]||null,S.y.quotient[0]||null,S.y.quotient[1]||null);if(P.xDenominator===u.xDenominator&&P.xNumerator===u.xNumerator&&P.yDenominator===u.yDenominator&&P.yNumerator===u.yNumerator)return;const{xGroups:R,yGroups:z}=r(M1),N=n3(R,z,P);if(N.x>=0&&N.y>=0){t(ae=>{var V;ae(i("presetMatrixSelection",P)),(V=u==null?void 0:u.selectCellCallback)==null||V.call(u,N.x,N.y)});return}let $=R,Z=z;N.x===-1&&($=hP(R,S.x.quotient[0],S.x.quotient[1])),N.y===-1&&(Z=hP(z,S.y.quotient[0],S.y.quotient[1]));const J=n3($,Z,P);J.x>=0&&J.y>=0&&t(ae=>{var V;ae(M1.setNumerators($,Z)),ae(i("presetMatrixSelection",P)),(V=u==null?void 0:u.selectCellCallback)==null||V.call(u,J.x,J.y)})}}),e("presetMatrixSelection",x=>{u={...u,...x},t(S=>{S(i("calculateSelectedCell"))})}),e("setMatrixSelection",x=>{u={...u,...x},t(V=>{V(i("calculateSelectedCell"))});const{xNumerator:S,xDenominator:P,yNumerator:R,yDenominator:z}=x;if(S===null||R===null)return;const{xGroups:N,yGroups:$}=r(M1),Z=r(gD).data;if(Z===null)return;const J=Z.polygonStatistic.bivariateStatistic;if(!N||!$||!N.length||!$.length||!P||!z)return;const ae=Kae(S,P,R,z,J);if(ae){const[V,K]=ae,ue=ese("Bivariate Layer",V,S,P,R,z,J);if(ue){const ge=K,he=ge.source,le=ge.id,Se=rse(S,P,R,z,J),Ce=he?{id:le,maxZoom:he.maxzoom,minZoom:he.minzoom,source:{type:he.type,urls:he.tiles,tileSize:512,apiKey:""}}:void 0,[He,ut]=rP([{id:le,legend:ue,meta:Se,source:Ce}]);r(My).has(le)||He.push(...rP([{id:le,settings:{id:le,name:"Bivariate Layer",category:"overlay",group:"bivariate",ownedByUser:!0}}]).flat()),r(Kd).has(le)||He.push(i("disableBivariateLayer"),Kd.register({id:le,renderer:new vue({id:le}),cleanUpActions:ut}),i("enableBivariateLayer",le)),He.length&&t((bt,St={})=>{bt(He),St.bivariateLayerAtomId=le})}}}),e("enableBivariateLayer",x=>{const S=r(Kd);for(const[P,R]of Array.from(S))if(P===x){t(z=>{z(R.enable())});break}}),e("disableBivariateLayer",()=>{const x=r(Kd);t((S,P={})=>{if(P.bivariateLayerAtomId){const R=x.get(P.bivariateLayerAtomId);R&&S(R.destroy())}})}),u},"bivariateMatrixSelection"),bue=cr.exports.createContext(null),J_=37,wue=.7,xD=J_/Math.sqrt(2),bD=J_/Math.sqrt(2);function Sue(e,t,r=0){return cr.exports.useMemo(()=>({display:"inline-grid","--cell-size":r===0?"initial":`${r}px`,gridTemplateRows:`repeat(${t}, ${r===0?"auto":r+"px"})`,gridTemplateColumns:`repeat(${e}, ${r===0?"auto":r+"px"})`}),[e,t,r])}function Cue(e,t){const r=[];for(let i=0;i<e;i++){r[i]=[];for(let s=0;s<t;s++)r[i][s]={gridColumn:`${i} / ${i+1}`,gridRow:`${s} / ${s+1}`}}return r}function Eue(e,t){return cr.exports.useMemo(()=>{if(!e||!e.length||!t||!t.length)return 0;let i=D1(e[0].label);for(let u=1;u<e.length;u++){const a=D1(e[u].label),x=u*bD;a>i+x&&(i=a-x)}let s=D1(t[0].label);for(let u=1;u<t.length;u++){const a=D1(t[u].label),x=u*xD;a>s+x&&(s=a-x)}return i>s?i:s},[e,t])}const kue=document.createElement("canvas"),wD=kue.getContext("2d")||{};wD.font="normal 13px Roboto";const Tue=30,Pue=90;function D1(e){return wD.measureText(e).width+Tue+Pue}function dP(e,t,r){return t?{height:`${e+r*bD}px`}:{width:`${e+r*xD}px`}}const Iue="_hoveredCell_kt59d_1",Oue="_valueCell_kt59d_5",Mue="_rotatedCell_kt59d_19",Rue="_valueFill_kt59d_28",Lue="_disabled_kt59d_39",Due="_selectedCol_kt59d_43",Fue="_first_kt59d_48",Bue="_last_kt59d_52",zue="_selectedRow_kt59d_56",fp={hoveredCell:Iue,valueCell:Oue,rotatedCell:Mue,valueFill:Rue,disabled:Lue,selectedCol:Due,first:Fue,last:Bue,selectedRow:zue},SD=cr.exports.forwardRef(({value:e,x:t,y:r,className:i,onMouseOver:s,onMouseOut:u,onClick:a,disabled:x=!1,style:S,firstRow:P,firstCol:R,lastRow:z,lastCol:N},$)=>{const Z=cr.exports.useRef(null);let J=!1,ae=!1,V=!1;const K=va(fp.valueCell,i,x&&fp.disabled);function ue(){return`${K} ${va({[fp.hoveredCell]:J,[fp.selectedCol]:V,[fp.selectedRow]:ae,[fp.first]:P&&V||R&&ae,[fp.last]:z&&V||N&&ae})}`}return cr.exports.useImperativeHandle($,()=>({setHovered:()=>{Z.current&&(J=!0,Z.current.className=ue())},resetHovered:()=>{Z.current&&(J=!1,Z.current.className=ue())},setSelectedCol:()=>{Z.current&&(V=!0,Z.current.className=ue())},resetSelectedCol:()=>{Z.current&&(V=!1,Z.current.className=ue())},setSelectedRow:()=>{Z.current&&(ae=!0,Z.current.className=ue())},resetSelectedRow:()=>{Z.current&&(ae=!1,Z.current.className=ue())}})),_t("div",{ref:Z,className:K,style:S,onMouseOver:()=>{s(t,r)},onClick:ge=>{a(t,r,ge)},onMouseOut:u,children:!x&&e!==void 0?Zn(H2,{children:[Math.abs(e)>=.1&&_t("div",{className:fp.valueFill,style:{transform:`scale(${Math.abs(e)})`}}),_t("span",{className:fp.rotatedCell,children:e==null?void 0:e.toFixed(3)})]}):null})});SD.displayName="BivariateMatrixCell";const Nue="_legendSlot_i0ppr_6",Uue="_matrixContainer_i0ppr_14",jue="_rotatedMatrix_i0ppr_21",mP={legendSlot:Nue,matrixContainer:Uue,rotatedMatrix:jue},$ue="_horConnector_1coef_1",Vue="_vertConnector_1coef_7",Hue="_hovered_1coef_28",que="_selected_1coef_33",F1={horConnector:$ue,vertConnector:Vue,hovered:Hue,selected:que},aC=cr.exports.forwardRef(({type:e,style:t},r)=>{const i=cr.exports.useRef(null);let s=!1,u=!1;const a="";function x(){return`${a} ${va({[F1.hovered]:s,[F1.selected]:u})}`}return cr.exports.useImperativeHandle(r,()=>({setHovered:()=>{i.current&&(s=!0,i.current.className=x())},resetHovered:()=>{i.current&&(s=!1,i.current.className=x())},setSelectedCol:()=>{e==="vertical"&&i.current&&(u=!0,i.current.className=x())},resetSelectedCol:()=>{e==="vertical"&&i.current&&(u=!1,i.current.className=x())},setSelectedRow:()=>{e==="horizontal"&&i.current&&(u=!0,i.current.className=x())},resetSelectedRow:()=>{e==="horizontal"&&i.current&&(u=!1,i.current.className=x())}})),_t("div",{className:e==="horizontal"?F1.horConnector:F1.vertConnector,style:t,children:_t("div",{ref:i})})});aC.displayName="BivariateMatrixCellConnector";const Gue="_denominatorIcon_2n0u5_1",Que={denominatorIcon:Gue},Wue=()=>Zn("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Zn("g",{clipPath:"url(#clip0_4777_147920)",children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59226 5.6715C4.57385 5.68982 4.55581 5.70848 4.53814 5.72748C4.27818 6.00698 4.09843 6.3591 4.03058 6.74363C4.30836 6.45062 4.50699 6.08183 4.59226 5.6715ZM10.3266 5.66248C10.4117 6.0808 10.6146 6.45633 10.8991 6.75295C10.8325 6.3648 10.6519 6.00926 10.3899 5.7275C10.3693 5.70537 10.3482 5.68368 10.3266 5.66248ZM10.927 7.12889C10.2881 7.58142 9.93487 8.39557 10.1356 9.23105L10.3024 9.92533L10.8712 7.55816C10.9059 7.41385 10.924 7.27018 10.927 7.12889ZM10.8167 12.0655L11.135 13.3906C11.2431 13.8401 11.6451 14.157 12.1074 14.157H12.8928C13.3551 14.157 13.7571 13.8401 13.8651 13.3906L14.8646 9.23105C15.0886 8.29843 14.6225 7.39238 13.8391 6.98624C14.3731 6.58123 14.718 5.93987 14.718 5.21796C14.718 3.99301 13.725 3 12.5001 3C12.1224 3 11.7669 3.09436 11.4556 3.26079C11.4174 3.85333 11.25 4.41104 10.9816 4.90556C11.0898 5.00751 11.1903 5.11726 11.2822 5.23375C11.2821 5.22849 11.2821 5.22323 11.2821 5.21796C11.2821 4.5453 11.8274 4 12.5001 4C13.1727 4 13.718 4.5453 13.718 5.21796C13.718 5.89062 13.1727 6.43592 12.5001 6.43592C12.2381 6.43592 11.9954 6.35321 11.7968 6.21249C11.9482 6.7042 11.975 7.24459 11.8435 7.79175C11.9191 7.77351 11.9983 7.7638 12.0803 7.7638H12.9199C13.5667 7.7638 14.0433 8.36854 13.8922 8.99743L12.8928 13.157L12.1074 13.157L11.3309 9.92533L10.8167 12.0655ZM4.10776 12.0505L3.78577 13.3906C3.67777 13.8401 3.27574 14.157 2.81344 14.157H2.02803C1.56574 14.157 1.16371 13.8401 1.0557 13.3906L0.0562696 9.23105C-0.167809 8.29845 0.298349 7.39241 1.08167 6.98626C0.547652 6.58125 0.202745 5.93988 0.202745 5.21796C0.202745 3.99301 1.19576 3 2.42071 3C2.80138 3 3.15965 3.0959 3.47268 3.26486C3.5114 3.85587 3.67872 4.41215 3.94647 4.90553C3.83535 5.01024 3.73236 5.12317 3.63841 5.24319C3.63858 5.2348 3.63867 5.22639 3.63867 5.21796C3.63867 4.5453 3.09337 4 2.42071 4C1.74804 4 1.20274 4.5453 1.20274 5.21796C1.20274 5.89062 1.74804 6.43592 2.42071 6.43592C2.68679 6.43592 2.93294 6.3506 3.1333 6.20582C2.98006 6.69932 2.95243 7.24213 3.0845 7.79178L3.08494 7.79363C3.00708 7.77418 2.92528 7.7638 2.84055 7.7638H2.00092C1.35413 7.7638 0.877492 8.36854 1.0286 8.99742L2.02803 13.157L2.81344 13.157L3.59353 9.91034L4.10776 12.0505ZM4.62199 9.91034L4.78521 9.23105C4.98518 8.39877 4.63543 7.58765 4.00112 7.13409C4.00445 7.2737 4.02258 7.41562 4.05683 7.55816L4.62199 9.91034Z",fill:"black"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46348 3C9.46348 4.10457 8.56805 5 7.46348 5C6.35891 5 5.46348 4.10457 5.46348 3C5.46348 1.89543 6.35891 1 7.46348 1C8.56805 1 9.46348 1.89543 9.46348 3ZM9.52339 5.18101C10.1023 4.63409 10.4635 3.85923 10.4635 3C10.4635 1.34315 9.12033 0 7.46348 0C5.80662 0 4.46348 1.34315 4.46348 3C4.46348 3.85922 4.8247 4.63408 5.40356 5.181C4.4317 5.4836 3.80296 6.50391 4.05627 7.55816L5.68205 14.3245C5.79005 14.774 6.19208 15.0909 6.65437 15.0909H8.27254C8.73483 15.0909 9.13686 14.774 9.24487 14.3245L10.8706 7.55816C11.1239 6.50392 10.4952 5.48363 9.52339 5.18101ZM6.00092 6.09091H8.92599C9.57278 6.09091 10.0494 6.69564 9.89832 7.32453L8.27254 14.0909H6.65437L5.0286 7.32453C4.87749 6.69564 5.35414 6.09091 6.00092 6.09091Z",fill:"black"})]}),_t("defs",{children:_t("clipPath",{id:"clip0_4777_147920",children:_t("rect",{width:"24",height:"24",fill:"white"})})})]}),Zue=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{d:"M14.6012 12.1833C15.0887 12.6708 15.0887 13.4833 14.6012 13.9708L13.7346 14.8375C13.6262 14.9458 13.5179 15 13.3554 15C13.2471 15 13.0846 14.9458 12.9762 14.8375C12.7596 14.6208 12.7596 14.2958 12.9762 14.1333L13.4637 13.6458H3.33874C2.20124 13.6458 1.33457 12.725 1.33457 11.5875V1.4625L0.847072 1.95C0.630406 2.16667 0.305406 2.16667 0.142906 1.95C-0.0195943 1.73333 -0.073761 1.40833 0.142906 1.24583L1.00957 0.379167C1.49707 -0.108333 2.30957 -0.108333 2.79707 0.379167L3.66374 1.24583C3.88041 1.4625 3.88041 1.7875 3.66374 1.95C3.55541 2.05833 3.39291 2.05833 3.28457 2.05833C3.17624 2.05833 3.01374 2.00417 2.90541 1.89583L2.36374 1.35417V11.5875C2.36374 12.1292 2.79707 12.6167 3.39291 12.6167H13.5721L13.0304 12.075C12.8137 11.8583 12.8137 11.5333 13.0304 11.3708C13.2471 11.1542 13.5721 11.1542 13.7346 11.3708L14.6012 12.1833ZM13.4637 0H6.85541C6.58457 0 6.36791 0.216667 6.36791 0.4875C6.36791 0.758333 6.58457 0.975 6.85541 0.975H13.4096C13.6804 0.975 13.8971 1.19167 13.8971 1.4625V8.125C13.8971 8.39583 14.1137 8.6125 14.3846 8.6125C14.6554 8.6125 14.8721 8.39583 14.8721 8.125V1.51667C14.9804 0.704167 14.2762 0 13.4637 0ZM8.45541 9.72083C8.72624 9.72083 8.94291 9.50417 8.94291 9.23333V6.95833C8.94291 6.2 8.29291 5.55 7.53457 5.55C7.20957 5.55 6.88457 5.65833 6.66791 5.875C6.45124 5.65833 6.12624 5.55 5.80124 5.55C5.58457 5.55 5.42207 5.60417 5.25957 5.65833C5.15124 5.55 5.04291 5.49583 4.88041 5.49583C4.60957 5.49583 4.39291 5.7125 4.39291 5.98333V9.17917C4.39291 9.45 4.60957 9.66667 4.88041 9.66667C5.15124 9.66667 5.36791 9.45 5.36791 9.17917V6.95833C5.36791 6.74167 5.53041 6.57917 5.74707 6.57917C5.96374 6.57917 6.12624 6.74167 6.12624 6.95833V9.23333C6.12624 9.50417 6.34291 9.72083 6.61374 9.72083C6.88457 9.72083 7.10124 9.50417 7.10124 9.23333V6.95833C7.10124 6.74167 7.26374 6.57917 7.48041 6.57917C7.69707 6.57917 7.85957 6.74167 7.85957 6.95833V9.23333C7.91374 9.50417 8.18457 9.72083 8.45541 9.72083ZM10.7304 3.7625C10.0804 3.7625 9.53874 4.30417 9.53874 4.95417C9.53874 5.225 9.75541 5.44167 10.0262 5.44167C10.2971 5.44167 10.5137 5.225 10.5137 4.95417C10.5137 4.84583 10.5679 4.79167 10.6762 4.79167C10.7304 4.79167 10.8387 4.84583 10.8387 4.95417C10.8387 5.00833 10.7304 5.225 10.2429 5.76667C9.9179 6.09167 9.64707 6.3625 9.64707 6.3625C9.48457 6.525 9.4304 6.74167 9.53874 6.90417C9.59291 7.12083 9.80957 7.22917 10.0262 7.22917H11.3804C11.6512 7.22917 11.8679 7.0125 11.8679 6.74167C11.8679 6.47083 11.6512 6.25417 11.3804 6.25417H11.2721C11.7054 5.7125 11.9221 5.33333 11.9221 5.00833C11.9221 4.25 11.3804 3.7625 10.7304 3.7625Z",fill:"black"})}),Kue=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5938 15C14.112 15 14.5312 14.5807 14.5312 14.0625V7.5C14.5312 6.9818 14.112 6.5625 13.5938 6.5625H12.6562V0.9375C12.6562 0.419297 12.237 0 11.7188 0H5.15625C4.63805 0 4.21875 0.419297 4.21875 0.9375V2.8125H1.40625C0.888047 2.8125 0.46875 3.2318 0.46875 3.75V14.0625C0.46875 14.5807 0.888047 15 1.40625 15H13.5938ZM1.40625 3.75H4.21875V5.5H3.5C3.22386 5.5 3 5.72386 3 6C3 6.27614 3.22386 6.5 3.5 6.5H4.21875V8H3.5C3.22386 8 3 8.22386 3 8.5C3 8.77614 3.22386 9 3.5 9H4.21875V10.5H3.5C3.22386 10.5 3 10.7239 3 11C3 11.2761 3.22386 11.5 3.5 11.5H4.21875V14.0625H1.40625V3.75ZM5.15625 0.9375H11.7188V14.0625H8.90625V11.25H7.96875V14.0625H5.15625V0.9375ZM12.6562 7.5H13.5938V14.0625H12.6562V7.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5ZM6 7.5C6 7.22386 6.22386 7 6.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H6.5C6.22386 8 6 7.77614 6 7.5ZM6.5 5C6.22386 5 6 5.22386 6 5.5C6 5.77614 6.22386 6 6.5 6H10.5C10.7761 6 11 5.77614 11 5.5C11 5.22386 10.7761 5 10.5 5H6.5Z",fill:"black"})}),Xue=()=>_t("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4949 0.505013C14.7683 0.77838 14.7683 1.2216 14.4949 1.49496L1.49493 14.495C1.22156 14.7683 0.778343 14.7683 0.504977 14.495C0.23161 14.2216 0.23161 13.7784 0.504977 13.505L13.505 0.505013C13.7783 0.231646 14.2216 0.231646 14.4949 0.505013ZM14.495 6.50503C14.7683 6.77839 14.7683 7.22161 14.495 7.49497L7.49497 14.495C7.22161 14.7683 6.77839 14.7683 6.50503 14.495C6.23166 14.2216 6.23166 13.7784 6.50503 13.505L13.505 6.50503C13.7784 6.23166 14.2216 6.23166 14.495 6.50503ZM8.49498 1.49497C8.76834 1.22161 8.76834 0.778392 8.49498 0.505025C8.22161 0.231658 7.77839 0.231658 7.50503 0.505025L0.505025 7.50503C0.231658 7.77839 0.231658 8.22161 0.505025 8.49498C0.778392 8.76834 1.22161 8.76834 1.49497 8.49498L8.49498 1.49497ZM3.49497 0.505025C3.76834 0.778392 3.76834 1.22161 3.49497 1.49497L1.49497 3.49497C1.22161 3.76834 0.778392 3.76834 0.505025 3.49497C0.231658 3.22161 0.231658 2.77839 0.505025 2.50503L2.50503 0.505025C2.77839 0.231658 3.22161 0.231658 3.49497 0.505025ZM14.495 12.495C14.7684 12.2216 14.7684 11.7784 14.495 11.505C14.2217 11.2317 13.7784 11.2317 13.5051 11.505L11.5051 13.505C11.2317 13.7784 11.2317 14.2216 11.5051 14.495C11.7784 14.7683 12.2217 14.7683 12.495 14.495L14.495 12.495Z",fill:"black"})}),Yue=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.60002 4C8.60002 3.75732 8.45384 3.53854 8.22963 3.44567C8.00543 3.3528 7.74736 3.40413 7.57576 3.57573L5.57576 5.57573C5.34145 5.81005 5.34145 6.18995 5.57576 6.42426C5.81007 6.65857 6.18997 6.65857 6.42429 6.42426L7.40002 5.44852V10.4H6.50002C6.16865 10.4 5.90002 10.6686 5.90002 11C5.90002 11.3314 6.16865 11.6 6.50002 11.6H9.50002C9.8314 11.6 10.1 11.3314 10.1 11C10.1 10.6686 9.8314 10.4 9.50002 10.4H8.60002V4Z",fill:"black"})}),Jue=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31257 14.9513C2.38285 14.9835 2.45927 15.0001 2.53658 15C2.66433 14.9997 2.78777 14.9537 2.88462 14.8704C2.98148 14.7871 3.04538 14.672 3.0648 14.5457L5.20765 0.617136C5.22508 0.478692 5.1878 0.338912 5.10375 0.227531C5.0197 0.116151 4.89551 0.0419601 4.75759 0.0207426C4.61968 -0.00047491 4.47893 0.0329551 4.36529 0.113921C4.25164 0.194887 4.17407 0.316999 4.14908 0.454279L2.00622 14.3828C1.99447 14.4593 1.9994 14.5373 2.02067 14.6116C2.04193 14.686 2.07903 14.7548 2.12942 14.8134C2.17981 14.8721 2.24229 14.9191 2.31257 14.9513ZM12.9007 14.8704C12.9975 14.9537 13.121 14.9997 13.2487 15C13.326 15.0001 13.4025 14.9835 13.4727 14.9513C13.543 14.9191 13.6055 14.8721 13.6559 14.8134C13.7063 14.7548 13.7434 14.686 13.7646 14.6116C13.7859 14.5373 13.7908 14.4593 13.7791 14.3828L11.6362 0.454279C11.6112 0.316999 11.5337 0.194887 11.42 0.113921C11.3064 0.0329551 11.1656 -0.00047491 11.0277 0.0207426C10.8898 0.0419601 10.7656 0.116151 10.6816 0.227531C10.5975 0.338912 10.5602 0.478692 10.5777 0.617136L12.7205 14.5457C12.7399 14.672 12.8038 14.7871 12.9007 14.8704ZM8.5 10.5C8.5 10.2239 8.27614 10 8 10C7.72386 10 7.5 10.2239 7.5 10.5V14.5C7.5 14.7761 7.72386 15 8 15C8.27614 15 8.5 14.7761 8.5 14.5V10.5ZM8 4C8.27614 4 8.5 4.22386 8.5 4.5V7.5C8.5 7.77614 8.27614 8 8 8C7.72386 8 7.5 7.77614 7.5 7.5V4.5C7.5 4.22386 7.72386 4 8 4ZM8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1V2C7.5 2.27614 7.72386 2.5 8 2.5C8.27614 2.5 8.5 2.27614 8.5 2V1Z",fill:"black"})}),ele={population:_t(Wue,{}),area_km2:_t(Zue,{}),total_building_count:_t(Kue,{}),populated_area_km2:_t(Xue,{}),one:_t(Yue,{})},tle={population:Rn.t("bivariate.matrix.icon.population"),area_km2:Rn.t("bivariate.matrix.icon.area_km2"),total_building_count:Rn.t("bivariate.matrix.icon.total_building_count"),populated_area_km2:Rn.t("bivariate.matrix.icon.populated_area_km2"),one:Rn.t("bivariate.matrix.icon.one")},CD=({iconId:e})=>{const t=ele[e]||_t(Jue,{}),r=tle[e]||Rn.t("bivariate.matrix.icon.roads");return _t(Lx,{tooltipText:r,children:({showTooltip:i,hideTooltip:s})=>_t("span",{className:Que.denominatorIcon,onPointerOver:i,onPointerLeave:s,children:t})})},rle=e=>{let t=e;const r=new Set,i=s=>{t=s,r.forEach(u=>u())};return()=>{const[s,u]=cr.exports.useState(t);return cr.exports.useEffect(()=>{const a=()=>{u(t)};return r.add(a),a(),()=>{r.delete(a)}},[]),[s,i]}},nle=rle({headingId:""}),ile="_denominators_pzvud_1",ole="_row_pzvud_5",ale="_column_pzvud_9",sle="_denominatorSelector_pzvud_13",ule="_disabled_pzvud_25",lle="_denominatorsContainer_pzvud_43",cle="_selected_pzvud_85",pg={denominators:ile,row:ole,column:ale,denominatorSelector:sle,disabled:ule,denominatorsContainer:lle,selected:cle},fle=({numeratorId:e,denominatorId:t,numeratorLabel:r,quality:i,onSelectQuotient:s,isSelected:u=!1})=>{const a=x=>{x.stopPropagation(),s(e,t)};return Zn("div",{className:va(u&&pg.selected),onClick:a,children:[_t(CD,{iconId:t}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:i!=null?i:"&nbsp;"}),_t("div",{className:"quotientLabel",children:r})]})},ple=100/70,Ale=5,ED=cr.exports.memo(({id:e,quotients:t,selectedQuotient:r,onSelectQuotient:i,type:s,children:u})=>{const[a,x]=nle(),S=$=>{if($.stopPropagation(),a.headingId===e)x({headingId:"",width:0});else{const Z=$.currentTarget.getBoundingClientRect(),J=$.currentTarget.parentElement.parentElement.getBoundingClientRect(),ae=Math.ceil((Z.left-J.left)*ple+Ale);x({headingId:e,width:ae})}},P=cr.exports.useCallback(($,Z)=>{x({headingId:""}),i($,Z)},[x,i]),[R,z]=cr.exports.useMemo(()=>{const $=t.findIndex(({id:Z})=>Z[0]===r.id[0]&&Z[1]===r.id[1]);return $>=0?[t[$],t.filter((Z,J)=>J!==$)]:[null,t]},[t,r.id]),N=({id:$,label:Z,quality:J},ae)=>_t(fle,{onSelectQuotient:P,quality:J,numeratorId:$[0],denominatorId:$[1],numeratorLabel:Z,isSelected:ae},JSON.stringify($));return Zn("div",{className:va({[pg.denominators]:!0,[pg.row]:s==="horizontal",[pg.column]:s==="vertical"}),children:[_t("div",{onClick:S,children:u}),a.headingId===e&&Zn("div",{className:pg.denominatorsContainer,style:s==="horizontal"?{left:-a.width,right:0}:{top:-a.width,bottom:0},children:[R&&N(R,!0),z.map($=>N($,!1))]})]})});ED.displayName="QuotientSelector";const hle="_axisRecord_1dbhd_8",dle="_container_1dbhd_13",mle="_column_1dbhd_34",gle="_row_1dbhd_43",yle="_selected_1dbhd_110",vle="_corner_1dbhd_142",_le="_hovered_1dbhd_146",xle="_verticalText_1dbhd_173",ble="_quotientsCountLabel_1dbhd_185",pp={axisRecord:hle,container:dle,column:mle,row:gle,selected:yle,corner:vle,hovered:_le,verticalText:xle,quotientsCountLabel:ble},wle=(e,t)=>({gridColumn:e?`${t+3} / ${t+4}`:"1",gridRow:e?"1":`${t+3} / ${t+4}`}),sC=cr.exports.forwardRef(({index:e,type:t,className:r,selectedIndex:i=-1,headerCell:s,id:u,onCellHover:a,onCellClick:x,onSelectQuotient:S,baseDimension:P,calculateHeadingsStyle:R},z)=>{const N=()=>{a(e)},$=()=>{a(null)},Z=Ce=>{const He=Ce.target;He.tagName==="svg"||He.tagName==="path"||He.className&&He.className.indexOf&&He.className.indexOf("denominator")!==-1||x(e,Ce)},J=cr.exports.useCallback((Ce,He)=>{S(e,Ce,He)},[S,e]),ae=s.quotients.length>1?Zn("div",{className:pp.quotientsCountLabel,children:["+",s.quotients.length-1," layers",_t(dH,{})]}):null,V=cr.exports.useRef(null);let K=!1,ue=!1;const ge=t==="horizontal",he=t==="vertical",le=va({[r||""]:r,[pp.axisRecord]:!0,[pp.column]:he,[pp.row]:ge,[pp.verticalText]:he,horizontal:ge,vertical:he});function Se(){return`${le} ${va({[pp.hovered]:K,[pp.selected]:ue})}`}return cr.exports.useImperativeHandle(z,()=>({setHovered:()=>{V.current&&(K=!0,V.current.className=Se())},resetHovered:()=>{V.current&&(K=!1,V.current.className=Se())},setSelectedCol:()=>{he&&V.current&&(ue=!0,V.current.className=Se())},resetSelectedCol:()=>{he&&V.current&&(ue=!1,V.current.className=Se())},setSelectedRow:()=>{ge&&V.current&&(ue=!0,V.current.className=Se())},resetSelectedRow:()=>{ge&&V.current&&(ue=!1,V.current.className=Se())}})),_t("div",{ref:V,onMouseEnter:N,onMouseOut:$,onClick:Z,style:wle(t==="vertical",e),className:le,children:Zn("div",{style:R(P,he,e),className:pp.container,children:[_t("div",{className:pp.corner}),_t(CD,{iconId:s.selectedQuotient.id[1]}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:s.quality?s.quality:"&nbsp;"}),s.label,ae&&_t(ED,{id:`quotient_${u}`,onSelectQuotient:J,selectedQuotient:s.selectedQuotient,quotients:s.quotients,type:t,children:ae})]})})});sC.displayName="BivariateMatrixHeadingEntry";const Sle="_axisCaptionRoot_1yhrg_1",Cle="_axisCaptionAnchor_1yhrg_6",Ele="_axisCaptionBody_1yhrg_10",kle="_tooltipHover_1yhrg_24",Tle="_axisCaptionText_1yhrg_33",Ple="_popupContent_1yhrg_47",c0={axisCaptionRoot:Sle,axisCaptionAnchor:Cle,axisCaptionBody:Ele,tooltipHover:kle,axisCaptionText:Tle,popupContent:Ple},Ile=Zn("div",{className:c0.axisCaptionText,children:[_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p1")}),Zn("ul",{children:[_t("li",{children:Rn.t("bivariate.matrix.caption.tooltip.li1")}),_t("li",{children:Rn.t("bivariate.matrix.caption.tooltip.li2")})]}),_t("br",{}),_t("b",{children:Rn.t("bivariate.matrix.caption.tooltip.b")}),_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p2")}),_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p3")})]}),Ole={popupContent:c0.popupContent},Mle=({baseDimension:e=0})=>{const t=cr.exports.useRef(null);return cr.exports.useLayoutEffect(()=>{var r;(r=t.current)==null||r.scrollIntoView({block:"center"})},[]),_t("div",{className:c0.axisCaptionRoot,ref:t,children:_t("div",{className:c0.axisCaptionAnchor,style:{left:-e},children:_t(Lx,{hoverBehavior:!1,tooltipId:"axis_caption",tooltipText:Ile,popupClasses:Ole,children:({showTooltip:r})=>Zn("div",{className:c0.axisCaptionBody,children:[_t(gP,{position:"left"}),_t("br",{}),Zn("div",{className:c0.tooltipHover,onClick:r,children:[_t("span",{children:Rn.t("bivariate.matrix.caption.base_axis")}),_t(gH,{}),_t("span",{children:Rn.t("bivariate.matrix.caption.annex_axis")})]}),_t("br",{}),_t(gP,{position:"right"})]})})})})},gP=({position:e="left"})=>Zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"22",viewBox:"0 0 6 22",fill:"none",transform:e==="left"?"rotate(90)":"rotate(-90)",children:[_t("path",{d:"M3 1V20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M1 18L3 21.5L5 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),B1=3,z1=3,Rle=15,kD=({matrix:e,xHeadings:t,yHeadings:r,onSelectCell:i,selectedCell:s,cellSize:u=0,onSelectQuotient:a})=>{var Et,Ze;const x=cr.exports.useRef(null),S=cr.exports.useContext(bue),P=[],R=[];let z=-1,N=-1;const $=cr.exports.useRef((Et=s==null?void 0:s.x)!=null?Et:-1),Z=cr.exports.useRef((Ze=s==null?void 0:s.y)!=null?Ze:-1),J=TS(xue.setSelectCellCallback),ae=(Oe,ee,pe)=>{ee>=0&&(P[ee]||(P[ee]=[]),P[ee].push(Oe)),pe>=0&&(R[pe]||(R[pe]=[]),R[pe].push(Oe))},V=(Oe,ee)=>{if(z!==Oe&&(z=Oe,z!==-1)){const pe=R[z];pe&&pe.forEach(yt=>{yt==null||yt.setHovered()})}if(N!==ee&&(N=ee,N!==-1)){const pe=P[N];pe&&pe.forEach(yt=>{yt==null||yt.setHovered()})}},K=()=>{if(z!==-1){const Oe=R[z];Oe&&Oe.forEach(ee=>{ee==null||ee.resetHovered()}),z=-1}if(N!==-1){const Oe=P[N];Oe&&Oe.forEach(ee=>{ee==null||ee.resetHovered()}),N=-1}},ue=Oe=>{K(),Oe&&V(Oe,N)},ge=Oe=>{K(),Oe&&V(z,Oe)},he=()=>{if($.current!==-1){const Oe=R[$.current];Oe&&Oe.forEach(ee=>{ee==null||ee.resetSelectedCol()}),$.current=-1}if(Z.current!==-1){const Oe=P[Z.current];Oe&&Oe.forEach(ee=>{ee==null||ee.resetSelectedRow()}),Z.current=-1}},le=(Oe,ee,pe)=>{he(),Ce(Oe,ee),i(Oe,ee,pe)},Se=(Oe,ee)=>{he(),Ce(Oe,ee)},Ce=(Oe,ee)=>{if(Oe!==-1&&$.current!==Oe){$.current=Oe;const pe=R[$.current];pe&&pe.forEach(yt=>{yt==null||yt.setSelectedCol()})}if(ee!==-1&&Z.current!==ee){Z.current=ee;const pe=P[Z.current];pe&&pe.forEach(yt=>{yt==null||yt.setSelectedRow()})}},He=(Oe,ee)=>{le(Oe,Z.current,ee)},ut=(Oe,ee)=>{le($.current,Oe,ee)},tt=cr.exports.useCallback((Oe,ee,pe,yt)=>{a(!1,Oe,ee,pe,yt)},[a]),st=cr.exports.useCallback((Oe,ee,pe,yt)=>{a(!0,Oe,ee,pe,yt)},[a]),bt=Eue(t,r),St=Math.sqrt(Math.pow(t.length*J_,2)+Math.pow(r.length*J_,2))*wue+Rle;cr.exports.useEffect(()=>{S==null||S.onMatrixPositionRecalculated(bt,St),x.current&&(x.current.style.visibility="visible")},[bt]);const Qt=Sue(t.length+1,r.length+1,u),fr=cr.exports.useMemo(()=>({width:St,height:St}),[St]),wr=cr.exports.useMemo(()=>Cue(t.length+B1,r.length+z1),[t,r]);return cr.exports.useEffect(()=>{J(Se.bind(void 0)),s&&(s.x!==-1||s.y!==-1)&&Se(s.x,s.y)},[e]),_t("div",{ref:x,className:mP.matrixContainer,style:fr,children:Zn("div",{style:Qt,className:mP.rotatedMatrix,children:[e.map((Oe,ee)=>_t(aC,{type:"horizontal",style:wr[-1+B1][ee+z1],ref:pe=>ae(pe,ee,-1)},`${ee}_row_connector`)),e[0].map((Oe,ee)=>_t(aC,{type:"vertical",style:wr[ee+B1][-1+z1],ref:pe=>ae(pe,-1,ee)},`${ee}_col_connector`)),e.map((Oe,ee)=>Oe.map((pe,yt)=>_t(SD,{x:yt,y:ee,onClick:le,onMouseOver:V,onMouseOut:K,style:wr[yt+B1][ee+z1],ref:tr=>ae(tr,ee,yt),value:pe===null?void 0:pe,disabled:pe===null,firstRow:ee===0,firstCol:yt===0,lastRow:ee===e.length-1,lastCol:yt===Oe.length-1},`matrix_cell_${yt}_${ee}`))),[...r].reverse().map((Oe,ee)=>_t(sC,{id:`hor_${r.length-1-ee}`,index:r.length-1-ee,type:"horizontal",selectedIndex:s==null?void 0:s.y,headerCell:Oe,onCellHover:ge,onCellClick:ut,onSelectQuotient:st,baseDimension:bt,calculateHeadingsStyle:dP,ref:pe=>ae(pe,r.length-1-ee,-1)},`hor_${r.length-1-ee}`)),_t(Mle,{baseDimension:bt}),t.map((Oe,ee)=>_t(sC,{id:`vert_${ee}`,index:ee,type:"vertical",selectedIndex:s==null?void 0:s.x,headerCell:Oe,onCellHover:ue,onCellClick:He,onSelectQuotient:tt,baseDimension:bt,calculateHeadingsStyle:dP,ref:pe=>ae(pe,-1,ee)},`vert_${ee}`))]})})};kD.displayName="BivariateMatrixControl";const Lle=cr.exports.memo(kD,(e,t)=>e.matrix===t.matrix),Ol={xGroups:[{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["local_hours","area_km2"]',quotients:[["count","populated_area_km2"],["population_prev","populated_area_km2"],["gdp","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["osm_users","area_km2"],["total_hours","populated_area_km2"],["covid19_confirmed","populated_area_km2"],["covid19_confirmed","area_km2"],["osm_users","populated_area_km2"],["local_hours","area_km2"],["local_hours","populated_area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["count","total_building_count"]',quotients:[["count","total_building_count"]],selectedQuotient:["count","total_building_count"]},{parent:'["highway_length","population"]',quotients:[["forest","population"],["highway_length","population"]],selectedQuotient:["highway_length","population"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],yGroups:[{parent:'["local_hours","area_km2"]',quotients:[["population","populated_area_km2"],["total_building_count","populated_area_km2"],["count","populated_area_km2"],["population_prev","populated_area_km2"],["total_building_count","area_km2"],["gdp","populated_area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["total_hours","populated_area_km2"],["osm_users","area_km2"],["covid19_confirmed","populated_area_km2"],["osm_users","populated_area_km2"],["covid19_confirmed","area_km2"],["local_hours","populated_area_km2"],["local_hours","area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["population","area_km2"]',quotients:[["population","area_km2"]],selectedQuotient:["population","area_km2"]},{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["populated_area_km2","area_km2"]',quotients:[["populated_area_km2","area_km2"]],selectedQuotient:["populated_area_km2","area_km2"]},{parent:'["count","population"]',quotients:[["populated_area_km2","population"],["count","population"]],selectedQuotient:["count","population"]},{parent:'["populated_area_km2","total_building_count"]',quotients:[["populated_area_km2","total_building_count"]],selectedQuotient:["populated_area_km2","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["forest","population"]',quotients:[["highway_length","population"],["forest","population"]],selectedQuotient:["forest","population"]},{parent:'["avg_elevation","one"]',quotients:[["avg_elevation","one"]],selectedQuotient:["avg_elevation","one"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],matrix:[[.6330778143702572,null,.5428354424212366,.8125028273732107,.41794744630059005,.49075709882519214,.26266841211785613,.17540431775688137,.2817357956135096,-.08277918866628682,-.07354014808858399,.19952042019781102,.2900699030570146,-.09959194444606909,-.05653224901990311,-.08121946780800145,-.06293349539553206,.210717984018573],[.7671266114613431,.4624540160877126,.7461271344307278,.6236796022803118,.4651837775930101,.6983788201180583,.3282268564011803,.23940172696613696,.6102526069773476,-.06854993994184201,-.06300652330464818,.5425853155901724,.5357120339754239,-.12569275885753226,-.05722122475056985,-.044124976285712575,-.07252302728830883,.46170009422253117],[null,.6330778143702572,.9448400352897224,.8088667700993942,.5478619819586914,.7272525499712613,.39403434829318645,.27693369264722456,.4212553882513244,-.09219840214177631,-.08214624778695,.3334796387999488,.3381396079397914,-.11599438338517783,-.0603311321070773,null,-.0709735871498622,.24799941442360907],[.9448400352897224,.5428354424212366,null,.676324490987385,.495437368648744,.6083458288157841,.3469868158515808,.2430950316469889,.4310608323815133,-.09512147612349764,-.08309756332167413,.3452068134908724,.33210650851954204,-.1245886065474142,-.059708735955503585,-.14339940649431673,-.07375589630648925,.24325119232100342],[.8088667700993942,.8125028273732107,.676324490987385,null,.5189347708683577,.6884534708417488,.33187782018548295,.2219184858913333,.35395740401150805,-.09412791983951108,-.0863908043684727,.26082399416277346,.349163057602413,-.0749918701328735,-.06355840786694379,-.06179508212619175,-.06748437844937322,.25841056419208985],[.5478619819586914,.41794744630059005,.495437368648744,.5189347708683577,null,.38324804690465736,null,.414339823397522,.3069414868687711,-.10644082342648567,-.10931575987231072,.2754560009958487,.2569523390521722,-.11051731563471724,-.08226769814606767,.000604231582566239,null,.20899371630213479],[.7272525499712613,.49075709882519214,.6083458288157841,.6884534708417488,.38324804690465736,null,.30947144087595235,.22699474527609945,.2830320630422097,-.04226615774405834,-.037742340113614686,.23762065170375052,.23266705566189747,-.05154149468310855,-.02870286844834339,-.031190214624625075,-.03390072345440923,.18581115270615528],[.39403434829318645,.26266841211785613,.3469868158515808,.33187782018548295,null,.30947144087595235,null,.9304780288243525,.13914319427120514,.3291875622555688,.3720654440390036,.1934927693146689,.10623582254983449,.0007285286560751833,.19378449287322094,.32680720759696696,null,.16809925893975913],[.27693369264722456,.17540431775688137,.2430950316469889,.2219184858913333,.414339823397522,.22699474527609945,.9304780288243525,null,.09020847847993732,.42400942691094484,.5064709774524677,.1712970613845418,.06714970974071707,.01180306783229655,.2255650150706005,.3599655140069753,.30252787549965515,.15970052255248204],[.4212553882513244,.2817357956135096,.4310608323815133,.35395740401150805,.3069414868687711,.2830320630422097,.13914319427120514,.09020847847993732,null,-.06649666693010343,-.06343156740380441,null,.6841527486069171,-.13779469419376966,-.0635847915251171,-.026485710953304663,-.08026301675299034,.6178257434320957],[-.09219840214177631,-.08277918866628682,-.09512147612349764,-.09412791983951108,-.10644082342648567,-.04226615774405834,.3291875622555688,.42400942691094484,-.06649666693010343,null,.7678796845524921,.012760506344240884,-.054701981754940544,.1344540319549378,null,.5631324180563558,.3071029030398512,.04014411156301263],[-.08214624778695,-.07354014808858399,-.08309756332167413,-.0863908043684727,-.10931575987231072,-.037742340113614686,.3720654440390036,.5064709774524677,-.06343156740380441,.7678796845524921,null,.014062866759102748,-.05210682697853124,.11091668928613378,.2990964999949313,.5385399665532266,.22651079092994508,.04521239572328026],[.33092297487284617,.306348164358225,.3238400065207823,.3693496848744186,.38871869483912574,.1581862969025989,-.3471496502086163,-.43374811025089965,.33796301073828167,-.3268410473725932,-.3386739643520862,.055679399245274847,.3020796910928048,-.04623557252911246,-.19287576889960628,-.23886314058329716,-.1732637367181755,.02241746611798094],[null,-.05985205635299918,-.07346388019658537,-.04156216899598115,-.06836488141749311,-.03935680545094748,.12058512533492027,.13212728757237097,-.11270465651638581,.15970627541493335,.13401194122424062,-.12384718246215928,-.10414752849189488,.7574388860132296,.48388350772788513,null,.6315662616124519,-.11571785360027256],[-.2290337466539601,-.1757661352019487,-.24760184223062584,-.18278999260309406,-.1710761141838468,-.09542438099888385,-.059267030345385996,-.013539781630611262,-.09643066932644401,.43854582251146346,.3609544353566733,-.07178405902927397,-.06341025046618942,.22096261180630974,.10541941385096928,.5599627595822098,.1278673522191922,-.032944279661146915],[.3334796387999488,.19952042019781102,.3452068134908724,.26082399416277346,.2754560009958487,.23762065170375052,.1934927693146689,.1712970613845418,null,.012760506344240884,.014062866759102748,null,.6310066640401927,-.1500265206387344,-.06689746899862688,.01986212506899432,-.08550943488376969,.676555546708353],[.3381396079397914,.2900699030570146,.33210650851954204,.349163057602413,.2569523390521722,.23266705566189747,.10623582254983449,.06714970974071707,.6841527486069171,-.054701981754940544,-.05210682697853124,.6310066640401927,null,-.12258332045801432,-.0567307219837807,-.022320716664225384,-.07178249009741255,null],[-.11599438338517783,-.09959194444606909,-.1245886065474142,-.0749918701328735,-.11051731563471724,-.05154149468310855,.0007285286560751833,.01180306783229655,-.13779469419376966,.1344540319549378,.11091668928613378,-.1500265206387344,-.12258332045801432,null,.4348018015155649,.1802672705079899,.5785565720280881,-.1349910962529299],[-.0603311321070773,-.05653224901990311,-.059708735955503585,-.06355840786694379,-.08226769814606767,-.02870286844834339,.19378449287322094,.2255650150706005,-.0635847915251171,null,.2990964999949313,-.06689746899862688,-.0567307219837807,.4348018015155649,null,.16176932292012,.7133807791437314,-.05999313994718329],[-.06778027180778882,-.06094700100554602,-.06749293269532497,-.07015551687145612,-.09380332086205506,-.03214432503025587,.20746554020517102,.2523547017592986,-.07210328538123267,.4203440217106889,null,-.0750002557187531,-.06409549706414985,.49720071299727603,.8986894662282207,.19577005850577103,.7147205376873481,-.06663105366067186],[-.1314723477716716,-.10888331650996384,-.12016811312503141,-.14500851581063834,-.14651760866997154,-.0894267074095959,-.10021629943072725,-.02053796018986287,-.08959271152178999,.07728964320941438,.11382059101409457,-.055901670004619375,-.07981810377749747,.12046075802517535,.07334344740483416,-.020568856117619418,.12080907584004444,-.040957057721220644],[.24799941442360907,.210717984018573,.24325119232100342,.25841056419208985,.20899371630213479,.18581115270615528,.16809925893975913,.15970052255248204,.6178257434320957,.04014411156301263,.04521239572328026,.676555546708353,null,-.1349910962529299,-.05999313994718329,.035960163104143954,-.07699941382657573,null]],indicators:[{name:"mhr_index",label:"Multi-hazard risk PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"mhe_index",label:"Multi-hazard exposure PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"coping_capacity_index",label:"Coping Capacity PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"resilience_index",label:"Resilience PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"vulnerability_index",label:"Vulnerability PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"count",label:"OSM Objects",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"count_6_months",label:"OSM Objects (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"view_count",label:"OSM Map Views",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]},{name:"avgmax_ts",label:"OSM Last Edit Date (avg)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"max_ts",label:"OSM Last Edit Date (max)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"min_ts",label:"OSM First Edit Date (min)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["neutral"]]},{name:"osm_users",label:"OSM Mappers Edited Here",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count",label:"OSM Buildings",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count_6_months",label:"OSM Buildings (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length",label:"OSM Road Length",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length_6_months",label:"OSM Road Length (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"local_hours",label:"OSM Mapping Hours by Local Mappers",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"total_hours",label:"OSM Mapping Hours by All Mappers",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"pop_disability_total",label:"Population with a disability",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"forest",label:"Forest Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_not_well_eng_speak",label:"Population with a difficulty speaking English",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["good"],["important","bad"]]},{name:"evergreen_needle_leaved_forest",label:"Evergreen Needle-leaved Forest Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_under_5_total",label:"Population under age of 5",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"shrubs",label:"Shrubland Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_over_65_total",label:"Population over age of 65",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"herbage",label:"Herbaceous Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"poverty_families_total",label:"Families living below poverty line",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant, good"],["important"]]},{name:"unknown_forest",label:"Unknown Forest Type Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"volcanos_count",label:"Number of volcanos",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"covid19_vaccines",label:"COVID19 Vaccine Acceptance",copyrights:["\xA9 Data from Delphi COVIDcast, covidcast.cmu.edu"],direction:[["bad"],["neutral"]]},{name:"covid19_confirmed",label:"COVID19 Confirmed Cases",copyrights:["\xA9 Data from JHU CSSE COVID-19 Dataset"],direction:[["good"],["bad"]]},{name:"avg_slope",label:"Average slope",copyrights:["\xA9 Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_elevation",label:"Average elevation",copyrights:["\xA9 Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"gdp",label:"Gross Domestic Product",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 2019 The World Bank Group, CC-BY 4.0","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, Myroslava Lesiv, Nandin-Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","@ OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"population_prev",label:"Population (previous version)",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"wildfires",label:"Wildfire Days Per Year",copyrights:["\xA9 NRT VIIRS 375 m Active Fire product VJ114IMGTDL_NRT. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/VIIRS/VJ114IMGT_NRT.002","NRT VIIRS 375 m Active Fire product VNP14IMGT. Available on-line [https://earthdata.nasa.gov/firms]. doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14DL. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14DL.NRT.006","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14ML. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14ML"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_ndvi",label:"Average NDVI, JUN 2019",copyrights:["\xA9 Data from Sentinel-2 L2A 120m Mosaic, CC-BY 4.0, https://forum.sentinel-hub.com/c/aws-sentinel"],direction:[["bad"],["good"]]},{name:"industrial_area",label:"OSM industrial area",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"pop_without_car",label:"Population without a car",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["neutral"],["important"]]},{name:"area_km2",label:"Area",copyrights:["Concept of areas \xA9 Brahmagupta, Ren\xE9 Descartes"],direction:[["neutral"],["neutral"]]},{name:"days_maxtemp_over_32c_1c",label:"Days above 32C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxtemp_over_32c_2c",label:"Days above 32C, potential scenario (2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_1c",label:"Nights above 25C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_2c",label:"Nights above 25C, potential scenario(2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_1c",label:"Days above 32C wet-bulb, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_2c",label:"Days above 32C wet-bulb, potential scenario(2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"mandays_maxtemp_over_32c_1c",label:"Man-days above 32C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"man_distance_to_fire_brigade",label:"Man-distance to fire brigade",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"man_distance_to_hospital",label:"Man-distance to hospitals",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"total_road_length",label:"Total Roads length",copyrights:["\xA92019 Facebook, Inc. and its affiliates https://github.com/facebookmicrosites/Open-Mapping-At-Facebook/blob/main/LICENSE.md","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"foursquare_places_count",label:"Foursquare Japan places count",copyrights:["\xA9Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"foursquare_visits_count",label:"Foursquare Japan visits count",copyrights:["\xA9Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"one",label:"1",copyrights:["Numbers \xA9 Mu\u1E25ammad ibn M\u016Bs\u0101 al-Khw\u0101rizm\u012B"],direction:[["neutral"],["neutral"]]},{name:"populated_area_km2",label:"Populated area",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"population",label:"Population",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"total_building_count",label:"Total Buildings Estimate",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"view_count_bf2402",label:"OSM Map Views 30 days before 24.02.2022",copyrights:["\xA9 Kontur","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]}]},Dle="_axisMatrix_caw7e_1",Fle={axisMatrix:Dle},Ble=(e,t)=>{var r,i;return{label:((r=t.find(s=>s.name===e.selectedQuotient[0]))==null?void 0:r.label)||"",selectedQuotient:{id:e.selectedQuotient,label:(i=t.find(s=>s.name===e.selectedQuotient[1]))==null?void 0:i.label},quality:"1",quotients:e.quotients.map(s=>{var u;return{id:s,label:(u=t.find(a=>a.name===s[0]))==null?void 0:u.label,quality:"1"}})}};function zle(){const e=cr.exports.useMemo(()=>{if(!Ol.indicators||!Ol.xGroups||!Ol.xGroups.length||!Ol.yGroups||!Ol.yGroups.length)return null;const u=a=>Ble(a,Ol==null?void 0:Ol.indicators);return{x:Ol.xGroups.map(u),y:Ol.yGroups.map(u)}},[Ol]),[t,r]=cr.exports.useState(null),i=cr.exports.useCallback((u,a,x)=>{console.log("onSelectCellHandler",u,a,x),r({x:u,y:a})},[]),s=cr.exports.useCallback((u,a,x,S)=>{console.log("onSelectQuotient",u,a,x,S)},[]);return _t("div",{className:Fle.axisMatrix,children:Zn(wR,{children:[_t(Lle,{matrix:Ol.matrix,xHeadings:e==null?void 0:e.x,yHeadings:e==null?void 0:e.y,onSelectCell:i,selectedCell:t,onSelectQuotient:s}),_t(kL,{})]})})}const TD=document.createElement("template");TD.innerHTML=`
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg {
  z-index: 99;
  position: fixed;
  border: 0px;
  top: 0px;
}
</style>
<svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;class Nle extends HTMLElement{constructor(){super(),this.right="0",this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(this.ownerDocument.importNode(TD.content,!0)),this.update()}static get observedAttributes(){return["style","z-index","target","height","width","href","color","fill","position","top","left","right","bottom","transform"]}setAttr(t,r){const i=this.shadow.querySelector("svg");/(href)/.test(t.toLocaleLowerCase())?i.lastElementChild.setAttribute("xlink:href",r):/(color|fill)/.test(t.toLocaleLowerCase())?i.firstElementChild.style[t]=r:/(z-index|position|top|left|right|bottom|transform)/.test(t.toLocaleLowerCase())?i.style[t]=r:i.setAttribute(t,r)}update(){[...this.getAttributeNames(),"right"].forEach(t=>{const r=this.getAttribute(t)||this[t]||"";this.setAttr(t,r)})}attributeChangedCallback(t,r,i){r!==i&&this.setAttr(t,i)}}customElements.define("github-corners",Nle);var Ule=["size","fixed","bottom","zIndex","className","style","bgColor","color","position"];function jle(e){var{size:t=80,fixed:r=!1,bottom:i,zIndex:s,style:u,bgColor:a="#151513",color:x="#fff",position:S="right"}=e,P=Zh(e,Ule),R=S==="left"?{left:0,right:"initial",transform:"scale(-1, 1)"}:{right:0,left:"initial",transform:"scale(1, 1)"};return i?(R.bottom=0,R.top="initial",R.transform=S==="left"?"scale(-1, -1)":"scale(1, -1)"):(R.bottom="initial",R.top=0),_t("github-corners",iu({target:"__blank",width:t,height:t,href:e.href,position:r?"fixed":"absolute","z-index":s,style:u,fill:a,color:x},R,P))}const $le=({children:e})=>Zn(H2,{children:[e,_t(jle,{size:40,href:"https://github.com/konturio/disaster-ninja-fe"})]}),Vle=e=>e.raw[0],Hle=Vle`
  .cosmos-ui-kit-decorator {
    padding: 1em;
    display: flex;
    gap: 2em;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    box-sizing: border-box;
    background-color: #fff;
    --transp-clr: #f5f5f5;
    background-image: linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      ),
      linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      );
    background-size: 24px 24px;
    background-position: 0 0, 12px 12px;
  }
`;function qle({children:e}){return Zn(H2,{children:[_t("style",{dangerouslySetInnerHTML:{__html:Hle}}),_t("div",{className:"cosmos-ui-kit-decorator",children:e})]})}const Gle={port:5e3},Qle={"src/components/BivariateLegend/BivariateLegend.fixture.tsx":{module:{default:aie}},"src/features/bivariate_color_manager/components/MiniLegend/MiniLegend.fixture.tsx":{module:{default:hie}},"src/features/bivariate_manager/fixtures/BivariateGreetings.fixture.tsx":{module:{default:wie}},"src/features/bivariate_manager/fixtures/BivariateMatrixControl.fixture.tsx":{module:{default:zle}}},Wle={"cosmos.decorator.tsx":$le,"src/cosmos.decorator.tsx":qle};OP.exports.mountDomRenderer({rendererConfig:Gle,decorators:Wle,fixtures:Qle});console.log("Disaster Ninja",nH);export{_t as a,Zn as j,cr as r};

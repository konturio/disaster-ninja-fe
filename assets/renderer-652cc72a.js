var IF=Object.defineProperty;var OF=(e,t,n)=>t in e?IF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oi=(e,t,n)=>(OF(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var l=Function.bind.apply(t,s);return new l}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var $t={},LF={get exports(){return $t},set exports(e){$t=e}},Zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.element"),RF=Symbol.for("react.portal"),DF=Symbol.for("react.fragment"),FF=Symbol.for("react.strict_mode"),BF=Symbol.for("react.profiler"),zF=Symbol.for("react.provider"),NF=Symbol.for("react.context"),UF=Symbol.for("react.forward_ref"),jF=Symbol.for("react.suspense"),$F=Symbol.for("react.memo"),VF=Symbol.for("react.lazy"),o5=Symbol.iterator;function HF(e){return e===null||typeof e!="object"?null:(e=o5&&e[o5]||e["@@iterator"],typeof e=="function"?e:null)}var IP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OP=Object.assign,MP={};function H0(e,t,n){this.props=e,this.context=t,this.refs=MP,this.updater=n||IP}H0.prototype.isReactComponent={};H0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};H0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LP(){}LP.prototype=H0.prototype;function I4(e,t,n){this.props=e,this.context=t,this.refs=MP,this.updater=n||IP}var O4=I4.prototype=new LP;O4.constructor=I4;OP(O4,H0.prototype);O4.isPureReactComponent=!0;var a5=Array.isArray,RP=Object.prototype.hasOwnProperty,M4={current:null},DP={key:!0,ref:!0,__self:!0,__source:!0};function FP(e,t,n){var i,s={},l=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)RP.call(t,i)&&!DP.hasOwnProperty(i)&&(s[i]=t[i]);var x=arguments.length-2;if(x===1)s.children=n;else if(1<x){for(var S=Array(x),T=0;T<x;T++)S[T]=arguments[T+2];s.children=S}if(e&&e.defaultProps)for(i in x=e.defaultProps,x)s[i]===void 0&&(s[i]=x[i]);return{$$typeof:Ay,type:e,key:l,ref:o,props:s,_owner:M4.current}}function qF(e,t){return{$$typeof:Ay,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ay}function GF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var s5=/\/+/g;function Yb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GF(""+e.key):t.toString(36)}function V1(e,t,n,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ay:case RF:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+Yb(o,0):i,a5(s)?(n="",e!=null&&(n=e.replace(s5,"$&/")+"/"),V1(s,t,n,"",function(T){return T})):s!=null&&(L4(s)&&(s=qF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s5,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",a5(e))for(var x=0;x<e.length;x++){l=e[x];var S=i+Yb(l,x);o+=V1(l,t,n,S,s)}else if(S=HF(e),typeof S=="function")for(e=S.call(e),x=0;!(l=e.next()).done;)l=l.value,S=i+Yb(l,x++),o+=V1(l,t,n,S,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zv(e,t,n){if(e==null)return e;var i=[],s=0;return V1(e,i,"","",function(l){return t.call(n,l,s++)}),i}function QF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rl={current:null},H1={transition:null},WF={ReactCurrentDispatcher:rl,ReactCurrentBatchConfig:H1,ReactCurrentOwner:M4};Zr.Children={map:Zv,forEach:function(e,t,n){Zv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zv(e,function(){t++}),t},toArray:function(e){return Zv(e,function(t){return t})||[]},only:function(e){if(!L4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zr.Component=H0;Zr.Fragment=DF;Zr.Profiler=BF;Zr.PureComponent=I4;Zr.StrictMode=FF;Zr.Suspense=jF;Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WF;Zr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=OP({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=M4.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(S in t)RP.call(t,S)&&!DP.hasOwnProperty(S)&&(i[S]=t[S]===void 0&&x!==void 0?x[S]:t[S])}var S=arguments.length-2;if(S===1)i.children=n;else if(1<S){x=Array(S);for(var T=0;T<S;T++)x[T]=arguments[T+2];i.children=x}return{$$typeof:Ay,type:e.type,key:s,ref:l,props:i,_owner:o}};Zr.createContext=function(e){return e={$$typeof:NF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zF,_context:e},e.Consumer=e};Zr.createElement=FP;Zr.createFactory=function(e){var t=FP.bind(null,e);return t.type=e,t};Zr.createRef=function(){return{current:null}};Zr.forwardRef=function(e){return{$$typeof:UF,render:e}};Zr.isValidElement=L4;Zr.lazy=function(e){return{$$typeof:VF,_payload:{_status:-1,_result:e},_init:QF}};Zr.memo=function(e,t){return{$$typeof:$F,type:e,compare:t===void 0?null:t}};Zr.startTransition=function(e){var t=H1.transition;H1.transition={};try{e()}finally{H1.transition=t}};Zr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Zr.useCallback=function(e,t){return rl.current.useCallback(e,t)};Zr.useContext=function(e){return rl.current.useContext(e)};Zr.useDebugValue=function(){};Zr.useDeferredValue=function(e){return rl.current.useDeferredValue(e)};Zr.useEffect=function(e,t){return rl.current.useEffect(e,t)};Zr.useId=function(){return rl.current.useId()};Zr.useImperativeHandle=function(e,t,n){return rl.current.useImperativeHandle(e,t,n)};Zr.useInsertionEffect=function(e,t){return rl.current.useInsertionEffect(e,t)};Zr.useLayoutEffect=function(e,t){return rl.current.useLayoutEffect(e,t)};Zr.useMemo=function(e,t){return rl.current.useMemo(e,t)};Zr.useReducer=function(e,t,n){return rl.current.useReducer(e,t,n)};Zr.useRef=function(e){return rl.current.useRef(e)};Zr.useState=function(e){return rl.current.useState(e)};Zr.useSyncExternalStore=function(e,t,n){return rl.current.useSyncExternalStore(e,t,n)};Zr.useTransition=function(){return rl.current.useTransition()};Zr.version="18.2.0";(function(e){e.exports=Zr})(LF);const qn=x2($t);var w3={},KF={get exports(){return w3},set exports(e){w3=e}},l5={},ZF={get exports(){return l5},set exports(e){l5=e}};(function(e){var t=function(n){var i=Object.prototype,s=i.hasOwnProperty,l=Object.defineProperty||function(Me,Le,re){Me[Le]=re.value},o,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",T=x.asyncIterator||"@@asyncIterator",M=x.toStringTag||"@@toStringTag";function F(Me,Le,re){return Object.defineProperty(Me,Le,{value:re,enumerable:!0,configurable:!0,writable:!0}),Me[Le]}try{F({},"")}catch{F=function(Le,re,ge){return Le[re]=ge}}function z(Me,Le,re,ge){var Mt=Le&&Le.prototype instanceof ne?Le:ne,en=Object.create(Mt.prototype),vn=new Jt(ge||[]);return l(en,"_invoke",{value:at(Me,re,vn)}),en}n.wrap=z;function U(Me,Le,re){try{return{type:"normal",arg:Me.call(Le,re)}}catch(ge){return{type:"throw",arg:ge}}}var q="suspendedStart",K="suspendedYield",ee="executing",V="completed",X={};function ne(){}function he(){}function pe(){}var le={};F(le,S,function(){return this});var be=Object.getPrototypeOf,Se=be&&be(be(bn([])));Se&&Se!==i&&s.call(Se,S)&&(le=Se);var De=pe.prototype=ne.prototype=Object.create(le);he.prototype=pe,l(De,"constructor",{value:pe,configurable:!0}),l(pe,"constructor",{value:he,configurable:!0}),he.displayName=F(pe,M,"GeneratorFunction");function tt(Me){["next","throw","return"].forEach(function(Le){F(Me,Le,function(re){return this._invoke(Le,re)})})}n.isGeneratorFunction=function(Me){var Le=typeof Me=="function"&&Me.constructor;return Le?Le===he||(Le.displayName||Le.name)==="GeneratorFunction":!1},n.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,pe):(Me.__proto__=pe,F(Me,M,"GeneratorFunction")),Me.prototype=Object.create(De),Me},n.awrap=function(Me){return{__await:Me}};function Xe(Me,Le){function re(en,vn,dn,En){var jn=U(Me[en],Me,vn);if(jn.type==="throw")En(jn.arg);else{var Fn=jn.arg,Xr=Fn.value;return Xr&&typeof Xr=="object"&&s.call(Xr,"__await")?Le.resolve(Xr.__await).then(function(jr){re("next",jr,dn,En)},function(jr){re("throw",jr,dn,En)}):Le.resolve(Xr).then(function(jr){Fn.value=jr,dn(Fn)},function(jr){return re("throw",jr,dn,En)})}}var ge;function Mt(en,vn){function dn(){return new Le(function(En,jn){re(en,vn,En,jn)})}return ge=ge?ge.then(dn,dn):dn()}l(this,"_invoke",{value:Mt})}tt(Xe.prototype),F(Xe.prototype,T,function(){return this}),n.AsyncIterator=Xe,n.async=function(Me,Le,re,ge,Mt){Mt===void 0&&(Mt=Promise);var en=new Xe(z(Me,Le,re,ge),Mt);return n.isGeneratorFunction(Le)?en:en.next().then(function(vn){return vn.done?vn.value:en.next()})};function at(Me,Le,re){var ge=q;return function(en,vn){if(ge===ee)throw new Error("Generator is already running");if(ge===V){if(en==="throw")throw vn;return st()}for(re.method=en,re.arg=vn;;){var dn=re.delegate;if(dn){var En=yt(dn,re);if(En){if(En===X)continue;return En}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(ge===q)throw ge=V,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);ge=ee;var jn=U(Me,Le,re);if(jn.type==="normal"){if(ge=re.done?V:K,jn.arg===X)continue;return{value:jn.arg,done:re.done}}else jn.type==="throw"&&(ge=V,re.method="throw",re.arg=jn.arg)}}}function yt(Me,Le){var re=Le.method,ge=Me.iterator[re];if(ge===o)return Le.delegate=null,re==="throw"&&Me.iterator.return&&(Le.method="return",Le.arg=o,yt(Me,Le),Le.method==="throw")||re!=="return"&&(Le.method="throw",Le.arg=new TypeError("The iterator does not provide a '"+re+"' method")),X;var Mt=U(ge,Me.iterator,Le.arg);if(Mt.type==="throw")return Le.method="throw",Le.arg=Mt.arg,Le.delegate=null,X;var en=Mt.arg;if(!en)return Le.method="throw",Le.arg=new TypeError("iterator result is not an object"),Le.delegate=null,X;if(en.done)Le[Me.resultName]=en.value,Le.next=Me.nextLoc,Le.method!=="return"&&(Le.method="next",Le.arg=o);else return en;return Le.delegate=null,X}tt(De),F(De,M,"Generator"),F(De,S,function(){return this}),F(De,"toString",function(){return"[object Generator]"});function Ot(Me){var Le={tryLoc:Me[0]};1 in Me&&(Le.catchLoc=Me[1]),2 in Me&&(Le.finallyLoc=Me[2],Le.afterLoc=Me[3]),this.tryEntries.push(Le)}function Vt(Me){var Le=Me.completion||{};Le.type="normal",delete Le.arg,Me.completion=Le}function Jt(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(Ot,this),this.reset(!0)}n.keys=function(Me){var Le=Object(Me),re=[];for(var ge in Le)re.push(ge);return re.reverse(),function Mt(){for(;re.length;){var en=re.pop();if(en in Le)return Mt.value=en,Mt.done=!1,Mt}return Mt.done=!0,Mt}};function bn(Me){if(Me){var Le=Me[S];if(Le)return Le.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var re=-1,ge=function Mt(){for(;++re<Me.length;)if(s.call(Me,re))return Mt.value=Me[re],Mt.done=!1,Mt;return Mt.value=o,Mt.done=!0,Mt};return ge.next=ge}}return{next:st}}n.values=bn;function st(){return{value:o,done:!0}}return Jt.prototype={constructor:Jt,reset:function(Me){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Vt),!Me)for(var Le in this)Le.charAt(0)==="t"&&s.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=o)},stop:function(){this.done=!0;var Me=this.tryEntries[0],Le=Me.completion;if(Le.type==="throw")throw Le.arg;return this.rval},dispatchException:function(Me){if(this.done)throw Me;var Le=this;function re(En,jn){return en.type="throw",en.arg=Me,Le.next=En,jn&&(Le.method="next",Le.arg=o),!!jn}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Mt=this.tryEntries[ge],en=Mt.completion;if(Mt.tryLoc==="root")return re("end");if(Mt.tryLoc<=this.prev){var vn=s.call(Mt,"catchLoc"),dn=s.call(Mt,"finallyLoc");if(vn&&dn){if(this.prev<Mt.catchLoc)return re(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return re(Mt.finallyLoc)}else if(vn){if(this.prev<Mt.catchLoc)return re(Mt.catchLoc,!0)}else if(dn){if(this.prev<Mt.finallyLoc)return re(Mt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Me,Le){for(var re=this.tryEntries.length-1;re>=0;--re){var ge=this.tryEntries[re];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var Mt=ge;break}}Mt&&(Me==="break"||Me==="continue")&&Mt.tryLoc<=Le&&Le<=Mt.finallyLoc&&(Mt=null);var en=Mt?Mt.completion:{};return en.type=Me,en.arg=Le,Mt?(this.method="next",this.next=Mt.finallyLoc,X):this.complete(en)},complete:function(Me,Le){if(Me.type==="throw")throw Me.arg;return Me.type==="break"||Me.type==="continue"?this.next=Me.arg:Me.type==="return"?(this.rval=this.arg=Me.arg,this.method="return",this.next="end"):Me.type==="normal"&&Le&&(this.next=Le),X},finish:function(Me){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var re=this.tryEntries[Le];if(re.finallyLoc===Me)return this.complete(re.completion,re.afterLoc),Vt(re),X}},catch:function(Me){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var re=this.tryEntries[Le];if(re.tryLoc===Me){var ge=re.completion;if(ge.type==="throw"){var Mt=ge.arg;Vt(re)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(Me,Le,re){return this.delegate={iterator:bn(Me),resultName:Le,nextLoc:re},this.method==="next"&&(this.arg=o),X}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(ZF);var BP={},S3={},Og={},XF={get exports(){return Og},set exports(e){Og=e}},nu={},E3={},YF={get exports(){return E3},set exports(e){E3=e}},zP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(st,Me){var Le=st.length;st.push(Me);e:for(;0<Le;){var re=Le-1>>>1,ge=st[re];if(0<s(ge,Me))st[re]=Me,st[Le]=ge,Le=re;else break e}}function n(st){return st.length===0?null:st[0]}function i(st){if(st.length===0)return null;var Me=st[0],Le=st.pop();if(Le!==Me){st[0]=Le;e:for(var re=0,ge=st.length,Mt=ge>>>1;re<Mt;){var en=2*(re+1)-1,vn=st[en],dn=en+1,En=st[dn];if(0>s(vn,Le))dn<ge&&0>s(En,vn)?(st[re]=En,st[dn]=Le,re=dn):(st[re]=vn,st[en]=Le,re=en);else if(dn<ge&&0>s(En,Le))st[re]=En,st[dn]=Le,re=dn;else break e}}return Me}function s(st,Me){var Le=st.sortIndex-Me.sortIndex;return Le!==0?Le:st.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,x=o.now();e.unstable_now=function(){return o.now()-x}}var S=[],T=[],M=1,F=null,z=3,U=!1,q=!1,K=!1,ee=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(st){for(var Me=n(T);Me!==null;){if(Me.callback===null)i(T);else if(Me.startTime<=st)i(T),Me.sortIndex=Me.expirationTime,t(S,Me);else break;Me=n(T)}}function he(st){if(K=!1,ne(st),!q)if(n(S)!==null)q=!0,Jt(pe);else{var Me=n(T);Me!==null&&bn(he,Me.startTime-st)}}function pe(st,Me){q=!1,K&&(K=!1,V(Se),Se=-1),U=!0;var Le=z;try{for(ne(Me),F=n(S);F!==null&&(!(F.expirationTime>Me)||st&&!Xe());){var re=F.callback;if(typeof re=="function"){F.callback=null,z=F.priorityLevel;var ge=re(F.expirationTime<=Me);Me=e.unstable_now(),typeof ge=="function"?F.callback=ge:F===n(S)&&i(S),ne(Me)}else i(S);F=n(S)}if(F!==null)var Mt=!0;else{var en=n(T);en!==null&&bn(he,en.startTime-Me),Mt=!1}return Mt}finally{F=null,z=Le,U=!1}}var le=!1,be=null,Se=-1,De=5,tt=-1;function Xe(){return!(e.unstable_now()-tt<De)}function at(){if(be!==null){var st=e.unstable_now();tt=st;var Me=!0;try{Me=be(!0,st)}finally{Me?yt():(le=!1,be=null)}}else le=!1}var yt;if(typeof X=="function")yt=function(){X(at)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Vt=Ot.port2;Ot.port1.onmessage=at,yt=function(){Vt.postMessage(null)}}else yt=function(){ee(at,0)};function Jt(st){be=st,le||(le=!0,yt())}function bn(st,Me){Se=ee(function(){st(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_continueExecution=function(){q||U||(q=!0,Jt(pe))},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return n(S)},e.unstable_next=function(st){switch(z){case 1:case 2:case 3:var Me=3;break;default:Me=z}var Le=z;z=Me;try{return st()}finally{z=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(st,Me){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var Le=z;z=st;try{return Me()}finally{z=Le}},e.unstable_scheduleCallback=function(st,Me,Le){var re=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?re+Le:re):Le=re,st){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Le+ge,st={id:M++,callback:Me,priorityLevel:st,startTime:Le,expirationTime:ge,sortIndex:-1},Le>re?(st.sortIndex=Le,t(T,st),n(S)===null&&st===n(T)&&(K?(V(Se),Se=-1):K=!0,bn(he,Le-re))):(st.sortIndex=ge,t(S,st),q||U||(q=!0,Jt(pe))),st},e.unstable_shouldYield=Xe,e.unstable_wrapCallback=function(st){var Me=z;return function(){var Le=z;z=Me;try{return st.apply(this,arguments)}finally{z=Le}}}})(zP);(function(e){e.exports=zP})(YF);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP=$t,tu=E3;function rn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UP=new Set,Mg={};function XA(e,t){L0(e,t),L0(e+"Capture",t)}function L0(e,t){for(Mg[e]=t,e=0;e<t.length;e++)UP.add(t[e])}var kp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C3=Object.prototype.hasOwnProperty,JF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u5={},c5={};function e7(e){return C3.call(c5,e)?!0:C3.call(u5,e)?!1:JF.test(e)?c5[e]=!0:(u5[e]=!0,!1)}function t7(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n7(e,t,n,i){if(t===null||typeof t>"u"||t7(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function il(e,t,n,i,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xs[e]=new il(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xs[t]=new il(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xs[e]=new il(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xs[e]=new il(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xs[e]=new il(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xs[e]=new il(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xs[e]=new il(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xs[e]=new il(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xs[e]=new il(e,5,!1,e.toLowerCase(),null,!1,!1)});var R4=/[\-:]([a-z])/g;function D4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R4,D4);xs[t]=new il(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R4,D4);xs[t]=new il(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R4,D4);xs[t]=new il(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xs[e]=new il(e,1,!1,e.toLowerCase(),null,!1,!1)});xs.xlinkHref=new il("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xs[e]=new il(e,1,!1,e.toLowerCase(),null,!0,!0)});function F4(e,t,n,i){var s=xs.hasOwnProperty(t)?xs[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n7(t,n,s,i)&&(n=null),i||s===null?e7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Op=NP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xv=Symbol.for("react.element"),a0=Symbol.for("react.portal"),s0=Symbol.for("react.fragment"),B4=Symbol.for("react.strict_mode"),k3=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),z4=Symbol.for("react.forward_ref"),T3=Symbol.for("react.suspense"),P3=Symbol.for("react.suspense_list"),N4=Symbol.for("react.memo"),vh=Symbol.for("react.lazy"),VP=Symbol.for("react.offscreen"),f5=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=f5&&e[f5]||e["@@iterator"],typeof e=="function"?e:null)}var Ho=Object.assign,Jb;function ag(e){if(Jb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jb=t&&t[1]||""}return`
`+Jb+e}var ew=!1;function tw(e,t){if(!e||ew)return"";ew=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var s=T.stack.split(`
`),l=i.stack.split(`
`),o=s.length-1,x=l.length-1;1<=o&&0<=x&&s[o]!==l[x];)x--;for(;1<=o&&0<=x;o--,x--)if(s[o]!==l[x]){if(o!==1||x!==1)do if(o--,x--,0>x||s[o]!==l[x]){var S=`
`+s[o].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=o&&0<=x);break}}}finally{ew=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ag(e):""}function r7(e){switch(e.tag){case 5:return ag(e.type);case 16:return ag("Lazy");case 13:return ag("Suspense");case 19:return ag("SuspenseList");case 0:case 2:case 15:return e=tw(e.type,!1),e;case 11:return e=tw(e.type.render,!1),e;case 1:return e=tw(e.type,!0),e;default:return""}}function I3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case s0:return"Fragment";case a0:return"Portal";case k3:return"Profiler";case B4:return"StrictMode";case T3:return"Suspense";case P3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $P:return(e.displayName||"Context")+".Consumer";case jP:return(e._context.displayName||"Context")+".Provider";case z4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N4:return t=e.displayName||null,t!==null?t:I3(e.type)||"Memo";case vh:t=e._payload,e=e._init;try{return I3(e(t))}catch{}}return null}function i7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I3(t);case 8:return t===B4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o7(e){var t=HP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yv(e){e._valueTracker||(e._valueTracker=o7(e))}function qP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=HP(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function h_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O3(e,t){var n=t.checked;return Ho({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function p5(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=jh(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GP(e,t){t=t.checked,t!=null&&F4(e,"checked",t,!1)}function M3(e,t){GP(e,t);var n=jh(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L3(e,t.type,n):t.hasOwnProperty("defaultValue")&&L3(e,t.type,jh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function L3(e,t,n){(t!=="number"||h_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sg=Array.isArray;function b0(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jh(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function R3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rn(91));return Ho({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rn(92));if(sg(n)){if(1<n.length)throw Error(rn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jh(n)}}function QP(e,t){var n=jh(t.value),i=jh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function d5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jv,KP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jv=Jv||document.createElement("div"),Jv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a7=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){a7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function ZP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function XP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=ZP(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var s7=Ho({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F3(e,t){if(t){if(s7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rn(62))}}function B3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z3=null;function U4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N3=null,w0=null,S0=null;function m5(e){if(e=gy(e)){if(typeof N3!="function")throw Error(rn(280));var t=e.stateNode;t&&(t=C2(t),N3(e.stateNode,e.type,t))}}function YP(e){w0?S0?S0.push(e):S0=[e]:w0=e}function JP(){if(w0){var e=w0,t=S0;if(S0=w0=null,m5(e),t)for(e=0;e<t.length;e++)m5(t[e])}}function eI(e,t){return e(t)}function tI(){}var nw=!1;function nI(e,t,n){if(nw)return e(t,n);nw=!0;try{return eI(e,t,n)}finally{nw=!1,(w0!==null||S0!==null)&&(tI(),JP())}}function Rg(e,t){var n=e.stateNode;if(n===null)return null;var i=C2(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rn(231,t,typeof n));return n}var U3=!1;if(kp)try{var zm={};Object.defineProperty(zm,"passive",{get:function(){U3=!0}}),window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{U3=!1}function l7(e,t,n,i,s,l,o,x,S){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(M){this.onError(M)}}var Ag=!1,A_=null,d_=!1,j3=null,u7={onError:function(e){Ag=!0,A_=e}};function c7(e,t,n,i,s,l,o,x,S){Ag=!1,A_=null,l7.apply(u7,arguments)}function f7(e,t,n,i,s,l,o,x,S){if(c7.apply(this,arguments),Ag){if(Ag){var T=A_;Ag=!1,A_=null}else throw Error(rn(198));d_||(d_=!0,j3=T)}}function YA(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g5(e){if(YA(e)!==e)throw Error(rn(188))}function p7(e){var t=e.alternate;if(!t){if(t=YA(e),t===null)throw Error(rn(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return g5(s),e;if(l===i)return g5(s),t;l=l.sibling}throw Error(rn(188))}if(n.return!==i.return)n=s,i=l;else{for(var o=!1,x=s.child;x;){if(x===n){o=!0,n=s,i=l;break}if(x===i){o=!0,i=s,n=l;break}x=x.sibling}if(!o){for(x=l.child;x;){if(x===n){o=!0,n=l,i=s;break}if(x===i){o=!0,i=l,n=s;break}x=x.sibling}if(!o)throw Error(rn(189))}}if(n.alternate!==i)throw Error(rn(190))}if(n.tag!==3)throw Error(rn(188));return n.stateNode.current===n?e:t}function iI(e){return e=p7(e),e!==null?oI(e):null}function oI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oI(e);if(t!==null)return t;e=e.sibling}return null}var aI=tu.unstable_scheduleCallback,y5=tu.unstable_cancelCallback,h7=tu.unstable_shouldYield,A7=tu.unstable_requestPaint,ya=tu.unstable_now,d7=tu.unstable_getCurrentPriorityLevel,j4=tu.unstable_ImmediatePriority,sI=tu.unstable_UserBlockingPriority,m_=tu.unstable_NormalPriority,m7=tu.unstable_LowPriority,lI=tu.unstable_IdlePriority,b2=null,wf=null;function g7(e){if(wf&&typeof wf.onCommitFiberRoot=="function")try{wf.onCommitFiberRoot(b2,e,void 0,(e.current.flags&128)===128)}catch{}}var Ic=Math.clz32?Math.clz32:_7,y7=Math.log,v7=Math.LN2;function _7(e){return e>>>=0,e===0?32:31-(y7(e)/v7|0)|0}var e1=64,t1=4194304;function lg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g_(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var x=o&~s;x!==0?i=lg(x):(l&=o,l!==0&&(i=lg(l)))}else o=n&~s,o!==0?i=lg(o):l!==0&&(i=lg(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ic(t),s=1<<n,i|=e[n],t&=~s;return i}function x7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b7(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ic(l),x=1<<o,S=s[o];S===-1?(!(x&n)||x&i)&&(s[o]=x7(x,t)):S<=t&&(e.expiredLanes|=x),l&=~x}}function $3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uI(){var e=e1;return e1<<=1,!(e1&4194240)&&(e1=64),e}function rw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ic(t),e[t]=n}function w7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ic(n),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~l}}function $4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ic(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Mi=0;function cI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fI,V4,pI,hI,AI,V3=!1,n1=[],Ih=null,Oh=null,Mh=null,Dg=new Map,Fg=new Map,wh=[],S7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v5(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Mh=null;break;case"pointerover":case"pointerout":Dg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fg.delete(t.pointerId)}}function Nm(e,t,n,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=gy(t),t!==null&&V4(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E7(e,t,n,i,s){switch(t){case"focusin":return Ih=Nm(Ih,e,t,n,i,s),!0;case"dragenter":return Oh=Nm(Oh,e,t,n,i,s),!0;case"mouseover":return Mh=Nm(Mh,e,t,n,i,s),!0;case"pointerover":var l=s.pointerId;return Dg.set(l,Nm(Dg.get(l)||null,e,t,n,i,s)),!0;case"gotpointercapture":return l=s.pointerId,Fg.set(l,Nm(Fg.get(l)||null,e,t,n,i,s)),!0}return!1}function dI(e){var t=RA(e.target);if(t!==null){var n=YA(t);if(n!==null){if(t=n.tag,t===13){if(t=rI(n),t!==null){e.blockedOn=t,AI(e.priority,function(){pI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function q1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=H3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);z3=i,n.target.dispatchEvent(i),z3=null}else return t=gy(n),t!==null&&V4(t),e.blockedOn=n,!1;t.shift()}return!0}function _5(e,t,n){q1(e)&&n.delete(t)}function C7(){V3=!1,Ih!==null&&q1(Ih)&&(Ih=null),Oh!==null&&q1(Oh)&&(Oh=null),Mh!==null&&q1(Mh)&&(Mh=null),Dg.forEach(_5),Fg.forEach(_5)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,V3||(V3=!0,tu.unstable_scheduleCallback(tu.unstable_NormalPriority,C7)))}function Bg(e){function t(s){return Um(s,e)}if(0<n1.length){Um(n1[0],e);for(var n=1;n<n1.length;n++){var i=n1[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ih!==null&&Um(Ih,e),Oh!==null&&Um(Oh,e),Mh!==null&&Um(Mh,e),Dg.forEach(t),Fg.forEach(t),n=0;n<wh.length;n++)i=wh[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<wh.length&&(n=wh[0],n.blockedOn===null);)dI(n),n.blockedOn===null&&wh.shift()}var E0=Op.ReactCurrentBatchConfig,y_=!0;function k7(e,t,n,i){var s=Mi,l=E0.transition;E0.transition=null;try{Mi=1,H4(e,t,n,i)}finally{Mi=s,E0.transition=l}}function T7(e,t,n,i){var s=Mi,l=E0.transition;E0.transition=null;try{Mi=4,H4(e,t,n,i)}finally{Mi=s,E0.transition=l}}function H4(e,t,n,i){if(y_){var s=H3(e,t,n,i);if(s===null)hw(e,t,i,v_,n),v5(e,i);else if(E7(s,e,t,n,i))i.stopPropagation();else if(v5(e,i),t&4&&-1<S7.indexOf(e)){for(;s!==null;){var l=gy(s);if(l!==null&&fI(l),l=H3(e,t,n,i),l===null&&hw(e,t,i,v_,n),l===s)break;s=l}s!==null&&i.stopPropagation()}else hw(e,t,i,null,n)}}var v_=null;function H3(e,t,n,i){if(v_=null,e=U4(i),e=RA(e),e!==null)if(t=YA(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v_=e,null}function mI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d7()){case j4:return 1;case sI:return 4;case m_:case m7:return 16;case lI:return 536870912;default:return 16}default:return 16}}var Ch=null,q4=null,G1=null;function gI(){if(G1)return G1;var e,t=q4,n=t.length,i,s="value"in Ch?Ch.value:Ch.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[l-i];i++);return G1=s.slice(e,1<i?1-i:void 0)}function Q1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function r1(){return!0}function x5(){return!1}function ru(e){function t(n,i,s,l,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(l):l[x]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?r1:x5,this.isPropagationStopped=x5,this}return Ho(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=r1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=r1)},persist:function(){},isPersistent:r1}),t}var q0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G4=ru(q0),my=Ho({},q0,{view:0,detail:0}),P7=ru(my),iw,ow,jm,w2=Ho({},my,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jm&&(jm&&e.type==="mousemove"?(iw=e.screenX-jm.screenX,ow=e.screenY-jm.screenY):ow=iw=0,jm=e),iw)},movementY:function(e){return"movementY"in e?e.movementY:ow}}),b5=ru(w2),I7=Ho({},w2,{dataTransfer:0}),O7=ru(I7),M7=Ho({},my,{relatedTarget:0}),aw=ru(M7),L7=Ho({},q0,{animationName:0,elapsedTime:0,pseudoElement:0}),R7=ru(L7),D7=Ho({},q0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F7=ru(D7),B7=Ho({},q0,{data:0}),w5=ru(B7),z7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U7[e])?!!t[e]:!1}function Q4(){return j7}var $7=Ho({},my,{key:function(e){if(e.key){var t=z7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Q1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q4,charCode:function(e){return e.type==="keypress"?Q1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Q1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V7=ru($7),H7=Ho({},w2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S5=ru(H7),q7=Ho({},my,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q4}),G7=ru(q7),Q7=Ho({},q0,{propertyName:0,elapsedTime:0,pseudoElement:0}),W7=ru(Q7),K7=Ho({},w2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z7=ru(K7),X7=[9,13,27,32],W4=kp&&"CompositionEvent"in window,dg=null;kp&&"documentMode"in document&&(dg=document.documentMode);var Y7=kp&&"TextEvent"in window&&!dg,yI=kp&&(!W4||dg&&8<dg&&11>=dg),E5=String.fromCharCode(32),C5=!1;function vI(e,t){switch(e){case"keyup":return X7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _I(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var l0=!1;function J7(e,t){switch(e){case"compositionend":return _I(t);case"keypress":return t.which!==32?null:(C5=!0,E5);case"textInput":return e=t.data,e===E5&&C5?null:e;default:return null}}function eB(e,t){if(l0)return e==="compositionend"||!W4&&vI(e,t)?(e=gI(),G1=q4=Ch=null,l0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yI&&t.locale!=="ko"?null:t.data;default:return null}}var tB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tB[e.type]:t==="textarea"}function xI(e,t,n,i){YP(i),t=__(t,"onChange"),0<t.length&&(n=new G4("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var mg=null,zg=null;function nB(e){MI(e,0)}function S2(e){var t=f0(e);if(qP(t))return e}function rB(e,t){if(e==="change")return t}var bI=!1;if(kp){var sw;if(kp){var lw="oninput"in document;if(!lw){var T5=document.createElement("div");T5.setAttribute("oninput","return;"),lw=typeof T5.oninput=="function"}sw=lw}else sw=!1;bI=sw&&(!document.documentMode||9<document.documentMode)}function P5(){mg&&(mg.detachEvent("onpropertychange",wI),zg=mg=null)}function wI(e){if(e.propertyName==="value"&&S2(zg)){var t=[];xI(t,zg,e,U4(e)),nI(nB,t)}}function iB(e,t,n){e==="focusin"?(P5(),mg=t,zg=n,mg.attachEvent("onpropertychange",wI)):e==="focusout"&&P5()}function oB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return S2(zg)}function aB(e,t){if(e==="click")return S2(t)}function sB(e,t){if(e==="input"||e==="change")return S2(t)}function lB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rc=typeof Object.is=="function"?Object.is:lB;function Ng(e,t){if(Rc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!C3.call(t,s)||!Rc(e[s],t[s]))return!1}return!0}function I5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O5(e,t){var n=I5(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I5(n)}}function SI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EI(){for(var e=window,t=h_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=h_(e.document)}return t}function K4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uB(e){var t=EI(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SI(n.ownerDocument.documentElement,n)){if(i!==null&&K4(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=O5(n,l);var o=O5(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cB=kp&&"documentMode"in document&&11>=document.documentMode,u0=null,q3=null,gg=null,G3=!1;function M5(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G3||u0==null||u0!==h_(i)||(i=u0,"selectionStart"in i&&K4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gg&&Ng(gg,i)||(gg=i,i=__(q3,"onSelect"),0<i.length&&(t=new G4("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=u0)))}function i1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var c0={animationend:i1("Animation","AnimationEnd"),animationiteration:i1("Animation","AnimationIteration"),animationstart:i1("Animation","AnimationStart"),transitionend:i1("Transition","TransitionEnd")},uw={},CI={};kp&&(CI=document.createElement("div").style,"AnimationEvent"in window||(delete c0.animationend.animation,delete c0.animationiteration.animation,delete c0.animationstart.animation),"TransitionEvent"in window||delete c0.transitionend.transition);function E2(e){if(uw[e])return uw[e];if(!c0[e])return e;var t=c0[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in CI)return uw[e]=t[n];return e}var kI=E2("animationend"),TI=E2("animationiteration"),PI=E2("animationstart"),II=E2("transitionend"),OI=new Map,L5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gh(e,t){OI.set(e,t),XA(t,[e])}for(var cw=0;cw<L5.length;cw++){var fw=L5[cw],fB=fw.toLowerCase(),pB=fw[0].toUpperCase()+fw.slice(1);Gh(fB,"on"+pB)}Gh(kI,"onAnimationEnd");Gh(TI,"onAnimationIteration");Gh(PI,"onAnimationStart");Gh("dblclick","onDoubleClick");Gh("focusin","onFocus");Gh("focusout","onBlur");Gh(II,"onTransitionEnd");L0("onMouseEnter",["mouseout","mouseover"]);L0("onMouseLeave",["mouseout","mouseover"]);L0("onPointerEnter",["pointerout","pointerover"]);L0("onPointerLeave",["pointerout","pointerover"]);XA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));XA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));XA("onBeforeInput",["compositionend","keypress","textInput","paste"]);XA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));XA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));XA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hB=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function R5(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,f7(i,t,void 0,e),e.currentTarget=null}function MI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var o=i.length-1;0<=o;o--){var x=i[o],S=x.instance,T=x.currentTarget;if(x=x.listener,S!==l&&s.isPropagationStopped())break e;R5(s,x,T),l=S}else for(o=0;o<i.length;o++){if(x=i[o],S=x.instance,T=x.currentTarget,x=x.listener,S!==l&&s.isPropagationStopped())break e;R5(s,x,T),l=S}}}if(d_)throw e=j3,d_=!1,j3=null,e}function bo(e,t){var n=t[X3];n===void 0&&(n=t[X3]=new Set);var i=e+"__bubble";n.has(i)||(LI(t,e,2,!1),n.add(i))}function pw(e,t,n){var i=0;t&&(i|=4),LI(n,e,i,t)}var o1="_reactListening"+Math.random().toString(36).slice(2);function Ug(e){if(!e[o1]){e[o1]=!0,UP.forEach(function(n){n!=="selectionchange"&&(hB.has(n)||pw(n,!1,e),pw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o1]||(t[o1]=!0,pw("selectionchange",!1,t))}}function LI(e,t,n,i){switch(mI(t)){case 1:var s=k7;break;case 4:s=T7;break;default:s=H4}n=s.bind(null,t,n,e),s=void 0,!U3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hw(e,t,n,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var S=o.tag;if((S===3||S===4)&&(S=o.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;o=o.return}for(;x!==null;){if(o=RA(x),o===null)return;if(S=o.tag,S===5||S===6){i=l=o;continue e}x=x.parentNode}}i=i.return}nI(function(){var T=l,M=U4(n),F=[];e:{var z=OI.get(e);if(z!==void 0){var U=G4,q=e;switch(e){case"keypress":if(Q1(n)===0)break e;case"keydown":case"keyup":U=V7;break;case"focusin":q="focus",U=aw;break;case"focusout":q="blur",U=aw;break;case"beforeblur":case"afterblur":U=aw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=b5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=O7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=G7;break;case kI:case TI:case PI:U=R7;break;case II:U=W7;break;case"scroll":U=P7;break;case"wheel":U=Z7;break;case"copy":case"cut":case"paste":U=F7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=S5}var K=(t&4)!==0,ee=!K&&e==="scroll",V=K?z!==null?z+"Capture":null:z;K=[];for(var X=T,ne;X!==null;){ne=X;var he=ne.stateNode;if(ne.tag===5&&he!==null&&(ne=he,V!==null&&(he=Rg(X,V),he!=null&&K.push(jg(X,he,ne)))),ee)break;X=X.return}0<K.length&&(z=new U(z,q,null,n,M),F.push({event:z,listeners:K}))}}if(!(t&7)){e:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&n!==z3&&(q=n.relatedTarget||n.fromElement)&&(RA(q)||q[Tp]))break e;if((U||z)&&(z=M.window===M?M:(z=M.ownerDocument)?z.defaultView||z.parentWindow:window,U?(q=n.relatedTarget||n.toElement,U=T,q=q?RA(q):null,q!==null&&(ee=YA(q),q!==ee||q.tag!==5&&q.tag!==6)&&(q=null)):(U=null,q=T),U!==q)){if(K=b5,he="onMouseLeave",V="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(K=S5,he="onPointerLeave",V="onPointerEnter",X="pointer"),ee=U==null?z:f0(U),ne=q==null?z:f0(q),z=new K(he,X+"leave",U,n,M),z.target=ee,z.relatedTarget=ne,he=null,RA(M)===T&&(K=new K(V,X+"enter",q,n,M),K.target=ne,K.relatedTarget=ee,he=K),ee=he,U&&q)t:{for(K=U,V=q,X=0,ne=K;ne;ne=Nd(ne))X++;for(ne=0,he=V;he;he=Nd(he))ne++;for(;0<X-ne;)K=Nd(K),X--;for(;0<ne-X;)V=Nd(V),ne--;for(;X--;){if(K===V||V!==null&&K===V.alternate)break t;K=Nd(K),V=Nd(V)}K=null}else K=null;U!==null&&D5(F,z,U,K,!1),q!==null&&ee!==null&&D5(F,ee,q,K,!0)}}e:{if(z=T?f0(T):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var pe=rB;else if(k5(z))if(bI)pe=sB;else{pe=oB;var le=iB}else(U=z.nodeName)&&U.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(pe=aB);if(pe&&(pe=pe(e,T))){xI(F,pe,n,M);break e}le&&le(e,z,T),e==="focusout"&&(le=z._wrapperState)&&le.controlled&&z.type==="number"&&L3(z,"number",z.value)}switch(le=T?f0(T):window,e){case"focusin":(k5(le)||le.contentEditable==="true")&&(u0=le,q3=T,gg=null);break;case"focusout":gg=q3=u0=null;break;case"mousedown":G3=!0;break;case"contextmenu":case"mouseup":case"dragend":G3=!1,M5(F,n,M);break;case"selectionchange":if(cB)break;case"keydown":case"keyup":M5(F,n,M)}var be;if(W4)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else l0?vI(e,n)&&(Se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(yI&&n.locale!=="ko"&&(l0||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&l0&&(be=gI()):(Ch=M,q4="value"in Ch?Ch.value:Ch.textContent,l0=!0)),le=__(T,Se),0<le.length&&(Se=new w5(Se,e,null,n,M),F.push({event:Se,listeners:le}),be?Se.data=be:(be=_I(n),be!==null&&(Se.data=be)))),(be=Y7?J7(e,n):eB(e,n))&&(T=__(T,"onBeforeInput"),0<T.length&&(M=new w5("onBeforeInput","beforeinput",null,n,M),F.push({event:M,listeners:T}),M.data=be))}MI(F,t)})}function jg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function __(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Rg(e,n),l!=null&&i.unshift(jg(e,l,s)),l=Rg(e,t),l!=null&&i.push(jg(e,l,s))),e=e.return}return i}function Nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D5(e,t,n,i,s){for(var l=t._reactName,o=[];n!==null&&n!==i;){var x=n,S=x.alternate,T=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&T!==null&&(x=T,s?(S=Rg(n,l),S!=null&&o.unshift(jg(n,S,x))):s||(S=Rg(n,l),S!=null&&o.push(jg(n,S,x)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var AB=/\r\n?/g,dB=/\u0000|\uFFFD/g;function F5(e){return(typeof e=="string"?e:""+e).replace(AB,`
`).replace(dB,"")}function a1(e,t,n){if(t=F5(t),F5(e)!==t&&n)throw Error(rn(425))}function x_(){}var Q3=null,W3=null;function K3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z3=typeof setTimeout=="function"?setTimeout:void 0,mB=typeof clearTimeout=="function"?clearTimeout:void 0,B5=typeof Promise=="function"?Promise:void 0,gB=typeof queueMicrotask=="function"?queueMicrotask:typeof B5<"u"?function(e){return B5.resolve(null).then(e).catch(yB)}:Z3;function yB(e){setTimeout(function(){throw e})}function Aw(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Bg(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Bg(t)}function Lh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var G0=Math.random().toString(36).slice(2),_f="__reactFiber$"+G0,$g="__reactProps$"+G0,Tp="__reactContainer$"+G0,X3="__reactEvents$"+G0,vB="__reactListeners$"+G0,_B="__reactHandles$"+G0;function RA(e){var t=e[_f];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tp]||n[_f]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=z5(e);e!==null;){if(n=e[_f])return n;e=z5(e)}return t}e=n,n=e.parentNode}return null}function gy(e){return e=e[_f]||e[Tp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function f0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rn(33))}function C2(e){return e[$g]||null}var Y3=[],p0=-1;function Qh(e){return{current:e}}function So(e){0>p0||(e.current=Y3[p0],Y3[p0]=null,p0--)}function uo(e,t){p0++,Y3[p0]=e.current,e.current=t}var $h={},zs=Qh($h),Il=Qh(!1),$A=$h;function R0(e,t){var n=e.type.contextTypes;if(!n)return $h;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ol(e){return e=e.childContextTypes,e!=null}function b_(){So(Il),So(zs)}function N5(e,t,n){if(zs.current!==$h)throw Error(rn(168));uo(zs,t),uo(Il,n)}function RI(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(rn(108,i7(e)||"Unknown",s));return Ho({},n,i)}function w_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$h,$A=zs.current,uo(zs,e),uo(Il,Il.current),!0}function U5(e,t,n){var i=e.stateNode;if(!i)throw Error(rn(169));n?(e=RI(e,t,$A),i.__reactInternalMemoizedMergedChildContext=e,So(Il),So(zs),uo(zs,e)):So(Il),uo(Il,n)}var _p=null,k2=!1,dw=!1;function DI(e){_p===null?_p=[e]:_p.push(e)}function xB(e){k2=!0,DI(e)}function Wh(){if(!dw&&_p!==null){dw=!0;var e=0,t=Mi;try{var n=_p;for(Mi=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}_p=null,k2=!1}catch(s){throw _p!==null&&(_p=_p.slice(e+1)),aI(j4,Wh),s}finally{Mi=t,dw=!1}}return null}var h0=[],A0=0,S_=null,E_=0,Ou=[],Mu=0,VA=null,bp=1,wp="";function kA(e,t){h0[A0++]=E_,h0[A0++]=S_,S_=e,E_=t}function FI(e,t,n){Ou[Mu++]=bp,Ou[Mu++]=wp,Ou[Mu++]=VA,VA=e;var i=bp;e=wp;var s=32-Ic(i)-1;i&=~(1<<s),n+=1;var l=32-Ic(t)+s;if(30<l){var o=s-s%5;l=(i&(1<<o)-1).toString(32),i>>=o,s-=o,bp=1<<32-Ic(t)+s|n<<s|i,wp=l+e}else bp=1<<l|n<<s|i,wp=e}function Z4(e){e.return!==null&&(kA(e,1),FI(e,1,0))}function X4(e){for(;e===S_;)S_=h0[--A0],h0[A0]=null,E_=h0[--A0],h0[A0]=null;for(;e===VA;)VA=Ou[--Mu],Ou[Mu]=null,wp=Ou[--Mu],Ou[Mu]=null,bp=Ou[--Mu],Ou[Mu]=null}var eu=null,Zl=null,Oo=!1,Tc=null;function BI(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function j5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,eu=e,Zl=Lh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,eu=e,Zl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=VA!==null?{id:bp,overflow:wp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Du(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,eu=e,Zl=null,!0):!1;default:return!1}}function J3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eS(e){if(Oo){var t=Zl;if(t){var n=t;if(!j5(e,t)){if(J3(e))throw Error(rn(418));t=Lh(n.nextSibling);var i=eu;t&&j5(e,t)?BI(i,n):(e.flags=e.flags&-4097|2,Oo=!1,eu=e)}}else{if(J3(e))throw Error(rn(418));e.flags=e.flags&-4097|2,Oo=!1,eu=e}}}function $5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;eu=e}function s1(e){if(e!==eu)return!1;if(!Oo)return $5(e),Oo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K3(e.type,e.memoizedProps)),t&&(t=Zl)){if(J3(e))throw zI(),Error(rn(418));for(;t;)BI(e,t),t=Lh(t.nextSibling)}if($5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zl=Lh(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zl=null}}else Zl=eu?Lh(e.stateNode.nextSibling):null;return!0}function zI(){for(var e=Zl;e;)e=Lh(e.nextSibling)}function D0(){Zl=eu=null,Oo=!1}function Y4(e){Tc===null?Tc=[e]:Tc.push(e)}var bB=Op.ReactCurrentBatchConfig;function Cc(e,t){if(e&&e.defaultProps){t=Ho({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var C_=Qh(null),k_=null,d0=null,J4=null;function eE(){J4=d0=k_=null}function tE(e){var t=C_.current;So(C_),e._currentValue=t}function tS(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function C0(e,t){k_=e,J4=d0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pl=!0),e.firstContext=null)}function Nu(e){var t=e._currentValue;if(J4!==e)if(e={context:e,memoizedValue:t,next:null},d0===null){if(k_===null)throw Error(rn(308));d0=e,k_.dependencies={lanes:0,firstContext:e}}else d0=d0.next=e;return t}var DA=null;function nE(e){DA===null?DA=[e]:DA.push(e)}function NI(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,nE(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pp(e,i)}function Pp(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _h=!1;function rE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ep(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rh(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,hi&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Pp(e,n)}return s=i.interleaved,s===null?(t.next=t,nE(i)):(t.next=s.next,s.next=t),i.interleaved=t,Pp(e,n)}function W1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$4(e,n)}}function V5(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function T_(e,t,n,i){var s=e.updateQueue;_h=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,T=S.next;S.next=null,o===null?l=T:o.next=T,o=S;var M=e.alternate;M!==null&&(M=M.updateQueue,x=M.lastBaseUpdate,x!==o&&(x===null?M.firstBaseUpdate=T:x.next=T,M.lastBaseUpdate=S))}if(l!==null){var F=s.baseState;o=0,M=T=S=null,x=l;do{var z=x.lane,U=x.eventTime;if((i&z)===z){M!==null&&(M=M.next={eventTime:U,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var q=e,K=x;switch(z=t,U=n,K.tag){case 1:if(q=K.payload,typeof q=="function"){F=q.call(U,F,z);break e}F=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,z=typeof q=="function"?q.call(U,F,z):q,z==null)break e;F=Ho({},F,z);break e;case 2:_h=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,z=s.effects,z===null?s.effects=[x]:z.push(x))}else U={eventTime:U,lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},M===null?(T=M=U,S=F):M=M.next=U,o|=z;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;z=x,x=z.next,z.next=null,s.lastBaseUpdate=z,s.shared.pending=null}}while(1);if(M===null&&(S=F),s.baseState=S,s.firstBaseUpdate=T,s.lastBaseUpdate=M,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);qA|=o,e.lanes=o,e.memoizedState=F}}function H5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(rn(191,s));s.call(i)}}}var jI=new NP.Component().refs;function nS(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ho({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var T2={isMounted:function(e){return(e=e._reactInternals)?YA(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=nl(),s=Fh(e),l=Ep(i,s);l.payload=t,n!=null&&(l.callback=n),t=Rh(e,l,s),t!==null&&(Oc(t,e,s,i),W1(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=nl(),s=Fh(e),l=Ep(i,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Rh(e,l,s),t!==null&&(Oc(t,e,s,i),W1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),i=Fh(e),s=Ep(n,i);s.tag=2,t!=null&&(s.callback=t),t=Rh(e,s,i),t!==null&&(Oc(t,e,i,n),W1(t,e,i))}};function q5(e,t,n,i,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,o):t.prototype&&t.prototype.isPureReactComponent?!Ng(n,i)||!Ng(s,l):!0}function $I(e,t,n){var i=!1,s=$h,l=t.contextType;return typeof l=="object"&&l!==null?l=Nu(l):(s=Ol(t)?$A:zs.current,i=t.contextTypes,l=(i=i!=null)?R0(e,s):$h),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=T2,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function G5(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&T2.enqueueReplaceState(t,t.state,null)}function rS(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=jI,rE(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Nu(l):(l=Ol(t)?$A:zs.current,s.context=R0(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(nS(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&T2.enqueueReplaceState(s,s.state,null),T_(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $m(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rn(309));var i=n.stateNode}if(!i)throw Error(rn(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var x=s.refs;x===jI&&(x=s.refs={}),o===null?delete x[l]:x[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(rn(284));if(!n._owner)throw Error(rn(290,e))}return e}function l1(e,t){throw e=Object.prototype.toString.call(t),Error(rn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q5(e){var t=e._init;return t(e._payload)}function VI(e){function t(V,X){if(e){var ne=V.deletions;ne===null?(V.deletions=[X],V.flags|=16):ne.push(X)}}function n(V,X){if(!e)return null;for(;X!==null;)t(V,X),X=X.sibling;return null}function i(V,X){for(V=new Map;X!==null;)X.key!==null?V.set(X.key,X):V.set(X.index,X),X=X.sibling;return V}function s(V,X){return V=Bh(V,X),V.index=0,V.sibling=null,V}function l(V,X,ne){return V.index=ne,e?(ne=V.alternate,ne!==null?(ne=ne.index,ne<X?(V.flags|=2,X):ne):(V.flags|=2,X)):(V.flags|=1048576,X)}function o(V){return e&&V.alternate===null&&(V.flags|=2),V}function x(V,X,ne,he){return X===null||X.tag!==6?(X=bw(ne,V.mode,he),X.return=V,X):(X=s(X,ne),X.return=V,X)}function S(V,X,ne,he){var pe=ne.type;return pe===s0?M(V,X,ne.props.children,he,ne.key):X!==null&&(X.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===vh&&Q5(pe)===X.type)?(he=s(X,ne.props),he.ref=$m(V,X,ne),he.return=V,he):(he=e_(ne.type,ne.key,ne.props,null,V.mode,he),he.ref=$m(V,X,ne),he.return=V,he)}function T(V,X,ne,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=ww(ne,V.mode,he),X.return=V,X):(X=s(X,ne.children||[]),X.return=V,X)}function M(V,X,ne,he,pe){return X===null||X.tag!==7?(X=zA(ne,V.mode,he,pe),X.return=V,X):(X=s(X,ne),X.return=V,X)}function F(V,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=bw(""+X,V.mode,ne),X.return=V,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Xv:return ne=e_(X.type,X.key,X.props,null,V.mode,ne),ne.ref=$m(V,null,X),ne.return=V,ne;case a0:return X=ww(X,V.mode,ne),X.return=V,X;case vh:var he=X._init;return F(V,he(X._payload),ne)}if(sg(X)||Bm(X))return X=zA(X,V.mode,ne,null),X.return=V,X;l1(V,X)}return null}function z(V,X,ne,he){var pe=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return pe!==null?null:x(V,X,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Xv:return ne.key===pe?S(V,X,ne,he):null;case a0:return ne.key===pe?T(V,X,ne,he):null;case vh:return pe=ne._init,z(V,X,pe(ne._payload),he)}if(sg(ne)||Bm(ne))return pe!==null?null:M(V,X,ne,he,null);l1(V,ne)}return null}function U(V,X,ne,he,pe){if(typeof he=="string"&&he!==""||typeof he=="number")return V=V.get(ne)||null,x(X,V,""+he,pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Xv:return V=V.get(he.key===null?ne:he.key)||null,S(X,V,he,pe);case a0:return V=V.get(he.key===null?ne:he.key)||null,T(X,V,he,pe);case vh:var le=he._init;return U(V,X,ne,le(he._payload),pe)}if(sg(he)||Bm(he))return V=V.get(ne)||null,M(X,V,he,pe,null);l1(X,he)}return null}function q(V,X,ne,he){for(var pe=null,le=null,be=X,Se=X=0,De=null;be!==null&&Se<ne.length;Se++){be.index>Se?(De=be,be=null):De=be.sibling;var tt=z(V,be,ne[Se],he);if(tt===null){be===null&&(be=De);break}e&&be&&tt.alternate===null&&t(V,be),X=l(tt,X,Se),le===null?pe=tt:le.sibling=tt,le=tt,be=De}if(Se===ne.length)return n(V,be),Oo&&kA(V,Se),pe;if(be===null){for(;Se<ne.length;Se++)be=F(V,ne[Se],he),be!==null&&(X=l(be,X,Se),le===null?pe=be:le.sibling=be,le=be);return Oo&&kA(V,Se),pe}for(be=i(V,be);Se<ne.length;Se++)De=U(be,V,Se,ne[Se],he),De!==null&&(e&&De.alternate!==null&&be.delete(De.key===null?Se:De.key),X=l(De,X,Se),le===null?pe=De:le.sibling=De,le=De);return e&&be.forEach(function(Xe){return t(V,Xe)}),Oo&&kA(V,Se),pe}function K(V,X,ne,he){var pe=Bm(ne);if(typeof pe!="function")throw Error(rn(150));if(ne=pe.call(ne),ne==null)throw Error(rn(151));for(var le=pe=null,be=X,Se=X=0,De=null,tt=ne.next();be!==null&&!tt.done;Se++,tt=ne.next()){be.index>Se?(De=be,be=null):De=be.sibling;var Xe=z(V,be,tt.value,he);if(Xe===null){be===null&&(be=De);break}e&&be&&Xe.alternate===null&&t(V,be),X=l(Xe,X,Se),le===null?pe=Xe:le.sibling=Xe,le=Xe,be=De}if(tt.done)return n(V,be),Oo&&kA(V,Se),pe;if(be===null){for(;!tt.done;Se++,tt=ne.next())tt=F(V,tt.value,he),tt!==null&&(X=l(tt,X,Se),le===null?pe=tt:le.sibling=tt,le=tt);return Oo&&kA(V,Se),pe}for(be=i(V,be);!tt.done;Se++,tt=ne.next())tt=U(be,V,Se,tt.value,he),tt!==null&&(e&&tt.alternate!==null&&be.delete(tt.key===null?Se:tt.key),X=l(tt,X,Se),le===null?pe=tt:le.sibling=tt,le=tt);return e&&be.forEach(function(at){return t(V,at)}),Oo&&kA(V,Se),pe}function ee(V,X,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===s0&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Xv:e:{for(var pe=ne.key,le=X;le!==null;){if(le.key===pe){if(pe=ne.type,pe===s0){if(le.tag===7){n(V,le.sibling),X=s(le,ne.props.children),X.return=V,V=X;break e}}else if(le.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===vh&&Q5(pe)===le.type){n(V,le.sibling),X=s(le,ne.props),X.ref=$m(V,le,ne),X.return=V,V=X;break e}n(V,le);break}else t(V,le);le=le.sibling}ne.type===s0?(X=zA(ne.props.children,V.mode,he,ne.key),X.return=V,V=X):(he=e_(ne.type,ne.key,ne.props,null,V.mode,he),he.ref=$m(V,X,ne),he.return=V,V=he)}return o(V);case a0:e:{for(le=ne.key;X!==null;){if(X.key===le)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){n(V,X.sibling),X=s(X,ne.children||[]),X.return=V,V=X;break e}else{n(V,X);break}else t(V,X);X=X.sibling}X=ww(ne,V.mode,he),X.return=V,V=X}return o(V);case vh:return le=ne._init,ee(V,X,le(ne._payload),he)}if(sg(ne))return q(V,X,ne,he);if(Bm(ne))return K(V,X,ne,he);l1(V,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(n(V,X.sibling),X=s(X,ne),X.return=V,V=X):(n(V,X),X=bw(ne,V.mode,he),X.return=V,V=X),o(V)):n(V,X)}return ee}var F0=VI(!0),HI=VI(!1),yy={},Sf=Qh(yy),Vg=Qh(yy),Hg=Qh(yy);function FA(e){if(e===yy)throw Error(rn(174));return e}function iE(e,t){switch(uo(Hg,t),uo(Vg,e),uo(Sf,yy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:D3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=D3(t,e)}So(Sf),uo(Sf,t)}function B0(){So(Sf),So(Vg),So(Hg)}function qI(e){FA(Hg.current);var t=FA(Sf.current),n=D3(t,e.type);t!==n&&(uo(Vg,e),uo(Sf,n))}function oE(e){Vg.current===e&&(So(Sf),So(Vg))}var $o=Qh(0);function P_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mw=[];function aE(){for(var e=0;e<mw.length;e++)mw[e]._workInProgressVersionPrimary=null;mw.length=0}var K1=Op.ReactCurrentDispatcher,gw=Op.ReactCurrentBatchConfig,HA=0,Vo=null,Fa=null,es=null,I_=!1,yg=!1,qg=0,wB=0;function Rs(){throw Error(rn(321))}function sE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rc(e[n],t[n]))return!1;return!0}function lE(e,t,n,i,s,l){if(HA=l,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K1.current=e===null||e.memoizedState===null?kB:TB,e=n(i,s),yg){l=0;do{if(yg=!1,qg=0,25<=l)throw Error(rn(301));l+=1,es=Fa=null,t.updateQueue=null,K1.current=PB,e=n(i,s)}while(yg)}if(K1.current=O_,t=Fa!==null&&Fa.next!==null,HA=0,es=Fa=Vo=null,I_=!1,t)throw Error(rn(300));return e}function uE(){var e=qg!==0;return qg=0,e}function yf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Vo.memoizedState=es=e:es=es.next=e,es}function Uu(){if(Fa===null){var e=Vo.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=es===null?Vo.memoizedState:es.next;if(t!==null)es=t,Fa=e;else{if(e===null)throw Error(rn(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},es===null?Vo.memoizedState=es=e:es=es.next=e}return es}function Gg(e,t){return typeof t=="function"?t(e):t}function yw(e){var t=Uu(),n=t.queue;if(n===null)throw Error(rn(311));n.lastRenderedReducer=e;var i=Fa,s=i.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}i.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,i=i.baseState;var x=o=null,S=null,T=l;do{var M=T.lane;if((HA&M)===M)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var F={lane:M,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(x=S=F,o=i):S=S.next=F,Vo.lanes|=M,qA|=M}T=T.next}while(T!==null&&T!==l);S===null?o=i:S.next=x,Rc(i,t.memoizedState)||(Pl=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Vo.lanes|=l,qA|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vw(e){var t=Uu(),n=t.queue;if(n===null)throw Error(rn(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);Rc(l,t.memoizedState)||(Pl=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function GI(){}function QI(e,t){var n=Vo,i=Uu(),s=t(),l=!Rc(i.memoizedState,s);if(l&&(i.memoizedState=s,Pl=!0),i=i.queue,cE(ZI.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||es!==null&&es.memoizedState.tag&1){if(n.flags|=2048,Qg(9,KI.bind(null,n,i,s,t),void 0,null),ts===null)throw Error(rn(349));HA&30||WI(n,t,s)}return s}function WI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KI(e,t,n,i){t.value=n,t.getSnapshot=i,XI(t)&&YI(e)}function ZI(e,t,n){return n(function(){XI(t)&&YI(e)})}function XI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rc(e,n)}catch{return!0}}function YI(e){var t=Pp(e,1);t!==null&&Oc(t,e,1,-1)}function W5(e){var t=yf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:e},t.queue=e,e=e.dispatch=CB.bind(null,Vo,e),[t.memoizedState,e]}function Qg(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function JI(){return Uu().memoizedState}function Z1(e,t,n,i){var s=yf();Vo.flags|=e,s.memoizedState=Qg(1|t,n,void 0,i===void 0?null:i)}function P2(e,t,n,i){var s=Uu();i=i===void 0?null:i;var l=void 0;if(Fa!==null){var o=Fa.memoizedState;if(l=o.destroy,i!==null&&sE(i,o.deps)){s.memoizedState=Qg(t,n,l,i);return}}Vo.flags|=e,s.memoizedState=Qg(1|t,n,l,i)}function K5(e,t){return Z1(8390656,8,e,t)}function cE(e,t){return P2(2048,8,e,t)}function eO(e,t){return P2(4,2,e,t)}function tO(e,t){return P2(4,4,e,t)}function nO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rO(e,t,n){return n=n!=null?n.concat([e]):null,P2(4,4,nO.bind(null,t,e),n)}function fE(){}function iO(e,t){var n=Uu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&sE(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function oO(e,t){var n=Uu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&sE(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function aO(e,t,n){return HA&21?(Rc(n,t)||(n=uI(),Vo.lanes|=n,qA|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pl=!0),e.memoizedState=n)}function SB(e,t){var n=Mi;Mi=n!==0&&4>n?n:4,e(!0);var i=gw.transition;gw.transition={};try{e(!1),t()}finally{Mi=n,gw.transition=i}}function sO(){return Uu().memoizedState}function EB(e,t,n){var i=Fh(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},lO(e))uO(t,n);else if(n=NI(e,t,n,i),n!==null){var s=nl();Oc(n,e,i,s),cO(n,t,i)}}function CB(e,t,n){var i=Fh(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(lO(e))uO(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,x=l(o,n);if(s.hasEagerState=!0,s.eagerState=x,Rc(x,o)){var S=t.interleaved;S===null?(s.next=s,nE(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}n=NI(e,t,s,i),n!==null&&(s=nl(),Oc(n,e,i,s),cO(n,t,i))}}function lO(e){var t=e.alternate;return e===Vo||t!==null&&t===Vo}function uO(e,t){yg=I_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cO(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$4(e,n)}}var O_={readContext:Nu,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},kB={readContext:Nu,useCallback:function(e,t){return yf().memoizedState=[e,t===void 0?null:t],e},useContext:Nu,useEffect:K5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Z1(4194308,4,nO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Z1(4194308,4,e,t)},useInsertionEffect:function(e,t){return Z1(4,2,e,t)},useMemo:function(e,t){var n=yf();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yf();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=EB.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){var t=yf();return e={current:e},t.memoizedState=e},useState:W5,useDebugValue:fE,useDeferredValue:function(e){return yf().memoizedState=e},useTransition:function(){var e=W5(!1),t=e[0];return e=SB.bind(null,e[1]),yf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Vo,s=yf();if(Oo){if(n===void 0)throw Error(rn(407));n=n()}else{if(n=t(),ts===null)throw Error(rn(349));HA&30||WI(i,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,K5(ZI.bind(null,i,l,e),[e]),i.flags|=2048,Qg(9,KI.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=yf(),t=ts.identifierPrefix;if(Oo){var n=wp,i=bp;n=(i&~(1<<32-Ic(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=qg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TB={readContext:Nu,useCallback:iO,useContext:Nu,useEffect:cE,useImperativeHandle:rO,useInsertionEffect:eO,useLayoutEffect:tO,useMemo:oO,useReducer:yw,useRef:JI,useState:function(){return yw(Gg)},useDebugValue:fE,useDeferredValue:function(e){var t=Uu();return aO(t,Fa.memoizedState,e)},useTransition:function(){var e=yw(Gg)[0],t=Uu().memoizedState;return[e,t]},useMutableSource:GI,useSyncExternalStore:QI,useId:sO,unstable_isNewReconciler:!1},PB={readContext:Nu,useCallback:iO,useContext:Nu,useEffect:cE,useImperativeHandle:rO,useInsertionEffect:eO,useLayoutEffect:tO,useMemo:oO,useReducer:vw,useRef:JI,useState:function(){return vw(Gg)},useDebugValue:fE,useDeferredValue:function(e){var t=Uu();return Fa===null?t.memoizedState=e:aO(t,Fa.memoizedState,e)},useTransition:function(){var e=vw(Gg)[0],t=Uu().memoizedState;return[e,t]},useMutableSource:GI,useSyncExternalStore:QI,useId:sO,unstable_isNewReconciler:!1};function z0(e,t){try{var n="",i=t;do n+=r7(i),i=i.return;while(i);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function _w(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function iS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function fO(e,t,n){n=Ep(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){L_||(L_=!0,AS=i),iS(e,t)},n}function pO(e,t,n){n=Ep(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){iS(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){iS(e,t),typeof i!="function"&&(Dh===null?Dh=new Set([this]):Dh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Z5(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new IB;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=HB.bind(null,e,t,n),t.then(e,e))}function X5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y5(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ep(-1,1),t.tag=2,Rh(n,t,1))),n.lanes|=1),e)}var OB=Op.ReactCurrentOwner,Pl=!1;function tl(e,t,n,i){t.child=e===null?HI(t,null,n,i):F0(t,e.child,n,i)}function J5(e,t,n,i,s){n=n.render;var l=t.ref;return C0(t,s),i=lE(e,t,n,i,l,s),n=uE(),e!==null&&!Pl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ip(e,t,s)):(Oo&&n&&Z4(t),t.flags|=1,tl(e,t,i,s),t.child)}function ek(e,t,n,i,s){if(e===null){var l=n.type;return typeof l=="function"&&!vE(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hO(e,t,l,i,s)):(e=e_(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ng,n(o,i)&&e.ref===t.ref)return Ip(e,t,s)}return t.flags|=1,e=Bh(l,i),e.ref=t.ref,e.return=t,t.child=e}function hO(e,t,n,i,s){if(e!==null){var l=e.memoizedProps;if(Ng(l,i)&&e.ref===t.ref)if(Pl=!1,t.pendingProps=i=l,(e.lanes&s)!==0)e.flags&131072&&(Pl=!0);else return t.lanes=e.lanes,Ip(e,t,s)}return oS(e,t,n,i,s)}function AO(e,t,n){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},uo(g0,Kl),Kl|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,uo(g0,Kl),Kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,uo(g0,Kl),Kl|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,uo(g0,Kl),Kl|=i;return tl(e,t,s,n),t.child}function dO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oS(e,t,n,i,s){var l=Ol(n)?$A:zs.current;return l=R0(t,l),C0(t,s),n=lE(e,t,n,i,l,s),i=uE(),e!==null&&!Pl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ip(e,t,s)):(Oo&&i&&Z4(t),t.flags|=1,tl(e,t,n,s),t.child)}function tk(e,t,n,i,s){if(Ol(n)){var l=!0;w_(t)}else l=!1;if(C0(t,s),t.stateNode===null)X1(e,t),$I(t,n,i),rS(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,x=t.memoizedProps;o.props=x;var S=o.context,T=n.contextType;typeof T=="object"&&T!==null?T=Nu(T):(T=Ol(n)?$A:zs.current,T=R0(t,T));var M=n.getDerivedStateFromProps,F=typeof M=="function"||typeof o.getSnapshotBeforeUpdate=="function";F||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==i||S!==T)&&G5(t,o,i,T),_h=!1;var z=t.memoizedState;o.state=z,T_(t,i,o,s),S=t.memoizedState,x!==i||z!==S||Il.current||_h?(typeof M=="function"&&(nS(t,n,M,i),S=t.memoizedState),(x=_h||q5(t,n,x,i,z,S,T))?(F||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),o.props=i,o.state=S,o.context=T,i=x):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,UI(e,t),x=t.memoizedProps,T=t.type===t.elementType?x:Cc(t.type,x),o.props=T,F=t.pendingProps,z=o.context,S=n.contextType,typeof S=="object"&&S!==null?S=Nu(S):(S=Ol(n)?$A:zs.current,S=R0(t,S));var U=n.getDerivedStateFromProps;(M=typeof U=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==F||z!==S)&&G5(t,o,i,S),_h=!1,z=t.memoizedState,o.state=z,T_(t,i,o,s);var q=t.memoizedState;x!==F||z!==q||Il.current||_h?(typeof U=="function"&&(nS(t,n,U,i),q=t.memoizedState),(T=_h||q5(t,n,T,i,z,q,S)||!1)?(M||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,q,S),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,q,S)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),o.props=i,o.state=q,o.context=S,i=T):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),i=!1)}return aS(e,t,n,i,l,s)}function aS(e,t,n,i,s,l){dO(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&U5(t,n,!1),Ip(e,t,l);i=t.stateNode,OB.current=t;var x=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=F0(t,e.child,null,l),t.child=F0(t,null,x,l)):tl(e,t,x,l),t.memoizedState=i.state,s&&U5(t,n,!0),t.child}function mO(e){var t=e.stateNode;t.pendingContext?N5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&N5(e,t.context,!1),iE(e,t.containerInfo)}function nk(e,t,n,i,s){return D0(),Y4(s),t.flags|=256,tl(e,t,n,i),t.child}var sS={dehydrated:null,treeContext:null,retryLane:0};function lS(e){return{baseLanes:e,cachePool:null,transitions:null}}function gO(e,t,n){var i=t.pendingProps,s=$o.current,l=!1,o=(t.flags&128)!==0,x;if((x=o)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),uo($o,s&1),e===null)return eS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,l?(i=t.mode,l=t.child,o={mode:"hidden",children:o},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=M2(o,i,0,null),e=zA(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=lS(n),t.memoizedState=sS,e):pE(t,o));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return MB(e,t,o,i,x,s,n);if(l){l=i.fallback,o=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Bh(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?l=Bh(x,l):(l=zA(l,o,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,o=e.child.memoizedState,o=o===null?lS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=sS,i}return l=e.child,e=l.sibling,i=Bh(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function pE(e,t){return t=M2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function u1(e,t,n,i){return i!==null&&Y4(i),F0(t,e.child,null,n),e=pE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MB(e,t,n,i,s,l,o){if(n)return t.flags&256?(t.flags&=-257,i=_w(Error(rn(422))),u1(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=M2({mode:"visible",children:i.children},s,0,null),l=zA(l,s,o,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&F0(t,e.child,null,o),t.child.memoizedState=lS(o),t.memoizedState=sS,l);if(!(t.mode&1))return u1(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,l=Error(rn(419)),i=_w(l,i,void 0),u1(e,t,o,i)}if(x=(o&e.childLanes)!==0,Pl||x){if(i=ts,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Pp(e,s),Oc(i,e,s,-1))}return yE(),i=_w(Error(rn(421))),u1(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qB.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Zl=Lh(s.nextSibling),eu=t,Oo=!0,Tc=null,e!==null&&(Ou[Mu++]=bp,Ou[Mu++]=wp,Ou[Mu++]=VA,bp=e.id,wp=e.overflow,VA=t),t=pE(t,i.children),t.flags|=4096,t)}function rk(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),tS(e.return,t,n)}function xw(e,t,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=s)}function yO(e,t,n){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(tl(e,t,i.children,n),i=$o.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rk(e,n,t);else if(e.tag===19)rk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(uo($o,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&P_(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xw(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&P_(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xw(t,!0,n,null,l);break;case"together":xw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function X1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ip(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qA|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rn(153));if(t.child!==null){for(e=t.child,n=Bh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LB(e,t,n){switch(t.tag){case 3:mO(t),D0();break;case 5:qI(t);break;case 1:Ol(t.type)&&w_(t);break;case 4:iE(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;uo(C_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(uo($o,$o.current&1),t.flags|=128,null):n&t.child.childLanes?gO(e,t,n):(uo($o,$o.current&1),e=Ip(e,t,n),e!==null?e.sibling:null);uo($o,$o.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return yO(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),uo($o,$o.current),i)break;return null;case 22:case 23:return t.lanes=0,AO(e,t,n)}return Ip(e,t,n)}var vO,uS,_O,xO;vO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uS=function(){};_O=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,FA(Sf.current);var l=null;switch(n){case"input":s=O3(e,s),i=O3(e,i),l=[];break;case"select":s=Ho({},s,{value:void 0}),i=Ho({},i,{value:void 0}),l=[];break;case"textarea":s=R3(e,s),i=R3(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=x_)}F3(n,i);var o;n=null;for(T in s)if(!i.hasOwnProperty(T)&&s.hasOwnProperty(T)&&s[T]!=null)if(T==="style"){var x=s[T];for(o in x)x.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(Mg.hasOwnProperty(T)?l||(l=[]):(l=l||[]).push(T,null));for(T in i){var S=i[T];if(x=s!=null?s[T]:void 0,i.hasOwnProperty(T)&&S!==x&&(S!=null||x!=null))if(T==="style")if(x){for(o in x)!x.hasOwnProperty(o)||S&&S.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in S)S.hasOwnProperty(o)&&x[o]!==S[o]&&(n||(n={}),n[o]=S[o])}else n||(l||(l=[]),l.push(T,n)),n=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(l=l||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(l=l||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(Mg.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&bo("scroll",e),l||x===S||(l=[])):(l=l||[]).push(T,S))}n&&(l=l||[]).push("style",n);var T=l;(t.updateQueue=T)&&(t.flags|=4)}};xO=function(e,t,n,i){n!==i&&(t.flags|=4)};function Vm(e,t){if(!Oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function RB(e,t,n){var i=t.pendingProps;switch(X4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(t),null;case 1:return Ol(t.type)&&b_(),Ds(t),null;case 3:return i=t.stateNode,B0(),So(Il),So(zs),aE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(s1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tc!==null&&(gS(Tc),Tc=null))),uS(e,t),Ds(t),null;case 5:oE(t);var s=FA(Hg.current);if(n=t.type,e!==null&&t.stateNode!=null)_O(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(rn(166));return Ds(t),null}if(e=FA(Sf.current),s1(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[_f]=t,i[$g]=l,e=(t.mode&1)!==0,n){case"dialog":bo("cancel",i),bo("close",i);break;case"iframe":case"object":case"embed":bo("load",i);break;case"video":case"audio":for(s=0;s<ug.length;s++)bo(ug[s],i);break;case"source":bo("error",i);break;case"img":case"image":case"link":bo("error",i),bo("load",i);break;case"details":bo("toggle",i);break;case"input":p5(i,l),bo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},bo("invalid",i);break;case"textarea":A5(i,l),bo("invalid",i)}F3(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var x=l[o];o==="children"?typeof x=="string"?i.textContent!==x&&(l.suppressHydrationWarning!==!0&&a1(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(l.suppressHydrationWarning!==!0&&a1(i.textContent,x,e),s=["children",""+x]):Mg.hasOwnProperty(o)&&x!=null&&o==="onScroll"&&bo("scroll",i)}switch(n){case"input":Yv(i),h5(i,l,!0);break;case"textarea":Yv(i),d5(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=x_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[_f]=t,e[$g]=i,vO(e,t,!1,!1),t.stateNode=e;e:{switch(o=B3(n,i),n){case"dialog":bo("cancel",e),bo("close",e),s=i;break;case"iframe":case"object":case"embed":bo("load",e),s=i;break;case"video":case"audio":for(s=0;s<ug.length;s++)bo(ug[s],e);s=i;break;case"source":bo("error",e),s=i;break;case"img":case"image":case"link":bo("error",e),bo("load",e),s=i;break;case"details":bo("toggle",e),s=i;break;case"input":p5(e,i),s=O3(e,i),bo("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ho({},i,{value:void 0}),bo("invalid",e);break;case"textarea":A5(e,i),s=R3(e,i),bo("invalid",e);break;default:s=i}F3(n,s),x=s;for(l in x)if(x.hasOwnProperty(l)){var S=x[l];l==="style"?XP(e,S):l==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&KP(e,S)):l==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Lg(e,S):typeof S=="number"&&Lg(e,""+S):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Mg.hasOwnProperty(l)?S!=null&&l==="onScroll"&&bo("scroll",e):S!=null&&F4(e,l,S,o))}switch(n){case"input":Yv(e),h5(e,i,!1);break;case"textarea":Yv(e),d5(e);break;case"option":i.value!=null&&e.setAttribute("value",""+jh(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?b0(e,!!i.multiple,l,!1):i.defaultValue!=null&&b0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=x_)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ds(t),null;case 6:if(e&&t.stateNode!=null)xO(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(rn(166));if(n=FA(Hg.current),FA(Sf.current),s1(t)){if(i=t.stateNode,n=t.memoizedProps,i[_f]=t,(l=i.nodeValue!==n)&&(e=eu,e!==null))switch(e.tag){case 3:a1(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a1(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[_f]=t,t.stateNode=i}return Ds(t),null;case 13:if(So($o),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oo&&Zl!==null&&t.mode&1&&!(t.flags&128))zI(),D0(),t.flags|=98560,l=!1;else if(l=s1(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(rn(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(rn(317));l[_f]=t}else D0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ds(t),l=!1}else Tc!==null&&(gS(Tc),Tc=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||$o.current&1?Ba===0&&(Ba=3):yE())),t.updateQueue!==null&&(t.flags|=4),Ds(t),null);case 4:return B0(),uS(e,t),e===null&&Ug(t.stateNode.containerInfo),Ds(t),null;case 10:return tE(t.type._context),Ds(t),null;case 17:return Ol(t.type)&&b_(),Ds(t),null;case 19:if(So($o),l=t.memoizedState,l===null)return Ds(t),null;if(i=(t.flags&128)!==0,o=l.rendering,o===null)if(i)Vm(l,!1);else{if(Ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=P_(e),o!==null){for(t.flags|=128,Vm(l,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo($o,$o.current&1|2),t.child}e=e.sibling}l.tail!==null&&ya()>N0&&(t.flags|=128,i=!0,Vm(l,!1),t.lanes=4194304)}else{if(!i)if(e=P_(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vm(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Oo)return Ds(t),null}else 2*ya()-l.renderingStartTime>N0&&n!==1073741824&&(t.flags|=128,i=!0,Vm(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ya(),t.sibling=null,n=$o.current,uo($o,i?n&1|2:n&1),t):(Ds(t),null);case 22:case 23:return gE(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Kl&1073741824&&(Ds(t),t.subtreeFlags&6&&(t.flags|=8192)):Ds(t),null;case 24:return null;case 25:return null}throw Error(rn(156,t.tag))}function DB(e,t){switch(X4(t),t.tag){case 1:return Ol(t.type)&&b_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return B0(),So(Il),So(zs),aE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oE(t),null;case 13:if(So($o),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rn(340));D0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return So($o),null;case 4:return B0(),null;case 10:return tE(t.type._context),null;case 22:case 23:return gE(),null;case 24:return null;default:return null}}var c1=!1,Fs=!1,FB=typeof WeakSet=="function"?WeakSet:Set,In=null;function m0(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){oa(e,t,i)}else n.current=null}function cS(e,t,n){try{n()}catch(i){oa(e,t,i)}}var ik=!1;function BB(e,t){if(Q3=y_,e=EI(),K4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,x=-1,S=-1,T=0,M=0,F=e,z=null;t:for(;;){for(var U;F!==n||s!==0&&F.nodeType!==3||(x=o+s),F!==l||i!==0&&F.nodeType!==3||(S=o+i),F.nodeType===3&&(o+=F.nodeValue.length),(U=F.firstChild)!==null;)z=F,F=U;for(;;){if(F===e)break t;if(z===n&&++T===s&&(x=o),z===l&&++M===i&&(S=o),(U=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=U}n=x===-1||S===-1?null:{start:x,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(W3={focusedElem:e,selectionRange:n},y_=!1,In=t;In!==null;)if(t=In,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,In=e;else for(;In!==null;){t=In;try{var q=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var K=q.memoizedProps,ee=q.memoizedState,V=t.stateNode,X=V.getSnapshotBeforeUpdate(t.elementType===t.type?K:Cc(t.type,K),ee);V.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=t.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rn(163))}}catch(he){oa(t,t.return,he)}if(e=t.sibling,e!==null){e.return=t.return,In=e;break}In=t.return}return q=ik,ik=!1,q}function vg(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&cS(t,n,l)}s=s.next}while(s!==i)}}function I2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function fS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bO(e){var t=e.alternate;t!==null&&(e.alternate=null,bO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_f],delete t[$g],delete t[X3],delete t[vB],delete t[_B])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wO(e){return e.tag===5||e.tag===3||e.tag===4}function ok(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pS(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=x_));else if(i!==4&&(e=e.child,e!==null))for(pS(e,t,n),e=e.sibling;e!==null;)pS(e,t,n),e=e.sibling}function hS(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(hS(e,t,n),e=e.sibling;e!==null;)hS(e,t,n),e=e.sibling}var ys=null,kc=!1;function mh(e,t,n){for(n=n.child;n!==null;)SO(e,t,n),n=n.sibling}function SO(e,t,n){if(wf&&typeof wf.onCommitFiberUnmount=="function")try{wf.onCommitFiberUnmount(b2,n)}catch{}switch(n.tag){case 5:Fs||m0(n,t);case 6:var i=ys,s=kc;ys=null,mh(e,t,n),ys=i,kc=s,ys!==null&&(kc?(e=ys,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ys.removeChild(n.stateNode));break;case 18:ys!==null&&(kc?(e=ys,n=n.stateNode,e.nodeType===8?Aw(e.parentNode,n):e.nodeType===1&&Aw(e,n),Bg(e)):Aw(ys,n.stateNode));break;case 4:i=ys,s=kc,ys=n.stateNode.containerInfo,kc=!0,mh(e,t,n),ys=i,kc=s;break;case 0:case 11:case 14:case 15:if(!Fs&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&cS(n,t,o),s=s.next}while(s!==i)}mh(e,t,n);break;case 1:if(!Fs&&(m0(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){oa(n,t,x)}mh(e,t,n);break;case 21:mh(e,t,n);break;case 22:n.mode&1?(Fs=(i=Fs)||n.memoizedState!==null,mh(e,t,n),Fs=i):mh(e,t,n);break;default:mh(e,t,n)}}function ak(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FB),t.forEach(function(i){var s=GB.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function bc(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var l=e,o=t,x=o;e:for(;x!==null;){switch(x.tag){case 5:ys=x.stateNode,kc=!1;break e;case 3:ys=x.stateNode.containerInfo,kc=!0;break e;case 4:ys=x.stateNode.containerInfo,kc=!0;break e}x=x.return}if(ys===null)throw Error(rn(160));SO(l,o,s),ys=null,kc=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(T){oa(s,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EO(t,e),t=t.sibling}function EO(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bc(t,e),mf(e),i&4){try{vg(3,e,e.return),I2(3,e)}catch(K){oa(e,e.return,K)}try{vg(5,e,e.return)}catch(K){oa(e,e.return,K)}}break;case 1:bc(t,e),mf(e),i&512&&n!==null&&m0(n,n.return);break;case 5:if(bc(t,e),mf(e),i&512&&n!==null&&m0(n,n.return),e.flags&32){var s=e.stateNode;try{Lg(s,"")}catch(K){oa(e,e.return,K)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&l.type==="radio"&&l.name!=null&&GP(s,l),B3(x,o);var T=B3(x,l);for(o=0;o<S.length;o+=2){var M=S[o],F=S[o+1];M==="style"?XP(s,F):M==="dangerouslySetInnerHTML"?KP(s,F):M==="children"?Lg(s,F):F4(s,M,F,T)}switch(x){case"input":M3(s,l);break;case"textarea":QP(s,l);break;case"select":var z=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var U=l.value;U!=null?b0(s,!!l.multiple,U,!1):z!==!!l.multiple&&(l.defaultValue!=null?b0(s,!!l.multiple,l.defaultValue,!0):b0(s,!!l.multiple,l.multiple?[]:"",!1))}s[$g]=l}catch(K){oa(e,e.return,K)}}break;case 6:if(bc(t,e),mf(e),i&4){if(e.stateNode===null)throw Error(rn(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(K){oa(e,e.return,K)}}break;case 3:if(bc(t,e),mf(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Bg(t.containerInfo)}catch(K){oa(e,e.return,K)}break;case 4:bc(t,e),mf(e);break;case 13:bc(t,e),mf(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(dE=ya())),i&4&&ak(e);break;case 22:if(M=n!==null&&n.memoizedState!==null,e.mode&1?(Fs=(T=Fs)||M,bc(t,e),Fs=T):bc(t,e),mf(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!M&&e.mode&1)for(In=e,M=e.child;M!==null;){for(F=In=M;In!==null;){switch(z=In,U=z.child,z.tag){case 0:case 11:case 14:case 15:vg(4,z,z.return);break;case 1:m0(z,z.return);var q=z.stateNode;if(typeof q.componentWillUnmount=="function"){i=z,n=z.return;try{t=i,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(K){oa(i,n,K)}}break;case 5:m0(z,z.return);break;case 22:if(z.memoizedState!==null){lk(F);continue}}U!==null?(U.return=z,In=U):lk(F)}M=M.sibling}e:for(M=null,F=e;;){if(F.tag===5){if(M===null){M=F;try{s=F.stateNode,T?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(x=F.stateNode,S=F.memoizedProps.style,o=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=ZP("display",o))}catch(K){oa(e,e.return,K)}}}else if(F.tag===6){if(M===null)try{F.stateNode.nodeValue=T?"":F.memoizedProps}catch(K){oa(e,e.return,K)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;M===F&&(M=null),F=F.return}M===F&&(M=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:bc(t,e),mf(e),i&4&&ak(e);break;case 21:break;default:bc(t,e),mf(e)}}function mf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wO(n)){var i=n;break e}n=n.return}throw Error(rn(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lg(s,""),i.flags&=-33);var l=ok(e);hS(e,l,s);break;case 3:case 4:var o=i.stateNode.containerInfo,x=ok(e);pS(e,x,o);break;default:throw Error(rn(161))}}catch(S){oa(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zB(e,t,n){In=e,CO(e)}function CO(e,t,n){for(var i=(e.mode&1)!==0;In!==null;){var s=In,l=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||c1;if(!o){var x=s.alternate,S=x!==null&&x.memoizedState!==null||Fs;x=c1;var T=Fs;if(c1=o,(Fs=S)&&!T)for(In=s;In!==null;)o=In,S=o.child,o.tag===22&&o.memoizedState!==null?uk(s):S!==null?(S.return=o,In=S):uk(s);for(;l!==null;)In=l,CO(l),l=l.sibling;In=s,c1=x,Fs=T}sk(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,In=l):sk(e)}}function sk(e){for(;In!==null;){var t=In;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fs||I2(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Fs)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cc(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&H5(t,l,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}H5(t,o,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var M=T.memoizedState;if(M!==null){var F=M.dehydrated;F!==null&&Bg(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rn(163))}Fs||t.flags&512&&fS(t)}catch(z){oa(t,t.return,z)}}if(t===e){In=null;break}if(n=t.sibling,n!==null){n.return=t.return,In=n;break}In=t.return}}function lk(e){for(;In!==null;){var t=In;if(t===e){In=null;break}var n=t.sibling;if(n!==null){n.return=t.return,In=n;break}In=t.return}}function uk(e){for(;In!==null;){var t=In;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{I2(4,t)}catch(S){oa(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){oa(t,s,S)}}var l=t.return;try{fS(t)}catch(S){oa(t,l,S)}break;case 5:var o=t.return;try{fS(t)}catch(S){oa(t,o,S)}}}catch(S){oa(t,t.return,S)}if(t===e){In=null;break}var x=t.sibling;if(x!==null){x.return=t.return,In=x;break}In=t.return}}var NB=Math.ceil,M_=Op.ReactCurrentDispatcher,hE=Op.ReactCurrentOwner,Fu=Op.ReactCurrentBatchConfig,hi=0,ts=null,Ma=null,_s=0,Kl=0,g0=Qh(0),Ba=0,Wg=null,qA=0,O2=0,AE=0,_g=null,Tl=null,dE=0,N0=1/0,gp=null,L_=!1,AS=null,Dh=null,f1=!1,kh=null,R_=0,xg=0,dS=null,Y1=-1,J1=0;function nl(){return hi&6?ya():Y1!==-1?Y1:Y1=ya()}function Fh(e){return e.mode&1?hi&2&&_s!==0?_s&-_s:bB.transition!==null?(J1===0&&(J1=uI()),J1):(e=Mi,e!==0||(e=window.event,e=e===void 0?16:mI(e.type)),e):1}function Oc(e,t,n,i){if(50<xg)throw xg=0,dS=null,Error(rn(185));dy(e,n,i),(!(hi&2)||e!==ts)&&(e===ts&&(!(hi&2)&&(O2|=n),Ba===4&&Sh(e,_s)),Ml(e,i),n===1&&hi===0&&!(t.mode&1)&&(N0=ya()+500,k2&&Wh()))}function Ml(e,t){var n=e.callbackNode;b7(e,t);var i=g_(e,e===ts?_s:0);if(i===0)n!==null&&y5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&y5(n),t===1)e.tag===0?xB(ck.bind(null,e)):DI(ck.bind(null,e)),gB(function(){!(hi&6)&&Wh()}),n=null;else{switch(cI(i)){case 1:n=j4;break;case 4:n=sI;break;case 16:n=m_;break;case 536870912:n=lI;break;default:n=m_}n=RO(n,kO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kO(e,t){if(Y1=-1,J1=0,hi&6)throw Error(rn(327));var n=e.callbackNode;if(k0()&&e.callbackNode!==n)return null;var i=g_(e,e===ts?_s:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=D_(e,i);else{t=i;var s=hi;hi|=2;var l=PO();(ts!==e||_s!==t)&&(gp=null,N0=ya()+500,BA(e,t));do try{$B();break}catch(x){TO(e,x)}while(1);eE(),M_.current=l,hi=s,Ma!==null?t=0:(ts=null,_s=0,t=Ba)}if(t!==0){if(t===2&&(s=$3(e),s!==0&&(i=s,t=mS(e,s))),t===1)throw n=Wg,BA(e,0),Sh(e,i),Ml(e,ya()),n;if(t===6)Sh(e,i);else{if(s=e.current.alternate,!(i&30)&&!UB(s)&&(t=D_(e,i),t===2&&(l=$3(e),l!==0&&(i=l,t=mS(e,l))),t===1))throw n=Wg,BA(e,0),Sh(e,i),Ml(e,ya()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(rn(345));case 2:TA(e,Tl,gp);break;case 3:if(Sh(e,i),(i&130023424)===i&&(t=dE+500-ya(),10<t)){if(g_(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){nl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Z3(TA.bind(null,e,Tl,gp),t);break}TA(e,Tl,gp);break;case 4:if(Sh(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Ic(i);l=1<<o,o=t[o],o>s&&(s=o),i&=~l}if(i=s,i=ya()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*NB(i/1960))-i,10<i){e.timeoutHandle=Z3(TA.bind(null,e,Tl,gp),i);break}TA(e,Tl,gp);break;case 5:TA(e,Tl,gp);break;default:throw Error(rn(329))}}}return Ml(e,ya()),e.callbackNode===n?kO.bind(null,e):null}function mS(e,t){var n=_g;return e.current.memoizedState.isDehydrated&&(BA(e,t).flags|=256),e=D_(e,t),e!==2&&(t=Tl,Tl=n,t!==null&&gS(t)),e}function gS(e){Tl===null?Tl=e:Tl.push.apply(Tl,e)}function UB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],l=s.getSnapshot;s=s.value;try{if(!Rc(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sh(e,t){for(t&=~AE,t&=~O2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ic(t),i=1<<n;e[n]=-1,t&=~i}}function ck(e){if(hi&6)throw Error(rn(327));k0();var t=g_(e,0);if(!(t&1))return Ml(e,ya()),null;var n=D_(e,t);if(e.tag!==0&&n===2){var i=$3(e);i!==0&&(t=i,n=mS(e,i))}if(n===1)throw n=Wg,BA(e,0),Sh(e,t),Ml(e,ya()),n;if(n===6)throw Error(rn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,TA(e,Tl,gp),Ml(e,ya()),null}function mE(e,t){var n=hi;hi|=1;try{return e(t)}finally{hi=n,hi===0&&(N0=ya()+500,k2&&Wh())}}function GA(e){kh!==null&&kh.tag===0&&!(hi&6)&&k0();var t=hi;hi|=1;var n=Fu.transition,i=Mi;try{if(Fu.transition=null,Mi=1,e)return e()}finally{Mi=i,Fu.transition=n,hi=t,!(hi&6)&&Wh()}}function gE(){Kl=g0.current,So(g0)}function BA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mB(n)),Ma!==null)for(n=Ma.return;n!==null;){var i=n;switch(X4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&b_();break;case 3:B0(),So(Il),So(zs),aE();break;case 5:oE(i);break;case 4:B0();break;case 13:So($o);break;case 19:So($o);break;case 10:tE(i.type._context);break;case 22:case 23:gE()}n=n.return}if(ts=e,Ma=e=Bh(e.current,null),_s=Kl=t,Ba=0,Wg=null,AE=O2=qA=0,Tl=_g=null,DA!==null){for(t=0;t<DA.length;t++)if(n=DA[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,i.next=o}n.pending=i}DA=null}return e}function TO(e,t){do{var n=Ma;try{if(eE(),K1.current=O_,I_){for(var i=Vo.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}I_=!1}if(HA=0,es=Fa=Vo=null,yg=!1,qg=0,hE.current=null,n===null||n.return===null){Ba=1,Wg=t,Ma=null;break}e:{var l=e,o=n.return,x=n,S=t;if(t=_s,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,M=x,F=M.tag;if(!(M.mode&1)&&(F===0||F===11||F===15)){var z=M.alternate;z?(M.updateQueue=z.updateQueue,M.memoizedState=z.memoizedState,M.lanes=z.lanes):(M.updateQueue=null,M.memoizedState=null)}var U=X5(o);if(U!==null){U.flags&=-257,Y5(U,o,x,l,t),U.mode&1&&Z5(l,T,t),t=U,S=T;var q=t.updateQueue;if(q===null){var K=new Set;K.add(S),t.updateQueue=K}else q.add(S);break e}else{if(!(t&1)){Z5(l,T,t),yE();break e}S=Error(rn(426))}}else if(Oo&&x.mode&1){var ee=X5(o);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),Y5(ee,o,x,l,t),Y4(z0(S,x));break e}}l=S=z0(S,x),Ba!==4&&(Ba=2),_g===null?_g=[l]:_g.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var V=fO(l,S,t);V5(l,V);break e;case 1:x=S;var X=l.type,ne=l.stateNode;if(!(l.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Dh===null||!Dh.has(ne)))){l.flags|=65536,t&=-t,l.lanes|=t;var he=pO(l,x,t);V5(l,he);break e}}l=l.return}while(l!==null)}OO(n)}catch(pe){t=pe,Ma===n&&n!==null&&(Ma=n=n.return);continue}break}while(1)}function PO(){var e=M_.current;return M_.current=O_,e===null?O_:e}function yE(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),ts===null||!(qA&268435455)&&!(O2&268435455)||Sh(ts,_s)}function D_(e,t){var n=hi;hi|=2;var i=PO();(ts!==e||_s!==t)&&(gp=null,BA(e,t));do try{jB();break}catch(s){TO(e,s)}while(1);if(eE(),hi=n,M_.current=i,Ma!==null)throw Error(rn(261));return ts=null,_s=0,Ba}function jB(){for(;Ma!==null;)IO(Ma)}function $B(){for(;Ma!==null&&!h7();)IO(Ma)}function IO(e){var t=LO(e.alternate,e,Kl);e.memoizedProps=e.pendingProps,t===null?OO(e):Ma=t,hE.current=null}function OO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DB(n,t),n!==null){n.flags&=32767,Ma=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Ma=null;return}}else if(n=RB(n,t,Kl),n!==null){Ma=n;return}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ba===0&&(Ba=5)}function TA(e,t,n){var i=Mi,s=Fu.transition;try{Fu.transition=null,Mi=1,VB(e,t,n,i)}finally{Fu.transition=s,Mi=i}return null}function VB(e,t,n,i){do k0();while(kh!==null);if(hi&6)throw Error(rn(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rn(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(w7(e,l),e===ts&&(Ma=ts=null,_s=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,RO(m_,function(){return k0(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Fu.transition,Fu.transition=null;var o=Mi;Mi=1;var x=hi;hi|=4,hE.current=null,BB(e,n),EO(n,e),uB(W3),y_=!!Q3,W3=Q3=null,e.current=n,zB(n),A7(),hi=x,Mi=o,Fu.transition=l}else e.current=n;if(f1&&(f1=!1,kh=e,R_=s),l=e.pendingLanes,l===0&&(Dh=null),g7(n.stateNode),Ml(e,ya()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(L_)throw L_=!1,e=AS,AS=null,e;return R_&1&&e.tag!==0&&k0(),l=e.pendingLanes,l&1?e===dS?xg++:(xg=0,dS=e):xg=0,Wh(),null}function k0(){if(kh!==null){var e=cI(R_),t=Fu.transition,n=Mi;try{if(Fu.transition=null,Mi=16>e?16:e,kh===null)var i=!1;else{if(e=kh,kh=null,R_=0,hi&6)throw Error(rn(331));var s=hi;for(hi|=4,In=e.current;In!==null;){var l=In,o=l.child;if(In.flags&16){var x=l.deletions;if(x!==null){for(var S=0;S<x.length;S++){var T=x[S];for(In=T;In!==null;){var M=In;switch(M.tag){case 0:case 11:case 15:vg(8,M,l)}var F=M.child;if(F!==null)F.return=M,In=F;else for(;In!==null;){M=In;var z=M.sibling,U=M.return;if(bO(M),M===T){In=null;break}if(z!==null){z.return=U,In=z;break}In=U}}}var q=l.alternate;if(q!==null){var K=q.child;if(K!==null){q.child=null;do{var ee=K.sibling;K.sibling=null,K=ee}while(K!==null)}}In=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,In=o;else e:for(;In!==null;){if(l=In,l.flags&2048)switch(l.tag){case 0:case 11:case 15:vg(9,l,l.return)}var V=l.sibling;if(V!==null){V.return=l.return,In=V;break e}In=l.return}}var X=e.current;for(In=X;In!==null;){o=In;var ne=o.child;if(o.subtreeFlags&2064&&ne!==null)ne.return=o,In=ne;else e:for(o=X;In!==null;){if(x=In,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:I2(9,x)}}catch(pe){oa(x,x.return,pe)}if(x===o){In=null;break e}var he=x.sibling;if(he!==null){he.return=x.return,In=he;break e}In=x.return}}if(hi=s,Wh(),wf&&typeof wf.onPostCommitFiberRoot=="function")try{wf.onPostCommitFiberRoot(b2,e)}catch{}i=!0}return i}finally{Mi=n,Fu.transition=t}}return!1}function fk(e,t,n){t=z0(n,t),t=fO(e,t,1),e=Rh(e,t,1),t=nl(),e!==null&&(dy(e,1,t),Ml(e,t))}function oa(e,t,n){if(e.tag===3)fk(e,e,n);else for(;t!==null;){if(t.tag===3){fk(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dh===null||!Dh.has(i))){e=z0(n,e),e=pO(t,e,1),t=Rh(t,e,1),e=nl(),t!==null&&(dy(t,1,e),Ml(t,e));break}}t=t.return}}function HB(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,ts===e&&(_s&n)===n&&(Ba===4||Ba===3&&(_s&130023424)===_s&&500>ya()-dE?BA(e,0):AE|=n),Ml(e,t)}function MO(e,t){t===0&&(e.mode&1?(t=t1,t1<<=1,!(t1&130023424)&&(t1=4194304)):t=1);var n=nl();e=Pp(e,t),e!==null&&(dy(e,t,n),Ml(e,n))}function qB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MO(e,n)}function GB(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(rn(314))}i!==null&&i.delete(t),MO(e,n)}var LO;LO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Il.current)Pl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pl=!1,LB(e,t,n);Pl=!!(e.flags&131072)}else Pl=!1,Oo&&t.flags&1048576&&FI(t,E_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;X1(e,t),e=t.pendingProps;var s=R0(t,zs.current);C0(t,n),s=lE(null,t,i,e,s,n);var l=uE();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ol(i)?(l=!0,w_(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rE(t),s.updater=T2,t.stateNode=s,s._reactInternals=t,rS(t,i,e,n),t=aS(null,t,i,!0,l,n)):(t.tag=0,Oo&&l&&Z4(t),tl(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(X1(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=WB(i),e=Cc(i,e),s){case 0:t=oS(null,t,i,e,n);break e;case 1:t=tk(null,t,i,e,n);break e;case 11:t=J5(null,t,i,e,n);break e;case 14:t=ek(null,t,i,Cc(i.type,e),n);break e}throw Error(rn(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Cc(i,s),oS(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Cc(i,s),tk(e,t,i,s,n);case 3:e:{if(mO(t),e===null)throw Error(rn(387));i=t.pendingProps,l=t.memoizedState,s=l.element,UI(e,t),T_(t,i,null,n);var o=t.memoizedState;if(i=o.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=z0(Error(rn(423)),t),t=nk(e,t,i,n,s);break e}else if(i!==s){s=z0(Error(rn(424)),t),t=nk(e,t,i,n,s);break e}else for(Zl=Lh(t.stateNode.containerInfo.firstChild),eu=t,Oo=!0,Tc=null,n=HI(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(D0(),i===s){t=Ip(e,t,n);break e}tl(e,t,i,n)}t=t.child}return t;case 5:return qI(t),e===null&&eS(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,K3(i,s)?o=null:l!==null&&K3(i,l)&&(t.flags|=32),dO(e,t),tl(e,t,o,n),t.child;case 6:return e===null&&eS(t),null;case 13:return gO(e,t,n);case 4:return iE(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=F0(t,null,i,n):tl(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Cc(i,s),J5(e,t,i,s,n);case 7:return tl(e,t,t.pendingProps,n),t.child;case 8:return tl(e,t,t.pendingProps.children,n),t.child;case 12:return tl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,uo(C_,i._currentValue),i._currentValue=o,l!==null)if(Rc(l.value,o)){if(l.children===s.children&&!Il.current){t=Ip(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var x=l.dependencies;if(x!==null){o=l.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(l.tag===1){S=Ep(-1,n&-n),S.tag=2;var T=l.updateQueue;if(T!==null){T=T.shared;var M=T.pending;M===null?S.next=S:(S.next=M.next,M.next=S),T.pending=S}}l.lanes|=n,S=l.alternate,S!==null&&(S.lanes|=n),tS(l.return,n,t),x.lanes|=n;break}S=S.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(rn(341));o.lanes|=n,x=o.alternate,x!==null&&(x.lanes|=n),tS(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}tl(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,C0(t,n),s=Nu(s),i=i(s),t.flags|=1,tl(e,t,i,n),t.child;case 14:return i=t.type,s=Cc(i,t.pendingProps),s=Cc(i.type,s),ek(e,t,i,s,n);case 15:return hO(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Cc(i,s),X1(e,t),t.tag=1,Ol(i)?(e=!0,w_(t)):e=!1,C0(t,n),$I(t,i,s),rS(t,i,s,n),aS(null,t,i,!0,e,n);case 19:return yO(e,t,n);case 22:return AO(e,t,n)}throw Error(rn(156,t.tag))};function RO(e,t){return aI(e,t)}function QB(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,i){return new QB(e,t,n,i)}function vE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WB(e){if(typeof e=="function")return vE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z4)return 11;if(e===N4)return 14}return 2}function Bh(e,t){var n=e.alternate;return n===null?(n=Du(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function e_(e,t,n,i,s,l){var o=2;if(i=e,typeof e=="function")vE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case s0:return zA(n.children,s,l,t);case B4:o=8,s|=8;break;case k3:return e=Du(12,n,t,s|2),e.elementType=k3,e.lanes=l,e;case T3:return e=Du(13,n,t,s),e.elementType=T3,e.lanes=l,e;case P3:return e=Du(19,n,t,s),e.elementType=P3,e.lanes=l,e;case VP:return M2(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jP:o=10;break e;case $P:o=9;break e;case z4:o=11;break e;case N4:o=14;break e;case vh:o=16,i=null;break e}throw Error(rn(130,e==null?e:typeof e,""))}return t=Du(o,n,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function zA(e,t,n,i){return e=Du(7,e,i,t),e.lanes=n,e}function M2(e,t,n,i){return e=Du(22,e,i,t),e.elementType=VP,e.lanes=n,e.stateNode={isHidden:!1},e}function bw(e,t,n){return e=Du(6,e,null,t),e.lanes=n,e}function ww(e,t,n){return t=Du(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KB(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rw(0),this.expirationTimes=rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rw(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _E(e,t,n,i,s,l,o,x,S){return e=new KB(e,t,n,x,S),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Du(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rE(l),e}function ZB(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a0,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function DO(e){if(!e)return $h;e=e._reactInternals;e:{if(YA(e)!==e||e.tag!==1)throw Error(rn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ol(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rn(171))}if(e.tag===1){var n=e.type;if(Ol(n))return RI(e,n,t)}return t}function FO(e,t,n,i,s,l,o,x,S){return e=_E(n,i,!0,e,s,l,o,x,S),e.context=DO(null),n=e.current,i=nl(),s=Fh(n),l=Ep(i,s),l.callback=t??null,Rh(n,l,s),e.current.lanes=s,dy(e,s,i),Ml(e,i),e}function L2(e,t,n,i){var s=t.current,l=nl(),o=Fh(s);return n=DO(n),t.context===null?t.context=n:t.pendingContext=n,t=Ep(l,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Rh(s,t,o),e!==null&&(Oc(e,s,o,l),W1(e,s,o)),o}function F_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xE(e,t){pk(e,t),(e=e.alternate)&&pk(e,t)}function XB(){return null}var BO=typeof reportError=="function"?reportError:function(e){console.error(e)};function bE(e){this._internalRoot=e}R2.prototype.render=bE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rn(409));L2(e,t,null,null)};R2.prototype.unmount=bE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;GA(function(){L2(null,e,null,null)}),t[Tp]=null}};function R2(e){this._internalRoot=e}R2.prototype.unstable_scheduleHydration=function(e){if(e){var t=hI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wh.length&&t!==0&&t<wh[n].priority;n++);wh.splice(n,0,e),n===0&&dI(e)}};function wE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function D2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hk(){}function YB(e,t,n,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var T=F_(o);l.call(T)}}var o=FO(t,i,e,0,null,!1,!1,"",hk);return e._reactRootContainer=o,e[Tp]=o.current,Ug(e.nodeType===8?e.parentNode:e),GA(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var T=F_(S);x.call(T)}}var S=_E(e,0,!1,null,null,!1,!1,"",hk);return e._reactRootContainer=S,e[Tp]=S.current,Ug(e.nodeType===8?e.parentNode:e),GA(function(){L2(t,S,n,i)}),S}function F2(e,t,n,i,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var x=s;s=function(){var S=F_(o);x.call(S)}}L2(t,o,e,s)}else o=YB(n,t,e,s,i);return F_(o)}fI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lg(t.pendingLanes);n!==0&&($4(t,n|1),Ml(t,ya()),!(hi&6)&&(N0=ya()+500,Wh()))}break;case 13:GA(function(){var i=Pp(e,1);if(i!==null){var s=nl();Oc(i,e,1,s)}}),xE(e,1)}};V4=function(e){if(e.tag===13){var t=Pp(e,134217728);if(t!==null){var n=nl();Oc(t,e,134217728,n)}xE(e,134217728)}};pI=function(e){if(e.tag===13){var t=Fh(e),n=Pp(e,t);if(n!==null){var i=nl();Oc(n,e,t,i)}xE(e,t)}};hI=function(){return Mi};AI=function(e,t){var n=Mi;try{return Mi=e,t()}finally{Mi=n}};N3=function(e,t,n){switch(t){case"input":if(M3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=C2(i);if(!s)throw Error(rn(90));qP(i),M3(i,s)}}}break;case"textarea":QP(e,n);break;case"select":t=n.value,t!=null&&b0(e,!!n.multiple,t,!1)}};eI=mE;tI=GA;var JB={usingClientEntryPoint:!1,Events:[gy,f0,C2,YP,JP,mE]},Hm={findFiberByHostInstance:RA,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e9={bundleType:Hm.bundleType,version:Hm.version,rendererPackageName:Hm.rendererPackageName,rendererConfig:Hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Op.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iI(e),e===null?null:e.stateNode},findFiberByHostInstance:Hm.findFiberByHostInstance||XB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{b2=p1.inject(e9),wf=p1}catch{}}nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JB;nu.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wE(t))throw Error(rn(200));return ZB(e,t,null,n)};nu.createRoot=function(e,t){if(!wE(e))throw Error(rn(299));var n=!1,i="",s=BO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_E(e,1,!1,null,null,n,!1,i,s),e[Tp]=t.current,Ug(e.nodeType===8?e.parentNode:e),new bE(t)};nu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rn(188)):(e=Object.keys(e).join(","),Error(rn(268,e)));return e=iI(t),e=e===null?null:e.stateNode,e};nu.flushSync=function(e){return GA(e)};nu.hydrate=function(e,t,n){if(!D2(t))throw Error(rn(200));return F2(null,e,t,!0,n)};nu.hydrateRoot=function(e,t,n){if(!wE(e))throw Error(rn(405));var i=n!=null&&n.hydratedSources||null,s=!1,l="",o=BO;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=FO(t,null,e,1,n??null,s,!1,l,o),e[Tp]=t.current,Ug(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new R2(t)};nu.render=function(e,t,n){if(!D2(t))throw Error(rn(200));return F2(null,e,t,!1,n)};nu.unmountComponentAtNode=function(e){if(!D2(e))throw Error(rn(40));return e._reactRootContainer?(GA(function(){F2(null,null,e,!1,function(){e._reactRootContainer=null,e[Tp]=null})}),!0):!1};nu.unstable_batchedUpdates=mE;nu.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!D2(n))throw Error(rn(200));if(e==null||e._reactInternals===void 0)throw Error(rn(38));return F2(e,t,n,!1,i)};nu.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=nu})(XF);const h1=x2(Og);var zO,Ak=Og;zO=S3.createRoot=Ak.createRoot,S3.hydrateRoot=Ak.hydrateRoot;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.getDomContainer=t9;function t9(e){if(!e)return dk();var t=document.querySelector(e);return t||(console.warn('Query selector "'.concat(e,`" doesn't match any existing DOM element. `)+"Are you using a custom HTML template? "+'Add an element matching "'.concat(e,'" to your template or change the containerQuerySelector setting.')),dk())}function dk(){return document.getElementById("root")||n9()}function n9(){var e=document.createElement("div");return e.setAttribute("id","root"),document.body.appendChild(e),e}var EE={},B_={},r9={get exports(){return B_},set exports(e){B_=e}},NO={},B2={},CE={},kE={},ns={},i9={get exports(){return ns},set exports(e){ns=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,i="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",x="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",T=500,M="__lodash_placeholder__",F=1,z=2,U=4,q=1,K=2,ee=1,V=2,X=4,ne=8,he=16,pe=32,le=64,be=128,Se=256,De=512,tt=30,Xe="...",at=800,yt=16,Ot=1,Vt=2,Jt=3,bn=1/0,st=9007199254740991,Me=17976931348623157e292,Le=0/0,re=4294967295,ge=re-1,Mt=re>>>1,en=[["ary",be],["bind",ee],["bindKey",V],["curry",ne],["curryRight",he],["flip",De],["partial",pe],["partialRight",le],["rearg",Se]],vn="[object Arguments]",dn="[object Array]",En="[object AsyncFunction]",jn="[object Boolean]",Fn="[object Date]",Xr="[object DOMException]",jr="[object Error]",Fi="[object Function]",$n="[object GeneratorFunction]",mi="[object Map]",gi="[object Number]",Go="[object Null]",Bi="[object Object]",Wi="[object Promise]",Ss="[object Proxy]",ro="[object RegExp]",Wr="[object Set]",Lo="[object String]",io="[object Symbol]",bi="[object Undefined]",Ro="[object WeakMap]",sa="[object WeakSet]",vt="[object ArrayBuffer]",we="[object DataView]",Je="[object Float32Array]",Et="[object Float64Array]",ln="[object Int8Array]",Gn="[object Int16Array]",Ir="[object Int32Array]",Mn="[object Uint8Array]",nr="[object Uint8ClampedArray]",$r="[object Uint16Array]",Yr="[object Uint32Array]",dr=/\b__p \+= '';/g,Eo=/\b(__p \+=) '' \+/g,Jr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,la=/&(?:amp|lt|gt|quot|#39);/g,La=/[&<>"']/g,Ht=RegExp(la.source),Ci=RegExp(La.source),zr=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ae=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/[\\^$.*+?()[\]{}|]/g,qe=RegExp(je.source),Ue=/^\s+/,xe=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,Qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,A=/[()=,{}\[\]\/\s]/,ye=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,xt=/^\[object .+?Constructor\]$/,hn=/^0o[0-7]+$/i,fn=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ar=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",mr="\\u0300-\\u036f",sr="\\ufe20-\\ufe2f",yr="\\u20d0-\\u20ff",Ai=mr+sr+yr,br="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",Ge="\\xac\\xb1\\xd7\\xf7",wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",al="\\u2000-\\u206f",zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oo="A-Z\\xc0-\\xd6\\xd8-\\xde",Qo="\\ufe0e\\ufe0f",Nc=Ge+wn+al+zc,Re="[']",ao="["+Rr+"]",as="["+Nc+"]",ua="["+Ai+"]",si="\\d+",ca="["+br+"]",Co="["+Xt+"]",Wo="[^"+Rr+Nc+si+br+Xt+oo+"]",ss="\\ud83c[\\udffb-\\udfff]",Mf="(?:"+ua+"|"+ss+")",zi="[^"+Rr+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",ls="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+oo+"]",Ni="\\u200d",Rl="(?:"+Co+"|"+Wo+")",Ku="(?:"+wi+"|"+Wo+")",Rp="(?:"+Re+"(?:d|ll|m|re|s|t|ve))?",Dp="(?:"+Re+"(?:D|LL|M|RE|S|T|VE))?",ci=Mf+"?",Uc="["+Qo+"]?",Lf="(?:"+Ni+"(?:"+[zi,ki,ls].join("|")+")"+Uc+ci+")*",Xh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zu=Uc+ci+Lf,Xu="(?:"+[ca,ki,ls].join("|")+")"+Zu,Dl="(?:"+[zi+ua+"?",ua,ki,ls,ao].join("|")+")",jc=RegExp(Re,"g"),$c=RegExp(ua,"g"),Yu=RegExp(ss+"(?="+ss+")|"+Dl+Zu,"g"),Ko=RegExp([wi+"?"+Co+"+"+Rp+"(?="+[as,wi,"$"].join("|")+")",Ku+"+"+Dp+"(?="+[as,wi+Rl,"$"].join("|")+")",wi+"?"+Rl+"+"+Rp,wi+"+"+Dp,Rf,Xh,si,Xu].join("|"),"g"),sl=RegExp("["+Ni+Rr+Ai+Qo+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ll=-1,Nr={};Nr[Je]=Nr[Et]=Nr[ln]=Nr[Gn]=Nr[Ir]=Nr[Mn]=Nr[nr]=Nr[$r]=Nr[Yr]=!0,Nr[vn]=Nr[dn]=Nr[vt]=Nr[jn]=Nr[we]=Nr[Fn]=Nr[jr]=Nr[Fi]=Nr[mi]=Nr[gi]=Nr[Bi]=Nr[ro]=Nr[Wr]=Nr[Lo]=Nr[Ro]=!1;var Qn={};Qn[vn]=Qn[dn]=Qn[vt]=Qn[we]=Qn[jn]=Qn[Fn]=Qn[Je]=Qn[Et]=Qn[ln]=Qn[Gn]=Qn[Ir]=Qn[mi]=Qn[gi]=Qn[Bi]=Qn[ro]=Qn[Wr]=Qn[Lo]=Qn[io]=Qn[Mn]=Qn[nr]=Qn[$r]=Qn[Yr]=!0,Qn[jr]=Qn[Fi]=Qn[Ro]=!1;var Do={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},kr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},au={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Df={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hc=parseFloat,Fp=parseInt,su=typeof Ru=="object"&&Ru&&Ru.Object===Object&&Ru,lu=typeof self=="object"&&self&&self.Object===Object&&self,yi=su||lu||Function("return this")(),uu=t&&!t.nodeType&&t,Us=uu&&!0&&e&&!e.nodeType&&e,cu=Us&&Us.exports===uu,js=cu&&su.process,Ti=function(){try{var rt=Us&&Us.require&&Us.require("util").types;return rt||js&&js.binding&&js.binding("util")}catch{}}(),Fl=Ti&&Ti.isArrayBuffer,qc=Ti&&Ti.isDate,Ki=Ti&&Ti.isMap,Gc=Ti&&Ti.isRegExp,$s=Ti&&Ti.isSet,Cs=Ti&&Ti.isTypedArray;function co(rt,Pt,_t){switch(_t.length){case 0:return rt.call(Pt);case 1:return rt.call(Pt,_t[0]);case 2:return rt.call(Pt,_t[0],_t[1]);case 3:return rt.call(Pt,_t[0],_t[1],_t[2])}return rt.apply(Pt,_t)}function Bl(rt,Pt,_t,qt){for(var er=-1,wr=rt==null?0:rt.length;++er<wr;){var ti=rt[er];Pt(qt,ti,_t(ti),rt)}return qt}function fo(rt,Pt){for(var _t=-1,qt=rt==null?0:rt.length;++_t<qt&&Pt(rt[_t],_t,rt)!==!1;);return rt}function us(rt,Pt){for(var _t=rt==null?0:rt.length;_t--&&Pt(rt[_t],_t,rt)!==!1;);return rt}function ul(rt,Pt){for(var _t=-1,qt=rt==null?0:rt.length;++_t<qt;)if(!Pt(rt[_t],_t,rt))return!1;return!0}function Zo(rt,Pt){for(var _t=-1,qt=rt==null?0:rt.length,er=0,wr=[];++_t<qt;){var ti=rt[_t];Pt(ti,_t,rt)&&(wr[er++]=ti)}return wr}function fu(rt,Pt){var _t=rt==null?0:rt.length;return!!_t&&zl(rt,Pt,0)>-1}function Dr(rt,Pt,_t){for(var qt=-1,er=rt==null?0:rt.length;++qt<er;)if(_t(Pt,rt[qt]))return!0;return!1}function ei(rt,Pt){for(var _t=-1,qt=rt==null?0:rt.length,er=Array(qt);++_t<qt;)er[_t]=Pt(rt[_t],_t,rt);return er}function Ua(rt,Pt){for(var _t=-1,qt=Pt.length,er=rt.length;++_t<qt;)rt[er+_t]=Pt[_t];return rt}function Ju(rt,Pt,_t,qt){var er=-1,wr=rt==null?0:rt.length;for(qt&&wr&&(_t=rt[++er]);++er<wr;)_t=Pt(_t,rt[er],er,rt);return _t}function pu(rt,Pt,_t,qt){var er=rt==null?0:rt.length;for(qt&&er&&(_t=rt[--er]);er--;)_t=Pt(_t,rt[er],er,rt);return _t}function Vs(rt,Pt){for(var _t=-1,qt=rt==null?0:rt.length;++_t<qt;)if(Pt(rt[_t],_t,rt))return!0;return!1}var Bp=tc("length");function ec(rt){return rt.split("")}function cl(rt){return rt.match(Qe)||[]}function Hs(rt,Pt,_t){var qt;return _t(rt,function(er,wr,ti){if(Pt(er,wr,ti))return qt=wr,!1}),qt}function qs(rt,Pt,_t,qt){for(var er=rt.length,wr=_t+(qt?1:-1);qt?wr--:++wr<er;)if(Pt(rt[wr],wr,rt))return wr;return-1}function zl(rt,Pt,_t){return Pt===Pt?Xo(rt,Pt,_t):qs(rt,Qc,_t)}function zp(rt,Pt,_t,qt){for(var er=_t-1,wr=rt.length;++er<wr;)if(qt(rt[er],Pt))return er;return-1}function Qc(rt){return rt!==rt}function fl(rt,Pt){var _t=rt==null?0:rt.length;return _t?nc(rt,Pt)/_t:Le}function tc(rt){return function(Pt){return Pt==null?n:Pt[rt]}}function _a(rt){return function(Pt){return rt==null?n:rt[Pt]}}function Nl(rt,Pt,_t,qt,er){return er(rt,function(wr,ti,Ln){_t=qt?(qt=!1,wr):Pt(_t,wr,ti,Ln)}),_t}function Wc(rt,Pt){var _t=rt.length;for(rt.sort(Pt);_t--;)rt[_t]=rt[_t].value;return rt}function nc(rt,Pt){for(var _t,qt=-1,er=rt.length;++qt<er;){var wr=Pt(rt[qt]);wr!==n&&(_t=_t===n?wr:_t+wr)}return _t}function Vr(rt,Pt){for(var _t=-1,qt=Array(rt);++_t<rt;)qt[_t]=Pt(_t);return qt}function Kc(rt,Pt){return ei(Pt,function(_t){return[_t,rt[_t]]})}function Ff(rt){return rt&&rt.slice(0,fs(rt)+1).replace(Ue,"")}function ko(rt){return function(Pt){return rt(Pt)}}function Zc(rt,Pt){return ei(Pt,function(_t){return rt[_t]})}function hu(rt,Pt){return rt.has(Pt)}function pl(rt,Pt){for(var _t=-1,qt=rt.length;++_t<qt&&zl(Pt,rt[_t],0)>-1;);return _t}function Bf(rt,Pt){for(var _t=rt.length;_t--&&zl(Pt,rt[_t],0)>-1;);return _t}function po(rt,Pt){for(var _t=rt.length,qt=0;_t--;)rt[_t]===Pt&&++qt;return qt}var Ui=_a(Do),Xc=_a(kr);function rc(rt){return"\\"+Df[rt]}function Au(rt,Pt){return rt==null?n:rt[Pt]}function hl(rt){return sl.test(rt)}function ic(rt){return Es.test(rt)}function Si(rt){for(var Pt,_t=[];!(Pt=rt.next()).done;)_t.push(Pt.value);return _t}function du(rt){var Pt=-1,_t=Array(rt.size);return rt.forEach(function(qt,er){_t[++Pt]=[er,qt]}),_t}function ks(rt,Pt){return function(_t){return rt(Pt(_t))}}function Ts(rt,Pt){for(var _t=-1,qt=rt.length,er=0,wr=[];++_t<qt;){var ti=rt[_t];(ti===Pt||ti===M)&&(rt[_t]=M,wr[er++]=_t)}return wr}function ja(rt){var Pt=-1,_t=Array(rt.size);return rt.forEach(function(qt){_t[++Pt]=qt}),_t}function oc(rt){var Pt=-1,_t=Array(rt.size);return rt.forEach(function(qt){_t[++Pt]=[qt,qt]}),_t}function Xo(rt,Pt,_t){for(var qt=_t-1,er=rt.length;++qt<er;)if(rt[qt]===Pt)return qt;return-1}function Np(rt,Pt,_t){for(var qt=_t+1;qt--;)if(rt[qt]===Pt)return qt;return qt}function cs(rt){return hl(rt)?Up(rt):Bp(rt)}function fa(rt){return hl(rt)?zf(rt):ec(rt)}function fs(rt){for(var Pt=rt.length;Pt--&&xe.test(rt.charAt(Pt)););return Pt}var Gs=_a(au);function Up(rt){for(var Pt=Yu.lastIndex=0;Yu.test(rt);)++Pt;return Pt}function zf(rt){return rt.match(Yu)||[]}function Yc(rt){return rt.match(Ko)||[]}var mu=function rt(Pt){Pt=Pt==null?yi:Qs.defaults(yi.Object(),Pt,Qs.pick(yi,Vc));var _t=Pt.Array,qt=Pt.Date,er=Pt.Error,wr=Pt.Function,ti=Pt.Math,Ln=Pt.Object,ur=Pt.RegExp,Ul=Pt.String,ji=Pt.TypeError,gu=_t.prototype,xa=wr.prototype,ps=Ln.prototype,Jc=Pt["__core-js_shared__"],Al=xa.toString,Ur=ps.hasOwnProperty,ac=0,To=function(){var d=/[^.]+$/.exec(Jc&&Jc.keys&&Jc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ho=ps.toString,Nf=Al.call(Ln),Zi=yi._,ba=ur("^"+Al.call(Ur).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),an=cu?Pt.Buffer:n,$a=Pt.Symbol,Ws=Pt.Uint8Array,Ks=an?an.allocUnsafe:n,Fo=ks(Ln.getPrototypeOf,Ln),yu=Ln.create,Yo=ps.propertyIsEnumerable,un=gu.splice,sc=$a?$a.isConcatSpreadable:n,Zs=$a?$a.iterator:n,Ao=$a?$a.toStringTag:n,Sr=function(){try{var d=cf(Ln,"defineProperty");return d({},"",{}),d}catch{}}(),ef=Pt.clearTimeout!==yi.clearTimeout&&Pt.clearTimeout,jp=qt&&qt.now!==yi.Date.now&&qt.now,Uf=Pt.setTimeout!==yi.setTimeout&&Pt.setTimeout,mo=ti.ceil,Va=ti.floor,jl=Ln.getOwnPropertySymbols,tf=an?an.isBuffer:n,nf=Pt.isFinite,hs=gu.join,$p=ks(Ln.keys,Ln),rr=ti.max,Wn=ti.min,pa=qt.now,Pi=Pt.parseInt,Bn=ti.random,Bo=gu.reverse,Ha=cf(Pt,"DataView"),Jo=cf(Pt,"Map"),ea=cf(Pt,"Promise"),qa=cf(Pt,"Set"),Wt=cf(Pt,"WeakMap"),dt=cf(Ln,"create"),Yt=Wt&&new Wt,Po={},Ga=hf(Ha),zo=hf(Jo),$i=hf(ea),Vp=hf(qa),ta=hf(Wt),h=$a?$a.prototype:n,m=h?h.valueOf:n,v=h?h.toString:n;function _(d){if(Qi(d)&&!Xn(d)&&!(d instanceof N)){if(d instanceof I)return d;if(Ur.call(d,"__wrapped__"))return lv(d)}return new I(d)}var k=function(){function d(){}return function(w){if(!pi(w))return{};if(yu)return yu(w);d.prototype=w;var R=new d;return d.prototype=n,R}}();function O(){}function I(d,w){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}_.templateSettings={escape:zr,evaluate:J,interpolate:ae,variable:"",imports:{_}},_.prototype=O.prototype,_.prototype.constructor=_,I.prototype=k(O.prototype),I.prototype.constructor=I;function N(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Q(){var d=new N(this.__wrapped__);return d.__actions__=Is(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Is(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Is(this.__views__),d}function ie(){if(this.__filtered__){var d=new N(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function ce(){var d=this.__wrapped__.value(),w=this.__dir__,R=Xn(d),H=w<0,se=R?d.length:0,Ee=pb(0,se,this.__views__),$e=Ee.start,Ye=Ee.end,ut=Ye-$e,Dt=H?Ye:$e-1,Bt=this.__iteratees__,Gt=Bt.length,Sn=0,Nn=Wn(ut,this.__takeCount__);if(!R||!H&&se==ut&&Nn==ut)return tA(d,this.__actions__);var or=[];e:for(;ut--&&Sn<Nn;){Dt+=w;for(var Fr=-1,ar=d[Dt];++Fr<Gt;){var Gr=Bt[Fr],ii=Gr.iteratee,Hl=Gr.type,Js=ii(ar);if(Hl==Vt)ar=Js;else if(!Js){if(Hl==Ot)continue e;break e}}or[Sn++]=ar}return or}N.prototype=k(O.prototype),N.prototype.constructor=N;function Be(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function Ke(){this.__data__=dt?dt(null):{},this.size=0}function ot(d){var w=this.has(d)&&delete this.__data__[d];return this.size-=w?1:0,w}function bt(d){var w=this.__data__;if(dt){var R=w[d];return R===S?n:R}return Ur.call(w,d)?w[d]:n}function Ct(d){var w=this.__data__;return dt?w[d]!==n:Ur.call(w,d)}function Nt(d,w){var R=this.__data__;return this.size+=this.has(d)?0:1,R[d]=dt&&w===n?S:w,this}Be.prototype.clear=Ke,Be.prototype.delete=ot,Be.prototype.get=bt,Be.prototype.has=Ct,Be.prototype.set=Nt;function cn(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function mt(){this.__data__=[],this.size=0}function Rt(d){var w=this.__data__,R=At(w,d);if(R<0)return!1;var H=w.length-1;return R==H?w.pop():un.call(w,R,1),--this.size,!0}function Ze(d){var w=this.__data__,R=At(w,d);return R<0?n:w[R][1]}function _n(d){return At(this.__data__,d)>-1}function xn(d,w){var R=this.__data__,H=At(R,d);return H<0?(++this.size,R.push([d,w])):R[H][1]=w,this}cn.prototype.clear=mt,cn.prototype.delete=Rt,cn.prototype.get=Ze,cn.prototype.has=_n,cn.prototype.set=xn;function Kt(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function c(){this.size=0,this.__data__={hash:new Be,map:new(Jo||cn),string:new Be}}function p(d){var w=Kf(this,d).delete(d);return this.size-=w?1:0,w}function f(d){return Kf(this,d).get(d)}function y(d){return Kf(this,d).has(d)}function C(d,w){var R=Kf(this,d),H=R.size;return R.set(d,w),this.size+=R.size==H?0:1,this}Kt.prototype.clear=c,Kt.prototype.delete=p,Kt.prototype.get=f,Kt.prototype.has=y,Kt.prototype.set=C;function L(d){var w=-1,R=d==null?0:d.length;for(this.__data__=new Kt;++w<R;)this.add(d[w])}function D(d){return this.__data__.set(d,S),this}function j(d){return this.__data__.has(d)}L.prototype.add=L.prototype.push=D,L.prototype.has=j;function G(d){var w=this.__data__=new cn(d);this.size=w.size}function te(){this.__data__=new cn,this.size=0}function de(d){var w=this.__data__,R=w.delete(d);return this.size=w.size,R}function _e(d){return this.__data__.get(d)}function me(d){return this.__data__.has(d)}function Oe(d,w){var R=this.__data__;if(R instanceof cn){var H=R.__data__;if(!Jo||H.length<s-1)return H.push([d,w]),this.size=++R.size,this;R=this.__data__=new Kt(H)}return R.set(d,w),this.size=R.size,this}G.prototype.clear=te,G.prototype.delete=de,G.prototype.get=_e,G.prototype.has=me,G.prototype.set=Oe;function Pe(d,w){var R=Xn(d),H=!R&&fr(d),se=!R&&!H&&ma(d),Ee=!R&&!H&&!se&&$l(d),$e=R||H||se||Ee,Ye=$e?Vr(d.length,Ul):[],ut=Ye.length;for(var Dt in d)(w||Ur.call(d,Dt))&&!($e&&(Dt=="length"||se&&(Dt=="offset"||Dt=="parent")||Ee&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||_l(Dt,ut)))&&Ye.push(Dt);return Ye}function Ne(d){var w=d.length;return w?d[rm(0,w-1)]:n}function Te(d,w){return aA(Is(d),tn(w,0,d.length))}function ze(d){return aA(Is(d))}function We(d,w,R){(R!==n&&!Tr(d[w],R)||R===n&&!(w in d))&&zt(d,w,R)}function et(d,w,R){var H=d[w];(!(Ur.call(d,w)&&Tr(H,R))||R===n&&!(w in d))&&zt(d,w,R)}function At(d,w){for(var R=d.length;R--;)if(Tr(d[R][0],w))return R;return-1}function ht(d,w,R,H){return Rn(d,function(se,Ee,$e){w(H,se,R(se),$e)}),H}function gt(d,w){return d&&bu(w,Ta(w),d)}function Tt(d,w){return d&&bu(w,ms(w),d)}function zt(d,w,R){w=="__proto__"&&Sr?Sr(d,w,{configurable:!0,enumerable:!0,value:R,writable:!0}):d[w]=R}function Ft(d,w){for(var R=-1,H=w.length,se=_t(H),Ee=d==null;++R<H;)se[R]=Ee?n:Fd(d,w[R]);return se}function tn(d,w,R){return d===d&&(R!==n&&(d=d<=R?d:R),w!==n&&(d=d>=w?d:w)),d}function mn(d,w,R,H,se,Ee){var $e,Ye=w&F,ut=w&z,Dt=w&U;if(R&&($e=se?R(d,H,se,Ee):R(d)),$e!==n)return $e;if(!pi(d))return d;var Bt=Xn(d);if(Bt){if($e=Ab(d),!Ye)return Is(d,$e)}else{var Gt=Wa(d),Sn=Gt==Fi||Gt==$n;if(ma(d))return hd(d,Ye);if(Gt==Bi||Gt==vn||Sn&&!se){if($e=ut||Sn?{}:nv(d),!Ye)return ut?Gy(d,Tt($e,d)):sb(d,gt($e,d))}else{if(!Qn[Gt])return se?d:{};$e=db(d,Gt,Ye)}}Ee||(Ee=new G);var Nn=Ee.get(d);if(Nn)return Nn;Ee.set(d,$e),gA(d)?d.forEach(function(ar){$e.add(mn(ar,w,R,ar,d,Ee))}):op(d)&&d.forEach(function(ar,Gr){$e.set(Gr,mn(ar,w,R,Gr,d,Ee))});var or=Dt?ut?dm:yd:ut?ms:Ta,Fr=Bt?n:or(d);return fo(Fr||d,function(ar,Gr){Fr&&(Gr=ar,ar=d[Gr]),et($e,Gr,mn(ar,w,R,Gr,d,Ee))}),$e}function Pn(d){var w=Ta(d);return function(R){return kn(R,d,w)}}function kn(d,w,R){var H=R.length;if(d==null)return!H;for(d=Ln(d);H--;){var se=R[H],Ee=w[se],$e=d[se];if($e===n&&!(se in d)||!Ee($e))return!1}return!0}function vr(d,w,R){if(typeof d!="function")throw new ji(o);return Jp(function(){d.apply(n,R)},w)}function pn(d,w,R,H){var se=-1,Ee=fu,$e=!0,Ye=d.length,ut=[],Dt=w.length;if(!Ye)return ut;R&&(w=ei(w,ko(R))),H?(Ee=Dr,$e=!1):w.length>=s&&(Ee=hu,$e=!1,w=new L(w));e:for(;++se<Ye;){var Bt=d[se],Gt=R==null?Bt:R(Bt);if(Bt=H||Bt!==0?Bt:0,$e&&Gt===Gt){for(var Sn=Dt;Sn--;)if(w[Sn]===Gt)continue e;ut.push(Bt)}else Ee(w,Gt,H)||ut.push(Bt)}return ut}var Rn=Qy(Ii),tr=Qy(so,!0);function Vn(d,w){var R=!0;return Rn(d,function(H,se,Ee){return R=!!w(H,se,Ee),R}),R}function zn(d,w,R){for(var H=-1,se=d.length;++H<se;){var Ee=d[H],$e=w(Ee);if($e!=null&&(Ye===n?$e===$e&&!Za($e):R($e,Ye)))var Ye=$e,ut=Ee}return ut}function Un(d,w,R,H){var se=d.length;for(R=xr(R),R<0&&(R=-R>se?0:se+R),H=H===n||H>se?se:xr(H),H<0&&(H+=se),H=R>H?0:Od(H);R<H;)d[R++]=w;return d}function Dn(d,w){var R=[];return Rn(d,function(H,se,Ee){w(H,se,Ee)&&R.push(H)}),R}function An(d,w,R,H,se){var Ee=-1,$e=d.length;for(R||(R=gb),se||(se=[]);++Ee<$e;){var Ye=d[Ee];w>0&&R(Ye)?w>1?An(Ye,w-1,R,H,se):Ua(se,Ye):H||(se[se.length]=Ye)}return se}var Hr=um(),Vi=um(!0);function Ii(d,w){return d&&Hr(d,w,Ta)}function so(d,w){return d&&Vi(d,w,Ta)}function Xi(d,w){return Zo(w,function(R){return Ys(d[R])})}function fi(d,w){w=fc(w,d);for(var R=0,H=w.length;d!=null&&R<H;)d=d[xl(w[R++])];return R&&R==H?d:n}function na(d,w,R){var H=w(d);return Xn(d)?H:Ua(H,R(d))}function Hi(d){return d==null?d===n?bi:Go:Ao&&Ao in Ln(d)?dc(d):_d(d)}function ra(d,w){return d>w}function wa(d,w){return d!=null&&Ur.call(d,w)}function dl(d,w){return d!=null&&w in Ln(d)}function As(d,w,R){return d>=Wn(w,R)&&d<rr(w,R)}function jf(d,w,R){for(var H=R?Dr:fu,se=d[0].length,Ee=d.length,$e=Ee,Ye=_t(Ee),ut=1/0,Dt=[];$e--;){var Bt=d[$e];$e&&w&&(Bt=ei(Bt,ko(w))),ut=Wn(Bt.length,ut),Ye[$e]=!R&&(w||se>=120&&Bt.length>=120)?new L($e&&Bt):n}Bt=d[0];var Gt=-1,Sn=Ye[0];e:for(;++Gt<se&&Dt.length<ut;){var Nn=Bt[Gt],or=w?w(Nn):Nn;if(Nn=R||Nn!==0?Nn:0,!(Sn?hu(Sn,or):H(Dt,or,R))){for($e=Ee;--$e;){var Fr=Ye[$e];if(!(Fr?hu(Fr,or):H(d[$e],or,R)))continue e}Sn&&Sn.push(or),Dt.push(Nn)}}return Dt}function vu(d,w,R,H){return Ii(d,function(se,Ee,$e){w(H,R(se),Ee,$e)}),H}function ml(d,w,R){w=fc(w,d),d=Ka(d,w);var H=d==null?d:d[xl(bl(w))];return H==null?n:co(H,d,R)}function _u(d){return Qi(d)&&Hi(d)==vn}function $f(d){return Qi(d)&&Hi(d)==vt}function rf(d){return Qi(d)&&Hi(d)==Fn}function Qa(d,w,R,H,se){return d===w?!0:d==null||w==null||!Qi(d)&&!Qi(w)?d!==d&&w!==w:of(d,w,R,H,Qa,se)}function of(d,w,R,H,se,Ee){var $e=Xn(d),Ye=Xn(w),ut=$e?dn:Wa(d),Dt=Ye?dn:Wa(w);ut=ut==vn?Bi:ut,Dt=Dt==vn?Bi:Dt;var Bt=ut==Bi,Gt=Dt==Bi,Sn=ut==Dt;if(Sn&&ma(d)){if(!ma(w))return!1;$e=!0,Bt=!1}if(Sn&&!Bt)return Ee||(Ee=new G),$e||$l(d)?Am(d,w,R,H,se,Ee):cb(d,w,ut,R,H,se,Ee);if(!(R&q)){var Nn=Bt&&Ur.call(d,"__wrapped__"),or=Gt&&Ur.call(w,"__wrapped__");if(Nn||or){var Fr=Nn?d.value():d,ar=or?w.value():w;return Ee||(Ee=new G),se(Fr,ar,R,H,Ee)}}return Sn?(Ee||(Ee=new G),fb(d,w,R,H,se,Ee)):!1}function go(d){return Qi(d)&&Wa(d)==mi}function Xs(d,w,R,H){var se=R.length,Ee=se,$e=!H;if(d==null)return!Ee;for(d=Ln(d);se--;){var Ye=R[se];if($e&&Ye[2]?Ye[1]!==d[Ye[0]]:!(Ye[0]in d))return!1}for(;++se<Ee;){Ye=R[se];var ut=Ye[0],Dt=d[ut],Bt=Ye[1];if($e&&Ye[2]){if(Dt===n&&!(ut in d))return!1}else{var Gt=new G;if(H)var Sn=H(Dt,Bt,ut,d,w,Gt);if(!(Sn===n?Qa(Bt,Dt,q|K,H,Gt):Sn))return!1}}return!0}function Ps(d){if(!pi(d)||vb(d))return!1;var w=Ys(d)?ba:xt;return w.test(hf(d))}function lc(d){return Qi(d)&&Hi(d)==ro}function Yi(d){return Qi(d)&&Wa(d)==Wr}function qi(d){return Qi(d)&&ip(d.length)&&!!Nr[Hi(d)]}function ha(d){return typeof d=="function"?d:d==null?Sl:typeof d=="object"?Xn(d)?Jh(d[0],d[1]):Hf(d):r5(d)}function uc(d){if(!pf(d))return $p(d);var w=[];for(var R in Ln(d))Ur.call(d,R)&&R!="constructor"&&w.push(R);return w}function Hp(d){if(!pi(d))return Ea(d);var w=pf(d),R=[];for(var H in d)H=="constructor"&&(w||!Ur.call(d,H))||R.push(H);return R}function Yh(d,w){return d<w}function Vf(d,w){var R=-1,H=xo(d)?_t(d.length):[];return Rn(d,function(se,Ee,$e){H[++R]=w(se,Ee,$e)}),H}function Hf(d){var w=ni(d);return w.length==1&&w[0][2]?Xp(w[0][0],w[0][1]):function(R){return R===d||Xs(R,d,w)}}function Jh(d,w){return vd(d)&&Zp(w)?Xp(xl(d),w):function(R){var H=Fd(R,d);return H===n&&H===w?Xa(R,d):Qa(w,H,q|K)}}function xu(d,w,R,H,se){d!==w&&Hr(w,function(Ee,$e){if(se||(se=new G),pi(Ee))qf(d,w,$e,R,xu,H,se);else{var Ye=H?H(xd(d,$e),Ee,$e+"",d,w,se):n;Ye===n&&(Ye=Ee),We(d,$e,Ye)}},ms)}function qf(d,w,R,H,se,Ee,$e){var Ye=xd(d,R),ut=xd(w,R),Dt=$e.get(ut);if(Dt){We(d,R,Dt);return}var Bt=Ee?Ee(Ye,ut,R+"",d,w,$e):n,Gt=Bt===n;if(Gt){var Sn=Xn(ut),Nn=!Sn&&ma(ut),or=!Sn&&!Nn&&$l(ut);Bt=ut,Sn||Nn||or?Xn(Ye)?Bt=Ye:pr(Ye)?Bt=Is(Ye):Nn?(Gt=!1,Bt=hd(ut,!0)):or?(Gt=!1,Bt=Hy(ut,!0)):Bt=[]:yc(ut)||fr(ut)?(Bt=Ye,fr(Ye)?Bt=fh(Ye):(!pi(Ye)||Ys(Ye))&&(Bt=nv(ut))):Gt=!1}Gt&&($e.set(ut,Bt),se(Bt,ut,H,Ee,$e),$e.delete(ut)),We(d,R,Bt)}function nm(d,w){var R=d.length;if(R)return w+=w<0?R:0,_l(w,R)?d[w]:n}function sd(d,w,R){w.length?w=ei(w,function(Ee){return Xn(Ee)?function($e){return fi($e,Ee.length===1?Ee[0]:Ee)}:Ee}):w=[Sl];var H=-1;w=ei(w,ko(Kn()));var se=Vf(d,function(Ee,$e,Ye){var ut=ei(w,function(Dt){return Dt(Ee)});return{criteria:ut,index:++H,value:Ee}});return Wc(se,function(Ee,$e){return lm(Ee,$e,R)})}function Gf(d,w){return Ra(d,w,function(R,H){return Xa(d,H)})}function Ra(d,w,R){for(var H=-1,se=w.length,Ee={};++H<se;){var $e=w[H],Ye=fi(d,$e);R(Ye,$e)&&qp(Ee,fc($e,d),Ye)}return Ee}function tb(d){return function(w){return fi(w,d)}}function ld(d,w,R,H){var se=H?zp:zl,Ee=-1,$e=w.length,Ye=d;for(d===w&&(w=Is(w)),R&&(Ye=ei(d,ko(R)));++Ee<$e;)for(var ut=0,Dt=w[Ee],Bt=R?R(Dt):Dt;(ut=se(Ye,Bt,ut,H))>-1;)Ye!==d&&un.call(Ye,ut,1),un.call(d,ut,1);return d}function Ny(d,w){for(var R=d?w.length:0,H=R-1;R--;){var se=w[R];if(R==H||se!==Ee){var Ee=se;_l(se)?un.call(d,se,1):sf(d,se)}}return d}function rm(d,w){return d+Va(Bn()*(w-d+1))}function nb(d,w,R,H){for(var se=-1,Ee=rr(mo((w-d)/(R||1)),0),$e=_t(Ee);Ee--;)$e[H?Ee:++se]=d,d+=R;return $e}function im(d,w){var R="";if(!d||w<1||w>st)return R;do w%2&&(R+=d),w=Va(w/2),w&&(d+=d);while(w);return R}function Er(d,w){return oA(iA(d,w,Sl),d+"")}function rb(d){return Ne(cp(d))}function ud(d,w){var R=cp(d);return aA(R,tn(w,0,R.length))}function qp(d,w,R,H){if(!pi(d))return d;w=fc(w,d);for(var se=-1,Ee=w.length,$e=Ee-1,Ye=d;Ye!=null&&++se<Ee;){var ut=xl(w[se]),Dt=R;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return d;if(se!=$e){var Bt=Ye[ut];Dt=H?H(Bt,ut,Ye):n,Dt===n&&(Dt=pi(Bt)?Bt:_l(w[se+1])?[]:{})}et(Ye,ut,Dt),Ye=Ye[ut]}return d}var cc=Yt?function(d,w){return Yt.set(d,w),d}:Sl,eA=Sr?function(d,w){return Sr(d,"toString",{configurable:!0,enumerable:!1,value:Gb(w),writable:!0})}:Sl;function ib(d){return aA(cp(d))}function gl(d,w,R){var H=-1,se=d.length;w<0&&(w=-w>se?0:se+w),R=R>se?se:R,R<0&&(R+=se),se=w>R?0:R-w>>>0,w>>>=0;for(var Ee=_t(se);++H<se;)Ee[H]=d[H+w];return Ee}function ob(d,w){var R;return Rn(d,function(H,se,Ee){return R=w(H,se,Ee),!R}),!!R}function cd(d,w,R){var H=0,se=d==null?H:d.length;if(typeof w=="number"&&w===w&&se<=Mt){for(;H<se;){var Ee=H+se>>>1,$e=d[Ee];$e!==null&&!Za($e)&&(R?$e<=w:$e<w)?H=Ee+1:se=Ee}return se}return om(d,w,Sl,R)}function om(d,w,R,H){var se=0,Ee=d==null?0:d.length;if(Ee===0)return 0;w=R(w);for(var $e=w!==w,Ye=w===null,ut=Za(w),Dt=w===n;se<Ee;){var Bt=Va((se+Ee)/2),Gt=R(d[Bt]),Sn=Gt!==n,Nn=Gt===null,or=Gt===Gt,Fr=Za(Gt);if($e)var ar=H||or;else Dt?ar=or&&(H||Sn):Ye?ar=or&&Sn&&(H||!Nn):ut?ar=or&&Sn&&!Nn&&(H||!Fr):Nn||Fr?ar=!1:ar=H?Gt<=w:Gt<w;ar?se=Bt+1:Ee=Bt}return Wn(Ee,ge)}function Uy(d,w){for(var R=-1,H=d.length,se=0,Ee=[];++R<H;){var $e=d[R],Ye=w?w($e):$e;if(!R||!Tr(Ye,ut)){var ut=Ye;Ee[se++]=$e===0?0:$e}}return Ee}function jy(d){return typeof d=="number"?d:Za(d)?Le:+d}function ds(d){if(typeof d=="string")return d;if(Xn(d))return ei(d,ds)+"";if(Za(d))return v?v.call(d):"";var w=d+"";return w=="0"&&1/d==-bn?"-0":w}function af(d,w,R){var H=-1,se=fu,Ee=d.length,$e=!0,Ye=[],ut=Ye;if(R)$e=!1,se=Dr;else if(Ee>=s){var Dt=w?null:ev(d);if(Dt)return ja(Dt);$e=!1,se=hu,ut=new L}else ut=w?[]:Ye;e:for(;++H<Ee;){var Bt=d[H],Gt=w?w(Bt):Bt;if(Bt=R||Bt!==0?Bt:0,$e&&Gt===Gt){for(var Sn=ut.length;Sn--;)if(ut[Sn]===Gt)continue e;w&&ut.push(Gt),Ye.push(Bt)}else se(ut,Gt,R)||(ut!==Ye&&ut.push(Gt),Ye.push(Bt))}return Ye}function sf(d,w){return w=fc(w,d),d=Ka(d,w),d==null||delete d[xl(bl(w))]}function $y(d,w,R,H){return qp(d,w,R(fi(d,w)),H)}function Gi(d,w,R,H){for(var se=d.length,Ee=H?se:-1;(H?Ee--:++Ee<se)&&w(d[Ee],Ee,d););return R?gl(d,H?0:Ee,H?Ee+1:se):gl(d,H?Ee+1:0,H?se:Ee)}function tA(d,w){var R=d;return R instanceof N&&(R=R.value()),Ju(w,function(H,se){return se.func.apply(se.thisArg,Ua([H],se.args))},R)}function fd(d,w,R){var H=d.length;if(H<2)return H?af(d[0]):[];for(var se=-1,Ee=_t(H);++se<H;)for(var $e=d[se],Ye=-1;++Ye<H;)Ye!=se&&(Ee[se]=pn(Ee[se]||$e,d[Ye],w,R));return af(An(Ee,1),w,R)}function nA(d,w,R){for(var H=-1,se=d.length,Ee=w.length,$e={};++H<se;){var Ye=H<Ee?w[H]:n;R($e,d[H],Ye)}return $e}function Gp(d){return pr(d)?d:[]}function Qf(d){return typeof d=="function"?d:Sl}function fc(d,w){return Xn(d)?d:vd(d,w)?[d]:Zf(Pr(d))}var Vy=Er;function yl(d,w,R){var H=d.length;return R=R===n?H:R,!w&&R>=H?d:gl(d,w,R)}var pd=ef||function(d){return yi.clearTimeout(d)};function hd(d,w){if(w)return d.slice();var R=d.length,H=Ks?Ks(R):new d.constructor(R);return d.copy(H),H}function am(d){var w=new d.constructor(d.byteLength);return new Ws(w).set(new Ws(d)),w}function rA(d,w){var R=w?am(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.byteLength)}function ab(d){var w=new d.constructor(d.source,jt.exec(d));return w.lastIndex=d.lastIndex,w}function sm(d){return m?Ln(m.call(d)):{}}function Hy(d,w){var R=w?am(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.length)}function Ad(d,w){if(d!==w){var R=d!==n,H=d===null,se=d===d,Ee=Za(d),$e=w!==n,Ye=w===null,ut=w===w,Dt=Za(w);if(!Ye&&!Dt&&!Ee&&d>w||Ee&&$e&&ut&&!Ye&&!Dt||H&&$e&&ut||!R&&ut||!se)return 1;if(!H&&!Ee&&!Dt&&d<w||Dt&&R&&se&&!H&&!Ee||Ye&&R&&se||!$e&&se||!ut)return-1}return 0}function lm(d,w,R){for(var H=-1,se=d.criteria,Ee=w.criteria,$e=se.length,Ye=R.length;++H<$e;){var ut=Ad(se[H],Ee[H]);if(ut){if(H>=Ye)return ut;var Dt=R[H];return ut*(Dt=="desc"?-1:1)}}return d.index-w.index}function vl(d,w,R,H){for(var se=-1,Ee=d.length,$e=R.length,Ye=-1,ut=w.length,Dt=rr(Ee-$e,0),Bt=_t(ut+Dt),Gt=!H;++Ye<ut;)Bt[Ye]=w[Ye];for(;++se<$e;)(Gt||se<Ee)&&(Bt[R[se]]=d[se]);for(;Dt--;)Bt[Ye++]=d[se++];return Bt}function qy(d,w,R,H){for(var se=-1,Ee=d.length,$e=-1,Ye=R.length,ut=-1,Dt=w.length,Bt=rr(Ee-Ye,0),Gt=_t(Bt+Dt),Sn=!H;++se<Bt;)Gt[se]=d[se];for(var Nn=se;++ut<Dt;)Gt[Nn+ut]=w[ut];for(;++$e<Ye;)(Sn||se<Ee)&&(Gt[Nn+R[$e]]=d[se++]);return Gt}function Is(d,w){var R=-1,H=d.length;for(w||(w=_t(H));++R<H;)w[R]=d[R];return w}function bu(d,w,R,H){var se=!R;R||(R={});for(var Ee=-1,$e=w.length;++Ee<$e;){var Ye=w[Ee],ut=H?H(R[Ye],d[Ye],Ye,R,d):n;ut===n&&(ut=d[Ye]),se?zt(R,Ye,ut):et(R,Ye,ut)}return R}function sb(d,w){return bu(d,ff(d),w)}function Gy(d,w){return bu(d,gm(d),w)}function pc(d,w){return function(R,H){var se=Xn(R)?Bl:ht,Ee=w?w():{};return se(R,d,Kn(H,2),Ee)}}function Qp(d){return Er(function(w,R){var H=-1,se=R.length,Ee=se>1?R[se-1]:n,$e=se>2?R[2]:n;for(Ee=d.length>3&&typeof Ee=="function"?(se--,Ee):n,$e&&ia(R[0],R[1],$e)&&(Ee=se<3?n:Ee,se=1),w=Ln(w);++H<se;){var Ye=R[H];Ye&&d(w,Ye,H,Ee)}return w})}function Qy(d,w){return function(R,H){if(R==null)return R;if(!xo(R))return d(R,H);for(var se=R.length,Ee=w?se:-1,$e=Ln(R);(w?Ee--:++Ee<se)&&H($e[Ee],Ee,$e)!==!1;);return R}}function um(d){return function(w,R,H){for(var se=-1,Ee=Ln(w),$e=H(w),Ye=$e.length;Ye--;){var ut=$e[d?Ye:++se];if(R(Ee[ut],ut,Ee)===!1)break}return w}}function Wy(d,w,R){var H=w&ee,se=wu(d);function Ee(){var $e=this&&this!==yi&&this instanceof Ee?se:d;return $e.apply(H?R:this,arguments)}return Ee}function Ky(d){return function(w){w=Pr(w);var R=hl(w)?fa(w):n,H=R?R[0]:w.charAt(0),se=R?yl(R,1).join(""):w.slice(1);return H[d]()+se}}function Wp(d){return function(w){return Ju(t5(Gv(w).replace(jc,"")),d,"")}}function wu(d){return function(){var w=arguments;switch(w.length){case 0:return new d;case 1:return new d(w[0]);case 2:return new d(w[0],w[1]);case 3:return new d(w[0],w[1],w[2]);case 4:return new d(w[0],w[1],w[2],w[3]);case 5:return new d(w[0],w[1],w[2],w[3],w[4]);case 6:return new d(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new d(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var R=k(d.prototype),H=d.apply(R,w);return pi(H)?H:R}}function lb(d,w,R){var H=wu(d);function se(){for(var Ee=arguments.length,$e=_t(Ee),Ye=Ee,ut=Wf(se);Ye--;)$e[Ye]=arguments[Ye];var Dt=Ee<3&&$e[0]!==ut&&$e[Ee-1]!==ut?[]:Ts($e,ut);if(Ee-=Dt.length,Ee<R)return Jy(d,w,Os,se.placeholder,n,$e,Dt,n,n,R-Ee);var Bt=this&&this!==yi&&this instanceof se?H:d;return co(Bt,this,$e)}return se}function dd(d){return function(w,R,H){var se=Ln(w);if(!xo(w)){var Ee=Kn(R,3);w=Ta(w),R=function(Ye){return Ee(se[Ye],Ye,se)}}var $e=d(w,R,H);return $e>-1?se[Ee?w[$e]:$e]:n}}function Kp(d){return Ac(function(w){var R=w.length,H=R,se=I.prototype.thru;for(d&&w.reverse();H--;){var Ee=w[H];if(typeof Ee!="function")throw new ji(o);if(se&&!$e&&uf(Ee)=="wrapper")var $e=new I([],!0)}for(H=$e?H:R;++H<R;){Ee=w[H];var Ye=uf(Ee),ut=Ye=="wrapper"?mm(Ee):n;ut&&ym(ut[0])&&ut[1]==(be|ne|pe|Se)&&!ut[4].length&&ut[9]==1?$e=$e[uf(ut[0])].apply($e,ut[3]):$e=Ee.length==1&&ym(Ee)?$e[Ye]():$e.thru(Ee)}return function(){var Dt=arguments,Bt=Dt[0];if($e&&Dt.length==1&&Xn(Bt))return $e.plant(Bt).value();for(var Gt=0,Sn=R?w[Gt].apply(this,Dt):Bt;++Gt<R;)Sn=w[Gt].call(this,Sn);return Sn}})}function Os(d,w,R,H,se,Ee,$e,Ye,ut,Dt){var Bt=w&be,Gt=w&ee,Sn=w&V,Nn=w&(ne|he),or=w&De,Fr=Sn?n:wu(d);function ar(){for(var Gr=arguments.length,ii=_t(Gr),Hl=Gr;Hl--;)ii[Hl]=arguments[Hl];if(Nn)var Js=Wf(ar),ql=po(ii,Js);if(H&&(ii=vl(ii,H,se,Nn)),Ee&&(ii=qy(ii,Ee,$e,Nn)),Gr-=ql,Nn&&Gr<Dt){var ga=Ts(ii,Js);return Jy(d,w,Os,ar.placeholder,R,ii,ga,Ye,ut,Dt-Gr)}var xc=Gt?R:this,fp=Sn?xc[d]:d;return Gr=ii.length,Ye?ii=iv(ii,Ye):or&&Gr>1&&ii.reverse(),Bt&&ut<Gr&&(ii.length=ut),this&&this!==yi&&this instanceof ar&&(fp=Fr||wu(fp)),fp.apply(xc,ii)}return ar}function Zy(d,w){return function(R,H){return vu(R,d,w(H),{})}}function md(d,w){return function(R,H){var se;if(R===n&&H===n)return w;if(R!==n&&(se=R),H!==n){if(se===n)return H;typeof R=="string"||typeof H=="string"?(R=ds(R),H=ds(H)):(R=jy(R),H=jy(H)),se=d(R,H)}return se}}function cm(d){return Ac(function(w){return w=ei(w,ko(Kn())),Er(function(R){var H=this;return d(w,function(se){return co(se,H,R)})})})}function lf(d,w){w=w===n?" ":ds(w);var R=w.length;if(R<2)return R?im(w,d):w;var H=im(w,mo(d/cs(w)));return hl(w)?yl(fa(H),0,d).join(""):H.slice(0,d)}function Xy(d,w,R,H){var se=w&ee,Ee=wu(d);function $e(){for(var Ye=-1,ut=arguments.length,Dt=-1,Bt=H.length,Gt=_t(Bt+ut),Sn=this&&this!==yi&&this instanceof $e?Ee:d;++Dt<Bt;)Gt[Dt]=H[Dt];for(;ut--;)Gt[Dt++]=arguments[++Ye];return co(Sn,se?R:this,Gt)}return $e}function Yy(d){return function(w,R,H){return H&&typeof H!="number"&&ia(w,R,H)&&(R=H=n),w=Vl(w),R===n?(R=w,w=0):R=Vl(R),H=H===n?w<R?1:-1:Vl(H),nb(w,R,H,d)}}function gd(d){return function(w,R){return typeof w=="string"&&typeof R=="string"||(w=wl(w),R=wl(R)),d(w,R)}}function Jy(d,w,R,H,se,Ee,$e,Ye,ut,Dt){var Bt=w&ne,Gt=Bt?$e:n,Sn=Bt?n:$e,Nn=Bt?Ee:n,or=Bt?n:Ee;w|=Bt?pe:le,w&=~(Bt?le:pe),w&X||(w&=~(ee|V));var Fr=[d,w,se,Nn,Gt,or,Sn,Ye,ut,Dt],ar=R.apply(n,Fr);return ym(d)&&ov(ar,Fr),ar.placeholder=H,bd(ar,d,w)}function fm(d){var w=ti[d];return function(R,H){if(R=wl(R),H=H==null?0:Wn(xr(H),292),H&&nf(R)){var se=(Pr(R)+"e").split("e"),Ee=w(se[0]+"e"+(+se[1]+H));return se=(Pr(Ee)+"e").split("e"),+(se[0]+"e"+(+se[1]-H))}return w(R)}}var ev=qa&&1/ja(new qa([,-0]))[1]==bn?function(d){return new qa(d)}:Kb;function Sa(d){return function(w){var R=Wa(w);return R==mi?du(w):R==Wr?oc(w):Kc(w,d(w))}}function hc(d,w,R,H,se,Ee,$e,Ye){var ut=w&V;if(!ut&&typeof d!="function")throw new ji(o);var Dt=H?H.length:0;if(Dt||(w&=~(pe|le),H=se=n),$e=$e===n?$e:rr(xr($e),0),Ye=Ye===n?Ye:xr(Ye),Dt-=se?se.length:0,w&le){var Bt=H,Gt=se;H=se=n}var Sn=ut?n:mm(d),Nn=[d,w,R,H,se,Bt,Gt,Ee,$e,Ye];if(Sn&&Yp(Nn,Sn),d=Nn[0],w=Nn[1],R=Nn[2],H=Nn[3],se=Nn[4],Ye=Nn[9]=Nn[9]===n?ut?0:d.length:rr(Nn[9]-Dt,0),!Ye&&w&(ne|he)&&(w&=~(ne|he)),!w||w==ee)var or=Wy(d,w,R);else w==ne||w==he?or=lb(d,w,Ye):(w==pe||w==(ee|pe))&&!se.length?or=Xy(d,w,R,H):or=Os.apply(n,Nn);var Fr=Sn?cc:ov;return bd(Fr(or,Nn),d,w)}function pm(d,w,R,H){return d===n||Tr(d,ps[R])&&!Ur.call(H,R)?w:d}function hm(d,w,R,H,se,Ee){return pi(d)&&pi(w)&&(Ee.set(w,d),xu(d,w,n,hm,Ee),Ee.delete(w)),d}function ub(d){return yc(d)?n:d}function Am(d,w,R,H,se,Ee){var $e=R&q,Ye=d.length,ut=w.length;if(Ye!=ut&&!($e&&ut>Ye))return!1;var Dt=Ee.get(d),Bt=Ee.get(w);if(Dt&&Bt)return Dt==w&&Bt==d;var Gt=-1,Sn=!0,Nn=R&K?new L:n;for(Ee.set(d,w),Ee.set(w,d);++Gt<Ye;){var or=d[Gt],Fr=w[Gt];if(H)var ar=$e?H(Fr,or,Gt,w,d,Ee):H(or,Fr,Gt,d,w,Ee);if(ar!==n){if(ar)continue;Sn=!1;break}if(Nn){if(!Vs(w,function(Gr,ii){if(!hu(Nn,ii)&&(or===Gr||se(or,Gr,R,H,Ee)))return Nn.push(ii)})){Sn=!1;break}}else if(!(or===Fr||se(or,Fr,R,H,Ee))){Sn=!1;break}}return Ee.delete(d),Ee.delete(w),Sn}function cb(d,w,R,H,se,Ee,$e){switch(R){case we:if(d.byteLength!=w.byteLength||d.byteOffset!=w.byteOffset)return!1;d=d.buffer,w=w.buffer;case vt:return!(d.byteLength!=w.byteLength||!Ee(new Ws(d),new Ws(w)));case jn:case Fn:case gi:return Tr(+d,+w);case jr:return d.name==w.name&&d.message==w.message;case ro:case Lo:return d==w+"";case mi:var Ye=du;case Wr:var ut=H&q;if(Ye||(Ye=ja),d.size!=w.size&&!ut)return!1;var Dt=$e.get(d);if(Dt)return Dt==w;H|=K,$e.set(d,w);var Bt=Am(Ye(d),Ye(w),H,se,Ee,$e);return $e.delete(d),Bt;case io:if(m)return m.call(d)==m.call(w)}return!1}function fb(d,w,R,H,se,Ee){var $e=R&q,Ye=yd(d),ut=Ye.length,Dt=yd(w),Bt=Dt.length;if(ut!=Bt&&!$e)return!1;for(var Gt=ut;Gt--;){var Sn=Ye[Gt];if(!($e?Sn in w:Ur.call(w,Sn)))return!1}var Nn=Ee.get(d),or=Ee.get(w);if(Nn&&or)return Nn==w&&or==d;var Fr=!0;Ee.set(d,w),Ee.set(w,d);for(var ar=$e;++Gt<ut;){Sn=Ye[Gt];var Gr=d[Sn],ii=w[Sn];if(H)var Hl=$e?H(ii,Gr,Sn,w,d,Ee):H(Gr,ii,Sn,d,w,Ee);if(!(Hl===n?Gr===ii||se(Gr,ii,R,H,Ee):Hl)){Fr=!1;break}ar||(ar=Sn=="constructor")}if(Fr&&!ar){var Js=d.constructor,ql=w.constructor;Js!=ql&&"constructor"in d&&"constructor"in w&&!(typeof Js=="function"&&Js instanceof Js&&typeof ql=="function"&&ql instanceof ql)&&(Fr=!1)}return Ee.delete(d),Ee.delete(w),Fr}function Ac(d){return oA(iA(d,n,Xf),d+"")}function yd(d){return na(d,Ta,ff)}function dm(d){return na(d,ms,gm)}var mm=Yt?function(d){return Yt.get(d)}:Kb;function uf(d){for(var w=d.name+"",R=Po[w],H=Ur.call(Po,w)?R.length:0;H--;){var se=R[H],Ee=se.func;if(Ee==null||Ee==d)return se.name}return w}function Wf(d){var w=Ur.call(_,"placeholder")?_:d;return w.placeholder}function Kn(){var d=_.iteratee||Qb;return d=d===Qb?ha:d,arguments.length?d(arguments[0],arguments[1]):d}function Kf(d,w){var R=d.__data__;return yb(w)?R[typeof w=="string"?"string":"hash"]:R.map}function ni(d){for(var w=Ta(d),R=w.length;R--;){var H=w[R],se=d[H];w[R]=[H,se,Zp(se)]}return w}function cf(d,w){var R=Au(d,w);return Ps(R)?R:n}function dc(d){var w=Ur.call(d,Ao),R=d[Ao];try{d[Ao]=n;var H=!0}catch{}var se=ho.call(d);return H&&(w?d[Ao]=R:delete d[Ao]),se}var ff=jl?function(d){return d==null?[]:(d=Ln(d),Zo(jl(d),function(w){return Yo.call(d,w)}))}:Zb,gm=jl?function(d){for(var w=[];d;)Ua(w,ff(d)),d=Fo(d);return w}:Zb,Wa=Hi;(Ha&&Wa(new Ha(new ArrayBuffer(1)))!=we||Jo&&Wa(new Jo)!=mi||ea&&Wa(ea.resolve())!=Wi||qa&&Wa(new qa)!=Wr||Wt&&Wa(new Wt)!=Ro)&&(Wa=function(d){var w=Hi(d),R=w==Bi?d.constructor:n,H=R?hf(R):"";if(H)switch(H){case Ga:return we;case zo:return mi;case $i:return Wi;case Vp:return Wr;case ta:return Ro}return w});function pb(d,w,R){for(var H=-1,se=R.length;++H<se;){var Ee=R[H],$e=Ee.size;switch(Ee.type){case"drop":d+=$e;break;case"dropRight":w-=$e;break;case"take":w=Wn(w,d+$e);break;case"takeRight":d=rr(d,w-$e);break}}return{start:d,end:w}}function hb(d){var w=d.match(Ve);return w?w[1].split(lt):[]}function tv(d,w,R){w=fc(w,d);for(var H=-1,se=w.length,Ee=!1;++H<se;){var $e=xl(w[H]);if(!(Ee=d!=null&&R(d,$e)))break;d=d[$e]}return Ee||++H!=se?Ee:(se=d==null?0:d.length,!!se&&ip(se)&&_l($e,se)&&(Xn(d)||fr(d)))}function Ab(d){var w=d.length,R=new d.constructor(w);return w&&typeof d[0]=="string"&&Ur.call(d,"index")&&(R.index=d.index,R.input=d.input),R}function nv(d){return typeof d.constructor=="function"&&!pf(d)?k(Fo(d)):{}}function db(d,w,R){var H=d.constructor;switch(w){case vt:return am(d);case jn:case Fn:return new H(+d);case we:return rA(d,R);case Je:case Et:case ln:case Gn:case Ir:case Mn:case nr:case $r:case Yr:return Hy(d,R);case mi:return new H;case gi:case Lo:return new H(d);case ro:return ab(d);case Wr:return new H;case io:return sm(d)}}function mb(d,w){var R=w.length;if(!R)return d;var H=R-1;return w[H]=(R>1?"& ":"")+w[H],w=w.join(R>2?", ":" "),d.replace(oe,`{
/* [wrapped with `+w+`] */
`)}function gb(d){return Xn(d)||fr(d)||!!(sc&&d&&d[sc])}function _l(d,w){var R=typeof d;return w=w??st,!!w&&(R=="number"||R!="symbol"&&fn.test(d))&&d>-1&&d%1==0&&d<w}function ia(d,w,R){if(!pi(R))return!1;var H=typeof w;return(H=="number"?xo(R)&&_l(w,R.length):H=="string"&&w in R)?Tr(R[w],d):!1}function vd(d,w){if(Xn(d))return!1;var R=typeof d;return R=="number"||R=="symbol"||R=="boolean"||d==null||Za(d)?!0:ve.test(d)||!fe.test(d)||w!=null&&d in Ln(w)}function yb(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function ym(d){var w=uf(d),R=_[w];if(typeof R!="function"||!(w in N.prototype))return!1;if(d===R)return!0;var H=mm(R);return!!H&&d===H[0]}function vb(d){return!!To&&To in d}var rv=Jc?Ys:Xb;function pf(d){var w=d&&d.constructor,R=typeof w=="function"&&w.prototype||ps;return d===R}function Zp(d){return d===d&&!pi(d)}function Xp(d,w){return function(R){return R==null?!1:R[d]===w&&(w!==n||d in Ln(R))}}function Ms(d){var w=li(d,function(H){return R.size===T&&R.clear(),H}),R=w.cache;return w}function Yp(d,w){var R=d[1],H=w[1],se=R|H,Ee=se<(ee|V|be),$e=H==be&&R==ne||H==be&&R==Se&&d[7].length<=w[8]||H==(be|Se)&&w[7].length<=w[8]&&R==ne;if(!(Ee||$e))return d;H&ee&&(d[2]=w[2],se|=R&ee?0:X);var Ye=w[3];if(Ye){var ut=d[3];d[3]=ut?vl(ut,Ye,w[4]):Ye,d[4]=ut?Ts(d[3],M):w[4]}return Ye=w[5],Ye&&(ut=d[5],d[5]=ut?qy(ut,Ye,w[6]):Ye,d[6]=ut?Ts(d[5],M):w[6]),Ye=w[7],Ye&&(d[7]=Ye),H&be&&(d[8]=d[8]==null?w[8]:Wn(d[8],w[8])),d[9]==null&&(d[9]=w[9]),d[0]=w[0],d[1]=se,d}function Ea(d){var w=[];if(d!=null)for(var R in Ln(d))w.push(R);return w}function _d(d){return ho.call(d)}function iA(d,w,R){return w=rr(w===n?d.length-1:w,0),function(){for(var H=arguments,se=-1,Ee=rr(H.length-w,0),$e=_t(Ee);++se<Ee;)$e[se]=H[w+se];se=-1;for(var Ye=_t(w+1);++se<w;)Ye[se]=H[se];return Ye[w]=R($e),co(d,this,Ye)}}function Ka(d,w){return w.length<2?d:fi(d,gl(w,0,-1))}function iv(d,w){for(var R=d.length,H=Wn(w.length,R),se=Is(d);H--;){var Ee=w[H];d[H]=_l(Ee,R)?se[Ee]:n}return d}function xd(d,w){if(!(w==="constructor"&&typeof d[w]=="function")&&w!="__proto__")return d[w]}var ov=av(cc),Jp=Uf||function(d,w){return yi.setTimeout(d,w)},oA=av(eA);function bd(d,w,R){var H=w+"";return oA(d,mb(H,sv(hb(H),R)))}function av(d){var w=0,R=0;return function(){var H=pa(),se=yt-(H-R);if(R=H,se>0){if(++w>=at)return arguments[0]}else w=0;return d.apply(n,arguments)}}function aA(d,w){var R=-1,H=d.length,se=H-1;for(w=w===n?H:w;++R<w;){var Ee=rm(R,se),$e=d[Ee];d[Ee]=d[R],d[R]=$e}return d.length=w,d}var Zf=Ms(function(d){var w=[];return d.charCodeAt(0)===46&&w.push(""),d.replace(Ie,function(R,H,se,Ee){w.push(se?Ee.replace(ye,"$1"):H||R)}),w});function xl(d){if(typeof d=="string"||Za(d))return d;var w=d+"";return w=="0"&&1/d==-bn?"-0":w}function hf(d){if(d!=null){try{return Al.call(d)}catch{}try{return d+""}catch{}}return""}function sv(d,w){return fo(en,function(R){var H="_."+R[0];w&R[1]&&!fu(d,H)&&d.push(H)}),d.sort()}function lv(d){if(d instanceof N)return d.clone();var w=new I(d.__wrapped__,d.__chain__);return w.__actions__=Is(d.__actions__),w.__index__=d.__index__,w.__values__=d.__values__,w}function uv(d,w,R){(R?ia(d,w,R):w===n)?w=1:w=rr(xr(w),0);var H=d==null?0:d.length;if(!H||w<1)return[];for(var se=0,Ee=0,$e=_t(mo(H/w));se<H;)$e[Ee++]=gl(d,se,se+=w);return $e}function cv(d){for(var w=-1,R=d==null?0:d.length,H=0,se=[];++w<R;){var Ee=d[w];Ee&&(se[H++]=Ee)}return se}function fv(){var d=arguments.length;if(!d)return[];for(var w=_t(d-1),R=arguments[0],H=d;H--;)w[H-1]=arguments[H];return Ua(Xn(R)?Is(R):[R],An(w,1))}var pv=Er(function(d,w){return pr(d)?pn(d,An(w,1,pr,!0)):[]}),_b=Er(function(d,w){var R=bl(w);return pr(R)&&(R=n),pr(d)?pn(d,An(w,1,pr,!0),Kn(R,2)):[]}),xb=Er(function(d,w){var R=bl(w);return pr(R)&&(R=n),pr(d)?pn(d,An(w,1,pr,!0),n,R):[]});function hv(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:xr(w),gl(d,w<0?0:w,H)):[]}function Av(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:xr(w),w=H-w,gl(d,0,w<0?0:w)):[]}function wd(d,w){return d&&d.length?Gi(d,Kn(w,3),!0,!0):[]}function dv(d,w){return d&&d.length?Gi(d,Kn(w,3),!0):[]}function Sd(d,w,R,H){var se=d==null?0:d.length;return se?(R&&typeof R!="number"&&ia(d,w,R)&&(R=0,H=se),Un(d,w,R,H)):[]}function sA(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var se=R==null?0:xr(R);return se<0&&(se=rr(H+se,0)),qs(d,Kn(w,3),se)}function lA(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var se=H-1;return R!==n&&(se=xr(R),se=R<0?rr(H+se,0):Wn(se,H-1)),qs(d,Kn(w,3),se,!0)}function Xf(d){var w=d==null?0:d.length;return w?An(d,1):[]}function bb(d){var w=d==null?0:d.length;return w?An(d,bn):[]}function wb(d,w){var R=d==null?0:d.length;return R?(w=w===n?1:xr(w),An(d,w)):[]}function Sb(d){for(var w=-1,R=d==null?0:d.length,H={};++w<R;){var se=d[w];H[se[0]]=se[1]}return H}function Yf(d){return d&&d.length?d[0]:n}function vm(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var se=R==null?0:xr(R);return se<0&&(se=rr(H+se,0)),zl(d,w,se)}function mv(d){var w=d==null?0:d.length;return w?gl(d,0,-1):[]}var _m=Er(function(d){var w=ei(d,Gp);return w.length&&w[0]===d[0]?jf(w):[]}),gv=Er(function(d){var w=bl(d),R=ei(d,Gp);return w===bl(R)?w=n:R.pop(),R.length&&R[0]===d[0]?jf(R,Kn(w,2)):[]}),yv=Er(function(d){var w=bl(d),R=ei(d,Gp);return w=typeof w=="function"?w:n,w&&R.pop(),R.length&&R[0]===d[0]?jf(R,n,w):[]});function Eb(d,w){return d==null?"":hs.call(d,w)}function bl(d){var w=d==null?0:d.length;return w?d[w-1]:n}function Cb(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var se=H;return R!==n&&(se=xr(R),se=se<0?rr(H+se,0):Wn(se,H-1)),w===w?Np(d,w,se):qs(d,Qc,se,!0)}function Ed(d,w){return d&&d.length?nm(d,xr(w)):n}var xm=Er(vv);function vv(d,w){return d&&d.length&&w&&w.length?ld(d,w):d}function eh(d,w,R){return d&&d.length&&w&&w.length?ld(d,w,Kn(R,2)):d}function uA(d,w,R){return d&&d.length&&w&&w.length?ld(d,w,n,R):d}var Kr=Ac(function(d,w){var R=d==null?0:d.length,H=Ft(d,w);return Ny(d,ei(w,function(se){return _l(se,R)?+se:se}).sort(Ad)),H});function kb(d,w){var R=[];if(!(d&&d.length))return R;var H=-1,se=[],Ee=d.length;for(w=Kn(w,3);++H<Ee;){var $e=d[H];w($e,H,d)&&(R.push($e),se.push(H))}return Ny(d,se),R}function cA(d){return d==null?d:Bo.call(d)}function th(d,w,R){var H=d==null?0:d.length;return H?(R&&typeof R!="number"&&ia(d,w,R)?(w=0,R=H):(w=w==null?0:xr(w),R=R===n?H:xr(R)),gl(d,w,R)):[]}function Tb(d,w){return cd(d,w)}function Pb(d,w,R){return om(d,w,Kn(R,2))}function Ib(d,w){var R=d==null?0:d.length;if(R){var H=cd(d,w);if(H<R&&Tr(d[H],w))return H}return-1}function Ob(d,w){return cd(d,w,!0)}function Mb(d,w,R){return om(d,w,Kn(R,2),!0)}function Lb(d,w){var R=d==null?0:d.length;if(R){var H=cd(d,w,!0)-1;if(Tr(d[H],w))return H}return-1}function Rb(d){return d&&d.length?Uy(d):[]}function _v(d,w){return d&&d.length?Uy(d,Kn(w,2)):[]}function xv(d){var w=d==null?0:d.length;return w?gl(d,1,w):[]}function bv(d,w,R){return d&&d.length?(w=R||w===n?1:xr(w),gl(d,0,w<0?0:w)):[]}function wv(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:xr(w),w=H-w,gl(d,w<0?0:w,H)):[]}function Cd(d,w){return d&&d.length?Gi(d,Kn(w,3),!1,!0):[]}function Jf(d,w){return d&&d.length?Gi(d,Kn(w,3)):[]}var bm=Er(function(d){return af(An(d,1,pr,!0))}),nh=Er(function(d){var w=bl(d);return pr(w)&&(w=n),af(An(d,1,pr,!0),Kn(w,2))}),Sv=Er(function(d){var w=bl(d);return w=typeof w=="function"?w:n,af(An(d,1,pr,!0),n,w)});function yo(d){return d&&d.length?af(d):[]}function vi(d,w){return d&&d.length?af(d,Kn(w,2)):[]}function Ev(d,w){return w=typeof w=="function"?w:n,d&&d.length?af(d,n,w):[]}function kd(d){if(!(d&&d.length))return[];var w=0;return d=Zo(d,function(R){if(pr(R))return w=rr(R.length,w),!0}),Vr(w,function(R){return ei(d,tc(R))})}function wm(d,w){if(!(d&&d.length))return[];var R=kd(d);return w==null?R:ei(R,function(H){return co(w,n,H)})}var Cv=Er(function(d,w){return pr(d)?pn(d,w):[]}),kv=Er(function(d){return fd(Zo(d,pr))}),Sm=Er(function(d){var w=bl(d);return pr(w)&&(w=n),fd(Zo(d,pr),Kn(w,2))}),ep=Er(function(d){var w=bl(d);return w=typeof w=="function"?w:n,fd(Zo(d,pr),n,w)}),tp=Er(kd);function Tv(d,w){return nA(d||[],w||[],et)}function vo(d,w){return nA(d||[],w||[],qp)}var fA=Er(function(d){var w=d.length,R=w>1?d[w-1]:n;return R=typeof R=="function"?(d.pop(),R):n,wm(d,R)});function Su(d){var w=_(d);return w.__chain__=!0,w}function Td(d,w){return w(d),d}function np(d,w){return w(d)}var Em=Ac(function(d){var w=d.length,R=w?d[0]:0,H=this.__wrapped__,se=function(Ee){return Ft(Ee,d)};return w>1||this.__actions__.length||!(H instanceof N)||!_l(R)?this.thru(se):(H=H.slice(R,+R+(w?1:0)),H.__actions__.push({func:np,args:[se],thisArg:n}),new I(H,this.__chain__).thru(function(Ee){return w&&!Ee.length&&Ee.push(n),Ee}))});function rh(){return Su(this)}function mc(){return new I(this.value(),this.__chain__)}function Pv(){this.__values__===n&&(this.__values__=km(this.value()));var d=this.__index__>=this.__values__.length,w=d?n:this.__values__[this.__index__++];return{done:d,value:w}}function Iv(){return this}function Db(d){for(var w,R=this;R instanceof O;){var H=lv(R);H.__index__=0,H.__values__=n,w?se.__wrapped__=H:w=H;var se=H;R=R.__wrapped__}return se.__wrapped__=d,w}function No(){var d=this.__wrapped__;if(d instanceof N){var w=d;return this.__actions__.length&&(w=new N(this)),w=w.reverse(),w.__actions__.push({func:np,args:[cA],thisArg:n}),new I(w,this.__chain__)}return this.thru(cA)}function Af(){return tA(this.__wrapped__,this.__actions__)}var Ov=pc(function(d,w,R){Ur.call(d,R)?++d[R]:zt(d,R,1)});function r(d,w,R){var H=Xn(d)?ul:Vn;return R&&ia(d,w,R)&&(w=n),H(d,Kn(w,3))}function a(d,w){var R=Xn(d)?Zo:Dn;return R(d,Kn(w,3))}var u=dd(sA),g=dd(lA);function b(d,w){return An(Ae(d,w),1)}function E(d,w){return An(Ae(d,w),bn)}function P(d,w,R){return R=R===n?1:xr(R),An(Ae(d,w),R)}function B(d,w){var R=Xn(d)?fo:Rn;return R(d,Kn(w,3))}function $(d,w){var R=Xn(d)?us:tr;return R(d,Kn(w,3))}var W=pc(function(d,w,R){Ur.call(d,R)?d[R].push(w):zt(d,R,[w])});function Z(d,w,R,H){d=xo(d)?d:cp(d),R=R&&!H?xr(R):0;var se=d.length;return R<0&&(R=rr(se+R,0)),vc(d)?R<=se&&d.indexOf(w,R)>-1:!!se&&zl(d,w,R)>-1}var Y=Er(function(d,w,R){var H=-1,se=typeof w=="function",Ee=xo(d)?_t(d.length):[];return Rn(d,function($e){Ee[++H]=se?co(w,$e,R):ml($e,w,R)}),Ee}),ue=pc(function(d,w,R){zt(d,R,w)});function Ae(d,w){var R=Xn(d)?ei:Vf;return R(d,Kn(w,3))}function Ce(d,w,R,H){return d==null?[]:(Xn(w)||(w=w==null?[]:[w]),R=H?n:R,Xn(R)||(R=R==null?[]:[R]),sd(d,w,R))}var ke=pc(function(d,w,R){d[R?0:1].push(w)},function(){return[[],[]]});function He(d,w,R){var H=Xn(d)?Ju:Nl,se=arguments.length<3;return H(d,Kn(w,4),R,se,Rn)}function Fe(d,w,R){var H=Xn(d)?pu:Nl,se=arguments.length<3;return H(d,Kn(w,4),R,se,tr)}function nt(d,w){var R=Xn(d)?Zo:Dn;return R(d,_i(Kn(w,3)))}function it(d){var w=Xn(d)?Ne:rb;return w(d)}function ft(d,w,R){(R?ia(d,w,R):w===n)?w=1:w=xr(w);var H=Xn(d)?Te:ud;return H(d,w)}function pt(d){var w=Xn(d)?ze:ib;return w(d)}function kt(d){if(d==null)return 0;if(xo(d))return vc(d)?cs(d):d.length;var w=Wa(d);return w==mi||w==Wr?d.size:uc(d).length}function Ut(d,w,R){var H=Xn(d)?Vs:ob;return R&&ia(d,w,R)&&(w=n),H(d,Kn(w,3))}var Zt=Er(function(d,w){if(d==null)return[];var R=w.length;return R>1&&ia(d,w[0],w[1])?w=[]:R>2&&ia(w[0],w[1],w[2])&&(w=[w[0]]),sd(d,An(w,1),[])}),gn=jp||function(){return yi.Date.now()};function nn(d,w){if(typeof w!="function")throw new ji(o);return d=xr(d),function(){if(--d<1)return w.apply(this,arguments)}}function Cn(d,w,R){return w=R?n:w,w=d&&w==null?d.length:w,hc(d,be,n,n,n,n,w)}function on(d,w){var R;if(typeof w!="function")throw new ji(o);return d=xr(d),function(){return--d>0&&(R=w.apply(this,arguments)),d<=1&&(w=n),R}}var Zn=Er(function(d,w,R){var H=ee;if(R.length){var se=Ts(R,Wf(Zn));H|=pe}return hc(d,H,w,R,se)}),On=Er(function(d,w,R){var H=ee|V;if(R.length){var se=Ts(R,Wf(On));H|=pe}return hc(w,H,d,R,se)});function yn(d,w,R){w=R?n:w;var H=hc(d,ne,n,n,n,n,n,w);return H.placeholder=yn.placeholder,H}function ir(d,w,R){w=R?n:w;var H=hc(d,he,n,n,n,n,n,w);return H.placeholder=ir.placeholder,H}function Hn(d,w,R){var H,se,Ee,$e,Ye,ut,Dt=0,Bt=!1,Gt=!1,Sn=!0;if(typeof d!="function")throw new ji(o);w=wl(w)||0,pi(R)&&(Bt=!!R.leading,Gt="maxWait"in R,Ee=Gt?rr(wl(R.maxWait)||0,w):Ee,Sn="trailing"in R?!!R.trailing:Sn);function Nn(ga){var xc=H,fp=se;return H=se=n,Dt=ga,$e=d.apply(fp,xc),$e}function or(ga){return Dt=ga,Ye=Jp(Gr,w),Bt?Nn(ga):$e}function Fr(ga){var xc=ga-ut,fp=ga-Dt,i5=w-xc;return Gt?Wn(i5,Ee-fp):i5}function ar(ga){var xc=ga-ut,fp=ga-Dt;return ut===n||xc>=w||xc<0||Gt&&fp>=Ee}function Gr(){var ga=gn();if(ar(ga))return ii(ga);Ye=Jp(Gr,Fr(ga))}function ii(ga){return Ye=n,Sn&&H?Nn(ga):(H=se=n,$e)}function Hl(){Ye!==n&&pd(Ye),Dt=0,H=ut=se=Ye=n}function Js(){return Ye===n?$e:ii(gn())}function ql(){var ga=gn(),xc=ar(ga);if(H=arguments,se=this,ut=ga,xc){if(Ye===n)return or(ut);if(Gt)return pd(Ye),Ye=Jp(Gr,w),Nn(ut)}return Ye===n&&(Ye=Jp(Gr,w)),$e}return ql.cancel=Hl,ql.flush=Js,ql}var _r=Er(function(d,w){return vr(d,1,w)}),Tn=Er(function(d,w,R){return vr(d,wl(w)||0,R)});function Or(d){return hc(d,De)}function li(d,w){if(typeof d!="function"||w!=null&&typeof w!="function")throw new ji(o);var R=function(){var H=arguments,se=w?w.apply(this,H):H[0],Ee=R.cache;if(Ee.has(se))return Ee.get(se);var $e=d.apply(this,H);return R.cache=Ee.set(se,$e)||Ee,$e};return R.cache=new(li.Cache||Kt),R}li.Cache=Kt;function _i(d){if(typeof d!="function")throw new ji(o);return function(){var w=arguments;switch(w.length){case 0:return!d.call(this);case 1:return!d.call(this,w[0]);case 2:return!d.call(this,w[0],w[1]);case 3:return!d.call(this,w[0],w[1],w[2])}return!d.apply(this,w)}}function Oi(d){return on(2,d)}var xi=Vy(function(d,w){w=w.length==1&&Xn(w[0])?ei(w[0],ko(Kn())):ei(An(w,1),ko(Kn()));var R=w.length;return Er(function(H){for(var se=-1,Ee=Wn(H.length,R);++se<Ee;)H[se]=w[se].call(this,H[se]);return co(d,this,H)})}),Ei=Er(function(d,w){var R=Ts(w,Wf(Ei));return hc(d,pe,n,w,R)}),_o=Er(function(d,w){var R=Ts(w,Wf(_o));return hc(d,le,n,w,R)}),Io=Ac(function(d,w){return hc(d,Se,n,n,n,w)});function Ca(d,w){if(typeof d!="function")throw new ji(o);return w=w===n?w:xr(w),Er(d,w)}function Uo(d,w){if(typeof d!="function")throw new ji(o);return w=w==null?0:rr(xr(w),0),Er(function(R){var H=R[w],se=yl(R,0,w);return H&&Ua(se,H),co(d,this,se)})}function ka(d,w,R){var H=!0,se=!0;if(typeof d!="function")throw new ji(o);return pi(R)&&(H="leading"in R?!!R.leading:H,se="trailing"in R?!!R.trailing:se),Hn(d,w,{leading:H,maxWait:w,trailing:se})}function Ji(d){return Cn(d,1)}function jo(d,w){return Ei(Qf(w),d)}function cr(){if(!arguments.length)return[];var d=arguments[0];return Xn(d)?d:[d]}function ri(d){return mn(d,U)}function qr(d,w){return w=typeof w=="function"?w:n,mn(d,U,w)}function Cr(d){return mn(d,F|U)}function Da(d,w){return w=typeof w=="function"?w:n,mn(d,F|U,w)}function Aa(d,w){return w==null||kn(d,w,Ta(w))}function Tr(d,w){return d===w||d!==d&&w!==w}var lo=gd(ra),da=gd(function(d,w){return d>=w}),fr=_u(function(){return arguments}())?_u:function(d){return Qi(d)&&Ur.call(d,"callee")&&!Yo.call(d,"callee")},Xn=_t.isArray,Ls=Fl?ko(Fl):$f;function xo(d){return d!=null&&ip(d.length)&&!Ys(d)}function pr(d){return Qi(d)&&xo(d)}function Eu(d){return d===!0||d===!1||Qi(d)&&Hi(d)==jn}var ma=tf||Xb,ih=qc?ko(qc):rf;function rp(d){return Qi(d)&&d.nodeType===1&&!yc(d)}function oh(d){if(d==null)return!0;if(xo(d)&&(Xn(d)||typeof d=="string"||typeof d.splice=="function"||ma(d)||$l(d)||fr(d)))return!d.length;var w=Wa(d);if(w==mi||w==Wr)return!d.size;if(pf(d))return!uc(d).length;for(var R in d)if(Ur.call(d,R))return!1;return!0}function gc(d,w){return Qa(d,w)}function ah(d,w,R){R=typeof R=="function"?R:n;var H=R?R(d,w):n;return H===n?Qa(d,w,n,R):!!H}function sh(d){if(!Qi(d))return!1;var w=Hi(d);return w==jr||w==Xr||typeof d.message=="string"&&typeof d.name=="string"&&!yc(d)}function lh(d){return typeof d=="number"&&nf(d)}function Ys(d){if(!pi(d))return!1;var w=Hi(d);return w==Fi||w==$n||w==En||w==Ss}function pA(d){return typeof d=="number"&&d==xr(d)}function ip(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=st}function pi(d){var w=typeof d;return d!=null&&(w=="object"||w=="function")}function Qi(d){return d!=null&&typeof d=="object"}var op=Ki?ko(Ki):go;function df(d,w){return d===w||Xs(d,w,ni(w))}function uh(d,w,R){return R=typeof R=="function"?R:n,Xs(d,w,ni(w),R)}function Pd(d){return dA(d)&&d!=+d}function Id(d){if(rv(d))throw new er(l);return Ps(d)}function hA(d){return d===null}function AA(d){return d==null}function dA(d){return typeof d=="number"||Qi(d)&&Hi(d)==gi}function yc(d){if(!Qi(d)||Hi(d)!=Bi)return!1;var w=Fo(d);if(w===null)return!0;var R=Ur.call(w,"constructor")&&w.constructor;return typeof R=="function"&&R instanceof R&&Al.call(R)==Nf}var ap=Gc?ko(Gc):lc;function mA(d){return pA(d)&&d>=-st&&d<=st}var gA=$s?ko($s):Yi;function vc(d){return typeof d=="string"||!Xn(d)&&Qi(d)&&Hi(d)==Lo}function Za(d){return typeof d=="symbol"||Qi(d)&&Hi(d)==io}var $l=Cs?ko(Cs):qi;function yA(d){return d===n}function sp(d){return Qi(d)&&Wa(d)==Ro}function vA(d){return Qi(d)&&Hi(d)==sa}var ch=gd(Yh),Cm=gd(function(d,w){return d<=w});function km(d){if(!d)return[];if(xo(d))return vc(d)?fa(d):Is(d);if(Zs&&d[Zs])return Si(d[Zs]());var w=Wa(d),R=w==mi?du:w==Wr?ja:cp;return R(d)}function Vl(d){if(!d)return d===0?d:0;if(d=wl(d),d===bn||d===-bn){var w=d<0?-1:1;return w*Me}return d===d?d:0}function xr(d){var w=Vl(d),R=w%1;return w===w?R?w-R:w:0}function Od(d){return d?tn(xr(d),0,re):0}function wl(d){if(typeof d=="number")return d;if(Za(d))return Le;if(pi(d)){var w=typeof d.valueOf=="function"?d.valueOf():d;d=pi(w)?w+"":w}if(typeof d!="string")return d===0?d:+d;d=Ff(d);var R=It.test(d);return R||hn.test(d)?Fp(d.slice(2),R?2:8):ct.test(d)?Le:+d}function fh(d){return bu(d,ms(d))}function eo(d){return d?tn(xr(d),-st,st):d===0?d:0}function Pr(d){return d==null?"":ds(d)}var Fb=Qp(function(d,w){if(pf(w)||xo(w)){bu(w,Ta(w),d);return}for(var R in w)Ur.call(w,R)&&et(d,R,w[R])}),_c=Qp(function(d,w){bu(w,ms(w),d)}),ph=Qp(function(d,w,R,H){bu(w,ms(w),d,H)}),Mv=Qp(function(d,w,R,H){bu(w,Ta(w),d,H)}),Md=Ac(Ft);function Cu(d,w){var R=k(d);return w==null?R:gt(R,w)}var Ld=Er(function(d,w){d=Ln(d);var R=-1,H=w.length,se=H>2?w[2]:n;for(se&&ia(w[0],w[1],se)&&(H=1);++R<H;)for(var Ee=w[R],$e=ms(Ee),Ye=-1,ut=$e.length;++Ye<ut;){var Dt=$e[Ye],Bt=d[Dt];(Bt===n||Tr(Bt,ps[Dt])&&!Ur.call(d,Dt))&&(d[Dt]=Ee[Dt])}return d}),_A=Er(function(d){return d.push(n,hm),co(up,n,d)});function Rd(d,w){return Hs(d,Kn(w,3),Ii)}function Dd(d,w){return Hs(d,Kn(w,3),so)}function Tm(d,w){return d==null?d:Hr(d,Kn(w,3),ms)}function Lv(d,w){return d==null?d:Vi(d,Kn(w,3),ms)}function xA(d,w){return d&&Ii(d,Kn(w,3))}function Rv(d,w){return d&&so(d,Kn(w,3))}function Dv(d){return d==null?[]:Xi(d,Ta(d))}function Fv(d){return d==null?[]:Xi(d,ms(d))}function Fd(d,w,R){var H=d==null?n:fi(d,w);return H===n?R:H}function Bv(d,w){return d!=null&&tv(d,w,wa)}function Xa(d,w){return d!=null&&tv(d,w,dl)}var Bd=Zy(function(d,w,R){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),d[w]=R},Gb(Sl)),zv=Zy(function(d,w,R){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),Ur.call(d,w)?d[w].push(R):d[w]=[R]},Kn),ku=Er(ml);function Ta(d){return xo(d)?Pe(d):uc(d)}function ms(d){return xo(d)?Pe(d,!0):Hp(d)}function lp(d,w){var R={};return w=Kn(w,3),Ii(d,function(H,se,Ee){zt(R,w(H,se,Ee),H)}),R}function hh(d,w){var R={};return w=Kn(w,3),Ii(d,function(H,se,Ee){zt(R,se,w(H,se,Ee))}),R}var Ah=Qp(function(d,w,R){xu(d,w,R)}),up=Qp(function(d,w,R,H){xu(d,w,R,H)}),dh=Ac(function(d,w){var R={};if(d==null)return R;var H=!1;w=ei(w,function(Ee){return Ee=fc(Ee,d),H||(H=Ee.length>1),Ee}),bu(d,dm(d),R),H&&(R=mn(R,F|z|U,ub));for(var se=w.length;se--;)sf(R,w[se]);return R});function Nv(d,w){return Pm(d,_i(Kn(w)))}var Uv=Ac(function(d,w){return d==null?{}:Gf(d,w)});function Pm(d,w){if(d==null)return{};var R=ei(dm(d),function(H){return[H]});return w=Kn(w),Ra(d,R,function(H,se){return w(H,se[0])})}function jv(d,w,R){w=fc(w,d);var H=-1,se=w.length;for(se||(se=1,d=n);++H<se;){var Ee=d==null?n:d[xl(w[H])];Ee===n&&(H=se,Ee=R),d=Ys(Ee)?Ee.call(d):Ee}return d}function Im(d,w,R){return d==null?d:qp(d,w,R)}function Om(d,w,R,H){return H=typeof H=="function"?H:n,d==null?d:qp(d,w,R,H)}var Tu=Sa(Ta),Mm=Sa(ms);function Lm(d,w,R){var H=Xn(d),se=H||ma(d)||$l(d);if(w=Kn(w,4),R==null){var Ee=d&&d.constructor;se?R=H?new Ee:[]:pi(d)?R=Ys(Ee)?k(Fo(d)):{}:R={}}return(se?fo:Ii)(d,function($e,Ye,ut){return w(R,$e,Ye,ut)}),R}function Rm(d,w){return d==null?!0:sf(d,w)}function $v(d,w,R){return d==null?d:$y(d,w,Qf(R))}function Dm(d,w,R,H){return H=typeof H=="function"?H:n,d==null?d:$y(d,w,Qf(R),H)}function cp(d){return d==null?[]:Zc(d,Ta(d))}function Vv(d){return d==null?[]:Zc(d,ms(d))}function Fm(d,w,R){return R===n&&(R=w,w=n),R!==n&&(R=wl(R),R=R===R?R:0),w!==n&&(w=wl(w),w=w===w?w:0),tn(wl(d),w,R)}function Hv(d,w,R){return w=Vl(w),R===n?(R=w,w=0):R=Vl(R),d=wl(d),As(d,w,R)}function bA(d,w,R){if(R&&typeof R!="boolean"&&ia(d,w,R)&&(w=R=n),R===n&&(typeof w=="boolean"?(R=w,w=n):typeof d=="boolean"&&(R=d,d=n)),d===n&&w===n?(d=0,w=1):(d=Vl(d),w===n?(w=d,d=0):w=Vl(w)),d>w){var H=d;d=w,w=H}if(R||d%1||w%1){var se=Bn();return Wn(d+se*(w-d+Hc("1e-"+((se+"").length-1))),w)}return rm(d,w)}var qv=Wp(function(d,w,R){return w=w.toLowerCase(),d+(R?wA(w):w)});function wA(d){return qb(Pr(d).toLowerCase())}function Gv(d){return d=Pr(d),d&&d.replace(Qt,Ui).replace($c,"")}function Qv(d,w,R){d=Pr(d),w=ds(w);var H=d.length;R=R===n?H:tn(xr(R),0,H);var se=R;return R-=w.length,R>=0&&d.slice(R,se)==w}function Bb(d){return d=Pr(d),d&&Ci.test(d)?d.replace(La,Xc):d}function zb(d){return d=Pr(d),d&&qe.test(d)?d.replace(je,"\\$&"):d}var Nb=Wp(function(d,w,R){return d+(R?"-":"")+w.toLowerCase()}),Ub=Wp(function(d,w,R){return d+(R?" ":"")+w.toLowerCase()}),jb=Ky("toLowerCase");function $b(d,w,R){d=Pr(d),w=xr(w);var H=w?cs(d):0;if(!w||H>=w)return d;var se=(w-H)/2;return lf(Va(se),R)+d+lf(mo(se),R)}function Vb(d,w,R){d=Pr(d),w=xr(w);var H=w?cs(d):0;return w&&H<w?d+lf(w-H,R):d}function Hb(d,w,R){d=Pr(d),w=xr(w);var H=w?cs(d):0;return w&&H<w?lf(w-H,R)+d:d}function Pu(d,w,R){return R||w==null?w=0:w&&(w=+w),Pi(Pr(d).replace(Ue,""),w||0)}function zd(d,w,R){return(R?ia(d,w,R):w===n)?w=1:w=xr(w),im(Pr(d),w)}function Wv(){var d=arguments,w=Pr(d[0]);return d.length<3?w:w.replace(d[1],d[2])}var SA=Wp(function(d,w,R){return d+(R?"_":"")+w.toLowerCase()});function Kv(d,w,R){return R&&typeof R!="number"&&ia(d,w,R)&&(w=R=n),R=R===n?re:R>>>0,R?(d=Pr(d),d&&(typeof w=="string"||w!=null&&!ap(w))&&(w=ds(w),!w&&hl(d))?yl(fa(d),0,R):d.split(w,R)):[]}var RD=Wp(function(d,w,R){return d+(R?" ":"")+qb(w)});function DD(d,w,R){return d=Pr(d),R=R==null?0:tn(xr(R),0,d.length),w=ds(w),d.slice(R,R+w.length)==w}function FD(d,w,R){var H=_.templateSettings;R&&ia(d,w,R)&&(w=n),d=Pr(d),w=ph({},w,H,pm);var se=ph({},w.imports,H.imports,pm),Ee=Ta(se),$e=Zc(se,Ee),Ye,ut,Dt=0,Bt=w.interpolate||Ar,Gt="__p += '",Sn=ur((w.escape||Ar).source+"|"+Bt.source+"|"+(Bt===ae?Lt:Ar).source+"|"+(w.evaluate||Ar).source+"|$","g"),Nn="//# sourceURL="+(Ur.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ll+"]")+`
`;d.replace(Sn,function(ar,Gr,ii,Hl,Js,ql){return ii||(ii=Hl),Gt+=d.slice(Dt,ql).replace(Jn,rc),Gr&&(Ye=!0,Gt+=`' +
__e(`+Gr+`) +
'`),Js&&(ut=!0,Gt+=`';
`+Js+`;
__p += '`),ii&&(Gt+=`' +
((__t = (`+ii+`)) == null ? '' : __t) +
'`),Dt=ql+ar.length,ar}),Gt+=`';
`;var or=Ur.call(w,"variable")&&w.variable;if(!or)Gt=`with (obj) {
`+Gt+`
}
`;else if(A.test(or))throw new er(x);Gt=(ut?Gt.replace(dr,""):Gt).replace(Eo,"$1").replace(Jr,"$1;"),Gt="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gt+`return __p
}`;var Fr=n5(function(){return wr(Ee,Nn+"return "+Gt).apply(n,$e)});if(Fr.source=Gt,sh(Fr))throw Fr;return Fr}function BD(d){return Pr(d).toLowerCase()}function zD(d){return Pr(d).toUpperCase()}function ND(d,w,R){if(d=Pr(d),d&&(R||w===n))return Ff(d);if(!d||!(w=ds(w)))return d;var H=fa(d),se=fa(w),Ee=pl(H,se),$e=Bf(H,se)+1;return yl(H,Ee,$e).join("")}function UD(d,w,R){if(d=Pr(d),d&&(R||w===n))return d.slice(0,fs(d)+1);if(!d||!(w=ds(w)))return d;var H=fa(d),se=Bf(H,fa(w))+1;return yl(H,0,se).join("")}function jD(d,w,R){if(d=Pr(d),d&&(R||w===n))return d.replace(Ue,"");if(!d||!(w=ds(w)))return d;var H=fa(d),se=pl(H,fa(w));return yl(H,se).join("")}function $D(d,w){var R=tt,H=Xe;if(pi(w)){var se="separator"in w?w.separator:se;R="length"in w?xr(w.length):R,H="omission"in w?ds(w.omission):H}d=Pr(d);var Ee=d.length;if(hl(d)){var $e=fa(d);Ee=$e.length}if(R>=Ee)return d;var Ye=R-cs(H);if(Ye<1)return H;var ut=$e?yl($e,0,Ye).join(""):d.slice(0,Ye);if(se===n)return ut+H;if($e&&(Ye+=ut.length-Ye),ap(se)){if(d.slice(Ye).search(se)){var Dt,Bt=ut;for(se.global||(se=ur(se.source,Pr(jt.exec(se))+"g")),se.lastIndex=0;Dt=se.exec(Bt);)var Gt=Dt.index;ut=ut.slice(0,Gt===n?Ye:Gt)}}else if(d.indexOf(ds(se),Ye)!=Ye){var Sn=ut.lastIndexOf(se);Sn>-1&&(ut=ut.slice(0,Sn))}return ut+H}function VD(d){return d=Pr(d),d&&Ht.test(d)?d.replace(la,Gs):d}var HD=Wp(function(d,w,R){return d+(R?" ":"")+w.toUpperCase()}),qb=Ky("toUpperCase");function t5(d,w,R){return d=Pr(d),w=R?n:w,w===n?ic(d)?Yc(d):cl(d):d.match(w)||[]}var n5=Er(function(d,w){try{return co(d,n,w)}catch(R){return sh(R)?R:new er(R)}}),qD=Ac(function(d,w){return fo(w,function(R){R=xl(R),zt(d,R,Zn(d[R],d))}),d});function GD(d){var w=d==null?0:d.length,R=Kn();return d=w?ei(d,function(H){if(typeof H[1]!="function")throw new ji(o);return[R(H[0]),H[1]]}):[],Er(function(H){for(var se=-1;++se<w;){var Ee=d[se];if(co(Ee[0],this,H))return co(Ee[1],this,H)}})}function QD(d){return Pn(mn(d,F))}function Gb(d){return function(){return d}}function WD(d,w){return d==null||d!==d?w:d}var KD=Kp(),ZD=Kp(!0);function Sl(d){return d}function Qb(d){return ha(typeof d=="function"?d:mn(d,F))}function XD(d){return Hf(mn(d,F))}function YD(d,w){return Jh(d,mn(w,F))}var JD=Er(function(d,w){return function(R){return ml(R,d,w)}}),eF=Er(function(d,w){return function(R){return ml(d,R,w)}});function Wb(d,w,R){var H=Ta(w),se=Xi(w,H);R==null&&!(pi(w)&&(se.length||!H.length))&&(R=w,w=d,d=this,se=Xi(w,Ta(w)));var Ee=!(pi(R)&&"chain"in R)||!!R.chain,$e=Ys(d);return fo(se,function(Ye){var ut=w[Ye];d[Ye]=ut,$e&&(d.prototype[Ye]=function(){var Dt=this.__chain__;if(Ee||Dt){var Bt=d(this.__wrapped__),Gt=Bt.__actions__=Is(this.__actions__);return Gt.push({func:ut,args:arguments,thisArg:d}),Bt.__chain__=Dt,Bt}return ut.apply(d,Ua([this.value()],arguments))})}),d}function tF(){return yi._===this&&(yi._=Zi),this}function Kb(){}function nF(d){return d=xr(d),Er(function(w){return nm(w,d)})}var rF=cm(ei),iF=cm(ul),oF=cm(Vs);function r5(d){return vd(d)?tc(xl(d)):tb(d)}function aF(d){return function(w){return d==null?n:fi(d,w)}}var sF=Yy(),lF=Yy(!0);function Zb(){return[]}function Xb(){return!1}function uF(){return{}}function cF(){return""}function fF(){return!0}function pF(d,w){if(d=xr(d),d<1||d>st)return[];var R=re,H=Wn(d,re);w=Kn(w),d-=re;for(var se=Vr(H,w);++R<d;)w(R);return se}function hF(d){return Xn(d)?ei(d,xl):Za(d)?[d]:Is(Zf(Pr(d)))}function AF(d){var w=++ac;return Pr(d)+w}var dF=md(function(d,w){return d+w},0),mF=fm("ceil"),gF=md(function(d,w){return d/w},1),yF=fm("floor");function vF(d){return d&&d.length?zn(d,Sl,ra):n}function _F(d,w){return d&&d.length?zn(d,Kn(w,2),ra):n}function xF(d){return fl(d,Sl)}function bF(d,w){return fl(d,Kn(w,2))}function wF(d){return d&&d.length?zn(d,Sl,Yh):n}function SF(d,w){return d&&d.length?zn(d,Kn(w,2),Yh):n}var EF=md(function(d,w){return d*w},1),CF=fm("round"),kF=md(function(d,w){return d-w},0);function TF(d){return d&&d.length?nc(d,Sl):0}function PF(d,w){return d&&d.length?nc(d,Kn(w,2)):0}return _.after=nn,_.ary=Cn,_.assign=Fb,_.assignIn=_c,_.assignInWith=ph,_.assignWith=Mv,_.at=Md,_.before=on,_.bind=Zn,_.bindAll=qD,_.bindKey=On,_.castArray=cr,_.chain=Su,_.chunk=uv,_.compact=cv,_.concat=fv,_.cond=GD,_.conforms=QD,_.constant=Gb,_.countBy=Ov,_.create=Cu,_.curry=yn,_.curryRight=ir,_.debounce=Hn,_.defaults=Ld,_.defaultsDeep=_A,_.defer=_r,_.delay=Tn,_.difference=pv,_.differenceBy=_b,_.differenceWith=xb,_.drop=hv,_.dropRight=Av,_.dropRightWhile=wd,_.dropWhile=dv,_.fill=Sd,_.filter=a,_.flatMap=b,_.flatMapDeep=E,_.flatMapDepth=P,_.flatten=Xf,_.flattenDeep=bb,_.flattenDepth=wb,_.flip=Or,_.flow=KD,_.flowRight=ZD,_.fromPairs=Sb,_.functions=Dv,_.functionsIn=Fv,_.groupBy=W,_.initial=mv,_.intersection=_m,_.intersectionBy=gv,_.intersectionWith=yv,_.invert=Bd,_.invertBy=zv,_.invokeMap=Y,_.iteratee=Qb,_.keyBy=ue,_.keys=Ta,_.keysIn=ms,_.map=Ae,_.mapKeys=lp,_.mapValues=hh,_.matches=XD,_.matchesProperty=YD,_.memoize=li,_.merge=Ah,_.mergeWith=up,_.method=JD,_.methodOf=eF,_.mixin=Wb,_.negate=_i,_.nthArg=nF,_.omit=dh,_.omitBy=Nv,_.once=Oi,_.orderBy=Ce,_.over=rF,_.overArgs=xi,_.overEvery=iF,_.overSome=oF,_.partial=Ei,_.partialRight=_o,_.partition=ke,_.pick=Uv,_.pickBy=Pm,_.property=r5,_.propertyOf=aF,_.pull=xm,_.pullAll=vv,_.pullAllBy=eh,_.pullAllWith=uA,_.pullAt=Kr,_.range=sF,_.rangeRight=lF,_.rearg=Io,_.reject=nt,_.remove=kb,_.rest=Ca,_.reverse=cA,_.sampleSize=ft,_.set=Im,_.setWith=Om,_.shuffle=pt,_.slice=th,_.sortBy=Zt,_.sortedUniq=Rb,_.sortedUniqBy=_v,_.split=Kv,_.spread=Uo,_.tail=xv,_.take=bv,_.takeRight=wv,_.takeRightWhile=Cd,_.takeWhile=Jf,_.tap=Td,_.throttle=ka,_.thru=np,_.toArray=km,_.toPairs=Tu,_.toPairsIn=Mm,_.toPath=hF,_.toPlainObject=fh,_.transform=Lm,_.unary=Ji,_.union=bm,_.unionBy=nh,_.unionWith=Sv,_.uniq=yo,_.uniqBy=vi,_.uniqWith=Ev,_.unset=Rm,_.unzip=kd,_.unzipWith=wm,_.update=$v,_.updateWith=Dm,_.values=cp,_.valuesIn=Vv,_.without=Cv,_.words=t5,_.wrap=jo,_.xor=kv,_.xorBy=Sm,_.xorWith=ep,_.zip=tp,_.zipObject=Tv,_.zipObjectDeep=vo,_.zipWith=fA,_.entries=Tu,_.entriesIn=Mm,_.extend=_c,_.extendWith=ph,Wb(_,_),_.add=dF,_.attempt=n5,_.camelCase=qv,_.capitalize=wA,_.ceil=mF,_.clamp=Fm,_.clone=ri,_.cloneDeep=Cr,_.cloneDeepWith=Da,_.cloneWith=qr,_.conformsTo=Aa,_.deburr=Gv,_.defaultTo=WD,_.divide=gF,_.endsWith=Qv,_.eq=Tr,_.escape=Bb,_.escapeRegExp=zb,_.every=r,_.find=u,_.findIndex=sA,_.findKey=Rd,_.findLast=g,_.findLastIndex=lA,_.findLastKey=Dd,_.floor=yF,_.forEach=B,_.forEachRight=$,_.forIn=Tm,_.forInRight=Lv,_.forOwn=xA,_.forOwnRight=Rv,_.get=Fd,_.gt=lo,_.gte=da,_.has=Bv,_.hasIn=Xa,_.head=Yf,_.identity=Sl,_.includes=Z,_.indexOf=vm,_.inRange=Hv,_.invoke=ku,_.isArguments=fr,_.isArray=Xn,_.isArrayBuffer=Ls,_.isArrayLike=xo,_.isArrayLikeObject=pr,_.isBoolean=Eu,_.isBuffer=ma,_.isDate=ih,_.isElement=rp,_.isEmpty=oh,_.isEqual=gc,_.isEqualWith=ah,_.isError=sh,_.isFinite=lh,_.isFunction=Ys,_.isInteger=pA,_.isLength=ip,_.isMap=op,_.isMatch=df,_.isMatchWith=uh,_.isNaN=Pd,_.isNative=Id,_.isNil=AA,_.isNull=hA,_.isNumber=dA,_.isObject=pi,_.isObjectLike=Qi,_.isPlainObject=yc,_.isRegExp=ap,_.isSafeInteger=mA,_.isSet=gA,_.isString=vc,_.isSymbol=Za,_.isTypedArray=$l,_.isUndefined=yA,_.isWeakMap=sp,_.isWeakSet=vA,_.join=Eb,_.kebabCase=Nb,_.last=bl,_.lastIndexOf=Cb,_.lowerCase=Ub,_.lowerFirst=jb,_.lt=ch,_.lte=Cm,_.max=vF,_.maxBy=_F,_.mean=xF,_.meanBy=bF,_.min=wF,_.minBy=SF,_.stubArray=Zb,_.stubFalse=Xb,_.stubObject=uF,_.stubString=cF,_.stubTrue=fF,_.multiply=EF,_.nth=Ed,_.noConflict=tF,_.noop=Kb,_.now=gn,_.pad=$b,_.padEnd=Vb,_.padStart=Hb,_.parseInt=Pu,_.random=bA,_.reduce=He,_.reduceRight=Fe,_.repeat=zd,_.replace=Wv,_.result=jv,_.round=CF,_.runInContext=rt,_.sample=it,_.size=kt,_.snakeCase=SA,_.some=Ut,_.sortedIndex=Tb,_.sortedIndexBy=Pb,_.sortedIndexOf=Ib,_.sortedLastIndex=Ob,_.sortedLastIndexBy=Mb,_.sortedLastIndexOf=Lb,_.startCase=RD,_.startsWith=DD,_.subtract=kF,_.sum=TF,_.sumBy=PF,_.template=FD,_.times=pF,_.toFinite=Vl,_.toInteger=xr,_.toLength=Od,_.toLower=BD,_.toNumber=wl,_.toSafeInteger=eo,_.toString=Pr,_.toUpper=zD,_.trim=ND,_.trimEnd=UD,_.trimStart=jD,_.truncate=$D,_.unescape=VD,_.uniqueId=AF,_.upperCase=HD,_.upperFirst=qb,_.each=B,_.eachRight=$,_.first=Yf,Wb(_,function(){var d={};return Ii(_,function(w,R){Ur.call(_.prototype,R)||(d[R]=w)}),d}(),{chain:!1}),_.VERSION=i,fo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){_[d].placeholder=_}),fo(["drop","take"],function(d,w){N.prototype[d]=function(R){R=R===n?1:rr(xr(R),0);var H=this.__filtered__&&!w?new N(this):this.clone();return H.__filtered__?H.__takeCount__=Wn(R,H.__takeCount__):H.__views__.push({size:Wn(R,re),type:d+(H.__dir__<0?"Right":"")}),H},N.prototype[d+"Right"]=function(R){return this.reverse()[d](R).reverse()}}),fo(["filter","map","takeWhile"],function(d,w){var R=w+1,H=R==Ot||R==Jt;N.prototype[d]=function(se){var Ee=this.clone();return Ee.__iteratees__.push({iteratee:Kn(se,3),type:R}),Ee.__filtered__=Ee.__filtered__||H,Ee}}),fo(["head","last"],function(d,w){var R="take"+(w?"Right":"");N.prototype[d]=function(){return this[R](1).value()[0]}}),fo(["initial","tail"],function(d,w){var R="drop"+(w?"":"Right");N.prototype[d]=function(){return this.__filtered__?new N(this):this[R](1)}}),N.prototype.compact=function(){return this.filter(Sl)},N.prototype.find=function(d){return this.filter(d).head()},N.prototype.findLast=function(d){return this.reverse().find(d)},N.prototype.invokeMap=Er(function(d,w){return typeof d=="function"?new N(this):this.map(function(R){return ml(R,d,w)})}),N.prototype.reject=function(d){return this.filter(_i(Kn(d)))},N.prototype.slice=function(d,w){d=xr(d);var R=this;return R.__filtered__&&(d>0||w<0)?new N(R):(d<0?R=R.takeRight(-d):d&&(R=R.drop(d)),w!==n&&(w=xr(w),R=w<0?R.dropRight(-w):R.take(w-d)),R)},N.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},N.prototype.toArray=function(){return this.take(re)},Ii(N.prototype,function(d,w){var R=/^(?:filter|find|map|reject)|While$/.test(w),H=/^(?:head|last)$/.test(w),se=_[H?"take"+(w=="last"?"Right":""):w],Ee=H||/^find/.test(w);se&&(_.prototype[w]=function(){var $e=this.__wrapped__,Ye=H?[1]:arguments,ut=$e instanceof N,Dt=Ye[0],Bt=ut||Xn($e),Gt=function(Gr){var ii=se.apply(_,Ua([Gr],Ye));return H&&Sn?ii[0]:ii};Bt&&R&&typeof Dt=="function"&&Dt.length!=1&&(ut=Bt=!1);var Sn=this.__chain__,Nn=!!this.__actions__.length,or=Ee&&!Sn,Fr=ut&&!Nn;if(!Ee&&Bt){$e=Fr?$e:new N(this);var ar=d.apply($e,Ye);return ar.__actions__.push({func:np,args:[Gt],thisArg:n}),new I(ar,Sn)}return or&&Fr?d.apply(this,Ye):(ar=this.thru(Gt),or?H?ar.value()[0]:ar.value():ar)})}),fo(["pop","push","shift","sort","splice","unshift"],function(d){var w=gu[d],R=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",H=/^(?:pop|shift)$/.test(d);_.prototype[d]=function(){var se=arguments;if(H&&!this.__chain__){var Ee=this.value();return w.apply(Xn(Ee)?Ee:[],se)}return this[R](function($e){return w.apply(Xn($e)?$e:[],se)})}}),Ii(N.prototype,function(d,w){var R=_[w];if(R){var H=R.name+"";Ur.call(Po,H)||(Po[H]=[]),Po[H].push({name:w,func:R})}}),Po[Os(n,V).name]=[{name:"wrapper",func:n}],N.prototype.clone=Q,N.prototype.reverse=ie,N.prototype.value=ce,_.prototype.at=Em,_.prototype.chain=rh,_.prototype.commit=mc,_.prototype.next=Pv,_.prototype.plant=Db,_.prototype.reverse=No,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Af,_.prototype.first=_.prototype.head,Zs&&(_.prototype[Zs]=Iv),_},Qs=mu();Us?((Us.exports=Qs)._=Qs,uu._=Qs):yi._=Qs}).call(Ru)})(i9,ns);var Dc={},Vu={},Vh={},o9={get exports(){return Vh},set exports(e){Vh=e}},no={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2=60103,N2=60106,vy=60107,_y=60108,xy=60114,by=60109,wy=60110,Sy=60112,Ey=60113,TE=60120,Cy=60115,ky=60116,UO=60121,jO=60122,$O=60117,VO=60129,HO=60131;if(typeof Symbol=="function"&&Symbol.for){var gs=Symbol.for;z2=gs("react.element"),N2=gs("react.portal"),vy=gs("react.fragment"),_y=gs("react.strict_mode"),xy=gs("react.profiler"),by=gs("react.provider"),wy=gs("react.context"),Sy=gs("react.forward_ref"),Ey=gs("react.suspense"),TE=gs("react.suspense_list"),Cy=gs("react.memo"),ky=gs("react.lazy"),UO=gs("react.block"),jO=gs("react.server.block"),$O=gs("react.fundamental"),VO=gs("react.debug_trace_mode"),HO=gs("react.legacy_hidden")}function Fc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case z2:switch(e=e.type,e){case vy:case xy:case _y:case Ey:case TE:return e;default:switch(e=e&&e.$$typeof,e){case wy:case Sy:case ky:case Cy:case by:return e;default:return t}}case N2:return t}}}var a9=by,s9=z2,l9=Sy,u9=vy,c9=ky,f9=Cy,p9=N2,h9=xy,A9=_y,d9=Ey;no.ContextConsumer=wy;no.ContextProvider=a9;no.Element=s9;no.ForwardRef=l9;no.Fragment=u9;no.Lazy=c9;no.Memo=f9;no.Portal=p9;no.Profiler=h9;no.StrictMode=A9;no.Suspense=d9;no.isAsyncMode=function(){return!1};no.isConcurrentMode=function(){return!1};no.isContextConsumer=function(e){return Fc(e)===wy};no.isContextProvider=function(e){return Fc(e)===by};no.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===z2};no.isForwardRef=function(e){return Fc(e)===Sy};no.isFragment=function(e){return Fc(e)===vy};no.isLazy=function(e){return Fc(e)===ky};no.isMemo=function(e){return Fc(e)===Cy};no.isPortal=function(e){return Fc(e)===N2};no.isProfiler=function(e){return Fc(e)===xy};no.isStrictMode=function(e){return Fc(e)===_y};no.isSuspense=function(e){return Fc(e)===Ey};no.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vy||e===xy||e===VO||e===_y||e===Ey||e===TE||e===HO||typeof e=="object"&&e!==null&&(e.$$typeof===ky||e.$$typeof===Cy||e.$$typeof===by||e.$$typeof===wy||e.$$typeof===Sy||e.$$typeof===$O||e.$$typeof===UO||e[0]===jO)};no.typeOf=Fc;(function(e){e.exports=no})(o9);Object.defineProperty(Vu,"__esModule",{value:!0});Vu.isArray=_9;Vu.isBoolean=QO;Vu.isNull=WO;Vu.isNumber=GO;Vu.isObject=v9;Vu.isPrimitiveData=y9;Vu.isString=qO;Vu.isUndefined=KO;var m9=ns,g9=Vh;function qO(e){return typeof e=="string"}function GO(e){return typeof e=="number"}function QO(e){return typeof e=="boolean"}function WO(e){return e===null}function KO(e){return e===void 0}function y9(e){return qO(e)||GO(e)||QO(e)||WO(e)||KO(e)}function v9(e){return(0,m9.isPlainObject)(e)&&!(0,g9.isElement)(e)}function _9(e){return Array.isArray(e)}var U2={},ZO={},PE={};Object.defineProperty(PE,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function mk(e){return Object.prototype.toString.call(e)==="[object Object]"}function x9(e){var t,n;return mk(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(mk(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}PE.isPlainObject=x9;var IE={},z_=Ru&&Ru.__assign||function(){return z_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},z_.apply(this,arguments)},b9=Ru&&Ru.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var l=arguments[t],o=0,x=l.length;o<x;o++,s++)i[s]=l[o];return i};Object.defineProperty(IE,"__esModule",{value:!0});var qm=[];function w9(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function S9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function E9(e){return Object.getOwnPropertySymbols(e).filter(function(t){return Object.prototype.propertyIsEnumerable.call(e,t)})}function t_(e,t,n){n===void 0&&(n="");var i={indent:"	",singleQuotes:!0},s=z_(z_({},i),t),l;s.inlineCharacterLimit===void 0?l={newLine:`
`,newLineOrSpace:`
`,pad:n,indent:n+s.indent}:l={newLine:"@@__PRETTY_PRINT_NEW_LINE__@@",newLineOrSpace:"@@__PRETTY_PRINT_NEW_LINE_OR_SPACE__@@",pad:"@@__PRETTY_PRINT_PAD__@@",indent:"@@__PRETTY_PRINT_INDENT__@@"};var o=function(T){if(s.inlineCharacterLimit===void 0)return T;var M=T.replace(new RegExp(l.newLine,"g"),"").replace(new RegExp(l.newLineOrSpace,"g")," ").replace(new RegExp(l.pad+"|"+l.indent,"g"),"");return M.length<=s.inlineCharacterLimit?M:T.replace(new RegExp(l.newLine+"|"+l.newLineOrSpace,"g"),`
`).replace(new RegExp(l.pad,"g"),n).replace(new RegExp(l.indent,"g"),n+s.indent)};if(qm.indexOf(e)!==-1)return'"[Circular]"';if(e==null||typeof e=="number"||typeof e=="boolean"||typeof e=="function"||typeof e=="symbol"||S9(e))return String(e);if(e instanceof Date)return"new Date('"+e.toISOString()+"')";if(Array.isArray(e)){if(e.length===0)return"[]";qm.push(e);var x="["+l.newLine+e.map(function(T,M){var F=e.length-1===M?l.newLine:","+l.newLineOrSpace,z=t_(T,s,n+s.indent);return s.transform&&(z=s.transform(e,M,z)),l.indent+z+F}).join("")+l.pad+"]";return qm.pop(),o(x)}if(w9(e)){var S=b9(Object.keys(e),E9(e));if(s.filter&&(S=S.filter(function(M){return s.filter&&s.filter(e,M)})),S.length===0)return"{}";qm.push(e);var x="{"+l.newLine+S.map(function(M,F){var z=S.length-1===F?l.newLine:","+l.newLineOrSpace,U=typeof M=="symbol",q=!U&&/^[a-z$_][a-z$_0-9]*$/i.test(M.toString()),K=U||q?M:t_(M,s),ee=t_(e[M],s,n+s.indent);return s.transform&&(ee=s.transform(e,M,ee)),l.indent+String(K)+": "+ee+z}).join("")+l.pad+"}";return qm.pop(),o(x)}return e=String(e).replace(/[\r\n]/g,function(T){return T===`
`?"\\n":"\\r"}),s.singleQuotes?(e=e.replace(/\\?'/g,"\\'"),"'"+e+"'"):(e=e.replace(/"/g,'\\"'),'"'+e+'"')}IE.prettyPrint=t_;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=PE,n=$t,i=IE,s=Vh;function l(vt){return vt&&typeof vt=="object"&&"default"in vt?vt:{default:vt}}function o(vt){if(vt&&vt.__esModule)return vt;var we=Object.create(null);return vt&&Object.keys(vt).forEach(function(Je){if(Je!=="default"){var Et=Object.getOwnPropertyDescriptor(vt,Je);Object.defineProperty(we,Je,Et.get?Et:{enumerable:!0,get:function(){return vt[Je]}})}}),we.default=vt,Object.freeze(we)}var x=o(n),S=l(n),T=function(vt,we){return vt===0?"":new Array(vt*we).fill(" ").join("")};function M(vt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(we){return typeof we}:M=function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},M(vt)}function F(vt){return z(vt)||U(vt)||q(vt)||ee()}function z(vt){if(Array.isArray(vt))return K(vt)}function U(vt){if(typeof Symbol<"u"&&vt[Symbol.iterator]!=null||vt["@@iterator"]!=null)return Array.from(vt)}function q(vt,we){if(vt){if(typeof vt=="string")return K(vt,we);var Je=Object.prototype.toString.call(vt).slice(8,-1);if(Je==="Object"&&vt.constructor&&(Je=vt.constructor.name),Je==="Map"||Je==="Set")return Array.from(vt);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return K(vt,we)}}function K(vt,we){(we==null||we>vt.length)&&(we=vt.length);for(var Je=0,Et=new Array(we);Je<we;Je++)Et[Je]=vt[Je];return Et}function ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(vt,we){return vt===null||M(vt)!=="object"||vt instanceof Date||vt instanceof RegExp||x.isValidElement(vt)?vt:(we.add(vt),Array.isArray(vt)?vt.map(function(Je){return V(Je,we)}):Object.keys(vt).sort().reduce(function(Je,Et){return Et==="_owner"||(Et==="current"||we.has(vt[Et])?Je[Et]="[Circular]":Je[Et]=V(vt[Et],we)),Je},{}))}function X(vt){return V(vt,new WeakSet)}var ne=function(we){return{type:"string",value:we}},he=function(we){return{type:"number",value:we}},pe=function(we,Je,Et,ln){return{type:"ReactElement",displayName:we,props:Je,defaultProps:Et,childrens:ln}},le=function(we,Je){return{type:"ReactFragment",key:we,childrens:Je}},be=Boolean(n.Fragment),Se=function(we){return!we.name||we.name==="_default"?"No Display Name":we.name},De=function vt(we){switch(!0){case Boolean(we.displayName):return we.displayName;case we.$$typeof===s.Memo:return vt(we.type);case we.$$typeof===s.ForwardRef:return vt(we.render);default:return Se(we)}},tt=function(we){switch(!0){case typeof we.type=="string":return we.type;case typeof we.type=="function":return we.type.displayName?we.type.displayName:Se(we.type);case s.isForwardRef(we):case s.isMemo(we):return De(we.type);case s.isContextConsumer(we):return"".concat(we.type._context.displayName||"Context",".Consumer");case s.isContextProvider(we):return"".concat(we.type._context.displayName||"Context",".Provider");case s.isLazy(we):return"Lazy";case s.isProfiler(we):return"Profiler";case s.isStrictMode(we):return"StrictMode";case s.isSuspense(we):return"Suspense";default:return"UnknownElementType"}},Xe=function(we,Je){return Je!=="children"},at=function(we){return we!==!0&&we!==!1&&we!==null&&we!==""},yt=function(we,Je){var Et={};return Object.keys(we).filter(function(ln){return Je(we[ln],ln)}).forEach(function(ln){return Et[ln]=we[ln]}),Et},Ot=function vt(we,Je){var Et=Je.displayName,ln=Et===void 0?tt:Et;if(typeof we=="string")return ne(we);if(typeof we=="number")return he(we);if(!S.default.isValidElement(we))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `".concat(M(we),"`"));var Gn=ln(we),Ir=yt(we.props,Xe);we.ref!==null&&(Ir.ref=we.ref);var Mn=we.key;typeof Mn=="string"&&Mn.search(/^\./)&&(Ir.key=Mn);var nr=yt(we.type.defaultProps||{},Xe),$r=S.default.Children.toArray(we.props.children).filter(at).map(function(Yr){return vt(Yr,Je)});return be&&we.type===n.Fragment?le(Mn,$r):pe(Gn,Ir,nr,$r)};function Vt(){}var Jt=function(we){return we.toString().split(`
`).map(function(Je){return Je.trim()}).join("")},bn=function(we){return we.toString()},st=Jt,Me=function(vt,we){var Je=we.functionValue,Et=Je===void 0?st:Je,ln=we.showFunctions;return Et(!ln&&Et===st?Vt:vt)},Le=function(vt,we,Je,Et){var ln=X(vt),Gn=i.prettyPrint(ln,{transform:function(Mn,nr,$r){var Yr=Mn[nr];return Yr&&n.isValidElement(Yr)?bi(Ot(Yr,Et),!0,Je,Et):typeof Yr=="function"?Me(Yr,Et):$r}});return we?Gn.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):Gn.replace(/\t/g,T(1,Et.tabStop)).replace(/\n([^$])/g,`
`.concat(T(Je+1,Et.tabStop),"$1"))},re=function(we){return we.replace(/"/g,"&quot;")},ge=function(we,Je,Et,ln){if(typeof we=="number")return"{".concat(String(we),"}");if(typeof we=="string")return'"'.concat(re(we),'"');if(M(we)==="symbol"){var Gn=we.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return Gn?"{Symbol('".concat(Gn,"')}"):"{Symbol()}"}return typeof we=="function"?"{".concat(Me(we,ln),"}"):n.isValidElement(we)?"{".concat(bi(Ot(we,ln),!0,Et,ln),"}"):we instanceof Date?isNaN(we.valueOf())?"{new Date(NaN)}":'{new Date("'.concat(we.toISOString(),'")}'):t.isPlainObject(we)||Array.isArray(we)?"{".concat(Le(we,Je,Et,ln),"}"):"{".concat(String(we),"}")},Mt=function(vt,we,Je,Et,ln,Gn,Ir,Mn){if(!we&&!Et)throw new Error('The prop "'.concat(vt,'" has no value and no default: could not be formatted'));var nr=we?Je:ln,$r=Mn.useBooleanShorthandSyntax,Yr=Mn.tabStop,dr=ge(nr,Gn,Ir,Mn),Eo=" ",Jr=`
`.concat(T(Ir+1,Yr)),la=dr.includes(`
`);return $r&&dr==="{false}"&&!Et?(Eo="",Jr=""):$r&&dr==="{true}"?(Eo+="".concat(vt),Jr+="".concat(vt)):(Eo+="".concat(vt,"=").concat(dr),Jr+="".concat(vt,"=").concat(dr)),{attributeFormattedInline:Eo,attributeFormattedMultiline:Jr,isMultilineAttribute:la}},en=function(vt,we){var Je=vt.slice(0,vt.length>0?vt.length-1:0),Et=vt[vt.length-1];return Et&&(we.type==="string"||we.type==="number")&&(Et.type==="string"||Et.type==="number")?Je.push(ne(String(Et.value)+String(we.value))):(Et&&Je.push(Et),Je.push(we)),Je},vn=function(we){return["key","ref"].includes(we)},dn=function(vt){return function(we){var Je=we.includes("key"),Et=we.includes("ref"),ln=we.filter(function(Ir){return!vn(Ir)}),Gn=F(vt?ln.sort():ln);return Et&&Gn.unshift("ref"),Je&&Gn.unshift("key"),Gn}};function En(vt,we){return Array.isArray(we)?function(Je){return we.indexOf(Je)===-1}:function(Je){return we(vt[Je],Je)}}var jn=function(we,Je,Et,ln,Gn){var Ir=Gn.tabStop;return we.type==="string"?Je.split(`
`).map(function(Mn,nr){return nr===0?Mn:"".concat(T(ln,Ir)).concat(Mn)}).join(`
`):Je},Fn=function(we,Je,Et){return function(ln){return jn(ln,bi(ln,we,Je,Et),we,Je,Et)}},Xr=function(we,Je){return function(Et){var ln=Object.keys(we).includes(Et);return!ln||ln&&we[Et]!==Je[Et]}},jr=function(we,Je,Et,ln,Gn){return Gn?T(Et,ln).length+Je.length>Gn:we.length>1},Fi=function(we,Je,Et,ln,Gn,Ir,Mn){return(jr(we,Je,Gn,Ir,Mn)||Et)&&!ln},$n=function(vt,we,Je,Et){var ln=vt.type,Gn=vt.displayName,Ir=Gn===void 0?"":Gn,Mn=vt.childrens,nr=vt.props,$r=nr===void 0?{}:nr,Yr=vt.defaultProps,dr=Yr===void 0?{}:Yr;if(ln!=="ReactElement")throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '.concat(ln));var Eo=Et.filterProps,Jr=Et.maxInlineAttributesLineLength,la=Et.showDefaultProps,La=Et.sortProps,Ht=Et.tabStop,Ci="<".concat(Ir),zr=Ci,J=Ci,ae=!1,fe=[],ve=En($r,Eo);Object.keys($r).filter(ve).filter(Xr(dr,$r)).forEach(function(qe){return fe.push(qe)}),Object.keys(dr).filter(ve).filter(function(){return la}).filter(function(qe){return!fe.includes(qe)}).forEach(function(qe){return fe.push(qe)});var Ie=dn(La)(fe);if(Ie.forEach(function(qe){var Ue=Mt(qe,Object.keys($r).includes(qe),$r[qe],Object.keys(dr).includes(qe),dr[qe],we,Je,Et),xe=Ue.attributeFormattedInline,oe=Ue.attributeFormattedMultiline,Ve=Ue.isMultilineAttribute;Ve&&(ae=!0),zr+=xe,J+=oe}),J+=`
`.concat(T(Je,Ht)),Fi(Ie,zr,ae,we,Je,Ht,Jr)?Ci=J:Ci=zr,Mn&&Mn.length>0){var je=Je+1;Ci+=">",we||(Ci+=`
`,Ci+=T(je,Ht)),Ci+=Mn.reduce(en,[]).map(Fn(we,je,Et)).join(we?"":`
`.concat(T(je,Ht))),we||(Ci+=`
`,Ci+=T(je-1,Ht)),Ci+="</".concat(Ir,">")}else jr(Ie,zr,Je,Ht,Jr)||(Ci+=" "),Ci+="/>";return Ci},mi="",gi="React.Fragment",Go=function(we,Je,Et){var ln={};return Je&&(ln={key:Je}),{type:"ReactElement",displayName:we,props:ln,defaultProps:{},childrens:Et}},Bi=function(we){var Je=we.key;return Boolean(Je)},Wi=function(we){var Je=we.childrens;return Je.length===0},Ss=function(vt,we,Je,Et){var ln=vt.type,Gn=vt.key,Ir=vt.childrens;if(ln!=="ReactFragment")throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '.concat(ln));var Mn=Et.useFragmentShortSyntax,nr;return Mn?Wi(vt)||Bi(vt)?nr=gi:nr=mi:nr=gi,$n(Go(nr,Gn,Ir),we,Je,Et)},ro=["<",">","{","}"],Wr=function(we){return ro.some(function(Je){return we.includes(Je)})},Lo=function(we){return Wr(we)?"{`".concat(we,"`}"):we},io=function(we){var Je=we;return Je.endsWith(" ")&&(Je=Je.replace(/^(.*?)(\s+)$/,"$1{'$2'}")),Je.startsWith(" ")&&(Je=Je.replace(/^(\s+)(.*)$/,"{'$1'}$2")),Je},bi=function(vt,we,Je,Et){if(vt.type==="number")return String(vt.value);if(vt.type==="string")return vt.value?"".concat(io(Lo(String(vt.value)))):"";if(vt.type==="ReactElement")return $n(vt,we,Je,Et);if(vt.type==="ReactFragment")return Ss(vt,we,Je,Et);throw new TypeError('Unknow format type "'.concat(vt.type,'"'))},Ro=function(vt,we){return bi(vt,!1,0,we)},sa=function(we){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=Je.filterProps,ln=Et===void 0?[]:Et,Gn=Je.showDefaultProps,Ir=Gn===void 0?!0:Gn,Mn=Je.showFunctions,nr=Mn===void 0?!1:Mn,$r=Je.functionValue,Yr=Je.tabStop,dr=Yr===void 0?2:Yr,Eo=Je.useBooleanShorthandSyntax,Jr=Eo===void 0?!0:Eo,la=Je.useFragmentShortSyntax,La=la===void 0?!0:la,Ht=Je.sortProps,Ci=Ht===void 0?!0:Ht,zr=Je.maxInlineAttributesLineLength,J=Je.displayName;if(!we)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var ae={filterProps:ln,showDefaultProps:Ir,showFunctions:nr,functionValue:$r,tabStop:dr,useBooleanShorthandSyntax:Jr,useFragmentShortSyntax:La,sortProps:Ci,maxInlineAttributesLineLength:zr,displayName:J};return Ro(Ot(we,ae),ae)};e.default=sa,e.inlineFunction=Jt,e.preserveFunctionLineBreak=bn})(ZO);Object.defineProperty(U2,"__esModule",{value:!0});U2.createValue=OE;U2.createValues=XO;var C9=T9(ZO),k9=Vh,Sw=Vu;function T9(e){return e&&e.__esModule?e:{default:e}}function XO(e){var t={};return Object.keys(e).forEach(function(n){t[n]=OE(e[n])}),t}function OE(e){return(0,Sw.isPrimitiveData)(e)?{type:"primitive",data:e}:(0,Sw.isArray)(e)?{type:"array",values:e.map(function(t){return OE(t)})}:(0,Sw.isObject)(e)?{type:"object",values:XO(e)}:{type:"unserializable",stringifiedData:P9(e)}}function P9(e){return(0,k9.isElement)(e)?(0,C9.default)(e):String(e)}var j2={};Object.defineProperty(j2,"__esModule",{value:!0});j2.extendWithValue=ME;j2.extendWithValues=YO;var gk=Vu;function YO(e,t){var n={};return Object.keys(t).forEach(function(i){n[i]=ME(e[i],t[i])}),n}function ME(e,t){if(t.type==="unserializable")return e;if(t.type==="object"){var n=(0,gk.isObject)(e)?e:{};return YO(n,t.values)}if(t.type==="array"){var i=(0,gk.isArray)(e)?e:[];return t.values.map(function(s,l){return ME(i[l],s)})}return t.data}var Pf={},$2={},Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.removeItemMatch=B9;Ty.replaceOrAddItem=F9;Ty.updateItem=D9;var JO=ns;function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(i){I9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function I9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zh(e){return R9(e)||L9(e)||M9(e)||O9()}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9(e,t){if(e){if(typeof e=="string")return yS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yS(e,t)}}function L9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R9(e){if(Array.isArray(e))return yS(e)}function yS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function D9(e,t,n){var i=e.indexOf(t);return[].concat(zh(e.slice(0,i)),[vk(vk({},t),n)],zh(e.slice(i+1)))}function F9(e,t,n){var i=(0,JO.findIndex)(e,t);return i!==-1?[].concat(zh(e.slice(0,i)),[n],zh(e.slice(i+1))):[].concat(zh(e),[n])}function B9(e,t){var n=(0,JO.findIndex)(e,t);return n===-1?zh(e):[].concat(zh(e.slice(0,n)),zh(e.slice(n+1)))}var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.addTreeNodeChild=$9;V2.sortTreeChildren=tM;function _k(e){return j9(e)||U9(e)||N9(e)||z9()}function z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(e,t){if(e){if(typeof e=="string")return vS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(e,t)}}function U9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j9(e){if(Array.isArray(e))return vS(e)}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(i){eM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function eM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e,t,n){e.children||(e.children={}),e.children[t]=n}function tM(e){var t=e.children;if(!t)return e;var n=Object.keys(t),i=n.filter(function(l){return t[l].children}),s=n.filter(function(l){return!t[l].children});return A1(A1({},e),{},{children:[].concat(_k(i.sort()),_k(s.sort())).reduce(function(l,o){return A1(A1({},l),{},eM({},o,tM(t[o])))},{})})}var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.uuid=nM;function nM(e){return e?(Number(e)^Math.random()*16>>Number(e)/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,nM)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TreeNode",{enumerable:!0,get:function(){return n.TreeNode}}),Object.defineProperty(e,"addTreeNodeChild",{enumerable:!0,get:function(){return n.addTreeNodeChild}}),Object.defineProperty(e,"removeItemMatch",{enumerable:!0,get:function(){return t.removeItemMatch}}),Object.defineProperty(e,"replaceOrAddItem",{enumerable:!0,get:function(){return t.replaceOrAddItem}}),Object.defineProperty(e,"sortTreeChildren",{enumerable:!0,get:function(){return n.sortTreeChildren}}),Object.defineProperty(e,"updateItem",{enumerable:!0,get:function(){return t.updateItem}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return i.uuid}});var t=Ty,n=V2,i=LE})($2);Object.defineProperty(Pf,"__esModule",{value:!0});Pf.DEFAULT_RENDER_KEY=void 0;Pf.createFixtureStateProps=H9;Pf.findFixtureStateProps=iM;Pf.getFixtureStateProps=V9;Pf.removeFixtureStateProps=Q9;Pf.resetFixtureStateProps=q9;Pf.updateFixtureStateProps=G9;var _S=ns,H2=$2,rM=0;Pf.DEFAULT_RENDER_KEY=rM;function V9(e,t){var n=e.props;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function iM(e,t){var n=e.props;return n&&(0,_S.find)(n,function(i){return(0,_S.isEqual)(i.elementId,t)})}function H9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.props,o=l===void 0?[]:l;return(0,H2.replaceOrAddItem)(o,oM(n),{elementId:n,values:i,renderKey:rM,componentName:s})}function q9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=aM(t,n);return(0,H2.updateItem)(t.props,s,{values:i,renderKey:s.renderKey+1})}function G9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=aM(t,n);return(0,H2.updateItem)(t.props,s,{values:i})}function Q9(e,t){return(0,H2.removeItemMatch)(e.props||[],oM(t))}function oM(e){return function(t){return(0,_S.isEqual)(t.elementId,e)}}function aM(e,t){var n=iM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state props missing for element "'.concat(i,'"'))}return n}var JA={};Object.defineProperty(JA,"__esModule",{value:!0});JA.createFixtureStateClassState=K9;JA.findFixtureStateClassState=sM;JA.getFixtureStateClassState=W9;JA.removeFixtureStateClassState=X9;JA.updateFixtureStateClassState=Z9;var xS=ns,RE=$2;function W9(e,t){var n=e.classState;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function sM(e,t){var n=e.classState;return n&&(0,xS.find)(n,function(i){return(0,xS.isEqual)(i.elementId,t)})}function K9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.classState,o=l===void 0?[]:l;return(0,RE.replaceOrAddItem)(o,lM(n),{elementId:n,values:i,componentName:s})}function Z9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=Y9(t,n);return(0,RE.updateItem)(t.classState,s,{values:i})}function X9(e,t){return(0,RE.removeItemMatch)(e.classState||[],lM(t))}function lM(e){return function(t){return(0,xS.isEqual)(t.elementId,e)}}function Y9(e,t){var n=sM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state class state missing for element "'.concat(i,'"'))}return n}var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.findFixtureStateControl=J9;function J9(e,t){var n=e.controls;return n&&n[t]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ArrayData",{enumerable:!0,get:function(){return t.ArrayData}}),Object.defineProperty(e,"DEFAULT_RENDER_KEY",{enumerable:!0,get:function(){return s.DEFAULT_RENDER_KEY}}),Object.defineProperty(e,"FixtureDecoratorId",{enumerable:!0,get:function(){return t.FixtureDecoratorId}}),Object.defineProperty(e,"FixtureElementId",{enumerable:!0,get:function(){return t.FixtureElementId}}),Object.defineProperty(e,"FixtureState",{enumerable:!0,get:function(){return t.FixtureState}}),Object.defineProperty(e,"FixtureStateArrayValue",{enumerable:!0,get:function(){return t.FixtureStateArrayValue}}),Object.defineProperty(e,"FixtureStateClassState",{enumerable:!0,get:function(){return t.FixtureStateClassState}}),Object.defineProperty(e,"FixtureStateControl",{enumerable:!0,get:function(){return t.FixtureStateControl}}),Object.defineProperty(e,"FixtureStateControls",{enumerable:!0,get:function(){return t.FixtureStateControls}}),Object.defineProperty(e,"FixtureStateData",{enumerable:!0,get:function(){return t.FixtureStateData}}),Object.defineProperty(e,"FixtureStateObjectValue",{enumerable:!0,get:function(){return t.FixtureStateObjectValue}}),Object.defineProperty(e,"FixtureStatePrimitiveValue",{enumerable:!0,get:function(){return t.FixtureStatePrimitiveValue}}),Object.defineProperty(e,"FixtureStateProps",{enumerable:!0,get:function(){return t.FixtureStateProps}}),Object.defineProperty(e,"FixtureStateSelectControl",{enumerable:!0,get:function(){return t.FixtureStateSelectControl}}),Object.defineProperty(e,"FixtureStateStandardControl",{enumerable:!0,get:function(){return t.FixtureStateStandardControl}}),Object.defineProperty(e,"FixtureStateUnserializableValue",{enumerable:!0,get:function(){return t.FixtureStateUnserializableValue}}),Object.defineProperty(e,"FixtureStateValue",{enumerable:!0,get:function(){return t.FixtureStateValue}}),Object.defineProperty(e,"FixtureStateValues",{enumerable:!0,get:function(){return t.FixtureStateValues}}),Object.defineProperty(e,"ObjectData",{enumerable:!0,get:function(){return t.ObjectData}}),Object.defineProperty(e,"PrimitiveData",{enumerable:!0,get:function(){return t.PrimitiveData}}),Object.defineProperty(e,"SetFixtureState",{enumerable:!0,get:function(){return t.SetFixtureState}}),Object.defineProperty(e,"createFixtureStateClassState",{enumerable:!0,get:function(){return l.createFixtureStateClassState}}),Object.defineProperty(e,"createFixtureStateProps",{enumerable:!0,get:function(){return s.createFixtureStateProps}}),Object.defineProperty(e,"createValue",{enumerable:!0,get:function(){return n.createValue}}),Object.defineProperty(e,"createValues",{enumerable:!0,get:function(){return n.createValues}}),Object.defineProperty(e,"extendWithValue",{enumerable:!0,get:function(){return i.extendWithValue}}),Object.defineProperty(e,"extendWithValues",{enumerable:!0,get:function(){return i.extendWithValues}}),Object.defineProperty(e,"findFixtureStateClassState",{enumerable:!0,get:function(){return l.findFixtureStateClassState}}),Object.defineProperty(e,"findFixtureStateControl",{enumerable:!0,get:function(){return o.findFixtureStateControl}}),Object.defineProperty(e,"findFixtureStateProps",{enumerable:!0,get:function(){return s.findFixtureStateProps}}),Object.defineProperty(e,"getFixtureStateClassState",{enumerable:!0,get:function(){return l.getFixtureStateClassState}}),Object.defineProperty(e,"getFixtureStateProps",{enumerable:!0,get:function(){return s.getFixtureStateProps}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return t.isBoolean}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return t.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return t.isObject}}),Object.defineProperty(e,"isPrimitiveData",{enumerable:!0,get:function(){return t.isPrimitiveData}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return t.isString}}),Object.defineProperty(e,"removeFixtureStateClassState",{enumerable:!0,get:function(){return l.removeFixtureStateClassState}}),Object.defineProperty(e,"removeFixtureStateProps",{enumerable:!0,get:function(){return s.removeFixtureStateProps}}),Object.defineProperty(e,"resetFixtureStateProps",{enumerable:!0,get:function(){return s.resetFixtureStateProps}}),Object.defineProperty(e,"updateFixtureStateClassState",{enumerable:!0,get:function(){return l.updateFixtureStateClassState}}),Object.defineProperty(e,"updateFixtureStateProps",{enumerable:!0,get:function(){return s.updateFixtureStateProps}});var t=Vu,n=U2,i=j2,s=Pf,l=JA,o=DE})(Dc);var Bc={},FE={},q2={};Object.defineProperty(q2,"__esModule",{value:!0});q2.getComponentName=ez;var Ew=new WeakMap;function ez(e){if(typeof e=="string")return e;if(!Ew.has(e)){var t=e.displayName||e.name||"";Ew.set(e,t)}return Ew.get(e)}var G2={};Object.defineProperty(G2,"__esModule",{value:!0});G2.isReactElement=nz;var tz=Vh;function nz(e){return(0,tz.isElement)(e)}Object.defineProperty(FE,"__esModule",{value:!0});FE.areNodesEqual=BE;var bg=ns,bk=q2,wk=G2;function BE(e,t,n){return(0,wk.isReactElement)(e)&&(0,wk.isReactElement)(t)?rz(e,t,n):Array.isArray(e)&&Array.isArray(t)?oz(e,t,n):Sk(e)&&Sk(t)?az(e,t):(0,bg.isEqual)(e,t)}function rz(e,t,n){return iz(e.type,t.type,n)?e.key===t.key&&e.ref===t.ref&&BE(e.props,t.props,n):!1}function iz(e,t,n){return n?e===t:(0,bk.getComponentName)(e)===(0,bk.getComponentName)(t)}function oz(e,t,n){return e.length!==t.length?!1:e.every(function(i,s){return BE(i,t[s],n)})}function Sk(e){return(0,bg.isPlainObject)(e)}function az(e,t){return(0,bg.isEqual)(Object.keys(e),Object.keys(t))?Object.keys(e).every(function(n){return(0,bg.isEqualWith)(e[n],t[n],function(i,s){return typeof i=="function"&&typeof s=="function"?i===s||i.toString()===s.toString():(0,bg.isEqual)(i,s)})}):!1}var Q2={},W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.isMultiFixture=lz;var sz=Vh;function bS(e){return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bS(e)}function lz(e){return e!==null&&bS(e)==="object"&&!(0,sz.isElement)(e)}Object.defineProperty(Q2,"__esModule",{value:!0});Q2.getFixtureListFromExports=fz;Q2.getFixtureListFromWrappers=cz;var uz=W2;function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(i){zE(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){return Object.keys(e).reduce(function(t,n){return N_(N_({},t),{},zE({},n,pz(e[n])))},{})}function fz(e){return Object.keys(e).reduce(function(t,n){return N_(N_({},t),{},zE({},n,uM(e[n])))},{})}function pz(e){return uM(e.module.default)}function uM(e){return(0,uz.isMultiFixture)(e)?{type:"multi",fixtureNames:Object.keys(e)}:{type:"single"}}var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.getSortedDecoratorsForFixturePath=yz;function hz(e){return gz(e)||mz(e)||dz(e)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(e,t){if(e){if(typeof e=="string")return wS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(e,t)}}function mz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gz(e){if(Array.isArray(e))return wS(e)}function wS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(i){cM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e,t){return bz(vz(t,e))}function vz(e,t){return Object.keys(e).filter(function(n){return _z(xz(n),t)}).reduce(function(n,i){return kk(kk({},n),{},cM({},i,e[i]))},{})}function _z(e,t){return e===""||t.indexOf("".concat(e,"/"))===0}function xz(e){return e.replace(/^((.+)\/)?.+$/,"$2")}function bz(e){return wz(Object.keys(e)).map(function(t){return e[t]})}function wz(e){return hz(e).sort(function(t,n){return Tk(t)-Tk(n)||t.localeCompare(n)})}function Tk(e){return e.split("/").length}var fM={};Object.defineProperty(fM,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReactDecorator",{enumerable:!0,get:function(){return x.ReactDecorator}}),Object.defineProperty(e,"ReactDecoratorProps",{enumerable:!0,get:function(){return x.ReactDecoratorProps}}),Object.defineProperty(e,"ReactDecorators",{enumerable:!0,get:function(){return x.ReactDecorators}}),Object.defineProperty(e,"ReactFixture",{enumerable:!0,get:function(){return x.ReactFixture}}),Object.defineProperty(e,"ReactFixtureExport",{enumerable:!0,get:function(){return x.ReactFixtureExport}}),Object.defineProperty(e,"ReactFixtureExports",{enumerable:!0,get:function(){return x.ReactFixtureExports}}),Object.defineProperty(e,"ReactFixtureMap",{enumerable:!0,get:function(){return x.ReactFixtureMap}}),Object.defineProperty(e,"ReactFixtureModule",{enumerable:!0,get:function(){return x.ReactFixtureModule}}),Object.defineProperty(e,"ReactFixtureWrapper",{enumerable:!0,get:function(){return x.ReactFixtureWrapper}}),Object.defineProperty(e,"ReactFixtureWrappers",{enumerable:!0,get:function(){return x.ReactFixtureWrappers}}),Object.defineProperty(e,"areNodesEqual",{enumerable:!0,get:function(){return t.areNodesEqual}}),Object.defineProperty(e,"getComponentName",{enumerable:!0,get:function(){return n.getComponentName}}),Object.defineProperty(e,"getFixtureListFromExports",{enumerable:!0,get:function(){return i.getFixtureListFromExports}}),Object.defineProperty(e,"getFixtureListFromWrappers",{enumerable:!0,get:function(){return i.getFixtureListFromWrappers}}),Object.defineProperty(e,"getSortedDecoratorsForFixturePath",{enumerable:!0,get:function(){return s.getSortedDecoratorsForFixturePath}}),Object.defineProperty(e,"isMultiFixture",{enumerable:!0,get:function(){return l.isMultiFixture}}),Object.defineProperty(e,"isReactElement",{enumerable:!0,get:function(){return o.isReactElement}});var t=FE,n=q2,i=Q2,s=NE,l=W2,o=G2,x=fM})(Bc);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.FixtureContext=void 0;var Sz=$t,Ez=(0,Sz.createContext)({fixtureState:{},setFixtureState:function(){}});ol.FixtureContext=Ez;var ed={},Py={},UE={},td={};Object.defineProperty(td,"__esModule",{value:!0});td.getChildrenPath=Cz;td.isRootPath=pM;function Cz(e){return pM(e)?"props.children":"".concat(e,".props.children")}function pM(e){return e===""}Object.defineProperty(UE,"__esModule",{value:!0});UE.findElementPaths=ES;var kz=ns,Tz=$t,Pz=Bc,Iz=td;function Oz(e){return Dz(e)||Rz(e)||Lz(e)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(e,t){if(e){if(typeof e=="string")return SS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(e,t)}}function Rz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dz(e){if(Array.isArray(e))return SS(e)}function SS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ES(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Array.isArray(e))return(0,kz.flatten)(e.map(function(s,l){return ES(s,"".concat(t,"[").concat(l,"]"))}));if(!(0,Pz.isReactElement)(e))return[];var n=e.props.children,i=typeof n!="function"?ES(n,(0,Iz.getChildrenPath)(t)):[];return e.type===Tz.Fragment?i:[t].concat(Oz(i))}var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.getElementAtPath=hM;Iy.getExpectedElementAtPath=zz;var Fz=ns,Pk=Bc,Bz=td;function hM(e,t){if(!(0,Pk.isReactElement)(e)&&!Array.isArray(e))return null;var n=e,i=(0,Bz.isRootPath)(t)?n:(0,Fz.get)(n,t);return(0,Pk.isReactElement)(i)?i:null}function zz(e,t){var n=hM(e,t);if(!n)throw new Error("Element not found at path: ".concat(t));return n}var jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.setElementAtPath=Qz;var Nz=ns,Uz=Bc,jz=Iy,$z=td,Vz=["children"];function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(i){Hz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Hz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qz(e,t){if(e==null)return{};var n=Gz(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Gz(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Qz(e,t,n){var i=(0,jz.getExpectedElementAtPath)(e,t),s=n(i);return(0,$z.isRootPath)(t)?s:(0,Nz.set)(CS(e),t,s)}function CS(e){if(Array.isArray(e))return e.map(function(s){return CS(s)});if((0,Uz.isReactElement)(e)){var t=e.props,n=t.children,i=qz(t,Vz);return d1(d1({},e),{},{props:d1(d1({},i),{},{children:CS(n)})})}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"findElementPaths",{enumerable:!0,get:function(){return t.findElementPaths}}),Object.defineProperty(e,"getChildrenPath",{enumerable:!0,get:function(){return s.getChildrenPath}}),Object.defineProperty(e,"getElementAtPath",{enumerable:!0,get:function(){return n.getElementAtPath}}),Object.defineProperty(e,"getExpectedElementAtPath",{enumerable:!0,get:function(){return n.getExpectedElementAtPath}}),Object.defineProperty(e,"setElementAtPath",{enumerable:!0,get:function(){return i.setElementAtPath}});var t=UE,n=Iy,i=jE,s=td})(Py);Object.defineProperty(ed,"__esModule",{value:!0});ed.findRelevantElementPaths=Wz;var Ok=Py;function kS(e){return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kS(e)}function Wz(e){var t=(0,Ok.findElementPaths)(e);return t.filter(function(n){var i=(0,Ok.getExpectedElementAtPath)(e,n),s=i.type;if(kS(s)==="symbol")return!1;if(typeof s=="string")return Kz(s);var l=s;return l.cosmosCapture!==!1&&Zz(l)})}function Kz(e){return e!=="div"&&e!=="span"}function Zz(e){return e.name!=="StyledComponent"}var $E={},VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.isRefSupported=eN;var Xz=Jz($t),Yz=Vh;function Jz(e){return e&&e.__esModule?e:{default:e}}function eN(e){if(typeof e=="string")return!1;var t=e,n=t.$$typeof,i=t.prototype;return n===Yz.ForwardRef||i&&(i instanceof Xz.default.Component||i.getInitialState!==void 0)&&!0}Object.defineProperty($E,"__esModule",{value:!0});$E.decorateFixtureRefs=aN;var tN=oN($t),nN=Py,rN=ed,iN=VE;function oN(e){return e&&e.__esModule?e:{default:e}}function aN(e,t,n){var i=(0,rN.findRelevantElementPaths)(e);return i.reduce(function(s,l){return(0,nN.setElementAtPath)(s,l,function(o){return(0,iN.isRefSupported)(o.type)?tN.default.cloneElement(o,{ref:sN(o.ref,t,l,n)}):o})},e)}function sN(e,t,n,i){var s=i[n];if(s&&s.origRef===e)return s.handler;var l=lN(e,t,n);return i[n]={origRef:e,handler:l},l}function lN(e,t,n){return function(i){e&&uN(e,i),t(n,i)}}function uN(e,t){if(typeof e=="string"){console.warn("[decorateFixtureRefs] String refs are not supported");return}if(typeof e=="function"){e(t);return}var n=e;n.current=t}var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.replaceState=fN;var cN=ns;function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(i){AM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fN(e,t){var n=pN(e.state,t);(0,cN.isEqual)(n,e.state)||e.setState(n)}function pN(e,t){return Object.keys(e).reduce(function(n,i){return Object.keys(n).indexOf(i)===-1?Lk(Lk({},n),{},AM({},i,void 0)):n},t)}Object.defineProperty(kE,"__esModule",{value:!0});kE.useFixtureState=yN;var Rk=ns,yp=mN($t),wc=Dc,Dk=Bc,hN=ol,AN=ed,dN=$E,Cw=HE;function mN(e){return e&&e.__esModule?e:{default:e}}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(i){gN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yN(e,t,n){var i=(0,AN.findRelevantElementPaths)(e),s=yp.default.useContext(hN.FixtureContext),l=s.fixtureState,o=s.setFixtureState,x=vN(l),S=yp.default.useRef(l),T=yp.default.useRef({}),M=yp.default.useRef({});return yp.default.useEffect(function(){return function(){T.current={},M.current={}}},[]),yp.default.useEffect(function(){var z=(0,wc.getFixtureStateClassState)(l,t);z.forEach(function(U){var q=U.elementId,K=q.elPath;i.indexOf(q.elPath)===-1&&(o(function(ee){return Ud(Ud({},ee),{},{classState:(0,wc.removeFixtureStateClassState)(l,q)})}),n.current[K]&&(delete n.current[K],delete T.current[K],delete M.current[K]))}),i.forEach(function(U){var q={decoratorId:t,elPath:U},K=(0,wc.findFixtureStateClassState)(l,q);if(K){var X=n.current[U];if(!X)return;var ne=(0,wc.findFixtureStateClassState)(S.current,q);if(ne&&!(0,Rk.isEqual)(ne,K))return(0,Cw.replaceState)(X,(0,wc.extendWithValues)(X.state,K.values))}else if(T.current[U]){var ee=T.current[U].state,V=n.current[U];(0,Rk.isEqual)(V.state,ee)||(0,Cw.replaceState)(V,ee),o(function(he){return Ud(Ud({},he),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:he,elementId:q,values:(0,wc.createValues)(ee),componentName:(0,Dk.getComponentName)(V.constructor)})})})}})},[t,i,n,l,l.classState,o]),yp.default.useEffect(function(){S.current=l}),(0,dN.decorateFixtureRefs)(e,F,M.current);function F(z,U){if(!U){delete n.current[z];return}var q=U.state;if(q){n.current[z]=U,_N(T.current,z,U);var K={decoratorId:t,elPath:z},ee=(0,wc.findFixtureStateClassState)(x.current,K);ee?(0,Cw.replaceState)(U,(0,wc.extendWithValues)(q,ee.values)):o(function(V){return Ud(Ud({},V),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:V,elementId:K,values:(0,wc.createValues)(q),componentName:(0,Dk.getComponentName)(U.constructor)})})})}}}function vN(e){var t=yp.default.useRef(e);return yp.default.useEffect(function(){t.current=e}),t}function _N(e,t,n){var i=e[t],s=n.constructor,l=i&&i.type===s;!l&&n.state&&(e[t]={type:s,state:n.state})}var qE={};Object.defineProperty(qE,"__esModule",{value:!0});qE.useReadClassState=TN;var xN=ns,kw=SN($t),n_=Dc,bN=ol,wN=ed;function SN(e){return e&&e.__esModule?e:{default:e}}function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(i){EN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nk(e,t,n,i,s,l,o){try{var x=e[l](o),S=x.value}catch(T){n(T);return}x.done?t(S):Promise.resolve(S).then(i,s)}function CN(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var l=e.apply(t,n);function o(S){Nk(l,i,s,o,x,"next",S)}function x(S){Nk(l,i,s,o,x,"throw",S)}o(void 0)})}}var kN=200;function TN(e,t,n){var i=(0,wN.findRelevantElementPaths)(e),s=kw.default.useContext(bN.FixtureContext),l=s.fixtureState,o=s.setFixtureState,x=kw.default.useRef(null);kw.default.useEffect(function(){return S(),function(){x.current&&clearTimeout(x.current)}});function S(){x.current=window.setTimeout(T,kN)}function T(){var M=!1;Object.keys(n.current).map(function(){var F=CN(regeneratorRuntime.mark(function z(U){var q,K,ee;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(i.indexOf(U)!==-1){X.next=2;break}throw new Error('[FixtureCapture] Child ref exists for missing element path "'.concat(U,'"'));case 2:q=n.current[U].state,K={decoratorId:t,elPath:U},ee=(0,n_.findFixtureStateClassState)(l,K),ee&&q&&!PN(ee,q)&&(M=!0,o(function(ne){return zk(zk({},ne),{},{classState:(0,n_.updateFixtureStateClassState)({fixtureState:ne,elementId:K,values:(0,n_.createValues)(q)})})}));case 6:case"end":return X.stop()}},z)}));return function(z){return F.apply(this,arguments)}}()),M||S()}}function PN(e,t){return(0,xN.isEqual)(t,(0,n_.extendWithValues)(t,e.values))}Object.defineProperty(CE,"__esModule",{value:!0});CE.useClassStateCapture=LN;var Uk=MN($t),IN=kE,ON=qE;function MN(e){return e&&e.__esModule?e:{default:e}}function LN(e,t){var n=Uk.default.useRef({});return Uk.default.useEffect(function(){return function(){n.current={}}},[]),(0,ON.useReadClassState)(e,t,n),(0,IN.useFixtureState)(e,t,n)}var GE={},QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.useFixtureProps=NN;var jk=ns,RN=BN($t),Tw=Dc,DN=Bc,FN=ed,dM=Py;function BN(e){return e&&e.__esModule?e:{default:e}}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(i){zN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NN(e,t,n){var i=RN.default.useMemo(function(){return{}},[n]),s=(0,FN.findRelevantElementPaths)(e);return s.reduce(function(l,o){var x={decoratorId:n,elPath:o},S=(0,Tw.findFixtureStateProps)(t,x);return(0,dM.setElementAtPath)(l,o,function(T){if(!S||U(S.componentName))return jd(jd({},T),{},{key:Vk(o,Tw.DEFAULT_RENDER_KEY)});var M=T.props,F=(0,Tw.extendWithValues)(M,S.values),z=(0,jk.mapValues)(F,function(q,K){var ee=UN(o,K);return i.hasOwnProperty(ee)||(i[ee]=M[K]),(0,jk.isEqual)(i[ee],q)?i[ee]:(i[ee]=q,q)});return jd(jd({},T),{},{props:jN(s,o)?jd(jd({},z),{},{children:M.children}):z,key:Vk(o,S.renderKey)});function U(q){return q!==(0,DN.getComponentName)(T.type)}})},e)}function UN(e,t){return e?"".concat(e,"-").concat(t):t}function Vk(e,t){return"".concat(e,"-").concat(t)}function jN(e,t){return e.some(function(n){return n.indexOf((0,dM.getChildrenPath)(t))===0})}Object.defineProperty(GE,"__esModule",{value:!0});GE.usePropsCapture=QN;var m1=qN($t),EA=Dc,Hk=Bc,$N=ol,VN=ed,qk=Py,HN=QE;function qN(e){return e&&e.__esModule?e:{default:e}}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(i){GN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e,t){var n=m1.default.useContext($N.FixtureContext),i=n.fixtureState,s=n.setFixtureState,l=m1.default.useRef(e),o=(0,VN.findRelevantElementPaths)(e);return m1.default.useEffect(function(){if(!i.props&&o.length===0){s(function(S){return gh(gh({},S),{},{props:S.props||[]})});return}var x=(0,EA.getFixtureStateProps)(i,t);x.forEach(function(S){var T=S.elementId;o.indexOf(T.elPath)===-1&&s(function(M){return gh(gh({},M),{},{props:(0,EA.removeFixtureStateProps)(i,T)})})}),o.forEach(function(S){var T=(0,qk.getExpectedElementAtPath)(e,S),M={decoratorId:t,elPath:S};if((0,EA.findFixtureStateProps)(i,M)){var z=(0,qk.getElementAtPath)(l.current,S);(0,Hk.areNodesEqual)(z,T,!1)||s(function(U){return gh(gh({},U),{},{props:(0,EA.updateFixtureStateProps)({fixtureState:i,elementId:M,values:(0,EA.createValues)(T.props)})})})}else{var F=(0,Hk.getComponentName)(T.type);s(function(U){return gh(gh({},U),{},{props:(0,EA.createFixtureStateProps)({fixtureState:U,elementId:M,values:(0,EA.createValues)(T.props),componentName:F})})})}})},[e,t,o,i,i.props,s]),m1.default.useEffect(function(){l.current=e}),(0,HN.useFixtureProps)(e,i,t)}Object.defineProperty(B2,"__esModule",{value:!0});B2.FixtureCapture=XN;var Qk=ZN($t),WN=CE,KN=GE;function ZN(e){return e&&e.__esModule?e:{default:e}}function XN(e){var t=e.children,n=e.decoratorId,i=(0,KN.usePropsCapture)(t,n);return i=(0,WN.useClassStateCapture)(i,n),Qk.default.createElement(Qk.default.Fragment,null,i)}var K2={},WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.getFixture=YN;var Wk=Bc;function YN(e,t){if(t===void 0)return(0,Wk.isMultiFixture)(e)?void 0:e;if((0,Wk.isMultiFixture)(e)){var n=e;return n[t]}}var KE={},Z2={},ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.FixtureElement=mM;var JN=eU($t);function eU(e){return e&&e.__esModule?e:{default:e}}function mM(e){var t=e.Component;return JN.default.createElement(t,null)}mM.cosmosCapture=!1;Object.defineProperty(Z2,"__esModule",{value:!0});Z2.getDecoratedFixtureElement=uU;var TS=rU($t),tU=B2,nU=ZE;function rU(e){return e&&e.__esModule?e:{default:e}}function iU(e){return lU(e)||sU(e)||aU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return PS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(e,t)}}function sU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lU(e){if(Array.isArray(e))return PS(e)}function PS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function uU(e,t,n){var i=TS.default.createElement(tU.FixtureCapture,{decoratorId:"root"},cU(e));return iU(t).reverse().reduce(function(s,l){return TS.default.createElement(l,n,s)},i)}function cU(e){return fU(e)?TS.default.createElement(nU.FixtureElement,{Component:e}):e}function fU(e){return typeof e=="function"}Object.defineProperty(KE,"__esModule",{value:!0});KE.FixtureProvider=_U;var Gm=dU($t),pU=Bc,hU=ol,AU=Z2;function dU(e){return e&&e.__esModule?e:{default:e}}function Kk(e){return vU(e)||yU(e)||gU(e)||mU()}function mU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(e,t){if(e){if(typeof e=="string")return IS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(e,t)}}function yU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vU(e){if(Array.isArray(e))return IS(e)}function IS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _U(e){var t=e.fixtureId,n=e.fixture,i=e.systemDecorators,s=e.userDecorators,l=e.fixtureState,o=e.setFixtureState,x=e.onErrorReset,S=Gm.default.useMemo(function(){return{fixtureState:l,setFixtureState:o}},[l,o]),T=Gm.default.useMemo(function(){return{fixtureState:l,setFixtureState:o,onErrorReset:x}},[l,x,o]),M=Gm.default.useMemo(function(){return xU(t,i,s)},[t,i,s]),F=Gm.default.useMemo(function(){return(0,AU.getDecoratedFixtureElement)(n,M,T)},[T,M,n]);return Gm.default.createElement(hU.FixtureContext.Provider,{value:S},F)}function xU(e,t,n){return[].concat(Kk(t),Kk((0,pU.getSortedDecoratorsForFixturePath)(e.path,n)))}function U_(e){return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U_(e)}Object.defineProperty(K2,"__esModule",{value:!0});K2.FixtureLoader=void 0;var Qm=ns,Zk=EU($t),bU=Bc,wU=WE,SU=KE;function gM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(gM=function(s){return s?n:t})(e)}function EU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||U_(e)!=="object"&&typeof e!="function")return{default:e};var n=gM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var o=s?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(i,l,o):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(i){n0(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function CU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kU(e,t,n){return t&&Yk(e.prototype,t),n&&Yk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OS(e,t)}function OS(e,t){return OS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},OS(e,t)}function PU(e){var t=OU();return function(){var i=j_(e),s;if(t){var l=j_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return IU(this,s)}}function IU(e,t){if(t&&(U_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0(e)}function t0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j_(e){return j_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},j_(e)}function n0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MU(e){return e?{fixtureId:e,fixtureState:{},syncedFixtureState:{}}:null}var LU=function(e){TU(n,e);var t=PU(n);function n(){var i;CU(this,n);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l)),n0(t0(i),"state",{selectedFixture:MU(i.props.selectedFixtureId||i.props.initialFixtureId),renderKey:0}),n0(t0(i),"unsubscribe",null),n0(t0(i),"handleRequest",function(x){if(x.type==="pingRenderers")return i.postReadyState();if(!(!x.payload||x.payload.rendererId!==i.props.rendererId))switch(RU(x)&&i.fireChangeCallback(),x.type){case"selectFixture":return i.handleSelectFixtureRequest(x);case"unselectFixture":return i.handleUnselectFixtureRequest();case"setFixtureState":return i.handleSetFixtureStateRequest(x)}}),n0(t0(i),"postFixtureStateChange",function(x,S){var T=i.props.rendererId;i.postMessage({type:"fixtureStateChange",payload:{rendererId:T,fixtureId:x,fixtureState:S}})}),n0(t0(i),"setFixtureState",function(x){if(!i.state.selectedFixture){console.warn("[FixtureLoader] Trying to set fixture state with no fixture selected");return}i.setState(function(S){var T=S.selectedFixture;return T?{selectedFixture:g1(g1({},T),{},{fixtureState:x(T.fixtureState)})}:null})}),i}return kU(n,[{key:"componentDidMount",value:function(){if(!this.props.selectedFixtureId){var s=this.props.rendererConnect;this.unsubscribe=s.onMessage(this.handleRequest),this.postReadyState()}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"componentDidUpdate",value:function(s){var l=this.props.fixtures;(0,Qm.isEqual)(l,s.fixtures)||this.postFixtureListUpdate();var o=this.state.selectedFixture;if(o){var x=o.fixtureId,S=o.fixtureState,T=o.syncedFixtureState;x&&!(0,Qm.isEqual)(S,T)&&(this.postFixtureStateChange(x,S),this.updateSyncedFixtureState(S))}}},{key:"shouldComponentUpdate",value:function(s,l){return!(0,Qm.isEqual)(this.props,s)||!(0,Qm.isEqual)(this.state,l)}},{key:"render",value:function(){var s=this.state.selectedFixture;if(!s)return this.renderMessage("No fixture selected.");var l=this.props.fixtures,o=s.fixtureId,x=s.fixtureState;if(!l.hasOwnProperty(o.path))return this.renderMessage("Fixture path not found: ".concat(o.path));var S=l[o.path].module.default,T=(0,wU.getFixture)(S,o.name);if(typeof T>"u")return this.renderMessage("Invalid fixture ID: ".concat(JSON.stringify(o)));var M=this.props,F=M.systemDecorators,z=M.userDecorators,U=M.onErrorReset,q=this.state.renderKey;return Zk.default.createElement(SU.FixtureProvider,{key:q,fixtureId:o,fixture:T,systemDecorators:F,userDecorators:z,fixtureState:x,setFixtureState:this.setFixtureState,onErrorReset:U||DU})}},{key:"handleSelectFixtureRequest",value:function(s){var l=s.payload,o=l.fixtureId,x=l.fixtureState;this.setState({selectedFixture:{fixtureId:o,fixtureState:x,syncedFixtureState:x},renderKey:this.state.renderKey+1})}},{key:"handleUnselectFixtureRequest",value:function(){this.setState({selectedFixture:null,renderKey:0})}},{key:"handleSetFixtureStateRequest",value:function(s){var l=s.payload,o=l.fixtureId,x=l.fixtureState,S=this.state.selectedFixture;S&&(0,Qm.isEqual)(o,S.fixtureId)&&this.setState({selectedFixture:{fixtureId:o,fixtureState:x,syncedFixtureState:x}})}},{key:"postReadyState",value:function(){var s=this.props,l=s.rendererId,o=s.initialFixtureId,x=this.getFixtureList();this.postMessage({type:"rendererReady",payload:o?{rendererId:l,fixtures:x,initialFixtureId:o}:{rendererId:l,fixtures:x}})}},{key:"postFixtureListUpdate",value:function(){var s=this.props.rendererId;this.postMessage({type:"fixtureListUpdate",payload:{rendererId:s,fixtures:this.getFixtureList()}})}},{key:"getFixtureList",value:function(){return(0,bU.getFixtureListFromWrappers)(this.props.fixtures)}},{key:"fireChangeCallback",value:function(){var s=this.props.onErrorReset;typeof s=="function"&&s()}},{key:"updateSyncedFixtureState",value:function(s){this.setState(function(l){var o=l.selectedFixture;return o?{selectedFixture:g1(g1({},o),{},{syncedFixtureState:s})}:null})}},{key:"postMessage",value:function(s){this.props.rendererConnect.postMessage(s)}},{key:"renderMessage",value:function(s){return typeof this.props.renderMessage<"u"?this.props.renderMessage({msg:s}):s}}]),n}(Zk.Component);K2.FixtureLoader=LU;function RU(e){return e.type==="selectFixture"||e.type==="unselectFixture"}function DU(){}var XE={},YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.registerShortcuts=FU;function FU(e){window.addEventListener("keydown",n);function t(i,s){i.preventDefault(),e(s)}function n(i){if(!BU()){var s=String.fromCharCode(i.keyCode),l=i.metaKey||i.ctrlKey;s==="P"&&l?t(i,"searchFixtures"):s==="L"&&l&&i.shiftKey?t(i,"toggleFixtureList"):s==="K"&&l&&i.shiftKey?t(i,"toggleControlPanel"):s==="F"&&l&&i.shiftKey?t(i,"goFullScreen"):s==="E"&&l&&i.shiftKey&&t(i,"editFixture")}}return function(){window.removeEventListener("keydown",n)}}function BU(){var e=document.activeElement;return e&&zU(e.tagName)}function zU(e){var t=["input","textarea","select"];return t.includes(e.toLowerCase())}Object.defineProperty(XE,"__esModule",{value:!0});XE.createPostMessageConnect=UU;var NU=YE;function UU(){function e(t){parent.postMessage(t,"*")}return{postMessage:e,onMessage:function(n){function i(l){n(l.data)}window.addEventListener("message",i,!1);var s=(0,NU.registerShortcuts)(function(l){e({type:"playgroundCommand",payload:{command:l}})});return function(){window.removeEventListener("message",i),s()}}}}var JE={},eC={},X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.getDefaultSelectValue=jU;function jU(e){var t=e.options,n=e.defaultValue;return typeof n=="string"?n:t[0]}function MS(e){return MS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MS(e)}Object.defineProperty(eC,"__esModule",{value:!0});eC.useCreateFixtureState=GU;var Jk=qU($t),$U=Dc,VU=ol,HU=X2;function yM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(yM=function(s){return s?n:t})(e)}function qU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||MS(e)!=="object"&&typeof e!="function")return{default:e};var n=yM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var o=s?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(i,l,o):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function e6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(n),!0).forEach(function(i){vM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GU(e,t){var n=Jk.default.useContext(VU.FixtureContext),i=n.setFixtureState,s=(0,HU.getDefaultSelectValue)(t);(0,Jk.useEffect)(function(){i(function(l){var o=(0,$U.findFixtureStateControl)(l,e);return o&&o.type==="select"&&o.defaultValue===s?l:y1(y1({},l),{},{controls:y1(y1({},l.controls),{},vM({},e,{type:"select",options:t.options,defaultValue:s,currentValue:s}))})})},[t.options,s,e,i])}var tC={};Object.defineProperty(tC,"__esModule",{value:!0});tC.useCurrentValue=XU;var QU=$t,WU=Dc,KU=ol,ZU=X2;function XU(e,t){var n=(0,QU.useContext)(KU.FixtureContext),i=n.fixtureState,s=(0,WU.findFixtureStateControl)(i,e);return s&&s.type==="select"?s.currentValue:(0,ZU.getDefaultSelectValue)(t)}var nC={};Object.defineProperty(nC,"__esModule",{value:!0});nC.useSetValue=ej;var t6=$t,YU=Dc,JU=ol;function n6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(i){_M(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(e){var t=(0,t6.useContext)(JU.FixtureContext),n=t.setFixtureState;return(0,t6.useCallback)(function(i){n(function(s){var l=(0,YU.findFixtureStateControl)(s,e);return!l||l.type!=="select"?(console.warn("Invalid fixture state for select: ".concat(e)),s):$d($d({},s),{},{controls:$d($d({},s.controls),{},_M({},e,$d($d({},l),{},{currentValue:i})))})})},[e,n])}Object.defineProperty(JE,"__esModule",{value:!0});JE.useSelect=ij;var tj=eC,nj=tC,rj=nC;function ij(e,t){if(!t||!t.options||!t.options.length)throw new Error("No options provided to useSelect");(0,tj.useCreateFixtureState)(e,t);var n=(0,nj.useCurrentValue)(e,t),i=(0,rj.useSetValue)(e);return[n,i]}var rC={},iC={};Object.defineProperty(iC,"__esModule",{value:!0});iC.useCreateFixtureState=lj;var oj=ns,r6=sj($t),r_=Dc,aj=ol;function sj(e){return e&&e.__esModule?e:{default:e}}function i6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function v1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(n),!0).forEach(function(i){xM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lj(e,t){var n=r6.default.useContext(aj.FixtureContext),i=n.setFixtureState;r6.default.useEffect(function(){i(function(s){var l=(0,r_.findFixtureStateControl)(s,e);return l&&l.type==="standard"&&uj(l.defaultValue,t)?s:v1(v1({},s),{},{controls:v1(v1({},s.controls),{},xM({},e,{type:"standard",defaultValue:(0,r_.createValue)(t),currentValue:(0,r_.createValue)(t)}))})})},[i,e,t])}function uj(e,t){return(0,oj.isEqual)(t,(0,r_.extendWithValue)(t,e))}var oC={};Object.defineProperty(oC,"__esModule",{value:!0});oC.useCurrentValue=hj;var cj=pj($t),o6=Dc,fj=ol;function pj(e){return e&&e.__esModule?e:{default:e}}function hj(e,t){var n=cj.default.useContext(fj.FixtureContext),i=n.fixtureState,s=(0,o6.findFixtureStateControl)(i,e);return s&&s.type==="standard"?(0,o6.extendWithValue)(t,s.currentValue):t}var aC={};Object.defineProperty(aC,"__esModule",{value:!0});aC.useSetValue=mj;var a6=dj($t),$_=Dc,Aj=ol;function dj(e){return e&&e.__esModule?e:{default:e}}function s6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(n),!0).forEach(function(i){bM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function bM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mj(e,t){var n=a6.default.useContext(Aj.FixtureContext),i=n.setFixtureState;return a6.default.useCallback(function(s){i(function(l){var o=typeof s=="function"?s(gj(l,e,t)):s;return _1(_1({},l),{},{controls:_1(_1({},l.controls),{},bM({},e,{type:"standard",defaultValue:(0,$_.createValue)(t),currentValue:(0,$_.createValue)(o)}))})})},[i,t,e])}function gj(e,t,n){var i=(0,$_.findFixtureStateControl)(e,t);return i&&i.type==="standard"?(0,$_.extendWithValue)(n,i.currentValue):n}Object.defineProperty(rC,"__esModule",{value:!0});rC.useValue=xj;var yj=iC,vj=oC,_j=aC;function xj(e,t){var n=t.defaultValue;(0,yj.useCreateFixtureState)(e,n);var i=(0,vj.useCurrentValue)(e,n),s=(0,_j.useSetValue)(e,n);return[i,s]}var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.Viewport=void 0;var x1=wj($t),bj=ol;function wj(e){return e&&e.__esModule?e:{default:e}}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function u6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(i){Sj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wM=function(t){var n=t.children,i=t.width,s=t.height,l=x1.default.useContext(bj.FixtureContext),o=l.setFixtureState;return x1.default.useEffect(function(){o(function(x){return u6(u6({},x),{},{viewport:{width:i,height:s}})})},[o,i,s]),x1.default.createElement(x1.default.Fragment,null,n)};Y2.Viewport=wM;wM.cosmosCapture=!1;var sC={},V_={},Ej={get exports(){return V_},set exports(e){V_=e}},Cj=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],SM=function(t){var n=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var l=Cj.exec(t||""),o={},x=14;x--;)o[kj[x]]=l[x]||"";return i!=-1&&s!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},QA={},Tj={get exports(){return QA},set exports(e){QA=e}},H_={},Pj={get exports(){return H_},set exports(e){H_=e}},Kg=1e3,Zg=Kg*60,Xg=Zg*60,Yg=Xg*24,Ij=Yg*365.25,Oj=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Mj(e);if(n==="number"&&isNaN(e)===!1)return t.long?Rj(e):Lj(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Mj(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*Ij;case"days":case"day":case"d":return n*Yg;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Xg;case"minutes":case"minute":case"mins":case"min":case"m":return n*Zg;case"seconds":case"second":case"secs":case"sec":case"s":return n*Kg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Lj(e){return e>=Yg?Math.round(e/Yg)+"d":e>=Xg?Math.round(e/Xg)+"h":e>=Zg?Math.round(e/Zg)+"m":e>=Kg?Math.round(e/Kg)+"s":e+"ms"}function Rj(e){return b1(e,Yg,"day")||b1(e,Xg,"hour")||b1(e,Zg,"minute")||b1(e,Kg,"second")||e+" ms"}function b1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=Oj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(T){var M=0,F;for(F in T)M=(M<<5)-M+T.charCodeAt(F),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(T){var M;function F(){if(F.enabled){var z=F,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,he){if(ne==="%%")return ne;V++;var pe=t.formatters[he];if(typeof pe=="function"){var le=K[V];ne=pe.call(z,le),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=F.log||t.log||console.log.bind(console);X.apply(z,K)}}return F.namespace=T,F.enabled=t.enabled(T),F.useColors=t.useColors(),F.color=n(T),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function l(T){t.save(T),t.names=[],t.skips=[];var M,F=(typeof T=="string"?T:"").split(/[\s,]+/),z=F.length;for(M=0;M<z;M++)F[M]&&(T=F[M].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(T){if(T[T.length-1]==="*")return!0;var M,F;for(M=0,F=t.skips.length;M<F;M++)if(t.skips[M].test(T))return!1;for(M=0,F=t.names.length;M<F;M++)if(t.names[M].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(Pj,H_);(function(e,t){t=e.exports=H_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function i(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var F=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(F++,U==="%c"&&(z=F))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(Tj,QA);var Dj=SM,c6=QA("socket.io-client:url"),Fj=Bj;function Bj(e,t){var n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(c6("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),c6("parse %s",e),n=Dj(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,s=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}var J2={},q_={},zj={get exports(){return q_},set exports(e){q_=e}},G_={},Nj={get exports(){return G_},set exports(e){G_=e}},Jg=1e3,ey=Jg*60,ty=ey*60,ny=ty*24,Uj=ny*365.25,jj=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return $j(e);if(n==="number"&&isNaN(e)===!1)return t.long?Hj(e):Vj(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $j(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*Uj;case"days":case"day":case"d":return n*ny;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ty;case"minutes":case"minute":case"mins":case"min":case"m":return n*ey;case"seconds":case"second":case"secs":case"sec":case"s":return n*Jg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Vj(e){return e>=ny?Math.round(e/ny)+"d":e>=ty?Math.round(e/ty)+"h":e>=ey?Math.round(e/ey)+"m":e>=Jg?Math.round(e/Jg)+"s":e+"ms"}function Hj(e){return w1(e,ny,"day")||w1(e,ty,"hour")||w1(e,ey,"minute")||w1(e,Jg,"second")||e+" ms"}function w1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=jj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(T){var M=0,F;for(F in T)M=(M<<5)-M+T.charCodeAt(F),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(T){var M;function F(){if(F.enabled){var z=F,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,he){if(ne==="%%")return ne;V++;var pe=t.formatters[he];if(typeof pe=="function"){var le=K[V];ne=pe.call(z,le),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=F.log||t.log||console.log.bind(console);X.apply(z,K)}}return F.namespace=T,F.enabled=t.enabled(T),F.useColors=t.useColors(),F.color=n(T),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function l(T){t.save(T),t.names=[],t.skips=[];var M,F=(typeof T=="string"?T:"").split(/[\s,]+/),z=F.length;for(M=0;M<z;M++)F[M]&&(T=F[M].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(T){if(T[T.length-1]==="*")return!0;var M,F;for(M=0,F=t.skips.length;M<F;M++)if(t.skips[M].test(T))return!1;for(M=0,F=t.names.length;M<F;M++)if(t.names[M].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(Nj,G_);(function(e,t){t=e.exports=G_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function i(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var F=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(F++,U==="%c"&&(z=F))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(zj,q_);var LS={},qj={get exports(){return LS},set exports(e){LS=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return l.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+i],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(qj);var ex={},Gj={}.toString,lC=Array.isArray||function(e){return Gj.call(e)=="[object Array]"},EM=Zj,Qj=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",Wj=typeof ArrayBuffer=="function",Kj=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function Zj(e){return Qj&&Buffer.isBuffer(e)||Wj&&(e instanceof ArrayBuffer||Kj(e))}var uC=lC,CM=EM,kM=Object.prototype.toString,Xj=typeof Blob=="function"||typeof Blob<"u"&&kM.call(Blob)==="[object BlobConstructor]",Yj=typeof File=="function"||typeof File<"u"&&kM.call(File)==="[object FileConstructor]";ex.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=RS(n,t),i.attachments=t.length,{packet:i,buffers:t}};function RS(e,t){if(!e)return e;if(CM(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}else if(uC(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=RS(e[s],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){var i={};for(var l in e)i[l]=RS(e[l],t);return i}return e}ex.reconstructPacket=function(e,t){return e.data=DS(e.data,t),e.attachments=void 0,e};function DS(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(uC(e))for(var n=0;n<e.length;n++)e[n]=DS(e[n],t);else if(typeof e=="object")for(var i in e)e[i]=DS(e[i],t);return e}ex.removeBlobs=function(e,t){function n(l,o,x){if(!l)return l;if(Xj&&l instanceof Blob||Yj&&l instanceof File){i++;var S=new FileReader;S.onload=function(){x?x[o]=this.result:s=this.result,--i||t(s)},S.readAsArrayBuffer(l)}else if(uC(l))for(var T=0;T<l.length;T++)n(l[T],T,l);else if(typeof l=="object"&&!CM(l))for(var M in l)n(l[M],M,l)}var i=0,s=e;n(s),i||t(s)};(function(e){var t=q_("socket.io-parser"),n=LS,i=ex,s=lC,l=EM;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=F;function o(){}var x=e.ERROR+'"encode error"';o.prototype.encode=function(ee,V){if(t("encoding packet %j",ee),e.BINARY_EVENT===ee.type||e.BINARY_ACK===ee.type)M(ee,V);else{var X=S(ee);V([X])}};function S(ee){var V=""+ee.type;if((e.BINARY_EVENT===ee.type||e.BINARY_ACK===ee.type)&&(V+=ee.attachments+"-"),ee.nsp&&ee.nsp!=="/"&&(V+=ee.nsp+","),ee.id!=null&&(V+=ee.id),ee.data!=null){var X=T(ee.data);if(X!==!1)V+=X;else return x}return t("encoded %j as %s",ee,V),V}function T(ee){try{return JSON.stringify(ee)}catch{return!1}}function M(ee,V){function X(ne){var he=i.deconstructPacket(ne),pe=S(he.packet),le=he.buffers;le.unshift(pe),V(le)}i.removeBlobs(ee,X)}function F(){this.reconstructor=null}n(F.prototype),F.prototype.add=function(ee){var V;if(typeof ee=="string")V=z(ee),e.BINARY_EVENT===V.type||e.BINARY_ACK===V.type?(this.reconstructor=new q(V),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",V)):this.emit("decoded",V);else if(l(ee)||ee.base64)if(this.reconstructor)V=this.reconstructor.takeBinaryData(ee),V&&(this.reconstructor=null,this.emit("decoded",V));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+ee)};function z(ee){var V=0,X={type:Number(ee.charAt(0))};if(e.types[X.type]==null)return K("unknown packet type "+X.type);if(e.BINARY_EVENT===X.type||e.BINARY_ACK===X.type){for(var ne=V+1;ee.charAt(++V)!=="-"&&V!=ee.length;);var he=ee.substring(ne,V);if(he!=Number(he)||ee.charAt(V)!=="-")throw new Error("Illegal attachments");X.attachments=Number(he)}if(ee.charAt(V+1)==="/"){for(var ne=V+1;++V;){var pe=ee.charAt(V);if(pe===","||V===ee.length)break}X.nsp=ee.substring(ne,V)}else X.nsp="/";var le=ee.charAt(V+1);if(le!==""&&Number(le)==le){for(var ne=V+1;++V;){var pe=ee.charAt(V);if(pe==null||Number(pe)!=pe){--V;break}if(V===ee.length)break}X.id=Number(ee.substring(ne,V+1))}if(ee.charAt(++V)){var be=U(ee.substr(V)),Se=be!==!1&&(X.type===e.ERROR||s(be));if(Se)X.data=be;else return K("invalid payload")}return t("decoded %s as %j",ee,X),X}function U(ee){try{return JSON.parse(ee)}catch{return!1}}F.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function q(ee){this.reconPack=ee,this.buffers=[]}q.prototype.takeBinaryData=function(ee){if(this.buffers.push(ee),this.buffers.length===this.reconPack.attachments){var V=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),V}return null},q.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function K(ee){return{type:e.ERROR,data:"parser error: "+ee}}})(J2);var FS={},Jj={get exports(){return FS},set exports(e){FS=e}},tx={},BS={},f6={get exports(){return BS},set exports(e){BS=e}};try{f6.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{f6.exports=!1}var e$=BS,cC=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||e$))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&i)return new XDomainRequest}catch{}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},Q_={},t$={get exports(){return Q_},set exports(e){Q_=e}},nd={},n$=Object.keys||function(t){var n=[],i=Object.prototype.hasOwnProperty;for(var s in t)i.call(t,s)&&n.push(s);return n},r$=lC,TM=Object.prototype.toString,i$=typeof Blob=="function"||typeof Blob<"u"&&TM.call(Blob)==="[object BlobConstructor]",o$=typeof File=="function"||typeof File<"u"&&TM.call(File)==="[object FileConstructor]",PM=i_;function i_(e){if(!e||typeof e!="object")return!1;if(r$(e)){for(var t=0,n=e.length;t<n;t++)if(i_(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||i$&&e instanceof Blob||o$&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return i_(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&i_(e[i]))return!0;return!1}var a$=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||i===0)return new ArrayBuffer(0);for(var s=new Uint8Array(e),l=new Uint8Array(n-t),o=t,x=0;o<n;o++,x++)l[x]=s[o];return l.buffer},s$=l$;function l$(e,t,n){var i=!1;return n=n||u$,s.count=e,e===0?t():s;function s(l,o){if(s.count<=0)throw new Error("after called too many times");--s.count,l?(i=!0,t(l),t=n):s.count===0&&!i&&t(null,o)}}function u$(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var Eh=String.fromCharCode;function IM(e){for(var t=[],n=0,i=e.length,s,l;n<i;)s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<i?(l=e.charCodeAt(n++),(l&64512)==56320?t.push(((s&1023)<<10)+(l&1023)+65536):(t.push(s),n--)):t.push(s);return t}function c$(e){for(var t=e.length,n=-1,i,s="";++n<t;)i=e[n],i>65535&&(i-=65536,s+=Eh(i>>>10&1023|55296),i=56320|i&1023),s+=Eh(i);return s}function OM(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Pw(e,t){return Eh(e>>t&63|128)}function f$(e,t){if(!(e&4294967168))return Eh(e);var n="";return e&4294965248?e&4294901760?e&4292870144||(n=Eh(e>>18&7|240),n+=Pw(e,12),n+=Pw(e,6)):(OM(e,t)||(e=65533),n=Eh(e>>12&15|224),n+=Pw(e,6)):n=Eh(e>>6&31|192),n+=Eh(e&63|128),n}function p$(e,t){t=t||{};for(var n=t.strict!==!1,i=IM(e),s=i.length,l=-1,o,x="";++l<s;)o=i[l],x+=f$(o,n);return x}function Vd(){if(Th>=K_)throw Error("Invalid byte index");var e=W_[Th]&255;if(Th++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function h$(e){var t,n,i,s,l;if(Th>K_)throw Error("Invalid byte index");if(Th==K_)return!1;if(t=W_[Th]&255,Th++,!(t&128))return t;if((t&224)==192){if(n=Vd(),l=(t&31)<<6|n,l>=128)return l;throw Error("Invalid continuation byte")}if((t&240)==224){if(n=Vd(),i=Vd(),l=(t&15)<<12|n<<6|i,l>=2048)return OM(l,e)?l:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(n=Vd(),i=Vd(),s=Vd(),l=(t&7)<<18|n<<12|i<<6|s,l>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}var W_,K_,Th;function A$(e,t){t=t||{};var n=t.strict!==!1;W_=IM(e),K_=W_.length,Th=0;for(var i=[],s;(s=h$(n))!==!1;)i.push(s);return c$(i)}var d$={version:"2.1.2",encode:p$,decode:A$},S1={},p6;function m$(){return p6||(p6=1,function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;S1.encode=function(i){var s=new Uint8Array(i),l,o=s.length,x="";for(l=0;l<o;l+=3)x+=e[s[l]>>2],x+=e[(s[l]&3)<<4|s[l+1]>>4],x+=e[(s[l+1]&15)<<2|s[l+2]>>6],x+=e[s[l+2]&63];return o%3===2?x=x.substring(0,x.length-1)+"=":o%3===1&&(x=x.substring(0,x.length-2)+"=="),x},S1.decode=function(i){var s=i.length*.75,l=i.length,o,x=0,S,T,M,F;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var z=new ArrayBuffer(s),U=new Uint8Array(z);for(o=0;o<l;o+=4)S=t[i.charCodeAt(o)],T=t[i.charCodeAt(o+1)],M=t[i.charCodeAt(o+2)],F=t[i.charCodeAt(o+3)],U[x++]=S<<2|T>>4,U[x++]=(T&15)<<4|M>>2,U[x++]=(M&3)<<6|F&63;return z}}()),S1}var Iw,h6;function g$(){if(h6)return Iw;h6=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),n=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),i=e&&e.prototype.append&&e.prototype.getBlob;function s(x){return x.map(function(S){if(S.buffer instanceof ArrayBuffer){var T=S.buffer;if(S.byteLength!==T.byteLength){var M=new Uint8Array(S.byteLength);M.set(new Uint8Array(T,S.byteOffset,S.byteLength)),T=M.buffer}return T}return S})}function l(x,S){S=S||{};var T=new e;return s(x).forEach(function(M){T.append(M)}),S.type?T.getBlob(S.type):T.getBlob()}function o(x,S){return new Blob(s(x),S||{})}return typeof Blob<"u"&&(l.prototype=Blob.prototype,o.prototype=Blob.prototype),Iw=function(){return t?n?Blob:o:i?l:void 0}(),Iw}(function(e){var t=n$,n=PM,i=a$,s=s$,l=d$,o;typeof ArrayBuffer<"u"&&(o=m$());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),T=x||S;e.protocol=3;var M=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},F=t(M),z={type:"error",data:"parser error"},U=g$();e.encodePacket=function(he,pe,le,be){typeof pe=="function"&&(be=pe,pe=!1),typeof le=="function"&&(be=le,le=null);var Se=he.data===void 0?void 0:he.data.buffer||he.data;if(typeof ArrayBuffer<"u"&&Se instanceof ArrayBuffer)return K(he,pe,be);if(typeof U<"u"&&Se instanceof U)return V(he,pe,be);if(Se&&Se.base64)return q(he,be);var De=M[he.type];return he.data!==void 0&&(De+=le?l.encode(String(he.data),{strict:!1}):String(he.data)),be(""+De)};function q(he,pe){var le="b"+e.packets[he.type]+he.data.data;return pe(le)}function K(he,pe,le){if(!pe)return e.encodeBase64Packet(he,le);var be=he.data,Se=new Uint8Array(be),De=new Uint8Array(1+be.byteLength);De[0]=M[he.type];for(var tt=0;tt<Se.length;tt++)De[tt+1]=Se[tt];return le(De.buffer)}function ee(he,pe,le){if(!pe)return e.encodeBase64Packet(he,le);var be=new FileReader;return be.onload=function(){e.encodePacket({type:he.type,data:be.result},pe,!0,le)},be.readAsArrayBuffer(he.data)}function V(he,pe,le){if(!pe)return e.encodeBase64Packet(he,le);if(T)return ee(he,pe,le);var be=new Uint8Array(1);be[0]=M[he.type];var Se=new U([be.buffer,he.data]);return le(Se)}e.encodeBase64Packet=function(he,pe){var le="b"+e.packets[he.type];if(typeof U<"u"&&he.data instanceof U){var be=new FileReader;return be.onload=function(){var at=be.result.split(",")[1];pe(le+at)},be.readAsDataURL(he.data)}var Se;try{Se=String.fromCharCode.apply(null,new Uint8Array(he.data))}catch{for(var De=new Uint8Array(he.data),tt=new Array(De.length),Xe=0;Xe<De.length;Xe++)tt[Xe]=De[Xe];Se=String.fromCharCode.apply(null,tt)}return le+=btoa(Se),pe(le)},e.decodePacket=function(he,pe,le){if(he===void 0)return z;if(typeof he=="string"){if(he.charAt(0)==="b")return e.decodeBase64Packet(he.substr(1),pe);if(le&&(he=X(he),he===!1))return z;var Se=he.charAt(0);return Number(Se)!=Se||!F[Se]?z:he.length>1?{type:F[Se],data:he.substring(1)}:{type:F[Se]}}var be=new Uint8Array(he),Se=be[0],De=i(he,1);return U&&pe==="blob"&&(De=new U([De])),{type:F[Se],data:De}};function X(he){try{he=l.decode(he,{strict:!1})}catch{return!1}return he}e.decodeBase64Packet=function(he,pe){var le=F[he.charAt(0)];if(!o)return{type:le,data:{base64:!0,data:he.substr(1)}};var be=o.decode(he.substr(1));return pe==="blob"&&U&&(be=new U([be])),{type:le,data:be}},e.encodePayload=function(he,pe,le){typeof pe=="function"&&(le=pe,pe=null);var be=n(he);if(pe&&be)return U&&!T?e.encodePayloadAsBlob(he,le):e.encodePayloadAsArrayBuffer(he,le);if(!he.length)return le("0:");function Se(tt){return tt.length+":"+tt}function De(tt,Xe){e.encodePacket(tt,be?pe:!1,!1,function(at){Xe(null,Se(at))})}ne(he,De,function(tt,Xe){return le(Xe.join(""))})};function ne(he,pe,le){for(var be=new Array(he.length),Se=s(he.length,le),De=function(Xe,at,yt){pe(at,function(Ot,Vt){be[Xe]=Vt,yt(Ot,be)})},tt=0;tt<he.length;tt++)De(tt,he[tt],Se)}e.decodePayload=function(he,pe,le){if(typeof he!="string")return e.decodePayloadAsBinary(he,pe,le);typeof pe=="function"&&(le=pe,pe=null);var be;if(he==="")return le(z,0,1);for(var Se="",De,tt,Xe=0,at=he.length;Xe<at;Xe++){var yt=he.charAt(Xe);if(yt!==":"){Se+=yt;continue}if(Se===""||Se!=(De=Number(Se))||(tt=he.substr(Xe+1,De),Se!=tt.length))return le(z,0,1);if(tt.length){if(be=e.decodePacket(tt,pe,!1),z.type===be.type&&z.data===be.data)return le(z,0,1);var Ot=le(be,Xe+De,at);if(Ot===!1)return}Xe+=De,Se=""}if(Se!=="")return le(z,0,1)},e.encodePayloadAsArrayBuffer=function(he,pe){if(!he.length)return pe(new ArrayBuffer(0));function le(be,Se){e.encodePacket(be,!0,!0,function(De){return Se(null,De)})}ne(he,le,function(be,Se){var De=Se.reduce(function(at,yt){var Ot;return typeof yt=="string"?Ot=yt.length:Ot=yt.byteLength,at+Ot.toString().length+Ot+2},0),tt=new Uint8Array(De),Xe=0;return Se.forEach(function(at){var yt=typeof at=="string",Ot=at;if(yt){for(var bn=new Uint8Array(at.length),Vt=0;Vt<at.length;Vt++)bn[Vt]=at.charCodeAt(Vt);Ot=bn.buffer}yt?tt[Xe++]=0:tt[Xe++]=1;for(var Jt=Ot.byteLength.toString(),Vt=0;Vt<Jt.length;Vt++)tt[Xe++]=parseInt(Jt[Vt]);tt[Xe++]=255;for(var bn=new Uint8Array(Ot),Vt=0;Vt<bn.length;Vt++)tt[Xe++]=bn[Vt]}),pe(tt.buffer)})},e.encodePayloadAsBlob=function(he,pe){function le(be,Se){e.encodePacket(be,!0,!0,function(De){var tt=new Uint8Array(1);if(tt[0]=1,typeof De=="string"){for(var Xe=new Uint8Array(De.length),at=0;at<De.length;at++)Xe[at]=De.charCodeAt(at);De=Xe.buffer,tt[0]=0}for(var yt=De instanceof ArrayBuffer?De.byteLength:De.size,Ot=yt.toString(),Vt=new Uint8Array(Ot.length+1),at=0;at<Ot.length;at++)Vt[at]=parseInt(Ot[at]);if(Vt[Ot.length]=255,U){var Jt=new U([tt.buffer,Vt.buffer,De]);Se(null,Jt)}})}ne(he,le,function(be,Se){return pe(new U(Se))})},e.decodePayloadAsBinary=function(he,pe,le){typeof pe=="function"&&(le=pe,pe=null);for(var be=he,Se=[];be.byteLength>0;){for(var De=new Uint8Array(be),tt=De[0]===0,Xe="",at=1;De[at]!==255;at++){if(Xe.length>310)return le(z,0,1);Xe+=De[at]}be=i(be,2+Xe.length),Xe=parseInt(Xe);var yt=i(be,0,Xe);if(tt)try{yt=String.fromCharCode.apply(null,new Uint8Array(yt))}catch{var Ot=new Uint8Array(yt);yt="";for(var at=0;at<Ot.length;at++)yt+=String.fromCharCode(Ot[at])}Se.push(yt),be=i(be,Xe)}var Vt=Se.length;Se.forEach(function(Jt,bn){le(e.decodePacket(Jt,pe,!0),bn,Vt)})}})(nd);var ry={},y$={get exports(){return ry},set exports(e){ry=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(y$);var Ow,A6;function fC(){if(A6)return Ow;A6=1;var e=nd,t=ry;Ow=n;function n(i){this.path=i.path,this.hostname=i.hostname,this.port=i.port,this.secure=i.secure,this.query=i.query,this.timestampParam=i.timestampParam,this.timestampRequests=i.timestampRequests,this.readyState="",this.agent=i.agent||!1,this.socket=i.socket,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.forceNode=i.forceNode,this.isReactNative=i.isReactNative,this.extraHeaders=i.extraHeaders,this.localAddress=i.localAddress}return t(n.prototype),n.prototype.onError=function(i,s){var l=new Error(i);return l.type="TransportError",l.description=s,this.emit("error",l),this},n.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},n.prototype.send=function(i){if(this.readyState==="open")this.write(i);else throw new Error("Transport not open")},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(i){var s=e.decodePacket(i,this.socket.binaryType);this.onPacket(s)},n.prototype.onPacket=function(i){this.emit("packet",i)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")},Ow}var Q0={};Q0.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t};Q0.decode=function(e){for(var t={},n=e.split("&"),i=0,s=n.length;i<s;i++){var l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t};var nx=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},MM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Z_=64,LM={},d6=0,Ph=0,m6;function zS(e){var t="";do t=MM[e%Z_]+t,e=Math.floor(e/Z_);while(e>0);return t}function v$(e){var t=0;for(Ph=0;Ph<e.length;Ph++)t=t*Z_+LM[e.charAt(Ph)];return t}function pC(){var e=zS(+new Date);return e!==m6?(d6=0,m6=e):e+"."+zS(d6++)}for(;Ph<Z_;Ph++)LM[MM[Ph]]=Ph;pC.encode=zS;pC.decode=v$;var RM=pC,WA={},_$={get exports(){return WA},set exports(e){WA=e}},X_={},x$={get exports(){return X_},set exports(e){X_=e}},iy=1e3,oy=iy*60,ay=oy*60,sy=ay*24,b$=sy*365.25,w$=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return S$(e);if(n==="number"&&isNaN(e)===!1)return t.long?C$(e):E$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function S$(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*b$;case"days":case"day":case"d":return n*sy;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ay;case"minutes":case"minute":case"mins":case"min":case"m":return n*oy;case"seconds":case"second":case"secs":case"sec":case"s":return n*iy;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function E$(e){return e>=sy?Math.round(e/sy)+"d":e>=ay?Math.round(e/ay)+"h":e>=oy?Math.round(e/oy)+"m":e>=iy?Math.round(e/iy)+"s":e+"ms"}function C$(e){return E1(e,sy,"day")||E1(e,ay,"hour")||E1(e,oy,"minute")||E1(e,iy,"second")||e+" ms"}function E1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=w$,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(T){var M=0,F;for(F in T)M=(M<<5)-M+T.charCodeAt(F),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(T){var M;function F(){if(F.enabled){var z=F,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,he){if(ne==="%%")return ne;V++;var pe=t.formatters[he];if(typeof pe=="function"){var le=K[V];ne=pe.call(z,le),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=F.log||t.log||console.log.bind(console);X.apply(z,K)}}return F.namespace=T,F.enabled=t.enabled(T),F.useColors=t.useColors(),F.color=n(T),F.destroy=s,typeof t.init=="function"&&t.init(F),t.instances.push(F),F}function s(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function l(T){t.save(T),t.names=[],t.skips=[];var M,F=(typeof T=="string"?T:"").split(/[\s,]+/),z=F.length;for(M=0;M<z;M++)F[M]&&(T=F[M].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(T){if(T[T.length-1]==="*")return!0;var M,F;for(M=0,F=t.skips.length;M<F;M++)if(t.skips[M].test(T))return!1;for(M=0,F=t.names.length;M<F;M++)if(t.names[M].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(x$,X_);(function(e,t){t=e.exports=X_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function i(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var F=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(F++,U==="%c"&&(z=F))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(_$,WA);var DM=fC(),k$=Q0,FM=nd,T$=nx,P$=RM,Pc=WA("engine.io-client:polling"),BM=If,I$=function(){var e=cC,t=new e({xdomain:!1});return t.responseType!=null}();function If(e){var t=e&&e.forceBase64;(!I$||t)&&(this.supportsBinary=!1),DM.call(this,e)}T$(If,DM);If.prototype.name="polling";If.prototype.doOpen=function(){this.poll()};If.prototype.pause=function(e){var t=this;this.readyState="pausing";function n(){Pc("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var i=0;this.polling&&(Pc("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Pc("pre-pause polling complete"),--i||n()})),this.writable||(Pc("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Pc("pre-pause writing complete"),--i||n()}))}else n()};If.prototype.poll=function(){Pc("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};If.prototype.onData=function(e){var t=this;Pc("polling got data %s",e);var n=function(i,s,l){if(t.readyState==="opening"&&t.onOpen(),i.type==="close")return t.onClose(),!1;t.onPacket(i)};FM.decodePayload(e,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Pc('ignoring poll - transport state "%s"',this.readyState))};If.prototype.doClose=function(){var e=this;function t(){Pc("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Pc("transport open - closing"),t()):(Pc("transport not open - deferring close"),this.once("open",t))};If.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};FM.encodePayload(e,this.supportsBinary,function(i){t.doWrite(i,n)})};If.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(e[this.timestampParam]=P$()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=k$.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};var O$=cC,zM=BM,M$=ry,L$=nx,NS=WA("engine.io-client:polling-xhr");t$.exports=W0;Q_.Request=za;function g6(){}function W0(e){if(zM.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",n=location.port;n||(n=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}L$(W0,zM);W0.prototype.supportsBinary=!0;W0.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new za(e)};W0.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==void 0,i=this.request({method:"POST",data:e,isBinary:n}),s=this;i.on("success",t),i.on("error",function(l){s.onError("xhr post error",l)}),this.sendXhr=i};W0.prototype.doPoll=function(){NS("xhr poll");var e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e};function za(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}M$(za.prototype);za.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new O$(e),n=this;try{NS("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var s=t.getResponseHeader("Content-Type");n.supportsBinary&&s==="application/octet-stream"&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},NS("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){n.onError(s)},0);return}typeof document<"u"&&(this.index=za.requestsCount++,za.requests[this.index]=this)};za.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};za.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};za.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};za.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=g6:this.xhr.onreadystatechange=g6,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete za.requests[this.index],this.xhr=null}};za.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(n){this.onError(n)}e!=null&&this.onData(e)};za.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};za.prototype.abort=function(){this.cleanup()};za.requestsCount=0;za.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",y6);else if(typeof addEventListener=="function"){var R$="onpagehide"in self?"pagehide":"unload";addEventListener(R$,y6,!1)}}function y6(){for(var e in za.requests)za.requests.hasOwnProperty(e)&&za.requests[e].abort()}var hC=BM,D$=nx,F$=K0,B$=/\n/g,z$=/\\n/g,C1;function N$(){}function U$(){return typeof self<"u"?self:typeof window<"u"?window:typeof Ru<"u"?Ru:{}}function K0(e){if(hC.call(this,e),this.query=this.query||{},!C1){var t=U$();C1=t.___eio=t.___eio||[]}this.index=C1.length;var n=this;C1.push(function(i){n.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=N$)},!1)}D$(K0,hC);K0.prototype.supportsBinary=!1;K0.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),hC.prototype.doClose.call(this)};K0.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)};K0.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,o;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function x(){S(),t()}function S(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(M){n.onError("jsonp polling iframe removal error",M)}try{var T='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(T)}catch{o=document.createElement("iframe"),o.name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}S(),e=e.replace(z$,`\\
`),this.area.value=e.replace(B$,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};const j$={},$$=Object.freeze(Object.defineProperty({__proto__:null,default:j$},Symbol.toStringTag,{value:"Module"})),V$=MF($$);var AC=fC(),H$=nd,q$=Q0,G$=nx,Q$=RM,W$=WA("engine.io-client:websocket"),Y_,dC;if(typeof WebSocket<"u")Y_=WebSocket;else if(typeof self<"u")Y_=self.WebSocket||self.MozWebSocket;else try{dC=V$}catch{}var T0=Y_||dC,K$=ju;function ju(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Y_&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(T0=dC),AC.call(this,e)}G$(ju,AC);ju.prototype.name="websocket";ju.prototype.supportsBinary=!0;ju.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new T0(e,t):new T0(e):new T0(e,t,n)}catch(i){return this.emit("error",i)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};ju.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};ju.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,s=n;i<s;i++)(function(o){H$.encodePacket(o,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var S={};if(o.options&&(S.compress=o.options.compress),t.perMessageDeflate){var T=typeof x=="string"?Buffer.byteLength(x):x.length;T<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,S)}catch{W$("websocket closed before onclose event")}--n||l()})})(e[i]);function l(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};ju.prototype.onClose=function(){AC.prototype.onClose.call(this)};ju.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};ju.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=Q$()),this.supportsBinary||(e.b64=1),e=q$.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};ju.prototype.check=function(){return!!T0&&!("__initialize"in T0&&this.name===ju.prototype.name)};var Z$=cC,X$=Q_,Y$=F$,J$=K$;tx.polling=eV;tx.websocket=J$;function eV(e){var t,n=!1,i=!1,s=e.jsonp!==!1;if(typeof location<"u"){var l=location.protocol==="https:",o=location.port;o||(o=l?443:80),n=e.hostname!==location.hostname||o!==e.port,i=e.secure!==l}if(e.xdomain=n,e.xscheme=i,t=new Z$(e),"open"in t&&!e.forceJSONP)return new X$(e);if(!s)throw new Error("JSONP disabled");return new Y$(e)}var tV=[].indexOf,NM=function(e,t){if(tV)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},nV=tx,rV=ry,Ia=WA("engine.io-client:socket"),iV=NM,UM=nd,v6=SM,oV=Q0,aV=ai;function ai(e,t){if(!(this instanceof ai))return new ai(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=v6(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=v6(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=oV.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ai.priorWebsocketSuccess=!1;rV(ai.prototype);ai.protocol=UM.protocol;ai.Socket=ai;ai.Transport=fC();ai.transports=tx;ai.parser=nd;ai.prototype.createTransport=function(e){Ia('creating transport "%s"',e);var t=sV(this.query);t.EIO=UM.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var i=new nV[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return i};function sV(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}ai.prototype.open=function(){var e;if(this.rememberUpgrade&&ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};ai.prototype.setTransport=function(e){Ia("setting transport %s",e.name);var t=this;this.transport&&(Ia("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};ai.prototype.probe=function(e){Ia('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;ai.priorWebsocketSuccess=!1;function s(){if(i.onlyBinaryUpgrades){var F=!this.supportsBinary&&i.transport.supportsBinary;n=n||F}n||(Ia('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(z){if(!n)if(z.type==="pong"&&z.data==="probe"){if(Ia('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;ai.priorWebsocketSuccess=t.name==="websocket",Ia('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||i.readyState!=="closed"&&(Ia("changing transport and sending upgrade packet"),M(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{Ia('probe transport "%s" failed',e);var U=new Error("probe error");U.transport=t.name,i.emit("upgradeError",U)}}))}function l(){n||(n=!0,M(),t.close(),t=null)}function o(F){var z=new Error("probe error: "+F);z.transport=t.name,l(),Ia('probe transport "%s" failed because of error: %s',e,F),i.emit("upgradeError",z)}function x(){o("transport closed")}function S(){o("socket closed")}function T(F){t&&F.name!==t.name&&(Ia('"%s" works - aborting "%s"',F.name,t.name),l())}function M(){t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",x),i.removeListener("close",S),i.removeListener("upgrading",T)}t.once("open",s),t.once("error",o),t.once("close",x),this.once("close",S),this.once("upgrading",T),t.open()};ai.prototype.onOpen=function(){if(Ia("socket open"),this.readyState="open",ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ia("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};ai.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ia('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ia('packet received with socket readyState "%s"',this.readyState)};ai.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};ai.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};ai.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Ia("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};ai.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};ai.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};ai.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ia("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};ai.prototype.write=ai.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this};ai.prototype.sendPacket=function(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}};ai.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),Ia("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this};ai.prototype.onError=function(e){Ia("socket error %j",e),ai.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};ai.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ia('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}};ai.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~iV(this.transports,e[n])&&t.push(e[n]);return t};(function(e){e.exports=aV,e.exports.parser=nd})(Jj);var J_={},lV={get exports(){return J_},set exports(e){J_=e}},e2={},uV={get exports(){return e2},set exports(e){e2=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(uV);var cV=fV;function fV(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}var jM=pV;function pV(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}var _6=[].slice,$M=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var n=_6.call(arguments,2);return function(){return t.apply(e,n.concat(_6.call(arguments)))}};(function(e,t){var n=J2,i=e2,s=cV,l=jM,o=$M,x=QA("socket.io-client:socket"),S=Q0,T=PM;e.exports=z;var M={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},F=i.prototype.emit;function z(U,q,K){this.io=U,this.nsp=q,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},K&&K.query&&(this.query=K.query),this.io.autoConnect&&this.open()}i(z.prototype),z.prototype.subEvents=function(){if(!this.subs){var U=this.io;this.subs=[l(U,"open",o(this,"onopen")),l(U,"packet",o(this,"onpacket")),l(U,"close",o(this,"onclose"))]}},z.prototype.open=z.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},z.prototype.send=function(){var U=s(arguments);return U.unshift("message"),this.emit.apply(this,U),this},z.prototype.emit=function(U){if(M.hasOwnProperty(U))return F.apply(this,arguments),this;var q=s(arguments),K={type:(this.flags.binary!==void 0?this.flags.binary:T(q))?n.BINARY_EVENT:n.EVENT,data:q};return K.options={},K.options.compress=!this.flags||this.flags.compress!==!1,typeof q[q.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=q.pop(),K.id=this.ids++),this.connected?this.packet(K):this.sendBuffer.push(K),this.flags={},this},z.prototype.packet=function(U){U.nsp=this.nsp,this.io.packet(U)},z.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var U=typeof this.query=="object"?S.encode(this.query):this.query;x("sending connect packet with query %s",U),this.packet({type:n.CONNECT,query:U})}else this.packet({type:n.CONNECT})},z.prototype.onclose=function(U){x("close (%s)",U),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",U)},z.prototype.onpacket=function(U){var q=U.nsp===this.nsp,K=U.type===n.ERROR&&U.nsp==="/";if(!(!q&&!K))switch(U.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(U);break;case n.BINARY_EVENT:this.onevent(U);break;case n.ACK:this.onack(U);break;case n.BINARY_ACK:this.onack(U);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",U.data);break}},z.prototype.onevent=function(U){var q=U.data||[];x("emitting event %j",q),U.id!=null&&(x("attaching ack callback to event"),q.push(this.ack(U.id))),this.connected?F.apply(this,q):this.receiveBuffer.push(q)},z.prototype.ack=function(U){var q=this,K=!1;return function(){if(!K){K=!0;var ee=s(arguments);x("sending ack %j",ee),q.packet({type:T(ee)?n.BINARY_ACK:n.ACK,id:U,data:ee})}}},z.prototype.onack=function(U){var q=this.acks[U.id];typeof q=="function"?(x("calling ack %s with %j",U.id,U.data),q.apply(this,U.data),delete this.acks[U.id]):x("bad ack %s",U.id)},z.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},z.prototype.emitBuffered=function(){var U;for(U=0;U<this.receiveBuffer.length;U++)F.apply(this,this.receiveBuffer[U]);for(this.receiveBuffer=[],U=0;U<this.sendBuffer.length;U++)this.packet(this.sendBuffer[U]);this.sendBuffer=[]},z.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},z.prototype.destroy=function(){if(this.subs){for(var U=0;U<this.subs.length;U++)this.subs[U].destroy();this.subs=null}this.io.destroy(this)},z.prototype.close=z.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},z.prototype.compress=function(U){return this.flags.compress=U,this},z.prototype.binary=function(U){return this.flags.binary=U,this}})(lV);var hV=Z0;function Z0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Z0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Z0.prototype.reset=function(){this.attempts=0};Z0.prototype.setMin=function(e){this.ms=e};Z0.prototype.setMax=function(e){this.max=e};Z0.prototype.setJitter=function(e){this.jitter=e};var AV=FS,dV=J_,mV=e2,gV=J2,xh=jM,Hd=$M,Bs=QA("socket.io-client:manager"),VM=NM,yV=hV,HM=Object.prototype.hasOwnProperty,x6=di;function di(e,t){if(!(this instanceof di))return new di(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new yV({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||gV;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}di.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)HM.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};di.prototype.updateSocketIds=function(){for(var e in this.nsps)HM.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};di.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};mV(di.prototype);di.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};di.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};di.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};di.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};di.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};di.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};di.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};di.prototype.open=di.prototype.connect=function(e,t){if(Bs("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Bs("opening %s",this.uri),this.engine=AV(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=xh(n,"open",function(){i.onopen(),e&&e()}),l=xh(n,"error",function(S){if(Bs("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",S),e){var T=new Error("Connection error");T.data=S,e(T)}else i.maybeReconnectOnOpen()});if(this._timeout!==!1){var o=this._timeout;Bs("connect attempt will timeout after %d",o);var x=setTimeout(function(){Bs("connect attempt timed out after %d",o),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(s),this.subs.push(l),this};di.prototype.onopen=function(){Bs("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(xh(e,"data",Hd(this,"ondata"))),this.subs.push(xh(e,"ping",Hd(this,"onping"))),this.subs.push(xh(e,"pong",Hd(this,"onpong"))),this.subs.push(xh(e,"error",Hd(this,"onerror"))),this.subs.push(xh(e,"close",Hd(this,"onclose"))),this.subs.push(xh(this.decoder,"decoded",Hd(this,"ondecoded")))};di.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};di.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};di.prototype.ondata=function(e){this.decoder.add(e)};di.prototype.ondecoded=function(e){this.emit("packet",e)};di.prototype.onerror=function(e){Bs("error",e),this.emitAll("error",e)};di.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new dV(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",s),n.on("connect",function(){n.id=i.generateId(e)}),this.autoConnect&&s()}function s(){~VM(i.connecting,n)||i.connecting.push(n)}return n};di.prototype.destroy=function(e){var t=VM(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};di.prototype.packet=function(e){Bs("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))};di.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};di.prototype.cleanup=function(){Bs("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};di.prototype.close=di.prototype.disconnect=function(){Bs("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};di.prototype.onclose=function(e){Bs("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};di.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Bs("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Bs("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(Bs("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(i){i?(Bs("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",i.data)):(Bs("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};di.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var n=Fj,i=J2,s=x6,l=QA("socket.io-client");e.exports=t=x;var o=t.managers={};function x(S,T){typeof S=="object"&&(T=S,S=void 0),T=T||{};var M=n(S),F=M.source,z=M.id,U=M.path,q=o[z]&&U in o[z].nsps,K=T.forceNew||T["force new connection"]||T.multiplex===!1||q,ee;return K?(l("ignoring socket cache for %s",F),ee=s(F,T)):(o[z]||(l("new io instance for %s",F),o[z]=s(F,T)),ee=o[z]),M.query&&!T.query&&(T.query=M.query),ee.socket(M.path,T)}t.protocol=i.protocol,t.connect=x,t.Manager=x6,t.Socket=J_})(Ej,V_);var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.RENDERER_MESSAGE_EVENT_NAME=void 0;var vV="cosmos-renderer-message";rx.RENDERER_MESSAGE_EVENT_NAME=vV;Object.defineProperty(sC,"__esModule",{value:!0});sC.createWebSocketsConnect=bV;var _V=xV(V_),Mw=rx;function xV(e){return e&&e.__esModule?e:{default:e}}function bV(e){var t=(0,_V.default)(e);return{postMessage:function(i){t.emit(Mw.RENDERER_MESSAGE_EVENT_NAME,i)},onMessage:function(i){return t.on(Mw.RENDERER_MESSAGE_EVENT_NAME,i),function(){return t.off(Mw.RENDERER_MESSAGE_EVENT_NAME,i)}}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FixtureCapture",{enumerable:!0,get:function(){return t.FixtureCapture}}),Object.defineProperty(e,"FixtureContext",{enumerable:!0,get:function(){return n.FixtureContext}}),Object.defineProperty(e,"FixtureLoader",{enumerable:!0,get:function(){return i.FixtureLoader}}),Object.defineProperty(e,"Viewport",{enumerable:!0,get:function(){return S.Viewport}}),Object.defineProperty(e,"createPostMessageConnect",{enumerable:!0,get:function(){return l.createPostMessageConnect}}),Object.defineProperty(e,"createWebSocketsConnect",{enumerable:!0,get:function(){return T.createWebSocketsConnect}}),Object.defineProperty(e,"getDecoratedFixtureElement",{enumerable:!0,get:function(){return s.getDecoratedFixtureElement}}),Object.defineProperty(e,"useSelect",{enumerable:!0,get:function(){return o.useSelect}}),Object.defineProperty(e,"useValue",{enumerable:!0,get:function(){return x.useValue}});var t=B2,n=ol,i=K2,s=Z2,l=XE,o=JE,x=rC,S=Y2,T=sC})(NO);(function(e){e.exports=NO})(r9);var ix={},US={},wV={get exports(){return US},set exports(e){US=e}};(function(e){e.exports=Bc})(wV);function jS(e){return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jS(e)}Object.defineProperty(ix,"__esModule",{value:!0});ix.ErrorCatch=void 0;var CA=CV($t),SV=ns,EV=US;function CV(e){return e&&e.__esModule?e:{default:e}}function kV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TV(e,t,n){return t&&b6(e.prototype,t),n&&b6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},$S(e,t)}function IV(e){var t=MV();return function(){var i=t2(e),s;if(t){var l=t2(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return OV(this,s)}}function OV(e,t){if(t&&(jS(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qM(e)}function qM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t2(e){return t2=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},t2(e)}function LV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RV=function(e){PV(n,e);var t=IV(n);function n(){var i;kV(this,n);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l)),LV(qM(i),"state",{error:null}),i}return TV(n,[{key:"componentDidCatch",value:function(s,l){this.setState({error:"".concat(s.message,`
`).concat(l.componentStack)})}},{key:"componentDidUpdate",value:function(s){this.state.error&&(DV(this.props.children,s.children)||FV(this.props.fixtureState,s.fixtureState))&&(this.setState({error:null}),this.props.onErrorReset())}},{key:"render",value:function(){return this.state.error?this.renderError(this.state.error):this.props.children}},{key:"renderError",value:function(s){return __DEV__?null:CA.default.createElement(CA.default.Fragment,null,CA.default.createElement("p",null,CA.default.createElement("strong",null,"Ouch, something wrong!")),CA.default.createElement("pre",null,s),CA.default.createElement("p",null,"Check console for more info."))}}]),n}(CA.default.Component);ix.ErrorCatch=RV;function DV(e,t){return!(0,EV.areNodesEqual)(e,t,!0)}function FV(e,t){return!(0,SV.isEqual)(e,t)}var X0={},ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.isInsideCosmosPreviewIframe=BV;function BV(){try{return window.self!==window.parent}catch{return!0}}Object.defineProperty(X0,"__esModule",{value:!0});X0.rendererConnect=void 0;var w6=B_,zV=ox,NV=(0,zV.isInsideCosmosPreviewIframe)()?(0,w6.createPostMessageConnect)():(0,w6.createWebSocketsConnect)(UV());X0.rendererConnect=NV;function UV(){return location.origin}var Y0={},VS={},jV={get exports(){return VS},set exports(e){VS=e}};(function(e){e.exports=$2})(jV);Object.defineProperty(Y0,"__esModule",{value:!0});Y0.rendererId=void 0;var $V=VS,VV=HV();Y0.rendererId=VV;function HV(){var e=sessionStorage.getItem("cosmosRendererId");return e||(e=(0,$V.uuid)(),sessionStorage.setItem("cosmosRendererId",e)),e}var mC={};Object.defineProperty(mC,"__esModule",{value:!0});mC.renderMessage=WV;var qV=GV($t);function GV(e){return e&&e.__esModule?e:{default:e}}var QV={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'-apple-system, BlinkMacSystemFont, Ubuntu, "Helvetica Neue", Helvetica, sans-serif',fontSize:14};function WV(e){var t=e.msg;return qV.default.createElement("div",{style:QV},t)}var ax={},HS={},KV={get exports(){return HS},set exports(e){HS=e}},Kh={},Oy={},ZV=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var S6=Object.getOwnPropertySymbols,XV=Object.prototype.hasOwnProperty,YV=Object.prototype.propertyIsEnumerable;function JV(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function eH(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(l){return t[l]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(l){s[l]=l}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var tH=eH()?Object.assign:function(e,t){for(var n,i=JV(e),s,l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var o in n)XV.call(n,o)&&(i[o]=n[o]);if(S6){s=S6(n);for(var x=0;x<s.length;x++)YV.call(n,s[x])&&(i[s[x]]=n[s[x]])}}return i},GM="%[a-f0-9]{2}",E6=new RegExp(GM,"gi"),C6=new RegExp("("+GM+")+","gi");function qS(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],qS(n),qS(i))}function nH(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(E6),n=1;n<t.length;n++)e=qS(t,n).join(""),t=e.match(E6);return e}}function rH(e){for(var t={"%FE%FF":"","%FF%FE":""},n=C6.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var i=nH(n[0]);i!==n[0]&&(t[n[0]]=i)}n=C6.exec(e)}t["%C2"]="";for(var s=Object.keys(t),l=0;l<s.length;l++){var o=s[l];e=e.replace(new RegExp(o,"g"),t[o])}return e}var iH=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return rH(e)}},oH=ZV,QM=tH,k6=iH;function aH(e){switch(e.arrayFormat){case"index":return function(t,n,i){return n===null?[Wl(t,e),"[",i,"]"].join(""):[Wl(t,e),"[",Wl(i,e),"]=",Wl(n,e)].join("")};case"bracket":return function(t,n){return n===null?Wl(t,e):[Wl(t,e),"[]=",Wl(n,e)].join("")};default:return function(t,n){return n===null?Wl(t,e):[Wl(t,e),"=",Wl(n,e)].join("")}}}function sH(e){var t;switch(e.arrayFormat){case"index":return function(n,i,s){if(t=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!t){s[n]=i;return}s[n]===void 0&&(s[n]={}),s[n][t[1]]=i};case"bracket":return function(n,i,s){if(t=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),t){if(s[n]===void 0){s[n]=[i];return}}else{s[n]=i;return}s[n]=[].concat(s[n],i)};default:return function(n,i,s){if(s[n]===void 0){s[n]=i;return}s[n]=[].concat(s[n],i)}}}function Wl(e,t){return t.encode?t.strict?oH(e):encodeURIComponent(e):e}function WM(e){return Array.isArray(e)?e.sort():typeof e=="object"?WM(Object.keys(e)).sort(function(t,n){return Number(t)-Number(n)}).map(function(t){return e[t]}):e}function KM(e){var t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function ZM(e,t){t=QM({arrayFormat:"none"},t);var n=sH(t),i=Object.create(null);return typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e)?i:(e.split("&").forEach(function(s){var l=s.replace(/\+/g," ").split("="),o=l.shift(),x=l.length>0?l.join("="):void 0;x=x===void 0?null:k6(x),n(k6(o),x,i)}),Object.keys(i).sort().reduce(function(s,l){var o=i[l];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?s[l]=WM(o):s[l]=o,s},Object.create(null)))}Oy.extract=KM;Oy.parse=ZM;Oy.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=QM(n,t),t.sort===!1&&(t.sort=function(){});var i=aH(t);return e?Object.keys(e).sort(t.sort).map(function(s){var l=e[s];if(l===void 0)return"";if(l===null)return Wl(s,t);if(Array.isArray(l)){var o=[];return l.slice().forEach(function(x){x!==void 0&&o.push(i(s,x,o.length))}),o.join("&")}return Wl(s,t)+"="+Wl(l,t)}).filter(function(s){return s.length>0}).join("&"):""};Oy.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:ZM(KM(e),t)}};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.parsePlaygroundUrlQuery=cH;Kh.parseRendererUrlQuery=pH;Kh.parseUrlQuery=gC;Kh.stringifyPlaygroundUrlQuery=uH;Kh.stringifyRendererUrlQuery=fH;Kh.stringifyUrlQuery=hH;var sx=lH(Oy);function lH(e){return e&&e.__esModule?e:{default:e}}function uH(e){var t={};return e.fixtureId&&(t.fixtureId=JSON.stringify(e.fixtureId)),sx.default.stringify(t)}function cH(e){var t=gC(e),n={};return t.fixtureId&&(n.fixtureId=JSON.parse(t.fixtureId)),n}function fH(e){var t={};return e._fixtureId&&(t._fixtureId=JSON.stringify(e._fixtureId)),sx.default.stringify(t)}function pH(e){var t=gC(e),n={};return t._fixtureId&&(n._fixtureId=JSON.parse(t._fixtureId)),n}function gC(e){return sx.default.parse(e)}function hH(e){return sx.default.stringify(e)}(function(e){e.exports=Kh})(KV);Object.defineProperty(ax,"__esModule",{value:!0});ax.selectedFixtureId=void 0;var AH=HS,dH=ox,mH=gH();ax.selectedFixtureId=mH;function gH(){var e=(0,AH.parseRendererUrlQuery)(location.search);return e._fixtureId?(yH(e._fixtureId),e._fixtureId):vH()}function yH(e){sessionStorage.setItem("cosmosFixtureId",JSON.stringify(e))}function vH(){if((0,dH.isInsideCosmosPreviewIframe)())return null;var e=sessionStorage.getItem("cosmosFixtureId");return e?JSON.parse(e):null}Object.defineProperty(EE,"__esModule",{value:!0});EE.DomFixtureLoader=TH;var _H=kH($t),xH=B_,bH=ix,wH=X0,SH=Y0,EH=mC,CH=ax;function kH(e){return e&&e.__esModule?e:{default:e}}function TH(e){var t=e.fixtures,n=e.decorators,i=e.onErrorReset;return _H.default.createElement(xH.FixtureLoader,{rendererId:SH.rendererId,rendererConnect:wH.rendererConnect,fixtures:t,selectedFixtureId:CH.selectedFixtureId,systemDecorators:[bH.ErrorCatch],userDecorators:n,renderMessage:EH.renderMessage,onErrorReset:i})}var PH=Y0,IH=X0;window.addEventListener("error",function(){IH.rendererConnect.postMessage({type:"rendererError",payload:{rendererId:PH.rendererId}})});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mountDomRenderer=S,Object.defineProperty(e,"rendererConnect",{enumerable:!0,get:function(){return l.rendererConnect}}),Object.defineProperty(e,"rendererId",{enumerable:!0,get:function(){return o.rendererId}});var t=x($t),n=S3,i=SE,s=EE,l=X0,o=Y0;function x(T){return T&&T.__esModule?T:{default:T}}function S(T){var M=T.rendererConfig,F=T.fixtures,z=T.decorators,U=T.onErrorReset,q=(0,i.getDomContainer)(M.containerQuerySelector),K=(0,n.createRoot)(q);K.render(t.default.createElement(s.DomFixtureLoader,{fixtures:F,decorators:z,onErrorReset:U}))}})(BP);(function(e){e.exports=BP})(KF);const OH="2.2.14";var ly={},MH={get exports(){return ly},set exports(e){ly=e}},lx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LH=$t,RH=Symbol.for("react.element"),DH=Symbol.for("react.fragment"),FH=Object.prototype.hasOwnProperty,BH=LH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zH={key:!0,ref:!0,__self:!0,__source:!0};function XM(e,t,n){var i,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)FH.call(t,i)&&!zH.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:RH,type:e,key:l,ref:o,props:s,_owner:BH.current}}lx.Fragment=DH;lx.jsx=XM;lx.jsxs=XM;(function(e){e.exports=lx})(MH);const ux=ly.Fragment,wt=ly.jsx,Qr=ly.jsxs;function YM(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=YM(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function aa(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=YM(e))&&(i&&(i+=" "),i+=t);return i}const JM=e=>wt("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.54039 5.54039C5.79423 5.28655 6.20578 5.28655 6.45963 5.54039L12 11.0808L17.5404 5.54039C17.7942 5.28655 18.2058 5.28655 18.4596 5.54039C18.7135 5.79423 18.7135 6.20578 18.4596 6.45963L12.9192 12L18.4596 17.5404C18.7135 17.7942 18.7135 18.2058 18.4596 18.4596C18.2058 18.7135 17.7942 18.7135 17.5404 18.4596L12 12.9192L6.45963 18.4596C6.20578 18.7135 5.79423 18.7135 5.54039 18.4596C5.28655 18.2058 5.28655 17.7942 5.54039 17.5404L11.0808 12L5.54039 6.45963C5.28655 6.20578 5.28655 5.79423 5.54039 5.54039Z",fill:"currentColor"})});JM.displayName="Close24";const NH=$t.memo(JM),UH=NH,eL=e=>Qr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L13.3536 12.6464C13.5488 12.8417 13.5488 13.1583 13.3536 13.3536C13.1583 13.5488 12.8417 13.5488 12.6464 13.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"currentColor"}),wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.64645C13.1583 2.45118 12.8417 2.45118 12.6464 2.64645L2.64645 12.6464C2.45118 12.8417 2.45118 13.1583 2.64645 13.3536C2.84171 13.5488 3.15829 13.5488 3.35355 13.3536L13.3536 3.35355C13.5488 3.15829 13.5488 2.84171 13.3536 2.64645Z",fill:"currentColor"})]});eL.displayName="Close16";const jH=$t.memo(eL),$H=jH,tL=e=>wt("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 5.64645C2.84171 5.45118 3.15829 5.45118 3.35355 5.64645L8 10.2929L12.6464 5.64645C12.8417 5.45118 13.1583 5.45118 13.3536 5.64645C13.5488 5.84171 13.5488 6.15829 13.3536 6.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L2.64645 6.35355C2.45118 6.15829 2.45118 5.84171 2.64645 5.64645Z",fill:"currentColor"})});tL.displayName="ChevronDown16";const VH=$t.memo(tL),HH=VH,nL=e=>Qr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00002 2.66669C5.0545 2.66669 2.66669 5.0545 2.66669 8.00002C2.66669 10.9455 5.0545 13.3334 8.00002 13.3334C10.9455 13.3334 13.3334 10.9455 13.3334 8.00002C13.3334 5.0545 10.9455 2.66669 8.00002 2.66669ZM1.66669 8.00002C1.66669 4.50222 4.50222 1.66669 8.00002 1.66669C11.4978 1.66669 14.3334 4.50222 14.3334 8.00002C14.3334 11.4978 11.4978 14.3334 8.00002 14.3334C4.50222 14.3334 1.66669 11.4978 1.66669 8.00002Z",fill:"currentColor"}),wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6.87481C8.27614 6.87481 8.5 7.09867 8.5 7.37481V11C8.5 11.2761 8.27614 11.5 8 11.5C7.72386 11.5 7.5 11.2761 7.5 11V7.37481C7.5 7.09867 7.72386 6.87481 8 6.87481Z",fill:"currentColor"}),wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4.5C8.27614 4.5 8.5 4.72386 8.5 5V5.01C8.5 5.28614 8.27614 5.51 8 5.51C7.72386 5.51 7.5 5.28614 7.5 5.01V5C7.5 4.72386 7.72386 4.5 8 4.5Z",fill:"currentColor"})]});nL.displayName="InfoOutline16";const qH=$t.memo(nL),GH=qH;var lr={},QH={get exports(){return lr},set exports(e){lr=e}},WH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KH=WH,ZH=KH;function rL(){}function iL(){}iL.resetWarningCache=rL;var XH=function(){function e(i,s,l,o,x,S){if(S!==ZH){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iL,resetWarningCache:rL};return n.PropTypes=n,n};QH.exports=XH();let YH=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function My(e){return e.split("-")[1]}function yC(e){return e==="y"?"height":"width"}function NA(e){return e.split("-")[0]}function Ly(e){return["top","bottom"].includes(NA(e))?"x":"y"}function T6(e,t,n){let{reference:i,floating:s}=e;const l=i.x+i.width/2-s.width/2,o=i.y+i.height/2-s.height/2,x=Ly(t),S=yC(x),T=i[S]/2-s[S]/2,M=x==="x";let F;switch(NA(t)){case"top":F={x:l,y:i.y-s.height};break;case"bottom":F={x:l,y:i.y+i.height};break;case"right":F={x:i.x+i.width,y:o};break;case"left":F={x:i.x-s.width,y:o};break;default:F={x:i.x,y:i.y}}switch(My(t)){case"start":F[x]-=T*(n&&M?-1:1);break;case"end":F[x]+=T*(n&&M?-1:1)}return F}const JH=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:o}=n,x=l.filter(Boolean),S=await(o.isRTL==null?void 0:o.isRTL(t));let T=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:M,y:F}=T6(T,i,S),z=i,U={},q=0;for(let K=0;K<x.length;K++){const{name:ee,fn:V}=x[K],{x:X,y:ne,data:he,reset:pe}=await V({x:M,y:F,initialPlacement:i,placement:z,strategy:s,middlewareData:U,rects:T,platform:o,elements:{reference:e,floating:t}});M=X??M,F=ne??F,U={...U,[ee]:{...U[ee],...he}},pe&&q<=50&&(q++,typeof pe=="object"&&(pe.placement&&(z=pe.placement),pe.rects&&(T=pe.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):pe.rects),{x:M,y:F}=T6(T,z,S)),K=-1)}return{x:M,y:F,placement:z,strategy:s,middlewareData:U}};function oL(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function GS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function aL(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:o,elements:x,strategy:S}=e,{boundary:T="clippingAncestors",rootBoundary:M="viewport",elementContext:F="floating",altBoundary:z=!1,padding:U=0}=t,q=oL(U),K=x[z?F==="floating"?"reference":"floating":F],ee=GS(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(K)))==null||n?K:K.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(x.floating)),boundary:T,rootBoundary:M,strategy:S})),V=F==="floating"?{...o.floating,x:i,y:s}:o.reference,X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(x.floating)),ne=await(l.isElement==null?void 0:l.isElement(X))&&await(l.getScale==null?void 0:l.getScale(X))||{x:1,y:1},he=GS(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:V,offsetParent:X,strategy:S}):V);return{top:(ee.top-he.top+q.top)/ne.y,bottom:(he.bottom-ee.bottom+q.bottom)/ne.y,left:(ee.left-he.left+q.left)/ne.x,right:(he.right-ee.right+q.right)/ne.x}}const eq=Math.min,tq=Math.max;function QS(e,t,n){return tq(e,eq(t,n))}const P6=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:i=0}=e||{},{x:s,y:l,placement:o,rects:x,platform:S}=t;if(n==null)return{};const T=oL(i),M={x:s,y:l},F=Ly(o),z=yC(F),U=await S.getDimensions(n),q=F==="y"?"top":"left",K=F==="y"?"bottom":"right",ee=x.reference[z]+x.reference[F]-M[F]-x.floating[z],V=M[F]-x.reference[F],X=await(S.getOffsetParent==null?void 0:S.getOffsetParent(n));let ne=X?F==="y"?X.clientHeight||0:X.clientWidth||0:0;ne===0&&(ne=x.floating[z]);const he=ee/2-V/2,pe=T[q],le=ne-U[z]-T[K],be=ne/2-U[z]/2+he,Se=QS(pe,be,le),De=My(o)!=null&&be!=Se&&x.reference[z]/2-(be<pe?T[q]:T[K])-U[z]/2<0;return{[F]:M[F]-(De?be<pe?pe-be:le-be:0),data:{[F]:Se,centerOffset:be-Se}}}}),nq=["top","right","bottom","left"];nq.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const rq={left:"right",right:"left",bottom:"top",top:"bottom"};function n2(e){return e.replace(/left|right|bottom|top/g,t=>rq[t])}function iq(e,t,n){n===void 0&&(n=!1);const i=My(e),s=Ly(e),l=yC(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(o=n2(o)),{main:o,cross:n2(o)}}const oq={start:"end",end:"start"};function Lw(e){return e.replace(/start|end/g,t=>oq[t])}const aq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:s,rects:l,initialPlacement:o,platform:x,elements:S}=t,{mainAxis:T=!0,crossAxis:M=!0,fallbackPlacements:F,fallbackStrategy:z="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:q=!0,...K}=e,ee=NA(i),V=NA(o)===o,X=await(x.isRTL==null?void 0:x.isRTL(S.floating)),ne=F||(V||!q?[n2(o)]:function(Xe){const at=n2(Xe);return[Lw(Xe),at,Lw(at)]}(o));F||U==="none"||ne.push(...function(Xe,at,yt,Ot){const Vt=My(Xe);let Jt=function(bn,st,Me){const Le=["left","right"],re=["right","left"],ge=["top","bottom"],Mt=["bottom","top"];switch(bn){case"top":case"bottom":return Me?st?re:Le:st?Le:re;case"left":case"right":return st?ge:Mt;default:return[]}}(NA(Xe),yt==="start",Ot);return Vt&&(Jt=Jt.map(bn=>bn+"-"+Vt),at&&(Jt=Jt.concat(Jt.map(Lw)))),Jt}(o,q,U,X));const he=[o,...ne],pe=await aL(t,K),le=[];let be=((n=s.flip)==null?void 0:n.overflows)||[];if(T&&le.push(pe[ee]),M){const{main:Xe,cross:at}=iq(i,l,X);le.push(pe[Xe],pe[at])}if(be=[...be,{placement:i,overflows:le}],!le.every(Xe=>Xe<=0)){var Se,De;const Xe=(((Se=s.flip)==null?void 0:Se.index)||0)+1,at=he[Xe];if(at)return{data:{index:Xe,overflows:be},reset:{placement:at}};let yt=(De=be.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,Vt)=>Ot.overflows[1]-Vt.overflows[1])[0])==null?void 0:De.placement;if(!yt)switch(z){case"bestFit":{var tt;const Ot=(tt=be.map(Vt=>[Vt.placement,Vt.overflows.filter(Jt=>Jt>0).reduce((Jt,bn)=>Jt+bn,0)]).sort((Vt,Jt)=>Vt[1]-Jt[1])[0])==null?void 0:tt[0];Ot&&(yt=Ot);break}case"initialPlacement":yt=o}if(i!==yt)return{reset:{placement:yt}}}return{}}}},sq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,s=await async function(l,o){const{placement:x,platform:S,elements:T}=l,M=await(S.isRTL==null?void 0:S.isRTL(T.floating)),F=NA(x),z=My(x),U=Ly(x)==="x",q=["left","top"].includes(F)?-1:1,K=M&&U?-1:1,ee=typeof o=="function"?o(l):o;let{mainAxis:V,crossAxis:X,alignmentAxis:ne}=typeof ee=="number"?{mainAxis:ee,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ee};return z&&typeof ne=="number"&&(X=z==="end"?-1*ne:ne),U?{x:X*K,y:V*q}:{x:V*q,y:X*K}}(t,e);return{x:n+s.x,y:i+s.y,data:s}}}};function lq(e){return e==="x"?"y":"x"}const uq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:o=!1,limiter:x={fn:ee=>{let{x:V,y:X}=ee;return{x:V,y:X}}},...S}=e,T={x:n,y:i},M=await aL(t,S),F=Ly(NA(s)),z=lq(F);let U=T[F],q=T[z];if(l){const ee=F==="y"?"bottom":"right";U=QS(U+M[F==="y"?"top":"left"],U,U-M[ee])}if(o){const ee=z==="y"?"bottom":"right";q=QS(q+M[z==="y"?"top":"left"],q,q-M[ee])}const K=x.fn({...t,[F]:U,[z]:q});return{...K,data:{x:K.x-n,y:K.y-i}}}}};function Xl(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ef(e){return Xl(e).getComputedStyle(e)}const I6=Math.min,wg=Math.max,r2=Math.round;function sL(e){const t=Ef(e);let n=parseFloat(t.width),i=parseFloat(t.height);const s=e.offsetWidth,l=e.offsetHeight,o=r2(n)!==s||r2(i)!==l;return o&&(n=s,i=l),{width:n,height:i,fallback:o}}function Hh(e){return uL(e)?(e.nodeName||"").toLowerCase():""}let k1;function lL(){if(k1)return k1;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(k1=e.brands.map(t=>t.brand+"/"+t.version).join(" "),k1):navigator.userAgent}function Cf(e){return e instanceof Xl(e).HTMLElement}function Mc(e){return e instanceof Xl(e).Element}function uL(e){return e instanceof Xl(e).Node}function O6(e){return typeof ShadowRoot>"u"?!1:e instanceof Xl(e).ShadowRoot||e instanceof ShadowRoot}function cx(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ef(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function cq(e){return["table","td","th"].includes(Hh(e))}function WS(e){const t=/firefox/i.test(lL()),n=Ef(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const l=n.contain;return l!=null&&l.includes(s)})}function KS(){return/^((?!chrome|android).)*safari/i.test(lL())}function vC(e){return["html","body","#document"].includes(Hh(e))}function cL(e){return Mc(e)?e:e.contextElement}const fL={x:1,y:1};function P0(e){const t=cL(e);if(!Cf(t))return fL;const n=t.getBoundingClientRect(),{width:i,height:s,fallback:l}=sL(t);let o=(l?r2(n.width):n.width)/i,x=(l?r2(n.height):n.height)/s;return o&&Number.isFinite(o)||(o=1),x&&Number.isFinite(x)||(x=1),{x:o,y:x}}function KA(e,t,n,i){var s,l;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),x=cL(e);let S=fL;t&&(i?Mc(i)&&(S=P0(i)):S=P0(e));const T=x?Xl(x):window,M=KS()&&n;let F=(o.left+(M&&((s=T.visualViewport)==null?void 0:s.offsetLeft)||0))/S.x,z=(o.top+(M&&((l=T.visualViewport)==null?void 0:l.offsetTop)||0))/S.y,U=o.width/S.x,q=o.height/S.y;if(x){const K=Xl(x),ee=i&&Mc(i)?Xl(i):i;let V=K.frameElement;for(;V&&i&&ee!==K;){const X=P0(V),ne=V.getBoundingClientRect(),he=getComputedStyle(V);ne.x+=(V.clientLeft+parseFloat(he.paddingLeft))*X.x,ne.y+=(V.clientTop+parseFloat(he.paddingTop))*X.y,F*=X.x,z*=X.y,U*=X.x,q*=X.y,F+=ne.x,z+=ne.y,V=Xl(V).frameElement}}return{width:U,height:q,top:z,right:F+U,bottom:z+q,left:F,x:F,y:z}}function Nh(e){return((uL(e)?e.ownerDocument:e.document)||window.document).documentElement}function fx(e){return Mc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function pL(e){return KA(Nh(e)).left+fx(e).scrollLeft}function uy(e){if(Hh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||O6(e)&&e.host||Nh(e);return O6(t)?t.host:t}function hL(e){const t=uy(e);return vC(t)?t.ownerDocument.body:Cf(t)&&cx(t)?t:hL(t)}function Sg(e,t){var n;t===void 0&&(t=[]);const i=hL(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=Xl(i);return s?t.concat(l,l.visualViewport||[],cx(i)?i:[]):t.concat(i,Sg(i))}function M6(e,t,n){let i;if(t==="viewport")i=function(o,x){const S=Xl(o),T=Nh(o),M=S.visualViewport;let F=T.clientWidth,z=T.clientHeight,U=0,q=0;if(M){F=M.width,z=M.height;const K=KS();(!K||K&&x==="fixed")&&(U=M.offsetLeft,q=M.offsetTop)}return{width:F,height:z,x:U,y:q}}(e,n);else if(t==="document")i=function(o){const x=Nh(o),S=fx(o),T=o.ownerDocument.body,M=wg(x.scrollWidth,x.clientWidth,T.scrollWidth,T.clientWidth),F=wg(x.scrollHeight,x.clientHeight,T.scrollHeight,T.clientHeight);let z=-S.scrollLeft+pL(o);const U=-S.scrollTop;return Ef(T).direction==="rtl"&&(z+=wg(x.clientWidth,T.clientWidth)-M),{width:M,height:F,x:z,y:U}}(Nh(e));else if(Mc(t))i=function(o,x){const S=KA(o,!0,x==="fixed"),T=S.top+o.clientTop,M=S.left+o.clientLeft,F=Cf(o)?P0(o):{x:1,y:1};return{width:o.clientWidth*F.x,height:o.clientHeight*F.y,x:M*F.x,y:T*F.y}}(t,n);else{const o={...t};if(KS()){var s,l;const x=Xl(e);o.x-=((s=x.visualViewport)==null?void 0:s.offsetLeft)||0,o.y-=((l=x.visualViewport)==null?void 0:l.offsetTop)||0}i=o}return GS(i)}function L6(e,t){return Cf(e)&&Ef(e).position!=="fixed"?t?t(e):e.offsetParent:null}function R6(e,t){const n=Xl(e);let i=L6(e,t);for(;i&&cq(i)&&Ef(i).position==="static";)i=L6(i,t);return i&&(Hh(i)==="html"||Hh(i)==="body"&&Ef(i).position==="static"&&!WS(i))?n:i||function(s){let l=uy(s);for(;Cf(l)&&!vC(l);){if(WS(l))return l;l=uy(l)}return null}(e)||n}function fq(e,t,n){const i=Cf(t),s=Nh(t),l=KA(e,!0,n==="fixed",t);let o={scrollLeft:0,scrollTop:0};const x={x:0,y:0};if(i||!i&&n!=="fixed")if((Hh(t)!=="body"||cx(s))&&(o=fx(t)),Cf(t)){const S=KA(t,!0);x.x=S.x+t.clientLeft,x.y=S.y+t.clientTop}else s&&(x.x=pL(s));return{x:l.left+o.scrollLeft-x.x,y:l.top+o.scrollTop-x.y,width:l.width,height:l.height}}const pq={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=n==="clippingAncestors"?function(T,M){const F=M.get(T);if(F)return F;let z=Sg(T).filter(ee=>Mc(ee)&&Hh(ee)!=="body"),U=null;const q=Ef(T).position==="fixed";let K=q?uy(T):T;for(;Mc(K)&&!vC(K);){const ee=Ef(K),V=WS(K);ee.position==="fixed"?U=null:(q?V||U:V||ee.position!=="static"||!U||!["absolute","fixed"].includes(U.position))?U=ee:z=z.filter(X=>X!==K),K=uy(K)}return M.set(T,z),z}(t,this._c):[].concat(n),o=[...l,i],x=o[0],S=o.reduce((T,M)=>{const F=M6(t,M,s);return T.top=wg(F.top,T.top),T.right=I6(F.right,T.right),T.bottom=I6(F.bottom,T.bottom),T.left=wg(F.left,T.left),T},M6(t,x,s));return{width:S.right-S.left,height:S.bottom-S.top,x:S.left,y:S.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const s=Cf(n),l=Nh(n);if(n===l)return t;let o={scrollLeft:0,scrollTop:0},x={x:1,y:1};const S={x:0,y:0};if((s||!s&&i!=="fixed")&&((Hh(n)!=="body"||cx(l))&&(o=fx(n)),Cf(n))){const T=KA(n);x=P0(n),S.x=T.x+n.clientLeft,S.y=T.y+n.clientTop}return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-o.scrollLeft*x.x+S.x,y:t.y*x.y-o.scrollTop*x.y+S.y}},isElement:Mc,getDimensions:function(e){return Cf(e)?sL(e):e.getBoundingClientRect()},getOffsetParent:R6,getDocumentElement:Nh,getScale:P0,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e;const s=this.getOffsetParent||R6,l=this.getDimensions;return{reference:fq(t,await s(n),i),floating:{x:0,y:0,...await l(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Ef(e).direction==="rtl"};function hq(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:o=!0,animationFrame:x=!1}=i,S=s&&!x,T=S||l?[...Mc(e)?Sg(e):e.contextElement?Sg(e.contextElement):[],...Sg(t)]:[];T.forEach(U=>{S&&U.addEventListener("scroll",n,{passive:!0}),l&&U.addEventListener("resize",n)});let M,F=null;if(o){let U=!0;F=new ResizeObserver(()=>{U||n(),U=!1}),Mc(e)&&!x&&F.observe(e),Mc(e)||!e.contextElement||x||F.observe(e.contextElement),F.observe(t)}let z=x?KA(e):null;return x&&function U(){const q=KA(e);!z||q.x===z.x&&q.y===z.y&&q.width===z.width&&q.height===z.height||n(),z=q,M=requestAnimationFrame(U)}(),n(),()=>{var U;T.forEach(q=>{S&&q.removeEventListener("scroll",n),l&&q.removeEventListener("resize",n)}),(U=F)==null||U.disconnect(),F=null,x&&cancelAnimationFrame(M)}}const Aq=(e,t,n)=>{const i=new Map,s={platform:pq,...n},l={...s.platform,_c:i};return JH(e,t,{...s,platform:l})},dq=e=>{const{element:t,padding:n}=e;function i(s){return Object.prototype.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){return i(t)?t.current!=null?P6({element:t.current,padding:n}).fn(s):{}:t?P6({element:t,padding:n}).fn(s):{}}}};var o_=typeof document<"u"?$t.useLayoutEffect:$t.useEffect;function i2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!i2(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!i2(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function D6(e){const t=$t.useRef(e);return o_(()=>{t.current=e}),t}function mq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,whileElementsMounted:l,open:o}=e,[x,S]=$t.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[T,M]=$t.useState(i);i2(T,i)||M(i);const F=$t.useRef(null),z=$t.useRef(null),U=$t.useRef(x),q=D6(l),K=D6(s),[ee,V]=$t.useState(null),[X,ne]=$t.useState(null),he=$t.useCallback(tt=>{F.current!==tt&&(F.current=tt,V(tt))},[]),pe=$t.useCallback(tt=>{z.current!==tt&&(z.current=tt,ne(tt))},[]),le=$t.useCallback(()=>{if(!F.current||!z.current)return;const tt={placement:t,strategy:n,middleware:T};K.current&&(tt.platform=K.current),Aq(F.current,z.current,tt).then(Xe=>{const at={...Xe,isPositioned:!0};be.current&&!i2(U.current,at)&&(U.current=at,Og.flushSync(()=>{S(at)}))})},[T,t,n,K]);o_(()=>{o===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,S(tt=>({...tt,isPositioned:!1})))},[o]);const be=$t.useRef(!1);o_(()=>(be.current=!0,()=>{be.current=!1}),[]),o_(()=>{if(ee&&X){if(q.current)return q.current(ee,X,le);le()}},[ee,X,le,q]);const Se=$t.useMemo(()=>({reference:F,floating:z,setReference:he,setFloating:pe}),[he,pe]),De=$t.useMemo(()=>({reference:ee,floating:X}),[ee,X]);return $t.useMemo(()=>({...x,update:le,refs:Se,elements:De,reference:he,floating:pe}),[x,le,Se,De,he,pe])}const gq="_tooltipContainer_g6vht_4",yq="_hoverTooltip_g6vht_15",vq="_popup_g6vht_18",_q="_contentBody_g6vht_23",xq="_bodyBottom_g6vht_36",bq="_unset_g6vht_41",wq="_arrow_g6vht_45",Sq="_arrowInner_g6vht_74",Eq="_tooltipContent_g6vht_81",Cq="_closeIcon_g6vht_88",pp={tooltipContainer:gq,hoverTooltip:yq,popup:vq,contentBody:_q,bodyBottom:xq,unset:bq,arrow:wq,"arrow-top":"_arrow-top_g6vht_58","arrow-bottom":"_arrow-bottom_g6vht_62","arrow-left":"_arrow-left_g6vht_66","arrow-right":"_arrow-right_g6vht_70",arrowInner:Sq,tooltipContent:Eq,closeIcon:Cq};function F6(e){switch(e){case"top-left":return"top-start";case"top-right":return"top-end";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end"}}function kq(e,t,n){if(e&&t&&console.error("You should not use both placement and deprecadedPlacement props at the same time. Placement prop will be used."),t)return t;if(n){if(typeof e=="function")return F6(e(n));if(e)return F6(e)}}const B6="top";function Tq({children:e,position:t,triggerRef:n,transitionRef:i,placement:s,getPlacement:l,classes:o,hoverBehavior:x=!1,onOuterClick:S,onClose:T,open:M=!0,offset:F=7}){const z=$t.useCallback(De=>{if(!(S&&x===!0)){if(S){S(De);return}T==null||T(De)}},[x,S,T]),U=$t.useRef(null),q=$t.useMemo(()=>kq(l,s,t)||B6,[l,s,t]),{refs:K,x:ee,y:V,strategy:X,middlewareData:{arrow:{x:ne,y:he}={}},placement:pe}=mq({placement:q,open:M,whileElementsMounted:hq,middleware:[sq(F),aq(),uq({padding:5}),dq({element:U})]}),le=$t.useMemo(()=>({"--tooltip-arrox-x-position":ne!=null?`${ne}px`:"","--tooltip-arrow-y-position":he!=null?`${he}px`:"","--tooltip-x-position":`${ee??0}px`,"--tooltip-y-position":`${V??0}px`,"--tooltip-placement":X}),[ne,he,ee,V,X]),be=$t.useMemo(()=>`arrow-${pe.split("-")[0]||B6}`,[pe]);if($t.useLayoutEffect(()=>{if(n)K.setReference(n.current);else if(t){const{x:De,y:tt}=t;K.setReference({getBoundingClientRect(){return{width:0,height:0,x:De,y:tt,top:tt,left:De,right:De,bottom:tt}}})}},[t,K,n]),t&&n&&console.error("Both position and triggerRef are provided. Tooltip will be rendered with triggerRef"),!t&&!n)return console.error("Tooltip will not be rendered because neither position nor triggerRef are provided"),null;if(!M)return null;const Se=x?void 0:T;return wt("div",{ref:i,className:aa(pp.tooltipContainer,{[pp.hoverTooltip]:x}),onClick:z,style:le,children:Qr("div",{ref:K.setFloating,className:pp.tooltipContent,children:[Qr("div",{className:aa(pp.contentBody,aa),children:[Qr("div",{children:[e,wt("div",{className:pp.bodyBottom})]}),Se&&wt("div",{className:pp.closeIcon,onClick:Se,children:wt($H,{})})]}),wt("div",{ref:U,className:aa(pp.arrow,pp[be]),children:wt("div",{className:pp.arrowInner})})]})})}const Pq="_legendTitle_sgaz8_1",Iq="_grid_sgaz8_6",Oq="_cell_sgaz8_11",Mq="_colorCell_sgaz8_17",Lq="_yStepsCell_sgaz8_26",Rq="_xStepsCell_sgaz8_45",Dq="_xStepsCellNoLabel_sgaz8_46",Fq="_arrowX_sgaz8_70",Bq="_arrowY_sgaz8_71",zq="_axisLabelX_sgaz8_88",Nq="_axisLabelY_sgaz8_89",Uq="_arrowHeadX_sgaz8_107",jq="_arrowHeadY_sgaz8_108",$q="_arrowHeadY_angle0_sgaz8_123",Ya={legendTitle:Pq,grid:Iq,cell:Oq,colorCell:Mq,yStepsCell:Lq,xStepsCell:Rq,xStepsCellNoLabel:Dq,arrowX:Fq,arrowY:Bq,axisLabelX:zq,axisLabelY:Nq,arrowHeadX:Uq,arrowHeadY:jq,arrowHeadY_angle0:$q};function Vq(){const e={};return{increment:t=>(typeof e[t]=="number"?e[t]+=1:e[t]=0,e[t])}}function Hq(e,t){const n=[],i=Vq();return e.forEach((s,l)=>{s.split(" ").forEach((o,x)=>{const S=i.increment(o),T=t[o]&&t[o][S];T&&n.push({...T,_position:{x,y:l}})})}),n}function z6(e){return[...e].reverse()}const qq=(e,t)=>({gridColumn:`${e+1} / ${e+2}`,gridRow:`${t+1} / ${t+2}`}),N6=({className:e,type:t})=>wt("div",{className:e,children:t==="horizontal"?wt("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:wt("path",{d:"M6,6L0,0l0,2.4L3.6,6L0,9.6L0,12L6,6z",fill:"currentColor"})}):wt("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:wt("path",{d:"M6,0L0,6l2.4,0L6,2.4L9.6,6L12,6L6,0z",fill:"currentColor"})})}),Gq=({cells:e,size:t,axis:n,title:i,showAxisLabels:s=!1,showSteps:l=!0,showArrowHeads:o=!0,onCellPointerOver:x,onCellPointerLeave:S,renderXAxisLabel:T,renderYAxisLabel:M})=>{const F=$t.useMemo(()=>[`y ${new Array(t+1).fill(".").join(" ")}`,...new Array(t).fill(`y ${new Array(t).fill("c").join(" ")} .`),`. ${new Array(t+1).fill("x").join(" ")}`],[t]),z=Hq(F,{x:l?n.x.steps.map(K=>({label:K.label||K.value.toFixed(1),className:Ya.xStepsCell})):n.x.steps.map(K=>({label:"",className:Ya.xStepsCellNoLabel})),y:l?z6(n.y.steps).map(K=>({label:K.label||K.value.toFixed(1),className:Ya.yStepsCell})):z6(n.y.steps).map(K=>({label:"",className:Ya.yStepsCellNoLabel})),c:e.map((K,ee)=>({label:wt("span",{children:K.label}),className:aa(Ya.cell,Ya.colorCell),style:{backgroundColor:K.color},...x&&{onPointerOver:V=>x(V,K,ee)},...S&&{onPointerLeave:V=>S(V,K,ee)}}))}),U=()=>T?T(n.x,Ya.axisLabelX):wt("div",{className:Ya.axisLabelX,children:n.x.label}),q=()=>M?M(n.y,Ya.axisLabelY):wt("div",{className:Ya.axisLabelY,children:n.y.label});return Qr("div",{children:[i&&wt("div",{className:Ya.legendTitle,children:i}),Qr("div",{className:Ya.grid,style:{gridTemplateColumns:`repeat(${t+2}, auto)`,gridTemplateRows:`repeat(${t+2}, auto)`},children:[s&&n.x.label?U():null,s&&n.y.label?q():null,wt("div",{className:Ya.arrowX,children:o&&wt(N6,{type:"horizontal",className:Ya.arrowHeadX})}),wt("div",{className:Ya.arrowY,children:o&&wt(N6,{type:"vertical",className:aa({[Ya.arrowHeadY]:!0,[Ya.arrowHeadY_angle0]:!s})})}),z.map(K=>wt("div",{style:Object.assign(qq(K._position.x,K._position.y),K.style),className:aa(K.className,Ya.cell),onPointerOver:K.onPointerOver,onPointerLeave:K.onPointerLeave,children:K.label},`${K._position.x}|${K._position.y}`))]})]})};var ZS={},Qq={get exports(){return ZS},set exports(e){ZS=e}},Li={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=Symbol.for("react.element"),xC=Symbol.for("react.portal"),px=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),Ax=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),mx=Symbol.for("react.context"),Wq=Symbol.for("react.server_context"),gx=Symbol.for("react.forward_ref"),yx=Symbol.for("react.suspense"),vx=Symbol.for("react.suspense_list"),_x=Symbol.for("react.memo"),xx=Symbol.for("react.lazy"),Kq=Symbol.for("react.offscreen"),AL;AL=Symbol.for("react.module.reference");function Hu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _C:switch(e=e.type,e){case px:case Ax:case hx:case yx:case vx:return e;default:switch(e=e&&e.$$typeof,e){case Wq:case mx:case gx:case xx:case _x:case dx:return e;default:return t}}case xC:return t}}}Li.ContextConsumer=mx;Li.ContextProvider=dx;Li.Element=_C;Li.ForwardRef=gx;Li.Fragment=px;Li.Lazy=xx;Li.Memo=_x;Li.Portal=xC;Li.Profiler=Ax;Li.StrictMode=hx;Li.Suspense=yx;Li.SuspenseList=vx;Li.isAsyncMode=function(){return!1};Li.isConcurrentMode=function(){return!1};Li.isContextConsumer=function(e){return Hu(e)===mx};Li.isContextProvider=function(e){return Hu(e)===dx};Li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_C};Li.isForwardRef=function(e){return Hu(e)===gx};Li.isFragment=function(e){return Hu(e)===px};Li.isLazy=function(e){return Hu(e)===xx};Li.isMemo=function(e){return Hu(e)===_x};Li.isPortal=function(e){return Hu(e)===xC};Li.isProfiler=function(e){return Hu(e)===Ax};Li.isStrictMode=function(e){return Hu(e)===hx};Li.isSuspense=function(e){return Hu(e)===yx};Li.isSuspenseList=function(e){return Hu(e)===vx};Li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===px||e===Ax||e===hx||e===yx||e===vx||e===Kq||typeof e=="object"&&e!==null&&(e.$$typeof===xx||e.$$typeof===_x||e.$$typeof===dx||e.$$typeof===mx||e.$$typeof===gx||e.$$typeof===AL||e.getModuleId!==void 0)};Li.typeOf=Hu;(function(e){e.exports=Li})(Qq);const Zq=x2(ZS);function o2(e,t){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},o2(e,t)}function $u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o2(e,t)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bs.apply(this,arguments)}function T1(e){return e.charAt(0)==="/"}function Rw(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}function Xq(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&T1(e),l=t&&T1(t),o=s||l;if(e&&T1(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var x;if(i.length){var S=i[i.length-1];x=S==="."||S===".."||S===""}else x=!1;for(var T=0,M=i.length;M>=0;M--){var F=i[M];F==="."?Rw(i,M):F===".."?(Rw(i,M),T++):T&&(Rw(i,M),T--)}if(!o)for(;T--;T)i.unshift("..");o&&i[0]!==""&&(!i[0]||!T1(i[0]))&&i.unshift("");var z=i.join("/");return x&&z.substr(-1)!=="/"&&(z+="/"),z}var Yq=!0,Dw="Invariant failed";function rd(e,t){if(!e){if(Yq)throw new Error(Dw);var n=typeof t=="function"?t():t,i=n?Dw+": "+n:Dw;throw new Error(i)}}function Eg(e){return e.charAt(0)==="/"?e:"/"+e}function U6(e){return e.charAt(0)==="/"?e.substr(1):e}function Jq(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function dL(e,t){return Jq(e,t)?e.substr(t.length):e}function mL(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function eG(e){var t=e||"/",n="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var l=t.indexOf("?");return l!==-1&&(n=t.substr(l),t=t.substr(0,l)),{pathname:t,search:n==="?"?"":n,hash:i==="#"?"":i}}function kl(e){var t=e.pathname,n=e.search,i=e.hash,s=t||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Yl(e,t,n,i){var s;typeof e=="string"?(s=eG(e),s.state=t):(s=bs({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(l){throw l instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):l}return n&&(s.key=n),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Xq(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function bC(){var e=null;function t(o){return e=o,function(){e===o&&(e=null)}}function n(o,x,S,T){if(e!=null){var M=typeof e=="function"?e(o,x):e;typeof M=="string"?typeof S=="function"?S(M,T):T(!0):T(M!==!1)}else T(!0)}var i=[];function s(o){var x=!0;function S(){x&&o.apply(void 0,arguments)}return i.push(S),function(){x=!1,i=i.filter(function(T){return T!==S})}}function l(){for(var o=arguments.length,x=new Array(o),S=0;S<o;S++)x[S]=arguments[S];i.forEach(function(T){return T.apply(void 0,x)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:s,notifyListeners:l}}var gL=!!(typeof window<"u"&&window.document&&window.document.createElement);function yL(e,t){t(window.confirm(e))}function tG(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function nG(){return window.navigator.userAgent.indexOf("Trident")===-1}function rG(){return window.navigator.userAgent.indexOf("Firefox")===-1}function iG(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var j6="popstate",$6="hashchange";function V6(){try{return window.history.state||{}}catch{return{}}}function vL(e){e===void 0&&(e={}),gL||rd(!1);var t=window.history,n=tG(),i=!nG(),s=e,l=s.forceRefresh,o=l===void 0?!1:l,x=s.getUserConfirmation,S=x===void 0?yL:x,T=s.keyLength,M=T===void 0?6:T,F=e.basename?mL(Eg(e.basename)):"";function z(Me){var Le=Me||{},re=Le.key,ge=Le.state,Mt=window.location,en=Mt.pathname,vn=Mt.search,dn=Mt.hash,En=en+vn+dn;return F&&(En=dL(En,F)),Yl(En,ge,re)}function U(){return Math.random().toString(36).substr(2,M)}var q=bC();function K(Me){bs(st,Me),st.length=t.length,q.notifyListeners(st.location,st.action)}function ee(Me){iG(Me)||ne(z(Me.state))}function V(){ne(z(V6()))}var X=!1;function ne(Me){if(X)X=!1,K();else{var Le="POP";q.confirmTransitionTo(Me,Le,S,function(re){re?K({action:Le,location:Me}):he(Me)})}}function he(Me){var Le=st.location,re=le.indexOf(Le.key);re===-1&&(re=0);var ge=le.indexOf(Me.key);ge===-1&&(ge=0);var Mt=re-ge;Mt&&(X=!0,tt(Mt))}var pe=z(V6()),le=[pe.key];function be(Me){return F+kl(Me)}function Se(Me,Le){var re="PUSH",ge=Yl(Me,Le,U(),st.location);q.confirmTransitionTo(ge,re,S,function(Mt){if(Mt){var en=be(ge),vn=ge.key,dn=ge.state;if(n)if(t.pushState({key:vn,state:dn},null,en),o)window.location.href=en;else{var En=le.indexOf(st.location.key),jn=le.slice(0,En+1);jn.push(ge.key),le=jn,K({action:re,location:ge})}else window.location.href=en}})}function De(Me,Le){var re="REPLACE",ge=Yl(Me,Le,U(),st.location);q.confirmTransitionTo(ge,re,S,function(Mt){if(Mt){var en=be(ge),vn=ge.key,dn=ge.state;if(n)if(t.replaceState({key:vn,state:dn},null,en),o)window.location.replace(en);else{var En=le.indexOf(st.location.key);En!==-1&&(le[En]=ge.key),K({action:re,location:ge})}else window.location.replace(en)}})}function tt(Me){t.go(Me)}function Xe(){tt(-1)}function at(){tt(1)}var yt=0;function Ot(Me){yt+=Me,yt===1&&Me===1?(window.addEventListener(j6,ee),i&&window.addEventListener($6,V)):yt===0&&(window.removeEventListener(j6,ee),i&&window.removeEventListener($6,V))}var Vt=!1;function Jt(Me){Me===void 0&&(Me=!1);var Le=q.setPrompt(Me);return Vt||(Ot(1),Vt=!0),function(){return Vt&&(Vt=!1,Ot(-1)),Le()}}function bn(Me){var Le=q.appendListener(Me);return Ot(1),function(){Ot(-1),Le()}}var st={length:t.length,action:"POP",location:pe,createHref:be,push:Se,replace:De,go:tt,goBack:Xe,goForward:at,block:Jt,listen:bn};return st}var H6="hashchange",oG={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+U6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:U6,decodePath:Eg},slash:{encodePath:Eg,decodePath:Eg}};function _L(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Wm(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function aG(e){window.location.hash=e}function Fw(e){window.location.replace(_L(window.location.href)+"#"+e)}function sG(e){e===void 0&&(e={}),gL||rd(!1);var t=window.history;rG();var n=e,i=n.getUserConfirmation,s=i===void 0?yL:i,l=n.hashType,o=l===void 0?"slash":l,x=e.basename?mL(Eg(e.basename)):"",S=oG[o],T=S.encodePath,M=S.decodePath;function F(){var Le=M(Wm());return x&&(Le=dL(Le,x)),Yl(Le)}var z=bC();function U(Le){bs(Me,Le),Me.length=t.length,z.notifyListeners(Me.location,Me.action)}var q=!1,K=null;function ee(Le,re){return Le.pathname===re.pathname&&Le.search===re.search&&Le.hash===re.hash}function V(){var Le=Wm(),re=T(Le);if(Le!==re)Fw(re);else{var ge=F(),Mt=Me.location;if(!q&&ee(Mt,ge)||K===kl(ge))return;K=null,X(ge)}}function X(Le){if(q)q=!1,U();else{var re="POP";z.confirmTransitionTo(Le,re,s,function(ge){ge?U({action:re,location:Le}):ne(Le)})}}function ne(Le){var re=Me.location,ge=be.lastIndexOf(kl(re));ge===-1&&(ge=0);var Mt=be.lastIndexOf(kl(Le));Mt===-1&&(Mt=0);var en=ge-Mt;en&&(q=!0,Xe(en))}var he=Wm(),pe=T(he);he!==pe&&Fw(pe);var le=F(),be=[kl(le)];function Se(Le){var re=document.querySelector("base"),ge="";return re&&re.getAttribute("href")&&(ge=_L(window.location.href)),ge+"#"+T(x+kl(Le))}function De(Le,re){var ge="PUSH",Mt=Yl(Le,void 0,void 0,Me.location);z.confirmTransitionTo(Mt,ge,s,function(en){if(en){var vn=kl(Mt),dn=T(x+vn),En=Wm()!==dn;if(En){K=vn,aG(dn);var jn=be.lastIndexOf(kl(Me.location)),Fn=be.slice(0,jn+1);Fn.push(vn),be=Fn,U({action:ge,location:Mt})}else U()}})}function tt(Le,re){var ge="REPLACE",Mt=Yl(Le,void 0,void 0,Me.location);z.confirmTransitionTo(Mt,ge,s,function(en){if(en){var vn=kl(Mt),dn=T(x+vn),En=Wm()!==dn;En&&(K=vn,Fw(dn));var jn=be.indexOf(kl(Me.location));jn!==-1&&(be[jn]=vn),U({action:ge,location:Mt})}})}function Xe(Le){t.go(Le)}function at(){Xe(-1)}function yt(){Xe(1)}var Ot=0;function Vt(Le){Ot+=Le,Ot===1&&Le===1?window.addEventListener(H6,V):Ot===0&&window.removeEventListener(H6,V)}var Jt=!1;function bn(Le){Le===void 0&&(Le=!1);var re=z.setPrompt(Le);return Jt||(Vt(1),Jt=!0),function(){return Jt&&(Jt=!1,Vt(-1)),re()}}function st(Le){var re=z.appendListener(Le);return Vt(1),function(){Vt(-1),re()}}var Me={length:t.length,action:"POP",location:le,createHref:Se,push:De,replace:tt,go:Xe,goBack:at,goForward:yt,block:bn,listen:st};return Me}function q6(e,t,n){return Math.min(Math.max(e,t),n)}function lG(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,l=t.initialIndex,o=l===void 0?0:l,x=t.keyLength,S=x===void 0?6:x,T=bC();function M(Se){bs(be,Se),be.length=be.entries.length,T.notifyListeners(be.location,be.action)}function F(){return Math.random().toString(36).substr(2,S)}var z=q6(o,0,s.length-1),U=s.map(function(Se){return typeof Se=="string"?Yl(Se,void 0,F()):Yl(Se,void 0,Se.key||F())}),q=kl;function K(Se,De){var tt="PUSH",Xe=Yl(Se,De,F(),be.location);T.confirmTransitionTo(Xe,tt,n,function(at){if(at){var yt=be.index,Ot=yt+1,Vt=be.entries.slice(0);Vt.length>Ot?Vt.splice(Ot,Vt.length-Ot,Xe):Vt.push(Xe),M({action:tt,location:Xe,index:Ot,entries:Vt})}})}function ee(Se,De){var tt="REPLACE",Xe=Yl(Se,De,F(),be.location);T.confirmTransitionTo(Xe,tt,n,function(at){at&&(be.entries[be.index]=Xe,M({action:tt,location:Xe}))})}function V(Se){var De=q6(be.index+Se,0,be.entries.length-1),tt="POP",Xe=be.entries[De];T.confirmTransitionTo(Xe,tt,n,function(at){at?M({action:tt,location:Xe,index:De}):M()})}function X(){V(-1)}function ne(){V(1)}function he(Se){var De=be.index+Se;return De>=0&&De<be.entries.length}function pe(Se){return Se===void 0&&(Se=!1),T.setPrompt(Se)}function le(Se){return T.appendListener(Se)}var be={length:U.length,action:"POP",location:U[z],index:z,entries:U,createHref:q,push:K,replace:ee,go:V,goBack:X,goForward:ne,canGo:he,block:pe,listen:le};return be}var ZA={},uG={get exports(){return ZA},set exports(e){ZA=e}},cG=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},a2=cG;uG.exports=wL;ZA.parse=wC;ZA.compile=pG;ZA.tokensToFunction=xL;ZA.tokensToRegExp=bL;var fG=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function wC(e,t){for(var n=[],i=0,s=0,l="",o=t&&t.delimiter||"/",x;(x=fG.exec(e))!=null;){var S=x[0],T=x[1],M=x.index;if(l+=e.slice(s,M),s=M+S.length,T){l+=T[1];continue}var F=e[s],z=x[2],U=x[3],q=x[4],K=x[5],ee=x[6],V=x[7];l&&(n.push(l),l="");var X=z!=null&&F!=null&&F!==z,ne=ee==="+"||ee==="*",he=ee==="?"||ee==="*",pe=x[2]||o,le=q||K;n.push({name:U||i++,prefix:z||"",delimiter:pe,optional:he,repeat:ne,partial:X,asterisk:!!V,pattern:le?dG(le):V?".*":"[^"+a_(pe)+"]+?"})}return s<e.length&&(l+=e.substr(s)),l&&n.push(l),n}function pG(e,t){return xL(wC(e,t),t)}function hG(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function AG(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function xL(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",EC(t)));return function(s,l){for(var o="",x=s||{},S=l||{},T=S.pretty?hG:encodeURIComponent,M=0;M<e.length;M++){var F=e[M];if(typeof F=="string"){o+=F;continue}var z=x[F.name],U;if(z==null)if(F.optional){F.partial&&(o+=F.prefix);continue}else throw new TypeError('Expected "'+F.name+'" to be defined');if(a2(z)){if(!F.repeat)throw new TypeError('Expected "'+F.name+'" to not repeat, but received `'+JSON.stringify(z)+"`");if(z.length===0){if(F.optional)continue;throw new TypeError('Expected "'+F.name+'" to not be empty')}for(var q=0;q<z.length;q++){if(U=T(z[q]),!n[M].test(U))throw new TypeError('Expected all "'+F.name+'" to match "'+F.pattern+'", but received `'+JSON.stringify(U)+"`");o+=(q===0?F.prefix:F.delimiter)+U}continue}if(U=F.asterisk?AG(z):T(z),!n[M].test(U))throw new TypeError('Expected "'+F.name+'" to match "'+F.pattern+'", but received "'+U+'"');o+=F.prefix+U}return o}}function a_(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function dG(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function SC(e,t){return e.keys=t,e}function EC(e){return e&&e.sensitive?"":"i"}function mG(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return SC(e,t)}function gG(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push(wL(e[s],t,n).source);var l=new RegExp("(?:"+i.join("|")+")",EC(n));return SC(l,t)}function yG(e,t,n){return bL(wC(e,n),t,n)}function bL(e,t,n){a2(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,s=n.end!==!1,l="",o=0;o<e.length;o++){var x=e[o];if(typeof x=="string")l+=a_(x);else{var S=a_(x.prefix),T="(?:"+x.pattern+")";t.push(x),x.repeat&&(T+="(?:"+S+T+")*"),x.optional?x.partial?T=S+"("+T+")?":T="(?:"+S+"("+T+"))?":T=S+"("+T+")",l+=T}}var M=a_(n.delimiter||"/"),F=l.slice(-M.length)===M;return i||(l=(F?l.slice(0,-M.length):l)+"(?:"+M+"(?=$))?"),s?l+="$":l+=i&&F?"":"(?="+M+"|$)",SC(new RegExp("^"+l,EC(n)),t)}function wL(e,t,n){return a2(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?mG(e,t):a2(e)?gG(e,t,n):yG(e,t,n)}var G6={},vG={get exports(){return G6},set exports(e){G6=e}},Ri={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=typeof Symbol=="function"&&Symbol.for,CC=is?Symbol.for("react.element"):60103,kC=is?Symbol.for("react.portal"):60106,bx=is?Symbol.for("react.fragment"):60107,wx=is?Symbol.for("react.strict_mode"):60108,Sx=is?Symbol.for("react.profiler"):60114,Ex=is?Symbol.for("react.provider"):60109,Cx=is?Symbol.for("react.context"):60110,TC=is?Symbol.for("react.async_mode"):60111,kx=is?Symbol.for("react.concurrent_mode"):60111,Tx=is?Symbol.for("react.forward_ref"):60112,Px=is?Symbol.for("react.suspense"):60113,_G=is?Symbol.for("react.suspense_list"):60120,Ix=is?Symbol.for("react.memo"):60115,Ox=is?Symbol.for("react.lazy"):60116,xG=is?Symbol.for("react.block"):60121,bG=is?Symbol.for("react.fundamental"):60117,wG=is?Symbol.for("react.responder"):60118,SG=is?Symbol.for("react.scope"):60119;function iu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CC:switch(e=e.type,e){case TC:case kx:case bx:case Sx:case wx:case Px:return e;default:switch(e=e&&e.$$typeof,e){case Cx:case Tx:case Ox:case Ix:case Ex:return e;default:return t}}case kC:return t}}}function SL(e){return iu(e)===kx}Ri.AsyncMode=TC;Ri.ConcurrentMode=kx;Ri.ContextConsumer=Cx;Ri.ContextProvider=Ex;Ri.Element=CC;Ri.ForwardRef=Tx;Ri.Fragment=bx;Ri.Lazy=Ox;Ri.Memo=Ix;Ri.Portal=kC;Ri.Profiler=Sx;Ri.StrictMode=wx;Ri.Suspense=Px;Ri.isAsyncMode=function(e){return SL(e)||iu(e)===TC};Ri.isConcurrentMode=SL;Ri.isContextConsumer=function(e){return iu(e)===Cx};Ri.isContextProvider=function(e){return iu(e)===Ex};Ri.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CC};Ri.isForwardRef=function(e){return iu(e)===Tx};Ri.isFragment=function(e){return iu(e)===bx};Ri.isLazy=function(e){return iu(e)===Ox};Ri.isMemo=function(e){return iu(e)===Ix};Ri.isPortal=function(e){return iu(e)===kC};Ri.isProfiler=function(e){return iu(e)===Sx};Ri.isStrictMode=function(e){return iu(e)===wx};Ri.isSuspense=function(e){return iu(e)===Px};Ri.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bx||e===kx||e===Sx||e===wx||e===Px||e===_G||typeof e=="object"&&e!==null&&(e.$$typeof===Ox||e.$$typeof===Ix||e.$$typeof===Ex||e.$$typeof===Cx||e.$$typeof===Tx||e.$$typeof===bG||e.$$typeof===wG||e.$$typeof===SG||e.$$typeof===xG)};Ri.typeOf=iu;(function(e){e.exports=Ri})(vG);function id(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var XS={},EG={get exports(){return XS},set exports(e){XS=e}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=typeof Symbol=="function"&&Symbol.for,PC=os?Symbol.for("react.element"):60103,IC=os?Symbol.for("react.portal"):60106,Mx=os?Symbol.for("react.fragment"):60107,Lx=os?Symbol.for("react.strict_mode"):60108,Rx=os?Symbol.for("react.profiler"):60114,Dx=os?Symbol.for("react.provider"):60109,Fx=os?Symbol.for("react.context"):60110,OC=os?Symbol.for("react.async_mode"):60111,Bx=os?Symbol.for("react.concurrent_mode"):60111,zx=os?Symbol.for("react.forward_ref"):60112,Nx=os?Symbol.for("react.suspense"):60113,CG=os?Symbol.for("react.suspense_list"):60120,Ux=os?Symbol.for("react.memo"):60115,jx=os?Symbol.for("react.lazy"):60116,kG=os?Symbol.for("react.block"):60121,TG=os?Symbol.for("react.fundamental"):60117,PG=os?Symbol.for("react.responder"):60118,IG=os?Symbol.for("react.scope"):60119;function ou(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PC:switch(e=e.type,e){case OC:case Bx:case Mx:case Rx:case Lx:case Nx:return e;default:switch(e=e&&e.$$typeof,e){case Fx:case zx:case jx:case Ux:case Dx:return e;default:return t}}case IC:return t}}}function EL(e){return ou(e)===Bx}Di.AsyncMode=OC;Di.ConcurrentMode=Bx;Di.ContextConsumer=Fx;Di.ContextProvider=Dx;Di.Element=PC;Di.ForwardRef=zx;Di.Fragment=Mx;Di.Lazy=jx;Di.Memo=Ux;Di.Portal=IC;Di.Profiler=Rx;Di.StrictMode=Lx;Di.Suspense=Nx;Di.isAsyncMode=function(e){return EL(e)||ou(e)===OC};Di.isConcurrentMode=EL;Di.isContextConsumer=function(e){return ou(e)===Fx};Di.isContextProvider=function(e){return ou(e)===Dx};Di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PC};Di.isForwardRef=function(e){return ou(e)===zx};Di.isFragment=function(e){return ou(e)===Mx};Di.isLazy=function(e){return ou(e)===jx};Di.isMemo=function(e){return ou(e)===Ux};Di.isPortal=function(e){return ou(e)===IC};Di.isProfiler=function(e){return ou(e)===Rx};Di.isStrictMode=function(e){return ou(e)===Lx};Di.isSuspense=function(e){return ou(e)===Nx};Di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mx||e===Bx||e===Rx||e===Lx||e===Nx||e===CG||typeof e=="object"&&e!==null&&(e.$$typeof===jx||e.$$typeof===Ux||e.$$typeof===Dx||e.$$typeof===Fx||e.$$typeof===zx||e.$$typeof===TG||e.$$typeof===PG||e.$$typeof===IG||e.$$typeof===kG)};Di.typeOf=ou;(function(e){e.exports=Di})(EG);var CL=XS,OG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kL={};kL[CL.ForwardRef]=OG;kL[CL.Memo]=MG;var Bw=1073741823,Q6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function LG(){var e="__global_unique_id__";return Q6[e]=(Q6[e]||0)+1}function RG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function DG(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(l){return l(e,s)})}}}function FG(e){return Array.isArray(e)?e[0]:e}function BG(e,t){var n,i,s="__create-react-context-"+LG()+"__",l=function(x){$u(S,x);function S(){for(var M,F=arguments.length,z=new Array(F),U=0;U<F;U++)z[U]=arguments[U];return M=x.call.apply(x,[this].concat(z))||this,M.emitter=DG(M.props.value),M}var T=S.prototype;return T.getChildContext=function(){var F;return F={},F[s]=this.emitter,F},T.componentWillReceiveProps=function(F){if(this.props.value!==F.value){var z=this.props.value,U=F.value,q;RG(z,U)?q=0:(q=typeof t=="function"?t(z,U):Bw,q|=0,q!==0&&this.emitter.set(F.value,q))}},T.render=function(){return this.props.children},S}(qn.Component);l.childContextTypes=(n={},n[s]=lr.object.isRequired,n);var o=function(x){$u(S,x);function S(){for(var M,F=arguments.length,z=new Array(F),U=0;U<F;U++)z[U]=arguments[U];return M=x.call.apply(x,[this].concat(z))||this,M.observedBits=void 0,M.state={value:M.getValue()},M.onUpdate=function(q,K){var ee=M.observedBits|0;ee&K&&M.setState({value:M.getValue()})},M}var T=S.prototype;return T.componentWillReceiveProps=function(F){var z=F.observedBits;this.observedBits=z??Bw},T.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var F=this.props.observedBits;this.observedBits=F??Bw},T.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},T.getValue=function(){return this.context[s]?this.context[s].get():e},T.render=function(){return FG(this.props.children)(this.state.value)},S}(qn.Component);return o.contextTypes=(i={},i[s]=lr.object,i),{Provider:l,Consumer:o}}var zG=qn.createContext||BG,TL=function(t){var n=zG();return n.displayName=t,n},NG=TL("Router-History"),U0=TL("Router"),$x=function(e){$u(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(l){s._pendingLocation=l})),s}var n=t.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(l){s._isMounted&&s.setState({location:l})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return qn.createElement(U0.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},qn.createElement(NG.Provider,{children:this.props.children||null,value:this.props.history}))},t}(qn.Component);qn.Component;qn.Component;var W6={},UG=1e4,K6=0;function jG(e,t){var n=""+t.end+t.strict+t.sensitive,i=W6[n]||(W6[n]={});if(i[e])return i[e];var s=[],l=ZA(e,s,t),o={regexp:l,keys:s};return K6<UG&&(i[e]=o,K6++),o}function MC(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,s=n.exact,l=s===void 0?!1:s,o=n.strict,x=o===void 0?!1:o,S=n.sensitive,T=S===void 0?!1:S,M=[].concat(i);return M.reduce(function(F,z){if(!z&&z!=="")return null;if(F)return F;var U=jG(z,{end:l,strict:x,sensitive:T}),q=U.regexp,K=U.keys,ee=q.exec(e);if(!ee)return null;var V=ee[0],X=ee.slice(1),ne=e===V;return l&&!ne?null:{path:z,url:z==="/"&&V===""?"/":V,isExact:ne,params:K.reduce(function(he,pe,le){return he[pe.name]=X[le],he},{})}},null)}function $G(e){return qn.Children.count(e)===0}qn.Component;function LC(e){return e.charAt(0)==="/"?e:"/"+e}function VG(e,t){return e?bs({},t,{pathname:LC(e)+t.pathname}):t}function HG(e,t){if(!e)return t;var n=LC(e);return t.pathname.indexOf(n)!==0?t:bs({},t,{pathname:t.pathname.substr(n.length)})}function Z6(e){return typeof e=="string"?e:kl(e)}function zw(e){return function(){rd(!1)}}function X6(){}qn.Component;qn.Component;qn.useContext;var PL=function(e){$u(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,i.history=vL(i.props),i}var n=t.prototype;return n.render=function(){return qn.createElement($x,{history:this.history,children:this.props.children})},t}(qn.Component);qn.Component;var YS=function(t,n){return typeof t=="function"?t(n):t},JS=function(t,n){return typeof t=="string"?Yl(t,null,null,n):t},RC=function(t){return t},j0=qn.forwardRef;typeof j0>"u"&&(j0=RC);function qG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var GG=j0(function(e,t){var n=e.innerRef,i=e.navigate,s=e.onClick,l=id(e,["innerRef","navigate","onClick"]),o=l.target,x=bs({},l,{onClick:function(T){try{s&&s(T)}catch(M){throw T.preventDefault(),M}!T.defaultPrevented&&T.button===0&&(!o||o==="_self")&&!qG(T)&&(T.preventDefault(),i())}});return RC!==j0?x.ref=t||n:x.ref=n,qn.createElement("a",x)}),QG=j0(function(e,t){var n=e.component,i=n===void 0?GG:n,s=e.replace,l=e.to,o=e.innerRef,x=id(e,["component","replace","to","innerRef"]);return qn.createElement(U0.Consumer,null,function(S){S||rd(!1);var T=S.history,M=JS(YS(l,S.location),S.location),F=M?T.createHref(M):"",z=bs({},x,{href:F,navigate:function(){var q=YS(l,S.location),K=kl(S.location)===kl(JS(q)),ee=s||K?T.replace:T.push;ee(q)}});return RC!==j0?z.ref=t||o:z.innerRef=o,qn.createElement(i,z)})}),IL=function(t){return t},s2=qn.forwardRef;typeof s2>"u"&&(s2=IL);function WG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(i){return i}).join(" ")}s2(function(e,t){var n=e["aria-current"],i=n===void 0?"page":n,s=e.activeClassName,l=s===void 0?"active":s,o=e.activeStyle,x=e.className,S=e.exact,T=e.isActive,M=e.location,F=e.sensitive,z=e.strict,U=e.style,q=e.to,K=e.innerRef,ee=id(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return qn.createElement(U0.Consumer,null,function(V){V||rd(!1);var X=M||V.location,ne=JS(YS(q,X),X),he=ne.pathname,pe=he&&he.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),le=pe?MC(X.pathname,{path:pe,exact:S,sensitive:F,strict:z}):null,be=!!(T?T(le,X):le),Se=typeof x=="function"?x(be):x,De=typeof U=="function"?U(be):U;be&&(Se=WG(Se,l),De=bs({},De,o));var tt=bs({"aria-current":be&&i||null,className:Se,style:De,to:ne},ee);return IL!==s2?tt.ref=t||K:tt.innerRef=K,qn.createElement(QG,tt)})});var DC=function(){};function OL(e){try{return e.apply(this,[].slice.call(arguments,1))}catch(t){return t=t instanceof Error?t:new Error(t),setTimeout(function(){throw t}),t}}function cy(e){return typeof e=="string"}function l2(e){return typeof e=="object"&&e!==null}function fy(e){return typeof e=="function"}function ML(e){return fy(e)&&"types"in e}function LL(e){return fy(e)&&"type"in e}function KG(e){return l2(e)&&cy(e.type)&&"payload"in e}function ZG(e,t,n){var i=e.get(t);i===void 0&&e.set(t,i=new Set),i.add(n)}function XG(e,t,n){var i=e.get(t);i!==void 0&&(i.delete(n),i.size===0&&e.delete(t))}function Nw(e,t){e.includes(t)||e.push(t)}function xp(e,t){return Object.assign(new Error("Reatom: "+e),{data:t})}function FC(e){return{atom:e,cause:"init",ctx:{},state:void 0,tracks:void 0}}function YG(e,t){var n=t===void 0?{}:t,i=n.patch,s=i===void 0?new Map:i,l=n.getCache,o=l===void 0?function(U,q){return q??FC(U)}:l,x=n.effects,S=x===void 0?[]:x,T=n.causes,M=T===void 0?[]:T;M=M.concat({actions:e,patch:s});var F=e.map(function(U){return U.type}).join(", "),z={actions:e,getCache:o,process:function(U,q){var K=s.get(U);if(K==null){q=o(U,q);var ee=(K=U(z,q)).cause,V=K.state,X=K.listeners;s.set(U,K),Object.is(V,q.state)?K.cause=q.cause:(X==null?void 0:X.size)>0&&z.schedule(function(ne,he){return X.forEach(function(pe){return OL(pe,V,he)})},ee)}return K},schedule:function(U,q){q===void 0&&(q=F);var K=M.concat([q]);S.push(function(ee){return U(function(V){return ee(V,K)},K)})}};return z}function Y6(e,t){return t===void 0&&(t=BC),t.getState(e)}var JG=0;function Ry(e,t,n){n===void 0&&(n={});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=i.id,x=o===void 0?"atom"+ ++JG:o,S=i.store,T=S===void 0?BC:S,M=[],F=[],z={},U={};if(!fy(t)||!cy(x))throw xp("Atom arguments");Object.entries(e).forEach(function(ee){var V=ee[0],X=ee[1];if(!fy(X))throw xp("Invalid atom dependencies (type "+typeof X+") at "+V,X);if(ML(X))X.types.forEach(function(pe){return Nw(F,pe)});else{var ne;if(LL(X))U[V]=ne=X.type;else{var he=function(){return{payload:X.apply(void 0,[].slice.call(arguments)),type:ne,targets:[K]}};he.type=ne=V+"_"+x,he.dispatch=function(){return T.dispatch(he.apply(void 0,[].slice.call(arguments)))},z[V]=he,V[0]!="_"&&(K[V]=he)}Nw(M,ne),Nw(F,ne)}});var q=l.reduce(function(ee,V){return V(ee)},function(ee,V,X,ne,he){var pe=function(le){return ne[le].apply(ne,[].slice.call(arguments,1))};return function(le,be){var Se,De=le.actions,tt=le.process,Xe=le.schedule,at=be.atom,yt=be.ctx,Ot=be.state,Vt=be.listeners,Jt=[],bn=DC,st=function(re,ge){bn();var Mt=tt(re,ge);return Se==null&&Jt.every(function(en){return en.atom.id!=re.id})&&Jt.push(Mt),Mt},Me={create:pe,get:function(re){return st(V[re]).state},getUnlistedState:function(re){return bn(),tt(re).state},onAction:function(re,ge){var Mt,en;if(bn(),Se!=null)throw xp("Can not react to action inside another reaction");var vn=(Mt=he[re])!=null?Mt:(en=ne[re])==null?void 0:en.type;if(vn==null)throw xp("Unknown action",{name:re});De.forEach(function(dn){vn==dn.type&&(Se=re,re!=vn&&(Se+=" ("+vn+")"),Se+=" handler",ge(dn.payload),Se=void 0)})},onChange:function(re,ge){var Mt;if(bn(),Se!=null)throw xp("Can not react to atom changes inside another reaction");var en=V[re],vn=(Mt=be.tracks)==null?void 0:Mt.find(function(En){return En.atom.id==en.id}),dn=st(en,vn);vn!=null&&Object.is(vn.state,dn.state)||(Se=re,re!=at.id&&(Se+=" ("+at.id+")"),Se+=" handler",ge(dn.state,vn==null?void 0:vn.state),Se=void 0)},onInit:function(re){be.tracks==null&&re()},schedule:function(re){bn(),Xe(function(ge,Mt){return re(ge,yt,Mt)},Se)}},Le="init";return(be.tracks==null||De.some(function(re){var ge=re.type;return X.includes(ge)&&(Le=ge+" action",!0)})||be.tracks.some(function(re){return!Object.is(re.state,st(re.atom,re).state)&&(Le=re.atom.id+" atom",!0)}))&&(Jt.length=0,Ot=ee(Me,Ot)),bn=function(){throw xp("Outdated track call")},{atom:at,cause:Le,ctx:yt,state:Ot,tracks:Jt,listeners:Vt}}}(t,e,M,z,U));function K(ee,V){return V===void 0&&(V=FC(K)),q(ee,V)}return K.id=x,K.getState=function(){return T.getState(K)},K.subscribe=function(ee){return T.subscribe(K,ee)},K.types=F,K}var eQ=Symbol();function RL(e){var t=e===void 0?{}:e,n=t.callSafety,i=n===void 0?OL:n,s=t.createTemplateCache,l=s===void 0?FC:s,o=t.onError,x=t.onPatch,S=t.now,T=S===void 0?Date.now.bind(Date):S,M=new Map,F=new WeakMap,z=[],U=[];function q(V){if(!ML(V))throw xp("passed thing is not an atom");(function(X,ne){var he,pe=ne(X);if(pe.tracks===void 0)return!1;if(((he=pe.listeners)==null?void 0:he.size)>0)return!0;for(var le=[pe.tracks];le.length>0;)for(var be=le.pop(),Se=0;Se<be.length;Se++){var De=be[Se];if(De!=ne(De.atom))return!1;le.push(De.tracks)}return!0})(V,ee.getCache)||ee.dispatch({type:"invalidate "+V.id+" [~"+Math.random()+"]",payload:null,targets:[V]})}o&&z.push(o),x&&U.push(x);var K=function(V,X){var ne,he;return(ne=(he=F.get(V))!=null?he:X)!=null?ne:l(V)},ee={dispatch:function V(X,ne){var he=T(),pe=Array.isArray(X)?X:[X];if(pe.length==0||!pe.every(KG))throw xp("dispatch arguments");var le=new Map,be=[],Se=YG(pe,{patch:le,getCache:K,effects:be,causes:ne}),De=function(){return{actions:pe,patch:le,causes:ne??[],start:he,end:T()}};try{pe.forEach(function(at){var yt,Ot=at.type,Vt=at.targets;Vt==null||Vt.forEach(function(Jt){return Se.process(Jt)}),(yt=M.get(Ot))==null||yt.forEach(function(Jt){return Se.process(Jt)})}),le.forEach(function(at,yt){return F.set(yt,at)})}catch(at){var tt=De();throw z.forEach(function(yt){return yt(at,tt)}),at}var Xe=De();U.forEach(function(at){return at(Xe)}),be.forEach(function(at){return i(at,V)})},getCache:K,getState:function(V){return q(V),K(V).state},onError:function(V){return z.push(V),function(){return z=z.filter(function(X){return X!==V})}},onPatch:function(V){return U.push(V),function(){return U=U.filter(function(X){return X!==V})}},subscribe:function(V,X){var ne;if(!fy(X))throw xp("subscribe callback is not a function");q(V);var he=K(V),pe=(ne=he.listeners)!=null?ne:he.listeners=new Set;pe.size==0&&V.types.forEach(function(Se){return ZG(M,Se,V)});var le=eQ,be=function(Se,De){var tt=F.get(V);Object.is(le,tt.state)||X(le=Se,De)};return pe.add(be),i(X,he.state,[]),function(){pe.delete(be),pe.size==0&&V.types.forEach(function(Se){return XG(M,Se,V)})}}};return ee}var BC=RL(),DL=qn.createContext(BC),tQ=function(e){return e()};function FL(e,t){return function(){var n=t.apply(void 0,[].slice.call(arguments));n&&tQ(function(){e.dispatch(n)})}}function e4(e,t){t===void 0&&(t=[]);var n=qn.useContext(DL);return qn.useCallback(FL(n,e),t.concat(n))}function J6(e,t,n){var i=e;typeof t=="function"?(n!=null||(n=[]),e=qn.useMemo(function(){return Ry({origin:i},function(M){return t((0,M.get)("origin"))})},n.concat(i))):n=t??[];var s=qn.useContext(DL);n=n.concat([e,s]);var l=qn.useState(function(){return Y6(e,s)}),o=l[0],x=l[1],S=qn.useRef(o);S.current=o=Y6(e,s);var T=qn.useMemo(function(){return Object.entries(i).reduce(function(M,F){var z=F[0],U=F[1];return LL(U)&&(M[z]=FL(s,U)),M},{})},n);return qn.useEffect(function(){return s.subscribe(e,function(M){return Object.is(M,S.current)||x(S.current=M)})},n),qn.useDebugValue(o),[o,T]}const e8=["http","https","mailto","tel"];function nQ(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let s=-1;for(;++s<e8.length;){const l=e8[s];if(i===l.length&&t.slice(0,l.length).toLowerCase()===l)return t}return s=t.indexOf("?"),s!==-1&&i>s||(s=t.indexOf("#"),s!==-1&&i>s)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var BL=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};function Cg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?t8(e.position):"start"in e||"end"in e?t8(e):"line"in e||"column"in e?t4(e):""}function t4(e){return n8(e&&e.line)+":"+n8(e&&e.column)}function t8(e){return t4(e&&e.start)+"-"+t4(e&&e.end)}function n8(e){return e&&typeof e=="number"?e:1}class qu extends Error{constructor(t,n,i){const s=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const o=i.indexOf(":");o===-1?s[1]=i:(s[0]=i.slice(0,o),s[1]=i.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=Cg(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.source=s[0],this.ruleId=s[1],this.position=l,this.actual,this.expected,this.file,this.url,this.note}}qu.prototype.file="";qu.prototype.name="";qu.prototype.reason="";qu.prototype.message="";qu.prototype.stack="";qu.prototype.fatal=null;qu.prototype.column=null;qu.prototype.line=null;qu.prototype.source=null;qu.prototype.ruleId=null;qu.prototype.position=null;const vf={basename:rQ,dirname:iQ,extname:oQ,join:aQ,sep:"/"};function rQ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dy(e);let n=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let o=-1,x=t.length-1;for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else o<0&&(l=!0,o=s+1),x>-1&&(e.charCodeAt(s)===t.charCodeAt(x--)?x<0&&(i=s):(x=-1,i=o));return n===i?i=o:i<0&&(i=e.length),e.slice(n,i)}function iQ(e){if(Dy(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.charCodeAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function oQ(e){Dy(e);let t=e.length,n=-1,i=0,s=-1,l=0,o;for(;t--;){const x=e.charCodeAt(t);if(x===47){if(o){i=t+1;break}continue}n<0&&(o=!0,n=t+1),x===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function aQ(...e){let t=-1,n;for(;++t<e.length;)Dy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":sQ(n)}function sQ(e){Dy(e);const t=e.charCodeAt(0)===47;let n=lQ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function lQ(e,t){let n="",i=0,s=-1,l=0,o=-1,x,S;for(;++o<=e.length;){if(o<e.length)x=e.charCodeAt(o);else{if(x===47)break;x=47}if(x===47){if(!(s===o-1||l===1))if(s!==o-1&&l===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(S=n.lastIndexOf("/"),S!==n.length-1){S<0?(n="",i=0):(n=n.slice(0,S),i=n.length-1-n.lastIndexOf("/")),s=o,l=0;continue}}else if(n.length>0){n="",i=0,s=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),i=o-s-1;s=o,l=0}else x===46&&l>-1?l++:l=-1}return n}function Dy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const uQ={cwd:cQ};function cQ(){return"/"}function n4(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function fQ(e){if(typeof e=="string")e=new URL(e);else if(!n4(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return pQ(e)}function pQ(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const i=t.charCodeAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Uw=["history","path","basename","stem","extname","dirname"];class zL{constructor(t){let n;t?typeof t=="string"||BL(t)?n={value:t}:n4(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=uQ.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<Uw.length;){const l=Uw[i];l in n&&n[l]!==void 0&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Uw.includes(s)||(this[s]=n[s])}get path(){return this.history[this.history.length-1]}set path(t){n4(t)&&(t=fQ(t)),$w(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?vf.dirname(this.path):void 0}set dirname(t){r8(this.basename,"dirname"),this.path=vf.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?vf.basename(this.path):void 0}set basename(t){$w(t,"basename"),jw(t,"basename"),this.path=vf.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?vf.extname(this.path):void 0}set extname(t){if(jw(t,"extname"),r8(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vf.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?vf.basename(this.path,this.extname):void 0}set stem(t){$w(t,"stem"),jw(t,"stem"),this.path=vf.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,i){const s=new qu(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=null,s}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}}function jw(e,t){if(e&&e.includes(vf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vf.sep+"`")}function $w(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function r8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function i8(e){if(e)throw e}var s_=Object.prototype.hasOwnProperty,NL=Object.prototype.toString,o8=Object.defineProperty,a8=Object.getOwnPropertyDescriptor,s8=function(t){return typeof Array.isArray=="function"?Array.isArray(t):NL.call(t)==="[object Array]"},l8=function(t){if(!t||NL.call(t)!=="[object Object]")return!1;var n=s_.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&s_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var s;for(s in t);return typeof s>"u"||s_.call(t,s)},u8=function(t,n){o8&&n.name==="__proto__"?o8(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},c8=function(t,n){if(n==="__proto__")if(s_.call(t,n)){if(a8)return a8(t,n).value}else return;return t[n]},f8=function e(){var t,n,i,s,l,o,x=arguments[0],S=1,T=arguments.length,M=!1;for(typeof x=="boolean"&&(M=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<T;++S)if(t=arguments[S],t!=null)for(n in t)i=c8(x,n),s=c8(t,n),x!==s&&(M&&s&&(l8(s)||(l=s8(s)))?(l?(l=!1,o=i&&s8(i)?i:[]):o=i&&l8(i)?i:{},u8(x,{name:n,newValue:e(M,o,s)})):typeof s<"u"&&u8(x,{name:n,newValue:s}));return x};function r4(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hQ(){const e=[],t={run:n,use:i};return t;function n(...s){let l=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);x(null,...s);function x(S,...T){const M=e[++l];let F=-1;if(S){o(S);return}for(;++F<s.length;)(T[F]===null||T[F]===void 0)&&(T[F]=s[F]);s=T,M?AQ(M,x)(...T):o(null,...T)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function AQ(e,t){let n;return i;function i(...o){const x=e.length>o.length;let S;x&&o.push(s);try{S=e.apply(this,o)}catch(T){const M=T;if(x&&n)throw M;return s(M)}x||(S instanceof Promise?S.then(l,s):S instanceof Error?s(S):l(S))}function s(o,...x){n||(n=!0,t(o,...x))}function l(o){s(null,o)}}const dQ=jL().freeze(),UL={}.hasOwnProperty;function jL(){const e=hQ(),t=[];let n={},i,s=-1;return l.data=o,l.Parser=void 0,l.Compiler=void 0,l.freeze=x,l.attachers=t,l.use=S,l.parse=T,l.stringify=M,l.run=F,l.runSync=z,l.process=U,l.processSync=q,l;function l(){const K=jL();let ee=-1;for(;++ee<t.length;)K.use(...t[ee]);return K.data(f8(!0,{},n)),K}function o(K,ee){return typeof K=="string"?arguments.length===2?(qw("data",i),n[K]=ee,l):UL.call(n,K)&&n[K]||null:K?(qw("data",i),n=K,l):n}function x(){if(i)return l;for(;++s<t.length;){const[K,...ee]=t[s];if(ee[0]===!1)continue;ee[0]===!0&&(ee[0]=void 0);const V=K.call(l,...ee);typeof V=="function"&&e.use(V)}return i=!0,s=Number.POSITIVE_INFINITY,l}function S(K,...ee){let V;if(qw("use",i),K!=null)if(typeof K=="function")pe(K,...ee);else if(typeof K=="object")Array.isArray(K)?he(K):ne(K);else throw new TypeError("Expected usable value, not `"+K+"`");return V&&(n.settings=Object.assign(n.settings||{},V)),l;function X(le){if(typeof le=="function")pe(le);else if(typeof le=="object")if(Array.isArray(le)){const[be,...Se]=le;pe(be,...Se)}else ne(le);else throw new TypeError("Expected usable value, not `"+le+"`")}function ne(le){he(le.plugins),le.settings&&(V=Object.assign(V||{},le.settings))}function he(le){let be=-1;if(le!=null)if(Array.isArray(le))for(;++be<le.length;){const Se=le[be];X(Se)}else throw new TypeError("Expected a list of plugins, not `"+le+"`")}function pe(le,be){let Se=-1,De;for(;++Se<t.length;)if(t[Se][0]===le){De=t[Se];break}De?(r4(De[1])&&r4(be)&&(be=f8(!0,De[1],be)),De[1]=be):t.push([...arguments])}}function T(K){l.freeze();const ee=Km(K),V=l.Parser;return Vw("parse",V),p8(V,"parse")?new V(String(ee),ee).parse():V(String(ee),ee)}function M(K,ee){l.freeze();const V=Km(ee),X=l.Compiler;return Hw("stringify",X),h8(K),p8(X,"compile")?new X(K,V).compile():X(K,V)}function F(K,ee,V){if(h8(K),l.freeze(),!V&&typeof ee=="function"&&(V=ee,ee=void 0),!V)return new Promise(X);X(null,V);function X(ne,he){e.run(K,Km(ee),pe);function pe(le,be,Se){be=be||K,le?he(le):ne?ne(be):V(null,be,Se)}}}function z(K,ee){let V,X;return l.run(K,ee,ne),A8("runSync","run",X),V;function ne(he,pe){i8(he),V=pe,X=!0}}function U(K,ee){if(l.freeze(),Vw("process",l.Parser),Hw("process",l.Compiler),!ee)return new Promise(V);V(null,ee);function V(X,ne){const he=Km(K);l.run(l.parse(he),he,(le,be,Se)=>{if(le||!be||!Se)pe(le);else{const De=l.stringify(be,Se);De==null||(yQ(De)?Se.value=De:Se.result=De),pe(le,Se)}});function pe(le,be){le||!be?ne(le):X?X(be):ee(null,be)}}}function q(K){let ee;l.freeze(),Vw("processSync",l.Parser),Hw("processSync",l.Compiler);const V=Km(K);return l.process(V,X),A8("processSync","process",ee),V;function X(ne){ee=!0,i8(ne)}}}function p8(e,t){return typeof e=="function"&&e.prototype&&(mQ(e.prototype)||t in e.prototype)}function mQ(e){let t;for(t in e)if(UL.call(e,t))return!0;return!1}function Vw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Hw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function qw(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function h8(e){if(!r4(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function A8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Km(e){return gQ(e)?e:new zL(e)}function gQ(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function yQ(e){return typeof e=="string"||BL(e)}function vQ(e,t){var{includeImageAlt:n=!0}=t||{};return $L(e,n)}function $L(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&d8(e.children,t)||Array.isArray(e)&&d8(e,t))||""}function d8(e,t){for(var n=[],i=-1;++i<e.length;)n[i]=$L(e[i],t);return n.join("")}function kf(e,t,n,i){const s=e.length;let l=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);l<i.length;)o=i.slice(l,l+1e4),o.unshift(t,0),[].splice.apply(e,o),l+=1e4,t+=1e4}function Lu(e,t){return e.length>0?(kf(e,e.length,0,t),e):t}const m8={}.hasOwnProperty;function _Q(e){const t={};let n=-1;for(;++n<e.length;)xQ(t,e[n]);return t}function xQ(e,t){let n;for(n in t){const s=(m8.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;for(o in l){m8.call(s,o)||(s[o]=[]);const x=l[o];bQ(s[o],Array.isArray(x)?x:x?[x]:[])}}}function bQ(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);kf(e,0,0,i)}const wQ=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,xf=Zh(/[A-Za-z]/),i4=Zh(/\d/),SQ=Zh(/[\dA-Fa-f]/),Jl=Zh(/[\dA-Za-z]/),EQ=Zh(/[!-/:-@[-`{-~]/),g8=Zh(/[#-'*+\--9=?A-Z^-~]/);function o4(e){return e!==null&&(e<32||e===127)}function Bu(e){return e!==null&&(e<0||e===32)}function gr(e){return e!==null&&e<-2}function Oa(e){return e===-2||e===-1||e===32}const CQ=Zh(/\s/),kQ=Zh(wQ);function Zh(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function to(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(S){return Oa(S)?(e.enter(n),x(S)):t(S)}function x(S){return Oa(S)&&l++<s?(e.consume(S),x):(e.exit(n),t(S))}}const TQ={tokenize:PQ};function PQ(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(x){if(x===null){e.consume(x);return}return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),to(e,t,"linePrefix")}function s(x){return e.enter("paragraph"),l(x)}function l(x){const S=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=S),n=S,o(x)}function o(x){if(x===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(x);return}return gr(x)?(e.consume(x),e.exit("chunkText"),l):(e.consume(x),o)}}const IQ={tokenize:OQ},y8={tokenize:MQ};function OQ(e){const t=this,n=[];let i=0,s,l,o;return x;function x(ne){if(i<n.length){const he=n[i];return t.containerState=he[1],e.attempt(he[0].continuation,S,T)(ne)}return T(ne)}function S(ne){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&X();const he=t.events.length;let pe=he,le;for(;pe--;)if(t.events[pe][0]==="exit"&&t.events[pe][1].type==="chunkFlow"){le=t.events[pe][1].end;break}V(i);let be=he;for(;be<t.events.length;)t.events[be][1].end=Object.assign({},le),be++;return kf(t.events,pe+1,0,t.events.slice(he)),t.events.length=be,T(ne)}return x(ne)}function T(ne){if(i===n.length){if(!s)return z(ne);if(s.currentConstruct&&s.currentConstruct.concrete)return q(ne);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(y8,M,F)(ne)}function M(ne){return s&&X(),V(i),z(ne)}function F(ne){return t.parser.lazy[t.now().line]=i!==n.length,o=t.now().offset,q(ne)}function z(ne){return t.containerState={},e.attempt(y8,U,q)(ne)}function U(ne){return i++,n.push([t.currentConstruct,t.containerState]),z(ne)}function q(ne){if(ne===null){s&&X(),V(0),e.consume(ne);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:s}),K(ne)}function K(ne){if(ne===null){ee(e.exit("chunkFlow"),!0),V(0),e.consume(ne);return}return gr(ne)?(e.consume(ne),ee(e.exit("chunkFlow")),i=0,t.interrupt=void 0,x):(e.consume(ne),K)}function ee(ne,he){const pe=t.sliceStream(ne);if(he&&pe.push(null),ne.previous=l,l&&(l.next=ne),l=ne,s.defineSkip(ne.start),s.write(pe),t.parser.lazy[ne.start.line]){let le=s.events.length;for(;le--;)if(s.events[le][1].start.offset<o&&(!s.events[le][1].end||s.events[le][1].end.offset>o))return;const be=t.events.length;let Se=be,De,tt;for(;Se--;)if(t.events[Se][0]==="exit"&&t.events[Se][1].type==="chunkFlow"){if(De){tt=t.events[Se][1].end;break}De=!0}for(V(i),le=be;le<t.events.length;)t.events[le][1].end=Object.assign({},tt),le++;kf(t.events,Se+1,0,t.events.slice(be)),t.events.length=le}}function V(ne){let he=n.length;for(;he-- >ne;){const pe=n[he];t.containerState=pe[1],pe[0].exit.call(t,e)}n.length=ne}function X(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function MQ(e,t,n){return to(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function v8(e){if(e===null||Bu(e)||CQ(e))return 1;if(kQ(e))return 2}function zC(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const a4={name:"attention",tokenize:RQ,resolveAll:LQ};function LQ(e,t){let n=-1,i,s,l,o,x,S,T,M;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;S=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const F=Object.assign({},e[i][1].end),z=Object.assign({},e[n][1].start);_8(F,-S),_8(z,S),o={type:S>1?"strongSequence":"emphasisSequence",start:F,end:Object.assign({},e[i][1].end)},x={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:z},l={type:S>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s={type:S>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},x.end)},e[i][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},x.end),T=[],e[i][1].end.offset-e[i][1].start.offset&&(T=Lu(T,[["enter",e[i][1],t],["exit",e[i][1],t]])),T=Lu(T,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",l,t]]),T=Lu(T,zC(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),T=Lu(T,[["exit",l,t],["enter",x,t],["exit",x,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(M=2,T=Lu(T,[["enter",e[n][1],t],["exit",e[n][1],t]])):M=0,kf(e,i-1,n-i+3,T),n=i+T.length-M-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function RQ(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=v8(i);let l;return o;function o(S){return e.enter("attentionSequence"),l=S,x(S)}function x(S){if(S===l)return e.consume(S),x;const T=e.exit("attentionSequence"),M=v8(S),F=!M||M===2&&s||n.includes(S),z=!s||s===2&&M||n.includes(i);return T._open=Boolean(l===42?F:F&&(s||!z)),T._close=Boolean(l===42?z:z&&(M||!F)),t(S)}}function _8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const DQ={name:"autolink",tokenize:FQ};function FQ(e,t,n){let i=1;return s;function s(q){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(q){return xf(q)?(e.consume(q),o):g8(q)?T(q):n(q)}function o(q){return q===43||q===45||q===46||Jl(q)?x(q):T(q)}function x(q){return q===58?(e.consume(q),S):(q===43||q===45||q===46||Jl(q))&&i++<32?(e.consume(q),x):T(q)}function S(q){return q===62?(e.exit("autolinkProtocol"),U(q)):q===null||q===32||q===60||o4(q)?n(q):(e.consume(q),S)}function T(q){return q===64?(e.consume(q),i=0,M):g8(q)?(e.consume(q),T):n(q)}function M(q){return Jl(q)?F(q):n(q)}function F(q){return q===46?(e.consume(q),i=0,M):q===62?(e.exit("autolinkProtocol").type="autolinkEmail",U(q)):z(q)}function z(q){return(q===45||Jl(q))&&i++<63?(e.consume(q),q===45?z:F):n(q)}function U(q){return e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.exit("autolink"),t}}const Vx={tokenize:BQ,partial:!0};function BQ(e,t,n){return to(e,i,"linePrefix");function i(s){return s===null||gr(s)?t(s):n(s)}}const VL={name:"blockQuote",tokenize:zQ,continuation:{tokenize:NQ},exit:UQ};function zQ(e,t,n){const i=this;return s;function s(o){if(o===62){const x=i.containerState;return x.open||(e.enter("blockQuote",{_container:!0}),x.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return Oa(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function NQ(e,t,n){return to(e,e.attempt(VL,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function UQ(e){e.exit("blockQuote")}const HL={name:"characterEscape",tokenize:jQ};function jQ(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return EQ(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const x8=document.createElement("i");function NC(e){const t="&"+e+";";x8.innerHTML=t;const n=x8.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const qL={name:"characterReference",tokenize:$Q};function $Q(e,t,n){const i=this;let s=0,l,o;return x;function x(F){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(F),e.exit("characterReferenceMarker"),S}function S(F){return F===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(F),e.exit("characterReferenceMarkerNumeric"),T):(e.enter("characterReferenceValue"),l=31,o=Jl,M(F))}function T(F){return F===88||F===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(F),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=SQ,M):(e.enter("characterReferenceValue"),l=7,o=i4,M(F))}function M(F){let z;return F===59&&s?(z=e.exit("characterReferenceValue"),o===Jl&&!NC(i.sliceSerialize(z))?n(F):(e.enter("characterReferenceMarker"),e.consume(F),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(F)&&s++<l?(e.consume(F),M):n(F)}}const b8={name:"codeFenced",tokenize:VQ,concrete:!0};function VQ(e,t,n){const i=this,s={tokenize:pe,partial:!0},l={tokenize:he,partial:!0},o=this.events[this.events.length-1],x=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let S=0,T;return M;function M(le){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),T=le,F(le)}function F(le){return le===T?(e.consume(le),S++,F):(e.exit("codeFencedFenceSequence"),S<3?n(le):to(e,z,"whitespace")(le))}function z(le){return le===null||gr(le)?ee(le):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),U(le))}function U(le){return le===null||Bu(le)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),to(e,q,"whitespace")(le)):le===96&&le===T?n(le):(e.consume(le),U)}function q(le){return le===null||gr(le)?ee(le):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),K(le))}function K(le){return le===null||gr(le)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),ee(le)):le===96&&le===T?n(le):(e.consume(le),K)}function ee(le){return e.exit("codeFencedFence"),i.interrupt?t(le):V(le)}function V(le){return le===null?ne(le):gr(le)?e.attempt(l,e.attempt(s,ne,x?to(e,V,"linePrefix",x+1):V),ne)(le):(e.enter("codeFlowValue"),X(le))}function X(le){return le===null||gr(le)?(e.exit("codeFlowValue"),V(le)):(e.consume(le),X)}function ne(le){return e.exit("codeFenced"),t(le)}function he(le,be,Se){const De=this;return tt;function tt(at){return le.enter("lineEnding"),le.consume(at),le.exit("lineEnding"),Xe}function Xe(at){return De.parser.lazy[De.now().line]?Se(at):be(at)}}function pe(le,be,Se){let De=0;return to(le,tt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function tt(yt){return le.enter("codeFencedFence"),le.enter("codeFencedFenceSequence"),Xe(yt)}function Xe(yt){return yt===T?(le.consume(yt),De++,Xe):De<S?Se(yt):(le.exit("codeFencedFenceSequence"),to(le,at,"whitespace")(yt))}function at(yt){return yt===null||gr(yt)?(le.exit("codeFencedFence"),be(yt)):Se(yt)}}}const Gw={name:"codeIndented",tokenize:qQ},HQ={tokenize:GQ,partial:!0};function qQ(e,t,n){const i=this;return s;function s(T){return e.enter("codeIndented"),to(e,l,"linePrefix",4+1)(T)}function l(T){const M=i.events[i.events.length-1];return M&&M[1].type==="linePrefix"&&M[2].sliceSerialize(M[1],!0).length>=4?o(T):n(T)}function o(T){return T===null?S(T):gr(T)?e.attempt(HQ,o,S)(T):(e.enter("codeFlowValue"),x(T))}function x(T){return T===null||gr(T)?(e.exit("codeFlowValue"),o(T)):(e.consume(T),x)}function S(T){return e.exit("codeIndented"),t(T)}}function GQ(e,t,n){const i=this;return s;function s(o){return i.parser.lazy[i.now().line]?n(o):gr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):to(e,l,"linePrefix",4+1)(o)}function l(o){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(o):gr(o)?s(o):n(o)}}const QQ={name:"codeText",tokenize:ZQ,resolve:WQ,previous:KQ};function WQ(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function KQ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ZQ(e,t,n){let i=0,s,l;return o;function o(F){return e.enter("codeText"),e.enter("codeTextSequence"),x(F)}function x(F){return F===96?(e.consume(F),i++,x):(e.exit("codeTextSequence"),S(F))}function S(F){return F===null?n(F):F===96?(l=e.enter("codeTextSequence"),s=0,M(F)):F===32?(e.enter("space"),e.consume(F),e.exit("space"),S):gr(F)?(e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),S):(e.enter("codeTextData"),T(F))}function T(F){return F===null||F===32||F===96||gr(F)?(e.exit("codeTextData"),S(F)):(e.consume(F),T)}function M(F){return F===96?(e.consume(F),s++,M):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(F)):(l.type="codeTextData",T(F))}}function GL(e){const t={};let n=-1,i,s,l,o,x,S,T;for(;++n<e.length;){for(;n in t;)n=t[n];if(i=e[n],n&&i[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(S=i[1]._tokenizer.events,l=0,l<S.length&&S[l][1].type==="lineEndingBlank"&&(l+=2),l<S.length&&S[l][1].type==="content"))for(;++l<S.length&&S[l][1].type!=="content";)S[l][1].type==="chunkText"&&(S[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,XQ(e,n)),n=t[n],T=!0);else if(i[1]._container){for(l=n,s=void 0;l--&&(o=e[l],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(s&&(e[s][1].type="lineEndingBlank"),o[1].type="lineEnding",s=l);s&&(i[1].end=Object.assign({},e[s][1].start),x=e.slice(s,n),x.unshift(i),kf(e,s,n-s+1,x))}}return!T}function XQ(e,t){const n=e[t][1],i=e[t][2];let s=t-1;const l=[],o=n._tokenizer||i.parser[n.contentType](n.start),x=o.events,S=[],T={};let M,F,z=-1,U=n,q=0,K=0;const ee=[K];for(;U;){for(;e[++s][1]!==U;);l.push(s),U._tokenizer||(M=i.sliceStream(U),U.next||M.push(null),F&&o.defineSkip(U.start),U._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(M),U._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),F=U,U=U.next}for(U=n;++z<x.length;)x[z][0]==="exit"&&x[z-1][0]==="enter"&&x[z][1].type===x[z-1][1].type&&x[z][1].start.line!==x[z][1].end.line&&(K=z+1,ee.push(K),U._tokenizer=void 0,U.previous=void 0,U=U.next);for(o.events=[],U?(U._tokenizer=void 0,U.previous=void 0):ee.pop(),z=ee.length;z--;){const V=x.slice(ee[z],ee[z+1]),X=l.pop();S.unshift([X,X+V.length-1]),kf(e,X,2,V)}for(z=-1;++z<S.length;)T[q+S[z][0]]=q+S[z][1],q+=S[z][1]-S[z][0]-1;return T}const YQ={tokenize:tW,resolve:eW},JQ={tokenize:nW,partial:!0};function eW(e){return GL(e),e}function tW(e,t){let n;return i;function i(x){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(x)}function s(x){return x===null?l(x):gr(x)?e.check(JQ,o,l)(x):(e.consume(x),s)}function l(x){return e.exit("chunkContent"),e.exit("content"),t(x)}function o(x){return e.consume(x),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function nW(e,t,n){const i=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),to(e,l,"linePrefix")}function l(o){if(o===null||gr(o))return n(o);const x=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}}function QL(e,t,n,i,s,l,o,x,S){const T=S||Number.POSITIVE_INFINITY;let M=0;return F;function F(V){return V===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(V),e.exit(l),z):V===null||V===41||o4(V)?n(V):(e.enter(i),e.enter(o),e.enter(x),e.enter("chunkString",{contentType:"string"}),K(V))}function z(V){return V===62?(e.enter(l),e.consume(V),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(x),e.enter("chunkString",{contentType:"string"}),U(V))}function U(V){return V===62?(e.exit("chunkString"),e.exit(x),z(V)):V===null||V===60||gr(V)?n(V):(e.consume(V),V===92?q:U)}function q(V){return V===60||V===62||V===92?(e.consume(V),U):U(V)}function K(V){return V===40?++M>T?n(V):(e.consume(V),K):V===41?M--?(e.consume(V),K):(e.exit("chunkString"),e.exit(x),e.exit(o),e.exit(i),t(V)):V===null||Bu(V)?M?n(V):(e.exit("chunkString"),e.exit(x),e.exit(o),e.exit(i),t(V)):o4(V)?n(V):(e.consume(V),V===92?ee:K)}function ee(V){return V===40||V===41||V===92?(e.consume(V),K):K(V)}}function WL(e,t,n,i,s,l){const o=this;let x=0,S;return T;function T(U){return e.enter(i),e.enter(s),e.consume(U),e.exit(s),e.enter(l),M}function M(U){return U===null||U===91||U===93&&!S||U===94&&!x&&"_hiddenFootnoteSupport"in o.parser.constructs||x>999?n(U):U===93?(e.exit(l),e.enter(s),e.consume(U),e.exit(s),e.exit(i),t):gr(U)?(e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),M):(e.enter("chunkString",{contentType:"string"}),F(U))}function F(U){return U===null||U===91||U===93||gr(U)||x++>999?(e.exit("chunkString"),M(U)):(e.consume(U),S=S||!Oa(U),U===92?z:F)}function z(U){return U===91||U===92||U===93?(e.consume(U),x++,F):F(U)}}function KL(e,t,n,i,s,l){let o;return x;function x(z){return e.enter(i),e.enter(s),e.consume(z),e.exit(s),o=z===40?41:z,S}function S(z){return z===o?(e.enter(s),e.consume(z),e.exit(s),e.exit(i),t):(e.enter(l),T(z))}function T(z){return z===o?(e.exit(l),S(o)):z===null?n(z):gr(z)?(e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),to(e,T,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),M(z))}function M(z){return z===o||z===null||gr(z)?(e.exit("chunkString"),T(z)):(e.consume(z),z===92?F:M)}function F(z){return z===o||z===92?(e.consume(z),M):M(z)}}function kg(e,t){let n;return i;function i(s){return gr(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Oa(s)?to(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}function I0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rW={name:"definition",tokenize:oW},iW={tokenize:aW,partial:!0};function oW(e,t,n){const i=this;let s;return l;function l(S){return e.enter("definition"),WL.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function o(S){return s=I0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),kg(e,QL(e,e.attempt(iW,to(e,x,"whitespace"),to(e,x,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(S)}function x(S){return S===null||gr(S)?(e.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),t(S)):n(S)}}function aW(e,t,n){return i;function i(o){return Bu(o)?kg(e,s)(o):n(o)}function s(o){return o===34||o===39||o===40?KL(e,to(e,l,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function l(o){return o===null||gr(o)?t(o):n(o)}}const sW={name:"hardBreakEscape",tokenize:lW};function lW(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(l),s}function s(l){return gr(l)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(l)):n(l)}}const uW={name:"headingAtx",tokenize:fW,resolve:cW};function cW(e,t){let n=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},kf(e,i,n-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function fW(e,t,n){const i=this;let s=0;return l;function l(M){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(M)}function o(M){return M===35&&s++<6?(e.consume(M),o):M===null||Bu(M)?(e.exit("atxHeadingSequence"),i.interrupt?t(M):x(M)):n(M)}function x(M){return M===35?(e.enter("atxHeadingSequence"),S(M)):M===null||gr(M)?(e.exit("atxHeading"),t(M)):Oa(M)?to(e,x,"whitespace")(M):(e.enter("atxHeadingText"),T(M))}function S(M){return M===35?(e.consume(M),S):(e.exit("atxHeadingSequence"),x(M))}function T(M){return M===null||M===35||Bu(M)?(e.exit("atxHeadingText"),x(M)):(e.consume(M),T)}}const pW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w8=["pre","script","style","textarea"],hW={name:"htmlFlow",tokenize:mW,resolveTo:dW,concrete:!0},AW={tokenize:gW,partial:!0};function dW(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function mW(e,t,n){const i=this;let s,l,o,x,S;return T;function T(ge){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ge),M}function M(ge){return ge===33?(e.consume(ge),F):ge===47?(e.consume(ge),q):ge===63?(e.consume(ge),s=3,i.interrupt?t:Me):xf(ge)?(e.consume(ge),o=String.fromCharCode(ge),l=!0,K):n(ge)}function F(ge){return ge===45?(e.consume(ge),s=2,z):ge===91?(e.consume(ge),s=5,o="CDATA[",x=0,U):xf(ge)?(e.consume(ge),s=4,i.interrupt?t:Me):n(ge)}function z(ge){return ge===45?(e.consume(ge),i.interrupt?t:Me):n(ge)}function U(ge){return ge===o.charCodeAt(x++)?(e.consume(ge),x===o.length?i.interrupt?t:Xe:U):n(ge)}function q(ge){return xf(ge)?(e.consume(ge),o=String.fromCharCode(ge),K):n(ge)}function K(ge){return ge===null||ge===47||ge===62||Bu(ge)?ge!==47&&l&&w8.includes(o.toLowerCase())?(s=1,i.interrupt?t(ge):Xe(ge)):pW.includes(o.toLowerCase())?(s=6,ge===47?(e.consume(ge),ee):i.interrupt?t(ge):Xe(ge)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(ge):l?X(ge):V(ge)):ge===45||Jl(ge)?(e.consume(ge),o+=String.fromCharCode(ge),K):n(ge)}function ee(ge){return ge===62?(e.consume(ge),i.interrupt?t:Xe):n(ge)}function V(ge){return Oa(ge)?(e.consume(ge),V):De(ge)}function X(ge){return ge===47?(e.consume(ge),De):ge===58||ge===95||xf(ge)?(e.consume(ge),ne):Oa(ge)?(e.consume(ge),X):De(ge)}function ne(ge){return ge===45||ge===46||ge===58||ge===95||Jl(ge)?(e.consume(ge),ne):he(ge)}function he(ge){return ge===61?(e.consume(ge),pe):Oa(ge)?(e.consume(ge),he):X(ge)}function pe(ge){return ge===null||ge===60||ge===61||ge===62||ge===96?n(ge):ge===34||ge===39?(e.consume(ge),S=ge,le):Oa(ge)?(e.consume(ge),pe):(S=null,be(ge))}function le(ge){return ge===null||gr(ge)?n(ge):ge===S?(e.consume(ge),Se):(e.consume(ge),le)}function be(ge){return ge===null||ge===34||ge===39||ge===60||ge===61||ge===62||ge===96||Bu(ge)?he(ge):(e.consume(ge),be)}function Se(ge){return ge===47||ge===62||Oa(ge)?X(ge):n(ge)}function De(ge){return ge===62?(e.consume(ge),tt):n(ge)}function tt(ge){return Oa(ge)?(e.consume(ge),tt):ge===null||gr(ge)?Xe(ge):n(ge)}function Xe(ge){return ge===45&&s===2?(e.consume(ge),Vt):ge===60&&s===1?(e.consume(ge),Jt):ge===62&&s===4?(e.consume(ge),Le):ge===63&&s===3?(e.consume(ge),Me):ge===93&&s===5?(e.consume(ge),st):gr(ge)&&(s===6||s===7)?e.check(AW,Le,at)(ge):ge===null||gr(ge)?at(ge):(e.consume(ge),Xe)}function at(ge){return e.exit("htmlFlowData"),yt(ge)}function yt(ge){return ge===null?re(ge):gr(ge)?e.attempt({tokenize:Ot,partial:!0},yt,re)(ge):(e.enter("htmlFlowData"),Xe(ge))}function Ot(ge,Mt,en){return vn;function vn(En){return ge.enter("lineEnding"),ge.consume(En),ge.exit("lineEnding"),dn}function dn(En){return i.parser.lazy[i.now().line]?en(En):Mt(En)}}function Vt(ge){return ge===45?(e.consume(ge),Me):Xe(ge)}function Jt(ge){return ge===47?(e.consume(ge),o="",bn):Xe(ge)}function bn(ge){return ge===62&&w8.includes(o.toLowerCase())?(e.consume(ge),Le):xf(ge)&&o.length<8?(e.consume(ge),o+=String.fromCharCode(ge),bn):Xe(ge)}function st(ge){return ge===93?(e.consume(ge),Me):Xe(ge)}function Me(ge){return ge===62?(e.consume(ge),Le):ge===45&&s===2?(e.consume(ge),Me):Xe(ge)}function Le(ge){return ge===null||gr(ge)?(e.exit("htmlFlowData"),re(ge)):(e.consume(ge),Le)}function re(ge){return e.exit("htmlFlow"),t(ge)}}function gW(e,t,n){return i;function i(s){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),e.attempt(Vx,t,n)}}const yW={name:"htmlText",tokenize:vW};function vW(e,t,n){const i=this;let s,l,o,x;return S;function S(re){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(re),T}function T(re){return re===33?(e.consume(re),M):re===47?(e.consume(re),be):re===63?(e.consume(re),pe):xf(re)?(e.consume(re),tt):n(re)}function M(re){return re===45?(e.consume(re),F):re===91?(e.consume(re),l="CDATA[",o=0,ee):xf(re)?(e.consume(re),he):n(re)}function F(re){return re===45?(e.consume(re),z):n(re)}function z(re){return re===null||re===62?n(re):re===45?(e.consume(re),U):q(re)}function U(re){return re===null||re===62?n(re):q(re)}function q(re){return re===null?n(re):re===45?(e.consume(re),K):gr(re)?(x=q,st(re)):(e.consume(re),q)}function K(re){return re===45?(e.consume(re),Le):q(re)}function ee(re){return re===l.charCodeAt(o++)?(e.consume(re),o===l.length?V:ee):n(re)}function V(re){return re===null?n(re):re===93?(e.consume(re),X):gr(re)?(x=V,st(re)):(e.consume(re),V)}function X(re){return re===93?(e.consume(re),ne):V(re)}function ne(re){return re===62?Le(re):re===93?(e.consume(re),ne):V(re)}function he(re){return re===null||re===62?Le(re):gr(re)?(x=he,st(re)):(e.consume(re),he)}function pe(re){return re===null?n(re):re===63?(e.consume(re),le):gr(re)?(x=pe,st(re)):(e.consume(re),pe)}function le(re){return re===62?Le(re):pe(re)}function be(re){return xf(re)?(e.consume(re),Se):n(re)}function Se(re){return re===45||Jl(re)?(e.consume(re),Se):De(re)}function De(re){return gr(re)?(x=De,st(re)):Oa(re)?(e.consume(re),De):Le(re)}function tt(re){return re===45||Jl(re)?(e.consume(re),tt):re===47||re===62||Bu(re)?Xe(re):n(re)}function Xe(re){return re===47?(e.consume(re),Le):re===58||re===95||xf(re)?(e.consume(re),at):gr(re)?(x=Xe,st(re)):Oa(re)?(e.consume(re),Xe):Le(re)}function at(re){return re===45||re===46||re===58||re===95||Jl(re)?(e.consume(re),at):yt(re)}function yt(re){return re===61?(e.consume(re),Ot):gr(re)?(x=yt,st(re)):Oa(re)?(e.consume(re),yt):Xe(re)}function Ot(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(e.consume(re),s=re,Vt):gr(re)?(x=Ot,st(re)):Oa(re)?(e.consume(re),Ot):(e.consume(re),s=void 0,bn)}function Vt(re){return re===s?(e.consume(re),Jt):re===null?n(re):gr(re)?(x=Vt,st(re)):(e.consume(re),Vt)}function Jt(re){return re===62||re===47||Bu(re)?Xe(re):n(re)}function bn(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===62||Bu(re)?Xe(re):(e.consume(re),bn)}function st(re){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(re),e.exit("lineEnding"),to(e,Me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Me(re){return e.enter("htmlTextData"),x(re)}function Le(re){return re===62?(e.consume(re),e.exit("htmlTextData"),e.exit("htmlText"),t):n(re)}}const UC={name:"labelEnd",tokenize:EW,resolveTo:SW,resolveAll:wW},_W={tokenize:CW},xW={tokenize:kW},bW={tokenize:TW};function wW(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function SW(e,t){let n=e.length,i=0,s,l,o,x;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(o=n);const S={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},T={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[o][1].end)},M={type:"labelText",start:Object.assign({},e[l+i+2][1].end),end:Object.assign({},e[o-2][1].start)};return x=[["enter",S,t],["enter",T,t]],x=Lu(x,e.slice(l+1,l+i+3)),x=Lu(x,[["enter",M,t]]),x=Lu(x,zC(t.parser.constructs.insideSpan.null,e.slice(l+i+4,o-3),t)),x=Lu(x,[["exit",M,t],e[o-2],e[o-1],["exit",T,t]]),x=Lu(x,e.slice(o+1)),x=Lu(x,[["exit",S,t]]),kf(e,l,e.length,x),e}function EW(e,t,n){const i=this;let s=i.events.length,l,o;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return x;function x(M){return l?l._inactive?T(M):(o=i.parser.defined.includes(I0(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(M),e.exit("labelMarker"),e.exit("labelEnd"),S):n(M)}function S(M){return M===40?e.attempt(_W,t,o?t:T)(M):M===91?e.attempt(xW,t,o?e.attempt(bW,t,T):T)(M):o?t(M):T(M)}function T(M){return l._balanced=!0,n(M)}}function CW(e,t,n){return i;function i(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),kg(e,s)}function s(S){return S===41?x(S):QL(e,l,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function l(S){return Bu(S)?kg(e,o)(S):x(S)}function o(S){return S===34||S===39||S===40?KL(e,kg(e,x),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):x(S)}function x(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):n(S)}}function kW(e,t,n){const i=this;return s;function s(o){return WL.call(i,e,l,n,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(I0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function TW(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const PW={name:"labelStartImage",tokenize:IW,resolveAll:UC.resolveAll};function IW(e,t,n){const i=this;return s;function s(x){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(x),e.exit("labelImageMarker"),l}function l(x){return x===91?(e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelImage"),o):n(x)}function o(x){return x===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(x):t(x)}}const OW={name:"labelStartLink",tokenize:MW,resolveAll:UC.resolveAll};function MW(e,t,n){const i=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Qw={name:"lineEnding",tokenize:LW};function LW(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),to(e,t,"linePrefix")}}const l_={name:"thematicBreak",tokenize:RW};function RW(e,t,n){let i=0,s;return l;function l(S){return e.enter("thematicBreak"),s=S,o(S)}function o(S){return S===s?(e.enter("thematicBreakSequence"),x(S)):Oa(S)?to(e,o,"whitespace")(S):i<3||S!==null&&!gr(S)?n(S):(e.exit("thematicBreak"),t(S))}function x(S){return S===s?(e.consume(S),i++,x):(e.exit("thematicBreakSequence"),o(S))}}const Cl={name:"list",tokenize:BW,continuation:{tokenize:zW},exit:UW},DW={tokenize:jW,partial:!0},FW={tokenize:NW,partial:!0};function BW(e,t,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return x;function x(U){const q=i.containerState.type||(U===42||U===43||U===45?"listUnordered":"listOrdered");if(q==="listUnordered"?!i.containerState.marker||U===i.containerState.marker:i4(U)){if(i.containerState.type||(i.containerState.type=q,e.enter(q,{_container:!0})),q==="listUnordered")return e.enter("listItemPrefix"),U===42||U===45?e.check(l_,n,T)(U):T(U);if(!i.interrupt||U===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),S(U)}return n(U)}function S(U){return i4(U)&&++o<10?(e.consume(U),S):(!i.interrupt||o<2)&&(i.containerState.marker?U===i.containerState.marker:U===41||U===46)?(e.exit("listItemValue"),T(U)):n(U)}function T(U){return e.enter("listItemMarker"),e.consume(U),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||U,e.check(Vx,i.interrupt?n:M,e.attempt(DW,z,F))}function M(U){return i.containerState.initialBlankLine=!0,l++,z(U)}function F(U){return Oa(U)?(e.enter("listItemPrefixWhitespace"),e.consume(U),e.exit("listItemPrefixWhitespace"),z):n(U)}function z(U){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(U)}}function zW(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Vx,s,l);function s(x){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,to(e,t,"listItemIndent",i.containerState.size+1)(x)}function l(x){return i.containerState.furtherBlankLines||!Oa(x)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(x)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(FW,t,o)(x))}function o(x){return i.containerState._closeFlow=!0,i.interrupt=void 0,to(e,e.attempt(Cl,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function NW(e,t,n){const i=this;return to(e,s,"listItemIndent",i.containerState.size+1);function s(l){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(l):n(l)}}function UW(e){e.exit(this.containerState.type)}function jW(e,t,n){const i=this;return to(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function s(l){const o=i.events[i.events.length-1];return!Oa(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const S8={name:"setextUnderline",tokenize:VW,resolveTo:$W};function $W(e,t){let n=e.length,i,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",o,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[l][1].end)):e[i][1]=o,e.push(["exit",o,t]),e}function VW(e,t,n){const i=this;let s=i.events.length,l,o;for(;s--;)if(i.events[s][1].type!=="lineEnding"&&i.events[s][1].type!=="linePrefix"&&i.events[s][1].type!=="content"){o=i.events[s][1].type==="paragraph";break}return x;function x(M){return!i.parser.lazy[i.now().line]&&(i.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),l=M,S(M)):n(M)}function S(M){return M===l?(e.consume(M),S):(e.exit("setextHeadingLineSequence"),to(e,T,"lineSuffix")(M))}function T(M){return M===null||gr(M)?(e.exit("setextHeadingLine"),t(M)):n(M)}}const HW={tokenize:qW};function qW(e){const t=this,n=e.attempt(Vx,i,e.attempt(this.parser.constructs.flowInitial,s,to(e,e.attempt(this.parser.constructs.flow,s,e.attempt(YQ,s)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const GW={resolveAll:XL()},QW=ZL("string"),WW=ZL("text");function ZL(e){return{tokenize:t,resolveAll:XL(e==="text"?KW:void 0)};function t(n){const i=this,s=this.parser.constructs[e],l=n.attempt(s,o,x);return o;function o(M){return T(M)?l(M):x(M)}function x(M){if(M===null){n.consume(M);return}return n.enter("data"),n.consume(M),S}function S(M){return T(M)?(n.exit("data"),l(M)):(n.consume(M),S)}function T(M){if(M===null)return!0;const F=s[M];let z=-1;if(F)for(;++z<F.length;){const U=F[z];if(!U.previous||U.previous.call(i,i.previous))return!0}return!1}}}function XL(e){return t;function t(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,i):n}}function KW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let l=s.length,o=-1,x=0,S;for(;l--;){const T=s[l];if(typeof T=="string"){for(o=T.length;T.charCodeAt(o-1)===32;)x++,o--;if(o)break;o=-1}else if(T===-2)S=!0,x++;else if(T!==-1){l++;break}}if(x){const T={type:n===e.length||S||x<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-x,offset:i.end.offset-x,_index:i.start._index+l,_bufferIndex:l?o:i.start._bufferIndex+o},end:Object.assign({},i.end)};i.end=Object.assign({},T.start),i.start.offset===i.end.offset?Object.assign(i,T):(e.splice(n,0,["enter",T,t],["exit",T,t]),n+=2)}n++}return e}function ZW(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},l=[];let o=[],x=[];const S={consume:X,enter:ne,exit:he,attempt:be(pe),check:be(le),interrupt:be(le,{interrupt:!0})},T={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:U,sliceSerialize:z,now:q,defineSkip:K,write:F};let M=t.tokenize.call(T,S);return t.resolveAll&&l.push(t),T;function F(Xe){return o=Lu(o,Xe),ee(),o[o.length-1]!==null?[]:(Se(t,0),T.events=zC(l,T.events,T),T.events)}function z(Xe,at){return YW(U(Xe),at)}function U(Xe){return XW(o,Xe)}function q(){return Object.assign({},i)}function K(Xe){s[Xe.line]=Xe.column,tt()}function ee(){let Xe;for(;i._index<o.length;){const at=o[i._index];if(typeof at=="string")for(Xe=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Xe&&i._bufferIndex<at.length;)V(at.charCodeAt(i._bufferIndex));else V(at)}}function V(Xe){M=M(Xe)}function X(Xe){gr(Xe)?(i.line++,i.column=1,i.offset+=Xe===-3?2:1,tt()):Xe!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),T.previous=Xe}function ne(Xe,at){const yt=at||{};return yt.type=Xe,yt.start=q(),T.events.push(["enter",yt,T]),x.push(yt),yt}function he(Xe){const at=x.pop();return at.end=q(),T.events.push(["exit",at,T]),at}function pe(Xe,at){Se(Xe,at.from)}function le(Xe,at){at.restore()}function be(Xe,at){return yt;function yt(Ot,Vt,Jt){let bn,st,Me,Le;return Array.isArray(Ot)?ge(Ot):"tokenize"in Ot?ge([Ot]):re(Ot);function re(dn){return En;function En(jn){const Fn=jn!==null&&dn[jn],Xr=jn!==null&&dn.null,jr=[...Array.isArray(Fn)?Fn:Fn?[Fn]:[],...Array.isArray(Xr)?Xr:Xr?[Xr]:[]];return ge(jr)(jn)}}function ge(dn){return bn=dn,st=0,dn.length===0?Jt:Mt(dn[st])}function Mt(dn){return En;function En(jn){return Le=De(),Me=dn,dn.partial||(T.currentConstruct=dn),dn.name&&T.parser.constructs.disable.null.includes(dn.name)?vn():dn.tokenize.call(at?Object.assign(Object.create(T),at):T,S,en,vn)(jn)}}function en(dn){return Xe(Me,Le),Vt}function vn(dn){return Le.restore(),++st<bn.length?Mt(bn[st]):Jt}}}function Se(Xe,at){Xe.resolveAll&&!l.includes(Xe)&&l.push(Xe),Xe.resolve&&kf(T.events,at,T.events.length-at,Xe.resolve(T.events.slice(at),T)),Xe.resolveTo&&(T.events=Xe.resolveTo(T.events,T))}function De(){const Xe=q(),at=T.previous,yt=T.currentConstruct,Ot=T.events.length,Vt=Array.from(x);return{restore:Jt,from:Ot};function Jt(){i=Xe,T.previous=at,T.currentConstruct=yt,T.events.length=Ot,x=Vt,tt()}}function tt(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function XW(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let o;return n===s?o=[e[n].slice(i,l)]:(o=e.slice(n,s),i>-1&&(o[0]=o[0].slice(i)),l>0&&o.push(e[s].slice(0,l))),o}function YW(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(l)}s=l===-2,i.push(o)}return i.join("")}const JW={[42]:Cl,[43]:Cl,[45]:Cl,[48]:Cl,[49]:Cl,[50]:Cl,[51]:Cl,[52]:Cl,[53]:Cl,[54]:Cl,[55]:Cl,[56]:Cl,[57]:Cl,[62]:VL},eK={[91]:rW},tK={[-2]:Gw,[-1]:Gw,[32]:Gw},nK={[35]:uW,[42]:l_,[45]:[S8,l_],[60]:hW,[61]:S8,[95]:l_,[96]:b8,[126]:b8},rK={[38]:qL,[92]:HL},iK={[-5]:Qw,[-4]:Qw,[-3]:Qw,[33]:PW,[38]:qL,[42]:a4,[60]:[DQ,yW],[91]:OW,[92]:[sW,HL],[93]:UC,[95]:a4,[96]:QQ},oK={null:[a4,GW]},aK={null:[42,95]},sK={null:[]},lK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aK,contentInitial:eK,disable:sK,document:JW,flow:nK,flowInitial:tK,insideSpan:oK,string:rK,text:iK},Symbol.toStringTag,{value:"Module"}));function uK(e={}){const t=_Q([lK].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:i(TQ),document:i(IQ),flow:i(HW),string:i(QW),text:i(WW)};return n;function i(s){return l;function l(o){return ZW(n,s,o)}}}const E8=/[\0\t\n\r]/g;function cK(){let e=1,t="",n=!0,i;return s;function s(l,o,x){const S=[];let T,M,F,z,U;for(l=t+l.toString(o),F=0,t="",n&&(l.charCodeAt(0)===65279&&F++,n=void 0);F<l.length;){if(E8.lastIndex=F,T=E8.exec(l),z=T&&T.index!==void 0?T.index:l.length,U=l.charCodeAt(z),!T){t=l.slice(F);break}if(U===10&&F===z&&i)S.push(-3),i=void 0;else switch(i&&(S.push(-5),i=void 0),F<z&&(S.push(l.slice(F,z)),e+=z-F),U){case 0:{S.push(65533),e++;break}case 9:{for(M=Math.ceil(e/4)*4,S.push(-2);e++<M;)S.push(-1);break}case 10:{S.push(-4),e=1;break}default:i=!0,e=1}F=z+1}return x&&(i&&S.push(-5),t&&S.push(t),S.push(null)),S}}function fK(e){for(;!GL(e););return e}function YL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const pK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hK(e){return e.replace(pK,AK)}function AK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return YL(n.slice(l?2:1),l?16:10)}return NC(n)||e}const s4={}.hasOwnProperty,dK=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),mK(n)(fK(uK(n).document().write(cK()(e,t,!0))))};function mK(e={}){const t=JL({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:S(Wr),autolinkProtocol:at,autolinkEmail:at,atxHeading:S(Bi),blockQuote:S(Fi),characterEscape:at,characterReference:at,codeFenced:S($n),codeFencedFenceInfo:T,codeFencedFenceMeta:T,codeIndented:S($n,T),codeText:S(mi,T),codeTextData:at,data:at,codeFlowValue:at,definition:S(gi),definitionDestinationString:T,definitionLabelString:T,definitionTitleString:T,emphasis:S(Go),hardBreakEscape:S(Wi),hardBreakTrailing:S(Wi),htmlFlow:S(Ss,T),htmlFlowData:at,htmlText:S(Ss,T),htmlTextData:at,image:S(ro),label:T,link:S(Wr),listItem:S(io),listItemValue:K,listOrdered:S(Lo,q),listUnordered:S(Lo),paragraph:S(bi),reference:dn,referenceString:T,resourceDestinationString:T,resourceTitleString:T,setextHeading:S(Bi),strong:S(Ro),thematicBreak:S(vt)},exit:{atxHeading:F(),atxHeadingSequence:Se,autolink:F(),autolinkEmail:jr,autolinkProtocol:Xr,blockQuote:F(),characterEscapeValue:yt,characterReferenceMarkerHexadecimal:jn,characterReferenceMarkerNumeric:jn,characterReferenceValue:Fn,codeFenced:F(ne),codeFencedFence:X,codeFencedFenceInfo:ee,codeFencedFenceMeta:V,codeFlowValue:yt,codeIndented:F(he),codeText:F(st),codeTextData:yt,data:yt,definition:F(),definitionDestinationString:be,definitionLabelString:pe,definitionTitleString:le,emphasis:F(),hardBreakEscape:F(Vt),hardBreakTrailing:F(Vt),htmlFlow:F(Jt),htmlFlowData:yt,htmlText:F(bn),htmlTextData:yt,image:F(Le),label:ge,labelText:re,lineEnding:Ot,link:F(Me),listItem:F(),listOrdered:F(),listUnordered:F(),paragraph:F(),referenceString:En,resourceDestinationString:Mt,resourceTitleString:en,resource:vn,setextHeading:F(Xe),setextHeadingLineSequence:tt,setextHeadingText:De,strong:F(),thematicBreak:F()}},e.mdastExtensions||[]),n={};return i;function i(we){let Je={type:"root",children:[]};const Et=[Je],ln=[],Gn=[],Ir={stack:Et,tokenStack:ln,config:t,enter:M,exit:z,buffer:T,resume:U,setData:l,getData:o};let Mn=-1;for(;++Mn<we.length;)if(we[Mn][1].type==="listOrdered"||we[Mn][1].type==="listUnordered")if(we[Mn][0]==="enter")Gn.push(Mn);else{const nr=Gn.pop();Mn=s(we,nr,Mn)}for(Mn=-1;++Mn<we.length;){const nr=t[we[Mn][0]];s4.call(nr,we[Mn][1].type)&&nr[we[Mn][1].type].call(Object.assign({sliceSerialize:we[Mn][2].sliceSerialize},Ir),we[Mn][1])}if(ln.length>0){const nr=ln[ln.length-1];(nr[1]||C8).call(Ir,void 0,nr[0])}for(Je.position={start:x(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:x(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},Mn=-1;++Mn<t.transforms.length;)Je=t.transforms[Mn](Je)||Je;return Je}function s(we,Je,Et){let ln=Je-1,Gn=-1,Ir=!1,Mn,nr,$r,Yr;for(;++ln<=Et;){const dr=we[ln];if(dr[1].type==="listUnordered"||dr[1].type==="listOrdered"||dr[1].type==="blockQuote"?(dr[0]==="enter"?Gn++:Gn--,Yr=void 0):dr[1].type==="lineEndingBlank"?dr[0]==="enter"&&(Mn&&!Yr&&!Gn&&!$r&&($r=ln),Yr=void 0):dr[1].type==="linePrefix"||dr[1].type==="listItemValue"||dr[1].type==="listItemMarker"||dr[1].type==="listItemPrefix"||dr[1].type==="listItemPrefixWhitespace"||(Yr=void 0),!Gn&&dr[0]==="enter"&&dr[1].type==="listItemPrefix"||Gn===-1&&dr[0]==="exit"&&(dr[1].type==="listUnordered"||dr[1].type==="listOrdered")){if(Mn){let Eo=ln;for(nr=void 0;Eo--;){const Jr=we[Eo];if(Jr[1].type==="lineEnding"||Jr[1].type==="lineEndingBlank"){if(Jr[0]==="exit")continue;nr&&(we[nr][1].type="lineEndingBlank",Ir=!0),Jr[1].type="lineEnding",nr=Eo}else if(!(Jr[1].type==="linePrefix"||Jr[1].type==="blockQuotePrefix"||Jr[1].type==="blockQuotePrefixWhitespace"||Jr[1].type==="blockQuoteMarker"||Jr[1].type==="listItemIndent"))break}$r&&(!nr||$r<nr)&&(Mn._spread=!0),Mn.end=Object.assign({},nr?we[nr][1].start:dr[1].end),we.splice(nr||ln,0,["exit",Mn,dr[2]]),ln++,Et++}dr[1].type==="listItemPrefix"&&(Mn={type:"listItem",_spread:!1,start:Object.assign({},dr[1].start)},we.splice(ln,0,["enter",Mn,dr[2]]),ln++,Et++,$r=void 0,Yr=!0)}}return we[Je][1]._spread=Ir,Et}function l(we,Je){n[we]=Je}function o(we){return n[we]}function x(we){return{line:we.line,column:we.column,offset:we.offset}}function S(we,Je){return Et;function Et(ln){M.call(this,we(ln),ln),Je&&Je.call(this,ln)}}function T(){this.stack.push({type:"fragment",children:[]})}function M(we,Je,Et){return this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Je,Et]),we.position={start:x(Je.start)},we}function F(we){return Je;function Je(Et){we&&we.call(this,Et),z.call(this,Et)}}function z(we,Je){const Et=this.stack.pop(),ln=this.tokenStack.pop();if(ln)ln[0].type!==we.type&&(Je?Je.call(this,we,ln[0]):(ln[1]||C8).call(this,we,ln[0]));else throw new Error("Cannot close `"+we.type+"` ("+Cg({start:we.start,end:we.end})+"): its not open");return Et.position.end=x(we.end),Et}function U(){return vQ(this.stack.pop())}function q(){l("expectingFirstListItemValue",!0)}function K(we){if(o("expectingFirstListItemValue")){const Je=this.stack[this.stack.length-2];Je.start=Number.parseInt(this.sliceSerialize(we),10),l("expectingFirstListItemValue")}}function ee(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.lang=we}function V(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.meta=we}function X(){o("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function ne(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function he(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.value=we.replace(/(\r?\n|\r)$/g,"")}function pe(we){const Je=this.resume(),Et=this.stack[this.stack.length-1];Et.label=Je,Et.identifier=I0(this.sliceSerialize(we)).toLowerCase()}function le(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.title=we}function be(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.url=we}function Se(we){const Je=this.stack[this.stack.length-1];if(!Je.depth){const Et=this.sliceSerialize(we).length;Je.depth=Et}}function De(){l("setextHeadingSlurpLineEnding",!0)}function tt(we){const Je=this.stack[this.stack.length-1];Je.depth=this.sliceSerialize(we).charCodeAt(0)===61?1:2}function Xe(){l("setextHeadingSlurpLineEnding")}function at(we){const Je=this.stack[this.stack.length-1];let Et=Je.children[Je.children.length-1];(!Et||Et.type!=="text")&&(Et=sa(),Et.position={start:x(we.start)},Je.children.push(Et)),this.stack.push(Et)}function yt(we){const Je=this.stack.pop();Je.value+=this.sliceSerialize(we),Je.position.end=x(we.end)}function Ot(we){const Je=this.stack[this.stack.length-1];if(o("atHardBreak")){const Et=Je.children[Je.children.length-1];Et.position.end=x(we.end),l("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Je.type)&&(at.call(this,we),yt.call(this,we))}function Vt(){l("atHardBreak",!0)}function Jt(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.value=we}function bn(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.value=we}function st(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.value=we}function Me(){const we=this.stack[this.stack.length-1];o("inReference")?(we.type+="Reference",we.referenceType=o("referenceType")||"shortcut",delete we.url,delete we.title):(delete we.identifier,delete we.label),l("referenceType")}function Le(){const we=this.stack[this.stack.length-1];o("inReference")?(we.type+="Reference",we.referenceType=o("referenceType")||"shortcut",delete we.url,delete we.title):(delete we.identifier,delete we.label),l("referenceType")}function re(we){const Je=this.stack[this.stack.length-2],Et=this.sliceSerialize(we);Je.label=hK(Et),Je.identifier=I0(Et).toLowerCase()}function ge(){const we=this.stack[this.stack.length-1],Je=this.resume(),Et=this.stack[this.stack.length-1];l("inReference",!0),Et.type==="link"?Et.children=we.children:Et.alt=Je}function Mt(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.url=we}function en(){const we=this.resume(),Je=this.stack[this.stack.length-1];Je.title=we}function vn(){l("inReference")}function dn(){l("referenceType","collapsed")}function En(we){const Je=this.resume(),Et=this.stack[this.stack.length-1];Et.label=Je,Et.identifier=I0(this.sliceSerialize(we)).toLowerCase(),l("referenceType","full")}function jn(we){l("characterReferenceType",we.type)}function Fn(we){const Je=this.sliceSerialize(we),Et=o("characterReferenceType");let ln;Et?(ln=YL(Je,Et==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):ln=NC(Je);const Gn=this.stack.pop();Gn.value+=ln,Gn.position.end=x(we.end)}function Xr(we){yt.call(this,we);const Je=this.stack[this.stack.length-1];Je.url=this.sliceSerialize(we)}function jr(we){yt.call(this,we);const Je=this.stack[this.stack.length-1];Je.url="mailto:"+this.sliceSerialize(we)}function Fi(){return{type:"blockquote",children:[]}}function $n(){return{type:"code",lang:null,meta:null,value:""}}function mi(){return{type:"inlineCode",value:""}}function gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Go(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:void 0,children:[]}}function Wi(){return{type:"break"}}function Ss(){return{type:"html",value:""}}function ro(){return{type:"image",title:null,url:"",alt:null}}function Wr(){return{type:"link",title:null,url:"",children:[]}}function Lo(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function io(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function bi(){return{type:"paragraph",children:[]}}function Ro(){return{type:"strong",children:[]}}function sa(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function JL(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?JL(e,i):gK(e,i)}return e}function gK(e,t){let n;for(n in t)if(s4.call(t,n)){const i=n==="canContainEols"||n==="transforms",l=(s4.call(e,n)?e[n]:void 0)||(e[n]=i?[]:{}),o=t[n];o&&(i?e[n]=[...l,...o]:Object.assign(l,o))}}function C8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Cg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Cg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Cg({start:t.start,end:t.end})+") is still open")}function yK(e){Object.assign(this,{Parser:n=>{const i=this.data("settings");return dK(n,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Na=function(e,t,n){var i={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(i,t),Array.isArray(n)?i.children=n:n!=null&&(i.value=String(n)),i};const u_={}.hasOwnProperty;function vK(e,t){const n=t.data||{};return"value"in t&&!(u_.call(n,"hName")||u_.call(n,"hProperties")||u_.call(n,"hChildren"))?e.augment(t,Na("text",t.value)):e(t,"div",Ns(e,t))}function eR(e,t,n){const i=t&&t.type;let s;if(!i)throw new Error("Expected node, got `"+t+"`");return u_.call(e.handlers,i)?s=e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?s=_K:s=e.unknownHandler,(typeof s=="function"?s:vK)(e,t,n)}function _K(e,t){return"children"in t?{...t,children:Ns(e,t)}:t}function Ns(e,t){const n=[];if("children"in t){const i=t.children;let s=-1;for(;++s<i.length;){const l=eR(e,i[s],t);if(l){if(s&&i[s-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const o=l.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}const tR=function(e){if(e==null)return SK;if(typeof e=="string")return wK(e);if(typeof e=="object")return Array.isArray(e)?xK(e):bK(e);if(typeof e=="function")return Hx(e);throw new Error("Expected function, string, or object as test")};function xK(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tR(e[n]);return Hx(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].call(this,...s))return!0;return!1}}function bK(e){return Hx(t);function t(n){let i;for(i in e)if(n[i]!==e[i])return!1;return!0}}function wK(e){return Hx(t);function t(n){return n&&n.type===e}}function Hx(e){return t;function t(...n){return Boolean(e.call(this,...n))}}function SK(){return!0}const EK=!0,CK="skip",k8=!1,kK=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null);const s=tR(t),l=i?-1:1;o(e,null,[])();function o(x,S,T){const M=typeof x=="object"&&x!==null?x:{};let F;return typeof M.type=="string"&&(F=typeof M.tagName=="string"?M.tagName:typeof M.name=="string"?M.name:void 0,Object.defineProperty(z,"name",{value:"node ("+(M.type+(F?"<"+F+">":""))+")"})),z;function z(){let U=[],q,K,ee;if((!t||s(x,S,T[T.length-1]||null))&&(U=TK(n(x,T)),U[0]===k8))return U;if(x.children&&U[0]!==CK)for(K=(i?x.children.length:-1)+l,ee=T.concat(x);K>-1&&K<x.children.length;){if(q=o(x.children[K],K,ee)(),q[0]===k8)return q;K=typeof q[1]=="number"?q[1]:K+l}return U}}};function TK(e){return Array.isArray(e)?e:typeof e=="number"?[EK,e]:[e]}const jC=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null),kK(e,t,s,i);function s(l,o){const x=o[o.length-1];return n(l,x?x.children.indexOf(l):null,x)}},nR=iR("start"),rR=iR("end");function iR(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function PK(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const T8={}.hasOwnProperty;function IK(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return jC(e,"definition",i=>{const s=P8(i.identifier);s&&!T8.call(t,s)&&(t[s]=i)}),n;function n(i){const s=P8(i);return s&&T8.call(t,s)?t[s]:null}}function P8(e){return String(e||"").toUpperCase()}const OK={'"':"quot","&":"amp","<":"lt",">":"gt"};function MK(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+OK[n]+";"}}function oR(e,t){const n=MK(LK(e||""));if(!t)return n;const i=n.indexOf(":"),s=n.indexOf("?"),l=n.indexOf("#"),o=n.indexOf("/");return i<0||o>-1&&i>o||s>-1&&i>s||l>-1&&i>l||t.test(n.slice(0,i))?n:""}function LK(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Jl(e.charCodeAt(n+1))&&Jl(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const x=e.charCodeAt(n+1);l<56320&&x>56319&&x<57344?(o=String.fromCharCode(l,x),s=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(i,n),encodeURIComponent(o)),i=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function Sp(e,t){const n=[];let i=-1;for(t&&n.push(Na("text",`
`));++i<e.length;)i&&n.push(Na("text",`
`)),n.push(e[i]);return t&&e.length>0&&n.push(Na("text",`
`)),n}function RK(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const s=Ns(e,i),l=String(i.identifier),o=oR(l.toLowerCase());let x=0;const S=[];for(;++x<=e.footnoteCounts[l];){const F={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(x>1?"-"+x:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};x>1&&F.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(x)}]}),S.length>0&&S.push({type:"text",value:" "}),S.push(F)}const T=s[s.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const F=T.children[T.children.length-1];F&&F.type==="text"?F.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...S)}else s.push(...S);const M={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:Sp(s,!0)};i.position&&(M.position=i.position),n.push(M)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Na("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Sp(n,!0)},{type:"text",value:`
`}]}}function DK(e,t){return e(t,"blockquote",Sp(Ns(e,t),!0))}function FK(e,t){return[e(t,"br"),Na("text",`
`)]}function BK(e,t){const n=t.value?t.value+`
`:"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};i&&(s.className=["language-"+i]);const l=e(t,"code",s,[Na("text",n)]);return t.meta&&(l.data={meta:t.meta}),e(t.position,"pre",[l])}function zK(e,t){return e(t,"del",Ns(e,t))}function NK(e,t){return e(t,"em",Ns(e,t))}function aR(e,t){const n=String(t.identifier),i=oR(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l;s===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,l=e.footnoteOrder.length):(e.footnoteCounts[n]++,l=s+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Na("text",String(l))])])}function UK(e,t){const n=e.footnoteById;let i=1;for(;i in n;)i++;const s=String(i);return n[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:t.children}],position:t.position},aR(e,{type:"footnoteReference",identifier:s,position:t.position})}function jK(e,t){return e(t,"h"+t.depth,Ns(e,t))}function $K(e,t){return e.dangerous?e.augment(t,Na("raw",t.value)):null}var I8={};function VK(e){var t,n,i=I8[e];if(i)return i;for(i=I8[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function qx(e,t,n){var i,s,l,o,x,S="";for(typeof t!="string"&&(n=t,t=qx.defaultChars),typeof n>"u"&&(n=!0),x=VK(t),i=0,s=e.length;i<s;i++){if(l=e.charCodeAt(i),n&&l===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){S+=e.slice(i,i+3),i+=2;continue}if(l<128){S+=x[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<s&&(o=e.charCodeAt(i+1),o>=56320&&o<=57343)){S+=encodeURIComponent(e[i]+e[i+1]),i++;continue}S+="%EF%BF%BD";continue}S+=encodeURIComponent(e[i])}return S}qx.defaultChars=";/?:@&=+$,-_.!~*'()#";qx.componentChars="-_.!~*'()";var Gx=qx;function sR(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Na("text","!["+t.alt+i);const s=Ns(e,t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift(Na("text","["));const o=s[s.length-1];return o&&o.type==="text"?o.value+=i:s.push(Na("text",i)),s}function HK(e,t){const n=e.definition(t.identifier);if(!n)return sR(e,t);const i={src:Gx(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"img",i)}function qK(e,t){const n={src:Gx(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function GK(e,t){return e(t,"code",[Na("text",t.value.replace(/\r?\n|\r/g," "))])}function QK(e,t){const n=e.definition(t.identifier);if(!n)return sR(e,t);const i={href:Gx(n.url||"")};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"a",i,Ns(e,t))}function WK(e,t){const n={href:Gx(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,Ns(e,t))}function KK(e,t,n){const i=Ns(e,t),s=n?ZK(n):lR(t),l={},o=[];if(typeof t.checked=="boolean"){let T;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?T=i[0]:(T=e(null,"p",[]),i.unshift(T)),T.children.length>0&&T.children.unshift(Na("text"," ")),T.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),l.className=["task-list-item"]}let x=-1;for(;++x<i.length;){const T=i[x];(s||x!==0||T.type!=="element"||T.tagName!=="p")&&o.push(Na("text",`
`)),T.type==="element"&&T.tagName==="p"&&!s?o.push(...T.children):o.push(T)}const S=i[i.length-1];return S&&(s||!("tagName"in S)||S.tagName!=="p")&&o.push(Na("text",`
`)),e(t,"li",l,o)}function ZK(e){let t=e.spread;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=lR(n[i]);return Boolean(t)}function lR(e){const t=e.spread;return t??e.children.length>1}function XK(e,t){const n={},i=t.ordered?"ol":"ul",s=Ns(e,t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<s.length;){const o=s[l];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,i,n,Sp(s,!0))}function YK(e,t){return e(t,"p",Ns(e,t))}function JK(e,t){return e.augment(t,Na("root",Sp(Ns(e,t))))}function eZ(e,t){return e(t,"strong",Ns(e,t))}function tZ(e,t){const n=t.children;let i=-1;const s=t.align||[],l=[];for(;++i<n.length;){const o=n[i].children,x=i===0?"th":"td",S=[];let T=-1;const M=t.align?s.length:o.length;for(;++T<M;){const F=o[T];S.push(e(F,x,{align:s[T]},F?Ns(e,F):[]))}l[i]=e(n[i],"tr",Sp(S,!0))}return e(t,"table",Sp([e(l[0].position,"thead",Sp([l[0]],!0))].concat(l[1]?e({start:nR(l[1]),end:rR(l[l.length-1])},"tbody",Sp(l.slice(1),!0)):[]),!0))}const O8=9,M8=32;function nZ(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const l=[];for(;i;)l.push(L8(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return l.push(L8(t.slice(s),s>0,!1)),l.join("")}function L8(e,t,n){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===O8||l===M8;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(s-1);for(;l===O8||l===M8;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function rZ(e,t){return e.augment(t,Na("text",nZ(String(t.value))))}function iZ(e,t){return e(t,"hr")}const oZ={blockquote:DK,break:FK,code:BK,delete:zK,emphasis:NK,footnoteReference:aR,footnote:UK,heading:jK,html:$K,imageReference:HK,image:qK,inlineCode:GK,linkReference:QK,link:WK,listItem:KK,list:XK,paragraph:YK,root:JK,strong:eZ,table:tZ,text:rZ,thematicBreak:iZ,toml:P1,yaml:P1,definition:P1,footnoteDefinition:P1};function P1(){return null}const aZ={}.hasOwnProperty;function sZ(e,t){const n=t||{},i=n.allowDangerousHtml||!1,s={};return o.dangerous=i,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=IK(e),o.footnoteById=s,o.footnoteOrder=[],o.footnoteCounts={},o.augment=l,o.handlers={...oZ,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,jC(e,"footnoteDefinition",x=>{const S=String(x.identifier).toUpperCase();aZ.call(s,S)||(s[S]=x)}),o;function l(x,S){if(x&&"data"in x&&x.data){const T=x.data;T.hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=T.hName),S.type==="element"&&T.hProperties&&(S.properties={...S.properties,...T.hProperties}),"children"in S&&S.children&&T.hChildren&&(S.children=T.hChildren)}if(x){const T="type"in x?x:{position:x};PK(T)||(S.position={start:nR(T),end:rR(T)})}return S}function o(x,S,T,M){return Array.isArray(T)&&(M=T,T={}),l(x,{type:"element",tagName:S,properties:T||{},children:M||[]})}}function uR(e,t){const n=sZ(e,t),i=eR(n,e,null),s=RK(n);return s&&i.children.push(Na("text",`
`),s),Array.isArray(i)?{type:"root",children:i}:i}const lZ=function(e,t){return e&&"run"in e?cZ(e,t):fZ(e||t)},uZ=lZ;function cZ(e,t){return(n,i,s)=>{e.run(uR(n,t),i,l=>{s(l)})}}function fZ(e){return t=>uR(t,e)}class Fy{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}Fy.prototype.property={};Fy.prototype.normal={};Fy.prototype.space=null;function cR(e,t){const n={},i={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(i,e[s].normal);return new Fy(n,i,t)}function l4(e){return e.toLowerCase()}class Gu{constructor(t,n){this.property=t,this.attribute=n}}Gu.prototype.space=null;Gu.prototype.boolean=!1;Gu.prototype.booleanish=!1;Gu.prototype.overloadedBoolean=!1;Gu.prototype.number=!1;Gu.prototype.commaSeparated=!1;Gu.prototype.spaceSeparated=!1;Gu.prototype.commaOrSpaceSeparated=!1;Gu.prototype.mustUseProperty=!1;Gu.prototype.defined=!1;let pZ=0;const Br=od(),Pa=od(),fR=od(),sn=od(),wo=od(),O0=od(),Ql=od();function od(){return 2**++pZ}const u4=Object.freeze(Object.defineProperty({__proto__:null,boolean:Br,booleanish:Pa,commaOrSpaceSeparated:Ql,commaSeparated:O0,number:sn,overloadedBoolean:fR,spaceSeparated:wo},Symbol.toStringTag,{value:"Module"})),Ww=Object.keys(u4);class $C extends Gu{constructor(t,n,i,s){let l=-1;if(super(t,n),R8(this,"space",s),typeof i=="number")for(;++l<Ww.length;){const o=Ww[l];R8(this,Ww[l],(i&u4[o])===u4[o])}}}$C.prototype.defined=!0;function R8(e,t,n){n&&(e[t]=n)}const hZ={}.hasOwnProperty;function J0(e){const t={},n={};let i;for(i in e.properties)if(hZ.call(e.properties,i)){const s=e.properties[i],l=new $C(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[l4(i)]=i,n[l4(l.attribute)]=i}return new Fy(t,n,e.space)}const pR=J0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),hR=J0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function AR(e,t){return t in e?e[t]:t}function dR(e,t){return AR(e,t.toLowerCase())}const mR=J0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dR,properties:{xmlns:null,xmlnsXLink:null}}),gR=J0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Pa,ariaAutoComplete:null,ariaBusy:Pa,ariaChecked:Pa,ariaColCount:sn,ariaColIndex:sn,ariaColSpan:sn,ariaControls:wo,ariaCurrent:null,ariaDescribedBy:wo,ariaDetails:null,ariaDisabled:Pa,ariaDropEffect:wo,ariaErrorMessage:null,ariaExpanded:Pa,ariaFlowTo:wo,ariaGrabbed:Pa,ariaHasPopup:null,ariaHidden:Pa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wo,ariaLevel:sn,ariaLive:null,ariaModal:Pa,ariaMultiLine:Pa,ariaMultiSelectable:Pa,ariaOrientation:null,ariaOwns:wo,ariaPlaceholder:null,ariaPosInSet:sn,ariaPressed:Pa,ariaReadOnly:Pa,ariaRelevant:null,ariaRequired:Pa,ariaRoleDescription:wo,ariaRowCount:sn,ariaRowIndex:sn,ariaRowSpan:sn,ariaSelected:Pa,ariaSetSize:sn,ariaSort:null,ariaValueMax:sn,ariaValueMin:sn,ariaValueNow:sn,ariaValueText:null,role:null}}),AZ=J0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:O0,acceptCharset:wo,accessKey:wo,action:null,allow:null,allowFullScreen:Br,allowPaymentRequest:Br,allowUserMedia:Br,alt:null,as:null,async:Br,autoCapitalize:null,autoComplete:wo,autoFocus:Br,autoPlay:Br,capture:Br,charSet:null,checked:Br,cite:null,className:wo,cols:sn,colSpan:null,content:null,contentEditable:Pa,controls:Br,controlsList:wo,coords:sn|O0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Br,defer:Br,dir:null,dirName:null,disabled:Br,download:fR,draggable:Pa,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Br,formTarget:null,headers:wo,height:sn,hidden:Br,high:sn,href:null,hrefLang:null,htmlFor:wo,httpEquiv:wo,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Br,itemId:null,itemProp:wo,itemRef:wo,itemScope:Br,itemType:wo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Br,low:sn,manifest:null,max:null,maxLength:sn,media:null,method:null,min:null,minLength:sn,multiple:Br,muted:Br,name:null,nonce:null,noModule:Br,noValidate:Br,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Br,optimum:sn,pattern:null,ping:wo,placeholder:null,playsInline:Br,poster:null,preload:null,readOnly:Br,referrerPolicy:null,rel:wo,required:Br,reversed:Br,rows:sn,rowSpan:sn,sandbox:wo,scope:null,scoped:Br,seamless:Br,selected:Br,shape:null,size:sn,sizes:null,slot:null,span:sn,spellCheck:Pa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:sn,step:null,style:null,tabIndex:sn,target:null,title:null,translate:null,type:null,typeMustMatch:Br,useMap:null,value:Pa,width:sn,wrap:null,align:null,aLink:null,archive:wo,axis:null,background:null,bgColor:null,border:sn,borderColor:null,bottomMargin:sn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Br,declare:Br,event:null,face:null,frame:null,frameBorder:null,hSpace:sn,leftMargin:sn,link:null,longDesc:null,lowSrc:null,marginHeight:sn,marginWidth:sn,noResize:Br,noHref:Br,noShade:Br,noWrap:Br,object:null,profile:null,prompt:null,rev:null,rightMargin:sn,rules:null,scheme:null,scrolling:Pa,standby:null,summary:null,text:null,topMargin:sn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:sn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Br,disableRemotePlayback:Br,prefix:null,property:null,results:sn,security:null,unselectable:null}}),dZ=J0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:AR,properties:{about:Ql,accentHeight:sn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:sn,amplitude:sn,arabicForm:null,ascent:sn,attributeName:null,attributeType:null,azimuth:sn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:sn,by:null,calcMode:null,capHeight:sn,className:wo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:sn,diffuseConstant:sn,direction:null,display:null,dur:null,divisor:sn,dominantBaseline:null,download:Br,dx:null,dy:null,edgeMode:null,editable:null,elevation:sn,enableBackground:null,end:null,event:null,exponent:sn,externalResourcesRequired:null,fill:null,fillOpacity:sn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:O0,g2:O0,glyphName:O0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:sn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:sn,horizOriginX:sn,horizOriginY:sn,id:null,ideographic:sn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:sn,k:sn,k1:sn,k2:sn,k3:sn,k4:sn,kernelMatrix:Ql,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:sn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:sn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:sn,overlineThickness:sn,paintOrder:null,panose1:null,path:null,pathLength:sn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:sn,pointsAtY:sn,pointsAtZ:sn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ql,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ql,rev:Ql,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ql,requiredFeatures:Ql,requiredFonts:Ql,requiredFormats:Ql,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:sn,specularExponent:sn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:sn,strikethroughThickness:sn,string:null,stroke:null,strokeDashArray:Ql,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:sn,strokeOpacity:sn,strokeWidth:null,style:null,surfaceScale:sn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ql,tabIndex:sn,tableValues:null,target:null,targetX:sn,targetY:sn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ql,to:null,transform:null,u1:null,u2:null,underlinePosition:sn,underlineThickness:sn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:sn,values:null,vAlphabetic:sn,vMathematical:sn,vectorEffect:null,vHanging:sn,vIdeographic:sn,version:null,vertAdvY:sn,vertOriginX:sn,vertOriginY:sn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:sn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),mZ=/^data[-\w.:]+$/i,D8=/-[a-z]/g,gZ=/[A-Z]/g;function yZ(e,t){const n=l4(t);let i=t,s=Gu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mZ.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(D8,_Z);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!D8.test(l)){let o=l.replace(gZ,vZ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=$C}return new s(i,t)}function vZ(e){return"-"+e.toLowerCase()}function _Z(e){return e.charAt(1).toUpperCase()}const F8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xZ=cR([hR,pR,mR,gR,AZ],"html"),bZ=cR([hR,pR,mR,gR,dZ],"svg");function wZ(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{jC(t,"element",(n,i,s)=>{const l=s;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof i=="number"&&(o=!e.allowElement(n,i,l)),o&&typeof i=="number")return e.unwrapDisallowed&&n.children?l.children.splice(i,1,...n.children):l.children.splice(i,1),i})}}function SZ(e){var t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function EZ(e){return e.join(" ").trim()}function CZ(e,t){var n=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var u2={},kZ={get exports(){return u2},set exports(e){u2=e}},B8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,TZ=/\n/g,PZ=/^\s*/,IZ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,OZ=/^:\s*/,MZ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,LZ=/^[;\s]*/,RZ=/^\s+|\s+$/g,DZ=`
`,z8="/",N8="*",MA="",FZ="comment",BZ="declaration",zZ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function s(q){var K=q.match(TZ);K&&(n+=K.length);var ee=q.lastIndexOf(DZ);i=~ee?q.length-ee:i+q.length}function l(){var q={line:n,column:i};return function(K){return K.position=new o(q),T(),K}}function o(q){this.start=q,this.end={line:n,column:i},this.source=t.source}o.prototype.content=e;function x(q){var K=new Error(t.source+":"+n+":"+i+": "+q);if(K.reason=q,K.filename=t.source,K.line=n,K.column=i,K.source=e,!t.silent)throw K}function S(q){var K=q.exec(e);if(K){var ee=K[0];return s(ee),e=e.slice(ee.length),K}}function T(){S(PZ)}function M(q){var K;for(q=q||[];K=F();)K!==!1&&q.push(K);return q}function F(){var q=l();if(!(z8!=e.charAt(0)||N8!=e.charAt(1))){for(var K=2;MA!=e.charAt(K)&&(N8!=e.charAt(K)||z8!=e.charAt(K+1));)++K;if(K+=2,MA===e.charAt(K-1))return x("End of comment missing");var ee=e.slice(2,K-2);return i+=2,s(ee),e=e.slice(K),i+=2,q({type:FZ,comment:ee})}}function z(){var q=l(),K=S(IZ);if(K){if(F(),!S(OZ))return x("property missing ':'");var ee=S(MZ),V=q({type:BZ,property:U8(K[0].replace(B8,MA)),value:ee?U8(ee[0].replace(B8,MA)):MA});return S(LZ),V}}function U(){var q=[];M(q);for(var K;K=z();)K!==!1&&(q.push(K),M(q));return q}return T(),U()};function U8(e){return e?e.replace(RZ,MA):MA}var NZ=zZ;function yR(e,t){var n=null;if(!e||typeof e!="string")return n;for(var i,s=NZ(e),l=typeof t=="function",o,x,S=0,T=s.length;S<T;S++)i=s[S],o=i.property,x=i.value,l?t(o,x,i):x&&(n||(n={}),n[o]=x);return n}kZ.exports=yR;u2.default=yR;const UZ=u2,c4={}.hasOwnProperty,jZ=new Set(["table","thead","tbody","tfoot","tr"]);function vR(e,t){const n=[];let i=-1,s;for(;++i<t.children.length;)s=t.children[i],s.type==="element"?n.push($Z(e,s,i,t)):s.type==="text"?(t.type!=="element"||!jZ.has(t.tagName)||!SZ(s))&&n.push(s.value):s.type==="raw"&&!e.options.skipHtml&&n.push(s.value);return n}function $Z(e,t,n,i){const s=e.options,l=s.transformLinkUri===void 0?nQ:s.transformLinkUri,o=e.schema,x=t.tagName,S={};let T=o,M;if(o.space==="html"&&x==="svg"&&(T=bZ,e.schema=T),t.properties)for(M in t.properties)c4.call(t.properties,M)&&HZ(S,M,t.properties[M],e);(x==="ol"||x==="ul")&&e.listDepth++;const F=vR(e,t);(x==="ol"||x==="ul")&&e.listDepth--,e.schema=o;const z=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},U=s.components&&c4.call(s.components,x)?s.components[x]:x,q=typeof U=="string"||U===qn.Fragment;if(!Zq.isValidElementType(U))throw new TypeError(`Component for name \`${x}\` not defined or is not renderable`);if(S.key=[x,z.start.line,z.start.column,n].join("-"),x==="a"&&s.linkTarget&&(S.target=typeof s.linkTarget=="function"?s.linkTarget(String(S.href||""),t.children,typeof S.title=="string"?S.title:null):s.linkTarget),x==="a"&&l&&(S.href=l(String(S.href||""),t.children,typeof S.title=="string"?S.title:null)),!q&&x==="code"&&i.type==="element"&&i.tagName!=="pre"&&(S.inline=!0),!q&&(x==="h1"||x==="h2"||x==="h3"||x==="h4"||x==="h5"||x==="h6")&&(S.level=Number.parseInt(x.charAt(1),10)),x==="img"&&s.transformImageUri&&(S.src=s.transformImageUri(String(S.src||""),String(S.alt||""),typeof S.title=="string"?S.title:null)),!q&&x==="li"&&i.type==="element"){const K=VZ(t);S.checked=K&&K.properties?Boolean(K.properties.checked):null,S.index=Kw(i,t),S.ordered=i.tagName==="ol"}return!q&&(x==="ol"||x==="ul")&&(S.ordered=x==="ol",S.depth=e.listDepth),(x==="td"||x==="th")&&(S.align&&(S.style||(S.style={}),S.style.textAlign=S.align,delete S.align),q||(S.isHeader=x==="th")),!q&&x==="tr"&&i.type==="element"&&(S.isHeader=Boolean(i.tagName==="thead")),s.sourcePos&&(S["data-sourcepos"]=QZ(z)),!q&&s.rawSourcePos&&(S.sourcePosition=t.position),!q&&s.includeElementIndex&&(S.index=Kw(i,t),S.siblingCount=Kw(i)),q||(S.node=t),F.length>0?qn.createElement(U,S,F):qn.createElement(U,S)}function VZ(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function Kw(e,t){let n=-1,i=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&i++;return i}function HZ(e,t,n,i){const s=yZ(i.schema,t);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=s.commaSeparated?CZ(l):EZ(l)),s.property==="style"&&typeof l=="string"&&(l=qZ(l)),s.space&&s.property?e[c4.call(F8,s.property)?F8[s.property]:s.property]=l:s.attribute&&(e[s.attribute]=l))}function qZ(e){const t={};try{UZ(e,n)}catch{}return t;function n(i,s){const l=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[l.replace(/-([a-z])/g,GZ)]=s}}function GZ(e,t){return t.toUpperCase()}function QZ(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const j8={}.hasOwnProperty,WZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",I1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function _R(e){for(const l in I1)if(j8.call(I1,l)&&j8.call(e,l)){const o=I1[l];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${l}\` (see <${WZ}#${o.id}> for more info)`),delete I1[l]}const t=dQ().use(yK).use(e.remarkPlugins||[]).use(uZ,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(wZ,e),n=new zL;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(n),n);if(i.type!=="root")throw new TypeError("Expected a `root` node");let s=qn.createElement(qn.Fragment,{},vR({options:e,schema:xZ,listDepth:0},i));return e.className&&(s=qn.createElement("div",{className:e.className},s)),s}_R.propTypes={children:lr.string,className:lr.string,allowElement:lr.func,allowedElements:lr.arrayOf(lr.string),disallowedElements:lr.arrayOf(lr.string),unwrapDisallowed:lr.bool,remarkPlugins:lr.arrayOf(lr.oneOfType([lr.object,lr.func,lr.arrayOf(lr.oneOfType([lr.bool,lr.string,lr.object,lr.func,lr.arrayOf(lr.any)]))])),rehypePlugins:lr.arrayOf(lr.oneOfType([lr.object,lr.func,lr.arrayOf(lr.oneOfType([lr.bool,lr.string,lr.object,lr.func,lr.arrayOf(lr.any)]))])),sourcePos:lr.bool,rawSourcePos:lr.bool,skipHtml:lr.bool,includeElementIndex:lr.bool,transformLinkUri:lr.oneOfType([lr.func,lr.bool]),linkTarget:lr.oneOfType([lr.func,lr.string]),transformImageUri:lr.func,components:lr.object};function f4(){return f4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f4.apply(this,arguments)}var KZ=["decorators"],ZZ=0;function XZ(e,t,n){n===void 0&&(n="primitive"+ ++ZZ),t!=null||(t={set:function(M,F){return F},change:function(M,F){return F(M)}});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=function(M,F){if(M==null)return{};var z,U,q={},K=Object.keys(M);for(U=0;U<K.length;U++)F.indexOf(z=K[U])>=0||(q[z]=M[z]);return q}(i,KZ);(l=l.slice()).unshift(function(M){return function(F,z){var U;return z.tracks==null&&(z.tracks=[],(U=z).state!=null||(U.state=e)),F.actions.forEach(function(q){var K,ee=T.indexOf(q.type);ee!=-1&&(z==z&&(z=Object.assign({},z)),z.state=(K=t)[x[ee]].apply(K,[z.state].concat(q.payload)))}),z}});var x=Object.keys(t),S=Ry(x.reduce(function(M,F){return M[F]=function(){return[].slice.call(arguments)},M},{}),DC,f4({decorators:l},o)),T=x.map(function(M){return S[M].type});return S}var YZ=0;function JZ(e,t){return e===void 0&&(e=!1),t===void 0&&(t="boolean"+ ++YZ),XZ(e,{toggle:function(n){return!n},setTrue:function(){return!0},setFalse:function(){return!1},change:function(n,i){return i(n)},set:function(n,i){return i}},t)}function p4(){return p4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p4.apply(this,arguments)}var eX=["decorators"],tX=0;function xR(e,t,n){n===void 0&&(n="primitive"+ ++tX),t!=null||(t={set:function(M,F){return F},change:function(M,F){return F(M)}});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=function(M,F){if(M==null)return{};var z,U,q={},K=Object.keys(M);for(U=0;U<K.length;U++)F.indexOf(z=K[U])>=0||(q[z]=M[z]);return q}(i,eX);(l=l.slice()).unshift(function(M){return function(F,z){var U;return z.tracks==null&&(z.tracks=[],(U=z).state!=null||(U.state=e)),F.actions.forEach(function(q){var K,ee=T.indexOf(q.type);ee!=-1&&(z==z&&(z=Object.assign({},z)),z.state=(K=t)[x[ee]].apply(K,[z.state].concat(q.payload)))}),z}});var x=Object.keys(t),S=Ry(x.reduce(function(M,F){return M[F]=function(){return[].slice.call(arguments)},M},{}),DC,p4({decorators:l},o)),T=x.map(function(M){return S[M].type});return S}const nX={APP_LOGIN:"app_login",ANALYTICS_PANEL:"analytics_panel",ADVANCED_ANALYTICS_PANEL:"advanced_analytics_panel",EVENTS_LIST:"events_list",FEED_SELECTOR:"feed_selector",EVENTS_LIST__FEED_SELECTOR:"events_list__feed_selector",EVENTS_LIST__BBOX_FILTER:"events_list__bbox_filter",MAP_LAYERS_PANEL:"map_layers_panel",SIDE_BAR:"side_bar",BIVARIATE_MANAGER:"bivariate_manager",CURRENT_EVENT:"current_event",FOCUSED_GEOMETRY_LAYER:"focused_geometry_layer",LAYERS_IN_AREA:"layers_in_area",MAP_RULER:"map_ruler",TOASTS:"toasts",BOUNDARY_SELECTOR:"boundary_selector",DRAW_TOOLS:"draw_tools",FOCUSED_GEOMETRY_EDITOR:"focused_geometry_editor",GEOMETRY_UPLOADER:"geometry_uploader",LEGEND_PANEL:"legend_panel",REPORTS:"reports",INTERACTIVE_MAP:"interactive_map",CURRENT_EPISODE:"current_episode",GEOCODER:"geocoder",EPISODE_LIST:"episode_list",COMMUNITIES:"communities",FEATURE_SETTINGS:"feature_settings",OSM_EDIT_LINK:"osm_edit_link",TOOLTIP:"tooltip",CREATE_LAYER:"create_layer",HEADER:"header",INTERCOM:"intercom",BIVARIATE_COLOR_MANAGER:"bivariate_color_manager",EPISODES_TIMELINE:"episodes_timeline",LOCATE_ME:"locate_me",USE_3RDPARTY_ANALYTICS:"use_3rdparty_analytics"},rX="METRICS";function iX(e,t){if(!globalThis.CustomEvent)return;const n=new CustomEvent(rX,{detail:{name:e,payload:t}});globalThis.dispatchEvent(n)}var EP;const bR=!!((EP=globalThis.window)!=null&&EP.localStorage.getItem("KONTUR_DEBUG"));var CP;(CP=globalThis.window)!=null&&CP.localStorage.getItem("KONTUR_METRICS_DEBUG");var kP;const oX=!!((kP=globalThis.window)!=null&&kP.localStorage.getItem("KONTUR_WARN"));var TP;const $8=(TP=globalThis.window)==null?void 0:TP.localStorage.getItem("KONTUR_TRACE_TYPE");var PP;const aX=!!((PP=globalThis.window)!=null&&PP.localStorage.getItem("KONTUR_TRACE_PATCH"));function sX(e){var n;const t=`\x1B[94m${Math.trunc(performance.now())}\x1B[m `;(n=e.actions.filter(i=>!i.type.startsWith("invalidate ")))==null||n.map(i=>{var s;if(((s=i.targets)==null?void 0:s.length)===1){const l=String(i.targets[0].id);if(i.type.endsWith(l)){const o=i.type.substring(0,i.type.length-l.length-1),x={_error:"\x1B[30;101m",_done:"\x1B[30;102m"}[o]??"\x1B[22;31m";console.warn(`${t}\x1B[1;32m${l} ${x}${o}\x1B[m`,i.payload,{"+":e.causes})}}else console.warn(`${t}\x1B[1;32m${i.type}\x1B[m`,i.payload,i.targets,{"+":e.causes})})}function lX(){return RL({onPatch:e=>{{aX&&sX(e);for(const t of e.actions)t.type.includes("invalidate")||(iX(t.type,t.payload),$8&&t.type.includes($8)&&console.trace("TRACE:",t.type,e),bR&&console.debug(t.type,t.payload),oX&&console.warn(t.type,t.payload))}}})}const wR=lX(),Qx=e=>({store:wR,...typeof e=="string"?{id:e}:e}),Mo=(e,t,n)=>Ry(e,t,Qx(n)),SR=(e,t)=>JZ(e,Qx(t));let ER=0;function CR(e=new Set,t=`set${++ER}`){return xR(e,{set:(n,i)=>n.has(i)?n:new Set(n).add(i),delete:(n,i)=>{const s=n=new Set(n);return s.delete(i)?s:n},clear:()=>new Set,change:(n,i)=>i(new Set(n))},Qx(t))}function em(e=new Map,t=`map${++ER}`){return xR(e,{set:(n,i,s)=>n.get(i)===s?n:new Map(n).set(i,s),delete:(n,i)=>{const s=n=new Map(n);return s.delete(i)?s:n},clear:()=>new Map,change:(n,i)=>i(new Map(n))},Qx(t))}const py=Mo({setCurrentTooltip:e=>e,resetCurrentTooltip:()=>null,turnOffById:e=>e},({onAction:e},t=null)=>(e("setCurrentTooltip",n=>t=n),e("resetCurrentTooltip",()=>t=null),e("turnOffById",n=>{(t==null?void 0:t.initiatorId)===n&&(t=null)}),t),"[Shared state] currentTooltipAtom");function uX(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function cX(e,t){e.classList?e.classList.add(t):uX(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function V8(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fX(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=V8(e.className,t):e.setAttribute("class",V8(e.className&&e.className.baseVal||"",t))}const H8={disabled:!1},kR=qn.createContext(null);var TR=function(t){return t.scrollTop},cg="unmounted",PA="exited",IA="entering",r0="entered",h4="exiting",Mp=function(e){$u(t,e);function t(i,s){var l;l=e.call(this,i,s)||this;var o=s,x=o&&!o.isMounting?i.enter:i.appear,S;return l.appearStatus=null,i.in?x?(S=PA,l.appearStatus=IA):S=r0:i.unmountOnExit||i.mountOnEnter?S=cg:S=PA,l.state={status:S},l.nextCallback=null,l}t.getDerivedStateFromProps=function(s,l){var o=s.in;return o&&l.status===cg?{status:PA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var l=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==IA&&o!==r0&&(l=IA):(o===IA||o===r0)&&(l=h4)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,l,o,x;return l=o=x=s,s!=null&&typeof s!="number"&&(l=s.exit,o=s.enter,x=s.appear!==void 0?s.appear:o),{exit:l,enter:o,appear:x}},n.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===IA){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:h1.findDOMNode(this);o&&TR(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===PA&&this.setState({status:cg})},n.performEnter=function(s){var l=this,o=this.props.enter,x=this.context?this.context.isMounting:s,S=this.props.nodeRef?[x]:[h1.findDOMNode(this),x],T=S[0],M=S[1],F=this.getTimeouts(),z=x?F.appear:F.enter;if(!s&&!o||H8.disabled){this.safeSetState({status:r0},function(){l.props.onEntered(T)});return}this.props.onEnter(T,M),this.safeSetState({status:IA},function(){l.props.onEntering(T,M),l.onTransitionEnd(z,function(){l.safeSetState({status:r0},function(){l.props.onEntered(T,M)})})})},n.performExit=function(){var s=this,l=this.props.exit,o=this.getTimeouts(),x=this.props.nodeRef?void 0:h1.findDOMNode(this);if(!l||H8.disabled){this.safeSetState({status:PA},function(){s.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:h4},function(){s.props.onExiting(x),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:PA},function(){s.props.onExited(x)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},n.setNextCallback=function(s){var l=this,o=!0;return this.nextCallback=function(x){o&&(o=!1,l.nextCallback=null,s(x))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,l){this.setNextCallback(l);var o=this.props.nodeRef?this.props.nodeRef.current:h1.findDOMNode(this),x=s==null&&!this.props.addEndListener;if(!o||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],T=S[0],M=S[1];this.props.addEndListener(T,M)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===cg)return null;var l=this.props,o=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var x=id(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qn.createElement(kR.Provider,{value:null},typeof o=="function"?o(s,x):qn.cloneElement(qn.Children.only(o),x))},t}(qn.Component);Mp.contextType=kR;Mp.propTypes={};function qd(){}Mp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qd,onEntering:qd,onEntered:qd,onExit:qd,onExiting:qd,onExited:qd};Mp.UNMOUNTED=cg;Mp.EXITED=PA;Mp.ENTERING=IA;Mp.ENTERED=r0;Mp.EXITING=h4;const pX=Mp;var hX=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return cX(t,i)})},Zw=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return fX(t,i)})},VC=function(e){$u(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(x,S){var T=i.resolveArguments(x,S),M=T[0],F=T[1];i.removeClasses(M,"exit"),i.addClass(M,F?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(x,S)},i.onEntering=function(x,S){var T=i.resolveArguments(x,S),M=T[0],F=T[1],z=F?"appear":"enter";i.addClass(M,z,"active"),i.props.onEntering&&i.props.onEntering(x,S)},i.onEntered=function(x,S){var T=i.resolveArguments(x,S),M=T[0],F=T[1],z=F?"appear":"enter";i.removeClasses(M,z),i.addClass(M,z,"done"),i.props.onEntered&&i.props.onEntered(x,S)},i.onExit=function(x){var S=i.resolveArguments(x),T=S[0];i.removeClasses(T,"appear"),i.removeClasses(T,"enter"),i.addClass(T,"exit","base"),i.props.onExit&&i.props.onExit(x)},i.onExiting=function(x){var S=i.resolveArguments(x),T=S[0];i.addClass(T,"exit","active"),i.props.onExiting&&i.props.onExiting(x)},i.onExited=function(x){var S=i.resolveArguments(x),T=S[0];i.removeClasses(T,"exit"),i.addClass(T,"exit","done"),i.props.onExited&&i.props.onExited(x)},i.resolveArguments=function(x,S){return i.props.nodeRef?[i.props.nodeRef.current,x]:[x,S]},i.getClassNames=function(x){var S=i.props.classNames,T=typeof S=="string",M=T&&S?S+"-":"",F=T?""+M+x:S[x],z=T?F+"-active":S[x+"Active"],U=T?F+"-done":S[x+"Done"];return{baseClassName:F,activeClassName:z,doneClassName:U}},i}var n=t.prototype;return n.addClass=function(s,l,o){var x=this.getClassNames(l)[o+"ClassName"],S=this.getClassNames("enter"),T=S.doneClassName;l==="appear"&&o==="done"&&T&&(x+=" "+T),o==="active"&&s&&TR(s),x&&(this.appliedClasses[l][o]=x,hX(s,x))},n.removeClasses=function(s,l){var o=this.appliedClasses[l],x=o.base,S=o.active,T=o.done;this.appliedClasses[l]={},x&&Zw(s,x),S&&Zw(s,S),T&&Zw(s,T)},n.render=function(){var s=this.props;s.classNames;var l=id(s,["classNames"]);return qn.createElement(pX,bs({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(qn.Component);VC.defaultProps={classNames:""};VC.propTypes={};const AX=VC;function Uh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const dX="_fadeEnter_1fjeq_1",mX="_fadeEnterActive_1fjeq_5",gX="_fadeExit_1fjeq_10",yX="_fadeExitActive_1fjeq_14",O1={fadeEnter:dX,fadeEnterActive:mX,fadeExit:gX,fadeExitActive:yX},vX={enter:O1.fadeEnter,enterActive:O1.fadeEnterActive,exit:O1.fadeExit,exitActive:O1.fadeExitActive},_X=({children:e,...t})=>{const n=$t.useRef(null);return wt(AX,{...t,nodeRef:n,children:e(n)})};function xX(e){if(!e)return"";let t=e;const n=/(.?.?https|.?.?http)(:\/\/)([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm,i=e.matchAll(n);let s=0;return[...i].forEach(l=>{const[o,x,,S,T]=l,M=l.index??0,F=o.length;if(o.startsWith("](")||o.indexOf("[http")>-1)return;const z=o.indexOf("http"),U=o.substring(z),q=o.substring(0,z),K=S.replace("www.",""),ee=`${q}[${K}${T??""}](${U})`,V=bX(t)(M+s,F,ee);s+=ee.length-F,t=V}),t}function bX(e){return function(t,n,i){return t<0&&(t+=e.length,t<0&&(t=0)),e.slice(0,t)+(i||"")+e.slice(t+n)}}const PR=$t.memo(function(e){return wt("a",{href:e.href,target:"_blank",rel:"noreferrer",onClick:wX,children:e.children})});function wX(e){e.stopPropagation()}PR.displayName="LinkRenderer";const q8=vL(),SX=Mo({_set:e=>e},({onAction:e,onInit:t,schedule:n,create:i},s=q8.location)=>(t(()=>{n(l=>{q8.listen(o=>{l(i("_set",o))})})}),e("_set",l=>s=l),s),"currentLocationAtom"),EX=Mo({currentLocationAtom:SX},({onChange:e,schedule:t,getUnlistedState:n})=>{e("currentLocationAtom",(i,s)=>{const l=n(py);i.pathname!==(s==null?void 0:s.pathname)&&(l!=null&&l.position)&&t(o=>{o(py.resetCurrentTooltip())})})}),CX="_markdown_mj6ia_1",kX={markdown:CX};function IR(){const[e,{resetCurrentTooltip:t}]=J6(py);J6(EX);const n=$t.useCallback(s=>{var l;t(),(l=e==null?void 0:e.onClose)==null||l.call(e,s,t)},[t,e]),i=$t.useCallback(s=>{var l;(l=e==null?void 0:e.onOuterClick)==null||l.call(e,s,t)},[t,e]);return wt(_X,{in:Boolean(e),timeout:300,classNames:vX,children:s=>wt(ux,{children:e&&wt(Tq,{transitionRef:s,position:e.position,hoverBehavior:e.hoverBehavior,getPlacement:e.position.predefinedPosition,classes:e.popupClasses,onClose:n,onOuterClick:i,children:typeof e.popup=="string"?wt(_R,{components:{a:PR},className:kX.markdown,children:xX(e.popup)}):e.popup})})})}function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TX(e,t){if(Lc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Lc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OR(e){var t=TX(e,"string");return Lc(t)==="symbol"?t:String(t)}function G8(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OR(i.key),i)}}function Wu(e,t,n){return t&&G8(e.prototype,t),n&&G8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o2(e,t)}function By(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uh(e)}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}function Lp(e,t,n){return t=OR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){if(Array.isArray(e))return e}function IX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function OX(e,t){if(e){if(typeof e=="string")return Q8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q8(e,t)}}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(e){return PX(e)||IX(e)||OX(e)||MX()}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function K8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var RX={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},DX=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.init(t,n)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=n||RX,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,i,s,l){return l&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[i](n))}},{key:"create",value:function(n){return new e(this.logger,K8(K8({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),bf=new DX,qh=function(){function e(){Qu(this,e),this.observers={}}return Wu(e,[{key:"on",value:function(n,i){var s=this;return n.split(" ").forEach(function(l){s.observers[l]=s.observers[l]||[],s.observers[l].push(i)}),this}},{key:"off",value:function(n,i){if(this.observers[n]){if(!i){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==i})}}},{key:"emit",value:function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(S){S.apply(void 0,s)})}if(this.observers["*"]){var x=[].concat(this.observers["*"]);x.forEach(function(S){S.apply(S,[n].concat(s))})}}}]),e}();function Zm(){var e,t,n=new Promise(function(i,s){e=i,t=s});return n.resolve=e,n.reject=t,n}function Z8(e){return e==null?"":""+e}function FX(e,t,n){e.forEach(function(i){t[i]&&(n[i]=t[i])})}function HC(e,t,n){function i(x){return x&&x.indexOf("###")>-1?x.replace(/###/g,"."):x}function s(){return!e||typeof e=="string"}for(var l=typeof t!="string"?[].concat(t):t.split(".");l.length>1;){if(s())return{};var o=i(l.shift());!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={}}return s()?{}:{obj:e,k:i(l.shift())}}function X8(e,t,n){var i=HC(e,t,Object),s=i.obj,l=i.k;s[l]=n}function BX(e,t,n,i){var s=HC(e,t,Object),l=s.obj,o=s.k;l[o]=l[o]||[],i&&(l[o]=l[o].concat(n)),i||l[o].push(n)}function c2(e,t){var n=HC(e,t),i=n.obj,s=n.k;if(i)return i[s]}function Y8(e,t,n){var i=c2(e,n);return i!==void 0?i:c2(t,n)}function MR(e,t,n){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?n&&(e[i]=t[i]):MR(e[i],t[i],n):e[i]=t[i]);return e}function Gd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function NX(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return zX[t]}):e}var Kx=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,UX=[" ",",","?","!",";"];function jX(e,t,n){t=t||"",n=n||"";var i=UX.filter(function(x){return t.indexOf(x)<0&&n.indexOf(x)<0});if(i.length===0)return!0;var s=new RegExp("(".concat(i.map(function(x){return x==="?"?"\\?":x}).join("|"),")")),l=!s.test(e);if(!l){var o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(l=!0)}return l}function J8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $X(e){var t=VX();return function(){var i=Tf(e),s;if(t){var l=Tf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function VX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LR(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),s=e,l=0;l<i.length;++l){if(!s||typeof s[i[l]]=="string"&&l+1<i.length)return;if(s[i[l]]===void 0){for(var o=2,x=i.slice(l,l+o).join(n),S=s[x];S===void 0&&i.length>l+o;)o++,x=i.slice(l,l+o).join(n),S=s[x];if(S===void 0)return;if(S===null)return null;if(t.endsWith(x)){if(typeof S=="string")return S;if(x&&typeof S[x]=="string")return S[x]}var T=i.slice(l+o).join(n);return T?LR(S,T,n):void 0}s=s[i[l]]}return s}}var HX=function(e){Wx(n,e);var t=$X(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Qu(this,n),s=t.call(this),Kx&&qh.call(Uh(s)),s.data=i||{},s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Wu(n,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,T=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure,M=[s,l];o&&typeof o!="string"&&(M=M.concat(o)),o&&typeof o=="string"&&(M=M.concat(S?o.split(S):o)),s.indexOf(".")>-1&&(M=s.split("."));var F=c2(this.data,M);return F||!T||typeof o!="string"?F:LR(this.data&&this.data[s]&&this.data[s][l],o,S)}},{key:"addResource",value:function(s,l,o,x){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},T=this.options.keySeparator;T===void 0&&(T=".");var M=[s,l];o&&(M=M.concat(T?o.split(T):o)),s.indexOf(".")>-1&&(M=s.split("."),x=l,l=M[1]),this.addNamespaces(l),X8(this.data,M,x),S.silent||this.emit("added",s,l,o,x)}},{key:"addResources",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in o)(typeof o[S]=="string"||Object.prototype.toString.apply(o[S])==="[object Array]")&&this.addResource(s,l,S,o[S],{silent:!0});x.silent||this.emit("added",s,l,o)}},{key:"addResourceBundle",value:function(s,l,o,x,S){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},M=[s,l];s.indexOf(".")>-1&&(M=s.split("."),x=o,o=l,l=M[1]),this.addNamespaces(l);var F=c2(this.data,M)||{};x?MR(F,o,S):F=M1(M1({},F),o),X8(this.data,M,F),T.silent||this.emit("added",s,l,o)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?M1(M1({},{}),this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var l=this.getDataByLanguage(s),o=l&&Object.keys(l)||[];return!!o.find(function(x){return l[x]&&Object.keys(l[x]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(qh),RR={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,i,s,l){var o=this;return t.forEach(function(x){o.processors[x]&&(n=o.processors[x].process(n,i,s,l))}),n}};function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qX(e){var t=GX();return function(){var i=Tf(e),s;if(t){var l=Tf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function GX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var tT={},nT=function(e){Wx(n,e);var t=qX(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qu(this,n),s=t.call(this),Kx&&qh.call(Uh(s)),FX(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,Uh(s)),s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=bf.create("translator"),s}return Wu(n,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var o=this.resolve(s,l);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(s,l){var o=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var x=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,S=l.ns||this.options.defaultNS||[],T=o&&s.indexOf(o)>-1,M=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!jX(s,o,x);if(T&&!M){var F=s.match(this.interpolator.nestingRegexp);if(F&&F.length>0)return{key:s,namespaces:S};var z=s.split(o);(o!==x||o===x&&this.options.ns.indexOf(z[0])>-1)&&(S=z.shift()),s=z.join(x)}return typeof S=="string"&&(S=[S]),{key:s,namespaces:S}}},{key:"translate",value:function(s,l,o){var x=this;if(Lc(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var S=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,T=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,M=this.extractFromKey(s[s.length-1],l),F=M.key,z=M.namespaces,U=z[z.length-1],q=l.lng||this.language,K=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(q&&q.toLowerCase()==="cimode"){if(K){var ee=l.nsSeparator||this.options.nsSeparator;return S?(V.res="".concat(U).concat(ee).concat(F),V):"".concat(U).concat(ee).concat(F)}return S?(V.res=F,V):F}var V=this.resolve(s,l),X=V&&V.res,ne=V&&V.usedKey||F,he=V&&V.exactUsedKey||F,pe=Object.prototype.toString.apply(X),le=["[object Number]","[object Function]","[object RegExp]"],be=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,Se=!this.i18nFormat||this.i18nFormat.handleAsObject,De=typeof X!="string"&&typeof X!="boolean"&&typeof X!="number";if(Se&&X&&De&&le.indexOf(pe)<0&&!(typeof be=="string"&&pe==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var tt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ne,X,el(el({},l),{},{ns:z})):"key '".concat(F," (").concat(this.language,")' returned an object instead of string.");return S?(V.res=tt,V):tt}if(T){var Xe=pe==="[object Array]",at=Xe?[]:{},yt=Xe?he:ne;for(var Ot in X)if(Object.prototype.hasOwnProperty.call(X,Ot)){var Vt="".concat(yt).concat(T).concat(Ot);at[Ot]=this.translate(Vt,el(el({},l),{joinArrays:!1,ns:z})),at[Ot]===Vt&&(at[Ot]=X[Ot])}X=at}}else if(Se&&typeof be=="string"&&pe==="[object Array]")X=X.join(be),X&&(X=this.extendTranslation(X,s,l,o));else{var Jt=!1,bn=!1,st=l.count!==void 0&&typeof l.count!="string",Me=n.hasDefaultValue(l),Le=st?this.pluralResolver.getSuffix(q,l.count,l):"",re=l["defaultValue".concat(Le)]||l.defaultValue;!this.isValidLookup(X)&&Me&&(Jt=!0,X=re),this.isValidLookup(X)||(bn=!0,X=F);var ge=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Mt=ge&&bn?void 0:X,en=Me&&re!==X&&this.options.updateMissing;if(bn||Jt||en){if(this.logger.log(en?"updateKey":"missingKey",q,U,F,en?re:X),T){var vn=this.resolve(F,el(el({},l),{},{keySeparator:!1}));vn&&vn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var dn=[],En=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&En&&En[0])for(var jn=0;jn<En.length;jn++)dn.push(En[jn]);else this.options.saveMissingTo==="all"?dn=this.languageUtils.toResolveHierarchy(l.lng||this.language):dn.push(l.lng||this.language);var Fn=function(jr,Fi,$n){var mi=Me&&$n!==X?$n:Mt;x.options.missingKeyHandler?x.options.missingKeyHandler(jr,U,Fi,mi,en,l):x.backendConnector&&x.backendConnector.saveMissing&&x.backendConnector.saveMissing(jr,U,Fi,mi,en,l),x.emit("missingKey",jr,U,Fi,X)};this.options.saveMissing&&(this.options.saveMissingPlurals&&st?dn.forEach(function(Xr){x.pluralResolver.getSuffixes(Xr,l).forEach(function(jr){Fn([Xr],F+jr,l["defaultValue".concat(jr)]||re)})}):Fn(dn,F,re))}X=this.extendTranslation(X,s,l,V,o),bn&&X===F&&this.options.appendNamespaceToMissingKey&&(X="".concat(U,":").concat(F)),(bn||Jt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?X=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(U,":").concat(F):F,Jt?X:void 0):X=this.options.parseMissingKeyHandler(X))}return S?(V.res=X,V):X}},{key:"extendTranslation",value:function(s,l,o,x,S){var T=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,el(el({},this.options.interpolation.defaultVariables),o),x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(el(el({},o),{interpolation:el(el({},this.options.interpolation),o.interpolation)}));var M=typeof s=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),F;if(M){var z=s.match(this.interpolator.nestingRegexp);F=z&&z.length}var U=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(U=el(el({},this.options.interpolation.defaultVariables),U)),s=this.interpolator.interpolate(s,U,o.lng||this.language,o),M){var q=s.match(this.interpolator.nestingRegexp),K=q&&q.length;F<K&&(o.nest=!1)}o.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var X=arguments.length,ne=new Array(X),he=0;he<X;he++)ne[he]=arguments[he];return S&&S[0]===ne[0]&&!o.context?(T.logger.warn("It seems you are nesting recursively key: ".concat(ne[0]," in key: ").concat(l[0])),null):T.translate.apply(T,ne.concat([l]))},o)),o.interpolation&&this.interpolator.reset()}var ee=o.postProcess||this.options.postProcess,V=typeof ee=="string"?[ee]:ee;return s!=null&&V&&V.length&&o.applyPostProcessor!==!1&&(s=RR.handle(V,s,l,this.options&&this.options.postProcessPassResolved?el({i18nResolved:x},o):o,this)),s}},{key:"resolve",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,S,T,M,F;return typeof s=="string"&&(s=[s]),s.forEach(function(z){if(!l.isValidLookup(x)){var U=l.extractFromKey(z,o),q=U.key;S=q;var K=U.namespaces;l.options.fallbackNS&&(K=K.concat(l.options.fallbackNS));var ee=o.count!==void 0&&typeof o.count!="string",V=ee&&!o.ordinal&&o.count===0&&l.pluralResolver.shouldUseIntlApi(),X=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",ne=o.lngs?o.lngs:l.languageUtils.toResolveHierarchy(o.lng||l.language,o.fallbackLng);K.forEach(function(he){l.isValidLookup(x)||(F=he,!tT["".concat(ne[0],"-").concat(he)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(F)&&(tT["".concat(ne[0],"-").concat(he)]=!0,l.logger.warn('key "'.concat(S,'" for languages "').concat(ne.join(", "),`" won't get resolved as namespace "`).concat(F,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ne.forEach(function(pe){if(!l.isValidLookup(x)){M=pe;var le=[q];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(le,q,pe,he,o);else{var be;ee&&(be=l.pluralResolver.getSuffix(pe,o.count,o));var Se="".concat(l.options.pluralSeparator,"zero");if(ee&&(le.push(q+be),V&&le.push(q+Se)),X){var De="".concat(q).concat(l.options.contextSeparator).concat(o.context);le.push(De),ee&&(le.push(De+be),V&&le.push(De+Se))}}for(var tt;tt=le.pop();)l.isValidLookup(x)||(T=tt,x=l.getResource(pe,he,tt,o))}}))})}}),{res:x,usedKey:S,exactUsedKey:T,usedLng:M,usedNS:F}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,o,x):this.resourceStore.getResource(s,l,o,x)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var o in s)if(Object.prototype.hasOwnProperty.call(s,o)&&l===o.substring(0,l.length)&&s[o]!==void 0)return!0;return!1}}]),n}(qh);function Xw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var rT=function(){function e(t){Qu(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bf.create("languageUtils")}return Wu(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var i=n.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var i=n.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(l){return l.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Xw(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Xw(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=Xw(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var i=this;if(!n)return null;var s;return n.forEach(function(l){if(!s){var o=i.formatLanguageCode(l);(!i.options.supportedLngs||i.isSupportedCode(o))&&(s=o)}}),!s&&this.options.supportedLngs&&n.forEach(function(l){if(!s){var o=i.getLanguagePartFromCode(l);if(i.isSupportedCode(o))return s=o;s=i.options.supportedLngs.find(function(x){if(x.indexOf(o)===0)return x})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,i){if(!n)return[];if(typeof n=="function"&&(n=n(i)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!i)return n.default||[];var s=n[i];return s||(s=n[this.getScriptPartFromCode(i)]),s||(s=n[this.formatLanguageCode(i)]),s||(s=n[this.getLanguagePartFromCode(i)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,i){var s=this,l=this.getFallbackCodes(i||this.options.fallbackLng||[],n),o=[],x=function(T){T&&(s.isSupportedCode(T)?o.push(T):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(T)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(n))):typeof n=="string"&&x(this.formatLanguageCode(n)),l.forEach(function(S){o.indexOf(S)<0&&x(s.formatLanguageCode(S))}),o}}]),e}(),QX=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],WX={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},KX=["v1","v2","v3"],iT={zero:0,one:1,two:2,few:3,many:4,other:5};function ZX(){var e={};return QX.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:WX[t.fc]}})}),e}var XX=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.languageUtils=t,this.options=n,this.logger=bf.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ZX()}return Wu(e,[{key:"addRule",value:function(n,i){this.rules[n]=i}},{key:"getRule",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(function(l){return"".concat(i).concat(l)})}},{key:"getSuffixes",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(o,x){return iT[o]-iT[x]}).map(function(o){return"".concat(i.options.prepend).concat(o)}):l.numbers.map(function(o){return i.getSuffix(n,o,s)}):[]}},{key:"getSuffix",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(i)):this.getSuffixRetroCompatible(l,i):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,i){var s=this,l=n.noAbs?n.plurals(i):n.plurals(Math.abs(i)),o=n.numbers[l];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var x=function(){return s.options.prepend&&o.toString()?s.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):x():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?x():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!KX.includes(this.options.compatibilityJSON)}}]),e}();function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var YX=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qu(this,e),this.logger=bf.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Wu(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var i=n.interpolation;this.escape=i.escape!==void 0?i.escape:NX,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Gd(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Gd(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Gd(i.nestingPrefix):i.nestingPrefixEscaped||Gd("$t("),this.nestingSuffix=i.nestingSuffix?Gd(i.nestingSuffix):i.nestingSuffixEscaped||Gd(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,i,s,l){var o=this,x,S,T,M=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function F(ee){return ee.replace(/\$/g,"$$$$")}var z=function(V){if(V.indexOf(o.formatSeparator)<0){var X=Y8(i,M,V);return o.alwaysFormat?o.format(X,void 0,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:V})):X}var ne=V.split(o.formatSeparator),he=ne.shift().trim(),pe=ne.join(o.formatSeparator).trim();return o.format(Y8(i,M,he),pe,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:he}))};this.resetRegExp();var U=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,q=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,K=[{regex:this.regexpUnescape,safeValue:function(V){return F(V)}},{regex:this.regexp,safeValue:function(V){return o.escapeValue?F(o.escape(V)):F(V)}}];return K.forEach(function(ee){for(T=0;x=ee.regex.exec(n);){var V=x[1].trim();if(S=z(V),S===void 0)if(typeof U=="function"){var X=U(n,x,l);S=typeof X=="string"?X:""}else if(l&&l.hasOwnProperty(V))S="";else if(q){S=x[0];continue}else o.logger.warn("missed to pass in variable ".concat(V," for interpolating ").concat(n)),S="";else typeof S!="string"&&!o.useRawValueToEscape&&(S=Z8(S));var ne=ee.safeValue(S);if(n=n.replace(x[0],ne),q?(ee.regex.lastIndex+=S.length,ee.regex.lastIndex-=x[0].length):ee.regex.lastIndex=0,T++,T>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,i){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,x,S;function T(U,q){var K=this.nestingOptionsSeparator;if(U.indexOf(K)<0)return U;var ee=U.split(new RegExp("".concat(K,"[ ]*{"))),V="{".concat(ee[1]);U=ee[0],V=this.interpolate(V,S);var X=V.match(/'/g),ne=V.match(/"/g);(X&&X.length%2===0&&!ne||ne.length%2!==0)&&(V=V.replace(/'/g,'"'));try{S=JSON.parse(V),q&&(S=Sc(Sc({},q),S))}catch(he){return this.logger.warn("failed parsing options string in nesting for key ".concat(U),he),"".concat(U).concat(K).concat(V)}return delete S.defaultValue,U}for(;o=this.nestingRegexp.exec(n);){var M=[];S=Sc({},l),S=S.replace&&typeof S.replace!="string"?S.replace:S,S.applyPostProcessor=!1,delete S.defaultValue;var F=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var z=o[1].split(this.formatSeparator).map(function(U){return U.trim()});o[1]=z.shift(),M=z,F=!0}if(x=i(T.call(this,o[1].trim(),S),S),x&&o[0]===n&&typeof x!="string")return x;typeof x!="string"&&(x=Z8(x)),x||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),x=""),F&&(x=M.reduce(function(U,q){return s.format(U,q,l.lng,Sc(Sc({},l),{},{interpolationkey:o[1].trim()}))},x.trim())),n=n.replace(o[0],x),this.regexp.lastIndex=0}return n}}]),e}();function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function JX(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var s=i[1].substring(0,i[1].length-1);if(t==="currency"&&s.indexOf(":")<0)n.currency||(n.currency=s.trim());else if(t==="relativetime"&&s.indexOf(":")<0)n.range||(n.range=s.trim());else{var l=s.split(";");l.forEach(function(o){if(o){var x=o.split(":"),S=LX(x),T=S[0],M=S.slice(1),F=M.join(":").trim().replace(/^'+|'+$/g,"");n[T.trim()]||(n[T.trim()]=F),F==="false"&&(n[T.trim()]=!1),F==="true"&&(n[T.trim()]=!0),isNaN(F)||(n[T.trim()]=parseInt(F,10))}})}}return{formatName:t,formatOptions:n}}function Qd(e){var t={};return function(i,s,l){var o=s+JSON.stringify(l),x=t[o];return x||(x=e(s,l),t[o]=x),x(i)}}var eY=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qu(this,e),this.logger=bf.create("formatter"),this.options=t,this.formats={number:Qd(function(n,i){var s=new Intl.NumberFormat(n,i);return function(l){return s.format(l)}}),currency:Qd(function(n,i){var s=new Intl.NumberFormat(n,yh(yh({},i),{},{style:"currency"}));return function(l){return s.format(l)}}),datetime:Qd(function(n,i){var s=new Intl.DateTimeFormat(n,yh({},i));return function(l){return s.format(l)}}),relativetime:Qd(function(n,i){var s=new Intl.RelativeTimeFormat(n,yh({},i));return function(l){return s.format(l,i.range||"day")}}),list:Qd(function(n,i){var s=new Intl.ListFormat(n,yh({},i));return function(l){return s.format(l)}})},this.init(t)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=i.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(n,i){this.formats[n.toLowerCase().trim()]=i}},{key:"addCached",value:function(n,i){this.formats[n.toLowerCase().trim()]=Qd(i)}},{key:"format",value:function(n,i,s,l){var o=this,x=i.split(this.formatSeparator),S=x.reduce(function(T,M){var F=JX(M),z=F.formatName,U=F.formatOptions;if(o.formats[z]){var q=T;try{var K=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},ee=K.locale||K.lng||l.locale||l.lng||s;q=o.formats[z](T,ee,yh(yh(yh({},U),l),K))}catch(V){o.logger.warn(V)}return q}else o.logger.warn("there was no format function for ".concat(z));return T},n);return S}}]),e}();function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tY(e){var t=nY();return function(){var i=Tf(e),s;if(t){var l=Tf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function nY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rY(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var iY=function(e){Wx(n,e);var t=tY(n);function n(i,s,l){var o,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Qu(this,n),o=t.call(this),Kx&&qh.call(Uh(o)),o.backend=i,o.store=s,o.services=l,o.languageUtils=l.languageUtils,o.options=x,o.logger=bf.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=x.maxParallelReads||10,o.readingCalls=0,o.maxRetries=x.maxRetries>=0?x.maxRetries:5,o.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(l,x.backend,x),o}return Wu(n,[{key:"queueLoad",value:function(s,l,o,x){var S=this,T={},M={},F={},z={};return s.forEach(function(U){var q=!0;l.forEach(function(K){var ee="".concat(U,"|").concat(K);!o.reload&&S.store.hasResourceBundle(U,K)?S.state[ee]=2:S.state[ee]<0||(S.state[ee]===1?M[ee]===void 0&&(M[ee]=!0):(S.state[ee]=1,q=!1,M[ee]===void 0&&(M[ee]=!0),T[ee]===void 0&&(T[ee]=!0),z[K]===void 0&&(z[K]=!0)))}),q||(F[U]=!0)}),(Object.keys(T).length||Object.keys(M).length)&&this.queue.push({pending:M,pendingCount:Object.keys(M).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(T),pending:Object.keys(M),toLoadLanguages:Object.keys(F),toLoadNamespaces:Object.keys(z)}}},{key:"loaded",value:function(s,l,o){var x=s.split("|"),S=x[0],T=x[1];l&&this.emit("failedLoading",S,T,l),o&&this.store.addResourceBundle(S,T,o),this.state[s]=l?-1:2;var M={};this.queue.forEach(function(F){BX(F.loaded,[S],T),rY(F,s),l&&F.errors.push(l),F.pendingCount===0&&!F.done&&(Object.keys(F.loaded).forEach(function(z){M[z]||(M[z]={});var U=F.loaded[z];U.length&&U.forEach(function(q){M[z][q]===void 0&&(M[z][q]=!0)})}),F.done=!0,F.errors.length?F.callback(F.errors):F.callback())}),this.emit("loaded",M),this.queue=this.queue.filter(function(F){return!F.done})}},{key:"read",value:function(s,l,o){var x=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,M=arguments.length>5?arguments[5]:void 0;if(!s.length)return M(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:l,fcName:o,tried:S,wait:T,callback:M});return}this.readingCalls++;var F=function(K,ee){if(x.readingCalls--,x.waitingReads.length>0){var V=x.waitingReads.shift();x.read(V.lng,V.ns,V.fcName,V.tried,V.wait,V.callback)}if(K&&ee&&S<x.maxRetries){setTimeout(function(){x.read.call(x,s,l,o,S+1,T*2,M)},T);return}M(K,ee)},z=this.backend[o].bind(this.backend);if(z.length===2){try{var U=z(s,l);U&&typeof U.then=="function"?U.then(function(q){return F(null,q)}).catch(F):F(null,U)}catch(q){F(q)}return}return z(s,l,F)}},{key:"prepareLoading",value:function(s,l){var o=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var T=this.queueLoad(s,l,x,S);if(!T.toLoad.length)return T.pending.length||S(),null;T.toLoad.forEach(function(M){o.loadOne(M)})}},{key:"load",value:function(s,l,o){this.prepareLoading(s,l,{},o)}},{key:"reload",value:function(s,l,o){this.prepareLoading(s,l,{reload:!0},o)}},{key:"loadOne",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=s.split("|"),S=x[0],T=x[1];this.read(S,T,"read",void 0,void 0,function(M,F){M&&l.logger.warn("".concat(o,"loading namespace ").concat(T," for language ").concat(S," failed"),M),!M&&F&&l.logger.log("".concat(o,"loaded namespace ").concat(T," for language ").concat(S),F),l.loaded(s,M,F)})}},{key:"saveMissing",value:function(s,l,o,x,S){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var F=lT(lT({},T),{},{isUpdate:S}),z=this.backend.create.bind(this.backend);if(z.length<6)try{var U;z.length===5?U=z(s,l,o,x,F):U=z(s,l,o,x),U&&typeof U.then=="function"?U.then(function(q){return M(null,q)}).catch(M):M(null,U)}catch(q){M(q)}else z(s,l,o,x,M,F)}!s||!s[0]||this.store.addResource(s[0],l,o,x)}}}]),n}(qh);function uT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Lc(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Lc(t[2])==="object"||Lc(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){n[s]=i[s]})}return n},interpolation:{escapeValue:!0,format:function(t,n,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function cT(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oY(e){var t=aY();return function(){var i=Tf(e),s;if(t){var l=Tf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function aY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L1(){}function sY(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var f2=function(e){Wx(n,e);var t=oY(n);function n(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Qu(this,n),i=t.call(this),Kx&&qh.call(Uh(i)),i.options=cT(s),i.services={},i.logger=bf,i.modules={external:[]},sY(Uh(i)),l&&!i.isInitialized&&!s.isClone){if(!i.options.initImmediate)return i.init(s,l),By(i,Uh(i));setTimeout(function(){i.init(s,l)},0)}return i}return Wu(n,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(o=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var x=uT();this.options=gf(gf(gf({},x),this.options),cT(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=gf(gf({},x.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function S(V){return V?typeof V=="function"?new V:V:null}if(!this.options.isClone){this.modules.logger?bf.init(S(this.modules.logger),this.options):bf.init(null,this.options);var T;this.modules.formatter?T=this.modules.formatter:typeof Intl<"u"&&(T=eY);var M=new rT(this.options);this.store=new HX(this.options.resources,this.options);var F=this.services;F.logger=bf,F.resourceStore=this.store,F.languageUtils=M,F.pluralResolver=new XX(M,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),T&&(!this.options.interpolation.format||this.options.interpolation.format===x.interpolation.format)&&(F.formatter=S(T),F.formatter.init(F,this.options),this.options.interpolation.format=F.formatter.format.bind(F.formatter)),F.interpolator=new YX(this.options),F.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},F.backendConnector=new iY(S(this.modules.backend),F.resourceStore,F,this.options),F.backendConnector.on("*",function(V){for(var X=arguments.length,ne=new Array(X>1?X-1:0),he=1;he<X;he++)ne[he-1]=arguments[he];s.emit.apply(s,[V].concat(ne))}),this.modules.languageDetector&&(F.languageDetector=S(this.modules.languageDetector),F.languageDetector.init&&F.languageDetector.init(F,this.options.detection,this.options)),this.modules.i18nFormat&&(F.i18nFormat=S(this.modules.i18nFormat),F.i18nFormat.init&&F.i18nFormat.init(this)),this.translator=new nT(this.services,this.options),this.translator.on("*",function(V){for(var X=arguments.length,ne=new Array(X>1?X-1:0),he=1;he<X;he++)ne[he-1]=arguments[he];s.emit.apply(s,[V].concat(ne))}),this.modules.external.forEach(function(V){V.init&&V.init(s)})}if(this.format=this.options.interpolation.format,o||(o=L1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var z=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);z.length>0&&z[0]!=="dev"&&(this.options.lng=z[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var U=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];U.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments)}});var q=["addResource","addResources","addResourceBundle","removeResourceBundle"];q.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments),s}});var K=Zm(),ee=function(){var X=function(he,pe){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),K.resolve(pe),o(he,pe)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return X(null,s.t.bind(s));s.changeLanguage(s.options.lng,X)};return this.options.resources||!this.options.initImmediate?ee():setTimeout(ee,0),K}},{key:"loadResources",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L1,x=o,S=typeof s=="string"?s:this.language;if(typeof s=="function"&&(x=s),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return x();var T=[],M=function(U){if(U){var q=l.services.languageUtils.toResolveHierarchy(U);q.forEach(function(K){T.indexOf(K)<0&&T.push(K)})}};if(S)M(S);else{var F=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);F.forEach(function(z){return M(z)})}this.options.preload&&this.options.preload.forEach(function(z){return M(z)}),this.services.backendConnector.load(T,this.options.ns,function(z){!z&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),x(z)})}else x(null)}},{key:"reloadResources",value:function(s,l,o){var x=Zm();return s||(s=this.languages),l||(l=this.options.ns),o||(o=L1),this.services.backendConnector.reload(s,l,function(S){x.resolve(),o(S)}),x}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&RR.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var l=0;l<this.languages.length;l++){var o=this.languages[l];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(s,l){var o=this;this.isLanguageChangingTo=s;var x=Zm();this.emit("languageChanging",s);var S=function(z){o.language=z,o.languages=o.services.languageUtils.toResolveHierarchy(z),o.resolvedLanguage=void 0,o.setResolvedLanguage(z)},T=function(z,U){U?(S(U),o.translator.changeLanguage(U),o.isLanguageChangingTo=void 0,o.emit("languageChanged",U),o.logger.log("languageChanged",U)):o.isLanguageChangingTo=void 0,x.resolve(function(){return o.t.apply(o,arguments)}),l&&l(z,function(){return o.t.apply(o,arguments)})},M=function(z){!s&&!z&&o.services.languageDetector&&(z=[]);var U=typeof z=="string"?z:o.services.languageUtils.getBestMatchFromCodes(z);U&&(o.language||S(U),o.translator.language||o.translator.changeLanguage(U),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(U)),o.loadResources(U,function(q){T(q,U)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?M(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(M):this.services.languageDetector.detect(M):M(s),x}},{key:"getFixedT",value:function(s,l,o){var x=this,S=function T(M,F){var z;if(Lc(F)!=="object"){for(var U=arguments.length,q=new Array(U>2?U-2:0),K=2;K<U;K++)q[K-2]=arguments[K];z=x.options.overloadTranslationOptionHandler([M,F].concat(q))}else z=gf({},F);z.lng=z.lng||T.lng,z.lngs=z.lngs||T.lngs,z.ns=z.ns||T.ns,z.keyPrefix=z.keyPrefix||o||T.keyPrefix;var ee=x.options.keySeparator||".",V;return z.keyPrefix&&Array.isArray(M)?V=M.map(function(X){return"".concat(z.keyPrefix).concat(ee).concat(X)}):V=z.keyPrefix?"".concat(z.keyPrefix).concat(ee).concat(M):M,x.t(V,z)};return typeof s=="string"?S.lng=s:S.lngs=s,S.ns=l,S.keyPrefix=o,S}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var x=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,T=this.languages[this.languages.length-1];if(x.toLowerCase()==="cimode")return!0;var M=function(U,q){var K=l.services.backendConnector.state["".concat(U,"|").concat(q)];return K===-1||K===2};if(o.precheck){var F=o.precheck(this,M);if(F!==void 0)return F}return!!(this.hasResourceBundle(x,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||M(x,s)&&(!S||M(T,s)))}},{key:"loadNamespaces",value:function(s,l){var o=this,x=Zm();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(S){o.options.ns.indexOf(S)<0&&o.options.ns.push(S)}),this.loadResources(function(S){x.resolve(),l&&l(S)}),x):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var o=Zm();typeof s=="string"&&(s=[s]);var x=this.options.preload||[],S=s.filter(function(T){return x.indexOf(T)<0});return S.length?(this.options.preload=x.concat(S),this.loadResources(function(T){o.resolve(),l&&l(T)}),o):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new rT(uT());return l.indexOf(o.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L1,x=gf(gf(gf({},this.options),l),{isClone:!0}),S=new n(x);(l.debug!==void 0||l.prefix!==void 0)&&(S.logger=S.logger.clone(l));var T=["store","services","language"];return T.forEach(function(M){S[M]=s[M]}),S.services=gf({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new nT(S.services,S.options),S.translator.on("*",function(M){for(var F=arguments.length,z=new Array(F>1?F-1:0),U=1;U<F;U++)z[U-1]=arguments[U];S.emit.apply(S,[M].concat(z))}),S.init(x,o),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(qh);Lp(f2,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new f2(e,t)});var rs=f2.createInstance();rs.createInstance=f2.createInstance;rs.createInstance;rs.dir;rs.init;rs.loadResources;rs.reloadResources;rs.use;rs.changeLanguage;rs.getFixedT;rs.t;rs.exists;rs.setDefaultNamespace;rs.hasLoadedNamespace;rs.loadNamespaces;rs.loadLanguages;var lY=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uY={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},cY=function(t){return uY[t]},fY=function(t){return t.replace(lY,cY)};function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(i){Lp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var AT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fY};function pY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};AT=hT(hT({},AT),e)}var hY={type:"3rdParty",init:function(t){pY(t.options.react)}};$t.createContext();(function(){function e(){Qu(this,e),this.usedNamespaces={}}return Wu(e,[{key:"addUsedNamespaces",value:function(n){var i=this;n.forEach(function(s){i.usedNamespaces[s]||(i.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e})();var DR=[],AY=DR.forEach,dY=DR.slice;function mY(e){return AY.call(dY.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var dT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gY=function(t,n,i){var s=i||{};s.path=s.path||"/";var l=encodeURIComponent(n),o="".concat(t,"=").concat(l);if(s.maxAge>0){var x=s.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(x))}if(s.domain){if(!dT.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!dT.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var S=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(S){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},mT={create:function(t,n,i,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+i*60*1e3)),s&&(l.domain=s),document.cookie=gY(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var l=i[s];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},yY={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var i=mT.read(t.lookupCookie);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&mT.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},vY={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),l=s.split("&"),o=0;o<l.length;o++){var x=l[o].indexOf("=");if(x>0){var S=l[o].substring(0,x);S===t.lookupQuerystring&&(n=l[o].substring(x+1))}}}return n}},Xm=null,gT=function(){if(Xm!==null)return Xm;try{Xm=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Xm=!1}return Xm},_Y={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&gT()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&gT()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Ym=null,yT=function(){if(Ym!==null)return Ym;try{Ym=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ym=!1}return Ym},xY={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&yT()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&yT()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},bY={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)n.push(navigator.languages[i]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},wY={name:"htmlTag",lookup:function(t){var n,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},SY={name:"path",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;n=i[t.lookupFromPathIndex].replace("/","")}else n=i[0].replace("/","")}return n}},EY={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};function CY(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var FR=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=mY(i,this.options||{},CY()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(yY),this.addDetector(vY),this.addDetector(_Y),this.addDetector(xY),this.addDetector(bY),this.addDetector(wY),this.addDetector(SY),this.addDetector(EY)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var i=this;n||(n=this.options.order);var s=[];return n.forEach(function(l){if(i.detectors[l]){var o=i.detectors[l].lookup(i.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(function(l){s.detectors[l]&&s.detectors[l].cacheUserLanguage(n,s.options)}))}}]),e}();FR.type="languageDetector";const kY="km",TY="m",PY="to",IY="Logout",OY="Save",MY="Cancel",LY="Create",RY="Disasters",DY="Loading...",FY="Loading events",BY="Legend",zY="maps",NY="Vertical direction",UY="Horizontal direction",jY="Legend presentation",$Y="Layers",VY="Feed",HY="Deselect",qY="Gathering data",GY="Updated",QY="No data received",WY="Wrong data received",KY="Error",ZY="Sort Icon",XY={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"The feed contains real-time data about Cyclones, Droughts, Earthquakes, Floods, Volcanoes, Wildfires."},YY={default:"Sorry, we are having issues, which will be fixed soon",timeout:"Request Timeout",cannot_connect:"Can't connect to server",forbidden:"Forbidden",not_found:"Not found",unknown:"Unknown",server_error:"Server Error"},JY={overlays:"Overlays",basemap:"Basemap"},eJ={layers_in_selected_area:"Layers in selected area",your_layers:"Your Layers",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap Based",other:"Other",elevation:"Elevation",photo:"Photo",map:"Map"},tJ={load_world_data:"Load World Data",numerator:"Numerator",normalized_by:"Normalized By",sum:"Sum",min:"Min",max:"Max",mean:"Mean",stddev:"Stddev",median:"Median",filter_numerator:"Filter Numerator",filter_denominator:"Filter Denominator"},nJ={warning_title:"Can't use map as filter",warning_description:"Map not ready yet, try later",bbox_filter_button:"Use map view as filter",analytics:{affected_people:{tooltip:"Affected People",value:"No humanitarian impact"},settled_area_tooltip:"Settled Area",loss_tooltip:"Estimated loss"},no_event_in_feed:"Event not found in the current event feed",no_selected_disaster:"No disaster selected",chose_disaster:"Choose disaster",no_historical_disasters:"No historical disasters in this area",no_feed_disasters:"No disasters in this feed",no_disasters:"No disasters"},rJ={edit_layer:"Edit Layer",edit_features:"Edit Features",delete_layer:"Delete Layer",create_layer:"Create Layer",saving_layer:"Saving layer...",field_name:"Field name",layer_name:"Layer name",marker_icon:"Marker icon",type:"Type",select:"Select",short_text:"Short Text",long_text:"Long Text",link:"Link",image:"Image",fields:"Fields",add_field:"Add field",location:"Location",edit_feature_placeholder:"Select some feature for start edit feature properties"},iJ={header_title:"Analytics",info_tab:"INFO",error_loading:"Error while fetching analytics data"},oJ={header_title:"Advanced analytics",error:"Error while fetching advanced analytics data"},aJ={not_found:"Sorry, requested event not found.",error:"An error occured!",analytics_for_selected:"Analytics for a selected area",will_be_provided:"will be provided here"},sJ={area:"Area",line:"Line",point:"Point",finish_drawing:"Finish Drawing",caption:"Click on the map to begin drawing",no_geometry_error:"No drawn geometry to download",overlap_error:"Polygon should not overlap itself",save_features:"Save features"},lJ={title:"Focus to administrative boundary"},uJ={title:"Focus to uploaded geometry",error:"Error while reading uploaded file"},cJ={title:"Focus to freehand geometry"},fJ={settings:{name:"Selected Area"}},pJ={self_directions_not_supported:"Self intersections are not supported!"},hJ={panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Base axis",annex_axis:"Annex axis",tooltip:{p1:"Charts involving the Base and Annex axes help establish a relationship between two data sets.",li1:"Annex axis - parameters that we analyse",li2:"Base axis - reference point in the analysis",b:"Ex: the best location to open a cafe",p2:"We can explore the number of eatery places (Annex axis) against Population density (Base axis).",p3:"In this scenario, we are first interested in a small number of eatery places, and the number of people in that place gives us additional information."}},header:{title:"Choose two layers to explore correlations",hint:"Layers and correlations are displayed for the current Selected Area"},icon:{population:"Value divided by Population",area_km2:"Value divided by Area",total_building_count:"Value divided by Total Buildings Estimate",populated_area_km2:"Value divided by Populated Area",one:"Without divider",roads:"Value divided by Total Roads Length"},progress:{rendering:"Rendering",applied:"Applied on the map"},loading_error:"Unfortunately, we cannot display the matrix. Try refreshing the page or come back later."},legend:{high:"High",low:"Low",medium:"Medium"},color_manager:{not_defined:"Not defined",sentiments_combinations_filter:"Sentiments combinations",layers_filter:"Layers",no_legends:"There are no legends satisfying the conditions.",no_data:"No Data.",sentiments_tab:"Sentiments",color_legends_tab:"Color Legends",layers_tab:"Layers (indicators)"}},AJ={biv_color_manager:"olor manager",edit_osm:"Edit in OpenStreetMap",ruler:"Ruler",collapse:"Collapse",expand:"Expand",icon_alt:"Application logo"},dJ={email:"Email",password:"Password",login_button:"Login",sign_up:"Sign up",logging_in:"Logging in...",log_in:"Log in",description:"Please log in to change your settings",error:{email_empty:"Email has not to be empty!",email_invalid:"Email has to be valid!",password:"Password has not to be empty!",connect:"Couldn't connect to authentication service"}},mJ={title:"Disaster Ninja Reports",no_data:"No data for this report",sorting:"Sorting data...",loading:"Loading data",search_location:"Search location",open_josm:"Open via JOSM remote control",josm_logo_alt:"JOSM logo",see_all:"See all reports",wrong_id:"Wrong report ID",description:"<0>Kontur </0> generates several reports that help validate OpenStreetMap quality. They contain links to areas on <4>osm.org </4> and links to open them in the JOSM editor with enabled remote control for editing."},gJ={map:"Map",about:"About",reports:"Reports",profile:"Profile",privacy:"Privacy"},yJ={title:"Welcome to Disaster Ninja!",intro:"Do you want to be notified about ongoing disasters? Are you interested in instant population data and other analytics for any region in the world? Disaster Ninja showcases some of <2>Kontur</2>s capabilities in addressing these needs.<br/><br/>We initially designed it as a decision support tool for humanitarian mappers. Now it has grown in functionality and use cases. Whether you work in disaster management, build a smart city, or perform research on climate change, Disaster Ninja can help you to:",l1:"1. Stay up to date with the latest hazard events globally.",p1:"The Disasters panel continually refreshes to inform you about ongoing events. It consumes data from the <2>Kontur Event Feed</2>, which you can also access via an API.",l2:"2. Focus on your area of interest.",p2:"The Drawing Tools panel allows you to draw or upload your own geometry on the map. You can also focus on a disaster-exposed area or an administrative unit  a country, city, or region.",l3:"3. Get analytics for the focused area.",p3:"The Analytics panel shows the number of people living in that area per <2>Kontur Population</2> and estimated mapping gaps in OpenStreetMap. Konturs customers have access to hundreds of other indicators through Advanced Analytics.",l4:"4. Explore data on the map and make conclusions.",p4:"The Layers panel gives you various options to display two indicators simultaneously on a bivariate map, e.g., population density and distance to the nearest fire station. Use the color legend to assess which areas require attention. <br/>Hint: in general, green indicates low risk / few gaps, red  high risk / many gaps.",p5:"In addition, you can switch to Reports in the left panel to access data on potential errors and inconsistencies in OpenStreetMap and help fix them by mapping the respective area with the JOSM editor.",goToMap:"Go to the map now",p6:"We hope you find this tool valuable. Use the chatbox on Disaster Ninja for any questions about the functionality, and we will be happy to guide you. You can also contact us by email at <1>hello@kontur.io</1> if you have feedback or suggestions on improving the tool.<br/><br/>Disaster Ninja is an open-source project. Find the code in <8>Konturs GitHub account</8>."},vJ={interfaceTheme:"Theme",interfaceLanguage:"Language",units:"Units",fullName:"Full Name",email:"Email",metric:"metric",imperialBeta:"imperial (beta)",profileSettingsHeader:"Profile",appSettingsHeader:"Settings",englishLanguageOption:"English",spanishLanguageOption:"Spanish",arabicLanguageOption:"Arabic",koreanLanguageOption:"Korean",indonesianLanguageOption:"Indonesian",germanLanguageOption:"German",saveButton:"Save changes",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Default disaster feed",defaultOSMeditor:"Default OpenStreetMap editor (beta)",successNotification:"All changes have been applied successfully"},_J={not_found_request:"Sorry, requested event not found."},xJ={get_location_error:"Error while getting location",feature_title:"Locate me"},bJ="Episode",wJ="Loading Episodes",SJ={header:"We value your privacy",body:`We use absolutely necessary cookies to provide you personalized services and optional cookies to improve Disaster Ninja and your experience. You can manage cookies settings or withdraw consent to optional cookies at any time.
For more information, please, check our [Privacy Policy](about/privacy)`,decline_all:"Decline optional cookies",accept_all:"Accept optional cookies"},EJ={severity_unknown:"Unknown",severity_termination:"Termination",severity_minor:"Minor",severity_moderate:"Moderate",severity_severe:"Severe",severity_extreme:"Extreme"},CJ={km:kY,m:TY,to:PY,logout:IY,save:OY,cancel:MY,create:LY,disasters:RY,loading:DY,loading_events:FY,legend:BY,maps:zY,vertical_direction:NY,horizontal_direction:UY,legend_presentation:jY,layers:$Y,feed:VY,deselect:HY,spinner_text:qY,updated:GY,no_data_received:QY,wrong_data_received:WY,error:KY,sort_icon:ZY,configs:XY,errors:YY,categories:JY,groups:eJ,advanced_analytics_data_list:tJ,event_list:nJ,create_layer:rJ,analytics_panel:iJ,advanced_analytics_panel:oJ,advanced_analytics_empty:aJ,draw_tools:sJ,boundary_selector:lJ,geometry_uploader:uJ,focus_geometry:cJ,focus_geometry_layer:fJ,drawings:pJ,bivariate:hJ,sidebar:AJ,login:dJ,reports:mJ,modes:gJ,about:yJ,profile:vJ,current_event:_J,locate_me:xJ,episode:bJ,loading_episodes:wJ,cookie_banner:SJ,common:EJ},kJ="km",TJ="m",PJ="a",IJ="mapas",OJ="Cierre de sesin",MJ="Guardar",LJ="Cancelar",RJ="Crear",DJ="Desastres",FJ="Cargando...",BJ="Cargando eventos",zJ="Leyenda",NJ="Direccin vertical",UJ="Direccin horizontal",jJ="Presentacin de la leyenda",$J="Capas",VJ={color_manager:{layers_filter:"Capas",not_defined:"No definido",sentiments_combinations_filter:"Combinaciones de sentimientos",no_legends:"No hay leyendas que cumplan las condiciones.",no_data:"No hay datos.",sentiments_tab:"Sentimientos",color_legends_tab:"Leyendas de colores",layers_tab:"Capas (indicadores)"},panel:{header:"Matriz bivariada"},matrix:{caption:{base_axis:"Eje base",annex_axis:"Eje anexo",tooltip:{p1:"Las grficas que incluyen los ejes base y anexo ayudan a establecer una relacin entre dos conjuntos de datos.",li1:"Eje anexo: parmetros que analizamos",li2:"Eje base: punto de referencia en el anlisis",b:"Ej.: la mejor ubicacin para abrir una cafetera",p2:"Podemos explorar el nmero de locales de comida (eje anexo) frente a la densidad de poblacin (eje base).",p3:"En este escenario, en primer lugar nos interesa un nmero reducido de locales de comida, y la cantidad de personas presentes nos da informacin adicional."}},header:{title:"Elija dos capas para explorar las correlaciones",hint:"Las capas y correlaciones se muestran para el rea seleccionada actual"},icon:{population:"Valor dividido por la poblacin",area_km2:"Valor dividido por el rea",total_building_count:"Valor dividido por la estimacin total de edificios",populated_area_km2:"Valor dividido por el rea poblada",one:"Sin divisor",roads:"Valor dividido por la longitud total de las carreteras"},progress:{rendering:"Renderizado",applied:"Aplicado en el mapa"}},legend:{high:"Alto",low:"Bajo",medium:"Medio"}},HJ="Fuente",qJ="Anular la seleccin",GJ="Recopilacin de datos",QJ="Actualizado",WJ="No se han recibido datos",KJ="Se han recibido datos errneos",ZJ="Error",XJ="Icono de ordenar",YJ={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"El feed contiene datos en tiempo real sobre Ciclones, Sequas, Terremotos, Inundaciones, Volcanes, Incendios forestales."},JJ={default:"Lo sentimos, estamos teniendo problemas, que pronto se solucionarn",timeout:"Se agot el tiempo de espera de la solicitud",cannot_connect:"No se puede conectar al servidor",forbidden:"Prohibido",not_found:"No encontrado",unknown:"Desconocido",server_error:"Error del servidor"},eee={severity_unknown:"Desconocido"},tee={overlays:"Superposiciones",basemap:"Mapa base"},nee={layers_in_selected_area:"Capas en el rea seleccionada",your_layers:"Sus capas",kontur_analytics:"Anlisis de Kontur",qa:"Certificacin de calidad",osmbasedmap:"Basado en OpenStreetMap",other:"Otros",elevation:"Elevacin",photo:"Foto",map:"Mapa"},ree={map:"Mapa",about:"Acerca de",reports:"Informes",profile:"Perfil"},iee={load_world_data:"Cargar datos mundiales",numerator:"Numerador",normalized_by:"Normalizado por",sum:"Suma",min:"Mn.",max:"Mx.",mean:"Media",stddev:"Desv. est.",median:"Mediana",filter_denominator:"Filtrar Denominador"},oee={warning_title:"No se puede utilizar el mapa como filtro",warning_description:"El mapa an no est listo, intntelo ms tarde",bbox_filter_button:"Usar la vista del mapa como filtro",analytics:{affected_people:{tooltip:"Personas afectadas",value:"Sin impacto humanitario"},settled_area_tooltip:"rea habitada",loss_tooltip:"Prdida estimada"},no_event_in_feed:"Evento no encontrado en el feed de eventos actual",no_selected_disaster:"No se ha seleccionado ningn desastre",chose_disaster:"Seleccione el desastre"},aee={edit_layer:"Editar capa",edit_features:"Editar caractersticas",delete_layer:"Eliminar capa",create_layer:"Crear capa",saving_layer:"Guardando capa...",field_name:"Nombre de campo",layer_name:"Nombre de la capa",marker_icon:"Icono de marcador",type:"Tipo",select:"Seleccionar",short_text:"Texto corto",long_text:"Texto largo",link:"Enlace",image:"Imagen",fields:"Campos",add_field:"Agregar campo",location:"Ubicacin",edit_feature_placeholder:"Seleccione una caracterstica para comenzar a editar las propiedades de la misma"},see={header_title:"Anlisis",info_tab:"INFORMACIN",error_loading:"Error en la obtencin de datos de anlisis"},lee={header_title:"Anlisis avanzado",error:"Error en la obtencin de datos de anlisis Avanzado"},uee={not_found:"Lo sentimos, el evento solicitado no se ha encontrado.",error:"Se produjo un error!"},cee={not_found_request:"Lo sentimos, el evento solicitado no se ha encontrado."},fee={area:"rea",line:"Lnea",point:"Punto",finish_drawing:"Terminar el dibujo",caption:"Haga clic en el mapa para empezar a dibujar",no_geometry_error:"No hay geometra dibujada para descargar",overlap_error:"El polgono no debe superponerse sobre s mismo",save_features:"Guardar caractersticas"},pee={title:"Enfocar en el lmite administrativo"},hee={title:"Enfocar en la geometra cargada",error:"Error al leer el archivo cargado"},Aee={title:"Enfocar en la geometra a mano"},dee={settings:{name:"rea seleccionada"}},mee={self_directions_not_supported:"No se admiten las autointersecciones!"},gee={biv_color_manager:"Administrador de color",edit_osm:"Editar en OpenStreetMap",ruler:"Regla",collapse:"Contraer",expand:"Expandir",icon_alt:"Logotipo de la aplicacin"},yee={email:"Correo electrnico",password:"Contrasea",login_button:"Inicio de sesin",sign_up:"Registrarse",logging_in:"Iniciando sesin...",log_in:"Iniciar sesin",description:"Acceda a su cuenta para cambiar los ajustes",error:{email_empty:"El correo electrnico no debe estar vaco!",email_invalid:"El correo electrnico debe ser vlido!",password:"La contrasea no debe estar vaca!",connect:"No se pudo conectar con el servicio de autenticacin"}},vee={email:"Correo electrnico",profileSettingsHeader:"Perfil",interfaceTheme:"Tema",interfaceLanguage:"Idioma",units:"Unidades",fullName:"Nombre completo",metric:"mtricas",imperialBeta:"imperiales (beta)",appSettingsHeader:"Ajustes",englishLanguageOption:"Ingls",spanishLanguageOption:"Espaol",arabicLanguageOption:"rabe",saveButton:"Guardar cambios",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Feed de desastres predeterminado",defaultOSMeditor:"Editor predeterminado de OpenStreetMap (beta)",successNotification:"Todos los cambios se han aplicado correctamente"},_ee={title:"Informes de Disaster Ninja",no_data:"No hay datos para este informe",sorting:"Ordenando datos...",loading:"Cargando datos",search_location:"Buscar ubicacin",open_josm:"Abrir a travs del control remoto JOSM",josm_logo_alt:"Logotipo de JOSM",see_all:"Ver todos los informes",wrong_id:"ID de informe incorrecto",description:"<0>Kontur </0> genera una serie de informes tiles para validar la calidad de OpenStreetMap. Contienen enlaces a zonas en <4>osm.org </4> y enlaces para abrirlas en el editor JOSM con control remoto habilitado para la edicin."},xee={title:"Bienvenido a Disaster Ninja!",intro:"Desea recibir notificaciones sobre desastres en curso? Le interesan los datos de poblacin instantneos y otros datos analticos de alguna regin del mundo? Disaster Ninja muestra algunas de las capacidades de <2>Kontur</2> para ocuparse de estas necesidades.<br/><br/> Inicialmente la diseamos como una herramienta de apoyo a los mapeadores de servicios humanitarios. Ahora ha ampliado sus funcionalidades y aplicaciones prcticas. Tanto si trabaja en la gestin de desastres como si construye una ciudad inteligente o realiza investigaciones sobre el cambio climtico, Disaster Ninja puede ayudarle a:",l1:"1. Estar al da con los ltimos eventos peligrosos a nivel mundial.",p1:"El panel de Desastres se actualiza continuamente para informarle sobre los acontecimientos en curso. Utiliza la informacin proporcionada por <2>Kontur Event Feed</2>, a la que tambin puede acceder a travs de la interfaz de la aplicacin.",l2:"2. Centrarse en su rea de inters.",p2:"El panel de Herramientas de Dibujo le permite dibujar o subir su propia geometra en el mapa. Tambin puede centrarse en un rea o en una unidad administrativa - pas, ciudad o regin  expuesta a desastres.",l3:"3. Recibir anlisis de su rea de inters.",p3:"El panel de Anlisis le muestra el nmero de personas que viven en la zona segn <2>Kontur Population</2> y segn una estimacin de las zonas sin mapear en OpenStreetMap. Los clientes de Kontur tienen acceso a cientos de otros indicadores a travs de Advance Analytics.",l4:"4. Explorar los datos del mapa y sacar sus propias conclusiones.",p4:"El panel Capas le ofrece varias opciones para mostrar dos indicadores en simultneo en un mapa bivariado, p. ej:, la densidad de poblacin y la distancia a la estacin de bomberos ms cercana. Utilice las leyendas de colores para evaluar qu reas requieren atencin. <br/>Consejo: en general, el verde indica riesgo bajo / pocas zonas sin mapear, el rojo  riesgo alto / muchas zonas sin mapear.",p5:"Adems, puede cambiar a Informes en el panel de la izquierda para acceder a los datos sobre posibles errores e inconsistencias en OpenStreetMap y ayudarle a realizar correcciones mapeando la zona correspondiente con el editor JOSM.",goToMap:"Ir al mapa ahora",p6:"Esperamos que esta herramienta le resulte valiosa. Utilice el chat de Disaster Ninja si tiene alguna pregunta sobre sus funcionalidades y estaremos encantados de ayudarle. Tambin puede contactarnos por correo electrnico en <1>hello@kontur.io</1> si tiene algn comentario o sugerencia para mejorar la herramienta.<br/><br/> Disaster Ninja es un proyecto de cdigo abierto. Encuentre el cdigo en la <8>cuenta de GitHub de Kontur</8>."},bee={get_location_error:"Error al obtener la ubicacin",feature_title:"Localizarme"},wee="Episodio",See="Cargando episodios",Eee={},Cee={km:kJ,m:TJ,to:PJ,maps:IJ,logout:OJ,save:MJ,cancel:LJ,create:RJ,disasters:DJ,loading:FJ,loading_events:BJ,legend:zJ,vertical_direction:NJ,horizontal_direction:UJ,legend_presentation:jJ,layers:$J,bivariate:VJ,feed:HJ,deselect:qJ,spinner_text:GJ,updated:QJ,no_data_received:WJ,wrong_data_received:KJ,error:ZJ,sort_icon:XJ,configs:YJ,errors:JJ,common:eee,categories:tee,groups:nee,modes:ree,advanced_analytics_data_list:iee,event_list:oee,create_layer:aee,analytics_panel:see,advanced_analytics_panel:lee,advanced_analytics_empty:uee,current_event:cee,draw_tools:fee,boundary_selector:pee,geometry_uploader:hee,focus_geometry:Aee,focus_geometry_layer:dee,drawings:mee,sidebar:gee,login:yee,profile:vee,reports:_ee,about:xee,locate_me:bee,episode:wee,loading_episodes:See,cookie_banner:Eee},kee="",Tee="",Pee="",Iee="",Oee=" ",Mee="",Lee="",Ree="",Dee="",Fee=" ...",Bee="  ",zee=" ",Nee=" ",Uee=" ",jee="  ",$ee="",Vee={color_manager:{layers_filter:"",not_defined:" ",sentiments_combinations_filter:" ",no_legends:"    .",no_data:" .",sentiments_tab:"",color_legends_tab:" ",layers_tab:" ()"},panel:{header:"  "},matrix:{caption:{base_axis:" ",annex_axis:" ",tooltip:{p1:"            .",li1:"  -    ",li2:"  -    ",b:":    ",p2:"     ( )    ( ).",p3:"                  ."}},header:{title:"   ",hint:"      "},icon:{population:"    ",area_km2:"   ",total_building_count:"     ",populated_area_km2:"    ",one:" ",roads:"     "},progress:{rendering:"",applied:"  "}},legend:{high:"",low:"",medium:""}},Hee="",qee="",Gee=" ",Qee="",Wee="   ",Kee="   ",Zee="",Xee=" ",Yee={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"            ."},Jee={default:"     ",timeout:"  ",cannot_connect:"   ",forbidden:"",not_found:"   ",unknown:" ",server_error:"  "},ete={severity_unknown:" "},tte={overlays:"",basemap:" "},nte={layers_in_selected_area:"   ",your_layers:"",kontur_analytics:" ",qa:" ",osmbasedmap:"    ",other:"",elevation:"",photo:"",map:""},rte={map:"",about:"",reports:"",profile:" "},ite={load_world_data:"  ",numerator:"",normalized_by:" ",sum:"",min:" ",max:" ",mean:"",stddev:"Stddev",median:"",filter_denominator:" "},ote={warning_title:"     ",warning_description:"     ",bbox_filter_button:"    ",analytics:{affected_people:{tooltip:" ",value:"  "},settled_area_tooltip:" ",loss_tooltip:" "},no_event_in_feed:"        ",no_selected_disaster:"   ",chose_disaster:" "},ate={edit_layer:" ",edit_features:" ",delete_layer:" ",create_layer:" ",saving_layer:" ...",field_name:" ",layer_name:" ",marker_icon:" ",type:"",select:"",short_text:" ",long_text:" ",link:"",image:"",fields:"",add_field:" ",location:"",edit_feature_placeholder:"      "},ste={header_title:"",info_tab:"",error_loading:"    "},lte={header_title:" ",error:"     "},ute={not_found:"    .",error:" !"},cte={not_found_request:"    ."},fte={area:"",line:"",point:"",finish_drawing:" ",caption:"    ",no_geometry_error:"    ",overlap_error:"     ",save_features:" "},pte={title:"   "},hte={title:"   ",error:"      "},Ate={title:"   "},dte={settings:{name:" "}},mte={self_directions_not_supported:"   !"},gte={biv_color_manager:" ",edit_osm:"  OpenStreetMap",ruler:"",collapse:"",expand:"",icon_alt:" "},yte={email:" ",password:" ",login_button:" ",sign_up:" ",logging_in:"  ...",log_in:" ",description:"    ",error:{email_empty:"      !",email_invalid:"     !",password:"      !",connect:"    "}},vte={email:" ",profileSettingsHeader:" ",interfaceTheme:"",interfaceLanguage:"",units:"",fullName:" ",metric:"",imperialBeta:" ()",appSettingsHeader:"",englishLanguageOption:"",spanishLanguageOption:"",arabicLanguageOption:"",saveButton:" ",konturTheme:"Kontur",HOTTheme:"","userBio(about)":"",defaultDisasterFeed:"  ",defaultOSMeditor:" OpenStreetMap  ()",successNotification:"    "},_te={title:" Disaster Ninja",no_data:"    ",sorting:"  ...",loading:"  ",search_location:"  ",open_josm:"     JOSM  ",josm_logo_alt:" JOSM",see_all:"  ",wrong_id:"  ",description:" <0> Kontur</0>        OpenStreetMap.        <4> osm.org </4>      JOSM      ."},xte={title:"  Disaster Ninja!",intro:"                    Disaster Ninja   <2>Kontur</2>    .<br/><br/>          .     .                    Disaster Ninja :",l1:"1.          .",p1:"       .     <2>Kontur Event Feed</2>         .",l2:"2.    .",p2:"             .           -     .",l3:"3.     .",p3:"           <2>Kontur Population</2>     OpenStreetMap.   Kontur         .",l4:"4.       .",p4:"  Layers                     .         . <br/>        /    -   /   .",p5:"                   OpenStreetMap            JOSM.",goToMap:"   ",p6:"      .     Disaster Ninja       .       <1>hello@kontur.io</1>         .<br/><br/> Disaster Ninja   .      <8>Kontur</8>  <8>GitHub</8>."},bte={get_location_error:"     ",feature_title:" "},wte="",Ste="  ",Ete={},Cte={km:kee,m:Tee,to:Pee,maps:Iee,logout:Oee,save:Mee,cancel:Lee,create:Ree,disasters:Dee,loading:Fee,loading_events:Bee,legend:zee,vertical_direction:Nee,horizontal_direction:Uee,legend_presentation:jee,layers:$ee,bivariate:Vee,feed:Hee,deselect:qee,spinner_text:Gee,updated:Qee,no_data_received:Wee,wrong_data_received:Kee,error:Zee,sort_icon:Xee,configs:Yee,errors:Jee,common:ete,categories:tte,groups:nte,modes:rte,advanced_analytics_data_list:ite,event_list:ote,create_layer:ate,analytics_panel:ste,advanced_analytics_panel:lte,advanced_analytics_empty:ute,current_event:cte,draw_tools:fte,boundary_selector:pte,geometry_uploader:hte,focus_geometry:Ate,focus_geometry_layer:dte,drawings:mte,sidebar:gte,login:yte,profile:vte,reports:_te,about:xte,locate_me:bte,episode:wte,loading_episodes:Ste,cookie_banner:Ete},kte="",Tte="",Pte="",Ite="",Ote="",Mte="",Lte="",Rte="",Dte="",Fte=" ...",Bte="  ",zte="",Nte=" ",Ute=" ",jte=" ",$te="",Vte={color_manager:{layers_filter:"",not_defined:" ",sentiments_combinations_filter:" ",no_legends:"   .",no_data:" .",sentiments_tab:"",color_legends_tab:" ",layers_tab:"()"},panel:{header:" "},matrix:{caption:{base_axis:" ",annex_axis:" ",tooltip:{p1:"              .",li1:"  -   ",li2:"  -  ",b:":    ",p2:" ( )   ( )   .",p3:"       ,         ."}},header:{title:"      .",hint:"      ."},icon:{population:"  ",area_km2:"  ",total_building_count:"    ",populated_area_km2:"    ",one:" ",roads:"    "},progress:{rendering:"",applied:" "}},legend:{high:"",low:"",medium:""}},Hte="",qte=" ",Gte=" ",Qte="",Wte="  ",Kte="  ",Zte="",Xte=" ",Yte={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:" , , , ,  ,     ."},Jte={default:".  .   .",timeout:"  ",cannot_connect:"   .",forbidden:"  ",not_found:"  ",unknown:"  ",server_error:" "},ene={severity_unknown:"  "},tne={overlays:"",basemap:""},nne={layers_in_selected_area:"   ",your_layers:"",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap ",other:"",elevation:"",photo:"",map:""},rne={map:"",about:"",reports:"",profile:""},ine={load_world_data:"   ",numerator:"",normalized_by:" :",sum:"",min:"",max:"",mean:"",stddev:"  ",median:"",filter_denominator:" "},one={warning_title:"    .",warning_description:"    .     .",bbox_filter_button:"   ",analytics:{affected_people:{tooltip:"  ",value:"  "},settled_area_tooltip:" ",loss_tooltip:" "},no_event_in_feed:"      ",no_selected_disaster:"  ",chose_disaster:" "},ane={edit_layer:" ",edit_features:" ",delete_layer:" ",create_layer:" ",saving_layer:"  ...",field_name:" ",layer_name:" ",marker_icon:" ",type:"",select:"",short_text:" ",long_text:" ",link:"",image:"",fields:"",add_field:" ",location:"",edit_feature_placeholder:"      ."},sne={header_title:"",info_tab:"",error_loading:"     ."},lne={header_title:" ",error:"      ."},une={not_found:".     .",error:" ."},cne={not_found_request:".     ."},fne={area:"",line:"",point:"",finish_drawing:" ",caption:"   .",no_geometry_error:"     .",overlap_error:"     .",save_features:" "},pne={title:"   "},hne={title:"    ",error:"     ."},Ane={title:"      "},dne={settings:{name:" "}},mne={self_directions_not_supported:"   ."},gne={biv_color_manager:" ",edit_osm:"OpenStreetMap ",ruler:"",collapse:"",expand:"",icon_alt:" "},yne={email:"",password:"",login_button:"",sign_up:"",logging_in:" ...",log_in:"",description:"  .",error:{email_empty:"   .",email_invalid:"   .",password:"   .",connect:"    ."}},vne={email:"",profileSettingsHeader:"",interfaceTheme:"",interfaceLanguage:"",units:"",fullName:" ",metric:"",imperialBeta:" ()",appSettingsHeader:"",englishLanguageOption:"",spanishLanguageOption:"",arabicLanguageOption:"",saveButton:"  ",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"  ",defaultOSMeditor:" OpenStreetMap ()",successNotification:"    ."},_ne={title:"Disaster Ninja ",no_data:"   .",sorting:"  ...",loading:"  ",search_location:" ",open_josm:"JOSM    ",josm_logo_alt:"JOSM ",see_all:"  ",wrong_id:"  ID",description:"<0>Kontur</0>     OpenStreetMap   .  <4>osm.org </4>   ,    JOSM          ."},xne={title:"Disaster Ninja   !",intro:"      ?            ? Disaster Ninja        <2>Kontur</2>  .<br/><br/>         ,      .  ,   ,               .",l1:"1.        .",p1:"           . <2>Kontur  </2>  , API      .",l2:"2.     .",p2:"           .     (: , , )    .",l3:"3.     .",p3:"  <2>Kontur </2>      OpenStreetMap     .   Kontur          .",l4:"4.       .",p4:"               (:  ,    ).       . <br/>:   /    /  .",p5:",     OpenStreetMap      , JOSM          .",goToMap:"   .",p6:"     .     Disaster Ninja       .        , <1>hello@kontur.io</1>    .<br/><br/>Disaster Ninja   . <8>Kontur GitHub </8>  ."},bne={get_location_error:"    .",feature_title:"  "},wne="",Sne="  ",Ene={},Cne={km:kte,m:Tte,to:Pte,maps:Ite,logout:Ote,save:Mte,cancel:Lte,create:Rte,disasters:Dte,loading:Fte,loading_events:Bte,legend:zte,vertical_direction:Nte,horizontal_direction:Ute,legend_presentation:jte,layers:$te,bivariate:Vte,feed:Hte,deselect:qte,spinner_text:Gte,updated:Qte,no_data_received:Wte,wrong_data_received:Kte,error:Zte,sort_icon:Xte,configs:Yte,errors:Jte,common:ene,categories:tne,groups:nne,modes:rne,advanced_analytics_data_list:ine,event_list:one,create_layer:ane,analytics_panel:sne,advanced_analytics_panel:lne,advanced_analytics_empty:une,current_event:cne,draw_tools:fne,boundary_selector:pne,geometry_uploader:hne,focus_geometry:Ane,focus_geometry_layer:dne,drawings:mne,sidebar:gne,login:yne,profile:vne,reports:_ne,about:xne,locate_me:bne,episode:wne,loading_episodes:Sne,cookie_banner:Ene},kne="km",Tne="m",Pne="ke",Ine="peta",One="Keluar",Mne="Simpan",Lne="Batalkan",Rne="Buat",Dne="Bencana",Fne="Memuat...",Bne="Memuat kejadian",zne="Legenda",Nne="Arah vertikal",Une="Arah horizontal",jne="Penyajian legenda",$ne="Lapisan",Vne={color_manager:{layers_filter:"Lapisan",not_defined:"Tidak terdefinisi",sentiments_combinations_filter:"Gabungan sentimen",no_legends:"Tidak ada legenda yang memenuhi kondisi ini.",no_data:"Tidak Ada Data.",sentiments_tab:"Sentimen",color_legends_tab:"Legenda Warna",layers_tab:"Lapisan (indikator)"},panel:{header:"Matriks Bivariat"},matrix:{caption:{base_axis:"Sumbu Dasar",annex_axis:"Sumbu Tambahan",tooltip:{p1:"Diagram yang mencakup sumbu Dasar dan sumbu Tambahan membantu menetapkan hubungan antara dua kumpulan data.",li1:"Sumbu Tambahan - parameter yang kita analisis",li2:"Sumbu Dasar - titik referensi dalam analisis",b:"Contoh: lokasi terbaik untuk membuka kafe",p2:"Kita dapat menyelidiki jumlah tempat makan (sumbu Tambahan) terhadap Kerapatan populasi (sumbu Dasar).",p3:"Dalam skenario ini, pada awalnya kita tertarik dengan beberapa tempat makan, lalu kita mendapatkan informasi tambahan dari jumlah orang di tempat itu."}},header:{title:"Pilih dua lapisan untuk memeriksa korelasi",hint:"Lapisan dan korelasi ditampilkan untuk Area Pilihan terkini"},icon:{population:"Nilai dibagi dengan Populasi",area_km2:"Nilai dibagi dengan Area",total_building_count:"Nilai dibagi dengan Perkiraan Jumlah Bangunan",populated_area_km2:"Nilai dibagi dengan Area Berpenduduk",one:"Tanpa pembagi",roads:"Nilai dibagi dengan Total Panjang Jalan"},progress:{rendering:"Merender",applied:"Diterapkan pada peta"}},legend:{high:"Tinggi",low:"Rendah",medium:"Sedang"}},Hne="Feed",qne="Batalkan Pilihan",Gne="Mengumpulkan data",Qne="Diperbarui",Wne="Tidak ada data yang diterima",Kne="Data yang diterima salah",Zne="Kesalahan",Xne="Sortir Ikon",Yne={Kontur_public_feed:"Publik Kontur",Kontur_public_feed_description:"Feed berisi data waktu-nyata tentang Angin Topan, Kekeringan, Gempa, Banjir, Gunung Meletus, Kebakaran Hutan."},Jne={default:"Maaf, kami mengalami masalah yang akan segera diperbaiki",timeout:"Waktu Permintaan Habis",cannot_connect:"Tidak dapat terhubung ke server",forbidden:"Terlarang",not_found:"Tidak ditemukan",unknown:"Tidak diketahui",server_error:"Kesalahan Server"},ere={severity_unknown:"Tidak diketahui"},tre={overlays:"Tumpang Susun",basemap:"Peta Dasar"},nre={layers_in_selected_area:"Lapisan di area pilihan",your_layers:"Lapisan Anda",kontur_analytics:"Analitik Kontur",qa:"QA",osmbasedmap:"Berbasis OpenStreetMap",other:"Lainnya",elevation:"Elevasi",photo:"Foto",map:"Peta"},rre={map:"Peta",about:"Tentang",reports:"Laporan",profile:"Profil"},ire={load_world_data:"Memuat Data Dunia",numerator:"Pembilang",normalized_by:"Dinormalkan Dengan",sum:"Jumlah",min:"Min",max:"Maks",mean:"Rerata",stddev:"Simpangan baku",median:"Median",filter_denominator:"Filter Penyebut"},ore={warning_title:"Tidak dapat menggunakan peta sebagai filter",warning_description:"Peta belum siap, coba nanti",bbox_filter_button:"Gunakan tampilan peta sebagai filter",analytics:{affected_people:{tooltip:"Orang yang Terdampak",value:"Tidak berdampak kemanusiaan"},settled_area_tooltip:"Area yang Ditempati",loss_tooltip:"Estimasi kerugian"},no_event_in_feed:"Kejadian tidak ditemukan di feed kejadian terkini",no_selected_disaster:"Tidak ada bencana yang dipilih",chose_disaster:"Pilih bencana"},are={edit_layer:"Edit Lapisan",edit_features:"Edit Fitur",delete_layer:"Hapus Lapisan",create_layer:"Buat Lapisan",saving_layer:"Menyimpan lapisan...",field_name:"Nama bidang",layer_name:"Nama lapisan",marker_icon:"Ikon penanda",type:"Jenis",select:"Pilih",short_text:"Teks Singkat",long_text:"Teks Panjang",link:"Tautan",image:"Gambar",fields:"Bidang",add_field:"Tambahkan bidang",location:"Lokasi",edit_feature_placeholder:"Pilih beberapa fitur untuk mulai mengedit properti fitur"},sre={header_title:"Analitik",info_tab:"INFO",error_loading:"Kesalahan saat mengambil data analitik"},lre={header_title:"Analitik tingkat lanjut",error:"Kesalahan saat mengambil data analitik tingkat lanjut"},ure={not_found:"Maaf, kejadian yang diminta tidak ditemukan.",error:"Terjadi kesalahan!"},cre={not_found_request:"Maaf, kejadian yang diminta tidak ditemukan."},fre={area:"Area",line:"Garis",point:"Titik",finish_drawing:"Selesai Menggambar",caption:"Klik peta untuk mulai menggambar",no_geometry_error:"Tidak ada gambar geometri untuk diunduh",overlap_error:"Poligon tidak boleh bertumpang-tindih sendiri",save_features:"Simpan fitur"},pre={title:"Fokus ke batas administratif"},hre={title:"Fokus ke geometri unggahan",error:"Kesalahan saat membaca file unggahan"},Are={title:"Fokus ke geometri bebas"},dre={settings:{name:"Area Pilihan"}},mre={self_directions_not_supported:"Tidak mendukung perpotongan dengan dirinya sendiri!"},gre={biv_color_manager:"Pengelola warna",edit_osm:"Edit di OpenStreetMap",ruler:"Penggaris",collapse:"Ciutkan",expand:"Bentangkan",icon_alt:"Logo aplikasi"},yre={email:"Email",password:"Kata Sandi",login_button:"Masuk",sign_up:"Daftar",logging_in:"Masuk...",log_in:"Masuk",description:"Masuk untuk mengubah pengaturan Anda",error:{email_empty:"Email tidak boleh kosong!",email_invalid:"Email harus valid!",password:"Kata sandi tidak boleh kosong!",connect:"Tidak dapat terhubung ke layanan autentikasi"}},vre={email:"Email",profileSettingsHeader:"Profil",interfaceTheme:"Tema",interfaceLanguage:"Bahasa",units:"Satuan",fullName:"Nama Lengkap",metric:"metrik",imperialBeta:"imperial (beta)",appSettingsHeader:"Pengaturan",englishLanguageOption:"Inggris",spanishLanguageOption:"Spanyol",arabicLanguageOption:"Arab",indonesianLanguageOption:"Indonesia",saveButton:"Simpan perubahan",konturTheme:"Kontur",HOTTheme:"HANGAT","userBio(about)":"Bio",defaultDisasterFeed:"Feed bencana bawaan",defaultOSMeditor:"Editor OpenStreetMap bawaan (beta)",successNotification:"Semua perubahan telah berhasil diterapkan"},_re={title:"Laporan Disaster Ninja",no_data:"Tidak ada data untuk laporan ini",sorting:"Menyortir data...",loading:"Memuat data",search_location:"Cari lokasi",open_josm:"Buka melalui kendali jarak jaruh JOSM",josm_logo_alt:"Logo JOSM",see_all:"Lihat semua laporan",wrong_id:"ID laporan salah",description:"<0>Kontur </0> menghasilkan beberapa laporan yang membantu memvalidasi kualitas OpenStreetMap. Laporan tersebut berisi tautan ke area di <4>osm.org </4> dan tautan untuk membukanya di editor JOSM dengan kendali jarak jauh untuk pengeditan yang diaktifkan."},xre={title:"Selamat datang di Disaster Ninja!",intro:"Apakah Anda ingin menerima kabar tentang bencana yang sedang terjadi? Anda tertarik dengan data populasi dan analitik lainnya yang tersaji seketika untuk wilayah mana pun di dunia? Disaster Ninja menampilkan beberapa kemampuan dari <2>Kontur</2> dalam mengatasi berbagai kebutuhan ini.<br/><br/>Pada awalnya, kami merancang alat ini sebagai alat bantu untuk pemetaan kemanusiaan. Kini, fungsionalitas dan kasus penggunaannya telah bertambah. Apakah Anda bekerja pada pengelolaan bencana, membangun kota cerdas, ataupun meneliti perubahan iklim, Disaster Ninja dapat membantu Anda untuk:",l1:"1. Selalu mendapatkan kabar terbaru tentang kejadian berbahaya terkini di seluruh dunia.",p1:"Panel Bencana disegarkan secara terus-menerus untuk memberi tahu Anda kejadian yang sedang berlangsung. Panel ini memakai data dari <2>Feed Kejadian Kontur</2>, yang juga dapat diakses melalui API.",l2:"2. Fokus pada area perhatian Anda.",p2:"Panel Peralatan Gambar memungkinkan Anda menggambar atau mengunggah geometri Anda sendiri pada peta. Anda juga dapat berfokus pada area yang terpapar bencana atau satuan administratif  negara, kota, atau wilayah.",l3:"3. Dapatkan analitik untuk area yang menjadi fokus.",p3:"Panel Analitik memperlihatkan jumlah orang yang tinggal di area tersebut untuk setiap <2>Populasi Kontur</2> dan perkiraan kesenjangan pemetaan di OpenStreetMap. Pelanggan Kontur memiliki akses ke ratusan indikator lainnya melalui Analitik Lanjut.",l4:"4. Selidiki data pada peta dan buat kesimpulan.",p4:"Panel Lapisan memberi Anda berbagai opsi untuk menampilkan dua indikator secara serentak pada peta bivariat, misalnya kepadatan populasi dan jarak ke stasiun pemadam kebakaran terdekat. Gunakan legenda warna untuk menilai area mana yang perlu diperhatikan. <br/>Petunjuk: secara umum, warna hijau menunjukkan risiko rendah/sedikit kesenjangan, warna merah  risiko tinggi/banyak kesenjangan.",p5:"Selain itu, Anda dapat beralih ke Laporan di panel kiri untuk mengakses data tentang potensi kesalahan dan inkonsistensi di OpenStreetMap serta membantu memperbaikinya dengan memetakan masing-masing area menggunakan editor JOSM.",goToMap:"Buka peta sekarang",p6:"Kami berharap agar alat ini bermanfaat bagi Anda. Gunakan kotak obrolan di Disaster Ninja untuk setiap pertanyaan tentang fungsionalitas, dan kami dengan senang hati akan memandu Anda. Anda juga dapat menghubungi kami melalui email di <1>hello@kontur.io</1> jika Anda memiliki tanggapan atau saran untuk meningkatkan alat ini.<br/><br/>Disaster Ninja adalah proyek sumber terbuka. Temukan kodenya di <8>akun GitHub Kontur</8>."},bre={get_location_error:"Kesalahan saat memperoleh lokasi",feature_title:"Temukan saya"},wre="Episode",Sre="Memuat Episode",Ere={},Cre={km:kne,m:Tne,to:Pne,maps:Ine,logout:One,save:Mne,cancel:Lne,create:Rne,disasters:Dne,loading:Fne,loading_events:Bne,legend:zne,vertical_direction:Nne,horizontal_direction:Une,legend_presentation:jne,layers:$ne,bivariate:Vne,feed:Hne,deselect:qne,spinner_text:Gne,updated:Qne,no_data_received:Wne,wrong_data_received:Kne,error:Zne,sort_icon:Xne,configs:Yne,errors:Jne,common:ere,categories:tre,groups:nre,modes:rre,advanced_analytics_data_list:ire,event_list:ore,create_layer:are,analytics_panel:sre,advanced_analytics_panel:lre,advanced_analytics_empty:ure,current_event:cre,draw_tools:fre,boundary_selector:pre,geometry_uploader:hre,focus_geometry:Are,focus_geometry_layer:dre,drawings:mre,sidebar:gre,login:yre,profile:vre,reports:_re,about:xre,locate_me:bre,episode:wre,loading_episodes:Sre,cookie_banner:Ere},kre="km",Tre="m",Pre="bis",Ire="Karten",Ore="Abmelden",Mre="Speichern",Lre="Abbrechen",Rre="Erstellen",Dre="Katastrophen",Fre="Wird geladen...",Bre="Ereignisse werden geladen",zre="Legende",Nre="Vertikale Richtung",Ure="Horizontale Richtung",jre="Darstellung der Legende",$re="Ebenen",Vre={color_manager:{layers_filter:"Ebenen",not_defined:"Nicht definiert",sentiments_combinations_filter:"Stimmungs-Kombinationen",no_legends:"Es gibt keine Legenden, die den Kriterien entsprechen.",no_data:"Keine Daten.",sentiments_tab:"Stimmungen",color_legends_tab:"Farbe Legenden",layers_tab:"Ebenen (Indikatoren)"},panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Basisachse",annex_axis:"Hilfsachse",tooltip:{p1:"Diagramme mit der Basis- und der Hilfsachse helfen, eine Beziehung zwischen zwei Datenstzen herzustellen.",li1:"Hilfsachse - Parameter, die wir analysieren",li2:"Basisachse - Referenzpunkt in der Analyse",b:"Beispiel: der beste Standort fr die Erffnung eines Cafs",p2:"Wir knnen die Anzahl der Lokale (Hilfsachse) gegen die Bevlkerungsdichte (Basisachse) untersuchen.",p3:"In diesem Szenario liegt unser Interesse zunchst auf einer kleinen Anzahl von Lokalen, wobei uns die Anzahl der Personen in diesem Ort zustzliche Informationen liefert."}},header:{title:"Whlen Sie zwei Ebenen, um Zusammenhnge zu untersuchen",hint:"Die Ebenen und Zusammenhnge werden fr den aktuellen ausgewhlten Bereich angezeigt"},icon:{population:"Wert geteilt durch Einwohnerzahl",area_km2:"Wert geteilt durch Flche",total_building_count:"Wert geteilt durch geschtzte Gesamtbebauung",populated_area_km2:"Wert geteilt durch bevlkerte Flche",one:"Ohne Teilung",roads:"Wert geteilt durch die Gesamtlnge der Straen"},progress:{rendering:"bertragung",applied:"Wird auf die Karte angewendet"}},legend:{high:"Hoch",low:"Niedrig",medium:"Mittel"}},Hre="Feed",qre="Auswahl aufheben",Gre="Daten sammeln",Qre="Aktualisiert",Wre="Keine Daten erhalten",Kre="Falsche Daten empfangen",Zre="Fehler",Xre="Sortiersymbol",Yre={Kontur_public_feed:"Kontur ffentlichkeit",Kontur_public_feed_description:"Der Feed enthlt Echtzeitdaten ber Wirbelstrme, Drren, Erdbeben, berschwemmungen, Vulkanausbrche und Waldbrnde."},Jre={default:"Leider gibt es derzeit ein paar Probleme, die wir in Krze beheben werden",timeout:"Zeitberschreitung der Anfrage",cannot_connect:"Die Verbindung zum Server kann nicht hergestellt werden",forbidden:"Verboten",not_found:"Nicht gefunden",unknown:"Unbekannt",server_error:"Serverfehler"},eie={severity_unknown:"Unbekannt"},tie={overlays:"berlagerungen",basemap:"Basiskarte"},nie={layers_in_selected_area:"Ebenen im ausgewhlten Bereich",your_layers:"Ihre Ebenen",kontur_analytics:"Kontur Analytik",qa:"QS",osmbasedmap:"Basierend auf OpenStreetMap",other:"Andere",elevation:"Hhe",photo:"Foto",map:"Karte"},rie={map:"Karte",about:"ber uns",reports:"Berichte",profile:"Profil"},iie={load_world_data:"Weltdaten laden",numerator:"Zhler",normalized_by:"Normalisiert auf",sum:"Summe",min:"Min",max:"Max",mean:"Mittelwert",stddev:"SD",median:"Median",filter_denominator:"Filter Nenner"},oie={warning_title:"Die Karte kann nicht als Filter verwendet werden",warning_description:"Die Karte ist noch nicht bereit. Bitte versuchen Sie es spter.",bbox_filter_button:"Kartenansicht als Filter verwenden",analytics:{affected_people:{tooltip:"Betroffene Menschen",value:"Keine humanitren Auswirkungen"},settled_area_tooltip:"Besiedeltes Gebiet",loss_tooltip:"Geschtzter Verlust"},no_event_in_feed:"Das Ereignis wurde nicht im aktuellen Ereignis-Feed gefunden",no_selected_disaster:"Keine Katastrophe ausgewhlt",chose_disaster:"Katastrophe auswhlen"},aie={edit_layer:"Ebene bearbeiten",edit_features:"Merkmale bearbeiten",delete_layer:"Ebene lschen",create_layer:"Ebene erstellen",saving_layer:"Ebene wird gespeichert...",field_name:"Feldname",layer_name:"Name der Ebene",marker_icon:"Markierungssymbol",type:"Typ",select:"Auswhlen",short_text:"Kurzer Text",long_text:"Langer Text",link:"Link",image:"Bild",fields:"Felder",add_field:"Feld hinzufgen",location:"Standort",edit_feature_placeholder:"Whlen Sie einige Merkmale aus, um Merkmalseigenschaften zu bearbeiten"},sie={header_title:"Analytik",info_tab:"INFO",error_loading:"Fehler beim Abrufen von Analysedaten"},lie={header_title:"Erweiterte Analytik",error:"Fehler beim Abrufen von erweiterten Analysedaten"},uie={not_found:"Leider wurde das gewnschte Ereignis nicht gefunden.",error:"Es ist ein Fehler aufgetreten!"},cie={not_found_request:"Leider wurde das gewnschte Ereignis nicht gefunden."},fie={area:"Gebiet",line:"Linie",point:"Punkt",finish_drawing:"Zeichnen beenden",caption:"Klicken Sie auf die Karte, um mit dem Zeichnen zu beginnen",no_geometry_error:"Keine gezeichnete Formen zum Herunterladen",overlap_error:"Das Polygon darf sich nicht berschneiden",save_features:"Merkmale speichern"},pie={title:"Fokus auf die Verwaltungsgrenze"},hie={title:"Fokus auf die hochgeladene geometrische Form",error:"Fehler beim Lesen der hochgeladenen Datei"},Aie={title:"Fokus auf freihndig gezeichnete Formen"},die={settings:{name:"Ausgewhltes Gebiet"}},mie={self_directions_not_supported:"berschneidungen werden nicht untersttzt!"},gie={biv_color_manager:"Farbmanager",edit_osm:"In OpenStreetMap bearbeiten",ruler:"Lineal",collapse:"Zusammenklappen",expand:"Erweitern",icon_alt:"Logo der Anwendung"},yie={email:"E-Mail",password:"Passwort",login_button:"Anmelden",sign_up:"Registrieren",logging_in:"Anmelden...",log_in:"Einloggen",description:"Bitte melden Sie sich an, um Ihre Einstellungen zu ndern",error:{email_empty:"E-Mail darf nicht leer sein!",email_invalid:"E-Mail muss gltig sein!",password:"Passwort darf nicht leer sein!",connect:"Die Verbindung zum Authentifizierungsdienst konnte nicht hergestellt werden"}},vie={email:"E-Mail",profileSettingsHeader:"Profil",interfaceTheme:"Thema",interfaceLanguage:"Sprache",units:"Einheiten",fullName:"Vollstndiger Name",metric:"metrisch",imperialBeta:"imperial (beta)",appSettingsHeader:"Einstellungen",englishLanguageOption:"Englisch",spanishLanguageOption:"Spanisch",arabicLanguageOption:"Arabisch",saveButton:"nderungen speichern",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Standardmige Katastrophenmeldung",defaultOSMeditor:"Standardmiger OpenStreetMap-Editor (Beta)",successNotification:"Alle nderungen wurden erfolgreich bernommen"},_ie={title:"Disaster Ninja Berichte",no_data:"Keine Daten fr diesen Bericht",sorting:"Daten werden sortiert...",loading:"Daten werden geladen",search_location:"Standort suchen",open_josm:"ffnen ber die JOSM-Fernsteuerung",josm_logo_alt:"JOSM-Logo",see_all:"Alle Berichte anzeigen",wrong_id:"Falsche Berichts-ID",description:"<0>Kontur </0> generiert verschiedene Berichte, die bei der berprfung der Qualitt von OpenStreetMap helfen. Sie enthalten Links zu Gebieten auf <4>osm.org </4> und Links, um sie im JOSM-Editor mit aktivierter Fernsteuerung zur Bearbeitung ffnen zu knnen."},xie={title:"Willkommen bei Disaster Ninja!",intro:"Mchten Sie ber aktuelle Katastrophen informiert werden? Sind Sie an sofortigen Bevlkerungsdaten und anderen Analysen fr eine beliebige Region auf der Welt interessiert? Disaster Ninja zeigt Ihnen einige der Funktionen von <2>Kontur</2>, mit denen diese Anforderungen umgesetzt werden knnen.<br/><br/>Ursprnglich haben wir es als Entscheidungshilfe fr Kartografen im humanitren Bereich entwickelt. Mittlerweile ist der Funktionsumfang und der Anwendungsbereich des Programms erweitert worden. Ganz gleich, ob Sie im Katastrophenmanagement ttig sind, eine intelligente Stadt bauen oder ber den Klimawandel forschen, Disaster Ninja kann Ihnen dabei helfen:",l1:"1. ber die aktuellen Gefahrenereignisse weltweit auf dem Laufenden zu bleiben.",p1:"Das Bedienfeld von Disasters wird kontinuierlich aktualisiert, um Sie ber aktuelle Ereignisse zu informieren. Es bezieht die Daten aus dem <2>Kontur Ereignis-Feed</2>, auf den Sie auch ber eine API zugreifen knnen.",l2:"2. Den Fokus auf Ihr Interessengebiet zu legen.",p2:"Mit den Zeichenwerkzeugen knnen Sie Ihre eigene geometrische Form auf die Karte zeichnen oder hochladen. Sie knnen sich auch auf ein von einer Katastrophe betroffenes Gebiet oder eine Verwaltungseinheit - ein Land, eine Stadt oder eine Region - konzentrieren.",l3:"3. Die Analytik fr den ausgewhlten Bereich aufrufen.",p3:"Das Bedienfeld Analytik zeigt die Anzahl der in diesem Gebiet lebenden Menschen pro <2>Kontur Bevlkerung</2> und geschtzte Kartierungslcken in OpenStreetMap. Kontur-Kunden haben ber Erweiterte Analytik Zugang zu Hunderten von weiteren Indikatoren.",l4:"4. Die Daten auf der Karte entdecken und Schlussfolgerungen ziehen.",p4:"Das Ebenen-Panel bietet Ihnen verschiedene Optionen, um zwei Indikatoren gleichzeitig auf einer bivariaten Karte anzuzeigen, z. B. die Bevlkerungsdichte und die Entfernung zur nchsten Feuerwache. Verwenden Sie die Farblegende, um zu beurteilen, welche Bereiche Aufmerksamkeit erfordern. <br/>Tipp: Im Allgemeinen bedeutet grn ein geringes Risiko / wenige Lcken, rot ein hohes Risiko / viele Lcken.",p5:"Auerdem knnen Sie im linken Bereich zu Berichte wechseln, um auf Daten zu potenziellen Fehlern und Unstimmigkeiten in OpenStreetMap zuzugreifen und dabei zu helfen, diese zu beheben, indem Sie das entsprechende Gebiet mit dem JOSM-Editor kartieren.",goToMap:"Jetzt die Karte aufrufen",p6:"Wir hoffen, dass dieses Tool Ihnen von Nutzen ist. Wenn Sie Fragen zur Funktionalitt haben, knnen Sie die Chatbox auf Disaster Ninja nutzen, und wir helfen Ihnen gerne weiter. Sie knnen uns auch eine E-Mail an <1>hello@kontur.io</1> schreiben, wenn Sie Feedback oder Vorschlge zur Verbesserung des Tools haben.<br/><br/>Disaster Ninja ist ein Open-Source-Projekt. Sie finden den Code in <8>Konturs GitHub-Konto</8>."},bie={get_location_error:"Fehler beim Abrufen des Standorts",feature_title:"Standort finden"},wie="Episode",Sie="Episoden werden geladen",Eie={},Cie={km:kre,m:Tre,to:Pre,maps:Ire,logout:Ore,save:Mre,cancel:Lre,create:Rre,disasters:Dre,loading:Fre,loading_events:Bre,legend:zre,vertical_direction:Nre,horizontal_direction:Ure,legend_presentation:jre,layers:$re,bivariate:Vre,feed:Hre,deselect:qre,spinner_text:Gre,updated:Qre,no_data_received:Wre,wrong_data_received:Kre,error:Zre,sort_icon:Xre,configs:Yre,errors:Jre,common:eie,categories:tie,groups:nie,modes:rie,advanced_analytics_data_list:iie,event_list:oie,create_layer:aie,analytics_panel:sie,advanced_analytics_panel:lie,advanced_analytics_empty:uie,current_event:cie,draw_tools:fie,boundary_selector:pie,geometry_uploader:hie,focus_geometry:Aie,focus_geometry_layer:die,drawings:mie,sidebar:gie,login:yie,profile:vie,reports:_ie,about:xie,locate_me:bie,episode:wie,loading_episodes:Sie,cookie_banner:Eie},kie="en";rs.use(FR).use(hY).init({fallbackLng:kie,debug:!1,defaultNS:"common",interpolation:{escapeValue:!1},contextSeparator:":",pluralSeparator:":",resources:{en:{common:CJ},es:{common:Cee},ar:{common:Cte},ko:{common:Cne},id:{common:Cre},de:{common:Cie}}});const Lr={t:e=>{const t=rs.t(e);return typeof t=="string"?t:(console.error(`Not supported translation result for key: ${e}`),e)},instance:rs},vs=3,BR=[0,vs-1,vs*vs-vs,vs*vs-1],p2=`${Lr.t("bivariate.legend.low")}`,h2=`${Lr.t("bivariate.legend.high")}`,zR=Lr.t("bivariate.legend.medium"),Tie=e=>Array.from(Array(vs),(t,n)=>n).includes(e),A4=e=>{const t=vs*vs-vs;return Array.from(Array(vs),(n,i)=>t+i).includes(e)},d4=e=>Array.from(Array(vs),(t,n)=>n*vs).includes(e),Pie=e=>Array.from(Array(vs),(t,n)=>n*vs+(vs-1)).includes(e);const Zx=$t.memo(({children:e,tooltipText:t,renderTooltip:n,tooltipId:i,hoverBehavior:s=!0,popupClasses:l})=>{const o=e4(py.setCurrentTooltip),x=e4(py.resetCurrentTooltip),S=F=>{t&&o({popupClasses:l,popup:t,position:{x:F.clientX,y:F.clientY},onOuterClick(z,U){U()},initiatorId:i,hoverBehavior:s})};return e({showTooltip:(F,...z)=>{n?n(F,o,...z):S(F)},hideTooltip:()=>{x()}})});Zx.displayName="TooltipWrapper";function fg(e){return["get",e]}function Iie(e){return["var",e]}function vT(e,t){return["<",e,t]}function _T(e,t){return["!=",e,t]}function Oie(e,t){return["==",e,t]}function m4(e,t){return[e,t]}function g4(...e){const t=e.pop();return["case",...e.flat(2),t]}function Mie(...e){return["concat",...e]}function Lie(e,t,n){return["let",e,t,n]}function Rie(...e){return["any",...e]}function y4(e){return typeof e=="string"?e==="1"?1:fg(e):Array.isArray(e)?e.map((t,n)=>n===0?t:y4(t)):e}const Die=64,v4=e=>String.fromCharCode(Die+e);function Fie(e,t){const n=y4(e.propName),i=y4(t.propName);return Mie(g4(e.borders.map((s,l)=>m4(vT(n,s),v4(l))),v4(e.borders.length)),g4(t.borders.map((s,l)=>m4(vT(i,s),l)),t.borders.length))}function Bie(e,t,n){return g4(Object.entries(t).map(([i,s])=>m4(Oie(Iie(e),i),s)),n)}function zie(e){return Object.fromEntries(e.map(Object.values))}function Nie(e,t){return Rie(_T(["/",fg(e.quotient[0]),fg(e.quotient[1])],0),_T(["/",fg(t.quotient[0]),fg(t.quotient[1])],0))}function Uie(e,t,n){return Lie("class",Fie({propName:["/",...e.quotient],borders:e.steps.reduce((i,{value:s})=>(i.push(s),i),[])},{propName:["/",...t.quotient],borders:t.steps.reduce((i,{value:s})=>(i.push(s),i),[])}),Bie("class",n,"transparent"))}function NR({x:e,y:t,colors:n,source:i,sourceLayer:s,id:l="bivariate"}){const o={id:l,type:"fill",layout:{},filter:Nie(e,t),paint:{"fill-color":Uie(e,t,zie(n)),"fill-opacity":1,"fill-antialias":!1}};return i&&(o.source=i),s&&(o["source-layer"]=s),o}function jie(e,t="id"){const n=e.reduce((i,s)=>{const l=s[t].slice(0,1);return i[l]?i[l].push(s):i[l]=[s],i},{});return Object.values(n)}function $ie(e,t="id"){return[...jie(e,t)].reverse().reduce((i,s)=>i.concat(s),[])}const UR=e=>e.charAt(0).toUpperCase()+e.slice(1),Vie=e=>e.map(UR).join(", "),Hie=e=>e!==null&&typeof e=="object"&&"message"in e,qie=e=>Array.isArray(e)?Vie(e):UR(e),xT=e=>{if(!e)return"";const[t,n]=e;return bT(t.unit.id)?n.name==="one"?`${t.label} (${t.unit.shortName})`:bT(n.unit.id)?n.name==="area_km2"?`${t.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName})`:`${t.label} to ${n.label}`},bT=e=>Boolean(e&&e!=="other"),Gie="_tooltipRoot_zjmcz_1",Qie="_tooltipRow_zjmcz_11",Wie="_sentimentDirection_zjmcz_17",Kie="_sentimentLabel_zjmcz_21",Zie="_sentimentInfo_zjmcz_25",Xie="_indicator_zjmcz_29",Wd={tooltipRoot:Gie,tooltipRow:Qie,sentimentDirection:Wie,sentimentLabel:Kie,sentimentInfo:Zie,indicator:Xie},Yie=({children:e,hints:t})=>{const n=(i,s,l,o)=>{t&&BR.includes(o)&&s({popup:wt(Jie,{cellIndex:o,hints:t}),position:{x:i.clientX,y:i.clientY},hoverBehavior:!0})};return $t.isValidElement(e)?wt(Zx,{renderTooltip:n,children:({showTooltip:i,hideTooltip:s})=>$t.cloneElement(e,{onCellPointerOver:i,onCellPointerLeave:s})}):null},Jie=({hints:e,cellIndex:t})=>{var i,s,l,o,x,S;if(!e)return null;const n=[{label:(i=e.x)==null?void 0:i.label,direction:(l=(s=e.x)==null?void 0:s.direction)==null?void 0:l[A4(t)?0:1],indicator:A4(t)?p2:h2},{label:(o=e.y)==null?void 0:o.label,direction:(S=(x=e.y)==null?void 0:x.direction)==null?void 0:S[d4(t)?0:1],indicator:d4(t)?p2:h2}];return wt("div",{className:aa(Wd.tooltipRoot),children:n.map(({label:T,direction:M,indicator:F},z)=>Qr("div",{className:aa(Wd.tooltipRow),children:[wt("span",{className:aa(Wd.indicator),children:F}),Qr("span",{className:aa(Wd.sentimentInfo),children:[Qr("span",{className:aa(Wd.sentimentLabel),children:[T," "]}),M&&wt("span",{className:aa(Wd.sentimentDirection),children:qie(M)})]})]},z))})},eoe={hints:{x:{label:"Average NDVI, JUN 2019",direction:[["bad"],["good"]]},y:{label:"Multi-hazard exposure PDC GRVA",direction:[["unimportant"],["bad","important"]]}}},toe={x:{label:"Multi-hazard exposure PDC GRVA to 1",steps:[{label:"",value:0},{label:"",value:.48},{label:"",value:.62},{label:"",value:1}],quality:.997101882904748,quotient:["mhe_index","one"]},y:{label:"Average NDVI, JUN 2019 to 1",steps:[{label:"",value:-1},{label:"",value:.3625118070036407},{label:"",value:.6441754083082613},{label:"",value:1}],quality:.9410965072118505,quotient:["avg_ndvi","one"]}},noe=[{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(179,165,130,0.5)"},{label:"C3",color:"rgba(153,153,153,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(195,163,111,0.5)"},{label:"B3",color:"rgba(204,103,116,0.5)"},{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"}];function roe(){return Qr(PL,{children:[wt(IR,{}),wt(Yie,{meta:eoe,children:wt(Gq,{showAxisLabels:!0,size:vs,axis:toe,cells:noe})})]})}const ioe="_LegendGrid_1ko5k_1",ooe="_LegendGridCell_1ko5k_10",aoe="_LegendGridCellChanged_1ko5k_17",soe="_LegendGridCellUndefinedChanged_1ko5k_22",loe="_CircleIndicator_1ko5k_26",uoe="_UndefinedColorsIndicator_1ko5k_36",Kd={LegendGrid:ioe,LegendGridCell:ooe,LegendGridCellChanged:aoe,LegendGridCellUndefinedChanged:soe,CircleIndicator:loe,UndefinedColorsIndicator:uoe},Jm=({legendSteps:e,changes:t={}})=>{const n=BR.map(s=>e[s]),i=e.some(s=>s.isFallbackColor);return Qr("div",{className:Kd.LegendGrid,children:[n.map(s=>{var T;let l=s.color,o=!1,x,S;if(t[s.label]){o=!0;const M=(T=t[s.label])==null?void 0:T.color;l=M,x=M?Kd.LegendGridCellChanged:Kd.LegendGridCellUndefinedChanged}return l&&(S={backgroundColor:l}),wt("div",{className:aa(Kd.LegendGridCell,x),style:S,children:o&&wt("div",{className:Kd.CircleIndicator})},s.label)}),i&&wt("div",{className:Kd.UndefinedColorsIndicator,children:wt(coe,{})})]})},coe=()=>Qr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[wt("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),wt("path",{d:"M10 3C6.13438 3 3 6.13438 3 10C3 13.8656 6.13438 17 10 17C13.8656 17 17 13.8656 17 10C17 6.13438 13.8656 3 10 3ZM10 15.8125C6.79063 15.8125 4.1875 13.2094 4.1875 10C4.1875 6.79063 6.79063 4.1875 10 4.1875C13.2094 4.1875 15.8125 6.79063 15.8125 10C15.8125 13.2094 13.2094 15.8125 10 15.8125Z",fill:"#F5222D"}),wt("path",{d:"M9.25 12.75C9.25 12.9489 9.32902 13.1397 9.46967 13.2803C9.61032 13.421 9.80109 13.5 10 13.5C10.1989 13.5 10.3897 13.421 10.5303 13.2803C10.671 13.1397 10.75 12.9489 10.75 12.75C10.75 12.5511 10.671 12.3603 10.5303 12.2197C10.3897 12.079 10.1989 12 10 12C9.80109 12 9.61032 12.079 9.46967 12.2197C9.32902 12.3603 9.25 12.5511 9.25 12.75ZM9.625 11H10.375C10.4438 11 10.5 10.9438 10.5 10.875V6.625C10.5 6.55625 10.4438 6.5 10.375 6.5H9.625C9.55625 6.5 9.5 6.55625 9.5 6.625V10.875C9.5 10.9438 9.55625 11 9.625 11Z",fill:"#F5222D"})]}),eg=[{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(159,171,87,0.5)"},{label:"B3",color:"rgba(140,127,57,0.5)"},{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(88,176,117,0.5)"},{label:"C3",color:"rgba(83,152,106,0.5)"}],foe=Qr("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:["All next colors - undefined",wt(Jm,{legendSteps:eg,changes:{A1:{color:void 0},A3:{color:void 0},C1:{color:void 0},C3:{color:void 0}}}),"No changes",wt(Jm,{legendSteps:eg,changes:{}}),"All changed",wt(Jm,{legendSteps:eg,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(171, 216, 237, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed",wt(Jm,{legendSteps:eg,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed, half comes incorrect",wt(Jm,{legendSteps:eg,changes:{A1:{color:void 0},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:void 0}}})]}),poe="modulepreload",hoe=function(e,t){return new URL(e,t).href},wT={},Aoe=function(t,n,i){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=hoe(l,i),l in wT)return;wT[l]=!0;const o=l.endsWith(".css"),x=o?'[rel="stylesheet"]':"";if(!!i)for(let M=s.length-1;M>=0;M--){const F=s[M];if(F.href===l&&(!o||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${x}`))return;const T=document.createElement("link");if(T.rel=o?"stylesheet":poe,o||(T.as="script",T.crossOrigin=""),T.href=l,document.head.appendChild(T),o)return new Promise((M,F)=>{T.addEventListener("load",M),T.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},doe=e=>new Proxy({},{get:(t,n)=>{if(typeof n=="string")return $t.lazy(()=>e(n).then(i=>({default:i[n]})))}}),ST="bivariate-greetings-disabled",moe="_container_zzzsn_1",goe="_closeButton_zzzsn_8",ET={container:moe,closeButton:goe},{BivariateGreetings:yoe}=doe(()=>Aoe(()=>import("./BivariateGreetings-4c4b9f45.js"),[],import.meta.url)),voe=({className:e})=>{const[t,n]=$t.useState(!1);$t.useEffect(()=>{!localStorage.getItem(ST)&&!t&&n(!0)},[]);const i=()=>{n(!1),localStorage.setItem(ST,"true")};return t?Qr("div",{className:aa(e,ET.container),children:[wt($t.Suspense,{fallback:null,children:wt(yoe,{})}),wt("div",{onClick:i,className:ET.closeButton,children:wt(UH,{})})]}):null},_oe=()=>wt(voe,{});var xoe=0;function boe(e){var t=e.get,n=e.set,i=e.throttle,s=i===void 0?0:i;return function(l){var o="__persistIntervalId"+ ++xoe;return function(x){return function(S,T){var M=T.atom.id;T.tracks==null&&(T.state=t(l??M));var F=x(S,T);return n!=null&&S.schedule(function(){var z;s==0?n(l??M,F.state):((z=F.ctx[o])!=null?z:null)===null&&(F.ctx[o]=setTimeout(function(){F.ctx[o]=null,n(l??M,S.getCache(F.atom).state)},150))}),F}}}}var woe={get:function(e){var t,n=(t=globalThis.localStorage)==null?void 0:t.getItem(e);return n?JSON.parse(n):void 0},set:function(e,t){var n;return(n=globalThis.localStorage)==null?void 0:n.setItem(e,JSON.stringify(t))},throttle:150};boe(woe);function Soe(e,t){if(Object.is(e,t))return!0;if(l2(e)&&l2(t)){var n=Object.keys(e),i=Object.keys(t);return n.length==i.length&&n.every(function(s){return Object.is(e[s],t[s])})}return!1}function jR(e){return e===void 0&&(e=Soe),function(t){return function(n,i){var s=t(n,i);return i.tracks!=null&&e(i.state,s.state)&&(s.state=i.state),s}}}class LA extends Error{constructor(n,i){super(n);oi(this,"problem");this.problem=i,Object.setPrototypeOf(this,LA.prototype)}}function $R(e){return e.problem?typeof e.problem=="object":!1}const VR="Abort error",CT=e=>e?typeof e=="string"?e===VR:$R(e)?e.problem.kind==="canceled":e instanceof DOMException?e.name==="AbortError":!1:!1;async function Eoe(e,t){return new Promise((n,i)=>{if(e.signal.aborted)return Promise.reject(new DOMException("Aborted","AbortError"));const s=()=>{e.signal.removeEventListener("abort",s),i(new DOMException("Aborted","AbortError"))};e.signal.addEventListener("abort",s),t.then(n).catch(i).finally(()=>e.signal.removeEventListener("abort",s))})}function Coe(e){return"loading"in e||"error"in e}const koe="",Toe=e=>(...t)=>{e===koe&&console.log(...t)},Yw={inheritState:!1,store:wR,auto:!0},HR=(e=>t=>{if(!e.has(t))return e.add(t),t;console.warn(`Atom with name ${t} already exist. Full page reload recommended`);const n=t+performance.now();return HR(n)})(new Set);function qR(e,t,n,i={}){const s=Toe(n),l={...i,auto:i.auto??Yw.auto,inheritState:i.inheritState??Yw.inheritState,store:i.store??Yw.store},o={request:S=>S,refetch:()=>null,cancel:()=>null,_done:(S,T)=>({params:S,data:T}),_error:(S,T)=>({params:S,error:T}),_loading:S=>({params:S})};return e&&(o.depsAtom=e),Mo(o,({onAction:S,schedule:T,create:M,onChange:F,get:z},U={loading:!1,data:null,error:null,lastParams:null,dirty:!1})=>{const q={...U};return S("request",K=>{q.dirty=!0,T(async(ee,V)=>{if(s("1. Request",K),V.abortController){s("2. Cancel flow"),V.abortController.abort(),delete V.abortController;let ne=!1;try{s("2.1. Cancel flow: await activeRequest"),await V.activeRequest}catch(he){s("2.2. Cancel flow: activeRequest have error"),ne=CT(he)}ne&&(s("2.3. Cancel flow: activeRequest was canceled"),s("2.4. Repeat request"),ee(M("request",K)));return}s("3. Set loading state"),ee(M("_loading",K));const X=new AbortController;try{V.abortController=X,V.activeRequest=Eoe(X,t(K,X)),s("4. Wait result");const ne=await V.activeRequest;ne===void 0&&console.warn("resourceAtom: fetcherResult undefined"),delete V.activeRequest,s("5. Check that it was aborted:"),X.signal.throwIfAborted(),s("5.1.A. request was not aborted"),V.abortController===X&&(s("5.1.A.1. Done"),delete V.abortController,ee(M("_done",K,ne)),l.onSuccess&&l.onSuccess(ee,K,ne))}catch(ne){if(CT(ne))s("5.1.B. request was aborted"),s("5.1.B.1. Error"),ee(M("_error",K,VR));else if(V.abortController===X){delete V.abortController,s("5.1.C Not abort error"),console.error(`[${n}]:`,ne);const he=Hie(ne)?ne.message:typeof ne=="string"?ne:"Unknown";ee(M("_error",K,he))}}})}),S("refetch",()=>{T((K,ee)=>{U.dirty&&!U.loading?K(M("request",q.lastParams)):console.error(`[${n}]:`,"Do not call refetch before request")})}),S("cancel",()=>{T(async(K,ee)=>{ee.abortController&&(ee.abortController.abort(),delete ee.abortController)})}),S("_loading",({params:K})=>{q.loading=!0,q.error=null,q.lastParams=K}),S("_error",({params:K,error:ee})=>{q.error=ee,q.lastParams=K,q.loading=!1}),S("_done",({data:K,params:ee})=>{q.data=K,q.error=null,q.loading=!1,q.lastParams=ee}),o.depsAtom?F("depsAtom",K=>{var ee;l2(K)?(l.inheritState&&(q.loading=K.loading||q.loading,q.error=K.error||q.error),Coe(K)?!K.loading&&!K.error&&K.dirty&&T(V=>V(M("request",K.data))):T(V=>V(M("request",K)))):K!==null?T(V=>V(M("request",K))):console.warn(`Resource atom with name ${n} skips running as its dependency state ${(ee=o==null?void 0:o.depsAtom)==null?void 0:ee.id} is null`)}):l.auto&&!q.dirty&&T(K=>K(M("request",null))),q},{id:HR(n),store:l.store,decorators:[jR()]})}const UA={global:{},custom:{},merged:{}};function Poe(){var n,i,s,l;const e=globalThis.konturAppConfig??{},t={apiGateway:e.API_GATEWAY,boundariesApi:e.BOUNDARIES_API,reportsApi:e.REPORTS_API,bivariateTilesRelativeUrl:e.BIVARIATE_TILES_RELATIVE_URL,bivariateTilesServer:e.BIVARIATE_TILES_SERVER,bivariateTilesIndicatorsClass:e.BIVARIATE_TILES_INDICATORS_CLASS,refreshIntervalSec:e.REFRESH_INTERVAL_SEC,mapAccessToken:e.MAP_ACCESS_TOKEN,mapBaseStyle:e.MAP_BASE_STYLE,featuresByDefault:e.FEATURES_BY_DEFAULT,defaultFeed:e.DEFAULT_FEED,defaultFeedObject:Moe(e.DEFAULT_FEED),keycloakUrl:e.KEYCLOAK_URL,keycloakRealm:e.KEYCLOAK_REALM,keycloakClientId:e.KEYCLOAK_CLIENT_ID,yandexMetricaId:e.YANDEX_METRICA_ID,baseUrl:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_BASE_PATH,isDevBuild:!1,isProdBuild:!0,appVersion:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.PACKAGE_VERSION,autoFocus:{desktopPaddings:{top:((n=e.AUTOFOCUS_PADDINGS)==null?void 0:n[0])??0,right:((i=e.AUTOFOCUS_PADDINGS)==null?void 0:i[1])??0,bottom:((s=e.AUTOFOCUS_PADDINGS)==null?void 0:s[2])??0,left:((l=e.AUTOFOCUS_PADDINGS)==null?void 0:l[3])??0},maxZoom:e.AUTOFOCUS_ZOOM},intercom:{name:e.INTERCOM_DEFAULT_NAME,app_id:e.INTERCOM_APP_ID,custom_launcher_selector:e.INTERCOM_SELECTOR},osmEditors:e.OSM_EDITORS||[{id:"josm",title:"JOSM",url:"https://www.openstreetmap.org/edit?editor=remote#map="}],effectiveFeatures:{}};return UA.global=t,t}function Ioe(e){return e.features&&e.features.length>0?Object.fromEntries((e.features??[]).map(t=>[t.name,t.configuration||!0])):Object.fromEntries((e.featuresByDefault??[]).map(t=>[t,!0]))}function Ooe(){Poe();const e={...UA.global,...UA.custom};return e.effectiveFeatures=Ioe(e),Object.assign(UA.merged,e),e}Ooe();const va=new Proxy(UA.merged,{get(e,t){return bR&&console.warn("\x1B[1;35m appConfig\x1B[0m",t,UA.merged[t]),UA.merged[t]}});console.info(`%c Disaster Ninja ${{}.PACKAGE_VERSION} deployment:
  - Build Time: ${{}.BUILD_TIME}
  - Git Branch: ${{}.GIT_BRANCH}
  - Git Commit: #${{}.GIT_COMMIT_HASH}
  - Git Commit Time: ${{}.GIT_COMMIT_TIME}
  `,"color: #bada55");function Moe(e){return(!e||e!=="kontur-public")&&console.warn("WARNING! Default feed provided via config is incorrect or absent"),{feed:"kontur-public",name:Lr.t("configs.Kontur_public_feed"),description:Lr.t("configs.Kontur_public_feed_description"),default:!0}}function _4(e){this.message=e}_4.prototype=new Error,_4.prototype.name="InvalidCharacterError";var kT=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new _4("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,s=0,l=0,o="";i=t.charAt(l++);~i&&(n=s%4?64*n+i:i,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};function Loe(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(kT(n).replace(/(.)/g,function(i,s){var l=s.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return kT(t)}}function A2(e){this.message=e}function Roe(e,t){if(typeof e!="string")throw new A2("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(Loe(e.split(".")[n]))}catch(i){throw new A2("Invalid token specified: "+i.message)}}A2.prototype=new Error,A2.prototype.name="InvalidTokenError";var x4={},Doe={get exports(){return x4},set exports(e){x4=e}},d2={},Foe={get exports(){return d2},set exports(e){d2=e}},GR=function(t,n){return function(){for(var s=new Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];return t.apply(n,s)}},Boe=GR,qC=Object.prototype.toString,GC=function(e){return function(t){var n=qC.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ad(e){return e=e.toLowerCase(),function(n){return GC(n)===e}}function QC(e){return Array.isArray(e)}function m2(e){return typeof e>"u"}function zoe(e){return e!==null&&!m2(e)&&e.constructor!==null&&!m2(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var QR=ad("ArrayBuffer");function Noe(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QR(e.buffer),t}function Uoe(e){return typeof e=="string"}function joe(e){return typeof e=="number"}function WR(e){return e!==null&&typeof e=="object"}function c_(e){if(GC(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var $oe=ad("Date"),Voe=ad("File"),Hoe=ad("Blob"),qoe=ad("FileList");function WC(e){return qC.call(e)==="[object Function]"}function Goe(e){return WR(e)&&WC(e.pipe)}function Qoe(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||qC.call(e)===t||WC(e.toString)&&e.toString()===t)}var Woe=ad("URLSearchParams");function Koe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Zoe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function KC(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),QC(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function b4(){var e={};function t(s,l){c_(e[l])&&c_(s)?e[l]=b4(e[l],s):c_(s)?e[l]=b4({},s):QC(s)?e[l]=s.slice():e[l]=s}for(var n=0,i=arguments.length;n<i;n++)KC(arguments[n],t);return e}function Xoe(e,t,n){return KC(t,function(s,l){n&&typeof s=="function"?e[l]=Boe(s,n):e[l]=s}),e}function Yoe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function Joe(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function eae(e,t,n){var i,s,l,o={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],o[l]||(t[l]=e[l],o[l]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function tae(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return i!==-1&&i===n}function nae(e){if(!e)return null;var t=e.length;if(m2(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var rae=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),ws={isArray:QC,isArrayBuffer:QR,isBuffer:zoe,isFormData:Qoe,isArrayBufferView:Noe,isString:Uoe,isNumber:joe,isObject:WR,isPlainObject:c_,isUndefined:m2,isDate:$oe,isFile:Voe,isBlob:Hoe,isFunction:WC,isStream:Goe,isURLSearchParams:Woe,isStandardBrowserEnv:Zoe,forEach:KC,merge:b4,extend:Xoe,trim:Koe,stripBOM:Yoe,inherits:Joe,toFlatObject:eae,kindOf:GC,kindOfTest:ad,endsWith:tae,toArray:nae,isTypedArray:rae,isFileList:qoe},Zd=ws;function TT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var KR=function(t,n,i){if(!n)return t;var s;if(i)s=i(n);else if(Zd.isURLSearchParams(n))s=n.toString();else{var l=[];Zd.forEach(n,function(S,T){S===null||typeof S>"u"||(Zd.isArray(S)?T=T+"[]":S=[S],Zd.forEach(S,function(F){Zd.isDate(F)?F=F.toISOString():Zd.isObject(F)&&(F=JSON.stringify(F)),l.push(TT(T)+"="+TT(F))}))}),s=l.join("&")}if(s){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},iae=ws;function Xx(){this.handlers=[]}Xx.prototype.use=function(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Xx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Xx.prototype.forEach=function(t){iae.forEach(this.handlers,function(i){i!==null&&t(i)})};var oae=Xx,aae=ws,sae=function(t,n){aae.forEach(t,function(s,l){l!==n&&l.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[l])})},ZR=ws;function $0(e,t,n,i,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}ZR.inherits($0,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var XR=$0.prototype,YR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){YR[e]={value:e}});Object.defineProperties($0,YR);Object.defineProperty(XR,"isAxiosError",{value:!0});$0.from=function(e,t,n,i,s,l){var o=Object.create(XR);return ZR.toFlatObject(e,o,function(S){return S!==Error.prototype}),$0.call(o,e.message,t,n,i,s),o.name=e.name,l&&Object.assign(o,l),o};var tm=$0,JR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ec=ws;function lae(e,t){t=t||new FormData;var n=[];function i(l){return l===null?"":Ec.isDate(l)?l.toISOString():Ec.isArrayBuffer(l)||Ec.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function s(l,o){if(Ec.isPlainObject(l)||Ec.isArray(l)){if(n.indexOf(l)!==-1)throw Error("Circular reference detected in "+o);n.push(l),Ec.forEach(l,function(S,T){if(!Ec.isUndefined(S)){var M=o?o+"."+T:T,F;if(S&&!o&&typeof S=="object"){if(Ec.endsWith(T,"{}"))S=JSON.stringify(S);else if(Ec.endsWith(T,"[]")&&(F=Ec.toArray(S))){F.forEach(function(z){!Ec.isUndefined(z)&&t.append(M,i(z))});return}}s(S,M)}}),n.pop()}else t.append(o,i(l))}return s(e),t}var eD=lae,Jw,PT;function uae(){if(PT)return Jw;PT=1;var e=tm;return Jw=function(n,i,s){var l=s.config.validateStatus;!s.status||!l||l(s.status)?n(s):i(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},Jw}var e3,IT;function cae(){if(IT)return e3;IT=1;var e=ws;return e3=e.isStandardBrowserEnv()?function(){return{write:function(i,s,l,o,x,S){var T=[];T.push(i+"="+encodeURIComponent(s)),e.isNumber(l)&&T.push("expires="+new Date(l).toGMTString()),e.isString(o)&&T.push("path="+o),e.isString(x)&&T.push("domain="+x),S===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),e3}var fae=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},pae=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},hae=fae,Aae=pae,tD=function(t,n){return t&&!hae(n)?Aae(t,n):n},t3,OT;function dae(){if(OT)return t3;OT=1;var e=ws,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return t3=function(i){var s={},l,o,x;return i&&e.forEach(i.split(`
`),function(T){if(x=T.indexOf(":"),l=e.trim(T.substr(0,x)).toLowerCase(),o=e.trim(T.substr(x+1)),l){if(s[l]&&t.indexOf(l)>=0)return;l==="set-cookie"?s[l]=(s[l]?s[l]:[]).concat([o]):s[l]=s[l]?s[l]+", "+o:o}}),s},t3}var n3,MT;function mae(){if(MT)return n3;MT=1;var e=ws;return n3=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function l(o){var x=o;return n&&(i.setAttribute("href",x),x=i.href),i.setAttribute("href",x),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=l(window.location.href),function(x){var S=e.isString(x)?l(x):x;return S.protocol===s.protocol&&S.host===s.host}}():function(){return function(){return!0}}(),n3}var r3,LT;function Yx(){if(LT)return r3;LT=1;var e=tm,t=ws;function n(i){e.call(this,i??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),r3=n,r3}var i3,RT;function gae(){return RT||(RT=1,i3=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),i3}var o3,DT;function FT(){if(DT)return o3;DT=1;var e=ws,t=uae(),n=cae(),i=KR,s=tD,l=dae(),o=mae(),x=JR,S=tm,T=Yx(),M=gae();return o3=function(z){return new Promise(function(q,K){var ee=z.data,V=z.headers,X=z.responseType,ne;function he(){z.cancelToken&&z.cancelToken.unsubscribe(ne),z.signal&&z.signal.removeEventListener("abort",ne)}e.isFormData(ee)&&e.isStandardBrowserEnv()&&delete V["Content-Type"];var pe=new XMLHttpRequest;if(z.auth){var le=z.auth.username||"",be=z.auth.password?unescape(encodeURIComponent(z.auth.password)):"";V.Authorization="Basic "+btoa(le+":"+be)}var Se=s(z.baseURL,z.url);pe.open(z.method.toUpperCase(),i(Se,z.params,z.paramsSerializer),!0),pe.timeout=z.timeout;function De(){if(pe){var at="getAllResponseHeaders"in pe?l(pe.getAllResponseHeaders()):null,yt=!X||X==="text"||X==="json"?pe.responseText:pe.response,Ot={data:yt,status:pe.status,statusText:pe.statusText,headers:at,config:z,request:pe};t(function(Jt){q(Jt),he()},function(Jt){K(Jt),he()},Ot),pe=null}}if("onloadend"in pe?pe.onloadend=De:pe.onreadystatechange=function(){!pe||pe.readyState!==4||pe.status===0&&!(pe.responseURL&&pe.responseURL.indexOf("file:")===0)||setTimeout(De)},pe.onabort=function(){pe&&(K(new S("Request aborted",S.ECONNABORTED,z,pe)),pe=null)},pe.onerror=function(){K(new S("Network Error",S.ERR_NETWORK,z,pe,pe)),pe=null},pe.ontimeout=function(){var yt=z.timeout?"timeout of "+z.timeout+"ms exceeded":"timeout exceeded",Ot=z.transitional||x;z.timeoutErrorMessage&&(yt=z.timeoutErrorMessage),K(new S(yt,Ot.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,z,pe)),pe=null},e.isStandardBrowserEnv()){var tt=(z.withCredentials||o(Se))&&z.xsrfCookieName?n.read(z.xsrfCookieName):void 0;tt&&(V[z.xsrfHeaderName]=tt)}"setRequestHeader"in pe&&e.forEach(V,function(yt,Ot){typeof ee>"u"&&Ot.toLowerCase()==="content-type"?delete V[Ot]:pe.setRequestHeader(Ot,yt)}),e.isUndefined(z.withCredentials)||(pe.withCredentials=!!z.withCredentials),X&&X!=="json"&&(pe.responseType=z.responseType),typeof z.onDownloadProgress=="function"&&pe.addEventListener("progress",z.onDownloadProgress),typeof z.onUploadProgress=="function"&&pe.upload&&pe.upload.addEventListener("progress",z.onUploadProgress),(z.cancelToken||z.signal)&&(ne=function(at){pe&&(K(!at||at&&at.type?new T:at),pe.abort(),pe=null)},z.cancelToken&&z.cancelToken.subscribe(ne),z.signal&&(z.signal.aborted?ne():z.signal.addEventListener("abort",ne))),ee||(ee=null);var Xe=M(Se);if(Xe&&["http","https","file"].indexOf(Xe)===-1){K(new S("Unsupported protocol "+Xe+":",S.ERR_BAD_REQUEST,z));return}pe.send(ee)})},o3}var a3,BT;function yae(){return BT||(BT=1,a3=null),a3}var Ja=ws,zT=sae,NT=tm,vae=JR,_ae=eD,xae={"Content-Type":"application/x-www-form-urlencoded"};function UT(e,t){!Ja.isUndefined(e)&&Ja.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function bae(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=FT()),e}function wae(e,t,n){if(Ja.isString(e))try{return(t||JSON.parse)(e),Ja.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}var Jx={transitional:vae,adapter:bae(),transformRequest:[function(t,n){if(zT(n,"Accept"),zT(n,"Content-Type"),Ja.isFormData(t)||Ja.isArrayBuffer(t)||Ja.isBuffer(t)||Ja.isStream(t)||Ja.isFile(t)||Ja.isBlob(t))return t;if(Ja.isArrayBufferView(t))return t.buffer;if(Ja.isURLSearchParams(t))return UT(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Ja.isObject(t),s=n&&n["Content-Type"],l;if((l=Ja.isFileList(t))||i&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return _ae(l?{"files[]":t}:t,o&&new o)}else if(i||s==="application/json")return UT(n,"application/json"),wae(t);return t}],transformResponse:[function(t){var n=this.transitional||Jx.transitional,i=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,l=!i&&this.responseType==="json";if(l||s&&Ja.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?NT.from(o,NT.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yae()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ja.forEach(["delete","get","head"],function(t){Jx.headers[t]={}});Ja.forEach(["post","put","patch"],function(t){Jx.headers[t]=Ja.merge(xae)});var ZC=Jx,Sae=ws,Eae=ZC,Cae=function(t,n,i){var s=this||Eae;return Sae.forEach(i,function(o){t=o.call(s,t,n)}),t},s3,jT;function nD(){return jT||(jT=1,s3=function(t){return!!(t&&t.__CANCEL__)}),s3}var $T=ws,l3=Cae,kae=nD(),Tae=ZC,Pae=Yx();function u3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pae}var Iae=function(t){u3(t),t.headers=t.headers||{},t.data=l3.call(t,t.data,t.headers,t.transformRequest),t.headers=$T.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),$T.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var n=t.adapter||Tae.adapter;return n(t).then(function(s){return u3(t),s.data=l3.call(t,s.data,s.headers,t.transformResponse),s},function(s){return kae(s)||(u3(t),s&&s.response&&(s.response.data=l3.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},Gl=ws,rD=function(t,n){n=n||{};var i={};function s(M,F){return Gl.isPlainObject(M)&&Gl.isPlainObject(F)?Gl.merge(M,F):Gl.isPlainObject(F)?Gl.merge({},F):Gl.isArray(F)?F.slice():F}function l(M){if(Gl.isUndefined(n[M])){if(!Gl.isUndefined(t[M]))return s(void 0,t[M])}else return s(t[M],n[M])}function o(M){if(!Gl.isUndefined(n[M]))return s(void 0,n[M])}function x(M){if(Gl.isUndefined(n[M])){if(!Gl.isUndefined(t[M]))return s(void 0,t[M])}else return s(void 0,n[M])}function S(M){if(M in n)return s(t[M],n[M]);if(M in t)return s(void 0,t[M])}var T={url:o,method:o,data:o,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S};return Gl.forEach(Object.keys(t).concat(Object.keys(n)),function(F){var z=T[F]||l,U=z(F);Gl.isUndefined(U)&&z!==S||(i[F]=U)}),i},c3,VT;function iD(){return VT||(VT=1,c3={version:"0.27.2"}),c3}var Oae=iD().version,bh=tm,XC={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){XC[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var HT={};XC.transitional=function(t,n,i){function s(l,o){return"[Axios v"+Oae+"] Transitional option '"+l+"'"+o+(i?". "+i:"")}return function(l,o,x){if(t===!1)throw new bh(s(o," has been removed"+(n?" in "+n:"")),bh.ERR_DEPRECATED);return n&&!HT[o]&&(HT[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,x):!0}};function Mae(e,t,n){if(typeof e!="object")throw new bh("options must be an object",bh.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var l=i[s],o=t[l];if(o){var x=e[l],S=x===void 0||o(x,l,e);if(S!==!0)throw new bh("option "+l+" must be "+S,bh.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bh("Unknown option "+l,bh.ERR_BAD_OPTION)}}var Lae={assertOptions:Mae,validators:XC},oD=ws,Rae=KR,qT=oae,GT=Iae,eb=rD,Dae=tD,aD=Lae,Xd=aD.validators;function V0(e){this.defaults=e,this.interceptors={request:new qT,response:new qT}}V0.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=eb(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var i=n.transitional;i!==void 0&&aD.assertOptions(i,{silentJSONParsing:Xd.transitional(Xd.boolean),forcedJSONParsing:Xd.transitional(Xd.boolean),clarifyTimeoutError:Xd.transitional(Xd.boolean)},!1);var s=[],l=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(n)===!1||(l=l&&U.synchronous,s.unshift(U.fulfilled,U.rejected))});var o=[];this.interceptors.response.forEach(function(U){o.push(U.fulfilled,U.rejected)});var x;if(!l){var S=[GT,void 0];for(Array.prototype.unshift.apply(S,s),S=S.concat(o),x=Promise.resolve(n);S.length;)x=x.then(S.shift(),S.shift());return x}for(var T=n;s.length;){var M=s.shift(),F=s.shift();try{T=M(T)}catch(z){F(z);break}}try{x=GT(T)}catch(z){return Promise.reject(z)}for(;o.length;)x=x.then(o.shift(),o.shift());return x};V0.prototype.getUri=function(t){t=eb(this.defaults,t);var n=Dae(t.baseURL,t.url);return Rae(n,t.params,t.paramsSerializer)};oD.forEach(["delete","get","head","options"],function(t){V0.prototype[t]=function(n,i){return this.request(eb(i||{},{method:t,url:n,data:(i||{}).data}))}});oD.forEach(["post","put","patch"],function(t){function n(i){return function(l,o,x){return this.request(eb(x||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}V0.prototype[t]=n(),V0.prototype[t+"Form"]=n(!0)});var Fae=V0,f3,QT;function Bae(){if(QT)return f3;QT=1;var e=Yx();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var s=this;this.promise.then(function(l){if(s._listeners){var o,x=s._listeners.length;for(o=0;o<x;o++)s._listeners[o](l);s._listeners=null}}),this.promise.then=function(l){var o,x=new Promise(function(S){s.subscribe(S),o=S}).then(l);return x.cancel=function(){s.unsubscribe(o)},x},n(function(o){s.reason||(s.reason=new e(o),i(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(this._listeners){var s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}},t.source=function(){var i,s=new t(function(o){i=o});return{token:s,cancel:i}},f3=t,f3}var p3,WT;function zae(){return WT||(WT=1,p3=function(t){return function(i){return t.apply(null,i)}}),p3}var h3,KT;function Nae(){if(KT)return h3;KT=1;var e=ws;return h3=function(n){return e.isObject(n)&&n.isAxiosError===!0},h3}var ZT=ws,Uae=GR,f_=Fae,jae=rD,$ae=ZC;function sD(e){var t=new f_(e),n=Uae(f_.prototype.request,t);return ZT.extend(n,f_.prototype,t),ZT.extend(n,t),n.create=function(s){return sD(jae(e,s))},n}var Ll=sD($ae);Ll.Axios=f_;Ll.CanceledError=Yx();Ll.CancelToken=Bae();Ll.isCancel=nD();Ll.VERSION=iD().version;Ll.toFormData=eD;Ll.AxiosError=tm;Ll.Cancel=Ll.CanceledError;Ll.all=function(t){return Promise.all(t)};Ll.spread=zae();Ll.isAxiosError=Nae();Foe.exports=Ll;d2.default=Ll;(function(e){e.exports=d2})(Doe);const w4=x2(x4),XT=e=>e instanceof Date?e.getTime():typeof e=="number"||e===null||e===void 0?e:Number(e),YC=(e,t,n)=>n>=e&&n<=t,YT=e=>!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function",Vae={Accept:"application/json","Content-Type":"application/json"},Hae={timeout:0},qae=null,lD="CLIENT_ERROR",Gae="SERVER_ERROR",Qae="TIMEOUT_ERROR",Wae="CONNECTION_ERROR",Kae="NETWORK_ERROR",S4="UNKNOWN_ERROR",Zae="CANCEL_ERROR",Xae=["ERR_BAD_REQUEST"],Yae=["ECONNABORTED"],Jae=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],uD=e=>YC(200,299,e),ese=e=>YC(400,499,e),tse=e=>YC(500,599,e),nse=e=>e.message==="Network Error"?Kae:w4.isCancel(e)?Zae:e.code?Xae.includes(e.code)?lD:Yae.includes(e.code)?Qae:Jae.includes(e.code)?Wae:S4:cD(e.response.status),cD=e=>e?uD(e)?qae:ese(e)?lD:tse(e)?Gae:S4:S4,rse=e=>{const t={...Vae,...e.headers||{}};let n;if(e.axiosInstance)n=e.axiosInstance;else{const Se={...e,headers:void 0},De={...Hae,...Se};n=w4.create(De)}const i=[],s=Se=>{i.push(Se)},l=[],o=[],x=[],S=[],T=Se=>l.push(Se),M=Se=>o.push(Se),F=Se=>x.push(Se),z=Se=>S.push(Se),U=(Se,De)=>(t[Se]=De,n),q=Se=>(Object.keys(Se).forEach(De=>U(De,Se[De])),n),K=Se=>(delete t[Se],n),ee=Se=>(n.defaults.baseURL=Se,n),V=()=>n.defaults.baseURL,X=Se=>(De,tt={},Xe={})=>he({...Xe,url:De,params:tt,method:Se}),ne=Se=>(De,tt,Xe={})=>he({...Xe,url:De,method:Se,data:tt}),he=async Se=>{if(Se.headers={...t,...Se.headers},l.length>0&&l.forEach(Xe=>Xe(Se)),o.length>0)for(let Xe=0;Xe<o.length;Xe++){const at=o[Xe](Se);YT(at)?await at:typeof at=="function"&&await at(Se)}const De=XT(new Date),tt=async Xe=>{const at=await le(De,Xe);return pe(at)};return n.request(Se).then(tt).catch(tt)},pe=Se=>(i.forEach(De=>{try{De(Se)}catch{}}),Se),le=async(Se,De)=>{const Xe=XT(new Date)-Se,at=De instanceof Error||w4.isCancel(De),yt=De,Ot=De,Vt=at?Ot.response:yt,Jt=Vt&&Vt.status||null,bn=at?nse(De):cD(Jt),st=at?Ot:null,Me=uD(Jt||0),Le=De.config||null,re=Vt&&Vt.headers||null,ge=Vt&&Vt.data||null,Mt={duration:Xe,problem:bn,originalError:st,ok:Me,status:Jt||void 0,headers:re||void 0,config:Le,data:ge};if(x.length>0&&x.forEach(en=>en(Mt)),S.length>0)for(let en=0;en<S.length;en++){const vn=S[en](Mt);YT(vn)?await vn:typeof vn=="function"&&await vn(Mt)}return Mt};return{axiosInstance:n,monitors:i,addMonitor:s,requestTransforms:l,asyncRequestTransforms:o,responseTransforms:x,asyncResponseTransforms:S,addRequestTransform:T,addAsyncRequestTransform:M,addResponseTransform:F,addAsyncResponseTransform:z,setHeader:U,setHeaders:q,deleteHeader:K,headers:t,setBaseURL:ee,getBaseURL:V,any:he,get:X("get"),delete:X("delete"),head:X("head"),post:ne("post"),put:ne("put"),patch:ne("patch"),link:X("link"),unlink:X("unlink")}},ise="localhost:3000";function JT(e){const t=window.viteProxyConfig;if(!t||!Object.keys(t).find(i=>e.includes(i)))return e;try{return e.replace(new URL(e).host,ise)}catch{return e}}const tg={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"};function ose(e){switch(e.problem){case"CONNECTION_ERROR":return{kind:"cannot-connect",temporary:!0};case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server",data:e.data};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(e.status){case 401:return{kind:"unauthorized",data:"Not authorized or session has expired."};case 403:return{kind:"forbidden"};case 404:return{kind:"not-found"};default:return{kind:"rejected",data:e.data}}case"CANCEL_ERROR":return{kind:"canceled"};default:return{kind:"unknown",temporary:!0}}}const A3="auth_token",vp=class{constructor({instanceId:t="default",notificationService:n,translationService:i,loginApiPath:s="",refreshTokenApiPath:l="",keycloakClientId:o="",unauthorizedCallback:x,disableAuth:S=!1,storage:T=window.localStorage,...M}){oi(this,"instanceId");oi(this,"translationService");oi(this,"notificationService");oi(this,"unauthorizedCallback");oi(this,"loginApiPath");oi(this,"refreshTokenApiPath");oi(this,"apiSauceInstance");oi(this,"disableAuth");oi(this,"storage");oi(this,"token","");oi(this,"refreshToken","");oi(this,"tokenExpirationDate");oi(this,"checkTokenPromise");oi(this,"expiredTokenCallback");oi(this,"keycloakClientId");var F,z;this.instanceId=t,this.translationService=i,this.notificationService=n,this.loginApiPath=s,this.refreshTokenApiPath=l,this.keycloakClientId=o,this.disableAuth=S,this.storage=T,this.unauthorizedCallback=x,(z=(F=import.meta)==null?void 0:F.env)!=null&&z.DEV&&(M.baseURL=JT(M.baseURL??""),this.loginApiPath=JT(this.loginApiPath)),M.headers||(M.headers={}),M.headers["Content-Type"]||(M.headers["Content-Type"]="application/json"),M.headers.Accept||(M.headers.Accept="application/json"),this.apiSauceInstance=rse(M)}static getInstance(t="default"){if(vp.instances[t])return vp.instances[t];throw new Error("You have to initialize api client first!")}static init(t){const n=t.instanceId||"default";if(vp.instances[n])throw new Error(`Api client instance with Id: ${n} already initialized`);return vp.instances[n]=new vp(t),vp.instances[n]}setAuth(t,n){let i;try{i=Roe(t)}catch{return"Can't decode token!"}if(i&&i.exp){const s=new Date(i.exp*1e3);return s>new Date?(this.token=t,this.refreshToken=n,this.tokenExpirationDate=s,this.storage.setItem(A3,JSON.stringify({token:t,refreshToken:n})),i):"Wrong token expire time!"}return"Wrong data received!"}getLocalAuthToken(t){this.expiredTokenCallback=t;const n=this.storage.getItem(A3);if(n){const{token:i,refreshToken:s}=JSON.parse(n);if(i&&s){const l=this.setAuth(i,s);if(typeof l=="string")throw this.resetAuth(),new LA(this.translationService.t(l),{kind:"bad-data"});return{token:i,refreshToken:s,jwtData:l}}}}resetAuth(){this.token="",this.refreshToken="",this.tokenExpirationDate=void 0,this.storage.removeItem(A3)}async checkTokenIsExpired(){this.checkTokenPromise||(this.checkTokenPromise=new Promise(async n=>{if(this.tokenExpirationDate){const i=this.tokenExpirationDate.getTime()-new Date().getTime();if(i<0)return this.resetAuth(),this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1;const s=1e3*60*5;if(i<s){const l=await this.refreshAuthToken();return l&&typeof l!="string"?(n(!0),!0):(this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1)}return n(!0),!0}return this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1}));const t=await this.checkTokenPromise;return this.checkTokenPromise=void 0,t}async processResponse(t,n){if(t.ok)return t.data;this.unauthorizedCallback&&(t.status===401||t.status===403)&&this.unauthorizedCallback(this);const i=ose(t);let s="";throw n&&n.messages&&(typeof n.messages!="string"?t.status&&t.status in n.messages&&(s=n.messages[t.status]):s=n.messages),s||(s=vp.parseError(i)),i.kind==="canceled"?console.debug("Request was canceled"):(n===void 0||n.hideErrors!==!0)&&this.notificationService.error({title:this.translationService.t("error"),description:this.translationService.t(s)}),new LA(s,i)}static parseError(t){if(t&&"data"in t){const{data:n}=t;if(n!==null){if(Array.isArray(n))return n.map(i=>i.name&&i.message?`${i.name}: ${i.message}`:i).join("<br/>");if(n instanceof Object){if(n.hasOwnProperty("error"))return n.error;if(n.hasOwnProperty("errors")&&Array.isArray(n.errors))return n.errors.reduce((i,s)=>(s.hasOwnProperty("message")&&i.push(s.message),i),[]).join("<br/>")}return String(n)}return"Unknown Error"}switch(t.kind){case"timeout":return Lr.t("errors.timeout");case"cannot-connect":return Lr.t("errors.cannot_connect");case"forbidden":return Lr.t("errors.forbidden");case"not-found":return Lr.t("errors.not_found");case"unknown":return Lr.t("errors.unknown");default:return Lr.t("errors.server_error")}}async checkToken(t){if(!await this.checkTokenIsExpired()){const i={isAxiosError:!1,message:"TOKEN ERROR",name:"Token error",config:t};return{ok:!1,problem:"CLIENT_ERROR",status:401,originalError:{...i,toJSON:()=>i}}}return!1}async login(t,n){var l;const i=new URLSearchParams;i.append("username",t),i.append("password",n),i.append("client_id",this.keycloakClientId),i.append("grant_type","password");const s=await this.apiSauceInstance.post(this.loginApiPath,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s.ok?this.processAuthResponse(s):(l=s.data)==null?void 0:l.error_description}processAuthResponse(t){if(t.ok)if(t.data&&t.data.access_token){const n=this.setAuth(t.data.access_token,t.data.refresh_token);if(typeof n=="string")throw new LA(this.translationService.t(n),{kind:"bad-data"});return{token:t.data.access_token,refreshToken:t.data.refresh_token,jwtData:n}}else throw t.status===204?new LA(this.translationService.t("no_data_received"),{kind:"no-data"}):new LA(this.translationService.t("wrong_data_received"),{kind:"bad-data"})}async logout(){this.resetAuth()}async refreshAuthToken(){var i;const t=new URLSearchParams;t.append("client_id",this.keycloakClientId),t.append("refresh_token",this.refreshToken),t.append("grant_type","refresh_token");const n=await this.apiSauceInstance.post(this.refreshTokenApiPath,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return n.ok?this.processAuthResponse(n):(i=n.data)==null?void 0:i.error_description}async call(t,n,i,s=!this.disableAuth,l){if(l||(l={}),!this.disableAuth&&s&&this.token){const x=await this.checkToken(l);if(x)return await this.processResponse(x,l==null?void 0:l.errorsConfig);(!l.headers||!l.headers.Authorization)&&(l.headers={Authorization:`Bearer ${this.token}`})}const o=await this.apiSauceInstance[t](n,i,l);return this.processResponse(o,l==null?void 0:l.errorsConfig)}async get(t,n,i=!this.disableAuth,s){return this.call(tg.GET,t,n,i,s)}async post(t,n,i=!this.disableAuth,s){return this.call(tg.POST,t,n,i,s)}async put(t,n,i=!this.disableAuth,s){return this.call(tg.PUT,t,n,i,s)}async patch(t,n,i=!this.disableAuth,s){return this.call(tg.PATCH,t,n,i,s)}async delete(t,n=!this.disableAuth,i){return this.call(tg.DELETE,t,void 0,n,i)}};let Cp=vp;oi(Cp,"instances",{});const p_=Mo({showNotification:(e,t,n)=>({type:e,message:t,lifetimeSec:n}),removeNotification:e=>e},({onAction:e,schedule:t,create:n},i=[])=>(e("showNotification",({type:s,message:l,lifetimeSec:o})=>{const x=YH(4),S=()=>p_.removeNotification.dispatch(x);i=[...i,{id:x,type:s,message:l,lifetimeSec:o,onClose:S}],t(T=>{setTimeout(S,o*1e3)})}),e("removeNotification",s=>i=i.filter(({id:l})=>l!==s)),[...i]),"[Shared state] currentNotificationAtom"),x0=class{constructor(){oi(this,"defaultLifetimeSec",10)}static getInstance(){if(x0.instance)return x0.instance;throw new Error("You have to initialize api client first!")}static init(){x0.instance=new x0}error(t,n){p_.showNotification.dispatch("error",t,n||this.defaultLifetimeSec)}warning(t,n){p_.showNotification.dispatch("warning",t,n||this.defaultLifetimeSec)}info(t,n){p_.showNotification.dispatch("info",t,n||this.defaultLifetimeSec)}};let Tg=x0;oi(Tg,"instance");function ase(e){Array.isArray(e)||(e=[e]);const t=e.map(n=>n.subscribe(()=>null));return()=>t.forEach(n=>n())}const M0=em(new Map,"mountedLayers"),fD=Mo({setMap:e=>e,resetMap:()=>null},({onAction:e,schedule:t},n=null)=>(e("setMap",i=>{n=i,t(s=>{s(M0.clear())})}),e("resetMap",()=>{n=null}),n),"[Shared state] currentMapAtom"),Pg=CR(new Set,"hiddenLayers"),sse=Mo({currentMapAtom:fD},({onChange:e,schedule:t})=>{e("currentMapAtom",(n,i)=>{i&&t(s=>{s([Pg.clear(),M0.clear()])})})},"autoClearAtom"),lse=["background","raster","hillshade","heatmap","fill","fill-extrusion","line","circle","symbol","custom"];class use{constructor(){oi(this,"_baseMapFirstLayerIdx",null);oi(this,"_map",null);oi(this,"_layersSettings",null);oi(this,"_layersParentsIds",null);oi(this,"_unsubscribe",[]);oi(this,"_typesOrder",[...lse]);oi(this,"_awaitingTasks",new Set)}init(t,n,i){this._map=t,this._unsubscribe.push(i.subscribe(s=>this._layersSettings=s)),this._layersParentsIds=n,this._baseMapFirstLayerIdx=(t.getStyle().layers??[]).length-1,this._awaitingTasks.forEach(s=>{this._awaitingTasks.delete(s),s(t)})}destroy(){this._unsubscribe.forEach(t=>t())}getIdToMountOnTypesTop(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesTopSync.bind(this))}getIdToMountOnTypesBottom(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesBottomSync.bind(this))}_getIdToMountOnTypesTopSync(t,n,i){var M,F,z,U;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),o=(M=this._layersParentsIds)==null?void 0:M.get(i),x=(z=(F=this._layersSettings)==null?void 0:F.get(o||""))==null?void 0:z.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,T=l==null?void 0:l.find(q=>{if(S==="base")return q.category!=="base";if(S==="overlay")return q.category===void 0});if(S&&T)return T.layer.id;if(!T||!S){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(ee=>{var V;return(V=s.get(ee))==null?void 0:V.length});return q?(U=s.get(q))==null?void 0:U[0].layer.id:void 0}}_getIdToMountOnTypesBottomSync(t,n,i){var M,F,z,U;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),o=(M=this._layersParentsIds)==null?void 0:M.get(i),x=(z=(F=this._layersSettings)==null?void 0:F.get(o||""))==null?void 0:z.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,T=(()=>{if(S==="base")return l==null?void 0:l[0];if(S==="overlay")return l==null?void 0:l.find(q=>q.category==="overlay"||q.category===void 0);if(S===void 0)return l==null?void 0:l.find(q=>q.category===void 0)})();if(T)return T.layer.id;if(!(l!=null&&l.length)||!T){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(ee=>{var V;return(V=s.get(ee))==null?void 0:V.length});return q?(U=s.get(q))==null?void 0:U[0].layer.id:void 0}}_getMountedOrderedLayers(t){if(this._baseMapFirstLayerIdx===null)return;const n=t.getStyle().layers??[];if(n.length===0)return;const i=n.slice(this._baseMapFirstLayerIdx+1);if(!i.length)return;const s=new Map;return i.forEach(l=>{var S,T,M,F;const o=(S=this._layersParentsIds)==null?void 0:S.get(l.id);if(!o)return console.warn("id was not found for",l.id,l);const x=s.get(l.type)||[];x.push({layer:l,category:(F=(M=(T=this._layersSettings)==null?void 0:T.get(o))==null?void 0:M.data)==null?void 0:F.category}),s.set(l.type,x)}),s}_asyncWrap(t,n,i,s){const l=this._map;l===null||this._baseMapFirstLayerIdx===null?this._awaitingTasks.add(o=>{i(s(o,t,n))}):i(s(l,t,n))}}const cse=new use,d3=new Map;function fse(e,t=cse){function n(l,o){d3.set(l.id,o),t.getIdToMountOnTypesTop(l.type,l.id,x=>e.addLayer(l,x))}function i(l,o){d3.set(l.id,o),t.getIdToMountOnTypesBottom(l.type,l.id,x=>e.addLayer(l,x))}function s(l,o){d3.set(l.id,o),e.addLayer(l,void 0)}return{addAboveLayerWithSameType:n,addUnderLayerWithSameType:i,addAboveAllExistingLayers:s}}function pse(){ase([sse])}Tg.init();pse();const JC=Tg.getInstance();Cp.init({notificationService:JC,baseURL:va.apiGateway,loginApiPath:`${va.keycloakUrl}/auth/realms/${va.keycloakRealm}/protocol/openid-connect/token`,refreshTokenApiPath:`${va.keycloakUrl}/auth/realms/${va.keycloakRealm}/protocol/openid-connect/token`,keycloakClientId:va.keycloakClientId,translationService:Lr,unauthorizedCallback(e){var t;e.logout(),(t=e.expiredTokenCallback)==null||t.call(e)}});const pD=Cp.getInstance();Cp.init({instanceId:"boundaries",notificationService:JC,baseURL:va.boundariesApi,disableAuth:!0,translationService:Lr});Cp.getInstance("boundaries");Cp.init({instanceId:"reports",notificationService:JC,baseURL:va.reportsApi,disableAuth:!0,translationService:Lr});Cp.getInstance("reports");/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ig(e,t,n,i){function s(l){return l instanceof n?l:new n(function(o){o(l)})}return new(n||(n=Promise))(function(l,o){function x(M){try{T(i.next(M))}catch(F){o(F)}}function S(M){try{T(i.throw(M))}catch(F){o(F)}}function T(M){M.done?l(M.value):s(M.value).then(x,S)}T((i=i.apply(e,t||[])).next())})}class qo{constructor(){this.mutex=Promise.resolve()}lock(){let t=()=>{};return this.mutex=this.mutex.then(()=>new Promise(t)),new Promise(n=>{t=n})}dispatch(t){return Ig(this,void 0,void 0,function*(){const n=yield this.lock();try{return yield Promise.resolve(t())}finally{n()}})}}var m3;function hse(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const E4=hse(),g3=(m3=E4.Buffer)!==null&&m3!==void 0?m3:null,Ase=E4.TextEncoder?new E4.TextEncoder:null;function hD(e,t){return(e&15)+(e>>6|e>>3&8)<<4|(t&15)+(t>>6|t>>3&8)}function dse(e,t){const n=t.length>>1;for(let i=0;i<n;i++){const s=i<<1;e[i]=hD(t.charCodeAt(s),t.charCodeAt(s+1))}}function mse(e,t){if(e.length!==t.length*2)return!1;for(let n=0;n<t.length;n++){const i=n<<1;if(t[n]!==hD(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}const eP="a".charCodeAt(0)-10,tP="0".charCodeAt(0);function nP(e,t,n){let i=0;for(let s=0;s<n;s++){let l=t[s]>>>4;e[i++]=l>9?l+eP:l+tP,l=t[s]&15,e[i++]=l>9?l+eP:l+tP}return String.fromCharCode.apply(null,e)}const rP=g3!==null?e=>{if(typeof e=="string"){const t=g3.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(g3.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if(typeof e=="string")return Ase.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},iP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pg=new Uint8Array(256);for(let e=0;e<iP.length;e++)pg[iP.charCodeAt(e)]=e;function gse(e){let t=Math.floor(e.length*.75);const n=e.length;return e[n-1]==="="&&(t-=1,e[n-2]==="="&&(t-=1)),t}function yse(e){const t=gse(e),n=e.length,i=new Uint8Array(t);let s=0;for(let l=0;l<n;l+=4){const o=pg[e.charCodeAt(l)],x=pg[e.charCodeAt(l+1)],S=pg[e.charCodeAt(l+2)],T=pg[e.charCodeAt(l+3)];i[s]=o<<2|x>>4,s+=1,i[s]=(x&15)<<4|S>>2,s+=1,i[s]=(S&3)<<6|T&63,s+=1}return i}const R1=16*1024,ng=4,vse=new qo,y3=new Map;function _se(e,t){return Ig(this,void 0,void 0,function*(){let n=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const l=(le,be=0)=>{i.set(le,be)},o=()=>i,x=()=>n.exports,S=le=>{n.exports.Hash_SetMemorySize(le);const be=n.exports.Hash_GetBuffer(),Se=n.exports.memory.buffer;i=new Uint8Array(Se,be,le)},T=()=>new DataView(n.exports.memory.buffer).getUint32(n.exports.STATE_SIZE,!0),M=vse.dispatch(()=>Ig(this,void 0,void 0,function*(){if(!y3.has(e.name)){const be=yse(e.data),Se=WebAssembly.compile(be);y3.set(e.name,Se)}const le=yield y3.get(e.name);n=yield WebAssembly.instantiate(le,{})})),F=()=>Ig(this,void 0,void 0,function*(){n||(yield M);const le=n.exports.Hash_GetBuffer(),be=n.exports.memory.buffer;i=new Uint8Array(be,le,R1)}),z=(le=null)=>{s=!0,n.exports.Hash_Init(le)},U=le=>{let be=0;for(;be<le.length;){const Se=le.subarray(be,be+R1);be+=Se.length,i.set(Se),n.exports.Hash_Update(Se.length)}},q=le=>{if(!s)throw new Error("update() called before init()");const be=rP(le);U(be)},K=new Uint8Array(t*2),ee=(le,be=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,n.exports.Hash_Final(be),le==="binary"?i.slice(0,t):nP(K,i,t)},V=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const le=n.exports.Hash_GetState(),be=T(),Se=n.exports.memory.buffer,De=new Uint8Array(Se,le,be),tt=new Uint8Array(ng+be);return dse(tt,e.hash),tt.set(De,ng),tt},X=le=>{if(!(le instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const be=n.exports.Hash_GetState(),Se=T(),De=ng+Se,tt=n.exports.memory.buffer;if(le.length!==De)throw new Error(`Bad state length (expected ${De} bytes, got ${le.length})`);if(!mse(e.hash,le.subarray(0,ng)))throw new Error("This state was written by an incompatible hash implementation");const Xe=le.subarray(ng);new Uint8Array(tt,be,Se).set(Xe),s=!0},ne=le=>typeof le=="string"?le.length<R1/4:le.byteLength<R1;let he=ne;switch(e.name){case"argon2":case"scrypt":he=()=>!0;break;case"blake2b":case"blake2s":he=(le,be)=>be<=512&&ne(le);break;case"blake3":he=(le,be)=>be===0&&ne(le);break;case"xxhash64":case"xxhash3":case"xxhash128":he=()=>!1;break}const pe=(le,be=null,Se=null)=>{if(!he(le,be))return z(be),q(le),ee("hex",Se);const De=rP(le);return i.set(De),n.exports.Hash_Calculate(De.length,be,Se),nP(K,i,t)};return yield F(),{getMemory:o,writeMemory:l,getExports:x,setMemorySize:S,init:z,update:q,digest:ee,save:V,load:X,calculate:pe,hashLength:t}})}function xse(e,t,n){return Ig(this,void 0,void 0,function*(){const i=yield e.lock(),s=yield _se(t,n);return i(),s})}new qo;new qo;new qo;new qo;var bse="crc32",wse="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",Sse="749723dc",Ese={name:bse,data:wse,hash:Sse};const Cse=new qo;let D1=null;function kse(e){if(D1===null)return xse(Cse,Ese,4).then(t=>(D1=t,D1.calculate(e,3988292384)));try{const t=D1.calculate(e,3988292384);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;const Tse={username:"",email:"",fullName:"",language:"en",useMetricUnits:!0,subscribedToKonturUpdates:!1,bio:"",osmEditor:va.osmEditors[0].id,defaultFeed:va.defaultFeedObject.feed,theme:"kontur"},v3={...Tse,id:null},zy=em(new Map,"layersSettings");function Pse(e,t){const n=new Blob([JSON.stringify(e)],{type:"json"}),i=document.createElement("a"),s=URL.createObjectURL(n);i.href=s,i.download=t,document.body.appendChild(i),i.click(),clearTimeout(setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)},0))}const jA=CR(new Set,"enabledLayers"),e5=em(new Map,"layersLegends"),AD=em(new Map,"layersMeta"),dD=em(new Map,"layersSources"),mD=em(new Map,"layersMenus");function i0(e){if(e&&typeof e=="object"){const t=Object.getOwnPropertyNames(e);for(const n of t){const i=e[n];i0(i)}return Object.freeze(e)}return e}const Ise="bivariate-layer-",Ose="bivariate-source-",Mse={overlay:{name:Lr.t("categories.overlays"),openByDefault:!0,mutuallyExclusive:!1,order:1},base:{name:Lr.t("categories.basemap"),openByDefault:!1,mutuallyExclusive:!0,order:2}},Lse={layersInSelectedArea:{name:Lr.t("groups.layers_in_selected_area"),openByDefault:!0,mutuallyExclusive:!1,order:0},user_layers:{name:Lr.t("groups.your_layers"),openByDefault:!0,mutuallyExclusive:!1,order:1},bivariate:{name:Lr.t("groups.kontur_analytics"),openByDefault:!0,mutuallyExclusive:!0,order:2},qa:{name:Lr.t("groups.qa"),openByDefault:!0,mutuallyExclusive:!1,order:3},osmbasedmap:{name:Lr.t("groups.osmbasedmap"),openByDefault:!1,mutuallyExclusive:!1,order:4},other:{name:Lr.t("groups.other"),openByDefault:!1,mutuallyExclusive:!1,order:999},elevation:{name:Lr.t("groups.elevation"),openByDefault:!0,mutuallyExclusive:!1},photo:{name:Lr.t("groups.photo"),openByDefault:!0,mutuallyExclusive:!1},map:{name:Lr.t("groups.map"),openByDefault:!0,mutuallyExclusive:!1}},Rse=Lse,Dse=new Proxy(Rse,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),Fse=Mo({},({},e=Dse)=>e,"layersGroupsSettingsAtom"),Bse=Mse,zse=new Proxy(Bse,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),Nse=Mo({},({},e=zse)=>e,"layersCategoriesSettingsAtom"),Use=(()=>{let e=null;Fse.subscribe(s=>e=s);let t=null;Nse.subscribe(s=>t=s);let n=null;jA.subscribe(s=>n=s);let i=null;return zy.subscribe(s=>i=s),s=>{var M,F,z,U;if(!e||!t||!n||!i)return[];const l=(M=s.settings)==null?void 0:M.category,o=(F=s.settings)==null?void 0:F.group,x=l&&((z=t[l])==null?void 0:z.mutuallyExclusive),S=o&&((U=e[o])==null?void 0:U.mutuallyExclusive);if(!x&&!S)return[];const T=new Set;return n.forEach(q=>{var ee,V;if(s.id===q)return;const K=i.get(q);K&&(x?((ee=K.data)==null?void 0:ee.category)===l&&T.add(q):S&&((V=K.data)==null?void 0:V.group)===o&&T.add(q))}),Array.from(T).map(q=>jA.delete(q))}})(),jse={enable:()=>null,disable:()=>null,hide:()=>null,show:()=>null,download:()=>null,destroy:()=>null};function $se(e,t,n,i){let s=!1;const l=Mo({...jse,layersSettingsAtom:zy,layersLegendsAtom:e5,layersMetaAtom:AD,layersSourcesAtom:dD,enabledLayersAtom:jA,mountedLayersAtom:M0,hiddenLayersAtom:Pg,layersMenusAtom:mD},({get:o,onAction:x,getUnlistedState:S,onInit:T,schedule:M,onChange:F},z={id:e,error:null,isEnabled:!1,isLoading:!1,isMounted:!1,isVisible:!0,isDownloadable:!1,settings:null,meta:null,legend:null,source:null,contextMenu:null})=>{var Se;const U=[],q=i||S(fD),K={isLoading:!1,data:null,error:null},ee=o("layersSettingsAtom").get(e)??K,V=o("layersMetaAtom").get(e)??K,X=o("layersLegendsAtom").get(e)??K,ne=o("layersSourcesAtom").get(e)??K,he=o("layersMenusAtom").get(e)??null,pe={id:z.id,error:z.error,isLoading:[ee,V,X,ne].some(De=>De.isLoading),isEnabled:o("enabledLayersAtom").has(e),isMounted:o("mountedLayersAtom").has(e),isVisible:!o("hiddenLayersAtom").has(e),isDownloadable:((Se=ne.data)==null?void 0:Se.source.type)==="geojson",settings:i0(ee.data),meta:i0(V.data),legend:i0(X.data),source:i0(ne.data),contextMenu:i0(he)};T(()=>{try{t.willInit({map:q,state:{...pe}})}catch(De){console.error(De),pe.error=De}}),x("enable",()=>{pe.isEnabled=!0,U.push(jA.set(e),...Use(z))}),x("disable",()=>{pe.isEnabled=!1,U.push(jA.delete(e))}),x("hide",()=>{if(q)try{t.willHide({map:q,state:{...pe}}),pe.isVisible=!1,U.push(Pg.set(e))}catch(De){console.error(De),pe.error=De}}),x("show",()=>{if(q)try{t.willUnhide({map:q,state:{...pe}}),pe.isVisible=!0,U.push(Pg.delete(e))}catch(De){console.error(De),pe.error=De}}),x("download",()=>{var De,tt;try{if(!z.isDownloadable)return;if(!((De=z.source)!=null&&De.source)){console.error("Download failed, source unavailable");return}z.source.source.type==="geojson"?Pse(z.source.source.data,`${((tt=z.settings)==null?void 0:tt.name)||z.id||"Disaster Ninja map layer"}-${new Date().toISOString()}.json`):console.error("Only geojson layers can be downloaded")}catch(Xe){console.error(Xe),pe.error=Xe}});const le=!s&&pe.isEnabled!==pe.isMounted;if(!(z.isMounted!==pe.isMounted)&&le&&!pe.isLoading)try{pe.isMounted?q&&(t.willUnMount({map:q,state:{...pe}}),pe.isMounted=!1,U.push(M0.delete(e))):q&&(t.willMount({map:q,state:{...pe}}),pe.isMounted=!0,U.push(M0.set(e,l)))}catch(De){console.error(De),pe.error=De}return z.isMounted&&pe.isMounted&&(z.legend!==pe.legend&&q&&t.willLegendUpdate({map:q,state:{...pe}}),z.source!==pe.source&&q&&t.willSourceUpdate({map:q,state:{...pe}})),x("destroy",()=>{s=!0;try{t.willDestroy({map:q,state:{...pe}}),S(n).has(z.id)&&U.push(n.unregister(z.id,{notifyLayerAboutDestroy:!1}))}catch(De){console.error(De),pe.error=De}}),U.length&&M(De=>De(U)),pe},{id:e,decorators:[jR()]});return l}const oP=new WeakMap,aP=new WeakMap,Vse=e=>{const t=Mo({register:n=>Array.isArray(n)?n:[n],unregister:(n,{notifyLayerAboutDestroy:i}={})=>({ids:Array.isArray(n)?n:[n],notifyLayerAboutDestroy:i}),_delete:n=>Array.isArray(n)?n:[n]},({onAction:n,create:i,schedule:s},l=new Map)=>(n("register",o=>{const x=new Map(l);o.forEach(({id:S,renderer:T,cleanUpActions:M,map:F})=>{const z=$se(S,T,t,F);x.set(S,z),M&&oP.set(z,M),aP.set(z,z.subscribe(()=>null))}),l=x}),n("unregister",({ids:o,notifyLayerAboutDestroy:x})=>{o.forEach(S=>{const T=l.get(S);T?s(M=>{aP.get(T)();const z=[...oP.get(T)||[],M0.delete(S),Pg.delete(S),x&&T.destroy(),i("_delete",S)].filter(U=>Boolean(U));M(z)}):console.error(`Attempt unregister not existing layer with id: ${S}`)})}),n("_delete",o=>{const x=new Map(l);o.forEach(S=>{x.delete(S)}),l=x}),l),e);return t},o0=Vse("layersRegistryAtom"),C4=Mo({setUser:(e=v3)=>e},({onAction:e,schedule:t,getUnlistedState:n},i=v3)=>(e("setUser",s=>{s?i=s:i=v3;const l=Array.from(n(zy)).filter(([,S])=>{var T;return(T=S==null?void 0:S.data)==null?void 0:T.ownedByUser}).map(([S])=>S);if(!l.length)return;const o=Array.from(n(o0)).filter(([S])=>l.includes(S)).map(([S,T])=>T);if(!o.length)return;const x=o.map(S=>S.destroy());t(S=>{S(x)})}),i),"[Shared state] currentUserAtom"),Hse=Mo({open:()=>null,close:()=>null},({onAction:e},t={isOpen:!1})=>(e("open",()=>t={...t,isOpen:!0}),e("close",()=>t={...t,isOpen:!1}),t),"episodesPanelState"),gD=Mo({setFocusedGeometry:(e,t)=>({source:e,geometry:t}),_update:e=>e,reset:()=>null,currentUserAtom:C4,episodesPanelState:Hse},({onAction:e,schedule:t,create:n,getUnlistedState:i,onChange:s},l=null)=>(e("setFocusedGeometry",({source:o,geometry:x})=>{const S=i(C4);o&&x?t(async(T,M)=>{const F=await kse(JSON.stringify({geometry:x,source:o,user:S.id}));if(!l||!M.hash||M.hash!==F){M.hash=F;const z={...x,hash:F};T(n("_update",{source:o,geometry:z}))}}):l=null}),e("reset",()=>{l=null}),e("_update",o=>{l=o}),s("currentUserAtom",()=>{var o;l&&((o=l.source)==null?void 0:o.type)!=="event"&&(l={...l})}),l),"[Shared state] focusedGeometryAtom"),qse=[["count","area_km2"],["building_count","area_km2"],["highway_length","area_km2"],["local_hours","area_km2"],["avgmax_ts","one"],["days_mintemp_above_25c_1c","one"],["population","area_km2"],["total_hours","area_km2"],["view_count","area_km2"]];function yD(e){const t=Array.isArray(e)?[]:{};for(const n in e){const i=e[n];i&&typeof i=="object"?t[n]=yD(i):t[n]=i}return t}const Gse=window.structuredClone??yD;function vD(e){const t=Gse(e);return"properties"in t&&(t.properties={}),"features"in t&&t.features.length&&(t.features=t.features.map(n=>vD(n))),t}function _D(e){return!e||!e.geometry||e.geometry.type==="FeatureCollection"&&!e.geometry.features.length}function Qse(e){const t={importantLayers:qse};return e&&!_D(e)&&(t.geoJSON=vD(e==null?void 0:e.geometry)),t}function Wse(e){if(e.hasOwnProperty("errors")&&Array.isArray(e.errors))return e.errors.reduce((t,n)=>(n.hasOwnProperty("message")&&t.push(n.message),t),[]).join("<br/>")}const Kse=Ry({focusedGeometryAtom:gD},({onChange:e},t={focusedGeometry:null})=>(e("focusedGeometryAtom",n=>{t={focusedGeometry:n}}),t),"bivariateStatisticsDependencyAtom");let F1;const xD=qR(Kse,async({focusedGeometry:e},t)=>{if(!(e!=null&&e.geometry)&&F1)return F1;let n;try{const i=Qse(e);n=await pD.post("/bivariate_matrix",i,!0,{signal:t.signal})}catch(i){if($R(i)&&i.problem.kind==="canceled")return null;throw i}if(!n)throw new Error(Lr.t("no_data_received"));if(!(n!=null&&n.data)){const i=Wse(n);throw new Error(i||Lr.t("no_data_received"))}return _D(e)&&!F1&&(F1=n.data),n.data},"bivariateStatisticsResource");var St=St||{};St.Geometry=function(){};St.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope),i=e.slope*n+e.intercept;return{x:n,y:i}};St.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))};St.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)};St.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope,i=t.y-n*t.x;return{slope:n,intercept:i}};St.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)};St.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t};St.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))};St.Hsluv=function(){};St.Hsluv.getBounds=function(e){for(var t=[],n=Math.pow(e+16,3)/1560896,i=n>St.Hsluv.epsilon?n:e/St.Hsluv.kappa,s=0;s<3;)for(var l=s++,o=St.Hsluv.m[l][0],x=St.Hsluv.m[l][1],S=St.Hsluv.m[l][2],T=0;T<2;){var M=T++,F=(284517*o-94839*S)*i,z=(838422*S+769860*x+731718*o)*e*i-769860*M*e,U=(632260*S-126452*x)*i+126452*M;t.push({slope:F/U,intercept:z/U})}return t};St.Hsluv.maxSafeChromaForL=function(e){for(var t=St.Hsluv.getBounds(e),n=1/0,i=0;i<t.length;){var s=t[i];++i;var l=St.Geometry.distanceLineFromOrigin(s);n=Math.min(n,l)}return n};St.Hsluv.maxChromaForLH=function(e,t){for(var n=t/360*Math.PI*2,i=St.Hsluv.getBounds(e),s=1/0,l=0;l<i.length;){var o=i[l];++l;var x=St.Geometry.lengthOfRayUntilIntersect(n,o);x>=0&&(s=Math.min(s,x))}return s};St.Hsluv.dotProduct=function(e,t){for(var n=0,i=0,s=e.length;i<s;){var l=i++;n+=e[l]*t[l]}return n};St.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055};St.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92};St.Hsluv.xyzToRgb=function(e){return[St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[0],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[1],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[2],e))]};St.Hsluv.rgbToXyz=function(e){var t=[St.Hsluv.toLinear(e[0]),St.Hsluv.toLinear(e[1]),St.Hsluv.toLinear(e[2])];return[St.Hsluv.dotProduct(St.Hsluv.minv[0],t),St.Hsluv.dotProduct(St.Hsluv.minv[1],t),St.Hsluv.dotProduct(St.Hsluv.minv[2],t)]};St.Hsluv.yToL=function(e){return e<=St.Hsluv.epsilon?e/St.Hsluv.refY*St.Hsluv.kappa:116*Math.pow(e/St.Hsluv.refY,.3333333333333333)-16};St.Hsluv.lToY=function(e){return e<=8?St.Hsluv.refY*e/St.Hsluv.kappa:St.Hsluv.refY*Math.pow((e+16)/116,3)};St.Hsluv.xyzToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=t+15*n+3*i,l=4*t,o=9*n;s!=0?(l/=s,o/=s):(l=NaN,o=NaN);var x=St.Hsluv.yToL(n);if(x==0)return[0,0,0];var S=13*x*(l-St.Hsluv.refU),T=13*x*(o-St.Hsluv.refV);return[x,S,T]};St.Hsluv.luvToXyz=function(e){var t=e[0],n=e[1],i=e[2];if(t==0)return[0,0,0];var s=n/(13*t)+St.Hsluv.refU,l=i/(13*t)+St.Hsluv.refV,o=St.Hsluv.lToY(t),x=0-9*o*s/((s-4)*l-s*l),S=(9*o-15*l*o-l*x)/(3*l);return[x,o,S]};St.Hsluv.luvToLch=function(e){var t=e[0],n=e[1],i=e[2],s=Math.sqrt(n*n+i*i),l;if(s<1e-8)l=0;else{var o=Math.atan2(i,n);l=o*180/Math.PI,l<0&&(l=360+l)}return[t,s,l]};St.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=i/360*2*Math.PI,l=Math.cos(s)*n,o=Math.sin(s)*n;return[t,l,o]};St.Hsluv.hsluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxChromaForLH(i,t),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHsluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxChromaForLH(t,i),l=n/s*100;return[i,l,t]};St.Hsluv.hpluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxSafeChromaForL(i),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHpluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxSafeChromaForL(t),l=n/s*100;return[i,l,t]};St.Hsluv.rgbToHex=function(e){for(var t="#",n=0;n<3;){var i=n++,s=e[i],l=Math.round(s*255),o=l%16,x=(l-o)/16|0;t+=St.Hsluv.hexChars.charAt(x)+St.Hsluv.hexChars.charAt(o)}return t};St.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],n=0;n<3;){var i=n++,s=St.Hsluv.hexChars.indexOf(e.charAt(i*2+1)),l=St.Hsluv.hexChars.indexOf(e.charAt(i*2+2)),o=s*16+l;t.push(o/255)}return t};St.Hsluv.lchToRgb=function(e){return St.Hsluv.xyzToRgb(St.Hsluv.luvToXyz(St.Hsluv.lchToLuv(e)))};St.Hsluv.rgbToLch=function(e){return St.Hsluv.luvToLch(St.Hsluv.xyzToLuv(St.Hsluv.rgbToXyz(e)))};St.Hsluv.hsluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hsluvToLch(e))};St.Hsluv.rgbToHsluv=function(e){return St.Hsluv.lchToHsluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hpluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hpluvToLch(e))};St.Hsluv.rgbToHpluv=function(e){return St.Hsluv.lchToHpluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hsluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hsluvToRgb(e))};St.Hsluv.hpluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hpluvToRgb(e))};St.Hsluv.hexToHsluv=function(e){return St.Hsluv.rgbToHsluv(St.Hsluv.hexToRgb(e))};St.Hsluv.hexToHpluv=function(e){return St.Hsluv.rgbToHpluv(St.Hsluv.hexToRgb(e))};St.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];St.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];St.Hsluv.refY=1;St.Hsluv.refU=.19783000664283;St.Hsluv.refV=.46831999493879;St.Hsluv.kappa=903.2962962;St.Hsluv.epsilon=.0088564516;St.Hsluv.hexChars="0123456789abcdef";var Zse={hsluvToRgb:St.Hsluv.hsluvToRgb,rgbToHsluv:St.Hsluv.rgbToHsluv,hpluvToRgb:St.Hsluv.hpluvToRgb,rgbToHpluv:St.Hsluv.rgbToHpluv,hsluvToHex:St.Hsluv.hsluvToHex,hexToHsluv:St.Hsluv.hexToHsluv,hpluvToHex:St.Hsluv.hpluvToHex,hexToHpluv:St.Hsluv.hexToHpluv,lchToHpluv:St.Hsluv.lchToHpluv,hpluvToLch:St.Hsluv.hpluvToLch,lchToHsluv:St.Hsluv.lchToHsluv,hsluvToLch:St.Hsluv.hsluvToLch,lchToLuv:St.Hsluv.lchToLuv,luvToLch:St.Hsluv.luvToLch,xyzToLuv:St.Hsluv.xyzToLuv,luvToXyz:St.Hsluv.luvToXyz,xyzToRgb:St.Hsluv.xyzToRgb,rgbToXyz:St.Hsluv.rgbToXyz,lchToRgb:St.Hsluv.lchToRgb,rgbToLch:St.Hsluv.rgbToLch},hp=Zse;function bD(e){const t=/https?:/;t.test(e)?e=window.location.protocol+e.replace(t,""):e=`${va.bivariateTilesServer??`${window.location.protocol}${window.location.host}${va.baseUrl}`}${e}`,e=e.replace("{bbox}","{bbox-epsg-3857}").replace("{proj}","EPSG:3857").replace("{width}","256").replace("{height}","256").replace("{zoom}","{z}").replace("{-y}","{y}");const n=(e.match(/{switch:(.*?)}/)||["",""])[1].split(",")[0];return e=e.replace(/{switch:(.*?)}/,n),e}function Xse(e,t){return e+(((t-e)%360+540)%360-180)*.5}function sP(e,t){return(e+t)/2}function rg(e,t){return[Xse(e[0],t[0]),sP(e[1],t[1]),sP(e[2],t[2])]}function Ap(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=parseInt(`0x${t.join("")}`,0);return`rgba(${[n>>16&255,n>>8&255,n&255].join(",")},0.5)`}throw new Error("Bad Hex")}function B1(e,t){const n=(Array.isArray(t[0])?[...t[0]]:[t[0]]).sort(),i=(Array.isArray(t[1])?[...t[1]]:[t[1]]).sort(),s=Array.from(new Set(n.concat(i))),l=e.combinations.find(({corner:o})=>{if(s.length!==o.length)return!1;for(let x=0;x<s.length;x+=1)if(s[x]!==o[x])return!1;return!0});return l!=null&&l.color?{color:l.color}:{color:e.fallback,isFallbackColor:!0}}function Yse(e,t,n,i,s){var q,K;const{indicators:l,colors:o,axis:x}=s,S=x.find(ee=>ee.quotient[0]===e&&ee.quotient[1]===t),T=x.find(ee=>ee.quotient[0]===n&&ee.quotient[1]===i);if(!S||!T)return;const M=(q=l.find(ee=>ee.name===e))==null?void 0:q.direction,F=(K=l.find(ee=>ee.name===n))==null?void 0:K.direction;if(!M||!F)return;const z=ele(o,M,F),U=Jse(S,T,z,s==null?void 0:s.meta);return[z,U]}const Jse=(e,t,n,i)=>NR({id:`${e.quotient.join("&")}|${t.quotient.join("&")}`,x:e,y:t,colors:n,sourceLayer:"stats",source:{type:"vector",tiles:[`${bD(va.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${va.bivariateTilesIndicatorsClass}`],maxzoom:i.max_zoom,minzoom:0}}),ele=(e,t,n)=>{const i=B1(e,[t[0],n[0]]),s=B1(e,[t[1],n[0]]),l=B1(e,[t[0],n[1]]),o=B1(e,[t[1],n[1]]),x=hp.hexToHsluv(i.color),S=hp.hexToHsluv(s.color),T=hp.hexToHsluv(l.color),M=hp.hexToHsluv(o.color),F=rg(x,T),z=rg(x,S),U=rg(T,M),q=rg(S,M),K=rg(z,U);return[{id:"A1",color:Ap(i.color),isFallbackColor:i.isFallbackColor},{id:"A2",color:Ap(hp.hsluvToHex(F))},{id:"A3",color:Ap(l.color),isFallbackColor:l.isFallbackColor},{id:"B1",color:Ap(hp.hsluvToHex(z))},{id:"B2",color:Ap(hp.hsluvToHex(K))},{id:"B3",color:Ap(hp.hsluvToHex(U))},{id:"C1",color:Ap(s.color),isFallbackColor:s.isFallbackColor},{id:"C2",color:Ap(hp.hsluvToHex(q))},{id:"C3",color:Ap(o.color),isFallbackColor:o.isFallbackColor}]};function tle(e){return NR({id:`${e.axis.x.quotient.join("&")}|${e.axis.y.quotient.join("&")}`,x:e.axis.x,y:e.axis.y,colors:[...e.steps].sort((t,n)=>t.label>n.label?1:-1).map(t=>({id:t.label,color:t.color})),sourceLayer:"stats"})}function nle(e,t,n,i,s,l,o){const x=o.axis.find(T=>T.quotient[0]===n&&T.quotient[1]===i),S=o.axis.find(T=>T.quotient[0]===s&&T.quotient[1]===l);if(!(!x||!S))return rle(e,x,S,t)}const rle=(e,t,n,i)=>({name:e,axis:{x:t,y:n},type:"bivariate",steps:i.map(({id:s,color:l,isFallbackColor:o})=>({label:s,color:l,isFallbackColor:o}))});function ile(e,t,n,i,s){var U,q,K,ee;const l=s.indicators.find(V=>V.name===e),o=s.indicators.find(V=>V.name===n),x=l==null?void 0:l.label,S=o==null?void 0:o.label,T=(U=s.indicators.find(V=>V.name===t))==null?void 0:U.label,M=(q=s.indicators.find(V=>V.name===i))==null?void 0:q.label;let F=[];return(K=l==null?void 0:l.copyrights)!=null&&K.length&&(F=F.concat(l.copyrights)),(ee=o==null?void 0:o.copyrights)!=null&&ee.length&&(F=F.concat(o.copyrights)),{description:`This map shows relation of ${x} (normalized by ${T}) to the base of ${S} (normalized by ${M}).`,copyrights:F,hints:{x:{label:x,direction:l==null?void 0:l.direction},y:{label:S,direction:o==null?void 0:o.direction}}}}function ole(e,t,n,i){const s=e.findIndex(x=>{if(n<x.value)return!0}),l=v4(s),o=t.findIndex(x=>{if(i<x.value)return!0});return l+o}const ale=e=>{const{correlationRates:t}=e,n=[],i=[];for(const s of t){const l=s.x.quotient,o=s.x.parent||l;let x=n.find(F=>F.parent===JSON.stringify(o));x?x.quotients.find(F=>JSON.stringify(F)===JSON.stringify(l))||x.quotients.push(l):(x={parent:JSON.stringify(o),quotients:[l],selectedQuotient:l},n.push(x));const S=s.y.quotient,T=s.y.parent||S;let M=i.find(F=>F.parent===JSON.stringify(T));M?M.quotients.find(F=>JSON.stringify(F)===JSON.stringify(S))||M.quotients.push(S):(M={parent:JSON.stringify(T),quotients:[S],selectedQuotient:S},i.push(M))}for(const s of n){const l=s.quotients.find(o=>JSON.stringify(o)===s.parent);l&&(s.selectedQuotient=l)}for(const s of i){const l=s.quotients.find(o=>JSON.stringify(o)===s.parent);l&&(s.selectedQuotient=l)}return{x:n,y:i}},z1=Mo({setNumerators:(e,t)=>({xGroups:e,yGroups:t}),bivariateStatisticsResourceAtom:xD},({get:e,onAction:t,onChange:n},i={xGroups:[],yGroups:[]})=>(n("bivariateStatisticsResourceAtom",({data:s,loading:l})=>{if(s&&!l){const o=s.polygonStatistic.bivariateStatistic,x=ale(o);i={xGroups:x.x,yGroups:x.y}}}),t("setNumerators",s=>{i=s}),i),"bivariateNumerators"),sle=()=>({legend:[],source:[],meta:[],settings:[],menu:[]}),N1=([e,t])=>[e,{data:t,isLoading:!1,error:null}];function lP(e){const t=e.reduce((s,{id:l,...o})=>(Object.keys(o).forEach(x=>{s[x].push([l,o[x]])}),s),sle()),n=[],i=[];if(t.legend.length){const s=t.legend.map(N1);n.push(e5.change(l=>new Map([...l,...s])))}if(t.source.length){const s=t.source.map(N1);n.push(dD.change(l=>new Map([...l,...s])))}if(t.meta.length){const s=t.meta.map(N1);n.push(AD.change(l=>new Map([...l,...s])))}if(t.settings.length){const s=t.settings.map(N1);n.push(zy.change(l=>new Map([...l,...s])))}if(t.menu.length){const s=t.menu;n.push(mD.change(l=>new Map([...l,...s])))}return[n,i]}function g2(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lle=typeof global=="object"&&global&&global.Object===Object&&global;const ule=lle;var cle=typeof self=="object"&&self&&self.Object===Object&&self,fle=ule||cle||Function("return this")();const wD=fle;var ple=function(){return wD.Date.now()};const _3=ple;var hle=/\s/;function Ale(e){for(var t=e.length;t--&&hle.test(e.charAt(t)););return t}var dle=/^\s+/;function mle(e){return e&&e.slice(0,Ale(e)+1).replace(dle,"")}var gle=wD.Symbol;const y2=gle;var SD=Object.prototype,yle=SD.hasOwnProperty,vle=SD.toString,ig=y2?y2.toStringTag:void 0;function _le(e){var t=yle.call(e,ig),n=e[ig];try{e[ig]=void 0;var i=!0}catch{}var s=vle.call(e);return i&&(t?e[ig]=n:delete e[ig]),s}var xle=Object.prototype,ble=xle.toString;function wle(e){return ble.call(e)}var Sle="[object Null]",Ele="[object Undefined]",uP=y2?y2.toStringTag:void 0;function Cle(e){return e==null?e===void 0?Ele:Sle:uP&&uP in Object(e)?_le(e):wle(e)}function kle(e){return e!=null&&typeof e=="object"}var Tle="[object Symbol]";function Ple(e){return typeof e=="symbol"||kle(e)&&Cle(e)==Tle}var cP=0/0,Ile=/^[-+]0x[0-9a-f]+$/i,Ole=/^0b[01]+$/i,Mle=/^0o[0-7]+$/i,Lle=parseInt;function fP(e){if(typeof e=="number")return e;if(Ple(e))return cP;if(g2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=g2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mle(e);var n=Ole.test(e);return n||Mle.test(e)?Lle(e.slice(2),n?2:8):Ile.test(e)?cP:+e}var Rle="Expected a function",Dle=Math.max,Fle=Math.min;function Ble(e,t,n){var i,s,l,o,x,S,T=0,M=!1,F=!1,z=!0;if(typeof e!="function")throw new TypeError(Rle);t=fP(t)||0,g2(n)&&(M=!!n.leading,F="maxWait"in n,l=F?Dle(fP(n.maxWait)||0,t):l,z="trailing"in n?!!n.trailing:z);function U(le){var be=i,Se=s;return i=s=void 0,T=le,o=e.apply(Se,be),o}function q(le){return T=le,x=setTimeout(V,t),M?U(le):o}function K(le){var be=le-S,Se=le-T,De=t-be;return F?Fle(De,l-Se):De}function ee(le){var be=le-S,Se=le-T;return S===void 0||be>=t||be<0||F&&Se>=l}function V(){var le=_3();if(ee(le))return X(le);x=setTimeout(V,K(le))}function X(le){return x=void 0,z&&i?U(le):(i=s=void 0,o)}function ne(){x!==void 0&&clearTimeout(x),T=0,i=S=s=x=void 0}function he(){return x===void 0?o:X(_3())}function pe(){var le=_3(),be=ee(le);if(i=arguments,s=this,S=le,be){if(x===void 0)return q(S);if(F)return clearTimeout(x),x=setTimeout(V,t),U(S)}return x===void 0&&(x=setTimeout(V,t)),o}return pe.cancel=ne,pe.flush=he,pe}var zle="Expected a function";function Nle(e,t,n){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(zle);return g2(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Ble(e,t,{leading:i,maxWait:t,trailing:s})}var zu=function(e){e=e||{};var t=typeof e<"u"?e:{},n={},i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);var s="";function l(oe){return t.locateFile?t.locateFile(oe,s):s+oe}var o;document.currentScript&&(s=document.currentScript.src),s.indexOf("blob:")!==0?s=s.substr(0,s.lastIndexOf("/")+1):s="",o=function(Ve,lt,Qe){var A=new XMLHttpRequest;A.open("GET",Ve,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){lt(A.response);return}var Lt=Jr(Ve);if(Lt){lt(Lt.buffer);return}Qe()},A.onerror=Qe,A.send(null)};var x=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);n=null,t.arguments&&t.arguments;var T=0,M=function(oe){T=oe},F=function(){return T},z=8;function U(oe,Ve,lt,Qe){switch(lt=lt||"i8",lt.charAt(lt.length-1)==="*"&&(lt="i32"),lt){case"i1":at[oe>>0]=Ve;break;case"i8":at[oe>>0]=Ve;break;case"i16":Ot[oe>>1]=Ve;break;case"i32":Vt[oe>>2]=Ve;break;case"i64":Ro=[Ve>>>0,(bi=Ve,+$n(bi)>=1?bi>0?(Go(+gi(bi/4294967296),4294967295)|0)>>>0:~~+mi((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Vt[oe>>2]=Ro[0],Vt[oe+4>>2]=Ro[1];break;case"float":Jt[oe>>2]=Ve;break;case"double":bn[oe>>3]=Ve;break;default:xe("invalid type for setValue: "+lt)}}function q(oe,Ve,lt){switch(Ve=Ve||"i8",Ve.charAt(Ve.length-1)==="*"&&(Ve="i32"),Ve){case"i1":return at[oe>>0];case"i8":return at[oe>>0];case"i16":return Ot[oe>>1];case"i32":return Vt[oe>>2];case"i64":return Vt[oe>>2];case"float":return Jt[oe>>2];case"double":return bn[oe>>3];default:xe("invalid type for getValue: "+Ve)}return null}var K=!1;function ee(oe,Ve){oe||xe("Assertion failed: "+Ve)}function V(oe){var Ve=t["_"+oe];return ee(Ve,"Cannot call unknown function "+oe+", make sure it is exported"),Ve}function X(oe,Ve,lt,Qe,A){var ye={string:function(Qt){var Ar=0;if(Qt!=null&&Qt!==0){var Jn=(Qt.length<<2)+1;Ar=zr(Jn),Se(Qt,Ar,Jn)}return Ar},array:function(Qt){var Ar=zr(Qt.length);return De(Qt,Ar),Ar}};function Lt(Qt){return Ve==="string"?le(Qt):Ve==="boolean"?Boolean(Qt):Qt}var jt=V(oe),ct=[],It=0;if(Qe)for(var xt=0;xt<Qe.length;xt++){var hn=ye[lt[xt]];hn?(It===0&&(It=ae()),ct[xt]=hn(Qe[xt])):ct[xt]=Qe[xt]}var fn=jt.apply(null,ct);return fn=Lt(fn),It!==0&&J(It),fn}function ne(oe,Ve,lt,Qe){lt=lt||[];var A=lt.every(function(Lt){return Lt==="number"}),ye=Ve!=="string";return ye&&A&&!Qe?V(oe):function(){return X(oe,Ve,lt,arguments)}}var he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function pe(oe,Ve,lt){for(var Qe=Ve+lt,A=Ve;oe[A]&&!(A>=Qe);)++A;if(A-Ve>16&&oe.subarray&&he)return he.decode(oe.subarray(Ve,A));for(var ye="";Ve<A;){var Lt=oe[Ve++];if(!(Lt&128)){ye+=String.fromCharCode(Lt);continue}var jt=oe[Ve++]&63;if((Lt&224)==192){ye+=String.fromCharCode((Lt&31)<<6|jt);continue}var ct=oe[Ve++]&63;if((Lt&240)==224?Lt=(Lt&15)<<12|jt<<6|ct:Lt=(Lt&7)<<18|jt<<12|ct<<6|oe[Ve++]&63,Lt<65536)ye+=String.fromCharCode(Lt);else{var It=Lt-65536;ye+=String.fromCharCode(55296|It>>10,56320|It&1023)}}return ye}function le(oe,Ve){return oe?pe(yt,oe,Ve):""}function be(oe,Ve,lt,Qe){if(!(Qe>0))return 0;for(var A=lt,ye=lt+Qe-1,Lt=0;Lt<oe.length;++Lt){var jt=oe.charCodeAt(Lt);if(jt>=55296&&jt<=57343){var ct=oe.charCodeAt(++Lt);jt=65536+((jt&1023)<<10)|ct&1023}if(jt<=127){if(lt>=ye)break;Ve[lt++]=jt}else if(jt<=2047){if(lt+1>=ye)break;Ve[lt++]=192|jt>>6,Ve[lt++]=128|jt&63}else if(jt<=65535){if(lt+2>=ye)break;Ve[lt++]=224|jt>>12,Ve[lt++]=128|jt>>6&63,Ve[lt++]=128|jt&63}else{if(lt+3>=ye)break;Ve[lt++]=240|jt>>18,Ve[lt++]=128|jt>>12&63,Ve[lt++]=128|jt>>6&63,Ve[lt++]=128|jt&63}}return Ve[lt]=0,lt-A}function Se(oe,Ve,lt){return be(oe,yt,Ve,lt)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function De(oe,Ve){at.set(oe,Ve)}function tt(oe,Ve){return oe%Ve>0&&(oe+=Ve-oe%Ve),oe}var Xe,at,yt,Ot,Vt,Jt,bn;function st(oe){Xe=oe,t.HEAP8=at=new Int8Array(oe),t.HEAP16=Ot=new Int16Array(oe),t.HEAP32=Vt=new Int32Array(oe),t.HEAPU8=yt=new Uint8Array(oe),t.HEAPU16=new Uint16Array(oe),t.HEAPU32=new Uint32Array(oe),t.HEAPF32=Jt=new Float32Array(oe),t.HEAPF64=bn=new Float64Array(oe)}var Me=5266928,Le=24016,re=t.TOTAL_MEMORY||33554432;t.buffer?Xe=t.buffer:Xe=new ArrayBuffer(re),re=Xe.byteLength,st(Xe),Vt[Le>>2]=Me;function ge(oe){for(;oe.length>0;){var Ve=oe.shift();if(typeof Ve=="function"){Ve();continue}var lt=Ve.func;typeof lt=="number"?Ve.arg===void 0?t.dynCall_v(lt):t.dynCall_vi(lt,Ve.arg):lt(Ve.arg===void 0?null:Ve.arg)}}var Mt=[],en=[],vn=[],dn=[];function En(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)jr(t.preRun.shift());ge(Mt)}function jn(){ge(en)}function Fn(){ge(vn)}function Xr(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Fi(t.postRun.shift());ge(dn)}function jr(oe){Mt.unshift(oe)}function Fi(oe){dn.unshift(oe)}var $n=Math.abs,mi=Math.ceil,gi=Math.floor,Go=Math.min,Bi=0,Wi=null;function Ss(oe){Bi++,t.monitorRunDependencies&&t.monitorRunDependencies(Bi)}function ro(oe){if(Bi--,t.monitorRunDependencies&&t.monitorRunDependencies(Bi),Bi==0&&Wi){var Ve=Wi;Wi=null,Ve()}}t.preloadedImages={},t.preloadedAudios={};var Wr=null,Lo="data:application/octet-stream;base64,";function io(oe){return String.prototype.startsWith?oe.startsWith(Lo):oe.indexOf(Lo)===0}var bi,Ro;Wr="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var sa=24032;function vt(oe){return oe}function we(oe){var Ve=/\b__Z[\w\d_]+/g;return oe.replace(Ve,function(lt){var Qe=lt;return lt===Qe?lt:Qe+" ["+lt+"]"})}function Je(){var oe=new Error;if(!oe.stack){try{throw new Error(0)}catch(Ve){oe=Ve}if(!oe.stack)return"(no stack trace available)"}return oe.stack.toString()}function Et(){var oe=Je();return t.extraStackTrace&&(oe+=`
`+t.extraStackTrace()),we(oe)}function ln(oe,Ve,lt,Qe){xe("Assertion failed: "+le(oe)+", at: "+[Ve?le(Ve):"unknown filename",lt,Qe?le(Qe):"unknown function"])}function Gn(){return at.length}function Ir(oe,Ve,lt){yt.set(yt.subarray(Ve,Ve+lt),oe)}function Mn(oe){return t.___errno_location&&(Vt[t.___errno_location()>>2]=oe),oe}function nr(oe){xe("OOM")}function $r(oe){try{var Ve=new ArrayBuffer(oe);return Ve.byteLength!=oe?void 0:(new Int8Array(Ve).set(at),Ci(Ve),st(Ve),1)}catch{}}function Yr(oe){var Ve=Gn(),lt=16777216,Qe=2147483648-lt;if(oe>Qe)return!1;for(var A=16777216,ye=Math.max(Ve,A);ye<oe;)ye<=536870912?ye=tt(2*ye,lt):ye=Math.min(tt((3*ye+2147483648)/4,lt),Qe);var Lt=$r(ye);return!!Lt}var dr=typeof atob=="function"?atob:function(oe){var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lt="",Qe,A,ye,Lt,jt,ct,It,xt=0;oe=oe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Lt=Ve.indexOf(oe.charAt(xt++)),jt=Ve.indexOf(oe.charAt(xt++)),ct=Ve.indexOf(oe.charAt(xt++)),It=Ve.indexOf(oe.charAt(xt++)),Qe=Lt<<2|jt>>4,A=(jt&15)<<4|ct>>2,ye=(ct&3)<<6|It,lt=lt+String.fromCharCode(Qe),ct!==64&&(lt=lt+String.fromCharCode(A)),It!==64&&(lt=lt+String.fromCharCode(ye));while(xt<oe.length);return lt};function Eo(oe){try{for(var Ve=dr(oe),lt=new Uint8Array(Ve.length),Qe=0;Qe<Ve.length;++Qe)lt[Qe]=Ve.charCodeAt(Qe);return lt}catch{throw new Error("Converting base64 string to bytes failed.")}}function Jr(oe){if(io(oe))return Eo(oe.slice(Lo.length))}var la={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},La={a:xe,b:M,c:F,d:ln,e:Mn,f:Gn,g:Ir,h:Yr,i:nr,j:vt,k:we,l:$r,m:Je,n:Et,o:sa,p:Le},Ht=function(oe,Ve,lt){var Qe=new oe.Int8Array(lt),A=new oe.Int32Array(lt);new oe.Uint8Array(lt),new oe.Float32Array(lt);var ye=new oe.Float64Array(lt),Lt=Ve.p|0,jt=oe.Math.floor,ct=oe.Math.abs,It=oe.Math.sqrt,xt=oe.Math.pow,hn=oe.Math.cos,fn=oe.Math.sin,Qt=oe.Math.tan,Ar=oe.Math.acos,Jn=oe.Math.asin,Rr=oe.Math.atan,mr=oe.Math.atan2,sr=oe.Math.ceil,yr=oe.Math.imul,Ai=oe.Math.min,br=oe.Math.clz32,Xt=Ve.b,Ge=Ve.c,wn=Ve.d,al=Ve.e,zc=Ve.f,oo=Ve.g,Qo=Ve.h,Nc=Ve.i,Re=24048;function ao(h){return Qe=new Int8Array(h),A=new Int32Array(h),ye=new Float64Array(h),lt=h,!0}function as(h){h=h|0;var m=0;return m=Re,Re=Re+h|0,Re=Re+15&-16,m|0}function ua(){return Re|0}function si(h){h=h|0,Re=h}function ca(h,m){h=h|0,Re=h}function Co(h){return h=h|0,(yr(h*3|0,h+1|0)|0)+1|0}function Wo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;Mf(h,m,v,_,0)|0&&(O=(yr(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k=Bo(O,4)|0,k&&(zi(h,m,v,_,k,O,0),Bn(k)))}function ss(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0;if(Mf(h,m,v,_,k)|0){if(O=(yr(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k|0){$i(k|0,0,O<<2|0)|0,zi(h,m,v,_,k,O,0);return}k=Bo(O,4)|0,k&&(zi(h,m,v,_,k,O,0),Bn(k))}}function Mf(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0;if(ot=Re,Re=Re+16|0,Ke=ot,O=_,A[O>>2]=h,A[O+4>>2]=m,O=(k|0)!=0,O&&(A[k>>2]=0),Ui(h,m)|0)return Ke=1,Re=ot,Ke|0;A[Ke>>2]=0;e:do if((v|0)>=1)if(O)for(ie=0,ce=1,Be=1,I=0,O=h;;){if(!(I|ie)){if(O=ki(O,m,4,Ke)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,A[16+(ie<<2)>>2]|0,Ke)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(h=_+(Be<<3)|0,A[h>>2]=O,A[h+4>>2]=m,A[k+(Be<<2)>>2]=ce,I=I+1|0,h=(I|0)==(ce|0),N=ie+1|0,Q=(N|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(Q&h&1)|0,(ce|0)>(v|0)){O=0;break}else ie=h?Q?0:N:ie,Be=Be+1|0,I=h?0:I}else for(ie=0,ce=1,Be=1,I=0,O=h;;){if(!(I|ie)){if(O=ki(O,m,4,Ke)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,A[16+(ie<<2)>>2]|0,Ke)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(h=_+(Be<<3)|0,A[h>>2]=O,A[h+4>>2]=m,I=I+1|0,h=(I|0)==(ce|0),N=ie+1|0,Q=(N|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(Q&h&1)|0,(ce|0)>(v|0)){O=0;break}else ie=h?Q?0:N:ie,Be=Be+1|0,I=h?0:I}else O=0;while(0);return Ke=O,Re=ot,Ke|0}function zi(h,m,v,_,k,O,I){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0,I=I|0;var N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0;if(Be=Re,Re=Re+16|0,ce=Be,(h|0)==0&(m|0)==0){Re=Be;return}if(N=Wt(h|0,m|0,O|0,((O|0)<0)<<31>>31|0)|0,Ge()|0,Q=_+(N<<3)|0,Ke=Q,ot=A[Ke>>2]|0,Ke=A[Ke+4>>2]|0,ie=(ot|0)==(h|0)&(Ke|0)==(m|0),!((ot|0)==0&(Ke|0)==0|ie))do N=(N+1|0)%(O|0)|0,Q=_+(N<<3)|0,ot=Q,Ke=A[ot>>2]|0,ot=A[ot+4>>2]|0,ie=(Ke|0)==(h|0)&(ot|0)==(m|0);while(!((Ke|0)==0&(ot|0)==0|ie));if(N=k+(N<<2)|0,ie&&(A[N>>2]|0)<=(I|0)){Re=Be;return}if(ot=Q,A[ot>>2]=h,A[ot+4>>2]=m,A[N>>2]=I,(I|0)>=(v|0)){Re=Be;return}ot=I+1|0,A[ce>>2]=0,Ke=ki(h,m,2,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),A[ce>>2]=0,Ke=ki(h,m,3,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),A[ce>>2]=0,Ke=ki(h,m,1,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),A[ce>>2]=0,Ke=ki(h,m,5,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),A[ce>>2]=0,Ke=ki(h,m,4,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),A[ce>>2]=0,Ke=ki(h,m,6,ce)|0,zi(Ke,Ge()|0,v,_,k,O,ot),Re=Be}function ki(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0;if((A[_>>2]|0)>0){k=0;do v=js(v)|0,k=k+1|0;while((k|0)<(A[_>>2]|0))}N=dt(h|0,m|0,45)|0,Ge()|0,Q=N&127,O=Si(h,m)|0,k=dt(h|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!k)I=6;else for(;;){if(Be=(15-k|0)*3|0,Ke=dt(h|0,m|0,Be|0)|0,Ge()|0,Ke=Ke&7,ot=(Xo(k)|0)==0,k=k+-1|0,ce=Yt(7,0,Be|0)|0,m=m&~(Ge()|0),Be=Yt(A[(ot?464:48)+(Ke*28|0)+(v<<2)>>2]|0,0,Be|0)|0,ie=Ge()|0,v=A[(ot?672:256)+(Ke*28|0)+(v<<2)>>2]|0,h=Be|h&~ce,m=ie|m,!v){v=0;break e}if(!k){I=6;break}}while(0);(I|0)==6&&(ot=A[880+(Q*28|0)+(v<<2)>>2]|0,Ke=Yt(ot|0,0,45)|0,h=Ke|h,m=Ge()|0|m&-1040385,v=A[4304+(Q*28|0)+(v<<2)>>2]|0,(ot&127|0)==127&&(ot=Yt(A[880+(Q*28|0)+20>>2]|0,0,45)|0,m=Ge()|0|m&-1040385,v=A[4304+(Q*28|0)+20>>2]|0,h=ks(ot|h,m)|0,m=Ge()|0,A[_>>2]=(A[_>>2]|0)+1)),I=dt(h|0,m|0,45)|0,Ge()|0,I=I&127;e:do if(ci(I)|0){t:do if((Si(h,m)|0)==1){if((Q|0)!=(I|0))if(Xu(I,A[7728+(Q*28|0)>>2]|0)|0){h=ja(h,m)|0,O=1,m=Ge()|0;break}else{h=ks(h,m)|0,O=1,m=Ge()|0;break}switch(O|0){case 5:{h=ja(h,m)|0,m=Ge()|0,A[_>>2]=(A[_>>2]|0)+5,O=0;break t}case 3:{h=ks(h,m)|0,m=Ge()|0,A[_>>2]=(A[_>>2]|0)+1,O=0;break t}default:return Ke=0,ot=0,Xt(Ke|0),ot|0}}else O=0;while(0);if((v|0)>0){k=0;do h=du(h,m)|0,m=Ge()|0,k=k+1|0;while((k|0)!=(v|0))}if((Q|0)!=(I|0)){if(!(Uc(I)|0)){if((O|0)!=0|(Si(h,m)|0)!=5)break;A[_>>2]=(A[_>>2]|0)+1;break}switch(N&127){case 8:case 118:break e}(Si(h,m)|0)!=3&&(A[_>>2]=(A[_>>2]|0)+1)}}else if((v|0)>0){k=0;do h=ks(h,m)|0,m=Ge()|0,k=k+1|0;while((k|0)!=(v|0))}while(0);return A[_>>2]=((A[_>>2]|0)+v|0)%6|0,Ke=m,ot=h,Xt(Ke|0),ot|0}function ls(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0;if(Be=Re,Re=Re+16|0,ce=Be,!v)return ce=_,A[ce>>2]=h,A[ce+4>>2]=m,ce=0,Re=Be,ce|0;A[ce>>2]=0;e:do if(Ui(h,m)|0)h=1;else{if(O=(v|0)>0,O){k=0,ie=h;do{if(ie=ki(ie,m,4,ce)|0,m=Ge()|0,(ie|0)==0&(m|0)==0){h=2;break e}if(k=k+1|0,Ui(ie,m)|0){h=1;break e}}while((k|0)<(v|0));if(Q=_,A[Q>>2]=ie,A[Q+4>>2]=m,Q=v+-1|0,O){O=0,I=1,k=ie,h=m;do{if(k=ki(k,h,2,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(I<<3)|0,A[N>>2]=k,A[N+4>>2]=h,I=I+1|0,Ui(k,h)|0){h=1;break e}O=O+1|0}while((O|0)<(v|0));N=0,O=I;do{if(k=ki(k,h,3,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if(I=_+(O<<3)|0,A[I>>2]=k,A[I+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}N=N+1|0}while((N|0)<(v|0));I=0;do{if(k=ki(k,h,1,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,5,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,4,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));for(I=0;;){if(k=ki(k,h,6,ce)|0,h=Ge()|0,(k|0)==0&(h|0)==0){h=2;break e}if((I|0)!=(Q|0))if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,!(Ui(k,h)|0))O=O+1|0;else{h=1;break e}if(I=I+1|0,(I|0)>=(v|0)){I=ie,O=m;break}}}else I=ie,k=ie,O=m,h=m}else I=_,A[I>>2]=h,A[I+4>>2]=m,I=h,k=h,O=m,h=m;h=((I|0)!=(k|0)|(O|0)!=(h|0))&1}while(0);return ce=h,Re=Be,ce|0}function wi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;if(O=Re,Re=Re+48|0,k=O+8|0,_=O,N=h,I=A[N+4>>2]|0,v=_,A[v>>2]=A[N>>2],A[v+4>>2]=I,Zi(_,k),k=Es(k,m)|0,m=A[_>>2]|0,_=A[h+8>>2]|0,(_|0)<=0)return N=m,I=(k|0)<(N|0),N=I?N:k,N=N+12|0,Re=O,N|0;v=A[h+12>>2]|0,h=0;do m=(A[v+(h<<3)>>2]|0)+m|0,h=h+1|0;while((h|0)<(_|0));return N=(k|0)<(m|0),N=N?m:k,N=N+12|0,Re=O,N|0}function Ni(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;if(N=Re,Re=Re+48|0,_=N+8|0,k=N,!(Rl(h,m,v)|0)){Re=N;return}if(Q=h,O=A[Q+4>>2]|0,I=k,A[I>>2]=A[Q>>2],A[I+4>>2]=O,Zi(k,_),I=Es(_,m)|0,m=A[k>>2]|0,O=A[h+8>>2]|0,(O|0)>0){k=A[h+12>>2]|0,_=0;do m=(A[k+(_<<3)>>2]|0)+m|0,_=_+1|0;while((_|0)!=(O|0))}if(m=(I|0)<(m|0)?m:I,(m|0)<=-12){Re=N;return}Q=m+11|0,$i(v|0,0,(((Q|0)>0?Q:0)<<3)+8|0)|0,Re=N}function Rl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,C=0,L=0,D=0,j=0,G=0;if(G=Re,Re=Re+112|0,C=G+80|0,Q=G+72|0,L=G,D=G+56|0,ie=h+8|0,j=Pi((A[ie>>2]<<5)+32|0)|0,j||wn(22848,22448,800,22456),ba(h,j),O=h,_=A[O+4>>2]|0,N=Q,A[N>>2]=A[O>>2],A[N+4>>2]=_,Zi(Q,C),N=Es(C,m)|0,_=A[Q>>2]|0,O=A[ie>>2]|0,(O|0)>0){I=A[h+12>>2]|0,k=0;do _=(A[I+(k<<3)>>2]|0)+_|0,k=k+1|0;while((k|0)!=(O|0))}if(N=(N|0)<(_|0)?_:N,y=N+12|0,k=Bo(y,8)|0,ce=Bo(y,8)|0,A[C>>2]=0,p=h,f=A[p+4>>2]|0,_=Q,A[_>>2]=A[p>>2],A[_+4>>2]=f,_=Ku(Q,y,m,C,k,ce)|0,_|0)return Bn(k),Bn(ce),Bn(j),j=_,Re=G,j|0;e:do if((A[ie>>2]|0)>0){for(O=h+12|0,_=0;I=Ku((A[O>>2]|0)+(_<<3)|0,y,m,C,k,ce)|0,_=_+1|0,!(I|0);)if((_|0)>=(A[ie>>2]|0))break e;return Bn(k),Bn(ce),Bn(j),j=I,Re=G,j|0}while(0);(N|0)>-12&&$i(ce|0,0,((y|0)>1?y:1)<<3|0)|0;e:do if((A[C>>2]|0)>0){f=((y|0)<0)<<31>>31,Ze=k,_n=ce,xn=k,Kt=k,c=ce,p=k,_=k,Nt=k,cn=ce,mt=ce,Rt=ce,k=ce;t:for(;;){for(Ct=A[C>>2]|0,ot=0,bt=0,O=0;;){I=L,N=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(N|0));if(m=Ze+(ot<<3)|0,Q=A[m>>2]|0,m=A[m+4>>2]|0,Mf(Q,m,1,L,0)|0){I=L,N=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(N|0));I=Bo(7,4)|0,I|0&&(zi(Q,m,1,L,I,7,0),Bn(I))}Ke=0;do{Be=L+(Ke<<3)|0,ce=A[Be>>2]|0,Be=A[Be+4>>2]|0;n:do if(!((ce|0)==0&(Be|0)==0)){if(Q=Wt(ce|0,Be|0,y|0,f|0)|0,Ge()|0,I=v+(Q<<3)|0,N=I,m=A[N>>2]|0,N=A[N+4>>2]|0,!((m|0)==0&(N|0)==0))for(ie=0;;){if((ie|0)>(y|0))break t;if((m|0)==(ce|0)&(N|0)==(Be|0))break n;if(Q=(Q+1|0)%(y|0)|0,I=v+(Q<<3)|0,N=I,m=A[N>>2]|0,N=A[N+4>>2]|0,(m|0)==0&(N|0)==0)break;ie=ie+1|0}(ce|0)==0&(Be|0)==0||(fs(ce,Be,D),an(h,j,D)|0&&(ie=I,A[ie>>2]=ce,A[ie+4>>2]=Be,ie=_n+(O<<3)|0,A[ie>>2]=ce,A[ie+4>>2]=Be,O=O+1|0))}while(0);Ke=Ke+1|0}while(Ke>>>0<7);if(bt=bt+1|0,(bt|0)>=(Ct|0))break;ot=ot+1|0}if((Ct|0)>0&&$i(xn|0,0,Ct<<3|0)|0,A[C>>2]=O,(O|0)>0)ce=k,Be=Rt,Ke=p,ot=mt,bt=cn,Ct=_n,k=Nt,Rt=_,mt=Kt,cn=xn,Nt=ce,_=Be,p=c,c=Ke,Kt=ot,xn=bt,_n=Ze,Ze=Ct;else break e}return Bn(Kt),Bn(c),Bn(j),j=-1,Re=G,j|0}else _=ce;while(0);return Bn(j),Bn(k),Bn(_),j=0,Re=G,j|0}function Ku(h,m,v,_,k,O){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0;var I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,C=0;if(f=Re,Re=Re+48|0,xn=f+32|0,Kt=f+16|0,c=f,I=A[h>>2]|0,(I|0)<=0)return p=0,Re=f,p|0;cn=h+4|0,mt=xn+8|0,Rt=Kt+8|0,Ze=c+8|0,_n=((m|0)<0)<<31>>31,Nt=0;e:for(;;){N=A[cn>>2]|0,bt=N+(Nt<<4)|0,A[xn>>2]=A[bt>>2],A[xn+4>>2]=A[bt+4>>2],A[xn+8>>2]=A[bt+8>>2],A[xn+12>>2]=A[bt+12>>2],(Nt|0)==(I+-1|0)?(A[Kt>>2]=A[N>>2],A[Kt+4>>2]=A[N+4>>2],A[Kt+8>>2]=A[N+8>>2],A[Kt+12>>2]=A[N+12>>2]):(bt=N+(Nt+1<<4)|0,A[Kt>>2]=A[bt>>2],A[Kt+4>>2]=A[bt+4>>2],A[Kt+8>>2]=A[bt+8>>2],A[Kt+12>>2]=A[bt+12>>2]),bt=Vc(xn,Kt,v)|0;t:do if((bt|0)>0){Ct=+(bt|0),ot=0;n:for(;;){C=+(bt-ot|0),y=+(ot|0),ye[c>>3]=+ye[xn>>3]*C/Ct+ +ye[Kt>>3]*y/Ct,ye[Ze>>3]=+ye[mt>>3]*C/Ct+ +ye[Rt>>3]*y/Ct,Be=Np(c,v)|0,Ke=Ge()|0,N=Wt(Be|0,Ke|0,m|0,_n|0)|0,Ge()|0,I=O+(N<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0;r:do if((ie|0)==0&(Q|0)==0)p=14;else for(ce=0;;){if((ce|0)>(m|0)){I=1;break r}if((ie|0)==(Be|0)&(Q|0)==(Ke|0)){I=7;break r}if(N=(N+1|0)%(m|0)|0,I=O+(N<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0){p=14;break}else ce=ce+1|0}while(0);switch((p|0)==14&&(p=0,(Be|0)==0&(Ke|0)==0?I=7:(A[I>>2]=Be,A[I+4>>2]=Ke,I=A[_>>2]|0,ce=k+(I<<3)|0,A[ce>>2]=Be,A[ce+4>>2]=Ke,A[_>>2]=I+1,I=0)),I&7){case 7:case 0:break;default:break n}if(ot=ot+1|0,(bt|0)<=(ot|0)){p=8;break t}}if(I|0){I=-1,p=20;break e}}else p=8;while(0);if((p|0)==8&&(p=0),Nt=Nt+1|0,I=A[h>>2]|0,(Nt|0)>=(I|0)){I=0,p=20;break}}return(p|0)==20?(Re=f,I|0):0}function Rp(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(ie=Re,Re=Re+176|0,Q=ie,(m|0)<1){mo(v,0,0),Re=ie;return}I=h,I=dt(A[I>>2]|0,A[I+4>>2]|0,52)|0,Ge()|0,mo(v,(m|0)>6?m:6,I&15),I=0;do{if(_=h+(I<<3)|0,Gs(A[_>>2]|0,A[_+4>>2]|0,Q),_=A[Q>>2]|0,(_|0)>0){N=0;do O=Q+8+(N<<4)|0,N=N+1|0,_=Q+8+(((N|0)%(_|0)|0)<<4)|0,k=hs(v,_,O)|0,k?tf(v,k)|0:nf(v,O,_)|0,_=A[Q>>2]|0;while((N|0)<(_|0))}I=I+1|0}while((I|0)!=(m|0));Re=ie}function Dp(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=Re,Re=Re+32|0,_=O,k=O+16|0,Rp(h,m,k),A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,h=jl(k)|0,!h){ji(v)|0,Va(k),Re=O;return}do{m=Ln(v)|0;do ur(m,h)|0,I=h+16|0,A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],A[_+12>>2]=A[I+12>>2],tf(k,h)|0,h=$p(k,_)|0;while(h|0);h=jl(k)|0}while(h|0);ji(v)|0,Va(k),Re=O}function ci(h){return h=h|0,A[7728+(h*28|0)+16>>2]|0}function Uc(h){return h=h|0,(h|0)==4|(h|0)==117|0}function Lf(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)>>2]|0}function Xh(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)+4>>2]|0}function Rf(h,m){h=h|0,m=m|0,h=7728+(h*28|0)|0,A[m>>2]=A[h>>2],A[m+4>>2]=A[h+4>>2],A[m+8>>2]=A[h+8>>2],A[m+12>>2]=A[h+12>>2]}function Zu(h,m){h=h|0,m=m|0;var v=0,_=0;if(m>>>0>20)return m=-1,m|0;do if((A[11152+(m*216|0)>>2]|0)!=(h|0))if((A[11152+(m*216|0)+8>>2]|0)!=(h|0))if((A[11152+(m*216|0)+16>>2]|0)!=(h|0))if((A[11152+(m*216|0)+24>>2]|0)!=(h|0))if((A[11152+(m*216|0)+32>>2]|0)!=(h|0))if((A[11152+(m*216|0)+40>>2]|0)!=(h|0))if((A[11152+(m*216|0)+48>>2]|0)!=(h|0))if((A[11152+(m*216|0)+56>>2]|0)!=(h|0))if((A[11152+(m*216|0)+64>>2]|0)!=(h|0))if((A[11152+(m*216|0)+72>>2]|0)!=(h|0))if((A[11152+(m*216|0)+80>>2]|0)!=(h|0))if((A[11152+(m*216|0)+88>>2]|0)!=(h|0))if((A[11152+(m*216|0)+96>>2]|0)!=(h|0))if((A[11152+(m*216|0)+104>>2]|0)!=(h|0))if((A[11152+(m*216|0)+112>>2]|0)!=(h|0))if((A[11152+(m*216|0)+120>>2]|0)!=(h|0))if((A[11152+(m*216|0)+128>>2]|0)!=(h|0))if((A[11152+(m*216|0)+136>>2]|0)==(h|0))h=2,v=1,_=2;else{if((A[11152+(m*216|0)+144>>2]|0)==(h|0)){h=0,v=2,_=0;break}if((A[11152+(m*216|0)+152>>2]|0)==(h|0)){h=0,v=2,_=1;break}if((A[11152+(m*216|0)+160>>2]|0)==(h|0)){h=0,v=2,_=2;break}if((A[11152+(m*216|0)+168>>2]|0)==(h|0)){h=1,v=2,_=0;break}if((A[11152+(m*216|0)+176>>2]|0)==(h|0)){h=1,v=2,_=1;break}if((A[11152+(m*216|0)+184>>2]|0)==(h|0)){h=1,v=2,_=2;break}if((A[11152+(m*216|0)+192>>2]|0)==(h|0)){h=2,v=2,_=0;break}if((A[11152+(m*216|0)+200>>2]|0)==(h|0)){h=2,v=2,_=1;break}if((A[11152+(m*216|0)+208>>2]|0)==(h|0)){h=2,v=2,_=2;break}else h=-1;return h|0}else h=2,v=1,_=1;else h=2,v=1,_=0;else h=1,v=1,_=2;else h=1,v=1,_=1;else h=1,v=1,_=0;else h=0,v=1,_=2;else h=0,v=1,_=1;else h=0,v=1,_=0;else h=2,v=0,_=2;else h=2,v=0,_=1;else h=2,v=0,_=0;else h=1,v=0,_=2;else h=1,v=0,_=1;else h=1,v=0,_=0;else h=0,v=0,_=2;else h=0,v=0,_=1;else h=0,v=0,_=0;while(0);return m=A[11152+(m*216|0)+(v*72|0)+(h*24|0)+(_<<3)+4>>2]|0,m|0}function Xu(h,m){return h=h|0,m=m|0,(A[7728+(h*28|0)+20>>2]|0)==(m|0)?(m=1,m|0):(m=(A[7728+(h*28|0)+24>>2]|0)==(m|0),m|0)}function Dl(h,m){return h=h|0,m=m|0,A[880+(h*28|0)+(m<<2)>>2]|0}function jc(h,m){return h=h|0,m=m|0,(A[880+(h*28|0)>>2]|0)==(m|0)?(m=0,m|0):(A[880+(h*28|0)+4>>2]|0)==(m|0)?(m=1,m|0):(A[880+(h*28|0)+8>>2]|0)==(m|0)?(m=2,m|0):(A[880+(h*28|0)+12>>2]|0)==(m|0)?(m=3,m|0):(A[880+(h*28|0)+16>>2]|0)==(m|0)?(m=4,m|0):(A[880+(h*28|0)+20>>2]|0)==(m|0)?(m=5,m|0):((A[880+(h*28|0)+24>>2]|0)==(m|0)?6:7)|0}function $c(){return 122}function Yu(h){h=h|0;var m=0,v=0,_=0;m=0;do Yt(m|0,0,45)|0,_=Ge()|0|134225919,v=h+(m<<3)|0,A[v>>2]=-1,A[v+4>>2]=_,m=m+1|0;while((m|0)!=122)}function Ko(h){return h=h|0,+ye[h+16>>3]<+ye[h+24>>3]|0}function sl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return v=+ye[m>>3],!(v>=+ye[h+8>>3])||!(v<=+ye[h>>3])?(m=0,m|0):(_=+ye[h+16>>3],v=+ye[h+24>>3],k=+ye[m+8>>3],m=k>=v,h=k<=_&1,_<v?m&&(h=1):m||(h=0),m=(h|0)!=0,m|0)}function Es(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;I=Re,Re=Re+288|0,v=I+264|0,_=I+96|0,k=I,O=k,N=O+96|0;do A[O>>2]=0,O=O+4|0;while((O|0)<(N|0));return mu(m,k),O=k,N=A[O>>2]|0,O=A[O+4>>2]|0,fs(N,O,v),Gs(N,O,_),Q=+ec(v,_+8|0),ye[v>>3]=+ye[h>>3],O=v+8|0,ye[O>>3]=+ye[h+16>>3],ye[_>>3]=+ye[h+8>>3],N=_+8|0,ye[N>>3]=+ye[h+24>>3],ie=+ec(v,_),N=~~+sr(+(ie*ie/+Po(+ +ct(+((+ye[O>>3]-+ye[N>>3])/(+ye[v>>3]-+ye[_>>3]))),3)/(Q*(Q*2.59807621135)*.8))),Re=I,(N|0?N:1)|0}function Vc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0;N=Re,Re=Re+288|0,_=N+264|0,k=N+96|0,O=N,I=O,Q=I+96|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(Q|0));return mu(v,O),Q=O,I=A[Q>>2]|0,Q=A[Q+4>>2]|0,fs(I,Q,_),Gs(I,Q,k),ie=+ec(_,k+8|0),Q=~~+sr(+(+ec(h,m)/(ie*2))),Re=N,(Q|0?Q:1)|0}function ll(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0,A[h>>2]=m,A[h+4>>2]=v,A[h+8>>2]=_}function Nr(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0;Be=m+8|0,A[Be>>2]=0,Q=+ye[h>>3],I=+ct(+Q),ie=+ye[h+8>>3],N=+ct(+ie)/.8660254037844386,I=I+N*.5,v=~~I,h=~~N,I=I-+(v|0),N=N-+(h|0);do if(I<.5)if(I<.3333333333333333)if(A[m>>2]=v,N<(I+1)*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}else if(Ke=1-I,h=(!(N<Ke)&1)+h|0,A[m+4>>2]=h,Ke<=N&N<I*2){v=v+1|0,A[m>>2]=v;break}else{A[m>>2]=v;break}else{if(!(I<.6666666666666666))if(v=v+1|0,A[m>>2]=v,N<I*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}if(N<1-I){if(A[m+4>>2]=h,I*2+-1<N){A[m>>2]=v;break}}else h=h+1|0,A[m+4>>2]=h;v=v+1|0,A[m>>2]=v}while(0);do if(Q<0)if(h&1){ce=(h+1|0)/2|0,ce=Jo(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(ce>>>0)+4294967296*+(Ge()|0))*2+1)),A[m>>2]=v;break}else{ce=(h|0)/2|0,ce=Jo(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(ce>>>0)+4294967296*+(Ge()|0))*2),A[m>>2]=v;break}while(0);ce=m+4|0,ie<0&&(v=v-((h<<1|1|0)/2|0)|0,A[m>>2]=v,h=0-h|0,A[ce>>2]=h),_=h-v|0,(v|0)<0?(k=0-v|0,A[ce>>2]=_,A[Be>>2]=k,A[m>>2]=0,h=_,v=0):k=0,(h|0)<0&&(v=v-h|0,A[m>>2]=v,k=k-h|0,A[Be>>2]=k,A[ce>>2]=0,h=0),O=v-k|0,_=h-k|0,(k|0)<0&&(A[m>>2]=O,A[ce>>2]=_,A[Be>>2]=0,h=_,v=O,k=0),_=(h|0)<(v|0)?h:v,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[m>>2]=v-_,A[ce>>2]=h-_,A[Be>>2]=k-_)}function Qn(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,(m|0)<0&&(v=v-m|0,A[I>>2]=v,O=h+8|0,A[O>>2]=(A[O>>2]|0)-m,A[h>>2]=0,m=0),(v|0)<0?(m=m-v|0,A[h>>2]=m,O=h+8|0,k=(A[O>>2]|0)-v|0,A[O>>2]=k,A[I>>2]=0,v=0):(k=h+8|0,O=k,k=A[k>>2]|0),(k|0)<0&&(m=m-k|0,A[h>>2]=m,v=v-k|0,A[I>>2]=v,A[O>>2]=0,k=0),_=(v|0)<(m|0)?v:m,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[h>>2]=m-_,A[I>>2]=v-_,A[O>>2]=k-_)}function Do(h,m){h=h|0,m=m|0;var v=0,_=0;_=A[h+8>>2]|0,v=+((A[h+4>>2]|0)-_|0),ye[m>>3]=+((A[h>>2]|0)-_|0)-v*.5,ye[m+8>>3]=v*.8660254037844386}function kr(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[m>>2]|0)+(A[h>>2]|0),A[v+4>>2]=(A[m+4>>2]|0)+(A[h+4>>2]|0),A[v+8>>2]=(A[m+8>>2]|0)+(A[h+8>>2]|0)}function au(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[h>>2]|0)-(A[m>>2]|0),A[v+4>>2]=(A[h+4>>2]|0)-(A[m+4>>2]|0),A[v+8>>2]=(A[h+8>>2]|0)-(A[m+8>>2]|0)}function Df(h,m){h=h|0,m=m|0;var v=0,_=0;v=yr(A[h>>2]|0,m)|0,A[h>>2]=v,v=h+4|0,_=yr(A[v>>2]|0,m)|0,A[v>>2]=_,h=h+8|0,m=yr(A[h>>2]|0,m)|0,A[h>>2]=m}function Hc(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=A[h>>2]|0,N=(I|0)<0,_=(A[h+4>>2]|0)-(N?I:0)|0,O=(_|0)<0,k=(O?0-_|0:0)+((A[h+8>>2]|0)-(N?I:0))|0,v=(k|0)<0,h=v?0:k,m=(O?0:_)-(v?k:0)|0,k=(N?0:I)-(O?_:0)-(v?k:0)|0,v=(m|0)<(k|0)?m:k,v=(h|0)<(v|0)?h:v,_=(v|0)>0,h=h-(_?v:0)|0,m=m-(_?v:0)|0;e:do switch(k-(_?v:0)|0){case 0:switch(m|0){case 0:return N=h|0?(h|0)==1?1:7:0,N|0;case 1:return N=h|0?(h|0)==1?3:7:2,N|0;default:break e}case 1:switch(m|0){case 0:return N=h|0?(h|0)==1?5:7:4,N|0;case 1:{if(!h)h=6;else break e;return h|0}default:break e}}while(0);return N=7,N|0}function Fp(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,N=h+4|0,v=(A[N>>2]|0)-v|0,_=pa(+((m*3|0)-v|0)/7)|0,A[h>>2]=_,m=pa(+((v<<1)+m|0)/7)|0,A[N>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,A[N>>2]=v,A[I>>2]=O,A[h>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[N>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[N>>2]=m-_,A[I>>2]=v-_)}function su(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,N=h+4|0,v=(A[N>>2]|0)-v|0,_=pa(+((m<<1)+v|0)/7)|0,A[h>>2]=_,m=pa(+((v*3|0)-m|0)/7)|0,A[N>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,A[N>>2]=v,A[I>>2]=O,A[h>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[N>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[N>>2]=m-_,A[I>>2]=v-_)}function lu(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,N=h+8|0,_=A[N>>2]|0,k=v+(m*3|0)|0,A[h>>2]=k,v=_+(v*3|0)|0,A[I>>2]=v,m=(_*3|0)+m|0,A[N>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[N>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function yi(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=(m*3|0)+k|0,k=v+(k*3|0)|0,A[h>>2]=k,A[I>>2]=_,m=(v*3|0)+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=_,A[N>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[N>>2]=m-v)}function uu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;(m+-1|0)>>>0>=6||(k=(A[15472+(m*12|0)>>2]|0)+(A[h>>2]|0)|0,A[h>>2]=k,N=h+4|0,_=(A[15472+(m*12|0)+4>>2]|0)+(A[N>>2]|0)|0,A[N>>2]=_,I=h+8|0,m=(A[15472+(m*12|0)+8>>2]|0)+(A[I>>2]|0)|0,A[I>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[N>>2]=v,A[I>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[I>>2]=m,A[N>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[N>>2]=k-v,A[I>>2]=m-v))}function Us(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=m+k|0,k=v+k|0,A[h>>2]=k,A[I>>2]=_,m=v+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function cu(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,_=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,k=_+m|0,A[h>>2]=k,_=v+_|0,A[I>>2]=_,m=v+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function js(h){switch(h=h|0,h|0){case 1:{h=5;break}case 5:{h=4;break}case 4:{h=6;break}case 6:{h=2;break}case 2:{h=3;break}case 3:{h=1;break}}return h|0}function Ti(h){switch(h=h|0,h|0){case 1:{h=3;break}case 3:{h=2;break}case 2:{h=6;break}case 6:{h=4;break}case 4:{h=5;break}case 5:{h=1;break}}return h|0}function Fl(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,N=h+8|0,_=A[N>>2]|0,k=v+(m<<1)|0,A[h>>2]=k,v=_+(v<<1)|0,A[I>>2]=v,m=(_<<1)+m|0,A[N>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[N>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function qc(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=(m<<1)+k|0,k=v+(k<<1)|0,A[h>>2]=k,A[I>>2]=_,m=(v<<1)+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=_,A[N>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[N>>2]=m-v)}function Ki(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;return I=(A[h>>2]|0)-(A[m>>2]|0)|0,N=(I|0)<0,_=(A[h+4>>2]|0)-(A[m+4>>2]|0)-(N?I:0)|0,O=(_|0)<0,k=(N?0-I|0:0)+(A[h+8>>2]|0)-(A[m+8>>2]|0)+(O?0-_|0:0)|0,h=(k|0)<0,m=h?0:k,v=(O?0:_)-(h?k:0)|0,k=(N?0:I)-(O?_:0)-(h?k:0)|0,h=(v|0)<(k|0)?v:k,h=(m|0)<(h|0)?m:h,_=(h|0)>0,m=m-(_?h:0)|0,v=v-(_?h:0)|0,h=k-(_?h:0)|0,h=(h|0)>-1?h:0-h|0,v=(v|0)>-1?v:0-v|0,m=(m|0)>-1?m:0-m|0,m=(v|0)>(m|0)?v:m,((h|0)>(m|0)?h:m)|0}function Gc(h,m){h=h|0,m=m|0;var v=0;v=A[h+8>>2]|0,A[m>>2]=(A[h>>2]|0)-v,A[m+4>>2]=(A[h+4>>2]|0)-v}function $s(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;_=A[h>>2]|0,A[m>>2]=_,h=A[h+4>>2]|0,I=m+4|0,A[I>>2]=h,N=m+8|0,A[N>>2]=0,v=h-_|0,(_|0)<0?(h=0-_|0,A[I>>2]=v,A[N>>2]=h,A[m>>2]=0,_=0):(v=h,h=0),(v|0)<0&&(_=_-v|0,A[m>>2]=_,h=h-v|0,A[N>>2]=h,A[I>>2]=0,v=0),O=_-h|0,k=v-h|0,(h|0)<0?(A[m>>2]=O,A[I>>2]=k,A[N>>2]=0,v=k,k=O,h=0):k=_,_=(v|0)<(k|0)?v:k,_=(h|0)<(_|0)?h:_,!((_|0)<=0)&&(A[m>>2]=k-_,A[I>>2]=v-_,A[N>>2]=h-_)}function Cs(h){h=h|0;var m=0,v=0,_=0,k=0;m=h+8|0,k=A[m>>2]|0,v=k-(A[h>>2]|0)|0,A[h>>2]=v,_=h+4|0,h=(A[_>>2]|0)-k|0,A[_>>2]=h,A[m>>2]=0-(h+v)}function co(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;v=A[h>>2]|0,m=0-v|0,A[h>>2]=m,I=h+8|0,A[I>>2]=0,N=h+4|0,_=A[N>>2]|0,k=_+v|0,(v|0)>0?(A[N>>2]=k,A[I>>2]=v,A[h>>2]=0,m=0,_=k):v=0,(_|0)<0?(O=m-_|0,A[h>>2]=O,v=v-_|0,A[I>>2]=v,A[N>>2]=0,k=O-v|0,m=0-v|0,(v|0)<0?(A[h>>2]=k,A[N>>2]=m,A[I>>2]=0,_=m,v=0):(_=0,k=O)):k=m,m=(_|0)<(k|0)?_:k,m=(v|0)<(m|0)?v:m,!((m|0)<=0)&&(A[h>>2]=k-m,A[N>>2]=_-m,A[I>>2]=v-m)}function Bl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,fo(h,m,v,k),Nr(k,v+4|0),Re=_}function fo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0;if(Q=Re,Re=Re+32|0,O=Q,ef(h,O),A[v>>2]=0,k=+Sr(15888,O),I=+Sr(15912,O),I<k&&(A[v>>2]=1,k=I),I=+Sr(15936,O),I<k&&(A[v>>2]=2,k=I),I=+Sr(15960,O),I<k&&(A[v>>2]=3,k=I),I=+Sr(15984,O),I<k&&(A[v>>2]=4,k=I),I=+Sr(16008,O),I<k&&(A[v>>2]=5,k=I),I=+Sr(16032,O),I<k&&(A[v>>2]=6,k=I),I=+Sr(16056,O),I<k&&(A[v>>2]=7,k=I),I=+Sr(16080,O),I<k&&(A[v>>2]=8,k=I),I=+Sr(16104,O),I<k&&(A[v>>2]=9,k=I),I=+Sr(16128,O),I<k&&(A[v>>2]=10,k=I),I=+Sr(16152,O),I<k&&(A[v>>2]=11,k=I),I=+Sr(16176,O),I<k&&(A[v>>2]=12,k=I),I=+Sr(16200,O),I<k&&(A[v>>2]=13,k=I),I=+Sr(16224,O),I<k&&(A[v>>2]=14,k=I),I=+Sr(16248,O),I<k&&(A[v>>2]=15,k=I),I=+Sr(16272,O),I<k&&(A[v>>2]=16,k=I),I=+Sr(16296,O),I<k&&(A[v>>2]=17,k=I),I=+Sr(16320,O),I<k&&(A[v>>2]=18,k=I),I=+Sr(16344,O),I<k&&(A[v>>2]=19,k=I),I=+Ar(+(1-k*.5)),I<1e-16){A[_>>2]=0,A[_+4>>2]=0,A[_+8>>2]=0,A[_+12>>2]=0,Re=Q;return}if(v=A[v>>2]|0,k=+ye[16368+(v*24|0)>>3],k=+pu(k-+pu(+Hs(15568+(v<<4)|0,h))),Xo(m)|0?N=+pu(k+-.3334731722518321):N=k,k=+Qt(+I)/.381966011250105,(m|0)>0){O=0;do k=k*2.6457513110645907,O=O+1|0;while((O|0)!=(m|0))}I=+hn(+N)*k,ye[_>>3]=I,N=+fn(+N)*k,ye[_+8>>3]=N,Re=Q}function us(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;if(O=+sc(h),O<1e-16){m=15568+(m<<4)|0,A[k>>2]=A[m>>2],A[k+4>>2]=A[m+4>>2],A[k+8>>2]=A[m+8>>2],A[k+12>>2]=A[m+12>>2];return}if(I=+mr(+ +ye[h+8>>3],+ +ye[h>>3]),(v|0)>0){h=0;do O=O/2.6457513110645907,h=h+1|0;while((h|0)!=(v|0))}_?(O=O/3,v=(Xo(v)|0)==0,O=+Rr(+((v?O:O/2.6457513110645907)*.381966011250105))):(O=+Rr(+(O*.381966011250105)),Xo(v)|0&&(I=+pu(I+.3334731722518321))),qs(15568+(m<<4)|0,+pu(+ye[16368+(m*24|0)>>3]-I),O,k)}function ul(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,Do(h+4|0,k),us(k,A[h>>2]|0,m,0,v),Re=_}function Zo(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,C=0,L=0,D=0,j=0,G=0;if(D=Re,Re=Re+272|0,O=D+256|0,mt=D+240|0,y=D,C=D+224|0,L=D+208|0,Rt=D+176|0,Ze=D+160|0,_n=D+192|0,xn=D+144|0,Kt=D+128|0,c=D+112|0,p=D+96|0,f=D+80|0,A[O>>2]=m,A[mt>>2]=A[h>>2],A[mt+4>>2]=A[h+4>>2],A[mt+8>>2]=A[h+8>>2],A[mt+12>>2]=A[h+12>>2],fu(mt,O,y),A[k>>2]=0,mt=_+v+((_|0)==5&1)|0,(mt|0)<=(v|0)){Re=D;return}Q=A[O>>2]|0,ie=C+4|0,ce=Rt+4|0,Be=v+5|0,Ke=16848+(Q<<2)|0,ot=16928+(Q<<2)|0,bt=Kt+8|0,Ct=c+8|0,Nt=p+8|0,cn=L+4|0,N=v;e:for(;;){I=y+(((N|0)%5|0)<<4)|0,A[L>>2]=A[I>>2],A[L+4>>2]=A[I+4>>2],A[L+8>>2]=A[I+8>>2],A[L+12>>2]=A[I+12>>2];do;while((Dr(L,Q,0,1)|0)==2);if((N|0)>(v|0)&(Xo(m)|0)!=0){if(A[Rt>>2]=A[L>>2],A[Rt+4>>2]=A[L+4>>2],A[Rt+8>>2]=A[L+8>>2],A[Rt+12>>2]=A[L+12>>2],Do(ie,Ze),_=A[Rt>>2]|0,O=A[17008+(_*80|0)+(A[C>>2]<<2)>>2]|0,A[Rt>>2]=A[18608+(_*80|0)+(O*20|0)>>2],I=A[18608+(_*80|0)+(O*20|0)+16>>2]|0,(I|0)>0){h=0;do Us(ce),h=h+1|0;while((h|0)<(I|0))}switch(I=18608+(_*80|0)+(O*20|0)+4|0,A[_n>>2]=A[I>>2],A[_n+4>>2]=A[I+4>>2],A[_n+8>>2]=A[I+8>>2],Df(_n,(A[Ke>>2]|0)*3|0),kr(ce,_n,ce),Qn(ce),Do(ce,xn),j=+(A[ot>>2]|0),ye[Kt>>3]=j*3,ye[bt>>3]=0,G=j*-1.5,ye[c>>3]=G,ye[Ct>>3]=j*2.598076211353316,ye[p>>3]=G,ye[Nt>>3]=j*-2.598076211353316,A[17008+((A[Rt>>2]|0)*80|0)+(A[L>>2]<<2)>>2]|0){case 1:{h=c,_=Kt;break}case 3:{h=p,_=c;break}case 2:{h=Kt,_=p;break}default:{h=12;break e}}Zs(Ze,xn,_,h,f),us(f,A[Rt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1}if((N|0)<(Be|0)&&(Do(cn,Rt),us(Rt,A[L>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),A[C>>2]=A[L>>2],A[C+4>>2]=A[L+4>>2],A[C+8>>2]=A[L+8>>2],A[C+12>>2]=A[L+12>>2],N=N+1|0,(N|0)>=(mt|0)){h=3;break}}if((h|0)==3){Re=D;return}else(h|0)==12&&wn(22474,22521,581,22531)}function fu(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;Q=Re,Re=Re+128|0,_=Q+64|0,k=Q,O=_,I=20208,N=O+60|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));O=k,I=20272,N=O+60|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));N=(Xo(A[m>>2]|0)|0)==0,_=N?_:k,k=h+4|0,Fl(k),qc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,kr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,kr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,kr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,kr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],v=v+68|0,kr(k,_+48|0,v),Qn(v),Re=Q}function Dr(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0;if(bt=Re,Re=Re+32|0,Ke=bt+12|0,N=bt,ot=h+4|0,Be=A[16928+(m<<2)>>2]|0,ce=(_|0)!=0,Be=ce?Be*3|0:Be,k=A[ot>>2]|0,ie=h+8|0,I=A[ie>>2]|0,ce){if(O=h+12|0,_=A[O>>2]|0,k=I+k+_|0,(k|0)==(Be|0))return ot=1,Re=bt,ot|0;Q=O}else Q=h+12|0,_=A[Q>>2]|0,k=I+k+_|0;if((k|0)<=(Be|0))return ot=0,Re=bt,ot|0;do if((_|0)>0){if(_=A[h>>2]|0,(I|0)>0){O=18608+(_*80|0)+60|0,_=h;break}_=18608+(_*80|0)+40|0,v?(ll(Ke,Be,0,0),au(ot,Ke,N),cu(N),kr(N,Ke,ot),O=_,_=h):(O=_,_=h)}else O=18608+((A[h>>2]|0)*80|0)+20|0,_=h;while(0);if(A[_>>2]=A[O>>2],k=O+16|0,(A[k>>2]|0)>0){_=0;do Us(ot),_=_+1|0;while((_|0)<(A[k>>2]|0))}return h=O+4|0,A[Ke>>2]=A[h>>2],A[Ke+4>>2]=A[h+4>>2],A[Ke+8>>2]=A[h+8>>2],m=A[16848+(m<<2)>>2]|0,Df(Ke,ce?m*3|0:m),kr(ot,Ke,ot),Qn(ot),ce?_=((A[ie>>2]|0)+(A[ot>>2]|0)+(A[Q>>2]|0)|0)==(Be|0)?1:2:_=2,ot=_,Re=bt,ot|0}function ei(h,m){h=h|0,m=m|0;var v=0;do v=Dr(h,m,0,1)|0;while((v|0)==2);return v|0}function Ua(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0;if(p=Re,Re=Re+240|0,O=p+224|0,_n=p+208|0,xn=p,Kt=p+192|0,c=p+176|0,Nt=p+160|0,cn=p+144|0,mt=p+128|0,Rt=p+112|0,Ze=p+96|0,A[O>>2]=m,A[_n>>2]=A[h>>2],A[_n+4>>2]=A[h+4>>2],A[_n+8>>2]=A[h+8>>2],A[_n+12>>2]=A[h+12>>2],Ju(_n,O,xn),A[k>>2]=0,Ct=_+v+((_|0)==6&1)|0,(Ct|0)<=(v|0)){Re=p;return}Q=A[O>>2]|0,ie=v+6|0,ce=16928+(Q<<2)|0,Be=cn+8|0,Ke=mt+8|0,ot=Rt+8|0,bt=Kt+4|0,I=0,N=v,_=-1;e:for(;;){if(O=(N|0)%6|0,h=xn+(O<<4)|0,A[Kt>>2]=A[h>>2],A[Kt+4>>2]=A[h+4>>2],A[Kt+8>>2]=A[h+8>>2],A[Kt+12>>2]=A[h+12>>2],h=I,I=Dr(Kt,Q,0,1)|0,(N|0)>(v|0)&(Xo(m)|0)!=0&&(h|0)!=1&&(A[Kt>>2]|0)!=(_|0)){switch(Do(xn+(((O+5|0)%6|0)<<4)+4|0,c),Do(xn+(O<<4)+4|0,Nt),f=+(A[ce>>2]|0),ye[cn>>3]=f*3,ye[Be>>3]=0,y=f*-1.5,ye[mt>>3]=y,ye[Ke>>3]=f*2.598076211353316,ye[Rt>>3]=y,ye[ot>>3]=f*-2.598076211353316,O=A[_n>>2]|0,A[17008+(O*80|0)+(((_|0)==(O|0)?A[Kt>>2]|0:_)<<2)>>2]|0){case 1:{h=mt,_=cn;break}case 3:{h=Rt,_=mt;break}case 2:{h=cn,_=Rt;break}default:{h=8;break e}}Zs(c,Nt,_,h,Ze),!(Ao(c,Ze)|0)&&!(Ao(Nt,Ze)|0)&&(us(Ze,A[_n>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1)}if((N|0)<(ie|0)&&(Do(bt,c),us(c,A[Kt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),N=N+1|0,(N|0)>=(Ct|0)){h=3;break}else _=A[Kt>>2]|0}if((h|0)==3){Re=p;return}else(h|0)==8&&wn(22557,22521,746,22602)}function Ju(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;Q=Re,Re=Re+160|0,_=Q+80|0,k=Q,O=_,I=20336,N=O+72|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));O=k,I=20416,N=O+72|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));N=(Xo(A[m>>2]|0)|0)==0,_=N?_:k,k=h+4|0,Fl(k),qc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,kr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,kr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,kr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,kr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],m=v+68|0,kr(k,_+48|0,m),Qn(m),A[v+80>>2]=A[h>>2],v=v+84|0,kr(k,_+60|0,v),Qn(v),Re=Q}function pu(h){h=+h;var m=0;return m=h<0?h+6.283185307179586:h,+(h>=6.283185307179586?m+-6.283185307179586:m)}function Vs(h,m){return h=h|0,m=m|0,+ct(+(+ye[h>>3]-+ye[m>>3]))<17453292519943298e-27?(m=+ct(+(+ye[h+8>>3]-+ye[m+8>>3]))<17453292519943298e-27,m|0):(m=0,m|0)}function Bp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+mr(+ +It(+v),+ +It(+(1-v)))*2)}function ec(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+mr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475)}function cl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+mr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475*1e3)}function Hs(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;return O=+ye[m>>3],_=+hn(+O),k=+ye[m+8>>3]-+ye[h+8>>3],I=_*+fn(+k),v=+ye[h>>3],+ +mr(+I,+(+fn(+O)*+hn(+v)-+hn(+k)*(_*+fn(+v))))}function qs(h,m,v,_){h=h|0,m=+m,v=+v,_=_|0;var k=0,O=0,I=0,N=0;if(v<1e-16){A[_>>2]=A[h>>2],A[_+4>>2]=A[h+4>>2],A[_+8>>2]=A[h+8>>2],A[_+12>>2]=A[h+12>>2];return}O=m<0?m+6.283185307179586:m,O=m>=6.283185307179586?O+-6.283185307179586:O;do if(O<1e-16)m=+ye[h>>3]+v,ye[_>>3]=m,k=_;else{if(k=+ct(+(O+-3.141592653589793))<1e-16,m=+ye[h>>3],k){m=m-v,ye[_>>3]=m,k=_;break}if(I=+hn(+v),v=+fn(+v),m=I*+fn(+m)+ +hn(+O)*(v*+hn(+m)),m=m>1?1:m,m=+Jn(+(m<-1?-1:m)),ye[_>>3]=m,+ct(+(m+-1.5707963267948966))<1e-16){ye[_>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ye[_>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(N=+hn(+m),O=v*+fn(+O)/N,v=+ye[h>>3],m=(I-+fn(+m)*+fn(+v))/+hn(+v)/N,I=O>1?1:O,m=m>1?1:m,m=+ye[h+8>>3]+ +mr(+(I<-1?-1:I),+(m<-1?-1:m)),m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m;return}while(0);if(+ct(+(m+-1.5707963267948966))<1e-16){ye[k>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ye[k>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(m=+ye[h+8>>3],m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m}function zl(h){return h=h|0,+ +ye[20496+(h<<3)>>3]}function zp(h){return h=h|0,+ +ye[20624+(h<<3)>>3]}function Qc(h){return h=h|0,+ +ye[20752+(h<<3)>>3]}function fl(h){return h=h|0,+ +ye[20880+(h<<3)>>3]}function tc(h){h=h|0;var m=0;return m=21008+(h<<3)|0,h=A[m>>2]|0,Xt(A[m+4>>2]|0),h|0}function _a(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0;return Ke=+ye[m>>3],ce=+ye[h>>3],Q=+fn(+((Ke-ce)*.5)),O=+ye[m+8>>3],ie=+ye[h+8>>3],I=+fn(+((O-ie)*.5)),N=+hn(+ce),Be=+hn(+Ke),I=Q*Q+I*(Be*N*I),I=+mr(+ +It(+I),+ +It(+(1-I)))*2,Q=+ye[v>>3],Ke=+fn(+((Q-Ke)*.5)),_=+ye[v+8>>3],O=+fn(+((_-O)*.5)),k=+hn(+Q),O=Ke*Ke+O*(Be*k*O),O=+mr(+ +It(+O),+ +It(+(1-O)))*2,Q=+fn(+((ce-Q)*.5)),_=+fn(+((ie-_)*.5)),_=Q*Q+_*(N*k*_),_=+mr(+ +It(+_),+ +It(+(1-_)))*2,k=(I+O+_)*.5,+(+Rr(+ +It(+(+Qt(+(k*.5))*+Qt(+((k-I)*.5))*+Qt(+((k-O)*.5))*+Qt(+((k-_)*.5)))))*4)}function Nl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)<=0)return v=0,Re=O,+v;if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)==1)return Re=O,+v;h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0));return Re=O,+v}function Wc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475)}function nc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475*1e3*1e3)}function Vr(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ti(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+_)*+hn(+Q)*N),v=v+ +mr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)<(m|0));return Re=I,+v}function Kc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ti(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+Q)*+hn(+_)*N),v=v+ +mr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475,Re=I,+ie}function Ff(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ti(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+Q)*+hn(+_)*N),v=v+ +mr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475*1e3,Re=I,+ie}function ko(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,52)|0,Ge()|0,m&15|0}function Zc(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,45)|0,Ge()|0,m&127|0}function hu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;if(!(!0&(m&-16777216|0)==134217728)||(I=dt(h|0,m|0,45)|0,Ge()|0,I=I&127,I>>>0>121))return m=0,m|0;v=dt(h|0,m|0,52)|0,Ge()|0,v=v&15;do if(v|0){for(k=1,_=0;;){if(O=dt(h|0,m|0,(15-k|0)*3|0)|0,Ge()|0,O=O&7,(O|0)!=0&(_^1))if((O|0)==1&(ci(I)|0)!=0){N=0,_=13;break}else _=1;if((O|0)==7){N=0,_=13;break}if(k>>>0<v>>>0)k=k+1|0;else{_=9;break}}if((_|0)==9){if((v|0)==15)N=1;else break;return N|0}else if((_|0)==13)return N|0}while(0);for(;;){if(N=dt(h|0,m|0,(14-v|0)*3|0)|0,Ge()|0,!((N&7|0)==7&!0)){N=0,_=13;break}if(v>>>0<14)v=v+1|0;else{N=1,_=13;break}}return(_|0)==13?N|0:0}function pl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,(_|0)>=(v|0)){if((_|0)!=(v|0))if(v>>>0<=15){if(k=Yt(v|0,0,52)|0,h=k|h,m=Ge()|0|m&-15728641,(_|0)>(v|0))do k=Yt(7,0,(14-v|0)*3|0)|0,v=v+1|0,h=k|h,m=Ge()|0|m;while((v|0)<(_|0))}else m=0,h=0}else m=0,h=0;return Xt(m|0),h|0}function Bf(h,m,v){return h=h|0,m=m|0,v=v|0,h=dt(h|0,m|0,52)|0,Ge()|0,h=h&15,(v|0)<16&(h|0)<=(v|0)?(v=ho(7,v-h|0)|0,v|0):(v=0,v|0)}function po(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(I=dt(h|0,m|0,52)|0,Ge()|0,I=I&15,!!((v|0)<16&(I|0)<=(v|0))){if((I|0)==(v|0)){v=_,A[v>>2]=h,A[v+4>>2]=m;return}if(Q=ho(7,v-I|0)|0,ie=(Q|0)/7|0,N=dt(h|0,m|0,45)|0,Ge()|0,!(ci(N&127)|0))O=0;else{e:do if(!I)k=0;else for(O=1;;){if(k=dt(h|0,m|0,(15-O|0)*3|0)|0,Ge()|0,k=k&7,k|0)break e;if(O>>>0<I>>>0)O=O+1|0;else{k=0;break}}while(0);O=(k|0)==0}if(ce=Yt(I+1|0,0,52)|0,k=Ge()|0|m&-15728641,N=(14-I|0)*3|0,m=Yt(7,0,N|0)|0,m=(ce|h)&~m,I=k&~(Ge()|0),po(m,I,v,_),k=_+(ie<<3)|0,!O){ce=Yt(1,0,N|0)|0,po(ce|m,Ge()|0|I,v,k),ce=k+(ie<<3)|0,Q=Yt(2,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(3,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(4,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(5,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),Q=Yt(6,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce+(ie<<3)|0);return}O=k+(ie<<3)|0,(Q|0)>6&&(Q=k+8|0,ce=(O>>>0>Q>>>0?O:Q)+-1+(0-k)|0,$i(k|0,0,ce+8&-8|0)|0,k=Q+(ce>>>3<<3)|0),ce=Yt(2,0,N|0)|0,po(ce|m,Ge()|0|I,v,k),ce=k+(ie<<3)|0,Q=Yt(3,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(4,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(5,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce),Q=Yt(6,0,N|0)|0,po(Q|m,Ge()|0|I,v,ce+(ie<<3)|0)}}function Ui(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=dt(h|0,m|0,45)|0,Ge()|0,!(ci(k&127)|0))return k=0,k|0;k=dt(h|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!k)v=0;else for(_=1;;){if(v=dt(h|0,m|0,(15-_|0)*3|0)|0,Ge()|0,v=v&7,v|0)break e;if(_>>>0<k>>>0)_=_+1|0;else{v=0;break}}while(0);return k=(v|0)==0&1,k|0}function Xc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,(v|0)<16&(_|0)<=(v|0)){if((_|0)!=(v|0)&&(k=Yt(v|0,0,52)|0,h=k|h,m=Ge()|0|m&-15728641,(_|0)<(v|0)))do k=Yt(7,0,(14-_|0)*3|0)|0,_=_+1|0,h=h&~k,m=m&~(Ge()|0);while((_|0)<(v|0))}else m=0,h=0;return Xt(m|0),h|0}function rc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0;if(!v)return Kt=0,Kt|0;if(k=h,_=A[k>>2]|0,k=A[k+4>>2]|0,!0&(k&15728640|0)==0){if((v|0)<=0||(Kt=m,A[Kt>>2]=_,A[Kt+4>>2]=k,(v|0)==1))return Kt=0,Kt|0;_=1;do _n=h+(_<<3)|0,xn=A[_n+4>>2]|0,Kt=m+(_<<3)|0,A[Kt>>2]=A[_n>>2],A[Kt+4>>2]=xn,_=_+1|0;while((_|0)!=(v|0));return _=0,_|0}if(_n=v<<3,xn=Pi(_n)|0,!xn)return Kt=-3,Kt|0;if(zo(xn|0,h|0,_n|0)|0,Ze=Bo(v,8)|0,!Ze)return Bn(xn),Kt=-3,Kt|0;_=v;e:for(;;){I=xn,ce=A[I>>2]|0,I=A[I+4>>2]|0,mt=dt(ce|0,I|0,52)|0,Ge()|0,mt=mt&15,Rt=mt+-1|0,cn=(_|0)>0;t:do if(cn){if(Nt=((_|0)<0)<<31>>31,bt=Yt(Rt|0,0,52)|0,Ct=Ge()|0,Rt>>>0>15)for(k=0,h=ce,v=I;;){if(!((h|0)==0&(v|0)==0)){if(O=dt(h|0,v|0,52)|0,Ge()|0,O=O&15,N=(O|0)<(Rt|0),O=(O|0)==(Rt|0),ie=N?0:O?h:0,h=N?0:O?v:0,v=Wt(ie|0,h|0,_|0,Nt|0)|0,Ge()|0,O=Ze+(v<<3)|0,N=O,Q=A[N>>2]|0,N=A[N+4>>2]|0,(Q|0)==0&(N|0)==0)v=ie;else for(bt=0,ot=v,Ke=N,v=ie;;){if((bt|0)>(_|0)){Kt=41;break e}if((Q|0)==(v|0)&(Ke&-117440513|0)==(h|0)){ie=dt(Q|0,Ke|0,56)|0,Ge()|0,ie=ie&7,Be=ie+1|0,Ct=dt(Q|0,Ke|0,45)|0,Ge()|0;n:do if(!(ci(Ct&127)|0))N=7;else{if(Q=dt(Q|0,Ke|0,52)|0,Ge()|0,Q=Q&15,!Q){N=6;break}for(N=1;;){if(Ct=Yt(7,0,(15-N|0)*3|0)|0,!((Ct&v|0)==0&((Ge()|0)&h|0)==0)){N=7;break n}if(N>>>0<Q>>>0)N=N+1|0;else{N=6;break}}}while(0);if((ie+2|0)>>>0>N>>>0){Kt=51;break e}Ct=Yt(Be|0,0,56)|0,h=Ge()|0|h&-117440513,N=O,A[N>>2]=0,A[N+4>>2]=0,N=ot,v=Ct|v}else N=(ot+1|0)%(_|0)|0;if(O=Ze+(N<<3)|0,Ke=O,Q=A[Ke>>2]|0,Ke=A[Ke+4>>2]|0,(Q|0)==0&(Ke|0)==0)break;bt=bt+1|0,ot=N}Ct=O,A[Ct>>2]=v,A[Ct+4>>2]=h}if(k=k+1|0,(k|0)>=(_|0))break t;v=xn+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}for(k=0,h=ce,v=I;;){if(!((h|0)==0&(v|0)==0)){if(N=dt(h|0,v|0,52)|0,Ge()|0,N=N&15,(N|0)>=(Rt|0)){if((N|0)!=(Rt|0)&&(h=h|bt,v=v&-15728641|Ct,N>>>0>=mt>>>0)){O=Rt;do ot=Yt(7,0,(14-O|0)*3|0)|0,O=O+1|0,h=ot|h,v=Ge()|0|v;while(O>>>0<N>>>0)}}else h=0,v=0;if(N=Wt(h|0,v|0,_|0,Nt|0)|0,Ge()|0,O=Ze+(N<<3)|0,Q=O,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,!((ie|0)==0&(Q|0)==0))for(ot=0;;){if((ot|0)>(_|0)){Kt=41;break e}if((ie|0)==(h|0)&(Q&-117440513|0)==(v|0)){Be=dt(ie|0,Q|0,56)|0,Ge()|0,Be=Be&7,Ke=Be+1|0,c=dt(ie|0,Q|0,45)|0,Ge()|0;n:do if(!(ci(c&127)|0))Q=7;else{if(ie=dt(ie|0,Q|0,52)|0,Ge()|0,ie=ie&15,!ie){Q=6;break}for(Q=1;;){if(c=Yt(7,0,(15-Q|0)*3|0)|0,!((c&h|0)==0&((Ge()|0)&v|0)==0)){Q=7;break n}if(Q>>>0<ie>>>0)Q=Q+1|0;else{Q=6;break}}}while(0);if((Be+2|0)>>>0>Q>>>0){Kt=51;break e}c=Yt(Ke|0,0,56)|0,v=Ge()|0|v&-117440513,Ke=O,A[Ke>>2]=0,A[Ke+4>>2]=0,h=c|h}else N=(N+1|0)%(_|0)|0;if(O=Ze+(N<<3)|0,Q=O,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0)break;ot=ot+1|0}c=O,A[c>>2]=h,A[c+4>>2]=v}if(k=k+1|0,(k|0)>=(_|0))break t;v=xn+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}}while(0);if((_+5|0)>>>0<11){Kt=99;break}if(Ct=Bo((_|0)/6|0,8)|0,!Ct){Kt=58;break}t:do if(cn){ot=0,Ke=0;do{if(N=Ze+(ot<<3)|0,h=N,k=A[h>>2]|0,h=A[h+4>>2]|0,!((k|0)==0&(h|0)==0)){Q=dt(k|0,h|0,56)|0,Ge()|0,Q=Q&7,v=Q+1|0,ie=h&-117440513,c=dt(k|0,h|0,45)|0,Ge()|0;n:do if(ci(c&127)|0){if(Be=dt(k|0,h|0,52)|0,Ge()|0,Be=Be&15,Be|0)for(O=1;;){if(c=Yt(7,0,(15-O|0)*3|0)|0,!((k&c|0)==0&(ie&(Ge()|0)|0)==0))break n;if(O>>>0<Be>>>0)O=O+1|0;else break}h=Yt(v|0,0,56)|0,k=h|k,h=Ge()|0|ie,v=N,A[v>>2]=k,A[v+4>>2]=h,v=Q+2|0}while(0);(v|0)==7&&(c=Ct+(Ke<<3)|0,A[c>>2]=k,A[c+4>>2]=h&-117440513,Ke=Ke+1|0)}ot=ot+1|0}while((ot|0)!=(_|0));if(cn){if(bt=((_|0)<0)<<31>>31,Be=Yt(Rt|0,0,52)|0,ot=Ge()|0,Rt>>>0>15)for(h=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){for(Q=dt(ce|0,I|0,52)|0,Ge()|0,Q=Q&15,O=(Q|0)<(Rt|0),Q=(Q|0)==(Rt|0),N=O?0:Q?ce:0,Q=O?0:Q?I:0,O=Wt(N|0,Q|0,_|0,bt|0)|0,Ge()|0,v=0;;){if((v|0)>(_|0)){Kt=98;break e}if(c=Ze+(O<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(N|0)){Kt=70;break}if(O=(O+1|0)%(_|0)|0,c=Ze+(O<<3)|0,(A[c>>2]|0)==(N|0)&&(A[c+4>>2]|0)==(Q|0))break;v=v+1|0}if((Kt|0)==70&&(Kt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=ce,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ke;break t}I=xn+(h<<3)|0,ce=A[I>>2]|0,I=A[I+4>>2]|0}for(h=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){if(Q=dt(ce|0,I|0,52)|0,Ge()|0,Q=Q&15,(Q|0)>=(Rt|0))if((Q|0)!=(Rt|0))if(v=ce|Be,O=I&-15728641|ot,Q>>>0<mt>>>0)Q=O;else{N=Rt;do c=Yt(7,0,(14-N|0)*3|0)|0,N=N+1|0,v=c|v,O=Ge()|0|O;while(N>>>0<Q>>>0);Q=O}else v=ce,Q=I;else v=0,Q=0;for(N=Wt(v|0,Q|0,_|0,bt|0)|0,Ge()|0,O=0;;){if((O|0)>(_|0)){Kt=98;break e}if(c=Ze+(N<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(v|0)){Kt=93;break}if(N=(N+1|0)%(_|0)|0,c=Ze+(N<<3)|0,(A[c>>2]|0)==(v|0)&&(A[c+4>>2]|0)==(Q|0))break;O=O+1|0}if((Kt|0)==93&&(Kt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=ce,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ke;break t}I=xn+(h<<3)|0,ce=A[I>>2]|0,I=A[I+4>>2]|0}}else k=0,_=Ke}else k=0,_=0;while(0);if($i(Ze|0,0,_n|0)|0,zo(xn|0,Ct|0,_<<3|0)|0,Bn(Ct),_)m=m+(k<<3)|0;else break}return(Kt|0)==41?(Bn(xn),Bn(Ze),c=-1,c|0):(Kt|0)==51?(Bn(xn),Bn(Ze),c=-2,c|0):(Kt|0)==58?(Bn(xn),Bn(Ze),c=-3,c|0):(Kt|0)==98?(Bn(Ct),Bn(xn),Bn(Ze),c=-1,c|0):((Kt|0)==99&&zo(m|0,xn|0,_<<3|0)|0,Bn(xn),Bn(Ze),c=0,c|0)}function Au(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0;if((m|0)<=0)return k=0,k|0;if((k|0)>=16){for(O=0;;){if(ce=h+(O<<3)|0,!((A[ce>>2]|0)==0&(A[ce+4>>2]|0)==0)){O=14;break}if(O=O+1|0,(O|0)>=(m|0)){I=0,O=16;break}}if((O|0)==14)return((_|0)>0?-2:-1)|0;if((O|0)==16)return I|0}O=0,ce=0;e:for(;;){ie=h+(ce<<3)|0,N=ie,I=A[N>>2]|0,N=A[N+4>>2]|0;do if(!((I|0)==0&(N|0)==0)){if((O|0)>=(_|0)){I=-1,O=16;break e}if(Q=dt(I|0,N|0,52)|0,Ge()|0,Q=Q&15,(Q|0)>(k|0)){I=-2,O=16;break e}if((Q|0)==(k|0)){ie=v+(O<<3)|0,A[ie>>2]=I,A[ie+4>>2]=N,O=O+1|0;break}if(I=(ho(7,k-Q|0)|0)+O|0,(I|0)>(_|0)){I=-1,O=16;break e}po(A[ie>>2]|0,A[ie+4>>2]|0,k,v+(O<<3)|0),O=I}while(0);if(ce=ce+1|0,(ce|0)>=(m|0)){I=0,O=16;break}}return(O|0)==16?I|0:0}function hl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if((m|0)<=0)return v=0,v|0;if((v|0)>=16){for(_=0;;){if(I=h+(_<<3)|0,!((A[I>>2]|0)==0&(A[I+4>>2]|0)==0)){_=-1,k=13;break}if(_=_+1|0,(_|0)>=(m|0)){_=0,k=13;break}}if((k|0)==13)return _|0}_=0,I=0;e:for(;;){k=h+(I<<3)|0,O=A[k>>2]|0,k=A[k+4>>2]|0;do if(!((O|0)==0&(k|0)==0)){if(k=dt(O|0,k|0,52)|0,Ge()|0,k=k&15,(k|0)>(v|0)){_=-1,k=13;break e}if((k|0)==(v|0)){_=_+1|0;break}else{_=(ho(7,v-k|0)|0)+_|0;break}}while(0);if(I=I+1|0,(I|0)>=(m|0)){k=13;break}}return(k|0)==13?_|0:0}function ic(h,m){return h=h|0,m=m|0,m=dt(h|0,m|0,52)|0,Ge()|0,m&1|0}function Si(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=dt(h|0,m|0,52)|0,Ge()|0,k=k&15,!k)return k=0,k|0;for(_=1;;){if(v=dt(h|0,m|0,(15-_|0)*3|0)|0,Ge()|0,v=v&7,v|0){_=5;break}if(_>>>0<k>>>0)_=_+1|0;else{v=0,_=5;break}}return(_|0)==5?v|0:0}function du(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Q=dt(h|0,m|0,52)|0,Ge()|0,Q=Q&15,!Q)return N=m,Q=h,Xt(N|0),Q|0;for(N=1,v=0;;){O=(15-N|0)*3|0,_=Yt(7,0,O|0)|0,k=Ge()|0,I=dt(h|0,m|0,O|0)|0,Ge()|0,O=Yt(js(I&7)|0,0,O|0)|0,I=Ge()|0,h=O|h&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(h|0,m|0,(15-v|0)*3|0)|0,Ge()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(I=(15-v|0)*3|0,k=dt(h|0,m|0,I|0)|0,Ge()|0,O=Yt(7,0,I|0)|0,m=m&~(Ge()|0),I=Yt(js(k&7)|0,0,I|0)|0,h=h&~O|I,m=m|(Ge()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(N>>>0<Q>>>0)N=N+1|0;else break}return Xt(m|0),h|0}function ks(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,!_)return v=m,_=h,Xt(v|0),_|0;for(v=1;O=(15-v|0)*3|0,I=dt(h|0,m|0,O|0)|0,Ge()|0,k=Yt(7,0,O|0)|0,m=m&~(Ge()|0),O=Yt(js(I&7)|0,0,O|0)|0,h=O|h&~k,m=Ge()|0|m,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),h|0}function Ts(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Q=dt(h|0,m|0,52)|0,Ge()|0,Q=Q&15,!Q)return N=m,Q=h,Xt(N|0),Q|0;for(N=1,v=0;;){O=(15-N|0)*3|0,_=Yt(7,0,O|0)|0,k=Ge()|0,I=dt(h|0,m|0,O|0)|0,Ge()|0,O=Yt(Ti(I&7)|0,0,O|0)|0,I=Ge()|0,h=O|h&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(h|0,m|0,(15-v|0)*3|0)|0,Ge()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(k=(15-v|0)*3|0,O=Yt(7,0,k|0)|0,I=m&~(Ge()|0),m=dt(h|0,m|0,k|0)|0,Ge()|0,m=Yt(Ti(m&7)|0,0,k|0)|0,h=h&~O|m,m=I|(Ge()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(N>>>0<Q>>>0)N=N+1|0;else break}return Xt(m|0),h|0}function ja(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,!_)return v=m,_=h,Xt(v|0),_|0;for(v=1;I=(15-v|0)*3|0,O=Yt(7,0,I|0)|0,k=m&~(Ge()|0),m=dt(h|0,m|0,I|0)|0,Ge()|0,m=Yt(Ti(m&7)|0,0,I|0)|0,h=m|h&~O,m=Ge()|0|k,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),h|0}function oc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(Q=Re,Re=Re+64|0,N=Q+40|0,_=Q+24|0,k=Q+12|0,O=Q,Yt(m|0,0,52)|0,v=Ge()|0|134225919,!m)return(A[h+4>>2]|0)>2||(A[h+8>>2]|0)>2||(A[h+12>>2]|0)>2?(I=0,N=0,Xt(I|0),Re=Q,N|0):(Yt(Lf(h)|0,0,45)|0,I=Ge()|0|v,N=-1,Xt(I|0),Re=Q,N|0);if(A[N>>2]=A[h>>2],A[N+4>>2]=A[h+4>>2],A[N+8>>2]=A[h+8>>2],A[N+12>>2]=A[h+12>>2],I=N+4|0,(m|0)>0)for(h=-1;A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],m&1?(Fp(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],lu(k)):(su(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],yi(k)),au(_,k,O),Qn(O),ce=(15-m|0)*3|0,ie=Yt(7,0,ce|0)|0,v=v&~(Ge()|0),ce=Yt(Hc(O)|0,0,ce|0)|0,h=ce|h&~ie,v=Ge()|0|v,(m|0)>1;)m=m+-1|0;else h=-1;e:do if((A[I>>2]|0)<=2&&(A[N+8>>2]|0)<=2&&(A[N+12>>2]|0)<=2){if(_=Lf(N)|0,m=Yt(_|0,0,45)|0,m=m|h,h=Ge()|0|v&-1040385,O=Xh(N)|0,!(ci(_)|0)){if((O|0)<=0)break;for(k=0;;){if(_=dt(m|0,h|0,52)|0,Ge()|0,_=_&15,_)for(v=1;ce=(15-v|0)*3|0,N=dt(m|0,h|0,ce|0)|0,Ge()|0,ie=Yt(7,0,ce|0)|0,h=h&~(Ge()|0),ce=Yt(js(N&7)|0,0,ce|0)|0,m=m&~ie|ce,h=h|(Ge()|0),v>>>0<_>>>0;)v=v+1|0;if(k=k+1|0,(k|0)==(O|0))break e}}k=dt(m|0,h|0,52)|0,Ge()|0,k=k&15;t:do if(k){v=1;n:for(;;){switch(ce=dt(m|0,h|0,(15-v|0)*3|0)|0,Ge()|0,ce&7){case 1:break n;case 0:break;default:break t}if(v>>>0<k>>>0)v=v+1|0;else break t}if(Xu(_,A[N>>2]|0)|0)for(v=1;N=(15-v|0)*3|0,ie=Yt(7,0,N|0)|0,ce=h&~(Ge()|0),h=dt(m|0,h|0,N|0)|0,Ge()|0,h=Yt(Ti(h&7)|0,0,N|0)|0,m=m&~ie|h,h=ce|(Ge()|0),v>>>0<k>>>0;)v=v+1|0;else for(v=1;ce=(15-v|0)*3|0,N=dt(m|0,h|0,ce|0)|0,Ge()|0,ie=Yt(7,0,ce|0)|0,h=h&~(Ge()|0),ce=Yt(js(N&7)|0,0,ce|0)|0,m=m&~ie|ce,h=h|(Ge()|0),v>>>0<k>>>0;)v=v+1|0}while(0);if((O|0)>0){v=0;do m=du(m,h)|0,h=Ge()|0,v=v+1|0;while((v|0)!=(O|0))}}else m=0,h=0;while(0);return ie=h,ce=m,Xt(ie|0),Re=Q,ce|0}function Xo(h){return h=h|0,(h|0)%2|0|0}function Np(h,m){h=h|0,m=m|0;var v=0,_=0;return _=Re,Re=Re+16|0,v=_,m>>>0<=15&&(A[h+4>>2]&2146435072|0)!=2146435072&&(A[h+8+4>>2]&2146435072|0)!=2146435072?(Bl(h,m,v),m=oc(v,m)|0,h=Ge()|0):(h=0,m=0),Xt(h|0),Re=_,m|0}function cs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(k=v+4|0,O=dt(h|0,m|0,52)|0,Ge()|0,O=O&15,I=dt(h|0,m|0,45)|0,Ge()|0,_=(O|0)==0,ci(I&127)|0){if(_)return I=1,I|0;_=1}else{if(_)return I=0,I|0;!(A[k>>2]|0)&&!(A[v+8>>2]|0)?_=(A[v+12>>2]|0)!=0&1:_=1}for(v=1;v&1?lu(k):yi(k),I=dt(h|0,m|0,(15-v|0)*3|0)|0,Ge()|0,uu(k,I&7),v>>>0<O>>>0;)v=v+1|0;return _|0}function fa(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;ce=Re,Re=Re+16|0,Q=ce,ie=dt(h|0,m|0,45)|0,Ge()|0,ie=ie&127;e:do if(ci(ie)|0&&(O=dt(h|0,m|0,52)|0,Ge()|0,O=O&15,(O|0)!=0)){_=1;t:for(;;){switch(N=dt(h|0,m|0,(15-_|0)*3|0)|0,Ge()|0,N&7){case 5:break t;case 0:break;default:{_=m;break e}}if(_>>>0<O>>>0)_=_+1|0;else{_=m;break e}}for(k=1,_=m;m=(15-k|0)*3|0,I=Yt(7,0,m|0)|0,N=_&~(Ge()|0),_=dt(h|0,_|0,m|0)|0,Ge()|0,_=Yt(Ti(_&7)|0,0,m|0)|0,h=h&~I|_,_=N|(Ge()|0),k>>>0<O>>>0;)k=k+1|0}else _=m;while(0);if(N=7728+(ie*28|0)|0,A[v>>2]=A[N>>2],A[v+4>>2]=A[N+4>>2],A[v+8>>2]=A[N+8>>2],A[v+12>>2]=A[N+12>>2],!(cs(h,_,v)|0)){Re=ce;return}if(I=v+4|0,A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],O=dt(h|0,_|0,52)|0,Ge()|0,N=O&15,O&1?(yi(I),O=N+1|0):O=N,!(ci(ie)|0))_=0;else{e:do if(!N)_=0;else for(m=1;;){if(k=dt(h|0,_|0,(15-m|0)*3|0)|0,Ge()|0,k=k&7,k|0){_=k;break e}if(m>>>0<N>>>0)m=m+1|0;else{_=0;break}}while(0);_=(_|0)==4&1}if(!(Dr(v,O,_,0)|0))(O|0)!=(N|0)&&(A[I>>2]=A[Q>>2],A[I+4>>2]=A[Q+4>>2],A[I+8>>2]=A[Q+8>>2]);else{if(ci(ie)|0)do;while(Dr(v,O,0,0)|0);(O|0)!=(N|0)&&su(I)}Re=ce}function fs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,fa(h,m,k),m=dt(h|0,m|0,52)|0,Ge()|0,ul(k,m&15,v),Re=_}function Gs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;I=Re,Re=Re+16|0,O=I,fa(h,m,O),_=dt(h|0,m|0,45)|0,Ge()|0,_=(ci(_&127)|0)==0,k=dt(h|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!_){if(k|0)for(_=1;;){if(N=Yt(7,0,(15-_|0)*3|0)|0,!((N&h|0)==0&((Ge()|0)&m|0)==0))break e;if(_>>>0<k>>>0)_=_+1|0;else break}Zo(O,k,0,5,v),Re=I;return}while(0);Ua(O,k,0,6,v),Re=I}function Up(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(_=dt(h|0,m|0,45)|0,Ge()|0,!(ci(_&127)|0))return _=2,_|0;if(_=dt(h|0,m|0,52)|0,Ge()|0,_=_&15,!_)return _=5,_|0;for(v=1;;){if(k=Yt(7,0,(15-v|0)*3|0)|0,!((k&h|0)==0&((Ge()|0)&m|0)==0)){v=2,h=6;break}if(v>>>0<_>>>0)v=v+1|0;else{v=5,h=6;break}}return(h|0)==6?v|0:0}function zf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0;Be=Re,Re=Re+128|0,ie=Be+112|0,O=Be+96|0,ce=Be,k=dt(h|0,m|0,52)|0,Ge()|0,N=k&15,A[ie>>2]=N,I=dt(h|0,m|0,45)|0,Ge()|0,I=I&127;e:do if(ci(I)|0){if(N|0)for(_=1;;){if(Q=Yt(7,0,(15-_|0)*3|0)|0,!((Q&h|0)==0&((Ge()|0)&m|0)==0)){k=0;break e}if(_>>>0<N>>>0)_=_+1|0;else break}if(k&1)k=1;else{Q=Yt(N+1|0,0,52)|0,ce=Ge()|0|m&-15728641,ie=Yt(7,0,(14-N|0)*3|0)|0,zf((Q|h)&~ie,ce&~(Ge()|0),v),Re=Be;return}}else k=0;while(0);fa(h,m,O),k?(fu(O,ie,ce),Q=5):(Ju(O,ie,ce),Q=6);e:do if(ci(I)|0)if(!N)_=20;else for(_=1;;){if(I=Yt(7,0,(15-_|0)*3|0)|0,!((I&h|0)==0&((Ge()|0)&m|0)==0)){_=8;break e}if(_>>>0<N>>>0)_=_+1|0;else{_=20;break}}else _=8;while(0);if($i(v|0,-1,_|0)|0,k){k=0;do{for(O=ce+(k<<4)|0,ei(O,A[ie>>2]|0)|0,O=A[O>>2]|0,_=0;I=v+(_<<2)|0,N=A[I>>2]|0,!((N|0)==-1|(N|0)==(O|0));)_=_+1|0;A[I>>2]=O,k=k+1|0}while((k|0)!=(Q|0))}else{k=0;do{for(O=ce+(k<<4)|0,Dr(O,A[ie>>2]|0,0,1)|0,O=A[O>>2]|0,_=0;I=v+(_<<2)|0,N=A[I>>2]|0,!((N|0)==-1|(N|0)==(O|0));)_=_+1|0;A[I>>2]=O,k=k+1|0}while((k|0)!=(Q|0))}Re=Be}function Yc(){return 12}function mu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Yt(h|0,0,52)|0,N=Ge()|0|134225919,(h|0)<1){_=0,v=0;do ci(_)|0&&(Yt(_|0,0,45)|0,I=N|(Ge()|0),h=m+(v<<3)|0,A[h>>2]=-1,A[h+4>>2]=I,v=v+1|0),_=_+1|0;while((_|0)!=122);return}I=0,v=0;do{if(ci(I)|0){for(Yt(I|0,0,45)|0,_=1,k=-1,O=N|(Ge()|0);Q=Yt(7,0,(15-_|0)*3|0)|0,k=k&~Q,O=O&~(Ge()|0),(_|0)!=(h|0);)_=_+1|0;Q=m+(v<<3)|0,A[Q>>2]=k,A[Q+4>>2]=O,v=v+1|0}I=I+1|0}while((I|0)!=122)}function Qs(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0;if(N=Re,Re=Re+64|0,I=N,(h|0)==(v|0)&(m|0)==(_|0)|(!1|(m&2013265920|0)!=134217728|(!1|(_&2013265920|0)!=134217728))||(k=dt(h|0,m|0,52)|0,Ge()|0,k=k&15,O=dt(v|0,_|0,52)|0,Ge()|0,(k|0)!=(O&15|0)))return I=0,Re=N,I|0;if(O=k+-1|0,k>>>0>1&&(ie=pl(h,m,O)|0,Q=Ge()|0,O=pl(v,_,O)|0,(ie|0)==(O|0)&(Q|0)==(Ge()|0))&&(O=(k^15)*3|0,k=dt(h|0,m|0,O|0)|0,Ge()|0,k=k&7,O=dt(v|0,_|0,O|0)|0,Ge()|0,O=O&7,(k|0)==0|(O|0)==0||(A[21136+(k<<2)>>2]|0)==(O|0)||(A[21168+(k<<2)>>2]|0)==(O|0)))return ie=1,Re=N,ie|0;k=I,O=k+56|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(O|0));return Wo(h,m,1,I),ie=I,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0))&&(ie=I+8|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+16|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+24|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+32|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+40|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))?(k=I+48|0,k=((A[k>>2]|0)==(v|0)?(A[k+4>>2]|0)==(_|0):0)&1):k=1,ie=k,Re=N,ie|0}function rt(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(ie=Re,Re=Re+16|0,I=ie,!(Qs(h,m,v,_)|0))return N=0,Q=0,Xt(N|0),Re=ie,Q|0;for(N=m&-2130706433,k=(Ui(h,m)|0)==0,k=k?1:2;A[I>>2]=0,ce=ki(h,m,k,I)|0,O=k+1|0,!((ce|0)==(v|0)&(Ge()|0)==(_|0));)if(O>>>0<7)k=O;else{k=0,h=0,Q=6;break}return(Q|0)==6?(Xt(k|0),Re=ie,h|0):(ce=Yt(k|0,0,56)|0,Q=N|(Ge()|0)|268435456,ce=h|ce,Xt(Q|0),Re=ie,ce|0)}function Pt(h,m){h=h|0,m=m|0;var v=0;return v=!0&(m&2013265920|0)==268435456,Xt((v?m&-2130706433|134217728:0)|0),(v?h:0)|0}function _t(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return _=Re,Re=Re+16|0,v=_,!0&(m&2013265920|0)==268435456?(k=dt(h|0,m|0,56)|0,Ge()|0,A[v>>2]=0,v=ki(h,m&-2130706433|134217728,k&7,v)|0,m=Ge()|0,Xt(m|0),Re=_,v|0):(m=0,v=0,Xt(m|0),Re=_,v|0)}function qt(h,m){h=h|0,m=m|0;var v=0;if(!(!0&(m&2013265920|0)==268435456))return v=0,v|0;switch(v=dt(h|0,m|0,56)|0,Ge()|0,v&7){case 0:case 7:return v=0,v|0}return v=m&-2130706433|134217728,!0&(m&117440512|0)==16777216&(Ui(h,v)|0)!=0?(v=0,v|0):(v=hu(h,v)|0,v|0)}function er(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;O=Re,Re=Re+16|0,_=O,I=!0&(m&2013265920|0)==268435456,k=m&-2130706433|134217728,N=v,A[N>>2]=I?h:0,A[N+4>>2]=I?k:0,I?(m=dt(h|0,m|0,56)|0,Ge()|0,A[_>>2]=0,h=ki(h,k,m&7,_)|0,m=Ge()|0):(h=0,m=0),N=v+8|0,A[N>>2]=h,A[N+4>>2]=m,Re=O}function wr(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;k=(Ui(h,m)|0)==0,m=m&-2130706433,_=v,A[_>>2]=k?h:0,A[_+4>>2]=k?m|285212672:0,_=v+8|0,A[_>>2]=h,A[_+4>>2]=m|301989888,_=v+16|0,A[_>>2]=h,A[_+4>>2]=m|318767104,_=v+24|0,A[_>>2]=h,A[_+4>>2]=m|335544320,_=v+32|0,A[_>>2]=h,A[_+4>>2]=m|352321536,v=v+40|0,A[v>>2]=h,A[v+4>>2]=m|369098752}function ti(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;if(I=Re,Re=Re+16|0,O=I,_=dt(h|0,m|0,56)|0,Ge()|0,N=!0&(m&2013265920|0)==268435456,k=N?h:0,h=N?m&-2130706433|134217728:0,m=Uf(k,h,_&7)|0,(m|0)==-1){A[v>>2]=0,Re=I;return}fa(k,h,O),_=dt(k|0,h|0,52)|0,Ge()|0,_=_&15,Ui(k,h)|0?Zo(O,_,m,2,v):Ua(O,_,m,2,v),Re=I}function Ln(h){h=h|0;var m=0,v=0,_=0;return m=Bo(1,12)|0,m||wn(22691,22646,49,22704),v=h+4|0,_=A[v>>2]|0,_|0?(_=_+8|0,A[_>>2]=m,A[v>>2]=m,m|0):(A[h>>2]|0&&wn(22721,22646,61,22744),_=h,A[_>>2]=m,A[v>>2]=m,m|0)}function ur(h,m){h=h|0,m=m|0;var v=0,_=0;return _=Pi(24)|0,_||wn(22758,22646,78,22772),A[_>>2]=A[m>>2],A[_+4>>2]=A[m+4>>2],A[_+8>>2]=A[m+8>>2],A[_+12>>2]=A[m+12>>2],A[_+16>>2]=0,m=h+4|0,v=A[m>>2]|0,v|0?(A[v+16>>2]=_,A[m>>2]=_,_|0):(A[h>>2]|0&&wn(22787,22646,82,22772),A[h>>2]=_,A[m>>2]=_,_|0)}function Ul(h){h=h|0;var m=0,v=0,_=0,k=0;if(h)for(_=1;;){if(m=A[h>>2]|0,m|0)do{if(v=A[m>>2]|0,v|0)do k=v,v=A[v+16>>2]|0,Bn(k);while(v|0);k=m,m=A[m+8>>2]|0,Bn(k)}while(m|0);if(m=h,h=A[h+8>>2]|0,_||Bn(m),h)_=0;else break}}function ji(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,C=0,L=0,D=0,j=0,G=0;if(k=h+8|0,A[k>>2]|0)return G=1,G|0;if(_=A[h>>2]|0,!_)return G=0,G|0;m=_,v=0;do v=v+1|0,m=A[m+8>>2]|0;while(m|0);if(v>>>0<2)return G=0,G|0;D=Pi(v<<2)|0,D||wn(22807,22646,317,22826),L=Pi(v<<5)|0,L||wn(22848,22646,321,22826),A[h>>2]=0,xn=h+4|0,A[xn>>2]=0,A[k>>2]=0,v=0,C=0,_n=0,Be=0;e:for(;;){if(ce=A[_>>2]|0,ce){O=0,I=ce;do{if(Q=+ye[I+8>>3],m=I,I=A[I+16>>2]|0,ie=(I|0)==0,k=ie?ce:I,N=+ye[k+8>>3],+ct(+(Q-N))>3.141592653589793){G=14;break}O=O+(N-Q)*(+ye[m>>3]+ +ye[k>>3])}while(!ie);if((G|0)==14){G=0,O=0,m=ce;do Ze=+ye[m+8>>3],y=m+16|0,f=A[y>>2]|0,f=f|0?f:ce,Rt=+ye[f+8>>3],O=O+(+ye[m>>3]+ +ye[f>>3])*((Rt<0?Rt+6.283185307179586:Rt)-(Ze<0?Ze+6.283185307179586:Ze)),m=A[(m|0?y:_)>>2]|0;while(m|0)}O>0?(A[D+(C<<2)>>2]=_,C=C+1|0,k=_n,m=Be):G=19}else G=19;if((G|0)==19){G=0;do if(v){if(m=v+8|0,A[m>>2]|0){G=21;break e}if(v=Bo(1,12)|0,!v){G=23;break e}A[m>>2]=v,k=v+4|0,I=v,m=Be}else if(Be){k=xn,I=Be+8|0,m=_,v=h;break}else if(A[h>>2]|0){G=27;break e}else{k=xn,I=h,m=_,v=h;break}while(0);if(A[I>>2]=_,A[k>>2]=_,I=L+(_n<<5)|0,ie=A[_>>2]|0,ie){for(ce=L+(_n<<5)+8|0,ye[ce>>3]=17976931348623157e292,Be=L+(_n<<5)+24|0,ye[Be>>3]=17976931348623157e292,ye[I>>3]=-17976931348623157e292,Ke=L+(_n<<5)+16|0,ye[Ke>>3]=-17976931348623157e292,cn=17976931348623157e292,mt=-17976931348623157e292,k=0,ot=ie,Q=17976931348623157e292,Ct=17976931348623157e292,Nt=-17976931348623157e292,N=-17976931348623157e292;O=+ye[ot>>3],Ze=+ye[ot+8>>3],ot=A[ot+16>>2]|0,bt=(ot|0)==0,Rt=+ye[(bt?ie:ot)+8>>3],O<Q&&(ye[ce>>3]=O,Q=O),Ze<Ct&&(ye[Be>>3]=Ze,Ct=Ze),O>Nt?ye[I>>3]=O:O=Nt,Ze>N&&(ye[Ke>>3]=Ze,N=Ze),cn=Ze>0&Ze<cn?Ze:cn,mt=Ze<0&Ze>mt?Ze:mt,k=k|+ct(+(Ze-Rt))>3.141592653589793,!bt;)Nt=O;k&&(ye[Ke>>3]=mt,ye[Be>>3]=cn)}else A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,A[I+12>>2]=0,A[I+16>>2]=0,A[I+20>>2]=0,A[I+24>>2]=0,A[I+28>>2]=0;k=_n+1|0}if(y=_+8|0,_=A[y>>2]|0,A[y>>2]=0,_)_n=k,Be=m;else{G=45;break}}if((G|0)==21)wn(22624,22646,35,22658);else if((G|0)==23)wn(22678,22646,37,22658);else if((G|0)==27)wn(22721,22646,61,22744);else if((G|0)==45){e:do if((C|0)>0){for(y=(k|0)==0,p=k<<2,f=(h|0)==0,c=0,m=0;;){if(Kt=A[D+(c<<2)>>2]|0,y)G=73;else{if(_n=Pi(p)|0,!_n){G=50;break}if(xn=Pi(p)|0,!xn){G=52;break}t:do if(f)v=0;else{for(k=0,v=0,I=h;_=L+(k<<5)|0,gu(A[I>>2]|0,_,A[Kt>>2]|0)|0?(A[_n+(v<<2)>>2]=I,A[xn+(v<<2)>>2]=_,bt=v+1|0):bt=v,I=A[I+8>>2]|0,I;)k=k+1|0,v=bt;if((bt|0)>0)if(_=A[_n>>2]|0,(bt|0)==1)v=_;else for(Ke=0,ot=-1,v=_,Be=_;;){for(ie=A[Be>>2]|0,_=0,I=0;k=A[A[_n+(I<<2)>>2]>>2]|0,(k|0)==(ie|0)?ce=_:ce=_+((gu(k,A[xn+(I<<2)>>2]|0,A[ie>>2]|0)|0)&1)|0,I=I+1|0,(I|0)!=(bt|0);)_=ce;if(k=(ce|0)>(ot|0),v=k?Be:v,_=Ke+1|0,(_|0)==(bt|0))break t;Ke=_,ot=k?ce:ot,Be=A[_n+(_<<2)>>2]|0}else v=0}while(0);if(Bn(_n),Bn(xn),v){if(k=v+4|0,_=A[k>>2]|0,_)v=_+8|0;else if(A[v>>2]|0){G=70;break}A[v>>2]=Kt,A[k>>2]=Kt}else G=73}if((G|0)==73){if(G=0,m=A[Kt>>2]|0,m|0)do xn=m,m=A[m+16>>2]|0,Bn(xn);while(m|0);Bn(Kt),m=2}if(c=c+1|0,(c|0)>=(C|0)){j=m;break e}}(G|0)==50?wn(22863,22646,249,22882):(G|0)==52?wn(22901,22646,252,22882):(G|0)==70&&wn(22721,22646,61,22744)}else j=0;while(0);return Bn(D),Bn(L),G=j,G|0}return 0}function gu(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(!(sl(m,v)|0)||(m=Ko(m)|0,ie=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,h=A[h>>2]|0,!h))return h=0,h|0;if(m){m=0,v=h;e:for(;;){for(;I=+ye[v>>3],Q=+ye[v+8>>3],v=v+16|0,ce=A[v>>2]|0,ce=ce|0?ce:h,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(ie<O|ie>N);)if(v=A[v>>2]|0,!v){v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(ie-O)/(N-O)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}else{m=0,v=h;e:for(;;){for(;I=+ye[v>>3],Q=+ye[v+8>>3],v=v+16|0,ce=A[v>>2]|0,ce=ce|0?ce:h,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(ie<O|ie>N);)if(v=A[v>>2]|0,!v){v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(ie-O)/(N-O)*(I-k)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}return 0}function xa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0;if(mt=Re,Re=Re+32|0,cn=mt+16|0,Nt=mt,O=dt(h|0,m|0,52)|0,Ge()|0,O=O&15,ot=dt(v|0,_|0,52)|0,Ge()|0,(O|0)!=(ot&15|0))return cn=1,Re=mt,cn|0;if(ie=dt(h|0,m|0,45)|0,Ge()|0,ie=ie&127,ce=dt(v|0,_|0,45)|0,Ge()|0,ce=ce&127,ot=(ie|0)!=(ce|0),ot){if(N=jc(ie,ce)|0,(N|0)==7)return cn=2,Re=mt,cn|0;Q=jc(ce,ie)|0,(Q|0)==7?wn(22925,22949,151,22959):(bt=N,I=Q)}else bt=0,I=0;Be=ci(ie)|0,Ke=ci(ce)|0,A[cn>>2]=0,A[cn+4>>2]=0,A[cn+8>>2]=0,A[cn+12>>2]=0;do if(bt){if(ce=A[4304+(ie*28|0)+(bt<<2)>>2]|0,N=(ce|0)>0,Ke)if(N){ie=0,Q=v,N=_;do Q=Ts(Q,N)|0,N=Ge()|0,I=Ti(I)|0,(I|0)==1&&(I=Ti(1)|0),ie=ie+1|0;while((ie|0)!=(ce|0));ce=I,ie=Q,Q=N}else ce=I,ie=v,Q=_;else if(N){ie=0,Q=v,N=_;do Q=ja(Q,N)|0,N=Ge()|0,I=Ti(I)|0,ie=ie+1|0;while((ie|0)!=(ce|0));ce=I,ie=Q,Q=N}else ce=I,ie=v,Q=_;if(cs(ie,Q,cn)|0,ot||wn(22972,22949,181,22959),N=(Be|0)!=0,I=(Ke|0)!=0,N&I&&wn(22999,22949,182,22959),N){if(I=Si(h,m)|0,Qe[22032+(I*7|0)+bt>>0]|0){O=3;break}Q=A[21200+(I*28|0)+(bt<<2)>>2]|0,ie=Q,Ct=26}else if(I){if(I=Si(ie,Q)|0,Qe[22032+(I*7|0)+ce>>0]|0){O=4;break}ie=0,Q=A[21200+(ce*28|0)+(I<<2)>>2]|0,Ct=26}else I=0;if((Ct|0)==26)if((Q|0)<=-1&&wn(23030,22949,212,22959),(ie|0)<=-1&&wn(23053,22949,213,22959),(Q|0)>0){N=cn+4|0,I=0;do cu(N),I=I+1|0;while((I|0)!=(Q|0));I=ie}else I=ie;if(A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,uu(Nt,bt),O|0)for(;Xo(O)|0?lu(Nt):yi(Nt),(O|0)>1;)O=O+-1|0;if((I|0)>0){O=0;do cu(Nt),O=O+1|0;while((O|0)!=(I|0))}Ct=cn+4|0,kr(Ct,Nt,Ct),Qn(Ct),Ct=50}else if(cs(v,_,cn)|0,(Be|0)!=0&(Ke|0)!=0)if((ce|0)!=(ie|0)&&wn(23077,22949,243,22959),I=Si(h,m)|0,O=Si(v,_)|0,Qe[22032+(I*7|0)+O>>0]|0)O=5;else if(I=A[21200+(I*28|0)+(O<<2)>>2]|0,(I|0)>0){N=cn+4|0,O=0;do cu(N),O=O+1|0;while((O|0)!=(I|0));Ct=50}else Ct=50;else Ct=50;while(0);return(Ct|0)==50&&(O=cn+4|0,A[k>>2]=A[O>>2],A[k+4>>2]=A[O+4>>2],A[k+8>>2]=A[O+8>>2],O=0),cn=O,Re=mt,cn|0}function ps(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0;if(bt=Re,Re=Re+48|0,I=bt+36|0,N=bt+24|0,Q=bt+12|0,ie=bt,O=dt(h|0,m|0,52)|0,Ge()|0,O=O&15,Ke=dt(h|0,m|0,45)|0,Ge()|0,Ke=Ke&127,ce=ci(Ke)|0,Yt(O|0,0,52)|0,Nt=Ge()|0|134225919,Ct=_,A[Ct>>2]=-1,A[Ct+4>>2]=Nt,!O)return(A[v>>2]|0)>1||(A[v+4>>2]|0)>1||(A[v+8>>2]|0)>1||(k=Dl(Ke,Hc(v)|0)|0,(k|0)==127)?(Nt=1,Re=bt,Nt|0):(ot=Yt(k|0,0,45)|0,Ct=Ge()|0,Ke=_,Ct=A[Ke+4>>2]&-1040385|Ct,Nt=_,A[Nt>>2]=A[Ke>>2]|ot,A[Nt+4>>2]=Ct,Nt=0,Re=bt,Nt|0);for(A[I>>2]=A[v>>2],A[I+4>>2]=A[v+4>>2],A[I+8>>2]=A[v+8>>2];A[N>>2]=A[I>>2],A[N+4>>2]=A[I+4>>2],A[N+8>>2]=A[I+8>>2],Xo(O)|0?(Fp(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],lu(Q)):(su(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],yi(Q)),au(N,Q,ie),Qn(ie),Ct=_,cn=A[Ct>>2]|0,Ct=A[Ct+4>>2]|0,mt=(15-O|0)*3|0,v=Yt(7,0,mt|0)|0,Ct=Ct&~(Ge()|0),mt=Yt(Hc(ie)|0,0,mt|0)|0,Ct=Ge()|0|Ct,Nt=_,A[Nt>>2]=mt|cn&~v,A[Nt+4>>2]=Ct,(O|0)>1;)O=O+-1|0;e:do if((A[I>>2]|0)<=1&&(A[I+4>>2]|0)<=1&&(A[I+8>>2]|0)<=1){O=Hc(I)|0,N=Dl(Ke,O)|0,(N|0)==127?ie=0:ie=ci(N)|0;t:do if(O){if(ce){if(I=21408+((Si(h,m)|0)*28|0)+(O<<2)|0,I=A[I>>2]|0,(I|0)>0){v=0;do O=js(O)|0,v=v+1|0;while((v|0)!=(I|0))}if((O|0)==1){k=3;break e}v=Dl(Ke,O)|0,(v|0)==127&&wn(23104,22949,376,23134),ci(v)|0?wn(23147,22949,377,23134):(ot=I,Be=O,k=v)}else ot=0,Be=O,k=N;if(Q=A[4304+(Ke*28|0)+(Be<<2)>>2]|0,(Q|0)<=-1&&wn(23178,22949,384,23134),!ie){if((ot|0)<=-1&&wn(23030,22949,417,23134),ot|0){I=_,O=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=ks(v,I)|0,I=Ge()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,O=O+1|0;while((O|0)<(ot|0))}if((Q|0)<=0){O=54;break}for(I=_,O=0,v=A[I>>2]|0,I=A[I+4>>2]|0;;)if(v=ks(v,I)|0,I=Ge()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,O=O+1|0,(O|0)==(Q|0)){O=54;break t}}if(N=jc(k,Ke)|0,(N|0)==7&&wn(22925,22949,393,23134),O=_,v=A[O>>2]|0,O=A[O+4>>2]|0,(Q|0)>0){I=0;do v=ks(v,O)|0,O=Ge()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=O,I=I+1|0;while((I|0)!=(Q|0))}if(v=Si(v,O)|0,mt=Uc(k)|0,v=A[(mt?21824:21616)+(N*28|0)+(v<<2)>>2]|0,(v|0)<=-1&&wn(23030,22949,412,23134),!v)O=54;else{N=_,O=0,I=A[N>>2]|0,N=A[N+4>>2]|0;do I=du(I,N)|0,N=Ge()|0,mt=_,A[mt>>2]=I,A[mt+4>>2]=N,O=O+1|0;while((O|0)<(v|0));O=54}}else if((ce|0)!=0&(ie|0)!=0)if(mt=Si(h,m)|0,O=_,O=21408+(mt*28|0)+((Si(A[O>>2]|0,A[O+4>>2]|0)|0)<<2)|0,O=A[O>>2]|0,(O|0)<=-1&&wn(23201,22949,433,23134),!O)k=N,O=55;else{I=_,k=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=ks(v,I)|0,I=Ge()|0,mt=_,A[mt>>2]=v,A[mt+4>>2]=I,k=k+1|0;while((k|0)<(O|0));k=N,O=54}else k=N,O=54;while(0);if((O|0)==54&&ie&&(O=55),(O|0)==55&&(mt=_,(Si(A[mt>>2]|0,A[mt+4>>2]|0)|0)==1)){k=4;break}mt=_,Nt=A[mt>>2]|0,mt=A[mt+4>>2]&-1040385,cn=Yt(k|0,0,45)|0,mt=mt|(Ge()|0),k=_,A[k>>2]=Nt|cn,A[k+4>>2]=mt,k=0}else k=2;while(0);return mt=k,Re=bt,mt|0}function Jc(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;return I=Re,Re=Re+16|0,O=I,h=xa(h,m,v,_,O)|0,h||(Gc(O,k),h=0),Re=I,h|0}function Al(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return k=Re,Re=Re+16|0,O=k,$s(v,O),_=ps(h,m,O,_)|0,Re=k,_|0}function Ur(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,O)|0)?h=Ki(k,O)|0:h=-1,Re=I,h|0}function ac(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,O)|0)?h=Ki(k,O)|0:h=-1,Re=I,(h>>>31^1)+h|0}function To(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0;if(_n=Re,Re=Re+48|0,O=_n+24|0,I=_n+12|0,Ze=_n,!(xa(h,m,h,m,O)|0)&&!(xa(h,m,v,_,I)|0)){if(Rt=Ki(O,I)|0,(Rt|0)<0)return Ze=Rt,Re=_n,Ze|0;for(A[O>>2]=0,A[O+4>>2]=0,A[O+8>>2]=0,A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,xa(h,m,h,m,O)|0,xa(h,m,v,_,I)|0,Cs(O),Cs(I),Rt?(ce=A[O>>2]|0,ot=+(Rt|0),Nt=O+4|0,Be=A[Nt>>2]|0,cn=O+8|0,Ke=A[cn>>2]|0,mt=O,v=ce,_=Be,O=Ke,bt=+((A[I>>2]|0)-ce|0)/ot,Ct=+((A[I+4>>2]|0)-Be|0)/ot,ot=+((A[I+8>>2]|0)-Ke|0)/ot):(_=O+4|0,Ke=O+8|0,Nt=_,cn=Ke,mt=O,v=A[O>>2]|0,_=A[_>>2]|0,O=A[Ke>>2]|0,bt=0,Ct=0,ot=0),A[Ze>>2]=v,Ke=Ze+4|0,A[Ke>>2]=_,Be=Ze+8|0,A[Be>>2]=O,ce=0;;){Q=+(ce|0),xn=bt*Q+ +(v|0),N=Ct*Q+ +(A[Nt>>2]|0),Q=ot*Q+ +(A[cn>>2]|0),_=~~+Ga(+xn),I=~~+Ga(+N),v=~~+Ga(+Q),xn=+ct(+(+(_|0)-xn)),N=+ct(+(+(I|0)-N)),Q=+ct(+(+(v|0)-Q));do if(xn>N&xn>Q)_=0-(I+v)|0,O=I;else if(ie=0-_|0,N>Q){O=ie-v|0;break}else{O=I,v=ie-I|0;break}while(0);if(A[Ze>>2]=_,A[Ke>>2]=O,A[Be>>2]=v,co(Ze),ps(h,m,Ze,k+(ce<<3)|0)|0,(ce|0)==(Rt|0))break;ce=ce+1|0,v=A[mt>>2]|0}return Ze=0,Re=_n,Ze|0}return Ze=-1,Re=_n,Ze|0}function ho(h,m){h=h|0,m=m|0;var v=0;if(!m)return v=1,v|0;v=h,h=1;do h=yr(m&1|0?v:1,h)|0,m=m>>1,v=yr(v,v)|0;while(m|0);return h|0}function Nf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0;if(!(sl(m,v)|0)||(m=Ko(m)|0,Ke=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,Be=A[h>>2]|0,(Be|0)<=0))return Be=0,Be|0;if(ce=A[h+4>>2]|0,m){m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+ye[ce+(ie<<4)>>3],Q=+ye[ce+(ie<<4)+8>>3],h=(v+2|0)%(Be|0)|0,O=+ye[ce+(h<<4)>>3],k=+ye[ce+(h<<4)+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(Ke<O|Ke>N);)if(v=ie+1|0,(v|0)<(Be|0))h=ie,ie=v,v=h;else{v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(Ke-O)/(N-O)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Be|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}else{m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+ye[ce+(ie<<4)>>3],Q=+ye[ce+(ie<<4)+8>>3],h=(v+2|0)%(Be|0)|0,O=+ye[ce+(h<<4)>>3],k=+ye[ce+(h<<4)+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(Ke<O|Ke>N);)if(v=ie+1|0,(v|0)<(Be|0))h=ie,ie=v,v=h;else{v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(Ke-O)/(N-O)*(I-k)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Be|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}return 0}function Zi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0;if(bt=A[h>>2]|0,!bt){A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;return}if(Ct=m+8|0,ye[Ct>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,cn=m+16|0,ye[cn>>3]=-17976931348623157e292,!((bt|0)<=0)){for(Ke=A[h+4>>2]|0,ie=17976931348623157e292,ce=-17976931348623157e292,Be=0,h=-1,O=17976931348623157e292,I=17976931348623157e292,Q=-17976931348623157e292,_=-17976931348623157e292,ot=0;v=+ye[Ke+(ot<<4)>>3],N=+ye[Ke+(ot<<4)+8>>3],h=h+2|0,k=+ye[Ke+(((h|0)==(bt|0)?0:h)<<4)+8>>3],v<O&&(ye[Ct>>3]=v,O=v),N<I&&(ye[Nt>>3]=N,I=N),v>Q?ye[m>>3]=v:v=Q,N>_&&(ye[cn>>3]=N,_=N),ie=N>0&N<ie?N:ie,ce=N<0&N>ce?N:ce,Be=Be|+ct(+(N-k))>3.141592653589793,h=ot+1|0,(h|0)!=(bt|0);)mt=ot,Q=v,ot=h,h=mt;Be&&(ye[cn>>3]=ce,ye[Nt>>3]=ie)}}function ba(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0,xn=0,Kt=0;if(bt=A[h>>2]|0,bt){if(Ct=m+8|0,ye[Ct>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,cn=m+16|0,ye[cn>>3]=-17976931348623157e292,(bt|0)>0){for(k=A[h+4>>2]|0,Ke=17976931348623157e292,ot=-17976931348623157e292,_=0,v=-1,Q=17976931348623157e292,ie=17976931348623157e292,Be=-17976931348623157e292,I=-17976931348623157e292,mt=0;O=+ye[k+(mt<<4)>>3],ce=+ye[k+(mt<<4)+8>>3],xn=v+2|0,N=+ye[k+(((xn|0)==(bt|0)?0:xn)<<4)+8>>3],O<Q&&(ye[Ct>>3]=O,Q=O),ce<ie&&(ye[Nt>>3]=ce,ie=ce),O>Be?ye[m>>3]=O:O=Be,ce>I&&(ye[cn>>3]=ce,I=ce),Ke=ce>0&ce<Ke?ce:Ke,ot=ce<0&ce>ot?ce:ot,_=_|+ct(+(ce-N))>3.141592653589793,v=mt+1|0,(v|0)!=(bt|0);)xn=mt,Be=O,mt=v,v=xn;_&&(ye[cn>>3]=ot,ye[Nt>>3]=Ke)}}else A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;if(xn=h+8|0,v=A[xn>>2]|0,!((v|0)<=0)){_n=h+12|0,Ze=0;do if(k=A[_n>>2]|0,_=Ze,Ze=Ze+1|0,Nt=m+(Ze<<5)|0,cn=A[k+(_<<3)>>2]|0,cn){if(mt=m+(Ze<<5)+8|0,ye[mt>>3]=17976931348623157e292,h=m+(Ze<<5)+24|0,ye[h>>3]=17976931348623157e292,ye[Nt>>3]=-17976931348623157e292,Rt=m+(Ze<<5)+16|0,ye[Rt>>3]=-17976931348623157e292,(cn|0)>0){for(bt=A[k+(_<<3)+4>>2]|0,Ke=17976931348623157e292,ot=-17976931348623157e292,k=0,_=-1,Ct=0,Q=17976931348623157e292,ie=17976931348623157e292,ce=-17976931348623157e292,I=-17976931348623157e292;O=+ye[bt+(Ct<<4)>>3],Be=+ye[bt+(Ct<<4)+8>>3],_=_+2|0,N=+ye[bt+(((_|0)==(cn|0)?0:_)<<4)+8>>3],O<Q&&(ye[mt>>3]=O,Q=O),Be<ie&&(ye[h>>3]=Be,ie=Be),O>ce?ye[Nt>>3]=O:O=ce,Be>I&&(ye[Rt>>3]=Be,I=Be),Ke=Be>0&Be<Ke?Be:Ke,ot=Be<0&Be>ot?Be:ot,k=k|+ct(+(Be-N))>3.141592653589793,_=Ct+1|0,(_|0)!=(cn|0);)Kt=Ct,Ct=_,ce=O,_=Kt;k&&(ye[Rt>>3]=ot,ye[h>>3]=Ke)}}else A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,A[Nt+12>>2]=0,A[Nt+16>>2]=0,A[Nt+20>>2]=0,A[Nt+24>>2]=0,A[Nt+28>>2]=0,v=A[xn>>2]|0;while((Ze|0)<(v|0))}}function an(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0;if(!(Nf(h,m,v)|0))return k=0,k|0;if(k=h+8|0,(A[k>>2]|0)<=0)return k=1,k|0;for(_=h+12|0,h=0;;){if(O=h,h=h+1|0,Nf((A[_>>2]|0)+(O<<3)|0,m+(h<<5)|0,v)|0){h=0,_=6;break}if((h|0)>=(A[k>>2]|0)){h=1,_=6;break}}return(_|0)==6?h|0:0}function $a(){return 8}function Ws(){return 16}function Ks(){return 168}function Fo(){return 8}function yu(){return 16}function Yo(){return 12}function un(){return 8}function sc(h){h=h|0;var m=0,v=0;return v=+ye[h>>3],m=+ye[h+8>>3],+ +It(+(v*v+m*m))}function Zs(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0;ie=+ye[h>>3],Q=+ye[m>>3]-ie,N=+ye[h+8>>3],I=+ye[m+8>>3]-N,Be=+ye[v>>3],O=+ye[_>>3]-Be,Ke=+ye[v+8>>3],ce=+ye[_+8>>3]-Ke,O=(O*(N-Ke)-(ie-Be)*ce)/(Q*ce-I*O),ye[k>>3]=ie+Q*O,ye[k+8>>3]=N+I*O}function Ao(h,m){return h=h|0,m=m|0,+ye[h>>3]!=+ye[m>>3]?(m=0,m|0):(m=+ye[h+8>>3]==+ye[m+8>>3],m|0)}function Sr(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return k=+ye[h>>3]-+ye[m>>3],_=+ye[h+8>>3]-+ye[m+8>>3],v=+ye[h+16>>3]-+ye[m+16>>3],+(k*k+_*_+v*v)}function ef(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;v=+ye[h>>3],_=+hn(+v),v=+fn(+v),ye[m+16>>3]=v,v=+ye[h+8>>3],k=_*+hn(+v),ye[m>>3]=k,v=_*+fn(+v),ye[m+8>>3]=v}function jp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(ie=Re,Re=Re+32|0,k=ie+16|0,O=ie,fa(h,m,k),I=Zc(h,m)|0,Q=Si(h,m)|0,Rf(I,O),m=Zu(I,A[k>>2]|0)|0,!(ci(I)|0))return Q=m,Re=ie,Q|0;do switch(I|0){case 4:{h=0,v=14;break}case 14:{h=1,v=14;break}case 24:{h=2,v=14;break}case 38:{h=3,v=14;break}case 49:{h=4,v=14;break}case 58:{h=5,v=14;break}case 63:{h=6,v=14;break}case 72:{h=7,v=14;break}case 83:{h=8,v=14;break}case 97:{h=9,v=14;break}case 107:{h=10,v=14;break}case 117:{h=11,v=14;break}default:N=0,_=0}while(0);return(v|0)==14&&(N=A[22096+(h*24|0)+8>>2]|0,_=A[22096+(h*24|0)+16>>2]|0),h=A[k>>2]|0,(h|0)!=(A[O>>2]|0)&&(I=Uc(I)|0,h=A[k>>2]|0,I|(h|0)==(_|0)&&(m=(m+1|0)%6|0)),(Q|0)==3&(h|0)==(_|0)?(Q=(m+5|0)%6|0,Re=ie,Q|0):(Q|0)==5&(h|0)==(N|0)?(Q=(m+1|0)%6|0,Re=ie,Q|0):(Q=m,Re=ie,Q|0)}function Uf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;return _=Ui(h,m)|0,(v+-1|0)>>>0>5||(k=(_|0)!=0,(v|0)==1&k)?(v=-1,v|0):(_=jp(h,m)|0,k?(v=(5-_+(A[22384+(v<<2)>>2]|0)|0)%5|0,v|0):(v=(6-_+(A[22416+(v<<2)>>2]|0)|0)%6|0,v|0))}function mo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0;(m|0)>0?(_=Bo(m,4)|0,A[h>>2]=_,_||wn(23230,23253,40,23267)):A[h>>2]=0,A[h+4>>2]=m,A[h+8>>2]=0,A[h+12>>2]=v}function Va(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=h+4|0,O=h+12|0,I=h+8|0;e:for(;;){for(v=A[k>>2]|0,m=0;;){if((m|0)>=(v|0))break e;if(_=A[h>>2]|0,N=A[_+(m<<2)>>2]|0,!N)m=m+1|0;else break}m=_+(~~(+ct(+(+xt(10,+ +(15-(A[O>>2]|0)|0))*(+ye[N>>3]+ +ye[N+8>>3])))%+(v|0))>>>0<<2)|0,v=A[m>>2]|0;t:do if(v|0){if(_=N+32|0,(v|0)==(N|0))A[m>>2]=A[_>>2];else{if(v=v+32|0,m=A[v>>2]|0,!m)break;for(;(m|0)!=(N|0);)if(v=m+32|0,m=A[v>>2]|0,!m)break t;A[v>>2]=A[_>>2]}Bn(N),A[I>>2]=(A[I>>2]|0)+-1}while(0)}Bn(A[h>>2]|0)}function jl(h){h=h|0;var m=0,v=0,_=0;for(_=A[h+4>>2]|0,v=0;;){if((v|0)>=(_|0)){m=0,v=4;break}if(m=A[(A[h>>2]|0)+(v<<2)>>2]|0,!m)v=v+1|0;else{v=4;break}}return(v|0)==4?m|0:0}function tf(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;if(v=~~(+ct(+(+xt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,v=(A[h>>2]|0)+(v<<2)|0,_=A[v>>2]|0,!_)return O=1,O|0;O=m+32|0;do if((_|0)!=(m|0)){if(v=A[_+32>>2]|0,!v)return O=1,O|0;for(k=v;;){if((k|0)==(m|0)){k=8;break}if(v=A[k+32>>2]|0,v)_=k,k=v;else{v=1,k=10;break}}if((k|0)==8){A[_+32>>2]=A[O>>2];break}else if((k|0)==10)return v|0}else A[v>>2]=A[O>>2];while(0);return Bn(m),O=h+8|0,A[O>>2]=(A[O>>2]|0)+-1,O=0,O|0}function nf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;O=Pi(40)|0,O||wn(23283,23253,98,23296),A[O>>2]=A[m>>2],A[O+4>>2]=A[m+4>>2],A[O+8>>2]=A[m+8>>2],A[O+12>>2]=A[m+12>>2],k=O+16|0,A[k>>2]=A[v>>2],A[k+4>>2]=A[v+4>>2],A[k+8>>2]=A[v+8>>2],A[k+12>>2]=A[v+12>>2],A[O+32>>2]=0,k=~~(+ct(+(+xt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=(A[h>>2]|0)+(k<<2)|0,_=A[k>>2]|0;do if(!_)A[k>>2]=O;else{for(;!(Vs(_,m)|0&&Vs(_+16|0,v)|0);)if(k=A[_+32>>2]|0,_=k|0?k:_,!(A[_+32>>2]|0)){I=10;break}if((I|0)==10){A[_+32>>2]=O;break}return Bn(O),I=_,I|0}while(0);return I=h+8|0,A[I>>2]=(A[I>>2]|0)+1,I=O,I|0}function hs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(k=~~(+ct(+(+xt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=A[(A[h>>2]|0)+(k<<2)>>2]|0,!k)return v=0,v|0;if(!v){for(h=k;;){if(Vs(h,m)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}if((_|0)==10)return h|0}for(h=k;;){if(Vs(h,m)|0&&Vs(h+16|0,v)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}return(_|0)==10?h|0:0}function $p(h,m){h=h|0,m=m|0;var v=0;if(v=~~(+ct(+(+xt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,h=A[(A[h>>2]|0)+(v<<2)>>2]|0,!h)return v=0,v|0;for(;;){if(Vs(h,m)|0){m=5;break}if(h=A[h+32>>2]|0,!h){h=0,m=5;break}}return(m|0)==5?h|0:0}function rr(){return 23312}function Wn(h){return h=+h,+ +Vp(+h)}function pa(h){return h=+h,~~+Wn(h)|0}function Pi(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0,Ct=0,Nt=0,cn=0,mt=0,Rt=0,Ze=0,_n=0;_n=Re,Re=Re+16|0,Ke=_n;do if(h>>>0<245){if(ie=h>>>0<11?16:h+11&-8,h=ie>>>3,Be=A[5829]|0,v=Be>>>h,v&3|0)return m=(v&1^1)+h|0,h=23356+(m<<1<<2)|0,v=h+8|0,_=A[v>>2]|0,k=_+8|0,O=A[k>>2]|0,(O|0)==(h|0)?A[5829]=Be&~(1<<m):(A[O+12>>2]=h,A[v>>2]=O),Ze=m<<3,A[_+4>>2]=Ze|3,Ze=_+Ze+4|0,A[Ze>>2]=A[Ze>>2]|1,Ze=k,Re=_n,Ze|0;if(ce=A[5831]|0,ie>>>0>ce>>>0){if(v|0)return m=2<<h,m=v<<h&(m|0-m),m=(m&0-m)+-1|0,N=m>>>12&16,m=m>>>N,v=m>>>5&8,m=m>>>v,O=m>>>2&4,m=m>>>O,h=m>>>1&2,m=m>>>h,_=m>>>1&1,_=(v|N|O|h|_)+(m>>>_)|0,m=23356+(_<<1<<2)|0,h=m+8|0,O=A[h>>2]|0,N=O+8|0,v=A[N>>2]|0,(v|0)==(m|0)?(h=Be&~(1<<_),A[5829]=h):(A[v+12>>2]=m,A[h>>2]=v,h=Be),Ze=_<<3,I=Ze-ie|0,A[O+4>>2]=ie|3,k=O+ie|0,A[k+4>>2]=I|1,A[O+Ze>>2]=I,ce|0&&(_=A[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=I,A[5834]=k,Ze=N,Re=_n,Ze|0;if(O=A[5830]|0,O){for(v=(O&0-O)+-1|0,k=v>>>12&16,v=v>>>k,_=v>>>5&8,v=v>>>_,I=v>>>2&4,v=v>>>I,N=v>>>1&2,v=v>>>N,Q=v>>>1&1,Q=A[23620+((_|k|I|N|Q)+(v>>>Q)<<2)>>2]|0,v=Q,N=Q,Q=(A[Q+4>>2]&-8)-ie|0;h=A[v+16>>2]|0,!(!h&&(h=A[v+20>>2]|0,!h));)I=(A[h+4>>2]&-8)-ie|0,k=I>>>0<Q>>>0,v=h,N=k?h:N,Q=k?I:Q;if(I=N+ie|0,I>>>0>N>>>0){k=A[N+24>>2]|0,m=A[N+12>>2]|0;do if((m|0)==(N|0)){if(h=N+20|0,m=A[h>>2]|0,!m&&(h=N+16|0,m=A[h>>2]|0,!m)){v=0;break}for(;;)if(_=m+20|0,v=A[_>>2]|0,v)m=v,h=_;else if(_=m+16|0,v=A[_>>2]|0,v)m=v,h=_;else break;A[h>>2]=0,v=m}else v=A[N+8>>2]|0,A[v+12>>2]=m,A[m+8>>2]=v,v=m;while(0);do if(k|0){if(m=A[N+28>>2]|0,h=23620+(m<<2)|0,(N|0)==(A[h>>2]|0)){if(A[h>>2]=v,!v){A[5830]=O&~(1<<m);break}}else if(Ze=k+16|0,A[((A[Ze>>2]|0)==(N|0)?Ze:k+20|0)>>2]=v,!v)break;A[v+24>>2]=k,m=A[N+16>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),m=A[N+20>>2]|0,m|0&&(A[v+20>>2]=m,A[m+24>>2]=v)}while(0);return Q>>>0<16?(Ze=Q+ie|0,A[N+4>>2]=Ze|3,Ze=N+Ze+4|0,A[Ze>>2]=A[Ze>>2]|1):(A[N+4>>2]=ie|3,A[I+4>>2]=Q|1,A[I+Q>>2]=Q,ce|0&&(_=A[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,m&Be?(h=v+8|0,m=A[h>>2]|0):(A[5829]=m|Be,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=Q,A[5834]=I),Ze=N+8|0,Re=_n,Ze|0}else Be=ie}else Be=ie}else Be=ie}else if(h>>>0<=4294967231)if(h=h+11|0,ie=h&-8,_=A[5830]|0,_){k=0-ie|0,h=h>>>8,h?ie>>>0>16777215?Q=31:(Be=(h+1048320|0)>>>16&8,Ct=h<<Be,N=(Ct+520192|0)>>>16&4,Ct=Ct<<N,Q=(Ct+245760|0)>>>16&2,Q=14-(N|Be|Q)+(Ct<<Q>>>15)|0,Q=ie>>>(Q+7|0)&1|Q<<1):Q=0,v=A[23620+(Q<<2)>>2]|0;e:do if(!v)v=0,h=0,Ct=61;else for(h=0,N=ie<<((Q|0)==31?0:25-(Q>>>1)|0),O=0;;){if(I=(A[v+4>>2]&-8)-ie|0,I>>>0<k>>>0)if(I)h=v,k=I;else{h=v,k=0,Ct=65;break e}if(Ct=A[v+20>>2]|0,v=A[v+16+(N>>>31<<2)>>2]|0,O=(Ct|0)==0|(Ct|0)==(v|0)?O:Ct,v)N=N<<1;else{v=O,Ct=61;break}}while(0);if((Ct|0)==61){if((v|0)==0&(h|0)==0){if(h=2<<Q,h=(h|0-h)&_,!h){Be=ie;break}Be=(h&0-h)+-1|0,I=Be>>>12&16,Be=Be>>>I,O=Be>>>5&8,Be=Be>>>O,N=Be>>>2&4,Be=Be>>>N,Q=Be>>>1&2,Be=Be>>>Q,v=Be>>>1&1,h=0,v=A[23620+((O|I|N|Q|v)+(Be>>>v)<<2)>>2]|0}v?Ct=65:(N=h,I=k)}if((Ct|0)==65)for(O=v;;)if(Be=(A[O+4>>2]&-8)-ie|0,v=Be>>>0<k>>>0,k=v?Be:k,h=v?O:h,v=A[O+16>>2]|0,v||(v=A[O+20>>2]|0),v)O=v;else{N=h,I=k;break}if(N|0&&I>>>0<((A[5831]|0)-ie|0)>>>0&&(ce=N+ie|0,ce>>>0>N>>>0)){O=A[N+24>>2]|0,m=A[N+12>>2]|0;do if((m|0)==(N|0)){if(h=N+20|0,m=A[h>>2]|0,!m&&(h=N+16|0,m=A[h>>2]|0,!m)){m=0;break}for(;;)if(k=m+20|0,v=A[k>>2]|0,v)m=v,h=k;else if(k=m+16|0,v=A[k>>2]|0,v)m=v,h=k;else break;A[h>>2]=0}else Ze=A[N+8>>2]|0,A[Ze+12>>2]=m,A[m+8>>2]=Ze;while(0);do if(O){if(h=A[N+28>>2]|0,v=23620+(h<<2)|0,(N|0)==(A[v>>2]|0)){if(A[v>>2]=m,!m){_=_&~(1<<h),A[5830]=_;break}}else if(Ze=O+16|0,A[((A[Ze>>2]|0)==(N|0)?Ze:O+20|0)>>2]=m,!m)break;A[m+24>>2]=O,h=A[N+16>>2]|0,h|0&&(A[m+16>>2]=h,A[h+24>>2]=m),h=A[N+20>>2]|0,h&&(A[m+20>>2]=h,A[h+24>>2]=m)}while(0);e:do if(I>>>0<16)Ze=I+ie|0,A[N+4>>2]=Ze|3,Ze=N+Ze+4|0,A[Ze>>2]=A[Ze>>2]|1;else{if(A[N+4>>2]=ie|3,A[ce+4>>2]=I|1,A[ce+I>>2]=I,m=I>>>3,I>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=ce,A[m+12>>2]=ce,A[ce+8>>2]=m,A[ce+12>>2]=v;break}if(m=I>>>8,m?I>>>0>16777215?v=31:(Rt=(m+1048320|0)>>>16&8,Ze=m<<Rt,mt=(Ze+520192|0)>>>16&4,Ze=Ze<<mt,v=(Ze+245760|0)>>>16&2,v=14-(mt|Rt|v)+(Ze<<v>>>15)|0,v=I>>>(v+7|0)&1|v<<1):v=0,m=23620+(v<<2)|0,A[ce+28>>2]=v,h=ce+16|0,A[h+4>>2]=0,A[h>>2]=0,h=1<<v,!(_&h)){A[5830]=_|h,A[m>>2]=ce,A[ce+24>>2]=m,A[ce+12>>2]=ce,A[ce+8>>2]=ce;break}m=A[m>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(I|0)){for(_=I<<((v|0)==31?0:25-(v>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(I|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=ce,A[ce+24>>2]=m,A[ce+12>>2]=ce,A[ce+8>>2]=ce;break e}while(0);Rt=m+8|0,Ze=A[Rt>>2]|0,A[Ze+12>>2]=ce,A[Rt>>2]=ce,A[ce+8>>2]=Ze,A[ce+12>>2]=m,A[ce+24>>2]=0}while(0);return Ze=N+8|0,Re=_n,Ze|0}else Be=ie}else Be=ie;else Be=-1;while(0);if(v=A[5831]|0,v>>>0>=Be>>>0)return m=v-Be|0,h=A[5834]|0,m>>>0>15?(Ze=h+Be|0,A[5834]=Ze,A[5831]=m,A[Ze+4>>2]=m|1,A[h+v>>2]=m,A[h+4>>2]=Be|3):(A[5831]=0,A[5834]=0,A[h+4>>2]=v|3,Ze=h+v+4|0,A[Ze>>2]=A[Ze>>2]|1),Ze=h+8|0,Re=_n,Ze|0;if(I=A[5832]|0,I>>>0>Be>>>0)return mt=I-Be|0,A[5832]=mt,Ze=A[5835]|0,Rt=Ze+Be|0,A[5835]=Rt,A[Rt+4>>2]=mt|1,A[Ze+4>>2]=Be|3,Ze=Ze+8|0,Re=_n,Ze|0;if(A[5947]|0?h=A[5949]|0:(A[5949]=4096,A[5948]=4096,A[5950]=-1,A[5951]=-1,A[5952]=0,A[5940]=0,A[5947]=Ke&-16^1431655768,h=4096),N=Be+48|0,Q=Be+47|0,O=h+Q|0,k=0-h|0,ie=O&k,ie>>>0<=Be>>>0||(h=A[5939]|0,h|0&&(ce=A[5937]|0,Ke=ce+ie|0,Ke>>>0<=ce>>>0|Ke>>>0>h>>>0)))return Ze=0,Re=_n,Ze|0;e:do if(A[5940]&4)m=0,Ct=143;else{v=A[5835]|0;t:do if(v){for(_=23764;Ke=A[_>>2]|0,!(Ke>>>0<=v>>>0&&(Ke+(A[_+4>>2]|0)|0)>>>0>v>>>0);)if(h=A[_+8>>2]|0,h)_=h;else{Ct=128;break t}if(m=O-I&k,m>>>0<2147483647)if(h=ta(m|0)|0,(h|0)==((A[_>>2]|0)+(A[_+4>>2]|0)|0)){if((h|0)!=-1){I=m,O=h,Ct=145;break e}}else _=h,Ct=136;else m=0}else Ct=128;while(0);do if((Ct|0)==128)if(v=ta(0)|0,(v|0)!=-1&&(m=v,ot=A[5948]|0,bt=ot+-1|0,m=(bt&m|0?(bt+m&0-ot)-m|0:0)+ie|0,ot=A[5937]|0,bt=m+ot|0,m>>>0>Be>>>0&m>>>0<2147483647)){if(Ke=A[5939]|0,Ke|0&&bt>>>0<=ot>>>0|bt>>>0>Ke>>>0){m=0;break}if(h=ta(m|0)|0,(h|0)==(v|0)){I=m,O=v,Ct=145;break e}else _=h,Ct=136}else m=0;while(0);do if((Ct|0)==136){if(v=0-m|0,!(N>>>0>m>>>0&(m>>>0<2147483647&(_|0)!=-1)))if((_|0)==-1){m=0;break}else{I=m,O=_,Ct=145;break e}if(h=A[5949]|0,h=Q-m+h&0-h,h>>>0>=2147483647){I=m,O=_,Ct=145;break e}if((ta(h|0)|0)==-1){ta(v|0)|0,m=0;break}else{I=h+m|0,O=_,Ct=145;break e}}while(0);A[5940]=A[5940]|4,Ct=143}while(0);if((Ct|0)==143&&ie>>>0<2147483647&&(mt=ta(ie|0)|0,bt=ta(0)|0,Nt=bt-mt|0,cn=Nt>>>0>(Be+40|0)>>>0,!((mt|0)==-1|cn^1|mt>>>0<bt>>>0&((mt|0)!=-1&(bt|0)!=-1)^1))&&(I=cn?Nt:m,O=mt,Ct=145),(Ct|0)==145){m=(A[5937]|0)+I|0,A[5937]=m,m>>>0>(A[5938]|0)>>>0&&(A[5938]=m),Q=A[5835]|0;e:do if(Q){for(m=23764;;){if(h=A[m>>2]|0,v=A[m+4>>2]|0,(O|0)==(h+v|0)){Ct=154;break}if(_=A[m+8>>2]|0,_)m=_;else break}if((Ct|0)==154&&(Rt=m+4|0,(A[m+12>>2]&8|0)==0)&&O>>>0>Q>>>0&h>>>0<=Q>>>0){A[Rt>>2]=v+I,Ze=(A[5832]|0)+I|0,mt=Q+8|0,mt=mt&7|0?0-mt&7:0,Rt=Q+mt|0,mt=Ze-mt|0,A[5835]=Rt,A[5832]=mt,A[Rt+4>>2]=mt|1,A[Q+Ze+4>>2]=40,A[5836]=A[5951];break}for(O>>>0<(A[5833]|0)>>>0&&(A[5833]=O),v=O+I|0,m=23764;;){if((A[m>>2]|0)==(v|0)){Ct=162;break}if(h=A[m+8>>2]|0,h)m=h;else break}if((Ct|0)==162&&!(A[m+12>>2]&8|0)){A[m>>2]=O,ce=m+4|0,A[ce>>2]=(A[ce>>2]|0)+I,ce=O+8|0,ce=O+(ce&7|0?0-ce&7:0)|0,m=v+8|0,m=v+(m&7|0?0-m&7:0)|0,ie=ce+Be|0,N=m-ce-Be|0,A[ce+4>>2]=Be|3;t:do if((Q|0)==(m|0))Ze=(A[5832]|0)+N|0,A[5832]=Ze,A[5835]=ie,A[ie+4>>2]=Ze|1;else{if((A[5834]|0)==(m|0)){Ze=(A[5831]|0)+N|0,A[5831]=Ze,A[5834]=ie,A[ie+4>>2]=Ze|1,A[ie+Ze>>2]=Ze;break}if(h=A[m+4>>2]|0,(h&3|0)==1){I=h&-8,_=h>>>3;n:do if(h>>>0<256)if(h=A[m+8>>2]|0,v=A[m+12>>2]|0,(v|0)==(h|0)){A[5829]=A[5829]&~(1<<_);break}else{A[h+12>>2]=v,A[v+8>>2]=h;break}else{O=A[m+24>>2]|0,h=A[m+12>>2]|0;do if((h|0)==(m|0)){if(v=m+16|0,_=v+4|0,h=A[_>>2]|0,h)v=_;else if(h=A[v>>2]|0,!h){h=0;break}for(;;)if(k=h+20|0,_=A[k>>2]|0,_)h=_,v=k;else if(k=h+16|0,_=A[k>>2]|0,_)h=_,v=k;else break;A[v>>2]=0}else Ze=A[m+8>>2]|0,A[Ze+12>>2]=h,A[h+8>>2]=Ze;while(0);if(!O)break;v=A[m+28>>2]|0,_=23620+(v<<2)|0;do if((A[_>>2]|0)!=(m|0)){if(Ze=O+16|0,A[((A[Ze>>2]|0)==(m|0)?Ze:O+20|0)>>2]=h,!h)break n}else{if(A[_>>2]=h,h|0)break;A[5830]=A[5830]&~(1<<v);break n}while(0);if(A[h+24>>2]=O,v=m+16|0,_=A[v>>2]|0,_|0&&(A[h+16>>2]=_,A[_+24>>2]=h),v=A[v+4>>2]|0,!v)break;A[h+20>>2]=v,A[v+24>>2]=h}while(0);m=m+I|0,k=I+N|0}else k=N;if(m=m+4|0,A[m>>2]=A[m>>2]&-2,A[ie+4>>2]=k|1,A[ie+k>>2]=k,m=k>>>3,k>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=ie,A[m+12>>2]=ie,A[ie+8>>2]=m,A[ie+12>>2]=v;break}m=k>>>8;do if(!m)_=0;else{if(k>>>0>16777215){_=31;break}Rt=(m+1048320|0)>>>16&8,Ze=m<<Rt,mt=(Ze+520192|0)>>>16&4,Ze=Ze<<mt,_=(Ze+245760|0)>>>16&2,_=14-(mt|Rt|_)+(Ze<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1}while(0);if(m=23620+(_<<2)|0,A[ie+28>>2]=_,h=ie+16|0,A[h+4>>2]=0,A[h>>2]=0,h=A[5830]|0,v=1<<_,!(h&v)){A[5830]=h|v,A[m>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break}m=A[m>>2]|0;n:do if((A[m+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(k|0)){m=h;break n}else _=_<<1,m=h;A[v>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break t}while(0);Rt=m+8|0,Ze=A[Rt>>2]|0,A[Ze+12>>2]=ie,A[Rt>>2]=ie,A[ie+8>>2]=Ze,A[ie+12>>2]=m,A[ie+24>>2]=0}while(0);return Ze=ce+8|0,Re=_n,Ze|0}for(m=23764;h=A[m>>2]|0,!(h>>>0<=Q>>>0&&(Ze=h+(A[m+4>>2]|0)|0,Ze>>>0>Q>>>0));)m=A[m+8>>2]|0;k=Ze+-47|0,h=k+8|0,h=k+(h&7|0?0-h&7:0)|0,k=Q+16|0,h=h>>>0<k>>>0?Q:h,m=h+8|0,v=I+-40|0,mt=O+8|0,mt=mt&7|0?0-mt&7:0,Rt=O+mt|0,mt=v-mt|0,A[5835]=Rt,A[5832]=mt,A[Rt+4>>2]=mt|1,A[O+v+4>>2]=40,A[5836]=A[5951],v=h+4|0,A[v>>2]=27,A[m>>2]=A[5941],A[m+4>>2]=A[5942],A[m+8>>2]=A[5943],A[m+12>>2]=A[5944],A[5941]=O,A[5942]=I,A[5944]=0,A[5943]=m,m=h+24|0;do Rt=m,m=m+4|0,A[m>>2]=7;while((Rt+8|0)>>>0<Ze>>>0);if((h|0)!=(Q|0)){if(O=h-Q|0,A[v>>2]=A[v>>2]&-2,A[Q+4>>2]=O|1,A[h>>2]=O,m=O>>>3,O>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=Q,A[m+12>>2]=Q,A[Q+8>>2]=m,A[Q+12>>2]=v;break}if(m=O>>>8,m?O>>>0>16777215?_=31:(Rt=(m+1048320|0)>>>16&8,Ze=m<<Rt,mt=(Ze+520192|0)>>>16&4,Ze=Ze<<mt,_=(Ze+245760|0)>>>16&2,_=14-(mt|Rt|_)+(Ze<<_>>>15)|0,_=O>>>(_+7|0)&1|_<<1):_=0,v=23620+(_<<2)|0,A[Q+28>>2]=_,A[Q+20>>2]=0,A[k>>2]=0,m=A[5830]|0,h=1<<_,!(m&h)){A[5830]=m|h,A[v>>2]=Q,A[Q+24>>2]=v,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break}m=A[v>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(O|0)){for(_=O<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(O|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=Q,A[Q+24>>2]=m,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break e}while(0);Rt=m+8|0,Ze=A[Rt>>2]|0,A[Ze+12>>2]=Q,A[Rt>>2]=Q,A[Q+8>>2]=Ze,A[Q+12>>2]=m,A[Q+24>>2]=0}}else Ze=A[5833]|0,(Ze|0)==0|O>>>0<Ze>>>0&&(A[5833]=O),A[5941]=O,A[5942]=I,A[5944]=0,A[5838]=A[5947],A[5837]=-1,A[5842]=23356,A[5841]=23356,A[5844]=23364,A[5843]=23364,A[5846]=23372,A[5845]=23372,A[5848]=23380,A[5847]=23380,A[5850]=23388,A[5849]=23388,A[5852]=23396,A[5851]=23396,A[5854]=23404,A[5853]=23404,A[5856]=23412,A[5855]=23412,A[5858]=23420,A[5857]=23420,A[5860]=23428,A[5859]=23428,A[5862]=23436,A[5861]=23436,A[5864]=23444,A[5863]=23444,A[5866]=23452,A[5865]=23452,A[5868]=23460,A[5867]=23460,A[5870]=23468,A[5869]=23468,A[5872]=23476,A[5871]=23476,A[5874]=23484,A[5873]=23484,A[5876]=23492,A[5875]=23492,A[5878]=23500,A[5877]=23500,A[5880]=23508,A[5879]=23508,A[5882]=23516,A[5881]=23516,A[5884]=23524,A[5883]=23524,A[5886]=23532,A[5885]=23532,A[5888]=23540,A[5887]=23540,A[5890]=23548,A[5889]=23548,A[5892]=23556,A[5891]=23556,A[5894]=23564,A[5893]=23564,A[5896]=23572,A[5895]=23572,A[5898]=23580,A[5897]=23580,A[5900]=23588,A[5899]=23588,A[5902]=23596,A[5901]=23596,A[5904]=23604,A[5903]=23604,Ze=I+-40|0,mt=O+8|0,mt=mt&7|0?0-mt&7:0,Rt=O+mt|0,mt=Ze-mt|0,A[5835]=Rt,A[5832]=mt,A[Rt+4>>2]=mt|1,A[O+Ze+4>>2]=40,A[5836]=A[5951];while(0);if(m=A[5832]|0,m>>>0>Be>>>0)return mt=m-Be|0,A[5832]=mt,Ze=A[5835]|0,Rt=Ze+Be|0,A[5835]=Rt,A[Rt+4>>2]=mt|1,A[Ze+4>>2]=Be|3,Ze=Ze+8|0,Re=_n,Ze|0}return Ze=rr()|0,A[Ze>>2]=12,Ze=0,Re=_n,Ze|0}function Bn(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(!h)return;v=h+-8|0,k=A[5833]|0,h=A[h+-4>>2]|0,m=h&-8,Q=v+m|0;do if(h&1)N=v,I=v;else{if(_=A[v>>2]|0,!(h&3)||(I=v+(0-_)|0,O=_+m|0,I>>>0<k>>>0))return;if((A[5834]|0)==(I|0)){if(h=Q+4|0,m=A[h>>2]|0,(m&3|0)!=3){N=I,m=O;break}A[5831]=O,A[h>>2]=m&-2,A[I+4>>2]=O|1,A[I+O>>2]=O;return}if(v=_>>>3,_>>>0<256)if(h=A[I+8>>2]|0,m=A[I+12>>2]|0,(m|0)==(h|0)){A[5829]=A[5829]&~(1<<v),N=I,m=O;break}else{A[h+12>>2]=m,A[m+8>>2]=h,N=I,m=O;break}k=A[I+24>>2]|0,h=A[I+12>>2]|0;do if((h|0)==(I|0)){if(m=I+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){h=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0}else N=A[I+8>>2]|0,A[N+12>>2]=h,A[h+8>>2]=N;while(0);if(k){if(m=A[I+28>>2]|0,v=23620+(m<<2)|0,(A[v>>2]|0)==(I|0)){if(A[v>>2]=h,!h){A[5830]=A[5830]&~(1<<m),N=I,m=O;break}}else if(N=k+16|0,A[((A[N>>2]|0)==(I|0)?N:k+20|0)>>2]=h,!h){N=I,m=O;break}A[h+24>>2]=k,m=I+16|0,v=A[m>>2]|0,v|0&&(A[h+16>>2]=v,A[v+24>>2]=h),m=A[m+4>>2]|0,m?(A[h+20>>2]=m,A[m+24>>2]=h,N=I,m=O):(N=I,m=O)}else N=I,m=O}while(0);if(I>>>0>=Q>>>0||(h=Q+4|0,_=A[h>>2]|0,!(_&1)))return;if(_&2)A[h>>2]=_&-2,A[N+4>>2]=m|1,A[I+m>>2]=m,k=m;else{if((A[5835]|0)==(Q|0)){if(Q=(A[5832]|0)+m|0,A[5832]=Q,A[5835]=N,A[N+4>>2]=Q|1,(N|0)!=(A[5834]|0))return;A[5834]=0,A[5831]=0;return}if((A[5834]|0)==(Q|0)){Q=(A[5831]|0)+m|0,A[5831]=Q,A[5834]=I,A[N+4>>2]=Q|1,A[I+Q>>2]=Q;return}k=(_&-8)+m|0,v=_>>>3;do if(_>>>0<256)if(m=A[Q+8>>2]|0,h=A[Q+12>>2]|0,(h|0)==(m|0)){A[5829]=A[5829]&~(1<<v);break}else{A[m+12>>2]=h,A[h+8>>2]=m;break}else{O=A[Q+24>>2]|0,h=A[Q+12>>2]|0;do if((h|0)==(Q|0)){if(m=Q+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){v=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0,v=h}else v=A[Q+8>>2]|0,A[v+12>>2]=h,A[h+8>>2]=v,v=h;while(0);if(O|0){if(h=A[Q+28>>2]|0,m=23620+(h<<2)|0,(A[m>>2]|0)==(Q|0)){if(A[m>>2]=v,!v){A[5830]=A[5830]&~(1<<h);break}}else if(_=O+16|0,A[((A[_>>2]|0)==(Q|0)?_:O+20|0)>>2]=v,!v)break;A[v+24>>2]=O,h=Q+16|0,m=A[h>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),h=A[h+4>>2]|0,h|0&&(A[v+20>>2]=h,A[h+24>>2]=v)}}while(0);if(A[N+4>>2]=k|1,A[I+k>>2]=k,(N|0)==(A[5834]|0)){A[5831]=k;return}}if(h=k>>>3,k>>>0<256){v=23356+(h<<1<<2)|0,m=A[5829]|0,h=1<<h,m&h?(m=v+8|0,h=A[m>>2]|0):(A[5829]=m|h,h=v,m=v+8|0),A[m>>2]=N,A[h+12>>2]=N,A[N+8>>2]=h,A[N+12>>2]=v;return}h=k>>>8,h?k>>>0>16777215?_=31:(I=(h+1048320|0)>>>16&8,Q=h<<I,O=(Q+520192|0)>>>16&4,Q=Q<<O,_=(Q+245760|0)>>>16&2,_=14-(O|I|_)+(Q<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,h=23620+(_<<2)|0,A[N+28>>2]=_,A[N+20>>2]=0,A[N+16>>2]=0,m=A[5830]|0,v=1<<_;e:do if(!(m&v))A[5830]=m|v,A[h>>2]=N,A[N+24>>2]=h,A[N+12>>2]=N,A[N+8>>2]=N;else{h=A[h>>2]|0;t:do if((A[h+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=h+16+(_>>>31<<2)|0,m=A[v>>2]|0,!!m;)if((A[m+4>>2]&-8|0)==(k|0)){h=m;break t}else _=_<<1,h=m;A[v>>2]=N,A[N+24>>2]=h,A[N+12>>2]=N,A[N+8>>2]=N;break e}while(0);I=h+8|0,Q=A[I>>2]|0,A[Q+12>>2]=N,A[I>>2]=N,A[N+8>>2]=Q,A[N+12>>2]=h,A[N+24>>2]=0}while(0);if(Q=(A[5837]|0)+-1|0,A[5837]=Q,!(Q|0)){for(h=23772;h=A[h>>2]|0,h;)h=h+8|0;A[5837]=-1}}function Bo(h,m){h=h|0,m=m|0;var v=0;return h?(v=yr(m,h)|0,(m|h)>>>0>65535&&(v=((v>>>0)/(h>>>0)|0|0)==(m|0)?v:-1)):v=0,h=Pi(v)|0,!h||!(A[h+-4>>2]&3)||$i(h|0,0,v|0)|0,h|0}function Ha(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,v=h+v>>>0,Xt(m+_+(v>>>0<h>>>0|0)>>>0|0),v|0|0}function Jo(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,_=m-_-(v>>>0>h>>>0|0)>>>0,Xt(_|0),h-v>>>0|0|0}function ea(h){return h=h|0,(h?31-(br(h^h-1)|0)|0:32)|0}function qa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Be=0,Ke=0,ot=0,bt=0;if(ce=h,Q=m,ie=Q,I=v,Ke=_,N=Ke,!ie)return O=(k|0)!=0,N?O?(A[k>>2]=h|0,A[k+4>>2]=m&0,Ke=0,k=0,Xt(Ke|0),k|0):(Ke=0,k=0,Xt(Ke|0),k|0):(O&&(A[k>>2]=(ce>>>0)%(I>>>0),A[k+4>>2]=0),Ke=0,k=(ce>>>0)/(I>>>0)>>>0,Xt(Ke|0),k|0);O=(N|0)==0;do if(I){if(!O){if(O=(br(N|0)|0)-(br(ie|0)|0)|0,O>>>0<=31){Be=O+1|0,N=31-O|0,m=O-31>>31,I=Be,h=ce>>>(Be>>>0)&m|ie<<N,m=ie>>>(Be>>>0)&m,O=0,N=ce<<N;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,Ke=0,k=0,Xt(Ke|0),k|0):(Ke=0,k=0,Xt(Ke|0),k|0)}if(O=I-1|0,O&I|0){N=(br(I|0)|0)+33-(br(ie|0)|0)|0,bt=64-N|0,Be=32-N|0,Q=Be>>31,ot=N-32|0,m=ot>>31,I=N,h=Be-1>>31&ie>>>(ot>>>0)|(ie<<Be|ce>>>(N>>>0))&m,m=m&ie>>>(N>>>0),O=ce<<bt&Q,N=(ie<<bt|ce>>>(ot>>>0))&Q|ce<<Be&N-33>>31;break}return k|0&&(A[k>>2]=O&ce,A[k+4>>2]=0),(I|0)==1?(ot=Q|m&0,bt=h|0|0,Xt(ot|0),bt|0):(bt=ea(I|0)|0,ot=ie>>>(bt>>>0)|0,bt=ie<<32-bt|ce>>>(bt>>>0)|0,Xt(ot|0),bt|0)}else{if(O)return k|0&&(A[k>>2]=(ie>>>0)%(I>>>0),A[k+4>>2]=0),ot=0,bt=(ie>>>0)/(I>>>0)>>>0,Xt(ot|0),bt|0;if(!ce)return k|0&&(A[k>>2]=0,A[k+4>>2]=(ie>>>0)%(N>>>0)),ot=0,bt=(ie>>>0)/(N>>>0)>>>0,Xt(ot|0),bt|0;if(O=N-1|0,!(O&N))return k|0&&(A[k>>2]=h|0,A[k+4>>2]=O&ie|m&0),ot=0,bt=ie>>>((ea(N|0)|0)>>>0),Xt(ot|0),bt|0;if(O=(br(N|0)|0)-(br(ie|0)|0)|0,O>>>0<=30){m=O+1|0,N=31-O|0,I=m,h=ie<<N|ce>>>(m>>>0),m=ie>>>(m>>>0),O=0,N=ce<<N;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,ot=0,bt=0,Xt(ot|0),bt|0):(ot=0,bt=0,Xt(ot|0),bt|0)}while(0);if(!I)ie=N,Q=0,N=0;else{Be=v|0|0,ce=Ke|_&0,ie=Ha(Be|0,ce|0,-1,-1)|0,v=Ge()|0,Q=N,N=0;do _=Q,Q=O>>>31|Q<<1,O=N|O<<1,_=h<<1|_>>>31|0,Ke=h>>>31|m<<1|0,Jo(ie|0,v|0,_|0,Ke|0)|0,bt=Ge()|0,ot=bt>>31|((bt|0)<0?-1:0)<<1,N=ot&1,h=Jo(_|0,Ke|0,ot&Be|0,(((bt|0)<0?-1:0)>>31|((bt|0)<0?-1:0)<<1)&ce|0)|0,m=Ge()|0,I=I-1|0;while(I|0);ie=Q,Q=0}return I=0,k|0&&(A[k>>2]=h,A[k+4>>2]=m),ot=(O|0)>>>31|(ie|I)<<1|(I<<1|O>>>31)&0|Q,bt=(O<<1|0>>>31)&-2|N,Xt(ot|0),bt|0}function Wt(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return O=Re,Re=Re+16|0,k=O|0,qa(h,m,v,_,k)|0,Re=O,Xt(A[k+4>>2]|0),A[k>>2]|0|0}function dt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Xt(m>>>v|0),h>>>v|(m&(1<<v)-1)<<32-v):(Xt(0),m>>>v-32|0)}function Yt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Xt(m<<v|(h&(1<<v)-1<<32-v)>>>32-v|0),h<<v):(Xt(h<<v-32|0),0)}function Po(h,m){return h=+h,m=+m,h!=h?+m:m!=m?+h:+Ai(+h,+m)}function Ga(h){return h=+h,h>=0?+jt(h+.5):+sr(h-.5)}function zo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0;if((v|0)>=8192)return oo(h|0,m|0,v|0)|0,h|0;if(O=h|0,k=h+v|0,(h&3)==(m&3)){for(;h&3;){if(!v)return O|0;Qe[h>>0]=Qe[m>>0]|0,h=h+1|0,m=m+1|0,v=v-1|0}for(v=k&-4|0,_=v-64|0;(h|0)<=(_|0);)A[h>>2]=A[m>>2],A[h+4>>2]=A[m+4>>2],A[h+8>>2]=A[m+8>>2],A[h+12>>2]=A[m+12>>2],A[h+16>>2]=A[m+16>>2],A[h+20>>2]=A[m+20>>2],A[h+24>>2]=A[m+24>>2],A[h+28>>2]=A[m+28>>2],A[h+32>>2]=A[m+32>>2],A[h+36>>2]=A[m+36>>2],A[h+40>>2]=A[m+40>>2],A[h+44>>2]=A[m+44>>2],A[h+48>>2]=A[m+48>>2],A[h+52>>2]=A[m+52>>2],A[h+56>>2]=A[m+56>>2],A[h+60>>2]=A[m+60>>2],h=h+64|0,m=m+64|0;for(;(h|0)<(v|0);)A[h>>2]=A[m>>2],h=h+4|0,m=m+4|0}else for(v=k-4|0;(h|0)<(v|0);)Qe[h>>0]=Qe[m>>0]|0,Qe[h+1>>0]=Qe[m+1>>0]|0,Qe[h+2>>0]=Qe[m+2>>0]|0,Qe[h+3>>0]=Qe[m+3>>0]|0,h=h+4|0,m=m+4|0;for(;(h|0)<(k|0);)Qe[h>>0]=Qe[m>>0]|0,h=h+1|0,m=m+1|0;return O|0}function $i(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=h+v|0,m=m&255,(v|0)>=67){for(;h&3;)Qe[h>>0]=m,h=h+1|0;for(_=O&-4|0,I=m|m<<8|m<<16|m<<24,k=_-64|0;(h|0)<=(k|0);)A[h>>2]=I,A[h+4>>2]=I,A[h+8>>2]=I,A[h+12>>2]=I,A[h+16>>2]=I,A[h+20>>2]=I,A[h+24>>2]=I,A[h+28>>2]=I,A[h+32>>2]=I,A[h+36>>2]=I,A[h+40>>2]=I,A[h+44>>2]=I,A[h+48>>2]=I,A[h+52>>2]=I,A[h+56>>2]=I,A[h+60>>2]=I,h=h+64|0;for(;(h|0)<(_|0);)A[h>>2]=I,h=h+4|0}for(;(h|0)<(O|0);)Qe[h>>0]=m,h=h+1|0;return O-v|0}function Vp(h){return h=+h,h>=0?+jt(h+.5):+sr(h-.5)}function ta(h){h=h|0;var m=0,v=0,_=0;return _=zc()|0,v=A[Lt>>2]|0,m=v+h|0,(h|0)>0&(m|0)<(v|0)|(m|0)<0?(Nc(m|0)|0,al(12),-1):(m|0)>(_|0)&&!(Qo(m|0)|0)?(al(12),-1):(A[Lt>>2]=m,v|0)}return{___uremdi3:Wt,_bitshift64Lshr:dt,_bitshift64Shl:Yt,_calloc:Bo,_cellAreaKm2:Wc,_cellAreaM2:nc,_cellAreaRads2:Nl,_compact:rc,_destroyLinkedPolygon:Ul,_edgeLengthKm:Qc,_edgeLengthM:fl,_emscripten_replace_memory:ao,_exactEdgeLengthKm:Kc,_exactEdgeLengthM:Ff,_exactEdgeLengthRads:Vr,_experimentalH3ToLocalIj:Jc,_experimentalLocalIjToH3:Al,_free:Bn,_geoToH3:Np,_getDestinationH3IndexFromUnidirectionalEdge:_t,_getH3IndexesFromUnidirectionalEdge:er,_getH3UnidirectionalEdge:rt,_getH3UnidirectionalEdgeBoundary:ti,_getH3UnidirectionalEdgesFromHexagon:wr,_getOriginH3IndexFromUnidirectionalEdge:Pt,_getPentagonIndexes:mu,_getRes0Indexes:Yu,_h3Distance:Ur,_h3GetBaseCell:Zc,_h3GetFaces:zf,_h3GetResolution:ko,_h3IndexesAreNeighbors:Qs,_h3IsPentagon:Ui,_h3IsResClassIII:ic,_h3IsValid:hu,_h3Line:To,_h3LineSize:ac,_h3SetToLinkedGeo:Dp,_h3ToCenterChild:Xc,_h3ToChildren:po,_h3ToGeo:fs,_h3ToGeoBoundary:Gs,_h3ToParent:pl,_h3UnidirectionalEdgeIsValid:qt,_hexAreaKm2:zl,_hexAreaM2:zp,_hexRing:ls,_i64Subtract:Jo,_kRing:Wo,_kRingDistances:ss,_llvm_minnum_f64:Po,_llvm_round_f64:Ga,_malloc:Pi,_maxFaceCount:Up,_maxH3ToChildrenSize:Bf,_maxKringSize:Co,_maxPolyfillSize:wi,_maxUncompactSize:hl,_memcpy:zo,_memset:$i,_numHexagons:tc,_pentagonIndexCount:Yc,_pointDistKm:ec,_pointDistM:cl,_pointDistRads:Bp,_polyfill:Ni,_res0IndexCount:$c,_round:Vp,_sbrk:ta,_sizeOfCoordIJ:un,_sizeOfGeoBoundary:Ks,_sizeOfGeoCoord:Ws,_sizeOfGeoPolygon:yu,_sizeOfGeofence:Fo,_sizeOfH3Index:$a,_sizeOfLinkedGeoPolygon:Yo,_uncompact:Au,establishStackSpace:ca,stackAlloc:as,stackRestore:si,stackSave:ua}}(la,La,Xe);t.___uremdi3=Ht.___uremdi3,t._bitshift64Lshr=Ht._bitshift64Lshr,t._bitshift64Shl=Ht._bitshift64Shl,t._calloc=Ht._calloc,t._cellAreaKm2=Ht._cellAreaKm2,t._cellAreaM2=Ht._cellAreaM2,t._cellAreaRads2=Ht._cellAreaRads2,t._compact=Ht._compact,t._destroyLinkedPolygon=Ht._destroyLinkedPolygon,t._edgeLengthKm=Ht._edgeLengthKm,t._edgeLengthM=Ht._edgeLengthM;var Ci=t._emscripten_replace_memory=Ht._emscripten_replace_memory;t._exactEdgeLengthKm=Ht._exactEdgeLengthKm,t._exactEdgeLengthM=Ht._exactEdgeLengthM,t._exactEdgeLengthRads=Ht._exactEdgeLengthRads,t._experimentalH3ToLocalIj=Ht._experimentalH3ToLocalIj,t._experimentalLocalIjToH3=Ht._experimentalLocalIjToH3,t._free=Ht._free,t._geoToH3=Ht._geoToH3,t._getDestinationH3IndexFromUnidirectionalEdge=Ht._getDestinationH3IndexFromUnidirectionalEdge,t._getH3IndexesFromUnidirectionalEdge=Ht._getH3IndexesFromUnidirectionalEdge,t._getH3UnidirectionalEdge=Ht._getH3UnidirectionalEdge,t._getH3UnidirectionalEdgeBoundary=Ht._getH3UnidirectionalEdgeBoundary,t._getH3UnidirectionalEdgesFromHexagon=Ht._getH3UnidirectionalEdgesFromHexagon,t._getOriginH3IndexFromUnidirectionalEdge=Ht._getOriginH3IndexFromUnidirectionalEdge,t._getPentagonIndexes=Ht._getPentagonIndexes,t._getRes0Indexes=Ht._getRes0Indexes,t._h3Distance=Ht._h3Distance,t._h3GetBaseCell=Ht._h3GetBaseCell,t._h3GetFaces=Ht._h3GetFaces,t._h3GetResolution=Ht._h3GetResolution,t._h3IndexesAreNeighbors=Ht._h3IndexesAreNeighbors,t._h3IsPentagon=Ht._h3IsPentagon,t._h3IsResClassIII=Ht._h3IsResClassIII,t._h3IsValid=Ht._h3IsValid,t._h3Line=Ht._h3Line,t._h3LineSize=Ht._h3LineSize,t._h3SetToLinkedGeo=Ht._h3SetToLinkedGeo,t._h3ToCenterChild=Ht._h3ToCenterChild,t._h3ToChildren=Ht._h3ToChildren,t._h3ToGeo=Ht._h3ToGeo,t._h3ToGeoBoundary=Ht._h3ToGeoBoundary,t._h3ToParent=Ht._h3ToParent,t._h3UnidirectionalEdgeIsValid=Ht._h3UnidirectionalEdgeIsValid,t._hexAreaKm2=Ht._hexAreaKm2,t._hexAreaM2=Ht._hexAreaM2,t._hexRing=Ht._hexRing,t._i64Subtract=Ht._i64Subtract,t._kRing=Ht._kRing,t._kRingDistances=Ht._kRingDistances,t._llvm_minnum_f64=Ht._llvm_minnum_f64,t._llvm_round_f64=Ht._llvm_round_f64,t._malloc=Ht._malloc,t._maxFaceCount=Ht._maxFaceCount,t._maxH3ToChildrenSize=Ht._maxH3ToChildrenSize,t._maxKringSize=Ht._maxKringSize,t._maxPolyfillSize=Ht._maxPolyfillSize,t._maxUncompactSize=Ht._maxUncompactSize,t._memcpy=Ht._memcpy,t._memset=Ht._memset,t._numHexagons=Ht._numHexagons,t._pentagonIndexCount=Ht._pentagonIndexCount,t._pointDistKm=Ht._pointDistKm,t._pointDistM=Ht._pointDistM,t._pointDistRads=Ht._pointDistRads,t._polyfill=Ht._polyfill,t._res0IndexCount=Ht._res0IndexCount,t._round=Ht._round,t._sbrk=Ht._sbrk,t._sizeOfCoordIJ=Ht._sizeOfCoordIJ,t._sizeOfGeoBoundary=Ht._sizeOfGeoBoundary,t._sizeOfGeoCoord=Ht._sizeOfGeoCoord,t._sizeOfGeoPolygon=Ht._sizeOfGeoPolygon,t._sizeOfGeofence=Ht._sizeOfGeofence,t._sizeOfH3Index=Ht._sizeOfH3Index,t._sizeOfLinkedGeoPolygon=Ht._sizeOfLinkedGeoPolygon,t._uncompact=Ht._uncompact,t.establishStackSpace=Ht.establishStackSpace;var zr=t.stackAlloc=Ht.stackAlloc,J=t.stackRestore=Ht.stackRestore,ae=t.stackSave=Ht.stackSave;if(t.asm=Ht,t.cwrap=ne,t.setValue=U,t.getValue=q,t.getTempRet0=F,Wr){io(Wr)||(Wr=l(Wr));{Ss();var fe=function(oe){oe.byteLength&&(oe=new Uint8Array(oe)),yt.set(oe,z),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,ro()},ve=function(){o(Wr,fe,function(){throw"could not load memory initializer "+Wr})},Ie=Jr(Wr);if(Ie)fe(Ie.buffer);else if(t.memoryInitializerRequest){var je=function(){var oe=t.memoryInitializerRequest,Ve=oe.response;if(oe.status!==200&&oe.status!==0){var lt=Jr(t.memoryInitializerRequestURL);if(lt)Ve=lt.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+oe.status+", retrying "+Wr),ve();return}}fe(Ve)};t.memoryInitializerRequest.response?setTimeout(je,0):t.memoryInitializerRequest.addEventListener("load",je)}else ve()}}var qe;Wi=function oe(){qe||Ue(),qe||(Wi=oe)};function Ue(oe){if(Bi>0||(En(),Bi>0))return;function Ve(){qe||(qe=!0,!K&&(jn(),Fn(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Xr()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Ve()},1)):Ve()}t.run=Ue;function xe(oe){throw t.onAbort&&t.onAbort(oe),oe+="",x(oe),S(oe),K=!0,"abort("+oe+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=xe,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ue(),e}(typeof zu=="object"?zu:{}),Yn="number",og=Yn,hr=Yn,Mr=Yn,El=Yn,ui=Yn,Ule=[["sizeOfH3Index",Yn],["sizeOfGeoCoord",Yn],["sizeOfGeoBoundary",Yn],["sizeOfGeoPolygon",Yn],["sizeOfGeofence",Yn],["sizeOfLinkedGeoPolygon",Yn],["sizeOfCoordIJ",Yn],["h3IsValid",og,[hr,Mr]],["geoToH3",hr,[Yn,Yn,El]],["h3ToGeo",null,[hr,Mr,ui]],["h3ToGeoBoundary",null,[hr,Mr,ui]],["maxKringSize",Yn,[Yn]],["kRing",null,[hr,Mr,Yn,ui]],["kRingDistances",null,[hr,Mr,Yn,ui,ui]],["hexRing",null,[hr,Mr,Yn,ui]],["maxPolyfillSize",Yn,[ui,El]],["polyfill",null,[ui,El,ui]],["h3SetToLinkedGeo",null,[ui,Yn,ui]],["destroyLinkedPolygon",null,[ui]],["compact",Yn,[ui,ui,Yn]],["uncompact",Yn,[ui,Yn,ui,Yn,El]],["maxUncompactSize",Yn,[ui,Yn,El]],["h3IsPentagon",og,[hr,Mr]],["h3IsResClassIII",og,[hr,Mr]],["h3GetBaseCell",Yn,[hr,Mr]],["h3GetResolution",Yn,[hr,Mr]],["maxFaceCount",Yn,[hr,Mr]],["h3GetFaces",null,[hr,Mr,ui]],["h3ToParent",hr,[hr,Mr,El]],["h3ToChildren",null,[hr,Mr,El,ui]],["h3ToCenterChild",hr,[hr,Mr,El]],["maxH3ToChildrenSize",Yn,[hr,Mr,El]],["h3IndexesAreNeighbors",og,[hr,Mr,hr,Mr]],["getH3UnidirectionalEdge",hr,[hr,Mr,hr,Mr]],["getOriginH3IndexFromUnidirectionalEdge",hr,[hr,Mr]],["getDestinationH3IndexFromUnidirectionalEdge",hr,[hr,Mr]],["h3UnidirectionalEdgeIsValid",og,[hr,Mr]],["getH3IndexesFromUnidirectionalEdge",null,[hr,Mr,ui]],["getH3UnidirectionalEdgesFromHexagon",null,[hr,Mr,ui]],["getH3UnidirectionalEdgeBoundary",null,[hr,Mr,ui]],["h3Distance",Yn,[hr,Mr,hr,Mr]],["h3Line",Yn,[hr,Mr,hr,Mr,ui]],["h3LineSize",Yn,[hr,Mr,hr,Mr]],["experimentalH3ToLocalIj",Yn,[hr,Mr,hr,Mr,ui]],["experimentalLocalIjToH3",Yn,[hr,Mr,ui,ui]],["hexAreaM2",Yn,[El]],["hexAreaKm2",Yn,[El]],["edgeLengthM",Yn,[El]],["edgeLengthKm",Yn,[El]],["pointDistM",Yn,[ui,ui]],["pointDistKm",Yn,[ui,ui]],["pointDistRads",Yn,[ui,ui]],["cellAreaM2",Yn,[hr,Mr]],["cellAreaKm2",Yn,[hr,Mr]],["cellAreaRads2",Yn,[hr,Mr]],["exactEdgeLengthM",Yn,[hr,Mr]],["exactEdgeLengthKm",Yn,[hr,Mr]],["exactEdgeLengthRads",Yn,[hr,Mr]],["numHexagons",Yn,[El]],["getRes0Indexes",null,[ui]],["res0IndexCount",Yn],["getPentagonIndexes",null,[Yn,ui]],["pentagonIndexCount",Yn]],Of={};Ule.forEach(function(t){Of[t[0]]=zu.cwrap.apply(zu,t)});var y0=16,hy=8;Of.sizeOfH3Index();var jle=Of.sizeOfGeoCoord(),$le=Of.sizeOfGeoBoundary();Of.sizeOfGeoPolygon();Of.sizeOfGeofence();Of.sizeOfLinkedGeoPolygon();Of.sizeOfCoordIJ();var Vle=/[^0-9a-fA-F]/;function Hle(e){if(Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if(typeof e!="string"||Vle.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),y0),n=parseInt(e.substring(e.length-8),y0);return[n,t]}function pP(e){if(e>=0)return e.toString(y0);e=e&2147483647;var t=ED(8,e.toString(y0)),n=(parseInt(t[0],y0)+8).toString(y0);return t=n+t.substring(1),t}function qle(e,t){return pP(t)+ED(8,pP(e))}function ED(e,t){for(var n=e-t.length,i="",s=0;s<n;s++)i+="0";return i=i+t,i}function Gle(e){var t=zu.getTempRet0();return[e,t]}function Qle(e){var t=Gle(e),n=t[0],i=t[1];return i?qle(n,i):null}function v2(e){return eue(zu.getValue(e,"double"))}function Wle(e){return[v2(e),v2(e+hy)]}function Kle(e){return[v2(e+hy),v2(e)]}function Zle(e,t,n){for(var i=zu.getValue(e,"i32"),s=e+hy,l=[],o=t?Kle:Wle,x=0;x<i*2;x+=2)l.push(o(s+hy*x));return n&&l.push(l[0]),l}function Xle(e,t,n){var i=zu._malloc(jle);zu.HEAPF64.set([e,t].map(Jle),i/hy);var s=Qle(Of.geoToH3(i,n));return zu._free(i),s}function Yle(e,t){var n=zu._malloc($le),i=Hle(e),s=i[0],l=i[1];Of.h3ToGeoBoundary(s,l,n);var o=Zle(n,t,t);return zu._free(n),o}function Jle(e){return e*Math.PI/180}function eue(e){return e*180/Math.PI}var k4={},tue={get exports(){return k4},set exports(e){k4=e}};(function(e,t){(function(n,i){e.exports=i()})(Ru,function(){var n,i,s;function l(o,x){if(!n)n=x;else if(!i)i=x;else{var S="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",T={};n(T),s=x(T),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return l(["exports"],function(o){function x(r,a){return r(a={exports:{}},a.exports),a.exports}var S=T;function T(r,a,u,g){this.cx=3*r,this.bx=3*(u-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(g-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=g,this.p2x=u,this.p2y=g}T.prototype.sampleCurveX=function(r){return((this.ax*r+this.bx)*r+this.cx)*r},T.prototype.sampleCurveY=function(r){return((this.ay*r+this.by)*r+this.cy)*r},T.prototype.sampleCurveDerivativeX=function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},T.prototype.solveCurveX=function(r,a){var u,g,b,E,P;for(a===void 0&&(a=1e-6),b=r,P=0;P<8;P++){if(E=this.sampleCurveX(b)-r,Math.abs(E)<a)return b;var B=this.sampleCurveDerivativeX(b);if(Math.abs(B)<1e-6)break;b-=E/B}if((b=r)<(u=0))return u;if(b>(g=1))return g;for(;u<g;){if(E=this.sampleCurveX(b),Math.abs(E-r)<a)return b;r>E?u=b:g=b,b=.5*(g-u)+u}return b},T.prototype.solve=function(r,a){return this.sampleCurveY(this.solveCurveX(r,a))};var M=F;function F(r,a){this.x=r,this.y=a}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,a){return this.clone()._rotateAround(r,a)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var a=r.x-this.x,u=r.y-this.y;return a*a+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,a){return Math.atan2(this.x*a-this.y*r,this.x*r+this.y*a)},_matMult:function(r){var a=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=a,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var a=Math.cos(r),u=Math.sin(r),g=u*this.x+a*this.y;return this.x=a*this.x-u*this.y,this.y=g,this},_rotateAround:function(r,a){var u=Math.cos(r),g=Math.sin(r),b=a.y+g*(this.x-a.x)+u*(this.y-a.y);return this.x=a.x+u*(this.x-a.x)-g*(this.y-a.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},F.convert=function(r){return r instanceof F?r:Array.isArray(r)?new F(r[0],r[1]):r};var z=typeof self<"u"?self:{},U=Math.pow(2,53)-1;function q(r,a,u,g){var b=new S(r,a,u,g);return function(E){return b.solve(E)}}var K=q(.25,.1,.25,1);function ee(r,a,u){return Math.min(u,Math.max(a,r))}function V(r,a,u){var g=u-a,b=((r-a)%g+g)%g+a;return b===a?u:b}function X(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var g=0,b=a;g<b.length;g+=1){var E=b[g];for(var P in E)r[P]=E[P]}return r}var ne=1;function he(){return ne++}function pe(){return function r(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function le(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function be(r,a){r.forEach(function(u){a[u]&&(a[u]=a[u].bind(a))})}function Se(r,a){return r.indexOf(a,r.length-a.length)!==-1}function De(r,a,u){var g={};for(var b in r)g[b]=a.call(u||this,r[b],b,r);return g}function tt(r,a,u){var g={};for(var b in r)a.call(u||this,r[b],b,r)&&(g[b]=r[b]);return g}function Xe(r){return Array.isArray(r)?r.map(Xe):typeof r=="object"&&r?De(r,Xe):r}var at={};function yt(r){at[r]||(typeof console<"u"&&console.warn(r),at[r]=!0)}function Ot(r,a,u){return(u.y-r.y)*(a.x-r.x)>(a.y-r.y)*(u.x-r.x)}function Vt(r){for(var a=0,u=0,g=r.length,b=g-1,E=void 0,P=void 0;u<g;b=u++)a+=((P=r[b]).x-(E=r[u]).x)*(E.y+P.y);return a}function Jt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bn(r){var a={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,b,E,P){var B=E||P;return a[b]=!B||B.toLowerCase(),""}),a["max-age"]){var u=parseInt(a["max-age"],10);isNaN(u)?delete a["max-age"]:a["max-age"]=u}return a}var st=null;function Me(r){if(st==null){var a=r.navigator?r.navigator.userAgent:null;st=!!r.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return st}function Le(r){try{var a=z[r];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}var re,ge,Mt,en,vn=z.performance&&z.performance.now?z.performance.now.bind(z.performance):Date.now.bind(Date),dn=z.requestAnimationFrame||z.mozRequestAnimationFrame||z.webkitRequestAnimationFrame||z.msRequestAnimationFrame,En=z.cancelAnimationFrame||z.mozCancelAnimationFrame||z.webkitCancelAnimationFrame||z.msCancelAnimationFrame,jn={now:vn,frame:function(r){var a=dn(r);return{cancel:function(){return En(a)}}},getImageData:function(r,a){a===void 0&&(a=0);var u=z.document.createElement("canvas"),g=u.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return u.width=r.width,u.height=r.height,g.drawImage(r,0,0,r.width,r.height),g.getImageData(-a,-a,r.width+2*a,r.height+2*a)},resolveURL:function(r){return re||(re=z.document.createElement("a")),re.href=r,re.href},hardwareConcurrency:z.navigator&&z.navigator.hardwareConcurrency||4,get devicePixelRatio(){return z.devicePixelRatio},get prefersReducedMotion(){return!!z.matchMedia&&(ge==null&&(ge=z.matchMedia("(prefers-reduced-motion: reduce)")),ge.matches)}},Fn={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Xr={supported:!1,testSupport:function(r){!jr&&en&&(Fi?$n(r):Mt=r)}},jr=!1,Fi=!1;function $n(r){var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,en),r.isContextLost())return;Xr.supported=!0}catch{}r.deleteTexture(a),jr=!0}z.document&&((en=z.document.createElement("img")).onload=function(){Mt&&$n(Mt),Mt=null,Fi=!0},en.onerror=function(){jr=!0,Mt=null},en.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var mi="01",gi=function(r,a){this._transformRequestFn=r,this._customAccessToken=a,this._createSkuToken()};function Go(r){return r.indexOf("mapbox:")===0}gi.prototype._createSkuToken=function(){var r=function(){for(var a="",u=0;u<10;u++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",mi,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(r,a){return this._transformRequestFn&&this._transformRequestFn(r,a)||{url:r}},gi.prototype.normalizeStyleURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeGlyphsURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeSourceURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeSpriteURL=function(r,a,u,g){var b=ro(r);return Go(r)?(b.path="/styles/v1"+b.path+"/sprite"+a+u,this._makeAPIURL(b,this._customAccessToken||g)):(b.path+=""+a+u,Wr(b))},gi.prototype.normalizeTileURL=function(r,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Go(r))return r;var u=ro(r);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,(jn.devicePixelRatio>=2||a===512?"@2x":"")+(Xr.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var g=this._customAccessToken||function(b){for(var E=0,P=b;E<P.length;E+=1){var B=P[E].match(/^access_token=(.*)$/);if(B)return B[1]}return null}(u.params)||Fn.ACCESS_TOKEN;return Fn.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,g)},gi.prototype.canonicalizeTileURL=function(r,a){var u=ro(r);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return r;var g="mapbox://tiles/";g+=u.path.replace("/v4/","");var b=u.params;return a&&(b=b.filter(function(E){return!E.match(/^access_token=/)})),b.length&&(g+="?"+b.join("&")),g},gi.prototype.canonicalizeTileset=function(r,a){for(var u=!!a&&Go(a),g=[],b=0,E=r.tiles||[];b<E.length;b+=1){var P=E[b];Wi(P)?g.push(this.canonicalizeTileURL(P,u)):g.push(P)}return g},gi.prototype._makeAPIURL=function(r,a){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=ro(Fn.API_URL);if(r.protocol=g.protocol,r.authority=g.authority,r.protocol==="http"){var b=r.params.indexOf("secure");b>=0&&r.params.splice(b,1)}if(g.path!=="/"&&(r.path=""+g.path+r.path),!Fn.REQUIRE_ACCESS_TOKEN)return Wr(r);if(!(a=a||Fn.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if(a[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return r.params=r.params.filter(function(E){return E.indexOf("access_token")===-1}),r.params.push("access_token="+a),Wr(r)},gi.prototype.setTransformRequest=function(r){this._transformRequestFn=r};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wi(r){return Bi.test(r)}var Ss=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ro(r){var a=r.match(Ss);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function Wr(r){var a=r.params.length?"?"+r.params.join("&"):"";return r.protocol+"://"+r.authority+r.path+a}function Lo(r){if(!r)return null;var a=r.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(z.atob(a[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var io=function(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};io.prototype.getStorageKey=function(r){var a,u=Lo(Fn.ACCESS_TOKEN);return a=u&&u.u?z.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(g,b){return String.fromCharCode(Number("0x"+b))})):Fn.ACCESS_TOKEN||"",r?"mapbox.eventData."+r+":"+a:"mapbox.eventData:"+a},io.prototype.fetchEventData=function(){var r=Le("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{var g=z.localStorage.getItem(a);g&&(this.eventData=JSON.parse(g));var b=z.localStorage.getItem(u);b&&(this.anonId=b)}catch{yt("Unable to read from LocalStorage")}},io.prototype.saveEventData=function(){var r=Le("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{z.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&z.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{yt("Unable to write to LocalStorage")}},io.prototype.processRequests=function(r){},io.prototype.postEvent=function(r,a,u,g){var b=this;if(Fn.EVENTS_URL){var E=ro(Fn.EVENTS_URL);E.params.push("access_token="+(g||Fn.ACCESS_TOKEN||""));var P={event:this.type,created:new Date(r).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.15.3",skuId:mi,userId:this.anonId},B=a?X(P,a):P,$={url:Wr(E),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=J($,function(W){b.pendingRequest=null,u(W),b.saveEventData(),b.processRequests(g)})}},io.prototype.queueRequest=function(r,a){this.queue.push(r),this.processRequests(a)};var bi,Ro,sa=function(r){function a(){r.call(this,"map.load"),this.success={},this.skuToken=""}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.postMapLoadEvent=function(u,g,b,E){this.skuToken=b,(Fn.EVENTS_URL&&E||Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(P){return Go(P)||Wi(P)}))&&this.queueRequest({id:g,timestamp:Date.now()},E)},a.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var b=this.queue.shift(),E=b.id,P=b.timestamp;E&&this.success[E]||(this.anonId||this.fetchEventData(),le(this.anonId)||(this.anonId=pe()),this.postEvent(P,{skuToken:this.skuToken},function(B){B||E&&(g.success[E]=!0)},u))}},a}(io),vt=new(function(r){function a(u){r.call(this,"appUserTurnstile"),this._customAccessToken=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.postTurnstileEvent=function(u,g){Fn.EVENTS_URL&&Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(b){return Go(b)||Wi(b)})&&this.queueRequest(Date.now(),g)},a.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Lo(Fn.ACCESS_TOKEN),E=b?b.u:Fn.ACCESS_TOKEN,P=E!==this.eventData.tokenU;le(this.anonId)||(this.anonId=pe(),P=!0);var B=this.queue.shift();if(this.eventData.lastSuccess){var $=new Date(this.eventData.lastSuccess),W=new Date(B),Z=(B-this.eventData.lastSuccess)/864e5;P=P||Z>=1||Z<-1||$.getDate()!==W.getDate()}else P=!0;if(!P)return this.processRequests();this.postEvent(B,{"enabled.telemetry":!1},function(Y){Y||(g.eventData.lastSuccess=B,g.eventData.tokenU=E)},u)}},a}(io)),we=vt.postTurnstileEvent.bind(vt),Je=new sa,Et=Je.postMapLoadEvent.bind(Je),ln=500,Gn=50;function Ir(){z.caches&&!bi&&(bi=z.caches.open("mapbox-tiles"))}function Mn(r){var a=r.indexOf("?");return a<0?r:r.slice(0,a)}var nr,$r=1/0;function Yr(){return nr==null&&(nr=z.OffscreenCanvas&&new z.OffscreenCanvas(1,1).getContext("2d")&&typeof z.createImageBitmap=="function"),nr}var dr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(dr);var Eo=function(r){function a(u,g,b){g===401&&Wi(b)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),r.call(this,u),this.status=g,this.url=b,this.name=this.constructor.name,this.message=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},a}(Error),Jr=Jt()?function(){return self.worker&&self.worker.referrer}:function(){return(z.location.protocol==="blob:"?z.parent:z).location.href};function la(r,a){var u,g=new z.AbortController,b=new z.Request(r.url,{method:r.method||"GET",body:r.body,credentials:r.credentials,headers:r.headers,referrer:Jr(),signal:g.signal}),E=!1,P=!1,B=(u=b.url).indexOf("sku=")>0&&Wi(u);r.type==="json"&&b.headers.set("Accept","application/json");var $=function(Z,Y,ue){if(!P){if(Z&&Z.message!=="SecurityError"&&yt(Z),Y&&ue)return W(Y);var Ae=Date.now();z.fetch(b).then(function(Ce){if(Ce.ok){var ke=B?Ce.clone():null;return W(Ce,ke,Ae)}return a(new Eo(Ce.statusText,Ce.status,r.url))}).catch(function(Ce){Ce.code!==20&&a(new Error(Ce.message))})}},W=function(Z,Y,ue){(r.type==="arrayBuffer"?Z.arrayBuffer():r.type==="json"?Z.json():Z.text()).then(function(Ae){P||(Y&&ue&&function(Ce,ke,He){if(Ir(),bi){var Fe={status:ke.status,statusText:ke.statusText,headers:new z.Headers};ke.headers.forEach(function(it,ft){return Fe.headers.set(ft,it)});var nt=bn(ke.headers.get("Cache-Control")||"");nt["no-store"]||(nt["max-age"]&&Fe.headers.set("Expires",new Date(He+1e3*nt["max-age"]).toUTCString()),new Date(Fe.headers.get("Expires")).getTime()-He<42e4||function(it,ft){if(Ro===void 0)try{new Response(new ReadableStream),Ro=!0}catch{Ro=!1}Ro?ft(it.body):it.blob().then(ft)}(ke,function(it){var ft=new z.Response(it,Fe);Ir(),bi&&bi.then(function(pt){return pt.put(Mn(Ce.url),ft)}).catch(function(pt){return yt(pt.message)})}))}}(b,Y,ue),E=!0,a(null,Ae,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(function(Ae){P||a(new Error(Ae.message))})};return B?function(Z,Y){if(Ir(),!bi)return Y(null);var ue=Mn(Z.url);bi.then(function(Ae){Ae.match(ue).then(function(Ce){var ke=function(He){if(!He)return!1;var Fe=new Date(He.headers.get("Expires")||0),nt=bn(He.headers.get("Cache-Control")||"");return Fe>Date.now()&&!nt["no-cache"]}(Ce);Ae.delete(ue),ke&&Ae.put(ue,Ce.clone()),Y(null,Ce,ke)}).catch(Y)}).catch(Y)}(b,$):$(null,null),{cancel:function(){P=!0,E||g.abort()}}}var La,Ht,Ci=function(r,a){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){if(Jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,a);if(!Jt()){var u=r.url.substring(0,r.url.indexOf("://"));return(Fn.REGISTERED_PROTOCOLS[u]||la)(r,a)}}if(!(/^file:/.test(g=r.url)||/^file:/.test(Jr())&&!/^\w+:/.test(g))){if(z.fetch&&z.Request&&z.AbortController&&z.Request.prototype.hasOwnProperty("signal"))return la(r,a);if(Jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,a,void 0,!0)}var g;return function(b,E){var P=new z.XMLHttpRequest;for(var B in P.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(P.responseType="arraybuffer"),b.headers)P.setRequestHeader(B,b.headers[B]);return b.type==="json"&&(P.responseType="text",P.setRequestHeader("Accept","application/json")),P.withCredentials=b.credentials==="include",P.onerror=function(){E(new Error(P.statusText))},P.onload=function(){if((P.status>=200&&P.status<300||P.status===0)&&P.response!==null){var $=P.response;if(b.type==="json")try{$=JSON.parse(P.response)}catch(W){return E(W)}E(null,$,P.getResponseHeader("Cache-Control"),P.getResponseHeader("Expires"))}else E(new Eo(P.statusText,P.status,b.url))},P.send(b.body),{cancel:function(){return P.abort()}}}(r,a)},zr=function(r,a){return Ci(X(r,{type:"arrayBuffer"}),a)},J=function(r,a){return Ci(X(r,{method:"POST"}),a)},ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";La=[],Ht=0;var fe=function(r,a){if(Xr.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Ht>=Fn.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:r,callback:a,cancelled:!1,cancel:function(){this.cancelled=!0}};return La.push(u),u}Ht++;var g=!1,b=function(){if(!g)for(g=!0,Ht--;La.length&&Ht<Fn.MAX_PARALLEL_IMAGE_REQUESTS;){var P=La.shift();P.cancelled||(P.cancel=fe(P.requestParameters,P.callback).cancel)}},E=zr(r,function(P,B,$,W){b(),P?a(P):B&&(Yr()?function(Z,Y){var ue=new z.Blob([new Uint8Array(Z)],{type:"image/png"});z.createImageBitmap(ue).then(function(Ae){Y(null,Ae)}).catch(function(Ae){Y(new Error("Could not load image because of "+Ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(B,a):function(Z,Y,ue,Ae){var Ce=new z.Image,ke=z.URL;Ce.onload=function(){Y(null,Ce),ke.revokeObjectURL(Ce.src),Ce.onload=null,z.requestAnimationFrame(function(){Ce.src=ae})},Ce.onerror=function(){return Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var He=new z.Blob([new Uint8Array(Z)],{type:"image/png"});Ce.cacheControl=ue,Ce.expires=Ae,Ce.src=Z.byteLength?ke.createObjectURL(He):ae}(B,a,$,W))});return{cancel:function(){E.cancel(),b()}}};function ve(r,a,u){u[r]&&u[r].indexOf(a)!==-1||(u[r]=u[r]||[],u[r].push(a))}function Ie(r,a,u){if(u&&u[r]){var g=u[r].indexOf(a);g!==-1&&u[r].splice(g,1)}}var je=function(r,a){a===void 0&&(a={}),X(this,a),this.type=r},qe=function(r){function a(u,g){g===void 0&&(g={}),r.call(this,"error",X({error:u},g))}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(je),Ue=function(){};Ue.prototype.on=function(r,a){return this._listeners=this._listeners||{},ve(r,a,this._listeners),this},Ue.prototype.off=function(r,a){return Ie(r,a,this._listeners),Ie(r,a,this._oneTimeListeners),this},Ue.prototype.once=function(r,a){return this._oneTimeListeners=this._oneTimeListeners||{},ve(r,a,this._oneTimeListeners),this},Ue.prototype.fire=function(r,a){typeof r=="string"&&(r=new je(r,a||{}));var u=r.type;if(this.listens(u)){r.target=this;for(var g=0,b=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];g<b.length;g+=1)b[g].call(this,r);for(var E=0,P=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];E<P.length;E+=1){var B=P[E];Ie(u,B,this._oneTimeListeners),B.call(this,r)}var $=this._eventedParent;$&&(X(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),$.fire(r))}else r instanceof qe&&console.error(r.error);return this},Ue.prototype.listens=function(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)},Ue.prototype.setEventedParent=function(r,a){return this._eventedParent=r,this._eventedParentData=a,this};var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},oe=function(r,a,u,g){this.message=(r?r+": ":"")+u,g&&(this.identifier=g),a!=null&&a.__line__&&(this.line=a.__line__)};function Ve(r){var a=r.value;return a?[new oe(r.key,a,"constants have been deprecated as of v8")]:[]}function lt(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var g=0,b=a;g<b.length;g+=1){var E=b[g];for(var P in E)r[P]=E[P]}return r}function Qe(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function A(r){if(Array.isArray(r))return r.map(A);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){var a={};for(var u in r)a[u]=A(r[u]);return a}return Qe(r)}var ye=function(r){function a(u,g){r.call(this,g),this.message=g,this.key=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(Error),Lt=function(r,a){a===void 0&&(a=[]),this.parent=r,this.bindings={};for(var u=0,g=a;u<g.length;u+=1){var b=g[u];this.bindings[b[0]]=b[1]}};Lt.prototype.concat=function(r){return new Lt(this,r)},Lt.prototype.get=function(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(r+" not found in scope.")},Lt.prototype.has=function(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)};var jt={kind:"null"},ct={kind:"number"},It={kind:"string"},xt={kind:"boolean"},hn={kind:"color"},fn={kind:"object"},Qt={kind:"value"},Ar={kind:"collator"},Jn={kind:"formatted"},Rr={kind:"resolvedImage"};function mr(r,a){return{kind:"array",itemType:r,N:a}}function sr(r){if(r.kind==="array"){var a=sr(r.itemType);return typeof r.N=="number"?"array<"+a+", "+r.N+">":r.itemType.kind==="value"?"array":"array<"+a+">"}return r.kind}var yr=[jt,ct,It,xt,hn,Jn,fn,mr(Qt),Rr];function Ai(r,a){if(a.kind==="error")return null;if(r.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Ai(r.itemType,a.itemType))&&(typeof r.N!="number"||r.N===a.N))return null}else{if(r.kind===a.kind)return null;if(r.kind==="value"){for(var u=0,g=yr;u<g.length;u+=1)if(!Ai(g[u],a))return null}}return"Expected "+sr(r)+" but found "+sr(a)+" instead."}function br(r,a){return a.some(function(u){return u.kind===r.kind})}function Xt(r,a){return a.some(function(u){return u==="null"?r===null:u==="array"?Array.isArray(r):u==="object"?r&&!Array.isArray(r)&&typeof r=="object":u===typeof r})}var Ge=x(function(r,a){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(B){return(B=Math.round(B))<0?0:B>255?255:B}function b(B){return g(B[B.length-1]==="%"?parseFloat(B)/100*255:parseInt(B))}function E(B){return($=B[B.length-1]==="%"?parseFloat(B)/100:parseFloat(B))<0?0:$>1?1:$;var $}function P(B,$,W){return W<0?W+=1:W>1&&(W-=1),6*W<1?B+($-B)*W*6:2*W<1?$:3*W<2?B+($-B)*(2/3-W)*6:B}try{a.parseCSSColor=function(B){var $,W=B.replace(/ /g,"").toLowerCase();if(W in u)return u[W].slice();if(W[0]==="#")return W.length===4?($=parseInt(W.substr(1),16))>=0&&$<=4095?[(3840&$)>>4|(3840&$)>>8,240&$|(240&$)>>4,15&$|(15&$)<<4,1]:null:W.length===7&&($=parseInt(W.substr(1),16))>=0&&$<=16777215?[(16711680&$)>>16,(65280&$)>>8,255&$,1]:null;var Z=W.indexOf("("),Y=W.indexOf(")");if(Z!==-1&&Y+1===W.length){var ue=W.substr(0,Z),Ae=W.substr(Z+1,Y-(Z+1)).split(","),Ce=1;switch(ue){case"rgba":if(Ae.length!==4)return null;Ce=E(Ae.pop());case"rgb":return Ae.length!==3?null:[b(Ae[0]),b(Ae[1]),b(Ae[2]),Ce];case"hsla":if(Ae.length!==4)return null;Ce=E(Ae.pop());case"hsl":if(Ae.length!==3)return null;var ke=(parseFloat(Ae[0])%360+360)%360/360,He=E(Ae[1]),Fe=E(Ae[2]),nt=Fe<=.5?Fe*(He+1):Fe+He-Fe*He,it=2*Fe-nt;return[g(255*P(it,nt,ke+1/3)),g(255*P(it,nt,ke)),g(255*P(it,nt,ke-1/3)),Ce];default:return null}}return null}}catch{}}).parseCSSColor,wn=function(r,a,u,g){g===void 0&&(g=1),this.r=r,this.g=a,this.b=u,this.a=g};wn.parse=function(r){if(r){if(r instanceof wn)return r;if(typeof r=="string"){var a=Ge(r);if(a)return new wn(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3])}}},wn.prototype.toString=function(){var r=this.toArray(),a=r[1],u=r[2],g=r[3];return"rgba("+Math.round(r[0])+","+Math.round(a)+","+Math.round(u)+","+g+")"},wn.prototype.toArray=function(){var r=this.a;return r===0?[0,0,0,0]:[255*this.r/r,255*this.g/r,255*this.b/r,r]},wn.black=new wn(0,0,0,1),wn.white=new wn(1,1,1,1),wn.transparent=new wn(0,0,0,0),wn.red=new wn(1,0,0,1);var al=function(r,a,u){this.sensitivity=r?a?"variant":"case":a?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};al.prototype.compare=function(r,a){return this.collator.compare(r,a)},al.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var zc=function(r,a,u,g,b){this.text=r,this.image=a,this.scale=u,this.fontStack=g,this.textColor=b},oo=function(r){this.sections=r};oo.fromString=function(r){return new oo([new zc(r,null,null,null,null)])},oo.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(r){return r.text.length!==0||r.image&&r.image.name.length!==0})},oo.factory=function(r){return r instanceof oo?r:oo.fromString(r)},oo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(r){return r.text}).join("")},oo.prototype.serialize=function(){for(var r=["format"],a=0,u=this.sections;a<u.length;a+=1){var g=u[a];if(g.image)r.push(["image",g.image.name]);else{r.push(g.text);var b={};g.fontStack&&(b["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(b["font-scale"]=g.scale),g.textColor&&(b["text-color"]=["rgba"].concat(g.textColor.toArray())),r.push(b)}}return r};var Qo=function(r){this.name=r.name,this.available=r.available};function Nc(r,a,u,g){return typeof r=="number"&&r>=0&&r<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof u=="number"&&u>=0&&u<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[r,a,u,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[r,a,u,g]:[r,a,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Re(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof wn||r instanceof al||r instanceof oo||r instanceof Qo)return!0;if(Array.isArray(r)){for(var a=0,u=r;a<u.length;a+=1)if(!Re(u[a]))return!1;return!0}if(typeof r=="object"){for(var g in r)if(!Re(r[g]))return!1;return!0}return!1}function ao(r){if(r===null)return jt;if(typeof r=="string")return It;if(typeof r=="boolean")return xt;if(typeof r=="number")return ct;if(r instanceof wn)return hn;if(r instanceof al)return Ar;if(r instanceof oo)return Jn;if(r instanceof Qo)return Rr;if(Array.isArray(r)){for(var a,u=r.length,g=0,b=r;g<b.length;g+=1){var E=ao(b[g]);if(a){if(a===E)continue;a=Qt;break}a=E}return mr(a||Qt,u)}return fn}function as(r){var a=typeof r;return r===null?"":a==="string"||a==="number"||a==="boolean"?String(r):r instanceof wn||r instanceof oo||r instanceof Qo?r.toString():JSON.stringify(r)}Qo.prototype.toString=function(){return this.name},Qo.fromString=function(r){return r?new Qo({name:r,available:!1}):null},Qo.prototype.serialize=function(){return["image",this.name]};var ua=function(r,a){this.type=r,this.value=a};ua.parse=function(r,a){if(r.length!==2)return a.error("'literal' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(!Re(r[1]))return a.error("invalid value");var u=r[1],g=ao(u),b=a.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new ua(g,u)},ua.prototype.evaluate=function(){return this.value},ua.prototype.eachChild=function(){},ua.prototype.outputDefined=function(){return!0},ua.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof wn?["rgba"].concat(this.value.toArray()):this.value instanceof oo?this.value.serialize():this.value};var si=function(r){this.name="ExpressionEvaluationError",this.message=r};si.prototype.toJSON=function(){return this.message};var ca={string:It,number:ct,boolean:xt,object:fn},Co=function(r,a){this.type=r,this.args=a};Co.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u,g=1,b=r[0];if(b==="array"){var E,P;if(r.length>2){var B=r[1];if(typeof B!="string"||!(B in ca)||B==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);E=ca[B],g++}else E=Qt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return a.error('The length argument to "array" must be a positive integer literal',2);P=r[2],g++}u=mr(E,P)}else u=ca[b];for(var $=[];g<r.length;g++){var W=a.parse(r[g],g,Qt);if(!W)return null;$.push(W)}return new Co(u,$)},Co.prototype.evaluate=function(r){for(var a=0;a<this.args.length;a++){var u=this.args[a].evaluate(r);if(!Ai(this.type,ao(u)))return u;if(a===this.args.length-1)throw new si("Expected value to be of type "+sr(this.type)+", but found "+sr(ao(u))+" instead.")}return null},Co.prototype.eachChild=function(r){this.args.forEach(r)},Co.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},Co.prototype.serialize=function(){var r=this.type,a=[r.kind];if(r.kind==="array"){var u=r.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){a.push(u.kind);var g=r.N;(typeof g=="number"||this.args.length>1)&&a.push(g)}}return a.concat(this.args.map(function(b){return b.serialize()}))};var Wo=function(r){this.type=Jn,this.sections=r};Wo.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u=r[1];if(!Array.isArray(u)&&typeof u=="object")return a.error("First argument must be an image or text section.");for(var g=[],b=!1,E=1;E<=r.length-1;++E){var P=r[E];if(b&&typeof P=="object"&&!Array.isArray(P)){b=!1;var B=null;if(P["font-scale"]&&!(B=a.parse(P["font-scale"],1,ct)))return null;var $=null;if(P["text-font"]&&!($=a.parse(P["text-font"],1,mr(It))))return null;var W=null;if(P["text-color"]&&!(W=a.parse(P["text-color"],1,hn)))return null;var Z=g[g.length-1];Z.scale=B,Z.font=$,Z.textColor=W}else{var Y=a.parse(r[E],1,Qt);if(!Y)return null;var ue=Y.type.kind;if(ue!=="string"&&ue!=="value"&&ue!=="null"&&ue!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:Y,scale:null,font:null,textColor:null})}}return new Wo(g)},Wo.prototype.evaluate=function(r){return new oo(this.sections.map(function(a){var u=a.content.evaluate(r);return ao(u)===Rr?new zc("",u,null,null,null):new zc(as(u),null,a.scale?a.scale.evaluate(r):null,a.font?a.font.evaluate(r).join(","):null,a.textColor?a.textColor.evaluate(r):null)}))},Wo.prototype.eachChild=function(r){for(var a=0,u=this.sections;a<u.length;a+=1){var g=u[a];r(g.content),g.scale&&r(g.scale),g.font&&r(g.font),g.textColor&&r(g.textColor)}},Wo.prototype.outputDefined=function(){return!1},Wo.prototype.serialize=function(){for(var r=["format"],a=0,u=this.sections;a<u.length;a+=1){var g=u[a];r.push(g.content.serialize());var b={};g.scale&&(b["font-scale"]=g.scale.serialize()),g.font&&(b["text-font"]=g.font.serialize()),g.textColor&&(b["text-color"]=g.textColor.serialize()),r.push(b)}return r};var ss=function(r){this.type=Rr,this.input=r};ss.parse=function(r,a){if(r.length!==2)return a.error("Expected two arguments.");var u=a.parse(r[1],1,It);return u?new ss(u):a.error("No image name provided.")},ss.prototype.evaluate=function(r){var a=this.input.evaluate(r),u=Qo.fromString(a);return u&&r.availableImages&&(u.available=r.availableImages.indexOf(a)>-1),u},ss.prototype.eachChild=function(r){r(this.input)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){return["image",this.input.serialize()]};var Mf={"to-boolean":xt,"to-color":hn,"to-number":ct,"to-string":It},zi=function(r,a){this.type=r,this.args=a};zi.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u=r[0];if((u==="to-boolean"||u==="to-string")&&r.length!==2)return a.error("Expected one argument.");for(var g=Mf[u],b=[],E=1;E<r.length;E++){var P=a.parse(r[E],E,Qt);if(!P)return null;b.push(P)}return new zi(g,b)},zi.prototype.evaluate=function(r){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(r));if(this.type.kind==="color"){for(var a,u,g=0,b=this.args;g<b.length;g+=1){if(u=null,(a=b[g].evaluate(r))instanceof wn)return a;if(typeof a=="string"){var E=r.parseColor(a);if(E)return E}else if(Array.isArray(a)&&!(u=a.length<3||a.length>4?"Invalid rbga value "+JSON.stringify(a)+": expected an array containing either three or four numeric values.":Nc(a[0],a[1],a[2],a[3])))return new wn(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new si(u||"Could not parse color from value '"+(typeof a=="string"?a:String(JSON.stringify(a)))+"'")}if(this.type.kind==="number"){for(var P=null,B=0,$=this.args;B<$.length;B+=1){if((P=$[B].evaluate(r))===null)return 0;var W=Number(P);if(!isNaN(W))return W}throw new si("Could not convert "+JSON.stringify(P)+" to number.")}return this.type.kind==="formatted"?oo.fromString(as(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?Qo.fromString(as(this.args[0].evaluate(r))):as(this.args[0].evaluate(r))},zi.prototype.eachChild=function(r){this.args.forEach(r)},zi.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},zi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Wo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ss(this.args[0]).serialize();var r=["to-"+this.type.kind];return this.eachChild(function(a){r.push(a.serialize())}),r};var ki=["Unknown","Point","LineString","Polygon"],ls=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ls.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ls.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ki[this.feature.type]:this.feature.type:null},ls.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ls.prototype.canonicalID=function(){return this.canonical},ls.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ls.prototype.parseColor=function(r){var a=this._parseColorCache[r];return a||(a=this._parseColorCache[r]=wn.parse(r)),a};var wi=function(r,a,u,g){this.name=r,this.type=a,this._evaluate=u,this.args=g};wi.prototype.evaluate=function(r){return this._evaluate(r,this.args)},wi.prototype.eachChild=function(r){this.args.forEach(r)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(r){return r.serialize()}))},wi.parse=function(r,a){var u,g=r[0],b=wi.definitions[g];if(!b)return a.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var E=Array.isArray(b)?b[0]:b.type,P=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,B=P.filter(function(Cn){var on=Cn[0];return!Array.isArray(on)||on.length===r.length-1}),$=null,W=0,Z=B;W<Z.length;W+=1){var Y=Z[W],ue=Y[0],Ae=Y[1];$=new Nr(a.registry,a.path,null,a.scope);for(var Ce=[],ke=!1,He=1;He<r.length;He++){var Fe=r[He],nt=Array.isArray(ue)?ue[He-1]:ue.type,it=$.parse(Fe,1+Ce.length,nt);if(!it){ke=!0;break}Ce.push(it)}if(!ke)if(Array.isArray(ue)&&ue.length!==Ce.length)$.error("Expected "+ue.length+" arguments, but found "+Ce.length+" instead.");else{for(var ft=0;ft<Ce.length;ft++){var pt=Array.isArray(ue)?ue[ft]:ue.type,kt=Ce[ft];$.concat(ft+1).checkSubtype(pt,kt.type)}if($.errors.length===0)return new wi(g,E,Ae,Ce)}}if(B.length===1)(u=a.errors).push.apply(u,$.errors);else{for(var Ut=(B.length?B:P).map(function(Cn){var on;return on=Cn[0],Array.isArray(on)?"("+on.map(sr).join(", ")+")":"("+sr(on.type)+"...)"}).join(" | "),Zt=[],gn=1;gn<r.length;gn++){var nn=a.parse(r[gn],1+Zt.length);if(!nn)return null;Zt.push(sr(nn.type))}a.error("Expected arguments of type "+Ut+", but found ("+Zt.join(", ")+") instead.")}return null},wi.register=function(r,a){for(var u in wi.definitions=a,a)r[u]=wi};var Ni=function(r,a,u){this.type=Ar,this.locale=u,this.caseSensitive=r,this.diacriticSensitive=a};function Rl(r,a){r[0]=Math.min(r[0],a[0]),r[1]=Math.min(r[1],a[1]),r[2]=Math.max(r[2],a[0]),r[3]=Math.max(r[3],a[1])}function Ku(r,a){return!(r[0]<=a[0]||r[2]>=a[2]||r[1]<=a[1]||r[3]>=a[3])}function Rp(r,a){var u=(180+r[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,b=Math.pow(2,a.z);return[Math.round(u*b*8192),Math.round(g*b*8192)]}function Dp(r,a,u){return a[1]>r[1]!=u[1]>r[1]&&r[0]<(u[0]-a[0])*(r[1]-a[1])/(u[1]-a[1])+a[0]}function ci(r,a){for(var u,g,b,E,P,B,$,W=!1,Z=0,Y=a.length;Z<Y;Z++)for(var ue=a[Z],Ae=0,Ce=ue.length;Ae<Ce-1;Ae++){if((E=(u=r)[0]-(g=ue[Ae])[0])*($=u[1]-(b=ue[Ae+1])[1])-(B=u[0]-b[0])*(P=u[1]-g[1])==0&&E*B<=0&&P*$<=0)return!1;Dp(r,ue[Ae],ue[Ae+1])&&(W=!W)}return W}function Uc(r,a){for(var u=0;u<a.length;u++)if(ci(r,a[u]))return!0;return!1}function Lf(r,a,u,g){var b=g[0]-u[0],E=g[1]-u[1],P=(r[0]-u[0])*E-b*(r[1]-u[1]),B=(a[0]-u[0])*E-b*(a[1]-u[1]);return P>0&&B<0||P<0&&B>0}function Xh(r,a,u){for(var g=0,b=u;g<b.length;g+=1)for(var E=b[g],P=0;P<E.length-1;++P)if((Y=[(Z=E[P+1])[0]-(W=E[P])[0],Z[1]-W[1]])[0]*(ue=[($=a)[0]-(B=r)[0],$[1]-B[1]])[1]-Y[1]*ue[0]!=0&&Lf(B,$,W,Z)&&Lf(W,Z,B,$))return!0;var B,$,W,Z,Y,ue;return!1}function Rf(r,a){for(var u=0;u<r.length;++u)if(!ci(r[u],a))return!1;for(var g=0;g<r.length-1;++g)if(Xh(r[g],r[g+1],a))return!1;return!0}function Zu(r,a){for(var u=0;u<a.length;u++)if(Rf(r,a[u]))return!0;return!1}function Xu(r,a,u){for(var g=[],b=0;b<r.length;b++){for(var E=[],P=0;P<r[b].length;P++){var B=Rp(r[b][P],u);Rl(a,B),E.push(B)}g.push(E)}return g}function Dl(r,a,u){for(var g=[],b=0;b<r.length;b++){var E=Xu(r[b],a,u);g.push(E)}return g}function jc(r,a,u,g){if(r[0]<u[0]||r[0]>u[2]){var b=.5*g,E=r[0]-u[0]>b?-g:u[0]-r[0]>b?g:0;E===0&&(E=r[0]-u[2]>b?-g:u[2]-r[0]>b?g:0),r[0]+=E}Rl(a,r)}function $c(r,a,u,g){for(var b=8192*Math.pow(2,g.z),E=[8192*g.x,8192*g.y],P=[],B=0,$=r;B<$.length;B+=1)for(var W=0,Z=$[B];W<Z.length;W+=1){var Y=Z[W],ue=[Y.x+E[0],Y.y+E[1]];jc(ue,a,u,b),P.push(ue)}return P}function Yu(r,a,u,g){for(var b,E=8192*Math.pow(2,g.z),P=[8192*g.x,8192*g.y],B=[],$=0,W=r;$<W.length;$+=1){for(var Z=[],Y=0,ue=W[$];Y<ue.length;Y+=1){var Ae=ue[Y],Ce=[Ae.x+P[0],Ae.y+P[1]];Rl(a,Ce),Z.push(Ce)}B.push(Z)}if(a[2]-a[0]<=E/2){(b=a)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var ke=0,He=B;ke<He.length;ke+=1)for(var Fe=0,nt=He[ke];Fe<nt.length;Fe+=1)jc(nt[Fe],a,u,E)}return B}Ni.parse=function(r,a){if(r.length!==2)return a.error("Expected one argument.");var u=r[1];if(typeof u!="object"||Array.isArray(u))return a.error("Collator options argument must be an object.");var g=a.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,xt);if(!g)return null;var b=a.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,xt);if(!b)return null;var E=null;return u.locale&&!(E=a.parse(u.locale,1,It))?null:new Ni(g,b,E)},Ni.prototype.evaluate=function(r){return new al(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)},Ni.prototype.eachChild=function(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]};var Ko=function(r,a){this.type=xt,this.geojson=r,this.geometries=a};function sl(r){if(r instanceof wi&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ko)return!1;var a=!0;return r.eachChild(function(u){a&&!sl(u)&&(a=!1)}),a}function Es(r){if(r instanceof wi&&r.name==="feature-state")return!1;var a=!0;return r.eachChild(function(u){a&&!Es(u)&&(a=!1)}),a}function Vc(r,a){if(r instanceof wi&&a.indexOf(r.name)>=0)return!1;var u=!0;return r.eachChild(function(g){u&&!Vc(g,a)&&(u=!1)}),u}Ko.parse=function(r,a){if(r.length!==2)return a.error("'within' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(Re(r[1])){var u=r[1];if(u.type==="FeatureCollection")for(var g=0;g<u.features.length;++g){var b=u.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Ko(u,u.features[g].geometry)}else if(u.type==="Feature"){var E=u.geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new Ko(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Ko(u,u)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ko.prototype.evaluate=function(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(a,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=a.canonicalID();if(u.type==="Polygon"){var P=Xu(u.coordinates,b,E),B=$c(a.geometry(),g,b,E);if(!Ku(g,b))return!1;for(var $=0,W=B;$<W.length;$+=1)if(!ci(W[$],P))return!1}if(u.type==="MultiPolygon"){var Z=Dl(u.coordinates,b,E),Y=$c(a.geometry(),g,b,E);if(!Ku(g,b))return!1;for(var ue=0,Ae=Y;ue<Ae.length;ue+=1)if(!Uc(Ae[ue],Z))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(a,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=a.canonicalID();if(u.type==="Polygon"){var P=Xu(u.coordinates,b,E),B=Yu(a.geometry(),g,b,E);if(!Ku(g,b))return!1;for(var $=0,W=B;$<W.length;$+=1)if(!Rf(W[$],P))return!1}if(u.type==="MultiPolygon"){var Z=Dl(u.coordinates,b,E),Y=Yu(a.geometry(),g,b,E);if(!Ku(g,b))return!1;for(var ue=0,Ae=Y;ue<Ae.length;ue+=1)if(!Zu(Ae[ue],Z))return!1}return!0}(r,this.geometries)}return!1},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return["within",this.geojson]};var ll=function(r,a){this.type=a.type,this.name=r,this.boundExpression=a};ll.parse=function(r,a){if(r.length!==2||typeof r[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");var u=r[1];return a.scope.has(u)?new ll(u,a.scope.get(u)):a.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},ll.prototype.evaluate=function(r){return this.boundExpression.evaluate(r)},ll.prototype.eachChild=function(){},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["var",this.name]};var Nr=function(r,a,u,g,b){a===void 0&&(a=[]),g===void 0&&(g=new Lt),b===void 0&&(b=[]),this.registry=r,this.path=a,this.key=a.map(function(E){return"["+E+"]"}).join(""),this.scope=g,this.errors=b,this.expectedType=u};function Qn(r,a){for(var u,g=r.length-1,b=0,E=g,P=0;b<=E;)if((u=r[P=Math.floor((b+E)/2)])<=a){if(P===g||a<r[P+1])return P;b=P+1}else{if(!(u>a))throw new si("Input is not a number.");E=P-1}return 0}Nr.prototype.parse=function(r,a,u,g,b){return b===void 0&&(b={}),a?this.concat(a,u,g)._parse(r,b):this._parse(r,b)},Nr.prototype._parse=function(r,a){function u(W,Z,Y){return Y==="assert"?new Co(Z,[W]):Y==="coerce"?new zi(Z,[W]):W}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=r[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[g];if(b){var E=b.parse(r,this);if(!E)return null;if(this.expectedType){var P=this.expectedType,B=E.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||B.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string"){if(this.checkSubtype(P,B))return null}else E=u(E,P,a.typeAnnotation||"coerce");else E=u(E,P,a.typeAnnotation||"assert")}if(!(E instanceof ua)&&E.type.kind!=="resolvedImage"&&function W(Z){if(Z instanceof ll)return W(Z.boundExpression);if(Z instanceof wi&&Z.name==="error"||Z instanceof Ni||Z instanceof Ko)return!1;var Y=Z instanceof zi||Z instanceof Co,ue=!0;return Z.eachChild(function(Ae){ue=Y?ue&&W(Ae):ue&&Ae instanceof ua}),!!ue&&sl(Z)&&Vc(Z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(E)){var $=new ls;try{E=new ua(E.type,E.evaluate($))}catch(W){return this.error(W.message),null}}return E}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof r+" instead.")},Nr.prototype.concat=function(r,a,u){var g=typeof r=="number"?this.path.concat(r):this.path,b=u?this.scope.concat(u):this.scope;return new Nr(this.registry,g,a||null,b,this.errors)},Nr.prototype.error=function(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];var g=""+this.key+a.map(function(b){return"["+b+"]"}).join("");this.errors.push(new ye(g,r))},Nr.prototype.checkSubtype=function(r,a){var u=Ai(r,a);return u&&this.error(u),u};var Do=function(r,a,u){this.type=r,this.input=a,this.labels=[],this.outputs=[];for(var g=0,b=u;g<b.length;g+=1){var E=b[g],P=E[1];this.labels.push(E[0]),this.outputs.push(P)}};function kr(r,a,u){return r*(1-u)+a*u}Do.parse=function(r,a){if(r.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return a.error("Expected an even number of arguments.");var u=a.parse(r[1],1,ct);if(!u)return null;var g=[],b=null;a.expectedType&&a.expectedType.kind!=="value"&&(b=a.expectedType);for(var E=1;E<r.length;E+=2){var P=E===1?-1/0:r[E],B=r[E+1],$=E,W=E+1;if(typeof P!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(g.length&&g[g.length-1][0]>=P)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',$);var Z=a.parse(B,W,b);if(!Z)return null;b=b||Z.type,g.push([P,Z])}return new Do(b,u,g)},Do.prototype.evaluate=function(r){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=a[0])return u[0].evaluate(r);var b=a.length;return g>=a[b-1]?u[b-1].evaluate(r):u[Qn(a,g)].evaluate(r)},Do.prototype.eachChild=function(r){r(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)r(u[a])},Do.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Do.prototype.serialize=function(){for(var r=["step",this.input.serialize()],a=0;a<this.labels.length;a++)a>0&&r.push(this.labels[a]),r.push(this.outputs[a].serialize());return r};var au=Object.freeze({__proto__:null,number:kr,color:function(r,a,u){return new wn(kr(r.r,a.r,u),kr(r.g,a.g,u),kr(r.b,a.b,u),kr(r.a,a.a,u))},array:function(r,a,u){return r.map(function(g,b){return kr(g,a[b],u)})}}),Df=6/29*3*(6/29),Hc=Math.PI/180,Fp=180/Math.PI;function su(r){return r>.008856451679035631?Math.pow(r,1/3):r/Df+4/29}function lu(r){return r>6/29?r*r*r:Df*(r-4/29)}function yi(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function uu(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Us(r){var a=uu(r.r),u=uu(r.g),g=uu(r.b),b=su((.4124564*a+.3575761*u+.1804375*g)/.95047),E=su((.2126729*a+.7151522*u+.072175*g)/1);return{l:116*E-16,a:500*(b-E),b:200*(E-su((.0193339*a+.119192*u+.9503041*g)/1.08883)),alpha:r.a}}function cu(r){var a=(r.l+16)/116,u=isNaN(r.a)?a:a+r.a/500,g=isNaN(r.b)?a:a-r.b/200;return a=1*lu(a),u=.95047*lu(u),g=1.08883*lu(g),new wn(yi(3.2404542*u-1.5371385*a-.4985314*g),yi(-.969266*u+1.8760108*a+.041556*g),yi(.0556434*u-.2040259*a+1.0572252*g),r.alpha)}function js(r,a,u){var g=a-r;return r+u*(g>180||g<-180?g-360*Math.round(g/360):g)}var Ti={forward:Us,reverse:cu,interpolate:function(r,a,u){return{l:kr(r.l,a.l,u),a:kr(r.a,a.a,u),b:kr(r.b,a.b,u),alpha:kr(r.alpha,a.alpha,u)}}},Fl={forward:function(r){var a=Us(r),u=a.l,g=a.a,b=a.b,E=Math.atan2(b,g)*Fp;return{h:E<0?E+360:E,c:Math.sqrt(g*g+b*b),l:u,alpha:r.a}},reverse:function(r){var a=r.h*Hc,u=r.c;return cu({l:r.l,a:Math.cos(a)*u,b:Math.sin(a)*u,alpha:r.alpha})},interpolate:function(r,a,u){return{h:js(r.h,a.h,u),c:kr(r.c,a.c,u),l:kr(r.l,a.l,u),alpha:kr(r.alpha,a.alpha,u)}}},qc=Object.freeze({__proto__:null,lab:Ti,hcl:Fl}),Ki=function(r,a,u,g,b){this.type=r,this.operator=a,this.interpolation=u,this.input=g,this.labels=[],this.outputs=[];for(var E=0,P=b;E<P.length;E+=1){var B=P[E],$=B[1];this.labels.push(B[0]),this.outputs.push($)}};function Gc(r,a,u,g){var b=g-u,E=r-u;return b===0?0:a===1?E/b:(Math.pow(a,E)-1)/(Math.pow(a,b)-1)}Ki.interpolationFactor=function(r,a,u,g){var b=0;if(r.name==="exponential")b=Gc(a,r.base,u,g);else if(r.name==="linear")b=Gc(a,1,u,g);else if(r.name==="cubic-bezier"){var E=r.controlPoints;b=new S(E[0],E[1],E[2],E[3]).solve(Gc(a,1,u,g))}return b},Ki.parse=function(r,a){var u=r[0],g=r[1],b=r[2],E=r.slice(3);if(!Array.isArray(g)||g.length===0)return a.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var P=g[1];if(typeof P!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:P}}else{if(g[0]!=="cubic-bezier")return a.error("Unknown interpolation type "+String(g[0]),1,0);var B=g.slice(1);if(B.length!==4||B.some(function(He){return typeof He!="number"||He<0||He>1}))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:B}}if(r.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(!(b=a.parse(b,2,ct)))return null;var $=[],W=null;u==="interpolate-hcl"||u==="interpolate-lab"?W=hn:a.expectedType&&a.expectedType.kind!=="value"&&(W=a.expectedType);for(var Z=0;Z<E.length;Z+=2){var Y=E[Z],ue=E[Z+1],Ae=Z+3,Ce=Z+4;if(typeof Y!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ae);if($.length&&$[$.length-1][0]>=Y)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ae);var ke=a.parse(ue,Ce,W);if(!ke)return null;W=W||ke.type,$.push([Y,ke])}return W.kind==="number"||W.kind==="color"||W.kind==="array"&&W.itemType.kind==="number"&&typeof W.N=="number"?new Ki(W,u,g,b,$):a.error("Type "+sr(W)+" is not interpolatable.")},Ki.prototype.evaluate=function(r){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=a[0])return u[0].evaluate(r);var b=a.length;if(g>=a[b-1])return u[b-1].evaluate(r);var E=Qn(a,g),P=Ki.interpolationFactor(this.interpolation,g,a[E],a[E+1]),B=u[E].evaluate(r),$=u[E+1].evaluate(r);return this.operator==="interpolate"?au[this.type.kind.toLowerCase()](B,$,P):this.operator==="interpolate-hcl"?Fl.reverse(Fl.interpolate(Fl.forward(B),Fl.forward($),P)):Ti.reverse(Ti.interpolate(Ti.forward(B),Ti.forward($),P))},Ki.prototype.eachChild=function(r){r(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)r(u[a])},Ki.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Ki.prototype.serialize=function(){var r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var a=[this.operator,r,this.input.serialize()],u=0;u<this.labels.length;u++)a.push(this.labels[u],this.outputs[u].serialize());return a};var $s=function(r,a){this.type=r,this.args=a};$s.parse=function(r,a){if(r.length<2)return a.error("Expectected at least one argument.");var u=null,g=a.expectedType;g&&g.kind!=="value"&&(u=g);for(var b=[],E=0,P=r.slice(1);E<P.length;E+=1){var B=a.parse(P[E],1+b.length,u,void 0,{typeAnnotation:"omit"});if(!B)return null;u=u||B.type,b.push(B)}var $=g&&b.some(function(W){return Ai(g,W.type)});return new $s($?Qt:u,b)},$s.prototype.evaluate=function(r){for(var a,u=null,g=0,b=0,E=this.args;b<E.length&&(g++,(u=E[b].evaluate(r))&&u instanceof Qo&&!u.available&&(a||(a=u.name),u=null,g===this.args.length&&(u=a)),u===null);b+=1);return u},$s.prototype.eachChild=function(r){this.args.forEach(r)},$s.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},$s.prototype.serialize=function(){var r=["coalesce"];return this.eachChild(function(a){r.push(a.serialize())}),r};var Cs=function(r,a){this.type=a.type,this.bindings=[].concat(r),this.result=a};Cs.prototype.evaluate=function(r){return this.result.evaluate(r)},Cs.prototype.eachChild=function(r){for(var a=0,u=this.bindings;a<u.length;a+=1)r(u[a][1]);r(this.result)},Cs.parse=function(r,a){if(r.length<4)return a.error("Expected at least 3 arguments, but found "+(r.length-1)+" instead.");for(var u=[],g=1;g<r.length-1;g+=2){var b=r[g];if(typeof b!="string")return a.error("Expected string, but found "+typeof b+" instead.",g);if(/[^a-zA-Z0-9_]/.test(b))return a.error("Variable names must contain only alphanumeric characters or '_'.",g);var E=a.parse(r[g+1],g+1);if(!E)return null;u.push([b,E])}var P=a.parse(r[r.length-1],r.length-1,a.expectedType,u);return P?new Cs(u,P):null},Cs.prototype.outputDefined=function(){return this.result.outputDefined()},Cs.prototype.serialize=function(){for(var r=["let"],a=0,u=this.bindings;a<u.length;a+=1){var g=u[a];r.push(g[0],g[1].serialize())}return r.push(this.result.serialize()),r};var co=function(r,a,u){this.type=r,this.index=a,this.input=u};co.parse=function(r,a){if(r.length!==3)return a.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,ct),g=a.parse(r[2],2,mr(a.expectedType||Qt));return u&&g?new co(g.type.itemType,u,g):null},co.prototype.evaluate=function(r){var a=this.index.evaluate(r),u=this.input.evaluate(r);if(a<0)throw new si("Array index out of bounds: "+a+" < 0.");if(a>=u.length)throw new si("Array index out of bounds: "+a+" > "+(u.length-1)+".");if(a!==Math.floor(a))throw new si("Array index must be an integer, but found "+a+" instead.");return u[a]},co.prototype.eachChild=function(r){r(this.index),r(this.input)},co.prototype.outputDefined=function(){return!1},co.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Bl=function(r,a){this.type=xt,this.needle=r,this.haystack=a};Bl.parse=function(r,a){if(r.length!==3)return a.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,Qt);return u&&g?br(u.type,[xt,It,ct,jt,Qt])?new Bl(u,g):a.error("Expected first argument to be of type boolean, string, number or null, but found "+sr(u.type)+" instead"):null},Bl.prototype.evaluate=function(r){var a=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!u)return!1;if(!Xt(a,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+sr(ao(a))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+sr(ao(u))+" instead.");return u.indexOf(a)>=0},Bl.prototype.eachChild=function(r){r(this.needle),r(this.haystack)},Bl.prototype.outputDefined=function(){return!0},Bl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fo=function(r,a,u){this.type=ct,this.needle=r,this.haystack=a,this.fromIndex=u};fo.parse=function(r,a){if(r.length<=2||r.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,Qt);if(!u||!g)return null;if(!br(u.type,[xt,It,ct,jt,Qt]))return a.error("Expected first argument to be of type boolean, string, number or null, but found "+sr(u.type)+" instead");if(r.length===4){var b=a.parse(r[3],3,ct);return b?new fo(u,g,b):null}return new fo(u,g)},fo.prototype.evaluate=function(r){var a=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!Xt(a,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+sr(ao(a))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+sr(ao(u))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(r);return u.indexOf(a,g)}return u.indexOf(a)},fo.prototype.eachChild=function(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var us=function(r,a,u,g,b,E){this.inputType=r,this.type=a,this.input=u,this.cases=g,this.outputs=b,this.otherwise=E};us.parse=function(r,a){if(r.length<5)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if(r.length%2!=1)return a.error("Expected an even number of arguments.");var u,g;a.expectedType&&a.expectedType.kind!=="value"&&(g=a.expectedType);for(var b={},E=[],P=2;P<r.length-1;P+=2){var B=r[P],$=r[P+1];Array.isArray(B)||(B=[B]);var W=a.concat(P);if(B.length===0)return W.error("Expected at least one branch label.");for(var Z=0,Y=B;Z<Y.length;Z+=1){var ue=Y[Z];if(typeof ue!="number"&&typeof ue!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ue=="number"&&Math.abs(ue)>Number.MAX_SAFE_INTEGER)return W.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof ue=="number"&&Math.floor(ue)!==ue)return W.error("Numeric branch labels must be integer values.");if(u){if(W.checkSubtype(u,ao(ue)))return null}else u=ao(ue);if(b[String(ue)]!==void 0)return W.error("Branch labels must be unique.");b[String(ue)]=E.length}var Ae=a.parse($,P,g);if(!Ae)return null;g=g||Ae.type,E.push(Ae)}var Ce=a.parse(r[1],1,Qt);if(!Ce)return null;var ke=a.parse(r[r.length-1],r.length-1,g);return ke?Ce.type.kind!=="value"&&a.concat(1).checkSubtype(u,Ce.type)?null:new us(u,g,Ce,b,E,ke):null},us.prototype.evaluate=function(r){var a=this.input.evaluate(r);return(ao(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(r)},us.prototype.eachChild=function(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)},us.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})&&this.otherwise.outputDefined()},us.prototype.serialize=function(){for(var r=this,a=["match",this.input.serialize()],u=[],g={},b=0,E=Object.keys(this.cases).sort();b<E.length;b+=1){var P=E[b];(Y=g[this.cases[P]])===void 0?(g[this.cases[P]]=u.length,u.push([this.cases[P],[P]])):u[Y][1].push(P)}for(var B=function(Ae){return r.inputType.kind==="number"?Number(Ae):Ae},$=0,W=u;$<W.length;$+=1){var Z=W[$],Y=Z[0],ue=Z[1];a.push(ue.length===1?B(ue[0]):ue.map(B)),a.push(this.outputs[outputIndex$1].serialize())}return a.push(this.otherwise.serialize()),a};var ul=function(r,a,u){this.type=r,this.branches=a,this.otherwise=u};ul.parse=function(r,a){if(r.length<4)return a.error("Expected at least 3 arguments, but found only "+(r.length-1)+".");if(r.length%2!=0)return a.error("Expected an odd number of arguments.");var u;a.expectedType&&a.expectedType.kind!=="value"&&(u=a.expectedType);for(var g=[],b=1;b<r.length-1;b+=2){var E=a.parse(r[b],b,xt);if(!E)return null;var P=a.parse(r[b+1],b+1,u);if(!P)return null;g.push([E,P]),u=u||P.type}var B=a.parse(r[r.length-1],r.length-1,u);return B?new ul(u,g,B):null},ul.prototype.evaluate=function(r){for(var a=0,u=this.branches;a<u.length;a+=1){var g=u[a],b=g[1];if(g[0].evaluate(r))return b.evaluate(r)}return this.otherwise.evaluate(r)},ul.prototype.eachChild=function(r){for(var a=0,u=this.branches;a<u.length;a+=1){var g=u[a],b=g[1];r(g[0]),r(b)}r(this.otherwise)},ul.prototype.outputDefined=function(){return this.branches.every(function(r){return r[1].outputDefined()})&&this.otherwise.outputDefined()},ul.prototype.serialize=function(){var r=["case"];return this.eachChild(function(a){r.push(a.serialize())}),r};var Zo=function(r,a,u,g){this.type=r,this.input=a,this.beginIndex=u,this.endIndex=g};function fu(r,a){return r==="=="||r==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function Dr(r,a,u,g){return g.compare(a,u)===0}function ei(r,a,u){var g=r!=="=="&&r!=="!=";return function(){function b(E,P,B){this.type=xt,this.lhs=E,this.rhs=P,this.collator=B,this.hasUntypedArgument=E.type.kind==="value"||P.type.kind==="value"}return b.parse=function(E,P){if(E.length!==3&&E.length!==4)return P.error("Expected two or three arguments.");var B=E[0],$=P.parse(E[1],1,Qt);if(!$)return null;if(!fu(B,$.type))return P.concat(1).error('"'+B+`" comparisons are not supported for type '`+sr($.type)+"'.");var W=P.parse(E[2],2,Qt);if(!W)return null;if(!fu(B,W.type))return P.concat(2).error('"'+B+`" comparisons are not supported for type '`+sr(W.type)+"'.");if($.type.kind!==W.type.kind&&$.type.kind!=="value"&&W.type.kind!=="value")return P.error("Cannot compare types '"+sr($.type)+"' and '"+sr(W.type)+"'.");g&&($.type.kind==="value"&&W.type.kind!=="value"?$=new Co(W.type,[$]):$.type.kind!=="value"&&W.type.kind==="value"&&(W=new Co($.type,[W])));var Z=null;if(E.length===4){if($.type.kind!=="string"&&W.type.kind!=="string"&&$.type.kind!=="value"&&W.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(!(Z=P.parse(E[3],3,Ar)))return null}return new b($,W,Z)},b.prototype.evaluate=function(E){var P=this.lhs.evaluate(E),B=this.rhs.evaluate(E);if(g&&this.hasUntypedArgument){var $=ao(P),W=ao(B);if($.kind!==W.kind||$.kind!=="string"&&$.kind!=="number")throw new si('Expected arguments for "'+r+'" to be (string, string) or (number, number), but found ('+$.kind+", "+W.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var Z=ao(P),Y=ao(B);if(Z.kind!=="string"||Y.kind!=="string")return a(E,P,B)}return this.collator?u(E,P,B,this.collator.evaluate(E)):a(E,P,B)},b.prototype.eachChild=function(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var E=[r];return this.eachChild(function(P){E.push(P.serialize())}),E},b}()}Zo.parse=function(r,a){if(r.length<=2||r.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,ct);if(!u||!g)return null;if(!br(u.type,[mr(Qt),It,Qt]))return a.error("Expected first argument to be of type array or string, but found "+sr(u.type)+" instead");if(r.length===4){var b=a.parse(r[3],3,ct);return b?new Zo(u.type,u,g,b):null}return new Zo(u.type,u,g)},Zo.prototype.evaluate=function(r){var a=this.input.evaluate(r),u=this.beginIndex.evaluate(r);if(!Xt(a,["string","array"]))throw new si("Expected first argument to be of type array or string, but found "+sr(ao(a))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(r);return a.slice(u,g)}return a.slice(u)},Zo.prototype.eachChild=function(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ua=ei("==",function(r,a,u){return a===u},Dr),Ju=ei("!=",function(r,a,u){return a!==u},function(r,a,u,g){return!Dr(0,a,u,g)}),pu=ei("<",function(r,a,u){return a<u},function(r,a,u,g){return g.compare(a,u)<0}),Vs=ei(">",function(r,a,u){return a>u},function(r,a,u,g){return g.compare(a,u)>0}),Bp=ei("<=",function(r,a,u){return a<=u},function(r,a,u,g){return g.compare(a,u)<=0}),ec=ei(">=",function(r,a,u){return a>=u},function(r,a,u,g){return g.compare(a,u)>=0}),cl=function(r,a,u,g,b){this.type=It,this.number=r,this.locale=a,this.currency=u,this.minFractionDigits=g,this.maxFractionDigits=b};cl.parse=function(r,a){if(r.length!==3)return a.error("Expected two arguments.");var u=a.parse(r[1],1,ct);if(!u)return null;var g=r[2];if(typeof g!="object"||Array.isArray(g))return a.error("NumberFormat options argument must be an object.");var b=null;if(g.locale&&!(b=a.parse(g.locale,1,It)))return null;var E=null;if(g.currency&&!(E=a.parse(g.currency,1,It)))return null;var P=null;if(g["min-fraction-digits"]&&!(P=a.parse(g["min-fraction-digits"],1,ct)))return null;var B=null;return g["max-fraction-digits"]&&!(B=a.parse(g["max-fraction-digits"],1,ct))?null:new cl(u,b,E,P,B)},cl.prototype.evaluate=function(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))},cl.prototype.eachChild=function(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)},cl.prototype.outputDefined=function(){return!1},cl.prototype.serialize=function(){var r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]};var Hs=function(r){this.type=ct,this.input=r};Hs.parse=function(r,a){if(r.length!==2)return a.error("Expected 1 argument, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?a.error("Expected argument of type string or array, but found "+sr(u.type)+" instead."):new Hs(u):null},Hs.prototype.evaluate=function(r){var a=this.input.evaluate(r);if(typeof a=="string"||Array.isArray(a))return a.length;throw new si("Expected value to be of type string or array, but found "+sr(ao(a))+" instead.")},Hs.prototype.eachChild=function(r){r(this.input)},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){var r=["length"];return this.eachChild(function(a){r.push(a.serialize())}),r};var qs={"==":Ua,"!=":Ju,">":Vs,"<":pu,">=":ec,"<=":Bp,array:Co,at:co,boolean:Co,case:ul,coalesce:$s,collator:Ni,format:Wo,image:ss,in:Bl,"index-of":fo,interpolate:Ki,"interpolate-hcl":Ki,"interpolate-lab":Ki,length:Hs,let:Cs,literal:ua,match:us,number:Co,"number-format":cl,object:Co,slice:Zo,step:Do,string:Co,"to-boolean":zi,"to-color":zi,"to-number":zi,"to-string":zi,var:ll,within:Ko};function zl(r,a){var u=a[0],g=a[1],b=a[2],E=a[3];u=u.evaluate(r),g=g.evaluate(r),b=b.evaluate(r);var P=E?E.evaluate(r):1,B=Nc(u,g,b,P);if(B)throw new si(B);return new wn(u/255*P,g/255*P,b/255*P,P)}function zp(r,a){return r in a}function Qc(r,a){var u=a[r];return u===void 0?null:u}function fl(r){return{type:r}}function tc(r){return{result:"success",value:r}}function _a(r){return{result:"error",value:r}}function Nl(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Wc(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function nc(r){return!!r.expression&&r.expression.interpolated}function Vr(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Kc(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Ff(r){return r}function ko(r,a,u){return r!==void 0?r:a!==void 0?a:u!==void 0?u:void 0}function Zc(r,a,u,g,b){return ko(typeof u===b?g[u]:void 0,r.default,a.default)}function hu(r,a,u){if(Vr(u)!=="number")return ko(r.default,a.default);var g=r.stops.length;if(g===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[g-1][0])return r.stops[g-1][1];var b=Qn(r.stops.map(function(E){return E[0]}),u);return r.stops[b][1]}function pl(r,a,u){var g=r.base!==void 0?r.base:1;if(Vr(u)!=="number")return ko(r.default,a.default);var b=r.stops.length;if(b===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[b-1][0])return r.stops[b-1][1];var E=Qn(r.stops.map(function(Y){return Y[0]}),u),P=function(Y,ue,Ae,Ce){var ke=Ce-Ae,He=Y-Ae;return ke===0?0:ue===1?He/ke:(Math.pow(ue,He)-1)/(Math.pow(ue,ke)-1)}(u,g,r.stops[E][0],r.stops[E+1][0]),B=r.stops[E][1],$=r.stops[E+1][1],W=au[a.type]||Ff;if(r.colorSpace&&r.colorSpace!=="rgb"){var Z=qc[r.colorSpace];W=function(Y,ue){return Z.reverse(Z.interpolate(Z.forward(Y),Z.forward(ue),P))}}return typeof B.evaluate=="function"?{evaluate:function(){for(var Y=[],ue=arguments.length;ue--;)Y[ue]=arguments[ue];var Ae=B.evaluate.apply(void 0,Y),Ce=$.evaluate.apply(void 0,Y);if(Ae!==void 0&&Ce!==void 0)return W(Ae,Ce,P)}}:W(B,$,P)}function Bf(r,a,u){return a.type==="color"?u=wn.parse(u):a.type==="formatted"?u=oo.fromString(u.toString()):a.type==="resolvedImage"?u=Qo.fromString(u.toString()):Vr(u)===a.type||a.type==="enum"&&a.values[u]||(u=void 0),ko(u,r.default,a.default)}wi.register(qs,{error:[{kind:"error"},[It],function(r,a){throw new si(a[0].evaluate(r))}],typeof:[It,[Qt],function(r,a){return sr(ao(a[0].evaluate(r)))}],"to-rgba":[mr(ct,4),[hn],function(r,a){return a[0].evaluate(r).toArray()}],rgb:[hn,[ct,ct,ct],zl],rgba:[hn,[ct,ct,ct,ct],zl],has:{type:xt,overloads:[[[It],function(r,a){return zp(a[0].evaluate(r),r.properties())}],[[It,fn],function(r,a){var u=a[1];return zp(a[0].evaluate(r),u.evaluate(r))}]]},get:{type:Qt,overloads:[[[It],function(r,a){return Qc(a[0].evaluate(r),r.properties())}],[[It,fn],function(r,a){var u=a[1];return Qc(a[0].evaluate(r),u.evaluate(r))}]]},"feature-state":[Qt,[It],function(r,a){return Qc(a[0].evaluate(r),r.featureState||{})}],properties:[fn,[],function(r){return r.properties()}],"geometry-type":[It,[],function(r){return r.geometryType()}],id:[Qt,[],function(r){return r.id()}],zoom:[ct,[],function(r){return r.globals.zoom}],"heatmap-density":[ct,[],function(r){return r.globals.heatmapDensity||0}],"line-progress":[ct,[],function(r){return r.globals.lineProgress||0}],accumulated:[Qt,[],function(r){return r.globals.accumulated===void 0?null:r.globals.accumulated}],"+":[ct,fl(ct),function(r,a){for(var u=0,g=0,b=a;g<b.length;g+=1)u+=b[g].evaluate(r);return u}],"*":[ct,fl(ct),function(r,a){for(var u=1,g=0,b=a;g<b.length;g+=1)u*=b[g].evaluate(r);return u}],"-":{type:ct,overloads:[[[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)-u.evaluate(r)}],[[ct],function(r,a){return-a[0].evaluate(r)}]]},"/":[ct,[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)/u.evaluate(r)}],"%":[ct,[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)%u.evaluate(r)}],ln2:[ct,[],function(){return Math.LN2}],pi:[ct,[],function(){return Math.PI}],e:[ct,[],function(){return Math.E}],"^":[ct,[ct,ct],function(r,a){var u=a[1];return Math.pow(a[0].evaluate(r),u.evaluate(r))}],sqrt:[ct,[ct],function(r,a){return Math.sqrt(a[0].evaluate(r))}],log10:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))/Math.LN10}],ln:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))}],log2:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))/Math.LN2}],sin:[ct,[ct],function(r,a){return Math.sin(a[0].evaluate(r))}],cos:[ct,[ct],function(r,a){return Math.cos(a[0].evaluate(r))}],tan:[ct,[ct],function(r,a){return Math.tan(a[0].evaluate(r))}],asin:[ct,[ct],function(r,a){return Math.asin(a[0].evaluate(r))}],acos:[ct,[ct],function(r,a){return Math.acos(a[0].evaluate(r))}],atan:[ct,[ct],function(r,a){return Math.atan(a[0].evaluate(r))}],min:[ct,fl(ct),function(r,a){return Math.min.apply(Math,a.map(function(u){return u.evaluate(r)}))}],max:[ct,fl(ct),function(r,a){return Math.max.apply(Math,a.map(function(u){return u.evaluate(r)}))}],abs:[ct,[ct],function(r,a){return Math.abs(a[0].evaluate(r))}],round:[ct,[ct],function(r,a){var u=a[0].evaluate(r);return u<0?-Math.round(-u):Math.round(u)}],floor:[ct,[ct],function(r,a){return Math.floor(a[0].evaluate(r))}],ceil:[ct,[ct],function(r,a){return Math.ceil(a[0].evaluate(r))}],"filter-==":[xt,[It,Qt],function(r,a){var u=a[0],g=a[1];return r.properties()[u.value]===g.value}],"filter-id-==":[xt,[Qt],function(r,a){var u=a[0];return r.id()===u.value}],"filter-type-==":[xt,[It],function(r,a){var u=a[0];return r.geometryType()===u.value}],"filter-<":[xt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],E=g.value;return typeof b==typeof E&&b<E}],"filter-id-<":[xt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<b}],"filter->":[xt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],E=g.value;return typeof b==typeof E&&b>E}],"filter-id->":[xt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>b}],"filter-<=":[xt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],E=g.value;return typeof b==typeof E&&b<=E}],"filter-id-<=":[xt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<=b}],"filter->=":[xt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],E=g.value;return typeof b==typeof E&&b>=E}],"filter-id->=":[xt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>=b}],"filter-has":[xt,[Qt],function(r,a){return a[0].value in r.properties()}],"filter-has-id":[xt,[],function(r){return r.id()!==null&&r.id()!==void 0}],"filter-type-in":[xt,[mr(It)],function(r,a){return a[0].value.indexOf(r.geometryType())>=0}],"filter-id-in":[xt,[mr(Qt)],function(r,a){return a[0].value.indexOf(r.id())>=0}],"filter-in-small":[xt,[It,mr(Qt)],function(r,a){var u=a[0];return a[1].value.indexOf(r.properties()[u.value])>=0}],"filter-in-large":[xt,[It,mr(Qt)],function(r,a){var u=a[0],g=a[1];return function(b,E,P,B){for(;P<=B;){var $=P+B>>1;if(E[$]===b)return!0;E[$]>b?B=$-1:P=$+1}return!1}(r.properties()[u.value],g.value,0,g.value.length-1)}],all:{type:xt,overloads:[[[xt,xt],function(r,a){var u=a[1];return a[0].evaluate(r)&&u.evaluate(r)}],[fl(xt),function(r,a){for(var u=0,g=a;u<g.length;u+=1)if(!g[u].evaluate(r))return!1;return!0}]]},any:{type:xt,overloads:[[[xt,xt],function(r,a){var u=a[1];return a[0].evaluate(r)||u.evaluate(r)}],[fl(xt),function(r,a){for(var u=0,g=a;u<g.length;u+=1)if(g[u].evaluate(r))return!0;return!1}]]},"!":[xt,[xt],function(r,a){return!a[0].evaluate(r)}],"is-supported-script":[xt,[It],function(r,a){var u=r.globals&&r.globals.isSupportedScript;return!u||u(a[0].evaluate(r))}],upcase:[It,[It],function(r,a){return a[0].evaluate(r).toUpperCase()}],downcase:[It,[It],function(r,a){return a[0].evaluate(r).toLowerCase()}],concat:[It,fl(Qt),function(r,a){return a.map(function(u){return as(u.evaluate(r))}).join("")}],"resolved-locale":[It,[Ar],function(r,a){return a[0].evaluate(r).resolvedLocale()}]});var po=function(r,a){this.expression=r,this._warningHistory={},this._evaluator=new ls,this._defaultValue=a?function(u){return u.type==="color"&&Kc(u.default)?new wn(0,0,0,0):u.type==="color"?wn.parse(u.default)||null:u.default===void 0?null:u.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null};function Ui(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in qs}function Xc(r,a){var u=new Nr(qs,[],a?function(b){var E={color:hn,string:It,number:ct,enum:It,boolean:xt,formatted:Jn,resolvedImage:Rr};return b.type==="array"?mr(E[b.value]||Qt,b.length):E[b.type]}(a):void 0),g=u.parse(r,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?tc(new po(g,a)):_a(u.errors)}po.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,E){return this._evaluator.globals=r,this._evaluator.feature=a,this._evaluator.featureState=u,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)},po.prototype.evaluate=function(r,a,u,g,b,E){this._evaluator.globals=r,this._evaluator.feature=a||null,this._evaluator.featureState=u||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E||null;try{var P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new si("Expected value to be one of "+Object.keys(this._enumValues).map(function(B){return JSON.stringify(B)}).join(", ")+", but found "+JSON.stringify(P)+" instead.");return P}catch(B){return this._warningHistory[B.message]||(this._warningHistory[B.message]=!0,typeof console<"u"&&console.warn(B.message)),this._defaultValue}};var rc=function(r,a){this.kind=r,this._styleExpression=a,this.isStateDependent=r!=="constant"&&!Es(a.expression)};rc.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,E){return this._styleExpression.evaluateWithoutErrorHandling(r,a,u,g,b,E)},rc.prototype.evaluate=function(r,a,u,g,b,E){return this._styleExpression.evaluate(r,a,u,g,b,E)};var Au=function(r,a,u,g){this.kind=r,this.zoomStops=u,this._styleExpression=a,this.isStateDependent=r!=="camera"&&!Es(a.expression),this.interpolationType=g};function hl(r,a){if((r=Xc(r,a)).result==="error")return r;var u=r.value.expression,g=sl(u);if(!g&&!Nl(a))return _a([new ye("","data expressions not supported")]);var b=Vc(u,["zoom"]);if(!b&&!Wc(a))return _a([new ye("","zoom expressions not supported")]);var E=function P(B){var $=null;if(B instanceof Cs)$=P(B.result);else if(B instanceof $s)for(var W=0,Z=B.args;W<Z.length&&!($=P(Z[W]));W+=1);else(B instanceof Do||B instanceof Ki)&&B.input instanceof wi&&B.input.name==="zoom"&&($=B);return $ instanceof ye||B.eachChild(function(Y){var ue=P(Y);ue instanceof ye?$=ue:!$&&ue?$=new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):$&&ue&&$!==ue&&($=new ye("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),$}(u);return E||b?E instanceof ye?_a([E]):E instanceof Ki&&!nc(a)?_a([new ye("",'"interpolate" expressions cannot be used with this property')]):tc(E?new Au(g?"camera":"composite",r.value,E.labels,E instanceof Ki?E.interpolation:void 0):new rc(g?"constant":"source",r.value)):_a([new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Au.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,E){return this._styleExpression.evaluateWithoutErrorHandling(r,a,u,g,b,E)},Au.prototype.evaluate=function(r,a,u,g,b,E){return this._styleExpression.evaluate(r,a,u,g,b,E)},Au.prototype.interpolationFactor=function(r,a,u){return this.interpolationType?Ki.interpolationFactor(this.interpolationType,r,a,u):0};var ic=function(r,a){this._parameters=r,this._specification=a,lt(this,function u(g,b){var E,P,B,$=b.type==="color",W=g.stops&&typeof g.stops[0][0]=="object",Z=W||!(W||g.property!==void 0),Y=g.type||(nc(b)?"exponential":"interval");if($&&((g=lt({},g)).stops&&(g.stops=g.stops.map(function(nn){return[nn[0],wn.parse(nn[1])]})),g.default=wn.parse(g.default?g.default:b.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!qc[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(Y==="exponential")E=pl;else if(Y==="interval")E=hu;else if(Y==="categorical"){E=Zc,P=Object.create(null);for(var ue=0,Ae=g.stops;ue<Ae.length;ue+=1){var Ce=Ae[ue];P[Ce[0]]=Ce[1]}B=typeof g.stops[0][0]}else{if(Y!=="identity")throw new Error('Unknown function type "'+Y+'"');E=Bf}if(W){for(var ke={},He=[],Fe=0;Fe<g.stops.length;Fe++){var nt=g.stops[Fe],it=nt[0].zoom;ke[it]===void 0&&(ke[it]={zoom:it,type:g.type,property:g.property,default:g.default,stops:[]},He.push(it)),ke[it].stops.push([nt[0].value,nt[1]])}for(var ft=[],pt=0,kt=He;pt<kt.length;pt+=1){var Ut=kt[pt];ft.push([ke[Ut].zoom,u(ke[Ut],b)])}var Zt={name:"linear"};return{kind:"composite",interpolationType:Zt,interpolationFactor:Ki.interpolationFactor.bind(void 0,Zt),zoomStops:ft.map(function(nn){return nn[0]}),evaluate:function(nn,Cn){var on=nn.zoom;return pl({stops:ft,base:g.base},b,on).evaluate(on,Cn)}}}if(Z){var gn=Y==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:gn,interpolationFactor:Ki.interpolationFactor.bind(void 0,gn),zoomStops:g.stops.map(function(nn){return nn[0]}),evaluate:function(nn){return E(g,b,nn.zoom,P,B)}}}return{kind:"source",evaluate:function(nn,Cn){var on=Cn&&Cn.properties?Cn.properties[g.property]:void 0;return on===void 0?ko(g.default,b.default):E(g,b,on,P,B)}}}(this._parameters,this._specification))};function Si(r){var a=r.key,u=r.value,g=r.valueSpec||{},b=r.objectElementValidators||{},E=r.style,P=r.styleSpec,B=[],$=Vr(u);if($!=="object")return[new oe(a,u,"object expected, "+$+" found")];for(var W in u){var Z=W.split(".")[0],Y=g[Z]||g["*"],ue=void 0;if(b[Z])ue=b[Z];else if(g[Z])ue=ur;else if(b["*"])ue=b["*"];else{if(!g["*"]){B.push(new oe(a,u[W],'unknown property "'+W+'"'));continue}ue=ur}B=B.concat(ue({key:(a&&a+".")+W,value:u[W],valueSpec:Y,style:E,styleSpec:P,object:u,objectKey:W},u))}for(var Ae in g)b[Ae]||g[Ae].required&&g[Ae].default===void 0&&u[Ae]===void 0&&B.push(new oe(a,u,'missing required property "'+Ae+'"'));return B}function du(r){var a=r.value,u=r.valueSpec,g=r.style,b=r.styleSpec,E=r.key,P=r.arrayElementValidator||ur;if(Vr(a)!=="array")return[new oe(E,a,"array expected, "+Vr(a)+" found")];if(u.length&&a.length!==u.length)return[new oe(E,a,"array length "+u.length+" expected, length "+a.length+" found")];if(u["min-length"]&&a.length<u["min-length"])return[new oe(E,a,"array length at least "+u["min-length"]+" expected, length "+a.length+" found")];var B={type:u.value,values:u.values};b.$version<7&&(B.function=u.function),Vr(u.value)==="object"&&(B=u.value);for(var $=[],W=0;W<a.length;W++)$=$.concat(P({array:a,arrayIndex:W,value:a[W],valueSpec:B,style:g,styleSpec:b,key:E+"["+W+"]"}));return $}function ks(r){var a=r.key,u=r.value,g=r.valueSpec,b=Vr(u);return b==="number"&&u!=u&&(b="NaN"),b!=="number"?[new oe(a,u,"number expected, "+b+" found")]:"minimum"in g&&u<g.minimum?[new oe(a,u,u+" is less than the minimum value "+g.minimum)]:"maximum"in g&&u>g.maximum?[new oe(a,u,u+" is greater than the maximum value "+g.maximum)]:[]}function Ts(r){var a,u,g,b=r.valueSpec,E=Qe(r.value.type),P={},B=E!=="categorical"&&r.value.property===void 0,$=!B,W=Vr(r.value.stops)==="array"&&Vr(r.value.stops[0])==="array"&&Vr(r.value.stops[0][0])==="object",Z=Si({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Ae){if(E==="identity")return[new oe(Ae.key,Ae.value,'identity function may not have a "stops" property')];var Ce=[],ke=Ae.value;return Ce=Ce.concat(du({key:Ae.key,value:ke,valueSpec:Ae.valueSpec,style:Ae.style,styleSpec:Ae.styleSpec,arrayElementValidator:Y})),Vr(ke)==="array"&&ke.length===0&&Ce.push(new oe(Ae.key,ke,"array must have at least one stop")),Ce},default:function(Ae){return ur({key:Ae.key,value:Ae.value,valueSpec:b,style:Ae.style,styleSpec:Ae.styleSpec})}}});return E==="identity"&&B&&Z.push(new oe(r.key,r.value,'missing required property "property"')),E==="identity"||r.value.stops||Z.push(new oe(r.key,r.value,'missing required property "stops"')),E==="exponential"&&r.valueSpec.expression&&!nc(r.valueSpec)&&Z.push(new oe(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&($&&!Nl(r.valueSpec)?Z.push(new oe(r.key,r.value,"property functions not supported")):B&&!Wc(r.valueSpec)&&Z.push(new oe(r.key,r.value,"zoom functions not supported"))),E!=="categorical"&&!W||r.value.property!==void 0||Z.push(new oe(r.key,r.value,'"property" property is required')),Z;function Y(Ae){var Ce=[],ke=Ae.value,He=Ae.key;if(Vr(ke)!=="array")return[new oe(He,ke,"array expected, "+Vr(ke)+" found")];if(ke.length!==2)return[new oe(He,ke,"array length 2 expected, length "+ke.length+" found")];if(W){if(Vr(ke[0])!=="object")return[new oe(He,ke,"object expected, "+Vr(ke[0])+" found")];if(ke[0].zoom===void 0)return[new oe(He,ke,"object stop key must have zoom")];if(ke[0].value===void 0)return[new oe(He,ke,"object stop key must have value")];if(g&&g>Qe(ke[0].zoom))return[new oe(He,ke[0].zoom,"stop zoom values must appear in ascending order")];Qe(ke[0].zoom)!==g&&(g=Qe(ke[0].zoom),u=void 0,P={}),Ce=Ce.concat(Si({key:He+"[0]",value:ke[0],valueSpec:{zoom:{}},style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{zoom:ks,value:ue}}))}else Ce=Ce.concat(ue({key:He+"[0]",value:ke[0],valueSpec:{},style:Ae.style,styleSpec:Ae.styleSpec},ke));return Ui(A(ke[1]))?Ce.concat([new oe(He+"[1]",ke[1],"expressions are not allowed in function stops.")]):Ce.concat(ur({key:He+"[1]",value:ke[1],valueSpec:b,style:Ae.style,styleSpec:Ae.styleSpec}))}function ue(Ae,Ce){var ke=Vr(Ae.value),He=Qe(Ae.value),Fe=Ae.value!==null?Ae.value:Ce;if(a){if(ke!==a)return[new oe(Ae.key,Fe,ke+" stop domain type must match previous stop domain type "+a)]}else a=ke;if(ke!=="number"&&ke!=="string"&&ke!=="boolean")return[new oe(Ae.key,Fe,"stop domain value must be a number, string, or boolean")];if(ke!=="number"&&E!=="categorical"){var nt="number expected, "+ke+" found";return Nl(b)&&E===void 0&&(nt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new oe(Ae.key,Fe,nt)]}return E!=="categorical"||ke!=="number"||isFinite(He)&&Math.floor(He)===He?E!=="categorical"&&ke==="number"&&u!==void 0&&He<u?[new oe(Ae.key,Fe,"stop domain values must appear in ascending order")]:(u=He,E==="categorical"&&He in P?[new oe(Ae.key,Fe,"stop domain values must be unique")]:(P[He]=!0,[])):[new oe(Ae.key,Fe,"integer expected, found "+He)]}}function ja(r){var a=(r.expressionContext==="property"?hl:Xc)(A(r.value),r.valueSpec);if(a.result==="error")return a.value.map(function(g){return new oe(""+r.key+g.key,r.value,g.message)});var u=a.value.expression||a.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!u.outputDefined())return[new oe(r.key,r.value,'Invalid data expression for "'+r.propertyKey+'". Output values must be contained as literals within the expression.')];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Es(u))return[new oe(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!Es(u))return[new oe(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!Vc(u,["zoom","feature-state"]))return[new oe(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!sl(u))return[new oe(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function oc(r){var a=r.key,u=r.value,g=r.valueSpec,b=[];return Array.isArray(g.values)?g.values.indexOf(Qe(u))===-1&&b.push(new oe(a,u,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(u)+" found")):Object.keys(g.values).indexOf(Qe(u))===-1&&b.push(new oe(a,u,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(u)+" found")),b}function Xo(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(var a=0,u=r.slice(1);a<u.length;a+=1){var g=u[a];if(!Xo(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ic.deserialize=function(r){return new ic(r._parameters,r._specification)},ic.serialize=function(r){return{_parameters:r._parameters,_specification:r._specification}};var Np={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cs(r){if(r==null)return{filter:function(){return!0},needGeometry:!1};Xo(r)||(r=fs(r));var a=Xc(r,Np);if(a.result==="error")throw new Error(a.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,g,b){return a.value.evaluate(u,g,{},b)},needGeometry:function u(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var b=1;b<g.length;b++)if(u(g[b]))return!0;return!1}(r)}}function fa(r,a){return r<a?-1:r>a?1:0}function fs(r){if(!r)return!0;var a,u=r[0];return r.length<=1?u!=="any":u==="=="?Gs(r[1],r[2],"=="):u==="!="?Yc(Gs(r[1],r[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Gs(r[1],r[2],u):u==="any"?(a=r.slice(1),["any"].concat(a.map(fs))):u==="all"?["all"].concat(r.slice(1).map(fs)):u==="none"?["all"].concat(r.slice(1).map(fs).map(Yc)):u==="in"?Up(r[1],r.slice(2)):u==="!in"?Yc(Up(r[1],r.slice(2))):u==="has"?zf(r[1]):u==="!has"?Yc(zf(r[1])):u!=="within"||r}function Gs(r,a,u){switch(r){case"$type":return["filter-type-"+u,a];case"$id":return["filter-id-"+u,a];default:return["filter-"+u,r,a]}}function Up(r,a){if(a.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(function(u){return typeof u!=typeof a[0]})?["filter-in-large",r,["literal",a.sort(fa)]]:["filter-in-small",r,["literal",a]]}}function zf(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Yc(r){return["!",r]}function mu(r){return Xo(A(r.value))?ja(lt({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function a(u){var g=u.value,b=u.key;if(Vr(g)!=="array")return[new oe(b,g,"array expected, "+Vr(g)+" found")];var E,P=u.styleSpec,B=[];if(g.length<1)return[new oe(b,g,"filter array must have at least 1 element")];switch(B=B.concat(oc({key:b+"[0]",value:g[0],valueSpec:P.filter_operator,style:u.style,styleSpec:u.styleSpec})),Qe(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&Qe(g[1])==="$type"&&B.push(new oe(b,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&B.push(new oe(b,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(E=Vr(g[1]))!=="string"&&B.push(new oe(b+"[1]",g[1],"string expected, "+E+" found"));for(var $=2;$<g.length;$++)E=Vr(g[$]),Qe(g[1])==="$type"?B=B.concat(oc({key:b+"["+$+"]",value:g[$],valueSpec:P.geometry_type,style:u.style,styleSpec:u.styleSpec})):E!=="string"&&E!=="number"&&E!=="boolean"&&B.push(new oe(b+"["+$+"]",g[$],"string, number, or boolean expected, "+E+" found"));break;case"any":case"all":case"none":for(var W=1;W<g.length;W++)B=B.concat(a({key:b+"["+W+"]",value:g[W],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":E=Vr(g[1]),g.length!==2?B.push(new oe(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):E!=="string"&&B.push(new oe(b+"[1]",g[1],"string expected, "+E+" found"));break;case"within":E=Vr(g[1]),g.length!==2?B.push(new oe(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):E!=="object"&&B.push(new oe(b+"[1]",g[1],"object expected, "+E+" found"))}return B}(r)}function Qs(r,a){var u=r.key,g=r.style,b=r.styleSpec,E=r.value,P=r.objectKey,B=b[a+"_"+r.layerType];if(!B)return[];var $=P.match(/^(.*)-transition$/);if(a==="paint"&&$&&B[$[1]]&&B[$[1]].transition)return ur({key:u,value:E,valueSpec:b.transition,style:g,styleSpec:b});var W,Z=r.valueSpec||B[P];if(!Z)return[new oe(u,E,'unknown property "'+P+'"')];if(Vr(E)==="string"&&Nl(Z)&&!Z.tokens&&(W=/^{([^}]+)}$/.exec(E)))return[new oe(u,E,'"'+P+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(W[1])+" }`.")];var Y=[];return r.layerType==="symbol"&&(P==="text-field"&&g&&!g.glyphs&&Y.push(new oe(u,E,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&Kc(A(E))&&Qe(E.type)==="identity"&&Y.push(new oe(u,E,'"text-font" does not support identity functions'))),Y.concat(ur({key:r.key,value:E,valueSpec:Z,style:g,styleSpec:b,expressionContext:"property",propertyType:a,propertyKey:P}))}function rt(r){return Qs(r,"paint")}function Pt(r){return Qs(r,"layout")}function _t(r){var a=[],u=r.value,g=r.key,b=r.style,E=r.styleSpec;u.type||u.ref||a.push(new oe(g,u,'either "type" or "ref" is required'));var P,B=Qe(u.type),$=Qe(u.ref);if(u.id)for(var W=Qe(u.id),Z=0;Z<r.arrayIndex;Z++){var Y=b.layers[Z];Qe(Y.id)===W&&a.push(new oe(g,u.id,'duplicate layer id "'+u.id+'", previously used at line '+Y.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(Ce){Ce in u&&a.push(new oe(g,u[Ce],'"'+Ce+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ce){Qe(Ce.id)===$&&(P=Ce)}),P?P.ref?a.push(new oe(g,u.ref,"ref cannot reference another ref layer")):B=Qe(P.type):a.push(new oe(g,u.ref,'ref layer "'+$+'" not found'));else if(B!=="background")if(u.source){var ue=b.sources&&b.sources[u.source],Ae=ue&&Qe(ue.type);ue?Ae==="vector"&&B==="raster"?a.push(new oe(g,u.source,'layer "'+u.id+'" requires a raster source')):Ae==="raster"&&B!=="raster"?a.push(new oe(g,u.source,'layer "'+u.id+'" requires a vector source')):Ae!=="vector"||u["source-layer"]?Ae==="raster-dem"&&B!=="hillshade"?a.push(new oe(g,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):B!=="line"||!u.paint||!u.paint["line-gradient"]||Ae==="geojson"&&ue.lineMetrics||a.push(new oe(g,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):a.push(new oe(g,u,'layer "'+u.id+'" must specify a "source-layer"')):a.push(new oe(g,u.source,'source "'+u.source+'" not found'))}else a.push(new oe(g,u,'missing required property "source"'));return a=a.concat(Si({key:g,value:u,valueSpec:E.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ur({key:g+".type",value:u.type,valueSpec:E.layer.type,style:r.style,styleSpec:r.styleSpec,object:u,objectKey:"type"})},filter:mu,layout:function(Ce){return Si({layer:u,key:Ce.key,value:Ce.value,style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{"*":function(ke){return Pt(lt({layerType:B},ke))}}})},paint:function(Ce){return Si({layer:u,key:Ce.key,value:Ce.value,style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{"*":function(ke){return rt(lt({layerType:B},ke))}}})}}}))}function qt(r){var a=r.value,u=r.key,g=Vr(a);return g!=="string"?[new oe(u,a,"string expected, "+g+" found")]:[]}var er={promoteId:function(r){var a=r.key,u=r.value;if(Vr(u)==="string")return qt({key:a,value:u});var g=[];for(var b in u)g.push.apply(g,qt({key:a+"."+b,value:u[b]}));return g}};function wr(r){var a=r.value,u=r.key,g=r.styleSpec,b=r.style;if(!a.type)return[new oe(u,a,'"type" is required')];var E,P=Qe(a.type);switch(P){case"vector":case"raster":case"raster-dem":return Si({key:u,value:a,valueSpec:g["source_"+P.replace("-","_")],style:r.style,styleSpec:g,objectElementValidators:er});case"geojson":if(E=Si({key:u,value:a,valueSpec:g.source_geojson,style:b,styleSpec:g,objectElementValidators:er}),a.cluster)for(var B in a.clusterProperties){var $=a.clusterProperties[B],W=$[0],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;E.push.apply(E,ja({key:u+"."+B+".map",value:$[1],expressionContext:"cluster-map"})),E.push.apply(E,ja({key:u+"."+B+".reduce",value:Z,expressionContext:"cluster-reduce"}))}return E;case"video":return Si({key:u,value:a,valueSpec:g.source_video,style:b,styleSpec:g});case"image":return Si({key:u,value:a,valueSpec:g.source_image,style:b,styleSpec:g});case"canvas":return[new oe(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oc({key:u+".type",value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:g})}}function ti(r){var a=r.value,u=r.styleSpec,g=u.light,b=r.style,E=[],P=Vr(a);if(a===void 0)return E;if(P!=="object")return E.concat([new oe("light",a,"object expected, "+P+" found")]);for(var B in a){var $=B.match(/^(.*)-transition$/);E=E.concat($&&g[$[1]]&&g[$[1]].transition?ur({key:B,value:a[B],valueSpec:u.transition,style:b,styleSpec:u}):g[B]?ur({key:B,value:a[B],valueSpec:g[B],style:b,styleSpec:u}):[new oe(B,a[B],'unknown property "'+B+'"')])}return E}var Ln={"*":function(){return[]},array:du,boolean:function(r){var a=r.value,u=r.key,g=Vr(a);return g!=="boolean"?[new oe(u,a,"boolean expected, "+g+" found")]:[]},number:ks,color:function(r){var a=r.key,u=r.value,g=Vr(u);return g!=="string"?[new oe(a,u,"color expected, "+g+" found")]:Ge(u)===null?[new oe(a,u,'color expected, "'+u+'" found')]:[]},constants:Ve,enum:oc,filter:mu,function:Ts,layer:_t,object:Si,source:wr,light:ti,string:qt,formatted:function(r){return qt(r).length===0?[]:ja(r)},resolvedImage:function(r){return qt(r).length===0?[]:ja(r)}};function ur(r){var a=r.value,u=r.valueSpec,g=r.styleSpec;return u.expression&&Kc(Qe(a))?Ts(r):u.expression&&Ui(A(a))?ja(r):u.type&&Ln[u.type]?Ln[u.type](r):Si(lt({},r,{valueSpec:u.type?g[u.type]:u}))}function Ul(r){var a=r.value,u=r.key,g=qt(r);return g.length||(a.indexOf("{fontstack}")===-1&&g.push(new oe(u,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&g.push(new oe(u,a,'"glyphs" url must include a "{range}" token'))),g}function ji(r,a){a===void 0&&(a=xe);var u=[];return u=u.concat(ur({key:"",value:r,valueSpec:a.$root,styleSpec:a,style:r,objectElementValidators:{glyphs:Ul,"*":function(){return[]}}})),r.constants&&(u=u.concat(Ve({key:"constants",value:r.constants,style:r,styleSpec:a}))),gu(u)}function gu(r){return[].concat(r).sort(function(a,u){return a.line-u.line})}function xa(r){return function(){for(var a=[],u=arguments.length;u--;)a[u]=arguments[u];return gu(r.apply(this,a))}}ji.source=xa(wr),ji.light=xa(ti),ji.layer=xa(_t),ji.filter=xa(mu),ji.paintProperty=xa(rt),ji.layoutProperty=xa(Pt);var ps=ji,Jc=ps.light,Al=ps.paintProperty,Ur=ps.layoutProperty;function ac(r,a){var u=!1;if(a&&a.length)for(var g=0,b=a;g<b.length;g+=1)r.fire(new qe(new Error(b[g].message))),u=!0;return u}var To=ho;function ho(r,a,u){var g=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var b=new Int32Array(this.arrayBuffer);r=b[0],this.d=(a=b[1])+2*(u=b[2]);for(var E=0;E<this.d*this.d;E++){var P=b[3+E],B=b[3+E+1];g.push(P===B?null:b.subarray(P,B))}var $=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],$),this.bboxes=b.subarray($),this.insert=this._insertReadonly}else{this.d=a+2*u;for(var W=0;W<this.d*this.d;W++)g.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=r,this.padding=u,this.scale=a/r,this.uid=0;var Z=u/a*r;this.min=-Z,this.max=r+Z}ho.prototype.insert=function(r,a,u,g,b){this._forEachCell(a,u,g,b,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(g),this.bboxes.push(b)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(r,a,u,g,b,E){this.cells[b].push(E)},ho.prototype.query=function(r,a,u,g,b){var E=this.min,P=this.max;if(r<=E&&a<=E&&P<=u&&P<=g&&!b)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(r,a,u,g,this._queryCell,B,{},b),B},ho.prototype._queryCell=function(r,a,u,g,b,E,P,B){var $=this.cells[b];if($!==null)for(var W=this.keys,Z=this.bboxes,Y=0;Y<$.length;Y++){var ue=$[Y];if(P[ue]===void 0){var Ae=4*ue;(B?B(Z[Ae+0],Z[Ae+1],Z[Ae+2],Z[Ae+3]):r<=Z[Ae+2]&&a<=Z[Ae+3]&&u>=Z[Ae+0]&&g>=Z[Ae+1])?(P[ue]=!0,E.push(W[ue])):P[ue]=!1}}},ho.prototype._forEachCell=function(r,a,u,g,b,E,P,B){for(var $=this._convertToCellCoord(r),W=this._convertToCellCoord(a),Z=this._convertToCellCoord(u),Y=this._convertToCellCoord(g),ue=$;ue<=Z;ue++)for(var Ae=W;Ae<=Y;Ae++){var Ce=this.d*Ae+ue;if((!B||B(this._convertFromCellCoord(ue),this._convertFromCellCoord(Ae),this._convertFromCellCoord(ue+1),this._convertFromCellCoord(Ae+1)))&&b.call(this,r,a,u,g,Ce,E,P,B))return}},ho.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,a=3+this.cells.length+1+1,u=0,g=0;g<this.cells.length;g++)u+=this.cells[g].length;var b=new Int32Array(a+u+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var E=a,P=0;P<r.length;P++){var B=r[P];b[3+P]=E,b.set(B,E),E+=B.length}return b[3+r.length]=E,b.set(this.keys,E),b[3+r.length+1]=E+=this.keys.length,b.set(this.bboxes,E),E+=this.bboxes.length,b.buffer};var Nf=z.ImageData,Zi=z.ImageBitmap,ba={};function an(r,a,u){u===void 0&&(u={}),Object.defineProperty(a,"_classRegistryKey",{value:r,writeable:!1}),ba[r]={klass:a,omit:u.omit||[],shallow:u.shallow||[]}}for(var $a in an("Object",Object),To.serialize=function(r,a){var u=r.toArrayBuffer();return a&&a.push(u),{buffer:u}},To.deserialize=function(r){return new To(r.buffer)},an("Grid",To),an("Color",wn),an("Error",Error),an("ResolvedImage",Qo),an("StylePropertyFunction",ic),an("StyleExpression",po,{omit:["_evaluator"]}),an("ZoomDependentExpression",Au),an("ZoomConstantExpression",rc),an("CompoundExpression",wi,{omit:["_evaluate"]}),qs)qs[$a]._classRegistryKey||an("Expression_"+$a,qs[$a]);function Ws(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Ks(r){return Zi&&r instanceof Zi}function Fo(r,a){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Ws(r)||Ks(r))return a&&a.push(r),r;if(ArrayBuffer.isView(r)){var u=r;return a&&a.push(u.buffer),u}if(r instanceof Nf)return a&&a.push(r.data.buffer),r;if(Array.isArray(r)){for(var g=[],b=0,E=r;b<E.length;b+=1)g.push(Fo(E[b],a));return g}if(typeof r=="object"){var P=r.constructor,B=P._classRegistryKey;if(!B)throw new Error("can't serialize object of unregistered class");var $=P.serialize?P.serialize(r,a):{};if(!P.serialize){for(var W in r)if(r.hasOwnProperty(W)&&!(ba[B].omit.indexOf(W)>=0)){var Z=r[W];$[W]=ba[B].shallow.indexOf(W)>=0?Z:Fo(Z,a)}r instanceof Error&&($.message=r.message)}if($.$name)throw new Error("$name property is reserved for worker serialization logic.");return B!=="Object"&&($.$name=B),$}throw new Error("can't serialize object of type "+typeof r)}function yu(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Ws(r)||Ks(r)||ArrayBuffer.isView(r)||r instanceof Nf)return r;if(Array.isArray(r))return r.map(yu);if(typeof r=="object"){var a=r.$name||"Object",u=ba[a].klass;if(!u)throw new Error("can't deserialize unregistered class "+a);if(u.deserialize)return u.deserialize(r);for(var g=Object.create(u.prototype),b=0,E=Object.keys(r);b<E.length;b+=1){var P=E[b];if(P!=="$name"){var B=r[P];g[P]=ba[a].shallow.indexOf(P)>=0?B:yu(B)}}return g}throw new Error("can't deserialize object of type "+typeof r)}var Yo=function(){this.first=!0};Yo.prototype.update=function(r,a){var u=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=a),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=u,!0))};var un={"Latin-1 Supplement":function(r){return r>=128&&r<=255},Arabic:function(r){return r>=1536&&r<=1791},"Arabic Supplement":function(r){return r>=1872&&r<=1919},"Arabic Extended-A":function(r){return r>=2208&&r<=2303},"Hangul Jamo":function(r){return r>=4352&&r<=4607},"Unified Canadian Aboriginal Syllabics":function(r){return r>=5120&&r<=5759},Khmer:function(r){return r>=6016&&r<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(r){return r>=6320&&r<=6399},"General Punctuation":function(r){return r>=8192&&r<=8303},"Letterlike Symbols":function(r){return r>=8448&&r<=8527},"Number Forms":function(r){return r>=8528&&r<=8591},"Miscellaneous Technical":function(r){return r>=8960&&r<=9215},"Control Pictures":function(r){return r>=9216&&r<=9279},"Optical Character Recognition":function(r){return r>=9280&&r<=9311},"Enclosed Alphanumerics":function(r){return r>=9312&&r<=9471},"Geometric Shapes":function(r){return r>=9632&&r<=9727},"Miscellaneous Symbols":function(r){return r>=9728&&r<=9983},"Miscellaneous Symbols and Arrows":function(r){return r>=11008&&r<=11263},"CJK Radicals Supplement":function(r){return r>=11904&&r<=12031},"Kangxi Radicals":function(r){return r>=12032&&r<=12255},"Ideographic Description Characters":function(r){return r>=12272&&r<=12287},"CJK Symbols and Punctuation":function(r){return r>=12288&&r<=12351},Hiragana:function(r){return r>=12352&&r<=12447},Katakana:function(r){return r>=12448&&r<=12543},Bopomofo:function(r){return r>=12544&&r<=12591},"Hangul Compatibility Jamo":function(r){return r>=12592&&r<=12687},Kanbun:function(r){return r>=12688&&r<=12703},"Bopomofo Extended":function(r){return r>=12704&&r<=12735},"CJK Strokes":function(r){return r>=12736&&r<=12783},"Katakana Phonetic Extensions":function(r){return r>=12784&&r<=12799},"Enclosed CJK Letters and Months":function(r){return r>=12800&&r<=13055},"CJK Compatibility":function(r){return r>=13056&&r<=13311},"CJK Unified Ideographs Extension A":function(r){return r>=13312&&r<=19903},"Yijing Hexagram Symbols":function(r){return r>=19904&&r<=19967},"CJK Unified Ideographs":function(r){return r>=19968&&r<=40959},"Yi Syllables":function(r){return r>=40960&&r<=42127},"Yi Radicals":function(r){return r>=42128&&r<=42191},"Hangul Jamo Extended-A":function(r){return r>=43360&&r<=43391},"Hangul Syllables":function(r){return r>=44032&&r<=55215},"Hangul Jamo Extended-B":function(r){return r>=55216&&r<=55295},"Private Use Area":function(r){return r>=57344&&r<=63743},"CJK Compatibility Ideographs":function(r){return r>=63744&&r<=64255},"Arabic Presentation Forms-A":function(r){return r>=64336&&r<=65023},"Vertical Forms":function(r){return r>=65040&&r<=65055},"CJK Compatibility Forms":function(r){return r>=65072&&r<=65103},"Small Form Variants":function(r){return r>=65104&&r<=65135},"Arabic Presentation Forms-B":function(r){return r>=65136&&r<=65279},"Halfwidth and Fullwidth Forms":function(r){return r>=65280&&r<=65519}};function sc(r){for(var a=0,u=r;a<u.length;a+=1)if(Zs(u[a].charCodeAt(0)))return!0;return!1}function Zs(r){return!(r!==746&&r!==747&&(r<4352||!(un["Bopomofo Extended"](r)||un.Bopomofo(r)||un["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||un["CJK Compatibility Ideographs"](r)||un["CJK Compatibility"](r)||un["CJK Radicals Supplement"](r)||un["CJK Strokes"](r)||!(!un["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||un["CJK Unified Ideographs Extension A"](r)||un["CJK Unified Ideographs"](r)||un["Enclosed CJK Letters and Months"](r)||un["Hangul Compatibility Jamo"](r)||un["Hangul Jamo Extended-A"](r)||un["Hangul Jamo Extended-B"](r)||un["Hangul Jamo"](r)||un["Hangul Syllables"](r)||un.Hiragana(r)||un["Ideographic Description Characters"](r)||un.Kanbun(r)||un["Kangxi Radicals"](r)||un["Katakana Phonetic Extensions"](r)||un.Katakana(r)&&r!==12540||!(!un["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!un["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||un["Unified Canadian Aboriginal Syllabics"](r)||un["Unified Canadian Aboriginal Syllabics Extended"](r)||un["Vertical Forms"](r)||un["Yijing Hexagram Symbols"](r)||un["Yi Syllables"](r)||un["Yi Radicals"](r))))}function Ao(r){return!(Zs(r)||function(a){return!!(un["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||un["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||un["Letterlike Symbols"](a)||un["Number Forms"](a)||un["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||un["Control Pictures"](a)&&a!==9251||un["Optical Character Recognition"](a)||un["Enclosed Alphanumerics"](a)||un["Geometric Shapes"](a)||un["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||un["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||un["CJK Symbols and Punctuation"](a)||un.Katakana(a)||un["Private Use Area"](a)||un["CJK Compatibility Forms"](a)||un["Small Form Variants"](a)||un["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(r))}function Sr(r){return r>=1424&&r<=2303||un["Arabic Presentation Forms-A"](r)||un["Arabic Presentation Forms-B"](r)}function ef(r,a){return!(!a&&Sr(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||un.Khmer(r))}function jp(r){for(var a=0,u=r;a<u.length;a+=1)if(Sr(u[a].charCodeAt(0)))return!0;return!1}var Uf=null,mo="unavailable",Va=null,jl=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(mo="error"),Uf&&Uf(r)};function tf(){nf.fire(new je("pluginStateChange",{pluginStatus:mo,pluginURL:Va}))}var nf=new Ue,hs=function(){return mo},$p=function(){if(mo!=="deferred"||!Va)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");mo="loading",tf(),Va&&zr({url:Va},function(r){r?jl(r):(mo="loaded",tf())})},rr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return mo==="loaded"||rr.applyArabicShaping!=null},isLoading:function(){return mo==="loading"},setState:function(r){mo=r.pluginStatus,Va=r.pluginURL},isParsed:function(){return rr.applyArabicShaping!=null&&rr.processBidirectionalText!=null&&rr.processStyledBidirectionalText!=null},getPluginURL:function(){return Va}},Wn=function(r,a){this.zoom=r,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Yo,this.transition={})};Wn.prototype.isSupportedScript=function(r){return function(a,u){for(var g=0,b=a;g<b.length;g+=1)if(!ef(b[g].charCodeAt(0),u))return!1;return!0}(r,rr.isLoaded())},Wn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wn.prototype.getCrossfadeParameters=function(){var r=this.zoom,a=r-Math.floor(r),u=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*a}};var pa=function(r,a){this.property=r,this.value=a,this.expression=function(u,g){if(Kc(u))return new ic(u,g);if(Ui(u)){var b=hl(u,g);if(b.result==="error")throw new Error(b.value.map(function(P){return P.key+": "+P.message}).join(", "));return b.value}var E=u;return typeof u=="string"&&g.type==="color"&&(E=wn.parse(u)),{kind:"constant",evaluate:function(){return E}}}(a===void 0?r.specification.default:a,r.specification)};pa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},pa.prototype.possiblyEvaluate=function(r,a,u){return this.property.possiblyEvaluate(this,r,a,u)};var Pi=function(r){this.property=r,this.value=new pa(r,void 0)};Pi.prototype.transitioned=function(r,a){return new Bo(this.property,this.value,a,X({},r.transition,this.transition),r.now)},Pi.prototype.untransitioned=function(){return new Bo(this.property,this.value,null,{},0)};var Bn=function(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)};Bn.prototype.getValue=function(r){return Xe(this._values[r].value.value)},Bn.prototype.setValue=function(r,a){this._values.hasOwnProperty(r)||(this._values[r]=new Pi(this._values[r].property)),this._values[r].value=new pa(this._values[r].property,a===null?void 0:Xe(a))},Bn.prototype.getTransition=function(r){return Xe(this._values[r].transition)},Bn.prototype.setTransition=function(r,a){this._values.hasOwnProperty(r)||(this._values[r]=new Pi(this._values[r].property)),this._values[r].transition=Xe(a)||void 0},Bn.prototype.serialize=function(){for(var r={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a],b=this.getValue(g);b!==void 0&&(r[g]=b);var E=this.getTransition(g);E!==void 0&&(r[g+"-transition"]=E)}return r},Bn.prototype.transitioned=function(r,a){for(var u=new Ha(this._properties),g=0,b=Object.keys(this._values);g<b.length;g+=1){var E=b[g];u._values[E]=this._values[E].transitioned(r,a._values[E])}return u},Bn.prototype.untransitioned=function(){for(var r=new Ha(this._properties),a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a];r._values[g]=this._values[g].untransitioned()}return r};var Bo=function(r,a,u,g,b){this.property=r,this.value=a,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,r.specification.transition&&(g.delay||g.duration)&&(this.prior=u)};Bo.prototype.possiblyEvaluate=function(r,a,u){var g=r.now||0,b=this.value.possiblyEvaluate(r,a,u),E=this.prior;if(E){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return E.possiblyEvaluate(r,a,u);var P=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(r,a,u),b,function(B){if(B<=0)return 0;if(B>=1)return 1;var $=B*B,W=$*B;return 4*(B<.5?W:3*(B-$)+W-.75)}(P))}return b};var Ha=function(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)};Ha.prototype.possiblyEvaluate=function(r,a,u){for(var g=new qa(this._properties),b=0,E=Object.keys(this._values);b<E.length;b+=1){var P=E[b];g._values[P]=this._values[P].possiblyEvaluate(r,a,u)}return g},Ha.prototype.hasTransition=function(){for(var r=0,a=Object.keys(this._values);r<a.length;r+=1)if(this._values[a[r]].prior)return!0;return!1};var Jo=function(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)};Jo.prototype.getValue=function(r){return Xe(this._values[r].value)},Jo.prototype.setValue=function(r,a){this._values[r]=new pa(this._values[r].property,a===null?void 0:Xe(a))},Jo.prototype.serialize=function(){for(var r={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a],b=this.getValue(g);b!==void 0&&(r[g]=b)}return r},Jo.prototype.possiblyEvaluate=function(r,a,u){for(var g=new qa(this._properties),b=0,E=Object.keys(this._values);b<E.length;b+=1){var P=E[b];g._values[P]=this._values[P].possiblyEvaluate(r,a,u)}return g};var ea=function(r,a,u){this.property=r,this.value=a,this.parameters=u};ea.prototype.isConstant=function(){return this.value.kind==="constant"},ea.prototype.constantOr=function(r){return this.value.kind==="constant"?this.value.value:r},ea.prototype.evaluate=function(r,a,u,g){return this.property.evaluate(this.value,this.parameters,r,a,u,g)};var qa=function(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)};qa.prototype.get=function(r){return this._values[r]};var Wt=function(r){this.specification=r};Wt.prototype.possiblyEvaluate=function(r,a){return r.expression.evaluate(a)},Wt.prototype.interpolate=function(r,a,u){var g=au[this.specification.type];return g?g(r,a,u):r};var dt=function(r,a){this.specification=r,this.overrides=a};dt.prototype.possiblyEvaluate=function(r,a,u,g){return new ea(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(a,null,{},u,g)}:r.expression,a)},dt.prototype.interpolate=function(r,a,u){if(r.value.kind!=="constant"||a.value.kind!=="constant")return r;if(r.value.value===void 0||a.value.value===void 0)return new ea(this,{kind:"constant",value:void 0},r.parameters);var g=au[this.specification.type];return g?new ea(this,{kind:"constant",value:g(r.value.value,a.value.value,u)},r.parameters):r},dt.prototype.evaluate=function(r,a,u,g,b,E){return r.kind==="constant"?r.value:r.evaluate(a,u,g,b,E)};var Yt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,g,b,E){if(u.value===void 0)return new ea(this,{kind:"constant",value:void 0},g);if(u.expression.kind==="constant"){var P=u.expression.evaluate(g,null,{},b,E),B=u.property.specification.type==="resolvedImage"&&typeof P!="string"?P.name:P,$=this._calculate(B,B,B,g);return new ea(this,{kind:"constant",value:$},g)}if(u.expression.kind==="camera"){var W=this._calculate(u.expression.evaluate({zoom:g.zoom-1}),u.expression.evaluate({zoom:g.zoom}),u.expression.evaluate({zoom:g.zoom+1}),g);return new ea(this,{kind:"constant",value:W},g)}return new ea(this,u.expression,g)},a.prototype.evaluate=function(u,g,b,E,P,B){if(u.kind==="source"){var $=u.evaluate(g,b,E,P,B);return this._calculate($,$,$,g)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(g.zoom)-1},b,E),u.evaluate({zoom:Math.floor(g.zoom)},b,E),u.evaluate({zoom:Math.floor(g.zoom)+1},b,E),g):u.value},a.prototype._calculate=function(u,g,b,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:b,to:g}},a.prototype.interpolate=function(u){return u},a}(dt),Po=function(r){this.specification=r};Po.prototype.possiblyEvaluate=function(r,a,u,g){if(r.value!==void 0){if(r.expression.kind==="constant"){var b=r.expression.evaluate(a,null,{},u,g);return this._calculate(b,b,b,a)}return this._calculate(r.expression.evaluate(new Wn(Math.floor(a.zoom-1),a)),r.expression.evaluate(new Wn(Math.floor(a.zoom),a)),r.expression.evaluate(new Wn(Math.floor(a.zoom+1),a)),a)}},Po.prototype._calculate=function(r,a,u,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:r,to:a}:{from:u,to:a}},Po.prototype.interpolate=function(r){return r};var Ga=function(r){this.specification=r};Ga.prototype.possiblyEvaluate=function(r,a,u,g){return!!r.expression.evaluate(a,null,{},u,g)},Ga.prototype.interpolate=function(){return!1};var zo=function(r){for(var a in this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],r){var u=r[a];u.specification.overridable&&this.overridableProperties.push(a);var g=this.defaultPropertyValues[a]=new pa(u,void 0),b=this.defaultTransitionablePropertyValues[a]=new Pi(u);this.defaultTransitioningPropertyValues[a]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=g.possiblyEvaluate({})}};an("DataDrivenProperty",dt),an("DataConstantProperty",Wt),an("CrossFadedDataDrivenProperty",Yt),an("CrossFadedProperty",Po),an("ColorRampProperty",Ga);var $i=function(r){function a(u,g){if(r.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},u.type!=="custom"&&(this.metadata=(u=u).metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),g.layout&&(this._unevaluatedLayout=new Jo(g.layout)),g.paint)){for(var b in this._transitionablePaint=new Bn(g.paint),u.paint)this.setPaintProperty(b,u.paint[b],{validate:!1});for(var E in u.layout)this.setLayoutProperty(E,u.layout[E],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qa(g.paint)}}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},a.prototype.getLayoutProperty=function(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)},a.prototype.setLayoutProperty=function(u,g,b){b===void 0&&(b={}),g!=null&&this._validate(Ur,"layers."+this.id+".layout."+u,u,g,b)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,g):this.visibility=g)},a.prototype.getPaintProperty=function(u){return Se(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},a.prototype.setPaintProperty=function(u,g,b){if(b===void 0&&(b={}),g!=null&&this._validate(Al,"layers."+this.id+".paint."+u,u,g,b))return!1;if(Se(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),g||void 0),!1;var E=this._transitionablePaint._values[u],P=E.property.specification["property-type"]==="cross-faded-data-driven",B=E.value.isDataDriven(),$=E.value;this._transitionablePaint.setValue(u,g),this._handleSpecialPaintPropertyUpdate(u);var W=this._transitionablePaint._values[u].value;return W.isDataDriven()||B||P||this._handleOverridablePaintPropertyUpdate(u,$,W)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){},a.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!1},a.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"},a.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},a.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},a.prototype.recalculate=function(u,g){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,g)},a.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),tt(u,function(g,b){return!(g===void 0||b==="layout"&&!Object.keys(g).length||b==="paint"&&!Object.keys(g).length)})},a.prototype._validate=function(u,g,b,E,P){return P===void 0&&(P={}),(!P||P.validate!==!1)&&ac(this,u.call(ps,{key:g,layerType:this.type,objectKey:b,value:E,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))},a.prototype.is3D=function(){return!1},a.prototype.isTileClipped=function(){return!1},a.prototype.hasOffscreenPass=function(){return!1},a.prototype.resize=function(){},a.prototype.isStateDependent=function(){for(var u in this.paint._values){var g=this.paint.get(u);if(g instanceof ea&&Nl(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},a}(Ue),Vp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ta=function(r,a){this._structArray=r,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},h=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function m(r,a){a===void 0&&(a=1);var u=0,g=0;return{members:r.map(function(b){var E=Vp[b.type].BYTES_PER_ELEMENT,P=u=v(u,Math.max(a,E)),B=b.components||1;return g=Math.max(g,E),u+=E*B,{name:b.name,type:b.type,components:B,offset:P}}),size:v(u,Math.max(g,a)),alignment:a}}function v(r,a){return Math.ceil(r/a)*a}h.serialize=function(r,a){return r._trim(),a&&(r.isTransferred=!0,a.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}},h.deserialize=function(r){var a=Object.create(this.prototype);return a.arrayBuffer=r.arrayBuffer,a.length=r.length,a.capacity=r.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a},h.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},h.prototype.clear=function(){this.length=0},h.prototype.resize=function(r){this.reserve(r),this.length=r},h.prototype.reserve=function(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}},h.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var E=2*u;return this.int16[E+0]=g,this.int16[E+1]=b,u},a}(h);_.prototype.bytesPerElement=4,an("StructArrayLayout2i4",_);var k=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,b,E)},a.prototype.emplace=function(u,g,b,E,P){var B=4*u;return this.int16[B+0]=g,this.int16[B+1]=b,this.int16[B+2]=E,this.int16[B+3]=P,u},a}(h);k.prototype.bytesPerElement=8,an("StructArrayLayout4i8",k);var O=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B){var $=this.length;return this.resize($+1),this.emplace($,u,g,b,E,P,B)},a.prototype.emplace=function(u,g,b,E,P,B,$){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=E,this.int16[W+3]=P,this.int16[W+4]=B,this.int16[W+5]=$,u},a}(h);O.prototype.bytesPerElement=12,an("StructArrayLayout2i4i12",O);var I=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B){var $=this.length;return this.resize($+1),this.emplace($,u,g,b,E,P,B)},a.prototype.emplace=function(u,g,b,E,P,B,$){var W=4*u,Z=8*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.uint8[Z+4]=E,this.uint8[Z+5]=P,this.uint8[Z+6]=B,this.uint8[Z+7]=$,u},a}(h);I.prototype.bytesPerElement=8,an("StructArrayLayout2i4ub8",I);var N=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var E=2*u;return this.float32[E+0]=g,this.float32[E+1]=b,u},a}(h);N.prototype.bytesPerElement=8,an("StructArrayLayout2f8",N);var Q=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B,$,W,Z,Y){var ue=this.length;return this.resize(ue+1),this.emplace(ue,u,g,b,E,P,B,$,W,Z,Y)},a.prototype.emplace=function(u,g,b,E,P,B,$,W,Z,Y,ue){var Ae=10*u;return this.uint16[Ae+0]=g,this.uint16[Ae+1]=b,this.uint16[Ae+2]=E,this.uint16[Ae+3]=P,this.uint16[Ae+4]=B,this.uint16[Ae+5]=$,this.uint16[Ae+6]=W,this.uint16[Ae+7]=Z,this.uint16[Ae+8]=Y,this.uint16[Ae+9]=ue,u},a}(h);Q.prototype.bytesPerElement=20,an("StructArrayLayout10ui20",Q);var ie=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,u,g,b,E,P,B,$,W,Z,Y,ue,Ae)},a.prototype.emplace=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce){var ke=12*u;return this.int16[ke+0]=g,this.int16[ke+1]=b,this.int16[ke+2]=E,this.int16[ke+3]=P,this.uint16[ke+4]=B,this.uint16[ke+5]=$,this.uint16[ke+6]=W,this.uint16[ke+7]=Z,this.int16[ke+8]=Y,this.int16[ke+9]=ue,this.int16[ke+10]=Ae,this.int16[ke+11]=Ce,u},a}(h);ie.prototype.bytesPerElement=24,an("StructArrayLayout4i4ui4i24",ie);var ce=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var E=this.length;return this.resize(E+1),this.emplace(E,u,g,b)},a.prototype.emplace=function(u,g,b,E){var P=3*u;return this.float32[P+0]=g,this.float32[P+1]=b,this.float32[P+2]=E,u},a}(h);ce.prototype.bytesPerElement=12,an("StructArrayLayout3f12",ce);var Be=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.uint32[1*u+0]=g,u},a}(h);Be.prototype.bytesPerElement=4,an("StructArrayLayout1ul4",Be);var Ke=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B,$,W,Z){var Y=this.length;return this.resize(Y+1),this.emplace(Y,u,g,b,E,P,B,$,W,Z)},a.prototype.emplace=function(u,g,b,E,P,B,$,W,Z,Y){var ue=10*u,Ae=5*u;return this.int16[ue+0]=g,this.int16[ue+1]=b,this.int16[ue+2]=E,this.int16[ue+3]=P,this.int16[ue+4]=B,this.int16[ue+5]=$,this.uint32[Ae+3]=W,this.uint16[ue+8]=Z,this.uint16[ue+9]=Y,u},a}(h);Ke.prototype.bytesPerElement=20,an("StructArrayLayout6i1ul2ui20",Ke);var ot=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B){var $=this.length;return this.resize($+1),this.emplace($,u,g,b,E,P,B)},a.prototype.emplace=function(u,g,b,E,P,B,$){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=E,this.int16[W+3]=P,this.int16[W+4]=B,this.int16[W+5]=$,u},a}(h);ot.prototype.bytesPerElement=12,an("StructArrayLayout2i2i2i12",ot);var bt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P){var B=this.length;return this.resize(B+1),this.emplace(B,u,g,b,E,P)},a.prototype.emplace=function(u,g,b,E,P,B){var $=4*u,W=8*u;return this.float32[$+0]=g,this.float32[$+1]=b,this.float32[$+2]=E,this.int16[W+6]=P,this.int16[W+7]=B,u},a}(h);bt.prototype.bytesPerElement=16,an("StructArrayLayout2f1f2i16",bt);var Ct=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,b,E)},a.prototype.emplace=function(u,g,b,E,P){var B=12*u,$=3*u;return this.uint8[B+0]=g,this.uint8[B+1]=b,this.float32[$+1]=E,this.float32[$+2]=P,u},a}(h);Ct.prototype.bytesPerElement=12,an("StructArrayLayout2ub2f12",Ct);var Nt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var E=this.length;return this.resize(E+1),this.emplace(E,u,g,b)},a.prototype.emplace=function(u,g,b,E){var P=3*u;return this.uint16[P+0]=g,this.uint16[P+1]=b,this.uint16[P+2]=E,u},a}(h);Nt.prototype.bytesPerElement=6,an("StructArrayLayout3ui6",Nt);var cn=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt){var it=this.length;return this.resize(it+1),this.emplace(it,u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt)},a.prototype.emplace=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt,it){var ft=24*u,pt=12*u,kt=48*u;return this.int16[ft+0]=g,this.int16[ft+1]=b,this.uint16[ft+2]=E,this.uint16[ft+3]=P,this.uint32[pt+2]=B,this.uint32[pt+3]=$,this.uint32[pt+4]=W,this.uint16[ft+10]=Z,this.uint16[ft+11]=Y,this.uint16[ft+12]=ue,this.float32[pt+7]=Ae,this.float32[pt+8]=Ce,this.uint8[kt+36]=ke,this.uint8[kt+37]=He,this.uint8[kt+38]=Fe,this.uint32[pt+10]=nt,this.int16[ft+22]=it,u},a}(h);cn.prototype.bytesPerElement=48,an("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",cn);var mt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt,it,ft,pt,kt,Ut,Zt,gn,nn,Cn,on,Zn){var On=this.length;return this.resize(On+1),this.emplace(On,u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt,it,ft,pt,kt,Ut,Zt,gn,nn,Cn,on,Zn)},a.prototype.emplace=function(u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke,He,Fe,nt,it,ft,pt,kt,Ut,Zt,gn,nn,Cn,on,Zn,On){var yn=34*u,ir=17*u;return this.int16[yn+0]=g,this.int16[yn+1]=b,this.int16[yn+2]=E,this.int16[yn+3]=P,this.int16[yn+4]=B,this.int16[yn+5]=$,this.int16[yn+6]=W,this.int16[yn+7]=Z,this.uint16[yn+8]=Y,this.uint16[yn+9]=ue,this.uint16[yn+10]=Ae,this.uint16[yn+11]=Ce,this.uint16[yn+12]=ke,this.uint16[yn+13]=He,this.uint16[yn+14]=Fe,this.uint16[yn+15]=nt,this.uint16[yn+16]=it,this.uint16[yn+17]=ft,this.uint16[yn+18]=pt,this.uint16[yn+19]=kt,this.uint16[yn+20]=Ut,this.uint16[yn+21]=Zt,this.uint16[yn+22]=gn,this.uint32[ir+12]=nn,this.float32[ir+13]=Cn,this.float32[ir+14]=on,this.float32[ir+15]=Zn,this.float32[ir+16]=On,u},a}(h);mt.prototype.bytesPerElement=68,an("StructArrayLayout8i15ui1ul4f68",mt);var Rt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.float32[1*u+0]=g,u},a}(h);Rt.prototype.bytesPerElement=4,an("StructArrayLayout1f4",Rt);var Ze=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var E=this.length;return this.resize(E+1),this.emplace(E,u,g,b)},a.prototype.emplace=function(u,g,b,E){var P=3*u;return this.int16[P+0]=g,this.int16[P+1]=b,this.int16[P+2]=E,u},a}(h);Ze.prototype.bytesPerElement=6,an("StructArrayLayout3i6",Ze);var _n=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var E=this.length;return this.resize(E+1),this.emplace(E,u,g,b)},a.prototype.emplace=function(u,g,b,E){var P=4*u;return this.uint32[2*u+0]=g,this.uint16[P+2]=b,this.uint16[P+3]=E,u},a}(h);_n.prototype.bytesPerElement=8,an("StructArrayLayout1ul2ui8",_n);var xn=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var E=2*u;return this.uint16[E+0]=g,this.uint16[E+1]=b,u},a}(h);xn.prototype.bytesPerElement=4,an("StructArrayLayout2ui4",xn);var Kt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.uint16[1*u+0]=g,u},a}(h);Kt.prototype.bytesPerElement=2,an("StructArrayLayout1ui2",Kt);var c=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,E){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,b,E)},a.prototype.emplace=function(u,g,b,E,P){var B=4*u;return this.float32[B+0]=g,this.float32[B+1]=b,this.float32[B+2]=E,this.float32[B+3]=P,u},a}(h);c.prototype.bytesPerElement=16,an("StructArrayLayout4f16",c);var p=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new M(this.anchorPointX,this.anchorPointY)},Object.defineProperties(a.prototype,u),a}(ta);p.prototype.size=20;var f=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new p(this,u)},a}(Ke);an("CollisionBoxArray",f);var y=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(a.prototype,u),a}(ta);y.prototype.size=48;var C=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new y(this,u)},a}(cn);an("PlacedSymbolArray",C);var L=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(a.prototype,u),a}(ta);L.prototype.size=68;var D=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new L(this,u)},a}(mt);an("SymbolInstanceArray",D);var j=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getoffsetX=function(u){return this.float32[1*u+0]},a}(Rt);an("GlyphOffsetArray",j);var G=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getx=function(u){return this.int16[3*u+0]},a.prototype.gety=function(u){return this.int16[3*u+1]},a.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},a}(Ze);an("SymbolLineVertexArray",G);var te=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(a.prototype,u),a}(ta);te.prototype.size=8;var de=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new te(this,u)},a}(_n);an("FeatureIndexArray",de);var _e=m([{name:"a_pos",components:2,type:"Int16"}],4).members,me=function(r){r===void 0&&(r=[]),this.segments=r};function Oe(r,a){return 256*(r=ee(Math.floor(r),0,255))+ee(Math.floor(a),0,255)}me.prototype.prepareSegment=function(r,a,u,g){var b=this.segments[this.segments.length-1];return r>me.MAX_VERTEX_ARRAY_LENGTH&&yt("Max vertices per segment is "+me.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+r),(!b||b.vertexLength+r>me.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:a.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b},me.prototype.get=function(){return this.segments},me.prototype.destroy=function(){for(var r=0,a=this.segments;r<a.length;r+=1){var u=a[r];for(var g in u.vaos)u.vaos[g].destroy()}},me.simpleSegment=function(r,a,u,g){return new me([{vertexOffset:r,primitiveOffset:a,vertexLength:u,primitiveLength:g,vaos:{},sortKey:0}])},me.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,an("SegmentVector",me);var Pe=m([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Ne=x(function(r){r.exports=function(a,u){var g,b,E,P,B,$,W,Z;for(b=a.length-(g=3&a.length),E=u,B=3432918353,$=461845907,Z=0;Z<b;)W=255&a.charCodeAt(Z)|(255&a.charCodeAt(++Z))<<8|(255&a.charCodeAt(++Z))<<16|(255&a.charCodeAt(++Z))<<24,++Z,E=27492+(65535&(P=5*(65535&(E=(E^=W=(65535&(W=(W=(65535&W)*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*$+(((W>>>16)*$&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(P>>>16)&65535)<<16);switch(W=0,g){case 3:W^=(255&a.charCodeAt(Z+2))<<16;case 2:W^=(255&a.charCodeAt(Z+1))<<8;case 1:E^=W=(65535&(W=(W=(65535&(W^=255&a.charCodeAt(Z)))*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*$+(((W>>>16)*$&65535)<<16)&4294967295}return E^=a.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0}}),Te=x(function(r){r.exports=function(a,u){for(var g,b=a.length,E=u^b,P=0;b>=4;)g=1540483477*(65535&(g=255&a.charCodeAt(P)|(255&a.charCodeAt(++P))<<8|(255&a.charCodeAt(++P))<<16|(255&a.charCodeAt(++P))<<24))+((1540483477*(g>>>16)&65535)<<16),E=1540483477*(65535&E)+((1540483477*(E>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),b-=4,++P;switch(b){case 3:E^=(255&a.charCodeAt(P+2))<<16;case 2:E^=(255&a.charCodeAt(P+1))<<8;case 1:E=1540483477*(65535&(E^=255&a.charCodeAt(P)))+((1540483477*(E>>>16)&65535)<<16)}return E=1540483477*(65535&(E^=E>>>13))+((1540483477*(E>>>16)&65535)<<16),(E^=E>>>15)>>>0}}),ze=Ne,We=Te;ze.murmur3=Ne,ze.murmur2=We;var et=function(){this.ids=[],this.positions=[],this.indexed=!1};et.prototype.add=function(r,a,u,g){this.ids.push(ht(r)),this.positions.push(a,u,g)},et.prototype.getPositions=function(r){for(var a=ht(r),u=0,g=this.ids.length-1;u<g;){var b=u+g>>1;this.ids[b]>=a?g=b:u=b+1}for(var E=[];this.ids[u]===a;)E.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return E},et.serialize=function(r,a){var u=new Float64Array(r.ids),g=new Uint32Array(r.positions);return function b(E,P,B,$){for(;B<$;){for(var W=E[B+$>>1],Z=B-1,Y=$+1;;){do Z++;while(E[Z]<W);do Y--;while(E[Y]>W);if(Z>=Y)break;gt(E,Z,Y),gt(P,3*Z,3*Y),gt(P,3*Z+1,3*Y+1),gt(P,3*Z+2,3*Y+2)}Y-B<$-Y?(b(E,P,B,Y),B=Y+1):(b(E,P,Y+1,$),$=Y)}}(u,g,0,u.length-1),a&&a.push(u.buffer,g.buffer),{ids:u,positions:g}},et.deserialize=function(r){var a=new et;return a.ids=r.ids,a.positions=r.positions,a.indexed=!0,a};var At=Math.pow(2,53)-1;function ht(r){var a=+r;return!isNaN(a)&&a<=At?a:ze(String(r))}function gt(r,a,u){var g=r[a];r[a]=r[u],r[u]=g}an("FeaturePositionMap",et);var Tt=function(r,a){this.gl=r.gl,this.location=a},zt=function(r){function a(u,g){r.call(this,u,g),this.current=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},a}(Tt),Ft=function(r){function a(u,g){r.call(this,u,g),this.current=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},a}(Tt),tn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},a}(Tt),mn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},a}(Tt),Pn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0,0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},a}(Tt),kn=function(r){function a(u,g){r.call(this,u,g),this.current=wn.transparent}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},a}(Tt),vr=new Float32Array(16),pn=function(r){function a(u,g){r.call(this,u,g),this.current=vr}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var g=1;g<16;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},a}(Tt);function Rn(r){return[Oe(255*r.r,255*r.g),Oe(255*r.b,255*r.a)]}var tr=function(r,a,u){this.value=r,this.uniformNames=a.map(function(g){return"u_"+g}),this.type=u};tr.prototype.setUniform=function(r,a,u){r.set(u.constantOr(this.value))},tr.prototype.getBinding=function(r,a,u){return this.type==="color"?new kn(r,a):new Ft(r,a)};var Vn=function(r,a){this.uniformNames=a.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(r,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=r.tlbr},Vn.prototype.setUniform=function(r,a,u,g){var b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&r.set(b)},Vn.prototype.getBinding=function(r,a,u){return u.substr(0,9)==="u_pattern"?new Pn(r,a):new Ft(r,a)};var zn=function(r,a,u,g){this.expression=r,this.type=u,this.maxValue=0,this.paintVertexAttributes=a.map(function(b){return{name:"a_"+b,type:"Float32",components:u==="color"?2:1,offset:0}}),this.paintVertexArray=new g};zn.prototype.populatePaintArray=function(r,a,u,g,b){var E=this.paintVertexArray.length,P=this.expression.evaluate(new Wn(0),a,{},g,[],b);this.paintVertexArray.resize(r),this._setPaintValue(E,r,P)},zn.prototype.updatePaintArray=function(r,a,u,g){var b=this.expression.evaluate({zoom:0},u,g);this._setPaintValue(r,a,b)},zn.prototype._setPaintValue=function(r,a,u){if(this.type==="color")for(var g=Rn(u),b=r;b<a;b++)this.paintVertexArray.emplace(b,g[0],g[1]);else{for(var E=r;E<a;E++)this.paintVertexArray.emplace(E,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},zn.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},zn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Un=function(r,a,u,g,b,E){this.expression=r,this.uniformNames=a.map(function(P){return"u_"+P+"_t"}),this.type=u,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=a.map(function(P){return{name:"a_"+P,type:"Float32",components:u==="color"?4:2,offset:0}}),this.paintVertexArray=new E};Un.prototype.populatePaintArray=function(r,a,u,g,b){var E=this.expression.evaluate(new Wn(this.zoom),a,{},g,[],b),P=this.expression.evaluate(new Wn(this.zoom+1),a,{},g,[],b),B=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(B,r,E,P)},Un.prototype.updatePaintArray=function(r,a,u,g){var b=this.expression.evaluate({zoom:this.zoom},u,g),E=this.expression.evaluate({zoom:this.zoom+1},u,g);this._setPaintValue(r,a,b,E)},Un.prototype._setPaintValue=function(r,a,u,g){if(this.type==="color")for(var b=Rn(u),E=Rn(g),P=r;P<a;P++)this.paintVertexArray.emplace(P,b[0],b[1],E[0],E[1]);else{for(var B=r;B<a;B++)this.paintVertexArray.emplace(B,u,g);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(g))}},Un.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Un.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Un.prototype.setUniform=function(r,a){var u=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,g=ee(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);r.set(g)},Un.prototype.getBinding=function(r,a,u){return new Ft(r,a)};var Dn=function(r,a,u,g,b,E){this.expression=r,this.type=a,this.useIntegerZoom=u,this.zoom=g,this.layerId=E,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};Dn.prototype.populatePaintArray=function(r,a,u){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(g,r,a.patterns&&a.patterns[this.layerId],u)},Dn.prototype.updatePaintArray=function(r,a,u,g,b){this._setPaintValues(r,a,u.patterns&&u.patterns[this.layerId],b)},Dn.prototype._setPaintValues=function(r,a,u,g){if(g&&u){var b=g[u.min],E=g[u.mid],P=g[u.max];if(b&&E&&P)for(var B=r;B<a;B++)this.zoomInPaintVertexArray.emplace(B,E.tl[0],E.tl[1],E.br[0],E.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],E.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,E.tl[0],E.tl[1],E.br[0],E.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],E.pixelRatio,P.pixelRatio)}},Dn.prototype.upload=function(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Pe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Pe.members,this.expression.isStateDependent))},Dn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var An=function(r,a,u){this.binders={},this._buffers=[];var g=[];for(var b in r.paint._values)if(u(b)){var E=r.paint.get(b);if(E instanceof ea&&Nl(E.property.specification)){var P=Vi(b,r.type),B=E.value,$=E.property.specification.type,W=E.property.useIntegerZoom,Z=E.property.specification["property-type"],Y=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[b]=Y?new Vn(B.value,P):new tr(B.value,P,$),g.push("/u_"+b);else if(B.kind==="source"||Y){var ue=Ii(b,$,"source");this.binders[b]=Y?new Dn(B,$,W,a,ue,r.id):new zn(B,P,$,ue),g.push("/a_"+b)}else{var Ae=Ii(b,$,"composite");this.binders[b]=new Un(B,P,$,W,a,Ae),g.push("/z_"+b)}}}this.cacheKey=g.sort().join("")};An.prototype.getMaxValue=function(r){var a=this.binders[r];return a instanceof zn||a instanceof Un?a.maxValue:0},An.prototype.populatePaintArrays=function(r,a,u,g,b){for(var E in this.binders){var P=this.binders[E];(P instanceof zn||P instanceof Un||P instanceof Dn)&&P.populatePaintArray(r,a,u,g,b)}},An.prototype.setConstantPatternPositions=function(r,a){for(var u in this.binders){var g=this.binders[u];g instanceof Vn&&g.setConstantPatternPositions(r,a)}},An.prototype.updatePaintArrays=function(r,a,u,g,b){var E=!1;for(var P in r)for(var B=0,$=a.getPositions(P);B<$.length;B+=1){var W=$[B],Z=u.feature(W.index);for(var Y in this.binders){var ue=this.binders[Y];if((ue instanceof zn||ue instanceof Un||ue instanceof Dn)&&ue.expression.isStateDependent===!0){var Ae=g.paint.get(Y);ue.expression=Ae.value,ue.updatePaintArray(W.start,W.end,Z,r[P],b),E=!0}}}return E},An.prototype.defines=function(){var r=[];for(var a in this.binders){var u=this.binders[a];(u instanceof tr||u instanceof Vn)&&r.push.apply(r,u.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return r},An.prototype.getBinderAttributes=function(){var r=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof zn||u instanceof Un)for(var g=0;g<u.paintVertexAttributes.length;g++)r.push(u.paintVertexAttributes[g].name);else if(u instanceof Dn)for(var b=0;b<Pe.members.length;b++)r.push(Pe.members[b].name)}return r},An.prototype.getBinderUniforms=function(){var r=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof tr||u instanceof Vn||u instanceof Un)for(var g=0,b=u.uniformNames;g<b.length;g+=1)r.push(b[g])}return r},An.prototype.getPaintVertexBuffers=function(){return this._buffers},An.prototype.getUniforms=function(r,a){var u=[];for(var g in this.binders){var b=this.binders[g];if(b instanceof tr||b instanceof Vn||b instanceof Un)for(var E=0,P=b.uniformNames;E<P.length;E+=1){var B=P[E];if(a[B]){var $=b.getBinding(r,a[B],B);u.push({name:B,property:g,binding:$})}}}return u},An.prototype.setUniforms=function(r,a,u,g){for(var b=0,E=a;b<E.length;b+=1){var P=E[b],B=P.name,$=P.property;this.binders[$].setUniform(P.binding,g,u.get($),B)}},An.prototype.updatePaintBuffers=function(r){for(var a in this._buffers=[],this.binders){var u=this.binders[a];if(r&&u instanceof Dn){var g=r.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(u instanceof zn||u instanceof Un)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},An.prototype.upload=function(r){for(var a in this.binders){var u=this.binders[a];(u instanceof zn||u instanceof Un||u instanceof Dn)&&u.upload(r)}this.updatePaintBuffers()},An.prototype.destroy=function(){for(var r in this.binders){var a=this.binders[r];(a instanceof zn||a instanceof Un||a instanceof Dn)&&a.destroy()}};var Hr=function(r,a,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var g=0,b=r;g<b.length;g+=1){var E=b[g];this.programConfigurations[E.id]=new An(E,a,u)}this.needsUpload=!1,this._featureMap=new et,this._bufferOffset=0};function Vi(r,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(a+"-","").replace(/-/g,"_")]}function Ii(r,a,u){var g={color:{source:N,composite:c},number:{source:Rt,composite:N}},b=function(E){return{"line-pattern":{source:Q,composite:Q},"fill-pattern":{source:Q,composite:Q},"fill-extrusion-pattern":{source:Q,composite:Q}}[E]}(r);return b&&b[u]||g[a][u]}Hr.prototype.populatePaintArrays=function(r,a,u,g,b,E){for(var P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(r,a,g,b,E);a.id!==void 0&&this._featureMap.add(a.id,u,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0},Hr.prototype.updatePaintArrays=function(r,a,u,g){for(var b=0,E=u;b<E.length;b+=1){var P=E[b];this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(r,this._featureMap,a,P,g)||this.needsUpload}},Hr.prototype.get=function(r){return this.programConfigurations[r]},Hr.prototype.upload=function(r){if(this.needsUpload){for(var a in this.programConfigurations)this.programConfigurations[a].upload(r);this.needsUpload=!1}},Hr.prototype.destroy=function(){for(var r in this.programConfigurations)this.programConfigurations[r].destroy()},an("ConstantBinder",tr),an("CrossFadedConstantBinder",Vn),an("SourceExpressionBinder",zn),an("CrossFadedCompositeBinder",Dn),an("CompositeExpressionBinder",Un),an("ProgramConfiguration",An,{omit:["_buffers"]}),an("ProgramConfigurationSet",Hr);var so=Math.pow(2,14)-1,Xi=-so-1;function fi(r){for(var a=8192/r.extent,u=r.loadGeometry(),g=0;g<u.length;g++)for(var b=u[g],E=0;E<b.length;E++){var P=b[E],B=Math.round(P.x*a),$=Math.round(P.y*a);P.x=ee(B,Xi,so),P.y=ee($,Xi,so),(B<P.x||B>P.x+1||$<P.y||$>P.y+1)&&yt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function na(r,a){return{type:r.type,id:r.id,properties:r.properties,geometry:a?fi(r):[]}}function Hi(r,a,u,g,b){r.emplaceBack(2*a+(g+1)/2,2*u+(b+1)/2)}var ra=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Nt,this.segments=new me,this.programConfigurations=new Hr(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function wa(r,a){for(var u=0;u<r.length;u++)if(Qa(a,r[u]))return!0;for(var g=0;g<a.length;g++)if(Qa(r,a[g]))return!0;return!!vu(r,a)}function dl(r,a,u){return!!Qa(r,a)||!!_u(a,r,u)}function As(r,a){if(r.length===1)return rf(a,r[0]);for(var u=0;u<a.length;u++)for(var g=a[u],b=0;b<g.length;b++)if(Qa(r,g[b]))return!0;for(var E=0;E<r.length;E++)if(rf(a,r[E]))return!0;for(var P=0;P<a.length;P++)if(vu(r,a[P]))return!0;return!1}function jf(r,a,u){if(r.length>1){if(vu(r,a))return!0;for(var g=0;g<a.length;g++)if(_u(a[g],r,u))return!0}for(var b=0;b<r.length;b++)if(_u(r[b],a,u))return!0;return!1}function vu(r,a){if(r.length===0||a.length===0)return!1;for(var u=0;u<r.length-1;u++)for(var g=r[u],b=r[u+1],E=0;E<a.length-1;E++)if(ml(g,b,a[E],a[E+1]))return!0;return!1}function ml(r,a,u,g){return Ot(r,u,g)!==Ot(a,u,g)&&Ot(r,a,u)!==Ot(r,a,g)}function _u(r,a,u){var g=u*u;if(a.length===1)return r.distSqr(a[0])<g;for(var b=1;b<a.length;b++)if($f(r,a[b-1],a[b])<g)return!0;return!1}function $f(r,a,u){var g=a.distSqr(u);if(g===0)return r.distSqr(a);var b=((r.x-a.x)*(u.x-a.x)+(r.y-a.y)*(u.y-a.y))/g;return r.distSqr(b<0?a:b>1?u:u.sub(a)._mult(b)._add(a))}function rf(r,a){for(var u,g,b,E=!1,P=0;P<r.length;P++)for(var B=0,$=(u=r[P]).length-1;B<u.length;$=B++)(g=u[B]).y>a.y!=(b=u[$]).y>a.y&&a.x<(b.x-g.x)*(a.y-g.y)/(b.y-g.y)+g.x&&(E=!E);return E}function Qa(r,a){for(var u=!1,g=0,b=r.length-1;g<r.length;b=g++){var E=r[g],P=r[b];E.y>a.y!=P.y>a.y&&a.x<(P.x-E.x)*(a.y-E.y)/(P.y-E.y)+E.x&&(u=!u)}return u}function of(r,a,u){var g=u[0],b=u[2];if(r.x<g.x&&a.x<g.x||r.x>b.x&&a.x>b.x||r.y<g.y&&a.y<g.y||r.y>b.y&&a.y>b.y)return!1;var E=Ot(r,a,u[0]);return E!==Ot(r,a,u[1])||E!==Ot(r,a,u[2])||E!==Ot(r,a,u[3])}function go(r,a,u){var g=a.paint.get(r).value;return g.kind==="constant"?g.value:u.programConfigurations.get(a.id).getMaxValue(r)}function Xs(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Ps(r,a,u,g,b){if(!a[0]&&!a[1])return r;var E=M.convert(a)._mult(b);u==="viewport"&&E._rotate(-g);for(var P=[],B=0;B<r.length;B++)P.push(r[B].sub(E));return P}ra.prototype.populate=function(r,a,u){var g=this.layers[0],b=[],E=null,P=!1;g.type==="circle"&&(P=!(E=g.layout.get("circle-sort-key")).isConstant());for(var B=0,$=r;B<$.length;B+=1){var W=$[B],Z=W.feature,Y=W.id,ue=W.index,Ae=W.sourceLayerIndex,Ce=this.layers[0]._featureFilter.needGeometry,ke=na(Z,Ce);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),ke,u)){var He=P?E.evaluate(ke,{},u):void 0,Fe={id:Y,properties:Z.properties,type:Z.type,sourceLayerIndex:Ae,index:ue,geometry:Ce?ke.geometry:fi(Z),patterns:{},sortKey:He};b.push(Fe)}}P&&b.sort(function(gn,nn){return gn.sortKey-nn.sortKey});for(var nt=0,it=b;nt<it.length;nt+=1){var ft=it[nt],pt=ft.geometry,kt=ft.index,Ut=ft.sourceLayerIndex,Zt=r[kt].feature;this.addFeature(ft,pt,kt,u),a.featureIndex.insert(Zt,pt,kt,Ut,this.index)}},ra.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},ra.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ra.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ra.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,_e),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},ra.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ra.prototype.addFeature=function(r,a,u,g){for(var b=0,E=a;b<E.length;b+=1)for(var P=0,B=E[b];P<B.length;P+=1){var $=B[P],W=$.x,Z=$.y;if(!(W<0||W>=8192||Z<0||Z>=8192)){var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),ue=Y.vertexLength;Hi(this.layoutVertexArray,W,Z,-1,-1),Hi(this.layoutVertexArray,W,Z,1,-1),Hi(this.layoutVertexArray,W,Z,1,1),Hi(this.layoutVertexArray,W,Z,-1,1),this.indexArray.emplaceBack(ue,ue+1,ue+2),this.indexArray.emplaceBack(ue,ue+3,ue+2),Y.vertexLength+=4,Y.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,{},g)},an("CircleBucket",ra,{omit:["layers"]});var lc=new zo({"circle-sort-key":new dt(xe.layout_circle["circle-sort-key"])}),Yi={paint:new zo({"circle-radius":new dt(xe.paint_circle["circle-radius"]),"circle-color":new dt(xe.paint_circle["circle-color"]),"circle-blur":new dt(xe.paint_circle["circle-blur"]),"circle-opacity":new dt(xe.paint_circle["circle-opacity"]),"circle-translate":new Wt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Wt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Wt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Wt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new dt(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new dt(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new dt(xe.paint_circle["circle-stroke-opacity"])}),layout:lc},qi=typeof Float32Array<"u"?Float32Array:Array;function ha(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function uc(r,a,u){var g=a[0],b=a[1],E=a[2],P=a[3],B=a[4],$=a[5],W=a[6],Z=a[7],Y=a[8],ue=a[9],Ae=a[10],Ce=a[11],ke=a[12],He=a[13],Fe=a[14],nt=a[15],it=u[0],ft=u[1],pt=u[2],kt=u[3];return r[0]=it*g+ft*B+pt*Y+kt*ke,r[1]=it*b+ft*$+pt*ue+kt*He,r[2]=it*E+ft*W+pt*Ae+kt*Fe,r[3]=it*P+ft*Z+pt*Ce+kt*nt,r[4]=(it=u[4])*g+(ft=u[5])*B+(pt=u[6])*Y+(kt=u[7])*ke,r[5]=it*b+ft*$+pt*ue+kt*He,r[6]=it*E+ft*W+pt*Ae+kt*Fe,r[7]=it*P+ft*Z+pt*Ce+kt*nt,r[8]=(it=u[8])*g+(ft=u[9])*B+(pt=u[10])*Y+(kt=u[11])*ke,r[9]=it*b+ft*$+pt*ue+kt*He,r[10]=it*E+ft*W+pt*Ae+kt*Fe,r[11]=it*P+ft*Z+pt*Ce+kt*nt,r[12]=(it=u[12])*g+(ft=u[13])*B+(pt=u[14])*Y+(kt=u[15])*ke,r[13]=it*b+ft*$+pt*ue+kt*He,r[14]=it*E+ft*W+pt*Ae+kt*Fe,r[15]=it*P+ft*Z+pt*Ce+kt*nt,r}Math.hypot||(Math.hypot=function(){for(var r=arguments,a=0,u=arguments.length;u--;)a+=r[u]*r[u];return Math.sqrt(a)});var Hp,Yh=uc;function Vf(r,a,u){var g=a[0],b=a[1],E=a[2],P=a[3];return r[0]=u[0]*g+u[4]*b+u[8]*E+u[12]*P,r[1]=u[1]*g+u[5]*b+u[9]*E+u[13]*P,r[2]=u[2]*g+u[6]*b+u[10]*E+u[14]*P,r[3]=u[3]*g+u[7]*b+u[11]*E+u[15]*P,r}Hp=new qi(3),qi!=Float32Array&&(Hp[0]=0,Hp[1]=0,Hp[2]=0),function(){var r=new qi(4);qi!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0)}();var Hf=(function(){var r=new qi(2);qi!=Float32Array&&(r[0]=0,r[1]=0)}(),function(r){function a(u){r.call(this,u,Yi)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new ra(u)},a.prototype.queryRadius=function(u){var g=u;return go("circle-radius",this,g)+go("circle-stroke-width",this,g)+Xs(this.paint.get("circle-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,E,P,B,$,W){for(var Z=Ps(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,$),Y=this.paint.get("circle-radius").evaluate(g,b)+this.paint.get("circle-stroke-width").evaluate(g,b),ue=this.paint.get("circle-pitch-alignment")==="map",Ae=ue?Z:function(Ut,Zt){return Ut.map(function(gn){return Jh(gn,Zt)})}(Z,W),Ce=ue?Y*$:Y,ke=0,He=E;ke<He.length;ke+=1)for(var Fe=0,nt=He[ke];Fe<nt.length;Fe+=1){var it=nt[Fe],ft=ue?it:Jh(it,W),pt=Ce,kt=Vf([],[it.x,it.y,0,1],W);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pt*=kt[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pt*=B.cameraToCenterDistance/kt[3]),dl(Ae,ft,pt))return!0}return!1},a}($i));function Jh(r,a){var u=Vf([],[r.x,r.y,0,1],a);return new M(u[0]/u[3],u[1]/u[3])}var xu=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(ra);function qf(r,a,u,g){var b=a.width,E=a.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==b*E*u)throw new RangeError("mismatched image size")}else g=new Uint8Array(b*E*u);return r.width=b,r.height=E,r.data=g,r}function nm(r,a,u){var g=a.width,b=a.height;if(g!==r.width||b!==r.height){var E=qf({},{width:g,height:b},u);sd(r,E,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,g),height:Math.min(r.height,b)},u),r.width=g,r.height=b,r.data=E.data}}function sd(r,a,u,g,b,E){if(b.width===0||b.height===0)return a;if(b.width>r.width||b.height>r.height||u.x>r.width-b.width||u.y>r.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>a.width||b.height>a.height||g.x>a.width-b.width||g.y>a.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var P=r.data,B=a.data,$=0;$<b.height;$++)for(var W=((u.y+$)*r.width+u.x)*E,Z=((g.y+$)*a.width+g.x)*E,Y=0;Y<b.width*E;Y++)B[Z+Y]=P[W+Y];return a}an("HeatmapBucket",xu,{omit:["layers"]});var Gf=function(r,a){qf(this,r,1,a)};Gf.prototype.resize=function(r){nm(this,r,1)},Gf.prototype.clone=function(){return new Gf({width:this.width,height:this.height},new Uint8Array(this.data))},Gf.copy=function(r,a,u,g,b){sd(r,a,u,g,b,1)};var Ra=function(r,a){qf(this,r,4,a)};Ra.prototype.resize=function(r){nm(this,r,4)},Ra.prototype.replace=function(r,a){a?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r},Ra.prototype.clone=function(){return new Ra({width:this.width,height:this.height},new Uint8Array(this.data))},Ra.copy=function(r,a,u,g,b){sd(r,a,u,g,b,4)},an("AlphaImage",Gf),an("RGBAImage",Ra);var tb={paint:new zo({"heatmap-radius":new dt(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new dt(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Wt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ga(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Wt(xe.paint_heatmap["heatmap-opacity"])})};function ld(r){var a={},u=r.resolution||256,g=r.clips?r.clips.length:1,b=r.image||new Ra({width:u,height:g}),E=function(Ce,ke,He){a[r.evaluationKey]=He;var Fe=r.expression.evaluate(a);b.data[Ce+ke+0]=Math.floor(255*Fe.r/Fe.a),b.data[Ce+ke+1]=Math.floor(255*Fe.g/Fe.a),b.data[Ce+ke+2]=Math.floor(255*Fe.b/Fe.a),b.data[Ce+ke+3]=Math.floor(255*Fe.a)};if(r.clips)for(var P=0,B=0;P<g;++P,B+=4*u)for(var $=0,W=0;$<u;$++,W+=4){var Z=$/(u-1),Y=r.clips[P];E(B,W,Y.start*(1-Z)+Y.end*Z)}else for(var ue=0,Ae=0;ue<u;ue++,Ae+=4)E(0,Ae,ue/(u-1));return b}var Ny=function(r){function a(u){r.call(this,u,tb),this._updateColorRamp()}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new xu(u)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="heatmap-color"&&this._updateColorRamp()},a.prototype._updateColorRamp=function(){this.colorRamp=ld({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},a.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},a}($i),rm={paint:new zo({"hillshade-illumination-direction":new Wt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Wt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Wt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Wt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Wt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Wt(xe.paint_hillshade["hillshade-accent-color"])})},nb=function(r){function a(u){r.call(this,u,rm)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},a}($i),im=m([{name:"a_pos",components:2,type:"Int16"}],4).members,Er=ud,rb=ud;function ud(r,a,u){u=u||2;var g,b,E,P,B,$,W,Z=a&&a.length,Y=Z?a[0]*u:r.length,ue=qp(r,0,Y,u,!0),Ae=[];if(!ue||ue.next===ue.prev)return Ae;if(Z&&(ue=function(ke,He,Fe,nt){var it,ft,pt,kt=[];for(it=0,ft=He.length;it<ft;it++)(pt=qp(ke,He[it]*nt,it<ft-1?He[it+1]*nt:ke.length,nt,!1))===pt.next&&(pt.steiner=!0),kt.push(af(pt));for(kt.sort(om),it=0;it<kt.length;it++)Uy(kt[it],Fe),Fe=cc(Fe,Fe.next);return Fe}(r,a,ue,u)),r.length>80*u){g=E=r[0],b=P=r[1];for(var Ce=u;Ce<Y;Ce+=u)(B=r[Ce])<g&&(g=B),($=r[Ce+1])<b&&(b=$),B>E&&(E=B),$>P&&(P=$);W=(W=Math.max(E-g,P-b))!==0?1/W:0}return eA(ue,Ae,u,g,b,W),Ae}function qp(r,a,u,g,b){var E,P;if(b===hd(r,a,u,g)>0)for(E=a;E<u;E+=g)P=Vy(E,r[E],r[E+1],P);else for(E=u-g;E>=a;E-=g)P=Vy(E,r[E],r[E+1],P);return P&&tA(P,P.next)&&(yl(P),P=P.next),P}function cc(r,a){if(!r)return r;a||(a=r);var u,g=r;do if(u=!1,g.steiner||!tA(g,g.next)&&Gi(g.prev,g,g.next)!==0)g=g.next;else{if(yl(g),(g=a=g.prev)===g.next)break;u=!0}while(u||g!==a);return a}function eA(r,a,u,g,b,E,P){if(r){!P&&E&&function(Z,Y,ue,Ae){var Ce=Z;do Ce.z===null&&(Ce.z=ds(Ce.x,Ce.y,Y,ue,Ae)),Ce.prevZ=Ce.prev,Ce.nextZ=Ce.next,Ce=Ce.next;while(Ce!==Z);Ce.prevZ.nextZ=null,Ce.prevZ=null,function(ke){var He,Fe,nt,it,ft,pt,kt,Ut,Zt=1;do{for(Fe=ke,ke=null,ft=null,pt=0;Fe;){for(pt++,nt=Fe,kt=0,He=0;He<Zt&&(kt++,nt=nt.nextZ);He++);for(Ut=Zt;kt>0||Ut>0&&nt;)kt!==0&&(Ut===0||!nt||Fe.z<=nt.z)?(it=Fe,Fe=Fe.nextZ,kt--):(it=nt,nt=nt.nextZ,Ut--),ft?ft.nextZ=it:ke=it,it.prevZ=ft,ft=it;Fe=nt}ft.nextZ=null,Zt*=2}while(pt>1)}(Ce)}(r,g,b,E);for(var B,$,W=r;r.prev!==r.next;)if(B=r.prev,$=r.next,E?gl(r,g,b,E):ib(r))a.push(B.i/u),a.push(r.i/u),a.push($.i/u),yl(r),r=$.next,W=$.next;else if((r=$)===W){P?P===1?eA(r=ob(cc(r),a,u),a,u,g,b,E,2):P===2&&cd(r,a,u,g,b,E):eA(cc(r),a,u,g,b,E,1);break}}}function ib(r){var a=r.prev,u=r,g=r.next;if(Gi(a,u,g)>=0)return!1;for(var b=r.next.next;b!==r.prev;){if(sf(a.x,a.y,u.x,u.y,g.x,g.y,b.x,b.y)&&Gi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function gl(r,a,u,g){var b=r.prev,E=r,P=r.next;if(Gi(b,E,P)>=0)return!1;for(var B=b.x>E.x?b.x>P.x?b.x:P.x:E.x>P.x?E.x:P.x,$=b.y>E.y?b.y>P.y?b.y:P.y:E.y>P.y?E.y:P.y,W=ds(b.x<E.x?b.x<P.x?b.x:P.x:E.x<P.x?E.x:P.x,b.y<E.y?b.y<P.y?b.y:P.y:E.y<P.y?E.y:P.y,a,u,g),Z=ds(B,$,a,u,g),Y=r.prevZ,ue=r.nextZ;Y&&Y.z>=W&&ue&&ue.z<=Z;){if(Y!==r.prev&&Y!==r.next&&sf(b.x,b.y,E.x,E.y,P.x,P.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ue!==r.prev&&ue!==r.next&&sf(b.x,b.y,E.x,E.y,P.x,P.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;Y&&Y.z>=W;){if(Y!==r.prev&&Y!==r.next&&sf(b.x,b.y,E.x,E.y,P.x,P.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ue&&ue.z<=Z;){if(ue!==r.prev&&ue!==r.next&&sf(b.x,b.y,E.x,E.y,P.x,P.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function ob(r,a,u){var g=r;do{var b=g.prev,E=g.next.next;!tA(b,E)&&fd(b,g,g.next,E)&&Qf(b,E)&&Qf(E,b)&&(a.push(b.i/u),a.push(g.i/u),a.push(E.i/u),yl(g),yl(g.next),g=r=E),g=g.next}while(g!==r);return cc(g)}function cd(r,a,u,g,b,E){var P=r;do{for(var B=P.next.next;B!==P.prev;){if(P.i!==B.i&&$y(P,B)){var $=fc(P,B);return P=cc(P,P.next),$=cc($,$.next),eA(P,a,u,g,b,E),void eA($,a,u,g,b,E)}B=B.next}P=P.next}while(P!==r)}function om(r,a){return r.x-a.x}function Uy(r,a){if(a=function(g,b){var E,P=b,B=g.x,$=g.y,W=-1/0;do{if($<=P.y&&$>=P.next.y&&P.next.y!==P.y){var Z=P.x+($-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(Z<=B&&Z>W){if(W=Z,Z===B){if($===P.y)return P;if($===P.next.y)return P.next}E=P.x<P.next.x?P:P.next}}P=P.next}while(P!==b);if(!E)return null;if(B===W)return E;var Y,ue=E,Ae=E.x,Ce=E.y,ke=1/0;P=E;do B>=P.x&&P.x>=Ae&&B!==P.x&&sf($<Ce?B:W,$,Ae,Ce,$<Ce?W:B,$,P.x,P.y)&&(Y=Math.abs($-P.y)/(B-P.x),Qf(P,g)&&(Y<ke||Y===ke&&(P.x>E.x||P.x===E.x&&jy(E,P)))&&(E=P,ke=Y)),P=P.next;while(P!==ue);return E}(r,a)){var u=fc(a,r);cc(a,a.next),cc(u,u.next)}}function jy(r,a){return Gi(r.prev,r,a.prev)<0&&Gi(a.next,r,r.next)<0}function ds(r,a,u,g,b){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-u)*b)|r<<8))|r<<4))|r<<2))|r<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-g)*b)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function af(r){var a=r,u=r;do(a.x<u.x||a.x===u.x&&a.y<u.y)&&(u=a),a=a.next;while(a!==r);return u}function sf(r,a,u,g,b,E,P,B){return(b-P)*(a-B)-(r-P)*(E-B)>=0&&(r-P)*(g-B)-(u-P)*(a-B)>=0&&(u-P)*(E-B)-(b-P)*(g-B)>=0}function $y(r,a){return r.next.i!==a.i&&r.prev.i!==a.i&&!function(u,g){var b=u;do{if(b.i!==u.i&&b.next.i!==u.i&&b.i!==g.i&&b.next.i!==g.i&&fd(b,b.next,u,g))return!0;b=b.next}while(b!==u);return!1}(r,a)&&(Qf(r,a)&&Qf(a,r)&&function(u,g){var b=u,E=!1,P=(u.x+g.x)/2,B=(u.y+g.y)/2;do b.y>B!=b.next.y>B&&b.next.y!==b.y&&P<(b.next.x-b.x)*(B-b.y)/(b.next.y-b.y)+b.x&&(E=!E),b=b.next;while(b!==u);return E}(r,a)&&(Gi(r.prev,r,a.prev)||Gi(r,a.prev,a))||tA(r,a)&&Gi(r.prev,r,r.next)>0&&Gi(a.prev,a,a.next)>0)}function Gi(r,a,u){return(a.y-r.y)*(u.x-a.x)-(a.x-r.x)*(u.y-a.y)}function tA(r,a){return r.x===a.x&&r.y===a.y}function fd(r,a,u,g){var b=Gp(Gi(r,a,u)),E=Gp(Gi(r,a,g)),P=Gp(Gi(u,g,r)),B=Gp(Gi(u,g,a));return b!==E&&P!==B||!(b!==0||!nA(r,u,a))||!(E!==0||!nA(r,g,a))||!(P!==0||!nA(u,r,g))||!(B!==0||!nA(u,a,g))}function nA(r,a,u){return a.x<=Math.max(r.x,u.x)&&a.x>=Math.min(r.x,u.x)&&a.y<=Math.max(r.y,u.y)&&a.y>=Math.min(r.y,u.y)}function Gp(r){return r>0?1:r<0?-1:0}function Qf(r,a){return Gi(r.prev,r,r.next)<0?Gi(r,a,r.next)>=0&&Gi(r,r.prev,a)>=0:Gi(r,a,r.prev)<0||Gi(r,r.next,a)<0}function fc(r,a){var u=new pd(r.i,r.x,r.y),g=new pd(a.i,a.x,a.y),b=r.next,E=a.prev;return r.next=a,a.prev=r,u.next=b,b.prev=u,g.next=u,u.prev=g,E.next=g,g.prev=E,g}function Vy(r,a,u,g){var b=new pd(r,a,u);return g?(b.next=g.next,b.prev=g,g.next.prev=b,g.next=b):(b.prev=b,b.next=b),b}function yl(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function pd(r,a,u){this.i=r,this.x=a,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hd(r,a,u,g){for(var b=0,E=a,P=u-g;E<u;E+=g)b+=(r[P]-r[E])*(r[E+1]+r[P+1]),P=E;return b}function am(r,a,u,g,b){(function E(P,B,$,W,Z){for(;W>$;){if(W-$>600){var Y=W-$+1,ue=B-$+1,Ae=Math.log(Y),Ce=.5*Math.exp(2*Ae/3),ke=.5*Math.sqrt(Ae*Ce*(Y-Ce)/Y)*(ue-Y/2<0?-1:1);E(P,B,Math.max($,Math.floor(B-ue*Ce/Y+ke)),Math.min(W,Math.floor(B+(Y-ue)*Ce/Y+ke)),Z)}var He=P[B],Fe=$,nt=W;for(rA(P,$,B),Z(P[W],He)>0&&rA(P,$,W);Fe<nt;){for(rA(P,Fe,nt),Fe++,nt--;Z(P[Fe],He)<0;)Fe++;for(;Z(P[nt],He)>0;)nt--}Z(P[$],He)===0?rA(P,$,nt):rA(P,++nt,W),nt<=B&&($=nt+1),B<=nt&&(W=nt-1)}})(r,a,u||0,g||r.length-1,b||ab)}function rA(r,a,u){var g=r[a];r[a]=r[u],r[u]=g}function ab(r,a){return r<a?-1:r>a?1:0}function sm(r,a){var u=r.length;if(u<=1)return[r];for(var g,b,E=[],P=0;P<u;P++){var B=Vt(r[P]);B!==0&&(r[P].area=Math.abs(B),b===void 0&&(b=B<0),b===B<0?(g&&E.push(g),g=[r[P]]):g.push(r[P]))}if(g&&E.push(g),a>1)for(var $=0;$<E.length;$++)E[$].length<=a||(am(E[$],a,1,E[$].length-1,Hy),E[$]=E[$].slice(0,a));return E}function Hy(r,a){return a.area-r.area}function Ad(r,a,u){for(var g=u.patternDependencies,b=!1,E=0,P=a;E<P.length;E+=1){var B=P[E].paint.get(r+"-pattern");B.isConstant()||(b=!0);var $=B.constantOr(null);$&&(b=!0,g[$.to]=!0,g[$.from]=!0)}return b}function lm(r,a,u,g,b){for(var E=b.patternDependencies,P=0,B=a;P<B.length;P+=1){var $=B[P],W=$.paint.get(r+"-pattern").value;if(W.kind!=="constant"){var Z=W.evaluate({zoom:g-1},u,{},b.availableImages),Y=W.evaluate({zoom:g},u,{},b.availableImages),ue=W.evaluate({zoom:g+1},u,{},b.availableImages);Y=Y&&Y.name?Y.name:Y,ue=ue&&ue.name?ue.name:ue,E[Z=Z&&Z.name?Z.name:Z]=!0,E[Y]=!0,E[ue]=!0,u.patterns[$.id]={min:Z,mid:Y,max:ue}}}return u}ud.deviation=function(r,a,u,g){var b=a&&a.length,E=Math.abs(hd(r,0,b?a[0]*u:r.length,u));if(b)for(var P=0,B=a.length;P<B;P++)E-=Math.abs(hd(r,a[P]*u,P<B-1?a[P+1]*u:r.length,u));var $=0;for(P=0;P<g.length;P+=3){var W=g[P]*u,Z=g[P+1]*u,Y=g[P+2]*u;$+=Math.abs((r[W]-r[Y])*(r[Z+1]-r[W+1])-(r[W]-r[Z])*(r[Y+1]-r[W+1]))}return E===0&&$===0?0:Math.abs(($-E)/E)},ud.flatten=function(r){for(var a=r[0][0].length,u={vertices:[],holes:[],dimensions:a},g=0,b=0;b<r.length;b++){for(var E=0;E<r[b].length;E++)for(var P=0;P<a;P++)u.vertices.push(r[b][E][P]);b>0&&u.holes.push(g+=r[b-1].length)}return u},Er.default=rb;var vl=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Nt,this.indexArray2=new xn,this.programConfigurations=new Hr(r.layers,r.zoom),this.segments=new me,this.segments2=new me,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};vl.prototype.populate=function(r,a,u){this.hasPattern=Ad("fill",this.layers,a);for(var g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),E=[],P=0,B=r;P<B.length;P+=1){var $=B[P],W=$.feature,Z=$.id,Y=$.index,ue=$.sourceLayerIndex,Ae=this.layers[0]._featureFilter.needGeometry,Ce=na(W,Ae);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ce,u)){var ke=b?g.evaluate(Ce,{},u,a.availableImages):void 0,He={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:Ae?Ce.geometry:fi(W),patterns:{},sortKey:ke};E.push(He)}}b&&E.sort(function(Zt,gn){return Zt.sortKey-gn.sortKey});for(var Fe=0,nt=E;Fe<nt.length;Fe+=1){var it=nt[Fe],ft=it.geometry,pt=it.index,kt=it.sourceLayerIndex;if(this.hasPattern){var Ut=lm("fill",this.layers,it,this.zoom,a);this.patternFeatures.push(Ut)}else this.addFeature(it,ft,pt,u,{});a.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},vl.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},vl.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var E=b[g];this.addFeature(E,E.geometry,E.index,a,u)}},vl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vl.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,im),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},vl.prototype.addFeature=function(r,a,u,g,b){for(var E=0,P=sm(a,500);E<P.length;E+=1){for(var B=P[E],$=0,W=0,Z=B;W<Z.length;W+=1)$+=Z[W].length;for(var Y=this.segments.prepareSegment($,this.layoutVertexArray,this.indexArray),ue=Y.vertexLength,Ae=[],Ce=[],ke=0,He=B;ke<He.length;ke+=1){var Fe=He[ke];if(Fe.length!==0){Fe!==B[0]&&Ce.push(Ae.length/2);var nt=this.segments2.prepareSegment(Fe.length,this.layoutVertexArray,this.indexArray2),it=nt.vertexLength;this.layoutVertexArray.emplaceBack(Fe[0].x,Fe[0].y),this.indexArray2.emplaceBack(it+Fe.length-1,it),Ae.push(Fe[0].x),Ae.push(Fe[0].y);for(var ft=1;ft<Fe.length;ft++)this.layoutVertexArray.emplaceBack(Fe[ft].x,Fe[ft].y),this.indexArray2.emplaceBack(it+ft-1,it+ft),Ae.push(Fe[ft].x),Ae.push(Fe[ft].y);nt.vertexLength+=Fe.length,nt.primitiveLength+=Fe.length}}for(var pt=Er(Ae,Ce),kt=0;kt<pt.length;kt+=3)this.indexArray.emplaceBack(ue+pt[kt],ue+pt[kt+1],ue+pt[kt+2]);Y.vertexLength+=$,Y.primitiveLength+=pt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},an("FillBucket",vl,{omit:["layers","patternFeatures"]});var qy=new zo({"fill-sort-key":new dt(xe.layout_fill["fill-sort-key"])}),Is={paint:new zo({"fill-antialias":new Wt(xe.paint_fill["fill-antialias"]),"fill-opacity":new dt(xe.paint_fill["fill-opacity"]),"fill-color":new dt(xe.paint_fill["fill-color"]),"fill-outline-color":new dt(xe.paint_fill["fill-outline-color"]),"fill-translate":new Wt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Wt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yt(xe.paint_fill["fill-pattern"])}),layout:qy},bu=function(r){function a(u){r.call(this,u,Is)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g);var b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},a.prototype.createBucket=function(u){return new vl(u)},a.prototype.queryRadius=function(){return Xs(this.paint.get("fill-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,E,P,B,$){return As(Ps(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,$),E)},a.prototype.isTileClipped=function(){return!0},a}($i),sb=m([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Gy=pc;function pc(r,a,u,g,b){this.properties={},this.extent=u,this.type=0,this._pbf=r,this._geometry=-1,this._keys=g,this._values=b,r.readFields(Qp,this,a)}function Qp(r,a,u){r==1?a.id=u.readVarint():r==2?function(g,b){for(var E=g.readVarint()+g.pos;g.pos<E;){var P=b._keys[g.readVarint()],B=b._values[g.readVarint()];b.properties[P]=B}}(u,a):r==3?a.type=u.readVarint():r==4&&(a._geometry=u.pos)}function Qy(r){for(var a,u,g=0,b=0,E=r.length,P=E-1;b<E;P=b++)g+=((u=r[P]).x-(a=r[b]).x)*(a.y+u.y);return g}pc.types=["Unknown","Point","LineString","Polygon"],pc.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var a,u=r.readVarint()+r.pos,g=1,b=0,E=0,P=0,B=[];r.pos<u;){if(b<=0){var $=r.readVarint();g=7&$,b=$>>3}if(b--,g===1||g===2)E+=r.readSVarint(),P+=r.readSVarint(),g===1&&(a&&B.push(a),a=[]),a.push(new M(E,P));else{if(g!==7)throw new Error("unknown command "+g);a&&a.push(a[0].clone())}}return a&&B.push(a),B},pc.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var a=r.readVarint()+r.pos,u=1,g=0,b=0,E=0,P=1/0,B=-1/0,$=1/0,W=-1/0;r.pos<a;){if(g<=0){var Z=r.readVarint();u=7&Z,g=Z>>3}if(g--,u===1||u===2)(b+=r.readSVarint())<P&&(P=b),b>B&&(B=b),(E+=r.readSVarint())<$&&($=E),E>W&&(W=E);else if(u!==7)throw new Error("unknown command "+u)}return[P,$,B,W]},pc.prototype.toGeoJSON=function(r,a,u){var g,b,E=this.extent*Math.pow(2,u),P=this.extent*r,B=this.extent*a,$=this.loadGeometry(),W=pc.types[this.type];function Z(Ae){for(var Ce=0;Ce<Ae.length;Ce++){var ke=Ae[Ce];Ae[Ce]=[360*(ke.x+P)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(ke.y+B)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(g=0;g<$.length;g++)Y[g]=$[g][0];Z($=Y);break;case 2:for(g=0;g<$.length;g++)Z($[g]);break;case 3:for($=function(Ae){var Ce=Ae.length;if(Ce<=1)return[Ae];for(var ke,He,Fe=[],nt=0;nt<Ce;nt++){var it=Qy(Ae[nt]);it!==0&&(He===void 0&&(He=it<0),He===it<0?(ke&&Fe.push(ke),ke=[Ae[nt]]):ke.push(Ae[nt]))}return ke&&Fe.push(ke),Fe}($),g=0;g<$.length;g++)for(b=0;b<$[g].length;b++)Z($[g][b])}$.length===1?$=$[0]:W="Multi"+W;var ue={type:"Feature",geometry:{type:W,coordinates:$},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var um=Wy;function Wy(r,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(Ky,this,a),this.length=this._features.length}function Ky(r,a,u){r===15?a.version=u.readVarint():r===1?a.name=u.readString():r===5?a.extent=u.readVarint():r===2?a._features.push(u.pos):r===3?a._keys.push(u.readString()):r===4&&a._values.push(function(g){for(var b=null,E=g.readVarint()+g.pos;g.pos<E;){var P=g.readVarint()>>3;b=P===1?g.readString():P===2?g.readFloat():P===3?g.readDouble():P===4?g.readVarint64():P===5?g.readVarint():P===6?g.readSVarint():P===7?g.readBoolean():null}return b}(u))}function Wp(r,a,u){if(r===3){var g=new um(u,u.readVarint()+u.pos);g.length&&(a[g.name]=g)}}Wy.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var a=this._pbf.readVarint()+this._pbf.pos;return new Gy(this._pbf,a,this.extent,this._keys,this._values)};var wu={VectorTile:function(r,a){this.layers=r.readFields(Wp,{},a)},VectorTileFeature:Gy,VectorTileLayer:um},lb=wu.VectorTileFeature.types,dd=Math.pow(2,13);function Kp(r,a,u,g,b,E,P,B){r.emplaceBack(a,u,2*Math.floor(g*dd)+P,b*dd*2,E*dd*2,Math.round(B))}var Os=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new O,this.indexArray=new Nt,this.programConfigurations=new Hr(r.layers,r.zoom),this.segments=new me,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Zy(r,a){return r.x===a.x&&(r.x<0||r.x>8192)||r.y===a.y&&(r.y<0||r.y>8192)}Os.prototype.populate=function(r,a,u){this.features=[],this.hasPattern=Ad("fill-extrusion",this.layers,a);for(var g=0,b=r;g<b.length;g+=1){var E=b[g],P=E.feature,B=E.id,$=E.index,W=E.sourceLayerIndex,Z=this.layers[0]._featureFilter.needGeometry,Y=na(P,Z);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Y,u)){var ue={id:B,sourceLayerIndex:W,index:$,geometry:Z?Y.geometry:fi(P),properties:P.properties,type:P.type,patterns:{}};this.hasPattern?this.features.push(lm("fill-extrusion",this.layers,ue,this.zoom,a)):this.addFeature(ue,ue.geometry,$,u,{}),a.featureIndex.insert(P,ue.geometry,$,W,this.index,!0)}}},Os.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.features;g<b.length;g+=1){var E=b[g];this.addFeature(E,E.geometry,E.index,a,u)}},Os.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},Os.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Os.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,sb),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Os.prototype.addFeature=function(r,a,u,g,b){for(var E=0,P=sm(a,500);E<P.length;E+=1){for(var B=P[E],$=0,W=0,Z=B;W<Z.length;W+=1)$+=Z[W].length;for(var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ue=0,Ae=B;ue<Ae.length;ue+=1){var Ce=Ae[ue];if(Ce.length!==0&&!((ir=Ce).every(function(Hn){return Hn.x<0})||ir.every(function(Hn){return Hn.x>8192})||ir.every(function(Hn){return Hn.y<0})||ir.every(function(Hn){return Hn.y>8192})))for(var ke=0,He=0;He<Ce.length;He++){var Fe=Ce[He];if(He>=1){var nt=Ce[He-1];if(!Zy(Fe,nt)){Y.vertexLength+4>me.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var it=Fe.sub(nt)._perp()._unit(),ft=nt.dist(Fe);ke+ft>32768&&(ke=0),Kp(this.layoutVertexArray,Fe.x,Fe.y,it.x,it.y,0,0,ke),Kp(this.layoutVertexArray,Fe.x,Fe.y,it.x,it.y,0,1,ke),Kp(this.layoutVertexArray,nt.x,nt.y,it.x,it.y,0,0,ke+=ft),Kp(this.layoutVertexArray,nt.x,nt.y,it.x,it.y,0,1,ke);var pt=Y.vertexLength;this.indexArray.emplaceBack(pt,pt+2,pt+1),this.indexArray.emplaceBack(pt+1,pt+2,pt+3),Y.vertexLength+=4,Y.primitiveLength+=2}}}}if(Y.vertexLength+$>me.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment($,this.layoutVertexArray,this.indexArray)),lb[r.type]==="Polygon"){for(var kt=[],Ut=[],Zt=Y.vertexLength,gn=0,nn=B;gn<nn.length;gn+=1){var Cn=nn[gn];if(Cn.length!==0){Cn!==B[0]&&Ut.push(kt.length/2);for(var on=0;on<Cn.length;on++){var Zn=Cn[on];Kp(this.layoutVertexArray,Zn.x,Zn.y,0,0,1,1,0),kt.push(Zn.x),kt.push(Zn.y)}}}for(var On=Er(kt,Ut),yn=0;yn<On.length;yn+=3)this.indexArray.emplaceBack(Zt+On[yn],Zt+On[yn+2],Zt+On[yn+1]);Y.primitiveLength+=On.length/3,Y.vertexLength+=$}}var ir;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},an("FillExtrusionBucket",Os,{omit:["layers","features"]});var md={paint:new zo({"fill-extrusion-opacity":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new dt(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yt(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new dt(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new dt(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},cm=function(r){function a(u){r.call(this,u,md)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new Os(u)},a.prototype.queryRadius=function(){return Xs(this.paint.get("fill-extrusion-translate"))},a.prototype.is3D=function(){return!0},a.prototype.queryIntersectsFeature=function(u,g,b,E,P,B,$,W){var Z=Ps(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,$),Y=this.paint.get("fill-extrusion-height").evaluate(g,b),ue=this.paint.get("fill-extrusion-base").evaluate(g,b),Ae=function(ke,He,Fe,nt){for(var it=[],ft=0,pt=ke;ft<pt.length;ft+=1){var kt=pt[ft],Ut=[kt.x,kt.y,0,1];Vf(Ut,Ut,He),it.push(new M(Ut[0]/Ut[3],Ut[1]/Ut[3]))}return it}(Z,W),Ce=function(ke,He,Fe,nt){for(var it=[],ft=[],pt=nt[8]*He,kt=nt[9]*He,Ut=nt[10]*He,Zt=nt[11]*He,gn=nt[8]*Fe,nn=nt[9]*Fe,Cn=nt[10]*Fe,on=nt[11]*Fe,Zn=0,On=ke;Zn<On.length;Zn+=1){for(var yn=[],ir=[],Hn=0,_r=On[Zn];Hn<_r.length;Hn+=1){var Tn=_r[Hn],Or=Tn.x,li=Tn.y,_i=nt[0]*Or+nt[4]*li+nt[12],Oi=nt[1]*Or+nt[5]*li+nt[13],xi=nt[2]*Or+nt[6]*li+nt[14],Ei=nt[3]*Or+nt[7]*li+nt[15],_o=xi+Ut,Io=Ei+Zt,Ca=_i+gn,Uo=Oi+nn,ka=xi+Cn,Ji=Ei+on,jo=new M((_i+pt)/Io,(Oi+kt)/Io);jo.z=_o/Io,yn.push(jo);var cr=new M(Ca/Ji,Uo/Ji);cr.z=ka/Ji,ir.push(cr)}it.push(yn),ft.push(ir)}return[it,ft]}(E,ue,Y,W);return function(ke,He,Fe){var nt=1/0;As(Fe,He)&&(nt=Xy(Fe,He[0]));for(var it=0;it<He.length;it++)for(var ft=He[it],pt=ke[it],kt=0;kt<ft.length-1;kt++){var Ut=ft[kt],Zt=[Ut,ft[kt+1],pt[kt+1],pt[kt],Ut];wa(Fe,Zt)&&(nt=Math.min(nt,Xy(Fe,Zt)))}return nt!==1/0&&nt}(Ce[0],Ce[1],Ae)},a}($i);function lf(r,a){return r.x*a.x+r.y*a.y}function Xy(r,a){if(r.length===1){for(var u,g=0,b=a[g++];!u||b.equals(u);)if(!(u=a[g++]))return 1/0;for(;g<a.length;g++){var E=a[g],P=r[0],B=u.sub(b),$=E.sub(b),W=P.sub(b),Z=lf(B,B),Y=lf(B,$),ue=lf($,$),Ae=lf(W,B),Ce=lf(W,$),ke=Z*ue-Y*Y,He=(ue*Ae-Y*Ce)/ke,Fe=(Z*Ce-Y*Ae)/ke,nt=b.z*(1-He-Fe)+u.z*He+E.z*Fe;if(isFinite(nt))return nt}return 1/0}for(var it=1/0,ft=0,pt=a;ft<pt.length;ft+=1)it=Math.min(it,pt[ft].z);return it}var Yy=m([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,gd=m([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Jy=wu.VectorTileFeature.types,fm=Math.cos(Math.PI/180*37.5),ev=Math.pow(2,14)/.5,Sa=function(r){var a=this;this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){a.gradients[u.id]={}}),this.layoutVertexArray=new I,this.layoutVertexArray2=new N,this.indexArray=new Nt,this.programConfigurations=new Hr(r.layers,r.zoom),this.segments=new me,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};Sa.prototype.populate=function(r,a,u){this.hasPattern=Ad("line",this.layers,a);for(var g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),E=[],P=0,B=r;P<B.length;P+=1){var $=B[P],W=$.feature,Z=$.id,Y=$.index,ue=$.sourceLayerIndex,Ae=this.layers[0]._featureFilter.needGeometry,Ce=na(W,Ae);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ce,u)){var ke=b?g.evaluate(Ce,{},u):void 0,He={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:Ae?Ce.geometry:fi(W),patterns:{},sortKey:ke};E.push(He)}}b&&E.sort(function(Zt,gn){return Zt.sortKey-gn.sortKey});for(var Fe=0,nt=E;Fe<nt.length;Fe+=1){var it=nt[Fe],ft=it.geometry,pt=it.index,kt=it.sourceLayerIndex;if(this.hasPattern){var Ut=lm("line",this.layers,it,this.zoom,a);this.patternFeatures.push(Ut)}else this.addFeature(it,ft,pt,u,{});a.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},Sa.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},Sa.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var E=b[g];this.addFeature(E,E.geometry,E.index,a,u)}},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,gd)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Yy),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.lineFeatureClips=function(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}},Sa.prototype.addFeature=function(r,a,u,g,b){var E=this.layers[0].layout,P=E.get("line-join").evaluate(r,{}),B=E.get("line-cap"),$=E.get("line-miter-limit"),W=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(var Z=0,Y=a;Z<Y.length;Z+=1)this.addLine(Y[Z],r,P,B,$,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},Sa.prototype.addLine=function(r,a,u,g,b,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var P=0;P<r.length-1;P++)this.totalDistance+=r[P].dist(r[P+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var B=Jy[a.type]==="Polygon",$=r.length;$>=2&&r[$-1].equals(r[$-2]);)$--;for(var W=0;W<$-1&&r[W].equals(r[W+1]);)W++;if(!($<(B?3:2))){u==="bevel"&&(b=1.05);var Z,Y=this.overscaling<=16?122880/(512*this.overscaling):0,ue=this.segments.prepareSegment(10*$,this.layoutVertexArray,this.indexArray),Ae=void 0,Ce=void 0,ke=void 0,He=void 0;this.e1=this.e2=-1,B&&(He=r[W].sub(Z=r[$-2])._unit()._perp());for(var Fe=W;Fe<$;Fe++)if(!(Ce=Fe===$-1?B?r[W+1]:void 0:r[Fe+1])||!r[Fe].equals(Ce)){He&&(ke=He),Z&&(Ae=Z),Z=r[Fe],He=Ce?Ce.sub(Z)._unit()._perp():ke;var nt=(ke=ke||He).add(He);nt.x===0&&nt.y===0||nt._unit();var it=ke.x*He.x+ke.y*He.y,ft=nt.x*He.x+nt.y*He.y,pt=ft!==0?1/ft:1/0,kt=2*Math.sqrt(2-2*ft),Ut=ft<fm&&Ae&&Ce,Zt=ke.x*He.y-ke.y*He.x>0;if(Ut&&Fe>W){var gn=Z.dist(Ae);if(gn>2*Y){var nn=Z.sub(Z.sub(Ae)._mult(Y/gn)._round());this.updateDistance(Ae,nn),this.addCurrentVertex(nn,ke,0,0,ue),Ae=nn}}var Cn=Ae&&Ce,on=Cn?u:B?"butt":g;if(Cn&&on==="round"&&(pt<E?on="miter":pt<=2&&(on="fakeround")),on==="miter"&&pt>b&&(on="bevel"),on==="bevel"&&(pt>2&&(on="flipbevel"),pt<b&&(on="miter")),Ae&&this.updateDistance(Ae,Z),on==="miter")nt._mult(pt),this.addCurrentVertex(Z,nt,0,0,ue);else if(on==="flipbevel"){if(pt>100)nt=He.mult(-1);else{var Zn=pt*ke.add(He).mag()/ke.sub(He).mag();nt._perp()._mult(Zn*(Zt?-1:1))}this.addCurrentVertex(Z,nt,0,0,ue),this.addCurrentVertex(Z,nt.mult(-1),0,0,ue)}else if(on==="bevel"||on==="fakeround"){var On=-Math.sqrt(pt*pt-1),yn=Zt?On:0,ir=Zt?0:On;if(Ae&&this.addCurrentVertex(Z,ke,yn,ir,ue),on==="fakeround")for(var Hn=Math.round(180*kt/Math.PI/20),_r=1;_r<Hn;_r++){var Tn=_r/Hn;if(Tn!==.5){var Or=Tn-.5;Tn+=Tn*Or*(Tn-1)*((1.0904+it*(it*(3.55645-1.43519*it)-3.2452))*Or*Or+(.848013+it*(.215638*it-1.06021)))}var li=He.sub(ke)._mult(Tn)._add(ke)._unit()._mult(Zt?-1:1);this.addHalfVertex(Z,li.x,li.y,!1,Zt,0,ue)}Ce&&this.addCurrentVertex(Z,He,-yn,-ir,ue)}else if(on==="butt")this.addCurrentVertex(Z,nt,0,0,ue);else if(on==="square"){var _i=Ae?1:-1;this.addCurrentVertex(Z,nt,_i,_i,ue)}else on==="round"&&(Ae&&(this.addCurrentVertex(Z,ke,0,0,ue),this.addCurrentVertex(Z,ke,1,1,ue,!0)),Ce&&(this.addCurrentVertex(Z,He,-1,-1,ue,!0),this.addCurrentVertex(Z,He,0,0,ue)));if(Ut&&Fe<$-1){var Oi=Z.dist(Ce);if(Oi>2*Y){var xi=Z.add(Ce.sub(Z)._mult(Y/Oi)._round());this.updateDistance(Z,xi),this.addCurrentVertex(xi,He,0,0,ue),Z=xi}}}}},Sa.prototype.addCurrentVertex=function(r,a,u,g,b,E){E===void 0&&(E=!1);var P=a.y*g-a.x,B=-a.y-a.x*g;this.addHalfVertex(r,a.x+a.y*u,a.y-a.x*u,E,!1,u,b),this.addHalfVertex(r,P,B,E,!0,-g,b),this.distance>ev/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(r,a,u,g,b,E))},Sa.prototype.addHalfVertex=function(r,a,u,g,b,E,P){var B=.5*(this.lineClips?this.scaledDistance*(ev-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r.x<<1)+(g?1:0),(r.y<<1)+(b?1:0),Math.round(63*a)+128,Math.round(63*u)+128,1+(E===0?0:E<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var $=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,$),P.primitiveLength++),b?this.e2=$:this.e1=$},Sa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Sa.prototype.updateDistance=function(r,a){this.distance+=r.dist(a),this.updateScaledDistance()},an("LineBucket",Sa,{omit:["layers","patternFeatures"]});var hc=new zo({"line-cap":new Wt(xe.layout_line["line-cap"]),"line-join":new dt(xe.layout_line["line-join"]),"line-miter-limit":new Wt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Wt(xe.layout_line["line-round-limit"]),"line-sort-key":new dt(xe.layout_line["line-sort-key"])}),pm={paint:new zo({"line-opacity":new dt(xe.paint_line["line-opacity"]),"line-color":new dt(xe.paint_line["line-color"]),"line-translate":new Wt(xe.paint_line["line-translate"]),"line-translate-anchor":new Wt(xe.paint_line["line-translate-anchor"]),"line-width":new dt(xe.paint_line["line-width"]),"line-gap-width":new dt(xe.paint_line["line-gap-width"]),"line-offset":new dt(xe.paint_line["line-offset"]),"line-blur":new dt(xe.paint_line["line-blur"]),"line-dasharray":new Po(xe.paint_line["line-dasharray"]),"line-pattern":new Yt(xe.paint_line["line-pattern"]),"line-gradient":new Ga(xe.paint_line["line-gradient"])}),layout:hc},hm=new(function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,g){return g=new Wn(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),r.prototype.possiblyEvaluate.call(this,u,g)},a.prototype.evaluate=function(u,g,b,E){return g=X({},g,{zoom:Math.floor(g.zoom)}),r.prototype.evaluate.call(this,u,g,b,E)},a}(dt))(pm.paint.properties["line-width"].specification);hm.useIntegerZoom=!0;var ub=function(r){function a(u){r.call(this,u,pm),this.gradientVersion=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Do,this.gradientVersion=(this.gradientVersion+1)%U)},a.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},a.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g),this.paint._values["line-floorwidth"]=hm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},a.prototype.createBucket=function(u){return new Sa(u)},a.prototype.queryRadius=function(u){var g=u,b=Am(go("line-width",this,g),go("line-gap-width",this,g)),E=go("line-offset",this,g);return b/2+Math.abs(E)+Xs(this.paint.get("line-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,E,P,B,$){var W=Ps(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,$),Z=$/2*Am(this.paint.get("line-width").evaluate(g,b),this.paint.get("line-gap-width").evaluate(g,b)),Y=this.paint.get("line-offset").evaluate(g,b);return Y&&(E=function(ue,Ae){for(var Ce=[],ke=new M(0,0),He=0;He<ue.length;He++){for(var Fe=ue[He],nt=[],it=0;it<Fe.length;it++){var ft=Fe[it],pt=Fe[it+1],kt=it===0?ke:ft.sub(Fe[it-1])._unit()._perp(),Ut=it===Fe.length-1?ke:pt.sub(ft)._unit()._perp(),Zt=kt._add(Ut)._unit();Zt._mult(1/(Zt.x*Ut.x+Zt.y*Ut.y)),nt.push(Zt._mult(Ae)._add(ft))}Ce.push(nt)}return Ce}(E,Y*$)),function(ue,Ae,Ce){for(var ke=0;ke<Ae.length;ke++){var He=Ae[ke];if(ue.length>=3){for(var Fe=0;Fe<He.length;Fe++)if(Qa(ue,He[Fe]))return!0}if(jf(ue,He,Ce))return!0}return!1}(W,E,Z)},a.prototype.isTileClipped=function(){return!0},a}($i);function Am(r,a){return a>0?a+2*r:r}var cb=m([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),fb=m([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ac=(m([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),m([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),yd=(m([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),m([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),dm=m([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function mm(r,a,u){return r.sections.forEach(function(g){g.text=function(b,E,P){var B=E.layout.get("text-transform").evaluate(P,{});return B==="uppercase"?b=b.toLocaleUpperCase():B==="lowercase"&&(b=b.toLocaleLowerCase()),rr.applyArabicShaping&&(b=rr.applyArabicShaping(b)),b}(g.text,a,u)}),r}m([{name:"triangle",components:3,type:"Uint16"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),m([{type:"Float32",name:"offsetX"}]),m([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var uf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Wf=function(r,a,u,g,b){var E,P,B=8*b-g-1,$=(1<<B)-1,W=$>>1,Z=-7,Y=u?b-1:0,ue=u?-1:1,Ae=r[a+Y];for(Y+=ue,E=Ae&(1<<-Z)-1,Ae>>=-Z,Z+=B;Z>0;E=256*E+r[a+Y],Y+=ue,Z-=8);for(P=E&(1<<-Z)-1,E>>=-Z,Z+=g;Z>0;P=256*P+r[a+Y],Y+=ue,Z-=8);if(E===0)E=1-W;else{if(E===$)return P?NaN:1/0*(Ae?-1:1);P+=Math.pow(2,g),E-=W}return(Ae?-1:1)*P*Math.pow(2,E-g)},Kn=function(r,a,u,g,b,E){var P,B,$,W=8*E-b-1,Z=(1<<W)-1,Y=Z>>1,ue=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ae=g?0:E-1,Ce=g?1:-1,ke=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(B=isNaN(a)?1:0,P=Z):(P=Math.floor(Math.log(a)/Math.LN2),a*($=Math.pow(2,-P))<1&&(P--,$*=2),(a+=P+Y>=1?ue/$:ue*Math.pow(2,1-Y))*$>=2&&(P++,$/=2),P+Y>=Z?(B=0,P=Z):P+Y>=1?(B=(a*$-1)*Math.pow(2,b),P+=Y):(B=a*Math.pow(2,Y-1)*Math.pow(2,b),P=0));b>=8;r[u+Ae]=255&B,Ae+=Ce,B/=256,b-=8);for(P=P<<b|B,W+=b;W>0;r[u+Ae]=255&P,Ae+=Ce,P/=256,W-=8);r[u+Ae-Ce]|=128*ke},Kf=ni;function ni(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}ni.Varint=0,ni.Fixed64=1,ni.Bytes=2,ni.Fixed32=5;var cf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function dc(r){return r.type===ni.Bytes?r.readVarint()+r.pos:r.pos+1}function ff(r,a,u){return u?4294967296*a+(r>>>0):4294967296*(a>>>0)+(r>>>0)}function gm(r,a,u){var g=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));u.realloc(g);for(var b=u.pos-1;b>=r;b--)u.buf[b+g]=u.buf[b]}function Wa(r,a){for(var u=0;u<r.length;u++)a.writeVarint(r[u])}function pb(r,a){for(var u=0;u<r.length;u++)a.writeSVarint(r[u])}function hb(r,a){for(var u=0;u<r.length;u++)a.writeFloat(r[u])}function tv(r,a){for(var u=0;u<r.length;u++)a.writeDouble(r[u])}function Ab(r,a){for(var u=0;u<r.length;u++)a.writeBoolean(r[u])}function nv(r,a){for(var u=0;u<r.length;u++)a.writeFixed32(r[u])}function db(r,a){for(var u=0;u<r.length;u++)a.writeSFixed32(r[u])}function mb(r,a){for(var u=0;u<r.length;u++)a.writeFixed64(r[u])}function gb(r,a){for(var u=0;u<r.length;u++)a.writeSFixed64(r[u])}function _l(r,a){return(r[a]|r[a+1]<<8|r[a+2]<<16)+16777216*r[a+3]}function ia(r,a,u){r[u]=a,r[u+1]=a>>>8,r[u+2]=a>>>16,r[u+3]=a>>>24}function vd(r,a){return(r[a]|r[a+1]<<8|r[a+2]<<16)+(r[a+3]<<24)}function yb(r,a,u){r===1&&u.readMessage(ym,a)}function ym(r,a,u){if(r===3){var g=u.readMessage(vb,{}),b=g.width,E=g.height,P=g.left,B=g.top,$=g.advance;a.push({id:g.id,bitmap:new Gf({width:b+6,height:E+6},g.bitmap),metrics:{width:b,height:E,left:P,top:B,advance:$}})}}function vb(r,a,u){r===1?a.id=u.readVarint():r===2?a.bitmap=u.readBytes():r===3?a.width=u.readVarint():r===4?a.height=u.readVarint():r===5?a.left=u.readSVarint():r===6?a.top=u.readSVarint():r===7&&(a.advance=u.readVarint())}function rv(r){for(var a=0,u=0,g=0,b=r;g<b.length;g+=1){var E=b[g];a+=E.w*E.h,u=Math.max(u,E.w)}r.sort(function(ke,He){return He.h-ke.h});for(var P=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),u),h:1/0}],B=0,$=0,W=0,Z=r;W<Z.length;W+=1)for(var Y=Z[W],ue=P.length-1;ue>=0;ue--){var Ae=P[ue];if(!(Y.w>Ae.w||Y.h>Ae.h)){if(Y.x=Ae.x,Y.y=Ae.y,$=Math.max($,Y.y+Y.h),B=Math.max(B,Y.x+Y.w),Y.w===Ae.w&&Y.h===Ae.h){var Ce=P.pop();ue<P.length&&(P[ue]=Ce)}else Y.h===Ae.h?(Ae.x+=Y.w,Ae.w-=Y.w):Y.w===Ae.w?(Ae.y+=Y.h,Ae.h-=Y.h):(P.push({x:Ae.x+Y.w,y:Ae.y,w:Ae.w-Y.w,h:Y.h}),Ae.y+=Y.h,Ae.h-=Y.h);break}}return{w:B,h:$,fill:a/(B*$)||0}}ni.prototype={destroy:function(){this.buf=null},readFields:function(r,a,u){for(u=u||this.length;this.pos<u;){var g=this.readVarint(),b=g>>3,E=this.pos;this.type=7&g,r(b,a,this),this.pos===E&&this.skip(g)}return a},readMessage:function(r,a){return this.readFields(r,a,this.readVarint()+this.pos)},readFixed32:function(){var r=_l(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=vd(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=_l(this.buf,this.pos)+4294967296*_l(this.buf,this.pos+4);return this.pos+=8,r},readSFixed64:function(){var r=_l(this.buf,this.pos)+4294967296*vd(this.buf,this.pos+4);return this.pos+=8,r},readFloat:function(){var r=Wf(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Wf(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var a,u,g=this.buf;return a=127&(u=g[this.pos++]),u<128?a:(a|=(127&(u=g[this.pos++]))<<7,u<128?a:(a|=(127&(u=g[this.pos++]))<<14,u<128?a:(a|=(127&(u=g[this.pos++]))<<21,u<128?a:function(b,E,P){var B,$,W=P.buf;if(B=(112&($=W[P.pos++]))>>4,$<128||(B|=(127&($=W[P.pos++]))<<3,$<128)||(B|=(127&($=W[P.pos++]))<<10,$<128)||(B|=(127&($=W[P.pos++]))<<17,$<128)||(B|=(127&($=W[P.pos++]))<<24,$<128)||(B|=(1&($=W[P.pos++]))<<31,$<128))return ff(b,B,E);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(u=g[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,a=this.pos;return this.pos=r,r-a>=12&&cf?function(u,g,b){return cf.decode(u.subarray(g,b))}(this.buf,a,r):function(u,g,b){for(var E="",P=g;P<b;){var B,$,W,Z=u[P],Y=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(P+ue>b)break;ue===1?Z<128&&(Y=Z):ue===2?(192&(B=u[P+1]))==128&&(Y=(31&Z)<<6|63&B)<=127&&(Y=null):ue===3?($=u[P+2],(192&(B=u[P+1]))==128&&(192&$)==128&&((Y=(15&Z)<<12|(63&B)<<6|63&$)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):ue===4&&($=u[P+2],W=u[P+3],(192&(B=u[P+1]))==128&&(192&$)==128&&(192&W)==128&&((Y=(15&Z)<<18|(63&B)<<12|(63&$)<<6|63&W)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,ue=1):Y>65535&&(Y-=65536,E+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),E+=String.fromCharCode(Y),P+=ue}return E}(this.buf,a,r)},readBytes:function(){var r=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,r);return this.pos=r,a},readPackedVarint:function(r,a){if(this.type!==ni.Bytes)return r.push(this.readVarint(a));var u=dc(this);for(r=r||[];this.pos<u;)r.push(this.readVarint(a));return r},readPackedSVarint:function(r){if(this.type!==ni.Bytes)return r.push(this.readSVarint());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==ni.Bytes)return r.push(this.readBoolean());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==ni.Bytes)return r.push(this.readFloat());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==ni.Bytes)return r.push(this.readDouble());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==ni.Bytes)return r.push(this.readFixed32());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==ni.Bytes)return r.push(this.readSFixed32());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==ni.Bytes)return r.push(this.readFixed64());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==ni.Bytes)return r.push(this.readSFixed64());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSFixed64());return r},skip:function(r){var a=7&r;if(a===ni.Varint)for(;this.buf[this.pos++]>127;);else if(a===ni.Bytes)this.pos=this.readVarint()+this.pos;else if(a===ni.Fixed32)this.pos+=4;else{if(a!==ni.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(r,a){this.writeVarint(r<<3|a)},realloc:function(r){for(var a=this.length||16;a<this.pos+r;)a*=2;if(a!==this.length){var u=new Uint8Array(a);u.set(this.buf),this.buf=u,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(a,u){var g,b;if(a>=0?(g=a%4294967296|0,b=a/4294967296|0):(b=~(-a/4294967296),4294967295^(g=~(-a%4294967296))?g=g+1|0:(g=0,b=b+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(E,P,B){B.buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,B.buf[B.pos]=127&(E>>>=7)}(g,0,u),function(E,P){var B=(7&E)<<4;P.buf[P.pos++]|=B|((E>>>=3)?128:0),E&&(P.buf[P.pos++]=127&E|((E>>>=7)?128:0),E&&(P.buf[P.pos++]=127&E|((E>>>=7)?128:0),E&&(P.buf[P.pos++]=127&E|((E>>>=7)?128:0),E&&(P.buf[P.pos++]=127&E|((E>>>=7)?128:0),E&&(P.buf[P.pos++]=127&E)))))}(b,u)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var a=this.pos;this.pos=function(g,b,E){for(var P,B,$=0;$<b.length;$++){if((P=b.charCodeAt($))>55295&&P<57344){if(!B){P>56319||$+1===b.length?(g[E++]=239,g[E++]=191,g[E++]=189):B=P;continue}if(P<56320){g[E++]=239,g[E++]=191,g[E++]=189,B=P;continue}P=B-55296<<10|P-56320|65536,B=null}else B&&(g[E++]=239,g[E++]=191,g[E++]=189,B=null);P<128?g[E++]=P:(P<2048?g[E++]=P>>6|192:(P<65536?g[E++]=P>>12|224:(g[E++]=P>>18|240,g[E++]=P>>12&63|128),g[E++]=P>>6&63|128),g[E++]=63&P|128)}return E}(this.buf,r,this.pos);var u=this.pos-a;u>=128&&gm(a,u,this),this.pos=a-1,this.writeVarint(u),this.pos+=u},writeFloat:function(r){this.realloc(4),Kn(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Kn(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var a=r.length;this.writeVarint(a),this.realloc(a);for(var u=0;u<a;u++)this.buf[this.pos++]=r[u]},writeRawMessage:function(r,a){this.pos++;var u=this.pos;r(a,this);var g=this.pos-u;g>=128&&gm(u,g,this),this.pos=u-1,this.writeVarint(g),this.pos+=g},writeMessage:function(r,a,u){this.writeTag(r,ni.Bytes),this.writeRawMessage(a,u)},writePackedVarint:function(r,a){a.length&&this.writeMessage(r,Wa,a)},writePackedSVarint:function(r,a){a.length&&this.writeMessage(r,pb,a)},writePackedBoolean:function(r,a){a.length&&this.writeMessage(r,Ab,a)},writePackedFloat:function(r,a){a.length&&this.writeMessage(r,hb,a)},writePackedDouble:function(r,a){a.length&&this.writeMessage(r,tv,a)},writePackedFixed32:function(r,a){a.length&&this.writeMessage(r,nv,a)},writePackedSFixed32:function(r,a){a.length&&this.writeMessage(r,db,a)},writePackedFixed64:function(r,a){a.length&&this.writeMessage(r,mb,a)},writePackedSFixed64:function(r,a){a.length&&this.writeMessage(r,gb,a)},writeBytesField:function(r,a){this.writeTag(r,ni.Bytes),this.writeBytes(a)},writeFixed32Field:function(r,a){this.writeTag(r,ni.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(r,a){this.writeTag(r,ni.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(r,a){this.writeTag(r,ni.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(r,a){this.writeTag(r,ni.Fixed64),this.writeSFixed64(a)},writeVarintField:function(r,a){this.writeTag(r,ni.Varint),this.writeVarint(a)},writeSVarintField:function(r,a){this.writeTag(r,ni.Varint),this.writeSVarint(a)},writeStringField:function(r,a){this.writeTag(r,ni.Bytes),this.writeString(a)},writeFloatField:function(r,a){this.writeTag(r,ni.Fixed32),this.writeFloat(a)},writeDoubleField:function(r,a){this.writeTag(r,ni.Fixed64),this.writeDouble(a)},writeBooleanField:function(r,a){this.writeVarintField(r,Boolean(a))}};var pf=function(r,a){var u=a.pixelRatio,g=a.version,b=a.stretchX,E=a.stretchY,P=a.content;this.paddedRect=r,this.pixelRatio=u,this.stretchX=b,this.stretchY=E,this.content=P,this.version=g},Zp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Zp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Zp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Zp.tlbr.get=function(){return this.tl.concat(this.br)},Zp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(pf.prototype,Zp);var Xp=function(r,a){var u={},g={};this.haveRenderCallbacks=[];var b=[];this.addImages(r,u,b),this.addImages(a,g,b);var E=rv(b),P=new Ra({width:E.w||1,height:E.h||1});for(var B in r){var $=r[B],W=u[B].paddedRect;Ra.copy($.data,P,{x:0,y:0},{x:W.x+1,y:W.y+1},$.data)}for(var Z in a){var Y=a[Z],ue=g[Z].paddedRect,Ae=ue.x+1,Ce=ue.y+1,ke=Y.data.width,He=Y.data.height;Ra.copy(Y.data,P,{x:0,y:0},{x:Ae,y:Ce},Y.data),Ra.copy(Y.data,P,{x:0,y:He-1},{x:Ae,y:Ce-1},{width:ke,height:1}),Ra.copy(Y.data,P,{x:0,y:0},{x:Ae,y:Ce+He},{width:ke,height:1}),Ra.copy(Y.data,P,{x:ke-1,y:0},{x:Ae-1,y:Ce},{width:1,height:He}),Ra.copy(Y.data,P,{x:0,y:0},{x:Ae+ke,y:Ce},{width:1,height:He})}this.image=P,this.iconPositions=u,this.patternPositions=g};Xp.prototype.addImages=function(r,a,u){for(var g in r){var b=r[g],E={x:0,y:0,w:b.data.width+2,h:b.data.height+2};u.push(E),a[g]=new pf(E,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},Xp.prototype.patchUpdatedImages=function(r,a){for(var u in r.dispatchRenderCallbacks(this.haveRenderCallbacks),r.updatedImages)this.patchUpdatedImage(this.iconPositions[u],r.getImage(u),a),this.patchUpdatedImage(this.patternPositions[u],r.getImage(u),a)},Xp.prototype.patchUpdatedImage=function(r,a,u){if(r&&a&&r.version!==a.version){r.version=a.version;var g=r.tl;u.update(a.data,void 0,{x:g[0],y:g[1]})}},an("ImagePosition",pf),an("ImageAtlas",Xp);var Ms={horizontal:1,vertical:2,horizontalOnly:3},Yp=function(){this.scale=1,this.fontStack="",this.imageName=null};Yp.forText=function(r,a){var u=new Yp;return u.scale=r||1,u.fontStack=a,u},Yp.forImage=function(r){var a=new Yp;return a.imageName=r,a};var Ea=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function _d(r,a,u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke){var He,Fe=Ea.fromFeature(r,b);Y===Ms.vertical&&Fe.verticalizePunctuation();var nt=rr.processBidirectionalText,it=rr.processStyledBidirectionalText;if(nt&&Fe.sections.length===1){He=[];for(var ft=0,pt=nt(Fe.toString(),oA(Fe,W,E,a,g,Ae,Ce));ft<pt.length;ft+=1){var kt=pt[ft],Ut=new Ea;Ut.text=kt,Ut.sections=Fe.sections;for(var Zt=0;Zt<kt.length;Zt++)Ut.sectionIndex.push(0);He.push(Ut)}}else if(it){He=[];for(var gn=0,nn=it(Fe.text,Fe.sectionIndex,oA(Fe,W,E,a,g,Ae,Ce));gn<nn.length;gn+=1){var Cn=nn[gn],on=new Ea;on.text=Cn[0],on.sectionIndex=Cn[1],on.sections=Fe.sections,He.push(on)}}else He=function(yn,ir){for(var Hn=[],_r=yn.text,Tn=0,Or=0,li=ir;Or<li.length;Or+=1){var _i=li[Or];Hn.push(yn.substring(Tn,_i)),Tn=_i}return Tn<_r.length&&Hn.push(yn.substring(Tn,_r.length)),Hn}(Fe,oA(Fe,W,E,a,g,Ae,Ce));var Zn=[],On={positionedLines:Zn,text:Fe.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return function(yn,ir,Hn,_r,Tn,Or,li,_i,Oi,xi,Ei,_o){for(var Io=0,Ca=-17,Uo=0,ka=0,Ji=_i==="right"?1:_i==="left"?0:.5,jo=0,cr=0,ri=Tn;cr<ri.length;cr+=1){var qr=ri[cr];qr.trim();var Cr=qr.getMaxScale(),Da=24*(Cr-1),Aa={positionedGlyphs:[],lineOffset:0};yn.positionedLines[jo]=Aa;var Tr=Aa.positionedGlyphs,lo=0;if(qr.length()){for(var da=0;da<qr.length();da++){var fr=qr.getSection(da),Xn=qr.getSectionIndex(da),Ls=qr.getCharCode(da),xo=0,pr=null,Eu=null,ma=null,ih=24,rp=!(Oi===Ms.horizontal||!Ei&&!Zs(Ls)||Ei&&(iA[Ls]||(pi=Ls,un.Arabic(pi)||un["Arabic Supplement"](pi)||un["Arabic Extended-A"](pi)||un["Arabic Presentation Forms-A"](pi)||un["Arabic Presentation Forms-B"](pi))));if(fr.imageName){var oh=_r[fr.imageName];if(!oh)continue;ma=fr.imageName,yn.iconsInText=yn.iconsInText||!0,Eu=oh.paddedRect;var gc=oh.displaySize;fr.scale=24*fr.scale/_o,xo=Da+(24-gc[1]*fr.scale),ih=(pr={width:gc[0],height:gc[1],left:1,top:-3,advance:rp?gc[1]:gc[0]}).advance;var ah=rp?gc[0]*fr.scale-24*Cr:gc[1]*fr.scale-24*Cr;ah>0&&ah>lo&&(lo=ah)}else{var sh=Hn[fr.fontStack],lh=sh&&sh[Ls];if(lh&&lh.rect)Eu=lh.rect,pr=lh.metrics;else{var Ys=ir[fr.fontStack],pA=Ys&&Ys[Ls];if(!pA)continue;pr=pA.metrics}xo=24*(Cr-fr.scale)}rp?(yn.verticalizable=!0,Tr.push({glyph:Ls,imageName:ma,x:Io,y:Ca+xo,vertical:rp,scale:fr.scale,fontStack:fr.fontStack,sectionIndex:Xn,metrics:pr,rect:Eu}),Io+=ih*fr.scale+xi):(Tr.push({glyph:Ls,imageName:ma,x:Io,y:Ca+xo,vertical:rp,scale:fr.scale,fontStack:fr.fontStack,sectionIndex:Xn,metrics:pr,rect:Eu}),Io+=pr.advance*fr.scale+xi)}Tr.length!==0&&(Uo=Math.max(Io-xi,Uo),av(Tr,0,Tr.length-1,Ji,lo)),Io=0;var ip=Or*Cr+lo;Aa.lineOffset=Math.max(lo,Da),Ca+=ip,ka=Math.max(ip,ka),++jo}else Ca+=Or,++jo}var pi,Qi=Ca- -17,op=bd(li),df=op.horizontalAlign,uh=op.verticalAlign;(function(Pd,Id,hA,AA,dA,yc,ap,mA,gA){var vc,Za=(Id-hA)*dA;vc=yc!==ap?-mA*AA- -17:(-AA*gA+.5)*ap;for(var $l=0,yA=Pd;$l<yA.length;$l+=1)for(var sp=0,vA=yA[$l].positionedGlyphs;sp<vA.length;sp+=1){var ch=vA[sp];ch.x+=Za,ch.y+=vc}})(yn.positionedLines,Ji,df,uh,Uo,ka,Or,Qi,Tn.length),yn.top+=-uh*Qi,yn.bottom=yn.top+Qi,yn.left+=-df*Uo,yn.right=yn.left+Uo}(On,a,u,g,He,P,B,$,Y,W,ue,ke),!function(yn){for(var ir=0,Hn=yn;ir<Hn.length;ir+=1)if(Hn[ir].positionedGlyphs.length!==0)return!1;return!0}(Zn)&&On}Ea.fromFeature=function(r,a){for(var u=new Ea,g=0;g<r.sections.length;g++){var b=r.sections[g];b.image?u.addImageSection(b):u.addTextSection(b,a)}return u},Ea.prototype.length=function(){return this.text.length},Ea.prototype.getSection=function(r){return this.sections[this.sectionIndex[r]]},Ea.prototype.getSectionIndex=function(r){return this.sectionIndex[r]},Ea.prototype.getCharCode=function(r){return this.text.charCodeAt(r)},Ea.prototype.verticalizePunctuation=function(){this.text=function(r){for(var a="",u=0;u<r.length;u++){var g=r.charCodeAt(u+1)||null,b=r.charCodeAt(u-1)||null;a+=g&&Ao(g)&&!uf[r[u+1]]||b&&Ao(b)&&!uf[r[u-1]]||!uf[r[u]]?r[u]:uf[r[u]]}return a}(this.text)},Ea.prototype.trim=function(){for(var r=0,a=0;a<this.text.length&&iA[this.text.charCodeAt(a)];a++)r++;for(var u=this.text.length,g=this.text.length-1;g>=0&&g>=r&&iA[this.text.charCodeAt(g)];g--)u--;this.text=this.text.substring(r,u),this.sectionIndex=this.sectionIndex.slice(r,u)},Ea.prototype.substring=function(r,a){var u=new Ea;return u.text=this.text.substring(r,a),u.sectionIndex=this.sectionIndex.slice(r,a),u.sections=this.sections,u},Ea.prototype.toString=function(){return this.text},Ea.prototype.getMaxScale=function(){var r=this;return this.sectionIndex.reduce(function(a,u){return Math.max(a,r.sections[u].scale)},0)},Ea.prototype.addTextSection=function(r,a){this.text+=r.text,this.sections.push(Yp.forText(r.scale,r.fontStack||a));for(var u=this.sections.length-1,g=0;g<r.text.length;++g)this.sectionIndex.push(u)},Ea.prototype.addImageSection=function(r){var a=r.image?r.image.name:"";if(a.length!==0){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Yp.forImage(a)),this.sectionIndex.push(this.sections.length-1)):yt("Reached maximum number of images 6401")}else yt("Can't add FormattedSection with an empty image.")},Ea.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var iA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ka={};function iv(r,a,u,g,b,E){if(a.imageName){var P=g[a.imageName];return P?P.displaySize[0]*a.scale*24/E+b:0}var B=u[a.fontStack],$=B&&B[r];return $?$.metrics.advance*a.scale+b:0}function xd(r,a,u,g){var b=Math.pow(r-a,2);return g?r<a?b/2:2*b:b+Math.abs(u)*u}function ov(r,a,u){var g=0;return r===10&&(g-=1e4),u&&(g+=150),r!==40&&r!==65288||(g+=50),a!==41&&a!==65289||(g+=50),g}function Jp(r,a,u,g,b,E){for(var P=null,B=xd(a,u,b,E),$=0,W=g;$<W.length;$+=1){var Z=W[$],Y=xd(a-Z.x,u,b,E)+Z.badness;Y<=B&&(P=Z,B=Y)}return{index:r,x:a,priorBreak:P,badness:B}}function oA(r,a,u,g,b,E,P){if(E!=="point")return[];if(!r)return[];for(var B,$=[],W=function(He,Fe,nt,it,ft,pt){for(var kt=0,Ut=0;Ut<He.length();Ut++){var Zt=He.getSection(Ut);kt+=iv(He.getCharCode(Ut),Zt,it,ft,Fe,pt)}return kt/Math.max(1,Math.ceil(kt/nt))}(r,a,u,g,b,P),Z=r.text.indexOf("")>=0,Y=0,ue=0;ue<r.length();ue++){var Ae=r.getSection(ue),Ce=r.getCharCode(ue);if(iA[Ce]||(Y+=iv(Ce,Ae,g,b,a,P)),ue<r.length()-1){var ke=!((B=Ce)<11904||!(un["Bopomofo Extended"](B)||un.Bopomofo(B)||un["CJK Compatibility Forms"](B)||un["CJK Compatibility Ideographs"](B)||un["CJK Compatibility"](B)||un["CJK Radicals Supplement"](B)||un["CJK Strokes"](B)||un["CJK Symbols and Punctuation"](B)||un["CJK Unified Ideographs Extension A"](B)||un["CJK Unified Ideographs"](B)||un["Enclosed CJK Letters and Months"](B)||un["Halfwidth and Fullwidth Forms"](B)||un.Hiragana(B)||un["Ideographic Description Characters"](B)||un["Kangxi Radicals"](B)||un["Katakana Phonetic Extensions"](B)||un.Katakana(B)||un["Vertical Forms"](B)||un["Yi Radicals"](B)||un["Yi Syllables"](B)));(Ka[Ce]||ke||Ae.imageName)&&$.push(Jp(ue+1,Y,W,$,ov(Ce,r.getCharCode(ue+1),ke&&Z),!1))}}return function He(Fe){return Fe?He(Fe.priorBreak).concat(Fe.index):[]}(Jp(r.length(),Y,W,$,0,!0))}function bd(r){var a=.5,u=.5;switch(r){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:a,verticalAlign:u}}function av(r,a,u,g,b){if(g||b)for(var E=r[u],P=(r[u].x+E.metrics.advance*E.scale)*g,B=a;B<=u;B++)r[B].x-=P,r[B].y+=b}function aA(r,a,u,g,b,E){var P,B=r.image;if(B.content){var $=B.content,W=B.pixelRatio||1;P=[$[0]/W,$[1]/W,B.displaySize[0]-$[2]/W,B.displaySize[1]-$[3]/W]}var Z,Y,ue,Ae,Ce=a.left*E,ke=a.right*E;u==="width"||u==="both"?(Ae=b[0]+Ce-g[3],Y=b[0]+ke+g[1]):Y=(Ae=b[0]+(Ce+ke-B.displaySize[0])/2)+B.displaySize[0];var He=a.top*E,Fe=a.bottom*E;return u==="height"||u==="both"?(Z=b[1]+He-g[0],ue=b[1]+Fe+g[2]):ue=(Z=b[1]+(He+Fe-B.displaySize[1])/2)+B.displaySize[1],{image:B,top:Z,right:Y,bottom:ue,left:Ae,collisionPadding:P}}Ka[10]=!0,Ka[32]=!0,Ka[38]=!0,Ka[40]=!0,Ka[41]=!0,Ka[43]=!0,Ka[45]=!0,Ka[47]=!0,Ka[173]=!0,Ka[183]=!0,Ka[8203]=!0,Ka[8208]=!0,Ka[8211]=!0,Ka[8231]=!0;var Zf=function(r){function a(u,g,b,E){r.call(this,u,g),this.angle=b,E!==void 0&&(this.segment=E)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.clone=function(){return new a(this.x,this.y,this.angle,this.segment)},a}(M);function xl(r,a){var u=a.expression;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Wn(r+1))};if(u.kind==="source")return{kind:"source"};for(var g=u.zoomStops,b=u.interpolationType,E=0;E<g.length&&g[E]<=r;)E++;for(var P=E=Math.max(0,E-1);P<g.length&&g[P]<r+1;)P++;P=Math.min(g.length-1,P);var B=g[E],$=g[P];return u.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:$,interpolationType:b}:{kind:"camera",minZoom:B,maxZoom:$,minSize:u.evaluate(new Wn(B)),maxSize:u.evaluate(new Wn($)),interpolationType:b}}function hf(r,a,u){var g=a.uSize,b=u.lowerSize;return r.kind==="source"?b/128:r.kind==="composite"?kr(b/128,u.upperSize/128,a.uSizeT):g}function sv(r,a){var u=0,g=0;if(r.kind==="constant")g=r.layoutSize;else if(r.kind!=="source"){var b=r.interpolationType,E=b?ee(Ki.interpolationFactor(b,a,r.minZoom,r.maxZoom),0,1):0;r.kind==="camera"?g=kr(r.minSize,r.maxSize,E):u=E}return{uSizeT:u,uSize:g}}an("Anchor",Zf);var lv=Object.freeze({__proto__:null,getSizeData:xl,evaluateSizeForFeature:hf,evaluateSizeForZoom:sv,SIZE_PACK_FACTOR:128});function uv(r,a,u,g,b){if(a.segment===void 0)return!0;for(var E=a,P=a.segment+1,B=0;B>-u/2;){if(--P<0)return!1;B-=r[P].dist(E),E=r[P]}B+=r[P].dist(r[P+1]),P++;for(var $=[],W=0;B<u/2;){var Z=r[P],Y=r[P+1];if(!Y)return!1;var ue=r[P-1].angleTo(Z)-Z.angleTo(Y);for(ue=Math.abs((ue+3*Math.PI)%(2*Math.PI)-Math.PI),$.push({distance:B,angleDelta:ue}),W+=ue;B-$[0].distance>g;)W-=$.shift().angleDelta;if(W>b)return!1;P++,B+=Z.dist(Y)}return!0}function cv(r){for(var a=0,u=0;u<r.length-1;u++)a+=r[u].dist(r[u+1]);return a}function fv(r,a,u){return r?.6*a*u:0}function pv(r,a){return Math.max(r?r.right-r.left:0,a?a.right-a.left:0)}function _b(r,a,u,g,b,E){for(var P=fv(u,b,E),B=pv(u,g)*E,$=0,W=cv(r)/2,Z=0;Z<r.length-1;Z++){var Y=r[Z],ue=r[Z+1],Ae=Y.dist(ue);if($+Ae>W){var Ce=(W-$)/Ae,ke=kr(Y.x,ue.x,Ce),He=kr(Y.y,ue.y,Ce),Fe=new Zf(ke,He,ue.angleTo(Y),Z);return Fe._round(),!P||uv(r,Fe,B,P,a)?Fe:void 0}$+=Ae}}function xb(r,a,u,g,b,E,P,B,$){var W=fv(g,E,P),Z=pv(g,b),Y=Z*P,ue=r[0].x===0||r[0].x===$||r[0].y===0||r[0].y===$;return a-Y<a/4&&(a=Y+a/4),function Ae(Ce,ke,He,Fe,nt,it,ft,pt,kt){for(var Ut=it/2,Zt=cv(Ce),gn=0,nn=ke-He,Cn=[],on=0;on<Ce.length-1;on++){for(var Zn=Ce[on],On=Ce[on+1],yn=Zn.dist(On),ir=On.angleTo(Zn);nn+He<gn+yn;){var Hn=((nn+=He)-gn)/yn,_r=kr(Zn.x,On.x,Hn),Tn=kr(Zn.y,On.y,Hn);if(_r>=0&&_r<kt&&Tn>=0&&Tn<kt&&nn-Ut>=0&&nn+Ut<=Zt){var Or=new Zf(_r,Tn,ir,on);Or._round(),Fe&&!uv(Ce,Or,it,Fe,nt)||Cn.push(Or)}}gn+=yn}return pt||Cn.length||ft||(Cn=Ae(Ce,gn/2,He,Fe,nt,it,ft,!0,kt)),Cn}(r,ue?a/2*B%a:(Z/2+2*E)*P*B%a,a,W,u,Y,ue,!1,$)}function hv(r,a,u,g,b){for(var E=[],P=0;P<r.length;P++)for(var B=r[P],$=void 0,W=0;W<B.length-1;W++){var Z=B[W],Y=B[W+1];Z.x<a&&Y.x<a||(Z.x<a?Z=new M(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x<a&&(Y=new M(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y<u&&Y.y<u||(Z.y<u?Z=new M(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round():Y.y<u&&(Y=new M(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round()),Z.x>=g&&Y.x>=g||(Z.x>=g?Z=new M(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x>=g&&(Y=new M(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y>=b&&Y.y>=b||(Z.y>=b?Z=new M(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round():Y.y>=b&&(Y=new M(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round()),$&&Z.equals($[$.length-1])||E.push($=[Z]),$.push(Y)))))}return E}function Av(r,a,u,g){var b=[],E=r.image,P=E.pixelRatio,B=E.paddedRect.w-2,$=E.paddedRect.h-2,W=r.right-r.left,Z=r.bottom-r.top,Y=E.stretchX||[[0,B]],ue=E.stretchY||[[0,$]],Ae=function(_r,Tn){return _r+Tn[1]-Tn[0]},Ce=Y.reduce(Ae,0),ke=ue.reduce(Ae,0),He=B-Ce,Fe=$-ke,nt=0,it=Ce,ft=0,pt=ke,kt=0,Ut=He,Zt=0,gn=Fe;if(E.content&&g){var nn=E.content;nt=wd(Y,0,nn[0]),ft=wd(ue,0,nn[1]),it=wd(Y,nn[0],nn[2]),pt=wd(ue,nn[1],nn[3]),kt=nn[0]-nt,Zt=nn[1]-ft,Ut=nn[2]-nn[0]-it,gn=nn[3]-nn[1]-pt}var Cn=function(_r,Tn,Or,li){var _i=Sd(_r.stretch-nt,it,W,r.left),Oi=sA(_r.fixed-kt,Ut,_r.stretch,Ce),xi=Sd(Tn.stretch-ft,pt,Z,r.top),Ei=sA(Tn.fixed-Zt,gn,Tn.stretch,ke),_o=Sd(Or.stretch-nt,it,W,r.left),Io=sA(Or.fixed-kt,Ut,Or.stretch,Ce),Ca=Sd(li.stretch-ft,pt,Z,r.top),Uo=sA(li.fixed-Zt,gn,li.stretch,ke),ka=new M(_i,xi),Ji=new M(_o,xi),jo=new M(_o,Ca),cr=new M(_i,Ca),ri=new M(Oi/P,Ei/P),qr=new M(Io/P,Uo/P),Cr=a*Math.PI/180;if(Cr){var Da=Math.sin(Cr),Aa=Math.cos(Cr),Tr=[Aa,-Da,Da,Aa];ka._matMult(Tr),Ji._matMult(Tr),cr._matMult(Tr),jo._matMult(Tr)}var lo=_r.stretch+_r.fixed,da=Tn.stretch+Tn.fixed;return{tl:ka,tr:Ji,bl:cr,br:jo,tex:{x:E.paddedRect.x+1+lo,y:E.paddedRect.y+1+da,w:Or.stretch+Or.fixed-lo,h:li.stretch+li.fixed-da},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ri,pixelOffsetBR:qr,minFontScaleX:Ut/P/W,minFontScaleY:gn/P/Z,isSDF:u}};if(g&&(E.stretchX||E.stretchY))for(var on=dv(Y,He,Ce),Zn=dv(ue,Fe,ke),On=0;On<on.length-1;On++)for(var yn=on[On],ir=on[On+1],Hn=0;Hn<Zn.length-1;Hn++)b.push(Cn(yn,Zn[Hn],ir,Zn[Hn+1]));else b.push(Cn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:$+1}));return b}function wd(r,a,u){for(var g=0,b=0,E=r;b<E.length;b+=1){var P=E[b];g+=Math.max(a,Math.min(u,P[1]))-Math.max(a,Math.min(u,P[0]))}return g}function dv(r,a,u){for(var g=[{fixed:-1,stretch:0}],b=0,E=r;b<E.length;b+=1){var P=E[b],B=P[0],$=P[1],W=g[g.length-1];g.push({fixed:B-W.stretch,stretch:W.stretch}),g.push({fixed:B-W.stretch,stretch:W.stretch+($-B)})}return g.push({fixed:a+1,stretch:u}),g}function Sd(r,a,u,g){return r/a*u+g}function sA(r,a,u,g){return r-a*u/g}var lA=function(r,a,u,g,b,E,P,B,$,W){if(this.boxStartIndex=r.length,$){var Z=E.top,Y=E.bottom,ue=E.collisionPadding;ue&&(Z-=ue[1],Y+=ue[3]);var Ae=Y-Z;Ae>0&&(Ae=Math.max(10,Ae),this.circleDiameter=Ae)}else{var Ce=E.top*P-B,ke=E.bottom*P+B,He=E.left*P-B,Fe=E.right*P+B,nt=E.collisionPadding;if(nt&&(He-=nt[0]*P,Ce-=nt[1]*P,Fe+=nt[2]*P,ke+=nt[3]*P),W){var it=new M(He,Ce),ft=new M(Fe,Ce),pt=new M(He,ke),kt=new M(Fe,ke),Ut=W*Math.PI/180;it._rotate(Ut),ft._rotate(Ut),pt._rotate(Ut),kt._rotate(Ut),He=Math.min(it.x,ft.x,pt.x,kt.x),Fe=Math.max(it.x,ft.x,pt.x,kt.x),Ce=Math.min(it.y,ft.y,pt.y,kt.y),ke=Math.max(it.y,ft.y,pt.y,kt.y)}r.emplaceBack(a.x,a.y,He,Ce,Fe,ke,u,g,b)}this.boxEndIndex=r.length},Xf=function(r,a){if(r===void 0&&(r=[]),a===void 0&&(a=bb),this.data=r,this.length=this.data.length,this.compare=a,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function bb(r,a){return r<a?-1:r>a?1:0}function wb(r,a,u){a===void 0&&(a=1),u===void 0&&(u=!1);for(var g=1/0,b=1/0,E=-1/0,P=-1/0,B=r[0],$=0;$<B.length;$++){var W=B[$];(!$||W.x<g)&&(g=W.x),(!$||W.y<b)&&(b=W.y),(!$||W.x>E)&&(E=W.x),(!$||W.y>P)&&(P=W.y)}var Z=Math.min(E-g,P-b),Y=Z/2,ue=new Xf([],Sb);if(Z===0)return new M(g,b);for(var Ae=g;Ae<E;Ae+=Z)for(var Ce=b;Ce<P;Ce+=Z)ue.push(new Yf(Ae+Y,Ce+Y,Y,r));for(var ke=function(nt){for(var it=0,ft=0,pt=0,kt=nt[0],Ut=0,Zt=kt.length,gn=Zt-1;Ut<Zt;gn=Ut++){var nn=kt[Ut],Cn=kt[gn],on=nn.x*Cn.y-Cn.x*nn.y;ft+=(nn.x+Cn.x)*on,pt+=(nn.y+Cn.y)*on,it+=3*on}return new Yf(ft/it,pt/it,0,nt)}(r),He=ue.length;ue.length;){var Fe=ue.pop();(Fe.d>ke.d||!ke.d)&&(ke=Fe,u&&console.log("found best %d after %d probes",Math.round(1e4*Fe.d)/1e4,He)),Fe.max-ke.d<=a||(ue.push(new Yf(Fe.p.x-(Y=Fe.h/2),Fe.p.y-Y,Y,r)),ue.push(new Yf(Fe.p.x+Y,Fe.p.y-Y,Y,r)),ue.push(new Yf(Fe.p.x-Y,Fe.p.y+Y,Y,r)),ue.push(new Yf(Fe.p.x+Y,Fe.p.y+Y,Y,r)),He+=4)}return u&&(console.log("num probes: "+He),console.log("best distance: "+ke.d)),ke.p}function Sb(r,a){return a.max-r.max}function Yf(r,a,u,g){this.p=new M(r,a),this.h=u,this.d=function(b,E){for(var P=!1,B=1/0,$=0;$<E.length;$++)for(var W=E[$],Z=0,Y=W.length,ue=Y-1;Z<Y;ue=Z++){var Ae=W[Z],Ce=W[ue];Ae.y>b.y!=Ce.y>b.y&&b.x<(Ce.x-Ae.x)*(b.y-Ae.y)/(Ce.y-Ae.y)+Ae.x&&(P=!P),B=Math.min(B,$f(b,Ae,Ce))}return(P?1:-1)*Math.sqrt(B)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Xf.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},Xf.prototype.pop=function(){if(this.length!==0){var r=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),r}},Xf.prototype.peek=function(){return this.data[0]},Xf.prototype._up=function(r){for(var a=this.data,u=this.compare,g=a[r];r>0;){var b=r-1>>1,E=a[b];if(u(g,E)>=0)break;a[r]=E,r=b}a[r]=g},Xf.prototype._down=function(r){for(var a=this.data,u=this.compare,g=this.length>>1,b=a[r];r<g;){var E=1+(r<<1),P=a[E],B=E+1;if(B<this.length&&u(a[B],P)<0&&(E=B,P=a[B]),u(P,b)>=0)break;a[r]=P,r=E}a[r]=b};var vm=Number.POSITIVE_INFINITY;function mv(r,a){return a[1]!==vm?function(u,g,b){var E=0,P=0;switch(g=Math.abs(g),b=Math.abs(b),u){case"top-right":case"top-left":case"top":P=b-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-b}switch(u){case"top-right":case"bottom-right":case"right":E=-g;break;case"top-left":case"bottom-left":case"left":E=g}return[E,P]}(r,a[0],a[1]):function(u,g){var b=0,E=0;g<0&&(g=0);var P=g/Math.sqrt(2);switch(u){case"top-right":case"top-left":E=P-7;break;case"bottom-right":case"bottom-left":E=7-P;break;case"bottom":E=7-g;break;case"top":E=g-7}switch(u){case"top-right":case"bottom-right":b=-P;break;case"top-left":case"bottom-left":b=P;break;case"left":b=g;break;case"right":b=-g}return[b,E]}(r,a[0])}function _m(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gv(r,a,u,g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce){var ke=function(ft,pt,kt,Ut,Zt,gn,nn,Cn){for(var on=Ut.layout.get("text-rotate").evaluate(gn,{})*Math.PI/180,Zn=[],On=0,yn=pt.positionedLines;On<yn.length;On+=1)for(var ir=yn[On],Hn=0,_r=ir.positionedGlyphs;Hn<_r.length;Hn+=1){var Tn=_r[Hn];if(Tn.rect){var Or=Tn.rect||{},li=4,_i=!0,Oi=1,xi=0,Ei=(Zt||Cn)&&Tn.vertical,_o=Tn.metrics.advance*Tn.scale/2;if(Cn&&pt.verticalizable&&(xi=ir.lineOffset/2-(Tn.imageName?-(24-Tn.metrics.width*Tn.scale)/2:24*(Tn.scale-1))),Tn.imageName){var Io=nn[Tn.imageName];_i=Io.sdf,li=1/(Oi=Io.pixelRatio)}var Ca=Zt?[Tn.x+_o,Tn.y]:[0,0],Uo=Zt?[0,0]:[Tn.x+_o+kt[0],Tn.y+kt[1]-xi],ka=[0,0];Ei&&(ka=Uo,Uo=[0,0]);var Ji=(Tn.metrics.left-li)*Tn.scale-_o+Uo[0],jo=(-Tn.metrics.top-li)*Tn.scale+Uo[1],cr=Ji+Or.w*Tn.scale/Oi,ri=jo+Or.h*Tn.scale/Oi,qr=new M(Ji,jo),Cr=new M(cr,jo),Da=new M(Ji,ri),Aa=new M(cr,ri);if(Ei){var Tr=new M(-_o,_o- -17),lo=-Math.PI/2,da=12-_o,fr=new M(22-da,-(Tn.imageName?da:0)),Xn=new(Function.prototype.bind.apply(M,[null].concat(ka)));qr._rotateAround(lo,Tr)._add(fr)._add(Xn),Cr._rotateAround(lo,Tr)._add(fr)._add(Xn),Da._rotateAround(lo,Tr)._add(fr)._add(Xn),Aa._rotateAround(lo,Tr)._add(fr)._add(Xn)}if(on){var Ls=Math.sin(on),xo=Math.cos(on),pr=[xo,-Ls,Ls,xo];qr._matMult(pr),Cr._matMult(pr),Da._matMult(pr),Aa._matMult(pr)}var Eu=new M(0,0),ma=new M(0,0);Zn.push({tl:qr,tr:Cr,bl:Da,br:Aa,tex:Or,writingMode:pt.writingMode,glyphOffset:Ca,sectionIndex:Tn.sectionIndex,isSDF:_i,pixelOffsetTL:Eu,pixelOffsetBR:ma,minFontScaleX:0,minFontScaleY:0})}}return Zn}(0,u,B,b,E,P,g,r.allowVerticalPlacement),He=r.textSizeData,Fe=null;He.kind==="source"?(Fe=[128*b.layout.get("text-size").evaluate(P,{})])[0]>32640&&yt(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):He.kind==="composite"&&((Fe=[128*Ae.compositeTextSizes[0].evaluate(P,{},Ce),128*Ae.compositeTextSizes[1].evaluate(P,{},Ce)])[0]>32640||Fe[1]>32640)&&yt(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),r.addSymbols(r.text,ke,Fe,B,E,P,W,a,$.lineStartIndex,$.lineLength,ue,Ce);for(var nt=0,it=Z;nt<it.length;nt+=1)Y[it[nt]]=r.text.placedSymbolArray.length-1;return 4*ke.length}function yv(r){for(var a in r)return r[a];return null}function Eb(r,a,u,g){var b=r.compareText;if(a in b){for(var E=b[a],P=E.length-1;P>=0;P--)if(g.dist(E[P])<u)return!0}else b[a]=[];return b[a].push(g),!1}var bl=wu.VectorTileFeature.types,Cb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ed(r,a,u,g,b,E,P,B,$,W,Z,Y,ue){var Ae=B?Math.min(32640,Math.round(B[0])):0,Ce=B?Math.min(32640,Math.round(B[1])):0;r.emplaceBack(a,u,Math.round(32*g),Math.round(32*b),E,P,(Ae<<1)+($?1:0),Ce,16*W,16*Z,256*Y,256*ue)}function xm(r,a,u){r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u)}function vv(r){for(var a=0,u=r.sections;a<u.length;a+=1)if(jp(u[a].text))return!0;return!1}var eh=function(r){this.layoutVertexArray=new ie,this.indexArray=new Nt,this.programConfigurations=r,this.segments=new me,this.dynamicLayoutVertexArray=new ce,this.opacityVertexArray=new Be,this.placedSymbolArray=new C};eh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},eh.prototype.upload=function(r,a,u,g){this.isEmpty()||(u&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,cb.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,fb.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,Cb,!0),this.opacityVertexBuffer.itemSize=1),(u||g)&&this.programConfigurations.upload(r))},eh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},an("SymbolBuffers",eh);var uA=function(r,a,u){this.layoutVertexArray=new r,this.layoutAttributes=a,this.indexArray=new u,this.segments=new me,this.collisionVertexArray=new Ct};uA.prototype.upload=function(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,Ac.members,!0)},uA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},an("CollisionBuffers",uA);var Kr=function(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(E){return E.id}),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ha([]),this.placementViewportMatrix=ha([]);var a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xl(this.zoom,a["text-size"]),this.iconSizeData=xl(this.zoom,a["icon-size"]);var u=this.layers[0].layout,g=u.get("symbol-sort-key"),b=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(function(E){return Ms[E]})),this.stateDependentLayerIds=this.layers.filter(function(E){return E.isStateDependent()}).map(function(E){return E.id}),this.sourceID=r.sourceID};Kr.prototype.createArrays=function(){this.text=new eh(new Hr(this.layers,this.zoom,function(r){return/^text/.test(r)})),this.icon=new eh(new Hr(this.layers,this.zoom,function(r){return/^icon/.test(r)})),this.glyphOffsetArray=new j,this.lineVertexArray=new G,this.symbolInstances=new D},Kr.prototype.calculateGlyphDependencies=function(r,a,u,g,b){for(var E=0;E<r.length;E++)if(a[r.charCodeAt(E)]=!0,(u||g)&&b){var P=uf[r.charAt(E)];P&&(a[P.charCodeAt(0)]=!0)}},Kr.prototype.populate=function(r,a,u){var g=this.layers[0],b=g.layout,E=b.get("text-font"),P=b.get("text-field"),B=b.get("icon-image"),$=(P.value.kind!=="constant"||P.value.value instanceof oo&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),W=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=b.get("symbol-sort-key");if(this.features=[],$||W){for(var Y=a.iconDependencies,ue=a.glyphDependencies,Ae=a.availableImages,Ce=new Wn(this.zoom),ke=0,He=r;ke<He.length;ke+=1){var Fe=He[ke],nt=Fe.feature,it=Fe.id,ft=Fe.index,pt=Fe.sourceLayerIndex,kt=g._featureFilter.needGeometry,Ut=na(nt,kt);if(g._featureFilter.filter(Ce,Ut,u)){kt||(Ut.geometry=fi(nt));var Zt=void 0;if($){var gn=g.getValueAndResolveTokens("text-field",Ut,u,Ae),nn=oo.factory(gn);vv(nn)&&(this.hasRTLText=!0),(!this.hasRTLText||hs()==="unavailable"||this.hasRTLText&&rr.isParsed())&&(Zt=mm(nn,g,Ut))}var Cn=void 0;if(W){var on=g.getValueAndResolveTokens("icon-image",Ut,u,Ae);Cn=on instanceof Qo?on:Qo.fromString(on)}if(Zt||Cn){var Zn=this.sortFeaturesByKey?Z.evaluate(Ut,{},u):void 0;if(this.features.push({id:it,text:Zt,icon:Cn,index:ft,sourceLayerIndex:pt,geometry:Ut.geometry,properties:nt.properties,type:bl[nt.type],sortKey:Zn}),Cn&&(Y[Cn.name]=!0),Zt){var On=E.evaluate(Ut,{},u).join(","),yn=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ms.vertical)>=0;for(var ir=0,Hn=Zt.sections;ir<Hn.length;ir+=1){var _r=Hn[ir];if(_r.image)Y[_r.image.name]=!0;else{var Tn=sc(Zt.toString()),Or=_r.fontStack||On,li=ue[Or]=ue[Or]||{};this.calculateGlyphDependencies(_r.text,li,yn,this.allowVerticalPlacement,Tn)}}}}}}b.get("symbol-placement")==="line"&&(this.features=function(_i){var Oi={},xi={},Ei=[],_o=0;function Io(Tr){Ei.push(_i[Tr]),_o++}function Ca(Tr,lo,da){var fr=xi[Tr];return delete xi[Tr],xi[lo]=fr,Ei[fr].geometry[0].pop(),Ei[fr].geometry[0]=Ei[fr].geometry[0].concat(da[0]),fr}function Uo(Tr,lo,da){var fr=Oi[lo];return delete Oi[lo],Oi[Tr]=fr,Ei[fr].geometry[0].shift(),Ei[fr].geometry[0]=da[0].concat(Ei[fr].geometry[0]),fr}function ka(Tr,lo,da){var fr=da?lo[0][lo[0].length-1]:lo[0][0];return Tr+":"+fr.x+":"+fr.y}for(var Ji=0;Ji<_i.length;Ji++){var jo=_i[Ji],cr=jo.geometry,ri=jo.text?jo.text.toString():null;if(ri){var qr=ka(ri,cr),Cr=ka(ri,cr,!0);if(qr in xi&&Cr in Oi&&xi[qr]!==Oi[Cr]){var Da=Uo(qr,Cr,cr),Aa=Ca(qr,Cr,Ei[Da].geometry);delete Oi[qr],delete xi[Cr],xi[ka(ri,Ei[Aa].geometry,!0)]=Aa,Ei[Da].geometry=null}else qr in xi?Ca(qr,Cr,cr):Cr in Oi?Uo(qr,Cr,cr):(Io(Ji),Oi[qr]=_o-1,xi[Cr]=_o-1)}else Io(Ji)}return Ei.filter(function(Tr){return Tr.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,Oi){return _i.sortKey-Oi.sortKey})}},Kr.prototype.update=function(r,a,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,a,this.layers,u),this.icon.programConfigurations.updatePaintArrays(r,a,this.layers,u))},Kr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Kr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Kr.prototype.upload=function(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Kr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Kr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Kr.prototype.addToLineVertexArray=function(r,a){var u=this.lineVertexArray.length;if(r.segment!==void 0){for(var g=r.dist(a[r.segment+1]),b=r.dist(a[r.segment]),E={},P=r.segment+1;P<a.length;P++)E[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:g},P<a.length-1&&(g+=a[P+1].dist(a[P]));for(var B=r.segment||0;B>=0;B--)E[B]={x:a[B].x,y:a[B].y,tileUnitDistanceFromAnchor:b},B>0&&(b+=a[B-1].dist(a[B]));for(var $=0;$<a.length;$++){var W=E[$];this.lineVertexArray.emplaceBack(W.x,W.y,W.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},Kr.prototype.addSymbols=function(r,a,u,g,b,E,P,B,$,W,Z,Y){for(var ue=r.indexArray,Ae=r.layoutVertexArray,Ce=r.segments.prepareSegment(4*a.length,Ae,ue,this.canOverlap?E.sortKey:void 0),ke=this.glyphOffsetArray.length,He=Ce.vertexLength,Fe=this.allowVerticalPlacement&&P===Ms.vertical?Math.PI/2:0,nt=E.text&&E.text.sections,it=0;it<a.length;it++){var ft=a[it],pt=ft.tl,kt=ft.tr,Ut=ft.bl,Zt=ft.br,gn=ft.tex,nn=ft.pixelOffsetTL,Cn=ft.pixelOffsetBR,on=ft.minFontScaleX,Zn=ft.minFontScaleY,On=ft.glyphOffset,yn=ft.isSDF,ir=ft.sectionIndex,Hn=Ce.vertexLength,_r=On[1];Ed(Ae,B.x,B.y,pt.x,_r+pt.y,gn.x,gn.y,u,yn,nn.x,nn.y,on,Zn),Ed(Ae,B.x,B.y,kt.x,_r+kt.y,gn.x+gn.w,gn.y,u,yn,Cn.x,nn.y,on,Zn),Ed(Ae,B.x,B.y,Ut.x,_r+Ut.y,gn.x,gn.y+gn.h,u,yn,nn.x,Cn.y,on,Zn),Ed(Ae,B.x,B.y,Zt.x,_r+Zt.y,gn.x+gn.w,gn.y+gn.h,u,yn,Cn.x,Cn.y,on,Zn),xm(r.dynamicLayoutVertexArray,B,Fe),ue.emplaceBack(Hn,Hn+1,Hn+2),ue.emplaceBack(Hn+1,Hn+2,Hn+3),Ce.vertexLength+=4,Ce.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(On[0]),it!==a.length-1&&ir===a[it+1].sectionIndex||r.programConfigurations.populatePaintArrays(Ae.length,E,E.index,{},Y,nt&&nt[ir])}r.placedSymbolArray.emplaceBack(B.x,B.y,ke,this.glyphOffsetArray.length-ke,He,$,W,B.segment,u?u[0]:0,u?u[1]:0,g[0],g[1],P,0,!1,0,Z)},Kr.prototype._addCollisionDebugVertex=function(r,a,u,g,b,E){return a.emplaceBack(0,0),r.emplaceBack(u.x,u.y,g,b,Math.round(E.x),Math.round(E.y))},Kr.prototype.addCollisionDebugVertices=function(r,a,u,g,b,E,P){var B=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),$=B.vertexLength,W=b.layoutVertexArray,Z=b.collisionVertexArray,Y=P.anchorX,ue=P.anchorY;this._addCollisionDebugVertex(W,Z,E,Y,ue,new M(r,a)),this._addCollisionDebugVertex(W,Z,E,Y,ue,new M(u,a)),this._addCollisionDebugVertex(W,Z,E,Y,ue,new M(u,g)),this._addCollisionDebugVertex(W,Z,E,Y,ue,new M(r,g)),B.vertexLength+=4;var Ae=b.indexArray;Ae.emplaceBack($,$+1),Ae.emplaceBack($+1,$+2),Ae.emplaceBack($+2,$+3),Ae.emplaceBack($+3,$),B.primitiveLength+=4},Kr.prototype.addDebugCollisionBoxes=function(r,a,u,g){for(var b=r;b<a;b++){var E=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,g?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,u)}},Kr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new uA(ot,yd.members,xn),this.iconCollisionBox=new uA(ot,yd.members,xn);for(var r=0;r<this.symbolInstances.length;r++){var a=this.symbolInstances.get(r);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}},Kr.prototype._deserializeCollisionBoxesForSymbol=function(r,a,u,g,b,E,P,B,$){for(var W={},Z=a;Z<u;Z++){var Y=r.get(Z);W.textBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},W.textFeatureIndex=Y.featureIndex;break}for(var ue=g;ue<b;ue++){var Ae=r.get(ue);W.verticalTextBox={x1:Ae.x1,y1:Ae.y1,x2:Ae.x2,y2:Ae.y2,anchorPointX:Ae.anchorPointX,anchorPointY:Ae.anchorPointY},W.verticalTextFeatureIndex=Ae.featureIndex;break}for(var Ce=E;Ce<P;Ce++){var ke=r.get(Ce);W.iconBox={x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,anchorPointX:ke.anchorPointX,anchorPointY:ke.anchorPointY},W.iconFeatureIndex=ke.featureIndex;break}for(var He=B;He<$;He++){var Fe=r.get(He);W.verticalIconBox={x1:Fe.x1,y1:Fe.y1,x2:Fe.x2,y2:Fe.y2,anchorPointX:Fe.anchorPointX,anchorPointY:Fe.anchorPointY},W.verticalIconFeatureIndex=Fe.featureIndex;break}return W},Kr.prototype.deserializeCollisionBoxes=function(r){this.collisionArrays=[];for(var a=0;a<this.symbolInstances.length;a++){var u=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},Kr.prototype.hasTextData=function(){return this.text.segments.get().length>0},Kr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Kr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Kr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Kr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Kr.prototype.addIndicesForPlacedSymbol=function(r,a){for(var u=r.placedSymbolArray.get(a),g=u.vertexStartIndex+4*u.numGlyphs,b=u.vertexStartIndex;b<g;b+=4)r.indexArray.emplaceBack(b,b+1,b+2),r.indexArray.emplaceBack(b+1,b+2,b+3)},Kr.prototype.getSortedSymbolIndexes=function(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var a=Math.sin(r),u=Math.cos(r),g=[],b=[],E=[],P=0;P<this.symbolInstances.length;++P){E.push(P);var B=this.symbolInstances.get(P);g.push(0|Math.round(a*B.anchorX+u*B.anchorY)),b.push(B.featureIndex)}return E.sort(function($,W){return g[$]-g[W]||b[W]-b[$]}),E},Kr.prototype.addToSortKeyRanges=function(r,a){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===a?u.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:r,symbolInstanceEnd:r+1})},Kr.prototype.sortFeatures=function(r){var a=this;if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,g=this.symbolInstanceIndexes;u<g.length;u+=1){var b=this.symbolInstances.get(g[u]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(E,P,B){E>=0&&B.indexOf(E)===P&&a.addIndicesForPlacedSymbol(a.text,E)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},an("SymbolBucket",Kr,{omit:["layers","collisionBoxArray","features","compareText"]}),Kr.MAX_GLYPHS=65535,Kr.addDynamicAttributes=xm;var kb=new zo({"symbol-placement":new Wt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Wt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Wt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new dt(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Wt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Wt(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Wt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Wt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Wt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new dt(xe.layout_symbol["icon-size"]),"icon-text-fit":new Wt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Wt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new dt(xe.layout_symbol["icon-image"]),"icon-rotate":new dt(xe.layout_symbol["icon-rotate"]),"icon-padding":new Wt(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Wt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new dt(xe.layout_symbol["icon-offset"]),"icon-anchor":new dt(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Wt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Wt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Wt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new dt(xe.layout_symbol["text-field"]),"text-font":new dt(xe.layout_symbol["text-font"]),"text-size":new dt(xe.layout_symbol["text-size"]),"text-max-width":new dt(xe.layout_symbol["text-max-width"]),"text-line-height":new Wt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new dt(xe.layout_symbol["text-letter-spacing"]),"text-justify":new dt(xe.layout_symbol["text-justify"]),"text-radial-offset":new dt(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Wt(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new dt(xe.layout_symbol["text-anchor"]),"text-max-angle":new Wt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Wt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new dt(xe.layout_symbol["text-rotate"]),"text-padding":new Wt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Wt(xe.layout_symbol["text-keep-upright"]),"text-transform":new dt(xe.layout_symbol["text-transform"]),"text-offset":new dt(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Wt(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Wt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Wt(xe.layout_symbol["text-optional"])}),cA={paint:new zo({"icon-opacity":new dt(xe.paint_symbol["icon-opacity"]),"icon-color":new dt(xe.paint_symbol["icon-color"]),"icon-halo-color":new dt(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new dt(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new dt(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Wt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Wt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new dt(xe.paint_symbol["text-opacity"]),"text-color":new dt(xe.paint_symbol["text-color"],{runtimeType:hn,getOverride:function(r){return r.textColor},hasOverride:function(r){return!!r.textColor}}),"text-halo-color":new dt(xe.paint_symbol["text-halo-color"]),"text-halo-width":new dt(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new dt(xe.paint_symbol["text-halo-blur"]),"text-translate":new Wt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Wt(xe.paint_symbol["text-translate-anchor"])}),layout:kb},th=function(r){this.type=r.property.overrides?r.property.overrides.runtimeType:jt,this.defaultValue=r};th.prototype.evaluate=function(r){if(r.formattedSection){var a=this.defaultValue.property.overrides;if(a&&a.hasOverride(r.formattedSection))return a.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default},th.prototype.eachChild=function(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)},th.prototype.outputDefined=function(){return!1},th.prototype.serialize=function(){return null},an("FormatSectionOverride",th,{omit:["defaultValue"]});var Tb=function(r){function a(u){r.call(this,u,cA)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.recalculate=function(u,g){if(r.prototype.recalculate.call(this,u,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var b=this.layout.get("text-writing-mode");if(b){for(var E=[],P=0,B=b;P<B.length;P+=1){var $=B[P];E.indexOf($)<0&&E.push($)}this.layout._values["text-writing-mode"]=E}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},a.prototype.getValueAndResolveTokens=function(u,g,b,E){var P=this.layout.get(u).evaluate(g,{},b,E),B=this._unevaluatedLayout._values[u];return B.isDataDriven()||Ui(B.value)||!P?P:function($,W){return W.replace(/{([^{}]+)}/g,function(Z,Y){return Y in $?String($[Y]):""})}(g.properties,P)},a.prototype.createBucket=function(u){return new Kr(u)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype._setPaintOverrides=function(){for(var u=0,g=cA.paint.overridableProperties;u<g.length;u+=1){var b=g[u];if(a.hasPaintOverride(this.layout,b)){var E,P=this.paint.get(b),B=new th(P),$=new po(B,P.property.specification);E=P.value.kind==="constant"||P.value.kind==="source"?new rc("source",$):new Au("composite",$,P.value.zoomStops,P.value._interpolationType),this.paint._values[b]=new ea(P.property,E,P.parameters)}}},a.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!(!this.layout||g.isDataDriven()||b.isDataDriven())&&a.hasPaintOverride(this.layout,u)},a.hasPaintOverride=function(u,g){var b=u.get("text-field"),E=cA.paint.properties[g],P=!1,B=function(Z){for(var Y=0,ue=Z;Y<ue.length;Y+=1)if(E.overrides&&E.overrides.hasOverride(ue[Y]))return void(P=!0)};if(b.value.kind==="constant"&&b.value.value instanceof oo)B(b.value.value.sections);else if(b.value.kind==="source"){var $=function(Z){P||(Z instanceof ua&&ao(Z.value)===Jn?B(Z.value.sections):Z instanceof Wo?B(Z.sections):Z.eachChild($))},W=b.value;W._styleExpression&&$(W._styleExpression.expression)}return P},a}($i),Pb={paint:new zo({"background-color":new Wt(xe.paint_background["background-color"]),"background-pattern":new Po(xe.paint_background["background-pattern"]),"background-opacity":new Wt(xe.paint_background["background-opacity"])})},Ib=function(r){function a(u){r.call(this,u,Pb)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}($i),Ob={paint:new zo({"raster-opacity":new Wt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Wt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Wt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Wt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Wt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Wt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Wt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Wt(xe.paint_raster["raster-fade-duration"])})},Mb=function(r){function a(u){r.call(this,u,Ob)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}($i),Lb=function(r){function a(u){r.call(this,u,{}),this.implementation=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},a.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},a.prototype.recalculate=function(){},a.prototype.updateTransitions=function(){},a.prototype.hasTransition=function(){},a.prototype.serialize=function(){},a.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},a.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},a}($i),Rb={circle:Hf,heatmap:Ny,hillshade:nb,fill:bu,"fill-extrusion":cm,line:ub,symbol:Tb,background:Ib,raster:Mb},_v=z.HTMLImageElement,xv=z.HTMLCanvasElement,bv=z.HTMLVideoElement,wv=z.ImageData,Cd=z.ImageBitmap,Jf=function(r,a,u,g){this.context=r,this.format=u,this.texture=r.gl.createTexture(),this.update(a,g)};Jf.prototype.update=function(r,a,u){var g=r.width,b=r.height,E=!(this.size&&this.size[0]===g&&this.size[1]===b||u),P=this.context,B=P.gl;if(this.useMipmap=Boolean(a&&a.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!a||a.premultiply!==!1)),E)this.size=[g,b],r instanceof _v||r instanceof xv||r instanceof bv||r instanceof wv||Cd&&r instanceof Cd?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,r):B.texImage2D(B.TEXTURE_2D,0,this.format,g,b,0,this.format,B.UNSIGNED_BYTE,r.data);else{var $=u||{x:0,y:0},W=$.x,Z=$.y;r instanceof _v||r instanceof xv||r instanceof bv||r instanceof wv||Cd&&r instanceof Cd?B.texSubImage2D(B.TEXTURE_2D,0,W,Z,B.RGBA,B.UNSIGNED_BYTE,r):B.texSubImage2D(B.TEXTURE_2D,0,W,Z,g,b,B.RGBA,B.UNSIGNED_BYTE,r.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)},Jf.prototype.bind=function(r,a,u){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),u!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=g.LINEAR),r!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,r),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,u||r),this.filter=r),a!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,a),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,a),this.wrap=a)},Jf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Jf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var bm=function(r){var a=this;this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){a._triggered=!1,a._callback()})};bm.prototype.trigger=function(){var r=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){r._triggered=!1,r._callback()},0))},bm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var nh=function(r,a,u){this.target=r,this.parent=a,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},be(["receive","process"],this),this.invoker=new bm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Jt()?r:z};function Sv(r,a,u){var g=2*Math.PI*6378137/256/Math.pow(2,u);return[r*g-2*Math.PI*6378137/2,a*g-2*Math.PI*6378137/2]}nh.prototype.send=function(r,a,u,g,b){var E=this;b===void 0&&(b=!1);var P=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[P]=u);var B=Me(this.globalScope)?void 0:[];return this.target.postMessage({id:P,type:r,hasCallback:!!u,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:Fo(a,B)},B),{cancel:function(){u&&delete E.callbacks[P],E.target.postMessage({id:P,type:"<cancel>",targetMapId:g,sourceMapId:E.mapId})}}},nh.prototype.receive=function(r){var a=r.data,u=a.id;if(u&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[u];var g=this.cancelCallbacks[u];delete this.cancelCallbacks[u],g&&g()}else Jt()||a.mustQueue?(this.tasks[u]=a,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,a)},nh.prototype.process=function(){if(this.taskQueue.length){var r=this.taskQueue.shift(),a=this.tasks[r];delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(r,a)}},nh.prototype.processTask=function(r,a){var u=this;if(a.type==="<response>"){var g=this.callbacks[r];delete this.callbacks[r],g&&(a.error?g(yu(a.error)):g(null,yu(a.data)))}else{var b=!1,E=Me(this.globalScope)?void 0:[],P=a.hasCallback?function(Z,Y){b=!0,delete u.cancelCallbacks[r],u.target.postMessage({id:r,type:"<response>",sourceMapId:u.mapId,error:Z?Fo(Z):null,data:Fo(Y,E)},E)}:function(Z){b=!0},B=null,$=yu(a.data);if(this.parent[a.type])B=this.parent[a.type](a.sourceMapId,$,P);else if(this.parent.getWorkerSource){var W=a.type.split(".");B=this.parent.getWorkerSource(a.sourceMapId,W[0],$.source)[W[1]]($,P)}else P(new Error("Could not find function "+a.type));!b&&B&&B.cancel&&(this.cancelCallbacks[r]=B.cancel)}},nh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var yo=function(r,a){r&&(a?this.setSouthWest(r).setNorthEast(a):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))};yo.prototype.setNorthEast=function(r){return this._ne=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.setSouthWest=function(r){return this._sw=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.extend=function(r){var a,u,g=this._sw,b=this._ne;if(r instanceof vi)a=r,u=r;else{if(!(r instanceof yo))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(yo.convert(r)):this.extend(vi.convert(r)):this;if(u=r._ne,!(a=r._sw)||!u)return this}return g||b?(g.lng=Math.min(a.lng,g.lng),g.lat=Math.min(a.lat,g.lat),b.lng=Math.max(u.lng,b.lng),b.lat=Math.max(u.lat,b.lat)):(this._sw=new vi(a.lng,a.lat),this._ne=new vi(u.lng,u.lat)),this},yo.prototype.getCenter=function(){return new vi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},yo.prototype.getSouthWest=function(){return this._sw},yo.prototype.getNorthEast=function(){return this._ne},yo.prototype.getNorthWest=function(){return new vi(this.getWest(),this.getNorth())},yo.prototype.getSouthEast=function(){return new vi(this.getEast(),this.getSouth())},yo.prototype.getWest=function(){return this._sw.lng},yo.prototype.getSouth=function(){return this._sw.lat},yo.prototype.getEast=function(){return this._ne.lng},yo.prototype.getNorth=function(){return this._ne.lat},yo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},yo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},yo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},yo.prototype.contains=function(r){var a=vi.convert(r),u=a.lng,g=a.lat,b=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&b},yo.convert=function(r){return!r||r instanceof yo?r:new yo(r)};var vi=function(r,a){if(isNaN(r)||isNaN(a))throw new Error("Invalid LngLat object: ("+r+", "+a+")");if(this.lng=+r,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vi.prototype.wrap=function(){return new vi(V(this.lng,-180,180),this.lat)},vi.prototype.toArray=function(){return[this.lng,this.lat]},vi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vi.prototype.distanceTo=function(r){var a=Math.PI/180,u=this.lat*a,g=r.lat*a,b=Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos((r.lng-this.lng)*a);return 63710088e-1*Math.acos(Math.min(b,1))},vi.prototype.toBounds=function(r){r===void 0&&(r=0);var a=360*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return new yo(new vi(this.lng-u,this.lat-a),new vi(this.lng+u,this.lat+a))},vi.convert=function(r){if(r instanceof vi)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new vi(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new vi(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ev=2*Math.PI*63710088e-1;function kd(r){return Ev*Math.cos(r*Math.PI/180)}function wm(r){return(180+r)/360}function Cv(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function kv(r,a){return r/kd(a)}function Sm(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}var ep=function(r,a,u){u===void 0&&(u=0),this.x=+r,this.y=+a,this.z=+u};ep.fromLngLat=function(r,a){a===void 0&&(a=0);var u=vi.convert(r);return new ep(wm(u.lng),Cv(u.lat),kv(a,u.lat))},ep.prototype.toLngLat=function(){return new vi(360*this.x-180,Sm(this.y))},ep.prototype.toAltitude=function(){return this.z*kd(Sm(this.y))},ep.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ev*(r=Sm(this.y),1/Math.cos(r*Math.PI/180));var r};var tp=function(r,a,u){this.z=r,this.x=a,this.y=u,this.key=fA(0,r,r,a,u)};tp.prototype.equals=function(r){return this.z===r.z&&this.x===r.x&&this.y===r.y},tp.prototype.url=function(r,a){var u,g,b,E,P,B=(g=this.y,b=this.z,E=Sv(256*(u=this.x),256*(g=Math.pow(2,b)-g-1),b),P=Sv(256*(u+1),256*(g+1),b),E[0]+","+E[1]+","+P[0]+","+P[1]),$=function(W,Z,Y){for(var ue,Ae="",Ce=W;Ce>0;Ce--)Ae+=(Z&(ue=1<<Ce-1)?1:0)+(Y&ue?2:0);return Ae}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",$).replace("{bbox-epsg-3857}",B)},tp.prototype.getTilePoint=function(r){var a=Math.pow(2,this.z);return new M(8192*(r.x*a-this.x),8192*(r.y*a-this.y))},tp.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Tv=function(r,a){this.wrap=r,this.canonical=a,this.key=fA(r,a.z,a.z,a.x,a.y)},vo=function(r,a,u,g,b){this.overscaledZ=r,this.wrap=a,this.canonical=new tp(u,+g,+b),this.key=fA(a,r,u,g,b)};function fA(r,a,u,g,b){(r*=2)<0&&(r=-1*r-1);var E=1<<u;return(E*E*r+E*b+g).toString(36)+u.toString(36)+a.toString(36)}vo.prototype.equals=function(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)},vo.prototype.scaledTo=function(r){var a=this.canonical.z-r;return r>this.canonical.z?new vo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vo(r,this.wrap,r,this.canonical.x>>a,this.canonical.y>>a)},vo.prototype.calculateScaledKey=function(r,a){var u=this.canonical.z-r;return r>this.canonical.z?fA(this.wrap*+a,r,this.canonical.z,this.canonical.x,this.canonical.y):fA(this.wrap*+a,r,r,this.canonical.x>>u,this.canonical.y>>u)},vo.prototype.isChildOf=function(r){if(r.wrap!==this.wrap)return!1;var a=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>a&&r.canonical.y===this.canonical.y>>a},vo.prototype.children=function(r){if(this.overscaledZ>=r)return[new vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var a=this.canonical.z+1,u=2*this.canonical.x,g=2*this.canonical.y;return[new vo(a,this.wrap,a,u,g),new vo(a,this.wrap,a,u+1,g),new vo(a,this.wrap,a,u,g+1),new vo(a,this.wrap,a,u+1,g+1)]},vo.prototype.isLessThan=function(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))},vo.prototype.wrapped=function(){return new vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.unwrapTo=function(r){return new vo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vo.prototype.toUnwrapped=function(){return new Tv(this.wrap,this.canonical)},vo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vo.prototype.getTilePoint=function(r){return this.canonical.getTilePoint(new ep(r.x-this.wrap,r.y))},an("CanonicalTileID",tp),an("OverscaledTileID",vo,{omit:["posMatrix"]});var Su=function(r,a,u){if(this.uid=r,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return yt('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=a.height;var g=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=u||"mapbox";for(var b=0;b<g;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(g,b)]=this.data[this._idx(g-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,g)]=this.data[this._idx(b,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};Su.prototype.get=function(r,a){var u=new Uint8Array(this.data.buffer),g=4*this._idx(r,a);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(u[g],u[g+1],u[g+2])},Su.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Su.prototype._idx=function(r,a){if(r<-1||r>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(r+1)},Su.prototype._unpackMapbox=function(r,a,u){return(256*r*256+256*a+u)/10-1e4},Su.prototype._unpackTerrarium=function(r,a,u){return 256*r+a+u/256-32768},Su.prototype.getPixels=function(){return new Ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Su.prototype.backfillBorder=function(r,a,u){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");var g=a*this.dim,b=a*this.dim+this.dim,E=u*this.dim,P=u*this.dim+this.dim;switch(a){case-1:g=b-1;break;case 1:b=g+1}switch(u){case-1:E=P-1;break;case 1:P=E+1}for(var B=-a*this.dim,$=-u*this.dim,W=E;W<P;W++)for(var Z=g;Z<b;Z++)this.data[this._idx(Z,W)]=r.data[this._idx(Z+B,W+$)]},an("DEMData",Su);var Td=function(r){this._stringToNumber={},this._numberToString=[];for(var a=0;a<r.length;a++){var u=r[a];this._stringToNumber[u]=a,this._numberToString[a]=u}};Td.prototype.encode=function(r){return this._stringToNumber[r]},Td.prototype.decode=function(r){return this._numberToString[r]};var np=function(r,a,u,g,b){this.type="Feature",this._vectorTileFeature=r,r._z=a,r._x=u,r._y=g,this.properties=r.properties,this.id=b},Em={geometry:{configurable:!0}};Em.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Em.geometry.set=function(r){this._geometry=r},np.prototype.toJSON=function(){var r={geometry:this.geometry};for(var a in this)a!=="_geometry"&&a!=="_vectorTileFeature"&&(r[a]=this[a]);return r},Object.defineProperties(np.prototype,Em);var rh=function(){this.state={},this.stateChanges={},this.deletedStates={}};rh.prototype.updateState=function(r,a,u){var g=String(a);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][g]=this.stateChanges[r][g]||{},X(this.stateChanges[r][g],u),this.deletedStates[r]===null)for(var b in this.deletedStates[r]={},this.state[r])b!==g&&(this.deletedStates[r][b]=null);else if(this.deletedStates[r]&&this.deletedStates[r][g]===null)for(var E in this.deletedStates[r][g]={},this.state[r][g])u[E]||(this.deletedStates[r][g][E]=null);else for(var P in u)this.deletedStates[r]&&this.deletedStates[r][g]&&this.deletedStates[r][g][P]===null&&delete this.deletedStates[r][g][P]},rh.prototype.removeFeatureState=function(r,a,u){if(this.deletedStates[r]!==null){var g=String(a);if(this.deletedStates[r]=this.deletedStates[r]||{},u&&a!==void 0)this.deletedStates[r][g]!==null&&(this.deletedStates[r][g]=this.deletedStates[r][g]||{},this.deletedStates[r][g][u]=null);else if(a!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][g])for(u in this.deletedStates[r][g]={},this.stateChanges[r][g])this.deletedStates[r][g][u]=null;else this.deletedStates[r][g]=null;else this.deletedStates[r]=null}},rh.prototype.getState=function(r,a){var u=String(a),g=X({},(this.state[r]||{})[u],(this.stateChanges[r]||{})[u]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){var b=this.deletedStates[r][a];if(b===null)return{};for(var E in b)delete g[E]}return g},rh.prototype.initializeTileState=function(r,a){r.setFeatureState(this.state,a)},rh.prototype.coalesceChanges=function(r,a){var u={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var b={};for(var E in this.stateChanges[g])this.state[g][E]||(this.state[g][E]={}),X(this.state[g][E],this.stateChanges[g][E]),b[E]=this.state[g][E];u[g]=b}for(var P in this.deletedStates){this.state[P]=this.state[P]||{};var B={};if(this.deletedStates[P]===null)for(var $ in this.state[P])B[$]={},this.state[P][$]={};else for(var W in this.deletedStates[P]){if(this.deletedStates[P][W]===null)this.state[P][W]={};else for(var Z=0,Y=Object.keys(this.deletedStates[P][W]);Z<Y.length;Z+=1)delete this.state[P][W][Y[Z]];B[W]=this.state[P][W]}u[P]=u[P]||{},X(u[P],B)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(var ue in r)r[ue].setFeatureState(u,a)};var mc=function(r,a){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new To(8192,16,0),this.grid3D=new To(8192,16,0),this.featureIndexArray=new de,this.promoteId=a};function Pv(r,a,u,g,b){return De(r,function(E,P){var B=a instanceof qa?a.get(P):null;return B&&B.evaluate?B.evaluate(u,g,b):B})}function Iv(r){for(var a=1/0,u=1/0,g=-1/0,b=-1/0,E=0,P=r;E<P.length;E+=1){var B=P[E];a=Math.min(a,B.x),u=Math.min(u,B.y),g=Math.max(g,B.x),b=Math.max(b,B.y)}return{minX:a,minY:u,maxX:g,maxY:b}}function Db(r,a){return a-r}mc.prototype.insert=function(r,a,u,g,b,E){var P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,g,b);for(var B=E?this.grid3D:this.grid,$=0;$<a.length;$++){for(var W=a[$],Z=[1/0,1/0,-1/0,-1/0],Y=0;Y<W.length;Y++){var ue=W[Y];Z[0]=Math.min(Z[0],ue.x),Z[1]=Math.min(Z[1],ue.y),Z[2]=Math.max(Z[2],ue.x),Z[3]=Math.max(Z[3],ue.y)}Z[0]<8192&&Z[1]<8192&&Z[2]>=0&&Z[3]>=0&&B.insert(P,Z[0],Z[1],Z[2],Z[3])}},mc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new wu.VectorTile(new Kf(this.rawTileData)).layers,this.sourceLayerCoder=new Td(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},mc.prototype.query=function(r,a,u,g){var b=this;this.loadVTLayers();for(var E=r.params||{},P=8192/r.tileSize/r.scale,B=cs(E.filter),$=r.queryGeometry,W=r.queryPadding*P,Z=Iv($),Y=this.grid.query(Z.minX-W,Z.minY-W,Z.maxX+W,Z.maxY+W),ue=Iv(r.cameraQueryGeometry),Ae=this.grid3D.query(ue.minX-W,ue.minY-W,ue.maxX+W,ue.maxY+W,function(ft,pt,kt,Ut){return function(Zt,gn,nn,Cn,on){for(var Zn=0,On=Zt;Zn<On.length;Zn+=1){var yn=On[Zn];if(gn<=yn.x&&nn<=yn.y&&Cn>=yn.x&&on>=yn.y)return!0}var ir=[new M(gn,nn),new M(gn,on),new M(Cn,on),new M(Cn,nn)];if(Zt.length>2){for(var Hn=0,_r=ir;Hn<_r.length;Hn+=1)if(Qa(Zt,_r[Hn]))return!0}for(var Tn=0;Tn<Zt.length-1;Tn++)if(of(Zt[Tn],Zt[Tn+1],ir))return!0;return!1}(r.cameraQueryGeometry,ft-W,pt-W,kt+W,Ut+W)}),Ce=0,ke=Ae;Ce<ke.length;Ce+=1)Y.push(ke[Ce]);Y.sort(Db);for(var He,Fe={},nt=function(ft){var pt=Y[ft];if(pt!==He){He=pt;var kt=b.featureIndexArray.get(pt),Ut=null;b.loadMatchingFeature(Fe,kt.bucketIndex,kt.sourceLayerIndex,kt.featureIndex,B,E.layers,E.availableImages,a,u,g,function(Zt,gn,nn){return Ut||(Ut=fi(Zt)),gn.queryIntersectsFeature($,Zt,nn,Ut,b.z,r.transform,P,r.pixelPosMatrix)})}},it=0;it<Y.length;it++)nt(it);return Fe},mc.prototype.loadMatchingFeature=function(r,a,u,g,b,E,P,B,$,W,Z){var Y=this.bucketLayerIDs[a];if(!E||function(Zt,gn){for(var nn=0;nn<Zt.length;nn++)if(gn.indexOf(Zt[nn])>=0)return!0;return!1}(E,Y)){var ue=this.sourceLayerCoder.decode(u),Ae=this.vtLayers[ue].feature(g);if(b.needGeometry){var Ce=na(Ae,!0);if(!b.filter(new Wn(this.tileID.overscaledZ),Ce,this.tileID.canonical))return}else if(!b.filter(new Wn(this.tileID.overscaledZ),Ae))return;for(var ke=this.getId(Ae,ue),He=0;He<Y.length;He++){var Fe=Y[He];if(!(E&&E.indexOf(Fe)<0)){var nt=B[Fe];if(nt){var it={};ke!==void 0&&W&&(it=W.getState(nt.sourceLayer||"_geojsonTileLayer",ke));var ft=X({},$[Fe]);ft.paint=Pv(ft.paint,nt.paint,Ae,it,P),ft.layout=Pv(ft.layout,nt.layout,Ae,it,P);var pt=!Z||Z(Ae,nt,it);if(pt){var kt=new np(Ae,this.z,this.x,this.y,ke);kt.layer=ft;var Ut=r[Fe];Ut===void 0&&(Ut=r[Fe]=[]),Ut.push({featureIndex:g,feature:kt,intersectionZ:pt})}}}}}},mc.prototype.lookupSymbolFeatures=function(r,a,u,g,b,E,P,B){var $={};this.loadVTLayers();for(var W=cs(b),Z=0,Y=r;Z<Y.length;Z+=1)this.loadMatchingFeature($,u,g,Y[Z],W,E,P,B,a);return $},mc.prototype.hasLayer=function(r){for(var a=0,u=this.bucketLayerIDs;a<u.length;a+=1)for(var g=0,b=u[a];g<b.length;g+=1)if(r===b[g])return!0;return!1},mc.prototype.getId=function(r,a){var u=r.id;return this.promoteId&&typeof(u=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[a]])=="boolean"&&(u=Number(u)),u},an("FeatureIndex",mc,{omit:["rawTileData","sourceLayerCoder"]});var No=function(r,a){this.tileID=r,this.uid=he(),this.uses=0,this.tileSize=a,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(r){var a=r+this.timeAdded;a<jn.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(r,a,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){for(var g in r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(W,Z){var Y={};if(!Z)return Y;for(var ue=function(){var ke=Ce[Ae],He=ke.layerIds.map(function(it){return Z.getLayer(it)}).filter(Boolean);if(He.length!==0){ke.layers=He,ke.stateDependentLayerIds&&(ke.stateDependentLayers=ke.stateDependentLayerIds.map(function(it){return He.filter(function(ft){return ft.id===it})[0]}));for(var Fe=0,nt=He;Fe<nt.length;Fe+=1)Y[nt[Fe].id]=ke}},Ae=0,Ce=W;Ae<Ce.length;Ae+=1)ue();return Y}(r.buckets,a.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[g];if(b instanceof Kr){if(this.hasSymbolBuckets=!0,!u)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var E in this.buckets){var P=this.buckets[E];if(P instanceof Kr&&P.hasRTLText){this.hasRTLText=!0,rr.isLoading()||rr.isLoaded()||hs()!=="deferred"||$p();break}}for(var B in this.queryPadding=0,this.buckets){var $=this.buckets[B];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(B).queryRadius($))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new f},No.prototype.unloadVectorData=function(){for(var r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(r){return this.buckets[r.id]},No.prototype.upload=function(r){for(var a in this.buckets){var u=this.buckets[a];u.uploadPending()&&u.upload(r)}var g=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Jf(r,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Jf(r,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(r,a,u,g,b,E,P,B,$,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:E,tileSize:this.tileSize,pixelPosMatrix:W,transform:B,params:P,queryPadding:this.queryPadding*$},r,a,u):{}},No.prototype.querySourceFeatures=function(r,a){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var g=u.loadVTLayers(),b=a?a.sourceLayer:"",E=g._geojsonTileLayer||g[b];if(E)for(var P=cs(a&&a.filter),B=this.tileID.canonical,$=B.z,W=B.x,Z=B.y,Y={z:$,x:W,y:Z},ue=0;ue<E.length;ue++){var Ae=E.feature(ue);if(P.needGeometry){var Ce=na(Ae,!0);if(!P.filter(new Wn(this.tileID.overscaledZ),Ce,this.tileID.canonical))continue}else if(!P.filter(new Wn(this.tileID.overscaledZ),Ae))continue;var ke=u.getId(Ae,b),He=new np(Ae,$,W,Z,ke);He.tile=Y,r.push(He)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(r){var a=this.expirationTime;if(r.cacheControl){var u=bn(r.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){var g=Date.now(),b=!1;if(this.expirationTime>g)b=!1;else if(a)if(this.expirationTime<a)b=!0;else{var E=this.expirationTime-a;E?this.expirationTime=g+Math.max(E,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(r,a){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(r).length!==0){var u=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(a.style.hasLayer(g)){var b=this.buckets[g],E=b.layers[0].sourceLayer||"_geojsonTileLayer",P=u[E],B=r[E];if(P&&B&&Object.keys(B).length!==0){b.update(B,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});var $=a&&a.style&&a.style.getLayer(g);$&&(this.queryPadding=Math.max(this.queryPadding,$.queryRadius(b)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<jn.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(r){this.symbolFadeHoldUntil=jn.now()+r},No.prototype.setDependencies=function(r,a){for(var u={},g=0,b=a;g<b.length;g+=1)u[b[g]]=!0;this.dependencies[r]=u},No.prototype.hasDependency=function(r,a){for(var u=0,g=r;u<g.length;u+=1){var b=this.dependencies[g[u]];if(b){for(var E=0,P=a;E<P.length;E+=1)if(b[P[E]])return!0}}return!1};var Af=z.performance,Ov=function(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},Af.mark(this._marks.start)};Ov.prototype.finish=function(){Af.mark(this._marks.end);var r=Af.getEntriesByName(this._marks.measure);return r.length===0&&(Af.measure(this._marks.measure,this._marks.start,this._marks.end),r=Af.getEntriesByName(this._marks.measure),Af.clearMarks(this._marks.start),Af.clearMarks(this._marks.end),Af.clearMeasures(this._marks.measure)),r},o.Actor=nh,o.AlphaImage=Gf,o.CanonicalTileID=tp,o.CollisionBoxArray=f,o.Color=wn,o.DEMData=Su,o.DataConstantProperty=Wt,o.DictionaryCoder=Td,o.EXTENT=8192,o.ErrorEvent=qe,o.EvaluationParameters=Wn,o.Event=je,o.Evented=Ue,o.FeatureIndex=mc,o.FillBucket=vl,o.FillExtrusionBucket=Os,o.ImageAtlas=Xp,o.ImagePosition=pf,o.LineBucket=Sa,o.LngLat=vi,o.LngLatBounds=yo,o.MercatorCoordinate=ep,o.ONE_EM=24,o.OverscaledTileID=vo,o.Point=M,o.Point$1=M,o.Properties=zo,o.Protobuf=Kf,o.RGBAImage=Ra,o.RequestManager=gi,o.RequestPerformance=Ov,o.ResourceType=dr,o.SegmentVector=me,o.SourceFeatureState=rh,o.StructArrayLayout1ui2=Kt,o.StructArrayLayout2f1f2i16=bt,o.StructArrayLayout2i4=_,o.StructArrayLayout3ui6=Nt,o.StructArrayLayout4i8=k,o.SymbolBucket=Kr,o.Texture=Jf,o.Tile=No,o.Transitionable=Bn,o.Uniform1f=Ft,o.Uniform1i=zt,o.Uniform2f=tn,o.Uniform3f=mn,o.Uniform4f=Pn,o.UniformColor=kn,o.UniformMatrix4f=pn,o.UnwrappedTileID=Tv,o.ValidationError=oe,o.WritingMode=Ms,o.ZoomHistory=Yo,o.add=function(r,a,u){return r[0]=a[0]+u[0],r[1]=a[1]+u[1],r[2]=a[2]+u[2],r},o.addDynamicAttributes=xm,o.asyncAll=function(r,a,u){if(!r.length)return u(null,[]);var g=r.length,b=new Array(r.length),E=null;r.forEach(function(P,B){a(P,function($,W){$&&(E=$),b[B]=W,--g==0&&u(E,b)})})},o.bezier=q,o.bindAll=be,o.browser=jn,o.cacheEntryPossiblyAdded=function(r){++$r>Gn&&(r.getActor().send("enforceCacheSizeLimit",ln),$r=0)},o.clamp=ee,o.clearTileCache=function(r){var a=z.caches.delete("mapbox-tiles");r&&a.catch(r).then(function(){return r()})},o.clipLine=hv,o.clone=function(r){var a=new qi(16);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a},o.clone$1=Xe,o.clone$2=function(r){var a=new qi(3);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a},o.collisionCircleLayout=dm,o.config=Fn,o.create=function(){var r=new qi(16);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},o.create$1=function(){var r=new qi(9);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r},o.create$2=function(){var r=new qi(4);return qi!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r},o.createCommonjsModule=x,o.createExpression=Xc,o.createLayout=m,o.createStyleLayer=function(r){return r.type==="custom"?new Lb(r):new Rb[r.type](r)},o.cross=function(r,a,u){var g=a[0],b=a[1],E=a[2],P=u[0],B=u[1],$=u[2];return r[0]=b*$-E*B,r[1]=E*P-g*$,r[2]=g*B-b*P,r},o.deepEqual=function r(a,u){if(Array.isArray(a)){if(!Array.isArray(u)||a.length!==u.length)return!1;for(var g=0;g<a.length;g++)if(!r(a[g],u[g]))return!1;return!0}if(typeof a=="object"&&a!==null&&u!==null){if(typeof u!="object"||Object.keys(a).length!==Object.keys(u).length)return!1;for(var b in a)if(!r(a[b],u[b]))return!1;return!0}return a===u},o.dot=function(r,a){return r[0]*a[0]+r[1]*a[1]+r[2]*a[2]},o.dot$1=function(r,a){return r[0]*a[0]+r[1]*a[1]+r[2]*a[2]+r[3]*a[3]},o.ease=K,o.emitValidationErrors=ac,o.endsWith=Se,o.enforceCacheSizeLimit=function(r){Ir(),bi&&bi.then(function(a){a.keys().then(function(u){for(var g=0;g<u.length-r;g++)a.delete(u[g])})})},o.evaluateSizeForFeature=hf,o.evaluateSizeForZoom=sv,o.evaluateVariableOffset=mv,o.evented=nf,o.extend=X,o.featureFilter=cs,o.filterObject=tt,o.fromRotation=function(r,a){var u=Math.sin(a),g=Math.cos(a);return r[0]=g,r[1]=u,r[2]=0,r[3]=-u,r[4]=g,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},o.getAnchorAlignment=bd,o.getAnchorJustification=_m,o.getArrayBuffer=zr,o.getImage=fe,o.getJSON=function(r,a){return Ci(X(r,{type:"json"}),a)},o.getRTLTextPluginStatus=hs,o.getReferrer=Jr,o.getVideo=function(r,a){var u,g,b=z.document.createElement("video");b.muted=!0,b.onloadstart=function(){a(null,b)};for(var E=0;E<r.length;E++){var P=z.document.createElement("source");u=r[E],g=void 0,(g=z.document.createElement("a")).href=u,(g.protocol!==z.document.location.protocol||g.host!==z.document.location.host)&&(b.crossOrigin="Anonymous"),P.src=r[E],b.appendChild(P)}return{cancel:function(){}}},o.identity=ha,o.invert=function(r,a){var u=a[0],g=a[1],b=a[2],E=a[3],P=a[4],B=a[5],$=a[6],W=a[7],Z=a[8],Y=a[9],ue=a[10],Ae=a[11],Ce=a[12],ke=a[13],He=a[14],Fe=a[15],nt=u*B-g*P,it=u*$-b*P,ft=u*W-E*P,pt=g*$-b*B,kt=g*W-E*B,Ut=b*W-E*$,Zt=Z*ke-Y*Ce,gn=Z*He-ue*Ce,nn=Z*Fe-Ae*Ce,Cn=Y*He-ue*ke,on=Y*Fe-Ae*ke,Zn=ue*Fe-Ae*He,On=nt*Zn-it*on+ft*Cn+pt*nn-kt*gn+Ut*Zt;return On?(r[0]=(B*Zn-$*on+W*Cn)*(On=1/On),r[1]=(b*on-g*Zn-E*Cn)*On,r[2]=(ke*Ut-He*kt+Fe*pt)*On,r[3]=(ue*kt-Y*Ut-Ae*pt)*On,r[4]=($*nn-P*Zn-W*gn)*On,r[5]=(u*Zn-b*nn+E*gn)*On,r[6]=(He*ft-Ce*Ut-Fe*it)*On,r[7]=(Z*Ut-ue*ft+Ae*it)*On,r[8]=(P*on-B*nn+W*Zt)*On,r[9]=(g*nn-u*on-E*Zt)*On,r[10]=(Ce*kt-ke*ft+Fe*nt)*On,r[11]=(Y*ft-Z*kt-Ae*nt)*On,r[12]=(B*gn-P*Cn-$*Zt)*On,r[13]=(u*Cn-g*gn+b*Zt)*On,r[14]=(ke*it-Ce*pt-He*nt)*On,r[15]=(Z*pt-Y*it+ue*nt)*On,r):null},o.isChar=un,o.isMapboxURL=Go,o.keysDifference=function(r,a){var u=[];for(var g in r)g in a||u.push(g);return u},o.makeRequest=Ci,o.mapObject=De,o.mercatorXfromLng=wm,o.mercatorYfromLat=Cv,o.mercatorZfromAltitude=kv,o.mul=Yh,o.multiply=uc,o.mvt=wu,o.nextPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},o.normalize=function(r,a){var u=a[0],g=a[1],b=a[2],E=u*u+g*g+b*b;return E>0&&(E=1/Math.sqrt(E)),r[0]=a[0]*E,r[1]=a[1]*E,r[2]=a[2]*E,r},o.number=kr,o.offscreenCanvasSupported=Yr,o.ortho=function(r,a,u,g,b,E,P){var B=1/(a-u),$=1/(g-b),W=1/(E-P);return r[0]=-2*B,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*$,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*W,r[11]=0,r[12]=(a+u)*B,r[13]=(b+g)*$,r[14]=(P+E)*W,r[15]=1,r},o.parseGlyphPBF=function(r){return new Kf(r).readFields(yb,[])},o.pbf=Kf,o.performSymbolLayout=function(r,a,u,g,b,E,P){r.createArrays(),r.tilePixelRatio=8192/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;var B=r.layers[0].layout,$=r.layers[0]._unevaluatedLayout._values,W={};if(r.textSizeData.kind==="composite"){var Z=r.textSizeData,Y=Z.maxZoom;W.compositeTextSizes=[$["text-size"].possiblyEvaluate(new Wn(Z.minZoom),P),$["text-size"].possiblyEvaluate(new Wn(Y),P)]}if(r.iconSizeData.kind==="composite"){var ue=r.iconSizeData,Ae=ue.maxZoom;W.compositeIconSizes=[$["icon-size"].possiblyEvaluate(new Wn(ue.minZoom),P),$["icon-size"].possiblyEvaluate(new Wn(Ae),P)]}W.layoutTextSize=$["text-size"].possiblyEvaluate(new Wn(r.zoom+1),P),W.layoutIconSize=$["icon-size"].possiblyEvaluate(new Wn(r.zoom+1),P),W.textMaxSize=$["text-size"].possiblyEvaluate(new Wn(18));for(var Ce=24*B.get("text-line-height"),ke=B.get("text-rotation-alignment")==="map"&&B.get("symbol-placement")!=="point",He=B.get("text-keep-upright"),Fe=B.get("text-size"),nt=function(){var pt=ft[it],kt=B.get("text-font").evaluate(pt,{},P).join(","),Ut=Fe.evaluate(pt,{},P),Zt=W.layoutTextSize.evaluate(pt,{},P),gn=W.layoutIconSize.evaluate(pt,{},P),nn={horizontal:{},vertical:void 0},Cn=pt.text,on=[0,0];if(Cn){var Zn=Cn.toString(),On=24*B.get("text-letter-spacing").evaluate(pt,{},P),yn=function(cr){for(var ri=0,qr=cr;ri<qr.length;ri+=1)if(Cr=qr[ri].charCodeAt(0),un.Arabic(Cr)||un["Arabic Supplement"](Cr)||un["Arabic Extended-A"](Cr)||un["Arabic Presentation Forms-A"](Cr)||un["Arabic Presentation Forms-B"](Cr))return!1;var Cr;return!0}(Zn)?On:0,ir=B.get("text-anchor").evaluate(pt,{},P),Hn=B.get("text-variable-anchor");if(!Hn){var _r=B.get("text-radial-offset").evaluate(pt,{},P);on=_r?mv(ir,[24*_r,vm]):B.get("text-offset").evaluate(pt,{},P).map(function(cr){return 24*cr})}var Tn=ke?"center":B.get("text-justify").evaluate(pt,{},P),Or=B.get("symbol-placement"),li=Or==="point"?24*B.get("text-max-width").evaluate(pt,{},P):0,_i=function(){r.allowVerticalPlacement&&sc(Zn)&&(nn.vertical=_d(Cn,a,u,b,kt,li,Ce,ir,"left",yn,on,Ms.vertical,!0,Or,Zt,Ut))};if(!ke&&Hn){for(var Oi=Tn==="auto"?Hn.map(function(cr){return _m(cr)}):[Tn],xi=!1,Ei=0;Ei<Oi.length;Ei++){var _o=Oi[Ei];if(!nn.horizontal[_o])if(xi)nn.horizontal[_o]=nn.horizontal[0];else{var Io=_d(Cn,a,u,b,kt,li,Ce,"center",_o,yn,on,Ms.horizontal,!1,Or,Zt,Ut);Io&&(nn.horizontal[_o]=Io,xi=Io.positionedLines.length===1)}}_i()}else{Tn==="auto"&&(Tn=_m(ir));var Ca=_d(Cn,a,u,b,kt,li,Ce,ir,Tn,yn,on,Ms.horizontal,!1,Or,Zt,Ut);Ca&&(nn.horizontal[Tn]=Ca),_i(),sc(Zn)&&ke&&He&&(nn.vertical=_d(Cn,a,u,b,kt,li,Ce,ir,Tn,yn,on,Ms.vertical,!1,Or,Zt,Ut))}}var Uo=void 0,ka=!1;if(pt.icon&&pt.icon.name){var Ji=g[pt.icon.name];Ji&&(Uo=function(cr,ri,qr){var Cr=bd(qr),Da=ri[0]-cr.displaySize[0]*Cr.horizontalAlign,Aa=ri[1]-cr.displaySize[1]*Cr.verticalAlign;return{image:cr,top:Aa,bottom:Aa+cr.displaySize[1],left:Da,right:Da+cr.displaySize[0]}}(b[pt.icon.name],B.get("icon-offset").evaluate(pt,{},P),B.get("icon-anchor").evaluate(pt,{},P)),ka=Ji.sdf,r.sdfIcons===void 0?r.sdfIcons=Ji.sdf:r.sdfIcons!==Ji.sdf&&yt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ji.pixelRatio!==r.pixelRatio||B.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}var jo=yv(nn.horizontal)||nn.vertical;r.iconsInText=!!jo&&jo.iconsInText,(jo||Uo)&&function(cr,ri,qr,Cr,Da,Aa,Tr,lo,da,fr,Xn){var Ls=Aa.textMaxSize.evaluate(ri,{});Ls===void 0&&(Ls=Tr);var xo,pr=cr.layers[0].layout,Eu=pr.get("icon-offset").evaluate(ri,{},Xn),ma=yv(qr.horizontal),ih=Tr/24,rp=cr.tilePixelRatio*ih,oh=cr.tilePixelRatio*Ls/24,gc=cr.tilePixelRatio*lo,ah=cr.tilePixelRatio*pr.get("symbol-spacing"),sh=pr.get("text-padding")*cr.tilePixelRatio,lh=pr.get("icon-padding")*cr.tilePixelRatio,Ys=pr.get("text-max-angle")/180*Math.PI,pA=pr.get("text-rotation-alignment")==="map"&&pr.get("symbol-placement")!=="point",ip=pr.get("icon-rotation-alignment")==="map"&&pr.get("symbol-placement")!=="point",pi=pr.get("symbol-placement"),Qi=ah/2,op=pr.get("icon-text-fit");Cr&&op!=="none"&&(cr.allowVerticalPlacement&&qr.vertical&&(xo=aA(Cr,qr.vertical,op,pr.get("icon-text-fit-padding"),Eu,ih)),ma&&(Cr=aA(Cr,ma,op,pr.get("icon-text-fit-padding"),Eu,ih)));var df=function(wl,fh){fh.x<0||fh.x>=8192||fh.y<0||fh.y>=8192||function(eo,Pr,Fb,_c,ph,Mv,Md,Cu,Ld,_A,Rd,Dd,Tm,Lv,xA,Rv,Dv,Fv,Fd,Bv,Xa,Bd,zv,ku,Ta){var ms,lp,hh,Ah,up,dh=eo.addToLineVertexArray(Pr,Fb),Nv=0,Uv=0,Pm=0,jv=0,Im=-1,Om=-1,Tu={},Mm=ze(""),Lm=0,Rm=0;if(Cu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Lm=(ms=Cu.layout.get("text-offset").evaluate(Xa,{},ku).map(function(SA){return 24*SA}))[0],Rm=ms[1]):(Lm=24*Cu.layout.get("text-radial-offset").evaluate(Xa,{},ku),Rm=vm),eo.allowVerticalPlacement&&_c.vertical){var $v=Cu.layout.get("text-rotate").evaluate(Xa,{},ku)+90;Ah=new lA(Ld,Pr,_A,Rd,Dd,_c.vertical,Tm,Lv,xA,$v),Md&&(up=new lA(Ld,Pr,_A,Rd,Dd,Md,Dv,Fv,xA,$v))}if(ph){var Dm=Cu.layout.get("icon-rotate").evaluate(Xa,{}),cp=Cu.layout.get("icon-text-fit")!=="none",Vv=Av(ph,Dm,zv,cp),Fm=Md?Av(Md,Dm,zv,cp):void 0;hh=new lA(Ld,Pr,_A,Rd,Dd,ph,Dv,Fv,!1,Dm),Nv=4*Vv.length;var Hv=eo.iconSizeData,bA=null;Hv.kind==="source"?(bA=[128*Cu.layout.get("icon-size").evaluate(Xa,{})])[0]>32640&&yt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Hv.kind==="composite"&&((bA=[128*Bd.compositeIconSizes[0].evaluate(Xa,{},ku),128*Bd.compositeIconSizes[1].evaluate(Xa,{},ku)])[0]>32640||bA[1]>32640)&&yt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),eo.addSymbols(eo.icon,Vv,bA,Bv,Fd,Xa,!1,Pr,dh.lineStartIndex,dh.lineLength,-1,ku),Im=eo.icon.placedSymbolArray.length-1,Fm&&(Uv=4*Fm.length,eo.addSymbols(eo.icon,Fm,bA,Bv,Fd,Xa,Ms.vertical,Pr,dh.lineStartIndex,dh.lineLength,-1,ku),Om=eo.icon.placedSymbolArray.length-1)}for(var qv in _c.horizontal){var wA=_c.horizontal[qv];if(!lp){Mm=ze(wA.text);var Gv=Cu.layout.get("text-rotate").evaluate(Xa,{},ku);lp=new lA(Ld,Pr,_A,Rd,Dd,wA,Tm,Lv,xA,Gv)}var Qv=wA.positionedLines.length===1;if(Pm+=gv(eo,Pr,wA,Mv,Cu,xA,Xa,Rv,dh,_c.vertical?Ms.horizontal:Ms.horizontalOnly,Qv?Object.keys(_c.horizontal):[qv],Tu,Im,Bd,ku),Qv)break}_c.vertical&&(jv+=gv(eo,Pr,_c.vertical,Mv,Cu,xA,Xa,Rv,dh,Ms.vertical,["vertical"],Tu,Om,Bd,ku));var Bb=lp?lp.boxStartIndex:eo.collisionBoxArray.length,zb=lp?lp.boxEndIndex:eo.collisionBoxArray.length,Nb=Ah?Ah.boxStartIndex:eo.collisionBoxArray.length,Ub=Ah?Ah.boxEndIndex:eo.collisionBoxArray.length,jb=hh?hh.boxStartIndex:eo.collisionBoxArray.length,$b=hh?hh.boxEndIndex:eo.collisionBoxArray.length,Vb=up?up.boxStartIndex:eo.collisionBoxArray.length,Hb=up?up.boxEndIndex:eo.collisionBoxArray.length,Pu=-1,zd=function(SA,Kv){return SA&&SA.circleDiameter?Math.max(SA.circleDiameter,Kv):Kv};Pu=zd(lp,Pu),Pu=zd(Ah,Pu),Pu=zd(hh,Pu);var Wv=(Pu=zd(up,Pu))>-1?1:0;Wv&&(Pu*=Ta/24),eo.glyphOffsetArray.length>=Kr.MAX_GLYPHS&&yt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&eo.addToSortKeyRanges(eo.symbolInstances.length,Xa.sortKey),eo.symbolInstances.emplaceBack(Pr.x,Pr.y,Tu.right>=0?Tu.right:-1,Tu.center>=0?Tu.center:-1,Tu.left>=0?Tu.left:-1,Tu.vertical||-1,Im,Om,Mm,Bb,zb,Nb,Ub,jb,$b,Vb,Hb,_A,Pm,jv,Nv,Uv,Wv,0,Tm,Lm,Rm,Pu)}(cr,fh,wl,qr,Cr,Da,xo,cr.layers[0],cr.collisionBoxArray,ri.index,ri.sourceLayerIndex,cr.index,rp,sh,pA,da,gc,lh,ip,Eu,ri,Aa,fr,Xn,Tr)};if(pi==="line")for(var uh=0,Pd=hv(ri.geometry,0,0,8192,8192);uh<Pd.length;uh+=1)for(var Id=Pd[uh],hA=0,AA=xb(Id,ah,Ys,qr.vertical||ma,Cr,24,oh,cr.overscaling,8192);hA<AA.length;hA+=1){var dA=AA[hA];ma&&Eb(cr,ma.text,Qi,dA)||df(Id,dA)}else if(pi==="line-center")for(var yc=0,ap=ri.geometry;yc<ap.length;yc+=1){var mA=ap[yc];if(mA.length>1){var gA=_b(mA,Ys,qr.vertical||ma,Cr,24,oh);gA&&df(mA,gA)}}else if(ri.type==="Polygon")for(var vc=0,Za=sm(ri.geometry,0);vc<Za.length;vc+=1){var $l=Za[vc],yA=wb($l,16);df($l[0],new Zf(yA.x,yA.y,0))}else if(ri.type==="LineString")for(var sp=0,vA=ri.geometry;sp<vA.length;sp+=1){var ch=vA[sp];df(ch,new Zf(ch[0].x,ch[0].y,0))}else if(ri.type==="Point")for(var Cm=0,km=ri.geometry;Cm<km.length;Cm+=1)for(var Vl=0,xr=km[Cm];Vl<xr.length;Vl+=1){var Od=xr[Vl];df([Od],new Zf(Od.x,Od.y,0))}}(r,pt,nn,Uo,g,W,Zt,gn,on,ka,P)},it=0,ft=r.features;it<ft.length;it+=1)nt();E&&r.generateCollisionDebugBuffers()},o.perspective=function(r,a,u,g,b){var E,P=1/Math.tan(a/2);return r[0]=P/u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=P,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,b!=null&&b!==1/0?(r[10]=(b+g)*(E=1/(g-b)),r[14]=2*b*g*E):(r[10]=-1,r[14]=-2*g),r},o.pick=function(r,a){for(var u={},g=0;g<a.length;g++){var b=a[g];b in r&&(u[b]=r[b])}return u},o.plugin=rr,o.polygonIntersectsPolygon=wa,o.postMapLoadEvent=Et,o.postTurnstileEvent=we,o.potpack=rv,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=an,o.registerForPluginStateChange=function(r){return r({pluginStatus:mo,pluginURL:Va}),nf.on("pluginStateChange",r),r},o.renderColorRamp=ld,o.rotate=function(r,a,u){var g=a[0],b=a[1],E=a[2],P=a[3],B=Math.sin(u),$=Math.cos(u);return r[0]=g*$+E*B,r[1]=b*$+P*B,r[2]=g*-B+E*$,r[3]=b*-B+P*$,r},o.rotateX=function(r,a,u){var g=Math.sin(u),b=Math.cos(u),E=a[4],P=a[5],B=a[6],$=a[7],W=a[8],Z=a[9],Y=a[10],ue=a[11];return a!==r&&(r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15]),r[4]=E*b+W*g,r[5]=P*b+Z*g,r[6]=B*b+Y*g,r[7]=$*b+ue*g,r[8]=W*b-E*g,r[9]=Z*b-P*g,r[10]=Y*b-B*g,r[11]=ue*b-$*g,r},o.rotateZ=function(r,a,u){var g=Math.sin(u),b=Math.cos(u),E=a[0],P=a[1],B=a[2],$=a[3],W=a[4],Z=a[5],Y=a[6],ue=a[7];return a!==r&&(r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15]),r[0]=E*b+W*g,r[1]=P*b+Z*g,r[2]=B*b+Y*g,r[3]=$*b+ue*g,r[4]=W*b-E*g,r[5]=Z*b-P*g,r[6]=Y*b-B*g,r[7]=ue*b-$*g,r},o.scale=function(r,a,u){var g=u[0],b=u[1],E=u[2];return r[0]=a[0]*g,r[1]=a[1]*g,r[2]=a[2]*g,r[3]=a[3]*g,r[4]=a[4]*b,r[5]=a[5]*b,r[6]=a[6]*b,r[7]=a[7]*b,r[8]=a[8]*E,r[9]=a[9]*E,r[10]=a[10]*E,r[11]=a[11]*E,r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r},o.scale$1=function(r,a,u){return r[0]=a[0]*u,r[1]=a[1]*u,r[2]=a[2]*u,r[3]=a[3]*u,r},o.scale$2=function(r,a,u){return r[0]=a[0]*u,r[1]=a[1]*u,r[2]=a[2]*u,r},o.setCacheLimits=function(r,a){ln=r,Gn=a},o.setRTLTextPlugin=function(r,a,u){if(u===void 0&&(u=!1),mo==="deferred"||mo==="loading"||mo==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Va=jn.resolveURL(r),mo="deferred",Uf=a,tf(),u||$p()},o.sphericalToCartesian=function(r){var a=r[0],u=r[1],g=r[2];return u+=90,u*=Math.PI/180,g*=Math.PI/180,{x:a*Math.cos(u)*Math.sin(g),y:a*Math.sin(u)*Math.sin(g),z:a*Math.cos(g)}},o.sqrLen=function(r){var a=r[0],u=r[1];return a*a+u*u},o.styleSpec=xe,o.sub=function(r,a,u){return r[0]=a[0]-u[0],r[1]=a[1]-u[1],r[2]=a[2]-u[2],r},o.symbolSize=lv,o.transformMat3=function(r,a,u){var g=a[0],b=a[1],E=a[2];return r[0]=g*u[0]+b*u[3]+E*u[6],r[1]=g*u[1]+b*u[4]+E*u[7],r[2]=g*u[2]+b*u[5]+E*u[8],r},o.transformMat4=Vf,o.translate=function(r,a,u){var g,b,E,P,B,$,W,Z,Y,ue,Ae,Ce,ke=u[0],He=u[1],Fe=u[2];return a===r?(r[12]=a[0]*ke+a[4]*He+a[8]*Fe+a[12],r[13]=a[1]*ke+a[5]*He+a[9]*Fe+a[13],r[14]=a[2]*ke+a[6]*He+a[10]*Fe+a[14],r[15]=a[3]*ke+a[7]*He+a[11]*Fe+a[15]):(b=a[1],E=a[2],P=a[3],B=a[4],$=a[5],W=a[6],Z=a[7],Y=a[8],ue=a[9],Ae=a[10],Ce=a[11],r[0]=g=a[0],r[1]=b,r[2]=E,r[3]=P,r[4]=B,r[5]=$,r[6]=W,r[7]=Z,r[8]=Y,r[9]=ue,r[10]=Ae,r[11]=Ce,r[12]=g*ke+B*He+Y*Fe+a[12],r[13]=b*ke+$*He+ue*Fe+a[13],r[14]=E*ke+W*He+Ae*Fe+a[14],r[15]=P*ke+Z*He+Ce*Fe+a[15]),r},o.triggerPluginCompletionEvent=jl,o.uniqueId=he,o.validateCustomStyleLayer=function(r){var a=[],u=r.id;return u===void 0&&a.push({message:"layers."+u+': missing required property "id"'}),r.render===void 0&&a.push({message:"layers."+u+': missing required method "render"'}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&a.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),a},o.validateLight=Jc,o.validateStyle=ps,o.values=function(r){var a=[];for(var u in r)a.push(r[u]);return a},o.vectorTile=wu,o.version="1.15.3",o.warnOnce=yt,o.webpSupported=Xr,o.window=z,o.wrap=V}),l(["./shared"],function(o){function x(J){var ae=typeof J;if(ae==="number"||ae==="boolean"||ae==="string"||J==null)return JSON.stringify(J);if(Array.isArray(J)){for(var fe="[",ve=0,Ie=J;ve<Ie.length;ve+=1)fe+=x(Ie[ve])+",";return fe+"]"}for(var je=Object.keys(J).sort(),qe="{",Ue=0;Ue<je.length;Ue++)qe+=JSON.stringify(je[Ue])+":"+x(J[je[Ue]])+",";return qe+"}"}function S(J){for(var ae="",fe=0,ve=o.refProperties;fe<ve.length;fe+=1)ae+="/"+x(J[ve[fe]]);return ae}var T=function(J){this.keyCache={},J&&this.replace(J)};T.prototype.replace=function(J){this._layerConfigs={},this._layers={},this.update(J,[])},T.prototype.update=function(J,ae){for(var fe=this,ve=0,Ie=J;ve<Ie.length;ve+=1){var je=Ie[ve];this._layerConfigs[je.id]=je;var qe=this._layers[je.id]=o.createStyleLayer(je);qe._featureFilter=o.featureFilter(qe.filter),this.keyCache[je.id]&&delete this.keyCache[je.id]}for(var Ue=0,xe=ae;Ue<xe.length;Ue+=1){var oe=xe[Ue];delete this.keyCache[oe],delete this._layerConfigs[oe],delete this._layers[oe]}this.familiesBySource={};for(var Ve=0,lt=function(It,xt){for(var hn={},fn=0;fn<It.length;fn++){var Qt=xt&&xt[It[fn].id]||S(It[fn]);xt&&(xt[It[fn].id]=Qt);var Ar=hn[Qt];Ar||(Ar=hn[Qt]=[]),Ar.push(It[fn])}var Jn=[];for(var Rr in hn)Jn.push(hn[Rr]);return Jn}(o.values(this._layerConfigs),this.keyCache);Ve<lt.length;Ve+=1){var Qe=lt[Ve].map(function(It){return fe._layers[It.id]}),A=Qe[0];if(A.visibility!=="none"){var ye=A.source||"",Lt=this.familiesBySource[ye];Lt||(Lt=this.familiesBySource[ye]={});var jt=A.sourceLayer||"_geojsonTileLayer",ct=Lt[jt];ct||(ct=Lt[jt]=[]),ct.push(Qe)}}};var M=function(J){var ae={},fe=[];for(var ve in J){var Ie=J[ve],je=ae[ve]={};for(var qe in Ie){var Ue=Ie[+qe];if(Ue&&Ue.bitmap.width!==0&&Ue.bitmap.height!==0){var xe={x:0,y:0,w:Ue.bitmap.width+2,h:Ue.bitmap.height+2};fe.push(xe),je[qe]={rect:xe,metrics:Ue.metrics}}}}var oe=o.potpack(fe),Ve=new o.AlphaImage({width:oe.w||1,height:oe.h||1});for(var lt in J){var Qe=J[lt];for(var A in Qe){var ye=Qe[+A];if(ye&&ye.bitmap.width!==0&&ye.bitmap.height!==0){var Lt=ae[lt][A].rect;o.AlphaImage.copy(ye.bitmap,Ve,{x:0,y:0},{x:Lt.x+1,y:Lt.y+1},ye.bitmap)}}}this.image=Ve,this.positions=ae};o.register("GlyphAtlas",M);var F=function(J){this.tileID=new o.OverscaledTileID(J.tileID.overscaledZ,J.tileID.wrap,J.tileID.canonical.z,J.tileID.canonical.x,J.tileID.canonical.y),this.uid=J.uid,this.zoom=J.zoom,this.pixelRatio=J.pixelRatio,this.tileSize=J.tileSize,this.source=J.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=J.showCollisionBoxes,this.collectResourceTiming=!!J.collectResourceTiming,this.returnDependencies=!!J.returnDependencies,this.promoteId=J.promoteId};function z(J,ae,fe){for(var ve=new o.EvaluationParameters(ae),Ie=0,je=J;Ie<je.length;Ie+=1)je[Ie].recalculate(ve,fe)}function U(J,ae){var fe=o.getArrayBuffer(J.request,function(ve,Ie,je,qe){ve?ae(ve):Ie&&ae(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(Ie)),rawData:Ie,cacheControl:je,expires:qe})});return function(){fe.cancel(),ae()}}F.prototype.parse=function(J,ae,fe,ve,Ie){var je=this;this.status="parsing",this.data=J,this.collisionBoxArray=new o.CollisionBoxArray;var qe=new o.DictionaryCoder(Object.keys(J.layers).sort()),Ue=new o.FeatureIndex(this.tileID,this.promoteId);Ue.bucketLayerIDs=[];var xe,oe,Ve,lt,Qe={},A={featureIndex:Ue,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:fe},ye=ae.familiesBySource[this.source];for(var Lt in ye){var jt=J.layers[Lt];if(jt){jt.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+Lt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var ct=qe.encode(Lt),It=[],xt=0;xt<jt.length;xt++){var hn=jt.feature(xt),fn=Ue.getId(hn,Lt);It.push({feature:hn,id:fn,index:xt,sourceLayerIndex:ct})}for(var Qt=0,Ar=ye[Lt];Qt<Ar.length;Qt+=1){var Jn=Ar[Qt],Rr=Jn[0];Rr.minzoom&&this.zoom<Math.floor(Rr.minzoom)||Rr.maxzoom&&this.zoom>=Rr.maxzoom||Rr.visibility!=="none"&&(z(Jn,this.zoom,fe),(Qe[Rr.id]=Rr.createBucket({index:Ue.bucketLayerIDs.length,layers:Jn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ct,sourceID:this.source})).populate(It,A,this.tileID.canonical),Ue.bucketLayerIDs.push(Jn.map(function(br){return br.id})))}}}var mr=o.mapObject(A.glyphDependencies,function(br){return Object.keys(br).map(Number)});Object.keys(mr).length?ve.send("getGlyphs",{uid:this.uid,stacks:mr},function(br,Xt){xe||(xe=br,oe=Xt,Ai.call(je))}):oe={};var sr=Object.keys(A.iconDependencies);sr.length?ve.send("getImages",{icons:sr,source:this.source,tileID:this.tileID,type:"icons"},function(br,Xt){xe||(xe=br,Ve=Xt,Ai.call(je))}):Ve={};var yr=Object.keys(A.patternDependencies);function Ai(){if(xe)return Ie(xe);if(oe&&Ve&&lt){var br=new M(oe),Xt=new o.ImageAtlas(Ve,lt);for(var Ge in Qe){var wn=Qe[Ge];wn instanceof o.SymbolBucket?(z(wn.layers,this.zoom,fe),o.performSymbolLayout(wn,oe,br.positions,Ve,Xt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):wn.hasPattern&&(wn instanceof o.LineBucket||wn instanceof o.FillBucket||wn instanceof o.FillExtrusionBucket)&&(z(wn.layers,this.zoom,fe),wn.addFeatures(A,this.tileID.canonical,Xt.patternPositions))}this.status="done",Ie(null,{buckets:o.values(Qe).filter(function(al){return!al.isEmpty()}),featureIndex:Ue,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:Xt,glyphMap:this.returnDependencies?oe:null,iconMap:this.returnDependencies?Ve:null,glyphPositions:this.returnDependencies?br.positions:null})}}yr.length?ve.send("getImages",{icons:yr,source:this.source,tileID:this.tileID,type:"patterns"},function(br,Xt){xe||(xe=br,lt=Xt,Ai.call(je))}):lt={},Ai.call(this)};var q=function(J,ae,fe,ve){this.actor=J,this.layerIndex=ae,this.availableImages=fe,this.loadVectorData=ve||U,this.loading={},this.loaded={}};q.prototype.loadTile=function(J,ae){var fe=this,ve=J.uid;this.loading||(this.loading={});var Ie=!!(J&&J.request&&J.request.collectResourceTiming)&&new o.RequestPerformance(J.request),je=this.loading[ve]=new F(J);je.abort=this.loadVectorData(J,function(qe,Ue){if(delete fe.loading[ve],qe||!Ue)return je.status="done",fe.loaded[ve]=je,ae(qe);var xe=Ue.rawData,oe={};Ue.expires&&(oe.expires=Ue.expires),Ue.cacheControl&&(oe.cacheControl=Ue.cacheControl);var Ve={};if(Ie){var lt=Ie.finish();lt&&(Ve.resourceTiming=JSON.parse(JSON.stringify(lt)))}je.vectorTile=Ue.vectorTile,je.parse(Ue.vectorTile,fe.layerIndex,fe.availableImages,fe.actor,function(Qe,A){if(Qe||!A)return ae(Qe);ae(null,o.extend({rawTileData:xe.slice(0)},A,oe,Ve))}),fe.loaded=fe.loaded||{},fe.loaded[ve]=je})},q.prototype.reloadTile=function(J,ae){var fe=this,ve=this.loaded,Ie=J.uid,je=this;if(ve&&ve[Ie]){var qe=ve[Ie];qe.showCollisionBoxes=J.showCollisionBoxes;var Ue=function(xe,oe){var Ve=qe.reloadCallback;Ve&&(delete qe.reloadCallback,qe.parse(qe.vectorTile,je.layerIndex,fe.availableImages,je.actor,Ve)),ae(xe,oe)};qe.status==="parsing"?qe.reloadCallback=Ue:qe.status==="done"&&(qe.vectorTile?qe.parse(qe.vectorTile,this.layerIndex,this.availableImages,this.actor,Ue):Ue())}},q.prototype.abortTile=function(J,ae){var fe=this.loading,ve=J.uid;fe&&fe[ve]&&fe[ve].abort&&(fe[ve].abort(),delete fe[ve]),ae()},q.prototype.removeTile=function(J,ae){var fe=this.loaded,ve=J.uid;fe&&fe[ve]&&delete fe[ve],ae()};var K=o.window.ImageBitmap,ee=function(){this.loaded={}};function V(J,ae){if(J.length!==0){X(J[0],ae);for(var fe=1;fe<J.length;fe++)X(J[fe],!ae)}}function X(J,ae){for(var fe=0,ve=0,Ie=J.length,je=Ie-1;ve<Ie;je=ve++)fe+=(J[ve][0]-J[je][0])*(J[je][1]+J[ve][1]);fe>=0!=!!ae&&J.reverse()}ee.prototype.loadTile=function(J,ae){var fe=J.uid,ve=J.encoding,Ie=J.rawImageData,je=K&&Ie instanceof K?this.getImageData(Ie):Ie,qe=new o.DEMData(fe,je,ve);this.loaded=this.loaded||{},this.loaded[fe]=qe,ae(null,qe)},ee.prototype.getImageData=function(J){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(J.width,J.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=J.width,this.offscreenCanvas.height=J.height,this.offscreenCanvasContext.drawImage(J,0,0,J.width,J.height);var ae=this.offscreenCanvasContext.getImageData(-1,-1,J.width+2,J.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:ae.width,height:ae.height},ae.data)},ee.prototype.removeTile=function(J){var ae=this.loaded,fe=J.uid;ae&&ae[fe]&&delete ae[fe]};var ne=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,he=function(J){this._feature=J,this.extent=o.EXTENT,this.type=J.type,this.properties=J.tags,"id"in J&&!isNaN(J.id)&&(this.id=parseInt(J.id,10))};he.prototype.loadGeometry=function(){if(this._feature.type===1){for(var J=[],ae=0,fe=this._feature.geometry;ae<fe.length;ae+=1){var ve=fe[ae];J.push([new o.Point$1(ve[0],ve[1])])}return J}for(var Ie=[],je=0,qe=this._feature.geometry;je<qe.length;je+=1){for(var Ue=[],xe=0,oe=qe[je];xe<oe.length;xe+=1){var Ve=oe[xe];Ue.push(new o.Point$1(Ve[0],Ve[1]))}Ie.push(Ue)}return Ie},he.prototype.toGeoJSON=function(J,ae,fe){return ne.call(this,J,ae,fe)};var pe=function(J){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=J.length,this._features=J};pe.prototype.feature=function(J){return new he(this._features[J])};var le=o.vectorTile.VectorTileFeature,be=Se;function Se(J,ae){this.options=ae||{},this.features=J,this.length=J.length}function De(J,ae){this.id=typeof J.id=="number"?J.id:void 0,this.type=J.type,this.rawGeometry=J.type===1?[J.geometry]:J.geometry,this.properties=J.tags,this.extent=ae||4096}Se.prototype.feature=function(J){return new De(this.features[J],this.options.extent)},De.prototype.loadGeometry=function(){var J=this.rawGeometry;this.geometry=[];for(var ae=0;ae<J.length;ae++){for(var fe=J[ae],ve=[],Ie=0;Ie<fe.length;Ie++)ve.push(new o.Point$1(fe[Ie][0],fe[Ie][1]));this.geometry.push(ve)}return this.geometry},De.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var J=this.geometry,ae=1/0,fe=-1/0,ve=1/0,Ie=-1/0,je=0;je<J.length;je++)for(var qe=J[je],Ue=0;Ue<qe.length;Ue++){var xe=qe[Ue];ae=Math.min(ae,xe.x),fe=Math.max(fe,xe.x),ve=Math.min(ve,xe.y),Ie=Math.max(Ie,xe.y)}return[ae,ve,fe,Ie]},De.prototype.toGeoJSON=le.prototype.toGeoJSON;var tt=at,Xe=be;function at(J){var ae=new o.pbf;return function(fe,ve){for(var Ie in fe.layers)ve.writeMessage(3,yt,fe.layers[Ie])}(J,ae),ae.finish()}function yt(J,ae){var fe;ae.writeVarintField(15,J.version||1),ae.writeStringField(1,J.name||""),ae.writeVarintField(5,J.extent||4096);var ve={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<J.length;fe++)ve.feature=J.feature(fe),ae.writeMessage(2,Ot,ve);var Ie=ve.keys;for(fe=0;fe<Ie.length;fe++)ae.writeStringField(3,Ie[fe]);var je=ve.values;for(fe=0;fe<je.length;fe++)ae.writeMessage(4,Me,je[fe])}function Ot(J,ae){var fe=J.feature;fe.id!==void 0&&ae.writeVarintField(1,fe.id),ae.writeMessage(2,Vt,J),ae.writeVarintField(3,fe.type),ae.writeMessage(4,st,fe)}function Vt(J,ae){var fe=J.feature,ve=J.keys,Ie=J.values,je=J.keycache,qe=J.valuecache;for(var Ue in fe.properties){var xe=je[Ue];xe===void 0&&(ve.push(Ue),je[Ue]=xe=ve.length-1),ae.writeVarint(xe);var oe=fe.properties[Ue],Ve=typeof oe;Ve!=="string"&&Ve!=="boolean"&&Ve!=="number"&&(oe=JSON.stringify(oe));var lt=Ve+":"+oe,Qe=qe[lt];Qe===void 0&&(Ie.push(oe),qe[lt]=Qe=Ie.length-1),ae.writeVarint(Qe)}}function Jt(J,ae){return(ae<<3)+(7&J)}function bn(J){return J<<1^J>>31}function st(J,ae){for(var fe=J.loadGeometry(),ve=J.type,Ie=0,je=0,qe=fe.length,Ue=0;Ue<qe;Ue++){var xe=fe[Ue],oe=1;ve===1&&(oe=xe.length),ae.writeVarint(Jt(1,oe));for(var Ve=ve===3?xe.length-1:xe.length,lt=0;lt<Ve;lt++){lt===1&&ve!==1&&ae.writeVarint(Jt(2,Ve-1));var Qe=xe[lt].x-Ie,A=xe[lt].y-je;ae.writeVarint(bn(Qe)),ae.writeVarint(bn(A)),Ie+=Qe,je+=A}ve===3&&ae.writeVarint(Jt(7,1))}}function Me(J,ae){var fe=typeof J;fe==="string"?ae.writeStringField(1,J):fe==="boolean"?ae.writeBooleanField(7,J):fe==="number"&&(J%1!=0?ae.writeDoubleField(3,J):J<0?ae.writeSVarintField(6,J):ae.writeVarintField(5,J))}function Le(J,ae,fe,ve){re(J,fe,ve),re(ae,2*fe,2*ve),re(ae,2*fe+1,2*ve+1)}function re(J,ae,fe){var ve=J[ae];J[ae]=J[fe],J[fe]=ve}function ge(J,ae,fe,ve){var Ie=J-fe,je=ae-ve;return Ie*Ie+je*je}tt.fromVectorTileJs=at,tt.fromGeojsonVt=function(J,ae){ae=ae||{};var fe={};for(var ve in J)fe[ve]=new be(J[ve].features,ae),fe[ve].name=ve,fe[ve].version=ae.version,fe[ve].extent=ae.extent;return at({layers:fe})},tt.GeoJSONWrapper=Xe;var Mt=function(J){return J[0]},en=function(J){return J[1]},vn=function(J,ae,fe,ve,Ie){ae===void 0&&(ae=Mt),fe===void 0&&(fe=en),ve===void 0&&(ve=64),Ie===void 0&&(Ie=Float64Array),this.nodeSize=ve,this.points=J;for(var je=J.length<65536?Uint16Array:Uint32Array,qe=this.ids=new je(J.length),Ue=this.coords=new Ie(2*J.length),xe=0;xe<J.length;xe++)qe[xe]=xe,Ue[2*xe]=ae(J[xe]),Ue[2*xe+1]=fe(J[xe]);(function oe(Ve,lt,Qe,A,ye,Lt){if(!(ye-A<=Qe)){var jt=A+ye>>1;(function ct(It,xt,hn,fn,Qt,Ar){for(;Qt>fn;){if(Qt-fn>600){var Jn=Qt-fn+1,Rr=hn-fn+1,mr=Math.log(Jn),sr=.5*Math.exp(2*mr/3),yr=.5*Math.sqrt(mr*sr*(Jn-sr)/Jn)*(Rr-Jn/2<0?-1:1);ct(It,xt,hn,Math.max(fn,Math.floor(hn-Rr*sr/Jn+yr)),Math.min(Qt,Math.floor(hn+(Jn-Rr)*sr/Jn+yr)),Ar)}var Ai=xt[2*hn+Ar],br=fn,Xt=Qt;for(Le(It,xt,fn,hn),xt[2*Qt+Ar]>Ai&&Le(It,xt,fn,Qt);br<Xt;){for(Le(It,xt,br,Xt),br++,Xt--;xt[2*br+Ar]<Ai;)br++;for(;xt[2*Xt+Ar]>Ai;)Xt--}xt[2*fn+Ar]===Ai?Le(It,xt,fn,Xt):Le(It,xt,++Xt,Qt),Xt<=hn&&(fn=Xt+1),hn<=Xt&&(Qt=Xt-1)}})(Ve,lt,jt,A,ye,Lt%2),oe(Ve,lt,Qe,A,jt-1,Lt+1),oe(Ve,lt,Qe,jt+1,ye,Lt+1)}})(qe,Ue,ve,0,qe.length-1,0)};vn.prototype.range=function(J,ae,fe,ve){return function(Ie,je,qe,Ue,xe,oe,Ve){for(var lt,Qe,A=[0,Ie.length-1,0],ye=[];A.length;){var Lt=A.pop(),jt=A.pop(),ct=A.pop();if(jt-ct<=Ve)for(var It=ct;It<=jt;It++)Qe=je[2*It+1],(lt=je[2*It])>=qe&&lt<=xe&&Qe>=Ue&&Qe<=oe&&ye.push(Ie[It]);else{var xt=Math.floor((ct+jt)/2);Qe=je[2*xt+1],(lt=je[2*xt])>=qe&&lt<=xe&&Qe>=Ue&&Qe<=oe&&ye.push(Ie[xt]);var hn=(Lt+1)%2;(Lt===0?qe<=lt:Ue<=Qe)&&(A.push(ct),A.push(xt-1),A.push(hn)),(Lt===0?xe>=lt:oe>=Qe)&&(A.push(xt+1),A.push(jt),A.push(hn))}}return ye}(this.ids,this.coords,J,ae,fe,ve,this.nodeSize)},vn.prototype.within=function(J,ae,fe){return function(ve,Ie,je,qe,Ue,xe){for(var oe=[0,ve.length-1,0],Ve=[],lt=Ue*Ue;oe.length;){var Qe=oe.pop(),A=oe.pop(),ye=oe.pop();if(A-ye<=xe)for(var Lt=ye;Lt<=A;Lt++)ge(Ie[2*Lt],Ie[2*Lt+1],je,qe)<=lt&&Ve.push(ve[Lt]);else{var jt=Math.floor((ye+A)/2),ct=Ie[2*jt],It=Ie[2*jt+1];ge(ct,It,je,qe)<=lt&&Ve.push(ve[jt]);var xt=(Qe+1)%2;(Qe===0?je-Ue<=ct:qe-Ue<=It)&&(oe.push(ye),oe.push(jt-1),oe.push(xt)),(Qe===0?je+Ue>=ct:qe+Ue>=It)&&(oe.push(jt+1),oe.push(A),oe.push(xt))}}return Ve}(this.ids,this.coords,J,ae,fe,this.nodeSize)};var dn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(J){return J}},En=function(J){this.options=mi(Object.create(dn),J),this.trees=new Array(this.options.maxZoom+1)};function jn(J,ae,fe,ve,Ie){return{x:J,y:ae,zoom:1/0,id:fe,parentId:-1,numPoints:ve,properties:Ie}}function Fn(J,ae){var fe=J.geometry.coordinates,ve=fe[1];return{x:Fi(fe[0]),y:$n(ve),zoom:1/0,index:ae,parentId:-1}}function Xr(J){return{type:"Feature",id:J.id,properties:jr(J),geometry:{type:"Point",coordinates:[(ve=J.x,360*(ve-.5)),(ae=J.y,fe=(180-360*ae)*Math.PI/180,360*Math.atan(Math.exp(fe))/Math.PI-90)]}};var ae,fe,ve}function jr(J){var ae=J.numPoints,fe=ae>=1e4?Math.round(ae/1e3)+"k":ae>=1e3?Math.round(ae/100)/10+"k":ae;return mi(mi({},J.properties),{cluster:!0,cluster_id:J.id,point_count:ae,point_count_abbreviated:fe})}function Fi(J){return J/360+.5}function $n(J){var ae=Math.sin(J*Math.PI/180),fe=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return fe<0?0:fe>1?1:fe}function mi(J,ae){for(var fe in ae)J[fe]=ae[fe];return J}function gi(J){return J.x}function Go(J){return J.y}function Bi(J,ae,fe,ve,Ie,je){var qe=Ie-fe,Ue=je-ve;if(qe!==0||Ue!==0){var xe=((J-fe)*qe+(ae-ve)*Ue)/(qe*qe+Ue*Ue);xe>1?(fe=Ie,ve=je):xe>0&&(fe+=qe*xe,ve+=Ue*xe)}return(qe=J-fe)*qe+(Ue=ae-ve)*Ue}function Wi(J,ae,fe,ve){var Ie={id:J===void 0?null:J,type:ae,geometry:fe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(je){var qe=je.geometry,Ue=je.type;if(Ue==="Point"||Ue==="MultiPoint"||Ue==="LineString")Ss(je,qe);else if(Ue==="Polygon"||Ue==="MultiLineString")for(var xe=0;xe<qe.length;xe++)Ss(je,qe[xe]);else if(Ue==="MultiPolygon")for(xe=0;xe<qe.length;xe++)for(var oe=0;oe<qe[xe].length;oe++)Ss(je,qe[xe][oe])}(Ie),Ie}function Ss(J,ae){for(var fe=0;fe<ae.length;fe+=3)J.minX=Math.min(J.minX,ae[fe]),J.minY=Math.min(J.minY,ae[fe+1]),J.maxX=Math.max(J.maxX,ae[fe]),J.maxY=Math.max(J.maxY,ae[fe+1])}function ro(J,ae,fe,ve){if(ae.geometry){var Ie=ae.geometry.coordinates,je=ae.geometry.type,qe=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),Ue=[],xe=ae.id;if(fe.promoteId?xe=ae.properties[fe.promoteId]:fe.generateId&&(xe=ve||0),je==="Point")Wr(Ie,Ue);else if(je==="MultiPoint")for(var oe=0;oe<Ie.length;oe++)Wr(Ie[oe],Ue);else if(je==="LineString")Lo(Ie,Ue,qe,!1);else if(je==="MultiLineString"){if(fe.lineMetrics){for(oe=0;oe<Ie.length;oe++)Lo(Ie[oe],Ue=[],qe,!1),J.push(Wi(xe,"LineString",Ue,ae.properties));return}io(Ie,Ue,qe,!1)}else if(je==="Polygon")io(Ie,Ue,qe,!0);else{if(je!=="MultiPolygon"){if(je==="GeometryCollection"){for(oe=0;oe<ae.geometry.geometries.length;oe++)ro(J,{id:xe,geometry:ae.geometry.geometries[oe],properties:ae.properties},fe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(oe=0;oe<Ie.length;oe++){var Ve=[];io(Ie[oe],Ve,qe,!0),Ue.push(Ve)}}J.push(Wi(xe,je,Ue,ae.properties))}}function Wr(J,ae){ae.push(bi(J[0])),ae.push(Ro(J[1])),ae.push(0)}function Lo(J,ae,fe,ve){for(var Ie,je,qe=0,Ue=0;Ue<J.length;Ue++){var xe=bi(J[Ue][0]),oe=Ro(J[Ue][1]);ae.push(xe),ae.push(oe),ae.push(0),Ue>0&&(qe+=ve?(Ie*oe-xe*je)/2:Math.sqrt(Math.pow(xe-Ie,2)+Math.pow(oe-je,2))),Ie=xe,je=oe}var Ve=ae.length-3;ae[2]=1,function lt(Qe,A,ye,Lt){for(var jt,ct=Lt,It=ye-A>>1,xt=ye-A,hn=Qe[A],fn=Qe[A+1],Qt=Qe[ye],Ar=Qe[ye+1],Jn=A+3;Jn<ye;Jn+=3){var Rr=Bi(Qe[Jn],Qe[Jn+1],hn,fn,Qt,Ar);if(Rr>ct)jt=Jn,ct=Rr;else if(Rr===ct){var mr=Math.abs(Jn-It);mr<xt&&(jt=Jn,xt=mr)}}ct>Lt&&(jt-A>3&&lt(Qe,A,jt,Lt),Qe[jt+2]=ct,ye-jt>3&&lt(Qe,jt,ye,Lt))}(ae,0,Ve,fe),ae[Ve+2]=1,ae.size=Math.abs(qe),ae.start=0,ae.end=ae.size}function io(J,ae,fe,ve){for(var Ie=0;Ie<J.length;Ie++){var je=[];Lo(J[Ie],je,fe,ve),ae.push(je)}}function bi(J){return J/360+.5}function Ro(J){var ae=Math.sin(J*Math.PI/180),fe=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return fe<0?0:fe>1?1:fe}function sa(J,ae,fe,ve,Ie,je,qe,Ue){if(ve/=ae,je>=(fe/=ae)&&qe<ve)return J;if(qe<fe||je>=ve)return null;for(var xe=[],oe=0;oe<J.length;oe++){var Ve=J[oe],lt=Ve.geometry,Qe=Ve.type,A=Ie===0?Ve.minX:Ve.minY,ye=Ie===0?Ve.maxX:Ve.maxY;if(A>=fe&&ye<ve)xe.push(Ve);else if(!(ye<fe||A>=ve)){var Lt=[];if(Qe==="Point"||Qe==="MultiPoint")vt(lt,Lt,fe,ve,Ie);else if(Qe==="LineString")we(lt,Lt,fe,ve,Ie,!1,Ue.lineMetrics);else if(Qe==="MultiLineString")Et(lt,Lt,fe,ve,Ie,!1);else if(Qe==="Polygon")Et(lt,Lt,fe,ve,Ie,!0);else if(Qe==="MultiPolygon")for(var jt=0;jt<lt.length;jt++){var ct=[];Et(lt[jt],ct,fe,ve,Ie,!0),ct.length&&Lt.push(ct)}if(Lt.length){if(Ue.lineMetrics&&Qe==="LineString"){for(jt=0;jt<Lt.length;jt++)xe.push(Wi(Ve.id,Qe,Lt[jt],Ve.tags));continue}Qe!=="LineString"&&Qe!=="MultiLineString"||(Lt.length===1?(Qe="LineString",Lt=Lt[0]):Qe="MultiLineString"),Qe!=="Point"&&Qe!=="MultiPoint"||(Qe=Lt.length===3?"Point":"MultiPoint"),xe.push(Wi(Ve.id,Qe,Lt,Ve.tags))}}}return xe.length?xe:null}function vt(J,ae,fe,ve,Ie){for(var je=0;je<J.length;je+=3){var qe=J[je+Ie];qe>=fe&&qe<=ve&&(ae.push(J[je]),ae.push(J[je+1]),ae.push(J[je+2]))}}function we(J,ae,fe,ve,Ie,je,qe){for(var Ue,xe,oe=Je(J),Ve=Ie===0?Gn:Ir,lt=J.start,Qe=0;Qe<J.length-3;Qe+=3){var A=J[Qe],ye=J[Qe+1],Lt=J[Qe+2],jt=J[Qe+3],ct=J[Qe+4],It=Ie===0?A:ye,xt=Ie===0?jt:ct,hn=!1;qe&&(Ue=Math.sqrt(Math.pow(A-jt,2)+Math.pow(ye-ct,2))),It<fe?xt>fe&&(xe=Ve(oe,A,ye,jt,ct,fe),qe&&(oe.start=lt+Ue*xe)):It>ve?xt<ve&&(xe=Ve(oe,A,ye,jt,ct,ve),qe&&(oe.start=lt+Ue*xe)):ln(oe,A,ye,Lt),xt<fe&&It>=fe&&(xe=Ve(oe,A,ye,jt,ct,fe),hn=!0),xt>ve&&It<=ve&&(xe=Ve(oe,A,ye,jt,ct,ve),hn=!0),!je&&hn&&(qe&&(oe.end=lt+Ue*xe),ae.push(oe),oe=Je(J)),qe&&(lt+=Ue)}var fn=J.length-3;A=J[fn],ye=J[fn+1],Lt=J[fn+2],(It=Ie===0?A:ye)>=fe&&It<=ve&&ln(oe,A,ye,Lt),fn=oe.length-3,je&&fn>=3&&(oe[fn]!==oe[0]||oe[fn+1]!==oe[1])&&ln(oe,oe[0],oe[1],oe[2]),oe.length&&ae.push(oe)}function Je(J){var ae=[];return ae.size=J.size,ae.start=J.start,ae.end=J.end,ae}function Et(J,ae,fe,ve,Ie,je){for(var qe=0;qe<J.length;qe++)we(J[qe],ae,fe,ve,Ie,je,!1)}function ln(J,ae,fe,ve){J.push(ae),J.push(fe),J.push(ve)}function Gn(J,ae,fe,ve,Ie,je){var qe=(je-ae)/(ve-ae);return J.push(je),J.push(fe+(Ie-fe)*qe),J.push(1),qe}function Ir(J,ae,fe,ve,Ie,je){var qe=(je-fe)/(Ie-fe);return J.push(ae+(ve-ae)*qe),J.push(je),J.push(1),qe}function Mn(J,ae){for(var fe=[],ve=0;ve<J.length;ve++){var Ie,je=J[ve],qe=je.type;if(qe==="Point"||qe==="MultiPoint"||qe==="LineString")Ie=nr(je.geometry,ae);else if(qe==="MultiLineString"||qe==="Polygon"){Ie=[];for(var Ue=0;Ue<je.geometry.length;Ue++)Ie.push(nr(je.geometry[Ue],ae))}else if(qe==="MultiPolygon")for(Ie=[],Ue=0;Ue<je.geometry.length;Ue++){for(var xe=[],oe=0;oe<je.geometry[Ue].length;oe++)xe.push(nr(je.geometry[Ue][oe],ae));Ie.push(xe)}fe.push(Wi(je.id,qe,Ie,je.tags))}return fe}function nr(J,ae){var fe=[];fe.size=J.size,J.start!==void 0&&(fe.start=J.start,fe.end=J.end);for(var ve=0;ve<J.length;ve+=3)fe.push(J[ve]+ae,J[ve+1],J[ve+2]);return fe}function $r(J,ae){if(J.transformed)return J;var fe,ve,Ie,je=1<<J.z,qe=J.x,Ue=J.y;for(fe=0;fe<J.features.length;fe++){var xe=J.features[fe],oe=xe.geometry,Ve=xe.type;if(xe.geometry=[],Ve===1)for(ve=0;ve<oe.length;ve+=2)xe.geometry.push(Yr(oe[ve],oe[ve+1],ae,je,qe,Ue));else for(ve=0;ve<oe.length;ve++){var lt=[];for(Ie=0;Ie<oe[ve].length;Ie+=2)lt.push(Yr(oe[ve][Ie],oe[ve][Ie+1],ae,je,qe,Ue));xe.geometry.push(lt)}}return J.transformed=!0,J}function Yr(J,ae,fe,ve,Ie,je){return[Math.round(fe*(J*ve-Ie)),Math.round(fe*(ae*ve-je))]}function dr(J,ae,fe,ve,Ie){for(var je=ae===Ie.maxZoom?0:Ie.tolerance/((1<<ae)*Ie.extent),qe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:ve,z:ae,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ue=0;Ue<J.length;Ue++){qe.numFeatures++,Eo(qe,J[Ue],je,Ie);var xe=J[Ue].minX,oe=J[Ue].minY,Ve=J[Ue].maxX,lt=J[Ue].maxY;xe<qe.minX&&(qe.minX=xe),oe<qe.minY&&(qe.minY=oe),Ve>qe.maxX&&(qe.maxX=Ve),lt>qe.maxY&&(qe.maxY=lt)}return qe}function Eo(J,ae,fe,ve){var Ie=ae.geometry,je=ae.type,qe=[];if(je==="Point"||je==="MultiPoint")for(var Ue=0;Ue<Ie.length;Ue+=3)qe.push(Ie[Ue]),qe.push(Ie[Ue+1]),J.numPoints++,J.numSimplified++;else if(je==="LineString")Jr(qe,Ie,J,fe,!1,!1);else if(je==="MultiLineString"||je==="Polygon")for(Ue=0;Ue<Ie.length;Ue++)Jr(qe,Ie[Ue],J,fe,je==="Polygon",Ue===0);else if(je==="MultiPolygon")for(var xe=0;xe<Ie.length;xe++){var oe=Ie[xe];for(Ue=0;Ue<oe.length;Ue++)Jr(qe,oe[Ue],J,fe,!0,Ue===0)}if(qe.length){var Ve=ae.tags||null;if(je==="LineString"&&ve.lineMetrics){for(var lt in Ve={},ae.tags)Ve[lt]=ae.tags[lt];Ve.mapbox_clip_start=Ie.start/Ie.size,Ve.mapbox_clip_end=Ie.end/Ie.size}var Qe={geometry:qe,type:je==="Polygon"||je==="MultiPolygon"?3:je==="LineString"||je==="MultiLineString"?2:1,tags:Ve};ae.id!==null&&(Qe.id=ae.id),J.features.push(Qe)}}function Jr(J,ae,fe,ve,Ie,je){var qe=ve*ve;if(ve>0&&ae.size<(Ie?qe:ve))fe.numPoints+=ae.length/3;else{for(var Ue=[],xe=0;xe<ae.length;xe+=3)(ve===0||ae[xe+2]>qe)&&(fe.numSimplified++,Ue.push(ae[xe]),Ue.push(ae[xe+1])),fe.numPoints++;Ie&&function(oe,Ve){for(var lt=0,Qe=0,A=oe.length,ye=A-2;Qe<A;ye=Qe,Qe+=2)lt+=(oe[Qe]-oe[ye])*(oe[Qe+1]+oe[ye+1]);if(lt>0===Ve)for(Qe=0,A=oe.length;Qe<A/2;Qe+=2){var Lt=oe[Qe],jt=oe[Qe+1];oe[Qe]=oe[A-2-Qe],oe[Qe+1]=oe[A-1-Qe],oe[A-2-Qe]=Lt,oe[A-1-Qe]=jt}}(Ue,je),J.push(Ue)}}function la(J,ae){var fe=(ae=this.options=function(Ie,je){for(var qe in je)Ie[qe]=je[qe];return Ie}(Object.create(this.options),ae)).debug;if(fe&&console.time("preprocess data"),ae.maxZoom<0||ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ae.promoteId&&ae.generateId)throw new Error("promoteId and generateId cannot be used together.");var ve=function(Ie,je){var qe=[];if(Ie.type==="FeatureCollection")for(var Ue=0;Ue<Ie.features.length;Ue++)ro(qe,Ie.features[Ue],je,Ue);else ro(qe,Ie.type==="Feature"?Ie:{geometry:Ie},je);return qe}(J,ae);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ae.indexMaxZoom,ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ve=function(Ie,je){var qe=je.buffer/je.extent,Ue=Ie,xe=sa(Ie,1,-1-qe,qe,0,-1,2,je),oe=sa(Ie,1,1-qe,2+qe,0,-1,2,je);return(xe||oe)&&(Ue=sa(Ie,1,-qe,1+qe,0,-1,2,je)||[],xe&&(Ue=Mn(xe,1).concat(Ue)),oe&&(Ue=Ue.concat(Mn(oe,-1)))),Ue}(ve,ae)).length&&this.splitTile(ve,0,0,0),fe&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function La(J,ae,fe){return 32*((1<<J)*fe+ae)+J}function Ht(J,ae){var fe=J.tileID.canonical;if(!this._geoJSONIndex)return ae(null,null);var ve=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!ve)return ae(null,null);var Ie=new pe(ve.features),je=tt(Ie);je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),ae(null,{vectorTile:Ie,rawData:je.buffer})}En.prototype.load=function(J){var ae=this.options,fe=ae.log,ve=ae.minZoom,Ie=ae.maxZoom,je=ae.nodeSize;fe&&console.time("total time");var qe="prepare "+J.length+" points";fe&&console.time(qe),this.points=J;for(var Ue=[],xe=0;xe<J.length;xe++)J[xe].geometry&&Ue.push(Fn(J[xe],xe));this.trees[Ie+1]=new vn(Ue,gi,Go,je,Float32Array),fe&&console.timeEnd(qe);for(var oe=Ie;oe>=ve;oe--){var Ve=+Date.now();Ue=this._cluster(Ue,oe),this.trees[oe]=new vn(Ue,gi,Go,je,Float32Array),fe&&console.log("z%d: %d clusters in %dms",oe,Ue.length,+Date.now()-Ve)}return fe&&console.timeEnd("total time"),this},En.prototype.getClusters=function(J,ae){var fe=((J[0]+180)%360+360)%360-180,ve=Math.max(-90,Math.min(90,J[1])),Ie=J[2]===180?180:((J[2]+180)%360+360)%360-180,je=Math.max(-90,Math.min(90,J[3]));if(J[2]-J[0]>=360)fe=-180,Ie=180;else if(fe>Ie){var qe=this.getClusters([fe,ve,180,je],ae),Ue=this.getClusters([-180,ve,Ie,je],ae);return qe.concat(Ue)}for(var xe=this.trees[this._limitZoom(ae)],oe=[],Ve=0,lt=xe.range(Fi(fe),$n(je),Fi(Ie),$n(ve));Ve<lt.length;Ve+=1){var Qe=xe.points[lt[Ve]];oe.push(Qe.numPoints?Xr(Qe):this.points[Qe.index])}return oe},En.prototype.getChildren=function(J){var ae=this._getOriginId(J),fe=this._getOriginZoom(J),ve="No cluster with the specified id.",Ie=this.trees[fe];if(!Ie)throw new Error(ve);var je=Ie.points[ae];if(!je)throw new Error(ve);for(var qe=this.options.radius/(this.options.extent*Math.pow(2,fe-1)),Ue=[],xe=0,oe=Ie.within(je.x,je.y,qe);xe<oe.length;xe+=1){var Ve=Ie.points[oe[xe]];Ve.parentId===J&&Ue.push(Ve.numPoints?Xr(Ve):this.points[Ve.index])}if(Ue.length===0)throw new Error(ve);return Ue},En.prototype.getLeaves=function(J,ae,fe){var ve=[];return this._appendLeaves(ve,J,ae=ae||10,fe=fe||0,0),ve},En.prototype.getTile=function(J,ae,fe){var ve=this.trees[this._limitZoom(J)],Ie=Math.pow(2,J),je=this.options,qe=je.radius/je.extent,Ue=(fe-qe)/Ie,xe=(fe+1+qe)/Ie,oe={features:[]};return this._addTileFeatures(ve.range((ae-qe)/Ie,Ue,(ae+1+qe)/Ie,xe),ve.points,ae,fe,Ie,oe),ae===0&&this._addTileFeatures(ve.range(1-qe/Ie,Ue,1,xe),ve.points,Ie,fe,Ie,oe),ae===Ie-1&&this._addTileFeatures(ve.range(0,Ue,qe/Ie,xe),ve.points,-1,fe,Ie,oe),oe.features.length?oe:null},En.prototype.getClusterExpansionZoom=function(J){for(var ae=this._getOriginZoom(J)-1;ae<=this.options.maxZoom;){var fe=this.getChildren(J);if(ae++,fe.length!==1)break;J=fe[0].properties.cluster_id}return ae},En.prototype._appendLeaves=function(J,ae,fe,ve,Ie){for(var je=0,qe=this.getChildren(ae);je<qe.length;je+=1){var Ue=qe[je],xe=Ue.properties;if(xe&&xe.cluster?Ie+xe.point_count<=ve?Ie+=xe.point_count:Ie=this._appendLeaves(J,xe.cluster_id,fe,ve,Ie):Ie<ve?Ie++:J.push(Ue),J.length===fe)break}return Ie},En.prototype._addTileFeatures=function(J,ae,fe,ve,Ie,je){for(var qe=0,Ue=J;qe<Ue.length;qe+=1){var xe=ae[Ue[qe]],oe=xe.numPoints,Ve={type:1,geometry:[[Math.round(this.options.extent*(xe.x*Ie-fe)),Math.round(this.options.extent*(xe.y*Ie-ve))]],tags:oe?jr(xe):this.points[xe.index].properties},lt=void 0;oe?lt=xe.id:this.options.generateId?lt=xe.index:this.points[xe.index].id&&(lt=this.points[xe.index].id),lt!==void 0&&(Ve.id=lt),je.features.push(Ve)}},En.prototype._limitZoom=function(J){return Math.max(this.options.minZoom,Math.min(+J,this.options.maxZoom+1))},En.prototype._cluster=function(J,ae){for(var fe=[],ve=this.options,Ie=ve.reduce,je=ve.minPoints,qe=ve.radius/(ve.extent*Math.pow(2,ae)),Ue=0;Ue<J.length;Ue++){var xe=J[Ue];if(!(xe.zoom<=ae)){xe.zoom=ae;for(var oe=this.trees[ae+1],Ve=oe.within(xe.x,xe.y,qe),lt=xe.numPoints||1,Qe=lt,A=0,ye=Ve;A<ye.length;A+=1){var Lt=oe.points[ye[A]];Lt.zoom>ae&&(Qe+=Lt.numPoints||1)}if(Qe>=je){for(var jt=xe.x*lt,ct=xe.y*lt,It=Ie&&lt>1?this._map(xe,!0):null,xt=(Ue<<5)+(ae+1)+this.points.length,hn=0,fn=Ve;hn<fn.length;hn+=1){var Qt=oe.points[fn[hn]];if(!(Qt.zoom<=ae)){Qt.zoom=ae;var Ar=Qt.numPoints||1;jt+=Qt.x*Ar,ct+=Qt.y*Ar,Qt.parentId=xt,Ie&&(It||(It=this._map(xe,!0)),Ie(It,this._map(Qt)))}}xe.parentId=xt,fe.push(jn(jt/Qe,ct/Qe,xt,Qe,It))}else if(fe.push(xe),Qe>1)for(var Jn=0,Rr=Ve;Jn<Rr.length;Jn+=1){var mr=oe.points[Rr[Jn]];mr.zoom<=ae||(mr.zoom=ae,fe.push(mr))}}}return fe},En.prototype._getOriginId=function(J){return J-this.points.length>>5},En.prototype._getOriginZoom=function(J){return(J-this.points.length)%32},En.prototype._map=function(J,ae){if(J.numPoints)return ae?mi({},J.properties):J.properties;var fe=this.points[J.index].properties,ve=this.options.map(fe);return ae&&ve===fe?mi({},ve):ve},la.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},la.prototype.splitTile=function(J,ae,fe,ve,Ie,je,qe){for(var Ue=[J,ae,fe,ve],xe=this.options,oe=xe.debug;Ue.length;){ve=Ue.pop(),fe=Ue.pop(),ae=Ue.pop(),J=Ue.pop();var Ve=1<<ae,lt=La(ae,fe,ve),Qe=this.tiles[lt];if(!Qe&&(oe>1&&console.time("creation"),Qe=this.tiles[lt]=dr(J,ae,fe,ve,xe),this.tileCoords.push({z:ae,x:fe,y:ve}),oe)){oe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ae,fe,ve,Qe.numFeatures,Qe.numPoints,Qe.numSimplified),console.timeEnd("creation"));var A="z"+ae;this.stats[A]=(this.stats[A]||0)+1,this.total++}if(Qe.source=J,Ie){if(ae===xe.maxZoom||ae===Ie)continue;var ye=1<<Ie-ae;if(fe!==Math.floor(je/ye)||ve!==Math.floor(qe/ye))continue}else if(ae===xe.indexMaxZoom||Qe.numPoints<=xe.indexMaxPoints)continue;if(Qe.source=null,J.length!==0){oe>1&&console.time("clipping");var Lt,jt,ct,It,xt,hn,fn=.5*xe.buffer/xe.extent,Qt=.5-fn,Ar=.5+fn,Jn=1+fn;Lt=jt=ct=It=null,xt=sa(J,Ve,fe-fn,fe+Ar,0,Qe.minX,Qe.maxX,xe),hn=sa(J,Ve,fe+Qt,fe+Jn,0,Qe.minX,Qe.maxX,xe),J=null,xt&&(Lt=sa(xt,Ve,ve-fn,ve+Ar,1,Qe.minY,Qe.maxY,xe),jt=sa(xt,Ve,ve+Qt,ve+Jn,1,Qe.minY,Qe.maxY,xe),xt=null),hn&&(ct=sa(hn,Ve,ve-fn,ve+Ar,1,Qe.minY,Qe.maxY,xe),It=sa(hn,Ve,ve+Qt,ve+Jn,1,Qe.minY,Qe.maxY,xe),hn=null),oe>1&&console.timeEnd("clipping"),Ue.push(Lt||[],ae+1,2*fe,2*ve),Ue.push(jt||[],ae+1,2*fe,2*ve+1),Ue.push(ct||[],ae+1,2*fe+1,2*ve),Ue.push(It||[],ae+1,2*fe+1,2*ve+1)}}},la.prototype.getTile=function(J,ae,fe){var ve=this.options,Ie=ve.extent,je=ve.debug;if(J<0||J>24)return null;var qe=1<<J,Ue=La(J,ae=(ae%qe+qe)%qe,fe);if(this.tiles[Ue])return $r(this.tiles[Ue],Ie);je>1&&console.log("drilling down to z%d-%d-%d",J,ae,fe);for(var xe,oe=J,Ve=ae,lt=fe;!xe&&oe>0;)oe--,Ve=Math.floor(Ve/2),lt=Math.floor(lt/2),xe=this.tiles[La(oe,Ve,lt)];return xe&&xe.source?(je>1&&console.log("found parent tile z%d-%d-%d",oe,Ve,lt),je>1&&console.time("drilling down"),this.splitTile(xe.source,oe,Ve,lt,J,ae,fe),je>1&&console.timeEnd("drilling down"),this.tiles[Ue]?$r(this.tiles[Ue],Ie):null):null};var Ci=function(J){function ae(fe,ve,Ie,je){J.call(this,fe,ve,Ie,Ht),je&&(this.loadGeoJSON=je)}return J&&(ae.__proto__=J),(ae.prototype=Object.create(J&&J.prototype)).constructor=ae,ae.prototype.loadData=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ve,this._pendingLoadDataParams=fe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ae.prototype._loadData=function(){var fe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ve=this._pendingCallback,Ie=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var je=!!(Ie&&Ie.request&&Ie.request.collectResourceTiming)&&new o.RequestPerformance(Ie.request);this.loadGeoJSON(Ie,function(qe,Ue){if(qe||!Ue)return ve(qe);if(typeof Ue!="object")return ve(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."));(function Qe(A,ye){var Lt,jt=A&&A.type;if(jt==="FeatureCollection")for(Lt=0;Lt<A.features.length;Lt++)Qe(A.features[Lt],ye);else if(jt==="GeometryCollection")for(Lt=0;Lt<A.geometries.length;Lt++)Qe(A.geometries[Lt],ye);else if(jt==="Feature")Qe(A.geometry,ye);else if(jt==="Polygon")V(A.coordinates,ye);else if(jt==="MultiPolygon")for(Lt=0;Lt<A.coordinates.length;Lt++)V(A.coordinates[Lt],ye);return A})(Ue,!0);try{if(Ie.filter){var xe=o.createExpression(Ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function(Qe){return Qe.key+": "+Qe.message}).join(", "));var oe=Ue.features.filter(function(Qe){return xe.value.evaluate({zoom:0},Qe)});Ue={type:"FeatureCollection",features:oe}}fe._geoJSONIndex=Ie.cluster?new En(function(Qe){var A=Qe.superclusterOptions,ye=Qe.clusterProperties;if(!ye||!A)return A;for(var Lt={},jt={},ct={accumulated:null,zoom:0},It={properties:null},xt=Object.keys(ye),hn=0,fn=xt;hn<fn.length;hn+=1){var Qt=fn[hn],Ar=ye[Qt],Jn=Ar[0],Rr=o.createExpression(Ar[1]),mr=o.createExpression(typeof Jn=="string"?[Jn,["accumulated"],["get",Qt]]:Jn);Lt[Qt]=Rr.value,jt[Qt]=mr.value}return A.map=function(sr){It.properties=sr;for(var yr={},Ai=0,br=xt;Ai<br.length;Ai+=1){var Xt=br[Ai];yr[Xt]=Lt[Xt].evaluate(ct,It)}return yr},A.reduce=function(sr,yr){It.properties=yr;for(var Ai=0,br=xt;Ai<br.length;Ai+=1){var Xt=br[Ai];ct.accumulated=sr[Xt],sr[Xt]=jt[Xt].evaluate(ct,It)}},A}(Ie)).load(Ue.features):function(Qe,A){return new la(Qe,A)}(Ue,Ie.geojsonVtOptions)}catch(Qe){return ve(Qe)}fe.loaded={};var Ve={};if(je){var lt=je.finish();lt&&(Ve.resourceTiming={},Ve.resourceTiming[Ie.source]=JSON.parse(JSON.stringify(lt)))}ve(null,Ve)})}},ae.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ae.prototype.reloadTile=function(fe,ve){var Ie=this.loaded;return Ie&&Ie[fe.uid]?J.prototype.reloadTile.call(this,fe,ve):this.loadTile(fe,ve)},ae.prototype.loadGeoJSON=function(fe,ve){if(fe.request)o.getJSON(fe.request,ve);else{if(typeof fe.data!="string")return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."));try{return ve(null,JSON.parse(fe.data))}catch{return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."))}}},ae.prototype.removeSource=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ve()},ae.prototype.getClusterExpansionZoom=function(fe,ve){try{ve(null,this._geoJSONIndex.getClusterExpansionZoom(fe.clusterId))}catch(Ie){ve(Ie)}},ae.prototype.getClusterChildren=function(fe,ve){try{ve(null,this._geoJSONIndex.getChildren(fe.clusterId))}catch(Ie){ve(Ie)}},ae.prototype.getClusterLeaves=function(fe,ve){try{ve(null,this._geoJSONIndex.getLeaves(fe.clusterId,fe.limit,fe.offset))}catch(Ie){ve(Ie)}},ae}(q),zr=function(J){var ae=this;this.self=J,this.actor=new o.Actor(J,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:q,geojson:Ci},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(fe,ve){if(ae.workerSourceTypes[fe])throw new Error('Worker source with name "'+fe+'" already registered.');ae.workerSourceTypes[fe]=ve},this.self.registerRTLTextPlugin=function(fe){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=fe.applyArabicShaping,o.plugin.processBidirectionalText=fe.processBidirectionalText,o.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}};return zr.prototype.setReferrer=function(J,ae){this.referrer=ae},zr.prototype.setImages=function(J,ae,fe){for(var ve in this.availableImages[J]=ae,this.workerSources[J]){var Ie=this.workerSources[J][ve];for(var je in Ie)Ie[je].availableImages=ae}fe()},zr.prototype.setLayers=function(J,ae,fe){this.getLayerIndex(J).replace(ae),fe()},zr.prototype.updateLayers=function(J,ae,fe){this.getLayerIndex(J).update(ae.layers,ae.removedIds),fe()},zr.prototype.loadTile=function(J,ae,fe){this.getWorkerSource(J,ae.type,ae.source).loadTile(ae,fe)},zr.prototype.loadDEMTile=function(J,ae,fe){this.getDEMWorkerSource(J,ae.source).loadTile(ae,fe)},zr.prototype.reloadTile=function(J,ae,fe){this.getWorkerSource(J,ae.type,ae.source).reloadTile(ae,fe)},zr.prototype.abortTile=function(J,ae,fe){this.getWorkerSource(J,ae.type,ae.source).abortTile(ae,fe)},zr.prototype.removeTile=function(J,ae,fe){this.getWorkerSource(J,ae.type,ae.source).removeTile(ae,fe)},zr.prototype.removeDEMTile=function(J,ae){this.getDEMWorkerSource(J,ae.source).removeTile(ae)},zr.prototype.removeSource=function(J,ae,fe){if(this.workerSources[J]&&this.workerSources[J][ae.type]&&this.workerSources[J][ae.type][ae.source]){var ve=this.workerSources[J][ae.type][ae.source];delete this.workerSources[J][ae.type][ae.source],ve.removeSource!==void 0?ve.removeSource(ae,fe):fe()}},zr.prototype.loadWorkerSource=function(J,ae,fe){try{this.self.importScripts(ae.url),fe()}catch(ve){fe(ve.toString())}},zr.prototype.syncRTLPluginState=function(J,ae,fe){try{o.plugin.setState(ae);var ve=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&ve!=null){this.self.importScripts(ve);var Ie=o.plugin.isParsed();fe(Ie?void 0:new Error("RTL Text Plugin failed to import scripts from "+ve),Ie)}}catch(je){fe(je.toString())}},zr.prototype.getAvailableImages=function(J){var ae=this.availableImages[J];return ae||(ae=[]),ae},zr.prototype.getLayerIndex=function(J){var ae=this.layerIndexes[J];return ae||(ae=this.layerIndexes[J]=new T),ae},zr.prototype.getWorkerSource=function(J,ae,fe){var ve=this;return this.workerSources[J]||(this.workerSources[J]={}),this.workerSources[J][ae]||(this.workerSources[J][ae]={}),this.workerSources[J][ae][fe]||(this.workerSources[J][ae][fe]=new this.workerSourceTypes[ae]({send:function(Ie,je,qe){ve.actor.send(Ie,je,qe,J)}},this.getLayerIndex(J),this.getAvailableImages(J))),this.workerSources[J][ae][fe]},zr.prototype.getDEMWorkerSource=function(J,ae){return this.demWorkerSources[J]||(this.demWorkerSources[J]={}),this.demWorkerSources[J][ae]||(this.demWorkerSources[J][ae]=new ee),this.demWorkerSources[J][ae]},zr.prototype.enforceCacheSizeLimit=function(J,ae){o.enforceCacheSizeLimit(ae)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new zr(self)),zr}),l(["./shared"],function(o){var x=o.createCommonjsModule(function(c){function p(C){return!f(C)}function f(C){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var D,j,G=new Blob([""],{type:"text/javascript"}),te=URL.createObjectURL(G);try{j=new Worker(te),D=!0}catch{D=!1}return j&&j.terminate(),URL.revokeObjectURL(te),D}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var D=document.createElement("canvas");D.width=D.height=1;var j=D.getContext("2d");if(!j)return!1;var G=j.getImageData(0,0,1,1);return G&&G.width===D.width}()?(y[L=C&&C.failIfMajorPerformanceCaveat]===void 0&&(y[L]=function(D){var j=function(te){var de=document.createElement("canvas"),_e=Object.create(p.webGLContextAttributes);return _e.failIfMajorPerformanceCaveat=te,de.probablySupportsContext?de.probablySupportsContext("webgl",_e)||de.probablySupportsContext("experimental-webgl",_e):de.supportsContext?de.supportsContext("webgl",_e)||de.supportsContext("experimental-webgl",_e):de.getContext("webgl",_e)||de.getContext("experimental-webgl",_e)}(D);if(!j)return!1;var G=j.createShader(j.VERTEX_SHADER);return!(!G||j.isContextLost())&&(j.shaderSource(G,"void main() {}"),j.compileShader(G),j.getShaderParameter(G,j.COMPILE_STATUS)===!0)}(L)),y[L]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var L}c.exports?c.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=f);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),S={create:function(c,p,f){var y=o.window.document.createElement(c);return p!==void 0&&(y.className=p),f&&f.appendChild(y),y},createNS:function(c,p){return o.window.document.createElementNS(c,p)}},T=o.window.document&&o.window.document.documentElement.style;function M(c){if(!T)return c[0];for(var p=0;p<c.length;p++)if(c[p]in T)return c[p];return c[0]}var F,z=M(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);S.disableDrag=function(){T&&z&&(F=T[z],T[z]="none")},S.enableDrag=function(){T&&z&&(T[z]=F)};var U=M(["transform","WebkitTransform"]);S.setTransform=function(c,p){c.style[U]=p};var q=!1;try{var K=Object.defineProperty({},"passive",{get:function(){q=!0}});o.window.addEventListener("test",K,K),o.window.removeEventListener("test",K,K)}catch{q=!1}S.addEventListener=function(c,p,f,y){y===void 0&&(y={}),c.addEventListener(p,f,"passive"in y&&q?y:y.capture)},S.removeEventListener=function(c,p,f,y){y===void 0&&(y={}),c.removeEventListener(p,f,"passive"in y&&q?y:y.capture)};var ee=function(c){c.preventDefault(),c.stopPropagation(),o.window.removeEventListener("click",ee,!0)};function V(c){var p=c.userImage;return!!(p&&p.render&&p.render())&&(c.data.replace(new Uint8Array(p.data.buffer)),!0)}S.suppressClick=function(){o.window.addEventListener("click",ee,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",ee,!0)},0)},S.mousePos=function(c,p){var f=c.getBoundingClientRect();return new o.Point(p.clientX-f.left-c.clientLeft,p.clientY-f.top-c.clientTop)},S.touchPos=function(c,p){for(var f=c.getBoundingClientRect(),y=[],C=0;C<p.length;C++)y.push(new o.Point(p[C].clientX-f.left-c.clientLeft,p[C].clientY-f.top-c.clientTop));return y},S.mouseButton=function(c){return o.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},S.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var X=function(c){function p(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(f){if(this.loaded!==f&&(this.loaded=f,f)){for(var y=0,C=this.requestors;y<C.length;y+=1){var L=C[y];this._notify(L.ids,L.callback)}this.requestors=[]}},p.prototype.getImage=function(f){return this.images[f]},p.prototype.addImage=function(f,y){this._validate(f,y)&&(this.images[f]=y)},p.prototype._validate=function(f,y){var C=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchX" value'))),C=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchY" value'))),C=!1),this._validateContent(y.content,y)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "content" value'))),C=!1),C},p.prototype._validateStretch=function(f,y){if(!f)return!0;for(var C=0,L=0,D=f;L<D.length;L+=1){var j=D[L];if(j[0]<C||j[1]<j[0]||y<j[1])return!1;C=j[1]}return!0},p.prototype._validateContent=function(f,y){return!(f&&(f.length!==4||f[0]<0||y.data.width<f[0]||f[1]<0||y.data.height<f[1]||f[2]<0||y.data.width<f[2]||f[3]<0||y.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))},p.prototype.updateImage=function(f,y){y.version=this.images[f].version+1,this.images[f]=y,this.updatedImages[f]=!0},p.prototype.removeImage=function(f){var y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(f,y){var C=!0;if(!this.isLoaded())for(var L=0,D=f;L<D.length;L+=1)this.images[D[L]]||(C=!1);this.isLoaded()||C?this._notify(f,y):this.requestors.push({ids:f,callback:y})},p.prototype._notify=function(f,y){for(var C={},L=0,D=f;L<D.length;L+=1){var j=D[L];this.images[j]||this.fire(new o.Event("styleimagemissing",{id:j}));var G=this.images[j];G?C[j]={data:G.data.clone(),pixelRatio:G.pixelRatio,sdf:G.sdf,version:G.version,stretchX:G.stretchX,stretchY:G.stretchY,content:G.content,hasRenderCallback:Boolean(G.userImage&&G.userImage.render)}:o.warnOnce('Image "'+j+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,C)},p.prototype.getPixelSize=function(){var f=this.atlasImage;return{width:f.width,height:f.height}},p.prototype.getPattern=function(f){var y=this.patterns[f],C=this.getImage(f);if(!C)return null;if(y&&y.position.version===C.version)return y.position;if(y)y.position.version=C.version;else{var L={w:C.data.width+2,h:C.data.height+2,x:0,y:0},D=new o.ImagePosition(L,C);this.patterns[f]={bin:L,position:D}}return this._updatePatternAtlas(),this.patterns[f].position},p.prototype.bind=function(f){var y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var f=[];for(var y in this.patterns)f.push(this.patterns[y].bin);var C=o.potpack(f),L=C.w,D=C.h,j=this.atlasImage;for(var G in j.resize({width:L||1,height:D||1}),this.patterns){var te=this.patterns[G].bin,de=te.x+1,_e=te.y+1,me=this.images[G].data,Oe=me.width,Pe=me.height;o.RGBAImage.copy(me,j,{x:0,y:0},{x:de,y:_e},{width:Oe,height:Pe}),o.RGBAImage.copy(me,j,{x:0,y:Pe-1},{x:de,y:_e-1},{width:Oe,height:1}),o.RGBAImage.copy(me,j,{x:0,y:0},{x:de,y:_e+Pe},{width:Oe,height:1}),o.RGBAImage.copy(me,j,{x:Oe-1,y:0},{x:de-1,y:_e},{width:1,height:Pe}),o.RGBAImage.copy(me,j,{x:0,y:0},{x:de+Oe,y:_e},{width:1,height:Pe})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(f){for(var y=0,C=f;y<C.length;y+=1){var L=C[y];if(!this.callbackDispatchedThisFrame[L]){this.callbackDispatchedThisFrame[L]=!0;var D=this.images[L];V(D)&&this.updateImage(L,D)}}},p}(o.Evented),ne=le,he=le,pe=1e20;function le(c,p,f,y,C,L){this.fontSize=c||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=C||"sans-serif",this.fontWeight=L||"normal",this.radius=f||8;var D=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=D,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.d=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Int16Array(D),this.middle=Math.round(D/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function be(c,p,f,y,C,L,D){for(var j=0;j<p;j++){for(var G=0;G<f;G++)y[G]=c[G*p+j];for(Se(y,C,L,D,f),G=0;G<f;G++)c[G*p+j]=C[G]}for(G=0;G<f;G++){for(j=0;j<p;j++)y[j]=c[G*p+j];for(Se(y,C,L,D,p),j=0;j<p;j++)c[G*p+j]=Math.sqrt(C[j])}}function Se(c,p,f,y,C){f[0]=0,y[0]=-pe,y[1]=+pe;for(var L=1,D=0;L<C;L++){for(var j=(c[L]+L*L-(c[f[D]]+f[D]*f[D]))/(2*L-2*f[D]);j<=y[D];)D--,j=(c[L]+L*L-(c[f[D]]+f[D]*f[D]))/(2*L-2*f[D]);f[++D]=L,y[D]=j,y[D+1]=+pe}for(L=0,D=0;L<C;L++){for(;y[D+1]<L;)D++;p[L]=(L-f[D])*(L-f[D])+c[f[D]]}}le.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),f=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var C=p.data[4*y+3]/255;this.gridOuter[y]=C===1?0:C===0?pe:Math.pow(Math.max(0,.5-C),2),this.gridInner[y]=C===1?pe:C===0?0:Math.pow(Math.max(0,C-.5),2)}for(be(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),be(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)f[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return f},ne.default=he;var De=function(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}};De.prototype.setURL=function(c){this.url=c},De.prototype.getGlyphs=function(c,p){var f=this,y=[];for(var C in c)for(var L=0,D=c[C];L<D.length;L+=1)y.push({stack:C,id:D[L]});o.asyncAll(y,function(j,G){var te=j.stack,de=j.id,_e=f.entries[te];_e||(_e=f.entries[te]={glyphs:{},requests:{},ranges:{}});var me=_e.glyphs[de];if(me===void 0){if(me=f._tinySDF(_e,te,de))return _e.glyphs[de]=me,void G(null,{stack:te,id:de,glyph:me});var Oe=Math.floor(de/256);if(256*Oe>65535)G(new Error("glyphs > 65535 not supported"));else if(_e.ranges[Oe])G(null,{stack:te,id:de,glyph:me});else{var Pe=_e.requests[Oe];Pe||(Pe=_e.requests[Oe]=[],De.loadGlyphRange(te,Oe,f.url,f.requestManager,function(Ne,Te){if(Te){for(var ze in Te)f._doesCharSupportLocalGlyph(+ze)||(_e.glyphs[+ze]=Te[+ze]);_e.ranges[Oe]=!0}for(var We=0,et=Pe;We<et.length;We+=1)(0,et[We])(Ne,Te);delete _e.requests[Oe]})),Pe.push(function(Ne,Te){Ne?G(Ne):Te&&G(null,{stack:te,id:de,glyph:Te[de]||null})})}}else G(null,{stack:te,id:de,glyph:me})},function(j,G){if(j)p(j);else if(G){for(var te={},de=0,_e=G;de<_e.length;de+=1){var me=_e[de],Oe=me.stack,Pe=me.id,Ne=me.glyph;(te[Oe]||(te[Oe]={}))[Pe]=Ne&&{id:Ne.id,bitmap:Ne.bitmap.clone(),metrics:Ne.metrics}}p(null,te)}})},De.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](c)||o.isChar["Hangul Syllables"](c)||o.isChar.Hiragana(c)||o.isChar.Katakana(c))},De.prototype._tinySDF=function(c,p,f){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(f)){var C=c.tinySDF;if(!C){var L="400";/bold/i.test(p)?L="900":/medium/i.test(p)?L="500":/light/i.test(p)&&(L="200"),C=c.tinySDF=new De.TinySDF(24,3,8,.25,y,L)}return{id:f,bitmap:new o.AlphaImage({width:30,height:30},C.draw(String.fromCharCode(f))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},De.loadGlyphRange=function(c,p,f,y,C){var L=256*p,D=L+255,j=y.transformRequest(y.normalizeGlyphsURL(f).replace("{fontstack}",c).replace("{range}",L+"-"+D),o.ResourceType.Glyphs);o.getArrayBuffer(j,function(G,te){if(G)C(G);else if(te){for(var de={},_e=0,me=o.parseGlyphPBF(te);_e<me.length;_e+=1){var Oe=me[_e];de[Oe.id]=Oe}C(null,de)}})},De.TinySDF=ne;var tt=function(){this.specification=o.styleSpec.light.position};tt.prototype.possiblyEvaluate=function(c,p){return o.sphericalToCartesian(c.expression.evaluate(p))},tt.prototype.interpolate=function(c,p,f){return{x:o.number(c.x,p.x,f),y:o.number(c.y,p.y,f),z:o.number(c.z,p.z,f)}};var Xe=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new tt,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),at=function(c){function p(f){c.call(this),this._transitionable=new o.Transitionable(Xe),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(f,y){if(y===void 0&&(y={}),!this._validate(o.validateLight,f,y))for(var C in f){var L=f[C];o.endsWith(C,"-transition")?this._transitionable.setTransition(C.slice(0,-11),L):this._transitionable.setValue(C,L)}},p.prototype.updateTransitions=function(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(f){this.properties=this._transitioning.possiblyEvaluate(f)},p.prototype._validate=function(f,y,C){return(!C||C.validate!==!1)&&o.emitValidationErrors(this,f.call(o.validateStyle,o.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},p}(o.Evented),yt=function(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};yt.prototype.getDash=function(c,p){var f=c.join(",")+String(p);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(c,p)),this.dashEntry[f]},yt.prototype.getDashRanges=function(c,p,f){var y=[],C=c.length%2==1?-c[c.length-1]*f:0,L=c[0]*f,D=!0;y.push({left:C,right:L,isDash:D,zeroLength:c[0]===0});for(var j=c[0],G=1;G<c.length;G++){var te=c[G];y.push({left:C=j*f,right:L=(j+=te)*f,isDash:D=!D,zeroLength:te===0})}return y},yt.prototype.addRoundDash=function(c,p,f){for(var y=p/2,C=-f;C<=f;C++)for(var L=this.width*(this.nextRow+f+C),D=0,j=c[D],G=0;G<this.width;G++){G/j.right>1&&(j=c[++D]);var te=Math.abs(G-j.left),de=Math.abs(G-j.right),_e=Math.min(te,de),me=void 0,Oe=C/f*(y+1);if(j.isDash){var Pe=y-Math.abs(Oe);me=Math.sqrt(_e*_e+Pe*Pe)}else me=y-Math.sqrt(_e*_e+Oe*Oe);this.data[L+G]=Math.max(0,Math.min(255,me+128))}},yt.prototype.addRegularDash=function(c){for(var p=c.length-1;p>=0;--p){var f=c[p],y=c[p+1];f.zeroLength?c.splice(p,1):y&&y.isDash===f.isDash&&(y.left=f.left,c.splice(p,1))}var C=c[0],L=c[c.length-1];C.isDash===L.isDash&&(C.left=L.left-this.width,L.right=C.right+this.width);for(var D=this.width*this.nextRow,j=0,G=c[j],te=0;te<this.width;te++){te/G.right>1&&(G=c[++j]);var de=Math.abs(te-G.left),_e=Math.abs(te-G.right),me=Math.min(de,_e);this.data[D+te]=Math.max(0,Math.min(255,(G.isDash?me:-me)+128))}},yt.prototype.addDash=function(c,p){var f=p?7:0,y=2*f+1;if(this.nextRow+y>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var C=0,L=0;L<c.length;L++)C+=c[L];if(C!==0){var D=this.width/C,j=this.getDashRanges(c,this.width,D);p?this.addRoundDash(j,D,f):this.addRegularDash(j)}var G={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:C};return this.nextRow+=y,this.dirty=!0,G},yt.prototype.bind=function(c){var p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var Ot=function c(p,f){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var y=this.workerPool.acquire(this.id),C=0;C<y.length;C++){var L=new c.Actor(y[C],f,this.id);L.name="Worker "+C,this.actors.push(L)}};function Vt(c,p,f){var y=function(C,L){if(C)return f(C);if(L){var D=o.pick(o.extend(L,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);L.vector_layers&&(D.vectorLayers=L.vector_layers,D.vectorLayerIds=D.vectorLayers.map(function(j){return j.id})),D.tiles=p.canonicalizeTileset(D,c.url),f(null,D)}};return c.url?o.getJSON(p.transformRequest(p.normalizeSourceURL(c.url),o.ResourceType.Source),y):o.browser.frame(function(){return y(null,c)})}Ot.prototype.broadcast=function(c,p,f){o.asyncAll(this.actors,function(y,C){y.send(c,p,C)},f=f||function(){})},Ot.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ot.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},Ot.Actor=o.Actor;var Jt=function(c,p,f){this.bounds=o.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=f||24};Jt.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},Jt.prototype.contains=function(c){var p=Math.pow(2,c.z),f=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*p),C=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*p),L=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=f&&c.x<C&&c.y>=y&&c.y<L};var bn=function(c){function p(f,y,C,L){if(c.call(this),this.id=f,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(y,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(L)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(y,C){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new o.ErrorEvent(y)):C&&(o.extend(f,C),C.bounds&&(f.tileBounds=new Jt(C.bounds,f.minzoom,f.maxzoom)),o.postTurnstileEvent(C.tiles,f.map._requestManager._customAccessToken),o.postMapLoadEvent(C.tiles,f.map._getMapId(),f.map._requestManager._skuToken,f.map._requestManager._customAccessToken),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setSourceProperty=function(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(f){var y=this;return this.setSourceProperty(function(){y._options.tiles=f}),this},p.prototype.setUrl=function(f){var y=this;return this.setSourceProperty(function(){y.url=f,y._options.url=f}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return o.extend({},this._options)},p.prototype.loadTile=function(f,y){var C=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),L={request:this.map._requestManager.transformRequest(C,o.ResourceType.Tile),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function D(j,G){return delete f.request,f.aborted?y(null):j&&j.status!==404?y(j):(G&&G.resourceTiming&&(f.resourceTiming=G.resourceTiming),this.map._refreshExpiredTiles&&G&&f.setExpiryData(G),f.loadVectorData(G,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}L.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired"?f.state==="loading"?f.reloadCallback=y:f.request=f.actor.send("reloadTile",L,D.bind(this)):(f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",L,D.bind(this)))},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(o.Evented),st=function(c){function p(f,y,C,L){c.call(this),this.id=f,this.dispatcher=C,this.setEventedParent(L),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},y),o.extend(this,o.pick(y,["url","scheme","tileSize"]))}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(y,C){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new o.ErrorEvent(y)):C&&(o.extend(f,C),C.bounds&&(f.tileBounds=new Jt(C.bounds,f.minzoom,f.maxzoom)),o.postTurnstileEvent(C.tiles),o.postMapLoadEvent(C.tiles,f.map._getMapId(),f.map._requestManager._skuToken),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return o.extend({},this._options)},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.loadTile=function(f,y){var C=this,L=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);f.request=o.getImage(this.map._requestManager.transformRequest(L,o.ResourceType.Tile),function(D,j){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(j){C.map._refreshExpiredTiles&&f.setExpiryData(j),delete j.cacheControl,delete j.expires;var G=C.map.painter.context,te=G.gl;f.texture=C.map.painter.getTileTexture(j.width),f.texture?f.texture.update(j,{useMipmap:!0}):(f.texture=new o.Texture(G,j,te.RGBA,{useMipmap:!0}),f.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST),G.extTextureFilterAnisotropic&&te.texParameterf(te.TEXTURE_2D,G.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,G.extTextureFilterAnisotropicMax)),f.state="loaded",o.cacheEntryPossiblyAdded(C.dispatcher),y(null)}})},p.prototype.abortTile=function(f,y){f.request&&(f.request.cancel(),delete f.request),y()},p.prototype.unloadTile=function(f,y){f.texture&&this.map.painter.saveTileTexture(f.texture),y()},p.prototype.hasTransition=function(){return!1},p}(o.Evented),Me=function(c){function p(f,y,C,L){c.call(this,f,y,C,L),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(f,y){var C=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function L(D,j){D&&(f.state="errored",y(D)),j&&(f.dem=j,f.needsHillshadePrepare=!0,f.state="loaded",y(null))}f.request=o.getImage(this.map._requestManager.transformRequest(C,o.ResourceType.Tile),function(D,j){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(j){this.map._refreshExpiredTiles&&f.setExpiryData(j),delete j.cacheControl,delete j.expires;var G=o.window.ImageBitmap&&j instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?j:o.browser.getImageData(j,1),te={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:G,encoding:this.encoding};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",te,L.bind(this)))}}.bind(this)),f.neighboringTiles=this._getNeighboringTiles(f.tileID)},p.prototype._getNeighboringTiles=function(f){var y=f.canonical,C=Math.pow(2,y.z),L=(y.x-1+C)%C,D=y.x===0?f.wrap-1:f.wrap,j=(y.x+1+C)%C,G=y.x+1===C?f.wrap+1:f.wrap,te={};return te[new o.OverscaledTileID(f.overscaledZ,D,y.z,L,y.y).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,j,y.y).key]={backfilled:!1},y.y>0&&(te[new o.OverscaledTileID(f.overscaledZ,D,y.z,L,y.y-1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,j,y.y-1).key]={backfilled:!1}),y.y+1<C&&(te[new o.OverscaledTileID(f.overscaledZ,D,y.z,L,y.y+1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,j,y.y+1).key]={backfilled:!1}),te},p.prototype.unloadTile=function(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&f.actor.send("removeDEMTile",{uid:f.uid,source:this.id})},p}(st),Le=function(c){function p(f,y,C,L){c.call(this),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=C.getActor(),this.setEventedParent(L),this._data=y.data,this._options=o.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var D=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*D,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*D,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:o.EXTENT,radius:(y.clusterRadius||50)*D,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)f.fire(new o.ErrorEvent(y));else{var C={dataType:"source",sourceDataType:"metadata"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(C.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new o.Event("data",C))}})},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setData=function(f){var y=this;return this._data=f,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(C){if(C)y.fire(new o.ErrorEvent(C));else{var L={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(L.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new o.Event("data",L))}}),this},p.prototype.getClusterExpansionZoom=function(f,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},y),this},p.prototype.getClusterChildren=function(f,y){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},y),this},p.prototype.getClusterLeaves=function(f,y,C,L){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:y,offset:C},L),this},p.prototype._updateWorkerData=function(f){var y=this;this._loaded=!1;var C=o.extend({},this.workerOptions),L=this._data;typeof L=="string"?(C.request=this.map._requestManager.transformRequest(o.browser.resolveURL(L),o.ResourceType.Source),C.request.collectResourceTiming=this._collectResourceTiming):C.data=JSON.stringify(L),this.actor.send(this.type+".loadData",C,function(D,j){y._removed||j&&j.abandoned||(y._loaded=!0,j&&j.resourceTiming&&j.resourceTiming[y.id]&&(y._resourceTiming=j.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:C.source},null),f(D))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(f,y){var C=this,L=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(L,{type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(D,j){return delete f.request,f.unloadVectorData(),f.aborted?y(null):D?y(D):(f.loadVectorData(j,C.map.painter,L==="reloadTile"),y(null))})},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0},p.prototype.unloadTile=function(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(o.Evented),re=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ge=function(c){function p(f,y,C,L){c.call(this),this.id=f,this.dispatcher=C,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(L),this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(f,y){var C=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(L,D){C._loaded=!0,L?C.fire(new o.ErrorEvent(L)):D&&(C.image=D,f&&(C.coordinates=f),y&&y(),C._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(f){var y=this;return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setCoordinates=function(f){var y=this;this.coordinates=f;var C=f.map(o.MercatorCoordinate.fromLngLat);this.tileID=function(D){for(var j=1/0,G=1/0,te=-1/0,de=-1/0,_e=0,me=D;_e<me.length;_e+=1){var Oe=me[_e];j=Math.min(j,Oe.x),G=Math.min(G,Oe.y),te=Math.max(te,Oe.x),de=Math.max(de,Oe.y)}var Pe=Math.max(te-j,de-G),Ne=Math.max(0,Math.floor(-Math.log(Pe)/Math.LN2)),Te=Math.pow(2,Ne);return new o.CanonicalTileID(Ne,Math.floor((j+te)/2*Te),Math.floor((G+de)/2*Te))}(C),this.minzoom=this.maxzoom=this.tileID.z;var L=C.map(function(D){return y.tileID.getTilePoint(D)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(L[0].x,L[0].y,0,0),this._boundsArray.emplaceBack(L[1].x,L[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(L[3].x,L[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(L[2].x,L[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var f=this.map.painter.context,y=f.gl;for(var C in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[C];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.loadTile=function(f,y){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},y(null)):(f.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(o.Evented),Mt=function(c){function p(f,y,C,L){c.call(this,f,y,C,L),this.roundZoom=!0,this.type="video",this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1;var y=this.options;this.urls=[];for(var C=0,L=y.urls;C<L.length;C+=1)this.urls.push(this.map._requestManager.transformRequest(L[C],o.ResourceType.Source).url);o.getVideo(this.urls,function(D,j){f._loaded=!0,D?f.fire(new o.ErrorEvent(D)):j&&(f.video=j,f.video.loop=!0,f.video.addEventListener("playing",function(){f.map.triggerRepaint()}),f.map&&f.video.play(),f._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(f){if(this.video){var y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=f}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var f=this.map.painter.context,y=f.gl;for(var C in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[C];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(ge),en=function(c){function p(f,y,C,L){c.call(this,f,y,C,L),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(D){return!Array.isArray(D)||D.length!==2||D.some(function(j){return typeof j!="number"})})||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,C=y.gl;for(var L in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(y,this.canvas,C.RGBA,{premultiply:!0}),this.tiles){var D=this.tiles[L];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var f=0,y=[this.canvas.width,this.canvas.height];f<y.length;f+=1){var C=y[f];if(isNaN(C)||C<=0)return!0}return!1},p}(ge),vn={vector:bn,raster:st,"raster-dem":Me,geojson:Le,video:Mt,image:ge,canvas:en};function dn(c,p){var f=o.identity([]);return o.translate(f,f,[1,1,0]),o.scale(f,f,[.5*c.width,.5*c.height,1]),o.multiply(f,f,c.calculatePosMatrix(p.toUnwrapped()))}function En(c,p,f,y,C,L){var D=function(Ne,Te,ze){if(Ne)for(var We=0,et=Ne;We<et.length;We+=1){var At=Te[et[We]];if(At&&At.source===ze&&At.type==="fill-extrusion")return!0}else for(var ht in Te){var gt=Te[ht];if(gt.source===ze&&gt.type==="fill-extrusion")return!0}return!1}(C&&C.layers,p,c.id),j=L.maxPitchScaleFactor(),G=c.tilesIn(y,j,D);G.sort(jn);for(var te=[],de=0,_e=G;de<_e.length;de+=1){var me=_e[de];te.push({wrappedTileID:me.tileID.wrapped().key,queryResults:me.tile.queryRenderedFeatures(p,f,c._state,me.queryGeometry,me.cameraQueryGeometry,me.scale,C,L,j,dn(c.transform,me.tileID))})}var Oe=function(Ne){for(var Te={},ze={},We=0,et=Ne;We<et.length;We+=1){var At=et[We],ht=At.queryResults,gt=At.wrappedTileID,Tt=ze[gt]=ze[gt]||{};for(var zt in ht)for(var Ft=ht[zt],tn=Tt[zt]=Tt[zt]||{},mn=Te[zt]=Te[zt]||[],Pn=0,kn=Ft;Pn<kn.length;Pn+=1){var vr=kn[Pn];tn[vr.featureIndex]||(tn[vr.featureIndex]=!0,mn.push(vr))}}return Te}(te);for(var Pe in Oe)Oe[Pe].forEach(function(Ne){var Te=Ne.feature,ze=c.getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=ze});return Oe}function jn(c,p){var f=c.tileID,y=p.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}var Fn=function(c,p){this.max=c,this.onRemove=p,this.reset()};Fn.prototype.reset=function(){for(var c in this.data)for(var p=0,f=this.data[c];p<f.length;p+=1){var y=f[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},Fn.prototype.add=function(c,p,f){var y=this,C=c.wrapped().key;this.data[C]===void 0&&(this.data[C]=[]);var L={value:p,timeout:void 0};if(f!==void 0&&(L.timeout=setTimeout(function(){y.remove(c,L)},f)),this.data[C].push(L),this.order.push(C),this.order.length>this.max){var D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this},Fn.prototype.has=function(c){return c.wrapped().key in this.data},Fn.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},Fn.prototype._getAndRemoveByKey=function(c){var p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value},Fn.prototype.getByKey=function(c){var p=this.data[c];return p?p[0].value:null},Fn.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},Fn.prototype.remove=function(c,p){if(!this.has(c))return this;var f=c.wrapped().key,y=p===void 0?0:this.data[f].indexOf(p),C=this.data[f][y];return this.data[f].splice(y,1),C.timeout&&clearTimeout(C.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(C.value),this.order.splice(this.order.indexOf(f),1),this},Fn.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},Fn.prototype.filter=function(c){var p=[];for(var f in this.data)for(var y=0,C=this.data[f];y<C.length;y+=1){var L=C[y];c(L.value)||p.push(L)}for(var D=0,j=p;D<j.length;D+=1){var G=j[D];this.remove(G.value.tileID,G)}};var Xr=function(c,p,f){this.context=c;var y=c.gl;this.buffer=y.createBuffer(),this.dynamicDraw=Boolean(f),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Xr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Xr.prototype.updateData=function(c){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Xr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fi=function(c,p,f,y){this.length=p.length,this.attributes=f,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=c;var C=c.gl;this.buffer=C.createBuffer(),c.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Fi.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fi.prototype.updateData=function(c){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)},Fi.prototype.enableAttributes=function(c,p){for(var f=0;f<this.attributes.length;f++){var y=p.attributes[this.attributes[f].name];y!==void 0&&c.enableVertexAttribArray(y)}},Fi.prototype.setVertexAttribPointers=function(c,p,f){for(var y=0;y<this.attributes.length;y++){var C=this.attributes[y],L=p.attributes[C.name];L!==void 0&&c.vertexAttribPointer(L,C.components,c[jr[C.type]],!1,this.itemSize,C.offset+this.itemSize*(f||0))}},Fi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var $n=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};$n.prototype.get=function(){return this.current},$n.prototype.set=function(c){},$n.prototype.getDefault=function(){return this.default},$n.prototype.setDefault=function(){this.set(this.default)};var mi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return o.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}($n),gi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)},p}($n),Go=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)},p}($n),Bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}($n),Wi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)},p}($n),Ss=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)},p}($n),ro=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(f){var y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)},p}($n),Wr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)},p}($n),Lo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}},p}($n),io=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)},p}($n),bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}},p}($n),Ro=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)},p}($n),sa=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}},p}($n),vt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.ONE,f.ZERO]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)},p}($n),we=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return o.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}($n),Je=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)},p}($n),Et=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}},p}($n),ln=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)},p}($n),Gn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)},p}($n),Ir=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)},p}($n),Mn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)},p}($n),nr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}($n),$r=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}},p}($n),Yr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}($n),dr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}},p}($n),Eo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}},p}($n),Jr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1},p}($n),la=function(c){function p(f){c.call(this,f),this.vao=f.extVertexArrayObject}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)},p}($n),La=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}},p}($n),Ht=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}},p}($n),Ci=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}},p}($n),zr=function(c){function p(f,y){c.call(this,f),this.context=f,this.parent=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}($n),J=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}},p}(zr),ae=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(zr),fe=function(c,p,f,y){this.context=c,this.width=p,this.height=f;var C=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new J(c,C),y&&(this.depthAttachment=new ae(c,C))};fe.prototype.destroy=function(){var c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){var f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}c.deleteFramebuffer(this.framebuffer)};var ve=function(c,p,f){this.func=c,this.mask=p,this.range=f};ve.ReadOnly=!1,ve.ReadWrite=!0,ve.disabled=new ve(519,ve.ReadOnly,[0,1]);var Ie=function(c,p,f,y,C,L){this.test=c,this.ref=p,this.mask=f,this.fail=y,this.depthFail=C,this.pass=L};Ie.disabled=new Ie({func:519,mask:0},0,0,7680,7680,7680);var je=function(c,p,f){this.blendFunction=c,this.blendColor=p,this.mask=f};je.disabled=new je(je.Replace=[1,0],o.Color.transparent,[!1,!1,!1,!1]),je.unblended=new je(je.Replace,o.Color.transparent,[!0,!0,!0,!0]),je.alphaBlended=new je([1,771],o.Color.transparent,[!0,!0,!0,!0]);var qe=function(c,p,f){this.enable=c,this.mode=p,this.frontFace=f};qe.disabled=new qe(!1,1029,2305),qe.backCCW=new qe(!0,1029,2305);var Ue=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mi(this),this.clearDepth=new gi(this),this.clearStencil=new Go(this),this.colorMask=new Bi(this),this.depthMask=new Wi(this),this.stencilMask=new Ss(this),this.stencilFunc=new ro(this),this.stencilOp=new Wr(this),this.stencilTest=new Lo(this),this.depthRange=new io(this),this.depthTest=new bi(this),this.depthFunc=new Ro(this),this.blend=new sa(this),this.blendFunc=new vt(this),this.blendColor=new we(this),this.blendEquation=new Je(this),this.cullFace=new Et(this),this.cullFaceSide=new ln(this),this.frontFace=new Gn(this),this.program=new Ir(this),this.activeTexture=new Mn(this),this.viewport=new nr(this),this.bindFramebuffer=new $r(this),this.bindRenderbuffer=new Yr(this),this.bindTexture=new dr(this),this.bindVertexBuffer=new Eo(this),this.bindElementBuffer=new Jr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new la(this),this.pixelStoreUnpack=new La(this),this.pixelStoreUnpackPremultiplyAlpha=new Ht(this),this.pixelStoreUnpackFlipY=new Ci(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};Ue.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ue.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ue.prototype.createIndexBuffer=function(c,p){return new Xr(this,c,p)},Ue.prototype.createVertexBuffer=function(c,p,f){return new Fi(this,c,p,f)},Ue.prototype.createRenderbuffer=function(c,p,f){var y=this.gl,C=y.createRenderbuffer();return this.bindRenderbuffer.set(C),y.renderbufferStorage(y.RENDERBUFFER,c,p,f),this.bindRenderbuffer.set(null),C},Ue.prototype.createFramebuffer=function(c,p,f){return new fe(this,c,p,f)},Ue.prototype.clear=function(c){var p=c.color,f=c.depth,y=this.gl,C=0;p&&(C|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(C|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y.clear(C)},Ue.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},Ue.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},Ue.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},Ue.prototype.setColorMode=function(c){o.deepEqual(c.blendFunction,je.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},Ue.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(c){function p(f,y,C){var L=this;c.call(this),this.id=f,this.dispatcher=C,this.on("data",function(D){D.dataType==="source"&&D.sourceDataType==="metadata"&&(L._sourceLoaded=!0),L._sourceLoaded&&!L._paused&&D.dataType==="source"&&D.sourceDataType==="content"&&(L.reload(),L.transform&&L.update(L.transform))}),this.on("error",function(){L._sourceErrored=!0}),this._source=function(D,j,G,te){var de=new vn[j.type](D,j,G,te);if(de.id!==D)throw new Error("Expected Source id to be "+D+" instead of "+de.id);return o.bindAll(["load","abort","unload","serialize","prepare"],de),de}(f,y,C,this),this._tiles={},this._cache=new Fn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(f)},p.prototype.onRemove=function(f){this._source&&this._source.onRemove&&this._source.onRemove(f)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var f in this._tiles){var y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(f,y){return this._source.loadTile(f,y)},p.prototype._unloadTile=function(f){if(this._source.unloadTile)return this._source.unloadTile(f,function(){})},p.prototype._abortTile=function(f){if(this._source.abortTile)return this._source.abortTile(f,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(f){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var C=this._tiles[y];C.upload(f),C.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return o.values(this._tiles).map(function(f){return f.tileID}).sort(oe).map(function(f){return f.key})},p.prototype.getRenderableIds=function(f){var y=this,C=[];for(var L in this._tiles)this._isIdRenderable(L,f)&&C.push(this._tiles[L]);return f?C.sort(function(D,j){var G=D.tileID,te=j.tileID,de=new o.Point(G.canonical.x,G.canonical.y)._rotate(y.transform.angle),_e=new o.Point(te.canonical.x,te.canonical.y)._rotate(y.transform.angle);return G.overscaledZ-te.overscaledZ||_e.y-de.y||_e.x-de.x}).map(function(D){return D.tileID.key}):C.map(function(D){return D.tileID}).sort(oe).map(function(D){return D.key})},p.prototype.hasRenderableParent=function(f){var y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var f in this._cache.reset(),this._tiles)this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")},p.prototype._reloadTile=function(f,y){var C=this._tiles[f];C&&(C.state!=="loading"&&(C.state=y),this._loadTile(C,this._tileLoaded.bind(this,C,f,y)))},p.prototype._tileLoaded=function(f,y,C,L){if(L)return f.state="errored",void(L.status!==404?this._source.fire(new o.ErrorEvent(L,{tile:f})):this.update(this.transform));f.timeAdded=o.browser.now(),C==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:f,coord:f.tileID}))},p.prototype._backfillDEM=function(f){for(var y=this.getRenderableIds(),C=0;C<y.length;C++){var L=y[C];if(f.neighboringTiles&&f.neighboringTiles[L]){var D=this.getTileByID(L);j(f,D),j(D,f)}}function j(G,te){G.needsHillshadePrepare=!0;var de=te.tileID.canonical.x-G.tileID.canonical.x,_e=te.tileID.canonical.y-G.tileID.canonical.y,me=Math.pow(2,G.tileID.canonical.z),Oe=te.tileID.key;de===0&&_e===0||Math.abs(_e)>1||(Math.abs(de)>1&&(Math.abs(de+me)===1?de+=me:Math.abs(de-me)===1&&(de-=me)),te.dem&&G.dem&&(G.dem.backfillBorder(te.dem,de,_e),G.neighboringTiles&&G.neighboringTiles[Oe]&&(G.neighboringTiles[Oe].backfilled=!0)))}},p.prototype.getTile=function(f){return this.getTileByID(f.key)},p.prototype.getTileByID=function(f){return this._tiles[f]},p.prototype._retainLoadedChildren=function(f,y,C,L){for(var D in this._tiles){var j=this._tiles[D];if(!(L[D]||!j.hasData()||j.tileID.overscaledZ<=y||j.tileID.overscaledZ>C)){for(var G=j.tileID;j&&j.tileID.overscaledZ>y+1;){var te=j.tileID.scaledTo(j.tileID.overscaledZ-1);(j=this._tiles[te.key])&&j.hasData()&&(G=te)}for(var de=G;de.overscaledZ>y;)if(f[(de=de.scaledTo(de.overscaledZ-1)).key]){L[G.key]=G;break}}}},p.prototype.findLoadedParent=function(f,y){if(f.key in this._loadedParentTiles){var C=this._loadedParentTiles[f.key];return C&&C.tileID.overscaledZ>=y?C:null}for(var L=f.overscaledZ-1;L>=y;L--){var D=f.scaledTo(L),j=this._getLoadedTile(D);if(j)return j}},p.prototype._getLoadedTile=function(f){var y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)},p.prototype.updateCacheSize=function(f){var y=Math.ceil(f.width/this._source.tileSize)+1,C=Math.ceil(f.height/this._source.tileSize)+1,L=Math.floor(y*C*5),D=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,L):L;this._cache.setMaxSize(D)},p.prototype.handleWrapJump=function(f){var y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){var C={};for(var L in this._tiles){var D=this._tiles[L];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+y),C[D.tileID.key]=D}for(var j in this._tiles=C,this._timers)clearTimeout(this._timers[j]),delete this._timers[j];for(var G in this._tiles)this._setTileReloadTimer(G,this._tiles[G])}},p.prototype.update=function(f){var y=this;if(this.transform=f,this._sourceLoaded&&!this._paused){var C;this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?C=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Tt){return new o.OverscaledTileID(Tt.canonical.z,Tt.wrap,Tt.canonical.z,Tt.canonical.x,Tt.canonical.y)}):(C=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(C=C.filter(function(Tt){return y._source.hasTile(Tt)}))):C=[];var L=f.coveringZoomLevel(this._source),D=Math.max(L-p.maxOverzooming,this._source.minzoom),j=Math.max(L+p.maxUnderzooming,this._source.minzoom),G=this._updateRetainedTiles(C,L);if(Ve(this._source.type)){for(var te={},de={},_e=0,me=Object.keys(G);_e<me.length;_e+=1){var Oe=me[_e],Pe=G[Oe],Ne=this._tiles[Oe];if(Ne&&!(Ne.fadeEndTime&&Ne.fadeEndTime<=o.browser.now())){var Te=this.findLoadedParent(Pe,D);Te&&(this._addTile(Te.tileID),te[Te.tileID.key]=Te.tileID),de[Oe]=Pe}}for(var ze in this._retainLoadedChildren(de,L,j,G),te)G[ze]||(this._coveredTiles[ze]=!0,G[ze]=te[ze])}for(var We in G)this._tiles[We].clearFadeHold();for(var et=0,At=o.keysDifference(this._tiles,G);et<At.length;et+=1){var ht=At[et],gt=this._tiles[ht];gt.hasSymbolBuckets&&!gt.holdingForFade()?gt.setHoldDuration(this.map._fadeDuration):gt.hasSymbolBuckets&&!gt.symbolFadeFinished()||this._removeTile(ht)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)},p.prototype._updateRetainedTiles=function(f,y){for(var C={},L={},D=Math.max(y-p.maxOverzooming,this._source.minzoom),j=Math.max(y+p.maxUnderzooming,this._source.minzoom),G={},te=0,de=f;te<de.length;te+=1){var _e=de[te],me=this._addTile(_e);C[_e.key]=_e,me.hasData()||y<this._source.maxzoom&&(G[_e.key]=_e)}this._retainLoadedChildren(G,y,j,C);for(var Oe=0,Pe=f;Oe<Pe.length;Oe+=1){var Ne=Pe[Oe],Te=this._tiles[Ne.key];if(!Te.hasData()){if(y+1>this._source.maxzoom){var ze=Ne.children(this._source.maxzoom)[0],We=this.getTile(ze);if(We&&We.hasData()){C[ze.key]=ze;continue}}else{var et=Ne.children(this._source.maxzoom);if(C[et[0].key]&&C[et[1].key]&&C[et[2].key]&&C[et[3].key])continue}for(var At=Te.wasRequested(),ht=Ne.overscaledZ-1;ht>=D;--ht){var gt=Ne.scaledTo(ht);if(L[gt.key]||(L[gt.key]=!0,!(Te=this.getTile(gt))&&At&&(Te=this._addTile(gt)),Te&&(C[gt.key]=gt,At=Te.wasRequested(),Te.hasData())))break}}}return C},p.prototype._updateLoadedParentTileCache=function(){for(var f in this._loadedParentTiles={},this._tiles){for(var y=[],C=void 0,L=this._tiles[f].tileID;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){C=this._loadedParentTiles[L.key];break}y.push(L.key);var D=L.scaledTo(L.overscaledZ-1);if(C=this._getLoadedTile(D))break;L=D}for(var j=0,G=y;j<G.length;j+=1)this._loadedParentTiles[G[j]]=C}},p.prototype._addTile=function(f){var y=this._tiles[f.key];if(y)return y;(y=this._cache.getAndRemove(f))&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));var C=Boolean(y);return C||(y=new o.Tile(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,f.key,y.state))),y?(y.uses++,this._tiles[f.key]=y,C||this._source.fire(new o.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(f,y){var C=this;f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);var L=y.getExpiryTimeout();L&&(this._timers[f]=setTimeout(function(){C._reloadTile(f,"expired"),delete C._timers[f]},L))},p.prototype._removeTile=function(f){var y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var f in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(f);this._cache.reset()},p.prototype.tilesIn=function(f,y,C){var L=this,D=[],j=this.transform;if(!j)return D;for(var G=C?j.getCameraQueryGeometry(f):f,te=f.map(function(ht){return j.pointCoordinate(ht)}),de=G.map(function(ht){return j.pointCoordinate(ht)}),_e=this.getIds(),me=1/0,Oe=1/0,Pe=-1/0,Ne=-1/0,Te=0,ze=de;Te<ze.length;Te+=1){var We=ze[Te];me=Math.min(me,We.x),Oe=Math.min(Oe,We.y),Pe=Math.max(Pe,We.x),Ne=Math.max(Ne,We.y)}for(var et=function(ht){var gt=L._tiles[_e[ht]];if(!gt.holdingForFade()){var Tt=gt.tileID,zt=Math.pow(2,j.zoom-gt.tileID.overscaledZ),Ft=y*gt.queryPadding*o.EXTENT/gt.tileSize/zt,tn=[Tt.getTilePoint(new o.MercatorCoordinate(me,Oe)),Tt.getTilePoint(new o.MercatorCoordinate(Pe,Ne))];if(tn[0].x-Ft<o.EXTENT&&tn[0].y-Ft<o.EXTENT&&tn[1].x+Ft>=0&&tn[1].y+Ft>=0){var mn=te.map(function(kn){return Tt.getTilePoint(kn)}),Pn=de.map(function(kn){return Tt.getTilePoint(kn)});D.push({tile:gt,tileID:Tt,queryGeometry:mn,cameraQueryGeometry:Pn,scale:zt})}}},At=0;At<_e.length;At++)et(At);return D},p.prototype.getVisibleCoordinates=function(f){for(var y=this,C=this.getRenderableIds(f).map(function(G){return y._tiles[G].tileID}),L=0,D=C;L<D.length;L+=1){var j=D[L];j.posMatrix=this.transform.calculatePosMatrix(j.toUnwrapped())}return C},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ve(this._source.type))for(var f in this._tiles){var y=this._tiles[f];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=o.browser.now())return!0}return!1},p.prototype.setFeatureState=function(f,y,C){this._state.updateState(f=f||"_geojsonTileLayer",y,C)},p.prototype.removeFeatureState=function(f,y,C){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,C)},p.prototype.getFeatureState=function(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(f,y,C){var L=this._tiles[f];L&&L.setDependencies(y,C)},p.prototype.reloadTilesForDependencies=function(f,y){for(var C in this._tiles)this._tiles[C].hasDependency(f,y)&&this._reloadTile(C,"reloading");this._cache.filter(function(L){return!L.hasDependency(f,y)})},p}(o.Evented);function oe(c,p){var f=Math.abs(2*c.wrap)-+(c.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return c.overscaledZ-p.overscaledZ||y-f||p.canonical.y-c.canonical.y||p.canonical.x-c.canonical.x}function Ve(c){return c==="raster"||c==="image"||c==="video"}function lt(){return new o.window.Worker(Kt.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var Qe="mapboxgl_preloaded_worker_pool",A=function(){this.active={}};A.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<A.workerCount;)this.workers.push(new lt);return this.active[c]=!0,this.workers.slice()},A.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},A.prototype.isPreloaded=function(){return!!this.active[Qe]},A.prototype.numActive=function(){return Object.keys(this.active).length};var ye,Lt=Math.floor(o.browser.hardwareConcurrency/2);function jt(){return ye||(ye=new A),ye}function ct(c,p){var f={};for(var y in c)y!=="ref"&&(f[y]=c[y]);return o.refProperties.forEach(function(C){C in p&&(f[C]=p[C])}),f}function It(c){c=c.slice();for(var p=Object.create(null),f=0;f<c.length;f++)p[c[f].id]=c[f];for(var y=0;y<c.length;y++)"ref"in c[y]&&(c[y]=ct(c[y],p[c[y].ref]));return c}A.workerCount=Math.max(Math.min(Lt,6),1);var xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hn(c,p,f){f.push({command:xt.addSource,args:[c,p[c]]})}function fn(c,p,f){p.push({command:xt.removeSource,args:[c]}),f[c]=!0}function Qt(c,p,f,y){fn(c,f,y),hn(c,p,f)}function Ar(c,p,f){var y;for(y in c[f])if(c[f].hasOwnProperty(y)&&y!=="data"&&!o.deepEqual(c[f][y],p[f][y]))return!1;for(y in p[f])if(p[f].hasOwnProperty(y)&&y!=="data"&&!o.deepEqual(c[f][y],p[f][y]))return!1;return!0}function Jn(c,p,f,y,C,L){var D;for(D in p=p||{},c=c||{})c.hasOwnProperty(D)&&(o.deepEqual(c[D],p[D])||f.push({command:L,args:[y,D,p[D],C]}));for(D in p)p.hasOwnProperty(D)&&!c.hasOwnProperty(D)&&(o.deepEqual(c[D],p[D])||f.push({command:L,args:[y,D,p[D],C]}))}function Rr(c){return c.id}function mr(c,p){return c[p.id]=p,c}var sr=function(c,p){this.reset(c,p)};sr.prototype.reset=function(c,p){this.points=c||[],this._distances=[0];for(var f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},sr.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=o.clamp(c,0,1);for(var p=1,f=this._distances[p],y=c*this.paddedLength+this.padding;f<y&&p<this._distances.length;)f=this._distances[++p];var C=p-1,L=this._distances[C],D=f-L,j=D>0?(y-L)/D:0;return this.points[C].mult(1-j).add(this.points[p].mult(j))};var yr=function(c,p,f){var y=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(c/f),this.yCellCount=Math.ceil(p/f);for(var L=0;L<this.xCellCount*this.yCellCount;L++)y.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function Ai(c,p,f,y,C){var L=o.create();return p?(o.scale(L,L,[1/C,1/C,1]),f||o.rotateZ(L,L,y.angle)):o.multiply(L,y.labelPlaneMatrix,c),L}function br(c,p,f,y,C){if(p){var L=o.clone(c);return o.scale(L,L,[C,C,1]),f||o.rotateZ(L,L,-y.angle),L}return y.glCoordMatrix}function Xt(c,p){var f=[c.x,c.y,0,1];ua(f,f,p);var y=f[3];return{point:new o.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function Ge(c,p){return .5+c/p*.5}function wn(c,p){var f=c[0]/c[3],y=c[1]/c[3];return f>=-p[0]&&f<=p[0]&&y>=-p[1]&&y<=p[1]}function al(c,p,f,y,C,L,D,j){var G=y?c.textSizeData:c.iconSizeData,te=o.evaluateSizeForZoom(G,f.transform.zoom),de=[256/f.width*2+1,256/f.height*2+1],_e=y?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;_e.clear();for(var me=c.lineVertexArray,Oe=y?c.text.placedSymbolArray:c.icon.placedSymbolArray,Pe=f.transform.width/f.transform.height,Ne=!1,Te=0;Te<Oe.length;Te++){var ze=Oe.get(Te);if(ze.hidden||ze.writingMode===o.WritingMode.vertical&&!Ne)as(ze.numGlyphs,_e);else{Ne=!1;var We=[ze.anchorX,ze.anchorY,0,1];if(o.transformMat4(We,We,p),wn(We,de)){var et=Ge(f.transform.cameraToCenterDistance,We[3]),At=o.evaluateSizeForFeature(G,te,ze),ht=D?At/et:At*et,gt=new o.Point(ze.anchorX,ze.anchorY),Tt=Xt(gt,C).point,zt={},Ft=Qo(ze,ht,!1,j,p,C,L,c.glyphOffsetArray,me,_e,Tt,gt,zt,Pe);Ne=Ft.useVertical,(Ft.notEnoughRoom||Ne||Ft.needsFlipping&&Qo(ze,ht,!0,j,p,C,L,c.glyphOffsetArray,me,_e,Tt,gt,zt,Pe).notEnoughRoom)&&as(ze.numGlyphs,_e)}else as(ze.numGlyphs,_e)}}y?c.text.dynamicLayoutVertexBuffer.updateData(_e):c.icon.dynamicLayoutVertexBuffer.updateData(_e)}function zc(c,p,f,y,C,L,D,j,G,te,de){var _e=j.glyphStartIndex+j.numGlyphs,me=j.lineStartIndex,Oe=j.lineStartIndex+j.lineLength,Pe=p.getoffsetX(j.glyphStartIndex),Ne=p.getoffsetX(_e-1),Te=Re(c*Pe,f,y,C,L,D,j.segment,me,Oe,G,te,de);if(!Te)return null;var ze=Re(c*Ne,f,y,C,L,D,j.segment,me,Oe,G,te,de);return ze?{first:Te,last:ze}:null}function oo(c,p,f,y){return c===o.WritingMode.horizontal&&Math.abs(f.y-p.y)>Math.abs(f.x-p.x)*y?{useVertical:!0}:(c===o.WritingMode.vertical?p.y<f.y:p.x>f.x)?{needsFlipping:!0}:null}function Qo(c,p,f,y,C,L,D,j,G,te,de,_e,me,Oe){var Pe,Ne=p/24,Te=c.lineOffsetX*Ne,ze=c.lineOffsetY*Ne;if(c.numGlyphs>1){var We=c.glyphStartIndex+c.numGlyphs,et=c.lineStartIndex,At=c.lineStartIndex+c.lineLength,ht=zc(Ne,j,Te,ze,f,de,_e,c,G,L,me);if(!ht)return{notEnoughRoom:!0};var gt=Xt(ht.first.point,D).point,Tt=Xt(ht.last.point,D).point;if(y&&!f){var zt=oo(c.writingMode,gt,Tt,Oe);if(zt)return zt}Pe=[ht.first];for(var Ft=c.glyphStartIndex+1;Ft<We-1;Ft++)Pe.push(Re(Ne*j.getoffsetX(Ft),Te,ze,f,de,_e,c.segment,et,At,G,L,me));Pe.push(ht.last)}else{if(y&&!f){var tn=Xt(_e,C).point,mn=c.lineStartIndex+c.segment+1,Pn=new o.Point(G.getx(mn),G.gety(mn)),kn=Xt(Pn,C),vr=kn.signedDistanceFromCamera>0?kn.point:Nc(_e,Pn,tn,1,C),pn=oo(c.writingMode,tn,vr,Oe);if(pn)return pn}var Rn=Re(Ne*j.getoffsetX(c.glyphStartIndex),Te,ze,f,de,_e,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,G,L,me);if(!Rn)return{notEnoughRoom:!0};Pe=[Rn]}for(var tr=0,Vn=Pe;tr<Vn.length;tr+=1){var zn=Vn[tr];o.addDynamicAttributes(te,zn.point,zn.angle)}return{}}function Nc(c,p,f,y,C){var L=Xt(c.add(c.sub(p)._unit()),C).point,D=f.sub(L);return f.add(D._mult(y/D.mag()))}function Re(c,p,f,y,C,L,D,j,G,te,de,_e){var me=y?c-p:c+p,Oe=me>0?1:-1,Pe=0;y&&(Oe*=-1,Pe=Math.PI),Oe<0&&(Pe+=Math.PI);for(var Ne=Oe>0?j+D:j+D+1,Te=C,ze=C,We=0,et=0,At=Math.abs(me),ht=[];We+et<=At;){if((Ne+=Oe)<j||Ne>=G)return null;if(ze=Te,ht.push(Te),(Te=_e[Ne])===void 0){var gt=new o.Point(te.getx(Ne),te.gety(Ne)),Tt=Xt(gt,de);if(Tt.signedDistanceFromCamera>0)Te=_e[Ne]=Tt.point;else{var zt=Ne-Oe;Te=Nc(We===0?L:new o.Point(te.getx(zt),te.gety(zt)),gt,ze,At-We+1,de)}}We+=et,et=ze.dist(Te)}var Ft=(At-We)/et,tn=Te.sub(ze),mn=tn.mult(Ft)._add(ze);mn._add(tn._unit()._perp()._mult(f*Oe));var Pn=Pe+Math.atan2(Te.y-ze.y,Te.x-ze.x);return ht.push(mn),{point:mn,angle:Pn,path:ht}}yr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},yr.prototype.insert=function(c,p,f,y,C){this._forEachCell(p,f,y,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(C)},yr.prototype.insertCircle=function(c,p,f,y){this._forEachCell(p-y,f-y,p+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(f),this.circles.push(y)},yr.prototype._insertBoxCell=function(c,p,f,y,C,L){this.boxCells[C].push(L)},yr.prototype._insertCircleCell=function(c,p,f,y,C,L){this.circleCells[C].push(L)},yr.prototype._query=function(c,p,f,y,C,L){if(f<0||c>this.width||y<0||p>this.height)return!C&&[];var D=[];if(c<=0&&p<=0&&this.width<=f&&this.height<=y){if(C)return!0;for(var j=0;j<this.boxKeys.length;j++)D.push({key:this.boxKeys[j],x1:this.bboxes[4*j],y1:this.bboxes[4*j+1],x2:this.bboxes[4*j+2],y2:this.bboxes[4*j+3]});for(var G=0;G<this.circleKeys.length;G++){var te=this.circles[3*G],de=this.circles[3*G+1],_e=this.circles[3*G+2];D.push({key:this.circleKeys[G],x1:te-_e,y1:de-_e,x2:te+_e,y2:de+_e})}return L?D.filter(L):D}return this._forEachCell(c,p,f,y,this._queryCell,D,{hitTest:C,seenUids:{box:{},circle:{}}},L),C?D.length>0:D},yr.prototype._queryCircle=function(c,p,f,y,C){var L=c-f,D=c+f,j=p-f,G=p+f;if(D<0||L>this.width||G<0||j>this.height)return!y&&[];var te=[];return this._forEachCell(L,j,D,G,this._queryCellCircle,te,{hitTest:y,circle:{x:c,y:p,radius:f},seenUids:{box:{},circle:{}}},C),y?te.length>0:te},yr.prototype.query=function(c,p,f,y,C){return this._query(c,p,f,y,!1,C)},yr.prototype.hitTest=function(c,p,f,y,C){return this._query(c,p,f,y,!0,C)},yr.prototype.hitTestCircle=function(c,p,f,y){return this._queryCircle(c,p,f,!0,y)},yr.prototype._queryCell=function(c,p,f,y,C,L,D,j){var G=D.seenUids,te=this.boxCells[C];if(te!==null)for(var de=this.bboxes,_e=0,me=te;_e<me.length;_e+=1){var Oe=me[_e];if(!G.box[Oe]){G.box[Oe]=!0;var Pe=4*Oe;if(c<=de[Pe+2]&&p<=de[Pe+3]&&f>=de[Pe+0]&&y>=de[Pe+1]&&(!j||j(this.boxKeys[Oe]))){if(D.hitTest)return L.push(!0),!0;L.push({key:this.boxKeys[Oe],x1:de[Pe],y1:de[Pe+1],x2:de[Pe+2],y2:de[Pe+3]})}}}var Ne=this.circleCells[C];if(Ne!==null)for(var Te=this.circles,ze=0,We=Ne;ze<We.length;ze+=1){var et=We[ze];if(!G.circle[et]){G.circle[et]=!0;var At=3*et;if(this._circleAndRectCollide(Te[At],Te[At+1],Te[At+2],c,p,f,y)&&(!j||j(this.circleKeys[et]))){if(D.hitTest)return L.push(!0),!0;var ht=Te[At],gt=Te[At+1],Tt=Te[At+2];L.push({key:this.circleKeys[et],x1:ht-Tt,y1:gt-Tt,x2:ht+Tt,y2:gt+Tt})}}}},yr.prototype._queryCellCircle=function(c,p,f,y,C,L,D,j){var G=D.circle,te=D.seenUids,de=this.boxCells[C];if(de!==null)for(var _e=this.bboxes,me=0,Oe=de;me<Oe.length;me+=1){var Pe=Oe[me];if(!te.box[Pe]){te.box[Pe]=!0;var Ne=4*Pe;if(this._circleAndRectCollide(G.x,G.y,G.radius,_e[Ne+0],_e[Ne+1],_e[Ne+2],_e[Ne+3])&&(!j||j(this.boxKeys[Pe])))return L.push(!0),!0}}var Te=this.circleCells[C];if(Te!==null)for(var ze=this.circles,We=0,et=Te;We<et.length;We+=1){var At=et[We];if(!te.circle[At]){te.circle[At]=!0;var ht=3*At;if(this._circlesCollide(ze[ht],ze[ht+1],ze[ht+2],G.x,G.y,G.radius)&&(!j||j(this.circleKeys[At])))return L.push(!0),!0}}},yr.prototype._forEachCell=function(c,p,f,y,C,L,D,j){for(var G=this._convertToXCellCoord(c),te=this._convertToYCellCoord(p),de=this._convertToXCellCoord(f),_e=this._convertToYCellCoord(y),me=G;me<=de;me++)for(var Oe=te;Oe<=_e;Oe++)if(C.call(this,c,p,f,y,this.xCellCount*Oe+me,L,D,j))return},yr.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},yr.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},yr.prototype._circlesCollide=function(c,p,f,y,C,L){var D=y-c,j=C-p,G=f+L;return G*G>D*D+j*j},yr.prototype._circleAndRectCollide=function(c,p,f,y,C,L,D){var j=(L-y)/2,G=Math.abs(c-(y+j));if(G>j+f)return!1;var te=(D-C)/2,de=Math.abs(p-(C+te));if(de>te+f)return!1;if(G<=j||de<=te)return!0;var _e=G-j,me=de-te;return _e*_e+me*me<=f*f};var ao=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function as(c,p){for(var f=0;f<c;f++){var y=p.length;p.resize(y+4),p.float32.set(ao,3*y)}}function ua(c,p,f){var y=p[0],C=p[1];return c[0]=f[0]*y+f[4]*C+f[12],c[1]=f[1]*y+f[5]*C+f[13],c[3]=f[3]*y+f[7]*C+f[15],c}var si=function(c,p,f){p===void 0&&(p=new yr(c.width+200,c.height+200,25)),f===void 0&&(f=new yr(c.width+200,c.height+200,25)),this.transform=c,this.grid=p,this.ignoredGrid=f,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function ca(c,p,f){return p*(o.EXTENT/(c.tileSize*Math.pow(2,f-c.tileID.overscaledZ)))}si.prototype.placeCollisionBox=function(c,p,f,y,C){var L=this.projectAndGetPerspectiveRatio(y,c.anchorPointX,c.anchorPointY),D=f*L.perspectiveRatio,j=c.x1*D+L.point.x,G=c.y1*D+L.point.y,te=c.x2*D+L.point.x,de=c.y2*D+L.point.y;return!this.isInsideGrid(j,G,te,de)||!p&&this.grid.hitTest(j,G,te,de,C)?{box:[],offscreen:!1}:{box:[j,G,te,de],offscreen:this.isOffscreen(j,G,te,de)}},si.prototype.placeCollisionCircles=function(c,p,f,y,C,L,D,j,G,te,de,_e,me){var Oe=[],Pe=new o.Point(p.anchorX,p.anchorY),Ne=Xt(Pe,L),Te=Ge(this.transform.cameraToCenterDistance,Ne.signedDistanceFromCamera),ze=(te?C/Te:C*Te)/o.ONE_EM,We=Xt(Pe,D).point,et=zc(ze,y,p.lineOffsetX*ze,p.lineOffsetY*ze,!1,We,Pe,p,f,D,{}),At=!1,ht=!1,gt=!0;if(et){for(var Tt=.5*_e*Te+me,zt=new o.Point(-100,-100),Ft=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),tn=new sr,mn=et.first,Pn=et.last,kn=[],vr=mn.path.length-1;vr>=1;vr--)kn.push(mn.path[vr]);for(var pn=1;pn<Pn.path.length;pn++)kn.push(Pn.path[pn]);var Rn=2.5*Tt;if(j){var tr=kn.map(function(As){return Xt(As,j)});kn=tr.some(function(As){return As.signedDistanceFromCamera<=0})?[]:tr.map(function(As){return As.point})}var Vn=[];if(kn.length>0){for(var zn=kn[0].clone(),Un=kn[0].clone(),Dn=1;Dn<kn.length;Dn++)zn.x=Math.min(zn.x,kn[Dn].x),zn.y=Math.min(zn.y,kn[Dn].y),Un.x=Math.max(Un.x,kn[Dn].x),Un.y=Math.max(Un.y,kn[Dn].y);Vn=zn.x>=zt.x&&Un.x<=Ft.x&&zn.y>=zt.y&&Un.y<=Ft.y?[kn]:Un.x<zt.x||zn.x>Ft.x||Un.y<zt.y||zn.y>Ft.y?[]:o.clipLine([kn],zt.x,zt.y,Ft.x,Ft.y)}for(var An=0,Hr=Vn;An<Hr.length;An+=1){var Vi;tn.reset(Hr[An],.25*Tt),Vi=tn.length<=.5*Tt?1:Math.ceil(tn.paddedLength/Rn)+1;for(var Ii=0;Ii<Vi;Ii++){var so=Ii/Math.max(Vi-1,1),Xi=tn.lerp(so),fi=Xi.x+100,na=Xi.y+100;Oe.push(fi,na,Tt,0);var Hi=fi-Tt,ra=na-Tt,wa=fi+Tt,dl=na+Tt;if(gt=gt&&this.isOffscreen(Hi,ra,wa,dl),ht=ht||this.isInsideGrid(Hi,ra,wa,dl),!c&&this.grid.hitTestCircle(fi,na,Tt,de)&&(At=!0,!G))return{circles:[],offscreen:!1,collisionDetected:At}}}}return{circles:!G&&At||!ht?[]:Oe,offscreen:gt,collisionDetected:At}},si.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],f=1/0,y=1/0,C=-1/0,L=-1/0,D=0,j=c;D<j.length;D+=1){var G=j[D],te=new o.Point(G.x+100,G.y+100);f=Math.min(f,te.x),y=Math.min(y,te.y),C=Math.max(C,te.x),L=Math.max(L,te.y),p.push(te)}for(var de={},_e={},me=0,Oe=this.grid.query(f,y,C,L).concat(this.ignoredGrid.query(f,y,C,L));me<Oe.length;me+=1){var Pe=Oe[me],Ne=Pe.key;if(de[Ne.bucketInstanceId]===void 0&&(de[Ne.bucketInstanceId]={}),!de[Ne.bucketInstanceId][Ne.featureIndex]){var Te=[new o.Point(Pe.x1,Pe.y1),new o.Point(Pe.x2,Pe.y1),new o.Point(Pe.x2,Pe.y2),new o.Point(Pe.x1,Pe.y2)];o.polygonIntersectsPolygon(p,Te)&&(de[Ne.bucketInstanceId][Ne.featureIndex]=!0,_e[Ne.bucketInstanceId]===void 0&&(_e[Ne.bucketInstanceId]=[]),_e[Ne.bucketInstanceId].push(Ne.featureIndex))}}return _e},si.prototype.insertCollisionBox=function(c,p,f,y,C){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:C},c[0],c[1],c[2],c[3])},si.prototype.insertCollisionCircles=function(c,p,f,y,C){for(var L=p?this.ignoredGrid:this.grid,D={bucketInstanceId:f,featureIndex:y,collisionGroupID:C},j=0;j<c.length;j+=4)L.insertCircle(D,c[j],c[j+1],c[j+2])},si.prototype.projectAndGetPerspectiveRatio=function(c,p,f){var y=[p,f,0,1];return ua(y,y,c),{point:new o.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},si.prototype.isOffscreen=function(c,p,f,y){return f<100||c>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},si.prototype.isInsideGrid=function(c,p,f,y){return f>=0&&c<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},si.prototype.getViewportMatrix=function(){var c=o.identity([]);return o.translate(c,c,[-100,-100,0]),c};var Co=function(c,p,f,y){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):y&&f?1:0,this.placed=f};Co.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Wo=function(c,p,f,y,C){this.text=new Co(c?c.text:null,p,f,C),this.icon=new Co(c?c.icon:null,p,y,C)};Wo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ss=function(c,p,f){this.text=c,this.icon=p,this.skipFade=f},Mf=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},zi=function(c,p,f,y,C){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=C},ki=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function ls(c,p,f,y,C){var L=o.getAnchorAlignment(c),D=-(L.horizontalAlign-.5)*p,j=-(L.verticalAlign-.5)*f,G=o.evaluateVariableOffset(c,y);return new o.Point(D+G[0]*C,j+G[1]*C)}function wi(c,p,f,y,C,L){var D=c.x1,j=c.x2,G=c.y1,te=c.y2,de=c.anchorPointX,_e=c.anchorPointY,me=new o.Point(p,f);return y&&me._rotate(C?L:-L),{x1:D+me.x,y1:G+me.y,x2:j+me.x,y2:te+me.y,anchorPointX:de,anchorPointY:_e}}ki.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:function(f){return f.collisionGroupID===p}}}return this.collisionGroups[c]};var Ni=function(c,p,f,y){this.transform=c.clone(),this.collisionIndex=new si(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ki(f),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Rl(c,p,f,y,C){c.emplaceBack(p?1:0,f?1:0,y||0,C||0),c.emplaceBack(p?1:0,f?1:0,y||0,C||0),c.emplaceBack(p?1:0,f?1:0,y||0,C||0),c.emplaceBack(p?1:0,f?1:0,y||0,C||0)}Ni.prototype.getBucketParts=function(c,p,f,y){var C=f.getBucket(p),L=f.latestFeatureIndex;if(C&&L&&p.id===C.layerIds[0]){var D=f.collisionBoxArray,j=C.layers[0].layout,G=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),te=f.tileSize/o.EXTENT,de=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),_e=j.get("text-pitch-alignment")==="map",me=j.get("text-rotation-alignment")==="map",Oe=ca(f,1,this.transform.zoom),Pe=Ai(de,_e,me,this.transform,Oe),Ne=null;if(_e){var Te=br(de,_e,me,this.transform,Oe);Ne=o.multiply([],this.transform.labelPlaneMatrix,Te)}this.retainedQueryData[C.bucketInstanceId]=new zi(C.bucketInstanceId,L,C.sourceLayerIndex,C.index,f.tileID);var ze={bucket:C,layout:j,posMatrix:de,textLabelPlaneMatrix:Pe,labelToScreenMatrix:Ne,scale:G,textPixelRatio:te,holdingForFade:f.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(C.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(y)for(var We=0,et=C.sortKeyRanges;We<et.length;We+=1){var At=et[We];c.push({sortKey:At.sortKey,symbolInstanceStart:At.symbolInstanceStart,symbolInstanceEnd:At.symbolInstanceEnd,parameters:ze})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:ze})}},Ni.prototype.attemptAnchorPlacement=function(c,p,f,y,C,L,D,j,G,te,de,_e,me,Oe,Pe){var Ne,Te=[_e.textOffset0,_e.textOffset1],ze=ls(c,f,y,Te,C),We=this.collisionIndex.placeCollisionBox(wi(p,ze.x,ze.y,L,D,this.transform.angle),de,j,G,te.predicate);if(!Pe||this.collisionIndex.placeCollisionBox(wi(Pe,ze.x,ze.y,L,D,this.transform.angle),de,j,G,te.predicate).box.length!==0)return We.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID].text&&(Ne=this.prevPlacement.variableOffsets[_e.crossTileID].anchor),this.variableOffsets[_e.crossTileID]={textOffset:Te,width:f,height:y,anchor:c,textBoxScale:C,prevAnchor:Ne},this.markUsedJustification(me,c,_e,Oe),me.allowVerticalPlacement&&(this.markUsedOrientation(me,Oe,_e),this.placedOrientations[_e.crossTileID]=Oe),{shift:ze,placedGlyphBoxes:We}):void 0},Ni.prototype.placeLayerBucketPart=function(c,p,f){var y=this,C=c.parameters,L=C.bucket,D=C.layout,j=C.posMatrix,G=C.textLabelPlaneMatrix,te=C.labelToScreenMatrix,de=C.textPixelRatio,_e=C.holdingForFade,me=C.collisionBoxArray,Oe=C.partiallyEvaluatedTextSize,Pe=C.collisionGroup,Ne=D.get("text-optional"),Te=D.get("icon-optional"),ze=D.get("text-allow-overlap"),We=D.get("icon-allow-overlap"),et=D.get("text-rotation-alignment")==="map",At=D.get("text-pitch-alignment")==="map",ht=D.get("icon-text-fit")!=="none",gt=D.get("symbol-z-order")==="viewport-y",Tt=ze&&(We||!L.hasIconData()||Te),zt=We&&(ze||!L.hasTextData()||Ne);!L.collisionArrays&&me&&L.deserializeCollisionBoxes(me);var Ft=function(pn,Rn){if(!p[pn.crossTileID])if(_e)y.placements[pn.crossTileID]=new ss(!1,!1,!1);else{var tr,Vn=!1,zn=!1,Un=!0,Dn=null,An={box:null,offscreen:null},Hr={box:null,offscreen:null},Vi=null,Ii=null,so=0,Xi=0,fi=0;Rn.textFeatureIndex?so=Rn.textFeatureIndex:pn.useRuntimeCollisionCircles&&(so=pn.featureIndex),Rn.verticalTextFeatureIndex&&(Xi=Rn.verticalTextFeatureIndex);var na=Rn.textBox;if(na){var Hi=function(Yi){var qi=o.WritingMode.horizontal;if(L.allowVerticalPlacement&&!Yi&&y.prevPlacement){var ha=y.prevPlacement.placedOrientations[pn.crossTileID];ha&&(y.placedOrientations[pn.crossTileID]=ha,y.markUsedOrientation(L,qi=ha,pn))}return qi},ra=function(Yi,qi){if(L.allowVerticalPlacement&&pn.numVerticalGlyphVertices>0&&Rn.verticalTextBox)for(var ha=0,uc=L.writingModes;ha<uc.length&&(uc[ha]===o.WritingMode.vertical?(An=qi(),Hr=An):An=Yi(),!(An&&An.box&&An.box.length));ha+=1);else An=Yi()};if(D.get("text-variable-anchor")){var wa=D.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[pn.crossTileID]){var dl=y.prevPlacement.variableOffsets[pn.crossTileID];wa.indexOf(dl.anchor)>0&&(wa=wa.filter(function(Yi){return Yi!==dl.anchor})).unshift(dl.anchor)}var As=function(Yi,qi,ha){for(var uc=Yi.x2-Yi.x1,Hp=Yi.y2-Yi.y1,Yh=pn.textBoxScale,Vf=ht&&!We?qi:null,Hf={box:[],offscreen:!1},Jh=ze?2*wa.length:wa.length,xu=0;xu<Jh;++xu){var qf=y.attemptAnchorPlacement(wa[xu%wa.length],Yi,uc,Hp,Yh,et,At,de,j,Pe,xu>=wa.length,pn,L,ha,Vf);if(qf&&(Hf=qf.placedGlyphBoxes)&&Hf.box&&Hf.box.length){Vn=!0,Dn=qf.shift;break}}return Hf};ra(function(){return As(na,Rn.iconBox,o.WritingMode.horizontal)},function(){var Yi=Rn.verticalTextBox;return L.allowVerticalPlacement&&!(An&&An.box&&An.box.length)&&pn.numVerticalGlyphVertices>0&&Yi?As(Yi,Rn.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),An&&(Vn=An.box,Un=An.offscreen);var jf=Hi(An&&An.box);if(!Vn&&y.prevPlacement){var vu=y.prevPlacement.variableOffsets[pn.crossTileID];vu&&(y.variableOffsets[pn.crossTileID]=vu,y.markUsedJustification(L,vu.anchor,pn,jf))}}else{var ml=function(Yi,qi){var ha=y.collisionIndex.placeCollisionBox(Yi,ze,de,j,Pe.predicate);return ha&&ha.box&&ha.box.length&&(y.markUsedOrientation(L,qi,pn),y.placedOrientations[pn.crossTileID]=qi),ha};ra(function(){return ml(na,o.WritingMode.horizontal)},function(){var Yi=Rn.verticalTextBox;return L.allowVerticalPlacement&&pn.numVerticalGlyphVertices>0&&Yi?ml(Yi,o.WritingMode.vertical):{box:null,offscreen:null}}),Hi(An&&An.box&&An.box.length)}}if(Vn=(tr=An)&&tr.box&&tr.box.length>0,Un=tr&&tr.offscreen,pn.useRuntimeCollisionCircles){var _u=L.text.placedSymbolArray.get(pn.centerJustifiedTextSymbolIndex),$f=o.evaluateSizeForFeature(L.textSizeData,Oe,_u),rf=D.get("text-padding");Vi=y.collisionIndex.placeCollisionCircles(ze,_u,L.lineVertexArray,L.glyphOffsetArray,$f,j,G,te,f,At,Pe.predicate,pn.collisionCircleDiameter,rf),Vn=ze||Vi.circles.length>0&&!Vi.collisionDetected,Un=Un&&Vi.offscreen}if(Rn.iconFeatureIndex&&(fi=Rn.iconFeatureIndex),Rn.iconBox){var Qa=function(Yi){var qi=ht&&Dn?wi(Yi,Dn.x,Dn.y,et,At,y.transform.angle):Yi;return y.collisionIndex.placeCollisionBox(qi,We,de,j,Pe.predicate)};zn=Hr&&Hr.box&&Hr.box.length&&Rn.verticalIconBox?(Ii=Qa(Rn.verticalIconBox)).box.length>0:(Ii=Qa(Rn.iconBox)).box.length>0,Un=Un&&Ii.offscreen}var of=Ne||pn.numHorizontalGlyphVertices===0&&pn.numVerticalGlyphVertices===0,go=Te||pn.numIconVertices===0;if(of||go?go?of||(zn=zn&&Vn):Vn=zn&&Vn:zn=Vn=zn&&Vn,Vn&&tr&&tr.box&&y.collisionIndex.insertCollisionBox(tr.box,D.get("text-ignore-placement"),L.bucketInstanceId,Hr&&Hr.box&&Xi?Xi:so,Pe.ID),zn&&Ii&&y.collisionIndex.insertCollisionBox(Ii.box,D.get("icon-ignore-placement"),L.bucketInstanceId,fi,Pe.ID),Vi&&(Vn&&y.collisionIndex.insertCollisionCircles(Vi.circles,D.get("text-ignore-placement"),L.bucketInstanceId,so,Pe.ID),f)){var Xs=L.bucketInstanceId,Ps=y.collisionCircleArrays[Xs];Ps===void 0&&(Ps=y.collisionCircleArrays[Xs]=new Mf);for(var lc=0;lc<Vi.circles.length;lc+=4)Ps.circles.push(Vi.circles[lc+0]),Ps.circles.push(Vi.circles[lc+1]),Ps.circles.push(Vi.circles[lc+2]),Ps.circles.push(Vi.collisionDetected?1:0)}y.placements[pn.crossTileID]=new ss(Vn||Tt,zn||zt,Un||L.justReloaded),p[pn.crossTileID]=!0}};if(gt)for(var tn=L.getSortedSymbolIndexes(this.transform.angle),mn=tn.length-1;mn>=0;--mn){var Pn=tn[mn];Ft(L.symbolInstances.get(Pn),L.collisionArrays[Pn])}else for(var kn=c.symbolInstanceStart;kn<c.symbolInstanceEnd;kn++)Ft(L.symbolInstances.get(kn),L.collisionArrays[kn]);if(f&&L.bucketInstanceId in this.collisionCircleArrays){var vr=this.collisionCircleArrays[L.bucketInstanceId];o.invert(vr.invProjMatrix,j),vr.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1},Ni.prototype.markUsedJustification=function(c,p,f,y){var C;C=y===o.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[o.getAnchorJustification(p)];for(var L=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];L<D.length;L+=1){var j=D[L];j>=0&&(c.text.placedSymbolArray.get(j).crossTileID=C>=0&&j!==C?0:f.crossTileID)}},Ni.prototype.markUsedOrientation=function(c,p,f){for(var y=p===o.WritingMode.horizontal||p===o.WritingMode.horizontalOnly?p:0,C=p===o.WritingMode.vertical?p:0,L=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];L<D.length;L+=1)c.text.placedSymbolArray.get(D[L]).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=C)},Ni.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,f=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(c):1,C=p?p.opacities:{},L=p?p.variableOffsets:{},D=p?p.placedOrientations:{};for(var j in this.placements){var G=this.placements[j],te=C[j];te?(this.opacities[j]=new Wo(te,y,G.text,G.icon),f=f||G.text!==te.text.placed||G.icon!==te.icon.placed):(this.opacities[j]=new Wo(null,y,G.text,G.icon,G.skipFade),f=f||G.text||G.icon)}for(var de in C){var _e=C[de];if(!this.opacities[de]){var me=new Wo(_e,y,!1,!1);me.isHidden()||(this.opacities[de]=me,f=f||_e.text.placed||_e.icon.placed)}}for(var Oe in L)this.variableOffsets[Oe]||!this.opacities[Oe]||this.opacities[Oe].isHidden()||(this.variableOffsets[Oe]=L[Oe]);for(var Pe in D)this.placedOrientations[Pe]||!this.opacities[Pe]||this.opacities[Pe].isHidden()||(this.placedOrientations[Pe]=D[Pe]);f?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)},Ni.prototype.updateLayerOpacities=function(c,p){for(var f={},y=0,C=p;y<C.length;y+=1){var L=C[y],D=L.getBucket(c);D&&L.latestFeatureIndex&&c.id===D.layerIds[0]&&this.updateBucketOpacities(D,f,L.collisionBoxArray)}},Ni.prototype.updateBucketOpacities=function(c,p,f){var y=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var C=c.layers[0].layout,L=new Wo(null,0,!1,!1,!0),D=C.get("text-allow-overlap"),j=C.get("icon-allow-overlap"),G=C.get("text-variable-anchor"),te=C.get("text-rotation-alignment")==="map",de=C.get("text-pitch-alignment")==="map",_e=C.get("icon-text-fit")!=="none",me=new Wo(null,0,D&&(j||!c.hasIconData()||C.get("icon-optional")),j&&(D||!c.hasTextData()||C.get("text-optional")),!0);!c.collisionArrays&&f&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(f);for(var Oe=function(ze,We,et){for(var At=0;At<We/4;At++)ze.opacityVertexArray.emplaceBack(et)},Pe=function(ze){var We=c.symbolInstances.get(ze),et=We.numHorizontalGlyphVertices,At=We.numVerticalGlyphVertices,ht=We.crossTileID,gt=y.opacities[ht];p[ht]?gt=L:gt||(y.opacities[ht]=gt=me),p[ht]=!0;var Tt=We.numIconVertices>0,zt=y.placedOrientations[We.crossTileID],Ft=zt===o.WritingMode.vertical,tn=zt===o.WritingMode.horizontal||zt===o.WritingMode.horizontalOnly;if(et>0||At>0){var mn=Rf(gt.text);Oe(c.text,et,Ft?Zu:mn),Oe(c.text,At,tn?Zu:mn);var Pn=gt.text.isHidden();[We.rightJustifiedTextSymbolIndex,We.centerJustifiedTextSymbolIndex,We.leftJustifiedTextSymbolIndex].forEach(function(An){An>=0&&(c.text.placedSymbolArray.get(An).hidden=Pn||Ft?1:0)}),We.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(We.verticalPlacedTextSymbolIndex).hidden=Pn||tn?1:0);var kn=y.variableOffsets[We.crossTileID];kn&&y.markUsedJustification(c,kn.anchor,We,zt);var vr=y.placedOrientations[We.crossTileID];vr&&(y.markUsedJustification(c,"left",We,vr),y.markUsedOrientation(c,vr,We))}if(Tt){var pn=Rf(gt.icon),Rn=!(_e&&We.verticalPlacedIconSymbolIndex&&Ft);We.placedIconSymbolIndex>=0&&(Oe(c.icon,We.numIconVertices,Rn?pn:Zu),c.icon.placedSymbolArray.get(We.placedIconSymbolIndex).hidden=gt.icon.isHidden()),We.verticalPlacedIconSymbolIndex>=0&&(Oe(c.icon,We.numVerticalIconVertices,Rn?Zu:pn),c.icon.placedSymbolArray.get(We.verticalPlacedIconSymbolIndex).hidden=gt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var tr=c.collisionArrays[ze];if(tr){var Vn=new o.Point(0,0);if(tr.textBox||tr.verticalTextBox){var zn=!0;if(G){var Un=y.variableOffsets[ht];Un?(Vn=ls(Un.anchor,Un.width,Un.height,Un.textOffset,Un.textBoxScale),te&&Vn._rotate(de?y.transform.angle:-y.transform.angle)):zn=!1}tr.textBox&&Rl(c.textCollisionBox.collisionVertexArray,gt.text.placed,!zn||Ft,Vn.x,Vn.y),tr.verticalTextBox&&Rl(c.textCollisionBox.collisionVertexArray,gt.text.placed,!zn||tn,Vn.x,Vn.y)}var Dn=Boolean(!tn&&tr.verticalIconBox);tr.iconBox&&Rl(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,Dn,_e?Vn.x:0,_e?Vn.y:0),tr.verticalIconBox&&Rl(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,!Dn,_e?Vn.x:0,_e?Vn.y:0)}}},Ne=0;Ne<c.symbolInstances.length;Ne++)Pe(Ne);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var Te=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Te.invProjMatrix,c.placementViewportMatrix=Te.viewportMatrix,c.collisionCircleArray=Te.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},Ni.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ni.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},Ni.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},Ni.prototype.stillRecent=function(c,p){var f=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*f>c},Ni.prototype.setStale=function(){this.stale=!0};var Ku=Math.pow(2,25),Rp=Math.pow(2,24),Dp=Math.pow(2,17),ci=Math.pow(2,16),Uc=Math.pow(2,9),Lf=Math.pow(2,8),Xh=Math.pow(2,1);function Rf(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var p=c.placed?1:0,f=Math.floor(127*c.opacity);return f*Ku+p*Rp+f*Dp+p*ci+f*Uc+p*Lf+f*Xh+p}var Zu=0,Xu=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Xu.prototype.continuePlacement=function(c,p,f,y,C){for(var L=this._bucketParts;this._currentTileIndex<c.length;)if(p.getBucketParts(L,y,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort(function(D,j){return D.sortKey-j.sortKey}));this._currentPartIndex<L.length;)if(p.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,C())return!0;return!1};var Dl=function(c,p,f,y,C,L,D){this.placement=new Ni(c,C,L,D),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1};Dl.prototype.isDone=function(){return this._done},Dl.prototype.continuePlacement=function(c,p,f){for(var y=this,C=o.browser.now(),L=function(){var G=o.browser.now()-C;return!y._forceFullPlacement&&G>2};this._currentPlacementIndex>=0;){var D=p[c[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=j)&&(!D.maxzoom||D.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new Xu(D)),this._inProgressLayer.continuePlacement(f[D.source],this.placement,this._showCollisionBoxes,D,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Dl.prototype.commit=function(c){return this.placement.commit(c),this.placement};var jc=512/o.EXTENT/2,$c=function(c,p,f){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(var y=0;y<p.length;y++){var C=p.get(y),L=C.key;this.indexedSymbolInstances[L]||(this.indexedSymbolInstances[L]=[]),this.indexedSymbolInstances[L].push({crossTileID:C.crossTileID,coord:this.getScaledCoordinates(C,c)})}};$c.prototype.getScaledCoordinates=function(c,p){var f=jc/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*o.EXTENT+c.anchorX)*f),y:Math.floor((p.canonical.y*o.EXTENT+c.anchorY)*f)}},$c.prototype.findMatches=function(c,p,f){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),C=0;C<c.length;C++){var L=c.get(C);if(!L.crossTileID){var D=this.indexedSymbolInstances[L.key];if(D)for(var j=this.getScaledCoordinates(L,p),G=0,te=D;G<te.length;G+=1){var de=te[G];if(Math.abs(de.coord.x-j.x)<=y&&Math.abs(de.coord.y-j.y)<=y&&!f[de.crossTileID]){f[de.crossTileID]=!0,L.crossTileID=de.crossTileID;break}}}}};var Yu=function(){this.maxCrossTileID=0};Yu.prototype.generate=function(){return++this.maxCrossTileID};var Ko=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ko.prototype.handleWrapJump=function(c){var p=Math.round((c-this.lng)/360);if(p!==0)for(var f in this.indexes){var y=this.indexes[f],C={};for(var L in y){var D=y[L];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+p),C[D.tileID.key]=D}this.indexes[f]=C}this.lng=c},Ko.prototype.addBucket=function(c,p,f){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var C=this.usedCrossTileIDs[c.overscaledZ];for(var L in this.indexes){var D=this.indexes[L];if(Number(L)>c.overscaledZ)for(var j in D){var G=D[j];G.tileID.isChildOf(c)&&G.findMatches(p.symbolInstances,c,C)}else{var te=D[c.scaledTo(Number(L)).key];te&&te.findMatches(p.symbolInstances,c,C)}}for(var de=0;de<p.symbolInstances.length;de++){var _e=p.symbolInstances.get(de);_e.crossTileID||(_e.crossTileID=f.generate(),C[_e.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new $c(c,p.symbolInstances,p.bucketInstanceId),!0},Ko.prototype.removeBucketCrossTileIDs=function(c,p){for(var f in p.indexedSymbolInstances)for(var y=0,C=p.indexedSymbolInstances[f];y<C.length;y+=1)delete this.usedCrossTileIDs[c][C[y].crossTileID]},Ko.prototype.removeStaleBuckets=function(c){var p=!1;for(var f in this.indexes){var y=this.indexes[f];for(var C in y)c[y[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[C]),delete y[C],p=!0)}return p};var sl=function(){this.layerIndexes={},this.crossTileIDs=new Yu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sl.prototype.addLayer=function(c,p,f){var y=this.layerIndexes[c.id];y===void 0&&(y=this.layerIndexes[c.id]=new Ko);var C=!1,L={};y.handleWrapJump(f);for(var D=0,j=p;D<j.length;D+=1){var G=j[D],te=G.getBucket(c);te&&c.id===te.layerIds[0]&&(te.bucketInstanceId||(te.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(G.tileID,te,this.crossTileIDs)&&(C=!0),L[te.bucketInstanceId]=!0)}return y.removeStaleBuckets(L)&&(C=!0),C},sl.prototype.pruneUnusedLayers=function(c){var p={};for(var f in c.forEach(function(y){p[y]=!0}),this.layerIndexes)p[f]||delete this.layerIndexes[f]};var Es=function(c,p){return o.emitValidationErrors(c,p&&p.filter(function(f){return f.identifier!=="source.canvas"}))},Vc=o.pick(xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ll=o.pick(xt,["setCenter","setZoom","setBearing","setPitch"]),Nr=function(){var c={},p=o.styleSpec.$version;for(var f in o.styleSpec.$root){var y,C=o.styleSpec.$root[f];C.required&&(y=f==="version"?p:C.type==="array"?[]:{})!=null&&(c[f]=y)}return c}(),Qn=function(c){function p(f,y){var C=this;y===void 0&&(y={}),c.call(this),this.map=f,this.dispatcher=new Ot(jt(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new De(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new yt(256,512),this.crossTileSymbolIndex=new sl,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var L=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(D){L.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},function(j,G){if(o.triggerPluginCompletionEvent(j),G&&G.every(function(de){return de}))for(var te in L.sourceCaches)L.sourceCaches[te].reload()})}),this.on("data",function(D){if(D.dataType==="source"&&D.sourceDataType==="metadata"){var j=C.sourceCaches[D.sourceId];if(j){var G=j.getSource();if(G&&G.vectorLayerIds)for(var te in C._layers){var de=C._layers[te];de.source===G.id&&C._validateLayer(de)}}}})}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.loadURL=function(f,y){var C=this;y===void 0&&(y={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var L=typeof y.validate=="boolean"?y.validate:!o.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,y.accessToken);var D=this.map._requestManager.transformRequest(f,o.ResourceType.Style);this._request=o.getJSON(D,function(j,G){C._request=null,j?C.fire(new o.ErrorEvent(j)):G&&C._load(G,L)})},p.prototype.loadJSON=function(f,y){var C=this;y===void 0&&(y={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){C._request=null,C._load(f,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(Nr,!1)},p.prototype._load=function(f,y){if(!y||!Es(this,o.validateStyle(f))){for(var C in this._loaded=!0,this.stylesheet=f,f.sources)this.addSource(C,f.sources[C],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs);var L=It(this.stylesheet.layers);this._order=L.map(function(te){return te.id}),this._layers={},this._serializedLayers={};for(var D=0,j=L;D<j.length;D+=1){var G=j[D];(G=o.createStyleLayer(G)).setEventedParent(this,{layer:{id:G.id}}),this._layers[G.id]=G,this._serializedLayers[G.id]=G.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new at(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},p.prototype._loadSprite=function(f){var y=this;this._spriteRequest=function(C,L,D){var j,G,te,de=o.browser.devicePixelRatio>1?"@2x":"",_e=o.getJSON(L.transformRequest(L.normalizeSpriteURL(C,de,".json"),o.ResourceType.SpriteJSON),function(Pe,Ne){_e=null,te||(te=Pe,j=Ne,Oe())}),me=o.getImage(L.transformRequest(L.normalizeSpriteURL(C,de,".png"),o.ResourceType.SpriteImage),function(Pe,Ne){me=null,te||(te=Pe,G=Ne,Oe())});function Oe(){if(te)D(te);else if(j&&G){var Pe=o.browser.getImageData(G),Ne={};for(var Te in j){var ze=j[Te],We=ze.width,et=ze.height,At=ze.x,ht=ze.y,gt=ze.sdf,Tt=ze.pixelRatio,zt=ze.stretchX,Ft=ze.stretchY,tn=ze.content,mn=new o.RGBAImage({width:We,height:et});o.RGBAImage.copy(Pe,mn,{x:At,y:ht},{x:0,y:0},{width:We,height:et}),Ne[Te]={data:mn,pixelRatio:Tt,sdf:gt,stretchX:zt,stretchY:Ft,content:tn}}D(null,Ne)}}return{cancel:function(){_e&&(_e.cancel(),_e=null),me&&(me.cancel(),me=null)}}}(f,this.map._requestManager,function(C,L){if(y._spriteRequest=null,C)y.fire(new o.ErrorEvent(C));else if(L)for(var D in L)y.imageManager.addImage(D,L[D]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new o.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(f){var y=this.sourceCaches[f.source];if(y){var C=f.sourceLayer;if(C){var L=y.getSource();(L.type==="geojson"||L.vectorLayerIds&&L.vectorLayerIds.indexOf(C)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+C+'" does not exist on source "'+L.id+'" as specified by style layer "'+f.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(f){for(var y=[],C=0,L=f;C<L.length;C+=1){var D=this._layers[L[C]];D.type!=="custom"&&y.push(D.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(f){if(this._loaded){var y=this._changed;if(this._changed){var C=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);for(var D in(C.length||L.length)&&this._updateWorkerLayers(C,L),this._updatedSources){var j=this._updatedSources[D];j==="reload"?this._reloadSource(D):j==="clear"&&this._clearSource(D)}for(var G in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[G].updateTransitions(f);this.light.updateTransitions(f),this._resetUpdates()}var te={};for(var de in this.sourceCaches){var _e=this.sourceCaches[de];te[de]=_e.used,_e.used=!1}for(var me=0,Oe=this._order;me<Oe.length;me+=1){var Pe=this._layers[Oe[me]];Pe.recalculate(f,this._availableImages),!Pe.isHidden(f.zoom)&&Pe.source&&(this.sourceCaches[Pe.source].used=!0)}for(var Ne in te){var Te=this.sourceCaches[Ne];te[Ne]!==Te.used&&Te.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ne}))}this.light.recalculate(f),this.z=f.zoom,y&&this.fire(new o.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var f=Object.keys(this._changedImages);if(f.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}},p.prototype._updateWorkerLayers=function(f,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(f){var y=this;if(this._checkLoaded(),Es(this,o.validateStyle(f)))return!1;(f=o.clone$1(f)).layers=It(f.layers);var C=function(D,j){if(!D)return[{command:xt.setStyle,args:[j]}];var G=[];try{if(!o.deepEqual(D.version,j.version))return[{command:xt.setStyle,args:[j]}];o.deepEqual(D.center,j.center)||G.push({command:xt.setCenter,args:[j.center]}),o.deepEqual(D.zoom,j.zoom)||G.push({command:xt.setZoom,args:[j.zoom]}),o.deepEqual(D.bearing,j.bearing)||G.push({command:xt.setBearing,args:[j.bearing]}),o.deepEqual(D.pitch,j.pitch)||G.push({command:xt.setPitch,args:[j.pitch]}),o.deepEqual(D.sprite,j.sprite)||G.push({command:xt.setSprite,args:[j.sprite]}),o.deepEqual(D.glyphs,j.glyphs)||G.push({command:xt.setGlyphs,args:[j.glyphs]}),o.deepEqual(D.transition,j.transition)||G.push({command:xt.setTransition,args:[j.transition]}),o.deepEqual(D.light,j.light)||G.push({command:xt.setLight,args:[j.light]});var te={},de=[];(function(me,Oe,Pe,Ne){var Te;for(Te in Oe=Oe||{},me=me||{})me.hasOwnProperty(Te)&&(Oe.hasOwnProperty(Te)||fn(Te,Pe,Ne));for(Te in Oe)Oe.hasOwnProperty(Te)&&(me.hasOwnProperty(Te)?o.deepEqual(me[Te],Oe[Te])||(me[Te].type==="geojson"&&Oe[Te].type==="geojson"&&Ar(me,Oe,Te)?Pe.push({command:xt.setGeoJSONSourceData,args:[Te,Oe[Te].data]}):Qt(Te,Oe,Pe,Ne)):hn(Te,Oe,Pe))})(D.sources,j.sources,de,te);var _e=[];D.layers&&D.layers.forEach(function(me){te[me.source]?G.push({command:xt.removeLayer,args:[me.id]}):_e.push(me)}),G=G.concat(de),function(me,Oe,Pe){Oe=Oe||[];var Ne,Te,ze,We,et,At,ht,gt=(me=me||[]).map(Rr),Tt=Oe.map(Rr),zt=me.reduce(mr,{}),Ft=Oe.reduce(mr,{}),tn=gt.slice(),mn=Object.create(null);for(Ne=0,Te=0;Ne<gt.length;Ne++)Ft.hasOwnProperty(ze=gt[Ne])?Te++:(Pe.push({command:xt.removeLayer,args:[ze]}),tn.splice(tn.indexOf(ze,Te),1));for(Ne=0,Te=0;Ne<Tt.length;Ne++)tn[tn.length-1-Ne]!==(ze=Tt[Tt.length-1-Ne])&&(zt.hasOwnProperty(ze)?(Pe.push({command:xt.removeLayer,args:[ze]}),tn.splice(tn.lastIndexOf(ze,tn.length-Te),1)):Te++,Pe.push({command:xt.addLayer,args:[Ft[ze],At=tn[tn.length-Ne]]}),tn.splice(tn.length-Ne,0,ze),mn[ze]=!0);for(Ne=0;Ne<Tt.length;Ne++)if(We=zt[ze=Tt[Ne]],et=Ft[ze],!mn[ze]&&!o.deepEqual(We,et))if(o.deepEqual(We.source,et.source)&&o.deepEqual(We["source-layer"],et["source-layer"])&&o.deepEqual(We.type,et.type)){for(ht in Jn(We.layout,et.layout,Pe,ze,null,xt.setLayoutProperty),Jn(We.paint,et.paint,Pe,ze,null,xt.setPaintProperty),o.deepEqual(We.filter,et.filter)||Pe.push({command:xt.setFilter,args:[ze,et.filter]}),o.deepEqual(We.minzoom,et.minzoom)&&o.deepEqual(We.maxzoom,et.maxzoom)||Pe.push({command:xt.setLayerZoomRange,args:[ze,et.minzoom,et.maxzoom]}),We)We.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(We[ht],et[ht],Pe,ze,ht.slice(6),xt.setPaintProperty):o.deepEqual(We[ht],et[ht])||Pe.push({command:xt.setLayerProperty,args:[ze,ht,et[ht]]}));for(ht in et)et.hasOwnProperty(ht)&&!We.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(We[ht],et[ht],Pe,ze,ht.slice(6),xt.setPaintProperty):o.deepEqual(We[ht],et[ht])||Pe.push({command:xt.setLayerProperty,args:[ze,ht,et[ht]]}))}else Pe.push({command:xt.removeLayer,args:[ze]}),At=tn[tn.lastIndexOf(ze)+1],Pe.push({command:xt.addLayer,args:[et,At]})}(_e,j.layers,G)}catch(me){console.warn("Unable to compute style diff:",me),G=[{command:xt.setStyle,args:[j]}]}return G}(this.serialize(),f).filter(function(D){return!(D.command in ll)});if(C.length===0)return!1;var L=C.filter(function(D){return!(D.command in Vc)});if(L.length>0)throw new Error("Unimplemented: "+L.map(function(D){return D.command}).join(", ")+".");return C.forEach(function(D){D.command!=="setTransition"&&y[D.command].apply(y,D.args)}),this.stylesheet=f,!0},p.prototype.addImage=function(f,y){if(this.getImage(f))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,y),this._afterImageUpdated(f)},p.prototype.updateImage=function(f,y){this.imageManager.updateImage(f,y)},p.prototype.getImage=function(f){return this.imageManager.getImage(f)},p.prototype.removeImage=function(f){if(!this.getImage(f))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)},p.prototype._afterImageUpdated=function(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(f,y,C){var L=this;if(C===void 0&&(C={}),this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(o.validateStyle.source,"sources."+f,y,null,C))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var D=this.sourceCaches[f]=new xe(f,y,this.dispatcher);D.style=this,D.setEventedParent(this,function(){return{isSourceLoaded:L.loaded(),source:D.serialize(),sourceId:f}}),D.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===f)return this.fire(new o.ErrorEvent(new Error('Source "'+f+'" cannot be removed while layer "'+y+'" is using it.')));var C=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],C.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),C.setEventedParent(null),C.clearTiles(),C.onRemove&&C.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(f,y){this._checkLoaded(),this.sourceCaches[f].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()},p.prototype.addLayer=function(f,y,C){C===void 0&&(C={}),this._checkLoaded();var L=f.id;if(this.getLayer(L))this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" already exists on this map')));else{var D;if(f.type==="custom"){if(Es(this,o.validateCustomStyleLayer(f)))return;D=o.createStyleLayer(f)}else{if(typeof f.source=="object"&&(this.addSource(L,f.source),f=o.clone$1(f),f=o.extend(f,{source:L})),this._validate(o.validateStyle.layer,"layers."+L,f,{arrayIndex:-1},C))return;D=o.createStyleLayer(f),this._validateLayer(D),D.setEventedParent(this,{layer:{id:L}}),this._serializedLayers[D.id]=D.serialize()}var j=y?this._order.indexOf(y):this._order.length;if(y&&j===-1)this.fire(new o.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice(j,0,L),this._layerOrderChanged=!0,this._layers[L]=D,this._removedLayers[L]&&D.source&&D.type!=="custom"){var G=this._removedLayers[L];delete this._removedLayers[L],G.type!==D.type?this._updatedSources[D.source]="clear":(this._updatedSources[D.source]="reload",this.sourceCaches[D.source].pause())}this._updateLayer(D),D.onAdd&&D.onAdd(this.map)}}},p.prototype.moveLayer=function(f,y){if(this._checkLoaded(),this._changed=!0,this._layers[f]){if(f!==y){var C=this._order.indexOf(f);this._order.splice(C,1);var L=y?this._order.indexOf(y):this._order.length;y&&L===-1?this.fire(new o.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(L,0,f),this._layerOrderChanged=!0)}}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(f){this._checkLoaded();var y=this._layers[f];if(y){y.setEventedParent(null);var C=this._order.indexOf(f);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(f){return this._layers[f]},p.prototype.hasLayer=function(f){return f in this._layers},p.prototype.setLayerZoomRange=function(f,y,C){this._checkLoaded();var L=this.getLayer(f);L?L.minzoom===y&&L.maxzoom===C||(y!=null&&(L.minzoom=y),C!=null&&(L.maxzoom=C),this._updateLayer(L)):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(f,y,C){C===void 0&&(C={}),this._checkLoaded();var L=this.getLayer(f);if(L){if(!o.deepEqual(L.filter,y))return y==null?(L.filter=void 0,void this._updateLayer(L)):void(this._validate(o.validateStyle.filter,"layers."+L.id+".filter",y,null,C)||(L.filter=o.clone$1(y),this._updateLayer(L)))}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(f){return o.clone$1(this.getLayer(f).filter)},p.prototype.setLayoutProperty=function(f,y,C,L){L===void 0&&(L={}),this._checkLoaded();var D=this.getLayer(f);D?o.deepEqual(D.getLayoutProperty(y),C)||(D.setLayoutProperty(y,C,L),this._updateLayer(D)):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(f,y){var C=this.getLayer(f);if(C)return C.getLayoutProperty(y);this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(f,y,C,L){L===void 0&&(L={}),this._checkLoaded();var D=this.getLayer(f);D?o.deepEqual(D.getPaintProperty(y),C)||(D.setPaintProperty(y,C,L)&&this._updateLayer(D),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(f,y){return this.getLayer(f).getPaintProperty(y)},p.prototype.setFeatureState=function(f,y){this._checkLoaded();var C=f.source,L=f.sourceLayer,D=this.sourceCaches[C];if(D!==void 0){var j=D.getSource().type;j==="geojson"&&L?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):j!=="vector"||L?(f.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),D.setFeatureState(L,f.id,y)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(f,y){this._checkLoaded();var C=f.source,L=this.sourceCaches[C];if(L!==void 0){var D=L.getSource().type,j=D==="vector"?f.sourceLayer:void 0;D!=="vector"||j?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):L.removeFeatureState(j,f.id,y):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(f){this._checkLoaded();var y=f.source,C=f.sourceLayer,L=this.sourceCaches[y];if(L!==void 0){if(L.getSource().type!=="vector"||C)return f.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),L.getFeatureState(C,f.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(f){return f.serialize()}),layers:this._serializeLayers(this._order)},function(f){return f!==void 0})},p.prototype._updateLayer=function(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(f){for(var y=this,C=function(zt){return y._layers[zt].type==="fill-extrusion"},L={},D=[],j=this._order.length-1;j>=0;j--){var G=this._order[j];if(C(G)){L[G]=j;for(var te=0,de=f;te<de.length;te+=1){var _e=de[te][G];if(_e)for(var me=0,Oe=_e;me<Oe.length;me+=1)D.push(Oe[me])}}}D.sort(function(zt,Ft){return Ft.intersectionZ-zt.intersectionZ});for(var Pe=[],Ne=this._order.length-1;Ne>=0;Ne--){var Te=this._order[Ne];if(C(Te))for(var ze=D.length-1;ze>=0;ze--){var We=D[ze].feature;if(L[We.layer.id]<Ne)break;Pe.push(We),D.pop()}else for(var et=0,At=f;et<At.length;et+=1){var ht=At[et][Te];if(ht)for(var gt=0,Tt=ht;gt<Tt.length;gt+=1)Pe.push(Tt[gt].feature)}}return Pe},p.prototype.queryRenderedFeatures=function(f,y,C){y&&y.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var L={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var D=0,j=y.layers;D<j.length;D+=1){var G=j[D],te=this._layers[G];if(!te)return this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be queried for features."))),[];L[te.source]=!0}}var de=[];for(var _e in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!L[_e]||de.push(En(this.sourceCaches[_e],this._layers,this._serializedLayers,f,y,C));return this.placement&&de.push(function(me,Oe,Pe,Ne,Te,ze,We){for(var et={},At=ze.queryRenderedSymbols(Ne),ht=[],gt=0,Tt=Object.keys(At).map(Number);gt<Tt.length;gt+=1)ht.push(We[Tt[gt]]);ht.sort(jn);for(var zt=function(){var kn=tn[Ft],vr=kn.featureIndex.lookupSymbolFeatures(At[kn.bucketInstanceId],Oe,kn.bucketIndex,kn.sourceLayerIndex,Te.filter,Te.layers,Te.availableImages,me);for(var pn in vr){var Rn=et[pn]=et[pn]||[],tr=vr[pn];tr.sort(function(Un,Dn){var An=kn.featureSortOrder;if(An){var Hr=An.indexOf(Un.featureIndex);return An.indexOf(Dn.featureIndex)-Hr}return Dn.featureIndex-Un.featureIndex});for(var Vn=0,zn=tr;Vn<zn.length;Vn+=1)Rn.push(zn[Vn])}},Ft=0,tn=ht;Ft<tn.length;Ft+=1)zt();var mn=function(kn){et[kn].forEach(function(vr){var pn=vr.feature,Rn=Pe[me[kn].source].getFeatureState(pn.layer["source-layer"],pn.id);pn.source=pn.layer.source,pn.layer["source-layer"]&&(pn.sourceLayer=pn.layer["source-layer"]),pn.state=Rn})};for(var Pn in et)mn(Pn);return et}(this._layers,this._serializedLayers,this.sourceCaches,f,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(de)},p.prototype.querySourceFeatures=function(f,y){y&&y.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var C=this.sourceCaches[f];return C?function(L,D){for(var j=L.getRenderableIds().map(function(Oe){return L.getTileByID(Oe)}),G=[],te={},de=0;de<j.length;de++){var _e=j[de],me=_e.tileID.canonical.key;te[me]||(te[me]=!0,_e.querySourceFeatures(G,D))}return G}(C,y):[]},p.prototype.addSourceType=function(f,y,C){return p.getSourceType(f)?C(new Error('A source type called "'+f+'" already exists.')):(p.setSourceType(f,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:y.workerSourceURL},C):C(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(f,y){y===void 0&&(y={}),this._checkLoaded();var C=this.light.getLight(),L=!1;for(var D in f)if(!o.deepEqual(f[D],C[D])){L=!0;break}if(L){var j={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions(j)}},p.prototype._validate=function(f,y,C,L,D){return D===void 0&&(D={}),(!D||D.validate!==!1)&&Es(this,f.call(o.validateStyle,o.extend({key:y,style:this.serialize(),value:C,styleSpec:o.styleSpec},L)))},p.prototype._remove=function(){for(var f in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[f].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(f){this.sourceCaches[f].clearTiles()},p.prototype._reloadSource=function(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()},p.prototype._updateSources=function(f){for(var y in this.sourceCaches)this.sourceCaches[y].update(f)},p.prototype._generateCollisionBoxes=function(){for(var f in this.sourceCaches)this._reloadSource(f)},p.prototype._updatePlacement=function(f,y,C,L,D){D===void 0&&(D=!1);for(var j=!1,G=!1,te={},de=0,_e=this._order;de<_e.length;de+=1){var me=this._layers[_e[de]];if(me.type==="symbol"){if(!te[me.source]){var Oe=this.sourceCaches[me.source];te[me.source]=Oe.getRenderableIds(!0).map(function(We){return Oe.getTileByID(We)}).sort(function(We,et){return et.tileID.overscaledZ-We.tileID.overscaledZ||(We.tileID.isLessThan(et.tileID)?-1:1)})}var Pe=this.crossTileSymbolIndex.addLayer(me,te[me.source],f.center.lng);j=j||Pe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((D=D||this._layerOrderChanged||C===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),f.zoom))&&(this.pauseablePlacement=new Dl(f,this._order,D,y,C,L,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),G=!0),j&&this.pauseablePlacement.placement.setStale()),G||j)for(var Ne=0,Te=this._order;Ne<Te.length;Ne+=1){var ze=this._layers[Te[Ne]];ze.type==="symbol"&&this.placement.updateLayerOpacities(ze,te[ze.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()},p.prototype.getImages=function(f,y,C){this.imageManager.getImages(y.icons,C),this._updateTilesForChangedImages();var L=this.sourceCaches[y.source];L&&L.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(f,y,C){this.glyphManager.getGlyphs(y.stacks,C)},p.prototype.getResource=function(f,y,C){return o.makeRequest(y,C)},p}(o.Evented);Qn.getSourceType=function(c){return vn[c]},Qn.setSourceType=function(c,p){vn[c]=p},Qn.registerForPluginStateChange=o.registerForPluginStateChange;var Do=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),kr=Dr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),au=Dr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Df=Dr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Hc=Dr(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Fp=Dr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),su=Dr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),lu=Dr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),yi=Dr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),uu=Dr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Us=Dr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),cu=Dr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),js=Dr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ti=Dr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Fl=Dr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),qc=Dr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Ki=Dr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Gc=Dr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),$s=Dr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Cs=Dr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),co=Dr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Bl=Dr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),fo=Dr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),us=Dr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ul=Dr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Zo=Dr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),fu=Dr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Dr(c,p){var f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),C=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=L?L.concat(C):C,j={};return{fragmentSource:c=c.replace(f,function(G,te,de,_e,me){return j[me]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
varying `+de+" "+_e+" "+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`}),vertexSource:p=p.replace(f,function(G,te,de,_e,me){var Oe=_e==="float"?"vec2":"vec4",Pe=me.match(/color/)?"color":Oe;return j[me]?te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
uniform lowp float u_`+me+`_t;
attribute `+de+" "+Oe+" a_"+me+`;
varying `+de+" "+_e+" "+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+me+`
    `+me+" = a_"+me+`;
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+me+`
    `+me+" = unpack_mix_"+Pe+"(a_"+me+", u_"+me+`_t);
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_`+me+`
uniform lowp float u_`+me+`_t;
attribute `+de+" "+Oe+" a_"+me+`;
#else
uniform `+de+" "+_e+" u_"+me+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = a_"+me+`;
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+me+`
    `+de+" "+_e+" "+me+" = unpack_mix_"+Pe+"(a_"+me+", u_"+me+`_t);
#else
    `+de+" "+_e+" "+me+" = u_"+me+`;
#endif
`}),staticAttributes:y,staticUniforms:D}}var ei=Object.freeze({__proto__:null,prelude:kr,background:au,backgroundPattern:Df,circle:Hc,clippingMask:Fp,heatmap:su,heatmapTexture:lu,collisionBox:yi,collisionCircle:uu,debug:Us,fill:cu,fillOutline:js,fillOutlinePattern:Ti,fillPattern:Fl,fillExtrusion:qc,fillExtrusionPattern:Ki,hillshadePrepare:Gc,hillshade:$s,line:Cs,lineGradient:co,linePattern:Bl,lineSDF:fo,raster:us,symbolIcon:ul,symbolSDF:Zo,symbolTextAndIcon:fu}),Ua=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ju(c){for(var p=[],f=0;f<c.length;f++)if(c[f]!==null){var y=c[f].split(" ");p.push(y.pop())}return p}Ua.prototype.bind=function(c,p,f,y,C,L,D,j){this.context=c;for(var G=this.boundPaintVertexBuffers.length!==y.length,te=0;!G&&te<y.length;te++)this.boundPaintVertexBuffers[te]!==y[te]&&(G=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===f&&!G&&this.boundIndexBuffer===C&&this.boundVertexOffset===L&&this.boundDynamicVertexBuffer===D&&this.boundDynamicVertexBuffer2===j?(c.bindVertexArrayOES.set(this.vao),D&&D.bind(),C&&C.dynamicDraw&&C.bind(),j&&j.bind()):this.freshBind(p,f,y,C,L,D,j)},Ua.prototype.freshBind=function(c,p,f,y,C,L,D){var j,G=c.numAttributes,te=this.context,de=te.gl;if(te.extVertexArrayObject)this.vao&&this.destroy(),this.vao=te.extVertexArrayObject.createVertexArrayOES(),te.bindVertexArrayOES.set(this.vao),j=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=C,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=D;else{j=te.currentNumAttributes||0;for(var _e=G;_e<j;_e++)de.disableVertexAttribArray(_e)}p.enableAttributes(de,c);for(var me=0,Oe=f;me<Oe.length;me+=1)Oe[me].enableAttributes(de,c);L&&L.enableAttributes(de,c),D&&D.enableAttributes(de,c),p.bind(),p.setVertexAttribPointers(de,c,C);for(var Pe=0,Ne=f;Pe<Ne.length;Pe+=1){var Te=Ne[Pe];Te.bind(),Te.setVertexAttribPointers(de,c,C)}L&&(L.bind(),L.setVertexAttribPointers(de,c,C)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(de,c,C)),te.currentNumAttributes=G},Ua.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var pu=function(c,p,f,y,C,L){var D=c.gl;this.program=D.createProgram();for(var j=Ju(f.staticAttributes),G=y?y.getBinderAttributes():[],te=j.concat(G),de=f.staticUniforms?Ju(f.staticUniforms):[],_e=y?y.getBinderUniforms():[],me=[],Oe=0,Pe=de.concat(_e);Oe<Pe.length;Oe+=1){var Ne=Pe[Oe];me.indexOf(Ne)<0&&me.push(Ne)}var Te=y?y.defines():[];L&&Te.push("#define OVERDRAW_INSPECTOR;");var ze=Te.concat(kr.fragmentSource,f.fragmentSource).join(`
`),We=Te.concat(kr.vertexSource,f.vertexSource).join(`
`),et=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(et,ze),D.compileShader(et),D.attachShader(this.program,et);var At=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(At,We),D.compileShader(At),D.attachShader(this.program,At),this.attributes={};var ht={};this.numAttributes=te.length;for(var gt=0;gt<this.numAttributes;gt++)te[gt]&&(D.bindAttribLocation(this.program,gt,te[gt]),this.attributes[te[gt]]=gt);D.linkProgram(this.program),D.deleteShader(At),D.deleteShader(et);for(var Tt=0;Tt<me.length;Tt++){var zt=me[Tt];if(zt&&!ht[zt]){var Ft=D.getUniformLocation(this.program,zt);Ft&&(ht[zt]=Ft)}}this.fixedUniforms=C(c,ht),this.binderUniforms=y?y.getUniforms(c,ht):[]}}};function Vs(c,p,f){var y=1/ca(f,1,p.transform.tileZoom),C=Math.pow(2,f.tileID.overscaledZ),L=f.tileSize*Math.pow(2,p.transform.tileZoom)/C,D=L*(f.tileID.canonical.x+f.tileID.wrap*C),j=L*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[D>>16,j>>16],u_pixel_coord_lower:[65535&D,65535&j]}}pu.prototype.draw=function(c,p,f,y,C,L,D,j,G,te,de,_e,me,Oe,Pe,Ne){var Te,ze=c.gl;if(!this.failedToCreate){for(var We in c.program.set(this.program),c.setDepthMode(f),c.setStencilMode(y),c.setColorMode(C),c.setCullFace(L),this.fixedUniforms)this.fixedUniforms[We].set(D[We]);Oe&&Oe.setUniforms(c,this.binderUniforms,_e,{zoom:me});for(var et=(Te={},Te[ze.LINES]=2,Te[ze.TRIANGLES]=3,Te[ze.LINE_STRIP]=1,Te)[p],At=0,ht=de.get();At<ht.length;At+=1){var gt=ht[At],Tt=gt.vaos||(gt.vaos={});(Tt[j]||(Tt[j]=new Ua)).bind(c,this,G,Oe?Oe.getPaintVertexBuffers():[],te,gt.vertexOffset,Pe,Ne),ze.drawElements(p,gt.primitiveLength*et,ze.UNSIGNED_SHORT,gt.primitiveOffset*et*2)}}};var Bp=function(c,p,f,y){var C=p.style.light,L=C.properties.get("position"),D=[L.x,L.y,L.z],j=o.create$1();C.properties.get("anchor")==="viewport"&&o.fromRotation(j,-p.transform.angle),o.transformMat3(D,D,j);var G=C.properties.get("color");return{u_matrix:c,u_lightpos:D,u_lightintensity:C.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+f,u_opacity:y}},ec=function(c,p,f,y,C,L,D){return o.extend(Bp(c,p,f,y),Vs(L,p,D),{u_height_factor:-Math.pow(2,C.overscaledZ)/D.tileSize/8})},cl=function(c){return{u_matrix:c}},Hs=function(c,p,f,y){return o.extend(cl(c),Vs(f,p,y))},qs=function(c,p){return{u_matrix:c,u_world:p}},zl=function(c,p,f,y,C){return o.extend(Hs(c,p,f,y),{u_world:C})},zp=function(c,p,f,y){var C,L,D=c.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var j=ca(f,1,D.zoom);C=!0,L=[j,j]}else C=!1,L=D.pixelsToGLUnits;return{u_camera_to_center_distance:D.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(p.posMatrix,f,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+C,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:L}},Qc=function(c,p,f){var y=ca(f,1,p.zoom),C=Math.pow(2,p.zoom-f.tileID.overscaledZ),L=f.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*C),p.pixelsToGLUnits[1]/(y*C)],u_overscale_factor:L}},fl=function(c,p,f){return{u_matrix:c,u_inv_matrix:p,u_camera_to_center_distance:f.cameraToCenterDistance,u_viewport_size:[f.width,f.height]}},tc=function(c,p,f){return f===void 0&&(f=1),{u_matrix:c,u_color:p,u_overlay:0,u_overlay_scale:f}},_a=function(c){return{u_matrix:c}},Nl=function(c,p,f,y){return{u_matrix:c,u_extrude_scale:ca(p,1,f),u_intensity:y}},Wc=function(c,p,f){var y=c.transform;return{u_matrix:ko(c,p,f),u_ratio:1/ca(p,1,y.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},nc=function(c,p,f,y){return o.extend(Wc(c,p,f),{u_image:0,u_image_height:y})},Vr=function(c,p,f,y){var C=c.transform,L=Ff(p,C);return{u_matrix:ko(c,p,f),u_texsize:p.imageAtlasTexture.size,u_ratio:1/ca(p,1,C.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[L,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},Kc=function(c,p,f,y,C){var L=c.lineAtlas,D=Ff(p,c.transform),j=f.layout.get("line-cap")==="round",G=L.getDash(y.from,j),te=L.getDash(y.to,j),de=G.width*C.fromScale,_e=te.width*C.toScale;return o.extend(Wc(c,p,f),{u_patternscale_a:[D/de,-G.height/2],u_patternscale_b:[D/_e,-te.height/2],u_sdfgamma:L.width/(256*Math.min(de,_e)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:G.y,u_tex_y_b:te.y,u_mix:C.t})};function Ff(c,p){return 1/ca(c,1,p.tileZoom)}function ko(c,p,f){return c.translatePosMatrix(p.tileID.posMatrix,p,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}var Zc=function(c,p,f,y,C){return{u_matrix:c,u_tl_parent:p,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*C.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:C.paint.get("raster-brightness-min"),u_brightness_high:C.paint.get("raster-brightness-max"),u_saturation_factor:(D=C.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(L=C.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:hu(C.paint.get("raster-hue-rotate"))};var L,D};function hu(c){c*=Math.PI/180;var p=Math.sin(c),f=Math.cos(c);return[(2*f+1)/3,(-Math.sqrt(3)*p-f+1)/3,(Math.sqrt(3)*p-f+1)/3]}var pl,Bf=function(c,p,f,y,C,L,D,j,G,te){var de=C.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:de.cameraToCenterDistance,u_pitch:de.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:de.width/de.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:D,u_coord_matrix:j,u_is_text:+G,u_pitch_with_map:+y,u_texsize:te,u_texture:0}},po=function(c,p,f,y,C,L,D,j,G,te,de){var _e=C.transform;return o.extend(Bf(c,p,f,y,C,L,D,j,G,te),{u_gamma_scale:y?Math.cos(_e._pitch)*_e.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+de})},Ui=function(c,p,f,y,C,L,D,j,G,te){return o.extend(po(c,p,f,y,C,L,D,j,!0,G,!0),{u_texsize_icon:te,u_texture_icon:1})},Xc=function(c,p,f){return{u_matrix:c,u_opacity:p,u_color:f}},rc=function(c,p,f,y,C,L){return o.extend(function(D,j,G,te){var de=G.imageManager.getPattern(D.from.toString()),_e=G.imageManager.getPattern(D.to.toString()),me=G.imageManager.getPixelSize(),Oe=me.width,Pe=me.height,Ne=Math.pow(2,te.tileID.overscaledZ),Te=te.tileSize*Math.pow(2,G.transform.tileZoom)/Ne,ze=Te*(te.tileID.canonical.x+te.tileID.wrap*Ne),We=Te*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[Oe,Pe],u_mix:j.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/ca(te,1,G.transform.tileZoom),u_pixel_coord_upper:[ze>>16,We>>16],u_pixel_coord_lower:[65535&ze,65535&We]}}(y,L,f,C),{u_matrix:c,u_opacity:p})},Au={fillExtrusion:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_lightpos:new o.Uniform3f(c,p.u_lightpos),u_lightintensity:new o.Uniform1f(c,p.u_lightintensity),u_lightcolor:new o.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new o.Uniform1f(c,p.u_vertical_gradient),u_opacity:new o.Uniform1f(c,p.u_opacity)}},fillExtrusionPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_lightpos:new o.Uniform3f(c,p.u_lightpos),u_lightintensity:new o.Uniform1f(c,p.u_lightintensity),u_lightcolor:new o.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new o.Uniform1f(c,p.u_vertical_gradient),u_height_factor:new o.Uniform1f(c,p.u_height_factor),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade),u_opacity:new o.Uniform1f(c,p.u_opacity)}},fill:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},fillPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},fillOutline:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world)}},fillOutlinePattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},circle:function(c,p){return{u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(c,p.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(c,p.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},collisionBox:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(c,p.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(c,p.u_extrude_scale),u_overscale_factor:new o.Uniform1f(c,p.u_overscale_factor)}},collisionCircle:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_inv_matrix:new o.UniformMatrix4f(c,p.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(c,p.u_viewport_size)}},debug:function(c,p){return{u_color:new o.UniformColor(c,p.u_color),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_overlay:new o.Uniform1i(c,p.u_overlay),u_overlay_scale:new o.Uniform1f(c,p.u_overlay_scale)}},clippingMask:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},heatmap:function(c,p){return{u_extrude_scale:new o.Uniform1f(c,p.u_extrude_scale),u_intensity:new o.Uniform1f(c,p.u_intensity),u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},heatmapTexture:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world),u_image:new o.Uniform1i(c,p.u_image),u_color_ramp:new o.Uniform1i(c,p.u_color_ramp),u_opacity:new o.Uniform1f(c,p.u_opacity)}},hillshade:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_latrange:new o.Uniform2f(c,p.u_latrange),u_light:new o.Uniform2f(c,p.u_light),u_shadow:new o.UniformColor(c,p.u_shadow),u_highlight:new o.UniformColor(c,p.u_highlight),u_accent:new o.UniformColor(c,p.u_accent)}},hillshadePrepare:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_dimension:new o.Uniform2f(c,p.u_dimension),u_zoom:new o.Uniform1f(c,p.u_zoom),u_unpack:new o.Uniform4f(c,p.u_unpack)}},line:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels)}},lineGradient:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_image:new o.Uniform1i(c,p.u_image),u_image_height:new o.Uniform1f(c,p.u_image_height)}},linePattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_texsize:new o.Uniform2f(c,p.u_texsize),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_image:new o.Uniform1i(c,p.u_image),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},lineSDF:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(c,p.u_patternscale_a),u_patternscale_b:new o.Uniform2f(c,p.u_patternscale_b),u_sdfgamma:new o.Uniform1f(c,p.u_sdfgamma),u_image:new o.Uniform1i(c,p.u_image),u_tex_y_a:new o.Uniform1f(c,p.u_tex_y_a),u_tex_y_b:new o.Uniform1f(c,p.u_tex_y_b),u_mix:new o.Uniform1f(c,p.u_mix)}},raster:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_tl_parent:new o.Uniform2f(c,p.u_tl_parent),u_scale_parent:new o.Uniform1f(c,p.u_scale_parent),u_buffer_scale:new o.Uniform1f(c,p.u_buffer_scale),u_fade_t:new o.Uniform1f(c,p.u_fade_t),u_opacity:new o.Uniform1f(c,p.u_opacity),u_image0:new o.Uniform1i(c,p.u_image0),u_image1:new o.Uniform1i(c,p.u_image1),u_brightness_low:new o.Uniform1f(c,p.u_brightness_low),u_brightness_high:new o.Uniform1f(c,p.u_brightness_high),u_saturation_factor:new o.Uniform1f(c,p.u_saturation_factor),u_contrast_factor:new o.Uniform1f(c,p.u_contrast_factor),u_spin_weights:new o.Uniform3f(c,p.u_spin_weights)}},symbolIcon:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texture:new o.Uniform1i(c,p.u_texture)}},symbolSDF:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texture:new o.Uniform1i(c,p.u_texture),u_gamma_scale:new o.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(c,p.u_is_halo)}},symbolTextAndIcon:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texsize_icon:new o.Uniform2f(c,p.u_texsize_icon),u_texture:new o.Uniform1i(c,p.u_texture),u_texture_icon:new o.Uniform1i(c,p.u_texture_icon),u_gamma_scale:new o.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(c,p.u_is_halo)}},background:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_opacity:new o.Uniform1f(c,p.u_opacity),u_color:new o.UniformColor(c,p.u_color)}},backgroundPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_opacity:new o.Uniform1f(c,p.u_opacity),u_image:new o.Uniform1i(c,p.u_image),u_pattern_tl_a:new o.Uniform2f(c,p.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(c,p.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(c,p.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(c,p.u_pattern_br_b),u_texsize:new o.Uniform2f(c,p.u_texsize),u_mix:new o.Uniform1f(c,p.u_mix),u_pattern_size_a:new o.Uniform2f(c,p.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(c,p.u_pattern_size_b),u_scale_a:new o.Uniform1f(c,p.u_scale_a),u_scale_b:new o.Uniform1f(c,p.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(c,p.u_tile_units_to_pixels)}}};function hl(c,p,f,y,C,L,D){for(var j=c.context,G=j.gl,te=c.useProgram("collisionBox"),de=[],_e=0,me=0,Oe=0;Oe<y.length;Oe++){var Pe=y[Oe],Ne=p.getTile(Pe),Te=Ne.getBucket(f);if(Te){var ze=Pe.posMatrix;C[0]===0&&C[1]===0||(ze=c.translatePosMatrix(Pe.posMatrix,Ne,C,L));var We=D?Te.textCollisionBox:Te.iconCollisionBox,et=Te.collisionCircleArray;if(et.length>0){var At=o.create(),ht=ze;o.mul(At,Te.placementInvProjMatrix,c.transform.glCoordMatrix),o.mul(At,At,Te.placementViewportMatrix),de.push({circleArray:et,circleOffset:me,transform:ht,invTransform:At}),me=_e+=et.length/4}We&&te.draw(j,G.LINES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),qe.disabled,Qc(ze,c.transform,Ne),f.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,null,c.transform.zoom,null,null,We.collisionVertexBuffer)}}if(D&&de.length){var gt=c.useProgram("collisionCircle"),Tt=new o.StructArrayLayout2f1f2i16;Tt.resize(4*_e),Tt._trim();for(var zt=0,Ft=0,tn=de;Ft<tn.length;Ft+=1)for(var mn=tn[Ft],Pn=0;Pn<mn.circleArray.length/4;Pn++){var kn=4*Pn,vr=mn.circleArray[kn+0],pn=mn.circleArray[kn+1],Rn=mn.circleArray[kn+2],tr=mn.circleArray[kn+3];Tt.emplace(zt++,vr,pn,Rn,tr,0),Tt.emplace(zt++,vr,pn,Rn,tr,1),Tt.emplace(zt++,vr,pn,Rn,tr,2),Tt.emplace(zt++,vr,pn,Rn,tr,3)}(!pl||pl.length<2*_e)&&(pl=function(Vi){var Ii=2*Vi,so=new o.StructArrayLayout3ui6;so.resize(Ii),so._trim();for(var Xi=0;Xi<Ii;Xi++){var fi=6*Xi;so.uint16[fi+0]=4*Xi+0,so.uint16[fi+1]=4*Xi+1,so.uint16[fi+2]=4*Xi+2,so.uint16[fi+3]=4*Xi+2,so.uint16[fi+4]=4*Xi+3,so.uint16[fi+5]=4*Xi+0}return so}(_e));for(var Vn=j.createIndexBuffer(pl,!0),zn=j.createVertexBuffer(Tt,o.collisionCircleLayout.members,!0),Un=0,Dn=de;Un<Dn.length;Un+=1){var An=Dn[Un],Hr=fl(An.transform,An.invTransform,c.transform);gt.draw(j,G.TRIANGLES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),qe.disabled,Hr,f.id,zn,Vn,o.SegmentVector.simpleSegment(0,2*An.circleOffset,An.circleArray.length,An.circleArray.length/2),null,c.transform.zoom,null,null,null)}zn.destroy(),Vn.destroy()}}var ic=o.identity(new Float32Array(16));function Si(c,p,f,y,C,L){var D=o.getAnchorAlignment(c),j=-(D.horizontalAlign-.5)*p,G=-(D.verticalAlign-.5)*f,te=o.evaluateVariableOffset(c,y);return new o.Point((j/C+te[0])*L,(G/C+te[1])*L)}function du(c,p,f,y,C,L,D,j,G,te,de){var _e=c.text.placedSymbolArray,me=c.text.dynamicLayoutVertexArray,Oe=c.icon.dynamicLayoutVertexArray,Pe={};me.clear();for(var Ne=0;Ne<_e.length;Ne++){var Te=_e.get(Ne),ze=Te.hidden||!Te.crossTileID||c.allowVerticalPlacement&&!Te.placedOrientation?null:y[Te.crossTileID];if(ze){var We=new o.Point(Te.anchorX,Te.anchorY),et=Xt(We,f?j:D),At=Ge(L.cameraToCenterDistance,et.signedDistanceFromCamera),ht=C.evaluateSizeForFeature(c.textSizeData,te,Te)*At/o.ONE_EM;f&&(ht*=c.tilePixelRatio/G);for(var gt=Si(ze.anchor,ze.width,ze.height,ze.textOffset,ze.textBoxScale,ht),Tt=f?Xt(We.add(gt),D).point:et.point.add(p?gt.rotate(-L.angle):gt),zt=c.allowVerticalPlacement&&Te.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Ft=0;Ft<Te.numGlyphs;Ft++)o.addDynamicAttributes(me,Tt,zt);de&&Te.associatedIconIndex>=0&&(Pe[Te.associatedIconIndex]={shiftedAnchor:Tt,angle:zt})}else as(Te.numGlyphs,me)}if(de){Oe.clear();for(var tn=c.icon.placedSymbolArray,mn=0;mn<tn.length;mn++){var Pn=tn.get(mn);if(Pn.hidden)as(Pn.numGlyphs,Oe);else{var kn=Pe[mn];if(kn)for(var vr=0;vr<Pn.numGlyphs;vr++)o.addDynamicAttributes(Oe,kn.shiftedAnchor,kn.angle);else as(Pn.numGlyphs,Oe)}}c.icon.dynamicLayoutVertexBuffer.updateData(Oe)}c.text.dynamicLayoutVertexBuffer.updateData(me)}function ks(c,p,f){return f.iconsInText&&p?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function Ts(c,p,f,y,C,L,D,j,G,te,de,_e){for(var me=c.context,Oe=me.gl,Pe=c.transform,Ne=j==="map",Te=G==="map",ze=Ne&&f.layout.get("symbol-placement")!=="point",We=Ne&&!Te&&!ze,et=!f.layout.get("symbol-sort-key").isConstant(),At=!1,ht=c.depthModeForSublayer(0,ve.ReadOnly),gt=f.layout.get("text-variable-anchor"),Tt=[],zt=0,Ft=y;zt<Ft.length;zt+=1){var tn=Ft[zt],mn=p.getTile(tn),Pn=mn.getBucket(f);if(Pn){var kn=C?Pn.text:Pn.icon;if(kn&&kn.segments.get().length){var vr=kn.programConfigurations.get(f.id),pn=C||Pn.sdfIcons,Rn=C?Pn.textSizeData:Pn.iconSizeData,tr=Te||Pe.pitch!==0,Vn=c.useProgram(ks(pn,C,Pn),vr),zn=o.evaluateSizeForZoom(Rn,Pe.zoom),Un=void 0,Dn=[0,0],An=void 0,Hr=void 0,Vi=null,Ii=void 0;if(C)An=mn.glyphAtlasTexture,Hr=Oe.LINEAR,Un=mn.glyphAtlasTexture.size,Pn.iconsInText&&(Dn=mn.imageAtlasTexture.size,Vi=mn.imageAtlasTexture,Ii=tr||c.options.rotating||c.options.zooming||Rn.kind==="composite"||Rn.kind==="camera"?Oe.LINEAR:Oe.NEAREST);else{var so=f.layout.get("icon-size").constantOr(0)!==1||Pn.iconsNeedLinear;An=mn.imageAtlasTexture,Hr=pn||c.options.rotating||c.options.zooming||so||tr?Oe.LINEAR:Oe.NEAREST,Un=mn.imageAtlasTexture.size}var Xi=ca(mn,1,c.transform.zoom),fi=Ai(tn.posMatrix,Te,Ne,c.transform,Xi),na=br(tn.posMatrix,Te,Ne,c.transform,Xi),Hi=gt&&Pn.hasTextData(),ra=f.layout.get("icon-text-fit")!=="none"&&Hi&&Pn.hasIconData();ze&&al(Pn,tn.posMatrix,c,C,fi,na,Te,te);var wa=c.translatePosMatrix(tn.posMatrix,mn,L,D),dl=ze||C&&gt||ra?ic:fi,As=c.translatePosMatrix(na,mn,L,D,!0),jf=pn&&f.paint.get(C?"text-halo-width":"icon-halo-width").constantOr(1)!==0,vu={program:Vn,buffers:kn,uniformValues:pn?Pn.iconsInText?Ui(Rn.kind,zn,We,Te,c,wa,dl,As,Un,Dn):po(Rn.kind,zn,We,Te,c,wa,dl,As,C,Un,!0):Bf(Rn.kind,zn,We,Te,c,wa,dl,As,C,Un),atlasTexture:An,atlasTextureIcon:Vi,atlasInterpolation:Hr,atlasInterpolationIcon:Ii,isSDF:pn,hasHalo:jf};if(et&&Pn.canOverlap){At=!0;for(var ml=0,_u=kn.segments.get();ml<_u.length;ml+=1){var $f=_u[ml];Tt.push({segments:new o.SegmentVector([$f]),sortKey:$f.sortKey,state:vu})}}else Tt.push({segments:kn.segments,sortKey:0,state:vu})}}}At&&Tt.sort(function(Ps,lc){return Ps.sortKey-lc.sortKey});for(var rf=0,Qa=Tt;rf<Qa.length;rf+=1){var of=Qa[rf],go=of.state;if(me.activeTexture.set(Oe.TEXTURE0),go.atlasTexture.bind(go.atlasInterpolation,Oe.CLAMP_TO_EDGE),go.atlasTextureIcon&&(me.activeTexture.set(Oe.TEXTURE1),go.atlasTextureIcon&&go.atlasTextureIcon.bind(go.atlasInterpolationIcon,Oe.CLAMP_TO_EDGE)),go.isSDF){var Xs=go.uniformValues;go.hasHalo&&(Xs.u_is_halo=1,ja(go.buffers,of.segments,f,c,go.program,ht,de,_e,Xs)),Xs.u_is_halo=0}ja(go.buffers,of.segments,f,c,go.program,ht,de,_e,go.uniformValues)}}function ja(c,p,f,y,C,L,D,j,G){var te=y.context;C.draw(te,te.gl.TRIANGLES,L,D,j,qe.disabled,G,f.id,c.layoutVertexBuffer,c.indexBuffer,p,f.paint,y.transform.zoom,c.programConfigurations.get(f.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function oc(c,p,f,y,C,L,D){var j,G,te,de,_e,me=c.context.gl,Oe=f.paint.get("fill-pattern"),Pe=Oe&&Oe.constantOr(1),Ne=f.getCrossfadeParameters();D?(G=Pe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",j=me.LINES):(G=Pe?"fillPattern":"fill",j=me.TRIANGLES);for(var Te=0,ze=y;Te<ze.length;Te+=1){var We=ze[Te],et=p.getTile(We);if(!Pe||et.patternsLoaded()){var At=et.getBucket(f);if(At){var ht=At.programConfigurations.get(f.id),gt=c.useProgram(G,ht);Pe&&(c.context.activeTexture.set(me.TEXTURE0),et.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),ht.updatePaintBuffers(Ne));var Tt=Oe.constantOr(null);if(Tt&&et.imageAtlas){var zt=et.imageAtlas,Ft=zt.patternPositions[Tt.to.toString()],tn=zt.patternPositions[Tt.from.toString()];Ft&&tn&&ht.setConstantPatternPositions(Ft,tn)}var mn=c.translatePosMatrix(We.posMatrix,et,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(D){de=At.indexBuffer2,_e=At.segments2;var Pn=[me.drawingBufferWidth,me.drawingBufferHeight];te=G==="fillOutlinePattern"&&Pe?zl(mn,c,Ne,et,Pn):qs(mn,Pn)}else de=At.indexBuffer,_e=At.segments,te=Pe?Hs(mn,c,Ne,et):cl(mn);gt.draw(c.context,j,C,c.stencilModeForClipping(We),L,qe.disabled,te,f.id,At.layoutVertexBuffer,de,_e,f.paint,c.transform.zoom,ht)}}}}function Xo(c,p,f,y,C,L,D){for(var j=c.context,G=j.gl,te=f.paint.get("fill-extrusion-pattern"),de=te.constantOr(1),_e=f.getCrossfadeParameters(),me=f.paint.get("fill-extrusion-opacity"),Oe=0,Pe=y;Oe<Pe.length;Oe+=1){var Ne=Pe[Oe],Te=p.getTile(Ne),ze=Te.getBucket(f);if(ze){var We=ze.programConfigurations.get(f.id),et=c.useProgram(de?"fillExtrusionPattern":"fillExtrusion",We);de&&(c.context.activeTexture.set(G.TEXTURE0),Te.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),We.updatePaintBuffers(_e));var At=te.constantOr(null);if(At&&Te.imageAtlas){var ht=Te.imageAtlas,gt=ht.patternPositions[At.to.toString()],Tt=ht.patternPositions[At.from.toString()];gt&&Tt&&We.setConstantPatternPositions(gt,Tt)}var zt=c.translatePosMatrix(Ne.posMatrix,Te,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Ft=f.paint.get("fill-extrusion-vertical-gradient"),tn=de?ec(zt,c,Ft,me,Ne,_e,Te):Bp(zt,c,Ft,me);et.draw(j,j.gl.TRIANGLES,C,L,D,qe.backCCW,tn,f.id,ze.layoutVertexBuffer,ze.indexBuffer,ze.segments,f.paint,c.transform.zoom,We)}}}function Np(c,p,f,y,C,L){var D=c.context,j=D.gl,G=p.fbo;if(G){var te=c.useProgram("hillshade");D.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,G.colorAttachment.get());var de=function(_e,me,Oe){var Pe=Oe.paint.get("hillshade-shadow-color"),Ne=Oe.paint.get("hillshade-highlight-color"),Te=Oe.paint.get("hillshade-accent-color"),ze=Oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(ze-=_e.transform.angle);var We,et,At,ht=!_e.options.moving;return{u_matrix:_e.transform.calculatePosMatrix(me.tileID.toUnwrapped(),ht),u_image:0,u_latrange:(We=me.tileID,et=Math.pow(2,We.canonical.z),At=We.canonical.y,[new o.MercatorCoordinate(0,At/et).toLngLat().lat,new o.MercatorCoordinate(0,(At+1)/et).toLngLat().lat]),u_light:[Oe.paint.get("hillshade-exaggeration"),ze],u_shadow:Pe,u_highlight:Ne,u_accent:Te}}(c,p,f);te.draw(D,j.TRIANGLES,y,C,L,qe.disabled,de,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function cs(c,p,f,y,C,L){var D=c.context,j=D.gl,G=p.dem;if(G&&G.data){var te=G.dim,de=G.stride,_e=G.getPixels();if(D.activeTexture.set(j.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||c.getTileTexture(de),p.demTexture){var me=p.demTexture;me.update(_e,{premultiply:!1}),me.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else p.demTexture=new o.Texture(D,_e,j.RGBA,{premultiply:!1}),p.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);D.activeTexture.set(j.TEXTURE0);var Oe=p.fbo;if(!Oe){var Pe=new o.Texture(D,{width:te,height:te,data:null},j.RGBA);Pe.bind(j.LINEAR,j.CLAMP_TO_EDGE),(Oe=p.fbo=D.createFramebuffer(te,te,!0)).colorAttachment.set(Pe.texture)}D.bindFramebuffer.set(Oe.framebuffer),D.viewport.set([0,0,te,te]),c.useProgram("hillshadePrepare").draw(D,j.TRIANGLES,y,C,L,qe.disabled,function(Ne,Te){var ze=Te.stride,We=o.create();return o.ortho(We,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(We,We,[0,-o.EXTENT,0]),{u_matrix:We,u_image:1,u_dimension:[ze,ze],u_zoom:Ne.overscaledZ,u_unpack:Te.getUnpackVector()}}(p.tileID,G),f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function fa(c,p,f,y,C){var L=y.paint.get("raster-fade-duration");if(L>0){var D=o.browser.now(),j=(D-c.timeAdded)/L,G=p?(D-p.timeAdded)/L:-1,te=f.getSource(),de=C.coveringZoomLevel({tileSize:te.tileSize,roundZoom:te.roundZoom}),_e=!p||Math.abs(p.tileID.overscaledZ-de)>Math.abs(c.tileID.overscaledZ-de),me=_e&&c.refreshedUponExpiration?1:o.clamp(_e?j:1-G,0,1);return c.refreshedUponExpiration&&j>=1&&(c.refreshedUponExpiration=!1),p?{opacity:1,mix:1-me}:{opacity:me,mix:0}}return{opacity:1,mix:0}}var fs=new o.Color(1,0,0,1),Gs=new o.Color(0,1,0,1),Up=new o.Color(0,0,1,1),zf=new o.Color(1,0,1,1),Yc=new o.Color(0,1,1,1);function mu(c,p,f,y){rt(c,0,p+f/2,c.transform.width,f,y)}function Qs(c,p,f,y){rt(c,p-f/2,0,f,c.transform.height,y)}function rt(c,p,f,y,C,L){var D=c.context,j=D.gl;j.enable(j.SCISSOR_TEST),j.scissor(p*o.browser.devicePixelRatio,f*o.browser.devicePixelRatio,y*o.browser.devicePixelRatio,C*o.browser.devicePixelRatio),D.clear({color:L}),j.disable(j.SCISSOR_TEST)}function Pt(c,p,f){var y=c.context,C=y.gl,L=f.posMatrix,D=c.useProgram("debug"),j=ve.disabled,G=Ie.disabled,te=c.colorModeForRenderPass();y.activeTexture.set(C.TEXTURE0),c.emptyTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE),D.draw(y,C.LINE_STRIP,j,G,te,qe.disabled,tc(L,o.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var de=p.getTileByID(f.key).latestRawTileData,_e=Math.floor((de&&de.byteLength||0)/1024),me=p.getTile(f).tileSize,Oe=512/Math.min(me,512)*(f.overscaledZ/c.transform.zoom)*.5,Pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Pe+=" => "+f.overscaledZ),function(Ne,Te){Ne.initDebugOverlayCanvas();var ze=Ne.debugOverlayCanvas,We=Ne.context.gl,et=Ne.debugOverlayCanvas.getContext("2d");et.clearRect(0,0,ze.width,ze.height),et.shadowColor="white",et.shadowBlur=2,et.lineWidth=1.5,et.strokeStyle="white",et.textBaseline="top",et.font="bold 36px Open Sans, sans-serif",et.fillText(Te,5,5),et.strokeText(Te,5,5),Ne.debugOverlayTexture.update(ze),Ne.debugOverlayTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE)}(c,Pe+" "+_e+"kb"),D.draw(y,C.TRIANGLES,j,G,je.alphaBlended,qe.disabled,tc(L,o.Color.transparent,Oe),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var _t={symbol:function(c,p,f,y,C){if(c.renderPass==="translucent"){var L=Ie.disabled,D=c.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(j,G,te,de,_e,me,Oe){for(var Pe=G.transform,Ne=_e==="map",Te=me==="map",ze=0,We=j;ze<We.length;ze+=1){var et=We[ze],At=de.getTile(et),ht=At.getBucket(te);if(ht&&ht.text&&ht.text.segments.get().length){var gt=o.evaluateSizeForZoom(ht.textSizeData,Pe.zoom),Tt=ca(At,1,G.transform.zoom),zt=Ai(et.posMatrix,Te,Ne,G.transform,Tt),Ft=te.layout.get("icon-text-fit")!=="none"&&ht.hasIconData();if(gt){var tn=Math.pow(2,Pe.zoom-At.tileID.overscaledZ);du(ht,Ne,Te,Oe,o.symbolSize,Pe,zt,et.posMatrix,tn,gt,Ft)}}}}(y,c,f,p,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),C),f.paint.get("icon-opacity").constantOr(1)!==0&&Ts(c,p,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),L,D),f.paint.get("text-opacity").constantOr(1)!==0&&Ts(c,p,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),L,D),p.map.showCollisionBoxes&&(hl(c,p,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),hl(c,p,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))}},circle:function(c,p,f,y){if(c.renderPass==="translucent"){var C=f.paint.get("circle-opacity"),L=f.paint.get("circle-stroke-width"),D=f.paint.get("circle-stroke-opacity"),j=!f.layout.get("circle-sort-key").isConstant();if(C.constantOr(1)!==0||L.constantOr(1)!==0&&D.constantOr(1)!==0){for(var G=c.context,te=G.gl,de=c.depthModeForSublayer(0,ve.ReadOnly),_e=Ie.disabled,me=c.colorModeForRenderPass(),Oe=[],Pe=0;Pe<y.length;Pe++){var Ne=y[Pe],Te=p.getTile(Ne),ze=Te.getBucket(f);if(ze){var We=ze.programConfigurations.get(f.id),et={programConfiguration:We,program:c.useProgram("circle",We),layoutVertexBuffer:ze.layoutVertexBuffer,indexBuffer:ze.indexBuffer,uniformValues:zp(c,Ne,Te,f)};if(j)for(var At=0,ht=ze.segments.get();At<ht.length;At+=1){var gt=ht[At];Oe.push({segments:new o.SegmentVector([gt]),sortKey:gt.sortKey,state:et})}else Oe.push({segments:ze.segments,sortKey:0,state:et})}}j&&Oe.sort(function(mn,Pn){return mn.sortKey-Pn.sortKey});for(var Tt=0,zt=Oe;Tt<zt.length;Tt+=1){var Ft=zt[Tt],tn=Ft.state;tn.program.draw(G,te.TRIANGLES,de,_e,me,qe.disabled,tn.uniformValues,f.id,tn.layoutVertexBuffer,tn.indexBuffer,Ft.segments,f.paint,c.transform.zoom,tn.programConfiguration)}}}},heatmap:function(c,p,f,y){if(f.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var C=c.context,L=C.gl,D=Ie.disabled,j=new je([L.ONE,L.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(Oe,Pe,Ne){var Te=Oe.gl;Oe.activeTexture.set(Te.TEXTURE1),Oe.viewport.set([0,0,Pe.width/4,Pe.height/4]);var ze=Ne.heatmapFbo;if(ze)Te.bindTexture(Te.TEXTURE_2D,ze.colorAttachment.get()),Oe.bindFramebuffer.set(ze.framebuffer);else{var We=Te.createTexture();Te.bindTexture(Te.TEXTURE_2D,We),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MIN_FILTER,Te.LINEAR),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MAG_FILTER,Te.LINEAR),ze=Ne.heatmapFbo=Oe.createFramebuffer(Pe.width/4,Pe.height/4,!1),function(et,At,ht,gt){var Tt=et.gl;Tt.texImage2D(Tt.TEXTURE_2D,0,Tt.RGBA,At.width/4,At.height/4,0,Tt.RGBA,et.extRenderToTextureHalfFloat?et.extTextureHalfFloat.HALF_FLOAT_OES:Tt.UNSIGNED_BYTE,null),gt.colorAttachment.set(ht)}(Oe,Pe,We,ze)}})(C,c,f),C.clear({color:o.Color.transparent});for(var G=0;G<y.length;G++){var te=y[G];if(!p.hasRenderableParent(te)){var de=p.getTile(te),_e=de.getBucket(f);if(_e){var me=_e.programConfigurations.get(f.id);c.useProgram("heatmap",me).draw(C,L.TRIANGLES,ve.disabled,D,j,qe.disabled,Nl(te.posMatrix,de,c.transform.zoom,f.paint.get("heatmap-intensity")),f.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,f.paint,c.transform.zoom,me)}}}C.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Oe,Pe){var Ne=Oe.context,Te=Ne.gl,ze=Pe.heatmapFbo;if(ze){Ne.activeTexture.set(Te.TEXTURE0),Te.bindTexture(Te.TEXTURE_2D,ze.colorAttachment.get()),Ne.activeTexture.set(Te.TEXTURE1);var We=Pe.colorRampTexture;We||(We=Pe.colorRampTexture=new o.Texture(Ne,Pe.colorRamp,Te.RGBA)),We.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Oe.useProgram("heatmapTexture").draw(Ne,Te.TRIANGLES,ve.disabled,Ie.disabled,Oe.colorModeForRenderPass(),qe.disabled,function(et,At,ht,gt){var Tt=o.create();o.ortho(Tt,0,et.width,et.height,0,0,1);var zt=et.context.gl;return{u_matrix:Tt,u_world:[zt.drawingBufferWidth,zt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:At.paint.get("heatmap-opacity")}}(Oe,Pe),Pe.id,Oe.viewportBuffer,Oe.quadTriangleIndexBuffer,Oe.viewportSegments,Pe.paint,Oe.transform.zoom)}}(c,f))},line:function(c,p,f,y){if(c.renderPass==="translucent"){var C=f.paint.get("line-opacity"),L=f.paint.get("line-width");if(C.constantOr(1)!==0&&L.constantOr(1)!==0)for(var D=c.depthModeForSublayer(0,ve.ReadOnly),j=c.colorModeForRenderPass(),G=f.paint.get("line-dasharray"),te=f.paint.get("line-pattern"),de=te.constantOr(1),_e=f.paint.get("line-gradient"),me=f.getCrossfadeParameters(),Oe=de?"linePattern":G?"lineSDF":_e?"lineGradient":"line",Pe=c.context,Ne=Pe.gl,Te=!0,ze=0,We=y;ze<We.length;ze+=1){var et=We[ze],At=p.getTile(et);if(!de||At.patternsLoaded()){var ht=At.getBucket(f);if(ht){var gt=ht.programConfigurations.get(f.id),Tt=c.context.program.get(),zt=c.useProgram(Oe,gt),Ft=Te||zt.program!==Tt,tn=te.constantOr(null);if(tn&&At.imageAtlas){var mn=At.imageAtlas,Pn=mn.patternPositions[tn.to.toString()],kn=mn.patternPositions[tn.from.toString()];Pn&&kn&&gt.setConstantPatternPositions(Pn,kn)}var vr=de?Vr(c,At,f,me):G?Kc(c,At,f,G,me):_e?nc(c,At,f,ht.lineClipsArray.length):Wc(c,At,f);if(de)Pe.activeTexture.set(Ne.TEXTURE0),At.imageAtlasTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),gt.updatePaintBuffers(me);else if(G&&(Ft||c.lineAtlas.dirty))Pe.activeTexture.set(Ne.TEXTURE0),c.lineAtlas.bind(Pe);else if(_e){var pn=ht.gradients[f.id],Rn=pn.texture;if(f.gradientVersion!==pn.version){var tr=256;if(f.stepInterpolant){var Vn=p.getSource().maxzoom,zn=et.canonical.z===Vn?Math.ceil(1<<c.transform.maxZoom-et.canonical.z):1;tr=o.clamp(o.nextPowerOfTwo(ht.maxLineLength/o.EXTENT*1024*zn),256,Pe.maxTextureSize)}pn.gradient=o.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:tr,image:pn.gradient||void 0,clips:ht.lineClipsArray}),pn.texture?pn.texture.update(pn.gradient):pn.texture=new o.Texture(Pe,pn.gradient,Ne.RGBA),pn.version=f.gradientVersion,Rn=pn.texture}Pe.activeTexture.set(Ne.TEXTURE0),Rn.bind(f.stepInterpolant?Ne.NEAREST:Ne.LINEAR,Ne.CLAMP_TO_EDGE)}zt.draw(Pe,Ne.TRIANGLES,D,c.stencilModeForClipping(et),j,qe.disabled,vr,f.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,f.paint,c.transform.zoom,gt,ht.layoutVertexBuffer2),Te=!1}}}}},fill:function(c,p,f,y){var C=f.paint.get("fill-color"),L=f.paint.get("fill-opacity");if(L.constantOr(1)!==0){var D=c.colorModeForRenderPass(),j=f.paint.get("fill-pattern"),G=c.opaquePassEnabledForLayer()&&!j.constantOr(1)&&C.constantOr(o.Color.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===G){var te=c.depthModeForSublayer(1,c.renderPass==="opaque"?ve.ReadWrite:ve.ReadOnly);oc(c,p,f,y,te,D,!1)}if(c.renderPass==="translucent"&&f.paint.get("fill-antialias")){var de=c.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,ve.ReadOnly);oc(c,p,f,y,de,D,!0)}}},"fill-extrusion":function(c,p,f,y){var C=f.paint.get("fill-extrusion-opacity");if(C!==0&&c.renderPass==="translucent"){var L=new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D);if(C!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Xo(c,p,f,y,L,Ie.disabled,je.disabled),Xo(c,p,f,y,L,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var D=c.colorModeForRenderPass();Xo(c,p,f,y,L,Ie.disabled,D)}}},hillshade:function(c,p,f,y){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var C=c.context,L=c.depthModeForSublayer(0,ve.ReadOnly),D=c.colorModeForRenderPass(),j=c.renderPass==="translucent"?c.stencilConfigForOverlap(y):[{},y],G=j[0],te=0,de=j[1];te<de.length;te+=1){var _e=de[te],me=p.getTile(_e);me.needsHillshadePrepare&&c.renderPass==="offscreen"?cs(c,me,f,L,Ie.disabled,D):c.renderPass==="translucent"&&Np(c,me,f,L,G[_e.overscaledZ],D)}C.viewport.set([0,0,c.width,c.height])}},raster:function(c,p,f,y){if(c.renderPass==="translucent"&&f.paint.get("raster-opacity")!==0&&y.length)for(var C=c.context,L=C.gl,D=p.getSource(),j=c.useProgram("raster"),G=c.colorModeForRenderPass(),te=D instanceof ge?[{},y]:c.stencilConfigForOverlap(y),de=te[0],_e=te[1],me=_e[_e.length-1].overscaledZ,Oe=!c.options.moving,Pe=0,Ne=_e;Pe<Ne.length;Pe+=1){var Te=Ne[Pe],ze=c.depthModeForSublayer(Te.overscaledZ-me,f.paint.get("raster-opacity")===1?ve.ReadWrite:ve.ReadOnly,L.LESS),We=p.getTile(Te),et=c.transform.calculatePosMatrix(Te.toUnwrapped(),Oe);We.registerFadeDuration(f.paint.get("raster-fade-duration"));var At=p.findLoadedParent(Te,0),ht=fa(We,At,p,f,c.transform),gt=void 0,Tt=void 0,zt=f.paint.get("raster-resampling")==="nearest"?L.NEAREST:L.LINEAR;C.activeTexture.set(L.TEXTURE0),We.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),C.activeTexture.set(L.TEXTURE1),At?(At.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),gt=Math.pow(2,At.tileID.overscaledZ-We.tileID.overscaledZ),Tt=[We.tileID.canonical.x*gt%1,We.tileID.canonical.y*gt%1]):We.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);var Ft=Zc(et,Tt||[0,0],gt||1,ht,f);D instanceof ge?j.draw(C,L.TRIANGLES,ze,Ie.disabled,G,qe.disabled,Ft,f.id,D.boundsBuffer,c.quadTriangleIndexBuffer,D.boundsSegments):j.draw(C,L.TRIANGLES,ze,de[Te.overscaledZ],G,qe.disabled,Ft,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,p,f){var y=f.paint.get("background-color"),C=f.paint.get("background-opacity");if(C!==0){var L=c.context,D=L.gl,j=c.transform,G=j.tileSize,te=f.paint.get("background-pattern");if(!c.isPatternMissing(te)){var de=!te&&y.a===1&&C===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===de){var _e=Ie.disabled,me=c.depthModeForSublayer(0,de==="opaque"?ve.ReadWrite:ve.ReadOnly),Oe=c.colorModeForRenderPass(),Pe=c.useProgram(te?"backgroundPattern":"background"),Ne=j.coveringTiles({tileSize:G});te&&(L.activeTexture.set(D.TEXTURE0),c.imageManager.bind(c.context));for(var Te=f.getCrossfadeParameters(),ze=0,We=Ne;ze<We.length;ze+=1){var et=We[ze],At=c.transform.calculatePosMatrix(et.toUnwrapped()),ht=te?rc(At,C,c,te,{tileID:et,tileSize:G},Te):Xc(At,C,y);Pe.draw(L,D.TRIANGLES,me,_e,Oe,qe.disabled,ht,f.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,p,f){for(var y=0;y<f.length;y++)Pt(c,p,f[y])},custom:function(c,p,f){var y=c.context,C=f.implementation;if(c.renderPass==="offscreen"){var L=C.prerender;L&&(c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),L.call(C,y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),y.setStencilMode(Ie.disabled);var D=C.renderingMode==="3d"?new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ve.ReadOnly);y.setDepthMode(D),C.render(y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState(),y.bindFramebuffer.set(null)}}},qt=function(c,p){this.context=new Ue(c),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sl,this.gpuTimers={}};qt.prototype.resize=function(c,p){if(this.width=c*o.browser.devicePixelRatio,this.height=p*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var f=0,y=this.style._order;f<y.length;f+=1)this.style._layers[y[f]].resize()},qt.prototype.setup=function(){var c=this.context,p=new o.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(o.EXTENT,0),p.emplaceBack(0,o.EXTENT),p.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Do.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var f=new o.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(o.EXTENT,0),f.emplaceBack(0,o.EXTENT),f.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=c.createVertexBuffer(f,Do.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var y=new o.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(o.EXTENT,0,o.EXTENT,0),y.emplaceBack(0,o.EXTENT,0,o.EXTENT),y.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(y,re.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var C=new o.StructArrayLayout2i4;C.emplaceBack(0,0),C.emplaceBack(1,0),C.emplaceBack(0,1),C.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(C,Do.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var L=new o.StructArrayLayout1ui2;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(L);var D=new o.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(D),this.emptyTexture=new o.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var j=this.context.gl;this.stencilClearMode=new Ie({func:j.ALWAYS,mask:0},0,255,j.ZERO,j.ZERO,j.ZERO)},qt.prototype.clearStencil=function(){var c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var f=o.create();o.ortho(f,0,this.width,this.height,0,0,1),o.scale(f,f,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,ve.disabled,this.stencilClearMode,je.disabled,qe.disabled,_a(f),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},qt.prototype._renderTileClippingMasks=function(c,p){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&p&&p.length){this.currentStencilSource=c.source;var f=this.context,y=f.gl;this.nextStencilID+p.length>256&&this.clearStencil(),f.setColorMode(je.disabled),f.setDepthMode(ve.disabled);var C=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var L=0,D=p;L<D.length;L+=1){var j=D[L],G=this._tileClippingMaskIDs[j.key]=this.nextStencilID++;C.draw(f,y.TRIANGLES,ve.disabled,new Ie({func:y.ALWAYS,mask:0},G,255,y.KEEP,y.KEEP,y.REPLACE),je.disabled,qe.disabled,_a(j.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},qt.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,p=this.context.gl;return new Ie({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)},qt.prototype.stencilModeForClipping=function(c){var p=this.context.gl;return new Ie({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)},qt.prototype.stencilConfigForOverlap=function(c){var p,f=this.context.gl,y=c.sort(function(G,te){return te.overscaledZ-G.overscaledZ}),C=y[y.length-1].overscaledZ,L=y[0].overscaledZ-C+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();for(var D={},j=0;j<L;j++)D[j+C]=new Ie({func:f.GEQUAL,mask:255},j+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=L,[D,y]}return[(p={},p[C]=Ie.disabled,p),y]},qt.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new je([c.CONSTANT_COLOR,c.ONE],new o.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?je.unblended:je.alphaBlended},qt.prototype.depthModeForSublayer=function(c,p,f){if(!this.opaquePassEnabledForLayer())return ve.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ve(f||this.context.gl.LEQUAL,p,[y,y])},qt.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},qt.prototype.render=function(c,p){var f=this;this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var y=this.style._order,C=this.style.sourceCaches;for(var L in C){var D=C[L];D.used&&D.prepare(this.context)}var j,G,te={},de={},_e={};for(var me in C){var Oe=C[me];te[me]=Oe.getVisibleCoordinates(),de[me]=te[me].slice().reverse(),_e[me]=Oe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Pe=0;Pe<y.length;Pe++)if(this.style._layers[y[Pe]].is3D()){this.opaquePassCutoff=Pe;break}this.renderPass="offscreen";for(var Ne=0,Te=y;Ne<Te.length;Ne+=1){var ze=this.style._layers[Te[Ne]];if(ze.hasOffscreenPass()&&!ze.isHidden(this.transform.zoom)){var We=de[ze.source];(ze.type==="custom"||We.length)&&this.renderLayer(this,C[ze.source],ze,We)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var et=this.style._layers[y[this.currentLayer]],At=C[et.source],ht=te[et.source];this._renderTileClippingMasks(et,ht),this.renderLayer(this,At,et,ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var gt=this.style._layers[y[this.currentLayer]],Tt=C[gt.source],zt=(gt.type==="symbol"?_e:de)[gt.source];this._renderTileClippingMasks(gt,te[gt.source]),this.renderLayer(this,Tt,gt,zt)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(Ft){Ft.source&&!Ft.isHidden(f.transform.zoom)&&(Ft.source!==(G&&G.id)&&(G=f.style.sourceCaches[Ft.source]),(!j||j.getSource().maxzoom<G.getSource().maxzoom)&&(j=G))}),j&&_t.debug(this,j,j.getVisibleCoordinates())),this.options.showPadding&&function(Ft){var tn=Ft.transform.padding;mu(Ft,Ft.transform.height-(tn.top||0),3,fs),mu(Ft,tn.bottom||0,3,Gs),Qs(Ft,tn.left||0,3,Up),Qs(Ft,Ft.transform.width-(tn.right||0),3,zf);var mn=Ft.transform.centerPoint;(function(Pn,kn,vr,pn){rt(Pn,kn-1,vr-10,2,20,pn),rt(Pn,kn-10,vr-1,20,2,pn)})(Ft,mn.x,Ft.transform.height-mn.y,Yc)}(this),this.context.setDefault()},qt.prototype.renderLayer=function(c,p,f,y){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||y.length)&&(this.id=f.id,this.gpuTimingStart(f),_t[f.type](c,p,f,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},qt.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var p=this.context.extTimerQuery,f=this.gpuTimers[c.id];f||(f=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),f.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,f.query)}},qt.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},qt.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},qt.prototype.queryGpuTimers=function(c){var p={};for(var f in c){var y=c[f],C=this.context.extTimerQuery,L=C.getQueryObjectEXT(y.query,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(y.query),p[f]=L}return p},qt.prototype.translatePosMatrix=function(c,p,f,y,C){if(!f[0]&&!f[1])return c;var L=C?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(L){var D=Math.sin(L),j=Math.cos(L);f=[f[0]*j-f[1]*D,f[0]*D+f[1]*j]}var G=[C?f[0]:ca(p,f[0],this.transform.zoom),C?f[1]:ca(p,f[1],this.transform.zoom),0],te=new Float32Array(16);return o.translate(te,c,G),te},qt.prototype.saveTileTexture=function(c){var p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]},qt.prototype.getTileTexture=function(c){var p=this._tileTextures[c];return p&&p.length>0?p.pop():null},qt.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var p=this.imageManager.getPattern(c.from.toString()),f=this.imageManager.getPattern(c.to.toString());return!p||!f},qt.prototype.useProgram=function(c,p){this.cache=this.cache||{};var f=""+c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[f]||(this.cache[f]=new pu(this.context,c,ei[c],p,Au[c],this._showOverdrawInspector)),this.cache[f]},qt.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},qt.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},qt.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},qt.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var er=function(c,p){this.points=c,this.planes=p};er.fromInvProjectionMatrix=function(c,p,f){var y=Math.pow(2,f),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(D){return o.transformMat4([],D,c)}).map(function(D){return o.scale$1([],D,1/D[3]/p*y)}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(D){var j=o.sub([],C[D[0]],C[D[1]]),G=o.sub([],C[D[2]],C[D[1]]),te=o.normalize([],o.cross([],j,G)),de=-o.dot(te,C[D[1]]);return te.concat(de)});return new er(C,L)};var wr=function(c,p){this.min=c,this.max=p,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};wr.prototype.quadrant=function(c){for(var p=[c%2==0,c<2],f=o.clone$2(this.min),y=o.clone$2(this.max),C=0;C<p.length;C++)f[C]=p[C]?this.min[C]:this.center[C],y[C]=p[C]?this.center[C]:this.max[C];return y[2]=this.max[2],new wr(f,y)},wr.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},wr.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},wr.prototype.intersects=function(c){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],f=!0,y=0;y<c.planes.length;y++){for(var C=c.planes[y],L=0,D=0;D<p.length;D++)L+=o.dot$1(C,p[D])>=0;if(L===0)return 0;L!==p.length&&(f=!1)}if(f)return 2;for(var j=0;j<3;j++){for(var G=Number.MAX_VALUE,te=-Number.MAX_VALUE,de=0;de<c.points.length;de++){var _e=c.points[de][j]-this.min[j];G=Math.min(G,_e),te=Math.max(te,_e)}if(te<0||G>this.max[j]-this.min[j])return 0}return 1};var ti=function(c,p,f,y){if(c===void 0&&(c=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),isNaN(c)||c<0||isNaN(p)||p<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=f,this.right=y};ti.prototype.interpolate=function(c,p,f){return p.top!=null&&c.top!=null&&(this.top=o.number(c.top,p.top,f)),p.bottom!=null&&c.bottom!=null&&(this.bottom=o.number(c.bottom,p.bottom,f)),p.left!=null&&c.left!=null&&(this.left=o.number(c.left,p.left,f)),p.right!=null&&c.right!=null&&(this.right=o.number(c.right,p.right,f)),this},ti.prototype.getCenter=function(c,p){var f=o.clamp((this.left+c-this.right)/2,0,c),y=o.clamp((this.top+p-this.bottom)/2,0,p);return new o.Point(f,y)},ti.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},ti.prototype.clone=function(){return new ti(this.top,this.bottom,this.left,this.right)},ti.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ln=function(c,p,f,y,C){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=C===void 0||C,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ti,this._posMatrixCache={},this._alignedPosMatrixCache={}},ur={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ln.prototype.clone=function(){var c=new Ln(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},ur.minZoom.get=function(){return this._minZoom},ur.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},ur.maxZoom.get=function(){return this._maxZoom},ur.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},ur.minPitch.get=function(){return this._minPitch},ur.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},ur.maxPitch.get=function(){return this._maxPitch},ur.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},ur.renderWorldCopies.get=function(){return this._renderWorldCopies},ur.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},ur.worldSize.get=function(){return this.tileSize*this.scale},ur.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},ur.size.get=function(){return new o.Point(this.width,this.height)},ur.bearing.get=function(){return-this.angle/Math.PI*180},ur.bearing.set=function(c){var p=-o.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ur.pitch.get=function(){return this._pitch/Math.PI*180},ur.pitch.set=function(c){var p=o.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},ur.fov.get=function(){return this._fov/Math.PI*180},ur.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},ur.zoom.get=function(){return this._zoom},ur.zoom.set=function(c){var p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},ur.center.get=function(){return this._center},ur.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},ur.padding.get=function(){return this._edgeInsets.toJSON()},ur.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},ur.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ln.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Ln.prototype.interpolatePadding=function(c,p,f){this._unmodified=!1,this._edgeInsets.interpolate(c,p,f),this._constrain(),this._calcMatrices()},Ln.prototype.coveringZoomLevel=function(c){var p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)},Ln.prototype.getVisibleUnwrappedCoordinates=function(c){var p=[new o.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var f=this.pointCoordinate(new o.Point(0,0)),y=this.pointCoordinate(new o.Point(this.width,0)),C=this.pointCoordinate(new o.Point(this.width,this.height)),L=this.pointCoordinate(new o.Point(0,this.height)),D=Math.floor(Math.min(f.x,y.x,C.x,L.x)),j=Math.floor(Math.max(f.x,y.x,C.x,L.x)),G=D-1;G<=j+1;G++)G!==0&&p.push(new o.UnwrappedTileID(G,c));return p},Ln.prototype.coveringTiles=function(c){var p=this.coveringZoomLevel(c),f=p;if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);var y=o.MercatorCoordinate.fromLngLat(this.center),C=Math.pow(2,p),L=[C*y.x,C*y.y,0],D=er.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),j=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(j=p);var G=function(Ft){return{aabb:new wr([Ft*C,0,0],[(Ft+1)*C,C,0]),zoom:0,x:0,y:0,wrap:Ft,fullyVisible:!1}},te=[],de=[],_e=p,me=c.reparseOverscaled?f:p;if(this._renderWorldCopies)for(var Oe=1;Oe<=3;Oe++)te.push(G(-Oe)),te.push(G(Oe));for(te.push(G(0));te.length>0;){var Pe=te.pop(),Ne=Pe.x,Te=Pe.y,ze=Pe.fullyVisible;if(!ze){var We=Pe.aabb.intersects(D);if(We===0)continue;ze=We===2}var et=Pe.aabb.distanceX(L),At=Pe.aabb.distanceY(L),ht=Math.max(Math.abs(et),Math.abs(At));if(Pe.zoom===_e||ht>3+(1<<_e-Pe.zoom)-2&&Pe.zoom>=j)de.push({tileID:new o.OverscaledTileID(Pe.zoom===_e?me:Pe.zoom,Pe.wrap,Pe.zoom,Ne,Te),distanceSq:o.sqrLen([L[0]-.5-Ne,L[1]-.5-Te])});else for(var gt=0;gt<4;gt++){var Tt=(Ne<<1)+gt%2,zt=(Te<<1)+(gt>>1);te.push({aabb:Pe.aabb.quadrant(gt),zoom:Pe.zoom+1,x:Tt,y:zt,wrap:Pe.wrap,fullyVisible:ze})}}return de.sort(function(Ft,tn){return Ft.distanceSq-tn.distanceSq}).map(function(Ft){return Ft.tileID})},Ln.prototype.resize=function(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()},ur.unmodified.get=function(){return this._unmodified},Ln.prototype.zoomScale=function(c){return Math.pow(2,c)},Ln.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Ln.prototype.project=function(c){var p=o.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(c.lng)*this.worldSize,o.mercatorYfromLat(p)*this.worldSize)},Ln.prototype.unproject=function(c){return new o.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},ur.point.get=function(){return this.project(this.center)},Ln.prototype.setLocationAtPoint=function(c,p){var f=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),C=this.locationCoordinate(c),L=new o.MercatorCoordinate(C.x-(f.x-y.x),C.y-(f.y-y.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())},Ln.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Ln.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Ln.prototype.locationCoordinate=function(c){return o.MercatorCoordinate.fromLngLat(c)},Ln.prototype.coordinateLocation=function(c){return c.toLngLat()},Ln.prototype.pointCoordinate=function(c){var p=[c.x,c.y,0,1],f=[c.x,c.y,1,1];o.transformMat4(p,p,this.pixelMatrixInverse),o.transformMat4(f,f,this.pixelMatrixInverse);var y=p[3],C=f[3],L=p[1]/y,D=f[1]/C,j=p[2]/y,G=f[2]/C,te=j===G?0:(0-j)/(G-j);return new o.MercatorCoordinate(o.number(p[0]/y,f[0]/C,te)/this.worldSize,o.number(L,D,te)/this.worldSize)},Ln.prototype.coordinatePoint=function(c){var p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return o.transformMat4(p,p,this.pixelMatrix),new o.Point(p[0]/p[3],p[1]/p[3])},Ln.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},Ln.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ln.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ln.prototype.calculatePosMatrix=function(c,p){p===void 0&&(p=!1);var f=c.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];var C=c.canonical,L=this.worldSize/this.zoomScale(C.z),D=C.x+Math.pow(2,C.z)*c.wrap,j=o.identity(new Float64Array(16));return o.translate(j,j,[D*L,C.y*L,0]),o.scale(j,j,[L/o.EXTENT,L/o.EXTENT,1]),o.multiply(j,p?this.alignedProjMatrix:this.projMatrix,j),y[f]=new Float32Array(j),y[f]},Ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ln.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,p,f,y,C=-90,L=90,D=-180,j=180,G=this.size,te=this._unmodified;if(this.latRange){var de=this.latRange;C=o.mercatorYfromLat(de[1])*this.worldSize,c=(L=o.mercatorYfromLat(de[0])*this.worldSize)-C<G.y?G.y/(L-C):0}if(this.lngRange){var _e=this.lngRange;D=o.mercatorXfromLng(_e[0])*this.worldSize,p=(j=o.mercatorXfromLng(_e[1])*this.worldSize)-D<G.x?G.x/(j-D):0}var me=this.point,Oe=Math.max(p||0,c||0);if(Oe)return this.center=this.unproject(new o.Point(p?(j+D)/2:me.x,c?(L+C)/2:me.y)),this.zoom+=this.scaleZoom(Oe),this._unmodified=te,void(this._constraining=!1);if(this.latRange){var Pe=me.y,Ne=G.y/2;Pe-Ne<C&&(y=C+Ne),Pe+Ne>L&&(y=L-Ne)}if(this.lngRange){var Te=me.x,ze=G.x/2;Te-ze<D&&(f=D+ze),Te+ze>j&&(f=j-ze)}f===void 0&&y===void 0||(this.center=this.unproject(new o.Point(f!==void 0?f:me.x,y!==void 0?y:me.y))),this._unmodified=te,this._constraining=!1}},Ln.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,f=this._fov*(.5+c.y/this.height),y=Math.sin(f)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-p-f,.01,Math.PI-.01)),C=this.point,L=C.x,D=C.y,j=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),G=this.height/50,te=new Float64Array(16);o.perspective(te,this._fov,this.width/this.height,G,j),te[8]=2*-c.x/this.width,te[9]=2*c.y/this.height,o.scale(te,te,[1,-1,1]),o.translate(te,te,[0,0,-this.cameraToCenterDistance]),o.rotateX(te,te,this._pitch),o.rotateZ(te,te,this.angle),o.translate(te,te,[-L,-D,0]),this.mercatorMatrix=o.scale([],te,[this.worldSize,this.worldSize,this.worldSize]),o.scale(te,te,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=te,this.invProjMatrix=o.invert([],this.projMatrix);var de=this.width%2/2,_e=this.height%2/2,me=Math.cos(this.angle),Oe=Math.sin(this.angle),Pe=L-Math.round(L)+me*de+Oe*_e,Ne=D-Math.round(D)+me*_e+Oe*de,Te=new Float64Array(te);if(o.translate(Te,Te,[Pe>.5?Pe-1:Pe,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=Te,te=o.create(),o.scale(te,te,[this.width/2,-this.height/2,1]),o.translate(te,te,[1,-1,0]),this.labelPlaneMatrix=te,te=o.create(),o.scale(te,te,[1,-1,1]),o.translate(te,te,[-1,-1,0]),o.scale(te,te,[2/this.width,2/this.height,1]),this.glCoordMatrix=te,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(te=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=te,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new o.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return o.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ln.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,c))},Ln.prototype.getCameraQueryGeometry=function(c){var p=this.getCameraPoint();if(c.length===1)return[c[0],p];for(var f=p.x,y=p.y,C=p.x,L=p.y,D=0,j=c;D<j.length;D+=1){var G=j[D];f=Math.min(f,G.x),y=Math.min(y,G.y),C=Math.max(C,G.x),L=Math.max(L,G.y)}return[new o.Point(f,y),new o.Point(C,y),new o.Point(C,L),new o.Point(f,L),new o.Point(f,y)]},Object.defineProperties(Ln.prototype,ur);var Ul=function(c){var p,f,y,C;this._hashName=c&&encodeURIComponent(c),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),f=!1,y=null,C=function(){y=null,f&&(p(),y=setTimeout(C,300),f=!1)},function(){return f=!0,y||C(),y})};Ul.prototype.addTo=function(c){return this._map=c,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ul.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ul.prototype.getHashString=function(c){var p=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,y),L=Math.round(p.lng*C)/C,D=Math.round(p.lat*C)/C,j=this._map.getBearing(),G=this._map.getPitch(),te="";if(te+=c?"/"+L+"/"+D+"/"+f:f+"/"+D+"/"+L,(j||G)&&(te+="/"+Math.round(10*j)/10),G&&(te+="/"+Math.round(G)),this._hashName){var de=this._hashName,_e=!1,me=o.window.location.hash.slice(1).split("&").map(function(Oe){var Pe=Oe.split("=")[0];return Pe===de?(_e=!0,Pe+"="+te):Oe}).filter(function(Oe){return Oe});return _e||me.push(de+"="+te),"#"+me.join("&")}return"#"+te},Ul.prototype._getCurrentHash=function(){var c,p=this,f=o.window.location.hash.replace("#","");return this._hashName?(f.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(c=y)}),(c&&c[1]||"").split("/")):f.split("/")},Ul.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(f){return isNaN(f)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:p,pitch:+(c[4]||0)}),!0}return!1},Ul.prototype._updateHashUnthrottled=function(){var c=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,c)}catch{}};var ji={linearity:.3,easing:o.bezier(0,0,.3,1)},gu=o.extend({deceleration:2500,maxSpeed:1400},ji),xa=o.extend({deceleration:20,maxSpeed:1400},ji),ps=o.extend({deceleration:1e3,maxSpeed:360},ji),Jc=o.extend({deceleration:1e3,maxSpeed:90},ji),Al=function(c){this._map=c,this.clear()};function Ur(c,p){(!c.duration||c.duration<p.duration)&&(c.duration=p.duration,c.easing=p.easing)}function ac(c,p,f){var y=f.maxSpeed,C=f.linearity,L=f.deceleration,D=o.clamp(c*C/(p/1e3),-y,y),j=Math.abs(D)/(L*C);return{easing:f.easing,duration:1e3*j,amount:D*(j/2)}}Al.prototype.clear=function(){this._inertiaBuffer=[]},Al.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:c})},Al.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,p=o.browser.now();c.length>0&&p-c[0].time>160;)c.shift()},Al.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},f=0,y=this._inertiaBuffer;f<y.length;f+=1){var C=y[f].settings;p.zoom+=C.zoomDelta||0,p.bearing+=C.bearingDelta||0,p.pitch+=C.pitchDelta||0,C.panDelta&&p.pan._add(C.panDelta),C.around&&(p.around=C.around),C.pinchAround&&(p.pinchAround=C.pinchAround)}var L=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(p.pan.mag()){var j=ac(p.pan.mag(),L,o.extend({},gu,c||{}));D.offset=p.pan.mult(j.amount/p.pan.mag()),D.center=this._map.transform.center,Ur(D,j)}if(p.zoom){var G=ac(p.zoom,L,xa);D.zoom=this._map.transform.zoom+G.amount,Ur(D,G)}if(p.bearing){var te=ac(p.bearing,L,ps);D.bearing=this._map.transform.bearing+o.clamp(te.amount,-179,179),Ur(D,te)}if(p.pitch){var de=ac(p.pitch,L,Jc);D.pitch=this._map.transform.pitch+de.amount,Ur(D,de)}if(D.zoom||D.bearing){var _e=p.pinchAround===void 0?p.around:p.pinchAround;D.around=_e?this._map.unproject(_e):this._map.getCenter()}return this.clear(),o.extend(D,{noMoveStart:!0})}};var To=function(c){function p(y,C,L,D){D===void 0&&(D={});var j=S.mousePos(C.getCanvasContainer(),L),G=C.unproject(j);c.call(this,y,o.extend({point:j,lngLat:G,originalEvent:L},D)),this._defaultPrevented=!1,this.target=C}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),ho=function(c){function p(y,C,L){var D=y==="touchend"?L.changedTouches:L.touches,j=S.touchPos(C.getCanvasContainer(),D),G=j.map(function(_e){return C.unproject(_e)}),te=j.reduce(function(_e,me,Oe,Pe){return _e.add(me.div(Pe.length))},new o.Point(0,0)),de=C.unproject(te);c.call(this,y,{points:j,point:te,lngLats:G,lngLat:de,originalEvent:L}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),Nf=function(c){function p(y,C,L){c.call(this,y,{originalEvent:L}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),Zi=function(c,p){this._map=c,this._clickTolerance=p.clickTolerance};Zi.prototype.reset=function(){delete this._mousedownPos},Zi.prototype.wheel=function(c){return this._firePreventable(new Nf(c.type,this._map,c))},Zi.prototype.mousedown=function(c,p){return this._mousedownPos=p,this._firePreventable(new To(c.type,this._map,c))},Zi.prototype.mouseup=function(c){this._map.fire(new To(c.type,this._map,c))},Zi.prototype.click=function(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new To(c.type,this._map,c))},Zi.prototype.dblclick=function(c){return this._firePreventable(new To(c.type,this._map,c))},Zi.prototype.mouseover=function(c){this._map.fire(new To(c.type,this._map,c))},Zi.prototype.mouseout=function(c){this._map.fire(new To(c.type,this._map,c))},Zi.prototype.touchstart=function(c){return this._firePreventable(new ho(c.type,this._map,c))},Zi.prototype.touchmove=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchend=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchcancel=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Zi.prototype.isEnabled=function(){return!0},Zi.prototype.isActive=function(){return!1},Zi.prototype.enable=function(){},Zi.prototype.disable=function(){};var ba=function(c){this._map=c};ba.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ba.prototype.mousemove=function(c){this._map.fire(new To(c.type,this._map,c))},ba.prototype.mousedown=function(){this._delayContextMenu=!0},ba.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new To("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ba.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new To(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},ba.prototype.isEnabled=function(){return!0},ba.prototype.isActive=function(){return!1},ba.prototype.enable=function(){},ba.prototype.disable=function(){};var an=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1};function $a(c,p){for(var f={},y=0;y<c.length;y++)f[c[y].identifier]=p[y];return f}an.prototype.isEnabled=function(){return!!this._enabled},an.prototype.isActive=function(){return!!this._active},an.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},an.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},an.prototype.mousedown=function(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(S.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},an.prototype.mousemoveWindow=function(c,p){if(this._active){var f=p;if(!(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=f,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var C=Math.min(y.x,f.x),L=Math.max(y.x,f.x),D=Math.min(y.y,f.y),j=Math.max(y.y,f.y);S.setTransform(this._box,"translate("+C+"px,"+D+"px)"),this._box.style.width=L-C+"px",this._box.style.height=j-D+"px"}}},an.prototype.mouseupWindow=function(c,p){var f=this;if(this._active&&c.button===0){var y=this._startPos,C=p;if(this.reset(),S.suppressClick(),y.x!==C.x||y.y!==C.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(L){return L.fitScreenCoordinates(y,C,f._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},an.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},an.prototype.reset=function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},an.prototype._fireEvent=function(c,p){return this._map.fire(new o.Event(c,{originalEvent:p}))};var Ws=function(c){this.reset(),this.numTouches=c.numTouches};Ws.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ws.prototype.touchstart=function(c,p,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){for(var C=new o.Point(0,0),L=0,D=y;L<D.length;L+=1)C._add(D[L]);return C.div(y.length)}(p),this.touches=$a(f,p)))},Ws.prototype.touchmove=function(c,p,f){if(!this.aborted&&this.centroid){var y=$a(f,p);for(var C in this.touches){var L=y[C];(!L||L.dist(this.touches[C])>30)&&(this.aborted=!0)}}},Ws.prototype.touchend=function(c,p,f){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Ks=function(c){this.singleTap=new Ws(c),this.numTaps=c.numTaps,this.reset()};Ks.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ks.prototype.touchstart=function(c,p,f){this.singleTap.touchstart(c,p,f)},Ks.prototype.touchmove=function(c,p,f){this.singleTap.touchmove(c,p,f)},Ks.prototype.touchend=function(c,p,f){var y=this.singleTap.touchend(c,p,f);if(y){var C=c.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(y)<30;if(C&&L||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var Fo=function(){this._zoomIn=new Ks({numTouches:1,numTaps:2}),this._zoomOut=new Ks({numTouches:2,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fo.prototype.touchstart=function(c,p,f){this._zoomIn.touchstart(c,p,f),this._zoomOut.touchstart(c,p,f)},Fo.prototype.touchmove=function(c,p,f){this._zoomIn.touchmove(c,p,f),this._zoomOut.touchmove(c,p,f)},Fo.prototype.touchend=function(c,p,f){var y=this,C=this._zoomIn.touchend(c,p,f),L=this._zoomOut.touchend(c,p,f);return C?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(C)},{originalEvent:c})}}):L?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(L)},{originalEvent:c})}}):void 0},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var yu={0:1,2:2},Yo=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Yo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Yo.prototype._correctButton=function(c,p){return!1},Yo.prototype._move=function(c,p){return{}},Yo.prototype.mousedown=function(c,p){if(!this._lastPoint){var f=S.mouseButton(c);this._correctButton(c,f)&&(this._lastPoint=p,this._eventButton=f)}},Yo.prototype.mousemoveWindow=function(c,p){var f=this._lastPoint;if(f){if(c.preventDefault(),function(y,C){var L=yu[C];return y.buttons===void 0||(y.buttons&L)!==L}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(f,p)}},Yo.prototype.mouseupWindow=function(c){this._lastPoint&&S.mouseButton(c)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())},Yo.prototype.enable=function(){this._enabled=!0},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var un=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.mousedown=function(f,y){c.prototype.mousedown.call(this,f,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(f,y){return y===0&&!f.ctrlKey},p.prototype._move=function(f,y){return{around:y,panDelta:y.sub(f)}},p}(Yo),sc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var C=.8*(y.x-f.x);if(C)return this._active=!0,{bearingDelta:C}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Zs=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var C=-.5*(y.y-f.y);if(C)return this._active=!0,{pitchDelta:C}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Ao=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};Ao.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},Ao.prototype.touchstart=function(c,p,f){return this._calculateTransform(c,p,f)},Ao.prototype.touchmove=function(c,p,f){if(this._active&&!(f.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,f)},Ao.prototype.touchend=function(c,p,f){this._calculateTransform(c,p,f),this._active&&f.length<this._minTouches&&this.reset()},Ao.prototype.touchcancel=function(){this.reset()},Ao.prototype._calculateTransform=function(c,p,f){f.length>0&&(this._active=!0);var y=$a(f,p),C=new o.Point(0,0),L=new o.Point(0,0),D=0;for(var j in y){var G=y[j],te=this._touches[j];te&&(C._add(G),L._add(G.sub(te)),D++,y[j]=G)}if(this._touches=y,!(D<this._minTouches)&&L.mag()){var de=L.div(D);if(this._sum._add(de),!(this._sum.mag()<this._clickTolerance))return{around:C.div(D),panDelta:de}}},Ao.prototype.enable=function(){this._enabled=!0},Ao.prototype.disable=function(){this._enabled=!1,this.reset()},Ao.prototype.isEnabled=function(){return this._enabled},Ao.prototype.isActive=function(){return this._active};var Sr=function(){this.reset()};function ef(c,p,f){for(var y=0;y<c.length;y++)if(c[y].identifier===f)return p[y]}function jp(c,p){return Math.log(c/p)/Math.LN2}Sr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Sr.prototype._start=function(c){},Sr.prototype._move=function(c,p,f){return{}},Sr.prototype.touchstart=function(c,p,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([p[0],p[1]]))},Sr.prototype.touchmove=function(c,p,f){if(this._firstTwoTouches){c.preventDefault();var y=this._firstTwoTouches,C=y[1],L=ef(f,p,y[0]),D=ef(f,p,C);if(L&&D){var j=this._aroundCenter?null:L.add(D).div(2);return this._move([L,D],j,c)}}},Sr.prototype.touchend=function(c,p,f){if(this._firstTwoTouches){var y=this._firstTwoTouches,C=y[1],L=ef(f,p,y[0]),D=ef(f,p,C);L&&D||(this._active&&S.suppressClick(),this.reset())}},Sr.prototype.touchcancel=function(){this.reset()},Sr.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},Sr.prototype.disable=function(){this._enabled=!1,this.reset()},Sr.prototype.isEnabled=function(){return this._enabled},Sr.prototype.isActive=function(){return this._active};var Uf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(f){this._startDistance=this._distance=f[0].dist(f[1])},p.prototype._move=function(f,y){var C=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(jp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jp(this._distance,C),pinchAround:y}},p}(Sr);function mo(c,p){return 180*c.angleWith(p)/Math.PI}var Va=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])},p.prototype._move=function(f,y){var C=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:mo(this._vector,C),pinchAround:y}},p.prototype._isBelowThreshold=function(f){this._minDiameter=Math.min(this._minDiameter,f.mag());var y=25/(Math.PI*this._minDiameter)*360,C=mo(f,this._startVector);return Math.abs(C)<y},p}(Sr);function jl(c){return Math.abs(c.y)>Math.abs(c.x)}var tf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(f){this._lastPoints=f,jl(f[0].sub(f[1]))&&(this._valid=!1)},p.prototype._move=function(f,y,C){var L=f[0].sub(this._lastPoints[0]),D=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(L,D,C.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(L.y+D.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(f,y,C){if(this._valid!==void 0)return this._valid;var L=f.mag()>=2,D=y.mag()>=2;if(L||D){if(!L||!D)return this._firstMove===void 0&&(this._firstMove=C),C-this._firstMove<100&&void 0;var j=f.y>0==y.y>0;return jl(f)&&jl(y)&&j}},p}(Sr),nf={panStep:100,bearingStep:15,pitchStep:10},hs=function(){var c=nf;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function $p(c){return c*(2-c)}hs.prototype.reset=function(){this._active=!1},hs.prototype.keydown=function(c){var p=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=0,y=0,C=0,L=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),L=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),L=1);break;case 38:c.shiftKey?C=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?C=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,C=0),{cameraAnimation:function(j){var G=j.getZoom();j.easeTo({duration:300,easeId:"keyboardHandler",easing:$p,zoom:f?Math.round(G)+f*(c.shiftKey?2:1):G,bearing:j.getBearing()+y*p._bearingStep,pitch:j.getPitch()+C*p._pitchStep,offset:[-L*p._panStep,-D*p._panStep],center:j.getCenter()},{originalEvent:c})}}}},hs.prototype.enable=function(){this._enabled=!0},hs.prototype.disable=function(){this._enabled=!1,this.reset()},hs.prototype.isEnabled=function(){return this._enabled},hs.prototype.isActive=function(){return this._active},hs.prototype.disableRotation=function(){this._rotationDisabled=!0},hs.prototype.enableRotation=function(){this._rotationDisabled=!1};var rr=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,o.bindAll(["_onTimeout"],this)};rr.prototype.setZoomRate=function(c){this._defaultZoomRate=c},rr.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},rr.prototype.isEnabled=function(){return!!this._enabled},rr.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},rr.prototype.isZooming=function(){return!!this._zooming},rr.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},rr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},rr.prototype.wheel=function(c){if(this.isEnabled()){var p=c.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,f=o.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}},rr.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},rr.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=S.mousePos(this._el,c);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},rr.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var f=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*f)));this._delta<0&&y!==0&&(y=1/y);var C=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(C*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var L,D=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,j=this._startZoom,G=this._easing,te=!1;if(this._type==="wheel"&&j&&G){var de=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),_e=G(de);L=o.number(j,D,_e),de<1?this._frameId||(this._frameId=!0):te=!0}else L=D,te=!0;return this._active=!0,te&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!te,zoomDelta:L-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},rr.prototype._smoothOutEasing=function(c){var p=o.ease;if(this._prevEase){var f=this._prevEase,y=(o.browser.now()-f.start)/f.duration,C=f.easing(y+.01)-f.easing(y),L=.27/Math.sqrt(C*C+1e-4)*.01,D=Math.sqrt(.0729-L*L);p=o.bezier(L,D,.25,1)}return this._prevEase={start:o.browser.now(),duration:c,easing:p},p},rr.prototype.reset=function(){this._active=!1};var Wn=function(c,p){this._clickZoom=c,this._tapZoom=p};Wn.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Wn.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Wn.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Wn.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var pa=function(){this.reset()};pa.prototype.reset=function(){this._active=!1},pa.prototype.dblclick=function(c,p){return c.preventDefault(),{cameraAnimation:function(f){f.easeTo({duration:300,zoom:f.getZoom()+(c.shiftKey?-1:1),around:f.unproject(p)},{originalEvent:c})}}},pa.prototype.enable=function(){this._enabled=!0},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};var Pi=function(){this._tap=new Ks({numTouches:1,numTaps:1}),this.reset()};Pi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Pi.prototype.touchstart=function(c,p,f){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=p[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(c,p,f))},Pi.prototype.touchmove=function(c,p,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;var y=p[0],C=y.y-this._swipePoint.y;return this._swipePoint=y,c.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(c,p,f)},Pi.prototype.touchend=function(c,p,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(c,p,f)&&(this._tapTime=c.timeStamp)},Pi.prototype.touchcancel=function(){this.reset()},Pi.prototype.enable=function(){this._enabled=!0},Pi.prototype.disable=function(){this._enabled=!1,this.reset()},Pi.prototype.isEnabled=function(){return this._enabled},Pi.prototype.isActive=function(){return this._active};var Bn=function(c,p,f){this._el=c,this._mousePan=p,this._touchPan=f};Bn.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Bn.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function(c,p,f){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=f};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ha=function(c,p,f,y){this._el=c,this._touchZoom=p,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ha.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ha.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ha.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ha.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Jo=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ea=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p}(o.Event);function qa(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Wt=function(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Al(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),o.bindAll(["handleEvent","handleWindowEvent"],this);var f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[o.window,"blur",void 0]];for(var y=0,C=this._listeners;y<C.length;y+=1){var L=C[y],D=L[0];S.addEventListener(D,L[1],D===o.window.document?this.handleWindowEvent:this.handleEvent,L[2])}};Wt.prototype.destroy=function(){for(var c=0,p=this._listeners;c<p.length;c+=1){var f=p[c],y=f[0];S.removeEventListener(y,f[1],y===o.window.document?this.handleWindowEvent:this.handleEvent,f[2])}},Wt.prototype._addDefaultHandlers=function(c){var p=this._map,f=p.getCanvasContainer();this._add("mapEvent",new Zi(p,c));var y=p.boxZoom=new an(p,c);this._add("boxZoom",y);var C=new Fo,L=new pa;p.doubleClickZoom=new Wn(L,C),this._add("tapZoom",C),this._add("clickZoom",L);var D=new Pi;this._add("tapDragZoom",D);var j=p.touchPitch=new tf;this._add("touchPitch",j);var G=new sc(c),te=new Zs(c);p.dragRotate=new Bo(c,G,te),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",te,["mouseRotate"]);var de=new un(c),_e=new Ao(c);p.dragPan=new Bn(f,de,_e),this._add("mousePan",de),this._add("touchPan",_e,["touchZoom","touchRotate"]);var me=new Va,Oe=new Uf;p.touchZoomRotate=new Ha(f,Oe,me,D),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",Oe,["touchPan","touchRotate"]);var Pe=p.scrollZoom=new rr(p,this);this._add("scrollZoom",Pe,["mousePan"]);var Ne=p.keyboard=new hs;this._add("keyboard",Ne),this._add("blockableMapEvent",new ba(p));for(var Te=0,ze=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Te<ze.length;Te+=1){var We=ze[Te];c.interactive&&c[We]&&p[We].enable(c[We])}},Wt.prototype._add=function(c,p,f){this._handlers.push({handlerName:c,handler:p,allowed:f}),this._handlersById[c]=p},Wt.prototype.stop=function(c){if(!this._updatingCamera){for(var p=0,f=this._handlers;p<f.length;p+=1)f[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Wt.prototype.isActive=function(){for(var c=0,p=this._handlers;c<p.length;c+=1)if(p[c].handler.isActive())return!0;return!1},Wt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Wt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Wt.prototype.isMoving=function(){return Boolean(Jo(this._eventsInProgress))||this.isZooming()},Wt.prototype._blockedByActive=function(c,p,f){for(var y in c)if(y!==f&&(!p||p.indexOf(y)<0))return!0;return!1},Wt.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Wt.prototype._getMapTouches=function(c){for(var p=[],f=0,y=c;f<y.length;f+=1){var C=y[f];this._el.contains(C.target)&&p.push(C)}return p},Wt.prototype.handleEvent=function(c,p){if(c.type!=="blur"){this._updatingCamera=!0;for(var f=c.type==="renderFrame"?void 0:c,y={needsRenderFrame:!1},C={},L={},D=c.touches?this._getMapTouches(c.touches):void 0,j=D?S.touchPos(this._el,D):S.mousePos(this._el,c),G=0,te=this._handlers;G<te.length;G+=1){var de=te[G],_e=de.handlerName,me=de.handler,Oe=de.allowed;if(me.isEnabled()){var Pe=void 0;this._blockedByActive(L,Oe,_e)?me.reset():me[p||c.type]&&(Pe=me[p||c.type](c,j,D),this.mergeHandlerResult(y,C,Pe,_e,f),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||me.isActive())&&(L[_e]=me)}}var Ne={};for(var Te in this._previousActiveHandlers)L[Te]||(Ne[Te]=f);this._previousActiveHandlers=L,(Object.keys(Ne).length||qa(y))&&(this._changes.push([y,C,Ne]),this._triggerRenderFrame()),(Object.keys(L).length||qa(y))&&this._map._stop(!0),this._updatingCamera=!1;var ze=y.cameraAnimation;ze&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ze(this._map))}else this.stop(!0)},Wt.prototype.mergeHandlerResult=function(c,p,f,y,C){if(f){o.extend(c,f);var L={handlerName:y,originalEvent:f.originalEvent||C};f.zoomDelta!==void 0&&(p.zoom=L),f.panDelta!==void 0&&(p.drag=L),f.pitchDelta!==void 0&&(p.pitch=L),f.bearingDelta!==void 0&&(p.rotate=L)}},Wt.prototype._applyChanges=function(){for(var c={},p={},f={},y=0,C=this._changes;y<C.length;y+=1){var L=C[y],D=L[0],j=L[1],G=L[2];D.panDelta&&(c.panDelta=(c.panDelta||new o.Point(0,0))._add(D.panDelta)),D.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+D.pitchDelta),D.around!==void 0&&(c.around=D.around),D.pinchAround!==void 0&&(c.pinchAround=D.pinchAround),D.noInertia&&(c.noInertia=D.noInertia),o.extend(p,j),o.extend(f,G)}this._updateMapTransform(c,p,f),this._changes=[]},Wt.prototype._updateMapTransform=function(c,p,f){var y=this._map,C=y.transform;if(!qa(c))return this._fireEvents(p,f,!0);var L=c.panDelta,D=c.zoomDelta,j=c.bearingDelta,G=c.pitchDelta,te=c.around,de=c.pinchAround;de!==void 0&&(te=de),y._stop(!0),te=te||y.transform.centerPoint;var _e=C.pointLocation(L?te.sub(L):te);j&&(C.bearing+=j),G&&(C.pitch+=G),D&&(C.zoom+=D),C.setLocationAtPoint(_e,te),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,f,!0)},Wt.prototype._fireEvents=function(c,p,f){var y=this,C=Jo(this._eventsInProgress),L=Jo(c),D={};for(var j in c)this._eventsInProgress[j]||(D[j+"start"]=c[j].originalEvent),this._eventsInProgress[j]=c[j];for(var G in!C&&L&&this._fireEvent("movestart",L.originalEvent),D)this._fireEvent(G,D[G]);for(var te in L&&this._fireEvent("move",L.originalEvent),c)this._fireEvent(te,c[te].originalEvent);var de,_e={};for(var me in this._eventsInProgress){var Oe=this._eventsInProgress[me],Pe=Oe.handlerName,Ne=Oe.originalEvent;this._handlersById[Pe].isActive()||(delete this._eventsInProgress[me],_e[me+"end"]=de=p[Pe]||Ne)}for(var Te in _e)this._fireEvent(Te,_e[Te]);var ze=Jo(this._eventsInProgress);if(f&&(C||L)&&!ze){this._updatingCamera=!0;var We=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),et=function(At){return At!==0&&-y._bearingSnap<At&&At<y._bearingSnap};We?(et(We.bearing||this._map.getBearing())&&(We.bearing=0),this._map.easeTo(We,{originalEvent:de})):(this._map.fire(new o.Event("moveend",{originalEvent:de})),et(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Wt.prototype._fireEvent=function(c,p){this._map.fire(new o.Event(c,p?{originalEvent:p}:{}))},Wt.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete c._frameId,c.handleEvent(new ea("renderFrame",{timeStamp:p})),c._applyChanges()})},Wt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var dt=function(c){function p(f,y){c.call(this),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=y.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(f,y){return this.jumpTo({center:f},y)},p.prototype.panBy=function(f,y,C){return f=o.Point.convert(f).mult(-1),this.panTo(this.transform.center,o.extend({offset:f},y),C)},p.prototype.panTo=function(f,y,C){return this.easeTo(o.extend({center:f},y),C)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(f,y){return this.jumpTo({zoom:f},y),this},p.prototype.zoomTo=function(f,y,C){return this.easeTo(o.extend({zoom:f},y),C)},p.prototype.zoomIn=function(f,y){return this.zoomTo(this.getZoom()+1,f,y),this},p.prototype.zoomOut=function(f,y){return this.zoomTo(this.getZoom()-1,f,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(f,y){return this.jumpTo({bearing:f},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(f,y){return this.jumpTo({padding:f},y),this},p.prototype.rotateTo=function(f,y,C){return this.easeTo(o.extend({bearing:f},y),C)},p.prototype.resetNorth=function(f,y){return this.rotateTo(0,o.extend({duration:1e3},f),y),this},p.prototype.resetNorthPitch=function(f,y){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},f),y),this},p.prototype.snapToNorth=function(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(f,y){return this.jumpTo({pitch:f},y),this},p.prototype.cameraForBounds=function(f,y){f=o.LngLatBounds.convert(f);var C=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),C,y)},p.prototype._cameraForBoxAndBearing=function(f,y,C,L){var D={top:0,bottom:0,right:0,left:0};if(typeof(L=o.extend({padding:D,offset:[0,0],maxZoom:this.transform.maxZoom},L)).padding=="number"){var j=L.padding;L.padding={top:j,bottom:j,right:j,left:j}}L.padding=o.extend(D,L.padding);var G=this.transform,te=G.padding,de=G.project(o.LngLat.convert(f)),_e=G.project(o.LngLat.convert(y)),me=de.rotate(-C*Math.PI/180),Oe=_e.rotate(-C*Math.PI/180),Pe=new o.Point(Math.max(me.x,Oe.x),Math.max(me.y,Oe.y)),Ne=new o.Point(Math.min(me.x,Oe.x),Math.min(me.y,Oe.y)),Te=Pe.sub(Ne),ze=(G.width-(te.left+te.right+L.padding.left+L.padding.right))/Te.x,We=(G.height-(te.top+te.bottom+L.padding.top+L.padding.bottom))/Te.y;if(!(We<0||ze<0)){var et=Math.min(G.scaleZoom(G.scale*Math.min(ze,We)),L.maxZoom),At=typeof L.offset.x=="number"?new o.Point(L.offset.x,L.offset.y):o.Point.convert(L.offset),ht=new o.Point((L.padding.left-L.padding.right)/2,(L.padding.top-L.padding.bottom)/2).rotate(C*Math.PI/180),gt=At.add(ht).mult(G.scale/G.zoomScale(et));return{center:G.unproject(de.add(_e).div(2).sub(gt)),zoom:et,bearing:C}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(f,y,C){return this._fitInternal(this.cameraForBounds(f,y),y,C)},p.prototype.fitScreenCoordinates=function(f,y,C,L,D){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(f)),this.transform.pointLocation(o.Point.convert(y)),C,L),L,D)},p.prototype._fitInternal=function(f,y,C){return f?(delete(y=o.extend(f,y)).padding,y.linear?this.easeTo(y,C):this.flyTo(y,C)):this},p.prototype.jumpTo=function(f,y){this.stop();var C=this.transform,L=!1,D=!1,j=!1;return"zoom"in f&&C.zoom!==+f.zoom&&(L=!0,C.zoom=+f.zoom),f.center!==void 0&&(C.center=o.LngLat.convert(f.center)),"bearing"in f&&C.bearing!==+f.bearing&&(D=!0,C.bearing=+f.bearing),"pitch"in f&&C.pitch!==+f.pitch&&(j=!0,C.pitch=+f.pitch),f.padding==null||C.isPaddingEqual(f.padding)||(C.padding=f.padding),this.fire(new o.Event("movestart",y)).fire(new o.Event("move",y)),L&&this.fire(new o.Event("zoomstart",y)).fire(new o.Event("zoom",y)).fire(new o.Event("zoomend",y)),D&&this.fire(new o.Event("rotatestart",y)).fire(new o.Event("rotate",y)).fire(new o.Event("rotateend",y)),j&&this.fire(new o.Event("pitchstart",y)).fire(new o.Event("pitch",y)).fire(new o.Event("pitchend",y)),this.fire(new o.Event("moveend",y))},p.prototype.easeTo=function(f,y){var C=this;this._stop(!1,f.easeId),((f=o.extend({offset:[0,0],duration:500,easing:o.ease},f)).animate===!1||!f.essential&&o.browser.prefersReducedMotion)&&(f.duration=0);var L=this.transform,D=this.getZoom(),j=this.getBearing(),G=this.getPitch(),te=this.getPadding(),de="zoom"in f?+f.zoom:D,_e="bearing"in f?this._normalizeBearing(f.bearing,j):j,me="pitch"in f?+f.pitch:G,Oe="padding"in f?f.padding:L.padding,Pe=o.Point.convert(f.offset),Ne=L.centerPoint.add(Pe),Te=L.pointLocation(Ne),ze=o.LngLat.convert(f.center||Te);this._normalizeCenter(ze);var We,et,At=L.project(Te),ht=L.project(ze).sub(At),gt=L.zoomScale(de-D);f.around&&(We=o.LngLat.convert(f.around),et=L.locationPoint(We));var Tt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||de!==D,this._rotating=this._rotating||j!==_e,this._pitching=this._pitching||me!==G,this._padding=!L.isPaddingEqual(Oe),this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,Tt),this._ease(function(zt){if(C._zooming&&(L.zoom=o.number(D,de,zt)),C._rotating&&(L.bearing=o.number(j,_e,zt)),C._pitching&&(L.pitch=o.number(G,me,zt)),C._padding&&(L.interpolatePadding(te,Oe,zt),Ne=L.centerPoint.add(Pe)),We)L.setLocationAtPoint(We,et);else{var Ft=L.zoomScale(L.zoom-D),tn=de>D?Math.min(2,gt):Math.max(.5,gt),mn=Math.pow(tn,1-zt),Pn=L.unproject(At.add(ht.mult(zt*mn)).mult(Ft));L.setLocationAtPoint(L.renderWorldCopies?Pn.wrap():Pn,Ne)}C._fireMoveEvents(y)},function(zt){C._afterEase(y,zt)},f),this},p.prototype._prepareEase=function(f,y,C){C===void 0&&(C={}),this._moving=!0,y||C.moving||this.fire(new o.Event("movestart",f)),this._zooming&&!C.zooming&&this.fire(new o.Event("zoomstart",f)),this._rotating&&!C.rotating&&this.fire(new o.Event("rotatestart",f)),this._pitching&&!C.pitching&&this.fire(new o.Event("pitchstart",f))},p.prototype._fireMoveEvents=function(f){this.fire(new o.Event("move",f)),this._zooming&&this.fire(new o.Event("zoom",f)),this._rotating&&this.fire(new o.Event("rotate",f)),this._pitching&&this.fire(new o.Event("pitch",f))},p.prototype._afterEase=function(f,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var C=this._zooming,L=this._rotating,D=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new o.Event("zoomend",f)),L&&this.fire(new o.Event("rotateend",f)),D&&this.fire(new o.Event("pitchend",f)),this.fire(new o.Event("moveend",f))}},p.prototype.flyTo=function(f,y){var C=this;if(!f.essential&&o.browser.prefersReducedMotion){var L=o.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(L,y)}this.stop(),f=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},f);var D=this.transform,j=this.getZoom(),G=this.getBearing(),te=this.getPitch(),de=this.getPadding(),_e="zoom"in f?o.clamp(+f.zoom,D.minZoom,D.maxZoom):j,me="bearing"in f?this._normalizeBearing(f.bearing,G):G,Oe="pitch"in f?+f.pitch:te,Pe="padding"in f?f.padding:D.padding,Ne=D.zoomScale(_e-j),Te=o.Point.convert(f.offset),ze=D.centerPoint.add(Te),We=D.pointLocation(ze),et=o.LngLat.convert(f.center||We);this._normalizeCenter(et);var At=D.project(We),ht=D.project(et).sub(At),gt=f.curve,Tt=Math.max(D.width,D.height),zt=Tt/Ne,Ft=ht.mag();if("minZoom"in f){var tn=o.clamp(Math.min(f.minZoom,j,_e),D.minZoom,D.maxZoom),mn=Tt/D.zoomScale(tn-j);gt=Math.sqrt(mn/Ft*2)}var Pn=gt*gt;function kn(Dn){var An=(zt*zt-Tt*Tt+(Dn?-1:1)*Pn*Pn*Ft*Ft)/(2*(Dn?zt:Tt)*Pn*Ft);return Math.log(Math.sqrt(An*An+1)-An)}function vr(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function pn(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}var Rn=kn(0),tr=function(Dn){return pn(Rn)/pn(Rn+gt*Dn)},Vn=function(Dn){return Tt*((pn(Rn)*(vr(An=Rn+gt*Dn)/pn(An))-vr(Rn))/Pn)/Ft;var An},zn=(kn(1)-Rn)/gt;if(Math.abs(Ft)<1e-6||!isFinite(zn)){if(Math.abs(Tt-zt)<1e-6)return this.easeTo(f,y);var Un=zt<Tt?-1:1;zn=Math.abs(Math.log(zt/Tt))/gt,Vn=function(){return 0},tr=function(Dn){return Math.exp(Un*gt*Dn)}}return f.duration="duration"in f?+f.duration:1e3*zn/("screenSpeed"in f?+f.screenSpeed/gt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=G!==me,this._pitching=Oe!==te,this._padding=!D.isPaddingEqual(Pe),this._prepareEase(y,!1),this._ease(function(Dn){var An=Dn*zn,Hr=1/tr(An);D.zoom=Dn===1?_e:j+D.scaleZoom(Hr),C._rotating&&(D.bearing=o.number(G,me,Dn)),C._pitching&&(D.pitch=o.number(te,Oe,Dn)),C._padding&&(D.interpolatePadding(de,Pe,Dn),ze=D.centerPoint.add(Te));var Vi=Dn===1?et:D.unproject(At.add(ht.mult(Vn(An))).mult(Hr));D.setLocationAtPoint(D.renderWorldCopies?Vi.wrap():Vi,ze),C._fireMoveEvents(y)},function(){return C._afterEase(y)},f),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(f,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,y)}if(!f){var L=this.handlers;L&&L.stop(!1)}return this},p.prototype._ease=function(f,y,C){C.animate===!1||C.duration===0?(f(1),y()):(this._easeStart=o.browser.now(),this._easeOptions=C,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var f=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(f,y){f=o.wrap(f,-180,180);var C=Math.abs(f-y);return Math.abs(f-360-y)<C&&(f-=360),Math.abs(f+360-y)<C&&(f+=360),f},p.prototype._normalizeCenter=function(f){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var C=f.lng-y.center.lng;f.lng+=C>180?-360:C<-180?360:0}},p}(o.Evented),Yt=function(c){c===void 0&&(c={}),this.options=c,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Yt.prototype.getDefaultPosition=function(){return"bottom-right"},Yt.prototype.onAdd=function(c){var p=this.options&&this.options.compact;return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.type="button",this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("maplibregl-compact","mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Yt.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Yt.prototype._setElementTitle=function(c,p){var f=this._map._getUIString("AttributionControl."+p);c.title=f,c.setAttribute("aria-label",f)},Yt.prototype._toggleAttribution=function(){this._container.classList.contains("maplibregl-compact-show")||this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Yt.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(c){var f=p.reduce(function(y,C,L){return C.value&&(y+=C.key+"="+C.value+(L<p.length-1?"&":"")),y},"?");c.href=o.config.FEEDBACK_URL+"/"+f+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Yt.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Yt.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(j){return typeof j!="string"?"":j})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var f=this._map.style.sourceCaches;for(var y in f){var C=f[y];if(C.used){var L=C.getSource();L.attribution&&c.indexOf(L.attribution)<0&&c.push(L.attribution)}}c.sort(function(j,G){return j.length-G.length});var D=(c=c.filter(function(j,G){for(var te=G+1;te<c.length;te++)if(c[te].indexOf(j)>=0)return!1;return!0})).join(" | ");D!==this._attribHTML&&(this._attribHTML=D,c.length?(this._innerContainer.innerHTML=D,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._editLink=null)}},Yt.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("maplibregl-compact","mapboxgl-compact"):this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show")};var Po=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};Po.prototype.onAdd=function(c){this._map=c,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");var p=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Po.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Po.prototype.getDefaultPosition=function(){return"bottom-left"},Po.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Po.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var p in c)if(c[p].getSource().mapbox_logo)return!0;return!1}},Po.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(c){var p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p},Ga.prototype.remove=function(c){for(var p=this._currentlyRunning,f=0,y=p?this._queue.concat(p):this._queue;f<y.length;f+=1){var C=y[f];if(C.id===c)return void(C.cancelled=!0)}},Ga.prototype.run=function(c){c===void 0&&(c=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var f=0,y=p;f<y.length;f+=1){var C=y[f];if(!C.cancelled&&(C.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var zo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},$i=o.window.HTMLImageElement,Vp=o.window.HTMLElement,ta=o.window.ImageBitmap,h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m=function(c){function p(y){var C=this;if((y=o.extend({},h,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var L=new Ln(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(c.call(this,L,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},zo,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new o.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=o.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof Vp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return C._update(!1)}),this.on("moveend",function(){return C._update(!1)}),this.on("zoom",function(){return C._update(!0)}),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Wt(this,y),this._hash=y.hash&&new Ul(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,o.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Yt({customAttribution:y.customAttribution})),this.addControl(new Po,y.logoPosition),this.on("style.load",function(){C.transform.unmodified&&C.jumpTo(C.style.stylesheet)}),this.on("data",function(D){C._update(D.dataType==="style"),C.fire(new o.Event(D.dataType+"data",D))}),this.on("dataloading",function(D){C.fire(new o.Event(D.dataType+"dataloading",D))})}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,C){if(C===void 0&&(C=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var L=y.onAdd(this);this._controls.push(y);var D=this._controlPositions[C];return C.indexOf("bottom")!==-1?D.insertBefore(L,D.firstChild):D.appendChild(L),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var C=this._controls.indexOf(y);return C>-1&&this._controls.splice(C,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var C=this._containerDimensions(),L=C[0],D=C[1];this._resizeCanvas(L,D),this.transform.resize(L,D),this.painter.resize(L,D);var j=!this._moving;return j&&(this.stop(),this.fire(new o.Event("movestart",y)).fire(new o.Event("move",y))),this.fire(new o.Event("resize",y)),j&&this.fire(new o.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(o.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(o.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(o.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,C,L){var D,j=this;if(y==="mouseenter"||y==="mouseover"){var G=!1;return{layer:C,listener:L,delegates:{mousemove:function(de){var _e=j.getLayer(C)?j.queryRenderedFeatures(de.point,{layers:[C]}):[];_e.length?G||(G=!0,L.call(j,new To(y,j,de.originalEvent,{features:_e}))):G=!1},mouseout:function(){G=!1}}}}if(y==="mouseleave"||y==="mouseout"){var te=!1;return{layer:C,listener:L,delegates:{mousemove:function(de){(j.getLayer(C)?j.queryRenderedFeatures(de.point,{layers:[C]}):[]).length?te=!0:te&&(te=!1,L.call(j,new To(y,j,de.originalEvent)))},mouseout:function(de){te&&(te=!1,L.call(j,new To(y,j,de.originalEvent)))}}}}return{layer:C,listener:L,delegates:(D={},D[y]=function(de){var _e=j.getLayer(C)?j.queryRenderedFeatures(de.point,{layers:[C]}):[];_e.length&&(de.features=_e,L.call(j,de),delete de.features)},D)}},p.prototype.on=function(y,C,L){if(L===void 0)return c.prototype.on.call(this,y,C);var D=this._createDelegatedListener(y,C,L);for(var j in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(D),D.delegates)this.on(j,D.delegates[j]);return this},p.prototype.once=function(y,C,L){if(L===void 0)return c.prototype.once.call(this,y,C);var D=this._createDelegatedListener(y,C,L);for(var j in D.delegates)this.once(j,D.delegates[j]);return this},p.prototype.off=function(y,C,L){var D=this;return L===void 0?c.prototype.off.call(this,y,C):(this._delegatedListeners&&this._delegatedListeners[y]&&function(j){for(var G=j[y],te=0;te<G.length;te++){var de=G[te];if(de.layer===C&&de.listener===L){for(var _e in de.delegates)D.off(_e,de.delegates[_e]);return G.splice(te,1),D}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,C){if(!this.style)return[];var L;if(C!==void 0||y===void 0||y instanceof o.Point||Array.isArray(y)||(C=y,y=void 0),C=C||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||typeof y[0]=="number")L=[o.Point.convert(y)];else{var D=o.Point.convert(y[0]),j=o.Point.convert(y[1]);L=[D,new o.Point(j.x,D.y),j,new o.Point(D.x,j.y),D]}return this.style.queryRenderedFeatures(L,C,this.transform)},p.prototype.querySourceFeatures=function(y,C){return this.style.querySourceFeatures(y,C)},p.prototype.setStyle=function(y,C){return(C=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},C)).diff!==!1&&C.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,C),this):(this._localIdeographFontFamily=C.localIdeographFontFamily,this._updateStyle(y,C))},p.prototype.setTransformRequest=function(y){return this._requestManager.setTransformRequest(y),this},p.prototype._getUIString=function(y){var C=this._locale[y];if(C==null)throw new Error("Missing UI string '"+y+"'");return C},p.prototype._updateStyle=function(y,C){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new Qn(this,C||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Qn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,C){var L=this;if(typeof y=="string"){var D=this._requestManager.normalizeStyleURL(y),j=this._requestManager.transformRequest(D,o.ResourceType.Style);o.getJSON(j,function(G,te){G?L.fire(new o.ErrorEvent(G)):te&&L._updateDiff(te,C)})}else typeof y=="object"&&this._updateDiff(y,C)},p.prototype._updateDiff=function(y,C){try{this.style.setState(y)&&this._update(!0)}catch(L){o.warnOnce("Unable to perform style diff: "+(L.message||L.error||L)+".  Rebuilding the style from scratch."),this._updateStyle(y,C)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,C){return this._lazyInitEmptyStyle(),this.style.addSource(y,C),this._update(!0)},p.prototype.isSourceLoaded=function(y){var C=this.style&&this.style.sourceCaches[y];if(C!==void 0)return C.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var C in y){var L=y[C]._tiles;for(var D in L){var j=L[D];if(j.state!=="loaded"&&j.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,C,L){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,C,L)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,C,L){L===void 0&&(L={});var D=L.pixelRatio;D===void 0&&(D=1);var j=L.sdf;j===void 0&&(j=!1);var G=L.stretchX,te=L.stretchY,de=L.content;if(this._lazyInitEmptyStyle(),C instanceof $i||ta&&C instanceof ta){var _e=o.browser.getImageData(C);this.style.addImage(y,{data:new o.RGBAImage({width:_e.width,height:_e.height},_e.data),pixelRatio:D,stretchX:G,stretchY:te,content:de,sdf:j,version:0})}else{if(C.width===void 0||C.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var me=C;this.style.addImage(y,{data:new o.RGBAImage({width:C.width,height:C.height},new Uint8Array(C.data)),pixelRatio:D,stretchX:G,stretchY:te,content:de,sdf:j,version:0,userImage:me}),me.onAdd&&me.onAdd(this,y)}},p.prototype.updateImage=function(y,C){var L=this.style.getImage(y);if(!L)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var D=C instanceof $i||ta&&C instanceof ta?o.browser.getImageData(C):C,j=D.width,G=D.height,te=D.data;return j===void 0||G===void 0?this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):j!==L.data.width||G!==L.data.height?this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(L.data.replace(te,!(C instanceof $i||ta&&C instanceof ta)),void this.style.updateImage(y,L))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,C){o.getImage(this._requestManager.transformRequest(y,o.ResourceType.Image),C)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,C){return this._lazyInitEmptyStyle(),this.style.addLayer(y,C),this._update(!0)},p.prototype.moveLayer=function(y,C){return this.style.moveLayer(y,C),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,C,L){return this.style.setLayerZoomRange(y,C,L),this._update(!0)},p.prototype.setFilter=function(y,C,L){return L===void 0&&(L={}),this.style.setFilter(y,C,L),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,C,L,D){return D===void 0&&(D={}),this.style.setPaintProperty(y,C,L,D),this._update(!0)},p.prototype.getPaintProperty=function(y,C){return this.style.getPaintProperty(y,C)},p.prototype.setLayoutProperty=function(y,C,L,D){return D===void 0&&(D={}),this.style.setLayoutProperty(y,C,L,D),this._update(!0)},p.prototype.getLayoutProperty=function(y,C){return this.style.getLayoutProperty(y,C)},p.prototype.setLight=function(y,C){return C===void 0&&(C={}),this._lazyInitEmptyStyle(),this.style.setLight(y,C),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,C){return this.style.setFeatureState(y,C),this._update()},p.prototype.removeFeatureState=function(y,C){return this.style.removeFeatureState(y,C),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,C=0;return this._container&&(y=this._container.clientWidth||400,C=this._container.clientHeight||300),[y,C]},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("maplibregl-map","mapboxgl-map");var C=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",y);this._interactive&&C.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",C),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var L=this._containerDimensions();this._resizeCanvas(L[0],L[1]);var D=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",y),j=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(G){j[G]=S.create("div","maplibregl-ctrl-"+G+" mapboxgl-ctrl-"+G,D)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,C){var L=o.browser.devicePixelRatio||1;this._canvas.width=L*y,this._canvas.height=L*C,this._canvas.style.width=y+"px",this._canvas.style.height=C+"px"},p.prototype._setupPainter=function(){var y=o.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),C=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);C?(this.painter=new qt(C,this.transform),o.webpSupported.testSupport(C)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var C,L=this,D=0,j=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(C=j.createQueryEXT(),j.beginQueryEXT(j.TIME_ELAPSED_EXT,C),D=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var G=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var te=this.transform.zoom,de=o.browser.now();this.style.zoomHistory.update(te,de);var _e=new o.EvaluationParameters(te,{now:de,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),me=_e.crossFadingFactor();me===1&&me===this._crossFadingFactor||(G=!0,this._crossFadingFactor=me),this.style.update(_e)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||G)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Oe=o.browser.now()-D;j.endQueryEXT(j.TIME_ELAPSED_EXT,C),setTimeout(function(){var Te=j.getQueryObjectEXT(C,j.QUERY_RESULT_EXT)/1e6;j.deleteQueryEXT(C),L.fire(new o.Event("gpu-timing-frame",{cpuTime:Oe,gpuTime:Te}))},50)}if(this.listens("gpu-timing-layer")){var Pe=this.painter.collectGpuTimers();setTimeout(function(){var Te=L.painter.queryGpuTimers(Pe);L.fire(new o.Event("gpu-timing-layer",{layerTimes:Te}))},50)}var Ne=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ne||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),!this._loaded||this._fullyLoaded||Ne||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,C=this._controls;y<C.length;y+=1)C[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var L=this.painter.context.gl.getExtension("WEBGL_lose_context");L&&L.loseContext(),v(this._canvasContainer),v(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(C){y._frame=null,y._render(C)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},f.showPadding.get=function(){return!!this._showPadding},f.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,C){o.setCacheLimits(y,C)},f.version.get=function(){return o.version},Object.defineProperties(p.prototype,f),p}(dt);function v(c){c.parentNode&&c.parentNode.removeChild(c)}var _={showCompass:!0,showZoom:!0,visualizePitch:!1},k=function(c){var p=this;this.options=o.extend({},_,c),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(f){return f.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(f){return p._map.zoomIn({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(f){return p._map.zoomOut({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(f){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:f}):p._map.resetNorth({},{originalEvent:f})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};k.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),p=c===this._map.getMaxZoom(),f=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},k.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},k.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new O(this._map,this._compass,this.options.visualizePitch)),this._container},k.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},k.prototype._createButton=function(c,p){var f=S.create("button",c,this._container);return f.type="button",f.addEventListener("click",p),f},k.prototype._setButtonTitle=function(c,p){var f=this._map._getUIString("NavigationControl."+p);c.title=f,c.setAttribute("aria-label",f)};var O=function(c,p,f){f===void 0&&(f=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new sc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,f&&(this.mousePitch=new Zs({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(p,"mousedown",this.mousedown),S.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(p,"touchmove",this.touchmove),S.addEventListener(p,"touchend",this.touchend),S.addEventListener(p,"touchcancel",this.reset)};function I(c,p,f){if(c=new o.LngLat(c.lng,c.lat),p){var y=new o.LngLat(c.lng-360,c.lat),C=new o.LngLat(c.lng+360,c.lat),L=f.locationPoint(c).distSqr(p);f.locationPoint(y).distSqr(p)<L?c=y:f.locationPoint(C).distSqr(p)<L&&(c=C)}for(;Math.abs(c.lng-f.center.lng)>180;){var D=f.locationPoint(c);if(D.x>=0&&D.y>=0&&D.x<=f.width&&D.y<=f.height)break;c.lng>f.center.lng?c.lng-=360:c.lng+=360}return c}O.prototype.down=function(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),S.disableDrag()},O.prototype.move=function(c,p){var f=this.map,y=this.mouseRotate.mousemoveWindow(c,p);if(y&&y.bearingDelta&&f.setBearing(f.getBearing()+y.bearingDelta),this.mousePitch){var C=this.mousePitch.mousemoveWindow(c,p);C&&C.pitchDelta&&f.setPitch(f.getPitch()+C.pitchDelta)}},O.prototype.off=function(){var c=this.element;S.removeEventListener(c,"mousedown",this.mousedown),S.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(c,"touchmove",this.touchmove),S.removeEventListener(c,"touchend",this.touchend),S.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},O.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(o.window,"mousemove",this.mousemove),S.removeEventListener(o.window,"mouseup",this.mouseup)},O.prototype.mousedown=function(c){this.down(o.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),S.mousePos(this.element,c)),S.addEventListener(o.window,"mousemove",this.mousemove),S.addEventListener(o.window,"mouseup",this.mouseup)},O.prototype.mousemove=function(c){this.move(c,S.mousePos(this.element,c))},O.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},O.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},O.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},O.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},O.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var N={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Q(c,p,f){var y=c.classList;for(var C in N)y.remove("maplibregl-"+f+"-anchor-"+C,"mapboxgl-"+f+"-anchor-"+C);y.add("maplibregl-"+f+"-anchor-"+p,"mapboxgl-"+f+"-anchor-"+p)}var ie,ce=function(c){function p(f,y){if(c.call(this),(f instanceof o.window.HTMLElement||y)&&(f=o.extend({element:f},y)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=o.Point.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var C=S.createNS("http://www.w3.org/2000/svg","svg");C.setAttributeNS(null,"display","block"),C.setAttributeNS(null,"height","41px"),C.setAttributeNS(null,"width","27px"),C.setAttributeNS(null,"viewBox","0 0 27 41");var L=S.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");var D=S.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");var j=S.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");for(var G=0,te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];G<te.length;G+=1){var de=te[G],_e=S.createNS("http://www.w3.org/2000/svg","ellipse");_e.setAttributeNS(null,"opacity","0.04"),_e.setAttributeNS(null,"cx","10.5"),_e.setAttributeNS(null,"cy","5.80029008"),_e.setAttributeNS(null,"rx",de.rx),_e.setAttributeNS(null,"ry",de.ry),j.appendChild(_e)}var me=S.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"fill",this._color);var Oe=S.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),me.appendChild(Oe);var Pe=S.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"opacity","0.25"),Pe.setAttributeNS(null,"fill","#000000");var Ne=S.createNS("http://www.w3.org/2000/svg","path");Ne.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Pe.appendChild(Ne);var Te=S.createNS("http://www.w3.org/2000/svg","g");Te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Te.setAttributeNS(null,"fill","#FFFFFF");var ze=S.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(8.0, 8.0)");var We=S.createNS("http://www.w3.org/2000/svg","circle");We.setAttributeNS(null,"fill","#000000"),We.setAttributeNS(null,"opacity","0.25"),We.setAttributeNS(null,"cx","5.5"),We.setAttributeNS(null,"cy","5.5"),We.setAttributeNS(null,"r","5.4999962");var et=S.createNS("http://www.w3.org/2000/svg","circle");et.setAttributeNS(null,"fill","#FFFFFF"),et.setAttributeNS(null,"cx","5.5"),et.setAttributeNS(null,"cy","5.5"),et.setAttributeNS(null,"r","5.4999962"),ze.appendChild(We),ze.appendChild(et),D.appendChild(j),D.appendChild(me),D.appendChild(Pe),D.appendChild(Te),D.appendChild(ze),C.appendChild(D),C.setAttributeNS(null,"height",41*this._scale+"px"),C.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(C),this._offset=o.Point.convert(f&&f.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",function(At){At.preventDefault()}),this._element.addEventListener("mousedown",function(At){At.preventDefault()}),Q(this._element,this._anchor,"marker"),this._popup=null}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=o.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(f){var y=f.code,C=f.charCode||f.keyCode;y!=="Space"&&y!=="Enter"&&C!==32&&C!==13||this.togglePopup()},p.prototype._onMapClick=function(f){var y=f.originalEvent.target,C=this._element;this._popup&&(y===C||C.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this},p.prototype._update=function(f){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C="rotateX("+this._map.getPitch()+"deg)"),f&&f.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,N[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+C+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(f){return this._offset=o.Point.convert(f),this._update(),this},p.prototype._onMove=function(f){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(f){return this._rotation=f||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(f){return this._rotationAlignment=f||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(o.Evented),Be={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ke=0,ot=!1,bt=function(c){function p(f){c.call(this),this.options=o.extend({},Be,f),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){var y;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,ie!==void 0?y(ie):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(C){y(ie=C.state!=="denied")}):y(ie=!!o.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ke=0,ot=!1},p.prototype._isOutOfMapMaxBounds=function(f){var y=this._map.getMaxBounds(),C=f.coords;return y&&(C.longitude<y.getWest()||C.longitude>y.getEast()||C.latitude<y.getSouth()||C.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",f)),this._finish()}},p.prototype._updateCamera=function(f){var y=new o.LngLat(f.coords.longitude,f.coords.latitude),C=f.coords.accuracy,L=this._map.getBearing(),D=o.extend({bearing:L},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(C),D,{geolocateSource:!0})},p.prototype._updateMarker=function(f){if(f){var y=new o.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var f=this._map._container.clientHeight/2,y=this._map.unproject([0,f]),C=this._map.unproject([1,f]),L=y.distanceTo(C),D=Math.ceil(2*this._accuracy/L);this._circleElement.style.width=D+"px",this._circleElement.style.height=D+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&ot)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",f)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(f){var y=this;if(this._container.addEventListener("contextmenu",function(D){return D.preventDefault()}),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",f===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var C=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=C,this._geolocateButton.setAttribute("aria-label",C)}else{var L=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ce(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ce({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(D){D.geolocateSource||y._watchState!=="ACTIVE_LOCK"||D.originalEvent&&D.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),y.fire(new o.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ke--,ot=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ke>1?(f={maximumAge:6e5,timeout:0},ot=!0):(f=this.options.positionOptions,ot=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(o.Evented),Ct={maxWidth:100,unit:"metric"},Nt=function(c){this.options=o.extend({},Ct,c),o.bindAll(["_onMove","setUnit"],this)};function cn(c,p,f){var y=f&&f.maxWidth||100,C=c._container.clientHeight/2,L=c.unproject([0,C]),D=c.unproject([y,C]),j=L.distanceTo(D);if(f&&f.unit==="imperial"){var G=3.2808*j;G>5280?mt(p,y,G/5280,c._getUIString("ScaleControl.Miles")):mt(p,y,G,c._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?mt(p,y,j/1852,c._getUIString("ScaleControl.NauticalMiles")):j>=1e3?mt(p,y,j/1e3,c._getUIString("ScaleControl.Kilometers")):mt(p,y,j,c._getUIString("ScaleControl.Meters"))}function mt(c,p,f,y){var C,L,D,j=(C=f,(L=Math.pow(10,(""+Math.floor(C)).length-1))*(D=(D=C/L)>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(G){var te=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*te)/te}(D)));c.style.width=p*(j/f)+"px",c.innerHTML=j+"&nbsp;"+y}Nt.prototype.getDefaultPosition=function(){return"bottom-left"},Nt.prototype._onMove=function(){cn(this._map,this._container,this.options)},Nt.prototype.onAdd=function(c){return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Nt.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Nt.prototype.setUnit=function(c){this.options.unit=c,cn(this._map,this._container,this.options)};var Rt=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof o.window.HTMLElement?this._container=c.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Rt.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Rt.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Rt.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Rt.prototype._setupUI=function(){var c=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Rt.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Rt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Rt.prototype._isFullscreen=function(){return this._fullscreen},Rt.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Rt.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ze={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_n=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),xn=function(c){function p(f){c.call(this),this.options=o.extend(Object.create(Ze),f),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=o.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(f){return this.setDOMContent(o.window.document.createTextNode(f))},p.prototype.setHTML=function(f){var y,C=o.window.document.createDocumentFragment(),L=o.window.document.createElement("body");for(L.innerHTML=f;y=L.firstChild;)C.appendChild(y);return this.setDOMContent(C)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(f){return this.options.maxWidth=f,this._update(),this},p.prototype.setDOMContent=function(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(f){this._container&&this._container.classList.add(f)},p.prototype.removeClassName=function(f){this._container&&this._container.classList.remove(f)},p.prototype.setOffset=function(f){return this.options.offset=f,this._update(),this},p.prototype.toggleClassName=function(f){if(this._container)return this._container.classList.toggle(f)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(f){this._update(f.point)},p.prototype._onMouseMove=function(f){this._update(f.point)},p.prototype._onDrag=function(f){this._update(f.point)},p.prototype._update=function(f){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_e){return y._container.classList.add(_e)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||f)){var C=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat),L=this.options.anchor,D=function _e(me){if(me){if(typeof me=="number"){var Oe=Math.round(Math.sqrt(.5*Math.pow(me,2)));return{center:new o.Point(0,0),top:new o.Point(0,me),"top-left":new o.Point(Oe,Oe),"top-right":new o.Point(-Oe,Oe),bottom:new o.Point(0,-me),"bottom-left":new o.Point(Oe,-Oe),"bottom-right":new o.Point(-Oe,-Oe),left:new o.Point(me,0),right:new o.Point(-me,0)}}if(me instanceof o.Point||Array.isArray(me)){var Pe=o.Point.convert(me);return{center:Pe,top:Pe,"top-left":Pe,"top-right":Pe,bottom:Pe,"bottom-left":Pe,"bottom-right":Pe,left:Pe,right:Pe}}return{center:o.Point.convert(me.center||[0,0]),top:o.Point.convert(me.top||[0,0]),"top-left":o.Point.convert(me["top-left"]||[0,0]),"top-right":o.Point.convert(me["top-right"]||[0,0]),bottom:o.Point.convert(me.bottom||[0,0]),"bottom-left":o.Point.convert(me["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(me["bottom-right"]||[0,0]),left:o.Point.convert(me.left||[0,0]),right:o.Point.convert(me.right||[0,0])}}return _e(new o.Point(0,0))}(this.options.offset);if(!L){var j,G=this._container.offsetWidth,te=this._container.offsetHeight;j=C.y+D.bottom.y<te?["top"]:C.y>this._map.transform.height-te?["bottom"]:[],C.x<G/2?j.push("left"):C.x>this._map.transform.width-G/2&&j.push("right"),L=j.length===0?"bottom":j.join("-")}var de=C.add(D[L]).round();S.setTransform(this._container,N[L]+" translate("+de.x+"px,"+de.y+"px)"),Q(this._container,L,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var f=this._container.querySelector(_n);f&&f.focus()}},p.prototype._onClose=function(){this.remove()},p}(o.Evented),Kt={version:o.version,supported:x,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:m,NavigationControl:k,GeolocateControl:bt,AttributionControl:Yt,ScaleControl:Nt,FullscreenControl:Rt,Popup:xn,Marker:ce,Style:Qn,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function(){jt().acquire(Qe)},clearPrewarmedResources:function(){var c=ye;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(Qe),ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(c){o.config.ACCESS_TOKEN=c},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(c){o.config.API_URL=c},get workerCount(){return A.workerCount},set workerCount(c){A.workerCount=c},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){o.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){o.clearTileCache(c)},workerUrl:"",addProtocol:function(c,p){o.config.REGISTERED_PROTOCOLS[c]=p},removeProtocol:function(c){delete o.config.REGISTERED_PROTOCOLS[c]}};return Kt}),s})})(tue);class nue{setupExtension(t){}willInit(t){}willMount(t){}willUnMount(t){}willHide(t){}willUnhide(t){}willLegendUpdate(t){}willSourceUpdate(t){}willDestroy(t){}}const rue=(e,t)=>new Promise((n,i)=>{try{e.on(t,n)}catch(s){i(s)}});function iue(e){if(!e._loaded)return rue(e,"load")}const oue={click:[],mousemove:[]};function hP(e,t,n=50){return AP.addMapListener.dispatch(e,t,n),()=>{AP.removeMapListener.dispatch(e,t)}}const AP=Mo({addMapListener:(e,t,n)=>({eventType:e,listener:t,priority:n}),removeMapListener:(e,t)=>({eventType:e,listener:t})},({onAction:e},t=oue)=>(e("addMapListener",({eventType:n,listener:i,priority:s})=>{const l=[...t[n]];if(!l.length)l.push({listener:i,priority:s});else for(let o=0;o<l.length;o++){const x=l[o];if(s<x.priority){l.splice(o,0,{listener:i,priority:s});break}else if(x.priority===s){l.splice(o+1,0,{listener:i,priority:s});break}else if(l[o+1]){if(s>x.priority&&s<l[o+1].priority){l.splice(o+1,0,{listener:i,priority:s});break}}else{l.push({listener:i,priority:s});break}}t={...t,[n]:l}}),e("removeMapListener",({eventType:n,listener:i})=>t[n]=t[n].filter(s=>s.listener!==i)),t),"[Shared state] mapListenersAtom"),aue="_tootipRoot_i3o78_1",sue="_hexagon_i3o78_5",lue="_labels_i3o78_28",uue="_column_i3o78_34",cue="_bivariateHexagonPopupContentRoot_i3o78_45",OA={tootipRoot:aue,hexagon:sue,labels:lue,column:uue,bivariateHexagonPopupContentRoot:cue},fue=OA.bivariateHexagonPopupContentRoot,pue=e=>A4(e)?p2:Tie(e)?h2:zR,hue=e=>d4(e)?p2:Pie(e)?h2:zR,Aue=({hexagonColor:e,axis:t,cellIndex:n,cellLabel:i,values:s})=>Qr("div",{className:OA.tootipRoot,children:[wt("div",{className:OA.hexagon,children:wt("div",{style:{background:e},children:i})}),Qr("div",{className:OA.labels,children:[Qr("div",{className:OA.column,children:[wt("span",{children:t.x.label||xT(t.x.quotients)}),wt("span",{children:t.y.label||xT(t.y.quotients)})]}),s&&Qr("div",{className:OA.column,children:[wt("span",{children:s.x}),wt("span",{children:s.y})]}),Qr("div",{className:OA.column,children:[wt("span",{children:pue(n)}),wt("span",{children:hue(n)})]})]})]});Mo({set:e=>e,reset:()=>null},({onAction:e},t=null)=>(e("set",n=>t={id:n}),e("reset",()=>t=null),t),"[Shared state] currentEpisodeAtom");const due=Mo({setCurrentEventId:e=>e,focusedGeometryAtom:gD},({onAction:e,onChange:t},n=null)=>(t("focusedGeometryAtom",i=>{const s=i==null?void 0:i.source;s&&s.type!=="event"&&s.type!=="episode"&&(n={id:null})}),e("setCurrentEventId",i=>n={id:i}),n),"[Shared state] currentEventAtom"),mue=SR(!1,"scheduledAutoSelect");SR(!1,"scheduledAutoFocus");const gue=qR(null,async(e,t)=>pD.get("/events/user_feeds",void 0,!0,{signal:t.signal}),"eventFeedsResource"),dP=[va.defaultFeedObject],yue=Mo({eventFeedsResourceAtom:gue},({get:e},t=dP)=>{const{data:n,error:i,loading:s}=e("eventFeedsResourceAtom");return!s&&!i?n?(console.assert(n.map(l=>l.feed).includes(va.defaultFeedObject.feed),"default feed not included in response"),n):[...dP]:t},"[Shared state] eventFeeds");Mo({setCurrentFeed:e=>e,setFeedForExistingEvent:e=>e,resetCurrentFeed:()=>null,eventFeedsAtom:yue},({onAction:e,onChange:t,schedule:n,getUnlistedState:i},s={id:va.defaultFeed})=>(e("setCurrentFeed",l=>{(s==null?void 0:s.id)!==l&&(s={id:l})}),e("resetCurrentFeed",()=>{s&&(s=null)}),t("eventFeedsAtom",l=>{if(l&&l.length){const o=vue(l,s==null?void 0:s.id);o!==void 0&&o!==(s==null?void 0:s.id)&&(s={id:o},i(due)!==null&&n(S=>S(mue.setTrue())))}}),s),"[Shared state] currentEventFeedAtom");function vue(e,t){var i,s;if(!t)return(i=va.defaultFeedObject)==null?void 0:i.feed;const n=e==null?void 0:e.find(l=>l.feed===t);return n?n.feed:(s=va.defaultFeedObject)==null?void 0:s.feed}Mo({setCurrentMapPosition:e=>e},({onAction:e,schedule:t},n=null)=>(e("setCurrentMapPosition",({lat:i,lng:s,zoom:l})=>{n===null&&(n={lat:i,lng:s,zoom:l}),(n.lat!==i||n.lng!==s||n.zoom!==l)&&(n={lat:i,lng:s,zoom:l})}),n),"[Shared state] currentMapPositionAtom");Mo({addControl:e=>e,removeControl:e=>e,toggleActiveState:e=>e,enable:e=>e,disable:e=>e,reset:()=>null,currentUserAtom:C4},({onAction:e,onChange:t,schedule:n,create:i},s={})=>(t("currentUserAtom",(l,o)=>{o!==void 0&&n(x=>{x(i("reset"))})}),e("addControl",l=>{s={...s,[l.id]:l}}),e("removeControl",l=>{delete s[l],s={...s}}),e("enable",l=>{var M;const o=s[l];(M=o.onChange)==null||M.call(o,!0);const x={...s[l],active:!0},S={...s,[l]:x},T=[];Object.entries(S).forEach(([F,z])=>{if(z.id!==l&&z.exclusiveGroup===o.exclusiveGroup&&z.active){const U=i("disable",z.id);T.push(U)}}),T.length&&n(F=>{F(T)}),s=S}),e("disable",l=>{var S;const o=s[l];(S=o==null?void 0:o.onChange)==null||S.call(o,!1);const x={...s[l],active:!1};s={...s,[l]:x}}),e("toggleActiveState",l=>{if(!s[l])return console.error(`[toolbarControlsAtom] Cannot toggle state for ${l} because it doesn't exist`);const x=i(s[l].active?"disable":"enable",l);n(S=>S(x))}),e("reset",()=>{Object.entries(s).forEach(([l,o])=>{var x;o.active&&((x=o.onChange)==null||x.call(o,!1))}),s={}}),s),"[Shared state] toolbarControlsAtom");const _ue=nX,xue=Mo({set:(e={...va.effectiveFeatures})=>e},({onAction:e},t={})=>{if(e("set",n=>{n?t=n:t={...va.effectiveFeatures}}),{}.VITE_FEATURES_CONFIG)try{const n=JSON.parse({}.VITE_FEATURES_CONFIG);n&&(t={...t,...n})}catch(n){console.error("Local features override error",n)}return t},"[Shared state] featureFlagsAtom"),bue=8,wue="rgba(5, 22, 38, 0.4)",Sue="rgb(5, 22, 38)",mP="hex-selected-layer",Yd="hex-selected-source",Jd="hex-hover-source",gP="hex-hover-layer",yP=e=>e.a===0&&e.r===0&&e.g===0&&e.b===0,Eue=(e,t=!0)=>`rgba(${e.r*255*2},${e.g*255*2},${e.b*255*2}${t?","+e.a:""})`,vP=(e,t)=>{const n=Xle(e.lat,e.lng,Math.min(t,bue)),i=Yle(n,!0);return Cue(i),{type:"Polygon",coordinates:[i]}};function Cue(e){let t=!1;for(let n=0;n<e.length;n++)if(Math.abs(e[0][0]-e[(n+1)%e.length][0])>180){t=!0;break}t&&e.forEach(kue)}function kue(e){const t=e[0];e[0]=t<0?t+360:t}const _P=(e,t,n)=>{const i=e[t],s=e[n];if(i==null||s==null)return"0.00";if(s!==0)return(i/s).toFixed(2)};class Tue extends nue{constructor({id:n,layersOrderManager:i}){super();oi(this,"id");oi(this,"_layerId");oi(this,"_sourceId");oi(this,"_removeClickListener",null);oi(this,"_removeMouseMoveListener",null);oi(this,"_layersOrderManager");oi(this,"_popup");oi(this,"onMapZoom",n=>{this.cleanPopupWithDeps(n.target)});this.id=n,this._layersOrderManager=i,this._sourceId=Ose+this.id}_generateLayerFromLegend(n){if(n.type==="bivariate")return tle(n);throw new Error(`Unexpected legend type '${n.type}'`)}_setTileScheme(n,i){n.includes("{-y}")&&(i.scheme="tms")}async mountBivariateLayer(n,i,s){const l={type:"vector",tiles:i.source.urls.map(o=>bD(o)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};if(this._setTileScheme(i.source.urls[0],l),await iue(n),n.getSource(this._sourceId)===void 0&&n.addSource(this._sourceId,l),s){const o=this._generateLayerFromLegend(s),x=`${Ise+this.id}`;if(n.getLayer(x))return;const S={...o,id:x,source:this._sourceId};fse(n,this._layersOrderManager).addAboveLayerWithSameType(S,this.id),this._layerId=S.id}else throw new Error(`[GenericLayer ${this.id}] Vector layers must have legend`)}_updateMap(n,i,s,l){if(i==null)return;this.mountBivariateLayer(n,i,s);const o=S=>{var De;const T=S.target.queryRenderedFeatures(S.point).filter(tt=>tt.source.includes(this._sourceId));if(!T.length||!s||!T[0].geometry)return!0;const M=T[0],F=vP(S.lngLat,n.getZoom()),z=(De=M.layer.paint)==null?void 0:De["fill-color"];if(!z||yP(z)||!M.properties)return!0;const U=xue.getState()[_ue.BIVARIATE_MANAGER],[q,K]=s.axis.x.quotient,[ee,V]=s.axis.y.quotient,X=_P(M.properties,q,K),ne=_P(M.properties,ee,V);if(!X||!ne)return!0;const he=Eue(z),pe=$ie(s.steps,"label"),le=ole(s.axis.x.steps,s.axis.y.steps,Number(X),Number(ne)),be=pe.findIndex(tt=>tt.label===le),Se=document.createElement("div");return zO(Se).render(wt(Aue,{cellLabel:pe[be].label,cellIndex:be,axis:s.axis,values:U?{x:X,y:ne}:void 0,hexagonColor:he})),this.cleanPopup(),this._popup=new k4.Popup({closeOnClick:!0,className:fue,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(Se).addTo(n),this._popup.once("close",()=>{this.cleanSelection(n)}),this.cleanHover(n),n.getSource(Yd)?n.getSource(Yd).setData({type:"Feature",geometry:F,properties:{}}):(n.addSource(Yd,{type:"geojson",data:{type:"Feature",geometry:F,properties:{}}}),n.addLayer({id:mP,type:"line",source:Yd,layout:{},paint:{"line-color":Sue,"line-width":1}})),!0},x=Nle(S=>{var U,q;const T=S.target.queryRenderedFeatures(S.point);if(!T.length||!T[0].geometry||!((U=T[0])!=null&&U.source.includes(this._sourceId)))return!0;const M=T[0],F=vP(S.lngLat,n.getZoom()),z=(q=M.layer.paint)==null?void 0:q["fill-color"];return!z||yP(z)||(n.getSource(Jd)?n.getSource(Jd).setData({type:"Feature",geometry:F,properties:{}}):(n.addSource(Jd,{type:"geojson",data:{type:"Feature",geometry:F,properties:{}}}),n.addLayer({id:gP,type:"line",source:Jd,layout:{},paint:{"line-color":wue,"line-width":1}}))),!0},100);n.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null),this._removeMouseMoveListener=hP("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=hP("click",o,60),l||this.willHide({map:n})}cleanPopup(){this._popup&&(this._popup.remove(),this._popup=null)}cleanHover(n){n.getSource(Jd)&&(n.removeLayer(gP),n.removeSource(Jd))}cleanSelection(n){n.getSource(Yd)&&(n.removeLayer(mP),n.removeSource(Yd))}cleanPopupWithDeps(n){this.cleanPopup(),this.cleanHover(n),this.cleanSelection(n)}willSourceUpdate({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible)}willMount({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible)}willUnMount({map:n}){var i,s;this._layerId&&n.getLayer(this._layerId)?(n.removeLayer(this._layerId),this._layerId=void 0):console.warn(`Can't remove layer with ID: ${this._layerId}. Layer does't exist in map`),this.cleanPopupWithDeps(n),n.off("zoom",this.onMapZoom),n.getSource(this._sourceId)?n.removeSource(this._sourceId):console.warn(`Can't remove source with ID: ${this._sourceId}. Source does't exist in map`),(i=this._removeClickListener)==null||i.call(this),(s=this._removeMouseMoveListener)==null||s.call(this)}willHide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?(n.setLayoutProperty(this._layerId,"visibility","none"),this.cleanPopupWithDeps(n)):console.warn(`Can't hide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willUnhide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?n.setLayoutProperty(this._layerId,"visibility","visible"):console.warn(`Cannot unhide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willDestroy({map:n}){this._layerId===void 0||n===null||n.getLayer(this._layerId)!==void 0&&this.willUnMount({map:n})}}const x3=(e,t,n)=>{const i=e?e.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.xNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.xDenominator)):-1,s=t?t.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.yNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.yDenominator)):-1;return{x:i,y:s}},xP=(e,t,n)=>{const i=[...e];let s;const l=i.findIndex(({quotients:o})=>(s=o.find(x=>x[0]===t&&x[1]===n),s));return s&&(i[l]={...i[l],selectedQuotient:s}),i},Pue={xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null,selectCellCallback:null},b3=(e,t,n,i)=>({xNumerator:e,xDenominator:t,yNumerator:n,yDenominator:i}),Iue=Mo({enabledLayersAtom:jA,layersLegendsAtom:e5,calculateSelectedCell:()=>null,resetSelection:()=>null,setSelectCellCallback:e=>e,runPreselection:()=>null,setMatrixSelection:b3,presetMatrixSelection:e=>e,enableBivariateLayer:e=>e,disableBivariateLayer:()=>null},({onAction:e,schedule:t,getUnlistedState:n,create:i,onChange:s},l=Pue)=>{e("calculateSelectedCell",()=>{const{xGroups:x,yGroups:S}=n(z1),T=x3(x,S,b3(l.xNumerator,l.xDenominator,l.yNumerator,l.yDenominator)),M=l.selectedCell;(!M||T.x!==M.x||T.y!==M.y)&&(l={...l,selectedCell:T})}),e("setSelectCellCallback",x=>{l={...l,selectCellCallback:x}});const o=()=>{const x=n(jA),S=n(o0);return[...x].map(M=>{var F;return(F=S.get(M))==null?void 0:F.getState()}).find(M=>{var F;return M&&M.isEnabled&&((F=M.legend)==null?void 0:F.type)==="bivariate"})};return e("resetSelection",()=>{l={...l,xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null},t(x=>{var S;(S=l==null?void 0:l.selectCellCallback)==null||S.call(l,-1,-1)})}),e("runPreselection",()=>{const x=o();if(!x||!(x!=null&&x.legend)){t(T=>{T(i("resetSelection"))});return}const S=x.legend.axis;if(S){const T=b3(S.x.quotient[0]||null,S.x.quotient[1]||null,S.y.quotient[0]||null,S.y.quotient[1]||null),{xGroups:M,yGroups:F}=n(z1),z=x3(M,F,T);if(z.x>=0&&z.y>=0){t(ee=>{var V;ee(i("presetMatrixSelection",T)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,z.x,z.y)});return}let U=M,q=F;z.x===-1&&(U=xP(M,S.x.quotient[0],S.x.quotient[1])),z.y===-1&&(q=xP(F,S.y.quotient[0],S.y.quotient[1]));const K=x3(U,q,T);t(ee=>{var V;K.x>=0&&K.y>=0?(ee(z1.setNumerators(U,q)),ee(i("presetMatrixSelection",T)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,K.x,K.y)):ee(i("resetSelection"))})}}),e("presetMatrixSelection",x=>{l={...l,...x},t(S=>{S(i("calculateSelectedCell"))})}),e("setMatrixSelection",x=>{l={...l,...x},t(V=>{V(i("calculateSelectedCell"))});const{xNumerator:S,xDenominator:T,yNumerator:M,yDenominator:F}=x;if(S===null||M===null)return;const{xGroups:z,yGroups:U}=n(z1),q=n(xD).data;if(q===null)return;const K=q.polygonStatistic.bivariateStatistic;if(!z||!U||!z.length||!U.length||!T||!F)return;const ee=Yse(S,T,M,F,K);if(ee){const[V,X]=ee,ne=nle("Bivariate Layer",V,S,T,M,F,K);if(ne){const he=X,pe=he.source,le=he.id,be=ile(S,T,M,F,K),Se=pe?{id:le,maxZoom:pe.maxzoom,minZoom:pe.minzoom,source:{type:pe.type,urls:pe.tiles,tileSize:512,apiKey:""}}:void 0,[De,tt]=lP([{id:le,legend:ne,meta:be,source:Se}]);n(zy).has(le)||De.push(...lP([{id:le,settings:{id:le,name:"Bivariate Layer",category:"overlay",group:"bivariate",ownedByUser:!0}}]).flat()),n(o0).has(le)||De.push(i("disableBivariateLayer"),o0.register({id:le,renderer:new Tue({id:le}),cleanUpActions:tt}),i("enableBivariateLayer",le)),De.length&&t((yt,Ot={})=>{yt(De),Ot.bivariateLayerAtomId=le})}}}),e("enableBivariateLayer",x=>{const S=n(o0);for(const[T,M]of Array.from(S))if(T===x){t(F=>{F(M.enable())});break}}),e("disableBivariateLayer",()=>{const x=n(o0);t((S,T={})=>{if(T.bivariateLayerAtomId){const M=x.get(T.bivariateLayerAtomId);M&&S(M.destroy())}})}),l},"bivariateMatrixSelection"),Oue=$t.createContext(null),_2=37,Mue=.7,CD=_2/Math.sqrt(2),kD=_2/Math.sqrt(2);function Lue(e,t,n=0){return $t.useMemo(()=>({display:"inline-grid","--cell-size":n===0?"initial":`${n}px`,gridTemplateRows:`repeat(${t}, ${n===0?"auto":n+"px"})`,gridTemplateColumns:`repeat(${e}, ${n===0?"auto":n+"px"})`}),[e,t,n])}function Rue(e,t){const n=[];for(let i=0;i<e;i++){n[i]=[];for(let s=0;s<t;s++)n[i][s]={gridColumn:`${i} / ${i+1}`,gridRow:`${s} / ${s+1}`}}return n}function Due(e,t){return $t.useMemo(()=>{if(!e||!e.length||!t||!t.length)return 0;let i=U1(e[0].label);for(let l=1;l<e.length;l++){const o=U1(e[l].label),x=l*kD;o>i+x&&(i=o-x)}let s=U1(t[0].label);for(let l=1;l<t.length;l++){const o=U1(t[l].label),x=l*CD;o>s+x&&(s=o-x)}return i>s?i:s},[e,t])}const Fue=document.createElement("canvas"),TD=Fue.getContext("2d")||{};TD.font="normal 13px Roboto";const Bue=30,zue=90;function U1(e){return TD.measureText(e).width+Bue+zue}function bP(e,t,n){return t?{height:`${e+n*kD}px`}:{width:`${e+n*CD}px`}}const Nue="_hoveredCell_kt59d_1",Uue="_valueCell_kt59d_5",jue="_rotatedCell_kt59d_19",$ue="_valueFill_kt59d_28",Vue="_disabled_kt59d_39",Hue="_selectedCol_kt59d_43",que="_first_kt59d_48",Gue="_last_kt59d_52",Que="_selectedRow_kt59d_56",dp={hoveredCell:Nue,valueCell:Uue,rotatedCell:jue,valueFill:$ue,disabled:Vue,selectedCol:Hue,first:que,last:Gue,selectedRow:Que},PD=$t.forwardRef(({value:e,x:t,y:n,className:i,onMouseOver:s,onMouseOut:l,onClick:o,disabled:x=!1,style:S,firstRow:T,firstCol:M,lastRow:F,lastCol:z},U)=>{const q=$t.useRef(null);let K=!1,ee=!1,V=!1;const X=aa(dp.valueCell,i,x&&dp.disabled);function ne(){return`${X} ${aa({[dp.hoveredCell]:K,[dp.selectedCol]:V,[dp.selectedRow]:ee,[dp.first]:T&&V||M&&ee,[dp.last]:F&&V||z&&ee})}`}return $t.useImperativeHandle(U,()=>({setHovered:()=>{q.current&&(K=!0,q.current.className=ne())},resetHovered:()=>{q.current&&(K=!1,q.current.className=ne())},setSelectedCol:()=>{q.current&&(V=!0,q.current.className=ne())},resetSelectedCol:()=>{q.current&&(V=!1,q.current.className=ne())},setSelectedRow:()=>{q.current&&(ee=!0,q.current.className=ne())},resetSelectedRow:()=>{q.current&&(ee=!1,q.current.className=ne())}})),wt("div",{ref:q,className:X,style:S,onMouseOver:()=>{s(t,n)},onClick:he=>{o(t,n,he)},onMouseOut:l,children:!x&&e!==void 0?Qr(ux,{children:[Math.abs(e)>=.1&&wt("div",{className:dp.valueFill,style:{transform:`scale(${Math.abs(e)})`}}),wt("span",{className:dp.rotatedCell,children:e==null?void 0:e.toFixed(3)})]}):null})});PD.displayName="BivariateMatrixCell";const Wue="_legendSlot_i0ppr_6",Kue="_matrixContainer_i0ppr_14",Zue="_rotatedMatrix_i0ppr_21",wP={legendSlot:Wue,matrixContainer:Kue,rotatedMatrix:Zue},Xue="_horConnector_zzmmn_1",Yue="_vertConnector_zzmmn_7",Jue="_connectorBody_zzmmn_13",ece="_hovered_zzmmn_28",tce="_selected_zzmmn_33",e0={horConnector:Xue,vertConnector:Yue,connectorBody:Jue,hovered:ece,selected:tce},T4=$t.forwardRef(({type:e,style:t},n)=>{const i=$t.useRef(null);let s=!1,l=!1;const o=e0.connectorBody;function x(){return`${o} ${aa({[e0.hovered]:s,[e0.selected]:l})}`}return $t.useImperativeHandle(n,()=>({setHovered:()=>{i.current&&(s=!0,i.current.className=x())},resetHovered:()=>{i.current&&(s=!1,i.current.className=x())},setSelectedCol:()=>{e==="vertical"&&i.current&&(l=!0,i.current.className=x())},resetSelectedCol:()=>{e==="vertical"&&i.current&&(l=!1,i.current.className=x())},setSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!0,i.current.className=x())},resetSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!1,i.current.className=x())}})),wt("div",{className:e==="horizontal"?e0.horConnector:e0.vertConnector,style:t,children:wt("div",{className:e0.connectorBody,ref:i})})});T4.displayName="BivariateMatrixCellConnector";const nce="_denominatorIcon_2n0u5_1",rce={denominatorIcon:nce},ice=()=>Qr("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Qr("g",{clipPath:"url(#clip0_4777_147920)",children:[wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59226 5.6715C4.57385 5.68982 4.55581 5.70848 4.53814 5.72748C4.27818 6.00698 4.09843 6.3591 4.03058 6.74363C4.30836 6.45062 4.50699 6.08183 4.59226 5.6715ZM10.3266 5.66248C10.4117 6.0808 10.6146 6.45633 10.8991 6.75295C10.8325 6.3648 10.6519 6.00926 10.3899 5.7275C10.3693 5.70537 10.3482 5.68368 10.3266 5.66248ZM10.927 7.12889C10.2881 7.58142 9.93487 8.39557 10.1356 9.23105L10.3024 9.92533L10.8712 7.55816C10.9059 7.41385 10.924 7.27018 10.927 7.12889ZM10.8167 12.0655L11.135 13.3906C11.2431 13.8401 11.6451 14.157 12.1074 14.157H12.8928C13.3551 14.157 13.7571 13.8401 13.8651 13.3906L14.8646 9.23105C15.0886 8.29843 14.6225 7.39238 13.8391 6.98624C14.3731 6.58123 14.718 5.93987 14.718 5.21796C14.718 3.99301 13.725 3 12.5001 3C12.1224 3 11.7669 3.09436 11.4556 3.26079C11.4174 3.85333 11.25 4.41104 10.9816 4.90556C11.0898 5.00751 11.1903 5.11726 11.2822 5.23375C11.2821 5.22849 11.2821 5.22323 11.2821 5.21796C11.2821 4.5453 11.8274 4 12.5001 4C13.1727 4 13.718 4.5453 13.718 5.21796C13.718 5.89062 13.1727 6.43592 12.5001 6.43592C12.2381 6.43592 11.9954 6.35321 11.7968 6.21249C11.9482 6.7042 11.975 7.24459 11.8435 7.79175C11.9191 7.77351 11.9983 7.7638 12.0803 7.7638H12.9199C13.5667 7.7638 14.0433 8.36854 13.8922 8.99743L12.8928 13.157L12.1074 13.157L11.3309 9.92533L10.8167 12.0655ZM4.10776 12.0505L3.78577 13.3906C3.67777 13.8401 3.27574 14.157 2.81344 14.157H2.02803C1.56574 14.157 1.16371 13.8401 1.0557 13.3906L0.0562696 9.23105C-0.167809 8.29845 0.298349 7.39241 1.08167 6.98626C0.547652 6.58125 0.202745 5.93988 0.202745 5.21796C0.202745 3.99301 1.19576 3 2.42071 3C2.80138 3 3.15965 3.0959 3.47268 3.26486C3.5114 3.85587 3.67872 4.41215 3.94647 4.90553C3.83535 5.01024 3.73236 5.12317 3.63841 5.24319C3.63858 5.2348 3.63867 5.22639 3.63867 5.21796C3.63867 4.5453 3.09337 4 2.42071 4C1.74804 4 1.20274 4.5453 1.20274 5.21796C1.20274 5.89062 1.74804 6.43592 2.42071 6.43592C2.68679 6.43592 2.93294 6.3506 3.1333 6.20582C2.98006 6.69932 2.95243 7.24213 3.0845 7.79178L3.08494 7.79363C3.00708 7.77418 2.92528 7.7638 2.84055 7.7638H2.00092C1.35413 7.7638 0.877492 8.36854 1.0286 8.99742L2.02803 13.157L2.81344 13.157L3.59353 9.91034L4.10776 12.0505ZM4.62199 9.91034L4.78521 9.23105C4.98518 8.39877 4.63543 7.58765 4.00112 7.13409C4.00445 7.2737 4.02258 7.41562 4.05683 7.55816L4.62199 9.91034Z",fill:"black"}),wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46348 3C9.46348 4.10457 8.56805 5 7.46348 5C6.35891 5 5.46348 4.10457 5.46348 3C5.46348 1.89543 6.35891 1 7.46348 1C8.56805 1 9.46348 1.89543 9.46348 3ZM9.52339 5.18101C10.1023 4.63409 10.4635 3.85923 10.4635 3C10.4635 1.34315 9.12033 0 7.46348 0C5.80662 0 4.46348 1.34315 4.46348 3C4.46348 3.85922 4.8247 4.63408 5.40356 5.181C4.4317 5.4836 3.80296 6.50391 4.05627 7.55816L5.68205 14.3245C5.79005 14.774 6.19208 15.0909 6.65437 15.0909H8.27254C8.73483 15.0909 9.13686 14.774 9.24487 14.3245L10.8706 7.55816C11.1239 6.50392 10.4952 5.48363 9.52339 5.18101ZM6.00092 6.09091H8.92599C9.57278 6.09091 10.0494 6.69564 9.89832 7.32453L8.27254 14.0909H6.65437L5.0286 7.32453C4.87749 6.69564 5.35414 6.09091 6.00092 6.09091Z",fill:"black"})]}),wt("defs",{children:wt("clipPath",{id:"clip0_4777_147920",children:wt("rect",{width:"24",height:"24",fill:"white"})})})]}),oce=()=>wt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:wt("path",{d:"M14.6012 12.1833C15.0887 12.6708 15.0887 13.4833 14.6012 13.9708L13.7346 14.8375C13.6262 14.9458 13.5179 15 13.3554 15C13.2471 15 13.0846 14.9458 12.9762 14.8375C12.7596 14.6208 12.7596 14.2958 12.9762 14.1333L13.4637 13.6458H3.33874C2.20124 13.6458 1.33457 12.725 1.33457 11.5875V1.4625L0.847072 1.95C0.630406 2.16667 0.305406 2.16667 0.142906 1.95C-0.0195943 1.73333 -0.073761 1.40833 0.142906 1.24583L1.00957 0.379167C1.49707 -0.108333 2.30957 -0.108333 2.79707 0.379167L3.66374 1.24583C3.88041 1.4625 3.88041 1.7875 3.66374 1.95C3.55541 2.05833 3.39291 2.05833 3.28457 2.05833C3.17624 2.05833 3.01374 2.00417 2.90541 1.89583L2.36374 1.35417V11.5875C2.36374 12.1292 2.79707 12.6167 3.39291 12.6167H13.5721L13.0304 12.075C12.8137 11.8583 12.8137 11.5333 13.0304 11.3708C13.2471 11.1542 13.5721 11.1542 13.7346 11.3708L14.6012 12.1833ZM13.4637 0H6.85541C6.58457 0 6.36791 0.216667 6.36791 0.4875C6.36791 0.758333 6.58457 0.975 6.85541 0.975H13.4096C13.6804 0.975 13.8971 1.19167 13.8971 1.4625V8.125C13.8971 8.39583 14.1137 8.6125 14.3846 8.6125C14.6554 8.6125 14.8721 8.39583 14.8721 8.125V1.51667C14.9804 0.704167 14.2762 0 13.4637 0ZM8.45541 9.72083C8.72624 9.72083 8.94291 9.50417 8.94291 9.23333V6.95833C8.94291 6.2 8.29291 5.55 7.53457 5.55C7.20957 5.55 6.88457 5.65833 6.66791 5.875C6.45124 5.65833 6.12624 5.55 5.80124 5.55C5.58457 5.55 5.42207 5.60417 5.25957 5.65833C5.15124 5.55 5.04291 5.49583 4.88041 5.49583C4.60957 5.49583 4.39291 5.7125 4.39291 5.98333V9.17917C4.39291 9.45 4.60957 9.66667 4.88041 9.66667C5.15124 9.66667 5.36791 9.45 5.36791 9.17917V6.95833C5.36791 6.74167 5.53041 6.57917 5.74707 6.57917C5.96374 6.57917 6.12624 6.74167 6.12624 6.95833V9.23333C6.12624 9.50417 6.34291 9.72083 6.61374 9.72083C6.88457 9.72083 7.10124 9.50417 7.10124 9.23333V6.95833C7.10124 6.74167 7.26374 6.57917 7.48041 6.57917C7.69707 6.57917 7.85957 6.74167 7.85957 6.95833V9.23333C7.91374 9.50417 8.18457 9.72083 8.45541 9.72083ZM10.7304 3.7625C10.0804 3.7625 9.53874 4.30417 9.53874 4.95417C9.53874 5.225 9.75541 5.44167 10.0262 5.44167C10.2971 5.44167 10.5137 5.225 10.5137 4.95417C10.5137 4.84583 10.5679 4.79167 10.6762 4.79167C10.7304 4.79167 10.8387 4.84583 10.8387 4.95417C10.8387 5.00833 10.7304 5.225 10.2429 5.76667C9.9179 6.09167 9.64707 6.3625 9.64707 6.3625C9.48457 6.525 9.4304 6.74167 9.53874 6.90417C9.59291 7.12083 9.80957 7.22917 10.0262 7.22917H11.3804C11.6512 7.22917 11.8679 7.0125 11.8679 6.74167C11.8679 6.47083 11.6512 6.25417 11.3804 6.25417H11.2721C11.7054 5.7125 11.9221 5.33333 11.9221 5.00833C11.9221 4.25 11.3804 3.7625 10.7304 3.7625Z",fill:"black"})}),ace=()=>wt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5938 15C14.112 15 14.5312 14.5807 14.5312 14.0625V7.5C14.5312 6.9818 14.112 6.5625 13.5938 6.5625H12.6562V0.9375C12.6562 0.419297 12.237 0 11.7188 0H5.15625C4.63805 0 4.21875 0.419297 4.21875 0.9375V2.8125H1.40625C0.888047 2.8125 0.46875 3.2318 0.46875 3.75V14.0625C0.46875 14.5807 0.888047 15 1.40625 15H13.5938ZM1.40625 3.75H4.21875V5.5H3.5C3.22386 5.5 3 5.72386 3 6C3 6.27614 3.22386 6.5 3.5 6.5H4.21875V8H3.5C3.22386 8 3 8.22386 3 8.5C3 8.77614 3.22386 9 3.5 9H4.21875V10.5H3.5C3.22386 10.5 3 10.7239 3 11C3 11.2761 3.22386 11.5 3.5 11.5H4.21875V14.0625H1.40625V3.75ZM5.15625 0.9375H11.7188V14.0625H8.90625V11.25H7.96875V14.0625H5.15625V0.9375ZM12.6562 7.5H13.5938V14.0625H12.6562V7.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5ZM6 7.5C6 7.22386 6.22386 7 6.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H6.5C6.22386 8 6 7.77614 6 7.5ZM6.5 5C6.22386 5 6 5.22386 6 5.5C6 5.77614 6.22386 6 6.5 6H10.5C10.7761 6 11 5.77614 11 5.5C11 5.22386 10.7761 5 10.5 5H6.5Z",fill:"black"})}),sce=()=>wt("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4949 0.505013C14.7683 0.77838 14.7683 1.2216 14.4949 1.49496L1.49493 14.495C1.22156 14.7683 0.778343 14.7683 0.504977 14.495C0.23161 14.2216 0.23161 13.7784 0.504977 13.505L13.505 0.505013C13.7783 0.231646 14.2216 0.231646 14.4949 0.505013ZM14.495 6.50503C14.7683 6.77839 14.7683 7.22161 14.495 7.49497L7.49497 14.495C7.22161 14.7683 6.77839 14.7683 6.50503 14.495C6.23166 14.2216 6.23166 13.7784 6.50503 13.505L13.505 6.50503C13.7784 6.23166 14.2216 6.23166 14.495 6.50503ZM8.49498 1.49497C8.76834 1.22161 8.76834 0.778392 8.49498 0.505025C8.22161 0.231658 7.77839 0.231658 7.50503 0.505025L0.505025 7.50503C0.231658 7.77839 0.231658 8.22161 0.505025 8.49498C0.778392 8.76834 1.22161 8.76834 1.49497 8.49498L8.49498 1.49497ZM3.49497 0.505025C3.76834 0.778392 3.76834 1.22161 3.49497 1.49497L1.49497 3.49497C1.22161 3.76834 0.778392 3.76834 0.505025 3.49497C0.231658 3.22161 0.231658 2.77839 0.505025 2.50503L2.50503 0.505025C2.77839 0.231658 3.22161 0.231658 3.49497 0.505025ZM14.495 12.495C14.7684 12.2216 14.7684 11.7784 14.495 11.505C14.2217 11.2317 13.7784 11.2317 13.5051 11.505L11.5051 13.505C11.2317 13.7784 11.2317 14.2216 11.5051 14.495C11.7784 14.7683 12.2217 14.7683 12.495 14.495L14.495 12.495Z",fill:"black"})}),lce=()=>wt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.60002 4C8.60002 3.75732 8.45384 3.53854 8.22963 3.44567C8.00543 3.3528 7.74736 3.40413 7.57576 3.57573L5.57576 5.57573C5.34145 5.81005 5.34145 6.18995 5.57576 6.42426C5.81007 6.65857 6.18997 6.65857 6.42429 6.42426L7.40002 5.44852V10.4H6.50002C6.16865 10.4 5.90002 10.6686 5.90002 11C5.90002 11.3314 6.16865 11.6 6.50002 11.6H9.50002C9.8314 11.6 10.1 11.3314 10.1 11C10.1 10.6686 9.8314 10.4 9.50002 10.4H8.60002V4Z",fill:"black"})}),uce=()=>wt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:wt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31257 14.9513C2.38285 14.9835 2.45927 15.0001 2.53658 15C2.66433 14.9997 2.78777 14.9537 2.88462 14.8704C2.98148 14.7871 3.04538 14.672 3.0648 14.5457L5.20765 0.617136C5.22508 0.478692 5.1878 0.338912 5.10375 0.227531C5.0197 0.116151 4.89551 0.0419601 4.75759 0.0207426C4.61968 -0.00047491 4.47893 0.0329551 4.36529 0.113921C4.25164 0.194887 4.17407 0.316999 4.14908 0.454279L2.00622 14.3828C1.99447 14.4593 1.9994 14.5373 2.02067 14.6116C2.04193 14.686 2.07903 14.7548 2.12942 14.8134C2.17981 14.8721 2.24229 14.9191 2.31257 14.9513ZM12.9007 14.8704C12.9975 14.9537 13.121 14.9997 13.2487 15C13.326 15.0001 13.4025 14.9835 13.4727 14.9513C13.543 14.9191 13.6055 14.8721 13.6559 14.8134C13.7063 14.7548 13.7434 14.686 13.7646 14.6116C13.7859 14.5373 13.7908 14.4593 13.7791 14.3828L11.6362 0.454279C11.6112 0.316999 11.5337 0.194887 11.42 0.113921C11.3064 0.0329551 11.1656 -0.00047491 11.0277 0.0207426C10.8898 0.0419601 10.7656 0.116151 10.6816 0.227531C10.5975 0.338912 10.5602 0.478692 10.5777 0.617136L12.7205 14.5457C12.7399 14.672 12.8038 14.7871 12.9007 14.8704ZM8.5 10.5C8.5 10.2239 8.27614 10 8 10C7.72386 10 7.5 10.2239 7.5 10.5V14.5C7.5 14.7761 7.72386 15 8 15C8.27614 15 8.5 14.7761 8.5 14.5V10.5ZM8 4C8.27614 4 8.5 4.22386 8.5 4.5V7.5C8.5 7.77614 8.27614 8 8 8C7.72386 8 7.5 7.77614 7.5 7.5V4.5C7.5 4.22386 7.72386 4 8 4ZM8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1V2C7.5 2.27614 7.72386 2.5 8 2.5C8.27614 2.5 8.5 2.27614 8.5 2V1Z",fill:"black"})}),cce={population:wt(ice,{}),area_km2:wt(oce,{}),total_building_count:wt(ace,{}),populated_area_km2:wt(sce,{}),one:wt(lce,{})},fce={population:Lr.t("bivariate.matrix.icon.population"),area_km2:Lr.t("bivariate.matrix.icon.area_km2"),total_building_count:Lr.t("bivariate.matrix.icon.total_building_count"),populated_area_km2:Lr.t("bivariate.matrix.icon.populated_area_km2"),one:Lr.t("bivariate.matrix.icon.one")},ID=({iconId:e})=>{const t=cce[e]||wt(uce,{}),n=fce[e]||Lr.t("bivariate.matrix.icon.roads");return wt(Zx,{tooltipText:n,children:({showTooltip:i,hideTooltip:s})=>wt("span",{className:rce.denominatorIcon,onPointerOver:i,onPointerLeave:s,children:t})})},pce=e=>{let t=e;const n=new Set,i=s=>{t=s,n.forEach(l=>l())};return()=>{const[s,l]=$t.useState(t);return $t.useEffect(()=>{const o=()=>{l(t)};return n.add(o),o(),()=>{n.delete(o)}},[]),[s,i]}},hce=pce({headingId:""}),Ace="_denominators_1m5c6_1",dce="_row_1m5c6_5",mce="_column_1m5c6_9",gce="_denominatorSelector_1m5c6_13",yce="_disabled_1m5c6_25",vce="_denominatorsContainer_1m5c6_43",_ce="_quotientItem_1m5c6_79",xce="_selected_1m5c6_85",v0={denominators:Ace,row:dce,column:mce,denominatorSelector:gce,disabled:yce,denominatorsContainer:vce,quotientItem:_ce,selected:xce},bce=({numeratorId:e,denominatorId:t,numeratorLabel:n,quality:i,onSelectQuotient:s,isSelected:l=!1})=>{const o=x=>{x.stopPropagation(),s(e,t)};return Qr("div",{className:aa(v0.quotientItem,l&&v0.selected),onClick:o,children:[wt(ID,{iconId:t}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&wt("div",{className:"qualityLabel",children:i??"&nbsp;"}),wt("div",{className:"quotientLabel",children:n})]})},wce=100/70,Sce=5,OD=$t.memo(({id:e,quotients:t,selectedQuotient:n,onSelectQuotient:i,type:s,children:l})=>{const[o,x]=hce(),S=U=>{if(U.stopPropagation(),o.headingId===e)x({headingId:"",width:0});else{const q=U.currentTarget.getBoundingClientRect(),K=U.currentTarget.parentElement.parentElement.getBoundingClientRect(),ee=Math.ceil((q.left-K.left)*wce+Sce);x({headingId:e,width:ee})}},T=$t.useCallback((U,q)=>{x({headingId:""}),i(U,q)},[x,i]),[M,F]=$t.useMemo(()=>{const U=t.findIndex(({id:q})=>q[0]===n.id[0]&&q[1]===n.id[1]);return U>=0?[t[U],t.filter((q,K)=>K!==U)]:[null,t]},[t,n.id]),z=({id:U,label:q,quality:K},ee)=>wt(bce,{onSelectQuotient:T,quality:K,numeratorId:U[0],denominatorId:U[1],numeratorLabel:q,isSelected:ee},JSON.stringify(U));return Qr("div",{className:aa({[v0.denominators]:!0,[v0.row]:s==="horizontal",[v0.column]:s==="vertical"}),children:[wt("div",{onClick:S,children:l}),o.headingId===e&&Qr("div",{className:v0.denominatorsContainer,style:s==="horizontal"?{left:-o.width,right:0}:{top:-o.width,bottom:0},children:[M&&z(M,!0),F.map(U=>z(U,!1))]})]})});OD.displayName="QuotientSelector";const Ece="_axisRecord_1dbhd_8",Cce="_container_1dbhd_13",kce="_column_1dbhd_34",Tce="_row_1dbhd_43",Pce="_selected_1dbhd_110",Ice="_corner_1dbhd_142",Oce="_hovered_1dbhd_146",Mce="_verticalText_1dbhd_173",Lce="_quotientsCountLabel_1dbhd_185",mp={axisRecord:Ece,container:Cce,column:kce,row:Tce,selected:Pce,corner:Ice,hovered:Oce,verticalText:Mce,quotientsCountLabel:Lce},Rce=(e,t)=>({gridColumn:e?`${t+3} / ${t+4}`:"1",gridRow:e?"1":`${t+3} / ${t+4}`}),P4=$t.forwardRef(({index:e,type:t,className:n,selectedIndex:i=-1,headerCell:s,id:l,onCellHover:o,onCellClick:x,onSelectQuotient:S,baseDimension:T,calculateHeadingsStyle:M},F)=>{const z=()=>{o(e)},U=()=>{o(null)},q=Se=>{const De=Se.target;De.tagName==="svg"||De.tagName==="path"||De.className&&De.className.indexOf&&De.className.indexOf("denominator")!==-1||x(e,Se)},K=$t.useCallback((Se,De)=>{S(e,Se,De)},[S,e]),ee=s.quotients.length>1?Qr("div",{className:mp.quotientsCountLabel,children:["+",s.quotients.length-1," layers",wt(HH,{})]}):null,V=$t.useRef(null);let X=!1,ne=!1;const he=t==="horizontal",pe=t==="vertical",le=aa({[n||""]:n,[mp.axisRecord]:!0,[mp.column]:pe,[mp.row]:he,[mp.verticalText]:pe,horizontal:he,vertical:pe});function be(){return`${le} ${aa({[mp.hovered]:X,[mp.selected]:ne})}`}return $t.useImperativeHandle(F,()=>({setHovered:()=>{V.current&&(X=!0,V.current.className=be())},resetHovered:()=>{V.current&&(X=!1,V.current.className=be())},setSelectedCol:()=>{pe&&V.current&&(ne=!0,V.current.className=be())},resetSelectedCol:()=>{pe&&V.current&&(ne=!1,V.current.className=be())},setSelectedRow:()=>{he&&V.current&&(ne=!0,V.current.className=be())},resetSelectedRow:()=>{he&&V.current&&(ne=!1,V.current.className=be())}})),wt("div",{ref:V,onMouseEnter:z,onMouseOut:U,onClick:q,style:Rce(t==="vertical",e),className:le,children:Qr("div",{style:M(T,pe,e),className:mp.container,children:[wt("div",{className:mp.corner}),wt(ID,{iconId:s.selectedQuotient.id[1]}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&wt("div",{className:"qualityLabel",children:s.quality?s.quality:"&nbsp;"}),s.label,ee&&wt(OD,{id:`quotient_${l}`,onSelectQuotient:K,selectedQuotient:s.selectedQuotient,quotients:s.quotients,type:t,children:ee})]})})});P4.displayName="BivariateMatrixHeadingEntry";const Dce="_axisCaptionRoot_1yhrg_1",Fce="_axisCaptionAnchor_1yhrg_6",Bce="_axisCaptionBody_1yhrg_10",zce="_tooltipHover_1yhrg_24",Nce="_axisCaptionText_1yhrg_33",Uce="_popupContent_1yhrg_47",_0={axisCaptionRoot:Dce,axisCaptionAnchor:Fce,axisCaptionBody:Bce,tooltipHover:zce,axisCaptionText:Nce,popupContent:Uce},jce=Qr("div",{className:_0.axisCaptionText,children:[wt("p",{children:Lr.t("bivariate.matrix.caption.tooltip.p1")}),Qr("ul",{children:[wt("li",{children:Lr.t("bivariate.matrix.caption.tooltip.li1")}),wt("li",{children:Lr.t("bivariate.matrix.caption.tooltip.li2")})]}),wt("br",{}),wt("b",{children:Lr.t("bivariate.matrix.caption.tooltip.b")}),wt("p",{children:Lr.t("bivariate.matrix.caption.tooltip.p2")}),wt("p",{children:Lr.t("bivariate.matrix.caption.tooltip.p3")})]}),$ce={popupContent:_0.popupContent},Vce=({baseDimension:e=0})=>{const t=$t.useRef(null);return $t.useLayoutEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({block:"center"})},[]),wt("div",{className:_0.axisCaptionRoot,ref:t,children:wt("div",{className:_0.axisCaptionAnchor,style:{left:-e},children:wt(Zx,{hoverBehavior:!1,tooltipId:"axis_caption",tooltipText:jce,popupClasses:$ce,children:({showTooltip:n})=>Qr("div",{className:_0.axisCaptionBody,children:[wt(SP,{position:"left"}),wt("br",{}),Qr("div",{className:_0.tooltipHover,onClick:n,children:[wt("span",{children:Lr.t("bivariate.matrix.caption.base_axis")}),wt(GH,{}),wt("span",{children:Lr.t("bivariate.matrix.caption.annex_axis")})]}),wt("br",{}),wt(SP,{position:"right"})]})})})})},SP=({position:e="left"})=>Qr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"22",viewBox:"0 0 6 22",fill:"none",transform:e==="left"?"rotate(90)":"rotate(-90)",children:[wt("path",{d:"M3 1V20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),wt("path",{d:"M1 18L3 21.5L5 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),j1=3,$1=3,Hce=15,MD=({matrix:e,xHeadings:t,yHeadings:n,onSelectCell:i,selectedCell:s,cellSize:l=0,onSelectQuotient:o})=>{const x=$t.useRef(null),S=$t.useContext(Oue),T=[],M=[];let F=-1,z=-1;const U=$t.useRef((s==null?void 0:s.x)??-1),q=$t.useRef((s==null?void 0:s.y)??-1),K=e4(Iue.setSelectCellCallback),ee=(st,Me,Le)=>{Me>=0&&(T[Me]||(T[Me]=[]),T[Me].push(st)),Le>=0&&(M[Le]||(M[Le]=[]),M[Le].push(st))},V=(st,Me)=>{if(F!==st&&(F=st,F!==-1)){const Le=M[F];Le&&Le.forEach(re=>{re==null||re.setHovered()})}if(z!==Me&&(z=Me,z!==-1)){const Le=T[z];Le&&Le.forEach(re=>{re==null||re.setHovered()})}},X=()=>{if(F!==-1){const st=M[F];st&&st.forEach(Me=>{Me==null||Me.resetHovered()}),F=-1}if(z!==-1){const st=T[z];st&&st.forEach(Me=>{Me==null||Me.resetHovered()}),z=-1}},ne=st=>{X(),st&&V(st,z)},he=st=>{X(),st&&V(F,st)},pe=()=>{if(U.current!==-1){const st=M[U.current];st&&st.forEach(Me=>{Me==null||Me.resetSelectedCol()}),U.current=-1}if(q.current!==-1){const st=T[q.current];st&&st.forEach(Me=>{Me==null||Me.resetSelectedRow()}),q.current=-1}},le=(st,Me,Le)=>{pe(),Se(st,Me),i(st,Me,Le)},be=(st,Me)=>{pe(),Se(st,Me)},Se=(st,Me)=>{if(st!==-1&&U.current!==st){U.current=st;const Le=M[U.current];Le&&Le.forEach(re=>{re==null||re.setSelectedCol()})}if(Me!==-1&&q.current!==Me){q.current=Me;const Le=T[q.current];Le&&Le.forEach(re=>{re==null||re.setSelectedRow()})}},De=(st,Me)=>{le(st,q.current,Me)},tt=(st,Me)=>{le(U.current,st,Me)},Xe=$t.useCallback((st,Me,Le,re)=>{o(!1,st,Me,Le,re)},[o]),at=$t.useCallback((st,Me,Le,re)=>{o(!0,st,Me,Le,re)},[o]),yt=Due(t,n),Ot=Math.sqrt(Math.pow(t.length*_2,2)+Math.pow(n.length*_2,2))*Mue+Hce;$t.useEffect(()=>{S==null||S.onMatrixPositionRecalculated(yt,Ot),x.current&&(x.current.style.visibility="visible")},[yt]);const Vt=Lue(t.length+1,n.length+1,l),Jt=$t.useMemo(()=>({width:Ot,height:Ot}),[Ot]),bn=$t.useMemo(()=>Rue(t.length+j1,n.length+$1),[t,n]);return $t.useEffect(()=>{K(be.bind(void 0)),s&&(s.x!==-1||s.y!==-1)&&be(s.x,s.y)},[e]),wt("div",{ref:x,className:wP.matrixContainer,style:Jt,children:Qr("div",{style:Vt,className:wP.rotatedMatrix,children:[e.map((st,Me)=>wt(T4,{type:"horizontal",style:bn[-1+j1][Me+$1],ref:Le=>ee(Le,Me,-1)},`${Me}_row_connector`)),e[0].map((st,Me)=>wt(T4,{type:"vertical",style:bn[Me+j1][-1+$1],ref:Le=>ee(Le,-1,Me)},`${Me}_col_connector`)),e.map((st,Me)=>st.map((Le,re)=>wt(PD,{x:re,y:Me,onClick:le,onMouseOver:V,onMouseOut:X,style:bn[re+j1][Me+$1],ref:ge=>ee(ge,Me,re),value:Le===null?void 0:Le,disabled:Le===null,firstRow:Me===0,firstCol:re===0,lastRow:Me===e.length-1,lastCol:re===st.length-1},`matrix_cell_${re}_${Me}`))),[...n].reverse().map((st,Me)=>wt(P4,{id:`hor_${n.length-1-Me}`,index:n.length-1-Me,type:"horizontal",selectedIndex:s==null?void 0:s.y,headerCell:st,onCellHover:he,onCellClick:tt,onSelectQuotient:at,baseDimension:yt,calculateHeadingsStyle:bP,ref:Le=>ee(Le,n.length-1-Me,-1)},`hor_${n.length-1-Me}`)),wt(Vce,{baseDimension:yt}),t.map((st,Me)=>wt(P4,{id:`vert_${Me}`,index:Me,type:"vertical",selectedIndex:s==null?void 0:s.x,headerCell:st,onCellHover:ne,onCellClick:De,onSelectQuotient:Xe,baseDimension:yt,calculateHeadingsStyle:bP,ref:Le=>ee(Le,-1,Me)},`vert_${Me}`))]})})};MD.displayName="BivariateMatrixControl";const qce=$t.memo(MD,(e,t)=>e.matrix===t.matrix),Iu={xGroups:[{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["local_hours","area_km2"]',quotients:[["count","populated_area_km2"],["population_prev","populated_area_km2"],["gdp","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["osm_users","area_km2"],["total_hours","populated_area_km2"],["covid19_confirmed","populated_area_km2"],["covid19_confirmed","area_km2"],["osm_users","populated_area_km2"],["local_hours","area_km2"],["local_hours","populated_area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["count","total_building_count"]',quotients:[["count","total_building_count"]],selectedQuotient:["count","total_building_count"]},{parent:'["highway_length","population"]',quotients:[["forest","population"],["highway_length","population"]],selectedQuotient:["highway_length","population"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],yGroups:[{parent:'["local_hours","area_km2"]',quotients:[["population","populated_area_km2"],["total_building_count","populated_area_km2"],["count","populated_area_km2"],["population_prev","populated_area_km2"],["total_building_count","area_km2"],["gdp","populated_area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["total_hours","populated_area_km2"],["osm_users","area_km2"],["covid19_confirmed","populated_area_km2"],["osm_users","populated_area_km2"],["covid19_confirmed","area_km2"],["local_hours","populated_area_km2"],["local_hours","area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["population","area_km2"]',quotients:[["population","area_km2"]],selectedQuotient:["population","area_km2"]},{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["populated_area_km2","area_km2"]',quotients:[["populated_area_km2","area_km2"]],selectedQuotient:["populated_area_km2","area_km2"]},{parent:'["count","population"]',quotients:[["populated_area_km2","population"],["count","population"]],selectedQuotient:["count","population"]},{parent:'["populated_area_km2","total_building_count"]',quotients:[["populated_area_km2","total_building_count"]],selectedQuotient:["populated_area_km2","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["forest","population"]',quotients:[["highway_length","population"],["forest","population"]],selectedQuotient:["forest","population"]},{parent:'["avg_elevation","one"]',quotients:[["avg_elevation","one"]],selectedQuotient:["avg_elevation","one"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],matrix:[[.6330778143702572,null,.5428354424212366,.8125028273732107,.41794744630059005,.49075709882519214,.26266841211785613,.17540431775688137,.2817357956135096,-.08277918866628682,-.07354014808858399,.19952042019781102,.2900699030570146,-.09959194444606909,-.05653224901990311,-.08121946780800145,-.06293349539553206,.210717984018573],[.7671266114613431,.4624540160877126,.7461271344307278,.6236796022803118,.4651837775930101,.6983788201180583,.3282268564011803,.23940172696613696,.6102526069773476,-.06854993994184201,-.06300652330464818,.5425853155901724,.5357120339754239,-.12569275885753226,-.05722122475056985,-.044124976285712575,-.07252302728830883,.46170009422253117],[null,.6330778143702572,.9448400352897224,.8088667700993942,.5478619819586914,.7272525499712613,.39403434829318645,.27693369264722456,.4212553882513244,-.09219840214177631,-.08214624778695,.3334796387999488,.3381396079397914,-.11599438338517783,-.0603311321070773,null,-.0709735871498622,.24799941442360907],[.9448400352897224,.5428354424212366,null,.676324490987385,.495437368648744,.6083458288157841,.3469868158515808,.2430950316469889,.4310608323815133,-.09512147612349764,-.08309756332167413,.3452068134908724,.33210650851954204,-.1245886065474142,-.059708735955503585,-.14339940649431673,-.07375589630648925,.24325119232100342],[.8088667700993942,.8125028273732107,.676324490987385,null,.5189347708683577,.6884534708417488,.33187782018548295,.2219184858913333,.35395740401150805,-.09412791983951108,-.0863908043684727,.26082399416277346,.349163057602413,-.0749918701328735,-.06355840786694379,-.06179508212619175,-.06748437844937322,.25841056419208985],[.5478619819586914,.41794744630059005,.495437368648744,.5189347708683577,null,.38324804690465736,null,.414339823397522,.3069414868687711,-.10644082342648567,-.10931575987231072,.2754560009958487,.2569523390521722,-.11051731563471724,-.08226769814606767,.000604231582566239,null,.20899371630213479],[.7272525499712613,.49075709882519214,.6083458288157841,.6884534708417488,.38324804690465736,null,.30947144087595235,.22699474527609945,.2830320630422097,-.04226615774405834,-.037742340113614686,.23762065170375052,.23266705566189747,-.05154149468310855,-.02870286844834339,-.031190214624625075,-.03390072345440923,.18581115270615528],[.39403434829318645,.26266841211785613,.3469868158515808,.33187782018548295,null,.30947144087595235,null,.9304780288243525,.13914319427120514,.3291875622555688,.3720654440390036,.1934927693146689,.10623582254983449,.0007285286560751833,.19378449287322094,.32680720759696696,null,.16809925893975913],[.27693369264722456,.17540431775688137,.2430950316469889,.2219184858913333,.414339823397522,.22699474527609945,.9304780288243525,null,.09020847847993732,.42400942691094484,.5064709774524677,.1712970613845418,.06714970974071707,.01180306783229655,.2255650150706005,.3599655140069753,.30252787549965515,.15970052255248204],[.4212553882513244,.2817357956135096,.4310608323815133,.35395740401150805,.3069414868687711,.2830320630422097,.13914319427120514,.09020847847993732,null,-.06649666693010343,-.06343156740380441,null,.6841527486069171,-.13779469419376966,-.0635847915251171,-.026485710953304663,-.08026301675299034,.6178257434320957],[-.09219840214177631,-.08277918866628682,-.09512147612349764,-.09412791983951108,-.10644082342648567,-.04226615774405834,.3291875622555688,.42400942691094484,-.06649666693010343,null,.7678796845524921,.012760506344240884,-.054701981754940544,.1344540319549378,null,.5631324180563558,.3071029030398512,.04014411156301263],[-.08214624778695,-.07354014808858399,-.08309756332167413,-.0863908043684727,-.10931575987231072,-.037742340113614686,.3720654440390036,.5064709774524677,-.06343156740380441,.7678796845524921,null,.014062866759102748,-.05210682697853124,.11091668928613378,.2990964999949313,.5385399665532266,.22651079092994508,.04521239572328026],[.33092297487284617,.306348164358225,.3238400065207823,.3693496848744186,.38871869483912574,.1581862969025989,-.3471496502086163,-.43374811025089965,.33796301073828167,-.3268410473725932,-.3386739643520862,.055679399245274847,.3020796910928048,-.04623557252911246,-.19287576889960628,-.23886314058329716,-.1732637367181755,.02241746611798094],[null,-.05985205635299918,-.07346388019658537,-.04156216899598115,-.06836488141749311,-.03935680545094748,.12058512533492027,.13212728757237097,-.11270465651638581,.15970627541493335,.13401194122424062,-.12384718246215928,-.10414752849189488,.7574388860132296,.48388350772788513,null,.6315662616124519,-.11571785360027256],[-.2290337466539601,-.1757661352019487,-.24760184223062584,-.18278999260309406,-.1710761141838468,-.09542438099888385,-.059267030345385996,-.013539781630611262,-.09643066932644401,.43854582251146346,.3609544353566733,-.07178405902927397,-.06341025046618942,.22096261180630974,.10541941385096928,.5599627595822098,.1278673522191922,-.032944279661146915],[.3334796387999488,.19952042019781102,.3452068134908724,.26082399416277346,.2754560009958487,.23762065170375052,.1934927693146689,.1712970613845418,null,.012760506344240884,.014062866759102748,null,.6310066640401927,-.1500265206387344,-.06689746899862688,.01986212506899432,-.08550943488376969,.676555546708353],[.3381396079397914,.2900699030570146,.33210650851954204,.349163057602413,.2569523390521722,.23266705566189747,.10623582254983449,.06714970974071707,.6841527486069171,-.054701981754940544,-.05210682697853124,.6310066640401927,null,-.12258332045801432,-.0567307219837807,-.022320716664225384,-.07178249009741255,null],[-.11599438338517783,-.09959194444606909,-.1245886065474142,-.0749918701328735,-.11051731563471724,-.05154149468310855,.0007285286560751833,.01180306783229655,-.13779469419376966,.1344540319549378,.11091668928613378,-.1500265206387344,-.12258332045801432,null,.4348018015155649,.1802672705079899,.5785565720280881,-.1349910962529299],[-.0603311321070773,-.05653224901990311,-.059708735955503585,-.06355840786694379,-.08226769814606767,-.02870286844834339,.19378449287322094,.2255650150706005,-.0635847915251171,null,.2990964999949313,-.06689746899862688,-.0567307219837807,.4348018015155649,null,.16176932292012,.7133807791437314,-.05999313994718329],[-.06778027180778882,-.06094700100554602,-.06749293269532497,-.07015551687145612,-.09380332086205506,-.03214432503025587,.20746554020517102,.2523547017592986,-.07210328538123267,.4203440217106889,null,-.0750002557187531,-.06409549706414985,.49720071299727603,.8986894662282207,.19577005850577103,.7147205376873481,-.06663105366067186],[-.1314723477716716,-.10888331650996384,-.12016811312503141,-.14500851581063834,-.14651760866997154,-.0894267074095959,-.10021629943072725,-.02053796018986287,-.08959271152178999,.07728964320941438,.11382059101409457,-.055901670004619375,-.07981810377749747,.12046075802517535,.07334344740483416,-.020568856117619418,.12080907584004444,-.040957057721220644],[.24799941442360907,.210717984018573,.24325119232100342,.25841056419208985,.20899371630213479,.18581115270615528,.16809925893975913,.15970052255248204,.6178257434320957,.04014411156301263,.04521239572328026,.676555546708353,null,-.1349910962529299,-.05999313994718329,.035960163104143954,-.07699941382657573,null]],indicators:[{name:"mhr_index",label:"Multi-hazard risk PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"mhe_index",label:"Multi-hazard exposure PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"coping_capacity_index",label:"Coping Capacity PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"resilience_index",label:"Resilience PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"vulnerability_index",label:"Vulnerability PDC GRVA",copyrights:[" 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"count",label:"OSM Objects",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"count_6_months",label:"OSM Objects (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"view_count",label:"OSM Map Views",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]},{name:"avgmax_ts",label:"OSM Last Edit Date (avg)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"max_ts",label:"OSM Last Edit Date (max)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"min_ts",label:"OSM First Edit Date (min)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["neutral"]]},{name:"osm_users",label:"OSM Mappers Edited Here",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count",label:"OSM Buildings",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count_6_months",label:"OSM Buildings (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length",label:"OSM Road Length",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length_6_months",label:"OSM Road Length (last 6 months)",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"local_hours",label:"OSM Mapping Hours by Local Mappers",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"total_hours",label:"OSM Mapping Hours by All Mappers",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"pop_disability_total",label:"Population with a disability",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"forest",label:"Forest Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_not_well_eng_speak",label:"Population with a difficulty speaking English",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["good"],["important","bad"]]},{name:"evergreen_needle_leaved_forest",label:"Evergreen Needle-leaved Forest Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_under_5_total",label:"Population under age of 5",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"shrubs",label:"Shrubland Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_over_65_total",label:"Population over age of 65",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"herbage",label:"Herbaceous Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"poverty_families_total",label:"Families living below poverty line",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant, good"],["important"]]},{name:"unknown_forest",label:"Unknown Forest Type Landcover Area",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"volcanos_count",label:"Number of volcanos",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"covid19_vaccines",label:"COVID19 Vaccine Acceptance",copyrights:[" Data from Delphi COVIDcast, covidcast.cmu.edu"],direction:[["bad"],["neutral"]]},{name:"covid19_confirmed",label:"COVID19 Confirmed Cases",copyrights:[" Data from JHU CSSE COVID-19 Dataset"],direction:[["good"],["bad"]]},{name:"avg_slope",label:"Average slope",copyrights:[" Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_elevation",label:"Average elevation",copyrights:[" Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"gdp",label:"Gross Domestic Product",copyrights:[" Kontur https://kontur.io/"," 2019 The World Bank Group, CC-BY 4.0","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, Myroslava Lesiv, Nandin-Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","@ OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"population_prev",label:"Population (previous version)",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"wildfires",label:"Wildfire Days Per Year",copyrights:[" NRT VIIRS 375 m Active Fire product VJ114IMGTDL_NRT. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/VIIRS/VJ114IMGT_NRT.002","NRT VIIRS 375 m Active Fire product VNP14IMGT. Available on-line [https://earthdata.nasa.gov/firms]. doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14DL. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14DL.NRT.006","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14ML. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14ML"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_ndvi",label:"Average NDVI, JUN 2019",copyrights:[" Data from Sentinel-2 L2A 120m Mosaic, CC-BY 4.0, https://forum.sentinel-hub.com/c/aws-sentinel"],direction:[["bad"],["good"]]},{name:"industrial_area",label:"OSM industrial area",copyrights:[" OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"pop_without_car",label:"Population without a car",copyrights:[" United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["neutral"],["important"]]},{name:"area_km2",label:"Area",copyrights:["Concept of areas  Brahmagupta, Ren Descartes"],direction:[["neutral"],["neutral"]]},{name:"days_maxtemp_over_32c_1c",label:"Days above 32C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxtemp_over_32c_2c",label:"Days above 32C, potential scenario (2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_1c",label:"Nights above 25C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_2c",label:"Nights above 25C, potential scenario(2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_1c",label:"Days above 32C wet-bulb, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_2c",label:"Days above 32C wet-bulb, potential scenario(2C)",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"mandays_maxtemp_over_32c_1c",label:"Man-days above 32C, recent scenario",copyrights:[" 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"man_distance_to_fire_brigade",label:"Man-distance to fire brigade",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"man_distance_to_hospital",label:"Man-distance to hospitals",copyrights:[" Kontur https://kontur.io/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"total_road_length",label:"Total Roads length",copyrights:["2019 Facebook, Inc. and its affiliates https://github.com/facebookmicrosites/Open-Mapping-At-Facebook/blob/main/LICENSE.md"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"foursquare_places_count",label:"Foursquare Japan places count",copyrights:["Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"foursquare_visits_count",label:"Foursquare Japan visits count",copyrights:["Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"one",label:"1",copyrights:["Numbers  Muammad ibn Ms al-Khwrizm"],direction:[["neutral"],["neutral"]]},{name:"populated_area_km2",label:"Populated area",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"population",label:"Population",copyrights:[" Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL  2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"total_building_count",label:"Total Buildings Estimate",copyrights:[" Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar,  Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"view_count_bf2402",label:"OSM Map Views 30 days before 24.02.2022",copyrights:[" Kontur"," OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]}]},Gce="_axisMatrix_caw7e_1",Qce={axisMatrix:Gce},Wce=(e,t)=>{var n,i;return{label:((n=t.find(s=>s.name===e.selectedQuotient[0]))==null?void 0:n.label)||"",selectedQuotient:{id:e.selectedQuotient,label:(i=t.find(s=>s.name===e.selectedQuotient[1]))==null?void 0:i.label},quality:"1",quotients:e.quotients.map(s=>{var l;return{id:s,label:(l=t.find(o=>o.name===s[0]))==null?void 0:l.label,quality:"1"}})}};function Kce(){const e=$t.useMemo(()=>{if(!Iu.indicators||!Iu.xGroups||!Iu.xGroups.length||!Iu.yGroups||!Iu.yGroups.length)return null;const l=o=>Wce(o,Iu==null?void 0:Iu.indicators);return{x:Iu.xGroups.map(l),y:Iu.yGroups.map(l)}},[Iu]),[t,n]=$t.useState(null),i=$t.useCallback((l,o,x)=>{console.log("onSelectCellHandler",l,o,x),n({x:l,y:o})},[]),s=$t.useCallback((l,o,x,S)=>{console.log("onSelectQuotient",l,o,x,S)},[]);return wt("div",{className:Qce.axisMatrix,children:Qr(PL,{children:[wt(qce,{matrix:Iu.matrix,xHeadings:e==null?void 0:e.x,yHeadings:e==null?void 0:e.y,onSelectCell:i,selectedCell:t,onSelectQuotient:s}),wt(IR,{})]})})}const LD=document.createElement("template");LD.innerHTML=`
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg {
  z-index: 99;
  position: fixed;
  border: 0px;
  top: 0px;
}
</style>
<svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;class Zce extends HTMLElement{constructor(){super(),this.right="0",this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(this.ownerDocument.importNode(LD.content,!0)),this.update()}static get observedAttributes(){return["style","z-index","target","height","width","href","color","fill","position","top","left","right","bottom","transform"]}setAttr(t,n){const i=this.shadow.querySelector("svg");/(href)/.test(t.toLocaleLowerCase())?i.lastElementChild.setAttribute("xlink:href",n):/(color|fill)/.test(t.toLocaleLowerCase())?i.firstElementChild.style[t]=n:/(z-index|position|top|left|right|bottom|transform)/.test(t.toLocaleLowerCase())?i.style[t]=n:i.setAttribute(t,n)}update(){[...this.getAttributeNames(),"right"].forEach(t=>{const n=this.getAttribute(t)||this[t]||"";this.setAttr(t,n)})}attributeChangedCallback(t,n,i){n!==i&&this.setAttr(t,i)}}customElements.define("github-corners",Zce);var Xce=["size","fixed","bottom","zIndex","className","style","bgColor","color","position"];function Yce(e){var{size:t=80,fixed:n=!1,bottom:i,zIndex:s,style:l,bgColor:o="#151513",color:x="#fff",position:S="right"}=e,T=id(e,Xce),M=S==="left"?{left:0,right:"initial",transform:"scale(-1, 1)"}:{right:0,left:"initial",transform:"scale(1, 1)"};return i?(M.bottom=0,M.top="initial",M.transform=S==="left"?"scale(-1, -1)":"scale(1, -1)"):(M.bottom="initial",M.top=0),wt("github-corners",bs({target:"__blank",width:t,height:t,href:e.href,position:n?"fixed":"absolute","z-index":s,style:l,fill:o,color:x},M,T))}const Jce=({children:e})=>Qr(ux,{children:[e,wt(Yce,{size:40,href:"https://github.com/konturio/disaster-ninja-fe"})]}),efe=e=>e.raw[0],tfe=efe`
  .cosmos-ui-kit-decorator {
    padding: 1em;
    display: flex;
    gap: 2em;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    box-sizing: border-box;
    background-color: #fff;
    --transp-clr: #f5f5f5;
    background-image: linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      ),
      linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      );
    background-size: 24px 24px;
    background-position: 0 0, 12px 12px;
  }
`;function nfe({children:e}){return Qr(ux,{children:[wt("style",{dangerouslySetInnerHTML:{__html:tfe}}),wt("div",{className:"cosmos-ui-kit-decorator",children:e})]})}const rfe={port:5e3},ife={"src/components/BivariateLegend/BivariateLegend.fixture.tsx":{module:{default:roe}},"src/features/bivariate_color_manager/components/MiniLegend/MiniLegend.fixture.tsx":{module:{default:foe}},"src/features/bivariate_manager/fixtures/BivariateGreetings.fixture.tsx":{module:{default:_oe}},"src/features/bivariate_manager/fixtures/BivariateMatrixControl.fixture.tsx":{module:{default:Kce}}},ofe={"cosmos.decorator.tsx":Jce,"src/cosmos.decorator.tsx":nfe};w3.mountDomRenderer({rendererConfig:rfe,decorators:ofe,fixtures:ife});console.log("Disaster Ninja",OH);export{wt as a,Qr as j,$t as r};

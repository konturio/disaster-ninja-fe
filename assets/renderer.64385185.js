var BD=Object.defineProperty;var zD=(e,t,r)=>t in e?BD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oi=(e,t,r)=>(zD(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var Bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ND(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var hr={exports:{}},Kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.element"),UD=Symbol.for("react.portal"),jD=Symbol.for("react.fragment"),$D=Symbol.for("react.strict_mode"),VD=Symbol.for("react.profiler"),HD=Symbol.for("react.provider"),qD=Symbol.for("react.context"),GD=Symbol.for("react.forward_ref"),QD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),ZD=Symbol.for("react.lazy"),E4=Symbol.iterator;function KD(e){return e===null||typeof e!="object"?null:(e=E4&&e[E4]||e["@@iterator"],typeof e=="function"?e:null)}var UT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jT=Object.assign,$T={};function L0(e,t,r){this.props=e,this.context=t,this.refs=$T,this.updater=r||UT}L0.prototype.isReactComponent={};L0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};L0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VT(){}VT.prototype=L0.prototype;function jS(e,t,r){this.props=e,this.context=t,this.refs=$T,this.updater=r||UT}var $S=jS.prototype=new VT;$S.constructor=jS;jT($S,L0.prototype);$S.isPureReactComponent=!0;var k4=Array.isArray,HT=Object.prototype.hasOwnProperty,VS={current:null},qT={key:!0,ref:!0,__self:!0,__source:!0};function GT(e,t,r){var i,s={},l=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)HT.call(t,i)&&!qT.hasOwnProperty(i)&&(s[i]=t[i]);var x=arguments.length-2;if(x===1)s.children=r;else if(1<x){for(var S=Array(x),P=0;P<x;P++)S[P]=arguments[P+2];s.children=S}if(e&&e.defaultProps)for(i in x=e.defaultProps,x)s[i]===void 0&&(s[i]=x[i]);return{$$typeof:ry,type:e,key:l,ref:a,props:s,_owner:VS.current}}function XD(e,t){return{$$typeof:ry,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ry}function YD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var T4=/\/+/g;function bb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YD(""+e.key):t.toString(36)}function O1(e,t,r,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ry:case UD:a=!0}}if(a)return a=e,s=s(a),e=i===""?"."+bb(a,0):i,k4(s)?(r="",e!=null&&(r=e.replace(T4,"$&/")+"/"),O1(s,t,r,"",function(P){return P})):s!=null&&(HS(s)&&(s=XD(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(T4,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=i===""?".":i+":",k4(e))for(var x=0;x<e.length;x++){l=e[x];var S=i+bb(l,x);a+=O1(l,t,r,S,s)}else if(S=KD(e),typeof S=="function")for(e=S.call(e),x=0;!(l=e.next()).done;)l=l.value,S=i+bb(l,x++),a+=O1(l,t,r,S,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Fv(e,t,r){if(e==null)return e;var i=[],s=0;return O1(e,i,"","",function(l){return t.call(r,l,s++)}),i}function JD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ou={current:null},M1={transition:null},e9={ReactCurrentDispatcher:ou,ReactCurrentBatchConfig:M1,ReactCurrentOwner:VS};Kn.Children={map:Fv,forEach:function(e,t,r){Fv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fv(e,function(){t++}),t},toArray:function(e){return Fv(e,function(t){return t})||[]},only:function(e){if(!HS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kn.Component=L0;Kn.Fragment=jD;Kn.Profiler=VD;Kn.PureComponent=jS;Kn.StrictMode=$D;Kn.Suspense=QD;Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9;Kn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=jT({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=VS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(S in t)HT.call(t,S)&&!qT.hasOwnProperty(S)&&(i[S]=t[S]===void 0&&x!==void 0?x[S]:t[S])}var S=arguments.length-2;if(S===1)i.children=r;else if(1<S){x=Array(S);for(var P=0;P<S;P++)x[P]=arguments[P+2];i.children=x}return{$$typeof:ry,type:e.type,key:s,ref:l,props:i,_owner:a}};Kn.createContext=function(e){return e={$$typeof:qD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HD,_context:e},e.Consumer=e};Kn.createElement=GT;Kn.createFactory=function(e){var t=GT.bind(null,e);return t.type=e,t};Kn.createRef=function(){return{current:null}};Kn.forwardRef=function(e){return{$$typeof:GD,render:e}};Kn.isValidElement=HS;Kn.lazy=function(e){return{$$typeof:ZD,_payload:{_status:-1,_result:e},_init:JD}};Kn.memo=function(e,t){return{$$typeof:WD,type:e,compare:t===void 0?null:t}};Kn.startTransition=function(e){var t=M1.transition;M1.transition={};try{e()}finally{M1.transition=t}};Kn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Kn.useCallback=function(e,t){return ou.current.useCallback(e,t)};Kn.useContext=function(e){return ou.current.useContext(e)};Kn.useDebugValue=function(){};Kn.useDeferredValue=function(e){return ou.current.useDeferredValue(e)};Kn.useEffect=function(e,t){return ou.current.useEffect(e,t)};Kn.useId=function(){return ou.current.useId()};Kn.useImperativeHandle=function(e,t,r){return ou.current.useImperativeHandle(e,t,r)};Kn.useInsertionEffect=function(e,t){return ou.current.useInsertionEffect(e,t)};Kn.useLayoutEffect=function(e,t){return ou.current.useLayoutEffect(e,t)};Kn.useMemo=function(e,t){return ou.current.useMemo(e,t)};Kn.useReducer=function(e,t,r){return ou.current.useReducer(e,t,r)};Kn.useRef=function(e){return ou.current.useRef(e)};Kn.useState=function(e){return ou.current.useState(e)};Kn.useSyncExternalStore=function(e,t,r){return ou.current.useSyncExternalStore(e,t,r)};Kn.useTransition=function(){return ou.current.useTransition()};Kn.version="18.2.0";(function(e){e.exports=Kn})(hr);const En=q_(hr.exports);var QT={exports:{}},t9={exports:{}};(function(e){var t=function(r){var i=Object.prototype,s=i.hasOwnProperty,l=Object.defineProperty||function(Ue,Re,le){Ue[Re]=le.value},a,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",P=x.asyncIterator||"@@asyncIterator",R=x.toStringTag||"@@toStringTag";function z(Ue,Re,le){return Object.defineProperty(Ue,Re,{value:le,enumerable:!0,configurable:!0,writable:!0}),Ue[Re]}try{z({},"")}catch{z=function(Re,le,ye){return Re[le]=ye}}function N(Ue,Re,le,ye){var Mt=Re&&Re.prototype instanceof se?Re:se,or=Object.create(Mt.prototype),vr=new fr(ye||[]);return l(or,"_invoke",{value:st(Ue,le,vr)}),or}r.wrap=N;function $(Ue,Re,le){try{return{type:"normal",arg:Ue.call(Re,le)}}catch(ye){return{type:"throw",arg:ye}}}var Z="suspendedStart",J="suspendedYield",ae="executing",V="completed",K={};function se(){}function me(){}function Ae(){}var ue={};z(ue,S,function(){return this});var Se=Object.getPrototypeOf,Ce=Se&&Se(Se(Rt([])));Ce&&Ce!==i&&s.call(Ce,S)&&(ue=Ce);var qe=Ae.prototype=se.prototype=Object.create(ue);me.prototype=Ae,l(qe,"constructor",{value:Ae,configurable:!0}),l(Ae,"constructor",{value:me,configurable:!0}),me.displayName=z(Ae,R,"GeneratorFunction");function lt(Ue){["next","throw","return"].forEach(function(Re){z(Ue,Re,function(le){return this._invoke(Re,le)})})}r.isGeneratorFunction=function(Ue){var Re=typeof Ue=="function"&&Ue.constructor;return Re?Re===me||(Re.displayName||Re.name)==="GeneratorFunction":!1},r.mark=function(Ue){return Object.setPrototypeOf?Object.setPrototypeOf(Ue,Ae):(Ue.__proto__=Ae,z(Ue,R,"GeneratorFunction")),Ue.prototype=Object.create(qe),Ue},r.awrap=function(Ue){return{__await:Ue}};function rt(Ue,Re){function le(or,vr,dr,Sr){var Ur=$(Ue[or],Ue,vr);if(Ur.type==="throw")Sr(Ur.arg);else{var Dr=Ur.arg,Xn=Dr.value;return Xn&&typeof Xn=="object"&&s.call(Xn,"__await")?Re.resolve(Xn.__await).then(function(jn){le("next",jn,dr,Sr)},function(jn){le("throw",jn,dr,Sr)}):Re.resolve(Xn).then(function(jn){Dr.value=jn,dr(Dr)},function(jn){return le("throw",jn,dr,Sr)})}}var ye;function Mt(or,vr){function dr(){return new Re(function(Sr,Ur){le(or,vr,Sr,Ur)})}return ye=ye?ye.then(dr,dr):dr()}l(this,"_invoke",{value:Mt})}lt(rt.prototype),z(rt.prototype,P,function(){return this}),r.AsyncIterator=rt,r.async=function(Ue,Re,le,ye,Mt){Mt===void 0&&(Mt=Promise);var or=new rt(N(Ue,Re,le,ye),Mt);return r.isGeneratorFunction(Re)?or:or.next().then(function(vr){return vr.done?vr.value:or.next()})};function st(Ue,Re,le){var ye=Z;return function(or,vr){if(ye===ae)throw new Error("Generator is already running");if(ye===V){if(or==="throw")throw vr;return et()}for(le.method=or,le.arg=vr;;){var dr=le.delegate;if(dr){var Sr=wt(dr,le);if(Sr){if(Sr===K)continue;return Sr}}if(le.method==="next")le.sent=le._sent=le.arg;else if(le.method==="throw"){if(ye===Z)throw ye=V,le.arg;le.dispatchException(le.arg)}else le.method==="return"&&le.abrupt("return",le.arg);ye=ae;var Ur=$(Ue,Re,le);if(Ur.type==="normal"){if(ye=le.done?V:J,Ur.arg===K)continue;return{value:Ur.arg,done:le.done}}else Ur.type==="throw"&&(ye=V,le.method="throw",le.arg=Ur.arg)}}}function wt(Ue,Re){var le=Ue.iterator[Re.method];if(le===a){if(Re.delegate=null,Re.method==="throw"){if(Ue.iterator.return&&(Re.method="return",Re.arg=a,wt(Ue,Re),Re.method==="throw"))return K;Re.method="throw",Re.arg=new TypeError("The iterator does not provide a 'throw' method")}return K}var ye=$(le,Ue.iterator,Re.arg);if(ye.type==="throw")return Re.method="throw",Re.arg=ye.arg,Re.delegate=null,K;var Mt=ye.arg;if(!Mt)return Re.method="throw",Re.arg=new TypeError("iterator result is not an object"),Re.delegate=null,K;if(Mt.done)Re[Ue.resultName]=Mt.value,Re.next=Ue.nextLoc,Re.method!=="return"&&(Re.method="next",Re.arg=a);else return Mt;return Re.delegate=null,K}lt(qe),z(qe,R,"Generator"),z(qe,S,function(){return this}),z(qe,"toString",function(){return"[object Generator]"});function St(Ue){var Re={tryLoc:Ue[0]};1 in Ue&&(Re.catchLoc=Ue[1]),2 in Ue&&(Re.finallyLoc=Ue[2],Re.afterLoc=Ue[3]),this.tryEntries.push(Re)}function Wt(Ue){var Re=Ue.completion||{};Re.type="normal",delete Re.arg,Ue.completion=Re}function fr(Ue){this.tryEntries=[{tryLoc:"root"}],Ue.forEach(St,this),this.reset(!0)}r.keys=function(Ue){var Re=Object(Ue),le=[];for(var ye in Re)le.push(ye);return le.reverse(),function Mt(){for(;le.length;){var or=le.pop();if(or in Re)return Mt.value=or,Mt.done=!1,Mt}return Mt.done=!0,Mt}};function Rt(Ue){if(Ue){var Re=Ue[S];if(Re)return Re.call(Ue);if(typeof Ue.next=="function")return Ue;if(!isNaN(Ue.length)){var le=-1,ye=function Mt(){for(;++le<Ue.length;)if(s.call(Ue,le))return Mt.value=Ue[le],Mt.done=!1,Mt;return Mt.value=a,Mt.done=!0,Mt};return ye.next=ye}}return{next:et}}r.values=Rt;function et(){return{value:a,done:!0}}return fr.prototype={constructor:fr,reset:function(Ue){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Wt),!Ue)for(var Re in this)Re.charAt(0)==="t"&&s.call(this,Re)&&!isNaN(+Re.slice(1))&&(this[Re]=a)},stop:function(){this.done=!0;var Ue=this.tryEntries[0],Re=Ue.completion;if(Re.type==="throw")throw Re.arg;return this.rval},dispatchException:function(Ue){if(this.done)throw Ue;var Re=this;function le(Sr,Ur){return or.type="throw",or.arg=Ue,Re.next=Sr,Ur&&(Re.method="next",Re.arg=a),!!Ur}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Mt=this.tryEntries[ye],or=Mt.completion;if(Mt.tryLoc==="root")return le("end");if(Mt.tryLoc<=this.prev){var vr=s.call(Mt,"catchLoc"),dr=s.call(Mt,"finallyLoc");if(vr&&dr){if(this.prev<Mt.catchLoc)return le(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return le(Mt.finallyLoc)}else if(vr){if(this.prev<Mt.catchLoc)return le(Mt.catchLoc,!0)}else if(dr){if(this.prev<Mt.finallyLoc)return le(Mt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ue,Re){for(var le=this.tryEntries.length-1;le>=0;--le){var ye=this.tryEntries[le];if(ye.tryLoc<=this.prev&&s.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var Mt=ye;break}}Mt&&(Ue==="break"||Ue==="continue")&&Mt.tryLoc<=Re&&Re<=Mt.finallyLoc&&(Mt=null);var or=Mt?Mt.completion:{};return or.type=Ue,or.arg=Re,Mt?(this.method="next",this.next=Mt.finallyLoc,K):this.complete(or)},complete:function(Ue,Re){if(Ue.type==="throw")throw Ue.arg;return Ue.type==="break"||Ue.type==="continue"?this.next=Ue.arg:Ue.type==="return"?(this.rval=this.arg=Ue.arg,this.method="return",this.next="end"):Ue.type==="normal"&&Re&&(this.next=Re),K},finish:function(Ue){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var le=this.tryEntries[Re];if(le.finallyLoc===Ue)return this.complete(le.completion,le.afterLoc),Wt(le),K}},catch:function(Ue){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var le=this.tryEntries[Re];if(le.tryLoc===Ue){var ye=le.completion;if(ye.type==="throw"){var Mt=ye.arg;Wt(le)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(Ue,Re,le){return this.delegate={iterator:Rt(Ue),resultName:Re,nextLoc:le},this.method==="next"&&(this.arg=a),K}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(t9);var WT={},Hw={},qS={exports:{}},nl={},ZT={exports:{}},KT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(et,Ue){var Re=et.length;et.push(Ue);e:for(;0<Re;){var le=Re-1>>>1,ye=et[le];if(0<s(ye,Ue))et[le]=Ue,et[Re]=ye,Re=le;else break e}}function r(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var Ue=et[0],Re=et.pop();if(Re!==Ue){et[0]=Re;e:for(var le=0,ye=et.length,Mt=ye>>>1;le<Mt;){var or=2*(le+1)-1,vr=et[or],dr=or+1,Sr=et[dr];if(0>s(vr,Re))dr<ye&&0>s(Sr,vr)?(et[le]=Sr,et[dr]=Re,le=dr):(et[le]=vr,et[or]=Re,le=or);else if(dr<ye&&0>s(Sr,Re))et[le]=Sr,et[dr]=Re,le=dr;else break e}}return Ue}function s(et,Ue){var Re=et.sortIndex-Ue.sortIndex;return Re!==0?Re:et.id-Ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,x=a.now();e.unstable_now=function(){return a.now()-x}}var S=[],P=[],R=1,z=null,N=3,$=!1,Z=!1,J=!1,ae=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(et){for(var Ue=r(P);Ue!==null;){if(Ue.callback===null)i(P);else if(Ue.startTime<=et)i(P),Ue.sortIndex=Ue.expirationTime,t(S,Ue);else break;Ue=r(P)}}function me(et){if(J=!1,se(et),!Z)if(r(S)!==null)Z=!0,fr(Ae);else{var Ue=r(P);Ue!==null&&Rt(me,Ue.startTime-et)}}function Ae(et,Ue){Z=!1,J&&(J=!1,V(Ce),Ce=-1),$=!0;var Re=N;try{for(se(Ue),z=r(S);z!==null&&(!(z.expirationTime>Ue)||et&&!rt());){var le=z.callback;if(typeof le=="function"){z.callback=null,N=z.priorityLevel;var ye=le(z.expirationTime<=Ue);Ue=e.unstable_now(),typeof ye=="function"?z.callback=ye:z===r(S)&&i(S),se(Ue)}else i(S);z=r(S)}if(z!==null)var Mt=!0;else{var or=r(P);or!==null&&Rt(me,or.startTime-Ue),Mt=!1}return Mt}finally{z=null,N=Re,$=!1}}var ue=!1,Se=null,Ce=-1,qe=5,lt=-1;function rt(){return!(e.unstable_now()-lt<qe)}function st(){if(Se!==null){var et=e.unstable_now();lt=et;var Ue=!0;try{Ue=Se(!0,et)}finally{Ue?wt():(ue=!1,Se=null)}}else ue=!1}var wt;if(typeof K=="function")wt=function(){K(st)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Wt=St.port2;St.port1.onmessage=st,wt=function(){Wt.postMessage(null)}}else wt=function(){ae(st,0)};function fr(et){Se=et,ue||(ue=!0,wt())}function Rt(et,Ue){Ce=ae(function(){et(e.unstable_now())},Ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(et){et.callback=null},e.unstable_continueExecution=function(){Z||$||(Z=!0,fr(Ae))},e.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<et?Math.floor(1e3/et):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return r(S)},e.unstable_next=function(et){switch(N){case 1:case 2:case 3:var Ue=3;break;default:Ue=N}var Re=N;N=Ue;try{return et()}finally{N=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(et,Ue){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var Re=N;N=et;try{return Ue()}finally{N=Re}},e.unstable_scheduleCallback=function(et,Ue,Re){var le=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?le+Re:le):Re=le,et){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Re+ye,et={id:R++,callback:Ue,priorityLevel:et,startTime:Re,expirationTime:ye,sortIndex:-1},Re>le?(et.sortIndex=Re,t(P,et),r(S)===null&&et===r(P)&&(J?(V(Ce),Ce=-1):J=!0,Rt(me,Re-le))):(et.sortIndex=ye,t(S,et),Z||$||(Z=!0,fr(Ae))),et},e.unstable_shouldYield=rt,e.unstable_wrapCallback=function(et){var Ue=N;return function(){var Re=N;N=Ue;try{return et.apply(this,arguments)}finally{N=Re}}}})(KT);(function(e){e.exports=KT})(ZT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT=hr.exports,rl=ZT.exports;function tr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YT=new Set,wg={};function Uh(e,t){_0(e,t),_0(e+"Capture",t)}function _0(e,t){for(wg[e]=t,e=0;e<t.length;e++)YT.add(t[e])}var bp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qw=Object.prototype.hasOwnProperty,r9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P4={},I4={};function n9(e){return qw.call(I4,e)?!0:qw.call(P4,e)?!1:r9.test(e)?I4[e]=!0:(P4[e]=!0,!1)}function i9(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o9(e,t,r,i){if(t===null||typeof t>"u"||i9(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function au(e,t,r,i,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vs[e]=new au(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vs[t]=new au(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vs[e]=new au(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vs[e]=new au(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vs[e]=new au(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vs[e]=new au(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vs[e]=new au(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vs[e]=new au(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vs[e]=new au(e,5,!1,e.toLowerCase(),null,!1,!1)});var GS=/[\-:]([a-z])/g;function QS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(GS,QS);vs[t]=new au(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(GS,QS);vs[t]=new au(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(GS,QS);vs[t]=new au(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vs[e]=new au(e,1,!1,e.toLowerCase(),null,!1,!1)});vs.xlinkHref=new au("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vs[e]=new au(e,1,!1,e.toLowerCase(),null,!0,!0)});function WS(e,t,r,i){var s=vs.hasOwnProperty(t)?vs[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o9(t,r,s,i)&&(r=null),i||s===null?n9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Ep=XT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bv=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),ZS=Symbol.for("react.strict_mode"),Gw=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),eP=Symbol.for("react.context"),KS=Symbol.for("react.forward_ref"),Qw=Symbol.for("react.suspense"),Ww=Symbol.for("react.suspense_list"),XS=Symbol.for("react.memo"),dA=Symbol.for("react.lazy"),tP=Symbol.for("react.offscreen"),O4=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=O4&&e[O4]||e["@@iterator"],typeof e=="function"?e:null)}var qo=Object.assign,wb;function Ym(e){if(wb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wb=t&&t[1]||""}return`
`+wb+e}var Sb=!1;function Cb(e,t){if(!e||Sb)return"";Sb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var s=P.stack.split(`
`),l=i.stack.split(`
`),a=s.length-1,x=l.length-1;1<=a&&0<=x&&s[a]!==l[x];)x--;for(;1<=a&&0<=x;a--,x--)if(s[a]!==l[x]){if(a!==1||x!==1)do if(a--,x--,0>x||s[a]!==l[x]){var S=`
`+s[a].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=a&&0<=x);break}}}finally{Sb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ym(e):""}function a9(e){switch(e.tag){case 5:return Ym(e.type);case 16:return Ym("Lazy");case 13:return Ym("Suspense");case 19:return Ym("SuspenseList");case 0:case 2:case 15:return e=Cb(e.type,!1),e;case 11:return e=Cb(e.type.render,!1),e;case 1:return e=Cb(e.type,!0),e;default:return""}}function Zw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kd:return"Fragment";case Zd:return"Portal";case Gw:return"Profiler";case ZS:return"StrictMode";case Qw:return"Suspense";case Ww:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eP:return(e.displayName||"Context")+".Consumer";case JT:return(e._context.displayName||"Context")+".Provider";case KS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XS:return t=e.displayName||null,t!==null?t:Zw(e.type)||"Memo";case dA:t=e._payload,e=e._init;try{return Zw(e(t))}catch{}}return null}function s9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zw(t);case 8:return t===ZS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u9(e){var t=rP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zv(e){e._valueTracker||(e._valueTracker=u9(e))}function nP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=rP(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function e_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kw(e,t){var r=t.checked;return qo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function M4(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=zA(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iP(e,t){t=t.checked,t!=null&&WS(e,"checked",t,!1)}function Xw(e,t){iP(e,t);var r=zA(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yw(e,t.type,zA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yw(e,t,r){(t!=="number"||e_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jm=Array.isArray;function c0(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+zA(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tr(91));return qo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(tr(92));if(Jm(r)){if(1<r.length)throw Error(tr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zA(r)}}function oP(e,t){var r=zA(t.value),i=zA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function D4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nv,sP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nv=Nv||document.createElement("div"),Nv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ag={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l9=["Webkit","ms","Moz","O"];Object.keys(ag).forEach(function(e){l9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ag[t]=ag[e]})});function uP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ag.hasOwnProperty(e)&&ag[e]?(""+t).trim():t+"px"}function lP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=uP(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var c9=qo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t3(e,t){if(t){if(c9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tr(62))}}function r3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n3=null;function YS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i3=null,f0=null,p0=null;function F4(e){if(e=oy(e)){if(typeof i3!="function")throw Error(tr(280));var t=e.stateNode;t&&(t=K_(t),i3(e.stateNode,e.type,t))}}function cP(e){f0?p0?p0.push(e):p0=[e]:f0=e}function fP(){if(f0){var e=f0,t=p0;if(p0=f0=null,F4(e),t)for(e=0;e<t.length;e++)F4(t[e])}}function pP(e,t){return e(t)}function AP(){}var Eb=!1;function hP(e,t,r){if(Eb)return e(t,r);Eb=!0;try{return pP(e,t,r)}finally{Eb=!1,(f0!==null||p0!==null)&&(AP(),fP())}}function Cg(e,t){var r=e.stateNode;if(r===null)return null;var i=K_(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(tr(231,t,typeof r));return r}var o3=!1;if(bp)try{var Pm={};Object.defineProperty(Pm,"passive",{get:function(){o3=!0}}),window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{o3=!1}function f9(e,t,r,i,s,l,a,x,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(R){this.onError(R)}}var sg=!1,t_=null,r_=!1,a3=null,p9={onError:function(e){sg=!0,t_=e}};function A9(e,t,r,i,s,l,a,x,S){sg=!1,t_=null,f9.apply(p9,arguments)}function h9(e,t,r,i,s,l,a,x,S){if(A9.apply(this,arguments),sg){if(sg){var P=t_;sg=!1,t_=null}else throw Error(tr(198));r_||(r_=!0,a3=P)}}function jh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B4(e){if(jh(e)!==e)throw Error(tr(188))}function d9(e){var t=e.alternate;if(!t){if(t=jh(e),t===null)throw Error(tr(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return B4(s),e;if(l===i)return B4(s),t;l=l.sibling}throw Error(tr(188))}if(r.return!==i.return)r=s,i=l;else{for(var a=!1,x=s.child;x;){if(x===r){a=!0,r=s,i=l;break}if(x===i){a=!0,i=s,r=l;break}x=x.sibling}if(!a){for(x=l.child;x;){if(x===r){a=!0,r=l,i=s;break}if(x===i){a=!0,i=l,r=s;break}x=x.sibling}if(!a)throw Error(tr(189))}}if(r.alternate!==i)throw Error(tr(190))}if(r.tag!==3)throw Error(tr(188));return r.stateNode.current===r?e:t}function mP(e){return e=d9(e),e!==null?gP(e):null}function gP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gP(e);if(t!==null)return t;e=e.sibling}return null}var yP=rl.unstable_scheduleCallback,z4=rl.unstable_cancelCallback,m9=rl.unstable_shouldYield,g9=rl.unstable_requestPaint,ya=rl.unstable_now,y9=rl.unstable_getCurrentPriorityLevel,JS=rl.unstable_ImmediatePriority,vP=rl.unstable_UserBlockingPriority,n_=rl.unstable_NormalPriority,v9=rl.unstable_LowPriority,_P=rl.unstable_IdlePriority,G_=null,xf=null;function _9(e){if(xf&&typeof xf.onCommitFiberRoot=="function")try{xf.onCommitFiberRoot(G_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ic=Math.clz32?Math.clz32:w9,x9=Math.log,b9=Math.LN2;function w9(e){return e>>>=0,e===0?32:31-(x9(e)/b9|0)|0}var Uv=64,jv=4194304;function eg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function i_(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,a=r&268435455;if(a!==0){var x=a&~s;x!==0?i=eg(x):(l&=a,l!==0&&(i=eg(l)))}else a=r&~s,a!==0?i=eg(a):l!==0&&(i=eg(l));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ic(t),s=1<<r,i|=e[r],t&=~s;return i}function S9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C9(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Ic(l),x=1<<a,S=s[a];S===-1?((x&r)===0||(x&i)!==0)&&(s[a]=S9(x,t)):S<=t&&(e.expiredLanes|=x),l&=~x}}function s3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xP(){var e=Uv;return Uv<<=1,(Uv&4194240)===0&&(Uv=64),e}function kb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ny(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ic(t),e[t]=r}function E9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ic(r),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~l}}function eC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ic(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var Mi=0;function bP(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wP,tC,SP,CP,EP,u3=!1,$v=[],kA=null,TA=null,PA=null,Eg=new Map,kg=new Map,_A=[],k9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N4(e,t){switch(e){case"focusin":case"focusout":kA=null;break;case"dragenter":case"dragleave":TA=null;break;case"mouseover":case"mouseout":PA=null;break;case"pointerover":case"pointerout":Eg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kg.delete(t.pointerId)}}function Im(e,t,r,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=oy(t),t!==null&&tC(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function T9(e,t,r,i,s){switch(t){case"focusin":return kA=Im(kA,e,t,r,i,s),!0;case"dragenter":return TA=Im(TA,e,t,r,i,s),!0;case"mouseover":return PA=Im(PA,e,t,r,i,s),!0;case"pointerover":var l=s.pointerId;return Eg.set(l,Im(Eg.get(l)||null,e,t,r,i,s)),!0;case"gotpointercapture":return l=s.pointerId,kg.set(l,Im(kg.get(l)||null,e,t,r,i,s)),!0}return!1}function kP(e){var t=Ph(e.target);if(t!==null){var r=jh(t);if(r!==null){if(t=r.tag,t===13){if(t=dP(r),t!==null){e.blockedOn=t,EP(e.priority,function(){SP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function R1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=l3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);n3=i,r.target.dispatchEvent(i),n3=null}else return t=oy(r),t!==null&&tC(t),e.blockedOn=r,!1;t.shift()}return!0}function U4(e,t,r){R1(e)&&r.delete(t)}function P9(){u3=!1,kA!==null&&R1(kA)&&(kA=null),TA!==null&&R1(TA)&&(TA=null),PA!==null&&R1(PA)&&(PA=null),Eg.forEach(U4),kg.forEach(U4)}function Om(e,t){e.blockedOn===t&&(e.blockedOn=null,u3||(u3=!0,rl.unstable_scheduleCallback(rl.unstable_NormalPriority,P9)))}function Tg(e){function t(s){return Om(s,e)}if(0<$v.length){Om($v[0],e);for(var r=1;r<$v.length;r++){var i=$v[r];i.blockedOn===e&&(i.blockedOn=null)}}for(kA!==null&&Om(kA,e),TA!==null&&Om(TA,e),PA!==null&&Om(PA,e),Eg.forEach(t),kg.forEach(t),r=0;r<_A.length;r++)i=_A[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<_A.length&&(r=_A[0],r.blockedOn===null);)kP(r),r.blockedOn===null&&_A.shift()}var A0=Ep.ReactCurrentBatchConfig,o_=!0;function I9(e,t,r,i){var s=Mi,l=A0.transition;A0.transition=null;try{Mi=1,rC(e,t,r,i)}finally{Mi=s,A0.transition=l}}function O9(e,t,r,i){var s=Mi,l=A0.transition;A0.transition=null;try{Mi=4,rC(e,t,r,i)}finally{Mi=s,A0.transition=l}}function rC(e,t,r,i){if(o_){var s=l3(e,t,r,i);if(s===null)Bb(e,t,i,a_,r),N4(e,i);else if(T9(s,e,t,r,i))i.stopPropagation();else if(N4(e,i),t&4&&-1<k9.indexOf(e)){for(;s!==null;){var l=oy(s);if(l!==null&&wP(l),l=l3(e,t,r,i),l===null&&Bb(e,t,i,a_,r),l===s)break;s=l}s!==null&&i.stopPropagation()}else Bb(e,t,i,null,r)}}var a_=null;function l3(e,t,r,i){if(a_=null,e=YS(i),e=Ph(e),e!==null)if(t=jh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return a_=e,null}function TP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y9()){case JS:return 1;case vP:return 4;case n_:case v9:return 16;case _P:return 536870912;default:return 16}default:return 16}}var wA=null,nC=null,L1=null;function PP(){if(L1)return L1;var e,t=nC,r=t.length,i,s="value"in wA?wA.value:wA.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(i=1;i<=a&&t[r-i]===s[l-i];i++);return L1=s.slice(e,1<i?1-i:void 0)}function D1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vv(){return!0}function j4(){return!1}function il(e){function t(r,i,s,l,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(l):l[x]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Vv:j4,this.isPropagationStopped=j4,this}return qo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vv)},persist:function(){},isPersistent:Vv}),t}var D0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=il(D0),iy=qo({},D0,{view:0,detail:0}),M9=il(iy),Tb,Pb,Mm,Q_=qo({},iy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mm&&(Mm&&e.type==="mousemove"?(Tb=e.screenX-Mm.screenX,Pb=e.screenY-Mm.screenY):Pb=Tb=0,Mm=e),Tb)},movementY:function(e){return"movementY"in e?e.movementY:Pb}}),$4=il(Q_),R9=qo({},Q_,{dataTransfer:0}),L9=il(R9),D9=qo({},iy,{relatedTarget:0}),Ib=il(D9),F9=qo({},D0,{animationName:0,elapsedTime:0,pseudoElement:0}),B9=il(F9),z9=qo({},D0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N9=il(z9),U9=qo({},D0,{data:0}),V4=il(U9),j9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V9[e])?!!t[e]:!1}function oC(){return H9}var q9=qo({},iy,{key:function(e){if(e.key){var t=j9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=D1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oC,charCode:function(e){return e.type==="keypress"?D1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?D1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G9=il(q9),Q9=qo({},Q_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H4=il(Q9),W9=qo({},iy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oC}),Z9=il(W9),K9=qo({},D0,{propertyName:0,elapsedTime:0,pseudoElement:0}),X9=il(K9),Y9=qo({},Q_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J9=il(Y9),eF=[9,13,27,32],aC=bp&&"CompositionEvent"in window,ug=null;bp&&"documentMode"in document&&(ug=document.documentMode);var tF=bp&&"TextEvent"in window&&!ug,IP=bp&&(!aC||ug&&8<ug&&11>=ug),q4=String.fromCharCode(32),G4=!1;function OP(e,t){switch(e){case"keyup":return eF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xd=!1;function rF(e,t){switch(e){case"compositionend":return MP(t);case"keypress":return t.which!==32?null:(G4=!0,q4);case"textInput":return e=t.data,e===q4&&G4?null:e;default:return null}}function nF(e,t){if(Xd)return e==="compositionend"||!aC&&OP(e,t)?(e=PP(),L1=nC=wA=null,Xd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IP&&t.locale!=="ko"?null:t.data;default:return null}}var iF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iF[e.type]:t==="textarea"}function RP(e,t,r,i){cP(i),t=s_(t,"onChange"),0<t.length&&(r=new iC("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var lg=null,Pg=null;function oF(e){HP(e,0)}function W_(e){var t=e0(e);if(nP(t))return e}function aF(e,t){if(e==="change")return t}var LP=!1;if(bp){var Ob;if(bp){var Mb="oninput"in document;if(!Mb){var W4=document.createElement("div");W4.setAttribute("oninput","return;"),Mb=typeof W4.oninput=="function"}Ob=Mb}else Ob=!1;LP=Ob&&(!document.documentMode||9<document.documentMode)}function Z4(){lg&&(lg.detachEvent("onpropertychange",DP),Pg=lg=null)}function DP(e){if(e.propertyName==="value"&&W_(Pg)){var t=[];RP(t,Pg,e,YS(e)),hP(oF,t)}}function sF(e,t,r){e==="focusin"?(Z4(),lg=t,Pg=r,lg.attachEvent("onpropertychange",DP)):e==="focusout"&&Z4()}function uF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return W_(Pg)}function lF(e,t){if(e==="click")return W_(t)}function cF(e,t){if(e==="input"||e==="change")return W_(t)}function fF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mc=typeof Object.is=="function"?Object.is:fF;function Ig(e,t){if(Mc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!qw.call(t,s)||!Mc(e[s],t[s]))return!1}return!0}function K4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X4(e,t){var r=K4(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K4(r)}}function FP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BP(){for(var e=window,t=e_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=e_(e.document)}return t}function sC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pF(e){var t=BP(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FP(r.ownerDocument.documentElement,r)){if(i!==null&&sC(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=X4(r,l);var a=X4(r,i);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AF=bp&&"documentMode"in document&&11>=document.documentMode,Yd=null,c3=null,cg=null,f3=!1;function Y4(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;f3||Yd==null||Yd!==e_(i)||(i=Yd,"selectionStart"in i&&sC(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cg&&Ig(cg,i)||(cg=i,i=s_(c3,"onSelect"),0<i.length&&(t=new iC("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Yd)))}function Hv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jd={animationend:Hv("Animation","AnimationEnd"),animationiteration:Hv("Animation","AnimationIteration"),animationstart:Hv("Animation","AnimationStart"),transitionend:Hv("Transition","TransitionEnd")},Rb={},zP={};bp&&(zP=document.createElement("div").style,"AnimationEvent"in window||(delete Jd.animationend.animation,delete Jd.animationiteration.animation,delete Jd.animationstart.animation),"TransitionEvent"in window||delete Jd.transitionend.transition);function Z_(e){if(Rb[e])return Rb[e];if(!Jd[e])return e;var t=Jd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zP)return Rb[e]=t[r];return e}var NP=Z_("animationend"),UP=Z_("animationiteration"),jP=Z_("animationstart"),$P=Z_("transitionend"),VP=new Map,J4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jA(e,t){VP.set(e,t),Uh(t,[e])}for(var Lb=0;Lb<J4.length;Lb++){var Db=J4[Lb],hF=Db.toLowerCase(),dF=Db[0].toUpperCase()+Db.slice(1);jA(hF,"on"+dF)}jA(NP,"onAnimationEnd");jA(UP,"onAnimationIteration");jA(jP,"onAnimationStart");jA("dblclick","onDoubleClick");jA("focusin","onFocus");jA("focusout","onBlur");jA($P,"onTransitionEnd");_0("onMouseEnter",["mouseout","mouseover"]);_0("onMouseLeave",["mouseout","mouseover"]);_0("onPointerEnter",["pointerout","pointerover"]);_0("onPointerLeave",["pointerout","pointerover"]);Uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mF=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function e5(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,h9(i,t,void 0,e),e.currentTarget=null}function HP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var a=i.length-1;0<=a;a--){var x=i[a],S=x.instance,P=x.currentTarget;if(x=x.listener,S!==l&&s.isPropagationStopped())break e;e5(s,x,P),l=S}else for(a=0;a<i.length;a++){if(x=i[a],S=x.instance,P=x.currentTarget,x=x.listener,S!==l&&s.isPropagationStopped())break e;e5(s,x,P),l=S}}}if(r_)throw e=a3,r_=!1,a3=null,e}function wo(e,t){var r=t[m3];r===void 0&&(r=t[m3]=new Set);var i=e+"__bubble";r.has(i)||(qP(t,e,2,!1),r.add(i))}function Fb(e,t,r){var i=0;t&&(i|=4),qP(r,e,i,t)}var qv="_reactListening"+Math.random().toString(36).slice(2);function Og(e){if(!e[qv]){e[qv]=!0,YT.forEach(function(r){r!=="selectionchange"&&(mF.has(r)||Fb(r,!1,e),Fb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qv]||(t[qv]=!0,Fb("selectionchange",!1,t))}}function qP(e,t,r,i){switch(TP(t)){case 1:var s=I9;break;case 4:s=O9;break;default:s=rC}r=s.bind(null,t,r,e),s=void 0,!o3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bb(e,t,r,i,s){var l=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var S=a.tag;if((S===3||S===4)&&(S=a.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;a=a.return}for(;x!==null;){if(a=Ph(x),a===null)return;if(S=a.tag,S===5||S===6){i=l=a;continue e}x=x.parentNode}}i=i.return}hP(function(){var P=l,R=YS(r),z=[];e:{var N=VP.get(e);if(N!==void 0){var $=iC,Z=e;switch(e){case"keypress":if(D1(r)===0)break e;case"keydown":case"keyup":$=G9;break;case"focusin":Z="focus",$=Ib;break;case"focusout":Z="blur",$=Ib;break;case"beforeblur":case"afterblur":$=Ib;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=$4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=L9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Z9;break;case NP:case UP:case jP:$=B9;break;case $P:$=X9;break;case"scroll":$=M9;break;case"wheel":$=J9;break;case"copy":case"cut":case"paste":$=N9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=H4}var J=(t&4)!==0,ae=!J&&e==="scroll",V=J?N!==null?N+"Capture":null:N;J=[];for(var K=P,se;K!==null;){se=K;var me=se.stateNode;if(se.tag===5&&me!==null&&(se=me,V!==null&&(me=Cg(K,V),me!=null&&J.push(Mg(K,me,se)))),ae)break;K=K.return}0<J.length&&(N=new $(N,Z,null,r,R),z.push({event:N,listeners:J}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",N&&r!==n3&&(Z=r.relatedTarget||r.fromElement)&&(Ph(Z)||Z[wp]))break e;if(($||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,$?(Z=r.relatedTarget||r.toElement,$=P,Z=Z?Ph(Z):null,Z!==null&&(ae=jh(Z),Z!==ae||Z.tag!==5&&Z.tag!==6)&&(Z=null)):($=null,Z=P),$!==Z)){if(J=$4,me="onMouseLeave",V="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(J=H4,me="onPointerLeave",V="onPointerEnter",K="pointer"),ae=$==null?N:e0($),se=Z==null?N:e0(Z),N=new J(me,K+"leave",$,r,R),N.target=ae,N.relatedTarget=se,me=null,Ph(R)===P&&(J=new J(V,K+"enter",Z,r,R),J.target=se,J.relatedTarget=ae,me=J),ae=me,$&&Z)t:{for(J=$,V=Z,K=0,se=J;se;se=Pd(se))K++;for(se=0,me=V;me;me=Pd(me))se++;for(;0<K-se;)J=Pd(J),K--;for(;0<se-K;)V=Pd(V),se--;for(;K--;){if(J===V||V!==null&&J===V.alternate)break t;J=Pd(J),V=Pd(V)}J=null}else J=null;$!==null&&t5(z,N,$,J,!1),Z!==null&&ae!==null&&t5(z,ae,Z,J,!0)}}e:{if(N=P?e0(P):window,$=N.nodeName&&N.nodeName.toLowerCase(),$==="select"||$==="input"&&N.type==="file")var Ae=aF;else if(Q4(N))if(LP)Ae=cF;else{Ae=uF;var ue=sF}else($=N.nodeName)&&$.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(Ae=lF);if(Ae&&(Ae=Ae(e,P))){RP(z,Ae,r,R);break e}ue&&ue(e,N,P),e==="focusout"&&(ue=N._wrapperState)&&ue.controlled&&N.type==="number"&&Yw(N,"number",N.value)}switch(ue=P?e0(P):window,e){case"focusin":(Q4(ue)||ue.contentEditable==="true")&&(Yd=ue,c3=P,cg=null);break;case"focusout":cg=c3=Yd=null;break;case"mousedown":f3=!0;break;case"contextmenu":case"mouseup":case"dragend":f3=!1,Y4(z,r,R);break;case"selectionchange":if(AF)break;case"keydown":case"keyup":Y4(z,r,R)}var Se;if(aC)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Xd?OP(e,r)&&(Ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(IP&&r.locale!=="ko"&&(Xd||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Xd&&(Se=PP()):(wA=R,nC="value"in wA?wA.value:wA.textContent,Xd=!0)),ue=s_(P,Ce),0<ue.length&&(Ce=new V4(Ce,e,null,r,R),z.push({event:Ce,listeners:ue}),Se?Ce.data=Se:(Se=MP(r),Se!==null&&(Ce.data=Se)))),(Se=tF?rF(e,r):nF(e,r))&&(P=s_(P,"onBeforeInput"),0<P.length&&(R=new V4("onBeforeInput","beforeinput",null,r,R),z.push({event:R,listeners:P}),R.data=Se))}HP(z,t)})}function Mg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function s_(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Cg(e,r),l!=null&&i.unshift(Mg(e,l,s)),l=Cg(e,t),l!=null&&i.push(Mg(e,l,s))),e=e.return}return i}function Pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t5(e,t,r,i,s){for(var l=t._reactName,a=[];r!==null&&r!==i;){var x=r,S=x.alternate,P=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&P!==null&&(x=P,s?(S=Cg(r,l),S!=null&&a.unshift(Mg(r,S,x))):s||(S=Cg(r,l),S!=null&&a.push(Mg(r,S,x)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var gF=/\r\n?/g,yF=/\u0000|\uFFFD/g;function r5(e){return(typeof e=="string"?e:""+e).replace(gF,`
`).replace(yF,"")}function Gv(e,t,r){if(t=r5(t),r5(e)!==t&&r)throw Error(tr(425))}function u_(){}var p3=null,A3=null;function h3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var d3=typeof setTimeout=="function"?setTimeout:void 0,vF=typeof clearTimeout=="function"?clearTimeout:void 0,n5=typeof Promise=="function"?Promise:void 0,_F=typeof queueMicrotask=="function"?queueMicrotask:typeof n5<"u"?function(e){return n5.resolve(null).then(e).catch(xF)}:d3;function xF(e){setTimeout(function(){throw e})}function zb(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),Tg(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Tg(t)}function IA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var F0=Math.random().toString(36).slice(2),yf="__reactFiber$"+F0,Rg="__reactProps$"+F0,wp="__reactContainer$"+F0,m3="__reactEvents$"+F0,bF="__reactListeners$"+F0,wF="__reactHandles$"+F0;function Ph(e){var t=e[yf];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wp]||r[yf]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=i5(e);e!==null;){if(r=e[yf])return r;e=i5(e)}return t}e=r,r=e.parentNode}return null}function oy(e){return e=e[yf]||e[wp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function e0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tr(33))}function K_(e){return e[Rg]||null}var g3=[],t0=-1;function $A(e){return{current:e}}function Co(e){0>t0||(e.current=g3[t0],g3[t0]=null,t0--)}function co(e,t){t0++,g3[t0]=e.current,e.current=t}var NA={},Ns=$A(NA),Mu=$A(!1),Dh=NA;function x0(e,t){var r=e.type.contextTypes;if(!r)return NA;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ru(e){return e=e.childContextTypes,e!=null}function l_(){Co(Mu),Co(Ns)}function o5(e,t,r){if(Ns.current!==NA)throw Error(tr(168));co(Ns,t),co(Mu,r)}function GP(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(tr(108,s9(e)||"Unknown",s));return qo({},r,i)}function c_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||NA,Dh=Ns.current,co(Ns,e),co(Mu,Mu.current),!0}function a5(e,t,r){var i=e.stateNode;if(!i)throw Error(tr(169));r?(e=GP(e,t,Dh),i.__reactInternalMemoizedMergedChildContext=e,Co(Mu),Co(Ns),co(Ns,e)):Co(Mu),co(Mu,r)}var dp=null,X_=!1,Nb=!1;function QP(e){dp===null?dp=[e]:dp.push(e)}function SF(e){X_=!0,QP(e)}function VA(){if(!Nb&&dp!==null){Nb=!0;var e=0,t=Mi;try{var r=dp;for(Mi=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}dp=null,X_=!1}catch(s){throw dp!==null&&(dp=dp.slice(e+1)),yP(JS,VA),s}finally{Mi=t,Nb=!1}}return null}var r0=[],n0=0,f_=null,p_=0,Ml=[],Rl=0,Fh=null,gp=1,yp="";function bh(e,t){r0[n0++]=p_,r0[n0++]=f_,f_=e,p_=t}function WP(e,t,r){Ml[Rl++]=gp,Ml[Rl++]=yp,Ml[Rl++]=Fh,Fh=e;var i=gp;e=yp;var s=32-Ic(i)-1;i&=~(1<<s),r+=1;var l=32-Ic(t)+s;if(30<l){var a=s-s%5;l=(i&(1<<a)-1).toString(32),i>>=a,s-=a,gp=1<<32-Ic(t)+s|r<<s|i,yp=l+e}else gp=1<<l|r<<s|i,yp=e}function uC(e){e.return!==null&&(bh(e,1),WP(e,1,0))}function lC(e){for(;e===f_;)f_=r0[--n0],r0[n0]=null,p_=r0[--n0],r0[n0]=null;for(;e===Fh;)Fh=Ml[--Rl],Ml[Rl]=null,yp=Ml[--Rl],Ml[Rl]=null,gp=Ml[--Rl],Ml[Rl]=null}var tl=null,Yu=null,Mo=!1,Tc=null;function ZP(e,t){var r=Dl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tl=e,Yu=IA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tl=e,Yu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fh!==null?{id:gp,overflow:yp}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tl=e,Yu=null,!0):!1;default:return!1}}function y3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function v3(e){if(Mo){var t=Yu;if(t){var r=t;if(!s5(e,t)){if(y3(e))throw Error(tr(418));t=IA(r.nextSibling);var i=tl;t&&s5(e,t)?ZP(i,r):(e.flags=e.flags&-4097|2,Mo=!1,tl=e)}}else{if(y3(e))throw Error(tr(418));e.flags=e.flags&-4097|2,Mo=!1,tl=e}}}function u5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tl=e}function Qv(e){if(e!==tl)return!1;if(!Mo)return u5(e),Mo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!h3(e.type,e.memoizedProps)),t&&(t=Yu)){if(y3(e))throw KP(),Error(tr(418));for(;t;)ZP(e,t),t=IA(t.nextSibling)}if(u5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yu=IA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yu=null}}else Yu=tl?IA(e.stateNode.nextSibling):null;return!0}function KP(){for(var e=Yu;e;)e=IA(e.nextSibling)}function b0(){Yu=tl=null,Mo=!1}function cC(e){Tc===null?Tc=[e]:Tc.push(e)}var CF=Ep.ReactCurrentBatchConfig;function Ec(e,t){if(e&&e.defaultProps){t=qo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var A_=$A(null),h_=null,i0=null,fC=null;function pC(){fC=i0=h_=null}function AC(e){var t=A_.current;Co(A_),e._currentValue=t}function _3(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function h0(e,t){h_=e,fC=i0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ou=!0),e.firstContext=null)}function Nl(e){var t=e._currentValue;if(fC!==e)if(e={context:e,memoizedValue:t,next:null},i0===null){if(h_===null)throw Error(tr(308));i0=e,h_.dependencies={lanes:0,firstContext:e}}else i0=i0.next=e;return t}var Ih=null;function hC(e){Ih===null?Ih=[e]:Ih.push(e)}function XP(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,hC(t)):(r.next=s.next,s.next=r),t.interleaved=r,Sp(e,i)}function Sp(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mA=!1;function dC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _p(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function OA(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ai&2)!==0){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Sp(e,r)}return s=i.interleaved,s===null?(t.next=t,hC(i)):(t.next=s.next,s.next=t),i.interleaved=t,Sp(e,r)}function F1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,eC(e,r)}}function l5(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=a:l=l.next=a,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function d_(e,t,r,i){var s=e.updateQueue;mA=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,P=S.next;S.next=null,a===null?l=P:a.next=P,a=S;var R=e.alternate;R!==null&&(R=R.updateQueue,x=R.lastBaseUpdate,x!==a&&(x===null?R.firstBaseUpdate=P:x.next=P,R.lastBaseUpdate=S))}if(l!==null){var z=s.baseState;a=0,R=P=S=null,x=l;do{var N=x.lane,$=x.eventTime;if((i&N)===N){R!==null&&(R=R.next={eventTime:$,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Z=e,J=x;switch(N=t,$=r,J.tag){case 1:if(Z=J.payload,typeof Z=="function"){z=Z.call($,z,N);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=J.payload,N=typeof Z=="function"?Z.call($,z,N):Z,N==null)break e;z=qo({},z,N);break e;case 2:mA=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,N=s.effects,N===null?s.effects=[x]:N.push(x))}else $={eventTime:$,lane:N,tag:x.tag,payload:x.payload,callback:x.callback,next:null},R===null?(P=R=$,S=z):R=R.next=$,a|=N;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;N=x,x=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(1);if(R===null&&(S=z),s.baseState=S,s.firstBaseUpdate=P,s.lastBaseUpdate=R,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);zh|=a,e.lanes=a,e.memoizedState=z}}function c5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(tr(191,s));s.call(i)}}}var JP=new XT.Component().refs;function x3(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:qo({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Y_={isMounted:function(e){return(e=e._reactInternals)?jh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=nu(),s=RA(e),l=_p(i,s);l.payload=t,r!=null&&(l.callback=r),t=OA(e,l,s),t!==null&&(Oc(t,e,s,i),F1(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=nu(),s=RA(e),l=_p(i,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=OA(e,l,s),t!==null&&(Oc(t,e,s,i),F1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nu(),i=RA(e),s=_p(r,i);s.tag=2,t!=null&&(s.callback=t),t=OA(e,s,i),t!==null&&(Oc(t,e,i,r),F1(t,e,i))}};function f5(e,t,r,i,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ig(r,i)||!Ig(s,l):!0}function eI(e,t,r){var i=!1,s=NA,l=t.contextType;return typeof l=="object"&&l!==null?l=Nl(l):(s=Ru(t)?Dh:Ns.current,i=t.contextTypes,l=(i=i!=null)?x0(e,s):NA),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Y_,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function p5(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Y_.enqueueReplaceState(t,t.state,null)}function b3(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=JP,dC(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Nl(l):(l=Ru(t)?Dh:Ns.current,s.context=x0(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(x3(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Y_.enqueueReplaceState(s,s.state,null),d_(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tr(309));var i=r.stateNode}if(!i)throw Error(tr(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var x=s.refs;x===JP&&(x=s.refs={}),a===null?delete x[l]:x[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(tr(284));if(!r._owner)throw Error(tr(290,e))}return e}function Wv(e,t){throw e=Object.prototype.toString.call(t),Error(tr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A5(e){var t=e._init;return t(e._payload)}function tI(e){function t(V,K){if(e){var se=V.deletions;se===null?(V.deletions=[K],V.flags|=16):se.push(K)}}function r(V,K){if(!e)return null;for(;K!==null;)t(V,K),K=K.sibling;return null}function i(V,K){for(V=new Map;K!==null;)K.key!==null?V.set(K.key,K):V.set(K.index,K),K=K.sibling;return V}function s(V,K){return V=LA(V,K),V.index=0,V.sibling=null,V}function l(V,K,se){return V.index=se,e?(se=V.alternate,se!==null?(se=se.index,se<K?(V.flags|=2,K):se):(V.flags|=2,K)):(V.flags|=1048576,K)}function a(V){return e&&V.alternate===null&&(V.flags|=2),V}function x(V,K,se,me){return K===null||K.tag!==6?(K=Gb(se,V.mode,me),K.return=V,K):(K=s(K,se),K.return=V,K)}function S(V,K,se,me){var Ae=se.type;return Ae===Kd?R(V,K,se.props.children,me,se.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===dA&&A5(Ae)===K.type)?(me=s(K,se.props),me.ref=Rm(V,K,se),me.return=V,me):(me=$1(se.type,se.key,se.props,null,V.mode,me),me.ref=Rm(V,K,se),me.return=V,me)}function P(V,K,se,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==se.containerInfo||K.stateNode.implementation!==se.implementation?(K=Qb(se,V.mode,me),K.return=V,K):(K=s(K,se.children||[]),K.return=V,K)}function R(V,K,se,me,Ae){return K===null||K.tag!==7?(K=Rh(se,V.mode,me,Ae),K.return=V,K):(K=s(K,se),K.return=V,K)}function z(V,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Gb(""+K,V.mode,se),K.return=V,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Bv:return se=$1(K.type,K.key,K.props,null,V.mode,se),se.ref=Rm(V,null,K),se.return=V,se;case Zd:return K=Qb(K,V.mode,se),K.return=V,K;case dA:var me=K._init;return z(V,me(K._payload),se)}if(Jm(K)||Tm(K))return K=Rh(K,V.mode,se,null),K.return=V,K;Wv(V,K)}return null}function N(V,K,se,me){var Ae=K!==null?K.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Ae!==null?null:x(V,K,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Bv:return se.key===Ae?S(V,K,se,me):null;case Zd:return se.key===Ae?P(V,K,se,me):null;case dA:return Ae=se._init,N(V,K,Ae(se._payload),me)}if(Jm(se)||Tm(se))return Ae!==null?null:R(V,K,se,me,null);Wv(V,se)}return null}function $(V,K,se,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number")return V=V.get(se)||null,x(K,V,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Bv:return V=V.get(me.key===null?se:me.key)||null,S(K,V,me,Ae);case Zd:return V=V.get(me.key===null?se:me.key)||null,P(K,V,me,Ae);case dA:var ue=me._init;return $(V,K,se,ue(me._payload),Ae)}if(Jm(me)||Tm(me))return V=V.get(se)||null,R(K,V,me,Ae,null);Wv(K,me)}return null}function Z(V,K,se,me){for(var Ae=null,ue=null,Se=K,Ce=K=0,qe=null;Se!==null&&Ce<se.length;Ce++){Se.index>Ce?(qe=Se,Se=null):qe=Se.sibling;var lt=N(V,Se,se[Ce],me);if(lt===null){Se===null&&(Se=qe);break}e&&Se&&lt.alternate===null&&t(V,Se),K=l(lt,K,Ce),ue===null?Ae=lt:ue.sibling=lt,ue=lt,Se=qe}if(Ce===se.length)return r(V,Se),Mo&&bh(V,Ce),Ae;if(Se===null){for(;Ce<se.length;Ce++)Se=z(V,se[Ce],me),Se!==null&&(K=l(Se,K,Ce),ue===null?Ae=Se:ue.sibling=Se,ue=Se);return Mo&&bh(V,Ce),Ae}for(Se=i(V,Se);Ce<se.length;Ce++)qe=$(Se,V,Ce,se[Ce],me),qe!==null&&(e&&qe.alternate!==null&&Se.delete(qe.key===null?Ce:qe.key),K=l(qe,K,Ce),ue===null?Ae=qe:ue.sibling=qe,ue=qe);return e&&Se.forEach(function(rt){return t(V,rt)}),Mo&&bh(V,Ce),Ae}function J(V,K,se,me){var Ae=Tm(se);if(typeof Ae!="function")throw Error(tr(150));if(se=Ae.call(se),se==null)throw Error(tr(151));for(var ue=Ae=null,Se=K,Ce=K=0,qe=null,lt=se.next();Se!==null&&!lt.done;Ce++,lt=se.next()){Se.index>Ce?(qe=Se,Se=null):qe=Se.sibling;var rt=N(V,Se,lt.value,me);if(rt===null){Se===null&&(Se=qe);break}e&&Se&&rt.alternate===null&&t(V,Se),K=l(rt,K,Ce),ue===null?Ae=rt:ue.sibling=rt,ue=rt,Se=qe}if(lt.done)return r(V,Se),Mo&&bh(V,Ce),Ae;if(Se===null){for(;!lt.done;Ce++,lt=se.next())lt=z(V,lt.value,me),lt!==null&&(K=l(lt,K,Ce),ue===null?Ae=lt:ue.sibling=lt,ue=lt);return Mo&&bh(V,Ce),Ae}for(Se=i(V,Se);!lt.done;Ce++,lt=se.next())lt=$(Se,V,Ce,lt.value,me),lt!==null&&(e&&lt.alternate!==null&&Se.delete(lt.key===null?Ce:lt.key),K=l(lt,K,Ce),ue===null?Ae=lt:ue.sibling=lt,ue=lt);return e&&Se.forEach(function(st){return t(V,st)}),Mo&&bh(V,Ce),Ae}function ae(V,K,se,me){if(typeof se=="object"&&se!==null&&se.type===Kd&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case Bv:e:{for(var Ae=se.key,ue=K;ue!==null;){if(ue.key===Ae){if(Ae=se.type,Ae===Kd){if(ue.tag===7){r(V,ue.sibling),K=s(ue,se.props.children),K.return=V,V=K;break e}}else if(ue.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===dA&&A5(Ae)===ue.type){r(V,ue.sibling),K=s(ue,se.props),K.ref=Rm(V,ue,se),K.return=V,V=K;break e}r(V,ue);break}else t(V,ue);ue=ue.sibling}se.type===Kd?(K=Rh(se.props.children,V.mode,me,se.key),K.return=V,V=K):(me=$1(se.type,se.key,se.props,null,V.mode,me),me.ref=Rm(V,K,se),me.return=V,V=me)}return a(V);case Zd:e:{for(ue=se.key;K!==null;){if(K.key===ue)if(K.tag===4&&K.stateNode.containerInfo===se.containerInfo&&K.stateNode.implementation===se.implementation){r(V,K.sibling),K=s(K,se.children||[]),K.return=V,V=K;break e}else{r(V,K);break}else t(V,K);K=K.sibling}K=Qb(se,V.mode,me),K.return=V,V=K}return a(V);case dA:return ue=se._init,ae(V,K,ue(se._payload),me)}if(Jm(se))return Z(V,K,se,me);if(Tm(se))return J(V,K,se,me);Wv(V,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,K!==null&&K.tag===6?(r(V,K.sibling),K=s(K,se),K.return=V,V=K):(r(V,K),K=Gb(se,V.mode,me),K.return=V,V=K),a(V)):r(V,K)}return ae}var w0=tI(!0),rI=tI(!1),ay={},bf=$A(ay),Lg=$A(ay),Dg=$A(ay);function Oh(e){if(e===ay)throw Error(tr(174));return e}function mC(e,t){switch(co(Dg,t),co(Lg,e),co(bf,ay),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e3(t,e)}Co(bf),co(bf,t)}function S0(){Co(bf),Co(Lg),Co(Dg)}function nI(e){Oh(Dg.current);var t=Oh(bf.current),r=e3(t,e.type);t!==r&&(co(Lg,e),co(bf,r))}function gC(e){Lg.current===e&&(Co(bf),Co(Lg))}var Vo=$A(0);function m_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ub=[];function yC(){for(var e=0;e<Ub.length;e++)Ub[e]._workInProgressVersionPrimary=null;Ub.length=0}var B1=Ep.ReactCurrentDispatcher,jb=Ep.ReactCurrentBatchConfig,Bh=0,Ho=null,Fa=null,es=null,g_=!1,fg=!1,Fg=0,EF=0;function Rs(){throw Error(tr(321))}function vC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mc(e[r],t[r]))return!1;return!0}function _C(e,t,r,i,s,l){if(Bh=l,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B1.current=e===null||e.memoizedState===null?IF:OF,e=r(i,s),fg){l=0;do{if(fg=!1,Fg=0,25<=l)throw Error(tr(301));l+=1,es=Fa=null,t.updateQueue=null,B1.current=MF,e=r(i,s)}while(fg)}if(B1.current=y_,t=Fa!==null&&Fa.next!==null,Bh=0,es=Fa=Ho=null,g_=!1,t)throw Error(tr(300));return e}function xC(){var e=Fg!==0;return Fg=0,e}function mf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Ho.memoizedState=es=e:es=es.next=e,es}function Ul(){if(Fa===null){var e=Ho.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=es===null?Ho.memoizedState:es.next;if(t!==null)es=t,Fa=e;else{if(e===null)throw Error(tr(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},es===null?Ho.memoizedState=es=e:es=es.next=e}return es}function Bg(e,t){return typeof t=="function"?t(e):t}function $b(e){var t=Ul(),r=t.queue;if(r===null)throw Error(tr(311));r.lastRenderedReducer=e;var i=Fa,s=i.baseQueue,l=r.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}i.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,i=i.baseState;var x=a=null,S=null,P=l;do{var R=P.lane;if((Bh&R)===R)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var z={lane:R,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(x=S=z,a=i):S=S.next=z,Ho.lanes|=R,zh|=R}P=P.next}while(P!==null&&P!==l);S===null?a=i:S.next=x,Mc(i,t.memoizedState)||(Ou=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=S,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do l=s.lane,Ho.lanes|=l,zh|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vb(e){var t=Ul(),r=t.queue;if(r===null)throw Error(tr(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Mc(l,t.memoizedState)||(Ou=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,i]}function iI(){}function oI(e,t){var r=Ho,i=Ul(),s=t(),l=!Mc(i.memoizedState,s);if(l&&(i.memoizedState=s,Ou=!0),i=i.queue,bC(uI.bind(null,r,i,e),[e]),i.getSnapshot!==t||l||es!==null&&es.memoizedState.tag&1){if(r.flags|=2048,zg(9,sI.bind(null,r,i,s,t),void 0,null),ts===null)throw Error(tr(349));(Bh&30)!==0||aI(r,t,s)}return s}function aI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ho.updateQueue,t===null?(t={lastEffect:null,stores:null},Ho.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sI(e,t,r,i){t.value=r,t.getSnapshot=i,lI(t)&&cI(e)}function uI(e,t,r){return r(function(){lI(t)&&cI(e)})}function lI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mc(e,r)}catch{return!0}}function cI(e){var t=Sp(e,1);t!==null&&Oc(t,e,1,-1)}function h5(e){var t=mf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:e},t.queue=e,e=e.dispatch=PF.bind(null,Ho,e),[t.memoizedState,e]}function zg(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ho.updateQueue,t===null?(t={lastEffect:null,stores:null},Ho.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function fI(){return Ul().memoizedState}function z1(e,t,r,i){var s=mf();Ho.flags|=e,s.memoizedState=zg(1|t,r,void 0,i===void 0?null:i)}function J_(e,t,r,i){var s=Ul();i=i===void 0?null:i;var l=void 0;if(Fa!==null){var a=Fa.memoizedState;if(l=a.destroy,i!==null&&vC(i,a.deps)){s.memoizedState=zg(t,r,l,i);return}}Ho.flags|=e,s.memoizedState=zg(1|t,r,l,i)}function d5(e,t){return z1(8390656,8,e,t)}function bC(e,t){return J_(2048,8,e,t)}function pI(e,t){return J_(4,2,e,t)}function AI(e,t){return J_(4,4,e,t)}function hI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dI(e,t,r){return r=r!=null?r.concat([e]):null,J_(4,4,hI.bind(null,t,e),r)}function wC(){}function mI(e,t){var r=Ul();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&vC(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function gI(e,t){var r=Ul();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&vC(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function yI(e,t,r){return(Bh&21)===0?(e.baseState&&(e.baseState=!1,Ou=!0),e.memoizedState=r):(Mc(r,t)||(r=xP(),Ho.lanes|=r,zh|=r,e.baseState=!0),t)}function kF(e,t){var r=Mi;Mi=r!==0&&4>r?r:4,e(!0);var i=jb.transition;jb.transition={};try{e(!1),t()}finally{Mi=r,jb.transition=i}}function vI(){return Ul().memoizedState}function TF(e,t,r){var i=RA(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},_I(e))xI(t,r);else if(r=XP(e,t,r,i),r!==null){var s=nu();Oc(r,e,i,s),bI(r,t,i)}}function PF(e,t,r){var i=RA(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(_I(e))xI(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,x=l(a,r);if(s.hasEagerState=!0,s.eagerState=x,Mc(x,a)){var S=t.interleaved;S===null?(s.next=s,hC(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}r=XP(e,t,s,i),r!==null&&(s=nu(),Oc(r,e,i,s),bI(r,t,i))}}function _I(e){var t=e.alternate;return e===Ho||t!==null&&t===Ho}function xI(e,t){fg=g_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bI(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,eC(e,r)}}var y_={readContext:Nl,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},IF={readContext:Nl,useCallback:function(e,t){return mf().memoizedState=[e,t===void 0?null:t],e},useContext:Nl,useEffect:d5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,z1(4194308,4,hI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return z1(4194308,4,e,t)},useInsertionEffect:function(e,t){return z1(4,2,e,t)},useMemo:function(e,t){var r=mf();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=mf();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=TF.bind(null,Ho,e),[i.memoizedState,e]},useRef:function(e){var t=mf();return e={current:e},t.memoizedState=e},useState:h5,useDebugValue:wC,useDeferredValue:function(e){return mf().memoizedState=e},useTransition:function(){var e=h5(!1),t=e[0];return e=kF.bind(null,e[1]),mf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ho,s=mf();if(Mo){if(r===void 0)throw Error(tr(407));r=r()}else{if(r=t(),ts===null)throw Error(tr(349));(Bh&30)!==0||aI(i,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,d5(uI.bind(null,i,l,e),[e]),i.flags|=2048,zg(9,sI.bind(null,i,l,r,t),void 0,null),r},useId:function(){var e=mf(),t=ts.identifierPrefix;if(Mo){var r=yp,i=gp;r=(i&~(1<<32-Ic(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OF={readContext:Nl,useCallback:mI,useContext:Nl,useEffect:bC,useImperativeHandle:dI,useInsertionEffect:pI,useLayoutEffect:AI,useMemo:gI,useReducer:$b,useRef:fI,useState:function(){return $b(Bg)},useDebugValue:wC,useDeferredValue:function(e){var t=Ul();return yI(t,Fa.memoizedState,e)},useTransition:function(){var e=$b(Bg)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:iI,useSyncExternalStore:oI,useId:vI,unstable_isNewReconciler:!1},MF={readContext:Nl,useCallback:mI,useContext:Nl,useEffect:bC,useImperativeHandle:dI,useInsertionEffect:pI,useLayoutEffect:AI,useMemo:gI,useReducer:Vb,useRef:fI,useState:function(){return Vb(Bg)},useDebugValue:wC,useDeferredValue:function(e){var t=Ul();return Fa===null?t.memoizedState=e:yI(t,Fa.memoizedState,e)},useTransition:function(){var e=Vb(Bg)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:iI,useSyncExternalStore:oI,useId:vI,unstable_isNewReconciler:!1};function C0(e,t){try{var r="",i=t;do r+=a9(i),i=i.return;while(i);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Hb(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function w3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RF=typeof WeakMap=="function"?WeakMap:Map;function wI(e,t,r){r=_p(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){__||(__=!0,R3=i),w3(e,t)},r}function SI(e,t,r){r=_p(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){w3(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){w3(e,t),typeof i!="function"&&(MA===null?MA=new Set([this]):MA.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function m5(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new RF;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=QF.bind(null,e,t,r),t.then(e,e))}function g5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y5(e,t,r,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_p(-1,1),t.tag=2,OA(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var LF=Ep.ReactCurrentOwner,Ou=!1;function ru(e,t,r,i){t.child=e===null?rI(t,null,r,i):w0(t,e.child,r,i)}function v5(e,t,r,i,s){r=r.render;var l=t.ref;return h0(t,s),i=_C(e,t,r,i,l,s),r=xC(),e!==null&&!Ou?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cp(e,t,s)):(Mo&&r&&uC(t),t.flags|=1,ru(e,t,i,s),t.child)}function _5(e,t,r,i,s){if(e===null){var l=r.type;return typeof l=="function"&&!OC(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,CI(e,t,l,i,s)):(e=$1(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&s)===0){var a=l.memoizedProps;if(r=r.compare,r=r!==null?r:Ig,r(a,i)&&e.ref===t.ref)return Cp(e,t,s)}return t.flags|=1,e=LA(l,i),e.ref=t.ref,e.return=t,t.child=e}function CI(e,t,r,i,s){if(e!==null){var l=e.memoizedProps;if(Ig(l,i)&&e.ref===t.ref)if(Ou=!1,t.pendingProps=i=l,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Ou=!0);else return t.lanes=e.lanes,Cp(e,t,s)}return S3(e,t,r,i,s)}function EI(e,t,r){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},co(a0,Xu),Xu|=r;else{if((r&1073741824)===0)return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,co(a0,Xu),Xu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:r,co(a0,Xu),Xu|=i}else l!==null?(i=l.baseLanes|r,t.memoizedState=null):i=r,co(a0,Xu),Xu|=i;return ru(e,t,s,r),t.child}function kI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function S3(e,t,r,i,s){var l=Ru(r)?Dh:Ns.current;return l=x0(t,l),h0(t,s),r=_C(e,t,r,i,l,s),i=xC(),e!==null&&!Ou?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cp(e,t,s)):(Mo&&i&&uC(t),t.flags|=1,ru(e,t,r,s),t.child)}function x5(e,t,r,i,s){if(Ru(r)){var l=!0;c_(t)}else l=!1;if(h0(t,s),t.stateNode===null)N1(e,t),eI(t,r,i),b3(t,r,i,s),i=!0;else if(e===null){var a=t.stateNode,x=t.memoizedProps;a.props=x;var S=a.context,P=r.contextType;typeof P=="object"&&P!==null?P=Nl(P):(P=Ru(r)?Dh:Ns.current,P=x0(t,P));var R=r.getDerivedStateFromProps,z=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function";z||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==i||S!==P)&&p5(t,a,i,P),mA=!1;var N=t.memoizedState;a.state=N,d_(t,i,a,s),S=t.memoizedState,x!==i||N!==S||Mu.current||mA?(typeof R=="function"&&(x3(t,r,R,i),S=t.memoizedState),(x=mA||f5(t,r,x,i,N,S,P))?(z||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),a.props=i,a.state=S,a.context=P,i=x):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,YP(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:Ec(t.type,x),a.props=P,z=t.pendingProps,N=a.context,S=r.contextType,typeof S=="object"&&S!==null?S=Nl(S):(S=Ru(r)?Dh:Ns.current,S=x0(t,S));var $=r.getDerivedStateFromProps;(R=typeof $=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(x!==z||N!==S)&&p5(t,a,i,S),mA=!1,N=t.memoizedState,a.state=N,d_(t,i,a,s);var Z=t.memoizedState;x!==z||N!==Z||Mu.current||mA?(typeof $=="function"&&(x3(t,r,$,i),Z=t.memoizedState),(P=mA||f5(t,r,P,i,N,Z,S)||!1)?(R||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,Z,S),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,Z,S)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Z),a.props=i,a.state=Z,a.context=S,i=P):(typeof a.componentDidUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return C3(e,t,r,i,l,s)}function C3(e,t,r,i,s,l){kI(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&a5(t,r,!1),Cp(e,t,l);i=t.stateNode,LF.current=t;var x=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=w0(t,e.child,null,l),t.child=w0(t,null,x,l)):ru(e,t,x,l),t.memoizedState=i.state,s&&a5(t,r,!0),t.child}function TI(e){var t=e.stateNode;t.pendingContext?o5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o5(e,t.context,!1),mC(e,t.containerInfo)}function b5(e,t,r,i,s){return b0(),cC(s),t.flags|=256,ru(e,t,r,i),t.child}var E3={dehydrated:null,treeContext:null,retryLane:0};function k3(e){return{baseLanes:e,cachePool:null,transitions:null}}function PI(e,t,r){var i=t.pendingProps,s=Vo.current,l=!1,a=(t.flags&128)!==0,x;if((x=a)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),co(Vo,s&1),e===null)return v3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,l?(i=t.mode,l=t.child,a={mode:"hidden",children:a},(i&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=a):l=r2(a,i,0,null),e=Rh(e,i,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=k3(r),t.memoizedState=E3,e):SC(t,a));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return DF(e,t,a,i,x,s,r);if(l){l=i.fallback,a=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return(a&1)===0&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=LA(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?l=LA(x,l):(l=Rh(l,a,r,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,a=e.child.memoizedState,a=a===null?k3(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~r,t.memoizedState=E3,i}return l=e.child,e=l.sibling,i=LA(l,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function SC(e,t){return t=r2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zv(e,t,r,i){return i!==null&&cC(i),w0(t,e.child,null,r),e=SC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DF(e,t,r,i,s,l,a){if(r)return t.flags&256?(t.flags&=-257,i=Hb(Error(tr(422))),Zv(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=r2({mode:"visible",children:i.children},s,0,null),l=Rh(l,s,a,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,(t.mode&1)!==0&&w0(t,e.child,null,a),t.child.memoizedState=k3(a),t.memoizedState=E3,l);if((t.mode&1)===0)return Zv(e,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,l=Error(tr(419)),i=Hb(l,i,void 0),Zv(e,t,a,i)}if(x=(a&e.childLanes)!==0,Ou||x){if(i=ts,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|a))!==0?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Sp(e,s),Oc(i,e,s,-1))}return IC(),i=Hb(Error(tr(421))),Zv(e,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WF.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Yu=IA(s.nextSibling),tl=t,Mo=!0,Tc=null,e!==null&&(Ml[Rl++]=gp,Ml[Rl++]=yp,Ml[Rl++]=Fh,gp=e.id,yp=e.overflow,Fh=t),t=SC(t,i.children),t.flags|=4096,t)}function w5(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_3(e.return,t,r)}function qb(e,t,r,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=r,l.tailMode=s)}function II(e,t,r){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(ru(e,t,i.children,r),i=Vo.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w5(e,r,t);else if(e.tag===19)w5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(co(Vo,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&m_(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qb(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&m_(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qb(t,!0,r,null,l);break;case"together":qb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function N1(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cp(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zh|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(tr(153));if(t.child!==null){for(e=t.child,r=LA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=LA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function FF(e,t,r){switch(t.tag){case 3:TI(t),b0();break;case 5:nI(t);break;case 1:Ru(t.type)&&c_(t);break;case 4:mC(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;co(A_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(co(Vo,Vo.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?PI(e,t,r):(co(Vo,Vo.current&1),e=Cp(e,t,r),e!==null?e.sibling:null);co(Vo,Vo.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return II(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),co(Vo,Vo.current),i)break;return null;case 22:case 23:return t.lanes=0,EI(e,t,r)}return Cp(e,t,r)}var OI,T3,MI,RI;OI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};T3=function(){};MI=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Oh(bf.current);var l=null;switch(r){case"input":s=Kw(e,s),i=Kw(e,i),l=[];break;case"select":s=qo({},s,{value:void 0}),i=qo({},i,{value:void 0}),l=[];break;case"textarea":s=Jw(e,s),i=Jw(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=u_)}t3(r,i);var a;r=null;for(P in s)if(!i.hasOwnProperty(P)&&s.hasOwnProperty(P)&&s[P]!=null)if(P==="style"){var x=s[P];for(a in x)x.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(wg.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in i){var S=i[P];if(x=s!=null?s[P]:void 0,i.hasOwnProperty(P)&&S!==x&&(S!=null||x!=null))if(P==="style")if(x){for(a in x)!x.hasOwnProperty(a)||S&&S.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in S)S.hasOwnProperty(a)&&x[a]!==S[a]&&(r||(r={}),r[a]=S[a])}else r||(l||(l=[]),l.push(P,r)),r=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(l=l||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(l=l||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(wg.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&wo("scroll",e),l||x===S||(l=[])):(l=l||[]).push(P,S))}r&&(l=l||[]).push("style",r);var P=l;(t.updateQueue=P)&&(t.flags|=4)}};RI=function(e,t,r,i){r!==i&&(t.flags|=4)};function Lm(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ls(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function BF(e,t,r){var i=t.pendingProps;switch(lC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(t),null;case 1:return Ru(t.type)&&l_(),Ls(t),null;case 3:return i=t.stateNode,S0(),Co(Mu),Co(Ns),yC(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tc!==null&&(F3(Tc),Tc=null))),T3(e,t),Ls(t),null;case 5:gC(t);var s=Oh(Dg.current);if(r=t.type,e!==null&&t.stateNode!=null)MI(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(tr(166));return Ls(t),null}if(e=Oh(bf.current),Qv(t)){i=t.stateNode,r=t.type;var l=t.memoizedProps;switch(i[yf]=t,i[Rg]=l,e=(t.mode&1)!==0,r){case"dialog":wo("cancel",i),wo("close",i);break;case"iframe":case"object":case"embed":wo("load",i);break;case"video":case"audio":for(s=0;s<tg.length;s++)wo(tg[s],i);break;case"source":wo("error",i);break;case"img":case"image":case"link":wo("error",i),wo("load",i);break;case"details":wo("toggle",i);break;case"input":M4(i,l),wo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},wo("invalid",i);break;case"textarea":L4(i,l),wo("invalid",i)}t3(r,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var x=l[a];a==="children"?typeof x=="string"?i.textContent!==x&&(l.suppressHydrationWarning!==!0&&Gv(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(l.suppressHydrationWarning!==!0&&Gv(i.textContent,x,e),s=["children",""+x]):wg.hasOwnProperty(a)&&x!=null&&a==="onScroll"&&wo("scroll",i)}switch(r){case"input":zv(i),R4(i,l,!0);break;case"textarea":zv(i),D4(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=u_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(r,{is:i.is}):(e=a.createElement(r),r==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,r),e[yf]=t,e[Rg]=i,OI(e,t,!1,!1),t.stateNode=e;e:{switch(a=r3(r,i),r){case"dialog":wo("cancel",e),wo("close",e),s=i;break;case"iframe":case"object":case"embed":wo("load",e),s=i;break;case"video":case"audio":for(s=0;s<tg.length;s++)wo(tg[s],e);s=i;break;case"source":wo("error",e),s=i;break;case"img":case"image":case"link":wo("error",e),wo("load",e),s=i;break;case"details":wo("toggle",e),s=i;break;case"input":M4(e,i),s=Kw(e,i),wo("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=qo({},i,{value:void 0}),wo("invalid",e);break;case"textarea":L4(e,i),s=Jw(e,i),wo("invalid",e);break;default:s=i}t3(r,s),x=s;for(l in x)if(x.hasOwnProperty(l)){var S=x[l];l==="style"?lP(e,S):l==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&sP(e,S)):l==="children"?typeof S=="string"?(r!=="textarea"||S!=="")&&Sg(e,S):typeof S=="number"&&Sg(e,""+S):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wg.hasOwnProperty(l)?S!=null&&l==="onScroll"&&wo("scroll",e):S!=null&&WS(e,l,S,a))}switch(r){case"input":zv(e),R4(e,i,!1);break;case"textarea":zv(e),D4(e);break;case"option":i.value!=null&&e.setAttribute("value",""+zA(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?c0(e,!!i.multiple,l,!1):i.defaultValue!=null&&c0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=u_)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ls(t),null;case 6:if(e&&t.stateNode!=null)RI(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(tr(166));if(r=Oh(Dg.current),Oh(bf.current),Qv(t)){if(i=t.stateNode,r=t.memoizedProps,i[yf]=t,(l=i.nodeValue!==r)&&(e=tl,e!==null))switch(e.tag){case 3:Gv(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gv(i.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[yf]=t,t.stateNode=i}return Ls(t),null;case 13:if(Co(Vo),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mo&&Yu!==null&&(t.mode&1)!==0&&(t.flags&128)===0)KP(),b0(),t.flags|=98560,l=!1;else if(l=Qv(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(tr(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(tr(317));l[yf]=t}else b0(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ls(t),l=!1}else Tc!==null&&(F3(Tc),Tc=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Vo.current&1)!==0?Ba===0&&(Ba=3):IC())),t.updateQueue!==null&&(t.flags|=4),Ls(t),null);case 4:return S0(),T3(e,t),e===null&&Og(t.stateNode.containerInfo),Ls(t),null;case 10:return AC(t.type._context),Ls(t),null;case 17:return Ru(t.type)&&l_(),Ls(t),null;case 19:if(Co(Vo),l=t.memoizedState,l===null)return Ls(t),null;if(i=(t.flags&128)!==0,a=l.rendering,a===null)if(i)Lm(l,!1);else{if(Ba!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=m_(e),a!==null){for(t.flags|=128,Lm(l,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)l=r,e=i,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return co(Vo,Vo.current&1|2),t.child}e=e.sibling}l.tail!==null&&ya()>E0&&(t.flags|=128,i=!0,Lm(l,!1),t.lanes=4194304)}else{if(!i)if(e=m_(a),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lm(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Mo)return Ls(t),null}else 2*ya()-l.renderingStartTime>E0&&r!==1073741824&&(t.flags|=128,i=!0,Lm(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(r=l.last,r!==null?r.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ya(),t.sibling=null,r=Vo.current,co(Vo,i?r&1|2:r&1),t):(Ls(t),null);case 22:case 23:return PC(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Xu&1073741824)!==0&&(Ls(t),t.subtreeFlags&6&&(t.flags|=8192)):Ls(t),null;case 24:return null;case 25:return null}throw Error(tr(156,t.tag))}function zF(e,t){switch(lC(t),t.tag){case 1:return Ru(t.type)&&l_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return S0(),Co(Mu),Co(Ns),yC(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return gC(t),null;case 13:if(Co(Vo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tr(340));b0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Co(Vo),null;case 4:return S0(),null;case 10:return AC(t.type._context),null;case 22:case 23:return PC(),null;case 24:return null;default:return null}}var Kv=!1,Fs=!1,NF=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function o0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){aa(e,t,i)}else r.current=null}function P3(e,t,r){try{r()}catch(i){aa(e,t,i)}}var S5=!1;function UF(e,t){if(p3=o_,e=BP(),sC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var a=0,x=-1,S=-1,P=0,R=0,z=e,N=null;t:for(;;){for(var $;z!==r||s!==0&&z.nodeType!==3||(x=a+s),z!==l||i!==0&&z.nodeType!==3||(S=a+i),z.nodeType===3&&(a+=z.nodeValue.length),($=z.firstChild)!==null;)N=z,z=$;for(;;){if(z===e)break t;if(N===r&&++P===s&&(x=a),N===l&&++R===i&&(S=a),($=z.nextSibling)!==null)break;z=N,N=z.parentNode}z=$}r=x===-1||S===-1?null:{start:x,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(A3={focusedElem:e,selectionRange:r},o_=!1,Pr=t;Pr!==null;)if(t=Pr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pr=e;else for(;Pr!==null;){t=Pr;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var J=Z.memoizedProps,ae=Z.memoizedState,V=t.stateNode,K=V.getSnapshotBeforeUpdate(t.elementType===t.type?J:Ec(t.type,J),ae);V.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var se=t.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tr(163))}}catch(me){aa(t,t.return,me)}if(e=t.sibling,e!==null){e.return=t.return,Pr=e;break}Pr=t.return}return Z=S5,S5=!1,Z}function pg(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&P3(t,r,l)}s=s.next}while(s!==i)}}function e2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function I3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LI(e){var t=e.alternate;t!==null&&(e.alternate=null,LI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yf],delete t[Rg],delete t[m3],delete t[bF],delete t[wF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DI(e){return e.tag===5||e.tag===3||e.tag===4}function C5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O3(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=u_));else if(i!==4&&(e=e.child,e!==null))for(O3(e,t,r),e=e.sibling;e!==null;)O3(e,t,r),e=e.sibling}function M3(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(M3(e,t,r),e=e.sibling;e!==null;)M3(e,t,r),e=e.sibling}var ms=null,kc=!1;function fA(e,t,r){for(r=r.child;r!==null;)FI(e,t,r),r=r.sibling}function FI(e,t,r){if(xf&&typeof xf.onCommitFiberUnmount=="function")try{xf.onCommitFiberUnmount(G_,r)}catch{}switch(r.tag){case 5:Fs||o0(r,t);case 6:var i=ms,s=kc;ms=null,fA(e,t,r),ms=i,kc=s,ms!==null&&(kc?(e=ms,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ms.removeChild(r.stateNode));break;case 18:ms!==null&&(kc?(e=ms,r=r.stateNode,e.nodeType===8?zb(e.parentNode,r):e.nodeType===1&&zb(e,r),Tg(e)):zb(ms,r.stateNode));break;case 4:i=ms,s=kc,ms=r.stateNode.containerInfo,kc=!0,fA(e,t,r),ms=i,kc=s;break;case 0:case 11:case 14:case 15:if(!Fs&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&((l&2)!==0||(l&4)!==0)&&P3(r,t,a),s=s.next}while(s!==i)}fA(e,t,r);break;case 1:if(!Fs&&(o0(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(x){aa(r,t,x)}fA(e,t,r);break;case 21:fA(e,t,r);break;case 22:r.mode&1?(Fs=(i=Fs)||r.memoizedState!==null,fA(e,t,r),Fs=i):fA(e,t,r);break;default:fA(e,t,r)}}function E5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NF),t.forEach(function(i){var s=ZF.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function bc(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var l=e,a=t,x=a;e:for(;x!==null;){switch(x.tag){case 5:ms=x.stateNode,kc=!1;break e;case 3:ms=x.stateNode.containerInfo,kc=!0;break e;case 4:ms=x.stateNode.containerInfo,kc=!0;break e}x=x.return}if(ms===null)throw Error(tr(160));FI(l,a,s),ms=null,kc=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(P){aa(s,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BI(t,e),t=t.sibling}function BI(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bc(t,e),hf(e),i&4){try{pg(3,e,e.return),e2(3,e)}catch(J){aa(e,e.return,J)}try{pg(5,e,e.return)}catch(J){aa(e,e.return,J)}}break;case 1:bc(t,e),hf(e),i&512&&r!==null&&o0(r,r.return);break;case 5:if(bc(t,e),hf(e),i&512&&r!==null&&o0(r,r.return),e.flags&32){var s=e.stateNode;try{Sg(s,"")}catch(J){aa(e,e.return,J)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=r!==null?r.memoizedProps:l,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&l.type==="radio"&&l.name!=null&&iP(s,l),r3(x,a);var P=r3(x,l);for(a=0;a<S.length;a+=2){var R=S[a],z=S[a+1];R==="style"?lP(s,z):R==="dangerouslySetInnerHTML"?sP(s,z):R==="children"?Sg(s,z):WS(s,R,z,P)}switch(x){case"input":Xw(s,l);break;case"textarea":oP(s,l);break;case"select":var N=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var $=l.value;$!=null?c0(s,!!l.multiple,$,!1):N!==!!l.multiple&&(l.defaultValue!=null?c0(s,!!l.multiple,l.defaultValue,!0):c0(s,!!l.multiple,l.multiple?[]:"",!1))}s[Rg]=l}catch(J){aa(e,e.return,J)}}break;case 6:if(bc(t,e),hf(e),i&4){if(e.stateNode===null)throw Error(tr(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(J){aa(e,e.return,J)}}break;case 3:if(bc(t,e),hf(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Tg(t.containerInfo)}catch(J){aa(e,e.return,J)}break;case 4:bc(t,e),hf(e);break;case 13:bc(t,e),hf(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(kC=ya())),i&4&&E5(e);break;case 22:if(R=r!==null&&r.memoizedState!==null,e.mode&1?(Fs=(P=Fs)||R,bc(t,e),Fs=P):bc(t,e),hf(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!R&&(e.mode&1)!==0)for(Pr=e,R=e.child;R!==null;){for(z=Pr=R;Pr!==null;){switch(N=Pr,$=N.child,N.tag){case 0:case 11:case 14:case 15:pg(4,N,N.return);break;case 1:o0(N,N.return);var Z=N.stateNode;if(typeof Z.componentWillUnmount=="function"){i=N,r=N.return;try{t=i,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(J){aa(i,r,J)}}break;case 5:o0(N,N.return);break;case 22:if(N.memoizedState!==null){T5(z);continue}}$!==null?($.return=N,Pr=$):T5(z)}R=R.sibling}e:for(R=null,z=e;;){if(z.tag===5){if(R===null){R=z;try{s=z.stateNode,P?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(x=z.stateNode,S=z.memoizedProps.style,a=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=uP("display",a))}catch(J){aa(e,e.return,J)}}}else if(z.tag===6){if(R===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(J){aa(e,e.return,J)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;R===z&&(R=null),z=z.return}R===z&&(R=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:bc(t,e),hf(e),i&4&&E5(e);break;case 21:break;default:bc(t,e),hf(e)}}function hf(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(DI(r)){var i=r;break e}r=r.return}throw Error(tr(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Sg(s,""),i.flags&=-33);var l=C5(e);M3(e,l,s);break;case 3:case 4:var a=i.stateNode.containerInfo,x=C5(e);O3(e,x,a);break;default:throw Error(tr(161))}}catch(S){aa(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jF(e,t,r){Pr=e,zI(e)}function zI(e,t,r){for(var i=(e.mode&1)!==0;Pr!==null;){var s=Pr,l=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Kv;if(!a){var x=s.alternate,S=x!==null&&x.memoizedState!==null||Fs;x=Kv;var P=Fs;if(Kv=a,(Fs=S)&&!P)for(Pr=s;Pr!==null;)a=Pr,S=a.child,a.tag===22&&a.memoizedState!==null?P5(s):S!==null?(S.return=a,Pr=S):P5(s);for(;l!==null;)Pr=l,zI(l),l=l.sibling;Pr=s,Kv=x,Fs=P}k5(e)}else(s.subtreeFlags&8772)!==0&&l!==null?(l.return=s,Pr=l):k5(e)}}function k5(e){for(;Pr!==null;){var t=Pr;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Fs||e2(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Fs)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ec(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&c5(t,l,i);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}c5(t,a,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&r.focus();break;case"img":S.src&&(r.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var R=P.memoizedState;if(R!==null){var z=R.dehydrated;z!==null&&Tg(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tr(163))}Fs||t.flags&512&&I3(t)}catch(N){aa(t,t.return,N)}}if(t===e){Pr=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pr=r;break}Pr=t.return}}function T5(e){for(;Pr!==null;){var t=Pr;if(t===e){Pr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pr=r;break}Pr=t.return}}function P5(e){for(;Pr!==null;){var t=Pr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{e2(4,t)}catch(S){aa(t,r,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){aa(t,s,S)}}var l=t.return;try{I3(t)}catch(S){aa(t,l,S)}break;case 5:var a=t.return;try{I3(t)}catch(S){aa(t,a,S)}}}catch(S){aa(t,t.return,S)}if(t===e){Pr=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Pr=x;break}Pr=t.return}}var $F=Math.ceil,v_=Ep.ReactCurrentDispatcher,CC=Ep.ReactCurrentOwner,Fl=Ep.ReactCurrentBatchConfig,Ai=0,ts=null,Ma=null,ys=0,Xu=0,a0=$A(0),Ba=0,Ng=null,zh=0,t2=0,EC=0,Ag=null,Iu=null,kC=0,E0=1/0,pp=null,__=!1,R3=null,MA=null,Xv=!1,SA=null,x_=0,hg=0,L3=null,U1=-1,j1=0;function nu(){return(Ai&6)!==0?ya():U1!==-1?U1:U1=ya()}function RA(e){return(e.mode&1)===0?1:(Ai&2)!==0&&ys!==0?ys&-ys:CF.transition!==null?(j1===0&&(j1=xP()),j1):(e=Mi,e!==0||(e=window.event,e=e===void 0?16:TP(e.type)),e)}function Oc(e,t,r,i){if(50<hg)throw hg=0,L3=null,Error(tr(185));ny(e,r,i),((Ai&2)===0||e!==ts)&&(e===ts&&((Ai&2)===0&&(t2|=r),Ba===4&&xA(e,ys)),Lu(e,i),r===1&&Ai===0&&(t.mode&1)===0&&(E0=ya()+500,X_&&VA()))}function Lu(e,t){var r=e.callbackNode;C9(e,t);var i=i_(e,e===ts?ys:0);if(i===0)r!==null&&z4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&z4(r),t===1)e.tag===0?SF(I5.bind(null,e)):QP(I5.bind(null,e)),_F(function(){(Ai&6)===0&&VA()}),r=null;else{switch(bP(i)){case 1:r=JS;break;case 4:r=vP;break;case 16:r=n_;break;case 536870912:r=_P;break;default:r=n_}r=GI(r,NI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function NI(e,t){if(U1=-1,j1=0,(Ai&6)!==0)throw Error(tr(327));var r=e.callbackNode;if(d0()&&e.callbackNode!==r)return null;var i=i_(e,e===ts?ys:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=b_(e,i);else{t=i;var s=Ai;Ai|=2;var l=jI();(ts!==e||ys!==t)&&(pp=null,E0=ya()+500,Mh(e,t));do try{qF();break}catch(x){UI(e,x)}while(1);pC(),v_.current=l,Ai=s,Ma!==null?t=0:(ts=null,ys=0,t=Ba)}if(t!==0){if(t===2&&(s=s3(e),s!==0&&(i=s,t=D3(e,s))),t===1)throw r=Ng,Mh(e,0),xA(e,i),Lu(e,ya()),r;if(t===6)xA(e,i);else{if(s=e.current.alternate,(i&30)===0&&!VF(s)&&(t=b_(e,i),t===2&&(l=s3(e),l!==0&&(i=l,t=D3(e,l))),t===1))throw r=Ng,Mh(e,0),xA(e,i),Lu(e,ya()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(tr(345));case 2:wh(e,Iu,pp);break;case 3:if(xA(e,i),(i&130023424)===i&&(t=kC+500-ya(),10<t)){if(i_(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){nu(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=d3(wh.bind(null,e,Iu,pp),t);break}wh(e,Iu,pp);break;case 4:if(xA(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-Ic(i);l=1<<a,a=t[a],a>s&&(s=a),i&=~l}if(i=s,i=ya()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*$F(i/1960))-i,10<i){e.timeoutHandle=d3(wh.bind(null,e,Iu,pp),i);break}wh(e,Iu,pp);break;case 5:wh(e,Iu,pp);break;default:throw Error(tr(329))}}}return Lu(e,ya()),e.callbackNode===r?NI.bind(null,e):null}function D3(e,t){var r=Ag;return e.current.memoizedState.isDehydrated&&(Mh(e,t).flags|=256),e=b_(e,t),e!==2&&(t=Iu,Iu=r,t!==null&&F3(t)),e}function F3(e){Iu===null?Iu=e:Iu.push.apply(Iu,e)}function VF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],l=s.getSnapshot;s=s.value;try{if(!Mc(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xA(e,t){for(t&=~EC,t&=~t2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ic(t),i=1<<r;e[r]=-1,t&=~i}}function I5(e){if((Ai&6)!==0)throw Error(tr(327));d0();var t=i_(e,0);if((t&1)===0)return Lu(e,ya()),null;var r=b_(e,t);if(e.tag!==0&&r===2){var i=s3(e);i!==0&&(t=i,r=D3(e,i))}if(r===1)throw r=Ng,Mh(e,0),xA(e,t),Lu(e,ya()),r;if(r===6)throw Error(tr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wh(e,Iu,pp),Lu(e,ya()),null}function TC(e,t){var r=Ai;Ai|=1;try{return e(t)}finally{Ai=r,Ai===0&&(E0=ya()+500,X_&&VA())}}function Nh(e){SA!==null&&SA.tag===0&&(Ai&6)===0&&d0();var t=Ai;Ai|=1;var r=Fl.transition,i=Mi;try{if(Fl.transition=null,Mi=1,e)return e()}finally{Mi=i,Fl.transition=r,Ai=t,(Ai&6)===0&&VA()}}function PC(){Xu=a0.current,Co(a0)}function Mh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vF(r)),Ma!==null)for(r=Ma.return;r!==null;){var i=r;switch(lC(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&l_();break;case 3:S0(),Co(Mu),Co(Ns),yC();break;case 5:gC(i);break;case 4:S0();break;case 13:Co(Vo);break;case 19:Co(Vo);break;case 10:AC(i.type._context);break;case 22:case 23:PC()}r=r.return}if(ts=e,Ma=e=LA(e.current,null),ys=Xu=t,Ba=0,Ng=null,EC=t2=zh=0,Iu=Ag=null,Ih!==null){for(t=0;t<Ih.length;t++)if(r=Ih[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,l=r.pending;if(l!==null){var a=l.next;l.next=s,i.next=a}r.pending=i}Ih=null}return e}function UI(e,t){do{var r=Ma;try{if(pC(),B1.current=y_,g_){for(var i=Ho.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}g_=!1}if(Bh=0,es=Fa=Ho=null,fg=!1,Fg=0,CC.current=null,r===null||r.return===null){Ba=1,Ng=t,Ma=null;break}e:{var l=e,a=r.return,x=r,S=t;if(t=ys,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,R=x,z=R.tag;if((R.mode&1)===0&&(z===0||z===11||z===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=g5(a);if($!==null){$.flags&=-257,y5($,a,x,l,t),$.mode&1&&m5(l,P,t),t=$,S=P;var Z=t.updateQueue;if(Z===null){var J=new Set;J.add(S),t.updateQueue=J}else Z.add(S);break e}else{if((t&1)===0){m5(l,P,t),IC();break e}S=Error(tr(426))}}else if(Mo&&x.mode&1){var ae=g5(a);if(ae!==null){(ae.flags&65536)===0&&(ae.flags|=256),y5(ae,a,x,l,t),cC(C0(S,x));break e}}l=S=C0(S,x),Ba!==4&&(Ba=2),Ag===null?Ag=[l]:Ag.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var V=wI(l,S,t);l5(l,V);break e;case 1:x=S;var K=l.type,se=l.stateNode;if((l.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(MA===null||!MA.has(se)))){l.flags|=65536,t&=-t,l.lanes|=t;var me=SI(l,x,t);l5(l,me);break e}}l=l.return}while(l!==null)}VI(r)}catch(Ae){t=Ae,Ma===r&&r!==null&&(Ma=r=r.return);continue}break}while(1)}function jI(){var e=v_.current;return v_.current=y_,e===null?y_:e}function IC(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),ts===null||(zh&268435455)===0&&(t2&268435455)===0||xA(ts,ys)}function b_(e,t){var r=Ai;Ai|=2;var i=jI();(ts!==e||ys!==t)&&(pp=null,Mh(e,t));do try{HF();break}catch(s){UI(e,s)}while(1);if(pC(),Ai=r,v_.current=i,Ma!==null)throw Error(tr(261));return ts=null,ys=0,Ba}function HF(){for(;Ma!==null;)$I(Ma)}function qF(){for(;Ma!==null&&!m9();)$I(Ma)}function $I(e){var t=qI(e.alternate,e,Xu);e.memoizedProps=e.pendingProps,t===null?VI(e):Ma=t,CC.current=null}function VI(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=BF(r,t,Xu),r!==null){Ma=r;return}}else{if(r=zF(r,t),r!==null){r.flags&=32767,Ma=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Ma=null;return}}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ba===0&&(Ba=5)}function wh(e,t,r){var i=Mi,s=Fl.transition;try{Fl.transition=null,Mi=1,GF(e,t,r,i)}finally{Fl.transition=s,Mi=i}return null}function GF(e,t,r,i){do d0();while(SA!==null);if((Ai&6)!==0)throw Error(tr(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(tr(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(E9(e,l),e===ts&&(Ma=ts=null,ys=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Xv||(Xv=!0,GI(n_,function(){return d0(),null})),l=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||l){l=Fl.transition,Fl.transition=null;var a=Mi;Mi=1;var x=Ai;Ai|=4,CC.current=null,UF(e,r),BI(r,e),pF(A3),o_=!!p3,A3=p3=null,e.current=r,jF(r),g9(),Ai=x,Mi=a,Fl.transition=l}else e.current=r;if(Xv&&(Xv=!1,SA=e,x_=s),l=e.pendingLanes,l===0&&(MA=null),_9(r.stateNode),Lu(e,ya()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(__)throw __=!1,e=R3,R3=null,e;return(x_&1)!==0&&e.tag!==0&&d0(),l=e.pendingLanes,(l&1)!==0?e===L3?hg++:(hg=0,L3=e):hg=0,VA(),null}function d0(){if(SA!==null){var e=bP(x_),t=Fl.transition,r=Mi;try{if(Fl.transition=null,Mi=16>e?16:e,SA===null)var i=!1;else{if(e=SA,SA=null,x_=0,(Ai&6)!==0)throw Error(tr(331));var s=Ai;for(Ai|=4,Pr=e.current;Pr!==null;){var l=Pr,a=l.child;if((Pr.flags&16)!==0){var x=l.deletions;if(x!==null){for(var S=0;S<x.length;S++){var P=x[S];for(Pr=P;Pr!==null;){var R=Pr;switch(R.tag){case 0:case 11:case 15:pg(8,R,l)}var z=R.child;if(z!==null)z.return=R,Pr=z;else for(;Pr!==null;){R=Pr;var N=R.sibling,$=R.return;if(LI(R),R===P){Pr=null;break}if(N!==null){N.return=$,Pr=N;break}Pr=$}}}var Z=l.alternate;if(Z!==null){var J=Z.child;if(J!==null){Z.child=null;do{var ae=J.sibling;J.sibling=null,J=ae}while(J!==null)}}Pr=l}}if((l.subtreeFlags&2064)!==0&&a!==null)a.return=l,Pr=a;else e:for(;Pr!==null;){if(l=Pr,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:pg(9,l,l.return)}var V=l.sibling;if(V!==null){V.return=l.return,Pr=V;break e}Pr=l.return}}var K=e.current;for(Pr=K;Pr!==null;){a=Pr;var se=a.child;if((a.subtreeFlags&2064)!==0&&se!==null)se.return=a,Pr=se;else e:for(a=K;Pr!==null;){if(x=Pr,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:e2(9,x)}}catch(Ae){aa(x,x.return,Ae)}if(x===a){Pr=null;break e}var me=x.sibling;if(me!==null){me.return=x.return,Pr=me;break e}Pr=x.return}}if(Ai=s,VA(),xf&&typeof xf.onPostCommitFiberRoot=="function")try{xf.onPostCommitFiberRoot(G_,e)}catch{}i=!0}return i}finally{Mi=r,Fl.transition=t}}return!1}function O5(e,t,r){t=C0(r,t),t=wI(e,t,1),e=OA(e,t,1),t=nu(),e!==null&&(ny(e,1,t),Lu(e,t))}function aa(e,t,r){if(e.tag===3)O5(e,e,r);else for(;t!==null;){if(t.tag===3){O5(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(MA===null||!MA.has(i))){e=C0(r,e),e=SI(t,e,1),t=OA(t,e,1),e=nu(),t!==null&&(ny(t,1,e),Lu(t,e));break}}t=t.return}}function QF(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=nu(),e.pingedLanes|=e.suspendedLanes&r,ts===e&&(ys&r)===r&&(Ba===4||Ba===3&&(ys&130023424)===ys&&500>ya()-kC?Mh(e,0):EC|=r),Lu(e,t)}function HI(e,t){t===0&&((e.mode&1)===0?t=1:(t=jv,jv<<=1,(jv&130023424)===0&&(jv=4194304)));var r=nu();e=Sp(e,t),e!==null&&(ny(e,t,r),Lu(e,r))}function WF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),HI(e,r)}function ZF(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(tr(314))}i!==null&&i.delete(t),HI(e,r)}var qI;qI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mu.current)Ou=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ou=!1,FF(e,t,r);Ou=(e.flags&131072)!==0}else Ou=!1,Mo&&(t.flags&1048576)!==0&&WP(t,p_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;N1(e,t),e=t.pendingProps;var s=x0(t,Ns.current);h0(t,r),s=_C(null,t,i,e,s,r);var l=xC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ru(i)?(l=!0,c_(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dC(t),s.updater=Y_,t.stateNode=s,s._reactInternals=t,b3(t,i,e,r),t=C3(null,t,i,!0,l,r)):(t.tag=0,Mo&&l&&uC(t),ru(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(N1(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=XF(i),e=Ec(i,e),s){case 0:t=S3(null,t,i,e,r);break e;case 1:t=x5(null,t,i,e,r);break e;case 11:t=v5(null,t,i,e,r);break e;case 14:t=_5(null,t,i,Ec(i.type,e),r);break e}throw Error(tr(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),S3(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),x5(e,t,i,s,r);case 3:e:{if(TI(t),e===null)throw Error(tr(387));i=t.pendingProps,l=t.memoizedState,s=l.element,YP(e,t),d_(t,i,null,r);var a=t.memoizedState;if(i=a.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=C0(Error(tr(423)),t),t=b5(e,t,i,r,s);break e}else if(i!==s){s=C0(Error(tr(424)),t),t=b5(e,t,i,r,s);break e}else for(Yu=IA(t.stateNode.containerInfo.firstChild),tl=t,Mo=!0,Tc=null,r=rI(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(b0(),i===s){t=Cp(e,t,r);break e}ru(e,t,i,r)}t=t.child}return t;case 5:return nI(t),e===null&&v3(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,h3(i,s)?a=null:l!==null&&h3(i,l)&&(t.flags|=32),kI(e,t),ru(e,t,a,r),t.child;case 6:return e===null&&v3(t),null;case 13:return PI(e,t,r);case 4:return mC(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=w0(t,null,i,r):ru(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),v5(e,t,i,s,r);case 7:return ru(e,t,t.pendingProps,r),t.child;case 8:return ru(e,t,t.pendingProps.children,r),t.child;case 12:return ru(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,co(A_,i._currentValue),i._currentValue=a,l!==null)if(Mc(l.value,a)){if(l.children===s.children&&!Mu.current){t=Cp(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var x=l.dependencies;if(x!==null){a=l.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(l.tag===1){S=_p(-1,r&-r),S.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var R=P.pending;R===null?S.next=S:(S.next=R.next,R.next=S),P.pending=S}}l.lanes|=r,S=l.alternate,S!==null&&(S.lanes|=r),_3(l.return,r,t),x.lanes|=r;break}S=S.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(tr(341));a.lanes|=r,x=a.alternate,x!==null&&(x.lanes|=r),_3(a,r,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}ru(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,h0(t,r),s=Nl(s),i=i(s),t.flags|=1,ru(e,t,i,r),t.child;case 14:return i=t.type,s=Ec(i,t.pendingProps),s=Ec(i.type,s),_5(e,t,i,s,r);case 15:return CI(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),N1(e,t),t.tag=1,Ru(i)?(e=!0,c_(t)):e=!1,h0(t,r),eI(t,i,s),b3(t,i,s,r),C3(null,t,i,!0,e,r);case 19:return II(e,t,r);case 22:return EI(e,t,r)}throw Error(tr(156,t.tag))};function GI(e,t){return yP(e,t)}function KF(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,r,i){return new KF(e,t,r,i)}function OC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XF(e){if(typeof e=="function")return OC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===KS)return 11;if(e===XS)return 14}return 2}function LA(e,t){var r=e.alternate;return r===null?(r=Dl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $1(e,t,r,i,s,l){var a=2;if(i=e,typeof e=="function")OC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kd:return Rh(r.children,s,l,t);case ZS:a=8,s|=8;break;case Gw:return e=Dl(12,r,t,s|2),e.elementType=Gw,e.lanes=l,e;case Qw:return e=Dl(13,r,t,s),e.elementType=Qw,e.lanes=l,e;case Ww:return e=Dl(19,r,t,s),e.elementType=Ww,e.lanes=l,e;case tP:return r2(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JT:a=10;break e;case eP:a=9;break e;case KS:a=11;break e;case XS:a=14;break e;case dA:a=16,i=null;break e}throw Error(tr(130,e==null?e:typeof e,""))}return t=Dl(a,r,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function Rh(e,t,r,i){return e=Dl(7,e,i,t),e.lanes=r,e}function r2(e,t,r,i){return e=Dl(22,e,i,t),e.elementType=tP,e.lanes=r,e.stateNode={isHidden:!1},e}function Gb(e,t,r){return e=Dl(6,e,null,t),e.lanes=r,e}function Qb(e,t,r){return t=Dl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YF(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kb(0),this.expirationTimes=kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kb(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function MC(e,t,r,i,s,l,a,x,S){return e=new YF(e,t,r,x,S),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Dl(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dC(l),e}function JF(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zd,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function QI(e){if(!e)return NA;e=e._reactInternals;e:{if(jh(e)!==e||e.tag!==1)throw Error(tr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ru(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tr(171))}if(e.tag===1){var r=e.type;if(Ru(r))return GP(e,r,t)}return t}function WI(e,t,r,i,s,l,a,x,S){return e=MC(r,i,!0,e,s,l,a,x,S),e.context=QI(null),r=e.current,i=nu(),s=RA(r),l=_p(i,s),l.callback=t!=null?t:null,OA(r,l,s),e.current.lanes=s,ny(e,s,i),Lu(e,i),e}function n2(e,t,r,i){var s=t.current,l=nu(),a=RA(s);return r=QI(r),t.context===null?t.context=r:t.pendingContext=r,t=_p(l,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=OA(s,t,a),e!==null&&(Oc(e,s,a,l),F1(e,s,a)),a}function w_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RC(e,t){M5(e,t),(e=e.alternate)&&M5(e,t)}function e7(){return null}var ZI=typeof reportError=="function"?reportError:function(e){console.error(e)};function LC(e){this._internalRoot=e}i2.prototype.render=LC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tr(409));n2(e,t,null,null)};i2.prototype.unmount=LC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nh(function(){n2(null,e,null,null)}),t[wp]=null}};function i2(e){this._internalRoot=e}i2.prototype.unstable_scheduleHydration=function(e){if(e){var t=CP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_A.length&&t!==0&&t<_A[r].priority;r++);_A.splice(r,0,e),r===0&&kP(e)}};function DC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R5(){}function t7(e,t,r,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var P=w_(a);l.call(P)}}var a=WI(t,i,e,0,null,!1,!1,"",R5);return e._reactRootContainer=a,e[wp]=a.current,Og(e.nodeType===8?e.parentNode:e),Nh(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var P=w_(S);x.call(P)}}var S=MC(e,0,!1,null,null,!1,!1,"",R5);return e._reactRootContainer=S,e[wp]=S.current,Og(e.nodeType===8?e.parentNode:e),Nh(function(){n2(t,S,r,i)}),S}function a2(e,t,r,i,s){var l=r._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var x=s;s=function(){var S=w_(a);x.call(S)}}n2(t,a,e,s)}else a=t7(r,t,e,s,i);return w_(a)}wP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eg(t.pendingLanes);r!==0&&(eC(t,r|1),Lu(t,ya()),(Ai&6)===0&&(E0=ya()+500,VA()))}break;case 13:Nh(function(){var i=Sp(e,1);if(i!==null){var s=nu();Oc(i,e,1,s)}}),RC(e,1)}};tC=function(e){if(e.tag===13){var t=Sp(e,134217728);if(t!==null){var r=nu();Oc(t,e,134217728,r)}RC(e,134217728)}};SP=function(e){if(e.tag===13){var t=RA(e),r=Sp(e,t);if(r!==null){var i=nu();Oc(r,e,t,i)}RC(e,t)}};CP=function(){return Mi};EP=function(e,t){var r=Mi;try{return Mi=e,t()}finally{Mi=r}};i3=function(e,t,r){switch(t){case"input":if(Xw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=K_(i);if(!s)throw Error(tr(90));nP(i),Xw(i,s)}}}break;case"textarea":oP(e,r);break;case"select":t=r.value,t!=null&&c0(e,!!r.multiple,t,!1)}};pP=TC;AP=Nh;var r7={usingClientEntryPoint:!1,Events:[oy,e0,K_,cP,fP,TC]},Dm={findFiberByHostInstance:Ph,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},n7={bundleType:Dm.bundleType,version:Dm.version,rendererPackageName:Dm.rendererPackageName,rendererConfig:Dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ep.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mP(e),e===null?null:e.stateNode},findFiberByHostInstance:Dm.findFiberByHostInstance||e7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yv.isDisabled&&Yv.supportsFiber)try{G_=Yv.inject(n7),xf=Yv}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r7;nl.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DC(t))throw Error(tr(200));return JF(e,t,null,r)};nl.createRoot=function(e,t){if(!DC(e))throw Error(tr(299));var r=!1,i="",s=ZI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=MC(e,1,!1,null,null,r,!1,i,s),e[wp]=t.current,Og(e.nodeType===8?e.parentNode:e),new LC(t)};nl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tr(188)):(e=Object.keys(e).join(","),Error(tr(268,e)));return e=mP(t),e=e===null?null:e.stateNode,e};nl.flushSync=function(e){return Nh(e)};nl.hydrate=function(e,t,r){if(!o2(t))throw Error(tr(200));return a2(null,e,t,!0,r)};nl.hydrateRoot=function(e,t,r){if(!DC(e))throw Error(tr(405));var i=r!=null&&r.hydratedSources||null,s=!1,l="",a=ZI;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=WI(t,null,e,1,r!=null?r:null,s,!1,l,a),e[wp]=t.current,Og(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new i2(t)};nl.render=function(e,t,r){if(!o2(t))throw Error(tr(200));return a2(null,e,t,!1,r)};nl.unmountComponentAtNode=function(e){if(!o2(e))throw Error(tr(40));return e._reactRootContainer?(Nh(function(){a2(null,null,e,!1,function(){e._reactRootContainer=null,e[wp]=null})}),!0):!1};nl.unstable_batchedUpdates=TC;nl.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!o2(r))throw Error(tr(200));if(e==null||e._reactInternals===void 0)throw Error(tr(38));return a2(e,t,r,!1,i)};nl.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=nl})(qS);const Jv=q_(qS.exports);var KI,L5=qS.exports;KI=Hw.createRoot=L5.createRoot,Hw.hydrateRoot=L5.hydrateRoot;var FC={};Object.defineProperty(FC,"__esModule",{value:!0});FC.getDomContainer=i7;function i7(e){if(!e)return D5();var t=document.querySelector(e);return t||(console.warn('Query selector "'.concat(e,`" doesn't match any existing DOM element. `)+"Are you using a custom HTML template? "+'Add an element matching "'.concat(e,'" to your template or change the containerQuerySelector setting.')),D5())}function D5(){return document.getElementById("root")||o7()}function o7(){var e=document.createElement("div");return e.setAttribute("id","root"),document.body.appendChild(e),e}var BC={},zC={exports:{}},XI={},s2={},NC={},UC={},_s={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",x="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",P=500,R="__lodash_placeholder__",z=1,N=2,$=4,Z=1,J=2,ae=1,V=2,K=4,se=8,me=16,Ae=32,ue=64,Se=128,Ce=256,qe=512,lt=30,rt="...",st=800,wt=16,St=1,Wt=2,fr=3,Rt=1/0,et=9007199254740991,Ue=17976931348623157e292,Re=0/0,le=4294967295,ye=le-1,Mt=le>>>1,or=[["ary",Se],["bind",ae],["bindKey",V],["curry",se],["curryRight",me],["flip",qe],["partial",Ae],["partialRight",ue],["rearg",Ce]],vr="[object Arguments]",dr="[object Array]",Sr="[object AsyncFunction]",Ur="[object Boolean]",Dr="[object Date]",Xn="[object DOMException]",jn="[object Error]",Fi="[object Function]",jr="[object GeneratorFunction]",mi="[object Map]",gi="[object Number]",Qo="[object Null]",Bi="[object Object]",Wi="[object Promise]",ws="[object Proxy]",io="[object RegExp]",Qn="[object Set]",Lo="[object String]",oo="[object Symbol]",bi="[object Undefined]",Do="[object WeakMap]",sa="[object WeakSet]",yt="[object ArrayBuffer]",be="[object DataView]",Ye="[object Float32Array]",Et="[object Float64Array]",ar="[object Int8Array]",Hr="[object Int16Array]",In="[object Int32Array]",Or="[object Uint8Array]",en="[object Uint8ClampedArray]",$n="[object Uint16Array]",Yn="[object Uint32Array]",hn=/\b__p \+= '';/g,Eo=/\b(__p \+=) '' \+/g,Jn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ua=/&(?:amp|lt|gt|quot|#39);/g,Ra=/[&<>"']/g,Vt=RegExp(ua.source),Ei=RegExp(Ra.source),zn=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,He=RegExp(Ne.source),ze=/^\s+/,xe=/\s/,re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,Qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,h=/[()=,{}\[\]\/\s]/,ge=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,xt=/^\[object .+?Constructor\]$/,pr=/^0o[0-7]+$/i,lr=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,An=/($^)/,Xr=/['\n\r\u2028\u2029\\]/g,Ln="\\ud800-\\udfff",dn="\\u0300-\\u036f",an="\\ufe20-\\ufe2f",gn="\\u20d0-\\u20ff",hi=dn+an+gn,xn="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",Ge="\\xac\\xb1\\xd7\\xf7",br="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uu="\\u2000-\\u206f",Fc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ao="A-Z\\xc0-\\xd6\\xd8-\\xde",Wo="\\ufe0e\\ufe0f",Bc=Ge+br+uu+Fc,Me="['\u2019]",so="["+Ln+"]",is="["+Bc+"]",la="["+hi+"]",si="\\d+",ca="["+xn+"]",ko="["+Xt+"]",Zo="[^"+Ln+Bc+si+xn+Xt+ao+"]",os="\\ud83c[\\udffb-\\udfff]",Tf="(?:"+la+"|"+os+")",zi="[^"+Ln+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",as="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+ao+"]",Ni="\\u200d",Fu="(?:"+ko+"|"+Zo+")",Zl="(?:"+wi+"|"+Zo+")",Pp="(?:"+Me+"(?:d|ll|m|re|s|t|ve))?",Ip="(?:"+Me+"(?:D|LL|M|RE|S|T|VE))?",ci=Tf+"?",zc="["+Wo+"]?",Pf="(?:"+Ni+"(?:"+[zi,ki,as].join("|")+")"+zc+ci+")*",GA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",If="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kl=zc+ci+Pf,Xl="(?:"+[ca,ki,as].join("|")+")"+Kl,Bu="(?:"+[zi+la+"?",la,ki,as,so].join("|")+")",Nc=RegExp(Me,"g"),Uc=RegExp(la,"g"),Yl=RegExp(os+"(?="+os+")|"+Bu+Kl,"g"),Ko=RegExp([wi+"?"+ko+"+"+Pp+"(?="+[is,wi,"$"].join("|")+")",Zl+"+"+Ip+"(?="+[is,wi+Fu,"$"].join("|")+")",wi+"?"+Fu+"+"+Pp,wi+"+"+Ip,If,GA,si,Xl].join("|"),"g"),lu=RegExp("["+Ni+Ln+hi+Wo+"]"),Ss=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cu=-1,Nn={};Nn[Ye]=Nn[Et]=Nn[ar]=Nn[Hr]=Nn[In]=Nn[Or]=Nn[en]=Nn[$n]=Nn[Yn]=!0,Nn[vr]=Nn[dr]=Nn[yt]=Nn[Ur]=Nn[be]=Nn[Dr]=Nn[jn]=Nn[Fi]=Nn[mi]=Nn[gi]=Nn[Bi]=Nn[io]=Nn[Qn]=Nn[Lo]=Nn[Do]=!1;var qr={};qr[vr]=qr[dr]=qr[yt]=qr[be]=qr[Ur]=qr[Dr]=qr[Ye]=qr[Et]=qr[ar]=qr[Hr]=qr[In]=qr[mi]=qr[gi]=qr[Bi]=qr[io]=qr[Qn]=qr[Lo]=qr[oo]=qr[Or]=qr[en]=qr[$n]=qr[Yn]=!0,qr[jn]=qr[Fi]=qr[Do]=!1;var Fo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Of={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$c=parseFloat,Op=parseInt,ul=typeof Bs=="object"&&Bs&&Bs.Object===Object&&Bs,ll=typeof self=="object"&&self&&self.Object===Object&&self,yi=ul||ll||Function("return this")(),cl=t&&!t.nodeType&&t,js=cl&&!0&&e&&!e.nodeType&&e,fl=js&&js.exports===cl,$s=fl&&ul.process,Ti=function(){try{var nt=js&&js.require&&js.require("util").types;return nt||$s&&$s.binding&&$s.binding("util")}catch{}}(),zu=Ti&&Ti.isArrayBuffer,Vc=Ti&&Ti.isDate,Zi=Ti&&Ti.isMap,Hc=Ti&&Ti.isRegExp,Vs=Ti&&Ti.isSet,Cs=Ti&&Ti.isTypedArray;function fo(nt,It,vt){switch(vt.length){case 0:return nt.call(It);case 1:return nt.call(It,vt[0]);case 2:return nt.call(It,vt[0],vt[1]);case 3:return nt.call(It,vt[0],vt[1],vt[2])}return nt.apply(It,vt)}function Nu(nt,It,vt,Ht){for(var Yr=-1,bn=nt==null?0:nt.length;++Yr<bn;){var ti=nt[Yr];It(Ht,ti,vt(ti),nt)}return Ht}function po(nt,It){for(var vt=-1,Ht=nt==null?0:nt.length;++vt<Ht&&It(nt[vt],vt,nt)!==!1;);return nt}function ss(nt,It){for(var vt=nt==null?0:nt.length;vt--&&It(nt[vt],vt,nt)!==!1;);return nt}function fu(nt,It){for(var vt=-1,Ht=nt==null?0:nt.length;++vt<Ht;)if(!It(nt[vt],vt,nt))return!1;return!0}function Xo(nt,It){for(var vt=-1,Ht=nt==null?0:nt.length,Yr=0,bn=[];++vt<Ht;){var ti=nt[vt];It(ti,vt,nt)&&(bn[Yr++]=ti)}return bn}function pl(nt,It){var vt=nt==null?0:nt.length;return!!vt&&Uu(nt,It,0)>-1}function Dn(nt,It,vt){for(var Ht=-1,Yr=nt==null?0:nt.length;++Ht<Yr;)if(vt(It,nt[Ht]))return!0;return!1}function ei(nt,It){for(var vt=-1,Ht=nt==null?0:nt.length,Yr=Array(Ht);++vt<Ht;)Yr[vt]=It(nt[vt],vt,nt);return Yr}function Ua(nt,It){for(var vt=-1,Ht=It.length,Yr=nt.length;++vt<Ht;)nt[Yr+vt]=It[vt];return nt}function Jl(nt,It,vt,Ht){var Yr=-1,bn=nt==null?0:nt.length;for(Ht&&bn&&(vt=nt[++Yr]);++Yr<bn;)vt=It(vt,nt[Yr],Yr,nt);return vt}function Al(nt,It,vt,Ht){var Yr=nt==null?0:nt.length;for(Ht&&Yr&&(vt=nt[--Yr]);Yr--;)vt=It(vt,nt[Yr],Yr,nt);return vt}function Hs(nt,It){for(var vt=-1,Ht=nt==null?0:nt.length;++vt<Ht;)if(It(nt[vt],vt,nt))return!0;return!1}var Mp=tc("length");function ec(nt){return nt.split("")}function pu(nt){return nt.match(Qe)||[]}function qs(nt,It,vt){var Ht;return vt(nt,function(Yr,bn,ti){if(It(Yr,bn,ti))return Ht=bn,!1}),Ht}function Gs(nt,It,vt,Ht){for(var Yr=nt.length,bn=vt+(Ht?1:-1);Ht?bn--:++bn<Yr;)if(It(nt[bn],bn,nt))return bn;return-1}function Uu(nt,It,vt){return It===It?Yo(nt,It,vt):Gs(nt,qc,vt)}function Rp(nt,It,vt,Ht){for(var Yr=vt-1,bn=nt.length;++Yr<bn;)if(Ht(nt[Yr],It))return Yr;return-1}function qc(nt){return nt!==nt}function Au(nt,It){var vt=nt==null?0:nt.length;return vt?rc(nt,It)/vt:Re}function tc(nt){return function(It){return It==null?r:It[nt]}}function _a(nt){return function(It){return nt==null?r:nt[It]}}function ju(nt,It,vt,Ht,Yr){return Yr(nt,function(bn,ti,Mr){vt=Ht?(Ht=!1,bn):It(vt,bn,ti,Mr)}),vt}function Gc(nt,It){var vt=nt.length;for(nt.sort(It);vt--;)nt[vt]=nt[vt].value;return nt}function rc(nt,It){for(var vt,Ht=-1,Yr=nt.length;++Ht<Yr;){var bn=It(nt[Ht]);bn!==r&&(vt=vt===r?bn:vt+bn)}return vt}function Vn(nt,It){for(var vt=-1,Ht=Array(nt);++vt<nt;)Ht[vt]=It(vt);return Ht}function Qc(nt,It){return ei(It,function(vt){return[vt,nt[vt]]})}function Mf(nt){return nt&&nt.slice(0,ls(nt)+1).replace(ze,"")}function To(nt){return function(It){return nt(It)}}function Wc(nt,It){return ei(It,function(vt){return nt[vt]})}function hl(nt,It){return nt.has(It)}function hu(nt,It){for(var vt=-1,Ht=nt.length;++vt<Ht&&Uu(It,nt[vt],0)>-1;);return vt}function Rf(nt,It){for(var vt=nt.length;vt--&&Uu(It,nt[vt],0)>-1;);return vt}function Ao(nt,It){for(var vt=nt.length,Ht=0;vt--;)nt[vt]===It&&++Ht;return Ht}var Ui=_a(Fo),Zc=_a(kn);function nc(nt){return"\\"+Of[nt]}function dl(nt,It){return nt==null?r:nt[It]}function du(nt){return lu.test(nt)}function ic(nt){return Ss.test(nt)}function Si(nt){for(var It,vt=[];!(It=nt.next()).done;)vt.push(It.value);return vt}function ml(nt){var It=-1,vt=Array(nt.size);return nt.forEach(function(Ht,Yr){vt[++It]=[Yr,Ht]}),vt}function Es(nt,It){return function(vt){return nt(It(vt))}}function ks(nt,It){for(var vt=-1,Ht=nt.length,Yr=0,bn=[];++vt<Ht;){var ti=nt[vt];(ti===It||ti===R)&&(nt[vt]=R,bn[Yr++]=vt)}return bn}function ja(nt){var It=-1,vt=Array(nt.size);return nt.forEach(function(Ht){vt[++It]=Ht}),vt}function oc(nt){var It=-1,vt=Array(nt.size);return nt.forEach(function(Ht){vt[++It]=[Ht,Ht]}),vt}function Yo(nt,It,vt){for(var Ht=vt-1,Yr=nt.length;++Ht<Yr;)if(nt[Ht]===It)return Ht;return-1}function Lp(nt,It,vt){for(var Ht=vt+1;Ht--;)if(nt[Ht]===It)return Ht;return Ht}function us(nt){return du(nt)?Dp(nt):Mp(nt)}function fa(nt){return du(nt)?Lf(nt):ec(nt)}function ls(nt){for(var It=nt.length;It--&&xe.test(nt.charAt(It)););return It}var Qs=_a(sl);function Dp(nt){for(var It=Yl.lastIndex=0;Yl.test(nt);)++It;return It}function Lf(nt){return nt.match(Yl)||[]}function Kc(nt){return nt.match(Ko)||[]}var gl=function nt(It){It=It==null?yi:Ws.defaults(yi.Object(),It,Ws.pick(yi,jc));var vt=It.Array,Ht=It.Date,Yr=It.Error,bn=It.Function,ti=It.Math,Mr=It.Object,sn=It.RegExp,$u=It.String,ji=It.TypeError,yl=vt.prototype,xa=bn.prototype,cs=Mr.prototype,Xc=It["__core-js_shared__"],mu=xa.toString,Un=cs.hasOwnProperty,ac=0,Po=function(){var d=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ho=cs.toString,Df=mu.call(Mr),Ki=yi._,ba=sn("^"+mu.call(Un).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nr=fl?It.Buffer:r,$a=It.Symbol,Zs=It.Uint8Array,Ks=nr?nr.allocUnsafe:r,Bo=Es(Mr.getPrototypeOf,Mr),vl=Mr.create,Jo=cs.propertyIsEnumerable,sr=yl.splice,sc=$a?$a.isConcatSpreadable:r,Xs=$a?$a.iterator:r,mo=$a?$a.toStringTag:r,wn=function(){try{var d=uf(Mr,"defineProperty");return d({},"",{}),d}catch{}}(),Yc=It.clearTimeout!==yi.clearTimeout&&It.clearTimeout,Fp=Ht&&Ht.now!==yi.Date.now&&Ht.now,Ff=It.setTimeout!==yi.setTimeout&&It.setTimeout,go=ti.ceil,Va=ti.floor,Vu=Mr.getOwnPropertySymbols,Jc=nr?nr.isBuffer:r,ef=It.isFinite,fs=yl.join,Bp=Es(Mr.keys,Mr),tn=ti.max,Gr=ti.min,pa=Ht.now,Pi=It.parseInt,Fr=ti.random,zo=yl.reverse,Ha=uf(It,"DataView"),ea=uf(It,"Map"),ta=uf(It,"Promise"),qa=uf(It,"Set"),Qt=uf(It,"WeakMap"),dt=uf(Mr,"create"),Yt=Qt&&new Qt,Io={},Ga=ff(Ha),No=ff(ea),$i=ff(ta),zp=ff(qa),ra=ff(Qt),A=$a?$a.prototype:r,m=A?A.valueOf:r,v=A?A.toString:r;function _(d){if(Qi(d)&&!Zr(d)&&!(d instanceof B)){if(d instanceof I)return d;if(Un.call(d,"__wrapped__"))return Wy(d)}return new I(d)}var k=function(){function d(){}return function(w){if(!pi(w))return{};if(vl)return vl(w);d.prototype=w;var L=new d;return d.prototype=r,L}}();function O(){}function I(d,w){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=r}_.templateSettings={escape:zn,evaluate:Y,interpolate:ne,variable:"",imports:{_}},_.prototype=O.prototype,_.prototype.constructor=_,I.prototype=k(O.prototype),I.prototype.constructor=I;function B(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function G(){var d=new B(this.__wrapped__);return d.__actions__=Ps(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ps(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ps(this.__views__),d}function te(){if(this.__filtered__){var d=new B(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function ce(){var d=this.__wrapped__.value(),w=this.__dir__,L=Zr(d),H=w<0,ie=L?d.length:0,we=Fx(0,ie,this.__views__),je=we.start,Xe=we.end,ut=Xe-je,Ft=H?Xe:je-1,zt=this.__iteratees__,qt=zt.length,wr=0,zr=Gr(ut,this.__takeCount__);if(!L||!H&&ie==ut&&zr==ut)return KA(d,this.__actions__);var nn=[];e:for(;ut--&&wr<zr;){Ft+=w;for(var Fn=-1,on=d[Ft];++Fn<qt;){var Gn=zt[Fn],ii=Gn.iteratee,Gu=Gn.type,eu=ii(on);if(Gu==Wt)on=eu;else if(!eu){if(Gu==St)continue e;break e}}nn[wr++]=on}return nn}B.prototype=k(O.prototype),B.prototype.constructor=B;function De(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function Ze(){this.__data__=dt?dt(null):{},this.size=0}function ot(d){var w=this.has(d)&&delete this.__data__[d];return this.size-=w?1:0,w}function bt(d){var w=this.__data__;if(dt){var L=w[d];return L===S?r:L}return Un.call(w,d)?w[d]:r}function kt(d){var w=this.__data__;return dt?w[d]!==r:Un.call(w,d)}function Ut(d,w){var L=this.__data__;return this.size+=this.has(d)?0:1,L[d]=dt&&w===r?S:w,this}De.prototype.clear=Ze,De.prototype.delete=ot,De.prototype.get=bt,De.prototype.has=kt,De.prototype.set=Ut;function ur(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function mt(){this.__data__=[],this.size=0}function Dt(d){var w=this.__data__,L=ht(w,d);if(L<0)return!1;var H=w.length-1;return L==H?w.pop():sr.call(w,L,1),--this.size,!0}function Ke(d){var w=this.__data__,L=ht(w,d);return L<0?r:w[L][1]}function _r(d){return ht(this.__data__,d)>-1}function xr(d,w){var L=this.__data__,H=ht(L,d);return H<0?(++this.size,L.push([d,w])):L[H][1]=w,this}ur.prototype.clear=mt,ur.prototype.delete=Dt,ur.prototype.get=Ke,ur.prototype.has=_r,ur.prototype.set=xr;function Zt(d){var w=-1,L=d==null?0:d.length;for(this.clear();++w<L;){var H=d[w];this.set(H[0],H[1])}}function c(){this.size=0,this.__data__={hash:new De,map:new(ea||ur),string:new De}}function p(d){var w=qf(this,d).delete(d);return this.size-=w?1:0,w}function f(d){return qf(this,d).get(d)}function y(d){return qf(this,d).has(d)}function E(d,w){var L=qf(this,d),H=L.size;return L.set(d,w),this.size+=L.size==H?0:1,this}Zt.prototype.clear=c,Zt.prototype.delete=p,Zt.prototype.get=f,Zt.prototype.has=y,Zt.prototype.set=E;function M(d){var w=-1,L=d==null?0:d.length;for(this.__data__=new Zt;++w<L;)this.add(d[w])}function D(d){return this.__data__.set(d,S),this}function U(d){return this.__data__.has(d)}M.prototype.add=M.prototype.push=D,M.prototype.has=U;function q(d){var w=this.__data__=new ur(d);this.size=w.size}function ee(){this.__data__=new ur,this.size=0}function he(d){var w=this.__data__,L=w.delete(d);return this.size=w.size,L}function _e(d){return this.__data__.get(d)}function de(d){return this.__data__.has(d)}function Oe(d,w){var L=this.__data__;if(L instanceof ur){var H=L.__data__;if(!ea||H.length<s-1)return H.push([d,w]),this.size=++L.size,this;L=this.__data__=new Zt(H)}return L.set(d,w),this.size=L.size,this}q.prototype.clear=ee,q.prototype.delete=he,q.prototype.get=_e,q.prototype.has=de,q.prototype.set=Oe;function Pe(d,w){var L=Zr(d),H=!L&&ln(d),ie=!L&&!H&&ma(d),we=!L&&!H&&!ie&&Hu(d),je=L||H||ie||we,Xe=je?Vn(d.length,$u):[],ut=Xe.length;for(var Ft in d)(w||Un.call(d,Ft))&&!(je&&(Ft=="length"||ie&&(Ft=="offset"||Ft=="parent")||we&&(Ft=="buffer"||Ft=="byteLength"||Ft=="byteOffset")||bu(Ft,ut)))&&Xe.push(Ft);return Xe}function Be(d){var w=d.length;return w?d[W0(0,w-1)]:r}function Te(d,w){return th(Ps(d),Jt(w,0,d.length))}function Fe(d){return th(Ps(d))}function We(d,w,L){(L!==r&&!Tn(d[w],L)||L===r&&!(w in d))&&Nt(d,w,L)}function Je(d,w,L){var H=d[w];(!(Un.call(d,w)&&Tn(H,L))||L===r&&!(w in d))&&Nt(d,w,L)}function ht(d,w){for(var L=d.length;L--;)if(Tn(d[L][0],w))return L;return-1}function At(d,w,L,H){return Rr(d,function(ie,we,je){w(H,ie,L(ie),je)}),H}function gt(d,w){return d&&wl(w,Ta(w),d)}function Pt(d,w){return d&&wl(w,hs(w),d)}function Nt(d,w,L){w=="__proto__"&&wn?wn(d,w,{configurable:!0,enumerable:!0,value:L,writable:!0}):d[w]=L}function Bt(d,w){for(var L=-1,H=w.length,ie=vt(H),we=d==null;++L<H;)ie[L]=we?r:Ed(d,w[L]);return ie}function Jt(d,w,L){return d===d&&(L!==r&&(d=d<=L?d:L),w!==r&&(d=d>=w?d:w)),d}function mr(d,w,L,H,ie,we){var je,Xe=w&z,ut=w&N,Ft=w&$;if(L&&(je=ie?L(d,H,ie,we):L(d)),je!==r)return je;if(!pi(d))return d;var zt=Zr(d);if(zt){if(je=zx(d),!Xe)return Ps(d,je)}else{var qt=Wa(d),wr=qt==Fi||qt==jr;if(ma(d))return nd(d,Xe);if(qt==Bi||qt==vr||wr&&!ie){if(je=ut||wr?{}:$y(d),!Xe)return ut?My(d,Pt(je,d)):Ox(d,gt(je,d))}else{if(!qr[qt])return ie?d:{};je=Nx(d,qt,Xe)}}we||(we=new q);var zr=we.get(d);if(zr)return zr;we.set(d,je),ph(d)?d.forEach(function(on){je.add(mr(on,w,L,on,d,we))}):tp(d)&&d.forEach(function(on,Gn){je.set(Gn,mr(on,w,L,Gn,d,we))});var nn=Ft?ut?am:ud:ut?hs:Ta,Fn=zt?r:nn(d);return po(Fn||d,function(on,Gn){Fn&&(Gn=on,on=d[Gn]),Je(je,Gn,mr(on,w,L,Gn,d,we))}),je}function Tr(d){var w=Ta(d);return function(L){return Er(L,d,w)}}function Er(d,w,L){var H=L.length;if(d==null)return!H;for(d=Mr(d);H--;){var ie=L[H],we=w[ie],je=d[ie];if(je===r&&!(ie in d)||!we(je))return!1}return!0}function yn(d,w,L){if(typeof d!="function")throw new ji(a);return Wp(function(){d.apply(r,L)},w)}function cr(d,w,L,H){var ie=-1,we=pl,je=!0,Xe=d.length,ut=[],Ft=w.length;if(!Xe)return ut;L&&(w=ei(w,To(L))),H?(we=Dn,je=!1):w.length>=s&&(we=hl,je=!1,w=new M(w));e:for(;++ie<Xe;){var zt=d[ie],qt=L==null?zt:L(zt);if(zt=H||zt!==0?zt:0,je&&qt===qt){for(var wr=Ft;wr--;)if(w[wr]===qt)continue e;ut.push(zt)}else we(w,qt,H)||ut.push(zt)}return ut}var Rr=Ry(Ii),Jr=Ry(uo,!0);function $r(d,w){var L=!0;return Rr(d,function(H,ie,we){return L=!!w(H,ie,we),L}),L}function Br(d,w,L){for(var H=-1,ie=d.length;++H<ie;){var we=d[H],je=w(we);if(je!=null&&(Xe===r?je===je&&!Ka(je):L(je,Xe)))var Xe=je,ut=we}return ut}function Nr(d,w,L,H){var ie=d.length;for(L=_n(L),L<0&&(L=-L>ie?0:ie+L),H=H===r||H>ie?ie:_n(H),H<0&&(H+=ie),H=L>H?0:xd(H);L<H;)d[L++]=w;return d}function Lr(d,w){var L=[];return Rr(d,function(H,ie,we){w(H,ie,we)&&L.push(H)}),L}function Ar(d,w,L,H,ie){var we=-1,je=d.length;for(L||(L=jx),ie||(ie=[]);++we<je;){var Xe=d[we];w>0&&L(Xe)?w>1?Ar(Xe,w-1,L,H,ie):Ua(ie,Xe):H||(ie[ie.length]=Xe)}return ie}var Hn=em(),Vi=em(!0);function Ii(d,w){return d&&Hn(d,w,Ta)}function uo(d,w){return d&&Vi(d,w,Ta)}function Xi(d,w){return Xo(w,function(L){return Js(d[L])})}function fi(d,w){w=fc(w,d);for(var L=0,H=w.length;d!=null&&L<H;)d=d[wu(w[L++])];return L&&L==H?d:r}function na(d,w,L){var H=w(d);return Zr(d)?H:Ua(H,L(d))}function Hi(d){return d==null?d===r?bi:Qo:mo&&mo in Mr(d)?dc(d):cd(d)}function ia(d,w){return d>w}function wa(d,w){return d!=null&&Un.call(d,w)}function gu(d,w){return d!=null&&w in Mr(d)}function ps(d,w,L){return d>=Gr(w,L)&&d<tn(w,L)}function Bf(d,w,L){for(var H=L?Dn:pl,ie=d[0].length,we=d.length,je=we,Xe=vt(we),ut=1/0,Ft=[];je--;){var zt=d[je];je&&w&&(zt=ei(zt,To(w))),ut=Gr(zt.length,ut),Xe[je]=!L&&(w||ie>=120&&zt.length>=120)?new M(je&&zt):r}zt=d[0];var qt=-1,wr=Xe[0];e:for(;++qt<ie&&Ft.length<ut;){var zr=zt[qt],nn=w?w(zr):zr;if(zr=L||zr!==0?zr:0,!(wr?hl(wr,nn):H(Ft,nn,L))){for(je=we;--je;){var Fn=Xe[je];if(!(Fn?hl(Fn,nn):H(d[je],nn,L)))continue e}wr&&wr.push(nn),Ft.push(zr)}}return Ft}function _l(d,w,L,H){return Ii(d,function(ie,we,je){w(H,L(ie),we,je)}),H}function yu(d,w,L){w=fc(w,d),d=Za(d,w);var H=d==null?d:d[wu(Su(w))];return H==null?r:fo(H,d,L)}function xl(d){return Qi(d)&&Hi(d)==vr}function zf(d){return Qi(d)&&Hi(d)==yt}function tf(d){return Qi(d)&&Hi(d)==Dr}function Qa(d,w,L,H,ie){return d===w?!0:d==null||w==null||!Qi(d)&&!Qi(w)?d!==d&&w!==w:rf(d,w,L,H,Qa,ie)}function rf(d,w,L,H,ie,we){var je=Zr(d),Xe=Zr(w),ut=je?dr:Wa(d),Ft=Xe?dr:Wa(w);ut=ut==vr?Bi:ut,Ft=Ft==vr?Bi:Ft;var zt=ut==Bi,qt=Ft==Bi,wr=ut==Ft;if(wr&&ma(d)){if(!ma(w))return!1;je=!0,zt=!1}if(wr&&!zt)return we||(we=new q),je||Hu(d)?om(d,w,L,H,ie,we):Lx(d,w,ut,L,H,ie,we);if(!(L&Z)){var zr=zt&&Un.call(d,"__wrapped__"),nn=qt&&Un.call(w,"__wrapped__");if(zr||nn){var Fn=zr?d.value():d,on=nn?w.value():w;return we||(we=new q),ie(Fn,on,L,H,we)}}return wr?(we||(we=new q),Dx(d,w,L,H,ie,we)):!1}function yo(d){return Qi(d)&&Wa(d)==mi}function Ys(d,w,L,H){var ie=L.length,we=ie,je=!H;if(d==null)return!we;for(d=Mr(d);ie--;){var Xe=L[ie];if(je&&Xe[2]?Xe[1]!==d[Xe[0]]:!(Xe[0]in d))return!1}for(;++ie<we;){Xe=L[ie];var ut=Xe[0],Ft=d[ut],zt=Xe[1];if(je&&Xe[2]){if(Ft===r&&!(ut in d))return!1}else{var qt=new q;if(H)var wr=H(Ft,zt,ut,d,w,qt);if(!(wr===r?Qa(zt,Ft,Z|J,H,qt):wr))return!1}}return!0}function Ts(d){if(!pi(d)||Vx(d))return!1;var w=Js(d)?ba:xt;return w.test(ff(d))}function uc(d){return Qi(d)&&Hi(d)==io}function Yi(d){return Qi(d)&&Wa(d)==Qn}function qi(d){return Qi(d)&&ep(d.length)&&!!Nn[Hi(d)]}function Aa(d){return typeof d=="function"?d:d==null?Eu:typeof d=="object"?Zr(d)?WA(d[0],d[1]):Uf(d):S4(d)}function lc(d){if(!cf(d))return Bp(d);var w=[];for(var L in Mr(d))Un.call(d,L)&&L!="constructor"&&w.push(L);return w}function Np(d){if(!pi(d))return Ca(d);var w=cf(d),L=[];for(var H in d)H=="constructor"&&(w||!Un.call(d,H))||L.push(H);return L}function QA(d,w){return d<w}function Nf(d,w){var L=-1,H=bo(d)?vt(d.length):[];return Rr(d,function(ie,we,je){H[++L]=w(ie,we,je)}),H}function Uf(d){var w=ri(d);return w.length==1&&w[0][2]?Gp(w[0][0],w[0][1]):function(L){return L===d||Ys(L,d,w)}}function WA(d,w){return ld(d)&&qp(w)?Gp(wu(d),w):function(L){var H=Ed(L,d);return H===r&&H===w?Xa(L,d):Qa(w,H,Z|J)}}function bl(d,w,L,H,ie){d!==w&&Hn(w,function(we,je){if(ie||(ie=new q),pi(we))jf(d,w,je,L,bl,H,ie);else{var Xe=H?H(fd(d,je),we,je+"",d,w,ie):r;Xe===r&&(Xe=we),We(d,je,Xe)}},hs)}function jf(d,w,L,H,ie,we,je){var Xe=fd(d,L),ut=fd(w,L),Ft=je.get(ut);if(Ft){We(d,L,Ft);return}var zt=we?we(Xe,ut,L+"",d,w,je):r,qt=zt===r;if(qt){var wr=Zr(ut),zr=!wr&&ma(ut),nn=!wr&&!zr&&Hu(ut);zt=ut,wr||zr||nn?Zr(Xe)?zt=Xe:cn(Xe)?zt=Ps(Xe):zr?(qt=!1,zt=nd(ut,!0)):nn?(qt=!1,zt=Iy(ut,!0)):zt=[]:yc(ut)||ln(ut)?(zt=Xe,ln(Xe)?zt=aA(Xe):(!pi(Xe)||Js(Xe))&&(zt=$y(ut))):qt=!1}qt&&(je.set(ut,zt),ie(zt,ut,H,we,je),je.delete(ut)),We(d,L,zt)}function Q0(d,w){var L=d.length;if(!!L)return w+=w<0?L:0,bu(w,L)?d[w]:r}function Xh(d,w,L){w.length?w=ei(w,function(we){return Zr(we)?function(je){return fi(je,we.length===1?we[0]:we)}:we}):w=[Eu];var H=-1;w=ei(w,To(Qr()));var ie=Nf(d,function(we,je,Xe){var ut=ei(w,function(Ft){return Ft(we)});return{criteria:ut,index:++H,value:we}});return Gc(ie,function(we,je){return J0(we,je,L)})}function $f(d,w){return La(d,w,function(L,H){return Xa(d,H)})}function La(d,w,L){for(var H=-1,ie=w.length,we={};++H<ie;){var je=w[H],Xe=fi(d,je);L(Xe,je)&&Up(we,fc(je,d),Xe)}return we}function Cx(d){return function(w){return fi(w,d)}}function Yh(d,w,L,H){var ie=H?Rp:Uu,we=-1,je=w.length,Xe=d;for(d===w&&(w=Ps(w)),L&&(Xe=ei(d,To(L)));++we<je;)for(var ut=0,Ft=w[we],zt=L?L(Ft):Ft;(ut=ie(Xe,zt,ut,H))>-1;)Xe!==d&&sr.call(Xe,ut,1),sr.call(d,ut,1);return d}function Cy(d,w){for(var L=d?w.length:0,H=L-1;L--;){var ie=w[L];if(L==H||ie!==we){var we=ie;bu(ie)?sr.call(d,ie,1):of(d,ie)}}return d}function W0(d,w){return d+Va(Fr()*(w-d+1))}function Ex(d,w,L,H){for(var ie=-1,we=tn(go((w-d)/(L||1)),0),je=vt(we);we--;)je[H?we:++ie]=d,d+=L;return je}function Z0(d,w){var L="";if(!d||w<1||w>et)return L;do w%2&&(L+=d),w=Va(w/2),w&&(d+=d);while(w);return L}function Sn(d,w){return eh(JA(d,w,Eu),d+"")}function kx(d){return Be(ap(d))}function Jh(d,w){var L=ap(d);return th(L,Jt(w,0,L.length))}function Up(d,w,L,H){if(!pi(d))return d;w=fc(w,d);for(var ie=-1,we=w.length,je=we-1,Xe=d;Xe!=null&&++ie<we;){var ut=wu(w[ie]),Ft=L;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return d;if(ie!=je){var zt=Xe[ut];Ft=H?H(zt,ut,Xe):r,Ft===r&&(Ft=pi(zt)?zt:bu(w[ie+1])?[]:{})}Je(Xe,ut,Ft),Xe=Xe[ut]}return d}var cc=Yt?function(d,w){return Yt.set(d,w),d}:Eu,ZA=wn?function(d,w){return wn(d,"toString",{configurable:!0,enumerable:!1,value:mb(w),writable:!0})}:Eu;function Tx(d){return th(ap(d))}function vu(d,w,L){var H=-1,ie=d.length;w<0&&(w=-w>ie?0:ie+w),L=L>ie?ie:L,L<0&&(L+=ie),ie=w>L?0:L-w>>>0,w>>>=0;for(var we=vt(ie);++H<ie;)we[H]=d[H+w];return we}function Px(d,w){var L;return Rr(d,function(H,ie,we){return L=w(H,ie,we),!L}),!!L}function ed(d,w,L){var H=0,ie=d==null?H:d.length;if(typeof w=="number"&&w===w&&ie<=Mt){for(;H<ie;){var we=H+ie>>>1,je=d[we];je!==null&&!Ka(je)&&(L?je<=w:je<w)?H=we+1:ie=we}return ie}return K0(d,w,Eu,L)}function K0(d,w,L,H){var ie=0,we=d==null?0:d.length;if(we===0)return 0;w=L(w);for(var je=w!==w,Xe=w===null,ut=Ka(w),Ft=w===r;ie<we;){var zt=Va((ie+we)/2),qt=L(d[zt]),wr=qt!==r,zr=qt===null,nn=qt===qt,Fn=Ka(qt);if(je)var on=H||nn;else Ft?on=nn&&(H||wr):Xe?on=nn&&wr&&(H||!zr):ut?on=nn&&wr&&!zr&&(H||!Fn):zr||Fn?on=!1:on=H?qt<=w:qt<w;on?ie=zt+1:we=zt}return Gr(we,ye)}function Ey(d,w){for(var L=-1,H=d.length,ie=0,we=[];++L<H;){var je=d[L],Xe=w?w(je):je;if(!L||!Tn(Xe,ut)){var ut=Xe;we[ie++]=je===0?0:je}}return we}function ky(d){return typeof d=="number"?d:Ka(d)?Re:+d}function As(d){if(typeof d=="string")return d;if(Zr(d))return ei(d,As)+"";if(Ka(d))return v?v.call(d):"";var w=d+"";return w=="0"&&1/d==-Rt?"-0":w}function nf(d,w,L){var H=-1,ie=pl,we=d.length,je=!0,Xe=[],ut=Xe;if(L)je=!1,ie=Dn;else if(we>=s){var Ft=w?null:Uy(d);if(Ft)return ja(Ft);je=!1,ie=hl,ut=new M}else ut=w?[]:Xe;e:for(;++H<we;){var zt=d[H],qt=w?w(zt):zt;if(zt=L||zt!==0?zt:0,je&&qt===qt){for(var wr=ut.length;wr--;)if(ut[wr]===qt)continue e;w&&ut.push(qt),Xe.push(zt)}else ie(ut,qt,L)||(ut!==Xe&&ut.push(qt),Xe.push(zt))}return Xe}function of(d,w){return w=fc(w,d),d=Za(d,w),d==null||delete d[wu(Su(w))]}function Ty(d,w,L,H){return Up(d,w,L(fi(d,w)),H)}function Gi(d,w,L,H){for(var ie=d.length,we=H?ie:-1;(H?we--:++we<ie)&&w(d[we],we,d););return L?vu(d,H?0:we,H?we+1:ie):vu(d,H?we+1:0,H?ie:we)}function KA(d,w){var L=d;return L instanceof B&&(L=L.value()),Jl(w,function(H,ie){return ie.func.apply(ie.thisArg,Ua([H],ie.args))},L)}function td(d,w,L){var H=d.length;if(H<2)return H?nf(d[0]):[];for(var ie=-1,we=vt(H);++ie<H;)for(var je=d[ie],Xe=-1;++Xe<H;)Xe!=ie&&(we[ie]=cr(we[ie]||je,d[Xe],w,L));return nf(Ar(we,1),w,L)}function XA(d,w,L){for(var H=-1,ie=d.length,we=w.length,je={};++H<ie;){var Xe=H<we?w[H]:r;L(je,d[H],Xe)}return je}function jp(d){return cn(d)?d:[]}function Vf(d){return typeof d=="function"?d:Eu}function fc(d,w){return Zr(d)?d:ld(d,w)?[d]:Gf(Pn(d))}var Py=Sn;function _u(d,w,L){var H=d.length;return L=L===r?H:L,!w&&L>=H?d:vu(d,w,L)}var rd=Yc||function(d){return yi.clearTimeout(d)};function nd(d,w){if(w)return d.slice();var L=d.length,H=Ks?Ks(L):new d.constructor(L);return d.copy(H),H}function X0(d){var w=new d.constructor(d.byteLength);return new Zs(w).set(new Zs(d)),w}function YA(d,w){var L=w?X0(d.buffer):d.buffer;return new d.constructor(L,d.byteOffset,d.byteLength)}function Ix(d){var w=new d.constructor(d.source,$t.exec(d));return w.lastIndex=d.lastIndex,w}function Y0(d){return m?Mr(m.call(d)):{}}function Iy(d,w){var L=w?X0(d.buffer):d.buffer;return new d.constructor(L,d.byteOffset,d.length)}function id(d,w){if(d!==w){var L=d!==r,H=d===null,ie=d===d,we=Ka(d),je=w!==r,Xe=w===null,ut=w===w,Ft=Ka(w);if(!Xe&&!Ft&&!we&&d>w||we&&je&&ut&&!Xe&&!Ft||H&&je&&ut||!L&&ut||!ie)return 1;if(!H&&!we&&!Ft&&d<w||Ft&&L&&ie&&!H&&!we||Xe&&L&&ie||!je&&ie||!ut)return-1}return 0}function J0(d,w,L){for(var H=-1,ie=d.criteria,we=w.criteria,je=ie.length,Xe=L.length;++H<je;){var ut=id(ie[H],we[H]);if(ut){if(H>=Xe)return ut;var Ft=L[H];return ut*(Ft=="desc"?-1:1)}}return d.index-w.index}function xu(d,w,L,H){for(var ie=-1,we=d.length,je=L.length,Xe=-1,ut=w.length,Ft=tn(we-je,0),zt=vt(ut+Ft),qt=!H;++Xe<ut;)zt[Xe]=w[Xe];for(;++ie<je;)(qt||ie<we)&&(zt[L[ie]]=d[ie]);for(;Ft--;)zt[Xe++]=d[ie++];return zt}function Oy(d,w,L,H){for(var ie=-1,we=d.length,je=-1,Xe=L.length,ut=-1,Ft=w.length,zt=tn(we-Xe,0),qt=vt(zt+Ft),wr=!H;++ie<zt;)qt[ie]=d[ie];for(var zr=ie;++ut<Ft;)qt[zr+ut]=w[ut];for(;++je<Xe;)(wr||ie<we)&&(qt[zr+L[je]]=d[ie++]);return qt}function Ps(d,w){var L=-1,H=d.length;for(w||(w=vt(H));++L<H;)w[L]=d[L];return w}function wl(d,w,L,H){var ie=!L;L||(L={});for(var we=-1,je=w.length;++we<je;){var Xe=w[we],ut=H?H(L[Xe],d[Xe],Xe,L,d):r;ut===r&&(ut=d[Xe]),ie?Nt(L,Xe,ut):Je(L,Xe,ut)}return L}function Ox(d,w){return wl(d,lf(d),w)}function My(d,w){return wl(d,um(d),w)}function pc(d,w){return function(L,H){var ie=Zr(L)?Nu:At,we=w?w():{};return ie(L,d,Qr(H,2),we)}}function $p(d){return Sn(function(w,L){var H=-1,ie=L.length,we=ie>1?L[ie-1]:r,je=ie>2?L[2]:r;for(we=d.length>3&&typeof we=="function"?(ie--,we):r,je&&oa(L[0],L[1],je)&&(we=ie<3?r:we,ie=1),w=Mr(w);++H<ie;){var Xe=L[H];Xe&&d(w,Xe,H,we)}return w})}function Ry(d,w){return function(L,H){if(L==null)return L;if(!bo(L))return d(L,H);for(var ie=L.length,we=w?ie:-1,je=Mr(L);(w?we--:++we<ie)&&H(je[we],we,je)!==!1;);return L}}function em(d){return function(w,L,H){for(var ie=-1,we=Mr(w),je=H(w),Xe=je.length;Xe--;){var ut=je[d?Xe:++ie];if(L(we[ut],ut,we)===!1)break}return w}}function Ly(d,w,L){var H=w&ae,ie=Sl(d);function we(){var je=this&&this!==yi&&this instanceof we?ie:d;return je.apply(H?L:this,arguments)}return we}function Dy(d){return function(w){w=Pn(w);var L=du(w)?fa(w):r,H=L?L[0]:w.charAt(0),ie=L?_u(L,1).join(""):w.slice(1);return H[d]()+ie}}function Vp(d){return function(w){return Jl(b4(Mv(w).replace(Nc,"")),d,"")}}function Sl(d){return function(){var w=arguments;switch(w.length){case 0:return new d;case 1:return new d(w[0]);case 2:return new d(w[0],w[1]);case 3:return new d(w[0],w[1],w[2]);case 4:return new d(w[0],w[1],w[2],w[3]);case 5:return new d(w[0],w[1],w[2],w[3],w[4]);case 6:return new d(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new d(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var L=k(d.prototype),H=d.apply(L,w);return pi(H)?H:L}}function Mx(d,w,L){var H=Sl(d);function ie(){for(var we=arguments.length,je=vt(we),Xe=we,ut=Hf(ie);Xe--;)je[Xe]=arguments[Xe];var Ft=we<3&&je[0]!==ut&&je[we-1]!==ut?[]:ks(je,ut);if(we-=Ft.length,we<L)return Ny(d,w,Is,ie.placeholder,r,je,Ft,r,r,L-we);var zt=this&&this!==yi&&this instanceof ie?H:d;return fo(zt,this,je)}return ie}function od(d){return function(w,L,H){var ie=Mr(w);if(!bo(w)){var we=Qr(L,3);w=Ta(w),L=function(Xe){return we(ie[Xe],Xe,ie)}}var je=d(w,L,H);return je>-1?ie[we?w[je]:je]:r}}function Hp(d){return hc(function(w){var L=w.length,H=L,ie=I.prototype.thru;for(d&&w.reverse();H--;){var we=w[H];if(typeof we!="function")throw new ji(a);if(ie&&!je&&sf(we)=="wrapper")var je=new I([],!0)}for(H=je?H:L;++H<L;){we=w[H];var Xe=sf(we),ut=Xe=="wrapper"?sm(we):r;ut&&lm(ut[0])&&ut[1]==(Se|se|Ae|Ce)&&!ut[4].length&&ut[9]==1?je=je[sf(ut[0])].apply(je,ut[3]):je=we.length==1&&lm(we)?je[Xe]():je.thru(we)}return function(){var Ft=arguments,zt=Ft[0];if(je&&Ft.length==1&&Zr(zt))return je.plant(zt).value();for(var qt=0,wr=L?w[qt].apply(this,Ft):zt;++qt<L;)wr=w[qt].call(this,wr);return wr}})}function Is(d,w,L,H,ie,we,je,Xe,ut,Ft){var zt=w&Se,qt=w&ae,wr=w&V,zr=w&(se|me),nn=w&qe,Fn=wr?r:Sl(d);function on(){for(var Gn=arguments.length,ii=vt(Gn),Gu=Gn;Gu--;)ii[Gu]=arguments[Gu];if(zr)var eu=Hf(on),Qu=Ao(ii,eu);if(H&&(ii=xu(ii,H,ie,zr)),we&&(ii=Oy(ii,we,je,zr)),Gn-=Qu,zr&&Gn<Ft){var ga=ks(ii,eu);return Ny(d,w,Is,on.placeholder,L,ii,ga,Xe,ut,Ft-Gn)}var xc=qt?L:this,sp=wr?xc[d]:d;return Gn=ii.length,Xe?ii=Hy(ii,Xe):nn&&Gn>1&&ii.reverse(),zt&&ut<Gn&&(ii.length=ut),this&&this!==yi&&this instanceof on&&(sp=Fn||Sl(sp)),sp.apply(xc,ii)}return on}function Fy(d,w){return function(L,H){return _l(L,d,w(H),{})}}function ad(d,w){return function(L,H){var ie;if(L===r&&H===r)return w;if(L!==r&&(ie=L),H!==r){if(ie===r)return H;typeof L=="string"||typeof H=="string"?(L=As(L),H=As(H)):(L=ky(L),H=ky(H)),ie=d(L,H)}return ie}}function tm(d){return hc(function(w){return w=ei(w,To(Qr())),Sn(function(L){var H=this;return d(w,function(ie){return fo(ie,H,L)})})})}function af(d,w){w=w===r?" ":As(w);var L=w.length;if(L<2)return L?Z0(w,d):w;var H=Z0(w,go(d/us(w)));return du(w)?_u(fa(H),0,d).join(""):H.slice(0,d)}function By(d,w,L,H){var ie=w&ae,we=Sl(d);function je(){for(var Xe=-1,ut=arguments.length,Ft=-1,zt=H.length,qt=vt(zt+ut),wr=this&&this!==yi&&this instanceof je?we:d;++Ft<zt;)qt[Ft]=H[Ft];for(;ut--;)qt[Ft++]=arguments[++Xe];return fo(wr,ie?L:this,qt)}return je}function zy(d){return function(w,L,H){return H&&typeof H!="number"&&oa(w,L,H)&&(L=H=r),w=qu(w),L===r?(L=w,w=0):L=qu(L),H=H===r?w<L?1:-1:qu(H),Ex(w,L,H,d)}}function sd(d){return function(w,L){return typeof w=="string"&&typeof L=="string"||(w=Cu(w),L=Cu(L)),d(w,L)}}function Ny(d,w,L,H,ie,we,je,Xe,ut,Ft){var zt=w&se,qt=zt?je:r,wr=zt?r:je,zr=zt?we:r,nn=zt?r:we;w|=zt?Ae:ue,w&=~(zt?ue:Ae),w&K||(w&=~(ae|V));var Fn=[d,w,ie,zr,qt,nn,wr,Xe,ut,Ft],on=L.apply(r,Fn);return lm(d)&&qy(on,Fn),on.placeholder=H,pd(on,d,w)}function rm(d){var w=ti[d];return function(L,H){if(L=Cu(L),H=H==null?0:Gr(_n(H),292),H&&ef(L)){var ie=(Pn(L)+"e").split("e"),we=w(ie[0]+"e"+(+ie[1]+H));return ie=(Pn(we)+"e").split("e"),+(ie[0]+"e"+(+ie[1]-H))}return w(L)}}var Uy=qa&&1/ja(new qa([,-0]))[1]==Rt?function(d){return new qa(d)}:vb;function Sa(d){return function(w){var L=Wa(w);return L==mi?ml(w):L==Qn?oc(w):Qc(w,d(w))}}function Ac(d,w,L,H,ie,we,je,Xe){var ut=w&V;if(!ut&&typeof d!="function")throw new ji(a);var Ft=H?H.length:0;if(Ft||(w&=~(Ae|ue),H=ie=r),je=je===r?je:tn(_n(je),0),Xe=Xe===r?Xe:_n(Xe),Ft-=ie?ie.length:0,w&ue){var zt=H,qt=ie;H=ie=r}var wr=ut?r:sm(d),zr=[d,w,L,H,ie,zt,qt,we,je,Xe];if(wr&&Qp(zr,wr),d=zr[0],w=zr[1],L=zr[2],H=zr[3],ie=zr[4],Xe=zr[9]=zr[9]===r?ut?0:d.length:tn(zr[9]-Ft,0),!Xe&&w&(se|me)&&(w&=~(se|me)),!w||w==ae)var nn=Ly(d,w,L);else w==se||w==me?nn=Mx(d,w,Xe):(w==Ae||w==(ae|Ae))&&!ie.length?nn=By(d,w,L,H):nn=Is.apply(r,zr);var Fn=wr?cc:qy;return pd(Fn(nn,zr),d,w)}function nm(d,w,L,H){return d===r||Tn(d,cs[L])&&!Un.call(H,L)?w:d}function im(d,w,L,H,ie,we){return pi(d)&&pi(w)&&(we.set(w,d),bl(d,w,r,im,we),we.delete(w)),d}function Rx(d){return yc(d)?r:d}function om(d,w,L,H,ie,we){var je=L&Z,Xe=d.length,ut=w.length;if(Xe!=ut&&!(je&&ut>Xe))return!1;var Ft=we.get(d),zt=we.get(w);if(Ft&&zt)return Ft==w&&zt==d;var qt=-1,wr=!0,zr=L&J?new M:r;for(we.set(d,w),we.set(w,d);++qt<Xe;){var nn=d[qt],Fn=w[qt];if(H)var on=je?H(Fn,nn,qt,w,d,we):H(nn,Fn,qt,d,w,we);if(on!==r){if(on)continue;wr=!1;break}if(zr){if(!Hs(w,function(Gn,ii){if(!hl(zr,ii)&&(nn===Gn||ie(nn,Gn,L,H,we)))return zr.push(ii)})){wr=!1;break}}else if(!(nn===Fn||ie(nn,Fn,L,H,we))){wr=!1;break}}return we.delete(d),we.delete(w),wr}function Lx(d,w,L,H,ie,we,je){switch(L){case be:if(d.byteLength!=w.byteLength||d.byteOffset!=w.byteOffset)return!1;d=d.buffer,w=w.buffer;case yt:return!(d.byteLength!=w.byteLength||!we(new Zs(d),new Zs(w)));case Ur:case Dr:case gi:return Tn(+d,+w);case jn:return d.name==w.name&&d.message==w.message;case io:case Lo:return d==w+"";case mi:var Xe=ml;case Qn:var ut=H&Z;if(Xe||(Xe=ja),d.size!=w.size&&!ut)return!1;var Ft=je.get(d);if(Ft)return Ft==w;H|=J,je.set(d,w);var zt=om(Xe(d),Xe(w),H,ie,we,je);return je.delete(d),zt;case oo:if(m)return m.call(d)==m.call(w)}return!1}function Dx(d,w,L,H,ie,we){var je=L&Z,Xe=ud(d),ut=Xe.length,Ft=ud(w),zt=Ft.length;if(ut!=zt&&!je)return!1;for(var qt=ut;qt--;){var wr=Xe[qt];if(!(je?wr in w:Un.call(w,wr)))return!1}var zr=we.get(d),nn=we.get(w);if(zr&&nn)return zr==w&&nn==d;var Fn=!0;we.set(d,w),we.set(w,d);for(var on=je;++qt<ut;){wr=Xe[qt];var Gn=d[wr],ii=w[wr];if(H)var Gu=je?H(ii,Gn,wr,w,d,we):H(Gn,ii,wr,d,w,we);if(!(Gu===r?Gn===ii||ie(Gn,ii,L,H,we):Gu)){Fn=!1;break}on||(on=wr=="constructor")}if(Fn&&!on){var eu=d.constructor,Qu=w.constructor;eu!=Qu&&"constructor"in d&&"constructor"in w&&!(typeof eu=="function"&&eu instanceof eu&&typeof Qu=="function"&&Qu instanceof Qu)&&(Fn=!1)}return we.delete(d),we.delete(w),Fn}function hc(d){return eh(JA(d,r,Qf),d+"")}function ud(d){return na(d,Ta,lf)}function am(d){return na(d,hs,um)}var sm=Yt?function(d){return Yt.get(d)}:vb;function sf(d){for(var w=d.name+"",L=Io[w],H=Un.call(Io,w)?L.length:0;H--;){var ie=L[H],we=ie.func;if(we==null||we==d)return ie.name}return w}function Hf(d){var w=Un.call(_,"placeholder")?_:d;return w.placeholder}function Qr(){var d=_.iteratee||gb;return d=d===gb?Aa:d,arguments.length?d(arguments[0],arguments[1]):d}function qf(d,w){var L=d.__data__;return $x(w)?L[typeof w=="string"?"string":"hash"]:L.map}function ri(d){for(var w=Ta(d),L=w.length;L--;){var H=w[L],ie=d[H];w[L]=[H,ie,qp(ie)]}return w}function uf(d,w){var L=dl(d,w);return Ts(L)?L:r}function dc(d){var w=Un.call(d,mo),L=d[mo];try{d[mo]=r;var H=!0}catch{}var ie=ho.call(d);return H&&(w?d[mo]=L:delete d[mo]),ie}var lf=Vu?function(d){return d==null?[]:(d=Mr(d),Xo(Vu(d),function(w){return Jo.call(d,w)}))}:_b,um=Vu?function(d){for(var w=[];d;)Ua(w,lf(d)),d=Bo(d);return w}:_b,Wa=Hi;(Ha&&Wa(new Ha(new ArrayBuffer(1)))!=be||ea&&Wa(new ea)!=mi||ta&&Wa(ta.resolve())!=Wi||qa&&Wa(new qa)!=Qn||Qt&&Wa(new Qt)!=Do)&&(Wa=function(d){var w=Hi(d),L=w==Bi?d.constructor:r,H=L?ff(L):"";if(H)switch(H){case Ga:return be;case No:return mi;case $i:return Wi;case zp:return Qn;case ra:return Do}return w});function Fx(d,w,L){for(var H=-1,ie=L.length;++H<ie;){var we=L[H],je=we.size;switch(we.type){case"drop":d+=je;break;case"dropRight":w-=je;break;case"take":w=Gr(w,d+je);break;case"takeRight":d=tn(d,w-je);break}}return{start:d,end:w}}function Bx(d){var w=d.match($e);return w?w[1].split(at):[]}function jy(d,w,L){w=fc(w,d);for(var H=-1,ie=w.length,we=!1;++H<ie;){var je=wu(w[H]);if(!(we=d!=null&&L(d,je)))break;d=d[je]}return we||++H!=ie?we:(ie=d==null?0:d.length,!!ie&&ep(ie)&&bu(je,ie)&&(Zr(d)||ln(d)))}function zx(d){var w=d.length,L=new d.constructor(w);return w&&typeof d[0]=="string"&&Un.call(d,"index")&&(L.index=d.index,L.input=d.input),L}function $y(d){return typeof d.constructor=="function"&&!cf(d)?k(Bo(d)):{}}function Nx(d,w,L){var H=d.constructor;switch(w){case yt:return X0(d);case Ur:case Dr:return new H(+d);case be:return YA(d,L);case Ye:case Et:case ar:case Hr:case In:case Or:case en:case $n:case Yn:return Iy(d,L);case mi:return new H;case gi:case Lo:return new H(d);case io:return Ix(d);case Qn:return new H;case oo:return Y0(d)}}function Ux(d,w){var L=w.length;if(!L)return d;var H=L-1;return w[H]=(L>1?"& ":"")+w[H],w=w.join(L>2?", ":" "),d.replace(re,`{
/* [wrapped with `+w+`] */
`)}function jx(d){return Zr(d)||ln(d)||!!(sc&&d&&d[sc])}function bu(d,w){var L=typeof d;return w=w==null?et:w,!!w&&(L=="number"||L!="symbol"&&lr.test(d))&&d>-1&&d%1==0&&d<w}function oa(d,w,L){if(!pi(L))return!1;var H=typeof w;return(H=="number"?bo(L)&&bu(w,L.length):H=="string"&&w in L)?Tn(L[w],d):!1}function ld(d,w){if(Zr(d))return!1;var L=typeof d;return L=="number"||L=="symbol"||L=="boolean"||d==null||Ka(d)?!0:ve.test(d)||!fe.test(d)||w!=null&&d in Mr(w)}function $x(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function lm(d){var w=sf(d),L=_[w];if(typeof L!="function"||!(w in B.prototype))return!1;if(d===L)return!0;var H=sm(L);return!!H&&d===H[0]}function Vx(d){return!!Po&&Po in d}var Vy=Xc?Js:xb;function cf(d){var w=d&&d.constructor,L=typeof w=="function"&&w.prototype||cs;return d===L}function qp(d){return d===d&&!pi(d)}function Gp(d,w){return function(L){return L==null?!1:L[d]===w&&(w!==r||d in Mr(L))}}function Os(d){var w=ui(d,function(H){return L.size===P&&L.clear(),H}),L=w.cache;return w}function Qp(d,w){var L=d[1],H=w[1],ie=L|H,we=ie<(ae|V|Se),je=H==Se&&L==se||H==Se&&L==Ce&&d[7].length<=w[8]||H==(Se|Ce)&&w[7].length<=w[8]&&L==se;if(!(we||je))return d;H&ae&&(d[2]=w[2],ie|=L&ae?0:K);var Xe=w[3];if(Xe){var ut=d[3];d[3]=ut?xu(ut,Xe,w[4]):Xe,d[4]=ut?ks(d[3],R):w[4]}return Xe=w[5],Xe&&(ut=d[5],d[5]=ut?Oy(ut,Xe,w[6]):Xe,d[6]=ut?ks(d[5],R):w[6]),Xe=w[7],Xe&&(d[7]=Xe),H&Se&&(d[8]=d[8]==null?w[8]:Gr(d[8],w[8])),d[9]==null&&(d[9]=w[9]),d[0]=w[0],d[1]=ie,d}function Ca(d){var w=[];if(d!=null)for(var L in Mr(d))w.push(L);return w}function cd(d){return ho.call(d)}function JA(d,w,L){return w=tn(w===r?d.length-1:w,0),function(){for(var H=arguments,ie=-1,we=tn(H.length-w,0),je=vt(we);++ie<we;)je[ie]=H[w+ie];ie=-1;for(var Xe=vt(w+1);++ie<w;)Xe[ie]=H[ie];return Xe[w]=L(je),fo(d,this,Xe)}}function Za(d,w){return w.length<2?d:fi(d,vu(w,0,-1))}function Hy(d,w){for(var L=d.length,H=Gr(w.length,L),ie=Ps(d);H--;){var we=w[H];d[H]=bu(we,L)?ie[we]:r}return d}function fd(d,w){if(!(w==="constructor"&&typeof d[w]=="function")&&w!="__proto__")return d[w]}var qy=Gy(cc),Wp=Ff||function(d,w){return yi.setTimeout(d,w)},eh=Gy(ZA);function pd(d,w,L){var H=w+"";return eh(d,Ux(H,Qy(Bx(H),L)))}function Gy(d){var w=0,L=0;return function(){var H=pa(),ie=wt-(H-L);if(L=H,ie>0){if(++w>=st)return arguments[0]}else w=0;return d.apply(r,arguments)}}function th(d,w){var L=-1,H=d.length,ie=H-1;for(w=w===r?H:w;++L<w;){var we=W0(L,ie),je=d[we];d[we]=d[L],d[L]=je}return d.length=w,d}var Gf=Os(function(d){var w=[];return d.charCodeAt(0)===46&&w.push(""),d.replace(Ie,function(L,H,ie,we){w.push(ie?we.replace(ge,"$1"):H||L)}),w});function wu(d){if(typeof d=="string"||Ka(d))return d;var w=d+"";return w=="0"&&1/d==-Rt?"-0":w}function ff(d){if(d!=null){try{return mu.call(d)}catch{}try{return d+""}catch{}}return""}function Qy(d,w){return po(or,function(L){var H="_."+L[0];w&L[1]&&!pl(d,H)&&d.push(H)}),d.sort()}function Wy(d){if(d instanceof B)return d.clone();var w=new I(d.__wrapped__,d.__chain__);return w.__actions__=Ps(d.__actions__),w.__index__=d.__index__,w.__values__=d.__values__,w}function Zy(d,w,L){(L?oa(d,w,L):w===r)?w=1:w=tn(_n(w),0);var H=d==null?0:d.length;if(!H||w<1)return[];for(var ie=0,we=0,je=vt(go(H/w));ie<H;)je[we++]=vu(d,ie,ie+=w);return je}function Ky(d){for(var w=-1,L=d==null?0:d.length,H=0,ie=[];++w<L;){var we=d[w];we&&(ie[H++]=we)}return ie}function Xy(){var d=arguments.length;if(!d)return[];for(var w=vt(d-1),L=arguments[0],H=d;H--;)w[H-1]=arguments[H];return Ua(Zr(L)?Ps(L):[L],Ar(w,1))}var Yy=Sn(function(d,w){return cn(d)?cr(d,Ar(w,1,cn,!0)):[]}),Hx=Sn(function(d,w){var L=Su(w);return cn(L)&&(L=r),cn(d)?cr(d,Ar(w,1,cn,!0),Qr(L,2)):[]}),qx=Sn(function(d,w){var L=Su(w);return cn(L)&&(L=r),cn(d)?cr(d,Ar(w,1,cn,!0),r,L):[]});function Jy(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),vu(d,w<0?0:w,H)):[]}function ev(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),w=H-w,vu(d,0,w<0?0:w)):[]}function Ad(d,w){return d&&d.length?Gi(d,Qr(w,3),!0,!0):[]}function tv(d,w){return d&&d.length?Gi(d,Qr(w,3),!0):[]}function hd(d,w,L,H){var ie=d==null?0:d.length;return ie?(L&&typeof L!="number"&&oa(d,w,L)&&(L=0,H=ie),Nr(d,w,L,H)):[]}function rh(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var ie=L==null?0:_n(L);return ie<0&&(ie=tn(H+ie,0)),Gs(d,Qr(w,3),ie)}function nh(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var ie=H-1;return L!==r&&(ie=_n(L),ie=L<0?tn(H+ie,0):Gr(ie,H-1)),Gs(d,Qr(w,3),ie,!0)}function Qf(d){var w=d==null?0:d.length;return w?Ar(d,1):[]}function Gx(d){var w=d==null?0:d.length;return w?Ar(d,Rt):[]}function Qx(d,w){var L=d==null?0:d.length;return L?(w=w===r?1:_n(w),Ar(d,w)):[]}function Wx(d){for(var w=-1,L=d==null?0:d.length,H={};++w<L;){var ie=d[w];H[ie[0]]=ie[1]}return H}function Wf(d){return d&&d.length?d[0]:r}function cm(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var ie=L==null?0:_n(L);return ie<0&&(ie=tn(H+ie,0)),Uu(d,w,ie)}function rv(d){var w=d==null?0:d.length;return w?vu(d,0,-1):[]}var fm=Sn(function(d){var w=ei(d,jp);return w.length&&w[0]===d[0]?Bf(w):[]}),nv=Sn(function(d){var w=Su(d),L=ei(d,jp);return w===Su(L)?w=r:L.pop(),L.length&&L[0]===d[0]?Bf(L,Qr(w,2)):[]}),iv=Sn(function(d){var w=Su(d),L=ei(d,jp);return w=typeof w=="function"?w:r,w&&L.pop(),L.length&&L[0]===d[0]?Bf(L,r,w):[]});function Zx(d,w){return d==null?"":fs.call(d,w)}function Su(d){var w=d==null?0:d.length;return w?d[w-1]:r}function Kx(d,w,L){var H=d==null?0:d.length;if(!H)return-1;var ie=H;return L!==r&&(ie=_n(L),ie=ie<0?tn(H+ie,0):Gr(ie,H-1)),w===w?Lp(d,w,ie):Gs(d,qc,ie,!0)}function dd(d,w){return d&&d.length?Q0(d,_n(w)):r}var pm=Sn(ov);function ov(d,w){return d&&d.length&&w&&w.length?Yh(d,w):d}function Zp(d,w,L){return d&&d.length&&w&&w.length?Yh(d,w,Qr(L,2)):d}function ih(d,w,L){return d&&d.length&&w&&w.length?Yh(d,w,r,L):d}var Wn=hc(function(d,w){var L=d==null?0:d.length,H=Bt(d,w);return Cy(d,ei(w,function(ie){return bu(ie,L)?+ie:ie}).sort(id)),H});function Xx(d,w){var L=[];if(!(d&&d.length))return L;var H=-1,ie=[],we=d.length;for(w=Qr(w,3);++H<we;){var je=d[H];w(je,H,d)&&(L.push(je),ie.push(H))}return Cy(d,ie),L}function oh(d){return d==null?d:zo.call(d)}function Kp(d,w,L){var H=d==null?0:d.length;return H?(L&&typeof L!="number"&&oa(d,w,L)?(w=0,L=H):(w=w==null?0:_n(w),L=L===r?H:_n(L)),vu(d,w,L)):[]}function Yx(d,w){return ed(d,w)}function Jx(d,w,L){return K0(d,w,Qr(L,2))}function eb(d,w){var L=d==null?0:d.length;if(L){var H=ed(d,w);if(H<L&&Tn(d[H],w))return H}return-1}function tb(d,w){return ed(d,w,!0)}function rb(d,w,L){return K0(d,w,Qr(L,2),!0)}function nb(d,w){var L=d==null?0:d.length;if(L){var H=ed(d,w,!0)-1;if(Tn(d[H],w))return H}return-1}function ib(d){return d&&d.length?Ey(d):[]}function av(d,w){return d&&d.length?Ey(d,Qr(w,2)):[]}function sv(d){var w=d==null?0:d.length;return w?vu(d,1,w):[]}function uv(d,w,L){return d&&d.length?(w=L||w===r?1:_n(w),vu(d,0,w<0?0:w)):[]}function lv(d,w,L){var H=d==null?0:d.length;return H?(w=L||w===r?1:_n(w),w=H-w,vu(d,w<0?0:w,H)):[]}function md(d,w){return d&&d.length?Gi(d,Qr(w,3),!1,!0):[]}function Zf(d,w){return d&&d.length?Gi(d,Qr(w,3)):[]}var Am=Sn(function(d){return nf(Ar(d,1,cn,!0))}),Xp=Sn(function(d){var w=Su(d);return cn(w)&&(w=r),nf(Ar(d,1,cn,!0),Qr(w,2))}),cv=Sn(function(d){var w=Su(d);return w=typeof w=="function"?w:r,nf(Ar(d,1,cn,!0),r,w)});function vo(d){return d&&d.length?nf(d):[]}function vi(d,w){return d&&d.length?nf(d,Qr(w,2)):[]}function fv(d,w){return w=typeof w=="function"?w:r,d&&d.length?nf(d,r,w):[]}function gd(d){if(!(d&&d.length))return[];var w=0;return d=Xo(d,function(L){if(cn(L))return w=tn(L.length,w),!0}),Vn(w,function(L){return ei(d,tc(L))})}function hm(d,w){if(!(d&&d.length))return[];var L=gd(d);return w==null?L:ei(L,function(H){return fo(w,r,H)})}var pv=Sn(function(d,w){return cn(d)?cr(d,w):[]}),Av=Sn(function(d){return td(Xo(d,cn))}),dm=Sn(function(d){var w=Su(d);return cn(w)&&(w=r),td(Xo(d,cn),Qr(w,2))}),Kf=Sn(function(d){var w=Su(d);return w=typeof w=="function"?w:r,td(Xo(d,cn),r,w)}),Xf=Sn(gd);function hv(d,w){return XA(d||[],w||[],Je)}function _o(d,w){return XA(d||[],w||[],Up)}var ah=Sn(function(d){var w=d.length,L=w>1?d[w-1]:r;return L=typeof L=="function"?(d.pop(),L):r,hm(d,L)});function Cl(d){var w=_(d);return w.__chain__=!0,w}function yd(d,w){return w(d),d}function Yf(d,w){return w(d)}var mm=hc(function(d){var w=d.length,L=w?d[0]:0,H=this.__wrapped__,ie=function(we){return Bt(we,d)};return w>1||this.__actions__.length||!(H instanceof B)||!bu(L)?this.thru(ie):(H=H.slice(L,+L+(w?1:0)),H.__actions__.push({func:Yf,args:[ie],thisArg:r}),new I(H,this.__chain__).thru(function(we){return w&&!we.length&&we.push(r),we}))});function Yp(){return Cl(this)}function mc(){return new I(this.value(),this.__chain__)}function dv(){this.__values__===r&&(this.__values__=ym(this.value()));var d=this.__index__>=this.__values__.length,w=d?r:this.__values__[this.__index__++];return{done:d,value:w}}function mv(){return this}function ob(d){for(var w,L=this;L instanceof O;){var H=Wy(L);H.__index__=0,H.__values__=r,w?ie.__wrapped__=H:w=H;var ie=H;L=L.__wrapped__}return ie.__wrapped__=d,w}function Uo(){var d=this.__wrapped__;if(d instanceof B){var w=d;return this.__actions__.length&&(w=new B(this)),w=w.reverse(),w.__actions__.push({func:Yf,args:[oh],thisArg:r}),new I(w,this.__chain__)}return this.thru(oh)}function pf(){return KA(this.__wrapped__,this.__actions__)}var gv=pc(function(d,w,L){Un.call(d,L)?++d[L]:Nt(d,L,1)});function n(d,w,L){var H=Zr(d)?fu:$r;return L&&oa(d,w,L)&&(w=r),H(d,Qr(w,3))}function o(d,w){var L=Zr(d)?Xo:Lr;return L(d,Qr(w,3))}var u=od(rh),g=od(nh);function b(d,w){return Ar(pe(d,w),1)}function C(d,w){return Ar(pe(d,w),Rt)}function T(d,w,L){return L=L===r?1:_n(L),Ar(pe(d,w),L)}function F(d,w){var L=Zr(d)?po:Rr;return L(d,Qr(w,3))}function j(d,w){var L=Zr(d)?ss:Jr;return L(d,Qr(w,3))}var Q=pc(function(d,w,L){Un.call(d,L)?d[L].push(w):Nt(d,L,[w])});function W(d,w,L,H){d=bo(d)?d:ap(d),L=L&&!H?_n(L):0;var ie=d.length;return L<0&&(L=tn(ie+L,0)),vc(d)?L<=ie&&d.indexOf(w,L)>-1:!!ie&&Uu(d,w,L)>-1}var X=Sn(function(d,w,L){var H=-1,ie=typeof w=="function",we=bo(d)?vt(d.length):[];return Rr(d,function(je){we[++H]=ie?fo(w,je,L):yu(je,w,L)}),we}),oe=pc(function(d,w,L){Nt(d,L,w)});function pe(d,w){var L=Zr(d)?ei:Nf;return L(d,Qr(w,3))}function Ee(d,w,L,H){return d==null?[]:(Zr(w)||(w=w==null?[]:[w]),L=H?r:L,Zr(L)||(L=L==null?[]:[L]),Xh(d,w,L))}var ke=pc(function(d,w,L){d[L?0:1].push(w)},function(){return[[],[]]});function Ve(d,w,L){var H=Zr(d)?Jl:ju,ie=arguments.length<3;return H(d,Qr(w,4),L,ie,Rr)}function Le(d,w,L){var H=Zr(d)?Al:ju,ie=arguments.length<3;return H(d,Qr(w,4),L,ie,Jr)}function tt(d,w){var L=Zr(d)?Xo:Lr;return L(d,_i(Qr(w,3)))}function it(d){var w=Zr(d)?Be:kx;return w(d)}function ft(d,w,L){(L?oa(d,w,L):w===r)?w=1:w=_n(w);var H=Zr(d)?Te:Jh;return H(d,w)}function pt(d){var w=Zr(d)?Fe:Tx;return w(d)}function Tt(d){if(d==null)return 0;if(bo(d))return vc(d)?us(d):d.length;var w=Wa(d);return w==mi||w==Qn?d.size:lc(d).length}function jt(d,w,L){var H=Zr(d)?Hs:Px;return L&&oa(d,w,L)&&(w=r),H(d,Qr(w,3))}var Kt=Sn(function(d,w){if(d==null)return[];var L=w.length;return L>1&&oa(d,w[0],w[1])?w=[]:L>2&&oa(w[0],w[1],w[2])&&(w=[w[0]]),Xh(d,Ar(w,1),[])}),gr=Fp||function(){return yi.Date.now()};function er(d,w){if(typeof w!="function")throw new ji(a);return d=_n(d),function(){if(--d<1)return w.apply(this,arguments)}}function Cr(d,w,L){return w=L?r:w,w=d&&w==null?d.length:w,Ac(d,Se,r,r,r,r,w)}function rr(d,w){var L;if(typeof w!="function")throw new ji(a);return d=_n(d),function(){return--d>0&&(L=w.apply(this,arguments)),d<=1&&(w=r),L}}var Wr=Sn(function(d,w,L){var H=ae;if(L.length){var ie=ks(L,Hf(Wr));H|=Ae}return Ac(d,H,w,L,ie)}),Ir=Sn(function(d,w,L){var H=ae|V;if(L.length){var ie=ks(L,Hf(Ir));H|=Ae}return Ac(w,H,d,L,ie)});function yr(d,w,L){w=L?r:w;var H=Ac(d,se,r,r,r,r,r,w);return H.placeholder=yr.placeholder,H}function rn(d,w,L){w=L?r:w;var H=Ac(d,me,r,r,r,r,r,w);return H.placeholder=rn.placeholder,H}function Vr(d,w,L){var H,ie,we,je,Xe,ut,Ft=0,zt=!1,qt=!1,wr=!0;if(typeof d!="function")throw new ji(a);w=Cu(w)||0,pi(L)&&(zt=!!L.leading,qt="maxWait"in L,we=qt?tn(Cu(L.maxWait)||0,w):we,wr="trailing"in L?!!L.trailing:wr);function zr(ga){var xc=H,sp=ie;return H=ie=r,Ft=ga,je=d.apply(sp,xc),je}function nn(ga){return Ft=ga,Xe=Wp(Gn,w),zt?zr(ga):je}function Fn(ga){var xc=ga-ut,sp=ga-Ft,C4=w-xc;return qt?Gr(C4,we-sp):C4}function on(ga){var xc=ga-ut,sp=ga-Ft;return ut===r||xc>=w||xc<0||qt&&sp>=we}function Gn(){var ga=gr();if(on(ga))return ii(ga);Xe=Wp(Gn,Fn(ga))}function ii(ga){return Xe=r,wr&&H?zr(ga):(H=ie=r,je)}function Gu(){Xe!==r&&rd(Xe),Ft=0,H=ut=ie=Xe=r}function eu(){return Xe===r?je:ii(gr())}function Qu(){var ga=gr(),xc=on(ga);if(H=arguments,ie=this,ut=ga,xc){if(Xe===r)return nn(ut);if(qt)return rd(Xe),Xe=Wp(Gn,w),zr(ut)}return Xe===r&&(Xe=Wp(Gn,w)),je}return Qu.cancel=Gu,Qu.flush=eu,Qu}var vn=Sn(function(d,w){return yn(d,1,w)}),kr=Sn(function(d,w,L){return yn(d,Cu(w)||0,L)});function On(d){return Ac(d,qe)}function ui(d,w){if(typeof d!="function"||w!=null&&typeof w!="function")throw new ji(a);var L=function(){var H=arguments,ie=w?w.apply(this,H):H[0],we=L.cache;if(we.has(ie))return we.get(ie);var je=d.apply(this,H);return L.cache=we.set(ie,je)||we,je};return L.cache=new(ui.Cache||Zt),L}ui.Cache=Zt;function _i(d){if(typeof d!="function")throw new ji(a);return function(){var w=arguments;switch(w.length){case 0:return!d.call(this);case 1:return!d.call(this,w[0]);case 2:return!d.call(this,w[0],w[1]);case 3:return!d.call(this,w[0],w[1],w[2])}return!d.apply(this,w)}}function Oi(d){return rr(2,d)}var xi=Py(function(d,w){w=w.length==1&&Zr(w[0])?ei(w[0],To(Qr())):ei(Ar(w,1),To(Qr()));var L=w.length;return Sn(function(H){for(var ie=-1,we=Gr(H.length,L);++ie<we;)H[ie]=w[ie].call(this,H[ie]);return fo(d,this,H)})}),Ci=Sn(function(d,w){var L=ks(w,Hf(Ci));return Ac(d,Ae,r,w,L)}),xo=Sn(function(d,w){var L=ks(w,Hf(xo));return Ac(d,ue,r,w,L)}),Oo=hc(function(d,w){return Ac(d,Ce,r,r,r,w)});function Ea(d,w){if(typeof d!="function")throw new ji(a);return w=w===r?w:_n(w),Sn(d,w)}function jo(d,w){if(typeof d!="function")throw new ji(a);return w=w==null?0:tn(_n(w),0),Sn(function(L){var H=L[w],ie=_u(L,0,w);return H&&Ua(ie,H),fo(d,this,ie)})}function ka(d,w,L){var H=!0,ie=!0;if(typeof d!="function")throw new ji(a);return pi(L)&&(H="leading"in L?!!L.leading:H,ie="trailing"in L?!!L.trailing:ie),Vr(d,w,{leading:H,maxWait:w,trailing:ie})}function Ji(d){return Cr(d,1)}function $o(d,w){return Ci(Vf(w),d)}function un(){if(!arguments.length)return[];var d=arguments[0];return Zr(d)?d:[d]}function ni(d){return mr(d,$)}function qn(d,w){return w=typeof w=="function"?w:r,mr(d,$,w)}function Cn(d){return mr(d,z|$)}function Da(d,w){return w=typeof w=="function"?w:r,mr(d,z|$,w)}function ha(d,w){return w==null||Er(d,w,Ta(w))}function Tn(d,w){return d===w||d!==d&&w!==w}var lo=sd(ia),da=sd(function(d,w){return d>=w}),ln=xl(function(){return arguments}())?xl:function(d){return Qi(d)&&Un.call(d,"callee")&&!Jo.call(d,"callee")},Zr=vt.isArray,Ms=zu?To(zu):zf;function bo(d){return d!=null&&ep(d.length)&&!Js(d)}function cn(d){return Qi(d)&&bo(d)}function El(d){return d===!0||d===!1||Qi(d)&&Hi(d)==Ur}var ma=Jc||xb,Jp=Vc?To(Vc):tf;function Jf(d){return Qi(d)&&d.nodeType===1&&!yc(d)}function eA(d){if(d==null)return!0;if(bo(d)&&(Zr(d)||typeof d=="string"||typeof d.splice=="function"||ma(d)||Hu(d)||ln(d)))return!d.length;var w=Wa(d);if(w==mi||w==Qn)return!d.size;if(cf(d))return!lc(d).length;for(var L in d)if(Un.call(d,L))return!1;return!0}function gc(d,w){return Qa(d,w)}function tA(d,w,L){L=typeof L=="function"?L:r;var H=L?L(d,w):r;return H===r?Qa(d,w,r,L):!!H}function rA(d){if(!Qi(d))return!1;var w=Hi(d);return w==jn||w==Xn||typeof d.message=="string"&&typeof d.name=="string"&&!yc(d)}function nA(d){return typeof d=="number"&&ef(d)}function Js(d){if(!pi(d))return!1;var w=Hi(d);return w==Fi||w==jr||w==Sr||w==ws}function sh(d){return typeof d=="number"&&d==_n(d)}function ep(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=et}function pi(d){var w=typeof d;return d!=null&&(w=="object"||w=="function")}function Qi(d){return d!=null&&typeof d=="object"}var tp=Zi?To(Zi):yo;function Af(d,w){return d===w||Ys(d,w,ri(w))}function iA(d,w,L){return L=typeof L=="function"?L:r,Ys(d,w,ri(w),L)}function vd(d){return ch(d)&&d!=+d}function _d(d){if(Vy(d))throw new Yr(l);return Ts(d)}function uh(d){return d===null}function lh(d){return d==null}function ch(d){return typeof d=="number"||Qi(d)&&Hi(d)==gi}function yc(d){if(!Qi(d)||Hi(d)!=Bi)return!1;var w=Bo(d);if(w===null)return!0;var L=Un.call(w,"constructor")&&w.constructor;return typeof L=="function"&&L instanceof L&&mu.call(L)==Df}var rp=Hc?To(Hc):uc;function fh(d){return sh(d)&&d>=-et&&d<=et}var ph=Vs?To(Vs):Yi;function vc(d){return typeof d=="string"||!Zr(d)&&Qi(d)&&Hi(d)==Lo}function Ka(d){return typeof d=="symbol"||Qi(d)&&Hi(d)==oo}var Hu=Cs?To(Cs):qi;function Ah(d){return d===r}function np(d){return Qi(d)&&Wa(d)==Do}function hh(d){return Qi(d)&&Hi(d)==sa}var oA=sd(QA),gm=sd(function(d,w){return d<=w});function ym(d){if(!d)return[];if(bo(d))return vc(d)?fa(d):Ps(d);if(Xs&&d[Xs])return Si(d[Xs]());var w=Wa(d),L=w==mi?ml:w==Qn?ja:ap;return L(d)}function qu(d){if(!d)return d===0?d:0;if(d=Cu(d),d===Rt||d===-Rt){var w=d<0?-1:1;return w*Ue}return d===d?d:0}function _n(d){var w=qu(d),L=w%1;return w===w?L?w-L:w:0}function xd(d){return d?Jt(_n(d),0,le):0}function Cu(d){if(typeof d=="number")return d;if(Ka(d))return Re;if(pi(d)){var w=typeof d.valueOf=="function"?d.valueOf():d;d=pi(w)?w+"":w}if(typeof d!="string")return d===0?d:+d;d=Mf(d);var L=Ot.test(d);return L||pr.test(d)?Op(d.slice(2),L?2:8):ct.test(d)?Re:+d}function aA(d){return wl(d,hs(d))}function eo(d){return d?Jt(_n(d),-et,et):d===0?d:0}function Pn(d){return d==null?"":As(d)}var ab=$p(function(d,w){if(cf(w)||bo(w)){wl(w,Ta(w),d);return}for(var L in w)Un.call(w,L)&&Je(d,L,w[L])}),_c=$p(function(d,w){wl(w,hs(w),d)}),sA=$p(function(d,w,L,H){wl(w,hs(w),d,H)}),yv=$p(function(d,w,L,H){wl(w,Ta(w),d,H)}),bd=hc(Bt);function kl(d,w){var L=k(d);return w==null?L:gt(L,w)}var wd=Sn(function(d,w){d=Mr(d);var L=-1,H=w.length,ie=H>2?w[2]:r;for(ie&&oa(w[0],w[1],ie)&&(H=1);++L<H;)for(var we=w[L],je=hs(we),Xe=-1,ut=je.length;++Xe<ut;){var Ft=je[Xe],zt=d[Ft];(zt===r||Tn(zt,cs[Ft])&&!Un.call(d,Ft))&&(d[Ft]=we[Ft])}return d}),dh=Sn(function(d){return d.push(r,im),fo(op,r,d)});function Sd(d,w){return qs(d,Qr(w,3),Ii)}function Cd(d,w){return qs(d,Qr(w,3),uo)}function vm(d,w){return d==null?d:Hn(d,Qr(w,3),hs)}function vv(d,w){return d==null?d:Vi(d,Qr(w,3),hs)}function mh(d,w){return d&&Ii(d,Qr(w,3))}function _v(d,w){return d&&uo(d,Qr(w,3))}function xv(d){return d==null?[]:Xi(d,Ta(d))}function bv(d){return d==null?[]:Xi(d,hs(d))}function Ed(d,w,L){var H=d==null?r:fi(d,w);return H===r?L:H}function wv(d,w){return d!=null&&jy(d,w,wa)}function Xa(d,w){return d!=null&&jy(d,w,gu)}var kd=Fy(function(d,w,L){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),d[w]=L},mb(Eu)),Sv=Fy(function(d,w,L){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),Un.call(d,w)?d[w].push(L):d[w]=[L]},Qr),Tl=Sn(yu);function Ta(d){return bo(d)?Pe(d):lc(d)}function hs(d){return bo(d)?Pe(d,!0):Np(d)}function ip(d,w){var L={};return w=Qr(w,3),Ii(d,function(H,ie,we){Nt(L,w(H,ie,we),H)}),L}function uA(d,w){var L={};return w=Qr(w,3),Ii(d,function(H,ie,we){Nt(L,ie,w(H,ie,we))}),L}var lA=$p(function(d,w,L){bl(d,w,L)}),op=$p(function(d,w,L,H){bl(d,w,L,H)}),cA=hc(function(d,w){var L={};if(d==null)return L;var H=!1;w=ei(w,function(we){return we=fc(we,d),H||(H=we.length>1),we}),wl(d,am(d),L),H&&(L=mr(L,z|N|$,Rx));for(var ie=w.length;ie--;)of(L,w[ie]);return L});function Cv(d,w){return _m(d,_i(Qr(w)))}var Ev=hc(function(d,w){return d==null?{}:$f(d,w)});function _m(d,w){if(d==null)return{};var L=ei(am(d),function(H){return[H]});return w=Qr(w),La(d,L,function(H,ie){return w(H,ie[0])})}function kv(d,w,L){w=fc(w,d);var H=-1,ie=w.length;for(ie||(ie=1,d=r);++H<ie;){var we=d==null?r:d[wu(w[H])];we===r&&(H=ie,we=L),d=Js(we)?we.call(d):we}return d}function xm(d,w,L){return d==null?d:Up(d,w,L)}function bm(d,w,L,H){return H=typeof H=="function"?H:r,d==null?d:Up(d,w,L,H)}var Pl=Sa(Ta),wm=Sa(hs);function Sm(d,w,L){var H=Zr(d),ie=H||ma(d)||Hu(d);if(w=Qr(w,4),L==null){var we=d&&d.constructor;ie?L=H?new we:[]:pi(d)?L=Js(we)?k(Bo(d)):{}:L={}}return(ie?po:Ii)(d,function(je,Xe,ut){return w(L,je,Xe,ut)}),L}function Cm(d,w){return d==null?!0:of(d,w)}function Tv(d,w,L){return d==null?d:Ty(d,w,Vf(L))}function Em(d,w,L,H){return H=typeof H=="function"?H:r,d==null?d:Ty(d,w,Vf(L),H)}function ap(d){return d==null?[]:Wc(d,Ta(d))}function Pv(d){return d==null?[]:Wc(d,hs(d))}function km(d,w,L){return L===r&&(L=w,w=r),L!==r&&(L=Cu(L),L=L===L?L:0),w!==r&&(w=Cu(w),w=w===w?w:0),Jt(Cu(d),w,L)}function Iv(d,w,L){return w=qu(w),L===r?(L=w,w=0):L=qu(L),d=Cu(d),ps(d,w,L)}function gh(d,w,L){if(L&&typeof L!="boolean"&&oa(d,w,L)&&(w=L=r),L===r&&(typeof w=="boolean"?(L=w,w=r):typeof d=="boolean"&&(L=d,d=r)),d===r&&w===r?(d=0,w=1):(d=qu(d),w===r?(w=d,d=0):w=qu(w)),d>w){var H=d;d=w,w=H}if(L||d%1||w%1){var ie=Fr();return Gr(d+ie*(w-d+$c("1e-"+((ie+"").length-1))),w)}return W0(d,w)}var Ov=Vp(function(d,w,L){return w=w.toLowerCase(),d+(L?yh(w):w)});function yh(d){return db(Pn(d).toLowerCase())}function Mv(d){return d=Pn(d),d&&d.replace(Gt,Ui).replace(Uc,"")}function Rv(d,w,L){d=Pn(d),w=As(w);var H=d.length;L=L===r?H:Jt(_n(L),0,H);var ie=L;return L-=w.length,L>=0&&d.slice(L,ie)==w}function sb(d){return d=Pn(d),d&&Ei.test(d)?d.replace(Ra,Zc):d}function ub(d){return d=Pn(d),d&&He.test(d)?d.replace(Ne,"\\$&"):d}var lb=Vp(function(d,w,L){return d+(L?"-":"")+w.toLowerCase()}),cb=Vp(function(d,w,L){return d+(L?" ":"")+w.toLowerCase()}),fb=Dy("toLowerCase");function pb(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;if(!w||H>=w)return d;var ie=(w-H)/2;return af(Va(ie),L)+d+af(go(ie),L)}function Ab(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;return w&&H<w?d+af(w-H,L):d}function hb(d,w,L){d=Pn(d),w=_n(w);var H=w?us(d):0;return w&&H<w?af(w-H,L)+d:d}function Il(d,w,L){return L||w==null?w=0:w&&(w=+w),Pi(Pn(d).replace(ze,""),w||0)}function Td(d,w,L){return(L?oa(d,w,L):w===r)?w=1:w=_n(w),Z0(Pn(d),w)}function Lv(){var d=arguments,w=Pn(d[0]);return d.length<3?w:w.replace(d[1],d[2])}var vh=Vp(function(d,w,L){return d+(L?"_":"")+w.toLowerCase()});function Dv(d,w,L){return L&&typeof L!="number"&&oa(d,w,L)&&(w=L=r),L=L===r?le:L>>>0,L?(d=Pn(d),d&&(typeof w=="string"||w!=null&&!rp(w))&&(w=As(w),!w&&du(d))?_u(fa(d),0,L):d.split(w,L)):[]}var jL=Vp(function(d,w,L){return d+(L?" ":"")+db(w)});function $L(d,w,L){return d=Pn(d),L=L==null?0:Jt(_n(L),0,d.length),w=As(w),d.slice(L,L+w.length)==w}function VL(d,w,L){var H=_.templateSettings;L&&oa(d,w,L)&&(w=r),d=Pn(d),w=sA({},w,H,nm);var ie=sA({},w.imports,H.imports,nm),we=Ta(ie),je=Wc(ie,we),Xe,ut,Ft=0,zt=w.interpolate||An,qt="__p += '",wr=sn((w.escape||An).source+"|"+zt.source+"|"+(zt===ne?Lt:An).source+"|"+(w.evaluate||An).source+"|$","g"),zr="//# sourceURL="+(Un.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cu+"]")+`
`;d.replace(wr,function(on,Gn,ii,Gu,eu,Qu){return ii||(ii=Gu),qt+=d.slice(Ft,Qu).replace(Xr,nc),Gn&&(Xe=!0,qt+=`' +
__e(`+Gn+`) +
'`),eu&&(ut=!0,qt+=`';
`+eu+`;
__p += '`),ii&&(qt+=`' +
((__t = (`+ii+`)) == null ? '' : __t) +
'`),Ft=Qu+on.length,on}),qt+=`';
`;var nn=Un.call(w,"variable")&&w.variable;if(!nn)qt=`with (obj) {
`+qt+`
}
`;else if(h.test(nn))throw new Yr(x);qt=(ut?qt.replace(hn,""):qt).replace(Eo,"$1").replace(Jn,"$1;"),qt="function("+(nn||"obj")+`) {
`+(nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xe?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qt+`return __p
}`;var Fn=w4(function(){return bn(we,zr+"return "+qt).apply(r,je)});if(Fn.source=qt,rA(Fn))throw Fn;return Fn}function HL(d){return Pn(d).toLowerCase()}function qL(d){return Pn(d).toUpperCase()}function GL(d,w,L){if(d=Pn(d),d&&(L||w===r))return Mf(d);if(!d||!(w=As(w)))return d;var H=fa(d),ie=fa(w),we=hu(H,ie),je=Rf(H,ie)+1;return _u(H,we,je).join("")}function QL(d,w,L){if(d=Pn(d),d&&(L||w===r))return d.slice(0,ls(d)+1);if(!d||!(w=As(w)))return d;var H=fa(d),ie=Rf(H,fa(w))+1;return _u(H,0,ie).join("")}function WL(d,w,L){if(d=Pn(d),d&&(L||w===r))return d.replace(ze,"");if(!d||!(w=As(w)))return d;var H=fa(d),ie=hu(H,fa(w));return _u(H,ie).join("")}function ZL(d,w){var L=lt,H=rt;if(pi(w)){var ie="separator"in w?w.separator:ie;L="length"in w?_n(w.length):L,H="omission"in w?As(w.omission):H}d=Pn(d);var we=d.length;if(du(d)){var je=fa(d);we=je.length}if(L>=we)return d;var Xe=L-us(H);if(Xe<1)return H;var ut=je?_u(je,0,Xe).join(""):d.slice(0,Xe);if(ie===r)return ut+H;if(je&&(Xe+=ut.length-Xe),rp(ie)){if(d.slice(Xe).search(ie)){var Ft,zt=ut;for(ie.global||(ie=sn(ie.source,Pn($t.exec(ie))+"g")),ie.lastIndex=0;Ft=ie.exec(zt);)var qt=Ft.index;ut=ut.slice(0,qt===r?Xe:qt)}}else if(d.indexOf(As(ie),Xe)!=Xe){var wr=ut.lastIndexOf(ie);wr>-1&&(ut=ut.slice(0,wr))}return ut+H}function KL(d){return d=Pn(d),d&&Vt.test(d)?d.replace(ua,Qs):d}var XL=Vp(function(d,w,L){return d+(L?" ":"")+w.toUpperCase()}),db=Dy("toUpperCase");function b4(d,w,L){return d=Pn(d),w=L?r:w,w===r?ic(d)?Kc(d):pu(d):d.match(w)||[]}var w4=Sn(function(d,w){try{return fo(d,r,w)}catch(L){return rA(L)?L:new Yr(L)}}),YL=hc(function(d,w){return po(w,function(L){L=wu(L),Nt(d,L,Wr(d[L],d))}),d});function JL(d){var w=d==null?0:d.length,L=Qr();return d=w?ei(d,function(H){if(typeof H[1]!="function")throw new ji(a);return[L(H[0]),H[1]]}):[],Sn(function(H){for(var ie=-1;++ie<w;){var we=d[ie];if(fo(we[0],this,H))return fo(we[1],this,H)}})}function eD(d){return Tr(mr(d,z))}function mb(d){return function(){return d}}function tD(d,w){return d==null||d!==d?w:d}var rD=Hp(),nD=Hp(!0);function Eu(d){return d}function gb(d){return Aa(typeof d=="function"?d:mr(d,z))}function iD(d){return Uf(mr(d,z))}function oD(d,w){return WA(d,mr(w,z))}var aD=Sn(function(d,w){return function(L){return yu(L,d,w)}}),sD=Sn(function(d,w){return function(L){return yu(d,L,w)}});function yb(d,w,L){var H=Ta(w),ie=Xi(w,H);L==null&&!(pi(w)&&(ie.length||!H.length))&&(L=w,w=d,d=this,ie=Xi(w,Ta(w)));var we=!(pi(L)&&"chain"in L)||!!L.chain,je=Js(d);return po(ie,function(Xe){var ut=w[Xe];d[Xe]=ut,je&&(d.prototype[Xe]=function(){var Ft=this.__chain__;if(we||Ft){var zt=d(this.__wrapped__),qt=zt.__actions__=Ps(this.__actions__);return qt.push({func:ut,args:arguments,thisArg:d}),zt.__chain__=Ft,zt}return ut.apply(d,Ua([this.value()],arguments))})}),d}function uD(){return yi._===this&&(yi._=Ki),this}function vb(){}function lD(d){return d=_n(d),Sn(function(w){return Q0(w,d)})}var cD=tm(ei),fD=tm(fu),pD=tm(Hs);function S4(d){return ld(d)?tc(wu(d)):Cx(d)}function AD(d){return function(w){return d==null?r:fi(d,w)}}var hD=zy(),dD=zy(!0);function _b(){return[]}function xb(){return!1}function mD(){return{}}function gD(){return""}function yD(){return!0}function vD(d,w){if(d=_n(d),d<1||d>et)return[];var L=le,H=Gr(d,le);w=Qr(w),d-=le;for(var ie=Vn(H,w);++L<d;)w(L);return ie}function _D(d){return Zr(d)?ei(d,wu):Ka(d)?[d]:Ps(Gf(Pn(d)))}function xD(d){var w=++ac;return Pn(d)+w}var bD=ad(function(d,w){return d+w},0),wD=rm("ceil"),SD=ad(function(d,w){return d/w},1),CD=rm("floor");function ED(d){return d&&d.length?Br(d,Eu,ia):r}function kD(d,w){return d&&d.length?Br(d,Qr(w,2),ia):r}function TD(d){return Au(d,Eu)}function PD(d,w){return Au(d,Qr(w,2))}function ID(d){return d&&d.length?Br(d,Eu,QA):r}function OD(d,w){return d&&d.length?Br(d,Qr(w,2),QA):r}var MD=ad(function(d,w){return d*w},1),RD=rm("round"),LD=ad(function(d,w){return d-w},0);function DD(d){return d&&d.length?rc(d,Eu):0}function FD(d,w){return d&&d.length?rc(d,Qr(w,2)):0}return _.after=er,_.ary=Cr,_.assign=ab,_.assignIn=_c,_.assignInWith=sA,_.assignWith=yv,_.at=bd,_.before=rr,_.bind=Wr,_.bindAll=YL,_.bindKey=Ir,_.castArray=un,_.chain=Cl,_.chunk=Zy,_.compact=Ky,_.concat=Xy,_.cond=JL,_.conforms=eD,_.constant=mb,_.countBy=gv,_.create=kl,_.curry=yr,_.curryRight=rn,_.debounce=Vr,_.defaults=wd,_.defaultsDeep=dh,_.defer=vn,_.delay=kr,_.difference=Yy,_.differenceBy=Hx,_.differenceWith=qx,_.drop=Jy,_.dropRight=ev,_.dropRightWhile=Ad,_.dropWhile=tv,_.fill=hd,_.filter=o,_.flatMap=b,_.flatMapDeep=C,_.flatMapDepth=T,_.flatten=Qf,_.flattenDeep=Gx,_.flattenDepth=Qx,_.flip=On,_.flow=rD,_.flowRight=nD,_.fromPairs=Wx,_.functions=xv,_.functionsIn=bv,_.groupBy=Q,_.initial=rv,_.intersection=fm,_.intersectionBy=nv,_.intersectionWith=iv,_.invert=kd,_.invertBy=Sv,_.invokeMap=X,_.iteratee=gb,_.keyBy=oe,_.keys=Ta,_.keysIn=hs,_.map=pe,_.mapKeys=ip,_.mapValues=uA,_.matches=iD,_.matchesProperty=oD,_.memoize=ui,_.merge=lA,_.mergeWith=op,_.method=aD,_.methodOf=sD,_.mixin=yb,_.negate=_i,_.nthArg=lD,_.omit=cA,_.omitBy=Cv,_.once=Oi,_.orderBy=Ee,_.over=cD,_.overArgs=xi,_.overEvery=fD,_.overSome=pD,_.partial=Ci,_.partialRight=xo,_.partition=ke,_.pick=Ev,_.pickBy=_m,_.property=S4,_.propertyOf=AD,_.pull=pm,_.pullAll=ov,_.pullAllBy=Zp,_.pullAllWith=ih,_.pullAt=Wn,_.range=hD,_.rangeRight=dD,_.rearg=Oo,_.reject=tt,_.remove=Xx,_.rest=Ea,_.reverse=oh,_.sampleSize=ft,_.set=xm,_.setWith=bm,_.shuffle=pt,_.slice=Kp,_.sortBy=Kt,_.sortedUniq=ib,_.sortedUniqBy=av,_.split=Dv,_.spread=jo,_.tail=sv,_.take=uv,_.takeRight=lv,_.takeRightWhile=md,_.takeWhile=Zf,_.tap=yd,_.throttle=ka,_.thru=Yf,_.toArray=ym,_.toPairs=Pl,_.toPairsIn=wm,_.toPath=_D,_.toPlainObject=aA,_.transform=Sm,_.unary=Ji,_.union=Am,_.unionBy=Xp,_.unionWith=cv,_.uniq=vo,_.uniqBy=vi,_.uniqWith=fv,_.unset=Cm,_.unzip=gd,_.unzipWith=hm,_.update=Tv,_.updateWith=Em,_.values=ap,_.valuesIn=Pv,_.without=pv,_.words=b4,_.wrap=$o,_.xor=Av,_.xorBy=dm,_.xorWith=Kf,_.zip=Xf,_.zipObject=hv,_.zipObjectDeep=_o,_.zipWith=ah,_.entries=Pl,_.entriesIn=wm,_.extend=_c,_.extendWith=sA,yb(_,_),_.add=bD,_.attempt=w4,_.camelCase=Ov,_.capitalize=yh,_.ceil=wD,_.clamp=km,_.clone=ni,_.cloneDeep=Cn,_.cloneDeepWith=Da,_.cloneWith=qn,_.conformsTo=ha,_.deburr=Mv,_.defaultTo=tD,_.divide=SD,_.endsWith=Rv,_.eq=Tn,_.escape=sb,_.escapeRegExp=ub,_.every=n,_.find=u,_.findIndex=rh,_.findKey=Sd,_.findLast=g,_.findLastIndex=nh,_.findLastKey=Cd,_.floor=CD,_.forEach=F,_.forEachRight=j,_.forIn=vm,_.forInRight=vv,_.forOwn=mh,_.forOwnRight=_v,_.get=Ed,_.gt=lo,_.gte=da,_.has=wv,_.hasIn=Xa,_.head=Wf,_.identity=Eu,_.includes=W,_.indexOf=cm,_.inRange=Iv,_.invoke=Tl,_.isArguments=ln,_.isArray=Zr,_.isArrayBuffer=Ms,_.isArrayLike=bo,_.isArrayLikeObject=cn,_.isBoolean=El,_.isBuffer=ma,_.isDate=Jp,_.isElement=Jf,_.isEmpty=eA,_.isEqual=gc,_.isEqualWith=tA,_.isError=rA,_.isFinite=nA,_.isFunction=Js,_.isInteger=sh,_.isLength=ep,_.isMap=tp,_.isMatch=Af,_.isMatchWith=iA,_.isNaN=vd,_.isNative=_d,_.isNil=lh,_.isNull=uh,_.isNumber=ch,_.isObject=pi,_.isObjectLike=Qi,_.isPlainObject=yc,_.isRegExp=rp,_.isSafeInteger=fh,_.isSet=ph,_.isString=vc,_.isSymbol=Ka,_.isTypedArray=Hu,_.isUndefined=Ah,_.isWeakMap=np,_.isWeakSet=hh,_.join=Zx,_.kebabCase=lb,_.last=Su,_.lastIndexOf=Kx,_.lowerCase=cb,_.lowerFirst=fb,_.lt=oA,_.lte=gm,_.max=ED,_.maxBy=kD,_.mean=TD,_.meanBy=PD,_.min=ID,_.minBy=OD,_.stubArray=_b,_.stubFalse=xb,_.stubObject=mD,_.stubString=gD,_.stubTrue=yD,_.multiply=MD,_.nth=dd,_.noConflict=uD,_.noop=vb,_.now=gr,_.pad=pb,_.padEnd=Ab,_.padStart=hb,_.parseInt=Il,_.random=gh,_.reduce=Ve,_.reduceRight=Le,_.repeat=Td,_.replace=Lv,_.result=kv,_.round=RD,_.runInContext=nt,_.sample=it,_.size=Tt,_.snakeCase=vh,_.some=jt,_.sortedIndex=Yx,_.sortedIndexBy=Jx,_.sortedIndexOf=eb,_.sortedLastIndex=tb,_.sortedLastIndexBy=rb,_.sortedLastIndexOf=nb,_.startCase=jL,_.startsWith=$L,_.subtract=LD,_.sum=DD,_.sumBy=FD,_.template=VL,_.times=vD,_.toFinite=qu,_.toInteger=_n,_.toLength=xd,_.toLower=HL,_.toNumber=Cu,_.toSafeInteger=eo,_.toString=Pn,_.toUpper=qL,_.trim=GL,_.trimEnd=QL,_.trimStart=WL,_.truncate=ZL,_.unescape=KL,_.uniqueId=xD,_.upperCase=XL,_.upperFirst=db,_.each=F,_.eachRight=j,_.first=Wf,yb(_,function(){var d={};return Ii(_,function(w,L){Un.call(_.prototype,L)||(d[L]=w)}),d}(),{chain:!1}),_.VERSION=i,po(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){_[d].placeholder=_}),po(["drop","take"],function(d,w){B.prototype[d]=function(L){L=L===r?1:tn(_n(L),0);var H=this.__filtered__&&!w?new B(this):this.clone();return H.__filtered__?H.__takeCount__=Gr(L,H.__takeCount__):H.__views__.push({size:Gr(L,le),type:d+(H.__dir__<0?"Right":"")}),H},B.prototype[d+"Right"]=function(L){return this.reverse()[d](L).reverse()}}),po(["filter","map","takeWhile"],function(d,w){var L=w+1,H=L==St||L==fr;B.prototype[d]=function(ie){var we=this.clone();return we.__iteratees__.push({iteratee:Qr(ie,3),type:L}),we.__filtered__=we.__filtered__||H,we}}),po(["head","last"],function(d,w){var L="take"+(w?"Right":"");B.prototype[d]=function(){return this[L](1).value()[0]}}),po(["initial","tail"],function(d,w){var L="drop"+(w?"":"Right");B.prototype[d]=function(){return this.__filtered__?new B(this):this[L](1)}}),B.prototype.compact=function(){return this.filter(Eu)},B.prototype.find=function(d){return this.filter(d).head()},B.prototype.findLast=function(d){return this.reverse().find(d)},B.prototype.invokeMap=Sn(function(d,w){return typeof d=="function"?new B(this):this.map(function(L){return yu(L,d,w)})}),B.prototype.reject=function(d){return this.filter(_i(Qr(d)))},B.prototype.slice=function(d,w){d=_n(d);var L=this;return L.__filtered__&&(d>0||w<0)?new B(L):(d<0?L=L.takeRight(-d):d&&(L=L.drop(d)),w!==r&&(w=_n(w),L=w<0?L.dropRight(-w):L.take(w-d)),L)},B.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},B.prototype.toArray=function(){return this.take(le)},Ii(B.prototype,function(d,w){var L=/^(?:filter|find|map|reject)|While$/.test(w),H=/^(?:head|last)$/.test(w),ie=_[H?"take"+(w=="last"?"Right":""):w],we=H||/^find/.test(w);!ie||(_.prototype[w]=function(){var je=this.__wrapped__,Xe=H?[1]:arguments,ut=je instanceof B,Ft=Xe[0],zt=ut||Zr(je),qt=function(Gn){var ii=ie.apply(_,Ua([Gn],Xe));return H&&wr?ii[0]:ii};zt&&L&&typeof Ft=="function"&&Ft.length!=1&&(ut=zt=!1);var wr=this.__chain__,zr=!!this.__actions__.length,nn=we&&!wr,Fn=ut&&!zr;if(!we&&zt){je=Fn?je:new B(this);var on=d.apply(je,Xe);return on.__actions__.push({func:Yf,args:[qt],thisArg:r}),new I(on,wr)}return nn&&Fn?d.apply(this,Xe):(on=this.thru(qt),nn?H?on.value()[0]:on.value():on)})}),po(["pop","push","shift","sort","splice","unshift"],function(d){var w=yl[d],L=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",H=/^(?:pop|shift)$/.test(d);_.prototype[d]=function(){var ie=arguments;if(H&&!this.__chain__){var we=this.value();return w.apply(Zr(we)?we:[],ie)}return this[L](function(je){return w.apply(Zr(je)?je:[],ie)})}}),Ii(B.prototype,function(d,w){var L=_[w];if(L){var H=L.name+"";Un.call(Io,H)||(Io[H]=[]),Io[H].push({name:w,func:L})}}),Io[Is(r,V).name]=[{name:"wrapper",func:r}],B.prototype.clone=G,B.prototype.reverse=te,B.prototype.value=ce,_.prototype.at=mm,_.prototype.chain=Yp,_.prototype.commit=mc,_.prototype.next=dv,_.prototype.plant=ob,_.prototype.reverse=Uo,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=pf,_.prototype.first=_.prototype.head,Xs&&(_.prototype[Xs]=mv),_},Ws=gl();js?((js.exports=Ws)._=Ws,cl._=Ws):yi._=Ws}).call(Bs)})(_s,_s.exports);var Rc={},Vl={},$h={exports:{}},no={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=60103,l2=60106,sy=60107,uy=60108,ly=60114,cy=60109,fy=60110,py=60112,Ay=60113,jC=60120,hy=60115,dy=60116,YI=60121,JI=60122,eO=60117,tO=60129,rO=60131;if(typeof Symbol=="function"&&Symbol.for){var ds=Symbol.for;u2=ds("react.element"),l2=ds("react.portal"),sy=ds("react.fragment"),uy=ds("react.strict_mode"),ly=ds("react.profiler"),cy=ds("react.provider"),fy=ds("react.context"),py=ds("react.forward_ref"),Ay=ds("react.suspense"),jC=ds("react.suspense_list"),hy=ds("react.memo"),dy=ds("react.lazy"),YI=ds("react.block"),JI=ds("react.server.block"),eO=ds("react.fundamental"),tO=ds("react.debug_trace_mode"),rO=ds("react.legacy_hidden")}function Lc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case u2:switch(e=e.type,e){case sy:case ly:case uy:case Ay:case jC:return e;default:switch(e=e&&e.$$typeof,e){case fy:case py:case dy:case hy:case cy:return e;default:return t}}case l2:return t}}}var a7=cy,s7=u2,u7=py,l7=sy,c7=dy,f7=hy,p7=l2,A7=ly,h7=uy,d7=Ay;no.ContextConsumer=fy;no.ContextProvider=a7;no.Element=s7;no.ForwardRef=u7;no.Fragment=l7;no.Lazy=c7;no.Memo=f7;no.Portal=p7;no.Profiler=A7;no.StrictMode=h7;no.Suspense=d7;no.isAsyncMode=function(){return!1};no.isConcurrentMode=function(){return!1};no.isContextConsumer=function(e){return Lc(e)===fy};no.isContextProvider=function(e){return Lc(e)===cy};no.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===u2};no.isForwardRef=function(e){return Lc(e)===py};no.isFragment=function(e){return Lc(e)===sy};no.isLazy=function(e){return Lc(e)===dy};no.isMemo=function(e){return Lc(e)===hy};no.isPortal=function(e){return Lc(e)===l2};no.isProfiler=function(e){return Lc(e)===ly};no.isStrictMode=function(e){return Lc(e)===uy};no.isSuspense=function(e){return Lc(e)===Ay};no.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sy||e===ly||e===tO||e===uy||e===Ay||e===jC||e===rO||typeof e=="object"&&e!==null&&(e.$$typeof===dy||e.$$typeof===hy||e.$$typeof===cy||e.$$typeof===fy||e.$$typeof===py||e.$$typeof===eO||e.$$typeof===YI||e[0]===JI)};no.typeOf=Lc;(function(e){e.exports=no})($h);Object.defineProperty(Vl,"__esModule",{value:!0});Vl.isArray=_7;Vl.isBoolean=oO;Vl.isNull=aO;Vl.isNumber=iO;Vl.isObject=v7;Vl.isPrimitiveData=y7;Vl.isString=nO;Vl.isUndefined=sO;var m7=_s.exports,g7=$h.exports;function nO(e){return typeof e=="string"}function iO(e){return typeof e=="number"}function oO(e){return typeof e=="boolean"}function aO(e){return e===null}function sO(e){return e===void 0}function y7(e){return nO(e)||iO(e)||oO(e)||aO(e)||sO(e)}function v7(e){return(0,m7.isPlainObject)(e)&&!(0,g7.isElement)(e)}function _7(e){return Array.isArray(e)}var c2={},uO={},$C={};Object.defineProperty($C,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function F5(e){return Object.prototype.toString.call(e)==="[object Object]"}function x7(e){var t,r;return F5(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(F5(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}$C.isPlainObject=x7;var VC={},S_=Bs&&Bs.__assign||function(){return S_=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},S_.apply(this,arguments)},b7=Bs&&Bs.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var l=arguments[t],a=0,x=l.length;a<x;a++,s++)i[s]=l[a];return i};Object.defineProperty(VC,"__esModule",{value:!0});var Fm=[];function w7(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function S7(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function C7(e){return Object.getOwnPropertySymbols(e).filter(function(t){return Object.prototype.propertyIsEnumerable.call(e,t)})}function V1(e,t,r){r===void 0&&(r="");var i={indent:"	",singleQuotes:!0},s=S_(S_({},i),t),l;s.inlineCharacterLimit===void 0?l={newLine:`
`,newLineOrSpace:`
`,pad:r,indent:r+s.indent}:l={newLine:"@@__PRETTY_PRINT_NEW_LINE__@@",newLineOrSpace:"@@__PRETTY_PRINT_NEW_LINE_OR_SPACE__@@",pad:"@@__PRETTY_PRINT_PAD__@@",indent:"@@__PRETTY_PRINT_INDENT__@@"};var a=function(P){if(s.inlineCharacterLimit===void 0)return P;var R=P.replace(new RegExp(l.newLine,"g"),"").replace(new RegExp(l.newLineOrSpace,"g")," ").replace(new RegExp(l.pad+"|"+l.indent,"g"),"");return R.length<=s.inlineCharacterLimit?R:P.replace(new RegExp(l.newLine+"|"+l.newLineOrSpace,"g"),`
`).replace(new RegExp(l.pad,"g"),r).replace(new RegExp(l.indent,"g"),r+s.indent)};if(Fm.indexOf(e)!==-1)return'"[Circular]"';if(e==null||typeof e=="number"||typeof e=="boolean"||typeof e=="function"||typeof e=="symbol"||S7(e))return String(e);if(e instanceof Date)return"new Date('"+e.toISOString()+"')";if(Array.isArray(e)){if(e.length===0)return"[]";Fm.push(e);var x="["+l.newLine+e.map(function(P,R){var z=e.length-1===R?l.newLine:","+l.newLineOrSpace,N=V1(P,s,r+s.indent);return s.transform&&(N=s.transform(e,R,N)),l.indent+N+z}).join("")+l.pad+"]";return Fm.pop(),a(x)}if(w7(e)){var S=b7(Object.keys(e),C7(e));if(s.filter&&(S=S.filter(function(R){return s.filter&&s.filter(e,R)})),S.length===0)return"{}";Fm.push(e);var x="{"+l.newLine+S.map(function(R,z){var N=S.length-1===z?l.newLine:","+l.newLineOrSpace,$=typeof R=="symbol",Z=!$&&/^[a-z$_][a-z$_0-9]*$/i.test(R.toString()),J=$||Z?R:V1(R,s),ae=V1(e[R],s,r+s.indent);return s.transform&&(ae=s.transform(e,R,ae)),l.indent+String(J)+": "+ae+N}).join("")+l.pad+"}";return Fm.pop(),a(x)}return e=String(e).replace(/[\r\n]/g,function(P){return P===`
`?"\\n":"\\r"}),s.singleQuotes?(e=e.replace(/\\?'/g,"\\'"),"'"+e+"'"):(e=e.replace(/"/g,'\\"'),'"'+e+'"')}VC.prettyPrint=V1;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=$C,r=hr.exports,i=VC,s=$h.exports;function l(yt){return yt&&typeof yt=="object"&&"default"in yt?yt:{default:yt}}function a(yt){if(yt&&yt.__esModule)return yt;var be=Object.create(null);return yt&&Object.keys(yt).forEach(function(Ye){if(Ye!=="default"){var Et=Object.getOwnPropertyDescriptor(yt,Ye);Object.defineProperty(be,Ye,Et.get?Et:{enumerable:!0,get:function(){return yt[Ye]}})}}),be.default=yt,Object.freeze(be)}var x=a(r),S=l(r),P=function(yt,be){return yt===0?"":new Array(yt*be).fill(" ").join("")};function R(yt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(be){return typeof be}:R=function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},R(yt)}function z(yt){return N(yt)||$(yt)||Z(yt)||ae()}function N(yt){if(Array.isArray(yt))return J(yt)}function $(yt){if(typeof Symbol<"u"&&yt[Symbol.iterator]!=null||yt["@@iterator"]!=null)return Array.from(yt)}function Z(yt,be){if(!!yt){if(typeof yt=="string")return J(yt,be);var Ye=Object.prototype.toString.call(yt).slice(8,-1);if(Ye==="Object"&&yt.constructor&&(Ye=yt.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(yt);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return J(yt,be)}}function J(yt,be){(be==null||be>yt.length)&&(be=yt.length);for(var Ye=0,Et=new Array(be);Ye<be;Ye++)Et[Ye]=yt[Ye];return Et}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(yt,be){return yt===null||R(yt)!=="object"||yt instanceof Date||yt instanceof RegExp||x.isValidElement(yt)?yt:(be.add(yt),Array.isArray(yt)?yt.map(function(Ye){return V(Ye,be)}):Object.keys(yt).sort().reduce(function(Ye,Et){return Et==="_owner"||(Et==="current"||be.has(yt[Et])?Ye[Et]="[Circular]":Ye[Et]=V(yt[Et],be)),Ye},{}))}function K(yt){return V(yt,new WeakSet)}var se=function(be){return{type:"string",value:be}},me=function(be){return{type:"number",value:be}},Ae=function(be,Ye,Et,ar){return{type:"ReactElement",displayName:be,props:Ye,defaultProps:Et,childrens:ar}},ue=function(be,Ye){return{type:"ReactFragment",key:be,childrens:Ye}},Se=Boolean(r.Fragment),Ce=function(be){return!be.name||be.name==="_default"?"No Display Name":be.name},qe=function yt(be){switch(!0){case Boolean(be.displayName):return be.displayName;case be.$$typeof===s.Memo:return yt(be.type);case be.$$typeof===s.ForwardRef:return yt(be.render);default:return Ce(be)}},lt=function(be){switch(!0){case typeof be.type=="string":return be.type;case typeof be.type=="function":return be.type.displayName?be.type.displayName:Ce(be.type);case s.isForwardRef(be):case s.isMemo(be):return qe(be.type);case s.isContextConsumer(be):return"".concat(be.type._context.displayName||"Context",".Consumer");case s.isContextProvider(be):return"".concat(be.type._context.displayName||"Context",".Provider");case s.isLazy(be):return"Lazy";case s.isProfiler(be):return"Profiler";case s.isStrictMode(be):return"StrictMode";case s.isSuspense(be):return"Suspense";default:return"UnknownElementType"}},rt=function(be,Ye){return Ye!=="children"},st=function(be){return be!==!0&&be!==!1&&be!==null&&be!==""},wt=function(be,Ye){var Et={};return Object.keys(be).filter(function(ar){return Ye(be[ar],ar)}).forEach(function(ar){return Et[ar]=be[ar]}),Et},St=function yt(be,Ye){var Et=Ye.displayName,ar=Et===void 0?lt:Et;if(typeof be=="string")return se(be);if(typeof be=="number")return me(be);if(!S.default.isValidElement(be))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `".concat(R(be),"`"));var Hr=ar(be),In=wt(be.props,rt);be.ref!==null&&(In.ref=be.ref);var Or=be.key;typeof Or=="string"&&Or.search(/^\./)&&(In.key=Or);var en=wt(be.type.defaultProps||{},rt),$n=S.default.Children.toArray(be.props.children).filter(st).map(function(Yn){return yt(Yn,Ye)});return Se&&be.type===r.Fragment?ue(Or,$n):Ae(Hr,In,en,$n)};function Wt(){}var fr=function(be){return be.toString().split(`
`).map(function(Ye){return Ye.trim()}).join("")},Rt=function(be){return be.toString()},et=fr,Ue=function(yt,be){var Ye=be.functionValue,Et=Ye===void 0?et:Ye,ar=be.showFunctions;return Et(!ar&&Et===et?Wt:yt)},Re=function(yt,be,Ye,Et){var ar=K(yt),Hr=i.prettyPrint(ar,{transform:function(Or,en,$n){var Yn=Or[en];return Yn&&r.isValidElement(Yn)?bi(St(Yn,Et),!0,Ye,Et):typeof Yn=="function"?Ue(Yn,Et):$n}});return be?Hr.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):Hr.replace(/\t/g,P(1,Et.tabStop)).replace(/\n([^$])/g,`
`.concat(P(Ye+1,Et.tabStop),"$1"))},le=function(be){return be.replace(/"/g,"&quot;")},ye=function(be,Ye,Et,ar){if(typeof be=="number")return"{".concat(String(be),"}");if(typeof be=="string")return'"'.concat(le(be),'"');if(R(be)==="symbol"){var Hr=be.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return Hr?"{Symbol('".concat(Hr,"')}"):"{Symbol()}"}return typeof be=="function"?"{".concat(Ue(be,ar),"}"):r.isValidElement(be)?"{".concat(bi(St(be,ar),!0,Et,ar),"}"):be instanceof Date?isNaN(be.valueOf())?"{new Date(NaN)}":'{new Date("'.concat(be.toISOString(),'")}'):t.isPlainObject(be)||Array.isArray(be)?"{".concat(Re(be,Ye,Et,ar),"}"):"{".concat(String(be),"}")},Mt=function(yt,be,Ye,Et,ar,Hr,In,Or){if(!be&&!Et)throw new Error('The prop "'.concat(yt,'" has no value and no default: could not be formatted'));var en=be?Ye:ar,$n=Or.useBooleanShorthandSyntax,Yn=Or.tabStop,hn=ye(en,Hr,In,Or),Eo=" ",Jn=`
`.concat(P(In+1,Yn)),ua=hn.includes(`
`);return $n&&hn==="{false}"&&!Et?(Eo="",Jn=""):$n&&hn==="{true}"?(Eo+="".concat(yt),Jn+="".concat(yt)):(Eo+="".concat(yt,"=").concat(hn),Jn+="".concat(yt,"=").concat(hn)),{attributeFormattedInline:Eo,attributeFormattedMultiline:Jn,isMultilineAttribute:ua}},or=function(yt,be){var Ye=yt.slice(0,yt.length>0?yt.length-1:0),Et=yt[yt.length-1];return Et&&(be.type==="string"||be.type==="number")&&(Et.type==="string"||Et.type==="number")?Ye.push(se(String(Et.value)+String(be.value))):(Et&&Ye.push(Et),Ye.push(be)),Ye},vr=function(be){return["key","ref"].includes(be)},dr=function(yt){return function(be){var Ye=be.includes("key"),Et=be.includes("ref"),ar=be.filter(function(In){return!vr(In)}),Hr=z(yt?ar.sort():ar);return Et&&Hr.unshift("ref"),Ye&&Hr.unshift("key"),Hr}};function Sr(yt,be){return Array.isArray(be)?function(Ye){return be.indexOf(Ye)===-1}:function(Ye){return be(yt[Ye],Ye)}}var Ur=function(be,Ye,Et,ar,Hr){var In=Hr.tabStop;return be.type==="string"?Ye.split(`
`).map(function(Or,en){return en===0?Or:"".concat(P(ar,In)).concat(Or)}).join(`
`):Ye},Dr=function(be,Ye,Et){return function(ar){return Ur(ar,bi(ar,be,Ye,Et),be,Ye,Et)}},Xn=function(be,Ye){return function(Et){var ar=Object.keys(be).includes(Et);return!ar||ar&&be[Et]!==Ye[Et]}},jn=function(be,Ye,Et,ar,Hr){return Hr?P(Et,ar).length+Ye.length>Hr:be.length>1},Fi=function(be,Ye,Et,ar,Hr,In,Or){return(jn(be,Ye,Hr,In,Or)||Et)&&!ar},jr=function(yt,be,Ye,Et){var ar=yt.type,Hr=yt.displayName,In=Hr===void 0?"":Hr,Or=yt.childrens,en=yt.props,$n=en===void 0?{}:en,Yn=yt.defaultProps,hn=Yn===void 0?{}:Yn;if(ar!=="ReactElement")throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '.concat(ar));var Eo=Et.filterProps,Jn=Et.maxInlineAttributesLineLength,ua=Et.showDefaultProps,Ra=Et.sortProps,Vt=Et.tabStop,Ei="<".concat(In),zn=Ei,Y=Ei,ne=!1,fe=[],ve=Sr($n,Eo);Object.keys($n).filter(ve).filter(Xn(hn,$n)).forEach(function(He){return fe.push(He)}),Object.keys(hn).filter(ve).filter(function(){return ua}).filter(function(He){return!fe.includes(He)}).forEach(function(He){return fe.push(He)});var Ie=dr(Ra)(fe);if(Ie.forEach(function(He){var ze=Mt(He,Object.keys($n).includes(He),$n[He],Object.keys(hn).includes(He),hn[He],be,Ye,Et),xe=ze.attributeFormattedInline,re=ze.attributeFormattedMultiline,$e=ze.isMultilineAttribute;$e&&(ne=!0),zn+=xe,Y+=re}),Y+=`
`.concat(P(Ye,Vt)),Fi(Ie,zn,ne,be,Ye,Vt,Jn)?Ei=Y:Ei=zn,Or&&Or.length>0){var Ne=Ye+1;Ei+=">",be||(Ei+=`
`,Ei+=P(Ne,Vt)),Ei+=Or.reduce(or,[]).map(Dr(be,Ne,Et)).join(be?"":`
`.concat(P(Ne,Vt))),be||(Ei+=`
`,Ei+=P(Ne-1,Vt)),Ei+="</".concat(In,">")}else jn(Ie,zn,Ye,Vt,Jn)||(Ei+=" "),Ei+="/>";return Ei},mi="",gi="React.Fragment",Qo=function(be,Ye,Et){var ar={};return Ye&&(ar={key:Ye}),{type:"ReactElement",displayName:be,props:ar,defaultProps:{},childrens:Et}},Bi=function(be){var Ye=be.key;return Boolean(Ye)},Wi=function(be){var Ye=be.childrens;return Ye.length===0},ws=function(yt,be,Ye,Et){var ar=yt.type,Hr=yt.key,In=yt.childrens;if(ar!=="ReactFragment")throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '.concat(ar));var Or=Et.useFragmentShortSyntax,en;return Or?Wi(yt)||Bi(yt)?en=gi:en=mi:en=gi,jr(Qo(en,Hr,In),be,Ye,Et)},io=["<",">","{","}"],Qn=function(be){return io.some(function(Ye){return be.includes(Ye)})},Lo=function(be){return Qn(be)?"{`".concat(be,"`}"):be},oo=function(be){var Ye=be;return Ye.endsWith(" ")&&(Ye=Ye.replace(/^(.*?)(\s+)$/,"$1{'$2'}")),Ye.startsWith(" ")&&(Ye=Ye.replace(/^(\s+)(.*)$/,"{'$1'}$2")),Ye},bi=function(yt,be,Ye,Et){if(yt.type==="number")return String(yt.value);if(yt.type==="string")return yt.value?"".concat(oo(Lo(String(yt.value)))):"";if(yt.type==="ReactElement")return jr(yt,be,Ye,Et);if(yt.type==="ReactFragment")return ws(yt,be,Ye,Et);throw new TypeError('Unknow format type "'.concat(yt.type,'"'))},Do=function(yt,be){return bi(yt,!1,0,be)},sa=function(be){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=Ye.filterProps,ar=Et===void 0?[]:Et,Hr=Ye.showDefaultProps,In=Hr===void 0?!0:Hr,Or=Ye.showFunctions,en=Or===void 0?!1:Or,$n=Ye.functionValue,Yn=Ye.tabStop,hn=Yn===void 0?2:Yn,Eo=Ye.useBooleanShorthandSyntax,Jn=Eo===void 0?!0:Eo,ua=Ye.useFragmentShortSyntax,Ra=ua===void 0?!0:ua,Vt=Ye.sortProps,Ei=Vt===void 0?!0:Vt,zn=Ye.maxInlineAttributesLineLength,Y=Ye.displayName;if(!be)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var ne={filterProps:ar,showDefaultProps:In,showFunctions:en,functionValue:$n,tabStop:hn,useBooleanShorthandSyntax:Jn,useFragmentShortSyntax:Ra,sortProps:Ei,maxInlineAttributesLineLength:zn,displayName:Y};return Do(St(be,ne),ne)};e.default=sa,e.inlineFunction=fr,e.preserveFunctionLineBreak=Rt})(uO);Object.defineProperty(c2,"__esModule",{value:!0});c2.createValue=HC;c2.createValues=lO;var E7=T7(uO),k7=$h.exports,Wb=Vl;function T7(e){return e&&e.__esModule?e:{default:e}}function lO(e){var t={};return Object.keys(e).forEach(function(r){t[r]=HC(e[r])}),t}function HC(e){return(0,Wb.isPrimitiveData)(e)?{type:"primitive",data:e}:(0,Wb.isArray)(e)?{type:"array",values:e.map(function(t){return HC(t)})}:(0,Wb.isObject)(e)?{type:"object",values:lO(e)}:{type:"unserializable",stringifiedData:P7(e)}}function P7(e){return(0,k7.isElement)(e)?(0,E7.default)(e):String(e)}var f2={};Object.defineProperty(f2,"__esModule",{value:!0});f2.extendWithValue=qC;f2.extendWithValues=cO;var B5=Vl;function cO(e,t){var r={};return Object.keys(t).forEach(function(i){r[i]=qC(e[i],t[i])}),r}function qC(e,t){if(t.type==="unserializable")return e;if(t.type==="object"){var r=(0,B5.isObject)(e)?e:{};return cO(r,t.values)}if(t.type==="array"){var i=(0,B5.isArray)(e)?e:[];return t.values.map(function(s,l){return qC(i[l],s)})}return t.data}var Cf={},p2={},my={};Object.defineProperty(my,"__esModule",{value:!0});my.removeItemMatch=B7;my.replaceOrAddItem=F7;my.updateItem=D7;var fO=_s.exports;function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function N5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(i){I7(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function I7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){return L7(e)||R7(e)||M7(e)||O7()}function O7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7(e,t){if(!!e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function R7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L7(e){if(Array.isArray(e))return B3(e)}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function D7(e,t,r){var i=e.indexOf(t);return[].concat(DA(e.slice(0,i)),[N5(N5({},t),r)],DA(e.slice(i+1)))}function F7(e,t,r){var i=(0,fO.findIndex)(e,t);return i!==-1?[].concat(DA(e.slice(0,i)),[r],DA(e.slice(i+1))):[].concat(DA(e),[r])}function B7(e,t){var r=(0,fO.findIndex)(e,t);return r===-1?DA(e):[].concat(DA(e.slice(0,r)),DA(e.slice(r+1)))}var A2={};Object.defineProperty(A2,"__esModule",{value:!0});A2.addTreeNodeChild=$7;A2.sortTreeChildren=AO;function U5(e){return j7(e)||U7(e)||N7(e)||z7()}function z7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(e,t){if(!!e){if(typeof e=="string")return z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z3(e,t)}}function U7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j7(e){if(Array.isArray(e))return z3(e)}function z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(i){pO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function pO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e,t,r){e.children||(e.children={}),e.children[t]=r}function AO(e){var t=e.children;if(!t)return e;var r=Object.keys(t),i=r.filter(function(l){return t[l].children}),s=r.filter(function(l){return!t[l].children});return e1(e1({},e),{},{children:[].concat(U5(i.sort()),U5(s.sort())).reduce(function(l,a){return e1(e1({},l),{},pO({},a,AO(t[a])))},{})})}var GC={};Object.defineProperty(GC,"__esModule",{value:!0});GC.uuid=hO;function hO(e){return e?(Number(e)^Math.random()*16>>Number(e)/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,hO)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TreeNode",{enumerable:!0,get:function(){return r.TreeNode}}),Object.defineProperty(e,"addTreeNodeChild",{enumerable:!0,get:function(){return r.addTreeNodeChild}}),Object.defineProperty(e,"removeItemMatch",{enumerable:!0,get:function(){return t.removeItemMatch}}),Object.defineProperty(e,"replaceOrAddItem",{enumerable:!0,get:function(){return t.replaceOrAddItem}}),Object.defineProperty(e,"sortTreeChildren",{enumerable:!0,get:function(){return r.sortTreeChildren}}),Object.defineProperty(e,"updateItem",{enumerable:!0,get:function(){return t.updateItem}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return i.uuid}});var t=my,r=A2,i=GC})(p2);Object.defineProperty(Cf,"__esModule",{value:!0});Cf.DEFAULT_RENDER_KEY=void 0;Cf.createFixtureStateProps=H7;Cf.findFixtureStateProps=mO;Cf.getFixtureStateProps=V7;Cf.removeFixtureStateProps=Q7;Cf.resetFixtureStateProps=q7;Cf.updateFixtureStateProps=G7;var N3=_s.exports,h2=p2,dO=0;Cf.DEFAULT_RENDER_KEY=dO;function V7(e,t){var r=e.props;return r?r.filter(function(i){return i.elementId.decoratorId===t}):[]}function mO(e,t){var r=e.props;return r&&(0,N3.find)(r,function(i){return(0,N3.isEqual)(i.elementId,t)})}function H7(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=e.componentName,l=t.props,a=l===void 0?[]:l;return(0,h2.replaceOrAddItem)(a,gO(r),{elementId:r,values:i,renderKey:dO,componentName:s})}function q7(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=yO(t,r);return(0,h2.updateItem)(t.props,s,{values:i,renderKey:s.renderKey+1})}function G7(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=yO(t,r);return(0,h2.updateItem)(t.props,s,{values:i})}function Q7(e,t){return(0,h2.removeItemMatch)(e.props||[],gO(t))}function gO(e){return function(t){return(0,N3.isEqual)(t.elementId,e)}}function yO(e,t){var r=mO(e,t);if(!r){var i=JSON.stringify(t);throw new Error('Fixture state props missing for element "'.concat(i,'"'))}return r}var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.createFixtureStateClassState=Z7;Vh.findFixtureStateClassState=vO;Vh.getFixtureStateClassState=W7;Vh.removeFixtureStateClassState=X7;Vh.updateFixtureStateClassState=K7;var U3=_s.exports,QC=p2;function W7(e,t){var r=e.classState;return r?r.filter(function(i){return i.elementId.decoratorId===t}):[]}function vO(e,t){var r=e.classState;return r&&(0,U3.find)(r,function(i){return(0,U3.isEqual)(i.elementId,t)})}function Z7(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=e.componentName,l=t.classState,a=l===void 0?[]:l;return(0,QC.replaceOrAddItem)(a,_O(r),{elementId:r,values:i,componentName:s})}function K7(e){var t=e.fixtureState,r=e.elementId,i=e.values,s=Y7(t,r);return(0,QC.updateItem)(t.classState,s,{values:i})}function X7(e,t){return(0,QC.removeItemMatch)(e.classState||[],_O(t))}function _O(e){return function(t){return(0,U3.isEqual)(t.elementId,e)}}function Y7(e,t){var r=vO(e,t);if(!r){var i=JSON.stringify(t);throw new Error('Fixture state class state missing for element "'.concat(i,'"'))}return r}var WC={};Object.defineProperty(WC,"__esModule",{value:!0});WC.findFixtureStateControl=J7;function J7(e,t){var r=e.controls;return r&&r[t]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ArrayData",{enumerable:!0,get:function(){return t.ArrayData}}),Object.defineProperty(e,"DEFAULT_RENDER_KEY",{enumerable:!0,get:function(){return s.DEFAULT_RENDER_KEY}}),Object.defineProperty(e,"FixtureDecoratorId",{enumerable:!0,get:function(){return t.FixtureDecoratorId}}),Object.defineProperty(e,"FixtureElementId",{enumerable:!0,get:function(){return t.FixtureElementId}}),Object.defineProperty(e,"FixtureState",{enumerable:!0,get:function(){return t.FixtureState}}),Object.defineProperty(e,"FixtureStateArrayValue",{enumerable:!0,get:function(){return t.FixtureStateArrayValue}}),Object.defineProperty(e,"FixtureStateClassState",{enumerable:!0,get:function(){return t.FixtureStateClassState}}),Object.defineProperty(e,"FixtureStateControl",{enumerable:!0,get:function(){return t.FixtureStateControl}}),Object.defineProperty(e,"FixtureStateControls",{enumerable:!0,get:function(){return t.FixtureStateControls}}),Object.defineProperty(e,"FixtureStateData",{enumerable:!0,get:function(){return t.FixtureStateData}}),Object.defineProperty(e,"FixtureStateObjectValue",{enumerable:!0,get:function(){return t.FixtureStateObjectValue}}),Object.defineProperty(e,"FixtureStatePrimitiveValue",{enumerable:!0,get:function(){return t.FixtureStatePrimitiveValue}}),Object.defineProperty(e,"FixtureStateProps",{enumerable:!0,get:function(){return t.FixtureStateProps}}),Object.defineProperty(e,"FixtureStateSelectControl",{enumerable:!0,get:function(){return t.FixtureStateSelectControl}}),Object.defineProperty(e,"FixtureStateStandardControl",{enumerable:!0,get:function(){return t.FixtureStateStandardControl}}),Object.defineProperty(e,"FixtureStateUnserializableValue",{enumerable:!0,get:function(){return t.FixtureStateUnserializableValue}}),Object.defineProperty(e,"FixtureStateValue",{enumerable:!0,get:function(){return t.FixtureStateValue}}),Object.defineProperty(e,"FixtureStateValues",{enumerable:!0,get:function(){return t.FixtureStateValues}}),Object.defineProperty(e,"ObjectData",{enumerable:!0,get:function(){return t.ObjectData}}),Object.defineProperty(e,"PrimitiveData",{enumerable:!0,get:function(){return t.PrimitiveData}}),Object.defineProperty(e,"SetFixtureState",{enumerable:!0,get:function(){return t.SetFixtureState}}),Object.defineProperty(e,"createFixtureStateClassState",{enumerable:!0,get:function(){return l.createFixtureStateClassState}}),Object.defineProperty(e,"createFixtureStateProps",{enumerable:!0,get:function(){return s.createFixtureStateProps}}),Object.defineProperty(e,"createValue",{enumerable:!0,get:function(){return r.createValue}}),Object.defineProperty(e,"createValues",{enumerable:!0,get:function(){return r.createValues}}),Object.defineProperty(e,"extendWithValue",{enumerable:!0,get:function(){return i.extendWithValue}}),Object.defineProperty(e,"extendWithValues",{enumerable:!0,get:function(){return i.extendWithValues}}),Object.defineProperty(e,"findFixtureStateClassState",{enumerable:!0,get:function(){return l.findFixtureStateClassState}}),Object.defineProperty(e,"findFixtureStateControl",{enumerable:!0,get:function(){return a.findFixtureStateControl}}),Object.defineProperty(e,"findFixtureStateProps",{enumerable:!0,get:function(){return s.findFixtureStateProps}}),Object.defineProperty(e,"getFixtureStateClassState",{enumerable:!0,get:function(){return l.getFixtureStateClassState}}),Object.defineProperty(e,"getFixtureStateProps",{enumerable:!0,get:function(){return s.getFixtureStateProps}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return t.isBoolean}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return t.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return t.isObject}}),Object.defineProperty(e,"isPrimitiveData",{enumerable:!0,get:function(){return t.isPrimitiveData}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return t.isString}}),Object.defineProperty(e,"removeFixtureStateClassState",{enumerable:!0,get:function(){return l.removeFixtureStateClassState}}),Object.defineProperty(e,"removeFixtureStateProps",{enumerable:!0,get:function(){return s.removeFixtureStateProps}}),Object.defineProperty(e,"resetFixtureStateProps",{enumerable:!0,get:function(){return s.resetFixtureStateProps}}),Object.defineProperty(e,"updateFixtureStateClassState",{enumerable:!0,get:function(){return l.updateFixtureStateClassState}}),Object.defineProperty(e,"updateFixtureStateProps",{enumerable:!0,get:function(){return s.updateFixtureStateProps}});var t=Vl,r=c2,i=f2,s=Cf,l=Vh,a=WC})(Rc);var Dc={},ZC={},d2={};Object.defineProperty(d2,"__esModule",{value:!0});d2.getComponentName=eB;var Zb=new WeakMap;function eB(e){if(typeof e=="string")return e;if(!Zb.has(e)){var t=e.displayName||e.name||"";Zb.set(e,t)}return Zb.get(e)}var m2={};Object.defineProperty(m2,"__esModule",{value:!0});m2.isReactElement=rB;var tB=$h.exports;function rB(e){return(0,tB.isElement)(e)}Object.defineProperty(ZC,"__esModule",{value:!0});ZC.areNodesEqual=KC;var dg=_s.exports,$5=d2,V5=m2;function KC(e,t,r){return(0,V5.isReactElement)(e)&&(0,V5.isReactElement)(t)?nB(e,t,r):Array.isArray(e)&&Array.isArray(t)?oB(e,t,r):H5(e)&&H5(t)?aB(e,t):(0,dg.isEqual)(e,t)}function nB(e,t,r){return iB(e.type,t.type,r)?e.key===t.key&&e.ref===t.ref&&KC(e.props,t.props,r):!1}function iB(e,t,r){return r?e===t:(0,$5.getComponentName)(e)===(0,$5.getComponentName)(t)}function oB(e,t,r){return e.length!==t.length?!1:e.every(function(i,s){return KC(i,t[s],r)})}function H5(e){return(0,dg.isPlainObject)(e)}function aB(e,t){return(0,dg.isEqual)(Object.keys(e),Object.keys(t))?Object.keys(e).every(function(r){return(0,dg.isEqualWith)(e[r],t[r],function(i,s){return typeof i=="function"&&typeof s=="function"?i===s||i.toString()===s.toString():(0,dg.isEqual)(i,s)})}):!1}var g2={},y2={};Object.defineProperty(y2,"__esModule",{value:!0});y2.isMultiFixture=uB;var sB=$h.exports;function j3(e){return j3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j3(e)}function uB(e){return e!==null&&j3(e)==="object"&&!(0,sB.isElement)(e)}Object.defineProperty(g2,"__esModule",{value:!0});g2.getFixtureListFromExports=fB;g2.getFixtureListFromWrappers=cB;var lB=y2;function q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(r),!0).forEach(function(i){XC(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function XC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){return Object.keys(e).reduce(function(t,r){return C_(C_({},t),{},XC({},r,pB(e[r])))},{})}function fB(e){return Object.keys(e).reduce(function(t,r){return C_(C_({},t),{},XC({},r,xO(e[r])))},{})}function pB(e){return xO(e.module.default)}function xO(e){return(0,lB.isMultiFixture)(e)?{type:"multi",fixtureNames:Object.keys(e)}:{type:"single"}}var YC={};Object.defineProperty(YC,"__esModule",{value:!0});YC.getSortedDecoratorsForFixturePath=yB;function AB(e){return gB(e)||mB(e)||dB(e)||hB()}function hB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dB(e,t){if(!!e){if(typeof e=="string")return $3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $3(e,t)}}function mB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gB(e){if(Array.isArray(e))return $3(e)}function $3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function G5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Q5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(r),!0).forEach(function(i){bO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function bO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e,t){return bB(vB(t,e))}function vB(e,t){return Object.keys(e).filter(function(r){return _B(xB(r),t)}).reduce(function(r,i){return Q5(Q5({},r),{},bO({},i,e[i]))},{})}function _B(e,t){return e===""||t.indexOf("".concat(e,"/"))===0}function xB(e){return e.replace(/^((.+)\/)?.+$/,"$2")}function bB(e){return wB(Object.keys(e)).map(function(t){return e[t]})}function wB(e){return AB(e).sort(function(t,r){return W5(t)-W5(r)||t.localeCompare(r)})}function W5(e){return e.split("/").length}var wO={};Object.defineProperty(wO,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReactDecorator",{enumerable:!0,get:function(){return x.ReactDecorator}}),Object.defineProperty(e,"ReactDecoratorProps",{enumerable:!0,get:function(){return x.ReactDecoratorProps}}),Object.defineProperty(e,"ReactDecorators",{enumerable:!0,get:function(){return x.ReactDecorators}}),Object.defineProperty(e,"ReactFixture",{enumerable:!0,get:function(){return x.ReactFixture}}),Object.defineProperty(e,"ReactFixtureExport",{enumerable:!0,get:function(){return x.ReactFixtureExport}}),Object.defineProperty(e,"ReactFixtureExports",{enumerable:!0,get:function(){return x.ReactFixtureExports}}),Object.defineProperty(e,"ReactFixtureMap",{enumerable:!0,get:function(){return x.ReactFixtureMap}}),Object.defineProperty(e,"ReactFixtureModule",{enumerable:!0,get:function(){return x.ReactFixtureModule}}),Object.defineProperty(e,"ReactFixtureWrapper",{enumerable:!0,get:function(){return x.ReactFixtureWrapper}}),Object.defineProperty(e,"ReactFixtureWrappers",{enumerable:!0,get:function(){return x.ReactFixtureWrappers}}),Object.defineProperty(e,"areNodesEqual",{enumerable:!0,get:function(){return t.areNodesEqual}}),Object.defineProperty(e,"getComponentName",{enumerable:!0,get:function(){return r.getComponentName}}),Object.defineProperty(e,"getFixtureListFromExports",{enumerable:!0,get:function(){return i.getFixtureListFromExports}}),Object.defineProperty(e,"getFixtureListFromWrappers",{enumerable:!0,get:function(){return i.getFixtureListFromWrappers}}),Object.defineProperty(e,"getSortedDecoratorsForFixturePath",{enumerable:!0,get:function(){return s.getSortedDecoratorsForFixturePath}}),Object.defineProperty(e,"isMultiFixture",{enumerable:!0,get:function(){return l.isMultiFixture}}),Object.defineProperty(e,"isReactElement",{enumerable:!0,get:function(){return a.isReactElement}});var t=ZC,r=d2,i=g2,s=YC,l=y2,a=m2,x=wO})(Dc);var su={};Object.defineProperty(su,"__esModule",{value:!0});su.FixtureContext=void 0;var SB=hr.exports,CB=(0,SB.createContext)({fixtureState:{},setFixtureState:function(){}});su.FixtureContext=CB;var Hh={},gy={},JC={},qh={};Object.defineProperty(qh,"__esModule",{value:!0});qh.getChildrenPath=EB;qh.isRootPath=SO;function EB(e){return SO(e)?"props.children":"".concat(e,".props.children")}function SO(e){return e===""}Object.defineProperty(JC,"__esModule",{value:!0});JC.findElementPaths=H3;var kB=_s.exports,TB=hr.exports,PB=Dc,IB=qh;function OB(e){return DB(e)||LB(e)||RB(e)||MB()}function MB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RB(e,t){if(!!e){if(typeof e=="string")return V3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(e,t)}}function LB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DB(e){if(Array.isArray(e))return V3(e)}function V3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function H3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Array.isArray(e))return(0,kB.flatten)(e.map(function(s,l){return H3(s,"".concat(t,"[").concat(l,"]"))}));if(!(0,PB.isReactElement)(e))return[];var r=e.props.children,i=typeof r!="function"?H3(r,(0,IB.getChildrenPath)(t)):[];return e.type===TB.Fragment?i:[t].concat(OB(i))}var yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.getElementAtPath=CO;yy.getExpectedElementAtPath=zB;var FB=_s.exports,Z5=Dc,BB=qh;function CO(e,t){if(!(0,Z5.isReactElement)(e)&&!Array.isArray(e))return null;var r=e,i=(0,BB.isRootPath)(t)?r:(0,FB.get)(r,t);return(0,Z5.isReactElement)(i)?i:null}function zB(e,t){var r=CO(e,t);if(!r)throw new Error("Element not found at path: ".concat(t));return r}var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.setElementAtPath=QB;var NB=_s.exports,UB=Dc,jB=yy,$B=qh,VB=["children"];function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(i){HB(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function HB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e,t){if(e==null)return{};var r=GB(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function GB(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function QB(e,t,r){var i=(0,jB.getExpectedElementAtPath)(e,t),s=r(i);return(0,$B.isRootPath)(t)?s:(0,NB.set)(q3(e),t,s)}function q3(e){if(Array.isArray(e))return e.map(function(s){return q3(s)});if((0,UB.isReactElement)(e)){var t=e.props,r=t.children,i=qB(t,VB);return t1(t1({},e),{},{props:t1(t1({},i),{},{children:q3(r)})})}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"findElementPaths",{enumerable:!0,get:function(){return t.findElementPaths}}),Object.defineProperty(e,"getChildrenPath",{enumerable:!0,get:function(){return s.getChildrenPath}}),Object.defineProperty(e,"getElementAtPath",{enumerable:!0,get:function(){return r.getElementAtPath}}),Object.defineProperty(e,"getExpectedElementAtPath",{enumerable:!0,get:function(){return r.getExpectedElementAtPath}}),Object.defineProperty(e,"setElementAtPath",{enumerable:!0,get:function(){return i.setElementAtPath}});var t=JC,r=yy,i=eE,s=qh})(gy);Object.defineProperty(Hh,"__esModule",{value:!0});Hh.findRelevantElementPaths=WB;var X5=gy;function G3(e){return G3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G3(e)}function WB(e){var t=(0,X5.findElementPaths)(e);return t.filter(function(r){var i=(0,X5.getExpectedElementAtPath)(e,r),s=i.type;if(G3(s)==="symbol")return!1;if(typeof s=="string")return ZB(s);var l=s;return l.cosmosCapture!==!1&&KB(l)})}function ZB(e){return e!=="div"&&e!=="span"}function KB(e){return e.name!=="StyledComponent"}var tE={},rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.isRefSupported=ez;var XB=JB(hr.exports),YB=$h.exports;function JB(e){return e&&e.__esModule?e:{default:e}}function ez(e){if(typeof e=="string")return!1;var t=e,r=t.$$typeof,i=t.prototype;return r===YB.ForwardRef||i&&(i instanceof XB.default.Component||i.getInitialState!==void 0)&&!0}Object.defineProperty(tE,"__esModule",{value:!0});tE.decorateFixtureRefs=az;var tz=oz(hr.exports),rz=gy,nz=Hh,iz=rE;function oz(e){return e&&e.__esModule?e:{default:e}}function az(e,t,r){var i=(0,nz.findRelevantElementPaths)(e);return i.reduce(function(s,l){return(0,rz.setElementAtPath)(s,l,function(a){return(0,iz.isRefSupported)(a.type)?tz.default.cloneElement(a,{ref:sz(a.ref,t,l,r)}):a})},e)}function sz(e,t,r,i){var s=i[r];if(s&&s.origRef===e)return s.handler;var l=uz(e,t,r);return i[r]={origRef:e,handler:l},l}function uz(e,t,r){return function(i){e&&lz(e,i),t(r,i)}}function lz(e,t){if(typeof e=="string"){console.warn("[decorateFixtureRefs] String refs are not supported");return}if(typeof e=="function"){e(t);return}var r=e;r.current=t}var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.replaceState=fz;var cz=_s.exports;function Y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function J5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(r),!0).forEach(function(i){EO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function EO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e,t){var r=pz(e.state,t);(0,cz.isEqual)(r,e.state)||e.setState(r)}function pz(e,t){return Object.keys(e).reduce(function(r,i){return Object.keys(r).indexOf(i)===-1?J5(J5({},r),{},EO({},i,void 0)):r},t)}Object.defineProperty(UC,"__esModule",{value:!0});UC.useFixtureState=yz;var ek=_s.exports,Ap=mz(hr.exports),wc=Rc,tk=Dc,Az=su,hz=Hh,dz=tE,Kb=nE;function mz(e){return e&&e.__esModule?e:{default:e}}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(i){gz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function gz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e,t,r){var i=(0,hz.findRelevantElementPaths)(e),s=Ap.default.useContext(Az.FixtureContext),l=s.fixtureState,a=s.setFixtureState,x=vz(l),S=Ap.default.useRef(l),P=Ap.default.useRef({}),R=Ap.default.useRef({});return Ap.default.useEffect(function(){return function(){P.current={},R.current={}}},[]),Ap.default.useEffect(function(){var N=(0,wc.getFixtureStateClassState)(l,t);N.forEach(function($){var Z=$.elementId,J=Z.elPath;i.indexOf(Z.elPath)===-1&&(a(function(ae){return Id(Id({},ae),{},{classState:(0,wc.removeFixtureStateClassState)(l,Z)})}),r.current[J]&&(delete r.current[J],delete P.current[J],delete R.current[J]))}),i.forEach(function($){var Z={decoratorId:t,elPath:$},J=(0,wc.findFixtureStateClassState)(l,Z);if(J){var K=r.current[$];if(!K)return;var se=(0,wc.findFixtureStateClassState)(S.current,Z);if(se&&!(0,ek.isEqual)(se,J))return(0,Kb.replaceState)(K,(0,wc.extendWithValues)(K.state,J.values))}else if(P.current[$]){var ae=P.current[$].state,V=r.current[$];(0,ek.isEqual)(V.state,ae)||(0,Kb.replaceState)(V,ae),a(function(me){return Id(Id({},me),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:me,elementId:Z,values:(0,wc.createValues)(ae),componentName:(0,tk.getComponentName)(V.constructor)})})})}})},[t,i,r,l,l.classState,a]),Ap.default.useEffect(function(){S.current=l}),(0,dz.decorateFixtureRefs)(e,z,R.current);function z(N,$){if(!$){delete r.current[N];return}var Z=$.state;if(!!Z){r.current[N]=$,_z(P.current,N,$);var J={decoratorId:t,elPath:N},ae=(0,wc.findFixtureStateClassState)(x.current,J);ae?(0,Kb.replaceState)($,(0,wc.extendWithValues)(Z,ae.values)):a(function(V){return Id(Id({},V),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:V,elementId:J,values:(0,wc.createValues)(Z),componentName:(0,tk.getComponentName)($.constructor)})})})}}}function vz(e){var t=Ap.default.useRef(e);return Ap.default.useEffect(function(){t.current=e}),t}function _z(e,t,r){var i=e[t],s=r.constructor,l=i&&i.type===s;!l&&r.state&&(e[t]={type:s,state:r.state})}var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.useReadClassState=Tz;var xz=_s.exports,Xb=Sz(hr.exports),H1=Rc,bz=su,wz=Hh;function Sz(e){return e&&e.__esModule?e:{default:e}}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(i){Cz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Cz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ok(e,t,r,i,s,l,a){try{var x=e[l](a),S=x.value}catch(P){r(P);return}x.done?t(S):Promise.resolve(S).then(i,s)}function Ez(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var l=e.apply(t,r);function a(S){ok(l,i,s,a,x,"next",S)}function x(S){ok(l,i,s,a,x,"throw",S)}a(void 0)})}}var kz=200;function Tz(e,t,r){var i=(0,wz.findRelevantElementPaths)(e),s=Xb.default.useContext(bz.FixtureContext),l=s.fixtureState,a=s.setFixtureState,x=Xb.default.useRef(null);Xb.default.useEffect(function(){return S(),function(){x.current&&clearTimeout(x.current)}});function S(){x.current=window.setTimeout(P,kz)}function P(){var R=!1;Object.keys(r.current).map(function(){var z=Ez(regeneratorRuntime.mark(function N($){var Z,J,ae;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(i.indexOf($)!==-1){K.next=2;break}throw new Error('[FixtureCapture] Child ref exists for missing element path "'.concat($,'"'));case 2:Z=r.current[$].state,J={decoratorId:t,elPath:$},ae=(0,H1.findFixtureStateClassState)(l,J),ae&&Z&&!Pz(ae,Z)&&(R=!0,a(function(se){return ik(ik({},se),{},{classState:(0,H1.updateFixtureStateClassState)({fixtureState:se,elementId:J,values:(0,H1.createValues)(Z)})})}));case 6:case"end":return K.stop()}},N)}));return function(N){return z.apply(this,arguments)}}()),R||S()}}function Pz(e,t){return(0,xz.isEqual)(t,(0,H1.extendWithValues)(t,e.values))}Object.defineProperty(NC,"__esModule",{value:!0});NC.useClassStateCapture=Rz;var ak=Mz(hr.exports),Iz=UC,Oz=iE;function Mz(e){return e&&e.__esModule?e:{default:e}}function Rz(e,t){var r=ak.default.useRef({});return ak.default.useEffect(function(){return function(){r.current={}}},[]),(0,Oz.useReadClassState)(e,t,r),(0,Iz.useFixtureState)(e,t,r)}var oE={},aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.useFixtureProps=Nz;var sk=_s.exports,Lz=Bz(hr.exports),Yb=Rc,Dz=Dc,Fz=Hh,kO=gy;function Bz(e){return e&&e.__esModule?e:{default:e}}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(i){zz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function zz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e,t,r){var i=Lz.default.useMemo(function(){return{}},[r]),s=(0,Fz.findRelevantElementPaths)(e);return s.reduce(function(l,a){var x={decoratorId:r,elPath:a},S=(0,Yb.findFixtureStateProps)(t,x);return(0,kO.setElementAtPath)(l,a,function(P){if(!S||$(S.componentName))return Od(Od({},P),{},{key:lk(a,Yb.DEFAULT_RENDER_KEY)});var R=P.props,z=(0,Yb.extendWithValues)(R,S.values),N=(0,sk.mapValues)(z,function(Z,J){var ae=Uz(a,J);return i.hasOwnProperty(ae)||(i[ae]=R[J]),(0,sk.isEqual)(i[ae],Z)?i[ae]:(i[ae]=Z,Z)});return Od(Od({},P),{},{props:jz(s,a)?Od(Od({},N),{},{children:R.children}):N,key:lk(a,S.renderKey)});function $(Z){return Z!==(0,Dz.getComponentName)(P.type)}})},e)}function Uz(e,t){return e?"".concat(e,"-").concat(t):t}function lk(e,t){return"".concat(e,"-").concat(t)}function jz(e,t){return e.some(function(r){return r.indexOf((0,kO.getChildrenPath)(t))===0})}Object.defineProperty(oE,"__esModule",{value:!0});oE.usePropsCapture=Qz;var r1=qz(hr.exports),_h=Rc,ck=Dc,$z=su,Vz=Hh,fk=gy,Hz=aE;function qz(e){return e&&e.__esModule?e:{default:e}}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(i){Gz(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Gz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e,t){var r=r1.default.useContext($z.FixtureContext),i=r.fixtureState,s=r.setFixtureState,l=r1.default.useRef(e),a=(0,Vz.findRelevantElementPaths)(e);return r1.default.useEffect(function(){if(!i.props&&a.length===0){s(function(S){return pA(pA({},S),{},{props:S.props||[]})});return}var x=(0,_h.getFixtureStateProps)(i,t);x.forEach(function(S){var P=S.elementId;a.indexOf(P.elPath)===-1&&s(function(R){return pA(pA({},R),{},{props:(0,_h.removeFixtureStateProps)(i,P)})})}),a.forEach(function(S){var P=(0,fk.getExpectedElementAtPath)(e,S),R={decoratorId:t,elPath:S};if((0,_h.findFixtureStateProps)(i,R)){var N=(0,fk.getElementAtPath)(l.current,S);(0,ck.areNodesEqual)(N,P,!1)||s(function($){return pA(pA({},$),{},{props:(0,_h.updateFixtureStateProps)({fixtureState:i,elementId:R,values:(0,_h.createValues)(P.props)})})})}else{var z=(0,ck.getComponentName)(P.type);s(function($){return pA(pA({},$),{},{props:(0,_h.createFixtureStateProps)({fixtureState:$,elementId:R,values:(0,_h.createValues)(P.props),componentName:z})})})}})},[e,t,a,i,i.props,s]),r1.default.useEffect(function(){l.current=e}),(0,Hz.useFixtureProps)(e,i,t)}Object.defineProperty(s2,"__esModule",{value:!0});s2.FixtureCapture=Xz;var Ak=Kz(hr.exports),Wz=NC,Zz=oE;function Kz(e){return e&&e.__esModule?e:{default:e}}function Xz(e){var t=e.children,r=e.decoratorId,i=(0,Zz.usePropsCapture)(t,r);return i=(0,Wz.useClassStateCapture)(i,r),Ak.default.createElement(Ak.default.Fragment,null,i)}var v2={},sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.getFixture=Yz;var hk=Dc;function Yz(e,t){if(t===void 0)return(0,hk.isMultiFixture)(e)?void 0:e;if(!!(0,hk.isMultiFixture)(e)){var r=e;return r[t]}}var uE={},_2={},lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.FixtureElement=TO;var Jz=eN(hr.exports);function eN(e){return e&&e.__esModule?e:{default:e}}function TO(e){var t=e.Component;return Jz.default.createElement(t,null)}TO.cosmosCapture=!1;Object.defineProperty(_2,"__esModule",{value:!0});_2.getDecoratedFixtureElement=lN;var Q3=nN(hr.exports),tN=s2,rN=lE;function nN(e){return e&&e.__esModule?e:{default:e}}function iN(e){return uN(e)||sN(e)||aN(e)||oN()}function oN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(e,t){if(!!e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function sN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uN(e){if(Array.isArray(e))return W3(e)}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function lN(e,t,r){var i=Q3.default.createElement(tN.FixtureCapture,{decoratorId:"root"},cN(e));return iN(t).reverse().reduce(function(s,l){return Q3.default.createElement(l,r,s)},i)}function cN(e){return fN(e)?Q3.default.createElement(rN.FixtureElement,{Component:e}):e}function fN(e){return typeof e=="function"}Object.defineProperty(uE,"__esModule",{value:!0});uE.FixtureProvider=_N;var Bm=dN(hr.exports),pN=Dc,AN=su,hN=_2;function dN(e){return e&&e.__esModule?e:{default:e}}function dk(e){return vN(e)||yN(e)||gN(e)||mN()}function mN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gN(e,t){if(!!e){if(typeof e=="string")return Z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(e,t)}}function yN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vN(e){if(Array.isArray(e))return Z3(e)}function Z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _N(e){var t=e.fixtureId,r=e.fixture,i=e.systemDecorators,s=e.userDecorators,l=e.fixtureState,a=e.setFixtureState,x=e.onErrorReset,S=Bm.default.useMemo(function(){return{fixtureState:l,setFixtureState:a}},[l,a]),P=Bm.default.useMemo(function(){return{fixtureState:l,setFixtureState:a,onErrorReset:x}},[l,x,a]),R=Bm.default.useMemo(function(){return xN(t,i,s)},[t,i,s]),z=Bm.default.useMemo(function(){return(0,hN.getDecoratedFixtureElement)(r,R,P)},[P,R,r]);return Bm.default.createElement(AN.FixtureContext.Provider,{value:S},z)}function xN(e,t,r){return[].concat(dk(t),dk((0,pN.getSortedDecoratorsForFixturePath)(e.path,r)))}function E_(e){return E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E_(e)}Object.defineProperty(v2,"__esModule",{value:!0});v2.FixtureLoader=void 0;var zm=_s.exports,mk=CN(hr.exports),bN=Dc,wN=sE,SN=uE;function PO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(PO=function(s){return s?r:t})(e)}function CN(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||E_(e)!=="object"&&typeof e!="function")return{default:e};var r=PO(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var a=s?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(i,l,a):i[l]=e[l]}return i.default=e,r&&r.set(e,i),i}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(i){qd(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function EN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yk(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kN(e,t,r){return t&&yk(e.prototype,t),r&&yk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K3(e,t)}function K3(e,t){return K3=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},K3(e,t)}function PN(e){var t=ON();return function(){var i=k_(e),s;if(t){var l=k_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return IN(this,s)}}function IN(e,t){if(t&&(E_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hd(e)}function Hd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},k_(e)}function qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MN(e){return e?{fixtureId:e,fixtureState:{},syncedFixtureState:{}}:null}var RN=function(e){TN(r,e);var t=PN(r);function r(){var i;EN(this,r);for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l)),qd(Hd(i),"state",{selectedFixture:MN(i.props.selectedFixtureId||i.props.initialFixtureId),renderKey:0}),qd(Hd(i),"unsubscribe",null),qd(Hd(i),"handleRequest",function(x){if(x.type==="pingRenderers")return i.postReadyState();if(!(!x.payload||x.payload.rendererId!==i.props.rendererId))switch(LN(x)&&i.fireChangeCallback(),x.type){case"selectFixture":return i.handleSelectFixtureRequest(x);case"unselectFixture":return i.handleUnselectFixtureRequest();case"setFixtureState":return i.handleSetFixtureStateRequest(x)}}),qd(Hd(i),"postFixtureStateChange",function(x,S){var P=i.props.rendererId;i.postMessage({type:"fixtureStateChange",payload:{rendererId:P,fixtureId:x,fixtureState:S}})}),qd(Hd(i),"setFixtureState",function(x){if(!i.state.selectedFixture){console.warn("[FixtureLoader] Trying to set fixture state with no fixture selected");return}i.setState(function(S){var P=S.selectedFixture;return P?{selectedFixture:n1(n1({},P),{},{fixtureState:x(P.fixtureState)})}:null})}),i}return kN(r,[{key:"componentDidMount",value:function(){if(!this.props.selectedFixtureId){var s=this.props.rendererConnect;this.unsubscribe=s.onMessage(this.handleRequest),this.postReadyState()}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"componentDidUpdate",value:function(s){var l=this.props.fixtures;(0,zm.isEqual)(l,s.fixtures)||this.postFixtureListUpdate();var a=this.state.selectedFixture;if(a){var x=a.fixtureId,S=a.fixtureState,P=a.syncedFixtureState;x&&!(0,zm.isEqual)(S,P)&&(this.postFixtureStateChange(x,S),this.updateSyncedFixtureState(S))}}},{key:"shouldComponentUpdate",value:function(s,l){return!(0,zm.isEqual)(this.props,s)||!(0,zm.isEqual)(this.state,l)}},{key:"render",value:function(){var s=this.state.selectedFixture;if(!s)return this.renderMessage("No fixture selected.");var l=this.props.fixtures,a=s.fixtureId,x=s.fixtureState;if(!l.hasOwnProperty(a.path))return this.renderMessage("Fixture path not found: ".concat(a.path));var S=l[a.path].module.default,P=(0,wN.getFixture)(S,a.name);if(typeof P>"u")return this.renderMessage("Invalid fixture ID: ".concat(JSON.stringify(a)));var R=this.props,z=R.systemDecorators,N=R.userDecorators,$=R.onErrorReset,Z=this.state.renderKey;return mk.default.createElement(SN.FixtureProvider,{key:Z,fixtureId:a,fixture:P,systemDecorators:z,userDecorators:N,fixtureState:x,setFixtureState:this.setFixtureState,onErrorReset:$||DN})}},{key:"handleSelectFixtureRequest",value:function(s){var l=s.payload,a=l.fixtureId,x=l.fixtureState;this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x},renderKey:this.state.renderKey+1})}},{key:"handleUnselectFixtureRequest",value:function(){this.setState({selectedFixture:null,renderKey:0})}},{key:"handleSetFixtureStateRequest",value:function(s){var l=s.payload,a=l.fixtureId,x=l.fixtureState,S=this.state.selectedFixture;S&&(0,zm.isEqual)(a,S.fixtureId)&&this.setState({selectedFixture:{fixtureId:a,fixtureState:x,syncedFixtureState:x}})}},{key:"postReadyState",value:function(){var s=this.props,l=s.rendererId,a=s.initialFixtureId,x=this.getFixtureList();this.postMessage({type:"rendererReady",payload:a?{rendererId:l,fixtures:x,initialFixtureId:a}:{rendererId:l,fixtures:x}})}},{key:"postFixtureListUpdate",value:function(){var s=this.props.rendererId;this.postMessage({type:"fixtureListUpdate",payload:{rendererId:s,fixtures:this.getFixtureList()}})}},{key:"getFixtureList",value:function(){return(0,bN.getFixtureListFromWrappers)(this.props.fixtures)}},{key:"fireChangeCallback",value:function(){var s=this.props.onErrorReset;typeof s=="function"&&s()}},{key:"updateSyncedFixtureState",value:function(s){this.setState(function(l){var a=l.selectedFixture;return a?{selectedFixture:n1(n1({},a),{},{syncedFixtureState:s})}:null})}},{key:"postMessage",value:function(s){this.props.rendererConnect.postMessage(s)}},{key:"renderMessage",value:function(s){return typeof this.props.renderMessage<"u"?this.props.renderMessage({msg:s}):s}}]),r}(mk.Component);v2.FixtureLoader=RN;function LN(e){return e.type==="selectFixture"||e.type==="unselectFixture"}function DN(){}var cE={},fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.registerShortcuts=FN;function FN(e){window.addEventListener("keydown",r);function t(i,s){i.preventDefault(),e(s)}function r(i){if(!BN()){var s=String.fromCharCode(i.keyCode),l=i.metaKey||i.ctrlKey;s==="P"&&l?t(i,"searchFixtures"):s==="L"&&l&&i.shiftKey?t(i,"toggleFixtureList"):s==="K"&&l&&i.shiftKey?t(i,"toggleControlPanel"):s==="F"&&l&&i.shiftKey?t(i,"goFullScreen"):s==="E"&&l&&i.shiftKey&&t(i,"editFixture")}}return function(){window.removeEventListener("keydown",r)}}function BN(){var e=document.activeElement;return e&&zN(e.tagName)}function zN(e){var t=["input","textarea","select"];return t.includes(e.toLowerCase())}Object.defineProperty(cE,"__esModule",{value:!0});cE.createPostMessageConnect=UN;var NN=fE;function UN(){function e(t){parent.postMessage(t,"*")}return{postMessage:e,onMessage:function(r){function i(l){r(l.data)}window.addEventListener("message",i,!1);var s=(0,NN.registerShortcuts)(function(l){e({type:"playgroundCommand",payload:{command:l}})});return function(){window.removeEventListener("message",i),s()}}}}var pE={},AE={},x2={};Object.defineProperty(x2,"__esModule",{value:!0});x2.getDefaultSelectValue=jN;function jN(e){var t=e.options,r=e.defaultValue;return typeof r=="string"?r:t[0]}function X3(e){return X3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X3(e)}Object.defineProperty(AE,"__esModule",{value:!0});AE.useCreateFixtureState=GN;var vk=qN(hr.exports),$N=Rc,VN=su,HN=x2;function IO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(IO=function(s){return s?r:t})(e)}function qN(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||X3(e)!=="object"&&typeof e!="function")return{default:e};var r=IO(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var a=s?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(i,l,a):i[l]=e[l]}return i.default=e,r&&r.set(e,i),i}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(i){OO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function OO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GN(e,t){var r=vk.default.useContext(VN.FixtureContext),i=r.setFixtureState,s=(0,HN.getDefaultSelectValue)(t);(0,vk.useEffect)(function(){i(function(l){var a=(0,$N.findFixtureStateControl)(l,e);return a&&a.type==="select"&&a.defaultValue===s?l:i1(i1({},l),{},{controls:i1(i1({},l.controls),{},OO({},e,{type:"select",options:t.options,defaultValue:s,currentValue:s}))})})},[t.options,s,e,i])}var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.useCurrentValue=XN;var QN=hr.exports,WN=Rc,ZN=su,KN=x2;function XN(e,t){var r=(0,QN.useContext)(ZN.FixtureContext),i=r.fixtureState,s=(0,WN.findFixtureStateControl)(i,e);return s&&s.type==="select"?s.currentValue:(0,KN.getDefaultSelectValue)(t)}var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.useSetValue=eU;var xk=hr.exports,YN=Rc,JN=su;function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(i){MO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function MO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=(0,xk.useContext)(JN.FixtureContext),r=t.setFixtureState;return(0,xk.useCallback)(function(i){r(function(s){var l=(0,YN.findFixtureStateControl)(s,e);return!l||l.type!=="select"?(console.warn("Invalid fixture state for select: ".concat(e)),s):Md(Md({},s),{},{controls:Md(Md({},s.controls),{},MO({},e,Md(Md({},l),{},{currentValue:i})))})})},[e,r])}Object.defineProperty(pE,"__esModule",{value:!0});pE.useSelect=iU;var tU=AE,rU=hE,nU=dE;function iU(e,t){if(!t||!t.options||!t.options.length)throw new Error("No options provided to useSelect");(0,tU.useCreateFixtureState)(e,t);var r=(0,rU.useCurrentValue)(e,t),i=(0,nU.useSetValue)(e);return[r,i]}var mE={},gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.useCreateFixtureState=uU;var oU=_s.exports,wk=sU(hr.exports),q1=Rc,aU=su;function sU(e){return e&&e.__esModule?e:{default:e}}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(i){RO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function RO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e,t){var r=wk.default.useContext(aU.FixtureContext),i=r.setFixtureState;wk.default.useEffect(function(){i(function(s){var l=(0,q1.findFixtureStateControl)(s,e);return l&&l.type==="standard"&&lU(l.defaultValue,t)?s:o1(o1({},s),{},{controls:o1(o1({},s.controls),{},RO({},e,{type:"standard",defaultValue:(0,q1.createValue)(t),currentValue:(0,q1.createValue)(t)}))})})},[i,e,t])}function lU(e,t){return(0,oU.isEqual)(t,(0,q1.extendWithValue)(t,e))}var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.useCurrentValue=AU;var cU=pU(hr.exports),Ck=Rc,fU=su;function pU(e){return e&&e.__esModule?e:{default:e}}function AU(e,t){var r=cU.default.useContext(fU.FixtureContext),i=r.fixtureState,s=(0,Ck.findFixtureStateControl)(i,e);return s&&s.type==="standard"?(0,Ck.extendWithValue)(t,s.currentValue):t}var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.useSetValue=mU;var Ek=dU(hr.exports),T_=Rc,hU=su;function dU(e){return e&&e.__esModule?e:{default:e}}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(i){LO(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function LO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e,t){var r=Ek.default.useContext(hU.FixtureContext),i=r.setFixtureState;return Ek.default.useCallback(function(s){i(function(l){var a=typeof s=="function"?s(gU(l,e,t)):s;return a1(a1({},l),{},{controls:a1(a1({},l.controls),{},LO({},e,{type:"standard",defaultValue:(0,T_.createValue)(t),currentValue:(0,T_.createValue)(a)}))})})},[i,t,e])}function gU(e,t,r){var i=(0,T_.findFixtureStateControl)(e,t);return i&&i.type==="standard"?(0,T_.extendWithValue)(r,i.currentValue):r}Object.defineProperty(mE,"__esModule",{value:!0});mE.useValue=xU;var yU=gE,vU=yE,_U=vE;function xU(e,t){var r=t.defaultValue;(0,yU.useCreateFixtureState)(e,r);var i=(0,vU.useCurrentValue)(e,r),s=(0,_U.useSetValue)(e,r);return[i,s]}var b2={};Object.defineProperty(b2,"__esModule",{value:!0});b2.Viewport=void 0;var s1=wU(hr.exports),bU=su;function wU(e){return e&&e.__esModule?e:{default:e}}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(i){SU(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function SU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DO=function(t){var r=t.children,i=t.width,s=t.height,l=s1.default.useContext(bU.FixtureContext),a=l.setFixtureState;return s1.default.useEffect(function(){a(function(x){return Pk(Pk({},x),{},{viewport:{width:i,height:s}})})},[a,i,s]),s1.default.createElement(s1.default.Fragment,null,r)};b2.Viewport=DO;DO.cosmosCapture=!1;var _E={},Y3={exports:{}},CU=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],FO=function(t){var r=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var l=CU.exec(t||""),a={},x=14;x--;)a[EU[x]]=l[x]||"";return i!=-1&&s!=-1&&(a.source=r,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a},k0={exports:{}},J3={exports:{}},Ug=1e3,jg=Ug*60,$g=jg*60,Vg=$g*24,kU=Vg*365.25,TU=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return PU(e);if(r==="number"&&isNaN(e)===!1)return t.long?OU(e):IU(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function PU(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*kU;case"days":case"day":case"d":return r*Vg;case"hours":case"hour":case"hrs":case"hr":case"h":return r*$g;case"minutes":case"minute":case"mins":case"min":case"m":return r*jg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ug;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function IU(e){return e>=Vg?Math.round(e/Vg)+"d":e>=$g?Math.round(e/$g)+"h":e>=jg?Math.round(e/jg)+"m":e>=Ug?Math.round(e/Ug)+"s":e+"ms"}function OU(e){return u1(e,Vg,"day")||u1(e,$g,"hour")||u1(e,jg,"minute")||u1(e,Ug,"second")||e+" ms"}function u1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=TU,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(se,me){if(se==="%%")return se;V++;var Ae=t.formatters[me];if(typeof Ae=="function"){var ue=J[V];se=Ae.call(N,ue),J.splice(V,1),V--}return se}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(J3,J3.exports);(function(e,t){t=e.exports=J3.exports,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(k0,k0.exports);var MU=FO,Ik=k0.exports("socket.io-client:url"),RU=LU;function LU(e,t){var r=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(Ik("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),Ik("parse %s",e),r=MU(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=r.host.indexOf(":")!==-1,s=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}var w2={},eS={exports:{}},tS={exports:{}},Hg=1e3,qg=Hg*60,Gg=qg*60,Qg=Gg*24,DU=Qg*365.25,FU=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return BU(e);if(r==="number"&&isNaN(e)===!1)return t.long?NU(e):zU(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function BU(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*DU;case"days":case"day":case"d":return r*Qg;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gg;case"minutes":case"minute":case"mins":case"min":case"m":return r*qg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Hg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function zU(e){return e>=Qg?Math.round(e/Qg)+"d":e>=Gg?Math.round(e/Gg)+"h":e>=qg?Math.round(e/qg)+"m":e>=Hg?Math.round(e/Hg)+"s":e+"ms"}function NU(e){return l1(e,Qg,"day")||l1(e,Gg,"hour")||l1(e,qg,"minute")||l1(e,Hg,"second")||e+" ms"}function l1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=FU,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(se,me){if(se==="%%")return se;V++;var Ae=t.formatters[me];if(typeof Ae=="function"){var ue=J[V];se=Ae.call(N,ue),J.splice(V,1),V--}return se}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(tS,tS.exports);(function(e,t){t=e.exports=tS.exports,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(eS,eS.exports);var BO={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return l.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(BO);var S2={},UU={}.toString,xE=Array.isArray||function(e){return UU.call(e)=="[object Array]"},zO=HU,jU=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",$U=typeof ArrayBuffer=="function",VU=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function HU(e){return jU&&Buffer.isBuffer(e)||$U&&(e instanceof ArrayBuffer||VU(e))}var bE=xE,NO=zO,UO=Object.prototype.toString,qU=typeof Blob=="function"||typeof Blob<"u"&&UO.call(Blob)==="[object BlobConstructor]",GU=typeof File=="function"||typeof File<"u"&&UO.call(File)==="[object FileConstructor]";S2.deconstructPacket=function(e){var t=[],r=e.data,i=e;return i.data=rS(r,t),i.attachments=t.length,{packet:i,buffers:t}};function rS(e,t){if(!e)return e;if(NO(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(bE(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=rS(e[s],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){var i={};for(var l in e)i[l]=rS(e[l],t);return i}return e}S2.reconstructPacket=function(e,t){return e.data=nS(e.data,t),e.attachments=void 0,e};function nS(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(bE(e))for(var r=0;r<e.length;r++)e[r]=nS(e[r],t);else if(typeof e=="object")for(var i in e)e[i]=nS(e[i],t);return e}S2.removeBlobs=function(e,t){function r(l,a,x){if(!l)return l;if(qU&&l instanceof Blob||GU&&l instanceof File){i++;var S=new FileReader;S.onload=function(){x?x[a]=this.result:s=this.result,--i||t(s)},S.readAsArrayBuffer(l)}else if(bE(l))for(var P=0;P<l.length;P++)r(l[P],P,l);else if(typeof l=="object"&&!NO(l))for(var R in l)r(l[R],R,l)}var i=0,s=e;r(s),i||t(s)};(function(e){var t=eS.exports("socket.io-parser"),r=BO.exports,i=S2,s=xE,l=zO;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=a,e.Decoder=z;function a(){}var x=e.ERROR+'"encode error"';a.prototype.encode=function(ae,V){if(t("encoding packet %j",ae),e.BINARY_EVENT===ae.type||e.BINARY_ACK===ae.type)R(ae,V);else{var K=S(ae);V([K])}};function S(ae){var V=""+ae.type;if((e.BINARY_EVENT===ae.type||e.BINARY_ACK===ae.type)&&(V+=ae.attachments+"-"),ae.nsp&&ae.nsp!=="/"&&(V+=ae.nsp+","),ae.id!=null&&(V+=ae.id),ae.data!=null){var K=P(ae.data);if(K!==!1)V+=K;else return x}return t("encoded %j as %s",ae,V),V}function P(ae){try{return JSON.stringify(ae)}catch{return!1}}function R(ae,V){function K(se){var me=i.deconstructPacket(se),Ae=S(me.packet),ue=me.buffers;ue.unshift(Ae),V(ue)}i.removeBlobs(ae,K)}function z(){this.reconstructor=null}r(z.prototype),z.prototype.add=function(ae){var V;if(typeof ae=="string")V=N(ae),e.BINARY_EVENT===V.type||e.BINARY_ACK===V.type?(this.reconstructor=new Z(V),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",V)):this.emit("decoded",V);else if(l(ae)||ae.base64)if(this.reconstructor)V=this.reconstructor.takeBinaryData(ae),V&&(this.reconstructor=null,this.emit("decoded",V));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+ae)};function N(ae){var V=0,K={type:Number(ae.charAt(0))};if(e.types[K.type]==null)return J("unknown packet type "+K.type);if(e.BINARY_EVENT===K.type||e.BINARY_ACK===K.type){for(var se=V+1;ae.charAt(++V)!=="-"&&V!=ae.length;);var me=ae.substring(se,V);if(me!=Number(me)||ae.charAt(V)!=="-")throw new Error("Illegal attachments");K.attachments=Number(me)}if(ae.charAt(V+1)==="/"){for(var se=V+1;++V;){var Ae=ae.charAt(V);if(Ae===","||V===ae.length)break}K.nsp=ae.substring(se,V)}else K.nsp="/";var ue=ae.charAt(V+1);if(ue!==""&&Number(ue)==ue){for(var se=V+1;++V;){var Ae=ae.charAt(V);if(Ae==null||Number(Ae)!=Ae){--V;break}if(V===ae.length)break}K.id=Number(ae.substring(se,V+1))}if(ae.charAt(++V)){var Se=$(ae.substr(V)),Ce=Se!==!1&&(K.type===e.ERROR||s(Se));if(Ce)K.data=Se;else return J("invalid payload")}return t("decoded %s as %j",ae,K),K}function $(ae){try{return JSON.parse(ae)}catch{return!1}}z.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function Z(ae){this.reconPack=ae,this.buffers=[]}Z.prototype.takeBinaryData=function(ae){if(this.buffers.push(ae),this.buffers.length===this.reconPack.attachments){var V=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),V}return null},Z.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function J(ae){return{type:e.ERROR,data:"parser error: "+ae}}})(w2);var jO={exports:{}},C2={},iS={exports:{}};try{iS.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{iS.exports=!1}var QU=iS.exports,wE=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||QU))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&i)return new XDomainRequest}catch{}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},SE={exports:{}},Gh={},WU=Object.keys||function(t){var r=[],i=Object.prototype.hasOwnProperty;for(var s in t)i.call(t,s)&&r.push(s);return r},ZU=xE,$O=Object.prototype.toString,KU=typeof Blob=="function"||typeof Blob<"u"&&$O.call(Blob)==="[object BlobConstructor]",XU=typeof File=="function"||typeof File<"u"&&$O.call(File)==="[object FileConstructor]",VO=G1;function G1(e){if(!e||typeof e!="object")return!1;if(ZU(e)){for(var t=0,r=e.length;t<r;t++)if(G1(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||KU&&e instanceof Blob||XU&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return G1(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&G1(e[i]))return!0;return!1}var YU=function(e,t,r){var i=e.byteLength;if(t=t||0,r=r||i,e.slice)return e.slice(t,r);if(t<0&&(t+=i),r<0&&(r+=i),r>i&&(r=i),t>=i||t>=r||i===0)return new ArrayBuffer(0);for(var s=new Uint8Array(e),l=new Uint8Array(r-t),a=t,x=0;a<r;a++,x++)l[x]=s[a];return l.buffer},JU=ej;function ej(e,t,r){var i=!1;return r=r||tj,s.count=e,e===0?t():s;function s(l,a){if(s.count<=0)throw new Error("after called too many times");--s.count,l?(i=!0,t(l),t=r):s.count===0&&!i&&t(null,a)}}function tj(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var bA=String.fromCharCode;function HO(e){for(var t=[],r=0,i=e.length,s,l;r<i;)s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<i?(l=e.charCodeAt(r++),(l&64512)==56320?t.push(((s&1023)<<10)+(l&1023)+65536):(t.push(s),r--)):t.push(s);return t}function rj(e){for(var t=e.length,r=-1,i,s="";++r<t;)i=e[r],i>65535&&(i-=65536,s+=bA(i>>>10&1023|55296),i=56320|i&1023),s+=bA(i);return s}function qO(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Jb(e,t){return bA(e>>t&63|128)}function nj(e,t){if((e&4294967168)==0)return bA(e);var r="";return(e&4294965248)==0?r=bA(e>>6&31|192):(e&4294901760)==0?(qO(e,t)||(e=65533),r=bA(e>>12&15|224),r+=Jb(e,6)):(e&4292870144)==0&&(r=bA(e>>18&7|240),r+=Jb(e,12),r+=Jb(e,6)),r+=bA(e&63|128),r}function ij(e,t){t=t||{};for(var r=t.strict!==!1,i=HO(e),s=i.length,l=-1,a,x="";++l<s;)a=i[l],x+=nj(a,r);return x}function Rd(){if(CA>=I_)throw Error("Invalid byte index");var e=P_[CA]&255;if(CA++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function oj(e){var t,r,i,s,l;if(CA>I_)throw Error("Invalid byte index");if(CA==I_)return!1;if(t=P_[CA]&255,CA++,(t&128)==0)return t;if((t&224)==192){if(r=Rd(),l=(t&31)<<6|r,l>=128)return l;throw Error("Invalid continuation byte")}if((t&240)==224){if(r=Rd(),i=Rd(),l=(t&15)<<12|r<<6|i,l>=2048)return qO(l,e)?l:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(r=Rd(),i=Rd(),s=Rd(),l=(t&7)<<18|r<<12|i<<6|s,l>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}var P_,I_,CA;function aj(e,t){t=t||{};var r=t.strict!==!1;P_=HO(e),I_=P_.length,CA=0;for(var i=[],s;(s=oj(r))!==!1;)i.push(s);return rj(i)}var sj={version:"2.1.2",encode:ij,decode:aj},c1={},Ok;function uj(){return Ok||(Ok=1,function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;c1.encode=function(i){var s=new Uint8Array(i),l,a=s.length,x="";for(l=0;l<a;l+=3)x+=e[s[l]>>2],x+=e[(s[l]&3)<<4|s[l+1]>>4],x+=e[(s[l+1]&15)<<2|s[l+2]>>6],x+=e[s[l+2]&63];return a%3===2?x=x.substring(0,x.length-1)+"=":a%3===1&&(x=x.substring(0,x.length-2)+"=="),x},c1.decode=function(i){var s=i.length*.75,l=i.length,a,x=0,S,P,R,z;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var N=new ArrayBuffer(s),$=new Uint8Array(N);for(a=0;a<l;a+=4)S=t[i.charCodeAt(a)],P=t[i.charCodeAt(a+1)],R=t[i.charCodeAt(a+2)],z=t[i.charCodeAt(a+3)],$[x++]=S<<2|P>>4,$[x++]=(P&15)<<4|R>>2,$[x++]=(R&3)<<6|z&63;return N}}()),c1}var ew,Mk;function lj(){if(Mk)return ew;Mk=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),r=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),i=e&&e.prototype.append&&e.prototype.getBlob;function s(x){return x.map(function(S){if(S.buffer instanceof ArrayBuffer){var P=S.buffer;if(S.byteLength!==P.byteLength){var R=new Uint8Array(S.byteLength);R.set(new Uint8Array(P,S.byteOffset,S.byteLength)),P=R.buffer}return P}return S})}function l(x,S){S=S||{};var P=new e;return s(x).forEach(function(R){P.append(R)}),S.type?P.getBlob(S.type):P.getBlob()}function a(x,S){return new Blob(s(x),S||{})}return typeof Blob<"u"&&(l.prototype=Blob.prototype,a.prototype=Blob.prototype),ew=function(){return t?r?Blob:a:i?l:void 0}(),ew}(function(e){var t=WU,r=VO,i=YU,s=JU,l=sj,a;typeof ArrayBuffer<"u"&&(a=uj());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),P=x||S;e.protocol=3;var R=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=t(R),N={type:"error",data:"parser error"},$=lj();e.encodePacket=function(me,Ae,ue,Se){typeof Ae=="function"&&(Se=Ae,Ae=!1),typeof ue=="function"&&(Se=ue,ue=null);var Ce=me.data===void 0?void 0:me.data.buffer||me.data;if(typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer)return J(me,Ae,Se);if(typeof $<"u"&&Ce instanceof $)return V(me,Ae,Se);if(Ce&&Ce.base64)return Z(me,Se);var qe=R[me.type];return me.data!==void 0&&(qe+=ue?l.encode(String(me.data),{strict:!1}):String(me.data)),Se(""+qe)};function Z(me,Ae){var ue="b"+e.packets[me.type]+me.data.data;return Ae(ue)}function J(me,Ae,ue){if(!Ae)return e.encodeBase64Packet(me,ue);var Se=me.data,Ce=new Uint8Array(Se),qe=new Uint8Array(1+Se.byteLength);qe[0]=R[me.type];for(var lt=0;lt<Ce.length;lt++)qe[lt+1]=Ce[lt];return ue(qe.buffer)}function ae(me,Ae,ue){if(!Ae)return e.encodeBase64Packet(me,ue);var Se=new FileReader;return Se.onload=function(){e.encodePacket({type:me.type,data:Se.result},Ae,!0,ue)},Se.readAsArrayBuffer(me.data)}function V(me,Ae,ue){if(!Ae)return e.encodeBase64Packet(me,ue);if(P)return ae(me,Ae,ue);var Se=new Uint8Array(1);Se[0]=R[me.type];var Ce=new $([Se.buffer,me.data]);return ue(Ce)}e.encodeBase64Packet=function(me,Ae){var ue="b"+e.packets[me.type];if(typeof $<"u"&&me.data instanceof $){var Se=new FileReader;return Se.onload=function(){var st=Se.result.split(",")[1];Ae(ue+st)},Se.readAsDataURL(me.data)}var Ce;try{Ce=String.fromCharCode.apply(null,new Uint8Array(me.data))}catch{for(var qe=new Uint8Array(me.data),lt=new Array(qe.length),rt=0;rt<qe.length;rt++)lt[rt]=qe[rt];Ce=String.fromCharCode.apply(null,lt)}return ue+=btoa(Ce),Ae(ue)},e.decodePacket=function(me,Ae,ue){if(me===void 0)return N;if(typeof me=="string"){if(me.charAt(0)==="b")return e.decodeBase64Packet(me.substr(1),Ae);if(ue&&(me=K(me),me===!1))return N;var Ce=me.charAt(0);return Number(Ce)!=Ce||!z[Ce]?N:me.length>1?{type:z[Ce],data:me.substring(1)}:{type:z[Ce]}}var Se=new Uint8Array(me),Ce=Se[0],qe=i(me,1);return $&&Ae==="blob"&&(qe=new $([qe])),{type:z[Ce],data:qe}};function K(me){try{me=l.decode(me,{strict:!1})}catch{return!1}return me}e.decodeBase64Packet=function(me,Ae){var ue=z[me.charAt(0)];if(!a)return{type:ue,data:{base64:!0,data:me.substr(1)}};var Se=a.decode(me.substr(1));return Ae==="blob"&&$&&(Se=new $([Se])),{type:ue,data:Se}},e.encodePayload=function(me,Ae,ue){typeof Ae=="function"&&(ue=Ae,Ae=null);var Se=r(me);if(Ae&&Se)return $&&!P?e.encodePayloadAsBlob(me,ue):e.encodePayloadAsArrayBuffer(me,ue);if(!me.length)return ue("0:");function Ce(lt){return lt.length+":"+lt}function qe(lt,rt){e.encodePacket(lt,Se?Ae:!1,!1,function(st){rt(null,Ce(st))})}se(me,qe,function(lt,rt){return ue(rt.join(""))})};function se(me,Ae,ue){for(var Se=new Array(me.length),Ce=s(me.length,ue),qe=function(rt,st,wt){Ae(st,function(St,Wt){Se[rt]=Wt,wt(St,Se)})},lt=0;lt<me.length;lt++)qe(lt,me[lt],Ce)}e.decodePayload=function(me,Ae,ue){if(typeof me!="string")return e.decodePayloadAsBinary(me,Ae,ue);typeof Ae=="function"&&(ue=Ae,Ae=null);var Se;if(me==="")return ue(N,0,1);for(var Ce="",qe,lt,rt=0,st=me.length;rt<st;rt++){var wt=me.charAt(rt);if(wt!==":"){Ce+=wt;continue}if(Ce===""||Ce!=(qe=Number(Ce))||(lt=me.substr(rt+1,qe),Ce!=lt.length))return ue(N,0,1);if(lt.length){if(Se=e.decodePacket(lt,Ae,!1),N.type===Se.type&&N.data===Se.data)return ue(N,0,1);var St=ue(Se,rt+qe,st);if(St===!1)return}rt+=qe,Ce=""}if(Ce!=="")return ue(N,0,1)},e.encodePayloadAsArrayBuffer=function(me,Ae){if(!me.length)return Ae(new ArrayBuffer(0));function ue(Se,Ce){e.encodePacket(Se,!0,!0,function(qe){return Ce(null,qe)})}se(me,ue,function(Se,Ce){var qe=Ce.reduce(function(st,wt){var St;return typeof wt=="string"?St=wt.length:St=wt.byteLength,st+St.toString().length+St+2},0),lt=new Uint8Array(qe),rt=0;return Ce.forEach(function(st){var wt=typeof st=="string",St=st;if(wt){for(var Rt=new Uint8Array(st.length),Wt=0;Wt<st.length;Wt++)Rt[Wt]=st.charCodeAt(Wt);St=Rt.buffer}wt?lt[rt++]=0:lt[rt++]=1;for(var fr=St.byteLength.toString(),Wt=0;Wt<fr.length;Wt++)lt[rt++]=parseInt(fr[Wt]);lt[rt++]=255;for(var Rt=new Uint8Array(St),Wt=0;Wt<Rt.length;Wt++)lt[rt++]=Rt[Wt]}),Ae(lt.buffer)})},e.encodePayloadAsBlob=function(me,Ae){function ue(Se,Ce){e.encodePacket(Se,!0,!0,function(qe){var lt=new Uint8Array(1);if(lt[0]=1,typeof qe=="string"){for(var rt=new Uint8Array(qe.length),st=0;st<qe.length;st++)rt[st]=qe.charCodeAt(st);qe=rt.buffer,lt[0]=0}for(var wt=qe instanceof ArrayBuffer?qe.byteLength:qe.size,St=wt.toString(),Wt=new Uint8Array(St.length+1),st=0;st<St.length;st++)Wt[st]=parseInt(St[st]);if(Wt[St.length]=255,$){var fr=new $([lt.buffer,Wt.buffer,qe]);Ce(null,fr)}})}se(me,ue,function(Se,Ce){return Ae(new $(Ce))})},e.decodePayloadAsBinary=function(me,Ae,ue){typeof Ae=="function"&&(ue=Ae,Ae=null);for(var Se=me,Ce=[];Se.byteLength>0;){for(var qe=new Uint8Array(Se),lt=qe[0]===0,rt="",st=1;qe[st]!==255;st++){if(rt.length>310)return ue(N,0,1);rt+=qe[st]}Se=i(Se,2+rt.length),rt=parseInt(rt);var wt=i(Se,0,rt);if(lt)try{wt=String.fromCharCode.apply(null,new Uint8Array(wt))}catch{var St=new Uint8Array(wt);wt="";for(var st=0;st<St.length;st++)wt+=String.fromCharCode(St[st])}Ce.push(wt),Se=i(Se,rt)}var Wt=Ce.length;Ce.forEach(function(fr,Rt){ue(e.decodePacket(fr,Ae,!0),Rt,Wt)})}})(Gh);var E2={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(E2);var tw,Rk;function CE(){if(Rk)return tw;Rk=1;var e=Gh,t=E2.exports;tw=r;function r(i){this.path=i.path,this.hostname=i.hostname,this.port=i.port,this.secure=i.secure,this.query=i.query,this.timestampParam=i.timestampParam,this.timestampRequests=i.timestampRequests,this.readyState="",this.agent=i.agent||!1,this.socket=i.socket,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.forceNode=i.forceNode,this.isReactNative=i.isReactNative,this.extraHeaders=i.extraHeaders,this.localAddress=i.localAddress}return t(r.prototype),r.prototype.onError=function(i,s){var l=new Error(i);return l.type="TransportError",l.description=s,this.emit("error",l),this},r.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},r.prototype.send=function(i){if(this.readyState==="open")this.write(i);else throw new Error("Transport not open")},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(i){var s=e.decodePacket(i,this.socket.binaryType);this.onPacket(s)},r.prototype.onPacket=function(i){this.emit("packet",i)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")},tw}var B0={};B0.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};B0.decode=function(e){for(var t={},r=e.split("&"),i=0,s=r.length;i<s;i++){var l=r[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t};var k2=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},GO="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),O_=64,QO={},Lk=0,EA=0,Dk;function oS(e){var t="";do t=GO[e%O_]+t,e=Math.floor(e/O_);while(e>0);return t}function cj(e){var t=0;for(EA=0;EA<e.length;EA++)t=t*O_+QO[e.charAt(EA)];return t}function EE(){var e=oS(+new Date);return e!==Dk?(Lk=0,Dk=e):e+"."+oS(Lk++)}for(;EA<O_;EA++)QO[GO[EA]]=EA;EE.encode=oS;EE.decode=cj;var WO=EE,T0={exports:{}},aS={exports:{}},Wg=1e3,Zg=Wg*60,Kg=Zg*60,Xg=Kg*24,fj=Xg*365.25,pj=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Aj(e);if(r==="number"&&isNaN(e)===!1)return t.long?dj(e):hj(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Aj(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*fj;case"days":case"day":case"d":return r*Xg;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Kg;case"minutes":case"minute":case"mins":case"min":case"m":return r*Zg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Wg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function hj(e){return e>=Xg?Math.round(e/Xg)+"d":e>=Kg?Math.round(e/Kg)+"h":e>=Zg?Math.round(e/Zg)+"m":e>=Wg?Math.round(e/Wg)+"s":e+"ms"}function dj(e){return f1(e,Xg,"day")||f1(e,Kg,"hour")||f1(e,Zg,"minute")||f1(e,Wg,"second")||e+" ms"}function f1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=a,t.enable=l,t.enabled=x,t.humanize=pj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(P){var R=0,z;for(z in P)R=(R<<5)-R+P.charCodeAt(z),R|=0;return t.colors[Math.abs(R)%t.colors.length]}function i(P){var R;function z(){if(!!z.enabled){var N=z,$=+new Date,Z=$-(R||$);N.diff=Z,N.prev=R,N.curr=$,R=$;for(var J=new Array(arguments.length),ae=0;ae<J.length;ae++)J[ae]=arguments[ae];J[0]=t.coerce(J[0]),typeof J[0]!="string"&&J.unshift("%O");var V=0;J[0]=J[0].replace(/%([a-zA-Z%])/g,function(se,me){if(se==="%%")return se;V++;var Ae=t.formatters[me];if(typeof Ae=="function"){var ue=J[V];se=Ae.call(N,ue),J.splice(V,1),V--}return se}),t.formatArgs.call(N,J);var K=z.log||t.log||console.log.bind(console);K.apply(N,J)}}return z.namespace=P,z.enabled=t.enabled(P),z.useColors=t.useColors(),z.color=r(P),z.destroy=s,typeof t.init=="function"&&t.init(z),t.instances.push(z),z}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var R,z=(typeof P=="string"?P:"").split(/[\s,]+/),N=z.length;for(R=0;R<N;R++)!z[R]||(P=z[R].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(R=0;R<t.instances.length;R++){var $=t.instances[R];$.enabled=t.enabled($.namespace)}}function a(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var R,z;for(R=0,z=t.skips.length;R<z;R++)if(t.skips[R].test(P))return!1;for(R=0,z=t.names.length;R<z;R++)if(t.names[R].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(aS,aS.exports);(function(e,t){t=e.exports=aS.exports,t.log=s,t.formatArgs=i,t.save=l,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var R="color: "+this.color;S.splice(1,0,R,"color: inherit");var z=0,N=0;S[0].replace(/%[a-zA-Z%]/g,function($){$!=="%%"&&(z++,$==="%c"&&(N=z))}),S.splice(N,0,R)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function a(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S=process.env.DEBUG),S}t.enable(a());function x(){try{return window.localStorage}catch{}}})(T0,T0.exports);var ZO=CE(),mj=B0,KO=Gh,gj=k2,yj=WO,Pc=T0.exports("engine.io-client:polling"),XO=Ef,vj=function(){var e=wE,t=new e({xdomain:!1});return t.responseType!=null}();function Ef(e){var t=e&&e.forceBase64;(!vj||t)&&(this.supportsBinary=!1),ZO.call(this,e)}gj(Ef,ZO);Ef.prototype.name="polling";Ef.prototype.doOpen=function(){this.poll()};Ef.prototype.pause=function(e){var t=this;this.readyState="pausing";function r(){Pc("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var i=0;this.polling&&(Pc("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Pc("pre-pause polling complete"),--i||r()})),this.writable||(Pc("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Pc("pre-pause writing complete"),--i||r()}))}else r()};Ef.prototype.poll=function(){Pc("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Ef.prototype.onData=function(e){var t=this;Pc("polling got data %s",e);var r=function(i,s,l){if(t.readyState==="opening"&&t.onOpen(),i.type==="close")return t.onClose(),!1;t.onPacket(i)};KO.decodePayload(e,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Pc('ignoring poll - transport state "%s"',this.readyState))};Ef.prototype.doClose=function(){var e=this;function t(){Pc("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Pc("transport open - closing"),t()):(Pc("transport not open - deferring close"),this.once("open",t))};Ef.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};KO.encodePayload(e,this.supportsBinary,function(i){t.doWrite(i,r)})};Ef.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(e[this.timestampParam]=yj()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=mj.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(r=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e};var _j=wE,YO=XO,xj=E2.exports,bj=k2,sS=T0.exports("engine.io-client:polling-xhr");SE.exports=z0;SE.exports.Request=za;function Fk(){}function z0(e){if(YO.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",r=location.port;r||(r=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}bj(z0,YO);z0.prototype.supportsBinary=!0;z0.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new za(e)};z0.prototype.doWrite=function(e,t){var r=typeof e!="string"&&e!==void 0,i=this.request({method:"POST",data:e,isBinary:r}),s=this;i.on("success",t),i.on("error",function(l){s.onError("xhr post error",l)}),this.sendXhr=i};z0.prototype.doPoll=function(){sS("xhr poll");var e=this.request(),t=this;e.on("data",function(r){t.onData(r)}),e.on("error",function(r){t.onError("xhr poll error",r)}),this.pollXhr=e};function za(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}xj(za.prototype);za.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new _j(e),r=this;try{sS("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var s=t.getResponseHeader("Content-Type");r.supportsBinary&&s==="application/octet-stream"&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},sS("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){r.onError(s)},0);return}typeof document<"u"&&(this.index=za.requestsCount++,za.requests[this.index]=this)};za.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};za.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};za.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};za.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Fk:this.xhr.onreadystatechange=Fk,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete za.requests[this.index],this.xhr=null}};za.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(r){this.onError(r)}e!=null&&this.onData(e)};za.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};za.prototype.abort=function(){this.cleanup()};za.requestsCount=0;za.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bk);else if(typeof addEventListener=="function"){var wj="onpagehide"in self?"pagehide":"unload";addEventListener(wj,Bk,!1)}}function Bk(){for(var e in za.requests)za.requests.hasOwnProperty(e)&&za.requests[e].abort()}var kE=XO,Sj=k2,Cj=N0,Ej=/\n/g,kj=/\\n/g,p1;function Tj(){}function Pj(){return typeof self<"u"?self:typeof window<"u"?window:typeof Bs<"u"?Bs:{}}function N0(e){if(kE.call(this,e),this.query=this.query||{},!p1){var t=Pj();p1=t.___eio=t.___eio||[]}this.index=p1.length;var r=this;p1.push(function(i){r.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){r.script&&(r.script.onerror=Tj)},!1)}Sj(N0,kE);N0.prototype.supportsBinary=!1;N0.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),kE.prototype.doClose.call(this)};N0.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)};N0.prototype.doWrite=function(e,t){var r=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,a;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function x(){S(),t()}function S(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(R){r.onError("jsonp polling iframe removal error",R)}try{var P='<iframe src="javascript:0" name="'+r.iframeId+'">';a=document.createElement(P)}catch{a=document.createElement("iframe"),a.name=r.iframeId,a.src="javascript:0"}a.id=r.iframeId,r.form.appendChild(a),r.iframe=a}S(),e=e.replace(kj,`\\
`),this.area.value=e.replace(Ej,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};const Ij={},Oj=Object.freeze(Object.defineProperty({__proto__:null,default:Ij},Symbol.toStringTag,{value:"Module"})),Mj=ND(Oj);var TE=CE(),Rj=Gh,Lj=B0,Dj=k2,Fj=WO,Bj=T0.exports("engine.io-client:websocket"),M_,PE;if(typeof WebSocket<"u")M_=WebSocket;else if(typeof self<"u")M_=self.WebSocket||self.MozWebSocket;else try{PE=Mj}catch{}var m0=M_||PE,zj=jl;function jl(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=M_&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(m0=PE),TE.call(this,e)}Dj(jl,TE);jl.prototype.name="websocket";jl.prototype.supportsBinary=!0;jl.prototype.doOpen=function(){if(!!this.check()){var e=this.uri(),t=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new m0(e,t):new m0(e):new m0(e,t,r)}catch(i){return this.emit("error",i)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};jl.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};jl.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,i=0,s=r;i<s;i++)(function(a){Rj.encodePacket(a,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var S={};if(a.options&&(S.compress=a.options.compress),t.perMessageDeflate){var P=typeof x=="string"?Buffer.byteLength(x):x.length;P<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,S)}catch{Bj("websocket closed before onclose event")}--r||l()})})(e[i]);function l(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};jl.prototype.onClose=function(){TE.prototype.onClose.call(this)};jl.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};jl.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=Fj()),this.supportsBinary||(e.b64=1),e=Lj.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e};jl.prototype.check=function(){return!!m0&&!("__initialize"in m0&&this.name===jl.prototype.name)};var Nj=wE,Uj=SE.exports,jj=Cj,$j=zj;C2.polling=Vj;C2.websocket=$j;function Vj(e){var t,r=!1,i=!1,s=e.jsonp!==!1;if(typeof location<"u"){var l=location.protocol==="https:",a=location.port;a||(a=l?443:80),r=e.hostname!==location.hostname||a!==e.port,i=e.secure!==l}if(e.xdomain=r,e.xscheme=i,t=new Nj(e),"open"in t&&!e.forceJSONP)return new Uj(e);if(!s)throw new Error("JSONP disabled");return new jj(e)}var Hj=[].indexOf,JO=function(e,t){if(Hj)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1},qj=C2,Gj=E2.exports,Ia=T0.exports("engine.io-client:socket"),Qj=JO,eM=Gh,zk=FO,Wj=B0,Zj=ai;function ai(e,t){if(!(this instanceof ai))return new ai(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=zk(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=zk(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=Wj.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ai.priorWebsocketSuccess=!1;Gj(ai.prototype);ai.protocol=eM.protocol;ai.Socket=ai;ai.Transport=CE();ai.transports=C2;ai.parser=Gh;ai.prototype.createTransport=function(e){Ia('creating transport "%s"',e);var t=Kj(this.query);t.EIO=eM.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var i=new qj[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return i};function Kj(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}ai.prototype.open=function(){var e;if(this.rememberUpgrade&&ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};ai.prototype.setTransport=function(e){Ia("setting transport %s",e.name);var t=this;this.transport&&(Ia("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(r){t.onPacket(r)}).on("error",function(r){t.onError(r)}).on("close",function(){t.onClose("transport close")})};ai.prototype.probe=function(e){Ia('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,i=this;ai.priorWebsocketSuccess=!1;function s(){if(i.onlyBinaryUpgrades){var z=!this.supportsBinary&&i.transport.supportsBinary;r=r||z}r||(Ia('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(N){if(!r)if(N.type==="pong"&&N.data==="probe"){if(Ia('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;ai.priorWebsocketSuccess=t.name==="websocket",Ia('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){r||i.readyState!=="closed"&&(Ia("changing transport and sending upgrade packet"),R(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{Ia('probe transport "%s" failed',e);var $=new Error("probe error");$.transport=t.name,i.emit("upgradeError",$)}}))}function l(){r||(r=!0,R(),t.close(),t=null)}function a(z){var N=new Error("probe error: "+z);N.transport=t.name,l(),Ia('probe transport "%s" failed because of error: %s',e,z),i.emit("upgradeError",N)}function x(){a("transport closed")}function S(){a("socket closed")}function P(z){t&&z.name!==t.name&&(Ia('"%s" works - aborting "%s"',z.name,t.name),l())}function R(){t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",x),i.removeListener("close",S),i.removeListener("upgrading",P)}t.once("open",s),t.once("error",a),t.once("close",x),this.once("close",S),this.once("upgrading",P),t.open()};ai.prototype.onOpen=function(){if(Ia("socket open"),this.readyState="open",ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ia("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};ai.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ia('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ia('packet received with socket readyState "%s"',this.readyState)};ai.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};ai.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};ai.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Ia("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};ai.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};ai.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};ai.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ia("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};ai.prototype.write=ai.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this};ai.prototype.sendPacket=function(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var s={type:e,data:t,options:r};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}};ai.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),Ia("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function i(){e.once("upgrade",r),e.once("upgradeError",r)}return this};ai.prototype.onError=function(e){Ia("socket error %j",e),ai.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};ai.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ia('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}};ai.prototype.filterUpgrades=function(e){for(var t=[],r=0,i=e.length;r<i;r++)~Qj(this.transports,e[r])&&t.push(e[r]);return t};(function(e){e.exports=Zj,e.exports.parser=Gh})(jO);var IE={exports:{}},OE={exports:{}};(function(e){e.exports=t;function t(i){if(i)return r(i)}function r(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,x=0;x<l.length;x++)if(a=l[x],a===s||a.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var a=0,x=l.length;a<x;++a)l[a].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(OE);var Xj=Yj;function Yj(e,t){var r=[];t=t||0;for(var i=t||0;i<e.length;i++)r[i-t]=e[i];return r}var tM=Jj;function Jj(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}var Nk=[].slice,rM=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var r=Nk.call(arguments,2);return function(){return t.apply(e,r.concat(Nk.call(arguments)))}};(function(e,t){var r=w2,i=OE.exports,s=Xj,l=tM,a=rM,x=k0.exports("socket.io-client:socket"),S=B0,P=VO;e.exports=N;var R={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},z=i.prototype.emit;function N($,Z,J){this.io=$,this.nsp=Z,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},J&&J.query&&(this.query=J.query),this.io.autoConnect&&this.open()}i(N.prototype),N.prototype.subEvents=function(){if(!this.subs){var $=this.io;this.subs=[l($,"open",a(this,"onopen")),l($,"packet",a(this,"onpacket")),l($,"close",a(this,"onclose"))]}},N.prototype.open=N.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},N.prototype.send=function(){var $=s(arguments);return $.unshift("message"),this.emit.apply(this,$),this},N.prototype.emit=function($){if(R.hasOwnProperty($))return z.apply(this,arguments),this;var Z=s(arguments),J={type:(this.flags.binary!==void 0?this.flags.binary:P(Z))?r.BINARY_EVENT:r.EVENT,data:Z};return J.options={},J.options.compress=!this.flags||this.flags.compress!==!1,typeof Z[Z.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=Z.pop(),J.id=this.ids++),this.connected?this.packet(J):this.sendBuffer.push(J),this.flags={},this},N.prototype.packet=function($){$.nsp=this.nsp,this.io.packet($)},N.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var $=typeof this.query=="object"?S.encode(this.query):this.query;x("sending connect packet with query %s",$),this.packet({type:r.CONNECT,query:$})}else this.packet({type:r.CONNECT})},N.prototype.onclose=function($){x("close (%s)",$),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",$)},N.prototype.onpacket=function($){var Z=$.nsp===this.nsp,J=$.type===r.ERROR&&$.nsp==="/";if(!(!Z&&!J))switch($.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent($);break;case r.BINARY_EVENT:this.onevent($);break;case r.ACK:this.onack($);break;case r.BINARY_ACK:this.onack($);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",$.data);break}},N.prototype.onevent=function($){var Z=$.data||[];x("emitting event %j",Z),$.id!=null&&(x("attaching ack callback to event"),Z.push(this.ack($.id))),this.connected?z.apply(this,Z):this.receiveBuffer.push(Z)},N.prototype.ack=function($){var Z=this,J=!1;return function(){if(!J){J=!0;var ae=s(arguments);x("sending ack %j",ae),Z.packet({type:P(ae)?r.BINARY_ACK:r.ACK,id:$,data:ae})}}},N.prototype.onack=function($){var Z=this.acks[$.id];typeof Z=="function"?(x("calling ack %s with %j",$.id,$.data),Z.apply(this,$.data),delete this.acks[$.id]):x("bad ack %s",$.id)},N.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},N.prototype.emitBuffered=function(){var $;for($=0;$<this.receiveBuffer.length;$++)z.apply(this,this.receiveBuffer[$]);for(this.receiveBuffer=[],$=0;$<this.sendBuffer.length;$++)this.packet(this.sendBuffer[$]);this.sendBuffer=[]},N.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},N.prototype.destroy=function(){if(this.subs){for(var $=0;$<this.subs.length;$++)this.subs[$].destroy();this.subs=null}this.io.destroy(this)},N.prototype.close=N.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},N.prototype.compress=function($){return this.flags.compress=$,this},N.prototype.binary=function($){return this.flags.binary=$,this}})(IE);var e$=U0;function U0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}U0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};U0.prototype.reset=function(){this.attempts=0};U0.prototype.setMin=function(e){this.ms=e};U0.prototype.setMax=function(e){this.max=e};U0.prototype.setJitter=function(e){this.jitter=e};var t$=jO.exports,r$=IE.exports,n$=OE.exports,i$=w2,gA=tM,Ld=rM,zs=k0.exports("socket.io-client:manager"),nM=JO,o$=e$,iM=Object.prototype.hasOwnProperty,Uk=di;function di(e,t){if(!(this instanceof di))return new di(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new o$({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||i$;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}di.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)iM.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};di.prototype.updateSocketIds=function(){for(var e in this.nsps)iM.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};di.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};n$(di.prototype);di.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};di.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};di.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};di.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};di.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};di.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};di.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};di.prototype.open=di.prototype.connect=function(e,t){if(zs("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;zs("opening %s",this.uri),this.engine=t$(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=gA(r,"open",function(){i.onopen(),e&&e()}),l=gA(r,"error",function(S){if(zs("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",S),e){var P=new Error("Connection error");P.data=S,e(P)}else i.maybeReconnectOnOpen()});if(this._timeout!==!1){var a=this._timeout;zs("connect attempt will timeout after %d",a);var x=setTimeout(function(){zs("connect attempt timed out after %d",a),s.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(s),this.subs.push(l),this};di.prototype.onopen=function(){zs("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(gA(e,"data",Ld(this,"ondata"))),this.subs.push(gA(e,"ping",Ld(this,"onping"))),this.subs.push(gA(e,"pong",Ld(this,"onpong"))),this.subs.push(gA(e,"error",Ld(this,"onerror"))),this.subs.push(gA(e,"close",Ld(this,"onclose"))),this.subs.push(gA(this.decoder,"decoded",Ld(this,"ondecoded")))};di.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};di.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};di.prototype.ondata=function(e){this.decoder.add(e)};di.prototype.ondecoded=function(e){this.emit("packet",e)};di.prototype.onerror=function(e){zs("error",e),this.emitAll("error",e)};di.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new r$(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",s),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&s()}function s(){~nM(i.connecting,r)||i.connecting.push(r)}return r};di.prototype.destroy=function(e){var t=nM(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};di.prototype.packet=function(e){zs("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var i=0;i<r.length;i++)t.engine.write(r[i],e.options);t.encoding=!1,t.processPacketQueue()}))};di.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};di.prototype.cleanup=function(){zs("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};di.prototype.close=di.prototype.disconnect=function(){zs("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};di.prototype.onclose=function(e){zs("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};di.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)zs("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();zs("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(zs("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(i){i?(zs("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",i.data)):(zs("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}};di.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var r=RU,i=w2,s=Uk,l=k0.exports("socket.io-client");e.exports=t=x;var a=t.managers={};function x(S,P){typeof S=="object"&&(P=S,S=void 0),P=P||{};var R=r(S),z=R.source,N=R.id,$=R.path,Z=a[N]&&$ in a[N].nsps,J=P.forceNew||P["force new connection"]||P.multiplex===!1||Z,ae;return J?(l("ignoring socket cache for %s",z),ae=s(z,P)):(a[N]||(l("new io instance for %s",z),a[N]=s(z,P)),ae=a[N]),R.query&&!P.query&&(P.query=R.query),ae.socket(R.path,P)}t.protocol=i.protocol,t.connect=x,t.Manager=Uk,t.Socket=IE.exports})(Y3,Y3.exports);var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.RENDERER_MESSAGE_EVENT_NAME=void 0;var a$="cosmos-renderer-message";T2.RENDERER_MESSAGE_EVENT_NAME=a$;Object.defineProperty(_E,"__esModule",{value:!0});_E.createWebSocketsConnect=l$;var s$=u$(Y3.exports),rw=T2;function u$(e){return e&&e.__esModule?e:{default:e}}function l$(e){var t=(0,s$.default)(e);return{postMessage:function(i){t.emit(rw.RENDERER_MESSAGE_EVENT_NAME,i)},onMessage:function(i){return t.on(rw.RENDERER_MESSAGE_EVENT_NAME,i),function(){return t.off(rw.RENDERER_MESSAGE_EVENT_NAME,i)}}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FixtureCapture",{enumerable:!0,get:function(){return t.FixtureCapture}}),Object.defineProperty(e,"FixtureContext",{enumerable:!0,get:function(){return r.FixtureContext}}),Object.defineProperty(e,"FixtureLoader",{enumerable:!0,get:function(){return i.FixtureLoader}}),Object.defineProperty(e,"Viewport",{enumerable:!0,get:function(){return S.Viewport}}),Object.defineProperty(e,"createPostMessageConnect",{enumerable:!0,get:function(){return l.createPostMessageConnect}}),Object.defineProperty(e,"createWebSocketsConnect",{enumerable:!0,get:function(){return P.createWebSocketsConnect}}),Object.defineProperty(e,"getDecoratedFixtureElement",{enumerable:!0,get:function(){return s.getDecoratedFixtureElement}}),Object.defineProperty(e,"useSelect",{enumerable:!0,get:function(){return a.useSelect}}),Object.defineProperty(e,"useValue",{enumerable:!0,get:function(){return x.useValue}});var t=s2,r=su,i=v2,s=_2,l=cE,a=pE,x=mE,S=b2,P=_E})(XI);(function(e){e.exports=XI})(zC);var P2={},oM={exports:{}};(function(e){e.exports=Dc})(oM);function uS(e){return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uS(e)}Object.defineProperty(P2,"__esModule",{value:!0});P2.ErrorCatch=void 0;var xh=p$(hr.exports),c$=_s.exports,f$=oM.exports;function p$(e){return e&&e.__esModule?e:{default:e}}function A$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h$(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},lS(e,t)}function m$(e){var t=y$();return function(){var i=R_(e),s;if(t){var l=R_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return g$(this,s)}}function g$(e,t){if(t&&(uS(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},R_(e)}function v$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _$=function(e){d$(r,e);var t=m$(r);function r(){var i;A$(this,r);for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l)),v$(aM(i),"state",{error:null}),i}return h$(r,[{key:"componentDidCatch",value:function(s,l){this.setState({error:"".concat(s.message,`
`).concat(l.componentStack)})}},{key:"componentDidUpdate",value:function(s){this.state.error&&(x$(this.props.children,s.children)||b$(this.props.fixtureState,s.fixtureState))&&(this.setState({error:null}),this.props.onErrorReset())}},{key:"render",value:function(){return this.state.error?this.renderError(this.state.error):this.props.children}},{key:"renderError",value:function(s){return __DEV__?null:xh.default.createElement(xh.default.Fragment,null,xh.default.createElement("p",null,xh.default.createElement("strong",null,"Ouch, something wrong!")),xh.default.createElement("pre",null,s),xh.default.createElement("p",null,"Check console for more info."))}}]),r}(xh.default.Component);P2.ErrorCatch=_$;function x$(e,t){return!(0,f$.areNodesEqual)(e,t,!0)}function b$(e,t){return!(0,c$.isEqual)(e,t)}var j0={},I2={};Object.defineProperty(I2,"__esModule",{value:!0});I2.isInsideCosmosPreviewIframe=w$;function w$(){try{return window.self!==window.parent}catch{return!0}}Object.defineProperty(j0,"__esModule",{value:!0});j0.rendererConnect=void 0;var $k=zC.exports,S$=I2,C$=(0,S$.isInsideCosmosPreviewIframe)()?(0,$k.createPostMessageConnect)():(0,$k.createWebSocketsConnect)(E$());j0.rendererConnect=C$;function E$(){return location.origin}var $0={},sM={exports:{}};(function(e){e.exports=p2})(sM);Object.defineProperty($0,"__esModule",{value:!0});$0.rendererId=void 0;var k$=sM.exports,T$=P$();$0.rendererId=T$;function P$(){var e=sessionStorage.getItem("cosmosRendererId");return e||(e=(0,k$.uuid)(),sessionStorage.setItem("cosmosRendererId",e)),e}var ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.renderMessage=R$;var I$=O$(hr.exports);function O$(e){return e&&e.__esModule?e:{default:e}}var M$={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'-apple-system, BlinkMacSystemFont, Ubuntu, "Helvetica Neue", Helvetica, sans-serif',fontSize:14};function R$(e){var t=e.msg;return I$.default.createElement("div",{style:M$},t)}var O2={},uM={exports:{}},HA={},vy={},L$=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Vk=Object.getOwnPropertySymbols,D$=Object.prototype.hasOwnProperty,F$=Object.prototype.propertyIsEnumerable;function B$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function z$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(l){return t[l]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(l){s[l]=l}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var N$=z$()?Object.assign:function(e,t){for(var r,i=B$(e),s,l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var a in r)D$.call(r,a)&&(i[a]=r[a]);if(Vk){s=Vk(r);for(var x=0;x<s.length;x++)F$.call(r,s[x])&&(i[s[x]]=r[s[x]])}}return i},lM="%[a-f0-9]{2}",Hk=new RegExp(lM,"gi"),qk=new RegExp("("+lM+")+","gi");function cS(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],cS(r),cS(i))}function U$(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Hk),r=1;r<t.length;r++)e=cS(t,r).join(""),t=e.match(Hk);return e}}function j$(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=qk.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var i=U$(r[0]);i!==r[0]&&(t[r[0]]=i)}r=qk.exec(e)}t["%C2"]="\uFFFD";for(var s=Object.keys(t),l=0;l<s.length;l++){var a=s[l];e=e.replace(new RegExp(a,"g"),t[a])}return e}var $$=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return j$(e)}},V$=L$,cM=N$,Gk=$$;function H$(e){switch(e.arrayFormat){case"index":return function(t,r,i){return r===null?[Ku(t,e),"[",i,"]"].join(""):[Ku(t,e),"[",Ku(i,e),"]=",Ku(r,e)].join("")};case"bracket":return function(t,r){return r===null?Ku(t,e):[Ku(t,e),"[]=",Ku(r,e)].join("")};default:return function(t,r){return r===null?Ku(t,e):[Ku(t,e),"=",Ku(r,e)].join("")}}}function q$(e){var t;switch(e.arrayFormat){case"index":return function(r,i,s){if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){s[r]=i;return}s[r]===void 0&&(s[r]={}),s[r][t[1]]=i};case"bracket":return function(r,i,s){if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),t){if(s[r]===void 0){s[r]=[i];return}}else{s[r]=i;return}s[r]=[].concat(s[r],i)};default:return function(r,i,s){if(s[r]===void 0){s[r]=i;return}s[r]=[].concat(s[r],i)}}}function Ku(e,t){return t.encode?t.strict?V$(e):encodeURIComponent(e):e}function fM(e){return Array.isArray(e)?e.sort():typeof e=="object"?fM(Object.keys(e)).sort(function(t,r){return Number(t)-Number(r)}).map(function(t){return e[t]}):e}function pM(e){var t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function AM(e,t){t=cM({arrayFormat:"none"},t);var r=q$(t),i=Object.create(null);return typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e)?i:(e.split("&").forEach(function(s){var l=s.replace(/\+/g," ").split("="),a=l.shift(),x=l.length>0?l.join("="):void 0;x=x===void 0?null:Gk(x),r(Gk(a),x,i)}),Object.keys(i).sort().reduce(function(s,l){var a=i[l];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?s[l]=fM(a):s[l]=a,s},Object.create(null)))}vy.extract=pM;vy.parse=AM;vy.stringify=function(e,t){var r={encode:!0,strict:!0,arrayFormat:"none"};t=cM(r,t),t.sort===!1&&(t.sort=function(){});var i=H$(t);return e?Object.keys(e).sort(t.sort).map(function(s){var l=e[s];if(l===void 0)return"";if(l===null)return Ku(s,t);if(Array.isArray(l)){var a=[];return l.slice().forEach(function(x){x!==void 0&&a.push(i(s,x,a.length))}),a.join("&")}return Ku(s,t)+"="+Ku(l,t)}).filter(function(s){return s.length>0}).join("&"):""};vy.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:AM(pM(e),t)}};Object.defineProperty(HA,"__esModule",{value:!0});HA.parsePlaygroundUrlQuery=W$;HA.parseRendererUrlQuery=K$;HA.parseUrlQuery=RE;HA.stringifyPlaygroundUrlQuery=Q$;HA.stringifyRendererUrlQuery=Z$;HA.stringifyUrlQuery=X$;var M2=G$(vy);function G$(e){return e&&e.__esModule?e:{default:e}}function Q$(e){var t={};return e.fixtureId&&(t.fixtureId=JSON.stringify(e.fixtureId)),M2.default.stringify(t)}function W$(e){var t=RE(e),r={};return t.fixtureId&&(r.fixtureId=JSON.parse(t.fixtureId)),r}function Z$(e){var t={};return e._fixtureId&&(t._fixtureId=JSON.stringify(e._fixtureId)),M2.default.stringify(t)}function K$(e){var t=RE(e),r={};return t._fixtureId&&(r._fixtureId=JSON.parse(t._fixtureId)),r}function RE(e){return M2.default.parse(e)}function X$(e){return M2.default.stringify(e)}(function(e){e.exports=HA})(uM);Object.defineProperty(O2,"__esModule",{value:!0});O2.selectedFixtureId=void 0;var Y$=uM.exports,J$=I2,eV=tV();O2.selectedFixtureId=eV;function tV(){var e=(0,Y$.parseRendererUrlQuery)(location.search);return e._fixtureId?(rV(e._fixtureId),e._fixtureId):nV()}function rV(e){sessionStorage.setItem("cosmosFixtureId",JSON.stringify(e))}function nV(){if((0,J$.isInsideCosmosPreviewIframe)())return null;var e=sessionStorage.getItem("cosmosFixtureId");return e?JSON.parse(e):null}Object.defineProperty(BC,"__esModule",{value:!0});BC.DomFixtureLoader=pV;var iV=fV(hr.exports),oV=zC.exports,aV=P2,sV=j0,uV=$0,lV=ME,cV=O2;function fV(e){return e&&e.__esModule?e:{default:e}}function pV(e){var t=e.fixtures,r=e.decorators,i=e.onErrorReset;return iV.default.createElement(oV.FixtureLoader,{rendererId:uV.rendererId,rendererConnect:sV.rendererConnect,fixtures:t,selectedFixtureId:cV.selectedFixtureId,systemDecorators:[aV.ErrorCatch],userDecorators:r,renderMessage:lV.renderMessage,onErrorReset:i})}var AV=$0,hV=j0;window.addEventListener("error",function(){hV.rendererConnect.postMessage({type:"rendererError",payload:{rendererId:AV.rendererId}})});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mountDomRenderer=S,Object.defineProperty(e,"rendererConnect",{enumerable:!0,get:function(){return l.rendererConnect}}),Object.defineProperty(e,"rendererId",{enumerable:!0,get:function(){return a.rendererId}});var t=x(hr.exports),r=Hw,i=FC,s=BC,l=j0,a=$0;function x(P){return P&&P.__esModule?P:{default:P}}function S(P){var R=P.rendererConfig,z=P.fixtures,N=P.decorators,$=P.onErrorReset,Z=(0,i.getDomContainer)(R.containerQuerySelector),J=(0,r.createRoot)(Z);J.render(t.default.createElement(s.DomFixtureLoader,{fixtures:z,decorators:N,onErrorReset:$}))}})(WT);(function(e){e.exports=WT})(QT);const dV="2.2.4";var R2={exports:{}},L2={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mV=hr.exports,gV=Symbol.for("react.element"),yV=Symbol.for("react.fragment"),vV=Object.prototype.hasOwnProperty,_V=mV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xV={key:!0,ref:!0,__self:!0,__source:!0};function hM(e,t,r){var i,s={},l=null,a=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)vV.call(t,i)&&!xV.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:gV,type:e,key:l,ref:a,props:s,_owner:_V.current}}L2.Fragment=yV;L2.jsx=hM;L2.jsxs=hM;(function(e){e.exports=L2})(R2);const D2=R2.exports.Fragment,_t=R2.exports.jsx,Zn=R2.exports.jsxs;function dM(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=dM(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function va(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=dM(e))&&(i&&(i+=" "),i+=t);return i}const mM=e=>Zn("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:[_t("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:1.3,strokeLinejoin:"bevel"}),_t("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:1.3,strokeLinejoin:"bevel"})]});mM.displayName="Close24";const bV=hr.exports.memo(mM),wV=bV,gM=e=>Zn("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{d:"M3 3L13 13",stroke:"currentColor",strokeLinejoin:"bevel"}),_t("path",{d:"M13 3L3 13",stroke:"currentColor",strokeLinejoin:"bevel"})]});gM.displayName="Close16";const SV=hr.exports.memo(gM),CV=SV,yM=e=>_t("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:_t("path",{d:"M3 5L8 10L13 5",stroke:"currentColor",strokeLinejoin:"bevel"})});yM.displayName="ChevronDown16";const EV=hr.exports.memo(yM),kV=EV,vM=e=>Zn("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{d:"M8.00002 13.8334C11.2217 13.8334 13.8334 11.2217 13.8334 8.00002C13.8334 4.77836 11.2217 2.16669 8.00002 2.16669C4.77836 2.16669 2.16669 4.77836 2.16669 8.00002C2.16669 11.2217 4.77836 13.8334 8.00002 13.8334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M8 11L8 7.37482",stroke:"currentColor",strokeLinejoin:"round"}),_t("path",{d:"M8 6V5",stroke:"currentColor",strokeLinejoin:"round"})]});vM.displayName="InfoOutline16";const TV=hr.exports.memo(vM),PV=TV;var pn={exports:{}},IV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OV=IV,MV=OV;function _M(){}function xM(){}xM.resetWarningCache=_M;var RV=function(){function e(i,s,l,a,x,S){if(S!==MV){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xM,resetWarningCache:_M};return r.PropTypes=r,r};pn.exports=RV();const LV="_legendTitle_sgaz8_1",DV="_grid_sgaz8_6",FV="_cell_sgaz8_11",BV="_colorCell_sgaz8_17",zV="_yStepsCell_sgaz8_26",NV="_xStepsCell_sgaz8_45",UV="_xStepsCellNoLabel_sgaz8_46",jV="_arrowX_sgaz8_70",$V="_arrowY_sgaz8_71",VV="_axisLabelX_sgaz8_88",HV="_axisLabelY_sgaz8_89",qV="_arrowHeadX_sgaz8_107",GV="_arrowHeadY_sgaz8_108",QV="_arrowHeadY_angle0_sgaz8_123",Ya={legendTitle:LV,grid:DV,cell:FV,colorCell:BV,yStepsCell:zV,xStepsCell:NV,xStepsCellNoLabel:UV,arrowX:jV,arrowY:$V,axisLabelX:VV,axisLabelY:HV,arrowHeadX:qV,arrowHeadY:GV,arrowHeadY_angle0:QV};function WV(){const e={};return{increment:t=>(typeof e[t]=="number"?e[t]+=1:e[t]=0,e[t])}}function ZV(e,t){const r=[],i=WV();return e.forEach((s,l)=>{s.split(" ").forEach((a,x)=>{const S=i.increment(a),P=t[a]&&t[a][S];P&&r.push({...P,_position:{x,y:l}})})}),r}function Qk(e){return[...e].reverse()}const KV=(e,t)=>({gridColumn:`${e+1} / ${e+2}`,gridRow:`${t+1} / ${t+2}`}),Wk=({className:e,type:t})=>_t("div",{className:e,children:t==="horizontal"?_t("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,6L0,0l0,2.4L3.6,6L0,9.6L0,12L6,6z",fill:"currentColor"})}):_t("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,0L0,6l2.4,0L6,2.4L9.6,6L12,6L6,0z",fill:"currentColor"})})}),XV=({cells:e,size:t,axis:r,title:i,showAxisLabels:s=!1,showSteps:l=!0,showArrowHeads:a=!0,onCellPointerOver:x,onCellPointerLeave:S,renderXAxisLabel:P,renderYAxisLabel:R})=>{const z=hr.exports.useMemo(()=>[`y ${new Array(t+1).fill(".").join(" ")}`,...new Array(t).fill(`y ${new Array(t).fill("c").join(" ")} .`),`. ${new Array(t+1).fill("x").join(" ")}`],[t]),N=ZV(z,{x:l?r.x.steps.map(J=>({label:J.label||J.value.toFixed(1),className:Ya.xStepsCell})):r.x.steps.map(J=>({label:"",className:Ya.xStepsCellNoLabel})),y:l?Qk(r.y.steps).map(J=>({label:J.label||J.value.toFixed(1),className:Ya.yStepsCell})):Qk(r.y.steps).map(J=>({label:"",className:Ya.yStepsCellNoLabel})),c:e.map((J,ae)=>({label:_t("span",{children:J.label}),className:va(Ya.cell,Ya.colorCell),style:{backgroundColor:J.color},...x&&{onPointerOver:V=>x(V,J,ae)},...S&&{onPointerLeave:V=>S(V,J,ae)}}))}),$=()=>P?P(r.x,Ya.axisLabelX):_t("div",{className:Ya.axisLabelX,children:r.x.label}),Z=()=>R?R(r.y,Ya.axisLabelY):_t("div",{className:Ya.axisLabelY,children:r.y.label});return Zn("div",{children:[i&&_t("div",{className:Ya.legendTitle,children:i}),Zn("div",{className:Ya.grid,style:{gridTemplateColumns:`repeat(${t+2}, auto)`,gridTemplateRows:`repeat(${t+2}, auto)`},children:[s&&r.x.label?$():null,s&&r.y.label?Z():null,_t("div",{className:Ya.arrowX,children:a&&_t(Wk,{type:"horizontal",className:Ya.arrowHeadX})}),_t("div",{className:Ya.arrowY,children:a&&_t(Wk,{type:"vertical",className:va({[Ya.arrowHeadY]:!0,[Ya.arrowHeadY_angle0]:!s})})}),N.map(J=>_t("div",{style:Object.assign(KV(J._position.x,J._position.y),J.style),className:va(J.className,Ya.cell),onPointerOver:J.onPointerOver,onPointerLeave:J.onPointerLeave,children:J.label},`${J._position.x}|${J._position.y}`))]})]})};var bM={exports:{}},Ri={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=Symbol.for("react.element"),DE=Symbol.for("react.portal"),F2=Symbol.for("react.fragment"),B2=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),YV=Symbol.for("react.server_context"),j2=Symbol.for("react.forward_ref"),$2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),H2=Symbol.for("react.memo"),q2=Symbol.for("react.lazy"),JV=Symbol.for("react.offscreen"),wM;wM=Symbol.for("react.module.reference");function Hl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LE:switch(e=e.type,e){case F2:case z2:case B2:case $2:case V2:return e;default:switch(e=e&&e.$$typeof,e){case YV:case U2:case j2:case q2:case H2:case N2:return e;default:return t}}case DE:return t}}}Ri.ContextConsumer=U2;Ri.ContextProvider=N2;Ri.Element=LE;Ri.ForwardRef=j2;Ri.Fragment=F2;Ri.Lazy=q2;Ri.Memo=H2;Ri.Portal=DE;Ri.Profiler=z2;Ri.StrictMode=B2;Ri.Suspense=$2;Ri.SuspenseList=V2;Ri.isAsyncMode=function(){return!1};Ri.isConcurrentMode=function(){return!1};Ri.isContextConsumer=function(e){return Hl(e)===U2};Ri.isContextProvider=function(e){return Hl(e)===N2};Ri.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LE};Ri.isForwardRef=function(e){return Hl(e)===j2};Ri.isFragment=function(e){return Hl(e)===F2};Ri.isLazy=function(e){return Hl(e)===q2};Ri.isMemo=function(e){return Hl(e)===H2};Ri.isPortal=function(e){return Hl(e)===DE};Ri.isProfiler=function(e){return Hl(e)===z2};Ri.isStrictMode=function(e){return Hl(e)===B2};Ri.isSuspense=function(e){return Hl(e)===$2};Ri.isSuspenseList=function(e){return Hl(e)===V2};Ri.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===F2||e===z2||e===B2||e===$2||e===V2||e===JV||typeof e=="object"&&e!==null&&(e.$$typeof===q2||e.$$typeof===H2||e.$$typeof===N2||e.$$typeof===U2||e.$$typeof===j2||e.$$typeof===wM||e.getModuleId!==void 0)};Ri.typeOf=Hl;(function(e){e.exports=Ri})(bM);const eH=q_(bM.exports);function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},L_(e,t)}function $l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L_(e,t)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},iu.apply(this,arguments)}function A1(e){return e.charAt(0)==="/"}function nw(e,t){for(var r=t,i=r+1,s=e.length;i<s;r+=1,i+=1)e[r]=e[i];e.pop()}function tH(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&A1(e),l=t&&A1(t),a=s||l;if(e&&A1(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var x;if(i.length){var S=i[i.length-1];x=S==="."||S===".."||S===""}else x=!1;for(var P=0,R=i.length;R>=0;R--){var z=i[R];z==="."?nw(i,R):z===".."?(nw(i,R),P++):P&&(nw(i,R),P--)}if(!a)for(;P--;P)i.unshift("..");a&&i[0]!==""&&(!i[0]||!A1(i[0]))&&i.unshift("");var N=i.join("/");return x&&N.substr(-1)!=="/"&&(N+="/"),N}var rH=!0,iw="Invariant failed";function Qh(e,t){if(!e){if(rH)throw new Error(iw);var r=typeof t=="function"?t():t,i=r?iw+": "+r:iw;throw new Error(i)}}function mg(e){return e.charAt(0)==="/"?e:"/"+e}function Zk(e){return e.charAt(0)==="/"?e.substr(1):e}function nH(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function SM(e,t){return nH(e,t)?e.substr(t.length):e}function CM(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function iH(e){var t=e||"/",r="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var l=t.indexOf("?");return l!==-1&&(r=t.substr(l),t=t.substr(0,l)),{pathname:t,search:r==="?"?"":r,hash:i==="#"?"":i}}function Pu(e){var t=e.pathname,r=e.search,i=e.hash,s=t||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Ju(e,t,r,i){var s;typeof e=="string"?(s=iH(e),s.state=t):(s=iu({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(l){throw l instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):l}return r&&(s.key=r),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=tH(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function FE(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function r(a,x,S,P){if(e!=null){var R=typeof e=="function"?e(a,x):e;typeof R=="string"?typeof S=="function"?S(R,P):P(!0):P(R!==!1)}else P(!0)}var i=[];function s(a){var x=!0;function S(){x&&a.apply(void 0,arguments)}return i.push(S),function(){x=!1,i=i.filter(function(P){return P!==S})}}function l(){for(var a=arguments.length,x=new Array(a),S=0;S<a;S++)x[S]=arguments[S];i.forEach(function(P){return P.apply(void 0,x)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:s,notifyListeners:l}}var EM=!!(typeof window<"u"&&window.document&&window.document.createElement);function kM(e,t){t(window.confirm(e))}function oH(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function aH(){return window.navigator.userAgent.indexOf("Trident")===-1}function sH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function uH(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Kk="popstate",Xk="hashchange";function Yk(){try{return window.history.state||{}}catch{return{}}}function TM(e){e===void 0&&(e={}),EM||Qh(!1);var t=window.history,r=oH(),i=!aH(),s=e,l=s.forceRefresh,a=l===void 0?!1:l,x=s.getUserConfirmation,S=x===void 0?kM:x,P=s.keyLength,R=P===void 0?6:P,z=e.basename?CM(mg(e.basename)):"";function N(Ue){var Re=Ue||{},le=Re.key,ye=Re.state,Mt=window.location,or=Mt.pathname,vr=Mt.search,dr=Mt.hash,Sr=or+vr+dr;return z&&(Sr=SM(Sr,z)),Ju(Sr,ye,le)}function $(){return Math.random().toString(36).substr(2,R)}var Z=FE();function J(Ue){iu(et,Ue),et.length=t.length,Z.notifyListeners(et.location,et.action)}function ae(Ue){uH(Ue)||se(N(Ue.state))}function V(){se(N(Yk()))}var K=!1;function se(Ue){if(K)K=!1,J();else{var Re="POP";Z.confirmTransitionTo(Ue,Re,S,function(le){le?J({action:Re,location:Ue}):me(Ue)})}}function me(Ue){var Re=et.location,le=ue.indexOf(Re.key);le===-1&&(le=0);var ye=ue.indexOf(Ue.key);ye===-1&&(ye=0);var Mt=le-ye;Mt&&(K=!0,lt(Mt))}var Ae=N(Yk()),ue=[Ae.key];function Se(Ue){return z+Pu(Ue)}function Ce(Ue,Re){var le="PUSH",ye=Ju(Ue,Re,$(),et.location);Z.confirmTransitionTo(ye,le,S,function(Mt){if(!!Mt){var or=Se(ye),vr=ye.key,dr=ye.state;if(r)if(t.pushState({key:vr,state:dr},null,or),a)window.location.href=or;else{var Sr=ue.indexOf(et.location.key),Ur=ue.slice(0,Sr+1);Ur.push(ye.key),ue=Ur,J({action:le,location:ye})}else window.location.href=or}})}function qe(Ue,Re){var le="REPLACE",ye=Ju(Ue,Re,$(),et.location);Z.confirmTransitionTo(ye,le,S,function(Mt){if(!!Mt){var or=Se(ye),vr=ye.key,dr=ye.state;if(r)if(t.replaceState({key:vr,state:dr},null,or),a)window.location.replace(or);else{var Sr=ue.indexOf(et.location.key);Sr!==-1&&(ue[Sr]=ye.key),J({action:le,location:ye})}else window.location.replace(or)}})}function lt(Ue){t.go(Ue)}function rt(){lt(-1)}function st(){lt(1)}var wt=0;function St(Ue){wt+=Ue,wt===1&&Ue===1?(window.addEventListener(Kk,ae),i&&window.addEventListener(Xk,V)):wt===0&&(window.removeEventListener(Kk,ae),i&&window.removeEventListener(Xk,V))}var Wt=!1;function fr(Ue){Ue===void 0&&(Ue=!1);var Re=Z.setPrompt(Ue);return Wt||(St(1),Wt=!0),function(){return Wt&&(Wt=!1,St(-1)),Re()}}function Rt(Ue){var Re=Z.appendListener(Ue);return St(1),function(){St(-1),Re()}}var et={length:t.length,action:"POP",location:Ae,createHref:Se,push:Ce,replace:qe,go:lt,goBack:rt,goForward:st,block:fr,listen:Rt};return et}var Jk="hashchange",lH={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+Zk(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:Zk,decodePath:mg},slash:{encodePath:mg,decodePath:mg}};function PM(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Nm(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function cH(e){window.location.hash=e}function ow(e){window.location.replace(PM(window.location.href)+"#"+e)}function fH(e){e===void 0&&(e={}),EM||Qh(!1);var t=window.history;sH();var r=e,i=r.getUserConfirmation,s=i===void 0?kM:i,l=r.hashType,a=l===void 0?"slash":l,x=e.basename?CM(mg(e.basename)):"",S=lH[a],P=S.encodePath,R=S.decodePath;function z(){var Re=R(Nm());return x&&(Re=SM(Re,x)),Ju(Re)}var N=FE();function $(Re){iu(Ue,Re),Ue.length=t.length,N.notifyListeners(Ue.location,Ue.action)}var Z=!1,J=null;function ae(Re,le){return Re.pathname===le.pathname&&Re.search===le.search&&Re.hash===le.hash}function V(){var Re=Nm(),le=P(Re);if(Re!==le)ow(le);else{var ye=z(),Mt=Ue.location;if(!Z&&ae(Mt,ye)||J===Pu(ye))return;J=null,K(ye)}}function K(Re){if(Z)Z=!1,$();else{var le="POP";N.confirmTransitionTo(Re,le,s,function(ye){ye?$({action:le,location:Re}):se(Re)})}}function se(Re){var le=Ue.location,ye=Se.lastIndexOf(Pu(le));ye===-1&&(ye=0);var Mt=Se.lastIndexOf(Pu(Re));Mt===-1&&(Mt=0);var or=ye-Mt;or&&(Z=!0,rt(or))}var me=Nm(),Ae=P(me);me!==Ae&&ow(Ae);var ue=z(),Se=[Pu(ue)];function Ce(Re){var le=document.querySelector("base"),ye="";return le&&le.getAttribute("href")&&(ye=PM(window.location.href)),ye+"#"+P(x+Pu(Re))}function qe(Re,le){var ye="PUSH",Mt=Ju(Re,void 0,void 0,Ue.location);N.confirmTransitionTo(Mt,ye,s,function(or){if(!!or){var vr=Pu(Mt),dr=P(x+vr),Sr=Nm()!==dr;if(Sr){J=vr,cH(dr);var Ur=Se.lastIndexOf(Pu(Ue.location)),Dr=Se.slice(0,Ur+1);Dr.push(vr),Se=Dr,$({action:ye,location:Mt})}else $()}})}function lt(Re,le){var ye="REPLACE",Mt=Ju(Re,void 0,void 0,Ue.location);N.confirmTransitionTo(Mt,ye,s,function(or){if(!!or){var vr=Pu(Mt),dr=P(x+vr),Sr=Nm()!==dr;Sr&&(J=vr,ow(dr));var Ur=Se.indexOf(Pu(Ue.location));Ur!==-1&&(Se[Ur]=vr),$({action:ye,location:Mt})}})}function rt(Re){t.go(Re)}function st(){rt(-1)}function wt(){rt(1)}var St=0;function Wt(Re){St+=Re,St===1&&Re===1?window.addEventListener(Jk,V):St===0&&window.removeEventListener(Jk,V)}var fr=!1;function Rt(Re){Re===void 0&&(Re=!1);var le=N.setPrompt(Re);return fr||(Wt(1),fr=!0),function(){return fr&&(fr=!1,Wt(-1)),le()}}function et(Re){var le=N.appendListener(Re);return Wt(1),function(){Wt(-1),le()}}var Ue={length:t.length,action:"POP",location:ue,createHref:Ce,push:qe,replace:lt,go:rt,goBack:st,goForward:wt,block:Rt,listen:et};return Ue}function e6(e,t,r){return Math.min(Math.max(e,t),r)}function pH(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,l=t.initialIndex,a=l===void 0?0:l,x=t.keyLength,S=x===void 0?6:x,P=FE();function R(Ce){iu(Se,Ce),Se.length=Se.entries.length,P.notifyListeners(Se.location,Se.action)}function z(){return Math.random().toString(36).substr(2,S)}var N=e6(a,0,s.length-1),$=s.map(function(Ce){return typeof Ce=="string"?Ju(Ce,void 0,z()):Ju(Ce,void 0,Ce.key||z())}),Z=Pu;function J(Ce,qe){var lt="PUSH",rt=Ju(Ce,qe,z(),Se.location);P.confirmTransitionTo(rt,lt,r,function(st){if(!!st){var wt=Se.index,St=wt+1,Wt=Se.entries.slice(0);Wt.length>St?Wt.splice(St,Wt.length-St,rt):Wt.push(rt),R({action:lt,location:rt,index:St,entries:Wt})}})}function ae(Ce,qe){var lt="REPLACE",rt=Ju(Ce,qe,z(),Se.location);P.confirmTransitionTo(rt,lt,r,function(st){!st||(Se.entries[Se.index]=rt,R({action:lt,location:rt}))})}function V(Ce){var qe=e6(Se.index+Ce,0,Se.entries.length-1),lt="POP",rt=Se.entries[qe];P.confirmTransitionTo(rt,lt,r,function(st){st?R({action:lt,location:rt,index:qe}):R()})}function K(){V(-1)}function se(){V(1)}function me(Ce){var qe=Se.index+Ce;return qe>=0&&qe<Se.entries.length}function Ae(Ce){return Ce===void 0&&(Ce=!1),P.setPrompt(Ce)}function ue(Ce){return P.appendListener(Ce)}var Se={length:$.length,action:"POP",location:$[N],index:N,entries:$,createHref:Z,push:J,replace:ae,go:V,goBack:K,goForward:se,canGo:me,block:Ae,listen:ue};return Se}var aw=1073741823,t6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function AH(){var e="__global_unique_id__";return t6[e]=(t6[e]||0)+1}function hH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dH(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(l){return l(e,s)})}}}function mH(e){return Array.isArray(e)?e[0]:e}function gH(e,t){var r,i,s="__create-react-context-"+AH()+"__",l=function(x){$l(S,x);function S(){var R;return R=x.apply(this,arguments)||this,R.emitter=dH(R.props.value),R}var P=S.prototype;return P.getChildContext=function(){var z;return z={},z[s]=this.emitter,z},P.componentWillReceiveProps=function(z){if(this.props.value!==z.value){var N=this.props.value,$=z.value,Z;hH(N,$)?Z=0:(Z=typeof t=="function"?t(N,$):aw,Z|=0,Z!==0&&this.emitter.set(z.value,Z))}},P.render=function(){return this.props.children},S}(hr.exports.Component);l.childContextTypes=(r={},r[s]=pn.exports.object.isRequired,r);var a=function(x){$l(S,x);function S(){var R;return R=x.apply(this,arguments)||this,R.state={value:R.getValue()},R.onUpdate=function(z,N){var $=R.observedBits|0;($&N)!==0&&R.setState({value:R.getValue()})},R}var P=S.prototype;return P.componentWillReceiveProps=function(z){var N=z.observedBits;this.observedBits=N==null?aw:N},P.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var z=this.props.observedBits;this.observedBits=z==null?aw:z},P.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},P.getValue=function(){return this.context[s]?this.context[s].get():e},P.render=function(){return mH(this.props.children)(this.state.value)},S}(hr.exports.Component);return a.contextTypes=(i={},i[s]=pn.exports.object,i),{Provider:l,Consumer:a}}var yH=En.createContext||gH,V0={exports:{}},vH=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},D_=vH;V0.exports=MM;V0.exports.parse=BE;V0.exports.compile=xH;V0.exports.tokensToFunction=IM;V0.exports.tokensToRegExp=OM;var _H=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function BE(e,t){for(var r=[],i=0,s=0,l="",a=t&&t.delimiter||"/",x;(x=_H.exec(e))!=null;){var S=x[0],P=x[1],R=x.index;if(l+=e.slice(s,R),s=R+S.length,P){l+=P[1];continue}var z=e[s],N=x[2],$=x[3],Z=x[4],J=x[5],ae=x[6],V=x[7];l&&(r.push(l),l="");var K=N!=null&&z!=null&&z!==N,se=ae==="+"||ae==="*",me=ae==="?"||ae==="*",Ae=x[2]||a,ue=Z||J;r.push({name:$||i++,prefix:N||"",delimiter:Ae,optional:me,repeat:se,partial:K,asterisk:!!V,pattern:ue?SH(ue):V?".*":"[^"+Q1(Ae)+"]+?"})}return s<e.length&&(l+=e.substr(s)),l&&r.push(l),r}function xH(e,t){return IM(BE(e,t),t)}function bH(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function wH(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function IM(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",NE(t)));return function(s,l){for(var a="",x=s||{},S=l||{},P=S.pretty?bH:encodeURIComponent,R=0;R<e.length;R++){var z=e[R];if(typeof z=="string"){a+=z;continue}var N=x[z.name],$;if(N==null)if(z.optional){z.partial&&(a+=z.prefix);continue}else throw new TypeError('Expected "'+z.name+'" to be defined');if(D_(N)){if(!z.repeat)throw new TypeError('Expected "'+z.name+'" to not repeat, but received `'+JSON.stringify(N)+"`");if(N.length===0){if(z.optional)continue;throw new TypeError('Expected "'+z.name+'" to not be empty')}for(var Z=0;Z<N.length;Z++){if($=P(N[Z]),!r[R].test($))throw new TypeError('Expected all "'+z.name+'" to match "'+z.pattern+'", but received `'+JSON.stringify($)+"`");a+=(Z===0?z.prefix:z.delimiter)+$}continue}if($=z.asterisk?wH(N):P(N),!r[R].test($))throw new TypeError('Expected "'+z.name+'" to match "'+z.pattern+'", but received "'+$+'"');a+=z.prefix+$}return a}}function Q1(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function SH(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function zE(e,t){return e.keys=t,e}function NE(e){return e&&e.sensitive?"":"i"}function CH(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return zE(e,t)}function EH(e,t,r){for(var i=[],s=0;s<e.length;s++)i.push(MM(e[s],t,r).source);var l=new RegExp("(?:"+i.join("|")+")",NE(r));return zE(l,t)}function kH(e,t,r){return OM(BE(e,r),t,r)}function OM(e,t,r){D_(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,s=r.end!==!1,l="",a=0;a<e.length;a++){var x=e[a];if(typeof x=="string")l+=Q1(x);else{var S=Q1(x.prefix),P="(?:"+x.pattern+")";t.push(x),x.repeat&&(P+="(?:"+S+P+")*"),x.optional?x.partial?P=S+"("+P+")?":P="(?:"+S+"("+P+"))?":P=S+"("+P+")",l+=P}}var R=Q1(r.delimiter||"/"),z=l.slice(-R.length)===R;return i||(l=(z?l.slice(0,-R.length):l)+"(?:"+R+"(?=$))?"),s?l+="$":l+=i&&z?"":"(?="+R+"|$)",zE(new RegExp("^"+l,NE(r)),t)}function MM(e,t,r){return D_(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?CH(e,t):D_(e)?EH(e,t,r):kH(e,t,r)}var TH={exports:{}},Li={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=typeof Symbol=="function"&&Symbol.for,UE=rs?Symbol.for("react.element"):60103,jE=rs?Symbol.for("react.portal"):60106,G2=rs?Symbol.for("react.fragment"):60107,Q2=rs?Symbol.for("react.strict_mode"):60108,W2=rs?Symbol.for("react.profiler"):60114,Z2=rs?Symbol.for("react.provider"):60109,K2=rs?Symbol.for("react.context"):60110,$E=rs?Symbol.for("react.async_mode"):60111,X2=rs?Symbol.for("react.concurrent_mode"):60111,Y2=rs?Symbol.for("react.forward_ref"):60112,J2=rs?Symbol.for("react.suspense"):60113,PH=rs?Symbol.for("react.suspense_list"):60120,ex=rs?Symbol.for("react.memo"):60115,tx=rs?Symbol.for("react.lazy"):60116,IH=rs?Symbol.for("react.block"):60121,OH=rs?Symbol.for("react.fundamental"):60117,MH=rs?Symbol.for("react.responder"):60118,RH=rs?Symbol.for("react.scope"):60119;function ol(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UE:switch(e=e.type,e){case $E:case X2:case G2:case W2:case Q2:case J2:return e;default:switch(e=e&&e.$$typeof,e){case K2:case Y2:case tx:case ex:case Z2:return e;default:return t}}case jE:return t}}}function RM(e){return ol(e)===X2}Li.AsyncMode=$E;Li.ConcurrentMode=X2;Li.ContextConsumer=K2;Li.ContextProvider=Z2;Li.Element=UE;Li.ForwardRef=Y2;Li.Fragment=G2;Li.Lazy=tx;Li.Memo=ex;Li.Portal=jE;Li.Profiler=W2;Li.StrictMode=Q2;Li.Suspense=J2;Li.isAsyncMode=function(e){return RM(e)||ol(e)===$E};Li.isConcurrentMode=RM;Li.isContextConsumer=function(e){return ol(e)===K2};Li.isContextProvider=function(e){return ol(e)===Z2};Li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UE};Li.isForwardRef=function(e){return ol(e)===Y2};Li.isFragment=function(e){return ol(e)===G2};Li.isLazy=function(e){return ol(e)===tx};Li.isMemo=function(e){return ol(e)===ex};Li.isPortal=function(e){return ol(e)===jE};Li.isProfiler=function(e){return ol(e)===W2};Li.isStrictMode=function(e){return ol(e)===Q2};Li.isSuspense=function(e){return ol(e)===J2};Li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G2||e===X2||e===W2||e===Q2||e===J2||e===PH||typeof e=="object"&&e!==null&&(e.$$typeof===tx||e.$$typeof===ex||e.$$typeof===Z2||e.$$typeof===K2||e.$$typeof===Y2||e.$$typeof===OH||e.$$typeof===MH||e.$$typeof===RH||e.$$typeof===IH)};Li.typeOf=ol;(function(e){e.exports=Li})(TH);function Wh(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var LM={exports:{}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=typeof Symbol=="function"&&Symbol.for,VE=ns?Symbol.for("react.element"):60103,HE=ns?Symbol.for("react.portal"):60106,rx=ns?Symbol.for("react.fragment"):60107,nx=ns?Symbol.for("react.strict_mode"):60108,ix=ns?Symbol.for("react.profiler"):60114,ox=ns?Symbol.for("react.provider"):60109,ax=ns?Symbol.for("react.context"):60110,qE=ns?Symbol.for("react.async_mode"):60111,sx=ns?Symbol.for("react.concurrent_mode"):60111,ux=ns?Symbol.for("react.forward_ref"):60112,lx=ns?Symbol.for("react.suspense"):60113,LH=ns?Symbol.for("react.suspense_list"):60120,cx=ns?Symbol.for("react.memo"):60115,fx=ns?Symbol.for("react.lazy"):60116,DH=ns?Symbol.for("react.block"):60121,FH=ns?Symbol.for("react.fundamental"):60117,BH=ns?Symbol.for("react.responder"):60118,zH=ns?Symbol.for("react.scope"):60119;function al(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VE:switch(e=e.type,e){case qE:case sx:case rx:case ix:case nx:case lx:return e;default:switch(e=e&&e.$$typeof,e){case ax:case ux:case fx:case cx:case ox:return e;default:return t}}case HE:return t}}}function DM(e){return al(e)===sx}Di.AsyncMode=qE;Di.ConcurrentMode=sx;Di.ContextConsumer=ax;Di.ContextProvider=ox;Di.Element=VE;Di.ForwardRef=ux;Di.Fragment=rx;Di.Lazy=fx;Di.Memo=cx;Di.Portal=HE;Di.Profiler=ix;Di.StrictMode=nx;Di.Suspense=lx;Di.isAsyncMode=function(e){return DM(e)||al(e)===qE};Di.isConcurrentMode=DM;Di.isContextConsumer=function(e){return al(e)===ax};Di.isContextProvider=function(e){return al(e)===ox};Di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VE};Di.isForwardRef=function(e){return al(e)===ux};Di.isFragment=function(e){return al(e)===rx};Di.isLazy=function(e){return al(e)===fx};Di.isMemo=function(e){return al(e)===cx};Di.isPortal=function(e){return al(e)===HE};Di.isProfiler=function(e){return al(e)===ix};Di.isStrictMode=function(e){return al(e)===nx};Di.isSuspense=function(e){return al(e)===lx};Di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rx||e===sx||e===ix||e===nx||e===lx||e===LH||typeof e=="object"&&e!==null&&(e.$$typeof===fx||e.$$typeof===cx||e.$$typeof===ox||e.$$typeof===ax||e.$$typeof===ux||e.$$typeof===FH||e.$$typeof===BH||e.$$typeof===zH||e.$$typeof===DH)};Di.typeOf=al;(function(e){e.exports=Di})(LM);var FM=LM.exports,NH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},UH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BM={};BM[FM.ForwardRef]=NH;BM[FM.Memo]=UH;var zM=function(t){var r=yH();return r.displayName=t,r},jH=zM("Router-History"),P0=zM("Router"),px=function(e){$l(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(l){s._pendingLocation=l})),s}var r=t.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(l){s._isMounted&&s.setState({location:l})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return En.createElement(P0.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},En.createElement(jH.Provider,{children:this.props.children||null,value:this.props.history}))},t}(En.Component);En.Component;En.Component;var r6={},$H=1e4,n6=0;function VH(e,t){var r=""+t.end+t.strict+t.sensitive,i=r6[r]||(r6[r]={});if(i[e])return i[e];var s=[],l=V0.exports(e,s,t),a={regexp:l,keys:s};return n6<$H&&(i[e]=a,n6++),a}function GE(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,i=r.path,s=r.exact,l=s===void 0?!1:s,a=r.strict,x=a===void 0?!1:a,S=r.sensitive,P=S===void 0?!1:S,R=[].concat(i);return R.reduce(function(z,N){if(!N&&N!=="")return null;if(z)return z;var $=VH(N,{end:l,strict:x,sensitive:P}),Z=$.regexp,J=$.keys,ae=Z.exec(e);if(!ae)return null;var V=ae[0],K=ae.slice(1),se=e===V;return l&&!se?null:{path:N,url:N==="/"&&V===""?"/":V,isExact:se,params:J.reduce(function(me,Ae,ue){return me[Ae.name]=K[ue],me},{})}},null)}function HH(e){return En.Children.count(e)===0}En.Component;function QE(e){return e.charAt(0)==="/"?e:"/"+e}function qH(e,t){return e?iu({},t,{pathname:QE(e)+t.pathname}):t}function GH(e,t){if(!e)return t;var r=QE(e);return t.pathname.indexOf(r)!==0?t:iu({},t,{pathname:t.pathname.substr(r.length)})}function i6(e){return typeof e=="string"?e:Pu(e)}function sw(e){return function(){Qh(!1)}}function o6(){}En.Component;En.Component;En.useContext;var NM=function(e){$l(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,i.history=TM(i.props),i}var r=t.prototype;return r.render=function(){return _t(px,{history:this.history,children:this.props.children})},t}(En.Component);En.Component;var fS=function(t,r){return typeof t=="function"?t(r):t},pS=function(t,r){return typeof t=="string"?Ju(t,null,null,r):t},WE=function(t){return t},I0=En.forwardRef;typeof I0>"u"&&(I0=WE);function QH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var WH=I0(function(e,t){var r=e.innerRef,i=e.navigate,s=e.onClick,l=Wh(e,["innerRef","navigate","onClick"]),a=l.target,x=iu({},l,{onClick:function(P){try{s&&s(P)}catch(R){throw P.preventDefault(),R}!P.defaultPrevented&&P.button===0&&(!a||a==="_self")&&!QH(P)&&(P.preventDefault(),i())}});return WE!==I0?x.ref=t||r:x.ref=r,_t("a",{...x})}),ZH=I0(function(e,t){var r=e.component,i=r===void 0?WH:r,s=e.replace,l=e.to,a=e.innerRef,x=Wh(e,["component","replace","to","innerRef"]);return En.createElement(P0.Consumer,null,function(S){S||Qh(!1);var P=S.history,R=pS(fS(l,S.location),S.location),z=R?P.createHref(R):"",N=iu({},x,{href:z,navigate:function(){var Z=fS(l,S.location),J=Pu(S.location)===Pu(pS(Z)),ae=s||J?P.replace:P.push;ae(Z)}});return WE!==I0?N.ref=t||a:N.innerRef=a,En.createElement(i,N)})}),UM=function(t){return t},F_=En.forwardRef;typeof F_>"u"&&(F_=UM);function KH(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(i){return i}).join(" ")}F_(function(e,t){var r=e["aria-current"],i=r===void 0?"page":r,s=e.activeClassName,l=s===void 0?"active":s,a=e.activeStyle,x=e.className,S=e.exact,P=e.isActive,R=e.location,z=e.sensitive,N=e.strict,$=e.style,Z=e.to,J=e.innerRef,ae=Wh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return En.createElement(P0.Consumer,null,function(V){V||Qh(!1);var K=R||V.location,se=pS(fS(Z,K),K),me=se.pathname,Ae=me&&me.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ue=Ae?GE(K.pathname,{path:Ae,exact:S,sensitive:z,strict:N}):null,Se=!!(P?P(ue,K):ue),Ce=typeof x=="function"?x(Se):x,qe=typeof $=="function"?$(Se):$;Se&&(Ce=KH(Ce,l),qe=iu({},qe,a));var lt=iu({"aria-current":Se&&i||null,className:Ce,style:qe,to:se},ae);return UM!==F_?lt.ref=t||J:lt.innerRef=J,_t(ZH,{...lt})})});var ZE=function(){};function jM(e){try{return e.apply(this,[].slice.call(arguments,1))}catch(t){return t=t instanceof Error?t:new Error(t),setTimeout(function(){throw t}),t}}function Yg(e){return typeof e=="string"}function B_(e){return typeof e=="object"&&e!==null}function Jg(e){return typeof e=="function"}function $M(e){return Jg(e)&&"types"in e}function VM(e){return Jg(e)&&"type"in e}function XH(e){return B_(e)&&Yg(e.type)&&"payload"in e}function YH(e,t,r){var i=e.get(t);i===void 0&&e.set(t,i=new Set),i.add(r)}function JH(e,t,r){var i=e.get(t);i!==void 0&&(i.delete(r),i.size===0&&e.delete(t))}function uw(e,t){e.includes(t)||e.push(t)}function mp(e,t){return Object.assign(new Error("Reatom: "+e),{data:t})}function KE(e){return{atom:e,cause:"init",ctx:{},state:void 0,tracks:void 0}}function eq(e,t){var r=t===void 0?{}:t,i=r.patch,s=i===void 0?new Map:i,l=r.getCache,a=l===void 0?function($,Z){return Z!=null?Z:KE($)}:l,x=r.effects,S=x===void 0?[]:x,P=r.causes,R=P===void 0?[]:P;R=R.concat({actions:e,patch:s});var z=e.map(function($){return $.type}).join(", "),N={actions:e,getCache:a,process:function($,Z){var J=s.get($);if(J==null){Z=a($,Z);var ae=(J=$(N,Z)).cause,V=J.state,K=J.listeners;s.set($,J),Object.is(V,Z.state)?J.cause=Z.cause:(K==null?void 0:K.size)>0&&N.schedule(function(se,me){return K.forEach(function(Ae){return jM(Ae,V,me)})},ae)}return J},schedule:function($,Z){Z===void 0&&(Z=z);var J=R.concat([Z]);S.push(function(ae){return $(function(V){return ae(V,J)},J)})}};return N}function a6(e,t){return t===void 0&&(t=XE),t.getState(e)}var tq=0;function Ax(e,t,r){r===void 0&&(r={});var i=Yg(r)?{id:r}:r,s=i.decorators,l=s===void 0?[]:s,a=i.id,x=a===void 0?"atom"+ ++tq:a,S=i.store,P=S===void 0?XE:S,R=[],z=[],N={},$={};if(!Jg(t)||!Yg(x))throw mp("Atom arguments");Object.entries(e).forEach(function(ae){var V=ae[0],K=ae[1];if(!Jg(K))throw mp("Invalid atom dependencies (type "+typeof K+") at "+V,K);if($M(K))K.types.forEach(function(Ae){return uw(z,Ae)});else{var se;if(VM(K))$[V]=se=K.type;else{var me=function(){return{payload:K.apply(void 0,[].slice.call(arguments)),type:se,targets:[J]}};me.type=se=V+"_"+x,me.dispatch=function(){return P.dispatch(me.apply(void 0,[].slice.call(arguments)))},N[V]=me,V[0]!="_"&&(J[V]=me)}uw(R,se),uw(z,se)}});var Z=l.reduce(function(ae,V){return V(ae)},function(ae,V,K,se,me){var Ae=function(ue){return se[ue].apply(se,[].slice.call(arguments,1))};return function(ue,Se){var Ce,qe=ue.actions,lt=ue.process,rt=ue.schedule,st=Se.atom,wt=Se.ctx,St=Se.state,Wt=Se.listeners,fr=[],Rt=ZE,et=function(le,ye){Rt();var Mt=lt(le,ye);return Ce==null&&fr.every(function(or){return or.atom.id!=le.id})&&fr.push(Mt),Mt},Ue={create:Ae,get:function(le){return et(V[le]).state},getUnlistedState:function(le){return Rt(),lt(le).state},onAction:function(le,ye){var Mt,or;if(Rt(),Ce!=null)throw mp("Can not react to action inside another reaction");var vr=(Mt=me[le])!=null?Mt:(or=se[le])==null?void 0:or.type;if(vr==null)throw mp("Unknown action",{name:le});qe.forEach(function(dr){vr==dr.type&&(Ce=le,le!=vr&&(Ce+=" ("+vr+")"),Ce+=" handler",ye(dr.payload),Ce=void 0)})},onChange:function(le,ye){var Mt;if(Rt(),Ce!=null)throw mp("Can not react to atom changes inside another reaction");var or=V[le],vr=(Mt=Se.tracks)==null?void 0:Mt.find(function(Sr){return Sr.atom.id==or.id}),dr=et(or,vr);vr!=null&&Object.is(vr.state,dr.state)||(Ce=le,le!=st.id&&(Ce+=" ("+st.id+")"),Ce+=" handler",ye(dr.state,vr==null?void 0:vr.state),Ce=void 0)},onInit:function(le){Se.tracks==null&&le()},schedule:function(le){Rt(),rt(function(ye,Mt){return le(ye,wt,Mt)},Ce)}},Re="init";return(Se.tracks==null||qe.some(function(le){var ye=le.type;return K.includes(ye)&&(Re=ye+" action",!0)})||Se.tracks.some(function(le){return!Object.is(le.state,et(le.atom,le).state)&&(Re=le.atom.id+" atom",!0)}))&&(fr.length=0,St=ae(Ue,St)),Rt=function(){throw mp("Outdated track call")},{atom:st,cause:Re,ctx:wt,state:St,tracks:fr,listeners:Wt}}}(t,e,R,N,$));function J(ae,V){return V===void 0&&(V=KE(J)),Z(ae,V)}return J.id=x,J.getState=function(){return P.getState(J)},J.subscribe=function(ae){return P.subscribe(J,ae)},J.types=z,J}var rq=Symbol();function HM(e){var t=e===void 0?{}:e,r=t.callSafety,i=r===void 0?jM:r,s=t.createTemplateCache,l=s===void 0?KE:s,a=t.onError,x=t.onPatch,S=t.now,P=S===void 0?Date.now.bind(Date):S,R=new Map,z=new WeakMap,N=[],$=[];function Z(V){if(!$M(V))throw mp("passed thing is not an atom");(function(K,se){var me,Ae=se(K);if(Ae.tracks===void 0)return!1;if(((me=Ae.listeners)==null?void 0:me.size)>0)return!0;for(var ue=[Ae.tracks];ue.length>0;)for(var Se=ue.pop(),Ce=0;Ce<Se.length;Ce++){var qe=Se[Ce];if(qe!=se(qe.atom))return!1;ue.push(qe.tracks)}return!0})(V,ae.getCache)||ae.dispatch({type:"invalidate "+V.id+" [~"+Math.random()+"]",payload:null,targets:[V]})}a&&N.push(a),x&&$.push(x);var J=function(V,K){var se,me;return(se=(me=z.get(V))!=null?me:K)!=null?se:l(V)},ae={dispatch:function V(K,se){var me=P(),Ae=Array.isArray(K)?K:[K];if(Ae.length==0||!Ae.every(XH))throw mp("dispatch arguments");var ue=new Map,Se=[],Ce=eq(Ae,{patch:ue,getCache:J,effects:Se,causes:se}),qe=function(){return{actions:Ae,patch:ue,causes:se!=null?se:[],start:me,end:P()}};try{Ae.forEach(function(st){var wt,St=st.type,Wt=st.targets;Wt==null||Wt.forEach(function(fr){return Ce.process(fr)}),(wt=R.get(St))==null||wt.forEach(function(fr){return Ce.process(fr)})}),ue.forEach(function(st,wt){return z.set(wt,st)})}catch(st){var lt=qe();throw N.forEach(function(wt){return wt(st,lt)}),st}var rt=qe();$.forEach(function(st){return st(rt)}),Se.forEach(function(st){return i(st,V)})},getCache:J,getState:function(V){return Z(V),J(V).state},onError:function(V){return N.push(V),function(){return N=N.filter(function(K){return K!==V})}},onPatch:function(V){return $.push(V),function(){return $=$.filter(function(K){return K!==V})}},subscribe:function(V,K){var se;if(!Jg(K))throw mp("subscribe callback is not a function");Z(V);var me=J(V),Ae=(se=me.listeners)!=null?se:me.listeners=new Set;Ae.size==0&&V.types.forEach(function(Ce){return YH(R,Ce,V)});var ue=rq,Se=function(Ce,qe){var lt=z.get(V);Object.is(ue,lt.state)||K(ue=Ce,qe)};return Ae.add(Se),i(K,me.state,[]),function(){Ae.delete(Se),Ae.size==0&&V.types.forEach(function(Ce){return JH(R,Ce,V)})}}};return ae}var XE=HM(),qM=En.createContext(XE),nq=function(e){return e()};function GM(e,t){return function(){var r=t.apply(void 0,[].slice.call(arguments));r&&nq(function(){e.dispatch(r)})}}function AS(e,t){t===void 0&&(t=[]);var r=En.useContext(qM);return En.useCallback(GM(r,e),t.concat(r))}function QM(e,t,r){var i=e;typeof t=="function"?(r!=null||(r=[]),e=En.useMemo(function(){return Ax({origin:i},function(R){return t((0,R.get)("origin"))})},r.concat(i))):r=t!=null?t:[];var s=En.useContext(qM);r=r.concat([e,s]);var l=En.useState(function(){return a6(e,s)}),a=l[0],x=l[1],S=En.useRef(a);S.current=a=a6(e,s);var P=En.useMemo(function(){return Object.entries(i).reduce(function(R,z){var N=z[0],$=z[1];return VM($)&&(R[N]=GM(s,$)),R},{})},r);return En.useEffect(function(){return s.subscribe(e,function(R){return Object.is(R,S.current)||x(S.current=R)})},r),En.useDebugValue(a),[a,P]}function hS(){return hS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hS.apply(this,arguments)}var iq=["decorators"],oq=0;function aq(e,t,r){r===void 0&&(r="primitive"+ ++oq),t!=null||(t={set:function(R,z){return z},change:function(R,z){return z(R)}});var i=Yg(r)?{id:r}:r,s=i.decorators,l=s===void 0?[]:s,a=function(R,z){if(R==null)return{};var N,$,Z={},J=Object.keys(R);for($=0;$<J.length;$++)z.indexOf(N=J[$])>=0||(Z[N]=R[N]);return Z}(i,iq);(l=l.slice()).unshift(function(R){return function(z,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),z.actions.forEach(function(Z){var J,ae=P.indexOf(Z.type);ae!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(J=t)[x[ae]].apply(J,[N.state].concat(Z.payload)))}),N}});var x=Object.keys(t),S=Ax(x.reduce(function(R,z){return R[z]=function(){return[].slice.call(arguments)},R},{}),ZE,hS({decorators:l},a)),P=x.map(function(R){return S[R].type});return S}var sq=0;function uq(e,t){return e===void 0&&(e=!1),t===void 0&&(t="boolean"+ ++sq),aq(e,{toggle:function(r){return!r},setTrue:function(){return!0},setFalse:function(){return!1},change:function(r,i){return i(r)},set:function(r,i){return i}},t)}function dS(){return dS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},dS.apply(this,arguments)}var lq=["decorators"],cq=0;function YE(e,t,r){r===void 0&&(r="primitive"+ ++cq),t!=null||(t={set:function(R,z){return z},change:function(R,z){return z(R)}});var i=Yg(r)?{id:r}:r,s=i.decorators,l=s===void 0?[]:s,a=function(R,z){if(R==null)return{};var N,$,Z={},J=Object.keys(R);for($=0;$<J.length;$++)z.indexOf(N=J[$])>=0||(Z[N]=R[N]);return Z}(i,lq);(l=l.slice()).unshift(function(R){return function(z,N){var $;return N.tracks==null&&(N.tracks=[],($=N).state!=null||($.state=e)),z.actions.forEach(function(Z){var J,ae=P.indexOf(Z.type);ae!=-1&&(N==N&&(N=Object.assign({},N)),N.state=(J=t)[x[ae]].apply(J,[N.state].concat(Z.payload)))}),N}});var x=Object.keys(t),S=Ax(x.reduce(function(R,z){return R[z]=function(){return[].slice.call(arguments)},R},{}),ZE,dS({decorators:l},a)),P=x.map(function(R){return S[R].type});return S}const fq="METRICS";function pq(e,t){const r=new CustomEvent(fq,{detail:{name:e,payload:t}});globalThis.dispatchEvent(r)}var LT;const Aq=!!((LT=globalThis.window)!=null&&LT.localStorage.getItem("KONTUR_DEBUG"));var DT;(DT=globalThis.window)!=null&&DT.localStorage.getItem("KONTUR_METRICS_DEBUG");var FT;const hq=!!((FT=globalThis.window)!=null&&FT.localStorage.getItem("KONTUR_WARN"));var BT;const s6=(BT=globalThis.window)==null?void 0:BT.localStorage.getItem("KONTUR_TRACE_TYPE");var zT;const dq=!!((zT=globalThis.window)!=null&&zT.localStorage.getItem("KONTUR_TRACE_PATCH"));function mq(e){var r;const t=(r=e.actions.filter(i=>!i.type.startsWith("invalidate ")))==null?void 0:r.map(i=>{var s,l;if(((s=i.targets)==null?void 0:s.length)===1){const a=String(i.targets[0].id);if(i.type.endsWith(a)){const x=i.type.substring(0,i.type.length-a.length-1);return a+" <"+x+"> "}}return((l=i.targets)==null?void 0:l.map(a=>a.id).join(","))+" <-- "+i.type}).join(`
	`);t&&console.warn(`${performance.now()}:>`,t,e)}function gq(){return HM({onPatch:e=>{{dq&&mq(e);for(const t of e.actions)t.type.includes("invalidate")||(pq(t.type,t.payload),s6&&t.type.includes(s6)&&console.trace("TRACE:",t.type,e),Aq&&console.debug(t.type,t.payload),hq&&console.warn(t.type,t.payload))}}})}const WM=gq(),_y=e=>({store:WM,...typeof e=="string"?{id:e}:e}),Ro=(e,t,r)=>Ax(e,t,_y(r)),JE=(e,t)=>uq(e,_y(t));function yq(e,t,r){return YE(e,t,_y(r))}let ZM=0;function KM(e=new Set,t=`set${++ZM}`){return YE(e,{set:(r,i)=>r.has(i)?r:new Set(r).add(i),delete:(r,i)=>{const s=r=new Set(r);return s.delete(i)?s:r},clear:()=>new Set,change:(r,i)=>i(new Set(r))},_y(t))}function H0(e=new Map,t=`map${++ZM}`){return YE(e,{set:(r,i,s)=>r.get(i)===s?r:new Map(r).set(i,s),delete:(r,i)=>{const s=r=new Map(r);return s.delete(i)?s:r},clear:()=>new Map,change:(r,i)=>i(new Map(r))},_y(t))}const mS=Ro({setCurrentTooltip:e=>e,resetCurrentTooltip:()=>null,turnOffById:e=>e},({onAction:e},t=null)=>(e("setCurrentTooltip",r=>t=r),e("resetCurrentTooltip",()=>t=null),e("turnOffById",r=>{(t==null?void 0:t.initiatorId)===r&&(t=null)}),t),"[Shared state] currentTooltipAtom");function vq(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function _q(e,t){e.classList?e.classList.add(t):vq(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function u6(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xq(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=u6(e.className,t):e.setAttribute("class",u6(e.className&&e.className.baseVal||"",t))}const l6={disabled:!1},XM=En.createContext(null);var YM=function(t){return t.scrollTop},rg="unmounted",Sh="exited",Ch="entering",Gd="entered",gS="exiting",kp=function(e){$l(t,e);function t(i,s){var l;l=e.call(this,i,s)||this;var a=s,x=a&&!a.isMounting?i.enter:i.appear,S;return l.appearStatus=null,i.in?x?(S=Sh,l.appearStatus=Ch):S=Gd:i.unmountOnExit||i.mountOnEnter?S=rg:S=Sh,l.state={status:S},l.nextCallback=null,l}t.getDerivedStateFromProps=function(s,l){var a=s.in;return a&&l.status===rg?{status:Sh}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var l=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Ch&&a!==Gd&&(l=Ch):(a===Ch||a===Gd)&&(l=gS)}this.updateStatus(!1,l)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,l,a,x;return l=a=x=s,s!=null&&typeof s!="number"&&(l=s.exit,a=s.enter,x=s.appear!==void 0?s.appear:a),{exit:l,enter:a,appear:x}},r.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===Ch){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Jv.findDOMNode(this);a&&YM(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sh&&this.setState({status:rg})},r.performEnter=function(s){var l=this,a=this.props.enter,x=this.context?this.context.isMounting:s,S=this.props.nodeRef?[x]:[Jv.findDOMNode(this),x],P=S[0],R=S[1],z=this.getTimeouts(),N=x?z.appear:z.enter;if(!s&&!a||l6.disabled){this.safeSetState({status:Gd},function(){l.props.onEntered(P)});return}this.props.onEnter(P,R),this.safeSetState({status:Ch},function(){l.props.onEntering(P,R),l.onTransitionEnd(N,function(){l.safeSetState({status:Gd},function(){l.props.onEntered(P,R)})})})},r.performExit=function(){var s=this,l=this.props.exit,a=this.getTimeouts(),x=this.props.nodeRef?void 0:Jv.findDOMNode(this);if(!l||l6.disabled){this.safeSetState({status:Sh},function(){s.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:gS},function(){s.props.onExiting(x),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:Sh},function(){s.props.onExited(x)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},r.setNextCallback=function(s){var l=this,a=!0;return this.nextCallback=function(x){a&&(a=!1,l.nextCallback=null,s(x))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(s,l){this.setNextCallback(l);var a=this.props.nodeRef?this.props.nodeRef.current:Jv.findDOMNode(this),x=s==null&&!this.props.addEndListener;if(!a||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],P=S[0],R=S[1];this.props.addEndListener(P,R)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===rg)return null;var l=this.props,a=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var x=Wh(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _t(XM.Provider,{value:null,children:typeof a=="function"?a(s,x):En.cloneElement(En.Children.only(a),x)})},t}(En.Component);kp.contextType=XM;kp.propTypes={};function Dd(){}kp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dd,onEntering:Dd,onEntered:Dd,onExit:Dd,onExiting:Dd,onExited:Dd};kp.UNMOUNTED=rg;kp.EXITED=Sh;kp.ENTERING=Ch;kp.ENTERED=Gd;kp.EXITING=gS;const bq=kp;var wq=function(t,r){return t&&r&&r.split(" ").forEach(function(i){return _q(t,i)})},lw=function(t,r){return t&&r&&r.split(" ").forEach(function(i){return xq(t,i)})},e4=function(e){$l(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1];i.removeClasses(R,"exit"),i.addClass(R,z?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(x,S)},i.onEntering=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1],N=z?"appear":"enter";i.addClass(R,N,"active"),i.props.onEntering&&i.props.onEntering(x,S)},i.onEntered=function(x,S){var P=i.resolveArguments(x,S),R=P[0],z=P[1],N=z?"appear":"enter";i.removeClasses(R,N),i.addClass(R,N,"done"),i.props.onEntered&&i.props.onEntered(x,S)},i.onExit=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"appear"),i.removeClasses(P,"enter"),i.addClass(P,"exit","base"),i.props.onExit&&i.props.onExit(x)},i.onExiting=function(x){var S=i.resolveArguments(x),P=S[0];i.addClass(P,"exit","active"),i.props.onExiting&&i.props.onExiting(x)},i.onExited=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"exit"),i.addClass(P,"exit","done"),i.props.onExited&&i.props.onExited(x)},i.resolveArguments=function(x,S){return i.props.nodeRef?[i.props.nodeRef.current,x]:[x,S]},i.getClassNames=function(x){var S=i.props.classNames,P=typeof S=="string",R=P&&S?S+"-":"",z=P?""+R+x:S[x],N=P?z+"-active":S[x+"Active"],$=P?z+"-done":S[x+"Done"];return{baseClassName:z,activeClassName:N,doneClassName:$}},i}var r=t.prototype;return r.addClass=function(s,l,a){var x=this.getClassNames(l)[a+"ClassName"],S=this.getClassNames("enter"),P=S.doneClassName;l==="appear"&&a==="done"&&P&&(x+=" "+P),a==="active"&&s&&YM(s),x&&(this.appliedClasses[l][a]=x,wq(s,x))},r.removeClasses=function(s,l){var a=this.appliedClasses[l],x=a.base,S=a.active,P=a.done;this.appliedClasses[l]={},x&&lw(s,x),S&&lw(s,S),P&&lw(s,P)},r.render=function(){var s=this.props;s.classNames;var l=Wh(s,["classNames"]);return _t(bq,{...l,onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited})},t}(En.Component);e4.defaultProps={classNames:""};e4.propTypes={};const Sq=e4;function FA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const Cq="_fadeEnter_1fjeq_1",Eq="_fadeEnterActive_1fjeq_5",kq="_fadeExit_1fjeq_10",Tq="_fadeExitActive_1fjeq_14",h1={fadeEnter:Cq,fadeEnterActive:Eq,fadeExit:kq,fadeExitActive:Tq},Pq={enter:h1.fadeEnter,enterActive:h1.fadeEnterActive,exit:h1.fadeExit,exitActive:h1.fadeExitActive},Iq=({children:e,...t})=>{const r=hr.exports.useRef(null);return _t(Sq,{...t,nodeRef:r,children:e(r)})},c6=["http","https","mailto","tel"];function Oq(e){const t=(e||"").trim(),r=t.charAt(0);if(r==="#"||r==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let s=-1;for(;++s<c6.length;){const l=c6[s];if(i===l.length&&t.slice(0,l.length).toLowerCase()===l)return t}return s=t.indexOf("?"),s!==-1&&i>s||(s=t.indexOf("#"),s!==-1&&i>s)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var JM=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};function gg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?f6(e.position):"start"in e||"end"in e?f6(e):"line"in e||"column"in e?yS(e):""}function yS(e){return p6(e&&e.line)+":"+p6(e&&e.column)}function f6(e){return yS(e&&e.start)+"-"+yS(e&&e.end)}function p6(e){return e&&typeof e=="number"?e:1}class ql extends Error{constructor(t,r,i){const s=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof r=="string"&&(i=r,r=void 0),typeof i=="string"){const a=i.indexOf(":");a===-1?s[1]=i:(s[0]=i.slice(0,a),s[1]=i.slice(a+1))}r&&("type"in r||"position"in r?r.position&&(l=r.position):"start"in r||"end"in r?l=r:("line"in r||"column"in r)&&(l.start=r)),this.name=gg(r)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.source=s[0],this.ruleId=s[1],this.position=l,this.actual,this.expected,this.file,this.url,this.note}}ql.prototype.file="";ql.prototype.name="";ql.prototype.reason="";ql.prototype.message="";ql.prototype.stack="";ql.prototype.fatal=null;ql.prototype.column=null;ql.prototype.line=null;ql.prototype.source=null;ql.prototype.ruleId=null;ql.prototype.position=null;const gf={basename:Mq,dirname:Rq,extname:Lq,join:Dq,sep:"/"};function Mq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');xy(e);let r=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.charCodeAt(s)===47){if(l){r=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,x=t.length-1;for(;s--;)if(e.charCodeAt(s)===47){if(l){r=s+1;break}}else a<0&&(l=!0,a=s+1),x>-1&&(e.charCodeAt(s)===t.charCodeAt(x--)?x<0&&(i=s):(x=-1,i=a));return r===i?i=a:i<0&&(i=e.length),e.slice(r,i)}function Rq(e){if(xy(e),e.length===0)return".";let t=-1,r=e.length,i;for(;--r;)if(e.charCodeAt(r)===47){if(i){t=r;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Lq(e){xy(e);let t=e.length,r=-1,i=0,s=-1,l=0,a;for(;t--;){const x=e.charCodeAt(t);if(x===47){if(a){i=t+1;break}continue}r<0&&(a=!0,r=t+1),x===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||r<0||l===0||l===1&&s===r-1&&s===i+1?"":e.slice(s,r)}function Dq(...e){let t=-1,r;for(;++t<e.length;)xy(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Fq(r)}function Fq(e){xy(e);const t=e.charCodeAt(0)===47;let r=Bq(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.charCodeAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Bq(e,t){let r="",i=0,s=-1,l=0,a=-1,x,S;for(;++a<=e.length;){if(a<e.length)x=e.charCodeAt(a);else{if(x===47)break;x=47}if(x===47){if(!(s===a-1||l===1))if(s!==a-1&&l===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(S=r.lastIndexOf("/"),S!==r.length-1){S<0?(r="",i=0):(r=r.slice(0,S),i=r.length-1-r.lastIndexOf("/")),s=a,l=0;continue}}else if(r.length>0){r="",i=0,s=a,l=0;continue}}t&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),i=a-s-1;s=a,l=0}else x===46&&l>-1?l++:l=-1}return r}function xy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const zq={cwd:Nq};function Nq(){return"/"}function vS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Uq(e){if(typeof e=="string")e=new URL(e);else if(!vS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jq(e)}function jq(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.charCodeAt(r)===37&&t.charCodeAt(r+1)===50){const i=t.charCodeAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const cw=["history","path","basename","stem","extname","dirname"];class eR{constructor(t){let r;t?typeof t=="string"||JM(t)?r={value:t}:vS(t)?r={path:t}:r=t:r={},this.data={},this.messages=[],this.history=[],this.cwd=zq.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<cw.length;){const l=cw[i];l in r&&r[l]!==void 0&&(this[l]=l==="history"?[...r[l]]:r[l])}let s;for(s in r)cw.includes(s)||(this[s]=r[s])}get path(){return this.history[this.history.length-1]}set path(t){vS(t)&&(t=Uq(t)),pw(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?gf.dirname(this.path):void 0}set dirname(t){A6(this.basename,"dirname"),this.path=gf.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?gf.basename(this.path):void 0}set basename(t){pw(t,"basename"),fw(t,"basename"),this.path=gf.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?gf.extname(this.path):void 0}set extname(t){if(fw(t,"extname"),A6(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gf.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?gf.basename(this.path,this.extname):void 0}set stem(t){pw(t,"stem"),fw(t,"stem"),this.path=gf.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,r,i){const s=new ql(t,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,r,i){const s=this.message(t,r,i);return s.fatal=null,s}fail(t,r,i){const s=this.message(t,r,i);throw s.fatal=!0,s}}function fw(e,t){if(e&&e.includes(gf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gf.sep+"`")}function pw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function A6(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function h6(e){if(e)throw e}var W1=Object.prototype.hasOwnProperty,tR=Object.prototype.toString,d6=Object.defineProperty,m6=Object.getOwnPropertyDescriptor,g6=function(t){return typeof Array.isArray=="function"?Array.isArray(t):tR.call(t)==="[object Array]"},y6=function(t){if(!t||tR.call(t)!=="[object Object]")return!1;var r=W1.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&W1.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;var s;for(s in t);return typeof s>"u"||W1.call(t,s)},v6=function(t,r){d6&&r.name==="__proto__"?d6(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},_6=function(t,r){if(r==="__proto__")if(W1.call(t,r)){if(m6)return m6(t,r).value}else return;return t[r]},x6=function e(){var t,r,i,s,l,a,x=arguments[0],S=1,P=arguments.length,R=!1;for(typeof x=="boolean"&&(R=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<P;++S)if(t=arguments[S],t!=null)for(r in t)i=_6(x,r),s=_6(t,r),x!==s&&(R&&s&&(y6(s)||(l=g6(s)))?(l?(l=!1,a=i&&g6(i)?i:[]):a=i&&y6(i)?i:{},v6(x,{name:r,newValue:e(R,a,s)})):typeof s<"u"&&v6(x,{name:r,newValue:s}));return x};function _S(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $q(){const e=[],t={run:r,use:i};return t;function r(...s){let l=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);x(null,...s);function x(S,...P){const R=e[++l];let z=-1;if(S){a(S);return}for(;++z<s.length;)(P[z]===null||P[z]===void 0)&&(P[z]=s[z]);s=P,R?Vq(R,x)(...P):a(null,...P)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Vq(e,t){let r;return i;function i(...a){const x=e.length>a.length;let S;x&&a.push(s);try{S=e.apply(this,a)}catch(P){const R=P;if(x&&r)throw R;return s(R)}x||(S instanceof Promise?S.then(l,s):S instanceof Error?s(S):l(S))}function s(a,...x){r||(r=!0,t(a,...x))}function l(a){s(null,a)}}const Hq=nR().freeze(),rR={}.hasOwnProperty;function nR(){const e=$q(),t=[];let r={},i,s=-1;return l.data=a,l.Parser=void 0,l.Compiler=void 0,l.freeze=x,l.attachers=t,l.use=S,l.parse=P,l.stringify=R,l.run=z,l.runSync=N,l.process=$,l.processSync=Z,l;function l(){const J=nR();let ae=-1;for(;++ae<t.length;)J.use(...t[ae]);return J.data(x6(!0,{},r)),J}function a(J,ae){return typeof J=="string"?arguments.length===2?(dw("data",i),r[J]=ae,l):rR.call(r,J)&&r[J]||null:J?(dw("data",i),r=J,l):r}function x(){if(i)return l;for(;++s<t.length;){const[J,...ae]=t[s];if(ae[0]===!1)continue;ae[0]===!0&&(ae[0]=void 0);const V=J.call(l,...ae);typeof V=="function"&&e.use(V)}return i=!0,s=Number.POSITIVE_INFINITY,l}function S(J,...ae){let V;if(dw("use",i),J!=null)if(typeof J=="function")Ae(J,...ae);else if(typeof J=="object")Array.isArray(J)?me(J):se(J);else throw new TypeError("Expected usable value, not `"+J+"`");return V&&(r.settings=Object.assign(r.settings||{},V)),l;function K(ue){if(typeof ue=="function")Ae(ue);else if(typeof ue=="object")if(Array.isArray(ue)){const[Se,...Ce]=ue;Ae(Se,...Ce)}else se(ue);else throw new TypeError("Expected usable value, not `"+ue+"`")}function se(ue){me(ue.plugins),ue.settings&&(V=Object.assign(V||{},ue.settings))}function me(ue){let Se=-1;if(ue!=null)if(Array.isArray(ue))for(;++Se<ue.length;){const Ce=ue[Se];K(Ce)}else throw new TypeError("Expected a list of plugins, not `"+ue+"`")}function Ae(ue,Se){let Ce=-1,qe;for(;++Ce<t.length;)if(t[Ce][0]===ue){qe=t[Ce];break}qe?(_S(qe[1])&&_S(Se)&&(Se=x6(!0,qe[1],Se)),qe[1]=Se):t.push([...arguments])}}function P(J){l.freeze();const ae=Um(J),V=l.Parser;return Aw("parse",V),b6(V,"parse")?new V(String(ae),ae).parse():V(String(ae),ae)}function R(J,ae){l.freeze();const V=Um(ae),K=l.Compiler;return hw("stringify",K),w6(J),b6(K,"compile")?new K(J,V).compile():K(J,V)}function z(J,ae,V){if(w6(J),l.freeze(),!V&&typeof ae=="function"&&(V=ae,ae=void 0),!V)return new Promise(K);K(null,V);function K(se,me){e.run(J,Um(ae),Ae);function Ae(ue,Se,Ce){Se=Se||J,ue?me(ue):se?se(Se):V(null,Se,Ce)}}}function N(J,ae){let V,K;return l.run(J,ae,se),S6("runSync","run",K),V;function se(me,Ae){h6(me),V=Ae,K=!0}}function $(J,ae){if(l.freeze(),Aw("process",l.Parser),hw("process",l.Compiler),!ae)return new Promise(V);V(null,ae);function V(K,se){const me=Um(J);l.run(l.parse(me),me,(ue,Se,Ce)=>{if(ue||!Se||!Ce)Ae(ue);else{const qe=l.stringify(Se,Ce);qe==null||(Qq(qe)?Ce.value=qe:Ce.result=qe),Ae(ue,Ce)}});function Ae(ue,Se){ue||!Se?se(ue):K?K(Se):ae(null,Se)}}}function Z(J){let ae;l.freeze(),Aw("processSync",l.Parser),hw("processSync",l.Compiler);const V=Um(J);return l.process(V,K),S6("processSync","process",ae),V;function K(se){ae=!0,h6(se)}}}function b6(e,t){return typeof e=="function"&&e.prototype&&(qq(e.prototype)||t in e.prototype)}function qq(e){let t;for(t in e)if(rR.call(e,t))return!0;return!1}function Aw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function hw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function dw(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function w6(e){if(!_S(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function S6(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Um(e){return Gq(e)?e:new eR(e)}function Gq(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Qq(e){return typeof e=="string"||JM(e)}function Wq(e,t){var{includeImageAlt:r=!0}=t||{};return iR(e,r)}function iR(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&C6(e.children,t)||Array.isArray(e)&&C6(e,t))||""}function C6(e,t){for(var r=[],i=-1;++i<e.length;)r[i]=iR(e[i],t);return r.join("")}function wf(e,t,r,i){const s=e.length;let l=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,r=r>0?r:0,i.length<1e4)a=Array.from(i),a.unshift(t,r),[].splice.apply(e,a);else for(r&&[].splice.apply(e,[t,r]);l<i.length;)a=i.slice(l,l+1e4),a.unshift(t,0),[].splice.apply(e,a),l+=1e4,t+=1e4}function Ll(e,t){return e.length>0?(wf(e,e.length,0,t),e):t}const E6={}.hasOwnProperty;function Zq(e){const t={};let r=-1;for(;++r<e.length;)Kq(t,e[r]);return t}function Kq(e,t){let r;for(r in t){const s=(E6.call(e,r)?e[r]:void 0)||(e[r]={}),l=t[r];let a;for(a in l){E6.call(s,a)||(s[a]=[]);const x=l[a];Xq(s[a],Array.isArray(x)?x:x?[x]:[])}}}function Xq(e,t){let r=-1;const i=[];for(;++r<t.length;)(t[r].add==="after"?e:i).push(t[r]);wf(e,0,0,i)}const Yq=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,vf=qA(/[A-Za-z]/),xS=qA(/\d/),Jq=qA(/[\dA-Fa-f]/),el=qA(/[\dA-Za-z]/),eG=qA(/[!-/:-@[-`{-~]/),k6=qA(/[#-'*+\--9=?A-Z^-~]/);function bS(e){return e!==null&&(e<32||e===127)}function Bl(e){return e!==null&&(e<0||e===32)}function mn(e){return e!==null&&e<-2}function Oa(e){return e===-2||e===-1||e===32}const tG=qA(/\s/),rG=qA(Yq);function qA(e){return t;function t(r){return r!==null&&e.test(String.fromCharCode(r))}}function ro(e,t,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return a;function a(S){return Oa(S)?(e.enter(r),x(S)):t(S)}function x(S){return Oa(S)&&l++<s?(e.consume(S),x):(e.exit(r),t(S))}}const nG={tokenize:iG};function iG(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let r;return t;function i(x){if(x===null){e.consume(x);return}return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),ro(e,t,"linePrefix")}function s(x){return e.enter("paragraph"),l(x)}function l(x){const S=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=S),r=S,a(x)}function a(x){if(x===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(x);return}return mn(x)?(e.consume(x),e.exit("chunkText"),l):(e.consume(x),a)}}const oG={tokenize:aG},T6={tokenize:sG};function aG(e){const t=this,r=[];let i=0,s,l,a;return x;function x(se){if(i<r.length){const me=r[i];return t.containerState=me[1],e.attempt(me[0].continuation,S,P)(se)}return P(se)}function S(se){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&K();const me=t.events.length;let Ae=me,ue;for(;Ae--;)if(t.events[Ae][0]==="exit"&&t.events[Ae][1].type==="chunkFlow"){ue=t.events[Ae][1].end;break}V(i);let Se=me;for(;Se<t.events.length;)t.events[Se][1].end=Object.assign({},ue),Se++;return wf(t.events,Ae+1,0,t.events.slice(me)),t.events.length=Se,P(se)}return x(se)}function P(se){if(i===r.length){if(!s)return N(se);if(s.currentConstruct&&s.currentConstruct.concrete)return Z(se);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(T6,R,z)(se)}function R(se){return s&&K(),V(i),N(se)}function z(se){return t.parser.lazy[t.now().line]=i!==r.length,a=t.now().offset,Z(se)}function N(se){return t.containerState={},e.attempt(T6,$,Z)(se)}function $(se){return i++,r.push([t.currentConstruct,t.containerState]),N(se)}function Z(se){if(se===null){s&&K(),V(0),e.consume(se);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:s}),J(se)}function J(se){if(se===null){ae(e.exit("chunkFlow"),!0),V(0),e.consume(se);return}return mn(se)?(e.consume(se),ae(e.exit("chunkFlow")),i=0,t.interrupt=void 0,x):(e.consume(se),J)}function ae(se,me){const Ae=t.sliceStream(se);if(me&&Ae.push(null),se.previous=l,l&&(l.next=se),l=se,s.defineSkip(se.start),s.write(Ae),t.parser.lazy[se.start.line]){let ue=s.events.length;for(;ue--;)if(s.events[ue][1].start.offset<a&&(!s.events[ue][1].end||s.events[ue][1].end.offset>a))return;const Se=t.events.length;let Ce=Se,qe,lt;for(;Ce--;)if(t.events[Ce][0]==="exit"&&t.events[Ce][1].type==="chunkFlow"){if(qe){lt=t.events[Ce][1].end;break}qe=!0}for(V(i),ue=Se;ue<t.events.length;)t.events[ue][1].end=Object.assign({},lt),ue++;wf(t.events,Ce+1,0,t.events.slice(Se)),t.events.length=ue}}function V(se){let me=r.length;for(;me-- >se;){const Ae=r[me];t.containerState=Ae[1],Ae[0].exit.call(t,e)}r.length=se}function K(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function sG(e,t,r){return ro(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function P6(e){if(e===null||Bl(e)||tG(e))return 1;if(rG(e))return 2}function t4(e,t,r){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,r),i.push(l))}return t}const wS={name:"attention",tokenize:lG,resolveAll:uG};function uG(e,t){let r=-1,i,s,l,a,x,S,P,R;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;S=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const z=Object.assign({},e[i][1].end),N=Object.assign({},e[r][1].start);I6(z,-S),I6(N,S),a={type:S>1?"strongSequence":"emphasisSequence",start:z,end:Object.assign({},e[i][1].end)},x={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:N},l={type:S>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[r][1].start)},s={type:S>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},x.end)},e[i][1].end=Object.assign({},a.start),e[r][1].start=Object.assign({},x.end),P=[],e[i][1].end.offset-e[i][1].start.offset&&(P=Ll(P,[["enter",e[i][1],t],["exit",e[i][1],t]])),P=Ll(P,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",l,t]]),P=Ll(P,t4(t.parser.constructs.insideSpan.null,e.slice(i+1,r),t)),P=Ll(P,[["exit",l,t],["enter",x,t],["exit",x,t],["exit",s,t]]),e[r][1].end.offset-e[r][1].start.offset?(R=2,P=Ll(P,[["enter",e[r][1],t],["exit",e[r][1],t]])):R=0,wf(e,i-1,r-i+3,P),r=i+P.length-R-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function lG(e,t){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=P6(i);let l;return a;function a(S){return e.enter("attentionSequence"),l=S,x(S)}function x(S){if(S===l)return e.consume(S),x;const P=e.exit("attentionSequence"),R=P6(S),z=!R||R===2&&s||r.includes(S),N=!s||s===2&&R||r.includes(i);return P._open=Boolean(l===42?z:z&&(s||!N)),P._close=Boolean(l===42?N:N&&(R||!z)),t(S)}}function I6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cG={name:"autolink",tokenize:fG};function fG(e,t,r){let i=1;return s;function s(Z){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(Z),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(Z){return vf(Z)?(e.consume(Z),a):k6(Z)?P(Z):r(Z)}function a(Z){return Z===43||Z===45||Z===46||el(Z)?x(Z):P(Z)}function x(Z){return Z===58?(e.consume(Z),S):(Z===43||Z===45||Z===46||el(Z))&&i++<32?(e.consume(Z),x):P(Z)}function S(Z){return Z===62?(e.exit("autolinkProtocol"),$(Z)):Z===null||Z===32||Z===60||bS(Z)?r(Z):(e.consume(Z),S)}function P(Z){return Z===64?(e.consume(Z),i=0,R):k6(Z)?(e.consume(Z),P):r(Z)}function R(Z){return el(Z)?z(Z):r(Z)}function z(Z){return Z===46?(e.consume(Z),i=0,R):Z===62?(e.exit("autolinkProtocol").type="autolinkEmail",$(Z)):N(Z)}function N(Z){return(Z===45||el(Z))&&i++<63?(e.consume(Z),Z===45?N:z):r(Z)}function $(Z){return e.enter("autolinkMarker"),e.consume(Z),e.exit("autolinkMarker"),e.exit("autolink"),t}}const hx={tokenize:pG,partial:!0};function pG(e,t,r){return ro(e,i,"linePrefix");function i(s){return s===null||mn(s)?t(s):r(s)}}const oR={name:"blockQuote",tokenize:AG,continuation:{tokenize:hG},exit:dG};function AG(e,t,r){const i=this;return s;function s(a){if(a===62){const x=i.containerState;return x.open||(e.enter("blockQuote",{_container:!0}),x.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),l}return r(a)}function l(a){return Oa(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function hG(e,t,r){return ro(e,e.attempt(oR,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dG(e){e.exit("blockQuote")}const aR={name:"characterEscape",tokenize:mG};function mG(e,t,r){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return eG(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(l)}}const O6=document.createElement("i");function r4(e){const t="&"+e+";";O6.innerHTML=t;const r=O6.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}const sR={name:"characterReference",tokenize:gG};function gG(e,t,r){const i=this;let s=0,l,a;return x;function x(z){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(z),e.exit("characterReferenceMarker"),S}function S(z){return z===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(z),e.exit("characterReferenceMarkerNumeric"),P):(e.enter("characterReferenceValue"),l=31,a=el,R(z))}function P(z){return z===88||z===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(z),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,a=Jq,R):(e.enter("characterReferenceValue"),l=7,a=xS,R(z))}function R(z){let N;return z===59&&s?(N=e.exit("characterReferenceValue"),a===el&&!r4(i.sliceSerialize(N))?r(z):(e.enter("characterReferenceMarker"),e.consume(z),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):a(z)&&s++<l?(e.consume(z),R):r(z)}}const M6={name:"codeFenced",tokenize:yG,concrete:!0};function yG(e,t,r){const i=this,s={tokenize:Ae,partial:!0},l={tokenize:me,partial:!0},a=this.events[this.events.length-1],x=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let S=0,P;return R;function R(ue){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),P=ue,z(ue)}function z(ue){return ue===P?(e.consume(ue),S++,z):(e.exit("codeFencedFenceSequence"),S<3?r(ue):ro(e,N,"whitespace")(ue))}function N(ue){return ue===null||mn(ue)?ae(ue):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),$(ue))}function $(ue){return ue===null||Bl(ue)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ro(e,Z,"whitespace")(ue)):ue===96&&ue===P?r(ue):(e.consume(ue),$)}function Z(ue){return ue===null||mn(ue)?ae(ue):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),J(ue))}function J(ue){return ue===null||mn(ue)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),ae(ue)):ue===96&&ue===P?r(ue):(e.consume(ue),J)}function ae(ue){return e.exit("codeFencedFence"),i.interrupt?t(ue):V(ue)}function V(ue){return ue===null?se(ue):mn(ue)?e.attempt(l,e.attempt(s,se,x?ro(e,V,"linePrefix",x+1):V),se)(ue):(e.enter("codeFlowValue"),K(ue))}function K(ue){return ue===null||mn(ue)?(e.exit("codeFlowValue"),V(ue)):(e.consume(ue),K)}function se(ue){return e.exit("codeFenced"),t(ue)}function me(ue,Se,Ce){const qe=this;return lt;function lt(st){return ue.enter("lineEnding"),ue.consume(st),ue.exit("lineEnding"),rt}function rt(st){return qe.parser.lazy[qe.now().line]?Ce(st):Se(st)}}function Ae(ue,Se,Ce){let qe=0;return ro(ue,lt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function lt(wt){return ue.enter("codeFencedFence"),ue.enter("codeFencedFenceSequence"),rt(wt)}function rt(wt){return wt===P?(ue.consume(wt),qe++,rt):qe<S?Ce(wt):(ue.exit("codeFencedFenceSequence"),ro(ue,st,"whitespace")(wt))}function st(wt){return wt===null||mn(wt)?(ue.exit("codeFencedFence"),Se(wt)):Ce(wt)}}}const mw={name:"codeIndented",tokenize:_G},vG={tokenize:xG,partial:!0};function _G(e,t,r){const i=this;return s;function s(P){return e.enter("codeIndented"),ro(e,l,"linePrefix",4+1)(P)}function l(P){const R=i.events[i.events.length-1];return R&&R[1].type==="linePrefix"&&R[2].sliceSerialize(R[1],!0).length>=4?a(P):r(P)}function a(P){return P===null?S(P):mn(P)?e.attempt(vG,a,S)(P):(e.enter("codeFlowValue"),x(P))}function x(P){return P===null||mn(P)?(e.exit("codeFlowValue"),a(P)):(e.consume(P),x)}function S(P){return e.exit("codeIndented"),t(P)}}function xG(e,t,r){const i=this;return s;function s(a){return i.parser.lazy[i.now().line]?r(a):mn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):ro(e,l,"linePrefix",4+1)(a)}function l(a){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):mn(a)?s(a):r(a)}}const bG={name:"codeText",tokenize:CG,resolve:wG,previous:SG};function wG(e){let t=e.length-4,r=3,i,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=r;++i<t;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(i=r-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function SG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function CG(e,t,r){let i=0,s,l;return a;function a(z){return e.enter("codeText"),e.enter("codeTextSequence"),x(z)}function x(z){return z===96?(e.consume(z),i++,x):(e.exit("codeTextSequence"),S(z))}function S(z){return z===null?r(z):z===96?(l=e.enter("codeTextSequence"),s=0,R(z)):z===32?(e.enter("space"),e.consume(z),e.exit("space"),S):mn(z)?(e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),S):(e.enter("codeTextData"),P(z))}function P(z){return z===null||z===32||z===96||mn(z)?(e.exit("codeTextData"),S(z)):(e.consume(z),P)}function R(z){return z===96?(e.consume(z),s++,R):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(z)):(l.type="codeTextData",P(z))}}function uR(e){const t={};let r=-1,i,s,l,a,x,S,P;for(;++r<e.length;){for(;r in t;)r=t[r];if(i=e[r],r&&i[1].type==="chunkFlow"&&e[r-1][1].type==="listItemPrefix"&&(S=i[1]._tokenizer.events,l=0,l<S.length&&S[l][1].type==="lineEndingBlank"&&(l+=2),l<S.length&&S[l][1].type==="content"))for(;++l<S.length&&S[l][1].type!=="content";)S[l][1].type==="chunkText"&&(S[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,EG(e,r)),r=t[r],P=!0);else if(i[1]._container){for(l=r,s=void 0;l--&&(a=e[l],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(s&&(e[s][1].type="lineEndingBlank"),a[1].type="lineEnding",s=l);s&&(i[1].end=Object.assign({},e[s][1].start),x=e.slice(s,r),x.unshift(i),wf(e,s,r-s+1,x))}}return!P}function EG(e,t){const r=e[t][1],i=e[t][2];let s=t-1;const l=[],a=r._tokenizer||i.parser[r.contentType](r.start),x=a.events,S=[],P={};let R,z,N=-1,$=r,Z=0,J=0;const ae=[J];for(;$;){for(;e[++s][1]!==$;);l.push(s),$._tokenizer||(R=i.sliceStream($),$.next||R.push(null),z&&a.defineSkip($.start),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(R),$._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),z=$,$=$.next}for($=r;++N<x.length;)x[N][0]==="exit"&&x[N-1][0]==="enter"&&x[N][1].type===x[N-1][1].type&&x[N][1].start.line!==x[N][1].end.line&&(J=N+1,ae.push(J),$._tokenizer=void 0,$.previous=void 0,$=$.next);for(a.events=[],$?($._tokenizer=void 0,$.previous=void 0):ae.pop(),N=ae.length;N--;){const V=x.slice(ae[N],ae[N+1]),K=l.pop();S.unshift([K,K+V.length-1]),wf(e,K,2,V)}for(N=-1;++N<S.length;)P[Z+S[N][0]]=Z+S[N][1],Z+=S[N][1]-S[N][0]-1;return P}const kG={tokenize:IG,resolve:PG},TG={tokenize:OG,partial:!0};function PG(e){return uR(e),e}function IG(e,t){let r;return i;function i(x){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(x)}function s(x){return x===null?l(x):mn(x)?e.check(TG,a,l)(x):(e.consume(x),s)}function l(x){return e.exit("chunkContent"),e.exit("content"),t(x)}function a(x){return e.consume(x),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function OG(e,t,r){const i=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ro(e,l,"linePrefix")}function l(a){if(a===null||mn(a))return r(a);const x=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,r,t)(a)}}function lR(e,t,r,i,s,l,a,x,S){const P=S||Number.POSITIVE_INFINITY;let R=0;return z;function z(V){return V===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(V),e.exit(l),N):V===null||V===41||bS(V)?r(V):(e.enter(i),e.enter(a),e.enter(x),e.enter("chunkString",{contentType:"string"}),J(V))}function N(V){return V===62?(e.enter(l),e.consume(V),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(x),e.enter("chunkString",{contentType:"string"}),$(V))}function $(V){return V===62?(e.exit("chunkString"),e.exit(x),N(V)):V===null||V===60||mn(V)?r(V):(e.consume(V),V===92?Z:$)}function Z(V){return V===60||V===62||V===92?(e.consume(V),$):$(V)}function J(V){return V===40?++R>P?r(V):(e.consume(V),J):V===41?R--?(e.consume(V),J):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):V===null||Bl(V)?R?r(V):(e.exit("chunkString"),e.exit(x),e.exit(a),e.exit(i),t(V)):bS(V)?r(V):(e.consume(V),V===92?ae:J)}function ae(V){return V===40||V===41||V===92?(e.consume(V),J):J(V)}}function cR(e,t,r,i,s,l){const a=this;let x=0,S;return P;function P($){return e.enter(i),e.enter(s),e.consume($),e.exit(s),e.enter(l),R}function R($){return $===null||$===91||$===93&&!S||$===94&&!x&&"_hiddenFootnoteSupport"in a.parser.constructs||x>999?r($):$===93?(e.exit(l),e.enter(s),e.consume($),e.exit(s),e.exit(i),t):mn($)?(e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R):(e.enter("chunkString",{contentType:"string"}),z($))}function z($){return $===null||$===91||$===93||mn($)||x++>999?(e.exit("chunkString"),R($)):(e.consume($),S=S||!Oa($),$===92?N:z)}function N($){return $===91||$===92||$===93?(e.consume($),x++,z):z($)}}function fR(e,t,r,i,s,l){let a;return x;function x(N){return e.enter(i),e.enter(s),e.consume(N),e.exit(s),a=N===40?41:N,S}function S(N){return N===a?(e.enter(s),e.consume(N),e.exit(s),e.exit(i),t):(e.enter(l),P(N))}function P(N){return N===a?(e.exit(l),S(a)):N===null?r(N):mn(N)?(e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),ro(e,P,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),R(N))}function R(N){return N===a||N===null||mn(N)?(e.exit("chunkString"),P(N)):(e.consume(N),N===92?z:R)}function z(N){return N===a||N===92?(e.consume(N),R):R(N)}}function yg(e,t){let r;return i;function i(s){return mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,i):Oa(s)?ro(e,i,r?"linePrefix":"lineSuffix")(s):t(s)}}function g0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const MG={name:"definition",tokenize:LG},RG={tokenize:DG,partial:!0};function LG(e,t,r){const i=this;let s;return l;function l(S){return e.enter("definition"),cR.call(i,e,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function a(S){return s=g0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),yg(e,lR(e,e.attempt(RG,ro(e,x,"whitespace"),ro(e,x,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(S)}function x(S){return S===null||mn(S)?(e.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),t(S)):r(S)}}function DG(e,t,r){return i;function i(a){return Bl(a)?yg(e,s)(a):r(a)}function s(a){return a===34||a===39||a===40?fR(e,ro(e,l,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):r(a)}function l(a){return a===null||mn(a)?t(a):r(a)}}const FG={name:"hardBreakEscape",tokenize:BG};function BG(e,t,r){return i;function i(l){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(l),s}function s(l){return mn(l)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(l)):r(l)}}const zG={name:"headingAtx",tokenize:UG,resolve:NG};function NG(e,t){let r=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},l={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},wf(e,i,r-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function UG(e,t,r){const i=this;let s=0;return l;function l(R){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),a(R)}function a(R){return R===35&&s++<6?(e.consume(R),a):R===null||Bl(R)?(e.exit("atxHeadingSequence"),i.interrupt?t(R):x(R)):r(R)}function x(R){return R===35?(e.enter("atxHeadingSequence"),S(R)):R===null||mn(R)?(e.exit("atxHeading"),t(R)):Oa(R)?ro(e,x,"whitespace")(R):(e.enter("atxHeadingText"),P(R))}function S(R){return R===35?(e.consume(R),S):(e.exit("atxHeadingSequence"),x(R))}function P(R){return R===null||R===35||Bl(R)?(e.exit("atxHeadingText"),x(R)):(e.consume(R),P)}}const jG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],R6=["pre","script","style","textarea"],$G={name:"htmlFlow",tokenize:qG,resolveTo:HG,concrete:!0},VG={tokenize:GG,partial:!0};function HG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qG(e,t,r){const i=this;let s,l,a,x,S;return P;function P(ye){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ye),R}function R(ye){return ye===33?(e.consume(ye),z):ye===47?(e.consume(ye),Z):ye===63?(e.consume(ye),s=3,i.interrupt?t:Ue):vf(ye)?(e.consume(ye),a=String.fromCharCode(ye),l=!0,J):r(ye)}function z(ye){return ye===45?(e.consume(ye),s=2,N):ye===91?(e.consume(ye),s=5,a="CDATA[",x=0,$):vf(ye)?(e.consume(ye),s=4,i.interrupt?t:Ue):r(ye)}function N(ye){return ye===45?(e.consume(ye),i.interrupt?t:Ue):r(ye)}function $(ye){return ye===a.charCodeAt(x++)?(e.consume(ye),x===a.length?i.interrupt?t:rt:$):r(ye)}function Z(ye){return vf(ye)?(e.consume(ye),a=String.fromCharCode(ye),J):r(ye)}function J(ye){return ye===null||ye===47||ye===62||Bl(ye)?ye!==47&&l&&R6.includes(a.toLowerCase())?(s=1,i.interrupt?t(ye):rt(ye)):jG.includes(a.toLowerCase())?(s=6,ye===47?(e.consume(ye),ae):i.interrupt?t(ye):rt(ye)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(ye):l?K(ye):V(ye)):ye===45||el(ye)?(e.consume(ye),a+=String.fromCharCode(ye),J):r(ye)}function ae(ye){return ye===62?(e.consume(ye),i.interrupt?t:rt):r(ye)}function V(ye){return Oa(ye)?(e.consume(ye),V):qe(ye)}function K(ye){return ye===47?(e.consume(ye),qe):ye===58||ye===95||vf(ye)?(e.consume(ye),se):Oa(ye)?(e.consume(ye),K):qe(ye)}function se(ye){return ye===45||ye===46||ye===58||ye===95||el(ye)?(e.consume(ye),se):me(ye)}function me(ye){return ye===61?(e.consume(ye),Ae):Oa(ye)?(e.consume(ye),me):K(ye)}function Ae(ye){return ye===null||ye===60||ye===61||ye===62||ye===96?r(ye):ye===34||ye===39?(e.consume(ye),S=ye,ue):Oa(ye)?(e.consume(ye),Ae):(S=null,Se(ye))}function ue(ye){return ye===null||mn(ye)?r(ye):ye===S?(e.consume(ye),Ce):(e.consume(ye),ue)}function Se(ye){return ye===null||ye===34||ye===39||ye===60||ye===61||ye===62||ye===96||Bl(ye)?me(ye):(e.consume(ye),Se)}function Ce(ye){return ye===47||ye===62||Oa(ye)?K(ye):r(ye)}function qe(ye){return ye===62?(e.consume(ye),lt):r(ye)}function lt(ye){return Oa(ye)?(e.consume(ye),lt):ye===null||mn(ye)?rt(ye):r(ye)}function rt(ye){return ye===45&&s===2?(e.consume(ye),Wt):ye===60&&s===1?(e.consume(ye),fr):ye===62&&s===4?(e.consume(ye),Re):ye===63&&s===3?(e.consume(ye),Ue):ye===93&&s===5?(e.consume(ye),et):mn(ye)&&(s===6||s===7)?e.check(VG,Re,st)(ye):ye===null||mn(ye)?st(ye):(e.consume(ye),rt)}function st(ye){return e.exit("htmlFlowData"),wt(ye)}function wt(ye){return ye===null?le(ye):mn(ye)?e.attempt({tokenize:St,partial:!0},wt,le)(ye):(e.enter("htmlFlowData"),rt(ye))}function St(ye,Mt,or){return vr;function vr(Sr){return ye.enter("lineEnding"),ye.consume(Sr),ye.exit("lineEnding"),dr}function dr(Sr){return i.parser.lazy[i.now().line]?or(Sr):Mt(Sr)}}function Wt(ye){return ye===45?(e.consume(ye),Ue):rt(ye)}function fr(ye){return ye===47?(e.consume(ye),a="",Rt):rt(ye)}function Rt(ye){return ye===62&&R6.includes(a.toLowerCase())?(e.consume(ye),Re):vf(ye)&&a.length<8?(e.consume(ye),a+=String.fromCharCode(ye),Rt):rt(ye)}function et(ye){return ye===93?(e.consume(ye),Ue):rt(ye)}function Ue(ye){return ye===62?(e.consume(ye),Re):ye===45&&s===2?(e.consume(ye),Ue):rt(ye)}function Re(ye){return ye===null||mn(ye)?(e.exit("htmlFlowData"),le(ye)):(e.consume(ye),Re)}function le(ye){return e.exit("htmlFlow"),t(ye)}}function GG(e,t,r){return i;function i(s){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),e.attempt(hx,t,r)}}const QG={name:"htmlText",tokenize:WG};function WG(e,t,r){const i=this;let s,l,a,x;return S;function S(le){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(le),P}function P(le){return le===33?(e.consume(le),R):le===47?(e.consume(le),Se):le===63?(e.consume(le),Ae):vf(le)?(e.consume(le),lt):r(le)}function R(le){return le===45?(e.consume(le),z):le===91?(e.consume(le),l="CDATA[",a=0,ae):vf(le)?(e.consume(le),me):r(le)}function z(le){return le===45?(e.consume(le),N):r(le)}function N(le){return le===null||le===62?r(le):le===45?(e.consume(le),$):Z(le)}function $(le){return le===null||le===62?r(le):Z(le)}function Z(le){return le===null?r(le):le===45?(e.consume(le),J):mn(le)?(x=Z,et(le)):(e.consume(le),Z)}function J(le){return le===45?(e.consume(le),Re):Z(le)}function ae(le){return le===l.charCodeAt(a++)?(e.consume(le),a===l.length?V:ae):r(le)}function V(le){return le===null?r(le):le===93?(e.consume(le),K):mn(le)?(x=V,et(le)):(e.consume(le),V)}function K(le){return le===93?(e.consume(le),se):V(le)}function se(le){return le===62?Re(le):le===93?(e.consume(le),se):V(le)}function me(le){return le===null||le===62?Re(le):mn(le)?(x=me,et(le)):(e.consume(le),me)}function Ae(le){return le===null?r(le):le===63?(e.consume(le),ue):mn(le)?(x=Ae,et(le)):(e.consume(le),Ae)}function ue(le){return le===62?Re(le):Ae(le)}function Se(le){return vf(le)?(e.consume(le),Ce):r(le)}function Ce(le){return le===45||el(le)?(e.consume(le),Ce):qe(le)}function qe(le){return mn(le)?(x=qe,et(le)):Oa(le)?(e.consume(le),qe):Re(le)}function lt(le){return le===45||el(le)?(e.consume(le),lt):le===47||le===62||Bl(le)?rt(le):r(le)}function rt(le){return le===47?(e.consume(le),Re):le===58||le===95||vf(le)?(e.consume(le),st):mn(le)?(x=rt,et(le)):Oa(le)?(e.consume(le),rt):Re(le)}function st(le){return le===45||le===46||le===58||le===95||el(le)?(e.consume(le),st):wt(le)}function wt(le){return le===61?(e.consume(le),St):mn(le)?(x=wt,et(le)):Oa(le)?(e.consume(le),wt):rt(le)}function St(le){return le===null||le===60||le===61||le===62||le===96?r(le):le===34||le===39?(e.consume(le),s=le,Wt):mn(le)?(x=St,et(le)):Oa(le)?(e.consume(le),St):(e.consume(le),s=void 0,Rt)}function Wt(le){return le===s?(e.consume(le),fr):le===null?r(le):mn(le)?(x=Wt,et(le)):(e.consume(le),Wt)}function fr(le){return le===62||le===47||Bl(le)?rt(le):r(le)}function Rt(le){return le===null||le===34||le===39||le===60||le===61||le===96?r(le):le===62||Bl(le)?rt(le):(e.consume(le),Rt)}function et(le){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(le),e.exit("lineEnding"),ro(e,Ue,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ue(le){return e.enter("htmlTextData"),x(le)}function Re(le){return le===62?(e.consume(le),e.exit("htmlTextData"),e.exit("htmlText"),t):r(le)}}const n4={name:"labelEnd",tokenize:eQ,resolveTo:JG,resolveAll:YG},ZG={tokenize:tQ},KG={tokenize:rQ},XG={tokenize:nQ};function YG(e){let t=-1,r;for(;++t<e.length;)r=e[t][1],(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++);return e}function JG(e,t){let r=e.length,i=0,s,l,a,x;for(;r--;)if(s=e[r][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(a=r);const S={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},P={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[a][1].end)},R={type:"labelText",start:Object.assign({},e[l+i+2][1].end),end:Object.assign({},e[a-2][1].start)};return x=[["enter",S,t],["enter",P,t]],x=Ll(x,e.slice(l+1,l+i+3)),x=Ll(x,[["enter",R,t]]),x=Ll(x,t4(t.parser.constructs.insideSpan.null,e.slice(l+i+4,a-3),t)),x=Ll(x,[["exit",R,t],e[a-2],e[a-1],["exit",P,t]]),x=Ll(x,e.slice(a+1)),x=Ll(x,[["exit",S,t]]),wf(e,l,e.length,x),e}function eQ(e,t,r){const i=this;let s=i.events.length,l,a;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return x;function x(R){return l?l._inactive?P(R):(a=i.parser.defined.includes(g0(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(R),e.exit("labelMarker"),e.exit("labelEnd"),S):r(R)}function S(R){return R===40?e.attempt(ZG,t,a?t:P)(R):R===91?e.attempt(KG,t,a?e.attempt(XG,t,P):P)(R):a?t(R):P(R)}function P(R){return l._balanced=!0,r(R)}}function tQ(e,t,r){return i;function i(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),yg(e,s)}function s(S){return S===41?x(S):lR(e,l,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function l(S){return Bl(S)?yg(e,a)(S):x(S)}function a(S){return S===34||S===39||S===40?fR(e,yg(e,x),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):x(S)}function x(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):r(S)}}function rQ(e,t,r){const i=this;return s;function s(a){return cR.call(i,e,l,r,"reference","referenceMarker","referenceString")(a)}function l(a){return i.parser.defined.includes(g0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):r(a)}}function nQ(e,t,r){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):r(l)}}const iQ={name:"labelStartImage",tokenize:oQ,resolveAll:n4.resolveAll};function oQ(e,t,r){const i=this;return s;function s(x){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(x),e.exit("labelImageMarker"),l}function l(x){return x===91?(e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelImage"),a):r(x)}function a(x){return x===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(x):t(x)}}const aQ={name:"labelStartLink",tokenize:sQ,resolveAll:n4.resolveAll};function sQ(e,t,r){const i=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),l}function l(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(a):t(a)}}const gw={name:"lineEnding",tokenize:uQ};function uQ(e,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),ro(e,t,"linePrefix")}}const Z1={name:"thematicBreak",tokenize:lQ};function lQ(e,t,r){let i=0,s;return l;function l(S){return e.enter("thematicBreak"),s=S,a(S)}function a(S){return S===s?(e.enter("thematicBreakSequence"),x(S)):Oa(S)?ro(e,a,"whitespace")(S):i<3||S!==null&&!mn(S)?r(S):(e.exit("thematicBreak"),t(S))}function x(S){return S===s?(e.consume(S),i++,x):(e.exit("thematicBreakSequence"),a(S))}}const Tu={name:"list",tokenize:pQ,continuation:{tokenize:AQ},exit:dQ},cQ={tokenize:mQ,partial:!0},fQ={tokenize:hQ,partial:!0};function pQ(e,t,r){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return x;function x($){const Z=i.containerState.type||($===42||$===43||$===45?"listUnordered":"listOrdered");if(Z==="listUnordered"?!i.containerState.marker||$===i.containerState.marker:xS($)){if(i.containerState.type||(i.containerState.type=Z,e.enter(Z,{_container:!0})),Z==="listUnordered")return e.enter("listItemPrefix"),$===42||$===45?e.check(Z1,r,P)($):P($);if(!i.interrupt||$===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),S($)}return r($)}function S($){return xS($)&&++a<10?(e.consume($),S):(!i.interrupt||a<2)&&(i.containerState.marker?$===i.containerState.marker:$===41||$===46)?(e.exit("listItemValue"),P($)):r($)}function P($){return e.enter("listItemMarker"),e.consume($),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||$,e.check(hx,i.interrupt?r:R,e.attempt(cQ,N,z))}function R($){return i.containerState.initialBlankLine=!0,l++,N($)}function z($){return Oa($)?(e.enter("listItemPrefixWhitespace"),e.consume($),e.exit("listItemPrefixWhitespace"),N):r($)}function N($){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t($)}}function AQ(e,t,r){const i=this;return i.containerState._closeFlow=void 0,e.check(hx,s,l);function s(x){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ro(e,t,"listItemIndent",i.containerState.size+1)(x)}function l(x){return i.containerState.furtherBlankLines||!Oa(x)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(x)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(fQ,t,a)(x))}function a(x){return i.containerState._closeFlow=!0,i.interrupt=void 0,ro(e,e.attempt(Tu,t,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function hQ(e,t,r){const i=this;return ro(e,s,"listItemIndent",i.containerState.size+1);function s(l){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(l):r(l)}}function dQ(e){e.exit(this.containerState.type)}function mQ(e,t,r){const i=this;return ro(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function s(l){const a=i.events[i.events.length-1];return!Oa(l)&&a&&a[1].type==="listItemPrefixWhitespace"?t(l):r(l)}}const L6={name:"setextUnderline",tokenize:yQ,resolveTo:gQ};function gQ(e,t){let r=e.length,i,s,l;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!l&&e[r][1].type==="definition"&&(l=r);const a={type:"setextHeading",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",a,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[l][1].end)):e[i][1]=a,e.push(["exit",a,t]),e}function yQ(e,t,r){const i=this;let s=i.events.length,l,a;for(;s--;)if(i.events[s][1].type!=="lineEnding"&&i.events[s][1].type!=="linePrefix"&&i.events[s][1].type!=="content"){a=i.events[s][1].type==="paragraph";break}return x;function x(R){return!i.parser.lazy[i.now().line]&&(i.interrupt||a)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),l=R,S(R)):r(R)}function S(R){return R===l?(e.consume(R),S):(e.exit("setextHeadingLineSequence"),ro(e,P,"lineSuffix")(R))}function P(R){return R===null||mn(R)?(e.exit("setextHeadingLine"),t(R)):r(R)}}const vQ={tokenize:_Q};function _Q(e){const t=this,r=e.attempt(hx,i,e.attempt(this.parser.constructs.flowInitial,s,ro(e,e.attempt(this.parser.constructs.flow,s,e.attempt(kG,s)),"linePrefix")));return r;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const xQ={resolveAll:AR()},bQ=pR("string"),wQ=pR("text");function pR(e){return{tokenize:t,resolveAll:AR(e==="text"?SQ:void 0)};function t(r){const i=this,s=this.parser.constructs[e],l=r.attempt(s,a,x);return a;function a(R){return P(R)?l(R):x(R)}function x(R){if(R===null){r.consume(R);return}return r.enter("data"),r.consume(R),S}function S(R){return P(R)?(r.exit("data"),l(R)):(r.consume(R),S)}function P(R){if(R===null)return!0;const z=s[R];let N=-1;if(z)for(;++N<z.length;){const $=z[N];if(!$.previous||$.previous.call(i,i.previous))return!0}return!1}}}function AR(e){return t;function t(r,i){let s=-1,l;for(;++s<=r.length;)l===void 0?r[s]&&r[s][1].type==="data"&&(l=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==l+2&&(r[l][1].end=r[s-1][1].end,r.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(r,i):r}}function SQ(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],s=t.sliceStream(i);let l=s.length,a=-1,x=0,S;for(;l--;){const P=s[l];if(typeof P=="string"){for(a=P.length;P.charCodeAt(a-1)===32;)x++,a--;if(a)break;a=-1}else if(P===-2)S=!0,x++;else if(P!==-1){l++;break}}if(x){const P={type:r===e.length||S||x<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-x,offset:i.end.offset-x,_index:i.start._index+l,_bufferIndex:l?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},P.start),i.start.offset===i.end.offset?Object.assign(i,P):(e.splice(r,0,["enter",P,t],["exit",P,t]),r+=2)}r++}return e}function CQ(e,t,r){let i=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},l=[];let a=[],x=[];const S={consume:K,enter:se,exit:me,attempt:Se(Ae),check:Se(ue),interrupt:Se(ue,{interrupt:!0})},P={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:$,sliceSerialize:N,now:Z,defineSkip:J,write:z};let R=t.tokenize.call(P,S);return t.resolveAll&&l.push(t),P;function z(rt){return a=Ll(a,rt),ae(),a[a.length-1]!==null?[]:(Ce(t,0),P.events=t4(l,P.events,P),P.events)}function N(rt,st){return kQ($(rt),st)}function $(rt){return EQ(a,rt)}function Z(){return Object.assign({},i)}function J(rt){s[rt.line]=rt.column,lt()}function ae(){let rt;for(;i._index<a.length;){const st=a[i._index];if(typeof st=="string")for(rt=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===rt&&i._bufferIndex<st.length;)V(st.charCodeAt(i._bufferIndex));else V(st)}}function V(rt){R=R(rt)}function K(rt){mn(rt)?(i.line++,i.column=1,i.offset+=rt===-3?2:1,lt()):rt!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),P.previous=rt}function se(rt,st){const wt=st||{};return wt.type=rt,wt.start=Z(),P.events.push(["enter",wt,P]),x.push(wt),wt}function me(rt){const st=x.pop();return st.end=Z(),P.events.push(["exit",st,P]),st}function Ae(rt,st){Ce(rt,st.from)}function ue(rt,st){st.restore()}function Se(rt,st){return wt;function wt(St,Wt,fr){let Rt,et,Ue,Re;return Array.isArray(St)?ye(St):"tokenize"in St?ye([St]):le(St);function le(dr){return Sr;function Sr(Ur){const Dr=Ur!==null&&dr[Ur],Xn=Ur!==null&&dr.null,jn=[...Array.isArray(Dr)?Dr:Dr?[Dr]:[],...Array.isArray(Xn)?Xn:Xn?[Xn]:[]];return ye(jn)(Ur)}}function ye(dr){return Rt=dr,et=0,dr.length===0?fr:Mt(dr[et])}function Mt(dr){return Sr;function Sr(Ur){return Re=qe(),Ue=dr,dr.partial||(P.currentConstruct=dr),dr.name&&P.parser.constructs.disable.null.includes(dr.name)?vr():dr.tokenize.call(st?Object.assign(Object.create(P),st):P,S,or,vr)(Ur)}}function or(dr){return rt(Ue,Re),Wt}function vr(dr){return Re.restore(),++et<Rt.length?Mt(Rt[et]):fr}}}function Ce(rt,st){rt.resolveAll&&!l.includes(rt)&&l.push(rt),rt.resolve&&wf(P.events,st,P.events.length-st,rt.resolve(P.events.slice(st),P)),rt.resolveTo&&(P.events=rt.resolveTo(P.events,P))}function qe(){const rt=Z(),st=P.previous,wt=P.currentConstruct,St=P.events.length,Wt=Array.from(x);return{restore:fr,from:St};function fr(){i=rt,P.previous=st,P.currentConstruct=wt,P.events.length=St,x=Wt,lt()}}function lt(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function EQ(e,t){const r=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let a;return r===s?a=[e[r].slice(i,l)]:(a=e.slice(r,s),i>-1&&(a[0]=a[0].slice(i)),l>0&&a.push(e[s].slice(0,l))),a}function kQ(e,t){let r=-1;const i=[];let s;for(;++r<e.length;){const l=e[r];let a;if(typeof l=="string")a=l;else switch(l){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(l)}s=l===-2,i.push(a)}return i.join("")}const TQ={[42]:Tu,[43]:Tu,[45]:Tu,[48]:Tu,[49]:Tu,[50]:Tu,[51]:Tu,[52]:Tu,[53]:Tu,[54]:Tu,[55]:Tu,[56]:Tu,[57]:Tu,[62]:oR},PQ={[91]:MG},IQ={[-2]:mw,[-1]:mw,[32]:mw},OQ={[35]:zG,[42]:Z1,[45]:[L6,Z1],[60]:$G,[61]:L6,[95]:Z1,[96]:M6,[126]:M6},MQ={[38]:sR,[92]:aR},RQ={[-5]:gw,[-4]:gw,[-3]:gw,[33]:iQ,[38]:sR,[42]:wS,[60]:[cG,QG],[91]:aQ,[92]:[FG,aR],[93]:n4,[95]:wS,[96]:bG},LQ={null:[wS,xQ]},DQ={null:[42,95]},FQ={null:[]},BQ=Object.freeze(Object.defineProperty({__proto__:null,document:TQ,contentInitial:PQ,flowInitial:IQ,flow:OQ,string:MQ,text:RQ,insideSpan:LQ,attentionMarkers:DQ,disable:FQ},Symbol.toStringTag,{value:"Module"}));function zQ(e={}){const t=Zq([BQ].concat(e.extensions||[])),r={defined:[],lazy:{},constructs:t,content:i(nG),document:i(oG),flow:i(vQ),string:i(bQ),text:i(wQ)};return r;function i(s){return l;function l(a){return CQ(r,s,a)}}}const D6=/[\0\t\n\r]/g;function NQ(){let e=1,t="",r=!0,i;return s;function s(l,a,x){const S=[];let P,R,z,N,$;for(l=t+l.toString(a),z=0,t="",r&&(l.charCodeAt(0)===65279&&z++,r=void 0);z<l.length;){if(D6.lastIndex=z,P=D6.exec(l),N=P&&P.index!==void 0?P.index:l.length,$=l.charCodeAt(N),!P){t=l.slice(z);break}if($===10&&z===N&&i)S.push(-3),i=void 0;else switch(i&&(S.push(-5),i=void 0),z<N&&(S.push(l.slice(z,N)),e+=N-z),$){case 0:{S.push(65533),e++;break}case 9:{for(R=Math.ceil(e/4)*4,S.push(-2);e++<R;)S.push(-1);break}case 10:{S.push(-4),e=1;break}default:i=!0,e=1}z=N+1}return x&&(i&&S.push(-5),t&&S.push(t),S.push(null)),S}}function UQ(e){for(;!uR(e););return e}function hR(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\uFFFD":String.fromCharCode(r)}const jQ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $Q(e){return e.replace(jQ,VQ)}function VQ(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),l=s===120||s===88;return hR(r.slice(l?2:1),l?16:10)}return r4(r)||e}const SS={}.hasOwnProperty,HQ=function(e,t,r){return typeof t!="string"&&(r=t,t=void 0),qQ(r)(UQ(zQ(r).document().write(NQ()(e,t,!0))))};function qQ(e={}){const t=dR({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:S(Qn),autolinkProtocol:st,autolinkEmail:st,atxHeading:S(Bi),blockQuote:S(Fi),characterEscape:st,characterReference:st,codeFenced:S(jr),codeFencedFenceInfo:P,codeFencedFenceMeta:P,codeIndented:S(jr,P),codeText:S(mi,P),codeTextData:st,data:st,codeFlowValue:st,definition:S(gi),definitionDestinationString:P,definitionLabelString:P,definitionTitleString:P,emphasis:S(Qo),hardBreakEscape:S(Wi),hardBreakTrailing:S(Wi),htmlFlow:S(ws,P),htmlFlowData:st,htmlText:S(ws,P),htmlTextData:st,image:S(io),label:P,link:S(Qn),listItem:S(oo),listItemValue:J,listOrdered:S(Lo,Z),listUnordered:S(Lo),paragraph:S(bi),reference:dr,referenceString:P,resourceDestinationString:P,resourceTitleString:P,setextHeading:S(Bi),strong:S(Do),thematicBreak:S(yt)},exit:{atxHeading:z(),atxHeadingSequence:Ce,autolink:z(),autolinkEmail:jn,autolinkProtocol:Xn,blockQuote:z(),characterEscapeValue:wt,characterReferenceMarkerHexadecimal:Ur,characterReferenceMarkerNumeric:Ur,characterReferenceValue:Dr,codeFenced:z(se),codeFencedFence:K,codeFencedFenceInfo:ae,codeFencedFenceMeta:V,codeFlowValue:wt,codeIndented:z(me),codeText:z(et),codeTextData:wt,data:wt,definition:z(),definitionDestinationString:Se,definitionLabelString:Ae,definitionTitleString:ue,emphasis:z(),hardBreakEscape:z(Wt),hardBreakTrailing:z(Wt),htmlFlow:z(fr),htmlFlowData:wt,htmlText:z(Rt),htmlTextData:wt,image:z(Re),label:ye,labelText:le,lineEnding:St,link:z(Ue),listItem:z(),listOrdered:z(),listUnordered:z(),paragraph:z(),referenceString:Sr,resourceDestinationString:Mt,resourceTitleString:or,resource:vr,setextHeading:z(rt),setextHeadingLineSequence:lt,setextHeadingText:qe,strong:z(),thematicBreak:z()}},e.mdastExtensions||[]),r={};return i;function i(be){let Ye={type:"root",children:[]};const Et=[Ye],ar=[],Hr=[],In={stack:Et,tokenStack:ar,config:t,enter:R,exit:N,buffer:P,resume:$,setData:l,getData:a};let Or=-1;for(;++Or<be.length;)if(be[Or][1].type==="listOrdered"||be[Or][1].type==="listUnordered")if(be[Or][0]==="enter")Hr.push(Or);else{const en=Hr.pop();Or=s(be,en,Or)}for(Or=-1;++Or<be.length;){const en=t[be[Or][0]];SS.call(en,be[Or][1].type)&&en[be[Or][1].type].call(Object.assign({sliceSerialize:be[Or][2].sliceSerialize},In),be[Or][1])}if(ar.length>0){const en=ar[ar.length-1];(en[1]||F6).call(In,void 0,en[0])}for(Ye.position={start:x(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:x(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},Or=-1;++Or<t.transforms.length;)Ye=t.transforms[Or](Ye)||Ye;return Ye}function s(be,Ye,Et){let ar=Ye-1,Hr=-1,In=!1,Or,en,$n,Yn;for(;++ar<=Et;){const hn=be[ar];if(hn[1].type==="listUnordered"||hn[1].type==="listOrdered"||hn[1].type==="blockQuote"?(hn[0]==="enter"?Hr++:Hr--,Yn=void 0):hn[1].type==="lineEndingBlank"?hn[0]==="enter"&&(Or&&!Yn&&!Hr&&!$n&&($n=ar),Yn=void 0):hn[1].type==="linePrefix"||hn[1].type==="listItemValue"||hn[1].type==="listItemMarker"||hn[1].type==="listItemPrefix"||hn[1].type==="listItemPrefixWhitespace"||(Yn=void 0),!Hr&&hn[0]==="enter"&&hn[1].type==="listItemPrefix"||Hr===-1&&hn[0]==="exit"&&(hn[1].type==="listUnordered"||hn[1].type==="listOrdered")){if(Or){let Eo=ar;for(en=void 0;Eo--;){const Jn=be[Eo];if(Jn[1].type==="lineEnding"||Jn[1].type==="lineEndingBlank"){if(Jn[0]==="exit")continue;en&&(be[en][1].type="lineEndingBlank",In=!0),Jn[1].type="lineEnding",en=Eo}else if(!(Jn[1].type==="linePrefix"||Jn[1].type==="blockQuotePrefix"||Jn[1].type==="blockQuotePrefixWhitespace"||Jn[1].type==="blockQuoteMarker"||Jn[1].type==="listItemIndent"))break}$n&&(!en||$n<en)&&(Or._spread=!0),Or.end=Object.assign({},en?be[en][1].start:hn[1].end),be.splice(en||ar,0,["exit",Or,hn[2]]),ar++,Et++}hn[1].type==="listItemPrefix"&&(Or={type:"listItem",_spread:!1,start:Object.assign({},hn[1].start)},be.splice(ar,0,["enter",Or,hn[2]]),ar++,Et++,$n=void 0,Yn=!0)}}return be[Ye][1]._spread=In,Et}function l(be,Ye){r[be]=Ye}function a(be){return r[be]}function x(be){return{line:be.line,column:be.column,offset:be.offset}}function S(be,Ye){return Et;function Et(ar){R.call(this,be(ar),ar),Ye&&Ye.call(this,ar)}}function P(){this.stack.push({type:"fragment",children:[]})}function R(be,Ye,Et){return this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Ye,Et]),be.position={start:x(Ye.start)},be}function z(be){return Ye;function Ye(Et){be&&be.call(this,Et),N.call(this,Et)}}function N(be,Ye){const Et=this.stack.pop(),ar=this.tokenStack.pop();if(ar)ar[0].type!==be.type&&(Ye?Ye.call(this,be,ar[0]):(ar[1]||F6).call(this,be,ar[0]));else throw new Error("Cannot close `"+be.type+"` ("+gg({start:be.start,end:be.end})+"): it\u2019s not open");return Et.position.end=x(be.end),Et}function $(){return Wq(this.stack.pop())}function Z(){l("expectingFirstListItemValue",!0)}function J(be){if(a("expectingFirstListItemValue")){const Ye=this.stack[this.stack.length-2];Ye.start=Number.parseInt(this.sliceSerialize(be),10),l("expectingFirstListItemValue")}}function ae(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.lang=be}function V(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.meta=be}function K(){a("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function se(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function me(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be.replace(/(\r?\n|\r)$/g,"")}function Ae(be){const Ye=this.resume(),Et=this.stack[this.stack.length-1];Et.label=Ye,Et.identifier=g0(this.sliceSerialize(be)).toLowerCase()}function ue(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=be}function Se(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=be}function Ce(be){const Ye=this.stack[this.stack.length-1];if(!Ye.depth){const Et=this.sliceSerialize(be).length;Ye.depth=Et}}function qe(){l("setextHeadingSlurpLineEnding",!0)}function lt(be){const Ye=this.stack[this.stack.length-1];Ye.depth=this.sliceSerialize(be).charCodeAt(0)===61?1:2}function rt(){l("setextHeadingSlurpLineEnding")}function st(be){const Ye=this.stack[this.stack.length-1];let Et=Ye.children[Ye.children.length-1];(!Et||Et.type!=="text")&&(Et=sa(),Et.position={start:x(be.start)},Ye.children.push(Et)),this.stack.push(Et)}function wt(be){const Ye=this.stack.pop();Ye.value+=this.sliceSerialize(be),Ye.position.end=x(be.end)}function St(be){const Ye=this.stack[this.stack.length-1];if(a("atHardBreak")){const Et=Ye.children[Ye.children.length-1];Et.position.end=x(be.end),l("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ye.type)&&(st.call(this,be),wt.call(this,be))}function Wt(){l("atHardBreak",!0)}function fr(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function Rt(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function et(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=be}function Ue(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function Re(){const be=this.stack[this.stack.length-1];a("inReference")?(be.type+="Reference",be.referenceType=a("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function le(be){const Ye=this.stack[this.stack.length-2],Et=this.sliceSerialize(be);Ye.label=$Q(Et),Ye.identifier=g0(Et).toLowerCase()}function ye(){const be=this.stack[this.stack.length-1],Ye=this.resume(),Et=this.stack[this.stack.length-1];l("inReference",!0),Et.type==="link"?Et.children=be.children:Et.alt=Ye}function Mt(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=be}function or(){const be=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=be}function vr(){l("inReference")}function dr(){l("referenceType","collapsed")}function Sr(be){const Ye=this.resume(),Et=this.stack[this.stack.length-1];Et.label=Ye,Et.identifier=g0(this.sliceSerialize(be)).toLowerCase(),l("referenceType","full")}function Ur(be){l("characterReferenceType",be.type)}function Dr(be){const Ye=this.sliceSerialize(be),Et=a("characterReferenceType");let ar;Et?(ar=hR(Ye,Et==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):ar=r4(Ye);const Hr=this.stack.pop();Hr.value+=ar,Hr.position.end=x(be.end)}function Xn(be){wt.call(this,be);const Ye=this.stack[this.stack.length-1];Ye.url=this.sliceSerialize(be)}function jn(be){wt.call(this,be);const Ye=this.stack[this.stack.length-1];Ye.url="mailto:"+this.sliceSerialize(be)}function Fi(){return{type:"blockquote",children:[]}}function jr(){return{type:"code",lang:null,meta:null,value:""}}function mi(){return{type:"inlineCode",value:""}}function gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qo(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:void 0,children:[]}}function Wi(){return{type:"break"}}function ws(){return{type:"html",value:""}}function io(){return{type:"image",title:null,url:"",alt:null}}function Qn(){return{type:"link",title:null,url:"",children:[]}}function Lo(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function oo(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function bi(){return{type:"paragraph",children:[]}}function Do(){return{type:"strong",children:[]}}function sa(){return{type:"text",value:""}}function yt(){return{type:"thematicBreak"}}}function dR(e,t){let r=-1;for(;++r<t.length;){const i=t[r];Array.isArray(i)?dR(e,i):GQ(e,i)}return e}function GQ(e,t){let r;for(r in t)if(SS.call(t,r)){const i=r==="canContainEols"||r==="transforms",l=(SS.call(e,r)?e[r]:void 0)||(e[r]=i?[]:{}),a=t[r];a&&(i?e[r]=[...l,...a]:Object.assign(l,a))}}function F6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gg({start:t.start,end:t.end})+") is still open")}function QQ(e){Object.assign(this,{Parser:r=>{const i=this.data("settings");return HQ(r,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Na=function(e,t,r){var i={type:String(e)};return r==null&&(typeof t=="string"||Array.isArray(t))?r=t:Object.assign(i,t),Array.isArray(r)?i.children=r:r!=null&&(i.value=String(r)),i};const K1={}.hasOwnProperty;function WQ(e,t){const r=t.data||{};return"value"in t&&!(K1.call(r,"hName")||K1.call(r,"hProperties")||K1.call(r,"hChildren"))?e.augment(t,Na("text",t.value)):e(t,"div",Us(e,t))}function mR(e,t,r){const i=t&&t.type;let s;if(!i)throw new Error("Expected node, got `"+t+"`");return K1.call(e.handlers,i)?s=e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?s=ZQ:s=e.unknownHandler,(typeof s=="function"?s:WQ)(e,t,r)}function ZQ(e,t){return"children"in t?{...t,children:Us(e,t)}:t}function Us(e,t){const r=[];if("children"in t){const i=t.children;let s=-1;for(;++s<i.length;){const l=mR(e,i[s],t);if(l){if(s&&i[s-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const a=l.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(l)?r.push(...l):r.push(l)}}}return r}const gR=function(e){if(e==null)return JQ;if(typeof e=="string")return YQ(e);if(typeof e=="object")return Array.isArray(e)?KQ(e):XQ(e);if(typeof e=="function")return dx(e);throw new Error("Expected function, string, or object as test")};function KQ(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=gR(e[r]);return dx(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].call(this,...s))return!0;return!1}}function XQ(e){return dx(t);function t(r){let i;for(i in e)if(r[i]!==e[i])return!1;return!0}}function YQ(e){return dx(t);function t(r){return r&&r.type===e}}function dx(e){return t;function t(...r){return Boolean(e.call(this,...r))}}function JQ(){return!0}const eW=!0,tW="skip",B6=!1,rW=function(e,t,r,i){typeof t=="function"&&typeof r!="function"&&(i=r,r=t,t=null);const s=gR(t),l=i?-1:1;a(e,null,[])();function a(x,S,P){const R=typeof x=="object"&&x!==null?x:{};let z;return typeof R.type=="string"&&(z=typeof R.tagName=="string"?R.tagName:typeof R.name=="string"?R.name:void 0,Object.defineProperty(N,"name",{value:"node ("+(R.type+(z?"<"+z+">":""))+")"})),N;function N(){let $=[],Z,J,ae;if((!t||s(x,S,P[P.length-1]||null))&&($=nW(r(x,P)),$[0]===B6))return $;if(x.children&&$[0]!==tW)for(J=(i?x.children.length:-1)+l,ae=P.concat(x);J>-1&&J<x.children.length;){if(Z=a(x.children[J],J,ae)(),Z[0]===B6)return Z;J=typeof Z[1]=="number"?Z[1]:J+l}return $}}};function nW(e){return Array.isArray(e)?e:typeof e=="number"?[eW,e]:[e]}const i4=function(e,t,r,i){typeof t=="function"&&typeof r!="function"&&(i=r,r=t,t=null),rW(e,t,s,i);function s(l,a){const x=a[a.length-1];return r(l,x?x.children.indexOf(l):null,x)}},yR=_R("start"),vR=_R("end");function _R(e){return t;function t(r){const i=r&&r.position&&r.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function iW(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const z6={}.hasOwnProperty;function oW(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return i4(e,"definition",i=>{const s=N6(i.identifier);s&&!z6.call(t,s)&&(t[s]=i)}),r;function r(i){const s=N6(i);return s&&z6.call(t,s)?t[s]:null}}function N6(e){return String(e||"").toUpperCase()}const aW={'"':"quot","&":"amp","<":"lt",">":"gt"};function sW(e){return e.replace(/["&<>]/g,t);function t(r){return"&"+aW[r]+";"}}function xR(e,t){const r=sW(uW(e||""));if(!t)return r;const i=r.indexOf(":"),s=r.indexOf("?"),l=r.indexOf("#"),a=r.indexOf("/");return i<0||a>-1&&i>a||s>-1&&i>s||l>-1&&i>l||t.test(r.slice(0,i))?r:""}function uW(e){const t=[];let r=-1,i=0,s=0;for(;++r<e.length;){const l=e.charCodeAt(r);let a="";if(l===37&&el(e.charCodeAt(r+1))&&el(e.charCodeAt(r+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(a=String.fromCharCode(l));else if(l>55295&&l<57344){const x=e.charCodeAt(r+1);l<56320&&x>56319&&x<57344?(a=String.fromCharCode(l,x),s=1):a="\uFFFD"}else a=String.fromCharCode(l);a&&(t.push(e.slice(i,r),encodeURIComponent(a)),i=r+s+1,a=""),s&&(r+=s,s=0)}return t.join("")+e.slice(i)}function vp(e,t){const r=[];let i=-1;for(t&&r.push(Na("text",`
`));++i<e.length;)i&&r.push(Na("text",`
`)),r.push(e[i]);return t&&e.length>0&&r.push(Na("text",`
`)),r}function lW(e){let t=-1;const r=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const s=Us(e,i),l=String(i.identifier),a=xR(l.toLowerCase());let x=0;const S=[];for(;++x<=e.footnoteCounts[l];){const z={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(x>1?"-"+x:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21A9"}]};x>1&&z.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(x)}]}),S.length>0&&S.push({type:"text",value:" "}),S.push(z)}const P=s[s.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const z=P.children[P.children.length-1];z&&z.type==="text"?z.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...S)}else s.push(...S);const R={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:vp(s,!0)};i.position&&(R.position=i.position),r.push(R)}return r.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Na("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:vp(r,!0)},{type:"text",value:`
`}]}}function cW(e,t){return e(t,"blockquote",vp(Us(e,t),!0))}function fW(e,t){return[e(t,"br"),Na("text",`
`)]}function pW(e,t){const r=t.value?t.value+`
`:"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};i&&(s.className=["language-"+i]);const l=e(t,"code",s,[Na("text",r)]);return t.meta&&(l.data={meta:t.meta}),e(t.position,"pre",[l])}function AW(e,t){return e(t,"del",Us(e,t))}function hW(e,t){return e(t,"em",Us(e,t))}function bR(e,t){const r=String(t.identifier),i=xR(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let l;s===-1?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,l=e.footnoteOrder.length):(e.footnoteCounts[r]++,l=s+1);const a=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Na("text",String(l))])])}function dW(e,t){const r=e.footnoteById;let i=1;for(;i in r;)i++;const s=String(i);return r[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:t.children}],position:t.position},bR(e,{type:"footnoteReference",identifier:s,position:t.position})}function mW(e,t){return e(t,"h"+t.depth,Us(e,t))}function gW(e,t){return e.dangerous?e.augment(t,Na("raw",t.value)):null}var U6={};function yW(e){var t,r,i=U6[e];if(i)return i;for(i=U6[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function mx(e,t,r){var i,s,l,a,x,S="";for(typeof t!="string"&&(r=t,t=mx.defaultChars),typeof r>"u"&&(r=!0),x=yW(t),i=0,s=e.length;i<s;i++){if(l=e.charCodeAt(i),r&&l===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){S+=e.slice(i,i+3),i+=2;continue}if(l<128){S+=x[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<s&&(a=e.charCodeAt(i+1),a>=56320&&a<=57343)){S+=encodeURIComponent(e[i]+e[i+1]),i++;continue}S+="%EF%BF%BD";continue}S+=encodeURIComponent(e[i])}return S}mx.defaultChars=";/?:@&=+$,-_.!~*'()#";mx.componentChars="-_.!~*'()";var gx=mx;function wR(e,t){const r=t.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Na("text","!["+t.alt+i);const s=Us(e,t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift(Na("text","["));const a=s[s.length-1];return a&&a.type==="text"?a.value+=i:s.push(Na("text",i)),s}function vW(e,t){const r=e.definition(t.identifier);if(!r)return wR(e,t);const i={src:gx(r.url||""),alt:t.alt};return r.title!==null&&r.title!==void 0&&(i.title=r.title),e(t,"img",i)}function _W(e,t){const r={src:gx(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(r.title=t.title),e(t,"img",r)}function xW(e,t){return e(t,"code",[Na("text",t.value.replace(/\r?\n|\r/g," "))])}function bW(e,t){const r=e.definition(t.identifier);if(!r)return wR(e,t);const i={href:gx(r.url||"")};return r.title!==null&&r.title!==void 0&&(i.title=r.title),e(t,"a",i,Us(e,t))}function wW(e,t){const r={href:gx(t.url)};return t.title!==null&&t.title!==void 0&&(r.title=t.title),e(t,"a",r,Us(e,t))}function SW(e,t,r){const i=Us(e,t),s=r?CW(r):SR(t),l={},a=[];if(typeof t.checked=="boolean"){let P;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?P=i[0]:(P=e(null,"p",[]),i.unshift(P)),P.children.length>0&&P.children.unshift(Na("text"," ")),P.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),l.className=["task-list-item"]}let x=-1;for(;++x<i.length;){const P=i[x];(s||x!==0||P.type!=="element"||P.tagName!=="p")&&a.push(Na("text",`
`)),P.type==="element"&&P.tagName==="p"&&!s?a.push(...P.children):a.push(P)}const S=i[i.length-1];return S&&(s||!("tagName"in S)||S.tagName!=="p")&&a.push(Na("text",`
`)),e(t,"li",l,a)}function CW(e){let t=e.spread;const r=e.children;let i=-1;for(;!t&&++i<r.length;)t=SR(r[i]);return Boolean(t)}function SR(e){const t=e.spread;return t==null?e.children.length>1:t}function EW(e,t){const r={},i=t.ordered?"ol":"ul",s=Us(e,t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++l<s.length;){const a=s[l];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}return e(t,i,r,vp(s,!0))}function kW(e,t){return e(t,"p",Us(e,t))}function TW(e,t){return e.augment(t,Na("root",vp(Us(e,t))))}function PW(e,t){return e(t,"strong",Us(e,t))}function IW(e,t){const r=t.children;let i=-1;const s=t.align||[],l=[];for(;++i<r.length;){const a=r[i].children,x=i===0?"th":"td",S=[];let P=-1;const R=t.align?s.length:a.length;for(;++P<R;){const z=a[P];S.push(e(z,x,{align:s[P]},z?Us(e,z):[]))}l[i]=e(r[i],"tr",vp(S,!0))}return e(t,"table",vp([e(l[0].position,"thead",vp([l[0]],!0))].concat(l[1]?e({start:yR(l[1]),end:vR(l[l.length-1])},"tbody",vp(l.slice(1),!0)):[]),!0))}const j6=9,$6=32;function OW(e){const t=String(e),r=/\r?\n|\r/g;let i=r.exec(t),s=0;const l=[];for(;i;)l.push(V6(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(t);return l.push(V6(t.slice(s),s>0,!1)),l.join("")}function V6(e,t,r){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===j6||l===$6;)i++,l=e.codePointAt(i)}if(r){let l=e.codePointAt(s-1);for(;l===j6||l===$6;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function MW(e,t){return e.augment(t,Na("text",OW(String(t.value))))}function RW(e,t){return e(t,"hr")}const LW={blockquote:cW,break:fW,code:pW,delete:AW,emphasis:hW,footnoteReference:bR,footnote:dW,heading:mW,html:gW,imageReference:vW,image:_W,inlineCode:xW,linkReference:bW,link:wW,listItem:SW,list:EW,paragraph:kW,root:TW,strong:PW,table:IW,text:MW,thematicBreak:RW,toml:d1,yaml:d1,definition:d1,footnoteDefinition:d1};function d1(){return null}const DW={}.hasOwnProperty;function FW(e,t){const r=t||{},i=r.allowDangerousHtml||!1,s={};return a.dangerous=i,a.clobberPrefix=r.clobberPrefix===void 0||r.clobberPrefix===null?"user-content-":r.clobberPrefix,a.footnoteLabel=r.footnoteLabel||"Footnotes",a.footnoteLabelTagName=r.footnoteLabelTagName||"h2",a.footnoteLabelProperties=r.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=r.footnoteBackLabel||"Back to content",a.definition=oW(e),a.footnoteById=s,a.footnoteOrder=[],a.footnoteCounts={},a.augment=l,a.handlers={...LW,...r.handlers},a.unknownHandler=r.unknownHandler,a.passThrough=r.passThrough,i4(e,"footnoteDefinition",x=>{const S=String(x.identifier).toUpperCase();DW.call(s,S)||(s[S]=x)}),a;function l(x,S){if(x&&"data"in x&&x.data){const P=x.data;P.hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=P.hName),S.type==="element"&&P.hProperties&&(S.properties={...S.properties,...P.hProperties}),"children"in S&&S.children&&P.hChildren&&(S.children=P.hChildren)}if(x){const P="type"in x?x:{position:x};iW(P)||(S.position={start:yR(P),end:vR(P)})}return S}function a(x,S,P,R){return Array.isArray(P)&&(R=P,P={}),l(x,{type:"element",tagName:S,properties:P||{},children:R||[]})}}function CR(e,t){const r=FW(e,t),i=mR(r,e,null),s=lW(r);return s&&i.children.push(Na("text",`
`),s),Array.isArray(i)?{type:"root",children:i}:i}const BW=function(e,t){return e&&"run"in e?NW(e,t):UW(e||t)},zW=BW;function NW(e,t){return(r,i,s)=>{e.run(CR(r,t),i,l=>{s(l)})}}function UW(e){return t=>CR(t,e)}class by{constructor(t,r,i){this.property=t,this.normal=r,i&&(this.space=i)}}by.prototype.property={};by.prototype.normal={};by.prototype.space=null;function ER(e,t){const r={},i={};let s=-1;for(;++s<e.length;)Object.assign(r,e[s].property),Object.assign(i,e[s].normal);return new by(r,i,t)}function CS(e){return e.toLowerCase()}class Gl{constructor(t,r){this.property=t,this.attribute=r}}Gl.prototype.space=null;Gl.prototype.boolean=!1;Gl.prototype.booleanish=!1;Gl.prototype.overloadedBoolean=!1;Gl.prototype.number=!1;Gl.prototype.commaSeparated=!1;Gl.prototype.spaceSeparated=!1;Gl.prototype.commaOrSpaceSeparated=!1;Gl.prototype.mustUseProperty=!1;Gl.prototype.defined=!1;let jW=0;const Bn=Zh(),Pa=Zh(),kR=Zh(),ir=Zh(),So=Zh(),y0=Zh(),Zu=Zh();function Zh(){return 2**++jW}const ES=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bn,booleanish:Pa,overloadedBoolean:kR,number:ir,spaceSeparated:So,commaSeparated:y0,commaOrSpaceSeparated:Zu},Symbol.toStringTag,{value:"Module"})),yw=Object.keys(ES);class o4 extends Gl{constructor(t,r,i,s){let l=-1;if(super(t,r),H6(this,"space",s),typeof i=="number")for(;++l<yw.length;){const a=yw[l];H6(this,yw[l],(i&ES[a])===ES[a])}}}o4.prototype.defined=!0;function H6(e,t,r){r&&(e[t]=r)}const $W={}.hasOwnProperty;function q0(e){const t={},r={};let i;for(i in e.properties)if($W.call(e.properties,i)){const s=e.properties[i],l=new o4(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,r[CS(i)]=i,r[CS(l.attribute)]=i}return new by(t,r,e.space)}const TR=q0({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),PR=q0({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function IR(e,t){return t in e?e[t]:t}function OR(e,t){return IR(e,t.toLowerCase())}const MR=q0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:OR,properties:{xmlns:null,xmlnsXLink:null}}),RR=q0({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Pa,ariaAutoComplete:null,ariaBusy:Pa,ariaChecked:Pa,ariaColCount:ir,ariaColIndex:ir,ariaColSpan:ir,ariaControls:So,ariaCurrent:null,ariaDescribedBy:So,ariaDetails:null,ariaDisabled:Pa,ariaDropEffect:So,ariaErrorMessage:null,ariaExpanded:Pa,ariaFlowTo:So,ariaGrabbed:Pa,ariaHasPopup:null,ariaHidden:Pa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:So,ariaLevel:ir,ariaLive:null,ariaModal:Pa,ariaMultiLine:Pa,ariaMultiSelectable:Pa,ariaOrientation:null,ariaOwns:So,ariaPlaceholder:null,ariaPosInSet:ir,ariaPressed:Pa,ariaReadOnly:Pa,ariaRelevant:null,ariaRequired:Pa,ariaRoleDescription:So,ariaRowCount:ir,ariaRowIndex:ir,ariaRowSpan:ir,ariaSelected:Pa,ariaSetSize:ir,ariaSort:null,ariaValueMax:ir,ariaValueMin:ir,ariaValueNow:ir,ariaValueText:null,role:null}}),VW=q0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:OR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:y0,acceptCharset:So,accessKey:So,action:null,allow:null,allowFullScreen:Bn,allowPaymentRequest:Bn,allowUserMedia:Bn,alt:null,as:null,async:Bn,autoCapitalize:null,autoComplete:So,autoFocus:Bn,autoPlay:Bn,capture:Bn,charSet:null,checked:Bn,cite:null,className:So,cols:ir,colSpan:null,content:null,contentEditable:Pa,controls:Bn,controlsList:So,coords:ir|y0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bn,defer:Bn,dir:null,dirName:null,disabled:Bn,download:kR,draggable:Pa,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bn,formTarget:null,headers:So,height:ir,hidden:Bn,high:ir,href:null,hrefLang:null,htmlFor:So,httpEquiv:So,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Bn,itemId:null,itemProp:So,itemRef:So,itemScope:Bn,itemType:So,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bn,low:ir,manifest:null,max:null,maxLength:ir,media:null,method:null,min:null,minLength:ir,multiple:Bn,muted:Bn,name:null,nonce:null,noModule:Bn,noValidate:Bn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bn,optimum:ir,pattern:null,ping:So,placeholder:null,playsInline:Bn,poster:null,preload:null,readOnly:Bn,referrerPolicy:null,rel:So,required:Bn,reversed:Bn,rows:ir,rowSpan:ir,sandbox:So,scope:null,scoped:Bn,seamless:Bn,selected:Bn,shape:null,size:ir,sizes:null,slot:null,span:ir,spellCheck:Pa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ir,step:null,style:null,tabIndex:ir,target:null,title:null,translate:null,type:null,typeMustMatch:Bn,useMap:null,value:Pa,width:ir,wrap:null,align:null,aLink:null,archive:So,axis:null,background:null,bgColor:null,border:ir,borderColor:null,bottomMargin:ir,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bn,declare:Bn,event:null,face:null,frame:null,frameBorder:null,hSpace:ir,leftMargin:ir,link:null,longDesc:null,lowSrc:null,marginHeight:ir,marginWidth:ir,noResize:Bn,noHref:Bn,noShade:Bn,noWrap:Bn,object:null,profile:null,prompt:null,rev:null,rightMargin:ir,rules:null,scheme:null,scrolling:Pa,standby:null,summary:null,text:null,topMargin:ir,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ir,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bn,disableRemotePlayback:Bn,prefix:null,property:null,results:ir,security:null,unselectable:null}}),HW=q0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:IR,properties:{about:Zu,accentHeight:ir,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ir,amplitude:ir,arabicForm:null,ascent:ir,attributeName:null,attributeType:null,azimuth:ir,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ir,by:null,calcMode:null,capHeight:ir,className:So,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ir,diffuseConstant:ir,direction:null,display:null,dur:null,divisor:ir,dominantBaseline:null,download:Bn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ir,enableBackground:null,end:null,event:null,exponent:ir,externalResourcesRequired:null,fill:null,fillOpacity:ir,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:y0,g2:y0,glyphName:y0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ir,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ir,horizOriginX:ir,horizOriginY:ir,id:null,ideographic:ir,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ir,k:ir,k1:ir,k2:ir,k3:ir,k4:ir,kernelMatrix:Zu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ir,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ir,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ir,overlineThickness:ir,paintOrder:null,panose1:null,path:null,pathLength:ir,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:So,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ir,pointsAtY:ir,pointsAtZ:ir,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zu,rev:Zu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zu,requiredFeatures:Zu,requiredFonts:Zu,requiredFormats:Zu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ir,specularExponent:ir,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ir,strikethroughThickness:ir,string:null,stroke:null,strokeDashArray:Zu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ir,strokeOpacity:ir,strokeWidth:null,style:null,surfaceScale:ir,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zu,tabIndex:ir,tableValues:null,target:null,targetX:ir,targetY:ir,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zu,to:null,transform:null,u1:null,u2:null,underlinePosition:ir,underlineThickness:ir,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ir,values:null,vAlphabetic:ir,vMathematical:ir,vectorEffect:null,vHanging:ir,vIdeographic:ir,version:null,vertAdvY:ir,vertOriginX:ir,vertOriginY:ir,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ir,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),qW=/^data[-\w.:]+$/i,q6=/-[a-z]/g,GW=/[A-Z]/g;function QW(e,t){const r=CS(t);let i=t,s=Gl;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&qW.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(q6,ZW);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!q6.test(l)){let a=l.replace(GW,WW);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=o4}return new s(i,t)}function WW(e){return"-"+e.toLowerCase()}function ZW(e){return e.charAt(1).toUpperCase()}const G6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KW=ER([PR,TR,MR,RR,VW],"html"),XW=ER([PR,TR,MR,RR,HW],"svg");function YW(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{i4(t,"element",(r,i,s)=>{const l=s;let a;if(e.allowedElements?a=!e.allowedElements.includes(r.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(r.tagName)),!a&&e.allowElement&&typeof i=="number"&&(a=!e.allowElement(r,i,l)),a&&typeof i=="number")return e.unwrapDisallowed&&r.children?l.children.splice(i,1,...r.children):l.children.splice(i,1),i})}}function JW(e){var t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function eZ(e){return e.join(" ").trim()}function tZ(e,t){var r=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}var Q6=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,rZ=/\n/g,nZ=/^\s*/,iZ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,oZ=/^:\s*/,aZ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sZ=/^[;\s]*/,uZ=/^\s+|\s+$/g,lZ=`
`,W6="/",Z6="*",kh="",cZ="comment",fZ="declaration",pZ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,i=1;function s(Z){var J=Z.match(rZ);J&&(r+=J.length);var ae=Z.lastIndexOf(lZ);i=~ae?Z.length-ae:i+Z.length}function l(){var Z={line:r,column:i};return function(J){return J.position=new a(Z),P(),J}}function a(Z){this.start=Z,this.end={line:r,column:i},this.source=t.source}a.prototype.content=e;function x(Z){var J=new Error(t.source+":"+r+":"+i+": "+Z);if(J.reason=Z,J.filename=t.source,J.line=r,J.column=i,J.source=e,!t.silent)throw J}function S(Z){var J=Z.exec(e);if(!!J){var ae=J[0];return s(ae),e=e.slice(ae.length),J}}function P(){S(nZ)}function R(Z){var J;for(Z=Z||[];J=z();)J!==!1&&Z.push(J);return Z}function z(){var Z=l();if(!(W6!=e.charAt(0)||Z6!=e.charAt(1))){for(var J=2;kh!=e.charAt(J)&&(Z6!=e.charAt(J)||W6!=e.charAt(J+1));)++J;if(J+=2,kh===e.charAt(J-1))return x("End of comment missing");var ae=e.slice(2,J-2);return i+=2,s(ae),e=e.slice(J),i+=2,Z({type:cZ,comment:ae})}}function N(){var Z=l(),J=S(iZ);if(!!J){if(z(),!S(oZ))return x("property missing ':'");var ae=S(aZ),V=Z({type:fZ,property:K6(J[0].replace(Q6,kh)),value:ae?K6(ae[0].replace(Q6,kh)):kh});return S(sZ),V}}function $(){var Z=[];R(Z);for(var J;J=N();)J!==!1&&(Z.push(J),R(Z));return Z}return P(),$()};function K6(e){return e?e.replace(uZ,kh):kh}var AZ=pZ;function hZ(e,t){var r=null;if(!e||typeof e!="string")return r;for(var i,s=AZ(e),l=typeof t=="function",a,x,S=0,P=s.length;S<P;S++)i=s[S],a=i.property,x=i.value,l?t(a,x,i):x&&(r||(r={}),r[a]=x);return r}var dZ=hZ;const kS={}.hasOwnProperty,mZ=new Set(["table","thead","tbody","tfoot","tr"]);function LR(e,t){const r=[];let i=-1,s;for(;++i<t.children.length;)s=t.children[i],s.type==="element"?r.push(gZ(e,s,i,t)):s.type==="text"?(t.type!=="element"||!mZ.has(t.tagName)||!JW(s))&&r.push(s.value):s.type==="raw"&&!e.options.skipHtml&&r.push(s.value);return r}function gZ(e,t,r,i){const s=e.options,l=e.schema,a=t.tagName,x={};let S=l,P;if(l.space==="html"&&a==="svg"&&(S=XW,e.schema=S),t.properties)for(P in t.properties)kS.call(t.properties,P)&&vZ(x,P,t.properties[P],e);(a==="ol"||a==="ul")&&e.listDepth++;const R=LR(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=l;const z=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},N=s.components&&kS.call(s.components,a)?s.components[a]:a,$=typeof N=="string"||N===En.Fragment;if(!eH.isValidElementType(N))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(x.key=[a,z.start.line,z.start.column,r].join("-"),a==="a"&&s.linkTarget&&(x.target=typeof s.linkTarget=="function"?s.linkTarget(String(x.href||""),t.children,typeof x.title=="string"?x.title:null):s.linkTarget),a==="a"&&s.transformLinkUri&&(x.href=s.transformLinkUri(String(x.href||""),t.children,typeof x.title=="string"?x.title:null)),!$&&a==="code"&&i.type==="element"&&i.tagName!=="pre"&&(x.inline=!0),!$&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(x.level=Number.parseInt(a.charAt(1),10)),a==="img"&&s.transformImageUri&&(x.src=s.transformImageUri(String(x.src||""),String(x.alt||""),typeof x.title=="string"?x.title:null)),!$&&a==="li"&&i.type==="element"){const Z=yZ(t);x.checked=Z&&Z.properties?Boolean(Z.properties.checked):null,x.index=vw(i,t),x.ordered=i.tagName==="ol"}return!$&&(a==="ol"||a==="ul")&&(x.ordered=a==="ol",x.depth=e.listDepth),(a==="td"||a==="th")&&(x.align&&(x.style||(x.style={}),x.style.textAlign=x.align,delete x.align),$||(x.isHeader=a==="th")),!$&&a==="tr"&&i.type==="element"&&(x.isHeader=Boolean(i.tagName==="thead")),s.sourcePos&&(x["data-sourcepos"]=bZ(z)),!$&&s.rawSourcePos&&(x.sourcePosition=t.position),!$&&s.includeElementIndex&&(x.index=vw(i,t),x.siblingCount=vw(i)),$||(x.node=t),R.length>0?En.createElement(N,x,R):En.createElement(N,x)}function yZ(e){let t=-1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"&&r.tagName==="input")return r}return null}function vw(e,t){let r=-1,i=0;for(;++r<e.children.length&&e.children[r]!==t;)e.children[r].type==="element"&&i++;return i}function vZ(e,t,r,i){const s=QW(i.schema,t);let l=r;l==null||l!==l||(Array.isArray(l)&&(l=s.commaSeparated?tZ(l):eZ(l)),s.property==="style"&&typeof l=="string"&&(l=_Z(l)),s.space&&s.property?e[kS.call(G6,s.property)?G6[s.property]:s.property]=l:s.attribute&&(e[s.attribute]=l))}function _Z(e){const t={};try{dZ(e,r)}catch{}return t;function r(i,s){const l=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[l.replace(/-([a-z])/g,xZ)]=s}}function xZ(e,t){return t.toUpperCase()}function bZ(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}const X6={}.hasOwnProperty,wZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",m1={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function a4(e){for(const l in m1)if(X6.call(m1,l)&&X6.call(e,l)){const a=m1[l];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${l}\` (see <${wZ}#${a.id}> for more info)`),delete m1[l]}const t=Hq().use(QQ).use(e.remarkPlugins||[]).use(zW,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(YW,e),r=new eR;typeof e.children=="string"?r.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(r),r);if(i.type!=="root")throw new TypeError("Expected a `root` node");let s=_t(D2,{children:LR({options:e,schema:KW,listDepth:0},i)});return e.className&&(s=_t("div",{className:e.className,children:s})),s}a4.defaultProps={transformLinkUri:Oq};a4.propTypes={children:pn.exports.string,className:pn.exports.string,allowElement:pn.exports.func,allowedElements:pn.exports.arrayOf(pn.exports.string),disallowedElements:pn.exports.arrayOf(pn.exports.string),unwrapDisallowed:pn.exports.bool,remarkPlugins:pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.bool,pn.exports.string,pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.any)]))])),rehypePlugins:pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.oneOfType([pn.exports.bool,pn.exports.string,pn.exports.object,pn.exports.func,pn.exports.arrayOf(pn.exports.any)]))])),sourcePos:pn.exports.bool,rawSourcePos:pn.exports.bool,skipHtml:pn.exports.bool,includeElementIndex:pn.exports.bool,transformLinkUri:pn.exports.oneOfType([pn.exports.func,pn.exports.bool]),linkTarget:pn.exports.oneOfType([pn.exports.func,pn.exports.string]),transformImageUri:pn.exports.func,components:pn.exports.object};const DR=hr.exports.memo(function(e){return _t("a",{href:e.href,target:"_blank",rel:"noreferrer",onClick:SZ,children:e.children})});function SZ(e){e.stopPropagation()}DR.displayName="LinkRenderer";function CZ(e){if(!e)return"";let t=e;const r=/(.?.?https|.?.?http)(:\/\/)([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm,i=e.matchAll(r);let s=0;return[...i].forEach(l=>{var K;const[a,x,,S,P]=l,R=(K=l.index)!=null?K:0,z=a.length;if(a.startsWith("](")||a.indexOf("[http")>-1)return;const N=a.indexOf("http"),$=a.substring(N),Z=a.substring(0,N),J=S.replace("www.",""),ae=`${Z}[${J}${P!=null?P:""}](${$})`,V=EZ(t)(R+s,z,ae);s+=ae.length-z,t=V}),t}function EZ(e){return function(t,r,i){return t<0&&(t+=e.length,t<0&&(t=0)),e.slice(0,t)+(i||"")+e.slice(t+r)}}const Y6=TM(),kZ=Ro({_set:e=>e},({onAction:e,onInit:t,schedule:r,create:i},s=Y6.location)=>(t(()=>{r(l=>{Y6.listen(a=>{l(i("_set",a))})})}),e("_set",l=>s=l),s),"currentLocationAtom"),TZ="_tooltipContainer_1o3q9_4",PZ="_popup_1o3q9_16",IZ="_hoverTooltip_1o3q9_28",OZ="_tooltipAnchor_1o3q9_36",MZ="_popupContent_1o3q9_40",RZ="_closeIcon_1o3q9_84",LZ="_unset_1o3q9_98",DZ="_markdown_1o3q9_102",AA={tooltipContainer:TZ,popup:PZ,hoverTooltip:IZ,tooltipAnchor:OZ,popupContent:MZ,"top-left":"_top-left_1o3q9_52","top-right":"_top-right_1o3q9_61","bottom-left":"_bottom-left_1o3q9_70","bottom-right":"_bottom-right_1o3q9_79",closeIcon:RZ,unset:LZ,markdown:DZ};function FZ(e){if(window.visualViewport===null)return null;const{height:t,width:r}=window.visualViewport;return e?e.y>t/2&&e.x>r/2?"top-left":e.y>t/2?"top-right":e.x>r/2?"bottom-left":"bottom-right":null}function BZ({properties:e,closeTooltip:t,transitionRef:r}){var N,$;const[i,s]=hr.exports.useState(null),[l,a]=hr.exports.useState(null),x=hr.exports.useRef(),[{pathname:S}]=QM(kZ);if(hr.exports.useEffect(()=>{S!==x.current&&(e==null?void 0:e.position)&&t(),x.current=S},[S]),!e)return null;((l==null?void 0:l.x)!==e.position.x||(l==null?void 0:l.y)!==e.position.y)&&(e.position?(s(e.position.predefinedPosition||FZ(e.position)),a(e.position)):(s(null),a(null)));function P(Z){e!=null&&e.hoverBehavior||(e!=null&&e.onOuterClick?e.onOuterClick(Z,t):t())}function R(Z){e!=null&&e.onClose?e.onClose(Z,t):t()}function z(Z){Z.stopPropagation()}return _t("div",{ref:r,className:va(AA.tooltipContainer,e.hoverBehavior&&AA.hoverTooltip),onClick:P,children:_t("div",{className:AA.tooltipAnchor,style:{top:e.position.y||0,right:(((N=window.visualViewport)==null?void 0:N.width)||0)-e.position.x||0},children:i&&_t("div",{className:va(AA.popup,AA[i]),children:Zn("div",{className:va(AA.popupContent,($=e.popupClasses)==null?void 0:$.popupContent),onClick:z,children:[typeof e.popup=="string"?_t(a4,{components:{a:DR},className:AA.markdown,children:CZ(e.popup)}):e.popup,!e.hoverBehavior&&_t("div",{className:AA.closeIcon,onClick:R,children:_t(CV,{})})]})})})})}function FR(){const[e,{resetCurrentTooltip:t}]=QM(mS);return _t(Iq,{in:Boolean(e),timeout:300,classNames:Pq,children:r=>_t(BZ,{transitionRef:r,properties:e,closeTooltip:t})})}function BA(e){return BA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BA(e)}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wl(e,t,r){return t&&J6(e.prototype,t),r&&J6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function wy(e,t){if(t&&(BA(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FA(e)}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function Tp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){if(Array.isArray(e))return e}function NZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function UZ(e,t){if(!!e){if(typeof e=="string")return e8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(e,t)}}function jZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(e){return zZ(e)||NZ(e)||UZ(e)||jZ()}function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var VZ={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},HZ=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.init(t,r)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=r||VZ,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,i,s,l){return l&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[i](r))}},{key:"create",value:function(r){return new e(this.logger,r8(r8({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}}]),e}(),_f=new HZ,UA=function(){function e(){Ql(this,e),this.observers={}}return Wl(e,[{key:"on",value:function(r,i){var s=this;return r.split(" ").forEach(function(l){s.observers[l]=s.observers[l]||[],s.observers[l].push(i)}),this}},{key:"off",value:function(r,i){if(!!this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==i})}}},{key:"emit",value:function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(S){S.apply(void 0,s)})}if(this.observers["*"]){var x=[].concat(this.observers["*"]);x.forEach(function(S){S.apply(S,[r].concat(s))})}}}]),e}();function jm(){var e,t,r=new Promise(function(i,s){e=i,t=s});return r.resolve=e,r.reject=t,r}function n8(e){return e==null?"":""+e}function qZ(e,t,r){e.forEach(function(i){t[i]&&(r[i]=t[i])})}function s4(e,t,r){function i(x){return x&&x.indexOf("###")>-1?x.replace(/###/g,"."):x}function s(){return!e||typeof e=="string"}for(var l=typeof t!="string"?[].concat(t):t.split(".");l.length>1;){if(s())return{};var a=i(l.shift());!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return s()?{}:{obj:e,k:i(l.shift())}}function i8(e,t,r){var i=s4(e,t,Object),s=i.obj,l=i.k;s[l]=r}function GZ(e,t,r,i){var s=s4(e,t,Object),l=s.obj,a=s.k;l[a]=l[a]||[],i&&(l[a]=l[a].concat(r)),i||l[a].push(r)}function z_(e,t){var r=s4(e,t),i=r.obj,s=r.k;if(!!i)return i[s]}function o8(e,t,r){var i=z_(e,r);return i!==void 0?i:z_(t,r)}function BR(e,t,r){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?r&&(e[i]=t[i]):BR(e[i],t[i],r):e[i]=t[i]);return e}function Fd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var QZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function WZ(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return QZ[t]}):e}var vx=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ZZ=[" ",",","?","!",";"];function KZ(e,t,r){t=t||"",r=r||"";var i=ZZ.filter(function(x){return t.indexOf(x)<0&&r.indexOf(x)<0});if(i.length===0)return!0;var s=new RegExp("(".concat(i.map(function(x){return x==="?"?"\\?":x}).join("|"),")")),l=!s.test(e);if(!l){var a=e.indexOf(r);a>0&&!s.test(e.substring(0,a))&&(l=!0)}return l}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function XZ(e){var t=YZ();return function(){var i=Sf(e),s;if(t){var l=Sf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return wy(this,s)}}function YZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zR(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!e){if(e[t])return e[t];for(var i=t.split(r),s=e,l=0;l<i.length;++l){if(!s||typeof s[i[l]]=="string"&&l+1<i.length)return;if(s[i[l]]===void 0){for(var a=2,x=i.slice(l,l+a).join(r),S=s[x];S===void 0&&i.length>l+a;)a++,x=i.slice(l,l+a).join(r),S=s[x];if(S===void 0)return;if(S===null)return null;if(t.endsWith(x)){if(typeof S=="string")return S;if(x&&typeof S[x]=="string")return S[x]}var P=i.slice(l+a).join(r);return P?zR(S,P,r):void 0}s=s[i[l]]}return s}}var JZ=function(e){yx(r,e);var t=XZ(r);function r(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ql(this,r),s=t.call(this),vx&&UA.call(FA(s)),s.data=i||{},s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Wl(r,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,P=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure,R=[s,l];a&&typeof a!="string"&&(R=R.concat(a)),a&&typeof a=="string"&&(R=R.concat(S?a.split(S):a)),s.indexOf(".")>-1&&(R=s.split("."));var z=z_(this.data,R);return z||!P||typeof a!="string"?z:zR(this.data&&this.data[s]&&this.data[s][l],a,S)}},{key:"addResource",value:function(s,l,a,x){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},P=this.options.keySeparator;P===void 0&&(P=".");var R=[s,l];a&&(R=R.concat(P?a.split(P):a)),s.indexOf(".")>-1&&(R=s.split("."),x=l,l=R[1]),this.addNamespaces(l),i8(this.data,R,x),S.silent||this.emit("added",s,l,a,x)}},{key:"addResources",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in a)(typeof a[S]=="string"||Object.prototype.toString.apply(a[S])==="[object Array]")&&this.addResource(s,l,S,a[S],{silent:!0});x.silent||this.emit("added",s,l,a)}},{key:"addResourceBundle",value:function(s,l,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},R=[s,l];s.indexOf(".")>-1&&(R=s.split("."),x=a,a=l,l=R[1]),this.addNamespaces(l);var z=z_(this.data,R)||{};x?BR(z,a,S):z=g1(g1({},z),a),i8(this.data,R,z),P.silent||this.emit("added",s,l,a)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?g1(g1({},{}),this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var l=this.getDataByLanguage(s),a=l&&Object.keys(l)||[];return!!a.find(function(x){return l[x]&&Object.keys(l[x]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(UA),NR={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,i,s,l){var a=this;return t.forEach(function(x){a.processors[x]&&(r=a.processors[x].process(r,i,s,l))}),r}};function s8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function eK(e){var t=tK();return function(){var i=Sf(e),s;if(t){var l=Sf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return wy(this,s)}}function tK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var u8={},l8=function(e){yx(r,e);var t=eK(r);function r(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ql(this,r),s=t.call(this),vx&&UA.call(FA(s)),qZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,FA(s)),s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=_f.create("translator"),s}return Wl(r,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var a=this.resolve(s,l);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(s,l){var a=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var x=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,S=l.ns||this.options.defaultNS||[],P=a&&s.indexOf(a)>-1,R=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!KZ(s,a,x);if(P&&!R){var z=s.match(this.interpolator.nestingRegexp);if(z&&z.length>0)return{key:s,namespaces:S};var N=s.split(a);(a!==x||a===x&&this.options.ns.indexOf(N[0])>-1)&&(S=N.shift()),s=N.join(x)}return typeof S=="string"&&(S=[S]),{key:s,namespaces:S}}},{key:"translate",value:function(s,l,a){var x=this;if(BA(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var S=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,P=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,R=this.extractFromKey(s[s.length-1],l),z=R.key,N=R.namespaces,$=N[N.length-1],Z=l.lng||this.language,J=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(Z&&Z.toLowerCase()==="cimode"){if(J){var ae=l.nsSeparator||this.options.nsSeparator;return S?(V.res="".concat($).concat(ae).concat(z),V):"".concat($).concat(ae).concat(z)}return S?(V.res=z,V):z}var V=this.resolve(s,l),K=V&&V.res,se=V&&V.usedKey||z,me=V&&V.exactUsedKey||z,Ae=Object.prototype.toString.apply(K),ue=["[object Number]","[object Function]","[object RegExp]"],Se=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,Ce=!this.i18nFormat||this.i18nFormat.handleAsObject,qe=typeof K!="string"&&typeof K!="boolean"&&typeof K!="number";if(Ce&&K&&qe&&ue.indexOf(Ae)<0&&!(typeof Se=="string"&&Ae==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var lt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(se,K,tu(tu({},l),{},{ns:N})):"key '".concat(z," (").concat(this.language,")' returned an object instead of string.");return S?(V.res=lt,V):lt}if(P){var rt=Ae==="[object Array]",st=rt?[]:{},wt=rt?me:se;for(var St in K)if(Object.prototype.hasOwnProperty.call(K,St)){var Wt="".concat(wt).concat(P).concat(St);st[St]=this.translate(Wt,tu(tu({},l),{joinArrays:!1,ns:N})),st[St]===Wt&&(st[St]=K[St])}K=st}}else if(Ce&&typeof Se=="string"&&Ae==="[object Array]")K=K.join(Se),K&&(K=this.extendTranslation(K,s,l,a));else{var fr=!1,Rt=!1,et=l.count!==void 0&&typeof l.count!="string",Ue=r.hasDefaultValue(l),Re=et?this.pluralResolver.getSuffix(Z,l.count,l):"",le=l["defaultValue".concat(Re)]||l.defaultValue;!this.isValidLookup(K)&&Ue&&(fr=!0,K=le),this.isValidLookup(K)||(Rt=!0,K=z);var ye=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Mt=ye&&Rt?void 0:K,or=Ue&&le!==K&&this.options.updateMissing;if(Rt||fr||or){if(this.logger.log(or?"updateKey":"missingKey",Z,$,z,or?le:K),P){var vr=this.resolve(z,tu(tu({},l),{},{keySeparator:!1}));vr&&vr.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var dr=[],Sr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Sr&&Sr[0])for(var Ur=0;Ur<Sr.length;Ur++)dr.push(Sr[Ur]);else this.options.saveMissingTo==="all"?dr=this.languageUtils.toResolveHierarchy(l.lng||this.language):dr.push(l.lng||this.language);var Dr=function(jn,Fi,jr){var mi=Ue&&jr!==K?jr:Mt;x.options.missingKeyHandler?x.options.missingKeyHandler(jn,$,Fi,mi,or,l):x.backendConnector&&x.backendConnector.saveMissing&&x.backendConnector.saveMissing(jn,$,Fi,mi,or,l),x.emit("missingKey",jn,$,Fi,K)};this.options.saveMissing&&(this.options.saveMissingPlurals&&et?dr.forEach(function(Xn){x.pluralResolver.getSuffixes(Xn,l).forEach(function(jn){Dr([Xn],z+jn,l["defaultValue".concat(jn)]||le)})}):Dr(dr,z,le))}K=this.extendTranslation(K,s,l,V,a),Rt&&K===z&&this.options.appendNamespaceToMissingKey&&(K="".concat($,":").concat(z)),(Rt||fr)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?K=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat($,":").concat(z):z,fr?K:void 0):K=this.options.parseMissingKeyHandler(K))}return S?(V.res=K,V):K}},{key:"extendTranslation",value:function(s,l,a,x,S){var P=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,tu(tu({},this.options.interpolation.defaultVariables),a),x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(tu(tu({},a),{interpolation:tu(tu({},this.options.interpolation),a.interpolation)}));var R=typeof s=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),z;if(R){var N=s.match(this.interpolator.nestingRegexp);z=N&&N.length}var $=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&($=tu(tu({},this.options.interpolation.defaultVariables),$)),s=this.interpolator.interpolate(s,$,a.lng||this.language,a),R){var Z=s.match(this.interpolator.nestingRegexp),J=Z&&Z.length;z<J&&(a.nest=!1)}a.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var K=arguments.length,se=new Array(K),me=0;me<K;me++)se[me]=arguments[me];return S&&S[0]===se[0]&&!a.context?(P.logger.warn("It seems you are nesting recursively key: ".concat(se[0]," in key: ").concat(l[0])),null):P.translate.apply(P,se.concat([l]))},a)),a.interpolation&&this.interpolator.reset()}var ae=a.postProcess||this.options.postProcess,V=typeof ae=="string"?[ae]:ae;return s!=null&&V&&V.length&&a.applyPostProcessor!==!1&&(s=NR.handle(V,s,l,this.options&&this.options.postProcessPassResolved?tu({i18nResolved:x},a):a,this)),s}},{key:"resolve",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,S,P,R,z;return typeof s=="string"&&(s=[s]),s.forEach(function(N){if(!l.isValidLookup(x)){var $=l.extractFromKey(N,a),Z=$.key;S=Z;var J=$.namespaces;l.options.fallbackNS&&(J=J.concat(l.options.fallbackNS));var ae=a.count!==void 0&&typeof a.count!="string",V=ae&&!a.ordinal&&a.count===0&&l.pluralResolver.shouldUseIntlApi(),K=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",se=a.lngs?a.lngs:l.languageUtils.toResolveHierarchy(a.lng||l.language,a.fallbackLng);J.forEach(function(me){l.isValidLookup(x)||(z=me,!u8["".concat(se[0],"-").concat(me)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(z)&&(u8["".concat(se[0],"-").concat(me)]=!0,l.logger.warn('key "'.concat(S,'" for languages "').concat(se.join(", "),`" won't get resolved as namespace "`).concat(z,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),se.forEach(function(Ae){if(!l.isValidLookup(x)){R=Ae;var ue=[Z];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(ue,Z,Ae,me,a);else{var Se;ae&&(Se=l.pluralResolver.getSuffix(Ae,a.count,a));var Ce="".concat(l.options.pluralSeparator,"zero");if(ae&&(ue.push(Z+Se),V&&ue.push(Z+Ce)),K){var qe="".concat(Z).concat(l.options.contextSeparator).concat(a.context);ue.push(qe),ae&&(ue.push(qe+Se),V&&ue.push(qe+Ce))}}for(var lt;lt=ue.pop();)l.isValidLookup(x)||(P=lt,x=l.getResource(Ae,me,lt,a))}}))})}}),{res:x,usedKey:S,exactUsedKey:P,usedLng:R,usedNS:z}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,a){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,a,x):this.resourceStore.getResource(s,l,a,x)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&l===a.substring(0,l.length)&&s[a]!==void 0)return!0;return!1}}]),r}(UA);function _w(e){return e.charAt(0).toUpperCase()+e.slice(1)}var rK=function(){function e(t){Ql(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_f.create("languageUtils")}return Wl(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var i=r.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(l){return l.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=_w(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=_w(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=_w(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var i=this;if(!r)return null;var s;return r.forEach(function(l){if(!s){var a=i.formatLanguageCode(l);(!i.options.supportedLngs||i.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&r.forEach(function(l){if(!s){var a=i.getLanguagePartFromCode(l);if(i.isSupportedCode(a))return s=a;s=i.options.supportedLngs.find(function(x){if(x.indexOf(a)===0)return x})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!i)return r.default||[];var s=r[i];return s||(s=r[this.getScriptPartFromCode(i)]),s||(s=r[this.formatLanguageCode(i)]),s||(s=r[this.getLanguagePartFromCode(i)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,i){var s=this,l=this.getFallbackCodes(i||this.options.fallbackLng||[],r),a=[],x=function(P){!P||(s.isSupportedCode(P)?a.push(P):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(P)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(r))):typeof r=="string"&&x(this.formatLanguageCode(r)),l.forEach(function(S){a.indexOf(S)<0&&x(s.formatLanguageCode(S))}),a}}]),e}(),nK=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],iK={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},oK=["v1","v2","v3"],c8={zero:0,one:1,two:2,few:3,many:4,other:5};function aK(){var e={};return nK.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:iK[t.fc]}})}),e}var sK=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.languageUtils=t,this.options=r,this.logger=_f.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=aK()}return Wl(e,[{key:"addRule",value:function(r,i){this.rules[r]=i}},{key:"getRule",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(r,i);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,s).map(function(l){return"".concat(i).concat(l)})}},{key:"getSuffixes",value:function(r){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(r,s);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(a,x){return c8[a]-c8[x]}).map(function(a){return"".concat(i.options.prepend).concat(a)}):l.numbers.map(function(a){return i.getSuffix(r,a,s)}):[]}},{key:"getSuffix",value:function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(r,s);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(i)):this.getSuffixRetroCompatible(l,i):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,i){var s=this,l=r.noAbs?r.plurals(i):r.plurals(Math.abs(i)),a=r.numbers[l];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var x=function(){return s.options.prepend&&a.toString()?s.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):x():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?x():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!oK.includes(this.options.compatibilityJSON)}}]),e}();function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var uK=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(this,e),this.logger=_f.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return Wl(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var i=r.interpolation;this.escape=i.escape!==void 0?i.escape:WZ,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Fd(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Fd(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Fd(i.nestingPrefix):i.nestingPrefixEscaped||Fd("$t("),this.nestingSuffix=i.nestingSuffix?Fd(i.nestingSuffix):i.nestingSuffixEscaped||Fd(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,i,s,l){var a=this,x,S,P,R=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function z(ae){return ae.replace(/\$/g,"$$$$")}var N=function(V){if(V.indexOf(a.formatSeparator)<0){var K=o8(i,R,V);return a.alwaysFormat?a.format(K,void 0,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:V})):K}var se=V.split(a.formatSeparator),me=se.shift().trim(),Ae=se.join(a.formatSeparator).trim();return a.format(o8(i,R,me),Ae,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:me}))};this.resetRegExp();var $=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,Z=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,J=[{regex:this.regexpUnescape,safeValue:function(V){return z(V)}},{regex:this.regexp,safeValue:function(V){return a.escapeValue?z(a.escape(V)):z(V)}}];return J.forEach(function(ae){for(P=0;x=ae.regex.exec(r);){var V=x[1].trim();if(S=N(V),S===void 0)if(typeof $=="function"){var K=$(r,x,l);S=typeof K=="string"?K:""}else if(l&&l.hasOwnProperty(V))S="";else if(Z){S=x[0];continue}else a.logger.warn("missed to pass in variable ".concat(V," for interpolating ").concat(r)),S="";else typeof S!="string"&&!a.useRawValueToEscape&&(S=n8(S));var se=ae.safeValue(S);if(r=r.replace(x[0],se),Z?(ae.regex.lastIndex+=S.length,ae.regex.lastIndex-=x[0].length):ae.regex.lastIndex=0,P++,P>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,i){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,x,S=Sc({},l);S.applyPostProcessor=!1,delete S.defaultValue;function P($,Z){var J=this.nestingOptionsSeparator;if($.indexOf(J)<0)return $;var ae=$.split(new RegExp("".concat(J,"[ ]*{"))),V="{".concat(ae[1]);$=ae[0],V=this.interpolate(V,S);var K=V.match(/'/g),se=V.match(/"/g);(K&&K.length%2===0&&!se||se.length%2!==0)&&(V=V.replace(/'/g,'"'));try{S=JSON.parse(V),Z&&(S=Sc(Sc({},Z),S))}catch(me){return this.logger.warn("failed parsing options string in nesting for key ".concat($),me),"".concat($).concat(J).concat(V)}return delete S.defaultValue,$}for(;a=this.nestingRegexp.exec(r);){var R=[],z=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var N=a[1].split(this.formatSeparator).map(function($){return $.trim()});a[1]=N.shift(),R=N,z=!0}if(x=i(P.call(this,a[1].trim(),S),S),x&&a[0]===r&&typeof x!="string")return x;typeof x!="string"&&(x=n8(x)),x||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),x=""),z&&(x=R.reduce(function($,Z){return s.format($,Z,l.lng,Sc(Sc({},l),{},{interpolationkey:a[1].trim()}))},x.trim())),r=r.replace(a[0],x),this.regexp.lastIndex=0}return r}}]),e}();function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function lK(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var s=i[1].substring(0,i[1].length-1);if(t==="currency"&&s.indexOf(":")<0)r.currency||(r.currency=s.trim());else if(t==="relativetime"&&s.indexOf(":")<0)r.range||(r.range=s.trim());else{var l=s.split(";");l.forEach(function(a){if(!!a){var x=a.split(":"),S=$Z(x),P=S[0],R=S.slice(1),z=R.join(":").trim().replace(/^'+|'+$/g,"");r[P.trim()]||(r[P.trim()]=z),z==="false"&&(r[P.trim()]=!1),z==="true"&&(r[P.trim()]=!0),isNaN(z)||(r[P.trim()]=parseInt(z,10))}})}}return{formatName:t,formatOptions:r}}function Bd(e){var t={};return function(i,s,l){var a=s+JSON.stringify(l),x=t[a];return x||(x=e(s,l),t[a]=x),x(i)}}var cK=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(this,e),this.logger=_f.create("formatter"),this.options=t,this.formats={number:Bd(function(r,i){var s=new Intl.NumberFormat(r,i);return function(l){return s.format(l)}}),currency:Bd(function(r,i){var s=new Intl.NumberFormat(r,hA(hA({},i),{},{style:"currency"}));return function(l){return s.format(l)}}),datetime:Bd(function(r,i){var s=new Intl.DateTimeFormat(r,hA({},i));return function(l){return s.format(l)}}),relativetime:Bd(function(r,i){var s=new Intl.RelativeTimeFormat(r,hA({},i));return function(l){return s.format(l,i.range||"day")}}),list:Bd(function(r,i){var s=new Intl.ListFormat(r,hA({},i));return function(l){return s.format(l)}})},this.init(t)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=i.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(r,i){this.formats[r.toLowerCase().trim()]=i}},{key:"addCached",value:function(r,i){this.formats[r.toLowerCase().trim()]=Bd(i)}},{key:"format",value:function(r,i,s,l){var a=this,x=i.split(this.formatSeparator),S=x.reduce(function(P,R){var z=lK(R),N=z.formatName,$=z.formatOptions;if(a.formats[N]){var Z=P;try{var J=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},ae=J.locale||J.lng||l.locale||l.lng||s;Z=a.formats[N](P,ae,hA(hA(hA({},$),l),J))}catch(V){a.logger.warn(V)}return Z}else a.logger.warn("there was no format function for ".concat(N));return P},r);return S}}]),e}();function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function h8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function fK(e){var t=pK();return function(){var i=Sf(e),s;if(t){var l=Sf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return wy(this,s)}}function pK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AK(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var hK=function(e){yx(r,e);var t=fK(r);function r(i,s,l){var a,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ql(this,r),a=t.call(this),vx&&UA.call(FA(a)),a.backend=i,a.store=s,a.services=l,a.languageUtils=l.languageUtils,a.options=x,a.logger=_f.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=x.maxParallelReads||10,a.readingCalls=0,a.maxRetries=x.maxRetries>=0?x.maxRetries:5,a.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(l,x.backend,x),a}return Wl(r,[{key:"queueLoad",value:function(s,l,a,x){var S=this,P={},R={},z={},N={};return s.forEach(function($){var Z=!0;l.forEach(function(J){var ae="".concat($,"|").concat(J);!a.reload&&S.store.hasResourceBundle($,J)?S.state[ae]=2:S.state[ae]<0||(S.state[ae]===1?R[ae]===void 0&&(R[ae]=!0):(S.state[ae]=1,Z=!1,R[ae]===void 0&&(R[ae]=!0),P[ae]===void 0&&(P[ae]=!0),N[J]===void 0&&(N[J]=!0)))}),Z||(z[$]=!0)}),(Object.keys(P).length||Object.keys(R).length)&&this.queue.push({pending:R,pendingCount:Object.keys(R).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(P),pending:Object.keys(R),toLoadLanguages:Object.keys(z),toLoadNamespaces:Object.keys(N)}}},{key:"loaded",value:function(s,l,a){var x=s.split("|"),S=x[0],P=x[1];l&&this.emit("failedLoading",S,P,l),a&&this.store.addResourceBundle(S,P,a),this.state[s]=l?-1:2;var R={};this.queue.forEach(function(z){GZ(z.loaded,[S],P),AK(z,s),l&&z.errors.push(l),z.pendingCount===0&&!z.done&&(Object.keys(z.loaded).forEach(function(N){R[N]||(R[N]={});var $=z.loaded[N];$.length&&$.forEach(function(Z){R[N][Z]===void 0&&(R[N][Z]=!0)})}),z.done=!0,z.errors.length?z.callback(z.errors):z.callback())}),this.emit("loaded",R),this.queue=this.queue.filter(function(z){return!z.done})}},{key:"read",value:function(s,l,a){var x=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,R=arguments.length>5?arguments[5]:void 0;if(!s.length)return R(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:l,fcName:a,tried:S,wait:P,callback:R});return}return this.readingCalls++,this.backend[a](s,l,function(z,N){if(x.readingCalls--,x.waitingReads.length>0){var $=x.waitingReads.shift();x.read($.lng,$.ns,$.fcName,$.tried,$.wait,$.callback)}if(z&&N&&S<x.maxRetries){setTimeout(function(){x.read.call(x,s,l,a,S+1,P*2,R)},P);return}R(z,N)})}},{key:"prepareLoading",value:function(s,l){var a=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var P=this.queueLoad(s,l,x,S);if(!P.toLoad.length)return P.pending.length||S(),null;P.toLoad.forEach(function(R){a.loadOne(R)})}},{key:"load",value:function(s,l,a){this.prepareLoading(s,l,{},a)}},{key:"reload",value:function(s,l,a){this.prepareLoading(s,l,{reload:!0},a)}},{key:"loadOne",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=s.split("|"),S=x[0],P=x[1];this.read(S,P,"read",void 0,void 0,function(R,z){R&&l.logger.warn("".concat(a,"loading namespace ").concat(P," for language ").concat(S," failed"),R),!R&&z&&l.logger.log("".concat(a,"loaded namespace ").concat(P," for language ").concat(S),z),l.loaded(s,R,z)})}},{key:"saveMissing",value:function(s,l,a,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}a==null||a===""||(this.backend&&this.backend.create&&this.backend.create(s,l,a,x,null,h8(h8({},P),{},{isUpdate:S})),!(!s||!s[0])&&this.store.addResource(s[0],l,a,x))}}]),r}(UA);function dK(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(BA(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),BA(t[2])==="object"||BA(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){r[s]=i[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function d8(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function mK(e){var t=gK();return function(){var i=Sf(e),s;if(t){var l=Sf(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return wy(this,s)}}function gK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y1(){}function yK(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var N_=function(e){yx(r,e);var t=mK(r);function r(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Ql(this,r),i=t.call(this),vx&&UA.call(FA(i)),i.options=d8(s),i.services={},i.logger=_f,i.modules={external:[]},yK(FA(i)),l&&!i.isInitialized&&!s.isClone){if(!i.options.initImmediate)return i.init(s,l),wy(i,FA(i));setTimeout(function(){i.init(s,l)},0)}return i}return Wl(r,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(a=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var x=dK();this.options=df(df(df({},x),this.options),d8(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=df(df({},x.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function S(V){return V?typeof V=="function"?new V:V:null}if(!this.options.isClone){this.modules.logger?_f.init(S(this.modules.logger),this.options):_f.init(null,this.options);var P;this.modules.formatter?P=this.modules.formatter:typeof Intl<"u"&&(P=cK);var R=new rK(this.options);this.store=new JZ(this.options.resources,this.options);var z=this.services;z.logger=_f,z.resourceStore=this.store,z.languageUtils=R,z.pluralResolver=new sK(R,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),P&&(!this.options.interpolation.format||this.options.interpolation.format===x.interpolation.format)&&(z.formatter=S(P),z.formatter.init(z,this.options),this.options.interpolation.format=z.formatter.format.bind(z.formatter)),z.interpolator=new uK(this.options),z.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},z.backendConnector=new hK(S(this.modules.backend),z.resourceStore,z,this.options),z.backendConnector.on("*",function(V){for(var K=arguments.length,se=new Array(K>1?K-1:0),me=1;me<K;me++)se[me-1]=arguments[me];s.emit.apply(s,[V].concat(se))}),this.modules.languageDetector&&(z.languageDetector=S(this.modules.languageDetector),z.languageDetector.init(z,this.options.detection,this.options)),this.modules.i18nFormat&&(z.i18nFormat=S(this.modules.i18nFormat),z.i18nFormat.init&&z.i18nFormat.init(this)),this.translator=new l8(this.services,this.options),this.translator.on("*",function(V){for(var K=arguments.length,se=new Array(K>1?K-1:0),me=1;me<K;me++)se[me-1]=arguments[me];s.emit.apply(s,[V].concat(se))}),this.modules.external.forEach(function(V){V.init&&V.init(s)})}if(this.format=this.options.interpolation.format,a||(a=y1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var $=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];$.forEach(function(V){s[V]=function(){var K;return(K=s.store)[V].apply(K,arguments)}});var Z=["addResource","addResources","addResourceBundle","removeResourceBundle"];Z.forEach(function(V){s[V]=function(){var K;return(K=s.store)[V].apply(K,arguments),s}});var J=jm(),ae=function(){var K=function(me,Ae){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),J.resolve(Ae),a(me,Ae)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return K(null,s.t.bind(s));s.changeLanguage(s.options.lng,K)};return this.options.resources||!this.options.initImmediate?ae():setTimeout(ae,0),J}},{key:"loadResources",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y1,x=a,S=typeof s=="string"?s:this.language;if(typeof s=="function"&&(x=s),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return x();var P=[],R=function($){if(!!$){var Z=l.services.languageUtils.toResolveHierarchy($);Z.forEach(function(J){P.indexOf(J)<0&&P.push(J)})}};if(S)R(S);else{var z=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);z.forEach(function(N){return R(N)})}this.options.preload&&this.options.preload.forEach(function(N){return R(N)}),this.services.backendConnector.load(P,this.options.ns,function(N){!N&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),x(N)})}else x(null)}},{key:"reloadResources",value:function(s,l,a){var x=jm();return s||(s=this.languages),l||(l=this.options.ns),a||(a=y1),this.services.backendConnector.reload(s,l,function(S){x.resolve(),a(S)}),x}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&NR.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var l=0;l<this.languages.length;l++){var a=this.languages[l];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(s,l){var a=this;this.isLanguageChangingTo=s;var x=jm();this.emit("languageChanging",s);var S=function(N){a.language=N,a.languages=a.services.languageUtils.toResolveHierarchy(N),a.resolvedLanguage=void 0,a.setResolvedLanguage(N)},P=function(N,$){$?(S($),a.translator.changeLanguage($),a.isLanguageChangingTo=void 0,a.emit("languageChanged",$),a.logger.log("languageChanged",$)):a.isLanguageChangingTo=void 0,x.resolve(function(){return a.t.apply(a,arguments)}),l&&l(N,function(){return a.t.apply(a,arguments)})},R=function(N){!s&&!N&&a.services.languageDetector&&(N=[]);var $=typeof N=="string"?N:a.services.languageUtils.getBestMatchFromCodes(N);$&&(a.language||S($),a.translator.language||a.translator.changeLanguage($),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage($)),a.loadResources($,function(Z){P(Z,$)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?R(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(R):R(s),x}},{key:"getFixedT",value:function(s,l,a){var x=this,S=function P(R,z){var N;if(BA(z)!=="object"){for(var $=arguments.length,Z=new Array($>2?$-2:0),J=2;J<$;J++)Z[J-2]=arguments[J];N=x.options.overloadTranslationOptionHandler([R,z].concat(Z))}else N=df({},z);N.lng=N.lng||P.lng,N.lngs=N.lngs||P.lngs,N.ns=N.ns||P.ns,N.keyPrefix=N.keyPrefix||a||P.keyPrefix;var ae=x.options.keySeparator||".",V=N.keyPrefix?"".concat(N.keyPrefix).concat(ae).concat(R):R;return x.t(V,N)};return typeof s=="string"?S.lng=s:S.lngs=s,S.ns=l,S.keyPrefix=a,S}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var x=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,P=this.languages[this.languages.length-1];if(x.toLowerCase()==="cimode")return!0;var R=function($,Z){var J=l.services.backendConnector.state["".concat($,"|").concat(Z)];return J===-1||J===2};if(a.precheck){var z=a.precheck(this,R);if(z!==void 0)return z}return!!(this.hasResourceBundle(x,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||R(x,s)&&(!S||R(P,s)))}},{key:"loadNamespaces",value:function(s,l){var a=this,x=jm();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(S){a.options.ns.indexOf(S)<0&&a.options.ns.push(S)}),this.loadResources(function(S){x.resolve(),l&&l(S)}),x):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var a=jm();typeof s=="string"&&(s=[s]);var x=this.options.preload||[],S=s.filter(function(P){return x.indexOf(P)<0});return S.length?(this.options.preload=x.concat(S),this.loadResources(function(P){a.resolve(),l&&l(P)}),a):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return l.indexOf(this.services.languageUtils.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y1,x=df(df(df({},this.options),l),{isClone:!0}),S=new r(x);(l.debug!==void 0||l.prefix!==void 0)&&(S.logger=S.logger.clone(l));var P=["store","services","language"];return P.forEach(function(R){S[R]=s[R]}),S.services=df({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new l8(S.services,S.options),S.translator.on("*",function(R){for(var z=arguments.length,N=new Array(z>1?z-1:0),$=1;$<z;$++)N[$-1]=arguments[$];S.emit.apply(S,[R].concat(N))}),S.init(x,a),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(UA);Tp(N_,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new N_(e,t)});var xs=N_.createInstance();xs.createInstance=N_.createInstance;xs.createInstance;xs.init;xs.loadResources;xs.reloadResources;xs.use;xs.changeLanguage;xs.getFixedT;xs.t;xs.exists;xs.setDefaultNamespace;xs.hasLoadedNamespace;xs.loadNamespaces;xs.loadLanguages;var vK=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_K={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},xK=function(t){return _K[t]},bK=function(t){return t.replace(vK,xK)};function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(i){Tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var v8={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:bK};hr.exports.createContext();function wK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v8=y8(y8({},v8),e)}(function(){function e(){Ql(this,e),this.usedNamespaces={}}return Wl(e,[{key:"addUsedNamespaces",value:function(r){var i=this;r.forEach(function(s){i.usedNamespaces[s]||(i.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e})();var SK={type:"3rdParty",init:function(t){wK(t.options.react)}},UR=[],CK=UR.forEach,EK=UR.slice;function kK(e){return CK.call(EK.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var _8=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TK=function(t,r,i){var s=i||{};s.path=s.path||"/";var l=encodeURIComponent(r),a="".concat(t,"=").concat(l);if(s.maxAge>0){var x=s.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(x))}if(s.domain){if(!_8.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!_8.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var S=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(S){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},x8={create:function(t,r,i,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+i*60*1e3)),s&&(l.domain=s),document.cookie=TK(t,encodeURIComponent(r),l)},read:function(t){for(var r="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var l=i[s];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(r)===0)return l.substring(r.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},PK={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var i=x8.read(t.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&x8.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},IK={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),l=s.split("&"),a=0;a<l.length;a++){var x=l[a].indexOf("=");if(x>0){var S=l[a].substring(0,x);S===t.lookupQuerystring&&(r=l[a].substring(x+1))}}}return r}},$m=null,b8=function(){if($m!==null)return $m;try{$m=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$m=!1}return $m},OK={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&b8()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&b8()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Vm=null,w8=function(){if(Vm!==null)return Vm;try{Vm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Vm=!1}return Vm},MK={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&w8()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&w8()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},RK={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},LK={name:"htmlTag",lookup:function(t){var r,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},DK={name:"path",lookup:function(t){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;r=i[t.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},FK={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(!!i)return i[r]}};function BK(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var jR=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ql(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return Wl(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=kK(i,this.options||{},BK()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(PK),this.addDetector(IK),this.addDetector(OK),this.addDetector(MK),this.addDetector(RK),this.addDetector(LK),this.addDetector(DK),this.addDetector(FK)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var s=[];return r.forEach(function(l){if(i.detectors[l]){var a=i.detectors[l].lookup(i.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(r,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(l){s.detectors[l]&&s.detectors[l].cacheUserLanguage(r,s.options)}))}}]),e}();jR.type="languageDetector";const zK="km",NK="m",UK="to",jK="Logout",$K="Save",VK="Cancel",HK="Create",qK="Disasters",GK="Loading...",QK="Loading events",WK="Legend",ZK="maps",KK="Vertical direction",XK="Horizontal direction",YK="Legend presentation",JK="Layers",eX="Feed",tX="Details",rX="Deselect",nX="Gathering data",iX="Updated",oX="No data received",aX="Wrong data received",sX="Error",uX="Sort Icon",lX={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"The feed contains real-time data about Cyclones, Droughts, Earthquakes, Floods, Volcanoes, Wildfires."},cX={default:"Sorry, we are having issues, which will be fixed soon",timeout:"Request Timeout",cannot_connect:"Can't connect to server",forbidden:"Forbidden",not_found:"Not found",unknown:"Unknown",server_error:"Server Error"},fX={overlays:"Overlays",basemap:"Basemap"},pX={layers_in_selected_area:"Layers in selected area",your_layers:"Your Layers",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap Based",other:"Other",elevation:"Elevation",photo:"Photo",map:"Map"},AX={load_world_data:"Load World Data",numerator:"Numerator",normalized_by:"Normalized By",sum:"Sum",min:"Min",max:"Max",mean:"Mean",stddev:"Stddev",median:"Median",filter_numerator:"Filter Numerator",filter_denominator:"Filter Denominator"},hX={warning_title:"Can't use map as filter",warning_description:"Map not ready yet, try later",bbox_filter_button:"Use map view as filter",analytics:{affected_people:{tooltip:"Affected People",value:"No humanitarian impact"},settled_area_tooltip:"Settled Area",loss_tooltip:"Estimated loss"},no_event_in_feed:"Event not found in the current event feed",no_selected_disaster:"No disaster selected",chose_disaster:"Choose disaster"},dX={edit_layer:"Edit Layer",edit_features:"Edit Features",delete_layer:"Delete Layer",create_layer:"Create Layer",saving_layer:"Saving layer...",field_name:"Field name",layer_name:"Layer name",marker_icon:"Marker icon",type:"Type",select:"Select",short_text:"Short Text",long_text:"Long Text",link:"Link",image:"Image",fields:"Fields",add_field:"Add field",location:"Location",edit_feature_placeholder:"Select some feature for start edit feature properties"},mX={loading:"Loading analytics...",header_title:"Analytics",info_tab:"INFO",error_loading:"Error while fetching analytics data"},gX={loading:"Loading advanced analytics...",header_title:"Advanced analytics",analytics_tab:"Advanced Analytics",error:"Error while fetching advanced analytics data"},yX={not_found:"Sorry, requested event not found.",error:"An error occured!",please_select:"Please, select an area again",to_see_map:"to see state of the map",pickDisaster:"Pick disaster from the list",draw:"Draw polygon on the map",select:"Select boundary on the map",upload:"Upload your own geoJSON"},vX={area:"Area",line:"Line",point:"Point",finish_drawing:"Finish Drawing",caption:"Click on the map to begin drawing",no_geometry_error:"No drawn geometry to download",overlap_error:"Polygon should not overlap itself",save_features:"Save features"},_X={title:"Focus to administrative boundary"},xX={title:"Focus to uploaded geometry",error:"Error while reading uploaded file"},bX={title:"Focus to freehand geometry"},wX={settings:{name:"Selected Area"}},SX={self_directions_not_supported:"Self intersections are not supported!"},CX={panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Base axis",annex_axis:"Annex axis",tooltip:{p1:"Charts involving the Base and Annex axes help establish a relationship between two data sets.",li1:"Annex axis - parameters that we analyse",li2:"Base axis - reference point in the analysis",b:"Ex: the best location to open a cafe",p2:"We can explore the number of eatery places (Annex axis) against Population density (Base axis).",p3:"In this scenario, we are first interested in a small number of eatery places, and the number of people in that place gives us additional information."}},header:{title:"Choose two layers to explore correlations",hint:"Layers and correlations are displayed for the current Selected Area"},icon:{population:"Value divided by Population",area_km2:"Value divided by Area",total_building_count:"Value divided by Total Buildings Estimate",populated_area_km2:"Value divided by Populated Area",one:"Without divider",roads:"Value divided by Total Roads Length"},progress:{rendering:"Rendering",applied:"Applied on the map"}},legend:{high:"High",low:"Low",medium:"Medium"},color_manager:{not_defined:"Not defined",sentiments_combinations_filter:"Sentiments combinations",layers_filter:"Layers",no_legends:"There are no legends satisfying the conditions.",no_data:"No Data.",sentiments_tab:"Sentiments",color_legends_tab:"Color Legends",layers_tab:"Layers (indicators)"}},EX={biv_color_manager:"\u0421olor manager",edit_osm:"Edit in OpenStreetMap",ruler:"Ruler",collapse:"Collapse",expand:"Expand",icon_alt:"Application logo"},kX={email:"Email",password:"Password",login_button:"Login",sign_up:"Sign up",logging_in:"Logging in...",log_in:"Log in",description:"Please log in to change your settings",error:{email_empty:"Email has not to be empty!",email_invalid:"Email has to be valid!",password:"Password has not to be empty!",connect:"Couldn't connect to authentication service"}},TX={title:"Disaster Ninja Reports",no_data:"No data for this report",sorting:"Sorting data...",loading:"Loading data",search_location:"Search location",open_josm:"Open via JOSM remote control",josm_logo_alt:"JOSM logo",see_all:"See all reports",wrong_id:"Wrong report ID",description:"<0>Kontur </0> generates several reports that help validate OpenStreetMap quality. They contain links to areas on <4>osm.org </4> and links to open them in the JOSM editor with enabled remote control for editing."},PX={map:"Map",about:"About",reports:"Reports",profile:"Profile",privacy:"Privacy"},IX={title:"Welcome to Disaster Ninja!",intro:"Do you want to be notified about ongoing disasters? Are you interested in instant population data and other analytics for any region in the world? Disaster Ninja showcases some of <2>Kontur</2>\u2019s capabilities in addressing these needs.<br/><br/>We initially designed it as a decision support tool for humanitarian mappers. Now it has grown in functionality and use cases. Whether you work in disaster management, build a smart city, or perform research on climate change, Disaster Ninja can help you to:",l1:"1. Stay up to date with the latest hazard events globally.",p1:"The Disasters panel continually refreshes to inform you about ongoing events. It consumes data from the <2>Kontur Event Feed</2>, which you can also access via an API.",l2:"2. Focus on your area of interest.",p2:"The Drawing Tools panel allows you to draw or upload your own geometry on the map. You can also focus on a disaster-exposed area or an administrative unit \u2014 a country, city, or region.",l3:"3. Get analytics for the focused area.",p3:"The Analytics panel shows the number of people living in that area per <2>Kontur Population</2> and estimated mapping gaps in OpenStreetMap. Kontur\u2019s customers have access to hundreds of other indicators through Advanced Analytics.",l4:"4. Explore data on the map and make conclusions.",p4:"The Layers panel gives you various options to display two indicators simultaneously on a bivariate map, e.g., population density and distance to the nearest fire station. Use the color legend to assess which areas require attention. <br/>Hint: in general, green indicates low risk / few gaps, red \u2014 high risk / many gaps.",p5:"In addition, you can switch to Reports in the left panel to access data on potential errors and inconsistencies in OpenStreetMap and help fix them by mapping the respective area with the JOSM editor.",goToMap:"Go to the map now",p6:"We hope you find this tool valuable. Use the chatbox on Disaster Ninja for any questions about the functionality, and we will be happy to guide you. You can also contact us by email at <1>hello@kontur.io</1> if you have feedback or suggestions on improving the tool.<br/><br/>Disaster Ninja is an open-source project. Find the code in <8>Kontur\u2019s GitHub account</8>."},OX={interfaceTheme:"Theme",interfaceLanguage:"Language",units:"Units",fullName:"Full Name",email:"Email",metric:"metric",imperialBeta:"imperial (beta)",profileSettingsHeader:"Profile",appSettingsHeader:"Settings",englishLanguageOption:"English",spanishLanguageOption:"Spanish",arabicLanguageOption:"Arabic",saveButton:"Save changes",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Default disaster feed",defaultOSMeditor:"Default OpenStreetMap editor (beta)",successNotification:"All changes have been applied successfully"},MX={not_found_request:"Sorry, requested event not found."},RX={get_location_error:"Error while getting location",feature_title:"Locate me"},LX="Episode",DX="Loading Episodes",FX={km:zK,m:NK,to:UK,logout:jK,save:$K,cancel:VK,create:HK,disasters:qK,loading:GK,loading_events:QK,legend:WK,maps:ZK,vertical_direction:KK,horizontal_direction:XK,legend_presentation:YK,layers:JK,feed:eX,details:tX,deselect:rX,spinner_text:nX,updated:iX,no_data_received:oX,wrong_data_received:aX,error:sX,sort_icon:uX,configs:lX,errors:cX,categories:fX,groups:pX,advanced_analytics_data_list:AX,event_list:hX,create_layer:dX,analytics_panel:mX,advanced_analytics_panel:gX,advanced_analytics_empty:yX,draw_tools:vX,boundary_selector:_X,geometry_uploader:xX,focus_geometry:bX,focus_geometry_layer:wX,drawings:SX,bivariate:CX,sidebar:EX,login:kX,reports:TX,modes:PX,about:IX,profile:OX,current_event:MX,locate_me:RX,episode:LX,loading_episodes:DX},BX="km",zX="m",NX="a",UX="mapas",jX="Cierre de sesi\xF3n",$X="Guardar",VX="Cancelar",HX="Crear",qX="Desastres",GX="Cargando...",QX="Cargando eventos",WX="Leyenda",ZX="Direcci\xF3n vertical",KX="Direcci\xF3n horizontal",XX="Presentaci\xF3n de la leyenda",YX="Capas",JX={color_manager:{layers_filter:"Capas",not_defined:"No definido",sentiments_combinations_filter:"Combinaciones de sentimientos",no_legends:"No hay leyendas que cumplan las condiciones.",no_data:"No hay datos.",sentiments_tab:"Sentimientos",color_legends_tab:"Leyendas de colores",layers_tab:"Capas (indicadores)"},panel:{header:"Matriz bivariada"},matrix:{header:{title:"Elija dos capas para explorar las correlaciones",hint:"Las capas y correlaciones se muestran para el \xE1rea seleccionada actual"},icon:{population:"Valor dividido por la poblaci\xF3n",area_km2:"Valor dividido por el \xE1rea",total_building_count:"Valor dividido por la estimaci\xF3n total de edificios",populated_area_km2:"Valor dividido por el \xE1rea poblada",one:"Sin divisor",roads:"Valor dividido por la longitud total de las carreteras"},progress:{rendering:"Renderizado",applied:"Aplicado en el mapa"}},legend:{high:"Alto",low:"Bajo"}},eY="Fuente",tY="Detalles",rY="Anular la selecci\xF3n",nY="Recopilaci\xF3n de datos",iY="Actualizado",oY="No se han recibido datos",aY="Error",sY={timeout:"Se agot\xF3 el tiempo de espera de la solicitud",cannot_connect:"No se puede conectar al servidor",forbidden:"Prohibido",not_found:"No encontrado",unknown:"Desconocido",server_error:"Error del servidor"},uY={overlays:"Superposiciones",basemap:"Mapa base"},lY={layers_in_selected_area:"Capas en el \xE1rea seleccionada",your_layers:"Sus capas",kontur_analytics:"An\xE1lisis de Kontur",qa:"Certificaci\xF3n de calidad",osmbasedmap:"Basado en OpenStreetMap",other:"Otros",elevation:"Elevaci\xF3n",photo:"Foto",map:"Mapa"},cY={map:"Mapa",reports:"Informes",about:"Acerca de",profile:"Perfil"},fY={profileSettingsHeader:"Perfil",email:"Correo electr\xF3nico"},pY={biv_color_manager:"Administrador de color",edit_osm:"Editar en OpenStreetMap",ruler:"Regla",collapse:"Contraer",expand:"Expandir"},AY={email:"Correo electr\xF3nico",password:"Contrase\xF1a",login_button:"Inicio de sesi\xF3n",sign_up:"Registrarse",logging_in:"Iniciando sesi\xF3n...",log_in:"Iniciar sesi\xF3n",error:{email_empty:"\xA1El correo electr\xF3nico no debe estar vac\xEDo!",email_invalid:"\xA1El correo electr\xF3nico debe ser v\xE1lido! ",password:"\xA1La contrase\xF1a no debe estar vac\xEDa!",connect:"No se pudo conectar con el servicio de autenticaci\xF3n"}},hY={load_world_data:"Cargar datos mundiales",numerator:"Numerador",normalized_by:"Normalizado por",sum:"Suma",min:"M\xEDn.",max:"M\xE1x.",mean:"Media",stddev:"Desv. est.",median:"Mediana",filter_denominator:"Filtrar Denominador"},dY={warning_title:"No se puede utilizar el mapa como filtro",warning_description:"El mapa a\xFAn no est\xE1 listo, int\xE9ntelo m\xE1s tarde",bbox_filter_button:"Usar la vista del mapa como filtro",analytics:{affected_people:{tooltip:"Personas afectadas",value:"Sin impacto humanitario"},settled_area_tooltip:"\xC1rea habitada",loss_tooltip:"P\xE9rdida estimada"}},mY={edit_layer:"Editar capa",edit_features:"Editar caracter\xEDsticas",delete_layer:"Eliminar capa",create_layer:"Crear capa",saving_layer:"Guardando capa...",field_name:"Nombre de campo",layer_name:"Nombre de la capa",marker_icon:"Icono de marcador",type:"Tipo",select:"Seleccionar",short_text:"Texto corto",long_text:"Texto largo",link:"Enlace",image:"Imagen",fields:"Campos",add_field:"Agregar campo",location:"Ubicaci\xF3n",edit_feature_placeholder:"Seleccione una caracter\xEDstica para comenzar a editar las propiedades de la misma"},gY={loading:"Cargando an\xE1lisis...",header_title:"An\xE1lisis",info_tab:"INFORMACI\xD3N",error_loading:"Error en la obtenci\xF3n de datos de an\xE1lisis"},yY={loading:"Cargando an\xE1lisis avanzado...",header_title:"An\xE1lisis avanzado",analytics_tab:"Anal\xEDticas avanzadas",error:"Error en la obtenci\xF3n de datos de an\xE1lisis Avanzado"},vY={not_found:"Lo sentimos, el evento solicitado no se ha encontrado.",error:"\xA1Se produjo un error!",please_select:" Vuelva a seleccionar un \xE1rea",to_see_map:" para ver el estado del mapa",pickDisaster:"Elija el desastre de la lista",draw:"Dibuje un pol\xEDgono en el mapa",select:"Seleccione el l\xEDmite en el mapa",upload:"Cargue su propio geoJSON"},_Y={area:"\xC1rea",line:"L\xEDnea",point:"Punto",finish_drawing:"Terminar el dibujo",caption:"Haga clic en el mapa para empezar a dibujar",no_geometry_error:"No hay geometr\xEDa dibujada para descargar",overlap_error:"El pol\xEDgono no debe superponerse sobre s\xED mismo",save_features:"Guardar caracter\xEDsticas"},xY={title:"Enfoque en el l\xEDmite administrativo"},bY={title:"Enfoque en la geometr\xEDa cargada",error:"Error al leer el archivo cargado"},wY={title:"Enfoque en la geometr\xEDa a mano"},SY={settings:{name:"\xC1rea seleccionada"}},CY={self_directions_not_supported:"\xA1No se admiten las autointersecciones!"},EY={title:"Informes de Disaster Ninja",no_data:"No hay datos para este informe",sorting:"Ordenando datos...",loading:"Cargando datos",search_location:"Buscar ubicaci\xF3n",open_josm:"Abrir a trav\xE9s del control remoto JOSM",josm_logo_alt:"Logotipo de JOSM",see_all:"Ver todos los informes",wrong_id:"ID de informe incorrecto"},kY={title:"\xA1Bienvenido a Disaster Ninja!",intro:"\xBFDesea recibir notificaciones sobre desastres en curso? \xBFLe interesan los datos de poblaci\xF3n instant\xE1neos y otros datos anal\xEDticos de alguna regi\xF3n del mundo? Disaster Ninja muestra algunas de las capacidades de <2>Kontur</2> para ocuparse de estas necesidades.<br /><br /> Inicialmente la dise\xF1amos como una herramienta de apoyo a los mapeadores de servicios humanitarios. Ahora ha ampliado sus funcionalidades y aplicaciones pr\xE1cticas. Ya sea que usted trabaje en la gesti\xF3n de desastres, dise\xF1e una ciudad inteligente o est\xE9 realizando una investigaci\xF3n sobre el cambio clim\xE1tico, Disaster Ninja le puede ayudar a:",l1:"1. Estar al d\xEDa con los \xFAltimos eventos peligrosos a nivel mundial.",p1:"El panel de Desastres se actualiza continuamente para informarle sobre los acontecimientos en curso. Utiliza la informaci\xF3n proporcionada por <2>Kontur Event Feed</2>, a la que tambi\xE9n puede acceder a trav\xE9s de la interfaz de la aplicaci\xF3n.",l2:"2. Centrarse en su \xE1rea de inter\xE9s.",p2:"El panel de Herramientas de Dibujo le permite dibujar o subir su propia geometr\xEDa en el mapa. Tambi\xE9n puede centrarse en un \xE1rea o en una unidad administrativa - pa\xEDs, ciudad o regi\xF3n \u2014 expuesta a desastres.",l3:"3. Recibir an\xE1lisis de su \xE1rea de inter\xE9s.",p3:"El panel de An\xE1lisis le muestra el n\xFAmero de personas que viven en la zona seg\xFAn <2>Kontur Population</2> y seg\xFAn una estimaci\xF3n de las zonas sin mapear en OpenStreetMap. Los clientes de Kontur tienen acceso a cientos de otros indicadores a trav\xE9s de Advance Analytics.",l4:"4. Explorar los datos del mapa y sacar sus propias conclusiones.",p4:"El panel Capas le ofrece varias opciones para mostrar dos indicadores en simult\xE1neo en un mapa bivariado, p. ej:, la densidad de poblaci\xF3n y la distancia a la estaci\xF3n de bomberos m\xE1s cercana. Utilice la leyenda de color para evaluar qu\xE9 \xE1reas requieren atenci\xF3n. <br/>Consejo: en general, el verde indica riesgo bajo / pocas zonas sin mapear, el rojo \u2014 riesgo alto / muchas zonas sin mapear.",p5:"Adem\xE1s, puede cambiar a Informes en el panel de la izquierda para acceder a los datos sobre posibles errores e inconsistencias en OpenStreetMap y ayudarle a realizar correcciones mapeando la zona correspondiente con el editor JOSM.",goToMap:"Vaya al mapa ahora",p6:"Esperamos que esta herramienta le resulte valiosa. Utilice el chat de Disaster Ninja si tiene alguna pregunta sobre sus funcionalidades y estaremos encantados de ayudarle. Tambi\xE9n puede contactarnos por correo electr\xF3nico en <1>hello@kontur.io</1> si tiene alg\xFAn comentario o sugerencia para mejorar la herramienta.<br /><br />Disaster Ninja es un proyecto de c\xF3digo abierto. Busque el c\xF3digo en la <8>cuenta GitHub de Kontur</8>."},TY={km:BX,m:zX,to:NX,maps:UX,logout:jX,save:$X,cancel:VX,create:HX,disasters:qX,loading:GX,loading_events:QX,legend:WX,vertical_direction:ZX,horizontal_direction:KX,legend_presentation:XX,layers:YX,bivariate:JX,feed:eY,details:tY,deselect:rY,spinner_text:nY,updated:iY,no_data_received:oY,error:aY,errors:sY,categories:uY,groups:lY,modes:cY,profile:fY,sidebar:pY,login:AY,advanced_analytics_data_list:hY,event_list:dY,create_layer:mY,analytics_panel:gY,advanced_analytics_panel:yY,advanced_analytics_empty:vY,draw_tools:_Y,boundary_selector:xY,geometry_uploader:bY,focus_geometry:wY,focus_geometry_layer:SY,drawings:CY,reports:EY,about:kY},PY="\u0643\u0645",IY="\u0645",OY="\u0625\u0644\u0649",MY="\u062E\u0631\u0627\u0626\u0637",RY="\u062A\u0633\u062C\u064A\u0644 \u062E\u0631\u0648\u062C",LY="\u062D\u0641\u0638",DY="\u0625\u0644\u063A\u0627\u0621",FY="\u0625\u0646\u0634\u0627\u0621",BY="\u0643\u0648\u0627\u0631\u062B",zY="\u062C\u0627\u0631\u064D \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",NY="\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0623\u062D\u062F\u0627\u062B",UY="\u0639\u0646\u0648\u0627\u0646 \u062A\u0641\u0633\u064A\u0631\u064A",jY="\u0627\u0644\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0631\u0623\u0633\u064A",$Y="\u0627\u0644\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0623\u0641\u0642\u064A",VY="\u0639\u0631\u0636 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0641\u0633\u064A\u0631\u064A",HY="\u0637\u0628\u0642\u0627\u062A",qY={color_manager:{layers_filter:"\u0637\u0628\u0642\u0627\u062A",not_defined:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0641",sentiments_combinations_filter:"\u062A\u0631\u0643\u064A\u0628\u0627\u062A \u0627\u0644\u0645\u0634\u0627\u0639\u0631",no_legends:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u062A\u0641\u064A \u0628\u0627\u0644\u0634\u0631\u0648\u0637.",no_data:"\u0644\u0627\u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A.",sentiments_tab:"\u0627\u0644\u0645\u0634\u0627\u0639\u0631",color_legends_tab:"\u0645\u0624\u0634\u0631\u0627\u062A \u0627\u0644\u0644\u0648\u0646",layers_tab:"\u0627\u0644\u0637\u0628\u0642\u0627\u062A (\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062A)"},panel:{header:"\u0645\u0635\u0641\u0648\u0641\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0645\u062A\u063A\u064A\u0631"},matrix:{caption:{base_axis:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A",annex_axis:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642",tooltip:{p1:"\u062A\u0633\u0627\u0639\u062F \u0627\u0644\u0645\u062E\u0637\u0637\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062A\u0636\u0645\u0646 \u0645\u062D\u0648\u0631\u064A \u0627\u0644\u0642\u0627\u0639\u062F\u0629 \u0648\u0627\u0644\u0645\u0644\u062D\u0642 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0639\u0644\u0627\u0642\u0629 \u0628\u064A\u0646 \u0645\u062C\u0645\u0648\u0639\u062A\u064A \u0628\u064A\u0627\u0646\u0627\u062A.",li1:"\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642 - \u0627\u0644\u0645\u0639\u0644\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u0646\u0642\u0648\u0645 \u0628\u062A\u062D\u0644\u064A\u0644\u0647\u0627",li2:"\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A - \u0627\u0644\u0646\u0642\u0637\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629 \u0641\u064A \u0627\u0644\u062A\u062D\u0644\u064A\u0644",b:"\u0645\u062B\u0627\u0644: \u0623\u0641\u0636\u0644 \u0645\u0648\u0642\u0639 \u0644\u0641\u062A\u062D \u0645\u0642\u0647\u0649",p2:"\u064A\u0645\u0643\u0646\u0646\u0627 \u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0639\u062F\u062F \u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0645\u0637\u0627\u0639\u0645 (\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0645\u0644\u062D\u0642) \u0645\u0642\u0627\u0628\u0644 \u0627\u0644\u0643\u062B\u0627\u0641\u0629 \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 (\u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064A).",p3:"\u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0633\u064A\u0646\u0627\u0631\u064A\u0648\u060C \u0646\u0647\u062A\u0645 \u0623\u0648\u0644\u0627\u064B \u0628\u0639\u062F\u062F \u0635\u063A\u064A\u0631 \u0645\u0646 \u0623\u0645\u0627\u0643\u0646 \u062A\u0646\u0627\u0648\u0644 \u0627\u0644\u0637\u0639\u0627\u0645 \u0648\u064A\u0639\u0637\u064A\u0646\u0627 \u0639\u062F\u062F \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0645\u0643\u0627\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629."}},header:{title:"\u0627\u062E\u062A\u0631 \u0637\u0628\u0642\u062A\u064A\u0646 \u0644\u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0627\u0644\u0627\u0631\u062A\u0628\u0627\u0637\u0627\u062A",hint:"\u064A\u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0637\u0628\u0642\u0627\u062A \u0648\u0627\u0644\u0627\u0631\u062A\u0628\u0627\u0637\u0627\u062A \u0644\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629"},icon:{population:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0639\u062F\u062F \u0627\u0644\u0633\u0643\u0627\u0646",area_km2:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",total_building_count:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u062A\u0642\u062F\u064A\u0631 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0627\u0646\u064A",populated_area_km2:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0623\u0647\u0648\u0644\u0629",one:"\u0628\u062F\u0648\u0646 \u0641\u0627\u0635\u0644",roads:"\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0642\u0633\u0648\u0645\u0629 \u0639\u0644\u0649 \u0625\u062C\u0645\u0627\u0644\u064A \u0637\u0648\u0644 \u0627\u0644\u0637\u0631\u0642"},progress:{rendering:"\u0627\u0633\u062A\u062F\u0639\u0627\u0621",applied:"\u0645\u0637\u0628\u0642 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"}},legend:{high:"\u0645\u0631\u062A\u0641\u0639",low:"\u0645\u0646\u062E\u0641\u0636"}},GY="\u062A\u063A\u0630\u064A\u0629",QY="\u062A\u0641\u0627\u0635\u064A\u0644",WY="\u0625\u0644\u063A\u0627\u0621",ZY="\u062C\u0645\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",KY="\u062A\u062D\u062F\u064A\u062B",XY="\u0644\u0645 \u062A\u064F\u0633\u062A\u0642\u0628\u0644 \u0623\u064A \u0628\u064A\u0627\u0646\u0627\u062A",YY="\u062E\u0637\u0623",JY={timeout:"\u0627\u0646\u062A\u0647\u062A \u0645\u0647\u0644\u0629 \u0627\u0644\u0637\u0644\u0628",cannot_connect:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645",forbidden:"\u0645\u062D\u0638\u0648\u0631",not_found:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649",unknown:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",server_error:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645"},eJ={overlays:"\u062A\u0631\u0627\u0643\u0645\u064A\u0627\u062A",basemap:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629"},tJ={layers_in_selected_area:"\u0637\u0628\u0642\u0627\u062A \u0641\u064A \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629",your_layers:"\u0637\u0628\u0642\u0627\u062A\u0643",kontur_analytics:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0643\u0648\u0646\u062A\u0648\u0631",qa:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062C\u0648\u062F\u0629",osmbasedmap:"\u0641\u062A\u062D \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0634\u0627\u0631\u0639 \u0639\u0644\u0649 \u0623\u0633\u0627\u0633",other:"\u0622\u062E\u0631",elevation:"\u0627\u0631\u062A\u0641\u0627\u0639",photo:"\u0635\u0648\u0631\u0629",map:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629"},rJ={map:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629",reports:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",about:"\u0639\u0646"},nJ={biv_color_manager:"\u0645\u062F\u064A\u0631 \u0627\u0644\u0623\u0644\u0648\u0627\u0646",edit_osm:"\u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0641\u064A OpenStreetMap",ruler:"\u0627\u0644\u0645\u0633\u0637\u0631\u0629",collapse:"\u0625\u063A\u0644\u0627\u0642",expand:"\u0641\u062A\u062D"},iJ={email:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"},oJ={email:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631",login_button:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",sign_up:"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628",logging_in:"\u062C\u0627\u0631\u064D \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644...",log_in:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",error:{email_empty:"\u064A\u062C\u0628 \u0623\u0646 \u0644\u0627 \u064A\u0643\u0648\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0641\u0627\u0631\u063A\u064B\u0627!",email_invalid:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u0627\u0644\u062D\u064B\u0627!",password:"\u064A\u062C\u0628 \u0623\u0646 \u0644\u0627 \u062A\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0641\u0627\u0631\u063A\u0629!",connect:"\u062A\u0639\u0630\u0651\u0631 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062E\u0627\u062F\u0645 \u0627\u0644\u0645\u0635\u0627\u062F\u0642\u0629"}},aJ={load_world_data:"\u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0627\u0644\u0645",numerator:"\u0627\u0644\u0628\u0633\u0637",normalized_by:"\u062A\u0637\u0628\u064A\u0639 \u0628\u0648\u0627\u0633\u0637\u0629",sum:"\u0645\u062C\u0645\u0648\u0639",min:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649",max:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649",mean:"\u0627\u0644\u0645\u062A\u0648\u0633\u0637",stddev:"Stddev",median:"\u0627\u0644\u0648\u0633\u064A\u0637",filter_denominator:"\u0645\u0642\u0627\u0645 \u0627\u0644\u0645\u0631\u0634\u062D"},sJ={warning_title:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0643\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629",warning_description:"\u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u064A\u0633\u062A \u062C\u0627\u0647\u0632\u0629 \u0628\u0639\u062F\u060C \u062D\u0627\u0648\u0644 \u0644\u0627\u062D\u0642\u064B\u0627",bbox_filter_button:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0639\u0631\u0636 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0643\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629",analytics:{affected_people:{tooltip:"\u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u062A\u0623\u062B\u0631\u0648\u0646",value:"\u0644\u0627 \u0623\u062B\u0631 \u0625\u0646\u0633\u0627\u0646\u064A"},settled_area_tooltip:"\u0645\u0646\u0637\u0642\u0629 \u0645\u0633\u062A\u0648\u0637\u0646\u0629",loss_tooltip:"\u0627\u0644\u062E\u0633\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u062F\u0631\u0629"}},uJ={edit_layer:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0637\u0628\u0642\u0629",edit_features:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u064A\u0632\u0627\u062A",delete_layer:"\u062D\u0630\u0641 \u0627\u0644\u0637\u0628\u0642\u0629",create_layer:"\u062E\u0644\u0642 \u0627\u0644\u0637\u0628\u0642\u0629",saving_layer:"\u062D\u0641\u0638 \u0627\u0644\u0637\u0628\u0642\u0629...",field_name:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062C\u0627\u0644",layer_name:"\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u0642\u0629",marker_icon:"\u0631\u0645\u0632 \u0627\u0644\u0639\u0644\u0627\u0645\u0629",type:"\u0627\u0644\u0646\u0648\u0639",select:"\u062A\u062D\u062F\u064A\u062F",short_text:"\u0646\u0635 \u0642\u0635\u064A\u0631",long_text:"\u0646\u0635 \u0637\u0648\u064A\u0644",link:"\u0631\u0627\u0628\u0637",image:"\u0635\u0648\u0631\u0629",fields:"\u0645\u062C\u0627\u0644\u0627\u062A",add_field:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062C\u0627\u0644",location:"\u0645\u0648\u0642\u0639",edit_feature_placeholder:"\u062D\u062F\u062F \u0628\u0639\u0636 \u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0644\u0628\u062F\u0621 \u062A\u062D\u0631\u064A\u0631 \u062E\u0635\u0627\u0626\u0635 \u0627\u0644\u0645\u064A\u0632\u0629"},lJ={loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A...",header_title:"\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A",info_tab:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A",error_loading:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A"},cJ={loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629...",header_title:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629",analytics_tab:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629",error:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629"},fJ={not_found:"\u0639\u0630\u0631\u064B\u0627\u060C \u0627\u0644\u062D\u062F\u062B \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F.",error:"\u062D\u062F\u062B \u062E\u0637\u0623!",please_select:"\u0645\u0646 \u0641\u0636\u0644\u0643\u060C \u062D\u062F\u062F \u0645\u0646\u0637\u0642\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649",to_see_map:"\u0644\u0645\u0639\u0631\u0641\u0629 \u062D\u0627\u0644\u0629 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",pickDisaster:"\u062D\u062F\u062F \u0627\u0644\u0643\u0627\u0631\u062B\u0629 \u0641\u064A \u0627\u0644\u0642\u0627\u0626\u0645\u0629",draw:"\u0627\u0631\u0633\u0645 \u0645\u0636\u0644\u0639\u064B\u0627 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",select:"\u062D\u062F\u062F \u0627\u0644\u062D\u062F\u0648\u062F \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",upload:"\u0642\u0645 \u0628\u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641 geoJSON \u0627\u0644\u062E\u0627\u0635 \u0628\u0643"},pJ={area:"\u0645\u0646\u0637\u0642\u0629",line:"\u062E\u0637",point:"\u0646\u0642\u0637\u0629",finish_drawing:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0631\u0633\u0645",caption:"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u0628\u062F\u0621 \u0627\u0644\u0631\u0633\u0645",no_geometry_error:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u062C\u0633\u0645 \u0645\u0631\u0633\u0648\u0645 \u0644\u0644\u062A\u0646\u0632\u064A\u0644",overlap_error:"\u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062F\u0627\u062E\u0644 \u0627\u0644\u0645\u0636\u0644\u0639 \u0645\u0639 \u0646\u0641\u0633\u0647",save_features:"\u062D\u0641\u0638 \u0627\u0644\u0645\u064A\u0632\u0627\u062A"},AJ={title:"\u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0627\u0644\u062D\u062F\u0648\u062F \u0627\u0644\u0625\u062F\u0627\u0631\u064A\u0629"},hJ={title:"\u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u062C\u0633\u0645 \u0627\u0644\u0645\u062D\u0645\u0644",error:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0630\u064A \u062A\u0645 \u062A\u062D\u0645\u064A\u0644\u0647"},dJ={title:"\u0631\u0643\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u062C\u0633\u0645 \u0627\u0644\u062D\u0631"},mJ={settings:{name:"\u0645\u0646\u0637\u0642\u0629 \u0645\u062E\u062A\u0627\u0631\u0629"}},gJ={self_directions_not_supported:"\u0627\u0644\u062A\u0642\u0627\u0637\u0639\u0627\u062A \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645\u0629!"},yJ={title:"\u062A\u0642\u0627\u0631\u064A\u0631 Disaster Ninja",no_data:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631",sorting:"\u062C\u0627\u0631\u064D \u062A\u0631\u062A\u064A\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...",loading:"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",search_location:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0648\u0642\u0639",open_josm:"\u0627\u0644\u0641\u062A\u062D \u0645\u0646 \u062E\u0644\u0627\u0644 \u0648\u062D\u062F\u0629 \u062A\u062D\u0643\u0645 JOSM \u0639\u0646 \u0628\u0639\u062F",josm_logo_alt:"\u0634\u0639\u0627\u0631 JOSM",see_all:"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",wrong_id:"\u0645\u0639\u0631\u0641 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u062E\u0627\u0637\u0626"},vJ={title:"\u0645\u0631\u062D\u0628\u064B\u0627 \u0641\u064A Disaster Ninja!",intro:"\u0647\u0644 \u062A\u0631\u064A\u062F \u0623\u0646 \u064A\u062A\u0645 \u0625\u062E\u0637\u0627\u0631\u0643 \u0628\u0627\u0644\u0643\u0648\u0627\u0631\u062B \u0627\u0644\u0645\u0633\u062A\u0645\u0631\u0629\u061F  \u0647\u0644 \u0623\u0646\u062A \u0645\u0647\u062A\u0645 \u0628\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 \u0627\u0644\u0641\u0648\u0631\u064A\u0629 \u0648\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0644\u0623\u064A \u0645\u0646\u0637\u0642\u0629 \u0641\u064A \u0627\u0644\u0639\u0627\u0644\u0645\u061F  \u064A\u0639\u0631\u0636 Disaster Ninja \u0628\u0639\u0636 \u0642\u062F\u0631\u0627\u062A <2>Kontur</2> \u0641\u064A \u062A\u0644\u0628\u064A\u0629 \u0647\u0630\u0647 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A.<br /> <br /> \u0644\u0642\u062F \u0635\u0645\u0645\u0646\u0627\u0647 \u0641\u064A \u0627\u0644\u0628\u062F\u0627\u064A\u0629 \u0644\u064A\u0643\u0648\u0646 \u0623\u062F\u0627\u0629 \u0644\u062F\u0639\u0645 \u0627\u0644\u0642\u0631\u0627\u0631 \u0644\u0645\u0635\u0645\u0645\u064A \u0627\u0644\u062E\u0631\u0627\u0626\u0637 \u0627\u0644\u0625\u0646\u0633\u0627\u0646\u064A\u0629. \u0627\u0644\u0622\u0646 \u0627\u0632\u062F\u0627\u062F\u062A \u0648\u0638\u0627\u0626\u0641\u0647 \u0648\u062D\u0627\u0644\u0627\u062A \u0627\u0633\u062A\u062E\u062F\u0627\u0645\u0647. \u0633\u0648\u0627\u0621 \u0643\u0646\u062A \u062A\u0639\u0645\u0644 \u0641\u064A \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0643\u0648\u0627\u0631\u062B\u060C \u0623\u0648 \u062A\u0628\u0646\u064A \u0645\u062F\u064A\u0646\u0629 \u0630\u0643\u064A\u0629\u060C \u0623\u0648 \u062A\u062C\u0631\u064A \u0628\u062D\u062B\u064B\u0627 \u0639\u0646 \u062A\u063A\u064A\u0631 \u0627\u0644\u0645\u0646\u0627\u062E\u060C \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0633\u0627\u0639\u062F\u0643 Disaster Ninja \u0639\u0644\u0649:",l1:"1. \u0627\u0644\u0628\u0642\u0627\u0621 \u0639\u0644\u0649 \u0627\u0637\u0644\u0627\u0639 \u0628\u0622\u062E\u0631 \u0627\u0644\u062A\u0637\u0648\u0631\u0627\u062A \u0644\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u062E\u0637\u0631\u0629 \u0639\u0644\u0649 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u0639\u0627\u0644\u0645.",p1:"\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0644\u0648\u062D\u0629 \u0627\u0644\u0643\u0648\u0627\u0631\u062B \u0628\u0627\u0633\u062A\u0645\u0631\u0627\u0631 \u0644\u0625\u0628\u0644\u0627\u063A\u0643 \u0628\u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u062C\u0627\u0631\u064A\u0629. \u0625\u0646\u0647\u0627 \u062A\u0633\u062A\u0647\u0644\u0643 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 <2>Kontur Event Feed</2> \u0648\u0627\u0644\u062A\u064A \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u064A\u0647\u0627 \u0639\u0628\u0631 \u0648\u0627\u062C\u0647\u0629 \u0628\u0631\u0645\u062C\u0629 \u0627\u0644\u062A\u0637\u0628\u064A\u0642\u0627\u062A.",l2:"2. \u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0645\u062C\u0627\u0644 \u0627\u0647\u062A\u0645\u0627\u0645\u0643.",p2:"\u062A\u062A\u064A\u062D \u0644\u0643 \u0644\u0648\u062D\u0629 \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0631\u0633\u0645 \u0631\u0633\u0645 \u0623\u0648 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0634\u0643\u0644 \u0627\u0644\u0647\u0646\u062F\u0633\u064A \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629. \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 \u0627\u0644\u062A\u0631\u0643\u064A\u0632 \u0639\u0644\u0649 \u0645\u0646\u0637\u0642\u0629 \u0645\u0639\u0631\u0636\u0629 \u0644\u0644\u0643\u0648\u0627\u0631\u062B \u0623\u0648 \u0648\u062D\u062F\u0629 \u0625\u062F\u0627\u0631\u064A\u0629 - \u0628\u0644\u062F \u0623\u0648 \u0645\u062F\u064A\u0646\u0629 \u0623\u0648 \u0645\u0646\u0637\u0642\u0629.",l3:"3. \u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645.",p3:"\u062A\u0639\u0631\u0636 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0639\u062F\u062F \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0630\u064A\u0646 \u064A\u0639\u064A\u0634\u0648\u0646 \u0641\u064A \u062A\u0644\u0643 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u062D\u0633\u0628 <2>Kontur Population</2> \u0648\u0641\u062C\u0648\u0627\u062A \u0627\u0644\u062E\u0631\u0627\u0626\u0637 \u0627\u0644\u0645\u0642\u062F\u0631\u0629 \u0641\u064A OpenStreetMap. \u064A\u0645\u0643\u0646 \u0644\u0639\u0645\u0644\u0627\u0621 Kontur \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u0626\u0627\u062A \u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0645\u0646 \u062E\u0644\u0627\u0644 \u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629.",l4:"4. \u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0648\u0627\u0644\u062A\u0648\u0635\u0644 \u0625\u0644\u0649 \u0627\u0633\u062A\u0646\u062A\u0627\u062C\u0627\u062A.",p4:"\u062A\u0645\u0646\u062D\u0643 \u0644\u0648\u062D\u0629 Layers \u062E\u064A\u0627\u0631\u0627\u062A \u0645\u062A\u0646\u0648\u0639\u0629 \u0644\u0639\u0631\u0636 \u0645\u0624\u0634\u0631\u064A\u0646 \u0641\u064A \u0648\u0642\u062A \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u062B\u0646\u0627\u0626\u064A\u0629 \u0627\u0644\u0645\u062A\u063A\u064A\u0631 \u0639\u0644\u0649 \u0633\u0628\u064A\u0644 \u0627\u0644\u0645\u062B\u0627\u0644 \u0627\u0644\u0643\u062B\u0627\u0641\u0629 \u0627\u0644\u0633\u0643\u0627\u0646\u064A\u0629 \u0648\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0625\u0644\u0649 \u0623\u0642\u0631\u0628 \u0645\u062D\u0637\u0629 \u0625\u0637\u0641\u0627\u0621. \u0627\u0633\u062A\u062E\u062F\u0645 \u0648\u0633\u064A\u0644\u0629 \u0625\u064A\u0636\u0627\u062D \u0627\u0644\u0644\u0648\u0646 \u0644\u062A\u0642\u064A\u064A\u0645 \u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u062A\u064A \u062A\u062A\u0637\u0644\u0628 \u0627\u0644\u0627\u0646\u062A\u0628\u0627\u0647. <br/>\u0628\u0634\u0643\u0644 \u0639\u0627\u0645\u060C \u064A\u0634\u064A\u0631 \u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u062E\u0636\u0631 \u0625\u0644\u0649 \u0645\u062E\u0627\u0637\u0631 \u0645\u0646\u062E\u0641\u0636\u0629 / \u0641\u062C\u0648\u0627\u062A \u0642\u0644\u064A\u0644\u0629\u060C \u0648\u0627\u0644\u0623\u062D\u0645\u0631 - \u0645\u062E\u0627\u0637\u0631 \u0639\u0627\u0644\u064A\u0629 / \u0627\u0644\u0639\u062F\u064A\u062F \u0645\u0646 \u0627\u0644\u0641\u062C\u0648\u0627\u062A.",p5:"\u0628\u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0630\u0644\u0643 \u060C \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0625\u0644\u0649 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0641\u064A \u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u064A\u0645\u0646\u0649 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062A\u0639\u0644\u0642\u0629 \u0628\u0627\u0644\u0623\u062E\u0637\u0627\u0621 \u0648\u0627\u0644\u062A\u0646\u0627\u0642\u0636\u0627\u062A \u0627\u0644\u0645\u062D\u062A\u0645\u0644\u0629 \u0641\u064A OpenStreetMap \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062F\u0629 \u0641\u064A \u0625\u0635\u0644\u0627\u062D\u0647\u0627 \u0639\u0646 \u0637\u0631\u064A\u0642 \u0631\u0633\u0645 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0639\u0646\u064A\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u062D\u0631\u0631 JOSM.",goToMap:"\u0627\u0644\u0627\u0646\u062A\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0622\u0646",p6:"\u0646\u0623\u0645\u0644 \u0623\u0646 \u062A\u062C\u062F \u0647\u0630\u0647 \u0627\u0644\u0623\u062F\u0627\u0629 \u0630\u0627\u062A \u0642\u064A\u0645\u0629. \u0627\u0633\u062A\u062E\u062F\u0645 \u0645\u0631\u0628\u0639 \u0627\u0644\u062F\u0631\u062F\u0634\u0629 \u0639\u0644\u0649 Disaster Ninja \u0644\u0623\u064A\u0629 \u0623\u0633\u0626\u0644\u0629 \u062D\u0648\u0644 \u0648\u0638\u0627\u0626\u0641\u0647\u060C \u0648\u0633\u0646\u0643\u0648\u0646 \u0633\u0639\u062F\u0627\u0621 \u0628\u0625\u0631\u0634\u0627\u062F\u0643. \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u064B\u0627 <1> \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A </1> \u0625\u0630\u0627 \u0643\u0627\u0646 \u0644\u062F\u064A\u0643 \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0623\u0648 \u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A \u0628\u0634\u0623\u0646 \u062A\u062D\u0633\u064A\u0646 \u0627\u0644\u0623\u062F\u0627\u0629. <br /> <br /> \u064A\u064F\u0639\u062F\u0651 Disaster Ninja \u0645\u0634\u0631\u0648\u0639\u064B\u0627 \u0645\u0641\u062A\u0648\u062D \u0627\u0644\u0645\u0635\u062F\u0631. \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0643\u0648\u062F \u0641\u064A <8>\u062D\u0633\u0627\u0628 Kontur \u0641\u064A GitHub</8>."},_J={km:PY,m:IY,to:OY,maps:MY,logout:RY,save:LY,cancel:DY,create:FY,disasters:BY,loading:zY,loading_events:NY,legend:UY,vertical_direction:jY,horizontal_direction:$Y,legend_presentation:VY,layers:HY,bivariate:qY,feed:GY,details:QY,deselect:WY,spinner_text:ZY,updated:KY,no_data_received:XY,error:YY,errors:JY,categories:eJ,groups:tJ,modes:rJ,sidebar:nJ,profile:iJ,login:oJ,advanced_analytics_data_list:aJ,event_list:sJ,create_layer:uJ,analytics_panel:lJ,advanced_analytics_panel:cJ,advanced_analytics_empty:fJ,draw_tools:pJ,boundary_selector:AJ,geometry_uploader:hJ,focus_geometry:dJ,focus_geometry_layer:mJ,drawings:gJ,reports:yJ,about:vJ};xs.use(jR).use(SK).init({fallbackLng:"en",debug:!1,defaultNS:"common",interpolation:{escapeValue:!1},contextSeparator:":",pluralSeparator:":",resources:{en:{common:FX},es:{common:TY},ar:{common:_J}}});const Rn={t:e=>{const t=xs.t(e);return typeof t=="string"?t:(console.error(`Not supported translation result for key: ${e}`),e)},instance:xs},gs=3,$R=[0,gs-1,gs*gs-gs,gs*gs-1],U_=`\u2193${Rn.t("bivariate.legend.low")}`,j_=`\u2191${Rn.t("bivariate.legend.high")}`,VR=Rn.t("bivariate.legend.medium"),xJ=e=>Array.from(Array(gs),(t,r)=>r).includes(e),TS=e=>{const t=gs*gs-gs;return Array.from(Array(gs),(r,i)=>t+i).includes(e)},PS=e=>Array.from(Array(gs),(t,r)=>r*gs).includes(e),bJ=e=>Array.from(Array(gs),(t,r)=>r*gs+(gs-1)).includes(e);const _x=hr.exports.memo(({children:e,tooltipText:t,renderTooltip:r,tooltipId:i,hoverBehavior:s=!0,popupClasses:l})=>{const a=AS(mS.setCurrentTooltip),x=AS(mS.resetCurrentTooltip),S=z=>{t&&a({popupClasses:l,popup:t,position:{x:z.clientX,y:z.clientY},onOuterClick(N,$){$()},initiatorId:i,hoverBehavior:s})};return e({showTooltip:(z,...N)=>{r?r(z,a,...N):S(z)},hideTooltip:()=>{x()}})});_x.displayName="TooltipWrapper";function ng(e){return["get",e]}function wJ(e){return["var",e]}function S8(e,t){return["<",e,t]}function C8(e,t){return["!=",e,t]}function SJ(e,t){return["==",e,t]}function IS(e,t){return[e,t]}function OS(...e){const t=e.pop();return["case",...e.flat(2),t]}function CJ(...e){return["concat",...e]}function EJ(e,t,r){return["let",e,t,r]}function kJ(...e){return["any",...e]}function MS(e){return typeof e=="string"?e==="1"?1:ng(e):Array.isArray(e)?e.map((t,r)=>r===0?t:MS(t)):e}function TJ(e,t){const i=MS(e.propName),s=MS(t.propName);return CJ(OS(e.borders.map((l,a)=>IS(S8(i,l),String.fromCharCode(64+a))),String.fromCharCode(64+e.borders.length)),OS(t.borders.map((l,a)=>IS(S8(s,l),a)),t.borders.length))}function PJ(e,t,r){return OS(Object.entries(t).map(([i,s])=>IS(SJ(wJ(e),i),s)),r)}function IJ(e){return Object.fromEntries(e.map(Object.values))}function OJ(e,t){return kJ(C8(["/",ng(e.quotient[0]),ng(e.quotient[1])],0),C8(["/",ng(t.quotient[0]),ng(t.quotient[1])],0))}function MJ(e,t,r){return EJ("class",TJ({propName:["/",...e.quotient],borders:e.steps.reduce((i,{value:s})=>(i.push(s),i),[])},{propName:["/",...t.quotient],borders:t.steps.reduce((i,{value:s})=>(i.push(s),i),[])}),PJ("class",r,"transparent"))}function HR({x:e,y:t,colors:r,source:i,sourceLayer:s,id:l="bivariate"}){const a={id:l,type:"fill",layout:{},filter:OJ(e,t),paint:{"fill-color":MJ(e,t,IJ(r)),"fill-opacity":1,"fill-antialias":!1}};return i&&(a.source=i),s&&(a["source-layer"]=s),a}function RJ(e,t="id"){const r=e.reduce((i,s)=>{const l=s[t].slice(0,1);return i[l]?i[l].push(s):i[l]=[s],i},{});return Object.values(r)}function LJ(e,t="id"){return[...RJ(e,t)].reverse().reduce((i,s)=>i.concat(s),[])}const qR=e=>e.charAt(0).toUpperCase()+e.slice(1),DJ=e=>e.map(qR).join(", "),FJ=e=>e!==null&&typeof e=="object"&&"message"in e,BJ=e=>Array.isArray(e)?DJ(e):qR(e),E8=e=>{if(!e)return"";const[t,r]=e;return k8(t.unit.id)?r.name==="one"?`${t.label} (${t.unit.shortName})`:k8(r.unit.id)?r.name==="area_km2"?`${t.label} (${t.unit.shortName}/${r.unit.shortName})`:`${t.label} to ${r.label} (${t.unit.shortName}/${r.unit.shortName})`:`${t.label} to ${r.label} (${t.unit.shortName})`:`${t.label} to ${r.label}`},k8=e=>Boolean(e&&e!=="other"),zJ="_tooltipRoot_zjmcz_1",NJ="_tooltipRow_zjmcz_11",UJ="_sentimentDirection_zjmcz_17",jJ="_sentimentLabel_zjmcz_21",$J="_sentimentInfo_zjmcz_25",VJ="_indicator_zjmcz_29",zd={tooltipRoot:zJ,tooltipRow:NJ,sentimentDirection:UJ,sentimentLabel:jJ,sentimentInfo:$J,indicator:VJ},HJ=({children:e,hints:t})=>{const r=(i,s,l,a)=>{t&&$R.includes(a)&&s({popup:_t(qJ,{cellIndex:a,hints:t}),position:{x:i.clientX,y:i.clientY},hoverBehavior:!0})};return hr.exports.isValidElement(e)?_t(_x,{renderTooltip:r,children:({showTooltip:i,hideTooltip:s})=>hr.exports.cloneElement(e,{onCellPointerOver:i,onCellPointerLeave:s})}):null},qJ=({hints:e,cellIndex:t})=>{var i,s,l,a,x,S;if(!e)return null;const r=[{label:(i=e.x)==null?void 0:i.label,direction:(l=(s=e.x)==null?void 0:s.direction)==null?void 0:l[TS(t)?0:1],indicator:TS(t)?U_:j_},{label:(a=e.y)==null?void 0:a.label,direction:(S=(x=e.y)==null?void 0:x.direction)==null?void 0:S[PS(t)?0:1],indicator:PS(t)?U_:j_}];return _t("div",{className:va(zd.tooltipRoot),children:r.map(({label:P,direction:R,indicator:z},N)=>Zn("div",{className:va(zd.tooltipRow),children:[_t("span",{className:va(zd.indicator),children:z}),Zn("span",{className:va(zd.sentimentInfo),children:[Zn("span",{className:va(zd.sentimentLabel),children:[P," "]}),R&&_t("span",{className:va(zd.sentimentDirection),children:BJ(R)})]})]},N))})},GJ={hints:{x:{label:"Average NDVI, JUN 2019",direction:[["bad"],["good"]]},y:{label:"Multi-hazard exposure PDC GRVA",direction:[["unimportant"],["bad","important"]]}}},QJ={x:{label:"Multi-hazard exposure PDC GRVA to 1",steps:[{label:"",value:0},{label:"",value:.48},{label:"",value:.62},{label:"",value:1}],quality:.997101882904748,quotient:["mhe_index","one"]},y:{label:"Average NDVI, JUN 2019 to 1",steps:[{label:"",value:-1},{label:"",value:.3625118070036407},{label:"",value:.6441754083082613},{label:"",value:1}],quality:.9410965072118505,quotient:["avg_ndvi","one"]}},WJ=[{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(179,165,130,0.5)"},{label:"C3",color:"rgba(153,153,153,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(195,163,111,0.5)"},{label:"B3",color:"rgba(204,103,116,0.5)"},{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"}];function ZJ(){return Zn(NM,{children:[_t(FR,{}),_t(HJ,{meta:GJ,children:_t(XV,{showAxisLabels:!0,size:gs,axis:QJ,cells:WJ})})]})}const KJ="_LegendGrid_1ko5k_1",XJ="_LegendGridCell_1ko5k_10",YJ="_LegendGridCellChanged_1ko5k_17",JJ="_LegendGridCellUndefinedChanged_1ko5k_22",eee="_CircleIndicator_1ko5k_26",tee="_UndefinedColorsIndicator_1ko5k_36",Nd={LegendGrid:KJ,LegendGridCell:XJ,LegendGridCellChanged:YJ,LegendGridCellUndefinedChanged:JJ,CircleIndicator:eee,UndefinedColorsIndicator:tee},Hm=({legendSteps:e,changes:t={}})=>{const r=$R.map(s=>e[s]),i=e.some(s=>s.isFallbackColor);return Zn("div",{className:Nd.LegendGrid,children:[r.map(s=>{var P;let l=s.color,a=!1,x,S;if(t[s.label]){a=!0;const R=(P=t[s.label])==null?void 0:P.color;l=R,x=R?Nd.LegendGridCellChanged:Nd.LegendGridCellUndefinedChanged}return l&&(S={backgroundColor:l}),_t("div",{className:va(Nd.LegendGridCell,x),style:S,children:a&&_t("div",{className:Nd.CircleIndicator})},s.label)}),i&&_t("div",{className:Nd.UndefinedColorsIndicator,children:_t(ree,{})})]})},ree=()=>Zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[_t("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),_t("path",{d:"M10 3C6.13438 3 3 6.13438 3 10C3 13.8656 6.13438 17 10 17C13.8656 17 17 13.8656 17 10C17 6.13438 13.8656 3 10 3ZM10 15.8125C6.79063 15.8125 4.1875 13.2094 4.1875 10C4.1875 6.79063 6.79063 4.1875 10 4.1875C13.2094 4.1875 15.8125 6.79063 15.8125 10C15.8125 13.2094 13.2094 15.8125 10 15.8125Z",fill:"#F5222D"}),_t("path",{d:"M9.25 12.75C9.25 12.9489 9.32902 13.1397 9.46967 13.2803C9.61032 13.421 9.80109 13.5 10 13.5C10.1989 13.5 10.3897 13.421 10.5303 13.2803C10.671 13.1397 10.75 12.9489 10.75 12.75C10.75 12.5511 10.671 12.3603 10.5303 12.2197C10.3897 12.079 10.1989 12 10 12C9.80109 12 9.61032 12.079 9.46967 12.2197C9.32902 12.3603 9.25 12.5511 9.25 12.75ZM9.625 11H10.375C10.4438 11 10.5 10.9438 10.5 10.875V6.625C10.5 6.55625 10.4438 6.5 10.375 6.5H9.625C9.55625 6.5 9.5 6.55625 9.5 6.625V10.875C9.5 10.9438 9.55625 11 9.625 11Z",fill:"#F5222D"})]}),qm=[{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(159,171,87,0.5)"},{label:"B3",color:"rgba(140,127,57,0.5)"},{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(88,176,117,0.5)"},{label:"C3",color:"rgba(83,152,106,0.5)"}],nee=Zn("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:["All next colors - undefined",_t(Hm,{legendSteps:qm,changes:{A1:{color:void 0},A3:{color:void 0},C1:{color:void 0},C3:{color:void 0}}}),"No changes",_t(Hm,{legendSteps:qm,changes:{}}),"All changed",_t(Hm,{legendSteps:qm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(171, 216, 237, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed",_t(Hm,{legendSteps:qm,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed, half comes incorrect",_t(Hm,{legendSteps:qm,changes:{A1:{color:void 0},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:void 0}}})]}),iee="modulepreload",oee=function(e,t){return new URL(e,t).href},T8={},aee=function(t,r,i){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=oee(s,i),s in T8)return;T8[s]=!0;const l=s.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const x=document.createElement("link");if(x.rel=l?"stylesheet":iee,l||(x.as="script",x.crossOrigin=""),x.href=s,document.head.appendChild(x),l)return new Promise((S,P)=>{x.addEventListener("load",S),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},see=e=>new Proxy({},{get:(t,r)=>{if(typeof r=="string")return hr.exports.lazy(()=>e(r).then(i=>({default:i[r]})))}}),P8="bivariate-greetings-disabled",uee="_container_zzzsn_1",lee="_closeButton_zzzsn_8",I8={container:uee,closeButton:lee},{BivariateGreetings:cee}=see(()=>aee(()=>import("./BivariateGreetings.01d2be2e.js"),[],import.meta.url)),fee=({className:e})=>{const[t,r]=hr.exports.useState(!1);hr.exports.useEffect(()=>{!localStorage.getItem(P8)&&!t&&r(!0)},[]);const i=()=>{r(!1),localStorage.setItem(P8,"true")};return t?Zn("div",{className:va(e,I8.container),children:[_t(hr.exports.Suspense,{fallback:null,children:_t(cee,{})}),_t("div",{onClick:i,className:I8.closeButton,children:_t(wV,{})})]}):null},pee=()=>_t(fee,{});var Aee=0;function hee(e){var t=e.get,r=e.set,i=e.throttle,s=i===void 0?0:i;return function(l){var a="__persistIntervalId"+ ++Aee;return function(x){return function(S,P){var R=P.atom.id;P.tracks==null&&(P.state=t(l!=null?l:R));var z=x(S,P);return r!=null&&S.schedule(function(){var N;s==0?r(l!=null?l:R,z.state):((N=z.ctx[a])!=null?N:null)===null&&(z.ctx[a]=setTimeout(function(){z.ctx[a]=null,r(l!=null?l:R,S.getCache(z.atom).state)},150))}),z}}}}var dee={get:function(e){var t,r=(t=globalThis.localStorage)==null?void 0:t.getItem(e);return r?JSON.parse(r):void 0},set:function(e,t){var r;return(r=globalThis.localStorage)==null?void 0:r.setItem(e,JSON.stringify(t))},throttle:150};hee(dee);function mee(e,t){if(Object.is(e,t))return!0;if(B_(e)&&B_(t)){var r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every(function(s){return Object.is(e[s],t[s])})}return!1}function GR(e){return e===void 0&&(e=mee),function(t){return function(r,i){var s=t(r,i);return i.tracks!=null&&e(i.state,s.state)&&(s.state=i.state),s}}}class Th extends Error{constructor(r,i){super(r);oi(this,"problem");this.problem=i,Object.setPrototypeOf(this,Th.prototype)}}function QR(e){return e.problem?typeof e.problem=="object":!1}const WR="Abort error",O8=e=>e?typeof e=="string"?e===WR:QR(e)?e.problem.kind==="canceled":e instanceof DOMException?e.name==="AbortError":!1:!1;async function gee(e,t){return new Promise((r,i)=>{if(e.signal.aborted)return Promise.reject(new DOMException("Aborted","AbortError"));const s=()=>{e.signal.removeEventListener("abort",s),i(new DOMException("Aborted","AbortError"))};e.signal.addEventListener("abort",s),t.then(r).catch(i).finally(()=>e.signal.removeEventListener("abort",s))})}function yee(e){return"loading"in e||"error"in e}const Gm=(...e)=>{},xw={inheritState:!1,store:WM,auto:!0},ZR=(e=>t=>{if(!e.has(t))return e.add(t),t;console.warn(`Atom with name ${t} already exist. Full page reload recommended`);const r=t+performance.now();return ZR(r)})(new Set);function u4(e,t,r,i={}){var x,S,P;const s={...i,auto:(x=i.auto)!=null?x:xw.auto,inheritState:(S=i.inheritState)!=null?S:xw.inheritState,store:(P=i.store)!=null?P:xw.store},l={request:R=>R,refetch:()=>null,cancel:()=>null,_done:(R,z)=>({params:R,data:z}),_error:(R,z)=>({params:R,error:z}),_loading:R=>({params:R})};return e&&(l.depsAtom=e),Ro(l,({onAction:R,schedule:z,create:N,onChange:$,get:Z},J={loading:!1,data:null,error:null,lastParams:null,dirty:!1})=>{const ae={...J};return R("request",V=>{ae.dirty=!0,z(async(K,se)=>{if(se.abortController){se.abortController.abort(),delete se.abortController;let Ae=!1;try{Gm("2.1. Cancel flow: await activeRequest"),await se.activeRequest}catch(ue){Ae=O8(ue)}Ae&&K(N("request",V));return}K(N("_loading",V));const me=new AbortController;try{se.abortController=me,se.activeRequest=gee(me,t(V,me)),Gm("4. Wait result");const Ae=await se.activeRequest;Ae===void 0&&console.warn("resourceAtom: fetcherResult undefined"),delete se.activeRequest,Gm("5. Check that it was aborted:"),me.signal.throwIfAborted(),Gm("5.1.A. request was not aborted"),se.abortController===me&&(Gm("5.1.A.1. Done"),delete se.abortController,K(N("_done",V,Ae)),s.onSuccess&&s.onSuccess(K,V,Ae))}catch(Ae){if(O8(Ae))K(N("_error",V,WR));else if(se.abortController===me){console.error(`[${r}]:`,Ae);const ue=FJ(Ae)?Ae.message:typeof Ae=="string"?Ae:"Unknown";K(N("_error",V,ue))}}})}),R("refetch",()=>{z((V,K)=>{J.dirty&&!J.loading?V(N("request",ae.lastParams)):console.error(`[${r}]:`,"Do not call refetch before request")})}),R("cancel",()=>{z(async(V,K)=>{K.abortController&&(K.abortController.abort(),K.abortController=null)})}),R("_loading",({params:V})=>{ae.loading=!0,ae.error=null,ae.lastParams=V}),R("_error",({params:V,error:K})=>{ae.error=K,ae.lastParams=V,ae.loading=!1}),R("_done",({data:V,params:K})=>{ae.data=V,ae.error=null,ae.loading=!1,ae.lastParams=K}),l.depsAtom?$("depsAtom",V=>{B_(V)?(s.inheritState&&(ae.loading=V.loading||ae.loading,ae.error=V.error||ae.error),yee(V)?!V.loading&&!V.error&&V.dirty&&z(K=>K(N("request",V.data))):z(K=>K(N("request",V)))):V!==null&&z(K=>K(N("request",V)))}):s.auto&&!ae.dirty&&z(V=>V(N("request",null))),ae},{id:ZR(r),store:s.store,decorators:[GR()]})}function RS(e){this.message=e}RS.prototype=new Error,RS.prototype.name="InvalidCharacterError";var M8=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new RS("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,s=0,l=0,a="";i=t.charAt(l++);~i&&(r=s%4?64*r+i:i,s++%4)?a+=String.fromCharCode(255&r>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function vee(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(M8(r).replace(/(.)/g,function(i,s){var l=s.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return M8(t)}}function $_(e){this.message=e}function _ee(e,t){if(typeof e!="string")throw new $_("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(vee(e.split(".")[r]))}catch(i){throw new $_("Invalid token specified: "+i.message)}}$_.prototype=new Error,$_.prototype.name="InvalidTokenError";const to=(()=>{var t,r,i,s,l,a,x,S,P;const e=(t=globalThis.window.konturAppConfig)!=null?t:{};return{apiGateway:e.API_GATEWAY,boundariesApi:e.BOUNDARIES_API,reportsApi:e.REPORTS_API,bivariateTilesRelativeUrl:e.BIVARIATE_TILES_RELATIVE_URL,bivariateTilesServer:e.BIVARIATE_TILES_SERVER,bivariateTilesIndicatorsClass:e.BIVARIATE_TILES_INDICATORS_CLASS,refreshIntervalSec:e.REFRESH_INTERVAL_SEC,mapAccessToken:e.MAP_ACCESS_TOKEN,mapBaseStyle:e.MAP_BASE_STYLE,layersByDefault:e.LAYERS_BY_DEFAULT,featuresByDefault:e.FEATURES_BY_DEFAULT,defaultFeed:e.DEFAULT_FEED,defaultFeedObject:xee(e.DEFAULT_FEED),keycloakUrl:e.KEYCLOAK_URL,keycloakRealm:e.KEYCLOAK_REALM,keycloakClientId:e.KEYCLOAK_CLIENT_ID,yandexMetricaId:e.YANDEX_METRICA_ID,baseUrl:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_BASE_PATH,isDevBuild:!1,isProdBuild:!0,appVersion:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.PACKAGE_VERSION,autoFocus:{desktopPaddings:{top:(i=(r=e.AUTOFOCUS_PADDINGS)==null?void 0:r[0])!=null?i:0,right:(l=(s=e.AUTOFOCUS_PADDINGS)==null?void 0:s[1])!=null?l:0,bottom:(x=(a=e.AUTOFOCUS_PADDINGS)==null?void 0:a[2])!=null?x:0,left:(P=(S=e.AUTOFOCUS_PADDINGS)==null?void 0:S[3])!=null?P:0},maxZoom:e.AUTOFOCUS_ZOOM},intercom:{name:e.INTERCOM_DEFAULT_NAME,app_id:e.INTERCOM_APP_ID,custom_launcher_selector:e.INTERCOM_SELECTOR},osmEditors:e.OSM_EDITORS||[{id:"josm",title:"JOSM",url:"https://www.openstreetmap.org/edit?editor=remote#map="}]}})();console.info(`%c Disaster Ninja ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.PACKAGE_VERSION} deployment:
  - Build Time: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.BUILD_TIME}
  - Git Branch: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_BRANCH}
  - Git Commit: #${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_COMMIT_HASH}
  - Git Commit Time: ${{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.GIT_COMMIT_TIME}
  `,"color: #bada55");function xee(e){return(!e||e!=="kontur-public")&&console.warn("WARNING! Default feed provided via config is incorrect or absent"),{feed:"kontur-public",name:Rn.t("configs.Kontur_public_feed"),description:Rn.t("configs.Kontur_public_feed_description"),default:!0}}var KR={exports:{}},l4={exports:{}},XR=function(t,r){return function(){for(var s=new Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];return t.apply(r,s)}},bee=XR,c4=Object.prototype.toString,f4=function(e){return function(t){var r=c4.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Kh(e){return e=e.toLowerCase(),function(r){return f4(r)===e}}function p4(e){return Array.isArray(e)}function V_(e){return typeof e>"u"}function wee(e){return e!==null&&!V_(e)&&e.constructor!==null&&!V_(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var YR=Kh("ArrayBuffer");function See(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YR(e.buffer),t}function Cee(e){return typeof e=="string"}function Eee(e){return typeof e=="number"}function JR(e){return e!==null&&typeof e=="object"}function X1(e){if(f4(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var kee=Kh("Date"),Tee=Kh("File"),Pee=Kh("Blob"),Iee=Kh("FileList");function A4(e){return c4.call(e)==="[object Function]"}function Oee(e){return JR(e)&&A4(e.pipe)}function Mee(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||c4.call(e)===t||A4(e.toString)&&e.toString()===t)}var Ree=Kh("URLSearchParams");function Lee(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Dee(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function h4(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),p4(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function LS(){var e={};function t(s,l){X1(e[l])&&X1(s)?e[l]=LS(e[l],s):X1(s)?e[l]=LS({},s):p4(s)?e[l]=s.slice():e[l]=s}for(var r=0,i=arguments.length;r<i;r++)h4(arguments[r],t);return e}function Fee(e,t,r){return h4(t,function(s,l){r&&typeof s=="function"?e[l]=bee(s,r):e[l]=s}),e}function Bee(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function zee(e,t,r,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function Nee(e,t,r){var i,s,l,a={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],a[l]||(t[l]=e[l],a[l]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function Uee(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var i=e.indexOf(t,r);return i!==-1&&i===r}function jee(e){if(!e)return null;var t=e.length;if(V_(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var $ee=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),bs={isArray:p4,isArrayBuffer:YR,isBuffer:wee,isFormData:Mee,isArrayBufferView:See,isString:Cee,isNumber:Eee,isObject:JR,isPlainObject:X1,isUndefined:V_,isDate:kee,isFile:Tee,isBlob:Pee,isFunction:A4,isStream:Oee,isURLSearchParams:Ree,isStandardBrowserEnv:Dee,forEach:h4,merge:LS,extend:Fee,trim:Lee,stripBOM:Bee,inherits:zee,toFlatObject:Nee,kindOf:f4,kindOfTest:Kh,endsWith:Uee,toArray:jee,isTypedArray:$ee,isFileList:Iee},Ud=bs;function R8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var eL=function(t,r,i){if(!r)return t;var s;if(i)s=i(r);else if(Ud.isURLSearchParams(r))s=r.toString();else{var l=[];Ud.forEach(r,function(S,P){S===null||typeof S>"u"||(Ud.isArray(S)?P=P+"[]":S=[S],Ud.forEach(S,function(z){Ud.isDate(z)?z=z.toISOString():Ud.isObject(z)&&(z=JSON.stringify(z)),l.push(R8(P)+"="+R8(z))}))}),s=l.join("&")}if(s){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},Vee=bs;function xx(){this.handlers=[]}xx.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};xx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};xx.prototype.forEach=function(t){Vee.forEach(this.handlers,function(i){i!==null&&t(i)})};var Hee=xx,qee=bs,Gee=function(t,r){qee.forEach(t,function(s,l){l!==r&&l.toUpperCase()===r.toUpperCase()&&(t[r]=s,delete t[l])})},tL=bs;function O0(e,t,r,i,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s)}tL.inherits(O0,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var rL=O0.prototype,nL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){nL[e]={value:e}});Object.defineProperties(O0,nL);Object.defineProperty(rL,"isAxiosError",{value:!0});O0.from=function(e,t,r,i,s,l){var a=Object.create(rL);return tL.toFlatObject(e,a,function(S){return S!==Error.prototype}),O0.call(a,e.message,t,r,i,s),a.name=e.name,l&&Object.assign(a,l),a};var G0=O0,iL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cc=bs;function Qee(e,t){t=t||new FormData;var r=[];function i(l){return l===null?"":Cc.isDate(l)?l.toISOString():Cc.isArrayBuffer(l)||Cc.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function s(l,a){if(Cc.isPlainObject(l)||Cc.isArray(l)){if(r.indexOf(l)!==-1)throw Error("Circular reference detected in "+a);r.push(l),Cc.forEach(l,function(S,P){if(!Cc.isUndefined(S)){var R=a?a+"."+P:P,z;if(S&&!a&&typeof S=="object"){if(Cc.endsWith(P,"{}"))S=JSON.stringify(S);else if(Cc.endsWith(P,"[]")&&(z=Cc.toArray(S))){z.forEach(function(N){!Cc.isUndefined(N)&&t.append(R,i(N))});return}}s(S,R)}}),r.pop()}else t.append(a,i(l))}return s(e),t}var oL=Qee,bw,L8;function Wee(){if(L8)return bw;L8=1;var e=G0;return bw=function(r,i,s){var l=s.config.validateStatus;!s.status||!l||l(s.status)?r(s):i(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},bw}var ww,D8;function Zee(){if(D8)return ww;D8=1;var e=bs;return ww=e.isStandardBrowserEnv()?function(){return{write:function(i,s,l,a,x,S){var P=[];P.push(i+"="+encodeURIComponent(s)),e.isNumber(l)&&P.push("expires="+new Date(l).toGMTString()),e.isString(a)&&P.push("path="+a),e.isString(x)&&P.push("domain="+x),S===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ww}var Kee=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Xee=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},Yee=Kee,Jee=Xee,aL=function(t,r){return t&&!Yee(r)?Jee(t,r):r},Sw,F8;function ete(){if(F8)return Sw;F8=1;var e=bs,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Sw=function(i){var s={},l,a,x;return i&&e.forEach(i.split(`
`),function(P){if(x=P.indexOf(":"),l=e.trim(P.substr(0,x)).toLowerCase(),a=e.trim(P.substr(x+1)),l){if(s[l]&&t.indexOf(l)>=0)return;l==="set-cookie"?s[l]=(s[l]?s[l]:[]).concat([a]):s[l]=s[l]?s[l]+", "+a:a}}),s},Sw}var Cw,B8;function tte(){if(B8)return Cw;B8=1;var e=bs;return Cw=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function l(a){var x=a;return r&&(i.setAttribute("href",x),x=i.href),i.setAttribute("href",x),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=l(window.location.href),function(x){var S=e.isString(x)?l(x):x;return S.protocol===s.protocol&&S.host===s.host}}():function(){return function(){return!0}}(),Cw}var Ew,z8;function bx(){if(z8)return Ew;z8=1;var e=G0,t=bs;function r(i){e.call(this,i==null?"canceled":i,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),Ew=r,Ew}var kw,N8;function rte(){return N8||(N8=1,kw=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),kw}var Tw,U8;function j8(){if(U8)return Tw;U8=1;var e=bs,t=Wee(),r=Zee(),i=eL,s=aL,l=ete(),a=tte(),x=iL,S=G0,P=bx(),R=rte();return Tw=function(N){return new Promise(function(Z,J){var ae=N.data,V=N.headers,K=N.responseType,se;function me(){N.cancelToken&&N.cancelToken.unsubscribe(se),N.signal&&N.signal.removeEventListener("abort",se)}e.isFormData(ae)&&e.isStandardBrowserEnv()&&delete V["Content-Type"];var Ae=new XMLHttpRequest;if(N.auth){var ue=N.auth.username||"",Se=N.auth.password?unescape(encodeURIComponent(N.auth.password)):"";V.Authorization="Basic "+btoa(ue+":"+Se)}var Ce=s(N.baseURL,N.url);Ae.open(N.method.toUpperCase(),i(Ce,N.params,N.paramsSerializer),!0),Ae.timeout=N.timeout;function qe(){if(!!Ae){var st="getAllResponseHeaders"in Ae?l(Ae.getAllResponseHeaders()):null,wt=!K||K==="text"||K==="json"?Ae.responseText:Ae.response,St={data:wt,status:Ae.status,statusText:Ae.statusText,headers:st,config:N,request:Ae};t(function(fr){Z(fr),me()},function(fr){J(fr),me()},St),Ae=null}}if("onloadend"in Ae?Ae.onloadend=qe:Ae.onreadystatechange=function(){!Ae||Ae.readyState!==4||Ae.status===0&&!(Ae.responseURL&&Ae.responseURL.indexOf("file:")===0)||setTimeout(qe)},Ae.onabort=function(){!Ae||(J(new S("Request aborted",S.ECONNABORTED,N,Ae)),Ae=null)},Ae.onerror=function(){J(new S("Network Error",S.ERR_NETWORK,N,Ae,Ae)),Ae=null},Ae.ontimeout=function(){var wt=N.timeout?"timeout of "+N.timeout+"ms exceeded":"timeout exceeded",St=N.transitional||x;N.timeoutErrorMessage&&(wt=N.timeoutErrorMessage),J(new S(wt,St.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,N,Ae)),Ae=null},e.isStandardBrowserEnv()){var lt=(N.withCredentials||a(Ce))&&N.xsrfCookieName?r.read(N.xsrfCookieName):void 0;lt&&(V[N.xsrfHeaderName]=lt)}"setRequestHeader"in Ae&&e.forEach(V,function(wt,St){typeof ae>"u"&&St.toLowerCase()==="content-type"?delete V[St]:Ae.setRequestHeader(St,wt)}),e.isUndefined(N.withCredentials)||(Ae.withCredentials=!!N.withCredentials),K&&K!=="json"&&(Ae.responseType=N.responseType),typeof N.onDownloadProgress=="function"&&Ae.addEventListener("progress",N.onDownloadProgress),typeof N.onUploadProgress=="function"&&Ae.upload&&Ae.upload.addEventListener("progress",N.onUploadProgress),(N.cancelToken||N.signal)&&(se=function(st){!Ae||(J(!st||st&&st.type?new P:st),Ae.abort(),Ae=null)},N.cancelToken&&N.cancelToken.subscribe(se),N.signal&&(N.signal.aborted?se():N.signal.addEventListener("abort",se))),ae||(ae=null);var rt=R(Ce);if(rt&&["http","https","file"].indexOf(rt)===-1){J(new S("Unsupported protocol "+rt+":",S.ERR_BAD_REQUEST,N));return}Ae.send(ae)})},Tw}var Pw,$8;function nte(){return $8||($8=1,Pw=null),Pw}var Ja=bs,V8=Gee,H8=G0,ite=iL,ote=oL,ate={"Content-Type":"application/x-www-form-urlencoded"};function q8(e,t){!Ja.isUndefined(e)&&Ja.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function ste(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=j8()),e}function ute(e,t,r){if(Ja.isString(e))try{return(t||JSON.parse)(e),Ja.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var wx={transitional:ite,adapter:ste(),transformRequest:[function(t,r){if(V8(r,"Accept"),V8(r,"Content-Type"),Ja.isFormData(t)||Ja.isArrayBuffer(t)||Ja.isBuffer(t)||Ja.isStream(t)||Ja.isFile(t)||Ja.isBlob(t))return t;if(Ja.isArrayBufferView(t))return t.buffer;if(Ja.isURLSearchParams(t))return q8(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Ja.isObject(t),s=r&&r["Content-Type"],l;if((l=Ja.isFileList(t))||i&&s==="multipart/form-data"){var a=this.env&&this.env.FormData;return ote(l?{"files[]":t}:t,a&&new a)}else if(i||s==="application/json")return q8(r,"application/json"),ute(t);return t}],transformResponse:[function(t){var r=this.transitional||wx.transitional,i=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,l=!i&&this.responseType==="json";if(l||s&&Ja.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(l)throw a.name==="SyntaxError"?H8.from(a,H8.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nte()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ja.forEach(["delete","get","head"],function(t){wx.headers[t]={}});Ja.forEach(["post","put","patch"],function(t){wx.headers[t]=Ja.merge(ate)});var d4=wx,lte=bs,cte=d4,fte=function(t,r,i){var s=this||cte;return lte.forEach(i,function(a){t=a.call(s,t,r)}),t},Iw,G8;function sL(){return G8||(G8=1,Iw=function(t){return!!(t&&t.__CANCEL__)}),Iw}var Q8=bs,Ow=fte,pte=sL(),Ate=d4,hte=bx();function Mw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hte}var dte=function(t){Mw(t),t.headers=t.headers||{},t.data=Ow.call(t,t.data,t.headers,t.transformRequest),t.headers=Q8.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Q8.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var r=t.adapter||Ate.adapter;return r(t).then(function(s){return Mw(t),s.data=Ow.call(t,s.data,s.headers,t.transformResponse),s},function(s){return pte(s)||(Mw(t),s&&s.response&&(s.response.data=Ow.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},Wu=bs,uL=function(t,r){r=r||{};var i={};function s(R,z){return Wu.isPlainObject(R)&&Wu.isPlainObject(z)?Wu.merge(R,z):Wu.isPlainObject(z)?Wu.merge({},z):Wu.isArray(z)?z.slice():z}function l(R){if(Wu.isUndefined(r[R])){if(!Wu.isUndefined(t[R]))return s(void 0,t[R])}else return s(t[R],r[R])}function a(R){if(!Wu.isUndefined(r[R]))return s(void 0,r[R])}function x(R){if(Wu.isUndefined(r[R])){if(!Wu.isUndefined(t[R]))return s(void 0,t[R])}else return s(void 0,r[R])}function S(R){if(R in r)return s(t[R],r[R]);if(R in t)return s(void 0,t[R])}var P={url:a,method:a,data:a,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S};return Wu.forEach(Object.keys(t).concat(Object.keys(r)),function(z){var N=P[z]||l,$=N(z);Wu.isUndefined($)&&N!==S||(i[z]=$)}),i},Rw,W8;function lL(){return W8||(W8=1,Rw={version:"0.27.2"}),Rw}var mte=lL().version,yA=G0,m4={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){m4[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var Z8={};m4.transitional=function(t,r,i){function s(l,a){return"[Axios v"+mte+"] Transitional option '"+l+"'"+a+(i?". "+i:"")}return function(l,a,x){if(t===!1)throw new yA(s(a," has been removed"+(r?" in "+r:"")),yA.ERR_DEPRECATED);return r&&!Z8[a]&&(Z8[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,a,x):!0}};function gte(e,t,r){if(typeof e!="object")throw new yA("options must be an object",yA.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var l=i[s],a=t[l];if(a){var x=e[l],S=x===void 0||a(x,l,e);if(S!==!0)throw new yA("option "+l+" must be "+S,yA.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new yA("Unknown option "+l,yA.ERR_BAD_OPTION)}}var yte={assertOptions:gte,validators:m4},cL=bs,vte=eL,K8=Hee,X8=dte,Sx=uL,_te=aL,fL=yte,jd=fL.validators;function M0(e){this.defaults=e,this.interceptors={request:new K8,response:new K8}}M0.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Sx(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&fL.assertOptions(i,{silentJSONParsing:jd.transitional(jd.boolean),forcedJSONParsing:jd.transitional(jd.boolean),clarifyTimeoutError:jd.transitional(jd.boolean)},!1);var s=[],l=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(r)===!1||(l=l&&$.synchronous,s.unshift($.fulfilled,$.rejected))});var a=[];this.interceptors.response.forEach(function($){a.push($.fulfilled,$.rejected)});var x;if(!l){var S=[X8,void 0];for(Array.prototype.unshift.apply(S,s),S=S.concat(a),x=Promise.resolve(r);S.length;)x=x.then(S.shift(),S.shift());return x}for(var P=r;s.length;){var R=s.shift(),z=s.shift();try{P=R(P)}catch(N){z(N);break}}try{x=X8(P)}catch(N){return Promise.reject(N)}for(;a.length;)x=x.then(a.shift(),a.shift());return x};M0.prototype.getUri=function(t){t=Sx(this.defaults,t);var r=_te(t.baseURL,t.url);return vte(r,t.params,t.paramsSerializer)};cL.forEach(["delete","get","head","options"],function(t){M0.prototype[t]=function(r,i){return this.request(Sx(i||{},{method:t,url:r,data:(i||{}).data}))}});cL.forEach(["post","put","patch"],function(t){function r(i){return function(l,a,x){return this.request(Sx(x||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}M0.prototype[t]=r(),M0.prototype[t+"Form"]=r(!0)});var xte=M0,Lw,Y8;function bte(){if(Y8)return Lw;Y8=1;var e=bx();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(a){i=a});var s=this;this.promise.then(function(l){if(!!s._listeners){var a,x=s._listeners.length;for(a=0;a<x;a++)s._listeners[a](l);s._listeners=null}}),this.promise.then=function(l){var a,x=new Promise(function(S){s.subscribe(S),a=S}).then(l);return x.cancel=function(){s.unsubscribe(a)},x},r(function(a){s.reason||(s.reason=new e(a),i(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(!!this._listeners){var s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}},t.source=function(){var i,s=new t(function(a){i=a});return{token:s,cancel:i}},Lw=t,Lw}var Dw,J8;function wte(){return J8||(J8=1,Dw=function(t){return function(i){return t.apply(null,i)}}),Dw}var Fw,eT;function Ste(){if(eT)return Fw;eT=1;var e=bs;return Fw=function(r){return e.isObject(r)&&r.isAxiosError===!0},Fw}var tT=bs,Cte=XR,Y1=xte,Ete=uL,kte=d4;function pL(e){var t=new Y1(e),r=Cte(Y1.prototype.request,t);return tT.extend(r,Y1.prototype,t),tT.extend(r,t),r.create=function(s){return pL(Ete(e,s))},r}var Du=pL(kte);Du.Axios=Y1;Du.CanceledError=bx();Du.CancelToken=bte();Du.isCancel=sL();Du.VERSION=lL().version;Du.toFormData=oL;Du.AxiosError=G0;Du.Cancel=Du.CanceledError;Du.all=function(t){return Promise.all(t)};Du.spread=wte();Du.isAxiosError=Ste();l4.exports=Du;l4.exports.default=Du;(function(e){e.exports=l4.exports})(KR);const DS=q_(KR.exports),rT=e=>e instanceof Date?e.getTime():typeof e=="number"||e===null||e===void 0?e:Number(e),g4=(e,t,r)=>r>=e&&r<=t,nT=e=>!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function",Tte={Accept:"application/json","Content-Type":"application/json"},Pte={timeout:0},Ite=null,AL="CLIENT_ERROR",Ote="SERVER_ERROR",Mte="TIMEOUT_ERROR",Rte="CONNECTION_ERROR",Lte="NETWORK_ERROR",FS="UNKNOWN_ERROR",Dte="CANCEL_ERROR",Fte=["ERR_BAD_REQUEST"],Bte=["ECONNABORTED"],zte=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],hL=e=>g4(200,299,e),Nte=e=>g4(400,499,e),Ute=e=>g4(500,599,e),jte=e=>e.message==="Network Error"?Lte:DS.isCancel(e)?Dte:e.code?Fte.includes(e.code)?AL:Bte.includes(e.code)?Mte:zte.includes(e.code)?Rte:FS:dL(e.response.status),dL=e=>e?hL(e)?Ite:Nte(e)?AL:Ute(e)?Ote:FS:FS,$te=e=>{const t={...Tte,...e.headers||{}};let r;if(e.axiosInstance)r=e.axiosInstance;else{const Ce={...e,headers:void 0},qe={...Pte,...Ce};r=DS.create(qe)}const i=[],s=Ce=>{i.push(Ce)},l=[],a=[],x=[],S=[],P=Ce=>l.push(Ce),R=Ce=>a.push(Ce),z=Ce=>x.push(Ce),N=Ce=>S.push(Ce),$=(Ce,qe)=>(t[Ce]=qe,r),Z=Ce=>(Object.keys(Ce).forEach(qe=>$(qe,Ce[qe])),r),J=Ce=>(delete t[Ce],r),ae=Ce=>(r.defaults.baseURL=Ce,r),V=()=>r.defaults.baseURL,K=Ce=>(qe,lt={},rt={})=>me({...rt,url:qe,params:lt,method:Ce}),se=Ce=>(qe,lt,rt={})=>me({...rt,url:qe,method:Ce,data:lt}),me=async Ce=>{if(Ce.headers={...t,...Ce.headers},l.length>0&&l.forEach(rt=>rt(Ce)),a.length>0)for(let rt=0;rt<a.length;rt++){const st=a[rt](Ce);nT(st)?await st:typeof st=="function"&&await st(Ce)}const qe=rT(new Date),lt=async rt=>{const st=await ue(qe,rt);return Ae(st)};return r.request(Ce).then(lt).catch(lt)},Ae=Ce=>(i.forEach(qe=>{try{qe(Ce)}catch{}}),Ce),ue=async(Ce,qe)=>{const rt=rT(new Date)-Ce,st=qe instanceof Error||DS.isCancel(qe),wt=qe,St=qe,Wt=st?St.response:wt,fr=Wt&&Wt.status||null,Rt=st?jte(qe):dL(fr),et=st?St:null,Ue=hL(fr||0),Re=qe.config||null,le=Wt&&Wt.headers||null,ye=Wt&&Wt.data||null,Mt={duration:rt,problem:Rt,originalError:et,ok:Ue,status:fr||void 0,headers:le||void 0,config:Re,data:ye};if(x.length>0&&x.forEach(or=>or(Mt)),S.length>0)for(let or=0;or<S.length;or++){const vr=S[or](Mt);nT(vr)?await vr:typeof vr=="function"&&await vr(Mt)}return Mt};return{axiosInstance:r,monitors:i,addMonitor:s,requestTransforms:l,asyncRequestTransforms:a,responseTransforms:x,asyncResponseTransforms:S,addRequestTransform:P,addAsyncRequestTransform:R,addResponseTransform:z,addAsyncResponseTransform:N,setHeader:$,setHeaders:Z,deleteHeader:J,headers:t,setBaseURL:ae,getBaseURL:V,any:me,get:K("get"),delete:K("delete"),head:K("head"),post:se("post"),put:se("put"),patch:se("patch"),link:K("link"),unlink:K("unlink")}},Vte="localhost:3000";function iT(e){const t=window.viteProxyConfig;if(!t||!Object.keys(t).find(i=>e.includes(i)))return e;try{return e.replace(new URL(e).host,Vte)}catch{return e}}const Qm={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"};function Hte(e){switch(e.problem){case"CONNECTION_ERROR":return{kind:"cannot-connect",temporary:!0};case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server",data:e.data};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(e.status){case 401:return{kind:"unauthorized",data:"Not authorized or session has expired."};case 403:return{kind:"forbidden"};case 404:return{kind:"not-found"};default:return{kind:"rejected",data:e.data}}case"CANCEL_ERROR":return{kind:"canceled"};default:return{kind:"unknown",temporary:!0}}}const v1="auth_token",hp=class{constructor({instanceId:t="default",notificationService:r,translationService:i,loginApiPath:s="",refreshTokenApiPath:l="",unauthorizedCallback:a,disableAuth:x=!1,storage:S=window.localStorage,...P}){oi(this,"instanceId");oi(this,"translationService");oi(this,"notificationService");oi(this,"unauthorizedCallback");oi(this,"loginApiPath");oi(this,"refreshTokenApiPath");oi(this,"apiSauceInstance");oi(this,"disableAuth");oi(this,"storage");oi(this,"token","");oi(this,"refreshToken","");oi(this,"tokenWillExpire");oi(this,"checkTokenPromise");oi(this,"expiredTokenCallback");var R,z,N;this.instanceId=t,this.translationService=i,this.notificationService=r,this.loginApiPath=s,this.refreshTokenApiPath=l,this.disableAuth=x,this.storage=S,this.unauthorizedCallback=a,(z=(R=import.meta)==null?void 0:R.env)!=null&&z.DEV&&(P.baseURL=iT((N=P.baseURL)!=null?N:""),this.loginApiPath=iT(this.loginApiPath)),P.headers||(P.headers={}),P.headers["Content-Type"]||(P.headers["Content-Type"]="application/json"),P.headers.Accept||(P.headers.Accept="application/json"),this.apiSauceInstance=$te(P)}static getInstance(t="default"){if(hp.instances[t])return hp.instances[t];throw new Error("You have to initialize api client first!")}static init(t){const r=t.instanceId||"default";if(hp.instances[r])throw new Error(`Api client instance with Id: ${r} already initialized`);return hp.instances[r]=new hp(t),hp.instances[r]}setAuth(t,r){let i;try{i=_ee(t)}catch{return"Can't decode token!"}if(i&&i.exp){const s=new Date(i.exp*1e3);return s>new Date?(this.token=t,this.refreshToken=r,this.tokenWillExpire=s,this.storage.setItem(v1,JSON.stringify({token:t,refreshToken:r})),i):"Wrong token expire time!"}return"Wrong data received!"}async checkAuth(t){this.expiredTokenCallback=t;const r=localStorage.getItem(v1);if(r){const i=JSON.parse(r);if(i.token&&i.refreshToken){const s=this.setAuth(i.token,i.refreshToken);if(typeof s=="string")throw localStorage.removeItem(v1),new Th(this.translationService.t(s),{kind:"bad-data"});return{token:i.token,refreshToken:i.refreshToken,jwtData:s}}}}resetAuth(){this.token="",this.refreshToken="",this.tokenWillExpire=void 0,this.storage.removeItem(v1)}async checkTokenIsExpired(){this.checkTokenPromise||(this.checkTokenPromise=new Promise(async r=>{if(this.tokenWillExpire){const i=this.tokenWillExpire.getTime()-new Date().getTime();if(i<0)return this.resetAuth(),this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1;const s=1e3*60*5;if(i<s){const l=await this.refreshAuthToken();return l&&typeof l!="string"?(r(!0),!0):(this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1)}return r(!0),!0}return this.expiredTokenCallback&&this.expiredTokenCallback(),r(!1),!1}));const t=await this.checkTokenPromise;return this.checkTokenPromise=void 0,t}async processResponse(t,r){if(t.ok)return t.data;this.unauthorizedCallback&&(t.status===401||t.status===403)&&this.unauthorizedCallback();const i=Hte(t);let s="";throw r&&r.messages&&(typeof r.messages!="string"?t.status&&t.status in r.messages&&(s=r.messages[t.status]):s=r.messages),s||(s=hp.parseError(i)),(!r||!r.dontShowErrors)&&this.notificationService.error({title:this.translationService.t("error"),description:this.translationService.t(s)}),new Th(s,i)}static parseError(t){if(t&&"data"in t){const{data:r}=t;if(r!==null){if(Array.isArray(r))return r.map(i=>i.name&&i.message?`${i.name}: ${i.message}`:i).join("<br/>");if(r instanceof Object){if(r.hasOwnProperty("error"))return r.error;if(r.hasOwnProperty("errors")&&Array.isArray(r.errors))return r.errors.reduce((i,s)=>(s.hasOwnProperty("message")&&i.push(s.message),i),[]).join("<br/>")}return String(r)}return"Unknown Error"}switch(t.kind){case"timeout":return Rn.t("errors.timeout");case"cannot-connect":return Rn.t("errors.cannot_connect");case"forbidden":return Rn.t("errors.forbidden");case"not-found":return Rn.t("errors.not_found");case"unknown":return Rn.t("errors.unknown");default:return Rn.t("errors.server_error")}}async checkToken(t){if(!await this.checkTokenIsExpired()){const i={isAxiosError:!1,message:"TOKEN ERROR",name:"Token error",config:t};return{ok:!1,problem:"CLIENT_ERROR",status:401,originalError:{...i,toJSON:()=>i}}}return!1}async login(t,r){var l;const i=new URLSearchParams;i.append("username",t),i.append("password",r),i.append("client_id",to.keycloakClientId),i.append("grant_type","password");const s=await this.apiSauceInstance.post(this.loginApiPath,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s.ok?this.processAuthResponse(s):(l=s.data)==null?void 0:l.error_description}processAuthResponse(t){if(t.ok)if(t.data&&t.data.access_token){const r=this.setAuth(t.data.access_token,t.data.refresh_token);if(typeof r=="string")throw new Th(this.translationService.t(r),{kind:"bad-data"});return{token:t.data.access_token,refreshToken:t.data.refresh_token,jwtData:r}}else throw t.status===204?new Th(this.translationService.t("no_data_received"),{kind:"no-data"}):new Th(this.translationService.t("wrong_data_received"),{kind:"bad-data"})}async logout(){this.resetAuth()}async refreshAuthToken(){var i;const t=new URLSearchParams;t.append("client_id",to.keycloakClientId),t.append("refresh_token",this.refreshToken),t.append("grant_type","refresh_token");const r=await this.apiSauceInstance.post(this.refreshTokenApiPath,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return r.ok?this.processAuthResponse(r):(i=r.data)==null?void 0:i.error_description}async call(t,r,i,s=!this.disableAuth,l){let a;if(l||(l={}),!this.disableAuth&&s&&this.token){const x=await this.checkToken(l);if(x)return await this.processResponse(x,l==null?void 0:l.errorsConfig);(!l.headers||!l.headers.Authorization)&&(l.headers={Authorization:`Bearer ${this.token}`}),a=await this.apiSauceInstance[t](r,i,l)}else a=await this.apiSauceInstance[t](r,i,l);return this.processResponse(a,l==null?void 0:l.errorsConfig)}async get(t,r,i=!this.disableAuth,s){return this.call(Qm.GET,t,r,i,s)}async post(t,r,i=!this.disableAuth,s){return this.call(Qm.POST,t,r,i,s)}async put(t,r,i=!this.disableAuth,s){return this.call(Qm.PUT,t,r,i,s)}async patch(t,r,i=!this.disableAuth,s){return this.call(Qm.PATCH,t,r,i,s)}async delete(t,r=!this.disableAuth,i){return this.call(Qm.DELETE,t,void 0,r,i)}};let xp=hp;oi(xp,"instances",{});let qte=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const J1=Ro({showNotification:(e,t,r)=>({type:e,message:t,lifetimeSec:r}),removeNotification:e=>e},({onAction:e,schedule:t,create:r},i=[])=>(e("showNotification",({type:s,message:l,lifetimeSec:a})=>{const x=qte(4),S=()=>J1.removeNotification.dispatch(x);i=[...i,{id:x,type:s,message:l,lifetimeSec:a,onClose:S}],t(P=>{setTimeout(S,a*1e3)})}),e("removeNotification",s=>i=i.filter(({id:l})=>l!==s)),[...i]),"[Shared state] currentNotificationAtom"),l0=class{constructor(){oi(this,"defaultLifetimeSec",10)}static getInstance(){if(l0.instance)return l0.instance;throw new Error("You have to initialize api client first!")}static init(){l0.instance=new l0}error(t,r){J1.showNotification.dispatch("error",t,r||this.defaultLifetimeSec)}warning(t,r){J1.showNotification.dispatch("warning",t,r||this.defaultLifetimeSec)}info(t,r){J1.showNotification.dispatch("info",t,r||this.defaultLifetimeSec)}};let vg=l0;oi(vg,"instance");function Gte(e){Array.isArray(e)||(e=[e]);const t=e.map(r=>r.subscribe(()=>null));return()=>t.forEach(r=>r())}const v0=H0(new Map,"mountedLayers"),mL=Ro({setMap:e=>e,resetMap:()=>null},({onAction:e,schedule:t},r=null)=>(e("setMap",i=>{r=i,t(s=>{s(v0.clear())})}),e("resetMap",()=>{r=null}),r),"[Shared state] currentMapAtom"),_g=KM(new Set,"hiddenLayers"),Qte=Ro({currentMapAtom:mL},({onChange:e,schedule:t})=>{e("currentMapAtom",(r,i)=>{!i||t(s=>{s([_g.clear(),v0.clear()])})})});function Wte(){Gte([Qte])}vg.init();Wte();const y4=vg.getInstance();xp.init({notificationService:y4,baseURL:to.apiGateway,loginApiPath:`${to.keycloakUrl}/auth/realms/${to.keycloakRealm}/protocol/openid-connect/token`,refreshTokenApiPath:`${to.keycloakUrl}/auth/realms/${to.keycloakRealm}/protocol/openid-connect/token`,translationService:Rn});const Zte=xp.getInstance(),ey=Zte;xp.init({instanceId:"boundaries",notificationService:y4,baseURL:to.boundariesApi,disableAuth:!0,translationService:Rn});xp.getInstance("boundaries");xp.init({instanceId:"reports",notificationService:y4,baseURL:to.reportsApi,disableAuth:!0,translationService:Rn});xp.getInstance("reports");Ro({set:e=>e,reset:()=>null},({onAction:e},t=null)=>(e("set",r=>t={id:r}),e("reset",()=>t=null),t),"[Shared state] currentEpisodeAtom");/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xg(e,t,r,i){function s(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function x(R){try{P(i.next(R))}catch(z){a(z)}}function S(R){try{P(i.throw(R))}catch(z){a(z)}}function P(R){R.done?l(R.value):s(R.value).then(x,S)}P((i=i.apply(e,t||[])).next())})}class Go{constructor(){this.mutex=Promise.resolve()}lock(){let t=()=>{};return this.mutex=this.mutex.then(()=>new Promise(t)),new Promise(r=>{t=r})}dispatch(t){return xg(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(t())}finally{r()}})}}var Bw;function Kte(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const BS=Kte(),zw=(Bw=BS.Buffer)!==null&&Bw!==void 0?Bw:null,Xte=BS.TextEncoder?new BS.TextEncoder:null;function gL(e,t){return(e&15)+(e>>6|e>>3&8)<<4|(t&15)+(t>>6|t>>3&8)}function Yte(e,t){const r=t.length>>1;for(let i=0;i<r;i++){const s=i<<1;e[i]=gL(t.charCodeAt(s),t.charCodeAt(s+1))}}function Jte(e,t){if(e.length!==t.length*2)return!1;for(let r=0;r<t.length;r++){const i=r<<1;if(t[r]!==gL(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}const oT="a".charCodeAt(0)-10,aT="0".charCodeAt(0);function sT(e,t,r){let i=0;for(let s=0;s<r;s++){let l=t[s]>>>4;e[i++]=l>9?l+oT:l+aT,l=t[s]&15,e[i++]=l>9?l+oT:l+aT}return String.fromCharCode.apply(null,e)}const uT=zw!==null?e=>{if(typeof e=="string"){const t=zw.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(zw.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if(typeof e=="string")return Xte.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},lT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ig=new Uint8Array(256);for(let e=0;e<lT.length;e++)ig[lT.charCodeAt(e)]=e;function ere(e){let t=Math.floor(e.length*.75);const r=e.length;return e[r-1]==="="&&(t-=1,e[r-2]==="="&&(t-=1)),t}function tre(e){const t=ere(e),r=e.length,i=new Uint8Array(t);let s=0;for(let l=0;l<r;l+=4){const a=ig[e.charCodeAt(l)],x=ig[e.charCodeAt(l+1)],S=ig[e.charCodeAt(l+2)],P=ig[e.charCodeAt(l+3)];i[s]=a<<2|x>>4,s+=1,i[s]=(x&15)<<4|S>>2,s+=1,i[s]=(S&3)<<6|P&63,s+=1}return i}const _1=16*1024,Wm=4,rre=new Go,Nw=new Map;function nre(e,t){return xg(this,void 0,void 0,function*(){let r=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const l=(ue,Se=0)=>{i.set(ue,Se)},a=()=>i,x=()=>r.exports,S=ue=>{r.exports.Hash_SetMemorySize(ue);const Se=r.exports.Hash_GetBuffer(),Ce=r.exports.memory.buffer;i=new Uint8Array(Ce,Se,ue)},P=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),R=rre.dispatch(()=>xg(this,void 0,void 0,function*(){if(!Nw.has(e.name)){const Se=tre(e.data),Ce=WebAssembly.compile(Se);Nw.set(e.name,Ce)}const ue=yield Nw.get(e.name);r=yield WebAssembly.instantiate(ue,{})})),z=()=>xg(this,void 0,void 0,function*(){r||(yield R);const ue=r.exports.Hash_GetBuffer(),Se=r.exports.memory.buffer;i=new Uint8Array(Se,ue,_1)}),N=(ue=null)=>{s=!0,r.exports.Hash_Init(ue)},$=ue=>{let Se=0;for(;Se<ue.length;){const Ce=ue.subarray(Se,Se+_1);Se+=Ce.length,i.set(Ce),r.exports.Hash_Update(Ce.length)}},Z=ue=>{if(!s)throw new Error("update() called before init()");const Se=uT(ue);$(Se)},J=new Uint8Array(t*2),ae=(ue,Se=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,r.exports.Hash_Final(Se),ue==="binary"?i.slice(0,t):sT(J,i,t)},V=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const ue=r.exports.Hash_GetState(),Se=P(),Ce=r.exports.memory.buffer,qe=new Uint8Array(Ce,ue,Se),lt=new Uint8Array(Wm+Se);return Yte(lt,e.hash),lt.set(qe,Wm),lt},K=ue=>{if(!(ue instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const Se=r.exports.Hash_GetState(),Ce=P(),qe=Wm+Ce,lt=r.exports.memory.buffer;if(ue.length!==qe)throw new Error(`Bad state length (expected ${qe} bytes, got ${ue.length})`);if(!Jte(e.hash,ue.subarray(0,Wm)))throw new Error("This state was written by an incompatible hash implementation");const rt=ue.subarray(Wm);new Uint8Array(lt,Se,Ce).set(rt),s=!0},se=ue=>typeof ue=="string"?ue.length<_1/4:ue.byteLength<_1;let me=se;switch(e.name){case"argon2":case"scrypt":me=()=>!0;break;case"blake2b":case"blake2s":me=(ue,Se)=>Se<=512&&se(ue);break;case"blake3":me=(ue,Se)=>Se===0&&se(ue);break;case"xxhash64":case"xxhash3":case"xxhash128":me=()=>!1;break}const Ae=(ue,Se=null,Ce=null)=>{if(!me(ue,Se))return N(Se),Z(ue),ae("hex",Ce);const qe=uT(ue);return i.set(qe),r.exports.Hash_Calculate(qe.length,Se,Ce),sT(J,i,t)};return yield z(),{getMemory:a,writeMemory:l,getExports:x,setMemorySize:S,init:N,update:Z,digest:ae,save:V,load:K,calculate:Ae,hashLength:t}})}function ire(e,t,r){return xg(this,void 0,void 0,function*(){const i=yield e.lock(),s=yield nre(t,r);return i(),s})}new Go;new Go;new Go;new Go;var ore="crc32",are="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",sre="749723dc",ure={name:ore,data:are,hash:sre};const lre=new Go;let x1=null;function cre(e){if(x1===null)return ire(lre,ure,4).then(t=>(x1=t,x1.calculate(e,3988292384)));try{const t=x1.calculate(e,3988292384);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;new Go;const Sy=H0(new Map,"layersSettings");function fre(e,t){const r=new Blob([JSON.stringify(e)],{type:"json"}),i=document.createElement("a"),s=URL.createObjectURL(r);i.href=s,i.download=t,document.body.appendChild(i),i.click(),clearTimeout(setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)},0))}const Lh=KM(new Set,"enabledLayers"),v4=H0(new Map,"layersLegends"),yL=H0(new Map,"layersMeta"),vL=H0(new Map,"layersSources"),_L=H0(new Map,"layersMenus");function Qd(e){if(e&&typeof e=="object"){const t=Object.getOwnPropertyNames(e);for(const r of t){const i=e[r];Qd(i)}return Object.freeze(e)}return e}const pre="bivariate-layer-",Are="bivariate-source-",hre={overlay:{name:Rn.t("categories.overlays"),openByDefault:!0,mutuallyExclusive:!1,order:1},base:{name:Rn.t("categories.basemap"),openByDefault:!1,mutuallyExclusive:!0,order:2}},dre={layersInSelectedArea:{name:Rn.t("groups.layers_in_selected_area"),openByDefault:!0,mutuallyExclusive:!1,order:0},user_layers:{name:Rn.t("groups.your_layers"),openByDefault:!0,mutuallyExclusive:!1,order:1},bivariate:{name:Rn.t("groups.kontur_analytics"),openByDefault:!0,mutuallyExclusive:!0,order:2},qa:{name:Rn.t("groups.qa"),openByDefault:!0,mutuallyExclusive:!1,order:3},osmbasedmap:{name:Rn.t("groups.osmbasedmap"),openByDefault:!1,mutuallyExclusive:!1,order:4},other:{name:Rn.t("groups.other"),openByDefault:!1,mutuallyExclusive:!1,order:999},elevation:{name:Rn.t("groups.elevation"),openByDefault:!0,mutuallyExclusive:!1},photo:{name:Rn.t("groups.photo"),openByDefault:!0,mutuallyExclusive:!1},map:{name:Rn.t("groups.map"),openByDefault:!0,mutuallyExclusive:!1}},mre=dre,gre=new Proxy(mre,{get(e,t,r){const i=Reflect.get(e,t,r);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,r,i){return Reflect.set(e,t,r,i)}}),yre=Ro({},({},e=gre)=>e,"layersGroupsSettingsAtom"),vre=hre,_re=new Proxy(vre,{get(e,t,r){const i=Reflect.get(e,t,r);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,r,i){return Reflect.set(e,t,r,i)}}),xre=Ro({},({},e=_re)=>e,"layersCategoriesSettingsAtom"),bre=(()=>{let e=null;yre.subscribe(s=>e=s);let t=null;xre.subscribe(s=>t=s);let r=null;Lh.subscribe(s=>r=s);let i=null;return Sy.subscribe(s=>i=s),s=>{var R,z,N,$;if(!e||!t||!r||!i)return[];const l=(R=s.settings)==null?void 0:R.category,a=(z=s.settings)==null?void 0:z.group,x=l&&((N=t[l])==null?void 0:N.mutuallyExclusive),S=a&&(($=e[a])==null?void 0:$.mutuallyExclusive);if(!x&&!S)return[];const P=new Set;return r.forEach(Z=>{var ae,V;if(s.id===Z)return;const J=i.get(Z);!J||(x?((ae=J.data)==null?void 0:ae.category)===l&&P.add(Z):S&&((V=J.data)==null?void 0:V.group)===a&&P.add(Z))}),Array.from(P).map(Z=>Lh.delete(Z))}})(),wre={enable:()=>null,disable:()=>null,hide:()=>null,show:()=>null,download:()=>null,destroy:()=>null};function Sre(e,t,r,i){let s=!1;const l=Ro({...wre,layersSettingsAtom:Sy,layersLegendsAtom:v4,layersMetaAtom:yL,layersSourcesAtom:vL,enabledLayersAtom:Lh,mountedLayersAtom:v0,hiddenLayersAtom:_g,layersMenusAtom:_L},({get:a,onAction:x,getUnlistedState:S,onInit:P,schedule:R,onChange:z},N={id:e,error:null,isEnabled:!1,isLoading:!1,isMounted:!1,isVisible:!0,isDownloadable:!1,settings:null,meta:null,legend:null,source:null,contextMenu:null})=>{var Ce,qe,lt,rt,st,wt;const $=[],Z=i||S(mL),J={isLoading:!1,data:null,error:null},ae=(Ce=a("layersSettingsAtom").get(e))!=null?Ce:J,V=(qe=a("layersMetaAtom").get(e))!=null?qe:J,K=(lt=a("layersLegendsAtom").get(e))!=null?lt:J,se=(rt=a("layersSourcesAtom").get(e))!=null?rt:J,me=(st=a("layersMenusAtom").get(e))!=null?st:null,Ae={id:N.id,error:N.error,isLoading:[ae,V,K,se].some(St=>St.isLoading),isEnabled:a("enabledLayersAtom").has(e),isMounted:a("mountedLayersAtom").has(e),isVisible:!a("hiddenLayersAtom").has(e),isDownloadable:((wt=se.data)==null?void 0:wt.source.type)==="geojson",settings:Qd(ae.data),meta:Qd(V.data),legend:Qd(K.data),source:Qd(se.data),contextMenu:Qd(me)};P(()=>{try{t.willInit({map:Z,state:{...Ae}})}catch(St){console.error(St),Ae.error=St}}),x("enable",()=>{Ae.isEnabled=!0,$.push(Lh.set(e),...bre(N))}),x("disable",()=>{Ae.isEnabled=!1,$.push(Lh.delete(e))}),x("hide",()=>{if(!!Z)try{t.willHide({map:Z,state:{...Ae}}),Ae.isVisible=!1,$.push(_g.set(e))}catch(St){console.error(St),Ae.error=St}}),x("show",()=>{if(!!Z)try{t.willUnhide({map:Z,state:{...Ae}}),Ae.isVisible=!0,$.push(_g.delete(e))}catch(St){console.error(St),Ae.error=St}}),x("download",()=>{var St,Wt;try{if(!N.isDownloadable)return;if(!((St=N.source)!=null&&St.source)){console.error("Download failed, source unavailable");return}fre(N.source.source,`${((Wt=N.settings)==null?void 0:Wt.name)||N.id||"Disaster Ninja map layer"}-${new Date().toISOString()}.json`)}catch(fr){console.error(fr),Ae.error=fr}});const ue=!s&&Ae.isEnabled!==Ae.isMounted;if(!(N.isMounted!==Ae.isMounted)&&ue&&!Ae.isLoading)try{Ae.isMounted?Z&&(t.willUnMount({map:Z,state:{...Ae}}),Ae.isMounted=!1,$.push(v0.delete(e))):Z&&(t.willMount({map:Z,state:{...Ae}}),Ae.isMounted=!0,$.push(v0.set(e,l)))}catch(St){console.error(St),Ae.error=St}return N.isMounted&&Ae.isMounted&&(N.legend!==Ae.legend&&Z&&t.willLegendUpdate({map:Z,state:{...Ae}}),N.source!==Ae.source&&Z&&t.willSourceUpdate({map:Z,state:{...Ae}})),x("destroy",()=>{s=!0;try{t.willDestroy({map:Z,state:{...Ae}}),S(r).has(N.id)&&$.push(r.unregister(N.id,{notifyLayerAboutDestroy:!1}))}catch(St){console.error(St),Ae.error=St}}),$.length&&R(St=>St($)),Ae},{id:e,decorators:[GR()]});return l}const cT=new WeakMap,fT=new WeakMap,Cre=()=>{const e=Ro({register:t=>Array.isArray(t)?t:[t],unregister:(t,{notifyLayerAboutDestroy:r}={})=>({ids:Array.isArray(t)?t:[t],notifyLayerAboutDestroy:r}),_delete:t=>Array.isArray(t)?t:[t]},({onAction:t,create:r,schedule:i},s=new Map)=>(t("register",l=>{const a=new Map(s);l.forEach(({id:x,renderer:S,cleanUpActions:P,map:R})=>{const z=Sre(x,S,e,R);a.set(x,z),P&&cT.set(z,P),fT.set(z,z.subscribe(()=>null))}),s=a}),t("unregister",({ids:l,notifyLayerAboutDestroy:a})=>{l.forEach(x=>{const S=s.get(x);S?i(P=>{fT.get(S)();const z=[...cT.get(S)||[],v0.delete(x),_g.delete(x),a&&S.destroy(),r("_delete",x)].filter(N=>Boolean(N));P(z)}):console.error(`Attempt unregister not existing layer with id: ${x}`)})}),t("_delete",l=>{const a=new Map(s);l.forEach(x=>{a.delete(x)}),s=a}),s),"layersRegistry");return e},Wd=Cre(),zS="public",pT={id:zS,osmEditor:to.osmEditors[0].id,defaultFeed:to.defaultFeedObject.feed,useMetricUnits:!0},Ere={username:"",email:"",fullName:"",language:"en",useMetricUnits:!0,subscribedToKonturUpdates:!1,bio:"",osmEditor:to.osmEditors[0].id,defaultFeed:to.defaultFeedObject.feed,theme:"kontur"},R0=Ro({setUser:e=>e},({onAction:e,schedule:t,getUnlistedState:r},i=pT)=>(e("setUser",s=>{s?i=s:i=pT,i={...Ere,...i};const l=Array.from(r(Sy)).filter(([,S])=>{var P;return(P=S==null?void 0:S.data)==null?void 0:P.ownedByUser}).map(([S])=>S);if(!l.length)return;const a=Array.from(r(Wd)).filter(([S])=>l.includes(S)).map(([S,P])=>P);if(!a.length)return;const x=a.map(S=>S.destroy());t(S=>{S(x)})}),i),"[Shared state] currentUserAtom"),xL=Ro({setFocusedGeometry:(e,t)=>({source:e,geometry:t}),_update:e=>e,currentUserAtom:R0},({onAction:e,schedule:t,create:r,getUnlistedState:i,onChange:s},l=null)=>(e("setFocusedGeometry",({source:a,geometry:x})=>{const S=i(R0);a&&x?t(async(P,R)=>{const z=await cre(JSON.stringify({geometry:x,source:a,user:S}));(!l||!R.hash||R.hash!==z)&&(R.hash=z,P(r("_update",{source:a,geometry:x})))}):l=null}),e("_update",a=>{l=a}),s("currentUserAtom",()=>{var a;l&&((a=l.source)==null?void 0:a.type)!=="event"&&(l={...l})}),l),"[Shared state] focusedGeometryAtom"),kre=Ro({setCurrentEventId:e=>e,focusedGeometryAtom:xL},({onAction:e,onChange:t},r=null)=>(t("focusedGeometryAtom",i=>{const s=i==null?void 0:i.source;s&&s.type!=="event"&&s.type!=="episode"&&(r={id:null})}),e("setCurrentEventId",i=>r={id:i}),r),"[Shared state] currentEventAtom"),Tre=JE(!1,"scheduledAutoSelect");JE(!1,"scheduledAutoFocus");const bL=yq(null,null,"[Shared state] currentApplicationAtom");u4(bL,async(e,t)=>e?await ey.get(`/apps/${e}`,void 0,!1,{signal:t.signal,errorsConfig:{dontShowErrors:!0}}):null,"app params atom");class Pre{constructor({features:t,feeds:r}){oi(this,"_features",{});oi(this,"_feeds",[]);this._features=t,this._feeds=r}get defaultFeed(){var t;return(t=this._feeds)==null?void 0:t.find(r=>r.default)}checkFeed(t){var i,s,l;if(!t)return(i=this.defaultFeed)==null?void 0:i.feed;const r=(s=this._feeds)==null?void 0:s.find(a=>a.feed===t);return r?r.feed:(l=this.defaultFeed)==null?void 0:l.feed}hasFeature(t){return this._features&&this._features[t]===!0}getActiveFeatures(){return Object.entries(this._features).reduce((t,[r,i])=>(i===!0&&t.add(r),t),new Set)}get feeds(){return this._feeds}}const Ire=Ro({currentUserAtom:R0,currentApplicationAtom:bL},({get:e},t=null)=>{const r=e("currentApplicationAtom"),i=e("currentUserAtom");return r?{userData:i,applicationId:r}:null},"userResourceRequestParamsAtom"),_4=u4(Ire,async(e,t)=>{const{userData:r,applicationId:i}=e,s=ey.get("/features",{appId:i},(r==null?void 0:r.id)!==zS,{signal:t.signal,errorsConfig:{dontShowErrors:!0}});let l;(r==null?void 0:r.id)===zS?l=(async()=>[to.defaultFeedObject])():l=ey.get("/events/user_feeds",void 0,!0);const[a,x]=await Promise.allSettled([s,l]);let S={};a.status==="fulfilled"&&Array.isArray(a.value)?a.value.forEach(z=>{S[z.name]=!0}):a.status==="rejected"&&(console.error("Feature api call failed. Applying default features..."),to.featuresByDefault.reduce((z,N)=>(z[N]=!0,z),S));let P=null;if(x.status==="fulfilled"&&Array.isArray(x.value)&&x.value.length>0?P=[...x.value]:x.status==="rejected"&&(console.error("User feeds call failed. Applying default feed..."),P=[to.defaultFeedObject]),{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_FEATURES_CONFIG)try{const z=JSON.parse({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_FEATURES_CONFIG);z&&(S={...S,...z})}catch{}return new Pre({features:S,feeds:P})},"userResourceAtom");Ro({setCurrentFeed:e=>e,setFeedForExistingEvent:e=>e,resetCurrentFeed:()=>null,userResourceAtom:_4},({onAction:e,onChange:t,schedule:r,getUnlistedState:i},s=null)=>(e("setCurrentFeed",l=>{(s==null?void 0:s.id)!==l&&(s={id:l})}),e("resetCurrentFeed",()=>{s&&(s=null)}),t("userResourceAtom",({data:l,loading:a,error:x})=>{if(!a&&!x&&l&&l.feeds&&l.feeds.length){const S=l.checkFeed(s==null?void 0:s.id);S!==void 0&&S!==(s==null?void 0:s.id)&&(s={id:S},i(kre)!==null&&r(R=>R(Tre.setTrue())))}}),s),"[Shared state] currentEventFeedAtom");Ro({setCurrentMapPosition:e=>e},({onAction:e,schedule:t},r=null)=>{const i=r;return e("setCurrentMapPosition",({lat:s,lng:l,zoom:a})=>{r===null&&(r={lat:s,lng:l,zoom:a}),(r.lat!==s||r.lng!==l||r.zoom!==a)&&(r={lat:s,lng:l,zoom:a})}),r!==i&&t(s=>s(Ore.setFalse())),r},"[Shared state] currentMapPositionAtom");const Ore=JE(!1,"mapIdle"),Mre={click:[],mousemove:[]};function AT(e,t,r=50){return hT.addMapListener.dispatch(e,t,r),()=>{hT.removeMapListener.dispatch(e,t)}}const hT=Ro({addMapListener:(e,t,r)=>({eventType:e,listener:t,priority:r}),removeMapListener:(e,t)=>({eventType:e,listener:t})},({onAction:e},t=Mre)=>(e("addMapListener",({eventType:r,listener:i,priority:s})=>{const l=[...t[r]];if(!l.length)l.push({listener:i,priority:s});else for(let a=0;a<l.length;a++){const x=l[a];if(s<x.priority){l.splice(a,0,{listener:i,priority:s});break}else if(x.priority===s){l.splice(a+1,0,{listener:i,priority:s});break}else if(l[a+1]){if(s>x.priority&&s<l[a+1].priority){l.splice(a+1,0,{listener:i,priority:s});break}}else{l.push({listener:i,priority:s});break}}t={...t,[r]:l}}),e("removeMapListener",({eventType:r,listener:i})=>t[r]=t[r].filter(s=>s.listener!==i)),t),"[Shared state] mapListenersAtom");Ro({addControl:e=>e,removeControl:e=>e,toggleActiveState:e=>e,enable:e=>e,disable:e=>e,reset:()=>null,currentUserAtom:R0},({onAction:e,onChange:t,schedule:r,create:i},s={})=>(t("currentUserAtom",(l,a)=>{a!==void 0&&r(x=>{x(i("reset"))})}),e("addControl",l=>{s={...s,[l.id]:l}}),e("removeControl",l=>{delete s[l],s={...s}}),e("enable",l=>{var R;const a=s[l];(R=a.onChange)==null||R.call(a,!0);const x={...s[l],active:!0},S={...s,[l]:x},P=[];Object.entries(S).forEach(([z,N])=>{if(N.id!==l&&N.exclusiveGroup===a.exclusiveGroup&&N.active){const $=i("disable",N.id);P.push($)}}),P.length&&r(z=>{z(P)}),s=S}),e("disable",l=>{var S;const a=s[l];(S=a==null?void 0:a.onChange)==null||S.call(a,!1);const x={...s[l],active:!1};s={...s,[l]:x}}),e("toggleActiveState",l=>{if(!s[l])return console.error(`[toolbarControlsAtom] Cannot toggle state for ${l} because it doesn't exist`);const x=i(s[l].active?"disable":"enable",l);r(S=>S(x))}),e("reset",()=>{Object.entries(s).forEach(([l,a])=>{var x;a.active&&((x=a.onChange)==null||x.call(a,!1))}),s={}}),s),"[Shared state] toolbarControlsAtom");Ro({open:()=>null,close:()=>null},({onAction:e},t={isOpen:!1})=>(e("open",()=>t={...t,isOpen:!0}),e("close",()=>t={...t,isOpen:!1}),t),"episodesPanelState");const Rre=[["count","area_km2"],["building_count","area_km2"],["highway_length","area_km2"],["local_hours","area_km2"],["avgmax_ts","one"],["days_mintemp_above_25c_1c","one"],["population","area_km2"],["total_hours","area_km2"],["view_count","area_km2"]];function wL(e){const t=Array.isArray(e)?[]:{};for(const r in e){const i=e[r];i&&typeof i=="object"?t[r]=wL(i):t[r]=i}return t}var NT;const Lre=(NT=window.structuredClone)!=null?NT:wL;function SL(e){const t=Lre(e);return"properties"in t&&(t.properties={}),"features"in t&&t.features.length&&t.features.forEach(r=>SL(r)),t}function CL(e){return!e||!e.geometry||e.geometry.type==="FeatureCollection"&&!e.geometry.features.length}function Dre(e){const t={importantLayers:Rre};return e&&!CL(e)&&(t.geoJSON=SL(e==null?void 0:e.geometry)),t}function Fre(e){if(e.hasOwnProperty("errors")&&Array.isArray(e.errors))return e.errors.reduce((t,r)=>(r.hasOwnProperty("message")&&t.push(r.message),t),[]).join("<br/>")}let b1;const EL=u4(xL,async(e,t)=>{if(!e&&b1)return b1;let r;try{const i=Dre(e);r=await ey.post("/bivariate_matrix",i,!0,{signal:t.signal,errorsConfig:{dontShowErrors:!0}})}catch(i){if(QR(i)&&i.problem.kind==="canceled")return null;throw i}if(!r)throw new Error(Rn.t("no_data_received"));if(!(r!=null&&r.data)){const i=Fre(r);throw new Error(i||Rn.t("no_data_received"))}return CL(e)&&!b1&&(b1=r.data),r.data},"bivariateStatisticsResource");var Ct=Ct||{};Ct.Geometry=function(){};Ct.Geometry.intersectLineLine=function(e,t){var r=(e.intercept-t.intercept)/(t.slope-e.slope),i=e.slope*r+e.intercept;return{x:r,y:i}};Ct.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))};Ct.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)};Ct.Geometry.perpendicularThroughPoint=function(e,t){var r=-1/e.slope,i=t.y-r*t.x;return{slope:r,intercept:i}};Ct.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)};Ct.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t};Ct.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))};Ct.Hsluv=function(){};Ct.Hsluv.getBounds=function(e){for(var t=[],r=Math.pow(e+16,3)/1560896,i=r>Ct.Hsluv.epsilon?r:e/Ct.Hsluv.kappa,s=0;s<3;)for(var l=s++,a=Ct.Hsluv.m[l][0],x=Ct.Hsluv.m[l][1],S=Ct.Hsluv.m[l][2],P=0;P<2;){var R=P++,z=(284517*a-94839*S)*i,N=(838422*S+769860*x+731718*a)*e*i-769860*R*e,$=(632260*S-126452*x)*i+126452*R;t.push({slope:z/$,intercept:N/$})}return t};Ct.Hsluv.maxSafeChromaForL=function(e){for(var t=Ct.Hsluv.getBounds(e),r=1/0,i=0;i<t.length;){var s=t[i];++i;var l=Ct.Geometry.distanceLineFromOrigin(s);r=Math.min(r,l)}return r};Ct.Hsluv.maxChromaForLH=function(e,t){for(var r=t/360*Math.PI*2,i=Ct.Hsluv.getBounds(e),s=1/0,l=0;l<i.length;){var a=i[l];++l;var x=Ct.Geometry.lengthOfRayUntilIntersect(r,a);x>=0&&(s=Math.min(s,x))}return s};Ct.Hsluv.dotProduct=function(e,t){for(var r=0,i=0,s=e.length;i<s;){var l=i++;r+=e[l]*t[l]}return r};Ct.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055};Ct.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92};Ct.Hsluv.xyzToRgb=function(e){return[Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[0],e)),Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[1],e)),Ct.Hsluv.fromLinear(Ct.Hsluv.dotProduct(Ct.Hsluv.m[2],e))]};Ct.Hsluv.rgbToXyz=function(e){var t=[Ct.Hsluv.toLinear(e[0]),Ct.Hsluv.toLinear(e[1]),Ct.Hsluv.toLinear(e[2])];return[Ct.Hsluv.dotProduct(Ct.Hsluv.minv[0],t),Ct.Hsluv.dotProduct(Ct.Hsluv.minv[1],t),Ct.Hsluv.dotProduct(Ct.Hsluv.minv[2],t)]};Ct.Hsluv.yToL=function(e){return e<=Ct.Hsluv.epsilon?e/Ct.Hsluv.refY*Ct.Hsluv.kappa:116*Math.pow(e/Ct.Hsluv.refY,.3333333333333333)-16};Ct.Hsluv.lToY=function(e){return e<=8?Ct.Hsluv.refY*e/Ct.Hsluv.kappa:Ct.Hsluv.refY*Math.pow((e+16)/116,3)};Ct.Hsluv.xyzToLuv=function(e){var t=e[0],r=e[1],i=e[2],s=t+15*r+3*i,l=4*t,a=9*r;s!=0?(l/=s,a/=s):(l=NaN,a=NaN);var x=Ct.Hsluv.yToL(r);if(x==0)return[0,0,0];var S=13*x*(l-Ct.Hsluv.refU),P=13*x*(a-Ct.Hsluv.refV);return[x,S,P]};Ct.Hsluv.luvToXyz=function(e){var t=e[0],r=e[1],i=e[2];if(t==0)return[0,0,0];var s=r/(13*t)+Ct.Hsluv.refU,l=i/(13*t)+Ct.Hsluv.refV,a=Ct.Hsluv.lToY(t),x=0-9*a*s/((s-4)*l-s*l),S=(9*a-15*l*a-l*x)/(3*l);return[x,a,S]};Ct.Hsluv.luvToLch=function(e){var t=e[0],r=e[1],i=e[2],s=Math.sqrt(r*r+i*i),l;if(s<1e-8)l=0;else{var a=Math.atan2(i,r);l=a*180/Math.PI,l<0&&(l=360+l)}return[t,s,l]};Ct.Hsluv.lchToLuv=function(e){var t=e[0],r=e[1],i=e[2],s=i/360*2*Math.PI,l=Math.cos(s)*r,a=Math.sin(s)*r;return[t,l,a]};Ct.Hsluv.hsluvToLch=function(e){var t=e[0],r=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=Ct.Hsluv.maxChromaForLH(i,t),l=s/100*r;return[i,l,t]};Ct.Hsluv.lchToHsluv=function(e){var t=e[0],r=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=Ct.Hsluv.maxChromaForLH(t,i),l=r/s*100;return[i,l,t]};Ct.Hsluv.hpluvToLch=function(e){var t=e[0],r=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=Ct.Hsluv.maxSafeChromaForL(i),l=s/100*r;return[i,l,t]};Ct.Hsluv.lchToHpluv=function(e){var t=e[0],r=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=Ct.Hsluv.maxSafeChromaForL(t),l=r/s*100;return[i,l,t]};Ct.Hsluv.rgbToHex=function(e){for(var t="#",r=0;r<3;){var i=r++,s=e[i],l=Math.round(s*255),a=l%16,x=(l-a)/16|0;t+=Ct.Hsluv.hexChars.charAt(x)+Ct.Hsluv.hexChars.charAt(a)}return t};Ct.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],r=0;r<3;){var i=r++,s=Ct.Hsluv.hexChars.indexOf(e.charAt(i*2+1)),l=Ct.Hsluv.hexChars.indexOf(e.charAt(i*2+2)),a=s*16+l;t.push(a/255)}return t};Ct.Hsluv.lchToRgb=function(e){return Ct.Hsluv.xyzToRgb(Ct.Hsluv.luvToXyz(Ct.Hsluv.lchToLuv(e)))};Ct.Hsluv.rgbToLch=function(e){return Ct.Hsluv.luvToLch(Ct.Hsluv.xyzToLuv(Ct.Hsluv.rgbToXyz(e)))};Ct.Hsluv.hsluvToRgb=function(e){return Ct.Hsluv.lchToRgb(Ct.Hsluv.hsluvToLch(e))};Ct.Hsluv.rgbToHsluv=function(e){return Ct.Hsluv.lchToHsluv(Ct.Hsluv.rgbToLch(e))};Ct.Hsluv.hpluvToRgb=function(e){return Ct.Hsluv.lchToRgb(Ct.Hsluv.hpluvToLch(e))};Ct.Hsluv.rgbToHpluv=function(e){return Ct.Hsluv.lchToHpluv(Ct.Hsluv.rgbToLch(e))};Ct.Hsluv.hsluvToHex=function(e){return Ct.Hsluv.rgbToHex(Ct.Hsluv.hsluvToRgb(e))};Ct.Hsluv.hpluvToHex=function(e){return Ct.Hsluv.rgbToHex(Ct.Hsluv.hpluvToRgb(e))};Ct.Hsluv.hexToHsluv=function(e){return Ct.Hsluv.rgbToHsluv(Ct.Hsluv.hexToRgb(e))};Ct.Hsluv.hexToHpluv=function(e){return Ct.Hsluv.rgbToHpluv(Ct.Hsluv.hexToRgb(e))};Ct.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];Ct.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];Ct.Hsluv.refY=1;Ct.Hsluv.refU=.19783000664283;Ct.Hsluv.refV=.46831999493879;Ct.Hsluv.kappa=903.2962962;Ct.Hsluv.epsilon=.0088564516;Ct.Hsluv.hexChars="0123456789abcdef";var Bre={hsluvToRgb:Ct.Hsluv.hsluvToRgb,rgbToHsluv:Ct.Hsluv.rgbToHsluv,hpluvToRgb:Ct.Hsluv.hpluvToRgb,rgbToHpluv:Ct.Hsluv.rgbToHpluv,hsluvToHex:Ct.Hsluv.hsluvToHex,hexToHsluv:Ct.Hsluv.hexToHsluv,hpluvToHex:Ct.Hsluv.hpluvToHex,hexToHpluv:Ct.Hsluv.hexToHpluv,lchToHpluv:Ct.Hsluv.lchToHpluv,hpluvToLch:Ct.Hsluv.hpluvToLch,lchToHsluv:Ct.Hsluv.lchToHsluv,hsluvToLch:Ct.Hsluv.hsluvToLch,lchToLuv:Ct.Hsluv.lchToLuv,luvToLch:Ct.Hsluv.luvToLch,xyzToLuv:Ct.Hsluv.xyzToLuv,luvToXyz:Ct.Hsluv.luvToXyz,xyzToRgb:Ct.Hsluv.xyzToRgb,rgbToXyz:Ct.Hsluv.rgbToXyz,lchToRgb:Ct.Hsluv.lchToRgb,rgbToLch:Ct.Hsluv.rgbToLch},up=Bre;function kL(e){var i;const t=/https?:/;t.test(e)?e=window.location.protocol+e.replace(t,""):e=`${(i=to.bivariateTilesServer)!=null?i:`${window.location.protocol}${window.location.host}${to.baseUrl}`}${e}`,e=e.replace("{bbox}","{bbox-epsg-3857}").replace("{proj}","EPSG:3857").replace("{width}","256").replace("{height}","256").replace("{zoom}","{z}").replace("{-y}","{y}");const r=(e.match(/{switch:(.*?)}/)||["",""])[1].split(",")[0];return e=e.replace(/{switch:(.*?)}/,r),e}function zre(e,t){return e+(((t-e)%360+540)%360-180)*.5}function dT(e,t){return(e+t)/2}function Zm(e,t){return[zre(e[0],t[0]),dT(e[1],t[1]),dT(e[2],t[2])]}function lp(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const r=parseInt(`0x${t.join("")}`,0);return`rgba(${[r>>16&255,r>>8&255,r&255].join(",")},0.5)`}throw new Error("Bad Hex")}function w1(e,t){const r=(Array.isArray(t[0])?[...t[0]]:[t[0]]).sort(),i=(Array.isArray(t[1])?[...t[1]]:[t[1]]).sort(),s=Array.from(new Set(r.concat(i))),l=e.combinations.find(({corner:a})=>{if(s.length!==a.length)return!1;for(let x=0;x<s.length;x+=1)if(s[x]!==a[x])return!1;return!0});return l!=null&&l.color?{color:l.color}:{color:e.fallback,isFallbackColor:!0}}function Nre(e,t,r,i,s){var Z,J;const{indicators:l,colors:a,axis:x}=s,S=x.find(ae=>ae.quotient[0]===e&&ae.quotient[1]===t),P=x.find(ae=>ae.quotient[0]===r&&ae.quotient[1]===i);if(!S||!P)return;const R=(Z=l.find(ae=>ae.name===e))==null?void 0:Z.direction,z=(J=l.find(ae=>ae.name===r))==null?void 0:J.direction;if(!R||!z)return;const N=jre(a,R,z),$=Ure(S,P,N,s==null?void 0:s.meta);return[N,$]}const Ure=(e,t,r,i)=>HR({id:`${e.quotient.join("&")}|${t.quotient.join("&")}`,x:e,y:t,colors:r,sourceLayer:"stats",source:{type:"vector",tiles:[`${kL(to.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${to.bivariateTilesIndicatorsClass}`],maxzoom:i.max_zoom,minzoom:0}}),jre=(e,t,r)=>{const i=w1(e,[t[0],r[0]]),s=w1(e,[t[1],r[0]]),l=w1(e,[t[0],r[1]]),a=w1(e,[t[1],r[1]]),x=up.hexToHsluv(i.color),S=up.hexToHsluv(s.color),P=up.hexToHsluv(l.color),R=up.hexToHsluv(a.color),z=Zm(x,P),N=Zm(x,S),$=Zm(P,R),Z=Zm(S,R),J=Zm(N,$);return[{id:"A1",color:lp(i.color),isFallbackColor:i.isFallbackColor},{id:"A2",color:lp(up.hsluvToHex(z))},{id:"A3",color:lp(l.color),isFallbackColor:l.isFallbackColor},{id:"B1",color:lp(up.hsluvToHex(N))},{id:"B2",color:lp(up.hsluvToHex(J))},{id:"B3",color:lp(up.hsluvToHex($))},{id:"C1",color:lp(s.color),isFallbackColor:s.isFallbackColor},{id:"C2",color:lp(up.hsluvToHex(Z))},{id:"C3",color:lp(a.color),isFallbackColor:a.isFallbackColor}]};function $re(e){return HR({id:`${e.axis.x.quotient.join("&")}|${e.axis.y.quotient.join("&")}`,x:e.axis.x,y:e.axis.y,colors:[...e.steps].sort((t,r)=>t.label>r.label?1:-1).map(t=>({id:t.label,color:t.color})),sourceLayer:"stats"})}function Vre(e,t,r,i,s,l,a){const x=a.axis.find(P=>P.quotient[0]===r&&P.quotient[1]===i),S=a.axis.find(P=>P.quotient[0]===s&&P.quotient[1]===l);if(!(!x||!S))return Hre(e,x,S,t)}const Hre=(e,t,r,i)=>({name:e,axis:{x:t,y:r},type:"bivariate",steps:i.map(({id:s,color:l,isFallbackColor:a})=>({label:s,color:l,isFallbackColor:a}))});function qre(e,t,r,i,s){var $,Z,J,ae;const l=s.indicators.find(V=>V.name===e),a=s.indicators.find(V=>V.name===r),x=l==null?void 0:l.label,S=a==null?void 0:a.label,P=($=s.indicators.find(V=>V.name===t))==null?void 0:$.label,R=(Z=s.indicators.find(V=>V.name===i))==null?void 0:Z.label;let z=[];return(J=l==null?void 0:l.copyrights)!=null&&J.length&&(z=z.concat(l.copyrights)),(ae=a==null?void 0:a.copyrights)!=null&&ae.length&&(z=z.concat(a.copyrights)),{description:`This map shows relation of ${x} (normalized by ${P}) to the base of ${S} (normalized by ${R}).`,copyrights:z,hints:{x:{label:x,direction:l==null?void 0:l.direction},y:{label:S,direction:a==null?void 0:a.direction}}}}const Gre=e=>{const{correlationRates:t}=e,r=[],i=[];for(const s of t){const l=s.x.quotient,a=s.x.parent||l;let x=r.find(z=>z.parent===JSON.stringify(a));x?x.quotients.find(z=>JSON.stringify(z)===JSON.stringify(l))||x.quotients.push(l):(x={parent:JSON.stringify(a),quotients:[l],selectedQuotient:l},r.push(x));const S=s.y.quotient,P=s.y.parent||S;let R=i.find(z=>z.parent===JSON.stringify(P));R?R.quotients.find(z=>JSON.stringify(z)===JSON.stringify(S))||R.quotients.push(S):(R={parent:JSON.stringify(P),quotients:[S],selectedQuotient:S},i.push(R))}for(const s of r){const l=s.quotients.find(a=>JSON.stringify(a)===s.parent);l&&(s.selectedQuotient=l)}for(const s of i){const l=s.quotients.find(a=>JSON.stringify(a)===s.parent);l&&(s.selectedQuotient=l)}return{x:r,y:i}},S1=Ro({setNumerators:(e,t)=>({xGroups:e,yGroups:t}),bivariateStatisticsResourceAtom:EL},({get:e,onAction:t,onChange:r},i={xGroups:[],yGroups:[]})=>(r("bivariateStatisticsResourceAtom",({data:s,loading:l})=>{if(s&&!l){const a=s.polygonStatistic.bivariateStatistic,x=Gre(a);i={xGroups:x.x,yGroups:x.y}}}),t("setNumerators",s=>{i=s}),i),"bivariateNumerators"),Qre=()=>({legend:[],source:[],meta:[],settings:[],menu:[]}),C1=([e,t])=>[e,{data:t,isLoading:!1,error:null}];function mT(e){const t=e.reduce((s,{id:l,...a})=>(Object.keys(a).forEach(x=>{s[x].push([l,a[x]])}),s),Qre()),r=[],i=[];if(t.legend.length){const s=t.legend.map(C1);r.push(v4.change(l=>new Map([...l,...s])))}if(t.source.length){const s=t.source.map(C1);r.push(vL.change(l=>new Map([...l,...s])))}if(t.meta.length){const s=t.meta.map(C1);r.push(yL.change(l=>new Map([...l,...s])))}if(t.settings.length){const s=t.settings.map(C1);r.push(Sy.change(l=>new Map([...l,...s])))}if(t.menu.length){const s=t.menu;r.push(_L.change(l=>new Map([...l,...s])))}return[r,i]}function Wre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var x4=Wre,Zre=typeof Bs=="object"&&Bs&&Bs.Object===Object&&Bs,Kre=Zre,Xre=Kre,Yre=typeof self=="object"&&self&&self.Object===Object&&self,Jre=Xre||Yre||Function("return this")(),TL=Jre,ene=TL,tne=function(){return ene.Date.now()},rne=tne,nne=/\s/;function ine(e){for(var t=e.length;t--&&nne.test(e.charAt(t)););return t}var one=ine,ane=one,sne=/^\s+/;function une(e){return e&&e.slice(0,ane(e)+1).replace(sne,"")}var lne=une,cne=TL,fne=cne.Symbol,PL=fne,gT=PL,IL=Object.prototype,pne=IL.hasOwnProperty,Ane=IL.toString,Km=gT?gT.toStringTag:void 0;function hne(e){var t=pne.call(e,Km),r=e[Km];try{e[Km]=void 0;var i=!0}catch{}var s=Ane.call(e);return i&&(t?e[Km]=r:delete e[Km]),s}var dne=hne,mne=Object.prototype,gne=mne.toString;function yne(e){return gne.call(e)}var vne=yne,yT=PL,_ne=dne,xne=vne,bne="[object Null]",wne="[object Undefined]",vT=yT?yT.toStringTag:void 0;function Sne(e){return e==null?e===void 0?wne:bne:vT&&vT in Object(e)?_ne(e):xne(e)}var Cne=Sne;function Ene(e){return e!=null&&typeof e=="object"}var kne=Ene,Tne=Cne,Pne=kne,Ine="[object Symbol]";function One(e){return typeof e=="symbol"||Pne(e)&&Tne(e)==Ine}var Mne=One,Rne=lne,_T=x4,Lne=Mne,xT=0/0,Dne=/^[-+]0x[0-9a-f]+$/i,Fne=/^0b[01]+$/i,Bne=/^0o[0-7]+$/i,zne=parseInt;function Nne(e){if(typeof e=="number")return e;if(Lne(e))return xT;if(_T(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_T(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Rne(e);var r=Fne.test(e);return r||Bne.test(e)?zne(e.slice(2),r?2:8):Dne.test(e)?xT:+e}var Une=Nne,jne=x4,Uw=rne,bT=Une,$ne="Expected a function",Vne=Math.max,Hne=Math.min;function qne(e,t,r){var i,s,l,a,x,S,P=0,R=!1,z=!1,N=!0;if(typeof e!="function")throw new TypeError($ne);t=bT(t)||0,jne(r)&&(R=!!r.leading,z="maxWait"in r,l=z?Vne(bT(r.maxWait)||0,t):l,N="trailing"in r?!!r.trailing:N);function $(ue){var Se=i,Ce=s;return i=s=void 0,P=ue,a=e.apply(Ce,Se),a}function Z(ue){return P=ue,x=setTimeout(V,t),R?$(ue):a}function J(ue){var Se=ue-S,Ce=ue-P,qe=t-Se;return z?Hne(qe,l-Ce):qe}function ae(ue){var Se=ue-S,Ce=ue-P;return S===void 0||Se>=t||Se<0||z&&Ce>=l}function V(){var ue=Uw();if(ae(ue))return K(ue);x=setTimeout(V,J(ue))}function K(ue){return x=void 0,N&&i?$(ue):(i=s=void 0,a)}function se(){x!==void 0&&clearTimeout(x),P=0,i=S=s=x=void 0}function me(){return x===void 0?a:K(Uw())}function Ae(){var ue=Uw(),Se=ae(ue);if(i=arguments,s=this,S=ue,Se){if(x===void 0)return Z(S);if(z)return clearTimeout(x),x=setTimeout(V,t),$(S)}return x===void 0&&(x=setTimeout(V,t)),a}return Ae.cancel=se,Ae.flush=me,Ae}var Gne=qne,Qne=Gne,Wne=x4,Zne="Expected a function";function Kne(e,t,r){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(Zne);return Wne(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),Qne(e,t,{leading:i,maxWait:t,trailing:s})}var Xne=Kne;function Yne(e){return e==null}var wT=Yne,zl=function(e){e=e||{};var t=typeof e<"u"?e:{},r={},i;for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);var s="";function l(re){return t.locateFile?t.locateFile(re,s):s+re}var a;document.currentScript&&(s=document.currentScript.src),s.indexOf("blob:")!==0?s=s.substr(0,s.lastIndexOf("/")+1):s="",a=function($e,at,Qe){var h=new XMLHttpRequest;h.open("GET",$e,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status==200||h.status==0&&h.response){at(h.response);return}var Lt=Jn($e);if(Lt){at(Lt.buffer);return}Qe()},h.onerror=Qe,h.send(null)};var x=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);r=null,t.arguments&&t.arguments;var P=0,R=function(re){P=re},z=function(){return P},N=8;function $(re,$e,at,Qe){switch(at=at||"i8",at.charAt(at.length-1)==="*"&&(at="i32"),at){case"i1":st[re>>0]=$e;break;case"i8":st[re>>0]=$e;break;case"i16":St[re>>1]=$e;break;case"i32":Wt[re>>2]=$e;break;case"i64":Do=[$e>>>0,(bi=$e,+jr(bi)>=1?bi>0?(Qo(+gi(bi/4294967296),4294967295)|0)>>>0:~~+mi((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Wt[re>>2]=Do[0],Wt[re+4>>2]=Do[1];break;case"float":fr[re>>2]=$e;break;case"double":Rt[re>>3]=$e;break;default:xe("invalid type for setValue: "+at)}}function Z(re,$e,at){switch($e=$e||"i8",$e.charAt($e.length-1)==="*"&&($e="i32"),$e){case"i1":return st[re>>0];case"i8":return st[re>>0];case"i16":return St[re>>1];case"i32":return Wt[re>>2];case"i64":return Wt[re>>2];case"float":return fr[re>>2];case"double":return Rt[re>>3];default:xe("invalid type for getValue: "+$e)}return null}var J=!1;function ae(re,$e){re||xe("Assertion failed: "+$e)}function V(re){var $e=t["_"+re];return ae($e,"Cannot call unknown function "+re+", make sure it is exported"),$e}function K(re,$e,at,Qe,h){var ge={string:function(Gt){var An=0;if(Gt!=null&&Gt!==0){var Xr=(Gt.length<<2)+1;An=zn(Xr),Ce(Gt,An,Xr)}return An},array:function(Gt){var An=zn(Gt.length);return qe(Gt,An),An}};function Lt(Gt){return $e==="string"?ue(Gt):$e==="boolean"?Boolean(Gt):Gt}var $t=V(re),ct=[],Ot=0;if(Qe)for(var xt=0;xt<Qe.length;xt++){var pr=ge[at[xt]];pr?(Ot===0&&(Ot=ne()),ct[xt]=pr(Qe[xt])):ct[xt]=Qe[xt]}var lr=$t.apply(null,ct);return lr=Lt(lr),Ot!==0&&Y(Ot),lr}function se(re,$e,at,Qe){at=at||[];var h=at.every(function(Lt){return Lt==="number"}),ge=$e!=="string";return ge&&h&&!Qe?V(re):function(){return K(re,$e,at,arguments)}}var me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ae(re,$e,at){for(var Qe=$e+at,h=$e;re[h]&&!(h>=Qe);)++h;if(h-$e>16&&re.subarray&&me)return me.decode(re.subarray($e,h));for(var ge="";$e<h;){var Lt=re[$e++];if(!(Lt&128)){ge+=String.fromCharCode(Lt);continue}var $t=re[$e++]&63;if((Lt&224)==192){ge+=String.fromCharCode((Lt&31)<<6|$t);continue}var ct=re[$e++]&63;if((Lt&240)==224?Lt=(Lt&15)<<12|$t<<6|ct:Lt=(Lt&7)<<18|$t<<12|ct<<6|re[$e++]&63,Lt<65536)ge+=String.fromCharCode(Lt);else{var Ot=Lt-65536;ge+=String.fromCharCode(55296|Ot>>10,56320|Ot&1023)}}return ge}function ue(re,$e){return re?Ae(wt,re,$e):""}function Se(re,$e,at,Qe){if(!(Qe>0))return 0;for(var h=at,ge=at+Qe-1,Lt=0;Lt<re.length;++Lt){var $t=re.charCodeAt(Lt);if($t>=55296&&$t<=57343){var ct=re.charCodeAt(++Lt);$t=65536+(($t&1023)<<10)|ct&1023}if($t<=127){if(at>=ge)break;$e[at++]=$t}else if($t<=2047){if(at+1>=ge)break;$e[at++]=192|$t>>6,$e[at++]=128|$t&63}else if($t<=65535){if(at+2>=ge)break;$e[at++]=224|$t>>12,$e[at++]=128|$t>>6&63,$e[at++]=128|$t&63}else{if(at+3>=ge)break;$e[at++]=240|$t>>18,$e[at++]=128|$t>>12&63,$e[at++]=128|$t>>6&63,$e[at++]=128|$t&63}}return $e[at]=0,at-h}function Ce(re,$e,at){return Se(re,wt,$e,at)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function qe(re,$e){st.set(re,$e)}function lt(re,$e){return re%$e>0&&(re+=$e-re%$e),re}var rt,st,wt,St,Wt,fr,Rt;function et(re){rt=re,t.HEAP8=st=new Int8Array(re),t.HEAP16=St=new Int16Array(re),t.HEAP32=Wt=new Int32Array(re),t.HEAPU8=wt=new Uint8Array(re),t.HEAPU16=new Uint16Array(re),t.HEAPU32=new Uint32Array(re),t.HEAPF32=fr=new Float32Array(re),t.HEAPF64=Rt=new Float64Array(re)}var Ue=5266928,Re=24016,le=t.TOTAL_MEMORY||33554432;t.buffer?rt=t.buffer:rt=new ArrayBuffer(le),le=rt.byteLength,et(rt),Wt[Re>>2]=Ue;function ye(re){for(;re.length>0;){var $e=re.shift();if(typeof $e=="function"){$e();continue}var at=$e.func;typeof at=="number"?$e.arg===void 0?t.dynCall_v(at):t.dynCall_vi(at,$e.arg):at($e.arg===void 0?null:$e.arg)}}var Mt=[],or=[],vr=[],dr=[];function Sr(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)jn(t.preRun.shift());ye(Mt)}function Ur(){ye(or)}function Dr(){ye(vr)}function Xn(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Fi(t.postRun.shift());ye(dr)}function jn(re){Mt.unshift(re)}function Fi(re){dr.unshift(re)}var jr=Math.abs,mi=Math.ceil,gi=Math.floor,Qo=Math.min,Bi=0,Wi=null;function ws(re){Bi++,t.monitorRunDependencies&&t.monitorRunDependencies(Bi)}function io(re){if(Bi--,t.monitorRunDependencies&&t.monitorRunDependencies(Bi),Bi==0&&Wi){var $e=Wi;Wi=null,$e()}}t.preloadedImages={},t.preloadedAudios={};var Qn=null,Lo="data:application/octet-stream;base64,";function oo(re){return String.prototype.startsWith?re.startsWith(Lo):re.indexOf(Lo)===0}var bi,Do;Qn="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var sa=24032;function yt(re){return re}function be(re){var $e=/\b__Z[\w\d_]+/g;return re.replace($e,function(at){var Qe=at;return at===Qe?at:Qe+" ["+at+"]"})}function Ye(){var re=new Error;if(!re.stack){try{throw new Error(0)}catch($e){re=$e}if(!re.stack)return"(no stack trace available)"}return re.stack.toString()}function Et(){var re=Ye();return t.extraStackTrace&&(re+=`
`+t.extraStackTrace()),be(re)}function ar(re,$e,at,Qe){xe("Assertion failed: "+ue(re)+", at: "+[$e?ue($e):"unknown filename",at,Qe?ue(Qe):"unknown function"])}function Hr(){return st.length}function In(re,$e,at){wt.set(wt.subarray($e,$e+at),re)}function Or(re){return t.___errno_location&&(Wt[t.___errno_location()>>2]=re),re}function en(re){xe("OOM")}function $n(re){try{var $e=new ArrayBuffer(re);return $e.byteLength!=re?void 0:(new Int8Array($e).set(st),Ei($e),et($e),1)}catch{}}function Yn(re){var $e=Hr(),at=16777216,Qe=2147483648-at;if(re>Qe)return!1;for(var h=16777216,ge=Math.max($e,h);ge<re;)ge<=536870912?ge=lt(2*ge,at):ge=Math.min(lt((3*ge+2147483648)/4,at),Qe);var Lt=$n(ge);return!!Lt}var hn=typeof atob=="function"?atob:function(re){var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",at="",Qe,h,ge,Lt,$t,ct,Ot,xt=0;re=re.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Lt=$e.indexOf(re.charAt(xt++)),$t=$e.indexOf(re.charAt(xt++)),ct=$e.indexOf(re.charAt(xt++)),Ot=$e.indexOf(re.charAt(xt++)),Qe=Lt<<2|$t>>4,h=($t&15)<<4|ct>>2,ge=(ct&3)<<6|Ot,at=at+String.fromCharCode(Qe),ct!==64&&(at=at+String.fromCharCode(h)),Ot!==64&&(at=at+String.fromCharCode(ge));while(xt<re.length);return at};function Eo(re){try{for(var $e=hn(re),at=new Uint8Array($e.length),Qe=0;Qe<$e.length;++Qe)at[Qe]=$e.charCodeAt(Qe);return at}catch{throw new Error("Converting base64 string to bytes failed.")}}function Jn(re){if(!!oo(re))return Eo(re.slice(Lo.length))}var ua={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Ra={a:xe,b:R,c:z,d:ar,e:Or,f:Hr,g:In,h:Yn,i:en,j:yt,k:be,l:$n,m:Ye,n:Et,o:sa,p:Re},Vt=function(re,$e,at){var Qe=new re.Int8Array(at),h=new re.Int32Array(at);new re.Uint8Array(at),new re.Float32Array(at);var ge=new re.Float64Array(at),Lt=$e.p|0,$t=re.Math.floor,ct=re.Math.abs,Ot=re.Math.sqrt,xt=re.Math.pow,pr=re.Math.cos,lr=re.Math.sin,Gt=re.Math.tan,An=re.Math.acos,Xr=re.Math.asin,Ln=re.Math.atan,dn=re.Math.atan2,an=re.Math.ceil,gn=re.Math.imul,hi=re.Math.min,xn=re.Math.clz32,Xt=$e.b,Ge=$e.c,br=$e.d,uu=$e.e,Fc=$e.f,ao=$e.g,Wo=$e.h,Bc=$e.i,Me=24048;function so(A){return Qe=new Int8Array(A),h=new Int32Array(A),ge=new Float64Array(A),at=A,!0}function is(A){A=A|0;var m=0;return m=Me,Me=Me+A|0,Me=Me+15&-16,m|0}function la(){return Me|0}function si(A){A=A|0,Me=A}function ca(A,m){A=A|0,Me=A}function ko(A){return A=A|0,(gn(A*3|0,A+1|0)|0)+1|0}function Zo(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;!(Tf(A,m,v,_,0)|0)||(O=(gn(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k=zo(O,4)|0,k&&(zi(A,m,v,_,k,O,0),Fr(k)))}function os(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0;if(!!(Tf(A,m,v,_,k)|0)){if(O=(gn(v*3|0,v+1|0)|0)+1|0,$i(_|0,0,O<<3|0)|0,k|0){$i(k|0,0,O<<2|0)|0,zi(A,m,v,_,k,O,0);return}k=zo(O,4)|0,k&&(zi(A,m,v,_,k,O,0),Fr(k))}}function Tf(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0;if(ot=Me,Me=Me+16|0,Ze=ot,O=_,h[O>>2]=A,h[O+4>>2]=m,O=(k|0)!=0,O&&(h[k>>2]=0),Ui(A,m)|0)return Ze=1,Me=ot,Ze|0;h[Ze>>2]=0;e:do if((v|0)>=1)if(O)for(te=0,ce=1,De=1,I=0,O=A;;){if(!(I|te)){if(O=ki(O,m,4,Ze)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,h[16+(te<<2)>>2]|0,Ze)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(A=_+(De<<3)|0,h[A>>2]=O,h[A+4>>2]=m,h[k+(De<<2)>>2]=ce,I=I+1|0,A=(I|0)==(ce|0),B=te+1|0,G=(B|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(G&A&1)|0,(ce|0)>(v|0)){O=0;break}else te=A?G?0:B:te,De=De+1|0,I=A?0:I}else for(te=0,ce=1,De=1,I=0,O=A;;){if(!(I|te)){if(O=ki(O,m,4,Ze)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,h[16+(te<<2)>>2]|0,Ze)|0,m=Ge()|0,(O|0)==0&(m|0)==0){O=2;break e}if(A=_+(De<<3)|0,h[A>>2]=O,h[A+4>>2]=m,I=I+1|0,A=(I|0)==(ce|0),B=te+1|0,G=(B|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(G&A&1)|0,(ce|0)>(v|0)){O=0;break}else te=A?G?0:B:te,De=De+1|0,I=A?0:I}else O=0;while(0);return Ze=O,Me=ot,Ze|0}function zi(A,m,v,_,k,O,I){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0,I=I|0;var B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0;if(De=Me,Me=Me+16|0,ce=De,(A|0)==0&(m|0)==0){Me=De;return}if(B=Qt(A|0,m|0,O|0,((O|0)<0)<<31>>31|0)|0,Ge()|0,G=_+(B<<3)|0,Ze=G,ot=h[Ze>>2]|0,Ze=h[Ze+4>>2]|0,te=(ot|0)==(A|0)&(Ze|0)==(m|0),!((ot|0)==0&(Ze|0)==0|te))do B=(B+1|0)%(O|0)|0,G=_+(B<<3)|0,ot=G,Ze=h[ot>>2]|0,ot=h[ot+4>>2]|0,te=(Ze|0)==(A|0)&(ot|0)==(m|0);while(!((Ze|0)==0&(ot|0)==0|te));if(B=k+(B<<2)|0,te&&(h[B>>2]|0)<=(I|0)){Me=De;return}if(ot=G,h[ot>>2]=A,h[ot+4>>2]=m,h[B>>2]=I,(I|0)>=(v|0)){Me=De;return}ot=I+1|0,h[ce>>2]=0,Ze=ki(A,m,2,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),h[ce>>2]=0,Ze=ki(A,m,3,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),h[ce>>2]=0,Ze=ki(A,m,1,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),h[ce>>2]=0,Ze=ki(A,m,5,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),h[ce>>2]=0,Ze=ki(A,m,4,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),h[ce>>2]=0,Ze=ki(A,m,6,ce)|0,zi(Ze,Ge()|0,v,_,k,O,ot),Me=De}function ki(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0;if((h[_>>2]|0)>0){k=0;do v=$s(v)|0,k=k+1|0;while((k|0)<(h[_>>2]|0))}B=dt(A|0,m|0,45)|0,Ge()|0,G=B&127,O=Si(A,m)|0,k=dt(A|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!k)I=6;else for(;;){if(De=(15-k|0)*3|0,Ze=dt(A|0,m|0,De|0)|0,Ge()|0,Ze=Ze&7,ot=(Yo(k)|0)==0,k=k+-1|0,ce=Yt(7,0,De|0)|0,m=m&~(Ge()|0),De=Yt(h[(ot?464:48)+(Ze*28|0)+(v<<2)>>2]|0,0,De|0)|0,te=Ge()|0,v=h[(ot?672:256)+(Ze*28|0)+(v<<2)>>2]|0,A=De|A&~ce,m=te|m,!v){v=0;break e}if(!k){I=6;break}}while(0);(I|0)==6&&(ot=h[880+(G*28|0)+(v<<2)>>2]|0,Ze=Yt(ot|0,0,45)|0,A=Ze|A,m=Ge()|0|m&-1040385,v=h[4304+(G*28|0)+(v<<2)>>2]|0,(ot&127|0)==127&&(ot=Yt(h[880+(G*28|0)+20>>2]|0,0,45)|0,m=Ge()|0|m&-1040385,v=h[4304+(G*28|0)+20>>2]|0,A=Es(ot|A,m)|0,m=Ge()|0,h[_>>2]=(h[_>>2]|0)+1)),I=dt(A|0,m|0,45)|0,Ge()|0,I=I&127;e:do if(ci(I)|0){t:do if((Si(A,m)|0)==1){if((G|0)!=(I|0))if(Xl(I,h[7728+(G*28|0)>>2]|0)|0){A=ja(A,m)|0,O=1,m=Ge()|0;break}else{A=Es(A,m)|0,O=1,m=Ge()|0;break}switch(O|0){case 5:{A=ja(A,m)|0,m=Ge()|0,h[_>>2]=(h[_>>2]|0)+5,O=0;break t}case 3:{A=Es(A,m)|0,m=Ge()|0,h[_>>2]=(h[_>>2]|0)+1,O=0;break t}default:return Ze=0,ot=0,Xt(Ze|0),ot|0}}else O=0;while(0);if((v|0)>0){k=0;do A=ml(A,m)|0,m=Ge()|0,k=k+1|0;while((k|0)!=(v|0))}if((G|0)!=(I|0)){if(!(zc(I)|0)){if((O|0)!=0|(Si(A,m)|0)!=5)break;h[_>>2]=(h[_>>2]|0)+1;break}switch(B&127){case 8:case 118:break e}(Si(A,m)|0)!=3&&(h[_>>2]=(h[_>>2]|0)+1)}}else if((v|0)>0){k=0;do A=Es(A,m)|0,m=Ge()|0,k=k+1|0;while((k|0)!=(v|0))}while(0);return h[_>>2]=((h[_>>2]|0)+v|0)%6|0,Ze=m,ot=A,Xt(Ze|0),ot|0}function as(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0;if(De=Me,Me=Me+16|0,ce=De,!v)return ce=_,h[ce>>2]=A,h[ce+4>>2]=m,ce=0,Me=De,ce|0;h[ce>>2]=0;e:do if(Ui(A,m)|0)A=1;else{if(O=(v|0)>0,O){k=0,te=A;do{if(te=ki(te,m,4,ce)|0,m=Ge()|0,(te|0)==0&(m|0)==0){A=2;break e}if(k=k+1|0,Ui(te,m)|0){A=1;break e}}while((k|0)<(v|0));if(G=_,h[G>>2]=te,h[G+4>>2]=m,G=v+-1|0,O){O=0,I=1,k=te,A=m;do{if(k=ki(k,A,2,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(I<<3)|0,h[B>>2]=k,h[B+4>>2]=A,I=I+1|0,Ui(k,A)|0){A=1;break e}O=O+1|0}while((O|0)<(v|0));B=0,O=I;do{if(k=ki(k,A,3,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if(I=_+(O<<3)|0,h[I>>2]=k,h[I+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}B=B+1|0}while((B|0)<(v|0));I=0;do{if(k=ki(k,A,1,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,A,5,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,A,4,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,O=O+1|0,Ui(k,A)|0){A=1;break e}I=I+1|0}while((I|0)<(v|0));for(I=0;;){if(k=ki(k,A,6,ce)|0,A=Ge()|0,(k|0)==0&(A|0)==0){A=2;break e}if((I|0)!=(G|0))if(B=_+(O<<3)|0,h[B>>2]=k,h[B+4>>2]=A,!(Ui(k,A)|0))O=O+1|0;else{A=1;break e}if(I=I+1|0,(I|0)>=(v|0)){I=te,O=m;break}}}else I=te,k=te,O=m,A=m}else I=_,h[I>>2]=A,h[I+4>>2]=m,I=A,k=A,O=m,A=m;A=((I|0)!=(k|0)|(O|0)!=(A|0))&1}while(0);return ce=A,Me=De,ce|0}function wi(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;if(O=Me,Me=Me+48|0,k=O+8|0,_=O,B=A,I=h[B+4>>2]|0,v=_,h[v>>2]=h[B>>2],h[v+4>>2]=I,Ki(_,k),k=Ss(k,m)|0,m=h[_>>2]|0,_=h[A+8>>2]|0,(_|0)<=0)return B=m,I=(k|0)<(B|0),B=I?B:k,B=B+12|0,Me=O,B|0;v=h[A+12>>2]|0,A=0;do m=(h[v+(A<<3)>>2]|0)+m|0,A=A+1|0;while((A|0)<(_|0));return B=(k|0)<(m|0),B=B?m:k,B=B+12|0,Me=O,B|0}function Ni(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;if(B=Me,Me=Me+48|0,_=B+8|0,k=B,!(Fu(A,m,v)|0)){Me=B;return}if(G=A,O=h[G+4>>2]|0,I=k,h[I>>2]=h[G>>2],h[I+4>>2]=O,Ki(k,_),I=Ss(_,m)|0,m=h[k>>2]|0,O=h[A+8>>2]|0,(O|0)>0){k=h[A+12>>2]|0,_=0;do m=(h[k+(_<<3)>>2]|0)+m|0,_=_+1|0;while((_|0)!=(O|0))}if(m=(I|0)<(m|0)?m:I,(m|0)<=-12){Me=B;return}G=m+11|0,$i(v|0,0,(((G|0)>0?G:0)<<3)+8|0)|0,Me=B}function Fu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(q=Me,Me=Me+112|0,E=q+80|0,G=q+72|0,M=q,D=q+56|0,te=A+8|0,U=Pi((h[te>>2]<<5)+32|0)|0,U||br(22848,22448,800,22456),ba(A,U),O=A,_=h[O+4>>2]|0,B=G,h[B>>2]=h[O>>2],h[B+4>>2]=_,Ki(G,E),B=Ss(E,m)|0,_=h[G>>2]|0,O=h[te>>2]|0,(O|0)>0){I=h[A+12>>2]|0,k=0;do _=(h[I+(k<<3)>>2]|0)+_|0,k=k+1|0;while((k|0)!=(O|0))}if(B=(B|0)<(_|0)?_:B,y=B+12|0,k=zo(y,8)|0,ce=zo(y,8)|0,h[E>>2]=0,p=A,f=h[p+4>>2]|0,_=G,h[_>>2]=h[p>>2],h[_+4>>2]=f,_=Zl(G,y,m,E,k,ce)|0,_|0)return Fr(k),Fr(ce),Fr(U),U=_,Me=q,U|0;e:do if((h[te>>2]|0)>0){for(O=A+12|0,_=0;I=Zl((h[O>>2]|0)+(_<<3)|0,y,m,E,k,ce)|0,_=_+1|0,!(I|0);)if((_|0)>=(h[te>>2]|0))break e;return Fr(k),Fr(ce),Fr(U),U=I,Me=q,U|0}while(0);(B|0)>-12&&$i(ce|0,0,((y|0)>1?y:1)<<3|0)|0;e:do if((h[E>>2]|0)>0){f=((y|0)<0)<<31>>31,Ke=k,_r=ce,xr=k,Zt=k,c=ce,p=k,_=k,Ut=k,ur=ce,mt=ce,Dt=ce,k=ce;t:for(;;){for(kt=h[E>>2]|0,ot=0,bt=0,O=0;;){I=M,B=I+56|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(B|0));if(m=Ke+(ot<<3)|0,G=h[m>>2]|0,m=h[m+4>>2]|0,Tf(G,m,1,M,0)|0){I=M,B=I+56|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(B|0));I=zo(7,4)|0,I|0&&(zi(G,m,1,M,I,7,0),Fr(I))}Ze=0;do{De=M+(Ze<<3)|0,ce=h[De>>2]|0,De=h[De+4>>2]|0;r:do if(!((ce|0)==0&(De|0)==0)){if(G=Qt(ce|0,De|0,y|0,f|0)|0,Ge()|0,I=v+(G<<3)|0,B=I,m=h[B>>2]|0,B=h[B+4>>2]|0,!((m|0)==0&(B|0)==0))for(te=0;;){if((te|0)>(y|0))break t;if((m|0)==(ce|0)&(B|0)==(De|0))break r;if(G=(G+1|0)%(y|0)|0,I=v+(G<<3)|0,B=I,m=h[B>>2]|0,B=h[B+4>>2]|0,(m|0)==0&(B|0)==0)break;te=te+1|0}(ce|0)==0&(De|0)==0||(ls(ce,De,D),nr(A,U,D)|0&&(te=I,h[te>>2]=ce,h[te+4>>2]=De,te=_r+(O<<3)|0,h[te>>2]=ce,h[te+4>>2]=De,O=O+1|0))}while(0);Ze=Ze+1|0}while(Ze>>>0<7);if(bt=bt+1|0,(bt|0)>=(kt|0))break;ot=ot+1|0}if((kt|0)>0&&$i(xr|0,0,kt<<3|0)|0,h[E>>2]=O,(O|0)>0)ce=k,De=Dt,Ze=p,ot=mt,bt=ur,kt=_r,k=Ut,Dt=_,mt=Zt,ur=xr,Ut=ce,_=De,p=c,c=Ze,Zt=ot,xr=bt,_r=Ke,Ke=kt;else break e}return Fr(Zt),Fr(c),Fr(U),U=-1,Me=q,U|0}else _=ce;while(0);return Fr(U),Fr(k),Fr(_),U=0,Me=q,U|0}function Zl(A,m,v,_,k,O){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0;var I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0,p=0,f=0,y=0,E=0;if(f=Me,Me=Me+48|0,xr=f+32|0,Zt=f+16|0,c=f,I=h[A>>2]|0,(I|0)<=0)return p=0,Me=f,p|0;ur=A+4|0,mt=xr+8|0,Dt=Zt+8|0,Ke=c+8|0,_r=((m|0)<0)<<31>>31,Ut=0;e:for(;;){B=h[ur>>2]|0,bt=B+(Ut<<4)|0,h[xr>>2]=h[bt>>2],h[xr+4>>2]=h[bt+4>>2],h[xr+8>>2]=h[bt+8>>2],h[xr+12>>2]=h[bt+12>>2],(Ut|0)==(I+-1|0)?(h[Zt>>2]=h[B>>2],h[Zt+4>>2]=h[B+4>>2],h[Zt+8>>2]=h[B+8>>2],h[Zt+12>>2]=h[B+12>>2]):(bt=B+(Ut+1<<4)|0,h[Zt>>2]=h[bt>>2],h[Zt+4>>2]=h[bt+4>>2],h[Zt+8>>2]=h[bt+8>>2],h[Zt+12>>2]=h[bt+12>>2]),bt=jc(xr,Zt,v)|0;t:do if((bt|0)>0){kt=+(bt|0),ot=0;r:for(;;){E=+(bt-ot|0),y=+(ot|0),ge[c>>3]=+ge[xr>>3]*E/kt+ +ge[Zt>>3]*y/kt,ge[Ke>>3]=+ge[mt>>3]*E/kt+ +ge[Dt>>3]*y/kt,De=Lp(c,v)|0,Ze=Ge()|0,B=Qt(De|0,Ze|0,m|0,_r|0)|0,Ge()|0,I=O+(B<<3)|0,G=I,te=h[G>>2]|0,G=h[G+4>>2]|0;n:do if((te|0)==0&(G|0)==0)p=14;else for(ce=0;;){if((ce|0)>(m|0)){I=1;break n}if((te|0)==(De|0)&(G|0)==(Ze|0)){I=7;break n}if(B=(B+1|0)%(m|0)|0,I=O+(B<<3)|0,G=I,te=h[G>>2]|0,G=h[G+4>>2]|0,(te|0)==0&(G|0)==0){p=14;break}else ce=ce+1|0}while(0);switch((p|0)==14&&(p=0,(De|0)==0&(Ze|0)==0?I=7:(h[I>>2]=De,h[I+4>>2]=Ze,I=h[_>>2]|0,ce=k+(I<<3)|0,h[ce>>2]=De,h[ce+4>>2]=Ze,h[_>>2]=I+1,I=0)),I&7){case 7:case 0:break;default:break r}if(ot=ot+1|0,(bt|0)<=(ot|0)){p=8;break t}}if(I|0){I=-1,p=20;break e}}else p=8;while(0);if((p|0)==8&&(p=0),Ut=Ut+1|0,I=h[A>>2]|0,(Ut|0)>=(I|0)){I=0,p=20;break}}return(p|0)==20?(Me=f,I|0):0}function Pp(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0;if(te=Me,Me=Me+176|0,G=te,(m|0)<1){go(v,0,0),Me=te;return}I=A,I=dt(h[I>>2]|0,h[I+4>>2]|0,52)|0,Ge()|0,go(v,(m|0)>6?m:6,I&15),I=0;do{if(_=A+(I<<3)|0,Qs(h[_>>2]|0,h[_+4>>2]|0,G),_=h[G>>2]|0,(_|0)>0){B=0;do O=G+8+(B<<4)|0,B=B+1|0,_=G+8+(((B|0)%(_|0)|0)<<4)|0,k=fs(v,_,O)|0,k?Jc(v,k)|0:ef(v,O,_)|0,_=h[G>>2]|0;while((B|0)<(_|0))}I=I+1|0}while((I|0)!=(m|0));Me=te}function Ip(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=Me,Me=Me+32|0,_=O,k=O+16|0,Pp(A,m,k),h[v>>2]=0,h[v+4>>2]=0,h[v+8>>2]=0,A=Vu(k)|0,!A){ji(v)|0,Va(k),Me=O;return}do{m=Mr(v)|0;do sn(m,A)|0,I=A+16|0,h[_>>2]=h[I>>2],h[_+4>>2]=h[I+4>>2],h[_+8>>2]=h[I+8>>2],h[_+12>>2]=h[I+12>>2],Jc(k,A)|0,A=Bp(k,_)|0;while((A|0)!=0);A=Vu(k)|0}while((A|0)!=0);ji(v)|0,Va(k),Me=O}function ci(A){return A=A|0,h[7728+(A*28|0)+16>>2]|0}function zc(A){return A=A|0,(A|0)==4|(A|0)==117|0}function Pf(A){return A=A|0,h[11152+((h[A>>2]|0)*216|0)+((h[A+4>>2]|0)*72|0)+((h[A+8>>2]|0)*24|0)+(h[A+12>>2]<<3)>>2]|0}function GA(A){return A=A|0,h[11152+((h[A>>2]|0)*216|0)+((h[A+4>>2]|0)*72|0)+((h[A+8>>2]|0)*24|0)+(h[A+12>>2]<<3)+4>>2]|0}function If(A,m){A=A|0,m=m|0,A=7728+(A*28|0)|0,h[m>>2]=h[A>>2],h[m+4>>2]=h[A+4>>2],h[m+8>>2]=h[A+8>>2],h[m+12>>2]=h[A+12>>2]}function Kl(A,m){A=A|0,m=m|0;var v=0,_=0;if(m>>>0>20)return m=-1,m|0;do if((h[11152+(m*216|0)>>2]|0)!=(A|0))if((h[11152+(m*216|0)+8>>2]|0)!=(A|0))if((h[11152+(m*216|0)+16>>2]|0)!=(A|0))if((h[11152+(m*216|0)+24>>2]|0)!=(A|0))if((h[11152+(m*216|0)+32>>2]|0)!=(A|0))if((h[11152+(m*216|0)+40>>2]|0)!=(A|0))if((h[11152+(m*216|0)+48>>2]|0)!=(A|0))if((h[11152+(m*216|0)+56>>2]|0)!=(A|0))if((h[11152+(m*216|0)+64>>2]|0)!=(A|0))if((h[11152+(m*216|0)+72>>2]|0)!=(A|0))if((h[11152+(m*216|0)+80>>2]|0)!=(A|0))if((h[11152+(m*216|0)+88>>2]|0)!=(A|0))if((h[11152+(m*216|0)+96>>2]|0)!=(A|0))if((h[11152+(m*216|0)+104>>2]|0)!=(A|0))if((h[11152+(m*216|0)+112>>2]|0)!=(A|0))if((h[11152+(m*216|0)+120>>2]|0)!=(A|0))if((h[11152+(m*216|0)+128>>2]|0)!=(A|0))if((h[11152+(m*216|0)+136>>2]|0)==(A|0))A=2,v=1,_=2;else{if((h[11152+(m*216|0)+144>>2]|0)==(A|0)){A=0,v=2,_=0;break}if((h[11152+(m*216|0)+152>>2]|0)==(A|0)){A=0,v=2,_=1;break}if((h[11152+(m*216|0)+160>>2]|0)==(A|0)){A=0,v=2,_=2;break}if((h[11152+(m*216|0)+168>>2]|0)==(A|0)){A=1,v=2,_=0;break}if((h[11152+(m*216|0)+176>>2]|0)==(A|0)){A=1,v=2,_=1;break}if((h[11152+(m*216|0)+184>>2]|0)==(A|0)){A=1,v=2,_=2;break}if((h[11152+(m*216|0)+192>>2]|0)==(A|0)){A=2,v=2,_=0;break}if((h[11152+(m*216|0)+200>>2]|0)==(A|0)){A=2,v=2,_=1;break}if((h[11152+(m*216|0)+208>>2]|0)==(A|0)){A=2,v=2,_=2;break}else A=-1;return A|0}else A=2,v=1,_=1;else A=2,v=1,_=0;else A=1,v=1,_=2;else A=1,v=1,_=1;else A=1,v=1,_=0;else A=0,v=1,_=2;else A=0,v=1,_=1;else A=0,v=1,_=0;else A=2,v=0,_=2;else A=2,v=0,_=1;else A=2,v=0,_=0;else A=1,v=0,_=2;else A=1,v=0,_=1;else A=1,v=0,_=0;else A=0,v=0,_=2;else A=0,v=0,_=1;else A=0,v=0,_=0;while(0);return m=h[11152+(m*216|0)+(v*72|0)+(A*24|0)+(_<<3)+4>>2]|0,m|0}function Xl(A,m){return A=A|0,m=m|0,(h[7728+(A*28|0)+20>>2]|0)==(m|0)?(m=1,m|0):(m=(h[7728+(A*28|0)+24>>2]|0)==(m|0),m|0)}function Bu(A,m){return A=A|0,m=m|0,h[880+(A*28|0)+(m<<2)>>2]|0}function Nc(A,m){return A=A|0,m=m|0,(h[880+(A*28|0)>>2]|0)==(m|0)?(m=0,m|0):(h[880+(A*28|0)+4>>2]|0)==(m|0)?(m=1,m|0):(h[880+(A*28|0)+8>>2]|0)==(m|0)?(m=2,m|0):(h[880+(A*28|0)+12>>2]|0)==(m|0)?(m=3,m|0):(h[880+(A*28|0)+16>>2]|0)==(m|0)?(m=4,m|0):(h[880+(A*28|0)+20>>2]|0)==(m|0)?(m=5,m|0):((h[880+(A*28|0)+24>>2]|0)==(m|0)?6:7)|0}function Uc(){return 122}function Yl(A){A=A|0;var m=0,v=0,_=0;m=0;do Yt(m|0,0,45)|0,_=Ge()|0|134225919,v=A+(m<<3)|0,h[v>>2]=-1,h[v+4>>2]=_,m=m+1|0;while((m|0)!=122)}function Ko(A){return A=A|0,+ge[A+16>>3]<+ge[A+24>>3]|0}function lu(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return v=+ge[m>>3],!(v>=+ge[A+8>>3])||!(v<=+ge[A>>3])?(m=0,m|0):(_=+ge[A+16>>3],v=+ge[A+24>>3],k=+ge[m+8>>3],m=k>=v,A=k<=_&1,_<v?m&&(A=1):m||(A=0),m=(A|0)!=0,m|0)}function Ss(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0;I=Me,Me=Me+288|0,v=I+264|0,_=I+96|0,k=I,O=k,B=O+96|0;do h[O>>2]=0,O=O+4|0;while((O|0)<(B|0));return gl(m,k),O=k,B=h[O>>2]|0,O=h[O+4>>2]|0,ls(B,O,v),Qs(B,O,_),G=+ec(v,_+8|0),ge[v>>3]=+ge[A>>3],O=v+8|0,ge[O>>3]=+ge[A+16>>3],ge[_>>3]=+ge[A+8>>3],B=_+8|0,ge[B>>3]=+ge[A+24>>3],te=+ec(v,_),B=~~+an(+(te*te/+Io(+ +ct(+((+ge[O>>3]-+ge[B>>3])/(+ge[v>>3]-+ge[_>>3]))),3)/(G*(G*2.59807621135)*.8))),Me=I,((B|0)==0?1:B)|0}function jc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0;B=Me,Me=Me+288|0,_=B+264|0,k=B+96|0,O=B,I=O,G=I+96|0;do h[I>>2]=0,I=I+4|0;while((I|0)<(G|0));return gl(v,O),G=O,I=h[G>>2]|0,G=h[G+4>>2]|0,ls(I,G,_),Qs(I,G,k),te=+ec(_,k+8|0),G=~~+an(+(+ec(A,m)/(te*2))),Me=B,((G|0)==0?1:G)|0}function cu(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0,h[A>>2]=m,h[A+4>>2]=v,h[A+8>>2]=_}function Nn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0;De=m+8|0,h[De>>2]=0,G=+ge[A>>3],I=+ct(+G),te=+ge[A+8>>3],B=+ct(+te)/.8660254037844386,I=I+B*.5,v=~~I,A=~~B,I=I-+(v|0),B=B-+(A|0);do if(I<.5)if(I<.3333333333333333)if(h[m>>2]=v,B<(I+1)*.5){h[m+4>>2]=A;break}else{A=A+1|0,h[m+4>>2]=A;break}else if(Ze=1-I,A=(!(B<Ze)&1)+A|0,h[m+4>>2]=A,Ze<=B&B<I*2){v=v+1|0,h[m>>2]=v;break}else{h[m>>2]=v;break}else{if(!(I<.6666666666666666))if(v=v+1|0,h[m>>2]=v,B<I*.5){h[m+4>>2]=A;break}else{A=A+1|0,h[m+4>>2]=A;break}if(B<1-I){if(h[m+4>>2]=A,I*2+-1<B){h[m>>2]=v;break}}else A=A+1|0,h[m+4>>2]=A;v=v+1|0,h[m>>2]=v}while(0);do if(G<0)if(A&1){ce=(A+1|0)/2|0,ce=ea(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(ce>>>0)+4294967296*+(Ge()|0))*2+1)),h[m>>2]=v;break}else{ce=(A|0)/2|0,ce=ea(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(ce>>>0)+4294967296*+(Ge()|0))*2),h[m>>2]=v;break}while(0);ce=m+4|0,te<0&&(v=v-((A<<1|1|0)/2|0)|0,h[m>>2]=v,A=0-A|0,h[ce>>2]=A),_=A-v|0,(v|0)<0?(k=0-v|0,h[ce>>2]=_,h[De>>2]=k,h[m>>2]=0,A=_,v=0):k=0,(A|0)<0&&(v=v-A|0,h[m>>2]=v,k=k-A|0,h[De>>2]=k,h[ce>>2]=0,A=0),O=v-k|0,_=A-k|0,(k|0)<0&&(h[m>>2]=O,h[ce>>2]=_,h[De>>2]=0,A=_,v=O,k=0),_=(A|0)<(v|0)?A:v,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(h[m>>2]=v-_,h[ce>>2]=A-_,h[De>>2]=k-_)}function qr(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,(m|0)<0&&(v=v-m|0,h[I>>2]=v,O=A+8|0,h[O>>2]=(h[O>>2]|0)-m,h[A>>2]=0,m=0),(v|0)<0?(m=m-v|0,h[A>>2]=m,O=A+8|0,k=(h[O>>2]|0)-v|0,h[O>>2]=k,h[I>>2]=0,v=0):(k=A+8|0,O=k,k=h[k>>2]|0),(k|0)<0&&(m=m-k|0,h[A>>2]=m,v=v-k|0,h[I>>2]=v,h[O>>2]=0,k=0),_=(v|0)<(m|0)?v:m,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(h[A>>2]=m-_,h[I>>2]=v-_,h[O>>2]=k-_)}function Fo(A,m){A=A|0,m=m|0;var v=0,_=0;_=h[A+8>>2]|0,v=+((h[A+4>>2]|0)-_|0),ge[m>>3]=+((h[A>>2]|0)-_|0)-v*.5,ge[m+8>>3]=v*.8660254037844386}function kn(A,m,v){A=A|0,m=m|0,v=v|0,h[v>>2]=(h[m>>2]|0)+(h[A>>2]|0),h[v+4>>2]=(h[m+4>>2]|0)+(h[A+4>>2]|0),h[v+8>>2]=(h[m+8>>2]|0)+(h[A+8>>2]|0)}function sl(A,m,v){A=A|0,m=m|0,v=v|0,h[v>>2]=(h[A>>2]|0)-(h[m>>2]|0),h[v+4>>2]=(h[A+4>>2]|0)-(h[m+4>>2]|0),h[v+8>>2]=(h[A+8>>2]|0)-(h[m+8>>2]|0)}function Of(A,m){A=A|0,m=m|0;var v=0,_=0;v=gn(h[A>>2]|0,m)|0,h[A>>2]=v,v=A+4|0,_=gn(h[v>>2]|0,m)|0,h[v>>2]=_,A=A+8|0,m=gn(h[A>>2]|0,m)|0,h[A>>2]=m}function $c(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=h[A>>2]|0,B=(I|0)<0,_=(h[A+4>>2]|0)-(B?I:0)|0,O=(_|0)<0,k=(O?0-_|0:0)+((h[A+8>>2]|0)-(B?I:0))|0,v=(k|0)<0,A=v?0:k,m=(O?0:_)-(v?k:0)|0,k=(B?0:I)-(O?_:0)-(v?k:0)|0,v=(m|0)<(k|0)?m:k,v=(A|0)<(v|0)?A:v,_=(v|0)>0,A=A-(_?v:0)|0,m=m-(_?v:0)|0;e:do switch(k-(_?v:0)|0){case 0:switch(m|0){case 0:return B=(A|0)==0?0:(A|0)==1?1:7,B|0;case 1:return B=(A|0)==0?2:(A|0)==1?3:7,B|0;default:break e}case 1:switch(m|0){case 0:return B=(A|0)==0?4:(A|0)==1?5:7,B|0;case 1:{if(!A)A=6;else break e;return A|0}default:break e}}while(0);return B=7,B|0}function Op(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=A+8|0,v=h[I>>2]|0,m=(h[A>>2]|0)-v|0,B=A+4|0,v=(h[B>>2]|0)-v|0,_=pa(+((m*3|0)-v|0)/7)|0,h[A>>2]=_,m=pa(+((v<<1)+m|0)/7)|0,h[B>>2]=m,h[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,h[B>>2]=v,h[I>>2]=O,h[A>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,h[A>>2]=_,v=v-m|0,h[I>>2]=v,h[B>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(h[A>>2]=k-_,h[B>>2]=m-_,h[I>>2]=v-_)}function ul(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;I=A+8|0,v=h[I>>2]|0,m=(h[A>>2]|0)-v|0,B=A+4|0,v=(h[B>>2]|0)-v|0,_=pa(+((m<<1)+v|0)/7)|0,h[A>>2]=_,m=pa(+((v*3|0)-m|0)/7)|0,h[B>>2]=m,h[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,h[B>>2]=v,h[I>>2]=O,h[A>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,h[A>>2]=_,v=v-m|0,h[I>>2]=v,h[B>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(h[A>>2]=k-_,h[B>>2]=m-_,h[I>>2]=v-_)}function ll(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,B=A+8|0,_=h[B>>2]|0,k=v+(m*3|0)|0,h[A>>2]=k,v=_+(v*3|0)|0,h[I>>2]=v,m=(_*3|0)+m|0,h[B>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=_,h[B>>2]=m,h[A>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function yi(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=(m*3|0)+k|0,k=v+(k*3|0)|0,h[A>>2]=k,h[I>>2]=_,m=(v*3|0)+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,h[A>>2]=k,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=_,h[B>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=k-v,h[I>>2]=_-v,h[B>>2]=m-v)}function cl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;(m+-1|0)>>>0>=6||(k=(h[15472+(m*12|0)>>2]|0)+(h[A>>2]|0)|0,h[A>>2]=k,B=A+4|0,_=(h[15472+(m*12|0)+4>>2]|0)+(h[B>>2]|0)|0,h[B>>2]=_,I=A+8|0,m=(h[15472+(m*12|0)+8>>2]|0)+(h[I>>2]|0)|0,h[I>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[B>>2]=v,h[I>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[I>>2]=m,h[B>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[B>>2]=k,h[I>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[B>>2]=k-v,h[I>>2]=m-v))}function js(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=m+k|0,k=v+k|0,h[A>>2]=k,h[I>>2]=_,m=v+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function fl(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,_=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,k=_+m|0,h[A>>2]=k,_=v+_|0,h[I>>2]=_,m=v+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function $s(A){switch(A=A|0,A|0){case 1:{A=5;break}case 5:{A=4;break}case 4:{A=6;break}case 6:{A=2;break}case 2:{A=3;break}case 3:{A=1;break}}return A|0}function Ti(A){switch(A=A|0,A|0){case 1:{A=3;break}case 3:{A=2;break}case 2:{A=6;break}case 6:{A=4;break}case 4:{A=5;break}case 5:{A=1;break}}return A|0}function zu(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;m=h[A>>2]|0,I=A+4|0,v=h[I>>2]|0,B=A+8|0,_=h[B>>2]|0,k=v+(m<<1)|0,h[A>>2]=k,v=_+(v<<1)|0,h[I>>2]=v,m=(_<<1)+m|0,h[B>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=_,h[B>>2]=m,h[A>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,h[A>>2]=_,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=k,h[B>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=_-v,h[I>>2]=k-v,h[B>>2]=m-v)}function Vc(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=h[A>>2]|0,I=A+4|0,m=h[I>>2]|0,B=A+8|0,v=h[B>>2]|0,_=(m<<1)+k|0,k=v+(k<<1)|0,h[A>>2]=k,h[I>>2]=_,m=(v<<1)+m|0,h[B>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,h[I>>2]=v,h[B>>2]=m,h[A>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,h[A>>2]=k,m=m-v|0,h[B>>2]=m,h[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(h[A>>2]=O,h[I>>2]=_,h[B>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(h[A>>2]=k-v,h[I>>2]=_-v,h[B>>2]=m-v)}function Zi(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;return I=(h[A>>2]|0)-(h[m>>2]|0)|0,B=(I|0)<0,_=(h[A+4>>2]|0)-(h[m+4>>2]|0)-(B?I:0)|0,O=(_|0)<0,k=(B?0-I|0:0)+(h[A+8>>2]|0)-(h[m+8>>2]|0)+(O?0-_|0:0)|0,A=(k|0)<0,m=A?0:k,v=(O?0:_)-(A?k:0)|0,k=(B?0:I)-(O?_:0)-(A?k:0)|0,A=(v|0)<(k|0)?v:k,A=(m|0)<(A|0)?m:A,_=(A|0)>0,m=m-(_?A:0)|0,v=v-(_?A:0)|0,A=k-(_?A:0)|0,A=(A|0)>-1?A:0-A|0,v=(v|0)>-1?v:0-v|0,m=(m|0)>-1?m:0-m|0,m=(v|0)>(m|0)?v:m,((A|0)>(m|0)?A:m)|0}function Hc(A,m){A=A|0,m=m|0;var v=0;v=h[A+8>>2]|0,h[m>>2]=(h[A>>2]|0)-v,h[m+4>>2]=(h[A+4>>2]|0)-v}function Vs(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;_=h[A>>2]|0,h[m>>2]=_,A=h[A+4>>2]|0,I=m+4|0,h[I>>2]=A,B=m+8|0,h[B>>2]=0,v=A-_|0,(_|0)<0?(A=0-_|0,h[I>>2]=v,h[B>>2]=A,h[m>>2]=0,_=0):(v=A,A=0),(v|0)<0&&(_=_-v|0,h[m>>2]=_,A=A-v|0,h[B>>2]=A,h[I>>2]=0,v=0),O=_-A|0,k=v-A|0,(A|0)<0?(h[m>>2]=O,h[I>>2]=k,h[B>>2]=0,v=k,k=O,A=0):k=_,_=(v|0)<(k|0)?v:k,_=(A|0)<(_|0)?A:_,!((_|0)<=0)&&(h[m>>2]=k-_,h[I>>2]=v-_,h[B>>2]=A-_)}function Cs(A){A=A|0;var m=0,v=0,_=0,k=0;m=A+8|0,k=h[m>>2]|0,v=k-(h[A>>2]|0)|0,h[A>>2]=v,_=A+4|0,A=(h[_>>2]|0)-k|0,h[_>>2]=A,h[m>>2]=0-(A+v)}function fo(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;v=h[A>>2]|0,m=0-v|0,h[A>>2]=m,I=A+8|0,h[I>>2]=0,B=A+4|0,_=h[B>>2]|0,k=_+v|0,(v|0)>0?(h[B>>2]=k,h[I>>2]=v,h[A>>2]=0,m=0,_=k):v=0,(_|0)<0?(O=m-_|0,h[A>>2]=O,v=v-_|0,h[I>>2]=v,h[B>>2]=0,k=O-v|0,m=0-v|0,(v|0)<0?(h[A>>2]=k,h[B>>2]=m,h[I>>2]=0,_=m,v=0):(_=0,k=O)):k=m,m=(_|0)<(k|0)?_:k,m=(v|0)<(m|0)?v:m,!((m|0)<=0)&&(h[A>>2]=k-m,h[B>>2]=_-m,h[I>>2]=v-m)}function Nu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Me,Me=Me+16|0,k=_,po(A,m,v,k),Nn(k,v+4|0),Me=_}function po(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0;if(G=Me,Me=Me+32|0,O=G,Yc(A,O),h[v>>2]=0,k=+wn(15888,O),I=+wn(15912,O),I<k&&(h[v>>2]=1,k=I),I=+wn(15936,O),I<k&&(h[v>>2]=2,k=I),I=+wn(15960,O),I<k&&(h[v>>2]=3,k=I),I=+wn(15984,O),I<k&&(h[v>>2]=4,k=I),I=+wn(16008,O),I<k&&(h[v>>2]=5,k=I),I=+wn(16032,O),I<k&&(h[v>>2]=6,k=I),I=+wn(16056,O),I<k&&(h[v>>2]=7,k=I),I=+wn(16080,O),I<k&&(h[v>>2]=8,k=I),I=+wn(16104,O),I<k&&(h[v>>2]=9,k=I),I=+wn(16128,O),I<k&&(h[v>>2]=10,k=I),I=+wn(16152,O),I<k&&(h[v>>2]=11,k=I),I=+wn(16176,O),I<k&&(h[v>>2]=12,k=I),I=+wn(16200,O),I<k&&(h[v>>2]=13,k=I),I=+wn(16224,O),I<k&&(h[v>>2]=14,k=I),I=+wn(16248,O),I<k&&(h[v>>2]=15,k=I),I=+wn(16272,O),I<k&&(h[v>>2]=16,k=I),I=+wn(16296,O),I<k&&(h[v>>2]=17,k=I),I=+wn(16320,O),I<k&&(h[v>>2]=18,k=I),I=+wn(16344,O),I<k&&(h[v>>2]=19,k=I),I=+An(+(1-k*.5)),I<1e-16){h[_>>2]=0,h[_+4>>2]=0,h[_+8>>2]=0,h[_+12>>2]=0,Me=G;return}if(v=h[v>>2]|0,k=+ge[16368+(v*24|0)>>3],k=+Al(k-+Al(+qs(15568+(v<<4)|0,A))),Yo(m)|0?B=+Al(k+-.3334731722518321):B=k,k=+Gt(+I)/.381966011250105,(m|0)>0){O=0;do k=k*2.6457513110645907,O=O+1|0;while((O|0)!=(m|0))}I=+pr(+B)*k,ge[_>>3]=I,B=+lr(+B)*k,ge[_+8>>3]=B,Me=G}function ss(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;if(O=+sc(A),O<1e-16){m=15568+(m<<4)|0,h[k>>2]=h[m>>2],h[k+4>>2]=h[m+4>>2],h[k+8>>2]=h[m+8>>2],h[k+12>>2]=h[m+12>>2];return}if(I=+dn(+ +ge[A+8>>3],+ +ge[A>>3]),(v|0)>0){A=0;do O=O/2.6457513110645907,A=A+1|0;while((A|0)!=(v|0))}_?(O=O/3,v=(Yo(v)|0)==0,O=+Ln(+((v?O:O/2.6457513110645907)*.381966011250105))):(O=+Ln(+(O*.381966011250105)),Yo(v)|0&&(I=+Al(I+.3334731722518321))),Gs(15568+(m<<4)|0,+Al(+ge[16368+(m*24|0)>>3]-I),O,k)}function fu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Me,Me=Me+16|0,k=_,Fo(A+4|0,k),ss(k,h[A>>2]|0,m,0,v),Me=_}function Xo(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(D=Me,Me=Me+272|0,O=D+256|0,mt=D+240|0,y=D,E=D+224|0,M=D+208|0,Dt=D+176|0,Ke=D+160|0,_r=D+192|0,xr=D+144|0,Zt=D+128|0,c=D+112|0,p=D+96|0,f=D+80|0,h[O>>2]=m,h[mt>>2]=h[A>>2],h[mt+4>>2]=h[A+4>>2],h[mt+8>>2]=h[A+8>>2],h[mt+12>>2]=h[A+12>>2],pl(mt,O,y),h[k>>2]=0,mt=_+v+((_|0)==5&1)|0,(mt|0)<=(v|0)){Me=D;return}G=h[O>>2]|0,te=E+4|0,ce=Dt+4|0,De=v+5|0,Ze=16848+(G<<2)|0,ot=16928+(G<<2)|0,bt=Zt+8|0,kt=c+8|0,Ut=p+8|0,ur=M+4|0,B=v;e:for(;;){I=y+(((B|0)%5|0)<<4)|0,h[M>>2]=h[I>>2],h[M+4>>2]=h[I+4>>2],h[M+8>>2]=h[I+8>>2],h[M+12>>2]=h[I+12>>2];do;while((Dn(M,G,0,1)|0)==2);if((B|0)>(v|0)&(Yo(m)|0)!=0){if(h[Dt>>2]=h[M>>2],h[Dt+4>>2]=h[M+4>>2],h[Dt+8>>2]=h[M+8>>2],h[Dt+12>>2]=h[M+12>>2],Fo(te,Ke),_=h[Dt>>2]|0,O=h[17008+(_*80|0)+(h[E>>2]<<2)>>2]|0,h[Dt>>2]=h[18608+(_*80|0)+(O*20|0)>>2],I=h[18608+(_*80|0)+(O*20|0)+16>>2]|0,(I|0)>0){A=0;do js(ce),A=A+1|0;while((A|0)<(I|0))}switch(I=18608+(_*80|0)+(O*20|0)+4|0,h[_r>>2]=h[I>>2],h[_r+4>>2]=h[I+4>>2],h[_r+8>>2]=h[I+8>>2],Of(_r,(h[Ze>>2]|0)*3|0),kn(ce,_r,ce),qr(ce),Fo(ce,xr),U=+(h[ot>>2]|0),ge[Zt>>3]=U*3,ge[bt>>3]=0,q=U*-1.5,ge[c>>3]=q,ge[kt>>3]=U*2.598076211353316,ge[p>>3]=q,ge[Ut>>3]=U*-2.598076211353316,h[17008+((h[Dt>>2]|0)*80|0)+(h[M>>2]<<2)>>2]|0){case 1:{A=c,_=Zt;break}case 3:{A=p,_=c;break}case 2:{A=Zt,_=p;break}default:{A=12;break e}}Xs(Ke,xr,_,A,f),ss(f,h[Dt>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1}if((B|0)<(De|0)&&(Fo(ur,Dt),ss(Dt,h[M>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1),h[E>>2]=h[M>>2],h[E+4>>2]=h[M+4>>2],h[E+8>>2]=h[M+8>>2],h[E+12>>2]=h[M+12>>2],B=B+1|0,(B|0)>=(mt|0)){A=3;break}}if((A|0)==3){Me=D;return}else(A|0)==12&&br(22474,22521,581,22531)}function pl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;G=Me,Me=Me+128|0,_=G+64|0,k=G,O=_,I=20208,B=O+60|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));O=k,I=20272,B=O+60|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));B=(Yo(h[m>>2]|0)|0)==0,_=B?_:k,k=A+4|0,zu(k),Vc(k),Yo(h[m>>2]|0)|0&&(yi(k),h[m>>2]=(h[m>>2]|0)+1),h[v>>2]=h[A>>2],m=v+4|0,kn(k,_,m),qr(m),h[v+16>>2]=h[A>>2],m=v+20|0,kn(k,_+12|0,m),qr(m),h[v+32>>2]=h[A>>2],m=v+36|0,kn(k,_+24|0,m),qr(m),h[v+48>>2]=h[A>>2],m=v+52|0,kn(k,_+36|0,m),qr(m),h[v+64>>2]=h[A>>2],v=v+68|0,kn(k,_+48|0,v),qr(v),Me=G}function Dn(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0;if(bt=Me,Me=Me+32|0,Ze=bt+12|0,B=bt,ot=A+4|0,De=h[16928+(m<<2)>>2]|0,ce=(_|0)!=0,De=ce?De*3|0:De,k=h[ot>>2]|0,te=A+8|0,I=h[te>>2]|0,ce){if(O=A+12|0,_=h[O>>2]|0,k=I+k+_|0,(k|0)==(De|0))return ot=1,Me=bt,ot|0;G=O}else G=A+12|0,_=h[G>>2]|0,k=I+k+_|0;if((k|0)<=(De|0))return ot=0,Me=bt,ot|0;do if((_|0)>0){if(_=h[A>>2]|0,(I|0)>0){O=18608+(_*80|0)+60|0,_=A;break}_=18608+(_*80|0)+40|0,v?(cu(Ze,De,0,0),sl(ot,Ze,B),fl(B),kn(B,Ze,ot),O=_,_=A):(O=_,_=A)}else O=18608+((h[A>>2]|0)*80|0)+20|0,_=A;while(0);if(h[_>>2]=h[O>>2],k=O+16|0,(h[k>>2]|0)>0){_=0;do js(ot),_=_+1|0;while((_|0)<(h[k>>2]|0))}return A=O+4|0,h[Ze>>2]=h[A>>2],h[Ze+4>>2]=h[A+4>>2],h[Ze+8>>2]=h[A+8>>2],m=h[16848+(m<<2)>>2]|0,Of(Ze,ce?m*3|0:m),kn(ot,Ze,ot),qr(ot),ce?_=((h[te>>2]|0)+(h[ot>>2]|0)+(h[G>>2]|0)|0)==(De|0)?1:2:_=2,ot=_,Me=bt,ot|0}function ei(A,m){A=A|0,m=m|0;var v=0;do v=Dn(A,m,0,1)|0;while((v|0)==2);return v|0}function Ua(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0,p=0,f=0,y=0;if(p=Me,Me=Me+240|0,O=p+224|0,_r=p+208|0,xr=p,Zt=p+192|0,c=p+176|0,Ut=p+160|0,ur=p+144|0,mt=p+128|0,Dt=p+112|0,Ke=p+96|0,h[O>>2]=m,h[_r>>2]=h[A>>2],h[_r+4>>2]=h[A+4>>2],h[_r+8>>2]=h[A+8>>2],h[_r+12>>2]=h[A+12>>2],Jl(_r,O,xr),h[k>>2]=0,kt=_+v+((_|0)==6&1)|0,(kt|0)<=(v|0)){Me=p;return}G=h[O>>2]|0,te=v+6|0,ce=16928+(G<<2)|0,De=ur+8|0,Ze=mt+8|0,ot=Dt+8|0,bt=Zt+4|0,I=0,B=v,_=-1;e:for(;;){if(O=(B|0)%6|0,A=xr+(O<<4)|0,h[Zt>>2]=h[A>>2],h[Zt+4>>2]=h[A+4>>2],h[Zt+8>>2]=h[A+8>>2],h[Zt+12>>2]=h[A+12>>2],A=I,I=Dn(Zt,G,0,1)|0,(B|0)>(v|0)&(Yo(m)|0)!=0&&(A|0)!=1&&(h[Zt>>2]|0)!=(_|0)){switch(Fo(xr+(((O+5|0)%6|0)<<4)+4|0,c),Fo(xr+(O<<4)+4|0,Ut),f=+(h[ce>>2]|0),ge[ur>>3]=f*3,ge[De>>3]=0,y=f*-1.5,ge[mt>>3]=y,ge[Ze>>3]=f*2.598076211353316,ge[Dt>>3]=y,ge[ot>>3]=f*-2.598076211353316,O=h[_r>>2]|0,h[17008+(O*80|0)+(((_|0)==(O|0)?h[Zt>>2]|0:_)<<2)>>2]|0){case 1:{A=mt,_=ur;break}case 3:{A=Dt,_=mt;break}case 2:{A=ur,_=Dt;break}default:{A=8;break e}}Xs(c,Ut,_,A,Ke),!(mo(c,Ke)|0)&&!(mo(Ut,Ke)|0)&&(ss(Ke,h[_r>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1)}if((B|0)<(te|0)&&(Fo(bt,c),ss(c,h[Zt>>2]|0,G,1,k+8+(h[k>>2]<<4)|0),h[k>>2]=(h[k>>2]|0)+1),B=B+1|0,(B|0)>=(kt|0)){A=3;break}else _=h[Zt>>2]|0}if((A|0)==3){Me=p;return}else(A|0)==8&&br(22557,22521,746,22602)}function Jl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0;G=Me,Me=Me+160|0,_=G+80|0,k=G,O=_,I=20336,B=O+72|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));O=k,I=20416,B=O+72|0;do h[O>>2]=h[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(B|0));B=(Yo(h[m>>2]|0)|0)==0,_=B?_:k,k=A+4|0,zu(k),Vc(k),Yo(h[m>>2]|0)|0&&(yi(k),h[m>>2]=(h[m>>2]|0)+1),h[v>>2]=h[A>>2],m=v+4|0,kn(k,_,m),qr(m),h[v+16>>2]=h[A>>2],m=v+20|0,kn(k,_+12|0,m),qr(m),h[v+32>>2]=h[A>>2],m=v+36|0,kn(k,_+24|0,m),qr(m),h[v+48>>2]=h[A>>2],m=v+52|0,kn(k,_+36|0,m),qr(m),h[v+64>>2]=h[A>>2],m=v+68|0,kn(k,_+48|0,m),qr(m),h[v+80>>2]=h[A>>2],v=v+84|0,kn(k,_+60|0,v),qr(v),Me=G}function Al(A){A=+A;var m=0;return m=A<0?A+6.283185307179586:A,+(A>=6.283185307179586?m+-6.283185307179586:m)}function Hs(A,m){return A=A|0,m=m|0,+ct(+(+ge[A>>3]-+ge[m>>3]))<17453292519943298e-27?(m=+ct(+(+ge[A+8>>3]-+ge[m+8>>3]))<17453292519943298e-27,m|0):(m=0,m|0)}function Mp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ge[m>>3],_=+ge[A>>3],O=+lr(+((k-_)*.5)),v=+lr(+((+ge[m+8>>3]-+ge[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Ot(+v),+ +Ot(+(1-v)))*2)}function ec(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ge[m>>3],_=+ge[A>>3],O=+lr(+((k-_)*.5)),v=+lr(+((+ge[m+8>>3]-+ge[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Ot(+v),+ +Ot(+(1-v)))*2*6371.007180918475)}function pu(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ge[m>>3],_=+ge[A>>3],O=+lr(+((k-_)*.5)),v=+lr(+((+ge[m+8>>3]-+ge[A+8>>3])*.5)),v=O*O+v*(+pr(+k)*+pr(+_)*v),+(+dn(+ +Ot(+v),+ +Ot(+(1-v)))*2*6371.007180918475*1e3)}function qs(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;return O=+ge[m>>3],_=+pr(+O),k=+ge[m+8>>3]-+ge[A+8>>3],I=_*+lr(+k),v=+ge[A>>3],+ +dn(+I,+(+lr(+O)*+pr(+v)-+pr(+k)*(_*+lr(+v))))}function Gs(A,m,v,_){A=A|0,m=+m,v=+v,_=_|0;var k=0,O=0,I=0,B=0;if(v<1e-16){h[_>>2]=h[A>>2],h[_+4>>2]=h[A+4>>2],h[_+8>>2]=h[A+8>>2],h[_+12>>2]=h[A+12>>2];return}O=m<0?m+6.283185307179586:m,O=m>=6.283185307179586?O+-6.283185307179586:O;do if(O<1e-16)m=+ge[A>>3]+v,ge[_>>3]=m,k=_;else{if(k=+ct(+(O+-3.141592653589793))<1e-16,m=+ge[A>>3],k){m=m-v,ge[_>>3]=m,k=_;break}if(I=+pr(+v),v=+lr(+v),m=I*+lr(+m)+ +pr(+O)*(v*+pr(+m)),m=m>1?1:m,m=+Xr(+(m<-1?-1:m)),ge[_>>3]=m,+ct(+(m+-1.5707963267948966))<1e-16){ge[_>>3]=1.5707963267948966,ge[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ge[_>>3]=-1.5707963267948966,ge[_+8>>3]=0;return}if(B=+pr(+m),O=v*+lr(+O)/B,v=+ge[A>>3],m=(I-+lr(+m)*+lr(+v))/+pr(+v)/B,I=O>1?1:O,m=m>1?1:m,m=+ge[A+8>>3]+ +dn(+(I<-1?-1:I),+(m<-1?-1:m)),m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ge[_+8>>3]=m;return}while(0);if(+ct(+(m+-1.5707963267948966))<1e-16){ge[k>>3]=1.5707963267948966,ge[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ge[k>>3]=-1.5707963267948966,ge[_+8>>3]=0;return}if(m=+ge[A+8>>3],m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ge[_+8>>3]=m}function Uu(A){return A=A|0,+ +ge[20496+(A<<3)>>3]}function Rp(A){return A=A|0,+ +ge[20624+(A<<3)>>3]}function qc(A){return A=A|0,+ +ge[20752+(A<<3)>>3]}function Au(A){return A=A|0,+ +ge[20880+(A<<3)>>3]}function tc(A){A=A|0;var m=0;return m=21008+(A<<3)|0,A=h[m>>2]|0,Xt(h[m+4>>2]|0),A|0}function _a(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0;return Ze=+ge[m>>3],ce=+ge[A>>3],G=+lr(+((Ze-ce)*.5)),O=+ge[m+8>>3],te=+ge[A+8>>3],I=+lr(+((O-te)*.5)),B=+pr(+ce),De=+pr(+Ze),I=G*G+I*(De*B*I),I=+dn(+ +Ot(+I),+ +Ot(+(1-I)))*2,G=+ge[v>>3],Ze=+lr(+((G-Ze)*.5)),_=+ge[v+8>>3],O=+lr(+((_-O)*.5)),k=+pr(+G),O=Ze*Ze+O*(De*k*O),O=+dn(+ +Ot(+O),+ +Ot(+(1-O)))*2,G=+lr(+((ce-G)*.5)),_=+lr(+((te-_)*.5)),_=G*G+_*(B*k*_),_=+dn(+ +Ot(+_),+ +Ot(+(1-_)))*2,k=(I+O+_)*.5,+(+Ln(+ +Ot(+(+Gt(+(k*.5))*+Gt(+((k-I)*.5))*+Gt(+((k-O)*.5))*+Gt(+((k-_)*.5)))))*4)}function ju(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Me,Me=Me+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)<=0)return v=0,Me=O,+v;if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)==1)return Me=O,+v;A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0));return Me=O,+v}function Gc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Me,Me=Me+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0))}}else v=0;return Me=O,+(v*6371.007180918475*6371.007180918475)}function rc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Me,Me=Me+192|0,_=O+168|0,k=O,ls(A,m,_),Qs(A,m,k),m=h[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){A=1;do I=A,A=A+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((A|0)%(m|0)|0)<<4)|0,_);while((A|0)<(m|0))}}else v=0;return Me=O,+(v*6371.007180918475*6371.007180918475*1e3*1e3)}function Vn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0;if(I=Me,Me=Me+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Me=I,+k;m=A+-1|0,A=0,v=0,_=+ge[O+8>>3],k=+ge[O+16>>3];do A=A+1|0,G=_,_=+ge[O+8+(A<<4)>>3],te=+lr(+((_-G)*.5)),B=k,k=+ge[O+8+(A<<4)+8>>3],B=+lr(+((k-B)*.5)),B=te*te+B*(+pr(+_)*+pr(+G)*B),v=v+ +dn(+ +Ot(+B),+ +Ot(+(1-B)))*2;while((A|0)<(m|0));return Me=I,+v}function Qc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0;if(I=Me,Me=Me+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Me=I,+k;m=A+-1|0,A=0,v=0,_=+ge[O+8>>3],k=+ge[O+16>>3];do A=A+1|0,G=_,_=+ge[O+8+(A<<4)>>3],te=+lr(+((_-G)*.5)),B=k,k=+ge[O+8+(A<<4)+8>>3],B=+lr(+((k-B)*.5)),B=te*te+B*(+pr(+G)*+pr(+_)*B),v=v+ +dn(+ +Ot(+B),+ +Ot(+(1-B)))*2;while((A|0)!=(m|0));return te=v*6371.007180918475,Me=I,+te}function Mf(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0;if(I=Me,Me=Me+176|0,O=I,ti(A,m,O),A=h[O>>2]|0,(A|0)<=1)return k=0,Me=I,+k;m=A+-1|0,A=0,v=0,_=+ge[O+8>>3],k=+ge[O+16>>3];do A=A+1|0,G=_,_=+ge[O+8+(A<<4)>>3],te=+lr(+((_-G)*.5)),B=k,k=+ge[O+8+(A<<4)+8>>3],B=+lr(+((k-B)*.5)),B=te*te+B*(+pr(+G)*+pr(+_)*B),v=v+ +dn(+ +Ot(+B),+ +Ot(+(1-B)))*2;while((A|0)!=(m|0));return te=v*6371.007180918475*1e3,Me=I,+te}function To(A,m){return A=A|0,m=m|0,m=dt(A|0,m|0,52)|0,Ge()|0,m&15|0}function Wc(A,m){return A=A|0,m=m|0,m=dt(A|0,m|0,45)|0,Ge()|0,m&127|0}function hl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0;if(!(!0&(m&-16777216|0)==134217728)||(I=dt(A|0,m|0,45)|0,Ge()|0,I=I&127,I>>>0>121))return m=0,m|0;v=dt(A|0,m|0,52)|0,Ge()|0,v=v&15;do if(v|0){for(k=1,_=0;;){if(O=dt(A|0,m|0,(15-k|0)*3|0)|0,Ge()|0,O=O&7,(O|0)!=0&(_^1))if((O|0)==1&(ci(I)|0)!=0){B=0,_=13;break}else _=1;if((O|0)==7){B=0,_=13;break}if(k>>>0<v>>>0)k=k+1|0;else{_=9;break}}if((_|0)==9){if((v|0)==15)B=1;else break;return B|0}else if((_|0)==13)return B|0}while(0);for(;;){if(B=dt(A|0,m|0,(14-v|0)*3|0)|0,Ge()|0,!((B&7|0)==7&!0)){B=0,_=13;break}if(v>>>0<14)v=v+1|0;else{B=1,_=13;break}}return(_|0)==13?B|0:0}function hu(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,(_|0)>=(v|0)){if((_|0)!=(v|0))if(v>>>0<=15){if(k=Yt(v|0,0,52)|0,A=k|A,m=Ge()|0|m&-15728641,(_|0)>(v|0))do k=Yt(7,0,(14-v|0)*3|0)|0,v=v+1|0,A=k|A,m=Ge()|0|m;while((v|0)<(_|0))}else m=0,A=0}else m=0,A=0;return Xt(m|0),A|0}function Rf(A,m,v){return A=A|0,m=m|0,v=v|0,A=dt(A|0,m|0,52)|0,Ge()|0,A=A&15,(v|0)<16&(A|0)<=(v|0)?(v=ho(7,v-A|0)|0,v|0):(v=0,v|0)}function Ao(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0;if(I=dt(A|0,m|0,52)|0,Ge()|0,I=I&15,!!((v|0)<16&(I|0)<=(v|0))){if((I|0)==(v|0)){v=_,h[v>>2]=A,h[v+4>>2]=m;return}if(G=ho(7,v-I|0)|0,te=(G|0)/7|0,B=dt(A|0,m|0,45)|0,Ge()|0,!(ci(B&127)|0))O=0;else{e:do if(!I)k=0;else for(O=1;;){if(k=dt(A|0,m|0,(15-O|0)*3|0)|0,Ge()|0,k=k&7,k|0)break e;if(O>>>0<I>>>0)O=O+1|0;else{k=0;break}}while(0);O=(k|0)==0}if(ce=Yt(I+1|0,0,52)|0,k=Ge()|0|m&-15728641,B=(14-I|0)*3|0,m=Yt(7,0,B|0)|0,m=(ce|A)&~m,I=k&~(Ge()|0),Ao(m,I,v,_),k=_+(te<<3)|0,!O){ce=Yt(1,0,B|0)|0,Ao(ce|m,Ge()|0|I,v,k),ce=k+(te<<3)|0,G=Yt(2,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),ce=ce+(te<<3)|0,G=Yt(3,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),ce=ce+(te<<3)|0,G=Yt(4,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),ce=ce+(te<<3)|0,G=Yt(5,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),G=Yt(6,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce+(te<<3)|0);return}O=k+(te<<3)|0,(G|0)>6&&(G=k+8|0,ce=(O>>>0>G>>>0?O:G)+-1+(0-k)|0,$i(k|0,0,ce+8&-8|0)|0,k=G+(ce>>>3<<3)|0),ce=Yt(2,0,B|0)|0,Ao(ce|m,Ge()|0|I,v,k),ce=k+(te<<3)|0,G=Yt(3,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),ce=ce+(te<<3)|0,G=Yt(4,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),ce=ce+(te<<3)|0,G=Yt(5,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce),G=Yt(6,0,B|0)|0,Ao(G|m,Ge()|0|I,v,ce+(te<<3)|0)}}function Ui(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(k=dt(A|0,m|0,45)|0,Ge()|0,!(ci(k&127)|0))return k=0,k|0;k=dt(A|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!k)v=0;else for(_=1;;){if(v=dt(A|0,m|0,(15-_|0)*3|0)|0,Ge()|0,v=v&7,v|0)break e;if(_>>>0<k>>>0)_=_+1|0;else{v=0;break}}while(0);return k=(v|0)==0&1,k|0}function Zc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,(v|0)<16&(_|0)<=(v|0)){if((_|0)!=(v|0)&&(k=Yt(v|0,0,52)|0,A=k|A,m=Ge()|0|m&-15728641,(_|0)<(v|0)))do k=Yt(7,0,(14-_|0)*3|0)|0,_=_+1|0,A=A&~k,m=m&~(Ge()|0);while((_|0)<(v|0))}else m=0,A=0;return Xt(m|0),A|0}function nc(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0;if(!v)return Zt=0,Zt|0;if(k=A,_=h[k>>2]|0,k=h[k+4>>2]|0,!0&(k&15728640|0)==0){if((v|0)<=0||(Zt=m,h[Zt>>2]=_,h[Zt+4>>2]=k,(v|0)==1))return Zt=0,Zt|0;_=1;do _r=A+(_<<3)|0,xr=h[_r+4>>2]|0,Zt=m+(_<<3)|0,h[Zt>>2]=h[_r>>2],h[Zt+4>>2]=xr,_=_+1|0;while((_|0)!=(v|0));return _=0,_|0}if(_r=v<<3,xr=Pi(_r)|0,!xr)return Zt=-3,Zt|0;if(No(xr|0,A|0,_r|0)|0,Ke=zo(v,8)|0,!Ke)return Fr(xr),Zt=-3,Zt|0;_=v;e:for(;;){I=xr,ce=h[I>>2]|0,I=h[I+4>>2]|0,mt=dt(ce|0,I|0,52)|0,Ge()|0,mt=mt&15,Dt=mt+-1|0,ur=(_|0)>0;t:do if(ur){if(Ut=((_|0)<0)<<31>>31,bt=Yt(Dt|0,0,52)|0,kt=Ge()|0,Dt>>>0>15)for(k=0,A=ce,v=I;;){if(!((A|0)==0&(v|0)==0)){if(O=dt(A|0,v|0,52)|0,Ge()|0,O=O&15,B=(O|0)<(Dt|0),O=(O|0)==(Dt|0),te=B?0:O?A:0,A=B?0:O?v:0,v=Qt(te|0,A|0,_|0,Ut|0)|0,Ge()|0,O=Ke+(v<<3)|0,B=O,G=h[B>>2]|0,B=h[B+4>>2]|0,(G|0)==0&(B|0)==0)v=te;else for(bt=0,ot=v,Ze=B,v=te;;){if((bt|0)>(_|0)){Zt=41;break e}if((G|0)==(v|0)&(Ze&-117440513|0)==(A|0)){te=dt(G|0,Ze|0,56)|0,Ge()|0,te=te&7,De=te+1|0,kt=dt(G|0,Ze|0,45)|0,Ge()|0;r:do if(!(ci(kt&127)|0))B=7;else{if(G=dt(G|0,Ze|0,52)|0,Ge()|0,G=G&15,!G){B=6;break}for(B=1;;){if(kt=Yt(7,0,(15-B|0)*3|0)|0,!((kt&v|0)==0&((Ge()|0)&A|0)==0)){B=7;break r}if(B>>>0<G>>>0)B=B+1|0;else{B=6;break}}}while(0);if((te+2|0)>>>0>B>>>0){Zt=51;break e}kt=Yt(De|0,0,56)|0,A=Ge()|0|A&-117440513,B=O,h[B>>2]=0,h[B+4>>2]=0,B=ot,v=kt|v}else B=(ot+1|0)%(_|0)|0;if(O=Ke+(B<<3)|0,Ze=O,G=h[Ze>>2]|0,Ze=h[Ze+4>>2]|0,(G|0)==0&(Ze|0)==0)break;bt=bt+1|0,ot=B}kt=O,h[kt>>2]=v,h[kt+4>>2]=A}if(k=k+1|0,(k|0)>=(_|0))break t;v=xr+(k<<3)|0,A=h[v>>2]|0,v=h[v+4>>2]|0}for(k=0,A=ce,v=I;;){if(!((A|0)==0&(v|0)==0)){if(B=dt(A|0,v|0,52)|0,Ge()|0,B=B&15,(B|0)>=(Dt|0)){if((B|0)!=(Dt|0)&&(A=A|bt,v=v&-15728641|kt,B>>>0>=mt>>>0)){O=Dt;do ot=Yt(7,0,(14-O|0)*3|0)|0,O=O+1|0,A=ot|A,v=Ge()|0|v;while(O>>>0<B>>>0)}}else A=0,v=0;if(B=Qt(A|0,v|0,_|0,Ut|0)|0,Ge()|0,O=Ke+(B<<3)|0,G=O,te=h[G>>2]|0,G=h[G+4>>2]|0,!((te|0)==0&(G|0)==0))for(ot=0;;){if((ot|0)>(_|0)){Zt=41;break e}if((te|0)==(A|0)&(G&-117440513|0)==(v|0)){De=dt(te|0,G|0,56)|0,Ge()|0,De=De&7,Ze=De+1|0,c=dt(te|0,G|0,45)|0,Ge()|0;r:do if(!(ci(c&127)|0))G=7;else{if(te=dt(te|0,G|0,52)|0,Ge()|0,te=te&15,!te){G=6;break}for(G=1;;){if(c=Yt(7,0,(15-G|0)*3|0)|0,!((c&A|0)==0&((Ge()|0)&v|0)==0)){G=7;break r}if(G>>>0<te>>>0)G=G+1|0;else{G=6;break}}}while(0);if((De+2|0)>>>0>G>>>0){Zt=51;break e}c=Yt(Ze|0,0,56)|0,v=Ge()|0|v&-117440513,Ze=O,h[Ze>>2]=0,h[Ze+4>>2]=0,A=c|A}else B=(B+1|0)%(_|0)|0;if(O=Ke+(B<<3)|0,G=O,te=h[G>>2]|0,G=h[G+4>>2]|0,(te|0)==0&(G|0)==0)break;ot=ot+1|0}c=O,h[c>>2]=A,h[c+4>>2]=v}if(k=k+1|0,(k|0)>=(_|0))break t;v=xr+(k<<3)|0,A=h[v>>2]|0,v=h[v+4>>2]|0}}while(0);if((_+5|0)>>>0<11){Zt=99;break}if(kt=zo((_|0)/6|0,8)|0,!kt){Zt=58;break}t:do if(ur){ot=0,Ze=0;do{if(B=Ke+(ot<<3)|0,A=B,k=h[A>>2]|0,A=h[A+4>>2]|0,!((k|0)==0&(A|0)==0)){G=dt(k|0,A|0,56)|0,Ge()|0,G=G&7,v=G+1|0,te=A&-117440513,c=dt(k|0,A|0,45)|0,Ge()|0;r:do if(ci(c&127)|0){if(De=dt(k|0,A|0,52)|0,Ge()|0,De=De&15,De|0)for(O=1;;){if(c=Yt(7,0,(15-O|0)*3|0)|0,!((k&c|0)==0&(te&(Ge()|0)|0)==0))break r;if(O>>>0<De>>>0)O=O+1|0;else break}A=Yt(v|0,0,56)|0,k=A|k,A=Ge()|0|te,v=B,h[v>>2]=k,h[v+4>>2]=A,v=G+2|0}while(0);(v|0)==7&&(c=kt+(Ze<<3)|0,h[c>>2]=k,h[c+4>>2]=A&-117440513,Ze=Ze+1|0)}ot=ot+1|0}while((ot|0)!=(_|0));if(ur){if(bt=((_|0)<0)<<31>>31,De=Yt(Dt|0,0,52)|0,ot=Ge()|0,Dt>>>0>15)for(A=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){for(G=dt(ce|0,I|0,52)|0,Ge()|0,G=G&15,O=(G|0)<(Dt|0),G=(G|0)==(Dt|0),B=O?0:G?ce:0,G=O?0:G?I:0,O=Qt(B|0,G|0,_|0,bt|0)|0,Ge()|0,v=0;;){if((v|0)>(_|0)){Zt=98;break e}if(c=Ke+(O<<3)|0,te=h[c+4>>2]|0,(te&-117440513|0)==(G|0)&&(h[c>>2]|0)==(B|0)){Zt=70;break}if(O=(O+1|0)%(_|0)|0,c=Ke+(O<<3)|0,(h[c>>2]|0)==(B|0)&&(h[c+4>>2]|0)==(G|0))break;v=v+1|0}if((Zt|0)==70&&(Zt=0,!0&(te&117440512|0)==100663296))break;c=m+(k<<3)|0,h[c>>2]=ce,h[c+4>>2]=I,k=k+1|0}while(0);if(A=A+1|0,(A|0)>=(_|0)){_=Ze;break t}I=xr+(A<<3)|0,ce=h[I>>2]|0,I=h[I+4>>2]|0}for(A=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){if(G=dt(ce|0,I|0,52)|0,Ge()|0,G=G&15,(G|0)>=(Dt|0))if((G|0)!=(Dt|0))if(v=ce|De,O=I&-15728641|ot,G>>>0<mt>>>0)G=O;else{B=Dt;do c=Yt(7,0,(14-B|0)*3|0)|0,B=B+1|0,v=c|v,O=Ge()|0|O;while(B>>>0<G>>>0);G=O}else v=ce,G=I;else v=0,G=0;for(B=Qt(v|0,G|0,_|0,bt|0)|0,Ge()|0,O=0;;){if((O|0)>(_|0)){Zt=98;break e}if(c=Ke+(B<<3)|0,te=h[c+4>>2]|0,(te&-117440513|0)==(G|0)&&(h[c>>2]|0)==(v|0)){Zt=93;break}if(B=(B+1|0)%(_|0)|0,c=Ke+(B<<3)|0,(h[c>>2]|0)==(v|0)&&(h[c+4>>2]|0)==(G|0))break;O=O+1|0}if((Zt|0)==93&&(Zt=0,!0&(te&117440512|0)==100663296))break;c=m+(k<<3)|0,h[c>>2]=ce,h[c+4>>2]=I,k=k+1|0}while(0);if(A=A+1|0,(A|0)>=(_|0)){_=Ze;break t}I=xr+(A<<3)|0,ce=h[I>>2]|0,I=h[I+4>>2]|0}}else k=0,_=Ze}else k=0,_=0;while(0);if($i(Ke|0,0,_r|0)|0,No(xr|0,kt|0,_<<3|0)|0,Fr(kt),_)m=m+(k<<3)|0;else break}return(Zt|0)==41?(Fr(xr),Fr(Ke),c=-1,c|0):(Zt|0)==51?(Fr(xr),Fr(Ke),c=-2,c|0):(Zt|0)==58?(Fr(xr),Fr(Ke),c=-3,c|0):(Zt|0)==98?(Fr(kt),Fr(xr),Fr(Ke),c=-1,c|0):((Zt|0)==99&&No(m|0,xr|0,_<<3|0)|0,Fr(xr),Fr(Ke),c=0,c|0)}function dl(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0;if((m|0)<=0)return k=0,k|0;if((k|0)>=16){for(O=0;;){if(ce=A+(O<<3)|0,!((h[ce>>2]|0)==0&(h[ce+4>>2]|0)==0)){O=14;break}if(O=O+1|0,(O|0)>=(m|0)){I=0,O=16;break}}if((O|0)==14)return((_|0)>0?-2:-1)|0;if((O|0)==16)return I|0}O=0,ce=0;e:for(;;){te=A+(ce<<3)|0,B=te,I=h[B>>2]|0,B=h[B+4>>2]|0;do if(!((I|0)==0&(B|0)==0)){if((O|0)>=(_|0)){I=-1,O=16;break e}if(G=dt(I|0,B|0,52)|0,Ge()|0,G=G&15,(G|0)>(k|0)){I=-2,O=16;break e}if((G|0)==(k|0)){te=v+(O<<3)|0,h[te>>2]=I,h[te+4>>2]=B,O=O+1|0;break}if(I=(ho(7,k-G|0)|0)+O|0,(I|0)>(_|0)){I=-1,O=16;break e}Ao(h[te>>2]|0,h[te+4>>2]|0,k,v+(O<<3)|0),O=I}while(0);if(ce=ce+1|0,(ce|0)>=(m|0)){I=0,O=16;break}}return(O|0)==16?I|0:0}function du(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if((m|0)<=0)return v=0,v|0;if((v|0)>=16){for(_=0;;){if(I=A+(_<<3)|0,!((h[I>>2]|0)==0&(h[I+4>>2]|0)==0)){_=-1,k=13;break}if(_=_+1|0,(_|0)>=(m|0)){_=0,k=13;break}}if((k|0)==13)return _|0}_=0,I=0;e:for(;;){k=A+(I<<3)|0,O=h[k>>2]|0,k=h[k+4>>2]|0;do if(!((O|0)==0&(k|0)==0)){if(k=dt(O|0,k|0,52)|0,Ge()|0,k=k&15,(k|0)>(v|0)){_=-1,k=13;break e}if((k|0)==(v|0)){_=_+1|0;break}else{_=(ho(7,v-k|0)|0)+_|0;break}}while(0);if(I=I+1|0,(I|0)>=(m|0)){k=13;break}}return(k|0)==13?_|0:0}function ic(A,m){return A=A|0,m=m|0,m=dt(A|0,m|0,52)|0,Ge()|0,m&1|0}function Si(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(k=dt(A|0,m|0,52)|0,Ge()|0,k=k&15,!k)return k=0,k|0;for(_=1;;){if(v=dt(A|0,m|0,(15-_|0)*3|0)|0,Ge()|0,v=v&7,v|0){_=5;break}if(_>>>0<k>>>0)_=_+1|0;else{v=0,_=5;break}}return(_|0)==5?v|0:0}function ml(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(G=dt(A|0,m|0,52)|0,Ge()|0,G=G&15,!G)return B=m,G=A,Xt(B|0),G|0;for(B=1,v=0;;){O=(15-B|0)*3|0,_=Yt(7,0,O|0)|0,k=Ge()|0,I=dt(A|0,m|0,O|0)|0,Ge()|0,O=Yt($s(I&7)|0,0,O|0)|0,I=Ge()|0,A=O|A&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(A|0,m|0,(15-v|0)*3|0)|0,Ge()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(I=(15-v|0)*3|0,k=dt(A|0,m|0,I|0)|0,Ge()|0,O=Yt(7,0,I|0)|0,m=m&~(Ge()|0),I=Yt($s(k&7)|0,0,I|0)|0,A=A&~O|I,m=m|(Ge()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return Xt(m|0),A|0}function Es(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,!_)return v=m,_=A,Xt(v|0),_|0;for(v=1;O=(15-v|0)*3|0,I=dt(A|0,m|0,O|0)|0,Ge()|0,k=Yt(7,0,O|0)|0,m=m&~(Ge()|0),O=Yt($s(I&7)|0,0,O|0)|0,A=O|A&~k,m=Ge()|0|m,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),A|0}function ks(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(G=dt(A|0,m|0,52)|0,Ge()|0,G=G&15,!G)return B=m,G=A,Xt(B|0),G|0;for(B=1,v=0;;){O=(15-B|0)*3|0,_=Yt(7,0,O|0)|0,k=Ge()|0,I=dt(A|0,m|0,O|0)|0,Ge()|0,O=Yt(Ti(I&7)|0,0,O|0)|0,I=Ge()|0,A=O|A&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=dt(A|0,m|0,(15-v|0)*3|0)|0,Ge()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(k=(15-v|0)*3|0,O=Yt(7,0,k|0)|0,I=m&~(Ge()|0),m=dt(A|0,m|0,k|0)|0,Ge()|0,m=Yt(Ti(m&7)|0,0,k|0)|0,A=A&~O|m,m=I|(Ge()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return Xt(m|0),A|0}function ja(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,!_)return v=m,_=A,Xt(v|0),_|0;for(v=1;I=(15-v|0)*3|0,O=Yt(7,0,I|0)|0,k=m&~(Ge()|0),m=dt(A|0,m|0,I|0)|0,Ge()|0,m=Yt(Ti(m&7)|0,0,I|0)|0,A=m|A&~O,m=Ge()|0|k,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),A|0}function oc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0;if(G=Me,Me=Me+64|0,B=G+40|0,_=G+24|0,k=G+12|0,O=G,Yt(m|0,0,52)|0,v=Ge()|0|134225919,!m)return(h[A+4>>2]|0)>2||(h[A+8>>2]|0)>2||(h[A+12>>2]|0)>2?(I=0,B=0,Xt(I|0),Me=G,B|0):(Yt(Pf(A)|0,0,45)|0,I=Ge()|0|v,B=-1,Xt(I|0),Me=G,B|0);if(h[B>>2]=h[A>>2],h[B+4>>2]=h[A+4>>2],h[B+8>>2]=h[A+8>>2],h[B+12>>2]=h[A+12>>2],I=B+4|0,(m|0)>0)for(A=-1;h[_>>2]=h[I>>2],h[_+4>>2]=h[I+4>>2],h[_+8>>2]=h[I+8>>2],m&1?(Op(I),h[k>>2]=h[I>>2],h[k+4>>2]=h[I+4>>2],h[k+8>>2]=h[I+8>>2],ll(k)):(ul(I),h[k>>2]=h[I>>2],h[k+4>>2]=h[I+4>>2],h[k+8>>2]=h[I+8>>2],yi(k)),sl(_,k,O),qr(O),ce=(15-m|0)*3|0,te=Yt(7,0,ce|0)|0,v=v&~(Ge()|0),ce=Yt($c(O)|0,0,ce|0)|0,A=ce|A&~te,v=Ge()|0|v,(m|0)>1;)m=m+-1|0;else A=-1;e:do if((h[I>>2]|0)<=2&&(h[B+8>>2]|0)<=2&&(h[B+12>>2]|0)<=2){if(_=Pf(B)|0,m=Yt(_|0,0,45)|0,m=m|A,A=Ge()|0|v&-1040385,O=GA(B)|0,!(ci(_)|0)){if((O|0)<=0)break;for(k=0;;){if(_=dt(m|0,A|0,52)|0,Ge()|0,_=_&15,_)for(v=1;ce=(15-v|0)*3|0,B=dt(m|0,A|0,ce|0)|0,Ge()|0,te=Yt(7,0,ce|0)|0,A=A&~(Ge()|0),ce=Yt($s(B&7)|0,0,ce|0)|0,m=m&~te|ce,A=A|(Ge()|0),v>>>0<_>>>0;)v=v+1|0;if(k=k+1|0,(k|0)==(O|0))break e}}k=dt(m|0,A|0,52)|0,Ge()|0,k=k&15;t:do if(k){v=1;r:for(;;){switch(ce=dt(m|0,A|0,(15-v|0)*3|0)|0,Ge()|0,ce&7){case 1:break r;case 0:break;default:break t}if(v>>>0<k>>>0)v=v+1|0;else break t}if(Xl(_,h[B>>2]|0)|0)for(v=1;B=(15-v|0)*3|0,te=Yt(7,0,B|0)|0,ce=A&~(Ge()|0),A=dt(m|0,A|0,B|0)|0,Ge()|0,A=Yt(Ti(A&7)|0,0,B|0)|0,m=m&~te|A,A=ce|(Ge()|0),v>>>0<k>>>0;)v=v+1|0;else for(v=1;ce=(15-v|0)*3|0,B=dt(m|0,A|0,ce|0)|0,Ge()|0,te=Yt(7,0,ce|0)|0,A=A&~(Ge()|0),ce=Yt($s(B&7)|0,0,ce|0)|0,m=m&~te|ce,A=A|(Ge()|0),v>>>0<k>>>0;)v=v+1|0}while(0);if((O|0)>0){v=0;do m=ml(m,A)|0,A=Ge()|0,v=v+1|0;while((v|0)!=(O|0))}}else m=0,A=0;while(0);return te=A,ce=m,Xt(te|0),Me=G,ce|0}function Yo(A){return A=A|0,(A|0)%2|0|0}function Lp(A,m){A=A|0,m=m|0;var v=0,_=0;return _=Me,Me=Me+16|0,v=_,m>>>0<=15&&(h[A+4>>2]&2146435072|0)!=2146435072&&(h[A+8+4>>2]&2146435072|0)!=2146435072?(Nu(A,m,v),m=oc(v,m)|0,A=Ge()|0):(A=0,m=0),Xt(A|0),Me=_,m|0}function us(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(k=v+4|0,O=dt(A|0,m|0,52)|0,Ge()|0,O=O&15,I=dt(A|0,m|0,45)|0,Ge()|0,_=(O|0)==0,ci(I&127)|0){if(_)return I=1,I|0;_=1}else{if(_)return I=0,I|0;(h[k>>2]|0)==0&&(h[v+8>>2]|0)==0?_=(h[v+12>>2]|0)!=0&1:_=1}for(v=1;v&1?ll(k):yi(k),I=dt(A|0,m|0,(15-v|0)*3|0)|0,Ge()|0,cl(k,I&7),v>>>0<O>>>0;)v=v+1|0;return _|0}function fa(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0;ce=Me,Me=Me+16|0,G=ce,te=dt(A|0,m|0,45)|0,Ge()|0,te=te&127;e:do if((ci(te)|0)!=0&&(O=dt(A|0,m|0,52)|0,Ge()|0,O=O&15,(O|0)!=0)){_=1;t:for(;;){switch(B=dt(A|0,m|0,(15-_|0)*3|0)|0,Ge()|0,B&7){case 5:break t;case 0:break;default:{_=m;break e}}if(_>>>0<O>>>0)_=_+1|0;else{_=m;break e}}for(k=1,_=m;m=(15-k|0)*3|0,I=Yt(7,0,m|0)|0,B=_&~(Ge()|0),_=dt(A|0,_|0,m|0)|0,Ge()|0,_=Yt(Ti(_&7)|0,0,m|0)|0,A=A&~I|_,_=B|(Ge()|0),k>>>0<O>>>0;)k=k+1|0}else _=m;while(0);if(B=7728+(te*28|0)|0,h[v>>2]=h[B>>2],h[v+4>>2]=h[B+4>>2],h[v+8>>2]=h[B+8>>2],h[v+12>>2]=h[B+12>>2],!(us(A,_,v)|0)){Me=ce;return}if(I=v+4|0,h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],O=dt(A|0,_|0,52)|0,Ge()|0,B=O&15,O&1?(yi(I),O=B+1|0):O=B,!(ci(te)|0))_=0;else{e:do if(!B)_=0;else for(m=1;;){if(k=dt(A|0,_|0,(15-m|0)*3|0)|0,Ge()|0,k=k&7,k|0){_=k;break e}if(m>>>0<B>>>0)m=m+1|0;else{_=0;break}}while(0);_=(_|0)==4&1}if(!(Dn(v,O,_,0)|0))(O|0)!=(B|0)&&(h[I>>2]=h[G>>2],h[I+4>>2]=h[G+4>>2],h[I+8>>2]=h[G+8>>2]);else{if(ci(te)|0)do;while((Dn(v,O,0,0)|0)!=0);(O|0)!=(B|0)&&ul(I)}Me=ce}function ls(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;_=Me,Me=Me+16|0,k=_,fa(A,m,k),m=dt(A|0,m|0,52)|0,Ge()|0,fu(k,m&15,v),Me=_}function Qs(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;I=Me,Me=Me+16|0,O=I,fa(A,m,O),_=dt(A|0,m|0,45)|0,Ge()|0,_=(ci(_&127)|0)==0,k=dt(A|0,m|0,52)|0,Ge()|0,k=k&15;e:do if(!_){if(k|0)for(_=1;;){if(B=Yt(7,0,(15-_|0)*3|0)|0,!((B&A|0)==0&((Ge()|0)&m|0)==0))break e;if(_>>>0<k>>>0)_=_+1|0;else break}Xo(O,k,0,5,v),Me=I;return}while(0);Ua(O,k,0,6,v),Me=I}function Dp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;if(_=dt(A|0,m|0,45)|0,Ge()|0,!(ci(_&127)|0))return _=2,_|0;if(_=dt(A|0,m|0,52)|0,Ge()|0,_=_&15,!_)return _=5,_|0;for(v=1;;){if(k=Yt(7,0,(15-v|0)*3|0)|0,!((k&A|0)==0&((Ge()|0)&m|0)==0)){v=2,A=6;break}if(v>>>0<_>>>0)v=v+1|0;else{v=5,A=6;break}}return(A|0)==6?v|0:0}function Lf(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0;De=Me,Me=Me+128|0,te=De+112|0,O=De+96|0,ce=De,k=dt(A|0,m|0,52)|0,Ge()|0,B=k&15,h[te>>2]=B,I=dt(A|0,m|0,45)|0,Ge()|0,I=I&127;e:do if(ci(I)|0){if(B|0)for(_=1;;){if(G=Yt(7,0,(15-_|0)*3|0)|0,!((G&A|0)==0&((Ge()|0)&m|0)==0)){k=0;break e}if(_>>>0<B>>>0)_=_+1|0;else break}if(k&1)k=1;else{G=Yt(B+1|0,0,52)|0,ce=Ge()|0|m&-15728641,te=Yt(7,0,(14-B|0)*3|0)|0,Lf((G|A)&~te,ce&~(Ge()|0),v),Me=De;return}}else k=0;while(0);fa(A,m,O),k?(pl(O,te,ce),G=5):(Jl(O,te,ce),G=6);e:do if(ci(I)|0)if(!B)_=20;else for(_=1;;){if(I=Yt(7,0,(15-_|0)*3|0)|0,!((I&A|0)==0&((Ge()|0)&m|0)==0)){_=8;break e}if(_>>>0<B>>>0)_=_+1|0;else{_=20;break}}else _=8;while(0);if($i(v|0,-1,_|0)|0,k){k=0;do{for(O=ce+(k<<4)|0,ei(O,h[te>>2]|0)|0,O=h[O>>2]|0,_=0;I=v+(_<<2)|0,B=h[I>>2]|0,!((B|0)==-1|(B|0)==(O|0));)_=_+1|0;h[I>>2]=O,k=k+1|0}while((k|0)!=(G|0))}else{k=0;do{for(O=ce+(k<<4)|0,Dn(O,h[te>>2]|0,0,1)|0,O=h[O>>2]|0,_=0;I=v+(_<<2)|0,B=h[I>>2]|0,!((B|0)==-1|(B|0)==(O|0));)_=_+1|0;h[I>>2]=O,k=k+1|0}while((k|0)!=(G|0))}Me=De}function Kc(){return 12}function gl(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(Yt(A|0,0,52)|0,B=Ge()|0|134225919,(A|0)<1){_=0,v=0;do ci(_)|0&&(Yt(_|0,0,45)|0,I=B|(Ge()|0),A=m+(v<<3)|0,h[A>>2]=-1,h[A+4>>2]=I,v=v+1|0),_=_+1|0;while((_|0)!=122);return}I=0,v=0;do{if(ci(I)|0){for(Yt(I|0,0,45)|0,_=1,k=-1,O=B|(Ge()|0);G=Yt(7,0,(15-_|0)*3|0)|0,k=k&~G,O=O&~(Ge()|0),(_|0)!=(A|0);)_=_+1|0;G=m+(v<<3)|0,h[G>>2]=k,h[G+4>>2]=O,v=v+1|0}I=I+1|0}while((I|0)!=122)}function Ws(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0;if(B=Me,Me=Me+64|0,I=B,(A|0)==(v|0)&(m|0)==(_|0)|(!1|(m&2013265920|0)!=134217728|(!1|(_&2013265920|0)!=134217728))||(k=dt(A|0,m|0,52)|0,Ge()|0,k=k&15,O=dt(v|0,_|0,52)|0,Ge()|0,(k|0)!=(O&15|0)))return I=0,Me=B,I|0;if(O=k+-1|0,k>>>0>1&&(te=hu(A,m,O)|0,G=Ge()|0,O=hu(v,_,O)|0,(te|0)==(O|0)&(G|0)==(Ge()|0))&&(O=(k^15)*3|0,k=dt(A|0,m|0,O|0)|0,Ge()|0,k=k&7,O=dt(v|0,_|0,O|0)|0,Ge()|0,O=O&7,(k|0)==0|(O|0)==0||(h[21136+(k<<2)>>2]|0)==(O|0)||(h[21168+(k<<2)>>2]|0)==(O|0)))return te=1,Me=B,te|0;k=I,O=k+56|0;do h[k>>2]=0,k=k+4|0;while((k|0)<(O|0));return Zo(A,m,1,I),te=I,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0))&&(te=I+8|0,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0)))&&(te=I+16|0,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0)))&&(te=I+24|0,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0)))&&(te=I+32|0,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0)))&&(te=I+40|0,!((h[te>>2]|0)==(v|0)&&(h[te+4>>2]|0)==(_|0)))?(k=I+48|0,k=((h[k>>2]|0)==(v|0)?(h[k+4>>2]|0)==(_|0):0)&1):k=1,te=k,Me=B,te|0}function nt(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0;if(te=Me,Me=Me+16|0,I=te,!(Ws(A,m,v,_)|0))return B=0,G=0,Xt(B|0),Me=te,G|0;for(B=m&-2130706433,k=(Ui(A,m)|0)==0,k=k?1:2;h[I>>2]=0,ce=ki(A,m,k,I)|0,O=k+1|0,!((ce|0)==(v|0)&(Ge()|0)==(_|0));)if(O>>>0<7)k=O;else{k=0,A=0,G=6;break}return(G|0)==6?(Xt(k|0),Me=te,A|0):(ce=Yt(k|0,0,56)|0,G=B|(Ge()|0)|268435456,ce=A|ce,Xt(G|0),Me=te,ce|0)}function It(A,m){A=A|0,m=m|0;var v=0;return v=!0&(m&2013265920|0)==268435456,Xt((v?m&-2130706433|134217728:0)|0),(v?A:0)|0}function vt(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return _=Me,Me=Me+16|0,v=_,!0&(m&2013265920|0)==268435456?(k=dt(A|0,m|0,56)|0,Ge()|0,h[v>>2]=0,v=ki(A,m&-2130706433|134217728,k&7,v)|0,m=Ge()|0,Xt(m|0),Me=_,v|0):(m=0,v=0,Xt(m|0),Me=_,v|0)}function Ht(A,m){A=A|0,m=m|0;var v=0;if(!(!0&(m&2013265920|0)==268435456))return v=0,v|0;switch(v=dt(A|0,m|0,56)|0,Ge()|0,v&7){case 0:case 7:return v=0,v|0}return v=m&-2130706433|134217728,!0&(m&117440512|0)==16777216&(Ui(A,v)|0)!=0?(v=0,v|0):(v=hl(A,v)|0,v|0)}function Yr(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;O=Me,Me=Me+16|0,_=O,I=!0&(m&2013265920|0)==268435456,k=m&-2130706433|134217728,B=v,h[B>>2]=I?A:0,h[B+4>>2]=I?k:0,I?(m=dt(A|0,m|0,56)|0,Ge()|0,h[_>>2]=0,A=ki(A,k,m&7,_)|0,m=Ge()|0):(A=0,m=0),B=v+8|0,h[B>>2]=A,h[B+4>>2]=m,Me=O}function bn(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;k=(Ui(A,m)|0)==0,m=m&-2130706433,_=v,h[_>>2]=k?A:0,h[_+4>>2]=k?m|285212672:0,_=v+8|0,h[_>>2]=A,h[_+4>>2]=m|301989888,_=v+16|0,h[_>>2]=A,h[_+4>>2]=m|318767104,_=v+24|0,h[_>>2]=A,h[_+4>>2]=m|335544320,_=v+32|0,h[_>>2]=A,h[_+4>>2]=m|352321536,v=v+40|0,h[v>>2]=A,h[v+4>>2]=m|369098752}function ti(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0;if(I=Me,Me=Me+16|0,O=I,_=dt(A|0,m|0,56)|0,Ge()|0,B=!0&(m&2013265920|0)==268435456,k=B?A:0,A=B?m&-2130706433|134217728:0,m=Ff(k,A,_&7)|0,(m|0)==-1){h[v>>2]=0,Me=I;return}fa(k,A,O),_=dt(k|0,A|0,52)|0,Ge()|0,_=_&15,Ui(k,A)|0?Xo(O,_,m,2,v):Ua(O,_,m,2,v),Me=I}function Mr(A){A=A|0;var m=0,v=0,_=0;return m=zo(1,12)|0,m||br(22691,22646,49,22704),v=A+4|0,_=h[v>>2]|0,_|0?(_=_+8|0,h[_>>2]=m,h[v>>2]=m,m|0):(h[A>>2]|0&&br(22721,22646,61,22744),_=A,h[_>>2]=m,h[v>>2]=m,m|0)}function sn(A,m){A=A|0,m=m|0;var v=0,_=0;return _=Pi(24)|0,_||br(22758,22646,78,22772),h[_>>2]=h[m>>2],h[_+4>>2]=h[m+4>>2],h[_+8>>2]=h[m+8>>2],h[_+12>>2]=h[m+12>>2],h[_+16>>2]=0,m=A+4|0,v=h[m>>2]|0,v|0?(h[v+16>>2]=_,h[m>>2]=_,_|0):(h[A>>2]|0&&br(22787,22646,82,22772),h[A>>2]=_,h[m>>2]=_,_|0)}function $u(A){A=A|0;var m=0,v=0,_=0,k=0;if(!!A)for(_=1;;){if(m=h[A>>2]|0,m|0)do{if(v=h[m>>2]|0,v|0)do k=v,v=h[v+16>>2]|0,Fr(k);while((v|0)!=0);k=m,m=h[m+8>>2]|0,Fr(k)}while((m|0)!=0);if(m=A,A=h[A+8>>2]|0,_||Fr(m),A)_=0;else break}}function ji(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0,c=0,p=0,f=0,y=0,E=0,M=0,D=0,U=0,q=0;if(k=A+8|0,h[k>>2]|0)return q=1,q|0;if(_=h[A>>2]|0,!_)return q=0,q|0;m=_,v=0;do v=v+1|0,m=h[m+8>>2]|0;while((m|0)!=0);if(v>>>0<2)return q=0,q|0;D=Pi(v<<2)|0,D||br(22807,22646,317,22826),M=Pi(v<<5)|0,M||br(22848,22646,321,22826),h[A>>2]=0,xr=A+4|0,h[xr>>2]=0,h[k>>2]=0,v=0,E=0,_r=0,De=0;e:for(;;){if(ce=h[_>>2]|0,ce){O=0,I=ce;do{if(G=+ge[I+8>>3],m=I,I=h[I+16>>2]|0,te=(I|0)==0,k=te?ce:I,B=+ge[k+8>>3],+ct(+(G-B))>3.141592653589793){q=14;break}O=O+(B-G)*(+ge[m>>3]+ +ge[k>>3])}while(!te);if((q|0)==14){q=0,O=0,m=ce;do Ke=+ge[m+8>>3],y=m+16|0,f=h[y>>2]|0,f=(f|0)==0?ce:f,Dt=+ge[f+8>>3],O=O+(+ge[m>>3]+ +ge[f>>3])*((Dt<0?Dt+6.283185307179586:Dt)-(Ke<0?Ke+6.283185307179586:Ke)),m=h[((m|0)==0?_:y)>>2]|0;while((m|0)!=0)}O>0?(h[D+(E<<2)>>2]=_,E=E+1|0,k=_r,m=De):q=19}else q=19;if((q|0)==19){q=0;do if(v){if(m=v+8|0,h[m>>2]|0){q=21;break e}if(v=zo(1,12)|0,!v){q=23;break e}h[m>>2]=v,k=v+4|0,I=v,m=De}else if(De){k=xr,I=De+8|0,m=_,v=A;break}else if(h[A>>2]|0){q=27;break e}else{k=xr,I=A,m=_,v=A;break}while(0);if(h[I>>2]=_,h[k>>2]=_,I=M+(_r<<5)|0,te=h[_>>2]|0,te){for(ce=M+(_r<<5)+8|0,ge[ce>>3]=17976931348623157e292,De=M+(_r<<5)+24|0,ge[De>>3]=17976931348623157e292,ge[I>>3]=-17976931348623157e292,Ze=M+(_r<<5)+16|0,ge[Ze>>3]=-17976931348623157e292,ur=17976931348623157e292,mt=-17976931348623157e292,k=0,ot=te,G=17976931348623157e292,kt=17976931348623157e292,Ut=-17976931348623157e292,B=-17976931348623157e292;O=+ge[ot>>3],Ke=+ge[ot+8>>3],ot=h[ot+16>>2]|0,bt=(ot|0)==0,Dt=+ge[(bt?te:ot)+8>>3],O<G&&(ge[ce>>3]=O,G=O),Ke<kt&&(ge[De>>3]=Ke,kt=Ke),O>Ut?ge[I>>3]=O:O=Ut,Ke>B&&(ge[Ze>>3]=Ke,B=Ke),ur=Ke>0&Ke<ur?Ke:ur,mt=Ke<0&Ke>mt?Ke:mt,k=k|+ct(+(Ke-Dt))>3.141592653589793,!bt;)Ut=O;k&&(ge[Ze>>3]=mt,ge[De>>3]=ur)}else h[I>>2]=0,h[I+4>>2]=0,h[I+8>>2]=0,h[I+12>>2]=0,h[I+16>>2]=0,h[I+20>>2]=0,h[I+24>>2]=0,h[I+28>>2]=0;k=_r+1|0}if(y=_+8|0,_=h[y>>2]|0,h[y>>2]=0,_)_r=k,De=m;else{q=45;break}}if((q|0)==21)br(22624,22646,35,22658);else if((q|0)==23)br(22678,22646,37,22658);else if((q|0)==27)br(22721,22646,61,22744);else if((q|0)==45){e:do if((E|0)>0){for(y=(k|0)==0,p=k<<2,f=(A|0)==0,c=0,m=0;;){if(Zt=h[D+(c<<2)>>2]|0,y)q=73;else{if(_r=Pi(p)|0,!_r){q=50;break}if(xr=Pi(p)|0,!xr){q=52;break}t:do if(f)v=0;else{for(k=0,v=0,I=A;_=M+(k<<5)|0,yl(h[I>>2]|0,_,h[Zt>>2]|0)|0?(h[_r+(v<<2)>>2]=I,h[xr+(v<<2)>>2]=_,bt=v+1|0):bt=v,I=h[I+8>>2]|0,I;)k=k+1|0,v=bt;if((bt|0)>0)if(_=h[_r>>2]|0,(bt|0)==1)v=_;else for(Ze=0,ot=-1,v=_,De=_;;){for(te=h[De>>2]|0,_=0,I=0;k=h[h[_r+(I<<2)>>2]>>2]|0,(k|0)==(te|0)?ce=_:ce=_+((yl(k,h[xr+(I<<2)>>2]|0,h[te>>2]|0)|0)&1)|0,I=I+1|0,(I|0)!=(bt|0);)_=ce;if(k=(ce|0)>(ot|0),v=k?De:v,_=Ze+1|0,(_|0)==(bt|0))break t;Ze=_,ot=k?ce:ot,De=h[_r+(_<<2)>>2]|0}else v=0}while(0);if(Fr(_r),Fr(xr),v){if(k=v+4|0,_=h[k>>2]|0,_)v=_+8|0;else if(h[v>>2]|0){q=70;break}h[v>>2]=Zt,h[k>>2]=Zt}else q=73}if((q|0)==73){if(q=0,m=h[Zt>>2]|0,m|0)do xr=m,m=h[m+16>>2]|0,Fr(xr);while((m|0)!=0);Fr(Zt),m=2}if(c=c+1|0,(c|0)>=(E|0)){U=m;break e}}(q|0)==50?br(22863,22646,249,22882):(q|0)==52?br(22901,22646,252,22882):(q|0)==70&&br(22721,22646,61,22744)}else U=0;while(0);return Fr(D),Fr(M),q=U,q|0}return 0}function yl(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0;if(!(lu(m,v)|0)||(m=Ko(m)|0,te=+ge[v>>3],_=+ge[v+8>>3],_=m&_<0?_+6.283185307179586:_,A=h[A>>2]|0,!A))return A=0,A|0;if(m){m=0,v=A;e:for(;;){for(;I=+ge[v>>3],G=+ge[v+8>>3],v=v+16|0,ce=h[v>>2]|0,ce=(ce|0)==0?A:ce,O=+ge[ce>>3],k=+ge[ce+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(te<O|te>B);)if(v=h[v>>2]|0,!v){v=22;break e}if(G=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|G==_?_+-2220446049250313e-31:_,G=G+(te-O)/(B-O)*(I-G),(G<0?G+6.283185307179586:G)>_&&(m=m^1),v=h[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}else{m=0,v=A;e:for(;;){for(;I=+ge[v>>3],G=+ge[v+8>>3],v=v+16|0,ce=h[v>>2]|0,ce=(ce|0)==0?A:ce,O=+ge[ce>>3],k=+ge[ce+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(te<O|te>B);)if(v=h[v>>2]|0,!v){v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(te-O)/(B-O)*(I-k)>_&&(m=m^1),v=h[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}return 0}function xa(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0;if(mt=Me,Me=Me+32|0,ur=mt+16|0,Ut=mt,O=dt(A|0,m|0,52)|0,Ge()|0,O=O&15,ot=dt(v|0,_|0,52)|0,Ge()|0,(O|0)!=(ot&15|0))return ur=1,Me=mt,ur|0;if(te=dt(A|0,m|0,45)|0,Ge()|0,te=te&127,ce=dt(v|0,_|0,45)|0,Ge()|0,ce=ce&127,ot=(te|0)!=(ce|0),ot){if(B=Nc(te,ce)|0,(B|0)==7)return ur=2,Me=mt,ur|0;G=Nc(ce,te)|0,(G|0)==7?br(22925,22949,151,22959):(bt=B,I=G)}else bt=0,I=0;De=ci(te)|0,Ze=ci(ce)|0,h[ur>>2]=0,h[ur+4>>2]=0,h[ur+8>>2]=0,h[ur+12>>2]=0;do if(bt){if(ce=h[4304+(te*28|0)+(bt<<2)>>2]|0,B=(ce|0)>0,Ze)if(B){te=0,G=v,B=_;do G=ks(G,B)|0,B=Ge()|0,I=Ti(I)|0,(I|0)==1&&(I=Ti(1)|0),te=te+1|0;while((te|0)!=(ce|0));ce=I,te=G,G=B}else ce=I,te=v,G=_;else if(B){te=0,G=v,B=_;do G=ja(G,B)|0,B=Ge()|0,I=Ti(I)|0,te=te+1|0;while((te|0)!=(ce|0));ce=I,te=G,G=B}else ce=I,te=v,G=_;if(us(te,G,ur)|0,ot||br(22972,22949,181,22959),B=(De|0)!=0,I=(Ze|0)!=0,B&I&&br(22999,22949,182,22959),B){if(I=Si(A,m)|0,Qe[22032+(I*7|0)+bt>>0]|0){O=3;break}G=h[21200+(I*28|0)+(bt<<2)>>2]|0,te=G,kt=26}else if(I){if(I=Si(te,G)|0,Qe[22032+(I*7|0)+ce>>0]|0){O=4;break}te=0,G=h[21200+(ce*28|0)+(I<<2)>>2]|0,kt=26}else I=0;if((kt|0)==26)if((G|0)<=-1&&br(23030,22949,212,22959),(te|0)<=-1&&br(23053,22949,213,22959),(G|0)>0){B=ur+4|0,I=0;do fl(B),I=I+1|0;while((I|0)!=(G|0));I=te}else I=te;if(h[Ut>>2]=0,h[Ut+4>>2]=0,h[Ut+8>>2]=0,cl(Ut,bt),O|0)for(;Yo(O)|0?ll(Ut):yi(Ut),(O|0)>1;)O=O+-1|0;if((I|0)>0){O=0;do fl(Ut),O=O+1|0;while((O|0)!=(I|0))}kt=ur+4|0,kn(kt,Ut,kt),qr(kt),kt=50}else if(us(v,_,ur)|0,(De|0)!=0&(Ze|0)!=0)if((ce|0)!=(te|0)&&br(23077,22949,243,22959),I=Si(A,m)|0,O=Si(v,_)|0,Qe[22032+(I*7|0)+O>>0]|0)O=5;else if(I=h[21200+(I*28|0)+(O<<2)>>2]|0,(I|0)>0){B=ur+4|0,O=0;do fl(B),O=O+1|0;while((O|0)!=(I|0));kt=50}else kt=50;else kt=50;while(0);return(kt|0)==50&&(O=ur+4|0,h[k>>2]=h[O>>2],h[k+4>>2]=h[O+4>>2],h[k+8>>2]=h[O+8>>2],O=0),ur=O,Me=mt,ur|0}function cs(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0;if(bt=Me,Me=Me+48|0,I=bt+36|0,B=bt+24|0,G=bt+12|0,te=bt,O=dt(A|0,m|0,52)|0,Ge()|0,O=O&15,Ze=dt(A|0,m|0,45)|0,Ge()|0,Ze=Ze&127,ce=ci(Ze)|0,Yt(O|0,0,52)|0,Ut=Ge()|0|134225919,kt=_,h[kt>>2]=-1,h[kt+4>>2]=Ut,!O)return(h[v>>2]|0)>1||(h[v+4>>2]|0)>1||(h[v+8>>2]|0)>1||(k=Bu(Ze,$c(v)|0)|0,(k|0)==127)?(Ut=1,Me=bt,Ut|0):(ot=Yt(k|0,0,45)|0,kt=Ge()|0,Ze=_,kt=h[Ze+4>>2]&-1040385|kt,Ut=_,h[Ut>>2]=h[Ze>>2]|ot,h[Ut+4>>2]=kt,Ut=0,Me=bt,Ut|0);for(h[I>>2]=h[v>>2],h[I+4>>2]=h[v+4>>2],h[I+8>>2]=h[v+8>>2];h[B>>2]=h[I>>2],h[B+4>>2]=h[I+4>>2],h[B+8>>2]=h[I+8>>2],Yo(O)|0?(Op(I),h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],ll(G)):(ul(I),h[G>>2]=h[I>>2],h[G+4>>2]=h[I+4>>2],h[G+8>>2]=h[I+8>>2],yi(G)),sl(B,G,te),qr(te),kt=_,ur=h[kt>>2]|0,kt=h[kt+4>>2]|0,mt=(15-O|0)*3|0,v=Yt(7,0,mt|0)|0,kt=kt&~(Ge()|0),mt=Yt($c(te)|0,0,mt|0)|0,kt=Ge()|0|kt,Ut=_,h[Ut>>2]=mt|ur&~v,h[Ut+4>>2]=kt,(O|0)>1;)O=O+-1|0;e:do if((h[I>>2]|0)<=1&&(h[I+4>>2]|0)<=1&&(h[I+8>>2]|0)<=1){O=$c(I)|0,B=Bu(Ze,O)|0,(B|0)==127?te=0:te=ci(B)|0;t:do if(O){if(ce){if(I=21408+((Si(A,m)|0)*28|0)+(O<<2)|0,I=h[I>>2]|0,(I|0)>0){v=0;do O=$s(O)|0,v=v+1|0;while((v|0)!=(I|0))}if((O|0)==1){k=3;break e}v=Bu(Ze,O)|0,(v|0)==127&&br(23104,22949,376,23134),ci(v)|0?br(23147,22949,377,23134):(ot=I,De=O,k=v)}else ot=0,De=O,k=B;if(G=h[4304+(Ze*28|0)+(De<<2)>>2]|0,(G|0)<=-1&&br(23178,22949,384,23134),!te){if((ot|0)<=-1&&br(23030,22949,417,23134),ot|0){I=_,O=0,v=h[I>>2]|0,I=h[I+4>>2]|0;do v=Es(v,I)|0,I=Ge()|0,mt=_,h[mt>>2]=v,h[mt+4>>2]=I,O=O+1|0;while((O|0)<(ot|0))}if((G|0)<=0){O=54;break}for(I=_,O=0,v=h[I>>2]|0,I=h[I+4>>2]|0;;)if(v=Es(v,I)|0,I=Ge()|0,mt=_,h[mt>>2]=v,h[mt+4>>2]=I,O=O+1|0,(O|0)==(G|0)){O=54;break t}}if(B=Nc(k,Ze)|0,(B|0)==7&&br(22925,22949,393,23134),O=_,v=h[O>>2]|0,O=h[O+4>>2]|0,(G|0)>0){I=0;do v=Es(v,O)|0,O=Ge()|0,mt=_,h[mt>>2]=v,h[mt+4>>2]=O,I=I+1|0;while((I|0)!=(G|0))}if(v=Si(v,O)|0,mt=zc(k)|0,v=h[(mt?21824:21616)+(B*28|0)+(v<<2)>>2]|0,(v|0)<=-1&&br(23030,22949,412,23134),!v)O=54;else{B=_,O=0,I=h[B>>2]|0,B=h[B+4>>2]|0;do I=ml(I,B)|0,B=Ge()|0,mt=_,h[mt>>2]=I,h[mt+4>>2]=B,O=O+1|0;while((O|0)<(v|0));O=54}}else if((ce|0)!=0&(te|0)!=0)if(mt=Si(A,m)|0,O=_,O=21408+(mt*28|0)+((Si(h[O>>2]|0,h[O+4>>2]|0)|0)<<2)|0,O=h[O>>2]|0,(O|0)<=-1&&br(23201,22949,433,23134),!O)k=B,O=55;else{I=_,k=0,v=h[I>>2]|0,I=h[I+4>>2]|0;do v=Es(v,I)|0,I=Ge()|0,mt=_,h[mt>>2]=v,h[mt+4>>2]=I,k=k+1|0;while((k|0)<(O|0));k=B,O=54}else k=B,O=54;while(0);if((O|0)==54&&te&&(O=55),(O|0)==55&&(mt=_,(Si(h[mt>>2]|0,h[mt+4>>2]|0)|0)==1)){k=4;break}mt=_,Ut=h[mt>>2]|0,mt=h[mt+4>>2]&-1040385,ur=Yt(k|0,0,45)|0,mt=mt|(Ge()|0),k=_,h[k>>2]=Ut|ur,h[k+4>>2]=mt,k=0}else k=2;while(0);return mt=k,Me=bt,mt|0}function Xc(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;return I=Me,Me=Me+16|0,O=I,A=xa(A,m,v,_,O)|0,A||(Hc(O,k),A=0),Me=I,A|0}function mu(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return k=Me,Me=Me+16|0,O=k,Vs(v,O),_=cs(A,m,O,_)|0,Me=k,_|0}function Un(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Me,Me=Me+32|0,k=I+12|0,O=I,(xa(A,m,A,m,k)|0)==0&&(xa(A,m,v,_,O)|0)==0?A=Zi(k,O)|0:A=-1,Me=I,A|0}function ac(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Me,Me=Me+32|0,k=I+12|0,O=I,(xa(A,m,A,m,k)|0)==0&&(xa(A,m,v,_,O)|0)==0?A=Zi(k,O)|0:A=-1,Me=I,(A>>>31^1)+A|0}function Po(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0;if(_r=Me,Me=Me+48|0,O=_r+24|0,I=_r+12|0,Ke=_r,(xa(A,m,A,m,O)|0)==0&&(xa(A,m,v,_,I)|0)==0){if(Dt=Zi(O,I)|0,(Dt|0)<0)return Ke=Dt,Me=_r,Ke|0;for(h[O>>2]=0,h[O+4>>2]=0,h[O+8>>2]=0,h[I>>2]=0,h[I+4>>2]=0,h[I+8>>2]=0,xa(A,m,A,m,O)|0,xa(A,m,v,_,I)|0,Cs(O),Cs(I),Dt?(ce=h[O>>2]|0,ot=+(Dt|0),Ut=O+4|0,De=h[Ut>>2]|0,ur=O+8|0,Ze=h[ur>>2]|0,mt=O,v=ce,_=De,O=Ze,bt=+((h[I>>2]|0)-ce|0)/ot,kt=+((h[I+4>>2]|0)-De|0)/ot,ot=+((h[I+8>>2]|0)-Ze|0)/ot):(_=O+4|0,Ze=O+8|0,Ut=_,ur=Ze,mt=O,v=h[O>>2]|0,_=h[_>>2]|0,O=h[Ze>>2]|0,bt=0,kt=0,ot=0),h[Ke>>2]=v,Ze=Ke+4|0,h[Ze>>2]=_,De=Ke+8|0,h[De>>2]=O,ce=0;;){G=+(ce|0),xr=bt*G+ +(v|0),B=kt*G+ +(h[Ut>>2]|0),G=ot*G+ +(h[ur>>2]|0),_=~~+Ga(+xr),I=~~+Ga(+B),v=~~+Ga(+G),xr=+ct(+(+(_|0)-xr)),B=+ct(+(+(I|0)-B)),G=+ct(+(+(v|0)-G));do if(xr>B&xr>G)_=0-(I+v)|0,O=I;else if(te=0-_|0,B>G){O=te-v|0;break}else{O=I,v=te-I|0;break}while(0);if(h[Ke>>2]=_,h[Ze>>2]=O,h[De>>2]=v,fo(Ke),cs(A,m,Ke,k+(ce<<3)|0)|0,(ce|0)==(Dt|0))break;ce=ce+1|0,v=h[mt>>2]|0}return Ke=0,Me=_r,Ke|0}return Ke=-1,Me=_r,Ke|0}function ho(A,m){A=A|0,m=m|0;var v=0;if(!m)return v=1,v|0;v=A,A=1;do A=gn((m&1|0)==0?1:v,A)|0,m=m>>1,v=gn(v,v)|0;while((m|0)!=0);return A|0}function Df(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0;if(!(lu(m,v)|0)||(m=Ko(m)|0,Ze=+ge[v>>3],_=+ge[v+8>>3],_=m&_<0?_+6.283185307179586:_,De=h[A>>2]|0,(De|0)<=0))return De=0,De|0;if(ce=h[A+4>>2]|0,m){m=0,v=-1,A=0;e:for(;;){for(te=A;I=+ge[ce+(te<<4)>>3],G=+ge[ce+(te<<4)+8>>3],A=(v+2|0)%(De|0)|0,O=+ge[ce+(A<<4)>>3],k=+ge[ce+(A<<4)+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(Ze<O|Ze>B);)if(v=te+1|0,(v|0)<(De|0))A=te,te=v,v=A;else{v=22;break e}if(G=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|G==_?_+-2220446049250313e-31:_,G=G+(Ze-O)/(B-O)*(I-G),(G<0?G+6.283185307179586:G)>_&&(m=m^1),A=te+1|0,(A|0)>=(De|0)){v=22;break}else v=te}if((v|0)==22)return m|0}else{m=0,v=-1,A=0;e:for(;;){for(te=A;I=+ge[ce+(te<<4)>>3],G=+ge[ce+(te<<4)+8>>3],A=(v+2|0)%(De|0)|0,O=+ge[ce+(A<<4)>>3],k=+ge[ce+(A<<4)+8>>3],I>O?(B=I,I=G):(B=O,O=I,I=k,k=G),!!(Ze<O|Ze>B);)if(v=te+1|0,(v|0)<(De|0))A=te,te=v,v=A;else{v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(Ze-O)/(B-O)*(I-k)>_&&(m=m^1),A=te+1|0,(A|0)>=(De|0)){v=22;break}else v=te}if((v|0)==22)return m|0}return 0}function Ki(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0;if(bt=h[A>>2]|0,!bt){h[m>>2]=0,h[m+4>>2]=0,h[m+8>>2]=0,h[m+12>>2]=0,h[m+16>>2]=0,h[m+20>>2]=0,h[m+24>>2]=0,h[m+28>>2]=0;return}if(kt=m+8|0,ge[kt>>3]=17976931348623157e292,Ut=m+24|0,ge[Ut>>3]=17976931348623157e292,ge[m>>3]=-17976931348623157e292,ur=m+16|0,ge[ur>>3]=-17976931348623157e292,!((bt|0)<=0)){for(Ze=h[A+4>>2]|0,te=17976931348623157e292,ce=-17976931348623157e292,De=0,A=-1,O=17976931348623157e292,I=17976931348623157e292,G=-17976931348623157e292,_=-17976931348623157e292,ot=0;v=+ge[Ze+(ot<<4)>>3],B=+ge[Ze+(ot<<4)+8>>3],A=A+2|0,k=+ge[Ze+(((A|0)==(bt|0)?0:A)<<4)+8>>3],v<O&&(ge[kt>>3]=v,O=v),B<I&&(ge[Ut>>3]=B,I=B),v>G?ge[m>>3]=v:v=G,B>_&&(ge[ur>>3]=B,_=B),te=B>0&B<te?B:te,ce=B<0&B>ce?B:ce,De=De|+ct(+(B-k))>3.141592653589793,A=ot+1|0,(A|0)!=(bt|0);)mt=ot,G=v,ot=A,A=mt;!De||(ge[ur>>3]=ce,ge[Ut>>3]=te)}}function ba(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0,xr=0,Zt=0;if(bt=h[A>>2]|0,bt){if(kt=m+8|0,ge[kt>>3]=17976931348623157e292,Ut=m+24|0,ge[Ut>>3]=17976931348623157e292,ge[m>>3]=-17976931348623157e292,ur=m+16|0,ge[ur>>3]=-17976931348623157e292,(bt|0)>0){for(k=h[A+4>>2]|0,Ze=17976931348623157e292,ot=-17976931348623157e292,_=0,v=-1,G=17976931348623157e292,te=17976931348623157e292,De=-17976931348623157e292,I=-17976931348623157e292,mt=0;O=+ge[k+(mt<<4)>>3],ce=+ge[k+(mt<<4)+8>>3],xr=v+2|0,B=+ge[k+(((xr|0)==(bt|0)?0:xr)<<4)+8>>3],O<G&&(ge[kt>>3]=O,G=O),ce<te&&(ge[Ut>>3]=ce,te=ce),O>De?ge[m>>3]=O:O=De,ce>I&&(ge[ur>>3]=ce,I=ce),Ze=ce>0&ce<Ze?ce:Ze,ot=ce<0&ce>ot?ce:ot,_=_|+ct(+(ce-B))>3.141592653589793,v=mt+1|0,(v|0)!=(bt|0);)xr=mt,De=O,mt=v,v=xr;_&&(ge[ur>>3]=ot,ge[Ut>>3]=Ze)}}else h[m>>2]=0,h[m+4>>2]=0,h[m+8>>2]=0,h[m+12>>2]=0,h[m+16>>2]=0,h[m+20>>2]=0,h[m+24>>2]=0,h[m+28>>2]=0;if(xr=A+8|0,v=h[xr>>2]|0,!((v|0)<=0)){_r=A+12|0,Ke=0;do if(k=h[_r>>2]|0,_=Ke,Ke=Ke+1|0,Ut=m+(Ke<<5)|0,ur=h[k+(_<<3)>>2]|0,ur){if(mt=m+(Ke<<5)+8|0,ge[mt>>3]=17976931348623157e292,A=m+(Ke<<5)+24|0,ge[A>>3]=17976931348623157e292,ge[Ut>>3]=-17976931348623157e292,Dt=m+(Ke<<5)+16|0,ge[Dt>>3]=-17976931348623157e292,(ur|0)>0){for(bt=h[k+(_<<3)+4>>2]|0,Ze=17976931348623157e292,ot=-17976931348623157e292,k=0,_=-1,kt=0,G=17976931348623157e292,te=17976931348623157e292,ce=-17976931348623157e292,I=-17976931348623157e292;O=+ge[bt+(kt<<4)>>3],De=+ge[bt+(kt<<4)+8>>3],_=_+2|0,B=+ge[bt+(((_|0)==(ur|0)?0:_)<<4)+8>>3],O<G&&(ge[mt>>3]=O,G=O),De<te&&(ge[A>>3]=De,te=De),O>ce?ge[Ut>>3]=O:O=ce,De>I&&(ge[Dt>>3]=De,I=De),Ze=De>0&De<Ze?De:Ze,ot=De<0&De>ot?De:ot,k=k|+ct(+(De-B))>3.141592653589793,_=kt+1|0,(_|0)!=(ur|0);)Zt=kt,kt=_,ce=O,_=Zt;k&&(ge[Dt>>3]=ot,ge[A>>3]=Ze)}}else h[Ut>>2]=0,h[Ut+4>>2]=0,h[Ut+8>>2]=0,h[Ut+12>>2]=0,h[Ut+16>>2]=0,h[Ut+20>>2]=0,h[Ut+24>>2]=0,h[Ut+28>>2]=0,v=h[xr>>2]|0;while((Ke|0)<(v|0))}}function nr(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0;if(!(Df(A,m,v)|0))return k=0,k|0;if(k=A+8|0,(h[k>>2]|0)<=0)return k=1,k|0;for(_=A+12|0,A=0;;){if(O=A,A=A+1|0,Df((h[_>>2]|0)+(O<<3)|0,m+(A<<5)|0,v)|0){A=0,_=6;break}if((A|0)>=(h[k>>2]|0)){A=1,_=6;break}}return(_|0)==6?A|0:0}function $a(){return 8}function Zs(){return 16}function Ks(){return 168}function Bo(){return 8}function vl(){return 16}function Jo(){return 12}function sr(){return 8}function sc(A){A=A|0;var m=0,v=0;return v=+ge[A>>3],m=+ge[A+8>>3],+ +Ot(+(v*v+m*m))}function Xs(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0;te=+ge[A>>3],G=+ge[m>>3]-te,B=+ge[A+8>>3],I=+ge[m+8>>3]-B,De=+ge[v>>3],O=+ge[_>>3]-De,Ze=+ge[v+8>>3],ce=+ge[_+8>>3]-Ze,O=(O*(B-Ze)-(te-De)*ce)/(G*ce-I*O),ge[k>>3]=te+G*O,ge[k+8>>3]=B+I*O}function mo(A,m){return A=A|0,m=m|0,+ge[A>>3]!=+ge[m>>3]?(m=0,m|0):(m=+ge[A+8>>3]==+ge[m+8>>3],m|0)}function wn(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;return k=+ge[A>>3]-+ge[m>>3],_=+ge[A+8>>3]-+ge[m+8>>3],v=+ge[A+16>>3]-+ge[m+16>>3],+(k*k+_*_+v*v)}function Yc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0;v=+ge[A>>3],_=+pr(+v),v=+lr(+v),ge[m+16>>3]=v,v=+ge[A+8>>3],k=_*+pr(+v),ge[m>>3]=k,v=_*+lr(+v),ge[m+8>>3]=v}function Fp(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0;if(te=Me,Me=Me+32|0,k=te+16|0,O=te,fa(A,m,k),I=Wc(A,m)|0,G=Si(A,m)|0,If(I,O),m=Kl(I,h[k>>2]|0)|0,!(ci(I)|0))return G=m,Me=te,G|0;do switch(I|0){case 4:{A=0,v=14;break}case 14:{A=1,v=14;break}case 24:{A=2,v=14;break}case 38:{A=3,v=14;break}case 49:{A=4,v=14;break}case 58:{A=5,v=14;break}case 63:{A=6,v=14;break}case 72:{A=7,v=14;break}case 83:{A=8,v=14;break}case 97:{A=9,v=14;break}case 107:{A=10,v=14;break}case 117:{A=11,v=14;break}default:B=0,_=0}while(0);return(v|0)==14&&(B=h[22096+(A*24|0)+8>>2]|0,_=h[22096+(A*24|0)+16>>2]|0),A=h[k>>2]|0,(A|0)!=(h[O>>2]|0)&&(I=zc(I)|0,A=h[k>>2]|0,I|(A|0)==(_|0)&&(m=(m+1|0)%6|0)),(G|0)==3&(A|0)==(_|0)?(G=(m+5|0)%6|0,Me=te,G|0):(G|0)==5&(A|0)==(B|0)?(G=(m+1|0)%6|0,Me=te,G|0):(G=m,Me=te,G|0)}function Ff(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;return _=Ui(A,m)|0,(v+-1|0)>>>0>5||(k=(_|0)!=0,(v|0)==1&k)?(v=-1,v|0):(_=Fp(A,m)|0,k?(v=(5-_+(h[22384+(v<<2)>>2]|0)|0)%5|0,v|0):(v=(6-_+(h[22416+(v<<2)>>2]|0)|0)%6|0,v|0))}function go(A,m,v){A=A|0,m=m|0,v=v|0;var _=0;(m|0)>0?(_=zo(m,4)|0,h[A>>2]=_,_||br(23230,23253,40,23267)):h[A>>2]=0,h[A+4>>2]=m,h[A+8>>2]=0,h[A+12>>2]=v}function Va(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0;k=A+4|0,O=A+12|0,I=A+8|0;e:for(;;){for(v=h[k>>2]|0,m=0;;){if((m|0)>=(v|0))break e;if(_=h[A>>2]|0,B=h[_+(m<<2)>>2]|0,!B)m=m+1|0;else break}m=_+(~~(+ct(+(+xt(10,+ +(15-(h[O>>2]|0)|0))*(+ge[B>>3]+ +ge[B+8>>3])))%+(v|0))>>>0<<2)|0,v=h[m>>2]|0;t:do if(v|0){if(_=B+32|0,(v|0)==(B|0))h[m>>2]=h[_>>2];else{if(v=v+32|0,m=h[v>>2]|0,!m)break;for(;(m|0)!=(B|0);)if(v=m+32|0,m=h[v>>2]|0,!m)break t;h[v>>2]=h[_>>2]}Fr(B),h[I>>2]=(h[I>>2]|0)+-1}while(0)}Fr(h[A>>2]|0)}function Vu(A){A=A|0;var m=0,v=0,_=0;for(_=h[A+4>>2]|0,v=0;;){if((v|0)>=(_|0)){m=0,v=4;break}if(m=h[(h[A>>2]|0)+(v<<2)>>2]|0,!m)v=v+1|0;else{v=4;break}}return(v|0)==4?m|0:0}function Jc(A,m){A=A|0,m=m|0;var v=0,_=0,k=0,O=0;if(v=~~(+ct(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ge[m>>3]+ +ge[m+8>>3])))%+(h[A+4>>2]|0))>>>0,v=(h[A>>2]|0)+(v<<2)|0,_=h[v>>2]|0,!_)return O=1,O|0;O=m+32|0;do if((_|0)!=(m|0)){if(v=h[_+32>>2]|0,!v)return O=1,O|0;for(k=v;;){if((k|0)==(m|0)){k=8;break}if(v=h[k+32>>2]|0,v)_=k,k=v;else{v=1,k=10;break}}if((k|0)==8){h[_+32>>2]=h[O>>2];break}else if((k|0)==10)return v|0}else h[v>>2]=h[O>>2];while(0);return Fr(m),O=A+8|0,h[O>>2]=(h[O>>2]|0)+-1,O=0,O|0}function ef(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;O=Pi(40)|0,O||br(23283,23253,98,23296),h[O>>2]=h[m>>2],h[O+4>>2]=h[m+4>>2],h[O+8>>2]=h[m+8>>2],h[O+12>>2]=h[m+12>>2],k=O+16|0,h[k>>2]=h[v>>2],h[k+4>>2]=h[v+4>>2],h[k+8>>2]=h[v+8>>2],h[k+12>>2]=h[v+12>>2],h[O+32>>2]=0,k=~~(+ct(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ge[m>>3]+ +ge[m+8>>3])))%+(h[A+4>>2]|0))>>>0,k=(h[A>>2]|0)+(k<<2)|0,_=h[k>>2]|0;do if(!_)h[k>>2]=O;else{for(;!(Hs(_,m)|0&&Hs(_+16|0,v)|0);)if(k=h[_+32>>2]|0,_=(k|0)==0?_:k,!(h[_+32>>2]|0)){I=10;break}if((I|0)==10){h[_+32>>2]=O;break}return Fr(O),I=_,I|0}while(0);return I=A+8|0,h[I>>2]=(h[I>>2]|0)+1,I=O,I|0}function fs(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0;if(k=~~(+ct(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ge[m>>3]+ +ge[m+8>>3])))%+(h[A+4>>2]|0))>>>0,k=h[(h[A>>2]|0)+(k<<2)>>2]|0,!k)return v=0,v|0;if(!v){for(A=k;;){if(Hs(A,m)|0){_=10;break}if(A=h[A+32>>2]|0,!A){A=0,_=10;break}}if((_|0)==10)return A|0}for(A=k;;){if(Hs(A,m)|0&&Hs(A+16|0,v)|0){_=10;break}if(A=h[A+32>>2]|0,!A){A=0,_=10;break}}return(_|0)==10?A|0:0}function Bp(A,m){A=A|0,m=m|0;var v=0;if(v=~~(+ct(+(+xt(10,+ +(15-(h[A+12>>2]|0)|0))*(+ge[m>>3]+ +ge[m+8>>3])))%+(h[A+4>>2]|0))>>>0,A=h[(h[A>>2]|0)+(v<<2)>>2]|0,!A)return v=0,v|0;for(;;){if(Hs(A,m)|0){m=5;break}if(A=h[A+32>>2]|0,!A){A=0,m=5;break}}return(m|0)==5?A|0:0}function tn(){return 23312}function Gr(A){return A=+A,+ +zp(+A)}function pa(A){return A=+A,~~+Gr(A)|0}function Pi(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0,kt=0,Ut=0,ur=0,mt=0,Dt=0,Ke=0,_r=0;_r=Me,Me=Me+16|0,Ze=_r;do if(A>>>0<245){if(te=A>>>0<11?16:A+11&-8,A=te>>>3,De=h[5829]|0,v=De>>>A,v&3|0)return m=(v&1^1)+A|0,A=23356+(m<<1<<2)|0,v=A+8|0,_=h[v>>2]|0,k=_+8|0,O=h[k>>2]|0,(O|0)==(A|0)?h[5829]=De&~(1<<m):(h[O+12>>2]=A,h[v>>2]=O),Ke=m<<3,h[_+4>>2]=Ke|3,Ke=_+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1,Ke=k,Me=_r,Ke|0;if(ce=h[5831]|0,te>>>0>ce>>>0){if(v|0)return m=2<<A,m=v<<A&(m|0-m),m=(m&0-m)+-1|0,B=m>>>12&16,m=m>>>B,v=m>>>5&8,m=m>>>v,O=m>>>2&4,m=m>>>O,A=m>>>1&2,m=m>>>A,_=m>>>1&1,_=(v|B|O|A|_)+(m>>>_)|0,m=23356+(_<<1<<2)|0,A=m+8|0,O=h[A>>2]|0,B=O+8|0,v=h[B>>2]|0,(v|0)==(m|0)?(A=De&~(1<<_),h[5829]=A):(h[v+12>>2]=m,h[A>>2]=v,A=De),Ke=_<<3,I=Ke-te|0,h[O+4>>2]=te|3,k=O+te|0,h[k+4>>2]=I|1,h[O+Ke>>2]=I,ce|0&&(_=h[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=_,h[m+12>>2]=_,h[_+8>>2]=m,h[_+12>>2]=v),h[5831]=I,h[5834]=k,Ke=B,Me=_r,Ke|0;if(O=h[5830]|0,O){for(v=(O&0-O)+-1|0,k=v>>>12&16,v=v>>>k,_=v>>>5&8,v=v>>>_,I=v>>>2&4,v=v>>>I,B=v>>>1&2,v=v>>>B,G=v>>>1&1,G=h[23620+((_|k|I|B|G)+(v>>>G)<<2)>>2]|0,v=G,B=G,G=(h[G+4>>2]&-8)-te|0;A=h[v+16>>2]|0,!(!A&&(A=h[v+20>>2]|0,!A));)I=(h[A+4>>2]&-8)-te|0,k=I>>>0<G>>>0,v=A,B=k?A:B,G=k?I:G;if(I=B+te|0,I>>>0>B>>>0){k=h[B+24>>2]|0,m=h[B+12>>2]|0;do if((m|0)==(B|0)){if(A=B+20|0,m=h[A>>2]|0,!m&&(A=B+16|0,m=h[A>>2]|0,!m)){v=0;break}for(;;)if(_=m+20|0,v=h[_>>2]|0,v)m=v,A=_;else if(_=m+16|0,v=h[_>>2]|0,v)m=v,A=_;else break;h[A>>2]=0,v=m}else v=h[B+8>>2]|0,h[v+12>>2]=m,h[m+8>>2]=v,v=m;while(0);do if(k|0){if(m=h[B+28>>2]|0,A=23620+(m<<2)|0,(B|0)==(h[A>>2]|0)){if(h[A>>2]=v,!v){h[5830]=O&~(1<<m);break}}else if(Ke=k+16|0,h[((h[Ke>>2]|0)==(B|0)?Ke:k+20|0)>>2]=v,!v)break;h[v+24>>2]=k,m=h[B+16>>2]|0,m|0&&(h[v+16>>2]=m,h[m+24>>2]=v),m=h[B+20>>2]|0,m|0&&(h[v+20>>2]=m,h[m+24>>2]=v)}while(0);return G>>>0<16?(Ke=G+te|0,h[B+4>>2]=Ke|3,Ke=B+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1):(h[B+4>>2]=te|3,h[I+4>>2]=G|1,h[I+G>>2]=G,ce|0&&(_=h[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,m&De?(A=v+8|0,m=h[A>>2]|0):(h[5829]=m|De,m=v,A=v+8|0),h[A>>2]=_,h[m+12>>2]=_,h[_+8>>2]=m,h[_+12>>2]=v),h[5831]=G,h[5834]=I),Ke=B+8|0,Me=_r,Ke|0}else De=te}else De=te}else De=te}else if(A>>>0<=4294967231)if(A=A+11|0,te=A&-8,_=h[5830]|0,_){k=0-te|0,A=A>>>8,A?te>>>0>16777215?G=31:(De=(A+1048320|0)>>>16&8,kt=A<<De,B=(kt+520192|0)>>>16&4,kt=kt<<B,G=(kt+245760|0)>>>16&2,G=14-(B|De|G)+(kt<<G>>>15)|0,G=te>>>(G+7|0)&1|G<<1):G=0,v=h[23620+(G<<2)>>2]|0;e:do if(!v)v=0,A=0,kt=61;else for(A=0,B=te<<((G|0)==31?0:25-(G>>>1)|0),O=0;;){if(I=(h[v+4>>2]&-8)-te|0,I>>>0<k>>>0)if(I)A=v,k=I;else{A=v,k=0,kt=65;break e}if(kt=h[v+20>>2]|0,v=h[v+16+(B>>>31<<2)>>2]|0,O=(kt|0)==0|(kt|0)==(v|0)?O:kt,v)B=B<<1;else{v=O,kt=61;break}}while(0);if((kt|0)==61){if((v|0)==0&(A|0)==0){if(A=2<<G,A=(A|0-A)&_,!A){De=te;break}De=(A&0-A)+-1|0,I=De>>>12&16,De=De>>>I,O=De>>>5&8,De=De>>>O,B=De>>>2&4,De=De>>>B,G=De>>>1&2,De=De>>>G,v=De>>>1&1,A=0,v=h[23620+((O|I|B|G|v)+(De>>>v)<<2)>>2]|0}v?kt=65:(B=A,I=k)}if((kt|0)==65)for(O=v;;)if(De=(h[O+4>>2]&-8)-te|0,v=De>>>0<k>>>0,k=v?De:k,A=v?O:A,v=h[O+16>>2]|0,v||(v=h[O+20>>2]|0),v)O=v;else{B=A,I=k;break}if((B|0)!=0&&I>>>0<((h[5831]|0)-te|0)>>>0&&(ce=B+te|0,ce>>>0>B>>>0)){O=h[B+24>>2]|0,m=h[B+12>>2]|0;do if((m|0)==(B|0)){if(A=B+20|0,m=h[A>>2]|0,!m&&(A=B+16|0,m=h[A>>2]|0,!m)){m=0;break}for(;;)if(k=m+20|0,v=h[k>>2]|0,v)m=v,A=k;else if(k=m+16|0,v=h[k>>2]|0,v)m=v,A=k;else break;h[A>>2]=0}else Ke=h[B+8>>2]|0,h[Ke+12>>2]=m,h[m+8>>2]=Ke;while(0);do if(O){if(A=h[B+28>>2]|0,v=23620+(A<<2)|0,(B|0)==(h[v>>2]|0)){if(h[v>>2]=m,!m){_=_&~(1<<A),h[5830]=_;break}}else if(Ke=O+16|0,h[((h[Ke>>2]|0)==(B|0)?Ke:O+20|0)>>2]=m,!m)break;h[m+24>>2]=O,A=h[B+16>>2]|0,A|0&&(h[m+16>>2]=A,h[A+24>>2]=m),A=h[B+20>>2]|0,A&&(h[m+20>>2]=A,h[A+24>>2]=m)}while(0);e:do if(I>>>0<16)Ke=I+te|0,h[B+4>>2]=Ke|3,Ke=B+Ke+4|0,h[Ke>>2]=h[Ke>>2]|1;else{if(h[B+4>>2]=te|3,h[ce+4>>2]=I|1,h[ce+I>>2]=I,m=I>>>3,I>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=ce,h[m+12>>2]=ce,h[ce+8>>2]=m,h[ce+12>>2]=v;break}if(m=I>>>8,m?I>>>0>16777215?v=31:(Dt=(m+1048320|0)>>>16&8,Ke=m<<Dt,mt=(Ke+520192|0)>>>16&4,Ke=Ke<<mt,v=(Ke+245760|0)>>>16&2,v=14-(mt|Dt|v)+(Ke<<v>>>15)|0,v=I>>>(v+7|0)&1|v<<1):v=0,m=23620+(v<<2)|0,h[ce+28>>2]=v,A=ce+16|0,h[A+4>>2]=0,h[A>>2]=0,A=1<<v,!(_&A)){h[5830]=_|A,h[m>>2]=ce,h[ce+24>>2]=m,h[ce+12>>2]=ce,h[ce+8>>2]=ce;break}m=h[m>>2]|0;t:do if((h[m+4>>2]&-8|0)!=(I|0)){for(_=I<<((v|0)==31?0:25-(v>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(I|0)){m=A;break t}else _=_<<1,m=A;h[v>>2]=ce,h[ce+24>>2]=m,h[ce+12>>2]=ce,h[ce+8>>2]=ce;break e}while(0);Dt=m+8|0,Ke=h[Dt>>2]|0,h[Ke+12>>2]=ce,h[Dt>>2]=ce,h[ce+8>>2]=Ke,h[ce+12>>2]=m,h[ce+24>>2]=0}while(0);return Ke=B+8|0,Me=_r,Ke|0}else De=te}else De=te;else De=-1;while(0);if(v=h[5831]|0,v>>>0>=De>>>0)return m=v-De|0,A=h[5834]|0,m>>>0>15?(Ke=A+De|0,h[5834]=Ke,h[5831]=m,h[Ke+4>>2]=m|1,h[A+v>>2]=m,h[A+4>>2]=De|3):(h[5831]=0,h[5834]=0,h[A+4>>2]=v|3,Ke=A+v+4|0,h[Ke>>2]=h[Ke>>2]|1),Ke=A+8|0,Me=_r,Ke|0;if(I=h[5832]|0,I>>>0>De>>>0)return mt=I-De|0,h[5832]=mt,Ke=h[5835]|0,Dt=Ke+De|0,h[5835]=Dt,h[Dt+4>>2]=mt|1,h[Ke+4>>2]=De|3,Ke=Ke+8|0,Me=_r,Ke|0;if(h[5947]|0?A=h[5949]|0:(h[5949]=4096,h[5948]=4096,h[5950]=-1,h[5951]=-1,h[5952]=0,h[5940]=0,h[5947]=Ze&-16^1431655768,A=4096),B=De+48|0,G=De+47|0,O=A+G|0,k=0-A|0,te=O&k,te>>>0<=De>>>0||(A=h[5939]|0,A|0&&(ce=h[5937]|0,Ze=ce+te|0,Ze>>>0<=ce>>>0|Ze>>>0>A>>>0)))return Ke=0,Me=_r,Ke|0;e:do if(h[5940]&4)m=0,kt=143;else{v=h[5835]|0;t:do if(v){for(_=23764;Ze=h[_>>2]|0,!(Ze>>>0<=v>>>0&&(Ze+(h[_+4>>2]|0)|0)>>>0>v>>>0);)if(A=h[_+8>>2]|0,A)_=A;else{kt=128;break t}if(m=O-I&k,m>>>0<2147483647)if(A=ra(m|0)|0,(A|0)==((h[_>>2]|0)+(h[_+4>>2]|0)|0)){if((A|0)!=-1){I=m,O=A,kt=145;break e}}else _=A,kt=136;else m=0}else kt=128;while(0);do if((kt|0)==128)if(v=ra(0)|0,(v|0)!=-1&&(m=v,ot=h[5948]|0,bt=ot+-1|0,m=((bt&m|0)==0?0:(bt+m&0-ot)-m|0)+te|0,ot=h[5937]|0,bt=m+ot|0,m>>>0>De>>>0&m>>>0<2147483647)){if(Ze=h[5939]|0,Ze|0&&bt>>>0<=ot>>>0|bt>>>0>Ze>>>0){m=0;break}if(A=ra(m|0)|0,(A|0)==(v|0)){I=m,O=v,kt=145;break e}else _=A,kt=136}else m=0;while(0);do if((kt|0)==136){if(v=0-m|0,!(B>>>0>m>>>0&(m>>>0<2147483647&(_|0)!=-1)))if((_|0)==-1){m=0;break}else{I=m,O=_,kt=145;break e}if(A=h[5949]|0,A=G-m+A&0-A,A>>>0>=2147483647){I=m,O=_,kt=145;break e}if((ra(A|0)|0)==-1){ra(v|0)|0,m=0;break}else{I=A+m|0,O=_,kt=145;break e}}while(0);h[5940]=h[5940]|4,kt=143}while(0);if((kt|0)==143&&te>>>0<2147483647&&(mt=ra(te|0)|0,bt=ra(0)|0,Ut=bt-mt|0,ur=Ut>>>0>(De+40|0)>>>0,!((mt|0)==-1|ur^1|mt>>>0<bt>>>0&((mt|0)!=-1&(bt|0)!=-1)^1))&&(I=ur?Ut:m,O=mt,kt=145),(kt|0)==145){m=(h[5937]|0)+I|0,h[5937]=m,m>>>0>(h[5938]|0)>>>0&&(h[5938]=m),G=h[5835]|0;e:do if(G){for(m=23764;;){if(A=h[m>>2]|0,v=h[m+4>>2]|0,(O|0)==(A+v|0)){kt=154;break}if(_=h[m+8>>2]|0,_)m=_;else break}if((kt|0)==154&&(Dt=m+4|0,(h[m+12>>2]&8|0)==0)&&O>>>0>G>>>0&A>>>0<=G>>>0){h[Dt>>2]=v+I,Ke=(h[5832]|0)+I|0,mt=G+8|0,mt=(mt&7|0)==0?0:0-mt&7,Dt=G+mt|0,mt=Ke-mt|0,h[5835]=Dt,h[5832]=mt,h[Dt+4>>2]=mt|1,h[G+Ke+4>>2]=40,h[5836]=h[5951];break}for(O>>>0<(h[5833]|0)>>>0&&(h[5833]=O),v=O+I|0,m=23764;;){if((h[m>>2]|0)==(v|0)){kt=162;break}if(A=h[m+8>>2]|0,A)m=A;else break}if((kt|0)==162&&(h[m+12>>2]&8|0)==0){h[m>>2]=O,ce=m+4|0,h[ce>>2]=(h[ce>>2]|0)+I,ce=O+8|0,ce=O+((ce&7|0)==0?0:0-ce&7)|0,m=v+8|0,m=v+((m&7|0)==0?0:0-m&7)|0,te=ce+De|0,B=m-ce-De|0,h[ce+4>>2]=De|3;t:do if((G|0)==(m|0))Ke=(h[5832]|0)+B|0,h[5832]=Ke,h[5835]=te,h[te+4>>2]=Ke|1;else{if((h[5834]|0)==(m|0)){Ke=(h[5831]|0)+B|0,h[5831]=Ke,h[5834]=te,h[te+4>>2]=Ke|1,h[te+Ke>>2]=Ke;break}if(A=h[m+4>>2]|0,(A&3|0)==1){I=A&-8,_=A>>>3;r:do if(A>>>0<256)if(A=h[m+8>>2]|0,v=h[m+12>>2]|0,(v|0)==(A|0)){h[5829]=h[5829]&~(1<<_);break}else{h[A+12>>2]=v,h[v+8>>2]=A;break}else{O=h[m+24>>2]|0,A=h[m+12>>2]|0;do if((A|0)==(m|0)){if(v=m+16|0,_=v+4|0,A=h[_>>2]|0,A)v=_;else if(A=h[v>>2]|0,!A){A=0;break}for(;;)if(k=A+20|0,_=h[k>>2]|0,_)A=_,v=k;else if(k=A+16|0,_=h[k>>2]|0,_)A=_,v=k;else break;h[v>>2]=0}else Ke=h[m+8>>2]|0,h[Ke+12>>2]=A,h[A+8>>2]=Ke;while(0);if(!O)break;v=h[m+28>>2]|0,_=23620+(v<<2)|0;do if((h[_>>2]|0)!=(m|0)){if(Ke=O+16|0,h[((h[Ke>>2]|0)==(m|0)?Ke:O+20|0)>>2]=A,!A)break r}else{if(h[_>>2]=A,A|0)break;h[5830]=h[5830]&~(1<<v);break r}while(0);if(h[A+24>>2]=O,v=m+16|0,_=h[v>>2]|0,_|0&&(h[A+16>>2]=_,h[_+24>>2]=A),v=h[v+4>>2]|0,!v)break;h[A+20>>2]=v,h[v+24>>2]=A}while(0);m=m+I|0,k=I+B|0}else k=B;if(m=m+4|0,h[m>>2]=h[m>>2]&-2,h[te+4>>2]=k|1,h[te+k>>2]=k,m=k>>>3,k>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=te,h[m+12>>2]=te,h[te+8>>2]=m,h[te+12>>2]=v;break}m=k>>>8;do if(!m)_=0;else{if(k>>>0>16777215){_=31;break}Dt=(m+1048320|0)>>>16&8,Ke=m<<Dt,mt=(Ke+520192|0)>>>16&4,Ke=Ke<<mt,_=(Ke+245760|0)>>>16&2,_=14-(mt|Dt|_)+(Ke<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1}while(0);if(m=23620+(_<<2)|0,h[te+28>>2]=_,A=te+16|0,h[A+4>>2]=0,h[A>>2]=0,A=h[5830]|0,v=1<<_,!(A&v)){h[5830]=A|v,h[m>>2]=te,h[te+24>>2]=m,h[te+12>>2]=te,h[te+8>>2]=te;break}m=h[m>>2]|0;r:do if((h[m+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(k|0)){m=A;break r}else _=_<<1,m=A;h[v>>2]=te,h[te+24>>2]=m,h[te+12>>2]=te,h[te+8>>2]=te;break t}while(0);Dt=m+8|0,Ke=h[Dt>>2]|0,h[Ke+12>>2]=te,h[Dt>>2]=te,h[te+8>>2]=Ke,h[te+12>>2]=m,h[te+24>>2]=0}while(0);return Ke=ce+8|0,Me=_r,Ke|0}for(m=23764;A=h[m>>2]|0,!(A>>>0<=G>>>0&&(Ke=A+(h[m+4>>2]|0)|0,Ke>>>0>G>>>0));)m=h[m+8>>2]|0;k=Ke+-47|0,A=k+8|0,A=k+((A&7|0)==0?0:0-A&7)|0,k=G+16|0,A=A>>>0<k>>>0?G:A,m=A+8|0,v=I+-40|0,mt=O+8|0,mt=(mt&7|0)==0?0:0-mt&7,Dt=O+mt|0,mt=v-mt|0,h[5835]=Dt,h[5832]=mt,h[Dt+4>>2]=mt|1,h[O+v+4>>2]=40,h[5836]=h[5951],v=A+4|0,h[v>>2]=27,h[m>>2]=h[5941],h[m+4>>2]=h[5942],h[m+8>>2]=h[5943],h[m+12>>2]=h[5944],h[5941]=O,h[5942]=I,h[5944]=0,h[5943]=m,m=A+24|0;do Dt=m,m=m+4|0,h[m>>2]=7;while((Dt+8|0)>>>0<Ke>>>0);if((A|0)!=(G|0)){if(O=A-G|0,h[v>>2]=h[v>>2]&-2,h[G+4>>2]=O|1,h[A>>2]=O,m=O>>>3,O>>>0<256){v=23356+(m<<1<<2)|0,A=h[5829]|0,m=1<<m,A&m?(A=v+8|0,m=h[A>>2]|0):(h[5829]=A|m,m=v,A=v+8|0),h[A>>2]=G,h[m+12>>2]=G,h[G+8>>2]=m,h[G+12>>2]=v;break}if(m=O>>>8,m?O>>>0>16777215?_=31:(Dt=(m+1048320|0)>>>16&8,Ke=m<<Dt,mt=(Ke+520192|0)>>>16&4,Ke=Ke<<mt,_=(Ke+245760|0)>>>16&2,_=14-(mt|Dt|_)+(Ke<<_>>>15)|0,_=O>>>(_+7|0)&1|_<<1):_=0,v=23620+(_<<2)|0,h[G+28>>2]=_,h[G+20>>2]=0,h[k>>2]=0,m=h[5830]|0,A=1<<_,!(m&A)){h[5830]=m|A,h[v>>2]=G,h[G+24>>2]=v,h[G+12>>2]=G,h[G+8>>2]=G;break}m=h[v>>2]|0;t:do if((h[m+4>>2]&-8|0)!=(O|0)){for(_=O<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,A=h[v>>2]|0,!!A;)if((h[A+4>>2]&-8|0)==(O|0)){m=A;break t}else _=_<<1,m=A;h[v>>2]=G,h[G+24>>2]=m,h[G+12>>2]=G,h[G+8>>2]=G;break e}while(0);Dt=m+8|0,Ke=h[Dt>>2]|0,h[Ke+12>>2]=G,h[Dt>>2]=G,h[G+8>>2]=Ke,h[G+12>>2]=m,h[G+24>>2]=0}}else Ke=h[5833]|0,(Ke|0)==0|O>>>0<Ke>>>0&&(h[5833]=O),h[5941]=O,h[5942]=I,h[5944]=0,h[5838]=h[5947],h[5837]=-1,h[5842]=23356,h[5841]=23356,h[5844]=23364,h[5843]=23364,h[5846]=23372,h[5845]=23372,h[5848]=23380,h[5847]=23380,h[5850]=23388,h[5849]=23388,h[5852]=23396,h[5851]=23396,h[5854]=23404,h[5853]=23404,h[5856]=23412,h[5855]=23412,h[5858]=23420,h[5857]=23420,h[5860]=23428,h[5859]=23428,h[5862]=23436,h[5861]=23436,h[5864]=23444,h[5863]=23444,h[5866]=23452,h[5865]=23452,h[5868]=23460,h[5867]=23460,h[5870]=23468,h[5869]=23468,h[5872]=23476,h[5871]=23476,h[5874]=23484,h[5873]=23484,h[5876]=23492,h[5875]=23492,h[5878]=23500,h[5877]=23500,h[5880]=23508,h[5879]=23508,h[5882]=23516,h[5881]=23516,h[5884]=23524,h[5883]=23524,h[5886]=23532,h[5885]=23532,h[5888]=23540,h[5887]=23540,h[5890]=23548,h[5889]=23548,h[5892]=23556,h[5891]=23556,h[5894]=23564,h[5893]=23564,h[5896]=23572,h[5895]=23572,h[5898]=23580,h[5897]=23580,h[5900]=23588,h[5899]=23588,h[5902]=23596,h[5901]=23596,h[5904]=23604,h[5903]=23604,Ke=I+-40|0,mt=O+8|0,mt=(mt&7|0)==0?0:0-mt&7,Dt=O+mt|0,mt=Ke-mt|0,h[5835]=Dt,h[5832]=mt,h[Dt+4>>2]=mt|1,h[O+Ke+4>>2]=40,h[5836]=h[5951];while(0);if(m=h[5832]|0,m>>>0>De>>>0)return mt=m-De|0,h[5832]=mt,Ke=h[5835]|0,Dt=Ke+De|0,h[5835]=Dt,h[Dt+4>>2]=mt|1,h[Ke+4>>2]=De|3,Ke=Ke+8|0,Me=_r,Ke|0}return Ke=tn()|0,h[Ke>>2]=12,Ke=0,Me=_r,Ke|0}function Fr(A){A=A|0;var m=0,v=0,_=0,k=0,O=0,I=0,B=0,G=0;if(!A)return;v=A+-8|0,k=h[5833]|0,A=h[A+-4>>2]|0,m=A&-8,G=v+m|0;do if(A&1)B=v,I=v;else{if(_=h[v>>2]|0,!(A&3)||(I=v+(0-_)|0,O=_+m|0,I>>>0<k>>>0))return;if((h[5834]|0)==(I|0)){if(A=G+4|0,m=h[A>>2]|0,(m&3|0)!=3){B=I,m=O;break}h[5831]=O,h[A>>2]=m&-2,h[I+4>>2]=O|1,h[I+O>>2]=O;return}if(v=_>>>3,_>>>0<256)if(A=h[I+8>>2]|0,m=h[I+12>>2]|0,(m|0)==(A|0)){h[5829]=h[5829]&~(1<<v),B=I,m=O;break}else{h[A+12>>2]=m,h[m+8>>2]=A,B=I,m=O;break}k=h[I+24>>2]|0,A=h[I+12>>2]|0;do if((A|0)==(I|0)){if(m=I+16|0,v=m+4|0,A=h[v>>2]|0,A)m=v;else if(A=h[m>>2]|0,!A){A=0;break}for(;;)if(_=A+20|0,v=h[_>>2]|0,v)A=v,m=_;else if(_=A+16|0,v=h[_>>2]|0,v)A=v,m=_;else break;h[m>>2]=0}else B=h[I+8>>2]|0,h[B+12>>2]=A,h[A+8>>2]=B;while(0);if(k){if(m=h[I+28>>2]|0,v=23620+(m<<2)|0,(h[v>>2]|0)==(I|0)){if(h[v>>2]=A,!A){h[5830]=h[5830]&~(1<<m),B=I,m=O;break}}else if(B=k+16|0,h[((h[B>>2]|0)==(I|0)?B:k+20|0)>>2]=A,!A){B=I,m=O;break}h[A+24>>2]=k,m=I+16|0,v=h[m>>2]|0,v|0&&(h[A+16>>2]=v,h[v+24>>2]=A),m=h[m+4>>2]|0,m?(h[A+20>>2]=m,h[m+24>>2]=A,B=I,m=O):(B=I,m=O)}else B=I,m=O}while(0);if(I>>>0>=G>>>0||(A=G+4|0,_=h[A>>2]|0,!(_&1)))return;if(_&2)h[A>>2]=_&-2,h[B+4>>2]=m|1,h[I+m>>2]=m,k=m;else{if((h[5835]|0)==(G|0)){if(G=(h[5832]|0)+m|0,h[5832]=G,h[5835]=B,h[B+4>>2]=G|1,(B|0)!=(h[5834]|0))return;h[5834]=0,h[5831]=0;return}if((h[5834]|0)==(G|0)){G=(h[5831]|0)+m|0,h[5831]=G,h[5834]=I,h[B+4>>2]=G|1,h[I+G>>2]=G;return}k=(_&-8)+m|0,v=_>>>3;do if(_>>>0<256)if(m=h[G+8>>2]|0,A=h[G+12>>2]|0,(A|0)==(m|0)){h[5829]=h[5829]&~(1<<v);break}else{h[m+12>>2]=A,h[A+8>>2]=m;break}else{O=h[G+24>>2]|0,A=h[G+12>>2]|0;do if((A|0)==(G|0)){if(m=G+16|0,v=m+4|0,A=h[v>>2]|0,A)m=v;else if(A=h[m>>2]|0,!A){v=0;break}for(;;)if(_=A+20|0,v=h[_>>2]|0,v)A=v,m=_;else if(_=A+16|0,v=h[_>>2]|0,v)A=v,m=_;else break;h[m>>2]=0,v=A}else v=h[G+8>>2]|0,h[v+12>>2]=A,h[A+8>>2]=v,v=A;while(0);if(O|0){if(A=h[G+28>>2]|0,m=23620+(A<<2)|0,(h[m>>2]|0)==(G|0)){if(h[m>>2]=v,!v){h[5830]=h[5830]&~(1<<A);break}}else if(_=O+16|0,h[((h[_>>2]|0)==(G|0)?_:O+20|0)>>2]=v,!v)break;h[v+24>>2]=O,A=G+16|0,m=h[A>>2]|0,m|0&&(h[v+16>>2]=m,h[m+24>>2]=v),A=h[A+4>>2]|0,A|0&&(h[v+20>>2]=A,h[A+24>>2]=v)}}while(0);if(h[B+4>>2]=k|1,h[I+k>>2]=k,(B|0)==(h[5834]|0)){h[5831]=k;return}}if(A=k>>>3,k>>>0<256){v=23356+(A<<1<<2)|0,m=h[5829]|0,A=1<<A,m&A?(m=v+8|0,A=h[m>>2]|0):(h[5829]=m|A,A=v,m=v+8|0),h[m>>2]=B,h[A+12>>2]=B,h[B+8>>2]=A,h[B+12>>2]=v;return}A=k>>>8,A?k>>>0>16777215?_=31:(I=(A+1048320|0)>>>16&8,G=A<<I,O=(G+520192|0)>>>16&4,G=G<<O,_=(G+245760|0)>>>16&2,_=14-(O|I|_)+(G<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,A=23620+(_<<2)|0,h[B+28>>2]=_,h[B+20>>2]=0,h[B+16>>2]=0,m=h[5830]|0,v=1<<_;e:do if(!(m&v))h[5830]=m|v,h[A>>2]=B,h[B+24>>2]=A,h[B+12>>2]=B,h[B+8>>2]=B;else{A=h[A>>2]|0;t:do if((h[A+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=A+16+(_>>>31<<2)|0,m=h[v>>2]|0,!!m;)if((h[m+4>>2]&-8|0)==(k|0)){A=m;break t}else _=_<<1,A=m;h[v>>2]=B,h[B+24>>2]=A,h[B+12>>2]=B,h[B+8>>2]=B;break e}while(0);I=A+8|0,G=h[I>>2]|0,h[G+12>>2]=B,h[I>>2]=B,h[B+8>>2]=G,h[B+12>>2]=A,h[B+24>>2]=0}while(0);if(G=(h[5837]|0)+-1|0,h[5837]=G,!(G|0)){for(A=23772;A=h[A>>2]|0,A;)A=A+8|0;h[5837]=-1}}function zo(A,m){A=A|0,m=m|0;var v=0;return A?(v=gn(m,A)|0,(m|A)>>>0>65535&&(v=((v>>>0)/(A>>>0)|0|0)==(m|0)?v:-1)):v=0,A=Pi(v)|0,!A||!(h[A+-4>>2]&3)||$i(A|0,0,v|0)|0,A|0}function Ha(A,m,v,_){return A=A|0,m=m|0,v=v|0,_=_|0,v=A+v>>>0,Xt(m+_+(v>>>0<A>>>0|0)>>>0|0),v|0|0}function ea(A,m,v,_){return A=A|0,m=m|0,v=v|0,_=_|0,_=m-_-(v>>>0>A>>>0|0)>>>0,Xt(_|0),A-v>>>0|0|0}function ta(A){return A=A|0,(A?31-(xn(A^A-1)|0)|0:32)|0}function qa(A,m,v,_,k){A=A|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,B=0,G=0,te=0,ce=0,De=0,Ze=0,ot=0,bt=0;if(ce=A,G=m,te=G,I=v,Ze=_,B=Ze,!te)return O=(k|0)!=0,B?O?(h[k>>2]=A|0,h[k+4>>2]=m&0,Ze=0,k=0,Xt(Ze|0),k|0):(Ze=0,k=0,Xt(Ze|0),k|0):(O&&(h[k>>2]=(ce>>>0)%(I>>>0),h[k+4>>2]=0),Ze=0,k=(ce>>>0)/(I>>>0)>>>0,Xt(Ze|0),k|0);O=(B|0)==0;do if(I){if(!O){if(O=(xn(B|0)|0)-(xn(te|0)|0)|0,O>>>0<=31){De=O+1|0,B=31-O|0,m=O-31>>31,I=De,A=ce>>>(De>>>0)&m|te<<B,m=te>>>(De>>>0)&m,O=0,B=ce<<B;break}return k?(h[k>>2]=A|0,h[k+4>>2]=G|m&0,Ze=0,k=0,Xt(Ze|0),k|0):(Ze=0,k=0,Xt(Ze|0),k|0)}if(O=I-1|0,O&I|0){B=(xn(I|0)|0)+33-(xn(te|0)|0)|0,bt=64-B|0,De=32-B|0,G=De>>31,ot=B-32|0,m=ot>>31,I=B,A=De-1>>31&te>>>(ot>>>0)|(te<<De|ce>>>(B>>>0))&m,m=m&te>>>(B>>>0),O=ce<<bt&G,B=(te<<bt|ce>>>(ot>>>0))&G|ce<<De&B-33>>31;break}return k|0&&(h[k>>2]=O&ce,h[k+4>>2]=0),(I|0)==1?(ot=G|m&0,bt=A|0|0,Xt(ot|0),bt|0):(bt=ta(I|0)|0,ot=te>>>(bt>>>0)|0,bt=te<<32-bt|ce>>>(bt>>>0)|0,Xt(ot|0),bt|0)}else{if(O)return k|0&&(h[k>>2]=(te>>>0)%(I>>>0),h[k+4>>2]=0),ot=0,bt=(te>>>0)/(I>>>0)>>>0,Xt(ot|0),bt|0;if(!ce)return k|0&&(h[k>>2]=0,h[k+4>>2]=(te>>>0)%(B>>>0)),ot=0,bt=(te>>>0)/(B>>>0)>>>0,Xt(ot|0),bt|0;if(O=B-1|0,!(O&B))return k|0&&(h[k>>2]=A|0,h[k+4>>2]=O&te|m&0),ot=0,bt=te>>>((ta(B|0)|0)>>>0),Xt(ot|0),bt|0;if(O=(xn(B|0)|0)-(xn(te|0)|0)|0,O>>>0<=30){m=O+1|0,B=31-O|0,I=m,A=te<<B|ce>>>(m>>>0),m=te>>>(m>>>0),O=0,B=ce<<B;break}return k?(h[k>>2]=A|0,h[k+4>>2]=G|m&0,ot=0,bt=0,Xt(ot|0),bt|0):(ot=0,bt=0,Xt(ot|0),bt|0)}while(0);if(!I)te=B,G=0,B=0;else{De=v|0|0,ce=Ze|_&0,te=Ha(De|0,ce|0,-1,-1)|0,v=Ge()|0,G=B,B=0;do _=G,G=O>>>31|G<<1,O=B|O<<1,_=A<<1|_>>>31|0,Ze=A>>>31|m<<1|0,ea(te|0,v|0,_|0,Ze|0)|0,bt=Ge()|0,ot=bt>>31|((bt|0)<0?-1:0)<<1,B=ot&1,A=ea(_|0,Ze|0,ot&De|0,(((bt|0)<0?-1:0)>>31|((bt|0)<0?-1:0)<<1)&ce|0)|0,m=Ge()|0,I=I-1|0;while((I|0)!=0);te=G,G=0}return I=0,k|0&&(h[k>>2]=A,h[k+4>>2]=m),ot=(O|0)>>>31|(te|I)<<1|(I<<1|O>>>31)&0|G,bt=(O<<1|0>>>31)&-2|B,Xt(ot|0),bt|0}function Qt(A,m,v,_){A=A|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return O=Me,Me=Me+16|0,k=O|0,qa(A,m,v,_,k)|0,Me=O,Xt(h[k+4>>2]|0),h[k>>2]|0|0}function dt(A,m,v){return A=A|0,m=m|0,v=v|0,(v|0)<32?(Xt(m>>>v|0),A>>>v|(m&(1<<v)-1)<<32-v):(Xt(0),m>>>v-32|0)}function Yt(A,m,v){return A=A|0,m=m|0,v=v|0,(v|0)<32?(Xt(m<<v|(A&(1<<v)-1<<32-v)>>>32-v|0),A<<v):(Xt(A<<v-32|0),0)}function Io(A,m){return A=+A,m=+m,A!=A?+m:m!=m?+A:+hi(+A,+m)}function Ga(A){return A=+A,A>=0?+$t(A+.5):+an(A-.5)}function No(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0;if((v|0)>=8192)return ao(A|0,m|0,v|0)|0,A|0;if(O=A|0,k=A+v|0,(A&3)==(m&3)){for(;A&3;){if(!v)return O|0;Qe[A>>0]=Qe[m>>0]|0,A=A+1|0,m=m+1|0,v=v-1|0}for(v=k&-4|0,_=v-64|0;(A|0)<=(_|0);)h[A>>2]=h[m>>2],h[A+4>>2]=h[m+4>>2],h[A+8>>2]=h[m+8>>2],h[A+12>>2]=h[m+12>>2],h[A+16>>2]=h[m+16>>2],h[A+20>>2]=h[m+20>>2],h[A+24>>2]=h[m+24>>2],h[A+28>>2]=h[m+28>>2],h[A+32>>2]=h[m+32>>2],h[A+36>>2]=h[m+36>>2],h[A+40>>2]=h[m+40>>2],h[A+44>>2]=h[m+44>>2],h[A+48>>2]=h[m+48>>2],h[A+52>>2]=h[m+52>>2],h[A+56>>2]=h[m+56>>2],h[A+60>>2]=h[m+60>>2],A=A+64|0,m=m+64|0;for(;(A|0)<(v|0);)h[A>>2]=h[m>>2],A=A+4|0,m=m+4|0}else for(v=k-4|0;(A|0)<(v|0);)Qe[A>>0]=Qe[m>>0]|0,Qe[A+1>>0]=Qe[m+1>>0]|0,Qe[A+2>>0]=Qe[m+2>>0]|0,Qe[A+3>>0]=Qe[m+3>>0]|0,A=A+4|0,m=m+4|0;for(;(A|0)<(k|0);)Qe[A>>0]=Qe[m>>0]|0,A=A+1|0,m=m+1|0;return O|0}function $i(A,m,v){A=A|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=A+v|0,m=m&255,(v|0)>=67){for(;A&3;)Qe[A>>0]=m,A=A+1|0;for(_=O&-4|0,I=m|m<<8|m<<16|m<<24,k=_-64|0;(A|0)<=(k|0);)h[A>>2]=I,h[A+4>>2]=I,h[A+8>>2]=I,h[A+12>>2]=I,h[A+16>>2]=I,h[A+20>>2]=I,h[A+24>>2]=I,h[A+28>>2]=I,h[A+32>>2]=I,h[A+36>>2]=I,h[A+40>>2]=I,h[A+44>>2]=I,h[A+48>>2]=I,h[A+52>>2]=I,h[A+56>>2]=I,h[A+60>>2]=I,A=A+64|0;for(;(A|0)<(_|0);)h[A>>2]=I,A=A+4|0}for(;(A|0)<(O|0);)Qe[A>>0]=m,A=A+1|0;return O-v|0}function zp(A){return A=+A,A>=0?+$t(A+.5):+an(A-.5)}function ra(A){A=A|0;var m=0,v=0,_=0;return _=Fc()|0,v=h[Lt>>2]|0,m=v+A|0,(A|0)>0&(m|0)<(v|0)|(m|0)<0?(Bc(m|0)|0,uu(12),-1):(m|0)>(_|0)&&!(Wo(m|0)|0)?(uu(12),-1):(h[Lt>>2]=m,v|0)}return{___uremdi3:Qt,_bitshift64Lshr:dt,_bitshift64Shl:Yt,_calloc:zo,_cellAreaKm2:Gc,_cellAreaM2:rc,_cellAreaRads2:ju,_compact:nc,_destroyLinkedPolygon:$u,_edgeLengthKm:qc,_edgeLengthM:Au,_emscripten_replace_memory:so,_exactEdgeLengthKm:Qc,_exactEdgeLengthM:Mf,_exactEdgeLengthRads:Vn,_experimentalH3ToLocalIj:Xc,_experimentalLocalIjToH3:mu,_free:Fr,_geoToH3:Lp,_getDestinationH3IndexFromUnidirectionalEdge:vt,_getH3IndexesFromUnidirectionalEdge:Yr,_getH3UnidirectionalEdge:nt,_getH3UnidirectionalEdgeBoundary:ti,_getH3UnidirectionalEdgesFromHexagon:bn,_getOriginH3IndexFromUnidirectionalEdge:It,_getPentagonIndexes:gl,_getRes0Indexes:Yl,_h3Distance:Un,_h3GetBaseCell:Wc,_h3GetFaces:Lf,_h3GetResolution:To,_h3IndexesAreNeighbors:Ws,_h3IsPentagon:Ui,_h3IsResClassIII:ic,_h3IsValid:hl,_h3Line:Po,_h3LineSize:ac,_h3SetToLinkedGeo:Ip,_h3ToCenterChild:Zc,_h3ToChildren:Ao,_h3ToGeo:ls,_h3ToGeoBoundary:Qs,_h3ToParent:hu,_h3UnidirectionalEdgeIsValid:Ht,_hexAreaKm2:Uu,_hexAreaM2:Rp,_hexRing:as,_i64Subtract:ea,_kRing:Zo,_kRingDistances:os,_llvm_minnum_f64:Io,_llvm_round_f64:Ga,_malloc:Pi,_maxFaceCount:Dp,_maxH3ToChildrenSize:Rf,_maxKringSize:ko,_maxPolyfillSize:wi,_maxUncompactSize:du,_memcpy:No,_memset:$i,_numHexagons:tc,_pentagonIndexCount:Kc,_pointDistKm:ec,_pointDistM:pu,_pointDistRads:Mp,_polyfill:Ni,_res0IndexCount:Uc,_round:zp,_sbrk:ra,_sizeOfCoordIJ:sr,_sizeOfGeoBoundary:Ks,_sizeOfGeoCoord:Zs,_sizeOfGeoPolygon:vl,_sizeOfGeofence:Bo,_sizeOfH3Index:$a,_sizeOfLinkedGeoPolygon:Jo,_uncompact:dl,establishStackSpace:ca,stackAlloc:is,stackRestore:si,stackSave:la}}(ua,Ra,rt);t.___uremdi3=Vt.___uremdi3,t._bitshift64Lshr=Vt._bitshift64Lshr,t._bitshift64Shl=Vt._bitshift64Shl,t._calloc=Vt._calloc,t._cellAreaKm2=Vt._cellAreaKm2,t._cellAreaM2=Vt._cellAreaM2,t._cellAreaRads2=Vt._cellAreaRads2,t._compact=Vt._compact,t._destroyLinkedPolygon=Vt._destroyLinkedPolygon,t._edgeLengthKm=Vt._edgeLengthKm,t._edgeLengthM=Vt._edgeLengthM;var Ei=t._emscripten_replace_memory=Vt._emscripten_replace_memory;t._exactEdgeLengthKm=Vt._exactEdgeLengthKm,t._exactEdgeLengthM=Vt._exactEdgeLengthM,t._exactEdgeLengthRads=Vt._exactEdgeLengthRads,t._experimentalH3ToLocalIj=Vt._experimentalH3ToLocalIj,t._experimentalLocalIjToH3=Vt._experimentalLocalIjToH3,t._free=Vt._free,t._geoToH3=Vt._geoToH3,t._getDestinationH3IndexFromUnidirectionalEdge=Vt._getDestinationH3IndexFromUnidirectionalEdge,t._getH3IndexesFromUnidirectionalEdge=Vt._getH3IndexesFromUnidirectionalEdge,t._getH3UnidirectionalEdge=Vt._getH3UnidirectionalEdge,t._getH3UnidirectionalEdgeBoundary=Vt._getH3UnidirectionalEdgeBoundary,t._getH3UnidirectionalEdgesFromHexagon=Vt._getH3UnidirectionalEdgesFromHexagon,t._getOriginH3IndexFromUnidirectionalEdge=Vt._getOriginH3IndexFromUnidirectionalEdge,t._getPentagonIndexes=Vt._getPentagonIndexes,t._getRes0Indexes=Vt._getRes0Indexes,t._h3Distance=Vt._h3Distance,t._h3GetBaseCell=Vt._h3GetBaseCell,t._h3GetFaces=Vt._h3GetFaces,t._h3GetResolution=Vt._h3GetResolution,t._h3IndexesAreNeighbors=Vt._h3IndexesAreNeighbors,t._h3IsPentagon=Vt._h3IsPentagon,t._h3IsResClassIII=Vt._h3IsResClassIII,t._h3IsValid=Vt._h3IsValid,t._h3Line=Vt._h3Line,t._h3LineSize=Vt._h3LineSize,t._h3SetToLinkedGeo=Vt._h3SetToLinkedGeo,t._h3ToCenterChild=Vt._h3ToCenterChild,t._h3ToChildren=Vt._h3ToChildren,t._h3ToGeo=Vt._h3ToGeo,t._h3ToGeoBoundary=Vt._h3ToGeoBoundary,t._h3ToParent=Vt._h3ToParent,t._h3UnidirectionalEdgeIsValid=Vt._h3UnidirectionalEdgeIsValid,t._hexAreaKm2=Vt._hexAreaKm2,t._hexAreaM2=Vt._hexAreaM2,t._hexRing=Vt._hexRing,t._i64Subtract=Vt._i64Subtract,t._kRing=Vt._kRing,t._kRingDistances=Vt._kRingDistances,t._llvm_minnum_f64=Vt._llvm_minnum_f64,t._llvm_round_f64=Vt._llvm_round_f64,t._malloc=Vt._malloc,t._maxFaceCount=Vt._maxFaceCount,t._maxH3ToChildrenSize=Vt._maxH3ToChildrenSize,t._maxKringSize=Vt._maxKringSize,t._maxPolyfillSize=Vt._maxPolyfillSize,t._maxUncompactSize=Vt._maxUncompactSize,t._memcpy=Vt._memcpy,t._memset=Vt._memset,t._numHexagons=Vt._numHexagons,t._pentagonIndexCount=Vt._pentagonIndexCount,t._pointDistKm=Vt._pointDistKm,t._pointDistM=Vt._pointDistM,t._pointDistRads=Vt._pointDistRads,t._polyfill=Vt._polyfill,t._res0IndexCount=Vt._res0IndexCount,t._round=Vt._round,t._sbrk=Vt._sbrk,t._sizeOfCoordIJ=Vt._sizeOfCoordIJ,t._sizeOfGeoBoundary=Vt._sizeOfGeoBoundary,t._sizeOfGeoCoord=Vt._sizeOfGeoCoord,t._sizeOfGeoPolygon=Vt._sizeOfGeoPolygon,t._sizeOfGeofence=Vt._sizeOfGeofence,t._sizeOfH3Index=Vt._sizeOfH3Index,t._sizeOfLinkedGeoPolygon=Vt._sizeOfLinkedGeoPolygon,t._uncompact=Vt._uncompact,t.establishStackSpace=Vt.establishStackSpace;var zn=t.stackAlloc=Vt.stackAlloc,Y=t.stackRestore=Vt.stackRestore,ne=t.stackSave=Vt.stackSave;if(t.asm=Vt,t.cwrap=se,t.setValue=$,t.getValue=Z,t.getTempRet0=z,Qn){oo(Qn)||(Qn=l(Qn));{ws();var fe=function(re){re.byteLength&&(re=new Uint8Array(re)),wt.set(re,N),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,io()},ve=function(){a(Qn,fe,function(){throw"could not load memory initializer "+Qn})},Ie=Jn(Qn);if(Ie)fe(Ie.buffer);else if(t.memoryInitializerRequest){var Ne=function(){var re=t.memoryInitializerRequest,$e=re.response;if(re.status!==200&&re.status!==0){var at=Jn(t.memoryInitializerRequestURL);if(at)$e=at.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+re.status+", retrying "+Qn),ve();return}}fe($e)};t.memoryInitializerRequest.response?setTimeout(Ne,0):t.memoryInitializerRequest.addEventListener("load",Ne)}else ve()}}var He;Wi=function re(){He||ze(),He||(Wi=re)};function ze(re){if(Bi>0||(Sr(),Bi>0))return;function $e(){He||(He=!0,!J&&(Ur(),Dr(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Xn()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),$e()},1)):$e()}t.run=ze;function xe(re){throw t.onAbort&&t.onAbort(re),re+="",x(re),S(re),J=!0,"abort("+re+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=xe,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ze(),e}(typeof zl=="object"?zl:{}),Kr="number",Xm=Kr,fn=Kr,Mn=Kr,ku=Kr,li=Kr,Jne=[["sizeOfH3Index",Kr],["sizeOfGeoCoord",Kr],["sizeOfGeoBoundary",Kr],["sizeOfGeoPolygon",Kr],["sizeOfGeofence",Kr],["sizeOfLinkedGeoPolygon",Kr],["sizeOfCoordIJ",Kr],["h3IsValid",Xm,[fn,Mn]],["geoToH3",fn,[Kr,Kr,ku]],["h3ToGeo",null,[fn,Mn,li]],["h3ToGeoBoundary",null,[fn,Mn,li]],["maxKringSize",Kr,[Kr]],["kRing",null,[fn,Mn,Kr,li]],["kRingDistances",null,[fn,Mn,Kr,li,li]],["hexRing",null,[fn,Mn,Kr,li]],["maxPolyfillSize",Kr,[li,ku]],["polyfill",null,[li,ku,li]],["h3SetToLinkedGeo",null,[li,Kr,li]],["destroyLinkedPolygon",null,[li]],["compact",Kr,[li,li,Kr]],["uncompact",Kr,[li,Kr,li,Kr,ku]],["maxUncompactSize",Kr,[li,Kr,ku]],["h3IsPentagon",Xm,[fn,Mn]],["h3IsResClassIII",Xm,[fn,Mn]],["h3GetBaseCell",Kr,[fn,Mn]],["h3GetResolution",Kr,[fn,Mn]],["maxFaceCount",Kr,[fn,Mn]],["h3GetFaces",null,[fn,Mn,li]],["h3ToParent",fn,[fn,Mn,ku]],["h3ToChildren",null,[fn,Mn,ku,li]],["h3ToCenterChild",fn,[fn,Mn,ku]],["maxH3ToChildrenSize",Kr,[fn,Mn,ku]],["h3IndexesAreNeighbors",Xm,[fn,Mn,fn,Mn]],["getH3UnidirectionalEdge",fn,[fn,Mn,fn,Mn]],["getOriginH3IndexFromUnidirectionalEdge",fn,[fn,Mn]],["getDestinationH3IndexFromUnidirectionalEdge",fn,[fn,Mn]],["h3UnidirectionalEdgeIsValid",Xm,[fn,Mn]],["getH3IndexesFromUnidirectionalEdge",null,[fn,Mn,li]],["getH3UnidirectionalEdgesFromHexagon",null,[fn,Mn,li]],["getH3UnidirectionalEdgeBoundary",null,[fn,Mn,li]],["h3Distance",Kr,[fn,Mn,fn,Mn]],["h3Line",Kr,[fn,Mn,fn,Mn,li]],["h3LineSize",Kr,[fn,Mn,fn,Mn]],["experimentalH3ToLocalIj",Kr,[fn,Mn,fn,Mn,li]],["experimentalLocalIjToH3",Kr,[fn,Mn,li,li]],["hexAreaM2",Kr,[ku]],["hexAreaKm2",Kr,[ku]],["edgeLengthM",Kr,[ku]],["edgeLengthKm",Kr,[ku]],["pointDistM",Kr,[li,li]],["pointDistKm",Kr,[li,li]],["pointDistRads",Kr,[li,li]],["cellAreaM2",Kr,[fn,Mn]],["cellAreaKm2",Kr,[fn,Mn]],["cellAreaRads2",Kr,[fn,Mn]],["exactEdgeLengthM",Kr,[fn,Mn]],["exactEdgeLengthKm",Kr,[fn,Mn]],["exactEdgeLengthRads",Kr,[fn,Mn]],["numHexagons",Kr,[ku]],["getRes0Indexes",null,[li]],["res0IndexCount",Kr],["getPentagonIndexes",null,[Kr,li]],["pentagonIndexCount",Kr]],kf={};Jne.forEach(function(t){kf[t[0]]=zl.cwrap.apply(zl,t)});var s0=16,ty=8;kf.sizeOfH3Index();var eie=kf.sizeOfGeoCoord(),tie=kf.sizeOfGeoBoundary();kf.sizeOfGeoPolygon();kf.sizeOfGeofence();kf.sizeOfLinkedGeoPolygon();kf.sizeOfCoordIJ();var rie=/[^0-9a-fA-F]/;function nie(e){if(Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if(typeof e!="string"||rie.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),s0),r=parseInt(e.substring(e.length-8),s0);return[r,t]}function ST(e){if(e>=0)return e.toString(s0);e=e&2147483647;var t=OL(8,e.toString(s0)),r=(parseInt(t[0],s0)+8).toString(s0);return t=r+t.substring(1),t}function iie(e,t){return ST(t)+OL(8,ST(e))}function OL(e,t){for(var r=e-t.length,i="",s=0;s<r;s++)i+="0";return i=i+t,i}function oie(e){var t=zl.getTempRet0();return[e,t]}function aie(e){var t=oie(e),r=t[0],i=t[1];return i?iie(r,i):null}function H_(e){return Aie(zl.getValue(e,"double"))}function sie(e){return[H_(e),H_(e+ty)]}function uie(e){return[H_(e+ty),H_(e)]}function lie(e,t,r){for(var i=zl.getValue(e,"i32"),s=e+ty,l=[],a=t?uie:sie,x=0;x<i*2;x+=2)l.push(a(s+ty*x));return r&&l.push(l[0]),l}function cie(e,t,r){var i=zl._malloc(eie);zl.HEAPF64.set([e,t].map(pie),i/ty);var s=aie(kf.geoToH3(i,r));return zl._free(i),s}function fie(e,t){var r=zl._malloc(tie),i=nie(e),s=i[0],l=i[1];kf.h3ToGeoBoundary(s,l,r);var a=lie(r,t,t);return zl._free(r),a}function pie(e){return e*Math.PI/180}function Aie(e){return e*180/Math.PI}var ML={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(Bs,function(){var r,i,s;function l(a,x){if(!r)r=x;else if(!i)i=x;else{var S="var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk);",P={};r(P),s=x(P),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return l(["exports"],function(a){function x(n,o){return n(o={exports:{}},o.exports),o.exports}var S=P;function P(n,o,u,g){this.cx=3*n,this.bx=3*(u-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(g-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=g,this.p2x=u,this.p2y=g}P.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},P.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},P.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},P.prototype.solveCurveX=function(n,o){var u,g,b,C,T;for(o===void 0&&(o=1e-6),b=n,T=0;T<8;T++){if(C=this.sampleCurveX(b)-n,Math.abs(C)<o)return b;var F=this.sampleCurveDerivativeX(b);if(Math.abs(F)<1e-6)break;b-=C/F}if((b=n)<(u=0))return u;if(b>(g=1))return g;for(;u<g;){if(C=this.sampleCurveX(b),Math.abs(C-n)<o)return b;n>C?u=b:g=b,b=.5*(g-u)+u}return b},P.prototype.solve=function(n,o){return this.sampleCurveY(this.solveCurveX(n,o))};var R=z;function z(n,o){this.x=n,this.y=o}z.prototype={clone:function(){return new z(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,o){return this.clone()._rotateAround(n,o)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var o=n.x-this.x,u=n.y-this.y;return o*o+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,o){return Math.atan2(this.x*o-this.y*n,this.x*n+this.y*o)},_matMult:function(n){var o=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=o,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var o=Math.cos(n),u=Math.sin(n),g=u*this.x+o*this.y;return this.x=o*this.x-u*this.y,this.y=g,this},_rotateAround:function(n,o){var u=Math.cos(n),g=Math.sin(n),b=o.y+g*(this.x-o.x)+u*(this.y-o.y);return this.x=o.x+u*(this.x-o.x)-g*(this.y-o.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},z.convert=function(n){return n instanceof z?n:Array.isArray(n)?new z(n[0],n[1]):n};var N=typeof self<"u"?self:{},$=Math.pow(2,53)-1;function Z(n,o,u,g){var b=new S(n,o,u,g);return function(C){return b.solve(C)}}var J=Z(.25,.1,.25,1);function ae(n,o,u){return Math.min(u,Math.max(o,n))}function V(n,o,u){var g=u-o,b=((n-o)%g+g)%g+o;return b===o?u:b}function K(n){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)n[T]=C[T]}return n}var se=1;function me(){return se++}function Ae(){return function n(o){return o?(o^16*Math.random()>>o/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,n)}()}function ue(n){return!!n&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}function Se(n,o){n.forEach(function(u){o[u]&&(o[u]=o[u].bind(o))})}function Ce(n,o){return n.indexOf(o,n.length-o.length)!==-1}function qe(n,o,u){var g={};for(var b in n)g[b]=o.call(u||this,n[b],b,n);return g}function lt(n,o,u){var g={};for(var b in n)o.call(u||this,n[b],b,n)&&(g[b]=n[b]);return g}function rt(n){return Array.isArray(n)?n.map(rt):typeof n=="object"&&n?qe(n,rt):n}var st={};function wt(n){st[n]||(typeof console<"u"&&console.warn(n),st[n]=!0)}function St(n,o,u){return(u.y-n.y)*(o.x-n.x)>(o.y-n.y)*(u.x-n.x)}function Wt(n){for(var o=0,u=0,g=n.length,b=g-1,C=void 0,T=void 0;u<g;b=u++)o+=((T=n[b]).x-(C=n[u]).x)*(C.y+T.y);return o}function fr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Rt(n){var o={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,b,C,T){var F=C||T;return o[b]=!F||F.toLowerCase(),""}),o["max-age"]){var u=parseInt(o["max-age"],10);isNaN(u)?delete o["max-age"]:o["max-age"]=u}return o}var et=null;function Ue(n){if(et==null){var o=n.navigator?n.navigator.userAgent:null;et=!!n.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return et}function Re(n){try{var o=N[n];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}var le,ye,Mt,or,vr=N.performance&&N.performance.now?N.performance.now.bind(N.performance):Date.now.bind(Date),dr=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame,Sr=N.cancelAnimationFrame||N.mozCancelAnimationFrame||N.webkitCancelAnimationFrame||N.msCancelAnimationFrame,Ur={now:vr,frame:function(n){var o=dr(n);return{cancel:function(){return Sr(o)}}},getImageData:function(n,o){o===void 0&&(o=0);var u=N.document.createElement("canvas"),g=u.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return u.width=n.width,u.height=n.height,g.drawImage(n,0,0,n.width,n.height),g.getImageData(-o,-o,n.width+2*o,n.height+2*o)},resolveURL:function(n){return le||(le=N.document.createElement("a")),le.href=n,le.href},hardwareConcurrency:N.navigator&&N.navigator.hardwareConcurrency||4,get devicePixelRatio(){return N.devicePixelRatio},get prefersReducedMotion(){return!!N.matchMedia&&(ye==null&&(ye=N.matchMedia("(prefers-reduced-motion: reduce)")),ye.matches)}},Dr={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Xn={supported:!1,testSupport:function(n){!jn&&or&&(Fi?jr(n):Mt=n)}},jn=!1,Fi=!1;function jr(n){var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,or),n.isContextLost())return;Xn.supported=!0}catch{}n.deleteTexture(o),jn=!0}N.document&&((or=N.document.createElement("img")).onload=function(){Mt&&jr(Mt),Mt=null,Fi=!0},or.onerror=function(){jn=!0,Mt=null},or.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var mi="01",gi=function(n,o){this._transformRequestFn=n,this._customAccessToken=o,this._createSkuToken()};function Qo(n){return n.indexOf("mapbox:")===0}gi.prototype._createSkuToken=function(){var n=function(){for(var o="",u=0;u<10;u++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",mi,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=n.token,this._skuTokenExpiresAt=n.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(n,o){return this._transformRequestFn&&this._transformRequestFn(n,o)||{url:n}},gi.prototype.normalizeStyleURL=function(n,o){if(!Qo(n))return n;var u=io(n);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeGlyphsURL=function(n,o){if(!Qo(n))return n;var u=io(n);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeSourceURL=function(n,o){if(!Qo(n))return n;var u=io(n);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||o)},gi.prototype.normalizeSpriteURL=function(n,o,u,g){var b=io(n);return Qo(n)?(b.path="/styles/v1"+b.path+"/sprite"+o+u,this._makeAPIURL(b,this._customAccessToken||g)):(b.path+=""+o+u,Qn(b))},gi.prototype.normalizeTileURL=function(n,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),n&&!Qo(n))return n;var u=io(n);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Ur.devicePixelRatio>=2||o===512?"@2x":"")+(Xn.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var g=this._customAccessToken||function(b){for(var C=0,T=b;C<T.length;C+=1){var F=T[C].match(/^access_token=(.*)$/);if(F)return F[1]}return null}(u.params)||Dr.ACCESS_TOKEN;return Dr.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,g)},gi.prototype.canonicalizeTileURL=function(n,o){var u=io(n);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return n;var g="mapbox://tiles/";g+=u.path.replace("/v4/","");var b=u.params;return o&&(b=b.filter(function(C){return!C.match(/^access_token=/)})),b.length&&(g+="?"+b.join("&")),g},gi.prototype.canonicalizeTileset=function(n,o){for(var u=!!o&&Qo(o),g=[],b=0,C=n.tiles||[];b<C.length;b+=1){var T=C[b];Wi(T)?g.push(this.canonicalizeTileURL(T,u)):g.push(T)}return g},gi.prototype._makeAPIURL=function(n,o){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=io(Dr.API_URL);if(n.protocol=g.protocol,n.authority=g.authority,n.protocol==="http"){var b=n.params.indexOf("secure");b>=0&&n.params.splice(b,1)}if(g.path!=="/"&&(n.path=""+g.path+n.path),!Dr.REQUIRE_ACCESS_TOKEN)return Qn(n);if(!(o=o||Dr.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if(o[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return n.params=n.params.filter(function(C){return C.indexOf("access_token")===-1}),n.params.push("access_token="+o),Qn(n)},gi.prototype.setTransformRequest=function(n){this._transformRequestFn=n};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wi(n){return Bi.test(n)}var ws=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function io(n){var o=n.match(ws);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function Qn(n){var o=n.params.length?"?"+n.params.join("&"):"";return n.protocol+"://"+n.authority+n.path+o}function Lo(n){if(!n)return null;var o=n.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(N.atob(o[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var oo=function(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};oo.prototype.getStorageKey=function(n){var o,u=Lo(Dr.ACCESS_TOKEN);return o=u&&u.u?N.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(g,b){return String.fromCharCode(Number("0x"+b))})):Dr.ACCESS_TOKEN||"",n?"mapbox.eventData."+n+":"+o:"mapbox.eventData:"+o},oo.prototype.fetchEventData=function(){var n=Re("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(n)try{var g=N.localStorage.getItem(o);g&&(this.eventData=JSON.parse(g));var b=N.localStorage.getItem(u);b&&(this.anonId=b)}catch{wt("Unable to read from LocalStorage")}},oo.prototype.saveEventData=function(){var n=Re("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(n)try{N.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&N.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{wt("Unable to write to LocalStorage")}},oo.prototype.processRequests=function(n){},oo.prototype.postEvent=function(n,o,u,g){var b=this;if(Dr.EVENTS_URL){var C=io(Dr.EVENTS_URL);C.params.push("access_token="+(g||Dr.ACCESS_TOKEN||""));var T={event:this.type,created:new Date(n).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.15.3",skuId:mi,userId:this.anonId},F=o?K(T,o):T,j={url:Qn(C),headers:{"Content-Type":"text/plain"},body:JSON.stringify([F])};this.pendingRequest=Y(j,function(Q){b.pendingRequest=null,u(Q),b.saveEventData(),b.processRequests(g)})}},oo.prototype.queueRequest=function(n,o){this.queue.push(n),this.processRequests(o)};var bi,Do,sa=function(n){function o(){n.call(this,"map.load"),this.success={},this.skuToken=""}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.postMapLoadEvent=function(u,g,b,C){this.skuToken=b,(Dr.EVENTS_URL&&C||Dr.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(T){return Qo(T)||Wi(T)}))&&this.queueRequest({id:g,timestamp:Date.now()},C)},o.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var b=this.queue.shift(),C=b.id,T=b.timestamp;C&&this.success[C]||(this.anonId||this.fetchEventData(),ue(this.anonId)||(this.anonId=Ae()),this.postEvent(T,{skuToken:this.skuToken},function(F){F||C&&(g.success[C]=!0)},u))}},o}(oo),yt=new(function(n){function o(u){n.call(this,"appUserTurnstile"),this._customAccessToken=u}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.postTurnstileEvent=function(u,g){Dr.EVENTS_URL&&Dr.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(b){return Qo(b)||Wi(b)})&&this.queueRequest(Date.now(),g)},o.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Lo(Dr.ACCESS_TOKEN),C=b?b.u:Dr.ACCESS_TOKEN,T=C!==this.eventData.tokenU;ue(this.anonId)||(this.anonId=Ae(),T=!0);var F=this.queue.shift();if(this.eventData.lastSuccess){var j=new Date(this.eventData.lastSuccess),Q=new Date(F),W=(F-this.eventData.lastSuccess)/864e5;T=T||W>=1||W<-1||j.getDate()!==Q.getDate()}else T=!0;if(!T)return this.processRequests();this.postEvent(F,{"enabled.telemetry":!1},function(X){X||(g.eventData.lastSuccess=F,g.eventData.tokenU=C)},u)}},o}(oo)),be=yt.postTurnstileEvent.bind(yt),Ye=new sa,Et=Ye.postMapLoadEvent.bind(Ye),ar=500,Hr=50;function In(){N.caches&&!bi&&(bi=N.caches.open("mapbox-tiles"))}function Or(n){var o=n.indexOf("?");return o<0?n:n.slice(0,o)}var en,$n=1/0;function Yn(){return en==null&&(en=N.OffscreenCanvas&&new N.OffscreenCanvas(1,1).getContext("2d")&&typeof N.createImageBitmap=="function"),en}var hn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(hn);var Eo=function(n){function o(u,g,b){g===401&&Wi(b)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),n.call(this,u),this.status=g,this.url=b,this.name=this.constructor.name,this.message=u}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},o}(Error),Jn=fr()?function(){return self.worker&&self.worker.referrer}:function(){return(N.location.protocol==="blob:"?N.parent:N).location.href};function ua(n,o){var u,g=new N.AbortController,b=new N.Request(n.url,{method:n.method||"GET",body:n.body,credentials:n.credentials,headers:n.headers,referrer:Jn(),signal:g.signal}),C=!1,T=!1,F=(u=b.url).indexOf("sku=")>0&&Wi(u);n.type==="json"&&b.headers.set("Accept","application/json");var j=function(W,X,oe){if(!T){if(W&&W.message!=="SecurityError"&&wt(W),X&&oe)return Q(X);var pe=Date.now();N.fetch(b).then(function(Ee){if(Ee.ok){var ke=F?Ee.clone():null;return Q(Ee,ke,pe)}return o(new Eo(Ee.statusText,Ee.status,n.url))}).catch(function(Ee){Ee.code!==20&&o(new Error(Ee.message))})}},Q=function(W,X,oe){(n.type==="arrayBuffer"?W.arrayBuffer():n.type==="json"?W.json():W.text()).then(function(pe){T||(X&&oe&&function(Ee,ke,Ve){if(In(),bi){var Le={status:ke.status,statusText:ke.statusText,headers:new N.Headers};ke.headers.forEach(function(it,ft){return Le.headers.set(ft,it)});var tt=Rt(ke.headers.get("Cache-Control")||"");tt["no-store"]||(tt["max-age"]&&Le.headers.set("Expires",new Date(Ve+1e3*tt["max-age"]).toUTCString()),new Date(Le.headers.get("Expires")).getTime()-Ve<42e4||function(it,ft){if(Do===void 0)try{new Response(new ReadableStream),Do=!0}catch{Do=!1}Do?ft(it.body):it.blob().then(ft)}(ke,function(it){var ft=new N.Response(it,Le);In(),bi&&bi.then(function(pt){return pt.put(Or(Ee.url),ft)}).catch(function(pt){return wt(pt.message)})}))}}(b,X,oe),C=!0,o(null,pe,W.headers.get("Cache-Control"),W.headers.get("Expires")))}).catch(function(pe){T||o(new Error(pe.message))})};return F?function(W,X){if(In(),!bi)return X(null);var oe=Or(W.url);bi.then(function(pe){pe.match(oe).then(function(Ee){var ke=function(Ve){if(!Ve)return!1;var Le=new Date(Ve.headers.get("Expires")||0),tt=Rt(Ve.headers.get("Cache-Control")||"");return Le>Date.now()&&!tt["no-cache"]}(Ee);pe.delete(oe),ke&&pe.put(oe,Ee.clone()),X(null,Ee,ke)}).catch(X)}).catch(X)}(b,j):j(null,null),{cancel:function(){T=!0,C||g.abort()}}}var Ra,Vt,Ei=function(n,o){if(/:\/\//.test(n.url)&&!/^https?:|^file:/.test(n.url)){if(fr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,o);if(!fr()){var u=n.url.substring(0,n.url.indexOf("://"));return(Dr.REGISTERED_PROTOCOLS[u]||ua)(n,o)}}if(!(/^file:/.test(g=n.url)||/^file:/.test(Jn())&&!/^\w+:/.test(g))){if(N.fetch&&N.Request&&N.AbortController&&N.Request.prototype.hasOwnProperty("signal"))return ua(n,o);if(fr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,o,void 0,!0)}var g;return function(b,C){var T=new N.XMLHttpRequest;for(var F in T.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(T.responseType="arraybuffer"),b.headers)T.setRequestHeader(F,b.headers[F]);return b.type==="json"&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials=b.credentials==="include",T.onerror=function(){C(new Error(T.statusText))},T.onload=function(){if((T.status>=200&&T.status<300||T.status===0)&&T.response!==null){var j=T.response;if(b.type==="json")try{j=JSON.parse(T.response)}catch(Q){return C(Q)}C(null,j,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else C(new Eo(T.statusText,T.status,b.url))},T.send(b.body),{cancel:function(){return T.abort()}}}(n,o)},zn=function(n,o){return Ei(K(n,{type:"arrayBuffer"}),o)},Y=function(n,o){return Ei(K(n,{method:"POST"}),o)},ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ra=[],Vt=0;var fe=function(n,o){if(Xn.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),Vt>=Dr.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:n,callback:o,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ra.push(u),u}Vt++;var g=!1,b=function(){if(!g)for(g=!0,Vt--;Ra.length&&Vt<Dr.MAX_PARALLEL_IMAGE_REQUESTS;){var T=Ra.shift();T.cancelled||(T.cancel=fe(T.requestParameters,T.callback).cancel)}},C=zn(n,function(T,F,j,Q){b(),T?o(T):F&&(Yn()?function(W,X){var oe=new N.Blob([new Uint8Array(W)],{type:"image/png"});N.createImageBitmap(oe).then(function(pe){X(null,pe)}).catch(function(pe){X(new Error("Could not load image because of "+pe.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(F,o):function(W,X,oe,pe){var Ee=new N.Image,ke=N.URL;Ee.onload=function(){X(null,Ee),ke.revokeObjectURL(Ee.src),Ee.onload=null,N.requestAnimationFrame(function(){Ee.src=ne})},Ee.onerror=function(){return X(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ve=new N.Blob([new Uint8Array(W)],{type:"image/png"});Ee.cacheControl=oe,Ee.expires=pe,Ee.src=W.byteLength?ke.createObjectURL(Ve):ne}(F,o,j,Q))});return{cancel:function(){C.cancel(),b()}}};function ve(n,o,u){u[n]&&u[n].indexOf(o)!==-1||(u[n]=u[n]||[],u[n].push(o))}function Ie(n,o,u){if(u&&u[n]){var g=u[n].indexOf(o);g!==-1&&u[n].splice(g,1)}}var Ne=function(n,o){o===void 0&&(o={}),K(this,o),this.type=n},He=function(n){function o(u,g){g===void 0&&(g={}),n.call(this,"error",K({error:u},g))}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(Ne),ze=function(){};ze.prototype.on=function(n,o){return this._listeners=this._listeners||{},ve(n,o,this._listeners),this},ze.prototype.off=function(n,o){return Ie(n,o,this._listeners),Ie(n,o,this._oneTimeListeners),this},ze.prototype.once=function(n,o){return this._oneTimeListeners=this._oneTimeListeners||{},ve(n,o,this._oneTimeListeners),this},ze.prototype.fire=function(n,o){typeof n=="string"&&(n=new Ne(n,o||{}));var u=n.type;if(this.listens(u)){n.target=this;for(var g=0,b=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];g<b.length;g+=1)b[g].call(this,n);for(var C=0,T=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];C<T.length;C+=1){var F=T[C];Ie(u,F,this._oneTimeListeners),F.call(this,n)}var j=this._eventedParent;j&&(K(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),j.fire(n))}else n instanceof He&&console.error(n.error);return this},ze.prototype.listens=function(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)},ze.prototype.setEventedParent=function(n,o){return this._eventedParent=n,this._eventedParentData=o,this};var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},re=function(n,o,u,g){this.message=(n?n+": ":"")+u,g&&(this.identifier=g),o!=null&&o.__line__&&(this.line=o.__line__)};function $e(n){var o=n.value;return o?[new re(n.key,o,"constants have been deprecated as of v8")]:[]}function at(n){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];for(var g=0,b=o;g<b.length;g+=1){var C=b[g];for(var T in C)n[T]=C[T]}return n}function Qe(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function h(n){if(Array.isArray(n))return n.map(h);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){var o={};for(var u in n)o[u]=h(n[u]);return o}return Qe(n)}var ge=function(n){function o(u,g){n.call(this,g),this.message=g,this.key=u}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(Error),Lt=function(n,o){o===void 0&&(o=[]),this.parent=n,this.bindings={};for(var u=0,g=o;u<g.length;u+=1){var b=g[u];this.bindings[b[0]]=b[1]}};Lt.prototype.concat=function(n){return new Lt(this,n)},Lt.prototype.get=function(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(n+" not found in scope.")},Lt.prototype.has=function(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)};var $t={kind:"null"},ct={kind:"number"},Ot={kind:"string"},xt={kind:"boolean"},pr={kind:"color"},lr={kind:"object"},Gt={kind:"value"},An={kind:"collator"},Xr={kind:"formatted"},Ln={kind:"resolvedImage"};function dn(n,o){return{kind:"array",itemType:n,N:o}}function an(n){if(n.kind==="array"){var o=an(n.itemType);return typeof n.N=="number"?"array<"+o+", "+n.N+">":n.itemType.kind==="value"?"array":"array<"+o+">"}return n.kind}var gn=[$t,ct,Ot,xt,pr,Xr,lr,dn(Gt),Ln];function hi(n,o){if(o.kind==="error")return null;if(n.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!hi(n.itemType,o.itemType))&&(typeof n.N!="number"||n.N===o.N))return null}else{if(n.kind===o.kind)return null;if(n.kind==="value"){for(var u=0,g=gn;u<g.length;u+=1)if(!hi(g[u],o))return null}}return"Expected "+an(n)+" but found "+an(o)+" instead."}function xn(n,o){return o.some(function(u){return u.kind===n.kind})}function Xt(n,o){return o.some(function(u){return u==="null"?n===null:u==="array"?Array.isArray(n):u==="object"?n&&!Array.isArray(n)&&typeof n=="object":u===typeof n})}var Ge=x(function(n,o){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(F){return(F=Math.round(F))<0?0:F>255?255:F}function b(F){return g(F[F.length-1]==="%"?parseFloat(F)/100*255:parseInt(F))}function C(F){return(j=F[F.length-1]==="%"?parseFloat(F)/100:parseFloat(F))<0?0:j>1?1:j;var j}function T(F,j,Q){return Q<0?Q+=1:Q>1&&(Q-=1),6*Q<1?F+(j-F)*Q*6:2*Q<1?j:3*Q<2?F+(j-F)*(2/3-Q)*6:F}try{o.parseCSSColor=function(F){var j,Q=F.replace(/ /g,"").toLowerCase();if(Q in u)return u[Q].slice();if(Q[0]==="#")return Q.length===4?(j=parseInt(Q.substr(1),16))>=0&&j<=4095?[(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1]:null:Q.length===7&&(j=parseInt(Q.substr(1),16))>=0&&j<=16777215?[(16711680&j)>>16,(65280&j)>>8,255&j,1]:null;var W=Q.indexOf("("),X=Q.indexOf(")");if(W!==-1&&X+1===Q.length){var oe=Q.substr(0,W),pe=Q.substr(W+1,X-(W+1)).split(","),Ee=1;switch(oe){case"rgba":if(pe.length!==4)return null;Ee=C(pe.pop());case"rgb":return pe.length!==3?null:[b(pe[0]),b(pe[1]),b(pe[2]),Ee];case"hsla":if(pe.length!==4)return null;Ee=C(pe.pop());case"hsl":if(pe.length!==3)return null;var ke=(parseFloat(pe[0])%360+360)%360/360,Ve=C(pe[1]),Le=C(pe[2]),tt=Le<=.5?Le*(Ve+1):Le+Ve-Le*Ve,it=2*Le-tt;return[g(255*T(it,tt,ke+1/3)),g(255*T(it,tt,ke)),g(255*T(it,tt,ke-1/3)),Ee];default:return null}}return null}}catch{}}).parseCSSColor,br=function(n,o,u,g){g===void 0&&(g=1),this.r=n,this.g=o,this.b=u,this.a=g};br.parse=function(n){if(n){if(n instanceof br)return n;if(typeof n=="string"){var o=Ge(n);if(o)return new br(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3])}}},br.prototype.toString=function(){var n=this.toArray(),o=n[1],u=n[2],g=n[3];return"rgba("+Math.round(n[0])+","+Math.round(o)+","+Math.round(u)+","+g+")"},br.prototype.toArray=function(){var n=this.a;return n===0?[0,0,0,0]:[255*this.r/n,255*this.g/n,255*this.b/n,n]},br.black=new br(0,0,0,1),br.white=new br(1,1,1,1),br.transparent=new br(0,0,0,0),br.red=new br(1,0,0,1);var uu=function(n,o,u){this.sensitivity=n?o?"variant":"case":o?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};uu.prototype.compare=function(n,o){return this.collator.compare(n,o)},uu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Fc=function(n,o,u,g,b){this.text=n,this.image=o,this.scale=u,this.fontStack=g,this.textColor=b},ao=function(n){this.sections=n};ao.fromString=function(n){return new ao([new Fc(n,null,null,null,null)])},ao.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(n){return n.text.length!==0||n.image&&n.image.name.length!==0})},ao.factory=function(n){return n instanceof ao?n:ao.fromString(n)},ao.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(n){return n.text}).join("")},ao.prototype.serialize=function(){for(var n=["format"],o=0,u=this.sections;o<u.length;o+=1){var g=u[o];if(g.image)n.push(["image",g.image.name]);else{n.push(g.text);var b={};g.fontStack&&(b["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(b["font-scale"]=g.scale),g.textColor&&(b["text-color"]=["rgba"].concat(g.textColor.toArray())),n.push(b)}}return n};var Wo=function(n){this.name=n.name,this.available=n.available};function Bc(n,o,u,g){return typeof n=="number"&&n>=0&&n<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof u=="number"&&u>=0&&u<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[n,o,u,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[n,o,u,g]:[n,o,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Me(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof br||n instanceof uu||n instanceof ao||n instanceof Wo)return!0;if(Array.isArray(n)){for(var o=0,u=n;o<u.length;o+=1)if(!Me(u[o]))return!1;return!0}if(typeof n=="object"){for(var g in n)if(!Me(n[g]))return!1;return!0}return!1}function so(n){if(n===null)return $t;if(typeof n=="string")return Ot;if(typeof n=="boolean")return xt;if(typeof n=="number")return ct;if(n instanceof br)return pr;if(n instanceof uu)return An;if(n instanceof ao)return Xr;if(n instanceof Wo)return Ln;if(Array.isArray(n)){for(var o,u=n.length,g=0,b=n;g<b.length;g+=1){var C=so(b[g]);if(o){if(o===C)continue;o=Gt;break}o=C}return dn(o||Gt,u)}return lr}function is(n){var o=typeof n;return n===null?"":o==="string"||o==="number"||o==="boolean"?String(n):n instanceof br||n instanceof ao||n instanceof Wo?n.toString():JSON.stringify(n)}Wo.prototype.toString=function(){return this.name},Wo.fromString=function(n){return n?new Wo({name:n,available:!1}):null},Wo.prototype.serialize=function(){return["image",this.name]};var la=function(n,o){this.type=n,this.value=o};la.parse=function(n,o){if(n.length!==2)return o.error("'literal' expression requires exactly one argument, but found "+(n.length-1)+" instead.");if(!Me(n[1]))return o.error("invalid value");var u=n[1],g=so(u),b=o.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new la(g,u)},la.prototype.evaluate=function(){return this.value},la.prototype.eachChild=function(){},la.prototype.outputDefined=function(){return!0},la.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof br?["rgba"].concat(this.value.toArray()):this.value instanceof ao?this.value.serialize():this.value};var si=function(n){this.name="ExpressionEvaluationError",this.message=n};si.prototype.toJSON=function(){return this.message};var ca={string:Ot,number:ct,boolean:xt,object:lr},ko=function(n,o){this.type=n,this.args=o};ko.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var u,g=1,b=n[0];if(b==="array"){var C,T;if(n.length>2){var F=n[1];if(typeof F!="string"||!(F in ca)||F==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);C=ca[F],g++}else C=Gt;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return o.error('The length argument to "array" must be a positive integer literal',2);T=n[2],g++}u=dn(C,T)}else u=ca[b];for(var j=[];g<n.length;g++){var Q=o.parse(n[g],g,Gt);if(!Q)return null;j.push(Q)}return new ko(u,j)},ko.prototype.evaluate=function(n){for(var o=0;o<this.args.length;o++){var u=this.args[o].evaluate(n);if(!hi(this.type,so(u)))return u;if(o===this.args.length-1)throw new si("Expected value to be of type "+an(this.type)+", but found "+an(so(u))+" instead.")}return null},ko.prototype.eachChild=function(n){this.args.forEach(n)},ko.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},ko.prototype.serialize=function(){var n=this.type,o=[n.kind];if(n.kind==="array"){var u=n.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){o.push(u.kind);var g=n.N;(typeof g=="number"||this.args.length>1)&&o.push(g)}}return o.concat(this.args.map(function(b){return b.serialize()}))};var Zo=function(n){this.type=Xr,this.sections=n};Zo.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var u=n[1];if(!Array.isArray(u)&&typeof u=="object")return o.error("First argument must be an image or text section.");for(var g=[],b=!1,C=1;C<=n.length-1;++C){var T=n[C];if(b&&typeof T=="object"&&!Array.isArray(T)){b=!1;var F=null;if(T["font-scale"]&&!(F=o.parse(T["font-scale"],1,ct)))return null;var j=null;if(T["text-font"]&&!(j=o.parse(T["text-font"],1,dn(Ot))))return null;var Q=null;if(T["text-color"]&&!(Q=o.parse(T["text-color"],1,pr)))return null;var W=g[g.length-1];W.scale=F,W.font=j,W.textColor=Q}else{var X=o.parse(n[C],1,Gt);if(!X)return null;var oe=X.type.kind;if(oe!=="string"&&oe!=="value"&&oe!=="null"&&oe!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:X,scale:null,font:null,textColor:null})}}return new Zo(g)},Zo.prototype.evaluate=function(n){return new ao(this.sections.map(function(o){var u=o.content.evaluate(n);return so(u)===Ln?new Fc("",u,null,null,null):new Fc(is(u),null,o.scale?o.scale.evaluate(n):null,o.font?o.font.evaluate(n).join(","):null,o.textColor?o.textColor.evaluate(n):null)}))},Zo.prototype.eachChild=function(n){for(var o=0,u=this.sections;o<u.length;o+=1){var g=u[o];n(g.content),g.scale&&n(g.scale),g.font&&n(g.font),g.textColor&&n(g.textColor)}},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){for(var n=["format"],o=0,u=this.sections;o<u.length;o+=1){var g=u[o];n.push(g.content.serialize());var b={};g.scale&&(b["font-scale"]=g.scale.serialize()),g.font&&(b["text-font"]=g.font.serialize()),g.textColor&&(b["text-color"]=g.textColor.serialize()),n.push(b)}return n};var os=function(n){this.type=Ln,this.input=n};os.parse=function(n,o){if(n.length!==2)return o.error("Expected two arguments.");var u=o.parse(n[1],1,Ot);return u?new os(u):o.error("No image name provided.")},os.prototype.evaluate=function(n){var o=this.input.evaluate(n),u=Wo.fromString(o);return u&&n.availableImages&&(u.available=n.availableImages.indexOf(o)>-1),u},os.prototype.eachChild=function(n){n(this.input)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){return["image",this.input.serialize()]};var Tf={"to-boolean":xt,"to-color":pr,"to-number":ct,"to-string":Ot},zi=function(n,o){this.type=n,this.args=o};zi.parse=function(n,o){if(n.length<2)return o.error("Expected at least one argument.");var u=n[0];if((u==="to-boolean"||u==="to-string")&&n.length!==2)return o.error("Expected one argument.");for(var g=Tf[u],b=[],C=1;C<n.length;C++){var T=o.parse(n[C],C,Gt);if(!T)return null;b.push(T)}return new zi(g,b)},zi.prototype.evaluate=function(n){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(n));if(this.type.kind==="color"){for(var o,u,g=0,b=this.args;g<b.length;g+=1){if(u=null,(o=b[g].evaluate(n))instanceof br)return o;if(typeof o=="string"){var C=n.parseColor(o);if(C)return C}else if(Array.isArray(o)&&!(u=o.length<3||o.length>4?"Invalid rbga value "+JSON.stringify(o)+": expected an array containing either three or four numeric values.":Bc(o[0],o[1],o[2],o[3])))return new br(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new si(u||"Could not parse color from value '"+(typeof o=="string"?o:String(JSON.stringify(o)))+"'")}if(this.type.kind==="number"){for(var T=null,F=0,j=this.args;F<j.length;F+=1){if((T=j[F].evaluate(n))===null)return 0;var Q=Number(T);if(!isNaN(Q))return Q}throw new si("Could not convert "+JSON.stringify(T)+" to number.")}return this.type.kind==="formatted"?ao.fromString(is(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Wo.fromString(is(this.args[0].evaluate(n))):is(this.args[0].evaluate(n))},zi.prototype.eachChild=function(n){this.args.forEach(n)},zi.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},zi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Zo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new os(this.args[0]).serialize();var n=["to-"+this.type.kind];return this.eachChild(function(o){n.push(o.serialize())}),n};var ki=["Unknown","Point","LineString","Polygon"],as=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};as.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},as.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ki[this.feature.type]:this.feature.type:null},as.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},as.prototype.canonicalID=function(){return this.canonical},as.prototype.properties=function(){return this.feature&&this.feature.properties||{}},as.prototype.parseColor=function(n){var o=this._parseColorCache[n];return o||(o=this._parseColorCache[n]=br.parse(n)),o};var wi=function(n,o,u,g){this.name=n,this.type=o,this._evaluate=u,this.args=g};wi.prototype.evaluate=function(n){return this._evaluate(n,this.args)},wi.prototype.eachChild=function(n){this.args.forEach(n)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(n){return n.serialize()}))},wi.parse=function(n,o){var u,g=n[0],b=wi.definitions[g];if(!b)return o.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var C=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,F=T.filter(function(Cr){var rr=Cr[0];return!Array.isArray(rr)||rr.length===n.length-1}),j=null,Q=0,W=F;Q<W.length;Q+=1){var X=W[Q],oe=X[0],pe=X[1];j=new Nn(o.registry,o.path,null,o.scope);for(var Ee=[],ke=!1,Ve=1;Ve<n.length;Ve++){var Le=n[Ve],tt=Array.isArray(oe)?oe[Ve-1]:oe.type,it=j.parse(Le,1+Ee.length,tt);if(!it){ke=!0;break}Ee.push(it)}if(!ke)if(Array.isArray(oe)&&oe.length!==Ee.length)j.error("Expected "+oe.length+" arguments, but found "+Ee.length+" instead.");else{for(var ft=0;ft<Ee.length;ft++){var pt=Array.isArray(oe)?oe[ft]:oe.type,Tt=Ee[ft];j.concat(ft+1).checkSubtype(pt,Tt.type)}if(j.errors.length===0)return new wi(g,C,pe,Ee)}}if(F.length===1)(u=o.errors).push.apply(u,j.errors);else{for(var jt=(F.length?F:T).map(function(Cr){var rr;return rr=Cr[0],Array.isArray(rr)?"("+rr.map(an).join(", ")+")":"("+an(rr.type)+"...)"}).join(" | "),Kt=[],gr=1;gr<n.length;gr++){var er=o.parse(n[gr],1+Kt.length);if(!er)return null;Kt.push(an(er.type))}o.error("Expected arguments of type "+jt+", but found ("+Kt.join(", ")+") instead.")}return null},wi.register=function(n,o){for(var u in wi.definitions=o,o)n[u]=wi};var Ni=function(n,o,u){this.type=An,this.locale=u,this.caseSensitive=n,this.diacriticSensitive=o};function Fu(n,o){n[0]=Math.min(n[0],o[0]),n[1]=Math.min(n[1],o[1]),n[2]=Math.max(n[2],o[0]),n[3]=Math.max(n[3],o[1])}function Zl(n,o){return!(n[0]<=o[0]||n[2]>=o[2]||n[1]<=o[1]||n[3]>=o[3])}function Pp(n,o){var u=(180+n[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,b=Math.pow(2,o.z);return[Math.round(u*b*8192),Math.round(g*b*8192)]}function Ip(n,o,u){return o[1]>n[1]!=u[1]>n[1]&&n[0]<(u[0]-o[0])*(n[1]-o[1])/(u[1]-o[1])+o[0]}function ci(n,o){for(var u,g,b,C,T,F,j,Q=!1,W=0,X=o.length;W<X;W++)for(var oe=o[W],pe=0,Ee=oe.length;pe<Ee-1;pe++){if((C=(u=n)[0]-(g=oe[pe])[0])*(j=u[1]-(b=oe[pe+1])[1])-(F=u[0]-b[0])*(T=u[1]-g[1])==0&&C*F<=0&&T*j<=0)return!1;Ip(n,oe[pe],oe[pe+1])&&(Q=!Q)}return Q}function zc(n,o){for(var u=0;u<o.length;u++)if(ci(n,o[u]))return!0;return!1}function Pf(n,o,u,g){var b=g[0]-u[0],C=g[1]-u[1],T=(n[0]-u[0])*C-b*(n[1]-u[1]),F=(o[0]-u[0])*C-b*(o[1]-u[1]);return T>0&&F<0||T<0&&F>0}function GA(n,o,u){for(var g=0,b=u;g<b.length;g+=1)for(var C=b[g],T=0;T<C.length-1;++T)if((X=[(W=C[T+1])[0]-(Q=C[T])[0],W[1]-Q[1]])[0]*(oe=[(j=o)[0]-(F=n)[0],j[1]-F[1]])[1]-X[1]*oe[0]!=0&&Pf(F,j,Q,W)&&Pf(Q,W,F,j))return!0;var F,j,Q,W,X,oe;return!1}function If(n,o){for(var u=0;u<n.length;++u)if(!ci(n[u],o))return!1;for(var g=0;g<n.length-1;++g)if(GA(n[g],n[g+1],o))return!1;return!0}function Kl(n,o){for(var u=0;u<o.length;u++)if(If(n,o[u]))return!0;return!1}function Xl(n,o,u){for(var g=[],b=0;b<n.length;b++){for(var C=[],T=0;T<n[b].length;T++){var F=Pp(n[b][T],u);Fu(o,F),C.push(F)}g.push(C)}return g}function Bu(n,o,u){for(var g=[],b=0;b<n.length;b++){var C=Xl(n[b],o,u);g.push(C)}return g}function Nc(n,o,u,g){if(n[0]<u[0]||n[0]>u[2]){var b=.5*g,C=n[0]-u[0]>b?-g:u[0]-n[0]>b?g:0;C===0&&(C=n[0]-u[2]>b?-g:u[2]-n[0]>b?g:0),n[0]+=C}Fu(o,n)}function Uc(n,o,u,g){for(var b=8192*Math.pow(2,g.z),C=[8192*g.x,8192*g.y],T=[],F=0,j=n;F<j.length;F+=1)for(var Q=0,W=j[F];Q<W.length;Q+=1){var X=W[Q],oe=[X.x+C[0],X.y+C[1]];Nc(oe,o,u,b),T.push(oe)}return T}function Yl(n,o,u,g){for(var b,C=8192*Math.pow(2,g.z),T=[8192*g.x,8192*g.y],F=[],j=0,Q=n;j<Q.length;j+=1){for(var W=[],X=0,oe=Q[j];X<oe.length;X+=1){var pe=oe[X],Ee=[pe.x+T[0],pe.y+T[1]];Fu(o,Ee),W.push(Ee)}F.push(W)}if(o[2]-o[0]<=C/2){(b=o)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var ke=0,Ve=F;ke<Ve.length;ke+=1)for(var Le=0,tt=Ve[ke];Le<tt.length;Le+=1)Nc(tt[Le],o,u,C)}return F}Ni.parse=function(n,o){if(n.length!==2)return o.error("Expected one argument.");var u=n[1];if(typeof u!="object"||Array.isArray(u))return o.error("Collator options argument must be an object.");var g=o.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,xt);if(!g)return null;var b=o.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,xt);if(!b)return null;var C=null;return u.locale&&!(C=o.parse(u.locale,1,Ot))?null:new Ni(g,b,C)},Ni.prototype.evaluate=function(n){return new uu(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)},Ni.prototype.eachChild=function(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]};var Ko=function(n,o){this.type=xt,this.geojson=n,this.geometries=o};function lu(n){if(n instanceof wi&&(n.name==="get"&&n.args.length===1||n.name==="feature-state"||n.name==="has"&&n.args.length===1||n.name==="properties"||n.name==="geometry-type"||n.name==="id"||/^filter-/.test(n.name))||n instanceof Ko)return!1;var o=!0;return n.eachChild(function(u){o&&!lu(u)&&(o=!1)}),o}function Ss(n){if(n instanceof wi&&n.name==="feature-state")return!1;var o=!0;return n.eachChild(function(u){o&&!Ss(u)&&(o=!1)}),o}function jc(n,o){if(n instanceof wi&&o.indexOf(n.name)>=0)return!1;var u=!0;return n.eachChild(function(g){u&&!jc(g,o)&&(u=!1)}),u}Ko.parse=function(n,o){if(n.length!==2)return o.error("'within' expression requires exactly one argument, but found "+(n.length-1)+" instead.");if(Me(n[1])){var u=n[1];if(u.type==="FeatureCollection")for(var g=0;g<u.features.length;++g){var b=u.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Ko(u,u.features[g].geometry)}else if(u.type==="Feature"){var C=u.geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new Ko(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Ko(u,u)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ko.prototype.evaluate=function(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(o,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(u.type==="Polygon"){var T=Xl(u.coordinates,b,C),F=Uc(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var j=0,Q=F;j<Q.length;j+=1)if(!ci(Q[j],T))return!1}if(u.type==="MultiPolygon"){var W=Bu(u.coordinates,b,C),X=Uc(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var oe=0,pe=X;oe<pe.length;oe+=1)if(!zc(pe[oe],W))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(o,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=o.canonicalID();if(u.type==="Polygon"){var T=Xl(u.coordinates,b,C),F=Yl(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var j=0,Q=F;j<Q.length;j+=1)if(!If(Q[j],T))return!1}if(u.type==="MultiPolygon"){var W=Bu(u.coordinates,b,C),X=Yl(o.geometry(),g,b,C);if(!Zl(g,b))return!1;for(var oe=0,pe=X;oe<pe.length;oe+=1)if(!Kl(pe[oe],W))return!1}return!0}(n,this.geometries)}return!1},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return["within",this.geojson]};var cu=function(n,o){this.type=o.type,this.name=n,this.boundExpression=o};cu.parse=function(n,o){if(n.length!==2||typeof n[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");var u=n[1];return o.scope.has(u)?new cu(u,o.scope.get(u)):o.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},cu.prototype.evaluate=function(n){return this.boundExpression.evaluate(n)},cu.prototype.eachChild=function(){},cu.prototype.outputDefined=function(){return!1},cu.prototype.serialize=function(){return["var",this.name]};var Nn=function(n,o,u,g,b){o===void 0&&(o=[]),g===void 0&&(g=new Lt),b===void 0&&(b=[]),this.registry=n,this.path=o,this.key=o.map(function(C){return"["+C+"]"}).join(""),this.scope=g,this.errors=b,this.expectedType=u};function qr(n,o){for(var u,g=n.length-1,b=0,C=g,T=0;b<=C;)if((u=n[T=Math.floor((b+C)/2)])<=o){if(T===g||o<n[T+1])return T;b=T+1}else{if(!(u>o))throw new si("Input is not a number.");C=T-1}return 0}Nn.prototype.parse=function(n,o,u,g,b){return b===void 0&&(b={}),o?this.concat(o,u,g)._parse(n,b):this._parse(n,b)},Nn.prototype._parse=function(n,o){function u(Q,W,X){return X==="assert"?new ko(W,[Q]):X==="coerce"?new zi(W,[Q]):Q}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=n[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[g];if(b){var C=b.parse(n,this);if(!C)return null;if(this.expectedType){var T=this.expectedType,F=C.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||F.kind!=="value")if(T.kind!=="color"&&T.kind!=="formatted"&&T.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string"){if(this.checkSubtype(T,F))return null}else C=u(C,T,o.typeAnnotation||"coerce");else C=u(C,T,o.typeAnnotation||"assert")}if(!(C instanceof la)&&C.type.kind!=="resolvedImage"&&function Q(W){if(W instanceof cu)return Q(W.boundExpression);if(W instanceof wi&&W.name==="error"||W instanceof Ni||W instanceof Ko)return!1;var X=W instanceof zi||W instanceof ko,oe=!0;return W.eachChild(function(pe){oe=X?oe&&Q(pe):oe&&pe instanceof la}),!!oe&&lu(W)&&jc(W,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(C)){var j=new as;try{C=new la(C.type,C.evaluate(j))}catch(Q){return this.error(Q.message),null}}return C}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof n+" instead.")},Nn.prototype.concat=function(n,o,u){var g=typeof n=="number"?this.path.concat(n):this.path,b=u?this.scope.concat(u):this.scope;return new Nn(this.registry,g,o||null,b,this.errors)},Nn.prototype.error=function(n){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];var g=""+this.key+o.map(function(b){return"["+b+"]"}).join("");this.errors.push(new ge(g,n))},Nn.prototype.checkSubtype=function(n,o){var u=hi(n,o);return u&&this.error(u),u};var Fo=function(n,o,u){this.type=n,this.input=o,this.labels=[],this.outputs=[];for(var g=0,b=u;g<b.length;g+=1){var C=b[g],T=C[1];this.labels.push(C[0]),this.outputs.push(T)}};function kn(n,o,u){return n*(1-u)+o*u}Fo.parse=function(n,o){if(n.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");var u=o.parse(n[1],1,ct);if(!u)return null;var g=[],b=null;o.expectedType&&o.expectedType.kind!=="value"&&(b=o.expectedType);for(var C=1;C<n.length;C+=2){var T=C===1?-1/0:n[C],F=n[C+1],j=C,Q=C+1;if(typeof T!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(g.length&&g[g.length-1][0]>=T)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);var W=o.parse(F,Q,b);if(!W)return null;b=b||W.type,g.push([T,W])}return new Fo(b,u,g)},Fo.prototype.evaluate=function(n){var o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(n);var g=this.input.evaluate(n);if(g<=o[0])return u[0].evaluate(n);var b=o.length;return g>=o[b-1]?u[b-1].evaluate(n):u[qr(o,g)].evaluate(n)},Fo.prototype.eachChild=function(n){n(this.input);for(var o=0,u=this.outputs;o<u.length;o+=1)n(u[o])},Fo.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})},Fo.prototype.serialize=function(){for(var n=["step",this.input.serialize()],o=0;o<this.labels.length;o++)o>0&&n.push(this.labels[o]),n.push(this.outputs[o].serialize());return n};var sl=Object.freeze({__proto__:null,number:kn,color:function(n,o,u){return new br(kn(n.r,o.r,u),kn(n.g,o.g,u),kn(n.b,o.b,u),kn(n.a,o.a,u))},array:function(n,o,u){return n.map(function(g,b){return kn(g,o[b],u)})}}),Of=6/29*3*(6/29),$c=Math.PI/180,Op=180/Math.PI;function ul(n){return n>.008856451679035631?Math.pow(n,1/3):n/Of+4/29}function ll(n){return n>6/29?n*n*n:Of*(n-4/29)}function yi(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function cl(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function js(n){var o=cl(n.r),u=cl(n.g),g=cl(n.b),b=ul((.4124564*o+.3575761*u+.1804375*g)/.95047),C=ul((.2126729*o+.7151522*u+.072175*g)/1);return{l:116*C-16,a:500*(b-C),b:200*(C-ul((.0193339*o+.119192*u+.9503041*g)/1.08883)),alpha:n.a}}function fl(n){var o=(n.l+16)/116,u=isNaN(n.a)?o:o+n.a/500,g=isNaN(n.b)?o:o-n.b/200;return o=1*ll(o),u=.95047*ll(u),g=1.08883*ll(g),new br(yi(3.2404542*u-1.5371385*o-.4985314*g),yi(-.969266*u+1.8760108*o+.041556*g),yi(.0556434*u-.2040259*o+1.0572252*g),n.alpha)}function $s(n,o,u){var g=o-n;return n+u*(g>180||g<-180?g-360*Math.round(g/360):g)}var Ti={forward:js,reverse:fl,interpolate:function(n,o,u){return{l:kn(n.l,o.l,u),a:kn(n.a,o.a,u),b:kn(n.b,o.b,u),alpha:kn(n.alpha,o.alpha,u)}}},zu={forward:function(n){var o=js(n),u=o.l,g=o.a,b=o.b,C=Math.atan2(b,g)*Op;return{h:C<0?C+360:C,c:Math.sqrt(g*g+b*b),l:u,alpha:n.a}},reverse:function(n){var o=n.h*$c,u=n.c;return fl({l:n.l,a:Math.cos(o)*u,b:Math.sin(o)*u,alpha:n.alpha})},interpolate:function(n,o,u){return{h:$s(n.h,o.h,u),c:kn(n.c,o.c,u),l:kn(n.l,o.l,u),alpha:kn(n.alpha,o.alpha,u)}}},Vc=Object.freeze({__proto__:null,lab:Ti,hcl:zu}),Zi=function(n,o,u,g,b){this.type=n,this.operator=o,this.interpolation=u,this.input=g,this.labels=[],this.outputs=[];for(var C=0,T=b;C<T.length;C+=1){var F=T[C],j=F[1];this.labels.push(F[0]),this.outputs.push(j)}};function Hc(n,o,u,g){var b=g-u,C=n-u;return b===0?0:o===1?C/b:(Math.pow(o,C)-1)/(Math.pow(o,b)-1)}Zi.interpolationFactor=function(n,o,u,g){var b=0;if(n.name==="exponential")b=Hc(o,n.base,u,g);else if(n.name==="linear")b=Hc(o,1,u,g);else if(n.name==="cubic-bezier"){var C=n.controlPoints;b=new S(C[0],C[1],C[2],C[3]).solve(Hc(o,1,u,g))}return b},Zi.parse=function(n,o){var u=n[0],g=n[1],b=n[2],C=n.slice(3);if(!Array.isArray(g)||g.length===0)return o.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var T=g[1];if(typeof T!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:T}}else{if(g[0]!=="cubic-bezier")return o.error("Unknown interpolation type "+String(g[0]),1,0);var F=g.slice(1);if(F.length!==4||F.some(function(Ve){return typeof Ve!="number"||Ve<0||Ve>1}))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:F}}if(n.length-1<4)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if((n.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(!(b=o.parse(b,2,ct)))return null;var j=[],Q=null;u==="interpolate-hcl"||u==="interpolate-lab"?Q=pr:o.expectedType&&o.expectedType.kind!=="value"&&(Q=o.expectedType);for(var W=0;W<C.length;W+=2){var X=C[W],oe=C[W+1],pe=W+3,Ee=W+4;if(typeof X!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pe);if(j.length&&j[j.length-1][0]>=X)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',pe);var ke=o.parse(oe,Ee,Q);if(!ke)return null;Q=Q||ke.type,j.push([X,ke])}return Q.kind==="number"||Q.kind==="color"||Q.kind==="array"&&Q.itemType.kind==="number"&&typeof Q.N=="number"?new Zi(Q,u,g,b,j):o.error("Type "+an(Q)+" is not interpolatable.")},Zi.prototype.evaluate=function(n){var o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(n);var g=this.input.evaluate(n);if(g<=o[0])return u[0].evaluate(n);var b=o.length;if(g>=o[b-1])return u[b-1].evaluate(n);var C=qr(o,g),T=Zi.interpolationFactor(this.interpolation,g,o[C],o[C+1]),F=u[C].evaluate(n),j=u[C+1].evaluate(n);return this.operator==="interpolate"?sl[this.type.kind.toLowerCase()](F,j,T):this.operator==="interpolate-hcl"?zu.reverse(zu.interpolate(zu.forward(F),zu.forward(j),T)):Ti.reverse(Ti.interpolate(Ti.forward(F),Ti.forward(j),T))},Zi.prototype.eachChild=function(n){n(this.input);for(var o=0,u=this.outputs;o<u.length;o+=1)n(u[o])},Zi.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})},Zi.prototype.serialize=function(){var n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var o=[this.operator,n,this.input.serialize()],u=0;u<this.labels.length;u++)o.push(this.labels[u],this.outputs[u].serialize());return o};var Vs=function(n,o){this.type=n,this.args=o};Vs.parse=function(n,o){if(n.length<2)return o.error("Expectected at least one argument.");var u=null,g=o.expectedType;g&&g.kind!=="value"&&(u=g);for(var b=[],C=0,T=n.slice(1);C<T.length;C+=1){var F=o.parse(T[C],1+b.length,u,void 0,{typeAnnotation:"omit"});if(!F)return null;u=u||F.type,b.push(F)}var j=g&&b.some(function(Q){return hi(g,Q.type)});return new Vs(j?Gt:u,b)},Vs.prototype.evaluate=function(n){for(var o,u=null,g=0,b=0,C=this.args;b<C.length&&(g++,(u=C[b].evaluate(n))&&u instanceof Wo&&!u.available&&(o||(o=u.name),u=null,g===this.args.length&&(u=o)),u===null);b+=1);return u},Vs.prototype.eachChild=function(n){this.args.forEach(n)},Vs.prototype.outputDefined=function(){return this.args.every(function(n){return n.outputDefined()})},Vs.prototype.serialize=function(){var n=["coalesce"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Cs=function(n,o){this.type=o.type,this.bindings=[].concat(n),this.result=o};Cs.prototype.evaluate=function(n){return this.result.evaluate(n)},Cs.prototype.eachChild=function(n){for(var o=0,u=this.bindings;o<u.length;o+=1)n(u[o][1]);n(this.result)},Cs.parse=function(n,o){if(n.length<4)return o.error("Expected at least 3 arguments, but found "+(n.length-1)+" instead.");for(var u=[],g=1;g<n.length-1;g+=2){var b=n[g];if(typeof b!="string")return o.error("Expected string, but found "+typeof b+" instead.",g);if(/[^a-zA-Z0-9_]/.test(b))return o.error("Variable names must contain only alphanumeric characters or '_'.",g);var C=o.parse(n[g+1],g+1);if(!C)return null;u.push([b,C])}var T=o.parse(n[n.length-1],n.length-1,o.expectedType,u);return T?new Cs(u,T):null},Cs.prototype.outputDefined=function(){return this.result.outputDefined()},Cs.prototype.serialize=function(){for(var n=["let"],o=0,u=this.bindings;o<u.length;o+=1){var g=u[o];n.push(g[0],g[1].serialize())}return n.push(this.result.serialize()),n};var fo=function(n,o,u){this.type=n,this.index=o,this.input=u};fo.parse=function(n,o){if(n.length!==3)return o.error("Expected 2 arguments, but found "+(n.length-1)+" instead.");var u=o.parse(n[1],1,ct),g=o.parse(n[2],2,dn(o.expectedType||Gt));return u&&g?new fo(g.type.itemType,u,g):null},fo.prototype.evaluate=function(n){var o=this.index.evaluate(n),u=this.input.evaluate(n);if(o<0)throw new si("Array index out of bounds: "+o+" < 0.");if(o>=u.length)throw new si("Array index out of bounds: "+o+" > "+(u.length-1)+".");if(o!==Math.floor(o))throw new si("Array index must be an integer, but found "+o+" instead.");return u[o]},fo.prototype.eachChild=function(n){n(this.index),n(this.input)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Nu=function(n,o){this.type=xt,this.needle=n,this.haystack=o};Nu.parse=function(n,o){if(n.length!==3)return o.error("Expected 2 arguments, but found "+(n.length-1)+" instead.");var u=o.parse(n[1],1,Gt),g=o.parse(n[2],2,Gt);return u&&g?xn(u.type,[xt,Ot,ct,$t,Gt])?new Nu(u,g):o.error("Expected first argument to be of type boolean, string, number or null, but found "+an(u.type)+" instead"):null},Nu.prototype.evaluate=function(n){var o=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(!u)return!1;if(!Xt(o,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+an(so(o))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+an(so(u))+" instead.");return u.indexOf(o)>=0},Nu.prototype.eachChild=function(n){n(this.needle),n(this.haystack)},Nu.prototype.outputDefined=function(){return!0},Nu.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var po=function(n,o,u){this.type=ct,this.needle=n,this.haystack=o,this.fromIndex=u};po.parse=function(n,o){if(n.length<=2||n.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(n.length-1)+" instead.");var u=o.parse(n[1],1,Gt),g=o.parse(n[2],2,Gt);if(!u||!g)return null;if(!xn(u.type,[xt,Ot,ct,$t,Gt]))return o.error("Expected first argument to be of type boolean, string, number or null, but found "+an(u.type)+" instead");if(n.length===4){var b=o.parse(n[3],3,ct);return b?new po(u,g,b):null}return new po(u,g)},po.prototype.evaluate=function(n){var o=this.needle.evaluate(n),u=this.haystack.evaluate(n);if(!Xt(o,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+an(so(o))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+an(so(u))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(n);return u.indexOf(o,g)}return u.indexOf(o)},po.prototype.eachChild=function(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)},po.prototype.outputDefined=function(){return!1},po.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ss=function(n,o,u,g,b,C){this.inputType=n,this.type=o,this.input=u,this.cases=g,this.outputs=b,this.otherwise=C};ss.parse=function(n,o){if(n.length<5)return o.error("Expected at least 4 arguments, but found only "+(n.length-1)+".");if(n.length%2!=1)return o.error("Expected an even number of arguments.");var u,g;o.expectedType&&o.expectedType.kind!=="value"&&(g=o.expectedType);for(var b={},C=[],T=2;T<n.length-1;T+=2){var F=n[T],j=n[T+1];Array.isArray(F)||(F=[F]);var Q=o.concat(T);if(F.length===0)return Q.error("Expected at least one branch label.");for(var W=0,X=F;W<X.length;W+=1){var oe=X[W];if(typeof oe!="number"&&typeof oe!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof oe=="number"&&Math.abs(oe)>Number.MAX_SAFE_INTEGER)return Q.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof oe=="number"&&Math.floor(oe)!==oe)return Q.error("Numeric branch labels must be integer values.");if(u){if(Q.checkSubtype(u,so(oe)))return null}else u=so(oe);if(b[String(oe)]!==void 0)return Q.error("Branch labels must be unique.");b[String(oe)]=C.length}var pe=o.parse(j,T,g);if(!pe)return null;g=g||pe.type,C.push(pe)}var Ee=o.parse(n[1],1,Gt);if(!Ee)return null;var ke=o.parse(n[n.length-1],n.length-1,g);return ke?Ee.type.kind!=="value"&&o.concat(1).checkSubtype(u,Ee.type)?null:new ss(u,g,Ee,b,C,ke):null},ss.prototype.evaluate=function(n){var o=this.input.evaluate(n);return(so(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(n)},ss.prototype.eachChild=function(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)},ss.prototype.outputDefined=function(){return this.outputs.every(function(n){return n.outputDefined()})&&this.otherwise.outputDefined()},ss.prototype.serialize=function(){for(var n=this,o=["match",this.input.serialize()],u=[],g={},b=0,C=Object.keys(this.cases).sort();b<C.length;b+=1){var T=C[b];(X=g[this.cases[T]])===void 0?(g[this.cases[T]]=u.length,u.push([this.cases[T],[T]])):u[X][1].push(T)}for(var F=function(pe){return n.inputType.kind==="number"?Number(pe):pe},j=0,Q=u;j<Q.length;j+=1){var W=Q[j],X=W[0],oe=W[1];o.push(oe.length===1?F(oe[0]):oe.map(F)),o.push(this.outputs[outputIndex$1].serialize())}return o.push(this.otherwise.serialize()),o};var fu=function(n,o,u){this.type=n,this.branches=o,this.otherwise=u};fu.parse=function(n,o){if(n.length<4)return o.error("Expected at least 3 arguments, but found only "+(n.length-1)+".");if(n.length%2!=0)return o.error("Expected an odd number of arguments.");var u;o.expectedType&&o.expectedType.kind!=="value"&&(u=o.expectedType);for(var g=[],b=1;b<n.length-1;b+=2){var C=o.parse(n[b],b,xt);if(!C)return null;var T=o.parse(n[b+1],b+1,u);if(!T)return null;g.push([C,T]),u=u||T.type}var F=o.parse(n[n.length-1],n.length-1,u);return F?new fu(u,g,F):null},fu.prototype.evaluate=function(n){for(var o=0,u=this.branches;o<u.length;o+=1){var g=u[o],b=g[1];if(g[0].evaluate(n))return b.evaluate(n)}return this.otherwise.evaluate(n)},fu.prototype.eachChild=function(n){for(var o=0,u=this.branches;o<u.length;o+=1){var g=u[o],b=g[1];n(g[0]),n(b)}n(this.otherwise)},fu.prototype.outputDefined=function(){return this.branches.every(function(n){return n[1].outputDefined()})&&this.otherwise.outputDefined()},fu.prototype.serialize=function(){var n=["case"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Xo=function(n,o,u,g){this.type=n,this.input=o,this.beginIndex=u,this.endIndex=g};function pl(n,o){return n==="=="||n==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function Dn(n,o,u,g){return g.compare(o,u)===0}function ei(n,o,u){var g=n!=="=="&&n!=="!=";return function(){function b(C,T,F){this.type=xt,this.lhs=C,this.rhs=T,this.collator=F,this.hasUntypedArgument=C.type.kind==="value"||T.type.kind==="value"}return b.parse=function(C,T){if(C.length!==3&&C.length!==4)return T.error("Expected two or three arguments.");var F=C[0],j=T.parse(C[1],1,Gt);if(!j)return null;if(!pl(F,j.type))return T.concat(1).error('"'+F+`" comparisons are not supported for type '`+an(j.type)+"'.");var Q=T.parse(C[2],2,Gt);if(!Q)return null;if(!pl(F,Q.type))return T.concat(2).error('"'+F+`" comparisons are not supported for type '`+an(Q.type)+"'.");if(j.type.kind!==Q.type.kind&&j.type.kind!=="value"&&Q.type.kind!=="value")return T.error("Cannot compare types '"+an(j.type)+"' and '"+an(Q.type)+"'.");g&&(j.type.kind==="value"&&Q.type.kind!=="value"?j=new ko(Q.type,[j]):j.type.kind!=="value"&&Q.type.kind==="value"&&(Q=new ko(j.type,[Q])));var W=null;if(C.length===4){if(j.type.kind!=="string"&&Q.type.kind!=="string"&&j.type.kind!=="value"&&Q.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(!(W=T.parse(C[3],3,An)))return null}return new b(j,Q,W)},b.prototype.evaluate=function(C){var T=this.lhs.evaluate(C),F=this.rhs.evaluate(C);if(g&&this.hasUntypedArgument){var j=so(T),Q=so(F);if(j.kind!==Q.kind||j.kind!=="string"&&j.kind!=="number")throw new si('Expected arguments for "'+n+'" to be (string, string) or (number, number), but found ('+j.kind+", "+Q.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var W=so(T),X=so(F);if(W.kind!=="string"||X.kind!=="string")return o(C,T,F)}return this.collator?u(C,T,F,this.collator.evaluate(C)):o(C,T,F)},b.prototype.eachChild=function(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var C=[n];return this.eachChild(function(T){C.push(T.serialize())}),C},b}()}Xo.parse=function(n,o){if(n.length<=2||n.length>=5)return o.error("Expected 3 or 4 arguments, but found "+(n.length-1)+" instead.");var u=o.parse(n[1],1,Gt),g=o.parse(n[2],2,ct);if(!u||!g)return null;if(!xn(u.type,[dn(Gt),Ot,Gt]))return o.error("Expected first argument to be of type array or string, but found "+an(u.type)+" instead");if(n.length===4){var b=o.parse(n[3],3,ct);return b?new Xo(u.type,u,g,b):null}return new Xo(u.type,u,g)},Xo.prototype.evaluate=function(n){var o=this.input.evaluate(n),u=this.beginIndex.evaluate(n);if(!Xt(o,["string","array"]))throw new si("Expected first argument to be of type array or string, but found "+an(so(o))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(n);return o.slice(u,g)}return o.slice(u)},Xo.prototype.eachChild=function(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ua=ei("==",function(n,o,u){return o===u},Dn),Jl=ei("!=",function(n,o,u){return o!==u},function(n,o,u,g){return!Dn(0,o,u,g)}),Al=ei("<",function(n,o,u){return o<u},function(n,o,u,g){return g.compare(o,u)<0}),Hs=ei(">",function(n,o,u){return o>u},function(n,o,u,g){return g.compare(o,u)>0}),Mp=ei("<=",function(n,o,u){return o<=u},function(n,o,u,g){return g.compare(o,u)<=0}),ec=ei(">=",function(n,o,u){return o>=u},function(n,o,u,g){return g.compare(o,u)>=0}),pu=function(n,o,u,g,b){this.type=Ot,this.number=n,this.locale=o,this.currency=u,this.minFractionDigits=g,this.maxFractionDigits=b};pu.parse=function(n,o){if(n.length!==3)return o.error("Expected two arguments.");var u=o.parse(n[1],1,ct);if(!u)return null;var g=n[2];if(typeof g!="object"||Array.isArray(g))return o.error("NumberFormat options argument must be an object.");var b=null;if(g.locale&&!(b=o.parse(g.locale,1,Ot)))return null;var C=null;if(g.currency&&!(C=o.parse(g.currency,1,Ot)))return null;var T=null;if(g["min-fraction-digits"]&&!(T=o.parse(g["min-fraction-digits"],1,ct)))return null;var F=null;return g["max-fraction-digits"]&&!(F=o.parse(g["max-fraction-digits"],1,ct))?null:new pu(u,b,C,T,F)},pu.prototype.evaluate=function(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))},pu.prototype.eachChild=function(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)},pu.prototype.outputDefined=function(){return!1},pu.prototype.serialize=function(){var n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]};var qs=function(n){this.type=ct,this.input=n};qs.parse=function(n,o){if(n.length!==2)return o.error("Expected 1 argument, but found "+(n.length-1)+" instead.");var u=o.parse(n[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?o.error("Expected argument of type string or array, but found "+an(u.type)+" instead."):new qs(u):null},qs.prototype.evaluate=function(n){var o=this.input.evaluate(n);if(typeof o=="string"||Array.isArray(o))return o.length;throw new si("Expected value to be of type string or array, but found "+an(so(o))+" instead.")},qs.prototype.eachChild=function(n){n(this.input)},qs.prototype.outputDefined=function(){return!1},qs.prototype.serialize=function(){var n=["length"];return this.eachChild(function(o){n.push(o.serialize())}),n};var Gs={"==":Ua,"!=":Jl,">":Hs,"<":Al,">=":ec,"<=":Mp,array:ko,at:fo,boolean:ko,case:fu,coalesce:Vs,collator:Ni,format:Zo,image:os,in:Nu,"index-of":po,interpolate:Zi,"interpolate-hcl":Zi,"interpolate-lab":Zi,length:qs,let:Cs,literal:la,match:ss,number:ko,"number-format":pu,object:ko,slice:Xo,step:Fo,string:ko,"to-boolean":zi,"to-color":zi,"to-number":zi,"to-string":zi,var:cu,within:Ko};function Uu(n,o){var u=o[0],g=o[1],b=o[2],C=o[3];u=u.evaluate(n),g=g.evaluate(n),b=b.evaluate(n);var T=C?C.evaluate(n):1,F=Bc(u,g,b,T);if(F)throw new si(F);return new br(u/255*T,g/255*T,b/255*T,T)}function Rp(n,o){return n in o}function qc(n,o){var u=o[n];return u===void 0?null:u}function Au(n){return{type:n}}function tc(n){return{result:"success",value:n}}function _a(n){return{result:"error",value:n}}function ju(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function Gc(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function rc(n){return!!n.expression&&n.expression.interpolated}function Vn(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function Qc(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Mf(n){return n}function To(n,o,u){return n!==void 0?n:o!==void 0?o:u!==void 0?u:void 0}function Wc(n,o,u,g,b){return To(typeof u===b?g[u]:void 0,n.default,o.default)}function hl(n,o,u){if(Vn(u)!=="number")return To(n.default,o.default);var g=n.stops.length;if(g===1||u<=n.stops[0][0])return n.stops[0][1];if(u>=n.stops[g-1][0])return n.stops[g-1][1];var b=qr(n.stops.map(function(C){return C[0]}),u);return n.stops[b][1]}function hu(n,o,u){var g=n.base!==void 0?n.base:1;if(Vn(u)!=="number")return To(n.default,o.default);var b=n.stops.length;if(b===1||u<=n.stops[0][0])return n.stops[0][1];if(u>=n.stops[b-1][0])return n.stops[b-1][1];var C=qr(n.stops.map(function(X){return X[0]}),u),T=function(X,oe,pe,Ee){var ke=Ee-pe,Ve=X-pe;return ke===0?0:oe===1?Ve/ke:(Math.pow(oe,Ve)-1)/(Math.pow(oe,ke)-1)}(u,g,n.stops[C][0],n.stops[C+1][0]),F=n.stops[C][1],j=n.stops[C+1][1],Q=sl[o.type]||Mf;if(n.colorSpace&&n.colorSpace!=="rgb"){var W=Vc[n.colorSpace];Q=function(X,oe){return W.reverse(W.interpolate(W.forward(X),W.forward(oe),T))}}return typeof F.evaluate=="function"?{evaluate:function(){for(var X=[],oe=arguments.length;oe--;)X[oe]=arguments[oe];var pe=F.evaluate.apply(void 0,X),Ee=j.evaluate.apply(void 0,X);if(pe!==void 0&&Ee!==void 0)return Q(pe,Ee,T)}}:Q(F,j,T)}function Rf(n,o,u){return o.type==="color"?u=br.parse(u):o.type==="formatted"?u=ao.fromString(u.toString()):o.type==="resolvedImage"?u=Wo.fromString(u.toString()):Vn(u)===o.type||o.type==="enum"&&o.values[u]||(u=void 0),To(u,n.default,o.default)}wi.register(Gs,{error:[{kind:"error"},[Ot],function(n,o){throw new si(o[0].evaluate(n))}],typeof:[Ot,[Gt],function(n,o){return an(so(o[0].evaluate(n)))}],"to-rgba":[dn(ct,4),[pr],function(n,o){return o[0].evaluate(n).toArray()}],rgb:[pr,[ct,ct,ct],Uu],rgba:[pr,[ct,ct,ct,ct],Uu],has:{type:xt,overloads:[[[Ot],function(n,o){return Rp(o[0].evaluate(n),n.properties())}],[[Ot,lr],function(n,o){var u=o[1];return Rp(o[0].evaluate(n),u.evaluate(n))}]]},get:{type:Gt,overloads:[[[Ot],function(n,o){return qc(o[0].evaluate(n),n.properties())}],[[Ot,lr],function(n,o){var u=o[1];return qc(o[0].evaluate(n),u.evaluate(n))}]]},"feature-state":[Gt,[Ot],function(n,o){return qc(o[0].evaluate(n),n.featureState||{})}],properties:[lr,[],function(n){return n.properties()}],"geometry-type":[Ot,[],function(n){return n.geometryType()}],id:[Gt,[],function(n){return n.id()}],zoom:[ct,[],function(n){return n.globals.zoom}],"heatmap-density":[ct,[],function(n){return n.globals.heatmapDensity||0}],"line-progress":[ct,[],function(n){return n.globals.lineProgress||0}],accumulated:[Gt,[],function(n){return n.globals.accumulated===void 0?null:n.globals.accumulated}],"+":[ct,Au(ct),function(n,o){for(var u=0,g=0,b=o;g<b.length;g+=1)u+=b[g].evaluate(n);return u}],"*":[ct,Au(ct),function(n,o){for(var u=1,g=0,b=o;g<b.length;g+=1)u*=b[g].evaluate(n);return u}],"-":{type:ct,overloads:[[[ct,ct],function(n,o){var u=o[1];return o[0].evaluate(n)-u.evaluate(n)}],[[ct],function(n,o){return-o[0].evaluate(n)}]]},"/":[ct,[ct,ct],function(n,o){var u=o[1];return o[0].evaluate(n)/u.evaluate(n)}],"%":[ct,[ct,ct],function(n,o){var u=o[1];return o[0].evaluate(n)%u.evaluate(n)}],ln2:[ct,[],function(){return Math.LN2}],pi:[ct,[],function(){return Math.PI}],e:[ct,[],function(){return Math.E}],"^":[ct,[ct,ct],function(n,o){var u=o[1];return Math.pow(o[0].evaluate(n),u.evaluate(n))}],sqrt:[ct,[ct],function(n,o){return Math.sqrt(o[0].evaluate(n))}],log10:[ct,[ct],function(n,o){return Math.log(o[0].evaluate(n))/Math.LN10}],ln:[ct,[ct],function(n,o){return Math.log(o[0].evaluate(n))}],log2:[ct,[ct],function(n,o){return Math.log(o[0].evaluate(n))/Math.LN2}],sin:[ct,[ct],function(n,o){return Math.sin(o[0].evaluate(n))}],cos:[ct,[ct],function(n,o){return Math.cos(o[0].evaluate(n))}],tan:[ct,[ct],function(n,o){return Math.tan(o[0].evaluate(n))}],asin:[ct,[ct],function(n,o){return Math.asin(o[0].evaluate(n))}],acos:[ct,[ct],function(n,o){return Math.acos(o[0].evaluate(n))}],atan:[ct,[ct],function(n,o){return Math.atan(o[0].evaluate(n))}],min:[ct,Au(ct),function(n,o){return Math.min.apply(Math,o.map(function(u){return u.evaluate(n)}))}],max:[ct,Au(ct),function(n,o){return Math.max.apply(Math,o.map(function(u){return u.evaluate(n)}))}],abs:[ct,[ct],function(n,o){return Math.abs(o[0].evaluate(n))}],round:[ct,[ct],function(n,o){var u=o[0].evaluate(n);return u<0?-Math.round(-u):Math.round(u)}],floor:[ct,[ct],function(n,o){return Math.floor(o[0].evaluate(n))}],ceil:[ct,[ct],function(n,o){return Math.ceil(o[0].evaluate(n))}],"filter-==":[xt,[Ot,Gt],function(n,o){var u=o[0],g=o[1];return n.properties()[u.value]===g.value}],"filter-id-==":[xt,[Gt],function(n,o){var u=o[0];return n.id()===u.value}],"filter-type-==":[xt,[Ot],function(n,o){var u=o[0];return n.geometryType()===u.value}],"filter-<":[xt,[Ot,Gt],function(n,o){var u=o[0],g=o[1],b=n.properties()[u.value],C=g.value;return typeof b==typeof C&&b<C}],"filter-id-<":[xt,[Gt],function(n,o){var u=o[0],g=n.id(),b=u.value;return typeof g==typeof b&&g<b}],"filter->":[xt,[Ot,Gt],function(n,o){var u=o[0],g=o[1],b=n.properties()[u.value],C=g.value;return typeof b==typeof C&&b>C}],"filter-id->":[xt,[Gt],function(n,o){var u=o[0],g=n.id(),b=u.value;return typeof g==typeof b&&g>b}],"filter-<=":[xt,[Ot,Gt],function(n,o){var u=o[0],g=o[1],b=n.properties()[u.value],C=g.value;return typeof b==typeof C&&b<=C}],"filter-id-<=":[xt,[Gt],function(n,o){var u=o[0],g=n.id(),b=u.value;return typeof g==typeof b&&g<=b}],"filter->=":[xt,[Ot,Gt],function(n,o){var u=o[0],g=o[1],b=n.properties()[u.value],C=g.value;return typeof b==typeof C&&b>=C}],"filter-id->=":[xt,[Gt],function(n,o){var u=o[0],g=n.id(),b=u.value;return typeof g==typeof b&&g>=b}],"filter-has":[xt,[Gt],function(n,o){return o[0].value in n.properties()}],"filter-has-id":[xt,[],function(n){return n.id()!==null&&n.id()!==void 0}],"filter-type-in":[xt,[dn(Ot)],function(n,o){return o[0].value.indexOf(n.geometryType())>=0}],"filter-id-in":[xt,[dn(Gt)],function(n,o){return o[0].value.indexOf(n.id())>=0}],"filter-in-small":[xt,[Ot,dn(Gt)],function(n,o){var u=o[0];return o[1].value.indexOf(n.properties()[u.value])>=0}],"filter-in-large":[xt,[Ot,dn(Gt)],function(n,o){var u=o[0],g=o[1];return function(b,C,T,F){for(;T<=F;){var j=T+F>>1;if(C[j]===b)return!0;C[j]>b?F=j-1:T=j+1}return!1}(n.properties()[u.value],g.value,0,g.value.length-1)}],all:{type:xt,overloads:[[[xt,xt],function(n,o){var u=o[1];return o[0].evaluate(n)&&u.evaluate(n)}],[Au(xt),function(n,o){for(var u=0,g=o;u<g.length;u+=1)if(!g[u].evaluate(n))return!1;return!0}]]},any:{type:xt,overloads:[[[xt,xt],function(n,o){var u=o[1];return o[0].evaluate(n)||u.evaluate(n)}],[Au(xt),function(n,o){for(var u=0,g=o;u<g.length;u+=1)if(g[u].evaluate(n))return!0;return!1}]]},"!":[xt,[xt],function(n,o){return!o[0].evaluate(n)}],"is-supported-script":[xt,[Ot],function(n,o){var u=n.globals&&n.globals.isSupportedScript;return!u||u(o[0].evaluate(n))}],upcase:[Ot,[Ot],function(n,o){return o[0].evaluate(n).toUpperCase()}],downcase:[Ot,[Ot],function(n,o){return o[0].evaluate(n).toLowerCase()}],concat:[Ot,Au(Gt),function(n,o){return o.map(function(u){return is(u.evaluate(n))}).join("")}],"resolved-locale":[Ot,[An],function(n,o){return o[0].evaluate(n).resolvedLocale()}]});var Ao=function(n,o){this.expression=n,this._warningHistory={},this._evaluator=new as,this._defaultValue=o?function(u){return u.type==="color"&&Qc(u.default)?new br(0,0,0,0):u.type==="color"?br.parse(u.default)||null:u.default===void 0?null:u.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null};function Ui(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in Gs}function Zc(n,o){var u=new Nn(Gs,[],o?function(b){var C={color:pr,string:Ot,number:ct,enum:Ot,boolean:xt,formatted:Xr,resolvedImage:Ln};return b.type==="array"?dn(C[b.value]||Gt,b.length):C[b.type]}(o):void 0),g=u.parse(n,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?tc(new Ao(g,o)):_a(u.errors)}Ao.prototype.evaluateWithoutErrorHandling=function(n,o,u,g,b,C){return this._evaluator.globals=n,this._evaluator.feature=o,this._evaluator.featureState=u,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this.expression.evaluate(this._evaluator)},Ao.prototype.evaluate=function(n,o,u,g,b,C){this._evaluator.globals=n,this._evaluator.feature=o||null,this._evaluator.featureState=u||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null;try{var T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new si("Expected value to be one of "+Object.keys(this._enumValues).map(function(F){return JSON.stringify(F)}).join(", ")+", but found "+JSON.stringify(T)+" instead.");return T}catch(F){return this._warningHistory[F.message]||(this._warningHistory[F.message]=!0,typeof console<"u"&&console.warn(F.message)),this._defaultValue}};var nc=function(n,o){this.kind=n,this._styleExpression=o,this.isStateDependent=n!=="constant"&&!Ss(o.expression)};nc.prototype.evaluateWithoutErrorHandling=function(n,o,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,o,u,g,b,C)},nc.prototype.evaluate=function(n,o,u,g,b,C){return this._styleExpression.evaluate(n,o,u,g,b,C)};var dl=function(n,o,u,g){this.kind=n,this.zoomStops=u,this._styleExpression=o,this.isStateDependent=n!=="camera"&&!Ss(o.expression),this.interpolationType=g};function du(n,o){if((n=Zc(n,o)).result==="error")return n;var u=n.value.expression,g=lu(u);if(!g&&!ju(o))return _a([new ge("","data expressions not supported")]);var b=jc(u,["zoom"]);if(!b&&!Gc(o))return _a([new ge("","zoom expressions not supported")]);var C=function T(F){var j=null;if(F instanceof Cs)j=T(F.result);else if(F instanceof Vs)for(var Q=0,W=F.args;Q<W.length&&!(j=T(W[Q]));Q+=1);else(F instanceof Fo||F instanceof Zi)&&F.input instanceof wi&&F.input.name==="zoom"&&(j=F);return j instanceof ge||F.eachChild(function(X){var oe=T(X);oe instanceof ge?j=oe:!j&&oe?j=new ge("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):j&&oe&&j!==oe&&(j=new ge("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),j}(u);return C||b?C instanceof ge?_a([C]):C instanceof Zi&&!rc(o)?_a([new ge("",'"interpolate" expressions cannot be used with this property')]):tc(C?new dl(g?"camera":"composite",n.value,C.labels,C instanceof Zi?C.interpolation:void 0):new nc(g?"constant":"source",n.value)):_a([new ge("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}dl.prototype.evaluateWithoutErrorHandling=function(n,o,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,o,u,g,b,C)},dl.prototype.evaluate=function(n,o,u,g,b,C){return this._styleExpression.evaluate(n,o,u,g,b,C)},dl.prototype.interpolationFactor=function(n,o,u){return this.interpolationType?Zi.interpolationFactor(this.interpolationType,n,o,u):0};var ic=function(n,o){this._parameters=n,this._specification=o,at(this,function u(g,b){var C,T,F,j=b.type==="color",Q=g.stops&&typeof g.stops[0][0]=="object",W=Q||!(Q||g.property!==void 0),X=g.type||(rc(b)?"exponential":"interval");if(j&&((g=at({},g)).stops&&(g.stops=g.stops.map(function(er){return[er[0],br.parse(er[1])]})),g.default=br.parse(g.default?g.default:b.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!Vc[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(X==="exponential")C=hu;else if(X==="interval")C=hl;else if(X==="categorical"){C=Wc,T=Object.create(null);for(var oe=0,pe=g.stops;oe<pe.length;oe+=1){var Ee=pe[oe];T[Ee[0]]=Ee[1]}F=typeof g.stops[0][0]}else{if(X!=="identity")throw new Error('Unknown function type "'+X+'"');C=Rf}if(Q){for(var ke={},Ve=[],Le=0;Le<g.stops.length;Le++){var tt=g.stops[Le],it=tt[0].zoom;ke[it]===void 0&&(ke[it]={zoom:it,type:g.type,property:g.property,default:g.default,stops:[]},Ve.push(it)),ke[it].stops.push([tt[0].value,tt[1]])}for(var ft=[],pt=0,Tt=Ve;pt<Tt.length;pt+=1){var jt=Tt[pt];ft.push([ke[jt].zoom,u(ke[jt],b)])}var Kt={name:"linear"};return{kind:"composite",interpolationType:Kt,interpolationFactor:Zi.interpolationFactor.bind(void 0,Kt),zoomStops:ft.map(function(er){return er[0]}),evaluate:function(er,Cr){var rr=er.zoom;return hu({stops:ft,base:g.base},b,rr).evaluate(rr,Cr)}}}if(W){var gr=X==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:gr,interpolationFactor:Zi.interpolationFactor.bind(void 0,gr),zoomStops:g.stops.map(function(er){return er[0]}),evaluate:function(er){return C(g,b,er.zoom,T,F)}}}return{kind:"source",evaluate:function(er,Cr){var rr=Cr&&Cr.properties?Cr.properties[g.property]:void 0;return rr===void 0?To(g.default,b.default):C(g,b,rr,T,F)}}}(this._parameters,this._specification))};function Si(n){var o=n.key,u=n.value,g=n.valueSpec||{},b=n.objectElementValidators||{},C=n.style,T=n.styleSpec,F=[],j=Vn(u);if(j!=="object")return[new re(o,u,"object expected, "+j+" found")];for(var Q in u){var W=Q.split(".")[0],X=g[W]||g["*"],oe=void 0;if(b[W])oe=b[W];else if(g[W])oe=sn;else if(b["*"])oe=b["*"];else{if(!g["*"]){F.push(new re(o,u[Q],'unknown property "'+Q+'"'));continue}oe=sn}F=F.concat(oe({key:(o&&o+".")+Q,value:u[Q],valueSpec:X,style:C,styleSpec:T,object:u,objectKey:Q},u))}for(var pe in g)b[pe]||g[pe].required&&g[pe].default===void 0&&u[pe]===void 0&&F.push(new re(o,u,'missing required property "'+pe+'"'));return F}function ml(n){var o=n.value,u=n.valueSpec,g=n.style,b=n.styleSpec,C=n.key,T=n.arrayElementValidator||sn;if(Vn(o)!=="array")return[new re(C,o,"array expected, "+Vn(o)+" found")];if(u.length&&o.length!==u.length)return[new re(C,o,"array length "+u.length+" expected, length "+o.length+" found")];if(u["min-length"]&&o.length<u["min-length"])return[new re(C,o,"array length at least "+u["min-length"]+" expected, length "+o.length+" found")];var F={type:u.value,values:u.values};b.$version<7&&(F.function=u.function),Vn(u.value)==="object"&&(F=u.value);for(var j=[],Q=0;Q<o.length;Q++)j=j.concat(T({array:o,arrayIndex:Q,value:o[Q],valueSpec:F,style:g,styleSpec:b,key:C+"["+Q+"]"}));return j}function Es(n){var o=n.key,u=n.value,g=n.valueSpec,b=Vn(u);return b==="number"&&u!=u&&(b="NaN"),b!=="number"?[new re(o,u,"number expected, "+b+" found")]:"minimum"in g&&u<g.minimum?[new re(o,u,u+" is less than the minimum value "+g.minimum)]:"maximum"in g&&u>g.maximum?[new re(o,u,u+" is greater than the maximum value "+g.maximum)]:[]}function ks(n){var o,u,g,b=n.valueSpec,C=Qe(n.value.type),T={},F=C!=="categorical"&&n.value.property===void 0,j=!F,Q=Vn(n.value.stops)==="array"&&Vn(n.value.stops[0])==="array"&&Vn(n.value.stops[0][0])==="object",W=Si({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(pe){if(C==="identity")return[new re(pe.key,pe.value,'identity function may not have a "stops" property')];var Ee=[],ke=pe.value;return Ee=Ee.concat(ml({key:pe.key,value:ke,valueSpec:pe.valueSpec,style:pe.style,styleSpec:pe.styleSpec,arrayElementValidator:X})),Vn(ke)==="array"&&ke.length===0&&Ee.push(new re(pe.key,ke,"array must have at least one stop")),Ee},default:function(pe){return sn({key:pe.key,value:pe.value,valueSpec:b,style:pe.style,styleSpec:pe.styleSpec})}}});return C==="identity"&&F&&W.push(new re(n.key,n.value,'missing required property "property"')),C==="identity"||n.value.stops||W.push(new re(n.key,n.value,'missing required property "stops"')),C==="exponential"&&n.valueSpec.expression&&!rc(n.valueSpec)&&W.push(new re(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(j&&!ju(n.valueSpec)?W.push(new re(n.key,n.value,"property functions not supported")):F&&!Gc(n.valueSpec)&&W.push(new re(n.key,n.value,"zoom functions not supported"))),C!=="categorical"&&!Q||n.value.property!==void 0||W.push(new re(n.key,n.value,'"property" property is required')),W;function X(pe){var Ee=[],ke=pe.value,Ve=pe.key;if(Vn(ke)!=="array")return[new re(Ve,ke,"array expected, "+Vn(ke)+" found")];if(ke.length!==2)return[new re(Ve,ke,"array length 2 expected, length "+ke.length+" found")];if(Q){if(Vn(ke[0])!=="object")return[new re(Ve,ke,"object expected, "+Vn(ke[0])+" found")];if(ke[0].zoom===void 0)return[new re(Ve,ke,"object stop key must have zoom")];if(ke[0].value===void 0)return[new re(Ve,ke,"object stop key must have value")];if(g&&g>Qe(ke[0].zoom))return[new re(Ve,ke[0].zoom,"stop zoom values must appear in ascending order")];Qe(ke[0].zoom)!==g&&(g=Qe(ke[0].zoom),u=void 0,T={}),Ee=Ee.concat(Si({key:Ve+"[0]",value:ke[0],valueSpec:{zoom:{}},style:pe.style,styleSpec:pe.styleSpec,objectElementValidators:{zoom:Es,value:oe}}))}else Ee=Ee.concat(oe({key:Ve+"[0]",value:ke[0],valueSpec:{},style:pe.style,styleSpec:pe.styleSpec},ke));return Ui(h(ke[1]))?Ee.concat([new re(Ve+"[1]",ke[1],"expressions are not allowed in function stops.")]):Ee.concat(sn({key:Ve+"[1]",value:ke[1],valueSpec:b,style:pe.style,styleSpec:pe.styleSpec}))}function oe(pe,Ee){var ke=Vn(pe.value),Ve=Qe(pe.value),Le=pe.value!==null?pe.value:Ee;if(o){if(ke!==o)return[new re(pe.key,Le,ke+" stop domain type must match previous stop domain type "+o)]}else o=ke;if(ke!=="number"&&ke!=="string"&&ke!=="boolean")return[new re(pe.key,Le,"stop domain value must be a number, string, or boolean")];if(ke!=="number"&&C!=="categorical"){var tt="number expected, "+ke+" found";return ju(b)&&C===void 0&&(tt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new re(pe.key,Le,tt)]}return C!=="categorical"||ke!=="number"||isFinite(Ve)&&Math.floor(Ve)===Ve?C!=="categorical"&&ke==="number"&&u!==void 0&&Ve<u?[new re(pe.key,Le,"stop domain values must appear in ascending order")]:(u=Ve,C==="categorical"&&Ve in T?[new re(pe.key,Le,"stop domain values must be unique")]:(T[Ve]=!0,[])):[new re(pe.key,Le,"integer expected, found "+Ve)]}}function ja(n){var o=(n.expressionContext==="property"?du:Zc)(h(n.value),n.valueSpec);if(o.result==="error")return o.value.map(function(g){return new re(""+n.key+g.key,n.value,g.message)});var u=o.value.expression||o.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!u.outputDefined())return[new re(n.key,n.value,'Invalid data expression for "'+n.propertyKey+'". Output values must be contained as literals within the expression.')];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!Ss(u))return[new re(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!Ss(u))return[new re(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!jc(u,["zoom","feature-state"]))return[new re(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!lu(u))return[new re(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function oc(n){var o=n.key,u=n.value,g=n.valueSpec,b=[];return Array.isArray(g.values)?g.values.indexOf(Qe(u))===-1&&b.push(new re(o,u,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(u)+" found")):Object.keys(g.values).indexOf(Qe(u))===-1&&b.push(new re(o,u,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(u)+" found")),b}function Yo(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(var o=0,u=n.slice(1);o<u.length;o+=1){var g=u[o];if(!Yo(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ic.deserialize=function(n){return new ic(n._parameters,n._specification)},ic.serialize=function(n){return{_parameters:n._parameters,_specification:n._specification}};var Lp={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function us(n){if(n==null)return{filter:function(){return!0},needGeometry:!1};Yo(n)||(n=ls(n));var o=Zc(n,Lp);if(o.result==="error")throw new Error(o.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,g,b){return o.value.evaluate(u,g,{},b)},needGeometry:function u(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var b=1;b<g.length;b++)if(u(g[b]))return!0;return!1}(n)}}function fa(n,o){return n<o?-1:n>o?1:0}function ls(n){if(!n)return!0;var o,u=n[0];return n.length<=1?u!=="any":u==="=="?Qs(n[1],n[2],"=="):u==="!="?Kc(Qs(n[1],n[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Qs(n[1],n[2],u):u==="any"?(o=n.slice(1),["any"].concat(o.map(ls))):u==="all"?["all"].concat(n.slice(1).map(ls)):u==="none"?["all"].concat(n.slice(1).map(ls).map(Kc)):u==="in"?Dp(n[1],n.slice(2)):u==="!in"?Kc(Dp(n[1],n.slice(2))):u==="has"?Lf(n[1]):u==="!has"?Kc(Lf(n[1])):u!=="within"||n}function Qs(n,o,u){switch(n){case"$type":return["filter-type-"+u,o];case"$id":return["filter-id-"+u,o];default:return["filter-"+u,n,o]}}function Dp(n,o){if(o.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(function(u){return typeof u!=typeof o[0]})?["filter-in-large",n,["literal",o.sort(fa)]]:["filter-in-small",n,["literal",o]]}}function Lf(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Kc(n){return["!",n]}function gl(n){return Yo(h(n.value))?ja(at({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function o(u){var g=u.value,b=u.key;if(Vn(g)!=="array")return[new re(b,g,"array expected, "+Vn(g)+" found")];var C,T=u.styleSpec,F=[];if(g.length<1)return[new re(b,g,"filter array must have at least 1 element")];switch(F=F.concat(oc({key:b+"[0]",value:g[0],valueSpec:T.filter_operator,style:u.style,styleSpec:u.styleSpec})),Qe(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&Qe(g[1])==="$type"&&F.push(new re(b,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&F.push(new re(b,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(C=Vn(g[1]))!=="string"&&F.push(new re(b+"[1]",g[1],"string expected, "+C+" found"));for(var j=2;j<g.length;j++)C=Vn(g[j]),Qe(g[1])==="$type"?F=F.concat(oc({key:b+"["+j+"]",value:g[j],valueSpec:T.geometry_type,style:u.style,styleSpec:u.styleSpec})):C!=="string"&&C!=="number"&&C!=="boolean"&&F.push(new re(b+"["+j+"]",g[j],"string, number, or boolean expected, "+C+" found"));break;case"any":case"all":case"none":for(var Q=1;Q<g.length;Q++)F=F.concat(o({key:b+"["+Q+"]",value:g[Q],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":C=Vn(g[1]),g.length!==2?F.push(new re(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="string"&&F.push(new re(b+"[1]",g[1],"string expected, "+C+" found"));break;case"within":C=Vn(g[1]),g.length!==2?F.push(new re(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="object"&&F.push(new re(b+"[1]",g[1],"object expected, "+C+" found"))}return F}(n)}function Ws(n,o){var u=n.key,g=n.style,b=n.styleSpec,C=n.value,T=n.objectKey,F=b[o+"_"+n.layerType];if(!F)return[];var j=T.match(/^(.*)-transition$/);if(o==="paint"&&j&&F[j[1]]&&F[j[1]].transition)return sn({key:u,value:C,valueSpec:b.transition,style:g,styleSpec:b});var Q,W=n.valueSpec||F[T];if(!W)return[new re(u,C,'unknown property "'+T+'"')];if(Vn(C)==="string"&&ju(W)&&!W.tokens&&(Q=/^{([^}]+)}$/.exec(C)))return[new re(u,C,'"'+T+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Q[1])+" }`.")];var X=[];return n.layerType==="symbol"&&(T==="text-field"&&g&&!g.glyphs&&X.push(new re(u,C,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Qc(h(C))&&Qe(C.type)==="identity"&&X.push(new re(u,C,'"text-font" does not support identity functions'))),X.concat(sn({key:n.key,value:C,valueSpec:W,style:g,styleSpec:b,expressionContext:"property",propertyType:o,propertyKey:T}))}function nt(n){return Ws(n,"paint")}function It(n){return Ws(n,"layout")}function vt(n){var o=[],u=n.value,g=n.key,b=n.style,C=n.styleSpec;u.type||u.ref||o.push(new re(g,u,'either "type" or "ref" is required'));var T,F=Qe(u.type),j=Qe(u.ref);if(u.id)for(var Q=Qe(u.id),W=0;W<n.arrayIndex;W++){var X=b.layers[W];Qe(X.id)===Q&&o.push(new re(g,u.id,'duplicate layer id "'+u.id+'", previously used at line '+X.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(Ee){Ee in u&&o.push(new re(g,u[Ee],'"'+Ee+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ee){Qe(Ee.id)===j&&(T=Ee)}),T?T.ref?o.push(new re(g,u.ref,"ref cannot reference another ref layer")):F=Qe(T.type):o.push(new re(g,u.ref,'ref layer "'+j+'" not found'));else if(F!=="background")if(u.source){var oe=b.sources&&b.sources[u.source],pe=oe&&Qe(oe.type);oe?pe==="vector"&&F==="raster"?o.push(new re(g,u.source,'layer "'+u.id+'" requires a raster source')):pe==="raster"&&F!=="raster"?o.push(new re(g,u.source,'layer "'+u.id+'" requires a vector source')):pe!=="vector"||u["source-layer"]?pe==="raster-dem"&&F!=="hillshade"?o.push(new re(g,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):F!=="line"||!u.paint||!u.paint["line-gradient"]||pe==="geojson"&&oe.lineMetrics||o.push(new re(g,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):o.push(new re(g,u,'layer "'+u.id+'" must specify a "source-layer"')):o.push(new re(g,u.source,'source "'+u.source+'" not found'))}else o.push(new re(g,u,'missing required property "source"'));return o=o.concat(Si({key:g,value:u,valueSpec:C.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return sn({key:g+".type",value:u.type,valueSpec:C.layer.type,style:n.style,styleSpec:n.styleSpec,object:u,objectKey:"type"})},filter:gl,layout:function(Ee){return Si({layer:u,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return It(at({layerType:F},ke))}}})},paint:function(Ee){return Si({layer:u,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return nt(at({layerType:F},ke))}}})}}}))}function Ht(n){var o=n.value,u=n.key,g=Vn(o);return g!=="string"?[new re(u,o,"string expected, "+g+" found")]:[]}var Yr={promoteId:function(n){var o=n.key,u=n.value;if(Vn(u)==="string")return Ht({key:o,value:u});var g=[];for(var b in u)g.push.apply(g,Ht({key:o+"."+b,value:u[b]}));return g}};function bn(n){var o=n.value,u=n.key,g=n.styleSpec,b=n.style;if(!o.type)return[new re(u,o,'"type" is required')];var C,T=Qe(o.type);switch(T){case"vector":case"raster":case"raster-dem":return Si({key:u,value:o,valueSpec:g["source_"+T.replace("-","_")],style:n.style,styleSpec:g,objectElementValidators:Yr});case"geojson":if(C=Si({key:u,value:o,valueSpec:g.source_geojson,style:b,styleSpec:g,objectElementValidators:Yr}),o.cluster)for(var F in o.clusterProperties){var j=o.clusterProperties[F],Q=j[0],W=typeof Q=="string"?[Q,["accumulated"],["get",F]]:Q;C.push.apply(C,ja({key:u+"."+F+".map",value:j[1],expressionContext:"cluster-map"})),C.push.apply(C,ja({key:u+"."+F+".reduce",value:W,expressionContext:"cluster-reduce"}))}return C;case"video":return Si({key:u,value:o,valueSpec:g.source_video,style:b,styleSpec:g});case"image":return Si({key:u,value:o,valueSpec:g.source_image,style:b,styleSpec:g});case"canvas":return[new re(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oc({key:u+".type",value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:g})}}function ti(n){var o=n.value,u=n.styleSpec,g=u.light,b=n.style,C=[],T=Vn(o);if(o===void 0)return C;if(T!=="object")return C.concat([new re("light",o,"object expected, "+T+" found")]);for(var F in o){var j=F.match(/^(.*)-transition$/);C=C.concat(j&&g[j[1]]&&g[j[1]].transition?sn({key:F,value:o[F],valueSpec:u.transition,style:b,styleSpec:u}):g[F]?sn({key:F,value:o[F],valueSpec:g[F],style:b,styleSpec:u}):[new re(F,o[F],'unknown property "'+F+'"')])}return C}var Mr={"*":function(){return[]},array:ml,boolean:function(n){var o=n.value,u=n.key,g=Vn(o);return g!=="boolean"?[new re(u,o,"boolean expected, "+g+" found")]:[]},number:Es,color:function(n){var o=n.key,u=n.value,g=Vn(u);return g!=="string"?[new re(o,u,"color expected, "+g+" found")]:Ge(u)===null?[new re(o,u,'color expected, "'+u+'" found')]:[]},constants:$e,enum:oc,filter:gl,function:ks,layer:vt,object:Si,source:bn,light:ti,string:Ht,formatted:function(n){return Ht(n).length===0?[]:ja(n)},resolvedImage:function(n){return Ht(n).length===0?[]:ja(n)}};function sn(n){var o=n.value,u=n.valueSpec,g=n.styleSpec;return u.expression&&Qc(Qe(o))?ks(n):u.expression&&Ui(h(o))?ja(n):u.type&&Mr[u.type]?Mr[u.type](n):Si(at({},n,{valueSpec:u.type?g[u.type]:u}))}function $u(n){var o=n.value,u=n.key,g=Ht(n);return g.length||(o.indexOf("{fontstack}")===-1&&g.push(new re(u,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&g.push(new re(u,o,'"glyphs" url must include a "{range}" token'))),g}function ji(n,o){o===void 0&&(o=xe);var u=[];return u=u.concat(sn({key:"",value:n,valueSpec:o.$root,styleSpec:o,style:n,objectElementValidators:{glyphs:$u,"*":function(){return[]}}})),n.constants&&(u=u.concat($e({key:"constants",value:n.constants,style:n,styleSpec:o}))),yl(u)}function yl(n){return[].concat(n).sort(function(o,u){return o.line-u.line})}function xa(n){return function(){for(var o=[],u=arguments.length;u--;)o[u]=arguments[u];return yl(n.apply(this,o))}}ji.source=xa(bn),ji.light=xa(ti),ji.layer=xa(vt),ji.filter=xa(gl),ji.paintProperty=xa(nt),ji.layoutProperty=xa(It);var cs=ji,Xc=cs.light,mu=cs.paintProperty,Un=cs.layoutProperty;function ac(n,o){var u=!1;if(o&&o.length)for(var g=0,b=o;g<b.length;g+=1)n.fire(new He(new Error(b[g].message))),u=!0;return u}var Po=ho;function ho(n,o,u){var g=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;var b=new Int32Array(this.arrayBuffer);n=b[0],this.d=(o=b[1])+2*(u=b[2]);for(var C=0;C<this.d*this.d;C++){var T=b[3+C],F=b[3+C+1];g.push(T===F?null:b.subarray(T,F))}var j=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],j),this.bboxes=b.subarray(j),this.insert=this._insertReadonly}else{this.d=o+2*u;for(var Q=0;Q<this.d*this.d;Q++)g.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=n,this.padding=u,this.scale=o/n,this.uid=0;var W=u/o*n;this.min=-W,this.max=n+W}ho.prototype.insert=function(n,o,u,g,b){this._forEachCell(o,u,g,b,this._insertCell,this.uid++),this.keys.push(n),this.bboxes.push(o),this.bboxes.push(u),this.bboxes.push(g),this.bboxes.push(b)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(n,o,u,g,b,C){this.cells[b].push(C)},ho.prototype.query=function(n,o,u,g,b){var C=this.min,T=this.max;if(n<=C&&o<=C&&T<=u&&T<=g&&!b)return Array.prototype.slice.call(this.keys);var F=[];return this._forEachCell(n,o,u,g,this._queryCell,F,{},b),F},ho.prototype._queryCell=function(n,o,u,g,b,C,T,F){var j=this.cells[b];if(j!==null)for(var Q=this.keys,W=this.bboxes,X=0;X<j.length;X++){var oe=j[X];if(T[oe]===void 0){var pe=4*oe;(F?F(W[pe+0],W[pe+1],W[pe+2],W[pe+3]):n<=W[pe+2]&&o<=W[pe+3]&&u>=W[pe+0]&&g>=W[pe+1])?(T[oe]=!0,C.push(Q[oe])):T[oe]=!1}}},ho.prototype._forEachCell=function(n,o,u,g,b,C,T,F){for(var j=this._convertToCellCoord(n),Q=this._convertToCellCoord(o),W=this._convertToCellCoord(u),X=this._convertToCellCoord(g),oe=j;oe<=W;oe++)for(var pe=Q;pe<=X;pe++){var Ee=this.d*pe+oe;if((!F||F(this._convertFromCellCoord(oe),this._convertFromCellCoord(pe),this._convertFromCellCoord(oe+1),this._convertFromCellCoord(pe+1)))&&b.call(this,n,o,u,g,Ee,C,T,F))return}},ho.prototype._convertFromCellCoord=function(n){return(n-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var n=this.cells,o=3+this.cells.length+1+1,u=0,g=0;g<this.cells.length;g++)u+=this.cells[g].length;var b=new Int32Array(o+u+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var C=o,T=0;T<n.length;T++){var F=n[T];b[3+T]=C,b.set(F,C),C+=F.length}return b[3+n.length]=C,b.set(this.keys,C),b[3+n.length+1]=C+=this.keys.length,b.set(this.bboxes,C),C+=this.bboxes.length,b.buffer};var Df=N.ImageData,Ki=N.ImageBitmap,ba={};function nr(n,o,u){u===void 0&&(u={}),Object.defineProperty(o,"_classRegistryKey",{value:n,writeable:!1}),ba[n]={klass:o,omit:u.omit||[],shallow:u.shallow||[]}}for(var $a in nr("Object",Object),Po.serialize=function(n,o){var u=n.toArrayBuffer();return o&&o.push(u),{buffer:u}},Po.deserialize=function(n){return new Po(n.buffer)},nr("Grid",Po),nr("Color",br),nr("Error",Error),nr("ResolvedImage",Wo),nr("StylePropertyFunction",ic),nr("StyleExpression",Ao,{omit:["_evaluator"]}),nr("ZoomDependentExpression",dl),nr("ZoomConstantExpression",nc),nr("CompoundExpression",wi,{omit:["_evaluate"]}),Gs)Gs[$a]._classRegistryKey||nr("Expression_"+$a,Gs[$a]);function Zs(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function Ks(n){return Ki&&n instanceof Ki}function Bo(n,o){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if(Zs(n)||Ks(n))return o&&o.push(n),n;if(ArrayBuffer.isView(n)){var u=n;return o&&o.push(u.buffer),u}if(n instanceof Df)return o&&o.push(n.data.buffer),n;if(Array.isArray(n)){for(var g=[],b=0,C=n;b<C.length;b+=1)g.push(Bo(C[b],o));return g}if(typeof n=="object"){var T=n.constructor,F=T._classRegistryKey;if(!F)throw new Error("can't serialize object of unregistered class");var j=T.serialize?T.serialize(n,o):{};if(!T.serialize){for(var Q in n)if(n.hasOwnProperty(Q)&&!(ba[F].omit.indexOf(Q)>=0)){var W=n[Q];j[Q]=ba[F].shallow.indexOf(Q)>=0?W:Bo(W,o)}n instanceof Error&&(j.message=n.message)}if(j.$name)throw new Error("$name property is reserved for worker serialization logic.");return F!=="Object"&&(j.$name=F),j}throw new Error("can't serialize object of type "+typeof n)}function vl(n){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||Zs(n)||Ks(n)||ArrayBuffer.isView(n)||n instanceof Df)return n;if(Array.isArray(n))return n.map(vl);if(typeof n=="object"){var o=n.$name||"Object",u=ba[o].klass;if(!u)throw new Error("can't deserialize unregistered class "+o);if(u.deserialize)return u.deserialize(n);for(var g=Object.create(u.prototype),b=0,C=Object.keys(n);b<C.length;b+=1){var T=C[b];if(T!=="$name"){var F=n[T];g[T]=ba[o].shallow.indexOf(T)>=0?F:vl(F)}}return g}throw new Error("can't deserialize object of type "+typeof n)}var Jo=function(){this.first=!0};Jo.prototype.update=function(n,o){var u=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=o):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=o),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=u,!0))};var sr={"Latin-1 Supplement":function(n){return n>=128&&n<=255},Arabic:function(n){return n>=1536&&n<=1791},"Arabic Supplement":function(n){return n>=1872&&n<=1919},"Arabic Extended-A":function(n){return n>=2208&&n<=2303},"Hangul Jamo":function(n){return n>=4352&&n<=4607},"Unified Canadian Aboriginal Syllabics":function(n){return n>=5120&&n<=5759},Khmer:function(n){return n>=6016&&n<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(n){return n>=6320&&n<=6399},"General Punctuation":function(n){return n>=8192&&n<=8303},"Letterlike Symbols":function(n){return n>=8448&&n<=8527},"Number Forms":function(n){return n>=8528&&n<=8591},"Miscellaneous Technical":function(n){return n>=8960&&n<=9215},"Control Pictures":function(n){return n>=9216&&n<=9279},"Optical Character Recognition":function(n){return n>=9280&&n<=9311},"Enclosed Alphanumerics":function(n){return n>=9312&&n<=9471},"Geometric Shapes":function(n){return n>=9632&&n<=9727},"Miscellaneous Symbols":function(n){return n>=9728&&n<=9983},"Miscellaneous Symbols and Arrows":function(n){return n>=11008&&n<=11263},"CJK Radicals Supplement":function(n){return n>=11904&&n<=12031},"Kangxi Radicals":function(n){return n>=12032&&n<=12255},"Ideographic Description Characters":function(n){return n>=12272&&n<=12287},"CJK Symbols and Punctuation":function(n){return n>=12288&&n<=12351},Hiragana:function(n){return n>=12352&&n<=12447},Katakana:function(n){return n>=12448&&n<=12543},Bopomofo:function(n){return n>=12544&&n<=12591},"Hangul Compatibility Jamo":function(n){return n>=12592&&n<=12687},Kanbun:function(n){return n>=12688&&n<=12703},"Bopomofo Extended":function(n){return n>=12704&&n<=12735},"CJK Strokes":function(n){return n>=12736&&n<=12783},"Katakana Phonetic Extensions":function(n){return n>=12784&&n<=12799},"Enclosed CJK Letters and Months":function(n){return n>=12800&&n<=13055},"CJK Compatibility":function(n){return n>=13056&&n<=13311},"CJK Unified Ideographs Extension A":function(n){return n>=13312&&n<=19903},"Yijing Hexagram Symbols":function(n){return n>=19904&&n<=19967},"CJK Unified Ideographs":function(n){return n>=19968&&n<=40959},"Yi Syllables":function(n){return n>=40960&&n<=42127},"Yi Radicals":function(n){return n>=42128&&n<=42191},"Hangul Jamo Extended-A":function(n){return n>=43360&&n<=43391},"Hangul Syllables":function(n){return n>=44032&&n<=55215},"Hangul Jamo Extended-B":function(n){return n>=55216&&n<=55295},"Private Use Area":function(n){return n>=57344&&n<=63743},"CJK Compatibility Ideographs":function(n){return n>=63744&&n<=64255},"Arabic Presentation Forms-A":function(n){return n>=64336&&n<=65023},"Vertical Forms":function(n){return n>=65040&&n<=65055},"CJK Compatibility Forms":function(n){return n>=65072&&n<=65103},"Small Form Variants":function(n){return n>=65104&&n<=65135},"Arabic Presentation Forms-B":function(n){return n>=65136&&n<=65279},"Halfwidth and Fullwidth Forms":function(n){return n>=65280&&n<=65519}};function sc(n){for(var o=0,u=n;o<u.length;o+=1)if(Xs(u[o].charCodeAt(0)))return!0;return!1}function Xs(n){return!(n!==746&&n!==747&&(n<4352||!(sr["Bopomofo Extended"](n)||sr.Bopomofo(n)||sr["CJK Compatibility Forms"](n)&&!(n>=65097&&n<=65103)||sr["CJK Compatibility Ideographs"](n)||sr["CJK Compatibility"](n)||sr["CJK Radicals Supplement"](n)||sr["CJK Strokes"](n)||!(!sr["CJK Symbols and Punctuation"](n)||n>=12296&&n<=12305||n>=12308&&n<=12319||n===12336)||sr["CJK Unified Ideographs Extension A"](n)||sr["CJK Unified Ideographs"](n)||sr["Enclosed CJK Letters and Months"](n)||sr["Hangul Compatibility Jamo"](n)||sr["Hangul Jamo Extended-A"](n)||sr["Hangul Jamo Extended-B"](n)||sr["Hangul Jamo"](n)||sr["Hangul Syllables"](n)||sr.Hiragana(n)||sr["Ideographic Description Characters"](n)||sr.Kanbun(n)||sr["Kangxi Radicals"](n)||sr["Katakana Phonetic Extensions"](n)||sr.Katakana(n)&&n!==12540||!(!sr["Halfwidth and Fullwidth Forms"](n)||n===65288||n===65289||n===65293||n>=65306&&n<=65310||n===65339||n===65341||n===65343||n>=65371&&n<=65503||n===65507||n>=65512&&n<=65519)||!(!sr["Small Form Variants"](n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||sr["Unified Canadian Aboriginal Syllabics"](n)||sr["Unified Canadian Aboriginal Syllabics Extended"](n)||sr["Vertical Forms"](n)||sr["Yijing Hexagram Symbols"](n)||sr["Yi Syllables"](n)||sr["Yi Radicals"](n))))}function mo(n){return!(Xs(n)||function(o){return!!(sr["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||sr["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||sr["Letterlike Symbols"](o)||sr["Number Forms"](o)||sr["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||sr["Control Pictures"](o)&&o!==9251||sr["Optical Character Recognition"](o)||sr["Enclosed Alphanumerics"](o)||sr["Geometric Shapes"](o)||sr["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||sr["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||sr["CJK Symbols and Punctuation"](o)||sr.Katakana(o)||sr["Private Use Area"](o)||sr["CJK Compatibility Forms"](o)||sr["Small Form Variants"](o)||sr["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(n))}function wn(n){return n>=1424&&n<=2303||sr["Arabic Presentation Forms-A"](n)||sr["Arabic Presentation Forms-B"](n)}function Yc(n,o){return!(!o&&wn(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||sr.Khmer(n))}function Fp(n){for(var o=0,u=n;o<u.length;o+=1)if(wn(u[o].charCodeAt(0)))return!0;return!1}var Ff=null,go="unavailable",Va=null,Vu=function(n){n&&typeof n=="string"&&n.indexOf("NetworkError")>-1&&(go="error"),Ff&&Ff(n)};function Jc(){ef.fire(new Ne("pluginStateChange",{pluginStatus:go,pluginURL:Va}))}var ef=new ze,fs=function(){return go},Bp=function(){if(go!=="deferred"||!Va)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");go="loading",Jc(),Va&&zn({url:Va},function(n){n?Vu(n):(go="loaded",Jc())})},tn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return go==="loaded"||tn.applyArabicShaping!=null},isLoading:function(){return go==="loading"},setState:function(n){go=n.pluginStatus,Va=n.pluginURL},isParsed:function(){return tn.applyArabicShaping!=null&&tn.processBidirectionalText!=null&&tn.processStyledBidirectionalText!=null},getPluginURL:function(){return Va}},Gr=function(n,o){this.zoom=n,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Jo,this.transition={})};Gr.prototype.isSupportedScript=function(n){return function(o,u){for(var g=0,b=o;g<b.length;g+=1)if(!Yc(b[g].charCodeAt(0),u))return!1;return!0}(n,tn.isLoaded())},Gr.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Gr.prototype.getCrossfadeParameters=function(){var n=this.zoom,o=n-Math.floor(n),u=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:o+(1-o)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*o}};var pa=function(n,o){this.property=n,this.value=o,this.expression=function(u,g){if(Qc(u))return new ic(u,g);if(Ui(u)){var b=du(u,g);if(b.result==="error")throw new Error(b.value.map(function(T){return T.key+": "+T.message}).join(", "));return b.value}var C=u;return typeof u=="string"&&g.type==="color"&&(C=br.parse(u)),{kind:"constant",evaluate:function(){return C}}}(o===void 0?n.specification.default:o,n.specification)};pa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},pa.prototype.possiblyEvaluate=function(n,o,u){return this.property.possiblyEvaluate(this,n,o,u)};var Pi=function(n){this.property=n,this.value=new pa(n,void 0)};Pi.prototype.transitioned=function(n,o){return new zo(this.property,this.value,o,K({},n.transition,this.transition),n.now)},Pi.prototype.untransitioned=function(){return new zo(this.property,this.value,null,{},0)};var Fr=function(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)};Fr.prototype.getValue=function(n){return rt(this._values[n].value.value)},Fr.prototype.setValue=function(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new Pi(this._values[n].property)),this._values[n].value=new pa(this._values[n].property,o===null?void 0:rt(o))},Fr.prototype.getTransition=function(n){return rt(this._values[n].transition)},Fr.prototype.setTransition=function(n,o){this._values.hasOwnProperty(n)||(this._values[n]=new Pi(this._values[n].property)),this._values[n].transition=rt(o)||void 0},Fr.prototype.serialize=function(){for(var n={},o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o],b=this.getValue(g);b!==void 0&&(n[g]=b);var C=this.getTransition(g);C!==void 0&&(n[g+"-transition"]=C)}return n},Fr.prototype.transitioned=function(n,o){for(var u=new Ha(this._properties),g=0,b=Object.keys(this._values);g<b.length;g+=1){var C=b[g];u._values[C]=this._values[C].transitioned(n,o._values[C])}return u},Fr.prototype.untransitioned=function(){for(var n=new Ha(this._properties),o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o];n._values[g]=this._values[g].untransitioned()}return n};var zo=function(n,o,u,g,b){this.property=n,this.value=o,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,n.specification.transition&&(g.delay||g.duration)&&(this.prior=u)};zo.prototype.possiblyEvaluate=function(n,o,u){var g=n.now||0,b=this.value.possiblyEvaluate(n,o,u),C=this.prior;if(C){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return C.possiblyEvaluate(n,o,u);var T=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(n,o,u),b,function(F){if(F<=0)return 0;if(F>=1)return 1;var j=F*F,Q=j*F;return 4*(F<.5?Q:3*(F-j)+Q-.75)}(T))}return b};var Ha=function(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)};Ha.prototype.possiblyEvaluate=function(n,o,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(n,o,u)}return g},Ha.prototype.hasTransition=function(){for(var n=0,o=Object.keys(this._values);n<o.length;n+=1)if(this._values[o[n]].prior)return!0;return!1};var ea=function(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)};ea.prototype.getValue=function(n){return rt(this._values[n].value)},ea.prototype.setValue=function(n,o){this._values[n]=new pa(this._values[n].property,o===null?void 0:rt(o))},ea.prototype.serialize=function(){for(var n={},o=0,u=Object.keys(this._values);o<u.length;o+=1){var g=u[o],b=this.getValue(g);b!==void 0&&(n[g]=b)}return n},ea.prototype.possiblyEvaluate=function(n,o,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(n,o,u)}return g};var ta=function(n,o,u){this.property=n,this.value=o,this.parameters=u};ta.prototype.isConstant=function(){return this.value.kind==="constant"},ta.prototype.constantOr=function(n){return this.value.kind==="constant"?this.value.value:n},ta.prototype.evaluate=function(n,o,u,g){return this.property.evaluate(this.value,this.parameters,n,o,u,g)};var qa=function(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)};qa.prototype.get=function(n){return this._values[n]};var Qt=function(n){this.specification=n};Qt.prototype.possiblyEvaluate=function(n,o){return n.expression.evaluate(o)},Qt.prototype.interpolate=function(n,o,u){var g=sl[this.specification.type];return g?g(n,o,u):n};var dt=function(n,o){this.specification=n,this.overrides=o};dt.prototype.possiblyEvaluate=function(n,o,u,g){return new ta(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(o,null,{},u,g)}:n.expression,o)},dt.prototype.interpolate=function(n,o,u){if(n.value.kind!=="constant"||o.value.kind!=="constant")return n;if(n.value.value===void 0||o.value.value===void 0)return new ta(this,{kind:"constant",value:void 0},n.parameters);var g=sl[this.specification.type];return g?new ta(this,{kind:"constant",value:g(n.value.value,o.value.value,u)},n.parameters):n},dt.prototype.evaluate=function(n,o,u,g,b,C){return n.kind==="constant"?n.value:n.evaluate(o,u,g,b,C)};var Yt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(u,g,b,C){if(u.value===void 0)return new ta(this,{kind:"constant",value:void 0},g);if(u.expression.kind==="constant"){var T=u.expression.evaluate(g,null,{},b,C),F=u.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,j=this._calculate(F,F,F,g);return new ta(this,{kind:"constant",value:j},g)}if(u.expression.kind==="camera"){var Q=this._calculate(u.expression.evaluate({zoom:g.zoom-1}),u.expression.evaluate({zoom:g.zoom}),u.expression.evaluate({zoom:g.zoom+1}),g);return new ta(this,{kind:"constant",value:Q},g)}return new ta(this,u.expression,g)},o.prototype.evaluate=function(u,g,b,C,T,F){if(u.kind==="source"){var j=u.evaluate(g,b,C,T,F);return this._calculate(j,j,j,g)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(g.zoom)-1},b,C),u.evaluate({zoom:Math.floor(g.zoom)},b,C),u.evaluate({zoom:Math.floor(g.zoom)+1},b,C),g):u.value},o.prototype._calculate=function(u,g,b,C){return C.zoom>C.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:b,to:g}},o.prototype.interpolate=function(u){return u},o}(dt),Io=function(n){this.specification=n};Io.prototype.possiblyEvaluate=function(n,o,u,g){if(n.value!==void 0){if(n.expression.kind==="constant"){var b=n.expression.evaluate(o,null,{},u,g);return this._calculate(b,b,b,o)}return this._calculate(n.expression.evaluate(new Gr(Math.floor(o.zoom-1),o)),n.expression.evaluate(new Gr(Math.floor(o.zoom),o)),n.expression.evaluate(new Gr(Math.floor(o.zoom+1),o)),o)}},Io.prototype._calculate=function(n,o,u,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:n,to:o}:{from:u,to:o}},Io.prototype.interpolate=function(n){return n};var Ga=function(n){this.specification=n};Ga.prototype.possiblyEvaluate=function(n,o,u,g){return!!n.expression.evaluate(o,null,{},u,g)},Ga.prototype.interpolate=function(){return!1};var No=function(n){for(var o in this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],n){var u=n[o];u.specification.overridable&&this.overridableProperties.push(o);var g=this.defaultPropertyValues[o]=new pa(u,void 0),b=this.defaultTransitionablePropertyValues[o]=new Pi(u);this.defaultTransitioningPropertyValues[o]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=g.possiblyEvaluate({})}};nr("DataDrivenProperty",dt),nr("DataConstantProperty",Qt),nr("CrossFadedDataDrivenProperty",Yt),nr("CrossFadedProperty",Io),nr("ColorRampProperty",Ga);var $i=function(n){function o(u,g){if(n.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},u.type!=="custom"&&(this.metadata=(u=u).metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),g.layout&&(this._unevaluatedLayout=new ea(g.layout)),g.paint)){for(var b in this._transitionablePaint=new Fr(g.paint),u.paint)this.setPaintProperty(b,u.paint[b],{validate:!1});for(var C in u.layout)this.setLayoutProperty(C,u.layout[C],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qa(g.paint)}}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},o.prototype.getLayoutProperty=function(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)},o.prototype.setLayoutProperty=function(u,g,b){b===void 0&&(b={}),g!=null&&this._validate(Un,"layers."+this.id+".layout."+u,u,g,b)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,g):this.visibility=g)},o.prototype.getPaintProperty=function(u){return Ce(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},o.prototype.setPaintProperty=function(u,g,b){if(b===void 0&&(b={}),g!=null&&this._validate(mu,"layers."+this.id+".paint."+u,u,g,b))return!1;if(Ce(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),g||void 0),!1;var C=this._transitionablePaint._values[u],T=C.property.specification["property-type"]==="cross-faded-data-driven",F=C.value.isDataDriven(),j=C.value;this._transitionablePaint.setValue(u,g),this._handleSpecialPaintPropertyUpdate(u);var Q=this._transitionablePaint._values[u].value;return Q.isDataDriven()||F||T||this._handleOverridablePaintPropertyUpdate(u,j,Q)},o.prototype._handleSpecialPaintPropertyUpdate=function(u){},o.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!1},o.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"},o.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},o.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},o.prototype.recalculate=function(u,g){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,g)},o.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),lt(u,function(g,b){return!(g===void 0||b==="layout"&&!Object.keys(g).length||b==="paint"&&!Object.keys(g).length)})},o.prototype._validate=function(u,g,b,C,T){return T===void 0&&(T={}),(!T||T.validate!==!1)&&ac(this,u.call(cs,{key:g,layerType:this.type,objectKey:b,value:C,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))},o.prototype.is3D=function(){return!1},o.prototype.isTileClipped=function(){return!1},o.prototype.hasOffscreenPass=function(){return!1},o.prototype.resize=function(){},o.prototype.isStateDependent=function(){for(var u in this.paint._values){var g=this.paint.get(u);if(g instanceof ta&&ju(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},o}(ze),zp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ra=function(n,o){this._structArray=n,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},A=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function m(n,o){o===void 0&&(o=1);var u=0,g=0;return{members:n.map(function(b){var C=zp[b.type].BYTES_PER_ELEMENT,T=u=v(u,Math.max(o,C)),F=b.components||1;return g=Math.max(g,C),u+=C*F,{name:b.name,type:b.type,components:F,offset:T}}),size:v(u,Math.max(g,o)),alignment:o}}function v(n,o){return Math.ceil(n/o)*o}A.serialize=function(n,o){return n._trim(),o&&(n.isTransferred=!0,o.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}},A.deserialize=function(n){var o=Object.create(this.prototype);return o.arrayBuffer=n.arrayBuffer,o.length=n.length,o.capacity=n.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o},A.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},A.prototype.clear=function(){this.length=0},A.prototype.resize=function(n){this.reserve(n),this.length=n},A.prototype.reserve=function(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}},A.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.int16[C+0]=g,this.int16[C+1]=b,u},o}(A);_.prototype.bytesPerElement=4,nr("StructArrayLayout2i4",_);var k=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var F=4*u;return this.int16[F+0]=g,this.int16[F+1]=b,this.int16[F+2]=C,this.int16[F+3]=T,u},o}(A);k.prototype.bytesPerElement=8,nr("StructArrayLayout4i8",k);var O=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,F)},o.prototype.emplace=function(u,g,b,C,T,F,j){var Q=6*u;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.int16[Q+2]=C,this.int16[Q+3]=T,this.int16[Q+4]=F,this.int16[Q+5]=j,u},o}(A);O.prototype.bytesPerElement=12,nr("StructArrayLayout2i4i12",O);var I=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,F)},o.prototype.emplace=function(u,g,b,C,T,F,j){var Q=4*u,W=8*u;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.uint8[W+4]=C,this.uint8[W+5]=T,this.uint8[W+6]=F,this.uint8[W+7]=j,u},o}(A);I.prototype.bytesPerElement=8,nr("StructArrayLayout2i4ub8",I);var B=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.float32[C+0]=g,this.float32[C+1]=b,u},o}(A);B.prototype.bytesPerElement=8,nr("StructArrayLayout2f8",B);var G=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F,j,Q,W,X){var oe=this.length;return this.resize(oe+1),this.emplace(oe,u,g,b,C,T,F,j,Q,W,X)},o.prototype.emplace=function(u,g,b,C,T,F,j,Q,W,X,oe){var pe=10*u;return this.uint16[pe+0]=g,this.uint16[pe+1]=b,this.uint16[pe+2]=C,this.uint16[pe+3]=T,this.uint16[pe+4]=F,this.uint16[pe+5]=j,this.uint16[pe+6]=Q,this.uint16[pe+7]=W,this.uint16[pe+8]=X,this.uint16[pe+9]=oe,u},o}(A);G.prototype.bytesPerElement=20,nr("StructArrayLayout10ui20",G);var te=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F,j,Q,W,X,oe,pe){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,u,g,b,C,T,F,j,Q,W,X,oe,pe)},o.prototype.emplace=function(u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee){var ke=12*u;return this.int16[ke+0]=g,this.int16[ke+1]=b,this.int16[ke+2]=C,this.int16[ke+3]=T,this.uint16[ke+4]=F,this.uint16[ke+5]=j,this.uint16[ke+6]=Q,this.uint16[ke+7]=W,this.int16[ke+8]=X,this.int16[ke+9]=oe,this.int16[ke+10]=pe,this.int16[ke+11]=Ee,u},o}(A);te.prototype.bytesPerElement=24,nr("StructArrayLayout4i4ui4i24",te);var ce=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.float32[T+0]=g,this.float32[T+1]=b,this.float32[T+2]=C,u},o}(A);ce.prototype.bytesPerElement=12,nr("StructArrayLayout3f12",ce);var De=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.uint32[1*u+0]=g,u},o}(A);De.prototype.bytesPerElement=4,nr("StructArrayLayout1ul4",De);var Ze=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F,j,Q,W){var X=this.length;return this.resize(X+1),this.emplace(X,u,g,b,C,T,F,j,Q,W)},o.prototype.emplace=function(u,g,b,C,T,F,j,Q,W,X){var oe=10*u,pe=5*u;return this.int16[oe+0]=g,this.int16[oe+1]=b,this.int16[oe+2]=C,this.int16[oe+3]=T,this.int16[oe+4]=F,this.int16[oe+5]=j,this.uint32[pe+3]=Q,this.uint16[oe+8]=W,this.uint16[oe+9]=X,u},o}(A);Ze.prototype.bytesPerElement=20,nr("StructArrayLayout6i1ul2ui20",Ze);var ot=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,F)},o.prototype.emplace=function(u,g,b,C,T,F,j){var Q=6*u;return this.int16[Q+0]=g,this.int16[Q+1]=b,this.int16[Q+2]=C,this.int16[Q+3]=T,this.int16[Q+4]=F,this.int16[Q+5]=j,u},o}(A);ot.prototype.bytesPerElement=12,nr("StructArrayLayout2i2i2i12",ot);var bt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T){var F=this.length;return this.resize(F+1),this.emplace(F,u,g,b,C,T)},o.prototype.emplace=function(u,g,b,C,T,F){var j=4*u,Q=8*u;return this.float32[j+0]=g,this.float32[j+1]=b,this.float32[j+2]=C,this.int16[Q+6]=T,this.int16[Q+7]=F,u},o}(A);bt.prototype.bytesPerElement=16,nr("StructArrayLayout2f1f2i16",bt);var kt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var F=12*u,j=3*u;return this.uint8[F+0]=g,this.uint8[F+1]=b,this.float32[j+1]=C,this.float32[j+2]=T,u},o}(A);kt.prototype.bytesPerElement=12,nr("StructArrayLayout2ub2f12",kt);var Ut=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.uint16[T+0]=g,this.uint16[T+1]=b,this.uint16[T+2]=C,u},o}(A);Ut.prototype.bytesPerElement=6,nr("StructArrayLayout3ui6",Ut);var ur=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt){var it=this.length;return this.resize(it+1),this.emplace(it,u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt)},o.prototype.emplace=function(u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt,it){var ft=24*u,pt=12*u,Tt=48*u;return this.int16[ft+0]=g,this.int16[ft+1]=b,this.uint16[ft+2]=C,this.uint16[ft+3]=T,this.uint32[pt+2]=F,this.uint32[pt+3]=j,this.uint32[pt+4]=Q,this.uint16[ft+10]=W,this.uint16[ft+11]=X,this.uint16[ft+12]=oe,this.float32[pt+7]=pe,this.float32[pt+8]=Ee,this.uint8[Tt+36]=ke,this.uint8[Tt+37]=Ve,this.uint8[Tt+38]=Le,this.uint32[pt+10]=tt,this.int16[ft+22]=it,u},o}(A);ur.prototype.bytesPerElement=48,nr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ur);var mt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt,it,ft,pt,Tt,jt,Kt,gr,er,Cr,rr,Wr){var Ir=this.length;return this.resize(Ir+1),this.emplace(Ir,u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt,it,ft,pt,Tt,jt,Kt,gr,er,Cr,rr,Wr)},o.prototype.emplace=function(u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke,Ve,Le,tt,it,ft,pt,Tt,jt,Kt,gr,er,Cr,rr,Wr,Ir){var yr=34*u,rn=17*u;return this.int16[yr+0]=g,this.int16[yr+1]=b,this.int16[yr+2]=C,this.int16[yr+3]=T,this.int16[yr+4]=F,this.int16[yr+5]=j,this.int16[yr+6]=Q,this.int16[yr+7]=W,this.uint16[yr+8]=X,this.uint16[yr+9]=oe,this.uint16[yr+10]=pe,this.uint16[yr+11]=Ee,this.uint16[yr+12]=ke,this.uint16[yr+13]=Ve,this.uint16[yr+14]=Le,this.uint16[yr+15]=tt,this.uint16[yr+16]=it,this.uint16[yr+17]=ft,this.uint16[yr+18]=pt,this.uint16[yr+19]=Tt,this.uint16[yr+20]=jt,this.uint16[yr+21]=Kt,this.uint16[yr+22]=gr,this.uint32[rn+12]=er,this.float32[rn+13]=Cr,this.float32[rn+14]=rr,this.float32[rn+15]=Wr,this.float32[rn+16]=Ir,u},o}(A);mt.prototype.bytesPerElement=68,nr("StructArrayLayout8i15ui1ul4f68",mt);var Dt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.float32[1*u+0]=g,u},o}(A);Dt.prototype.bytesPerElement=4,nr("StructArrayLayout1f4",Dt);var Ke=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=3*u;return this.int16[T+0]=g,this.int16[T+1]=b,this.int16[T+2]=C,u},o}(A);Ke.prototype.bytesPerElement=6,nr("StructArrayLayout3i6",Ke);var _r=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},o.prototype.emplace=function(u,g,b,C){var T=4*u;return this.uint32[2*u+0]=g,this.uint16[T+2]=b,this.uint16[T+3]=C,u},o}(A);_r.prototype.bytesPerElement=8,nr("StructArrayLayout1ul2ui8",_r);var xr=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},o.prototype.emplace=function(u,g,b){var C=2*u;return this.uint16[C+0]=g,this.uint16[C+1]=b,u},o}(A);xr.prototype.bytesPerElement=4,nr("StructArrayLayout2ui4",xr);var Zt=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},o.prototype.emplace=function(u,g){return this.uint16[1*u+0]=g,u},o}(A);Zt.prototype.bytesPerElement=2,nr("StructArrayLayout1ui2",Zt);var c=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},o.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},o.prototype.emplace=function(u,g,b,C,T){var F=4*u;return this.float32[F+0]=g,this.float32[F+1]=b,this.float32[F+2]=C,this.float32[F+3]=T,u},o}(A);c.prototype.bytesPerElement=16,nr("StructArrayLayout4f16",c);var p=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new R(this.anchorPointX,this.anchorPointY)},Object.defineProperties(o.prototype,u),o}(ra);p.prototype.size=20;var f=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(u){return new p(this,u)},o}(Ze);nr("CollisionBoxArray",f);var y=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(o.prototype,u),o}(ra);y.prototype.size=48;var E=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(u){return new y(this,u)},o}(ur);nr("PlacedSymbolArray",E);var M=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(o.prototype,u),o}(ra);M.prototype.size=68;var D=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(u){return new M(this,u)},o}(mt);nr("SymbolInstanceArray",D);var U=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getoffsetX=function(u){return this.float32[1*u+0]},o}(Dt);nr("GlyphOffsetArray",U);var q=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.getx=function(u){return this.int16[3*u+0]},o.prototype.gety=function(u){return this.int16[3*u+1]},o.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},o}(Ke);nr("SymbolLineVertexArray",q);var ee=function(n){function o(){n.apply(this,arguments)}n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(o.prototype,u),o}(ra);ee.prototype.size=8;var he=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.get=function(u){return new ee(this,u)},o}(_r);nr("FeatureIndexArray",he);var _e=m([{name:"a_pos",components:2,type:"Int16"}],4).members,de=function(n){n===void 0&&(n=[]),this.segments=n};function Oe(n,o){return 256*(n=ae(Math.floor(n),0,255))+ae(Math.floor(o),0,255)}de.prototype.prepareSegment=function(n,o,u,g){var b=this.segments[this.segments.length-1];return n>de.MAX_VERTEX_ARRAY_LENGTH&&wt("Max vertices per segment is "+de.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+n),(!b||b.vertexLength+n>de.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:o.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b},de.prototype.get=function(){return this.segments},de.prototype.destroy=function(){for(var n=0,o=this.segments;n<o.length;n+=1){var u=o[n];for(var g in u.vaos)u.vaos[g].destroy()}},de.simpleSegment=function(n,o,u,g){return new de([{vertexOffset:n,primitiveOffset:o,vertexLength:u,primitiveLength:g,vaos:{},sortKey:0}])},de.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,nr("SegmentVector",de);var Pe=m([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Be=x(function(n){n.exports=function(o,u){var g,b,C,T,F,j,Q,W;for(b=o.length-(g=3&o.length),C=u,F=3432918353,j=461845907,W=0;W<b;)Q=255&o.charCodeAt(W)|(255&o.charCodeAt(++W))<<8|(255&o.charCodeAt(++W))<<16|(255&o.charCodeAt(++W))<<24,++W,C=27492+(65535&(T=5*(65535&(C=(C^=Q=(65535&(Q=(Q=(65535&Q)*F+(((Q>>>16)*F&65535)<<16)&4294967295)<<15|Q>>>17))*j+(((Q>>>16)*j&65535)<<16)&4294967295)<<13|C>>>19))+((5*(C>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(Q=0,g){case 3:Q^=(255&o.charCodeAt(W+2))<<16;case 2:Q^=(255&o.charCodeAt(W+1))<<8;case 1:C^=Q=(65535&(Q=(Q=(65535&(Q^=255&o.charCodeAt(W)))*F+(((Q>>>16)*F&65535)<<16)&4294967295)<<15|Q>>>17))*j+(((Q>>>16)*j&65535)<<16)&4294967295}return C^=o.length,C=2246822507*(65535&(C^=C>>>16))+((2246822507*(C>>>16)&65535)<<16)&4294967295,C=3266489909*(65535&(C^=C>>>13))+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^=C>>>16)>>>0}}),Te=x(function(n){n.exports=function(o,u){for(var g,b=o.length,C=u^b,T=0;b>=4;)g=1540483477*(65535&(g=255&o.charCodeAt(T)|(255&o.charCodeAt(++T))<<8|(255&o.charCodeAt(++T))<<16|(255&o.charCodeAt(++T))<<24))+((1540483477*(g>>>16)&65535)<<16),C=1540483477*(65535&C)+((1540483477*(C>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),b-=4,++T;switch(b){case 3:C^=(255&o.charCodeAt(T+2))<<16;case 2:C^=(255&o.charCodeAt(T+1))<<8;case 1:C=1540483477*(65535&(C^=255&o.charCodeAt(T)))+((1540483477*(C>>>16)&65535)<<16)}return C=1540483477*(65535&(C^=C>>>13))+((1540483477*(C>>>16)&65535)<<16),(C^=C>>>15)>>>0}}),Fe=Be,We=Te;Fe.murmur3=Be,Fe.murmur2=We;var Je=function(){this.ids=[],this.positions=[],this.indexed=!1};Je.prototype.add=function(n,o,u,g){this.ids.push(At(n)),this.positions.push(o,u,g)},Je.prototype.getPositions=function(n){for(var o=At(n),u=0,g=this.ids.length-1;u<g;){var b=u+g>>1;this.ids[b]>=o?g=b:u=b+1}for(var C=[];this.ids[u]===o;)C.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return C},Je.serialize=function(n,o){var u=new Float64Array(n.ids),g=new Uint32Array(n.positions);return function b(C,T,F,j){for(;F<j;){for(var Q=C[F+j>>1],W=F-1,X=j+1;;){do W++;while(C[W]<Q);do X--;while(C[X]>Q);if(W>=X)break;gt(C,W,X),gt(T,3*W,3*X),gt(T,3*W+1,3*X+1),gt(T,3*W+2,3*X+2)}X-F<j-X?(b(C,T,F,X),F=X+1):(b(C,T,X+1,j),j=X)}}(u,g,0,u.length-1),o&&o.push(u.buffer,g.buffer),{ids:u,positions:g}},Je.deserialize=function(n){var o=new Je;return o.ids=n.ids,o.positions=n.positions,o.indexed=!0,o};var ht=Math.pow(2,53)-1;function At(n){var o=+n;return!isNaN(o)&&o<=ht?o:Fe(String(n))}function gt(n,o,u){var g=n[o];n[o]=n[u],n[u]=g}nr("FeaturePositionMap",Je);var Pt=function(n,o){this.gl=n.gl,this.location=o},Nt=function(n){function o(u,g){n.call(this,u,g),this.current=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},o}(Pt),Bt=function(n){function o(u,g){n.call(this,u,g),this.current=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},o}(Pt),Jt=function(n){function o(u,g){n.call(this,u,g),this.current=[0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},o}(Pt),mr=function(n){function o(u,g){n.call(this,u,g),this.current=[0,0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},o}(Pt),Tr=function(n){function o(u,g){n.call(this,u,g),this.current=[0,0,0,0]}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},o}(Pt),Er=function(n){function o(u,g){n.call(this,u,g),this.current=br.transparent}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},o}(Pt),yn=new Float32Array(16),cr=function(n){function o(u,g){n.call(this,u,g),this.current=yn}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var g=1;g<16;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},o}(Pt);function Rr(n){return[Oe(255*n.r,255*n.g),Oe(255*n.b,255*n.a)]}var Jr=function(n,o,u){this.value=n,this.uniformNames=o.map(function(g){return"u_"+g}),this.type=u};Jr.prototype.setUniform=function(n,o,u){n.set(u.constantOr(this.value))},Jr.prototype.getBinding=function(n,o,u){return this.type==="color"?new Er(n,o):new Bt(n,o)};var $r=function(n,o){this.uniformNames=o.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};$r.prototype.setConstantPatternPositions=function(n,o){this.pixelRatioFrom=o.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=o.tlbr,this.patternTo=n.tlbr},$r.prototype.setUniform=function(n,o,u,g){var b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&n.set(b)},$r.prototype.getBinding=function(n,o,u){return u.substr(0,9)==="u_pattern"?new Tr(n,o):new Bt(n,o)};var Br=function(n,o,u,g){this.expression=n,this.type=u,this.maxValue=0,this.paintVertexAttributes=o.map(function(b){return{name:"a_"+b,type:"Float32",components:u==="color"?2:1,offset:0}}),this.paintVertexArray=new g};Br.prototype.populatePaintArray=function(n,o,u,g,b){var C=this.paintVertexArray.length,T=this.expression.evaluate(new Gr(0),o,{},g,[],b);this.paintVertexArray.resize(n),this._setPaintValue(C,n,T)},Br.prototype.updatePaintArray=function(n,o,u,g){var b=this.expression.evaluate({zoom:0},u,g);this._setPaintValue(n,o,b)},Br.prototype._setPaintValue=function(n,o,u){if(this.type==="color")for(var g=Rr(u),b=n;b<o;b++)this.paintVertexArray.emplace(b,g[0],g[1]);else{for(var C=n;C<o;C++)this.paintVertexArray.emplace(C,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},Br.prototype.upload=function(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Br.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Nr=function(n,o,u,g,b,C){this.expression=n,this.uniformNames=o.map(function(T){return"u_"+T+"_t"}),this.type=u,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=o.map(function(T){return{name:"a_"+T,type:"Float32",components:u==="color"?4:2,offset:0}}),this.paintVertexArray=new C};Nr.prototype.populatePaintArray=function(n,o,u,g,b){var C=this.expression.evaluate(new Gr(this.zoom),o,{},g,[],b),T=this.expression.evaluate(new Gr(this.zoom+1),o,{},g,[],b),F=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(F,n,C,T)},Nr.prototype.updatePaintArray=function(n,o,u,g){var b=this.expression.evaluate({zoom:this.zoom},u,g),C=this.expression.evaluate({zoom:this.zoom+1},u,g);this._setPaintValue(n,o,b,C)},Nr.prototype._setPaintValue=function(n,o,u,g){if(this.type==="color")for(var b=Rr(u),C=Rr(g),T=n;T<o;T++)this.paintVertexArray.emplace(T,b[0],b[1],C[0],C[1]);else{for(var F=n;F<o;F++)this.paintVertexArray.emplace(F,u,g);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(g))}},Nr.prototype.upload=function(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Nr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Nr.prototype.setUniform=function(n,o){var u=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,g=ae(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);n.set(g)},Nr.prototype.getBinding=function(n,o,u){return new Bt(n,o)};var Lr=function(n,o,u,g,b,C){this.expression=n,this.type=o,this.useIntegerZoom=u,this.zoom=g,this.layerId=C,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};Lr.prototype.populatePaintArray=function(n,o,u){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(g,n,o.patterns&&o.patterns[this.layerId],u)},Lr.prototype.updatePaintArray=function(n,o,u,g,b){this._setPaintValues(n,o,u.patterns&&u.patterns[this.layerId],b)},Lr.prototype._setPaintValues=function(n,o,u,g){if(g&&u){var b=g[u.min],C=g[u.mid],T=g[u.max];if(b&&C&&T)for(var F=n;F<o;F++)this.zoomInPaintVertexArray.emplace(F,C.tl[0],C.tl[1],C.br[0],C.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],C.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(F,C.tl[0],C.tl[1],C.br[0],C.br[1],T.tl[0],T.tl[1],T.br[0],T.br[1],C.pixelRatio,T.pixelRatio)}},Lr.prototype.upload=function(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,Pe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,Pe.members,this.expression.isStateDependent))},Lr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ar=function(n,o,u){this.binders={},this._buffers=[];var g=[];for(var b in n.paint._values)if(u(b)){var C=n.paint.get(b);if(C instanceof ta&&ju(C.property.specification)){var T=Vi(b,n.type),F=C.value,j=C.property.specification.type,Q=C.property.useIntegerZoom,W=C.property.specification["property-type"],X=W==="cross-faded"||W==="cross-faded-data-driven";if(F.kind==="constant")this.binders[b]=X?new $r(F.value,T):new Jr(F.value,T,j),g.push("/u_"+b);else if(F.kind==="source"||X){var oe=Ii(b,j,"source");this.binders[b]=X?new Lr(F,j,Q,o,oe,n.id):new Br(F,T,j,oe),g.push("/a_"+b)}else{var pe=Ii(b,j,"composite");this.binders[b]=new Nr(F,T,j,Q,o,pe),g.push("/z_"+b)}}}this.cacheKey=g.sort().join("")};Ar.prototype.getMaxValue=function(n){var o=this.binders[n];return o instanceof Br||o instanceof Nr?o.maxValue:0},Ar.prototype.populatePaintArrays=function(n,o,u,g,b){for(var C in this.binders){var T=this.binders[C];(T instanceof Br||T instanceof Nr||T instanceof Lr)&&T.populatePaintArray(n,o,u,g,b)}},Ar.prototype.setConstantPatternPositions=function(n,o){for(var u in this.binders){var g=this.binders[u];g instanceof $r&&g.setConstantPatternPositions(n,o)}},Ar.prototype.updatePaintArrays=function(n,o,u,g,b){var C=!1;for(var T in n)for(var F=0,j=o.getPositions(T);F<j.length;F+=1){var Q=j[F],W=u.feature(Q.index);for(var X in this.binders){var oe=this.binders[X];if((oe instanceof Br||oe instanceof Nr||oe instanceof Lr)&&oe.expression.isStateDependent===!0){var pe=g.paint.get(X);oe.expression=pe.value,oe.updatePaintArray(Q.start,Q.end,W,n[T],b),C=!0}}}return C},Ar.prototype.defines=function(){var n=[];for(var o in this.binders){var u=this.binders[o];(u instanceof Jr||u instanceof $r)&&n.push.apply(n,u.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return n},Ar.prototype.getBinderAttributes=function(){var n=[];for(var o in this.binders){var u=this.binders[o];if(u instanceof Br||u instanceof Nr)for(var g=0;g<u.paintVertexAttributes.length;g++)n.push(u.paintVertexAttributes[g].name);else if(u instanceof Lr)for(var b=0;b<Pe.members.length;b++)n.push(Pe.members[b].name)}return n},Ar.prototype.getBinderUniforms=function(){var n=[];for(var o in this.binders){var u=this.binders[o];if(u instanceof Jr||u instanceof $r||u instanceof Nr)for(var g=0,b=u.uniformNames;g<b.length;g+=1)n.push(b[g])}return n},Ar.prototype.getPaintVertexBuffers=function(){return this._buffers},Ar.prototype.getUniforms=function(n,o){var u=[];for(var g in this.binders){var b=this.binders[g];if(b instanceof Jr||b instanceof $r||b instanceof Nr)for(var C=0,T=b.uniformNames;C<T.length;C+=1){var F=T[C];if(o[F]){var j=b.getBinding(n,o[F],F);u.push({name:F,property:g,binding:j})}}}return u},Ar.prototype.setUniforms=function(n,o,u,g){for(var b=0,C=o;b<C.length;b+=1){var T=C[b],F=T.name,j=T.property;this.binders[j].setUniform(T.binding,g,u.get(j),F)}},Ar.prototype.updatePaintBuffers=function(n){for(var o in this._buffers=[],this.binders){var u=this.binders[o];if(n&&u instanceof Lr){var g=n.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(u instanceof Br||u instanceof Nr)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},Ar.prototype.upload=function(n){for(var o in this.binders){var u=this.binders[o];(u instanceof Br||u instanceof Nr||u instanceof Lr)&&u.upload(n)}this.updatePaintBuffers()},Ar.prototype.destroy=function(){for(var n in this.binders){var o=this.binders[n];(o instanceof Br||o instanceof Nr||o instanceof Lr)&&o.destroy()}};var Hn=function(n,o,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var g=0,b=n;g<b.length;g+=1){var C=b[g];this.programConfigurations[C.id]=new Ar(C,o,u)}this.needsUpload=!1,this._featureMap=new Je,this._bufferOffset=0};function Vi(n,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[n]||[n.replace(o+"-","").replace(/-/g,"_")]}function Ii(n,o,u){var g={color:{source:B,composite:c},number:{source:Dt,composite:B}},b=function(C){return{"line-pattern":{source:G,composite:G},"fill-pattern":{source:G,composite:G},"fill-extrusion-pattern":{source:G,composite:G}}[C]}(n);return b&&b[u]||g[o][u]}Hn.prototype.populatePaintArrays=function(n,o,u,g,b,C){for(var T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(n,o,g,b,C);o.id!==void 0&&this._featureMap.add(o.id,u,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0},Hn.prototype.updatePaintArrays=function(n,o,u,g){for(var b=0,C=u;b<C.length;b+=1){var T=C[b];this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(n,this._featureMap,o,T,g)||this.needsUpload}},Hn.prototype.get=function(n){return this.programConfigurations[n]},Hn.prototype.upload=function(n){if(this.needsUpload){for(var o in this.programConfigurations)this.programConfigurations[o].upload(n);this.needsUpload=!1}},Hn.prototype.destroy=function(){for(var n in this.programConfigurations)this.programConfigurations[n].destroy()},nr("ConstantBinder",Jr),nr("CrossFadedConstantBinder",$r),nr("SourceExpressionBinder",Br),nr("CrossFadedCompositeBinder",Lr),nr("CompositeExpressionBinder",Nr),nr("ProgramConfiguration",Ar,{omit:["_buffers"]}),nr("ProgramConfigurationSet",Hn);var uo=Math.pow(2,14)-1,Xi=-uo-1;function fi(n){for(var o=8192/n.extent,u=n.loadGeometry(),g=0;g<u.length;g++)for(var b=u[g],C=0;C<b.length;C++){var T=b[C],F=Math.round(T.x*o),j=Math.round(T.y*o);T.x=ae(F,Xi,uo),T.y=ae(j,Xi,uo),(F<T.x||F>T.x+1||j<T.y||j>T.y+1)&&wt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function na(n,o){return{type:n.type,id:n.id,properties:n.properties,geometry:o?fi(n):[]}}function Hi(n,o,u,g,b){n.emplaceBack(2*o+(g+1)/2,2*u+(b+1)/2)}var ia=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Ut,this.segments=new de,this.programConfigurations=new Hn(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function wa(n,o){for(var u=0;u<n.length;u++)if(Qa(o,n[u]))return!0;for(var g=0;g<o.length;g++)if(Qa(n,o[g]))return!0;return!!_l(n,o)}function gu(n,o,u){return!!Qa(n,o)||!!xl(o,n,u)}function ps(n,o){if(n.length===1)return tf(o,n[0]);for(var u=0;u<o.length;u++)for(var g=o[u],b=0;b<g.length;b++)if(Qa(n,g[b]))return!0;for(var C=0;C<n.length;C++)if(tf(o,n[C]))return!0;for(var T=0;T<o.length;T++)if(_l(n,o[T]))return!0;return!1}function Bf(n,o,u){if(n.length>1){if(_l(n,o))return!0;for(var g=0;g<o.length;g++)if(xl(o[g],n,u))return!0}for(var b=0;b<n.length;b++)if(xl(n[b],o,u))return!0;return!1}function _l(n,o){if(n.length===0||o.length===0)return!1;for(var u=0;u<n.length-1;u++)for(var g=n[u],b=n[u+1],C=0;C<o.length-1;C++)if(yu(g,b,o[C],o[C+1]))return!0;return!1}function yu(n,o,u,g){return St(n,u,g)!==St(o,u,g)&&St(n,o,u)!==St(n,o,g)}function xl(n,o,u){var g=u*u;if(o.length===1)return n.distSqr(o[0])<g;for(var b=1;b<o.length;b++)if(zf(n,o[b-1],o[b])<g)return!0;return!1}function zf(n,o,u){var g=o.distSqr(u);if(g===0)return n.distSqr(o);var b=((n.x-o.x)*(u.x-o.x)+(n.y-o.y)*(u.y-o.y))/g;return n.distSqr(b<0?o:b>1?u:u.sub(o)._mult(b)._add(o))}function tf(n,o){for(var u,g,b,C=!1,T=0;T<n.length;T++)for(var F=0,j=(u=n[T]).length-1;F<u.length;j=F++)(g=u[F]).y>o.y!=(b=u[j]).y>o.y&&o.x<(b.x-g.x)*(o.y-g.y)/(b.y-g.y)+g.x&&(C=!C);return C}function Qa(n,o){for(var u=!1,g=0,b=n.length-1;g<n.length;b=g++){var C=n[g],T=n[b];C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(u=!u)}return u}function rf(n,o,u){var g=u[0],b=u[2];if(n.x<g.x&&o.x<g.x||n.x>b.x&&o.x>b.x||n.y<g.y&&o.y<g.y||n.y>b.y&&o.y>b.y)return!1;var C=St(n,o,u[0]);return C!==St(n,o,u[1])||C!==St(n,o,u[2])||C!==St(n,o,u[3])}function yo(n,o,u){var g=o.paint.get(n).value;return g.kind==="constant"?g.value:u.programConfigurations.get(o.id).getMaxValue(n)}function Ys(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Ts(n,o,u,g,b){if(!o[0]&&!o[1])return n;var C=R.convert(o)._mult(b);u==="viewport"&&C._rotate(-g);for(var T=[],F=0;F<n.length;F++)T.push(n[F].sub(C));return T}ia.prototype.populate=function(n,o,u){var g=this.layers[0],b=[],C=null,T=!1;g.type==="circle"&&(T=!(C=g.layout.get("circle-sort-key")).isConstant());for(var F=0,j=n;F<j.length;F+=1){var Q=j[F],W=Q.feature,X=Q.id,oe=Q.index,pe=Q.sourceLayerIndex,Ee=this.layers[0]._featureFilter.needGeometry,ke=na(W,Ee);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),ke,u)){var Ve=T?C.evaluate(ke,{},u):void 0,Le={id:X,properties:W.properties,type:W.type,sourceLayerIndex:pe,index:oe,geometry:Ee?ke.geometry:fi(W),patterns:{},sortKey:Ve};b.push(Le)}}T&&b.sort(function(gr,er){return gr.sortKey-er.sortKey});for(var tt=0,it=b;tt<it.length;tt+=1){var ft=it[tt],pt=ft.geometry,Tt=ft.index,jt=ft.sourceLayerIndex,Kt=n[Tt].feature;this.addFeature(ft,pt,Tt,u),o.featureIndex.insert(Kt,pt,Tt,jt,this.index)}},ia.prototype.update=function(n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,u)},ia.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ia.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ia.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,_e),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},ia.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ia.prototype.addFeature=function(n,o,u,g){for(var b=0,C=o;b<C.length;b+=1)for(var T=0,F=C[b];T<F.length;T+=1){var j=F[T],Q=j.x,W=j.y;if(!(Q<0||Q>=8192||W<0||W>=8192)){var X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),oe=X.vertexLength;Hi(this.layoutVertexArray,Q,W,-1,-1),Hi(this.layoutVertexArray,Q,W,1,-1),Hi(this.layoutVertexArray,Q,W,1,1),Hi(this.layoutVertexArray,Q,W,-1,1),this.indexArray.emplaceBack(oe,oe+1,oe+2),this.indexArray.emplaceBack(oe,oe+3,oe+2),X.vertexLength+=4,X.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,{},g)},nr("CircleBucket",ia,{omit:["layers"]});var uc=new No({"circle-sort-key":new dt(xe.layout_circle["circle-sort-key"])}),Yi={paint:new No({"circle-radius":new dt(xe.paint_circle["circle-radius"]),"circle-color":new dt(xe.paint_circle["circle-color"]),"circle-blur":new dt(xe.paint_circle["circle-blur"]),"circle-opacity":new dt(xe.paint_circle["circle-opacity"]),"circle-translate":new Qt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new dt(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new dt(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new dt(xe.paint_circle["circle-stroke-opacity"])}),layout:uc},qi=typeof Float32Array<"u"?Float32Array:Array;function Aa(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function lc(n,o,u){var g=o[0],b=o[1],C=o[2],T=o[3],F=o[4],j=o[5],Q=o[6],W=o[7],X=o[8],oe=o[9],pe=o[10],Ee=o[11],ke=o[12],Ve=o[13],Le=o[14],tt=o[15],it=u[0],ft=u[1],pt=u[2],Tt=u[3];return n[0]=it*g+ft*F+pt*X+Tt*ke,n[1]=it*b+ft*j+pt*oe+Tt*Ve,n[2]=it*C+ft*Q+pt*pe+Tt*Le,n[3]=it*T+ft*W+pt*Ee+Tt*tt,n[4]=(it=u[4])*g+(ft=u[5])*F+(pt=u[6])*X+(Tt=u[7])*ke,n[5]=it*b+ft*j+pt*oe+Tt*Ve,n[6]=it*C+ft*Q+pt*pe+Tt*Le,n[7]=it*T+ft*W+pt*Ee+Tt*tt,n[8]=(it=u[8])*g+(ft=u[9])*F+(pt=u[10])*X+(Tt=u[11])*ke,n[9]=it*b+ft*j+pt*oe+Tt*Ve,n[10]=it*C+ft*Q+pt*pe+Tt*Le,n[11]=it*T+ft*W+pt*Ee+Tt*tt,n[12]=(it=u[12])*g+(ft=u[13])*F+(pt=u[14])*X+(Tt=u[15])*ke,n[13]=it*b+ft*j+pt*oe+Tt*Ve,n[14]=it*C+ft*Q+pt*pe+Tt*Le,n[15]=it*T+ft*W+pt*Ee+Tt*tt,n}Math.hypot||(Math.hypot=function(){for(var n=arguments,o=0,u=arguments.length;u--;)o+=n[u]*n[u];return Math.sqrt(o)});var Np,QA=lc;function Nf(n,o,u){var g=o[0],b=o[1],C=o[2],T=o[3];return n[0]=u[0]*g+u[4]*b+u[8]*C+u[12]*T,n[1]=u[1]*g+u[5]*b+u[9]*C+u[13]*T,n[2]=u[2]*g+u[6]*b+u[10]*C+u[14]*T,n[3]=u[3]*g+u[7]*b+u[11]*C+u[15]*T,n}Np=new qi(3),qi!=Float32Array&&(Np[0]=0,Np[1]=0,Np[2]=0),function(){var n=new qi(4);qi!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();var Uf=(function(){var n=new qi(2);qi!=Float32Array&&(n[0]=0,n[1]=0)}(),function(n){function o(u){n.call(this,u,Yi)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(u){return new ia(u)},o.prototype.queryRadius=function(u){var g=u;return yo("circle-radius",this,g)+yo("circle-stroke-width",this,g)+Ys(this.paint.get("circle-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,F,j,Q){for(var W=Ts(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,j),X=this.paint.get("circle-radius").evaluate(g,b)+this.paint.get("circle-stroke-width").evaluate(g,b),oe=this.paint.get("circle-pitch-alignment")==="map",pe=oe?W:function(jt,Kt){return jt.map(function(gr){return WA(gr,Kt)})}(W,Q),Ee=oe?X*j:X,ke=0,Ve=C;ke<Ve.length;ke+=1)for(var Le=0,tt=Ve[ke];Le<tt.length;Le+=1){var it=tt[Le],ft=oe?it:WA(it,Q),pt=Ee,Tt=Nf([],[it.x,it.y,0,1],Q);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pt*=Tt[3]/F.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pt*=F.cameraToCenterDistance/Tt[3]),gu(pe,ft,pt))return!0}return!1},o}($i));function WA(n,o){var u=Nf([],[n.x,n.y,0,1],o);return new R(u[0]/u[3],u[1]/u[3])}var bl=function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}(ia);function jf(n,o,u,g){var b=o.width,C=o.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==b*C*u)throw new RangeError("mismatched image size")}else g=new Uint8Array(b*C*u);return n.width=b,n.height=C,n.data=g,n}function Q0(n,o,u){var g=o.width,b=o.height;if(g!==n.width||b!==n.height){var C=jf({},{width:g,height:b},u);Xh(n,C,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,g),height:Math.min(n.height,b)},u),n.width=g,n.height=b,n.data=C.data}}function Xh(n,o,u,g,b,C){if(b.width===0||b.height===0)return o;if(b.width>n.width||b.height>n.height||u.x>n.width-b.width||u.y>n.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>o.width||b.height>o.height||g.x>o.width-b.width||g.y>o.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var T=n.data,F=o.data,j=0;j<b.height;j++)for(var Q=((u.y+j)*n.width+u.x)*C,W=((g.y+j)*o.width+g.x)*C,X=0;X<b.width*C;X++)F[W+X]=T[Q+X];return o}nr("HeatmapBucket",bl,{omit:["layers"]});var $f=function(n,o){jf(this,n,1,o)};$f.prototype.resize=function(n){Q0(this,n,1)},$f.prototype.clone=function(){return new $f({width:this.width,height:this.height},new Uint8Array(this.data))},$f.copy=function(n,o,u,g,b){Xh(n,o,u,g,b,1)};var La=function(n,o){jf(this,n,4,o)};La.prototype.resize=function(n){Q0(this,n,4)},La.prototype.replace=function(n,o){o?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n},La.prototype.clone=function(){return new La({width:this.width,height:this.height},new Uint8Array(this.data))},La.copy=function(n,o,u,g,b){Xh(n,o,u,g,b,4)},nr("AlphaImage",$f),nr("RGBAImage",La);var Cx={paint:new No({"heatmap-radius":new dt(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new dt(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ga(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(xe.paint_heatmap["heatmap-opacity"])})};function Yh(n){var o={},u=n.resolution||256,g=n.clips?n.clips.length:1,b=n.image||new La({width:u,height:g}),C=function(Ee,ke,Ve){o[n.evaluationKey]=Ve;var Le=n.expression.evaluate(o);b.data[Ee+ke+0]=Math.floor(255*Le.r/Le.a),b.data[Ee+ke+1]=Math.floor(255*Le.g/Le.a),b.data[Ee+ke+2]=Math.floor(255*Le.b/Le.a),b.data[Ee+ke+3]=Math.floor(255*Le.a)};if(n.clips)for(var T=0,F=0;T<g;++T,F+=4*u)for(var j=0,Q=0;j<u;j++,Q+=4){var W=j/(u-1),X=n.clips[T];C(F,Q,X.start*(1-W)+X.end*W)}else for(var oe=0,pe=0;oe<u;oe++,pe+=4)C(0,pe,oe/(u-1));return b}var Cy=function(n){function o(u){n.call(this,u,Cx),this._updateColorRamp()}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(u){return new bl(u)},o.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="heatmap-color"&&this._updateColorRamp()},o.prototype._updateColorRamp=function(){this.colorRamp=Yh({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},o.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},o}($i),W0={paint:new No({"hillshade-illumination-direction":new Qt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(xe.paint_hillshade["hillshade-accent-color"])})},Ex=function(n){function o(u){n.call(this,u,W0)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},o}($i),Z0=m([{name:"a_pos",components:2,type:"Int16"}],4).members,Sn=Jh,kx=Jh;function Jh(n,o,u){u=u||2;var g,b,C,T,F,j,Q,W=o&&o.length,X=W?o[0]*u:n.length,oe=Up(n,0,X,u,!0),pe=[];if(!oe||oe.next===oe.prev)return pe;if(W&&(oe=function(ke,Ve,Le,tt){var it,ft,pt,Tt=[];for(it=0,ft=Ve.length;it<ft;it++)(pt=Up(ke,Ve[it]*tt,it<ft-1?Ve[it+1]*tt:ke.length,tt,!1))===pt.next&&(pt.steiner=!0),Tt.push(nf(pt));for(Tt.sort(K0),it=0;it<Tt.length;it++)Ey(Tt[it],Le),Le=cc(Le,Le.next);return Le}(n,o,oe,u)),n.length>80*u){g=C=n[0],b=T=n[1];for(var Ee=u;Ee<X;Ee+=u)(F=n[Ee])<g&&(g=F),(j=n[Ee+1])<b&&(b=j),F>C&&(C=F),j>T&&(T=j);Q=(Q=Math.max(C-g,T-b))!==0?1/Q:0}return ZA(oe,pe,u,g,b,Q),pe}function Up(n,o,u,g,b){var C,T;if(b===nd(n,o,u,g)>0)for(C=o;C<u;C+=g)T=Py(C,n[C],n[C+1],T);else for(C=u-g;C>=o;C-=g)T=Py(C,n[C],n[C+1],T);return T&&KA(T,T.next)&&(_u(T),T=T.next),T}function cc(n,o){if(!n)return n;o||(o=n);var u,g=n;do if(u=!1,g.steiner||!KA(g,g.next)&&Gi(g.prev,g,g.next)!==0)g=g.next;else{if(_u(g),(g=o=g.prev)===g.next)break;u=!0}while(u||g!==o);return o}function ZA(n,o,u,g,b,C,T){if(n){!T&&C&&function(W,X,oe,pe){var Ee=W;do Ee.z===null&&(Ee.z=As(Ee.x,Ee.y,X,oe,pe)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next;while(Ee!==W);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(ke){var Ve,Le,tt,it,ft,pt,Tt,jt,Kt=1;do{for(Le=ke,ke=null,ft=null,pt=0;Le;){for(pt++,tt=Le,Tt=0,Ve=0;Ve<Kt&&(Tt++,tt=tt.nextZ);Ve++);for(jt=Kt;Tt>0||jt>0&&tt;)Tt!==0&&(jt===0||!tt||Le.z<=tt.z)?(it=Le,Le=Le.nextZ,Tt--):(it=tt,tt=tt.nextZ,jt--),ft?ft.nextZ=it:ke=it,it.prevZ=ft,ft=it;Le=tt}ft.nextZ=null,Kt*=2}while(pt>1)}(Ee)}(n,g,b,C);for(var F,j,Q=n;n.prev!==n.next;)if(F=n.prev,j=n.next,C?vu(n,g,b,C):Tx(n))o.push(F.i/u),o.push(n.i/u),o.push(j.i/u),_u(n),n=j.next,Q=j.next;else if((n=j)===Q){T?T===1?ZA(n=Px(cc(n),o,u),o,u,g,b,C,2):T===2&&ed(n,o,u,g,b,C):ZA(cc(n),o,u,g,b,C,1);break}}}function Tx(n){var o=n.prev,u=n,g=n.next;if(Gi(o,u,g)>=0)return!1;for(var b=n.next.next;b!==n.prev;){if(of(o.x,o.y,u.x,u.y,g.x,g.y,b.x,b.y)&&Gi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function vu(n,o,u,g){var b=n.prev,C=n,T=n.next;if(Gi(b,C,T)>=0)return!1;for(var F=b.x>C.x?b.x>T.x?b.x:T.x:C.x>T.x?C.x:T.x,j=b.y>C.y?b.y>T.y?b.y:T.y:C.y>T.y?C.y:T.y,Q=As(b.x<C.x?b.x<T.x?b.x:T.x:C.x<T.x?C.x:T.x,b.y<C.y?b.y<T.y?b.y:T.y:C.y<T.y?C.y:T.y,o,u,g),W=As(F,j,o,u,g),X=n.prevZ,oe=n.nextZ;X&&X.z>=Q&&oe&&oe.z<=W;){if(X!==n.prev&&X!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,X.x,X.y)&&Gi(X.prev,X,X.next)>=0||(X=X.prevZ,oe!==n.prev&&oe!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,oe.x,oe.y)&&Gi(oe.prev,oe,oe.next)>=0))return!1;oe=oe.nextZ}for(;X&&X.z>=Q;){if(X!==n.prev&&X!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,X.x,X.y)&&Gi(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;oe&&oe.z<=W;){if(oe!==n.prev&&oe!==n.next&&of(b.x,b.y,C.x,C.y,T.x,T.y,oe.x,oe.y)&&Gi(oe.prev,oe,oe.next)>=0)return!1;oe=oe.nextZ}return!0}function Px(n,o,u){var g=n;do{var b=g.prev,C=g.next.next;!KA(b,C)&&td(b,g,g.next,C)&&Vf(b,C)&&Vf(C,b)&&(o.push(b.i/u),o.push(g.i/u),o.push(C.i/u),_u(g),_u(g.next),g=n=C),g=g.next}while(g!==n);return cc(g)}function ed(n,o,u,g,b,C){var T=n;do{for(var F=T.next.next;F!==T.prev;){if(T.i!==F.i&&Ty(T,F)){var j=fc(T,F);return T=cc(T,T.next),j=cc(j,j.next),ZA(T,o,u,g,b,C),void ZA(j,o,u,g,b,C)}F=F.next}T=T.next}while(T!==n)}function K0(n,o){return n.x-o.x}function Ey(n,o){if(o=function(g,b){var C,T=b,F=g.x,j=g.y,Q=-1/0;do{if(j<=T.y&&j>=T.next.y&&T.next.y!==T.y){var W=T.x+(j-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(W<=F&&W>Q){if(Q=W,W===F){if(j===T.y)return T;if(j===T.next.y)return T.next}C=T.x<T.next.x?T:T.next}}T=T.next}while(T!==b);if(!C)return null;if(F===Q)return C;var X,oe=C,pe=C.x,Ee=C.y,ke=1/0;T=C;do F>=T.x&&T.x>=pe&&F!==T.x&&of(j<Ee?F:Q,j,pe,Ee,j<Ee?Q:F,j,T.x,T.y)&&(X=Math.abs(j-T.y)/(F-T.x),Vf(T,g)&&(X<ke||X===ke&&(T.x>C.x||T.x===C.x&&ky(C,T)))&&(C=T,ke=X)),T=T.next;while(T!==oe);return C}(n,o)){var u=fc(o,n);cc(o,o.next),cc(u,u.next)}}function ky(n,o){return Gi(n.prev,n,o.prev)<0&&Gi(o.next,n,n.next)<0}function As(n,o,u,g,b){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-u)*b)|n<<8))|n<<4))|n<<2))|n<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-g)*b)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function nf(n){var o=n,u=n;do(o.x<u.x||o.x===u.x&&o.y<u.y)&&(u=o),o=o.next;while(o!==n);return u}function of(n,o,u,g,b,C,T,F){return(b-T)*(o-F)-(n-T)*(C-F)>=0&&(n-T)*(g-F)-(u-T)*(o-F)>=0&&(u-T)*(C-F)-(b-T)*(g-F)>=0}function Ty(n,o){return n.next.i!==o.i&&n.prev.i!==o.i&&!function(u,g){var b=u;do{if(b.i!==u.i&&b.next.i!==u.i&&b.i!==g.i&&b.next.i!==g.i&&td(b,b.next,u,g))return!0;b=b.next}while(b!==u);return!1}(n,o)&&(Vf(n,o)&&Vf(o,n)&&function(u,g){var b=u,C=!1,T=(u.x+g.x)/2,F=(u.y+g.y)/2;do b.y>F!=b.next.y>F&&b.next.y!==b.y&&T<(b.next.x-b.x)*(F-b.y)/(b.next.y-b.y)+b.x&&(C=!C),b=b.next;while(b!==u);return C}(n,o)&&(Gi(n.prev,n,o.prev)||Gi(n,o.prev,o))||KA(n,o)&&Gi(n.prev,n,n.next)>0&&Gi(o.prev,o,o.next)>0)}function Gi(n,o,u){return(o.y-n.y)*(u.x-o.x)-(o.x-n.x)*(u.y-o.y)}function KA(n,o){return n.x===o.x&&n.y===o.y}function td(n,o,u,g){var b=jp(Gi(n,o,u)),C=jp(Gi(n,o,g)),T=jp(Gi(u,g,n)),F=jp(Gi(u,g,o));return b!==C&&T!==F||!(b!==0||!XA(n,u,o))||!(C!==0||!XA(n,g,o))||!(T!==0||!XA(u,n,g))||!(F!==0||!XA(u,o,g))}function XA(n,o,u){return o.x<=Math.max(n.x,u.x)&&o.x>=Math.min(n.x,u.x)&&o.y<=Math.max(n.y,u.y)&&o.y>=Math.min(n.y,u.y)}function jp(n){return n>0?1:n<0?-1:0}function Vf(n,o){return Gi(n.prev,n,n.next)<0?Gi(n,o,n.next)>=0&&Gi(n,n.prev,o)>=0:Gi(n,o,n.prev)<0||Gi(n,n.next,o)<0}function fc(n,o){var u=new rd(n.i,n.x,n.y),g=new rd(o.i,o.x,o.y),b=n.next,C=o.prev;return n.next=o,o.prev=n,u.next=b,b.prev=u,g.next=u,u.prev=g,C.next=g,g.prev=C,g}function Py(n,o,u,g){var b=new rd(n,o,u);return g?(b.next=g.next,b.prev=g,g.next.prev=b,g.next=b):(b.prev=b,b.next=b),b}function _u(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function rd(n,o,u){this.i=n,this.x=o,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nd(n,o,u,g){for(var b=0,C=o,T=u-g;C<u;C+=g)b+=(n[T]-n[C])*(n[C+1]+n[T+1]),T=C;return b}function X0(n,o,u,g,b){(function C(T,F,j,Q,W){for(;Q>j;){if(Q-j>600){var X=Q-j+1,oe=F-j+1,pe=Math.log(X),Ee=.5*Math.exp(2*pe/3),ke=.5*Math.sqrt(pe*Ee*(X-Ee)/X)*(oe-X/2<0?-1:1);C(T,F,Math.max(j,Math.floor(F-oe*Ee/X+ke)),Math.min(Q,Math.floor(F+(X-oe)*Ee/X+ke)),W)}var Ve=T[F],Le=j,tt=Q;for(YA(T,j,F),W(T[Q],Ve)>0&&YA(T,j,Q);Le<tt;){for(YA(T,Le,tt),Le++,tt--;W(T[Le],Ve)<0;)Le++;for(;W(T[tt],Ve)>0;)tt--}W(T[j],Ve)===0?YA(T,j,tt):YA(T,++tt,Q),tt<=F&&(j=tt+1),F<=tt&&(Q=tt-1)}})(n,o,u||0,g||n.length-1,b||Ix)}function YA(n,o,u){var g=n[o];n[o]=n[u],n[u]=g}function Ix(n,o){return n<o?-1:n>o?1:0}function Y0(n,o){var u=n.length;if(u<=1)return[n];for(var g,b,C=[],T=0;T<u;T++){var F=Wt(n[T]);F!==0&&(n[T].area=Math.abs(F),b===void 0&&(b=F<0),b===F<0?(g&&C.push(g),g=[n[T]]):g.push(n[T]))}if(g&&C.push(g),o>1)for(var j=0;j<C.length;j++)C[j].length<=o||(X0(C[j],o,1,C[j].length-1,Iy),C[j]=C[j].slice(0,o));return C}function Iy(n,o){return o.area-n.area}function id(n,o,u){for(var g=u.patternDependencies,b=!1,C=0,T=o;C<T.length;C+=1){var F=T[C].paint.get(n+"-pattern");F.isConstant()||(b=!0);var j=F.constantOr(null);j&&(b=!0,g[j.to]=!0,g[j.from]=!0)}return b}function J0(n,o,u,g,b){for(var C=b.patternDependencies,T=0,F=o;T<F.length;T+=1){var j=F[T],Q=j.paint.get(n+"-pattern").value;if(Q.kind!=="constant"){var W=Q.evaluate({zoom:g-1},u,{},b.availableImages),X=Q.evaluate({zoom:g},u,{},b.availableImages),oe=Q.evaluate({zoom:g+1},u,{},b.availableImages);X=X&&X.name?X.name:X,oe=oe&&oe.name?oe.name:oe,C[W=W&&W.name?W.name:W]=!0,C[X]=!0,C[oe]=!0,u.patterns[j.id]={min:W,mid:X,max:oe}}}return u}Jh.deviation=function(n,o,u,g){var b=o&&o.length,C=Math.abs(nd(n,0,b?o[0]*u:n.length,u));if(b)for(var T=0,F=o.length;T<F;T++)C-=Math.abs(nd(n,o[T]*u,T<F-1?o[T+1]*u:n.length,u));var j=0;for(T=0;T<g.length;T+=3){var Q=g[T]*u,W=g[T+1]*u,X=g[T+2]*u;j+=Math.abs((n[Q]-n[X])*(n[W+1]-n[Q+1])-(n[Q]-n[W])*(n[X+1]-n[Q+1]))}return C===0&&j===0?0:Math.abs((j-C)/C)},Jh.flatten=function(n){for(var o=n[0][0].length,u={vertices:[],holes:[],dimensions:o},g=0,b=0;b<n.length;b++){for(var C=0;C<n[b].length;C++)for(var T=0;T<o;T++)u.vertices.push(n[b][C][T]);b>0&&u.holes.push(g+=n[b-1].length)}return u},Sn.default=kx;var xu=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Ut,this.indexArray2=new xr,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new de,this.segments2=new de,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};xu.prototype.populate=function(n,o,u){this.hasPattern=id("fill",this.layers,o);for(var g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),C=[],T=0,F=n;T<F.length;T+=1){var j=F[T],Q=j.feature,W=j.id,X=j.index,oe=j.sourceLayerIndex,pe=this.layers[0]._featureFilter.needGeometry,Ee=na(Q,pe);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),Ee,u)){var ke=b?g.evaluate(Ee,{},u,o.availableImages):void 0,Ve={id:W,properties:Q.properties,type:Q.type,sourceLayerIndex:oe,index:X,geometry:pe?Ee.geometry:fi(Q),patterns:{},sortKey:ke};C.push(Ve)}}b&&C.sort(function(Kt,gr){return Kt.sortKey-gr.sortKey});for(var Le=0,tt=C;Le<tt.length;Le+=1){var it=tt[Le],ft=it.geometry,pt=it.index,Tt=it.sourceLayerIndex;if(this.hasPattern){var jt=J0("fill",this.layers,it,this.zoom,o);this.patternFeatures.push(jt)}else this.addFeature(it,ft,pt,u,{});o.featureIndex.insert(n[pt].feature,ft,pt,Tt,this.index)}},xu.prototype.update=function(n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,u)},xu.prototype.addFeatures=function(n,o,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},xu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},xu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xu.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Z0),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0},xu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},xu.prototype.addFeature=function(n,o,u,g,b){for(var C=0,T=Y0(o,500);C<T.length;C+=1){for(var F=T[C],j=0,Q=0,W=F;Q<W.length;Q+=1)j+=W[Q].length;for(var X=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),oe=X.vertexLength,pe=[],Ee=[],ke=0,Ve=F;ke<Ve.length;ke+=1){var Le=Ve[ke];if(Le.length!==0){Le!==F[0]&&Ee.push(pe.length/2);var tt=this.segments2.prepareSegment(Le.length,this.layoutVertexArray,this.indexArray2),it=tt.vertexLength;this.layoutVertexArray.emplaceBack(Le[0].x,Le[0].y),this.indexArray2.emplaceBack(it+Le.length-1,it),pe.push(Le[0].x),pe.push(Le[0].y);for(var ft=1;ft<Le.length;ft++)this.layoutVertexArray.emplaceBack(Le[ft].x,Le[ft].y),this.indexArray2.emplaceBack(it+ft-1,it+ft),pe.push(Le[ft].x),pe.push(Le[ft].y);tt.vertexLength+=Le.length,tt.primitiveLength+=Le.length}}for(var pt=Sn(pe,Ee),Tt=0;Tt<pt.length;Tt+=3)this.indexArray.emplaceBack(oe+pt[Tt],oe+pt[Tt+1],oe+pt[Tt+2]);X.vertexLength+=j,X.primitiveLength+=pt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,b,g)},nr("FillBucket",xu,{omit:["layers","patternFeatures"]});var Oy=new No({"fill-sort-key":new dt(xe.layout_fill["fill-sort-key"])}),Ps={paint:new No({"fill-antialias":new Qt(xe.paint_fill["fill-antialias"]),"fill-opacity":new dt(xe.paint_fill["fill-opacity"]),"fill-color":new dt(xe.paint_fill["fill-color"]),"fill-outline-color":new dt(xe.paint_fill["fill-outline-color"]),"fill-translate":new Qt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yt(xe.paint_fill["fill-pattern"])}),layout:Oy},wl=function(n){function o(u){n.call(this,u,Ps)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.recalculate=function(u,g){n.prototype.recalculate.call(this,u,g);var b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},o.prototype.createBucket=function(u){return new xu(u)},o.prototype.queryRadius=function(){return Ys(this.paint.get("fill-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,F,j){return ps(Ts(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,j),C)},o.prototype.isTileClipped=function(){return!0},o}($i),Ox=m([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,My=pc;function pc(n,o,u,g,b){this.properties={},this.extent=u,this.type=0,this._pbf=n,this._geometry=-1,this._keys=g,this._values=b,n.readFields($p,this,o)}function $p(n,o,u){n==1?o.id=u.readVarint():n==2?function(g,b){for(var C=g.readVarint()+g.pos;g.pos<C;){var T=b._keys[g.readVarint()],F=b._values[g.readVarint()];b.properties[T]=F}}(u,o):n==3?o.type=u.readVarint():n==4&&(o._geometry=u.pos)}function Ry(n){for(var o,u,g=0,b=0,C=n.length,T=C-1;b<C;T=b++)g+=((u=n[T]).x-(o=n[b]).x)*(o.y+u.y);return g}pc.types=["Unknown","Point","LineString","Polygon"],pc.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var o,u=n.readVarint()+n.pos,g=1,b=0,C=0,T=0,F=[];n.pos<u;){if(b<=0){var j=n.readVarint();g=7&j,b=j>>3}if(b--,g===1||g===2)C+=n.readSVarint(),T+=n.readSVarint(),g===1&&(o&&F.push(o),o=[]),o.push(new R(C,T));else{if(g!==7)throw new Error("unknown command "+g);o&&o.push(o[0].clone())}}return o&&F.push(o),F},pc.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var o=n.readVarint()+n.pos,u=1,g=0,b=0,C=0,T=1/0,F=-1/0,j=1/0,Q=-1/0;n.pos<o;){if(g<=0){var W=n.readVarint();u=7&W,g=W>>3}if(g--,u===1||u===2)(b+=n.readSVarint())<T&&(T=b),b>F&&(F=b),(C+=n.readSVarint())<j&&(j=C),C>Q&&(Q=C);else if(u!==7)throw new Error("unknown command "+u)}return[T,j,F,Q]},pc.prototype.toGeoJSON=function(n,o,u){var g,b,C=this.extent*Math.pow(2,u),T=this.extent*n,F=this.extent*o,j=this.loadGeometry(),Q=pc.types[this.type];function W(pe){for(var Ee=0;Ee<pe.length;Ee++){var ke=pe[Ee];pe[Ee]=[360*(ke.x+T)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(ke.y+F)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(g=0;g<j.length;g++)X[g]=j[g][0];W(j=X);break;case 2:for(g=0;g<j.length;g++)W(j[g]);break;case 3:for(j=function(pe){var Ee=pe.length;if(Ee<=1)return[pe];for(var ke,Ve,Le=[],tt=0;tt<Ee;tt++){var it=Ry(pe[tt]);it!==0&&(Ve===void 0&&(Ve=it<0),Ve===it<0?(ke&&Le.push(ke),ke=[pe[tt]]):ke.push(pe[tt]))}return ke&&Le.push(ke),Le}(j),g=0;g<j.length;g++)for(b=0;b<j[g].length;b++)W(j[g][b])}j.length===1?j=j[0]:Q="Multi"+Q;var oe={type:"Feature",geometry:{type:Q,coordinates:j},properties:this.properties};return"id"in this&&(oe.id=this.id),oe};var em=Ly;function Ly(n,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(Dy,this,o),this.length=this._features.length}function Dy(n,o,u){n===15?o.version=u.readVarint():n===1?o.name=u.readString():n===5?o.extent=u.readVarint():n===2?o._features.push(u.pos):n===3?o._keys.push(u.readString()):n===4&&o._values.push(function(g){for(var b=null,C=g.readVarint()+g.pos;g.pos<C;){var T=g.readVarint()>>3;b=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}return b}(u))}function Vp(n,o,u){if(n===3){var g=new em(u,u.readVarint()+u.pos);g.length&&(o[g.name]=g)}}Ly.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var o=this._pbf.readVarint()+this._pbf.pos;return new My(this._pbf,o,this.extent,this._keys,this._values)};var Sl={VectorTile:function(n,o){this.layers=n.readFields(Vp,{},o)},VectorTileFeature:My,VectorTileLayer:em},Mx=Sl.VectorTileFeature.types,od=Math.pow(2,13);function Hp(n,o,u,g,b,C,T,F){n.emplaceBack(o,u,2*Math.floor(g*od)+T,b*od*2,C*od*2,Math.round(F))}var Is=function(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new O,this.indexArray=new Ut,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new de,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function Fy(n,o){return n.x===o.x&&(n.x<0||n.x>8192)||n.y===o.y&&(n.y<0||n.y>8192)}Is.prototype.populate=function(n,o,u){this.features=[],this.hasPattern=id("fill-extrusion",this.layers,o);for(var g=0,b=n;g<b.length;g+=1){var C=b[g],T=C.feature,F=C.id,j=C.index,Q=C.sourceLayerIndex,W=this.layers[0]._featureFilter.needGeometry,X=na(T,W);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),X,u)){var oe={id:F,sourceLayerIndex:Q,index:j,geometry:W?X.geometry:fi(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push(J0("fill-extrusion",this.layers,oe,this.zoom,o)):this.addFeature(oe,oe.geometry,j,u,{}),o.featureIndex.insert(T,oe.geometry,j,Q,this.index,!0)}}},Is.prototype.addFeatures=function(n,o,u){for(var g=0,b=this.features;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},Is.prototype.update=function(n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,u)},Is.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Is.prototype.upload=function(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Ox),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Is.prototype.addFeature=function(n,o,u,g,b){for(var C=0,T=Y0(o,500);C<T.length;C+=1){for(var F=T[C],j=0,Q=0,W=F;Q<W.length;Q+=1)j+=W[Q].length;for(var X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),oe=0,pe=F;oe<pe.length;oe+=1){var Ee=pe[oe];if(Ee.length!==0&&!((rn=Ee).every(function(Vr){return Vr.x<0})||rn.every(function(Vr){return Vr.x>8192})||rn.every(function(Vr){return Vr.y<0})||rn.every(function(Vr){return Vr.y>8192})))for(var ke=0,Ve=0;Ve<Ee.length;Ve++){var Le=Ee[Ve];if(Ve>=1){var tt=Ee[Ve-1];if(!Fy(Le,tt)){X.vertexLength+4>de.MAX_VERTEX_ARRAY_LENGTH&&(X=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var it=Le.sub(tt)._perp()._unit(),ft=tt.dist(Le);ke+ft>32768&&(ke=0),Hp(this.layoutVertexArray,Le.x,Le.y,it.x,it.y,0,0,ke),Hp(this.layoutVertexArray,Le.x,Le.y,it.x,it.y,0,1,ke),Hp(this.layoutVertexArray,tt.x,tt.y,it.x,it.y,0,0,ke+=ft),Hp(this.layoutVertexArray,tt.x,tt.y,it.x,it.y,0,1,ke);var pt=X.vertexLength;this.indexArray.emplaceBack(pt,pt+2,pt+1),this.indexArray.emplaceBack(pt+1,pt+2,pt+3),X.vertexLength+=4,X.primitiveLength+=2}}}}if(X.vertexLength+j>de.MAX_VERTEX_ARRAY_LENGTH&&(X=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),Mx[n.type]==="Polygon"){for(var Tt=[],jt=[],Kt=X.vertexLength,gr=0,er=F;gr<er.length;gr+=1){var Cr=er[gr];if(Cr.length!==0){Cr!==F[0]&&jt.push(Tt.length/2);for(var rr=0;rr<Cr.length;rr++){var Wr=Cr[rr];Hp(this.layoutVertexArray,Wr.x,Wr.y,0,0,1,1,0),Tt.push(Wr.x),Tt.push(Wr.y)}}}for(var Ir=Sn(Tt,jt),yr=0;yr<Ir.length;yr+=3)this.indexArray.emplaceBack(Kt+Ir[yr],Kt+Ir[yr+2],Kt+Ir[yr+1]);X.primitiveLength+=Ir.length/3,X.vertexLength+=j}}var rn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,b,g)},nr("FillExtrusionBucket",Is,{omit:["layers","features"]});var ad={paint:new No({"fill-extrusion-opacity":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new dt(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yt(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new dt(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new dt(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},tm=function(n){function o(u){n.call(this,u,ad)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.createBucket=function(u){return new Is(u)},o.prototype.queryRadius=function(){return Ys(this.paint.get("fill-extrusion-translate"))},o.prototype.is3D=function(){return!0},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,F,j,Q){var W=Ts(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,j),X=this.paint.get("fill-extrusion-height").evaluate(g,b),oe=this.paint.get("fill-extrusion-base").evaluate(g,b),pe=function(ke,Ve,Le,tt){for(var it=[],ft=0,pt=ke;ft<pt.length;ft+=1){var Tt=pt[ft],jt=[Tt.x,Tt.y,0,1];Nf(jt,jt,Ve),it.push(new R(jt[0]/jt[3],jt[1]/jt[3]))}return it}(W,Q),Ee=function(ke,Ve,Le,tt){for(var it=[],ft=[],pt=tt[8]*Ve,Tt=tt[9]*Ve,jt=tt[10]*Ve,Kt=tt[11]*Ve,gr=tt[8]*Le,er=tt[9]*Le,Cr=tt[10]*Le,rr=tt[11]*Le,Wr=0,Ir=ke;Wr<Ir.length;Wr+=1){for(var yr=[],rn=[],Vr=0,vn=Ir[Wr];Vr<vn.length;Vr+=1){var kr=vn[Vr],On=kr.x,ui=kr.y,_i=tt[0]*On+tt[4]*ui+tt[12],Oi=tt[1]*On+tt[5]*ui+tt[13],xi=tt[2]*On+tt[6]*ui+tt[14],Ci=tt[3]*On+tt[7]*ui+tt[15],xo=xi+jt,Oo=Ci+Kt,Ea=_i+gr,jo=Oi+er,ka=xi+Cr,Ji=Ci+rr,$o=new R((_i+pt)/Oo,(Oi+Tt)/Oo);$o.z=xo/Oo,yr.push($o);var un=new R(Ea/Ji,jo/Ji);un.z=ka/Ji,rn.push(un)}it.push(yr),ft.push(rn)}return[it,ft]}(C,oe,X,Q);return function(ke,Ve,Le){var tt=1/0;ps(Le,Ve)&&(tt=By(Le,Ve[0]));for(var it=0;it<Ve.length;it++)for(var ft=Ve[it],pt=ke[it],Tt=0;Tt<ft.length-1;Tt++){var jt=ft[Tt],Kt=[jt,ft[Tt+1],pt[Tt+1],pt[Tt],jt];wa(Le,Kt)&&(tt=Math.min(tt,By(Le,Kt)))}return tt!==1/0&&tt}(Ee[0],Ee[1],pe)},o}($i);function af(n,o){return n.x*o.x+n.y*o.y}function By(n,o){if(n.length===1){for(var u,g=0,b=o[g++];!u||b.equals(u);)if(!(u=o[g++]))return 1/0;for(;g<o.length;g++){var C=o[g],T=n[0],F=u.sub(b),j=C.sub(b),Q=T.sub(b),W=af(F,F),X=af(F,j),oe=af(j,j),pe=af(Q,F),Ee=af(Q,j),ke=W*oe-X*X,Ve=(oe*pe-X*Ee)/ke,Le=(W*Ee-X*pe)/ke,tt=b.z*(1-Ve-Le)+u.z*Ve+C.z*Le;if(isFinite(tt))return tt}return 1/0}for(var it=1/0,ft=0,pt=o;ft<pt.length;ft+=1)it=Math.min(it,pt[ft].z);return it}var zy=m([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,sd=m([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ny=Sl.VectorTileFeature.types,rm=Math.cos(Math.PI/180*37.5),Uy=Math.pow(2,14)/.5,Sa=function(n){var o=this;this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){o.gradients[u.id]={}}),this.layoutVertexArray=new I,this.layoutVertexArray2=new B,this.indexArray=new Ut,this.programConfigurations=new Hn(n.layers,n.zoom),this.segments=new de,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};Sa.prototype.populate=function(n,o,u){this.hasPattern=id("line",this.layers,o);for(var g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),C=[],T=0,F=n;T<F.length;T+=1){var j=F[T],Q=j.feature,W=j.id,X=j.index,oe=j.sourceLayerIndex,pe=this.layers[0]._featureFilter.needGeometry,Ee=na(Q,pe);if(this.layers[0]._featureFilter.filter(new Gr(this.zoom),Ee,u)){var ke=b?g.evaluate(Ee,{},u):void 0,Ve={id:W,properties:Q.properties,type:Q.type,sourceLayerIndex:oe,index:X,geometry:pe?Ee.geometry:fi(Q),patterns:{},sortKey:ke};C.push(Ve)}}b&&C.sort(function(Kt,gr){return Kt.sortKey-gr.sortKey});for(var Le=0,tt=C;Le<tt.length;Le+=1){var it=tt[Le],ft=it.geometry,pt=it.index,Tt=it.sourceLayerIndex;if(this.hasPattern){var jt=J0("line",this.layers,it,this.zoom,o);this.patternFeatures.push(jt)}else this.addFeature(it,ft,pt,u,{});o.featureIndex.insert(n[pt].feature,ft,pt,Tt,this.index)}},Sa.prototype.update=function(n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,o,this.stateDependentLayers,u)},Sa.prototype.addFeatures=function(n,o,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,o,u)}},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,sd)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,zy),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.lineFeatureClips=function(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}},Sa.prototype.addFeature=function(n,o,u,g,b){var C=this.layers[0].layout,T=C.get("line-join").evaluate(n,{}),F=C.get("line-cap"),j=C.get("line-miter-limit"),Q=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(var W=0,X=o;W<X.length;W+=1)this.addLine(X[W],n,T,F,j,Q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,u,b,g)},Sa.prototype.addLine=function(n,o,u,g,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var T=0;T<n.length-1;T++)this.totalDistance+=n[T].dist(n[T+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var F=Ny[o.type]==="Polygon",j=n.length;j>=2&&n[j-1].equals(n[j-2]);)j--;for(var Q=0;Q<j-1&&n[Q].equals(n[Q+1]);)Q++;if(!(j<(F?3:2))){u==="bevel"&&(b=1.05);var W,X=this.overscaling<=16?122880/(512*this.overscaling):0,oe=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray),pe=void 0,Ee=void 0,ke=void 0,Ve=void 0;this.e1=this.e2=-1,F&&(Ve=n[Q].sub(W=n[j-2])._unit()._perp());for(var Le=Q;Le<j;Le++)if(!(Ee=Le===j-1?F?n[Q+1]:void 0:n[Le+1])||!n[Le].equals(Ee)){Ve&&(ke=Ve),W&&(pe=W),W=n[Le],Ve=Ee?Ee.sub(W)._unit()._perp():ke;var tt=(ke=ke||Ve).add(Ve);tt.x===0&&tt.y===0||tt._unit();var it=ke.x*Ve.x+ke.y*Ve.y,ft=tt.x*Ve.x+tt.y*Ve.y,pt=ft!==0?1/ft:1/0,Tt=2*Math.sqrt(2-2*ft),jt=ft<rm&&pe&&Ee,Kt=ke.x*Ve.y-ke.y*Ve.x>0;if(jt&&Le>Q){var gr=W.dist(pe);if(gr>2*X){var er=W.sub(W.sub(pe)._mult(X/gr)._round());this.updateDistance(pe,er),this.addCurrentVertex(er,ke,0,0,oe),pe=er}}var Cr=pe&&Ee,rr=Cr?u:F?"butt":g;if(Cr&&rr==="round"&&(pt<C?rr="miter":pt<=2&&(rr="fakeround")),rr==="miter"&&pt>b&&(rr="bevel"),rr==="bevel"&&(pt>2&&(rr="flipbevel"),pt<b&&(rr="miter")),pe&&this.updateDistance(pe,W),rr==="miter")tt._mult(pt),this.addCurrentVertex(W,tt,0,0,oe);else if(rr==="flipbevel"){if(pt>100)tt=Ve.mult(-1);else{var Wr=pt*ke.add(Ve).mag()/ke.sub(Ve).mag();tt._perp()._mult(Wr*(Kt?-1:1))}this.addCurrentVertex(W,tt,0,0,oe),this.addCurrentVertex(W,tt.mult(-1),0,0,oe)}else if(rr==="bevel"||rr==="fakeround"){var Ir=-Math.sqrt(pt*pt-1),yr=Kt?Ir:0,rn=Kt?0:Ir;if(pe&&this.addCurrentVertex(W,ke,yr,rn,oe),rr==="fakeround")for(var Vr=Math.round(180*Tt/Math.PI/20),vn=1;vn<Vr;vn++){var kr=vn/Vr;if(kr!==.5){var On=kr-.5;kr+=kr*On*(kr-1)*((1.0904+it*(it*(3.55645-1.43519*it)-3.2452))*On*On+(.848013+it*(.215638*it-1.06021)))}var ui=Ve.sub(ke)._mult(kr)._add(ke)._unit()._mult(Kt?-1:1);this.addHalfVertex(W,ui.x,ui.y,!1,Kt,0,oe)}Ee&&this.addCurrentVertex(W,Ve,-yr,-rn,oe)}else if(rr==="butt")this.addCurrentVertex(W,tt,0,0,oe);else if(rr==="square"){var _i=pe?1:-1;this.addCurrentVertex(W,tt,_i,_i,oe)}else rr==="round"&&(pe&&(this.addCurrentVertex(W,ke,0,0,oe),this.addCurrentVertex(W,ke,1,1,oe,!0)),Ee&&(this.addCurrentVertex(W,Ve,-1,-1,oe,!0),this.addCurrentVertex(W,Ve,0,0,oe)));if(jt&&Le<j-1){var Oi=W.dist(Ee);if(Oi>2*X){var xi=W.add(Ee.sub(W)._mult(X/Oi)._round());this.updateDistance(W,xi),this.addCurrentVertex(xi,Ve,0,0,oe),W=xi}}}}},Sa.prototype.addCurrentVertex=function(n,o,u,g,b,C){C===void 0&&(C=!1);var T=o.y*g-o.x,F=-o.y-o.x*g;this.addHalfVertex(n,o.x+o.y*u,o.y-o.x*u,C,!1,u,b),this.addHalfVertex(n,T,F,C,!0,-g,b),this.distance>Uy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(n,o,u,g,b,C))},Sa.prototype.addHalfVertex=function(n,o,u,g,b,C,T){var F=.5*(this.lineClips?this.scaledDistance*(Uy-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n.x<<1)+(g?1:0),(n.y<<1)+(b?1:0),Math.round(63*o)+128,Math.round(63*u)+128,1+(C===0?0:C<0?-1:1)|(63&F)<<2,F>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var j=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,j),T.primitiveLength++),b?this.e2=j:this.e1=j},Sa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Sa.prototype.updateDistance=function(n,o){this.distance+=n.dist(o),this.updateScaledDistance()},nr("LineBucket",Sa,{omit:["layers","patternFeatures"]});var Ac=new No({"line-cap":new Qt(xe.layout_line["line-cap"]),"line-join":new dt(xe.layout_line["line-join"]),"line-miter-limit":new Qt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Qt(xe.layout_line["line-round-limit"]),"line-sort-key":new dt(xe.layout_line["line-sort-key"])}),nm={paint:new No({"line-opacity":new dt(xe.paint_line["line-opacity"]),"line-color":new dt(xe.paint_line["line-color"]),"line-translate":new Qt(xe.paint_line["line-translate"]),"line-translate-anchor":new Qt(xe.paint_line["line-translate-anchor"]),"line-width":new dt(xe.paint_line["line-width"]),"line-gap-width":new dt(xe.paint_line["line-gap-width"]),"line-offset":new dt(xe.paint_line["line-offset"]),"line-blur":new dt(xe.paint_line["line-blur"]),"line-dasharray":new Io(xe.paint_line["line-dasharray"]),"line-pattern":new Yt(xe.paint_line["line-pattern"]),"line-gradient":new Ga(xe.paint_line["line-gradient"])}),layout:Ac},im=new(function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.possiblyEvaluate=function(u,g){return g=new Gr(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),n.prototype.possiblyEvaluate.call(this,u,g)},o.prototype.evaluate=function(u,g,b,C){return g=K({},g,{zoom:Math.floor(g.zoom)}),n.prototype.evaluate.call(this,u,g,b,C)},o}(dt))(nm.paint.properties["line-width"].specification);im.useIntegerZoom=!0;var Rx=function(n){function o(u){n.call(this,u,nm),this.gradientVersion=0}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Fo,this.gradientVersion=(this.gradientVersion+1)%$)},o.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},o.prototype.recalculate=function(u,g){n.prototype.recalculate.call(this,u,g),this.paint._values["line-floorwidth"]=im.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},o.prototype.createBucket=function(u){return new Sa(u)},o.prototype.queryRadius=function(u){var g=u,b=om(yo("line-width",this,g),yo("line-gap-width",this,g)),C=yo("line-offset",this,g);return b/2+Math.abs(C)+Ys(this.paint.get("line-translate"))},o.prototype.queryIntersectsFeature=function(u,g,b,C,T,F,j){var Q=Ts(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,j),W=j/2*om(this.paint.get("line-width").evaluate(g,b),this.paint.get("line-gap-width").evaluate(g,b)),X=this.paint.get("line-offset").evaluate(g,b);return X&&(C=function(oe,pe){for(var Ee=[],ke=new R(0,0),Ve=0;Ve<oe.length;Ve++){for(var Le=oe[Ve],tt=[],it=0;it<Le.length;it++){var ft=Le[it],pt=Le[it+1],Tt=it===0?ke:ft.sub(Le[it-1])._unit()._perp(),jt=it===Le.length-1?ke:pt.sub(ft)._unit()._perp(),Kt=Tt._add(jt)._unit();Kt._mult(1/(Kt.x*jt.x+Kt.y*jt.y)),tt.push(Kt._mult(pe)._add(ft))}Ee.push(tt)}return Ee}(C,X*j)),function(oe,pe,Ee){for(var ke=0;ke<pe.length;ke++){var Ve=pe[ke];if(oe.length>=3){for(var Le=0;Le<Ve.length;Le++)if(Qa(oe,Ve[Le]))return!0}if(Bf(oe,Ve,Ee))return!0}return!1}(Q,C,W)},o.prototype.isTileClipped=function(){return!0},o}($i);function om(n,o){return o>0?o+2*n:n}var Lx=m([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Dx=m([{name:"a_projected_pos",components:3,type:"Float32"}],4),hc=(m([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),m([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ud=(m([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),m([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),am=m([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function sm(n,o,u){return n.sections.forEach(function(g){g.text=function(b,C,T){var F=C.layout.get("text-transform").evaluate(T,{});return F==="uppercase"?b=b.toLocaleUpperCase():F==="lowercase"&&(b=b.toLocaleLowerCase()),tn.applyArabicShaping&&(b=tn.applyArabicShaping(b)),b}(g.text,o,u)}),n}m([{name:"triangle",components:3,type:"Uint16"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),m([{type:"Float32",name:"offsetX"}]),m([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var sf={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},Hf=function(n,o,u,g,b){var C,T,F=8*b-g-1,j=(1<<F)-1,Q=j>>1,W=-7,X=u?b-1:0,oe=u?-1:1,pe=n[o+X];for(X+=oe,C=pe&(1<<-W)-1,pe>>=-W,W+=F;W>0;C=256*C+n[o+X],X+=oe,W-=8);for(T=C&(1<<-W)-1,C>>=-W,W+=g;W>0;T=256*T+n[o+X],X+=oe,W-=8);if(C===0)C=1-Q;else{if(C===j)return T?NaN:1/0*(pe?-1:1);T+=Math.pow(2,g),C-=Q}return(pe?-1:1)*T*Math.pow(2,C-g)},Qr=function(n,o,u,g,b,C){var T,F,j,Q=8*C-b-1,W=(1<<Q)-1,X=W>>1,oe=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,pe=g?0:C-1,Ee=g?1:-1,ke=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(F=isNaN(o)?1:0,T=W):(T=Math.floor(Math.log(o)/Math.LN2),o*(j=Math.pow(2,-T))<1&&(T--,j*=2),(o+=T+X>=1?oe/j:oe*Math.pow(2,1-X))*j>=2&&(T++,j/=2),T+X>=W?(F=0,T=W):T+X>=1?(F=(o*j-1)*Math.pow(2,b),T+=X):(F=o*Math.pow(2,X-1)*Math.pow(2,b),T=0));b>=8;n[u+pe]=255&F,pe+=Ee,F/=256,b-=8);for(T=T<<b|F,Q+=b;Q>0;n[u+pe]=255&T,pe+=Ee,T/=256,Q-=8);n[u+pe-Ee]|=128*ke},qf=ri;function ri(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}ri.Varint=0,ri.Fixed64=1,ri.Bytes=2,ri.Fixed32=5;var uf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function dc(n){return n.type===ri.Bytes?n.readVarint()+n.pos:n.pos+1}function lf(n,o,u){return u?4294967296*o+(n>>>0):4294967296*(o>>>0)+(n>>>0)}function um(n,o,u){var g=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));u.realloc(g);for(var b=u.pos-1;b>=n;b--)u.buf[b+g]=u.buf[b]}function Wa(n,o){for(var u=0;u<n.length;u++)o.writeVarint(n[u])}function Fx(n,o){for(var u=0;u<n.length;u++)o.writeSVarint(n[u])}function Bx(n,o){for(var u=0;u<n.length;u++)o.writeFloat(n[u])}function jy(n,o){for(var u=0;u<n.length;u++)o.writeDouble(n[u])}function zx(n,o){for(var u=0;u<n.length;u++)o.writeBoolean(n[u])}function $y(n,o){for(var u=0;u<n.length;u++)o.writeFixed32(n[u])}function Nx(n,o){for(var u=0;u<n.length;u++)o.writeSFixed32(n[u])}function Ux(n,o){for(var u=0;u<n.length;u++)o.writeFixed64(n[u])}function jx(n,o){for(var u=0;u<n.length;u++)o.writeSFixed64(n[u])}function bu(n,o){return(n[o]|n[o+1]<<8|n[o+2]<<16)+16777216*n[o+3]}function oa(n,o,u){n[u]=o,n[u+1]=o>>>8,n[u+2]=o>>>16,n[u+3]=o>>>24}function ld(n,o){return(n[o]|n[o+1]<<8|n[o+2]<<16)+(n[o+3]<<24)}function $x(n,o,u){n===1&&u.readMessage(lm,o)}function lm(n,o,u){if(n===3){var g=u.readMessage(Vx,{}),b=g.width,C=g.height,T=g.left,F=g.top,j=g.advance;o.push({id:g.id,bitmap:new $f({width:b+6,height:C+6},g.bitmap),metrics:{width:b,height:C,left:T,top:F,advance:j}})}}function Vx(n,o,u){n===1?o.id=u.readVarint():n===2?o.bitmap=u.readBytes():n===3?o.width=u.readVarint():n===4?o.height=u.readVarint():n===5?o.left=u.readSVarint():n===6?o.top=u.readSVarint():n===7&&(o.advance=u.readVarint())}function Vy(n){for(var o=0,u=0,g=0,b=n;g<b.length;g+=1){var C=b[g];o+=C.w*C.h,u=Math.max(u,C.w)}n.sort(function(ke,Ve){return Ve.h-ke.h});for(var T=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),u),h:1/0}],F=0,j=0,Q=0,W=n;Q<W.length;Q+=1)for(var X=W[Q],oe=T.length-1;oe>=0;oe--){var pe=T[oe];if(!(X.w>pe.w||X.h>pe.h)){if(X.x=pe.x,X.y=pe.y,j=Math.max(j,X.y+X.h),F=Math.max(F,X.x+X.w),X.w===pe.w&&X.h===pe.h){var Ee=T.pop();oe<T.length&&(T[oe]=Ee)}else X.h===pe.h?(pe.x+=X.w,pe.w-=X.w):X.w===pe.w?(pe.y+=X.h,pe.h-=X.h):(T.push({x:pe.x+X.w,y:pe.y,w:pe.w-X.w,h:X.h}),pe.y+=X.h,pe.h-=X.h);break}}return{w:F,h:j,fill:o/(F*j)||0}}ri.prototype={destroy:function(){this.buf=null},readFields:function(n,o,u){for(u=u||this.length;this.pos<u;){var g=this.readVarint(),b=g>>3,C=this.pos;this.type=7&g,n(b,o,this),this.pos===C&&this.skip(g)}return o},readMessage:function(n,o){return this.readFields(n,o,this.readVarint()+this.pos)},readFixed32:function(){var n=bu(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=ld(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=bu(this.buf,this.pos)+4294967296*bu(this.buf,this.pos+4);return this.pos+=8,n},readSFixed64:function(){var n=bu(this.buf,this.pos)+4294967296*ld(this.buf,this.pos+4);return this.pos+=8,n},readFloat:function(){var n=Hf(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=Hf(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var o,u,g=this.buf;return o=127&(u=g[this.pos++]),u<128?o:(o|=(127&(u=g[this.pos++]))<<7,u<128?o:(o|=(127&(u=g[this.pos++]))<<14,u<128?o:(o|=(127&(u=g[this.pos++]))<<21,u<128?o:function(b,C,T){var F,j,Q=T.buf;if(F=(112&(j=Q[T.pos++]))>>4,j<128||(F|=(127&(j=Q[T.pos++]))<<3,j<128)||(F|=(127&(j=Q[T.pos++]))<<10,j<128)||(F|=(127&(j=Q[T.pos++]))<<17,j<128)||(F|=(127&(j=Q[T.pos++]))<<24,j<128)||(F|=(1&(j=Q[T.pos++]))<<31,j<128))return lf(b,F,C);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(u=g[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var n=this.readVarint()+this.pos,o=this.pos;return this.pos=n,n-o>=12&&uf?function(u,g,b){return uf.decode(u.subarray(g,b))}(this.buf,o,n):function(u,g,b){for(var C="",T=g;T<b;){var F,j,Q,W=u[T],X=null,oe=W>239?4:W>223?3:W>191?2:1;if(T+oe>b)break;oe===1?W<128&&(X=W):oe===2?(192&(F=u[T+1]))==128&&(X=(31&W)<<6|63&F)<=127&&(X=null):oe===3?(j=u[T+2],(192&(F=u[T+1]))==128&&(192&j)==128&&((X=(15&W)<<12|(63&F)<<6|63&j)<=2047||X>=55296&&X<=57343)&&(X=null)):oe===4&&(j=u[T+2],Q=u[T+3],(192&(F=u[T+1]))==128&&(192&j)==128&&(192&Q)==128&&((X=(15&W)<<18|(63&F)<<12|(63&j)<<6|63&Q)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,oe=1):X>65535&&(X-=65536,C+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),C+=String.fromCharCode(X),T+=oe}return C}(this.buf,o,n)},readBytes:function(){var n=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,n);return this.pos=n,o},readPackedVarint:function(n,o){if(this.type!==ri.Bytes)return n.push(this.readVarint(o));var u=dc(this);for(n=n||[];this.pos<u;)n.push(this.readVarint(o));return n},readPackedSVarint:function(n){if(this.type!==ri.Bytes)return n.push(this.readSVarint());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==ri.Bytes)return n.push(this.readBoolean());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==ri.Bytes)return n.push(this.readFloat());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==ri.Bytes)return n.push(this.readDouble());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==ri.Bytes)return n.push(this.readFixed32());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==ri.Bytes)return n.push(this.readSFixed32());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==ri.Bytes)return n.push(this.readFixed64());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==ri.Bytes)return n.push(this.readSFixed64());var o=dc(this);for(n=n||[];this.pos<o;)n.push(this.readSFixed64());return n},skip:function(n){var o=7&n;if(o===ri.Varint)for(;this.buf[this.pos++]>127;);else if(o===ri.Bytes)this.pos=this.readVarint()+this.pos;else if(o===ri.Fixed32)this.pos+=4;else{if(o!==ri.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(n,o){this.writeVarint(n<<3|o)},realloc:function(n){for(var o=this.length||16;o<this.pos+n;)o*=2;if(o!==this.length){var u=new Uint8Array(o);u.set(this.buf),this.buf=u,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),oa(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),oa(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),oa(this.buf,-1&n,this.pos),oa(this.buf,Math.floor(n*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),oa(this.buf,-1&n,this.pos),oa(this.buf,Math.floor(n*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(o,u){var g,b;if(o>=0?(g=o%4294967296|0,b=o/4294967296|0):(b=~(-o/4294967296),4294967295^(g=~(-o%4294967296))?g=g+1|0:(g=0,b=b+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(C,T,F){F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,C>>>=7,F.buf[F.pos++]=127&C|128,F.buf[F.pos]=127&(C>>>=7)}(g,0,u),function(C,T){var F=(7&C)<<4;T.buf[T.pos++]|=F|((C>>>=3)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C)))))}(b,u)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(Boolean(n))},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var o=this.pos;this.pos=function(g,b,C){for(var T,F,j=0;j<b.length;j++){if((T=b.charCodeAt(j))>55295&&T<57344){if(!F){T>56319||j+1===b.length?(g[C++]=239,g[C++]=191,g[C++]=189):F=T;continue}if(T<56320){g[C++]=239,g[C++]=191,g[C++]=189,F=T;continue}T=F-55296<<10|T-56320|65536,F=null}else F&&(g[C++]=239,g[C++]=191,g[C++]=189,F=null);T<128?g[C++]=T:(T<2048?g[C++]=T>>6|192:(T<65536?g[C++]=T>>12|224:(g[C++]=T>>18|240,g[C++]=T>>12&63|128),g[C++]=T>>6&63|128),g[C++]=63&T|128)}return C}(this.buf,n,this.pos);var u=this.pos-o;u>=128&&um(o,u,this),this.pos=o-1,this.writeVarint(u),this.pos+=u},writeFloat:function(n){this.realloc(4),Qr(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),Qr(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var o=n.length;this.writeVarint(o),this.realloc(o);for(var u=0;u<o;u++)this.buf[this.pos++]=n[u]},writeRawMessage:function(n,o){this.pos++;var u=this.pos;n(o,this);var g=this.pos-u;g>=128&&um(u,g,this),this.pos=u-1,this.writeVarint(g),this.pos+=g},writeMessage:function(n,o,u){this.writeTag(n,ri.Bytes),this.writeRawMessage(o,u)},writePackedVarint:function(n,o){o.length&&this.writeMessage(n,Wa,o)},writePackedSVarint:function(n,o){o.length&&this.writeMessage(n,Fx,o)},writePackedBoolean:function(n,o){o.length&&this.writeMessage(n,zx,o)},writePackedFloat:function(n,o){o.length&&this.writeMessage(n,Bx,o)},writePackedDouble:function(n,o){o.length&&this.writeMessage(n,jy,o)},writePackedFixed32:function(n,o){o.length&&this.writeMessage(n,$y,o)},writePackedSFixed32:function(n,o){o.length&&this.writeMessage(n,Nx,o)},writePackedFixed64:function(n,o){o.length&&this.writeMessage(n,Ux,o)},writePackedSFixed64:function(n,o){o.length&&this.writeMessage(n,jx,o)},writeBytesField:function(n,o){this.writeTag(n,ri.Bytes),this.writeBytes(o)},writeFixed32Field:function(n,o){this.writeTag(n,ri.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(n,o){this.writeTag(n,ri.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(n,o){this.writeTag(n,ri.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(n,o){this.writeTag(n,ri.Fixed64),this.writeSFixed64(o)},writeVarintField:function(n,o){this.writeTag(n,ri.Varint),this.writeVarint(o)},writeSVarintField:function(n,o){this.writeTag(n,ri.Varint),this.writeSVarint(o)},writeStringField:function(n,o){this.writeTag(n,ri.Bytes),this.writeString(o)},writeFloatField:function(n,o){this.writeTag(n,ri.Fixed32),this.writeFloat(o)},writeDoubleField:function(n,o){this.writeTag(n,ri.Fixed64),this.writeDouble(o)},writeBooleanField:function(n,o){this.writeVarintField(n,Boolean(o))}};var cf=function(n,o){var u=o.pixelRatio,g=o.version,b=o.stretchX,C=o.stretchY,T=o.content;this.paddedRect=n,this.pixelRatio=u,this.stretchX=b,this.stretchY=C,this.content=T,this.version=g},qp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};qp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},qp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},qp.tlbr.get=function(){return this.tl.concat(this.br)},qp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(cf.prototype,qp);var Gp=function(n,o){var u={},g={};this.haveRenderCallbacks=[];var b=[];this.addImages(n,u,b),this.addImages(o,g,b);var C=Vy(b),T=new La({width:C.w||1,height:C.h||1});for(var F in n){var j=n[F],Q=u[F].paddedRect;La.copy(j.data,T,{x:0,y:0},{x:Q.x+1,y:Q.y+1},j.data)}for(var W in o){var X=o[W],oe=g[W].paddedRect,pe=oe.x+1,Ee=oe.y+1,ke=X.data.width,Ve=X.data.height;La.copy(X.data,T,{x:0,y:0},{x:pe,y:Ee},X.data),La.copy(X.data,T,{x:0,y:Ve-1},{x:pe,y:Ee-1},{width:ke,height:1}),La.copy(X.data,T,{x:0,y:0},{x:pe,y:Ee+Ve},{width:ke,height:1}),La.copy(X.data,T,{x:ke-1,y:0},{x:pe-1,y:Ee},{width:1,height:Ve}),La.copy(X.data,T,{x:0,y:0},{x:pe+ke,y:Ee},{width:1,height:Ve})}this.image=T,this.iconPositions=u,this.patternPositions=g};Gp.prototype.addImages=function(n,o,u){for(var g in n){var b=n[g],C={x:0,y:0,w:b.data.width+2,h:b.data.height+2};u.push(C),o[g]=new cf(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},Gp.prototype.patchUpdatedImages=function(n,o){for(var u in n.dispatchRenderCallbacks(this.haveRenderCallbacks),n.updatedImages)this.patchUpdatedImage(this.iconPositions[u],n.getImage(u),o),this.patchUpdatedImage(this.patternPositions[u],n.getImage(u),o)},Gp.prototype.patchUpdatedImage=function(n,o,u){if(n&&o&&n.version!==o.version){n.version=o.version;var g=n.tl;u.update(o.data,void 0,{x:g[0],y:g[1]})}},nr("ImagePosition",cf),nr("ImageAtlas",Gp);var Os={horizontal:1,vertical:2,horizontalOnly:3},Qp=function(){this.scale=1,this.fontStack="",this.imageName=null};Qp.forText=function(n,o){var u=new Qp;return u.scale=n||1,u.fontStack=o,u},Qp.forImage=function(n){var o=new Qp;return o.imageName=n,o};var Ca=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function cd(n,o,u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke){var Ve,Le=Ca.fromFeature(n,b);X===Os.vertical&&Le.verticalizePunctuation();var tt=tn.processBidirectionalText,it=tn.processStyledBidirectionalText;if(tt&&Le.sections.length===1){Ve=[];for(var ft=0,pt=tt(Le.toString(),eh(Le,Q,C,o,g,pe,Ee));ft<pt.length;ft+=1){var Tt=pt[ft],jt=new Ca;jt.text=Tt,jt.sections=Le.sections;for(var Kt=0;Kt<Tt.length;Kt++)jt.sectionIndex.push(0);Ve.push(jt)}}else if(it){Ve=[];for(var gr=0,er=it(Le.text,Le.sectionIndex,eh(Le,Q,C,o,g,pe,Ee));gr<er.length;gr+=1){var Cr=er[gr],rr=new Ca;rr.text=Cr[0],rr.sectionIndex=Cr[1],rr.sections=Le.sections,Ve.push(rr)}}else Ve=function(yr,rn){for(var Vr=[],vn=yr.text,kr=0,On=0,ui=rn;On<ui.length;On+=1){var _i=ui[On];Vr.push(yr.substring(kr,_i)),kr=_i}return kr<vn.length&&Vr.push(yr.substring(kr,vn.length)),Vr}(Le,eh(Le,Q,C,o,g,pe,Ee));var Wr=[],Ir={positionedLines:Wr,text:Le.toString(),top:W[1],bottom:W[1],left:W[0],right:W[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(yr,rn,Vr,vn,kr,On,ui,_i,Oi,xi,Ci,xo){for(var Oo=0,Ea=-17,jo=0,ka=0,Ji=_i==="right"?1:_i==="left"?0:.5,$o=0,un=0,ni=kr;un<ni.length;un+=1){var qn=ni[un];qn.trim();var Cn=qn.getMaxScale(),Da=24*(Cn-1),ha={positionedGlyphs:[],lineOffset:0};yr.positionedLines[$o]=ha;var Tn=ha.positionedGlyphs,lo=0;if(qn.length()){for(var da=0;da<qn.length();da++){var ln=qn.getSection(da),Zr=qn.getSectionIndex(da),Ms=qn.getCharCode(da),bo=0,cn=null,El=null,ma=null,Jp=24,Jf=!(Oi===Os.horizontal||!Ci&&!Xs(Ms)||Ci&&(JA[Ms]||(pi=Ms,sr.Arabic(pi)||sr["Arabic Supplement"](pi)||sr["Arabic Extended-A"](pi)||sr["Arabic Presentation Forms-A"](pi)||sr["Arabic Presentation Forms-B"](pi))));if(ln.imageName){var eA=vn[ln.imageName];if(!eA)continue;ma=ln.imageName,yr.iconsInText=yr.iconsInText||!0,El=eA.paddedRect;var gc=eA.displaySize;ln.scale=24*ln.scale/xo,bo=Da+(24-gc[1]*ln.scale),Jp=(cn={width:gc[0],height:gc[1],left:1,top:-3,advance:Jf?gc[1]:gc[0]}).advance;var tA=Jf?gc[0]*ln.scale-24*Cn:gc[1]*ln.scale-24*Cn;tA>0&&tA>lo&&(lo=tA)}else{var rA=Vr[ln.fontStack],nA=rA&&rA[Ms];if(nA&&nA.rect)El=nA.rect,cn=nA.metrics;else{var Js=rn[ln.fontStack],sh=Js&&Js[Ms];if(!sh)continue;cn=sh.metrics}bo=24*(Cn-ln.scale)}Jf?(yr.verticalizable=!0,Tn.push({glyph:Ms,imageName:ma,x:Oo,y:Ea+bo,vertical:Jf,scale:ln.scale,fontStack:ln.fontStack,sectionIndex:Zr,metrics:cn,rect:El}),Oo+=Jp*ln.scale+xi):(Tn.push({glyph:Ms,imageName:ma,x:Oo,y:Ea+bo,vertical:Jf,scale:ln.scale,fontStack:ln.fontStack,sectionIndex:Zr,metrics:cn,rect:El}),Oo+=cn.advance*ln.scale+xi)}Tn.length!==0&&(jo=Math.max(Oo-xi,jo),Gy(Tn,0,Tn.length-1,Ji,lo)),Oo=0;var ep=On*Cn+lo;ha.lineOffset=Math.max(lo,Da),Ea+=ep,ka=Math.max(ep,ka),++$o}else Ea+=On,++$o}var pi,Qi=Ea- -17,tp=pd(ui),Af=tp.horizontalAlign,iA=tp.verticalAlign;(function(vd,_d,uh,lh,ch,yc,rp,fh,ph){var vc,Ka=(_d-uh)*ch;vc=yc!==rp?-fh*lh- -17:(-lh*ph+.5)*rp;for(var Hu=0,Ah=vd;Hu<Ah.length;Hu+=1)for(var np=0,hh=Ah[Hu].positionedGlyphs;np<hh.length;np+=1){var oA=hh[np];oA.x+=Ka,oA.y+=vc}})(yr.positionedLines,Ji,Af,iA,jo,ka,On,Qi,kr.length),yr.top+=-iA*Qi,yr.bottom=yr.top+Qi,yr.left+=-Af*jo,yr.right=yr.left+jo}(Ir,o,u,g,Ve,T,F,j,X,Q,oe,ke),!function(yr){for(var rn=0,Vr=yr;rn<Vr.length;rn+=1)if(Vr[rn].positionedGlyphs.length!==0)return!1;return!0}(Wr)&&Ir}Ca.fromFeature=function(n,o){for(var u=new Ca,g=0;g<n.sections.length;g++){var b=n.sections[g];b.image?u.addImageSection(b):u.addTextSection(b,o)}return u},Ca.prototype.length=function(){return this.text.length},Ca.prototype.getSection=function(n){return this.sections[this.sectionIndex[n]]},Ca.prototype.getSectionIndex=function(n){return this.sectionIndex[n]},Ca.prototype.getCharCode=function(n){return this.text.charCodeAt(n)},Ca.prototype.verticalizePunctuation=function(){this.text=function(n){for(var o="",u=0;u<n.length;u++){var g=n.charCodeAt(u+1)||null,b=n.charCodeAt(u-1)||null;o+=g&&mo(g)&&!sf[n[u+1]]||b&&mo(b)&&!sf[n[u-1]]||!sf[n[u]]?n[u]:sf[n[u]]}return o}(this.text)},Ca.prototype.trim=function(){for(var n=0,o=0;o<this.text.length&&JA[this.text.charCodeAt(o)];o++)n++;for(var u=this.text.length,g=this.text.length-1;g>=0&&g>=n&&JA[this.text.charCodeAt(g)];g--)u--;this.text=this.text.substring(n,u),this.sectionIndex=this.sectionIndex.slice(n,u)},Ca.prototype.substring=function(n,o){var u=new Ca;return u.text=this.text.substring(n,o),u.sectionIndex=this.sectionIndex.slice(n,o),u.sections=this.sections,u},Ca.prototype.toString=function(){return this.text},Ca.prototype.getMaxScale=function(){var n=this;return this.sectionIndex.reduce(function(o,u){return Math.max(o,n.sections[u].scale)},0)},Ca.prototype.addTextSection=function(n,o){this.text+=n.text,this.sections.push(Qp.forText(n.scale,n.fontStack||o));for(var u=this.sections.length-1,g=0;g<n.text.length;++g)this.sectionIndex.push(u)},Ca.prototype.addImageSection=function(n){var o=n.image?n.image.name:"";if(o.length!==0){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Qp.forImage(o)),this.sectionIndex.push(this.sections.length-1)):wt("Reached maximum number of images 6401")}else wt("Can't add FormattedSection with an empty image.")},Ca.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var JA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Za={};function Hy(n,o,u,g,b,C){if(o.imageName){var T=g[o.imageName];return T?T.displaySize[0]*o.scale*24/C+b:0}var F=u[o.fontStack],j=F&&F[n];return j?j.metrics.advance*o.scale+b:0}function fd(n,o,u,g){var b=Math.pow(n-o,2);return g?n<o?b/2:2*b:b+Math.abs(u)*u}function qy(n,o,u){var g=0;return n===10&&(g-=1e4),u&&(g+=150),n!==40&&n!==65288||(g+=50),o!==41&&o!==65289||(g+=50),g}function Wp(n,o,u,g,b,C){for(var T=null,F=fd(o,u,b,C),j=0,Q=g;j<Q.length;j+=1){var W=Q[j],X=fd(o-W.x,u,b,C)+W.badness;X<=F&&(T=W,F=X)}return{index:n,x:o,priorBreak:T,badness:F}}function eh(n,o,u,g,b,C,T){if(C!=="point")return[];if(!n)return[];for(var F,j=[],Q=function(Ve,Le,tt,it,ft,pt){for(var Tt=0,jt=0;jt<Ve.length();jt++){var Kt=Ve.getSection(jt);Tt+=Hy(Ve.getCharCode(jt),Kt,it,ft,Le,pt)}return Tt/Math.max(1,Math.ceil(Tt/tt))}(n,o,u,g,b,T),W=n.text.indexOf("\u200B")>=0,X=0,oe=0;oe<n.length();oe++){var pe=n.getSection(oe),Ee=n.getCharCode(oe);if(JA[Ee]||(X+=Hy(Ee,pe,g,b,o,T)),oe<n.length()-1){var ke=!((F=Ee)<11904||!(sr["Bopomofo Extended"](F)||sr.Bopomofo(F)||sr["CJK Compatibility Forms"](F)||sr["CJK Compatibility Ideographs"](F)||sr["CJK Compatibility"](F)||sr["CJK Radicals Supplement"](F)||sr["CJK Strokes"](F)||sr["CJK Symbols and Punctuation"](F)||sr["CJK Unified Ideographs Extension A"](F)||sr["CJK Unified Ideographs"](F)||sr["Enclosed CJK Letters and Months"](F)||sr["Halfwidth and Fullwidth Forms"](F)||sr.Hiragana(F)||sr["Ideographic Description Characters"](F)||sr["Kangxi Radicals"](F)||sr["Katakana Phonetic Extensions"](F)||sr.Katakana(F)||sr["Vertical Forms"](F)||sr["Yi Radicals"](F)||sr["Yi Syllables"](F)));(Za[Ee]||ke||pe.imageName)&&j.push(Wp(oe+1,X,Q,j,qy(Ee,n.getCharCode(oe+1),ke&&W),!1))}}return function Ve(Le){return Le?Ve(Le.priorBreak).concat(Le.index):[]}(Wp(n.length(),X,Q,j,0,!0))}function pd(n){var o=.5,u=.5;switch(n){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:o,verticalAlign:u}}function Gy(n,o,u,g,b){if(g||b)for(var C=n[u],T=(n[u].x+C.metrics.advance*C.scale)*g,F=o;F<=u;F++)n[F].x-=T,n[F].y+=b}function th(n,o,u,g,b,C){var T,F=n.image;if(F.content){var j=F.content,Q=F.pixelRatio||1;T=[j[0]/Q,j[1]/Q,F.displaySize[0]-j[2]/Q,F.displaySize[1]-j[3]/Q]}var W,X,oe,pe,Ee=o.left*C,ke=o.right*C;u==="width"||u==="both"?(pe=b[0]+Ee-g[3],X=b[0]+ke+g[1]):X=(pe=b[0]+(Ee+ke-F.displaySize[0])/2)+F.displaySize[0];var Ve=o.top*C,Le=o.bottom*C;return u==="height"||u==="both"?(W=b[1]+Ve-g[0],oe=b[1]+Le+g[2]):oe=(W=b[1]+(Ve+Le-F.displaySize[1])/2)+F.displaySize[1],{image:F,top:W,right:X,bottom:oe,left:pe,collisionPadding:T}}Za[10]=!0,Za[32]=!0,Za[38]=!0,Za[40]=!0,Za[41]=!0,Za[43]=!0,Za[45]=!0,Za[47]=!0,Za[173]=!0,Za[183]=!0,Za[8203]=!0,Za[8208]=!0,Za[8211]=!0,Za[8231]=!0;var Gf=function(n){function o(u,g,b,C){n.call(this,u,g),this.angle=b,C!==void 0&&(this.segment=C)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.clone=function(){return new o(this.x,this.y,this.angle,this.segment)},o}(R);function wu(n,o){var u=o.expression;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Gr(n+1))};if(u.kind==="source")return{kind:"source"};for(var g=u.zoomStops,b=u.interpolationType,C=0;C<g.length&&g[C]<=n;)C++;for(var T=C=Math.max(0,C-1);T<g.length&&g[T]<n+1;)T++;T=Math.min(g.length-1,T);var F=g[C],j=g[T];return u.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:j,interpolationType:b}:{kind:"camera",minZoom:F,maxZoom:j,minSize:u.evaluate(new Gr(F)),maxSize:u.evaluate(new Gr(j)),interpolationType:b}}function ff(n,o,u){var g=o.uSize,b=u.lowerSize;return n.kind==="source"?b/128:n.kind==="composite"?kn(b/128,u.upperSize/128,o.uSizeT):g}function Qy(n,o){var u=0,g=0;if(n.kind==="constant")g=n.layoutSize;else if(n.kind!=="source"){var b=n.interpolationType,C=b?ae(Zi.interpolationFactor(b,o,n.minZoom,n.maxZoom),0,1):0;n.kind==="camera"?g=kn(n.minSize,n.maxSize,C):u=C}return{uSizeT:u,uSize:g}}nr("Anchor",Gf);var Wy=Object.freeze({__proto__:null,getSizeData:wu,evaluateSizeForFeature:ff,evaluateSizeForZoom:Qy,SIZE_PACK_FACTOR:128});function Zy(n,o,u,g,b){if(o.segment===void 0)return!0;for(var C=o,T=o.segment+1,F=0;F>-u/2;){if(--T<0)return!1;F-=n[T].dist(C),C=n[T]}F+=n[T].dist(n[T+1]),T++;for(var j=[],Q=0;F<u/2;){var W=n[T],X=n[T+1];if(!X)return!1;var oe=n[T-1].angleTo(W)-W.angleTo(X);for(oe=Math.abs((oe+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:F,angleDelta:oe}),Q+=oe;F-j[0].distance>g;)Q-=j.shift().angleDelta;if(Q>b)return!1;T++,F+=W.dist(X)}return!0}function Ky(n){for(var o=0,u=0;u<n.length-1;u++)o+=n[u].dist(n[u+1]);return o}function Xy(n,o,u){return n?.6*o*u:0}function Yy(n,o){return Math.max(n?n.right-n.left:0,o?o.right-o.left:0)}function Hx(n,o,u,g,b,C){for(var T=Xy(u,b,C),F=Yy(u,g)*C,j=0,Q=Ky(n)/2,W=0;W<n.length-1;W++){var X=n[W],oe=n[W+1],pe=X.dist(oe);if(j+pe>Q){var Ee=(Q-j)/pe,ke=kn(X.x,oe.x,Ee),Ve=kn(X.y,oe.y,Ee),Le=new Gf(ke,Ve,oe.angleTo(X),W);return Le._round(),!T||Zy(n,Le,F,T,o)?Le:void 0}j+=pe}}function qx(n,o,u,g,b,C,T,F,j){var Q=Xy(g,C,T),W=Yy(g,b),X=W*T,oe=n[0].x===0||n[0].x===j||n[0].y===0||n[0].y===j;return o-X<o/4&&(o=X+o/4),function pe(Ee,ke,Ve,Le,tt,it,ft,pt,Tt){for(var jt=it/2,Kt=Ky(Ee),gr=0,er=ke-Ve,Cr=[],rr=0;rr<Ee.length-1;rr++){for(var Wr=Ee[rr],Ir=Ee[rr+1],yr=Wr.dist(Ir),rn=Ir.angleTo(Wr);er+Ve<gr+yr;){var Vr=((er+=Ve)-gr)/yr,vn=kn(Wr.x,Ir.x,Vr),kr=kn(Wr.y,Ir.y,Vr);if(vn>=0&&vn<Tt&&kr>=0&&kr<Tt&&er-jt>=0&&er+jt<=Kt){var On=new Gf(vn,kr,rn,rr);On._round(),Le&&!Zy(Ee,On,it,Le,tt)||Cr.push(On)}}gr+=yr}return pt||Cr.length||ft||(Cr=pe(Ee,gr/2,Ve,Le,tt,it,ft,!0,Tt)),Cr}(n,oe?o/2*F%o:(W/2+2*C)*T*F%o,o,Q,u,X,oe,!1,j)}function Jy(n,o,u,g,b){for(var C=[],T=0;T<n.length;T++)for(var F=n[T],j=void 0,Q=0;Q<F.length-1;Q++){var W=F[Q],X=F[Q+1];W.x<o&&X.x<o||(W.x<o?W=new R(o,W.y+(o-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x<o&&(X=new R(o,W.y+(o-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y<u&&X.y<u||(W.y<u?W=new R(W.x+(u-W.y)/(X.y-W.y)*(X.x-W.x),u)._round():X.y<u&&(X=new R(W.x+(u-W.y)/(X.y-W.y)*(X.x-W.x),u)._round()),W.x>=g&&X.x>=g||(W.x>=g?W=new R(g,W.y+(g-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x>=g&&(X=new R(g,W.y+(g-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y>=b&&X.y>=b||(W.y>=b?W=new R(W.x+(b-W.y)/(X.y-W.y)*(X.x-W.x),b)._round():X.y>=b&&(X=new R(W.x+(b-W.y)/(X.y-W.y)*(X.x-W.x),b)._round()),j&&W.equals(j[j.length-1])||C.push(j=[W]),j.push(X)))))}return C}function ev(n,o,u,g){var b=[],C=n.image,T=C.pixelRatio,F=C.paddedRect.w-2,j=C.paddedRect.h-2,Q=n.right-n.left,W=n.bottom-n.top,X=C.stretchX||[[0,F]],oe=C.stretchY||[[0,j]],pe=function(vn,kr){return vn+kr[1]-kr[0]},Ee=X.reduce(pe,0),ke=oe.reduce(pe,0),Ve=F-Ee,Le=j-ke,tt=0,it=Ee,ft=0,pt=ke,Tt=0,jt=Ve,Kt=0,gr=Le;if(C.content&&g){var er=C.content;tt=Ad(X,0,er[0]),ft=Ad(oe,0,er[1]),it=Ad(X,er[0],er[2]),pt=Ad(oe,er[1],er[3]),Tt=er[0]-tt,Kt=er[1]-ft,jt=er[2]-er[0]-it,gr=er[3]-er[1]-pt}var Cr=function(vn,kr,On,ui){var _i=hd(vn.stretch-tt,it,Q,n.left),Oi=rh(vn.fixed-Tt,jt,vn.stretch,Ee),xi=hd(kr.stretch-ft,pt,W,n.top),Ci=rh(kr.fixed-Kt,gr,kr.stretch,ke),xo=hd(On.stretch-tt,it,Q,n.left),Oo=rh(On.fixed-Tt,jt,On.stretch,Ee),Ea=hd(ui.stretch-ft,pt,W,n.top),jo=rh(ui.fixed-Kt,gr,ui.stretch,ke),ka=new R(_i,xi),Ji=new R(xo,xi),$o=new R(xo,Ea),un=new R(_i,Ea),ni=new R(Oi/T,Ci/T),qn=new R(Oo/T,jo/T),Cn=o*Math.PI/180;if(Cn){var Da=Math.sin(Cn),ha=Math.cos(Cn),Tn=[ha,-Da,Da,ha];ka._matMult(Tn),Ji._matMult(Tn),un._matMult(Tn),$o._matMult(Tn)}var lo=vn.stretch+vn.fixed,da=kr.stretch+kr.fixed;return{tl:ka,tr:Ji,bl:un,br:$o,tex:{x:C.paddedRect.x+1+lo,y:C.paddedRect.y+1+da,w:On.stretch+On.fixed-lo,h:ui.stretch+ui.fixed-da},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ni,pixelOffsetBR:qn,minFontScaleX:jt/T/Q,minFontScaleY:gr/T/W,isSDF:u}};if(g&&(C.stretchX||C.stretchY))for(var rr=tv(X,Ve,Ee),Wr=tv(oe,Le,ke),Ir=0;Ir<rr.length-1;Ir++)for(var yr=rr[Ir],rn=rr[Ir+1],Vr=0;Vr<Wr.length-1;Vr++)b.push(Cr(yr,Wr[Vr],rn,Wr[Vr+1]));else b.push(Cr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:j+1}));return b}function Ad(n,o,u){for(var g=0,b=0,C=n;b<C.length;b+=1){var T=C[b];g+=Math.max(o,Math.min(u,T[1]))-Math.max(o,Math.min(u,T[0]))}return g}function tv(n,o,u){for(var g=[{fixed:-1,stretch:0}],b=0,C=n;b<C.length;b+=1){var T=C[b],F=T[0],j=T[1],Q=g[g.length-1];g.push({fixed:F-Q.stretch,stretch:Q.stretch}),g.push({fixed:F-Q.stretch,stretch:Q.stretch+(j-F)})}return g.push({fixed:o+1,stretch:u}),g}function hd(n,o,u,g){return n/o*u+g}function rh(n,o,u,g){return n-o*u/g}var nh=function(n,o,u,g,b,C,T,F,j,Q){if(this.boxStartIndex=n.length,j){var W=C.top,X=C.bottom,oe=C.collisionPadding;oe&&(W-=oe[1],X+=oe[3]);var pe=X-W;pe>0&&(pe=Math.max(10,pe),this.circleDiameter=pe)}else{var Ee=C.top*T-F,ke=C.bottom*T+F,Ve=C.left*T-F,Le=C.right*T+F,tt=C.collisionPadding;if(tt&&(Ve-=tt[0]*T,Ee-=tt[1]*T,Le+=tt[2]*T,ke+=tt[3]*T),Q){var it=new R(Ve,Ee),ft=new R(Le,Ee),pt=new R(Ve,ke),Tt=new R(Le,ke),jt=Q*Math.PI/180;it._rotate(jt),ft._rotate(jt),pt._rotate(jt),Tt._rotate(jt),Ve=Math.min(it.x,ft.x,pt.x,Tt.x),Le=Math.max(it.x,ft.x,pt.x,Tt.x),Ee=Math.min(it.y,ft.y,pt.y,Tt.y),ke=Math.max(it.y,ft.y,pt.y,Tt.y)}n.emplaceBack(o.x,o.y,Ve,Ee,Le,ke,u,g,b)}this.boxEndIndex=n.length},Qf=function(n,o){if(n===void 0&&(n=[]),o===void 0&&(o=Gx),this.data=n,this.length=this.data.length,this.compare=o,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function Gx(n,o){return n<o?-1:n>o?1:0}function Qx(n,o,u){o===void 0&&(o=1),u===void 0&&(u=!1);for(var g=1/0,b=1/0,C=-1/0,T=-1/0,F=n[0],j=0;j<F.length;j++){var Q=F[j];(!j||Q.x<g)&&(g=Q.x),(!j||Q.y<b)&&(b=Q.y),(!j||Q.x>C)&&(C=Q.x),(!j||Q.y>T)&&(T=Q.y)}var W=Math.min(C-g,T-b),X=W/2,oe=new Qf([],Wx);if(W===0)return new R(g,b);for(var pe=g;pe<C;pe+=W)for(var Ee=b;Ee<T;Ee+=W)oe.push(new Wf(pe+X,Ee+X,X,n));for(var ke=function(tt){for(var it=0,ft=0,pt=0,Tt=tt[0],jt=0,Kt=Tt.length,gr=Kt-1;jt<Kt;gr=jt++){var er=Tt[jt],Cr=Tt[gr],rr=er.x*Cr.y-Cr.x*er.y;ft+=(er.x+Cr.x)*rr,pt+=(er.y+Cr.y)*rr,it+=3*rr}return new Wf(ft/it,pt/it,0,tt)}(n),Ve=oe.length;oe.length;){var Le=oe.pop();(Le.d>ke.d||!ke.d)&&(ke=Le,u&&console.log("found best %d after %d probes",Math.round(1e4*Le.d)/1e4,Ve)),Le.max-ke.d<=o||(oe.push(new Wf(Le.p.x-(X=Le.h/2),Le.p.y-X,X,n)),oe.push(new Wf(Le.p.x+X,Le.p.y-X,X,n)),oe.push(new Wf(Le.p.x-X,Le.p.y+X,X,n)),oe.push(new Wf(Le.p.x+X,Le.p.y+X,X,n)),Ve+=4)}return u&&(console.log("num probes: "+Ve),console.log("best distance: "+ke.d)),ke.p}function Wx(n,o){return o.max-n.max}function Wf(n,o,u,g){this.p=new R(n,o),this.h=u,this.d=function(b,C){for(var T=!1,F=1/0,j=0;j<C.length;j++)for(var Q=C[j],W=0,X=Q.length,oe=X-1;W<X;oe=W++){var pe=Q[W],Ee=Q[oe];pe.y>b.y!=Ee.y>b.y&&b.x<(Ee.x-pe.x)*(b.y-pe.y)/(Ee.y-pe.y)+pe.x&&(T=!T),F=Math.min(F,zf(b,pe,Ee))}return(T?1:-1)*Math.sqrt(F)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Qf.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},Qf.prototype.pop=function(){if(this.length!==0){var n=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),n}},Qf.prototype.peek=function(){return this.data[0]},Qf.prototype._up=function(n){for(var o=this.data,u=this.compare,g=o[n];n>0;){var b=n-1>>1,C=o[b];if(u(g,C)>=0)break;o[n]=C,n=b}o[n]=g},Qf.prototype._down=function(n){for(var o=this.data,u=this.compare,g=this.length>>1,b=o[n];n<g;){var C=1+(n<<1),T=o[C],F=C+1;if(F<this.length&&u(o[F],T)<0&&(C=F,T=o[F]),u(T,b)>=0)break;o[n]=T,n=C}o[n]=b};var cm=Number.POSITIVE_INFINITY;function rv(n,o){return o[1]!==cm?function(u,g,b){var C=0,T=0;switch(g=Math.abs(g),b=Math.abs(b),u){case"top-right":case"top-left":case"top":T=b-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-b}switch(u){case"top-right":case"bottom-right":case"right":C=-g;break;case"top-left":case"bottom-left":case"left":C=g}return[C,T]}(n,o[0],o[1]):function(u,g){var b=0,C=0;g<0&&(g=0);var T=g/Math.sqrt(2);switch(u){case"top-right":case"top-left":C=T-7;break;case"bottom-right":case"bottom-left":C=7-T;break;case"bottom":C=7-g;break;case"top":C=g-7}switch(u){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=g;break;case"right":b=-g}return[b,C]}(n,o[0])}function fm(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nv(n,o,u,g,b,C,T,F,j,Q,W,X,oe,pe,Ee){var ke=function(ft,pt,Tt,jt,Kt,gr,er,Cr){for(var rr=jt.layout.get("text-rotate").evaluate(gr,{})*Math.PI/180,Wr=[],Ir=0,yr=pt.positionedLines;Ir<yr.length;Ir+=1)for(var rn=yr[Ir],Vr=0,vn=rn.positionedGlyphs;Vr<vn.length;Vr+=1){var kr=vn[Vr];if(kr.rect){var On=kr.rect||{},ui=4,_i=!0,Oi=1,xi=0,Ci=(Kt||Cr)&&kr.vertical,xo=kr.metrics.advance*kr.scale/2;if(Cr&&pt.verticalizable&&(xi=rn.lineOffset/2-(kr.imageName?-(24-kr.metrics.width*kr.scale)/2:24*(kr.scale-1))),kr.imageName){var Oo=er[kr.imageName];_i=Oo.sdf,ui=1/(Oi=Oo.pixelRatio)}var Ea=Kt?[kr.x+xo,kr.y]:[0,0],jo=Kt?[0,0]:[kr.x+xo+Tt[0],kr.y+Tt[1]-xi],ka=[0,0];Ci&&(ka=jo,jo=[0,0]);var Ji=(kr.metrics.left-ui)*kr.scale-xo+jo[0],$o=(-kr.metrics.top-ui)*kr.scale+jo[1],un=Ji+On.w*kr.scale/Oi,ni=$o+On.h*kr.scale/Oi,qn=new R(Ji,$o),Cn=new R(un,$o),Da=new R(Ji,ni),ha=new R(un,ni);if(Ci){var Tn=new R(-xo,xo- -17),lo=-Math.PI/2,da=12-xo,ln=new R(22-da,-(kr.imageName?da:0)),Zr=new(Function.prototype.bind.apply(R,[null].concat(ka)));qn._rotateAround(lo,Tn)._add(ln)._add(Zr),Cn._rotateAround(lo,Tn)._add(ln)._add(Zr),Da._rotateAround(lo,Tn)._add(ln)._add(Zr),ha._rotateAround(lo,Tn)._add(ln)._add(Zr)}if(rr){var Ms=Math.sin(rr),bo=Math.cos(rr),cn=[bo,-Ms,Ms,bo];qn._matMult(cn),Cn._matMult(cn),Da._matMult(cn),ha._matMult(cn)}var El=new R(0,0),ma=new R(0,0);Wr.push({tl:qn,tr:Cn,bl:Da,br:ha,tex:On,writingMode:pt.writingMode,glyphOffset:Ea,sectionIndex:kr.sectionIndex,isSDF:_i,pixelOffsetTL:El,pixelOffsetBR:ma,minFontScaleX:0,minFontScaleY:0})}}return Wr}(0,u,F,b,C,T,g,n.allowVerticalPlacement),Ve=n.textSizeData,Le=null;Ve.kind==="source"?(Le=[128*b.layout.get("text-size").evaluate(T,{})])[0]>32640&&wt(n.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Ve.kind==="composite"&&((Le=[128*pe.compositeTextSizes[0].evaluate(T,{},Ee),128*pe.compositeTextSizes[1].evaluate(T,{},Ee)])[0]>32640||Le[1]>32640)&&wt(n.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),n.addSymbols(n.text,ke,Le,F,C,T,Q,o,j.lineStartIndex,j.lineLength,oe,Ee);for(var tt=0,it=W;tt<it.length;tt+=1)X[it[tt]]=n.text.placedSymbolArray.length-1;return 4*ke.length}function iv(n){for(var o in n)return n[o];return null}function Zx(n,o,u,g){var b=n.compareText;if(o in b){for(var C=b[o],T=C.length-1;T>=0;T--)if(g.dist(C[T])<u)return!0}else b[o]=[];return b[o].push(g),!1}var Su=Sl.VectorTileFeature.types,Kx=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function dd(n,o,u,g,b,C,T,F,j,Q,W,X,oe){var pe=F?Math.min(32640,Math.round(F[0])):0,Ee=F?Math.min(32640,Math.round(F[1])):0;n.emplaceBack(o,u,Math.round(32*g),Math.round(32*b),C,T,(pe<<1)+(j?1:0),Ee,16*Q,16*W,256*X,256*oe)}function pm(n,o,u){n.emplaceBack(o.x,o.y,u),n.emplaceBack(o.x,o.y,u),n.emplaceBack(o.x,o.y,u),n.emplaceBack(o.x,o.y,u)}function ov(n){for(var o=0,u=n.sections;o<u.length;o+=1)if(Fp(u[o].text))return!0;return!1}var Zp=function(n){this.layoutVertexArray=new te,this.indexArray=new Ut,this.programConfigurations=n,this.segments=new de,this.dynamicLayoutVertexArray=new ce,this.opacityVertexArray=new De,this.placedSymbolArray=new E};Zp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Zp.prototype.upload=function(n,o,u,g){this.isEmpty()||(u&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Lx.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,Dx.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,Kx,!0),this.opacityVertexBuffer.itemSize=1),(u||g)&&this.programConfigurations.upload(n))},Zp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},nr("SymbolBuffers",Zp);var ih=function(n,o,u){this.layoutVertexArray=new n,this.layoutAttributes=o,this.indexArray=new u,this.segments=new de,this.collisionVertexArray=new kt};ih.prototype.upload=function(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,hc.members,!0)},ih.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},nr("CollisionBuffers",ih);var Wn=function(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(C){return C.id}),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Aa([]),this.placementViewportMatrix=Aa([]);var o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=wu(this.zoom,o["text-size"]),this.iconSizeData=wu(this.zoom,o["icon-size"]);var u=this.layers[0].layout,g=u.get("symbol-sort-key"),b=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(function(C){return Os[C]})),this.stateDependentLayerIds=this.layers.filter(function(C){return C.isStateDependent()}).map(function(C){return C.id}),this.sourceID=n.sourceID};Wn.prototype.createArrays=function(){this.text=new Zp(new Hn(this.layers,this.zoom,function(n){return/^text/.test(n)})),this.icon=new Zp(new Hn(this.layers,this.zoom,function(n){return/^icon/.test(n)})),this.glyphOffsetArray=new U,this.lineVertexArray=new q,this.symbolInstances=new D},Wn.prototype.calculateGlyphDependencies=function(n,o,u,g,b){for(var C=0;C<n.length;C++)if(o[n.charCodeAt(C)]=!0,(u||g)&&b){var T=sf[n.charAt(C)];T&&(o[T.charCodeAt(0)]=!0)}},Wn.prototype.populate=function(n,o,u){var g=this.layers[0],b=g.layout,C=b.get("text-font"),T=b.get("text-field"),F=b.get("icon-image"),j=(T.value.kind!=="constant"||T.value.value instanceof ao&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),Q=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,W=b.get("symbol-sort-key");if(this.features=[],j||Q){for(var X=o.iconDependencies,oe=o.glyphDependencies,pe=o.availableImages,Ee=new Gr(this.zoom),ke=0,Ve=n;ke<Ve.length;ke+=1){var Le=Ve[ke],tt=Le.feature,it=Le.id,ft=Le.index,pt=Le.sourceLayerIndex,Tt=g._featureFilter.needGeometry,jt=na(tt,Tt);if(g._featureFilter.filter(Ee,jt,u)){Tt||(jt.geometry=fi(tt));var Kt=void 0;if(j){var gr=g.getValueAndResolveTokens("text-field",jt,u,pe),er=ao.factory(gr);ov(er)&&(this.hasRTLText=!0),(!this.hasRTLText||fs()==="unavailable"||this.hasRTLText&&tn.isParsed())&&(Kt=sm(er,g,jt))}var Cr=void 0;if(Q){var rr=g.getValueAndResolveTokens("icon-image",jt,u,pe);Cr=rr instanceof Wo?rr:Wo.fromString(rr)}if(Kt||Cr){var Wr=this.sortFeaturesByKey?W.evaluate(jt,{},u):void 0;if(this.features.push({id:it,text:Kt,icon:Cr,index:ft,sourceLayerIndex:pt,geometry:jt.geometry,properties:tt.properties,type:Su[tt.type],sortKey:Wr}),Cr&&(X[Cr.name]=!0),Kt){var Ir=C.evaluate(jt,{},u).join(","),yr=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Os.vertical)>=0;for(var rn=0,Vr=Kt.sections;rn<Vr.length;rn+=1){var vn=Vr[rn];if(vn.image)X[vn.image.name]=!0;else{var kr=sc(Kt.toString()),On=vn.fontStack||Ir,ui=oe[On]=oe[On]||{};this.calculateGlyphDependencies(vn.text,ui,yr,this.allowVerticalPlacement,kr)}}}}}}b.get("symbol-placement")==="line"&&(this.features=function(_i){var Oi={},xi={},Ci=[],xo=0;function Oo(Tn){Ci.push(_i[Tn]),xo++}function Ea(Tn,lo,da){var ln=xi[Tn];return delete xi[Tn],xi[lo]=ln,Ci[ln].geometry[0].pop(),Ci[ln].geometry[0]=Ci[ln].geometry[0].concat(da[0]),ln}function jo(Tn,lo,da){var ln=Oi[lo];return delete Oi[lo],Oi[Tn]=ln,Ci[ln].geometry[0].shift(),Ci[ln].geometry[0]=da[0].concat(Ci[ln].geometry[0]),ln}function ka(Tn,lo,da){var ln=da?lo[0][lo[0].length-1]:lo[0][0];return Tn+":"+ln.x+":"+ln.y}for(var Ji=0;Ji<_i.length;Ji++){var $o=_i[Ji],un=$o.geometry,ni=$o.text?$o.text.toString():null;if(ni){var qn=ka(ni,un),Cn=ka(ni,un,!0);if(qn in xi&&Cn in Oi&&xi[qn]!==Oi[Cn]){var Da=jo(qn,Cn,un),ha=Ea(qn,Cn,Ci[Da].geometry);delete Oi[qn],delete xi[Cn],xi[ka(ni,Ci[ha].geometry,!0)]=ha,Ci[Da].geometry=null}else qn in xi?Ea(qn,Cn,un):Cn in Oi?jo(qn,Cn,un):(Oo(Ji),Oi[qn]=xo-1,xi[Cn]=xo-1)}else Oo(Ji)}return Ci.filter(function(Tn){return Tn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,Oi){return _i.sortKey-Oi.sortKey})}},Wn.prototype.update=function(n,o,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,o,this.layers,u),this.icon.programConfigurations.updatePaintArrays(n,o,this.layers,u))},Wn.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Wn.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Wn.prototype.upload=function(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Wn.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Wn.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Wn.prototype.addToLineVertexArray=function(n,o){var u=this.lineVertexArray.length;if(n.segment!==void 0){for(var g=n.dist(o[n.segment+1]),b=n.dist(o[n.segment]),C={},T=n.segment+1;T<o.length;T++)C[T]={x:o[T].x,y:o[T].y,tileUnitDistanceFromAnchor:g},T<o.length-1&&(g+=o[T+1].dist(o[T]));for(var F=n.segment||0;F>=0;F--)C[F]={x:o[F].x,y:o[F].y,tileUnitDistanceFromAnchor:b},F>0&&(b+=o[F-1].dist(o[F]));for(var j=0;j<o.length;j++){var Q=C[j];this.lineVertexArray.emplaceBack(Q.x,Q.y,Q.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},Wn.prototype.addSymbols=function(n,o,u,g,b,C,T,F,j,Q,W,X){for(var oe=n.indexArray,pe=n.layoutVertexArray,Ee=n.segments.prepareSegment(4*o.length,pe,oe,this.canOverlap?C.sortKey:void 0),ke=this.glyphOffsetArray.length,Ve=Ee.vertexLength,Le=this.allowVerticalPlacement&&T===Os.vertical?Math.PI/2:0,tt=C.text&&C.text.sections,it=0;it<o.length;it++){var ft=o[it],pt=ft.tl,Tt=ft.tr,jt=ft.bl,Kt=ft.br,gr=ft.tex,er=ft.pixelOffsetTL,Cr=ft.pixelOffsetBR,rr=ft.minFontScaleX,Wr=ft.minFontScaleY,Ir=ft.glyphOffset,yr=ft.isSDF,rn=ft.sectionIndex,Vr=Ee.vertexLength,vn=Ir[1];dd(pe,F.x,F.y,pt.x,vn+pt.y,gr.x,gr.y,u,yr,er.x,er.y,rr,Wr),dd(pe,F.x,F.y,Tt.x,vn+Tt.y,gr.x+gr.w,gr.y,u,yr,Cr.x,er.y,rr,Wr),dd(pe,F.x,F.y,jt.x,vn+jt.y,gr.x,gr.y+gr.h,u,yr,er.x,Cr.y,rr,Wr),dd(pe,F.x,F.y,Kt.x,vn+Kt.y,gr.x+gr.w,gr.y+gr.h,u,yr,Cr.x,Cr.y,rr,Wr),pm(n.dynamicLayoutVertexArray,F,Le),oe.emplaceBack(Vr,Vr+1,Vr+2),oe.emplaceBack(Vr+1,Vr+2,Vr+3),Ee.vertexLength+=4,Ee.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ir[0]),it!==o.length-1&&rn===o[it+1].sectionIndex||n.programConfigurations.populatePaintArrays(pe.length,C,C.index,{},X,tt&&tt[rn])}n.placedSymbolArray.emplaceBack(F.x,F.y,ke,this.glyphOffsetArray.length-ke,Ve,j,Q,F.segment,u?u[0]:0,u?u[1]:0,g[0],g[1],T,0,!1,0,W)},Wn.prototype._addCollisionDebugVertex=function(n,o,u,g,b,C){return o.emplaceBack(0,0),n.emplaceBack(u.x,u.y,g,b,Math.round(C.x),Math.round(C.y))},Wn.prototype.addCollisionDebugVertices=function(n,o,u,g,b,C,T){var F=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),j=F.vertexLength,Q=b.layoutVertexArray,W=b.collisionVertexArray,X=T.anchorX,oe=T.anchorY;this._addCollisionDebugVertex(Q,W,C,X,oe,new R(n,o)),this._addCollisionDebugVertex(Q,W,C,X,oe,new R(u,o)),this._addCollisionDebugVertex(Q,W,C,X,oe,new R(u,g)),this._addCollisionDebugVertex(Q,W,C,X,oe,new R(n,g)),F.vertexLength+=4;var pe=b.indexArray;pe.emplaceBack(j,j+1),pe.emplaceBack(j+1,j+2),pe.emplaceBack(j+2,j+3),pe.emplaceBack(j+3,j),F.primitiveLength+=4},Wn.prototype.addDebugCollisionBoxes=function(n,o,u,g){for(var b=n;b<o;b++){var C=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(C.x1,C.y1,C.x2,C.y2,g?this.textCollisionBox:this.iconCollisionBox,C.anchorPoint,u)}},Wn.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ih(ot,ud.members,xr),this.iconCollisionBox=new ih(ot,ud.members,xr);for(var n=0;n<this.symbolInstances.length;n++){var o=this.symbolInstances.get(n);this.addDebugCollisionBoxes(o.textBoxStartIndex,o.textBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o,!0),this.addDebugCollisionBoxes(o.iconBoxStartIndex,o.iconBoxEndIndex,o,!1),this.addDebugCollisionBoxes(o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o,!1)}},Wn.prototype._deserializeCollisionBoxesForSymbol=function(n,o,u,g,b,C,T,F,j){for(var Q={},W=o;W<u;W++){var X=n.get(W);Q.textBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},Q.textFeatureIndex=X.featureIndex;break}for(var oe=g;oe<b;oe++){var pe=n.get(oe);Q.verticalTextBox={x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,anchorPointX:pe.anchorPointX,anchorPointY:pe.anchorPointY},Q.verticalTextFeatureIndex=pe.featureIndex;break}for(var Ee=C;Ee<T;Ee++){var ke=n.get(Ee);Q.iconBox={x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,anchorPointX:ke.anchorPointX,anchorPointY:ke.anchorPointY},Q.iconFeatureIndex=ke.featureIndex;break}for(var Ve=F;Ve<j;Ve++){var Le=n.get(Ve);Q.verticalIconBox={x1:Le.x1,y1:Le.y1,x2:Le.x2,y2:Le.y2,anchorPointX:Le.anchorPointX,anchorPointY:Le.anchorPointY},Q.verticalIconFeatureIndex=Le.featureIndex;break}return Q},Wn.prototype.deserializeCollisionBoxes=function(n){this.collisionArrays=[];for(var o=0;o<this.symbolInstances.length;o++){var u=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},Wn.prototype.hasTextData=function(){return this.text.segments.get().length>0},Wn.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Wn.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Wn.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Wn.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Wn.prototype.addIndicesForPlacedSymbol=function(n,o){for(var u=n.placedSymbolArray.get(o),g=u.vertexStartIndex+4*u.numGlyphs,b=u.vertexStartIndex;b<g;b+=4)n.indexArray.emplaceBack(b,b+1,b+2),n.indexArray.emplaceBack(b+1,b+2,b+3)},Wn.prototype.getSortedSymbolIndexes=function(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var o=Math.sin(n),u=Math.cos(n),g=[],b=[],C=[],T=0;T<this.symbolInstances.length;++T){C.push(T);var F=this.symbolInstances.get(T);g.push(0|Math.round(o*F.anchorX+u*F.anchorY)),b.push(F.featureIndex)}return C.sort(function(j,Q){return g[j]-g[Q]||b[Q]-b[j]}),C},Wn.prototype.addToSortKeyRanges=function(n,o){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===o?u.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:n+1})},Wn.prototype.sortFeatures=function(n){var o=this;if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,g=this.symbolInstanceIndexes;u<g.length;u+=1){var b=this.symbolInstances.get(g[u]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(C,T,F){C>=0&&F.indexOf(C)===T&&o.addIndicesForPlacedSymbol(o.text,C)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},nr("SymbolBucket",Wn,{omit:["layers","collisionBoxArray","features","compareText"]}),Wn.MAX_GLYPHS=65535,Wn.addDynamicAttributes=pm;var Xx=new No({"symbol-placement":new Qt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new dt(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Qt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new dt(xe.layout_symbol["icon-size"]),"icon-text-fit":new Qt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new dt(xe.layout_symbol["icon-image"]),"icon-rotate":new dt(xe.layout_symbol["icon-rotate"]),"icon-padding":new Qt(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new dt(xe.layout_symbol["icon-offset"]),"icon-anchor":new dt(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new dt(xe.layout_symbol["text-field"]),"text-font":new dt(xe.layout_symbol["text-font"]),"text-size":new dt(xe.layout_symbol["text-size"]),"text-max-width":new dt(xe.layout_symbol["text-max-width"]),"text-line-height":new Qt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new dt(xe.layout_symbol["text-letter-spacing"]),"text-justify":new dt(xe.layout_symbol["text-justify"]),"text-radial-offset":new dt(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new dt(xe.layout_symbol["text-anchor"]),"text-max-angle":new Qt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new dt(xe.layout_symbol["text-rotate"]),"text-padding":new Qt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Qt(xe.layout_symbol["text-keep-upright"]),"text-transform":new dt(xe.layout_symbol["text-transform"]),"text-offset":new dt(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Qt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(xe.layout_symbol["text-optional"])}),oh={paint:new No({"icon-opacity":new dt(xe.paint_symbol["icon-opacity"]),"icon-color":new dt(xe.paint_symbol["icon-color"]),"icon-halo-color":new dt(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new dt(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new dt(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new dt(xe.paint_symbol["text-opacity"]),"text-color":new dt(xe.paint_symbol["text-color"],{runtimeType:pr,getOverride:function(n){return n.textColor},hasOverride:function(n){return!!n.textColor}}),"text-halo-color":new dt(xe.paint_symbol["text-halo-color"]),"text-halo-width":new dt(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new dt(xe.paint_symbol["text-halo-blur"]),"text-translate":new Qt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(xe.paint_symbol["text-translate-anchor"])}),layout:Xx},Kp=function(n){this.type=n.property.overrides?n.property.overrides.runtimeType:$t,this.defaultValue=n};Kp.prototype.evaluate=function(n){if(n.formattedSection){var o=this.defaultValue.property.overrides;if(o&&o.hasOverride(n.formattedSection))return o.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default},Kp.prototype.eachChild=function(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)},Kp.prototype.outputDefined=function(){return!1},Kp.prototype.serialize=function(){return null},nr("FormatSectionOverride",Kp,{omit:["defaultValue"]});var Yx=function(n){function o(u){n.call(this,u,oh)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.recalculate=function(u,g){if(n.prototype.recalculate.call(this,u,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var b=this.layout.get("text-writing-mode");if(b){for(var C=[],T=0,F=b;T<F.length;T+=1){var j=F[T];C.indexOf(j)<0&&C.push(j)}this.layout._values["text-writing-mode"]=C}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},o.prototype.getValueAndResolveTokens=function(u,g,b,C){var T=this.layout.get(u).evaluate(g,{},b,C),F=this._unevaluatedLayout._values[u];return F.isDataDriven()||Ui(F.value)||!T?T:function(j,Q){return Q.replace(/{([^{}]+)}/g,function(W,X){return X in j?String(j[X]):""})}(g.properties,T)},o.prototype.createBucket=function(u){return new Wn(u)},o.prototype.queryRadius=function(){return 0},o.prototype.queryIntersectsFeature=function(){return!1},o.prototype._setPaintOverrides=function(){for(var u=0,g=oh.paint.overridableProperties;u<g.length;u+=1){var b=g[u];if(o.hasPaintOverride(this.layout,b)){var C,T=this.paint.get(b),F=new Kp(T),j=new Ao(F,T.property.specification);C=T.value.kind==="constant"||T.value.kind==="source"?new nc("source",j):new dl("composite",j,T.value.zoomStops,T.value._interpolationType),this.paint._values[b]=new ta(T.property,C,T.parameters)}}},o.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!(!this.layout||g.isDataDriven()||b.isDataDriven())&&o.hasPaintOverride(this.layout,u)},o.hasPaintOverride=function(u,g){var b=u.get("text-field"),C=oh.paint.properties[g],T=!1,F=function(W){for(var X=0,oe=W;X<oe.length;X+=1)if(C.overrides&&C.overrides.hasOverride(oe[X]))return void(T=!0)};if(b.value.kind==="constant"&&b.value.value instanceof ao)F(b.value.value.sections);else if(b.value.kind==="source"){var j=function(W){T||(W instanceof la&&so(W.value)===Xr?F(W.value.sections):W instanceof Zo?F(W.sections):W.eachChild(j))},Q=b.value;Q._styleExpression&&j(Q._styleExpression.expression)}return T},o}($i),Jx={paint:new No({"background-color":new Qt(xe.paint_background["background-color"]),"background-pattern":new Io(xe.paint_background["background-pattern"]),"background-opacity":new Qt(xe.paint_background["background-opacity"])})},eb=function(n){function o(u){n.call(this,u,Jx)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}($i),tb={paint:new No({"raster-opacity":new Qt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Qt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Qt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(xe.paint_raster["raster-fade-duration"])})},rb=function(n){function o(u){n.call(this,u,tb)}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o}($i),nb=function(n){function o(u){n.call(this,u,{}),this.implementation=u}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o,o.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},o.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},o.prototype.recalculate=function(){},o.prototype.updateTransitions=function(){},o.prototype.hasTransition=function(){},o.prototype.serialize=function(){},o.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},o.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},o}($i),ib={circle:Uf,heatmap:Cy,hillshade:Ex,fill:wl,"fill-extrusion":tm,line:Rx,symbol:Yx,background:eb,raster:rb},av=N.HTMLImageElement,sv=N.HTMLCanvasElement,uv=N.HTMLVideoElement,lv=N.ImageData,md=N.ImageBitmap,Zf=function(n,o,u,g){this.context=n,this.format=u,this.texture=n.gl.createTexture(),this.update(o,g)};Zf.prototype.update=function(n,o,u){var g=n.width,b=n.height,C=!(this.size&&this.size[0]===g&&this.size[1]===b||u),T=this.context,F=T.gl;if(this.useMipmap=Boolean(o&&o.useMipmap),F.bindTexture(F.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===F.RGBA&&(!o||o.premultiply!==!1)),C)this.size=[g,b],n instanceof av||n instanceof sv||n instanceof uv||n instanceof lv||md&&n instanceof md?F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,F.UNSIGNED_BYTE,n):F.texImage2D(F.TEXTURE_2D,0,this.format,g,b,0,this.format,F.UNSIGNED_BYTE,n.data);else{var j=u||{x:0,y:0},Q=j.x,W=j.y;n instanceof av||n instanceof sv||n instanceof uv||n instanceof lv||md&&n instanceof md?F.texSubImage2D(F.TEXTURE_2D,0,Q,W,F.RGBA,F.UNSIGNED_BYTE,n):F.texSubImage2D(F.TEXTURE_2D,0,Q,W,g,b,F.RGBA,F.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&F.generateMipmap(F.TEXTURE_2D)},Zf.prototype.bind=function(n,o,u){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),u!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=g.LINEAR),n!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,u||n),this.filter=n),o!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,o),this.wrap=o)},Zf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Zf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Am=function(n){var o=this;this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){o._triggered=!1,o._callback()})};Am.prototype.trigger=function(){var n=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){n._triggered=!1,n._callback()},0))},Am.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Xp=function(n,o,u){this.target=n,this.parent=o,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Se(["receive","process"],this),this.invoker=new Am(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=fr()?n:N};function cv(n,o,u){var g=2*Math.PI*6378137/256/Math.pow(2,u);return[n*g-2*Math.PI*6378137/2,o*g-2*Math.PI*6378137/2]}Xp.prototype.send=function(n,o,u,g,b){var C=this;b===void 0&&(b=!1);var T=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[T]=u);var F=Ue(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:n,hasCallback:!!u,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:Bo(o,F)},F),{cancel:function(){u&&delete C.callbacks[T],C.target.postMessage({id:T,type:"<cancel>",targetMapId:g,sourceMapId:C.mapId})}}},Xp.prototype.receive=function(n){var o=n.data,u=o.id;if(u&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){delete this.tasks[u];var g=this.cancelCallbacks[u];delete this.cancelCallbacks[u],g&&g()}else fr()||o.mustQueue?(this.tasks[u]=o,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,o)},Xp.prototype.process=function(){if(this.taskQueue.length){var n=this.taskQueue.shift(),o=this.tasks[n];delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),o&&this.processTask(n,o)}},Xp.prototype.processTask=function(n,o){var u=this;if(o.type==="<response>"){var g=this.callbacks[n];delete this.callbacks[n],g&&(o.error?g(vl(o.error)):g(null,vl(o.data)))}else{var b=!1,C=Ue(this.globalScope)?void 0:[],T=o.hasCallback?function(W,X){b=!0,delete u.cancelCallbacks[n],u.target.postMessage({id:n,type:"<response>",sourceMapId:u.mapId,error:W?Bo(W):null,data:Bo(X,C)},C)}:function(W){b=!0},F=null,j=vl(o.data);if(this.parent[o.type])F=this.parent[o.type](o.sourceMapId,j,T);else if(this.parent.getWorkerSource){var Q=o.type.split(".");F=this.parent.getWorkerSource(o.sourceMapId,Q[0],j.source)[Q[1]](j,T)}else T(new Error("Could not find function "+o.type));!b&&F&&F.cancel&&(this.cancelCallbacks[n]=F.cancel)}},Xp.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var vo=function(n,o){n&&(o?this.setSouthWest(n).setNorthEast(o):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))};vo.prototype.setNorthEast=function(n){return this._ne=n instanceof vi?new vi(n.lng,n.lat):vi.convert(n),this},vo.prototype.setSouthWest=function(n){return this._sw=n instanceof vi?new vi(n.lng,n.lat):vi.convert(n),this},vo.prototype.extend=function(n){var o,u,g=this._sw,b=this._ne;if(n instanceof vi)o=n,u=n;else{if(!(n instanceof vo))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(vo.convert(n)):this.extend(vi.convert(n)):this;if(u=n._ne,!(o=n._sw)||!u)return this}return g||b?(g.lng=Math.min(o.lng,g.lng),g.lat=Math.min(o.lat,g.lat),b.lng=Math.max(u.lng,b.lng),b.lat=Math.max(u.lat,b.lat)):(this._sw=new vi(o.lng,o.lat),this._ne=new vi(u.lng,u.lat)),this},vo.prototype.getCenter=function(){return new vi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},vo.prototype.getSouthWest=function(){return this._sw},vo.prototype.getNorthEast=function(){return this._ne},vo.prototype.getNorthWest=function(){return new vi(this.getWest(),this.getNorth())},vo.prototype.getSouthEast=function(){return new vi(this.getEast(),this.getSouth())},vo.prototype.getWest=function(){return this._sw.lng},vo.prototype.getSouth=function(){return this._sw.lat},vo.prototype.getEast=function(){return this._ne.lng},vo.prototype.getNorth=function(){return this._ne.lat},vo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},vo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},vo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},vo.prototype.contains=function(n){var o=vi.convert(n),u=o.lng,g=o.lat,b=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&b},vo.convert=function(n){return!n||n instanceof vo?n:new vo(n)};var vi=function(n,o){if(isNaN(n)||isNaN(o))throw new Error("Invalid LngLat object: ("+n+", "+o+")");if(this.lng=+n,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vi.prototype.wrap=function(){return new vi(V(this.lng,-180,180),this.lat)},vi.prototype.toArray=function(){return[this.lng,this.lat]},vi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vi.prototype.distanceTo=function(n){var o=Math.PI/180,u=this.lat*o,g=n.lat*o,b=Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos((n.lng-this.lng)*o);return 63710088e-1*Math.acos(Math.min(b,1))},vi.prototype.toBounds=function(n){n===void 0&&(n=0);var o=360*n/40075017,u=o/Math.cos(Math.PI/180*this.lat);return new vo(new vi(this.lng-u,this.lat-o),new vi(this.lng+u,this.lat+o))},vi.convert=function(n){if(n instanceof vi)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new vi(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new vi(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var fv=2*Math.PI*63710088e-1;function gd(n){return fv*Math.cos(n*Math.PI/180)}function hm(n){return(180+n)/360}function pv(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Av(n,o){return n/gd(o)}function dm(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}var Kf=function(n,o,u){u===void 0&&(u=0),this.x=+n,this.y=+o,this.z=+u};Kf.fromLngLat=function(n,o){o===void 0&&(o=0);var u=vi.convert(n);return new Kf(hm(u.lng),pv(u.lat),Av(o,u.lat))},Kf.prototype.toLngLat=function(){return new vi(360*this.x-180,dm(this.y))},Kf.prototype.toAltitude=function(){return this.z*gd(dm(this.y))},Kf.prototype.meterInMercatorCoordinateUnits=function(){return 1/fv*(n=dm(this.y),1/Math.cos(n*Math.PI/180));var n};var Xf=function(n,o,u){this.z=n,this.x=o,this.y=u,this.key=ah(0,n,n,o,u)};Xf.prototype.equals=function(n){return this.z===n.z&&this.x===n.x&&this.y===n.y},Xf.prototype.url=function(n,o){var u,g,b,C,T,F=(g=this.y,b=this.z,C=cv(256*(u=this.x),256*(g=Math.pow(2,b)-g-1),b),T=cv(256*(u+1),256*(g+1),b),C[0]+","+C[1]+","+T[0]+","+T[1]),j=function(Q,W,X){for(var oe,pe="",Ee=Q;Ee>0;Ee--)pe+=(W&(oe=1<<Ee-1)?1:0)+(X&oe?2:0);return pe}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",j).replace("{bbox-epsg-3857}",F)},Xf.prototype.getTilePoint=function(n){var o=Math.pow(2,this.z);return new R(8192*(n.x*o-this.x),8192*(n.y*o-this.y))},Xf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var hv=function(n,o){this.wrap=n,this.canonical=o,this.key=ah(n,o.z,o.z,o.x,o.y)},_o=function(n,o,u,g,b){this.overscaledZ=n,this.wrap=o,this.canonical=new Xf(u,+g,+b),this.key=ah(o,n,u,g,b)};function ah(n,o,u,g,b){(n*=2)<0&&(n=-1*n-1);var C=1<<u;return(C*C*n+C*b+g).toString(36)+u.toString(36)+o.toString(36)}_o.prototype.equals=function(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)},_o.prototype.scaledTo=function(n){var o=this.canonical.z-n;return n>this.canonical.z?new _o(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _o(n,this.wrap,n,this.canonical.x>>o,this.canonical.y>>o)},_o.prototype.calculateScaledKey=function(n,o){var u=this.canonical.z-n;return n>this.canonical.z?ah(this.wrap*+o,n,this.canonical.z,this.canonical.x,this.canonical.y):ah(this.wrap*+o,n,n,this.canonical.x>>u,this.canonical.y>>u)},_o.prototype.isChildOf=function(n){if(n.wrap!==this.wrap)return!1;var o=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>o&&n.canonical.y===this.canonical.y>>o},_o.prototype.children=function(n){if(this.overscaledZ>=n)return[new _o(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var o=this.canonical.z+1,u=2*this.canonical.x,g=2*this.canonical.y;return[new _o(o,this.wrap,o,u,g),new _o(o,this.wrap,o,u+1,g),new _o(o,this.wrap,o,u,g+1),new _o(o,this.wrap,o,u+1,g+1)]},_o.prototype.isLessThan=function(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))},_o.prototype.wrapped=function(){return new _o(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.unwrapTo=function(n){return new _o(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},_o.prototype.toUnwrapped=function(){return new hv(this.wrap,this.canonical)},_o.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},_o.prototype.getTilePoint=function(n){return this.canonical.getTilePoint(new Kf(n.x-this.wrap,n.y))},nr("CanonicalTileID",Xf),nr("OverscaledTileID",_o,{omit:["posMatrix"]});var Cl=function(n,o,u){if(this.uid=n,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return wt('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=o.height;var g=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=u||"mapbox";for(var b=0;b<g;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(g,b)]=this.data[this._idx(g-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,g)]=this.data[this._idx(b,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};Cl.prototype.get=function(n,o){var u=new Uint8Array(this.data.buffer),g=4*this._idx(n,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(u[g],u[g+1],u[g+2])},Cl.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Cl.prototype._idx=function(n,o){if(n<-1||n>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(n+1)},Cl.prototype._unpackMapbox=function(n,o,u){return(256*n*256+256*o+u)/10-1e4},Cl.prototype._unpackTerrarium=function(n,o,u){return 256*n+o+u/256-32768},Cl.prototype.getPixels=function(){return new La({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Cl.prototype.backfillBorder=function(n,o,u){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");var g=o*this.dim,b=o*this.dim+this.dim,C=u*this.dim,T=u*this.dim+this.dim;switch(o){case-1:g=b-1;break;case 1:b=g+1}switch(u){case-1:C=T-1;break;case 1:T=C+1}for(var F=-o*this.dim,j=-u*this.dim,Q=C;Q<T;Q++)for(var W=g;W<b;W++)this.data[this._idx(W,Q)]=n.data[this._idx(W+F,Q+j)]},nr("DEMData",Cl);var yd=function(n){this._stringToNumber={},this._numberToString=[];for(var o=0;o<n.length;o++){var u=n[o];this._stringToNumber[u]=o,this._numberToString[o]=u}};yd.prototype.encode=function(n){return this._stringToNumber[n]},yd.prototype.decode=function(n){return this._numberToString[n]};var Yf=function(n,o,u,g,b){this.type="Feature",this._vectorTileFeature=n,n._z=o,n._x=u,n._y=g,this.properties=n.properties,this.id=b},mm={geometry:{configurable:!0}};mm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},mm.geometry.set=function(n){this._geometry=n},Yf.prototype.toJSON=function(){var n={geometry:this.geometry};for(var o in this)o!=="_geometry"&&o!=="_vectorTileFeature"&&(n[o]=this[o]);return n},Object.defineProperties(Yf.prototype,mm);var Yp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yp.prototype.updateState=function(n,o,u){var g=String(o);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][g]=this.stateChanges[n][g]||{},K(this.stateChanges[n][g],u),this.deletedStates[n]===null)for(var b in this.deletedStates[n]={},this.state[n])b!==g&&(this.deletedStates[n][b]=null);else if(this.deletedStates[n]&&this.deletedStates[n][g]===null)for(var C in this.deletedStates[n][g]={},this.state[n][g])u[C]||(this.deletedStates[n][g][C]=null);else for(var T in u)this.deletedStates[n]&&this.deletedStates[n][g]&&this.deletedStates[n][g][T]===null&&delete this.deletedStates[n][g][T]},Yp.prototype.removeFeatureState=function(n,o,u){if(this.deletedStates[n]!==null){var g=String(o);if(this.deletedStates[n]=this.deletedStates[n]||{},u&&o!==void 0)this.deletedStates[n][g]!==null&&(this.deletedStates[n][g]=this.deletedStates[n][g]||{},this.deletedStates[n][g][u]=null);else if(o!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][g])for(u in this.deletedStates[n][g]={},this.stateChanges[n][g])this.deletedStates[n][g][u]=null;else this.deletedStates[n][g]=null;else this.deletedStates[n]=null}},Yp.prototype.getState=function(n,o){var u=String(o),g=K({},(this.state[n]||{})[u],(this.stateChanges[n]||{})[u]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){var b=this.deletedStates[n][o];if(b===null)return{};for(var C in b)delete g[C]}return g},Yp.prototype.initializeTileState=function(n,o){n.setFeatureState(this.state,o)},Yp.prototype.coalesceChanges=function(n,o){var u={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var b={};for(var C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),K(this.state[g][C],this.stateChanges[g][C]),b[C]=this.state[g][C];u[g]=b}for(var T in this.deletedStates){this.state[T]=this.state[T]||{};var F={};if(this.deletedStates[T]===null)for(var j in this.state[T])F[j]={},this.state[T][j]={};else for(var Q in this.deletedStates[T]){if(this.deletedStates[T][Q]===null)this.state[T][Q]={};else for(var W=0,X=Object.keys(this.deletedStates[T][Q]);W<X.length;W+=1)delete this.state[T][Q][X[W]];F[Q]=this.state[T][Q]}u[T]=u[T]||{},K(u[T],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(var oe in n)n[oe].setFeatureState(u,o)};var mc=function(n,o){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Po(8192,16,0),this.grid3D=new Po(8192,16,0),this.featureIndexArray=new he,this.promoteId=o};function dv(n,o,u,g,b){return qe(n,function(C,T){var F=o instanceof qa?o.get(T):null;return F&&F.evaluate?F.evaluate(u,g,b):F})}function mv(n){for(var o=1/0,u=1/0,g=-1/0,b=-1/0,C=0,T=n;C<T.length;C+=1){var F=T[C];o=Math.min(o,F.x),u=Math.min(u,F.y),g=Math.max(g,F.x),b=Math.max(b,F.y)}return{minX:o,minY:u,maxX:g,maxY:b}}function ob(n,o){return o-n}mc.prototype.insert=function(n,o,u,g,b,C){var T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,g,b);for(var F=C?this.grid3D:this.grid,j=0;j<o.length;j++){for(var Q=o[j],W=[1/0,1/0,-1/0,-1/0],X=0;X<Q.length;X++){var oe=Q[X];W[0]=Math.min(W[0],oe.x),W[1]=Math.min(W[1],oe.y),W[2]=Math.max(W[2],oe.x),W[3]=Math.max(W[3],oe.y)}W[0]<8192&&W[1]<8192&&W[2]>=0&&W[3]>=0&&F.insert(T,W[0],W[1],W[2],W[3])}},mc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Sl.VectorTile(new qf(this.rawTileData)).layers,this.sourceLayerCoder=new yd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},mc.prototype.query=function(n,o,u,g){var b=this;this.loadVTLayers();for(var C=n.params||{},T=8192/n.tileSize/n.scale,F=us(C.filter),j=n.queryGeometry,Q=n.queryPadding*T,W=mv(j),X=this.grid.query(W.minX-Q,W.minY-Q,W.maxX+Q,W.maxY+Q),oe=mv(n.cameraQueryGeometry),pe=this.grid3D.query(oe.minX-Q,oe.minY-Q,oe.maxX+Q,oe.maxY+Q,function(ft,pt,Tt,jt){return function(Kt,gr,er,Cr,rr){for(var Wr=0,Ir=Kt;Wr<Ir.length;Wr+=1){var yr=Ir[Wr];if(gr<=yr.x&&er<=yr.y&&Cr>=yr.x&&rr>=yr.y)return!0}var rn=[new R(gr,er),new R(gr,rr),new R(Cr,rr),new R(Cr,er)];if(Kt.length>2){for(var Vr=0,vn=rn;Vr<vn.length;Vr+=1)if(Qa(Kt,vn[Vr]))return!0}for(var kr=0;kr<Kt.length-1;kr++)if(rf(Kt[kr],Kt[kr+1],rn))return!0;return!1}(n.cameraQueryGeometry,ft-Q,pt-Q,Tt+Q,jt+Q)}),Ee=0,ke=pe;Ee<ke.length;Ee+=1)X.push(ke[Ee]);X.sort(ob);for(var Ve,Le={},tt=function(ft){var pt=X[ft];if(pt!==Ve){Ve=pt;var Tt=b.featureIndexArray.get(pt),jt=null;b.loadMatchingFeature(Le,Tt.bucketIndex,Tt.sourceLayerIndex,Tt.featureIndex,F,C.layers,C.availableImages,o,u,g,function(Kt,gr,er){return jt||(jt=fi(Kt)),gr.queryIntersectsFeature(j,Kt,er,jt,b.z,n.transform,T,n.pixelPosMatrix)})}},it=0;it<X.length;it++)tt(it);return Le},mc.prototype.loadMatchingFeature=function(n,o,u,g,b,C,T,F,j,Q,W){var X=this.bucketLayerIDs[o];if(!C||function(Kt,gr){for(var er=0;er<Kt.length;er++)if(gr.indexOf(Kt[er])>=0)return!0;return!1}(C,X)){var oe=this.sourceLayerCoder.decode(u),pe=this.vtLayers[oe].feature(g);if(b.needGeometry){var Ee=na(pe,!0);if(!b.filter(new Gr(this.tileID.overscaledZ),Ee,this.tileID.canonical))return}else if(!b.filter(new Gr(this.tileID.overscaledZ),pe))return;for(var ke=this.getId(pe,oe),Ve=0;Ve<X.length;Ve++){var Le=X[Ve];if(!(C&&C.indexOf(Le)<0)){var tt=F[Le];if(tt){var it={};ke!==void 0&&Q&&(it=Q.getState(tt.sourceLayer||"_geojsonTileLayer",ke));var ft=K({},j[Le]);ft.paint=dv(ft.paint,tt.paint,pe,it,T),ft.layout=dv(ft.layout,tt.layout,pe,it,T);var pt=!W||W(pe,tt,it);if(pt){var Tt=new Yf(pe,this.z,this.x,this.y,ke);Tt.layer=ft;var jt=n[Le];jt===void 0&&(jt=n[Le]=[]),jt.push({featureIndex:g,feature:Tt,intersectionZ:pt})}}}}}},mc.prototype.lookupSymbolFeatures=function(n,o,u,g,b,C,T,F){var j={};this.loadVTLayers();for(var Q=us(b),W=0,X=n;W<X.length;W+=1)this.loadMatchingFeature(j,u,g,X[W],Q,C,T,F,o);return j},mc.prototype.hasLayer=function(n){for(var o=0,u=this.bucketLayerIDs;o<u.length;o+=1)for(var g=0,b=u[o];g<b.length;g+=1)if(n===b[g])return!0;return!1},mc.prototype.getId=function(n,o){var u=n.id;return this.promoteId&&typeof(u=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[o]])=="boolean"&&(u=Number(u)),u},nr("FeatureIndex",mc,{omit:["rawTileData","sourceLayerCoder"]});var Uo=function(n,o){this.tileID=n,this.uid=me(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Uo.prototype.registerFadeDuration=function(n){var o=n+this.timeAdded;o<Ur.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)},Uo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Uo.prototype.loadVectorData=function(n,o,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",n){for(var g in n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(Q,W){var X={};if(!W)return X;for(var oe=function(){var ke=Ee[pe],Ve=ke.layerIds.map(function(it){return W.getLayer(it)}).filter(Boolean);if(Ve.length!==0){ke.layers=Ve,ke.stateDependentLayerIds&&(ke.stateDependentLayers=ke.stateDependentLayerIds.map(function(it){return Ve.filter(function(ft){return ft.id===it})[0]}));for(var Le=0,tt=Ve;Le<tt.length;Le+=1)X[tt[Le].id]=ke}},pe=0,Ee=Q;pe<Ee.length;pe+=1)oe();return X}(n.buckets,o.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[g];if(b instanceof Wn){if(this.hasSymbolBuckets=!0,!u)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var C in this.buckets){var T=this.buckets[C];if(T instanceof Wn&&T.hasRTLText){this.hasRTLText=!0,tn.isLoading()||tn.isLoaded()||fs()!=="deferred"||Bp();break}}for(var F in this.queryPadding=0,this.buckets){var j=this.buckets[F];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(F).queryRadius(j))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage)}else this.collisionBoxArray=new f},Uo.prototype.unloadVectorData=function(){for(var n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Uo.prototype.getBucket=function(n){return this.buckets[n.id]},Uo.prototype.upload=function(n){for(var o in this.buckets){var u=this.buckets[o];u.uploadPending()&&u.upload(n)}var g=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Zf(n,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Zf(n,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},Uo.prototype.prepare=function(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)},Uo.prototype.queryRenderedFeatures=function(n,o,u,g,b,C,T,F,j,Q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:C,tileSize:this.tileSize,pixelPosMatrix:Q,transform:F,params:T,queryPadding:this.queryPadding*j},n,o,u):{}},Uo.prototype.querySourceFeatures=function(n,o){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var g=u.loadVTLayers(),b=o?o.sourceLayer:"",C=g._geojsonTileLayer||g[b];if(C)for(var T=us(o&&o.filter),F=this.tileID.canonical,j=F.z,Q=F.x,W=F.y,X={z:j,x:Q,y:W},oe=0;oe<C.length;oe++){var pe=C.feature(oe);if(T.needGeometry){var Ee=na(pe,!0);if(!T.filter(new Gr(this.tileID.overscaledZ),Ee,this.tileID.canonical))continue}else if(!T.filter(new Gr(this.tileID.overscaledZ),pe))continue;var ke=u.getId(pe,b),Ve=new Yf(pe,j,Q,W,ke);Ve.tile=X,n.push(Ve)}}},Uo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Uo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Uo.prototype.setExpiryData=function(n){var o=this.expirationTime;if(n.cacheControl){var u=Rt(n.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){var g=Date.now(),b=!1;if(this.expirationTime>g)b=!1;else if(o)if(this.expirationTime<o)b=!0;else{var C=this.expirationTime-o;C?this.expirationTime=g+Math.max(C,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Uo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Uo.prototype.setFeatureState=function(n,o){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(n).length!==0){var u=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(o.style.hasLayer(g)){var b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",T=u[C],F=n[C];if(T&&F&&Object.keys(F).length!==0){b.update(F,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});var j=o&&o.style&&o.style.getLayer(g);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(b)))}}}},Uo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Uo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ur.now()},Uo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Uo.prototype.setHoldDuration=function(n){this.symbolFadeHoldUntil=Ur.now()+n},Uo.prototype.setDependencies=function(n,o){for(var u={},g=0,b=o;g<b.length;g+=1)u[b[g]]=!0;this.dependencies[n]=u},Uo.prototype.hasDependency=function(n,o){for(var u=0,g=n;u<g.length;u+=1){var b=this.dependencies[g[u]];if(b){for(var C=0,T=o;C<T.length;C+=1)if(b[T[C]])return!0}}return!1};var pf=N.performance,gv=function(n){this._marks={start:[n.url,"start"].join("#"),end:[n.url,"end"].join("#"),measure:n.url.toString()},pf.mark(this._marks.start)};gv.prototype.finish=function(){pf.mark(this._marks.end);var n=pf.getEntriesByName(this._marks.measure);return n.length===0&&(pf.measure(this._marks.measure,this._marks.start,this._marks.end),n=pf.getEntriesByName(this._marks.measure),pf.clearMarks(this._marks.start),pf.clearMarks(this._marks.end),pf.clearMeasures(this._marks.measure)),n},a.Actor=Xp,a.AlphaImage=$f,a.CanonicalTileID=Xf,a.CollisionBoxArray=f,a.Color=br,a.DEMData=Cl,a.DataConstantProperty=Qt,a.DictionaryCoder=yd,a.EXTENT=8192,a.ErrorEvent=He,a.EvaluationParameters=Gr,a.Event=Ne,a.Evented=ze,a.FeatureIndex=mc,a.FillBucket=xu,a.FillExtrusionBucket=Is,a.ImageAtlas=Gp,a.ImagePosition=cf,a.LineBucket=Sa,a.LngLat=vi,a.LngLatBounds=vo,a.MercatorCoordinate=Kf,a.ONE_EM=24,a.OverscaledTileID=_o,a.Point=R,a.Point$1=R,a.Properties=No,a.Protobuf=qf,a.RGBAImage=La,a.RequestManager=gi,a.RequestPerformance=gv,a.ResourceType=hn,a.SegmentVector=de,a.SourceFeatureState=Yp,a.StructArrayLayout1ui2=Zt,a.StructArrayLayout2f1f2i16=bt,a.StructArrayLayout2i4=_,a.StructArrayLayout3ui6=Ut,a.StructArrayLayout4i8=k,a.SymbolBucket=Wn,a.Texture=Zf,a.Tile=Uo,a.Transitionable=Fr,a.Uniform1f=Bt,a.Uniform1i=Nt,a.Uniform2f=Jt,a.Uniform3f=mr,a.Uniform4f=Tr,a.UniformColor=Er,a.UniformMatrix4f=cr,a.UnwrappedTileID=hv,a.ValidationError=re,a.WritingMode=Os,a.ZoomHistory=Jo,a.add=function(n,o,u){return n[0]=o[0]+u[0],n[1]=o[1]+u[1],n[2]=o[2]+u[2],n},a.addDynamicAttributes=pm,a.asyncAll=function(n,o,u){if(!n.length)return u(null,[]);var g=n.length,b=new Array(n.length),C=null;n.forEach(function(T,F){o(T,function(j,Q){j&&(C=j),b[F]=Q,--g==0&&u(C,b)})})},a.bezier=Z,a.bindAll=Se,a.browser=Ur,a.cacheEntryPossiblyAdded=function(n){++$n>Hr&&(n.getActor().send("enforceCacheSizeLimit",ar),$n=0)},a.clamp=ae,a.clearTileCache=function(n){var o=N.caches.delete("mapbox-tiles");n&&o.catch(n).then(function(){return n()})},a.clipLine=Jy,a.clone=function(n){var o=new qi(16);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},a.clone$1=rt,a.clone$2=function(n){var o=new qi(3);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o},a.collisionCircleLayout=am,a.config=Dr,a.create=function(){var n=new qi(16);return qi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},a.create$1=function(){var n=new qi(9);return qi!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},a.create$2=function(){var n=new qi(4);return qi!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n},a.createCommonjsModule=x,a.createExpression=Zc,a.createLayout=m,a.createStyleLayer=function(n){return n.type==="custom"?new nb(n):new ib[n.type](n)},a.cross=function(n,o,u){var g=o[0],b=o[1],C=o[2],T=u[0],F=u[1],j=u[2];return n[0]=b*j-C*F,n[1]=C*T-g*j,n[2]=g*F-b*T,n},a.deepEqual=function n(o,u){if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var g=0;g<o.length;g++)if(!n(o[g],u[g]))return!1;return!0}if(typeof o=="object"&&o!==null&&u!==null){if(typeof u!="object"||Object.keys(o).length!==Object.keys(u).length)return!1;for(var b in o)if(!n(o[b],u[b]))return!1;return!0}return o===u},a.dot=function(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2]},a.dot$1=function(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2]+n[3]*o[3]},a.ease=J,a.emitValidationErrors=ac,a.endsWith=Ce,a.enforceCacheSizeLimit=function(n){In(),bi&&bi.then(function(o){o.keys().then(function(u){for(var g=0;g<u.length-n;g++)o.delete(u[g])})})},a.evaluateSizeForFeature=ff,a.evaluateSizeForZoom=Qy,a.evaluateVariableOffset=rv,a.evented=ef,a.extend=K,a.featureFilter=us,a.filterObject=lt,a.fromRotation=function(n,o){var u=Math.sin(o),g=Math.cos(o);return n[0]=g,n[1]=u,n[2]=0,n[3]=-u,n[4]=g,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},a.getAnchorAlignment=pd,a.getAnchorJustification=fm,a.getArrayBuffer=zn,a.getImage=fe,a.getJSON=function(n,o){return Ei(K(n,{type:"json"}),o)},a.getRTLTextPluginStatus=fs,a.getReferrer=Jn,a.getVideo=function(n,o){var u,g,b=N.document.createElement("video");b.muted=!0,b.onloadstart=function(){o(null,b)};for(var C=0;C<n.length;C++){var T=N.document.createElement("source");u=n[C],g=void 0,(g=N.document.createElement("a")).href=u,(g.protocol!==N.document.location.protocol||g.host!==N.document.location.host)&&(b.crossOrigin="Anonymous"),T.src=n[C],b.appendChild(T)}return{cancel:function(){}}},a.identity=Aa,a.invert=function(n,o){var u=o[0],g=o[1],b=o[2],C=o[3],T=o[4],F=o[5],j=o[6],Q=o[7],W=o[8],X=o[9],oe=o[10],pe=o[11],Ee=o[12],ke=o[13],Ve=o[14],Le=o[15],tt=u*F-g*T,it=u*j-b*T,ft=u*Q-C*T,pt=g*j-b*F,Tt=g*Q-C*F,jt=b*Q-C*j,Kt=W*ke-X*Ee,gr=W*Ve-oe*Ee,er=W*Le-pe*Ee,Cr=X*Ve-oe*ke,rr=X*Le-pe*ke,Wr=oe*Le-pe*Ve,Ir=tt*Wr-it*rr+ft*Cr+pt*er-Tt*gr+jt*Kt;return Ir?(n[0]=(F*Wr-j*rr+Q*Cr)*(Ir=1/Ir),n[1]=(b*rr-g*Wr-C*Cr)*Ir,n[2]=(ke*jt-Ve*Tt+Le*pt)*Ir,n[3]=(oe*Tt-X*jt-pe*pt)*Ir,n[4]=(j*er-T*Wr-Q*gr)*Ir,n[5]=(u*Wr-b*er+C*gr)*Ir,n[6]=(Ve*ft-Ee*jt-Le*it)*Ir,n[7]=(W*jt-oe*ft+pe*it)*Ir,n[8]=(T*rr-F*er+Q*Kt)*Ir,n[9]=(g*er-u*rr-C*Kt)*Ir,n[10]=(Ee*Tt-ke*ft+Le*tt)*Ir,n[11]=(X*ft-W*Tt-pe*tt)*Ir,n[12]=(F*gr-T*Cr-j*Kt)*Ir,n[13]=(u*Cr-g*gr+b*Kt)*Ir,n[14]=(ke*it-Ee*pt-Ve*tt)*Ir,n[15]=(W*pt-X*it+oe*tt)*Ir,n):null},a.isChar=sr,a.isMapboxURL=Qo,a.keysDifference=function(n,o){var u=[];for(var g in n)g in o||u.push(g);return u},a.makeRequest=Ei,a.mapObject=qe,a.mercatorXfromLng=hm,a.mercatorYfromLat=pv,a.mercatorZfromAltitude=Av,a.mul=QA,a.multiply=lc,a.mvt=Sl,a.nextPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},a.normalize=function(n,o){var u=o[0],g=o[1],b=o[2],C=u*u+g*g+b*b;return C>0&&(C=1/Math.sqrt(C)),n[0]=o[0]*C,n[1]=o[1]*C,n[2]=o[2]*C,n},a.number=kn,a.offscreenCanvasSupported=Yn,a.ortho=function(n,o,u,g,b,C,T){var F=1/(o-u),j=1/(g-b),Q=1/(C-T);return n[0]=-2*F,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*j,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*Q,n[11]=0,n[12]=(o+u)*F,n[13]=(b+g)*j,n[14]=(T+C)*Q,n[15]=1,n},a.parseGlyphPBF=function(n){return new qf(n).readFields($x,[])},a.pbf=qf,a.performSymbolLayout=function(n,o,u,g,b,C,T){n.createArrays(),n.tilePixelRatio=8192/(512*n.overscaling),n.compareText={},n.iconsNeedLinear=!1;var F=n.layers[0].layout,j=n.layers[0]._unevaluatedLayout._values,Q={};if(n.textSizeData.kind==="composite"){var W=n.textSizeData,X=W.maxZoom;Q.compositeTextSizes=[j["text-size"].possiblyEvaluate(new Gr(W.minZoom),T),j["text-size"].possiblyEvaluate(new Gr(X),T)]}if(n.iconSizeData.kind==="composite"){var oe=n.iconSizeData,pe=oe.maxZoom;Q.compositeIconSizes=[j["icon-size"].possiblyEvaluate(new Gr(oe.minZoom),T),j["icon-size"].possiblyEvaluate(new Gr(pe),T)]}Q.layoutTextSize=j["text-size"].possiblyEvaluate(new Gr(n.zoom+1),T),Q.layoutIconSize=j["icon-size"].possiblyEvaluate(new Gr(n.zoom+1),T),Q.textMaxSize=j["text-size"].possiblyEvaluate(new Gr(18));for(var Ee=24*F.get("text-line-height"),ke=F.get("text-rotation-alignment")==="map"&&F.get("symbol-placement")!=="point",Ve=F.get("text-keep-upright"),Le=F.get("text-size"),tt=function(){var pt=ft[it],Tt=F.get("text-font").evaluate(pt,{},T).join(","),jt=Le.evaluate(pt,{},T),Kt=Q.layoutTextSize.evaluate(pt,{},T),gr=Q.layoutIconSize.evaluate(pt,{},T),er={horizontal:{},vertical:void 0},Cr=pt.text,rr=[0,0];if(Cr){var Wr=Cr.toString(),Ir=24*F.get("text-letter-spacing").evaluate(pt,{},T),yr=function(un){for(var ni=0,qn=un;ni<qn.length;ni+=1)if(Cn=qn[ni].charCodeAt(0),sr.Arabic(Cn)||sr["Arabic Supplement"](Cn)||sr["Arabic Extended-A"](Cn)||sr["Arabic Presentation Forms-A"](Cn)||sr["Arabic Presentation Forms-B"](Cn))return!1;var Cn;return!0}(Wr)?Ir:0,rn=F.get("text-anchor").evaluate(pt,{},T),Vr=F.get("text-variable-anchor");if(!Vr){var vn=F.get("text-radial-offset").evaluate(pt,{},T);rr=vn?rv(rn,[24*vn,cm]):F.get("text-offset").evaluate(pt,{},T).map(function(un){return 24*un})}var kr=ke?"center":F.get("text-justify").evaluate(pt,{},T),On=F.get("symbol-placement"),ui=On==="point"?24*F.get("text-max-width").evaluate(pt,{},T):0,_i=function(){n.allowVerticalPlacement&&sc(Wr)&&(er.vertical=cd(Cr,o,u,b,Tt,ui,Ee,rn,"left",yr,rr,Os.vertical,!0,On,Kt,jt))};if(!ke&&Vr){for(var Oi=kr==="auto"?Vr.map(function(un){return fm(un)}):[kr],xi=!1,Ci=0;Ci<Oi.length;Ci++){var xo=Oi[Ci];if(!er.horizontal[xo])if(xi)er.horizontal[xo]=er.horizontal[0];else{var Oo=cd(Cr,o,u,b,Tt,ui,Ee,"center",xo,yr,rr,Os.horizontal,!1,On,Kt,jt);Oo&&(er.horizontal[xo]=Oo,xi=Oo.positionedLines.length===1)}}_i()}else{kr==="auto"&&(kr=fm(rn));var Ea=cd(Cr,o,u,b,Tt,ui,Ee,rn,kr,yr,rr,Os.horizontal,!1,On,Kt,jt);Ea&&(er.horizontal[kr]=Ea),_i(),sc(Wr)&&ke&&Ve&&(er.vertical=cd(Cr,o,u,b,Tt,ui,Ee,rn,kr,yr,rr,Os.vertical,!1,On,Kt,jt))}}var jo=void 0,ka=!1;if(pt.icon&&pt.icon.name){var Ji=g[pt.icon.name];Ji&&(jo=function(un,ni,qn){var Cn=pd(qn),Da=ni[0]-un.displaySize[0]*Cn.horizontalAlign,ha=ni[1]-un.displaySize[1]*Cn.verticalAlign;return{image:un,top:ha,bottom:ha+un.displaySize[1],left:Da,right:Da+un.displaySize[0]}}(b[pt.icon.name],F.get("icon-offset").evaluate(pt,{},T),F.get("icon-anchor").evaluate(pt,{},T)),ka=Ji.sdf,n.sdfIcons===void 0?n.sdfIcons=Ji.sdf:n.sdfIcons!==Ji.sdf&&wt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ji.pixelRatio!==n.pixelRatio||F.get("icon-rotate").constantOr(1)!==0)&&(n.iconsNeedLinear=!0))}var $o=iv(er.horizontal)||er.vertical;n.iconsInText=!!$o&&$o.iconsInText,($o||jo)&&function(un,ni,qn,Cn,Da,ha,Tn,lo,da,ln,Zr){var Ms=ha.textMaxSize.evaluate(ni,{});Ms===void 0&&(Ms=Tn);var bo,cn=un.layers[0].layout,El=cn.get("icon-offset").evaluate(ni,{},Zr),ma=iv(qn.horizontal),Jp=Tn/24,Jf=un.tilePixelRatio*Jp,eA=un.tilePixelRatio*Ms/24,gc=un.tilePixelRatio*lo,tA=un.tilePixelRatio*cn.get("symbol-spacing"),rA=cn.get("text-padding")*un.tilePixelRatio,nA=cn.get("icon-padding")*un.tilePixelRatio,Js=cn.get("text-max-angle")/180*Math.PI,sh=cn.get("text-rotation-alignment")==="map"&&cn.get("symbol-placement")!=="point",ep=cn.get("icon-rotation-alignment")==="map"&&cn.get("symbol-placement")!=="point",pi=cn.get("symbol-placement"),Qi=tA/2,tp=cn.get("icon-text-fit");Cn&&tp!=="none"&&(un.allowVerticalPlacement&&qn.vertical&&(bo=th(Cn,qn.vertical,tp,cn.get("icon-text-fit-padding"),El,Jp)),ma&&(Cn=th(Cn,ma,tp,cn.get("icon-text-fit-padding"),El,Jp)));var Af=function(Cu,aA){aA.x<0||aA.x>=8192||aA.y<0||aA.y>=8192||function(eo,Pn,ab,_c,sA,yv,bd,kl,wd,dh,Sd,Cd,vm,vv,mh,_v,xv,bv,Ed,wv,Xa,kd,Sv,Tl,Ta){var hs,ip,uA,lA,op,cA=eo.addToLineVertexArray(Pn,ab),Cv=0,Ev=0,_m=0,kv=0,xm=-1,bm=-1,Pl={},wm=Fe(""),Sm=0,Cm=0;if(kl._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Sm=(hs=kl.layout.get("text-offset").evaluate(Xa,{},Tl).map(function(vh){return 24*vh}))[0],Cm=hs[1]):(Sm=24*kl.layout.get("text-radial-offset").evaluate(Xa,{},Tl),Cm=cm),eo.allowVerticalPlacement&&_c.vertical){var Tv=kl.layout.get("text-rotate").evaluate(Xa,{},Tl)+90;lA=new nh(wd,Pn,dh,Sd,Cd,_c.vertical,vm,vv,mh,Tv),bd&&(op=new nh(wd,Pn,dh,Sd,Cd,bd,xv,bv,mh,Tv))}if(sA){var Em=kl.layout.get("icon-rotate").evaluate(Xa,{}),ap=kl.layout.get("icon-text-fit")!=="none",Pv=ev(sA,Em,Sv,ap),km=bd?ev(bd,Em,Sv,ap):void 0;uA=new nh(wd,Pn,dh,Sd,Cd,sA,xv,bv,!1,Em),Cv=4*Pv.length;var Iv=eo.iconSizeData,gh=null;Iv.kind==="source"?(gh=[128*kl.layout.get("icon-size").evaluate(Xa,{})])[0]>32640&&wt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Iv.kind==="composite"&&((gh=[128*kd.compositeIconSizes[0].evaluate(Xa,{},Tl),128*kd.compositeIconSizes[1].evaluate(Xa,{},Tl)])[0]>32640||gh[1]>32640)&&wt(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),eo.addSymbols(eo.icon,Pv,gh,wv,Ed,Xa,!1,Pn,cA.lineStartIndex,cA.lineLength,-1,Tl),xm=eo.icon.placedSymbolArray.length-1,km&&(Ev=4*km.length,eo.addSymbols(eo.icon,km,gh,wv,Ed,Xa,Os.vertical,Pn,cA.lineStartIndex,cA.lineLength,-1,Tl),bm=eo.icon.placedSymbolArray.length-1)}for(var Ov in _c.horizontal){var yh=_c.horizontal[Ov];if(!ip){wm=Fe(yh.text);var Mv=kl.layout.get("text-rotate").evaluate(Xa,{},Tl);ip=new nh(wd,Pn,dh,Sd,Cd,yh,vm,vv,mh,Mv)}var Rv=yh.positionedLines.length===1;if(_m+=nv(eo,Pn,yh,yv,kl,mh,Xa,_v,cA,_c.vertical?Os.horizontal:Os.horizontalOnly,Rv?Object.keys(_c.horizontal):[Ov],Pl,xm,kd,Tl),Rv)break}_c.vertical&&(kv+=nv(eo,Pn,_c.vertical,yv,kl,mh,Xa,_v,cA,Os.vertical,["vertical"],Pl,bm,kd,Tl));var sb=ip?ip.boxStartIndex:eo.collisionBoxArray.length,ub=ip?ip.boxEndIndex:eo.collisionBoxArray.length,lb=lA?lA.boxStartIndex:eo.collisionBoxArray.length,cb=lA?lA.boxEndIndex:eo.collisionBoxArray.length,fb=uA?uA.boxStartIndex:eo.collisionBoxArray.length,pb=uA?uA.boxEndIndex:eo.collisionBoxArray.length,Ab=op?op.boxStartIndex:eo.collisionBoxArray.length,hb=op?op.boxEndIndex:eo.collisionBoxArray.length,Il=-1,Td=function(vh,Dv){return vh&&vh.circleDiameter?Math.max(vh.circleDiameter,Dv):Dv};Il=Td(ip,Il),Il=Td(lA,Il),Il=Td(uA,Il);var Lv=(Il=Td(op,Il))>-1?1:0;Lv&&(Il*=Ta/24),eo.glyphOffsetArray.length>=Wn.MAX_GLYPHS&&wt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&eo.addToSortKeyRanges(eo.symbolInstances.length,Xa.sortKey),eo.symbolInstances.emplaceBack(Pn.x,Pn.y,Pl.right>=0?Pl.right:-1,Pl.center>=0?Pl.center:-1,Pl.left>=0?Pl.left:-1,Pl.vertical||-1,xm,bm,wm,sb,ub,lb,cb,fb,pb,Ab,hb,dh,_m,kv,Cv,Ev,Lv,0,vm,Sm,Cm,Il)}(un,aA,Cu,qn,Cn,Da,bo,un.layers[0],un.collisionBoxArray,ni.index,ni.sourceLayerIndex,un.index,Jf,rA,sh,da,gc,nA,ep,El,ni,ha,ln,Zr,Tn)};if(pi==="line")for(var iA=0,vd=Jy(ni.geometry,0,0,8192,8192);iA<vd.length;iA+=1)for(var _d=vd[iA],uh=0,lh=qx(_d,tA,Js,qn.vertical||ma,Cn,24,eA,un.overscaling,8192);uh<lh.length;uh+=1){var ch=lh[uh];ma&&Zx(un,ma.text,Qi,ch)||Af(_d,ch)}else if(pi==="line-center")for(var yc=0,rp=ni.geometry;yc<rp.length;yc+=1){var fh=rp[yc];if(fh.length>1){var ph=Hx(fh,Js,qn.vertical||ma,Cn,24,eA);ph&&Af(fh,ph)}}else if(ni.type==="Polygon")for(var vc=0,Ka=Y0(ni.geometry,0);vc<Ka.length;vc+=1){var Hu=Ka[vc],Ah=Qx(Hu,16);Af(Hu[0],new Gf(Ah.x,Ah.y,0))}else if(ni.type==="LineString")for(var np=0,hh=ni.geometry;np<hh.length;np+=1){var oA=hh[np];Af(oA,new Gf(oA[0].x,oA[0].y,0))}else if(ni.type==="Point")for(var gm=0,ym=ni.geometry;gm<ym.length;gm+=1)for(var qu=0,_n=ym[gm];qu<_n.length;qu+=1){var xd=_n[qu];Af([xd],new Gf(xd.x,xd.y,0))}}(n,pt,er,jo,g,Q,Kt,gr,rr,ka,T)},it=0,ft=n.features;it<ft.length;it+=1)tt();C&&n.generateCollisionDebugBuffers()},a.perspective=function(n,o,u,g,b){var C,T=1/Math.tan(o/2);return n[0]=T/u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=T,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,b!=null&&b!==1/0?(n[10]=(b+g)*(C=1/(g-b)),n[14]=2*b*g*C):(n[10]=-1,n[14]=-2*g),n},a.pick=function(n,o){for(var u={},g=0;g<o.length;g++){var b=o[g];b in n&&(u[b]=n[b])}return u},a.plugin=tn,a.polygonIntersectsPolygon=wa,a.postMapLoadEvent=Et,a.postTurnstileEvent=be,a.potpack=Vy,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=nr,a.registerForPluginStateChange=function(n){return n({pluginStatus:go,pluginURL:Va}),ef.on("pluginStateChange",n),n},a.renderColorRamp=Yh,a.rotate=function(n,o,u){var g=o[0],b=o[1],C=o[2],T=o[3],F=Math.sin(u),j=Math.cos(u);return n[0]=g*j+C*F,n[1]=b*j+T*F,n[2]=g*-F+C*j,n[3]=b*-F+T*j,n},a.rotateX=function(n,o,u){var g=Math.sin(u),b=Math.cos(u),C=o[4],T=o[5],F=o[6],j=o[7],Q=o[8],W=o[9],X=o[10],oe=o[11];return o!==n&&(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[4]=C*b+Q*g,n[5]=T*b+W*g,n[6]=F*b+X*g,n[7]=j*b+oe*g,n[8]=Q*b-C*g,n[9]=W*b-T*g,n[10]=X*b-F*g,n[11]=oe*b-j*g,n},a.rotateZ=function(n,o,u){var g=Math.sin(u),b=Math.cos(u),C=o[0],T=o[1],F=o[2],j=o[3],Q=o[4],W=o[5],X=o[6],oe=o[7];return o!==n&&(n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[0]=C*b+Q*g,n[1]=T*b+W*g,n[2]=F*b+X*g,n[3]=j*b+oe*g,n[4]=Q*b-C*g,n[5]=W*b-T*g,n[6]=X*b-F*g,n[7]=oe*b-j*g,n},a.scale=function(n,o,u){var g=u[0],b=u[1],C=u[2];return n[0]=o[0]*g,n[1]=o[1]*g,n[2]=o[2]*g,n[3]=o[3]*g,n[4]=o[4]*b,n[5]=o[5]*b,n[6]=o[6]*b,n[7]=o[7]*b,n[8]=o[8]*C,n[9]=o[9]*C,n[10]=o[10]*C,n[11]=o[11]*C,n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n},a.scale$1=function(n,o,u){return n[0]=o[0]*u,n[1]=o[1]*u,n[2]=o[2]*u,n[3]=o[3]*u,n},a.scale$2=function(n,o,u){return n[0]=o[0]*u,n[1]=o[1]*u,n[2]=o[2]*u,n},a.setCacheLimits=function(n,o){ar=n,Hr=o},a.setRTLTextPlugin=function(n,o,u){if(u===void 0&&(u=!1),go==="deferred"||go==="loading"||go==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Va=Ur.resolveURL(n),go="deferred",Ff=o,Jc(),u||Bp()},a.sphericalToCartesian=function(n){var o=n[0],u=n[1],g=n[2];return u+=90,u*=Math.PI/180,g*=Math.PI/180,{x:o*Math.cos(u)*Math.sin(g),y:o*Math.sin(u)*Math.sin(g),z:o*Math.cos(g)}},a.sqrLen=function(n){var o=n[0],u=n[1];return o*o+u*u},a.styleSpec=xe,a.sub=function(n,o,u){return n[0]=o[0]-u[0],n[1]=o[1]-u[1],n[2]=o[2]-u[2],n},a.symbolSize=Wy,a.transformMat3=function(n,o,u){var g=o[0],b=o[1],C=o[2];return n[0]=g*u[0]+b*u[3]+C*u[6],n[1]=g*u[1]+b*u[4]+C*u[7],n[2]=g*u[2]+b*u[5]+C*u[8],n},a.transformMat4=Nf,a.translate=function(n,o,u){var g,b,C,T,F,j,Q,W,X,oe,pe,Ee,ke=u[0],Ve=u[1],Le=u[2];return o===n?(n[12]=o[0]*ke+o[4]*Ve+o[8]*Le+o[12],n[13]=o[1]*ke+o[5]*Ve+o[9]*Le+o[13],n[14]=o[2]*ke+o[6]*Ve+o[10]*Le+o[14],n[15]=o[3]*ke+o[7]*Ve+o[11]*Le+o[15]):(b=o[1],C=o[2],T=o[3],F=o[4],j=o[5],Q=o[6],W=o[7],X=o[8],oe=o[9],pe=o[10],Ee=o[11],n[0]=g=o[0],n[1]=b,n[2]=C,n[3]=T,n[4]=F,n[5]=j,n[6]=Q,n[7]=W,n[8]=X,n[9]=oe,n[10]=pe,n[11]=Ee,n[12]=g*ke+F*Ve+X*Le+o[12],n[13]=b*ke+j*Ve+oe*Le+o[13],n[14]=C*ke+Q*Ve+pe*Le+o[14],n[15]=T*ke+W*Ve+Ee*Le+o[15]),n},a.triggerPluginCompletionEvent=Vu,a.uniqueId=me,a.validateCustomStyleLayer=function(n){var o=[],u=n.id;return u===void 0&&o.push({message:"layers."+u+': missing required property "id"'}),n.render===void 0&&o.push({message:"layers."+u+': missing required method "render"'}),n.renderingMode&&n.renderingMode!=="2d"&&n.renderingMode!=="3d"&&o.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),o},a.validateLight=Xc,a.validateStyle=cs,a.values=function(n){var o=[];for(var u in n)o.push(n[u]);return o},a.vectorTile=Sl,a.version="1.15.3",a.warnOnce=wt,a.webpSupported=Xn,a.window=N,a.wrap=V}),l(["./shared"],function(a){function x(Y){var ne=typeof Y;if(ne==="number"||ne==="boolean"||ne==="string"||Y==null)return JSON.stringify(Y);if(Array.isArray(Y)){for(var fe="[",ve=0,Ie=Y;ve<Ie.length;ve+=1)fe+=x(Ie[ve])+",";return fe+"]"}for(var Ne=Object.keys(Y).sort(),He="{",ze=0;ze<Ne.length;ze++)He+=JSON.stringify(Ne[ze])+":"+x(Y[Ne[ze]])+",";return He+"}"}function S(Y){for(var ne="",fe=0,ve=a.refProperties;fe<ve.length;fe+=1)ne+="/"+x(Y[ve[fe]]);return ne}var P=function(Y){this.keyCache={},Y&&this.replace(Y)};P.prototype.replace=function(Y){this._layerConfigs={},this._layers={},this.update(Y,[])},P.prototype.update=function(Y,ne){for(var fe=this,ve=0,Ie=Y;ve<Ie.length;ve+=1){var Ne=Ie[ve];this._layerConfigs[Ne.id]=Ne;var He=this._layers[Ne.id]=a.createStyleLayer(Ne);He._featureFilter=a.featureFilter(He.filter),this.keyCache[Ne.id]&&delete this.keyCache[Ne.id]}for(var ze=0,xe=ne;ze<xe.length;ze+=1){var re=xe[ze];delete this.keyCache[re],delete this._layerConfigs[re],delete this._layers[re]}this.familiesBySource={};for(var $e=0,at=function(Ot,xt){for(var pr={},lr=0;lr<Ot.length;lr++){var Gt=xt&&xt[Ot[lr].id]||S(Ot[lr]);xt&&(xt[Ot[lr].id]=Gt);var An=pr[Gt];An||(An=pr[Gt]=[]),An.push(Ot[lr])}var Xr=[];for(var Ln in pr)Xr.push(pr[Ln]);return Xr}(a.values(this._layerConfigs),this.keyCache);$e<at.length;$e+=1){var Qe=at[$e].map(function(Ot){return fe._layers[Ot.id]}),h=Qe[0];if(h.visibility!=="none"){var ge=h.source||"",Lt=this.familiesBySource[ge];Lt||(Lt=this.familiesBySource[ge]={});var $t=h.sourceLayer||"_geojsonTileLayer",ct=Lt[$t];ct||(ct=Lt[$t]=[]),ct.push(Qe)}}};var R=function(Y){var ne={},fe=[];for(var ve in Y){var Ie=Y[ve],Ne=ne[ve]={};for(var He in Ie){var ze=Ie[+He];if(ze&&ze.bitmap.width!==0&&ze.bitmap.height!==0){var xe={x:0,y:0,w:ze.bitmap.width+2,h:ze.bitmap.height+2};fe.push(xe),Ne[He]={rect:xe,metrics:ze.metrics}}}}var re=a.potpack(fe),$e=new a.AlphaImage({width:re.w||1,height:re.h||1});for(var at in Y){var Qe=Y[at];for(var h in Qe){var ge=Qe[+h];if(ge&&ge.bitmap.width!==0&&ge.bitmap.height!==0){var Lt=ne[at][h].rect;a.AlphaImage.copy(ge.bitmap,$e,{x:0,y:0},{x:Lt.x+1,y:Lt.y+1},ge.bitmap)}}}this.image=$e,this.positions=ne};a.register("GlyphAtlas",R);var z=function(Y){this.tileID=new a.OverscaledTileID(Y.tileID.overscaledZ,Y.tileID.wrap,Y.tileID.canonical.z,Y.tileID.canonical.x,Y.tileID.canonical.y),this.uid=Y.uid,this.zoom=Y.zoom,this.pixelRatio=Y.pixelRatio,this.tileSize=Y.tileSize,this.source=Y.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Y.showCollisionBoxes,this.collectResourceTiming=!!Y.collectResourceTiming,this.returnDependencies=!!Y.returnDependencies,this.promoteId=Y.promoteId};function N(Y,ne,fe){for(var ve=new a.EvaluationParameters(ne),Ie=0,Ne=Y;Ie<Ne.length;Ie+=1)Ne[Ie].recalculate(ve,fe)}function $(Y,ne){var fe=a.getArrayBuffer(Y.request,function(ve,Ie,Ne,He){ve?ne(ve):Ie&&ne(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Ie)),rawData:Ie,cacheControl:Ne,expires:He})});return function(){fe.cancel(),ne()}}z.prototype.parse=function(Y,ne,fe,ve,Ie){var Ne=this;this.status="parsing",this.data=Y,this.collisionBoxArray=new a.CollisionBoxArray;var He=new a.DictionaryCoder(Object.keys(Y.layers).sort()),ze=new a.FeatureIndex(this.tileID,this.promoteId);ze.bucketLayerIDs=[];var xe,re,$e,at,Qe={},h={featureIndex:ze,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:fe},ge=ne.familiesBySource[this.source];for(var Lt in ge){var $t=Y.layers[Lt];if($t){$t.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Lt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var ct=He.encode(Lt),Ot=[],xt=0;xt<$t.length;xt++){var pr=$t.feature(xt),lr=ze.getId(pr,Lt);Ot.push({feature:pr,id:lr,index:xt,sourceLayerIndex:ct})}for(var Gt=0,An=ge[Lt];Gt<An.length;Gt+=1){var Xr=An[Gt],Ln=Xr[0];Ln.minzoom&&this.zoom<Math.floor(Ln.minzoom)||Ln.maxzoom&&this.zoom>=Ln.maxzoom||Ln.visibility!=="none"&&(N(Xr,this.zoom,fe),(Qe[Ln.id]=Ln.createBucket({index:ze.bucketLayerIDs.length,layers:Xr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ct,sourceID:this.source})).populate(Ot,h,this.tileID.canonical),ze.bucketLayerIDs.push(Xr.map(function(xn){return xn.id})))}}}var dn=a.mapObject(h.glyphDependencies,function(xn){return Object.keys(xn).map(Number)});Object.keys(dn).length?ve.send("getGlyphs",{uid:this.uid,stacks:dn},function(xn,Xt){xe||(xe=xn,re=Xt,hi.call(Ne))}):re={};var an=Object.keys(h.iconDependencies);an.length?ve.send("getImages",{icons:an,source:this.source,tileID:this.tileID,type:"icons"},function(xn,Xt){xe||(xe=xn,$e=Xt,hi.call(Ne))}):$e={};var gn=Object.keys(h.patternDependencies);function hi(){if(xe)return Ie(xe);if(re&&$e&&at){var xn=new R(re),Xt=new a.ImageAtlas($e,at);for(var Ge in Qe){var br=Qe[Ge];br instanceof a.SymbolBucket?(N(br.layers,this.zoom,fe),a.performSymbolLayout(br,re,xn.positions,$e,Xt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):br.hasPattern&&(br instanceof a.LineBucket||br instanceof a.FillBucket||br instanceof a.FillExtrusionBucket)&&(N(br.layers,this.zoom,fe),br.addFeatures(h,this.tileID.canonical,Xt.patternPositions))}this.status="done",Ie(null,{buckets:a.values(Qe).filter(function(uu){return!uu.isEmpty()}),featureIndex:ze,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,imageAtlas:Xt,glyphMap:this.returnDependencies?re:null,iconMap:this.returnDependencies?$e:null,glyphPositions:this.returnDependencies?xn.positions:null})}}gn.length?ve.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"patterns"},function(xn,Xt){xe||(xe=xn,at=Xt,hi.call(Ne))}):at={},hi.call(this)};var Z=function(Y,ne,fe,ve){this.actor=Y,this.layerIndex=ne,this.availableImages=fe,this.loadVectorData=ve||$,this.loading={},this.loaded={}};Z.prototype.loadTile=function(Y,ne){var fe=this,ve=Y.uid;this.loading||(this.loading={});var Ie=!!(Y&&Y.request&&Y.request.collectResourceTiming)&&new a.RequestPerformance(Y.request),Ne=this.loading[ve]=new z(Y);Ne.abort=this.loadVectorData(Y,function(He,ze){if(delete fe.loading[ve],He||!ze)return Ne.status="done",fe.loaded[ve]=Ne,ne(He);var xe=ze.rawData,re={};ze.expires&&(re.expires=ze.expires),ze.cacheControl&&(re.cacheControl=ze.cacheControl);var $e={};if(Ie){var at=Ie.finish();at&&($e.resourceTiming=JSON.parse(JSON.stringify(at)))}Ne.vectorTile=ze.vectorTile,Ne.parse(ze.vectorTile,fe.layerIndex,fe.availableImages,fe.actor,function(Qe,h){if(Qe||!h)return ne(Qe);ne(null,a.extend({rawTileData:xe.slice(0)},h,re,$e))}),fe.loaded=fe.loaded||{},fe.loaded[ve]=Ne})},Z.prototype.reloadTile=function(Y,ne){var fe=this,ve=this.loaded,Ie=Y.uid,Ne=this;if(ve&&ve[Ie]){var He=ve[Ie];He.showCollisionBoxes=Y.showCollisionBoxes;var ze=function(xe,re){var $e=He.reloadCallback;$e&&(delete He.reloadCallback,He.parse(He.vectorTile,Ne.layerIndex,fe.availableImages,Ne.actor,$e)),ne(xe,re)};He.status==="parsing"?He.reloadCallback=ze:He.status==="done"&&(He.vectorTile?He.parse(He.vectorTile,this.layerIndex,this.availableImages,this.actor,ze):ze())}},Z.prototype.abortTile=function(Y,ne){var fe=this.loading,ve=Y.uid;fe&&fe[ve]&&fe[ve].abort&&(fe[ve].abort(),delete fe[ve]),ne()},Z.prototype.removeTile=function(Y,ne){var fe=this.loaded,ve=Y.uid;fe&&fe[ve]&&delete fe[ve],ne()};var J=a.window.ImageBitmap,ae=function(){this.loaded={}};function V(Y,ne){if(Y.length!==0){K(Y[0],ne);for(var fe=1;fe<Y.length;fe++)K(Y[fe],!ne)}}function K(Y,ne){for(var fe=0,ve=0,Ie=Y.length,Ne=Ie-1;ve<Ie;Ne=ve++)fe+=(Y[ve][0]-Y[Ne][0])*(Y[Ne][1]+Y[ve][1]);fe>=0!=!!ne&&Y.reverse()}ae.prototype.loadTile=function(Y,ne){var fe=Y.uid,ve=Y.encoding,Ie=Y.rawImageData,Ne=J&&Ie instanceof J?this.getImageData(Ie):Ie,He=new a.DEMData(fe,Ne,ve);this.loaded=this.loaded||{},this.loaded[fe]=He,ne(null,He)},ae.prototype.getImageData=function(Y){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Y.width,Y.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Y.width,this.offscreenCanvas.height=Y.height,this.offscreenCanvasContext.drawImage(Y,0,0,Y.width,Y.height);var ne=this.offscreenCanvasContext.getImageData(-1,-1,Y.width+2,Y.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:ne.width,height:ne.height},ne.data)},ae.prototype.removeTile=function(Y){var ne=this.loaded,fe=Y.uid;ne&&ne[fe]&&delete ne[fe]};var se=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,me=function(Y){this._feature=Y,this.extent=a.EXTENT,this.type=Y.type,this.properties=Y.tags,"id"in Y&&!isNaN(Y.id)&&(this.id=parseInt(Y.id,10))};me.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Y=[],ne=0,fe=this._feature.geometry;ne<fe.length;ne+=1){var ve=fe[ne];Y.push([new a.Point$1(ve[0],ve[1])])}return Y}for(var Ie=[],Ne=0,He=this._feature.geometry;Ne<He.length;Ne+=1){for(var ze=[],xe=0,re=He[Ne];xe<re.length;xe+=1){var $e=re[xe];ze.push(new a.Point$1($e[0],$e[1]))}Ie.push(ze)}return Ie},me.prototype.toGeoJSON=function(Y,ne,fe){return se.call(this,Y,ne,fe)};var Ae=function(Y){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Y.length,this._features=Y};Ae.prototype.feature=function(Y){return new me(this._features[Y])};var ue=a.vectorTile.VectorTileFeature,Se=Ce;function Ce(Y,ne){this.options=ne||{},this.features=Y,this.length=Y.length}function qe(Y,ne){this.id=typeof Y.id=="number"?Y.id:void 0,this.type=Y.type,this.rawGeometry=Y.type===1?[Y.geometry]:Y.geometry,this.properties=Y.tags,this.extent=ne||4096}Ce.prototype.feature=function(Y){return new qe(this.features[Y],this.options.extent)},qe.prototype.loadGeometry=function(){var Y=this.rawGeometry;this.geometry=[];for(var ne=0;ne<Y.length;ne++){for(var fe=Y[ne],ve=[],Ie=0;Ie<fe.length;Ie++)ve.push(new a.Point$1(fe[Ie][0],fe[Ie][1]));this.geometry.push(ve)}return this.geometry},qe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Y=this.geometry,ne=1/0,fe=-1/0,ve=1/0,Ie=-1/0,Ne=0;Ne<Y.length;Ne++)for(var He=Y[Ne],ze=0;ze<He.length;ze++){var xe=He[ze];ne=Math.min(ne,xe.x),fe=Math.max(fe,xe.x),ve=Math.min(ve,xe.y),Ie=Math.max(Ie,xe.y)}return[ne,ve,fe,Ie]},qe.prototype.toGeoJSON=ue.prototype.toGeoJSON;var lt=st,rt=Se;function st(Y){var ne=new a.pbf;return function(fe,ve){for(var Ie in fe.layers)ve.writeMessage(3,wt,fe.layers[Ie])}(Y,ne),ne.finish()}function wt(Y,ne){var fe;ne.writeVarintField(15,Y.version||1),ne.writeStringField(1,Y.name||""),ne.writeVarintField(5,Y.extent||4096);var ve={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<Y.length;fe++)ve.feature=Y.feature(fe),ne.writeMessage(2,St,ve);var Ie=ve.keys;for(fe=0;fe<Ie.length;fe++)ne.writeStringField(3,Ie[fe]);var Ne=ve.values;for(fe=0;fe<Ne.length;fe++)ne.writeMessage(4,Ue,Ne[fe])}function St(Y,ne){var fe=Y.feature;fe.id!==void 0&&ne.writeVarintField(1,fe.id),ne.writeMessage(2,Wt,Y),ne.writeVarintField(3,fe.type),ne.writeMessage(4,et,fe)}function Wt(Y,ne){var fe=Y.feature,ve=Y.keys,Ie=Y.values,Ne=Y.keycache,He=Y.valuecache;for(var ze in fe.properties){var xe=Ne[ze];xe===void 0&&(ve.push(ze),Ne[ze]=xe=ve.length-1),ne.writeVarint(xe);var re=fe.properties[ze],$e=typeof re;$e!=="string"&&$e!=="boolean"&&$e!=="number"&&(re=JSON.stringify(re));var at=$e+":"+re,Qe=He[at];Qe===void 0&&(Ie.push(re),He[at]=Qe=Ie.length-1),ne.writeVarint(Qe)}}function fr(Y,ne){return(ne<<3)+(7&Y)}function Rt(Y){return Y<<1^Y>>31}function et(Y,ne){for(var fe=Y.loadGeometry(),ve=Y.type,Ie=0,Ne=0,He=fe.length,ze=0;ze<He;ze++){var xe=fe[ze],re=1;ve===1&&(re=xe.length),ne.writeVarint(fr(1,re));for(var $e=ve===3?xe.length-1:xe.length,at=0;at<$e;at++){at===1&&ve!==1&&ne.writeVarint(fr(2,$e-1));var Qe=xe[at].x-Ie,h=xe[at].y-Ne;ne.writeVarint(Rt(Qe)),ne.writeVarint(Rt(h)),Ie+=Qe,Ne+=h}ve===3&&ne.writeVarint(fr(7,1))}}function Ue(Y,ne){var fe=typeof Y;fe==="string"?ne.writeStringField(1,Y):fe==="boolean"?ne.writeBooleanField(7,Y):fe==="number"&&(Y%1!=0?ne.writeDoubleField(3,Y):Y<0?ne.writeSVarintField(6,Y):ne.writeVarintField(5,Y))}function Re(Y,ne,fe,ve){le(Y,fe,ve),le(ne,2*fe,2*ve),le(ne,2*fe+1,2*ve+1)}function le(Y,ne,fe){var ve=Y[ne];Y[ne]=Y[fe],Y[fe]=ve}function ye(Y,ne,fe,ve){var Ie=Y-fe,Ne=ne-ve;return Ie*Ie+Ne*Ne}lt.fromVectorTileJs=st,lt.fromGeojsonVt=function(Y,ne){ne=ne||{};var fe={};for(var ve in Y)fe[ve]=new Se(Y[ve].features,ne),fe[ve].name=ve,fe[ve].version=ne.version,fe[ve].extent=ne.extent;return st({layers:fe})},lt.GeoJSONWrapper=rt;var Mt=function(Y){return Y[0]},or=function(Y){return Y[1]},vr=function(Y,ne,fe,ve,Ie){ne===void 0&&(ne=Mt),fe===void 0&&(fe=or),ve===void 0&&(ve=64),Ie===void 0&&(Ie=Float64Array),this.nodeSize=ve,this.points=Y;for(var Ne=Y.length<65536?Uint16Array:Uint32Array,He=this.ids=new Ne(Y.length),ze=this.coords=new Ie(2*Y.length),xe=0;xe<Y.length;xe++)He[xe]=xe,ze[2*xe]=ne(Y[xe]),ze[2*xe+1]=fe(Y[xe]);(function re($e,at,Qe,h,ge,Lt){if(!(ge-h<=Qe)){var $t=h+ge>>1;(function ct(Ot,xt,pr,lr,Gt,An){for(;Gt>lr;){if(Gt-lr>600){var Xr=Gt-lr+1,Ln=pr-lr+1,dn=Math.log(Xr),an=.5*Math.exp(2*dn/3),gn=.5*Math.sqrt(dn*an*(Xr-an)/Xr)*(Ln-Xr/2<0?-1:1);ct(Ot,xt,pr,Math.max(lr,Math.floor(pr-Ln*an/Xr+gn)),Math.min(Gt,Math.floor(pr+(Xr-Ln)*an/Xr+gn)),An)}var hi=xt[2*pr+An],xn=lr,Xt=Gt;for(Re(Ot,xt,lr,pr),xt[2*Gt+An]>hi&&Re(Ot,xt,lr,Gt);xn<Xt;){for(Re(Ot,xt,xn,Xt),xn++,Xt--;xt[2*xn+An]<hi;)xn++;for(;xt[2*Xt+An]>hi;)Xt--}xt[2*lr+An]===hi?Re(Ot,xt,lr,Xt):Re(Ot,xt,++Xt,Gt),Xt<=pr&&(lr=Xt+1),pr<=Xt&&(Gt=Xt-1)}})($e,at,$t,h,ge,Lt%2),re($e,at,Qe,h,$t-1,Lt+1),re($e,at,Qe,$t+1,ge,Lt+1)}})(He,ze,ve,0,He.length-1,0)};vr.prototype.range=function(Y,ne,fe,ve){return function(Ie,Ne,He,ze,xe,re,$e){for(var at,Qe,h=[0,Ie.length-1,0],ge=[];h.length;){var Lt=h.pop(),$t=h.pop(),ct=h.pop();if($t-ct<=$e)for(var Ot=ct;Ot<=$t;Ot++)Qe=Ne[2*Ot+1],(at=Ne[2*Ot])>=He&&at<=xe&&Qe>=ze&&Qe<=re&&ge.push(Ie[Ot]);else{var xt=Math.floor((ct+$t)/2);Qe=Ne[2*xt+1],(at=Ne[2*xt])>=He&&at<=xe&&Qe>=ze&&Qe<=re&&ge.push(Ie[xt]);var pr=(Lt+1)%2;(Lt===0?He<=at:ze<=Qe)&&(h.push(ct),h.push(xt-1),h.push(pr)),(Lt===0?xe>=at:re>=Qe)&&(h.push(xt+1),h.push($t),h.push(pr))}}return ge}(this.ids,this.coords,Y,ne,fe,ve,this.nodeSize)},vr.prototype.within=function(Y,ne,fe){return function(ve,Ie,Ne,He,ze,xe){for(var re=[0,ve.length-1,0],$e=[],at=ze*ze;re.length;){var Qe=re.pop(),h=re.pop(),ge=re.pop();if(h-ge<=xe)for(var Lt=ge;Lt<=h;Lt++)ye(Ie[2*Lt],Ie[2*Lt+1],Ne,He)<=at&&$e.push(ve[Lt]);else{var $t=Math.floor((ge+h)/2),ct=Ie[2*$t],Ot=Ie[2*$t+1];ye(ct,Ot,Ne,He)<=at&&$e.push(ve[$t]);var xt=(Qe+1)%2;(Qe===0?Ne-ze<=ct:He-ze<=Ot)&&(re.push(ge),re.push($t-1),re.push(xt)),(Qe===0?Ne+ze>=ct:He+ze>=Ot)&&(re.push($t+1),re.push(h),re.push(xt))}}return $e}(this.ids,this.coords,Y,ne,fe,this.nodeSize)};var dr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Y){return Y}},Sr=function(Y){this.options=mi(Object.create(dr),Y),this.trees=new Array(this.options.maxZoom+1)};function Ur(Y,ne,fe,ve,Ie){return{x:Y,y:ne,zoom:1/0,id:fe,parentId:-1,numPoints:ve,properties:Ie}}function Dr(Y,ne){var fe=Y.geometry.coordinates,ve=fe[1];return{x:Fi(fe[0]),y:jr(ve),zoom:1/0,index:ne,parentId:-1}}function Xn(Y){return{type:"Feature",id:Y.id,properties:jn(Y),geometry:{type:"Point",coordinates:[(ve=Y.x,360*(ve-.5)),(ne=Y.y,fe=(180-360*ne)*Math.PI/180,360*Math.atan(Math.exp(fe))/Math.PI-90)]}};var ne,fe,ve}function jn(Y){var ne=Y.numPoints,fe=ne>=1e4?Math.round(ne/1e3)+"k":ne>=1e3?Math.round(ne/100)/10+"k":ne;return mi(mi({},Y.properties),{cluster:!0,cluster_id:Y.id,point_count:ne,point_count_abbreviated:fe})}function Fi(Y){return Y/360+.5}function jr(Y){var ne=Math.sin(Y*Math.PI/180),fe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return fe<0?0:fe>1?1:fe}function mi(Y,ne){for(var fe in ne)Y[fe]=ne[fe];return Y}function gi(Y){return Y.x}function Qo(Y){return Y.y}function Bi(Y,ne,fe,ve,Ie,Ne){var He=Ie-fe,ze=Ne-ve;if(He!==0||ze!==0){var xe=((Y-fe)*He+(ne-ve)*ze)/(He*He+ze*ze);xe>1?(fe=Ie,ve=Ne):xe>0&&(fe+=He*xe,ve+=ze*xe)}return(He=Y-fe)*He+(ze=ne-ve)*ze}function Wi(Y,ne,fe,ve){var Ie={id:Y===void 0?null:Y,type:ne,geometry:fe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ne){var He=Ne.geometry,ze=Ne.type;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")ws(Ne,He);else if(ze==="Polygon"||ze==="MultiLineString")for(var xe=0;xe<He.length;xe++)ws(Ne,He[xe]);else if(ze==="MultiPolygon")for(xe=0;xe<He.length;xe++)for(var re=0;re<He[xe].length;re++)ws(Ne,He[xe][re])}(Ie),Ie}function ws(Y,ne){for(var fe=0;fe<ne.length;fe+=3)Y.minX=Math.min(Y.minX,ne[fe]),Y.minY=Math.min(Y.minY,ne[fe+1]),Y.maxX=Math.max(Y.maxX,ne[fe]),Y.maxY=Math.max(Y.maxY,ne[fe+1])}function io(Y,ne,fe,ve){if(ne.geometry){var Ie=ne.geometry.coordinates,Ne=ne.geometry.type,He=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),ze=[],xe=ne.id;if(fe.promoteId?xe=ne.properties[fe.promoteId]:fe.generateId&&(xe=ve||0),Ne==="Point")Qn(Ie,ze);else if(Ne==="MultiPoint")for(var re=0;re<Ie.length;re++)Qn(Ie[re],ze);else if(Ne==="LineString")Lo(Ie,ze,He,!1);else if(Ne==="MultiLineString"){if(fe.lineMetrics){for(re=0;re<Ie.length;re++)Lo(Ie[re],ze=[],He,!1),Y.push(Wi(xe,"LineString",ze,ne.properties));return}oo(Ie,ze,He,!1)}else if(Ne==="Polygon")oo(Ie,ze,He,!0);else{if(Ne!=="MultiPolygon"){if(Ne==="GeometryCollection"){for(re=0;re<ne.geometry.geometries.length;re++)io(Y,{id:xe,geometry:ne.geometry.geometries[re],properties:ne.properties},fe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(re=0;re<Ie.length;re++){var $e=[];oo(Ie[re],$e,He,!0),ze.push($e)}}Y.push(Wi(xe,Ne,ze,ne.properties))}}function Qn(Y,ne){ne.push(bi(Y[0])),ne.push(Do(Y[1])),ne.push(0)}function Lo(Y,ne,fe,ve){for(var Ie,Ne,He=0,ze=0;ze<Y.length;ze++){var xe=bi(Y[ze][0]),re=Do(Y[ze][1]);ne.push(xe),ne.push(re),ne.push(0),ze>0&&(He+=ve?(Ie*re-xe*Ne)/2:Math.sqrt(Math.pow(xe-Ie,2)+Math.pow(re-Ne,2))),Ie=xe,Ne=re}var $e=ne.length-3;ne[2]=1,function at(Qe,h,ge,Lt){for(var $t,ct=Lt,Ot=ge-h>>1,xt=ge-h,pr=Qe[h],lr=Qe[h+1],Gt=Qe[ge],An=Qe[ge+1],Xr=h+3;Xr<ge;Xr+=3){var Ln=Bi(Qe[Xr],Qe[Xr+1],pr,lr,Gt,An);if(Ln>ct)$t=Xr,ct=Ln;else if(Ln===ct){var dn=Math.abs(Xr-Ot);dn<xt&&($t=Xr,xt=dn)}}ct>Lt&&($t-h>3&&at(Qe,h,$t,Lt),Qe[$t+2]=ct,ge-$t>3&&at(Qe,$t,ge,Lt))}(ne,0,$e,fe),ne[$e+2]=1,ne.size=Math.abs(He),ne.start=0,ne.end=ne.size}function oo(Y,ne,fe,ve){for(var Ie=0;Ie<Y.length;Ie++){var Ne=[];Lo(Y[Ie],Ne,fe,ve),ne.push(Ne)}}function bi(Y){return Y/360+.5}function Do(Y){var ne=Math.sin(Y*Math.PI/180),fe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return fe<0?0:fe>1?1:fe}function sa(Y,ne,fe,ve,Ie,Ne,He,ze){if(ve/=ne,Ne>=(fe/=ne)&&He<ve)return Y;if(He<fe||Ne>=ve)return null;for(var xe=[],re=0;re<Y.length;re++){var $e=Y[re],at=$e.geometry,Qe=$e.type,h=Ie===0?$e.minX:$e.minY,ge=Ie===0?$e.maxX:$e.maxY;if(h>=fe&&ge<ve)xe.push($e);else if(!(ge<fe||h>=ve)){var Lt=[];if(Qe==="Point"||Qe==="MultiPoint")yt(at,Lt,fe,ve,Ie);else if(Qe==="LineString")be(at,Lt,fe,ve,Ie,!1,ze.lineMetrics);else if(Qe==="MultiLineString")Et(at,Lt,fe,ve,Ie,!1);else if(Qe==="Polygon")Et(at,Lt,fe,ve,Ie,!0);else if(Qe==="MultiPolygon")for(var $t=0;$t<at.length;$t++){var ct=[];Et(at[$t],ct,fe,ve,Ie,!0),ct.length&&Lt.push(ct)}if(Lt.length){if(ze.lineMetrics&&Qe==="LineString"){for($t=0;$t<Lt.length;$t++)xe.push(Wi($e.id,Qe,Lt[$t],$e.tags));continue}Qe!=="LineString"&&Qe!=="MultiLineString"||(Lt.length===1?(Qe="LineString",Lt=Lt[0]):Qe="MultiLineString"),Qe!=="Point"&&Qe!=="MultiPoint"||(Qe=Lt.length===3?"Point":"MultiPoint"),xe.push(Wi($e.id,Qe,Lt,$e.tags))}}}return xe.length?xe:null}function yt(Y,ne,fe,ve,Ie){for(var Ne=0;Ne<Y.length;Ne+=3){var He=Y[Ne+Ie];He>=fe&&He<=ve&&(ne.push(Y[Ne]),ne.push(Y[Ne+1]),ne.push(Y[Ne+2]))}}function be(Y,ne,fe,ve,Ie,Ne,He){for(var ze,xe,re=Ye(Y),$e=Ie===0?Hr:In,at=Y.start,Qe=0;Qe<Y.length-3;Qe+=3){var h=Y[Qe],ge=Y[Qe+1],Lt=Y[Qe+2],$t=Y[Qe+3],ct=Y[Qe+4],Ot=Ie===0?h:ge,xt=Ie===0?$t:ct,pr=!1;He&&(ze=Math.sqrt(Math.pow(h-$t,2)+Math.pow(ge-ct,2))),Ot<fe?xt>fe&&(xe=$e(re,h,ge,$t,ct,fe),He&&(re.start=at+ze*xe)):Ot>ve?xt<ve&&(xe=$e(re,h,ge,$t,ct,ve),He&&(re.start=at+ze*xe)):ar(re,h,ge,Lt),xt<fe&&Ot>=fe&&(xe=$e(re,h,ge,$t,ct,fe),pr=!0),xt>ve&&Ot<=ve&&(xe=$e(re,h,ge,$t,ct,ve),pr=!0),!Ne&&pr&&(He&&(re.end=at+ze*xe),ne.push(re),re=Ye(Y)),He&&(at+=ze)}var lr=Y.length-3;h=Y[lr],ge=Y[lr+1],Lt=Y[lr+2],(Ot=Ie===0?h:ge)>=fe&&Ot<=ve&&ar(re,h,ge,Lt),lr=re.length-3,Ne&&lr>=3&&(re[lr]!==re[0]||re[lr+1]!==re[1])&&ar(re,re[0],re[1],re[2]),re.length&&ne.push(re)}function Ye(Y){var ne=[];return ne.size=Y.size,ne.start=Y.start,ne.end=Y.end,ne}function Et(Y,ne,fe,ve,Ie,Ne){for(var He=0;He<Y.length;He++)be(Y[He],ne,fe,ve,Ie,Ne,!1)}function ar(Y,ne,fe,ve){Y.push(ne),Y.push(fe),Y.push(ve)}function Hr(Y,ne,fe,ve,Ie,Ne){var He=(Ne-ne)/(ve-ne);return Y.push(Ne),Y.push(fe+(Ie-fe)*He),Y.push(1),He}function In(Y,ne,fe,ve,Ie,Ne){var He=(Ne-fe)/(Ie-fe);return Y.push(ne+(ve-ne)*He),Y.push(Ne),Y.push(1),He}function Or(Y,ne){for(var fe=[],ve=0;ve<Y.length;ve++){var Ie,Ne=Y[ve],He=Ne.type;if(He==="Point"||He==="MultiPoint"||He==="LineString")Ie=en(Ne.geometry,ne);else if(He==="MultiLineString"||He==="Polygon"){Ie=[];for(var ze=0;ze<Ne.geometry.length;ze++)Ie.push(en(Ne.geometry[ze],ne))}else if(He==="MultiPolygon")for(Ie=[],ze=0;ze<Ne.geometry.length;ze++){for(var xe=[],re=0;re<Ne.geometry[ze].length;re++)xe.push(en(Ne.geometry[ze][re],ne));Ie.push(xe)}fe.push(Wi(Ne.id,He,Ie,Ne.tags))}return fe}function en(Y,ne){var fe=[];fe.size=Y.size,Y.start!==void 0&&(fe.start=Y.start,fe.end=Y.end);for(var ve=0;ve<Y.length;ve+=3)fe.push(Y[ve]+ne,Y[ve+1],Y[ve+2]);return fe}function $n(Y,ne){if(Y.transformed)return Y;var fe,ve,Ie,Ne=1<<Y.z,He=Y.x,ze=Y.y;for(fe=0;fe<Y.features.length;fe++){var xe=Y.features[fe],re=xe.geometry,$e=xe.type;if(xe.geometry=[],$e===1)for(ve=0;ve<re.length;ve+=2)xe.geometry.push(Yn(re[ve],re[ve+1],ne,Ne,He,ze));else for(ve=0;ve<re.length;ve++){var at=[];for(Ie=0;Ie<re[ve].length;Ie+=2)at.push(Yn(re[ve][Ie],re[ve][Ie+1],ne,Ne,He,ze));xe.geometry.push(at)}}return Y.transformed=!0,Y}function Yn(Y,ne,fe,ve,Ie,Ne){return[Math.round(fe*(Y*ve-Ie)),Math.round(fe*(ne*ve-Ne))]}function hn(Y,ne,fe,ve,Ie){for(var Ne=ne===Ie.maxZoom?0:Ie.tolerance/((1<<ne)*Ie.extent),He={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:ve,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ze=0;ze<Y.length;ze++){He.numFeatures++,Eo(He,Y[ze],Ne,Ie);var xe=Y[ze].minX,re=Y[ze].minY,$e=Y[ze].maxX,at=Y[ze].maxY;xe<He.minX&&(He.minX=xe),re<He.minY&&(He.minY=re),$e>He.maxX&&(He.maxX=$e),at>He.maxY&&(He.maxY=at)}return He}function Eo(Y,ne,fe,ve){var Ie=ne.geometry,Ne=ne.type,He=[];if(Ne==="Point"||Ne==="MultiPoint")for(var ze=0;ze<Ie.length;ze+=3)He.push(Ie[ze]),He.push(Ie[ze+1]),Y.numPoints++,Y.numSimplified++;else if(Ne==="LineString")Jn(He,Ie,Y,fe,!1,!1);else if(Ne==="MultiLineString"||Ne==="Polygon")for(ze=0;ze<Ie.length;ze++)Jn(He,Ie[ze],Y,fe,Ne==="Polygon",ze===0);else if(Ne==="MultiPolygon")for(var xe=0;xe<Ie.length;xe++){var re=Ie[xe];for(ze=0;ze<re.length;ze++)Jn(He,re[ze],Y,fe,!0,ze===0)}if(He.length){var $e=ne.tags||null;if(Ne==="LineString"&&ve.lineMetrics){for(var at in $e={},ne.tags)$e[at]=ne.tags[at];$e.mapbox_clip_start=Ie.start/Ie.size,$e.mapbox_clip_end=Ie.end/Ie.size}var Qe={geometry:He,type:Ne==="Polygon"||Ne==="MultiPolygon"?3:Ne==="LineString"||Ne==="MultiLineString"?2:1,tags:$e};ne.id!==null&&(Qe.id=ne.id),Y.features.push(Qe)}}function Jn(Y,ne,fe,ve,Ie,Ne){var He=ve*ve;if(ve>0&&ne.size<(Ie?He:ve))fe.numPoints+=ne.length/3;else{for(var ze=[],xe=0;xe<ne.length;xe+=3)(ve===0||ne[xe+2]>He)&&(fe.numSimplified++,ze.push(ne[xe]),ze.push(ne[xe+1])),fe.numPoints++;Ie&&function(re,$e){for(var at=0,Qe=0,h=re.length,ge=h-2;Qe<h;ge=Qe,Qe+=2)at+=(re[Qe]-re[ge])*(re[Qe+1]+re[ge+1]);if(at>0===$e)for(Qe=0,h=re.length;Qe<h/2;Qe+=2){var Lt=re[Qe],$t=re[Qe+1];re[Qe]=re[h-2-Qe],re[Qe+1]=re[h-1-Qe],re[h-2-Qe]=Lt,re[h-1-Qe]=$t}}(ze,Ne),Y.push(ze)}}function ua(Y,ne){var fe=(ne=this.options=function(Ie,Ne){for(var He in Ne)Ie[He]=Ne[He];return Ie}(Object.create(this.options),ne)).debug;if(fe&&console.time("preprocess data"),ne.maxZoom<0||ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ne.promoteId&&ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var ve=function(Ie,Ne){var He=[];if(Ie.type==="FeatureCollection")for(var ze=0;ze<Ie.features.length;ze++)io(He,Ie.features[ze],Ne,ze);else io(He,Ie.type==="Feature"?Ie:{geometry:Ie},Ne);return He}(Y,ne);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ne.indexMaxZoom,ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ve=function(Ie,Ne){var He=Ne.buffer/Ne.extent,ze=Ie,xe=sa(Ie,1,-1-He,He,0,-1,2,Ne),re=sa(Ie,1,1-He,2+He,0,-1,2,Ne);return(xe||re)&&(ze=sa(Ie,1,-He,1+He,0,-1,2,Ne)||[],xe&&(ze=Or(xe,1).concat(ze)),re&&(ze=ze.concat(Or(re,-1)))),ze}(ve,ne)).length&&this.splitTile(ve,0,0,0),fe&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ra(Y,ne,fe){return 32*((1<<Y)*fe+ne)+Y}function Vt(Y,ne){var fe=Y.tileID.canonical;if(!this._geoJSONIndex)return ne(null,null);var ve=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!ve)return ne(null,null);var Ie=new Ae(ve.features),Ne=lt(Ie);Ne.byteOffset===0&&Ne.byteLength===Ne.buffer.byteLength||(Ne=new Uint8Array(Ne)),ne(null,{vectorTile:Ie,rawData:Ne.buffer})}Sr.prototype.load=function(Y){var ne=this.options,fe=ne.log,ve=ne.minZoom,Ie=ne.maxZoom,Ne=ne.nodeSize;fe&&console.time("total time");var He="prepare "+Y.length+" points";fe&&console.time(He),this.points=Y;for(var ze=[],xe=0;xe<Y.length;xe++)Y[xe].geometry&&ze.push(Dr(Y[xe],xe));this.trees[Ie+1]=new vr(ze,gi,Qo,Ne,Float32Array),fe&&console.timeEnd(He);for(var re=Ie;re>=ve;re--){var $e=+Date.now();ze=this._cluster(ze,re),this.trees[re]=new vr(ze,gi,Qo,Ne,Float32Array),fe&&console.log("z%d: %d clusters in %dms",re,ze.length,+Date.now()-$e)}return fe&&console.timeEnd("total time"),this},Sr.prototype.getClusters=function(Y,ne){var fe=((Y[0]+180)%360+360)%360-180,ve=Math.max(-90,Math.min(90,Y[1])),Ie=Y[2]===180?180:((Y[2]+180)%360+360)%360-180,Ne=Math.max(-90,Math.min(90,Y[3]));if(Y[2]-Y[0]>=360)fe=-180,Ie=180;else if(fe>Ie){var He=this.getClusters([fe,ve,180,Ne],ne),ze=this.getClusters([-180,ve,Ie,Ne],ne);return He.concat(ze)}for(var xe=this.trees[this._limitZoom(ne)],re=[],$e=0,at=xe.range(Fi(fe),jr(Ne),Fi(Ie),jr(ve));$e<at.length;$e+=1){var Qe=xe.points[at[$e]];re.push(Qe.numPoints?Xn(Qe):this.points[Qe.index])}return re},Sr.prototype.getChildren=function(Y){var ne=this._getOriginId(Y),fe=this._getOriginZoom(Y),ve="No cluster with the specified id.",Ie=this.trees[fe];if(!Ie)throw new Error(ve);var Ne=Ie.points[ne];if(!Ne)throw new Error(ve);for(var He=this.options.radius/(this.options.extent*Math.pow(2,fe-1)),ze=[],xe=0,re=Ie.within(Ne.x,Ne.y,He);xe<re.length;xe+=1){var $e=Ie.points[re[xe]];$e.parentId===Y&&ze.push($e.numPoints?Xn($e):this.points[$e.index])}if(ze.length===0)throw new Error(ve);return ze},Sr.prototype.getLeaves=function(Y,ne,fe){var ve=[];return this._appendLeaves(ve,Y,ne=ne||10,fe=fe||0,0),ve},Sr.prototype.getTile=function(Y,ne,fe){var ve=this.trees[this._limitZoom(Y)],Ie=Math.pow(2,Y),Ne=this.options,He=Ne.radius/Ne.extent,ze=(fe-He)/Ie,xe=(fe+1+He)/Ie,re={features:[]};return this._addTileFeatures(ve.range((ne-He)/Ie,ze,(ne+1+He)/Ie,xe),ve.points,ne,fe,Ie,re),ne===0&&this._addTileFeatures(ve.range(1-He/Ie,ze,1,xe),ve.points,Ie,fe,Ie,re),ne===Ie-1&&this._addTileFeatures(ve.range(0,ze,He/Ie,xe),ve.points,-1,fe,Ie,re),re.features.length?re:null},Sr.prototype.getClusterExpansionZoom=function(Y){for(var ne=this._getOriginZoom(Y)-1;ne<=this.options.maxZoom;){var fe=this.getChildren(Y);if(ne++,fe.length!==1)break;Y=fe[0].properties.cluster_id}return ne},Sr.prototype._appendLeaves=function(Y,ne,fe,ve,Ie){for(var Ne=0,He=this.getChildren(ne);Ne<He.length;Ne+=1){var ze=He[Ne],xe=ze.properties;if(xe&&xe.cluster?Ie+xe.point_count<=ve?Ie+=xe.point_count:Ie=this._appendLeaves(Y,xe.cluster_id,fe,ve,Ie):Ie<ve?Ie++:Y.push(ze),Y.length===fe)break}return Ie},Sr.prototype._addTileFeatures=function(Y,ne,fe,ve,Ie,Ne){for(var He=0,ze=Y;He<ze.length;He+=1){var xe=ne[ze[He]],re=xe.numPoints,$e={type:1,geometry:[[Math.round(this.options.extent*(xe.x*Ie-fe)),Math.round(this.options.extent*(xe.y*Ie-ve))]],tags:re?jn(xe):this.points[xe.index].properties},at=void 0;re?at=xe.id:this.options.generateId?at=xe.index:this.points[xe.index].id&&(at=this.points[xe.index].id),at!==void 0&&($e.id=at),Ne.features.push($e)}},Sr.prototype._limitZoom=function(Y){return Math.max(this.options.minZoom,Math.min(+Y,this.options.maxZoom+1))},Sr.prototype._cluster=function(Y,ne){for(var fe=[],ve=this.options,Ie=ve.reduce,Ne=ve.minPoints,He=ve.radius/(ve.extent*Math.pow(2,ne)),ze=0;ze<Y.length;ze++){var xe=Y[ze];if(!(xe.zoom<=ne)){xe.zoom=ne;for(var re=this.trees[ne+1],$e=re.within(xe.x,xe.y,He),at=xe.numPoints||1,Qe=at,h=0,ge=$e;h<ge.length;h+=1){var Lt=re.points[ge[h]];Lt.zoom>ne&&(Qe+=Lt.numPoints||1)}if(Qe>=Ne){for(var $t=xe.x*at,ct=xe.y*at,Ot=Ie&&at>1?this._map(xe,!0):null,xt=(ze<<5)+(ne+1)+this.points.length,pr=0,lr=$e;pr<lr.length;pr+=1){var Gt=re.points[lr[pr]];if(!(Gt.zoom<=ne)){Gt.zoom=ne;var An=Gt.numPoints||1;$t+=Gt.x*An,ct+=Gt.y*An,Gt.parentId=xt,Ie&&(Ot||(Ot=this._map(xe,!0)),Ie(Ot,this._map(Gt)))}}xe.parentId=xt,fe.push(Ur($t/Qe,ct/Qe,xt,Qe,Ot))}else if(fe.push(xe),Qe>1)for(var Xr=0,Ln=$e;Xr<Ln.length;Xr+=1){var dn=re.points[Ln[Xr]];dn.zoom<=ne||(dn.zoom=ne,fe.push(dn))}}}return fe},Sr.prototype._getOriginId=function(Y){return Y-this.points.length>>5},Sr.prototype._getOriginZoom=function(Y){return(Y-this.points.length)%32},Sr.prototype._map=function(Y,ne){if(Y.numPoints)return ne?mi({},Y.properties):Y.properties;var fe=this.points[Y.index].properties,ve=this.options.map(fe);return ne&&ve===fe?mi({},ve):ve},ua.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ua.prototype.splitTile=function(Y,ne,fe,ve,Ie,Ne,He){for(var ze=[Y,ne,fe,ve],xe=this.options,re=xe.debug;ze.length;){ve=ze.pop(),fe=ze.pop(),ne=ze.pop(),Y=ze.pop();var $e=1<<ne,at=Ra(ne,fe,ve),Qe=this.tiles[at];if(!Qe&&(re>1&&console.time("creation"),Qe=this.tiles[at]=hn(Y,ne,fe,ve,xe),this.tileCoords.push({z:ne,x:fe,y:ve}),re)){re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ne,fe,ve,Qe.numFeatures,Qe.numPoints,Qe.numSimplified),console.timeEnd("creation"));var h="z"+ne;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(Qe.source=Y,Ie){if(ne===xe.maxZoom||ne===Ie)continue;var ge=1<<Ie-ne;if(fe!==Math.floor(Ne/ge)||ve!==Math.floor(He/ge))continue}else if(ne===xe.indexMaxZoom||Qe.numPoints<=xe.indexMaxPoints)continue;if(Qe.source=null,Y.length!==0){re>1&&console.time("clipping");var Lt,$t,ct,Ot,xt,pr,lr=.5*xe.buffer/xe.extent,Gt=.5-lr,An=.5+lr,Xr=1+lr;Lt=$t=ct=Ot=null,xt=sa(Y,$e,fe-lr,fe+An,0,Qe.minX,Qe.maxX,xe),pr=sa(Y,$e,fe+Gt,fe+Xr,0,Qe.minX,Qe.maxX,xe),Y=null,xt&&(Lt=sa(xt,$e,ve-lr,ve+An,1,Qe.minY,Qe.maxY,xe),$t=sa(xt,$e,ve+Gt,ve+Xr,1,Qe.minY,Qe.maxY,xe),xt=null),pr&&(ct=sa(pr,$e,ve-lr,ve+An,1,Qe.minY,Qe.maxY,xe),Ot=sa(pr,$e,ve+Gt,ve+Xr,1,Qe.minY,Qe.maxY,xe),pr=null),re>1&&console.timeEnd("clipping"),ze.push(Lt||[],ne+1,2*fe,2*ve),ze.push($t||[],ne+1,2*fe,2*ve+1),ze.push(ct||[],ne+1,2*fe+1,2*ve),ze.push(Ot||[],ne+1,2*fe+1,2*ve+1)}}},ua.prototype.getTile=function(Y,ne,fe){var ve=this.options,Ie=ve.extent,Ne=ve.debug;if(Y<0||Y>24)return null;var He=1<<Y,ze=Ra(Y,ne=(ne%He+He)%He,fe);if(this.tiles[ze])return $n(this.tiles[ze],Ie);Ne>1&&console.log("drilling down to z%d-%d-%d",Y,ne,fe);for(var xe,re=Y,$e=ne,at=fe;!xe&&re>0;)re--,$e=Math.floor($e/2),at=Math.floor(at/2),xe=this.tiles[Ra(re,$e,at)];return xe&&xe.source?(Ne>1&&console.log("found parent tile z%d-%d-%d",re,$e,at),Ne>1&&console.time("drilling down"),this.splitTile(xe.source,re,$e,at,Y,ne,fe),Ne>1&&console.timeEnd("drilling down"),this.tiles[ze]?$n(this.tiles[ze],Ie):null):null};var Ei=function(Y){function ne(fe,ve,Ie,Ne){Y.call(this,fe,ve,Ie,Vt),Ne&&(this.loadGeoJSON=Ne)}return Y&&(ne.__proto__=Y),(ne.prototype=Object.create(Y&&Y.prototype)).constructor=ne,ne.prototype.loadData=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ve,this._pendingLoadDataParams=fe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ne.prototype._loadData=function(){var fe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ve=this._pendingCallback,Ie=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ne=!!(Ie&&Ie.request&&Ie.request.collectResourceTiming)&&new a.RequestPerformance(Ie.request);this.loadGeoJSON(Ie,function(He,ze){if(He||!ze)return ve(He);if(typeof ze!="object")return ve(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."));(function Qe(h,ge){var Lt,$t=h&&h.type;if($t==="FeatureCollection")for(Lt=0;Lt<h.features.length;Lt++)Qe(h.features[Lt],ge);else if($t==="GeometryCollection")for(Lt=0;Lt<h.geometries.length;Lt++)Qe(h.geometries[Lt],ge);else if($t==="Feature")Qe(h.geometry,ge);else if($t==="Polygon")V(h.coordinates,ge);else if($t==="MultiPolygon")for(Lt=0;Lt<h.coordinates.length;Lt++)V(h.coordinates[Lt],ge);return h})(ze,!0);try{if(Ie.filter){var xe=a.createExpression(Ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function(Qe){return Qe.key+": "+Qe.message}).join(", "));var re=ze.features.filter(function(Qe){return xe.value.evaluate({zoom:0},Qe)});ze={type:"FeatureCollection",features:re}}fe._geoJSONIndex=Ie.cluster?new Sr(function(Qe){var h=Qe.superclusterOptions,ge=Qe.clusterProperties;if(!ge||!h)return h;for(var Lt={},$t={},ct={accumulated:null,zoom:0},Ot={properties:null},xt=Object.keys(ge),pr=0,lr=xt;pr<lr.length;pr+=1){var Gt=lr[pr],An=ge[Gt],Xr=An[0],Ln=a.createExpression(An[1]),dn=a.createExpression(typeof Xr=="string"?[Xr,["accumulated"],["get",Gt]]:Xr);Lt[Gt]=Ln.value,$t[Gt]=dn.value}return h.map=function(an){Ot.properties=an;for(var gn={},hi=0,xn=xt;hi<xn.length;hi+=1){var Xt=xn[hi];gn[Xt]=Lt[Xt].evaluate(ct,Ot)}return gn},h.reduce=function(an,gn){Ot.properties=gn;for(var hi=0,xn=xt;hi<xn.length;hi+=1){var Xt=xn[hi];ct.accumulated=an[Xt],an[Xt]=$t[Xt].evaluate(ct,Ot)}},h}(Ie)).load(ze.features):function(Qe,h){return new ua(Qe,h)}(ze,Ie.geojsonVtOptions)}catch(Qe){return ve(Qe)}fe.loaded={};var $e={};if(Ne){var at=Ne.finish();at&&($e.resourceTiming={},$e.resourceTiming[Ie.source]=JSON.parse(JSON.stringify(at)))}ve(null,$e)})}},ne.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ne.prototype.reloadTile=function(fe,ve){var Ie=this.loaded;return Ie&&Ie[fe.uid]?Y.prototype.reloadTile.call(this,fe,ve):this.loadTile(fe,ve)},ne.prototype.loadGeoJSON=function(fe,ve){if(fe.request)a.getJSON(fe.request,ve);else{if(typeof fe.data!="string")return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."));try{return ve(null,JSON.parse(fe.data))}catch{return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."))}}},ne.prototype.removeSource=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ve()},ne.prototype.getClusterExpansionZoom=function(fe,ve){try{ve(null,this._geoJSONIndex.getClusterExpansionZoom(fe.clusterId))}catch(Ie){ve(Ie)}},ne.prototype.getClusterChildren=function(fe,ve){try{ve(null,this._geoJSONIndex.getChildren(fe.clusterId))}catch(Ie){ve(Ie)}},ne.prototype.getClusterLeaves=function(fe,ve){try{ve(null,this._geoJSONIndex.getLeaves(fe.clusterId,fe.limit,fe.offset))}catch(Ie){ve(Ie)}},ne}(Z),zn=function(Y){var ne=this;this.self=Y,this.actor=new a.Actor(Y,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Z,geojson:Ei},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(fe,ve){if(ne.workerSourceTypes[fe])throw new Error('Worker source with name "'+fe+'" already registered.');ne.workerSourceTypes[fe]=ve},this.self.registerRTLTextPlugin=function(fe){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=fe.applyArabicShaping,a.plugin.processBidirectionalText=fe.processBidirectionalText,a.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}};return zn.prototype.setReferrer=function(Y,ne){this.referrer=ne},zn.prototype.setImages=function(Y,ne,fe){for(var ve in this.availableImages[Y]=ne,this.workerSources[Y]){var Ie=this.workerSources[Y][ve];for(var Ne in Ie)Ie[Ne].availableImages=ne}fe()},zn.prototype.setLayers=function(Y,ne,fe){this.getLayerIndex(Y).replace(ne),fe()},zn.prototype.updateLayers=function(Y,ne,fe){this.getLayerIndex(Y).update(ne.layers,ne.removedIds),fe()},zn.prototype.loadTile=function(Y,ne,fe){this.getWorkerSource(Y,ne.type,ne.source).loadTile(ne,fe)},zn.prototype.loadDEMTile=function(Y,ne,fe){this.getDEMWorkerSource(Y,ne.source).loadTile(ne,fe)},zn.prototype.reloadTile=function(Y,ne,fe){this.getWorkerSource(Y,ne.type,ne.source).reloadTile(ne,fe)},zn.prototype.abortTile=function(Y,ne,fe){this.getWorkerSource(Y,ne.type,ne.source).abortTile(ne,fe)},zn.prototype.removeTile=function(Y,ne,fe){this.getWorkerSource(Y,ne.type,ne.source).removeTile(ne,fe)},zn.prototype.removeDEMTile=function(Y,ne){this.getDEMWorkerSource(Y,ne.source).removeTile(ne)},zn.prototype.removeSource=function(Y,ne,fe){if(this.workerSources[Y]&&this.workerSources[Y][ne.type]&&this.workerSources[Y][ne.type][ne.source]){var ve=this.workerSources[Y][ne.type][ne.source];delete this.workerSources[Y][ne.type][ne.source],ve.removeSource!==void 0?ve.removeSource(ne,fe):fe()}},zn.prototype.loadWorkerSource=function(Y,ne,fe){try{this.self.importScripts(ne.url),fe()}catch(ve){fe(ve.toString())}},zn.prototype.syncRTLPluginState=function(Y,ne,fe){try{a.plugin.setState(ne);var ve=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ve!=null){this.self.importScripts(ve);var Ie=a.plugin.isParsed();fe(Ie?void 0:new Error("RTL Text Plugin failed to import scripts from "+ve),Ie)}}catch(Ne){fe(Ne.toString())}},zn.prototype.getAvailableImages=function(Y){var ne=this.availableImages[Y];return ne||(ne=[]),ne},zn.prototype.getLayerIndex=function(Y){var ne=this.layerIndexes[Y];return ne||(ne=this.layerIndexes[Y]=new P),ne},zn.prototype.getWorkerSource=function(Y,ne,fe){var ve=this;return this.workerSources[Y]||(this.workerSources[Y]={}),this.workerSources[Y][ne]||(this.workerSources[Y][ne]={}),this.workerSources[Y][ne][fe]||(this.workerSources[Y][ne][fe]=new this.workerSourceTypes[ne]({send:function(Ie,Ne,He){ve.actor.send(Ie,Ne,He,Y)}},this.getLayerIndex(Y),this.getAvailableImages(Y))),this.workerSources[Y][ne][fe]},zn.prototype.getDEMWorkerSource=function(Y,ne){return this.demWorkerSources[Y]||(this.demWorkerSources[Y]={}),this.demWorkerSources[Y][ne]||(this.demWorkerSources[Y][ne]=new ae),this.demWorkerSources[Y][ne]},zn.prototype.enforceCacheSizeLimit=function(Y,ne){a.enforceCacheSizeLimit(ne)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new zn(self)),zn}),l(["./shared"],function(a){var x=a.createCommonjsModule(function(c){function p(E){return!f(E)}function f(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var D,U,q=new Blob([""],{type:"text/javascript"}),ee=URL.createObjectURL(q);try{U=new Worker(ee),D=!0}catch{D=!1}return U&&U.terminate(),URL.revokeObjectURL(ee),D}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var D=document.createElement("canvas");D.width=D.height=1;var U=D.getContext("2d");if(!U)return!1;var q=U.getImageData(0,0,1,1);return q&&q.width===D.width}()?(y[M=E&&E.failIfMajorPerformanceCaveat]===void 0&&(y[M]=function(D){var U=function(ee){var he=document.createElement("canvas"),_e=Object.create(p.webGLContextAttributes);return _e.failIfMajorPerformanceCaveat=ee,he.probablySupportsContext?he.probablySupportsContext("webgl",_e)||he.probablySupportsContext("experimental-webgl",_e):he.supportsContext?he.supportsContext("webgl",_e)||he.supportsContext("experimental-webgl",_e):he.getContext("webgl",_e)||he.getContext("experimental-webgl",_e)}(D);if(!U)return!1;var q=U.createShader(U.VERTEX_SHADER);return!(!q||U.isContextLost())&&(U.shaderSource(q,"void main() {}"),U.compileShader(q),U.getShaderParameter(q,U.COMPILE_STATUS)===!0)}(M)),y[M]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var M}c.exports?c.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=f);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),S={create:function(c,p,f){var y=a.window.document.createElement(c);return p!==void 0&&(y.className=p),f&&f.appendChild(y),y},createNS:function(c,p){return a.window.document.createElementNS(c,p)}},P=a.window.document&&a.window.document.documentElement.style;function R(c){if(!P)return c[0];for(var p=0;p<c.length;p++)if(c[p]in P)return c[p];return c[0]}var z,N=R(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);S.disableDrag=function(){P&&N&&(z=P[N],P[N]="none")},S.enableDrag=function(){P&&N&&(P[N]=z)};var $=R(["transform","WebkitTransform"]);S.setTransform=function(c,p){c.style[$]=p};var Z=!1;try{var J=Object.defineProperty({},"passive",{get:function(){Z=!0}});a.window.addEventListener("test",J,J),a.window.removeEventListener("test",J,J)}catch{Z=!1}S.addEventListener=function(c,p,f,y){y===void 0&&(y={}),c.addEventListener(p,f,"passive"in y&&Z?y:y.capture)},S.removeEventListener=function(c,p,f,y){y===void 0&&(y={}),c.removeEventListener(p,f,"passive"in y&&Z?y:y.capture)};var ae=function(c){c.preventDefault(),c.stopPropagation(),a.window.removeEventListener("click",ae,!0)};function V(c){var p=c.userImage;return!!(p&&p.render&&p.render())&&(c.data.replace(new Uint8Array(p.data.buffer)),!0)}S.suppressClick=function(){a.window.addEventListener("click",ae,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",ae,!0)},0)},S.mousePos=function(c,p){var f=c.getBoundingClientRect();return new a.Point(p.clientX-f.left-c.clientLeft,p.clientY-f.top-c.clientTop)},S.touchPos=function(c,p){for(var f=c.getBoundingClientRect(),y=[],E=0;E<p.length;E++)y.push(new a.Point(p[E].clientX-f.left-c.clientLeft,p[E].clientY-f.top-c.clientTop));return y},S.mouseButton=function(c){return a.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},S.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var K=function(c){function p(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(f){if(this.loaded!==f&&(this.loaded=f,f)){for(var y=0,E=this.requestors;y<E.length;y+=1){var M=E[y];this._notify(M.ids,M.callback)}this.requestors=[]}},p.prototype.getImage=function(f){return this.images[f]},p.prototype.addImage=function(f,y){this._validate(f,y)&&(this.images[f]=y)},p.prototype._validate=function(f,y){var E=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchY" value'))),E=!1),this._validateContent(y.content,y)||(this.fire(new a.ErrorEvent(new Error('Image "'+f+'" has invalid "content" value'))),E=!1),E},p.prototype._validateStretch=function(f,y){if(!f)return!0;for(var E=0,M=0,D=f;M<D.length;M+=1){var U=D[M];if(U[0]<E||U[1]<U[0]||y<U[1])return!1;E=U[1]}return!0},p.prototype._validateContent=function(f,y){return!(f&&(f.length!==4||f[0]<0||y.data.width<f[0]||f[1]<0||y.data.height<f[1]||f[2]<0||y.data.width<f[2]||f[3]<0||y.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))},p.prototype.updateImage=function(f,y){y.version=this.images[f].version+1,this.images[f]=y,this.updatedImages[f]=!0},p.prototype.removeImage=function(f){var y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(f,y){var E=!0;if(!this.isLoaded())for(var M=0,D=f;M<D.length;M+=1)this.images[D[M]]||(E=!1);this.isLoaded()||E?this._notify(f,y):this.requestors.push({ids:f,callback:y})},p.prototype._notify=function(f,y){for(var E={},M=0,D=f;M<D.length;M+=1){var U=D[M];this.images[U]||this.fire(new a.Event("styleimagemissing",{id:U}));var q=this.images[U];q?E[U]={data:q.data.clone(),pixelRatio:q.pixelRatio,sdf:q.sdf,version:q.version,stretchX:q.stretchX,stretchY:q.stretchY,content:q.content,hasRenderCallback:Boolean(q.userImage&&q.userImage.render)}:a.warnOnce('Image "'+U+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,E)},p.prototype.getPixelSize=function(){var f=this.atlasImage;return{width:f.width,height:f.height}},p.prototype.getPattern=function(f){var y=this.patterns[f],E=this.getImage(f);if(!E)return null;if(y&&y.position.version===E.version)return y.position;if(y)y.position.version=E.version;else{var M={w:E.data.width+2,h:E.data.height+2,x:0,y:0},D=new a.ImagePosition(M,E);this.patterns[f]={bin:M,position:D}}return this._updatePatternAtlas(),this.patterns[f].position},p.prototype.bind=function(f){var y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var f=[];for(var y in this.patterns)f.push(this.patterns[y].bin);var E=a.potpack(f),M=E.w,D=E.h,U=this.atlasImage;for(var q in U.resize({width:M||1,height:D||1}),this.patterns){var ee=this.patterns[q].bin,he=ee.x+1,_e=ee.y+1,de=this.images[q].data,Oe=de.width,Pe=de.height;a.RGBAImage.copy(de,U,{x:0,y:0},{x:he,y:_e},{width:Oe,height:Pe}),a.RGBAImage.copy(de,U,{x:0,y:Pe-1},{x:he,y:_e-1},{width:Oe,height:1}),a.RGBAImage.copy(de,U,{x:0,y:0},{x:he,y:_e+Pe},{width:Oe,height:1}),a.RGBAImage.copy(de,U,{x:Oe-1,y:0},{x:he-1,y:_e},{width:1,height:Pe}),a.RGBAImage.copy(de,U,{x:0,y:0},{x:he+Oe,y:_e},{width:1,height:Pe})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(f){for(var y=0,E=f;y<E.length;y+=1){var M=E[y];if(!this.callbackDispatchedThisFrame[M]){this.callbackDispatchedThisFrame[M]=!0;var D=this.images[M];V(D)&&this.updateImage(M,D)}}},p}(a.Evented),se=ue,me=ue,Ae=1e20;function ue(c,p,f,y,E,M){this.fontSize=c||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=E||"sans-serif",this.fontWeight=M||"normal",this.radius=f||8;var D=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=D,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(D*D),this.gridInner=new Float64Array(D*D),this.f=new Float64Array(D),this.d=new Float64Array(D),this.z=new Float64Array(D+1),this.v=new Int16Array(D),this.middle=Math.round(D/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Se(c,p,f,y,E,M,D){for(var U=0;U<p;U++){for(var q=0;q<f;q++)y[q]=c[q*p+U];for(Ce(y,E,M,D,f),q=0;q<f;q++)c[q*p+U]=E[q]}for(q=0;q<f;q++){for(U=0;U<p;U++)y[U]=c[q*p+U];for(Ce(y,E,M,D,p),U=0;U<p;U++)c[q*p+U]=Math.sqrt(E[U])}}function Ce(c,p,f,y,E){f[0]=0,y[0]=-Ae,y[1]=+Ae;for(var M=1,D=0;M<E;M++){for(var U=(c[M]+M*M-(c[f[D]]+f[D]*f[D]))/(2*M-2*f[D]);U<=y[D];)D--,U=(c[M]+M*M-(c[f[D]]+f[D]*f[D]))/(2*M-2*f[D]);f[++D]=M,y[D]=U,y[D+1]=+Ae}for(M=0,D=0;M<E;M++){for(;y[D+1]<M;)D++;p[M]=(M-f[D])*(M-f[D])+c[f[D]]}}ue.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),f=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var E=p.data[4*y+3]/255;this.gridOuter[y]=E===1?0:E===0?Ae:Math.pow(Math.max(0,.5-E),2),this.gridInner[y]=E===1?Ae:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(Se(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Se(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)f[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return f},se.default=me;var qe=function(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}};qe.prototype.setURL=function(c){this.url=c},qe.prototype.getGlyphs=function(c,p){var f=this,y=[];for(var E in c)for(var M=0,D=c[E];M<D.length;M+=1)y.push({stack:E,id:D[M]});a.asyncAll(y,function(U,q){var ee=U.stack,he=U.id,_e=f.entries[ee];_e||(_e=f.entries[ee]={glyphs:{},requests:{},ranges:{}});var de=_e.glyphs[he];if(de===void 0){if(de=f._tinySDF(_e,ee,he))return _e.glyphs[he]=de,void q(null,{stack:ee,id:he,glyph:de});var Oe=Math.floor(he/256);if(256*Oe>65535)q(new Error("glyphs > 65535 not supported"));else if(_e.ranges[Oe])q(null,{stack:ee,id:he,glyph:de});else{var Pe=_e.requests[Oe];Pe||(Pe=_e.requests[Oe]=[],qe.loadGlyphRange(ee,Oe,f.url,f.requestManager,function(Be,Te){if(Te){for(var Fe in Te)f._doesCharSupportLocalGlyph(+Fe)||(_e.glyphs[+Fe]=Te[+Fe]);_e.ranges[Oe]=!0}for(var We=0,Je=Pe;We<Je.length;We+=1)(0,Je[We])(Be,Te);delete _e.requests[Oe]})),Pe.push(function(Be,Te){Be?q(Be):Te&&q(null,{stack:ee,id:he,glyph:Te[he]||null})})}}else q(null,{stack:ee,id:he,glyph:de})},function(U,q){if(U)p(U);else if(q){for(var ee={},he=0,_e=q;he<_e.length;he+=1){var de=_e[he],Oe=de.stack,Pe=de.id,Be=de.glyph;(ee[Oe]||(ee[Oe]={}))[Pe]=Be&&{id:Be.id,bitmap:Be.bitmap.clone(),metrics:Be.metrics}}p(null,ee)}})},qe.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](c)||a.isChar["Hangul Syllables"](c)||a.isChar.Hiragana(c)||a.isChar.Katakana(c))},qe.prototype._tinySDF=function(c,p,f){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(f)){var E=c.tinySDF;if(!E){var M="400";/bold/i.test(p)?M="900":/medium/i.test(p)?M="500":/light/i.test(p)&&(M="200"),E=c.tinySDF=new qe.TinySDF(24,3,8,.25,y,M)}return{id:f,bitmap:new a.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(f))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},qe.loadGlyphRange=function(c,p,f,y,E){var M=256*p,D=M+255,U=y.transformRequest(y.normalizeGlyphsURL(f).replace("{fontstack}",c).replace("{range}",M+"-"+D),a.ResourceType.Glyphs);a.getArrayBuffer(U,function(q,ee){if(q)E(q);else if(ee){for(var he={},_e=0,de=a.parseGlyphPBF(ee);_e<de.length;_e+=1){var Oe=de[_e];he[Oe.id]=Oe}E(null,he)}})},qe.TinySDF=se;var lt=function(){this.specification=a.styleSpec.light.position};lt.prototype.possiblyEvaluate=function(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))},lt.prototype.interpolate=function(c,p,f){return{x:a.number(c.x,p.x,f),y:a.number(c.y,p.y,f),z:a.number(c.z,p.z,f)}};var rt=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new lt,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),st=function(c){function p(f){c.call(this),this._transitionable=new a.Transitionable(rt),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(f,y){if(y===void 0&&(y={}),!this._validate(a.validateLight,f,y))for(var E in f){var M=f[E];a.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),M):this._transitionable.setValue(E,M)}},p.prototype.updateTransitions=function(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(f){this.properties=this._transitioning.possiblyEvaluate(f)},p.prototype._validate=function(f,y,E){return(!E||E.validate!==!1)&&a.emitValidationErrors(this,f.call(a.validateStyle,a.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},p}(a.Evented),wt=function(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};wt.prototype.getDash=function(c,p){var f=c.join(",")+String(p);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(c,p)),this.dashEntry[f]},wt.prototype.getDashRanges=function(c,p,f){var y=[],E=c.length%2==1?-c[c.length-1]*f:0,M=c[0]*f,D=!0;y.push({left:E,right:M,isDash:D,zeroLength:c[0]===0});for(var U=c[0],q=1;q<c.length;q++){var ee=c[q];y.push({left:E=U*f,right:M=(U+=ee)*f,isDash:D=!D,zeroLength:ee===0})}return y},wt.prototype.addRoundDash=function(c,p,f){for(var y=p/2,E=-f;E<=f;E++)for(var M=this.width*(this.nextRow+f+E),D=0,U=c[D],q=0;q<this.width;q++){q/U.right>1&&(U=c[++D]);var ee=Math.abs(q-U.left),he=Math.abs(q-U.right),_e=Math.min(ee,he),de=void 0,Oe=E/f*(y+1);if(U.isDash){var Pe=y-Math.abs(Oe);de=Math.sqrt(_e*_e+Pe*Pe)}else de=y-Math.sqrt(_e*_e+Oe*Oe);this.data[M+q]=Math.max(0,Math.min(255,de+128))}},wt.prototype.addRegularDash=function(c){for(var p=c.length-1;p>=0;--p){var f=c[p],y=c[p+1];f.zeroLength?c.splice(p,1):y&&y.isDash===f.isDash&&(y.left=f.left,c.splice(p,1))}var E=c[0],M=c[c.length-1];E.isDash===M.isDash&&(E.left=M.left-this.width,M.right=E.right+this.width);for(var D=this.width*this.nextRow,U=0,q=c[U],ee=0;ee<this.width;ee++){ee/q.right>1&&(q=c[++U]);var he=Math.abs(ee-q.left),_e=Math.abs(ee-q.right),de=Math.min(he,_e);this.data[D+ee]=Math.max(0,Math.min(255,(q.isDash?de:-de)+128))}},wt.prototype.addDash=function(c,p){var f=p?7:0,y=2*f+1;if(this.nextRow+y>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var E=0,M=0;M<c.length;M++)E+=c[M];if(E!==0){var D=this.width/E,U=this.getDashRanges(c,this.width,D);p?this.addRoundDash(U,D,f):this.addRegularDash(U)}var q={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:E};return this.nextRow+=y,this.dirty=!0,q},wt.prototype.bind=function(c){var p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var St=function c(p,f){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var y=this.workerPool.acquire(this.id),E=0;E<y.length;E++){var M=new c.Actor(y[E],f,this.id);M.name="Worker "+E,this.actors.push(M)}};function Wt(c,p,f){var y=function(E,M){if(E)return f(E);if(M){var D=a.pick(a.extend(M,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);M.vector_layers&&(D.vectorLayers=M.vector_layers,D.vectorLayerIds=D.vectorLayers.map(function(U){return U.id})),D.tiles=p.canonicalizeTileset(D,c.url),f(null,D)}};return c.url?a.getJSON(p.transformRequest(p.normalizeSourceURL(c.url),a.ResourceType.Source),y):a.browser.frame(function(){return y(null,c)})}St.prototype.broadcast=function(c,p,f){a.asyncAll(this.actors,function(y,E){y.send(c,p,E)},f=f||function(){})},St.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},St.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},St.Actor=a.Actor;var fr=function(c,p,f){this.bounds=a.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=f||24};fr.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},fr.prototype.contains=function(c){var p=Math.pow(2,c.z),f=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),M=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=f&&c.x<E&&c.y>=y&&c.y<M};var Rt=function(c){function p(f,y,E,M){if(c.call(this),this.id=f,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(y,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(M)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Wt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new fr(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles,f.map._requestManager._customAccessToken),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken,f.map._requestManager._customAccessToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setSourceProperty=function(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(f){var y=this;return this.setSourceProperty(function(){y._options.tiles=f}),this},p.prototype.setUrl=function(f){var y=this;return this.setSourceProperty(function(){y.url=f,y._options.url=f}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),M={request:this.map._requestManager.transformRequest(E,a.ResourceType.Tile),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function D(U,q){return delete f.request,f.aborted?y(null):U&&U.status!==404?y(U):(q&&q.resourceTiming&&(f.resourceTiming=q.resourceTiming),this.map._refreshExpiredTiles&&q&&f.setExpiryData(q),f.loadVectorData(q,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}M.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired"?f.state==="loading"?f.reloadCallback=y:f.request=f.actor.send("reloadTile",M,D.bind(this)):(f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",M,D.bind(this)))},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(a.Evented),et=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.dispatcher=E,this.setEventedParent(M),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},y),a.extend(this,a.pick(y,["url","scheme","tileSize"]))}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Wt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new a.ErrorEvent(y)):E&&(a.extend(f,E),E.bounds&&(f.tileBounds=new fr(E.bounds,f.minzoom,f.maxzoom)),a.postTurnstileEvent(E.tiles),a.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return a.extend({},this._options)},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.loadTile=function(f,y){var E=this,M=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);f.request=a.getImage(this.map._requestManager.transformRequest(M,a.ResourceType.Tile),function(D,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(U){E.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var q=E.map.painter.context,ee=q.gl;f.texture=E.map.painter.getTileTexture(U.width),f.texture?f.texture.update(U,{useMipmap:!0}):(f.texture=new a.Texture(q,U,ee.RGBA,{useMipmap:!0}),f.texture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),q.extTextureFilterAnisotropic&&ee.texParameterf(ee.TEXTURE_2D,q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,q.extTextureFilterAnisotropicMax)),f.state="loaded",a.cacheEntryPossiblyAdded(E.dispatcher),y(null)}})},p.prototype.abortTile=function(f,y){f.request&&(f.request.cancel(),delete f.request),y()},p.prototype.unloadTile=function(f,y){f.texture&&this.map.painter.saveTileTexture(f.texture),y()},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Ue=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function M(D,U){D&&(f.state="errored",y(D)),U&&(f.dem=U,f.needsHillshadePrepare=!0,f.state="loaded",y(null))}f.request=a.getImage(this.map._requestManager.transformRequest(E,a.ResourceType.Tile),function(D,U){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(D)f.state="errored",y(D);else if(U){this.map._refreshExpiredTiles&&f.setExpiryData(U),delete U.cacheControl,delete U.expires;var q=a.window.ImageBitmap&&U instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?U:a.browser.getImageData(U,1),ee={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:q,encoding:this.encoding};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",ee,M.bind(this)))}}.bind(this)),f.neighboringTiles=this._getNeighboringTiles(f.tileID)},p.prototype._getNeighboringTiles=function(f){var y=f.canonical,E=Math.pow(2,y.z),M=(y.x-1+E)%E,D=y.x===0?f.wrap-1:f.wrap,U=(y.x+1+E)%E,q=y.x+1===E?f.wrap+1:f.wrap,ee={};return ee[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y).key]={backfilled:!1},ee[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y).key]={backfilled:!1},y.y>0&&(ee[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y-1).key]={backfilled:!1},ee[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},ee[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y-1).key]={backfilled:!1}),y.y+1<E&&(ee[new a.OverscaledTileID(f.overscaledZ,D,y.z,M,y.y+1).key]={backfilled:!1},ee[new a.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},ee[new a.OverscaledTileID(f.overscaledZ,q,y.z,U,y.y+1).key]={backfilled:!1}),ee},p.prototype.unloadTile=function(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&f.actor.send("removeDEMTile",{uid:f.uid,source:this.id})},p}(et),Re=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(M),this._data=y.data,this._options=a.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var D=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*D,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*D,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:a.EXTENT,radius:(y.clusterRadius||50)*D,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)f.fire(new a.ErrorEvent(y));else{var E={dataType:"source",sourceDataType:"metadata"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(E.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new a.Event("data",E))}})},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setData=function(f){var y=this;return this._data=f,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)y.fire(new a.ErrorEvent(E));else{var M={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(M.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new a.Event("data",M))}}),this},p.prototype.getClusterExpansionZoom=function(f,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},y),this},p.prototype.getClusterChildren=function(f,y){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},y),this},p.prototype.getClusterLeaves=function(f,y,E,M){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:y,offset:E},M),this},p.prototype._updateWorkerData=function(f){var y=this;this._loaded=!1;var E=a.extend({},this.workerOptions),M=this._data;typeof M=="string"?(E.request=this.map._requestManager.transformRequest(a.browser.resolveURL(M),a.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(M),this.actor.send(this.type+".loadData",E,function(D,U){y._removed||U&&U.abandoned||(y._loaded=!0,U&&U.resourceTiming&&U.resourceTiming[y.id]&&(y._resourceTiming=U.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:E.source},null),f(D))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(f,y){var E=this,M=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(M,{type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(D,U){return delete f.request,f.unloadVectorData(),f.aborted?y(null):D?y(D):(f.loadVectorData(U,E.map.painter,M==="reloadTile"),y(null))})},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0},p.prototype.unloadTile=function(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(a.Evented),le=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ye=function(c){function p(f,y,E,M){c.call(this),this.id=f,this.dispatcher=E,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(M),this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(f,y){var E=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(M,D){E._loaded=!0,M?E.fire(new a.ErrorEvent(M)):D&&(E.image=D,f&&(E.coordinates=f),y&&y(),E._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(f){var y=this;return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setCoordinates=function(f){var y=this;this.coordinates=f;var E=f.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(D){for(var U=1/0,q=1/0,ee=-1/0,he=-1/0,_e=0,de=D;_e<de.length;_e+=1){var Oe=de[_e];U=Math.min(U,Oe.x),q=Math.min(q,Oe.y),ee=Math.max(ee,Oe.x),he=Math.max(he,Oe.y)}var Pe=Math.max(ee-U,he-q),Be=Math.max(0,Math.floor(-Math.log(Pe)/Math.LN2)),Te=Math.pow(2,Be);return new a.CanonicalTileID(Be,Math.floor((U+ee)/2*Te),Math.floor((q+he)/2*Te))}(E),this.minzoom=this.maxzoom=this.tileID.z;var M=E.map(function(D){return y.tileID.getTilePoint(D)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(M[0].x,M[0].y,0,0),this._boundsArray.emplaceBack(M[1].x,M[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(M[3].x,M[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(M[2].x,M[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,le.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var M=this.tiles[E];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture)}}},p.prototype.loadTile=function(f,y){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},y(null)):(f.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(a.Evented),Mt=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),this.roundZoom=!0,this.type="video",this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1;var y=this.options;this.urls=[];for(var E=0,M=y.urls;E<M.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(M[E],a.ResourceType.Source).url);a.getVideo(this.urls,function(D,U){f._loaded=!0,D?f.fire(new a.ErrorEvent(D)):U&&(f.video=U,f.video.loop=!0,f.video.addEventListener("playing",function(){f.map.triggerRepaint()}),f.map&&f.video.play(),f._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(f){if(this.video){var y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=f}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,le.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var M=this.tiles[E];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(ye),or=function(c){function p(f,y,E,M){c.call(this,f,y,E,M),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(D){return!Array.isArray(D)||D.length!==2||D.some(function(U){return typeof U!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+f,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,E=y.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,le.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(y,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var D=this.tiles[M];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var f=0,y=[this.canvas.width,this.canvas.height];f<y.length;f+=1){var E=y[f];if(isNaN(E)||E<=0)return!0}return!1},p}(ye),vr={vector:Rt,raster:et,"raster-dem":Ue,geojson:Re,video:Mt,image:ye,canvas:or};function dr(c,p){var f=a.identity([]);return a.translate(f,f,[1,1,0]),a.scale(f,f,[.5*c.width,.5*c.height,1]),a.multiply(f,f,c.calculatePosMatrix(p.toUnwrapped()))}function Sr(c,p,f,y,E,M){var D=function(Be,Te,Fe){if(Be)for(var We=0,Je=Be;We<Je.length;We+=1){var ht=Te[Je[We]];if(ht&&ht.source===Fe&&ht.type==="fill-extrusion")return!0}else for(var At in Te){var gt=Te[At];if(gt.source===Fe&&gt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,p,c.id),U=M.maxPitchScaleFactor(),q=c.tilesIn(y,U,D);q.sort(Ur);for(var ee=[],he=0,_e=q;he<_e.length;he+=1){var de=_e[he];ee.push({wrappedTileID:de.tileID.wrapped().key,queryResults:de.tile.queryRenderedFeatures(p,f,c._state,de.queryGeometry,de.cameraQueryGeometry,de.scale,E,M,U,dr(c.transform,de.tileID))})}var Oe=function(Be){for(var Te={},Fe={},We=0,Je=Be;We<Je.length;We+=1){var ht=Je[We],At=ht.queryResults,gt=ht.wrappedTileID,Pt=Fe[gt]=Fe[gt]||{};for(var Nt in At)for(var Bt=At[Nt],Jt=Pt[Nt]=Pt[Nt]||{},mr=Te[Nt]=Te[Nt]||[],Tr=0,Er=Bt;Tr<Er.length;Tr+=1){var yn=Er[Tr];Jt[yn.featureIndex]||(Jt[yn.featureIndex]=!0,mr.push(yn))}}return Te}(ee);for(var Pe in Oe)Oe[Pe].forEach(function(Be){var Te=Be.feature,Fe=c.getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=Fe});return Oe}function Ur(c,p){var f=c.tileID,y=p.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}var Dr=function(c,p){this.max=c,this.onRemove=p,this.reset()};Dr.prototype.reset=function(){for(var c in this.data)for(var p=0,f=this.data[c];p<f.length;p+=1){var y=f[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},Dr.prototype.add=function(c,p,f){var y=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var M={value:p,timeout:void 0};if(f!==void 0&&(M.timeout=setTimeout(function(){y.remove(c,M)},f)),this.data[E].push(M),this.order.push(E),this.order.length>this.max){var D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this},Dr.prototype.has=function(c){return c.wrapped().key in this.data},Dr.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},Dr.prototype._getAndRemoveByKey=function(c){var p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value},Dr.prototype.getByKey=function(c){var p=this.data[c];return p?p[0].value:null},Dr.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},Dr.prototype.remove=function(c,p){if(!this.has(c))return this;var f=c.wrapped().key,y=p===void 0?0:this.data[f].indexOf(p),E=this.data[f][y];return this.data[f].splice(y,1),E.timeout&&clearTimeout(E.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(E.value),this.order.splice(this.order.indexOf(f),1),this},Dr.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},Dr.prototype.filter=function(c){var p=[];for(var f in this.data)for(var y=0,E=this.data[f];y<E.length;y+=1){var M=E[y];c(M.value)||p.push(M)}for(var D=0,U=p;D<U.length;D+=1){var q=U[D];this.remove(q.value.tileID,q)}};var Xn=function(c,p,f){this.context=c;var y=c.gl;this.buffer=y.createBuffer(),this.dynamicDraw=Boolean(f),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Xn.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Xn.prototype.updateData=function(c){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Xn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fi=function(c,p,f,y){this.length=p.length,this.attributes=f,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Fi.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fi.prototype.updateData=function(c){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)},Fi.prototype.enableAttributes=function(c,p){for(var f=0;f<this.attributes.length;f++){var y=p.attributes[this.attributes[f].name];y!==void 0&&c.enableVertexAttribArray(y)}},Fi.prototype.setVertexAttribPointers=function(c,p,f){for(var y=0;y<this.attributes.length;y++){var E=this.attributes[y],M=p.attributes[E.name];M!==void 0&&c.vertexAttribPointer(M,E.components,c[jn[E.type]],!1,this.itemSize,E.offset+this.itemSize*(f||0))}},Fi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jr=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};jr.prototype.get=function(){return this.current},jr.prototype.set=function(c){},jr.prototype.getDefault=function(){return this.default},jr.prototype.setDefault=function(){this.set(this.default)};var mi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jr),gi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)},p}(jr),Qo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)},p}(jr),Bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jr),Wi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)},p}(jr),ws=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)},p}(jr),io=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(f){var y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)},p}(jr),Qn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)},p}(jr),Lo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}},p}(jr),oo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jr),bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}},p}(jr),Do=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)},p}(jr),sa=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}},p}(jr),yt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.ONE,f.ZERO]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jr),be=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return a.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jr),Ye=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)},p}(jr),Et=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}},p}(jr),ar=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)},p}(jr),Hr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)},p}(jr),In=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)},p}(jr),Or=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)},p}(jr),en=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jr),$n=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}},p}(jr),Yn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(jr),hn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}},p}(jr),Eo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}},p}(jr),Jn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1},p}(jr),ua=function(c){function p(f){c.call(this,f),this.vao=f.extVertexArrayObject}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)},p}(jr),Ra=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}},p}(jr),Vt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}},p}(jr),Ei=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}},p}(jr),zn=function(c){function p(f,y){c.call(this,f),this.context=f,this.parent=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}(jr),Y=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}},p}(zn),ne=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(zn),fe=function(c,p,f,y){this.context=c,this.width=p,this.height=f;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Y(c,E),y&&(this.depthAttachment=new ne(c,E))};fe.prototype.destroy=function(){var c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){var f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}c.deleteFramebuffer(this.framebuffer)};var ve=function(c,p,f){this.func=c,this.mask=p,this.range=f};ve.ReadOnly=!1,ve.ReadWrite=!0,ve.disabled=new ve(519,ve.ReadOnly,[0,1]);var Ie=function(c,p,f,y,E,M){this.test=c,this.ref=p,this.mask=f,this.fail=y,this.depthFail=E,this.pass=M};Ie.disabled=new Ie({func:519,mask:0},0,0,7680,7680,7680);var Ne=function(c,p,f){this.blendFunction=c,this.blendColor=p,this.mask=f};Ne.disabled=new Ne(Ne.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),Ne.unblended=new Ne(Ne.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ne.alphaBlended=new Ne([1,771],a.Color.transparent,[!0,!0,!0,!0]);var He=function(c,p,f){this.enable=c,this.mode=p,this.frontFace=f};He.disabled=new He(!1,1029,2305),He.backCCW=new He(!0,1029,2305);var ze=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mi(this),this.clearDepth=new gi(this),this.clearStencil=new Qo(this),this.colorMask=new Bi(this),this.depthMask=new Wi(this),this.stencilMask=new ws(this),this.stencilFunc=new io(this),this.stencilOp=new Qn(this),this.stencilTest=new Lo(this),this.depthRange=new oo(this),this.depthTest=new bi(this),this.depthFunc=new Do(this),this.blend=new sa(this),this.blendFunc=new yt(this),this.blendColor=new be(this),this.blendEquation=new Ye(this),this.cullFace=new Et(this),this.cullFaceSide=new ar(this),this.frontFace=new Hr(this),this.program=new In(this),this.activeTexture=new Or(this),this.viewport=new en(this),this.bindFramebuffer=new $n(this),this.bindRenderbuffer=new Yn(this),this.bindTexture=new hn(this),this.bindVertexBuffer=new Eo(this),this.bindElementBuffer=new Jn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ua(this),this.pixelStoreUnpack=new Ra(this),this.pixelStoreUnpackPremultiplyAlpha=new Vt(this),this.pixelStoreUnpackFlipY=new Ei(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};ze.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ze.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ze.prototype.createIndexBuffer=function(c,p){return new Xn(this,c,p)},ze.prototype.createVertexBuffer=function(c,p,f){return new Fi(this,c,p,f)},ze.prototype.createRenderbuffer=function(c,p,f){var y=this.gl,E=y.createRenderbuffer();return this.bindRenderbuffer.set(E),y.renderbufferStorage(y.RENDERBUFFER,c,p,f),this.bindRenderbuffer.set(null),E},ze.prototype.createFramebuffer=function(c,p,f){return new fe(this,c,p,f)},ze.prototype.clear=function(c){var p=c.color,f=c.depth,y=this.gl,E=0;p&&(E|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(E|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y.clear(E)},ze.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},ze.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},ze.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},ze.prototype.setColorMode=function(c){a.deepEqual(c.blendFunction,Ne.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},ze.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(c){function p(f,y,E){var M=this;c.call(this),this.id=f,this.dispatcher=E,this.on("data",function(D){D.dataType==="source"&&D.sourceDataType==="metadata"&&(M._sourceLoaded=!0),M._sourceLoaded&&!M._paused&&D.dataType==="source"&&D.sourceDataType==="content"&&(M.reload(),M.transform&&M.update(M.transform))}),this.on("error",function(){M._sourceErrored=!0}),this._source=function(D,U,q,ee){var he=new vr[U.type](D,U,q,ee);if(he.id!==D)throw new Error("Expected Source id to be "+D+" instead of "+he.id);return a.bindAll(["load","abort","unload","serialize","prepare"],he),he}(f,y,E,this),this._tiles={},this._cache=new Dr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(f)},p.prototype.onRemove=function(f){this._source&&this._source.onRemove&&this._source.onRemove(f)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var f in this._tiles){var y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(f,y){return this._source.loadTile(f,y)},p.prototype._unloadTile=function(f){if(this._source.unloadTile)return this._source.unloadTile(f,function(){})},p.prototype._abortTile=function(f){if(this._source.abortTile)return this._source.abortTile(f,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(f){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[y];E.upload(f),E.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return a.values(this._tiles).map(function(f){return f.tileID}).sort(re).map(function(f){return f.key})},p.prototype.getRenderableIds=function(f){var y=this,E=[];for(var M in this._tiles)this._isIdRenderable(M,f)&&E.push(this._tiles[M]);return f?E.sort(function(D,U){var q=D.tileID,ee=U.tileID,he=new a.Point(q.canonical.x,q.canonical.y)._rotate(y.transform.angle),_e=new a.Point(ee.canonical.x,ee.canonical.y)._rotate(y.transform.angle);return q.overscaledZ-ee.overscaledZ||_e.y-he.y||_e.x-he.x}).map(function(D){return D.tileID.key}):E.map(function(D){return D.tileID}).sort(re).map(function(D){return D.key})},p.prototype.hasRenderableParent=function(f){var y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var f in this._cache.reset(),this._tiles)this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")},p.prototype._reloadTile=function(f,y){var E=this._tiles[f];E&&(E.state!=="loading"&&(E.state=y),this._loadTile(E,this._tileLoaded.bind(this,E,f,y)))},p.prototype._tileLoaded=function(f,y,E,M){if(M)return f.state="errored",void(M.status!==404?this._source.fire(new a.ErrorEvent(M,{tile:f})):this.update(this.transform));f.timeAdded=a.browser.now(),E==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:f,coord:f.tileID}))},p.prototype._backfillDEM=function(f){for(var y=this.getRenderableIds(),E=0;E<y.length;E++){var M=y[E];if(f.neighboringTiles&&f.neighboringTiles[M]){var D=this.getTileByID(M);U(f,D),U(D,f)}}function U(q,ee){q.needsHillshadePrepare=!0;var he=ee.tileID.canonical.x-q.tileID.canonical.x,_e=ee.tileID.canonical.y-q.tileID.canonical.y,de=Math.pow(2,q.tileID.canonical.z),Oe=ee.tileID.key;he===0&&_e===0||Math.abs(_e)>1||(Math.abs(he)>1&&(Math.abs(he+de)===1?he+=de:Math.abs(he-de)===1&&(he-=de)),ee.dem&&q.dem&&(q.dem.backfillBorder(ee.dem,he,_e),q.neighboringTiles&&q.neighboringTiles[Oe]&&(q.neighboringTiles[Oe].backfilled=!0)))}},p.prototype.getTile=function(f){return this.getTileByID(f.key)},p.prototype.getTileByID=function(f){return this._tiles[f]},p.prototype._retainLoadedChildren=function(f,y,E,M){for(var D in this._tiles){var U=this._tiles[D];if(!(M[D]||!U.hasData()||U.tileID.overscaledZ<=y||U.tileID.overscaledZ>E)){for(var q=U.tileID;U&&U.tileID.overscaledZ>y+1;){var ee=U.tileID.scaledTo(U.tileID.overscaledZ-1);(U=this._tiles[ee.key])&&U.hasData()&&(q=ee)}for(var he=q;he.overscaledZ>y;)if(f[(he=he.scaledTo(he.overscaledZ-1)).key]){M[q.key]=q;break}}}},p.prototype.findLoadedParent=function(f,y){if(f.key in this._loadedParentTiles){var E=this._loadedParentTiles[f.key];return E&&E.tileID.overscaledZ>=y?E:null}for(var M=f.overscaledZ-1;M>=y;M--){var D=f.scaledTo(M),U=this._getLoadedTile(D);if(U)return U}},p.prototype._getLoadedTile=function(f){var y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)},p.prototype.updateCacheSize=function(f){var y=Math.ceil(f.width/this._source.tileSize)+1,E=Math.ceil(f.height/this._source.tileSize)+1,M=Math.floor(y*E*5),D=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(D)},p.prototype.handleWrapJump=function(f){var y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){var E={};for(var M in this._tiles){var D=this._tiles[M];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+y),E[D.tileID.key]=D}for(var U in this._tiles=E,this._timers)clearTimeout(this._timers[U]),delete this._timers[U];for(var q in this._tiles)this._setTileReloadTimer(q,this._tiles[q])}},p.prototype.update=function(f){var y=this;if(this.transform=f,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Pt){return new a.OverscaledTileID(Pt.canonical.z,Pt.wrap,Pt.canonical.z,Pt.canonical.x,Pt.canonical.y)}):(E=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(Pt){return y._source.hasTile(Pt)}))):E=[];var M=f.coveringZoomLevel(this._source),D=Math.max(M-p.maxOverzooming,this._source.minzoom),U=Math.max(M+p.maxUnderzooming,this._source.minzoom),q=this._updateRetainedTiles(E,M);if($e(this._source.type)){for(var ee={},he={},_e=0,de=Object.keys(q);_e<de.length;_e+=1){var Oe=de[_e],Pe=q[Oe],Be=this._tiles[Oe];if(Be&&!(Be.fadeEndTime&&Be.fadeEndTime<=a.browser.now())){var Te=this.findLoadedParent(Pe,D);Te&&(this._addTile(Te.tileID),ee[Te.tileID.key]=Te.tileID),he[Oe]=Pe}}for(var Fe in this._retainLoadedChildren(he,M,U,q),ee)q[Fe]||(this._coveredTiles[Fe]=!0,q[Fe]=ee[Fe])}for(var We in q)this._tiles[We].clearFadeHold();for(var Je=0,ht=a.keysDifference(this._tiles,q);Je<ht.length;Je+=1){var At=ht[Je],gt=this._tiles[At];gt.hasSymbolBuckets&&!gt.holdingForFade()?gt.setHoldDuration(this.map._fadeDuration):gt.hasSymbolBuckets&&!gt.symbolFadeFinished()||this._removeTile(At)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)},p.prototype._updateRetainedTiles=function(f,y){for(var E={},M={},D=Math.max(y-p.maxOverzooming,this._source.minzoom),U=Math.max(y+p.maxUnderzooming,this._source.minzoom),q={},ee=0,he=f;ee<he.length;ee+=1){var _e=he[ee],de=this._addTile(_e);E[_e.key]=_e,de.hasData()||y<this._source.maxzoom&&(q[_e.key]=_e)}this._retainLoadedChildren(q,y,U,E);for(var Oe=0,Pe=f;Oe<Pe.length;Oe+=1){var Be=Pe[Oe],Te=this._tiles[Be.key];if(!Te.hasData()){if(y+1>this._source.maxzoom){var Fe=Be.children(this._source.maxzoom)[0],We=this.getTile(Fe);if(We&&We.hasData()){E[Fe.key]=Fe;continue}}else{var Je=Be.children(this._source.maxzoom);if(E[Je[0].key]&&E[Je[1].key]&&E[Je[2].key]&&E[Je[3].key])continue}for(var ht=Te.wasRequested(),At=Be.overscaledZ-1;At>=D;--At){var gt=Be.scaledTo(At);if(M[gt.key]||(M[gt.key]=!0,!(Te=this.getTile(gt))&&ht&&(Te=this._addTile(gt)),Te&&(E[gt.key]=gt,ht=Te.wasRequested(),Te.hasData())))break}}}return E},p.prototype._updateLoadedParentTileCache=function(){for(var f in this._loadedParentTiles={},this._tiles){for(var y=[],E=void 0,M=this._tiles[f].tileID;M.overscaledZ>0;){if(M.key in this._loadedParentTiles){E=this._loadedParentTiles[M.key];break}y.push(M.key);var D=M.scaledTo(M.overscaledZ-1);if(E=this._getLoadedTile(D))break;M=D}for(var U=0,q=y;U<q.length;U+=1)this._loadedParentTiles[q[U]]=E}},p.prototype._addTile=function(f){var y=this._tiles[f.key];if(y)return y;(y=this._cache.getAndRemove(f))&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));var E=Boolean(y);return E||(y=new a.Tile(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,f.key,y.state))),y?(y.uses++,this._tiles[f.key]=y,E||this._source.fire(new a.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(f,y){var E=this;f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);var M=y.getExpiryTimeout();M&&(this._timers[f]=setTimeout(function(){E._reloadTile(f,"expired"),delete E._timers[f]},M))},p.prototype._removeTile=function(f){var y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var f in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(f);this._cache.reset()},p.prototype.tilesIn=function(f,y,E){var M=this,D=[],U=this.transform;if(!U)return D;for(var q=E?U.getCameraQueryGeometry(f):f,ee=f.map(function(At){return U.pointCoordinate(At)}),he=q.map(function(At){return U.pointCoordinate(At)}),_e=this.getIds(),de=1/0,Oe=1/0,Pe=-1/0,Be=-1/0,Te=0,Fe=he;Te<Fe.length;Te+=1){var We=Fe[Te];de=Math.min(de,We.x),Oe=Math.min(Oe,We.y),Pe=Math.max(Pe,We.x),Be=Math.max(Be,We.y)}for(var Je=function(At){var gt=M._tiles[_e[At]];if(!gt.holdingForFade()){var Pt=gt.tileID,Nt=Math.pow(2,U.zoom-gt.tileID.overscaledZ),Bt=y*gt.queryPadding*a.EXTENT/gt.tileSize/Nt,Jt=[Pt.getTilePoint(new a.MercatorCoordinate(de,Oe)),Pt.getTilePoint(new a.MercatorCoordinate(Pe,Be))];if(Jt[0].x-Bt<a.EXTENT&&Jt[0].y-Bt<a.EXTENT&&Jt[1].x+Bt>=0&&Jt[1].y+Bt>=0){var mr=ee.map(function(Er){return Pt.getTilePoint(Er)}),Tr=he.map(function(Er){return Pt.getTilePoint(Er)});D.push({tile:gt,tileID:Pt,queryGeometry:mr,cameraQueryGeometry:Tr,scale:Nt})}}},ht=0;ht<_e.length;ht++)Je(ht);return D},p.prototype.getVisibleCoordinates=function(f){for(var y=this,E=this.getRenderableIds(f).map(function(q){return y._tiles[q].tileID}),M=0,D=E;M<D.length;M+=1){var U=D[M];U.posMatrix=this.transform.calculatePosMatrix(U.toUnwrapped())}return E},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($e(this._source.type))for(var f in this._tiles){var y=this._tiles[f];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=a.browser.now())return!0}return!1},p.prototype.setFeatureState=function(f,y,E){this._state.updateState(f=f||"_geojsonTileLayer",y,E)},p.prototype.removeFeatureState=function(f,y,E){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,E)},p.prototype.getFeatureState=function(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(f,y,E){var M=this._tiles[f];M&&M.setDependencies(y,E)},p.prototype.reloadTilesForDependencies=function(f,y){for(var E in this._tiles)this._tiles[E].hasDependency(f,y)&&this._reloadTile(E,"reloading");this._cache.filter(function(M){return!M.hasDependency(f,y)})},p}(a.Evented);function re(c,p){var f=Math.abs(2*c.wrap)-+(c.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return c.overscaledZ-p.overscaledZ||y-f||p.canonical.y-c.canonical.y||p.canonical.x-c.canonical.x}function $e(c){return c==="raster"||c==="image"||c==="video"}function at(){return new a.window.Worker(Zt.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var Qe="mapboxgl_preloaded_worker_pool",h=function(){this.active={}};h.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<h.workerCount;)this.workers.push(new at);return this.active[c]=!0,this.workers.slice()},h.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},h.prototype.isPreloaded=function(){return!!this.active[Qe]},h.prototype.numActive=function(){return Object.keys(this.active).length};var ge,Lt=Math.floor(a.browser.hardwareConcurrency/2);function $t(){return ge||(ge=new h),ge}function ct(c,p){var f={};for(var y in c)y!=="ref"&&(f[y]=c[y]);return a.refProperties.forEach(function(E){E in p&&(f[E]=p[E])}),f}function Ot(c){c=c.slice();for(var p=Object.create(null),f=0;f<c.length;f++)p[c[f].id]=c[f];for(var y=0;y<c.length;y++)"ref"in c[y]&&(c[y]=ct(c[y],p[c[y].ref]));return c}h.workerCount=Math.max(Math.min(Lt,6),1);var xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pr(c,p,f){f.push({command:xt.addSource,args:[c,p[c]]})}function lr(c,p,f){p.push({command:xt.removeSource,args:[c]}),f[c]=!0}function Gt(c,p,f,y){lr(c,f,y),pr(c,p,f)}function An(c,p,f){var y;for(y in c[f])if(c[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;for(y in p[f])if(p[f].hasOwnProperty(y)&&y!=="data"&&!a.deepEqual(c[f][y],p[f][y]))return!1;return!0}function Xr(c,p,f,y,E,M){var D;for(D in p=p||{},c=c||{})c.hasOwnProperty(D)&&(a.deepEqual(c[D],p[D])||f.push({command:M,args:[y,D,p[D],E]}));for(D in p)p.hasOwnProperty(D)&&!c.hasOwnProperty(D)&&(a.deepEqual(c[D],p[D])||f.push({command:M,args:[y,D,p[D],E]}))}function Ln(c){return c.id}function dn(c,p){return c[p.id]=p,c}var an=function(c,p){this.reset(c,p)};an.prototype.reset=function(c,p){this.points=c||[],this._distances=[0];for(var f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},an.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);for(var p=1,f=this._distances[p],y=c*this.paddedLength+this.padding;f<y&&p<this._distances.length;)f=this._distances[++p];var E=p-1,M=this._distances[E],D=f-M,U=D>0?(y-M)/D:0;return this.points[E].mult(1-U).add(this.points[p].mult(U))};var gn=function(c,p,f){var y=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/f),this.yCellCount=Math.ceil(p/f);for(var M=0;M<this.xCellCount*this.yCellCount;M++)y.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function hi(c,p,f,y,E){var M=a.create();return p?(a.scale(M,M,[1/E,1/E,1]),f||a.rotateZ(M,M,y.angle)):a.multiply(M,y.labelPlaneMatrix,c),M}function xn(c,p,f,y,E){if(p){var M=a.clone(c);return a.scale(M,M,[E,E,1]),f||a.rotateZ(M,M,-y.angle),M}return y.glCoordMatrix}function Xt(c,p){var f=[c.x,c.y,0,1];la(f,f,p);var y=f[3];return{point:new a.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function Ge(c,p){return .5+c/p*.5}function br(c,p){var f=c[0]/c[3],y=c[1]/c[3];return f>=-p[0]&&f<=p[0]&&y>=-p[1]&&y<=p[1]}function uu(c,p,f,y,E,M,D,U){var q=y?c.textSizeData:c.iconSizeData,ee=a.evaluateSizeForZoom(q,f.transform.zoom),he=[256/f.width*2+1,256/f.height*2+1],_e=y?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;_e.clear();for(var de=c.lineVertexArray,Oe=y?c.text.placedSymbolArray:c.icon.placedSymbolArray,Pe=f.transform.width/f.transform.height,Be=!1,Te=0;Te<Oe.length;Te++){var Fe=Oe.get(Te);if(Fe.hidden||Fe.writingMode===a.WritingMode.vertical&&!Be)is(Fe.numGlyphs,_e);else{Be=!1;var We=[Fe.anchorX,Fe.anchorY,0,1];if(a.transformMat4(We,We,p),br(We,he)){var Je=Ge(f.transform.cameraToCenterDistance,We[3]),ht=a.evaluateSizeForFeature(q,ee,Fe),At=D?ht/Je:ht*Je,gt=new a.Point(Fe.anchorX,Fe.anchorY),Pt=Xt(gt,E).point,Nt={},Bt=Wo(Fe,At,!1,U,p,E,M,c.glyphOffsetArray,de,_e,Pt,gt,Nt,Pe);Be=Bt.useVertical,(Bt.notEnoughRoom||Be||Bt.needsFlipping&&Wo(Fe,At,!0,U,p,E,M,c.glyphOffsetArray,de,_e,Pt,gt,Nt,Pe).notEnoughRoom)&&is(Fe.numGlyphs,_e)}else is(Fe.numGlyphs,_e)}}y?c.text.dynamicLayoutVertexBuffer.updateData(_e):c.icon.dynamicLayoutVertexBuffer.updateData(_e)}function Fc(c,p,f,y,E,M,D,U,q,ee,he){var _e=U.glyphStartIndex+U.numGlyphs,de=U.lineStartIndex,Oe=U.lineStartIndex+U.lineLength,Pe=p.getoffsetX(U.glyphStartIndex),Be=p.getoffsetX(_e-1),Te=Me(c*Pe,f,y,E,M,D,U.segment,de,Oe,q,ee,he);if(!Te)return null;var Fe=Me(c*Be,f,y,E,M,D,U.segment,de,Oe,q,ee,he);return Fe?{first:Te,last:Fe}:null}function ao(c,p,f,y){return c===a.WritingMode.horizontal&&Math.abs(f.y-p.y)>Math.abs(f.x-p.x)*y?{useVertical:!0}:(c===a.WritingMode.vertical?p.y<f.y:p.x>f.x)?{needsFlipping:!0}:null}function Wo(c,p,f,y,E,M,D,U,q,ee,he,_e,de,Oe){var Pe,Be=p/24,Te=c.lineOffsetX*Be,Fe=c.lineOffsetY*Be;if(c.numGlyphs>1){var We=c.glyphStartIndex+c.numGlyphs,Je=c.lineStartIndex,ht=c.lineStartIndex+c.lineLength,At=Fc(Be,U,Te,Fe,f,he,_e,c,q,M,de);if(!At)return{notEnoughRoom:!0};var gt=Xt(At.first.point,D).point,Pt=Xt(At.last.point,D).point;if(y&&!f){var Nt=ao(c.writingMode,gt,Pt,Oe);if(Nt)return Nt}Pe=[At.first];for(var Bt=c.glyphStartIndex+1;Bt<We-1;Bt++)Pe.push(Me(Be*U.getoffsetX(Bt),Te,Fe,f,he,_e,c.segment,Je,ht,q,M,de));Pe.push(At.last)}else{if(y&&!f){var Jt=Xt(_e,E).point,mr=c.lineStartIndex+c.segment+1,Tr=new a.Point(q.getx(mr),q.gety(mr)),Er=Xt(Tr,E),yn=Er.signedDistanceFromCamera>0?Er.point:Bc(_e,Tr,Jt,1,E),cr=ao(c.writingMode,Jt,yn,Oe);if(cr)return cr}var Rr=Me(Be*U.getoffsetX(c.glyphStartIndex),Te,Fe,f,he,_e,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,q,M,de);if(!Rr)return{notEnoughRoom:!0};Pe=[Rr]}for(var Jr=0,$r=Pe;Jr<$r.length;Jr+=1){var Br=$r[Jr];a.addDynamicAttributes(ee,Br.point,Br.angle)}return{}}function Bc(c,p,f,y,E){var M=Xt(c.add(c.sub(p)._unit()),E).point,D=f.sub(M);return f.add(D._mult(y/D.mag()))}function Me(c,p,f,y,E,M,D,U,q,ee,he,_e){var de=y?c-p:c+p,Oe=de>0?1:-1,Pe=0;y&&(Oe*=-1,Pe=Math.PI),Oe<0&&(Pe+=Math.PI);for(var Be=Oe>0?U+D:U+D+1,Te=E,Fe=E,We=0,Je=0,ht=Math.abs(de),At=[];We+Je<=ht;){if((Be+=Oe)<U||Be>=q)return null;if(Fe=Te,At.push(Te),(Te=_e[Be])===void 0){var gt=new a.Point(ee.getx(Be),ee.gety(Be)),Pt=Xt(gt,he);if(Pt.signedDistanceFromCamera>0)Te=_e[Be]=Pt.point;else{var Nt=Be-Oe;Te=Bc(We===0?M:new a.Point(ee.getx(Nt),ee.gety(Nt)),gt,Fe,ht-We+1,he)}}We+=Je,Je=Fe.dist(Te)}var Bt=(ht-We)/Je,Jt=Te.sub(Fe),mr=Jt.mult(Bt)._add(Fe);mr._add(Jt._unit()._perp()._mult(f*Oe));var Tr=Pe+Math.atan2(Te.y-Fe.y,Te.x-Fe.x);return At.push(mr),{point:mr,angle:Tr,path:At}}gn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gn.prototype.insert=function(c,p,f,y,E){this._forEachCell(p,f,y,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(E)},gn.prototype.insertCircle=function(c,p,f,y){this._forEachCell(p-y,f-y,p+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(f),this.circles.push(y)},gn.prototype._insertBoxCell=function(c,p,f,y,E,M){this.boxCells[E].push(M)},gn.prototype._insertCircleCell=function(c,p,f,y,E,M){this.circleCells[E].push(M)},gn.prototype._query=function(c,p,f,y,E,M){if(f<0||c>this.width||y<0||p>this.height)return!E&&[];var D=[];if(c<=0&&p<=0&&this.width<=f&&this.height<=y){if(E)return!0;for(var U=0;U<this.boxKeys.length;U++)D.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(var q=0;q<this.circleKeys.length;q++){var ee=this.circles[3*q],he=this.circles[3*q+1],_e=this.circles[3*q+2];D.push({key:this.circleKeys[q],x1:ee-_e,y1:he-_e,x2:ee+_e,y2:he+_e})}return M?D.filter(M):D}return this._forEachCell(c,p,f,y,this._queryCell,D,{hitTest:E,seenUids:{box:{},circle:{}}},M),E?D.length>0:D},gn.prototype._queryCircle=function(c,p,f,y,E){var M=c-f,D=c+f,U=p-f,q=p+f;if(D<0||M>this.width||q<0||U>this.height)return!y&&[];var ee=[];return this._forEachCell(M,U,D,q,this._queryCellCircle,ee,{hitTest:y,circle:{x:c,y:p,radius:f},seenUids:{box:{},circle:{}}},E),y?ee.length>0:ee},gn.prototype.query=function(c,p,f,y,E){return this._query(c,p,f,y,!1,E)},gn.prototype.hitTest=function(c,p,f,y,E){return this._query(c,p,f,y,!0,E)},gn.prototype.hitTestCircle=function(c,p,f,y){return this._queryCircle(c,p,f,!0,y)},gn.prototype._queryCell=function(c,p,f,y,E,M,D,U){var q=D.seenUids,ee=this.boxCells[E];if(ee!==null)for(var he=this.bboxes,_e=0,de=ee;_e<de.length;_e+=1){var Oe=de[_e];if(!q.box[Oe]){q.box[Oe]=!0;var Pe=4*Oe;if(c<=he[Pe+2]&&p<=he[Pe+3]&&f>=he[Pe+0]&&y>=he[Pe+1]&&(!U||U(this.boxKeys[Oe]))){if(D.hitTest)return M.push(!0),!0;M.push({key:this.boxKeys[Oe],x1:he[Pe],y1:he[Pe+1],x2:he[Pe+2],y2:he[Pe+3]})}}}var Be=this.circleCells[E];if(Be!==null)for(var Te=this.circles,Fe=0,We=Be;Fe<We.length;Fe+=1){var Je=We[Fe];if(!q.circle[Je]){q.circle[Je]=!0;var ht=3*Je;if(this._circleAndRectCollide(Te[ht],Te[ht+1],Te[ht+2],c,p,f,y)&&(!U||U(this.circleKeys[Je]))){if(D.hitTest)return M.push(!0),!0;var At=Te[ht],gt=Te[ht+1],Pt=Te[ht+2];M.push({key:this.circleKeys[Je],x1:At-Pt,y1:gt-Pt,x2:At+Pt,y2:gt+Pt})}}}},gn.prototype._queryCellCircle=function(c,p,f,y,E,M,D,U){var q=D.circle,ee=D.seenUids,he=this.boxCells[E];if(he!==null)for(var _e=this.bboxes,de=0,Oe=he;de<Oe.length;de+=1){var Pe=Oe[de];if(!ee.box[Pe]){ee.box[Pe]=!0;var Be=4*Pe;if(this._circleAndRectCollide(q.x,q.y,q.radius,_e[Be+0],_e[Be+1],_e[Be+2],_e[Be+3])&&(!U||U(this.boxKeys[Pe])))return M.push(!0),!0}}var Te=this.circleCells[E];if(Te!==null)for(var Fe=this.circles,We=0,Je=Te;We<Je.length;We+=1){var ht=Je[We];if(!ee.circle[ht]){ee.circle[ht]=!0;var At=3*ht;if(this._circlesCollide(Fe[At],Fe[At+1],Fe[At+2],q.x,q.y,q.radius)&&(!U||U(this.circleKeys[ht])))return M.push(!0),!0}}},gn.prototype._forEachCell=function(c,p,f,y,E,M,D,U){for(var q=this._convertToXCellCoord(c),ee=this._convertToYCellCoord(p),he=this._convertToXCellCoord(f),_e=this._convertToYCellCoord(y),de=q;de<=he;de++)for(var Oe=ee;Oe<=_e;Oe++)if(E.call(this,c,p,f,y,this.xCellCount*Oe+de,M,D,U))return},gn.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},gn.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},gn.prototype._circlesCollide=function(c,p,f,y,E,M){var D=y-c,U=E-p,q=f+M;return q*q>D*D+U*U},gn.prototype._circleAndRectCollide=function(c,p,f,y,E,M,D){var U=(M-y)/2,q=Math.abs(c-(y+U));if(q>U+f)return!1;var ee=(D-E)/2,he=Math.abs(p-(E+ee));if(he>ee+f)return!1;if(q<=U||he<=ee)return!0;var _e=q-U,de=he-ee;return _e*_e+de*de<=f*f};var so=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function is(c,p){for(var f=0;f<c;f++){var y=p.length;p.resize(y+4),p.float32.set(so,3*y)}}function la(c,p,f){var y=p[0],E=p[1];return c[0]=f[0]*y+f[4]*E+f[12],c[1]=f[1]*y+f[5]*E+f[13],c[3]=f[3]*y+f[7]*E+f[15],c}var si=function(c,p,f){p===void 0&&(p=new gn(c.width+200,c.height+200,25)),f===void 0&&(f=new gn(c.width+200,c.height+200,25)),this.transform=c,this.grid=p,this.ignoredGrid=f,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function ca(c,p,f){return p*(a.EXTENT/(c.tileSize*Math.pow(2,f-c.tileID.overscaledZ)))}si.prototype.placeCollisionBox=function(c,p,f,y,E){var M=this.projectAndGetPerspectiveRatio(y,c.anchorPointX,c.anchorPointY),D=f*M.perspectiveRatio,U=c.x1*D+M.point.x,q=c.y1*D+M.point.y,ee=c.x2*D+M.point.x,he=c.y2*D+M.point.y;return!this.isInsideGrid(U,q,ee,he)||!p&&this.grid.hitTest(U,q,ee,he,E)?{box:[],offscreen:!1}:{box:[U,q,ee,he],offscreen:this.isOffscreen(U,q,ee,he)}},si.prototype.placeCollisionCircles=function(c,p,f,y,E,M,D,U,q,ee,he,_e,de){var Oe=[],Pe=new a.Point(p.anchorX,p.anchorY),Be=Xt(Pe,M),Te=Ge(this.transform.cameraToCenterDistance,Be.signedDistanceFromCamera),Fe=(ee?E/Te:E*Te)/a.ONE_EM,We=Xt(Pe,D).point,Je=Fc(Fe,y,p.lineOffsetX*Fe,p.lineOffsetY*Fe,!1,We,Pe,p,f,D,{}),ht=!1,At=!1,gt=!0;if(Je){for(var Pt=.5*_e*Te+de,Nt=new a.Point(-100,-100),Bt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Jt=new an,mr=Je.first,Tr=Je.last,Er=[],yn=mr.path.length-1;yn>=1;yn--)Er.push(mr.path[yn]);for(var cr=1;cr<Tr.path.length;cr++)Er.push(Tr.path[cr]);var Rr=2.5*Pt;if(U){var Jr=Er.map(function(ps){return Xt(ps,U)});Er=Jr.some(function(ps){return ps.signedDistanceFromCamera<=0})?[]:Jr.map(function(ps){return ps.point})}var $r=[];if(Er.length>0){for(var Br=Er[0].clone(),Nr=Er[0].clone(),Lr=1;Lr<Er.length;Lr++)Br.x=Math.min(Br.x,Er[Lr].x),Br.y=Math.min(Br.y,Er[Lr].y),Nr.x=Math.max(Nr.x,Er[Lr].x),Nr.y=Math.max(Nr.y,Er[Lr].y);$r=Br.x>=Nt.x&&Nr.x<=Bt.x&&Br.y>=Nt.y&&Nr.y<=Bt.y?[Er]:Nr.x<Nt.x||Br.x>Bt.x||Nr.y<Nt.y||Br.y>Bt.y?[]:a.clipLine([Er],Nt.x,Nt.y,Bt.x,Bt.y)}for(var Ar=0,Hn=$r;Ar<Hn.length;Ar+=1){var Vi;Jt.reset(Hn[Ar],.25*Pt),Vi=Jt.length<=.5*Pt?1:Math.ceil(Jt.paddedLength/Rr)+1;for(var Ii=0;Ii<Vi;Ii++){var uo=Ii/Math.max(Vi-1,1),Xi=Jt.lerp(uo),fi=Xi.x+100,na=Xi.y+100;Oe.push(fi,na,Pt,0);var Hi=fi-Pt,ia=na-Pt,wa=fi+Pt,gu=na+Pt;if(gt=gt&&this.isOffscreen(Hi,ia,wa,gu),At=At||this.isInsideGrid(Hi,ia,wa,gu),!c&&this.grid.hitTestCircle(fi,na,Pt,he)&&(ht=!0,!q))return{circles:[],offscreen:!1,collisionDetected:ht}}}}return{circles:!q&&ht||!At?[]:Oe,offscreen:gt,collisionDetected:ht}},si.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],f=1/0,y=1/0,E=-1/0,M=-1/0,D=0,U=c;D<U.length;D+=1){var q=U[D],ee=new a.Point(q.x+100,q.y+100);f=Math.min(f,ee.x),y=Math.min(y,ee.y),E=Math.max(E,ee.x),M=Math.max(M,ee.y),p.push(ee)}for(var he={},_e={},de=0,Oe=this.grid.query(f,y,E,M).concat(this.ignoredGrid.query(f,y,E,M));de<Oe.length;de+=1){var Pe=Oe[de],Be=Pe.key;if(he[Be.bucketInstanceId]===void 0&&(he[Be.bucketInstanceId]={}),!he[Be.bucketInstanceId][Be.featureIndex]){var Te=[new a.Point(Pe.x1,Pe.y1),new a.Point(Pe.x2,Pe.y1),new a.Point(Pe.x2,Pe.y2),new a.Point(Pe.x1,Pe.y2)];a.polygonIntersectsPolygon(p,Te)&&(he[Be.bucketInstanceId][Be.featureIndex]=!0,_e[Be.bucketInstanceId]===void 0&&(_e[Be.bucketInstanceId]=[]),_e[Be.bucketInstanceId].push(Be.featureIndex))}}return _e},si.prototype.insertCollisionBox=function(c,p,f,y,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:E},c[0],c[1],c[2],c[3])},si.prototype.insertCollisionCircles=function(c,p,f,y,E){for(var M=p?this.ignoredGrid:this.grid,D={bucketInstanceId:f,featureIndex:y,collisionGroupID:E},U=0;U<c.length;U+=4)M.insertCircle(D,c[U],c[U+1],c[U+2])},si.prototype.projectAndGetPerspectiveRatio=function(c,p,f){var y=[p,f,0,1];return la(y,y,c),{point:new a.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},si.prototype.isOffscreen=function(c,p,f,y){return f<100||c>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},si.prototype.isInsideGrid=function(c,p,f,y){return f>=0&&c<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},si.prototype.getViewportMatrix=function(){var c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c};var ko=function(c,p,f,y){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):y&&f?1:0,this.placed=f};ko.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Zo=function(c,p,f,y,E){this.text=new ko(c?c.text:null,p,f,E),this.icon=new ko(c?c.icon:null,p,y,E)};Zo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var os=function(c,p,f){this.text=c,this.icon=p,this.skipFade=f},Tf=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},zi=function(c,p,f,y,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=E},ki=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function as(c,p,f,y,E){var M=a.getAnchorAlignment(c),D=-(M.horizontalAlign-.5)*p,U=-(M.verticalAlign-.5)*f,q=a.evaluateVariableOffset(c,y);return new a.Point(D+q[0]*E,U+q[1]*E)}function wi(c,p,f,y,E,M){var D=c.x1,U=c.x2,q=c.y1,ee=c.y2,he=c.anchorPointX,_e=c.anchorPointY,de=new a.Point(p,f);return y&&de._rotate(E?M:-M),{x1:D+de.x,y1:q+de.y,x2:U+de.x,y2:ee+de.y,anchorPointX:he,anchorPointY:_e}}ki.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:function(f){return f.collisionGroupID===p}}}return this.collisionGroups[c]};var Ni=function(c,p,f,y){this.transform=c.clone(),this.collisionIndex=new si(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ki(f),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Fu(c,p,f,y,E){c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0)}Ni.prototype.getBucketParts=function(c,p,f,y){var E=f.getBucket(p),M=f.latestFeatureIndex;if(E&&M&&p.id===E.layerIds[0]){var D=f.collisionBoxArray,U=E.layers[0].layout,q=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),ee=f.tileSize/a.EXTENT,he=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),_e=U.get("text-pitch-alignment")==="map",de=U.get("text-rotation-alignment")==="map",Oe=ca(f,1,this.transform.zoom),Pe=hi(he,_e,de,this.transform,Oe),Be=null;if(_e){var Te=xn(he,_e,de,this.transform,Oe);Be=a.multiply([],this.transform.labelPlaneMatrix,Te)}this.retainedQueryData[E.bucketInstanceId]=new zi(E.bucketInstanceId,M,E.sourceLayerIndex,E.index,f.tileID);var Fe={bucket:E,layout:U,posMatrix:he,textLabelPlaneMatrix:Pe,labelToScreenMatrix:Be,scale:q,textPixelRatio:ee,holdingForFade:f.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(y)for(var We=0,Je=E.sortKeyRanges;We<Je.length;We+=1){var ht=Je[We];c.push({sortKey:ht.sortKey,symbolInstanceStart:ht.symbolInstanceStart,symbolInstanceEnd:ht.symbolInstanceEnd,parameters:Fe})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Fe})}},Ni.prototype.attemptAnchorPlacement=function(c,p,f,y,E,M,D,U,q,ee,he,_e,de,Oe,Pe){var Be,Te=[_e.textOffset0,_e.textOffset1],Fe=as(c,f,y,Te,E),We=this.collisionIndex.placeCollisionBox(wi(p,Fe.x,Fe.y,M,D,this.transform.angle),he,U,q,ee.predicate);if(!Pe||this.collisionIndex.placeCollisionBox(wi(Pe,Fe.x,Fe.y,M,D,this.transform.angle),he,U,q,ee.predicate).box.length!==0)return We.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[_e.crossTileID].anchor),this.variableOffsets[_e.crossTileID]={textOffset:Te,width:f,height:y,anchor:c,textBoxScale:E,prevAnchor:Be},this.markUsedJustification(de,c,_e,Oe),de.allowVerticalPlacement&&(this.markUsedOrientation(de,Oe,_e),this.placedOrientations[_e.crossTileID]=Oe),{shift:Fe,placedGlyphBoxes:We}):void 0},Ni.prototype.placeLayerBucketPart=function(c,p,f){var y=this,E=c.parameters,M=E.bucket,D=E.layout,U=E.posMatrix,q=E.textLabelPlaneMatrix,ee=E.labelToScreenMatrix,he=E.textPixelRatio,_e=E.holdingForFade,de=E.collisionBoxArray,Oe=E.partiallyEvaluatedTextSize,Pe=E.collisionGroup,Be=D.get("text-optional"),Te=D.get("icon-optional"),Fe=D.get("text-allow-overlap"),We=D.get("icon-allow-overlap"),Je=D.get("text-rotation-alignment")==="map",ht=D.get("text-pitch-alignment")==="map",At=D.get("icon-text-fit")!=="none",gt=D.get("symbol-z-order")==="viewport-y",Pt=Fe&&(We||!M.hasIconData()||Te),Nt=We&&(Fe||!M.hasTextData()||Be);!M.collisionArrays&&de&&M.deserializeCollisionBoxes(de);var Bt=function(cr,Rr){if(!p[cr.crossTileID])if(_e)y.placements[cr.crossTileID]=new os(!1,!1,!1);else{var Jr,$r=!1,Br=!1,Nr=!0,Lr=null,Ar={box:null,offscreen:null},Hn={box:null,offscreen:null},Vi=null,Ii=null,uo=0,Xi=0,fi=0;Rr.textFeatureIndex?uo=Rr.textFeatureIndex:cr.useRuntimeCollisionCircles&&(uo=cr.featureIndex),Rr.verticalTextFeatureIndex&&(Xi=Rr.verticalTextFeatureIndex);var na=Rr.textBox;if(na){var Hi=function(Yi){var qi=a.WritingMode.horizontal;if(M.allowVerticalPlacement&&!Yi&&y.prevPlacement){var Aa=y.prevPlacement.placedOrientations[cr.crossTileID];Aa&&(y.placedOrientations[cr.crossTileID]=Aa,y.markUsedOrientation(M,qi=Aa,cr))}return qi},ia=function(Yi,qi){if(M.allowVerticalPlacement&&cr.numVerticalGlyphVertices>0&&Rr.verticalTextBox)for(var Aa=0,lc=M.writingModes;Aa<lc.length&&(lc[Aa]===a.WritingMode.vertical?(Ar=qi(),Hn=Ar):Ar=Yi(),!(Ar&&Ar.box&&Ar.box.length));Aa+=1);else Ar=Yi()};if(D.get("text-variable-anchor")){var wa=D.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[cr.crossTileID]){var gu=y.prevPlacement.variableOffsets[cr.crossTileID];wa.indexOf(gu.anchor)>0&&(wa=wa.filter(function(Yi){return Yi!==gu.anchor})).unshift(gu.anchor)}var ps=function(Yi,qi,Aa){for(var lc=Yi.x2-Yi.x1,Np=Yi.y2-Yi.y1,QA=cr.textBoxScale,Nf=At&&!We?qi:null,Uf={box:[],offscreen:!1},WA=Fe?2*wa.length:wa.length,bl=0;bl<WA;++bl){var jf=y.attemptAnchorPlacement(wa[bl%wa.length],Yi,lc,Np,QA,Je,ht,he,U,Pe,bl>=wa.length,cr,M,Aa,Nf);if(jf&&(Uf=jf.placedGlyphBoxes)&&Uf.box&&Uf.box.length){$r=!0,Lr=jf.shift;break}}return Uf};ia(function(){return ps(na,Rr.iconBox,a.WritingMode.horizontal)},function(){var Yi=Rr.verticalTextBox;return M.allowVerticalPlacement&&!(Ar&&Ar.box&&Ar.box.length)&&cr.numVerticalGlyphVertices>0&&Yi?ps(Yi,Rr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Ar&&($r=Ar.box,Nr=Ar.offscreen);var Bf=Hi(Ar&&Ar.box);if(!$r&&y.prevPlacement){var _l=y.prevPlacement.variableOffsets[cr.crossTileID];_l&&(y.variableOffsets[cr.crossTileID]=_l,y.markUsedJustification(M,_l.anchor,cr,Bf))}}else{var yu=function(Yi,qi){var Aa=y.collisionIndex.placeCollisionBox(Yi,Fe,he,U,Pe.predicate);return Aa&&Aa.box&&Aa.box.length&&(y.markUsedOrientation(M,qi,cr),y.placedOrientations[cr.crossTileID]=qi),Aa};ia(function(){return yu(na,a.WritingMode.horizontal)},function(){var Yi=Rr.verticalTextBox;return M.allowVerticalPlacement&&cr.numVerticalGlyphVertices>0&&Yi?yu(Yi,a.WritingMode.vertical):{box:null,offscreen:null}}),Hi(Ar&&Ar.box&&Ar.box.length)}}if($r=(Jr=Ar)&&Jr.box&&Jr.box.length>0,Nr=Jr&&Jr.offscreen,cr.useRuntimeCollisionCircles){var xl=M.text.placedSymbolArray.get(cr.centerJustifiedTextSymbolIndex),zf=a.evaluateSizeForFeature(M.textSizeData,Oe,xl),tf=D.get("text-padding");Vi=y.collisionIndex.placeCollisionCircles(Fe,xl,M.lineVertexArray,M.glyphOffsetArray,zf,U,q,ee,f,ht,Pe.predicate,cr.collisionCircleDiameter,tf),$r=Fe||Vi.circles.length>0&&!Vi.collisionDetected,Nr=Nr&&Vi.offscreen}if(Rr.iconFeatureIndex&&(fi=Rr.iconFeatureIndex),Rr.iconBox){var Qa=function(Yi){var qi=At&&Lr?wi(Yi,Lr.x,Lr.y,Je,ht,y.transform.angle):Yi;return y.collisionIndex.placeCollisionBox(qi,We,he,U,Pe.predicate)};Br=Hn&&Hn.box&&Hn.box.length&&Rr.verticalIconBox?(Ii=Qa(Rr.verticalIconBox)).box.length>0:(Ii=Qa(Rr.iconBox)).box.length>0,Nr=Nr&&Ii.offscreen}var rf=Be||cr.numHorizontalGlyphVertices===0&&cr.numVerticalGlyphVertices===0,yo=Te||cr.numIconVertices===0;if(rf||yo?yo?rf||(Br=Br&&$r):$r=Br&&$r:Br=$r=Br&&$r,$r&&Jr&&Jr.box&&y.collisionIndex.insertCollisionBox(Jr.box,D.get("text-ignore-placement"),M.bucketInstanceId,Hn&&Hn.box&&Xi?Xi:uo,Pe.ID),Br&&Ii&&y.collisionIndex.insertCollisionBox(Ii.box,D.get("icon-ignore-placement"),M.bucketInstanceId,fi,Pe.ID),Vi&&($r&&y.collisionIndex.insertCollisionCircles(Vi.circles,D.get("text-ignore-placement"),M.bucketInstanceId,uo,Pe.ID),f)){var Ys=M.bucketInstanceId,Ts=y.collisionCircleArrays[Ys];Ts===void 0&&(Ts=y.collisionCircleArrays[Ys]=new Tf);for(var uc=0;uc<Vi.circles.length;uc+=4)Ts.circles.push(Vi.circles[uc+0]),Ts.circles.push(Vi.circles[uc+1]),Ts.circles.push(Vi.circles[uc+2]),Ts.circles.push(Vi.collisionDetected?1:0)}y.placements[cr.crossTileID]=new os($r||Pt,Br||Nt,Nr||M.justReloaded),p[cr.crossTileID]=!0}};if(gt)for(var Jt=M.getSortedSymbolIndexes(this.transform.angle),mr=Jt.length-1;mr>=0;--mr){var Tr=Jt[mr];Bt(M.symbolInstances.get(Tr),M.collisionArrays[Tr])}else for(var Er=c.symbolInstanceStart;Er<c.symbolInstanceEnd;Er++)Bt(M.symbolInstances.get(Er),M.collisionArrays[Er]);if(f&&M.bucketInstanceId in this.collisionCircleArrays){var yn=this.collisionCircleArrays[M.bucketInstanceId];a.invert(yn.invProjMatrix,U),yn.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1},Ni.prototype.markUsedJustification=function(c,p,f,y){var E;E=y===a.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];for(var M=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];M<D.length;M+=1){var U=D[M];U>=0&&(c.text.placedSymbolArray.get(U).crossTileID=E>=0&&U!==E?0:f.crossTileID)}},Ni.prototype.markUsedOrientation=function(c,p,f){for(var y=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,M=0,D=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];M<D.length;M+=1)c.text.placedSymbolArray.get(D[M]).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=E)},Ni.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,f=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},M=p?p.variableOffsets:{},D=p?p.placedOrientations:{};for(var U in this.placements){var q=this.placements[U],ee=E[U];ee?(this.opacities[U]=new Zo(ee,y,q.text,q.icon),f=f||q.text!==ee.text.placed||q.icon!==ee.icon.placed):(this.opacities[U]=new Zo(null,y,q.text,q.icon,q.skipFade),f=f||q.text||q.icon)}for(var he in E){var _e=E[he];if(!this.opacities[he]){var de=new Zo(_e,y,!1,!1);de.isHidden()||(this.opacities[he]=de,f=f||_e.text.placed||_e.icon.placed)}}for(var Oe in M)this.variableOffsets[Oe]||!this.opacities[Oe]||this.opacities[Oe].isHidden()||(this.variableOffsets[Oe]=M[Oe]);for(var Pe in D)this.placedOrientations[Pe]||!this.opacities[Pe]||this.opacities[Pe].isHidden()||(this.placedOrientations[Pe]=D[Pe]);f?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)},Ni.prototype.updateLayerOpacities=function(c,p){for(var f={},y=0,E=p;y<E.length;y+=1){var M=E[y],D=M.getBucket(c);D&&M.latestFeatureIndex&&c.id===D.layerIds[0]&&this.updateBucketOpacities(D,f,M.collisionBoxArray)}},Ni.prototype.updateBucketOpacities=function(c,p,f){var y=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,M=new Zo(null,0,!1,!1,!0),D=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),q=E.get("text-variable-anchor"),ee=E.get("text-rotation-alignment")==="map",he=E.get("text-pitch-alignment")==="map",_e=E.get("icon-text-fit")!=="none",de=new Zo(null,0,D&&(U||!c.hasIconData()||E.get("icon-optional")),U&&(D||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&f&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(f);for(var Oe=function(Fe,We,Je){for(var ht=0;ht<We/4;ht++)Fe.opacityVertexArray.emplaceBack(Je)},Pe=function(Fe){var We=c.symbolInstances.get(Fe),Je=We.numHorizontalGlyphVertices,ht=We.numVerticalGlyphVertices,At=We.crossTileID,gt=y.opacities[At];p[At]?gt=M:gt||(y.opacities[At]=gt=de),p[At]=!0;var Pt=We.numIconVertices>0,Nt=y.placedOrientations[We.crossTileID],Bt=Nt===a.WritingMode.vertical,Jt=Nt===a.WritingMode.horizontal||Nt===a.WritingMode.horizontalOnly;if(Je>0||ht>0){var mr=If(gt.text);Oe(c.text,Je,Bt?Kl:mr),Oe(c.text,ht,Jt?Kl:mr);var Tr=gt.text.isHidden();[We.rightJustifiedTextSymbolIndex,We.centerJustifiedTextSymbolIndex,We.leftJustifiedTextSymbolIndex].forEach(function(Ar){Ar>=0&&(c.text.placedSymbolArray.get(Ar).hidden=Tr||Bt?1:0)}),We.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(We.verticalPlacedTextSymbolIndex).hidden=Tr||Jt?1:0);var Er=y.variableOffsets[We.crossTileID];Er&&y.markUsedJustification(c,Er.anchor,We,Nt);var yn=y.placedOrientations[We.crossTileID];yn&&(y.markUsedJustification(c,"left",We,yn),y.markUsedOrientation(c,yn,We))}if(Pt){var cr=If(gt.icon),Rr=!(_e&&We.verticalPlacedIconSymbolIndex&&Bt);We.placedIconSymbolIndex>=0&&(Oe(c.icon,We.numIconVertices,Rr?cr:Kl),c.icon.placedSymbolArray.get(We.placedIconSymbolIndex).hidden=gt.icon.isHidden()),We.verticalPlacedIconSymbolIndex>=0&&(Oe(c.icon,We.numVerticalIconVertices,Rr?Kl:cr),c.icon.placedSymbolArray.get(We.verticalPlacedIconSymbolIndex).hidden=gt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var Jr=c.collisionArrays[Fe];if(Jr){var $r=new a.Point(0,0);if(Jr.textBox||Jr.verticalTextBox){var Br=!0;if(q){var Nr=y.variableOffsets[At];Nr?($r=as(Nr.anchor,Nr.width,Nr.height,Nr.textOffset,Nr.textBoxScale),ee&&$r._rotate(he?y.transform.angle:-y.transform.angle)):Br=!1}Jr.textBox&&Fu(c.textCollisionBox.collisionVertexArray,gt.text.placed,!Br||Bt,$r.x,$r.y),Jr.verticalTextBox&&Fu(c.textCollisionBox.collisionVertexArray,gt.text.placed,!Br||Jt,$r.x,$r.y)}var Lr=Boolean(!Jt&&Jr.verticalIconBox);Jr.iconBox&&Fu(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,Lr,_e?$r.x:0,_e?$r.y:0),Jr.verticalIconBox&&Fu(c.iconCollisionBox.collisionVertexArray,gt.icon.placed,!Lr,_e?$r.x:0,_e?$r.y:0)}}},Be=0;Be<c.symbolInstances.length;Be++)Pe(Be);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var Te=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Te.invProjMatrix,c.placementViewportMatrix=Te.viewportMatrix,c.collisionCircleArray=Te.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},Ni.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ni.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},Ni.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},Ni.prototype.stillRecent=function(c,p){var f=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*f>c},Ni.prototype.setStale=function(){this.stale=!0};var Zl=Math.pow(2,25),Pp=Math.pow(2,24),Ip=Math.pow(2,17),ci=Math.pow(2,16),zc=Math.pow(2,9),Pf=Math.pow(2,8),GA=Math.pow(2,1);function If(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var p=c.placed?1:0,f=Math.floor(127*c.opacity);return f*Zl+p*Pp+f*Ip+p*ci+f*zc+p*Pf+f*GA+p}var Kl=0,Xl=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Xl.prototype.continuePlacement=function(c,p,f,y,E){for(var M=this._bucketParts;this._currentTileIndex<c.length;)if(p.getBucketParts(M,y,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,M.sort(function(D,U){return D.sortKey-U.sortKey}));this._currentPartIndex<M.length;)if(p.placeLayerBucketPart(M[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,E())return!0;return!1};var Bu=function(c,p,f,y,E,M,D){this.placement=new Ni(c,E,M,D),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1};Bu.prototype.isDone=function(){return this._done},Bu.prototype.continuePlacement=function(c,p,f){for(var y=this,E=a.browser.now(),M=function(){var q=a.browser.now()-E;return!y._forceFullPlacement&&q>2};this._currentPlacementIndex>=0;){var D=p[c[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=U)&&(!D.maxzoom||D.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new Xl(D)),this._inProgressLayer.continuePlacement(f[D.source],this.placement,this._showCollisionBoxes,D,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Bu.prototype.commit=function(c){return this.placement.commit(c),this.placement};var Nc=512/a.EXTENT/2,Uc=function(c,p,f){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(var y=0;y<p.length;y++){var E=p.get(y),M=E.key;this.indexedSymbolInstances[M]||(this.indexedSymbolInstances[M]=[]),this.indexedSymbolInstances[M].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};Uc.prototype.getScaledCoordinates=function(c,p){var f=Nc/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*a.EXTENT+c.anchorX)*f),y:Math.floor((p.canonical.y*a.EXTENT+c.anchorY)*f)}},Uc.prototype.findMatches=function(c,p,f){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),E=0;E<c.length;E++){var M=c.get(E);if(!M.crossTileID){var D=this.indexedSymbolInstances[M.key];if(D)for(var U=this.getScaledCoordinates(M,p),q=0,ee=D;q<ee.length;q+=1){var he=ee[q];if(Math.abs(he.coord.x-U.x)<=y&&Math.abs(he.coord.y-U.y)<=y&&!f[he.crossTileID]){f[he.crossTileID]=!0,M.crossTileID=he.crossTileID;break}}}}};var Yl=function(){this.maxCrossTileID=0};Yl.prototype.generate=function(){return++this.maxCrossTileID};var Ko=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ko.prototype.handleWrapJump=function(c){var p=Math.round((c-this.lng)/360);if(p!==0)for(var f in this.indexes){var y=this.indexes[f],E={};for(var M in y){var D=y[M];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+p),E[D.tileID.key]=D}this.indexes[f]=E}this.lng=c},Ko.prototype.addBucket=function(c,p,f){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var M in this.indexes){var D=this.indexes[M];if(Number(M)>c.overscaledZ)for(var U in D){var q=D[U];q.tileID.isChildOf(c)&&q.findMatches(p.symbolInstances,c,E)}else{var ee=D[c.scaledTo(Number(M)).key];ee&&ee.findMatches(p.symbolInstances,c,E)}}for(var he=0;he<p.symbolInstances.length;he++){var _e=p.symbolInstances.get(he);_e.crossTileID||(_e.crossTileID=f.generate(),E[_e.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Uc(c,p.symbolInstances,p.bucketInstanceId),!0},Ko.prototype.removeBucketCrossTileIDs=function(c,p){for(var f in p.indexedSymbolInstances)for(var y=0,E=p.indexedSymbolInstances[f];y<E.length;y+=1)delete this.usedCrossTileIDs[c][E[y].crossTileID]},Ko.prototype.removeStaleBuckets=function(c){var p=!1;for(var f in this.indexes){var y=this.indexes[f];for(var E in y)c[y[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[E]),delete y[E],p=!0)}return p};var lu=function(){this.layerIndexes={},this.crossTileIDs=new Yl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};lu.prototype.addLayer=function(c,p,f){var y=this.layerIndexes[c.id];y===void 0&&(y=this.layerIndexes[c.id]=new Ko);var E=!1,M={};y.handleWrapJump(f);for(var D=0,U=p;D<U.length;D+=1){var q=U[D],ee=q.getBucket(c);ee&&c.id===ee.layerIds[0]&&(ee.bucketInstanceId||(ee.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(q.tileID,ee,this.crossTileIDs)&&(E=!0),M[ee.bucketInstanceId]=!0)}return y.removeStaleBuckets(M)&&(E=!0),E},lu.prototype.pruneUnusedLayers=function(c){var p={};for(var f in c.forEach(function(y){p[y]=!0}),this.layerIndexes)p[f]||delete this.layerIndexes[f]};var Ss=function(c,p){return a.emitValidationErrors(c,p&&p.filter(function(f){return f.identifier!=="source.canvas"}))},jc=a.pick(xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),cu=a.pick(xt,["setCenter","setZoom","setBearing","setPitch"]),Nn=function(){var c={},p=a.styleSpec.$version;for(var f in a.styleSpec.$root){var y,E=a.styleSpec.$root[f];E.required&&(y=f==="version"?p:E.type==="array"?[]:{})!=null&&(c[f]=y)}return c}(),qr=function(c){function p(f,y){var E=this;y===void 0&&(y={}),c.call(this),this.map=f,this.dispatcher=new St($t(),this),this.imageManager=new K,this.imageManager.setEventedParent(this),this.glyphManager=new qe(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new wt(256,512),this.crossTileSymbolIndex=new lu,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var M=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(D){M.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},function(U,q){if(a.triggerPluginCompletionEvent(U),q&&q.every(function(he){return he}))for(var ee in M.sourceCaches)M.sourceCaches[ee].reload()})}),this.on("data",function(D){if(D.dataType==="source"&&D.sourceDataType==="metadata"){var U=E.sourceCaches[D.sourceId];if(U){var q=U.getSource();if(q&&q.vectorLayerIds)for(var ee in E._layers){var he=E._layers[ee];he.source===q.id&&E._validateLayer(he)}}}})}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.loadURL=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var M=typeof y.validate=="boolean"?y.validate:!a.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,y.accessToken);var D=this.map._requestManager.transformRequest(f,a.ResourceType.Style);this._request=a.getJSON(D,function(U,q){E._request=null,U?E.fire(new a.ErrorEvent(U)):q&&E._load(q,M)})},p.prototype.loadJSON=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){E._request=null,E._load(f,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Nn,!1)},p.prototype._load=function(f,y){if(!y||!Ss(this,a.validateStyle(f))){for(var E in this._loaded=!0,this.stylesheet=f,f.sources)this.addSource(E,f.sources[E],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs);var M=Ot(this.stylesheet.layers);this._order=M.map(function(ee){return ee.id}),this._layers={},this._serializedLayers={};for(var D=0,U=M;D<U.length;D+=1){var q=U[D];(q=a.createStyleLayer(q)).setEventedParent(this,{layer:{id:q.id}}),this._layers[q.id]=q,this._serializedLayers[q.id]=q.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new st(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},p.prototype._loadSprite=function(f){var y=this;this._spriteRequest=function(E,M,D){var U,q,ee,he=a.browser.devicePixelRatio>1?"@2x":"",_e=a.getJSON(M.transformRequest(M.normalizeSpriteURL(E,he,".json"),a.ResourceType.SpriteJSON),function(Pe,Be){_e=null,ee||(ee=Pe,U=Be,Oe())}),de=a.getImage(M.transformRequest(M.normalizeSpriteURL(E,he,".png"),a.ResourceType.SpriteImage),function(Pe,Be){de=null,ee||(ee=Pe,q=Be,Oe())});function Oe(){if(ee)D(ee);else if(U&&q){var Pe=a.browser.getImageData(q),Be={};for(var Te in U){var Fe=U[Te],We=Fe.width,Je=Fe.height,ht=Fe.x,At=Fe.y,gt=Fe.sdf,Pt=Fe.pixelRatio,Nt=Fe.stretchX,Bt=Fe.stretchY,Jt=Fe.content,mr=new a.RGBAImage({width:We,height:Je});a.RGBAImage.copy(Pe,mr,{x:ht,y:At},{x:0,y:0},{width:We,height:Je}),Be[Te]={data:mr,pixelRatio:Pt,sdf:gt,stretchX:Nt,stretchY:Bt,content:Jt}}D(null,Be)}}return{cancel:function(){_e&&(_e.cancel(),_e=null),de&&(de.cancel(),de=null)}}}(f,this.map._requestManager,function(E,M){if(y._spriteRequest=null,E)y.fire(new a.ErrorEvent(E));else if(M)for(var D in M)y.imageManager.addImage(D,M[D]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new a.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(f){var y=this.sourceCaches[f.source];if(y){var E=f.sourceLayer;if(E){var M=y.getSource();(M.type==="geojson"||M.vectorLayerIds&&M.vectorLayerIds.indexOf(E)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+M.id+'" as specified by style layer "'+f.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(f){for(var y=[],E=0,M=f;E<M.length;E+=1){var D=this._layers[M[E]];D.type!=="custom"&&y.push(D.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(f){if(this._loaded){var y=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);for(var D in(E.length||M.length)&&this._updateWorkerLayers(E,M),this._updatedSources){var U=this._updatedSources[D];U==="reload"?this._reloadSource(D):U==="clear"&&this._clearSource(D)}for(var q in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[q].updateTransitions(f);this.light.updateTransitions(f),this._resetUpdates()}var ee={};for(var he in this.sourceCaches){var _e=this.sourceCaches[he];ee[he]=_e.used,_e.used=!1}for(var de=0,Oe=this._order;de<Oe.length;de+=1){var Pe=this._layers[Oe[de]];Pe.recalculate(f,this._availableImages),!Pe.isHidden(f.zoom)&&Pe.source&&(this.sourceCaches[Pe.source].used=!0)}for(var Be in ee){var Te=this.sourceCaches[Be];ee[Be]!==Te.used&&Te.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Be}))}this.light.recalculate(f),this.z=f.zoom,y&&this.fire(new a.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var f=Object.keys(this._changedImages);if(f.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}},p.prototype._updateWorkerLayers=function(f,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(f){var y=this;if(this._checkLoaded(),Ss(this,a.validateStyle(f)))return!1;(f=a.clone$1(f)).layers=Ot(f.layers);var E=function(D,U){if(!D)return[{command:xt.setStyle,args:[U]}];var q=[];try{if(!a.deepEqual(D.version,U.version))return[{command:xt.setStyle,args:[U]}];a.deepEqual(D.center,U.center)||q.push({command:xt.setCenter,args:[U.center]}),a.deepEqual(D.zoom,U.zoom)||q.push({command:xt.setZoom,args:[U.zoom]}),a.deepEqual(D.bearing,U.bearing)||q.push({command:xt.setBearing,args:[U.bearing]}),a.deepEqual(D.pitch,U.pitch)||q.push({command:xt.setPitch,args:[U.pitch]}),a.deepEqual(D.sprite,U.sprite)||q.push({command:xt.setSprite,args:[U.sprite]}),a.deepEqual(D.glyphs,U.glyphs)||q.push({command:xt.setGlyphs,args:[U.glyphs]}),a.deepEqual(D.transition,U.transition)||q.push({command:xt.setTransition,args:[U.transition]}),a.deepEqual(D.light,U.light)||q.push({command:xt.setLight,args:[U.light]});var ee={},he=[];(function(de,Oe,Pe,Be){var Te;for(Te in Oe=Oe||{},de=de||{})de.hasOwnProperty(Te)&&(Oe.hasOwnProperty(Te)||lr(Te,Pe,Be));for(Te in Oe)Oe.hasOwnProperty(Te)&&(de.hasOwnProperty(Te)?a.deepEqual(de[Te],Oe[Te])||(de[Te].type==="geojson"&&Oe[Te].type==="geojson"&&An(de,Oe,Te)?Pe.push({command:xt.setGeoJSONSourceData,args:[Te,Oe[Te].data]}):Gt(Te,Oe,Pe,Be)):pr(Te,Oe,Pe))})(D.sources,U.sources,he,ee);var _e=[];D.layers&&D.layers.forEach(function(de){ee[de.source]?q.push({command:xt.removeLayer,args:[de.id]}):_e.push(de)}),q=q.concat(he),function(de,Oe,Pe){Oe=Oe||[];var Be,Te,Fe,We,Je,ht,At,gt=(de=de||[]).map(Ln),Pt=Oe.map(Ln),Nt=de.reduce(dn,{}),Bt=Oe.reduce(dn,{}),Jt=gt.slice(),mr=Object.create(null);for(Be=0,Te=0;Be<gt.length;Be++)Bt.hasOwnProperty(Fe=gt[Be])?Te++:(Pe.push({command:xt.removeLayer,args:[Fe]}),Jt.splice(Jt.indexOf(Fe,Te),1));for(Be=0,Te=0;Be<Pt.length;Be++)Jt[Jt.length-1-Be]!==(Fe=Pt[Pt.length-1-Be])&&(Nt.hasOwnProperty(Fe)?(Pe.push({command:xt.removeLayer,args:[Fe]}),Jt.splice(Jt.lastIndexOf(Fe,Jt.length-Te),1)):Te++,Pe.push({command:xt.addLayer,args:[Bt[Fe],ht=Jt[Jt.length-Be]]}),Jt.splice(Jt.length-Be,0,Fe),mr[Fe]=!0);for(Be=0;Be<Pt.length;Be++)if(We=Nt[Fe=Pt[Be]],Je=Bt[Fe],!mr[Fe]&&!a.deepEqual(We,Je))if(a.deepEqual(We.source,Je.source)&&a.deepEqual(We["source-layer"],Je["source-layer"])&&a.deepEqual(We.type,Je.type)){for(At in Xr(We.layout,Je.layout,Pe,Fe,null,xt.setLayoutProperty),Xr(We.paint,Je.paint,Pe,Fe,null,xt.setPaintProperty),a.deepEqual(We.filter,Je.filter)||Pe.push({command:xt.setFilter,args:[Fe,Je.filter]}),a.deepEqual(We.minzoom,Je.minzoom)&&a.deepEqual(We.maxzoom,Je.maxzoom)||Pe.push({command:xt.setLayerZoomRange,args:[Fe,Je.minzoom,Je.maxzoom]}),We)We.hasOwnProperty(At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?Xr(We[At],Je[At],Pe,Fe,At.slice(6),xt.setPaintProperty):a.deepEqual(We[At],Je[At])||Pe.push({command:xt.setLayerProperty,args:[Fe,At,Je[At]]}));for(At in Je)Je.hasOwnProperty(At)&&!We.hasOwnProperty(At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?Xr(We[At],Je[At],Pe,Fe,At.slice(6),xt.setPaintProperty):a.deepEqual(We[At],Je[At])||Pe.push({command:xt.setLayerProperty,args:[Fe,At,Je[At]]}))}else Pe.push({command:xt.removeLayer,args:[Fe]}),ht=Jt[Jt.lastIndexOf(Fe)+1],Pe.push({command:xt.addLayer,args:[Je,ht]})}(_e,U.layers,q)}catch(de){console.warn("Unable to compute style diff:",de),q=[{command:xt.setStyle,args:[U]}]}return q}(this.serialize(),f).filter(function(D){return!(D.command in cu)});if(E.length===0)return!1;var M=E.filter(function(D){return!(D.command in jc)});if(M.length>0)throw new Error("Unimplemented: "+M.map(function(D){return D.command}).join(", ")+".");return E.forEach(function(D){D.command!=="setTransition"&&y[D.command].apply(y,D.args)}),this.stylesheet=f,!0},p.prototype.addImage=function(f,y){if(this.getImage(f))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,y),this._afterImageUpdated(f)},p.prototype.updateImage=function(f,y){this.imageManager.updateImage(f,y)},p.prototype.getImage=function(f){return this.imageManager.getImage(f)},p.prototype.removeImage=function(f){if(!this.getImage(f))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)},p.prototype._afterImageUpdated=function(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(f,y,E){var M=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(a.validateStyle.source,"sources."+f,y,null,E))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var D=this.sourceCaches[f]=new xe(f,y,this.dispatcher);D.style=this,D.setEventedParent(this,function(){return{isSourceLoaded:M.loaded(),source:D.serialize(),sourceId:f}}),D.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===f)return this.fire(new a.ErrorEvent(new Error('Source "'+f+'" cannot be removed while layer "'+y+'" is using it.')));var E=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],E.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(f,y){this._checkLoaded(),this.sourceCaches[f].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()},p.prototype.addLayer=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var M=f.id;if(this.getLayer(M))this.fire(new a.ErrorEvent(new Error('Layer with id "'+M+'" already exists on this map')));else{var D;if(f.type==="custom"){if(Ss(this,a.validateCustomStyleLayer(f)))return;D=a.createStyleLayer(f)}else{if(typeof f.source=="object"&&(this.addSource(M,f.source),f=a.clone$1(f),f=a.extend(f,{source:M})),this._validate(a.validateStyle.layer,"layers."+M,f,{arrayIndex:-1},E))return;D=a.createStyleLayer(f),this._validateLayer(D),D.setEventedParent(this,{layer:{id:M}}),this._serializedLayers[D.id]=D.serialize()}var U=y?this._order.indexOf(y):this._order.length;if(y&&U===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice(U,0,M),this._layerOrderChanged=!0,this._layers[M]=D,this._removedLayers[M]&&D.source&&D.type!=="custom"){var q=this._removedLayers[M];delete this._removedLayers[M],q.type!==D.type?this._updatedSources[D.source]="clear":(this._updatedSources[D.source]="reload",this.sourceCaches[D.source].pause())}this._updateLayer(D),D.onAdd&&D.onAdd(this.map)}}},p.prototype.moveLayer=function(f,y){if(this._checkLoaded(),this._changed=!0,this._layers[f]){if(f!==y){var E=this._order.indexOf(f);this._order.splice(E,1);var M=y?this._order.indexOf(y):this._order.length;y&&M===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(M,0,f),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(f){this._checkLoaded();var y=this._layers[f];if(y){y.setEventedParent(null);var E=this._order.indexOf(f);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(f){return this._layers[f]},p.prototype.hasLayer=function(f){return f in this._layers},p.prototype.setLayerZoomRange=function(f,y,E){this._checkLoaded();var M=this.getLayer(f);M?M.minzoom===y&&M.maxzoom===E||(y!=null&&(M.minzoom=y),E!=null&&(M.maxzoom=E),this._updateLayer(M)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var M=this.getLayer(f);if(M){if(!a.deepEqual(M.filter,y))return y==null?(M.filter=void 0,void this._updateLayer(M)):void(this._validate(a.validateStyle.filter,"layers."+M.id+".filter",y,null,E)||(M.filter=a.clone$1(y),this._updateLayer(M)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(f){return a.clone$1(this.getLayer(f).filter)},p.prototype.setLayoutProperty=function(f,y,E,M){M===void 0&&(M={}),this._checkLoaded();var D=this.getLayer(f);D?a.deepEqual(D.getLayoutProperty(y),E)||(D.setLayoutProperty(y,E,M),this._updateLayer(D)):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(f,y){var E=this.getLayer(f);if(E)return E.getLayoutProperty(y);this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(f,y,E,M){M===void 0&&(M={}),this._checkLoaded();var D=this.getLayer(f);D?a.deepEqual(D.getPaintProperty(y),E)||(D.setPaintProperty(y,E,M)&&this._updateLayer(D),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(f,y){return this.getLayer(f).getPaintProperty(y)},p.prototype.setFeatureState=function(f,y){this._checkLoaded();var E=f.source,M=f.sourceLayer,D=this.sourceCaches[E];if(D!==void 0){var U=D.getSource().type;U==="geojson"&&M?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||M?(f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),D.setFeatureState(M,f.id,y)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(f,y){this._checkLoaded();var E=f.source,M=this.sourceCaches[E];if(M!==void 0){var D=M.getSource().type,U=D==="vector"?f.sourceLayer:void 0;D!=="vector"||U?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):M.removeFeatureState(U,f.id,y):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(f){this._checkLoaded();var y=f.source,E=f.sourceLayer,M=this.sourceCaches[y];if(M!==void 0){if(M.getSource().type!=="vector"||E)return f.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),M.getFeatureState(E,f.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(f){return f.serialize()}),layers:this._serializeLayers(this._order)},function(f){return f!==void 0})},p.prototype._updateLayer=function(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(f){for(var y=this,E=function(Nt){return y._layers[Nt].type==="fill-extrusion"},M={},D=[],U=this._order.length-1;U>=0;U--){var q=this._order[U];if(E(q)){M[q]=U;for(var ee=0,he=f;ee<he.length;ee+=1){var _e=he[ee][q];if(_e)for(var de=0,Oe=_e;de<Oe.length;de+=1)D.push(Oe[de])}}}D.sort(function(Nt,Bt){return Bt.intersectionZ-Nt.intersectionZ});for(var Pe=[],Be=this._order.length-1;Be>=0;Be--){var Te=this._order[Be];if(E(Te))for(var Fe=D.length-1;Fe>=0;Fe--){var We=D[Fe].feature;if(M[We.layer.id]<Be)break;Pe.push(We),D.pop()}else for(var Je=0,ht=f;Je<ht.length;Je+=1){var At=ht[Je][Te];if(At)for(var gt=0,Pt=At;gt<Pt.length;gt+=1)Pe.push(Pt[gt].feature)}}return Pe},p.prototype.queryRenderedFeatures=function(f,y,E){y&&y.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var M={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var D=0,U=y.layers;D<U.length;D+=1){var q=U[D],ee=this._layers[q];if(!ee)return this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be queried for features."))),[];M[ee.source]=!0}}var he=[];for(var _e in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!M[_e]||he.push(Sr(this.sourceCaches[_e],this._layers,this._serializedLayers,f,y,E));return this.placement&&he.push(function(de,Oe,Pe,Be,Te,Fe,We){for(var Je={},ht=Fe.queryRenderedSymbols(Be),At=[],gt=0,Pt=Object.keys(ht).map(Number);gt<Pt.length;gt+=1)At.push(We[Pt[gt]]);At.sort(Ur);for(var Nt=function(){var Er=Jt[Bt],yn=Er.featureIndex.lookupSymbolFeatures(ht[Er.bucketInstanceId],Oe,Er.bucketIndex,Er.sourceLayerIndex,Te.filter,Te.layers,Te.availableImages,de);for(var cr in yn){var Rr=Je[cr]=Je[cr]||[],Jr=yn[cr];Jr.sort(function(Nr,Lr){var Ar=Er.featureSortOrder;if(Ar){var Hn=Ar.indexOf(Nr.featureIndex);return Ar.indexOf(Lr.featureIndex)-Hn}return Lr.featureIndex-Nr.featureIndex});for(var $r=0,Br=Jr;$r<Br.length;$r+=1)Rr.push(Br[$r])}},Bt=0,Jt=At;Bt<Jt.length;Bt+=1)Nt();var mr=function(Er){Je[Er].forEach(function(yn){var cr=yn.feature,Rr=Pe[de[Er].source].getFeatureState(cr.layer["source-layer"],cr.id);cr.source=cr.layer.source,cr.layer["source-layer"]&&(cr.sourceLayer=cr.layer["source-layer"]),cr.state=Rr})};for(var Tr in Je)mr(Tr);return Je}(this._layers,this._serializedLayers,this.sourceCaches,f,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(he)},p.prototype.querySourceFeatures=function(f,y){y&&y.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var E=this.sourceCaches[f];return E?function(M,D){for(var U=M.getRenderableIds().map(function(Oe){return M.getTileByID(Oe)}),q=[],ee={},he=0;he<U.length;he++){var _e=U[he],de=_e.tileID.canonical.key;ee[de]||(ee[de]=!0,_e.querySourceFeatures(q,D))}return q}(E,y):[]},p.prototype.addSourceType=function(f,y,E){return p.getSourceType(f)?E(new Error('A source type called "'+f+'" already exists.')):(p.setSourceType(f,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:y.workerSourceURL},E):E(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(f,y){y===void 0&&(y={}),this._checkLoaded();var E=this.light.getLight(),M=!1;for(var D in f)if(!a.deepEqual(f[D],E[D])){M=!0;break}if(M){var U={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions(U)}},p.prototype._validate=function(f,y,E,M,D){return D===void 0&&(D={}),(!D||D.validate!==!1)&&Ss(this,f.call(a.validateStyle,a.extend({key:y,style:this.serialize(),value:E,styleSpec:a.styleSpec},M)))},p.prototype._remove=function(){for(var f in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[f].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(f){this.sourceCaches[f].clearTiles()},p.prototype._reloadSource=function(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()},p.prototype._updateSources=function(f){for(var y in this.sourceCaches)this.sourceCaches[y].update(f)},p.prototype._generateCollisionBoxes=function(){for(var f in this.sourceCaches)this._reloadSource(f)},p.prototype._updatePlacement=function(f,y,E,M,D){D===void 0&&(D=!1);for(var U=!1,q=!1,ee={},he=0,_e=this._order;he<_e.length;he+=1){var de=this._layers[_e[he]];if(de.type==="symbol"){if(!ee[de.source]){var Oe=this.sourceCaches[de.source];ee[de.source]=Oe.getRenderableIds(!0).map(function(We){return Oe.getTileByID(We)}).sort(function(We,Je){return Je.tileID.overscaledZ-We.tileID.overscaledZ||(We.tileID.isLessThan(Je.tileID)?-1:1)})}var Pe=this.crossTileSymbolIndex.addLayer(de,ee[de.source],f.center.lng);U=U||Pe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((D=D||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),f.zoom))&&(this.pauseablePlacement=new Bu(f,this._order,D,y,E,M,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ee),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),q=!0),U&&this.pauseablePlacement.placement.setStale()),q||U)for(var Be=0,Te=this._order;Be<Te.length;Be+=1){var Fe=this._layers[Te[Be]];Fe.type==="symbol"&&this.placement.updateLayerOpacities(Fe,ee[Fe.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()},p.prototype.getImages=function(f,y,E){this.imageManager.getImages(y.icons,E),this._updateTilesForChangedImages();var M=this.sourceCaches[y.source];M&&M.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(f,y,E){this.glyphManager.getGlyphs(y.stacks,E)},p.prototype.getResource=function(f,y,E){return a.makeRequest(y,E)},p}(a.Evented);qr.getSourceType=function(c){return vr[c]},qr.setSourceType=function(c,p){vr[c]=p},qr.registerForPluginStateChange=a.registerForPluginStateChange;var Fo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),kn=Dn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),sl=Dn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Of=Dn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),$c=Dn(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Op=Dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ul=Dn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),ll=Dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),yi=Dn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),cl=Dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),js=Dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fl=Dn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),$s=Dn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ti=Dn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),zu=Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Vc=Dn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Zi=Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Hc=Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Vs=Dn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Cs=Dn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),fo=Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Nu=Dn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),po=Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ss=Dn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),fu=Dn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Xo=Dn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),pl=Dn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Dn(c,p){var f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=M?M.concat(E):E,U={};return{fragmentSource:c=c.replace(f,function(q,ee,he,_e,de){return U[de]=!0,ee==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
varying `+he+" "+_e+" "+de+`;
#else
uniform `+he+" "+_e+" u_"+de+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+de+`
    `+he+" "+_e+" "+de+" = u_"+de+`;
#endif
`}),vertexSource:p=p.replace(f,function(q,ee,he,_e,de){var Oe=_e==="float"?"vec2":"vec4",Pe=de.match(/color/)?"color":Oe;return U[de]?ee==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+he+" "+Oe+" a_"+de+`;
varying `+he+" "+_e+" "+de+`;
#else
uniform `+he+" "+_e+" u_"+de+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = a_"+de+`;
#else
    `+he+" "+_e+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = unpack_mix_"+Pe+"(a_"+de+", u_"+de+`_t);
#else
    `+he+" "+_e+" "+de+" = u_"+de+`;
#endif
`:ee==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+he+" "+Oe+" a_"+de+`;
#else
uniform `+he+" "+_e+" u_"+de+`;
#endif
`:Pe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+he+" "+_e+" "+de+" = a_"+de+`;
#else
    `+he+" "+_e+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+he+" "+_e+" "+de+" = unpack_mix_"+Pe+"(a_"+de+", u_"+de+`_t);
#else
    `+he+" "+_e+" "+de+" = u_"+de+`;
#endif
`}),staticAttributes:y,staticUniforms:D}}var ei=Object.freeze({__proto__:null,prelude:kn,background:sl,backgroundPattern:Of,circle:$c,clippingMask:Op,heatmap:ul,heatmapTexture:ll,collisionBox:yi,collisionCircle:cl,debug:js,fill:fl,fillOutline:$s,fillOutlinePattern:Ti,fillPattern:zu,fillExtrusion:Vc,fillExtrusionPattern:Zi,hillshadePrepare:Hc,hillshade:Vs,line:Cs,lineGradient:fo,linePattern:Nu,lineSDF:po,raster:ss,symbolIcon:fu,symbolSDF:Xo,symbolTextAndIcon:pl}),Ua=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Jl(c){for(var p=[],f=0;f<c.length;f++)if(c[f]!==null){var y=c[f].split(" ");p.push(y.pop())}return p}Ua.prototype.bind=function(c,p,f,y,E,M,D,U){this.context=c;for(var q=this.boundPaintVertexBuffers.length!==y.length,ee=0;!q&&ee<y.length;ee++)this.boundPaintVertexBuffers[ee]!==y[ee]&&(q=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===f&&!q&&this.boundIndexBuffer===E&&this.boundVertexOffset===M&&this.boundDynamicVertexBuffer===D&&this.boundDynamicVertexBuffer2===U?(c.bindVertexArrayOES.set(this.vao),D&&D.bind(),E&&E.dynamicDraw&&E.bind(),U&&U.bind()):this.freshBind(p,f,y,E,M,D,U)},Ua.prototype.freshBind=function(c,p,f,y,E,M,D){var U,q=c.numAttributes,ee=this.context,he=ee.gl;if(ee.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ee.extVertexArrayObject.createVertexArrayOES(),ee.bindVertexArrayOES.set(this.vao),U=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=M,this.boundDynamicVertexBuffer2=D;else{U=ee.currentNumAttributes||0;for(var _e=q;_e<U;_e++)he.disableVertexAttribArray(_e)}p.enableAttributes(he,c);for(var de=0,Oe=f;de<Oe.length;de+=1)Oe[de].enableAttributes(he,c);M&&M.enableAttributes(he,c),D&&D.enableAttributes(he,c),p.bind(),p.setVertexAttribPointers(he,c,E);for(var Pe=0,Be=f;Pe<Be.length;Pe+=1){var Te=Be[Pe];Te.bind(),Te.setVertexAttribPointers(he,c,E)}M&&(M.bind(),M.setVertexAttribPointers(he,c,E)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(he,c,E)),ee.currentNumAttributes=q},Ua.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Al=function(c,p,f,y,E,M){var D=c.gl;this.program=D.createProgram();for(var U=Jl(f.staticAttributes),q=y?y.getBinderAttributes():[],ee=U.concat(q),he=f.staticUniforms?Jl(f.staticUniforms):[],_e=y?y.getBinderUniforms():[],de=[],Oe=0,Pe=he.concat(_e);Oe<Pe.length;Oe+=1){var Be=Pe[Oe];de.indexOf(Be)<0&&de.push(Be)}var Te=y?y.defines():[];M&&Te.push("#define OVERDRAW_INSPECTOR;");var Fe=Te.concat(kn.fragmentSource,f.fragmentSource).join(`
`),We=Te.concat(kn.vertexSource,f.vertexSource).join(`
`),Je=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(Je,Fe),D.compileShader(Je),D.attachShader(this.program,Je);var ht=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(ht,We),D.compileShader(ht),D.attachShader(this.program,ht),this.attributes={};var At={};this.numAttributes=ee.length;for(var gt=0;gt<this.numAttributes;gt++)ee[gt]&&(D.bindAttribLocation(this.program,gt,ee[gt]),this.attributes[ee[gt]]=gt);D.linkProgram(this.program),D.deleteShader(ht),D.deleteShader(Je);for(var Pt=0;Pt<de.length;Pt++){var Nt=de[Pt];if(Nt&&!At[Nt]){var Bt=D.getUniformLocation(this.program,Nt);Bt&&(At[Nt]=Bt)}}this.fixedUniforms=E(c,At),this.binderUniforms=y?y.getUniforms(c,At):[]}}};function Hs(c,p,f){var y=1/ca(f,1,p.transform.tileZoom),E=Math.pow(2,f.tileID.overscaledZ),M=f.tileSize*Math.pow(2,p.transform.tileZoom)/E,D=M*(f.tileID.canonical.x+f.tileID.wrap*E),U=M*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[D>>16,U>>16],u_pixel_coord_lower:[65535&D,65535&U]}}Al.prototype.draw=function(c,p,f,y,E,M,D,U,q,ee,he,_e,de,Oe,Pe,Be){var Te,Fe=c.gl;if(!this.failedToCreate){for(var We in c.program.set(this.program),c.setDepthMode(f),c.setStencilMode(y),c.setColorMode(E),c.setCullFace(M),this.fixedUniforms)this.fixedUniforms[We].set(D[We]);Oe&&Oe.setUniforms(c,this.binderUniforms,_e,{zoom:de});for(var Je=(Te={},Te[Fe.LINES]=2,Te[Fe.TRIANGLES]=3,Te[Fe.LINE_STRIP]=1,Te)[p],ht=0,At=he.get();ht<At.length;ht+=1){var gt=At[ht],Pt=gt.vaos||(gt.vaos={});(Pt[U]||(Pt[U]=new Ua)).bind(c,this,q,Oe?Oe.getPaintVertexBuffers():[],ee,gt.vertexOffset,Pe,Be),Fe.drawElements(p,gt.primitiveLength*Je,Fe.UNSIGNED_SHORT,gt.primitiveOffset*Je*2)}}};var Mp=function(c,p,f,y){var E=p.style.light,M=E.properties.get("position"),D=[M.x,M.y,M.z],U=a.create$1();E.properties.get("anchor")==="viewport"&&a.fromRotation(U,-p.transform.angle),a.transformMat3(D,D,U);var q=E.properties.get("color");return{u_matrix:c,u_lightpos:D,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[q.r,q.g,q.b],u_vertical_gradient:+f,u_opacity:y}},ec=function(c,p,f,y,E,M,D){return a.extend(Mp(c,p,f,y),Hs(M,p,D),{u_height_factor:-Math.pow(2,E.overscaledZ)/D.tileSize/8})},pu=function(c){return{u_matrix:c}},qs=function(c,p,f,y){return a.extend(pu(c),Hs(f,p,y))},Gs=function(c,p){return{u_matrix:c,u_world:p}},Uu=function(c,p,f,y,E){return a.extend(qs(c,p,f,y),{u_world:E})},Rp=function(c,p,f,y){var E,M,D=c.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var U=ca(f,1,D.zoom);E=!0,M=[U,U]}else E=!1,M=D.pixelsToGLUnits;return{u_camera_to_center_distance:D.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(p.posMatrix,f,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:M}},qc=function(c,p,f){var y=ca(f,1,p.zoom),E=Math.pow(2,p.zoom-f.tileID.overscaledZ),M=f.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*E),p.pixelsToGLUnits[1]/(y*E)],u_overscale_factor:M}},Au=function(c,p,f){return{u_matrix:c,u_inv_matrix:p,u_camera_to_center_distance:f.cameraToCenterDistance,u_viewport_size:[f.width,f.height]}},tc=function(c,p,f){return f===void 0&&(f=1),{u_matrix:c,u_color:p,u_overlay:0,u_overlay_scale:f}},_a=function(c){return{u_matrix:c}},ju=function(c,p,f,y){return{u_matrix:c,u_extrude_scale:ca(p,1,f),u_intensity:y}},Gc=function(c,p,f){var y=c.transform;return{u_matrix:To(c,p,f),u_ratio:1/ca(p,1,y.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},rc=function(c,p,f,y){return a.extend(Gc(c,p,f),{u_image:0,u_image_height:y})},Vn=function(c,p,f,y){var E=c.transform,M=Mf(p,E);return{u_matrix:To(c,p,f),u_texsize:p.imageAtlasTexture.size,u_ratio:1/ca(p,1,E.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[M,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},Qc=function(c,p,f,y,E){var M=c.lineAtlas,D=Mf(p,c.transform),U=f.layout.get("line-cap")==="round",q=M.getDash(y.from,U),ee=M.getDash(y.to,U),he=q.width*E.fromScale,_e=ee.width*E.toScale;return a.extend(Gc(c,p,f),{u_patternscale_a:[D/he,-q.height/2],u_patternscale_b:[D/_e,-ee.height/2],u_sdfgamma:M.width/(256*Math.min(he,_e)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:ee.y,u_mix:E.t})};function Mf(c,p){return 1/ca(c,1,p.tileZoom)}function To(c,p,f){return c.translatePosMatrix(p.tileID.posMatrix,p,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}var Wc=function(c,p,f,y,E){return{u_matrix:c,u_tl_parent:p,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(D=E.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(M=E.paint.get("raster-contrast"),M>0?1/(1-M):1+M),u_spin_weights:hl(E.paint.get("raster-hue-rotate"))};var M,D};function hl(c){c*=Math.PI/180;var p=Math.sin(c),f=Math.cos(c);return[(2*f+1)/3,(-Math.sqrt(3)*p-f+1)/3,(Math.sqrt(3)*p-f+1)/3]}var hu,Rf=function(c,p,f,y,E,M,D,U,q,ee){var he=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:he.cameraToCenterDistance,u_pitch:he.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:he.width/he.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:D,u_coord_matrix:U,u_is_text:+q,u_pitch_with_map:+y,u_texsize:ee,u_texture:0}},Ao=function(c,p,f,y,E,M,D,U,q,ee,he){var _e=E.transform;return a.extend(Rf(c,p,f,y,E,M,D,U,q,ee),{u_gamma_scale:y?Math.cos(_e._pitch)*_e.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+he})},Ui=function(c,p,f,y,E,M,D,U,q,ee){return a.extend(Ao(c,p,f,y,E,M,D,U,!0,q,!0),{u_texsize_icon:ee,u_texture_icon:1})},Zc=function(c,p,f){return{u_matrix:c,u_opacity:p,u_color:f}},nc=function(c,p,f,y,E,M){return a.extend(function(D,U,q,ee){var he=q.imageManager.getPattern(D.from.toString()),_e=q.imageManager.getPattern(D.to.toString()),de=q.imageManager.getPixelSize(),Oe=de.width,Pe=de.height,Be=Math.pow(2,ee.tileID.overscaledZ),Te=ee.tileSize*Math.pow(2,q.transform.tileZoom)/Be,Fe=Te*(ee.tileID.canonical.x+ee.tileID.wrap*Be),We=Te*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:he.tl,u_pattern_br_a:he.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[Oe,Pe],u_mix:U.t,u_pattern_size_a:he.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/ca(ee,1,q.transform.tileZoom),u_pixel_coord_upper:[Fe>>16,We>>16],u_pixel_coord_lower:[65535&Fe,65535&We]}}(y,M,f,E),{u_matrix:c,u_opacity:p})},dl={fillExtrusion:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fillExtrusionPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_lightpos:new a.Uniform3f(c,p.u_lightpos),u_lightintensity:new a.Uniform1f(c,p.u_lightintensity),u_lightcolor:new a.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new a.Uniform1f(c,p.u_vertical_gradient),u_height_factor:new a.Uniform1f(c,p.u_height_factor),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade),u_opacity:new a.Uniform1f(c,p.u_opacity)}},fill:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},fillPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},fillOutline:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world)}},fillOutlinePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_texsize:new a.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},circle:function(c,p){return{u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(c,p.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},collisionBox:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(c,p.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(c,p.u_extrude_scale),u_overscale_factor:new a.Uniform1f(c,p.u_overscale_factor)}},collisionCircle:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_inv_matrix:new a.UniformMatrix4f(c,p.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(c,p.u_viewport_size)}},debug:function(c,p){return{u_color:new a.UniformColor(c,p.u_color),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_overlay:new a.Uniform1i(c,p.u_overlay),u_overlay_scale:new a.Uniform1f(c,p.u_overlay_scale)}},clippingMask:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmap:function(c,p){return{u_extrude_scale:new a.Uniform1f(c,p.u_extrude_scale),u_intensity:new a.Uniform1f(c,p.u_intensity),u_matrix:new a.UniformMatrix4f(c,p.u_matrix)}},heatmapTexture:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_world:new a.Uniform2f(c,p.u_world),u_image:new a.Uniform1i(c,p.u_image),u_color_ramp:new a.Uniform1i(c,p.u_color_ramp),u_opacity:new a.Uniform1f(c,p.u_opacity)}},hillshade:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_latrange:new a.Uniform2f(c,p.u_latrange),u_light:new a.Uniform2f(c,p.u_light),u_shadow:new a.UniformColor(c,p.u_shadow),u_highlight:new a.UniformColor(c,p.u_highlight),u_accent:new a.UniformColor(c,p.u_accent)}},hillshadePrepare:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_image:new a.Uniform1i(c,p.u_image),u_dimension:new a.Uniform2f(c,p.u_dimension),u_zoom:new a.Uniform1f(c,p.u_zoom),u_unpack:new a.Uniform4f(c,p.u_unpack)}},line:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels)}},lineGradient:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_image:new a.Uniform1i(c,p.u_image),u_image_height:new a.Uniform1f(c,p.u_image_height)}},linePattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_texsize:new a.Uniform2f(c,p.u_texsize),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_image:new a.Uniform1i(c,p.u_image),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_scale:new a.Uniform3f(c,p.u_scale),u_fade:new a.Uniform1f(c,p.u_fade)}},lineSDF:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_ratio:new a.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(c,p.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(c,p.u_patternscale_a),u_patternscale_b:new a.Uniform2f(c,p.u_patternscale_b),u_sdfgamma:new a.Uniform1f(c,p.u_sdfgamma),u_image:new a.Uniform1i(c,p.u_image),u_tex_y_a:new a.Uniform1f(c,p.u_tex_y_a),u_tex_y_b:new a.Uniform1f(c,p.u_tex_y_b),u_mix:new a.Uniform1f(c,p.u_mix)}},raster:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_tl_parent:new a.Uniform2f(c,p.u_tl_parent),u_scale_parent:new a.Uniform1f(c,p.u_scale_parent),u_buffer_scale:new a.Uniform1f(c,p.u_buffer_scale),u_fade_t:new a.Uniform1f(c,p.u_fade_t),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image0:new a.Uniform1i(c,p.u_image0),u_image1:new a.Uniform1i(c,p.u_image1),u_brightness_low:new a.Uniform1f(c,p.u_brightness_low),u_brightness_high:new a.Uniform1f(c,p.u_brightness_high),u_saturation_factor:new a.Uniform1f(c,p.u_saturation_factor),u_contrast_factor:new a.Uniform1f(c,p.u_contrast_factor),u_spin_weights:new a.Uniform3f(c,p.u_spin_weights)}},symbolIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture)}},symbolSDF:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texture:new a.Uniform1i(c,p.u_texture),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},symbolTextAndIcon:function(c,p){return{u_is_size_zoom_constant:new a.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new a.Uniform1f(c,p.u_size_t),u_size:new a.Uniform1f(c,p.u_size),u_camera_to_center_distance:new a.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new a.Uniform1f(c,p.u_pitch),u_rotate_symbol:new a.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new a.Uniform1f(c,p.u_fade_change),u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new a.Uniform1i(c,p.u_is_text),u_pitch_with_map:new a.Uniform1i(c,p.u_pitch_with_map),u_texsize:new a.Uniform2f(c,p.u_texsize),u_texsize_icon:new a.Uniform2f(c,p.u_texsize_icon),u_texture:new a.Uniform1i(c,p.u_texture),u_texture_icon:new a.Uniform1i(c,p.u_texture_icon),u_gamma_scale:new a.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(c,p.u_is_halo)}},background:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_color:new a.UniformColor(c,p.u_color)}},backgroundPattern:function(c,p){return{u_matrix:new a.UniformMatrix4f(c,p.u_matrix),u_opacity:new a.Uniform1f(c,p.u_opacity),u_image:new a.Uniform1i(c,p.u_image),u_pattern_tl_a:new a.Uniform2f(c,p.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(c,p.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(c,p.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(c,p.u_pattern_br_b),u_texsize:new a.Uniform2f(c,p.u_texsize),u_mix:new a.Uniform1f(c,p.u_mix),u_pattern_size_a:new a.Uniform2f(c,p.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(c,p.u_pattern_size_b),u_scale_a:new a.Uniform1f(c,p.u_scale_a),u_scale_b:new a.Uniform1f(c,p.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(c,p.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(c,p.u_tile_units_to_pixels)}}};function du(c,p,f,y,E,M,D){for(var U=c.context,q=U.gl,ee=c.useProgram("collisionBox"),he=[],_e=0,de=0,Oe=0;Oe<y.length;Oe++){var Pe=y[Oe],Be=p.getTile(Pe),Te=Be.getBucket(f);if(Te){var Fe=Pe.posMatrix;E[0]===0&&E[1]===0||(Fe=c.translatePosMatrix(Pe.posMatrix,Be,E,M));var We=D?Te.textCollisionBox:Te.iconCollisionBox,Je=Te.collisionCircleArray;if(Je.length>0){var ht=a.create(),At=Fe;a.mul(ht,Te.placementInvProjMatrix,c.transform.glCoordMatrix),a.mul(ht,ht,Te.placementViewportMatrix),he.push({circleArray:Je,circleOffset:de,transform:At,invTransform:ht}),de=_e+=Je.length/4}We&&ee.draw(U,q.LINES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),He.disabled,qc(Fe,c.transform,Be),f.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,null,c.transform.zoom,null,null,We.collisionVertexBuffer)}}if(D&&he.length){var gt=c.useProgram("collisionCircle"),Pt=new a.StructArrayLayout2f1f2i16;Pt.resize(4*_e),Pt._trim();for(var Nt=0,Bt=0,Jt=he;Bt<Jt.length;Bt+=1)for(var mr=Jt[Bt],Tr=0;Tr<mr.circleArray.length/4;Tr++){var Er=4*Tr,yn=mr.circleArray[Er+0],cr=mr.circleArray[Er+1],Rr=mr.circleArray[Er+2],Jr=mr.circleArray[Er+3];Pt.emplace(Nt++,yn,cr,Rr,Jr,0),Pt.emplace(Nt++,yn,cr,Rr,Jr,1),Pt.emplace(Nt++,yn,cr,Rr,Jr,2),Pt.emplace(Nt++,yn,cr,Rr,Jr,3)}(!hu||hu.length<2*_e)&&(hu=function(Vi){var Ii=2*Vi,uo=new a.StructArrayLayout3ui6;uo.resize(Ii),uo._trim();for(var Xi=0;Xi<Ii;Xi++){var fi=6*Xi;uo.uint16[fi+0]=4*Xi+0,uo.uint16[fi+1]=4*Xi+1,uo.uint16[fi+2]=4*Xi+2,uo.uint16[fi+3]=4*Xi+2,uo.uint16[fi+4]=4*Xi+3,uo.uint16[fi+5]=4*Xi+0}return uo}(_e));for(var $r=U.createIndexBuffer(hu,!0),Br=U.createVertexBuffer(Pt,a.collisionCircleLayout.members,!0),Nr=0,Lr=he;Nr<Lr.length;Nr+=1){var Ar=Lr[Nr],Hn=Au(Ar.transform,Ar.invTransform,c.transform);gt.draw(U,q.TRIANGLES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),He.disabled,Hn,f.id,Br,$r,a.SegmentVector.simpleSegment(0,2*Ar.circleOffset,Ar.circleArray.length,Ar.circleArray.length/2),null,c.transform.zoom,null,null,null)}Br.destroy(),$r.destroy()}}var ic=a.identity(new Float32Array(16));function Si(c,p,f,y,E,M){var D=a.getAnchorAlignment(c),U=-(D.horizontalAlign-.5)*p,q=-(D.verticalAlign-.5)*f,ee=a.evaluateVariableOffset(c,y);return new a.Point((U/E+ee[0])*M,(q/E+ee[1])*M)}function ml(c,p,f,y,E,M,D,U,q,ee,he){var _e=c.text.placedSymbolArray,de=c.text.dynamicLayoutVertexArray,Oe=c.icon.dynamicLayoutVertexArray,Pe={};de.clear();for(var Be=0;Be<_e.length;Be++){var Te=_e.get(Be),Fe=Te.hidden||!Te.crossTileID||c.allowVerticalPlacement&&!Te.placedOrientation?null:y[Te.crossTileID];if(Fe){var We=new a.Point(Te.anchorX,Te.anchorY),Je=Xt(We,f?U:D),ht=Ge(M.cameraToCenterDistance,Je.signedDistanceFromCamera),At=E.evaluateSizeForFeature(c.textSizeData,ee,Te)*ht/a.ONE_EM;f&&(At*=c.tilePixelRatio/q);for(var gt=Si(Fe.anchor,Fe.width,Fe.height,Fe.textOffset,Fe.textBoxScale,At),Pt=f?Xt(We.add(gt),D).point:Je.point.add(p?gt.rotate(-M.angle):gt),Nt=c.allowVerticalPlacement&&Te.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Bt=0;Bt<Te.numGlyphs;Bt++)a.addDynamicAttributes(de,Pt,Nt);he&&Te.associatedIconIndex>=0&&(Pe[Te.associatedIconIndex]={shiftedAnchor:Pt,angle:Nt})}else is(Te.numGlyphs,de)}if(he){Oe.clear();for(var Jt=c.icon.placedSymbolArray,mr=0;mr<Jt.length;mr++){var Tr=Jt.get(mr);if(Tr.hidden)is(Tr.numGlyphs,Oe);else{var Er=Pe[mr];if(Er)for(var yn=0;yn<Tr.numGlyphs;yn++)a.addDynamicAttributes(Oe,Er.shiftedAnchor,Er.angle);else is(Tr.numGlyphs,Oe)}}c.icon.dynamicLayoutVertexBuffer.updateData(Oe)}c.text.dynamicLayoutVertexBuffer.updateData(de)}function Es(c,p,f){return f.iconsInText&&p?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function ks(c,p,f,y,E,M,D,U,q,ee,he,_e){for(var de=c.context,Oe=de.gl,Pe=c.transform,Be=U==="map",Te=q==="map",Fe=Be&&f.layout.get("symbol-placement")!=="point",We=Be&&!Te&&!Fe,Je=!f.layout.get("symbol-sort-key").isConstant(),ht=!1,At=c.depthModeForSublayer(0,ve.ReadOnly),gt=f.layout.get("text-variable-anchor"),Pt=[],Nt=0,Bt=y;Nt<Bt.length;Nt+=1){var Jt=Bt[Nt],mr=p.getTile(Jt),Tr=mr.getBucket(f);if(Tr){var Er=E?Tr.text:Tr.icon;if(Er&&Er.segments.get().length){var yn=Er.programConfigurations.get(f.id),cr=E||Tr.sdfIcons,Rr=E?Tr.textSizeData:Tr.iconSizeData,Jr=Te||Pe.pitch!==0,$r=c.useProgram(Es(cr,E,Tr),yn),Br=a.evaluateSizeForZoom(Rr,Pe.zoom),Nr=void 0,Lr=[0,0],Ar=void 0,Hn=void 0,Vi=null,Ii=void 0;if(E)Ar=mr.glyphAtlasTexture,Hn=Oe.LINEAR,Nr=mr.glyphAtlasTexture.size,Tr.iconsInText&&(Lr=mr.imageAtlasTexture.size,Vi=mr.imageAtlasTexture,Ii=Jr||c.options.rotating||c.options.zooming||Rr.kind==="composite"||Rr.kind==="camera"?Oe.LINEAR:Oe.NEAREST);else{var uo=f.layout.get("icon-size").constantOr(0)!==1||Tr.iconsNeedLinear;Ar=mr.imageAtlasTexture,Hn=cr||c.options.rotating||c.options.zooming||uo||Jr?Oe.LINEAR:Oe.NEAREST,Nr=mr.imageAtlasTexture.size}var Xi=ca(mr,1,c.transform.zoom),fi=hi(Jt.posMatrix,Te,Be,c.transform,Xi),na=xn(Jt.posMatrix,Te,Be,c.transform,Xi),Hi=gt&&Tr.hasTextData(),ia=f.layout.get("icon-text-fit")!=="none"&&Hi&&Tr.hasIconData();Fe&&uu(Tr,Jt.posMatrix,c,E,fi,na,Te,ee);var wa=c.translatePosMatrix(Jt.posMatrix,mr,M,D),gu=Fe||E&&gt||ia?ic:fi,ps=c.translatePosMatrix(na,mr,M,D,!0),Bf=cr&&f.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,_l={program:$r,buffers:Er,uniformValues:cr?Tr.iconsInText?Ui(Rr.kind,Br,We,Te,c,wa,gu,ps,Nr,Lr):Ao(Rr.kind,Br,We,Te,c,wa,gu,ps,E,Nr,!0):Rf(Rr.kind,Br,We,Te,c,wa,gu,ps,E,Nr),atlasTexture:Ar,atlasTextureIcon:Vi,atlasInterpolation:Hn,atlasInterpolationIcon:Ii,isSDF:cr,hasHalo:Bf};if(Je&&Tr.canOverlap){ht=!0;for(var yu=0,xl=Er.segments.get();yu<xl.length;yu+=1){var zf=xl[yu];Pt.push({segments:new a.SegmentVector([zf]),sortKey:zf.sortKey,state:_l})}}else Pt.push({segments:Er.segments,sortKey:0,state:_l})}}}ht&&Pt.sort(function(Ts,uc){return Ts.sortKey-uc.sortKey});for(var tf=0,Qa=Pt;tf<Qa.length;tf+=1){var rf=Qa[tf],yo=rf.state;if(de.activeTexture.set(Oe.TEXTURE0),yo.atlasTexture.bind(yo.atlasInterpolation,Oe.CLAMP_TO_EDGE),yo.atlasTextureIcon&&(de.activeTexture.set(Oe.TEXTURE1),yo.atlasTextureIcon&&yo.atlasTextureIcon.bind(yo.atlasInterpolationIcon,Oe.CLAMP_TO_EDGE)),yo.isSDF){var Ys=yo.uniformValues;yo.hasHalo&&(Ys.u_is_halo=1,ja(yo.buffers,rf.segments,f,c,yo.program,At,he,_e,Ys)),Ys.u_is_halo=0}ja(yo.buffers,rf.segments,f,c,yo.program,At,he,_e,yo.uniformValues)}}function ja(c,p,f,y,E,M,D,U,q){var ee=y.context;E.draw(ee,ee.gl.TRIANGLES,M,D,U,He.disabled,q,f.id,c.layoutVertexBuffer,c.indexBuffer,p,f.paint,y.transform.zoom,c.programConfigurations.get(f.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function oc(c,p,f,y,E,M,D){var U,q,ee,he,_e,de=c.context.gl,Oe=f.paint.get("fill-pattern"),Pe=Oe&&Oe.constantOr(1),Be=f.getCrossfadeParameters();D?(q=Pe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=de.LINES):(q=Pe?"fillPattern":"fill",U=de.TRIANGLES);for(var Te=0,Fe=y;Te<Fe.length;Te+=1){var We=Fe[Te],Je=p.getTile(We);if(!Pe||Je.patternsLoaded()){var ht=Je.getBucket(f);if(ht){var At=ht.programConfigurations.get(f.id),gt=c.useProgram(q,At);Pe&&(c.context.activeTexture.set(de.TEXTURE0),Je.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),At.updatePaintBuffers(Be));var Pt=Oe.constantOr(null);if(Pt&&Je.imageAtlas){var Nt=Je.imageAtlas,Bt=Nt.patternPositions[Pt.to.toString()],Jt=Nt.patternPositions[Pt.from.toString()];Bt&&Jt&&At.setConstantPatternPositions(Bt,Jt)}var mr=c.translatePosMatrix(We.posMatrix,Je,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(D){he=ht.indexBuffer2,_e=ht.segments2;var Tr=[de.drawingBufferWidth,de.drawingBufferHeight];ee=q==="fillOutlinePattern"&&Pe?Uu(mr,c,Be,Je,Tr):Gs(mr,Tr)}else he=ht.indexBuffer,_e=ht.segments,ee=Pe?qs(mr,c,Be,Je):pu(mr);gt.draw(c.context,U,E,c.stencilModeForClipping(We),M,He.disabled,ee,f.id,ht.layoutVertexBuffer,he,_e,f.paint,c.transform.zoom,At)}}}}function Yo(c,p,f,y,E,M,D){for(var U=c.context,q=U.gl,ee=f.paint.get("fill-extrusion-pattern"),he=ee.constantOr(1),_e=f.getCrossfadeParameters(),de=f.paint.get("fill-extrusion-opacity"),Oe=0,Pe=y;Oe<Pe.length;Oe+=1){var Be=Pe[Oe],Te=p.getTile(Be),Fe=Te.getBucket(f);if(Fe){var We=Fe.programConfigurations.get(f.id),Je=c.useProgram(he?"fillExtrusionPattern":"fillExtrusion",We);he&&(c.context.activeTexture.set(q.TEXTURE0),Te.imageAtlasTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),We.updatePaintBuffers(_e));var ht=ee.constantOr(null);if(ht&&Te.imageAtlas){var At=Te.imageAtlas,gt=At.patternPositions[ht.to.toString()],Pt=At.patternPositions[ht.from.toString()];gt&&Pt&&We.setConstantPatternPositions(gt,Pt)}var Nt=c.translatePosMatrix(Be.posMatrix,Te,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Bt=f.paint.get("fill-extrusion-vertical-gradient"),Jt=he?ec(Nt,c,Bt,de,Be,_e,Te):Mp(Nt,c,Bt,de);Je.draw(U,U.gl.TRIANGLES,E,M,D,He.backCCW,Jt,f.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,f.paint,c.transform.zoom,We)}}}function Lp(c,p,f,y,E,M){var D=c.context,U=D.gl,q=p.fbo;if(q){var ee=c.useProgram("hillshade");D.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,q.colorAttachment.get());var he=function(_e,de,Oe){var Pe=Oe.paint.get("hillshade-shadow-color"),Be=Oe.paint.get("hillshade-highlight-color"),Te=Oe.paint.get("hillshade-accent-color"),Fe=Oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Fe-=_e.transform.angle);var We,Je,ht,At=!_e.options.moving;return{u_matrix:_e.transform.calculatePosMatrix(de.tileID.toUnwrapped(),At),u_image:0,u_latrange:(We=de.tileID,Je=Math.pow(2,We.canonical.z),ht=We.canonical.y,[new a.MercatorCoordinate(0,ht/Je).toLngLat().lat,new a.MercatorCoordinate(0,(ht+1)/Je).toLngLat().lat]),u_light:[Oe.paint.get("hillshade-exaggeration"),Fe],u_shadow:Pe,u_highlight:Be,u_accent:Te}}(c,p,f);ee.draw(D,U.TRIANGLES,y,E,M,He.disabled,he,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function us(c,p,f,y,E,M){var D=c.context,U=D.gl,q=p.dem;if(q&&q.data){var ee=q.dim,he=q.stride,_e=q.getPixels();if(D.activeTexture.set(U.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||c.getTileTexture(he),p.demTexture){var de=p.demTexture;de.update(_e,{premultiply:!1}),de.bind(U.NEAREST,U.CLAMP_TO_EDGE)}else p.demTexture=new a.Texture(D,_e,U.RGBA,{premultiply:!1}),p.demTexture.bind(U.NEAREST,U.CLAMP_TO_EDGE);D.activeTexture.set(U.TEXTURE0);var Oe=p.fbo;if(!Oe){var Pe=new a.Texture(D,{width:ee,height:ee,data:null},U.RGBA);Pe.bind(U.LINEAR,U.CLAMP_TO_EDGE),(Oe=p.fbo=D.createFramebuffer(ee,ee,!0)).colorAttachment.set(Pe.texture)}D.bindFramebuffer.set(Oe.framebuffer),D.viewport.set([0,0,ee,ee]),c.useProgram("hillshadePrepare").draw(D,U.TRIANGLES,y,E,M,He.disabled,function(Be,Te){var Fe=Te.stride,We=a.create();return a.ortho(We,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(We,We,[0,-a.EXTENT,0]),{u_matrix:We,u_image:1,u_dimension:[Fe,Fe],u_zoom:Be.overscaledZ,u_unpack:Te.getUnpackVector()}}(p.tileID,q),f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function fa(c,p,f,y,E){var M=y.paint.get("raster-fade-duration");if(M>0){var D=a.browser.now(),U=(D-c.timeAdded)/M,q=p?(D-p.timeAdded)/M:-1,ee=f.getSource(),he=E.coveringZoomLevel({tileSize:ee.tileSize,roundZoom:ee.roundZoom}),_e=!p||Math.abs(p.tileID.overscaledZ-he)>Math.abs(c.tileID.overscaledZ-he),de=_e&&c.refreshedUponExpiration?1:a.clamp(_e?U:1-q,0,1);return c.refreshedUponExpiration&&U>=1&&(c.refreshedUponExpiration=!1),p?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}var ls=new a.Color(1,0,0,1),Qs=new a.Color(0,1,0,1),Dp=new a.Color(0,0,1,1),Lf=new a.Color(1,0,1,1),Kc=new a.Color(0,1,1,1);function gl(c,p,f,y){nt(c,0,p+f/2,c.transform.width,f,y)}function Ws(c,p,f,y){nt(c,p-f/2,0,f,c.transform.height,y)}function nt(c,p,f,y,E,M){var D=c.context,U=D.gl;U.enable(U.SCISSOR_TEST),U.scissor(p*a.browser.devicePixelRatio,f*a.browser.devicePixelRatio,y*a.browser.devicePixelRatio,E*a.browser.devicePixelRatio),D.clear({color:M}),U.disable(U.SCISSOR_TEST)}function It(c,p,f){var y=c.context,E=y.gl,M=f.posMatrix,D=c.useProgram("debug"),U=ve.disabled,q=Ie.disabled,ee=c.colorModeForRenderPass();y.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),D.draw(y,E.LINE_STRIP,U,q,ee,He.disabled,tc(M,a.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var he=p.getTileByID(f.key).latestRawTileData,_e=Math.floor((he&&he.byteLength||0)/1024),de=p.getTile(f).tileSize,Oe=512/Math.min(de,512)*(f.overscaledZ/c.transform.zoom)*.5,Pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Pe+=" => "+f.overscaledZ),function(Be,Te){Be.initDebugOverlayCanvas();var Fe=Be.debugOverlayCanvas,We=Be.context.gl,Je=Be.debugOverlayCanvas.getContext("2d");Je.clearRect(0,0,Fe.width,Fe.height),Je.shadowColor="white",Je.shadowBlur=2,Je.lineWidth=1.5,Je.strokeStyle="white",Je.textBaseline="top",Je.font="bold 36px Open Sans, sans-serif",Je.fillText(Te,5,5),Je.strokeText(Te,5,5),Be.debugOverlayTexture.update(Fe),Be.debugOverlayTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE)}(c,Pe+" "+_e+"kb"),D.draw(y,E.TRIANGLES,U,q,Ne.alphaBlended,He.disabled,tc(M,a.Color.transparent,Oe),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var vt={symbol:function(c,p,f,y,E){if(c.renderPass==="translucent"){var M=Ie.disabled,D=c.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(U,q,ee,he,_e,de,Oe){for(var Pe=q.transform,Be=_e==="map",Te=de==="map",Fe=0,We=U;Fe<We.length;Fe+=1){var Je=We[Fe],ht=he.getTile(Je),At=ht.getBucket(ee);if(At&&At.text&&At.text.segments.get().length){var gt=a.evaluateSizeForZoom(At.textSizeData,Pe.zoom),Pt=ca(ht,1,q.transform.zoom),Nt=hi(Je.posMatrix,Te,Be,q.transform,Pt),Bt=ee.layout.get("icon-text-fit")!=="none"&&At.hasIconData();if(gt){var Jt=Math.pow(2,Pe.zoom-ht.tileID.overscaledZ);ml(At,Be,Te,Oe,a.symbolSize,Pe,Nt,Je.posMatrix,Jt,gt,Bt)}}}}(y,c,f,p,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),E),f.paint.get("icon-opacity").constantOr(1)!==0&&ks(c,p,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),M,D),f.paint.get("text-opacity").constantOr(1)!==0&&ks(c,p,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),M,D),p.map.showCollisionBoxes&&(du(c,p,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),du(c,p,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))}},circle:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("circle-opacity"),M=f.paint.get("circle-stroke-width"),D=f.paint.get("circle-stroke-opacity"),U=!f.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)!==0||M.constantOr(1)!==0&&D.constantOr(1)!==0){for(var q=c.context,ee=q.gl,he=c.depthModeForSublayer(0,ve.ReadOnly),_e=Ie.disabled,de=c.colorModeForRenderPass(),Oe=[],Pe=0;Pe<y.length;Pe++){var Be=y[Pe],Te=p.getTile(Be),Fe=Te.getBucket(f);if(Fe){var We=Fe.programConfigurations.get(f.id),Je={programConfiguration:We,program:c.useProgram("circle",We),layoutVertexBuffer:Fe.layoutVertexBuffer,indexBuffer:Fe.indexBuffer,uniformValues:Rp(c,Be,Te,f)};if(U)for(var ht=0,At=Fe.segments.get();ht<At.length;ht+=1){var gt=At[ht];Oe.push({segments:new a.SegmentVector([gt]),sortKey:gt.sortKey,state:Je})}else Oe.push({segments:Fe.segments,sortKey:0,state:Je})}}U&&Oe.sort(function(mr,Tr){return mr.sortKey-Tr.sortKey});for(var Pt=0,Nt=Oe;Pt<Nt.length;Pt+=1){var Bt=Nt[Pt],Jt=Bt.state;Jt.program.draw(q,ee.TRIANGLES,he,_e,de,He.disabled,Jt.uniformValues,f.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Bt.segments,f.paint,c.transform.zoom,Jt.programConfiguration)}}}},heatmap:function(c,p,f,y){if(f.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,M=E.gl,D=Ie.disabled,U=new Ne([M.ONE,M.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Oe,Pe,Be){var Te=Oe.gl;Oe.activeTexture.set(Te.TEXTURE1),Oe.viewport.set([0,0,Pe.width/4,Pe.height/4]);var Fe=Be.heatmapFbo;if(Fe)Te.bindTexture(Te.TEXTURE_2D,Fe.colorAttachment.get()),Oe.bindFramebuffer.set(Fe.framebuffer);else{var We=Te.createTexture();Te.bindTexture(Te.TEXTURE_2D,We),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MIN_FILTER,Te.LINEAR),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MAG_FILTER,Te.LINEAR),Fe=Be.heatmapFbo=Oe.createFramebuffer(Pe.width/4,Pe.height/4,!1),function(Je,ht,At,gt){var Pt=Je.gl;Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,ht.width/4,ht.height/4,0,Pt.RGBA,Je.extRenderToTextureHalfFloat?Je.extTextureHalfFloat.HALF_FLOAT_OES:Pt.UNSIGNED_BYTE,null),gt.colorAttachment.set(At)}(Oe,Pe,We,Fe)}})(E,c,f),E.clear({color:a.Color.transparent});for(var q=0;q<y.length;q++){var ee=y[q];if(!p.hasRenderableParent(ee)){var he=p.getTile(ee),_e=he.getBucket(f);if(_e){var de=_e.programConfigurations.get(f.id);c.useProgram("heatmap",de).draw(E,M.TRIANGLES,ve.disabled,D,U,He.disabled,ju(ee.posMatrix,he,c.transform.zoom,f.paint.get("heatmap-intensity")),f.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,f.paint,c.transform.zoom,de)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Oe,Pe){var Be=Oe.context,Te=Be.gl,Fe=Pe.heatmapFbo;if(Fe){Be.activeTexture.set(Te.TEXTURE0),Te.bindTexture(Te.TEXTURE_2D,Fe.colorAttachment.get()),Be.activeTexture.set(Te.TEXTURE1);var We=Pe.colorRampTexture;We||(We=Pe.colorRampTexture=new a.Texture(Be,Pe.colorRamp,Te.RGBA)),We.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Oe.useProgram("heatmapTexture").draw(Be,Te.TRIANGLES,ve.disabled,Ie.disabled,Oe.colorModeForRenderPass(),He.disabled,function(Je,ht,At,gt){var Pt=a.create();a.ortho(Pt,0,Je.width,Je.height,0,0,1);var Nt=Je.context.gl;return{u_matrix:Pt,u_world:[Nt.drawingBufferWidth,Nt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ht.paint.get("heatmap-opacity")}}(Oe,Pe),Pe.id,Oe.viewportBuffer,Oe.quadTriangleIndexBuffer,Oe.viewportSegments,Pe.paint,Oe.transform.zoom)}}(c,f))},line:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("line-opacity"),M=f.paint.get("line-width");if(E.constantOr(1)!==0&&M.constantOr(1)!==0)for(var D=c.depthModeForSublayer(0,ve.ReadOnly),U=c.colorModeForRenderPass(),q=f.paint.get("line-dasharray"),ee=f.paint.get("line-pattern"),he=ee.constantOr(1),_e=f.paint.get("line-gradient"),de=f.getCrossfadeParameters(),Oe=he?"linePattern":q?"lineSDF":_e?"lineGradient":"line",Pe=c.context,Be=Pe.gl,Te=!0,Fe=0,We=y;Fe<We.length;Fe+=1){var Je=We[Fe],ht=p.getTile(Je);if(!he||ht.patternsLoaded()){var At=ht.getBucket(f);if(At){var gt=At.programConfigurations.get(f.id),Pt=c.context.program.get(),Nt=c.useProgram(Oe,gt),Bt=Te||Nt.program!==Pt,Jt=ee.constantOr(null);if(Jt&&ht.imageAtlas){var mr=ht.imageAtlas,Tr=mr.patternPositions[Jt.to.toString()],Er=mr.patternPositions[Jt.from.toString()];Tr&&Er&&gt.setConstantPatternPositions(Tr,Er)}var yn=he?Vn(c,ht,f,de):q?Qc(c,ht,f,q,de):_e?rc(c,ht,f,At.lineClipsArray.length):Gc(c,ht,f);if(he)Pe.activeTexture.set(Be.TEXTURE0),ht.imageAtlasTexture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE),gt.updatePaintBuffers(de);else if(q&&(Bt||c.lineAtlas.dirty))Pe.activeTexture.set(Be.TEXTURE0),c.lineAtlas.bind(Pe);else if(_e){var cr=At.gradients[f.id],Rr=cr.texture;if(f.gradientVersion!==cr.version){var Jr=256;if(f.stepInterpolant){var $r=p.getSource().maxzoom,Br=Je.canonical.z===$r?Math.ceil(1<<c.transform.maxZoom-Je.canonical.z):1;Jr=a.clamp(a.nextPowerOfTwo(At.maxLineLength/a.EXTENT*1024*Br),256,Pe.maxTextureSize)}cr.gradient=a.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Jr,image:cr.gradient||void 0,clips:At.lineClipsArray}),cr.texture?cr.texture.update(cr.gradient):cr.texture=new a.Texture(Pe,cr.gradient,Be.RGBA),cr.version=f.gradientVersion,Rr=cr.texture}Pe.activeTexture.set(Be.TEXTURE0),Rr.bind(f.stepInterpolant?Be.NEAREST:Be.LINEAR,Be.CLAMP_TO_EDGE)}Nt.draw(Pe,Be.TRIANGLES,D,c.stencilModeForClipping(Je),U,He.disabled,yn,f.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,f.paint,c.transform.zoom,gt,At.layoutVertexBuffer2),Te=!1}}}}},fill:function(c,p,f,y){var E=f.paint.get("fill-color"),M=f.paint.get("fill-opacity");if(M.constantOr(1)!==0){var D=c.colorModeForRenderPass(),U=f.paint.get("fill-pattern"),q=c.opaquePassEnabledForLayer()&&!U.constantOr(1)&&E.constantOr(a.Color.transparent).a===1&&M.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===q){var ee=c.depthModeForSublayer(1,c.renderPass==="opaque"?ve.ReadWrite:ve.ReadOnly);oc(c,p,f,y,ee,D,!1)}if(c.renderPass==="translucent"&&f.paint.get("fill-antialias")){var he=c.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,ve.ReadOnly);oc(c,p,f,y,he,D,!0)}}},"fill-extrusion":function(c,p,f,y){var E=f.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var M=new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D);if(E!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Yo(c,p,f,y,M,Ie.disabled,Ne.disabled),Yo(c,p,f,y,M,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var D=c.colorModeForRenderPass();Yo(c,p,f,y,M,Ie.disabled,D)}}},hillshade:function(c,p,f,y){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,M=c.depthModeForSublayer(0,ve.ReadOnly),D=c.colorModeForRenderPass(),U=c.renderPass==="translucent"?c.stencilConfigForOverlap(y):[{},y],q=U[0],ee=0,he=U[1];ee<he.length;ee+=1){var _e=he[ee],de=p.getTile(_e);de.needsHillshadePrepare&&c.renderPass==="offscreen"?us(c,de,f,M,Ie.disabled,D):c.renderPass==="translucent"&&Lp(c,de,f,M,q[_e.overscaledZ],D)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,p,f,y){if(c.renderPass==="translucent"&&f.paint.get("raster-opacity")!==0&&y.length)for(var E=c.context,M=E.gl,D=p.getSource(),U=c.useProgram("raster"),q=c.colorModeForRenderPass(),ee=D instanceof ye?[{},y]:c.stencilConfigForOverlap(y),he=ee[0],_e=ee[1],de=_e[_e.length-1].overscaledZ,Oe=!c.options.moving,Pe=0,Be=_e;Pe<Be.length;Pe+=1){var Te=Be[Pe],Fe=c.depthModeForSublayer(Te.overscaledZ-de,f.paint.get("raster-opacity")===1?ve.ReadWrite:ve.ReadOnly,M.LESS),We=p.getTile(Te),Je=c.transform.calculatePosMatrix(Te.toUnwrapped(),Oe);We.registerFadeDuration(f.paint.get("raster-fade-duration"));var ht=p.findLoadedParent(Te,0),At=fa(We,ht,p,f,c.transform),gt=void 0,Pt=void 0,Nt=f.paint.get("raster-resampling")==="nearest"?M.NEAREST:M.LINEAR;E.activeTexture.set(M.TEXTURE0),We.texture.bind(Nt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(M.TEXTURE1),ht?(ht.texture.bind(Nt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),gt=Math.pow(2,ht.tileID.overscaledZ-We.tileID.overscaledZ),Pt=[We.tileID.canonical.x*gt%1,We.tileID.canonical.y*gt%1]):We.texture.bind(Nt,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST);var Bt=Wc(Je,Pt||[0,0],gt||1,At,f);D instanceof ye?U.draw(E,M.TRIANGLES,Fe,Ie.disabled,q,He.disabled,Bt,f.id,D.boundsBuffer,c.quadTriangleIndexBuffer,D.boundsSegments):U.draw(E,M.TRIANGLES,Fe,he[Te.overscaledZ],q,He.disabled,Bt,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,p,f){var y=f.paint.get("background-color"),E=f.paint.get("background-opacity");if(E!==0){var M=c.context,D=M.gl,U=c.transform,q=U.tileSize,ee=f.paint.get("background-pattern");if(!c.isPatternMissing(ee)){var he=!ee&&y.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===he){var _e=Ie.disabled,de=c.depthModeForSublayer(0,he==="opaque"?ve.ReadWrite:ve.ReadOnly),Oe=c.colorModeForRenderPass(),Pe=c.useProgram(ee?"backgroundPattern":"background"),Be=U.coveringTiles({tileSize:q});ee&&(M.activeTexture.set(D.TEXTURE0),c.imageManager.bind(c.context));for(var Te=f.getCrossfadeParameters(),Fe=0,We=Be;Fe<We.length;Fe+=1){var Je=We[Fe],ht=c.transform.calculatePosMatrix(Je.toUnwrapped()),At=ee?nc(ht,E,c,ee,{tileID:Je,tileSize:q},Te):Zc(ht,E,y);Pe.draw(M,D.TRIANGLES,de,_e,Oe,He.disabled,At,f.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,p,f){for(var y=0;y<f.length;y++)It(c,p,f[y])},custom:function(c,p,f){var y=c.context,E=f.implementation;if(c.renderPass==="offscreen"){var M=E.prerender;M&&(c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),M.call(E,y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),y.setStencilMode(Ie.disabled);var D=E.renderingMode==="3d"?new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ve.ReadOnly);y.setDepthMode(D),E.render(y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState(),y.bindFramebuffer.set(null)}}},Ht=function(c,p){this.context=new ze(c),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lu,this.gpuTimers={}};Ht.prototype.resize=function(c,p){if(this.width=c*a.browser.devicePixelRatio,this.height=p*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var f=0,y=this.style._order;f<y.length;f+=1)this.style._layers[y[f]].resize()},Ht.prototype.setup=function(){var c=this.context,p=new a.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Fo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var f=new a.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(a.EXTENT,0),f.emplaceBack(0,a.EXTENT),f.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(f,Fo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var y=new a.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(a.EXTENT,0,a.EXTENT,0),y.emplaceBack(0,a.EXTENT,0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(y,le.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var E=new a.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Fo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var M=new a.StructArrayLayout1ui2;M.emplaceBack(0),M.emplaceBack(1),M.emplaceBack(3),M.emplaceBack(2),M.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(M);var D=new a.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(D),this.emptyTexture=new a.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var U=this.context.gl;this.stencilClearMode=new Ie({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)},Ht.prototype.clearStencil=function(){var c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var f=a.create();a.ortho(f,0,this.width,this.height,0,0,1),a.scale(f,f,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,ve.disabled,this.stencilClearMode,Ne.disabled,He.disabled,_a(f),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ht.prototype._renderTileClippingMasks=function(c,p){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&p&&p.length){this.currentStencilSource=c.source;var f=this.context,y=f.gl;this.nextStencilID+p.length>256&&this.clearStencil(),f.setColorMode(Ne.disabled),f.setDepthMode(ve.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var M=0,D=p;M<D.length;M+=1){var U=D[M],q=this._tileClippingMaskIDs[U.key]=this.nextStencilID++;E.draw(f,y.TRIANGLES,ve.disabled,new Ie({func:y.ALWAYS,mask:0},q,255,y.KEEP,y.KEEP,y.REPLACE),Ne.disabled,He.disabled,_a(U.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ht.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,p=this.context.gl;return new Ie({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)},Ht.prototype.stencilModeForClipping=function(c){var p=this.context.gl;return new Ie({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)},Ht.prototype.stencilConfigForOverlap=function(c){var p,f=this.context.gl,y=c.sort(function(q,ee){return ee.overscaledZ-q.overscaledZ}),E=y[y.length-1].overscaledZ,M=y[0].overscaledZ-E+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();for(var D={},U=0;U<M;U++)D[U+E]=new Ie({func:f.GEQUAL,mask:255},U+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=M,[D,y]}return[(p={},p[E]=Ie.disabled,p),y]},Ht.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new Ne([c.CONSTANT_COLOR,c.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ne.unblended:Ne.alphaBlended},Ht.prototype.depthModeForSublayer=function(c,p,f){if(!this.opaquePassEnabledForLayer())return ve.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ve(f||this.context.gl.LEQUAL,p,[y,y])},Ht.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ht.prototype.render=function(c,p){var f=this;this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var y=this.style._order,E=this.style.sourceCaches;for(var M in E){var D=E[M];D.used&&D.prepare(this.context)}var U,q,ee={},he={},_e={};for(var de in E){var Oe=E[de];ee[de]=Oe.getVisibleCoordinates(),he[de]=ee[de].slice().reverse(),_e[de]=Oe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Pe=0;Pe<y.length;Pe++)if(this.style._layers[y[Pe]].is3D()){this.opaquePassCutoff=Pe;break}this.renderPass="offscreen";for(var Be=0,Te=y;Be<Te.length;Be+=1){var Fe=this.style._layers[Te[Be]];if(Fe.hasOffscreenPass()&&!Fe.isHidden(this.transform.zoom)){var We=he[Fe.source];(Fe.type==="custom"||We.length)&&this.renderLayer(this,E[Fe.source],Fe,We)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var Je=this.style._layers[y[this.currentLayer]],ht=E[Je.source],At=ee[Je.source];this._renderTileClippingMasks(Je,At),this.renderLayer(this,ht,Je,At)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var gt=this.style._layers[y[this.currentLayer]],Pt=E[gt.source],Nt=(gt.type==="symbol"?_e:he)[gt.source];this._renderTileClippingMasks(gt,ee[gt.source]),this.renderLayer(this,Pt,gt,Nt)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Bt){Bt.source&&!Bt.isHidden(f.transform.zoom)&&(Bt.source!==(q&&q.id)&&(q=f.style.sourceCaches[Bt.source]),(!U||U.getSource().maxzoom<q.getSource().maxzoom)&&(U=q))}),U&&vt.debug(this,U,U.getVisibleCoordinates())),this.options.showPadding&&function(Bt){var Jt=Bt.transform.padding;gl(Bt,Bt.transform.height-(Jt.top||0),3,ls),gl(Bt,Jt.bottom||0,3,Qs),Ws(Bt,Jt.left||0,3,Dp),Ws(Bt,Bt.transform.width-(Jt.right||0),3,Lf);var mr=Bt.transform.centerPoint;(function(Tr,Er,yn,cr){nt(Tr,Er-1,yn-10,2,20,cr),nt(Tr,Er-10,yn-1,20,2,cr)})(Bt,mr.x,Bt.transform.height-mr.y,Kc)}(this),this.context.setDefault()},Ht.prototype.renderLayer=function(c,p,f,y){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||y.length)&&(this.id=f.id,this.gpuTimingStart(f),vt[f.type](c,p,f,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ht.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var p=this.context.extTimerQuery,f=this.gpuTimers[c.id];f||(f=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),f.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,f.query)}},Ht.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},Ht.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},Ht.prototype.queryGpuTimers=function(c){var p={};for(var f in c){var y=c[f],E=this.context.extTimerQuery,M=E.getQueryObjectEXT(y.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(y.query),p[f]=M}return p},Ht.prototype.translatePosMatrix=function(c,p,f,y,E){if(!f[0]&&!f[1])return c;var M=E?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(M){var D=Math.sin(M),U=Math.cos(M);f=[f[0]*U-f[1]*D,f[0]*D+f[1]*U]}var q=[E?f[0]:ca(p,f[0],this.transform.zoom),E?f[1]:ca(p,f[1],this.transform.zoom),0],ee=new Float32Array(16);return a.translate(ee,c,q),ee},Ht.prototype.saveTileTexture=function(c){var p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]},Ht.prototype.getTileTexture=function(c){var p=this._tileTextures[c];return p&&p.length>0?p.pop():null},Ht.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var p=this.imageManager.getPattern(c.from.toString()),f=this.imageManager.getPattern(c.to.toString());return!p||!f},Ht.prototype.useProgram=function(c,p){this.cache=this.cache||{};var f=""+c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[f]||(this.cache[f]=new Al(this.context,c,ei[c],p,dl[c],this._showOverdrawInspector)),this.cache[f]},Ht.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},Ht.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ht.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Yr=function(c,p){this.points=c,this.planes=p};Yr.fromInvProjectionMatrix=function(c,p,f){var y=Math.pow(2,f),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(D){return a.transformMat4([],D,c)}).map(function(D){return a.scale$1([],D,1/D[3]/p*y)}),M=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(D){var U=a.sub([],E[D[0]],E[D[1]]),q=a.sub([],E[D[2]],E[D[1]]),ee=a.normalize([],a.cross([],U,q)),he=-a.dot(ee,E[D[1]]);return ee.concat(he)});return new Yr(E,M)};var bn=function(c,p){this.min=c,this.max=p,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(c){for(var p=[c%2==0,c<2],f=a.clone$2(this.min),y=a.clone$2(this.max),E=0;E<p.length;E++)f[E]=p[E]?this.min[E]:this.center[E],y[E]=p[E]?this.center[E]:this.max[E];return y[2]=this.max[2],new bn(f,y)},bn.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},bn.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},bn.prototype.intersects=function(c){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],f=!0,y=0;y<c.planes.length;y++){for(var E=c.planes[y],M=0,D=0;D<p.length;D++)M+=a.dot$1(E,p[D])>=0;if(M===0)return 0;M!==p.length&&(f=!1)}if(f)return 2;for(var U=0;U<3;U++){for(var q=Number.MAX_VALUE,ee=-Number.MAX_VALUE,he=0;he<c.points.length;he++){var _e=c.points[he][U]-this.min[U];q=Math.min(q,_e),ee=Math.max(ee,_e)}if(ee<0||q>this.max[U]-this.min[U])return 0}return 1};var ti=function(c,p,f,y){if(c===void 0&&(c=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),isNaN(c)||c<0||isNaN(p)||p<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=f,this.right=y};ti.prototype.interpolate=function(c,p,f){return p.top!=null&&c.top!=null&&(this.top=a.number(c.top,p.top,f)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.number(c.bottom,p.bottom,f)),p.left!=null&&c.left!=null&&(this.left=a.number(c.left,p.left,f)),p.right!=null&&c.right!=null&&(this.right=a.number(c.right,p.right,f)),this},ti.prototype.getCenter=function(c,p){var f=a.clamp((this.left+c-this.right)/2,0,c),y=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(f,y)},ti.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},ti.prototype.clone=function(){return new ti(this.top,this.bottom,this.left,this.right)},ti.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Mr=function(c,p,f,y,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=f==null?0:f,this._maxPitch=y==null?60:y,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ti,this._posMatrixCache={},this._alignedPosMatrixCache={}},sn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Mr.prototype.clone=function(){var c=new Mr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},sn.minZoom.get=function(){return this._minZoom},sn.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},sn.maxZoom.get=function(){return this._maxZoom},sn.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},sn.minPitch.get=function(){return this._minPitch},sn.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},sn.maxPitch.get=function(){return this._maxPitch},sn.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},sn.renderWorldCopies.get=function(){return this._renderWorldCopies},sn.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},sn.worldSize.get=function(){return this.tileSize*this.scale},sn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},sn.size.get=function(){return new a.Point(this.width,this.height)},sn.bearing.get=function(){return-this.angle/Math.PI*180},sn.bearing.set=function(c){var p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},sn.pitch.get=function(){return this._pitch/Math.PI*180},sn.pitch.set=function(c){var p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},sn.fov.get=function(){return this._fov/Math.PI*180},sn.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},sn.zoom.get=function(){return this._zoom},sn.zoom.set=function(c){var p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},sn.center.get=function(){return this._center},sn.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},sn.padding.get=function(){return this._edgeInsets.toJSON()},sn.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},sn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Mr.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Mr.prototype.interpolatePadding=function(c,p,f){this._unmodified=!1,this._edgeInsets.interpolate(c,p,f),this._constrain(),this._calcMatrices()},Mr.prototype.coveringZoomLevel=function(c){var p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)},Mr.prototype.getVisibleUnwrappedCoordinates=function(c){var p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var f=this.pointCoordinate(new a.Point(0,0)),y=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),M=this.pointCoordinate(new a.Point(0,this.height)),D=Math.floor(Math.min(f.x,y.x,E.x,M.x)),U=Math.floor(Math.max(f.x,y.x,E.x,M.x)),q=D-1;q<=U+1;q++)q!==0&&p.push(new a.UnwrappedTileID(q,c));return p},Mr.prototype.coveringTiles=function(c){var p=this.coveringZoomLevel(c),f=p;if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);var y=a.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,p),M=[E*y.x,E*y.y,0],D=Yr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),U=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(U=p);var q=function(Bt){return{aabb:new bn([Bt*E,0,0],[(Bt+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Bt,fullyVisible:!1}},ee=[],he=[],_e=p,de=c.reparseOverscaled?f:p;if(this._renderWorldCopies)for(var Oe=1;Oe<=3;Oe++)ee.push(q(-Oe)),ee.push(q(Oe));for(ee.push(q(0));ee.length>0;){var Pe=ee.pop(),Be=Pe.x,Te=Pe.y,Fe=Pe.fullyVisible;if(!Fe){var We=Pe.aabb.intersects(D);if(We===0)continue;Fe=We===2}var Je=Pe.aabb.distanceX(M),ht=Pe.aabb.distanceY(M),At=Math.max(Math.abs(Je),Math.abs(ht));if(Pe.zoom===_e||At>3+(1<<_e-Pe.zoom)-2&&Pe.zoom>=U)he.push({tileID:new a.OverscaledTileID(Pe.zoom===_e?de:Pe.zoom,Pe.wrap,Pe.zoom,Be,Te),distanceSq:a.sqrLen([M[0]-.5-Be,M[1]-.5-Te])});else for(var gt=0;gt<4;gt++){var Pt=(Be<<1)+gt%2,Nt=(Te<<1)+(gt>>1);ee.push({aabb:Pe.aabb.quadrant(gt),zoom:Pe.zoom+1,x:Pt,y:Nt,wrap:Pe.wrap,fullyVisible:Fe})}}return he.sort(function(Bt,Jt){return Bt.distanceSq-Jt.distanceSq}).map(function(Bt){return Bt.tileID})},Mr.prototype.resize=function(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()},sn.unmodified.get=function(){return this._unmodified},Mr.prototype.zoomScale=function(c){return Math.pow(2,c)},Mr.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Mr.prototype.project=function(c){var p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)},Mr.prototype.unproject=function(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},sn.point.get=function(){return this.project(this.center)},Mr.prototype.setLocationAtPoint=function(c,p){var f=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),M=new a.MercatorCoordinate(E.x-(f.x-y.x),E.y-(f.y-y.y));this.center=this.coordinateLocation(M),this._renderWorldCopies&&(this.center=this.center.wrap())},Mr.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Mr.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Mr.prototype.locationCoordinate=function(c){return a.MercatorCoordinate.fromLngLat(c)},Mr.prototype.coordinateLocation=function(c){return c.toLngLat()},Mr.prototype.pointCoordinate=function(c){var p=[c.x,c.y,0,1],f=[c.x,c.y,1,1];a.transformMat4(p,p,this.pixelMatrixInverse),a.transformMat4(f,f,this.pixelMatrixInverse);var y=p[3],E=f[3],M=p[1]/y,D=f[1]/E,U=p[2]/y,q=f[2]/E,ee=U===q?0:(0-U)/(q-U);return new a.MercatorCoordinate(a.number(p[0]/y,f[0]/E,ee)/this.worldSize,a.number(M,D,ee)/this.worldSize)},Mr.prototype.coordinatePoint=function(c){var p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix),new a.Point(p[0]/p[3],p[1]/p[3])},Mr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Mr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Mr.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Mr.prototype.calculatePosMatrix=function(c,p){p===void 0&&(p=!1);var f=c.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];var E=c.canonical,M=this.worldSize/this.zoomScale(E.z),D=E.x+Math.pow(2,E.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[D*M,E.y*M,0]),a.scale(U,U,[M/a.EXTENT,M/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),y[f]=new Float32Array(U),y[f]},Mr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Mr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,p,f,y,E=-90,M=90,D=-180,U=180,q=this.size,ee=this._unmodified;if(this.latRange){var he=this.latRange;E=a.mercatorYfromLat(he[1])*this.worldSize,c=(M=a.mercatorYfromLat(he[0])*this.worldSize)-E<q.y?q.y/(M-E):0}if(this.lngRange){var _e=this.lngRange;D=a.mercatorXfromLng(_e[0])*this.worldSize,p=(U=a.mercatorXfromLng(_e[1])*this.worldSize)-D<q.x?q.x/(U-D):0}var de=this.point,Oe=Math.max(p||0,c||0);if(Oe)return this.center=this.unproject(new a.Point(p?(U+D)/2:de.x,c?(M+E)/2:de.y)),this.zoom+=this.scaleZoom(Oe),this._unmodified=ee,void(this._constraining=!1);if(this.latRange){var Pe=de.y,Be=q.y/2;Pe-Be<E&&(y=E+Be),Pe+Be>M&&(y=M-Be)}if(this.lngRange){var Te=de.x,Fe=q.x/2;Te-Fe<D&&(f=D+Fe),Te+Fe>U&&(f=U-Fe)}f===void 0&&y===void 0||(this.center=this.unproject(new a.Point(f!==void 0?f:de.x,y!==void 0?y:de.y))),this._unmodified=ee,this._constraining=!1}},Mr.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,f=this._fov*(.5+c.y/this.height),y=Math.sin(f)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-p-f,.01,Math.PI-.01)),E=this.point,M=E.x,D=E.y,U=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),q=this.height/50,ee=new Float64Array(16);a.perspective(ee,this._fov,this.width/this.height,q,U),ee[8]=2*-c.x/this.width,ee[9]=2*c.y/this.height,a.scale(ee,ee,[1,-1,1]),a.translate(ee,ee,[0,0,-this.cameraToCenterDistance]),a.rotateX(ee,ee,this._pitch),a.rotateZ(ee,ee,this.angle),a.translate(ee,ee,[-M,-D,0]),this.mercatorMatrix=a.scale([],ee,[this.worldSize,this.worldSize,this.worldSize]),a.scale(ee,ee,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ee,this.invProjMatrix=a.invert([],this.projMatrix);var he=this.width%2/2,_e=this.height%2/2,de=Math.cos(this.angle),Oe=Math.sin(this.angle),Pe=M-Math.round(M)+de*he+Oe*_e,Be=D-Math.round(D)+de*_e+Oe*he,Te=new Float64Array(ee);if(a.translate(Te,Te,[Pe>.5?Pe-1:Pe,Be>.5?Be-1:Be,0]),this.alignedProjMatrix=Te,ee=a.create(),a.scale(ee,ee,[this.width/2,-this.height/2,1]),a.translate(ee,ee,[1,-1,0]),this.labelPlaneMatrix=ee,ee=a.create(),a.scale(ee,ee,[1,-1,1]),a.translate(ee,ee,[-1,-1,0]),a.scale(ee,ee,[2/this.width,2/this.height,1]),this.glCoordMatrix=ee,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ee=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ee,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Mr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},Mr.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))},Mr.prototype.getCameraQueryGeometry=function(c){var p=this.getCameraPoint();if(c.length===1)return[c[0],p];for(var f=p.x,y=p.y,E=p.x,M=p.y,D=0,U=c;D<U.length;D+=1){var q=U[D];f=Math.min(f,q.x),y=Math.min(y,q.y),E=Math.max(E,q.x),M=Math.max(M,q.y)}return[new a.Point(f,y),new a.Point(E,y),new a.Point(E,M),new a.Point(f,M),new a.Point(f,y)]},Object.defineProperties(Mr.prototype,sn);var $u=function(c){var p,f,y,E;this._hashName=c&&encodeURIComponent(c),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),f=!1,y=null,E=function(){y=null,f&&(p(),y=setTimeout(E,300),f=!1)},function(){return f=!0,y||E(),y})};$u.prototype.addTo=function(c){return this._map=c,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},$u.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},$u.prototype.getHashString=function(c){var p=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,y),M=Math.round(p.lng*E)/E,D=Math.round(p.lat*E)/E,U=this._map.getBearing(),q=this._map.getPitch(),ee="";if(ee+=c?"/"+M+"/"+D+"/"+f:f+"/"+D+"/"+M,(U||q)&&(ee+="/"+Math.round(10*U)/10),q&&(ee+="/"+Math.round(q)),this._hashName){var he=this._hashName,_e=!1,de=a.window.location.hash.slice(1).split("&").map(function(Oe){var Pe=Oe.split("=")[0];return Pe===he?(_e=!0,Pe+"="+ee):Oe}).filter(function(Oe){return Oe});return _e||de.push(he+"="+ee),"#"+de.join("&")}return"#"+ee},$u.prototype._getCurrentHash=function(){var c,p=this,f=a.window.location.hash.replace("#","");return this._hashName?(f.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(c=y)}),(c&&c[1]||"").split("/")):f.split("/")},$u.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(f){return isNaN(f)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:p,pitch:+(c[4]||0)}),!0}return!1},$u.prototype._updateHashUnthrottled=function(){var c=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,c)}catch{}};var ji={linearity:.3,easing:a.bezier(0,0,.3,1)},yl=a.extend({deceleration:2500,maxSpeed:1400},ji),xa=a.extend({deceleration:20,maxSpeed:1400},ji),cs=a.extend({deceleration:1e3,maxSpeed:360},ji),Xc=a.extend({deceleration:1e3,maxSpeed:90},ji),mu=function(c){this._map=c,this.clear()};function Un(c,p){(!c.duration||c.duration<p.duration)&&(c.duration=p.duration,c.easing=p.easing)}function ac(c,p,f){var y=f.maxSpeed,E=f.linearity,M=f.deceleration,D=a.clamp(c*E/(p/1e3),-y,y),U=Math.abs(D)/(M*E);return{easing:f.easing,duration:1e3*U,amount:D*(U/2)}}mu.prototype.clear=function(){this._inertiaBuffer=[]},mu.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})},mu.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,p=a.browser.now();c.length>0&&p-c[0].time>160;)c.shift()},mu.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},f=0,y=this._inertiaBuffer;f<y.length;f+=1){var E=y[f].settings;p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround)}var M=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(p.pan.mag()){var U=ac(p.pan.mag(),M,a.extend({},yl,c||{}));D.offset=p.pan.mult(U.amount/p.pan.mag()),D.center=this._map.transform.center,Un(D,U)}if(p.zoom){var q=ac(p.zoom,M,xa);D.zoom=this._map.transform.zoom+q.amount,Un(D,q)}if(p.bearing){var ee=ac(p.bearing,M,cs);D.bearing=this._map.transform.bearing+a.clamp(ee.amount,-179,179),Un(D,ee)}if(p.pitch){var he=ac(p.pitch,M,Xc);D.pitch=this._map.transform.pitch+he.amount,Un(D,he)}if(D.zoom||D.bearing){var _e=p.pinchAround===void 0?p.around:p.pinchAround;D.around=_e?this._map.unproject(_e):this._map.getCenter()}return this.clear(),a.extend(D,{noMoveStart:!0})}};var Po=function(c){function p(y,E,M,D){D===void 0&&(D={});var U=S.mousePos(E.getCanvasContainer(),M),q=E.unproject(U);c.call(this,y,a.extend({point:U,lngLat:q,originalEvent:M},D)),this._defaultPrevented=!1,this.target=E}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),ho=function(c){function p(y,E,M){var D=y==="touchend"?M.changedTouches:M.touches,U=S.touchPos(E.getCanvasContainer(),D),q=U.map(function(_e){return E.unproject(_e)}),ee=U.reduce(function(_e,de,Oe,Pe){return _e.add(de.div(Pe.length))},new a.Point(0,0)),he=E.unproject(ee);c.call(this,y,{points:U,point:ee,lngLats:q,lngLat:he,originalEvent:M}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Df=function(c){function p(y,E,M){c.call(this,y,{originalEvent:M}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(a.Event),Ki=function(c,p){this._map=c,this._clickTolerance=p.clickTolerance};Ki.prototype.reset=function(){delete this._mousedownPos},Ki.prototype.wheel=function(c){return this._firePreventable(new Df(c.type,this._map,c))},Ki.prototype.mousedown=function(c,p){return this._mousedownPos=p,this._firePreventable(new Po(c.type,this._map,c))},Ki.prototype.mouseup=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.click=function(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.dblclick=function(c){return this._firePreventable(new Po(c.type,this._map,c))},Ki.prototype.mouseover=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.mouseout=function(c){this._map.fire(new Po(c.type,this._map,c))},Ki.prototype.touchstart=function(c){return this._firePreventable(new ho(c.type,this._map,c))},Ki.prototype.touchmove=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype.touchend=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype.touchcancel=function(c){this._map.fire(new ho(c.type,this._map,c))},Ki.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Ki.prototype.isEnabled=function(){return!0},Ki.prototype.isActive=function(){return!1},Ki.prototype.enable=function(){},Ki.prototype.disable=function(){};var ba=function(c){this._map=c};ba.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ba.prototype.mousemove=function(c){this._map.fire(new Po(c.type,this._map,c))},ba.prototype.mousedown=function(){this._delayContextMenu=!0},ba.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ba.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Po(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},ba.prototype.isEnabled=function(){return!0},ba.prototype.isActive=function(){return!1},ba.prototype.enable=function(){},ba.prototype.disable=function(){};var nr=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1};function $a(c,p){for(var f={},y=0;y<c.length;y++)f[c[y].identifier]=p[y];return f}nr.prototype.isEnabled=function(){return!!this._enabled},nr.prototype.isActive=function(){return!!this._active},nr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},nr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},nr.prototype.mousedown=function(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(S.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},nr.prototype.mousemoveWindow=function(c,p){if(this._active){var f=p;if(!(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=f,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(y.x,f.x),M=Math.max(y.x,f.x),D=Math.min(y.y,f.y),U=Math.max(y.y,f.y);S.setTransform(this._box,"translate("+E+"px,"+D+"px)"),this._box.style.width=M-E+"px",this._box.style.height=U-D+"px"}}},nr.prototype.mouseupWindow=function(c,p){var f=this;if(this._active&&c.button===0){var y=this._startPos,E=p;if(this.reset(),S.suppressClick(),y.x!==E.x||y.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(M){return M.fitScreenCoordinates(y,E,f._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},nr.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},nr.prototype.reset=function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},nr.prototype._fireEvent=function(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))};var Zs=function(c){this.reset(),this.numTouches=c.numTouches};Zs.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zs.prototype.touchstart=function(c,p,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){for(var E=new a.Point(0,0),M=0,D=y;M<D.length;M+=1)E._add(D[M]);return E.div(y.length)}(p),this.touches=$a(f,p)))},Zs.prototype.touchmove=function(c,p,f){if(!this.aborted&&this.centroid){var y=$a(f,p);for(var E in this.touches){var M=y[E];(!M||M.dist(this.touches[E])>30)&&(this.aborted=!0)}}},Zs.prototype.touchend=function(c,p,f){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Ks=function(c){this.singleTap=new Zs(c),this.numTaps=c.numTaps,this.reset()};Ks.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ks.prototype.touchstart=function(c,p,f){this.singleTap.touchstart(c,p,f)},Ks.prototype.touchmove=function(c,p,f){this.singleTap.touchmove(c,p,f)},Ks.prototype.touchend=function(c,p,f){var y=this.singleTap.touchend(c,p,f);if(y){var E=c.timeStamp-this.lastTime<500,M=!this.lastTap||this.lastTap.dist(y)<30;if(E&&M||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var Bo=function(){this._zoomIn=new Ks({numTouches:1,numTaps:2}),this._zoomOut=new Ks({numTouches:2,numTaps:1}),this.reset()};Bo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Bo.prototype.touchstart=function(c,p,f){this._zoomIn.touchstart(c,p,f),this._zoomOut.touchstart(c,p,f)},Bo.prototype.touchmove=function(c,p,f){this._zoomIn.touchmove(c,p,f),this._zoomOut.touchmove(c,p,f)},Bo.prototype.touchend=function(c,p,f){var y=this,E=this._zoomIn.touchend(c,p,f),M=this._zoomOut.touchend(c,p,f);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(E)},{originalEvent:c})}}):M?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(D){return D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(M)},{originalEvent:c})}}):void 0},Bo.prototype.touchcancel=function(){this.reset()},Bo.prototype.enable=function(){this._enabled=!0},Bo.prototype.disable=function(){this._enabled=!1,this.reset()},Bo.prototype.isEnabled=function(){return this._enabled},Bo.prototype.isActive=function(){return this._active};var vl={0:1,2:2},Jo=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Jo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Jo.prototype._correctButton=function(c,p){return!1},Jo.prototype._move=function(c,p){return{}},Jo.prototype.mousedown=function(c,p){if(!this._lastPoint){var f=S.mouseButton(c);this._correctButton(c,f)&&(this._lastPoint=p,this._eventButton=f)}},Jo.prototype.mousemoveWindow=function(c,p){var f=this._lastPoint;if(f){if(c.preventDefault(),function(y,E){var M=vl[E];return y.buttons===void 0||(y.buttons&M)!==M}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(f,p)}},Jo.prototype.mouseupWindow=function(c){this._lastPoint&&S.mouseButton(c)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())},Jo.prototype.enable=function(){this._enabled=!0},Jo.prototype.disable=function(){this._enabled=!1,this.reset()},Jo.prototype.isEnabled=function(){return this._enabled},Jo.prototype.isActive=function(){return this._active};var sr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.mousedown=function(f,y){c.prototype.mousedown.call(this,f,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(f,y){return y===0&&!f.ctrlKey},p.prototype._move=function(f,y){return{around:y,panDelta:y.sub(f)}},p}(Jo),sc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=.8*(y.x-f.x);if(E)return this._active=!0,{bearingDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Jo),Xs=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=-.5*(y.y-f.y);if(E)return this._active=!0,{pitchDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Jo),mo=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};mo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},mo.prototype.touchstart=function(c,p,f){return this._calculateTransform(c,p,f)},mo.prototype.touchmove=function(c,p,f){if(this._active&&!(f.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,f)},mo.prototype.touchend=function(c,p,f){this._calculateTransform(c,p,f),this._active&&f.length<this._minTouches&&this.reset()},mo.prototype.touchcancel=function(){this.reset()},mo.prototype._calculateTransform=function(c,p,f){f.length>0&&(this._active=!0);var y=$a(f,p),E=new a.Point(0,0),M=new a.Point(0,0),D=0;for(var U in y){var q=y[U],ee=this._touches[U];ee&&(E._add(q),M._add(q.sub(ee)),D++,y[U]=q)}if(this._touches=y,!(D<this._minTouches)&&M.mag()){var he=M.div(D);if(this._sum._add(he),!(this._sum.mag()<this._clickTolerance))return{around:E.div(D),panDelta:he}}},mo.prototype.enable=function(){this._enabled=!0},mo.prototype.disable=function(){this._enabled=!1,this.reset()},mo.prototype.isEnabled=function(){return this._enabled},mo.prototype.isActive=function(){return this._active};var wn=function(){this.reset()};function Yc(c,p,f){for(var y=0;y<c.length;y++)if(c[y].identifier===f)return p[y]}function Fp(c,p){return Math.log(c/p)/Math.LN2}wn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},wn.prototype._start=function(c){},wn.prototype._move=function(c,p,f){return{}},wn.prototype.touchstart=function(c,p,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([p[0],p[1]]))},wn.prototype.touchmove=function(c,p,f){if(this._firstTwoTouches){c.preventDefault();var y=this._firstTwoTouches,E=y[1],M=Yc(f,p,y[0]),D=Yc(f,p,E);if(M&&D){var U=this._aroundCenter?null:M.add(D).div(2);return this._move([M,D],U,c)}}},wn.prototype.touchend=function(c,p,f){if(this._firstTwoTouches){var y=this._firstTwoTouches,E=y[1],M=Yc(f,p,y[0]),D=Yc(f,p,E);M&&D||(this._active&&S.suppressClick(),this.reset())}},wn.prototype.touchcancel=function(){this.reset()},wn.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},wn.prototype.disable=function(){this._enabled=!1,this.reset()},wn.prototype.isEnabled=function(){return this._enabled},wn.prototype.isActive=function(){return this._active};var Ff=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(f){this._startDistance=this._distance=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(Fp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Fp(this._distance,E),pinchAround:y}},p}(wn);function go(c,p){return 180*c.angleWith(p)/Math.PI}var Va=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:go(this._vector,E),pinchAround:y}},p.prototype._isBelowThreshold=function(f){this._minDiameter=Math.min(this._minDiameter,f.mag());var y=25/(Math.PI*this._minDiameter)*360,E=go(f,this._startVector);return Math.abs(E)<y},p}(wn);function Vu(c){return Math.abs(c.y)>Math.abs(c.x)}var Jc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(f){this._lastPoints=f,Vu(f[0].sub(f[1]))&&(this._valid=!1)},p.prototype._move=function(f,y,E){var M=f[0].sub(this._lastPoints[0]),D=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(M,D,E.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(M.y+D.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(f,y,E){if(this._valid!==void 0)return this._valid;var M=f.mag()>=2,D=y.mag()>=2;if(M||D){if(!M||!D)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var U=f.y>0==y.y>0;return Vu(f)&&Vu(y)&&U}},p}(wn),ef={panStep:100,bearingStep:15,pitchStep:10},fs=function(){var c=ef;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function Bp(c){return c*(2-c)}fs.prototype.reset=function(){this._active=!1},fs.prototype.keydown=function(c){var p=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=0,y=0,E=0,M=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),M=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),M=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,E=0),{cameraAnimation:function(U){var q=U.getZoom();U.easeTo({duration:300,easeId:"keyboardHandler",easing:Bp,zoom:f?Math.round(q)+f*(c.shiftKey?2:1):q,bearing:U.getBearing()+y*p._bearingStep,pitch:U.getPitch()+E*p._pitchStep,offset:[-M*p._panStep,-D*p._panStep],center:U.getCenter()},{originalEvent:c})}}}},fs.prototype.enable=function(){this._enabled=!0},fs.prototype.disable=function(){this._enabled=!1,this.reset()},fs.prototype.isEnabled=function(){return this._enabled},fs.prototype.isActive=function(){return this._active},fs.prototype.disableRotation=function(){this._rotationDisabled=!0},fs.prototype.enableRotation=function(){this._rotationDisabled=!1};var tn=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onTimeout"],this)};tn.prototype.setZoomRate=function(c){this._defaultZoomRate=c},tn.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},tn.prototype.isEnabled=function(){return!!this._enabled},tn.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},tn.prototype.isZooming=function(){return!!this._zooming},tn.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},tn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},tn.prototype.wheel=function(c){if(this.isEnabled()){var p=c.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,f=a.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}},tn.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},tn.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=S.mousePos(this._el,c);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},tn.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var f=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*f)));this._delta<0&&y!==0&&(y=1/y);var E=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(E*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var M,D=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,U=this._startZoom,q=this._easing,ee=!1;if(this._type==="wheel"&&U&&q){var he=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),_e=q(he);M=a.number(U,D,_e),he<1?this._frameId||(this._frameId=!0):ee=!0}else M=D,ee=!0;return this._active=!0,ee&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ee,zoomDelta:M-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},tn.prototype._smoothOutEasing=function(c){var p=a.ease;if(this._prevEase){var f=this._prevEase,y=(a.browser.now()-f.start)/f.duration,E=f.easing(y+.01)-f.easing(y),M=.27/Math.sqrt(E*E+1e-4)*.01,D=Math.sqrt(.0729-M*M);p=a.bezier(M,D,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p},tn.prototype.reset=function(){this._active=!1};var Gr=function(c,p){this._clickZoom=c,this._tapZoom=p};Gr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Gr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Gr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Gr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var pa=function(){this.reset()};pa.prototype.reset=function(){this._active=!1},pa.prototype.dblclick=function(c,p){return c.preventDefault(),{cameraAnimation:function(f){f.easeTo({duration:300,zoom:f.getZoom()+(c.shiftKey?-1:1),around:f.unproject(p)},{originalEvent:c})}}},pa.prototype.enable=function(){this._enabled=!0},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};var Pi=function(){this._tap=new Ks({numTouches:1,numTaps:1}),this.reset()};Pi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Pi.prototype.touchstart=function(c,p,f){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=p[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(c,p,f))},Pi.prototype.touchmove=function(c,p,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;var y=p[0],E=y.y-this._swipePoint.y;return this._swipePoint=y,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,f)},Pi.prototype.touchend=function(c,p,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(c,p,f)&&(this._tapTime=c.timeStamp)},Pi.prototype.touchcancel=function(){this.reset()},Pi.prototype.enable=function(){this._enabled=!0},Pi.prototype.disable=function(){this._enabled=!1,this.reset()},Pi.prototype.isEnabled=function(){return this._enabled},Pi.prototype.isActive=function(){return this._active};var Fr=function(c,p,f){this._el=c,this._mousePan=p,this._touchPan=f};Fr.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Fr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Fr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Fr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var zo=function(c,p,f){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=f};zo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},zo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},zo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},zo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ha=function(c,p,f,y){this._el=c,this._touchZoom=p,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ha.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ha.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ha.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ha.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ea=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ta=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p}(a.Event);function qa(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Qt=function(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mu(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),a.bindAll(["handleEvent","handleWindowEvent"],this);var f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[a.window,"blur",void 0]];for(var y=0,E=this._listeners;y<E.length;y+=1){var M=E[y],D=M[0];S.addEventListener(D,M[1],D===a.window.document?this.handleWindowEvent:this.handleEvent,M[2])}};Qt.prototype.destroy=function(){for(var c=0,p=this._listeners;c<p.length;c+=1){var f=p[c],y=f[0];S.removeEventListener(y,f[1],y===a.window.document?this.handleWindowEvent:this.handleEvent,f[2])}},Qt.prototype._addDefaultHandlers=function(c){var p=this._map,f=p.getCanvasContainer();this._add("mapEvent",new Ki(p,c));var y=p.boxZoom=new nr(p,c);this._add("boxZoom",y);var E=new Bo,M=new pa;p.doubleClickZoom=new Gr(M,E),this._add("tapZoom",E),this._add("clickZoom",M);var D=new Pi;this._add("tapDragZoom",D);var U=p.touchPitch=new Jc;this._add("touchPitch",U);var q=new sc(c),ee=new Xs(c);p.dragRotate=new zo(c,q,ee),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",ee,["mouseRotate"]);var he=new sr(c),_e=new mo(c);p.dragPan=new Fr(f,he,_e),this._add("mousePan",he),this._add("touchPan",_e,["touchZoom","touchRotate"]);var de=new Va,Oe=new Ff;p.touchZoomRotate=new Ha(f,Oe,de,D),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",Oe,["touchPan","touchRotate"]);var Pe=p.scrollZoom=new tn(p,this);this._add("scrollZoom",Pe,["mousePan"]);var Be=p.keyboard=new fs;this._add("keyboard",Be),this._add("blockableMapEvent",new ba(p));for(var Te=0,Fe=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Te<Fe.length;Te+=1){var We=Fe[Te];c.interactive&&c[We]&&p[We].enable(c[We])}},Qt.prototype._add=function(c,p,f){this._handlers.push({handlerName:c,handler:p,allowed:f}),this._handlersById[c]=p},Qt.prototype.stop=function(c){if(!this._updatingCamera){for(var p=0,f=this._handlers;p<f.length;p+=1)f[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Qt.prototype.isActive=function(){for(var c=0,p=this._handlers;c<p.length;c+=1)if(p[c].handler.isActive())return!0;return!1},Qt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Qt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Qt.prototype.isMoving=function(){return Boolean(ea(this._eventsInProgress))||this.isZooming()},Qt.prototype._blockedByActive=function(c,p,f){for(var y in c)if(y!==f&&(!p||p.indexOf(y)<0))return!0;return!1},Qt.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Qt.prototype._getMapTouches=function(c){for(var p=[],f=0,y=c;f<y.length;f+=1){var E=y[f];this._el.contains(E.target)&&p.push(E)}return p},Qt.prototype.handleEvent=function(c,p){if(c.type!=="blur"){this._updatingCamera=!0;for(var f=c.type==="renderFrame"?void 0:c,y={needsRenderFrame:!1},E={},M={},D=c.touches?this._getMapTouches(c.touches):void 0,U=D?S.touchPos(this._el,D):S.mousePos(this._el,c),q=0,ee=this._handlers;q<ee.length;q+=1){var he=ee[q],_e=he.handlerName,de=he.handler,Oe=he.allowed;if(de.isEnabled()){var Pe=void 0;this._blockedByActive(M,Oe,_e)?de.reset():de[p||c.type]&&(Pe=de[p||c.type](c,U,D),this.mergeHandlerResult(y,E,Pe,_e,f),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||de.isActive())&&(M[_e]=de)}}var Be={};for(var Te in this._previousActiveHandlers)M[Te]||(Be[Te]=f);this._previousActiveHandlers=M,(Object.keys(Be).length||qa(y))&&(this._changes.push([y,E,Be]),this._triggerRenderFrame()),(Object.keys(M).length||qa(y))&&this._map._stop(!0),this._updatingCamera=!1;var Fe=y.cameraAnimation;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}else this.stop(!0)},Qt.prototype.mergeHandlerResult=function(c,p,f,y,E){if(f){a.extend(c,f);var M={handlerName:y,originalEvent:f.originalEvent||E};f.zoomDelta!==void 0&&(p.zoom=M),f.panDelta!==void 0&&(p.drag=M),f.pitchDelta!==void 0&&(p.pitch=M),f.bearingDelta!==void 0&&(p.rotate=M)}},Qt.prototype._applyChanges=function(){for(var c={},p={},f={},y=0,E=this._changes;y<E.length;y+=1){var M=E[y],D=M[0],U=M[1],q=M[2];D.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(D.panDelta)),D.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+D.pitchDelta),D.around!==void 0&&(c.around=D.around),D.pinchAround!==void 0&&(c.pinchAround=D.pinchAround),D.noInertia&&(c.noInertia=D.noInertia),a.extend(p,U),a.extend(f,q)}this._updateMapTransform(c,p,f),this._changes=[]},Qt.prototype._updateMapTransform=function(c,p,f){var y=this._map,E=y.transform;if(!qa(c))return this._fireEvents(p,f,!0);var M=c.panDelta,D=c.zoomDelta,U=c.bearingDelta,q=c.pitchDelta,ee=c.around,he=c.pinchAround;he!==void 0&&(ee=he),y._stop(!0),ee=ee||y.transform.centerPoint;var _e=E.pointLocation(M?ee.sub(M):ee);U&&(E.bearing+=U),q&&(E.pitch+=q),D&&(E.zoom+=D),E.setLocationAtPoint(_e,ee),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,f,!0)},Qt.prototype._fireEvents=function(c,p,f){var y=this,E=ea(this._eventsInProgress),M=ea(c),D={};for(var U in c)this._eventsInProgress[U]||(D[U+"start"]=c[U].originalEvent),this._eventsInProgress[U]=c[U];for(var q in!E&&M&&this._fireEvent("movestart",M.originalEvent),D)this._fireEvent(q,D[q]);for(var ee in M&&this._fireEvent("move",M.originalEvent),c)this._fireEvent(ee,c[ee].originalEvent);var he,_e={};for(var de in this._eventsInProgress){var Oe=this._eventsInProgress[de],Pe=Oe.handlerName,Be=Oe.originalEvent;this._handlersById[Pe].isActive()||(delete this._eventsInProgress[de],_e[de+"end"]=he=p[Pe]||Be)}for(var Te in _e)this._fireEvent(Te,_e[Te]);var Fe=ea(this._eventsInProgress);if(f&&(E||M)&&!Fe){this._updatingCamera=!0;var We=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Je=function(ht){return ht!==0&&-y._bearingSnap<ht&&ht<y._bearingSnap};We?(Je(We.bearing||this._map.getBearing())&&(We.bearing=0),this._map.easeTo(We,{originalEvent:he})):(this._map.fire(new a.Event("moveend",{originalEvent:he})),Je(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Qt.prototype._fireEvent=function(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))},Qt.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete c._frameId,c.handleEvent(new ta("renderFrame",{timeStamp:p})),c._applyChanges()})},Qt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var dt=function(c){function p(f,y){c.call(this),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=y.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(f,y){return this.jumpTo({center:f},y)},p.prototype.panBy=function(f,y,E){return f=a.Point.convert(f).mult(-1),this.panTo(this.transform.center,a.extend({offset:f},y),E)},p.prototype.panTo=function(f,y,E){return this.easeTo(a.extend({center:f},y),E)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(f,y){return this.jumpTo({zoom:f},y),this},p.prototype.zoomTo=function(f,y,E){return this.easeTo(a.extend({zoom:f},y),E)},p.prototype.zoomIn=function(f,y){return this.zoomTo(this.getZoom()+1,f,y),this},p.prototype.zoomOut=function(f,y){return this.zoomTo(this.getZoom()-1,f,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(f,y){return this.jumpTo({bearing:f},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(f,y){return this.jumpTo({padding:f},y),this},p.prototype.rotateTo=function(f,y,E){return this.easeTo(a.extend({bearing:f},y),E)},p.prototype.resetNorth=function(f,y){return this.rotateTo(0,a.extend({duration:1e3},f),y),this},p.prototype.resetNorthPitch=function(f,y){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},f),y),this},p.prototype.snapToNorth=function(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(f,y){return this.jumpTo({pitch:f},y),this},p.prototype.cameraForBounds=function(f,y){f=a.LngLatBounds.convert(f);var E=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),E,y)},p.prototype._cameraForBoxAndBearing=function(f,y,E,M){var D={top:0,bottom:0,right:0,left:0};if(typeof(M=a.extend({padding:D,offset:[0,0],maxZoom:this.transform.maxZoom},M)).padding=="number"){var U=M.padding;M.padding={top:U,bottom:U,right:U,left:U}}M.padding=a.extend(D,M.padding);var q=this.transform,ee=q.padding,he=q.project(a.LngLat.convert(f)),_e=q.project(a.LngLat.convert(y)),de=he.rotate(-E*Math.PI/180),Oe=_e.rotate(-E*Math.PI/180),Pe=new a.Point(Math.max(de.x,Oe.x),Math.max(de.y,Oe.y)),Be=new a.Point(Math.min(de.x,Oe.x),Math.min(de.y,Oe.y)),Te=Pe.sub(Be),Fe=(q.width-(ee.left+ee.right+M.padding.left+M.padding.right))/Te.x,We=(q.height-(ee.top+ee.bottom+M.padding.top+M.padding.bottom))/Te.y;if(!(We<0||Fe<0)){var Je=Math.min(q.scaleZoom(q.scale*Math.min(Fe,We)),M.maxZoom),ht=typeof M.offset.x=="number"?new a.Point(M.offset.x,M.offset.y):a.Point.convert(M.offset),At=new a.Point((M.padding.left-M.padding.right)/2,(M.padding.top-M.padding.bottom)/2).rotate(E*Math.PI/180),gt=ht.add(At).mult(q.scale/q.zoomScale(Je));return{center:q.unproject(he.add(_e).div(2).sub(gt)),zoom:Je,bearing:E}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(f,y,E){return this._fitInternal(this.cameraForBounds(f,y),y,E)},p.prototype.fitScreenCoordinates=function(f,y,E,M,D){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(f)),this.transform.pointLocation(a.Point.convert(y)),E,M),M,D)},p.prototype._fitInternal=function(f,y,E){return f?(delete(y=a.extend(f,y)).padding,y.linear?this.easeTo(y,E):this.flyTo(y,E)):this},p.prototype.jumpTo=function(f,y){this.stop();var E=this.transform,M=!1,D=!1,U=!1;return"zoom"in f&&E.zoom!==+f.zoom&&(M=!0,E.zoom=+f.zoom),f.center!==void 0&&(E.center=a.LngLat.convert(f.center)),"bearing"in f&&E.bearing!==+f.bearing&&(D=!0,E.bearing=+f.bearing),"pitch"in f&&E.pitch!==+f.pitch&&(U=!0,E.pitch=+f.pitch),f.padding==null||E.isPaddingEqual(f.padding)||(E.padding=f.padding),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y)),M&&this.fire(new a.Event("zoomstart",y)).fire(new a.Event("zoom",y)).fire(new a.Event("zoomend",y)),D&&this.fire(new a.Event("rotatestart",y)).fire(new a.Event("rotate",y)).fire(new a.Event("rotateend",y)),U&&this.fire(new a.Event("pitchstart",y)).fire(new a.Event("pitch",y)).fire(new a.Event("pitchend",y)),this.fire(new a.Event("moveend",y))},p.prototype.easeTo=function(f,y){var E=this;this._stop(!1,f.easeId),((f=a.extend({offset:[0,0],duration:500,easing:a.ease},f)).animate===!1||!f.essential&&a.browser.prefersReducedMotion)&&(f.duration=0);var M=this.transform,D=this.getZoom(),U=this.getBearing(),q=this.getPitch(),ee=this.getPadding(),he="zoom"in f?+f.zoom:D,_e="bearing"in f?this._normalizeBearing(f.bearing,U):U,de="pitch"in f?+f.pitch:q,Oe="padding"in f?f.padding:M.padding,Pe=a.Point.convert(f.offset),Be=M.centerPoint.add(Pe),Te=M.pointLocation(Be),Fe=a.LngLat.convert(f.center||Te);this._normalizeCenter(Fe);var We,Je,ht=M.project(Te),At=M.project(Fe).sub(ht),gt=M.zoomScale(he-D);f.around&&(We=a.LngLat.convert(f.around),Je=M.locationPoint(We));var Pt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||he!==D,this._rotating=this._rotating||U!==_e,this._pitching=this._pitching||de!==q,this._padding=!M.isPaddingEqual(Oe),this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,Pt),this._ease(function(Nt){if(E._zooming&&(M.zoom=a.number(D,he,Nt)),E._rotating&&(M.bearing=a.number(U,_e,Nt)),E._pitching&&(M.pitch=a.number(q,de,Nt)),E._padding&&(M.interpolatePadding(ee,Oe,Nt),Be=M.centerPoint.add(Pe)),We)M.setLocationAtPoint(We,Je);else{var Bt=M.zoomScale(M.zoom-D),Jt=he>D?Math.min(2,gt):Math.max(.5,gt),mr=Math.pow(Jt,1-Nt),Tr=M.unproject(ht.add(At.mult(Nt*mr)).mult(Bt));M.setLocationAtPoint(M.renderWorldCopies?Tr.wrap():Tr,Be)}E._fireMoveEvents(y)},function(Nt){E._afterEase(y,Nt)},f),this},p.prototype._prepareEase=function(f,y,E){E===void 0&&(E={}),this._moving=!0,y||E.moving||this.fire(new a.Event("movestart",f)),this._zooming&&!E.zooming&&this.fire(new a.Event("zoomstart",f)),this._rotating&&!E.rotating&&this.fire(new a.Event("rotatestart",f)),this._pitching&&!E.pitching&&this.fire(new a.Event("pitchstart",f))},p.prototype._fireMoveEvents=function(f){this.fire(new a.Event("move",f)),this._zooming&&this.fire(new a.Event("zoom",f)),this._rotating&&this.fire(new a.Event("rotate",f)),this._pitching&&this.fire(new a.Event("pitch",f))},p.prototype._afterEase=function(f,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var E=this._zooming,M=this._rotating,D=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new a.Event("zoomend",f)),M&&this.fire(new a.Event("rotateend",f)),D&&this.fire(new a.Event("pitchend",f)),this.fire(new a.Event("moveend",f))}},p.prototype.flyTo=function(f,y){var E=this;if(!f.essential&&a.browser.prefersReducedMotion){var M=a.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(M,y)}this.stop(),f=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},f);var D=this.transform,U=this.getZoom(),q=this.getBearing(),ee=this.getPitch(),he=this.getPadding(),_e="zoom"in f?a.clamp(+f.zoom,D.minZoom,D.maxZoom):U,de="bearing"in f?this._normalizeBearing(f.bearing,q):q,Oe="pitch"in f?+f.pitch:ee,Pe="padding"in f?f.padding:D.padding,Be=D.zoomScale(_e-U),Te=a.Point.convert(f.offset),Fe=D.centerPoint.add(Te),We=D.pointLocation(Fe),Je=a.LngLat.convert(f.center||We);this._normalizeCenter(Je);var ht=D.project(We),At=D.project(Je).sub(ht),gt=f.curve,Pt=Math.max(D.width,D.height),Nt=Pt/Be,Bt=At.mag();if("minZoom"in f){var Jt=a.clamp(Math.min(f.minZoom,U,_e),D.minZoom,D.maxZoom),mr=Pt/D.zoomScale(Jt-U);gt=Math.sqrt(mr/Bt*2)}var Tr=gt*gt;function Er(Lr){var Ar=(Nt*Nt-Pt*Pt+(Lr?-1:1)*Tr*Tr*Bt*Bt)/(2*(Lr?Nt:Pt)*Tr*Bt);return Math.log(Math.sqrt(Ar*Ar+1)-Ar)}function yn(Lr){return(Math.exp(Lr)-Math.exp(-Lr))/2}function cr(Lr){return(Math.exp(Lr)+Math.exp(-Lr))/2}var Rr=Er(0),Jr=function(Lr){return cr(Rr)/cr(Rr+gt*Lr)},$r=function(Lr){return Pt*((cr(Rr)*(yn(Ar=Rr+gt*Lr)/cr(Ar))-yn(Rr))/Tr)/Bt;var Ar},Br=(Er(1)-Rr)/gt;if(Math.abs(Bt)<1e-6||!isFinite(Br)){if(Math.abs(Pt-Nt)<1e-6)return this.easeTo(f,y);var Nr=Nt<Pt?-1:1;Br=Math.abs(Math.log(Nt/Pt))/gt,$r=function(){return 0},Jr=function(Lr){return Math.exp(Nr*gt*Lr)}}return f.duration="duration"in f?+f.duration:1e3*Br/("screenSpeed"in f?+f.screenSpeed/gt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=q!==de,this._pitching=Oe!==ee,this._padding=!D.isPaddingEqual(Pe),this._prepareEase(y,!1),this._ease(function(Lr){var Ar=Lr*Br,Hn=1/Jr(Ar);D.zoom=Lr===1?_e:U+D.scaleZoom(Hn),E._rotating&&(D.bearing=a.number(q,de,Lr)),E._pitching&&(D.pitch=a.number(ee,Oe,Lr)),E._padding&&(D.interpolatePadding(he,Pe,Lr),Fe=D.centerPoint.add(Te));var Vi=Lr===1?Je:D.unproject(ht.add(At.mult($r(Ar))).mult(Hn));D.setLocationAtPoint(D.renderWorldCopies?Vi.wrap():Vi,Fe),E._fireMoveEvents(y)},function(){return E._afterEase(y)},f),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(f,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,y)}if(!f){var M=this.handlers;M&&M.stop(!1)}return this},p.prototype._ease=function(f,y,E){E.animate===!1||E.duration===0?(f(1),y()):(this._easeStart=a.browser.now(),this._easeOptions=E,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var f=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(f,y){f=a.wrap(f,-180,180);var E=Math.abs(f-y);return Math.abs(f-360-y)<E&&(f-=360),Math.abs(f+360-y)<E&&(f+=360),f},p.prototype._normalizeCenter=function(f){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var E=f.lng-y.center.lng;f.lng+=E>180?-360:E<-180?360:0}},p}(a.Evented),Yt=function(c){c===void 0&&(c={}),this.options=c,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Yt.prototype.getDefaultPosition=function(){return"bottom-right"},Yt.prototype.onAdd=function(c){var p=this.options&&this.options.compact;return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.type="button",this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("maplibregl-compact","mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Yt.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Yt.prototype._setElementTitle=function(c,p){var f=this._map._getUIString("AttributionControl."+p);c.title=f,c.setAttribute("aria-label",f)},Yt.prototype._toggleAttribution=function(){this._container.classList.contains("maplibregl-compact-show")||this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Yt.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(c){var f=p.reduce(function(y,E,M){return E.value&&(y+=E.key+"="+E.value+(M<p.length-1?"&":"")),y},"?");c.href=a.config.FEEDBACK_URL+"/"+f+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Yt.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Yt.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(U){return typeof U!="string"?"":U})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var f=this._map.style.sourceCaches;for(var y in f){var E=f[y];if(E.used){var M=E.getSource();M.attribution&&c.indexOf(M.attribution)<0&&c.push(M.attribution)}}c.sort(function(U,q){return U.length-q.length});var D=(c=c.filter(function(U,q){for(var ee=q+1;ee<c.length;ee++)if(c[ee].indexOf(U)>=0)return!1;return!0})).join(" | ");D!==this._attribHTML&&(this._attribHTML=D,c.length?(this._innerContainer.innerHTML=D,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._editLink=null)}},Yt.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("maplibregl-compact","mapboxgl-compact"):this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show")};var Io=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Io.prototype.onAdd=function(c){this._map=c,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");var p=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Io.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Io.prototype.getDefaultPosition=function(){return"bottom-left"},Io.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Io.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var p in c)if(c[p].getSource().mapbox_logo)return!0;return!1}},Io.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(c){var p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p},Ga.prototype.remove=function(c){for(var p=this._currentlyRunning,f=0,y=p?this._queue.concat(p):this._queue;f<y.length;f+=1){var E=y[f];if(E.id===c)return void(E.cancelled=!0)}},Ga.prototype.run=function(c){c===void 0&&(c=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var f=0,y=p;f<y.length;f+=1){var E=y[f];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var No={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},$i=a.window.HTMLImageElement,zp=a.window.HTMLElement,ra=a.window.ImageBitmap,A={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m=function(c){function p(y){var E=this;if((y=a.extend({},A,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var M=new Mr(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(c.call(this,M,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},No,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new a.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=a.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof zp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Qt(this,y),this._hash=y.hash&&new $u(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,a.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Yt({customAttribution:y.customAttribution})),this.addControl(new Io,y.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(D){E._update(D.dataType==="style"),E.fire(new a.Event(D.dataType+"data",D))}),this.on("dataloading",function(D){E.fire(new a.Event(D.dataType+"dataloading",D))})}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,E){if(E===void 0&&(E=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var M=y.onAdd(this);this._controls.push(y);var D=this._controlPositions[E];return E.indexOf("bottom")!==-1?D.insertBefore(M,D.firstChild):D.appendChild(M),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(y);return E>-1&&this._controls.splice(E,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var E=this._containerDimensions(),M=E[0],D=E[1];this._resizeCanvas(M,D),this.transform.resize(M,D),this.painter.resize(M,D);var U=!this._moving;return U&&(this.stop(),this.fire(new a.Event("movestart",y)).fire(new a.Event("move",y))),this.fire(new a.Event("resize",y)),U&&this.fire(new a.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(a.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y==null?-2:y)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y==null?22:y)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y==null?0:y)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y==null?60:y)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(a.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(a.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,E,M){var D,U=this;if(y==="mouseenter"||y==="mouseover"){var q=!1;return{layer:E,listener:M,delegates:{mousemove:function(he){var _e=U.getLayer(E)?U.queryRenderedFeatures(he.point,{layers:[E]}):[];_e.length?q||(q=!0,M.call(U,new Po(y,U,he.originalEvent,{features:_e}))):q=!1},mouseout:function(){q=!1}}}}if(y==="mouseleave"||y==="mouseout"){var ee=!1;return{layer:E,listener:M,delegates:{mousemove:function(he){(U.getLayer(E)?U.queryRenderedFeatures(he.point,{layers:[E]}):[]).length?ee=!0:ee&&(ee=!1,M.call(U,new Po(y,U,he.originalEvent)))},mouseout:function(he){ee&&(ee=!1,M.call(U,new Po(y,U,he.originalEvent)))}}}}return{layer:E,listener:M,delegates:(D={},D[y]=function(he){var _e=U.getLayer(E)?U.queryRenderedFeatures(he.point,{layers:[E]}):[];_e.length&&(he.features=_e,M.call(U,he),delete he.features)},D)}},p.prototype.on=function(y,E,M){if(M===void 0)return c.prototype.on.call(this,y,E);var D=this._createDelegatedListener(y,E,M);for(var U in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(D),D.delegates)this.on(U,D.delegates[U]);return this},p.prototype.once=function(y,E,M){if(M===void 0)return c.prototype.once.call(this,y,E);var D=this._createDelegatedListener(y,E,M);for(var U in D.delegates)this.once(U,D.delegates[U]);return this},p.prototype.off=function(y,E,M){var D=this;return M===void 0?c.prototype.off.call(this,y,E):(this._delegatedListeners&&this._delegatedListeners[y]&&function(U){for(var q=U[y],ee=0;ee<q.length;ee++){var he=q[ee];if(he.layer===E&&he.listener===M){for(var _e in he.delegates)D.off(_e,he.delegates[_e]);return q.splice(ee,1),D}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,E){if(!this.style)return[];var M;if(E!==void 0||y===void 0||y instanceof a.Point||Array.isArray(y)||(E=y,y=void 0),E=E||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof y[0]=="number")M=[a.Point.convert(y)];else{var D=a.Point.convert(y[0]),U=a.Point.convert(y[1]);M=[D,new a.Point(U.x,D.y),U,new a.Point(D.x,U.y),D]}return this.style.queryRenderedFeatures(M,E,this.transform)},p.prototype.querySourceFeatures=function(y,E){return this.style.querySourceFeatures(y,E)},p.prototype.setStyle=function(y,E){return(E=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(y,E))},p.prototype.setTransformRequest=function(y){return this._requestManager.setTransformRequest(y),this},p.prototype._getUIString=function(y){var E=this._locale[y];if(E==null)throw new Error("Missing UI string '"+y+"'");return E},p.prototype._updateStyle=function(y,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new qr(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,E){var M=this;if(typeof y=="string"){var D=this._requestManager.normalizeStyleURL(y),U=this._requestManager.transformRequest(D,a.ResourceType.Style);a.getJSON(U,function(q,ee){q?M.fire(new a.ErrorEvent(q)):ee&&M._updateDiff(ee,E)})}else typeof y=="object"&&this._updateDiff(y,E)},p.prototype._updateDiff=function(y,E){try{this.style.setState(y)&&this._update(!0)}catch(M){a.warnOnce("Unable to perform style diff: "+(M.message||M.error||M)+".  Rebuilding the style from scratch."),this._updateStyle(y,E)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,E){return this._lazyInitEmptyStyle(),this.style.addSource(y,E),this._update(!0)},p.prototype.isSourceLoaded=function(y){var E=this.style&&this.style.sourceCaches[y];if(E!==void 0)return E.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var E in y){var M=y[E]._tiles;for(var D in M){var U=M[D];if(U.state!=="loaded"&&U.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,E,M){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,E,M)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,E,M){M===void 0&&(M={});var D=M.pixelRatio;D===void 0&&(D=1);var U=M.sdf;U===void 0&&(U=!1);var q=M.stretchX,ee=M.stretchY,he=M.content;if(this._lazyInitEmptyStyle(),E instanceof $i||ra&&E instanceof ra){var _e=a.browser.getImageData(E);this.style.addImage(y,{data:new a.RGBAImage({width:_e.width,height:_e.height},_e.data),pixelRatio:D,stretchX:q,stretchY:ee,content:he,sdf:U,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var de=E;this.style.addImage(y,{data:new a.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:D,stretchX:q,stretchY:ee,content:he,sdf:U,version:0,userImage:de}),de.onAdd&&de.onAdd(this,y)}},p.prototype.updateImage=function(y,E){var M=this.style.getImage(y);if(!M)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var D=E instanceof $i||ra&&E instanceof ra?a.browser.getImageData(E):E,U=D.width,q=D.height,ee=D.data;return U===void 0||q===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):U!==M.data.width||q!==M.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(M.data.replace(ee,!(E instanceof $i||ra&&E instanceof ra)),void this.style.updateImage(y,M))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,E){a.getImage(this._requestManager.transformRequest(y,a.ResourceType.Image),E)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,E){return this._lazyInitEmptyStyle(),this.style.addLayer(y,E),this._update(!0)},p.prototype.moveLayer=function(y,E){return this.style.moveLayer(y,E),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,E,M){return this.style.setLayerZoomRange(y,E,M),this._update(!0)},p.prototype.setFilter=function(y,E,M){return M===void 0&&(M={}),this.style.setFilter(y,E,M),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,E,M,D){return D===void 0&&(D={}),this.style.setPaintProperty(y,E,M,D),this._update(!0)},p.prototype.getPaintProperty=function(y,E){return this.style.getPaintProperty(y,E)},p.prototype.setLayoutProperty=function(y,E,M,D){return D===void 0&&(D={}),this.style.setLayoutProperty(y,E,M,D),this._update(!0)},p.prototype.getLayoutProperty=function(y,E){return this.style.getLayoutProperty(y,E)},p.prototype.setLight=function(y,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(y,E),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,E){return this.style.setFeatureState(y,E),this._update()},p.prototype.removeFeatureState=function(y,E){return this.style.removeFeatureState(y,E),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,E=0;return this._container&&(y=this._container.clientWidth||400,E=this._container.clientHeight||300),[y,E]},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("maplibregl-map","mapboxgl-map");var E=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",y);this._interactive&&E.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var M=this._containerDimensions();this._resizeCanvas(M[0],M[1]);var D=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",y),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(q){U[q]=S.create("div","maplibregl-ctrl-"+q+" mapboxgl-ctrl-"+q,D)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,E){var M=a.browser.devicePixelRatio||1;this._canvas.width=M*y,this._canvas.height=M*E,this._canvas.style.width=y+"px",this._canvas.style.height=E+"px"},p.prototype._setupPainter=function(){var y=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);E?(this.painter=new Ht(E,this.transform),a.webpSupported.testSupport(E)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var E,M=this,D=0,U=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=U.createQueryEXT(),U.beginQueryEXT(U.TIME_ELAPSED_EXT,E),D=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var q=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ee=this.transform.zoom,he=a.browser.now();this.style.zoomHistory.update(ee,he);var _e=new a.EvaluationParameters(ee,{now:he,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),de=_e.crossFadingFactor();de===1&&de===this._crossFadingFactor||(q=!0,this._crossFadingFactor=de),this.style.update(_e)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||q)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Oe=a.browser.now()-D;U.endQueryEXT(U.TIME_ELAPSED_EXT,E),setTimeout(function(){var Te=U.getQueryObjectEXT(E,U.QUERY_RESULT_EXT)/1e6;U.deleteQueryEXT(E),M.fire(new a.Event("gpu-timing-frame",{cpuTime:Oe,gpuTime:Te}))},50)}if(this.listens("gpu-timing-layer")){var Pe=this.painter.collectGpuTimers();setTimeout(function(){var Te=M.painter.queryGpuTimers(Pe);M.fire(new a.Event("gpu-timing-layer",{layerTimes:Te}))},50)}var Be=this._sourcesDirty||this._styleDirty||this._placementDirty;return Be||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||Be||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,E=this._controls;y<E.length;y+=1)E[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var M=this.painter.context.gl.getExtension("WEBGL_lose_context");M&&M.loseContext(),v(this._canvasContainer),v(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(E){y._frame=null,y._render(E)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},f.showPadding.get=function(){return!!this._showPadding},f.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,E){a.setCacheLimits(y,E)},f.version.get=function(){return a.version},Object.defineProperties(p.prototype,f),p}(dt);function v(c){c.parentNode&&c.parentNode.removeChild(c)}var _={showCompass:!0,showZoom:!0,visualizePitch:!1},k=function(c){var p=this;this.options=a.extend({},_,c),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(f){return f.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(f){return p._map.zoomIn({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(f){return p._map.zoomOut({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(f){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:f}):p._map.resetNorth({},{originalEvent:f})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};k.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),p=c===this._map.getMaxZoom(),f=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},k.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},k.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new O(this._map,this._compass,this.options.visualizePitch)),this._container},k.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},k.prototype._createButton=function(c,p){var f=S.create("button",c,this._container);return f.type="button",f.addEventListener("click",p),f},k.prototype._setButtonTitle=function(c,p){var f=this._map._getUIString("NavigationControl."+p);c.title=f,c.setAttribute("aria-label",f)};var O=function(c,p,f){f===void 0&&(f=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new sc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,f&&(this.mousePitch=new Xs({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(p,"mousedown",this.mousedown),S.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(p,"touchmove",this.touchmove),S.addEventListener(p,"touchend",this.touchend),S.addEventListener(p,"touchcancel",this.reset)};function I(c,p,f){if(c=new a.LngLat(c.lng,c.lat),p){var y=new a.LngLat(c.lng-360,c.lat),E=new a.LngLat(c.lng+360,c.lat),M=f.locationPoint(c).distSqr(p);f.locationPoint(y).distSqr(p)<M?c=y:f.locationPoint(E).distSqr(p)<M&&(c=E)}for(;Math.abs(c.lng-f.center.lng)>180;){var D=f.locationPoint(c);if(D.x>=0&&D.y>=0&&D.x<=f.width&&D.y<=f.height)break;c.lng>f.center.lng?c.lng-=360:c.lng+=360}return c}O.prototype.down=function(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),S.disableDrag()},O.prototype.move=function(c,p){var f=this.map,y=this.mouseRotate.mousemoveWindow(c,p);if(y&&y.bearingDelta&&f.setBearing(f.getBearing()+y.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,p);E&&E.pitchDelta&&f.setPitch(f.getPitch()+E.pitchDelta)}},O.prototype.off=function(){var c=this.element;S.removeEventListener(c,"mousedown",this.mousedown),S.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(c,"touchmove",this.touchmove),S.removeEventListener(c,"touchend",this.touchend),S.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},O.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(a.window,"mousemove",this.mousemove),S.removeEventListener(a.window,"mouseup",this.mouseup)},O.prototype.mousedown=function(c){this.down(a.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),S.mousePos(this.element,c)),S.addEventListener(a.window,"mousemove",this.mousemove),S.addEventListener(a.window,"mouseup",this.mouseup)},O.prototype.mousemove=function(c){this.move(c,S.mousePos(this.element,c))},O.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},O.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},O.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},O.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},O.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var B={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function G(c,p,f){var y=c.classList;for(var E in B)y.remove("maplibregl-"+f+"-anchor-"+E,"mapboxgl-"+f+"-anchor-"+E);y.add("maplibregl-"+f+"-anchor-"+p,"mapboxgl-"+f+"-anchor-"+p)}var te,ce=function(c){function p(f,y){if(c.call(this),(f instanceof a.window.HTMLElement||y)&&(f=a.extend({element:f},y)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=a.Point.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var E=S.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var M=S.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"stroke","none"),M.setAttributeNS(null,"stroke-width","1"),M.setAttributeNS(null,"fill","none"),M.setAttributeNS(null,"fill-rule","evenodd");var D=S.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");var U=S.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");for(var q=0,ee=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];q<ee.length;q+=1){var he=ee[q],_e=S.createNS("http://www.w3.org/2000/svg","ellipse");_e.setAttributeNS(null,"opacity","0.04"),_e.setAttributeNS(null,"cx","10.5"),_e.setAttributeNS(null,"cy","5.80029008"),_e.setAttributeNS(null,"rx",he.rx),_e.setAttributeNS(null,"ry",he.ry),U.appendChild(_e)}var de=S.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"fill",this._color);var Oe=S.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),de.appendChild(Oe);var Pe=S.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"opacity","0.25"),Pe.setAttributeNS(null,"fill","#000000");var Be=S.createNS("http://www.w3.org/2000/svg","path");Be.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Pe.appendChild(Be);var Te=S.createNS("http://www.w3.org/2000/svg","g");Te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Te.setAttributeNS(null,"fill","#FFFFFF");var Fe=S.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");var We=S.createNS("http://www.w3.org/2000/svg","circle");We.setAttributeNS(null,"fill","#000000"),We.setAttributeNS(null,"opacity","0.25"),We.setAttributeNS(null,"cx","5.5"),We.setAttributeNS(null,"cy","5.5"),We.setAttributeNS(null,"r","5.4999962");var Je=S.createNS("http://www.w3.org/2000/svg","circle");Je.setAttributeNS(null,"fill","#FFFFFF"),Je.setAttributeNS(null,"cx","5.5"),Je.setAttributeNS(null,"cy","5.5"),Je.setAttributeNS(null,"r","5.4999962"),Fe.appendChild(We),Fe.appendChild(Je),D.appendChild(U),D.appendChild(de),D.appendChild(Pe),D.appendChild(Te),D.appendChild(Fe),E.appendChild(D),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=a.Point.convert(f&&f.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",function(ht){ht.preventDefault()}),this._element.addEventListener("mousedown",function(ht){ht.preventDefault()}),G(this._element,this._anchor,"marker"),this._popup=null}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(f){var y=f.code,E=f.charCode||f.keyCode;y!=="Space"&&y!=="Enter"&&E!==32&&E!==13||this.togglePopup()},p.prototype._onMapClick=function(f){var y=f.originalEvent.target,E=this._element;this._popup&&(y===E||E.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this},p.prototype._update=function(f){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),f&&f.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,B[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(f){return this._offset=a.Point.convert(f),this._update(),this},p.prototype._onMove=function(f){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(f){return this._rotation=f||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(f){return this._rotationAlignment=f||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(a.Evented),De={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ze=0,ot=!1,bt=function(c){function p(f){c.call(this),this.options=a.extend({},De,f),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){var y;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,te!==void 0?y(te):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(E){y(te=E.state!=="denied")}):y(te=!!a.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ze=0,ot=!1},p.prototype._isOutOfMapMaxBounds=function(f){var y=this._map.getMaxBounds(),E=f.coords;return y&&(E.longitude<y.getWest()||E.longitude>y.getEast()||E.latitude<y.getSouth()||E.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",f)),this._finish()}},p.prototype._updateCamera=function(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude),E=f.coords.accuracy,M=this._map.getBearing(),D=a.extend({bearing:M},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(E),D,{geolocateSource:!0})},p.prototype._updateMarker=function(f){if(f){var y=new a.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var f=this._map._container.clientHeight/2,y=this._map.unproject([0,f]),E=this._map.unproject([1,f]),M=y.distanceTo(E),D=Math.ceil(2*this._accuracy/M);this._circleElement.style.width=D+"px",this._circleElement.style.height=D+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&ot)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",f)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(f){var y=this;if(this._container.addEventListener("contextmenu",function(D){return D.preventDefault()}),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",f===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var M=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=M,this._geolocateButton.setAttribute("aria-label",M)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ce(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ce({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(D){D.geolocateSource||y._watchState!=="ACTIVE_LOCK"||D.originalEvent&&D.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),y.fire(new a.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ze--,ot=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ze>1?(f={maximumAge:6e5,timeout:0},ot=!0):(f=this.options.positionOptions,ot=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(a.Evented),kt={maxWidth:100,unit:"metric"},Ut=function(c){this.options=a.extend({},kt,c),a.bindAll(["_onMove","setUnit"],this)};function ur(c,p,f){var y=f&&f.maxWidth||100,E=c._container.clientHeight/2,M=c.unproject([0,E]),D=c.unproject([y,E]),U=M.distanceTo(D);if(f&&f.unit==="imperial"){var q=3.2808*U;q>5280?mt(p,y,q/5280,c._getUIString("ScaleControl.Miles")):mt(p,y,q,c._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?mt(p,y,U/1852,c._getUIString("ScaleControl.NauticalMiles")):U>=1e3?mt(p,y,U/1e3,c._getUIString("ScaleControl.Kilometers")):mt(p,y,U,c._getUIString("ScaleControl.Meters"))}function mt(c,p,f,y){var E,M,D,U=(E=f,(M=Math.pow(10,(""+Math.floor(E)).length-1))*(D=(D=E/M)>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(q){var ee=Math.pow(10,Math.ceil(-Math.log(q)/Math.LN10));return Math.round(q*ee)/ee}(D)));c.style.width=p*(U/f)+"px",c.innerHTML=U+"&nbsp;"+y}Ut.prototype.getDefaultPosition=function(){return"bottom-left"},Ut.prototype._onMove=function(){ur(this._map,this._container,this.options)},Ut.prototype.onAdd=function(c){return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ut.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ut.prototype.setUnit=function(c){this.options.unit=c,ur(this._map,this._container,this.options)};var Dt=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof a.window.HTMLElement?this._container=c.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Dt.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Dt.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Dt.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Dt.prototype._setupUI=function(){var c=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Dt.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Dt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Dt.prototype._isFullscreen=function(){return this._fullscreen},Dt.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Dt.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ke={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_r=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),xr=function(c){function p(f){c.call(this),this.options=a.extend(Object.create(Ke),f),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=a.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(f){return this.setDOMContent(a.window.document.createTextNode(f))},p.prototype.setHTML=function(f){var y,E=a.window.document.createDocumentFragment(),M=a.window.document.createElement("body");for(M.innerHTML=f;y=M.firstChild;)E.appendChild(y);return this.setDOMContent(E)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(f){return this.options.maxWidth=f,this._update(),this},p.prototype.setDOMContent=function(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(f){this._container&&this._container.classList.add(f)},p.prototype.removeClassName=function(f){this._container&&this._container.classList.remove(f)},p.prototype.setOffset=function(f){return this.options.offset=f,this._update(),this},p.prototype.toggleClassName=function(f){if(this._container)return this._container.classList.toggle(f)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(f){this._update(f.point)},p.prototype._onMouseMove=function(f){this._update(f.point)},p.prototype._onDrag=function(f){this._update(f.point)},p.prototype._update=function(f){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_e){return y._container.classList.add(_e)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||f)){var E=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat),M=this.options.anchor,D=function _e(de){if(de){if(typeof de=="number"){var Oe=Math.round(Math.sqrt(.5*Math.pow(de,2)));return{center:new a.Point(0,0),top:new a.Point(0,de),"top-left":new a.Point(Oe,Oe),"top-right":new a.Point(-Oe,Oe),bottom:new a.Point(0,-de),"bottom-left":new a.Point(Oe,-Oe),"bottom-right":new a.Point(-Oe,-Oe),left:new a.Point(de,0),right:new a.Point(-de,0)}}if(de instanceof a.Point||Array.isArray(de)){var Pe=a.Point.convert(de);return{center:Pe,top:Pe,"top-left":Pe,"top-right":Pe,bottom:Pe,"bottom-left":Pe,"bottom-right":Pe,left:Pe,right:Pe}}return{center:a.Point.convert(de.center||[0,0]),top:a.Point.convert(de.top||[0,0]),"top-left":a.Point.convert(de["top-left"]||[0,0]),"top-right":a.Point.convert(de["top-right"]||[0,0]),bottom:a.Point.convert(de.bottom||[0,0]),"bottom-left":a.Point.convert(de["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(de["bottom-right"]||[0,0]),left:a.Point.convert(de.left||[0,0]),right:a.Point.convert(de.right||[0,0])}}return _e(new a.Point(0,0))}(this.options.offset);if(!M){var U,q=this._container.offsetWidth,ee=this._container.offsetHeight;U=E.y+D.bottom.y<ee?["top"]:E.y>this._map.transform.height-ee?["bottom"]:[],E.x<q/2?U.push("left"):E.x>this._map.transform.width-q/2&&U.push("right"),M=U.length===0?"bottom":U.join("-")}var he=E.add(D[M]).round();S.setTransform(this._container,B[M]+" translate("+he.x+"px,"+he.y+"px)"),G(this._container,M,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var f=this._container.querySelector(_r);f&&f.focus()}},p.prototype._onClose=function(){this.remove()},p}(a.Evented),Zt={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:m,NavigationControl:k,GeolocateControl:bt,AttributionControl:Yt,ScaleControl:Ut,FullscreenControl:Dt,Popup:xr,Marker:ce,Style:qr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){$t().acquire(Qe)},clearPrewarmedResources:function(){var c=ge;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(Qe),ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(c){a.config.ACCESS_TOKEN=c},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(c){a.config.API_URL=c},get workerCount(){return h.workerCount},set workerCount(c){h.workerCount=c},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){a.clearTileCache(c)},workerUrl:"",addProtocol:function(c,p){a.config.REGISTERED_PROTOCOLS[c]=p},removeProtocol:function(c){delete a.config.REGISTERED_PROTOCOLS[c]}};return Zt}),s})})(ML);class hie{setupExtension(t){}willInit(t){}willMount(t){}willUnMount(t){}willHide(t){}willUnhide(t){}willLegendUpdate(t){}willSourceUpdate(t){}willDestroy(t){}}const die=["background","raster","hillshade","heatmap","fill","fill-extrusion","line","circle","symbol","custom"];class mie{constructor(){oi(this,"_baseMapFirstLayerIdx",null);oi(this,"_map",null);oi(this,"_typesOrder",[...die]);oi(this,"_awaitingTasks",new Set)}init(t){this._map=t,t.once("load",()=>{var r;this._baseMapFirstLayerIdx=((r=t.getStyle().layers)!=null?r:[]).length-1,this._awaitingTasks.forEach(i=>{this._awaitingTasks.delete(i),i(t)})})}getIdToMountOnTypesTop(t,r){this._asyncWrap(t,r,this._getIdToMountOnTypesTopSync.bind(this))}getIdToMountOnTypesBottom(t,r){this._asyncWrap(t,r,this._getIdToMountOnTypesBottomSync.bind(this))}_getIdToMountOnTypesTopSync(t,r){var l;const i=this._getMountedBottomLayersByType(t,r);if(!i)return;const s=this._typesOrder.slice(this._typesOrder.indexOf(r)+1).find(a=>i.has(a));if(!!s)return(l=i.get(s))==null?void 0:l.id}_getIdToMountOnTypesBottomSync(t,r){var a;const i=this._getMountedBottomLayersByType(t,r);if(!i)return;const s=i.get(r);if(s!=null&&s.id)return s.id;const l=this._typesOrder.slice(this._typesOrder.indexOf(r)+1).find(x=>i.has(x));if(!!l)return(a=i.get(l))==null?void 0:a.id}_getMountedBottomLayersByType(t,r){var x;if(this._baseMapFirstLayerIdx===null)return;this._typesOrder.includes(r)||console.error(`${r} is not supported type. If you want to work with it add it to layers order manager`);const i=(x=t.getStyle().layers)!=null?x:[];if(i.length===0)return;const s=i.slice(this._baseMapFirstLayerIdx+1);if(!s.length)return;const l=new Map;let a=0;for(;a<s.length;){const S=s[a];l.has(S.type)||l.set(S.type,S),a++}return l}_asyncWrap(t,r,i){const s=this._map;s===null||this._baseMapFirstLayerIdx===null?this._awaitingTasks.add(l=>{r(i(l,t))}):r(i(s,t))}}const gie=new mie;function yie(e,t=gie){function r(l){t.getIdToMountOnTypesTop(l.type,a=>e.addLayer(l,a))}function i(l){t.getIdToMountOnTypesBottom(l.type,a=>e.addLayer(l,a))}function s(l){e.addLayer(l,void 0)}return{addAboveLayerWithSameType:r,addUnderLayerWithSameType:i,addAboveAllExistingLayers:s}}const vie=(e,t)=>new Promise((r,i)=>{try{e.on(t,r)}catch(s){i(s)}});function _ie(e){if(!e._loaded)return vie(e,"load")}const xie="_tootipRoot_i3o78_1",bie="_hexagon_i3o78_5",wie="_labels_i3o78_28",Sie="_column_i3o78_34",Cie="_bivariateHexagonPopupContentRoot_i3o78_45",Eh={tootipRoot:xie,hexagon:bie,labels:wie,column:Sie,bivariateHexagonPopupContentRoot:Cie},Eie=Eh.bivariateHexagonPopupContentRoot,kie=e=>TS(e)?U_:xJ(e)?j_:VR,Tie=e=>PS(e)?U_:bJ(e)?j_:VR,Pie=({hexagonColor:e,axis:t,cellIndex:r,cellLabel:i,values:s})=>Zn("div",{className:Eh.tootipRoot,children:[_t("div",{className:Eh.hexagon,children:_t("div",{style:{background:e},children:i})}),Zn("div",{className:Eh.labels,children:[Zn("div",{className:Eh.column,children:[_t("span",{children:t.x.label||E8(t.x.quotients)}),_t("span",{children:t.y.label||E8(t.y.quotients)})]}),s&&Zn("div",{className:Eh.column,children:[_t("span",{children:s==null?void 0:s.x}),_t("span",{children:s==null?void 0:s.y})]}),Zn("div",{className:Eh.column,children:[_t("span",{children:kie(r)}),_t("span",{children:Tie(r)})]})]})]}),CT=window.yandexAccountId,jw=window.ym;function Iie(...e){CT&&jw&&typeof jw=="function"&&jw(CT,...e)}const Ds={AUTHORIZED:"authorized",UNAUTHORIZED:"unauthorized",LOGGING_IN:"logging_in",SIGNING_UP:"signing_up",PASSWORD_RESET:"password_reset"},Oie={APP_LOGIN:"app_login",ANALYTICS_PANEL:"analytics_panel",ADVANCED_ANALYTICS_PANEL:"advanced_analytics_panel",EVENTS_LIST:"events_list",FEED_SELECTOR:"feed_selector",EVENTS_LIST__FEED_SELECTOR:"events_list__feed_selector",EVENTS_LIST__BBOX_FILTER:"events_list__bbox_filter",MAP_LAYERS_PANEL:"map_layers_panel",SIDE_BAR:"side_bar",BIVARIATE_MANAGER:"bivariate_manager",CURRENT_EVENT:"current_event",FOCUSED_GEOMETRY_LAYER:"focused_geometry_layer",LAYERS_IN_AREA:"layers_in_area",MAP_RULER:"map_ruler",TOASTS:"toasts",BOUNDARY_SELECTOR:"boundary_selector",DRAW_TOOLS:"draw_tools",FOCUSED_GEOMETRY_EDITOR:"focused_geometry_editor",GEOMETRY_UPLOADER:"geometry_uploader",LEGEND_PANEL:"legend_panel",REPORTS:"reports",INTERACTIVE_MAP:"interactive_map",CURRENT_EPISODE:"current_episode",GEOCODER:"geocoder",EPISODE_LIST:"episode_list",COMMUNITIES:"communities",FEATURE_SETTINGS:"feature_settings",OSM_EDIT_LINK:"osm_edit_link",TOOLTIP:"tooltip",CREATE_LAYER:"create_layer",HEADER:"header",INTERCOM:"intercom",BIVARIATE_COLOR_MANAGER:"bivariate_color_manager",EPISODES_TIMELINE:"episodes_timeline",LOCATE_ME:"locate_me"},E1=Ro({setState:e=>e,authorize:()=>null,reset:()=>null,login:()=>null,logout:()=>null,signup:()=>null,passwordReset:()=>null},({onAction:e,onInit:t,schedule:r,create:i},s=Ds.UNAUTHORIZED)=>(e("setState",l=>{s!==l&&(s=l)}),e("authorize",()=>{s!==Ds.AUTHORIZED&&(s=Ds.AUTHORIZED)}),e("reset",()=>{s!==Ds.UNAUTHORIZED&&(s=Ds.UNAUTHORIZED)}),e("login",()=>{(s===Ds.UNAUTHORIZED||s===Ds.SIGNING_UP)&&(s=Ds.LOGGING_IN)}),e("logout",()=>{(s===Ds.AUTHORIZED||s===Ds.PASSWORD_RESET)&&(s=Ds.UNAUTHORIZED)}),e("signup",()=>{(s===Ds.UNAUTHORIZED||s===Ds.LOGGING_IN)&&(s=Ds.SIGNING_UP)}),e("passwordReset",()=>{s===Ds.AUTHORIZED&&(s=Ds.PASSWORD_RESET)}),s),"[Shared state] userStateAtom"),vA=class{constructor({apiClient:t}){oi(this,"_apiClient");this._apiClient=t}static getInstance(){if(vA.instance)return vA.instance;throw new Error("You have to initialize auth client first!")}static init(t){if(vA.instance)throw new Error("Auth client instance with had been already initialized");return vA.instance=new vA(t),vA.instance}showLoginForm(){E1.login.dispatch()}closeLoginForm(){E1.reset.dispatch()}logout(){this._apiClient.logout(),R0.setUser.dispatch(),E1.logout.dispatch(),window.Intercom&&(to.intercom.name=window.konturAppConfig.INTERCOM_DEFAULT_NAME,to.intercom.email=null,window.Intercom("update",{name:to.intercom.name,email:to.intercom.email}))}onTokenExpired(){console.warn("User session has been expired. Logging out."),this.logout()}async processAuthResponse(t){const r=await this._apiClient.get("/users/current_user",{},!0),s={...{username:t.jwtData.preferred_username,token:t.token,email:t.jwtData.email,firstName:t.jwtData.given_name,lastName:t.jwtData.family_name},...r};R0.setUser.dispatch(s),E1.authorize.dispatch(),window.Intercom&&window.Intercom("update",{name:t.jwtData.preferred_username,email:t.jwtData.email}),to.intercom.name=t.jwtData.preferred_username,to.intercom.email=t.jwtData.email,Iie("setUserID",t.jwtData.email)}async authenticate(t,r){const i=await this._apiClient.login(t,r);return i&&typeof i=="object"&&"token"in i?(await this.processAuthResponse(i),!0):i}async checkAuth(){try{const t=await this._apiClient.checkAuth(this.onTokenExpired);t&&typeof t=="object"&&"token"in t&&this.processAuthResponse(t)}catch{console.warn("Auth has been expired"),this.logout()}}};let bg=vA;oi(bg,"instance");bg.init({apiClient:ey});bg.getInstance();Ro({userResourceAtom:_4},({get:e},t="pending")=>{const r=e("userResourceAtom");if(r.data&&!r.loading){const s=new URL(localStorage.getItem("initialUrl")||""),l=location.pathname===to.baseUrl&&s.search==="",a=localStorage.getItem("landed");l&&!a?t="no":t="yes"}return t},"userWasLandedAtom");const Mie=8,Rie="rgba(5, 22, 38, 0.4)",Lie="rgb(5, 22, 38)",ET="hex-selected-layer",$d="hex-selected-source",Vd="hex-hover-source",kT="hex-hover-layer",TT=e=>e.a===0&&e.r===0&&e.g===0&&e.b===0,Die=(e,t=!0)=>`rgba(${e.r*255*2},${e.g*255*2},${e.b*255*2}${t?","+e.a:""})`,PT=(e,t)=>{const r=cie(e.lat,e.lng,Math.min(t,Mie)),i=fie(r,!0);return Fie(i),{type:"Polygon",coordinates:[i]}};function Fie(e){let t=!1;for(let r=0;r<e.length;r++)if(Math.abs(e[0][0]-e[(r+1)%e.length][0])>180){t=!0;break}t&&e.forEach(Bie)}function Bie(e){const t=e[0];e[0]=t<0?t+360:t}const IT=(e,t,r)=>{const i=e[t],s=e[r];return wT(i)||wT(s)?"0.00":s===0?"-":(i/s).toFixed(2)};class zie extends hie{constructor({id:r,layersOrderManager:i}){super();oi(this,"id");oi(this,"_layerId");oi(this,"_sourceId");oi(this,"_removeClickListener",null);oi(this,"_removeMouseMoveListener",null);oi(this,"_layersOrderManager");oi(this,"_popup");oi(this,"onMapZoom",r=>{this.cleanPopupWithDeps(r.target)});this.id=r,this._layersOrderManager=i,this._sourceId=Are+this.id}_generateLayerFromLegend(r){if(r.type==="bivariate")return $re(r);throw new Error(`Unexpected legend type '${r.type}'`)}_setTileScheme(r,i){r.includes("{-y}")&&(i.scheme="tms")}async mountBivariateLayer(r,i,s){const l={type:"vector",tiles:i.source.urls.map(a=>kL(a)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};if(this._setTileScheme(i.source.urls[0],l),await _ie(r),r.getSource(this._sourceId)===void 0&&r.addSource(this._sourceId,l),s){const a=this._generateLayerFromLegend(s),x=`${pre+this.id}`;if(r.getLayer(x))return;const S={...a,id:x,source:this._sourceId};yie(r,this._layersOrderManager).addAboveLayerWithSameType(S),this._layerId=S.id}else throw new Error(`[GenericLayer ${this.id}] Vector layers must have legend`)}_updateMap(r,i,s,l){if(i==null)return;this.mountBivariateLayer(r,i,s);const a=S=>{var Se,Ce;const P=S.target.queryRenderedFeatures(S.point).filter(qe=>qe.source.includes(this._sourceId));if(!P.length||!s||!P[0].geometry)return!0;const R=P[0],z=PT(S.lngLat,r.getZoom()),N=(Se=R.layer.paint)==null?void 0:Se["fill-color"];if(!N||TT(N))return!0;const $=Die(N),Z=LJ(s.steps,"label"),J=Z.findIndex(qe=>qe.color===$),ae=(Ce=_4.getState().data)==null?void 0:Ce.hasFeature(Oie.BIVARIATE_MANAGER),[V,K]=s.axis.x.quotient,[se,me]=s.axis.y.quotient,Ae=ae&&R.properties?{x:IT(R.properties,V,K),y:IT(R.properties,se,me)}:void 0,ue=document.createElement("div");return KI(ue).render(_t(Pie,{cellLabel:Z[J].label,cellIndex:J,axis:s.axis,values:Ae,hexagonColor:$})),this.cleanPopup(),this._popup=new ML.exports.Popup({closeOnClick:!0,className:Eie,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(ue).addTo(r),this._popup.once("close",()=>{this.cleanSelection(r)}),this.cleanHover(r),r.getSource($d)?r.getSource($d).setData({type:"Feature",geometry:z,properties:{}}):(r.addSource($d,{type:"geojson",data:{type:"Feature",geometry:z,properties:{}}}),r.addLayer({id:ET,type:"line",source:$d,layout:{},paint:{"line-color":Lie,"line-width":1}})),!0},x=Xne(S=>{var $,Z;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!(($=P[0])!=null&&$.source.includes(this._sourceId)))return!0;const R=P[0],z=PT(S.lngLat,r.getZoom()),N=(Z=R.layer.paint)==null?void 0:Z["fill-color"];return!N||TT(N)||(r.getSource(Vd)?r.getSource(Vd).setData({type:"Feature",geometry:z,properties:{}}):(r.addSource(Vd,{type:"geojson",data:{type:"Feature",geometry:z,properties:{}}}),r.addLayer({id:kT,type:"line",source:Vd,layout:{},paint:{"line-color":Rie,"line-width":1}}))),!0},100);r.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null),this._removeMouseMoveListener=AT("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=AT("click",a,60),l||this.willHide({map:r})}cleanPopup(){this._popup&&(this._popup.remove(),this._popup=null)}cleanHover(r){r.getSource(Vd)&&(r.removeLayer(kT),r.removeSource(Vd))}cleanSelection(r){r.getSource($d)&&(r.removeLayer(ET),r.removeSource($d))}cleanPopupWithDeps(r){this.cleanPopup(),this.cleanHover(r),this.cleanSelection(r)}willSourceUpdate({map:r,state:i}){i.source&&this._updateMap(r,i.source,i.legend,i.isVisible)}willMount({map:r,state:i}){i.source&&this._updateMap(r,i.source,i.legend,i.isVisible)}willUnMount({map:r}){var i,s;this._layerId!==void 0&&r.getLayer(this._layerId)!==void 0?r.removeLayer(this._layerId):console.warn(`Can't remove layer with ID: ${this._layerId}. Layer does't exist in map`),this.cleanPopupWithDeps(r),r.off("zoom",this.onMapZoom),this._layerId=void 0,this._sourceId&&(r.getSource(this._sourceId)!==void 0?r.removeSource(this._sourceId):console.warn(`Can't remove source with ID: ${this._sourceId}. Source does't exist in map`)),(i=this._removeClickListener)==null||i.call(this),(s=this._removeMouseMoveListener)==null||s.call(this)}willHide({map:r}){this._layerId===void 0||r===null||(r.getLayer(this._layerId)!==void 0?(r.setLayoutProperty(this._layerId,"visibility","none"),this.cleanPopupWithDeps(r)):console.warn(`Can't hide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willUnhide({map:r}){this._layerId===void 0||r===null||(r.getLayer(this._layerId)!==void 0?r.setLayoutProperty(this._layerId,"visibility","visible"):console.warn(`Cannot unhide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willDestroy({map:r}){this._layerId===void 0||r===null||r.getLayer(this._layerId)!==void 0&&this.willUnMount({map:r})}}const Nie={xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,preselectMode:!1,selectedCell:null,selectCellCallback:null},$w=(e,t,r,i)=>({xNumerator:e,xDenominator:t,yNumerator:r,yDenominator:i}),Uie=Ro({enabledLayersAtom:Lh,layersLegendsAtom:v4,calculateSelectedCell:()=>null,setPreselectMode:e=>e,setSelectCellCallback:e=>e,runPreselection:()=>null,setMatrixSelection:$w,presetMatrixSelection:e=>e,enableBivariateLayer:e=>e,disableBivariateLayer:()=>null},({onAction:e,schedule:t,getUnlistedState:r,create:i,onChange:s},l=Nie)=>{e("calculateSelectedCell",()=>{const{xGroups:x,yGroups:S}=r(S1),P=Vw(x,S,$w(l.xNumerator,l.xDenominator,l.yNumerator,l.yDenominator)),R=l.selectedCell;(!R||P.x!==R.x||P.y!==R.y)&&(l={...l,selectedCell:P})}),s("enabledLayersAtom",()=>{l.preselectMode&&t(x=>{x(i("runPreselection"))})}),s("layersLegendsAtom",()=>{l.preselectMode&&t(x=>{x(i("runPreselection"))})}),e("setPreselectMode",x=>{l={...l,preselectMode:x},x&&t(S=>{S(i("runPreselection"))})}),e("setSelectCellCallback",x=>{l={...l,selectCellCallback:x}});const a=()=>{const x=r(Lh),S=r(Wd);return[...x].map(R=>{var z;return(z=S.get(R))==null?void 0:z.getState()}).find(R=>{var z;return R&&R.isEnabled&&((z=R.legend)==null?void 0:z.type)==="bivariate"})};return e("runPreselection",()=>{const x=a();if(!x||!(x!=null&&x.legend)){l={...l,xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null},t(P=>{var R;(R=l==null?void 0:l.selectCellCallback)==null||R.call(l,-1,-1)});return}const S=x.legend.axis;if(S){const P=$w(S.x.quotient[0]||null,S.x.quotient[1]||null,S.y.quotient[0]||null,S.y.quotient[1]||null);if(P.xDenominator===l.xDenominator&&P.xNumerator===l.xNumerator&&P.yDenominator===l.yDenominator&&P.yNumerator===l.yNumerator)return;const{xGroups:R,yGroups:z}=r(S1),N=Vw(R,z,P);if(N.x>=0&&N.y>=0){t(ae=>{var V;ae(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,N.x,N.y)});return}let $=R,Z=z;N.x===-1&&($=OT(R,S.x.quotient[0],S.x.quotient[1])),N.y===-1&&(Z=OT(z,S.y.quotient[0],S.y.quotient[1]));const J=Vw($,Z,P);J.x>=0&&J.y>=0&&t(ae=>{var V;ae(S1.setNumerators($,Z)),ae(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,J.x,J.y)})}}),e("presetMatrixSelection",x=>{l={...l,...x},t(S=>{S(i("calculateSelectedCell"))})}),e("setMatrixSelection",x=>{l={...l,...x},t(V=>{V(i("calculateSelectedCell"))});const{xNumerator:S,xDenominator:P,yNumerator:R,yDenominator:z}=x;if(S===null||R===null)return;const{xGroups:N,yGroups:$}=r(S1),Z=r(EL).data;if(Z===null)return;const J=Z.polygonStatistic.bivariateStatistic;if(!N||!$||!N.length||!$.length||!P||!z)return;const ae=Nre(S,P,R,z,J);if(ae){const[V,K]=ae,se=Vre("Bivariate Layer",V,S,P,R,z,J);if(se){const me=K,Ae=me.source,ue=me.id,Se=qre(S,P,R,z,J),Ce=Ae?{id:ue,maxZoom:Ae.maxzoom,minZoom:Ae.minzoom,source:{type:Ae.type,urls:Ae.tiles,tileSize:512,apiKey:""}}:void 0,[qe,lt]=mT([{id:ue,legend:se,meta:Se,source:Ce}]);r(Sy).has(ue)||qe.push(...mT([{id:ue,settings:{id:ue,name:"Bivariate Layer",category:"overlay",group:"bivariate",ownedByUser:!0}}]).flat()),r(Wd).has(ue)||qe.push(i("disableBivariateLayer"),Wd.register({id:ue,renderer:new zie({id:ue}),cleanUpActions:lt}),i("enableBivariateLayer",ue)),qe.length&&t((wt,St={})=>{wt(qe),St.bivariateLayerAtomId=ue})}}}),e("enableBivariateLayer",x=>{const S=r(Wd);for(const[P,R]of Array.from(S))if(P===x){t(z=>{z(R.enable())});break}}),e("disableBivariateLayer",()=>{const x=r(Wd);t((S,P={})=>{if(P.bivariateLayerAtomId){const R=x.get(P.bivariateLayerAtomId);R&&S(R.destroy())}})}),l},"bivariateMatrixSelection"),OT=(e,t,r)=>{const i=[...e];let s;const l=i.findIndex(({quotients:a})=>(s=a.find(x=>x[0]===t&&x[1]===r),s));return s&&(i[l]={...i[l],selectedQuotient:s}),i},Vw=(e,t,r)=>{const i=e?e.findIndex(l=>l.selectedQuotient[0]===(r==null?void 0:r.xNumerator)&&l.selectedQuotient[1]===(r==null?void 0:r.xDenominator)):-1,s=t?t.findIndex(l=>l.selectedQuotient[0]===(r==null?void 0:r.yNumerator)&&l.selectedQuotient[1]===(r==null?void 0:r.yDenominator)):-1;return{x:i,y:s}},RL=25.5,LL=27.5;function jie(e,t,r=0){return hr.exports.useMemo(()=>({display:"inline-grid","--cell-size":r===0?"initial":`${r}px`,gridTemplateRows:`repeat(${t}, ${r===0?"auto":r+"px"})`,gridTemplateColumns:`repeat(${e}, ${r===0?"auto":r+"px"})`}),[e,t,r])}function $ie(e,t){const r=[];for(let i=0;i<e;i++){r[i]=[];for(let s=0;s<t;s++)r[i][s]={gridColumn:`${i} / ${i+1}`,gridRow:`${s} / ${s+1}`}}return r}function Vie(e,t){return hr.exports.useMemo(()=>{if(!e||!e.length||!t||!t.length)return 0;let i=k1(e[0].label);for(let l=1;l<e.length;l++){const a=k1(e[l].label),x=l*LL;a>i+x&&(i=a-x)}let s=k1(t[0].label);for(let l=1;l<t.length;l++){const a=k1(t[l].label),x=l*RL;a>s+x&&(s=a-x)}return i>s?i:s},[e,t])}const Hie=document.createElement("canvas"),DL=Hie.getContext("2d")||{};DL.font="normal 13px Roboto";function k1(e){return(DL.measureText(e).width+80)/.85}function MT(e,t,r){return t?{height:`${e+r*LL}px`}:{width:`${e+r*RL}px`}}const qie="_hoveredCell_1ic1f_1",Gie="_valueCell_1ic1f_5",Qie="_rotatedCell_1ic1f_17",Wie="_valueFill_1ic1f_26",Zie="_disabled_1ic1f_37",Kie="_selectedCol_1ic1f_41",Xie="_first_1ic1f_46",Yie="_last_1ic1f_50",Jie="_selectedRow_1ic1f_54",cp={hoveredCell:qie,valueCell:Gie,rotatedCell:Qie,valueFill:Wie,disabled:Zie,selectedCol:Kie,first:Xie,last:Yie,selectedRow:Jie},FL=hr.exports.forwardRef(({value:e,x:t,y:r,className:i,onMouseOver:s,onMouseOut:l,onClick:a,disabled:x=!1,style:S,firstRow:P,firstCol:R,lastRow:z,lastCol:N},$)=>{const Z=hr.exports.useRef(null);let J=!1,ae=!1,V=!1;const K=va(cp.valueCell,i,x&&cp.disabled);function se(){return`${K} ${va({[cp.hoveredCell]:J,[cp.selectedCol]:V,[cp.selectedRow]:ae,[cp.first]:P&&V||R&&ae,[cp.last]:z&&V||N&&ae})}`}return hr.exports.useImperativeHandle($,()=>({setHovered:()=>{Z.current&&(J=!0,Z.current.className=se())},resetHovered:()=>{Z.current&&(J=!1,Z.current.className=se())},setSelectedCol:()=>{Z.current&&(V=!0,Z.current.className=se())},resetSelectedCol:()=>{Z.current&&(V=!1,Z.current.className=se())},setSelectedRow:()=>{Z.current&&(ae=!0,Z.current.className=se())},resetSelectedRow:()=>{Z.current&&(ae=!1,Z.current.className=se())}})),_t("div",{ref:Z,className:K,style:S,onMouseOver:()=>{s(t,r)},onClick:me=>{a(t,r,me)},onMouseOut:l,children:!x&&e!==void 0?Zn(D2,{children:[Math.abs(e)>=.1&&_t("div",{className:cp.valueFill,style:{transform:`scale(${Math.abs(e)})`}}),_t("span",{className:cp.rotatedCell,children:e==null?void 0:e.toFixed(3)})]}):null})});FL.displayName="BivariateMatrixCell";const eoe="_legendSlot_j1sr0_6",toe="_rotatedMatrix_j1sr0_14",roe={legendSlot:eoe,rotatedMatrix:toe},noe="_horConnector_t5hlz_1",ioe="_vertConnector_t5hlz_7",ooe="_hovered_t5hlz_20",aoe="_selected_t5hlz_25",T1={horConnector:noe,vertConnector:ioe,hovered:ooe,selected:aoe},NS=hr.exports.forwardRef(({type:e,style:t},r)=>{const i=hr.exports.useRef(null);let s=!1,l=!1;const a="";function x(){return`${a} ${va({[T1.hovered]:s,[T1.selected]:l})}`}return hr.exports.useImperativeHandle(r,()=>({setHovered:()=>{i.current&&(s=!0,i.current.className=x())},resetHovered:()=>{i.current&&(s=!1,i.current.className=x())},setSelectedCol:()=>{e==="vertical"&&i.current&&(l=!0,i.current.className=x())},resetSelectedCol:()=>{e==="vertical"&&i.current&&(l=!1,i.current.className=x())},setSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!0,i.current.className=x())},resetSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!1,i.current.className=x())}})),_t("div",{className:e==="horizontal"?T1.horConnector:T1.vertConnector,style:t,children:_t("div",{ref:i})})});NS.displayName="BivariateMatrixCellConnector";const soe="_denominatorIcon_2n0u5_1",uoe={denominatorIcon:soe},loe=()=>Zn("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Zn("g",{clipPath:"url(#clip0_4777_147920)",children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59226 5.6715C4.57385 5.68982 4.55581 5.70848 4.53814 5.72748C4.27818 6.00698 4.09843 6.3591 4.03058 6.74363C4.30836 6.45062 4.50699 6.08183 4.59226 5.6715ZM10.3266 5.66248C10.4117 6.0808 10.6146 6.45633 10.8991 6.75295C10.8325 6.3648 10.6519 6.00926 10.3899 5.7275C10.3693 5.70537 10.3482 5.68368 10.3266 5.66248ZM10.927 7.12889C10.2881 7.58142 9.93487 8.39557 10.1356 9.23105L10.3024 9.92533L10.8712 7.55816C10.9059 7.41385 10.924 7.27018 10.927 7.12889ZM10.8167 12.0655L11.135 13.3906C11.2431 13.8401 11.6451 14.157 12.1074 14.157H12.8928C13.3551 14.157 13.7571 13.8401 13.8651 13.3906L14.8646 9.23105C15.0886 8.29843 14.6225 7.39238 13.8391 6.98624C14.3731 6.58123 14.718 5.93987 14.718 5.21796C14.718 3.99301 13.725 3 12.5001 3C12.1224 3 11.7669 3.09436 11.4556 3.26079C11.4174 3.85333 11.25 4.41104 10.9816 4.90556C11.0898 5.00751 11.1903 5.11726 11.2822 5.23375C11.2821 5.22849 11.2821 5.22323 11.2821 5.21796C11.2821 4.5453 11.8274 4 12.5001 4C13.1727 4 13.718 4.5453 13.718 5.21796C13.718 5.89062 13.1727 6.43592 12.5001 6.43592C12.2381 6.43592 11.9954 6.35321 11.7968 6.21249C11.9482 6.7042 11.975 7.24459 11.8435 7.79175C11.9191 7.77351 11.9983 7.7638 12.0803 7.7638H12.9199C13.5667 7.7638 14.0433 8.36854 13.8922 8.99743L12.8928 13.157L12.1074 13.157L11.3309 9.92533L10.8167 12.0655ZM4.10776 12.0505L3.78577 13.3906C3.67777 13.8401 3.27574 14.157 2.81344 14.157H2.02803C1.56574 14.157 1.16371 13.8401 1.0557 13.3906L0.0562696 9.23105C-0.167809 8.29845 0.298349 7.39241 1.08167 6.98626C0.547652 6.58125 0.202745 5.93988 0.202745 5.21796C0.202745 3.99301 1.19576 3 2.42071 3C2.80138 3 3.15965 3.0959 3.47268 3.26486C3.5114 3.85587 3.67872 4.41215 3.94647 4.90553C3.83535 5.01024 3.73236 5.12317 3.63841 5.24319C3.63858 5.2348 3.63867 5.22639 3.63867 5.21796C3.63867 4.5453 3.09337 4 2.42071 4C1.74804 4 1.20274 4.5453 1.20274 5.21796C1.20274 5.89062 1.74804 6.43592 2.42071 6.43592C2.68679 6.43592 2.93294 6.3506 3.1333 6.20582C2.98006 6.69932 2.95243 7.24213 3.0845 7.79178L3.08494 7.79363C3.00708 7.77418 2.92528 7.7638 2.84055 7.7638H2.00092C1.35413 7.7638 0.877492 8.36854 1.0286 8.99742L2.02803 13.157L2.81344 13.157L3.59353 9.91034L4.10776 12.0505ZM4.62199 9.91034L4.78521 9.23105C4.98518 8.39877 4.63543 7.58765 4.00112 7.13409C4.00445 7.2737 4.02258 7.41562 4.05683 7.55816L4.62199 9.91034Z",fill:"black"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46348 3C9.46348 4.10457 8.56805 5 7.46348 5C6.35891 5 5.46348 4.10457 5.46348 3C5.46348 1.89543 6.35891 1 7.46348 1C8.56805 1 9.46348 1.89543 9.46348 3ZM9.52339 5.18101C10.1023 4.63409 10.4635 3.85923 10.4635 3C10.4635 1.34315 9.12033 0 7.46348 0C5.80662 0 4.46348 1.34315 4.46348 3C4.46348 3.85922 4.8247 4.63408 5.40356 5.181C4.4317 5.4836 3.80296 6.50391 4.05627 7.55816L5.68205 14.3245C5.79005 14.774 6.19208 15.0909 6.65437 15.0909H8.27254C8.73483 15.0909 9.13686 14.774 9.24487 14.3245L10.8706 7.55816C11.1239 6.50392 10.4952 5.48363 9.52339 5.18101ZM6.00092 6.09091H8.92599C9.57278 6.09091 10.0494 6.69564 9.89832 7.32453L8.27254 14.0909H6.65437L5.0286 7.32453C4.87749 6.69564 5.35414 6.09091 6.00092 6.09091Z",fill:"black"})]}),_t("defs",{children:_t("clipPath",{id:"clip0_4777_147920",children:_t("rect",{width:"24",height:"24",fill:"white"})})})]}),coe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{d:"M14.6012 12.1833C15.0887 12.6708 15.0887 13.4833 14.6012 13.9708L13.7346 14.8375C13.6262 14.9458 13.5179 15 13.3554 15C13.2471 15 13.0846 14.9458 12.9762 14.8375C12.7596 14.6208 12.7596 14.2958 12.9762 14.1333L13.4637 13.6458H3.33874C2.20124 13.6458 1.33457 12.725 1.33457 11.5875V1.4625L0.847072 1.95C0.630406 2.16667 0.305406 2.16667 0.142906 1.95C-0.0195943 1.73333 -0.073761 1.40833 0.142906 1.24583L1.00957 0.379167C1.49707 -0.108333 2.30957 -0.108333 2.79707 0.379167L3.66374 1.24583C3.88041 1.4625 3.88041 1.7875 3.66374 1.95C3.55541 2.05833 3.39291 2.05833 3.28457 2.05833C3.17624 2.05833 3.01374 2.00417 2.90541 1.89583L2.36374 1.35417V11.5875C2.36374 12.1292 2.79707 12.6167 3.39291 12.6167H13.5721L13.0304 12.075C12.8137 11.8583 12.8137 11.5333 13.0304 11.3708C13.2471 11.1542 13.5721 11.1542 13.7346 11.3708L14.6012 12.1833ZM13.4637 0H6.85541C6.58457 0 6.36791 0.216667 6.36791 0.4875C6.36791 0.758333 6.58457 0.975 6.85541 0.975H13.4096C13.6804 0.975 13.8971 1.19167 13.8971 1.4625V8.125C13.8971 8.39583 14.1137 8.6125 14.3846 8.6125C14.6554 8.6125 14.8721 8.39583 14.8721 8.125V1.51667C14.9804 0.704167 14.2762 0 13.4637 0ZM8.45541 9.72083C8.72624 9.72083 8.94291 9.50417 8.94291 9.23333V6.95833C8.94291 6.2 8.29291 5.55 7.53457 5.55C7.20957 5.55 6.88457 5.65833 6.66791 5.875C6.45124 5.65833 6.12624 5.55 5.80124 5.55C5.58457 5.55 5.42207 5.60417 5.25957 5.65833C5.15124 5.55 5.04291 5.49583 4.88041 5.49583C4.60957 5.49583 4.39291 5.7125 4.39291 5.98333V9.17917C4.39291 9.45 4.60957 9.66667 4.88041 9.66667C5.15124 9.66667 5.36791 9.45 5.36791 9.17917V6.95833C5.36791 6.74167 5.53041 6.57917 5.74707 6.57917C5.96374 6.57917 6.12624 6.74167 6.12624 6.95833V9.23333C6.12624 9.50417 6.34291 9.72083 6.61374 9.72083C6.88457 9.72083 7.10124 9.50417 7.10124 9.23333V6.95833C7.10124 6.74167 7.26374 6.57917 7.48041 6.57917C7.69707 6.57917 7.85957 6.74167 7.85957 6.95833V9.23333C7.91374 9.50417 8.18457 9.72083 8.45541 9.72083ZM10.7304 3.7625C10.0804 3.7625 9.53874 4.30417 9.53874 4.95417C9.53874 5.225 9.75541 5.44167 10.0262 5.44167C10.2971 5.44167 10.5137 5.225 10.5137 4.95417C10.5137 4.84583 10.5679 4.79167 10.6762 4.79167C10.7304 4.79167 10.8387 4.84583 10.8387 4.95417C10.8387 5.00833 10.7304 5.225 10.2429 5.76667C9.9179 6.09167 9.64707 6.3625 9.64707 6.3625C9.48457 6.525 9.4304 6.74167 9.53874 6.90417C9.59291 7.12083 9.80957 7.22917 10.0262 7.22917H11.3804C11.6512 7.22917 11.8679 7.0125 11.8679 6.74167C11.8679 6.47083 11.6512 6.25417 11.3804 6.25417H11.2721C11.7054 5.7125 11.9221 5.33333 11.9221 5.00833C11.9221 4.25 11.3804 3.7625 10.7304 3.7625Z",fill:"black"})}),foe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5938 15C14.112 15 14.5312 14.5807 14.5312 14.0625V7.5C14.5312 6.9818 14.112 6.5625 13.5938 6.5625H12.6562V0.9375C12.6562 0.419297 12.237 0 11.7188 0H5.15625C4.63805 0 4.21875 0.419297 4.21875 0.9375V2.8125H1.40625C0.888047 2.8125 0.46875 3.2318 0.46875 3.75V14.0625C0.46875 14.5807 0.888047 15 1.40625 15H13.5938ZM1.40625 3.75H4.21875V5.5H3.5C3.22386 5.5 3 5.72386 3 6C3 6.27614 3.22386 6.5 3.5 6.5H4.21875V8H3.5C3.22386 8 3 8.22386 3 8.5C3 8.77614 3.22386 9 3.5 9H4.21875V10.5H3.5C3.22386 10.5 3 10.7239 3 11C3 11.2761 3.22386 11.5 3.5 11.5H4.21875V14.0625H1.40625V3.75ZM5.15625 0.9375H11.7188V14.0625H8.90625V11.25H7.96875V14.0625H5.15625V0.9375ZM12.6562 7.5H13.5938V14.0625H12.6562V7.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5ZM6 7.5C6 7.22386 6.22386 7 6.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H6.5C6.22386 8 6 7.77614 6 7.5ZM6.5 5C6.22386 5 6 5.22386 6 5.5C6 5.77614 6.22386 6 6.5 6H10.5C10.7761 6 11 5.77614 11 5.5C11 5.22386 10.7761 5 10.5 5H6.5Z",fill:"black"})}),poe=()=>_t("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4949 0.505013C14.7683 0.77838 14.7683 1.2216 14.4949 1.49496L1.49493 14.495C1.22156 14.7683 0.778343 14.7683 0.504977 14.495C0.23161 14.2216 0.23161 13.7784 0.504977 13.505L13.505 0.505013C13.7783 0.231646 14.2216 0.231646 14.4949 0.505013ZM14.495 6.50503C14.7683 6.77839 14.7683 7.22161 14.495 7.49497L7.49497 14.495C7.22161 14.7683 6.77839 14.7683 6.50503 14.495C6.23166 14.2216 6.23166 13.7784 6.50503 13.505L13.505 6.50503C13.7784 6.23166 14.2216 6.23166 14.495 6.50503ZM8.49498 1.49497C8.76834 1.22161 8.76834 0.778392 8.49498 0.505025C8.22161 0.231658 7.77839 0.231658 7.50503 0.505025L0.505025 7.50503C0.231658 7.77839 0.231658 8.22161 0.505025 8.49498C0.778392 8.76834 1.22161 8.76834 1.49497 8.49498L8.49498 1.49497ZM3.49497 0.505025C3.76834 0.778392 3.76834 1.22161 3.49497 1.49497L1.49497 3.49497C1.22161 3.76834 0.778392 3.76834 0.505025 3.49497C0.231658 3.22161 0.231658 2.77839 0.505025 2.50503L2.50503 0.505025C2.77839 0.231658 3.22161 0.231658 3.49497 0.505025ZM14.495 12.495C14.7684 12.2216 14.7684 11.7784 14.495 11.505C14.2217 11.2317 13.7784 11.2317 13.5051 11.505L11.5051 13.505C11.2317 13.7784 11.2317 14.2216 11.5051 14.495C11.7784 14.7683 12.2217 14.7683 12.495 14.495L14.495 12.495Z",fill:"black"})}),Aoe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.60002 4C8.60002 3.75732 8.45384 3.53854 8.22963 3.44567C8.00543 3.3528 7.74736 3.40413 7.57576 3.57573L5.57576 5.57573C5.34145 5.81005 5.34145 6.18995 5.57576 6.42426C5.81007 6.65857 6.18997 6.65857 6.42429 6.42426L7.40002 5.44852V10.4H6.50002C6.16865 10.4 5.90002 10.6686 5.90002 11C5.90002 11.3314 6.16865 11.6 6.50002 11.6H9.50002C9.8314 11.6 10.1 11.3314 10.1 11C10.1 10.6686 9.8314 10.4 9.50002 10.4H8.60002V4Z",fill:"black"})}),hoe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31257 14.9513C2.38285 14.9835 2.45927 15.0001 2.53658 15C2.66433 14.9997 2.78777 14.9537 2.88462 14.8704C2.98148 14.7871 3.04538 14.672 3.0648 14.5457L5.20765 0.617136C5.22508 0.478692 5.1878 0.338912 5.10375 0.227531C5.0197 0.116151 4.89551 0.0419601 4.75759 0.0207426C4.61968 -0.00047491 4.47893 0.0329551 4.36529 0.113921C4.25164 0.194887 4.17407 0.316999 4.14908 0.454279L2.00622 14.3828C1.99447 14.4593 1.9994 14.5373 2.02067 14.6116C2.04193 14.686 2.07903 14.7548 2.12942 14.8134C2.17981 14.8721 2.24229 14.9191 2.31257 14.9513ZM12.9007 14.8704C12.9975 14.9537 13.121 14.9997 13.2487 15C13.326 15.0001 13.4025 14.9835 13.4727 14.9513C13.543 14.9191 13.6055 14.8721 13.6559 14.8134C13.7063 14.7548 13.7434 14.686 13.7646 14.6116C13.7859 14.5373 13.7908 14.4593 13.7791 14.3828L11.6362 0.454279C11.6112 0.316999 11.5337 0.194887 11.42 0.113921C11.3064 0.0329551 11.1656 -0.00047491 11.0277 0.0207426C10.8898 0.0419601 10.7656 0.116151 10.6816 0.227531C10.5975 0.338912 10.5602 0.478692 10.5777 0.617136L12.7205 14.5457C12.7399 14.672 12.8038 14.7871 12.9007 14.8704ZM8.5 10.5C8.5 10.2239 8.27614 10 8 10C7.72386 10 7.5 10.2239 7.5 10.5V14.5C7.5 14.7761 7.72386 15 8 15C8.27614 15 8.5 14.7761 8.5 14.5V10.5ZM8 4C8.27614 4 8.5 4.22386 8.5 4.5V7.5C8.5 7.77614 8.27614 8 8 8C7.72386 8 7.5 7.77614 7.5 7.5V4.5C7.5 4.22386 7.72386 4 8 4ZM8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1V2C7.5 2.27614 7.72386 2.5 8 2.5C8.27614 2.5 8.5 2.27614 8.5 2V1Z",fill:"black"})}),doe={population:_t(loe,{}),area_km2:_t(coe,{}),total_building_count:_t(foe,{}),populated_area_km2:_t(poe,{}),one:_t(Aoe,{})},moe={population:Rn.t("bivariate.matrix.icon.population"),area_km2:Rn.t("bivariate.matrix.icon.area_km2"),total_building_count:Rn.t("bivariate.matrix.icon.total_building_count"),populated_area_km2:Rn.t("bivariate.matrix.icon.populated_area_km2"),one:Rn.t("bivariate.matrix.icon.one")},BL=({iconId:e})=>{const t=doe[e]||_t(hoe,{}),r=moe[e]||Rn.t("bivariate.matrix.icon.roads");return _t(_x,{tooltipText:r,children:({showTooltip:i,hideTooltip:s})=>_t("span",{className:uoe.denominatorIcon,onPointerOver:i,onPointerLeave:s,children:t})})},goe=e=>{let t=e;const r=new Set,i=s=>{t=s,r.forEach(l=>l())};return()=>{const[s,l]=hr.exports.useState(t);return hr.exports.useEffect(()=>{const a=()=>{l(t)};return r.add(a),a(),()=>{r.delete(a)}},[]),[s,i]}},yoe=goe({headingId:""}),voe="_denominators_pzvud_1",_oe="_row_pzvud_5",xoe="_column_pzvud_9",boe="_denominatorSelector_pzvud_13",woe="_disabled_pzvud_25",Soe="_denominatorsContainer_pzvud_43",Coe="_selected_pzvud_85",og={denominators:voe,row:_oe,column:xoe,denominatorSelector:boe,disabled:woe,denominatorsContainer:Soe,selected:Coe},Eoe=({numeratorId:e,denominatorId:t,numeratorLabel:r,quality:i,onSelectQuotient:s,isSelected:l=!1})=>{const a=x=>{x.stopPropagation(),s(e,t)};return Zn("div",{className:va(l&&og.selected),onClick:a,children:[_t(BL,{iconId:t}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:i!=null?i:"&nbsp;"}),_t("div",{className:"quotientLabel",children:r})]})},koe=100/70,Toe=5,zL=hr.exports.memo(({id:e,quotients:t,selectedQuotient:r,onSelectQuotient:i,type:s,children:l})=>{const[a,x]=yoe(),S=$=>{if($.stopPropagation(),a.headingId===e)x({headingId:"",width:0});else{const Z=$.currentTarget.getBoundingClientRect(),J=$.currentTarget.parentElement.parentElement.getBoundingClientRect(),ae=Math.ceil((Z.left-J.left)*koe+Toe);x({headingId:e,width:ae})}},P=hr.exports.useCallback(($,Z)=>{x({headingId:""}),i($,Z)},[x,i]),[R,z]=hr.exports.useMemo(()=>{const $=t.findIndex(({id:Z})=>Z[0]===r.id[0]&&Z[1]===r.id[1]);return $>=0?[t[$],t.filter((Z,J)=>J!==$)]:[null,t]},[t,r.id]),N=({id:$,label:Z,quality:J},ae)=>_t(Eoe,{onSelectQuotient:P,quality:J,numeratorId:$[0],denominatorId:$[1],numeratorLabel:Z,isSelected:ae},JSON.stringify($));return Zn("div",{className:va({[og.denominators]:!0,[og.row]:s==="horizontal",[og.column]:s==="vertical"}),children:[_t("div",{onClick:S,children:l}),a.headingId===e&&Zn("div",{className:og.denominatorsContainer,style:s==="horizontal"?{left:-a.width,right:0}:{top:-a.width,bottom:0},children:[R&&N(R,!0),z.map($=>N($,!1))]})]})});zL.displayName="QuotientSelector";const Poe="_axisRecord_1327p_8",Ioe="_container_1327p_13",Ooe="_column_1327p_34",Moe="_row_1327p_43",Roe="_selected_1327p_110",Loe="_corner_1327p_142",Doe="_hovered_1327p_146",Foe="_verticalText_1327p_173",Boe="_quotientsCountLabel_1327p_185",fp={axisRecord:Poe,container:Ioe,column:Ooe,row:Moe,selected:Roe,corner:Loe,hovered:Doe,verticalText:Foe,quotientsCountLabel:Boe},zoe=(e,t)=>({gridColumn:e?`${t+3} / ${t+4}`:"1",gridRow:e?"1":`${t+3} / ${t+4}`}),US=hr.exports.forwardRef(({index:e,type:t,className:r,selectedIndex:i=-1,headerCell:s,id:l,onCellHover:a,onCellClick:x,onSelectQuotient:S,baseDimension:P,calculateHeadingsStyle:R},z)=>{const N=()=>{a(e)},$=()=>{a(null)},Z=Ce=>{const qe=Ce.target;qe.tagName==="svg"||qe.tagName==="path"||qe.className&&qe.className.indexOf&&qe.className.indexOf("denominator")!==-1||x(e,Ce)},J=hr.exports.useCallback((Ce,qe)=>{S(e,Ce,qe)},[S,e]),ae=s.quotients.length>1?Zn("div",{className:fp.quotientsCountLabel,children:["+",s.quotients.length-1," layers",_t(kV,{})]}):null,V=hr.exports.useRef(null);let K=!1,se=!1;const me=t==="horizontal",Ae=t==="vertical",ue=va({[r||""]:r,[fp.axisRecord]:!0,[fp.column]:Ae,[fp.row]:me,[fp.verticalText]:Ae,horizontal:me,vertical:Ae});function Se(){return`${ue} ${va({[fp.hovered]:K,[fp.selected]:se})}`}return hr.exports.useImperativeHandle(z,()=>({setHovered:()=>{V.current&&(K=!0,V.current.className=Se())},resetHovered:()=>{V.current&&(K=!1,V.current.className=Se())},setSelectedCol:()=>{Ae&&V.current&&(se=!0,V.current.className=Se())},resetSelectedCol:()=>{Ae&&V.current&&(se=!1,V.current.className=Se())},setSelectedRow:()=>{me&&V.current&&(se=!0,V.current.className=Se())},resetSelectedRow:()=>{me&&V.current&&(se=!1,V.current.className=Se())}})),_t("div",{ref:V,onMouseEnter:N,onMouseOut:$,onClick:Z,style:zoe(t==="vertical",e),className:ue,children:Zn("div",{style:R(P,Ae,e),className:fp.container,children:[_t("div",{className:fp.corner}),_t(BL,{iconId:s.selectedQuotient.id[1]}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:s.quality?s.quality:"&nbsp;"}),s.label,ae&&_t(zL,{id:`quotient_${l}`,onSelectQuotient:J,selectedQuotient:s.selectedQuotient,quotients:s.quotients,type:t,children:ae})]})})});US.displayName="BivariateMatrixHeadingEntry";const Noe="_axisCaptionRoot_171hh_1",Uoe="_axisCaptionAnchor_171hh_6",joe="_axisCaptionBody_171hh_11",$oe="_tooltipHover_171hh_25",Voe="_axisCaptionText_171hh_34",Hoe="_popupContent_171hh_48",u0={axisCaptionRoot:Noe,axisCaptionAnchor:Uoe,axisCaptionBody:joe,tooltipHover:$oe,axisCaptionText:Voe,popupContent:Hoe},qoe=Zn("div",{className:u0.axisCaptionText,children:[_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p1")}),Zn("ul",{children:[_t("li",{children:Rn.t("bivariate.matrix.caption.tooltip.li1")}),_t("li",{children:Rn.t("bivariate.matrix.caption.tooltip.li2")})]}),_t("br",{}),_t("b",{children:Rn.t("bivariate.matrix.caption.tooltip.b")}),_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p2")}),_t("p",{children:Rn.t("bivariate.matrix.caption.tooltip.p3")})]}),Goe={popupContent:u0.popupContent},Qoe=({baseDimension:e=0})=>{const t=hr.exports.useRef(null);return hr.exports.useLayoutEffect(()=>{var r;(r=t.current)==null||r.scrollIntoView({block:"center"})},[]),_t("div",{className:u0.axisCaptionRoot,ref:t,children:_t("div",{className:u0.axisCaptionAnchor,style:{left:-e},children:_t(_x,{hoverBehavior:!1,tooltipId:"axis_caption",tooltipText:qoe,popupClasses:Goe,children:({showTooltip:r})=>Zn("div",{className:u0.axisCaptionBody,children:[_t(RT,{position:"left"}),_t("br",{}),Zn("div",{className:u0.tooltipHover,onClick:r,children:[_t("span",{children:Rn.t("bivariate.matrix.caption.base_axis")}),_t(PV,{}),_t("span",{children:Rn.t("bivariate.matrix.caption.annex_axis")})]}),_t("br",{}),_t(RT,{position:"right"})]})})})})},RT=({position:e="left"})=>Zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"22",viewBox:"0 0 6 22",fill:"none",transform:e==="left"?"rotate(90)":"rotate(-90)",children:[_t("path",{d:"M3 1V20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M1 18L3 21.5L5 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),P1=3,I1=3,NL=hr.exports.forwardRef(({matrix:e,xHeadings:t,yHeadings:r,onSelectCell:i,selectedCell:s,cellSize:l=0,onSelectQuotient:a},x)=>{var Wt,fr;const S=[],P=[];let R=-1,z=-1;const N=hr.exports.useRef((Wt=s==null?void 0:s.x)!=null?Wt:-1),$=hr.exports.useRef((fr=s==null?void 0:s.y)!=null?fr:-1),Z=AS(Uie.setSelectCellCallback),J=(Rt,et,Ue)=>{et>=0&&(S[et]||(S[et]=[]),S[et].push(Rt)),Ue>=0&&(P[Ue]||(P[Ue]=[]),P[Ue].push(Rt))},ae=(Rt,et)=>{if(R!==Rt&&(R=Rt,R!==-1)){const Ue=P[R];Ue&&Ue.forEach(Re=>{Re==null||Re.setHovered()})}if(z!==et&&(z=et,z!==-1)){const Ue=S[z];Ue&&Ue.forEach(Re=>{Re==null||Re.setHovered()})}},V=()=>{if(R!==-1){const Rt=P[R];Rt&&Rt.forEach(et=>{et==null||et.resetHovered()}),R=-1}if(z!==-1){const Rt=S[z];Rt&&Rt.forEach(et=>{et==null||et.resetHovered()}),z=-1}},K=Rt=>{V(),Rt&&ae(Rt,z)},se=Rt=>{V(),Rt&&ae(R,Rt)},me=()=>{if(N.current!==-1){const Rt=P[N.current];Rt&&Rt.forEach(et=>{et==null||et.resetSelectedCol()}),N.current=-1}if($.current!==-1){const Rt=S[$.current];Rt&&Rt.forEach(et=>{et==null||et.resetSelectedRow()}),$.current=-1}},Ae=(Rt,et,Ue)=>{me(),Se(Rt,et),i(Rt,et,Ue)},ue=(Rt,et)=>{me(),Se(Rt,et)},Se=(Rt,et)=>{if(Rt!==-1&&N.current!==Rt){N.current=Rt;const Ue=P[N.current];Ue&&Ue.forEach(Re=>{Re==null||Re.setSelectedCol()})}if(et!==-1&&$.current!==et){$.current=et;const Ue=S[$.current];Ue&&Ue.forEach(Re=>{Re==null||Re.setSelectedRow()})}},Ce=(Rt,et)=>{Ae(Rt,$.current,et)},qe=(Rt,et)=>{Ae(N.current,Rt,et)},lt=hr.exports.useCallback((Rt,et,Ue,Re)=>{a(!1,Rt,et,Ue,Re)},[a]),rt=hr.exports.useCallback((Rt,et,Ue,Re)=>{a(!0,Rt,et,Ue,Re)},[a]),st=Vie(t,r),wt=jie(t.length+1,r.length+1,l),St=hr.exports.useMemo(()=>$ie(t.length+P1,r.length+I1),[t,r]);return hr.exports.useEffect(()=>{Z(ue.bind(void 0)),s&&(s.x!==-1||s.y!==-1)&&ue(s.x,s.y)},[e]),_t("div",{ref:x,"data-base-dimension":st,className:roe.rotatedMatrix,children:Zn("div",{style:wt,children:[e.map((Rt,et)=>_t(NS,{type:"horizontal",style:St[-1+P1][et+I1],ref:Ue=>J(Ue,et,-1)},`${et}_row_connector`)),e[0].map((Rt,et)=>_t(NS,{type:"vertical",style:St[et+P1][-1+I1],ref:Ue=>J(Ue,-1,et)},`${et}_col_connector`)),e.map((Rt,et)=>Rt.map((Ue,Re)=>_t(FL,{x:Re,y:et,onClick:Ae,onMouseOver:ae,onMouseOut:V,style:St[Re+P1][et+I1],ref:le=>J(le,et,Re),value:Ue===null?void 0:Ue,disabled:Ue===null,firstRow:et===0,firstCol:Re===0,lastRow:et===e.length-1,lastCol:Re===Rt.length-1},`matrix_cell_${Re}_${et}`))),[...r].reverse().map((Rt,et)=>_t(US,{id:`hor_${r.length-1-et}`,index:r.length-1-et,type:"horizontal",selectedIndex:s==null?void 0:s.y,headerCell:Rt,onCellHover:se,onCellClick:qe,onSelectQuotient:rt,baseDimension:st,calculateHeadingsStyle:MT,ref:Ue=>J(Ue,r.length-1-et,-1)},`hor_${r.length-1-et}`)),_t(Qoe,{baseDimension:st}),t.map((Rt,et)=>_t(US,{id:`vert_${et}`,index:et,type:"vertical",selectedIndex:s==null?void 0:s.x,headerCell:Rt,onCellHover:K,onCellClick:Ce,onSelectQuotient:lt,baseDimension:st,calculateHeadingsStyle:MT,ref:Ue=>J(Ue,-1,et)},`vert_${et}`))]})})});NL.displayName="BivariateMatrixControl";const Woe=hr.exports.memo(NL,(e,t)=>e.matrix===t.matrix),Ol={xGroups:[{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["local_hours","area_km2"]',quotients:[["count","populated_area_km2"],["population_prev","populated_area_km2"],["gdp","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["osm_users","area_km2"],["total_hours","populated_area_km2"],["covid19_confirmed","populated_area_km2"],["covid19_confirmed","area_km2"],["osm_users","populated_area_km2"],["local_hours","area_km2"],["local_hours","populated_area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["count","total_building_count"]',quotients:[["count","total_building_count"]],selectedQuotient:["count","total_building_count"]},{parent:'["highway_length","population"]',quotients:[["forest","population"],["highway_length","population"]],selectedQuotient:["highway_length","population"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],yGroups:[{parent:'["local_hours","area_km2"]',quotients:[["population","populated_area_km2"],["total_building_count","populated_area_km2"],["count","populated_area_km2"],["population_prev","populated_area_km2"],["total_building_count","area_km2"],["gdp","populated_area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["total_hours","populated_area_km2"],["osm_users","area_km2"],["covid19_confirmed","populated_area_km2"],["osm_users","populated_area_km2"],["covid19_confirmed","area_km2"],["local_hours","populated_area_km2"],["local_hours","area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["population","area_km2"]',quotients:[["population","area_km2"]],selectedQuotient:["population","area_km2"]},{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["populated_area_km2","area_km2"]',quotients:[["populated_area_km2","area_km2"]],selectedQuotient:["populated_area_km2","area_km2"]},{parent:'["count","population"]',quotients:[["populated_area_km2","population"],["count","population"]],selectedQuotient:["count","population"]},{parent:'["populated_area_km2","total_building_count"]',quotients:[["populated_area_km2","total_building_count"]],selectedQuotient:["populated_area_km2","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["forest","population"]',quotients:[["highway_length","population"],["forest","population"]],selectedQuotient:["forest","population"]},{parent:'["avg_elevation","one"]',quotients:[["avg_elevation","one"]],selectedQuotient:["avg_elevation","one"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],matrix:[[.6330778143702572,null,.5428354424212366,.8125028273732107,.41794744630059005,.49075709882519214,.26266841211785613,.17540431775688137,.2817357956135096,-.08277918866628682,-.07354014808858399,.19952042019781102,.2900699030570146,-.09959194444606909,-.05653224901990311,-.08121946780800145,-.06293349539553206,.210717984018573],[.7671266114613431,.4624540160877126,.7461271344307278,.6236796022803118,.4651837775930101,.6983788201180583,.3282268564011803,.23940172696613696,.6102526069773476,-.06854993994184201,-.06300652330464818,.5425853155901724,.5357120339754239,-.12569275885753226,-.05722122475056985,-.044124976285712575,-.07252302728830883,.46170009422253117],[null,.6330778143702572,.9448400352897224,.8088667700993942,.5478619819586914,.7272525499712613,.39403434829318645,.27693369264722456,.4212553882513244,-.09219840214177631,-.08214624778695,.3334796387999488,.3381396079397914,-.11599438338517783,-.0603311321070773,null,-.0709735871498622,.24799941442360907],[.9448400352897224,.5428354424212366,null,.676324490987385,.495437368648744,.6083458288157841,.3469868158515808,.2430950316469889,.4310608323815133,-.09512147612349764,-.08309756332167413,.3452068134908724,.33210650851954204,-.1245886065474142,-.059708735955503585,-.14339940649431673,-.07375589630648925,.24325119232100342],[.8088667700993942,.8125028273732107,.676324490987385,null,.5189347708683577,.6884534708417488,.33187782018548295,.2219184858913333,.35395740401150805,-.09412791983951108,-.0863908043684727,.26082399416277346,.349163057602413,-.0749918701328735,-.06355840786694379,-.06179508212619175,-.06748437844937322,.25841056419208985],[.5478619819586914,.41794744630059005,.495437368648744,.5189347708683577,null,.38324804690465736,null,.414339823397522,.3069414868687711,-.10644082342648567,-.10931575987231072,.2754560009958487,.2569523390521722,-.11051731563471724,-.08226769814606767,.000604231582566239,null,.20899371630213479],[.7272525499712613,.49075709882519214,.6083458288157841,.6884534708417488,.38324804690465736,null,.30947144087595235,.22699474527609945,.2830320630422097,-.04226615774405834,-.037742340113614686,.23762065170375052,.23266705566189747,-.05154149468310855,-.02870286844834339,-.031190214624625075,-.03390072345440923,.18581115270615528],[.39403434829318645,.26266841211785613,.3469868158515808,.33187782018548295,null,.30947144087595235,null,.9304780288243525,.13914319427120514,.3291875622555688,.3720654440390036,.1934927693146689,.10623582254983449,.0007285286560751833,.19378449287322094,.32680720759696696,null,.16809925893975913],[.27693369264722456,.17540431775688137,.2430950316469889,.2219184858913333,.414339823397522,.22699474527609945,.9304780288243525,null,.09020847847993732,.42400942691094484,.5064709774524677,.1712970613845418,.06714970974071707,.01180306783229655,.2255650150706005,.3599655140069753,.30252787549965515,.15970052255248204],[.4212553882513244,.2817357956135096,.4310608323815133,.35395740401150805,.3069414868687711,.2830320630422097,.13914319427120514,.09020847847993732,null,-.06649666693010343,-.06343156740380441,null,.6841527486069171,-.13779469419376966,-.0635847915251171,-.026485710953304663,-.08026301675299034,.6178257434320957],[-.09219840214177631,-.08277918866628682,-.09512147612349764,-.09412791983951108,-.10644082342648567,-.04226615774405834,.3291875622555688,.42400942691094484,-.06649666693010343,null,.7678796845524921,.012760506344240884,-.054701981754940544,.1344540319549378,null,.5631324180563558,.3071029030398512,.04014411156301263],[-.08214624778695,-.07354014808858399,-.08309756332167413,-.0863908043684727,-.10931575987231072,-.037742340113614686,.3720654440390036,.5064709774524677,-.06343156740380441,.7678796845524921,null,.014062866759102748,-.05210682697853124,.11091668928613378,.2990964999949313,.5385399665532266,.22651079092994508,.04521239572328026],[.33092297487284617,.306348164358225,.3238400065207823,.3693496848744186,.38871869483912574,.1581862969025989,-.3471496502086163,-.43374811025089965,.33796301073828167,-.3268410473725932,-.3386739643520862,.055679399245274847,.3020796910928048,-.04623557252911246,-.19287576889960628,-.23886314058329716,-.1732637367181755,.02241746611798094],[null,-.05985205635299918,-.07346388019658537,-.04156216899598115,-.06836488141749311,-.03935680545094748,.12058512533492027,.13212728757237097,-.11270465651638581,.15970627541493335,.13401194122424062,-.12384718246215928,-.10414752849189488,.7574388860132296,.48388350772788513,null,.6315662616124519,-.11571785360027256],[-.2290337466539601,-.1757661352019487,-.24760184223062584,-.18278999260309406,-.1710761141838468,-.09542438099888385,-.059267030345385996,-.013539781630611262,-.09643066932644401,.43854582251146346,.3609544353566733,-.07178405902927397,-.06341025046618942,.22096261180630974,.10541941385096928,.5599627595822098,.1278673522191922,-.032944279661146915],[.3334796387999488,.19952042019781102,.3452068134908724,.26082399416277346,.2754560009958487,.23762065170375052,.1934927693146689,.1712970613845418,null,.012760506344240884,.014062866759102748,null,.6310066640401927,-.1500265206387344,-.06689746899862688,.01986212506899432,-.08550943488376969,.676555546708353],[.3381396079397914,.2900699030570146,.33210650851954204,.349163057602413,.2569523390521722,.23266705566189747,.10623582254983449,.06714970974071707,.6841527486069171,-.054701981754940544,-.05210682697853124,.6310066640401927,null,-.12258332045801432,-.0567307219837807,-.022320716664225384,-.07178249009741255,null],[-.11599438338517783,-.09959194444606909,-.1245886065474142,-.0749918701328735,-.11051731563471724,-.05154149468310855,.0007285286560751833,.01180306783229655,-.13779469419376966,.1344540319549378,.11091668928613378,-.1500265206387344,-.12258332045801432,null,.4348018015155649,.1802672705079899,.5785565720280881,-.1349910962529299],[-.0603311321070773,-.05653224901990311,-.059708735955503585,-.06355840786694379,-.08226769814606767,-.02870286844834339,.19378449287322094,.2255650150706005,-.0635847915251171,null,.2990964999949313,-.06689746899862688,-.0567307219837807,.4348018015155649,null,.16176932292012,.7133807791437314,-.05999313994718329],[-.06778027180778882,-.06094700100554602,-.06749293269532497,-.07015551687145612,-.09380332086205506,-.03214432503025587,.20746554020517102,.2523547017592986,-.07210328538123267,.4203440217106889,null,-.0750002557187531,-.06409549706414985,.49720071299727603,.8986894662282207,.19577005850577103,.7147205376873481,-.06663105366067186],[-.1314723477716716,-.10888331650996384,-.12016811312503141,-.14500851581063834,-.14651760866997154,-.0894267074095959,-.10021629943072725,-.02053796018986287,-.08959271152178999,.07728964320941438,.11382059101409457,-.055901670004619375,-.07981810377749747,.12046075802517535,.07334344740483416,-.020568856117619418,.12080907584004444,-.040957057721220644],[.24799941442360907,.210717984018573,.24325119232100342,.25841056419208985,.20899371630213479,.18581115270615528,.16809925893975913,.15970052255248204,.6178257434320957,.04014411156301263,.04521239572328026,.676555546708353,null,-.1349910962529299,-.05999313994718329,.035960163104143954,-.07699941382657573,null]],indicators:[{name:"mhr_index",label:"Multi-hazard risk PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"mhe_index",label:"Multi-hazard exposure PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"coping_capacity_index",label:"Coping Capacity PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"resilience_index",label:"Resilience PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"vulnerability_index",label:"Vulnerability PDC GRVA",copyrights:["\xA9 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"count",label:"OSM Objects",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"count_6_months",label:"OSM Objects (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"view_count",label:"OSM Map Views",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]},{name:"avgmax_ts",label:"OSM Last Edit Date (avg)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"max_ts",label:"OSM Last Edit Date (max)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"min_ts",label:"OSM First Edit Date (min)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["neutral"]]},{name:"osm_users",label:"OSM Mappers Edited Here",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count",label:"OSM Buildings",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count_6_months",label:"OSM Buildings (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length",label:"OSM Road Length",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length_6_months",label:"OSM Road Length (last 6 months)",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"local_hours",label:"OSM Mapping Hours by Local Mappers",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"total_hours",label:"OSM Mapping Hours by All Mappers",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"pop_disability_total",label:"Population with a disability",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"forest",label:"Forest Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_not_well_eng_speak",label:"Population with a difficulty speaking English",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["good"],["important","bad"]]},{name:"evergreen_needle_leaved_forest",label:"Evergreen Needle-leaved Forest Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_under_5_total",label:"Population under age of 5",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"shrubs",label:"Shrubland Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_over_65_total",label:"Population over age of 65",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"herbage",label:"Herbaceous Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"poverty_families_total",label:"Families living below poverty line",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant, good"],["important"]]},{name:"unknown_forest",label:"Unknown Forest Type Landcover Area",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"volcanos_count",label:"Number of volcanos",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"covid19_vaccines",label:"COVID19 Vaccine Acceptance",copyrights:["\xA9 Data from Delphi COVIDcast, covidcast.cmu.edu"],direction:[["bad"],["neutral"]]},{name:"covid19_confirmed",label:"COVID19 Confirmed Cases",copyrights:["\xA9 Data from JHU CSSE COVID-19 Dataset"],direction:[["good"],["bad"]]},{name:"avg_slope",label:"Average slope",copyrights:["\xA9 Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_elevation",label:"Average elevation",copyrights:["\xA9 Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"gdp",label:"Gross Domestic Product",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 2019 The World Bank Group, CC-BY 4.0","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, Myroslava Lesiv, Nandin-Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","@ OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"population_prev",label:"Population (previous version)",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"wildfires",label:"Wildfire Days Per Year",copyrights:["\xA9 NRT VIIRS 375 m Active Fire product VJ114IMGTDL_NRT. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/VIIRS/VJ114IMGT_NRT.002","NRT VIIRS 375 m Active Fire product VNP14IMGT. Available on-line [https://earthdata.nasa.gov/firms]. doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14DL. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14DL.NRT.006","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14ML. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14ML"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_ndvi",label:"Average NDVI, JUN 2019",copyrights:["\xA9 Data from Sentinel-2 L2A 120m Mosaic, CC-BY 4.0, https://forum.sentinel-hub.com/c/aws-sentinel"],direction:[["bad"],["good"]]},{name:"industrial_area",label:"OSM industrial area",copyrights:["\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"pop_without_car",label:"Population without a car",copyrights:["\xA9 United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["neutral"],["important"]]},{name:"area_km2",label:"Area",copyrights:["Concept of areas \xA9 Brahmagupta, Ren\xE9 Descartes"],direction:[["neutral"],["neutral"]]},{name:"days_maxtemp_over_32c_1c",label:"Days above 32C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxtemp_over_32c_2c",label:"Days above 32C, potential scenario (2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_1c",label:"Nights above 25C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_2c",label:"Nights above 25C, potential scenario(2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_1c",label:"Days above 32C wet-bulb, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_2c",label:"Days above 32C wet-bulb, potential scenario(2C)",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"mandays_maxtemp_over_32c_1c",label:"Man-days above 32C, recent scenario",copyrights:["\xA9 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"man_distance_to_fire_brigade",label:"Man-distance to fire brigade",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"man_distance_to_hospital",label:"Man-distance to hospitals",copyrights:["\xA9 Kontur https://kontur.io/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"total_road_length",label:"Total Roads length",copyrights:["\xA92019 Facebook, Inc. and its affiliates https://github.com/facebookmicrosites/Open-Mapping-At-Facebook/blob/main/LICENSE.md","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"foursquare_places_count",label:"Foursquare Japan places count",copyrights:["\xA9Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"foursquare_visits_count",label:"Foursquare Japan visits count",copyrights:["\xA9Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"one",label:"1",copyrights:["Numbers \xA9 Mu\u1E25ammad ibn M\u016Bs\u0101 al-Khw\u0101rizm\u012B"],direction:[["neutral"],["neutral"]]},{name:"populated_area_km2",label:"Populated area",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"population",label:"Population",copyrights:["\xA9 Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL \xA9 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"total_building_count",label:"Total Buildings Estimate",copyrights:["\xA9 Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, \u2026 Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"view_count_bf2402",label:"OSM Map Views 30 days before 24.02.2022",copyrights:["\xA9 Kontur","\xA9 OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]}]},Zoe="_axisMatrix_caw7e_1",Koe={axisMatrix:Zoe},Xoe=(e,t)=>{var r,i;return{label:((r=t.find(s=>s.name===e.selectedQuotient[0]))==null?void 0:r.label)||"",selectedQuotient:{id:e.selectedQuotient,label:(i=t.find(s=>s.name===e.selectedQuotient[1]))==null?void 0:i.label},quality:1,quotients:e.quotients.map(s=>{var l;return{id:s,label:(l=t.find(a=>a.name===s[0]))==null?void 0:l.label,quality:1}})}};function Yoe(){const e=hr.exports.useRef(null),t=hr.exports.useMemo(()=>{if(!Ol.indicators||!Ol.xGroups||!Ol.xGroups.length||!Ol.yGroups||!Ol.yGroups.length)return null;const a=x=>Xoe(x,Ol==null?void 0:Ol.indicators);return{x:Ol.xGroups.map(a),y:Ol.yGroups.map(a)}},[Ol]),[r,i]=hr.exports.useState(null),s=hr.exports.useCallback((a,x,S)=>{console.log("onSelectCellHandler",a,x,S),i({x:a,y:x})},[]),l=hr.exports.useCallback((a,x,S,P)=>{console.log("onSelectDenominator",a,x,S,P)},[]);return _t("div",{className:Koe.axisMatrix,children:Zn(NM,{children:[_t(Woe,{ref:e,matrix:Ol.matrix,xHeadings:t==null?void 0:t.x,yHeadings:t==null?void 0:t.y,onSelectCell:s,selectedCell:r,onSelectDenominator:l}),_t(FR,{})]})})}const UL=document.createElement("template");UL.innerHTML=`
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg {
  z-index: 99;
  position: fixed;
  border: 0px;
  top: 0px;
}
</style>
<svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;class Joe extends HTMLElement{constructor(){super(),this.right="0",this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(this.ownerDocument.importNode(UL.content,!0)),this.update()}static get observedAttributes(){return["style","z-index","target","height","width","href","color","fill","position","top","left","right","bottom","transform"]}setAttr(t,r){const i=this.shadow.querySelector("svg");/(href)/.test(t.toLocaleLowerCase())?i.lastElementChild.setAttribute("xlink:href",r):/(color|fill)/.test(t.toLocaleLowerCase())?i.firstElementChild.style[t]=r:/(z-index|position|top|left|right|bottom|transform)/.test(t.toLocaleLowerCase())?i.style[t]=r:i.setAttribute(t,r)}update(){[...this.getAttributeNames(),"right"].forEach(t=>{const r=this.getAttribute(t)||this[t]||"";this.setAttr(t,r)})}attributeChangedCallback(t,r,i){r!==i&&this.setAttr(t,i)}}customElements.define("github-corners",Joe);var eae=["size","fixed","bottom","zIndex","className","style","bgColor","color","position"];function tae(e){var{size:t=80,fixed:r=!1,bottom:i,zIndex:s,style:l,bgColor:a="#151513",color:x="#fff",position:S="right"}=e,P=Wh(e,eae),R=S==="left"?{left:0,right:"initial",transform:"scale(-1, 1)"}:{right:0,left:"initial",transform:"scale(1, 1)"};return i?(R.bottom=0,R.top="initial",R.transform=S==="left"?"scale(-1, -1)":"scale(1, -1)"):(R.bottom="initial",R.top=0),_t("github-corners",iu({target:"__blank",width:t,height:t,href:e.href,position:r?"fixed":"absolute","z-index":s,style:l,fill:a,color:x},R,P))}const rae=({children:e})=>Zn(D2,{children:[e,_t(tae,{size:40,href:"https://github.com/konturio/disaster-ninja-fe"})]}),nae=e=>e.raw[0],iae=nae`
  .cosmos-ui-kit-decorator {
    padding: 1em;
    display: flex;
    gap: 2em;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    box-sizing: border-box;
    background-color: #fff;
    --transp-clr: #f5f5f5;
    background-image: linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      ),
      linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      );
    background-size: 24px 24px;
    background-position: 0 0, 12px 12px;
  }
`;function oae({children:e}){return Zn(D2,{children:[_t("style",{dangerouslySetInnerHTML:{__html:iae}}),_t("div",{className:"cosmos-ui-kit-decorator",children:e})]})}const aae={port:5e3},sae={"src/components/BivariateLegend/BivariateLegend.fixture.tsx":{module:{default:ZJ}},"src/features/bivariate_color_manager/components/MiniLegend/MiniLegend.fixture.tsx":{module:{default:nee}},"src/features/bivariate_manager/fixtures/BivariateGreetings.fixture.tsx":{module:{default:pee}},"src/features/bivariate_manager/fixtures/BivariateMatrixControl.fixture.tsx":{module:{default:Yoe}}},uae={"cosmos.decorator.tsx":rae,"src/cosmos.decorator.tsx":oae};QT.exports.mountDomRenderer({rendererConfig:aae,decorators:uae,fixtures:sae});console.log("Disaster Ninja",dV);export{_t as a,Zn as j,hr as r};

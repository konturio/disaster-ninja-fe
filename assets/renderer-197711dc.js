var DF=Object.defineProperty;var FF=(e,t,n)=>t in e?DF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sr=(e,t,n)=>(FF(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var l=Function.bind.apply(t,s);return new l}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var jt={},zF={get exports(){return jt},set exports(e){jt=e}},Xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.element"),NF=Symbol.for("react.portal"),UF=Symbol.for("react.fragment"),$F=Symbol.for("react.strict_mode"),jF=Symbol.for("react.profiler"),VF=Symbol.for("react.provider"),HF=Symbol.for("react.context"),qF=Symbol.for("react.forward_ref"),GF=Symbol.for("react.suspense"),QF=Symbol.for("react.memo"),WF=Symbol.for("react.lazy"),u5=Symbol.iterator;function KF(e){return e===null||typeof e!="object"?null:(e=u5&&e[u5]||e["@@iterator"],typeof e=="function"?e:null)}var DT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FT=Object.assign,BT={};function q0(e,t,n){this.props=e,this.context=t,this.refs=BT,this.updater=n||DT}q0.prototype.isReactComponent={};q0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};q0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zT(){}zT.prototype=q0.prototype;function R4(e,t,n){this.props=e,this.context=t,this.refs=BT,this.updater=n||DT}var D4=R4.prototype=new zT;D4.constructor=R4;FT(D4,q0.prototype);D4.isPureReactComponent=!0;var c5=Array.isArray,NT=Object.prototype.hasOwnProperty,F4={current:null},UT={key:!0,ref:!0,__self:!0,__source:!0};function $T(e,t,n){var i,s={},l=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)NT.call(t,i)&&!UT.hasOwnProperty(i)&&(s[i]=t[i]);var x=arguments.length-2;if(x===1)s.children=n;else if(1<x){for(var S=Array(x),P=0;P<x;P++)S[P]=arguments[P+2];s.children=S}if(e&&e.defaultProps)for(i in x=e.defaultProps,x)s[i]===void 0&&(s[i]=x[i]);return{$$typeof:Ay,type:e,key:l,ref:o,props:s,_owner:F4.current}}function ZF(e,t){return{$$typeof:Ay,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ay}function XF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var f5=/\/+/g;function ew(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XF(""+e.key):t.toString(36)}function G1(e,t,n,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ay:case NF:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+ew(o,0):i,c5(s)?(n="",e!=null&&(n=e.replace(f5,"$&/")+"/"),G1(s,t,n,"",function(P){return P})):s!=null&&(B4(s)&&(s=ZF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(f5,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",c5(e))for(var x=0;x<e.length;x++){l=e[x];var S=i+ew(l,x);o+=G1(l,t,n,S,s)}else if(S=KF(e),typeof S=="function")for(e=S.call(e),x=0;!(l=e.next()).done;)l=l.value,S=i+ew(l,x++),o+=G1(l,t,n,S,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zv(e,t,n){if(e==null)return e;var i=[],s=0;return G1(e,i,"","",function(l){return t.call(n,l,s++)}),i}function YF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rl={current:null},Q1={transition:null},JF={ReactCurrentDispatcher:rl,ReactCurrentBatchConfig:Q1,ReactCurrentOwner:F4};Xr.Children={map:Zv,forEach:function(e,t,n){Zv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zv(e,function(){t++}),t},toArray:function(e){return Zv(e,function(t){return t})||[]},only:function(e){if(!B4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xr.Component=q0;Xr.Fragment=UF;Xr.Profiler=jF;Xr.PureComponent=R4;Xr.StrictMode=$F;Xr.Suspense=GF;Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JF;Xr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=FT({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=F4.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(S in t)NT.call(t,S)&&!UT.hasOwnProperty(S)&&(i[S]=t[S]===void 0&&x!==void 0?x[S]:t[S])}var S=arguments.length-2;if(S===1)i.children=n;else if(1<S){x=Array(S);for(var P=0;P<S;P++)x[P]=arguments[P+2];i.children=x}return{$$typeof:Ay,type:e.type,key:s,ref:l,props:i,_owner:o}};Xr.createContext=function(e){return e={$$typeof:HF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VF,_context:e},e.Consumer=e};Xr.createElement=$T;Xr.createFactory=function(e){var t=$T.bind(null,e);return t.type=e,t};Xr.createRef=function(){return{current:null}};Xr.forwardRef=function(e){return{$$typeof:qF,render:e}};Xr.isValidElement=B4;Xr.lazy=function(e){return{$$typeof:WF,_payload:{_status:-1,_result:e},_init:YF}};Xr.memo=function(e,t){return{$$typeof:QF,type:e,compare:t===void 0?null:t}};Xr.startTransition=function(e){var t=Q1.transition;Q1.transition={};try{e()}finally{Q1.transition=t}};Xr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xr.useCallback=function(e,t){return rl.current.useCallback(e,t)};Xr.useContext=function(e){return rl.current.useContext(e)};Xr.useDebugValue=function(){};Xr.useDeferredValue=function(e){return rl.current.useDeferredValue(e)};Xr.useEffect=function(e,t){return rl.current.useEffect(e,t)};Xr.useId=function(){return rl.current.useId()};Xr.useImperativeHandle=function(e,t,n){return rl.current.useImperativeHandle(e,t,n)};Xr.useInsertionEffect=function(e,t){return rl.current.useInsertionEffect(e,t)};Xr.useLayoutEffect=function(e,t){return rl.current.useLayoutEffect(e,t)};Xr.useMemo=function(e,t){return rl.current.useMemo(e,t)};Xr.useReducer=function(e,t,n){return rl.current.useReducer(e,t,n)};Xr.useRef=function(e){return rl.current.useRef(e)};Xr.useState=function(e){return rl.current.useState(e)};Xr.useSyncExternalStore=function(e,t,n){return rl.current.useSyncExternalStore(e,t,n)};Xr.useTransition=function(){return rl.current.useTransition()};Xr.version="18.2.0";(function(e){e.exports=Xr})(zF);const qn=w2(jt);var E3={},e7={get exports(){return E3},set exports(e){E3=e}},p5={},t7={get exports(){return p5},set exports(e){p5=e}};(function(e){var t=function(n){var i=Object.prototype,s=i.hasOwnProperty,l=Object.defineProperty||function(Me,Le,re){Me[Le]=re.value},o,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",P=x.asyncIterator||"@@asyncIterator",M=x.toStringTag||"@@toStringTag";function D(Me,Le,re){return Object.defineProperty(Me,Le,{value:re,enumerable:!0,configurable:!0,writable:!0}),Me[Le]}try{D({},"")}catch{D=function(Le,re,ge){return Le[re]=ge}}function z(Me,Le,re,ge){var Mt=Le&&Le.prototype instanceof ne?Le:ne,en=Object.create(Mt.prototype),vn=new Jt(ge||[]);return l(en,"_invoke",{value:rt(Me,re,vn)}),en}n.wrap=z;function U(Me,Le,re){try{return{type:"normal",arg:Me.call(Le,re)}}catch(ge){return{type:"throw",arg:ge}}}var q="suspendedStart",K="suspendedYield",ee="executing",V="completed",X={};function ne(){}function pe(){}function me(){}var oe={};D(oe,S,function(){return this});var we=Object.getPrototypeOf,Ce=we&&we(we(bn([])));Ce&&Ce!==i&&s.call(Ce,S)&&(oe=Ce);var je=me.prototype=ne.prototype=Object.create(oe);pe.prototype=me,l(je,"constructor",{value:me,configurable:!0}),l(me,"constructor",{value:pe,configurable:!0}),pe.displayName=D(me,M,"GeneratorFunction");function tt(Me){["next","throw","return"].forEach(function(Le){D(Me,Le,function(re){return this._invoke(Le,re)})})}n.isGeneratorFunction=function(Me){var Le=typeof Me=="function"&&Me.constructor;return Le?Le===pe||(Le.displayName||Le.name)==="GeneratorFunction":!1},n.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,me):(Me.__proto__=me,D(Me,M,"GeneratorFunction")),Me.prototype=Object.create(je),Me},n.awrap=function(Me){return{__await:Me}};function qe(Me,Le){function re(en,vn,dn,Cn){var $n=U(Me[en],Me,vn);if($n.type==="throw")Cn($n.arg);else{var Fn=$n.arg,Yr=Fn.value;return Yr&&typeof Yr=="object"&&s.call(Yr,"__await")?Le.resolve(Yr.__await).then(function(Vr){re("next",Vr,dn,Cn)},function(Vr){re("throw",Vr,dn,Cn)}):Le.resolve(Yr).then(function(Vr){Fn.value=Vr,dn(Fn)},function(Vr){return re("throw",Vr,dn,Cn)})}}var ge;function Mt(en,vn){function dn(){return new Le(function(Cn,$n){re(en,vn,Cn,$n)})}return ge=ge?ge.then(dn,dn):dn()}l(this,"_invoke",{value:Mt})}tt(qe.prototype),D(qe.prototype,P,function(){return this}),n.AsyncIterator=qe,n.async=function(Me,Le,re,ge,Mt){Mt===void 0&&(Mt=Promise);var en=new qe(z(Me,Le,re,ge),Mt);return n.isGeneratorFunction(Le)?en:en.next().then(function(vn){return vn.done?vn.value:en.next()})};function rt(Me,Le,re){var ge=q;return function(en,vn){if(ge===ee)throw new Error("Generator is already running");if(ge===V){if(en==="throw")throw vn;return st()}for(re.method=en,re.arg=vn;;){var dn=re.delegate;if(dn){var Cn=At(dn,re);if(Cn){if(Cn===X)continue;return Cn}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(ge===q)throw ge=V,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);ge=ee;var $n=U(Me,Le,re);if($n.type==="normal"){if(ge=re.done?V:K,$n.arg===X)continue;return{value:$n.arg,done:re.done}}else $n.type==="throw"&&(ge=V,re.method="throw",re.arg=$n.arg)}}}function At(Me,Le){var re=Le.method,ge=Me.iterator[re];if(ge===o)return Le.delegate=null,re==="throw"&&Me.iterator.return&&(Le.method="return",Le.arg=o,At(Me,Le),Le.method==="throw")||re!=="return"&&(Le.method="throw",Le.arg=new TypeError("The iterator does not provide a '"+re+"' method")),X;var Mt=U(ge,Me.iterator,Le.arg);if(Mt.type==="throw")return Le.method="throw",Le.arg=Mt.arg,Le.delegate=null,X;var en=Mt.arg;if(!en)return Le.method="throw",Le.arg=new TypeError("iterator result is not an object"),Le.delegate=null,X;if(en.done)Le[Me.resultName]=en.value,Le.next=Me.nextLoc,Le.method!=="return"&&(Le.method="next",Le.arg=o);else return en;return Le.delegate=null,X}tt(je),D(je,M,"Generator"),D(je,S,function(){return this}),D(je,"toString",function(){return"[object Generator]"});function Ot(Me){var Le={tryLoc:Me[0]};1 in Me&&(Le.catchLoc=Me[1]),2 in Me&&(Le.finallyLoc=Me[2],Le.afterLoc=Me[3]),this.tryEntries.push(Le)}function Vt(Me){var Le=Me.completion||{};Le.type="normal",delete Le.arg,Me.completion=Le}function Jt(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(Ot,this),this.reset(!0)}n.keys=function(Me){var Le=Object(Me),re=[];for(var ge in Le)re.push(ge);return re.reverse(),function Mt(){for(;re.length;){var en=re.pop();if(en in Le)return Mt.value=en,Mt.done=!1,Mt}return Mt.done=!0,Mt}};function bn(Me){if(Me){var Le=Me[S];if(Le)return Le.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var re=-1,ge=function Mt(){for(;++re<Me.length;)if(s.call(Me,re))return Mt.value=Me[re],Mt.done=!1,Mt;return Mt.value=o,Mt.done=!0,Mt};return ge.next=ge}}return{next:st}}n.values=bn;function st(){return{value:o,done:!0}}return Jt.prototype={constructor:Jt,reset:function(Me){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Vt),!Me)for(var Le in this)Le.charAt(0)==="t"&&s.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=o)},stop:function(){this.done=!0;var Me=this.tryEntries[0],Le=Me.completion;if(Le.type==="throw")throw Le.arg;return this.rval},dispatchException:function(Me){if(this.done)throw Me;var Le=this;function re(Cn,$n){return en.type="throw",en.arg=Me,Le.next=Cn,$n&&(Le.method="next",Le.arg=o),!!$n}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Mt=this.tryEntries[ge],en=Mt.completion;if(Mt.tryLoc==="root")return re("end");if(Mt.tryLoc<=this.prev){var vn=s.call(Mt,"catchLoc"),dn=s.call(Mt,"finallyLoc");if(vn&&dn){if(this.prev<Mt.catchLoc)return re(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return re(Mt.finallyLoc)}else if(vn){if(this.prev<Mt.catchLoc)return re(Mt.catchLoc,!0)}else if(dn){if(this.prev<Mt.finallyLoc)return re(Mt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Me,Le){for(var re=this.tryEntries.length-1;re>=0;--re){var ge=this.tryEntries[re];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var Mt=ge;break}}Mt&&(Me==="break"||Me==="continue")&&Mt.tryLoc<=Le&&Le<=Mt.finallyLoc&&(Mt=null);var en=Mt?Mt.completion:{};return en.type=Me,en.arg=Le,Mt?(this.method="next",this.next=Mt.finallyLoc,X):this.complete(en)},complete:function(Me,Le){if(Me.type==="throw")throw Me.arg;return Me.type==="break"||Me.type==="continue"?this.next=Me.arg:Me.type==="return"?(this.rval=this.arg=Me.arg,this.method="return",this.next="end"):Me.type==="normal"&&Le&&(this.next=Le),X},finish:function(Me){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var re=this.tryEntries[Le];if(re.finallyLoc===Me)return this.complete(re.completion,re.afterLoc),Vt(re),X}},catch:function(Me){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var re=this.tryEntries[Le];if(re.tryLoc===Me){var ge=re.completion;if(ge.type==="throw"){var Mt=ge.arg;Vt(re)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(Me,Le,re){return this.delegate={iterator:bn(Me),resultName:Le,nextLoc:re},this.method==="next"&&(this.arg=o),X}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(t7);var jT={},k3={},Og={},n7={get exports(){return Og},set exports(e){Og=e}},nu={},P3={},r7={get exports(){return P3},set exports(e){P3=e}},VT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(st,Me){var Le=st.length;st.push(Me);e:for(;0<Le;){var re=Le-1>>>1,ge=st[re];if(0<s(ge,Me))st[re]=Me,st[Le]=ge,Le=re;else break e}}function n(st){return st.length===0?null:st[0]}function i(st){if(st.length===0)return null;var Me=st[0],Le=st.pop();if(Le!==Me){st[0]=Le;e:for(var re=0,ge=st.length,Mt=ge>>>1;re<Mt;){var en=2*(re+1)-1,vn=st[en],dn=en+1,Cn=st[dn];if(0>s(vn,Le))dn<ge&&0>s(Cn,vn)?(st[re]=Cn,st[dn]=Le,re=dn):(st[re]=vn,st[en]=Le,re=en);else if(dn<ge&&0>s(Cn,Le))st[re]=Cn,st[dn]=Le,re=dn;else break e}}return Me}function s(st,Me){var Le=st.sortIndex-Me.sortIndex;return Le!==0?Le:st.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,x=o.now();e.unstable_now=function(){return o.now()-x}}var S=[],P=[],M=1,D=null,z=3,U=!1,q=!1,K=!1,ee=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(st){for(var Me=n(P);Me!==null;){if(Me.callback===null)i(P);else if(Me.startTime<=st)i(P),Me.sortIndex=Me.expirationTime,t(S,Me);else break;Me=n(P)}}function pe(st){if(K=!1,ne(st),!q)if(n(S)!==null)q=!0,Jt(me);else{var Me=n(P);Me!==null&&bn(pe,Me.startTime-st)}}function me(st,Me){q=!1,K&&(K=!1,V(Ce),Ce=-1),U=!0;var Le=z;try{for(ne(Me),D=n(S);D!==null&&(!(D.expirationTime>Me)||st&&!qe());){var re=D.callback;if(typeof re=="function"){D.callback=null,z=D.priorityLevel;var ge=re(D.expirationTime<=Me);Me=e.unstable_now(),typeof ge=="function"?D.callback=ge:D===n(S)&&i(S),ne(Me)}else i(S);D=n(S)}if(D!==null)var Mt=!0;else{var en=n(P);en!==null&&bn(pe,en.startTime-Me),Mt=!1}return Mt}finally{D=null,z=Le,U=!1}}var oe=!1,we=null,Ce=-1,je=5,tt=-1;function qe(){return!(e.unstable_now()-tt<je)}function rt(){if(we!==null){var st=e.unstable_now();tt=st;var Me=!0;try{Me=we(!0,st)}finally{Me?At():(oe=!1,we=null)}}else oe=!1}var At;if(typeof X=="function")At=function(){X(rt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Vt=Ot.port2;Ot.port1.onmessage=rt,At=function(){Vt.postMessage(null)}}else At=function(){ee(rt,0)};function Jt(st){we=st,oe||(oe=!0,At())}function bn(st,Me){Ce=ee(function(){st(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_continueExecution=function(){q||U||(q=!0,Jt(me))},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return n(S)},e.unstable_next=function(st){switch(z){case 1:case 2:case 3:var Me=3;break;default:Me=z}var Le=z;z=Me;try{return st()}finally{z=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(st,Me){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var Le=z;z=st;try{return Me()}finally{z=Le}},e.unstable_scheduleCallback=function(st,Me,Le){var re=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?re+Le:re):Le=re,st){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Le+ge,st={id:M++,callback:Me,priorityLevel:st,startTime:Le,expirationTime:ge,sortIndex:-1},Le>re?(st.sortIndex=Le,t(P,st),n(S)===null&&st===n(P)&&(K?(V(Ce),Ce=-1):K=!0,bn(pe,Le-re))):(st.sortIndex=ge,t(S,st),q||U||(q=!0,Jt(me))),st},e.unstable_shouldYield=qe,e.unstable_wrapCallback=function(st){var Me=z;return function(){var Le=z;z=Me;try{return st.apply(this,arguments)}finally{z=Le}}}})(VT);(function(e){e.exports=VT})(r7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT=jt,tu=P3;function rn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qT=new Set,Mg={};function ed(e,t){R0(e,t),R0(e+"Capture",t)}function R0(e,t){for(Mg[e]=t,e=0;e<t.length;e++)qT.add(t[e])}var Pp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T3=Object.prototype.hasOwnProperty,i7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h5={},A5={};function o7(e){return T3.call(A5,e)?!0:T3.call(h5,e)?!1:i7.test(e)?A5[e]=!0:(h5[e]=!0,!1)}function a7(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s7(e,t,n,i){if(t===null||typeof t>"u"||a7(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function il(e,t,n,i,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xs[e]=new il(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xs[t]=new il(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xs[e]=new il(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xs[e]=new il(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xs[e]=new il(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xs[e]=new il(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xs[e]=new il(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xs[e]=new il(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xs[e]=new il(e,5,!1,e.toLowerCase(),null,!1,!1)});var z4=/[\-:]([a-z])/g;function N4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z4,N4);xs[t]=new il(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z4,N4);xs[t]=new il(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z4,N4);xs[t]=new il(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xs[e]=new il(e,1,!1,e.toLowerCase(),null,!1,!1)});xs.xlinkHref=new il("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xs[e]=new il(e,1,!1,e.toLowerCase(),null,!0,!0)});function U4(e,t,n,i){var s=xs.hasOwnProperty(t)?xs[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s7(t,n,s,i)&&(n=null),i||s===null?o7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Mp=HT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xv=Symbol.for("react.element"),s0=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),$4=Symbol.for("react.strict_mode"),I3=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),QT=Symbol.for("react.context"),j4=Symbol.for("react.forward_ref"),O3=Symbol.for("react.suspense"),M3=Symbol.for("react.suspense_list"),V4=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),WT=Symbol.for("react.offscreen"),d5=Symbol.iterator;function zm(e){return e===null||typeof e!="object"?null:(e=d5&&e[d5]||e["@@iterator"],typeof e=="function"?e:null)}var Ho=Object.assign,tw;function ag(e){if(tw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tw=t&&t[1]||""}return`
`+tw+e}var nw=!1;function rw(e,t){if(!e||nw)return"";nw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var s=P.stack.split(`
`),l=i.stack.split(`
`),o=s.length-1,x=l.length-1;1<=o&&0<=x&&s[o]!==l[x];)x--;for(;1<=o&&0<=x;o--,x--)if(s[o]!==l[x]){if(o!==1||x!==1)do if(o--,x--,0>x||s[o]!==l[x]){var S=`
`+s[o].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=o&&0<=x);break}}}finally{nw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ag(e):""}function l7(e){switch(e.tag){case 5:return ag(e.type);case 16:return ag("Lazy");case 13:return ag("Suspense");case 19:return ag("SuspenseList");case 0:case 2:case 15:return e=rw(e.type,!1),e;case 11:return e=rw(e.type.render,!1),e;case 1:return e=rw(e.type,!0),e;default:return""}}function L3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case l0:return"Fragment";case s0:return"Portal";case I3:return"Profiler";case $4:return"StrictMode";case O3:return"Suspense";case M3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QT:return(e.displayName||"Context")+".Consumer";case GT:return(e._context.displayName||"Context")+".Provider";case j4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V4:return t=e.displayName||null,t!==null?t:L3(e.type)||"Memo";case _h:t=e._payload,e=e._init;try{return L3(e(t))}catch{}}return null}function u7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L3(t);case 8:return t===$4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c7(e){var t=KT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yv(e){e._valueTracker||(e._valueTracker=c7(e))}function ZT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=KT(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function d_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function R3(e,t){var n=t.checked;return Ho({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function m5(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Vh(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XT(e,t){t=t.checked,t!=null&&U4(e,"checked",t,!1)}function D3(e,t){XT(e,t);var n=Vh(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F3(e,t.type,n):t.hasOwnProperty("defaultValue")&&F3(e,t.type,Vh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function F3(e,t,n){(t!=="number"||d_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sg=Array.isArray;function w0(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vh(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function B3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rn(91));return Ho({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rn(92));if(sg(n)){if(1<n.length)throw Error(rn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vh(n)}}function YT(e,t){var n=Vh(t.value),i=Vh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function v5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jv,eI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jv=Jv||document.createElement("div"),Jv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f7=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){f7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function tI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function nI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=tI(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var p7=Ho({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N3(e,t){if(t){if(p7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rn(62))}}function U3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $3=null;function H4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var j3=null,S0=null,C0=null;function _5(e){if(e=gy(e)){if(typeof j3!="function")throw Error(rn(280));var t=e.stateNode;t&&(t=P2(t),j3(e.stateNode,e.type,t))}}function rI(e){S0?C0?C0.push(e):C0=[e]:S0=e}function iI(){if(S0){var e=S0,t=C0;if(C0=S0=null,_5(e),t)for(e=0;e<t.length;e++)_5(t[e])}}function oI(e,t){return e(t)}function aI(){}var iw=!1;function sI(e,t,n){if(iw)return e(t,n);iw=!0;try{return oI(e,t,n)}finally{iw=!1,(S0!==null||C0!==null)&&(aI(),iI())}}function Rg(e,t){var n=e.stateNode;if(n===null)return null;var i=P2(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rn(231,t,typeof n));return n}var V3=!1;if(Pp)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){V3=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{V3=!1}function h7(e,t,n,i,s,l,o,x,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(M){this.onError(M)}}var Ag=!1,m_=null,g_=!1,H3=null,A7={onError:function(e){Ag=!0,m_=e}};function d7(e,t,n,i,s,l,o,x,S){Ag=!1,m_=null,h7.apply(A7,arguments)}function m7(e,t,n,i,s,l,o,x,S){if(d7.apply(this,arguments),Ag){if(Ag){var P=m_;Ag=!1,m_=null}else throw Error(rn(198));g_||(g_=!0,H3=P)}}function td(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x5(e){if(td(e)!==e)throw Error(rn(188))}function g7(e){var t=e.alternate;if(!t){if(t=td(e),t===null)throw Error(rn(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return x5(s),e;if(l===i)return x5(s),t;l=l.sibling}throw Error(rn(188))}if(n.return!==i.return)n=s,i=l;else{for(var o=!1,x=s.child;x;){if(x===n){o=!0,n=s,i=l;break}if(x===i){o=!0,i=s,n=l;break}x=x.sibling}if(!o){for(x=l.child;x;){if(x===n){o=!0,n=l,i=s;break}if(x===i){o=!0,i=l,n=s;break}x=x.sibling}if(!o)throw Error(rn(189))}}if(n.alternate!==i)throw Error(rn(190))}if(n.tag!==3)throw Error(rn(188));return n.stateNode.current===n?e:t}function uI(e){return e=g7(e),e!==null?cI(e):null}function cI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cI(e);if(t!==null)return t;e=e.sibling}return null}var fI=tu.unstable_scheduleCallback,b5=tu.unstable_cancelCallback,y7=tu.unstable_shouldYield,v7=tu.unstable_requestPaint,va=tu.unstable_now,_7=tu.unstable_getCurrentPriorityLevel,q4=tu.unstable_ImmediatePriority,pI=tu.unstable_UserBlockingPriority,y_=tu.unstable_NormalPriority,x7=tu.unstable_LowPriority,hI=tu.unstable_IdlePriority,S2=null,Cf=null;function b7(e){if(Cf&&typeof Cf.onCommitFiberRoot=="function")try{Cf.onCommitFiberRoot(S2,e,void 0,(e.current.flags&128)===128)}catch{}}var Ic=Math.clz32?Math.clz32:C7,w7=Math.log,S7=Math.LN2;function C7(e){return e>>>=0,e===0?32:31-(w7(e)/S7|0)|0}var e1=64,t1=4194304;function lg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function v_(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var x=o&~s;x!==0?i=lg(x):(l&=o,l!==0&&(i=lg(l)))}else o=n&~s,o!==0?i=lg(o):l!==0&&(i=lg(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ic(t),s=1<<n,i|=e[n],t&=~s;return i}function E7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k7(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ic(l),x=1<<o,S=s[o];S===-1?(!(x&n)||x&i)&&(s[o]=E7(x,t)):S<=t&&(e.expiredLanes|=x),l&=~x}}function q3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AI(){var e=e1;return e1<<=1,!(e1&4194240)&&(e1=64),e}function ow(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ic(t),e[t]=n}function P7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ic(n),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~l}}function G4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ic(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Mi=0;function dI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mI,Q4,gI,yI,vI,G3=!1,n1=[],Mh=null,Lh=null,Rh=null,Dg=new Map,Fg=new Map,Sh=[],T7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w5(e,t){switch(e){case"focusin":case"focusout":Mh=null;break;case"dragenter":case"dragleave":Lh=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Dg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fg.delete(t.pointerId)}}function Um(e,t,n,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=gy(t),t!==null&&Q4(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function I7(e,t,n,i,s){switch(t){case"focusin":return Mh=Um(Mh,e,t,n,i,s),!0;case"dragenter":return Lh=Um(Lh,e,t,n,i,s),!0;case"mouseover":return Rh=Um(Rh,e,t,n,i,s),!0;case"pointerover":var l=s.pointerId;return Dg.set(l,Um(Dg.get(l)||null,e,t,n,i,s)),!0;case"gotpointercapture":return l=s.pointerId,Fg.set(l,Um(Fg.get(l)||null,e,t,n,i,s)),!0}return!1}function _I(e){var t=FA(e.target);if(t!==null){var n=td(t);if(n!==null){if(t=n.tag,t===13){if(t=lI(n),t!==null){e.blockedOn=t,vI(e.priority,function(){gI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function W1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Q3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);$3=i,n.target.dispatchEvent(i),$3=null}else return t=gy(n),t!==null&&Q4(t),e.blockedOn=n,!1;t.shift()}return!0}function S5(e,t,n){W1(e)&&n.delete(t)}function O7(){G3=!1,Mh!==null&&W1(Mh)&&(Mh=null),Lh!==null&&W1(Lh)&&(Lh=null),Rh!==null&&W1(Rh)&&(Rh=null),Dg.forEach(S5),Fg.forEach(S5)}function $m(e,t){e.blockedOn===t&&(e.blockedOn=null,G3||(G3=!0,tu.unstable_scheduleCallback(tu.unstable_NormalPriority,O7)))}function Bg(e){function t(s){return $m(s,e)}if(0<n1.length){$m(n1[0],e);for(var n=1;n<n1.length;n++){var i=n1[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Mh!==null&&$m(Mh,e),Lh!==null&&$m(Lh,e),Rh!==null&&$m(Rh,e),Dg.forEach(t),Fg.forEach(t),n=0;n<Sh.length;n++)i=Sh[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Sh.length&&(n=Sh[0],n.blockedOn===null);)_I(n),n.blockedOn===null&&Sh.shift()}var E0=Mp.ReactCurrentBatchConfig,__=!0;function M7(e,t,n,i){var s=Mi,l=E0.transition;E0.transition=null;try{Mi=1,W4(e,t,n,i)}finally{Mi=s,E0.transition=l}}function L7(e,t,n,i){var s=Mi,l=E0.transition;E0.transition=null;try{Mi=4,W4(e,t,n,i)}finally{Mi=s,E0.transition=l}}function W4(e,t,n,i){if(__){var s=Q3(e,t,n,i);if(s===null)dw(e,t,i,x_,n),w5(e,i);else if(I7(s,e,t,n,i))i.stopPropagation();else if(w5(e,i),t&4&&-1<T7.indexOf(e)){for(;s!==null;){var l=gy(s);if(l!==null&&mI(l),l=Q3(e,t,n,i),l===null&&dw(e,t,i,x_,n),l===s)break;s=l}s!==null&&i.stopPropagation()}else dw(e,t,i,null,n)}}var x_=null;function Q3(e,t,n,i){if(x_=null,e=H4(i),e=FA(e),e!==null)if(t=td(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return x_=e,null}function xI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_7()){case q4:return 1;case pI:return 4;case y_:case x7:return 16;case hI:return 536870912;default:return 16}default:return 16}}var kh=null,K4=null,K1=null;function bI(){if(K1)return K1;var e,t=K4,n=t.length,i,s="value"in kh?kh.value:kh.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[l-i];i++);return K1=s.slice(e,1<i?1-i:void 0)}function Z1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function r1(){return!0}function C5(){return!1}function ru(e){function t(n,i,s,l,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(l):l[x]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?r1:C5,this.isPropagationStopped=C5,this}return Ho(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=r1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=r1)},persist:function(){},isPersistent:r1}),t}var G0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z4=ru(G0),my=Ho({},G0,{view:0,detail:0}),R7=ru(my),aw,sw,jm,C2=Ho({},my,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jm&&(jm&&e.type==="mousemove"?(aw=e.screenX-jm.screenX,sw=e.screenY-jm.screenY):sw=aw=0,jm=e),aw)},movementY:function(e){return"movementY"in e?e.movementY:sw}}),E5=ru(C2),D7=Ho({},C2,{dataTransfer:0}),F7=ru(D7),B7=Ho({},my,{relatedTarget:0}),lw=ru(B7),z7=Ho({},G0,{animationName:0,elapsedTime:0,pseudoElement:0}),N7=ru(z7),U7=Ho({},G0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$7=ru(U7),j7=Ho({},G0,{data:0}),k5=ru(j7),V7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q7[e])?!!t[e]:!1}function X4(){return G7}var Q7=Ho({},my,{key:function(e){if(e.key){var t=V7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Z1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X4,charCode:function(e){return e.type==="keypress"?Z1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Z1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W7=ru(Q7),K7=Ho({},C2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P5=ru(K7),Z7=Ho({},my,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X4}),X7=ru(Z7),Y7=Ho({},G0,{propertyName:0,elapsedTime:0,pseudoElement:0}),J7=ru(Y7),eB=Ho({},C2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tB=ru(eB),nB=[9,13,27,32],Y4=Pp&&"CompositionEvent"in window,dg=null;Pp&&"documentMode"in document&&(dg=document.documentMode);var rB=Pp&&"TextEvent"in window&&!dg,wI=Pp&&(!Y4||dg&&8<dg&&11>=dg),T5=String.fromCharCode(32),I5=!1;function SI(e,t){switch(e){case"keyup":return nB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var u0=!1;function iB(e,t){switch(e){case"compositionend":return CI(t);case"keypress":return t.which!==32?null:(I5=!0,T5);case"textInput":return e=t.data,e===T5&&I5?null:e;default:return null}}function oB(e,t){if(u0)return e==="compositionend"||!Y4&&SI(e,t)?(e=bI(),K1=K4=kh=null,u0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wI&&t.locale!=="ko"?null:t.data;default:return null}}var aB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aB[e.type]:t==="textarea"}function EI(e,t,n,i){rI(i),t=b_(t,"onChange"),0<t.length&&(n=new Z4("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var mg=null,zg=null;function sB(e){BI(e,0)}function E2(e){var t=p0(e);if(ZT(t))return e}function lB(e,t){if(e==="change")return t}var kI=!1;if(Pp){var uw;if(Pp){var cw="oninput"in document;if(!cw){var M5=document.createElement("div");M5.setAttribute("oninput","return;"),cw=typeof M5.oninput=="function"}uw=cw}else uw=!1;kI=uw&&(!document.documentMode||9<document.documentMode)}function L5(){mg&&(mg.detachEvent("onpropertychange",PI),zg=mg=null)}function PI(e){if(e.propertyName==="value"&&E2(zg)){var t=[];EI(t,zg,e,H4(e)),sI(sB,t)}}function uB(e,t,n){e==="focusin"?(L5(),mg=t,zg=n,mg.attachEvent("onpropertychange",PI)):e==="focusout"&&L5()}function cB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E2(zg)}function fB(e,t){if(e==="click")return E2(t)}function pB(e,t){if(e==="input"||e==="change")return E2(t)}function hB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rc=typeof Object.is=="function"?Object.is:hB;function Ng(e,t){if(Rc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!T3.call(t,s)||!Rc(e[s],t[s]))return!1}return!0}function R5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D5(e,t){var n=R5(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R5(n)}}function TI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function II(){for(var e=window,t=d_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d_(e.document)}return t}function J4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AB(e){var t=II(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&TI(n.ownerDocument.documentElement,n)){if(i!==null&&J4(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=D5(n,l);var o=D5(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dB=Pp&&"documentMode"in document&&11>=document.documentMode,c0=null,W3=null,gg=null,K3=!1;function F5(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K3||c0==null||c0!==d_(i)||(i=c0,"selectionStart"in i&&J4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gg&&Ng(gg,i)||(gg=i,i=b_(W3,"onSelect"),0<i.length&&(t=new Z4("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=c0)))}function i1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var f0={animationend:i1("Animation","AnimationEnd"),animationiteration:i1("Animation","AnimationIteration"),animationstart:i1("Animation","AnimationStart"),transitionend:i1("Transition","TransitionEnd")},fw={},OI={};Pp&&(OI=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function k2(e){if(fw[e])return fw[e];if(!f0[e])return e;var t=f0[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in OI)return fw[e]=t[n];return e}var MI=k2("animationend"),LI=k2("animationiteration"),RI=k2("animationstart"),DI=k2("transitionend"),FI=new Map,B5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wh(e,t){FI.set(e,t),ed(t,[e])}for(var pw=0;pw<B5.length;pw++){var hw=B5[pw],mB=hw.toLowerCase(),gB=hw[0].toUpperCase()+hw.slice(1);Wh(mB,"on"+gB)}Wh(MI,"onAnimationEnd");Wh(LI,"onAnimationIteration");Wh(RI,"onAnimationStart");Wh("dblclick","onDoubleClick");Wh("focusin","onFocus");Wh("focusout","onBlur");Wh(DI,"onTransitionEnd");R0("onMouseEnter",["mouseout","mouseover"]);R0("onMouseLeave",["mouseout","mouseover"]);R0("onPointerEnter",["pointerout","pointerover"]);R0("onPointerLeave",["pointerout","pointerover"]);ed("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ed("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ed("onBeforeInput",["compositionend","keypress","textInput","paste"]);ed("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yB=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function z5(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,m7(i,t,void 0,e),e.currentTarget=null}function BI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var o=i.length-1;0<=o;o--){var x=i[o],S=x.instance,P=x.currentTarget;if(x=x.listener,S!==l&&s.isPropagationStopped())break e;z5(s,x,P),l=S}else for(o=0;o<i.length;o++){if(x=i[o],S=x.instance,P=x.currentTarget,x=x.listener,S!==l&&s.isPropagationStopped())break e;z5(s,x,P),l=S}}}if(g_)throw e=H3,g_=!1,H3=null,e}function bo(e,t){var n=t[eS];n===void 0&&(n=t[eS]=new Set);var i=e+"__bubble";n.has(i)||(zI(t,e,2,!1),n.add(i))}function Aw(e,t,n){var i=0;t&&(i|=4),zI(n,e,i,t)}var o1="_reactListening"+Math.random().toString(36).slice(2);function Ug(e){if(!e[o1]){e[o1]=!0,qT.forEach(function(n){n!=="selectionchange"&&(yB.has(n)||Aw(n,!1,e),Aw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o1]||(t[o1]=!0,Aw("selectionchange",!1,t))}}function zI(e,t,n,i){switch(xI(t)){case 1:var s=M7;break;case 4:s=L7;break;default:s=W4}n=s.bind(null,t,n,e),s=void 0,!V3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function dw(e,t,n,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var S=o.tag;if((S===3||S===4)&&(S=o.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;o=o.return}for(;x!==null;){if(o=FA(x),o===null)return;if(S=o.tag,S===5||S===6){i=l=o;continue e}x=x.parentNode}}i=i.return}sI(function(){var P=l,M=H4(n),D=[];e:{var z=FI.get(e);if(z!==void 0){var U=Z4,q=e;switch(e){case"keypress":if(Z1(n)===0)break e;case"keydown":case"keyup":U=W7;break;case"focusin":q="focus",U=lw;break;case"focusout":q="blur",U=lw;break;case"beforeblur":case"afterblur":U=lw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=E5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=F7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=X7;break;case MI:case LI:case RI:U=N7;break;case DI:U=J7;break;case"scroll":U=R7;break;case"wheel":U=tB;break;case"copy":case"cut":case"paste":U=$7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=P5}var K=(t&4)!==0,ee=!K&&e==="scroll",V=K?z!==null?z+"Capture":null:z;K=[];for(var X=P,ne;X!==null;){ne=X;var pe=ne.stateNode;if(ne.tag===5&&pe!==null&&(ne=pe,V!==null&&(pe=Rg(X,V),pe!=null&&K.push($g(X,pe,ne)))),ee)break;X=X.return}0<K.length&&(z=new U(z,q,null,n,M),D.push({event:z,listeners:K}))}}if(!(t&7)){e:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&n!==$3&&(q=n.relatedTarget||n.fromElement)&&(FA(q)||q[Tp]))break e;if((U||z)&&(z=M.window===M?M:(z=M.ownerDocument)?z.defaultView||z.parentWindow:window,U?(q=n.relatedTarget||n.toElement,U=P,q=q?FA(q):null,q!==null&&(ee=td(q),q!==ee||q.tag!==5&&q.tag!==6)&&(q=null)):(U=null,q=P),U!==q)){if(K=E5,pe="onMouseLeave",V="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(K=P5,pe="onPointerLeave",V="onPointerEnter",X="pointer"),ee=U==null?z:p0(U),ne=q==null?z:p0(q),z=new K(pe,X+"leave",U,n,M),z.target=ee,z.relatedTarget=ne,pe=null,FA(M)===P&&(K=new K(V,X+"enter",q,n,M),K.target=ne,K.relatedTarget=ee,pe=K),ee=pe,U&&q)t:{for(K=U,V=q,X=0,ne=K;ne;ne=jd(ne))X++;for(ne=0,pe=V;pe;pe=jd(pe))ne++;for(;0<X-ne;)K=jd(K),X--;for(;0<ne-X;)V=jd(V),ne--;for(;X--;){if(K===V||V!==null&&K===V.alternate)break t;K=jd(K),V=jd(V)}K=null}else K=null;U!==null&&N5(D,z,U,K,!1),q!==null&&ee!==null&&N5(D,ee,q,K,!0)}}e:{if(z=P?p0(P):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var me=lB;else if(O5(z))if(kI)me=pB;else{me=cB;var oe=uB}else(U=z.nodeName)&&U.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(me=fB);if(me&&(me=me(e,P))){EI(D,me,n,M);break e}oe&&oe(e,z,P),e==="focusout"&&(oe=z._wrapperState)&&oe.controlled&&z.type==="number"&&F3(z,"number",z.value)}switch(oe=P?p0(P):window,e){case"focusin":(O5(oe)||oe.contentEditable==="true")&&(c0=oe,W3=P,gg=null);break;case"focusout":gg=W3=c0=null;break;case"mousedown":K3=!0;break;case"contextmenu":case"mouseup":case"dragend":K3=!1,F5(D,n,M);break;case"selectionchange":if(dB)break;case"keydown":case"keyup":F5(D,n,M)}var we;if(Y4)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else u0?SI(e,n)&&(Ce="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ce="onCompositionStart");Ce&&(wI&&n.locale!=="ko"&&(u0||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&u0&&(we=bI()):(kh=M,K4="value"in kh?kh.value:kh.textContent,u0=!0)),oe=b_(P,Ce),0<oe.length&&(Ce=new k5(Ce,e,null,n,M),D.push({event:Ce,listeners:oe}),we?Ce.data=we:(we=CI(n),we!==null&&(Ce.data=we)))),(we=rB?iB(e,n):oB(e,n))&&(P=b_(P,"onBeforeInput"),0<P.length&&(M=new k5("onBeforeInput","beforeinput",null,n,M),D.push({event:M,listeners:P}),M.data=we))}BI(D,t)})}function $g(e,t,n){return{instance:e,listener:t,currentTarget:n}}function b_(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Rg(e,n),l!=null&&i.unshift($g(e,l,s)),l=Rg(e,t),l!=null&&i.push($g(e,l,s))),e=e.return}return i}function jd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N5(e,t,n,i,s){for(var l=t._reactName,o=[];n!==null&&n!==i;){var x=n,S=x.alternate,P=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&P!==null&&(x=P,s?(S=Rg(n,l),S!=null&&o.unshift($g(n,S,x))):s||(S=Rg(n,l),S!=null&&o.push($g(n,S,x)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vB=/\r\n?/g,_B=/\u0000|\uFFFD/g;function U5(e){return(typeof e=="string"?e:""+e).replace(vB,`
`).replace(_B,"")}function a1(e,t,n){if(t=U5(t),U5(e)!==t&&n)throw Error(rn(425))}function w_(){}var Z3=null,X3=null;function Y3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J3=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,$5=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof $5<"u"?function(e){return $5.resolve(null).then(e).catch(wB)}:J3;function wB(e){setTimeout(function(){throw e})}function mw(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Bg(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Bg(t)}function Dh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Q0=Math.random().toString(36).slice(2),bf="__reactFiber$"+Q0,jg="__reactProps$"+Q0,Tp="__reactContainer$"+Q0,eS="__reactEvents$"+Q0,SB="__reactListeners$"+Q0,CB="__reactHandles$"+Q0;function FA(e){var t=e[bf];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tp]||n[bf]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=j5(e);e!==null;){if(n=e[bf])return n;e=j5(e)}return t}e=n,n=e.parentNode}return null}function gy(e){return e=e[bf]||e[Tp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function p0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rn(33))}function P2(e){return e[jg]||null}var tS=[],h0=-1;function Kh(e){return{current:e}}function So(e){0>h0||(e.current=tS[h0],tS[h0]=null,h0--)}function uo(e,t){h0++,tS[h0]=e.current,e.current=t}var Hh={},zs=Kh(Hh),Il=Kh(!1),qA=Hh;function D0(e,t){var n=e.type.contextTypes;if(!n)return Hh;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ol(e){return e=e.childContextTypes,e!=null}function S_(){So(Il),So(zs)}function V5(e,t,n){if(zs.current!==Hh)throw Error(rn(168));uo(zs,t),uo(Il,n)}function NI(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(rn(108,u7(e)||"Unknown",s));return Ho({},n,i)}function C_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hh,qA=zs.current,uo(zs,e),uo(Il,Il.current),!0}function H5(e,t,n){var i=e.stateNode;if(!i)throw Error(rn(169));n?(e=NI(e,t,qA),i.__reactInternalMemoizedMergedChildContext=e,So(Il),So(zs),uo(zs,e)):So(Il),uo(Il,n)}var bp=null,T2=!1,gw=!1;function UI(e){bp===null?bp=[e]:bp.push(e)}function EB(e){T2=!0,UI(e)}function Zh(){if(!gw&&bp!==null){gw=!0;var e=0,t=Mi;try{var n=bp;for(Mi=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}bp=null,T2=!1}catch(s){throw bp!==null&&(bp=bp.slice(e+1)),fI(q4,Zh),s}finally{Mi=t,gw=!1}}return null}var A0=[],d0=0,E_=null,k_=0,Ou=[],Mu=0,GA=null,Sp=1,Cp="";function TA(e,t){A0[d0++]=k_,A0[d0++]=E_,E_=e,k_=t}function $I(e,t,n){Ou[Mu++]=Sp,Ou[Mu++]=Cp,Ou[Mu++]=GA,GA=e;var i=Sp;e=Cp;var s=32-Ic(i)-1;i&=~(1<<s),n+=1;var l=32-Ic(t)+s;if(30<l){var o=s-s%5;l=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Sp=1<<32-Ic(t)+s|n<<s|i,Cp=l+e}else Sp=1<<l|n<<s|i,Cp=e}function eC(e){e.return!==null&&(TA(e,1),$I(e,1,0))}function tC(e){for(;e===E_;)E_=A0[--d0],A0[d0]=null,k_=A0[--d0],A0[d0]=null;for(;e===GA;)GA=Ou[--Mu],Ou[Mu]=null,Cp=Ou[--Mu],Ou[Mu]=null,Sp=Ou[--Mu],Ou[Mu]=null}var eu=null,Zl=null,Oo=!1,Pc=null;function jI(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function q5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,eu=e,Zl=Dh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,eu=e,Zl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=GA!==null?{id:Sp,overflow:Cp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Du(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,eu=e,Zl=null,!0):!1;default:return!1}}function nS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rS(e){if(Oo){var t=Zl;if(t){var n=t;if(!q5(e,t)){if(nS(e))throw Error(rn(418));t=Dh(n.nextSibling);var i=eu;t&&q5(e,t)?jI(i,n):(e.flags=e.flags&-4097|2,Oo=!1,eu=e)}}else{if(nS(e))throw Error(rn(418));e.flags=e.flags&-4097|2,Oo=!1,eu=e}}}function G5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;eu=e}function s1(e){if(e!==eu)return!1;if(!Oo)return G5(e),Oo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y3(e.type,e.memoizedProps)),t&&(t=Zl)){if(nS(e))throw VI(),Error(rn(418));for(;t;)jI(e,t),t=Dh(t.nextSibling)}if(G5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zl=Dh(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zl=null}}else Zl=eu?Dh(e.stateNode.nextSibling):null;return!0}function VI(){for(var e=Zl;e;)e=Dh(e.nextSibling)}function F0(){Zl=eu=null,Oo=!1}function nC(e){Pc===null?Pc=[e]:Pc.push(e)}var kB=Mp.ReactCurrentBatchConfig;function Ec(e,t){if(e&&e.defaultProps){t=Ho({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var P_=Kh(null),T_=null,m0=null,rC=null;function iC(){rC=m0=T_=null}function oC(e){var t=P_.current;So(P_),e._currentValue=t}function iS(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function k0(e,t){T_=e,rC=m0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tl=!0),e.firstContext=null)}function Nu(e){var t=e._currentValue;if(rC!==e)if(e={context:e,memoizedValue:t,next:null},m0===null){if(T_===null)throw Error(rn(308));m0=e,T_.dependencies={lanes:0,firstContext:e}}else m0=m0.next=e;return t}var BA=null;function aC(e){BA===null?BA=[e]:BA.push(e)}function HI(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,aC(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ip(e,i)}function Ip(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xh=!1;function sC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fh(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,hi&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ip(e,n)}return s=i.interleaved,s===null?(t.next=t,aC(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ip(e,n)}function X1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,G4(e,n)}}function Q5(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function I_(e,t,n,i){var s=e.updateQueue;xh=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,P=S.next;S.next=null,o===null?l=P:o.next=P,o=S;var M=e.alternate;M!==null&&(M=M.updateQueue,x=M.lastBaseUpdate,x!==o&&(x===null?M.firstBaseUpdate=P:x.next=P,M.lastBaseUpdate=S))}if(l!==null){var D=s.baseState;o=0,M=P=S=null,x=l;do{var z=x.lane,U=x.eventTime;if((i&z)===z){M!==null&&(M=M.next={eventTime:U,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var q=e,K=x;switch(z=t,U=n,K.tag){case 1:if(q=K.payload,typeof q=="function"){D=q.call(U,D,z);break e}D=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,z=typeof q=="function"?q.call(U,D,z):q,z==null)break e;D=Ho({},D,z);break e;case 2:xh=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,z=s.effects,z===null?s.effects=[x]:z.push(x))}else U={eventTime:U,lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},M===null?(P=M=U,S=D):M=M.next=U,o|=z;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;z=x,x=z.next,z.next=null,s.lastBaseUpdate=z,s.shared.pending=null}}while(1);if(M===null&&(S=D),s.baseState=S,s.firstBaseUpdate=P,s.lastBaseUpdate=M,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);WA|=o,e.lanes=o,e.memoizedState=D}}function W5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(rn(191,s));s.call(i)}}}var GI=new HT.Component().refs;function oS(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ho({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var I2={isMounted:function(e){return(e=e._reactInternals)?td(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=nl(),s=zh(e),l=kp(i,s);l.payload=t,n!=null&&(l.callback=n),t=Fh(e,l,s),t!==null&&(Oc(t,e,s,i),X1(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=nl(),s=zh(e),l=kp(i,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Fh(e,l,s),t!==null&&(Oc(t,e,s,i),X1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),i=zh(e),s=kp(n,i);s.tag=2,t!=null&&(s.callback=t),t=Fh(e,s,i),t!==null&&(Oc(t,e,i,n),X1(t,e,i))}};function K5(e,t,n,i,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,o):t.prototype&&t.prototype.isPureReactComponent?!Ng(n,i)||!Ng(s,l):!0}function QI(e,t,n){var i=!1,s=Hh,l=t.contextType;return typeof l=="object"&&l!==null?l=Nu(l):(s=Ol(t)?qA:zs.current,i=t.contextTypes,l=(i=i!=null)?D0(e,s):Hh),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=I2,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Z5(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&I2.enqueueReplaceState(t,t.state,null)}function aS(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=GI,sC(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Nu(l):(l=Ol(t)?qA:zs.current,s.context=D0(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(oS(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&I2.enqueueReplaceState(s,s.state,null),I_(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rn(309));var i=n.stateNode}if(!i)throw Error(rn(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var x=s.refs;x===GI&&(x=s.refs={}),o===null?delete x[l]:x[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(rn(284));if(!n._owner)throw Error(rn(290,e))}return e}function l1(e,t){throw e=Object.prototype.toString.call(t),Error(rn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X5(e){var t=e._init;return t(e._payload)}function WI(e){function t(V,X){if(e){var ne=V.deletions;ne===null?(V.deletions=[X],V.flags|=16):ne.push(X)}}function n(V,X){if(!e)return null;for(;X!==null;)t(V,X),X=X.sibling;return null}function i(V,X){for(V=new Map;X!==null;)X.key!==null?V.set(X.key,X):V.set(X.index,X),X=X.sibling;return V}function s(V,X){return V=Nh(V,X),V.index=0,V.sibling=null,V}function l(V,X,ne){return V.index=ne,e?(ne=V.alternate,ne!==null?(ne=ne.index,ne<X?(V.flags|=2,X):ne):(V.flags|=2,X)):(V.flags|=1048576,X)}function o(V){return e&&V.alternate===null&&(V.flags|=2),V}function x(V,X,ne,pe){return X===null||X.tag!==6?(X=Sw(ne,V.mode,pe),X.return=V,X):(X=s(X,ne),X.return=V,X)}function S(V,X,ne,pe){var me=ne.type;return me===l0?M(V,X,ne.props.children,pe,ne.key):X!==null&&(X.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_h&&X5(me)===X.type)?(pe=s(X,ne.props),pe.ref=Vm(V,X,ne),pe.return=V,pe):(pe=r_(ne.type,ne.key,ne.props,null,V.mode,pe),pe.ref=Vm(V,X,ne),pe.return=V,pe)}function P(V,X,ne,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=Cw(ne,V.mode,pe),X.return=V,X):(X=s(X,ne.children||[]),X.return=V,X)}function M(V,X,ne,pe,me){return X===null||X.tag!==7?(X=$A(ne,V.mode,pe,me),X.return=V,X):(X=s(X,ne),X.return=V,X)}function D(V,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Sw(""+X,V.mode,ne),X.return=V,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Xv:return ne=r_(X.type,X.key,X.props,null,V.mode,ne),ne.ref=Vm(V,null,X),ne.return=V,ne;case s0:return X=Cw(X,V.mode,ne),X.return=V,X;case _h:var pe=X._init;return D(V,pe(X._payload),ne)}if(sg(X)||zm(X))return X=$A(X,V.mode,ne,null),X.return=V,X;l1(V,X)}return null}function z(V,X,ne,pe){var me=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return me!==null?null:x(V,X,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Xv:return ne.key===me?S(V,X,ne,pe):null;case s0:return ne.key===me?P(V,X,ne,pe):null;case _h:return me=ne._init,z(V,X,me(ne._payload),pe)}if(sg(ne)||zm(ne))return me!==null?null:M(V,X,ne,pe,null);l1(V,ne)}return null}function U(V,X,ne,pe,me){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return V=V.get(ne)||null,x(X,V,""+pe,me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case Xv:return V=V.get(pe.key===null?ne:pe.key)||null,S(X,V,pe,me);case s0:return V=V.get(pe.key===null?ne:pe.key)||null,P(X,V,pe,me);case _h:var oe=pe._init;return U(V,X,ne,oe(pe._payload),me)}if(sg(pe)||zm(pe))return V=V.get(ne)||null,M(X,V,pe,me,null);l1(X,pe)}return null}function q(V,X,ne,pe){for(var me=null,oe=null,we=X,Ce=X=0,je=null;we!==null&&Ce<ne.length;Ce++){we.index>Ce?(je=we,we=null):je=we.sibling;var tt=z(V,we,ne[Ce],pe);if(tt===null){we===null&&(we=je);break}e&&we&&tt.alternate===null&&t(V,we),X=l(tt,X,Ce),oe===null?me=tt:oe.sibling=tt,oe=tt,we=je}if(Ce===ne.length)return n(V,we),Oo&&TA(V,Ce),me;if(we===null){for(;Ce<ne.length;Ce++)we=D(V,ne[Ce],pe),we!==null&&(X=l(we,X,Ce),oe===null?me=we:oe.sibling=we,oe=we);return Oo&&TA(V,Ce),me}for(we=i(V,we);Ce<ne.length;Ce++)je=U(we,V,Ce,ne[Ce],pe),je!==null&&(e&&je.alternate!==null&&we.delete(je.key===null?Ce:je.key),X=l(je,X,Ce),oe===null?me=je:oe.sibling=je,oe=je);return e&&we.forEach(function(qe){return t(V,qe)}),Oo&&TA(V,Ce),me}function K(V,X,ne,pe){var me=zm(ne);if(typeof me!="function")throw Error(rn(150));if(ne=me.call(ne),ne==null)throw Error(rn(151));for(var oe=me=null,we=X,Ce=X=0,je=null,tt=ne.next();we!==null&&!tt.done;Ce++,tt=ne.next()){we.index>Ce?(je=we,we=null):je=we.sibling;var qe=z(V,we,tt.value,pe);if(qe===null){we===null&&(we=je);break}e&&we&&qe.alternate===null&&t(V,we),X=l(qe,X,Ce),oe===null?me=qe:oe.sibling=qe,oe=qe,we=je}if(tt.done)return n(V,we),Oo&&TA(V,Ce),me;if(we===null){for(;!tt.done;Ce++,tt=ne.next())tt=D(V,tt.value,pe),tt!==null&&(X=l(tt,X,Ce),oe===null?me=tt:oe.sibling=tt,oe=tt);return Oo&&TA(V,Ce),me}for(we=i(V,we);!tt.done;Ce++,tt=ne.next())tt=U(we,V,Ce,tt.value,pe),tt!==null&&(e&&tt.alternate!==null&&we.delete(tt.key===null?Ce:tt.key),X=l(tt,X,Ce),oe===null?me=tt:oe.sibling=tt,oe=tt);return e&&we.forEach(function(rt){return t(V,rt)}),Oo&&TA(V,Ce),me}function ee(V,X,ne,pe){if(typeof ne=="object"&&ne!==null&&ne.type===l0&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Xv:e:{for(var me=ne.key,oe=X;oe!==null;){if(oe.key===me){if(me=ne.type,me===l0){if(oe.tag===7){n(V,oe.sibling),X=s(oe,ne.props.children),X.return=V,V=X;break e}}else if(oe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_h&&X5(me)===oe.type){n(V,oe.sibling),X=s(oe,ne.props),X.ref=Vm(V,oe,ne),X.return=V,V=X;break e}n(V,oe);break}else t(V,oe);oe=oe.sibling}ne.type===l0?(X=$A(ne.props.children,V.mode,pe,ne.key),X.return=V,V=X):(pe=r_(ne.type,ne.key,ne.props,null,V.mode,pe),pe.ref=Vm(V,X,ne),pe.return=V,V=pe)}return o(V);case s0:e:{for(oe=ne.key;X!==null;){if(X.key===oe)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){n(V,X.sibling),X=s(X,ne.children||[]),X.return=V,V=X;break e}else{n(V,X);break}else t(V,X);X=X.sibling}X=Cw(ne,V.mode,pe),X.return=V,V=X}return o(V);case _h:return oe=ne._init,ee(V,X,oe(ne._payload),pe)}if(sg(ne))return q(V,X,ne,pe);if(zm(ne))return K(V,X,ne,pe);l1(V,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(n(V,X.sibling),X=s(X,ne),X.return=V,V=X):(n(V,X),X=Sw(ne,V.mode,pe),X.return=V,V=X),o(V)):n(V,X)}return ee}var B0=WI(!0),KI=WI(!1),yy={},Ef=Kh(yy),Vg=Kh(yy),Hg=Kh(yy);function zA(e){if(e===yy)throw Error(rn(174));return e}function lC(e,t){switch(uo(Hg,t),uo(Vg,e),uo(Ef,yy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=z3(t,e)}So(Ef),uo(Ef,t)}function z0(){So(Ef),So(Vg),So(Hg)}function ZI(e){zA(Hg.current);var t=zA(Ef.current),n=z3(t,e.type);t!==n&&(uo(Vg,e),uo(Ef,n))}function uC(e){Vg.current===e&&(So(Ef),So(Vg))}var jo=Kh(0);function O_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yw=[];function cC(){for(var e=0;e<yw.length;e++)yw[e]._workInProgressVersionPrimary=null;yw.length=0}var Y1=Mp.ReactCurrentDispatcher,vw=Mp.ReactCurrentBatchConfig,QA=0,Vo=null,Fa=null,es=null,M_=!1,yg=!1,qg=0,PB=0;function Rs(){throw Error(rn(321))}function fC(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rc(e[n],t[n]))return!1;return!0}function pC(e,t,n,i,s,l){if(QA=l,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y1.current=e===null||e.memoizedState===null?MB:LB,e=n(i,s),yg){l=0;do{if(yg=!1,qg=0,25<=l)throw Error(rn(301));l+=1,es=Fa=null,t.updateQueue=null,Y1.current=RB,e=n(i,s)}while(yg)}if(Y1.current=L_,t=Fa!==null&&Fa.next!==null,QA=0,es=Fa=Vo=null,M_=!1,t)throw Error(rn(300));return e}function hC(){var e=qg!==0;return qg=0,e}function _f(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Vo.memoizedState=es=e:es=es.next=e,es}function Uu(){if(Fa===null){var e=Vo.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=es===null?Vo.memoizedState:es.next;if(t!==null)es=t,Fa=e;else{if(e===null)throw Error(rn(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},es===null?Vo.memoizedState=es=e:es=es.next=e}return es}function Gg(e,t){return typeof t=="function"?t(e):t}function _w(e){var t=Uu(),n=t.queue;if(n===null)throw Error(rn(311));n.lastRenderedReducer=e;var i=Fa,s=i.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}i.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,i=i.baseState;var x=o=null,S=null,P=l;do{var M=P.lane;if((QA&M)===M)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var D={lane:M,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(x=S=D,o=i):S=S.next=D,Vo.lanes|=M,WA|=M}P=P.next}while(P!==null&&P!==l);S===null?o=i:S.next=x,Rc(i,t.memoizedState)||(Tl=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Vo.lanes|=l,WA|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xw(e){var t=Uu(),n=t.queue;if(n===null)throw Error(rn(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);Rc(l,t.memoizedState)||(Tl=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function XI(){}function YI(e,t){var n=Vo,i=Uu(),s=t(),l=!Rc(i.memoizedState,s);if(l&&(i.memoizedState=s,Tl=!0),i=i.queue,AC(tO.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||es!==null&&es.memoizedState.tag&1){if(n.flags|=2048,Qg(9,eO.bind(null,n,i,s,t),void 0,null),ts===null)throw Error(rn(349));QA&30||JI(n,t,s)}return s}function JI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eO(e,t,n,i){t.value=n,t.getSnapshot=i,nO(t)&&rO(e)}function tO(e,t,n){return n(function(){nO(t)&&rO(e)})}function nO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rc(e,n)}catch{return!0}}function rO(e){var t=Ip(e,1);t!==null&&Oc(t,e,1,-1)}function Y5(e){var t=_f();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:e},t.queue=e,e=e.dispatch=OB.bind(null,Vo,e),[t.memoizedState,e]}function Qg(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Vo.updateQueue,t===null?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function iO(){return Uu().memoizedState}function J1(e,t,n,i){var s=_f();Vo.flags|=e,s.memoizedState=Qg(1|t,n,void 0,i===void 0?null:i)}function O2(e,t,n,i){var s=Uu();i=i===void 0?null:i;var l=void 0;if(Fa!==null){var o=Fa.memoizedState;if(l=o.destroy,i!==null&&fC(i,o.deps)){s.memoizedState=Qg(t,n,l,i);return}}Vo.flags|=e,s.memoizedState=Qg(1|t,n,l,i)}function J5(e,t){return J1(8390656,8,e,t)}function AC(e,t){return O2(2048,8,e,t)}function oO(e,t){return O2(4,2,e,t)}function aO(e,t){return O2(4,4,e,t)}function sO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lO(e,t,n){return n=n!=null?n.concat([e]):null,O2(4,4,sO.bind(null,t,e),n)}function dC(){}function uO(e,t){var n=Uu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&fC(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function cO(e,t){var n=Uu();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&fC(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fO(e,t,n){return QA&21?(Rc(n,t)||(n=AI(),Vo.lanes|=n,WA|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tl=!0),e.memoizedState=n)}function TB(e,t){var n=Mi;Mi=n!==0&&4>n?n:4,e(!0);var i=vw.transition;vw.transition={};try{e(!1),t()}finally{Mi=n,vw.transition=i}}function pO(){return Uu().memoizedState}function IB(e,t,n){var i=zh(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},hO(e))AO(t,n);else if(n=HI(e,t,n,i),n!==null){var s=nl();Oc(n,e,i,s),dO(n,t,i)}}function OB(e,t,n){var i=zh(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(hO(e))AO(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,x=l(o,n);if(s.hasEagerState=!0,s.eagerState=x,Rc(x,o)){var S=t.interleaved;S===null?(s.next=s,aC(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}n=HI(e,t,s,i),n!==null&&(s=nl(),Oc(n,e,i,s),dO(n,t,i))}}function hO(e){var t=e.alternate;return e===Vo||t!==null&&t===Vo}function AO(e,t){yg=M_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dO(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,G4(e,n)}}var L_={readContext:Nu,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},MB={readContext:Nu,useCallback:function(e,t){return _f().memoizedState=[e,t===void 0?null:t],e},useContext:Nu,useEffect:J5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,J1(4194308,4,sO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return J1(4194308,4,e,t)},useInsertionEffect:function(e,t){return J1(4,2,e,t)},useMemo:function(e,t){var n=_f();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=_f();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=IB.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){var t=_f();return e={current:e},t.memoizedState=e},useState:Y5,useDebugValue:dC,useDeferredValue:function(e){return _f().memoizedState=e},useTransition:function(){var e=Y5(!1),t=e[0];return e=TB.bind(null,e[1]),_f().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Vo,s=_f();if(Oo){if(n===void 0)throw Error(rn(407));n=n()}else{if(n=t(),ts===null)throw Error(rn(349));QA&30||JI(i,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,J5(tO.bind(null,i,l,e),[e]),i.flags|=2048,Qg(9,eO.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=_f(),t=ts.identifierPrefix;if(Oo){var n=Cp,i=Sp;n=(i&~(1<<32-Ic(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=qg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LB={readContext:Nu,useCallback:uO,useContext:Nu,useEffect:AC,useImperativeHandle:lO,useInsertionEffect:oO,useLayoutEffect:aO,useMemo:cO,useReducer:_w,useRef:iO,useState:function(){return _w(Gg)},useDebugValue:dC,useDeferredValue:function(e){var t=Uu();return fO(t,Fa.memoizedState,e)},useTransition:function(){var e=_w(Gg)[0],t=Uu().memoizedState;return[e,t]},useMutableSource:XI,useSyncExternalStore:YI,useId:pO,unstable_isNewReconciler:!1},RB={readContext:Nu,useCallback:uO,useContext:Nu,useEffect:AC,useImperativeHandle:lO,useInsertionEffect:oO,useLayoutEffect:aO,useMemo:cO,useReducer:xw,useRef:iO,useState:function(){return xw(Gg)},useDebugValue:dC,useDeferredValue:function(e){var t=Uu();return Fa===null?t.memoizedState=e:fO(t,Fa.memoizedState,e)},useTransition:function(){var e=xw(Gg)[0],t=Uu().memoizedState;return[e,t]},useMutableSource:XI,useSyncExternalStore:YI,useId:pO,unstable_isNewReconciler:!1};function N0(e,t){try{var n="",i=t;do n+=l7(i),i=i.return;while(i);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function bw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DB=typeof WeakMap=="function"?WeakMap:Map;function mO(e,t,n){n=kp(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){D_||(D_=!0,gS=i),sS(e,t)},n}function gO(e,t,n){n=kp(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){sS(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){sS(e,t),typeof i!="function"&&(Bh===null?Bh=new Set([this]):Bh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ek(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new DB;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=KB.bind(null,e,t,n),t.then(e,e))}function tk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nk(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kp(-1,1),t.tag=2,Fh(n,t,1))),n.lanes|=1),e)}var FB=Mp.ReactCurrentOwner,Tl=!1;function tl(e,t,n,i){t.child=e===null?KI(t,null,n,i):B0(t,e.child,n,i)}function rk(e,t,n,i,s){n=n.render;var l=t.ref;return k0(t,s),i=pC(e,t,n,i,l,s),n=hC(),e!==null&&!Tl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Op(e,t,s)):(Oo&&n&&eC(t),t.flags|=1,tl(e,t,i,s),t.child)}function ik(e,t,n,i,s){if(e===null){var l=n.type;return typeof l=="function"&&!wC(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,yO(e,t,l,i,s)):(e=r_(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ng,n(o,i)&&e.ref===t.ref)return Op(e,t,s)}return t.flags|=1,e=Nh(l,i),e.ref=t.ref,e.return=t,t.child=e}function yO(e,t,n,i,s){if(e!==null){var l=e.memoizedProps;if(Ng(l,i)&&e.ref===t.ref)if(Tl=!1,t.pendingProps=i=l,(e.lanes&s)!==0)e.flags&131072&&(Tl=!0);else return t.lanes=e.lanes,Op(e,t,s)}return lS(e,t,n,i,s)}function vO(e,t,n){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},uo(y0,Kl),Kl|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,uo(y0,Kl),Kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,uo(y0,Kl),Kl|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,uo(y0,Kl),Kl|=i;return tl(e,t,s,n),t.child}function _O(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lS(e,t,n,i,s){var l=Ol(n)?qA:zs.current;return l=D0(t,l),k0(t,s),n=pC(e,t,n,i,l,s),i=hC(),e!==null&&!Tl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Op(e,t,s)):(Oo&&i&&eC(t),t.flags|=1,tl(e,t,n,s),t.child)}function ok(e,t,n,i,s){if(Ol(n)){var l=!0;C_(t)}else l=!1;if(k0(t,s),t.stateNode===null)e_(e,t),QI(t,n,i),aS(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,x=t.memoizedProps;o.props=x;var S=o.context,P=n.contextType;typeof P=="object"&&P!==null?P=Nu(P):(P=Ol(n)?qA:zs.current,P=D0(t,P));var M=n.getDerivedStateFromProps,D=typeof M=="function"||typeof o.getSnapshotBeforeUpdate=="function";D||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==i||S!==P)&&Z5(t,o,i,P),xh=!1;var z=t.memoizedState;o.state=z,I_(t,i,o,s),S=t.memoizedState,x!==i||z!==S||Il.current||xh?(typeof M=="function"&&(oS(t,n,M,i),S=t.memoizedState),(x=xh||K5(t,n,x,i,z,S,P))?(D||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),o.props=i,o.state=S,o.context=P,i=x):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,qI(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:Ec(t.type,x),o.props=P,D=t.pendingProps,z=o.context,S=n.contextType,typeof S=="object"&&S!==null?S=Nu(S):(S=Ol(n)?qA:zs.current,S=D0(t,S));var U=n.getDerivedStateFromProps;(M=typeof U=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==D||z!==S)&&Z5(t,o,i,S),xh=!1,z=t.memoizedState,o.state=z,I_(t,i,o,s);var q=t.memoizedState;x!==D||z!==q||Il.current||xh?(typeof U=="function"&&(oS(t,n,U,i),q=t.memoizedState),(P=xh||K5(t,n,P,i,z,q,S)||!1)?(M||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,q,S),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,q,S)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),o.props=i,o.state=q,o.context=S,i=P):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),i=!1)}return uS(e,t,n,i,l,s)}function uS(e,t,n,i,s,l){_O(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&H5(t,n,!1),Op(e,t,l);i=t.stateNode,FB.current=t;var x=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=B0(t,e.child,null,l),t.child=B0(t,null,x,l)):tl(e,t,x,l),t.memoizedState=i.state,s&&H5(t,n,!0),t.child}function xO(e){var t=e.stateNode;t.pendingContext?V5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&V5(e,t.context,!1),lC(e,t.containerInfo)}function ak(e,t,n,i,s){return F0(),nC(s),t.flags|=256,tl(e,t,n,i),t.child}var cS={dehydrated:null,treeContext:null,retryLane:0};function fS(e){return{baseLanes:e,cachePool:null,transitions:null}}function bO(e,t,n){var i=t.pendingProps,s=jo.current,l=!1,o=(t.flags&128)!==0,x;if((x=o)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),uo(jo,s&1),e===null)return rS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,l?(i=t.mode,l=t.child,o={mode:"hidden",children:o},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=R2(o,i,0,null),e=$A(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=fS(n),t.memoizedState=cS,e):mC(t,o));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return BB(e,t,o,i,x,s,n);if(l){l=i.fallback,o=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Nh(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?l=Nh(x,l):(l=$A(l,o,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,o=e.child.memoizedState,o=o===null?fS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=cS,i}return l=e.child,e=l.sibling,i=Nh(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function mC(e,t){return t=R2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function u1(e,t,n,i){return i!==null&&nC(i),B0(t,e.child,null,n),e=mC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BB(e,t,n,i,s,l,o){if(n)return t.flags&256?(t.flags&=-257,i=bw(Error(rn(422))),u1(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=R2({mode:"visible",children:i.children},s,0,null),l=$A(l,s,o,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&B0(t,e.child,null,o),t.child.memoizedState=fS(o),t.memoizedState=cS,l);if(!(t.mode&1))return u1(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,l=Error(rn(419)),i=bw(l,i,void 0),u1(e,t,o,i)}if(x=(o&e.childLanes)!==0,Tl||x){if(i=ts,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ip(e,s),Oc(i,e,s,-1))}return bC(),i=bw(Error(rn(421))),u1(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ZB.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Zl=Dh(s.nextSibling),eu=t,Oo=!0,Pc=null,e!==null&&(Ou[Mu++]=Sp,Ou[Mu++]=Cp,Ou[Mu++]=GA,Sp=e.id,Cp=e.overflow,GA=t),t=mC(t,i.children),t.flags|=4096,t)}function sk(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),iS(e.return,t,n)}function ww(e,t,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=s)}function wO(e,t,n){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(tl(e,t,i.children,n),i=jo.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sk(e,n,t);else if(e.tag===19)sk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(uo(jo,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&O_(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ww(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&O_(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ww(t,!0,n,null,l);break;case"together":ww(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function e_(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Op(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),WA|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rn(153));if(t.child!==null){for(e=t.child,n=Nh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zB(e,t,n){switch(t.tag){case 3:xO(t),F0();break;case 5:ZI(t);break;case 1:Ol(t.type)&&C_(t);break;case 4:lC(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;uo(P_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(uo(jo,jo.current&1),t.flags|=128,null):n&t.child.childLanes?bO(e,t,n):(uo(jo,jo.current&1),e=Op(e,t,n),e!==null?e.sibling:null);uo(jo,jo.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return wO(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),uo(jo,jo.current),i)break;return null;case 22:case 23:return t.lanes=0,vO(e,t,n)}return Op(e,t,n)}var SO,pS,CO,EO;SO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pS=function(){};CO=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,zA(Ef.current);var l=null;switch(n){case"input":s=R3(e,s),i=R3(e,i),l=[];break;case"select":s=Ho({},s,{value:void 0}),i=Ho({},i,{value:void 0}),l=[];break;case"textarea":s=B3(e,s),i=B3(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=w_)}N3(n,i);var o;n=null;for(P in s)if(!i.hasOwnProperty(P)&&s.hasOwnProperty(P)&&s[P]!=null)if(P==="style"){var x=s[P];for(o in x)x.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(Mg.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in i){var S=i[P];if(x=s!=null?s[P]:void 0,i.hasOwnProperty(P)&&S!==x&&(S!=null||x!=null))if(P==="style")if(x){for(o in x)!x.hasOwnProperty(o)||S&&S.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in S)S.hasOwnProperty(o)&&x[o]!==S[o]&&(n||(n={}),n[o]=S[o])}else n||(l||(l=[]),l.push(P,n)),n=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(l=l||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(l=l||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(Mg.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&bo("scroll",e),l||x===S||(l=[])):(l=l||[]).push(P,S))}n&&(l=l||[]).push("style",n);var P=l;(t.updateQueue=P)&&(t.flags|=4)}};EO=function(e,t,n,i){n!==i&&(t.flags|=4)};function Hm(e,t){if(!Oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function NB(e,t,n){var i=t.pendingProps;switch(tC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(t),null;case 1:return Ol(t.type)&&S_(),Ds(t),null;case 3:return i=t.stateNode,z0(),So(Il),So(zs),cC(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(s1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pc!==null&&(_S(Pc),Pc=null))),pS(e,t),Ds(t),null;case 5:uC(t);var s=zA(Hg.current);if(n=t.type,e!==null&&t.stateNode!=null)CO(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(rn(166));return Ds(t),null}if(e=zA(Ef.current),s1(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[bf]=t,i[jg]=l,e=(t.mode&1)!==0,n){case"dialog":bo("cancel",i),bo("close",i);break;case"iframe":case"object":case"embed":bo("load",i);break;case"video":case"audio":for(s=0;s<ug.length;s++)bo(ug[s],i);break;case"source":bo("error",i);break;case"img":case"image":case"link":bo("error",i),bo("load",i);break;case"details":bo("toggle",i);break;case"input":m5(i,l),bo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},bo("invalid",i);break;case"textarea":y5(i,l),bo("invalid",i)}N3(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var x=l[o];o==="children"?typeof x=="string"?i.textContent!==x&&(l.suppressHydrationWarning!==!0&&a1(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(l.suppressHydrationWarning!==!0&&a1(i.textContent,x,e),s=["children",""+x]):Mg.hasOwnProperty(o)&&x!=null&&o==="onScroll"&&bo("scroll",i)}switch(n){case"input":Yv(i),g5(i,l,!0);break;case"textarea":Yv(i),v5(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=w_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[bf]=t,e[jg]=i,SO(e,t,!1,!1),t.stateNode=e;e:{switch(o=U3(n,i),n){case"dialog":bo("cancel",e),bo("close",e),s=i;break;case"iframe":case"object":case"embed":bo("load",e),s=i;break;case"video":case"audio":for(s=0;s<ug.length;s++)bo(ug[s],e);s=i;break;case"source":bo("error",e),s=i;break;case"img":case"image":case"link":bo("error",e),bo("load",e),s=i;break;case"details":bo("toggle",e),s=i;break;case"input":m5(e,i),s=R3(e,i),bo("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ho({},i,{value:void 0}),bo("invalid",e);break;case"textarea":y5(e,i),s=B3(e,i),bo("invalid",e);break;default:s=i}N3(n,s),x=s;for(l in x)if(x.hasOwnProperty(l)){var S=x[l];l==="style"?nI(e,S):l==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&eI(e,S)):l==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Lg(e,S):typeof S=="number"&&Lg(e,""+S):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Mg.hasOwnProperty(l)?S!=null&&l==="onScroll"&&bo("scroll",e):S!=null&&U4(e,l,S,o))}switch(n){case"input":Yv(e),g5(e,i,!1);break;case"textarea":Yv(e),v5(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Vh(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?w0(e,!!i.multiple,l,!1):i.defaultValue!=null&&w0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=w_)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ds(t),null;case 6:if(e&&t.stateNode!=null)EO(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(rn(166));if(n=zA(Hg.current),zA(Ef.current),s1(t)){if(i=t.stateNode,n=t.memoizedProps,i[bf]=t,(l=i.nodeValue!==n)&&(e=eu,e!==null))switch(e.tag){case 3:a1(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a1(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[bf]=t,t.stateNode=i}return Ds(t),null;case 13:if(So(jo),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oo&&Zl!==null&&t.mode&1&&!(t.flags&128))VI(),F0(),t.flags|=98560,l=!1;else if(l=s1(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(rn(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(rn(317));l[bf]=t}else F0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ds(t),l=!1}else Pc!==null&&(_S(Pc),Pc=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||jo.current&1?Ba===0&&(Ba=3):bC())),t.updateQueue!==null&&(t.flags|=4),Ds(t),null);case 4:return z0(),pS(e,t),e===null&&Ug(t.stateNode.containerInfo),Ds(t),null;case 10:return oC(t.type._context),Ds(t),null;case 17:return Ol(t.type)&&S_(),Ds(t),null;case 19:if(So(jo),l=t.memoizedState,l===null)return Ds(t),null;if(i=(t.flags&128)!==0,o=l.rendering,o===null)if(i)Hm(l,!1);else{if(Ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=O_(e),o!==null){for(t.flags|=128,Hm(l,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(jo,jo.current&1|2),t.child}e=e.sibling}l.tail!==null&&va()>U0&&(t.flags|=128,i=!0,Hm(l,!1),t.lanes=4194304)}else{if(!i)if(e=O_(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hm(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Oo)return Ds(t),null}else 2*va()-l.renderingStartTime>U0&&n!==1073741824&&(t.flags|=128,i=!0,Hm(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=va(),t.sibling=null,n=jo.current,uo(jo,i?n&1|2:n&1),t):(Ds(t),null);case 22:case 23:return xC(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Kl&1073741824&&(Ds(t),t.subtreeFlags&6&&(t.flags|=8192)):Ds(t),null;case 24:return null;case 25:return null}throw Error(rn(156,t.tag))}function UB(e,t){switch(tC(t),t.tag){case 1:return Ol(t.type)&&S_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return z0(),So(Il),So(zs),cC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uC(t),null;case 13:if(So(jo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rn(340));F0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return So(jo),null;case 4:return z0(),null;case 10:return oC(t.type._context),null;case 22:case 23:return xC(),null;case 24:return null;default:return null}}var c1=!1,Fs=!1,$B=typeof WeakSet=="function"?WeakSet:Set,In=null;function g0(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){oa(e,t,i)}else n.current=null}function hS(e,t,n){try{n()}catch(i){oa(e,t,i)}}var lk=!1;function jB(e,t){if(Z3=__,e=II(),J4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,x=-1,S=-1,P=0,M=0,D=e,z=null;t:for(;;){for(var U;D!==n||s!==0&&D.nodeType!==3||(x=o+s),D!==l||i!==0&&D.nodeType!==3||(S=o+i),D.nodeType===3&&(o+=D.nodeValue.length),(U=D.firstChild)!==null;)z=D,D=U;for(;;){if(D===e)break t;if(z===n&&++P===s&&(x=o),z===l&&++M===i&&(S=o),(U=D.nextSibling)!==null)break;D=z,z=D.parentNode}D=U}n=x===-1||S===-1?null:{start:x,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(X3={focusedElem:e,selectionRange:n},__=!1,In=t;In!==null;)if(t=In,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,In=e;else for(;In!==null;){t=In;try{var q=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var K=q.memoizedProps,ee=q.memoizedState,V=t.stateNode,X=V.getSnapshotBeforeUpdate(t.elementType===t.type?K:Ec(t.type,K),ee);V.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=t.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rn(163))}}catch(pe){oa(t,t.return,pe)}if(e=t.sibling,e!==null){e.return=t.return,In=e;break}In=t.return}return q=lk,lk=!1,q}function vg(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&hS(t,n,l)}s=s.next}while(s!==i)}}function M2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function AS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kO(e){var t=e.alternate;t!==null&&(e.alternate=null,kO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bf],delete t[jg],delete t[eS],delete t[SB],delete t[CB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PO(e){return e.tag===5||e.tag===3||e.tag===4}function uk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dS(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=w_));else if(i!==4&&(e=e.child,e!==null))for(dS(e,t,n),e=e.sibling;e!==null;)dS(e,t,n),e=e.sibling}function mS(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(mS(e,t,n),e=e.sibling;e!==null;)mS(e,t,n),e=e.sibling}var ys=null,kc=!1;function gh(e,t,n){for(n=n.child;n!==null;)TO(e,t,n),n=n.sibling}function TO(e,t,n){if(Cf&&typeof Cf.onCommitFiberUnmount=="function")try{Cf.onCommitFiberUnmount(S2,n)}catch{}switch(n.tag){case 5:Fs||g0(n,t);case 6:var i=ys,s=kc;ys=null,gh(e,t,n),ys=i,kc=s,ys!==null&&(kc?(e=ys,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ys.removeChild(n.stateNode));break;case 18:ys!==null&&(kc?(e=ys,n=n.stateNode,e.nodeType===8?mw(e.parentNode,n):e.nodeType===1&&mw(e,n),Bg(e)):mw(ys,n.stateNode));break;case 4:i=ys,s=kc,ys=n.stateNode.containerInfo,kc=!0,gh(e,t,n),ys=i,kc=s;break;case 0:case 11:case 14:case 15:if(!Fs&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&hS(n,t,o),s=s.next}while(s!==i)}gh(e,t,n);break;case 1:if(!Fs&&(g0(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){oa(n,t,x)}gh(e,t,n);break;case 21:gh(e,t,n);break;case 22:n.mode&1?(Fs=(i=Fs)||n.memoizedState!==null,gh(e,t,n),Fs=i):gh(e,t,n);break;default:gh(e,t,n)}}function ck(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $B),t.forEach(function(i){var s=XB.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function bc(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var l=e,o=t,x=o;e:for(;x!==null;){switch(x.tag){case 5:ys=x.stateNode,kc=!1;break e;case 3:ys=x.stateNode.containerInfo,kc=!0;break e;case 4:ys=x.stateNode.containerInfo,kc=!0;break e}x=x.return}if(ys===null)throw Error(rn(160));TO(l,o,s),ys=null,kc=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(P){oa(s,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IO(t,e),t=t.sibling}function IO(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bc(t,e),mf(e),i&4){try{vg(3,e,e.return),M2(3,e)}catch(K){oa(e,e.return,K)}try{vg(5,e,e.return)}catch(K){oa(e,e.return,K)}}break;case 1:bc(t,e),mf(e),i&512&&n!==null&&g0(n,n.return);break;case 5:if(bc(t,e),mf(e),i&512&&n!==null&&g0(n,n.return),e.flags&32){var s=e.stateNode;try{Lg(s,"")}catch(K){oa(e,e.return,K)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&l.type==="radio"&&l.name!=null&&XT(s,l),U3(x,o);var P=U3(x,l);for(o=0;o<S.length;o+=2){var M=S[o],D=S[o+1];M==="style"?nI(s,D):M==="dangerouslySetInnerHTML"?eI(s,D):M==="children"?Lg(s,D):U4(s,M,D,P)}switch(x){case"input":D3(s,l);break;case"textarea":YT(s,l);break;case"select":var z=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var U=l.value;U!=null?w0(s,!!l.multiple,U,!1):z!==!!l.multiple&&(l.defaultValue!=null?w0(s,!!l.multiple,l.defaultValue,!0):w0(s,!!l.multiple,l.multiple?[]:"",!1))}s[jg]=l}catch(K){oa(e,e.return,K)}}break;case 6:if(bc(t,e),mf(e),i&4){if(e.stateNode===null)throw Error(rn(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(K){oa(e,e.return,K)}}break;case 3:if(bc(t,e),mf(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Bg(t.containerInfo)}catch(K){oa(e,e.return,K)}break;case 4:bc(t,e),mf(e);break;case 13:bc(t,e),mf(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(vC=va())),i&4&&ck(e);break;case 22:if(M=n!==null&&n.memoizedState!==null,e.mode&1?(Fs=(P=Fs)||M,bc(t,e),Fs=P):bc(t,e),mf(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!M&&e.mode&1)for(In=e,M=e.child;M!==null;){for(D=In=M;In!==null;){switch(z=In,U=z.child,z.tag){case 0:case 11:case 14:case 15:vg(4,z,z.return);break;case 1:g0(z,z.return);var q=z.stateNode;if(typeof q.componentWillUnmount=="function"){i=z,n=z.return;try{t=i,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(K){oa(i,n,K)}}break;case 5:g0(z,z.return);break;case 22:if(z.memoizedState!==null){pk(D);continue}}U!==null?(U.return=z,In=U):pk(D)}M=M.sibling}e:for(M=null,D=e;;){if(D.tag===5){if(M===null){M=D;try{s=D.stateNode,P?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(x=D.stateNode,S=D.memoizedProps.style,o=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=tI("display",o))}catch(K){oa(e,e.return,K)}}}else if(D.tag===6){if(M===null)try{D.stateNode.nodeValue=P?"":D.memoizedProps}catch(K){oa(e,e.return,K)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;M===D&&(M=null),D=D.return}M===D&&(M=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:bc(t,e),mf(e),i&4&&ck(e);break;case 21:break;default:bc(t,e),mf(e)}}function mf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PO(n)){var i=n;break e}n=n.return}throw Error(rn(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lg(s,""),i.flags&=-33);var l=uk(e);mS(e,l,s);break;case 3:case 4:var o=i.stateNode.containerInfo,x=uk(e);dS(e,x,o);break;default:throw Error(rn(161))}}catch(S){oa(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VB(e,t,n){In=e,OO(e)}function OO(e,t,n){for(var i=(e.mode&1)!==0;In!==null;){var s=In,l=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||c1;if(!o){var x=s.alternate,S=x!==null&&x.memoizedState!==null||Fs;x=c1;var P=Fs;if(c1=o,(Fs=S)&&!P)for(In=s;In!==null;)o=In,S=o.child,o.tag===22&&o.memoizedState!==null?hk(s):S!==null?(S.return=o,In=S):hk(s);for(;l!==null;)In=l,OO(l),l=l.sibling;In=s,c1=x,Fs=P}fk(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,In=l):fk(e)}}function fk(e){for(;In!==null;){var t=In;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fs||M2(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Fs)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ec(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&W5(t,l,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W5(t,o,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var M=P.memoizedState;if(M!==null){var D=M.dehydrated;D!==null&&Bg(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rn(163))}Fs||t.flags&512&&AS(t)}catch(z){oa(t,t.return,z)}}if(t===e){In=null;break}if(n=t.sibling,n!==null){n.return=t.return,In=n;break}In=t.return}}function pk(e){for(;In!==null;){var t=In;if(t===e){In=null;break}var n=t.sibling;if(n!==null){n.return=t.return,In=n;break}In=t.return}}function hk(e){for(;In!==null;){var t=In;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{M2(4,t)}catch(S){oa(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){oa(t,s,S)}}var l=t.return;try{AS(t)}catch(S){oa(t,l,S)}break;case 5:var o=t.return;try{AS(t)}catch(S){oa(t,o,S)}}}catch(S){oa(t,t.return,S)}if(t===e){In=null;break}var x=t.sibling;if(x!==null){x.return=t.return,In=x;break}In=t.return}}var HB=Math.ceil,R_=Mp.ReactCurrentDispatcher,gC=Mp.ReactCurrentOwner,Fu=Mp.ReactCurrentBatchConfig,hi=0,ts=null,Ma=null,_s=0,Kl=0,y0=Kh(0),Ba=0,Wg=null,WA=0,L2=0,yC=0,_g=null,Pl=null,vC=0,U0=1/0,vp=null,D_=!1,gS=null,Bh=null,f1=!1,Ph=null,F_=0,xg=0,yS=null,t_=-1,n_=0;function nl(){return hi&6?va():t_!==-1?t_:t_=va()}function zh(e){return e.mode&1?hi&2&&_s!==0?_s&-_s:kB.transition!==null?(n_===0&&(n_=AI()),n_):(e=Mi,e!==0||(e=window.event,e=e===void 0?16:xI(e.type)),e):1}function Oc(e,t,n,i){if(50<xg)throw xg=0,yS=null,Error(rn(185));dy(e,n,i),(!(hi&2)||e!==ts)&&(e===ts&&(!(hi&2)&&(L2|=n),Ba===4&&Ch(e,_s)),Ml(e,i),n===1&&hi===0&&!(t.mode&1)&&(U0=va()+500,T2&&Zh()))}function Ml(e,t){var n=e.callbackNode;k7(e,t);var i=v_(e,e===ts?_s:0);if(i===0)n!==null&&b5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&b5(n),t===1)e.tag===0?EB(Ak.bind(null,e)):UI(Ak.bind(null,e)),bB(function(){!(hi&6)&&Zh()}),n=null;else{switch(dI(i)){case 1:n=q4;break;case 4:n=pI;break;case 16:n=y_;break;case 536870912:n=hI;break;default:n=y_}n=NO(n,MO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function MO(e,t){if(t_=-1,n_=0,hi&6)throw Error(rn(327));var n=e.callbackNode;if(P0()&&e.callbackNode!==n)return null;var i=v_(e,e===ts?_s:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=B_(e,i);else{t=i;var s=hi;hi|=2;var l=RO();(ts!==e||_s!==t)&&(vp=null,U0=va()+500,UA(e,t));do try{QB();break}catch(x){LO(e,x)}while(1);iC(),R_.current=l,hi=s,Ma!==null?t=0:(ts=null,_s=0,t=Ba)}if(t!==0){if(t===2&&(s=q3(e),s!==0&&(i=s,t=vS(e,s))),t===1)throw n=Wg,UA(e,0),Ch(e,i),Ml(e,va()),n;if(t===6)Ch(e,i);else{if(s=e.current.alternate,!(i&30)&&!qB(s)&&(t=B_(e,i),t===2&&(l=q3(e),l!==0&&(i=l,t=vS(e,l))),t===1))throw n=Wg,UA(e,0),Ch(e,i),Ml(e,va()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(rn(345));case 2:IA(e,Pl,vp);break;case 3:if(Ch(e,i),(i&130023424)===i&&(t=vC+500-va(),10<t)){if(v_(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){nl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=J3(IA.bind(null,e,Pl,vp),t);break}IA(e,Pl,vp);break;case 4:if(Ch(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Ic(i);l=1<<o,o=t[o],o>s&&(s=o),i&=~l}if(i=s,i=va()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*HB(i/1960))-i,10<i){e.timeoutHandle=J3(IA.bind(null,e,Pl,vp),i);break}IA(e,Pl,vp);break;case 5:IA(e,Pl,vp);break;default:throw Error(rn(329))}}}return Ml(e,va()),e.callbackNode===n?MO.bind(null,e):null}function vS(e,t){var n=_g;return e.current.memoizedState.isDehydrated&&(UA(e,t).flags|=256),e=B_(e,t),e!==2&&(t=Pl,Pl=n,t!==null&&_S(t)),e}function _S(e){Pl===null?Pl=e:Pl.push.apply(Pl,e)}function qB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],l=s.getSnapshot;s=s.value;try{if(!Rc(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ch(e,t){for(t&=~yC,t&=~L2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ic(t),i=1<<n;e[n]=-1,t&=~i}}function Ak(e){if(hi&6)throw Error(rn(327));P0();var t=v_(e,0);if(!(t&1))return Ml(e,va()),null;var n=B_(e,t);if(e.tag!==0&&n===2){var i=q3(e);i!==0&&(t=i,n=vS(e,i))}if(n===1)throw n=Wg,UA(e,0),Ch(e,t),Ml(e,va()),n;if(n===6)throw Error(rn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,IA(e,Pl,vp),Ml(e,va()),null}function _C(e,t){var n=hi;hi|=1;try{return e(t)}finally{hi=n,hi===0&&(U0=va()+500,T2&&Zh())}}function KA(e){Ph!==null&&Ph.tag===0&&!(hi&6)&&P0();var t=hi;hi|=1;var n=Fu.transition,i=Mi;try{if(Fu.transition=null,Mi=1,e)return e()}finally{Mi=i,Fu.transition=n,hi=t,!(hi&6)&&Zh()}}function xC(){Kl=y0.current,So(y0)}function UA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xB(n)),Ma!==null)for(n=Ma.return;n!==null;){var i=n;switch(tC(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&S_();break;case 3:z0(),So(Il),So(zs),cC();break;case 5:uC(i);break;case 4:z0();break;case 13:So(jo);break;case 19:So(jo);break;case 10:oC(i.type._context);break;case 22:case 23:xC()}n=n.return}if(ts=e,Ma=e=Nh(e.current,null),_s=Kl=t,Ba=0,Wg=null,yC=L2=WA=0,Pl=_g=null,BA!==null){for(t=0;t<BA.length;t++)if(n=BA[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,i.next=o}n.pending=i}BA=null}return e}function LO(e,t){do{var n=Ma;try{if(iC(),Y1.current=L_,M_){for(var i=Vo.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}M_=!1}if(QA=0,es=Fa=Vo=null,yg=!1,qg=0,gC.current=null,n===null||n.return===null){Ba=1,Wg=t,Ma=null;break}e:{var l=e,o=n.return,x=n,S=t;if(t=_s,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,M=x,D=M.tag;if(!(M.mode&1)&&(D===0||D===11||D===15)){var z=M.alternate;z?(M.updateQueue=z.updateQueue,M.memoizedState=z.memoizedState,M.lanes=z.lanes):(M.updateQueue=null,M.memoizedState=null)}var U=tk(o);if(U!==null){U.flags&=-257,nk(U,o,x,l,t),U.mode&1&&ek(l,P,t),t=U,S=P;var q=t.updateQueue;if(q===null){var K=new Set;K.add(S),t.updateQueue=K}else q.add(S);break e}else{if(!(t&1)){ek(l,P,t),bC();break e}S=Error(rn(426))}}else if(Oo&&x.mode&1){var ee=tk(o);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),nk(ee,o,x,l,t),nC(N0(S,x));break e}}l=S=N0(S,x),Ba!==4&&(Ba=2),_g===null?_g=[l]:_g.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var V=mO(l,S,t);Q5(l,V);break e;case 1:x=S;var X=l.type,ne=l.stateNode;if(!(l.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Bh===null||!Bh.has(ne)))){l.flags|=65536,t&=-t,l.lanes|=t;var pe=gO(l,x,t);Q5(l,pe);break e}}l=l.return}while(l!==null)}FO(n)}catch(me){t=me,Ma===n&&n!==null&&(Ma=n=n.return);continue}break}while(1)}function RO(){var e=R_.current;return R_.current=L_,e===null?L_:e}function bC(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),ts===null||!(WA&268435455)&&!(L2&268435455)||Ch(ts,_s)}function B_(e,t){var n=hi;hi|=2;var i=RO();(ts!==e||_s!==t)&&(vp=null,UA(e,t));do try{GB();break}catch(s){LO(e,s)}while(1);if(iC(),hi=n,R_.current=i,Ma!==null)throw Error(rn(261));return ts=null,_s=0,Ba}function GB(){for(;Ma!==null;)DO(Ma)}function QB(){for(;Ma!==null&&!y7();)DO(Ma)}function DO(e){var t=zO(e.alternate,e,Kl);e.memoizedProps=e.pendingProps,t===null?FO(e):Ma=t,gC.current=null}function FO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UB(n,t),n!==null){n.flags&=32767,Ma=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,Ma=null;return}}else if(n=NB(n,t,Kl),n!==null){Ma=n;return}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ba===0&&(Ba=5)}function IA(e,t,n){var i=Mi,s=Fu.transition;try{Fu.transition=null,Mi=1,WB(e,t,n,i)}finally{Fu.transition=s,Mi=i}return null}function WB(e,t,n,i){do P0();while(Ph!==null);if(hi&6)throw Error(rn(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rn(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(P7(e,l),e===ts&&(Ma=ts=null,_s=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,NO(y_,function(){return P0(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Fu.transition,Fu.transition=null;var o=Mi;Mi=1;var x=hi;hi|=4,gC.current=null,jB(e,n),IO(n,e),AB(X3),__=!!Z3,X3=Z3=null,e.current=n,VB(n),v7(),hi=x,Mi=o,Fu.transition=l}else e.current=n;if(f1&&(f1=!1,Ph=e,F_=s),l=e.pendingLanes,l===0&&(Bh=null),b7(n.stateNode),Ml(e,va()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(D_)throw D_=!1,e=gS,gS=null,e;return F_&1&&e.tag!==0&&P0(),l=e.pendingLanes,l&1?e===yS?xg++:(xg=0,yS=e):xg=0,Zh(),null}function P0(){if(Ph!==null){var e=dI(F_),t=Fu.transition,n=Mi;try{if(Fu.transition=null,Mi=16>e?16:e,Ph===null)var i=!1;else{if(e=Ph,Ph=null,F_=0,hi&6)throw Error(rn(331));var s=hi;for(hi|=4,In=e.current;In!==null;){var l=In,o=l.child;if(In.flags&16){var x=l.deletions;if(x!==null){for(var S=0;S<x.length;S++){var P=x[S];for(In=P;In!==null;){var M=In;switch(M.tag){case 0:case 11:case 15:vg(8,M,l)}var D=M.child;if(D!==null)D.return=M,In=D;else for(;In!==null;){M=In;var z=M.sibling,U=M.return;if(kO(M),M===P){In=null;break}if(z!==null){z.return=U,In=z;break}In=U}}}var q=l.alternate;if(q!==null){var K=q.child;if(K!==null){q.child=null;do{var ee=K.sibling;K.sibling=null,K=ee}while(K!==null)}}In=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,In=o;else e:for(;In!==null;){if(l=In,l.flags&2048)switch(l.tag){case 0:case 11:case 15:vg(9,l,l.return)}var V=l.sibling;if(V!==null){V.return=l.return,In=V;break e}In=l.return}}var X=e.current;for(In=X;In!==null;){o=In;var ne=o.child;if(o.subtreeFlags&2064&&ne!==null)ne.return=o,In=ne;else e:for(o=X;In!==null;){if(x=In,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:M2(9,x)}}catch(me){oa(x,x.return,me)}if(x===o){In=null;break e}var pe=x.sibling;if(pe!==null){pe.return=x.return,In=pe;break e}In=x.return}}if(hi=s,Zh(),Cf&&typeof Cf.onPostCommitFiberRoot=="function")try{Cf.onPostCommitFiberRoot(S2,e)}catch{}i=!0}return i}finally{Mi=n,Fu.transition=t}}return!1}function dk(e,t,n){t=N0(n,t),t=mO(e,t,1),e=Fh(e,t,1),t=nl(),e!==null&&(dy(e,1,t),Ml(e,t))}function oa(e,t,n){if(e.tag===3)dk(e,e,n);else for(;t!==null;){if(t.tag===3){dk(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bh===null||!Bh.has(i))){e=N0(n,e),e=gO(t,e,1),t=Fh(t,e,1),e=nl(),t!==null&&(dy(t,1,e),Ml(t,e));break}}t=t.return}}function KB(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,ts===e&&(_s&n)===n&&(Ba===4||Ba===3&&(_s&130023424)===_s&&500>va()-vC?UA(e,0):yC|=n),Ml(e,t)}function BO(e,t){t===0&&(e.mode&1?(t=t1,t1<<=1,!(t1&130023424)&&(t1=4194304)):t=1);var n=nl();e=Ip(e,t),e!==null&&(dy(e,t,n),Ml(e,n))}function ZB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),BO(e,n)}function XB(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(rn(314))}i!==null&&i.delete(t),BO(e,n)}var zO;zO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Il.current)Tl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tl=!1,zB(e,t,n);Tl=!!(e.flags&131072)}else Tl=!1,Oo&&t.flags&1048576&&$I(t,k_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;e_(e,t),e=t.pendingProps;var s=D0(t,zs.current);k0(t,n),s=pC(null,t,i,e,s,n);var l=hC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ol(i)?(l=!0,C_(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sC(t),s.updater=I2,t.stateNode=s,s._reactInternals=t,aS(t,i,e,n),t=uS(null,t,i,!0,l,n)):(t.tag=0,Oo&&l&&eC(t),tl(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(e_(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=JB(i),e=Ec(i,e),s){case 0:t=lS(null,t,i,e,n);break e;case 1:t=ok(null,t,i,e,n);break e;case 11:t=rk(null,t,i,e,n);break e;case 14:t=ik(null,t,i,Ec(i.type,e),n);break e}throw Error(rn(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),lS(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),ok(e,t,i,s,n);case 3:e:{if(xO(t),e===null)throw Error(rn(387));i=t.pendingProps,l=t.memoizedState,s=l.element,qI(e,t),I_(t,i,null,n);var o=t.memoizedState;if(i=o.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=N0(Error(rn(423)),t),t=ak(e,t,i,n,s);break e}else if(i!==s){s=N0(Error(rn(424)),t),t=ak(e,t,i,n,s);break e}else for(Zl=Dh(t.stateNode.containerInfo.firstChild),eu=t,Oo=!0,Pc=null,n=KI(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(F0(),i===s){t=Op(e,t,n);break e}tl(e,t,i,n)}t=t.child}return t;case 5:return ZI(t),e===null&&rS(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Y3(i,s)?o=null:l!==null&&Y3(i,l)&&(t.flags|=32),_O(e,t),tl(e,t,o,n),t.child;case 6:return e===null&&rS(t),null;case 13:return bO(e,t,n);case 4:return lC(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=B0(t,null,i,n):tl(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),rk(e,t,i,s,n);case 7:return tl(e,t,t.pendingProps,n),t.child;case 8:return tl(e,t,t.pendingProps.children,n),t.child;case 12:return tl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,uo(P_,i._currentValue),i._currentValue=o,l!==null)if(Rc(l.value,o)){if(l.children===s.children&&!Il.current){t=Op(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var x=l.dependencies;if(x!==null){o=l.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(l.tag===1){S=kp(-1,n&-n),S.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var M=P.pending;M===null?S.next=S:(S.next=M.next,M.next=S),P.pending=S}}l.lanes|=n,S=l.alternate,S!==null&&(S.lanes|=n),iS(l.return,n,t),x.lanes|=n;break}S=S.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(rn(341));o.lanes|=n,x=o.alternate,x!==null&&(x.lanes|=n),iS(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}tl(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,k0(t,n),s=Nu(s),i=i(s),t.flags|=1,tl(e,t,i,n),t.child;case 14:return i=t.type,s=Ec(i,t.pendingProps),s=Ec(i.type,s),ik(e,t,i,s,n);case 15:return yO(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ec(i,s),e_(e,t),t.tag=1,Ol(i)?(e=!0,C_(t)):e=!1,k0(t,n),QI(t,i,s),aS(t,i,s,n),uS(null,t,i,!0,e,n);case 19:return wO(e,t,n);case 22:return vO(e,t,n)}throw Error(rn(156,t.tag))};function NO(e,t){return fI(e,t)}function YB(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,i){return new YB(e,t,n,i)}function wC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JB(e){if(typeof e=="function")return wC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j4)return 11;if(e===V4)return 14}return 2}function Nh(e,t){var n=e.alternate;return n===null?(n=Du(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function r_(e,t,n,i,s,l){var o=2;if(i=e,typeof e=="function")wC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case l0:return $A(n.children,s,l,t);case $4:o=8,s|=8;break;case I3:return e=Du(12,n,t,s|2),e.elementType=I3,e.lanes=l,e;case O3:return e=Du(13,n,t,s),e.elementType=O3,e.lanes=l,e;case M3:return e=Du(19,n,t,s),e.elementType=M3,e.lanes=l,e;case WT:return R2(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GT:o=10;break e;case QT:o=9;break e;case j4:o=11;break e;case V4:o=14;break e;case _h:o=16,i=null;break e}throw Error(rn(130,e==null?e:typeof e,""))}return t=Du(o,n,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function $A(e,t,n,i){return e=Du(7,e,i,t),e.lanes=n,e}function R2(e,t,n,i){return e=Du(22,e,i,t),e.elementType=WT,e.lanes=n,e.stateNode={isHidden:!1},e}function Sw(e,t,n){return e=Du(6,e,null,t),e.lanes=n,e}function Cw(e,t,n){return t=Du(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e9(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ow(0),this.expirationTimes=ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ow(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function SC(e,t,n,i,s,l,o,x,S){return e=new e9(e,t,n,x,S),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Du(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sC(l),e}function t9(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s0,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function UO(e){if(!e)return Hh;e=e._reactInternals;e:{if(td(e)!==e||e.tag!==1)throw Error(rn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ol(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rn(171))}if(e.tag===1){var n=e.type;if(Ol(n))return NI(e,n,t)}return t}function $O(e,t,n,i,s,l,o,x,S){return e=SC(n,i,!0,e,s,l,o,x,S),e.context=UO(null),n=e.current,i=nl(),s=zh(n),l=kp(i,s),l.callback=t??null,Fh(n,l,s),e.current.lanes=s,dy(e,s,i),Ml(e,i),e}function D2(e,t,n,i){var s=t.current,l=nl(),o=zh(s);return n=UO(n),t.context===null?t.context=n:t.pendingContext=n,t=kp(l,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Fh(s,t,o),e!==null&&(Oc(e,s,o,l),X1(e,s,o)),o}function z_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function CC(e,t){mk(e,t),(e=e.alternate)&&mk(e,t)}function n9(){return null}var jO=typeof reportError=="function"?reportError:function(e){console.error(e)};function EC(e){this._internalRoot=e}F2.prototype.render=EC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rn(409));D2(e,t,null,null)};F2.prototype.unmount=EC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;KA(function(){D2(null,e,null,null)}),t[Tp]=null}};function F2(e){this._internalRoot=e}F2.prototype.unstable_scheduleHydration=function(e){if(e){var t=yI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sh.length&&t!==0&&t<Sh[n].priority;n++);Sh.splice(n,0,e),n===0&&_I(e)}};function kC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function B2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gk(){}function r9(e,t,n,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var P=z_(o);l.call(P)}}var o=$O(t,i,e,0,null,!1,!1,"",gk);return e._reactRootContainer=o,e[Tp]=o.current,Ug(e.nodeType===8?e.parentNode:e),KA(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var P=z_(S);x.call(P)}}var S=SC(e,0,!1,null,null,!1,!1,"",gk);return e._reactRootContainer=S,e[Tp]=S.current,Ug(e.nodeType===8?e.parentNode:e),KA(function(){D2(t,S,n,i)}),S}function z2(e,t,n,i,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var x=s;s=function(){var S=z_(o);x.call(S)}}D2(t,o,e,s)}else o=r9(n,t,e,s,i);return z_(o)}mI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lg(t.pendingLanes);n!==0&&(G4(t,n|1),Ml(t,va()),!(hi&6)&&(U0=va()+500,Zh()))}break;case 13:KA(function(){var i=Ip(e,1);if(i!==null){var s=nl();Oc(i,e,1,s)}}),CC(e,1)}};Q4=function(e){if(e.tag===13){var t=Ip(e,134217728);if(t!==null){var n=nl();Oc(t,e,134217728,n)}CC(e,134217728)}};gI=function(e){if(e.tag===13){var t=zh(e),n=Ip(e,t);if(n!==null){var i=nl();Oc(n,e,t,i)}CC(e,t)}};yI=function(){return Mi};vI=function(e,t){var n=Mi;try{return Mi=e,t()}finally{Mi=n}};j3=function(e,t,n){switch(t){case"input":if(D3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=P2(i);if(!s)throw Error(rn(90));ZT(i),D3(i,s)}}}break;case"textarea":YT(e,n);break;case"select":t=n.value,t!=null&&w0(e,!!n.multiple,t,!1)}};oI=_C;aI=KA;var i9={usingClientEntryPoint:!1,Events:[gy,p0,P2,rI,iI,_C]},qm={findFiberByHostInstance:FA,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},o9={bundleType:qm.bundleType,version:qm.version,rendererPackageName:qm.rendererPackageName,rendererConfig:qm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mp.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uI(e),e===null?null:e.stateNode},findFiberByHostInstance:qm.findFiberByHostInstance||n9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{S2=p1.inject(o9),Cf=p1}catch{}}nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i9;nu.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kC(t))throw Error(rn(200));return t9(e,t,null,n)};nu.createRoot=function(e,t){if(!kC(e))throw Error(rn(299));var n=!1,i="",s=jO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=SC(e,1,!1,null,null,n,!1,i,s),e[Tp]=t.current,Ug(e.nodeType===8?e.parentNode:e),new EC(t)};nu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rn(188)):(e=Object.keys(e).join(","),Error(rn(268,e)));return e=uI(t),e=e===null?null:e.stateNode,e};nu.flushSync=function(e){return KA(e)};nu.hydrate=function(e,t,n){if(!B2(t))throw Error(rn(200));return z2(null,e,t,!0,n)};nu.hydrateRoot=function(e,t,n){if(!kC(e))throw Error(rn(405));var i=n!=null&&n.hydratedSources||null,s=!1,l="",o=jO;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$O(t,null,e,1,n??null,s,!1,l,o),e[Tp]=t.current,Ug(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new F2(t)};nu.render=function(e,t,n){if(!B2(t))throw Error(rn(200));return z2(null,e,t,!1,n)};nu.unmountComponentAtNode=function(e){if(!B2(e))throw Error(rn(40));return e._reactRootContainer?(KA(function(){z2(null,null,e,!1,function(){e._reactRootContainer=null,e[Tp]=null})}),!0):!1};nu.unstable_batchedUpdates=_C;nu.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!B2(n))throw Error(rn(200));if(e==null||e._reactInternals===void 0)throw Error(rn(38));return z2(e,t,n,!1,i)};nu.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=nu})(n7);const h1=w2(Og);var PC,yk=Og;PC=k3.createRoot=yk.createRoot,k3.hydrateRoot=yk.hydrateRoot;var TC={};Object.defineProperty(TC,"__esModule",{value:!0});TC.getDomContainer=a9;function a9(e){if(!e)return vk();var t=document.querySelector(e);return t||(console.warn('Query selector "'.concat(e,`" doesn't match any existing DOM element. `)+"Are you using a custom HTML template? "+'Add an element matching "'.concat(e,'" to your template or change the containerQuerySelector setting.')),vk())}function vk(){return document.getElementById("root")||s9()}function s9(){var e=document.createElement("div");return e.setAttribute("id","root"),document.body.appendChild(e),e}var IC={},N_={},l9={get exports(){return N_},set exports(e){N_=e}},VO={},N2={},OC={},MC={},ns={},u9={get exports(){return ns},set exports(e){ns=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,i="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",x="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",P=500,M="__lodash_placeholder__",D=1,z=2,U=4,q=1,K=2,ee=1,V=2,X=4,ne=8,pe=16,me=32,oe=64,we=128,Ce=256,je=512,tt=30,qe="...",rt=800,At=16,Ot=1,Vt=2,Jt=3,bn=1/0,st=9007199254740991,Me=17976931348623157e292,Le=0/0,re=4294967295,ge=re-1,Mt=re>>>1,en=[["ary",we],["bind",ee],["bindKey",V],["curry",ne],["curryRight",pe],["flip",je],["partial",me],["partialRight",oe],["rearg",Ce]],vn="[object Arguments]",dn="[object Array]",Cn="[object AsyncFunction]",$n="[object Boolean]",Fn="[object Date]",Yr="[object DOMException]",Vr="[object Error]",Fi="[object Function]",jn="[object GeneratorFunction]",mi="[object Map]",gi="[object Number]",Go="[object Null]",Bi="[object Object]",Wi="[object Promise]",Ss="[object Proxy]",ro="[object RegExp]",Kr="[object Set]",Lo="[object String]",io="[object Symbol]",bi="[object Undefined]",Ro="[object WeakMap]",la="[object WeakSet]",vt="[object ArrayBuffer]",be="[object DataView]",Je="[object Float32Array]",Ct="[object Float64Array]",ln="[object Int8Array]",Gn="[object Int16Array]",Mr="[object Int32Array]",Mn="[object Uint8Array]",nr="[object Uint8ClampedArray]",Hr="[object Uint16Array]",Jr="[object Uint32Array]",mr=/\b__p \+= '';/g,Co=/\b(__p \+=) '' \+/g,ei=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ua=/&(?:amp|lt|gt|quot|#39);/g,La=/[&<>"']/g,Ht=RegExp(ua.source),Ei=RegExp(La.source),Ur=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,se=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,Ge=RegExp(Ue.source),Ne=/^\s+/,xe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,A=/[()=,{}\[\]\/\s]/,ye=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,hn=/^0o[0-7]+$/i,fn=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",gr="\\u0300-\\u036f",lr="\\ufe20-\\ufe2f",vr="\\u20d0-\\u20ff",Ai=gr+lr+vr,Sr="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",Qe="\\xac\\xb1\\xd7\\xf7",wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",al="\\u2000-\\u206f",zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oo="A-Z\\xc0-\\xd6\\xd8-\\xde",Qo="\\ufe0e\\ufe0f",Nc=Qe+wn+al+zc,Re="['’]",ao="["+Dr+"]",as="["+Nc+"]",ca="["+Ai+"]",si="\\d+",fa="["+Sr+"]",Eo="["+Xt+"]",Wo="[^"+Dr+Nc+si+Sr+Xt+oo+"]",ss="\\ud83c[\\udffb-\\udfff]",Rf="(?:"+ca+"|"+ss+")",zi="[^"+Dr+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",ls="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+oo+"]",Ni="\\u200d",Rl="(?:"+Eo+"|"+Wo+")",Ku="(?:"+wi+"|"+Wo+")",Dp="(?:"+Re+"(?:d|ll|m|re|s|t|ve))?",Fp="(?:"+Re+"(?:D|LL|M|RE|S|T|VE))?",ci=Rf+"?",Uc="["+Qo+"]?",Df="(?:"+Ni+"(?:"+[zi,ki,ls].join("|")+")"+Uc+ci+")*",Jh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ff="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zu=Uc+ci+Df,Xu="(?:"+[fa,ki,ls].join("|")+")"+Zu,Dl="(?:"+[zi+ca+"?",ca,ki,ls,ao].join("|")+")",$c=RegExp(Re,"g"),jc=RegExp(ca,"g"),Yu=RegExp(ss+"(?="+ss+")|"+Dl+Zu,"g"),Ko=RegExp([wi+"?"+Eo+"+"+Dp+"(?="+[as,wi,"$"].join("|")+")",Ku+"+"+Fp+"(?="+[as,wi+Rl,"$"].join("|")+")",wi+"?"+Rl+"+"+Dp,wi+"+"+Fp,Ff,Jh,si,Xu].join("|"),"g"),sl=RegExp("["+Ni+Dr+Ai+Qo+"]"),Cs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ll=-1,$r={};$r[Je]=$r[Ct]=$r[ln]=$r[Gn]=$r[Mr]=$r[Mn]=$r[nr]=$r[Hr]=$r[Jr]=!0,$r[vn]=$r[dn]=$r[vt]=$r[$n]=$r[be]=$r[Fn]=$r[Vr]=$r[Fi]=$r[mi]=$r[gi]=$r[Bi]=$r[ro]=$r[Kr]=$r[Lo]=$r[Ro]=!1;var Qn={};Qn[vn]=Qn[dn]=Qn[vt]=Qn[be]=Qn[$n]=Qn[Fn]=Qn[Je]=Qn[Ct]=Qn[ln]=Qn[Gn]=Qn[Mr]=Qn[mi]=Qn[gi]=Qn[Bi]=Qn[ro]=Qn[Kr]=Qn[Lo]=Qn[io]=Qn[Mn]=Qn[nr]=Qn[Hr]=Qn[Jr]=!0,Qn[Vr]=Qn[Fi]=Qn[Ro]=!1;var Do={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},au={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hc=parseFloat,Bp=parseInt,su=typeof Ru=="object"&&Ru&&Ru.Object===Object&&Ru,lu=typeof self=="object"&&self&&self.Object===Object&&self,yi=su||lu||Function("return this")(),uu=t&&!t.nodeType&&t,Us=uu&&!0&&e&&!e.nodeType&&e,cu=Us&&Us.exports===uu,$s=cu&&su.process,Pi=function(){try{var it=Us&&Us.require&&Us.require("util").types;return it||$s&&$s.binding&&$s.binding("util")}catch{}}(),Fl=Pi&&Pi.isArrayBuffer,qc=Pi&&Pi.isDate,Ki=Pi&&Pi.isMap,Gc=Pi&&Pi.isRegExp,js=Pi&&Pi.isSet,Es=Pi&&Pi.isTypedArray;function co(it,Tt,xt){switch(xt.length){case 0:return it.call(Tt);case 1:return it.call(Tt,xt[0]);case 2:return it.call(Tt,xt[0],xt[1]);case 3:return it.call(Tt,xt[0],xt[1],xt[2])}return it.apply(Tt,xt)}function Bl(it,Tt,xt,qt){for(var er=-1,Cr=it==null?0:it.length;++er<Cr;){var ni=it[er];Tt(qt,ni,xt(ni),it)}return qt}function fo(it,Tt){for(var xt=-1,qt=it==null?0:it.length;++xt<qt&&Tt(it[xt],xt,it)!==!1;);return it}function us(it,Tt){for(var xt=it==null?0:it.length;xt--&&Tt(it[xt],xt,it)!==!1;);return it}function ul(it,Tt){for(var xt=-1,qt=it==null?0:it.length;++xt<qt;)if(!Tt(it[xt],xt,it))return!1;return!0}function Zo(it,Tt){for(var xt=-1,qt=it==null?0:it.length,er=0,Cr=[];++xt<qt;){var ni=it[xt];Tt(ni,xt,it)&&(Cr[er++]=ni)}return Cr}function fu(it,Tt){var xt=it==null?0:it.length;return!!xt&&zl(it,Tt,0)>-1}function Fr(it,Tt,xt){for(var qt=-1,er=it==null?0:it.length;++qt<er;)if(xt(Tt,it[qt]))return!0;return!1}function ti(it,Tt){for(var xt=-1,qt=it==null?0:it.length,er=Array(qt);++xt<qt;)er[xt]=Tt(it[xt],xt,it);return er}function Ua(it,Tt){for(var xt=-1,qt=Tt.length,er=it.length;++xt<qt;)it[er+xt]=Tt[xt];return it}function Ju(it,Tt,xt,qt){var er=-1,Cr=it==null?0:it.length;for(qt&&Cr&&(xt=it[++er]);++er<Cr;)xt=Tt(xt,it[er],er,it);return xt}function pu(it,Tt,xt,qt){var er=it==null?0:it.length;for(qt&&er&&(xt=it[--er]);er--;)xt=Tt(xt,it[er],er,it);return xt}function Vs(it,Tt){for(var xt=-1,qt=it==null?0:it.length;++xt<qt;)if(Tt(it[xt],xt,it))return!0;return!1}var zp=tc("length");function ec(it){return it.split("")}function cl(it){return it.match(We)||[]}function Hs(it,Tt,xt){var qt;return xt(it,function(er,Cr,ni){if(Tt(er,Cr,ni))return qt=Cr,!1}),qt}function qs(it,Tt,xt,qt){for(var er=it.length,Cr=xt+(qt?1:-1);qt?Cr--:++Cr<er;)if(Tt(it[Cr],Cr,it))return Cr;return-1}function zl(it,Tt,xt){return Tt===Tt?Xo(it,Tt,xt):qs(it,Qc,xt)}function Np(it,Tt,xt,qt){for(var er=xt-1,Cr=it.length;++er<Cr;)if(qt(it[er],Tt))return er;return-1}function Qc(it){return it!==it}function fl(it,Tt){var xt=it==null?0:it.length;return xt?nc(it,Tt)/xt:Le}function tc(it){return function(Tt){return Tt==null?n:Tt[it]}}function _a(it){return function(Tt){return it==null?n:it[Tt]}}function Nl(it,Tt,xt,qt,er){return er(it,function(Cr,ni,Ln){xt=qt?(qt=!1,Cr):Tt(xt,Cr,ni,Ln)}),xt}function Wc(it,Tt){var xt=it.length;for(it.sort(Tt);xt--;)it[xt]=it[xt].value;return it}function nc(it,Tt){for(var xt,qt=-1,er=it.length;++qt<er;){var Cr=Tt(it[qt]);Cr!==n&&(xt=xt===n?Cr:xt+Cr)}return xt}function qr(it,Tt){for(var xt=-1,qt=Array(it);++xt<it;)qt[xt]=Tt(xt);return qt}function Kc(it,Tt){return ti(Tt,function(xt){return[xt,it[xt]]})}function zf(it){return it&&it.slice(0,fs(it)+1).replace(Ne,"")}function ko(it){return function(Tt){return it(Tt)}}function Zc(it,Tt){return ti(Tt,function(xt){return it[xt]})}function hu(it,Tt){return it.has(Tt)}function pl(it,Tt){for(var xt=-1,qt=it.length;++xt<qt&&zl(Tt,it[xt],0)>-1;);return xt}function Nf(it,Tt){for(var xt=it.length;xt--&&zl(Tt,it[xt],0)>-1;);return xt}function po(it,Tt){for(var xt=it.length,qt=0;xt--;)it[xt]===Tt&&++qt;return qt}var Ui=_a(Do),Xc=_a(Tr);function rc(it){return"\\"+Bf[it]}function Au(it,Tt){return it==null?n:it[Tt]}function hl(it){return sl.test(it)}function ic(it){return Cs.test(it)}function Si(it){for(var Tt,xt=[];!(Tt=it.next()).done;)xt.push(Tt.value);return xt}function du(it){var Tt=-1,xt=Array(it.size);return it.forEach(function(qt,er){xt[++Tt]=[er,qt]}),xt}function ks(it,Tt){return function(xt){return it(Tt(xt))}}function Ps(it,Tt){for(var xt=-1,qt=it.length,er=0,Cr=[];++xt<qt;){var ni=it[xt];(ni===Tt||ni===M)&&(it[xt]=M,Cr[er++]=xt)}return Cr}function $a(it){var Tt=-1,xt=Array(it.size);return it.forEach(function(qt){xt[++Tt]=qt}),xt}function oc(it){var Tt=-1,xt=Array(it.size);return it.forEach(function(qt){xt[++Tt]=[qt,qt]}),xt}function Xo(it,Tt,xt){for(var qt=xt-1,er=it.length;++qt<er;)if(it[qt]===Tt)return qt;return-1}function Up(it,Tt,xt){for(var qt=xt+1;qt--;)if(it[qt]===Tt)return qt;return qt}function cs(it){return hl(it)?$p(it):zp(it)}function pa(it){return hl(it)?Uf(it):ec(it)}function fs(it){for(var Tt=it.length;Tt--&&xe.test(it.charAt(Tt)););return Tt}var Gs=_a(au);function $p(it){for(var Tt=Yu.lastIndex=0;Yu.test(it);)++Tt;return Tt}function Uf(it){return it.match(Yu)||[]}function Yc(it){return it.match(Ko)||[]}var mu=function it(Tt){Tt=Tt==null?yi:Qs.defaults(yi.Object(),Tt,Qs.pick(yi,Vc));var xt=Tt.Array,qt=Tt.Date,er=Tt.Error,Cr=Tt.Function,ni=Tt.Math,Ln=Tt.Object,cr=Tt.RegExp,Ul=Tt.String,$i=Tt.TypeError,gu=xt.prototype,xa=Cr.prototype,ps=Ln.prototype,Jc=Tt["__core-js_shared__"],Al=xa.toString,jr=ps.hasOwnProperty,ac=0,Po=function(){var d=/[^.]+$/.exec(Jc&&Jc.keys&&Jc.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ho=ps.toString,$f=Al.call(Ln),Zi=yi._,ba=cr("^"+Al.call(jr).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),an=cu?Tt.Buffer:n,ja=Tt.Symbol,Ws=Tt.Uint8Array,Ks=an?an.allocUnsafe:n,Fo=ks(Ln.getPrototypeOf,Ln),yu=Ln.create,Yo=ps.propertyIsEnumerable,un=gu.splice,sc=ja?ja.isConcatSpreadable:n,Zs=ja?ja.iterator:n,Ao=ja?ja.toStringTag:n,Er=function(){try{var d=cf(Ln,"defineProperty");return d({},"",{}),d}catch{}}(),ef=Tt.clearTimeout!==yi.clearTimeout&&Tt.clearTimeout,jp=qt&&qt.now!==yi.Date.now&&qt.now,jf=Tt.setTimeout!==yi.setTimeout&&Tt.setTimeout,mo=ni.ceil,Va=ni.floor,$l=Ln.getOwnPropertySymbols,tf=an?an.isBuffer:n,nf=Tt.isFinite,hs=gu.join,Vp=ks(Ln.keys,Ln),rr=ni.max,Wn=ni.min,ha=qt.now,Ti=Tt.parseInt,Bn=ni.random,Bo=gu.reverse,Ha=cf(Tt,"DataView"),Jo=cf(Tt,"Map"),ea=cf(Tt,"Promise"),qa=cf(Tt,"Set"),Wt=cf(Tt,"WeakMap"),mt=cf(Ln,"create"),Yt=Wt&&new Wt,To={},Ga=hf(Ha),zo=hf(Jo),ji=hf(ea),Hp=hf(qa),ta=hf(Wt),h=ja?ja.prototype:n,m=h?h.valueOf:n,v=h?h.toString:n;function _(d){if(Qi(d)&&!Xn(d)&&!(d instanceof N)){if(d instanceof I)return d;if(jr.call(d,"__wrapped__"))return lv(d)}return new I(d)}var k=function(){function d(){}return function(w){if(!pi(w))return{};if(yu)return yu(w);d.prototype=w;var R=new d;return d.prototype=n,R}}();function O(){}function I(d,w){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}_.templateSettings={escape:Ur,evaluate:J,interpolate:se,variable:"",imports:{_}},_.prototype=O.prototype,_.prototype.constructor=_,I.prototype=k(O.prototype),I.prototype.constructor=I;function N(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Q(){var d=new N(this.__wrapped__);return d.__actions__=Is(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Is(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Is(this.__views__),d}function ie(){if(this.__filtered__){var d=new N(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function ce(){var d=this.__wrapped__.value(),w=this.__dir__,R=Xn(d),H=w<0,le=R?d.length:0,Se=Ab(0,le,this.__views__),$e=Se.start,Ye=Se.end,ut=Ye-$e,Dt=H?Ye:$e-1,Bt=this.__iteratees__,Gt=Bt.length,Sn=0,Nn=Wn(ut,this.__takeCount__);if(!R||!H&&le==ut&&Nn==ut)return rA(d,this.__actions__);var or=[];e:for(;ut--&&Sn<Nn;){Dt+=w;for(var Br=-1,ar=d[Dt];++Br<Gt;){var Wr=Bt[Br],oi=Wr.iteratee,Hl=Wr.type,Js=oi(ar);if(Hl==Vt)ar=Js;else if(!Js){if(Hl==Ot)continue e;break e}}or[Sn++]=ar}return or}N.prototype=k(O.prototype),N.prototype.constructor=N;function Fe(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function Ze(){this.__data__=mt?mt(null):{},this.size=0}function at(d){var w=this.has(d)&&delete this.__data__[d];return this.size-=w?1:0,w}function wt(d){var w=this.__data__;if(mt){var R=w[d];return R===S?n:R}return jr.call(w,d)?w[d]:n}function Et(d){var w=this.__data__;return mt?w[d]!==n:jr.call(w,d)}function Nt(d,w){var R=this.__data__;return this.size+=this.has(d)?0:1,R[d]=mt&&w===n?S:w,this}Fe.prototype.clear=Ze,Fe.prototype.delete=at,Fe.prototype.get=wt,Fe.prototype.has=Et,Fe.prototype.set=Nt;function cn(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function gt(){this.__data__=[],this.size=0}function Rt(d){var w=this.__data__,R=dt(w,d);if(R<0)return!1;var H=w.length-1;return R==H?w.pop():un.call(w,R,1),--this.size,!0}function Xe(d){var w=this.__data__,R=dt(w,d);return R<0?n:w[R][1]}function _n(d){return dt(this.__data__,d)>-1}function xn(d,w){var R=this.__data__,H=dt(R,d);return H<0?(++this.size,R.push([d,w])):R[H][1]=w,this}cn.prototype.clear=gt,cn.prototype.delete=Rt,cn.prototype.get=Xe,cn.prototype.has=_n,cn.prototype.set=xn;function Kt(d){var w=-1,R=d==null?0:d.length;for(this.clear();++w<R;){var H=d[w];this.set(H[0],H[1])}}function c(){this.size=0,this.__data__={hash:new Fe,map:new(Jo||cn),string:new Fe}}function p(d){var w=Xf(this,d).delete(d);return this.size-=w?1:0,w}function f(d){return Xf(this,d).get(d)}function y(d){return Xf(this,d).has(d)}function E(d,w){var R=Xf(this,d),H=R.size;return R.set(d,w),this.size+=R.size==H?0:1,this}Kt.prototype.clear=c,Kt.prototype.delete=p,Kt.prototype.get=f,Kt.prototype.has=y,Kt.prototype.set=E;function L(d){var w=-1,R=d==null?0:d.length;for(this.__data__=new Kt;++w<R;)this.add(d[w])}function F(d){return this.__data__.set(d,S),this}function $(d){return this.__data__.has(d)}L.prototype.add=L.prototype.push=F,L.prototype.has=$;function G(d){var w=this.__data__=new cn(d);this.size=w.size}function te(){this.__data__=new cn,this.size=0}function Ae(d){var w=this.__data__,R=w.delete(d);return this.size=w.size,R}function _e(d){return this.__data__.get(d)}function de(d){return this.__data__.has(d)}function Oe(d,w){var R=this.__data__;if(R instanceof cn){var H=R.__data__;if(!Jo||H.length<s-1)return H.push([d,w]),this.size=++R.size,this;R=this.__data__=new Kt(H)}return R.set(d,w),this.size=R.size,this}G.prototype.clear=te,G.prototype.delete=Ae,G.prototype.get=_e,G.prototype.has=de,G.prototype.set=Oe;function Te(d,w){var R=Xn(d),H=!R&&pr(d),le=!R&&!H&&ga(d),Se=!R&&!H&&!le&&jl(d),$e=R||H||le||Se,Ye=$e?qr(d.length,Ul):[],ut=Ye.length;for(var Dt in d)(w||jr.call(d,Dt))&&!($e&&(Dt=="length"||le&&(Dt=="offset"||Dt=="parent")||Se&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||_l(Dt,ut)))&&Ye.push(Dt);return Ye}function ze(d){var w=d.length;return w?d[im(0,w-1)]:n}function Pe(d,w){return lA(Is(d),tn(w,0,d.length))}function Be(d){return lA(Is(d))}function Ke(d,w,R){(R!==n&&!Ir(d[w],R)||R===n&&!(w in d))&&zt(d,w,R)}function et(d,w,R){var H=d[w];(!(jr.call(d,w)&&Ir(H,R))||R===n&&!(w in d))&&zt(d,w,R)}function dt(d,w){for(var R=d.length;R--;)if(Ir(d[R][0],w))return R;return-1}function ht(d,w,R,H){return Rn(d,function(le,Se,$e){w(H,le,R(le),$e)}),H}function yt(d,w){return d&&bu(w,Pa(w),d)}function Pt(d,w){return d&&bu(w,ms(w),d)}function zt(d,w,R){w=="__proto__"&&Er?Er(d,w,{configurable:!0,enumerable:!0,value:R,writable:!0}):d[w]=R}function Ft(d,w){for(var R=-1,H=w.length,le=xt(H),Se=d==null;++R<H;)le[R]=Se?n:Nd(d,w[R]);return le}function tn(d,w,R){return d===d&&(R!==n&&(d=d<=R?d:R),w!==n&&(d=d>=w?d:w)),d}function mn(d,w,R,H,le,Se){var $e,Ye=w&D,ut=w&z,Dt=w&U;if(R&&($e=le?R(d,H,le,Se):R(d)),$e!==n)return $e;if(!pi(d))return d;var Bt=Xn(d);if(Bt){if($e=mb(d),!Ye)return Is(d,$e)}else{var Gt=Wa(d),Sn=Gt==Fi||Gt==jn;if(ga(d))return md(d,Ye);if(Gt==Bi||Gt==vn||Sn&&!le){if($e=ut||Sn?{}:nv(d),!Ye)return ut?Gy(d,Pt($e,d)):ub(d,yt($e,d))}else{if(!Qn[Gt])return le?d:{};$e=gb(d,Gt,Ye)}}Se||(Se=new G);var Nn=Se.get(d);if(Nn)return Nn;Se.set(d,$e),vA(d)?d.forEach(function(ar){$e.add(mn(ar,w,R,ar,d,Se))}):sp(d)&&d.forEach(function(ar,Wr){$e.set(Wr,mn(ar,w,R,Wr,d,Se))});var or=Dt?ut?mm:xd:ut?ms:Pa,Br=Bt?n:or(d);return fo(Br||d,function(ar,Wr){Br&&(Wr=ar,ar=d[Wr]),et($e,Wr,mn(ar,w,R,Wr,d,Se))}),$e}function Tn(d){var w=Pa(d);return function(R){return kn(R,d,w)}}function kn(d,w,R){var H=R.length;if(d==null)return!H;for(d=Ln(d);H--;){var le=R[H],Se=w[le],$e=d[le];if($e===n&&!(le in d)||!Se($e))return!1}return!0}function _r(d,w,R){if(typeof d!="function")throw new $i(o);return eh(function(){d.apply(n,R)},w)}function pn(d,w,R,H){var le=-1,Se=fu,$e=!0,Ye=d.length,ut=[],Dt=w.length;if(!Ye)return ut;R&&(w=ti(w,ko(R))),H?(Se=Fr,$e=!1):w.length>=s&&(Se=hu,$e=!1,w=new L(w));e:for(;++le<Ye;){var Bt=d[le],Gt=R==null?Bt:R(Bt);if(Bt=H||Bt!==0?Bt:0,$e&&Gt===Gt){for(var Sn=Dt;Sn--;)if(w[Sn]===Gt)continue e;ut.push(Bt)}else Se(w,Gt,H)||ut.push(Bt)}return ut}var Rn=Qy(Ii),tr=Qy(so,!0);function Vn(d,w){var R=!0;return Rn(d,function(H,le,Se){return R=!!w(H,le,Se),R}),R}function zn(d,w,R){for(var H=-1,le=d.length;++H<le;){var Se=d[H],$e=w(Se);if($e!=null&&(Ye===n?$e===$e&&!Za($e):R($e,Ye)))var Ye=$e,ut=Se}return ut}function Un(d,w,R,H){var le=d.length;for(R=br(R),R<0&&(R=-R>le?0:le+R),H=H===n||H>le?le:br(H),H<0&&(H+=le),H=R>H?0:Rd(H);R<H;)d[R++]=w;return d}function Dn(d,w){var R=[];return Rn(d,function(H,le,Se){w(H,le,Se)&&R.push(H)}),R}function An(d,w,R,H,le){var Se=-1,$e=d.length;for(R||(R=vb),le||(le=[]);++Se<$e;){var Ye=d[Se];w>0&&R(Ye)?w>1?An(Ye,w-1,R,H,le):Ua(le,Ye):H||(le[le.length]=Ye)}return le}var Gr=cm(),Vi=cm(!0);function Ii(d,w){return d&&Gr(d,w,Pa)}function so(d,w){return d&&Vi(d,w,Pa)}function Xi(d,w){return Zo(w,function(R){return Ys(d[R])})}function fi(d,w){w=fc(w,d);for(var R=0,H=w.length;d!=null&&R<H;)d=d[xl(w[R++])];return R&&R==H?d:n}function na(d,w,R){var H=w(d);return Xn(d)?H:Ua(H,R(d))}function Hi(d){return d==null?d===n?bi:Go:Ao&&Ao in Ln(d)?dc(d):wd(d)}function ra(d,w){return d>w}function wa(d,w){return d!=null&&jr.call(d,w)}function dl(d,w){return d!=null&&w in Ln(d)}function As(d,w,R){return d>=Wn(w,R)&&d<rr(w,R)}function Vf(d,w,R){for(var H=R?Fr:fu,le=d[0].length,Se=d.length,$e=Se,Ye=xt(Se),ut=1/0,Dt=[];$e--;){var Bt=d[$e];$e&&w&&(Bt=ti(Bt,ko(w))),ut=Wn(Bt.length,ut),Ye[$e]=!R&&(w||le>=120&&Bt.length>=120)?new L($e&&Bt):n}Bt=d[0];var Gt=-1,Sn=Ye[0];e:for(;++Gt<le&&Dt.length<ut;){var Nn=Bt[Gt],or=w?w(Nn):Nn;if(Nn=R||Nn!==0?Nn:0,!(Sn?hu(Sn,or):H(Dt,or,R))){for($e=Se;--$e;){var Br=Ye[$e];if(!(Br?hu(Br,or):H(d[$e],or,R)))continue e}Sn&&Sn.push(or),Dt.push(Nn)}}return Dt}function vu(d,w,R,H){return Ii(d,function(le,Se,$e){w(H,R(le),Se,$e)}),H}function ml(d,w,R){w=fc(w,d),d=Ka(d,w);var H=d==null?d:d[xl(bl(w))];return H==null?n:co(H,d,R)}function _u(d){return Qi(d)&&Hi(d)==vn}function Hf(d){return Qi(d)&&Hi(d)==vt}function rf(d){return Qi(d)&&Hi(d)==Fn}function Qa(d,w,R,H,le){return d===w?!0:d==null||w==null||!Qi(d)&&!Qi(w)?d!==d&&w!==w:of(d,w,R,H,Qa,le)}function of(d,w,R,H,le,Se){var $e=Xn(d),Ye=Xn(w),ut=$e?dn:Wa(d),Dt=Ye?dn:Wa(w);ut=ut==vn?Bi:ut,Dt=Dt==vn?Bi:Dt;var Bt=ut==Bi,Gt=Dt==Bi,Sn=ut==Dt;if(Sn&&ga(d)){if(!ga(w))return!1;$e=!0,Bt=!1}if(Sn&&!Bt)return Se||(Se=new G),$e||jl(d)?dm(d,w,R,H,le,Se):pb(d,w,ut,R,H,le,Se);if(!(R&q)){var Nn=Bt&&jr.call(d,"__wrapped__"),or=Gt&&jr.call(w,"__wrapped__");if(Nn||or){var Br=Nn?d.value():d,ar=or?w.value():w;return Se||(Se=new G),le(Br,ar,R,H,Se)}}return Sn?(Se||(Se=new G),hb(d,w,R,H,le,Se)):!1}function go(d){return Qi(d)&&Wa(d)==mi}function Xs(d,w,R,H){var le=R.length,Se=le,$e=!H;if(d==null)return!Se;for(d=Ln(d);le--;){var Ye=R[le];if($e&&Ye[2]?Ye[1]!==d[Ye[0]]:!(Ye[0]in d))return!1}for(;++le<Se;){Ye=R[le];var ut=Ye[0],Dt=d[ut],Bt=Ye[1];if($e&&Ye[2]){if(Dt===n&&!(ut in d))return!1}else{var Gt=new G;if(H)var Sn=H(Dt,Bt,ut,d,w,Gt);if(!(Sn===n?Qa(Bt,Dt,q|K,H,Gt):Sn))return!1}}return!0}function Ts(d){if(!pi(d)||xb(d))return!1;var w=Ys(d)?ba:bt;return w.test(hf(d))}function lc(d){return Qi(d)&&Hi(d)==ro}function Yi(d){return Qi(d)&&Wa(d)==Kr}function qi(d){return Qi(d)&&ap(d.length)&&!!$r[Hi(d)]}function Aa(d){return typeof d=="function"?d:d==null?Sl:typeof d=="object"?Xn(d)?tA(d[0],d[1]):Gf(d):s5(d)}function uc(d){if(!pf(d))return Vp(d);var w=[];for(var R in Ln(d))jr.call(d,R)&&R!="constructor"&&w.push(R);return w}function qp(d){if(!pi(d))return Ca(d);var w=pf(d),R=[];for(var H in d)H=="constructor"&&(w||!jr.call(d,H))||R.push(H);return R}function eA(d,w){return d<w}function qf(d,w){var R=-1,H=xo(d)?xt(d.length):[];return Rn(d,function(le,Se,$e){H[++R]=w(le,Se,$e)}),H}function Gf(d){var w=ri(d);return w.length==1&&w[0][2]?Yp(w[0][0],w[0][1]):function(R){return R===d||Xs(R,d,w)}}function tA(d,w){return bd(d)&&Xp(w)?Yp(xl(d),w):function(R){var H=Nd(R,d);return H===n&&H===w?Xa(R,d):Qa(w,H,q|K)}}function xu(d,w,R,H,le){d!==w&&Gr(w,function(Se,$e){if(le||(le=new G),pi(Se))Qf(d,w,$e,R,xu,H,le);else{var Ye=H?H(Sd(d,$e),Se,$e+"",d,w,le):n;Ye===n&&(Ye=Se),Ke(d,$e,Ye)}},ms)}function Qf(d,w,R,H,le,Se,$e){var Ye=Sd(d,R),ut=Sd(w,R),Dt=$e.get(ut);if(Dt){Ke(d,R,Dt);return}var Bt=Se?Se(Ye,ut,R+"",d,w,$e):n,Gt=Bt===n;if(Gt){var Sn=Xn(ut),Nn=!Sn&&ga(ut),or=!Sn&&!Nn&&jl(ut);Bt=ut,Sn||Nn||or?Xn(Ye)?Bt=Ye:hr(Ye)?Bt=Is(Ye):Nn?(Gt=!1,Bt=md(ut,!0)):or?(Gt=!1,Bt=Hy(ut,!0)):Bt=[]:yc(ut)||pr(ut)?(Bt=Ye,pr(Ye)?Bt=ph(Ye):(!pi(Ye)||Ys(Ye))&&(Bt=nv(ut))):Gt=!1}Gt&&($e.set(ut,Bt),le(Bt,ut,H,Se,$e),$e.delete(ut)),Ke(d,R,Bt)}function rm(d,w){var R=d.length;if(R)return w+=w<0?R:0,_l(w,R)?d[w]:n}function cd(d,w,R){w.length?w=ti(w,function(Se){return Xn(Se)?function($e){return fi($e,Se.length===1?Se[0]:Se)}:Se}):w=[Sl];var H=-1;w=ti(w,ko(Kn()));var le=qf(d,function(Se,$e,Ye){var ut=ti(w,function(Dt){return Dt(Se)});return{criteria:ut,index:++H,value:Se}});return Wc(le,function(Se,$e){return um(Se,$e,R)})}function Wf(d,w){return Ra(d,w,function(R,H){return Xa(d,H)})}function Ra(d,w,R){for(var H=-1,le=w.length,Se={};++H<le;){var $e=w[H],Ye=fi(d,$e);R(Ye,$e)&&Gp(Se,fc($e,d),Ye)}return Se}function rb(d){return function(w){return fi(w,d)}}function fd(d,w,R,H){var le=H?Np:zl,Se=-1,$e=w.length,Ye=d;for(d===w&&(w=Is(w)),R&&(Ye=ti(d,ko(R)));++Se<$e;)for(var ut=0,Dt=w[Se],Bt=R?R(Dt):Dt;(ut=le(Ye,Bt,ut,H))>-1;)Ye!==d&&un.call(Ye,ut,1),un.call(d,ut,1);return d}function Ny(d,w){for(var R=d?w.length:0,H=R-1;R--;){var le=w[R];if(R==H||le!==Se){var Se=le;_l(le)?un.call(d,le,1):sf(d,le)}}return d}function im(d,w){return d+Va(Bn()*(w-d+1))}function ib(d,w,R,H){for(var le=-1,Se=rr(mo((w-d)/(R||1)),0),$e=xt(Se);Se--;)$e[H?Se:++le]=d,d+=R;return $e}function om(d,w){var R="";if(!d||w<1||w>st)return R;do w%2&&(R+=d),w=Va(w/2),w&&(d+=d);while(w);return R}function kr(d,w){return sA(aA(d,w,Sl),d+"")}function ob(d){return ze(pp(d))}function pd(d,w){var R=pp(d);return lA(R,tn(w,0,R.length))}function Gp(d,w,R,H){if(!pi(d))return d;w=fc(w,d);for(var le=-1,Se=w.length,$e=Se-1,Ye=d;Ye!=null&&++le<Se;){var ut=xl(w[le]),Dt=R;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return d;if(le!=$e){var Bt=Ye[ut];Dt=H?H(Bt,ut,Ye):n,Dt===n&&(Dt=pi(Bt)?Bt:_l(w[le+1])?[]:{})}et(Ye,ut,Dt),Ye=Ye[ut]}return d}var cc=Yt?function(d,w){return Yt.set(d,w),d}:Sl,nA=Er?function(d,w){return Er(d,"toString",{configurable:!0,enumerable:!1,value:Wb(w),writable:!0})}:Sl;function ab(d){return lA(pp(d))}function gl(d,w,R){var H=-1,le=d.length;w<0&&(w=-w>le?0:le+w),R=R>le?le:R,R<0&&(R+=le),le=w>R?0:R-w>>>0,w>>>=0;for(var Se=xt(le);++H<le;)Se[H]=d[H+w];return Se}function sb(d,w){var R;return Rn(d,function(H,le,Se){return R=w(H,le,Se),!R}),!!R}function hd(d,w,R){var H=0,le=d==null?H:d.length;if(typeof w=="number"&&w===w&&le<=Mt){for(;H<le;){var Se=H+le>>>1,$e=d[Se];$e!==null&&!Za($e)&&(R?$e<=w:$e<w)?H=Se+1:le=Se}return le}return am(d,w,Sl,R)}function am(d,w,R,H){var le=0,Se=d==null?0:d.length;if(Se===0)return 0;w=R(w);for(var $e=w!==w,Ye=w===null,ut=Za(w),Dt=w===n;le<Se;){var Bt=Va((le+Se)/2),Gt=R(d[Bt]),Sn=Gt!==n,Nn=Gt===null,or=Gt===Gt,Br=Za(Gt);if($e)var ar=H||or;else Dt?ar=or&&(H||Sn):Ye?ar=or&&Sn&&(H||!Nn):ut?ar=or&&Sn&&!Nn&&(H||!Br):Nn||Br?ar=!1:ar=H?Gt<=w:Gt<w;ar?le=Bt+1:Se=Bt}return Wn(Se,ge)}function Uy(d,w){for(var R=-1,H=d.length,le=0,Se=[];++R<H;){var $e=d[R],Ye=w?w($e):$e;if(!R||!Ir(Ye,ut)){var ut=Ye;Se[le++]=$e===0?0:$e}}return Se}function $y(d){return typeof d=="number"?d:Za(d)?Le:+d}function ds(d){if(typeof d=="string")return d;if(Xn(d))return ti(d,ds)+"";if(Za(d))return v?v.call(d):"";var w=d+"";return w=="0"&&1/d==-bn?"-0":w}function af(d,w,R){var H=-1,le=fu,Se=d.length,$e=!0,Ye=[],ut=Ye;if(R)$e=!1,le=Fr;else if(Se>=s){var Dt=w?null:ev(d);if(Dt)return $a(Dt);$e=!1,le=hu,ut=new L}else ut=w?[]:Ye;e:for(;++H<Se;){var Bt=d[H],Gt=w?w(Bt):Bt;if(Bt=R||Bt!==0?Bt:0,$e&&Gt===Gt){for(var Sn=ut.length;Sn--;)if(ut[Sn]===Gt)continue e;w&&ut.push(Gt),Ye.push(Bt)}else le(ut,Gt,R)||(ut!==Ye&&ut.push(Gt),Ye.push(Bt))}return Ye}function sf(d,w){return w=fc(w,d),d=Ka(d,w),d==null||delete d[xl(bl(w))]}function jy(d,w,R,H){return Gp(d,w,R(fi(d,w)),H)}function Gi(d,w,R,H){for(var le=d.length,Se=H?le:-1;(H?Se--:++Se<le)&&w(d[Se],Se,d););return R?gl(d,H?0:Se,H?Se+1:le):gl(d,H?Se+1:0,H?le:Se)}function rA(d,w){var R=d;return R instanceof N&&(R=R.value()),Ju(w,function(H,le){return le.func.apply(le.thisArg,Ua([H],le.args))},R)}function Ad(d,w,R){var H=d.length;if(H<2)return H?af(d[0]):[];for(var le=-1,Se=xt(H);++le<H;)for(var $e=d[le],Ye=-1;++Ye<H;)Ye!=le&&(Se[le]=pn(Se[le]||$e,d[Ye],w,R));return af(An(Se,1),w,R)}function iA(d,w,R){for(var H=-1,le=d.length,Se=w.length,$e={};++H<le;){var Ye=H<Se?w[H]:n;R($e,d[H],Ye)}return $e}function Qp(d){return hr(d)?d:[]}function Kf(d){return typeof d=="function"?d:Sl}function fc(d,w){return Xn(d)?d:bd(d,w)?[d]:Yf(Or(d))}var Vy=kr;function yl(d,w,R){var H=d.length;return R=R===n?H:R,!w&&R>=H?d:gl(d,w,R)}var dd=ef||function(d){return yi.clearTimeout(d)};function md(d,w){if(w)return d.slice();var R=d.length,H=Ks?Ks(R):new d.constructor(R);return d.copy(H),H}function sm(d){var w=new d.constructor(d.byteLength);return new Ws(w).set(new Ws(d)),w}function oA(d,w){var R=w?sm(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.byteLength)}function lb(d){var w=new d.constructor(d.source,$t.exec(d));return w.lastIndex=d.lastIndex,w}function lm(d){return m?Ln(m.call(d)):{}}function Hy(d,w){var R=w?sm(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.length)}function gd(d,w){if(d!==w){var R=d!==n,H=d===null,le=d===d,Se=Za(d),$e=w!==n,Ye=w===null,ut=w===w,Dt=Za(w);if(!Ye&&!Dt&&!Se&&d>w||Se&&$e&&ut&&!Ye&&!Dt||H&&$e&&ut||!R&&ut||!le)return 1;if(!H&&!Se&&!Dt&&d<w||Dt&&R&&le&&!H&&!Se||Ye&&R&&le||!$e&&le||!ut)return-1}return 0}function um(d,w,R){for(var H=-1,le=d.criteria,Se=w.criteria,$e=le.length,Ye=R.length;++H<$e;){var ut=gd(le[H],Se[H]);if(ut){if(H>=Ye)return ut;var Dt=R[H];return ut*(Dt=="desc"?-1:1)}}return d.index-w.index}function vl(d,w,R,H){for(var le=-1,Se=d.length,$e=R.length,Ye=-1,ut=w.length,Dt=rr(Se-$e,0),Bt=xt(ut+Dt),Gt=!H;++Ye<ut;)Bt[Ye]=w[Ye];for(;++le<$e;)(Gt||le<Se)&&(Bt[R[le]]=d[le]);for(;Dt--;)Bt[Ye++]=d[le++];return Bt}function qy(d,w,R,H){for(var le=-1,Se=d.length,$e=-1,Ye=R.length,ut=-1,Dt=w.length,Bt=rr(Se-Ye,0),Gt=xt(Bt+Dt),Sn=!H;++le<Bt;)Gt[le]=d[le];for(var Nn=le;++ut<Dt;)Gt[Nn+ut]=w[ut];for(;++$e<Ye;)(Sn||le<Se)&&(Gt[Nn+R[$e]]=d[le++]);return Gt}function Is(d,w){var R=-1,H=d.length;for(w||(w=xt(H));++R<H;)w[R]=d[R];return w}function bu(d,w,R,H){var le=!R;R||(R={});for(var Se=-1,$e=w.length;++Se<$e;){var Ye=w[Se],ut=H?H(R[Ye],d[Ye],Ye,R,d):n;ut===n&&(ut=d[Ye]),le?zt(R,Ye,ut):et(R,Ye,ut)}return R}function ub(d,w){return bu(d,ff(d),w)}function Gy(d,w){return bu(d,ym(d),w)}function pc(d,w){return function(R,H){var le=Xn(R)?Bl:ht,Se=w?w():{};return le(R,d,Kn(H,2),Se)}}function Wp(d){return kr(function(w,R){var H=-1,le=R.length,Se=le>1?R[le-1]:n,$e=le>2?R[2]:n;for(Se=d.length>3&&typeof Se=="function"?(le--,Se):n,$e&&ia(R[0],R[1],$e)&&(Se=le<3?n:Se,le=1),w=Ln(w);++H<le;){var Ye=R[H];Ye&&d(w,Ye,H,Se)}return w})}function Qy(d,w){return function(R,H){if(R==null)return R;if(!xo(R))return d(R,H);for(var le=R.length,Se=w?le:-1,$e=Ln(R);(w?Se--:++Se<le)&&H($e[Se],Se,$e)!==!1;);return R}}function cm(d){return function(w,R,H){for(var le=-1,Se=Ln(w),$e=H(w),Ye=$e.length;Ye--;){var ut=$e[d?Ye:++le];if(R(Se[ut],ut,Se)===!1)break}return w}}function Wy(d,w,R){var H=w&ee,le=wu(d);function Se(){var $e=this&&this!==yi&&this instanceof Se?le:d;return $e.apply(H?R:this,arguments)}return Se}function Ky(d){return function(w){w=Or(w);var R=hl(w)?pa(w):n,H=R?R[0]:w.charAt(0),le=R?yl(R,1).join(""):w.slice(1);return H[d]()+le}}function Kp(d){return function(w){return Ju(o5(Gv(w).replace($c,"")),d,"")}}function wu(d){return function(){var w=arguments;switch(w.length){case 0:return new d;case 1:return new d(w[0]);case 2:return new d(w[0],w[1]);case 3:return new d(w[0],w[1],w[2]);case 4:return new d(w[0],w[1],w[2],w[3]);case 5:return new d(w[0],w[1],w[2],w[3],w[4]);case 6:return new d(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new d(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var R=k(d.prototype),H=d.apply(R,w);return pi(H)?H:R}}function cb(d,w,R){var H=wu(d);function le(){for(var Se=arguments.length,$e=xt(Se),Ye=Se,ut=Zf(le);Ye--;)$e[Ye]=arguments[Ye];var Dt=Se<3&&$e[0]!==ut&&$e[Se-1]!==ut?[]:Ps($e,ut);if(Se-=Dt.length,Se<R)return Jy(d,w,Os,le.placeholder,n,$e,Dt,n,n,R-Se);var Bt=this&&this!==yi&&this instanceof le?H:d;return co(Bt,this,$e)}return le}function yd(d){return function(w,R,H){var le=Ln(w);if(!xo(w)){var Se=Kn(R,3);w=Pa(w),R=function(Ye){return Se(le[Ye],Ye,le)}}var $e=d(w,R,H);return $e>-1?le[Se?w[$e]:$e]:n}}function Zp(d){return Ac(function(w){var R=w.length,H=R,le=I.prototype.thru;for(d&&w.reverse();H--;){var Se=w[H];if(typeof Se!="function")throw new $i(o);if(le&&!$e&&uf(Se)=="wrapper")var $e=new I([],!0)}for(H=$e?H:R;++H<R;){Se=w[H];var Ye=uf(Se),ut=Ye=="wrapper"?gm(Se):n;ut&&vm(ut[0])&&ut[1]==(we|ne|me|Ce)&&!ut[4].length&&ut[9]==1?$e=$e[uf(ut[0])].apply($e,ut[3]):$e=Se.length==1&&vm(Se)?$e[Ye]():$e.thru(Se)}return function(){var Dt=arguments,Bt=Dt[0];if($e&&Dt.length==1&&Xn(Bt))return $e.plant(Bt).value();for(var Gt=0,Sn=R?w[Gt].apply(this,Dt):Bt;++Gt<R;)Sn=w[Gt].call(this,Sn);return Sn}})}function Os(d,w,R,H,le,Se,$e,Ye,ut,Dt){var Bt=w&we,Gt=w&ee,Sn=w&V,Nn=w&(ne|pe),or=w&je,Br=Sn?n:wu(d);function ar(){for(var Wr=arguments.length,oi=xt(Wr),Hl=Wr;Hl--;)oi[Hl]=arguments[Hl];if(Nn)var Js=Zf(ar),ql=po(oi,Js);if(H&&(oi=vl(oi,H,le,Nn)),Se&&(oi=qy(oi,Se,$e,Nn)),Wr-=ql,Nn&&Wr<Dt){var ya=Ps(oi,Js);return Jy(d,w,Os,ar.placeholder,R,oi,ya,Ye,ut,Dt-Wr)}var xc=Gt?R:this,hp=Sn?xc[d]:d;return Wr=oi.length,Ye?oi=iv(oi,Ye):or&&Wr>1&&oi.reverse(),Bt&&ut<Wr&&(oi.length=ut),this&&this!==yi&&this instanceof ar&&(hp=Br||wu(hp)),hp.apply(xc,oi)}return ar}function Zy(d,w){return function(R,H){return vu(R,d,w(H),{})}}function vd(d,w){return function(R,H){var le;if(R===n&&H===n)return w;if(R!==n&&(le=R),H!==n){if(le===n)return H;typeof R=="string"||typeof H=="string"?(R=ds(R),H=ds(H)):(R=$y(R),H=$y(H)),le=d(R,H)}return le}}function fm(d){return Ac(function(w){return w=ti(w,ko(Kn())),kr(function(R){var H=this;return d(w,function(le){return co(le,H,R)})})})}function lf(d,w){w=w===n?" ":ds(w);var R=w.length;if(R<2)return R?om(w,d):w;var H=om(w,mo(d/cs(w)));return hl(w)?yl(pa(H),0,d).join(""):H.slice(0,d)}function Xy(d,w,R,H){var le=w&ee,Se=wu(d);function $e(){for(var Ye=-1,ut=arguments.length,Dt=-1,Bt=H.length,Gt=xt(Bt+ut),Sn=this&&this!==yi&&this instanceof $e?Se:d;++Dt<Bt;)Gt[Dt]=H[Dt];for(;ut--;)Gt[Dt++]=arguments[++Ye];return co(Sn,le?R:this,Gt)}return $e}function Yy(d){return function(w,R,H){return H&&typeof H!="number"&&ia(w,R,H)&&(R=H=n),w=Vl(w),R===n?(R=w,w=0):R=Vl(R),H=H===n?w<R?1:-1:Vl(H),ib(w,R,H,d)}}function _d(d){return function(w,R){return typeof w=="string"&&typeof R=="string"||(w=wl(w),R=wl(R)),d(w,R)}}function Jy(d,w,R,H,le,Se,$e,Ye,ut,Dt){var Bt=w&ne,Gt=Bt?$e:n,Sn=Bt?n:$e,Nn=Bt?Se:n,or=Bt?n:Se;w|=Bt?me:oe,w&=~(Bt?oe:me),w&X||(w&=~(ee|V));var Br=[d,w,le,Nn,Gt,or,Sn,Ye,ut,Dt],ar=R.apply(n,Br);return vm(d)&&ov(ar,Br),ar.placeholder=H,Cd(ar,d,w)}function pm(d){var w=ni[d];return function(R,H){if(R=wl(R),H=H==null?0:Wn(br(H),292),H&&nf(R)){var le=(Or(R)+"e").split("e"),Se=w(le[0]+"e"+(+le[1]+H));return le=(Or(Se)+"e").split("e"),+(le[0]+"e"+(+le[1]-H))}return w(R)}}var ev=qa&&1/$a(new qa([,-0]))[1]==bn?function(d){return new qa(d)}:Xb;function Sa(d){return function(w){var R=Wa(w);return R==mi?du(w):R==Kr?oc(w):Kc(w,d(w))}}function hc(d,w,R,H,le,Se,$e,Ye){var ut=w&V;if(!ut&&typeof d!="function")throw new $i(o);var Dt=H?H.length:0;if(Dt||(w&=~(me|oe),H=le=n),$e=$e===n?$e:rr(br($e),0),Ye=Ye===n?Ye:br(Ye),Dt-=le?le.length:0,w&oe){var Bt=H,Gt=le;H=le=n}var Sn=ut?n:gm(d),Nn=[d,w,R,H,le,Bt,Gt,Se,$e,Ye];if(Sn&&Jp(Nn,Sn),d=Nn[0],w=Nn[1],R=Nn[2],H=Nn[3],le=Nn[4],Ye=Nn[9]=Nn[9]===n?ut?0:d.length:rr(Nn[9]-Dt,0),!Ye&&w&(ne|pe)&&(w&=~(ne|pe)),!w||w==ee)var or=Wy(d,w,R);else w==ne||w==pe?or=cb(d,w,Ye):(w==me||w==(ee|me))&&!le.length?or=Xy(d,w,R,H):or=Os.apply(n,Nn);var Br=Sn?cc:ov;return Cd(Br(or,Nn),d,w)}function hm(d,w,R,H){return d===n||Ir(d,ps[R])&&!jr.call(H,R)?w:d}function Am(d,w,R,H,le,Se){return pi(d)&&pi(w)&&(Se.set(w,d),xu(d,w,n,Am,Se),Se.delete(w)),d}function fb(d){return yc(d)?n:d}function dm(d,w,R,H,le,Se){var $e=R&q,Ye=d.length,ut=w.length;if(Ye!=ut&&!($e&&ut>Ye))return!1;var Dt=Se.get(d),Bt=Se.get(w);if(Dt&&Bt)return Dt==w&&Bt==d;var Gt=-1,Sn=!0,Nn=R&K?new L:n;for(Se.set(d,w),Se.set(w,d);++Gt<Ye;){var or=d[Gt],Br=w[Gt];if(H)var ar=$e?H(Br,or,Gt,w,d,Se):H(or,Br,Gt,d,w,Se);if(ar!==n){if(ar)continue;Sn=!1;break}if(Nn){if(!Vs(w,function(Wr,oi){if(!hu(Nn,oi)&&(or===Wr||le(or,Wr,R,H,Se)))return Nn.push(oi)})){Sn=!1;break}}else if(!(or===Br||le(or,Br,R,H,Se))){Sn=!1;break}}return Se.delete(d),Se.delete(w),Sn}function pb(d,w,R,H,le,Se,$e){switch(R){case be:if(d.byteLength!=w.byteLength||d.byteOffset!=w.byteOffset)return!1;d=d.buffer,w=w.buffer;case vt:return!(d.byteLength!=w.byteLength||!Se(new Ws(d),new Ws(w)));case $n:case Fn:case gi:return Ir(+d,+w);case Vr:return d.name==w.name&&d.message==w.message;case ro:case Lo:return d==w+"";case mi:var Ye=du;case Kr:var ut=H&q;if(Ye||(Ye=$a),d.size!=w.size&&!ut)return!1;var Dt=$e.get(d);if(Dt)return Dt==w;H|=K,$e.set(d,w);var Bt=dm(Ye(d),Ye(w),H,le,Se,$e);return $e.delete(d),Bt;case io:if(m)return m.call(d)==m.call(w)}return!1}function hb(d,w,R,H,le,Se){var $e=R&q,Ye=xd(d),ut=Ye.length,Dt=xd(w),Bt=Dt.length;if(ut!=Bt&&!$e)return!1;for(var Gt=ut;Gt--;){var Sn=Ye[Gt];if(!($e?Sn in w:jr.call(w,Sn)))return!1}var Nn=Se.get(d),or=Se.get(w);if(Nn&&or)return Nn==w&&or==d;var Br=!0;Se.set(d,w),Se.set(w,d);for(var ar=$e;++Gt<ut;){Sn=Ye[Gt];var Wr=d[Sn],oi=w[Sn];if(H)var Hl=$e?H(oi,Wr,Sn,w,d,Se):H(Wr,oi,Sn,d,w,Se);if(!(Hl===n?Wr===oi||le(Wr,oi,R,H,Se):Hl)){Br=!1;break}ar||(ar=Sn=="constructor")}if(Br&&!ar){var Js=d.constructor,ql=w.constructor;Js!=ql&&"constructor"in d&&"constructor"in w&&!(typeof Js=="function"&&Js instanceof Js&&typeof ql=="function"&&ql instanceof ql)&&(Br=!1)}return Se.delete(d),Se.delete(w),Br}function Ac(d){return sA(aA(d,n,Jf),d+"")}function xd(d){return na(d,Pa,ff)}function mm(d){return na(d,ms,ym)}var gm=Yt?function(d){return Yt.get(d)}:Xb;function uf(d){for(var w=d.name+"",R=To[w],H=jr.call(To,w)?R.length:0;H--;){var le=R[H],Se=le.func;if(Se==null||Se==d)return le.name}return w}function Zf(d){var w=jr.call(_,"placeholder")?_:d;return w.placeholder}function Kn(){var d=_.iteratee||Kb;return d=d===Kb?Aa:d,arguments.length?d(arguments[0],arguments[1]):d}function Xf(d,w){var R=d.__data__;return _b(w)?R[typeof w=="string"?"string":"hash"]:R.map}function ri(d){for(var w=Pa(d),R=w.length;R--;){var H=w[R],le=d[H];w[R]=[H,le,Xp(le)]}return w}function cf(d,w){var R=Au(d,w);return Ts(R)?R:n}function dc(d){var w=jr.call(d,Ao),R=d[Ao];try{d[Ao]=n;var H=!0}catch{}var le=ho.call(d);return H&&(w?d[Ao]=R:delete d[Ao]),le}var ff=$l?function(d){return d==null?[]:(d=Ln(d),Zo($l(d),function(w){return Yo.call(d,w)}))}:Yb,ym=$l?function(d){for(var w=[];d;)Ua(w,ff(d)),d=Fo(d);return w}:Yb,Wa=Hi;(Ha&&Wa(new Ha(new ArrayBuffer(1)))!=be||Jo&&Wa(new Jo)!=mi||ea&&Wa(ea.resolve())!=Wi||qa&&Wa(new qa)!=Kr||Wt&&Wa(new Wt)!=Ro)&&(Wa=function(d){var w=Hi(d),R=w==Bi?d.constructor:n,H=R?hf(R):"";if(H)switch(H){case Ga:return be;case zo:return mi;case ji:return Wi;case Hp:return Kr;case ta:return Ro}return w});function Ab(d,w,R){for(var H=-1,le=R.length;++H<le;){var Se=R[H],$e=Se.size;switch(Se.type){case"drop":d+=$e;break;case"dropRight":w-=$e;break;case"take":w=Wn(w,d+$e);break;case"takeRight":d=rr(d,w-$e);break}}return{start:d,end:w}}function db(d){var w=d.match(Ve);return w?w[1].split(lt):[]}function tv(d,w,R){w=fc(w,d);for(var H=-1,le=w.length,Se=!1;++H<le;){var $e=xl(w[H]);if(!(Se=d!=null&&R(d,$e)))break;d=d[$e]}return Se||++H!=le?Se:(le=d==null?0:d.length,!!le&&ap(le)&&_l($e,le)&&(Xn(d)||pr(d)))}function mb(d){var w=d.length,R=new d.constructor(w);return w&&typeof d[0]=="string"&&jr.call(d,"index")&&(R.index=d.index,R.input=d.input),R}function nv(d){return typeof d.constructor=="function"&&!pf(d)?k(Fo(d)):{}}function gb(d,w,R){var H=d.constructor;switch(w){case vt:return sm(d);case $n:case Fn:return new H(+d);case be:return oA(d,R);case Je:case Ct:case ln:case Gn:case Mr:case Mn:case nr:case Hr:case Jr:return Hy(d,R);case mi:return new H;case gi:case Lo:return new H(d);case ro:return lb(d);case Kr:return new H;case io:return lm(d)}}function yb(d,w){var R=w.length;if(!R)return d;var H=R-1;return w[H]=(R>1?"& ":"")+w[H],w=w.join(R>2?", ":" "),d.replace(ae,`{
/* [wrapped with `+w+`] */
`)}function vb(d){return Xn(d)||pr(d)||!!(sc&&d&&d[sc])}function _l(d,w){var R=typeof d;return w=w??st,!!w&&(R=="number"||R!="symbol"&&fn.test(d))&&d>-1&&d%1==0&&d<w}function ia(d,w,R){if(!pi(R))return!1;var H=typeof w;return(H=="number"?xo(R)&&_l(w,R.length):H=="string"&&w in R)?Ir(R[w],d):!1}function bd(d,w){if(Xn(d))return!1;var R=typeof d;return R=="number"||R=="symbol"||R=="boolean"||d==null||Za(d)?!0:ve.test(d)||!fe.test(d)||w!=null&&d in Ln(w)}function _b(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function vm(d){var w=uf(d),R=_[w];if(typeof R!="function"||!(w in N.prototype))return!1;if(d===R)return!0;var H=gm(R);return!!H&&d===H[0]}function xb(d){return!!Po&&Po in d}var rv=Jc?Ys:Jb;function pf(d){var w=d&&d.constructor,R=typeof w=="function"&&w.prototype||ps;return d===R}function Xp(d){return d===d&&!pi(d)}function Yp(d,w){return function(R){return R==null?!1:R[d]===w&&(w!==n||d in Ln(R))}}function Ms(d){var w=li(d,function(H){return R.size===P&&R.clear(),H}),R=w.cache;return w}function Jp(d,w){var R=d[1],H=w[1],le=R|H,Se=le<(ee|V|we),$e=H==we&&R==ne||H==we&&R==Ce&&d[7].length<=w[8]||H==(we|Ce)&&w[7].length<=w[8]&&R==ne;if(!(Se||$e))return d;H&ee&&(d[2]=w[2],le|=R&ee?0:X);var Ye=w[3];if(Ye){var ut=d[3];d[3]=ut?vl(ut,Ye,w[4]):Ye,d[4]=ut?Ps(d[3],M):w[4]}return Ye=w[5],Ye&&(ut=d[5],d[5]=ut?qy(ut,Ye,w[6]):Ye,d[6]=ut?Ps(d[5],M):w[6]),Ye=w[7],Ye&&(d[7]=Ye),H&we&&(d[8]=d[8]==null?w[8]:Wn(d[8],w[8])),d[9]==null&&(d[9]=w[9]),d[0]=w[0],d[1]=le,d}function Ca(d){var w=[];if(d!=null)for(var R in Ln(d))w.push(R);return w}function wd(d){return ho.call(d)}function aA(d,w,R){return w=rr(w===n?d.length-1:w,0),function(){for(var H=arguments,le=-1,Se=rr(H.length-w,0),$e=xt(Se);++le<Se;)$e[le]=H[w+le];le=-1;for(var Ye=xt(w+1);++le<w;)Ye[le]=H[le];return Ye[w]=R($e),co(d,this,Ye)}}function Ka(d,w){return w.length<2?d:fi(d,gl(w,0,-1))}function iv(d,w){for(var R=d.length,H=Wn(w.length,R),le=Is(d);H--;){var Se=w[H];d[H]=_l(Se,R)?le[Se]:n}return d}function Sd(d,w){if(!(w==="constructor"&&typeof d[w]=="function")&&w!="__proto__")return d[w]}var ov=av(cc),eh=jf||function(d,w){return yi.setTimeout(d,w)},sA=av(nA);function Cd(d,w,R){var H=w+"";return sA(d,yb(H,sv(db(H),R)))}function av(d){var w=0,R=0;return function(){var H=ha(),le=At-(H-R);if(R=H,le>0){if(++w>=rt)return arguments[0]}else w=0;return d.apply(n,arguments)}}function lA(d,w){var R=-1,H=d.length,le=H-1;for(w=w===n?H:w;++R<w;){var Se=im(R,le),$e=d[Se];d[Se]=d[R],d[R]=$e}return d.length=w,d}var Yf=Ms(function(d){var w=[];return d.charCodeAt(0)===46&&w.push(""),d.replace(Ie,function(R,H,le,Se){w.push(le?Se.replace(ye,"$1"):H||R)}),w});function xl(d){if(typeof d=="string"||Za(d))return d;var w=d+"";return w=="0"&&1/d==-bn?"-0":w}function hf(d){if(d!=null){try{return Al.call(d)}catch{}try{return d+""}catch{}}return""}function sv(d,w){return fo(en,function(R){var H="_."+R[0];w&R[1]&&!fu(d,H)&&d.push(H)}),d.sort()}function lv(d){if(d instanceof N)return d.clone();var w=new I(d.__wrapped__,d.__chain__);return w.__actions__=Is(d.__actions__),w.__index__=d.__index__,w.__values__=d.__values__,w}function uv(d,w,R){(R?ia(d,w,R):w===n)?w=1:w=rr(br(w),0);var H=d==null?0:d.length;if(!H||w<1)return[];for(var le=0,Se=0,$e=xt(mo(H/w));le<H;)$e[Se++]=gl(d,le,le+=w);return $e}function cv(d){for(var w=-1,R=d==null?0:d.length,H=0,le=[];++w<R;){var Se=d[w];Se&&(le[H++]=Se)}return le}function fv(){var d=arguments.length;if(!d)return[];for(var w=xt(d-1),R=arguments[0],H=d;H--;)w[H-1]=arguments[H];return Ua(Xn(R)?Is(R):[R],An(w,1))}var pv=kr(function(d,w){return hr(d)?pn(d,An(w,1,hr,!0)):[]}),bb=kr(function(d,w){var R=bl(w);return hr(R)&&(R=n),hr(d)?pn(d,An(w,1,hr,!0),Kn(R,2)):[]}),wb=kr(function(d,w){var R=bl(w);return hr(R)&&(R=n),hr(d)?pn(d,An(w,1,hr,!0),n,R):[]});function hv(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:br(w),gl(d,w<0?0:w,H)):[]}function Av(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:br(w),w=H-w,gl(d,0,w<0?0:w)):[]}function Ed(d,w){return d&&d.length?Gi(d,Kn(w,3),!0,!0):[]}function dv(d,w){return d&&d.length?Gi(d,Kn(w,3),!0):[]}function kd(d,w,R,H){var le=d==null?0:d.length;return le?(R&&typeof R!="number"&&ia(d,w,R)&&(R=0,H=le),Un(d,w,R,H)):[]}function uA(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var le=R==null?0:br(R);return le<0&&(le=rr(H+le,0)),qs(d,Kn(w,3),le)}function cA(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var le=H-1;return R!==n&&(le=br(R),le=R<0?rr(H+le,0):Wn(le,H-1)),qs(d,Kn(w,3),le,!0)}function Jf(d){var w=d==null?0:d.length;return w?An(d,1):[]}function Sb(d){var w=d==null?0:d.length;return w?An(d,bn):[]}function Cb(d,w){var R=d==null?0:d.length;return R?(w=w===n?1:br(w),An(d,w)):[]}function Eb(d){for(var w=-1,R=d==null?0:d.length,H={};++w<R;){var le=d[w];H[le[0]]=le[1]}return H}function ep(d){return d&&d.length?d[0]:n}function _m(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var le=R==null?0:br(R);return le<0&&(le=rr(H+le,0)),zl(d,w,le)}function mv(d){var w=d==null?0:d.length;return w?gl(d,0,-1):[]}var xm=kr(function(d){var w=ti(d,Qp);return w.length&&w[0]===d[0]?Vf(w):[]}),gv=kr(function(d){var w=bl(d),R=ti(d,Qp);return w===bl(R)?w=n:R.pop(),R.length&&R[0]===d[0]?Vf(R,Kn(w,2)):[]}),yv=kr(function(d){var w=bl(d),R=ti(d,Qp);return w=typeof w=="function"?w:n,w&&R.pop(),R.length&&R[0]===d[0]?Vf(R,n,w):[]});function kb(d,w){return d==null?"":hs.call(d,w)}function bl(d){var w=d==null?0:d.length;return w?d[w-1]:n}function Pb(d,w,R){var H=d==null?0:d.length;if(!H)return-1;var le=H;return R!==n&&(le=br(R),le=le<0?rr(H+le,0):Wn(le,H-1)),w===w?Up(d,w,le):qs(d,Qc,le,!0)}function Pd(d,w){return d&&d.length?rm(d,br(w)):n}var bm=kr(vv);function vv(d,w){return d&&d.length&&w&&w.length?fd(d,w):d}function th(d,w,R){return d&&d.length&&w&&w.length?fd(d,w,Kn(R,2)):d}function fA(d,w,R){return d&&d.length&&w&&w.length?fd(d,w,n,R):d}var Zr=Ac(function(d,w){var R=d==null?0:d.length,H=Ft(d,w);return Ny(d,ti(w,function(le){return _l(le,R)?+le:le}).sort(gd)),H});function Tb(d,w){var R=[];if(!(d&&d.length))return R;var H=-1,le=[],Se=d.length;for(w=Kn(w,3);++H<Se;){var $e=d[H];w($e,H,d)&&(R.push($e),le.push(H))}return Ny(d,le),R}function pA(d){return d==null?d:Bo.call(d)}function nh(d,w,R){var H=d==null?0:d.length;return H?(R&&typeof R!="number"&&ia(d,w,R)?(w=0,R=H):(w=w==null?0:br(w),R=R===n?H:br(R)),gl(d,w,R)):[]}function Ib(d,w){return hd(d,w)}function Ob(d,w,R){return am(d,w,Kn(R,2))}function Mb(d,w){var R=d==null?0:d.length;if(R){var H=hd(d,w);if(H<R&&Ir(d[H],w))return H}return-1}function Lb(d,w){return hd(d,w,!0)}function Rb(d,w,R){return am(d,w,Kn(R,2),!0)}function Db(d,w){var R=d==null?0:d.length;if(R){var H=hd(d,w,!0)-1;if(Ir(d[H],w))return H}return-1}function Fb(d){return d&&d.length?Uy(d):[]}function _v(d,w){return d&&d.length?Uy(d,Kn(w,2)):[]}function xv(d){var w=d==null?0:d.length;return w?gl(d,1,w):[]}function bv(d,w,R){return d&&d.length?(w=R||w===n?1:br(w),gl(d,0,w<0?0:w)):[]}function wv(d,w,R){var H=d==null?0:d.length;return H?(w=R||w===n?1:br(w),w=H-w,gl(d,w<0?0:w,H)):[]}function Td(d,w){return d&&d.length?Gi(d,Kn(w,3),!1,!0):[]}function tp(d,w){return d&&d.length?Gi(d,Kn(w,3)):[]}var wm=kr(function(d){return af(An(d,1,hr,!0))}),rh=kr(function(d){var w=bl(d);return hr(w)&&(w=n),af(An(d,1,hr,!0),Kn(w,2))}),Sv=kr(function(d){var w=bl(d);return w=typeof w=="function"?w:n,af(An(d,1,hr,!0),n,w)});function yo(d){return d&&d.length?af(d):[]}function vi(d,w){return d&&d.length?af(d,Kn(w,2)):[]}function Cv(d,w){return w=typeof w=="function"?w:n,d&&d.length?af(d,n,w):[]}function Id(d){if(!(d&&d.length))return[];var w=0;return d=Zo(d,function(R){if(hr(R))return w=rr(R.length,w),!0}),qr(w,function(R){return ti(d,tc(R))})}function Sm(d,w){if(!(d&&d.length))return[];var R=Id(d);return w==null?R:ti(R,function(H){return co(w,n,H)})}var Ev=kr(function(d,w){return hr(d)?pn(d,w):[]}),kv=kr(function(d){return Ad(Zo(d,hr))}),Cm=kr(function(d){var w=bl(d);return hr(w)&&(w=n),Ad(Zo(d,hr),Kn(w,2))}),np=kr(function(d){var w=bl(d);return w=typeof w=="function"?w:n,Ad(Zo(d,hr),n,w)}),rp=kr(Id);function Pv(d,w){return iA(d||[],w||[],et)}function vo(d,w){return iA(d||[],w||[],Gp)}var hA=kr(function(d){var w=d.length,R=w>1?d[w-1]:n;return R=typeof R=="function"?(d.pop(),R):n,Sm(d,R)});function Su(d){var w=_(d);return w.__chain__=!0,w}function Od(d,w){return w(d),d}function ip(d,w){return w(d)}var Em=Ac(function(d){var w=d.length,R=w?d[0]:0,H=this.__wrapped__,le=function(Se){return Ft(Se,d)};return w>1||this.__actions__.length||!(H instanceof N)||!_l(R)?this.thru(le):(H=H.slice(R,+R+(w?1:0)),H.__actions__.push({func:ip,args:[le],thisArg:n}),new I(H,this.__chain__).thru(function(Se){return w&&!Se.length&&Se.push(n),Se}))});function ih(){return Su(this)}function mc(){return new I(this.value(),this.__chain__)}function Tv(){this.__values__===n&&(this.__values__=Pm(this.value()));var d=this.__index__>=this.__values__.length,w=d?n:this.__values__[this.__index__++];return{done:d,value:w}}function Iv(){return this}function Bb(d){for(var w,R=this;R instanceof O;){var H=lv(R);H.__index__=0,H.__values__=n,w?le.__wrapped__=H:w=H;var le=H;R=R.__wrapped__}return le.__wrapped__=d,w}function No(){var d=this.__wrapped__;if(d instanceof N){var w=d;return this.__actions__.length&&(w=new N(this)),w=w.reverse(),w.__actions__.push({func:ip,args:[pA],thisArg:n}),new I(w,this.__chain__)}return this.thru(pA)}function Af(){return rA(this.__wrapped__,this.__actions__)}var Ov=pc(function(d,w,R){jr.call(d,R)?++d[R]:zt(d,R,1)});function r(d,w,R){var H=Xn(d)?ul:Vn;return R&&ia(d,w,R)&&(w=n),H(d,Kn(w,3))}function a(d,w){var R=Xn(d)?Zo:Dn;return R(d,Kn(w,3))}var u=yd(uA),g=yd(cA);function b(d,w){return An(he(d,w),1)}function C(d,w){return An(he(d,w),bn)}function T(d,w,R){return R=R===n?1:br(R),An(he(d,w),R)}function B(d,w){var R=Xn(d)?fo:Rn;return R(d,Kn(w,3))}function j(d,w){var R=Xn(d)?us:tr;return R(d,Kn(w,3))}var W=pc(function(d,w,R){jr.call(d,R)?d[R].push(w):zt(d,R,[w])});function Z(d,w,R,H){d=xo(d)?d:pp(d),R=R&&!H?br(R):0;var le=d.length;return R<0&&(R=rr(le+R,0)),vc(d)?R<=le&&d.indexOf(w,R)>-1:!!le&&zl(d,w,R)>-1}var Y=kr(function(d,w,R){var H=-1,le=typeof w=="function",Se=xo(d)?xt(d.length):[];return Rn(d,function($e){Se[++H]=le?co(w,$e,R):ml($e,w,R)}),Se}),ue=pc(function(d,w,R){zt(d,R,w)});function he(d,w){var R=Xn(d)?ti:qf;return R(d,Kn(w,3))}function Ee(d,w,R,H){return d==null?[]:(Xn(w)||(w=w==null?[]:[w]),R=H?n:R,Xn(R)||(R=R==null?[]:[R]),cd(d,w,R))}var ke=pc(function(d,w,R){d[R?0:1].push(w)},function(){return[[],[]]});function He(d,w,R){var H=Xn(d)?Ju:Nl,le=arguments.length<3;return H(d,Kn(w,4),R,le,Rn)}function De(d,w,R){var H=Xn(d)?pu:Nl,le=arguments.length<3;return H(d,Kn(w,4),R,le,tr)}function nt(d,w){var R=Xn(d)?Zo:Dn;return R(d,_i(Kn(w,3)))}function ot(d){var w=Xn(d)?ze:ob;return w(d)}function ft(d,w,R){(R?ia(d,w,R):w===n)?w=1:w=br(w);var H=Xn(d)?Pe:pd;return H(d,w)}function pt(d){var w=Xn(d)?Be:ab;return w(d)}function kt(d){if(d==null)return 0;if(xo(d))return vc(d)?cs(d):d.length;var w=Wa(d);return w==mi||w==Kr?d.size:uc(d).length}function Ut(d,w,R){var H=Xn(d)?Vs:sb;return R&&ia(d,w,R)&&(w=n),H(d,Kn(w,3))}var Zt=kr(function(d,w){if(d==null)return[];var R=w.length;return R>1&&ia(d,w[0],w[1])?w=[]:R>2&&ia(w[0],w[1],w[2])&&(w=[w[0]]),cd(d,An(w,1),[])}),gn=jp||function(){return yi.Date.now()};function nn(d,w){if(typeof w!="function")throw new $i(o);return d=br(d),function(){if(--d<1)return w.apply(this,arguments)}}function En(d,w,R){return w=R?n:w,w=d&&w==null?d.length:w,hc(d,we,n,n,n,n,w)}function on(d,w){var R;if(typeof w!="function")throw new $i(o);return d=br(d),function(){return--d>0&&(R=w.apply(this,arguments)),d<=1&&(w=n),R}}var Zn=kr(function(d,w,R){var H=ee;if(R.length){var le=Ps(R,Zf(Zn));H|=me}return hc(d,H,w,R,le)}),On=kr(function(d,w,R){var H=ee|V;if(R.length){var le=Ps(R,Zf(On));H|=me}return hc(w,H,d,R,le)});function yn(d,w,R){w=R?n:w;var H=hc(d,ne,n,n,n,n,n,w);return H.placeholder=yn.placeholder,H}function ir(d,w,R){w=R?n:w;var H=hc(d,pe,n,n,n,n,n,w);return H.placeholder=ir.placeholder,H}function Hn(d,w,R){var H,le,Se,$e,Ye,ut,Dt=0,Bt=!1,Gt=!1,Sn=!0;if(typeof d!="function")throw new $i(o);w=wl(w)||0,pi(R)&&(Bt=!!R.leading,Gt="maxWait"in R,Se=Gt?rr(wl(R.maxWait)||0,w):Se,Sn="trailing"in R?!!R.trailing:Sn);function Nn(ya){var xc=H,hp=le;return H=le=n,Dt=ya,$e=d.apply(hp,xc),$e}function or(ya){return Dt=ya,Ye=eh(Wr,w),Bt?Nn(ya):$e}function Br(ya){var xc=ya-ut,hp=ya-Dt,l5=w-xc;return Gt?Wn(l5,Se-hp):l5}function ar(ya){var xc=ya-ut,hp=ya-Dt;return ut===n||xc>=w||xc<0||Gt&&hp>=Se}function Wr(){var ya=gn();if(ar(ya))return oi(ya);Ye=eh(Wr,Br(ya))}function oi(ya){return Ye=n,Sn&&H?Nn(ya):(H=le=n,$e)}function Hl(){Ye!==n&&dd(Ye),Dt=0,H=ut=le=Ye=n}function Js(){return Ye===n?$e:oi(gn())}function ql(){var ya=gn(),xc=ar(ya);if(H=arguments,le=this,ut=ya,xc){if(Ye===n)return or(ut);if(Gt)return dd(Ye),Ye=eh(Wr,w),Nn(ut)}return Ye===n&&(Ye=eh(Wr,w)),$e}return ql.cancel=Hl,ql.flush=Js,ql}var xr=kr(function(d,w){return _r(d,1,w)}),Pn=kr(function(d,w,R){return _r(d,wl(w)||0,R)});function Lr(d){return hc(d,je)}function li(d,w){if(typeof d!="function"||w!=null&&typeof w!="function")throw new $i(o);var R=function(){var H=arguments,le=w?w.apply(this,H):H[0],Se=R.cache;if(Se.has(le))return Se.get(le);var $e=d.apply(this,H);return R.cache=Se.set(le,$e)||Se,$e};return R.cache=new(li.Cache||Kt),R}li.Cache=Kt;function _i(d){if(typeof d!="function")throw new $i(o);return function(){var w=arguments;switch(w.length){case 0:return!d.call(this);case 1:return!d.call(this,w[0]);case 2:return!d.call(this,w[0],w[1]);case 3:return!d.call(this,w[0],w[1],w[2])}return!d.apply(this,w)}}function Oi(d){return on(2,d)}var xi=Vy(function(d,w){w=w.length==1&&Xn(w[0])?ti(w[0],ko(Kn())):ti(An(w,1),ko(Kn()));var R=w.length;return kr(function(H){for(var le=-1,Se=Wn(H.length,R);++le<Se;)H[le]=w[le].call(this,H[le]);return co(d,this,H)})}),Ci=kr(function(d,w){var R=Ps(w,Zf(Ci));return hc(d,me,n,w,R)}),_o=kr(function(d,w){var R=Ps(w,Zf(_o));return hc(d,oe,n,w,R)}),Io=Ac(function(d,w){return hc(d,Ce,n,n,n,w)});function Ea(d,w){if(typeof d!="function")throw new $i(o);return w=w===n?w:br(w),kr(d,w)}function Uo(d,w){if(typeof d!="function")throw new $i(o);return w=w==null?0:rr(br(w),0),kr(function(R){var H=R[w],le=yl(R,0,w);return H&&Ua(le,H),co(d,this,le)})}function ka(d,w,R){var H=!0,le=!0;if(typeof d!="function")throw new $i(o);return pi(R)&&(H="leading"in R?!!R.leading:H,le="trailing"in R?!!R.trailing:le),Hn(d,w,{leading:H,maxWait:w,trailing:le})}function Ji(d){return En(d,1)}function $o(d,w){return Ci(Kf(w),d)}function fr(){if(!arguments.length)return[];var d=arguments[0];return Xn(d)?d:[d]}function ii(d){return mn(d,U)}function Qr(d,w){return w=typeof w=="function"?w:n,mn(d,U,w)}function Pr(d){return mn(d,D|U)}function Da(d,w){return w=typeof w=="function"?w:n,mn(d,D|U,w)}function da(d,w){return w==null||kn(d,w,Pa(w))}function Ir(d,w){return d===w||d!==d&&w!==w}var lo=_d(ra),ma=_d(function(d,w){return d>=w}),pr=_u(function(){return arguments}())?_u:function(d){return Qi(d)&&jr.call(d,"callee")&&!Yo.call(d,"callee")},Xn=xt.isArray,Ls=Fl?ko(Fl):Hf;function xo(d){return d!=null&&ap(d.length)&&!Ys(d)}function hr(d){return Qi(d)&&xo(d)}function Cu(d){return d===!0||d===!1||Qi(d)&&Hi(d)==$n}var ga=tf||Jb,oh=qc?ko(qc):rf;function op(d){return Qi(d)&&d.nodeType===1&&!yc(d)}function ah(d){if(d==null)return!0;if(xo(d)&&(Xn(d)||typeof d=="string"||typeof d.splice=="function"||ga(d)||jl(d)||pr(d)))return!d.length;var w=Wa(d);if(w==mi||w==Kr)return!d.size;if(pf(d))return!uc(d).length;for(var R in d)if(jr.call(d,R))return!1;return!0}function gc(d,w){return Qa(d,w)}function sh(d,w,R){R=typeof R=="function"?R:n;var H=R?R(d,w):n;return H===n?Qa(d,w,n,R):!!H}function lh(d){if(!Qi(d))return!1;var w=Hi(d);return w==Vr||w==Yr||typeof d.message=="string"&&typeof d.name=="string"&&!yc(d)}function uh(d){return typeof d=="number"&&nf(d)}function Ys(d){if(!pi(d))return!1;var w=Hi(d);return w==Fi||w==jn||w==Cn||w==Ss}function AA(d){return typeof d=="number"&&d==br(d)}function ap(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=st}function pi(d){var w=typeof d;return d!=null&&(w=="object"||w=="function")}function Qi(d){return d!=null&&typeof d=="object"}var sp=Ki?ko(Ki):go;function df(d,w){return d===w||Xs(d,w,ri(w))}function ch(d,w,R){return R=typeof R=="function"?R:n,Xs(d,w,ri(w),R)}function Md(d){return gA(d)&&d!=+d}function Ld(d){if(rv(d))throw new er(l);return Ts(d)}function dA(d){return d===null}function mA(d){return d==null}function gA(d){return typeof d=="number"||Qi(d)&&Hi(d)==gi}function yc(d){if(!Qi(d)||Hi(d)!=Bi)return!1;var w=Fo(d);if(w===null)return!0;var R=jr.call(w,"constructor")&&w.constructor;return typeof R=="function"&&R instanceof R&&Al.call(R)==$f}var lp=Gc?ko(Gc):lc;function yA(d){return AA(d)&&d>=-st&&d<=st}var vA=js?ko(js):Yi;function vc(d){return typeof d=="string"||!Xn(d)&&Qi(d)&&Hi(d)==Lo}function Za(d){return typeof d=="symbol"||Qi(d)&&Hi(d)==io}var jl=Es?ko(Es):qi;function _A(d){return d===n}function up(d){return Qi(d)&&Wa(d)==Ro}function xA(d){return Qi(d)&&Hi(d)==la}var fh=_d(eA),km=_d(function(d,w){return d<=w});function Pm(d){if(!d)return[];if(xo(d))return vc(d)?pa(d):Is(d);if(Zs&&d[Zs])return Si(d[Zs]());var w=Wa(d),R=w==mi?du:w==Kr?$a:pp;return R(d)}function Vl(d){if(!d)return d===0?d:0;if(d=wl(d),d===bn||d===-bn){var w=d<0?-1:1;return w*Me}return d===d?d:0}function br(d){var w=Vl(d),R=w%1;return w===w?R?w-R:w:0}function Rd(d){return d?tn(br(d),0,re):0}function wl(d){if(typeof d=="number")return d;if(Za(d))return Le;if(pi(d)){var w=typeof d.valueOf=="function"?d.valueOf():d;d=pi(w)?w+"":w}if(typeof d!="string")return d===0?d:+d;d=zf(d);var R=It.test(d);return R||hn.test(d)?Bp(d.slice(2),R?2:8):ct.test(d)?Le:+d}function ph(d){return bu(d,ms(d))}function eo(d){return d?tn(br(d),-st,st):d===0?d:0}function Or(d){return d==null?"":ds(d)}var zb=Wp(function(d,w){if(pf(w)||xo(w)){bu(w,Pa(w),d);return}for(var R in w)jr.call(w,R)&&et(d,R,w[R])}),_c=Wp(function(d,w){bu(w,ms(w),d)}),hh=Wp(function(d,w,R,H){bu(w,ms(w),d,H)}),Mv=Wp(function(d,w,R,H){bu(w,Pa(w),d,H)}),Dd=Ac(Ft);function Eu(d,w){var R=k(d);return w==null?R:yt(R,w)}var Fd=kr(function(d,w){d=Ln(d);var R=-1,H=w.length,le=H>2?w[2]:n;for(le&&ia(w[0],w[1],le)&&(H=1);++R<H;)for(var Se=w[R],$e=ms(Se),Ye=-1,ut=$e.length;++Ye<ut;){var Dt=$e[Ye],Bt=d[Dt];(Bt===n||Ir(Bt,ps[Dt])&&!jr.call(d,Dt))&&(d[Dt]=Se[Dt])}return d}),bA=kr(function(d){return d.push(n,Am),co(fp,n,d)});function Bd(d,w){return Hs(d,Kn(w,3),Ii)}function zd(d,w){return Hs(d,Kn(w,3),so)}function Tm(d,w){return d==null?d:Gr(d,Kn(w,3),ms)}function Lv(d,w){return d==null?d:Vi(d,Kn(w,3),ms)}function wA(d,w){return d&&Ii(d,Kn(w,3))}function Rv(d,w){return d&&so(d,Kn(w,3))}function Dv(d){return d==null?[]:Xi(d,Pa(d))}function Fv(d){return d==null?[]:Xi(d,ms(d))}function Nd(d,w,R){var H=d==null?n:fi(d,w);return H===n?R:H}function Bv(d,w){return d!=null&&tv(d,w,wa)}function Xa(d,w){return d!=null&&tv(d,w,dl)}var Ud=Zy(function(d,w,R){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),d[w]=R},Wb(Sl)),zv=Zy(function(d,w,R){w!=null&&typeof w.toString!="function"&&(w=ho.call(w)),jr.call(d,w)?d[w].push(R):d[w]=[R]},Kn),ku=kr(ml);function Pa(d){return xo(d)?Te(d):uc(d)}function ms(d){return xo(d)?Te(d,!0):qp(d)}function cp(d,w){var R={};return w=Kn(w,3),Ii(d,function(H,le,Se){zt(R,w(H,le,Se),H)}),R}function Ah(d,w){var R={};return w=Kn(w,3),Ii(d,function(H,le,Se){zt(R,le,w(H,le,Se))}),R}var dh=Wp(function(d,w,R){xu(d,w,R)}),fp=Wp(function(d,w,R,H){xu(d,w,R,H)}),mh=Ac(function(d,w){var R={};if(d==null)return R;var H=!1;w=ti(w,function(Se){return Se=fc(Se,d),H||(H=Se.length>1),Se}),bu(d,mm(d),R),H&&(R=mn(R,D|z|U,fb));for(var le=w.length;le--;)sf(R,w[le]);return R});function Nv(d,w){return Im(d,_i(Kn(w)))}var Uv=Ac(function(d,w){return d==null?{}:Wf(d,w)});function Im(d,w){if(d==null)return{};var R=ti(mm(d),function(H){return[H]});return w=Kn(w),Ra(d,R,function(H,le){return w(H,le[0])})}function $v(d,w,R){w=fc(w,d);var H=-1,le=w.length;for(le||(le=1,d=n);++H<le;){var Se=d==null?n:d[xl(w[H])];Se===n&&(H=le,Se=R),d=Ys(Se)?Se.call(d):Se}return d}function Om(d,w,R){return d==null?d:Gp(d,w,R)}function Mm(d,w,R,H){return H=typeof H=="function"?H:n,d==null?d:Gp(d,w,R,H)}var Pu=Sa(Pa),Lm=Sa(ms);function Rm(d,w,R){var H=Xn(d),le=H||ga(d)||jl(d);if(w=Kn(w,4),R==null){var Se=d&&d.constructor;le?R=H?new Se:[]:pi(d)?R=Ys(Se)?k(Fo(d)):{}:R={}}return(le?fo:Ii)(d,function($e,Ye,ut){return w(R,$e,Ye,ut)}),R}function Dm(d,w){return d==null?!0:sf(d,w)}function jv(d,w,R){return d==null?d:jy(d,w,Kf(R))}function Fm(d,w,R,H){return H=typeof H=="function"?H:n,d==null?d:jy(d,w,Kf(R),H)}function pp(d){return d==null?[]:Zc(d,Pa(d))}function Vv(d){return d==null?[]:Zc(d,ms(d))}function Bm(d,w,R){return R===n&&(R=w,w=n),R!==n&&(R=wl(R),R=R===R?R:0),w!==n&&(w=wl(w),w=w===w?w:0),tn(wl(d),w,R)}function Hv(d,w,R){return w=Vl(w),R===n?(R=w,w=0):R=Vl(R),d=wl(d),As(d,w,R)}function SA(d,w,R){if(R&&typeof R!="boolean"&&ia(d,w,R)&&(w=R=n),R===n&&(typeof w=="boolean"?(R=w,w=n):typeof d=="boolean"&&(R=d,d=n)),d===n&&w===n?(d=0,w=1):(d=Vl(d),w===n?(w=d,d=0):w=Vl(w)),d>w){var H=d;d=w,w=H}if(R||d%1||w%1){var le=Bn();return Wn(d+le*(w-d+Hc("1e-"+((le+"").length-1))),w)}return im(d,w)}var qv=Kp(function(d,w,R){return w=w.toLowerCase(),d+(R?CA(w):w)});function CA(d){return Qb(Or(d).toLowerCase())}function Gv(d){return d=Or(d),d&&d.replace(Qt,Ui).replace(jc,"")}function Qv(d,w,R){d=Or(d),w=ds(w);var H=d.length;R=R===n?H:tn(br(R),0,H);var le=R;return R-=w.length,R>=0&&d.slice(R,le)==w}function Nb(d){return d=Or(d),d&&Ei.test(d)?d.replace(La,Xc):d}function Ub(d){return d=Or(d),d&&Ge.test(d)?d.replace(Ue,"\\$&"):d}var $b=Kp(function(d,w,R){return d+(R?"-":"")+w.toLowerCase()}),jb=Kp(function(d,w,R){return d+(R?" ":"")+w.toLowerCase()}),Vb=Ky("toLowerCase");function Hb(d,w,R){d=Or(d),w=br(w);var H=w?cs(d):0;if(!w||H>=w)return d;var le=(w-H)/2;return lf(Va(le),R)+d+lf(mo(le),R)}function qb(d,w,R){d=Or(d),w=br(w);var H=w?cs(d):0;return w&&H<w?d+lf(w-H,R):d}function Gb(d,w,R){d=Or(d),w=br(w);var H=w?cs(d):0;return w&&H<w?lf(w-H,R)+d:d}function Tu(d,w,R){return R||w==null?w=0:w&&(w=+w),Ti(Or(d).replace(Ne,""),w||0)}function $d(d,w,R){return(R?ia(d,w,R):w===n)?w=1:w=br(w),om(Or(d),w)}function Wv(){var d=arguments,w=Or(d[0]);return d.length<3?w:w.replace(d[1],d[2])}var EA=Kp(function(d,w,R){return d+(R?"_":"")+w.toLowerCase()});function Kv(d,w,R){return R&&typeof R!="number"&&ia(d,w,R)&&(w=R=n),R=R===n?re:R>>>0,R?(d=Or(d),d&&(typeof w=="string"||w!=null&&!lp(w))&&(w=ds(w),!w&&hl(d))?yl(pa(d),0,R):d.split(w,R)):[]}var ND=Kp(function(d,w,R){return d+(R?" ":"")+Qb(w)});function UD(d,w,R){return d=Or(d),R=R==null?0:tn(br(R),0,d.length),w=ds(w),d.slice(R,R+w.length)==w}function $D(d,w,R){var H=_.templateSettings;R&&ia(d,w,R)&&(w=n),d=Or(d),w=hh({},w,H,hm);var le=hh({},w.imports,H.imports,hm),Se=Pa(le),$e=Zc(le,Se),Ye,ut,Dt=0,Bt=w.interpolate||dr,Gt="__p += '",Sn=cr((w.escape||dr).source+"|"+Bt.source+"|"+(Bt===se?Lt:dr).source+"|"+(w.evaluate||dr).source+"|$","g"),Nn="//# sourceURL="+(jr.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ll+"]")+`
`;d.replace(Sn,function(ar,Wr,oi,Hl,Js,ql){return oi||(oi=Hl),Gt+=d.slice(Dt,ql).replace(Jn,rc),Wr&&(Ye=!0,Gt+=`' +
__e(`+Wr+`) +
'`),Js&&(ut=!0,Gt+=`';
`+Js+`;
__p += '`),oi&&(Gt+=`' +
((__t = (`+oi+`)) == null ? '' : __t) +
'`),Dt=ql+ar.length,ar}),Gt+=`';
`;var or=jr.call(w,"variable")&&w.variable;if(!or)Gt=`with (obj) {
`+Gt+`
}
`;else if(A.test(or))throw new er(x);Gt=(ut?Gt.replace(mr,""):Gt).replace(Co,"$1").replace(ei,"$1;"),Gt="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gt+`return __p
}`;var Br=a5(function(){return Cr(Se,Nn+"return "+Gt).apply(n,$e)});if(Br.source=Gt,lh(Br))throw Br;return Br}function jD(d){return Or(d).toLowerCase()}function VD(d){return Or(d).toUpperCase()}function HD(d,w,R){if(d=Or(d),d&&(R||w===n))return zf(d);if(!d||!(w=ds(w)))return d;var H=pa(d),le=pa(w),Se=pl(H,le),$e=Nf(H,le)+1;return yl(H,Se,$e).join("")}function qD(d,w,R){if(d=Or(d),d&&(R||w===n))return d.slice(0,fs(d)+1);if(!d||!(w=ds(w)))return d;var H=pa(d),le=Nf(H,pa(w))+1;return yl(H,0,le).join("")}function GD(d,w,R){if(d=Or(d),d&&(R||w===n))return d.replace(Ne,"");if(!d||!(w=ds(w)))return d;var H=pa(d),le=pl(H,pa(w));return yl(H,le).join("")}function QD(d,w){var R=tt,H=qe;if(pi(w)){var le="separator"in w?w.separator:le;R="length"in w?br(w.length):R,H="omission"in w?ds(w.omission):H}d=Or(d);var Se=d.length;if(hl(d)){var $e=pa(d);Se=$e.length}if(R>=Se)return d;var Ye=R-cs(H);if(Ye<1)return H;var ut=$e?yl($e,0,Ye).join(""):d.slice(0,Ye);if(le===n)return ut+H;if($e&&(Ye+=ut.length-Ye),lp(le)){if(d.slice(Ye).search(le)){var Dt,Bt=ut;for(le.global||(le=cr(le.source,Or($t.exec(le))+"g")),le.lastIndex=0;Dt=le.exec(Bt);)var Gt=Dt.index;ut=ut.slice(0,Gt===n?Ye:Gt)}}else if(d.indexOf(ds(le),Ye)!=Ye){var Sn=ut.lastIndexOf(le);Sn>-1&&(ut=ut.slice(0,Sn))}return ut+H}function WD(d){return d=Or(d),d&&Ht.test(d)?d.replace(ua,Gs):d}var KD=Kp(function(d,w,R){return d+(R?" ":"")+w.toUpperCase()}),Qb=Ky("toUpperCase");function o5(d,w,R){return d=Or(d),w=R?n:w,w===n?ic(d)?Yc(d):cl(d):d.match(w)||[]}var a5=kr(function(d,w){try{return co(d,n,w)}catch(R){return lh(R)?R:new er(R)}}),ZD=Ac(function(d,w){return fo(w,function(R){R=xl(R),zt(d,R,Zn(d[R],d))}),d});function XD(d){var w=d==null?0:d.length,R=Kn();return d=w?ti(d,function(H){if(typeof H[1]!="function")throw new $i(o);return[R(H[0]),H[1]]}):[],kr(function(H){for(var le=-1;++le<w;){var Se=d[le];if(co(Se[0],this,H))return co(Se[1],this,H)}})}function YD(d){return Tn(mn(d,D))}function Wb(d){return function(){return d}}function JD(d,w){return d==null||d!==d?w:d}var eF=Zp(),tF=Zp(!0);function Sl(d){return d}function Kb(d){return Aa(typeof d=="function"?d:mn(d,D))}function nF(d){return Gf(mn(d,D))}function rF(d,w){return tA(d,mn(w,D))}var iF=kr(function(d,w){return function(R){return ml(R,d,w)}}),oF=kr(function(d,w){return function(R){return ml(d,R,w)}});function Zb(d,w,R){var H=Pa(w),le=Xi(w,H);R==null&&!(pi(w)&&(le.length||!H.length))&&(R=w,w=d,d=this,le=Xi(w,Pa(w)));var Se=!(pi(R)&&"chain"in R)||!!R.chain,$e=Ys(d);return fo(le,function(Ye){var ut=w[Ye];d[Ye]=ut,$e&&(d.prototype[Ye]=function(){var Dt=this.__chain__;if(Se||Dt){var Bt=d(this.__wrapped__),Gt=Bt.__actions__=Is(this.__actions__);return Gt.push({func:ut,args:arguments,thisArg:d}),Bt.__chain__=Dt,Bt}return ut.apply(d,Ua([this.value()],arguments))})}),d}function aF(){return yi._===this&&(yi._=Zi),this}function Xb(){}function sF(d){return d=br(d),kr(function(w){return rm(w,d)})}var lF=fm(ti),uF=fm(ul),cF=fm(Vs);function s5(d){return bd(d)?tc(xl(d)):rb(d)}function fF(d){return function(w){return d==null?n:fi(d,w)}}var pF=Yy(),hF=Yy(!0);function Yb(){return[]}function Jb(){return!1}function AF(){return{}}function dF(){return""}function mF(){return!0}function gF(d,w){if(d=br(d),d<1||d>st)return[];var R=re,H=Wn(d,re);w=Kn(w),d-=re;for(var le=qr(H,w);++R<d;)w(R);return le}function yF(d){return Xn(d)?ti(d,xl):Za(d)?[d]:Is(Yf(Or(d)))}function vF(d){var w=++ac;return Or(d)+w}var _F=vd(function(d,w){return d+w},0),xF=pm("ceil"),bF=vd(function(d,w){return d/w},1),wF=pm("floor");function SF(d){return d&&d.length?zn(d,Sl,ra):n}function CF(d,w){return d&&d.length?zn(d,Kn(w,2),ra):n}function EF(d){return fl(d,Sl)}function kF(d,w){return fl(d,Kn(w,2))}function PF(d){return d&&d.length?zn(d,Sl,eA):n}function TF(d,w){return d&&d.length?zn(d,Kn(w,2),eA):n}var IF=vd(function(d,w){return d*w},1),OF=pm("round"),MF=vd(function(d,w){return d-w},0);function LF(d){return d&&d.length?nc(d,Sl):0}function RF(d,w){return d&&d.length?nc(d,Kn(w,2)):0}return _.after=nn,_.ary=En,_.assign=zb,_.assignIn=_c,_.assignInWith=hh,_.assignWith=Mv,_.at=Dd,_.before=on,_.bind=Zn,_.bindAll=ZD,_.bindKey=On,_.castArray=fr,_.chain=Su,_.chunk=uv,_.compact=cv,_.concat=fv,_.cond=XD,_.conforms=YD,_.constant=Wb,_.countBy=Ov,_.create=Eu,_.curry=yn,_.curryRight=ir,_.debounce=Hn,_.defaults=Fd,_.defaultsDeep=bA,_.defer=xr,_.delay=Pn,_.difference=pv,_.differenceBy=bb,_.differenceWith=wb,_.drop=hv,_.dropRight=Av,_.dropRightWhile=Ed,_.dropWhile=dv,_.fill=kd,_.filter=a,_.flatMap=b,_.flatMapDeep=C,_.flatMapDepth=T,_.flatten=Jf,_.flattenDeep=Sb,_.flattenDepth=Cb,_.flip=Lr,_.flow=eF,_.flowRight=tF,_.fromPairs=Eb,_.functions=Dv,_.functionsIn=Fv,_.groupBy=W,_.initial=mv,_.intersection=xm,_.intersectionBy=gv,_.intersectionWith=yv,_.invert=Ud,_.invertBy=zv,_.invokeMap=Y,_.iteratee=Kb,_.keyBy=ue,_.keys=Pa,_.keysIn=ms,_.map=he,_.mapKeys=cp,_.mapValues=Ah,_.matches=nF,_.matchesProperty=rF,_.memoize=li,_.merge=dh,_.mergeWith=fp,_.method=iF,_.methodOf=oF,_.mixin=Zb,_.negate=_i,_.nthArg=sF,_.omit=mh,_.omitBy=Nv,_.once=Oi,_.orderBy=Ee,_.over=lF,_.overArgs=xi,_.overEvery=uF,_.overSome=cF,_.partial=Ci,_.partialRight=_o,_.partition=ke,_.pick=Uv,_.pickBy=Im,_.property=s5,_.propertyOf=fF,_.pull=bm,_.pullAll=vv,_.pullAllBy=th,_.pullAllWith=fA,_.pullAt=Zr,_.range=pF,_.rangeRight=hF,_.rearg=Io,_.reject=nt,_.remove=Tb,_.rest=Ea,_.reverse=pA,_.sampleSize=ft,_.set=Om,_.setWith=Mm,_.shuffle=pt,_.slice=nh,_.sortBy=Zt,_.sortedUniq=Fb,_.sortedUniqBy=_v,_.split=Kv,_.spread=Uo,_.tail=xv,_.take=bv,_.takeRight=wv,_.takeRightWhile=Td,_.takeWhile=tp,_.tap=Od,_.throttle=ka,_.thru=ip,_.toArray=Pm,_.toPairs=Pu,_.toPairsIn=Lm,_.toPath=yF,_.toPlainObject=ph,_.transform=Rm,_.unary=Ji,_.union=wm,_.unionBy=rh,_.unionWith=Sv,_.uniq=yo,_.uniqBy=vi,_.uniqWith=Cv,_.unset=Dm,_.unzip=Id,_.unzipWith=Sm,_.update=jv,_.updateWith=Fm,_.values=pp,_.valuesIn=Vv,_.without=Ev,_.words=o5,_.wrap=$o,_.xor=kv,_.xorBy=Cm,_.xorWith=np,_.zip=rp,_.zipObject=Pv,_.zipObjectDeep=vo,_.zipWith=hA,_.entries=Pu,_.entriesIn=Lm,_.extend=_c,_.extendWith=hh,Zb(_,_),_.add=_F,_.attempt=a5,_.camelCase=qv,_.capitalize=CA,_.ceil=xF,_.clamp=Bm,_.clone=ii,_.cloneDeep=Pr,_.cloneDeepWith=Da,_.cloneWith=Qr,_.conformsTo=da,_.deburr=Gv,_.defaultTo=JD,_.divide=bF,_.endsWith=Qv,_.eq=Ir,_.escape=Nb,_.escapeRegExp=Ub,_.every=r,_.find=u,_.findIndex=uA,_.findKey=Bd,_.findLast=g,_.findLastIndex=cA,_.findLastKey=zd,_.floor=wF,_.forEach=B,_.forEachRight=j,_.forIn=Tm,_.forInRight=Lv,_.forOwn=wA,_.forOwnRight=Rv,_.get=Nd,_.gt=lo,_.gte=ma,_.has=Bv,_.hasIn=Xa,_.head=ep,_.identity=Sl,_.includes=Z,_.indexOf=_m,_.inRange=Hv,_.invoke=ku,_.isArguments=pr,_.isArray=Xn,_.isArrayBuffer=Ls,_.isArrayLike=xo,_.isArrayLikeObject=hr,_.isBoolean=Cu,_.isBuffer=ga,_.isDate=oh,_.isElement=op,_.isEmpty=ah,_.isEqual=gc,_.isEqualWith=sh,_.isError=lh,_.isFinite=uh,_.isFunction=Ys,_.isInteger=AA,_.isLength=ap,_.isMap=sp,_.isMatch=df,_.isMatchWith=ch,_.isNaN=Md,_.isNative=Ld,_.isNil=mA,_.isNull=dA,_.isNumber=gA,_.isObject=pi,_.isObjectLike=Qi,_.isPlainObject=yc,_.isRegExp=lp,_.isSafeInteger=yA,_.isSet=vA,_.isString=vc,_.isSymbol=Za,_.isTypedArray=jl,_.isUndefined=_A,_.isWeakMap=up,_.isWeakSet=xA,_.join=kb,_.kebabCase=$b,_.last=bl,_.lastIndexOf=Pb,_.lowerCase=jb,_.lowerFirst=Vb,_.lt=fh,_.lte=km,_.max=SF,_.maxBy=CF,_.mean=EF,_.meanBy=kF,_.min=PF,_.minBy=TF,_.stubArray=Yb,_.stubFalse=Jb,_.stubObject=AF,_.stubString=dF,_.stubTrue=mF,_.multiply=IF,_.nth=Pd,_.noConflict=aF,_.noop=Xb,_.now=gn,_.pad=Hb,_.padEnd=qb,_.padStart=Gb,_.parseInt=Tu,_.random=SA,_.reduce=He,_.reduceRight=De,_.repeat=$d,_.replace=Wv,_.result=$v,_.round=OF,_.runInContext=it,_.sample=ot,_.size=kt,_.snakeCase=EA,_.some=Ut,_.sortedIndex=Ib,_.sortedIndexBy=Ob,_.sortedIndexOf=Mb,_.sortedLastIndex=Lb,_.sortedLastIndexBy=Rb,_.sortedLastIndexOf=Db,_.startCase=ND,_.startsWith=UD,_.subtract=MF,_.sum=LF,_.sumBy=RF,_.template=$D,_.times=gF,_.toFinite=Vl,_.toInteger=br,_.toLength=Rd,_.toLower=jD,_.toNumber=wl,_.toSafeInteger=eo,_.toString=Or,_.toUpper=VD,_.trim=HD,_.trimEnd=qD,_.trimStart=GD,_.truncate=QD,_.unescape=WD,_.uniqueId=vF,_.upperCase=KD,_.upperFirst=Qb,_.each=B,_.eachRight=j,_.first=ep,Zb(_,function(){var d={};return Ii(_,function(w,R){jr.call(_.prototype,R)||(d[R]=w)}),d}(),{chain:!1}),_.VERSION=i,fo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){_[d].placeholder=_}),fo(["drop","take"],function(d,w){N.prototype[d]=function(R){R=R===n?1:rr(br(R),0);var H=this.__filtered__&&!w?new N(this):this.clone();return H.__filtered__?H.__takeCount__=Wn(R,H.__takeCount__):H.__views__.push({size:Wn(R,re),type:d+(H.__dir__<0?"Right":"")}),H},N.prototype[d+"Right"]=function(R){return this.reverse()[d](R).reverse()}}),fo(["filter","map","takeWhile"],function(d,w){var R=w+1,H=R==Ot||R==Jt;N.prototype[d]=function(le){var Se=this.clone();return Se.__iteratees__.push({iteratee:Kn(le,3),type:R}),Se.__filtered__=Se.__filtered__||H,Se}}),fo(["head","last"],function(d,w){var R="take"+(w?"Right":"");N.prototype[d]=function(){return this[R](1).value()[0]}}),fo(["initial","tail"],function(d,w){var R="drop"+(w?"":"Right");N.prototype[d]=function(){return this.__filtered__?new N(this):this[R](1)}}),N.prototype.compact=function(){return this.filter(Sl)},N.prototype.find=function(d){return this.filter(d).head()},N.prototype.findLast=function(d){return this.reverse().find(d)},N.prototype.invokeMap=kr(function(d,w){return typeof d=="function"?new N(this):this.map(function(R){return ml(R,d,w)})}),N.prototype.reject=function(d){return this.filter(_i(Kn(d)))},N.prototype.slice=function(d,w){d=br(d);var R=this;return R.__filtered__&&(d>0||w<0)?new N(R):(d<0?R=R.takeRight(-d):d&&(R=R.drop(d)),w!==n&&(w=br(w),R=w<0?R.dropRight(-w):R.take(w-d)),R)},N.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},N.prototype.toArray=function(){return this.take(re)},Ii(N.prototype,function(d,w){var R=/^(?:filter|find|map|reject)|While$/.test(w),H=/^(?:head|last)$/.test(w),le=_[H?"take"+(w=="last"?"Right":""):w],Se=H||/^find/.test(w);le&&(_.prototype[w]=function(){var $e=this.__wrapped__,Ye=H?[1]:arguments,ut=$e instanceof N,Dt=Ye[0],Bt=ut||Xn($e),Gt=function(Wr){var oi=le.apply(_,Ua([Wr],Ye));return H&&Sn?oi[0]:oi};Bt&&R&&typeof Dt=="function"&&Dt.length!=1&&(ut=Bt=!1);var Sn=this.__chain__,Nn=!!this.__actions__.length,or=Se&&!Sn,Br=ut&&!Nn;if(!Se&&Bt){$e=Br?$e:new N(this);var ar=d.apply($e,Ye);return ar.__actions__.push({func:ip,args:[Gt],thisArg:n}),new I(ar,Sn)}return or&&Br?d.apply(this,Ye):(ar=this.thru(Gt),or?H?ar.value()[0]:ar.value():ar)})}),fo(["pop","push","shift","sort","splice","unshift"],function(d){var w=gu[d],R=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",H=/^(?:pop|shift)$/.test(d);_.prototype[d]=function(){var le=arguments;if(H&&!this.__chain__){var Se=this.value();return w.apply(Xn(Se)?Se:[],le)}return this[R](function($e){return w.apply(Xn($e)?$e:[],le)})}}),Ii(N.prototype,function(d,w){var R=_[w];if(R){var H=R.name+"";jr.call(To,H)||(To[H]=[]),To[H].push({name:w,func:R})}}),To[Os(n,V).name]=[{name:"wrapper",func:n}],N.prototype.clone=Q,N.prototype.reverse=ie,N.prototype.value=ce,_.prototype.at=Em,_.prototype.chain=ih,_.prototype.commit=mc,_.prototype.next=Tv,_.prototype.plant=Bb,_.prototype.reverse=No,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Af,_.prototype.first=_.prototype.head,Zs&&(_.prototype[Zs]=Iv),_},Qs=mu();Us?((Us.exports=Qs)._=Qs,uu._=Qs):yi._=Qs}).call(Ru)})(u9,ns);var Dc={},Vu={},qh={},c9={get exports(){return qh},set exports(e){qh=e}},no={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=60103,$2=60106,vy=60107,_y=60108,xy=60114,by=60109,wy=60110,Sy=60112,Cy=60113,LC=60120,Ey=60115,ky=60116,HO=60121,qO=60122,GO=60117,QO=60129,WO=60131;if(typeof Symbol=="function"&&Symbol.for){var gs=Symbol.for;U2=gs("react.element"),$2=gs("react.portal"),vy=gs("react.fragment"),_y=gs("react.strict_mode"),xy=gs("react.profiler"),by=gs("react.provider"),wy=gs("react.context"),Sy=gs("react.forward_ref"),Cy=gs("react.suspense"),LC=gs("react.suspense_list"),Ey=gs("react.memo"),ky=gs("react.lazy"),HO=gs("react.block"),qO=gs("react.server.block"),GO=gs("react.fundamental"),QO=gs("react.debug_trace_mode"),WO=gs("react.legacy_hidden")}function Fc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U2:switch(e=e.type,e){case vy:case xy:case _y:case Cy:case LC:return e;default:switch(e=e&&e.$$typeof,e){case wy:case Sy:case ky:case Ey:case by:return e;default:return t}}case $2:return t}}}var f9=by,p9=U2,h9=Sy,A9=vy,d9=ky,m9=Ey,g9=$2,y9=xy,v9=_y,_9=Cy;no.ContextConsumer=wy;no.ContextProvider=f9;no.Element=p9;no.ForwardRef=h9;no.Fragment=A9;no.Lazy=d9;no.Memo=m9;no.Portal=g9;no.Profiler=y9;no.StrictMode=v9;no.Suspense=_9;no.isAsyncMode=function(){return!1};no.isConcurrentMode=function(){return!1};no.isContextConsumer=function(e){return Fc(e)===wy};no.isContextProvider=function(e){return Fc(e)===by};no.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U2};no.isForwardRef=function(e){return Fc(e)===Sy};no.isFragment=function(e){return Fc(e)===vy};no.isLazy=function(e){return Fc(e)===ky};no.isMemo=function(e){return Fc(e)===Ey};no.isPortal=function(e){return Fc(e)===$2};no.isProfiler=function(e){return Fc(e)===xy};no.isStrictMode=function(e){return Fc(e)===_y};no.isSuspense=function(e){return Fc(e)===Cy};no.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vy||e===xy||e===QO||e===_y||e===Cy||e===LC||e===WO||typeof e=="object"&&e!==null&&(e.$$typeof===ky||e.$$typeof===Ey||e.$$typeof===by||e.$$typeof===wy||e.$$typeof===Sy||e.$$typeof===GO||e.$$typeof===HO||e[0]===qO)};no.typeOf=Fc;(function(e){e.exports=no})(c9);Object.defineProperty(Vu,"__esModule",{value:!0});Vu.isArray=C9;Vu.isBoolean=XO;Vu.isNull=YO;Vu.isNumber=ZO;Vu.isObject=S9;Vu.isPrimitiveData=w9;Vu.isString=KO;Vu.isUndefined=JO;var x9=ns,b9=qh;function KO(e){return typeof e=="string"}function ZO(e){return typeof e=="number"}function XO(e){return typeof e=="boolean"}function YO(e){return e===null}function JO(e){return e===void 0}function w9(e){return KO(e)||ZO(e)||XO(e)||YO(e)||JO(e)}function S9(e){return(0,x9.isPlainObject)(e)&&!(0,b9.isElement)(e)}function C9(e){return Array.isArray(e)}var j2={},eM={},RC={};Object.defineProperty(RC,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function _k(e){return Object.prototype.toString.call(e)==="[object Object]"}function E9(e){var t,n;return _k(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(_k(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}RC.isPlainObject=E9;var DC={},U_=Ru&&Ru.__assign||function(){return U_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},U_.apply(this,arguments)},k9=Ru&&Ru.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var l=arguments[t],o=0,x=l.length;o<x;o++,s++)i[s]=l[o];return i};Object.defineProperty(DC,"__esModule",{value:!0});var Gm=[];function P9(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function T9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function I9(e){return Object.getOwnPropertySymbols(e).filter(function(t){return Object.prototype.propertyIsEnumerable.call(e,t)})}function i_(e,t,n){n===void 0&&(n="");var i={indent:"	",singleQuotes:!0},s=U_(U_({},i),t),l;s.inlineCharacterLimit===void 0?l={newLine:`
`,newLineOrSpace:`
`,pad:n,indent:n+s.indent}:l={newLine:"@@__PRETTY_PRINT_NEW_LINE__@@",newLineOrSpace:"@@__PRETTY_PRINT_NEW_LINE_OR_SPACE__@@",pad:"@@__PRETTY_PRINT_PAD__@@",indent:"@@__PRETTY_PRINT_INDENT__@@"};var o=function(P){if(s.inlineCharacterLimit===void 0)return P;var M=P.replace(new RegExp(l.newLine,"g"),"").replace(new RegExp(l.newLineOrSpace,"g")," ").replace(new RegExp(l.pad+"|"+l.indent,"g"),"");return M.length<=s.inlineCharacterLimit?M:P.replace(new RegExp(l.newLine+"|"+l.newLineOrSpace,"g"),`
`).replace(new RegExp(l.pad,"g"),n).replace(new RegExp(l.indent,"g"),n+s.indent)};if(Gm.indexOf(e)!==-1)return'"[Circular]"';if(e==null||typeof e=="number"||typeof e=="boolean"||typeof e=="function"||typeof e=="symbol"||T9(e))return String(e);if(e instanceof Date)return"new Date('"+e.toISOString()+"')";if(Array.isArray(e)){if(e.length===0)return"[]";Gm.push(e);var x="["+l.newLine+e.map(function(P,M){var D=e.length-1===M?l.newLine:","+l.newLineOrSpace,z=i_(P,s,n+s.indent);return s.transform&&(z=s.transform(e,M,z)),l.indent+z+D}).join("")+l.pad+"]";return Gm.pop(),o(x)}if(P9(e)){var S=k9(Object.keys(e),I9(e));if(s.filter&&(S=S.filter(function(M){return s.filter&&s.filter(e,M)})),S.length===0)return"{}";Gm.push(e);var x="{"+l.newLine+S.map(function(M,D){var z=S.length-1===D?l.newLine:","+l.newLineOrSpace,U=typeof M=="symbol",q=!U&&/^[a-z$_][a-z$_0-9]*$/i.test(M.toString()),K=U||q?M:i_(M,s),ee=i_(e[M],s,n+s.indent);return s.transform&&(ee=s.transform(e,M,ee)),l.indent+String(K)+": "+ee+z}).join("")+l.pad+"}";return Gm.pop(),o(x)}return e=String(e).replace(/[\r\n]/g,function(P){return P===`
`?"\\n":"\\r"}),s.singleQuotes?(e=e.replace(/\\?'/g,"\\'"),"'"+e+"'"):(e=e.replace(/"/g,'\\"'),'"'+e+'"')}DC.prettyPrint=i_;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=RC,n=jt,i=DC,s=qh;function l(vt){return vt&&typeof vt=="object"&&"default"in vt?vt:{default:vt}}function o(vt){if(vt&&vt.__esModule)return vt;var be=Object.create(null);return vt&&Object.keys(vt).forEach(function(Je){if(Je!=="default"){var Ct=Object.getOwnPropertyDescriptor(vt,Je);Object.defineProperty(be,Je,Ct.get?Ct:{enumerable:!0,get:function(){return vt[Je]}})}}),be.default=vt,Object.freeze(be)}var x=o(n),S=l(n),P=function(vt,be){return vt===0?"":new Array(vt*be).fill(" ").join("")};function M(vt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(be){return typeof be}:M=function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},M(vt)}function D(vt){return z(vt)||U(vt)||q(vt)||ee()}function z(vt){if(Array.isArray(vt))return K(vt)}function U(vt){if(typeof Symbol<"u"&&vt[Symbol.iterator]!=null||vt["@@iterator"]!=null)return Array.from(vt)}function q(vt,be){if(vt){if(typeof vt=="string")return K(vt,be);var Je=Object.prototype.toString.call(vt).slice(8,-1);if(Je==="Object"&&vt.constructor&&(Je=vt.constructor.name),Je==="Map"||Je==="Set")return Array.from(vt);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return K(vt,be)}}function K(vt,be){(be==null||be>vt.length)&&(be=vt.length);for(var Je=0,Ct=new Array(be);Je<be;Je++)Ct[Je]=vt[Je];return Ct}function ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(vt,be){return vt===null||M(vt)!=="object"||vt instanceof Date||vt instanceof RegExp||x.isValidElement(vt)?vt:(be.add(vt),Array.isArray(vt)?vt.map(function(Je){return V(Je,be)}):Object.keys(vt).sort().reduce(function(Je,Ct){return Ct==="_owner"||(Ct==="current"||be.has(vt[Ct])?Je[Ct]="[Circular]":Je[Ct]=V(vt[Ct],be)),Je},{}))}function X(vt){return V(vt,new WeakSet)}var ne=function(be){return{type:"string",value:be}},pe=function(be){return{type:"number",value:be}},me=function(be,Je,Ct,ln){return{type:"ReactElement",displayName:be,props:Je,defaultProps:Ct,childrens:ln}},oe=function(be,Je){return{type:"ReactFragment",key:be,childrens:Je}},we=Boolean(n.Fragment),Ce=function(be){return!be.name||be.name==="_default"?"No Display Name":be.name},je=function vt(be){switch(!0){case Boolean(be.displayName):return be.displayName;case be.$$typeof===s.Memo:return vt(be.type);case be.$$typeof===s.ForwardRef:return vt(be.render);default:return Ce(be)}},tt=function(be){switch(!0){case typeof be.type=="string":return be.type;case typeof be.type=="function":return be.type.displayName?be.type.displayName:Ce(be.type);case s.isForwardRef(be):case s.isMemo(be):return je(be.type);case s.isContextConsumer(be):return"".concat(be.type._context.displayName||"Context",".Consumer");case s.isContextProvider(be):return"".concat(be.type._context.displayName||"Context",".Provider");case s.isLazy(be):return"Lazy";case s.isProfiler(be):return"Profiler";case s.isStrictMode(be):return"StrictMode";case s.isSuspense(be):return"Suspense";default:return"UnknownElementType"}},qe=function(be,Je){return Je!=="children"},rt=function(be){return be!==!0&&be!==!1&&be!==null&&be!==""},At=function(be,Je){var Ct={};return Object.keys(be).filter(function(ln){return Je(be[ln],ln)}).forEach(function(ln){return Ct[ln]=be[ln]}),Ct},Ot=function vt(be,Je){var Ct=Je.displayName,ln=Ct===void 0?tt:Ct;if(typeof be=="string")return ne(be);if(typeof be=="number")return pe(be);if(!S.default.isValidElement(be))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `".concat(M(be),"`"));var Gn=ln(be),Mr=At(be.props,qe);be.ref!==null&&(Mr.ref=be.ref);var Mn=be.key;typeof Mn=="string"&&Mn.search(/^\./)&&(Mr.key=Mn);var nr=At(be.type.defaultProps||{},qe),Hr=S.default.Children.toArray(be.props.children).filter(rt).map(function(Jr){return vt(Jr,Je)});return we&&be.type===n.Fragment?oe(Mn,Hr):me(Gn,Mr,nr,Hr)};function Vt(){}var Jt=function(be){return be.toString().split(`
`).map(function(Je){return Je.trim()}).join("")},bn=function(be){return be.toString()},st=Jt,Me=function(vt,be){var Je=be.functionValue,Ct=Je===void 0?st:Je,ln=be.showFunctions;return Ct(!ln&&Ct===st?Vt:vt)},Le=function(vt,be,Je,Ct){var ln=X(vt),Gn=i.prettyPrint(ln,{transform:function(Mn,nr,Hr){var Jr=Mn[nr];return Jr&&n.isValidElement(Jr)?bi(Ot(Jr,Ct),!0,Je,Ct):typeof Jr=="function"?Me(Jr,Ct):Hr}});return be?Gn.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):Gn.replace(/\t/g,P(1,Ct.tabStop)).replace(/\n([^$])/g,`
`.concat(P(Je+1,Ct.tabStop),"$1"))},re=function(be){return be.replace(/"/g,"&quot;")},ge=function(be,Je,Ct,ln){if(typeof be=="number")return"{".concat(String(be),"}");if(typeof be=="string")return'"'.concat(re(be),'"');if(M(be)==="symbol"){var Gn=be.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return Gn?"{Symbol('".concat(Gn,"')}"):"{Symbol()}"}return typeof be=="function"?"{".concat(Me(be,ln),"}"):n.isValidElement(be)?"{".concat(bi(Ot(be,ln),!0,Ct,ln),"}"):be instanceof Date?isNaN(be.valueOf())?"{new Date(NaN)}":'{new Date("'.concat(be.toISOString(),'")}'):t.isPlainObject(be)||Array.isArray(be)?"{".concat(Le(be,Je,Ct,ln),"}"):"{".concat(String(be),"}")},Mt=function(vt,be,Je,Ct,ln,Gn,Mr,Mn){if(!be&&!Ct)throw new Error('The prop "'.concat(vt,'" has no value and no default: could not be formatted'));var nr=be?Je:ln,Hr=Mn.useBooleanShorthandSyntax,Jr=Mn.tabStop,mr=ge(nr,Gn,Mr,Mn),Co=" ",ei=`
`.concat(P(Mr+1,Jr)),ua=mr.includes(`
`);return Hr&&mr==="{false}"&&!Ct?(Co="",ei=""):Hr&&mr==="{true}"?(Co+="".concat(vt),ei+="".concat(vt)):(Co+="".concat(vt,"=").concat(mr),ei+="".concat(vt,"=").concat(mr)),{attributeFormattedInline:Co,attributeFormattedMultiline:ei,isMultilineAttribute:ua}},en=function(vt,be){var Je=vt.slice(0,vt.length>0?vt.length-1:0),Ct=vt[vt.length-1];return Ct&&(be.type==="string"||be.type==="number")&&(Ct.type==="string"||Ct.type==="number")?Je.push(ne(String(Ct.value)+String(be.value))):(Ct&&Je.push(Ct),Je.push(be)),Je},vn=function(be){return["key","ref"].includes(be)},dn=function(vt){return function(be){var Je=be.includes("key"),Ct=be.includes("ref"),ln=be.filter(function(Mr){return!vn(Mr)}),Gn=D(vt?ln.sort():ln);return Ct&&Gn.unshift("ref"),Je&&Gn.unshift("key"),Gn}};function Cn(vt,be){return Array.isArray(be)?function(Je){return be.indexOf(Je)===-1}:function(Je){return be(vt[Je],Je)}}var $n=function(be,Je,Ct,ln,Gn){var Mr=Gn.tabStop;return be.type==="string"?Je.split(`
`).map(function(Mn,nr){return nr===0?Mn:"".concat(P(ln,Mr)).concat(Mn)}).join(`
`):Je},Fn=function(be,Je,Ct){return function(ln){return $n(ln,bi(ln,be,Je,Ct),be,Je,Ct)}},Yr=function(be,Je){return function(Ct){var ln=Object.keys(be).includes(Ct);return!ln||ln&&be[Ct]!==Je[Ct]}},Vr=function(be,Je,Ct,ln,Gn){return Gn?P(Ct,ln).length+Je.length>Gn:be.length>1},Fi=function(be,Je,Ct,ln,Gn,Mr,Mn){return(Vr(be,Je,Gn,Mr,Mn)||Ct)&&!ln},jn=function(vt,be,Je,Ct){var ln=vt.type,Gn=vt.displayName,Mr=Gn===void 0?"":Gn,Mn=vt.childrens,nr=vt.props,Hr=nr===void 0?{}:nr,Jr=vt.defaultProps,mr=Jr===void 0?{}:Jr;if(ln!=="ReactElement")throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '.concat(ln));var Co=Ct.filterProps,ei=Ct.maxInlineAttributesLineLength,ua=Ct.showDefaultProps,La=Ct.sortProps,Ht=Ct.tabStop,Ei="<".concat(Mr),Ur=Ei,J=Ei,se=!1,fe=[],ve=Cn(Hr,Co);Object.keys(Hr).filter(ve).filter(Yr(mr,Hr)).forEach(function(Ge){return fe.push(Ge)}),Object.keys(mr).filter(ve).filter(function(){return ua}).filter(function(Ge){return!fe.includes(Ge)}).forEach(function(Ge){return fe.push(Ge)});var Ie=dn(La)(fe);if(Ie.forEach(function(Ge){var Ne=Mt(Ge,Object.keys(Hr).includes(Ge),Hr[Ge],Object.keys(mr).includes(Ge),mr[Ge],be,Je,Ct),xe=Ne.attributeFormattedInline,ae=Ne.attributeFormattedMultiline,Ve=Ne.isMultilineAttribute;Ve&&(se=!0),Ur+=xe,J+=ae}),J+=`
`.concat(P(Je,Ht)),Fi(Ie,Ur,se,be,Je,Ht,ei)?Ei=J:Ei=Ur,Mn&&Mn.length>0){var Ue=Je+1;Ei+=">",be||(Ei+=`
`,Ei+=P(Ue,Ht)),Ei+=Mn.reduce(en,[]).map(Fn(be,Ue,Ct)).join(be?"":`
`.concat(P(Ue,Ht))),be||(Ei+=`
`,Ei+=P(Ue-1,Ht)),Ei+="</".concat(Mr,">")}else Vr(Ie,Ur,Je,Ht,ei)||(Ei+=" "),Ei+="/>";return Ei},mi="",gi="React.Fragment",Go=function(be,Je,Ct){var ln={};return Je&&(ln={key:Je}),{type:"ReactElement",displayName:be,props:ln,defaultProps:{},childrens:Ct}},Bi=function(be){var Je=be.key;return Boolean(Je)},Wi=function(be){var Je=be.childrens;return Je.length===0},Ss=function(vt,be,Je,Ct){var ln=vt.type,Gn=vt.key,Mr=vt.childrens;if(ln!=="ReactFragment")throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '.concat(ln));var Mn=Ct.useFragmentShortSyntax,nr;return Mn?Wi(vt)||Bi(vt)?nr=gi:nr=mi:nr=gi,jn(Go(nr,Gn,Mr),be,Je,Ct)},ro=["<",">","{","}"],Kr=function(be){return ro.some(function(Je){return be.includes(Je)})},Lo=function(be){return Kr(be)?"{`".concat(be,"`}"):be},io=function(be){var Je=be;return Je.endsWith(" ")&&(Je=Je.replace(/^(.*?)(\s+)$/,"$1{'$2'}")),Je.startsWith(" ")&&(Je=Je.replace(/^(\s+)(.*)$/,"{'$1'}$2")),Je},bi=function(vt,be,Je,Ct){if(vt.type==="number")return String(vt.value);if(vt.type==="string")return vt.value?"".concat(io(Lo(String(vt.value)))):"";if(vt.type==="ReactElement")return jn(vt,be,Je,Ct);if(vt.type==="ReactFragment")return Ss(vt,be,Je,Ct);throw new TypeError('Unknow format type "'.concat(vt.type,'"'))},Ro=function(vt,be){return bi(vt,!1,0,be)},la=function(be){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ct=Je.filterProps,ln=Ct===void 0?[]:Ct,Gn=Je.showDefaultProps,Mr=Gn===void 0?!0:Gn,Mn=Je.showFunctions,nr=Mn===void 0?!1:Mn,Hr=Je.functionValue,Jr=Je.tabStop,mr=Jr===void 0?2:Jr,Co=Je.useBooleanShorthandSyntax,ei=Co===void 0?!0:Co,ua=Je.useFragmentShortSyntax,La=ua===void 0?!0:ua,Ht=Je.sortProps,Ei=Ht===void 0?!0:Ht,Ur=Je.maxInlineAttributesLineLength,J=Je.displayName;if(!be)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var se={filterProps:ln,showDefaultProps:Mr,showFunctions:nr,functionValue:Hr,tabStop:mr,useBooleanShorthandSyntax:ei,useFragmentShortSyntax:La,sortProps:Ei,maxInlineAttributesLineLength:Ur,displayName:J};return Ro(Ot(be,se),se)};e.default=la,e.inlineFunction=Jt,e.preserveFunctionLineBreak=bn})(eM);Object.defineProperty(j2,"__esModule",{value:!0});j2.createValue=FC;j2.createValues=tM;var O9=L9(eM),M9=qh,Ew=Vu;function L9(e){return e&&e.__esModule?e:{default:e}}function tM(e){var t={};return Object.keys(e).forEach(function(n){t[n]=FC(e[n])}),t}function FC(e){return(0,Ew.isPrimitiveData)(e)?{type:"primitive",data:e}:(0,Ew.isArray)(e)?{type:"array",values:e.map(function(t){return FC(t)})}:(0,Ew.isObject)(e)?{type:"object",values:tM(e)}:{type:"unserializable",stringifiedData:R9(e)}}function R9(e){return(0,M9.isElement)(e)?(0,O9.default)(e):String(e)}var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.extendWithValue=BC;V2.extendWithValues=nM;var xk=Vu;function nM(e,t){var n={};return Object.keys(t).forEach(function(i){n[i]=BC(e[i],t[i])}),n}function BC(e,t){if(t.type==="unserializable")return e;if(t.type==="object"){var n=(0,xk.isObject)(e)?e:{};return nM(n,t.values)}if(t.type==="array"){var i=(0,xk.isArray)(e)?e:[];return t.values.map(function(s,l){return BC(i[l],s)})}return t.data}var Of={},H2={},Py={};Object.defineProperty(Py,"__esModule",{value:!0});Py.removeItemMatch=j9;Py.replaceOrAddItem=$9;Py.updateItem=U9;var rM=ns;function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(i){D9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function D9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uh(e){return N9(e)||z9(e)||B9(e)||F9()}function F9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(e,t){if(e){if(typeof e=="string")return xS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(e,t)}}function z9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N9(e){if(Array.isArray(e))return xS(e)}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U9(e,t,n){var i=e.indexOf(t);return[].concat(Uh(e.slice(0,i)),[wk(wk({},t),n)],Uh(e.slice(i+1)))}function $9(e,t,n){var i=(0,rM.findIndex)(e,t);return i!==-1?[].concat(Uh(e.slice(0,i)),[n],Uh(e.slice(i+1))):[].concat(Uh(e),[n])}function j9(e,t){var n=(0,rM.findIndex)(e,t);return n===-1?Uh(e):[].concat(Uh(e.slice(0,n)),Uh(e.slice(n+1)))}var q2={};Object.defineProperty(q2,"__esModule",{value:!0});q2.addTreeNodeChild=Q9;q2.sortTreeChildren=oM;function Sk(e){return G9(e)||q9(e)||H9(e)||V9()}function V9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e,t){if(e){if(typeof e=="string")return bS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bS(e,t)}}function q9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G9(e){if(Array.isArray(e))return bS(e)}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(i){iM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e,t,n){e.children||(e.children={}),e.children[t]=n}function oM(e){var t=e.children;if(!t)return e;var n=Object.keys(t),i=n.filter(function(l){return t[l].children}),s=n.filter(function(l){return!t[l].children});return A1(A1({},e),{},{children:[].concat(Sk(i.sort()),Sk(s.sort())).reduce(function(l,o){return A1(A1({},l),{},iM({},o,oM(t[o])))},{})})}var zC={};Object.defineProperty(zC,"__esModule",{value:!0});zC.uuid=aM;function aM(e){return e?(Number(e)^Math.random()*16>>Number(e)/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,aM)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TreeNode",{enumerable:!0,get:function(){return n.TreeNode}}),Object.defineProperty(e,"addTreeNodeChild",{enumerable:!0,get:function(){return n.addTreeNodeChild}}),Object.defineProperty(e,"removeItemMatch",{enumerable:!0,get:function(){return t.removeItemMatch}}),Object.defineProperty(e,"replaceOrAddItem",{enumerable:!0,get:function(){return t.replaceOrAddItem}}),Object.defineProperty(e,"sortTreeChildren",{enumerable:!0,get:function(){return n.sortTreeChildren}}),Object.defineProperty(e,"updateItem",{enumerable:!0,get:function(){return t.updateItem}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return i.uuid}});var t=Py,n=q2,i=zC})(H2);Object.defineProperty(Of,"__esModule",{value:!0});Of.DEFAULT_RENDER_KEY=void 0;Of.createFixtureStateProps=K9;Of.findFixtureStateProps=lM;Of.getFixtureStateProps=W9;Of.removeFixtureStateProps=Y9;Of.resetFixtureStateProps=Z9;Of.updateFixtureStateProps=X9;var wS=ns,G2=H2,sM=0;Of.DEFAULT_RENDER_KEY=sM;function W9(e,t){var n=e.props;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function lM(e,t){var n=e.props;return n&&(0,wS.find)(n,function(i){return(0,wS.isEqual)(i.elementId,t)})}function K9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.props,o=l===void 0?[]:l;return(0,G2.replaceOrAddItem)(o,uM(n),{elementId:n,values:i,renderKey:sM,componentName:s})}function Z9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=cM(t,n);return(0,G2.updateItem)(t.props,s,{values:i,renderKey:s.renderKey+1})}function X9(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=cM(t,n);return(0,G2.updateItem)(t.props,s,{values:i})}function Y9(e,t){return(0,G2.removeItemMatch)(e.props||[],uM(t))}function uM(e){return function(t){return(0,wS.isEqual)(t.elementId,e)}}function cM(e,t){var n=lM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state props missing for element "'.concat(i,'"'))}return n}var nd={};Object.defineProperty(nd,"__esModule",{value:!0});nd.createFixtureStateClassState=ez;nd.findFixtureStateClassState=fM;nd.getFixtureStateClassState=J9;nd.removeFixtureStateClassState=nz;nd.updateFixtureStateClassState=tz;var SS=ns,NC=H2;function J9(e,t){var n=e.classState;return n?n.filter(function(i){return i.elementId.decoratorId===t}):[]}function fM(e,t){var n=e.classState;return n&&(0,SS.find)(n,function(i){return(0,SS.isEqual)(i.elementId,t)})}function ez(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=e.componentName,l=t.classState,o=l===void 0?[]:l;return(0,NC.replaceOrAddItem)(o,pM(n),{elementId:n,values:i,componentName:s})}function tz(e){var t=e.fixtureState,n=e.elementId,i=e.values,s=rz(t,n);return(0,NC.updateItem)(t.classState,s,{values:i})}function nz(e,t){return(0,NC.removeItemMatch)(e.classState||[],pM(t))}function pM(e){return function(t){return(0,SS.isEqual)(t.elementId,e)}}function rz(e,t){var n=fM(e,t);if(!n){var i=JSON.stringify(t);throw new Error('Fixture state class state missing for element "'.concat(i,'"'))}return n}var UC={};Object.defineProperty(UC,"__esModule",{value:!0});UC.findFixtureStateControl=iz;function iz(e,t){var n=e.controls;return n&&n[t]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ArrayData",{enumerable:!0,get:function(){return t.ArrayData}}),Object.defineProperty(e,"DEFAULT_RENDER_KEY",{enumerable:!0,get:function(){return s.DEFAULT_RENDER_KEY}}),Object.defineProperty(e,"FixtureDecoratorId",{enumerable:!0,get:function(){return t.FixtureDecoratorId}}),Object.defineProperty(e,"FixtureElementId",{enumerable:!0,get:function(){return t.FixtureElementId}}),Object.defineProperty(e,"FixtureState",{enumerable:!0,get:function(){return t.FixtureState}}),Object.defineProperty(e,"FixtureStateArrayValue",{enumerable:!0,get:function(){return t.FixtureStateArrayValue}}),Object.defineProperty(e,"FixtureStateClassState",{enumerable:!0,get:function(){return t.FixtureStateClassState}}),Object.defineProperty(e,"FixtureStateControl",{enumerable:!0,get:function(){return t.FixtureStateControl}}),Object.defineProperty(e,"FixtureStateControls",{enumerable:!0,get:function(){return t.FixtureStateControls}}),Object.defineProperty(e,"FixtureStateData",{enumerable:!0,get:function(){return t.FixtureStateData}}),Object.defineProperty(e,"FixtureStateObjectValue",{enumerable:!0,get:function(){return t.FixtureStateObjectValue}}),Object.defineProperty(e,"FixtureStatePrimitiveValue",{enumerable:!0,get:function(){return t.FixtureStatePrimitiveValue}}),Object.defineProperty(e,"FixtureStateProps",{enumerable:!0,get:function(){return t.FixtureStateProps}}),Object.defineProperty(e,"FixtureStateSelectControl",{enumerable:!0,get:function(){return t.FixtureStateSelectControl}}),Object.defineProperty(e,"FixtureStateStandardControl",{enumerable:!0,get:function(){return t.FixtureStateStandardControl}}),Object.defineProperty(e,"FixtureStateUnserializableValue",{enumerable:!0,get:function(){return t.FixtureStateUnserializableValue}}),Object.defineProperty(e,"FixtureStateValue",{enumerable:!0,get:function(){return t.FixtureStateValue}}),Object.defineProperty(e,"FixtureStateValues",{enumerable:!0,get:function(){return t.FixtureStateValues}}),Object.defineProperty(e,"ObjectData",{enumerable:!0,get:function(){return t.ObjectData}}),Object.defineProperty(e,"PrimitiveData",{enumerable:!0,get:function(){return t.PrimitiveData}}),Object.defineProperty(e,"SetFixtureState",{enumerable:!0,get:function(){return t.SetFixtureState}}),Object.defineProperty(e,"createFixtureStateClassState",{enumerable:!0,get:function(){return l.createFixtureStateClassState}}),Object.defineProperty(e,"createFixtureStateProps",{enumerable:!0,get:function(){return s.createFixtureStateProps}}),Object.defineProperty(e,"createValue",{enumerable:!0,get:function(){return n.createValue}}),Object.defineProperty(e,"createValues",{enumerable:!0,get:function(){return n.createValues}}),Object.defineProperty(e,"extendWithValue",{enumerable:!0,get:function(){return i.extendWithValue}}),Object.defineProperty(e,"extendWithValues",{enumerable:!0,get:function(){return i.extendWithValues}}),Object.defineProperty(e,"findFixtureStateClassState",{enumerable:!0,get:function(){return l.findFixtureStateClassState}}),Object.defineProperty(e,"findFixtureStateControl",{enumerable:!0,get:function(){return o.findFixtureStateControl}}),Object.defineProperty(e,"findFixtureStateProps",{enumerable:!0,get:function(){return s.findFixtureStateProps}}),Object.defineProperty(e,"getFixtureStateClassState",{enumerable:!0,get:function(){return l.getFixtureStateClassState}}),Object.defineProperty(e,"getFixtureStateProps",{enumerable:!0,get:function(){return s.getFixtureStateProps}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return t.isBoolean}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return t.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return t.isObject}}),Object.defineProperty(e,"isPrimitiveData",{enumerable:!0,get:function(){return t.isPrimitiveData}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return t.isString}}),Object.defineProperty(e,"removeFixtureStateClassState",{enumerable:!0,get:function(){return l.removeFixtureStateClassState}}),Object.defineProperty(e,"removeFixtureStateProps",{enumerable:!0,get:function(){return s.removeFixtureStateProps}}),Object.defineProperty(e,"resetFixtureStateProps",{enumerable:!0,get:function(){return s.resetFixtureStateProps}}),Object.defineProperty(e,"updateFixtureStateClassState",{enumerable:!0,get:function(){return l.updateFixtureStateClassState}}),Object.defineProperty(e,"updateFixtureStateProps",{enumerable:!0,get:function(){return s.updateFixtureStateProps}});var t=Vu,n=j2,i=V2,s=Of,l=nd,o=UC})(Dc);var Bc={},$C={},Q2={};Object.defineProperty(Q2,"__esModule",{value:!0});Q2.getComponentName=oz;var kw=new WeakMap;function oz(e){if(typeof e=="string")return e;if(!kw.has(e)){var t=e.displayName||e.name||"";kw.set(e,t)}return kw.get(e)}var W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.isReactElement=sz;var az=qh;function sz(e){return(0,az.isElement)(e)}Object.defineProperty($C,"__esModule",{value:!0});$C.areNodesEqual=jC;var bg=ns,Ek=Q2,kk=W2;function jC(e,t,n){return(0,kk.isReactElement)(e)&&(0,kk.isReactElement)(t)?lz(e,t,n):Array.isArray(e)&&Array.isArray(t)?cz(e,t,n):Pk(e)&&Pk(t)?fz(e,t):(0,bg.isEqual)(e,t)}function lz(e,t,n){return uz(e.type,t.type,n)?e.key===t.key&&e.ref===t.ref&&jC(e.props,t.props,n):!1}function uz(e,t,n){return n?e===t:(0,Ek.getComponentName)(e)===(0,Ek.getComponentName)(t)}function cz(e,t,n){return e.length!==t.length?!1:e.every(function(i,s){return jC(i,t[s],n)})}function Pk(e){return(0,bg.isPlainObject)(e)}function fz(e,t){return(0,bg.isEqual)(Object.keys(e),Object.keys(t))?Object.keys(e).every(function(n){return(0,bg.isEqualWith)(e[n],t[n],function(i,s){return typeof i=="function"&&typeof s=="function"?i===s||i.toString()===s.toString():(0,bg.isEqual)(i,s)})}):!1}var K2={},Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.isMultiFixture=hz;var pz=qh;function CS(e){return CS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(e)}function hz(e){return e!==null&&CS(e)==="object"&&!(0,pz.isElement)(e)}Object.defineProperty(K2,"__esModule",{value:!0});K2.getFixtureListFromExports=mz;K2.getFixtureListFromWrappers=dz;var Az=Z2;function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(i){VC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dz(e){return Object.keys(e).reduce(function(t,n){return $_($_({},t),{},VC({},n,gz(e[n])))},{})}function mz(e){return Object.keys(e).reduce(function(t,n){return $_($_({},t),{},VC({},n,hM(e[n])))},{})}function gz(e){return hM(e.module.default)}function hM(e){return(0,Az.isMultiFixture)(e)?{type:"multi",fixtureNames:Object.keys(e)}:{type:"single"}}var HC={};Object.defineProperty(HC,"__esModule",{value:!0});HC.getSortedDecoratorsForFixturePath=wz;function yz(e){return bz(e)||xz(e)||_z(e)||vz()}function vz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(e,t){if(e){if(typeof e=="string")return ES(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(e,t)}}function xz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bz(e){if(Array.isArray(e))return ES(e)}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(i){AM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wz(e,t){return kz(Sz(t,e))}function Sz(e,t){return Object.keys(e).filter(function(n){return Cz(Ez(n),t)}).reduce(function(n,i){return Ok(Ok({},n),{},AM({},i,e[i]))},{})}function Cz(e,t){return e===""||t.indexOf("".concat(e,"/"))===0}function Ez(e){return e.replace(/^((.+)\/)?.+$/,"$2")}function kz(e){return Pz(Object.keys(e)).map(function(t){return e[t]})}function Pz(e){return yz(e).sort(function(t,n){return Mk(t)-Mk(n)||t.localeCompare(n)})}function Mk(e){return e.split("/").length}var dM={};Object.defineProperty(dM,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ReactDecorator",{enumerable:!0,get:function(){return x.ReactDecorator}}),Object.defineProperty(e,"ReactDecoratorProps",{enumerable:!0,get:function(){return x.ReactDecoratorProps}}),Object.defineProperty(e,"ReactDecorators",{enumerable:!0,get:function(){return x.ReactDecorators}}),Object.defineProperty(e,"ReactFixture",{enumerable:!0,get:function(){return x.ReactFixture}}),Object.defineProperty(e,"ReactFixtureExport",{enumerable:!0,get:function(){return x.ReactFixtureExport}}),Object.defineProperty(e,"ReactFixtureExports",{enumerable:!0,get:function(){return x.ReactFixtureExports}}),Object.defineProperty(e,"ReactFixtureMap",{enumerable:!0,get:function(){return x.ReactFixtureMap}}),Object.defineProperty(e,"ReactFixtureModule",{enumerable:!0,get:function(){return x.ReactFixtureModule}}),Object.defineProperty(e,"ReactFixtureWrapper",{enumerable:!0,get:function(){return x.ReactFixtureWrapper}}),Object.defineProperty(e,"ReactFixtureWrappers",{enumerable:!0,get:function(){return x.ReactFixtureWrappers}}),Object.defineProperty(e,"areNodesEqual",{enumerable:!0,get:function(){return t.areNodesEqual}}),Object.defineProperty(e,"getComponentName",{enumerable:!0,get:function(){return n.getComponentName}}),Object.defineProperty(e,"getFixtureListFromExports",{enumerable:!0,get:function(){return i.getFixtureListFromExports}}),Object.defineProperty(e,"getFixtureListFromWrappers",{enumerable:!0,get:function(){return i.getFixtureListFromWrappers}}),Object.defineProperty(e,"getSortedDecoratorsForFixturePath",{enumerable:!0,get:function(){return s.getSortedDecoratorsForFixturePath}}),Object.defineProperty(e,"isMultiFixture",{enumerable:!0,get:function(){return l.isMultiFixture}}),Object.defineProperty(e,"isReactElement",{enumerable:!0,get:function(){return o.isReactElement}});var t=$C,n=Q2,i=K2,s=HC,l=Z2,o=W2,x=dM})(Bc);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.FixtureContext=void 0;var Tz=jt,Iz=(0,Tz.createContext)({fixtureState:{},setFixtureState:function(){}});ol.FixtureContext=Iz;var rd={},Ty={},qC={},id={};Object.defineProperty(id,"__esModule",{value:!0});id.getChildrenPath=Oz;id.isRootPath=mM;function Oz(e){return mM(e)?"props.children":"".concat(e,".props.children")}function mM(e){return e===""}Object.defineProperty(qC,"__esModule",{value:!0});qC.findElementPaths=PS;var Mz=ns,Lz=jt,Rz=Bc,Dz=id;function Fz(e){return Uz(e)||Nz(e)||zz(e)||Bz()}function Bz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(e,t){if(e){if(typeof e=="string")return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}}function Nz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uz(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function PS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Array.isArray(e))return(0,Mz.flatten)(e.map(function(s,l){return PS(s,"".concat(t,"[").concat(l,"]"))}));if(!(0,Rz.isReactElement)(e))return[];var n=e.props.children,i=typeof n!="function"?PS(n,(0,Dz.getChildrenPath)(t)):[];return e.type===Lz.Fragment?i:[t].concat(Fz(i))}var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.getElementAtPath=gM;Iy.getExpectedElementAtPath=Vz;var $z=ns,Lk=Bc,jz=id;function gM(e,t){if(!(0,Lk.isReactElement)(e)&&!Array.isArray(e))return null;var n=e,i=(0,jz.isRootPath)(t)?n:(0,$z.get)(n,t);return(0,Lk.isReactElement)(i)?i:null}function Vz(e,t){var n=gM(e,t);if(!n)throw new Error("Element not found at path: ".concat(t));return n}var GC={};Object.defineProperty(GC,"__esModule",{value:!0});GC.setElementAtPath=Yz;var Hz=ns,qz=Bc,Gz=Iy,Qz=id,Wz=["children"];function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(i){Kz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Kz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zz(e,t){if(e==null)return{};var n=Xz(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Xz(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Yz(e,t,n){var i=(0,Gz.getExpectedElementAtPath)(e,t),s=n(i);return(0,Qz.isRootPath)(t)?s:(0,Hz.set)(TS(e),t,s)}function TS(e){if(Array.isArray(e))return e.map(function(s){return TS(s)});if((0,qz.isReactElement)(e)){var t=e.props,n=t.children,i=Zz(t,Wz);return d1(d1({},e),{},{props:d1(d1({},i),{},{children:TS(n)})})}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"findElementPaths",{enumerable:!0,get:function(){return t.findElementPaths}}),Object.defineProperty(e,"getChildrenPath",{enumerable:!0,get:function(){return s.getChildrenPath}}),Object.defineProperty(e,"getElementAtPath",{enumerable:!0,get:function(){return n.getElementAtPath}}),Object.defineProperty(e,"getExpectedElementAtPath",{enumerable:!0,get:function(){return n.getExpectedElementAtPath}}),Object.defineProperty(e,"setElementAtPath",{enumerable:!0,get:function(){return i.setElementAtPath}});var t=qC,n=Iy,i=GC,s=id})(Ty);Object.defineProperty(rd,"__esModule",{value:!0});rd.findRelevantElementPaths=Jz;var Dk=Ty;function IS(e){return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(e)}function Jz(e){var t=(0,Dk.findElementPaths)(e);return t.filter(function(n){var i=(0,Dk.getExpectedElementAtPath)(e,n),s=i.type;if(IS(s)==="symbol")return!1;if(typeof s=="string")return eN(s);var l=s;return l.cosmosCapture!==!1&&tN(l)})}function eN(e){return e!=="div"&&e!=="span"}function tN(e){return e.name!=="StyledComponent"}var QC={},WC={};Object.defineProperty(WC,"__esModule",{value:!0});WC.isRefSupported=oN;var nN=iN(jt),rN=qh;function iN(e){return e&&e.__esModule?e:{default:e}}function oN(e){if(typeof e=="string")return!1;var t=e,n=t.$$typeof,i=t.prototype;return n===rN.ForwardRef||i&&(i instanceof nN.default.Component||i.getInitialState!==void 0)&&!0}Object.defineProperty(QC,"__esModule",{value:!0});QC.decorateFixtureRefs=fN;var aN=cN(jt),sN=Ty,lN=rd,uN=WC;function cN(e){return e&&e.__esModule?e:{default:e}}function fN(e,t,n){var i=(0,lN.findRelevantElementPaths)(e);return i.reduce(function(s,l){return(0,sN.setElementAtPath)(s,l,function(o){return(0,uN.isRefSupported)(o.type)?aN.default.cloneElement(o,{ref:pN(o.ref,t,l,n)}):o})},e)}function pN(e,t,n,i){var s=i[n];if(s&&s.origRef===e)return s.handler;var l=hN(e,t,n);return i[n]={origRef:e,handler:l},l}function hN(e,t,n){return function(i){e&&AN(e,i),t(n,i)}}function AN(e,t){if(typeof e=="string"){console.warn("[decorateFixtureRefs] String refs are not supported");return}if(typeof e=="function"){e(t);return}var n=e;n.current=t}var KC={};Object.defineProperty(KC,"__esModule",{value:!0});KC.replaceState=mN;var dN=ns;function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(i){yM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mN(e,t){var n=gN(e.state,t);(0,dN.isEqual)(n,e.state)||e.setState(n)}function gN(e,t){return Object.keys(e).reduce(function(n,i){return Object.keys(n).indexOf(i)===-1?Bk(Bk({},n),{},yM({},i,void 0)):n},t)}Object.defineProperty(MC,"__esModule",{value:!0});MC.useFixtureState=wN;var zk=ns,_p=xN(jt),wc=Dc,Nk=Bc,yN=ol,vN=rd,_N=QC,Pw=KC;function xN(e){return e&&e.__esModule?e:{default:e}}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(i){bN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function bN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wN(e,t,n){var i=(0,vN.findRelevantElementPaths)(e),s=_p.default.useContext(yN.FixtureContext),l=s.fixtureState,o=s.setFixtureState,x=SN(l),S=_p.default.useRef(l),P=_p.default.useRef({}),M=_p.default.useRef({});return _p.default.useEffect(function(){return function(){P.current={},M.current={}}},[]),_p.default.useEffect(function(){var z=(0,wc.getFixtureStateClassState)(l,t);z.forEach(function(U){var q=U.elementId,K=q.elPath;i.indexOf(q.elPath)===-1&&(o(function(ee){return Vd(Vd({},ee),{},{classState:(0,wc.removeFixtureStateClassState)(l,q)})}),n.current[K]&&(delete n.current[K],delete P.current[K],delete M.current[K]))}),i.forEach(function(U){var q={decoratorId:t,elPath:U},K=(0,wc.findFixtureStateClassState)(l,q);if(K){var X=n.current[U];if(!X)return;var ne=(0,wc.findFixtureStateClassState)(S.current,q);if(ne&&!(0,zk.isEqual)(ne,K))return(0,Pw.replaceState)(X,(0,wc.extendWithValues)(X.state,K.values))}else if(P.current[U]){var ee=P.current[U].state,V=n.current[U];(0,zk.isEqual)(V.state,ee)||(0,Pw.replaceState)(V,ee),o(function(pe){return Vd(Vd({},pe),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:pe,elementId:q,values:(0,wc.createValues)(ee),componentName:(0,Nk.getComponentName)(V.constructor)})})})}})},[t,i,n,l,l.classState,o]),_p.default.useEffect(function(){S.current=l}),(0,_N.decorateFixtureRefs)(e,D,M.current);function D(z,U){if(!U){delete n.current[z];return}var q=U.state;if(q){n.current[z]=U,CN(P.current,z,U);var K={decoratorId:t,elPath:z},ee=(0,wc.findFixtureStateClassState)(x.current,K);ee?(0,Pw.replaceState)(U,(0,wc.extendWithValues)(q,ee.values)):o(function(V){return Vd(Vd({},V),{},{classState:(0,wc.createFixtureStateClassState)({fixtureState:V,elementId:K,values:(0,wc.createValues)(q),componentName:(0,Nk.getComponentName)(U.constructor)})})})}}}function SN(e){var t=_p.default.useRef(e);return _p.default.useEffect(function(){t.current=e}),t}function CN(e,t,n){var i=e[t],s=n.constructor,l=i&&i.type===s;!l&&n.state&&(e[t]={type:s,state:n.state})}var ZC={};Object.defineProperty(ZC,"__esModule",{value:!0});ZC.useReadClassState=LN;var EN=ns,Tw=TN(jt),o_=Dc,kN=ol,PN=rd;function TN(e){return e&&e.__esModule?e:{default:e}}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(i){IN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function IN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vk(e,t,n,i,s,l,o){try{var x=e[l](o),S=x.value}catch(P){n(P);return}x.done?t(S):Promise.resolve(S).then(i,s)}function ON(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var l=e.apply(t,n);function o(S){Vk(l,i,s,o,x,"next",S)}function x(S){Vk(l,i,s,o,x,"throw",S)}o(void 0)})}}var MN=200;function LN(e,t,n){var i=(0,PN.findRelevantElementPaths)(e),s=Tw.default.useContext(kN.FixtureContext),l=s.fixtureState,o=s.setFixtureState,x=Tw.default.useRef(null);Tw.default.useEffect(function(){return S(),function(){x.current&&clearTimeout(x.current)}});function S(){x.current=window.setTimeout(P,MN)}function P(){var M=!1;Object.keys(n.current).map(function(){var D=ON(regeneratorRuntime.mark(function z(U){var q,K,ee;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(i.indexOf(U)!==-1){X.next=2;break}throw new Error('[FixtureCapture] Child ref exists for missing element path "'.concat(U,'"'));case 2:q=n.current[U].state,K={decoratorId:t,elPath:U},ee=(0,o_.findFixtureStateClassState)(l,K),ee&&q&&!RN(ee,q)&&(M=!0,o(function(ne){return jk(jk({},ne),{},{classState:(0,o_.updateFixtureStateClassState)({fixtureState:ne,elementId:K,values:(0,o_.createValues)(q)})})}));case 6:case"end":return X.stop()}},z)}));return function(z){return D.apply(this,arguments)}}()),M||S()}}function RN(e,t){return(0,EN.isEqual)(t,(0,o_.extendWithValues)(t,e.values))}Object.defineProperty(OC,"__esModule",{value:!0});OC.useClassStateCapture=zN;var Hk=BN(jt),DN=MC,FN=ZC;function BN(e){return e&&e.__esModule?e:{default:e}}function zN(e,t){var n=Hk.default.useRef({});return Hk.default.useEffect(function(){return function(){n.current={}}},[]),(0,FN.useReadClassState)(e,t,n),(0,DN.useFixtureState)(e,t,n)}var XC={},YC={};Object.defineProperty(YC,"__esModule",{value:!0});YC.useFixtureProps=HN;var qk=ns,NN=jN(jt),Iw=Dc,UN=Bc,$N=rd,vM=Ty;function jN(e){return e&&e.__esModule?e:{default:e}}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(i){VN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HN(e,t,n){var i=NN.default.useMemo(function(){return{}},[n]),s=(0,$N.findRelevantElementPaths)(e);return s.reduce(function(l,o){var x={decoratorId:n,elPath:o},S=(0,Iw.findFixtureStateProps)(t,x);return(0,vM.setElementAtPath)(l,o,function(P){if(!S||U(S.componentName))return Hd(Hd({},P),{},{key:Qk(o,Iw.DEFAULT_RENDER_KEY)});var M=P.props,D=(0,Iw.extendWithValues)(M,S.values),z=(0,qk.mapValues)(D,function(q,K){var ee=qN(o,K);return i.hasOwnProperty(ee)||(i[ee]=M[K]),(0,qk.isEqual)(i[ee],q)?i[ee]:(i[ee]=q,q)});return Hd(Hd({},P),{},{props:GN(s,o)?Hd(Hd({},z),{},{children:M.children}):z,key:Qk(o,S.renderKey)});function U(q){return q!==(0,UN.getComponentName)(P.type)}})},e)}function qN(e,t){return e?"".concat(e,"-").concat(t):t}function Qk(e,t){return"".concat(e,"-").concat(t)}function GN(e,t){return e.some(function(n){return n.indexOf((0,vM.getChildrenPath)(t))===0})}Object.defineProperty(XC,"__esModule",{value:!0});XC.usePropsCapture=YN;var m1=ZN(jt),kA=Dc,Wk=Bc,QN=ol,WN=rd,Kk=Ty,KN=YC;function ZN(e){return e&&e.__esModule?e:{default:e}}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(i){XN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function XN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YN(e,t){var n=m1.default.useContext(QN.FixtureContext),i=n.fixtureState,s=n.setFixtureState,l=m1.default.useRef(e),o=(0,WN.findRelevantElementPaths)(e);return m1.default.useEffect(function(){if(!i.props&&o.length===0){s(function(S){return yh(yh({},S),{},{props:S.props||[]})});return}var x=(0,kA.getFixtureStateProps)(i,t);x.forEach(function(S){var P=S.elementId;o.indexOf(P.elPath)===-1&&s(function(M){return yh(yh({},M),{},{props:(0,kA.removeFixtureStateProps)(i,P)})})}),o.forEach(function(S){var P=(0,Kk.getExpectedElementAtPath)(e,S),M={decoratorId:t,elPath:S};if((0,kA.findFixtureStateProps)(i,M)){var z=(0,Kk.getElementAtPath)(l.current,S);(0,Wk.areNodesEqual)(z,P,!1)||s(function(U){return yh(yh({},U),{},{props:(0,kA.updateFixtureStateProps)({fixtureState:i,elementId:M,values:(0,kA.createValues)(P.props)})})})}else{var D=(0,Wk.getComponentName)(P.type);s(function(U){return yh(yh({},U),{},{props:(0,kA.createFixtureStateProps)({fixtureState:U,elementId:M,values:(0,kA.createValues)(P.props),componentName:D})})})}})},[e,t,o,i,i.props,s]),m1.default.useEffect(function(){l.current=e}),(0,KN.useFixtureProps)(e,i,t)}Object.defineProperty(N2,"__esModule",{value:!0});N2.FixtureCapture=nU;var Xk=tU(jt),JN=OC,eU=XC;function tU(e){return e&&e.__esModule?e:{default:e}}function nU(e){var t=e.children,n=e.decoratorId,i=(0,eU.usePropsCapture)(t,n);return i=(0,JN.useClassStateCapture)(i,n),Xk.default.createElement(Xk.default.Fragment,null,i)}var X2={},JC={};Object.defineProperty(JC,"__esModule",{value:!0});JC.getFixture=rU;var Yk=Bc;function rU(e,t){if(t===void 0)return(0,Yk.isMultiFixture)(e)?void 0:e;if((0,Yk.isMultiFixture)(e)){var n=e;return n[t]}}var eE={},Y2={},tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.FixtureElement=_M;var iU=oU(jt);function oU(e){return e&&e.__esModule?e:{default:e}}function _M(e){var t=e.Component;return iU.default.createElement(t,null)}_M.cosmosCapture=!1;Object.defineProperty(Y2,"__esModule",{value:!0});Y2.getDecoratedFixtureElement=AU;var OS=lU(jt),aU=N2,sU=tE;function lU(e){return e&&e.__esModule?e:{default:e}}function uU(e){return hU(e)||pU(e)||fU(e)||cU()}function cU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(e,t){if(e){if(typeof e=="string")return MS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(e,t)}}function pU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hU(e){if(Array.isArray(e))return MS(e)}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function AU(e,t,n){var i=OS.default.createElement(aU.FixtureCapture,{decoratorId:"root"},dU(e));return uU(t).reverse().reduce(function(s,l){return OS.default.createElement(l,n,s)},i)}function dU(e){return mU(e)?OS.default.createElement(sU.FixtureElement,{Component:e}):e}function mU(e){return typeof e=="function"}Object.defineProperty(eE,"__esModule",{value:!0});eE.FixtureProvider=CU;var Qm=_U(jt),gU=Bc,yU=ol,vU=Y2;function _U(e){return e&&e.__esModule?e:{default:e}}function Jk(e){return SU(e)||wU(e)||bU(e)||xU()}function xU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(e,t){if(e){if(typeof e=="string")return LS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(e,t)}}function wU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SU(e){if(Array.isArray(e))return LS(e)}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function CU(e){var t=e.fixtureId,n=e.fixture,i=e.systemDecorators,s=e.userDecorators,l=e.fixtureState,o=e.setFixtureState,x=e.onErrorReset,S=Qm.default.useMemo(function(){return{fixtureState:l,setFixtureState:o}},[l,o]),P=Qm.default.useMemo(function(){return{fixtureState:l,setFixtureState:o,onErrorReset:x}},[l,x,o]),M=Qm.default.useMemo(function(){return EU(t,i,s)},[t,i,s]),D=Qm.default.useMemo(function(){return(0,vU.getDecoratedFixtureElement)(n,M,P)},[P,M,n]);return Qm.default.createElement(yU.FixtureContext.Provider,{value:S},D)}function EU(e,t,n){return[].concat(Jk(t),Jk((0,gU.getSortedDecoratorsForFixturePath)(e.path,n)))}function j_(e){return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j_(e)}Object.defineProperty(X2,"__esModule",{value:!0});X2.FixtureLoader=void 0;var Wm=ns,e6=IU(jt),kU=Bc,PU=JC,TU=eE;function xM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(xM=function(s){return s?n:t})(e)}function IU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||j_(e)!=="object"&&typeof e!="function")return{default:e};var n=xM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var o=s?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(i,l,o):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function t6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(n),!0).forEach(function(i){r0(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function OU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n6(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function MU(e,t,n){return t&&n6(e.prototype,t),n&&n6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},RS(e,t)}function RU(e){var t=FU();return function(){var i=V_(e),s;if(t){var l=V_(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return DU(this,s)}}function DU(e,t){if(t&&(j_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0(e)}function n0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V_(e){return V_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},V_(e)}function r0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BU(e){return e?{fixtureId:e,fixtureState:{},syncedFixtureState:{}}:null}var zU=function(e){LU(n,e);var t=RU(n);function n(){var i;OU(this,n);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l)),r0(n0(i),"state",{selectedFixture:BU(i.props.selectedFixtureId||i.props.initialFixtureId),renderKey:0}),r0(n0(i),"unsubscribe",null),r0(n0(i),"handleRequest",function(x){if(x.type==="pingRenderers")return i.postReadyState();if(!(!x.payload||x.payload.rendererId!==i.props.rendererId))switch(NU(x)&&i.fireChangeCallback(),x.type){case"selectFixture":return i.handleSelectFixtureRequest(x);case"unselectFixture":return i.handleUnselectFixtureRequest();case"setFixtureState":return i.handleSetFixtureStateRequest(x)}}),r0(n0(i),"postFixtureStateChange",function(x,S){var P=i.props.rendererId;i.postMessage({type:"fixtureStateChange",payload:{rendererId:P,fixtureId:x,fixtureState:S}})}),r0(n0(i),"setFixtureState",function(x){if(!i.state.selectedFixture){console.warn("[FixtureLoader] Trying to set fixture state with no fixture selected");return}i.setState(function(S){var P=S.selectedFixture;return P?{selectedFixture:g1(g1({},P),{},{fixtureState:x(P.fixtureState)})}:null})}),i}return MU(n,[{key:"componentDidMount",value:function(){if(!this.props.selectedFixtureId){var s=this.props.rendererConnect;this.unsubscribe=s.onMessage(this.handleRequest),this.postReadyState()}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"componentDidUpdate",value:function(s){var l=this.props.fixtures;(0,Wm.isEqual)(l,s.fixtures)||this.postFixtureListUpdate();var o=this.state.selectedFixture;if(o){var x=o.fixtureId,S=o.fixtureState,P=o.syncedFixtureState;x&&!(0,Wm.isEqual)(S,P)&&(this.postFixtureStateChange(x,S),this.updateSyncedFixtureState(S))}}},{key:"shouldComponentUpdate",value:function(s,l){return!(0,Wm.isEqual)(this.props,s)||!(0,Wm.isEqual)(this.state,l)}},{key:"render",value:function(){var s=this.state.selectedFixture;if(!s)return this.renderMessage("No fixture selected.");var l=this.props.fixtures,o=s.fixtureId,x=s.fixtureState;if(!l.hasOwnProperty(o.path))return this.renderMessage("Fixture path not found: ".concat(o.path));var S=l[o.path].module.default,P=(0,PU.getFixture)(S,o.name);if(typeof P>"u")return this.renderMessage("Invalid fixture ID: ".concat(JSON.stringify(o)));var M=this.props,D=M.systemDecorators,z=M.userDecorators,U=M.onErrorReset,q=this.state.renderKey;return e6.default.createElement(TU.FixtureProvider,{key:q,fixtureId:o,fixture:P,systemDecorators:D,userDecorators:z,fixtureState:x,setFixtureState:this.setFixtureState,onErrorReset:U||UU})}},{key:"handleSelectFixtureRequest",value:function(s){var l=s.payload,o=l.fixtureId,x=l.fixtureState;this.setState({selectedFixture:{fixtureId:o,fixtureState:x,syncedFixtureState:x},renderKey:this.state.renderKey+1})}},{key:"handleUnselectFixtureRequest",value:function(){this.setState({selectedFixture:null,renderKey:0})}},{key:"handleSetFixtureStateRequest",value:function(s){var l=s.payload,o=l.fixtureId,x=l.fixtureState,S=this.state.selectedFixture;S&&(0,Wm.isEqual)(o,S.fixtureId)&&this.setState({selectedFixture:{fixtureId:o,fixtureState:x,syncedFixtureState:x}})}},{key:"postReadyState",value:function(){var s=this.props,l=s.rendererId,o=s.initialFixtureId,x=this.getFixtureList();this.postMessage({type:"rendererReady",payload:o?{rendererId:l,fixtures:x,initialFixtureId:o}:{rendererId:l,fixtures:x}})}},{key:"postFixtureListUpdate",value:function(){var s=this.props.rendererId;this.postMessage({type:"fixtureListUpdate",payload:{rendererId:s,fixtures:this.getFixtureList()}})}},{key:"getFixtureList",value:function(){return(0,kU.getFixtureListFromWrappers)(this.props.fixtures)}},{key:"fireChangeCallback",value:function(){var s=this.props.onErrorReset;typeof s=="function"&&s()}},{key:"updateSyncedFixtureState",value:function(s){this.setState(function(l){var o=l.selectedFixture;return o?{selectedFixture:g1(g1({},o),{},{syncedFixtureState:s})}:null})}},{key:"postMessage",value:function(s){this.props.rendererConnect.postMessage(s)}},{key:"renderMessage",value:function(s){return typeof this.props.renderMessage<"u"?this.props.renderMessage({msg:s}):s}}]),n}(e6.Component);X2.FixtureLoader=zU;function NU(e){return e.type==="selectFixture"||e.type==="unselectFixture"}function UU(){}var nE={},rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.registerShortcuts=$U;function $U(e){window.addEventListener("keydown",n);function t(i,s){i.preventDefault(),e(s)}function n(i){if(!jU()){var s=String.fromCharCode(i.keyCode),l=i.metaKey||i.ctrlKey;s==="P"&&l?t(i,"searchFixtures"):s==="L"&&l&&i.shiftKey?t(i,"toggleFixtureList"):s==="K"&&l&&i.shiftKey?t(i,"toggleControlPanel"):s==="F"&&l&&i.shiftKey?t(i,"goFullScreen"):s==="E"&&l&&i.shiftKey&&t(i,"editFixture")}}return function(){window.removeEventListener("keydown",n)}}function jU(){var e=document.activeElement;return e&&VU(e.tagName)}function VU(e){var t=["input","textarea","select"];return t.includes(e.toLowerCase())}Object.defineProperty(nE,"__esModule",{value:!0});nE.createPostMessageConnect=qU;var HU=rE;function qU(){function e(t){parent.postMessage(t,"*")}return{postMessage:e,onMessage:function(n){function i(l){n(l.data)}window.addEventListener("message",i,!1);var s=(0,HU.registerShortcuts)(function(l){e({type:"playgroundCommand",payload:{command:l}})});return function(){window.removeEventListener("message",i),s()}}}}var iE={},oE={},J2={};Object.defineProperty(J2,"__esModule",{value:!0});J2.getDefaultSelectValue=GU;function GU(e){var t=e.options,n=e.defaultValue;return typeof n=="string"?n:t[0]}function DS(e){return DS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DS(e)}Object.defineProperty(oE,"__esModule",{value:!0});oE.useCreateFixtureState=XU;var r6=ZU(jt),QU=Dc,WU=ol,KU=J2;function bM(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(bM=function(s){return s?n:t})(e)}function ZU(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||DS(e)!=="object"&&typeof e!="function")return{default:e};var n=bM(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var o=s?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(i,l,o):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i}function i6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(n),!0).forEach(function(i){wM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e,t){var n=r6.default.useContext(WU.FixtureContext),i=n.setFixtureState,s=(0,KU.getDefaultSelectValue)(t);(0,r6.useEffect)(function(){i(function(l){var o=(0,QU.findFixtureStateControl)(l,e);return o&&o.type==="select"&&o.defaultValue===s?l:y1(y1({},l),{},{controls:y1(y1({},l.controls),{},wM({},e,{type:"select",options:t.options,defaultValue:s,currentValue:s}))})})},[t.options,s,e,i])}var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.useCurrentValue=n$;var YU=jt,JU=Dc,e$=ol,t$=J2;function n$(e,t){var n=(0,YU.useContext)(e$.FixtureContext),i=n.fixtureState,s=(0,JU.findFixtureStateControl)(i,e);return s&&s.type==="select"?s.currentValue:(0,t$.getDefaultSelectValue)(t)}var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.useSetValue=o$;var o6=jt,r$=Dc,i$=ol;function a6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(i){SM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=(0,o6.useContext)(i$.FixtureContext),n=t.setFixtureState;return(0,o6.useCallback)(function(i){n(function(s){var l=(0,r$.findFixtureStateControl)(s,e);return!l||l.type!=="select"?(console.warn("Invalid fixture state for select: ".concat(e)),s):qd(qd({},s),{},{controls:qd(qd({},s.controls),{},SM({},e,qd(qd({},l),{},{currentValue:i})))})})},[e,n])}Object.defineProperty(iE,"__esModule",{value:!0});iE.useSelect=u$;var a$=oE,s$=aE,l$=sE;function u$(e,t){if(!t||!t.options||!t.options.length)throw new Error("No options provided to useSelect");(0,a$.useCreateFixtureState)(e,t);var n=(0,s$.useCurrentValue)(e,t),i=(0,l$.useSetValue)(e);return[n,i]}var lE={},uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.useCreateFixtureState=h$;var c$=ns,s6=p$(jt),a_=Dc,f$=ol;function p$(e){return e&&e.__esModule?e:{default:e}}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function v1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(i){CM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function CM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h$(e,t){var n=s6.default.useContext(f$.FixtureContext),i=n.setFixtureState;s6.default.useEffect(function(){i(function(s){var l=(0,a_.findFixtureStateControl)(s,e);return l&&l.type==="standard"&&A$(l.defaultValue,t)?s:v1(v1({},s),{},{controls:v1(v1({},s.controls),{},CM({},e,{type:"standard",defaultValue:(0,a_.createValue)(t),currentValue:(0,a_.createValue)(t)}))})})},[i,e,t])}function A$(e,t){return(0,c$.isEqual)(t,(0,a_.extendWithValue)(t,e))}var cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.useCurrentValue=y$;var d$=g$(jt),u6=Dc,m$=ol;function g$(e){return e&&e.__esModule?e:{default:e}}function y$(e,t){var n=d$.default.useContext(m$.FixtureContext),i=n.fixtureState,s=(0,u6.findFixtureStateControl)(i,e);return s&&s.type==="standard"?(0,u6.extendWithValue)(t,s.currentValue):t}var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.useSetValue=x$;var c6=_$(jt),H_=Dc,v$=ol;function _$(e){return e&&e.__esModule?e:{default:e}}function f6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(n),!0).forEach(function(i){EM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x$(e,t){var n=c6.default.useContext(v$.FixtureContext),i=n.setFixtureState;return c6.default.useCallback(function(s){i(function(l){var o=typeof s=="function"?s(b$(l,e,t)):s;return _1(_1({},l),{},{controls:_1(_1({},l.controls),{},EM({},e,{type:"standard",defaultValue:(0,H_.createValue)(t),currentValue:(0,H_.createValue)(o)}))})})},[i,t,e])}function b$(e,t,n){var i=(0,H_.findFixtureStateControl)(e,t);return i&&i.type==="standard"?(0,H_.extendWithValue)(n,i.currentValue):n}Object.defineProperty(lE,"__esModule",{value:!0});lE.useValue=E$;var w$=uE,S$=cE,C$=fE;function E$(e,t){var n=t.defaultValue;(0,w$.useCreateFixtureState)(e,n);var i=(0,S$.useCurrentValue)(e,n),s=(0,C$.useSetValue)(e,n);return[i,s]}var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.Viewport=void 0;var x1=P$(jt),k$=ol;function P$(e){return e&&e.__esModule?e:{default:e}}function p6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function h6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p6(Object(n),!0).forEach(function(i){T$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function T$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kM=function(t){var n=t.children,i=t.width,s=t.height,l=x1.default.useContext(k$.FixtureContext),o=l.setFixtureState;return x1.default.useEffect(function(){o(function(x){return h6(h6({},x),{},{viewport:{width:i,height:s}})})},[o,i,s]),x1.default.createElement(x1.default.Fragment,null,n)};ex.Viewport=kM;kM.cosmosCapture=!1;var pE={},q_={},I$={get exports(){return q_},set exports(e){q_=e}},O$=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,M$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],PM=function(t){var n=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var l=O$.exec(t||""),o={},x=14;x--;)o[M$[x]]=l[x]||"";return i!=-1&&s!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},ZA={},L$={get exports(){return ZA},set exports(e){ZA=e}},G_={},R$={get exports(){return G_},set exports(e){G_=e}},Kg=1e3,Zg=Kg*60,Xg=Zg*60,Yg=Xg*24,D$=Yg*365.25,F$=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return B$(e);if(n==="number"&&isNaN(e)===!1)return t.long?N$(e):z$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function B$(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*D$;case"days":case"day":case"d":return n*Yg;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Xg;case"minutes":case"minute":case"mins":case"min":case"m":return n*Zg;case"seconds":case"second":case"secs":case"sec":case"s":return n*Kg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function z$(e){return e>=Yg?Math.round(e/Yg)+"d":e>=Xg?Math.round(e/Xg)+"h":e>=Zg?Math.round(e/Zg)+"m":e>=Kg?Math.round(e/Kg)+"s":e+"ms"}function N$(e){return b1(e,Yg,"day")||b1(e,Xg,"hour")||b1(e,Zg,"minute")||b1(e,Kg,"second")||e+" ms"}function b1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=F$,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var M=0,D;for(D in P)M=(M<<5)-M+P.charCodeAt(D),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(P){var M;function D(){if(D.enabled){var z=D,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,pe){if(ne==="%%")return ne;V++;var me=t.formatters[pe];if(typeof me=="function"){var oe=K[V];ne=me.call(z,oe),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=D.log||t.log||console.log.bind(console);X.apply(z,K)}}return D.namespace=P,D.enabled=t.enabled(P),D.useColors=t.useColors(),D.color=n(P),D.destroy=s,typeof t.init=="function"&&t.init(D),t.instances.push(D),D}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var M,D=(typeof P=="string"?P:"").split(/[\s,]+/),z=D.length;for(M=0;M<z;M++)D[M]&&(P=D[M].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var M,D;for(M=0,D=t.skips.length;M<D;M++)if(t.skips[M].test(P))return!1;for(M=0,D=t.names.length;M<D;M++)if(t.names[M].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(R$,G_);(function(e,t){t=e.exports=G_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var D=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(D++,U==="%c"&&(z=D))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(L$,ZA);var U$=PM,A6=ZA("socket.io-client:url"),$$=j$;function j$(e,t){var n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(A6("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),A6("parse %s",e),n=U$(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,s=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}var tx={},Q_={},V$={get exports(){return Q_},set exports(e){Q_=e}},W_={},H$={get exports(){return W_},set exports(e){W_=e}},Jg=1e3,ey=Jg*60,ty=ey*60,ny=ty*24,q$=ny*365.25,G$=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Q$(e);if(n==="number"&&isNaN(e)===!1)return t.long?K$(e):W$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Q$(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*q$;case"days":case"day":case"d":return n*ny;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ty;case"minutes":case"minute":case"mins":case"min":case"m":return n*ey;case"seconds":case"second":case"secs":case"sec":case"s":return n*Jg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function W$(e){return e>=ny?Math.round(e/ny)+"d":e>=ty?Math.round(e/ty)+"h":e>=ey?Math.round(e/ey)+"m":e>=Jg?Math.round(e/Jg)+"s":e+"ms"}function K$(e){return w1(e,ny,"day")||w1(e,ty,"hour")||w1(e,ey,"minute")||w1(e,Jg,"second")||e+" ms"}function w1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=G$,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var M=0,D;for(D in P)M=(M<<5)-M+P.charCodeAt(D),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(P){var M;function D(){if(D.enabled){var z=D,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,pe){if(ne==="%%")return ne;V++;var me=t.formatters[pe];if(typeof me=="function"){var oe=K[V];ne=me.call(z,oe),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=D.log||t.log||console.log.bind(console);X.apply(z,K)}}return D.namespace=P,D.enabled=t.enabled(P),D.useColors=t.useColors(),D.color=n(P),D.destroy=s,typeof t.init=="function"&&t.init(D),t.instances.push(D),D}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var M,D=(typeof P=="string"?P:"").split(/[\s,]+/),z=D.length;for(M=0;M<z;M++)D[M]&&(P=D[M].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var M,D;for(M=0,D=t.skips.length;M<D;M++)if(t.skips[M].test(P))return!1;for(M=0,D=t.names.length;M<D;M++)if(t.names[M].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(H$,W_);(function(e,t){t=e.exports=W_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var D=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(D++,U==="%c"&&(z=D))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(V$,Q_);var FS={},Z$={get exports(){return FS},set exports(e){FS=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return l.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+i],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(Z$);var nx={},X$={}.toString,hE=Array.isArray||function(e){return X$.call(e)=="[object Array]"},TM=tj,Y$=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",J$=typeof ArrayBuffer=="function",ej=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function tj(e){return Y$&&Buffer.isBuffer(e)||J$&&(e instanceof ArrayBuffer||ej(e))}var AE=hE,IM=TM,OM=Object.prototype.toString,nj=typeof Blob=="function"||typeof Blob<"u"&&OM.call(Blob)==="[object BlobConstructor]",rj=typeof File=="function"||typeof File<"u"&&OM.call(File)==="[object FileConstructor]";nx.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=BS(n,t),i.attachments=t.length,{packet:i,buffers:t}};function BS(e,t){if(!e)return e;if(IM(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}else if(AE(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=BS(e[s],t);return i}else if(typeof e=="object"&&!(e instanceof Date)){var i={};for(var l in e)i[l]=BS(e[l],t);return i}return e}nx.reconstructPacket=function(e,t){return e.data=zS(e.data,t),e.attachments=void 0,e};function zS(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(AE(e))for(var n=0;n<e.length;n++)e[n]=zS(e[n],t);else if(typeof e=="object")for(var i in e)e[i]=zS(e[i],t);return e}nx.removeBlobs=function(e,t){function n(l,o,x){if(!l)return l;if(nj&&l instanceof Blob||rj&&l instanceof File){i++;var S=new FileReader;S.onload=function(){x?x[o]=this.result:s=this.result,--i||t(s)},S.readAsArrayBuffer(l)}else if(AE(l))for(var P=0;P<l.length;P++)n(l[P],P,l);else if(typeof l=="object"&&!IM(l))for(var M in l)n(l[M],M,l)}var i=0,s=e;n(s),i||t(s)};(function(e){var t=Q_("socket.io-parser"),n=FS,i=nx,s=hE,l=TM;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=D;function o(){}var x=e.ERROR+'"encode error"';o.prototype.encode=function(ee,V){if(t("encoding packet %j",ee),e.BINARY_EVENT===ee.type||e.BINARY_ACK===ee.type)M(ee,V);else{var X=S(ee);V([X])}};function S(ee){var V=""+ee.type;if((e.BINARY_EVENT===ee.type||e.BINARY_ACK===ee.type)&&(V+=ee.attachments+"-"),ee.nsp&&ee.nsp!=="/"&&(V+=ee.nsp+","),ee.id!=null&&(V+=ee.id),ee.data!=null){var X=P(ee.data);if(X!==!1)V+=X;else return x}return t("encoded %j as %s",ee,V),V}function P(ee){try{return JSON.stringify(ee)}catch{return!1}}function M(ee,V){function X(ne){var pe=i.deconstructPacket(ne),me=S(pe.packet),oe=pe.buffers;oe.unshift(me),V(oe)}i.removeBlobs(ee,X)}function D(){this.reconstructor=null}n(D.prototype),D.prototype.add=function(ee){var V;if(typeof ee=="string")V=z(ee),e.BINARY_EVENT===V.type||e.BINARY_ACK===V.type?(this.reconstructor=new q(V),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",V)):this.emit("decoded",V);else if(l(ee)||ee.base64)if(this.reconstructor)V=this.reconstructor.takeBinaryData(ee),V&&(this.reconstructor=null,this.emit("decoded",V));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+ee)};function z(ee){var V=0,X={type:Number(ee.charAt(0))};if(e.types[X.type]==null)return K("unknown packet type "+X.type);if(e.BINARY_EVENT===X.type||e.BINARY_ACK===X.type){for(var ne=V+1;ee.charAt(++V)!=="-"&&V!=ee.length;);var pe=ee.substring(ne,V);if(pe!=Number(pe)||ee.charAt(V)!=="-")throw new Error("Illegal attachments");X.attachments=Number(pe)}if(ee.charAt(V+1)==="/"){for(var ne=V+1;++V;){var me=ee.charAt(V);if(me===","||V===ee.length)break}X.nsp=ee.substring(ne,V)}else X.nsp="/";var oe=ee.charAt(V+1);if(oe!==""&&Number(oe)==oe){for(var ne=V+1;++V;){var me=ee.charAt(V);if(me==null||Number(me)!=me){--V;break}if(V===ee.length)break}X.id=Number(ee.substring(ne,V+1))}if(ee.charAt(++V)){var we=U(ee.substr(V)),Ce=we!==!1&&(X.type===e.ERROR||s(we));if(Ce)X.data=we;else return K("invalid payload")}return t("decoded %s as %j",ee,X),X}function U(ee){try{return JSON.parse(ee)}catch{return!1}}D.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function q(ee){this.reconPack=ee,this.buffers=[]}q.prototype.takeBinaryData=function(ee){if(this.buffers.push(ee),this.buffers.length===this.reconPack.attachments){var V=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),V}return null},q.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function K(ee){return{type:e.ERROR,data:"parser error: "+ee}}})(tx);var NS={},ij={get exports(){return NS},set exports(e){NS=e}},rx={},US={},d6={get exports(){return US},set exports(e){US=e}};try{d6.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{d6.exports=!1}var oj=US,dE=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||oj))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!n&&i)return new XDomainRequest}catch{}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},K_={},aj={get exports(){return K_},set exports(e){K_=e}},od={},sj=Object.keys||function(t){var n=[],i=Object.prototype.hasOwnProperty;for(var s in t)i.call(t,s)&&n.push(s);return n},lj=hE,MM=Object.prototype.toString,uj=typeof Blob=="function"||typeof Blob<"u"&&MM.call(Blob)==="[object BlobConstructor]",cj=typeof File=="function"||typeof File<"u"&&MM.call(File)==="[object FileConstructor]",LM=s_;function s_(e){if(!e||typeof e!="object")return!1;if(lj(e)){for(var t=0,n=e.length;t<n;t++)if(s_(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||uj&&e instanceof Blob||cj&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return s_(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&s_(e[i]))return!0;return!1}var fj=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||i===0)return new ArrayBuffer(0);for(var s=new Uint8Array(e),l=new Uint8Array(n-t),o=t,x=0;o<n;o++,x++)l[x]=s[o];return l.buffer},pj=hj;function hj(e,t,n){var i=!1;return n=n||Aj,s.count=e,e===0?t():s;function s(l,o){if(s.count<=0)throw new Error("after called too many times");--s.count,l?(i=!0,t(l),t=n):s.count===0&&!i&&t(null,o)}}function Aj(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var Eh=String.fromCharCode;function RM(e){for(var t=[],n=0,i=e.length,s,l;n<i;)s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<i?(l=e.charCodeAt(n++),(l&64512)==56320?t.push(((s&1023)<<10)+(l&1023)+65536):(t.push(s),n--)):t.push(s);return t}function dj(e){for(var t=e.length,n=-1,i,s="";++n<t;)i=e[n],i>65535&&(i-=65536,s+=Eh(i>>>10&1023|55296),i=56320|i&1023),s+=Eh(i);return s}function DM(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Ow(e,t){return Eh(e>>t&63|128)}function mj(e,t){if(!(e&4294967168))return Eh(e);var n="";return e&4294965248?e&4294901760?e&4292870144||(n=Eh(e>>18&7|240),n+=Ow(e,12),n+=Ow(e,6)):(DM(e,t)||(e=65533),n=Eh(e>>12&15|224),n+=Ow(e,6)):n=Eh(e>>6&31|192),n+=Eh(e&63|128),n}function gj(e,t){t=t||{};for(var n=t.strict!==!1,i=RM(e),s=i.length,l=-1,o,x="";++l<s;)o=i[l],x+=mj(o,n);return x}function Gd(){if(Th>=X_)throw Error("Invalid byte index");var e=Z_[Th]&255;if(Th++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function yj(e){var t,n,i,s,l;if(Th>X_)throw Error("Invalid byte index");if(Th==X_)return!1;if(t=Z_[Th]&255,Th++,!(t&128))return t;if((t&224)==192){if(n=Gd(),l=(t&31)<<6|n,l>=128)return l;throw Error("Invalid continuation byte")}if((t&240)==224){if(n=Gd(),i=Gd(),l=(t&15)<<12|n<<6|i,l>=2048)return DM(l,e)?l:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(n=Gd(),i=Gd(),s=Gd(),l=(t&7)<<18|n<<12|i<<6|s,l>=65536&&l<=1114111))return l;throw Error("Invalid UTF-8 detected")}var Z_,X_,Th;function vj(e,t){t=t||{};var n=t.strict!==!1;Z_=RM(e),X_=Z_.length,Th=0;for(var i=[],s;(s=yj(n))!==!1;)i.push(s);return dj(i)}var _j={version:"2.1.2",encode:gj,decode:vj},S1={},m6;function xj(){return m6||(m6=1,function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;S1.encode=function(i){var s=new Uint8Array(i),l,o=s.length,x="";for(l=0;l<o;l+=3)x+=e[s[l]>>2],x+=e[(s[l]&3)<<4|s[l+1]>>4],x+=e[(s[l+1]&15)<<2|s[l+2]>>6],x+=e[s[l+2]&63];return o%3===2?x=x.substring(0,x.length-1)+"=":o%3===1&&(x=x.substring(0,x.length-2)+"=="),x},S1.decode=function(i){var s=i.length*.75,l=i.length,o,x=0,S,P,M,D;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var z=new ArrayBuffer(s),U=new Uint8Array(z);for(o=0;o<l;o+=4)S=t[i.charCodeAt(o)],P=t[i.charCodeAt(o+1)],M=t[i.charCodeAt(o+2)],D=t[i.charCodeAt(o+3)],U[x++]=S<<2|P>>4,U[x++]=(P&15)<<4|M>>2,U[x++]=(M&3)<<6|D&63;return z}}()),S1}var Mw,g6;function bj(){if(g6)return Mw;g6=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),n=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),i=e&&e.prototype.append&&e.prototype.getBlob;function s(x){return x.map(function(S){if(S.buffer instanceof ArrayBuffer){var P=S.buffer;if(S.byteLength!==P.byteLength){var M=new Uint8Array(S.byteLength);M.set(new Uint8Array(P,S.byteOffset,S.byteLength)),P=M.buffer}return P}return S})}function l(x,S){S=S||{};var P=new e;return s(x).forEach(function(M){P.append(M)}),S.type?P.getBlob(S.type):P.getBlob()}function o(x,S){return new Blob(s(x),S||{})}return typeof Blob<"u"&&(l.prototype=Blob.prototype,o.prototype=Blob.prototype),Mw=function(){return t?n?Blob:o:i?l:void 0}(),Mw}(function(e){var t=sj,n=LM,i=fj,s=pj,l=_j,o;typeof ArrayBuffer<"u"&&(o=xj());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),P=x||S;e.protocol=3;var M=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},D=t(M),z={type:"error",data:"parser error"},U=bj();e.encodePacket=function(pe,me,oe,we){typeof me=="function"&&(we=me,me=!1),typeof oe=="function"&&(we=oe,oe=null);var Ce=pe.data===void 0?void 0:pe.data.buffer||pe.data;if(typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer)return K(pe,me,we);if(typeof U<"u"&&Ce instanceof U)return V(pe,me,we);if(Ce&&Ce.base64)return q(pe,we);var je=M[pe.type];return pe.data!==void 0&&(je+=oe?l.encode(String(pe.data),{strict:!1}):String(pe.data)),we(""+je)};function q(pe,me){var oe="b"+e.packets[pe.type]+pe.data.data;return me(oe)}function K(pe,me,oe){if(!me)return e.encodeBase64Packet(pe,oe);var we=pe.data,Ce=new Uint8Array(we),je=new Uint8Array(1+we.byteLength);je[0]=M[pe.type];for(var tt=0;tt<Ce.length;tt++)je[tt+1]=Ce[tt];return oe(je.buffer)}function ee(pe,me,oe){if(!me)return e.encodeBase64Packet(pe,oe);var we=new FileReader;return we.onload=function(){e.encodePacket({type:pe.type,data:we.result},me,!0,oe)},we.readAsArrayBuffer(pe.data)}function V(pe,me,oe){if(!me)return e.encodeBase64Packet(pe,oe);if(P)return ee(pe,me,oe);var we=new Uint8Array(1);we[0]=M[pe.type];var Ce=new U([we.buffer,pe.data]);return oe(Ce)}e.encodeBase64Packet=function(pe,me){var oe="b"+e.packets[pe.type];if(typeof U<"u"&&pe.data instanceof U){var we=new FileReader;return we.onload=function(){var rt=we.result.split(",")[1];me(oe+rt)},we.readAsDataURL(pe.data)}var Ce;try{Ce=String.fromCharCode.apply(null,new Uint8Array(pe.data))}catch{for(var je=new Uint8Array(pe.data),tt=new Array(je.length),qe=0;qe<je.length;qe++)tt[qe]=je[qe];Ce=String.fromCharCode.apply(null,tt)}return oe+=btoa(Ce),me(oe)},e.decodePacket=function(pe,me,oe){if(pe===void 0)return z;if(typeof pe=="string"){if(pe.charAt(0)==="b")return e.decodeBase64Packet(pe.substr(1),me);if(oe&&(pe=X(pe),pe===!1))return z;var Ce=pe.charAt(0);return Number(Ce)!=Ce||!D[Ce]?z:pe.length>1?{type:D[Ce],data:pe.substring(1)}:{type:D[Ce]}}var we=new Uint8Array(pe),Ce=we[0],je=i(pe,1);return U&&me==="blob"&&(je=new U([je])),{type:D[Ce],data:je}};function X(pe){try{pe=l.decode(pe,{strict:!1})}catch{return!1}return pe}e.decodeBase64Packet=function(pe,me){var oe=D[pe.charAt(0)];if(!o)return{type:oe,data:{base64:!0,data:pe.substr(1)}};var we=o.decode(pe.substr(1));return me==="blob"&&U&&(we=new U([we])),{type:oe,data:we}},e.encodePayload=function(pe,me,oe){typeof me=="function"&&(oe=me,me=null);var we=n(pe);if(me&&we)return U&&!P?e.encodePayloadAsBlob(pe,oe):e.encodePayloadAsArrayBuffer(pe,oe);if(!pe.length)return oe("0:");function Ce(tt){return tt.length+":"+tt}function je(tt,qe){e.encodePacket(tt,we?me:!1,!1,function(rt){qe(null,Ce(rt))})}ne(pe,je,function(tt,qe){return oe(qe.join(""))})};function ne(pe,me,oe){for(var we=new Array(pe.length),Ce=s(pe.length,oe),je=function(qe,rt,At){me(rt,function(Ot,Vt){we[qe]=Vt,At(Ot,we)})},tt=0;tt<pe.length;tt++)je(tt,pe[tt],Ce)}e.decodePayload=function(pe,me,oe){if(typeof pe!="string")return e.decodePayloadAsBinary(pe,me,oe);typeof me=="function"&&(oe=me,me=null);var we;if(pe==="")return oe(z,0,1);for(var Ce="",je,tt,qe=0,rt=pe.length;qe<rt;qe++){var At=pe.charAt(qe);if(At!==":"){Ce+=At;continue}if(Ce===""||Ce!=(je=Number(Ce))||(tt=pe.substr(qe+1,je),Ce!=tt.length))return oe(z,0,1);if(tt.length){if(we=e.decodePacket(tt,me,!1),z.type===we.type&&z.data===we.data)return oe(z,0,1);var Ot=oe(we,qe+je,rt);if(Ot===!1)return}qe+=je,Ce=""}if(Ce!=="")return oe(z,0,1)},e.encodePayloadAsArrayBuffer=function(pe,me){if(!pe.length)return me(new ArrayBuffer(0));function oe(we,Ce){e.encodePacket(we,!0,!0,function(je){return Ce(null,je)})}ne(pe,oe,function(we,Ce){var je=Ce.reduce(function(rt,At){var Ot;return typeof At=="string"?Ot=At.length:Ot=At.byteLength,rt+Ot.toString().length+Ot+2},0),tt=new Uint8Array(je),qe=0;return Ce.forEach(function(rt){var At=typeof rt=="string",Ot=rt;if(At){for(var bn=new Uint8Array(rt.length),Vt=0;Vt<rt.length;Vt++)bn[Vt]=rt.charCodeAt(Vt);Ot=bn.buffer}At?tt[qe++]=0:tt[qe++]=1;for(var Jt=Ot.byteLength.toString(),Vt=0;Vt<Jt.length;Vt++)tt[qe++]=parseInt(Jt[Vt]);tt[qe++]=255;for(var bn=new Uint8Array(Ot),Vt=0;Vt<bn.length;Vt++)tt[qe++]=bn[Vt]}),me(tt.buffer)})},e.encodePayloadAsBlob=function(pe,me){function oe(we,Ce){e.encodePacket(we,!0,!0,function(je){var tt=new Uint8Array(1);if(tt[0]=1,typeof je=="string"){for(var qe=new Uint8Array(je.length),rt=0;rt<je.length;rt++)qe[rt]=je.charCodeAt(rt);je=qe.buffer,tt[0]=0}for(var At=je instanceof ArrayBuffer?je.byteLength:je.size,Ot=At.toString(),Vt=new Uint8Array(Ot.length+1),rt=0;rt<Ot.length;rt++)Vt[rt]=parseInt(Ot[rt]);if(Vt[Ot.length]=255,U){var Jt=new U([tt.buffer,Vt.buffer,je]);Ce(null,Jt)}})}ne(pe,oe,function(we,Ce){return me(new U(Ce))})},e.decodePayloadAsBinary=function(pe,me,oe){typeof me=="function"&&(oe=me,me=null);for(var we=pe,Ce=[];we.byteLength>0;){for(var je=new Uint8Array(we),tt=je[0]===0,qe="",rt=1;je[rt]!==255;rt++){if(qe.length>310)return oe(z,0,1);qe+=je[rt]}we=i(we,2+qe.length),qe=parseInt(qe);var At=i(we,0,qe);if(tt)try{At=String.fromCharCode.apply(null,new Uint8Array(At))}catch{var Ot=new Uint8Array(At);At="";for(var rt=0;rt<Ot.length;rt++)At+=String.fromCharCode(Ot[rt])}Ce.push(At),we=i(we,qe)}var Vt=Ce.length;Ce.forEach(function(Jt,bn){oe(e.decodePacket(Jt,me,!0),bn,Vt)})}})(od);var ry={},wj={get exports(){return ry},set exports(e){ry=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(wj);var Lw,y6;function mE(){if(y6)return Lw;y6=1;var e=od,t=ry;Lw=n;function n(i){this.path=i.path,this.hostname=i.hostname,this.port=i.port,this.secure=i.secure,this.query=i.query,this.timestampParam=i.timestampParam,this.timestampRequests=i.timestampRequests,this.readyState="",this.agent=i.agent||!1,this.socket=i.socket,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.forceNode=i.forceNode,this.isReactNative=i.isReactNative,this.extraHeaders=i.extraHeaders,this.localAddress=i.localAddress}return t(n.prototype),n.prototype.onError=function(i,s){var l=new Error(i);return l.type="TransportError",l.description=s,this.emit("error",l),this},n.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},n.prototype.send=function(i){if(this.readyState==="open")this.write(i);else throw new Error("Transport not open")},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(i){var s=e.decodePacket(i,this.socket.binaryType);this.onPacket(s)},n.prototype.onPacket=function(i){this.emit("packet",i)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")},Lw}var W0={};W0.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t};W0.decode=function(e){for(var t={},n=e.split("&"),i=0,s=n.length;i<s;i++){var l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t};var ix=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},FM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Y_=64,BM={},v6=0,Ih=0,_6;function $S(e){var t="";do t=FM[e%Y_]+t,e=Math.floor(e/Y_);while(e>0);return t}function Sj(e){var t=0;for(Ih=0;Ih<e.length;Ih++)t=t*Y_+BM[e.charAt(Ih)];return t}function gE(){var e=$S(+new Date);return e!==_6?(v6=0,_6=e):e+"."+$S(v6++)}for(;Ih<Y_;Ih++)BM[FM[Ih]]=Ih;gE.encode=$S;gE.decode=Sj;var zM=gE,XA={},Cj={get exports(){return XA},set exports(e){XA=e}},J_={},Ej={get exports(){return J_},set exports(e){J_=e}},iy=1e3,oy=iy*60,ay=oy*60,sy=ay*24,kj=sy*365.25,Pj=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Tj(e);if(n==="number"&&isNaN(e)===!1)return t.long?Oj(e):Ij(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Tj(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*kj;case"days":case"day":case"d":return n*sy;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ay;case"minutes":case"minute":case"mins":case"min":case"m":return n*oy;case"seconds":case"second":case"secs":case"sec":case"s":return n*iy;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Ij(e){return e>=sy?Math.round(e/sy)+"d":e>=ay?Math.round(e/ay)+"h":e>=oy?Math.round(e/oy)+"m":e>=iy?Math.round(e/iy)+"s":e+"ms"}function Oj(e){return C1(e,sy,"day")||C1(e,ay,"hour")||C1(e,oy,"minute")||C1(e,iy,"second")||e+" ms"}function C1(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=S,t.disable=o,t.enable=l,t.enabled=x,t.humanize=Pj,t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(P){var M=0,D;for(D in P)M=(M<<5)-M+P.charCodeAt(D),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function i(P){var M;function D(){if(D.enabled){var z=D,U=+new Date,q=U-(M||U);z.diff=q,z.prev=M,z.curr=U,M=U;for(var K=new Array(arguments.length),ee=0;ee<K.length;ee++)K[ee]=arguments[ee];K[0]=t.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");var V=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,function(ne,pe){if(ne==="%%")return ne;V++;var me=t.formatters[pe];if(typeof me=="function"){var oe=K[V];ne=me.call(z,oe),K.splice(V,1),V--}return ne}),t.formatArgs.call(z,K);var X=D.log||t.log||console.log.bind(console);X.apply(z,K)}}return D.namespace=P,D.enabled=t.enabled(P),D.useColors=t.useColors(),D.color=n(P),D.destroy=s,typeof t.init=="function"&&t.init(D),t.instances.push(D),D}function s(){var P=t.instances.indexOf(this);return P!==-1?(t.instances.splice(P,1),!0):!1}function l(P){t.save(P),t.names=[],t.skips=[];var M,D=(typeof P=="string"?P:"").split(/[\s,]+/),z=D.length;for(M=0;M<z;M++)D[M]&&(P=D[M].replace(/\*/g,".*?"),P[0]==="-"?t.skips.push(new RegExp("^"+P.substr(1)+"$")):t.names.push(new RegExp("^"+P+"$")));for(M=0;M<t.instances.length;M++){var U=t.instances[M];U.enabled=t.enabled(U.namespace)}}function o(){t.enable("")}function x(P){if(P[P.length-1]==="*")return!0;var M,D;for(M=0,D=t.skips.length;M<D;M++)if(t.skips[M].test(P))return!1;for(M=0,D=t.names.length;M<D;M++)if(t.names[M].test(P))return!0;return!1}function S(P){return P instanceof Error?P.stack||P.message:P}})(Ej,J_);(function(e,t){t=e.exports=J_,t.log=s,t.formatArgs=i,t.save=l,t.load=o,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}};function i(S){var P=this.useColors;if(S[0]=(P?"%c":"")+this.namespace+(P?" %c":" ")+S[0]+(P?"%c ":" ")+"+"+t.humanize(this.diff),!!P){var M="color: "+this.color;S.splice(1,0,M,"color: inherit");var D=0,z=0;S[0].replace(/%[a-zA-Z%]/g,function(U){U!=="%%"&&(D++,U==="%c"&&(z=D))}),S.splice(z,0,M)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function o(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(o());function x(){try{return window.localStorage}catch{}}})(Cj,XA);var NM=mE(),Mj=W0,UM=od,Lj=ix,Rj=zM,Tc=XA("engine.io-client:polling"),$M=Mf,Dj=function(){var e=dE,t=new e({xdomain:!1});return t.responseType!=null}();function Mf(e){var t=e&&e.forceBase64;(!Dj||t)&&(this.supportsBinary=!1),NM.call(this,e)}Lj(Mf,NM);Mf.prototype.name="polling";Mf.prototype.doOpen=function(){this.poll()};Mf.prototype.pause=function(e){var t=this;this.readyState="pausing";function n(){Tc("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var i=0;this.polling&&(Tc("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Tc("pre-pause polling complete"),--i||n()})),this.writable||(Tc("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Tc("pre-pause writing complete"),--i||n()}))}else n()};Mf.prototype.poll=function(){Tc("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Mf.prototype.onData=function(e){var t=this;Tc("polling got data %s",e);var n=function(i,s,l){if(t.readyState==="opening"&&t.onOpen(),i.type==="close")return t.onClose(),!1;t.onPacket(i)};UM.decodePayload(e,this.socket.binaryType,n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Tc('ignoring poll - transport state "%s"',this.readyState))};Mf.prototype.doClose=function(){var e=this;function t(){Tc("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Tc("transport open - closing"),t()):(Tc("transport not open - deferring close"),this.once("open",t))};Mf.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};UM.encodePayload(e,this.supportsBinary,function(i){t.doWrite(i,n)})};Mf.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";this.timestampRequests!==!1&&(e[this.timestampParam]=Rj()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=Mj.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Fj=dE,jM=$M,Bj=ry,zj=ix,jS=XA("engine.io-client:polling-xhr");aj.exports=K0;K_.Request=za;function x6(){}function K0(e){if(jM.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",n=location.port;n||(n=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}zj(K0,jM);K0.prototype.supportsBinary=!0;K0.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new za(e)};K0.prototype.doWrite=function(e,t){var n=typeof e!="string"&&e!==void 0,i=this.request({method:"POST",data:e,isBinary:n}),s=this;i.on("success",t),i.on("error",function(l){s.onError("xhr post error",l)}),this.sendXhr=i};K0.prototype.doPoll=function(){jS("xhr poll");var e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e};function za(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}Bj(za.prototype);za.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new Fj(e),n=this;try{jS("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var s=t.getResponseHeader("Content-Type");n.supportsBinary&&s==="application/octet-stream"&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},jS("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){n.onError(s)},0);return}typeof document<"u"&&(this.index=za.requestsCount++,za.requests[this.index]=this)};za.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};za.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};za.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};za.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=x6:this.xhr.onreadystatechange=x6,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete za.requests[this.index],this.xhr=null}};za.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(n){this.onError(n)}e!=null&&this.onData(e)};za.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};za.prototype.abort=function(){this.cleanup()};za.requestsCount=0;za.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",b6);else if(typeof addEventListener=="function"){var Nj="onpagehide"in self?"pagehide":"unload";addEventListener(Nj,b6,!1)}}function b6(){for(var e in za.requests)za.requests.hasOwnProperty(e)&&za.requests[e].abort()}var yE=$M,Uj=ix,$j=Z0,jj=/\n/g,Vj=/\\n/g,E1;function Hj(){}function qj(){return typeof self<"u"?self:typeof window<"u"?window:typeof Ru<"u"?Ru:{}}function Z0(e){if(yE.call(this,e),this.query=this.query||{},!E1){var t=qj();E1=t.___eio=t.___eio||[]}this.index=E1.length;var n=this;E1.push(function(i){n.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=Hj)},!1)}Uj(Z0,yE);Z0.prototype.supportsBinary=!1;Z0.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),yE.prototype.doClose.call(this)};Z0.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)};Z0.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,o;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function x(){S(),t()}function S(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(M){n.onError("jsonp polling iframe removal error",M)}try{var P='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(P)}catch{o=document.createElement("iframe"),o.name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}S(),e=e.replace(Vj,`\\
`),this.area.value=e.replace(jj,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};const Gj={},Qj=Object.freeze(Object.defineProperty({__proto__:null,default:Gj},Symbol.toStringTag,{value:"Module"})),Wj=BF(Qj);var vE=mE(),Kj=od,Zj=W0,Xj=ix,Yj=zM,Jj=XA("engine.io-client:websocket"),e2,_E;if(typeof WebSocket<"u")e2=WebSocket;else if(typeof self<"u")e2=self.WebSocket||self.MozWebSocket;else try{_E=Wj}catch{}var T0=e2||_E,eV=$u;function $u(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=e2&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(T0=_E),vE.call(this,e)}Xj($u,vE);$u.prototype.name="websocket";$u.prototype.supportsBinary=!0;$u.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new T0(e,t):new T0(e):new T0(e,t,n)}catch(i){return this.emit("error",i)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};$u.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};$u.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,s=n;i<s;i++)(function(o){Kj.encodePacket(o,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var S={};if(o.options&&(S.compress=o.options.compress),t.perMessageDeflate){var P=typeof x=="string"?Buffer.byteLength(x):x.length;P<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,S)}catch{Jj("websocket closed before onclose event")}--n||l()})})(e[i]);function l(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};$u.prototype.onClose=function(){vE.prototype.onClose.call(this)};$u.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};$u.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=Yj()),this.supportsBinary||(e.b64=1),e=Zj.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e};$u.prototype.check=function(){return!!T0&&!("__initialize"in T0&&this.name===$u.prototype.name)};var tV=dE,nV=K_,rV=$j,iV=eV;rx.polling=oV;rx.websocket=iV;function oV(e){var t,n=!1,i=!1,s=e.jsonp!==!1;if(typeof location<"u"){var l=location.protocol==="https:",o=location.port;o||(o=l?443:80),n=e.hostname!==location.hostname||o!==e.port,i=e.secure!==l}if(e.xdomain=n,e.xscheme=i,t=new tV(e),"open"in t&&!e.forceJSONP)return new nV(e);if(!s)throw new Error("JSONP disabled");return new rV(e)}var aV=[].indexOf,VM=function(e,t){if(aV)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},sV=rx,lV=ry,Ia=XA("engine.io-client:socket"),uV=VM,HM=od,w6=PM,cV=W0,fV=ai;function ai(e,t){if(!(this instanceof ai))return new ai(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=w6(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=w6(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=cV.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ai.priorWebsocketSuccess=!1;lV(ai.prototype);ai.protocol=HM.protocol;ai.Socket=ai;ai.Transport=mE();ai.transports=rx;ai.parser=od;ai.prototype.createTransport=function(e){Ia('creating transport "%s"',e);var t=pV(this.query);t.EIO=HM.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var i=new sV[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return i};function pV(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}ai.prototype.open=function(){var e;if(this.rememberUpgrade&&ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};ai.prototype.setTransport=function(e){Ia("setting transport %s",e.name);var t=this;this.transport&&(Ia("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};ai.prototype.probe=function(e){Ia('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;ai.priorWebsocketSuccess=!1;function s(){if(i.onlyBinaryUpgrades){var D=!this.supportsBinary&&i.transport.supportsBinary;n=n||D}n||(Ia('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(z){if(!n)if(z.type==="pong"&&z.data==="probe"){if(Ia('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;ai.priorWebsocketSuccess=t.name==="websocket",Ia('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||i.readyState!=="closed"&&(Ia("changing transport and sending upgrade packet"),M(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{Ia('probe transport "%s" failed',e);var U=new Error("probe error");U.transport=t.name,i.emit("upgradeError",U)}}))}function l(){n||(n=!0,M(),t.close(),t=null)}function o(D){var z=new Error("probe error: "+D);z.transport=t.name,l(),Ia('probe transport "%s" failed because of error: %s',e,D),i.emit("upgradeError",z)}function x(){o("transport closed")}function S(){o("socket closed")}function P(D){t&&D.name!==t.name&&(Ia('"%s" works - aborting "%s"',D.name,t.name),l())}function M(){t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",x),i.removeListener("close",S),i.removeListener("upgrading",P)}t.once("open",s),t.once("error",o),t.once("close",x),this.once("close",S),this.once("upgrading",P),t.open()};ai.prototype.onOpen=function(){if(Ia("socket open"),this.readyState="open",ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){Ia("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};ai.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ia('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ia('packet received with socket readyState "%s"',this.readyState)};ai.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};ai.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};ai.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Ia("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};ai.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};ai.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};ai.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ia("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};ai.prototype.write=ai.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this};ai.prototype.sendPacket=function(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),!(this.readyState==="closing"||this.readyState==="closed")){n=n||{},n.compress=n.compress!==!1;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}};ai.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),Ia("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this};ai.prototype.onError=function(e){Ia("socket error %j",e),ai.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};ai.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ia('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}};ai.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~uV(this.transports,e[n])&&t.push(e[n]);return t};(function(e){e.exports=fV,e.exports.parser=od})(ij);var t2={},hV={get exports(){return t2},set exports(e){t2=e}},n2={},AV={get exports(){return n2},set exports(e){n2=e}};(function(e){e.exports=t;function t(i){if(i)return n(i)}function n(i){for(var s in t.prototype)i[s]=t.prototype[s];return i}t.prototype.on=t.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},t.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,x=0;x<l.length;x++)if(o=l[x],o===s||o.fn===s){l.splice(x,1);break}return this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),l=this._callbacks["$"+i];if(l){l=l.slice(0);for(var o=0,x=l.length;o<x;++o)l[o].apply(this,s)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(AV);var dV=mV;function mV(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}var qM=gV;function gV(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}var S6=[].slice,GM=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var n=S6.call(arguments,2);return function(){return t.apply(e,n.concat(S6.call(arguments)))}};(function(e,t){var n=tx,i=n2,s=dV,l=qM,o=GM,x=ZA("socket.io-client:socket"),S=W0,P=LM;e.exports=z;var M={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},D=i.prototype.emit;function z(U,q,K){this.io=U,this.nsp=q,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},K&&K.query&&(this.query=K.query),this.io.autoConnect&&this.open()}i(z.prototype),z.prototype.subEvents=function(){if(!this.subs){var U=this.io;this.subs=[l(U,"open",o(this,"onopen")),l(U,"packet",o(this,"onpacket")),l(U,"close",o(this,"onclose"))]}},z.prototype.open=z.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},z.prototype.send=function(){var U=s(arguments);return U.unshift("message"),this.emit.apply(this,U),this},z.prototype.emit=function(U){if(M.hasOwnProperty(U))return D.apply(this,arguments),this;var q=s(arguments),K={type:(this.flags.binary!==void 0?this.flags.binary:P(q))?n.BINARY_EVENT:n.EVENT,data:q};return K.options={},K.options.compress=!this.flags||this.flags.compress!==!1,typeof q[q.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=q.pop(),K.id=this.ids++),this.connected?this.packet(K):this.sendBuffer.push(K),this.flags={},this},z.prototype.packet=function(U){U.nsp=this.nsp,this.io.packet(U)},z.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var U=typeof this.query=="object"?S.encode(this.query):this.query;x("sending connect packet with query %s",U),this.packet({type:n.CONNECT,query:U})}else this.packet({type:n.CONNECT})},z.prototype.onclose=function(U){x("close (%s)",U),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",U)},z.prototype.onpacket=function(U){var q=U.nsp===this.nsp,K=U.type===n.ERROR&&U.nsp==="/";if(!(!q&&!K))switch(U.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(U);break;case n.BINARY_EVENT:this.onevent(U);break;case n.ACK:this.onack(U);break;case n.BINARY_ACK:this.onack(U);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",U.data);break}},z.prototype.onevent=function(U){var q=U.data||[];x("emitting event %j",q),U.id!=null&&(x("attaching ack callback to event"),q.push(this.ack(U.id))),this.connected?D.apply(this,q):this.receiveBuffer.push(q)},z.prototype.ack=function(U){var q=this,K=!1;return function(){if(!K){K=!0;var ee=s(arguments);x("sending ack %j",ee),q.packet({type:P(ee)?n.BINARY_ACK:n.ACK,id:U,data:ee})}}},z.prototype.onack=function(U){var q=this.acks[U.id];typeof q=="function"?(x("calling ack %s with %j",U.id,U.data),q.apply(this,U.data),delete this.acks[U.id]):x("bad ack %s",U.id)},z.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},z.prototype.emitBuffered=function(){var U;for(U=0;U<this.receiveBuffer.length;U++)D.apply(this,this.receiveBuffer[U]);for(this.receiveBuffer=[],U=0;U<this.sendBuffer.length;U++)this.packet(this.sendBuffer[U]);this.sendBuffer=[]},z.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},z.prototype.destroy=function(){if(this.subs){for(var U=0;U<this.subs.length;U++)this.subs[U].destroy();this.subs=null}this.io.destroy(this)},z.prototype.close=z.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},z.prototype.compress=function(U){return this.flags.compress=U,this},z.prototype.binary=function(U){return this.flags.binary=U,this}})(hV);var yV=X0;function X0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}X0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};X0.prototype.reset=function(){this.attempts=0};X0.prototype.setMin=function(e){this.ms=e};X0.prototype.setMax=function(e){this.max=e};X0.prototype.setJitter=function(e){this.jitter=e};var vV=NS,_V=t2,xV=n2,bV=tx,bh=qM,Qd=GM,Bs=ZA("socket.io-client:manager"),QM=VM,wV=yV,WM=Object.prototype.hasOwnProperty,C6=di;function di(e,t){if(!(this instanceof di))return new di(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new wV({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||bV;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}di.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)WM.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};di.prototype.updateSocketIds=function(){for(var e in this.nsps)WM.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};di.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};xV(di.prototype);di.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};di.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};di.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};di.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};di.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};di.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};di.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};di.prototype.open=di.prototype.connect=function(e,t){if(Bs("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Bs("opening %s",this.uri),this.engine=vV(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=bh(n,"open",function(){i.onopen(),e&&e()}),l=bh(n,"error",function(S){if(Bs("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",S),e){var P=new Error("Connection error");P.data=S,e(P)}else i.maybeReconnectOnOpen()});if(this._timeout!==!1){var o=this._timeout;Bs("connect attempt will timeout after %d",o);var x=setTimeout(function(){Bs("connect attempt timed out after %d",o),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(s),this.subs.push(l),this};di.prototype.onopen=function(){Bs("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(bh(e,"data",Qd(this,"ondata"))),this.subs.push(bh(e,"ping",Qd(this,"onping"))),this.subs.push(bh(e,"pong",Qd(this,"onpong"))),this.subs.push(bh(e,"error",Qd(this,"onerror"))),this.subs.push(bh(e,"close",Qd(this,"onclose"))),this.subs.push(bh(this.decoder,"decoded",Qd(this,"ondecoded")))};di.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};di.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};di.prototype.ondata=function(e){this.decoder.add(e)};di.prototype.ondecoded=function(e){this.emit("packet",e)};di.prototype.onerror=function(e){Bs("error",e),this.emitAll("error",e)};di.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new _V(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",s),n.on("connect",function(){n.id=i.generateId(e)}),this.autoConnect&&s()}function s(){~QM(i.connecting,n)||i.connecting.push(n)}return n};di.prototype.destroy=function(e){var t=QM(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};di.prototype.packet=function(e){Bs("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))};di.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};di.prototype.cleanup=function(){Bs("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};di.prototype.close=di.prototype.disconnect=function(){Bs("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};di.prototype.onclose=function(e){Bs("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};di.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Bs("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Bs("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(Bs("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(i){i?(Bs("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",i.data)):(Bs("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};di.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var n=$$,i=tx,s=C6,l=ZA("socket.io-client");e.exports=t=x;var o=t.managers={};function x(S,P){typeof S=="object"&&(P=S,S=void 0),P=P||{};var M=n(S),D=M.source,z=M.id,U=M.path,q=o[z]&&U in o[z].nsps,K=P.forceNew||P["force new connection"]||P.multiplex===!1||q,ee;return K?(l("ignoring socket cache for %s",D),ee=s(D,P)):(o[z]||(l("new io instance for %s",D),o[z]=s(D,P)),ee=o[z]),M.query&&!P.query&&(P.query=M.query),ee.socket(M.path,P)}t.protocol=i.protocol,t.connect=x,t.Manager=C6,t.Socket=t2})(I$,q_);var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.RENDERER_MESSAGE_EVENT_NAME=void 0;var SV="cosmos-renderer-message";ox.RENDERER_MESSAGE_EVENT_NAME=SV;Object.defineProperty(pE,"__esModule",{value:!0});pE.createWebSocketsConnect=kV;var CV=EV(q_),Rw=ox;function EV(e){return e&&e.__esModule?e:{default:e}}function kV(e){var t=(0,CV.default)(e);return{postMessage:function(i){t.emit(Rw.RENDERER_MESSAGE_EVENT_NAME,i)},onMessage:function(i){return t.on(Rw.RENDERER_MESSAGE_EVENT_NAME,i),function(){return t.off(Rw.RENDERER_MESSAGE_EVENT_NAME,i)}}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FixtureCapture",{enumerable:!0,get:function(){return t.FixtureCapture}}),Object.defineProperty(e,"FixtureContext",{enumerable:!0,get:function(){return n.FixtureContext}}),Object.defineProperty(e,"FixtureLoader",{enumerable:!0,get:function(){return i.FixtureLoader}}),Object.defineProperty(e,"Viewport",{enumerable:!0,get:function(){return S.Viewport}}),Object.defineProperty(e,"createPostMessageConnect",{enumerable:!0,get:function(){return l.createPostMessageConnect}}),Object.defineProperty(e,"createWebSocketsConnect",{enumerable:!0,get:function(){return P.createWebSocketsConnect}}),Object.defineProperty(e,"getDecoratedFixtureElement",{enumerable:!0,get:function(){return s.getDecoratedFixtureElement}}),Object.defineProperty(e,"useSelect",{enumerable:!0,get:function(){return o.useSelect}}),Object.defineProperty(e,"useValue",{enumerable:!0,get:function(){return x.useValue}});var t=N2,n=ol,i=X2,s=Y2,l=nE,o=iE,x=lE,S=ex,P=pE})(VO);(function(e){e.exports=VO})(l9);var ax={},VS={},PV={get exports(){return VS},set exports(e){VS=e}};(function(e){e.exports=Bc})(PV);function HS(e){return HS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HS(e)}Object.defineProperty(ax,"__esModule",{value:!0});ax.ErrorCatch=void 0;var PA=OV(jt),TV=ns,IV=VS;function OV(e){return e&&e.__esModule?e:{default:e}}function MV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E6(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function LV(e,t,n){return t&&E6(e.prototype,t),n&&E6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},qS(e,t)}function DV(e){var t=BV();return function(){var i=r2(e),s;if(t){var l=r2(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return FV(this,s)}}function FV(e,t){if(t&&(HS(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KM(e)}function KM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r2(e){return r2=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r2(e)}function zV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NV=function(e){RV(n,e);var t=DV(n);function n(){var i;MV(this,n);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l)),zV(KM(i),"state",{error:null}),i}return LV(n,[{key:"componentDidCatch",value:function(s,l){this.setState({error:"".concat(s.message,`
`).concat(l.componentStack)})}},{key:"componentDidUpdate",value:function(s){this.state.error&&(UV(this.props.children,s.children)||$V(this.props.fixtureState,s.fixtureState))&&(this.setState({error:null}),this.props.onErrorReset())}},{key:"render",value:function(){return this.state.error?this.renderError(this.state.error):this.props.children}},{key:"renderError",value:function(s){return __DEV__?null:PA.default.createElement(PA.default.Fragment,null,PA.default.createElement("p",null,PA.default.createElement("strong",null,"Ouch, something wrong!")),PA.default.createElement("pre",null,s),PA.default.createElement("p",null,"Check console for more info."))}}]),n}(PA.default.Component);ax.ErrorCatch=NV;function UV(e,t){return!(0,IV.areNodesEqual)(e,t,!0)}function $V(e,t){return!(0,TV.isEqual)(e,t)}var Y0={},sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.isInsideCosmosPreviewIframe=jV;function jV(){try{return window.self!==window.parent}catch{return!0}}Object.defineProperty(Y0,"__esModule",{value:!0});Y0.rendererConnect=void 0;var k6=N_,VV=sx,HV=(0,VV.isInsideCosmosPreviewIframe)()?(0,k6.createPostMessageConnect)():(0,k6.createWebSocketsConnect)(qV());Y0.rendererConnect=HV;function qV(){return location.origin}var J0={},GS={},GV={get exports(){return GS},set exports(e){GS=e}};(function(e){e.exports=H2})(GV);Object.defineProperty(J0,"__esModule",{value:!0});J0.rendererId=void 0;var QV=GS,WV=KV();J0.rendererId=WV;function KV(){var e=sessionStorage.getItem("cosmosRendererId");return e||(e=(0,QV.uuid)(),sessionStorage.setItem("cosmosRendererId",e)),e}var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.renderMessage=JV;var ZV=XV(jt);function XV(e){return e&&e.__esModule?e:{default:e}}var YV={position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:'-apple-system, BlinkMacSystemFont, Ubuntu, "Helvetica Neue", Helvetica, sans-serif',fontSize:14};function JV(e){var t=e.msg;return ZV.default.createElement("div",{style:YV},t)}var lx={},QS={},eH={get exports(){return QS},set exports(e){QS=e}},Xh={},Oy={},tH=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var P6=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable;function iH(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function oH(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(l){return t[l]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(l){s[l]=l}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var aH=oH()?Object.assign:function(e,t){for(var n,i=iH(e),s,l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var o in n)nH.call(n,o)&&(i[o]=n[o]);if(P6){s=P6(n);for(var x=0;x<s.length;x++)rH.call(n,s[x])&&(i[s[x]]=n[s[x]])}}return i},ZM="%[a-f0-9]{2}",T6=new RegExp(ZM,"gi"),I6=new RegExp("("+ZM+")+","gi");function WS(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],WS(n),WS(i))}function sH(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(T6),n=1;n<t.length;n++)e=WS(t,n).join(""),t=e.match(T6);return e}}function lH(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=I6.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var i=sH(n[0]);i!==n[0]&&(t[n[0]]=i)}n=I6.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),l=0;l<s.length;l++){var o=s[l];e=e.replace(new RegExp(o,"g"),t[o])}return e}var uH=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return lH(e)}},cH=tH,XM=aH,O6=uH;function fH(e){switch(e.arrayFormat){case"index":return function(t,n,i){return n===null?[Wl(t,e),"[",i,"]"].join(""):[Wl(t,e),"[",Wl(i,e),"]=",Wl(n,e)].join("")};case"bracket":return function(t,n){return n===null?Wl(t,e):[Wl(t,e),"[]=",Wl(n,e)].join("")};default:return function(t,n){return n===null?Wl(t,e):[Wl(t,e),"=",Wl(n,e)].join("")}}}function pH(e){var t;switch(e.arrayFormat){case"index":return function(n,i,s){if(t=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!t){s[n]=i;return}s[n]===void 0&&(s[n]={}),s[n][t[1]]=i};case"bracket":return function(n,i,s){if(t=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),t){if(s[n]===void 0){s[n]=[i];return}}else{s[n]=i;return}s[n]=[].concat(s[n],i)};default:return function(n,i,s){if(s[n]===void 0){s[n]=i;return}s[n]=[].concat(s[n],i)}}}function Wl(e,t){return t.encode?t.strict?cH(e):encodeURIComponent(e):e}function YM(e){return Array.isArray(e)?e.sort():typeof e=="object"?YM(Object.keys(e)).sort(function(t,n){return Number(t)-Number(n)}).map(function(t){return e[t]}):e}function JM(e){var t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function eL(e,t){t=XM({arrayFormat:"none"},t);var n=pH(t),i=Object.create(null);return typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e)?i:(e.split("&").forEach(function(s){var l=s.replace(/\+/g," ").split("="),o=l.shift(),x=l.length>0?l.join("="):void 0;x=x===void 0?null:O6(x),n(O6(o),x,i)}),Object.keys(i).sort().reduce(function(s,l){var o=i[l];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?s[l]=YM(o):s[l]=o,s},Object.create(null)))}Oy.extract=JM;Oy.parse=eL;Oy.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=XM(n,t),t.sort===!1&&(t.sort=function(){});var i=fH(t);return e?Object.keys(e).sort(t.sort).map(function(s){var l=e[s];if(l===void 0)return"";if(l===null)return Wl(s,t);if(Array.isArray(l)){var o=[];return l.slice().forEach(function(x){x!==void 0&&o.push(i(s,x,o.length))}),o.join("&")}return Wl(s,t)+"="+Wl(l,t)}).filter(function(s){return s.length>0}).join("&"):""};Oy.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:eL(JM(e),t)}};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.parsePlaygroundUrlQuery=dH;Xh.parseRendererUrlQuery=gH;Xh.parseUrlQuery=bE;Xh.stringifyPlaygroundUrlQuery=AH;Xh.stringifyRendererUrlQuery=mH;Xh.stringifyUrlQuery=yH;var ux=hH(Oy);function hH(e){return e&&e.__esModule?e:{default:e}}function AH(e){var t={};return e.fixtureId&&(t.fixtureId=JSON.stringify(e.fixtureId)),ux.default.stringify(t)}function dH(e){var t=bE(e),n={};return t.fixtureId&&(n.fixtureId=JSON.parse(t.fixtureId)),n}function mH(e){var t={};return e._fixtureId&&(t._fixtureId=JSON.stringify(e._fixtureId)),ux.default.stringify(t)}function gH(e){var t=bE(e),n={};return t._fixtureId&&(n._fixtureId=JSON.parse(t._fixtureId)),n}function bE(e){return ux.default.parse(e)}function yH(e){return ux.default.stringify(e)}(function(e){e.exports=Xh})(eH);Object.defineProperty(lx,"__esModule",{value:!0});lx.selectedFixtureId=void 0;var vH=QS,_H=sx,xH=bH();lx.selectedFixtureId=xH;function bH(){var e=(0,vH.parseRendererUrlQuery)(location.search);return e._fixtureId?(wH(e._fixtureId),e._fixtureId):SH()}function wH(e){sessionStorage.setItem("cosmosFixtureId",JSON.stringify(e))}function SH(){if((0,_H.isInsideCosmosPreviewIframe)())return null;var e=sessionStorage.getItem("cosmosFixtureId");return e?JSON.parse(e):null}Object.defineProperty(IC,"__esModule",{value:!0});IC.DomFixtureLoader=LH;var CH=MH(jt),EH=N_,kH=ax,PH=Y0,TH=J0,IH=xE,OH=lx;function MH(e){return e&&e.__esModule?e:{default:e}}function LH(e){var t=e.fixtures,n=e.decorators,i=e.onErrorReset;return CH.default.createElement(EH.FixtureLoader,{rendererId:TH.rendererId,rendererConnect:PH.rendererConnect,fixtures:t,selectedFixtureId:OH.selectedFixtureId,systemDecorators:[kH.ErrorCatch],userDecorators:n,renderMessage:IH.renderMessage,onErrorReset:i})}var RH=J0,DH=Y0;window.addEventListener("error",function(){DH.rendererConnect.postMessage({type:"rendererError",payload:{rendererId:RH.rendererId}})});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mountDomRenderer=S,Object.defineProperty(e,"rendererConnect",{enumerable:!0,get:function(){return l.rendererConnect}}),Object.defineProperty(e,"rendererId",{enumerable:!0,get:function(){return o.rendererId}});var t=x(jt),n=k3,i=TC,s=IC,l=Y0,o=J0;function x(P){return P&&P.__esModule?P:{default:P}}function S(P){var M=P.rendererConfig,D=P.fixtures,z=P.decorators,U=P.onErrorReset,q=(0,i.getDomContainer)(M.containerQuerySelector),K=(0,n.createRoot)(q);K.render(t.default.createElement(s.DomFixtureLoader,{fixtures:D,decorators:z,onErrorReset:U}))}})(jT);(function(e){e.exports=jT})(e7);const FH="2.6.0";var ly={},BH={get exports(){return ly},set exports(e){ly=e}},cx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zH=jt,NH=Symbol.for("react.element"),UH=Symbol.for("react.fragment"),$H=Object.prototype.hasOwnProperty,jH=zH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VH={key:!0,ref:!0,__self:!0,__source:!0};function tL(e,t,n){var i,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)$H.call(t,i)&&!VH.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:NH,type:e,key:l,ref:o,props:s,_owner:jH.current}}cx.Fragment=UH;cx.jsx=tL;cx.jsxs=tL;(function(e){e.exports=cx})(BH);const fx=ly.Fragment,_t=ly.jsx,wr=ly.jsxs;function nL(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nL(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function aa(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=nL(e))&&(i&&(i+=" "),i+=t);return i}const rL=e=>_t("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e,children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.54039 5.54039C5.79423 5.28655 6.20578 5.28655 6.45963 5.54039L12 11.0808L17.5404 5.54039C17.7942 5.28655 18.2058 5.28655 18.4596 5.54039C18.7135 5.79423 18.7135 6.20578 18.4596 6.45963L12.9192 12L18.4596 17.5404C18.7135 17.7942 18.7135 18.2058 18.4596 18.4596C18.2058 18.7135 17.7942 18.7135 17.5404 18.4596L12 12.9192L6.45963 18.4596C6.20578 18.7135 5.79423 18.7135 5.54039 18.4596C5.28655 18.2058 5.28655 17.7942 5.54039 17.5404L11.0808 12L5.54039 6.45963C5.28655 6.20578 5.28655 5.79423 5.54039 5.54039Z",fill:"currentColor"})});rL.displayName="Close24";const HH=jt.memo(rL),qH=HH,iL=e=>wr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L13.3536 12.6464C13.5488 12.8417 13.5488 13.1583 13.3536 13.3536C13.1583 13.5488 12.8417 13.5488 12.6464 13.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.64645C13.1583 2.45118 12.8417 2.45118 12.6464 2.64645L2.64645 12.6464C2.45118 12.8417 2.45118 13.1583 2.64645 13.3536C2.84171 13.5488 3.15829 13.5488 3.35355 13.3536L13.3536 3.35355C13.5488 3.15829 13.5488 2.84171 13.3536 2.64645Z",fill:"currentColor"})]});iL.displayName="Close16";const GH=jt.memo(iL),QH=GH,oL=e=>_t("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 5.64645C2.84171 5.45118 3.15829 5.45118 3.35355 5.64645L8 10.2929L12.6464 5.64645C12.8417 5.45118 13.1583 5.45118 13.3536 5.64645C13.5488 5.84171 13.5488 6.15829 13.3536 6.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L2.64645 6.35355C2.45118 6.15829 2.45118 5.84171 2.64645 5.64645Z",fill:"currentColor"})});oL.displayName="ChevronDown16";const WH=jt.memo(oL),KH=WH,aL=e=>wr("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e,children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00002 2.66669C5.0545 2.66669 2.66669 5.0545 2.66669 8.00002C2.66669 10.9455 5.0545 13.3334 8.00002 13.3334C10.9455 13.3334 13.3334 10.9455 13.3334 8.00002C13.3334 5.0545 10.9455 2.66669 8.00002 2.66669ZM1.66669 8.00002C1.66669 4.50222 4.50222 1.66669 8.00002 1.66669C11.4978 1.66669 14.3334 4.50222 14.3334 8.00002C14.3334 11.4978 11.4978 14.3334 8.00002 14.3334C4.50222 14.3334 1.66669 11.4978 1.66669 8.00002Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6.87481C8.27614 6.87481 8.5 7.09867 8.5 7.37481V11C8.5 11.2761 8.27614 11.5 8 11.5C7.72386 11.5 7.5 11.2761 7.5 11V7.37481C7.5 7.09867 7.72386 6.87481 8 6.87481Z",fill:"currentColor"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4.5C8.27614 4.5 8.5 4.72386 8.5 5V5.01C8.5 5.28614 8.27614 5.51 8 5.51C7.72386 5.51 7.5 5.28614 7.5 5.01V5C7.5 4.72386 7.72386 4.5 8 4.5Z",fill:"currentColor"})]});aL.displayName="InfoOutline16";const ZH=jt.memo(aL),XH=ZH;var ur={},YH={get exports(){return ur},set exports(e){ur=e}},JH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eq=JH,tq=eq;function sL(){}function lL(){}lL.resetWarningCache=sL;var nq=function(){function e(i,s,l,o,x,S){if(S!==tq){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lL,resetWarningCache:sL};return n.PropTypes=n,n};YH.exports=nq();let rq=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function My(e){return e.split("-")[1]}function wE(e){return e==="y"?"height":"width"}function jA(e){return e.split("-")[0]}function Ly(e){return["top","bottom"].includes(jA(e))?"x":"y"}function M6(e,t,n){let{reference:i,floating:s}=e;const l=i.x+i.width/2-s.width/2,o=i.y+i.height/2-s.height/2,x=Ly(t),S=wE(x),P=i[S]/2-s[S]/2,M=x==="x";let D;switch(jA(t)){case"top":D={x:l,y:i.y-s.height};break;case"bottom":D={x:l,y:i.y+i.height};break;case"right":D={x:i.x+i.width,y:o};break;case"left":D={x:i.x-s.width,y:o};break;default:D={x:i.x,y:i.y}}switch(My(t)){case"start":D[x]-=P*(n&&M?-1:1);break;case"end":D[x]+=P*(n&&M?-1:1)}return D}const iq=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:o}=n,x=l.filter(Boolean),S=await(o.isRTL==null?void 0:o.isRTL(t));let P=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:M,y:D}=M6(P,i,S),z=i,U={},q=0;for(let K=0;K<x.length;K++){const{name:ee,fn:V}=x[K],{x:X,y:ne,data:pe,reset:me}=await V({x:M,y:D,initialPlacement:i,placement:z,strategy:s,middlewareData:U,rects:P,platform:o,elements:{reference:e,floating:t}});M=X??M,D=ne??D,U={...U,[ee]:{...U[ee],...pe}},me&&q<=50&&(q++,typeof me=="object"&&(me.placement&&(z=me.placement),me.rects&&(P=me.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):me.rects),{x:M,y:D}=M6(P,z,S)),K=-1)}return{x:M,y:D,placement:z,strategy:s,middlewareData:U}};function uL(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function KS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function cL(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:o,elements:x,strategy:S}=e,{boundary:P="clippingAncestors",rootBoundary:M="viewport",elementContext:D="floating",altBoundary:z=!1,padding:U=0}=t,q=uL(U),K=x[z?D==="floating"?"reference":"floating":D],ee=KS(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(K)))==null||n?K:K.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(x.floating)),boundary:P,rootBoundary:M,strategy:S})),V=D==="floating"?{...o.floating,x:i,y:s}:o.reference,X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(x.floating)),ne=await(l.isElement==null?void 0:l.isElement(X))&&await(l.getScale==null?void 0:l.getScale(X))||{x:1,y:1},pe=KS(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:V,offsetParent:X,strategy:S}):V);return{top:(ee.top-pe.top+q.top)/ne.y,bottom:(pe.bottom-ee.bottom+q.bottom)/ne.y,left:(ee.left-pe.left+q.left)/ne.x,right:(pe.right-ee.right+q.right)/ne.x}}const oq=Math.min,aq=Math.max;function ZS(e,t,n){return aq(e,oq(t,n))}const L6=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:i=0}=e||{},{x:s,y:l,placement:o,rects:x,platform:S}=t;if(n==null)return{};const P=uL(i),M={x:s,y:l},D=Ly(o),z=wE(D),U=await S.getDimensions(n),q=D==="y"?"top":"left",K=D==="y"?"bottom":"right",ee=x.reference[z]+x.reference[D]-M[D]-x.floating[z],V=M[D]-x.reference[D],X=await(S.getOffsetParent==null?void 0:S.getOffsetParent(n));let ne=X?D==="y"?X.clientHeight||0:X.clientWidth||0:0;ne===0&&(ne=x.floating[z]);const pe=ee/2-V/2,me=P[q],oe=ne-U[z]-P[K],we=ne/2-U[z]/2+pe,Ce=ZS(me,we,oe),je=My(o)!=null&&we!=Ce&&x.reference[z]/2-(we<me?P[q]:P[K])-U[z]/2<0;return{[D]:M[D]-(je?we<me?me-we:oe-we:0),data:{[D]:Ce,centerOffset:we-Ce}}}}),sq=["top","right","bottom","left"];sq.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const lq={left:"right",right:"left",bottom:"top",top:"bottom"};function i2(e){return e.replace(/left|right|bottom|top/g,t=>lq[t])}function uq(e,t,n){n===void 0&&(n=!1);const i=My(e),s=Ly(e),l=wE(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(o=i2(o)),{main:o,cross:i2(o)}}const cq={start:"end",end:"start"};function Dw(e){return e.replace(/start|end/g,t=>cq[t])}const fq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:s,rects:l,initialPlacement:o,platform:x,elements:S}=t,{mainAxis:P=!0,crossAxis:M=!0,fallbackPlacements:D,fallbackStrategy:z="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:q=!0,...K}=e,ee=jA(i),V=jA(o)===o,X=await(x.isRTL==null?void 0:x.isRTL(S.floating)),ne=D||(V||!q?[i2(o)]:function(qe){const rt=i2(qe);return[Dw(qe),rt,Dw(rt)]}(o));D||U==="none"||ne.push(...function(qe,rt,At,Ot){const Vt=My(qe);let Jt=function(bn,st,Me){const Le=["left","right"],re=["right","left"],ge=["top","bottom"],Mt=["bottom","top"];switch(bn){case"top":case"bottom":return Me?st?re:Le:st?Le:re;case"left":case"right":return st?ge:Mt;default:return[]}}(jA(qe),At==="start",Ot);return Vt&&(Jt=Jt.map(bn=>bn+"-"+Vt),rt&&(Jt=Jt.concat(Jt.map(Dw)))),Jt}(o,q,U,X));const pe=[o,...ne],me=await cL(t,K),oe=[];let we=((n=s.flip)==null?void 0:n.overflows)||[];if(P&&oe.push(me[ee]),M){const{main:qe,cross:rt}=uq(i,l,X);oe.push(me[qe],me[rt])}if(we=[...we,{placement:i,overflows:oe}],!oe.every(qe=>qe<=0)){var Ce,je;const qe=(((Ce=s.flip)==null?void 0:Ce.index)||0)+1,rt=pe[qe];if(rt)return{data:{index:qe,overflows:we},reset:{placement:rt}};let At=(je=we.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,Vt)=>Ot.overflows[1]-Vt.overflows[1])[0])==null?void 0:je.placement;if(!At)switch(z){case"bestFit":{var tt;const Ot=(tt=we.map(Vt=>[Vt.placement,Vt.overflows.filter(Jt=>Jt>0).reduce((Jt,bn)=>Jt+bn,0)]).sort((Vt,Jt)=>Vt[1]-Jt[1])[0])==null?void 0:tt[0];Ot&&(At=Ot);break}case"initialPlacement":At=o}if(i!==At)return{reset:{placement:At}}}return{}}}},pq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,s=await async function(l,o){const{placement:x,platform:S,elements:P}=l,M=await(S.isRTL==null?void 0:S.isRTL(P.floating)),D=jA(x),z=My(x),U=Ly(x)==="x",q=["left","top"].includes(D)?-1:1,K=M&&U?-1:1,ee=typeof o=="function"?o(l):o;let{mainAxis:V,crossAxis:X,alignmentAxis:ne}=typeof ee=="number"?{mainAxis:ee,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ee};return z&&typeof ne=="number"&&(X=z==="end"?-1*ne:ne),U?{x:X*K,y:V*q}:{x:V*q,y:X*K}}(t,e);return{x:n+s.x,y:i+s.y,data:s}}}};function hq(e){return e==="x"?"y":"x"}const Aq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:o=!1,limiter:x={fn:ee=>{let{x:V,y:X}=ee;return{x:V,y:X}}},...S}=e,P={x:n,y:i},M=await cL(t,S),D=Ly(jA(s)),z=hq(D);let U=P[D],q=P[z];if(l){const ee=D==="y"?"bottom":"right";U=ZS(U+M[D==="y"?"top":"left"],U,U-M[ee])}if(o){const ee=z==="y"?"bottom":"right";q=ZS(q+M[z==="y"?"top":"left"],q,q-M[ee])}const K=x.fn({...t,[D]:U,[z]:q});return{...K,data:{x:K.x-n,y:K.y-i}}}}};function Xl(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kf(e){return Xl(e).getComputedStyle(e)}const R6=Math.min,wg=Math.max,o2=Math.round;function fL(e){const t=kf(e);let n=parseFloat(t.width),i=parseFloat(t.height);const s=e.offsetWidth,l=e.offsetHeight,o=o2(n)!==s||o2(i)!==l;return o&&(n=s,i=l),{width:n,height:i,fallback:o}}function Gh(e){return hL(e)?(e.nodeName||"").toLowerCase():""}let k1;function pL(){if(k1)return k1;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(k1=e.brands.map(t=>t.brand+"/"+t.version).join(" "),k1):navigator.userAgent}function Pf(e){return e instanceof Xl(e).HTMLElement}function Mc(e){return e instanceof Xl(e).Element}function hL(e){return e instanceof Xl(e).Node}function D6(e){return typeof ShadowRoot>"u"?!1:e instanceof Xl(e).ShadowRoot||e instanceof ShadowRoot}function px(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=kf(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function dq(e){return["table","td","th"].includes(Gh(e))}function XS(e){const t=/firefox/i.test(pL()),n=kf(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const l=n.contain;return l!=null&&l.includes(s)})}function YS(){return/^((?!chrome|android).)*safari/i.test(pL())}function SE(e){return["html","body","#document"].includes(Gh(e))}function AL(e){return Mc(e)?e:e.contextElement}const dL={x:1,y:1};function I0(e){const t=AL(e);if(!Pf(t))return dL;const n=t.getBoundingClientRect(),{width:i,height:s,fallback:l}=fL(t);let o=(l?o2(n.width):n.width)/i,x=(l?o2(n.height):n.height)/s;return o&&Number.isFinite(o)||(o=1),x&&Number.isFinite(x)||(x=1),{x:o,y:x}}function YA(e,t,n,i){var s,l;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),x=AL(e);let S=dL;t&&(i?Mc(i)&&(S=I0(i)):S=I0(e));const P=x?Xl(x):window,M=YS()&&n;let D=(o.left+(M&&((s=P.visualViewport)==null?void 0:s.offsetLeft)||0))/S.x,z=(o.top+(M&&((l=P.visualViewport)==null?void 0:l.offsetTop)||0))/S.y,U=o.width/S.x,q=o.height/S.y;if(x){const K=Xl(x),ee=i&&Mc(i)?Xl(i):i;let V=K.frameElement;for(;V&&i&&ee!==K;){const X=I0(V),ne=V.getBoundingClientRect(),pe=getComputedStyle(V);ne.x+=(V.clientLeft+parseFloat(pe.paddingLeft))*X.x,ne.y+=(V.clientTop+parseFloat(pe.paddingTop))*X.y,D*=X.x,z*=X.y,U*=X.x,q*=X.y,D+=ne.x,z+=ne.y,V=Xl(V).frameElement}}return{width:U,height:q,top:z,right:D+U,bottom:z+q,left:D,x:D,y:z}}function $h(e){return((hL(e)?e.ownerDocument:e.document)||window.document).documentElement}function hx(e){return Mc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function mL(e){return YA($h(e)).left+hx(e).scrollLeft}function uy(e){if(Gh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D6(e)&&e.host||$h(e);return D6(t)?t.host:t}function gL(e){const t=uy(e);return SE(t)?t.ownerDocument.body:Pf(t)&&px(t)?t:gL(t)}function Sg(e,t){var n;t===void 0&&(t=[]);const i=gL(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=Xl(i);return s?t.concat(l,l.visualViewport||[],px(i)?i:[]):t.concat(i,Sg(i))}function F6(e,t,n){let i;if(t==="viewport")i=function(o,x){const S=Xl(o),P=$h(o),M=S.visualViewport;let D=P.clientWidth,z=P.clientHeight,U=0,q=0;if(M){D=M.width,z=M.height;const K=YS();(!K||K&&x==="fixed")&&(U=M.offsetLeft,q=M.offsetTop)}return{width:D,height:z,x:U,y:q}}(e,n);else if(t==="document")i=function(o){const x=$h(o),S=hx(o),P=o.ownerDocument.body,M=wg(x.scrollWidth,x.clientWidth,P.scrollWidth,P.clientWidth),D=wg(x.scrollHeight,x.clientHeight,P.scrollHeight,P.clientHeight);let z=-S.scrollLeft+mL(o);const U=-S.scrollTop;return kf(P).direction==="rtl"&&(z+=wg(x.clientWidth,P.clientWidth)-M),{width:M,height:D,x:z,y:U}}($h(e));else if(Mc(t))i=function(o,x){const S=YA(o,!0,x==="fixed"),P=S.top+o.clientTop,M=S.left+o.clientLeft,D=Pf(o)?I0(o):{x:1,y:1};return{width:o.clientWidth*D.x,height:o.clientHeight*D.y,x:M*D.x,y:P*D.y}}(t,n);else{const o={...t};if(YS()){var s,l;const x=Xl(e);o.x-=((s=x.visualViewport)==null?void 0:s.offsetLeft)||0,o.y-=((l=x.visualViewport)==null?void 0:l.offsetTop)||0}i=o}return KS(i)}function B6(e,t){return Pf(e)&&kf(e).position!=="fixed"?t?t(e):e.offsetParent:null}function z6(e,t){const n=Xl(e);let i=B6(e,t);for(;i&&dq(i)&&kf(i).position==="static";)i=B6(i,t);return i&&(Gh(i)==="html"||Gh(i)==="body"&&kf(i).position==="static"&&!XS(i))?n:i||function(s){let l=uy(s);for(;Pf(l)&&!SE(l);){if(XS(l))return l;l=uy(l)}return null}(e)||n}function mq(e,t,n){const i=Pf(t),s=$h(t),l=YA(e,!0,n==="fixed",t);let o={scrollLeft:0,scrollTop:0};const x={x:0,y:0};if(i||!i&&n!=="fixed")if((Gh(t)!=="body"||px(s))&&(o=hx(t)),Pf(t)){const S=YA(t,!0);x.x=S.x+t.clientLeft,x.y=S.y+t.clientTop}else s&&(x.x=mL(s));return{x:l.left+o.scrollLeft-x.x,y:l.top+o.scrollTop-x.y,width:l.width,height:l.height}}const gq={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=n==="clippingAncestors"?function(P,M){const D=M.get(P);if(D)return D;let z=Sg(P).filter(ee=>Mc(ee)&&Gh(ee)!=="body"),U=null;const q=kf(P).position==="fixed";let K=q?uy(P):P;for(;Mc(K)&&!SE(K);){const ee=kf(K),V=XS(K);ee.position==="fixed"?U=null:(q?V||U:V||ee.position!=="static"||!U||!["absolute","fixed"].includes(U.position))?U=ee:z=z.filter(X=>X!==K),K=uy(K)}return M.set(P,z),z}(t,this._c):[].concat(n),o=[...l,i],x=o[0],S=o.reduce((P,M)=>{const D=F6(t,M,s);return P.top=wg(D.top,P.top),P.right=R6(D.right,P.right),P.bottom=R6(D.bottom,P.bottom),P.left=wg(D.left,P.left),P},F6(t,x,s));return{width:S.right-S.left,height:S.bottom-S.top,x:S.left,y:S.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const s=Pf(n),l=$h(n);if(n===l)return t;let o={scrollLeft:0,scrollTop:0},x={x:1,y:1};const S={x:0,y:0};if((s||!s&&i!=="fixed")&&((Gh(n)!=="body"||px(l))&&(o=hx(n)),Pf(n))){const P=YA(n);x=I0(n),S.x=P.x+n.clientLeft,S.y=P.y+n.clientTop}return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-o.scrollLeft*x.x+S.x,y:t.y*x.y-o.scrollTop*x.y+S.y}},isElement:Mc,getDimensions:function(e){return Pf(e)?fL(e):e.getBoundingClientRect()},getOffsetParent:z6,getDocumentElement:$h,getScale:I0,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e;const s=this.getOffsetParent||z6,l=this.getDimensions;return{reference:mq(t,await s(n),i),floating:{x:0,y:0,...await l(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>kf(e).direction==="rtl"};function yq(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:o=!0,animationFrame:x=!1}=i,S=s&&!x,P=S||l?[...Mc(e)?Sg(e):e.contextElement?Sg(e.contextElement):[],...Sg(t)]:[];P.forEach(U=>{S&&U.addEventListener("scroll",n,{passive:!0}),l&&U.addEventListener("resize",n)});let M,D=null;if(o){let U=!0;D=new ResizeObserver(()=>{U||n(),U=!1}),Mc(e)&&!x&&D.observe(e),Mc(e)||!e.contextElement||x||D.observe(e.contextElement),D.observe(t)}let z=x?YA(e):null;return x&&function U(){const q=YA(e);!z||q.x===z.x&&q.y===z.y&&q.width===z.width&&q.height===z.height||n(),z=q,M=requestAnimationFrame(U)}(),n(),()=>{var U;P.forEach(q=>{S&&q.removeEventListener("scroll",n),l&&q.removeEventListener("resize",n)}),(U=D)==null||U.disconnect(),D=null,x&&cancelAnimationFrame(M)}}const vq=(e,t,n)=>{const i=new Map,s={platform:gq,...n},l={...s.platform,_c:i};return iq(e,t,{...s,platform:l})},_q=e=>{const{element:t,padding:n}=e;function i(s){return Object.prototype.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){return i(t)?t.current!=null?L6({element:t.current,padding:n}).fn(s):{}:t?L6({element:t,padding:n}).fn(s):{}}}};var l_=typeof document<"u"?jt.useLayoutEffect:jt.useEffect;function a2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!a2(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!a2(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function N6(e){const t=jt.useRef(e);return l_(()=>{t.current=e}),t}function xq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,whileElementsMounted:l,open:o}=e,[x,S]=jt.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[P,M]=jt.useState(i);a2(P,i)||M(i);const D=jt.useRef(null),z=jt.useRef(null),U=jt.useRef(x),q=N6(l),K=N6(s),[ee,V]=jt.useState(null),[X,ne]=jt.useState(null),pe=jt.useCallback(tt=>{D.current!==tt&&(D.current=tt,V(tt))},[]),me=jt.useCallback(tt=>{z.current!==tt&&(z.current=tt,ne(tt))},[]),oe=jt.useCallback(()=>{if(!D.current||!z.current)return;const tt={placement:t,strategy:n,middleware:P};K.current&&(tt.platform=K.current),vq(D.current,z.current,tt).then(qe=>{const rt={...qe,isPositioned:!0};we.current&&!a2(U.current,rt)&&(U.current=rt,Og.flushSync(()=>{S(rt)}))})},[P,t,n,K]);l_(()=>{o===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,S(tt=>({...tt,isPositioned:!1})))},[o]);const we=jt.useRef(!1);l_(()=>(we.current=!0,()=>{we.current=!1}),[]),l_(()=>{if(ee&&X){if(q.current)return q.current(ee,X,oe);oe()}},[ee,X,oe,q]);const Ce=jt.useMemo(()=>({reference:D,floating:z,setReference:pe,setFloating:me}),[pe,me]),je=jt.useMemo(()=>({reference:ee,floating:X}),[ee,X]);return jt.useMemo(()=>({...x,update:oe,refs:Ce,elements:je,reference:pe,floating:me}),[x,oe,Ce,je,pe,me])}const bq="_tooltipContainer_g6vht_4",wq="_hoverTooltip_g6vht_15",Sq="_popup_g6vht_18",Cq="_contentBody_g6vht_23",Eq="_bodyBottom_g6vht_36",kq="_unset_g6vht_41",Pq="_arrow_g6vht_45",Tq="_arrowInner_g6vht_74",Iq="_tooltipContent_g6vht_81",Oq="_closeIcon_g6vht_88",Ap={tooltipContainer:bq,hoverTooltip:wq,popup:Sq,contentBody:Cq,bodyBottom:Eq,unset:kq,arrow:Pq,"arrow-top":"_arrow-top_g6vht_58","arrow-bottom":"_arrow-bottom_g6vht_62","arrow-left":"_arrow-left_g6vht_66","arrow-right":"_arrow-right_g6vht_70",arrowInner:Tq,tooltipContent:Iq,closeIcon:Oq};function U6(e){switch(e){case"top-left":return"top-start";case"top-right":return"top-end";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end"}}function Mq(e,t,n){if(e&&t&&console.error("You should not use both placement and deprecadedPlacement props at the same time. Placement prop will be used."),t)return t;if(n){if(typeof e=="function")return U6(e(n));if(e)return U6(e)}}const $6="top";function Lq({children:e,position:t,triggerRef:n,transitionRef:i,placement:s,getPlacement:l,classes:o,hoverBehavior:x=!1,onOuterClick:S,onClose:P,open:M=!0,offset:D=7}){const z=jt.useCallback(je=>{if(!(S&&x===!0)){if(S){S(je);return}P==null||P(je)}},[x,S,P]),U=jt.useRef(null),q=jt.useMemo(()=>Mq(l,s,t)||$6,[l,s,t]),{refs:K,x:ee,y:V,strategy:X,middlewareData:{arrow:{x:ne,y:pe}={}},placement:me}=xq({placement:q,open:M,whileElementsMounted:yq,middleware:[pq(D),fq(),Aq({padding:5}),_q({element:U})]}),oe=jt.useMemo(()=>({"--tooltip-arrox-x-position":ne!=null?`${ne}px`:"","--tooltip-arrow-y-position":pe!=null?`${pe}px`:"","--tooltip-x-position":`${ee??0}px`,"--tooltip-y-position":`${V??0}px`,"--tooltip-placement":X}),[ne,pe,ee,V,X]),we=jt.useMemo(()=>`arrow-${me.split("-")[0]||$6}`,[me]);if(jt.useLayoutEffect(()=>{if(n)K.setReference(n.current);else if(t){const{x:je,y:tt}=t;K.setReference({getBoundingClientRect(){return{width:0,height:0,x:je,y:tt,top:tt,left:je,right:je,bottom:tt}}})}},[t,K,n]),t&&n&&console.error("Both position and triggerRef are provided. Tooltip will be rendered with triggerRef"),!t&&!n)return console.error("Tooltip will not be rendered because neither position nor triggerRef are provided"),null;if(!M)return null;const Ce=x?void 0:P;return _t("div",{ref:i,className:aa(Ap.tooltipContainer,{[Ap.hoverTooltip]:x}),onClick:z,style:oe,children:wr("div",{ref:K.setFloating,className:Ap.tooltipContent,children:[wr("div",{className:aa(Ap.contentBody,aa),children:[wr("div",{children:[e,_t("div",{className:Ap.bodyBottom})]}),Ce&&_t("div",{className:Ap.closeIcon,onClick:Ce,children:_t(QH,{})})]}),_t("div",{ref:U,className:aa(Ap.arrow,Ap[we]),children:_t("div",{className:Ap.arrowInner})})]})})}const Rq="_legendTitle_sgaz8_1",Dq="_grid_sgaz8_6",Fq="_cell_sgaz8_11",Bq="_colorCell_sgaz8_17",zq="_yStepsCell_sgaz8_26",Nq="_xStepsCell_sgaz8_45",Uq="_xStepsCellNoLabel_sgaz8_46",$q="_arrowX_sgaz8_70",jq="_arrowY_sgaz8_71",Vq="_axisLabelX_sgaz8_88",Hq="_axisLabelY_sgaz8_89",qq="_arrowHeadX_sgaz8_107",Gq="_arrowHeadY_sgaz8_108",Qq="_arrowHeadY_angle0_sgaz8_123",Ya={legendTitle:Rq,grid:Dq,cell:Fq,colorCell:Bq,yStepsCell:zq,xStepsCell:Nq,xStepsCellNoLabel:Uq,arrowX:$q,arrowY:jq,axisLabelX:Vq,axisLabelY:Hq,arrowHeadX:qq,arrowHeadY:Gq,arrowHeadY_angle0:Qq};function Wq(){const e={};return{increment:t=>(typeof e[t]=="number"?e[t]+=1:e[t]=0,e[t])}}function Kq(e,t){const n=[],i=Wq();return e.forEach((s,l)=>{s.split(" ").forEach((o,x)=>{const S=i.increment(o),P=t[o]&&t[o][S];P&&n.push({...P,_position:{x,y:l}})})}),n}function j6(e){return[...e].reverse()}const Zq=(e,t)=>({gridColumn:`${e+1} / ${e+2}`,gridRow:`${t+1} / ${t+2}`}),V6=({className:e,type:t})=>_t("div",{className:e,children:t==="horizontal"?_t("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,6L0,0l0,2.4L3.6,6L0,9.6L0,12L6,6z",fill:"currentColor"})}):_t("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{d:"M6,0L0,6l2.4,0L6,2.4L9.6,6L12,6L6,0z",fill:"currentColor"})})}),Xq=({cells:e,size:t,axis:n,title:i,showAxisLabels:s=!1,showSteps:l=!0,showArrowHeads:o=!0,onCellPointerOver:x,onCellPointerLeave:S,renderXAxisLabel:P,renderYAxisLabel:M})=>{const D=jt.useMemo(()=>[`y ${new Array(t+1).fill(".").join(" ")}`,...new Array(t).fill(`y ${new Array(t).fill("c").join(" ")} .`),`. ${new Array(t+1).fill("x").join(" ")}`],[t]),z=Kq(D,{x:l?n.x.steps.map(K=>({label:K.label||K.value.toFixed(1),className:Ya.xStepsCell})):n.x.steps.map(K=>({label:"",className:Ya.xStepsCellNoLabel})),y:l?j6(n.y.steps).map(K=>({label:K.label||K.value.toFixed(1),className:Ya.yStepsCell})):j6(n.y.steps).map(K=>({label:"",className:Ya.yStepsCellNoLabel})),c:e.map((K,ee)=>({label:_t("span",{children:K.label}),className:aa(Ya.cell,Ya.colorCell),style:{backgroundColor:K.color},...x&&{onPointerOver:V=>x(V,K,ee)},...S&&{onPointerLeave:V=>S(V,K,ee)}}))}),U=()=>P?P(n.x,Ya.axisLabelX):_t("div",{className:Ya.axisLabelX,children:n.x.label}),q=()=>M?M(n.y,Ya.axisLabelY):_t("div",{className:Ya.axisLabelY,children:n.y.label});return wr("div",{children:[i&&_t("div",{className:Ya.legendTitle,children:i}),wr("div",{className:Ya.grid,style:{gridTemplateColumns:`repeat(${t+2}, auto)`,gridTemplateRows:`repeat(${t+2}, auto)`},children:[s&&n.x.label?U():null,s&&n.y.label?q():null,_t("div",{className:Ya.arrowX,children:o&&_t(V6,{type:"horizontal",className:Ya.arrowHeadX})}),_t("div",{className:Ya.arrowY,children:o&&_t(V6,{type:"vertical",className:aa({[Ya.arrowHeadY]:!0,[Ya.arrowHeadY_angle0]:!s})})}),z.map(K=>_t("div",{style:Object.assign(Zq(K._position.x,K._position.y),K.style),className:aa(K.className,Ya.cell),onPointerOver:K.onPointerOver,onPointerLeave:K.onPointerLeave,children:K.label},`${K._position.x}|${K._position.y}`))]})]})};var JS={},Yq={get exports(){return JS},set exports(e){JS=e}},Li={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=Symbol.for("react.element"),EE=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),mx=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),yx=Symbol.for("react.context"),Jq=Symbol.for("react.server_context"),vx=Symbol.for("react.forward_ref"),_x=Symbol.for("react.suspense"),xx=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),wx=Symbol.for("react.lazy"),eG=Symbol.for("react.offscreen"),yL;yL=Symbol.for("react.module.reference");function Hu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CE:switch(e=e.type,e){case Ax:case mx:case dx:case _x:case xx:return e;default:switch(e=e&&e.$$typeof,e){case Jq:case yx:case vx:case wx:case bx:case gx:return e;default:return t}}case EE:return t}}}Li.ContextConsumer=yx;Li.ContextProvider=gx;Li.Element=CE;Li.ForwardRef=vx;Li.Fragment=Ax;Li.Lazy=wx;Li.Memo=bx;Li.Portal=EE;Li.Profiler=mx;Li.StrictMode=dx;Li.Suspense=_x;Li.SuspenseList=xx;Li.isAsyncMode=function(){return!1};Li.isConcurrentMode=function(){return!1};Li.isContextConsumer=function(e){return Hu(e)===yx};Li.isContextProvider=function(e){return Hu(e)===gx};Li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CE};Li.isForwardRef=function(e){return Hu(e)===vx};Li.isFragment=function(e){return Hu(e)===Ax};Li.isLazy=function(e){return Hu(e)===wx};Li.isMemo=function(e){return Hu(e)===bx};Li.isPortal=function(e){return Hu(e)===EE};Li.isProfiler=function(e){return Hu(e)===mx};Li.isStrictMode=function(e){return Hu(e)===dx};Li.isSuspense=function(e){return Hu(e)===_x};Li.isSuspenseList=function(e){return Hu(e)===xx};Li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ax||e===mx||e===dx||e===_x||e===xx||e===eG||typeof e=="object"&&e!==null&&(e.$$typeof===wx||e.$$typeof===bx||e.$$typeof===gx||e.$$typeof===yx||e.$$typeof===vx||e.$$typeof===yL||e.getModuleId!==void 0)};Li.typeOf=Hu;(function(e){e.exports=Li})(Yq);const tG=w2(JS);function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},s2(e,t)}function ju(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s2(e,t)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bs.apply(this,arguments)}function P1(e){return e.charAt(0)==="/"}function Fw(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}function nG(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&P1(e),l=t&&P1(t),o=s||l;if(e&&P1(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var x;if(i.length){var S=i[i.length-1];x=S==="."||S===".."||S===""}else x=!1;for(var P=0,M=i.length;M>=0;M--){var D=i[M];D==="."?Fw(i,M):D===".."?(Fw(i,M),P++):P&&(Fw(i,M),P--)}if(!o)for(;P--;P)i.unshift("..");o&&i[0]!==""&&(!i[0]||!P1(i[0]))&&i.unshift("");var z=i.join("/");return x&&z.substr(-1)!=="/"&&(z+="/"),z}var rG=!0,Bw="Invariant failed";function ad(e,t){if(!e){if(rG)throw new Error(Bw);var n=typeof t=="function"?t():t,i=n?Bw+": "+n:Bw;throw new Error(i)}}function Cg(e){return e.charAt(0)==="/"?e:"/"+e}function H6(e){return e.charAt(0)==="/"?e.substr(1):e}function iG(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function vL(e,t){return iG(e,t)?e.substr(t.length):e}function _L(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function oG(e){var t=e||"/",n="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var l=t.indexOf("?");return l!==-1&&(n=t.substr(l),t=t.substr(0,l)),{pathname:t,search:n==="?"?"":n,hash:i==="#"?"":i}}function kl(e){var t=e.pathname,n=e.search,i=e.hash,s=t||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Yl(e,t,n,i){var s;typeof e=="string"?(s=oG(e),s.state=t):(s=bs({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(l){throw l instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):l}return n&&(s.key=n),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=nG(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function kE(){var e=null;function t(o){return e=o,function(){e===o&&(e=null)}}function n(o,x,S,P){if(e!=null){var M=typeof e=="function"?e(o,x):e;typeof M=="string"?typeof S=="function"?S(M,P):P(!0):P(M!==!1)}else P(!0)}var i=[];function s(o){var x=!0;function S(){x&&o.apply(void 0,arguments)}return i.push(S),function(){x=!1,i=i.filter(function(P){return P!==S})}}function l(){for(var o=arguments.length,x=new Array(o),S=0;S<o;S++)x[S]=arguments[S];i.forEach(function(P){return P.apply(void 0,x)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:s,notifyListeners:l}}var xL=!!(typeof window<"u"&&window.document&&window.document.createElement);function bL(e,t){t(window.confirm(e))}function aG(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function sG(){return window.navigator.userAgent.indexOf("Trident")===-1}function lG(){return window.navigator.userAgent.indexOf("Firefox")===-1}function uG(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var q6="popstate",G6="hashchange";function Q6(){try{return window.history.state||{}}catch{return{}}}function wL(e){e===void 0&&(e={}),xL||ad(!1);var t=window.history,n=aG(),i=!sG(),s=e,l=s.forceRefresh,o=l===void 0?!1:l,x=s.getUserConfirmation,S=x===void 0?bL:x,P=s.keyLength,M=P===void 0?6:P,D=e.basename?_L(Cg(e.basename)):"";function z(Me){var Le=Me||{},re=Le.key,ge=Le.state,Mt=window.location,en=Mt.pathname,vn=Mt.search,dn=Mt.hash,Cn=en+vn+dn;return D&&(Cn=vL(Cn,D)),Yl(Cn,ge,re)}function U(){return Math.random().toString(36).substr(2,M)}var q=kE();function K(Me){bs(st,Me),st.length=t.length,q.notifyListeners(st.location,st.action)}function ee(Me){uG(Me)||ne(z(Me.state))}function V(){ne(z(Q6()))}var X=!1;function ne(Me){if(X)X=!1,K();else{var Le="POP";q.confirmTransitionTo(Me,Le,S,function(re){re?K({action:Le,location:Me}):pe(Me)})}}function pe(Me){var Le=st.location,re=oe.indexOf(Le.key);re===-1&&(re=0);var ge=oe.indexOf(Me.key);ge===-1&&(ge=0);var Mt=re-ge;Mt&&(X=!0,tt(Mt))}var me=z(Q6()),oe=[me.key];function we(Me){return D+kl(Me)}function Ce(Me,Le){var re="PUSH",ge=Yl(Me,Le,U(),st.location);q.confirmTransitionTo(ge,re,S,function(Mt){if(Mt){var en=we(ge),vn=ge.key,dn=ge.state;if(n)if(t.pushState({key:vn,state:dn},null,en),o)window.location.href=en;else{var Cn=oe.indexOf(st.location.key),$n=oe.slice(0,Cn+1);$n.push(ge.key),oe=$n,K({action:re,location:ge})}else window.location.href=en}})}function je(Me,Le){var re="REPLACE",ge=Yl(Me,Le,U(),st.location);q.confirmTransitionTo(ge,re,S,function(Mt){if(Mt){var en=we(ge),vn=ge.key,dn=ge.state;if(n)if(t.replaceState({key:vn,state:dn},null,en),o)window.location.replace(en);else{var Cn=oe.indexOf(st.location.key);Cn!==-1&&(oe[Cn]=ge.key),K({action:re,location:ge})}else window.location.replace(en)}})}function tt(Me){t.go(Me)}function qe(){tt(-1)}function rt(){tt(1)}var At=0;function Ot(Me){At+=Me,At===1&&Me===1?(window.addEventListener(q6,ee),i&&window.addEventListener(G6,V)):At===0&&(window.removeEventListener(q6,ee),i&&window.removeEventListener(G6,V))}var Vt=!1;function Jt(Me){Me===void 0&&(Me=!1);var Le=q.setPrompt(Me);return Vt||(Ot(1),Vt=!0),function(){return Vt&&(Vt=!1,Ot(-1)),Le()}}function bn(Me){var Le=q.appendListener(Me);return Ot(1),function(){Ot(-1),Le()}}var st={length:t.length,action:"POP",location:me,createHref:we,push:Ce,replace:je,go:tt,goBack:qe,goForward:rt,block:Jt,listen:bn};return st}var W6="hashchange",cG={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+H6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:H6,decodePath:Cg},slash:{encodePath:Cg,decodePath:Cg}};function SL(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Km(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function fG(e){window.location.hash=e}function zw(e){window.location.replace(SL(window.location.href)+"#"+e)}function pG(e){e===void 0&&(e={}),xL||ad(!1);var t=window.history;lG();var n=e,i=n.getUserConfirmation,s=i===void 0?bL:i,l=n.hashType,o=l===void 0?"slash":l,x=e.basename?_L(Cg(e.basename)):"",S=cG[o],P=S.encodePath,M=S.decodePath;function D(){var Le=M(Km());return x&&(Le=vL(Le,x)),Yl(Le)}var z=kE();function U(Le){bs(Me,Le),Me.length=t.length,z.notifyListeners(Me.location,Me.action)}var q=!1,K=null;function ee(Le,re){return Le.pathname===re.pathname&&Le.search===re.search&&Le.hash===re.hash}function V(){var Le=Km(),re=P(Le);if(Le!==re)zw(re);else{var ge=D(),Mt=Me.location;if(!q&&ee(Mt,ge)||K===kl(ge))return;K=null,X(ge)}}function X(Le){if(q)q=!1,U();else{var re="POP";z.confirmTransitionTo(Le,re,s,function(ge){ge?U({action:re,location:Le}):ne(Le)})}}function ne(Le){var re=Me.location,ge=we.lastIndexOf(kl(re));ge===-1&&(ge=0);var Mt=we.lastIndexOf(kl(Le));Mt===-1&&(Mt=0);var en=ge-Mt;en&&(q=!0,qe(en))}var pe=Km(),me=P(pe);pe!==me&&zw(me);var oe=D(),we=[kl(oe)];function Ce(Le){var re=document.querySelector("base"),ge="";return re&&re.getAttribute("href")&&(ge=SL(window.location.href)),ge+"#"+P(x+kl(Le))}function je(Le,re){var ge="PUSH",Mt=Yl(Le,void 0,void 0,Me.location);z.confirmTransitionTo(Mt,ge,s,function(en){if(en){var vn=kl(Mt),dn=P(x+vn),Cn=Km()!==dn;if(Cn){K=vn,fG(dn);var $n=we.lastIndexOf(kl(Me.location)),Fn=we.slice(0,$n+1);Fn.push(vn),we=Fn,U({action:ge,location:Mt})}else U()}})}function tt(Le,re){var ge="REPLACE",Mt=Yl(Le,void 0,void 0,Me.location);z.confirmTransitionTo(Mt,ge,s,function(en){if(en){var vn=kl(Mt),dn=P(x+vn),Cn=Km()!==dn;Cn&&(K=vn,zw(dn));var $n=we.indexOf(kl(Me.location));$n!==-1&&(we[$n]=vn),U({action:ge,location:Mt})}})}function qe(Le){t.go(Le)}function rt(){qe(-1)}function At(){qe(1)}var Ot=0;function Vt(Le){Ot+=Le,Ot===1&&Le===1?window.addEventListener(W6,V):Ot===0&&window.removeEventListener(W6,V)}var Jt=!1;function bn(Le){Le===void 0&&(Le=!1);var re=z.setPrompt(Le);return Jt||(Vt(1),Jt=!0),function(){return Jt&&(Jt=!1,Vt(-1)),re()}}function st(Le){var re=z.appendListener(Le);return Vt(1),function(){Vt(-1),re()}}var Me={length:t.length,action:"POP",location:oe,createHref:Ce,push:je,replace:tt,go:qe,goBack:rt,goForward:At,block:bn,listen:st};return Me}function K6(e,t,n){return Math.min(Math.max(e,t),n)}function hG(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,l=t.initialIndex,o=l===void 0?0:l,x=t.keyLength,S=x===void 0?6:x,P=kE();function M(Ce){bs(we,Ce),we.length=we.entries.length,P.notifyListeners(we.location,we.action)}function D(){return Math.random().toString(36).substr(2,S)}var z=K6(o,0,s.length-1),U=s.map(function(Ce){return typeof Ce=="string"?Yl(Ce,void 0,D()):Yl(Ce,void 0,Ce.key||D())}),q=kl;function K(Ce,je){var tt="PUSH",qe=Yl(Ce,je,D(),we.location);P.confirmTransitionTo(qe,tt,n,function(rt){if(rt){var At=we.index,Ot=At+1,Vt=we.entries.slice(0);Vt.length>Ot?Vt.splice(Ot,Vt.length-Ot,qe):Vt.push(qe),M({action:tt,location:qe,index:Ot,entries:Vt})}})}function ee(Ce,je){var tt="REPLACE",qe=Yl(Ce,je,D(),we.location);P.confirmTransitionTo(qe,tt,n,function(rt){rt&&(we.entries[we.index]=qe,M({action:tt,location:qe}))})}function V(Ce){var je=K6(we.index+Ce,0,we.entries.length-1),tt="POP",qe=we.entries[je];P.confirmTransitionTo(qe,tt,n,function(rt){rt?M({action:tt,location:qe,index:je}):M()})}function X(){V(-1)}function ne(){V(1)}function pe(Ce){var je=we.index+Ce;return je>=0&&je<we.entries.length}function me(Ce){return Ce===void 0&&(Ce=!1),P.setPrompt(Ce)}function oe(Ce){return P.appendListener(Ce)}var we={length:U.length,action:"POP",location:U[z],index:z,entries:U,createHref:q,push:K,replace:ee,go:V,goBack:X,goForward:ne,canGo:pe,block:me,listen:oe};return we}var JA={},AG={get exports(){return JA},set exports(e){JA=e}},dG=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},l2=dG;AG.exports=kL;JA.parse=PE;JA.compile=gG;JA.tokensToFunction=CL;JA.tokensToRegExp=EL;var mG=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function PE(e,t){for(var n=[],i=0,s=0,l="",o=t&&t.delimiter||"/",x;(x=mG.exec(e))!=null;){var S=x[0],P=x[1],M=x.index;if(l+=e.slice(s,M),s=M+S.length,P){l+=P[1];continue}var D=e[s],z=x[2],U=x[3],q=x[4],K=x[5],ee=x[6],V=x[7];l&&(n.push(l),l="");var X=z!=null&&D!=null&&D!==z,ne=ee==="+"||ee==="*",pe=ee==="?"||ee==="*",me=x[2]||o,oe=q||K;n.push({name:U||i++,prefix:z||"",delimiter:me,optional:pe,repeat:ne,partial:X,asterisk:!!V,pattern:oe?_G(oe):V?".*":"[^"+u_(me)+"]+?"})}return s<e.length&&(l+=e.substr(s)),l&&n.push(l),n}function gG(e,t){return CL(PE(e,t),t)}function yG(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function vG(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function CL(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",IE(t)));return function(s,l){for(var o="",x=s||{},S=l||{},P=S.pretty?yG:encodeURIComponent,M=0;M<e.length;M++){var D=e[M];if(typeof D=="string"){o+=D;continue}var z=x[D.name],U;if(z==null)if(D.optional){D.partial&&(o+=D.prefix);continue}else throw new TypeError('Expected "'+D.name+'" to be defined');if(l2(z)){if(!D.repeat)throw new TypeError('Expected "'+D.name+'" to not repeat, but received `'+JSON.stringify(z)+"`");if(z.length===0){if(D.optional)continue;throw new TypeError('Expected "'+D.name+'" to not be empty')}for(var q=0;q<z.length;q++){if(U=P(z[q]),!n[M].test(U))throw new TypeError('Expected all "'+D.name+'" to match "'+D.pattern+'", but received `'+JSON.stringify(U)+"`");o+=(q===0?D.prefix:D.delimiter)+U}continue}if(U=D.asterisk?vG(z):P(z),!n[M].test(U))throw new TypeError('Expected "'+D.name+'" to match "'+D.pattern+'", but received "'+U+'"');o+=D.prefix+U}return o}}function u_(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function _G(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function TE(e,t){return e.keys=t,e}function IE(e){return e&&e.sensitive?"":"i"}function xG(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return TE(e,t)}function bG(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push(kL(e[s],t,n).source);var l=new RegExp("(?:"+i.join("|")+")",IE(n));return TE(l,t)}function wG(e,t,n){return EL(PE(e,n),t,n)}function EL(e,t,n){l2(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,s=n.end!==!1,l="",o=0;o<e.length;o++){var x=e[o];if(typeof x=="string")l+=u_(x);else{var S=u_(x.prefix),P="(?:"+x.pattern+")";t.push(x),x.repeat&&(P+="(?:"+S+P+")*"),x.optional?x.partial?P=S+"("+P+")?":P="(?:"+S+"("+P+"))?":P=S+"("+P+")",l+=P}}var M=u_(n.delimiter||"/"),D=l.slice(-M.length)===M;return i||(l=(D?l.slice(0,-M.length):l)+"(?:"+M+"(?=$))?"),s?l+="$":l+=i&&D?"":"(?="+M+"|$)",TE(new RegExp("^"+l,IE(n)),t)}function kL(e,t,n){return l2(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?xG(e,t):l2(e)?bG(e,t,n):wG(e,t,n)}var Z6={},SG={get exports(){return Z6},set exports(e){Z6=e}},Ri={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=typeof Symbol=="function"&&Symbol.for,OE=is?Symbol.for("react.element"):60103,ME=is?Symbol.for("react.portal"):60106,Sx=is?Symbol.for("react.fragment"):60107,Cx=is?Symbol.for("react.strict_mode"):60108,Ex=is?Symbol.for("react.profiler"):60114,kx=is?Symbol.for("react.provider"):60109,Px=is?Symbol.for("react.context"):60110,LE=is?Symbol.for("react.async_mode"):60111,Tx=is?Symbol.for("react.concurrent_mode"):60111,Ix=is?Symbol.for("react.forward_ref"):60112,Ox=is?Symbol.for("react.suspense"):60113,CG=is?Symbol.for("react.suspense_list"):60120,Mx=is?Symbol.for("react.memo"):60115,Lx=is?Symbol.for("react.lazy"):60116,EG=is?Symbol.for("react.block"):60121,kG=is?Symbol.for("react.fundamental"):60117,PG=is?Symbol.for("react.responder"):60118,TG=is?Symbol.for("react.scope"):60119;function iu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case OE:switch(e=e.type,e){case LE:case Tx:case Sx:case Ex:case Cx:case Ox:return e;default:switch(e=e&&e.$$typeof,e){case Px:case Ix:case Lx:case Mx:case kx:return e;default:return t}}case ME:return t}}}function PL(e){return iu(e)===Tx}Ri.AsyncMode=LE;Ri.ConcurrentMode=Tx;Ri.ContextConsumer=Px;Ri.ContextProvider=kx;Ri.Element=OE;Ri.ForwardRef=Ix;Ri.Fragment=Sx;Ri.Lazy=Lx;Ri.Memo=Mx;Ri.Portal=ME;Ri.Profiler=Ex;Ri.StrictMode=Cx;Ri.Suspense=Ox;Ri.isAsyncMode=function(e){return PL(e)||iu(e)===LE};Ri.isConcurrentMode=PL;Ri.isContextConsumer=function(e){return iu(e)===Px};Ri.isContextProvider=function(e){return iu(e)===kx};Ri.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===OE};Ri.isForwardRef=function(e){return iu(e)===Ix};Ri.isFragment=function(e){return iu(e)===Sx};Ri.isLazy=function(e){return iu(e)===Lx};Ri.isMemo=function(e){return iu(e)===Mx};Ri.isPortal=function(e){return iu(e)===ME};Ri.isProfiler=function(e){return iu(e)===Ex};Ri.isStrictMode=function(e){return iu(e)===Cx};Ri.isSuspense=function(e){return iu(e)===Ox};Ri.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sx||e===Tx||e===Ex||e===Cx||e===Ox||e===CG||typeof e=="object"&&e!==null&&(e.$$typeof===Lx||e.$$typeof===Mx||e.$$typeof===kx||e.$$typeof===Px||e.$$typeof===Ix||e.$$typeof===kG||e.$$typeof===PG||e.$$typeof===TG||e.$$typeof===EG)};Ri.typeOf=iu;(function(e){e.exports=Ri})(SG);function sd(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var e4={},IG={get exports(){return e4},set exports(e){e4=e}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=typeof Symbol=="function"&&Symbol.for,RE=os?Symbol.for("react.element"):60103,DE=os?Symbol.for("react.portal"):60106,Rx=os?Symbol.for("react.fragment"):60107,Dx=os?Symbol.for("react.strict_mode"):60108,Fx=os?Symbol.for("react.profiler"):60114,Bx=os?Symbol.for("react.provider"):60109,zx=os?Symbol.for("react.context"):60110,FE=os?Symbol.for("react.async_mode"):60111,Nx=os?Symbol.for("react.concurrent_mode"):60111,Ux=os?Symbol.for("react.forward_ref"):60112,$x=os?Symbol.for("react.suspense"):60113,OG=os?Symbol.for("react.suspense_list"):60120,jx=os?Symbol.for("react.memo"):60115,Vx=os?Symbol.for("react.lazy"):60116,MG=os?Symbol.for("react.block"):60121,LG=os?Symbol.for("react.fundamental"):60117,RG=os?Symbol.for("react.responder"):60118,DG=os?Symbol.for("react.scope"):60119;function ou(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case RE:switch(e=e.type,e){case FE:case Nx:case Rx:case Fx:case Dx:case $x:return e;default:switch(e=e&&e.$$typeof,e){case zx:case Ux:case Vx:case jx:case Bx:return e;default:return t}}case DE:return t}}}function TL(e){return ou(e)===Nx}Di.AsyncMode=FE;Di.ConcurrentMode=Nx;Di.ContextConsumer=zx;Di.ContextProvider=Bx;Di.Element=RE;Di.ForwardRef=Ux;Di.Fragment=Rx;Di.Lazy=Vx;Di.Memo=jx;Di.Portal=DE;Di.Profiler=Fx;Di.StrictMode=Dx;Di.Suspense=$x;Di.isAsyncMode=function(e){return TL(e)||ou(e)===FE};Di.isConcurrentMode=TL;Di.isContextConsumer=function(e){return ou(e)===zx};Di.isContextProvider=function(e){return ou(e)===Bx};Di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===RE};Di.isForwardRef=function(e){return ou(e)===Ux};Di.isFragment=function(e){return ou(e)===Rx};Di.isLazy=function(e){return ou(e)===Vx};Di.isMemo=function(e){return ou(e)===jx};Di.isPortal=function(e){return ou(e)===DE};Di.isProfiler=function(e){return ou(e)===Fx};Di.isStrictMode=function(e){return ou(e)===Dx};Di.isSuspense=function(e){return ou(e)===$x};Di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rx||e===Nx||e===Fx||e===Dx||e===$x||e===OG||typeof e=="object"&&e!==null&&(e.$$typeof===Vx||e.$$typeof===jx||e.$$typeof===Bx||e.$$typeof===zx||e.$$typeof===Ux||e.$$typeof===LG||e.$$typeof===RG||e.$$typeof===DG||e.$$typeof===MG)};Di.typeOf=ou;(function(e){e.exports=Di})(IG);var IL=e4,FG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},BG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OL={};OL[IL.ForwardRef]=FG;OL[IL.Memo]=BG;var Nw=1073741823,X6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function zG(){var e="__global_unique_id__";return X6[e]=(X6[e]||0)+1}function NG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function UG(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(l){return l(e,s)})}}}function $G(e){return Array.isArray(e)?e[0]:e}function jG(e,t){var n,i,s="__create-react-context-"+zG()+"__",l=function(x){ju(S,x);function S(){for(var M,D=arguments.length,z=new Array(D),U=0;U<D;U++)z[U]=arguments[U];return M=x.call.apply(x,[this].concat(z))||this,M.emitter=UG(M.props.value),M}var P=S.prototype;return P.getChildContext=function(){var D;return D={},D[s]=this.emitter,D},P.componentWillReceiveProps=function(D){if(this.props.value!==D.value){var z=this.props.value,U=D.value,q;NG(z,U)?q=0:(q=typeof t=="function"?t(z,U):Nw,q|=0,q!==0&&this.emitter.set(D.value,q))}},P.render=function(){return this.props.children},S}(qn.Component);l.childContextTypes=(n={},n[s]=ur.object.isRequired,n);var o=function(x){ju(S,x);function S(){for(var M,D=arguments.length,z=new Array(D),U=0;U<D;U++)z[U]=arguments[U];return M=x.call.apply(x,[this].concat(z))||this,M.observedBits=void 0,M.state={value:M.getValue()},M.onUpdate=function(q,K){var ee=M.observedBits|0;ee&K&&M.setState({value:M.getValue()})},M}var P=S.prototype;return P.componentWillReceiveProps=function(D){var z=D.observedBits;this.observedBits=z??Nw},P.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var D=this.props.observedBits;this.observedBits=D??Nw},P.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},P.getValue=function(){return this.context[s]?this.context[s].get():e},P.render=function(){return $G(this.props.children)(this.state.value)},S}(qn.Component);return o.contextTypes=(i={},i[s]=ur.object,i),{Provider:l,Consumer:o}}var VG=qn.createContext||jG,ML=function(t){var n=VG();return n.displayName=t,n},HG=ML("Router-History"),$0=ML("Router"),Hx=function(e){ju(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(l){s._pendingLocation=l})),s}var n=t.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(l){s._isMounted&&s.setState({location:l})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return qn.createElement($0.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},qn.createElement(HG.Provider,{children:this.props.children||null,value:this.props.history}))},t}(qn.Component);qn.Component;qn.Component;var Y6={},qG=1e4,J6=0;function GG(e,t){var n=""+t.end+t.strict+t.sensitive,i=Y6[n]||(Y6[n]={});if(i[e])return i[e];var s=[],l=JA(e,s,t),o={regexp:l,keys:s};return J6<qG&&(i[e]=o,J6++),o}function BE(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,s=n.exact,l=s===void 0?!1:s,o=n.strict,x=o===void 0?!1:o,S=n.sensitive,P=S===void 0?!1:S,M=[].concat(i);return M.reduce(function(D,z){if(!z&&z!=="")return null;if(D)return D;var U=GG(z,{end:l,strict:x,sensitive:P}),q=U.regexp,K=U.keys,ee=q.exec(e);if(!ee)return null;var V=ee[0],X=ee.slice(1),ne=e===V;return l&&!ne?null:{path:z,url:z==="/"&&V===""?"/":V,isExact:ne,params:K.reduce(function(pe,me,oe){return pe[me.name]=X[oe],pe},{})}},null)}function QG(e){return qn.Children.count(e)===0}qn.Component;function zE(e){return e.charAt(0)==="/"?e:"/"+e}function WG(e,t){return e?bs({},t,{pathname:zE(e)+t.pathname}):t}function KG(e,t){if(!e)return t;var n=zE(e);return t.pathname.indexOf(n)!==0?t:bs({},t,{pathname:t.pathname.substr(n.length)})}function e8(e){return typeof e=="string"?e:kl(e)}function Uw(e){return function(){ad(!1)}}function t8(){}qn.Component;qn.Component;qn.useContext;var LL=function(e){ju(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,i.history=wL(i.props),i}var n=t.prototype;return n.render=function(){return qn.createElement(Hx,{history:this.history,children:this.props.children})},t}(qn.Component);qn.Component;var t4=function(t,n){return typeof t=="function"?t(n):t},n4=function(t,n){return typeof t=="string"?Yl(t,null,null,n):t},NE=function(t){return t},j0=qn.forwardRef;typeof j0>"u"&&(j0=NE);function ZG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var XG=j0(function(e,t){var n=e.innerRef,i=e.navigate,s=e.onClick,l=sd(e,["innerRef","navigate","onClick"]),o=l.target,x=bs({},l,{onClick:function(P){try{s&&s(P)}catch(M){throw P.preventDefault(),M}!P.defaultPrevented&&P.button===0&&(!o||o==="_self")&&!ZG(P)&&(P.preventDefault(),i())}});return NE!==j0?x.ref=t||n:x.ref=n,qn.createElement("a",x)}),YG=j0(function(e,t){var n=e.component,i=n===void 0?XG:n,s=e.replace,l=e.to,o=e.innerRef,x=sd(e,["component","replace","to","innerRef"]);return qn.createElement($0.Consumer,null,function(S){S||ad(!1);var P=S.history,M=n4(t4(l,S.location),S.location),D=M?P.createHref(M):"",z=bs({},x,{href:D,navigate:function(){var q=t4(l,S.location),K=kl(S.location)===kl(n4(q)),ee=s||K?P.replace:P.push;ee(q)}});return NE!==j0?z.ref=t||o:z.innerRef=o,qn.createElement(i,z)})}),RL=function(t){return t},u2=qn.forwardRef;typeof u2>"u"&&(u2=RL);function JG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(i){return i}).join(" ")}u2(function(e,t){var n=e["aria-current"],i=n===void 0?"page":n,s=e.activeClassName,l=s===void 0?"active":s,o=e.activeStyle,x=e.className,S=e.exact,P=e.isActive,M=e.location,D=e.sensitive,z=e.strict,U=e.style,q=e.to,K=e.innerRef,ee=sd(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return qn.createElement($0.Consumer,null,function(V){V||ad(!1);var X=M||V.location,ne=n4(t4(q,X),X),pe=ne.pathname,me=pe&&pe.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),oe=me?BE(X.pathname,{path:me,exact:S,sensitive:D,strict:z}):null,we=!!(P?P(oe,X):oe),Ce=typeof x=="function"?x(we):x,je=typeof U=="function"?U(we):U;we&&(Ce=JG(Ce,l),je=bs({},je,o));var tt=bs({"aria-current":we&&i||null,className:Ce,style:je,to:ne},ee);return RL!==u2?tt.ref=t||K:tt.innerRef=K,qn.createElement(YG,tt)})});var UE=function(){};function DL(e){try{return e.apply(this,[].slice.call(arguments,1))}catch(t){return t=t instanceof Error?t:new Error(t),setTimeout(function(){throw t}),t}}function cy(e){return typeof e=="string"}function c2(e){return typeof e=="object"&&e!==null}function fy(e){return typeof e=="function"}function FL(e){return fy(e)&&"types"in e}function BL(e){return fy(e)&&"type"in e}function eQ(e){return c2(e)&&cy(e.type)&&"payload"in e}function tQ(e,t,n){var i=e.get(t);i===void 0&&e.set(t,i=new Set),i.add(n)}function nQ(e,t,n){var i=e.get(t);i!==void 0&&(i.delete(n),i.size===0&&e.delete(t))}function $w(e,t){e.includes(t)||e.push(t)}function wp(e,t){return Object.assign(new Error("Reatom: "+e),{data:t})}function $E(e){return{atom:e,cause:"init",ctx:{},state:void 0,tracks:void 0}}function rQ(e,t){var n=t===void 0?{}:t,i=n.patch,s=i===void 0?new Map:i,l=n.getCache,o=l===void 0?function(U,q){return q??$E(U)}:l,x=n.effects,S=x===void 0?[]:x,P=n.causes,M=P===void 0?[]:P;M=M.concat({actions:e,patch:s});var D=e.map(function(U){return U.type}).join(", "),z={actions:e,getCache:o,process:function(U,q){var K=s.get(U);if(K==null){q=o(U,q);var ee=(K=U(z,q)).cause,V=K.state,X=K.listeners;s.set(U,K),Object.is(V,q.state)?K.cause=q.cause:(X==null?void 0:X.size)>0&&z.schedule(function(ne,pe){return X.forEach(function(me){return DL(me,V,pe)})},ee)}return K},schedule:function(U,q){q===void 0&&(q=D);var K=M.concat([q]);S.push(function(ee){return U(function(V){return ee(V,K)},K)})}};return z}function n8(e,t){return t===void 0&&(t=jE),t.getState(e)}var iQ=0;function Ry(e,t,n){n===void 0&&(n={});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=i.id,x=o===void 0?"atom"+ ++iQ:o,S=i.store,P=S===void 0?jE:S,M=[],D=[],z={},U={};if(!fy(t)||!cy(x))throw wp("Atom arguments");Object.entries(e).forEach(function(ee){var V=ee[0],X=ee[1];if(!fy(X))throw wp("Invalid atom dependencies (type "+typeof X+") at "+V,X);if(FL(X))X.types.forEach(function(me){return $w(D,me)});else{var ne;if(BL(X))U[V]=ne=X.type;else{var pe=function(){return{payload:X.apply(void 0,[].slice.call(arguments)),type:ne,targets:[K]}};pe.type=ne=V+"_"+x,pe.dispatch=function(){return P.dispatch(pe.apply(void 0,[].slice.call(arguments)))},z[V]=pe,V[0]!="_"&&(K[V]=pe)}$w(M,ne),$w(D,ne)}});var q=l.reduce(function(ee,V){return V(ee)},function(ee,V,X,ne,pe){var me=function(oe){return ne[oe].apply(ne,[].slice.call(arguments,1))};return function(oe,we){var Ce,je=oe.actions,tt=oe.process,qe=oe.schedule,rt=we.atom,At=we.ctx,Ot=we.state,Vt=we.listeners,Jt=[],bn=UE,st=function(re,ge){bn();var Mt=tt(re,ge);return Ce==null&&Jt.every(function(en){return en.atom.id!=re.id})&&Jt.push(Mt),Mt},Me={create:me,get:function(re){return st(V[re]).state},getUnlistedState:function(re){return bn(),tt(re).state},onAction:function(re,ge){var Mt,en;if(bn(),Ce!=null)throw wp("Can not react to action inside another reaction");var vn=(Mt=pe[re])!=null?Mt:(en=ne[re])==null?void 0:en.type;if(vn==null)throw wp("Unknown action",{name:re});je.forEach(function(dn){vn==dn.type&&(Ce=re,re!=vn&&(Ce+=" ("+vn+")"),Ce+=" handler",ge(dn.payload),Ce=void 0)})},onChange:function(re,ge){var Mt;if(bn(),Ce!=null)throw wp("Can not react to atom changes inside another reaction");var en=V[re],vn=(Mt=we.tracks)==null?void 0:Mt.find(function(Cn){return Cn.atom.id==en.id}),dn=st(en,vn);vn!=null&&Object.is(vn.state,dn.state)||(Ce=re,re!=rt.id&&(Ce+=" ("+rt.id+")"),Ce+=" handler",ge(dn.state,vn==null?void 0:vn.state),Ce=void 0)},onInit:function(re){we.tracks==null&&re()},schedule:function(re){bn(),qe(function(ge,Mt){return re(ge,At,Mt)},Ce)}},Le="init";return(we.tracks==null||je.some(function(re){var ge=re.type;return X.includes(ge)&&(Le=ge+" action",!0)})||we.tracks.some(function(re){return!Object.is(re.state,st(re.atom,re).state)&&(Le=re.atom.id+" atom",!0)}))&&(Jt.length=0,Ot=ee(Me,Ot)),bn=function(){throw wp("Outdated track call")},{atom:rt,cause:Le,ctx:At,state:Ot,tracks:Jt,listeners:Vt}}}(t,e,M,z,U));function K(ee,V){return V===void 0&&(V=$E(K)),q(ee,V)}return K.id=x,K.getState=function(){return P.getState(K)},K.subscribe=function(ee){return P.subscribe(K,ee)},K.types=D,K}var oQ=Symbol();function zL(e){var t=e===void 0?{}:e,n=t.callSafety,i=n===void 0?DL:n,s=t.createTemplateCache,l=s===void 0?$E:s,o=t.onError,x=t.onPatch,S=t.now,P=S===void 0?Date.now.bind(Date):S,M=new Map,D=new WeakMap,z=[],U=[];function q(V){if(!FL(V))throw wp("passed thing is not an atom");(function(X,ne){var pe,me=ne(X);if(me.tracks===void 0)return!1;if(((pe=me.listeners)==null?void 0:pe.size)>0)return!0;for(var oe=[me.tracks];oe.length>0;)for(var we=oe.pop(),Ce=0;Ce<we.length;Ce++){var je=we[Ce];if(je!=ne(je.atom))return!1;oe.push(je.tracks)}return!0})(V,ee.getCache)||ee.dispatch({type:"invalidate "+V.id+" [~"+Math.random()+"]",payload:null,targets:[V]})}o&&z.push(o),x&&U.push(x);var K=function(V,X){var ne,pe;return(ne=(pe=D.get(V))!=null?pe:X)!=null?ne:l(V)},ee={dispatch:function V(X,ne){var pe=P(),me=Array.isArray(X)?X:[X];if(me.length==0||!me.every(eQ))throw wp("dispatch arguments");var oe=new Map,we=[],Ce=rQ(me,{patch:oe,getCache:K,effects:we,causes:ne}),je=function(){return{actions:me,patch:oe,causes:ne??[],start:pe,end:P()}};try{me.forEach(function(rt){var At,Ot=rt.type,Vt=rt.targets;Vt==null||Vt.forEach(function(Jt){return Ce.process(Jt)}),(At=M.get(Ot))==null||At.forEach(function(Jt){return Ce.process(Jt)})}),oe.forEach(function(rt,At){return D.set(At,rt)})}catch(rt){var tt=je();throw z.forEach(function(At){return At(rt,tt)}),rt}var qe=je();U.forEach(function(rt){return rt(qe)}),we.forEach(function(rt){return i(rt,V)})},getCache:K,getState:function(V){return q(V),K(V).state},onError:function(V){return z.push(V),function(){return z=z.filter(function(X){return X!==V})}},onPatch:function(V){return U.push(V),function(){return U=U.filter(function(X){return X!==V})}},subscribe:function(V,X){var ne;if(!fy(X))throw wp("subscribe callback is not a function");q(V);var pe=K(V),me=(ne=pe.listeners)!=null?ne:pe.listeners=new Set;me.size==0&&V.types.forEach(function(Ce){return tQ(M,Ce,V)});var oe=oQ,we=function(Ce,je){var tt=D.get(V);Object.is(oe,tt.state)||X(oe=Ce,je)};return me.add(we),i(X,pe.state,[]),function(){me.delete(we),me.size==0&&V.types.forEach(function(Ce){return nQ(M,Ce,V)})}}};return ee}var jE=zL(),NL=qn.createContext(jE),aQ=function(e){return e()};function UL(e,t){return function(){var n=t.apply(void 0,[].slice.call(arguments));n&&aQ(function(){e.dispatch(n)})}}function r4(e,t){t===void 0&&(t=[]);var n=qn.useContext(NL);return qn.useCallback(UL(n,e),t.concat(n))}function r8(e,t,n){var i=e;typeof t=="function"?(n!=null||(n=[]),e=qn.useMemo(function(){return Ry({origin:i},function(M){return t((0,M.get)("origin"))})},n.concat(i))):n=t??[];var s=qn.useContext(NL);n=n.concat([e,s]);var l=qn.useState(function(){return n8(e,s)}),o=l[0],x=l[1],S=qn.useRef(o);S.current=o=n8(e,s);var P=qn.useMemo(function(){return Object.entries(i).reduce(function(M,D){var z=D[0],U=D[1];return BL(U)&&(M[z]=UL(s,U)),M},{})},n);return qn.useEffect(function(){return s.subscribe(e,function(M){return Object.is(M,S.current)||x(S.current=M)})},n),qn.useDebugValue(o),[o,P]}const i8=["http","https","mailto","tel"];function sQ(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let s=-1;for(;++s<i8.length;){const l=i8[s];if(i===l.length&&t.slice(0,l.length).toLowerCase()===l)return t}return s=t.indexOf("?"),s!==-1&&i>s||(s=t.indexOf("#"),s!==-1&&i>s)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var $L=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};function Eg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?o8(e.position):"start"in e||"end"in e?o8(e):"line"in e||"column"in e?i4(e):""}function i4(e){return a8(e&&e.line)+":"+a8(e&&e.column)}function o8(e){return i4(e&&e.start)+"-"+i4(e&&e.end)}function a8(e){return e&&typeof e=="number"?e:1}class qu extends Error{constructor(t,n,i){const s=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const o=i.indexOf(":");o===-1?s[1]=i:(s[0]=i.slice(0,o),s[1]=i.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=Eg(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.source=s[0],this.ruleId=s[1],this.position=l,this.actual,this.expected,this.file,this.url,this.note}}qu.prototype.file="";qu.prototype.name="";qu.prototype.reason="";qu.prototype.message="";qu.prototype.stack="";qu.prototype.fatal=null;qu.prototype.column=null;qu.prototype.line=null;qu.prototype.source=null;qu.prototype.ruleId=null;qu.prototype.position=null;const xf={basename:lQ,dirname:uQ,extname:cQ,join:fQ,sep:"/"};function lQ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dy(e);let n=0,i=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let o=-1,x=t.length-1;for(;s--;)if(e.charCodeAt(s)===47){if(l){n=s+1;break}}else o<0&&(l=!0,o=s+1),x>-1&&(e.charCodeAt(s)===t.charCodeAt(x--)?x<0&&(i=s):(x=-1,i=o));return n===i?i=o:i<0&&(i=e.length),e.slice(n,i)}function uQ(e){if(Dy(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.charCodeAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function cQ(e){Dy(e);let t=e.length,n=-1,i=0,s=-1,l=0,o;for(;t--;){const x=e.charCodeAt(t);if(x===47){if(o){i=t+1;break}continue}n<0&&(o=!0,n=t+1),x===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function fQ(...e){let t=-1,n;for(;++t<e.length;)Dy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":pQ(n)}function pQ(e){Dy(e);const t=e.charCodeAt(0)===47;let n=hQ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hQ(e,t){let n="",i=0,s=-1,l=0,o=-1,x,S;for(;++o<=e.length;){if(o<e.length)x=e.charCodeAt(o);else{if(x===47)break;x=47}if(x===47){if(!(s===o-1||l===1))if(s!==o-1&&l===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(S=n.lastIndexOf("/"),S!==n.length-1){S<0?(n="",i=0):(n=n.slice(0,S),i=n.length-1-n.lastIndexOf("/")),s=o,l=0;continue}}else if(n.length>0){n="",i=0,s=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),i=o-s-1;s=o,l=0}else x===46&&l>-1?l++:l=-1}return n}function Dy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const AQ={cwd:dQ};function dQ(){return"/"}function o4(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function mQ(e){if(typeof e=="string")e=new URL(e);else if(!o4(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gQ(e)}function gQ(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const i=t.charCodeAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const jw=["history","path","basename","stem","extname","dirname"];class jL{constructor(t){let n;t?typeof t=="string"||$L(t)?n={value:t}:o4(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=AQ.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<jw.length;){const l=jw[i];l in n&&n[l]!==void 0&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)jw.includes(s)||(this[s]=n[s])}get path(){return this.history[this.history.length-1]}set path(t){o4(t)&&(t=mQ(t)),Hw(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?xf.dirname(this.path):void 0}set dirname(t){s8(this.basename,"dirname"),this.path=xf.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?xf.basename(this.path):void 0}set basename(t){Hw(t,"basename"),Vw(t,"basename"),this.path=xf.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?xf.extname(this.path):void 0}set extname(t){if(Vw(t,"extname"),s8(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xf.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?xf.basename(this.path,this.extname):void 0}set stem(t){Hw(t,"stem"),Vw(t,"stem"),this.path=xf.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,i){const s=new qu(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=null,s}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}}function Vw(e,t){if(e&&e.includes(xf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xf.sep+"`")}function Hw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function s8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function l8(e){if(e)throw e}var c_=Object.prototype.hasOwnProperty,VL=Object.prototype.toString,u8=Object.defineProperty,c8=Object.getOwnPropertyDescriptor,f8=function(t){return typeof Array.isArray=="function"?Array.isArray(t):VL.call(t)==="[object Array]"},p8=function(t){if(!t||VL.call(t)!=="[object Object]")return!1;var n=c_.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&c_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var s;for(s in t);return typeof s>"u"||c_.call(t,s)},h8=function(t,n){u8&&n.name==="__proto__"?u8(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},A8=function(t,n){if(n==="__proto__")if(c_.call(t,n)){if(c8)return c8(t,n).value}else return;return t[n]},d8=function e(){var t,n,i,s,l,o,x=arguments[0],S=1,P=arguments.length,M=!1;for(typeof x=="boolean"&&(M=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<P;++S)if(t=arguments[S],t!=null)for(n in t)i=A8(x,n),s=A8(t,n),x!==s&&(M&&s&&(p8(s)||(l=f8(s)))?(l?(l=!1,o=i&&f8(i)?i:[]):o=i&&p8(i)?i:{},h8(x,{name:n,newValue:e(M,o,s)})):typeof s<"u"&&h8(x,{name:n,newValue:s}));return x};function a4(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yQ(){const e=[],t={run:n,use:i};return t;function n(...s){let l=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);x(null,...s);function x(S,...P){const M=e[++l];let D=-1;if(S){o(S);return}for(;++D<s.length;)(P[D]===null||P[D]===void 0)&&(P[D]=s[D]);s=P,M?vQ(M,x)(...P):o(null,...P)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function vQ(e,t){let n;return i;function i(...o){const x=e.length>o.length;let S;x&&o.push(s);try{S=e.apply(this,o)}catch(P){const M=P;if(x&&n)throw M;return s(M)}x||(S instanceof Promise?S.then(l,s):S instanceof Error?s(S):l(S))}function s(o,...x){n||(n=!0,t(o,...x))}function l(o){s(null,o)}}const _Q=qL().freeze(),HL={}.hasOwnProperty;function qL(){const e=yQ(),t=[];let n={},i,s=-1;return l.data=o,l.Parser=void 0,l.Compiler=void 0,l.freeze=x,l.attachers=t,l.use=S,l.parse=P,l.stringify=M,l.run=D,l.runSync=z,l.process=U,l.processSync=q,l;function l(){const K=qL();let ee=-1;for(;++ee<t.length;)K.use(...t[ee]);return K.data(d8(!0,{},n)),K}function o(K,ee){return typeof K=="string"?arguments.length===2?(Qw("data",i),n[K]=ee,l):HL.call(n,K)&&n[K]||null:K?(Qw("data",i),n=K,l):n}function x(){if(i)return l;for(;++s<t.length;){const[K,...ee]=t[s];if(ee[0]===!1)continue;ee[0]===!0&&(ee[0]=void 0);const V=K.call(l,...ee);typeof V=="function"&&e.use(V)}return i=!0,s=Number.POSITIVE_INFINITY,l}function S(K,...ee){let V;if(Qw("use",i),K!=null)if(typeof K=="function")me(K,...ee);else if(typeof K=="object")Array.isArray(K)?pe(K):ne(K);else throw new TypeError("Expected usable value, not `"+K+"`");return V&&(n.settings=Object.assign(n.settings||{},V)),l;function X(oe){if(typeof oe=="function")me(oe);else if(typeof oe=="object")if(Array.isArray(oe)){const[we,...Ce]=oe;me(we,...Ce)}else ne(oe);else throw new TypeError("Expected usable value, not `"+oe+"`")}function ne(oe){pe(oe.plugins),oe.settings&&(V=Object.assign(V||{},oe.settings))}function pe(oe){let we=-1;if(oe!=null)if(Array.isArray(oe))for(;++we<oe.length;){const Ce=oe[we];X(Ce)}else throw new TypeError("Expected a list of plugins, not `"+oe+"`")}function me(oe,we){let Ce=-1,je;for(;++Ce<t.length;)if(t[Ce][0]===oe){je=t[Ce];break}je?(a4(je[1])&&a4(we)&&(we=d8(!0,je[1],we)),je[1]=we):t.push([...arguments])}}function P(K){l.freeze();const ee=Zm(K),V=l.Parser;return qw("parse",V),m8(V,"parse")?new V(String(ee),ee).parse():V(String(ee),ee)}function M(K,ee){l.freeze();const V=Zm(ee),X=l.Compiler;return Gw("stringify",X),g8(K),m8(X,"compile")?new X(K,V).compile():X(K,V)}function D(K,ee,V){if(g8(K),l.freeze(),!V&&typeof ee=="function"&&(V=ee,ee=void 0),!V)return new Promise(X);X(null,V);function X(ne,pe){e.run(K,Zm(ee),me);function me(oe,we,Ce){we=we||K,oe?pe(oe):ne?ne(we):V(null,we,Ce)}}}function z(K,ee){let V,X;return l.run(K,ee,ne),y8("runSync","run",X),V;function ne(pe,me){l8(pe),V=me,X=!0}}function U(K,ee){if(l.freeze(),qw("process",l.Parser),Gw("process",l.Compiler),!ee)return new Promise(V);V(null,ee);function V(X,ne){const pe=Zm(K);l.run(l.parse(pe),pe,(oe,we,Ce)=>{if(oe||!we||!Ce)me(oe);else{const je=l.stringify(we,Ce);je==null||(wQ(je)?Ce.value=je:Ce.result=je),me(oe,Ce)}});function me(oe,we){oe||!we?ne(oe):X?X(we):ee(null,we)}}}function q(K){let ee;l.freeze(),qw("processSync",l.Parser),Gw("processSync",l.Compiler);const V=Zm(K);return l.process(V,X),y8("processSync","process",ee),V;function X(ne){ee=!0,l8(ne)}}}function m8(e,t){return typeof e=="function"&&e.prototype&&(xQ(e.prototype)||t in e.prototype)}function xQ(e){let t;for(t in e)if(HL.call(e,t))return!0;return!1}function qw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Gw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Qw(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function g8(e){if(!a4(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function y8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zm(e){return bQ(e)?e:new jL(e)}function bQ(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function wQ(e){return typeof e=="string"||$L(e)}function SQ(e,t){var{includeImageAlt:n=!0}=t||{};return GL(e,n)}function GL(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&v8(e.children,t)||Array.isArray(e)&&v8(e,t))||""}function v8(e,t){for(var n=[],i=-1;++i<e.length;)n[i]=GL(e[i],t);return n.join("")}function Tf(e,t,n,i){const s=e.length;let l=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);l<i.length;)o=i.slice(l,l+1e4),o.unshift(t,0),[].splice.apply(e,o),l+=1e4,t+=1e4}function Lu(e,t){return e.length>0?(Tf(e,e.length,0,t),e):t}const _8={}.hasOwnProperty;function CQ(e){const t={};let n=-1;for(;++n<e.length;)EQ(t,e[n]);return t}function EQ(e,t){let n;for(n in t){const s=(_8.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;for(o in l){_8.call(s,o)||(s[o]=[]);const x=l[o];kQ(s[o],Array.isArray(x)?x:x?[x]:[])}}}function kQ(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Tf(e,0,0,i)}const PQ=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wf=Yh(/[A-Za-z]/),s4=Yh(/\d/),TQ=Yh(/[\dA-Fa-f]/),Jl=Yh(/[\dA-Za-z]/),IQ=Yh(/[!-/:-@[-`{-~]/),x8=Yh(/[#-'*+\--9=?A-Z^-~]/);function l4(e){return e!==null&&(e<32||e===127)}function Bu(e){return e!==null&&(e<0||e===32)}function yr(e){return e!==null&&e<-2}function Oa(e){return e===-2||e===-1||e===32}const OQ=Yh(/\s/),MQ=Yh(PQ);function Yh(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function to(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(S){return Oa(S)?(e.enter(n),x(S)):t(S)}function x(S){return Oa(S)&&l++<s?(e.consume(S),x):(e.exit(n),t(S))}}const LQ={tokenize:RQ};function RQ(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(x){if(x===null){e.consume(x);return}return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),to(e,t,"linePrefix")}function s(x){return e.enter("paragraph"),l(x)}function l(x){const S=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=S),n=S,o(x)}function o(x){if(x===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(x);return}return yr(x)?(e.consume(x),e.exit("chunkText"),l):(e.consume(x),o)}}const DQ={tokenize:FQ},b8={tokenize:BQ};function FQ(e){const t=this,n=[];let i=0,s,l,o;return x;function x(ne){if(i<n.length){const pe=n[i];return t.containerState=pe[1],e.attempt(pe[0].continuation,S,P)(ne)}return P(ne)}function S(ne){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&X();const pe=t.events.length;let me=pe,oe;for(;me--;)if(t.events[me][0]==="exit"&&t.events[me][1].type==="chunkFlow"){oe=t.events[me][1].end;break}V(i);let we=pe;for(;we<t.events.length;)t.events[we][1].end=Object.assign({},oe),we++;return Tf(t.events,me+1,0,t.events.slice(pe)),t.events.length=we,P(ne)}return x(ne)}function P(ne){if(i===n.length){if(!s)return z(ne);if(s.currentConstruct&&s.currentConstruct.concrete)return q(ne);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(b8,M,D)(ne)}function M(ne){return s&&X(),V(i),z(ne)}function D(ne){return t.parser.lazy[t.now().line]=i!==n.length,o=t.now().offset,q(ne)}function z(ne){return t.containerState={},e.attempt(b8,U,q)(ne)}function U(ne){return i++,n.push([t.currentConstruct,t.containerState]),z(ne)}function q(ne){if(ne===null){s&&X(),V(0),e.consume(ne);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:s}),K(ne)}function K(ne){if(ne===null){ee(e.exit("chunkFlow"),!0),V(0),e.consume(ne);return}return yr(ne)?(e.consume(ne),ee(e.exit("chunkFlow")),i=0,t.interrupt=void 0,x):(e.consume(ne),K)}function ee(ne,pe){const me=t.sliceStream(ne);if(pe&&me.push(null),ne.previous=l,l&&(l.next=ne),l=ne,s.defineSkip(ne.start),s.write(me),t.parser.lazy[ne.start.line]){let oe=s.events.length;for(;oe--;)if(s.events[oe][1].start.offset<o&&(!s.events[oe][1].end||s.events[oe][1].end.offset>o))return;const we=t.events.length;let Ce=we,je,tt;for(;Ce--;)if(t.events[Ce][0]==="exit"&&t.events[Ce][1].type==="chunkFlow"){if(je){tt=t.events[Ce][1].end;break}je=!0}for(V(i),oe=we;oe<t.events.length;)t.events[oe][1].end=Object.assign({},tt),oe++;Tf(t.events,Ce+1,0,t.events.slice(we)),t.events.length=oe}}function V(ne){let pe=n.length;for(;pe-- >ne;){const me=n[pe];t.containerState=me[1],me[0].exit.call(t,e)}n.length=ne}function X(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function BQ(e,t,n){return to(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w8(e){if(e===null||Bu(e)||OQ(e))return 1;if(MQ(e))return 2}function VE(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const u4={name:"attention",tokenize:NQ,resolveAll:zQ};function zQ(e,t){let n=-1,i,s,l,o,x,S,P,M;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;S=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const D=Object.assign({},e[i][1].end),z=Object.assign({},e[n][1].start);S8(D,-S),S8(z,S),o={type:S>1?"strongSequence":"emphasisSequence",start:D,end:Object.assign({},e[i][1].end)},x={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:z},l={type:S>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s={type:S>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},x.end)},e[i][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},x.end),P=[],e[i][1].end.offset-e[i][1].start.offset&&(P=Lu(P,[["enter",e[i][1],t],["exit",e[i][1],t]])),P=Lu(P,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",l,t]]),P=Lu(P,VE(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),P=Lu(P,[["exit",l,t],["enter",x,t],["exit",x,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(M=2,P=Lu(P,[["enter",e[n][1],t],["exit",e[n][1],t]])):M=0,Tf(e,i-1,n-i+3,P),n=i+P.length-M-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function NQ(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=w8(i);let l;return o;function o(S){return e.enter("attentionSequence"),l=S,x(S)}function x(S){if(S===l)return e.consume(S),x;const P=e.exit("attentionSequence"),M=w8(S),D=!M||M===2&&s||n.includes(S),z=!s||s===2&&M||n.includes(i);return P._open=Boolean(l===42?D:D&&(s||!z)),P._close=Boolean(l===42?z:z&&(M||!D)),t(S)}}function S8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const UQ={name:"autolink",tokenize:$Q};function $Q(e,t,n){let i=1;return s;function s(q){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(q){return wf(q)?(e.consume(q),o):x8(q)?P(q):n(q)}function o(q){return q===43||q===45||q===46||Jl(q)?x(q):P(q)}function x(q){return q===58?(e.consume(q),S):(q===43||q===45||q===46||Jl(q))&&i++<32?(e.consume(q),x):P(q)}function S(q){return q===62?(e.exit("autolinkProtocol"),U(q)):q===null||q===32||q===60||l4(q)?n(q):(e.consume(q),S)}function P(q){return q===64?(e.consume(q),i=0,M):x8(q)?(e.consume(q),P):n(q)}function M(q){return Jl(q)?D(q):n(q)}function D(q){return q===46?(e.consume(q),i=0,M):q===62?(e.exit("autolinkProtocol").type="autolinkEmail",U(q)):z(q)}function z(q){return(q===45||Jl(q))&&i++<63?(e.consume(q),q===45?z:D):n(q)}function U(q){return e.enter("autolinkMarker"),e.consume(q),e.exit("autolinkMarker"),e.exit("autolink"),t}}const qx={tokenize:jQ,partial:!0};function jQ(e,t,n){return to(e,i,"linePrefix");function i(s){return s===null||yr(s)?t(s):n(s)}}const QL={name:"blockQuote",tokenize:VQ,continuation:{tokenize:HQ},exit:qQ};function VQ(e,t,n){const i=this;return s;function s(o){if(o===62){const x=i.containerState;return x.open||(e.enter("blockQuote",{_container:!0}),x.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return Oa(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function HQ(e,t,n){return to(e,e.attempt(QL,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qQ(e){e.exit("blockQuote")}const WL={name:"characterEscape",tokenize:GQ};function GQ(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return IQ(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const C8=document.createElement("i");function HE(e){const t="&"+e+";";C8.innerHTML=t;const n=C8.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const KL={name:"characterReference",tokenize:QQ};function QQ(e,t,n){const i=this;let s=0,l,o;return x;function x(D){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(D),e.exit("characterReferenceMarker"),S}function S(D){return D===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(D),e.exit("characterReferenceMarkerNumeric"),P):(e.enter("characterReferenceValue"),l=31,o=Jl,M(D))}function P(D){return D===88||D===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(D),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=TQ,M):(e.enter("characterReferenceValue"),l=7,o=s4,M(D))}function M(D){let z;return D===59&&s?(z=e.exit("characterReferenceValue"),o===Jl&&!HE(i.sliceSerialize(z))?n(D):(e.enter("characterReferenceMarker"),e.consume(D),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(D)&&s++<l?(e.consume(D),M):n(D)}}const E8={name:"codeFenced",tokenize:WQ,concrete:!0};function WQ(e,t,n){const i=this,s={tokenize:me,partial:!0},l={tokenize:pe,partial:!0},o=this.events[this.events.length-1],x=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let S=0,P;return M;function M(oe){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),P=oe,D(oe)}function D(oe){return oe===P?(e.consume(oe),S++,D):(e.exit("codeFencedFenceSequence"),S<3?n(oe):to(e,z,"whitespace")(oe))}function z(oe){return oe===null||yr(oe)?ee(oe):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),U(oe))}function U(oe){return oe===null||Bu(oe)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),to(e,q,"whitespace")(oe)):oe===96&&oe===P?n(oe):(e.consume(oe),U)}function q(oe){return oe===null||yr(oe)?ee(oe):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),K(oe))}function K(oe){return oe===null||yr(oe)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),ee(oe)):oe===96&&oe===P?n(oe):(e.consume(oe),K)}function ee(oe){return e.exit("codeFencedFence"),i.interrupt?t(oe):V(oe)}function V(oe){return oe===null?ne(oe):yr(oe)?e.attempt(l,e.attempt(s,ne,x?to(e,V,"linePrefix",x+1):V),ne)(oe):(e.enter("codeFlowValue"),X(oe))}function X(oe){return oe===null||yr(oe)?(e.exit("codeFlowValue"),V(oe)):(e.consume(oe),X)}function ne(oe){return e.exit("codeFenced"),t(oe)}function pe(oe,we,Ce){const je=this;return tt;function tt(rt){return oe.enter("lineEnding"),oe.consume(rt),oe.exit("lineEnding"),qe}function qe(rt){return je.parser.lazy[je.now().line]?Ce(rt):we(rt)}}function me(oe,we,Ce){let je=0;return to(oe,tt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function tt(At){return oe.enter("codeFencedFence"),oe.enter("codeFencedFenceSequence"),qe(At)}function qe(At){return At===P?(oe.consume(At),je++,qe):je<S?Ce(At):(oe.exit("codeFencedFenceSequence"),to(oe,rt,"whitespace")(At))}function rt(At){return At===null||yr(At)?(oe.exit("codeFencedFence"),we(At)):Ce(At)}}}const Ww={name:"codeIndented",tokenize:ZQ},KQ={tokenize:XQ,partial:!0};function ZQ(e,t,n){const i=this;return s;function s(P){return e.enter("codeIndented"),to(e,l,"linePrefix",4+1)(P)}function l(P){const M=i.events[i.events.length-1];return M&&M[1].type==="linePrefix"&&M[2].sliceSerialize(M[1],!0).length>=4?o(P):n(P)}function o(P){return P===null?S(P):yr(P)?e.attempt(KQ,o,S)(P):(e.enter("codeFlowValue"),x(P))}function x(P){return P===null||yr(P)?(e.exit("codeFlowValue"),o(P)):(e.consume(P),x)}function S(P){return e.exit("codeIndented"),t(P)}}function XQ(e,t,n){const i=this;return s;function s(o){return i.parser.lazy[i.now().line]?n(o):yr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):to(e,l,"linePrefix",4+1)(o)}function l(o){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(o):yr(o)?s(o):n(o)}}const YQ={name:"codeText",tokenize:tW,resolve:JQ,previous:eW};function JQ(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function eW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tW(e,t,n){let i=0,s,l;return o;function o(D){return e.enter("codeText"),e.enter("codeTextSequence"),x(D)}function x(D){return D===96?(e.consume(D),i++,x):(e.exit("codeTextSequence"),S(D))}function S(D){return D===null?n(D):D===96?(l=e.enter("codeTextSequence"),s=0,M(D)):D===32?(e.enter("space"),e.consume(D),e.exit("space"),S):yr(D)?(e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),S):(e.enter("codeTextData"),P(D))}function P(D){return D===null||D===32||D===96||yr(D)?(e.exit("codeTextData"),S(D)):(e.consume(D),P)}function M(D){return D===96?(e.consume(D),s++,M):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(D)):(l.type="codeTextData",P(D))}}function ZL(e){const t={};let n=-1,i,s,l,o,x,S,P;for(;++n<e.length;){for(;n in t;)n=t[n];if(i=e[n],n&&i[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(S=i[1]._tokenizer.events,l=0,l<S.length&&S[l][1].type==="lineEndingBlank"&&(l+=2),l<S.length&&S[l][1].type==="content"))for(;++l<S.length&&S[l][1].type!=="content";)S[l][1].type==="chunkText"&&(S[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,nW(e,n)),n=t[n],P=!0);else if(i[1]._container){for(l=n,s=void 0;l--&&(o=e[l],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(s&&(e[s][1].type="lineEndingBlank"),o[1].type="lineEnding",s=l);s&&(i[1].end=Object.assign({},e[s][1].start),x=e.slice(s,n),x.unshift(i),Tf(e,s,n-s+1,x))}}return!P}function nW(e,t){const n=e[t][1],i=e[t][2];let s=t-1;const l=[],o=n._tokenizer||i.parser[n.contentType](n.start),x=o.events,S=[],P={};let M,D,z=-1,U=n,q=0,K=0;const ee=[K];for(;U;){for(;e[++s][1]!==U;);l.push(s),U._tokenizer||(M=i.sliceStream(U),U.next||M.push(null),D&&o.defineSkip(U.start),U._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(M),U._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),D=U,U=U.next}for(U=n;++z<x.length;)x[z][0]==="exit"&&x[z-1][0]==="enter"&&x[z][1].type===x[z-1][1].type&&x[z][1].start.line!==x[z][1].end.line&&(K=z+1,ee.push(K),U._tokenizer=void 0,U.previous=void 0,U=U.next);for(o.events=[],U?(U._tokenizer=void 0,U.previous=void 0):ee.pop(),z=ee.length;z--;){const V=x.slice(ee[z],ee[z+1]),X=l.pop();S.unshift([X,X+V.length-1]),Tf(e,X,2,V)}for(z=-1;++z<S.length;)P[q+S[z][0]]=q+S[z][1],q+=S[z][1]-S[z][0]-1;return P}const rW={tokenize:aW,resolve:oW},iW={tokenize:sW,partial:!0};function oW(e){return ZL(e),e}function aW(e,t){let n;return i;function i(x){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(x)}function s(x){return x===null?l(x):yr(x)?e.check(iW,o,l)(x):(e.consume(x),s)}function l(x){return e.exit("chunkContent"),e.exit("content"),t(x)}function o(x){return e.consume(x),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function sW(e,t,n){const i=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),to(e,l,"linePrefix")}function l(o){if(o===null||yr(o))return n(o);const x=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}}function XL(e,t,n,i,s,l,o,x,S){const P=S||Number.POSITIVE_INFINITY;let M=0;return D;function D(V){return V===60?(e.enter(i),e.enter(s),e.enter(l),e.consume(V),e.exit(l),z):V===null||V===41||l4(V)?n(V):(e.enter(i),e.enter(o),e.enter(x),e.enter("chunkString",{contentType:"string"}),K(V))}function z(V){return V===62?(e.enter(l),e.consume(V),e.exit(l),e.exit(s),e.exit(i),t):(e.enter(x),e.enter("chunkString",{contentType:"string"}),U(V))}function U(V){return V===62?(e.exit("chunkString"),e.exit(x),z(V)):V===null||V===60||yr(V)?n(V):(e.consume(V),V===92?q:U)}function q(V){return V===60||V===62||V===92?(e.consume(V),U):U(V)}function K(V){return V===40?++M>P?n(V):(e.consume(V),K):V===41?M--?(e.consume(V),K):(e.exit("chunkString"),e.exit(x),e.exit(o),e.exit(i),t(V)):V===null||Bu(V)?M?n(V):(e.exit("chunkString"),e.exit(x),e.exit(o),e.exit(i),t(V)):l4(V)?n(V):(e.consume(V),V===92?ee:K)}function ee(V){return V===40||V===41||V===92?(e.consume(V),K):K(V)}}function YL(e,t,n,i,s,l){const o=this;let x=0,S;return P;function P(U){return e.enter(i),e.enter(s),e.consume(U),e.exit(s),e.enter(l),M}function M(U){return U===null||U===91||U===93&&!S||U===94&&!x&&"_hiddenFootnoteSupport"in o.parser.constructs||x>999?n(U):U===93?(e.exit(l),e.enter(s),e.consume(U),e.exit(s),e.exit(i),t):yr(U)?(e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),M):(e.enter("chunkString",{contentType:"string"}),D(U))}function D(U){return U===null||U===91||U===93||yr(U)||x++>999?(e.exit("chunkString"),M(U)):(e.consume(U),S=S||!Oa(U),U===92?z:D)}function z(U){return U===91||U===92||U===93?(e.consume(U),x++,D):D(U)}}function JL(e,t,n,i,s,l){let o;return x;function x(z){return e.enter(i),e.enter(s),e.consume(z),e.exit(s),o=z===40?41:z,S}function S(z){return z===o?(e.enter(s),e.consume(z),e.exit(s),e.exit(i),t):(e.enter(l),P(z))}function P(z){return z===o?(e.exit(l),S(o)):z===null?n(z):yr(z)?(e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),to(e,P,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),M(z))}function M(z){return z===o||z===null||yr(z)?(e.exit("chunkString"),P(z)):(e.consume(z),z===92?D:M)}function D(z){return z===o||z===92?(e.consume(z),M):M(z)}}function kg(e,t){let n;return i;function i(s){return yr(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Oa(s)?to(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}function O0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const lW={name:"definition",tokenize:cW},uW={tokenize:fW,partial:!0};function cW(e,t,n){const i=this;let s;return l;function l(S){return e.enter("definition"),YL.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function o(S){return s=O0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),kg(e,XL(e,e.attempt(uW,to(e,x,"whitespace"),to(e,x,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(S)}function x(S){return S===null||yr(S)?(e.exit("definition"),i.parser.defined.includes(s)||i.parser.defined.push(s),t(S)):n(S)}}function fW(e,t,n){return i;function i(o){return Bu(o)?kg(e,s)(o):n(o)}function s(o){return o===34||o===39||o===40?JL(e,to(e,l,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function l(o){return o===null||yr(o)?t(o):n(o)}}const pW={name:"hardBreakEscape",tokenize:hW};function hW(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(l),s}function s(l){return yr(l)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(l)):n(l)}}const AW={name:"headingAtx",tokenize:mW,resolve:dW};function dW(e,t){let n=e.length-2,i=3,s,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Tf(e,i,n-i+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function mW(e,t,n){const i=this;let s=0;return l;function l(M){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(M)}function o(M){return M===35&&s++<6?(e.consume(M),o):M===null||Bu(M)?(e.exit("atxHeadingSequence"),i.interrupt?t(M):x(M)):n(M)}function x(M){return M===35?(e.enter("atxHeadingSequence"),S(M)):M===null||yr(M)?(e.exit("atxHeading"),t(M)):Oa(M)?to(e,x,"whitespace")(M):(e.enter("atxHeadingText"),P(M))}function S(M){return M===35?(e.consume(M),S):(e.exit("atxHeadingSequence"),x(M))}function P(M){return M===null||M===35||Bu(M)?(e.exit("atxHeadingText"),x(M)):(e.consume(M),P)}}const gW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],k8=["pre","script","style","textarea"],yW={name:"htmlFlow",tokenize:xW,resolveTo:_W,concrete:!0},vW={tokenize:bW,partial:!0};function _W(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function xW(e,t,n){const i=this;let s,l,o,x,S;return P;function P(ge){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ge),M}function M(ge){return ge===33?(e.consume(ge),D):ge===47?(e.consume(ge),q):ge===63?(e.consume(ge),s=3,i.interrupt?t:Me):wf(ge)?(e.consume(ge),o=String.fromCharCode(ge),l=!0,K):n(ge)}function D(ge){return ge===45?(e.consume(ge),s=2,z):ge===91?(e.consume(ge),s=5,o="CDATA[",x=0,U):wf(ge)?(e.consume(ge),s=4,i.interrupt?t:Me):n(ge)}function z(ge){return ge===45?(e.consume(ge),i.interrupt?t:Me):n(ge)}function U(ge){return ge===o.charCodeAt(x++)?(e.consume(ge),x===o.length?i.interrupt?t:qe:U):n(ge)}function q(ge){return wf(ge)?(e.consume(ge),o=String.fromCharCode(ge),K):n(ge)}function K(ge){return ge===null||ge===47||ge===62||Bu(ge)?ge!==47&&l&&k8.includes(o.toLowerCase())?(s=1,i.interrupt?t(ge):qe(ge)):gW.includes(o.toLowerCase())?(s=6,ge===47?(e.consume(ge),ee):i.interrupt?t(ge):qe(ge)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(ge):l?X(ge):V(ge)):ge===45||Jl(ge)?(e.consume(ge),o+=String.fromCharCode(ge),K):n(ge)}function ee(ge){return ge===62?(e.consume(ge),i.interrupt?t:qe):n(ge)}function V(ge){return Oa(ge)?(e.consume(ge),V):je(ge)}function X(ge){return ge===47?(e.consume(ge),je):ge===58||ge===95||wf(ge)?(e.consume(ge),ne):Oa(ge)?(e.consume(ge),X):je(ge)}function ne(ge){return ge===45||ge===46||ge===58||ge===95||Jl(ge)?(e.consume(ge),ne):pe(ge)}function pe(ge){return ge===61?(e.consume(ge),me):Oa(ge)?(e.consume(ge),pe):X(ge)}function me(ge){return ge===null||ge===60||ge===61||ge===62||ge===96?n(ge):ge===34||ge===39?(e.consume(ge),S=ge,oe):Oa(ge)?(e.consume(ge),me):(S=null,we(ge))}function oe(ge){return ge===null||yr(ge)?n(ge):ge===S?(e.consume(ge),Ce):(e.consume(ge),oe)}function we(ge){return ge===null||ge===34||ge===39||ge===60||ge===61||ge===62||ge===96||Bu(ge)?pe(ge):(e.consume(ge),we)}function Ce(ge){return ge===47||ge===62||Oa(ge)?X(ge):n(ge)}function je(ge){return ge===62?(e.consume(ge),tt):n(ge)}function tt(ge){return Oa(ge)?(e.consume(ge),tt):ge===null||yr(ge)?qe(ge):n(ge)}function qe(ge){return ge===45&&s===2?(e.consume(ge),Vt):ge===60&&s===1?(e.consume(ge),Jt):ge===62&&s===4?(e.consume(ge),Le):ge===63&&s===3?(e.consume(ge),Me):ge===93&&s===5?(e.consume(ge),st):yr(ge)&&(s===6||s===7)?e.check(vW,Le,rt)(ge):ge===null||yr(ge)?rt(ge):(e.consume(ge),qe)}function rt(ge){return e.exit("htmlFlowData"),At(ge)}function At(ge){return ge===null?re(ge):yr(ge)?e.attempt({tokenize:Ot,partial:!0},At,re)(ge):(e.enter("htmlFlowData"),qe(ge))}function Ot(ge,Mt,en){return vn;function vn(Cn){return ge.enter("lineEnding"),ge.consume(Cn),ge.exit("lineEnding"),dn}function dn(Cn){return i.parser.lazy[i.now().line]?en(Cn):Mt(Cn)}}function Vt(ge){return ge===45?(e.consume(ge),Me):qe(ge)}function Jt(ge){return ge===47?(e.consume(ge),o="",bn):qe(ge)}function bn(ge){return ge===62&&k8.includes(o.toLowerCase())?(e.consume(ge),Le):wf(ge)&&o.length<8?(e.consume(ge),o+=String.fromCharCode(ge),bn):qe(ge)}function st(ge){return ge===93?(e.consume(ge),Me):qe(ge)}function Me(ge){return ge===62?(e.consume(ge),Le):ge===45&&s===2?(e.consume(ge),Me):qe(ge)}function Le(ge){return ge===null||yr(ge)?(e.exit("htmlFlowData"),re(ge)):(e.consume(ge),Le)}function re(ge){return e.exit("htmlFlow"),t(ge)}}function bW(e,t,n){return i;function i(s){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),e.attempt(qx,t,n)}}const wW={name:"htmlText",tokenize:SW};function SW(e,t,n){const i=this;let s,l,o,x;return S;function S(re){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(re),P}function P(re){return re===33?(e.consume(re),M):re===47?(e.consume(re),we):re===63?(e.consume(re),me):wf(re)?(e.consume(re),tt):n(re)}function M(re){return re===45?(e.consume(re),D):re===91?(e.consume(re),l="CDATA[",o=0,ee):wf(re)?(e.consume(re),pe):n(re)}function D(re){return re===45?(e.consume(re),z):n(re)}function z(re){return re===null||re===62?n(re):re===45?(e.consume(re),U):q(re)}function U(re){return re===null||re===62?n(re):q(re)}function q(re){return re===null?n(re):re===45?(e.consume(re),K):yr(re)?(x=q,st(re)):(e.consume(re),q)}function K(re){return re===45?(e.consume(re),Le):q(re)}function ee(re){return re===l.charCodeAt(o++)?(e.consume(re),o===l.length?V:ee):n(re)}function V(re){return re===null?n(re):re===93?(e.consume(re),X):yr(re)?(x=V,st(re)):(e.consume(re),V)}function X(re){return re===93?(e.consume(re),ne):V(re)}function ne(re){return re===62?Le(re):re===93?(e.consume(re),ne):V(re)}function pe(re){return re===null||re===62?Le(re):yr(re)?(x=pe,st(re)):(e.consume(re),pe)}function me(re){return re===null?n(re):re===63?(e.consume(re),oe):yr(re)?(x=me,st(re)):(e.consume(re),me)}function oe(re){return re===62?Le(re):me(re)}function we(re){return wf(re)?(e.consume(re),Ce):n(re)}function Ce(re){return re===45||Jl(re)?(e.consume(re),Ce):je(re)}function je(re){return yr(re)?(x=je,st(re)):Oa(re)?(e.consume(re),je):Le(re)}function tt(re){return re===45||Jl(re)?(e.consume(re),tt):re===47||re===62||Bu(re)?qe(re):n(re)}function qe(re){return re===47?(e.consume(re),Le):re===58||re===95||wf(re)?(e.consume(re),rt):yr(re)?(x=qe,st(re)):Oa(re)?(e.consume(re),qe):Le(re)}function rt(re){return re===45||re===46||re===58||re===95||Jl(re)?(e.consume(re),rt):At(re)}function At(re){return re===61?(e.consume(re),Ot):yr(re)?(x=At,st(re)):Oa(re)?(e.consume(re),At):qe(re)}function Ot(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(e.consume(re),s=re,Vt):yr(re)?(x=Ot,st(re)):Oa(re)?(e.consume(re),Ot):(e.consume(re),s=void 0,bn)}function Vt(re){return re===s?(e.consume(re),Jt):re===null?n(re):yr(re)?(x=Vt,st(re)):(e.consume(re),Vt)}function Jt(re){return re===62||re===47||Bu(re)?qe(re):n(re)}function bn(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===62||Bu(re)?qe(re):(e.consume(re),bn)}function st(re){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(re),e.exit("lineEnding"),to(e,Me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Me(re){return e.enter("htmlTextData"),x(re)}function Le(re){return re===62?(e.consume(re),e.exit("htmlTextData"),e.exit("htmlText"),t):n(re)}}const qE={name:"labelEnd",tokenize:IW,resolveTo:TW,resolveAll:PW},CW={tokenize:OW},EW={tokenize:MW},kW={tokenize:LW};function PW(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function TW(e,t){let n=e.length,i=0,s,l,o,x;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(o=n);const S={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},P={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[o][1].end)},M={type:"labelText",start:Object.assign({},e[l+i+2][1].end),end:Object.assign({},e[o-2][1].start)};return x=[["enter",S,t],["enter",P,t]],x=Lu(x,e.slice(l+1,l+i+3)),x=Lu(x,[["enter",M,t]]),x=Lu(x,VE(t.parser.constructs.insideSpan.null,e.slice(l+i+4,o-3),t)),x=Lu(x,[["exit",M,t],e[o-2],e[o-1],["exit",P,t]]),x=Lu(x,e.slice(o+1)),x=Lu(x,[["exit",S,t]]),Tf(e,l,e.length,x),e}function IW(e,t,n){const i=this;let s=i.events.length,l,o;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return x;function x(M){return l?l._inactive?P(M):(o=i.parser.defined.includes(O0(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(M),e.exit("labelMarker"),e.exit("labelEnd"),S):n(M)}function S(M){return M===40?e.attempt(CW,t,o?t:P)(M):M===91?e.attempt(EW,t,o?e.attempt(kW,t,P):P)(M):o?t(M):P(M)}function P(M){return l._balanced=!0,n(M)}}function OW(e,t,n){return i;function i(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),kg(e,s)}function s(S){return S===41?x(S):XL(e,l,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function l(S){return Bu(S)?kg(e,o)(S):x(S)}function o(S){return S===34||S===39||S===40?JL(e,kg(e,x),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):x(S)}function x(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):n(S)}}function MW(e,t,n){const i=this;return s;function s(o){return YL.call(i,e,l,n,"reference","referenceMarker","referenceString")(o)}function l(o){return i.parser.defined.includes(O0(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function LW(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const RW={name:"labelStartImage",tokenize:DW,resolveAll:qE.resolveAll};function DW(e,t,n){const i=this;return s;function s(x){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(x),e.exit("labelImageMarker"),l}function l(x){return x===91?(e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelImage"),o):n(x)}function o(x){return x===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(x):t(x)}}const FW={name:"labelStartLink",tokenize:BW,resolveAll:qE.resolveAll};function BW(e,t,n){const i=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Kw={name:"lineEnding",tokenize:zW};function zW(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),to(e,t,"linePrefix")}}const f_={name:"thematicBreak",tokenize:NW};function NW(e,t,n){let i=0,s;return l;function l(S){return e.enter("thematicBreak"),s=S,o(S)}function o(S){return S===s?(e.enter("thematicBreakSequence"),x(S)):Oa(S)?to(e,o,"whitespace")(S):i<3||S!==null&&!yr(S)?n(S):(e.exit("thematicBreak"),t(S))}function x(S){return S===s?(e.consume(S),i++,x):(e.exit("thematicBreakSequence"),o(S))}}const El={name:"list",tokenize:jW,continuation:{tokenize:VW},exit:qW},UW={tokenize:GW,partial:!0},$W={tokenize:HW,partial:!0};function jW(e,t,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return x;function x(U){const q=i.containerState.type||(U===42||U===43||U===45?"listUnordered":"listOrdered");if(q==="listUnordered"?!i.containerState.marker||U===i.containerState.marker:s4(U)){if(i.containerState.type||(i.containerState.type=q,e.enter(q,{_container:!0})),q==="listUnordered")return e.enter("listItemPrefix"),U===42||U===45?e.check(f_,n,P)(U):P(U);if(!i.interrupt||U===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),S(U)}return n(U)}function S(U){return s4(U)&&++o<10?(e.consume(U),S):(!i.interrupt||o<2)&&(i.containerState.marker?U===i.containerState.marker:U===41||U===46)?(e.exit("listItemValue"),P(U)):n(U)}function P(U){return e.enter("listItemMarker"),e.consume(U),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||U,e.check(qx,i.interrupt?n:M,e.attempt(UW,z,D))}function M(U){return i.containerState.initialBlankLine=!0,l++,z(U)}function D(U){return Oa(U)?(e.enter("listItemPrefixWhitespace"),e.consume(U),e.exit("listItemPrefixWhitespace"),z):n(U)}function z(U){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(U)}}function VW(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(qx,s,l);function s(x){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,to(e,t,"listItemIndent",i.containerState.size+1)(x)}function l(x){return i.containerState.furtherBlankLines||!Oa(x)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(x)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt($W,t,o)(x))}function o(x){return i.containerState._closeFlow=!0,i.interrupt=void 0,to(e,e.attempt(El,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function HW(e,t,n){const i=this;return to(e,s,"listItemIndent",i.containerState.size+1);function s(l){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(l):n(l)}}function qW(e){e.exit(this.containerState.type)}function GW(e,t,n){const i=this;return to(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function s(l){const o=i.events[i.events.length-1];return!Oa(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const P8={name:"setextUnderline",tokenize:WW,resolveTo:QW};function QW(e,t){let n=e.length,i,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",o,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[l][1].end)):e[i][1]=o,e.push(["exit",o,t]),e}function WW(e,t,n){const i=this;let s=i.events.length,l,o;for(;s--;)if(i.events[s][1].type!=="lineEnding"&&i.events[s][1].type!=="linePrefix"&&i.events[s][1].type!=="content"){o=i.events[s][1].type==="paragraph";break}return x;function x(M){return!i.parser.lazy[i.now().line]&&(i.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),l=M,S(M)):n(M)}function S(M){return M===l?(e.consume(M),S):(e.exit("setextHeadingLineSequence"),to(e,P,"lineSuffix")(M))}function P(M){return M===null||yr(M)?(e.exit("setextHeadingLine"),t(M)):n(M)}}const KW={tokenize:ZW};function ZW(e){const t=this,n=e.attempt(qx,i,e.attempt(this.parser.constructs.flowInitial,s,to(e,e.attempt(this.parser.constructs.flow,s,e.attempt(rW,s)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const XW={resolveAll:tR()},YW=eR("string"),JW=eR("text");function eR(e){return{tokenize:t,resolveAll:tR(e==="text"?eK:void 0)};function t(n){const i=this,s=this.parser.constructs[e],l=n.attempt(s,o,x);return o;function o(M){return P(M)?l(M):x(M)}function x(M){if(M===null){n.consume(M);return}return n.enter("data"),n.consume(M),S}function S(M){return P(M)?(n.exit("data"),l(M)):(n.consume(M),S)}function P(M){if(M===null)return!0;const D=s[M];let z=-1;if(D)for(;++z<D.length;){const U=D[z];if(!U.previous||U.previous.call(i,i.previous))return!0}return!1}}}function tR(e){return t;function t(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,i):n}}function eK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let l=s.length,o=-1,x=0,S;for(;l--;){const P=s[l];if(typeof P=="string"){for(o=P.length;P.charCodeAt(o-1)===32;)x++,o--;if(o)break;o=-1}else if(P===-2)S=!0,x++;else if(P!==-1){l++;break}}if(x){const P={type:n===e.length||S||x<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-x,offset:i.end.offset-x,_index:i.start._index+l,_bufferIndex:l?o:i.start._bufferIndex+o},end:Object.assign({},i.end)};i.end=Object.assign({},P.start),i.start.offset===i.end.offset?Object.assign(i,P):(e.splice(n,0,["enter",P,t],["exit",P,t]),n+=2)}n++}return e}function tK(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},l=[];let o=[],x=[];const S={consume:X,enter:ne,exit:pe,attempt:we(me),check:we(oe),interrupt:we(oe,{interrupt:!0})},P={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:U,sliceSerialize:z,now:q,defineSkip:K,write:D};let M=t.tokenize.call(P,S);return t.resolveAll&&l.push(t),P;function D(qe){return o=Lu(o,qe),ee(),o[o.length-1]!==null?[]:(Ce(t,0),P.events=VE(l,P.events,P),P.events)}function z(qe,rt){return rK(U(qe),rt)}function U(qe){return nK(o,qe)}function q(){return Object.assign({},i)}function K(qe){s[qe.line]=qe.column,tt()}function ee(){let qe;for(;i._index<o.length;){const rt=o[i._index];if(typeof rt=="string")for(qe=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===qe&&i._bufferIndex<rt.length;)V(rt.charCodeAt(i._bufferIndex));else V(rt)}}function V(qe){M=M(qe)}function X(qe){yr(qe)?(i.line++,i.column=1,i.offset+=qe===-3?2:1,tt()):qe!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),P.previous=qe}function ne(qe,rt){const At=rt||{};return At.type=qe,At.start=q(),P.events.push(["enter",At,P]),x.push(At),At}function pe(qe){const rt=x.pop();return rt.end=q(),P.events.push(["exit",rt,P]),rt}function me(qe,rt){Ce(qe,rt.from)}function oe(qe,rt){rt.restore()}function we(qe,rt){return At;function At(Ot,Vt,Jt){let bn,st,Me,Le;return Array.isArray(Ot)?ge(Ot):"tokenize"in Ot?ge([Ot]):re(Ot);function re(dn){return Cn;function Cn($n){const Fn=$n!==null&&dn[$n],Yr=$n!==null&&dn.null,Vr=[...Array.isArray(Fn)?Fn:Fn?[Fn]:[],...Array.isArray(Yr)?Yr:Yr?[Yr]:[]];return ge(Vr)($n)}}function ge(dn){return bn=dn,st=0,dn.length===0?Jt:Mt(dn[st])}function Mt(dn){return Cn;function Cn($n){return Le=je(),Me=dn,dn.partial||(P.currentConstruct=dn),dn.name&&P.parser.constructs.disable.null.includes(dn.name)?vn():dn.tokenize.call(rt?Object.assign(Object.create(P),rt):P,S,en,vn)($n)}}function en(dn){return qe(Me,Le),Vt}function vn(dn){return Le.restore(),++st<bn.length?Mt(bn[st]):Jt}}}function Ce(qe,rt){qe.resolveAll&&!l.includes(qe)&&l.push(qe),qe.resolve&&Tf(P.events,rt,P.events.length-rt,qe.resolve(P.events.slice(rt),P)),qe.resolveTo&&(P.events=qe.resolveTo(P.events,P))}function je(){const qe=q(),rt=P.previous,At=P.currentConstruct,Ot=P.events.length,Vt=Array.from(x);return{restore:Jt,from:Ot};function Jt(){i=qe,P.previous=rt,P.currentConstruct=At,P.events.length=Ot,x=Vt,tt()}}function tt(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function nK(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let o;return n===s?o=[e[n].slice(i,l)]:(o=e.slice(n,s),i>-1&&(o[0]=o[0].slice(i)),l>0&&o.push(e[s].slice(0,l))),o}function rK(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(l)}s=l===-2,i.push(o)}return i.join("")}const iK={[42]:El,[43]:El,[45]:El,[48]:El,[49]:El,[50]:El,[51]:El,[52]:El,[53]:El,[54]:El,[55]:El,[56]:El,[57]:El,[62]:QL},oK={[91]:lW},aK={[-2]:Ww,[-1]:Ww,[32]:Ww},sK={[35]:AW,[42]:f_,[45]:[P8,f_],[60]:yW,[61]:P8,[95]:f_,[96]:E8,[126]:E8},lK={[38]:KL,[92]:WL},uK={[-5]:Kw,[-4]:Kw,[-3]:Kw,[33]:RW,[38]:KL,[42]:u4,[60]:[UQ,wW],[91]:FW,[92]:[pW,WL],[93]:qE,[95]:u4,[96]:YQ},cK={null:[u4,XW]},fK={null:[42,95]},pK={null:[]},hK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fK,contentInitial:oK,disable:pK,document:iK,flow:sK,flowInitial:aK,insideSpan:cK,string:lK,text:uK},Symbol.toStringTag,{value:"Module"}));function AK(e={}){const t=CQ([hK].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:i(LQ),document:i(DQ),flow:i(KW),string:i(YW),text:i(JW)};return n;function i(s){return l;function l(o){return tK(n,s,o)}}}const T8=/[\0\t\n\r]/g;function dK(){let e=1,t="",n=!0,i;return s;function s(l,o,x){const S=[];let P,M,D,z,U;for(l=t+l.toString(o),D=0,t="",n&&(l.charCodeAt(0)===65279&&D++,n=void 0);D<l.length;){if(T8.lastIndex=D,P=T8.exec(l),z=P&&P.index!==void 0?P.index:l.length,U=l.charCodeAt(z),!P){t=l.slice(D);break}if(U===10&&D===z&&i)S.push(-3),i=void 0;else switch(i&&(S.push(-5),i=void 0),D<z&&(S.push(l.slice(D,z)),e+=z-D),U){case 0:{S.push(65533),e++;break}case 9:{for(M=Math.ceil(e/4)*4,S.push(-2);e++<M;)S.push(-1);break}case 10:{S.push(-4),e=1;break}default:i=!0,e=1}D=z+1}return x&&(i&&S.push(-5),t&&S.push(t),S.push(null)),S}}function mK(e){for(;!ZL(e););return e}function nR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const gK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yK(e){return e.replace(gK,vK)}function vK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return nR(n.slice(l?2:1),l?16:10)}return HE(n)||e}const c4={}.hasOwnProperty,_K=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),xK(n)(mK(AK(n).document().write(dK()(e,t,!0))))};function xK(e={}){const t=rR({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:S(Kr),autolinkProtocol:rt,autolinkEmail:rt,atxHeading:S(Bi),blockQuote:S(Fi),characterEscape:rt,characterReference:rt,codeFenced:S(jn),codeFencedFenceInfo:P,codeFencedFenceMeta:P,codeIndented:S(jn,P),codeText:S(mi,P),codeTextData:rt,data:rt,codeFlowValue:rt,definition:S(gi),definitionDestinationString:P,definitionLabelString:P,definitionTitleString:P,emphasis:S(Go),hardBreakEscape:S(Wi),hardBreakTrailing:S(Wi),htmlFlow:S(Ss,P),htmlFlowData:rt,htmlText:S(Ss,P),htmlTextData:rt,image:S(ro),label:P,link:S(Kr),listItem:S(io),listItemValue:K,listOrdered:S(Lo,q),listUnordered:S(Lo),paragraph:S(bi),reference:dn,referenceString:P,resourceDestinationString:P,resourceTitleString:P,setextHeading:S(Bi),strong:S(Ro),thematicBreak:S(vt)},exit:{atxHeading:D(),atxHeadingSequence:Ce,autolink:D(),autolinkEmail:Vr,autolinkProtocol:Yr,blockQuote:D(),characterEscapeValue:At,characterReferenceMarkerHexadecimal:$n,characterReferenceMarkerNumeric:$n,characterReferenceValue:Fn,codeFenced:D(ne),codeFencedFence:X,codeFencedFenceInfo:ee,codeFencedFenceMeta:V,codeFlowValue:At,codeIndented:D(pe),codeText:D(st),codeTextData:At,data:At,definition:D(),definitionDestinationString:we,definitionLabelString:me,definitionTitleString:oe,emphasis:D(),hardBreakEscape:D(Vt),hardBreakTrailing:D(Vt),htmlFlow:D(Jt),htmlFlowData:At,htmlText:D(bn),htmlTextData:At,image:D(Le),label:ge,labelText:re,lineEnding:Ot,link:D(Me),listItem:D(),listOrdered:D(),listUnordered:D(),paragraph:D(),referenceString:Cn,resourceDestinationString:Mt,resourceTitleString:en,resource:vn,setextHeading:D(qe),setextHeadingLineSequence:tt,setextHeadingText:je,strong:D(),thematicBreak:D()}},e.mdastExtensions||[]),n={};return i;function i(be){let Je={type:"root",children:[]};const Ct=[Je],ln=[],Gn=[],Mr={stack:Ct,tokenStack:ln,config:t,enter:M,exit:z,buffer:P,resume:U,setData:l,getData:o};let Mn=-1;for(;++Mn<be.length;)if(be[Mn][1].type==="listOrdered"||be[Mn][1].type==="listUnordered")if(be[Mn][0]==="enter")Gn.push(Mn);else{const nr=Gn.pop();Mn=s(be,nr,Mn)}for(Mn=-1;++Mn<be.length;){const nr=t[be[Mn][0]];c4.call(nr,be[Mn][1].type)&&nr[be[Mn][1].type].call(Object.assign({sliceSerialize:be[Mn][2].sliceSerialize},Mr),be[Mn][1])}if(ln.length>0){const nr=ln[ln.length-1];(nr[1]||I8).call(Mr,void 0,nr[0])}for(Je.position={start:x(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:x(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},Mn=-1;++Mn<t.transforms.length;)Je=t.transforms[Mn](Je)||Je;return Je}function s(be,Je,Ct){let ln=Je-1,Gn=-1,Mr=!1,Mn,nr,Hr,Jr;for(;++ln<=Ct;){const mr=be[ln];if(mr[1].type==="listUnordered"||mr[1].type==="listOrdered"||mr[1].type==="blockQuote"?(mr[0]==="enter"?Gn++:Gn--,Jr=void 0):mr[1].type==="lineEndingBlank"?mr[0]==="enter"&&(Mn&&!Jr&&!Gn&&!Hr&&(Hr=ln),Jr=void 0):mr[1].type==="linePrefix"||mr[1].type==="listItemValue"||mr[1].type==="listItemMarker"||mr[1].type==="listItemPrefix"||mr[1].type==="listItemPrefixWhitespace"||(Jr=void 0),!Gn&&mr[0]==="enter"&&mr[1].type==="listItemPrefix"||Gn===-1&&mr[0]==="exit"&&(mr[1].type==="listUnordered"||mr[1].type==="listOrdered")){if(Mn){let Co=ln;for(nr=void 0;Co--;){const ei=be[Co];if(ei[1].type==="lineEnding"||ei[1].type==="lineEndingBlank"){if(ei[0]==="exit")continue;nr&&(be[nr][1].type="lineEndingBlank",Mr=!0),ei[1].type="lineEnding",nr=Co}else if(!(ei[1].type==="linePrefix"||ei[1].type==="blockQuotePrefix"||ei[1].type==="blockQuotePrefixWhitespace"||ei[1].type==="blockQuoteMarker"||ei[1].type==="listItemIndent"))break}Hr&&(!nr||Hr<nr)&&(Mn._spread=!0),Mn.end=Object.assign({},nr?be[nr][1].start:mr[1].end),be.splice(nr||ln,0,["exit",Mn,mr[2]]),ln++,Ct++}mr[1].type==="listItemPrefix"&&(Mn={type:"listItem",_spread:!1,start:Object.assign({},mr[1].start)},be.splice(ln,0,["enter",Mn,mr[2]]),ln++,Ct++,Hr=void 0,Jr=!0)}}return be[Je][1]._spread=Mr,Ct}function l(be,Je){n[be]=Je}function o(be){return n[be]}function x(be){return{line:be.line,column:be.column,offset:be.offset}}function S(be,Je){return Ct;function Ct(ln){M.call(this,be(ln),ln),Je&&Je.call(this,ln)}}function P(){this.stack.push({type:"fragment",children:[]})}function M(be,Je,Ct){return this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Je,Ct]),be.position={start:x(Je.start)},be}function D(be){return Je;function Je(Ct){be&&be.call(this,Ct),z.call(this,Ct)}}function z(be,Je){const Ct=this.stack.pop(),ln=this.tokenStack.pop();if(ln)ln[0].type!==be.type&&(Je?Je.call(this,be,ln[0]):(ln[1]||I8).call(this,be,ln[0]));else throw new Error("Cannot close `"+be.type+"` ("+Eg({start:be.start,end:be.end})+"): it’s not open");return Ct.position.end=x(be.end),Ct}function U(){return SQ(this.stack.pop())}function q(){l("expectingFirstListItemValue",!0)}function K(be){if(o("expectingFirstListItemValue")){const Je=this.stack[this.stack.length-2];Je.start=Number.parseInt(this.sliceSerialize(be),10),l("expectingFirstListItemValue")}}function ee(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.lang=be}function V(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.meta=be}function X(){o("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function ne(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function pe(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be.replace(/(\r?\n|\r)$/g,"")}function me(be){const Je=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=Je,Ct.identifier=O0(this.sliceSerialize(be)).toLowerCase()}function oe(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.title=be}function we(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.url=be}function Ce(be){const Je=this.stack[this.stack.length-1];if(!Je.depth){const Ct=this.sliceSerialize(be).length;Je.depth=Ct}}function je(){l("setextHeadingSlurpLineEnding",!0)}function tt(be){const Je=this.stack[this.stack.length-1];Je.depth=this.sliceSerialize(be).charCodeAt(0)===61?1:2}function qe(){l("setextHeadingSlurpLineEnding")}function rt(be){const Je=this.stack[this.stack.length-1];let Ct=Je.children[Je.children.length-1];(!Ct||Ct.type!=="text")&&(Ct=la(),Ct.position={start:x(be.start)},Je.children.push(Ct)),this.stack.push(Ct)}function At(be){const Je=this.stack.pop();Je.value+=this.sliceSerialize(be),Je.position.end=x(be.end)}function Ot(be){const Je=this.stack[this.stack.length-1];if(o("atHardBreak")){const Ct=Je.children[Je.children.length-1];Ct.position.end=x(be.end),l("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Je.type)&&(rt.call(this,be),At.call(this,be))}function Vt(){l("atHardBreak",!0)}function Jt(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function bn(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function st(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.value=be}function Me(){const be=this.stack[this.stack.length-1];o("inReference")?(be.type+="Reference",be.referenceType=o("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function Le(){const be=this.stack[this.stack.length-1];o("inReference")?(be.type+="Reference",be.referenceType=o("referenceType")||"shortcut",delete be.url,delete be.title):(delete be.identifier,delete be.label),l("referenceType")}function re(be){const Je=this.stack[this.stack.length-2],Ct=this.sliceSerialize(be);Je.label=yK(Ct),Je.identifier=O0(Ct).toLowerCase()}function ge(){const be=this.stack[this.stack.length-1],Je=this.resume(),Ct=this.stack[this.stack.length-1];l("inReference",!0),Ct.type==="link"?Ct.children=be.children:Ct.alt=Je}function Mt(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.url=be}function en(){const be=this.resume(),Je=this.stack[this.stack.length-1];Je.title=be}function vn(){l("inReference")}function dn(){l("referenceType","collapsed")}function Cn(be){const Je=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=Je,Ct.identifier=O0(this.sliceSerialize(be)).toLowerCase(),l("referenceType","full")}function $n(be){l("characterReferenceType",be.type)}function Fn(be){const Je=this.sliceSerialize(be),Ct=o("characterReferenceType");let ln;Ct?(ln=nR(Je,Ct==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):ln=HE(Je);const Gn=this.stack.pop();Gn.value+=ln,Gn.position.end=x(be.end)}function Yr(be){At.call(this,be);const Je=this.stack[this.stack.length-1];Je.url=this.sliceSerialize(be)}function Vr(be){At.call(this,be);const Je=this.stack[this.stack.length-1];Je.url="mailto:"+this.sliceSerialize(be)}function Fi(){return{type:"blockquote",children:[]}}function jn(){return{type:"code",lang:null,meta:null,value:""}}function mi(){return{type:"inlineCode",value:""}}function gi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Go(){return{type:"emphasis",children:[]}}function Bi(){return{type:"heading",depth:void 0,children:[]}}function Wi(){return{type:"break"}}function Ss(){return{type:"html",value:""}}function ro(){return{type:"image",title:null,url:"",alt:null}}function Kr(){return{type:"link",title:null,url:"",children:[]}}function Lo(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function io(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function bi(){return{type:"paragraph",children:[]}}function Ro(){return{type:"strong",children:[]}}function la(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function rR(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?rR(e,i):bK(e,i)}return e}function bK(e,t){let n;for(n in t)if(c4.call(t,n)){const i=n==="canContainEols"||n==="transforms",l=(c4.call(e,n)?e[n]:void 0)||(e[n]=i?[]:{}),o=t[n];o&&(i?e[n]=[...l,...o]:Object.assign(l,o))}}function I8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Eg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Eg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Eg({start:t.start,end:t.end})+") is still open")}function wK(e){Object.assign(this,{Parser:n=>{const i=this.data("settings");return _K(n,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Na=function(e,t,n){var i={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(i,t),Array.isArray(n)?i.children=n:n!=null&&(i.value=String(n)),i};const p_={}.hasOwnProperty;function SK(e,t){const n=t.data||{};return"value"in t&&!(p_.call(n,"hName")||p_.call(n,"hProperties")||p_.call(n,"hChildren"))?e.augment(t,Na("text",t.value)):e(t,"div",Ns(e,t))}function iR(e,t,n){const i=t&&t.type;let s;if(!i)throw new Error("Expected node, got `"+t+"`");return p_.call(e.handlers,i)?s=e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?s=CK:s=e.unknownHandler,(typeof s=="function"?s:SK)(e,t,n)}function CK(e,t){return"children"in t?{...t,children:Ns(e,t)}:t}function Ns(e,t){const n=[];if("children"in t){const i=t.children;let s=-1;for(;++s<i.length;){const l=iR(e,i[s],t);if(l){if(s&&i[s-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const o=l.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}const oR=function(e){if(e==null)return TK;if(typeof e=="string")return PK(e);if(typeof e=="object")return Array.isArray(e)?EK(e):kK(e);if(typeof e=="function")return Gx(e);throw new Error("Expected function, string, or object as test")};function EK(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=oR(e[n]);return Gx(i);function i(...s){let l=-1;for(;++l<t.length;)if(t[l].call(this,...s))return!0;return!1}}function kK(e){return Gx(t);function t(n){let i;for(i in e)if(n[i]!==e[i])return!1;return!0}}function PK(e){return Gx(t);function t(n){return n&&n.type===e}}function Gx(e){return t;function t(...n){return Boolean(e.call(this,...n))}}function TK(){return!0}const IK=!0,OK="skip",O8=!1,MK=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null);const s=oR(t),l=i?-1:1;o(e,null,[])();function o(x,S,P){const M=typeof x=="object"&&x!==null?x:{};let D;return typeof M.type=="string"&&(D=typeof M.tagName=="string"?M.tagName:typeof M.name=="string"?M.name:void 0,Object.defineProperty(z,"name",{value:"node ("+(M.type+(D?"<"+D+">":""))+")"})),z;function z(){let U=[],q,K,ee;if((!t||s(x,S,P[P.length-1]||null))&&(U=LK(n(x,P)),U[0]===O8))return U;if(x.children&&U[0]!==OK)for(K=(i?x.children.length:-1)+l,ee=P.concat(x);K>-1&&K<x.children.length;){if(q=o(x.children[K],K,ee)(),q[0]===O8)return q;K=typeof q[1]=="number"?q[1]:K+l}return U}}};function LK(e){return Array.isArray(e)?e:typeof e=="number"?[IK,e]:[e]}const GE=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null),MK(e,t,s,i);function s(l,o){const x=o[o.length-1];return n(l,x?x.children.indexOf(l):null,x)}},aR=lR("start"),sR=lR("end");function lR(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function RK(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const M8={}.hasOwnProperty;function DK(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return GE(e,"definition",i=>{const s=L8(i.identifier);s&&!M8.call(t,s)&&(t[s]=i)}),n;function n(i){const s=L8(i);return s&&M8.call(t,s)?t[s]:null}}function L8(e){return String(e||"").toUpperCase()}const FK={'"':"quot","&":"amp","<":"lt",">":"gt"};function BK(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+FK[n]+";"}}function uR(e,t){const n=BK(zK(e||""));if(!t)return n;const i=n.indexOf(":"),s=n.indexOf("?"),l=n.indexOf("#"),o=n.indexOf("/");return i<0||o>-1&&i>o||s>-1&&i>s||l>-1&&i>l||t.test(n.slice(0,i))?n:""}function zK(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Jl(e.charCodeAt(n+1))&&Jl(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const x=e.charCodeAt(n+1);l<56320&&x>56319&&x<57344?(o=String.fromCharCode(l,x),s=1):o="�"}else o=String.fromCharCode(l);o&&(t.push(e.slice(i,n),encodeURIComponent(o)),i=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function Ep(e,t){const n=[];let i=-1;for(t&&n.push(Na("text",`
`));++i<e.length;)i&&n.push(Na("text",`
`)),n.push(e[i]);return t&&e.length>0&&n.push(Na("text",`
`)),n}function NK(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const s=Ns(e,i),l=String(i.identifier),o=uR(l.toLowerCase());let x=0;const S=[];for(;++x<=e.footnoteCounts[l];){const D={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(x>1?"-"+x:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};x>1&&D.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(x)}]}),S.length>0&&S.push({type:"text",value:" "}),S.push(D)}const P=s[s.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const D=P.children[P.children.length-1];D&&D.type==="text"?D.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...S)}else s.push(...S);const M={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:Ep(s,!0)};i.position&&(M.position=i.position),n.push(M)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Na("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Ep(n,!0)},{type:"text",value:`
`}]}}function UK(e,t){return e(t,"blockquote",Ep(Ns(e,t),!0))}function $K(e,t){return[e(t,"br"),Na("text",`
`)]}function jK(e,t){const n=t.value?t.value+`
`:"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};i&&(s.className=["language-"+i]);const l=e(t,"code",s,[Na("text",n)]);return t.meta&&(l.data={meta:t.meta}),e(t.position,"pre",[l])}function VK(e,t){return e(t,"del",Ns(e,t))}function HK(e,t){return e(t,"em",Ns(e,t))}function cR(e,t){const n=String(t.identifier),i=uR(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l;s===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,l=e.footnoteOrder.length):(e.footnoteCounts[n]++,l=s+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Na("text",String(l))])])}function qK(e,t){const n=e.footnoteById;let i=1;for(;i in n;)i++;const s=String(i);return n[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:t.children}],position:t.position},cR(e,{type:"footnoteReference",identifier:s,position:t.position})}function GK(e,t){return e(t,"h"+t.depth,Ns(e,t))}function QK(e,t){return e.dangerous?e.augment(t,Na("raw",t.value)):null}var R8={};function WK(e){var t,n,i=R8[e];if(i)return i;for(i=R8[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function Qx(e,t,n){var i,s,l,o,x,S="";for(typeof t!="string"&&(n=t,t=Qx.defaultChars),typeof n>"u"&&(n=!0),x=WK(t),i=0,s=e.length;i<s;i++){if(l=e.charCodeAt(i),n&&l===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){S+=e.slice(i,i+3),i+=2;continue}if(l<128){S+=x[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<s&&(o=e.charCodeAt(i+1),o>=56320&&o<=57343)){S+=encodeURIComponent(e[i]+e[i+1]),i++;continue}S+="%EF%BF%BD";continue}S+=encodeURIComponent(e[i])}return S}Qx.defaultChars=";/?:@&=+$,-_.!~*'()#";Qx.componentChars="-_.!~*'()";var Wx=Qx;function fR(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Na("text","!["+t.alt+i);const s=Ns(e,t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift(Na("text","["));const o=s[s.length-1];return o&&o.type==="text"?o.value+=i:s.push(Na("text",i)),s}function KK(e,t){const n=e.definition(t.identifier);if(!n)return fR(e,t);const i={src:Wx(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"img",i)}function ZK(e,t){const n={src:Wx(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function XK(e,t){return e(t,"code",[Na("text",t.value.replace(/\r?\n|\r/g," "))])}function YK(e,t){const n=e.definition(t.identifier);if(!n)return fR(e,t);const i={href:Wx(n.url||"")};return n.title!==null&&n.title!==void 0&&(i.title=n.title),e(t,"a",i,Ns(e,t))}function JK(e,t){const n={href:Wx(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,Ns(e,t))}function eZ(e,t,n){const i=Ns(e,t),s=n?tZ(n):pR(t),l={},o=[];if(typeof t.checked=="boolean"){let P;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?P=i[0]:(P=e(null,"p",[]),i.unshift(P)),P.children.length>0&&P.children.unshift(Na("text"," ")),P.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),l.className=["task-list-item"]}let x=-1;for(;++x<i.length;){const P=i[x];(s||x!==0||P.type!=="element"||P.tagName!=="p")&&o.push(Na("text",`
`)),P.type==="element"&&P.tagName==="p"&&!s?o.push(...P.children):o.push(P)}const S=i[i.length-1];return S&&(s||!("tagName"in S)||S.tagName!=="p")&&o.push(Na("text",`
`)),e(t,"li",l,o)}function tZ(e){let t=e.spread;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=pR(n[i]);return Boolean(t)}function pR(e){const t=e.spread;return t??e.children.length>1}function nZ(e,t){const n={},i=t.ordered?"ol":"ul",s=Ns(e,t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<s.length;){const o=s[l];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,i,n,Ep(s,!0))}function rZ(e,t){return e(t,"p",Ns(e,t))}function iZ(e,t){return e.augment(t,Na("root",Ep(Ns(e,t))))}function oZ(e,t){return e(t,"strong",Ns(e,t))}function aZ(e,t){const n=t.children;let i=-1;const s=t.align||[],l=[];for(;++i<n.length;){const o=n[i].children,x=i===0?"th":"td",S=[];let P=-1;const M=t.align?s.length:o.length;for(;++P<M;){const D=o[P];S.push(e(D,x,{align:s[P]},D?Ns(e,D):[]))}l[i]=e(n[i],"tr",Ep(S,!0))}return e(t,"table",Ep([e(l[0].position,"thead",Ep([l[0]],!0))].concat(l[1]?e({start:aR(l[1]),end:sR(l[l.length-1])},"tbody",Ep(l.slice(1),!0)):[]),!0))}const D8=9,F8=32;function sZ(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const l=[];for(;i;)l.push(B8(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return l.push(B8(t.slice(s),s>0,!1)),l.join("")}function B8(e,t,n){let i=0,s=e.length;if(t){let l=e.codePointAt(i);for(;l===D8||l===F8;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(s-1);for(;l===D8||l===F8;)s--,l=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function lZ(e,t){return e.augment(t,Na("text",sZ(String(t.value))))}function uZ(e,t){return e(t,"hr")}const cZ={blockquote:UK,break:$K,code:jK,delete:VK,emphasis:HK,footnoteReference:cR,footnote:qK,heading:GK,html:QK,imageReference:KK,image:ZK,inlineCode:XK,linkReference:YK,link:JK,listItem:eZ,list:nZ,paragraph:rZ,root:iZ,strong:oZ,table:aZ,text:lZ,thematicBreak:uZ,toml:T1,yaml:T1,definition:T1,footnoteDefinition:T1};function T1(){return null}const fZ={}.hasOwnProperty;function pZ(e,t){const n=t||{},i=n.allowDangerousHtml||!1,s={};return o.dangerous=i,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=DK(e),o.footnoteById=s,o.footnoteOrder=[],o.footnoteCounts={},o.augment=l,o.handlers={...cZ,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,GE(e,"footnoteDefinition",x=>{const S=String(x.identifier).toUpperCase();fZ.call(s,S)||(s[S]=x)}),o;function l(x,S){if(x&&"data"in x&&x.data){const P=x.data;P.hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=P.hName),S.type==="element"&&P.hProperties&&(S.properties={...S.properties,...P.hProperties}),"children"in S&&S.children&&P.hChildren&&(S.children=P.hChildren)}if(x){const P="type"in x?x:{position:x};RK(P)||(S.position={start:aR(P),end:sR(P)})}return S}function o(x,S,P,M){return Array.isArray(P)&&(M=P,P={}),l(x,{type:"element",tagName:S,properties:P||{},children:M||[]})}}function hR(e,t){const n=pZ(e,t),i=iR(n,e,null),s=NK(n);return s&&i.children.push(Na("text",`
`),s),Array.isArray(i)?{type:"root",children:i}:i}const hZ=function(e,t){return e&&"run"in e?dZ(e,t):mZ(e||t)},AZ=hZ;function dZ(e,t){return(n,i,s)=>{e.run(hR(n,t),i,l=>{s(l)})}}function mZ(e){return t=>hR(t,e)}class Fy{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}Fy.prototype.property={};Fy.prototype.normal={};Fy.prototype.space=null;function AR(e,t){const n={},i={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(i,e[s].normal);return new Fy(n,i,t)}function f4(e){return e.toLowerCase()}class Gu{constructor(t,n){this.property=t,this.attribute=n}}Gu.prototype.space=null;Gu.prototype.boolean=!1;Gu.prototype.booleanish=!1;Gu.prototype.overloadedBoolean=!1;Gu.prototype.number=!1;Gu.prototype.commaSeparated=!1;Gu.prototype.spaceSeparated=!1;Gu.prototype.commaOrSpaceSeparated=!1;Gu.prototype.mustUseProperty=!1;Gu.prototype.defined=!1;let gZ=0;const zr=ld(),Ta=ld(),dR=ld(),sn=ld(),wo=ld(),M0=ld(),Ql=ld();function ld(){return 2**++gZ}const p4=Object.freeze(Object.defineProperty({__proto__:null,boolean:zr,booleanish:Ta,commaOrSpaceSeparated:Ql,commaSeparated:M0,number:sn,overloadedBoolean:dR,spaceSeparated:wo},Symbol.toStringTag,{value:"Module"})),Zw=Object.keys(p4);class QE extends Gu{constructor(t,n,i,s){let l=-1;if(super(t,n),z8(this,"space",s),typeof i=="number")for(;++l<Zw.length;){const o=Zw[l];z8(this,Zw[l],(i&p4[o])===p4[o])}}}QE.prototype.defined=!0;function z8(e,t,n){n&&(e[t]=n)}const yZ={}.hasOwnProperty;function em(e){const t={},n={};let i;for(i in e.properties)if(yZ.call(e.properties,i)){const s=e.properties[i],l=new QE(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[f4(i)]=i,n[f4(l.attribute)]=i}return new Fy(t,n,e.space)}const mR=em({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),gR=em({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yR(e,t){return t in e?e[t]:t}function vR(e,t){return yR(e,t.toLowerCase())}const _R=em({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:vR,properties:{xmlns:null,xmlnsXLink:null}}),xR=em({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ta,ariaAutoComplete:null,ariaBusy:Ta,ariaChecked:Ta,ariaColCount:sn,ariaColIndex:sn,ariaColSpan:sn,ariaControls:wo,ariaCurrent:null,ariaDescribedBy:wo,ariaDetails:null,ariaDisabled:Ta,ariaDropEffect:wo,ariaErrorMessage:null,ariaExpanded:Ta,ariaFlowTo:wo,ariaGrabbed:Ta,ariaHasPopup:null,ariaHidden:Ta,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wo,ariaLevel:sn,ariaLive:null,ariaModal:Ta,ariaMultiLine:Ta,ariaMultiSelectable:Ta,ariaOrientation:null,ariaOwns:wo,ariaPlaceholder:null,ariaPosInSet:sn,ariaPressed:Ta,ariaReadOnly:Ta,ariaRelevant:null,ariaRequired:Ta,ariaRoleDescription:wo,ariaRowCount:sn,ariaRowIndex:sn,ariaRowSpan:sn,ariaSelected:Ta,ariaSetSize:sn,ariaSort:null,ariaValueMax:sn,ariaValueMin:sn,ariaValueNow:sn,ariaValueText:null,role:null}}),vZ=em({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:vR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:M0,acceptCharset:wo,accessKey:wo,action:null,allow:null,allowFullScreen:zr,allowPaymentRequest:zr,allowUserMedia:zr,alt:null,as:null,async:zr,autoCapitalize:null,autoComplete:wo,autoFocus:zr,autoPlay:zr,capture:zr,charSet:null,checked:zr,cite:null,className:wo,cols:sn,colSpan:null,content:null,contentEditable:Ta,controls:zr,controlsList:wo,coords:sn|M0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zr,defer:zr,dir:null,dirName:null,disabled:zr,download:dR,draggable:Ta,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zr,formTarget:null,headers:wo,height:sn,hidden:zr,high:sn,href:null,hrefLang:null,htmlFor:wo,httpEquiv:wo,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:zr,itemId:null,itemProp:wo,itemRef:wo,itemScope:zr,itemType:wo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zr,low:sn,manifest:null,max:null,maxLength:sn,media:null,method:null,min:null,minLength:sn,multiple:zr,muted:zr,name:null,nonce:null,noModule:zr,noValidate:zr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zr,optimum:sn,pattern:null,ping:wo,placeholder:null,playsInline:zr,poster:null,preload:null,readOnly:zr,referrerPolicy:null,rel:wo,required:zr,reversed:zr,rows:sn,rowSpan:sn,sandbox:wo,scope:null,scoped:zr,seamless:zr,selected:zr,shape:null,size:sn,sizes:null,slot:null,span:sn,spellCheck:Ta,src:null,srcDoc:null,srcLang:null,srcSet:null,start:sn,step:null,style:null,tabIndex:sn,target:null,title:null,translate:null,type:null,typeMustMatch:zr,useMap:null,value:Ta,width:sn,wrap:null,align:null,aLink:null,archive:wo,axis:null,background:null,bgColor:null,border:sn,borderColor:null,bottomMargin:sn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zr,declare:zr,event:null,face:null,frame:null,frameBorder:null,hSpace:sn,leftMargin:sn,link:null,longDesc:null,lowSrc:null,marginHeight:sn,marginWidth:sn,noResize:zr,noHref:zr,noShade:zr,noWrap:zr,object:null,profile:null,prompt:null,rev:null,rightMargin:sn,rules:null,scheme:null,scrolling:Ta,standby:null,summary:null,text:null,topMargin:sn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:sn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zr,disableRemotePlayback:zr,prefix:null,property:null,results:sn,security:null,unselectable:null}}),_Z=em({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yR,properties:{about:Ql,accentHeight:sn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:sn,amplitude:sn,arabicForm:null,ascent:sn,attributeName:null,attributeType:null,azimuth:sn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:sn,by:null,calcMode:null,capHeight:sn,className:wo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:sn,diffuseConstant:sn,direction:null,display:null,dur:null,divisor:sn,dominantBaseline:null,download:zr,dx:null,dy:null,edgeMode:null,editable:null,elevation:sn,enableBackground:null,end:null,event:null,exponent:sn,externalResourcesRequired:null,fill:null,fillOpacity:sn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:M0,g2:M0,glyphName:M0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:sn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:sn,horizOriginX:sn,horizOriginY:sn,id:null,ideographic:sn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:sn,k:sn,k1:sn,k2:sn,k3:sn,k4:sn,kernelMatrix:Ql,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:sn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:sn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:sn,overlineThickness:sn,paintOrder:null,panose1:null,path:null,pathLength:sn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:sn,pointsAtY:sn,pointsAtZ:sn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ql,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ql,rev:Ql,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ql,requiredFeatures:Ql,requiredFonts:Ql,requiredFormats:Ql,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:sn,specularExponent:sn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:sn,strikethroughThickness:sn,string:null,stroke:null,strokeDashArray:Ql,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:sn,strokeOpacity:sn,strokeWidth:null,style:null,surfaceScale:sn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ql,tabIndex:sn,tableValues:null,target:null,targetX:sn,targetY:sn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ql,to:null,transform:null,u1:null,u2:null,underlinePosition:sn,underlineThickness:sn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:sn,values:null,vAlphabetic:sn,vMathematical:sn,vectorEffect:null,vHanging:sn,vIdeographic:sn,version:null,vertAdvY:sn,vertOriginX:sn,vertOriginY:sn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:sn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),xZ=/^data[-\w.:]+$/i,N8=/-[a-z]/g,bZ=/[A-Z]/g;function wZ(e,t){const n=f4(t);let i=t,s=Gu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xZ.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(N8,CZ);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!N8.test(l)){let o=l.replace(bZ,SZ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=QE}return new s(i,t)}function SZ(e){return"-"+e.toLowerCase()}function CZ(e){return e.charAt(1).toUpperCase()}const U8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EZ=AR([gR,mR,_R,xR,vZ],"html"),kZ=AR([gR,mR,_R,xR,_Z],"svg");function PZ(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{GE(t,"element",(n,i,s)=>{const l=s;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof i=="number"&&(o=!e.allowElement(n,i,l)),o&&typeof i=="number")return e.unwrapDisallowed&&n.children?l.children.splice(i,1,...n.children):l.children.splice(i,1),i})}}function TZ(e){var t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function IZ(e){return e.join(" ").trim()}function OZ(e,t){var n=t||{};return e[e.length-1]===""&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var f2={},MZ={get exports(){return f2},set exports(e){f2=e}},$8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,LZ=/\n/g,RZ=/^\s*/,DZ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,FZ=/^:\s*/,BZ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,zZ=/^[;\s]*/,NZ=/^\s+|\s+$/g,UZ=`
`,j8="/",V8="*",RA="",$Z="comment",jZ="declaration",VZ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function s(q){var K=q.match(LZ);K&&(n+=K.length);var ee=q.lastIndexOf(UZ);i=~ee?q.length-ee:i+q.length}function l(){var q={line:n,column:i};return function(K){return K.position=new o(q),P(),K}}function o(q){this.start=q,this.end={line:n,column:i},this.source=t.source}o.prototype.content=e;function x(q){var K=new Error(t.source+":"+n+":"+i+": "+q);if(K.reason=q,K.filename=t.source,K.line=n,K.column=i,K.source=e,!t.silent)throw K}function S(q){var K=q.exec(e);if(K){var ee=K[0];return s(ee),e=e.slice(ee.length),K}}function P(){S(RZ)}function M(q){var K;for(q=q||[];K=D();)K!==!1&&q.push(K);return q}function D(){var q=l();if(!(j8!=e.charAt(0)||V8!=e.charAt(1))){for(var K=2;RA!=e.charAt(K)&&(V8!=e.charAt(K)||j8!=e.charAt(K+1));)++K;if(K+=2,RA===e.charAt(K-1))return x("End of comment missing");var ee=e.slice(2,K-2);return i+=2,s(ee),e=e.slice(K),i+=2,q({type:$Z,comment:ee})}}function z(){var q=l(),K=S(DZ);if(K){if(D(),!S(FZ))return x("property missing ':'");var ee=S(BZ),V=q({type:jZ,property:H8(K[0].replace($8,RA)),value:ee?H8(ee[0].replace($8,RA)):RA});return S(zZ),V}}function U(){var q=[];M(q);for(var K;K=z();)K!==!1&&(q.push(K),M(q));return q}return P(),U()};function H8(e){return e?e.replace(NZ,RA):RA}var HZ=VZ;function bR(e,t){var n=null;if(!e||typeof e!="string")return n;for(var i,s=HZ(e),l=typeof t=="function",o,x,S=0,P=s.length;S<P;S++)i=s[S],o=i.property,x=i.value,l?t(o,x,i):x&&(n||(n={}),n[o]=x);return n}MZ.exports=bR;f2.default=bR;const qZ=f2,h4={}.hasOwnProperty,GZ=new Set(["table","thead","tbody","tfoot","tr"]);function wR(e,t){const n=[];let i=-1,s;for(;++i<t.children.length;)s=t.children[i],s.type==="element"?n.push(QZ(e,s,i,t)):s.type==="text"?(t.type!=="element"||!GZ.has(t.tagName)||!TZ(s))&&n.push(s.value):s.type==="raw"&&!e.options.skipHtml&&n.push(s.value);return n}function QZ(e,t,n,i){const s=e.options,l=s.transformLinkUri===void 0?sQ:s.transformLinkUri,o=e.schema,x=t.tagName,S={};let P=o,M;if(o.space==="html"&&x==="svg"&&(P=kZ,e.schema=P),t.properties)for(M in t.properties)h4.call(t.properties,M)&&KZ(S,M,t.properties[M],e);(x==="ol"||x==="ul")&&e.listDepth++;const D=wR(e,t);(x==="ol"||x==="ul")&&e.listDepth--,e.schema=o;const z=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},U=s.components&&h4.call(s.components,x)?s.components[x]:x,q=typeof U=="string"||U===qn.Fragment;if(!tG.isValidElementType(U))throw new TypeError(`Component for name \`${x}\` not defined or is not renderable`);if(S.key=[x,z.start.line,z.start.column,n].join("-"),x==="a"&&s.linkTarget&&(S.target=typeof s.linkTarget=="function"?s.linkTarget(String(S.href||""),t.children,typeof S.title=="string"?S.title:null):s.linkTarget),x==="a"&&l&&(S.href=l(String(S.href||""),t.children,typeof S.title=="string"?S.title:null)),!q&&x==="code"&&i.type==="element"&&i.tagName!=="pre"&&(S.inline=!0),!q&&(x==="h1"||x==="h2"||x==="h3"||x==="h4"||x==="h5"||x==="h6")&&(S.level=Number.parseInt(x.charAt(1),10)),x==="img"&&s.transformImageUri&&(S.src=s.transformImageUri(String(S.src||""),String(S.alt||""),typeof S.title=="string"?S.title:null)),!q&&x==="li"&&i.type==="element"){const K=WZ(t);S.checked=K&&K.properties?Boolean(K.properties.checked):null,S.index=Xw(i,t),S.ordered=i.tagName==="ol"}return!q&&(x==="ol"||x==="ul")&&(S.ordered=x==="ol",S.depth=e.listDepth),(x==="td"||x==="th")&&(S.align&&(S.style||(S.style={}),S.style.textAlign=S.align,delete S.align),q||(S.isHeader=x==="th")),!q&&x==="tr"&&i.type==="element"&&(S.isHeader=Boolean(i.tagName==="thead")),s.sourcePos&&(S["data-sourcepos"]=YZ(z)),!q&&s.rawSourcePos&&(S.sourcePosition=t.position),!q&&s.includeElementIndex&&(S.index=Xw(i,t),S.siblingCount=Xw(i)),q||(S.node=t),D.length>0?qn.createElement(U,S,D):qn.createElement(U,S)}function WZ(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function Xw(e,t){let n=-1,i=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&i++;return i}function KZ(e,t,n,i){const s=wZ(i.schema,t);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=s.commaSeparated?OZ(l):IZ(l)),s.property==="style"&&typeof l=="string"&&(l=ZZ(l)),s.space&&s.property?e[h4.call(U8,s.property)?U8[s.property]:s.property]=l:s.attribute&&(e[s.attribute]=l))}function ZZ(e){const t={};try{qZ(e,n)}catch{}return t;function n(i,s){const l=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[l.replace(/-([a-z])/g,XZ)]=s}}function XZ(e,t){return t.toUpperCase()}function YZ(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const q8={}.hasOwnProperty,JZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",I1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function SR(e){for(const l in I1)if(q8.call(I1,l)&&q8.call(e,l)){const o=I1[l];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${l}\` (see <${JZ}#${o.id}> for more info)`),delete I1[l]}const t=_Q().use(wK).use(e.remarkPlugins||[]).use(AZ,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(PZ,e),n=new jL;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(n),n);if(i.type!=="root")throw new TypeError("Expected a `root` node");let s=qn.createElement(qn.Fragment,{},wR({options:e,schema:EZ,listDepth:0},i));return e.className&&(s=qn.createElement("div",{className:e.className},s)),s}SR.propTypes={children:ur.string,className:ur.string,allowElement:ur.func,allowedElements:ur.arrayOf(ur.string),disallowedElements:ur.arrayOf(ur.string),unwrapDisallowed:ur.bool,remarkPlugins:ur.arrayOf(ur.oneOfType([ur.object,ur.func,ur.arrayOf(ur.oneOfType([ur.bool,ur.string,ur.object,ur.func,ur.arrayOf(ur.any)]))])),rehypePlugins:ur.arrayOf(ur.oneOfType([ur.object,ur.func,ur.arrayOf(ur.oneOfType([ur.bool,ur.string,ur.object,ur.func,ur.arrayOf(ur.any)]))])),sourcePos:ur.bool,rawSourcePos:ur.bool,skipHtml:ur.bool,includeElementIndex:ur.bool,transformLinkUri:ur.oneOfType([ur.func,ur.bool]),linkTarget:ur.oneOfType([ur.func,ur.string]),transformImageUri:ur.func,components:ur.object};function A4(){return A4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},A4.apply(this,arguments)}var eX=["decorators"],tX=0;function nX(e,t,n){n===void 0&&(n="primitive"+ ++tX),t!=null||(t={set:function(M,D){return D},change:function(M,D){return D(M)}});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=function(M,D){if(M==null)return{};var z,U,q={},K=Object.keys(M);for(U=0;U<K.length;U++)D.indexOf(z=K[U])>=0||(q[z]=M[z]);return q}(i,eX);(l=l.slice()).unshift(function(M){return function(D,z){var U;return z.tracks==null&&(z.tracks=[],(U=z).state!=null||(U.state=e)),D.actions.forEach(function(q){var K,ee=P.indexOf(q.type);ee!=-1&&(z==z&&(z=Object.assign({},z)),z.state=(K=t)[x[ee]].apply(K,[z.state].concat(q.payload)))}),z}});var x=Object.keys(t),S=Ry(x.reduce(function(M,D){return M[D]=function(){return[].slice.call(arguments)},M},{}),UE,A4({decorators:l},o)),P=x.map(function(M){return S[M].type});return S}var rX=0;function iX(e,t){return e===void 0&&(e=!1),t===void 0&&(t="boolean"+ ++rX),nX(e,{toggle:function(n){return!n},setTrue:function(){return!0},setFalse:function(){return!1},change:function(n,i){return i(n)},set:function(n,i){return i}},t)}function d4(){return d4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d4.apply(this,arguments)}var oX=["decorators"],aX=0;function CR(e,t,n){n===void 0&&(n="primitive"+ ++aX),t!=null||(t={set:function(M,D){return D},change:function(M,D){return D(M)}});var i=cy(n)?{id:n}:n,s=i.decorators,l=s===void 0?[]:s,o=function(M,D){if(M==null)return{};var z,U,q={},K=Object.keys(M);for(U=0;U<K.length;U++)D.indexOf(z=K[U])>=0||(q[z]=M[z]);return q}(i,oX);(l=l.slice()).unshift(function(M){return function(D,z){var U;return z.tracks==null&&(z.tracks=[],(U=z).state!=null||(U.state=e)),D.actions.forEach(function(q){var K,ee=P.indexOf(q.type);ee!=-1&&(z==z&&(z=Object.assign({},z)),z.state=(K=t)[x[ee]].apply(K,[z.state].concat(q.payload)))}),z}});var x=Object.keys(t),S=Ry(x.reduce(function(M,D){return M[D]=function(){return[].slice.call(arguments)},M},{}),UE,d4({decorators:l},o)),P=x.map(function(M){return S[M].type});return S}const sX={APP_LOGIN:"app_login",ANALYTICS_PANEL:"analytics_panel",ADVANCED_ANALYTICS_PANEL:"advanced_analytics_panel",EVENTS_LIST:"events_list",FEED_SELECTOR:"feed_selector",EVENTS_LIST__FEED_SELECTOR:"events_list__feed_selector",EVENTS_LIST__BBOX_FILTER:"events_list__bbox_filter",MAP_LAYERS_PANEL:"map_layers_panel",SIDE_BAR:"side_bar",BIVARIATE_MANAGER:"bivariate_manager",CURRENT_EVENT:"current_event",FOCUSED_GEOMETRY_LAYER:"focused_geometry_layer",LAYERS_IN_AREA:"layers_in_area",MAP_RULER:"map_ruler",TOASTS:"toasts",BOUNDARY_SELECTOR:"boundary_selector",DRAW_TOOLS:"draw_tools",FOCUSED_GEOMETRY_EDITOR:"focused_geometry_editor",GEOMETRY_UPLOADER:"geometry_uploader",LEGEND_PANEL:"legend_panel",REPORTS:"reports",INTERACTIVE_MAP:"interactive_map",CURRENT_EPISODE:"current_episode",GEOCODER:"geocoder",EPISODE_LIST:"episode_list",COMMUNITIES:"communities",FEATURE_SETTINGS:"feature_settings",OSM_EDIT_LINK:"osm_edit_link",TOOLTIP:"tooltip",CREATE_LAYER:"create_layer",HEADER:"header",INTERCOM:"intercom",BIVARIATE_COLOR_MANAGER:"bivariate_color_manager",EPISODES_TIMELINE:"episodes_timeline",LOCATE_ME:"locate_me",USE_3RDPARTY_ANALYTICS:"use_3rdparty_analytics",LIVE_SENSOR:"live_sensor",MCDA:"mcda"},lX="METRICS";function uX(e,t){if(!globalThis.CustomEvent)return;const n=new CustomEvent(lX,{detail:{name:e,payload:t}});globalThis.dispatchEvent(n)}var IT;const ER=!!((IT=globalThis.window)!=null&&IT.localStorage.getItem("KONTUR_DEBUG"));var OT;(OT=globalThis.window)!=null&&OT.localStorage.getItem("KONTUR_METRICS_DEBUG");var MT;const cX=!!((MT=globalThis.window)!=null&&MT.localStorage.getItem("KONTUR_WARN"));var LT;const G8=(LT=globalThis.window)==null?void 0:LT.localStorage.getItem("KONTUR_TRACE_TYPE");var RT;const fX=!!((RT=globalThis.window)!=null&&RT.localStorage.getItem("KONTUR_TRACE_PATCH"));function pX(e){var n;const t=`\x1B[94m${Math.trunc(performance.now())}\x1B[m `;(n=e.actions.filter(i=>!i.type.startsWith("invalidate ")))==null||n.map(i=>{var s;if(((s=i.targets)==null?void 0:s.length)===1){const l=String(i.targets[0].id);if(i.type.endsWith(l)){const o=i.type.substring(0,i.type.length-l.length-1),x={_error:"\x1B[30;101m",_done:"\x1B[30;102m"}[o]??"\x1B[22;31m";console.warn(`${t}\x1B[1;32m${l} ${x}${o}\x1B[m`,i.payload,{"+":e.causes})}}else console.warn(`${t}\x1B[1;32m${i.type}\x1B[m`,i.payload,i.targets,{"+":e.causes})})}function hX(){return zL({onPatch:e=>{{fX&&pX(e);for(const t of e.actions)t.type.includes("invalidate")||(uX(t.type,t.payload),G8&&t.type.includes(G8)&&console.trace("TRACE:",t.type,e),ER&&console.debug(t.type,t.payload),cX&&console.warn(t.type,t.payload))}}})}const kR=hX(),Kx=e=>({store:kR,...typeof e=="string"?{id:e}:e}),Mo=(e,t,n)=>Ry(e,t,Kx(n)),PR=(e,t)=>iX(e,Kx(t));let TR=0;function IR(e=new Set,t=`set${++TR}`){return CR(e,{set:(n,i)=>n.has(i)?n:new Set(n).add(i),delete:(n,i)=>{const s=n=new Set(n);return s.delete(i)?s:n},clear:()=>new Set,change:(n,i)=>i(new Set(n))},Kx(t))}function tm(e=new Map,t=`map${++TR}`){return CR(e,{set:(n,i,s)=>n.get(i)===s?n:new Map(n).set(i,s),delete:(n,i)=>{const s=n=new Map(n);return s.delete(i)?s:n},clear:()=>new Map,change:(n,i)=>i(new Map(n))},Kx(t))}const py=Mo({setCurrentTooltip:e=>e,resetCurrentTooltip:()=>null,turnOffById:e=>e},({onAction:e},t=null)=>(e("setCurrentTooltip",n=>t=n),e("resetCurrentTooltip",()=>t=null),e("turnOffById",n=>{(t==null?void 0:t.initiatorId)===n&&(t=null)}),t),"[Shared state] currentTooltipAtom");function AX(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function dX(e,t){e.classList?e.classList.add(t):AX(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Q8(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function mX(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Q8(e.className,t):e.setAttribute("class",Q8(e.className&&e.className.baseVal||"",t))}const W8={disabled:!1},OR=qn.createContext(null);var MR=function(t){return t.scrollTop},cg="unmounted",OA="exited",MA="entering",i0="entered",m4="exiting",Lp=function(e){ju(t,e);function t(i,s){var l;l=e.call(this,i,s)||this;var o=s,x=o&&!o.isMounting?i.enter:i.appear,S;return l.appearStatus=null,i.in?x?(S=OA,l.appearStatus=MA):S=i0:i.unmountOnExit||i.mountOnEnter?S=cg:S=OA,l.state={status:S},l.nextCallback=null,l}t.getDerivedStateFromProps=function(s,l){var o=s.in;return o&&l.status===cg?{status:OA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var l=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==MA&&o!==i0&&(l=MA):(o===MA||o===i0)&&(l=m4)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,l,o,x;return l=o=x=s,s!=null&&typeof s!="number"&&(l=s.exit,o=s.enter,x=s.appear!==void 0?s.appear:o),{exit:l,enter:o,appear:x}},n.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===MA){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:h1.findDOMNode(this);o&&MR(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===OA&&this.setState({status:cg})},n.performEnter=function(s){var l=this,o=this.props.enter,x=this.context?this.context.isMounting:s,S=this.props.nodeRef?[x]:[h1.findDOMNode(this),x],P=S[0],M=S[1],D=this.getTimeouts(),z=x?D.appear:D.enter;if(!s&&!o||W8.disabled){this.safeSetState({status:i0},function(){l.props.onEntered(P)});return}this.props.onEnter(P,M),this.safeSetState({status:MA},function(){l.props.onEntering(P,M),l.onTransitionEnd(z,function(){l.safeSetState({status:i0},function(){l.props.onEntered(P,M)})})})},n.performExit=function(){var s=this,l=this.props.exit,o=this.getTimeouts(),x=this.props.nodeRef?void 0:h1.findDOMNode(this);if(!l||W8.disabled){this.safeSetState({status:OA},function(){s.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:m4},function(){s.props.onExiting(x),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:OA},function(){s.props.onExited(x)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},n.setNextCallback=function(s){var l=this,o=!0;return this.nextCallback=function(x){o&&(o=!1,l.nextCallback=null,s(x))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,l){this.setNextCallback(l);var o=this.props.nodeRef?this.props.nodeRef.current:h1.findDOMNode(this),x=s==null&&!this.props.addEndListener;if(!o||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],P=S[0],M=S[1];this.props.addEndListener(P,M)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===cg)return null;var l=this.props,o=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var x=sd(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qn.createElement(OR.Provider,{value:null},typeof o=="function"?o(s,x):qn.cloneElement(qn.Children.only(o),x))},t}(qn.Component);Lp.contextType=OR;Lp.propTypes={};function Wd(){}Lp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wd,onEntering:Wd,onEntered:Wd,onExit:Wd,onExiting:Wd,onExited:Wd};Lp.UNMOUNTED=cg;Lp.EXITED=OA;Lp.ENTERING=MA;Lp.ENTERED=i0;Lp.EXITING=m4;const gX=Lp;var yX=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return dX(t,i)})},Yw=function(t,n){return t&&n&&n.split(" ").forEach(function(i){return mX(t,i)})},WE=function(e){ju(t,e);function t(){for(var i,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(x,S){var P=i.resolveArguments(x,S),M=P[0],D=P[1];i.removeClasses(M,"exit"),i.addClass(M,D?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(x,S)},i.onEntering=function(x,S){var P=i.resolveArguments(x,S),M=P[0],D=P[1],z=D?"appear":"enter";i.addClass(M,z,"active"),i.props.onEntering&&i.props.onEntering(x,S)},i.onEntered=function(x,S){var P=i.resolveArguments(x,S),M=P[0],D=P[1],z=D?"appear":"enter";i.removeClasses(M,z),i.addClass(M,z,"done"),i.props.onEntered&&i.props.onEntered(x,S)},i.onExit=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"appear"),i.removeClasses(P,"enter"),i.addClass(P,"exit","base"),i.props.onExit&&i.props.onExit(x)},i.onExiting=function(x){var S=i.resolveArguments(x),P=S[0];i.addClass(P,"exit","active"),i.props.onExiting&&i.props.onExiting(x)},i.onExited=function(x){var S=i.resolveArguments(x),P=S[0];i.removeClasses(P,"exit"),i.addClass(P,"exit","done"),i.props.onExited&&i.props.onExited(x)},i.resolveArguments=function(x,S){return i.props.nodeRef?[i.props.nodeRef.current,x]:[x,S]},i.getClassNames=function(x){var S=i.props.classNames,P=typeof S=="string",M=P&&S?S+"-":"",D=P?""+M+x:S[x],z=P?D+"-active":S[x+"Active"],U=P?D+"-done":S[x+"Done"];return{baseClassName:D,activeClassName:z,doneClassName:U}},i}var n=t.prototype;return n.addClass=function(s,l,o){var x=this.getClassNames(l)[o+"ClassName"],S=this.getClassNames("enter"),P=S.doneClassName;l==="appear"&&o==="done"&&P&&(x+=" "+P),o==="active"&&s&&MR(s),x&&(this.appliedClasses[l][o]=x,yX(s,x))},n.removeClasses=function(s,l){var o=this.appliedClasses[l],x=o.base,S=o.active,P=o.done;this.appliedClasses[l]={},x&&Yw(s,x),S&&Yw(s,S),P&&Yw(s,P)},n.render=function(){var s=this.props;s.classNames;var l=sd(s,["classNames"]);return qn.createElement(gX,bs({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(qn.Component);WE.defaultProps={classNames:""};WE.propTypes={};const vX=WE;function jh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const _X="_fadeEnter_1fjeq_1",xX="_fadeEnterActive_1fjeq_5",bX="_fadeExit_1fjeq_10",wX="_fadeExitActive_1fjeq_14",O1={fadeEnter:_X,fadeEnterActive:xX,fadeExit:bX,fadeExitActive:wX},SX={enter:O1.fadeEnter,enterActive:O1.fadeEnterActive,exit:O1.fadeExit,exitActive:O1.fadeExitActive},CX=({children:e,...t})=>{const n=jt.useRef(null);return _t(vX,{...t,nodeRef:n,children:e(n)})};function EX(e){if(!e)return"";let t=e;const n=/(.?.?https|.?.?http)(:\/\/)([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/gm,i=e.matchAll(n);let s=0;return[...i].forEach(l=>{const[o,x,,S,P]=l,M=l.index??0,D=o.length;if(o.startsWith("](")||o.indexOf("[http")>-1)return;const z=o.indexOf("http"),U=o.substring(z),q=o.substring(0,z),K=S.replace("www.",""),ee=`${q}[${K}${P??""}](${U})`,V=kX(t)(M+s,D,ee);s+=ee.length-D,t=V}),t}function kX(e){return function(t,n,i){return t<0&&(t+=e.length,t<0&&(t=0)),e.slice(0,t)+(i||"")+e.slice(t+n)}}const LR=jt.memo(function(e){return _t("a",{href:e.href,target:"_blank",rel:"noreferrer",onClick:PX,children:e.children})});function PX(e){e.stopPropagation()}LR.displayName="LinkRenderer";const K8=wL(),TX=Mo({_set:e=>e},({onAction:e,onInit:t,schedule:n,create:i},s=K8.location)=>(t(()=>{n(l=>{K8.listen(o=>{l(i("_set",o))})})}),e("_set",l=>s=l),s),"currentLocationAtom"),IX=Mo({currentLocationAtom:TX},({onChange:e,schedule:t,getUnlistedState:n})=>{e("currentLocationAtom",(i,s)=>{const l=n(py);i.pathname!==(s==null?void 0:s.pathname)&&(l!=null&&l.position)&&t(o=>{o(py.resetCurrentTooltip())})})}),OX="_markdown_mj6ia_1",MX={markdown:OX};function RR(){const[e,{resetCurrentTooltip:t}]=r8(py);r8(IX);const n=jt.useCallback(s=>{var l;t(),(l=e==null?void 0:e.onClose)==null||l.call(e,s,t)},[t,e]),i=jt.useCallback(s=>{var l;(l=e==null?void 0:e.onOuterClick)==null||l.call(e,s,t)},[t,e]);return _t(CX,{in:Boolean(e),timeout:300,classNames:SX,children:s=>_t(fx,{children:e&&_t(Lq,{transitionRef:s,position:e.position,hoverBehavior:e.hoverBehavior,getPlacement:e.position.predefinedPosition,classes:e.popupClasses,onClose:n,onOuterClick:i,children:typeof e.popup=="string"?_t(SR,{components:{a:LR},className:MX.markdown,children:EX(e.popup)}):e.popup})})})}function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LX(e,t){if(Lc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Lc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DR(e){var t=LX(e,"string");return Lc(t)==="symbol"?t:String(t)}function Z8(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,DR(i.key),i)}}function Wu(e,t,n){return t&&Z8(e.prototype,t),n&&Z8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function By(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jh(e)}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function Rp(e,t,n){return t=DR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e){if(Array.isArray(e))return e}function DX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function FX(e,t){if(e){if(typeof e=="string")return X8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X8(e,t)}}function BX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e){return RX(e)||DX(e)||FX(e)||BX()}function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function J8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var NX={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},UX=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.init(t,n)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=n||NX,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,i,s,l){return l&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[i](n))}},{key:"create",value:function(n){return new e(this.logger,J8(J8({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),Sf=new UX,Qh=function(){function e(){Qu(this,e),this.observers={}}return Wu(e,[{key:"on",value:function(n,i){var s=this;return n.split(" ").forEach(function(l){s.observers[l]=s.observers[l]||[],s.observers[l].push(i)}),this}},{key:"off",value:function(n,i){if(this.observers[n]){if(!i){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==i})}}},{key:"emit",value:function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(S){S.apply(void 0,s)})}if(this.observers["*"]){var x=[].concat(this.observers["*"]);x.forEach(function(S){S.apply(S,[n].concat(s))})}}}]),e}();function Xm(){var e,t,n=new Promise(function(i,s){e=i,t=s});return n.resolve=e,n.reject=t,n}function eP(e){return e==null?"":""+e}function $X(e,t,n){e.forEach(function(i){t[i]&&(n[i]=t[i])})}function KE(e,t,n){function i(x){return x&&x.indexOf("###")>-1?x.replace(/###/g,"."):x}function s(){return!e||typeof e=="string"}for(var l=typeof t!="string"?[].concat(t):t.split(".");l.length>1;){if(s())return{};var o=i(l.shift());!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={}}return s()?{}:{obj:e,k:i(l.shift())}}function tP(e,t,n){var i=KE(e,t,Object),s=i.obj,l=i.k;s[l]=n}function jX(e,t,n,i){var s=KE(e,t,Object),l=s.obj,o=s.k;l[o]=l[o]||[],i&&(l[o]=l[o].concat(n)),i||l[o].push(n)}function p2(e,t){var n=KE(e,t),i=n.obj,s=n.k;if(i)return i[s]}function nP(e,t,n){var i=p2(e,n);return i!==void 0?i:p2(t,n)}function FR(e,t,n){for(var i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof t[i]=="string"||t[i]instanceof String?n&&(e[i]=t[i]):FR(e[i],t[i],n):e[i]=t[i]);return e}function Kd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var VX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function HX(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return VX[t]}):e}var Xx=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,qX=[" ",",","?","!",";"];function GX(e,t,n){t=t||"",n=n||"";var i=qX.filter(function(x){return t.indexOf(x)<0&&n.indexOf(x)<0});if(i.length===0)return!0;var s=new RegExp("(".concat(i.map(function(x){return x==="?"?"\\?":x}).join("|"),")")),l=!s.test(e);if(!l){var o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(l=!0)}return l}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function QX(e){var t=WX();return function(){var i=If(e),s;if(t){var l=If(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function WX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function BR(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),s=e,l=0;l<i.length;++l){if(!s||typeof s[i[l]]=="string"&&l+1<i.length)return;if(s[i[l]]===void 0){for(var o=2,x=i.slice(l,l+o).join(n),S=s[x];S===void 0&&i.length>l+o;)o++,x=i.slice(l,l+o).join(n),S=s[x];if(S===void 0)return;if(S===null)return null;if(t.endsWith(x)){if(typeof S=="string")return S;if(x&&typeof S[x]=="string")return S[x]}var P=i.slice(l+o).join(n);return P?BR(S,P,n):void 0}s=s[i[l]]}return s}}var KX=function(e){Zx(n,e);var t=QX(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Qu(this,n),s=t.call(this),Xx&&Qh.call(jh(s)),s.data=i||{},s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Wu(n,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,P=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure,M=[s,l];o&&typeof o!="string"&&(M=M.concat(o)),o&&typeof o=="string"&&(M=M.concat(S?o.split(S):o)),s.indexOf(".")>-1&&(M=s.split("."));var D=p2(this.data,M);return D||!P||typeof o!="string"?D:BR(this.data&&this.data[s]&&this.data[s][l],o,S)}},{key:"addResource",value:function(s,l,o,x){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},P=this.options.keySeparator;P===void 0&&(P=".");var M=[s,l];o&&(M=M.concat(P?o.split(P):o)),s.indexOf(".")>-1&&(M=s.split("."),x=l,l=M[1]),this.addNamespaces(l),tP(this.data,M,x),S.silent||this.emit("added",s,l,o,x)}},{key:"addResources",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in o)(typeof o[S]=="string"||Object.prototype.toString.apply(o[S])==="[object Array]")&&this.addResource(s,l,S,o[S],{silent:!0});x.silent||this.emit("added",s,l,o)}},{key:"addResourceBundle",value:function(s,l,o,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},M=[s,l];s.indexOf(".")>-1&&(M=s.split("."),x=o,o=l,l=M[1]),this.addNamespaces(l);var D=p2(this.data,M)||{};x?FR(D,o,S):D=M1(M1({},D),o),tP(this.data,M,D),P.silent||this.emit("added",s,l,o)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?M1(M1({},{}),this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var l=this.getDataByLanguage(s),o=l&&Object.keys(l)||[];return!!o.find(function(x){return l[x]&&Object.keys(l[x]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Qh),zR={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,i,s,l){var o=this;return t.forEach(function(x){o.processors[x]&&(n=o.processors[x].process(n,i,s,l))}),n}};function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZX(e){var t=XX();return function(){var i=If(e),s;if(t){var l=If(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function XX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var oP={},aP=function(e){Zx(n,e);var t=ZX(n);function n(i){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qu(this,n),s=t.call(this),Xx&&Qh.call(jh(s)),$X(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,jh(s)),s.options=l,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=Sf.create("translator"),s}return Wu(n,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var o=this.resolve(s,l);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(s,l){var o=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var x=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,S=l.ns||this.options.defaultNS||[],P=o&&s.indexOf(o)>-1,M=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!GX(s,o,x);if(P&&!M){var D=s.match(this.interpolator.nestingRegexp);if(D&&D.length>0)return{key:s,namespaces:S};var z=s.split(o);(o!==x||o===x&&this.options.ns.indexOf(z[0])>-1)&&(S=z.shift()),s=z.join(x)}return typeof S=="string"&&(S=[S]),{key:s,namespaces:S}}},{key:"translate",value:function(s,l,o){var x=this;if(Lc(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var S=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,P=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,M=this.extractFromKey(s[s.length-1],l),D=M.key,z=M.namespaces,U=z[z.length-1],q=l.lng||this.language,K=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(q&&q.toLowerCase()==="cimode"){if(K){var ee=l.nsSeparator||this.options.nsSeparator;return S?(V.res="".concat(U).concat(ee).concat(D),V):"".concat(U).concat(ee).concat(D)}return S?(V.res=D,V):D}var V=this.resolve(s,l),X=V&&V.res,ne=V&&V.usedKey||D,pe=V&&V.exactUsedKey||D,me=Object.prototype.toString.apply(X),oe=["[object Number]","[object Function]","[object RegExp]"],we=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,Ce=!this.i18nFormat||this.i18nFormat.handleAsObject,je=typeof X!="string"&&typeof X!="boolean"&&typeof X!="number";if(Ce&&X&&je&&oe.indexOf(me)<0&&!(typeof we=="string"&&me==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var tt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ne,X,el(el({},l),{},{ns:z})):"key '".concat(D," (").concat(this.language,")' returned an object instead of string.");return S?(V.res=tt,V):tt}if(P){var qe=me==="[object Array]",rt=qe?[]:{},At=qe?pe:ne;for(var Ot in X)if(Object.prototype.hasOwnProperty.call(X,Ot)){var Vt="".concat(At).concat(P).concat(Ot);rt[Ot]=this.translate(Vt,el(el({},l),{joinArrays:!1,ns:z})),rt[Ot]===Vt&&(rt[Ot]=X[Ot])}X=rt}}else if(Ce&&typeof we=="string"&&me==="[object Array]")X=X.join(we),X&&(X=this.extendTranslation(X,s,l,o));else{var Jt=!1,bn=!1,st=l.count!==void 0&&typeof l.count!="string",Me=n.hasDefaultValue(l),Le=st?this.pluralResolver.getSuffix(q,l.count,l):"",re=l["defaultValue".concat(Le)]||l.defaultValue;!this.isValidLookup(X)&&Me&&(Jt=!0,X=re),this.isValidLookup(X)||(bn=!0,X=D);var ge=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Mt=ge&&bn?void 0:X,en=Me&&re!==X&&this.options.updateMissing;if(bn||Jt||en){if(this.logger.log(en?"updateKey":"missingKey",q,U,D,en?re:X),P){var vn=this.resolve(D,el(el({},l),{},{keySeparator:!1}));vn&&vn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var dn=[],Cn=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Cn&&Cn[0])for(var $n=0;$n<Cn.length;$n++)dn.push(Cn[$n]);else this.options.saveMissingTo==="all"?dn=this.languageUtils.toResolveHierarchy(l.lng||this.language):dn.push(l.lng||this.language);var Fn=function(Vr,Fi,jn){var mi=Me&&jn!==X?jn:Mt;x.options.missingKeyHandler?x.options.missingKeyHandler(Vr,U,Fi,mi,en,l):x.backendConnector&&x.backendConnector.saveMissing&&x.backendConnector.saveMissing(Vr,U,Fi,mi,en,l),x.emit("missingKey",Vr,U,Fi,X)};this.options.saveMissing&&(this.options.saveMissingPlurals&&st?dn.forEach(function(Yr){x.pluralResolver.getSuffixes(Yr,l).forEach(function(Vr){Fn([Yr],D+Vr,l["defaultValue".concat(Vr)]||re)})}):Fn(dn,D,re))}X=this.extendTranslation(X,s,l,V,o),bn&&X===D&&this.options.appendNamespaceToMissingKey&&(X="".concat(U,":").concat(D)),(bn||Jt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?X=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(U,":").concat(D):D,Jt?X:void 0):X=this.options.parseMissingKeyHandler(X))}return S?(V.res=X,V):X}},{key:"extendTranslation",value:function(s,l,o,x,S){var P=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,el(el({},this.options.interpolation.defaultVariables),o),x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(el(el({},o),{interpolation:el(el({},this.options.interpolation),o.interpolation)}));var M=typeof s=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),D;if(M){var z=s.match(this.interpolator.nestingRegexp);D=z&&z.length}var U=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(U=el(el({},this.options.interpolation.defaultVariables),U)),s=this.interpolator.interpolate(s,U,o.lng||this.language,o),M){var q=s.match(this.interpolator.nestingRegexp),K=q&&q.length;D<K&&(o.nest=!1)}o.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var X=arguments.length,ne=new Array(X),pe=0;pe<X;pe++)ne[pe]=arguments[pe];return S&&S[0]===ne[0]&&!o.context?(P.logger.warn("It seems you are nesting recursively key: ".concat(ne[0]," in key: ").concat(l[0])),null):P.translate.apply(P,ne.concat([l]))},o)),o.interpolation&&this.interpolator.reset()}var ee=o.postProcess||this.options.postProcess,V=typeof ee=="string"?[ee]:ee;return s!=null&&V&&V.length&&o.applyPostProcessor!==!1&&(s=zR.handle(V,s,l,this.options&&this.options.postProcessPassResolved?el({i18nResolved:x},o):o,this)),s}},{key:"resolve",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x,S,P,M,D;return typeof s=="string"&&(s=[s]),s.forEach(function(z){if(!l.isValidLookup(x)){var U=l.extractFromKey(z,o),q=U.key;S=q;var K=U.namespaces;l.options.fallbackNS&&(K=K.concat(l.options.fallbackNS));var ee=o.count!==void 0&&typeof o.count!="string",V=ee&&!o.ordinal&&o.count===0&&l.pluralResolver.shouldUseIntlApi(),X=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",ne=o.lngs?o.lngs:l.languageUtils.toResolveHierarchy(o.lng||l.language,o.fallbackLng);K.forEach(function(pe){l.isValidLookup(x)||(D=pe,!oP["".concat(ne[0],"-").concat(pe)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(D)&&(oP["".concat(ne[0],"-").concat(pe)]=!0,l.logger.warn('key "'.concat(S,'" for languages "').concat(ne.join(", "),`" won't get resolved as namespace "`).concat(D,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ne.forEach(function(me){if(!l.isValidLookup(x)){M=me;var oe=[q];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(oe,q,me,pe,o);else{var we;ee&&(we=l.pluralResolver.getSuffix(me,o.count,o));var Ce="".concat(l.options.pluralSeparator,"zero");if(ee&&(oe.push(q+we),V&&oe.push(q+Ce)),X){var je="".concat(q).concat(l.options.contextSeparator).concat(o.context);oe.push(je),ee&&(oe.push(je+we),V&&oe.push(je+Ce))}}for(var tt;tt=oe.pop();)l.isValidLookup(x)||(P=tt,x=l.getResource(me,pe,tt,o))}}))})}}),{res:x,usedKey:S,exactUsedKey:P,usedLng:M,usedNS:D}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,o,x):this.resourceStore.getResource(s,l,o,x)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var o in s)if(Object.prototype.hasOwnProperty.call(s,o)&&l===o.substring(0,l.length)&&s[o]!==void 0)return!0;return!1}}]),n}(Qh);function Jw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var sP=function(){function e(t){Qu(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Sf.create("languageUtils")}return Wu(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var i=n.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var i=n.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(l){return l.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Jw(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),i.indexOf(s[1].toLowerCase())>-1&&(s[1]=Jw(s[1].toLowerCase())),i.indexOf(s[2].toLowerCase())>-1&&(s[2]=Jw(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var i=this;if(!n)return null;var s;return n.forEach(function(l){if(!s){var o=i.formatLanguageCode(l);(!i.options.supportedLngs||i.isSupportedCode(o))&&(s=o)}}),!s&&this.options.supportedLngs&&n.forEach(function(l){if(!s){var o=i.getLanguagePartFromCode(l);if(i.isSupportedCode(o))return s=o;s=i.options.supportedLngs.find(function(x){if(x.indexOf(o)===0)return x})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,i){if(!n)return[];if(typeof n=="function"&&(n=n(i)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!i)return n.default||[];var s=n[i];return s||(s=n[this.getScriptPartFromCode(i)]),s||(s=n[this.formatLanguageCode(i)]),s||(s=n[this.getLanguagePartFromCode(i)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,i){var s=this,l=this.getFallbackCodes(i||this.options.fallbackLng||[],n),o=[],x=function(P){P&&(s.isSupportedCode(P)?o.push(P):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(P)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&x(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&x(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&x(this.getLanguagePartFromCode(n))):typeof n=="string"&&x(this.formatLanguageCode(n)),l.forEach(function(S){o.indexOf(S)<0&&x(s.formatLanguageCode(S))}),o}}]),e}(),YX=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],JX={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},eY=["v1","v2","v3"],lP={zero:0,one:1,two:2,few:3,many:4,other:5};function tY(){var e={};return YX.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:JX[t.fc]}})}),e}var nY=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.languageUtils=t,this.options=n,this.logger=Sf.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=tY()}return Wu(e,[{key:"addRule",value:function(n,i){this.rules[n]=i}},{key:"getRule",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(function(l){return"".concat(i).concat(l)})}},{key:"getSuffixes",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(o,x){return lP[o]-lP[x]}).map(function(o){return"".concat(i.options.prepend).concat(o)}):l.numbers.map(function(o){return i.getSuffix(n,o,s)}):[]}},{key:"getSuffix",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(n,s);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(i)):this.getSuffixRetroCompatible(l,i):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,i){var s=this,l=n.noAbs?n.plurals(i):n.plurals(Math.abs(i)),o=n.numbers[l];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var x=function(){return s.options.prepend&&o.toString()?s.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):x():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?x():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!eY.includes(this.options.compatibilityJSON)}}]),e}();function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var rY=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qu(this,e),this.logger=Sf.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Wu(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var i=n.interpolation;this.escape=i.escape!==void 0?i.escape:HX,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?Kd(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?Kd(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?Kd(i.nestingPrefix):i.nestingPrefixEscaped||Kd("$t("),this.nestingSuffix=i.nestingSuffix?Kd(i.nestingSuffix):i.nestingSuffixEscaped||Kd(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,i,s,l){var o=this,x,S,P,M=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function D(ee){return ee.replace(/\$/g,"$$$$")}var z=function(V){if(V.indexOf(o.formatSeparator)<0){var X=nP(i,M,V);return o.alwaysFormat?o.format(X,void 0,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:V})):X}var ne=V.split(o.formatSeparator),pe=ne.shift().trim(),me=ne.join(o.formatSeparator).trim();return o.format(nP(i,M,pe),me,s,Sc(Sc(Sc({},l),i),{},{interpolationkey:pe}))};this.resetRegExp();var U=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,q=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,K=[{regex:this.regexpUnescape,safeValue:function(V){return D(V)}},{regex:this.regexp,safeValue:function(V){return o.escapeValue?D(o.escape(V)):D(V)}}];return K.forEach(function(ee){for(P=0;x=ee.regex.exec(n);){var V=x[1].trim();if(S=z(V),S===void 0)if(typeof U=="function"){var X=U(n,x,l);S=typeof X=="string"?X:""}else if(l&&l.hasOwnProperty(V))S="";else if(q){S=x[0];continue}else o.logger.warn("missed to pass in variable ".concat(V," for interpolating ").concat(n)),S="";else typeof S!="string"&&!o.useRawValueToEscape&&(S=eP(S));var ne=ee.safeValue(S);if(n=n.replace(x[0],ne),q?(ee.regex.lastIndex+=S.length,ee.regex.lastIndex-=x[0].length):ee.regex.lastIndex=0,P++,P>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,i){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,x,S;function P(U,q){var K=this.nestingOptionsSeparator;if(U.indexOf(K)<0)return U;var ee=U.split(new RegExp("".concat(K,"[ ]*{"))),V="{".concat(ee[1]);U=ee[0],V=this.interpolate(V,S);var X=V.match(/'/g),ne=V.match(/"/g);(X&&X.length%2===0&&!ne||ne.length%2!==0)&&(V=V.replace(/'/g,'"'));try{S=JSON.parse(V),q&&(S=Sc(Sc({},q),S))}catch(pe){return this.logger.warn("failed parsing options string in nesting for key ".concat(U),pe),"".concat(U).concat(K).concat(V)}return delete S.defaultValue,U}for(;o=this.nestingRegexp.exec(n);){var M=[];S=Sc({},l),S=S.replace&&typeof S.replace!="string"?S.replace:S,S.applyPostProcessor=!1,delete S.defaultValue;var D=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var z=o[1].split(this.formatSeparator).map(function(U){return U.trim()});o[1]=z.shift(),M=z,D=!0}if(x=i(P.call(this,o[1].trim(),S),S),x&&o[0]===n&&typeof x!="string")return x;typeof x!="string"&&(x=eP(x)),x||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),x=""),D&&(x=M.reduce(function(U,q){return s.format(U,q,l.lng,Sc(Sc({},l),{},{interpolationkey:o[1].trim()}))},x.trim())),n=n.replace(o[0],x),this.regexp.lastIndex=0}return n}}]),e}();function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iY(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var s=i[1].substring(0,i[1].length-1);if(t==="currency"&&s.indexOf(":")<0)n.currency||(n.currency=s.trim());else if(t==="relativetime"&&s.indexOf(":")<0)n.range||(n.range=s.trim());else{var l=s.split(";");l.forEach(function(o){if(o){var x=o.split(":"),S=zX(x),P=S[0],M=S.slice(1),D=M.join(":").trim().replace(/^'+|'+$/g,"");n[P.trim()]||(n[P.trim()]=D),D==="false"&&(n[P.trim()]=!1),D==="true"&&(n[P.trim()]=!0),isNaN(D)||(n[P.trim()]=parseInt(D,10))}})}}return{formatName:t,formatOptions:n}}function Zd(e){var t={};return function(i,s,l){var o=s+JSON.stringify(l),x=t[o];return x||(x=e(s,l),t[o]=x),x(i)}}var oY=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qu(this,e),this.logger=Sf.create("formatter"),this.options=t,this.formats={number:Zd(function(n,i){var s=new Intl.NumberFormat(n,i);return function(l){return s.format(l)}}),currency:Zd(function(n,i){var s=new Intl.NumberFormat(n,vh(vh({},i),{},{style:"currency"}));return function(l){return s.format(l)}}),datetime:Zd(function(n,i){var s=new Intl.DateTimeFormat(n,vh({},i));return function(l){return s.format(l)}}),relativetime:Zd(function(n,i){var s=new Intl.RelativeTimeFormat(n,vh({},i));return function(l){return s.format(l,i.range||"day")}}),list:Zd(function(n,i){var s=new Intl.ListFormat(n,vh({},i));return function(l){return s.format(l)}})},this.init(t)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=i.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(n,i){this.formats[n.toLowerCase().trim()]=i}},{key:"addCached",value:function(n,i){this.formats[n.toLowerCase().trim()]=Zd(i)}},{key:"format",value:function(n,i,s,l){var o=this,x=i.split(this.formatSeparator),S=x.reduce(function(P,M){var D=iY(M),z=D.formatName,U=D.formatOptions;if(o.formats[z]){var q=P;try{var K=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},ee=K.locale||K.lng||l.locale||l.lng||s;q=o.formats[z](P,ee,vh(vh(vh({},U),l),K))}catch(V){o.logger.warn(V)}return q}else o.logger.warn("there was no format function for ".concat(z));return P},n);return S}}]),e}();function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function aY(e){var t=sY();return function(){var i=If(e),s;if(t){var l=If(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function sY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lY(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var uY=function(e){Zx(n,e);var t=aY(n);function n(i,s,l){var o,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Qu(this,n),o=t.call(this),Xx&&Qh.call(jh(o)),o.backend=i,o.store=s,o.services=l,o.languageUtils=l.languageUtils,o.options=x,o.logger=Sf.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=x.maxParallelReads||10,o.readingCalls=0,o.maxRetries=x.maxRetries>=0?x.maxRetries:5,o.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(l,x.backend,x),o}return Wu(n,[{key:"queueLoad",value:function(s,l,o,x){var S=this,P={},M={},D={},z={};return s.forEach(function(U){var q=!0;l.forEach(function(K){var ee="".concat(U,"|").concat(K);!o.reload&&S.store.hasResourceBundle(U,K)?S.state[ee]=2:S.state[ee]<0||(S.state[ee]===1?M[ee]===void 0&&(M[ee]=!0):(S.state[ee]=1,q=!1,M[ee]===void 0&&(M[ee]=!0),P[ee]===void 0&&(P[ee]=!0),z[K]===void 0&&(z[K]=!0)))}),q||(D[U]=!0)}),(Object.keys(P).length||Object.keys(M).length)&&this.queue.push({pending:M,pendingCount:Object.keys(M).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(P),pending:Object.keys(M),toLoadLanguages:Object.keys(D),toLoadNamespaces:Object.keys(z)}}},{key:"loaded",value:function(s,l,o){var x=s.split("|"),S=x[0],P=x[1];l&&this.emit("failedLoading",S,P,l),o&&this.store.addResourceBundle(S,P,o),this.state[s]=l?-1:2;var M={};this.queue.forEach(function(D){jX(D.loaded,[S],P),lY(D,s),l&&D.errors.push(l),D.pendingCount===0&&!D.done&&(Object.keys(D.loaded).forEach(function(z){M[z]||(M[z]={});var U=D.loaded[z];U.length&&U.forEach(function(q){M[z][q]===void 0&&(M[z][q]=!0)})}),D.done=!0,D.errors.length?D.callback(D.errors):D.callback())}),this.emit("loaded",M),this.queue=this.queue.filter(function(D){return!D.done})}},{key:"read",value:function(s,l,o){var x=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,M=arguments.length>5?arguments[5]:void 0;if(!s.length)return M(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:l,fcName:o,tried:S,wait:P,callback:M});return}this.readingCalls++;var D=function(K,ee){if(x.readingCalls--,x.waitingReads.length>0){var V=x.waitingReads.shift();x.read(V.lng,V.ns,V.fcName,V.tried,V.wait,V.callback)}if(K&&ee&&S<x.maxRetries){setTimeout(function(){x.read.call(x,s,l,o,S+1,P*2,M)},P);return}M(K,ee)},z=this.backend[o].bind(this.backend);if(z.length===2){try{var U=z(s,l);U&&typeof U.then=="function"?U.then(function(q){return D(null,q)}).catch(D):D(null,U)}catch(q){D(q)}return}return z(s,l,D)}},{key:"prepareLoading",value:function(s,l){var o=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var P=this.queueLoad(s,l,x,S);if(!P.toLoad.length)return P.pending.length||S(),null;P.toLoad.forEach(function(M){o.loadOne(M)})}},{key:"load",value:function(s,l,o){this.prepareLoading(s,l,{},o)}},{key:"reload",value:function(s,l,o){this.prepareLoading(s,l,{reload:!0},o)}},{key:"loadOne",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=s.split("|"),S=x[0],P=x[1];this.read(S,P,"read",void 0,void 0,function(M,D){M&&l.logger.warn("".concat(o,"loading namespace ").concat(P," for language ").concat(S," failed"),M),!M&&D&&l.logger.log("".concat(o,"loaded namespace ").concat(P," for language ").concat(S),D),l.loaded(s,M,D)})}},{key:"saveMissing",value:function(s,l,o,x,S){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var D=pP(pP({},P),{},{isUpdate:S}),z=this.backend.create.bind(this.backend);if(z.length<6)try{var U;z.length===5?U=z(s,l,o,x,D):U=z(s,l,o,x),U&&typeof U.then=="function"?U.then(function(q){return M(null,q)}).catch(M):M(null,U)}catch(q){M(q)}else z(s,l,o,x,M,D)}!s||!s[0]||this.store.addResource(s[0],l,o,x)}}}]),n}(Qh);function hP(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Lc(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Lc(t[2])==="object"||Lc(t[3])==="object"){var i=t[3]||t[2];Object.keys(i).forEach(function(s){n[s]=i[s]})}return n},interpolation:{escapeValue:!0,format:function(t,n,i,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AP(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cY(e){var t=fY();return function(){var i=If(e),s;if(t){var l=If(this).constructor;s=Reflect.construct(i,arguments,l)}else s=i.apply(this,arguments);return By(this,s)}}function fY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L1(){}function pY(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var h2=function(e){Zx(n,e);var t=cY(n);function n(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Qu(this,n),i=t.call(this),Xx&&Qh.call(jh(i)),i.options=AP(s),i.services={},i.logger=Sf,i.modules={external:[]},pY(jh(i)),l&&!i.isInitialized&&!s.isClone){if(!i.options.initImmediate)return i.init(s,l),By(i,jh(i));setTimeout(function(){i.init(s,l)},0)}return i}return Wu(n,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(o=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var x=hP();this.options=gf(gf(gf({},x),this.options),AP(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=gf(gf({},x.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function S(V){return V?typeof V=="function"?new V:V:null}if(!this.options.isClone){this.modules.logger?Sf.init(S(this.modules.logger),this.options):Sf.init(null,this.options);var P;this.modules.formatter?P=this.modules.formatter:typeof Intl<"u"&&(P=oY);var M=new sP(this.options);this.store=new KX(this.options.resources,this.options);var D=this.services;D.logger=Sf,D.resourceStore=this.store,D.languageUtils=M,D.pluralResolver=new nY(M,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),P&&(!this.options.interpolation.format||this.options.interpolation.format===x.interpolation.format)&&(D.formatter=S(P),D.formatter.init(D,this.options),this.options.interpolation.format=D.formatter.format.bind(D.formatter)),D.interpolator=new rY(this.options),D.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},D.backendConnector=new uY(S(this.modules.backend),D.resourceStore,D,this.options),D.backendConnector.on("*",function(V){for(var X=arguments.length,ne=new Array(X>1?X-1:0),pe=1;pe<X;pe++)ne[pe-1]=arguments[pe];s.emit.apply(s,[V].concat(ne))}),this.modules.languageDetector&&(D.languageDetector=S(this.modules.languageDetector),D.languageDetector.init&&D.languageDetector.init(D,this.options.detection,this.options)),this.modules.i18nFormat&&(D.i18nFormat=S(this.modules.i18nFormat),D.i18nFormat.init&&D.i18nFormat.init(this)),this.translator=new aP(this.services,this.options),this.translator.on("*",function(V){for(var X=arguments.length,ne=new Array(X>1?X-1:0),pe=1;pe<X;pe++)ne[pe-1]=arguments[pe];s.emit.apply(s,[V].concat(ne))}),this.modules.external.forEach(function(V){V.init&&V.init(s)})}if(this.format=this.options.interpolation.format,o||(o=L1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var z=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);z.length>0&&z[0]!=="dev"&&(this.options.lng=z[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var U=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];U.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments)}});var q=["addResource","addResources","addResourceBundle","removeResourceBundle"];q.forEach(function(V){s[V]=function(){var X;return(X=s.store)[V].apply(X,arguments),s}});var K=Xm(),ee=function(){var X=function(pe,me){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),K.resolve(me),o(pe,me)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return X(null,s.t.bind(s));s.changeLanguage(s.options.lng,X)};return this.options.resources||!this.options.initImmediate?ee():setTimeout(ee,0),K}},{key:"loadResources",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L1,x=o,S=typeof s=="string"?s:this.language;if(typeof s=="function"&&(x=s),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return x();var P=[],M=function(U){if(U){var q=l.services.languageUtils.toResolveHierarchy(U);q.forEach(function(K){P.indexOf(K)<0&&P.push(K)})}};if(S)M(S);else{var D=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);D.forEach(function(z){return M(z)})}this.options.preload&&this.options.preload.forEach(function(z){return M(z)}),this.services.backendConnector.load(P,this.options.ns,function(z){!z&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),x(z)})}else x(null)}},{key:"reloadResources",value:function(s,l,o){var x=Xm();return s||(s=this.languages),l||(l=this.options.ns),o||(o=L1),this.services.backendConnector.reload(s,l,function(S){x.resolve(),o(S)}),x}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&zR.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var l=0;l<this.languages.length;l++){var o=this.languages[l];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(s,l){var o=this;this.isLanguageChangingTo=s;var x=Xm();this.emit("languageChanging",s);var S=function(z){o.language=z,o.languages=o.services.languageUtils.toResolveHierarchy(z),o.resolvedLanguage=void 0,o.setResolvedLanguage(z)},P=function(z,U){U?(S(U),o.translator.changeLanguage(U),o.isLanguageChangingTo=void 0,o.emit("languageChanged",U),o.logger.log("languageChanged",U)):o.isLanguageChangingTo=void 0,x.resolve(function(){return o.t.apply(o,arguments)}),l&&l(z,function(){return o.t.apply(o,arguments)})},M=function(z){!s&&!z&&o.services.languageDetector&&(z=[]);var U=typeof z=="string"?z:o.services.languageUtils.getBestMatchFromCodes(z);U&&(o.language||S(U),o.translator.language||o.translator.changeLanguage(U),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(U)),o.loadResources(U,function(q){P(q,U)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?M(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(M):this.services.languageDetector.detect(M):M(s),x}},{key:"getFixedT",value:function(s,l,o){var x=this,S=function P(M,D){var z;if(Lc(D)!=="object"){for(var U=arguments.length,q=new Array(U>2?U-2:0),K=2;K<U;K++)q[K-2]=arguments[K];z=x.options.overloadTranslationOptionHandler([M,D].concat(q))}else z=gf({},D);z.lng=z.lng||P.lng,z.lngs=z.lngs||P.lngs,z.ns=z.ns||P.ns,z.keyPrefix=z.keyPrefix||o||P.keyPrefix;var ee=x.options.keySeparator||".",V;return z.keyPrefix&&Array.isArray(M)?V=M.map(function(X){return"".concat(z.keyPrefix).concat(ee).concat(X)}):V=z.keyPrefix?"".concat(z.keyPrefix).concat(ee).concat(M):M,x.t(V,z)};return typeof s=="string"?S.lng=s:S.lngs=s,S.ns=l,S.keyPrefix=o,S}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var x=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,P=this.languages[this.languages.length-1];if(x.toLowerCase()==="cimode")return!0;var M=function(U,q){var K=l.services.backendConnector.state["".concat(U,"|").concat(q)];return K===-1||K===2};if(o.precheck){var D=o.precheck(this,M);if(D!==void 0)return D}return!!(this.hasResourceBundle(x,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||M(x,s)&&(!S||M(P,s)))}},{key:"loadNamespaces",value:function(s,l){var o=this,x=Xm();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(S){o.options.ns.indexOf(S)<0&&o.options.ns.push(S)}),this.loadResources(function(S){x.resolve(),l&&l(S)}),x):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var o=Xm();typeof s=="string"&&(s=[s]);var x=this.options.preload||[],S=s.filter(function(P){return x.indexOf(P)<0});return S.length?(this.options.preload=x.concat(S),this.loadResources(function(P){o.resolve(),l&&l(P)}),o):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new sP(hP());return l.indexOf(o.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L1,x=gf(gf(gf({},this.options),l),{isClone:!0}),S=new n(x);(l.debug!==void 0||l.prefix!==void 0)&&(S.logger=S.logger.clone(l));var P=["store","services","language"];return P.forEach(function(M){S[M]=s[M]}),S.services=gf({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new aP(S.services,S.options),S.translator.on("*",function(M){for(var D=arguments.length,z=new Array(D>1?D-1:0),U=1;U<D;U++)z[U-1]=arguments[U];S.emit.apply(S,[M].concat(z))}),S.init(x,o),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Qh);Rp(h2,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new h2(e,t)});var rs=h2.createInstance();rs.createInstance=h2.createInstance;rs.createInstance;rs.dir;rs.init;rs.loadResources;rs.reloadResources;rs.use;rs.changeLanguage;rs.getFixedT;rs.t;rs.exists;rs.setDefaultNamespace;rs.hasLoadedNamespace;rs.loadNamespaces;rs.loadLanguages;var hY=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,AY={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},dY=function(t){return AY[t]},mY=function(t){return t.replace(hY,dY)};function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(i){Rp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var yP={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mY};function gY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yP=gP(gP({},yP),e)}var yY={type:"3rdParty",init:function(t){gY(t.options.react)}};jt.createContext();(function(){function e(){Qu(this,e),this.usedNamespaces={}}return Wu(e,[{key:"addUsedNamespaces",value:function(n){var i=this;n.forEach(function(s){i.usedNamespaces[s]||(i.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e})();var NR=[],vY=NR.forEach,_Y=NR.slice;function xY(e){return vY.call(_Y.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var vP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,bY=function(t,n,i){var s=i||{};s.path=s.path||"/";var l=encodeURIComponent(n),o="".concat(t,"=").concat(l);if(s.maxAge>0){var x=s.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(x))}if(s.domain){if(!vP.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!vP.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var S=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(S){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},_P={create:function(t,n,i,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+i*60*1e3)),s&&(l.domain=s),document.cookie=bY(t,encodeURIComponent(n),l)},read:function(t){for(var n="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var l=i[s];l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(n)===0)return l.substring(n.length,l.length)}return null},remove:function(t){this.create(t,"",-1)}},wY={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var i=_P.read(t.lookupCookie);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&_P.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},SY={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),l=s.split("&"),o=0;o<l.length;o++){var x=l[o].indexOf("=");if(x>0){var S=l[o].substring(0,x);S===t.lookupQuerystring&&(n=l[o].substring(x+1))}}}return n}},Ym=null,xP=function(){if(Ym!==null)return Ym;try{Ym=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ym=!1}return Ym},CY={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&xP()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&xP()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Jm=null,bP=function(){if(Jm!==null)return Jm;try{Jm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Jm=!1}return Jm},EY={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&bP()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(n=i)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&bP()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},kY={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)n.push(navigator.languages[i]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},PY={name:"htmlTag",lookup:function(t){var n,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},TY={name:"path",lookup:function(t){var n;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;n=i[t.lookupFromPathIndex].replace("/","")}else n=i[0].replace("/","")}return n}},IY={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};function OY(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var UR=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qu(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return Wu(e,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=xY(i,this.options||{},OY()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(wY),this.addDetector(SY),this.addDetector(CY),this.addDetector(EY),this.addDetector(kY),this.addDetector(PY),this.addDetector(TY),this.addDetector(IY)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var i=this;n||(n=this.options.order);var s=[];return n.forEach(function(l){if(i.detectors[l]){var o=i.detectors[l].lookup(i.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(function(l){s.detectors[l]&&s.detectors[l].cacheUserLanguage(n,s.options)}))}}]),e}();UR.type="languageDetector";const MY="km",LY="m",RY="to",DY="Logout",FY="Save",BY="Cancel",zY="Create",NY="Disasters",UY="Loading...",$Y="Loading events",jY="Legend",VY="maps",HY="Vertical direction",qY="Horizontal direction",GY="Legend presentation",QY="Layers",WY="Feed",KY="Deselect",ZY="Gathering data",XY="Updated",YY="No data received",JY="Wrong data received",eJ="Error",tJ="Sort Icon",nJ={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"The feed contains real-time data about Cyclones, Droughts, Earthquakes, Floods, Volcanoes, Wildfires."},rJ={default:"Sorry, we are having issues, which will be fixed soon",timeout:"Request Timeout",cannot_connect:"Can't connect to server",forbidden:"Forbidden",not_found:"Not found",unknown:"Unknown",server_error:"Server Error"},iJ={overlays:"Overlays",basemap:"Basemap"},oJ={layers_in_selected_area:"Layers in selected area",your_layers:"Your Layers",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap Based",other:"Other",elevation:"Elevation",photo:"Photo",map:"Map"},aJ={load_world_data:"Load World Data",numerator:"Numerator",normalized_by:"Normalized By",sum:"Sum",min:"Min",max:"Max",mean:"Mean",stddev:"Stddev",median:"Median",filter_numerator:"Filter Numerator",filter_denominator:"Filter Denominator"},sJ={title:"Multi-criteria decision analysis",name:"MCDA"},lJ={warning_title:"Can't use map as filter",warning_description:"Map not ready yet, try later",bbox_filter_button:"Use map view as filter",analytics:{affected_people:{tooltip:"Affected People",value:"No humanitarian impact"},settled_area_tooltip:"Settled Area",loss_tooltip:"Estimated loss"},no_event_in_feed:"Event not found in the current event feed",no_selected_disaster:"No disaster selected",chose_disaster:"Choose disaster",no_historical_disasters:"No historical disasters in this area",no_feed_disasters:"No disasters in this feed",no_disasters:"No disasters",severity_unknown:"Unknown",severity_termination:"Termination",severity_minor:"Minor",severity_moderate:"Moderate",severity_severe:"Severe",severity_extreme:"Extreme",open_timeline_button:"Open timeline"},uJ={edit_layer:"Edit Layer",edit_features:"Edit Features",delete_layer:"Delete Layer",create_layer:"Create Layer",saving_layer:"Saving layer...",field_name:"Field name",layer_name:"Layer name",marker_icon:"Marker icon",type:"Type",select:"Select",short_text:"Short Text",long_text:"Long Text",link:"Link",image:"Image",fields:"Fields",add_field:"Add field",location:"Location",edit_feature_placeholder:"Select some feature for start edit feature properties"},cJ={header_title:"Analytics",error_loading:"Error while fetching analytics data",info_short:"Calculations are made for the selected area."},fJ={header_title:"Advanced analytics",error:"Error while fetching advanced analytics data"},pJ={not_found:"Sorry, requested event not found.",error:"An error occured!",analytics_for_selected:"Analytics for a selected area",will_be_provided:"will be provided here"},hJ={area:"Area",line:"Line",point:"Point",finish_drawing:"Finish Drawing",caption:"Click on the map to begin drawing",no_geometry_error:"No drawn geometry to download",overlap_error:"Polygon should not overlap itself",save_features:"Save features"},AJ={title:"Focus to administrative boundary"},dJ={title:"Focus to uploaded geometry",error:"Error while reading uploaded file"},mJ={title:"Focus to freehand geometry"},gJ={settings:{name:"Selected Area"}},yJ={self_directions_not_supported:"Self intersections are not supported!"},vJ={panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Base axis",annex_axis:"Annex axis",tooltip:{p1:"Charts involving the Base and Annex axes help establish a relationship between two data sets.",li1:"Annex axis - parameters that we analyse",li2:"Base axis - reference point in the analysis",b:"Ex: the best location to open a cafe",p2:"We can explore the number of eatery places (Annex axis) against Population density (Base axis).",p3:"In this scenario, we are first interested in a small number of eatery places, and the number of people in that place gives us additional information."}},header:{title:"Choose two layers to explore correlations",hint:"Layers and correlations are displayed for the current Selected Area"},icon:{population:"Value divided by Population",area_km2:"Value divided by Area",total_building_count:"Value divided by Total Buildings Estimate",populated_area_km2:"Value divided by Populated Area",one:"Without divider",roads:"Value divided by Total Roads Length"},progress:{rendering:"Rendering",applied:"Applied on the map"},loading_error:"Unfortunately, we cannot display the matrix. Try refreshing the page or come back later."},legend:{high:"High",low:"Low",medium:"Medium"},color_manager:{not_defined:"Not defined",sentiments_combinations_filter:"Sentiments combinations",layers_filter:"Layers",no_legends:"There are no legends satisfying the conditions.",no_data:"No Data.",sentiments_tab:"Sentiments",color_legends_tab:"Color Legends",layers_tab:"Layers (indicators)"}},_J={biv_color_manager:"Сolor manager",edit_osm:"Edit in OpenStreetMap",ruler:"Ruler",collapse:"Collapse",expand:"Expand",icon_alt:"Application logo"},xJ={email:"Email",password:"Password",login_button:"Login",sign_up:"Sign up",logging_in:"Logging in...",log_in:"Log in",description:"Please log in to change your settings",error:{email_empty:"Email has not to be empty!",email_invalid:"Email has to be valid!",password:"Password has not to be empty!",connect:"Couldn't connect to authentication service"}},bJ={title:"Disaster Ninja Reports",no_data:"No data for this report",sorting:"Sorting data...",loading:"Loading data",search_location:"Search location",open_josm:"Open via JOSM remote control",josm_logo_alt:"JOSM logo",see_all:"See all reports",wrong_id:"Wrong report ID",description:"<0>Kontur </0> generates several reports that help validate OpenStreetMap quality. They contain links to areas on <4>osm.org </4> and links to open them in the JOSM editor with enabled remote control for editing."},wJ={map:"Map",about:"About",reports:"Reports",profile:"Profile",privacy:"Privacy"},SJ={title:"Welcome to Disaster Ninja!",intro:"Do you want to be notified about ongoing disasters? Are you interested in instant population data and other analytics for any region in the world? Disaster Ninja showcases some of <2>Kontur</2>’s capabilities in addressing these needs.<br/><br/>We initially designed it as a decision support tool for humanitarian mappers. Now it has grown in functionality and use cases. Whether you work in disaster management, build a smart city, or perform research on climate change, Disaster Ninja can help you to:",l1:"1. Stay up to date with the latest hazard events globally.",p1:"The Disasters panel continually refreshes to inform you about ongoing events. It consumes data from the <2>Kontur Event Feed</2>, which you can also access via an API.",l2:"2. Focus on your area of interest.",p2:"The Drawing Tools panel allows you to draw or upload your own geometry on the map. You can also focus on a disaster-exposed area or an administrative unit — a country, city, or region.",l3:"3. Get analytics for the focused area.",p3:"The Analytics panel shows the number of people living in that area per <2>Kontur Population</2> and estimated mapping gaps in OpenStreetMap. Kontur’s customers have access to hundreds of other indicators through Advanced Analytics.",l4:"4. Explore data on the map and make conclusions.",p4:"The Layers panel gives you various options to display two indicators simultaneously on a bivariate map, e.g., population density and distance to the nearest fire station. Use the color legend to assess which areas require attention. <br/>Hint: in general, green indicates low risk / few gaps, red — high risk / many gaps.",p5:"In addition, you can switch to Reports in the left panel to access data on potential errors and inconsistencies in OpenStreetMap and help fix them by mapping the respective area with the JOSM editor.",goToMap:"Go to the map now",p6:"We hope you find this tool valuable. Use the chatbox on Disaster Ninja for any questions about the functionality, and we will be happy to guide you. You can also contact us by email at <1>hello@kontur.io</1> if you have feedback or suggestions on improving the tool.<br/><br/>Disaster Ninja is an open-source project. Find the code in <8>Kontur’s GitHub account</8>."},CJ={interfaceTheme:"Theme",interfaceLanguage:"Language",units:"Units",fullName:"Full Name",email:"Email",metric:"metric",imperialBeta:"imperial (beta)",profileSettingsHeader:"Profile",appSettingsHeader:"Settings",saveButton:"Save changes",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Default disaster feed",defaultOSMeditor:"Default OpenStreetMap editor (beta)",successNotification:"All changes have been applied successfully",languageOption:{en:"English",es:"Spanish",ar:"Arabic",ko:"Korean",id:"Indonesian",de:"German",uk:"Ukrainian"}},EJ={not_found_request:"Sorry, requested event not found."},kJ={get_location_error:"Error while getting location",feature_title:"Locate me"},PJ="Episode",TJ="Loading Episodes",IJ={header:"We value your privacy",body:`We use absolutely necessary cookies to provide you personalized services and optional cookies to improve Disaster Ninja and your experience. You can manage cookies settings or withdraw consent to optional cookies at any time.
For more information, please, check our [Privacy Policy](about/privacy)`,decline_all:"Decline optional cookies",accept_all:"Accept optional cookies"},OJ={start:"Start sensor recording",finish:"Stop sensor recording",finishMessage:"Recording has been finished",startMessage:"Recording has been started",noSensorsError:"Your device desn't have the required sensors"},MJ={km:MY,m:LY,to:RY,logout:DY,save:FY,cancel:BY,create:zY,disasters:NY,loading:UY,loading_events:$Y,legend:jY,maps:VY,vertical_direction:HY,horizontal_direction:qY,legend_presentation:GY,layers:QY,feed:WY,deselect:KY,spinner_text:ZY,updated:XY,no_data_received:YY,wrong_data_received:JY,error:eJ,sort_icon:tJ,configs:nJ,errors:rJ,categories:iJ,groups:oJ,advanced_analytics_data_list:aJ,mcda:sJ,event_list:lJ,create_layer:uJ,analytics_panel:cJ,advanced_analytics_panel:fJ,advanced_analytics_empty:pJ,draw_tools:hJ,boundary_selector:AJ,geometry_uploader:dJ,focus_geometry:mJ,focus_geometry_layer:gJ,drawings:yJ,bivariate:vJ,sidebar:_J,login:xJ,reports:bJ,modes:wJ,about:SJ,profile:CJ,current_event:EJ,locate_me:kJ,episode:PJ,loading_episodes:TJ,cookie_banner:IJ,live_sensor:OJ},LJ="km",RJ="m",DJ="a",FJ="mapas",BJ="Cierre de sesión",zJ="Guardar",NJ="Cancelar",UJ="Crear",$J="Desastres",jJ="Cargando...",VJ="Cargando eventos",HJ="Leyenda",qJ="Dirección vertical",GJ="Dirección horizontal",QJ="Presentación de la leyenda",WJ="Capas",KJ={color_manager:{layers_filter:"Capas",not_defined:"No definido",sentiments_combinations_filter:"Combinaciones de sentimientos",no_legends:"No hay leyendas que cumplan las condiciones.",no_data:"No hay datos.",sentiments_tab:"Sentimientos",color_legends_tab:"Leyendas de colores",layers_tab:"Capas (indicadores)"},panel:{header:"Matriz bivariada"},matrix:{caption:{base_axis:"Eje base",annex_axis:"Eje anexo",tooltip:{p1:"Las gráficas que incluyen los ejes base y anexo ayudan a establecer una relación entre dos conjuntos de datos.",li1:"Eje anexo: parámetros que analizamos",li2:"Eje base: punto de referencia en el análisis",b:"Ej.: la mejor ubicación para abrir una cafetería",p2:"Podemos explorar el número de locales de comida (eje anexo) frente a la densidad de población (eje base).",p3:"En este escenario, en primer lugar nos interesa un número reducido de locales de comida, y la cantidad de personas presentes nos da información adicional."}},header:{title:"Elija dos capas para explorar las correlaciones",hint:"Las capas y correlaciones se muestran para el área seleccionada actual"},icon:{population:"Valor dividido por la población",area_km2:"Valor dividido por el área",total_building_count:"Valor dividido por la estimación total de edificios",populated_area_km2:"Valor dividido por el área poblada",one:"Sin divisor",roads:"Valor dividido por la longitud total de las carreteras"},progress:{rendering:"Renderizado",applied:"Aplicado en el mapa"}},legend:{high:"Alto",low:"Bajo",medium:"Medio"}},ZJ="Fuente",XJ="Anular la selección",YJ="Recopilación de datos",JJ="Actualizado",eee="No se han recibido datos",tee="Se han recibido datos erróneos",nee="Error",ree="Icono de ordenar",iee={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"El feed contiene datos en tiempo real sobre Ciclones, Sequías, Terremotos, Inundaciones, Volcanes, Incendios forestales."},oee={default:"Lo sentimos, estamos teniendo problemas, que pronto se solucionarán",timeout:"Se agotó el tiempo de espera de la solicitud",cannot_connect:"No se puede conectar al servidor",forbidden:"Prohibido",not_found:"No encontrado",unknown:"Desconocido",server_error:"Error del servidor"},aee={severity_unknown:"Desconocido",warning_title:"No se puede utilizar el mapa como filtro",warning_description:"El mapa aún no está listo, inténtelo más tarde",bbox_filter_button:"Usar la vista del mapa como filtro",analytics:{affected_people:{tooltip:"Personas afectadas",value:"Sin impacto humanitario"},settled_area_tooltip:"Área habitada",loss_tooltip:"Pérdida estimada"},no_event_in_feed:"Evento no encontrado en el feed de eventos actual",no_selected_disaster:"No se ha seleccionado ningún desastre",chose_disaster:"Seleccione el desastre"},see={overlays:"Superposiciones",basemap:"Mapa base"},lee={layers_in_selected_area:"Capas en el área seleccionada",your_layers:"Sus capas",kontur_analytics:"Análisis de Kontur",qa:"Certificación de calidad",osmbasedmap:"Basado en OpenStreetMap",other:"Otros",elevation:"Elevación",photo:"Foto",map:"Mapa"},uee={map:"Mapa",about:"Acerca de",reports:"Informes",profile:"Perfil"},cee={load_world_data:"Cargar datos mundiales",numerator:"Numerador",normalized_by:"Normalizado por",sum:"Suma",min:"Mín.",max:"Máx.",mean:"Media",stddev:"Desv. est.",median:"Mediana",filter_denominator:"Filtrar Denominador"},fee={},pee={edit_layer:"Editar capa",edit_features:"Editar características",delete_layer:"Eliminar capa",create_layer:"Crear capa",saving_layer:"Guardando capa...",field_name:"Nombre de campo",layer_name:"Nombre de la capa",marker_icon:"Icono de marcador",type:"Tipo",select:"Seleccionar",short_text:"Texto corto",long_text:"Texto largo",link:"Enlace",image:"Imagen",fields:"Campos",add_field:"Agregar campo",location:"Ubicación",edit_feature_placeholder:"Seleccione una característica para comenzar a editar las propiedades de la misma"},hee={header_title:"Análisis",error_loading:"Error en la obtención de datos de análisis"},Aee={header_title:"Análisis avanzado",error:"Error en la obtención de datos de análisis Avanzado"},dee={not_found:"Lo sentimos, el evento solicitado no se ha encontrado.",error:"¡Se produjo un error!"},mee={not_found_request:"Lo sentimos, el evento solicitado no se ha encontrado."},gee={area:"Área",line:"Línea",point:"Punto",finish_drawing:"Terminar el dibujo",caption:"Haga clic en el mapa para empezar a dibujar",no_geometry_error:"No hay geometría dibujada para descargar",overlap_error:"El polígono no debe superponerse sobre sí mismo",save_features:"Guardar características"},yee={title:"Enfocar en el límite administrativo"},vee={title:"Enfocar en la geometría cargada",error:"Error al leer el archivo cargado"},_ee={title:"Enfocar en la geometría a mano"},xee={settings:{name:"Área seleccionada"}},bee={self_directions_not_supported:"¡No se admiten las autointersecciones!"},wee={biv_color_manager:"Administrador de color",edit_osm:"Editar en OpenStreetMap",ruler:"Regla",collapse:"Contraer",expand:"Expandir",icon_alt:"Logotipo de la aplicación"},See={email:"Correo electrónico",password:"Contraseña",login_button:"Inicio de sesión",sign_up:"Registrarse",logging_in:"Iniciando sesión...",log_in:"Iniciar sesión",description:"Acceda a su cuenta para cambiar los ajustes",error:{email_empty:"¡El correo electrónico no debe estar vacío!",email_invalid:"¡El correo electrónico debe ser válido!",password:"¡La contraseña no debe estar vacía!",connect:"No se pudo conectar con el servicio de autenticación"}},Cee={email:"Correo electrónico",profileSettingsHeader:"Perfil",interfaceTheme:"Tema",interfaceLanguage:"Idioma",units:"Unidades",fullName:"Nombre completo",metric:"métricas",imperialBeta:"imperiales (beta)",appSettingsHeader:"Ajustes",saveButton:"Guardar cambios",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Feed de desastres predeterminado",defaultOSMeditor:"Editor predeterminado de OpenStreetMap (beta)",successNotification:"Todos los cambios se han aplicado correctamente",languageOption:{en:"Inglés",es:"Español",ar:"Árabe",ko:"Сoreano",id:"Indonesio",de:"Alemán",uk:"Ucranio"}},Eee={title:"Informes de Disaster Ninja",no_data:"No hay datos para este informe",sorting:"Ordenando datos...",loading:"Cargando datos",search_location:"Buscar ubicación",open_josm:"Abrir a través del control remoto JOSM",josm_logo_alt:"Logotipo de JOSM",see_all:"Ver todos los informes",wrong_id:"ID de informe incorrecto",description:"<0>Kontur </0> genera una serie de informes útiles para validar la calidad de OpenStreetMap. Contienen enlaces a zonas en <4>osm.org </4> y enlaces para abrirlas en el editor JOSM con control remoto habilitado para la edición."},kee={title:"¡Bienvenido a Disaster Ninja!",intro:"¿Desea recibir notificaciones sobre desastres en curso? ¿Le interesan los datos de población instantáneos y otros datos analíticos de alguna región del mundo? Disaster Ninja muestra algunas de las capacidades de <2>Kontur</2> para ocuparse de estas necesidades.<br/><br/> Inicialmente la diseñamos como una herramienta de apoyo a los mapeadores de servicios humanitarios. Ahora ha ampliado sus funcionalidades y aplicaciones prácticas. Tanto si trabaja en la gestión de desastres como si construye una ciudad inteligente o realiza investigaciones sobre el cambio climático, Disaster Ninja puede ayudarle a:",l1:"1. Estar al día con los últimos eventos peligrosos a nivel mundial.",p1:"El panel de Desastres se actualiza continuamente para informarle sobre los acontecimientos en curso. Utiliza la información proporcionada por <2>Kontur Event Feed</2>, a la que también puede acceder a través de la interfaz de la aplicación.",l2:"2. Centrarse en su área de interés.",p2:"El panel de Herramientas de Dibujo le permite dibujar o subir su propia geometría en el mapa. También puede centrarse en un área o en una unidad administrativa - país, ciudad o región — expuesta a desastres.",l3:"3. Recibir análisis de su área de interés.",p3:"El panel de Análisis le muestra el número de personas que viven en la zona según <2>Kontur Population</2> y según una estimación de las zonas sin mapear en OpenStreetMap. Los clientes de Kontur tienen acceso a cientos de otros indicadores a través de Advance Analytics.",l4:"4. Explorar los datos del mapa y sacar sus propias conclusiones.",p4:"El panel Capas le ofrece varias opciones para mostrar dos indicadores en simultáneo en un mapa bivariado, p. ej:, la densidad de población y la distancia a la estación de bomberos más cercana. Utilice las leyendas de colores para evaluar qué áreas requieren atención. <br/>Consejo: en general, el verde indica riesgo bajo / pocas zonas sin mapear, el rojo — riesgo alto / muchas zonas sin mapear.",p5:"Además, puede cambiar a Informes en el panel de la izquierda para acceder a los datos sobre posibles errores e inconsistencias en OpenStreetMap y ayudarle a realizar correcciones mapeando la zona correspondiente con el editor JOSM.",goToMap:"Ir al mapa ahora",p6:"Esperamos que esta herramienta le resulte valiosa. Utilice el chat de Disaster Ninja si tiene alguna pregunta sobre sus funcionalidades y estaremos encantados de ayudarle. También puede contactarnos por correo electrónico en <1>hello@kontur.io</1> si tiene algún comentario o sugerencia para mejorar la herramienta.<br/><br/> Disaster Ninja es un proyecto de código abierto. Encuentre el código en la <8>cuenta de GitHub de Kontur</8>."},Pee={get_location_error:"Error al obtener la ubicación",feature_title:"Localizarme"},Tee="Episodio",Iee="Cargando episodios",Oee={},Mee={},Lee={km:LJ,m:RJ,to:DJ,maps:FJ,logout:BJ,save:zJ,cancel:NJ,create:UJ,disasters:$J,loading:jJ,loading_events:VJ,legend:HJ,vertical_direction:qJ,horizontal_direction:GJ,legend_presentation:QJ,layers:WJ,bivariate:KJ,feed:ZJ,deselect:XJ,spinner_text:YJ,updated:JJ,no_data_received:eee,wrong_data_received:tee,error:nee,sort_icon:ree,configs:iee,errors:oee,event_list:aee,categories:see,groups:lee,modes:uee,advanced_analytics_data_list:cee,mcda:fee,create_layer:pee,analytics_panel:hee,advanced_analytics_panel:Aee,advanced_analytics_empty:dee,current_event:mee,draw_tools:gee,boundary_selector:yee,geometry_uploader:vee,focus_geometry:_ee,focus_geometry_layer:xee,drawings:bee,sidebar:wee,login:See,profile:Cee,reports:Eee,about:kee,locate_me:Pee,episode:Tee,loading_episodes:Iee,cookie_banner:Oee,live_sensor:Mee},Ree="كم",Dee="م",Fee="إلى",Bee="خرائط",zee="تسجيل خروج",Nee="حفظ",Uee="إلغاء",$ee="إنشاء",jee="كوارث",Vee="جارٍ التحميل...",Hee="جارٍ تحميل الأحداث",qee="عنوان تفسيري",Gee="الاتجاه الرأسي",Qee="الاتجاه الأفقي",Wee="عرض العنوان التفسيري",Kee="طبقات",Zee={color_manager:{layers_filter:"طبقات",not_defined:"غير معرف",sentiments_combinations_filter:"تركيبات المشاعر",no_legends:"لا توجد ملاحظات تفي بالشروط.",no_data:"لايوجد بيانات.",sentiments_tab:"المشاعر",color_legends_tab:"مؤشرات اللون",layers_tab:"الطبقات (المؤشرات)"},panel:{header:"مصفوفة ثنائية المتغير"},matrix:{caption:{base_axis:"المحور الأساسي",annex_axis:"المحور الملحق",tooltip:{p1:"تساعد المخططات التي تتضمن محوري القاعدة والملحق في إنشاء علاقة بين مجموعتي بيانات.",li1:"محور الملحق - المعلمات التي نقوم بتحليلها",li2:"المحور الأساسي - النقطة المرجعية في التحليل",b:"مثال: أفضل موقع لفتح مقهى",p2:"يمكننا استكشاف عدد أماكن المطاعم (المحور الملحق) مقابل الكثافة السكانية (المحور الأساسي).",p3:"في هذا السيناريو، نهتم أولاً بعدد صغير من أماكن تناول الطعام ويعطينا عدد الأشخاص في هذا المكان معلومات إضافية."}},header:{title:"اختر طبقتين لاستكشاف الارتباطات",hint:"يتم عرض الطبقات والارتباطات للمنطقة المحددة الحالية"},icon:{population:"القيمة مقسومة على عدد السكان",area_km2:"القيمة مقسومة على المنطقة",total_building_count:"القيمة مقسومة على تقدير إجمالي المباني",populated_area_km2:"القيمة مقسومة على المنطقة المأهولة",one:"بدون فاصل",roads:"القيمة مقسومة على إجمالي طول الطرق"},progress:{rendering:"استدعاء",applied:"مطبق على الخريطة"}},legend:{high:"مرتفع",low:"منخفض",medium:"متوسط"}},Xee="تغذية",Yee="إلغاء",Jee="جمع البيانات",ete="تحديث",tte="لم تُستقبل أي بيانات",nte="تم استلام بيانات خاطئة",rte="خطأ",ite="أيقونة الترتيب",ote={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"يحتوي الموجز على بيانات فورية عن الأعاصير والجفاف والزلازل والفيضانات والبراكين وحرائق الغابات."},ate={default:"عذرًا، حدثت مشكلات، سيتم إصلاحها قريبًا",timeout:"انتهت مهلة الطلب",cannot_connect:"لا يمكن الاتصال بالخادم",forbidden:"محظور",not_found:"لم يتم العثور على",unknown:"غير معروف",server_error:"خطأ في الخادم"},ste={severity_unknown:"غير معروف",warning_title:"لا يمكن استخدام الخريطة كعامل تصفية",warning_description:"الخريطة ليست جاهزة بعد، حاول لاحقًا",bbox_filter_button:"استخدم عرض الخريطة كعامل تصفية",analytics:{affected_people:{tooltip:"الأشخاص المتأثرون",value:"لا أثر إنساني"},settled_area_tooltip:"منطقة مستوطنة",loss_tooltip:"الخسارة المقدرة"},no_event_in_feed:"لم يتم العثور على الحدث في موجز الأحداث الحالية",no_selected_disaster:"لم يتم اختيار كارثة",chose_disaster:"اختر كارثة"},lte={overlays:"تراكميات",basemap:"الخريطة الأساسية"},ute={layers_in_selected_area:"طبقات في المنطقة المختارة",your_layers:"طبقاتك",kontur_analytics:"تحليلات كونتور",qa:"تأكيد الجودة",osmbasedmap:"فتح خريطة الشارع على أساس",other:"آخر",elevation:"ارتفاع",photo:"صورة",map:"الخريطة"},cte={map:"الخريطة",about:"عن",reports:"التقارير",profile:"الملف الشخصي"},fte={load_world_data:"تحميل بيانات العالم",numerator:"البسط",normalized_by:"تطبيع بواسطة",sum:"مجموع",min:"الحد الأدنى",max:"الحد الأقصى",mean:"المتوسط",stddev:"Stddev",median:"الوسيط",filter_denominator:"مقام المرشح"},pte={},hte={edit_layer:"تعديل الطبقة",edit_features:"تعديل الميزات",delete_layer:"حذف الطبقة",create_layer:"خلق الطبقة",saving_layer:"حفظ الطبقة...",field_name:"اسم المجال",layer_name:"اسم الطبقة",marker_icon:"رمز العلامة",type:"النوع",select:"تحديد",short_text:"نص قصير",long_text:"نص طويل",link:"رابط",image:"صورة",fields:"مجالات",add_field:"إضافة مجال",location:"موقع",edit_feature_placeholder:"حدد بعض الميزات لبدء تحرير خصائص الميزة"},Ate={header_title:"التحليلات",error_loading:"خطأ أثناء جلب بيانات التحليلات"},dte={header_title:"تحليلات متقدمة",error:"خطأ أثناء جلب بيانات التحليلات المتقدمة"},mte={not_found:"عذرًا، الحدث المطلوب غير موجود.",error:"حدث خطأ!"},gte={not_found_request:"عذرًا، الحدث المطلوب غير موجود."},yte={area:"منطقة",line:"خط",point:"نقطة",finish_drawing:"إنهاء الرسم",caption:"انقر على الخريطة لبدء الرسم",no_geometry_error:"لا يوجد مجسم مرسوم للتنزيل",overlap_error:"يجب ألا يتداخل المضلع مع نفسه",save_features:"حفظ الميزات"},vte={title:"التركيز على الحدود الإدارية"},_te={title:"التركيز على المجسم المحمل",error:"خطأ أثناء قراءة الملف الذي تم تحميله"},xte={title:"ركز على المجسم الحر"},bte={settings:{name:"منطقة مختارة"}},wte={self_directions_not_supported:"التقاطعات الذاتية غير مدعومة!"},Ste={biv_color_manager:"مدير الألوان",edit_osm:"التعديل في OpenStreetMap",ruler:"المسطرة",collapse:"إغلاق",expand:"فتح",icon_alt:"شعار التطبيق"},Cte={email:"البريد الإلكتروني",password:"كلمة السر",login_button:"تسجيل الدخول",sign_up:"إنشاء حساب",logging_in:"جارٍ تسجيل الدخول...",log_in:"تسجيل الدخول",description:"يرجى تسجيل الدخول لتغيير إعداداتك",error:{email_empty:"يجب أن لا يكون البريد الإلكتروني فارغًا!",email_invalid:"يجب أن يكون البريد الإلكتروني صالحًا!",password:"يجب أن لا تكون كلمة السر فارغة!",connect:"تعذّر الوصول إلى خادم المصادقة"}},Ete={email:"البريد الإلكتروني",profileSettingsHeader:"الملف الشخصي",interfaceTheme:"النسق",interfaceLanguage:"اللغة",units:"الوحدات",fullName:"الاسم الكامل",metric:"المقياس",imperialBeta:"إمبريالي (بيتا)",appSettingsHeader:"الإعدادات",saveButton:"حفظ التغييرات",konturTheme:"Kontur",HOTTheme:"حار","userBio(about)":"السيرة",defaultDisasterFeed:"موجز الكوارث الافتراضي",defaultOSMeditor:"محرر OpenStreetMap الافتراضي (بيتا)",successNotification:"تم تطبيق جميع التغييرات بنجاح",languageOption:{en:"الإنجليزية",es:"الإسبانية",ar:"العربية",ko:"الكورية",id:"الأندونيسية",de:"ألمانية",uk:"الأوكرانية"}},kte={title:"تقارير Disaster Ninja",no_data:"لا توجد بيانات لهذا التقرير",sorting:"جارٍ ترتيب البيانات...",loading:"جارٍ تحميل البيانات",search_location:"البحث عن الموقع",open_josm:"الفتح من خلال وحدة تحكم JOSM عن بعد",josm_logo_alt:"شعار JOSM",see_all:"عرض جميع التقارير",wrong_id:"معرف التقرير خاطئ",description:"ينشئ <0> Kontur</0> عدة تقارير تساعد في التحقق من جودة OpenStreetMap. تحتوي هذه التقارير على روابط لمناطق على <4> osm.org </4> وروابط يمكن فتحها في محرر JOSM مع تمكين التحكم عن بعد للتحرير."},Pte={title:"مرحبًا في Disaster Ninja!",intro:"هل تريد أن يتم إخطارك بالكوارث الجارية؟ هل أنت مهتم بالبيانات السكانية الفورية والتحليلات الأخرى لأي منطقة في العالم؟ يعرض Disaster Ninja بعض قدرات <2>Kontur</2> في تلبية هذه الاحتياجات.<br/><br/>لقد صممناه في البداية ليكون أداة دعم قرار لمصممي الخرائط الإنسانية. الآن، ازدادت وظائفه وحالات استخدامه. سواء كنت تعمل في إدارة الكوارث، أو تبني مدينة ذكية، أو تجري بحثًا عن تغير المناخ، يمكن أن يساعدك Disaster Ninja على:",l1:"1. البقاء على اطلاع بآخر التطورات للأحداث الخطرة على مستوى العالم.",p1:"يتم تحديث لوحة الكوارث باستمرار لإبلاغك بالأحداث الجارية. إنها تستهلك البيانات من <2>Kontur Event Feed</2> والتي يمكنك أيضًا الوصول إليها عبر واجهة برمجة التطبيقات.",l2:"2. التركيز على مجال اهتمامك.",p2:"تتيح لك لوحة أدوات الرسم رسم أو تحميل الشكل الهندسي الخاص بك على الخريطة. يمكنك أيضًا التركيز على منطقة معرضة للكوارث أو وحدة إدارية - بلد أو مدينة أو منطقة.",l3:"3. الحصول على تحليلات لمنطقة الاهتمام.",p3:"تعرض لوحة التحليلات عدد الأشخاص الذين يعيشون في تلك المنطقة حسب <2>Kontur Population</2> وفجوات الخرائط المقدرة في OpenStreetMap. يمكن لعملاء Kontur الوصول إلى مئات المؤشرات الأخرى من خلال التحليلات المتقدمة.",l4:"4. استكشاف البيانات على الخريطة والتوصل إلى استنتاجات.",p4:"تمنحك لوحة Layers خيارات متنوعة لعرض مؤشرين في وقت واحد على خريطة ثنائية المتغير على سبيل المثال الكثافة السكانية والمسافة إلى أقرب محطة إطفاء. استخدم وسيلة إيضاح اللون لتقييم المناطق التي تتطلب الانتباه. <br/>بشكل عام، يشير اللون الأخضر إلى مخاطر منخفضة / فجوات قليلة، والأحمر - مخاطر عالية / العديد من الفجوات.",p5:"بالإضافة إلى ذلك ، يمكنك التبديل إلى التقارير في اللوحة اليمنى للوصول إلى البيانات المتعلقة بالأخطاء والتناقضات المحتملة في OpenStreetMap والمساعدة في إصلاحها عن طريق رسم خريطة المنطقة المعنية باستخدام محرر JOSM.",goToMap:"الانتقال إلى الخريطة الآن",p6:"نأمل أن تجد هذه الأداة ذات قيمة. استخدم مربع الدردشة على Disaster Ninja لأية أسئلة حول وظائفه، وسنكون سعداء بإرشادك. يمكنك أيضًا التواصل معنا عبر البريد الإلكتروني<1>hello@kontur.io</1> إذا كان لديك ملاحظات أو اقتراحات بشأن تحسين الأداة.<br/><br/>يُعدّ Disaster Ninja مشروعًا مفتوح المصدر. تحقق من الكود في حساب <8>Kontur</8> على <8>GitHub</8>."},Tte={get_location_error:"حدث خطأ أثناء الحصول على الموقع",feature_title:"حدد موقعي"},Ite="الحلقة",Ote="جارٍ تجميل الحلقات",Mte={},Lte={},Rte={km:Ree,m:Dee,to:Fee,maps:Bee,logout:zee,save:Nee,cancel:Uee,create:$ee,disasters:jee,loading:Vee,loading_events:Hee,legend:qee,vertical_direction:Gee,horizontal_direction:Qee,legend_presentation:Wee,layers:Kee,bivariate:Zee,feed:Xee,deselect:Yee,spinner_text:Jee,updated:ete,no_data_received:tte,wrong_data_received:nte,error:rte,sort_icon:ite,configs:ote,errors:ate,event_list:ste,categories:lte,groups:ute,modes:cte,advanced_analytics_data_list:fte,mcda:pte,create_layer:hte,analytics_panel:Ate,advanced_analytics_panel:dte,advanced_analytics_empty:mte,current_event:gte,draw_tools:yte,boundary_selector:vte,geometry_uploader:_te,focus_geometry:xte,focus_geometry_layer:bte,drawings:wte,sidebar:Ste,login:Cte,profile:Ete,reports:kte,about:Pte,locate_me:Tte,episode:Ite,loading_episodes:Ote,cookie_banner:Mte,live_sensor:Lte},Dte="킬로미터",Fte="미터",Bte="목적지",zte="지도",Nte="로그아웃",Ute="저장",$te="취소",jte="생성",Vte="재난",Hte="로딩 중...",qte="이벤트 로딩 중",Gte="범례",Qte="수직 방향",Wte="수평 방향",Kte="범례 표시",Zte="레이어",Xte={color_manager:{layers_filter:"레이어",not_defined:"정의되지 않음",sentiments_combinations_filter:"감정 조합",no_legends:"조건을 충족하는 범례가 없습니다.",no_data:"데이터가 없습니다.",sentiments_tab:"감정",color_legends_tab:"색상 범례",layers_tab:"레이어(지표)"},panel:{header:"이변수 매트릭스"},matrix:{caption:{base_axis:"기본 축",annex_axis:"보조 축",tooltip:{p1:"기본 축과 보조 축이 포함된 차트를 통해 두 데이터 세트 간의 관계를 설정할 수 있습니다.",li1:"보조 축 - 분석 대상 매개변수",li2:"기본 축 - 분석의 기준점",b:"예: 카페 개업에 최적의 위치",p2:"인구 밀도(기본 축)에 대한 음식점 개수(보조 축)를 알아볼 수 있습니다.",p3:"이 경우에는 주로 소수의 음식점에 관심이 있는 것이며, 추가적으로 그 장소에 있는 사람 수를 알아볼 수 있습니다."}},header:{title:"상관 관계를 알아보려면 두 개의 레이어를 선택합니다.",hint:"레이어와 상관 관계가 현재 선택된 영역에 표시됩니다."},icon:{population:"인구로 나눈 값",area_km2:"영역으로 나눈 값",total_building_count:"전체 건물 추정치로 나눈 값",populated_area_km2:"인구 밀집 지역으로 나눈 값",one:"나누지 않음",roads:"전체 도로 길이로 나눈 값"},progress:{rendering:"렌더링",applied:"지도에 적용됨"}},legend:{high:"높음",low:"낮음",medium:"중간"}},Yte="피드",Jte="선택 취소",ene="데이터 수집",tne="업데이트됨",nne="수신한 데이터 없음",rne="잘못된 데이터 수신",ine="오류",one="정렬 아이콘",ane={Kontur_public_feed:"Kontur Public",Kontur_public_feed_description:"피드에는 사이클론, 가뭄, 지진, 홍수, 화산 폭발, 산불에 대한 실시간 데이터가 포함됩니다."},sne={default:"죄송합니다. 문제가 생겼습니다. 곧 해결될 예정입니다.",timeout:"요청 시간 초과",cannot_connect:"서버에 연결할 수 없습니다.",forbidden:"사용할 수 없음",not_found:"찾을 수 없음",unknown:"알 수 없음",server_error:"서버 오류"},lne={severity_unknown:"알 수 없음",warning_title:"지도를 필터로 사용할 수 없습니다.",warning_description:"아직 지도를 사용할 수 없습니다. 잠시 후 다시 시도해 주세요.",bbox_filter_button:"지도 보기를 필터로 사용",analytics:{affected_people:{tooltip:"영향을 받은 사람",value:"인도주의적 영향 없음"},settled_area_tooltip:"고정된 영역",loss_tooltip:"예상 손해"},no_event_in_feed:"현재 이벤트 피드에서 이벤트를 찾을 수 없음",no_selected_disaster:"선택된 재난 없음",chose_disaster:"재난 선택"},une={overlays:"오버레이",basemap:"백지도"},cne={layers_in_selected_area:"선택 영역 내 레이어",your_layers:"레이어",kontur_analytics:"Kontur Analytics",qa:"QA",osmbasedmap:"OpenStreetMap 기반",other:"기타",elevation:"입면도",photo:"사진",map:"지도"},fne={map:"지도",about:"정보",reports:"보고서",profile:"프로필"},pne={load_world_data:"전 세계 데이터 로드하기",numerator:"분자",normalized_by:"정규화 기준:",sum:"합계",min:"최소",max:"최대",mean:"평균",stddev:"표본 표준 편차",median:"중앙값",filter_denominator:"분모 필터"},hne={},Ane={edit_layer:"레이어 편집",edit_features:"특성 편집",delete_layer:"레이어 삭제",create_layer:"레이어 생성",saving_layer:"레이어 저장 중...",field_name:"필드 이름",layer_name:"레이어 이름",marker_icon:"마커 아이콘",type:"유형",select:"선택",short_text:"짧은 텍스트",long_text:"긴 텍스트",link:"링크",image:"이미지",fields:"필드",add_field:"필드 추가",location:"위치",edit_feature_placeholder:"일부 특성을 선택하여 특성 속성 편집을 시작하세요."},dne={header_title:"분석",error_loading:"분석 데이터를 가져오는 중에 오류가 발생했습니다."},mne={header_title:"고급 분석",error:"고급 분석 데이터를 가져오는 중에 오류가 발생했습니다."},gne={not_found:"죄송합니다. 요청하신 이벤트를 찾을 수 없습니다.",error:"오류가 발생했습니다."},yne={not_found_request:"죄송합니다. 요청하신 이벤트를 찾을 수 없습니다."},vne={area:"영역",line:"라인",point:"점",finish_drawing:"그리기 완료",caption:"그리기를 시작하려면 지도를 클릭하세요.",no_geometry_error:"다운로드할 수 있는 기하 도형이 없습니다.",overlap_error:"다각형은 그 자체로 겹치지 않아야 합니다.",save_features:"특성 저장"},_ne={title:"행정 경계에 초점 맞추기"},xne={title:"업로드된 기하 도형에 초점 맞추기",error:"업로드된 파일을 읽는 중 오류가 발생했습니다."},bne={title:"손으로 직접 그린 기하 도형에 초점 맞추기"},wne={settings:{name:"선택된 영역"}},Sne={self_directions_not_supported:"자체 교차는 지원되지 않습니다."},Cne={biv_color_manager:"색상 관리자",edit_osm:"OpenStreetMap에서 편집",ruler:"눈금자",collapse:"접기",expand:"펼치기",icon_alt:"애플리케이션 로고"},Ene={email:"이메일",password:"비밀번호",login_button:"로그인",sign_up:"가입",logging_in:"로그인 중...",log_in:"로그인",description:"설정을 변경하려면 로그인하세요.",error:{email_empty:"이메일은 필수 입력 사항입니다.",email_invalid:"유효한 이메일을 사용해야 합니다.",password:"비밀번호는 필수 입력 사항입니다.",connect:"인증 서비스에 연결할 수 없습니다."}},kne={email:"이메일",profileSettingsHeader:"프로필",interfaceTheme:"주제",interfaceLanguage:"언어",units:"단위",fullName:"전체 이름",metric:"미터법",imperialBeta:"영국식 단위(베타)",appSettingsHeader:"설정",saveButton:"변경 사항 저장",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"기본 재난 피드",defaultOSMeditor:"기본 OpenStreetMap 편집기(베타)",successNotification:"모든 변경 사항이 성공적으로 적용되었습니다.",languageOption:{en:"영어",es:"스페인어",ar:"아랍어",ko:"한국어",id:"인도네시아 인",de:"독일 말",uk:"우크라이나 인"}},Pne={title:"Disaster Ninja 보고서",no_data:"이 보고서에 데이터가 없습니다.",sorting:"데이터 정렬 중...",loading:"데이터 로딩 중",search_location:"위치 검색",open_josm:"JOSM 원격 제어를 통해 열기",josm_logo_alt:"JOSM 로고",see_all:"모든 보고서 보기",wrong_id:"잘못된 보고서 ID",description:"<0>Kontur</0>는 몇 가지 보고서를 생성하여 OpenStreetMap 품질을 평가하도록 지원합니다. 보고서에는 <4>osm.org </4>의 영역으로 연결되는 링크, 원격 제어가 활성화된 JOSM 편집기에서 해당 영역을 열어 편집할 수 있는 링크가 포함되어 있습니다."},Tne={title:"Disaster Ninja에 오신 것을 환영합니다!",intro:"현재 진행 중인 재난에 대해 알림을 받아보시겠습니까? 전 세계 모든 지역의 인구 데이터와 기타 분석 사항을 즉시 알아보고 싶으신가요? Disaster Ninja에서는 이러한 요구 사항을 해결하기 위해 몇 가지 <2>Kontur</2> 기능을 사용합니다.<br/><br/>처음에는 인도주의적인 문제를 다루기 위한 의사 결정 지원 도구로 고안되었지만, 이제는 기능과 용법이 여러 가지로 늘어났습니다. 재난 관리, 스마트 시티 구축, 기후 변화에 관한 연구 수행 등 어떤 업무를 하더라도 다음과 같은 도움을 드릴 수 있습니다.",l1:"1. 전 세계의 최신 위험 이벤트의 동향을 알려 드립니다.",p1:"재난 패널이 지속적으로 새로 고침 되어 현재 일어나는 이벤트에 대한 정보를 제공합니다. <2>Kontur 이벤트 피드</2>의 데이터를 사용하며, API를 통해서도 해당 데이터에 액세스할 수 있습니다.",l2:"2. 관심 영역을 집중적으로 보여 드립니다.",p2:"그리기 도구 패널을 사용하면 자체 기하 도형을 지도에 그리거나 업로드할 수 있습니다. 재난에 노출된 영역이나 행정 단위(예: 국가, 도시, 지역)에 초점을 맞출 수도 있습니다.",l3:"3. 집중 영역에 대한 분석을 제공합니다.",p3:"분석 패널은 <2>Kontur 인구</2>당 해당 영역에 거주하는 사람의 수와 OpenStreetMap 내 예상 매핑 갭을 보여줍니다. 그 외에도 Kontur 고객은 고급 분석을 통해 수백 가지 지표에 액세스할 수 있습니다.",l4:"4. 지도의 데이터를 탐색하여 결론을 내릴 수 있습니다.",p4:"레이어 패널을 사용하면 이변수 지도에서 두 가지 지표를 동시에 표시하는 다양한 옵션을 사용할 수 있게 됩니다(예: 인구 밀도, 가장 가까운 소방서까지의 거리). 색상 범례를 사용하여 주의가 필요한 영역을 평가하세요. <br/>힌트: 일반적으로 녹색은 저위험/적은 갭을 의미하고 빨간색은 고위험/많은 갭을 의미합니다.",p5:"또한, 왼쪽 패널의 보고서로 이동하여 OpenStreetMap의 잠재적인 오류 및 불일치 데이터에 액세스하고, JOSM 편집기를 통해 각 영역을 매핑하여 해당 데이터를 수정할 수도 있습니다.",goToMap:"지금 바로 지도로 이동하세요.",p6:"이 도구가 많은 도움이 되기를 바랍니다. 기능에 대해 궁금한 점은 Disaster Ninja의 챗박스를 통해 언제든지 문의해 주시면 도와 드리겠습니다. 도구 개선에 대한 피드백이나 제안 사항이 있을 경우, <1>hello@kontur.io</1> 로 이메일 주셔도 됩니다.<br/><br/>Disaster Ninja는 오픈 소스 프로젝트입니다. <8>Kontur의 GitHub 계정</8>에서 코드를 찾아보세요."},Ine={get_location_error:"위치를 가져오는 중에 오류가 발생했습니다.",feature_title:"내 위치 확인"},One="에피소드",Mne="에피소드 로딩 중",Lne={},Rne={},Dne={km:Dte,m:Fte,to:Bte,maps:zte,logout:Nte,save:Ute,cancel:$te,create:jte,disasters:Vte,loading:Hte,loading_events:qte,legend:Gte,vertical_direction:Qte,horizontal_direction:Wte,legend_presentation:Kte,layers:Zte,bivariate:Xte,feed:Yte,deselect:Jte,spinner_text:ene,updated:tne,no_data_received:nne,wrong_data_received:rne,error:ine,sort_icon:one,configs:ane,errors:sne,event_list:lne,categories:une,groups:cne,modes:fne,advanced_analytics_data_list:pne,mcda:hne,create_layer:Ane,analytics_panel:dne,advanced_analytics_panel:mne,advanced_analytics_empty:gne,current_event:yne,draw_tools:vne,boundary_selector:_ne,geometry_uploader:xne,focus_geometry:bne,focus_geometry_layer:wne,drawings:Sne,sidebar:Cne,login:Ene,profile:kne,reports:Pne,about:Tne,locate_me:Ine,episode:One,loading_episodes:Mne,cookie_banner:Lne,live_sensor:Rne},Fne="km",Bne="m",zne="ke",Nne="peta",Une="Keluar",$ne="Simpan",jne="Batalkan",Vne="Buat",Hne="Bencana",qne="Memuat...",Gne="Memuat kejadian",Qne="Legenda",Wne="Arah vertikal",Kne="Arah horizontal",Zne="Penyajian legenda",Xne="Lapisan",Yne={color_manager:{layers_filter:"Lapisan",not_defined:"Tidak terdefinisi",sentiments_combinations_filter:"Gabungan sentimen",no_legends:"Tidak ada legenda yang memenuhi kondisi ini.",no_data:"Tidak Ada Data.",sentiments_tab:"Sentimen",color_legends_tab:"Legenda Warna",layers_tab:"Lapisan (indikator)"},panel:{header:"Matriks Bivariat"},matrix:{caption:{base_axis:"Sumbu Dasar",annex_axis:"Sumbu Tambahan",tooltip:{p1:"Diagram yang mencakup sumbu Dasar dan sumbu Tambahan membantu menetapkan hubungan antara dua kumpulan data.",li1:"Sumbu Tambahan - parameter yang kita analisis",li2:"Sumbu Dasar - titik referensi dalam analisis",b:"Contoh: lokasi terbaik untuk membuka kafe",p2:"Kita dapat menyelidiki jumlah tempat makan (sumbu Tambahan) terhadap Kerapatan populasi (sumbu Dasar).",p3:"Dalam skenario ini, pada awalnya kita tertarik dengan beberapa tempat makan, lalu kita mendapatkan informasi tambahan dari jumlah orang di tempat itu."}},header:{title:"Pilih dua lapisan untuk memeriksa korelasi",hint:"Lapisan dan korelasi ditampilkan untuk Area Pilihan terkini"},icon:{population:"Nilai dibagi dengan Populasi",area_km2:"Nilai dibagi dengan Area",total_building_count:"Nilai dibagi dengan Perkiraan Jumlah Bangunan",populated_area_km2:"Nilai dibagi dengan Area Berpenduduk",one:"Tanpa pembagi",roads:"Nilai dibagi dengan Total Panjang Jalan"},progress:{rendering:"Merender",applied:"Diterapkan pada peta"}},legend:{high:"Tinggi",low:"Rendah",medium:"Sedang"}},Jne="Feed",ere="Batalkan Pilihan",tre="Mengumpulkan data",nre="Diperbarui",rre="Tidak ada data yang diterima",ire="Data yang diterima salah",ore="Kesalahan",are="Sortir Ikon",sre={Kontur_public_feed:"Publik Kontur",Kontur_public_feed_description:"Feed berisi data waktu-nyata tentang Angin Topan, Kekeringan, Gempa, Banjir, Gunung Meletus, Kebakaran Hutan."},lre={default:"Maaf, kami mengalami masalah yang akan segera diperbaiki",timeout:"Waktu Permintaan Habis",cannot_connect:"Tidak dapat terhubung ke server",forbidden:"Terlarang",not_found:"Tidak ditemukan",unknown:"Tidak diketahui",server_error:"Kesalahan Server"},ure={severity_unknown:"Tidak diketahui",warning_title:"Tidak dapat menggunakan peta sebagai filter",warning_description:"Peta belum siap, coba nanti",bbox_filter_button:"Gunakan tampilan peta sebagai filter",analytics:{affected_people:{tooltip:"Orang yang Terdampak",value:"Tidak berdampak kemanusiaan"},settled_area_tooltip:"Area yang Ditempati",loss_tooltip:"Estimasi kerugian"},no_event_in_feed:"Kejadian tidak ditemukan di feed kejadian terkini",no_selected_disaster:"Tidak ada bencana yang dipilih",chose_disaster:"Pilih bencana"},cre={overlays:"Tumpang Susun",basemap:"Peta Dasar"},fre={layers_in_selected_area:"Lapisan di area pilihan",your_layers:"Lapisan Anda",kontur_analytics:"Analitik Kontur",qa:"QA",osmbasedmap:"Berbasis OpenStreetMap",other:"Lainnya",elevation:"Elevasi",photo:"Foto",map:"Peta"},pre={map:"Peta",about:"Tentang",reports:"Laporan",profile:"Profil"},hre={load_world_data:"Memuat Data Dunia",numerator:"Pembilang",normalized_by:"Dinormalkan Dengan",sum:"Jumlah",min:"Min",max:"Maks",mean:"Rerata",stddev:"Simpangan baku",median:"Median",filter_denominator:"Filter Penyebut"},Are={},dre={edit_layer:"Edit Lapisan",edit_features:"Edit Fitur",delete_layer:"Hapus Lapisan",create_layer:"Buat Lapisan",saving_layer:"Menyimpan lapisan...",field_name:"Nama bidang",layer_name:"Nama lapisan",marker_icon:"Ikon penanda",type:"Jenis",select:"Pilih",short_text:"Teks Singkat",long_text:"Teks Panjang",link:"Tautan",image:"Gambar",fields:"Bidang",add_field:"Tambahkan bidang",location:"Lokasi",edit_feature_placeholder:"Pilih beberapa fitur untuk mulai mengedit properti fitur"},mre={header_title:"Analitik",error_loading:"Kesalahan saat mengambil data analitik"},gre={header_title:"Analitik tingkat lanjut",error:"Kesalahan saat mengambil data analitik tingkat lanjut"},yre={not_found:"Maaf, kejadian yang diminta tidak ditemukan.",error:"Terjadi kesalahan!"},vre={not_found_request:"Maaf, kejadian yang diminta tidak ditemukan."},_re={area:"Area",line:"Garis",point:"Titik",finish_drawing:"Selesai Menggambar",caption:"Klik peta untuk mulai menggambar",no_geometry_error:"Tidak ada gambar geometri untuk diunduh",overlap_error:"Poligon tidak boleh bertumpang-tindih sendiri",save_features:"Simpan fitur"},xre={title:"Fokus ke batas administratif"},bre={title:"Fokus ke geometri unggahan",error:"Kesalahan saat membaca file unggahan"},wre={title:"Fokus ke geometri bebas"},Sre={settings:{name:"Area Pilihan"}},Cre={self_directions_not_supported:"Tidak mendukung perpotongan dengan dirinya sendiri!"},Ere={biv_color_manager:"Pengelola warna",edit_osm:"Edit di OpenStreetMap",ruler:"Penggaris",collapse:"Ciutkan",expand:"Bentangkan",icon_alt:"Logo aplikasi"},kre={email:"Email",password:"Kata Sandi",login_button:"Masuk",sign_up:"Daftar",logging_in:"Masuk...",log_in:"Masuk",description:"Masuk untuk mengubah pengaturan Anda",error:{email_empty:"Email tidak boleh kosong!",email_invalid:"Email harus valid!",password:"Kata sandi tidak boleh kosong!",connect:"Tidak dapat terhubung ke layanan autentikasi"}},Pre={email:"Email",profileSettingsHeader:"Profil",interfaceTheme:"Tema",interfaceLanguage:"Bahasa",units:"Satuan",fullName:"Nama Lengkap",metric:"metrik",imperialBeta:"imperial (beta)",appSettingsHeader:"Pengaturan",saveButton:"Simpan perubahan",konturTheme:"Kontur",HOTTheme:"HANGAT","userBio(about)":"Bio",defaultDisasterFeed:"Feed bencana bawaan",defaultOSMeditor:"Editor OpenStreetMap bawaan (beta)",successNotification:"Semua perubahan telah berhasil diterapkan",languageOption:{en:"Inggris",es:"Spanyol",ar:"Arab",ko:"Korea",id:"Indonesia",de:"Jerman",uk:"Orang Ukraina"}},Tre={title:"Laporan Disaster Ninja",no_data:"Tidak ada data untuk laporan ini",sorting:"Menyortir data...",loading:"Memuat data",search_location:"Cari lokasi",open_josm:"Buka melalui kendali jarak jaruh JOSM",josm_logo_alt:"Logo JOSM",see_all:"Lihat semua laporan",wrong_id:"ID laporan salah",description:"<0>Kontur </0> menghasilkan beberapa laporan yang membantu memvalidasi kualitas OpenStreetMap. Laporan tersebut berisi tautan ke area di <4>osm.org </4> dan tautan untuk membukanya di editor JOSM dengan kendali jarak jauh untuk pengeditan yang diaktifkan."},Ire={title:"Selamat datang di Disaster Ninja!",intro:"Apakah Anda ingin menerima kabar tentang bencana yang sedang terjadi? Anda tertarik dengan data populasi dan analitik lainnya yang tersaji seketika untuk wilayah mana pun di dunia? Disaster Ninja menampilkan beberapa kemampuan dari <2>Kontur</2> dalam mengatasi berbagai kebutuhan ini.<br/><br/>Pada awalnya, kami merancang alat ini sebagai alat bantu untuk pemetaan kemanusiaan. Kini, fungsionalitas dan kasus penggunaannya telah bertambah. Apakah Anda bekerja pada pengelolaan bencana, membangun kota cerdas, ataupun meneliti perubahan iklim, Disaster Ninja dapat membantu Anda untuk:",l1:"1. Selalu mendapatkan kabar terbaru tentang kejadian berbahaya terkini di seluruh dunia.",p1:"Panel Bencana disegarkan secara terus-menerus untuk memberi tahu Anda kejadian yang sedang berlangsung. Panel ini memakai data dari <2>Feed Kejadian Kontur</2>, yang juga dapat diakses melalui API.",l2:"2. Fokus pada area perhatian Anda.",p2:"Panel Peralatan Gambar memungkinkan Anda menggambar atau mengunggah geometri Anda sendiri pada peta. Anda juga dapat berfokus pada area yang terpapar bencana atau satuan administratif — negara, kota, atau wilayah.",l3:"3. Dapatkan analitik untuk area yang menjadi fokus.",p3:"Panel Analitik memperlihatkan jumlah orang yang tinggal di area tersebut untuk setiap <2>Populasi Kontur</2> dan perkiraan kesenjangan pemetaan di OpenStreetMap. Pelanggan Kontur memiliki akses ke ratusan indikator lainnya melalui Analitik Lanjut.",l4:"4. Selidiki data pada peta dan buat kesimpulan.",p4:"Panel Lapisan memberi Anda berbagai opsi untuk menampilkan dua indikator secara serentak pada peta bivariat, misalnya kepadatan populasi dan jarak ke stasiun pemadam kebakaran terdekat. Gunakan legenda warna untuk menilai area mana yang perlu diperhatikan. <br/>Petunjuk: secara umum, warna hijau menunjukkan risiko rendah/sedikit kesenjangan, warna merah — risiko tinggi/banyak kesenjangan.",p5:"Selain itu, Anda dapat beralih ke Laporan di panel kiri untuk mengakses data tentang potensi kesalahan dan inkonsistensi di OpenStreetMap serta membantu memperbaikinya dengan memetakan masing-masing area menggunakan editor JOSM.",goToMap:"Buka peta sekarang",p6:"Kami berharap agar alat ini bermanfaat bagi Anda. Gunakan kotak obrolan di Disaster Ninja untuk setiap pertanyaan tentang fungsionalitas, dan kami dengan senang hati akan memandu Anda. Anda juga dapat menghubungi kami melalui email di <1>hello@kontur.io</1> jika Anda memiliki tanggapan atau saran untuk meningkatkan alat ini.<br/><br/>Disaster Ninja adalah proyek sumber terbuka. Temukan kodenya di <8>akun GitHub Kontur</8>."},Ore={get_location_error:"Kesalahan saat memperoleh lokasi",feature_title:"Temukan saya"},Mre="Episode",Lre="Memuat Episode",Rre={},Dre={},Fre={km:Fne,m:Bne,to:zne,maps:Nne,logout:Une,save:$ne,cancel:jne,create:Vne,disasters:Hne,loading:qne,loading_events:Gne,legend:Qne,vertical_direction:Wne,horizontal_direction:Kne,legend_presentation:Zne,layers:Xne,bivariate:Yne,feed:Jne,deselect:ere,spinner_text:tre,updated:nre,no_data_received:rre,wrong_data_received:ire,error:ore,sort_icon:are,configs:sre,errors:lre,event_list:ure,categories:cre,groups:fre,modes:pre,advanced_analytics_data_list:hre,mcda:Are,create_layer:dre,analytics_panel:mre,advanced_analytics_panel:gre,advanced_analytics_empty:yre,current_event:vre,draw_tools:_re,boundary_selector:xre,geometry_uploader:bre,focus_geometry:wre,focus_geometry_layer:Sre,drawings:Cre,sidebar:Ere,login:kre,profile:Pre,reports:Tre,about:Ire,locate_me:Ore,episode:Mre,loading_episodes:Lre,cookie_banner:Rre,live_sensor:Dre},Bre="km",zre="m",Nre="bis",Ure="Karten",$re="Abmelden",jre="Speichern",Vre="Abbrechen",Hre="Erstellen",qre="Katastrophen",Gre="Wird geladen...",Qre="Ereignisse werden geladen",Wre="Legende",Kre="Vertikale Richtung",Zre="Horizontale Richtung",Xre="Darstellung der Legende",Yre="Ebenen",Jre={color_manager:{layers_filter:"Ebenen",not_defined:"Nicht definiert",sentiments_combinations_filter:"Stimmungs-Kombinationen",no_legends:"Es gibt keine Legenden, die den Kriterien entsprechen.",no_data:"Keine Daten.",sentiments_tab:"Stimmungen",color_legends_tab:"Farbe Legenden",layers_tab:"Ebenen (Indikatoren)"},panel:{header:"Bivariate Matrix"},matrix:{caption:{base_axis:"Basisachse",annex_axis:"Hilfsachse",tooltip:{p1:"Diagramme mit der Basis- und der Hilfsachse helfen, eine Beziehung zwischen zwei Datensätzen herzustellen.",li1:"Hilfsachse - Parameter, die wir analysieren",li2:"Basisachse - Referenzpunkt in der Analyse",b:"Beispiel: der beste Standort für die Eröffnung eines Cafés",p2:"Wir können die Anzahl der Lokale (Hilfsachse) gegen die Bevölkerungsdichte (Basisachse) untersuchen.",p3:"In diesem Szenario liegt unser Interesse zunächst auf einer kleinen Anzahl von Lokalen, wobei uns die Anzahl der Personen in diesem Ort zusätzliche Informationen liefert."}},header:{title:"Wählen Sie zwei Ebenen, um Zusammenhänge zu untersuchen",hint:"Die Ebenen und Zusammenhänge werden für den aktuellen ausgewählten Bereich angezeigt"},icon:{population:"Wert geteilt durch Einwohnerzahl",area_km2:"Wert geteilt durch Fläche",total_building_count:"Wert geteilt durch geschätzte Gesamtbebauung",populated_area_km2:"Wert geteilt durch bevölkerte Fläche",one:"Ohne Teilung",roads:"Wert geteilt durch die Gesamtlänge der Straßen"},progress:{rendering:"Übertragung",applied:"Wird auf die Karte angewendet"}},legend:{high:"Hoch",low:"Niedrig",medium:"Mittel"}},eie="Feed",tie="Auswahl aufheben",nie="Daten sammeln",rie="Aktualisiert",iie="Keine Daten erhalten",oie="Falsche Daten empfangen",aie="Fehler",sie="Sortiersymbol",lie={Kontur_public_feed:"Kontur Öffentlichkeit",Kontur_public_feed_description:"Der Feed enthält Echtzeitdaten über Wirbelstürme, Dürren, Erdbeben, Überschwemmungen, Vulkanausbrüche und Waldbrände."},uie={default:"Leider gibt es derzeit ein paar Probleme, die wir in Kürze beheben werden",timeout:"Zeitüberschreitung der Anfrage",cannot_connect:"Die Verbindung zum Server kann nicht hergestellt werden",forbidden:"Verboten",not_found:"Nicht gefunden",unknown:"Unbekannt",server_error:"Serverfehler"},cie={severity_unknown:"Unbekannt",warning_title:"Die Karte kann nicht als Filter verwendet werden",warning_description:"Die Karte ist noch nicht bereit. Bitte versuchen Sie es später.",bbox_filter_button:"Kartenansicht als Filter verwenden",analytics:{affected_people:{tooltip:"Betroffene Menschen",value:"Keine humanitären Auswirkungen"},settled_area_tooltip:"Besiedeltes Gebiet",loss_tooltip:"Geschätzter Verlust"},no_event_in_feed:"Das Ereignis wurde nicht im aktuellen Ereignis-Feed gefunden",no_selected_disaster:"Keine Katastrophe ausgewählt",chose_disaster:"Katastrophe auswählen"},fie={overlays:"Überlagerungen",basemap:"Basiskarte"},pie={layers_in_selected_area:"Ebenen im ausgewählten Bereich",your_layers:"Ihre Ebenen",kontur_analytics:"Kontur Analytik",qa:"QS",osmbasedmap:"Basierend auf OpenStreetMap",other:"Andere",elevation:"Höhe",photo:"Foto",map:"Karte"},hie={map:"Karte",about:"Über uns",reports:"Berichte",profile:"Profil"},Aie={load_world_data:"Weltdaten laden",numerator:"Zähler",normalized_by:"Normalisiert auf",sum:"Summe",min:"Min",max:"Max",mean:"Mittelwert",stddev:"SD",median:"Median",filter_denominator:"Filter Nenner"},die={},mie={edit_layer:"Ebene bearbeiten",edit_features:"Merkmale bearbeiten",delete_layer:"Ebene löschen",create_layer:"Ebene erstellen",saving_layer:"Ebene wird gespeichert...",field_name:"Feldname",layer_name:"Name der Ebene",marker_icon:"Markierungssymbol",type:"Typ",select:"Auswählen",short_text:"Kurzer Text",long_text:"Langer Text",link:"Link",image:"Bild",fields:"Felder",add_field:"Feld hinzufügen",location:"Standort",edit_feature_placeholder:"Wählen Sie einige Merkmale aus, um Merkmalseigenschaften zu bearbeiten"},gie={header_title:"Analytik",error_loading:"Fehler beim Abrufen von Analysedaten"},yie={header_title:"Erweiterte Analytik",error:"Fehler beim Abrufen von erweiterten Analysedaten"},vie={not_found:"Leider wurde das gewünschte Ereignis nicht gefunden.",error:"Es ist ein Fehler aufgetreten!"},_ie={not_found_request:"Leider wurde das gewünschte Ereignis nicht gefunden."},xie={area:"Gebiet",line:"Linie",point:"Punkt",finish_drawing:"Zeichnen beenden",caption:"Klicken Sie auf die Karte, um mit dem Zeichnen zu beginnen",no_geometry_error:"Keine gezeichnete Formen zum Herunterladen",overlap_error:"Das Polygon darf sich nicht überschneiden",save_features:"Merkmale speichern"},bie={title:"Fokus auf die Verwaltungsgrenze"},wie={title:"Fokus auf die hochgeladene geometrische Form",error:"Fehler beim Lesen der hochgeladenen Datei"},Sie={title:"Fokus auf freihändig gezeichnete Formen"},Cie={settings:{name:"Ausgewähltes Gebiet"}},Eie={self_directions_not_supported:"Überschneidungen werden nicht unterstützt!"},kie={biv_color_manager:"Farbmanager",edit_osm:"In OpenStreetMap bearbeiten",ruler:"Lineal",collapse:"Zusammenklappen",expand:"Erweitern",icon_alt:"Logo der Anwendung"},Pie={email:"E-Mail",password:"Passwort",login_button:"Anmelden",sign_up:"Registrieren",logging_in:"Anmelden...",log_in:"Einloggen",description:"Bitte melden Sie sich an, um Ihre Einstellungen zu ändern",error:{email_empty:"E-Mail darf nicht leer sein!",email_invalid:"E-Mail muss gültig sein!",password:"Passwort darf nicht leer sein!",connect:"Die Verbindung zum Authentifizierungsdienst konnte nicht hergestellt werden"}},Tie={email:"E-Mail",profileSettingsHeader:"Profil",interfaceTheme:"Thema",interfaceLanguage:"Sprache",units:"Einheiten",fullName:"Vollständiger Name",metric:"metrisch",imperialBeta:"imperial (beta)",appSettingsHeader:"Einstellungen",saveButton:"Änderungen speichern",konturTheme:"Kontur",HOTTheme:"HOT","userBio(about)":"Bio",defaultDisasterFeed:"Standardmäßige Katastrophenmeldung",defaultOSMeditor:"Standardmäßiger OpenStreetMap-Editor (Beta)",successNotification:"Alle Änderungen wurden erfolgreich übernommen",languageOption:{en:"Englisch",es:"Spanisch",ar:"Arabisch",ko:"Koreanisch",id:"Indonesisch",de:"Deutsch",uk:"Ukrainisch"}},Iie={title:"Disaster Ninja Berichte",no_data:"Keine Daten für diesen Bericht",sorting:"Daten werden sortiert...",loading:"Daten werden geladen",search_location:"Standort suchen",open_josm:"Öffnen über die JOSM-Fernsteuerung",josm_logo_alt:"JOSM-Logo",see_all:"Alle Berichte anzeigen",wrong_id:"Falsche Berichts-ID",description:"<0>Kontur </0> generiert verschiedene Berichte, die bei der Überprüfung der Qualität von OpenStreetMap helfen. Sie enthalten Links zu Gebieten auf <4>osm.org </4> und Links, um sie im JOSM-Editor mit aktivierter Fernsteuerung zur Bearbeitung öffnen zu können."},Oie={title:"Willkommen bei Disaster Ninja!",intro:"Möchten Sie über aktuelle Katastrophen informiert werden? Sind Sie an sofortigen Bevölkerungsdaten und anderen Analysen für eine beliebige Region auf der Welt interessiert? Disaster Ninja zeigt Ihnen einige der Funktionen von <2>Kontur</2>, mit denen diese Anforderungen umgesetzt werden können.<br/><br/>Ursprünglich haben wir es als Entscheidungshilfe für Kartografen im humanitären Bereich entwickelt. Mittlerweile ist der Funktionsumfang und der Anwendungsbereich des Programms erweitert worden. Ganz gleich, ob Sie im Katastrophenmanagement tätig sind, eine intelligente Stadt bauen oder über den Klimawandel forschen, Disaster Ninja kann Ihnen dabei helfen:",l1:"1. Über die aktuellen Gefahrenereignisse weltweit auf dem Laufenden zu bleiben.",p1:"Das Bedienfeld von Disasters wird kontinuierlich aktualisiert, um Sie über aktuelle Ereignisse zu informieren. Es bezieht die Daten aus dem <2>Kontur Ereignis-Feed</2>, auf den Sie auch über eine API zugreifen können.",l2:"2. Den Fokus auf Ihr Interessengebiet zu legen.",p2:"Mit den Zeichenwerkzeugen können Sie Ihre eigene geometrische Form auf die Karte zeichnen oder hochladen. Sie können sich auch auf ein von einer Katastrophe betroffenes Gebiet oder eine Verwaltungseinheit - ein Land, eine Stadt oder eine Region - konzentrieren.",l3:"3. Die Analytik für den ausgewählten Bereich aufrufen.",p3:"Das Bedienfeld Analytik zeigt die Anzahl der in diesem Gebiet lebenden Menschen pro <2>Kontur Bevölkerung</2> und geschätzte Kartierungslücken in OpenStreetMap. Kontur-Kunden haben über Erweiterte Analytik Zugang zu Hunderten von weiteren Indikatoren.",l4:"4. Die Daten auf der Karte entdecken und Schlussfolgerungen ziehen.",p4:"Das Ebenen-Panel bietet Ihnen verschiedene Optionen, um zwei Indikatoren gleichzeitig auf einer bivariaten Karte anzuzeigen, z. B. die Bevölkerungsdichte und die Entfernung zur nächsten Feuerwache. Verwenden Sie die Farblegende, um zu beurteilen, welche Bereiche Aufmerksamkeit erfordern. <br/>Tipp: Im Allgemeinen bedeutet grün ein geringes Risiko / wenige Lücken, rot ein hohes Risiko / viele Lücken.",p5:"Außerdem können Sie im linken Bereich zu Berichte wechseln, um auf Daten zu potenziellen Fehlern und Unstimmigkeiten in OpenStreetMap zuzugreifen und dabei zu helfen, diese zu beheben, indem Sie das entsprechende Gebiet mit dem JOSM-Editor kartieren.",goToMap:"Jetzt die Karte aufrufen",p6:"Wir hoffen, dass dieses Tool Ihnen von Nutzen ist. Wenn Sie Fragen zur Funktionalität haben, können Sie die Chatbox auf Disaster Ninja nutzen, und wir helfen Ihnen gerne weiter. Sie können uns auch eine E-Mail an <1>hello@kontur.io</1> schreiben, wenn Sie Feedback oder Vorschläge zur Verbesserung des Tools haben.<br/><br/>Disaster Ninja ist ein Open-Source-Projekt. Sie finden den Code in <8>Konturs GitHub-Konto</8>."},Mie={get_location_error:"Fehler beim Abrufen des Standorts",feature_title:"Standort finden"},Lie="Episode",Rie="Episoden werden geladen",Die={},Fie={},Bie={km:Bre,m:zre,to:Nre,maps:Ure,logout:$re,save:jre,cancel:Vre,create:Hre,disasters:qre,loading:Gre,loading_events:Qre,legend:Wre,vertical_direction:Kre,horizontal_direction:Zre,legend_presentation:Xre,layers:Yre,bivariate:Jre,feed:eie,deselect:tie,spinner_text:nie,updated:rie,no_data_received:iie,wrong_data_received:oie,error:aie,sort_icon:sie,configs:lie,errors:uie,event_list:cie,categories:fie,groups:pie,modes:hie,advanced_analytics_data_list:Aie,mcda:die,create_layer:mie,analytics_panel:gie,advanced_analytics_panel:yie,advanced_analytics_empty:vie,current_event:_ie,draw_tools:xie,boundary_selector:bie,geometry_uploader:wie,focus_geometry:Sie,focus_geometry_layer:Cie,drawings:Eie,sidebar:kie,login:Pie,profile:Tie,reports:Iie,about:Oie,locate_me:Mie,episode:Lie,loading_episodes:Rie,cookie_banner:Die,live_sensor:Fie},zie="км",Nie="м",Uie="до",$ie="мапи",jie="Вийти",Vie="Зберегти",Hie="Скасувати",qie="Створити",Gie="Катастрофа",Qie="Завантаження...",Wie="Завантажуємо події",Kie="Легенда",Zie="По вертикалі",Xie="По горизонталі",Yie="Презентація легенди",Jie="Шари",eoe={color_manager:{layers_filter:"Шари",not_defined:"Не задано",sentiments_combinations_filter:"Комбінація сентиментів",no_legends:"Немає легенд, що задовольняють умовам.",no_data:"Немає даних.",sentiments_tab:"Сентименти",color_legends_tab:"Легенда кольорів",layers_tab:"Шари (індикатори)"},panel:{header:"Біваріативна Матриця"},matrix:{caption:{base_axis:"Базова вісь",annex_axis:"Додаткова вісь",tooltip:{p1:"Діаграми, що містять базову та додаткову осі, допомагають встановити зв’язок між двома наборами даних.",li1:"Додаткова вісь - параметри, які ми аналізуємо",li2:"Базова вісь - орієнтир при аналізі",b:"Наприклад: найкраще місце щоб відкрити кафе",p2:"Ми можемо дослідити кількість закладів харчування (додаткова вісь) проти щільності населення (базова вісь).",p3:"У цьому сценарії нас спочатку цікавить невелика кількість закладів харчування, а кількість людей у цьому місці дає нам додаткову інформацію."}},header:{title:"Виберіть два шари, щоб дослідити їх кореляції",hint:"Шари та кореляції показані для виділеної області"},icon:{population:"Значення, поділене на кількість населення",area_km2:"Значення, поділене на площу",total_building_count:"Значення, поділене на загальну кількість будівель",populated_area_km2:"Значення, поділене на заселену площу",one:"Без знаменника",roads:"Значення, поділене на загальну довжину доріг"},progress:{rendering:"Візуалізація",applied:"Нанесено на карту"},loading_error:"На жаль, ми не можемо показати матрицю. Спробуйте оновити сторінку або зачекать."},legend:{high:"Високий",low:"Низький",medium:"Середній"}},toe="Стрічка",noe="Зняти вибір",roe="Збираємо дані",ioe="Оновлено",ooe="Немає даних",aoe="Отримано неправильні дані",soe="Помилка",loe="Значок сортування",uoe={Kontur_public_feed_description:"Стрічка містить дані в реальному часі про циклони, посухи, землетруси, повені, вулкани, лісові пожежі."},coe={default:"Вибачте, у нас виникли проблеми, які незабаром будуть вирішені",timeout:"Час очікування запиту минув",cannot_connect:"Не вдається під'єднатися до сервера",forbidden:"Заборонено",not_found:"Не знайдено",unknown:"Невідомий",server_error:"Помилка серверу"},foe={severity_unknown:"Невідомий",warning_title:"Не можливо використовувати карту як фільтр",warning_description:"Карта ще не готова, спробуйте пізніше",bbox_filter_button:"Використовуйте перегляд карти як фільтр",analytics:{affected_people:{tooltip:"Люди які постраждали",value:"Жодного гуманітарного впливу"},settled_area_tooltip:"Заселений район",loss_tooltip:"Орієнтовні збитки"},no_event_in_feed:"Подія не знайдена у вибраній стрічці подій",no_selected_disaster:"Катастрофа не вибрана",chose_disaster:"Виберіть катастрофу",no_historical_disasters:"Катастроф на цій території не знайдено",no_feed_disasters:"У стрічці немає катастроф",no_disasters:"Ніяких катастроф",severity_termination:"Припинення",severity_minor:"Незначний",severity_moderate:"Помірний",severity_severe:"Сильний",severity_extreme:"Екстримальний",open_timeline_button:"Відкрити темпоральну шкалу"},poe={overlays:"Оверлеї",basemap:"Базова карта"},hoe={layers_in_selected_area:"Шари у вибраній області",your_layers:"Ваші шари",kontur_analytics:"Аналітика Kontur",qa:"Аналітика якості",osmbasedmap:"На основі OpenStreetMap",other:"Інше",elevation:"Рел'єф",photo:"Фото",map:"Мапа"},Aoe={map:"Мапа",about:"Про нас",reports:"Звіти",profile:"Профіль",privacy:"Конфіденційність"},doe={load_world_data:"Завантажити дані на всю планету",numerator:"Чисельник",normalized_by:"Нормалізовано за",sum:"Сума",min:"Мін.",max:"Макс.",mean:"Середнє",stddev:"Стандартне відхилення",median:"Медіана",filter_numerator:"Фільтр чисельника",filter_denominator:"Фільтр знаменника"},moe={},goe={edit_layer:"Редагувати шар",edit_features:"Редагувати об'єкт",delete_layer:"Видалити шар",create_layer:"Створити шар",saving_layer:"Зберігаємо зміни...",field_name:"Назва поля",layer_name:"Назва шару",marker_icon:"Значок маркера",type:"Тип",select:"Вибрати",short_text:"Текст(короткий)",long_text:"Текст(довгий)",link:"Посилання",image:"Зображення",fields:"Поля",add_field:"Додати поле",location:"Позиція",edit_feature_placeholder:"Виберіть об’єкт для редагування його значень"},yoe={header_title:"Аналітика",error_loading:"Помилка під час отримання даних аналітики"},voe={header_title:"Розширена аналітика",error:"Помилка під час отримання даних розширеної аналітики"},_oe={not_found:"Вибачте, подію не знайдено.",error:"Сталася помилка!",analytics_for_selected:"Аналітика для обраної території",will_be_provided:"буде надано тут"},xoe={not_found_request:"Вибачте, подію не знайдено."},boe={area:"Полігон",line:"Лінія",point:"Точка",finish_drawing:"Закінчити малювання",caption:"Натисніть на карту, щоб почати малювати",no_geometry_error:"Немає геометрії для завантаження",overlap_error:"Полігон не має перетинати сам себе",save_features:"Зберегти об'єкти"},woe={title:"Фокусувати на адміністративну одиницю"},Soe={title:"Фокусувати на завантажену геометрію",error:"Помилка під час завантаження файлу"},Coe={title:"Фокусувати на намальовану геометрію"},Eoe={settings:{name:"Вибраний полігон"}},koe={self_directions_not_supported:"Самоперетин не підтримується!"},Poe={biv_color_manager:"Редактор кольорів",edit_osm:"Редагувати в OpenStreetMap",ruler:"Лінійка",collapse:"Згорнути",expand:"Розгорнути",icon_alt:"Логотип аплікації"},Toe={email:"Електронна пошта",password:"Пароль",login_button:"Логін",sign_up:"Зареєструватися",logging_in:"Входимо...",log_in:"Увійти",description:"Увійдіть, щоб змінити налаштування",error:{email_empty:"Електронна пошта не може бути пустою!",email_invalid:"Електронна пошта має бути коректною!",password:"Пароль не може бути пустим!",connect:"Не вдалося під'єднатися до служби аутентифікації"}},Ioe={email:"Електронна пошта",profileSettingsHeader:"Профіль",interfaceTheme:"Тема",interfaceLanguage:"Мова",units:"Одиниці вимірювання",fullName:"Прізвище Ім'я",metric:"метрична система",imperialBeta:"англійська система (бета)",appSettingsHeader:"Налаштування",saveButton:"Зберегти зміни","userBio(about)":"Про себе",defaultDisasterFeed:"Стрічка катастроф за замовчуванням",defaultOSMeditor:"Редактор OpenStreetMap за замовчуванням (бета)",successNotification:"Усі зміни успішно застосовано",languageOption:{en:"Англійська",es:"Іспанська",ar:"Арабська",ko:"Корейська",id:"Індонезійська",de:"Німецька",uk:"Українська"}},Ooe={title:"Звіти Disaster Ninja",no_data:"Нема даних для звіту",sorting:"Сортуємо дані...",loading:"Завантажуємо дані",search_location:"Знайти місцеположення",open_josm:"Відкрити в JOSM",josm_logo_alt:"Логотип JOSM",see_all:"Дивитися всі звіти",wrong_id:"Неправильний ID звіту",description:"<0>Kontur </0> генерує декілька звітів які допомагають перевіряти якість даних OpenStreetMap. Вони містять посилання на <4>osm.org</4> і посилання, щоб відкрити їх у редакторі JOSM для редагування."},Moe={title:"Вітаємо на Disaster Ninja!",intro:"Ви хочете отримувати повідомлення про катастрофи? Вас цікавлять миттєві дані про населення та інша аналітика для будь-якого регіону світу? Disaster Ninja від <2>Kontur</2> може задовольнити ці потреби.<br/><br/> Ми розробили це як інструмент підтримки прийняття рішень для гуманітарних картографів. Тепер його функціональність зросла. Незалежно від того, чи працюєте ви в сфері боротьби зі стихійними лихами, будуєте розумне місто чи проводите дослідження щодо зміни клімату, Disaster Ninja може вам допомогти:",l1:"1. Будьте в курсі останніх катастроф у всьому світі.",p1:"Панель Катастроф постійно оновлюється, щоб інформувати вас про поточні події. Дані отримані з каналу подій <2>Kontur</2>, до якого також можна отримати доступ через API.",l2:"2. Фокусуйтеся на вашій сфері інтересів.",p2:'Панель "Інструменти малювання" дозволяє малювати або завантажувати власну геометрію на карту. Ви також можете фокусуватися на області, що постраждала від стихійного лиха, або на адміністративній одиниці — країна, район чи місто.',l3:"3. Отримайте аналітику для вибраної області.",p3:"Панель Аналітика показує кількість людей, які проживають у цьому регіоні на основі <2>населення Kontur</2> і потенційні прогалини картографування в OpenStreetMap. Клієнти Kontur мають доступ до сотень інших показників за допомогою Детальної Аналітики.",l4:"4. Досліджуйте дані на карті та робіть висновки.",p4:'Панель "Шари" надає різні параметри для одночасного відображення двох індикаторів на карті, наприклад, щільність населення та відстань до найближчої пожежної частини. Використовуйте легенду кольорів, щоб визначити, які області потребують уваги. <br/>Підказка: загалом зелений колір означає низький ризик / мало прогалин, червоний — високий ризик / багато прогалин.',p5:"Крім того, ви можете перейти до звітів на лівій панелі, щоб отримати доступ до даних про потенційні помилки та невідповідності в даних OpenStreetMap і допомогти їх виправити, наприклад за допомогою редактора JOSM.",goToMap:"Перейти до мапи",p6:"Ми сподіваємося, що цей інструмент буде корисний. Використовуйте вікно чату на Disaster Ninja, щоб задати будь-які запитання щодо функціональності, і ми з радістю допоможемо вам. Ви також можете зв’язатися з нами електронною поштою <1>hello@kontur.io</1> якщо у вас є відгуки чи пропозиції щодо вдосконалення інструменту.<br/><br/> Disaster Ninja є проєктом з відкритим кодом. Дивіться код в обліковому записі GitHub <8>Kontur</8>."},Loe={get_location_error:"Помилка під час визначення місцеположення",feature_title:"Знайти мене"},Roe="Епізод",Doe="Завантаження епізодів",Foe={header:"Ми цінуємо вашу приватність",body:`Ми використовуємо абсолютно необхідні файли cookies, щоб надавати вам персоналізовані послуги, і додаткові файли cookies, щоб покращити Disaster Ninja та ваш досвід. Ви можете будь-коли змінити налаштування файлів cookies або відкликати згоду на використання додаткових файлів cookies.
Щоб дізнатися більше, перегляньте нашу [Політику конфіденційності](Про нас/Конфіденційність)`,decline_all:"Відхилити файли cookies",accept_all:"Прийняти файли cookies"},Boe={start:"Почати запис даних з сенсорів",finish:"Зупинити запис даних з сенсорів",finishMessage:"Запис даних завершенно",startMessage:"Запис даних розпочато",noSensorsError:"Ваш пристрій не має необхідних сенсорів"},zoe={km:zie,m:Nie,to:Uie,maps:$ie,logout:jie,save:Vie,cancel:Hie,create:qie,disasters:Gie,loading:Qie,loading_events:Wie,legend:Kie,vertical_direction:Zie,horizontal_direction:Xie,legend_presentation:Yie,layers:Jie,bivariate:eoe,feed:toe,deselect:noe,spinner_text:roe,updated:ioe,no_data_received:ooe,wrong_data_received:aoe,error:soe,sort_icon:loe,configs:uoe,errors:coe,event_list:foe,categories:poe,groups:hoe,modes:Aoe,advanced_analytics_data_list:doe,mcda:moe,create_layer:goe,analytics_panel:yoe,advanced_analytics_panel:voe,advanced_analytics_empty:_oe,current_event:xoe,draw_tools:boe,boundary_selector:woe,geometry_uploader:Soe,focus_geometry:Coe,focus_geometry_layer:Eoe,drawings:koe,sidebar:Poe,login:Toe,profile:Ioe,reports:Ooe,about:Moe,locate_me:Loe,episode:Roe,loading_episodes:Doe,cookie_banner:Foe,live_sensor:Boe},Noe="en";rs.use(UR).use(yY).init({fallbackLng:Noe,debug:!1,defaultNS:"common",interpolation:{escapeValue:!1},contextSeparator:":",pluralSeparator:":",resources:{en:{common:MJ},es:{common:Lee},ar:{common:Rte},ko:{common:Dne},id:{common:Fre},de:{common:Bie},uk:{common:zoe}}});const Nr={t:(e,t)=>{const n=rs.t(e,t);return typeof n=="string"?n:(console.error(`Not supported translation result for key: ${e}`),e)},instance:rs},vs=3,$R=[0,vs-1,vs*vs-vs,vs*vs-1],A2=`↓${Nr.t("bivariate.legend.low")}`,d2=`↑${Nr.t("bivariate.legend.high")}`,jR=Nr.t("bivariate.legend.medium"),Uoe=e=>Array.from(Array(vs),(t,n)=>n).includes(e),g4=e=>{const t=vs*vs-vs;return Array.from(Array(vs),(n,i)=>t+i).includes(e)},y4=e=>Array.from(Array(vs),(t,n)=>n*vs).includes(e),$oe=e=>Array.from(Array(vs),(t,n)=>n*vs+(vs-1)).includes(e);const Yx=jt.memo(({children:e,tooltipText:t,renderTooltip:n,tooltipId:i,hoverBehavior:s=!0,popupClasses:l})=>{const o=r4(py.setCurrentTooltip),x=r4(py.resetCurrentTooltip),S=D=>{t&&o({popupClasses:l,popup:t,position:{x:D.clientX,y:D.clientY},onOuterClick(z,U){U()},initiatorId:i,hoverBehavior:s})};return e({showTooltip:(D,...z)=>{n?n(D,o,...z):S(D)},hideTooltip:()=>{x()}})});Yx.displayName="TooltipWrapper";function NA(e){return["get",e]}function joe(e){return["var",e]}function wP(e,t){return["<",e,t]}function v4(e,t){return["!=",e,t]}function Voe(e,t){return["==",e,t]}function _4(e,t){return[e,t]}function x4(...e){const t=e.pop();return["case",...e.flat(2),t]}function Hoe(...e){return["concat",...e]}function qoe(e,t,n){return["let",e,t,n]}function VR(...e){return["any",...e]}function b4(e){return typeof e=="string"?e==="1"?1:NA(e):Array.isArray(e)?e.map((t,n)=>n===0?t:b4(t)):e}const Goe=64,w4=e=>String.fromCharCode(Goe+e);function Qoe(e,t){const n=b4(e.propName),i=b4(t.propName);return Hoe(x4(e.borders.map((s,l)=>_4(wP(n,s),w4(l))),w4(e.borders.length)),x4(t.borders.map((s,l)=>_4(wP(i,s),l)),t.borders.length))}function Woe(e,t,n){return x4(Object.entries(t).map(([i,s])=>_4(Voe(joe(e),i),s)),n)}function Koe(e){return Object.fromEntries(e.map(Object.values))}function Zoe(e,t){return VR(v4(["/",NA(e.quotient[0]),NA(e.quotient[1])],0),v4(["/",NA(t.quotient[0]),NA(t.quotient[1])],0))}function Xoe(e,t,n){return qoe("class",Qoe({propName:["/",...e.quotient],borders:e.steps.reduce((i,{value:s})=>(i.push(s),i),[])},{propName:["/",...t.quotient],borders:t.steps.reduce((i,{value:s})=>(i.push(s),i),[])}),Woe("class",n,"transparent"))}function HR({x:e,y:t,colors:n,source:i,sourceLayer:s,id:l="bivariate"}){const o={id:l,type:"fill",layout:{},filter:Zoe(e,t),paint:{"fill-color":Xoe(e,t,Koe(n)),"fill-opacity":1,"fill-antialias":!1}};return i&&(o.source=i),s&&(o["source-layer"]=s),o}function Yoe(e,t="id"){const n=e.reduce((i,s)=>{const l=s[t].slice(0,1);return i[l]?i[l].push(s):i[l]=[s],i},{});return Object.values(n)}function Joe(e,t="id"){return[...Yoe(e,t)].reverse().reduce((i,s)=>i.concat(s),[])}function SP(e,t=0,{start:n=!0,middle:i=!0,once:s=!1}={}){let l=0,o,x=!1;function S(...P){if(x)return;const M=Date.now()-l;l=Date.now(),n?(n=!1,e.apply(this,P),s&&S.cancel()):(i&&M<t||!i)&&(clearTimeout(o),o=setTimeout(()=>{l=Date.now(),e.apply(this,P),s&&S.cancel()},i?t-M:t))}return S.cancel=()=>{clearTimeout(o),x=!0},S}const eae=e=>e!==null&&typeof e=="object"&&"message"in e,qR=e=>e.charAt(0).toUpperCase()+e.slice(1),tae=e=>e.map(qR).join(", "),S4=(e,t)=>e.reduce((n,i)=>n+i[t],0),nae=e=>Array.isArray(e)?tae(e):qR(e),CP=e=>{if(!e)return"";const[t,n]=e;return EP(t.unit.id)?n.name==="one"?`${t.label} (${t.unit.shortName})`:EP(n.unit.id)?n.name==="area_km2"?`${t.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName}/${n.unit.shortName})`:`${t.label} to ${n.label} (${t.unit.shortName})`:`${t.label} to ${n.label}`},EP=e=>Boolean(e&&e!=="other"),rae="_tooltipRoot_zjmcz_1",iae="_tooltipRow_zjmcz_11",oae="_sentimentDirection_zjmcz_17",aae="_sentimentLabel_zjmcz_21",sae="_sentimentInfo_zjmcz_25",lae="_indicator_zjmcz_29",Xd={tooltipRoot:rae,tooltipRow:iae,sentimentDirection:oae,sentimentLabel:aae,sentimentInfo:sae,indicator:lae},uae=({children:e,hints:t})=>{const n=(i,s,l,o)=>{t&&$R.includes(o)&&s({popup:_t(cae,{cellIndex:o,hints:t}),position:{x:i.clientX,y:i.clientY},hoverBehavior:!0})};return jt.isValidElement(e)?_t(Yx,{renderTooltip:n,children:({showTooltip:i,hideTooltip:s})=>jt.cloneElement(e,{onCellPointerOver:i,onCellPointerLeave:s})}):null},cae=({hints:e,cellIndex:t})=>{var i,s,l,o,x,S;if(!e)return null;const n=[{label:(i=e.x)==null?void 0:i.label,direction:(l=(s=e.x)==null?void 0:s.direction)==null?void 0:l[g4(t)?0:1],indicator:g4(t)?A2:d2},{label:(o=e.y)==null?void 0:o.label,direction:(S=(x=e.y)==null?void 0:x.direction)==null?void 0:S[y4(t)?0:1],indicator:y4(t)?A2:d2}];return _t("div",{className:aa(Xd.tooltipRoot),children:n.map(({label:P,direction:M,indicator:D},z)=>wr("div",{className:aa(Xd.tooltipRow),children:[_t("span",{className:aa(Xd.indicator),children:D}),wr("span",{className:aa(Xd.sentimentInfo),children:[wr("span",{className:aa(Xd.sentimentLabel),children:[P," "]}),M&&_t("span",{className:aa(Xd.sentimentDirection),children:nae(M)})]})]},z))})},fae={hints:{x:{label:"Average NDVI, JUN 2019",direction:[["bad"],["good"]]},y:{label:"Multi-hazard exposure PDC GRVA",direction:[["unimportant"],["bad","important"]]}}},pae={x:{label:"Multi-hazard exposure PDC GRVA to 1",steps:[{label:"",value:0},{label:"",value:.48},{label:"",value:.62},{label:"",value:1}],quality:.997101882904748,quotient:["mhe_index","one"]},y:{label:"Average NDVI, JUN 2019 to 1",steps:[{label:"",value:-1},{label:"",value:.3625118070036407},{label:"",value:.6441754083082613},{label:"",value:1}],quality:.9410965072118505,quotient:["avg_ndvi","one"]}},hae=[{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(179,165,130,0.5)"},{label:"C3",color:"rgba(153,153,153,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(195,163,111,0.5)"},{label:"B3",color:"rgba(204,103,116,0.5)"},{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"}];function Aae(){return wr(LL,{children:[_t(RR,{}),_t(uae,{meta:fae,children:_t(Xq,{showAxisLabels:!0,size:vs,axis:pae,cells:hae})})]})}const dae="_LegendGrid_1ko5k_1",mae="_LegendGridCell_1ko5k_10",gae="_LegendGridCellChanged_1ko5k_17",yae="_LegendGridCellUndefinedChanged_1ko5k_22",vae="_CircleIndicator_1ko5k_26",_ae="_UndefinedColorsIndicator_1ko5k_36",Yd={LegendGrid:dae,LegendGridCell:mae,LegendGridCellChanged:gae,LegendGridCellUndefinedChanged:yae,CircleIndicator:vae,UndefinedColorsIndicator:_ae},eg=({legendSteps:e,changes:t={}})=>{const n=$R.map(s=>e[s]),i=e.some(s=>s.isFallbackColor);return wr("div",{className:Yd.LegendGrid,children:[n.map(s=>{var P;let l=s.color,o=!1,x,S;if(t[s.label]){o=!0;const M=(P=t[s.label])==null?void 0:P.color;l=M,x=M?Yd.LegendGridCellChanged:Yd.LegendGridCellUndefinedChanged}return l&&(S={backgroundColor:l}),_t("div",{className:aa(Yd.LegendGridCell,x),style:S,children:o&&_t("div",{className:Yd.CircleIndicator})},s.label)}),i&&_t("div",{className:Yd.UndefinedColorsIndicator,children:_t(xae,{})})]})},xae=()=>wr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[_t("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),_t("path",{d:"M10 3C6.13438 3 3 6.13438 3 10C3 13.8656 6.13438 17 10 17C13.8656 17 17 13.8656 17 10C17 6.13438 13.8656 3 10 3ZM10 15.8125C6.79063 15.8125 4.1875 13.2094 4.1875 10C4.1875 6.79063 6.79063 4.1875 10 4.1875C13.2094 4.1875 15.8125 6.79063 15.8125 10C15.8125 13.2094 13.2094 15.8125 10 15.8125Z",fill:"#F5222D"}),_t("path",{d:"M9.25 12.75C9.25 12.9489 9.32902 13.1397 9.46967 13.2803C9.61032 13.421 9.80109 13.5 10 13.5C10.1989 13.5 10.3897 13.421 10.5303 13.2803C10.671 13.1397 10.75 12.9489 10.75 12.75C10.75 12.5511 10.671 12.3603 10.5303 12.2197C10.3897 12.079 10.1989 12 10 12C9.80109 12 9.61032 12.079 9.46967 12.2197C9.32902 12.3603 9.25 12.5511 9.25 12.75ZM9.625 11H10.375C10.4438 11 10.5 10.9438 10.5 10.875V6.625C10.5 6.55625 10.4438 6.5 10.375 6.5H9.625C9.55625 6.5 9.5 6.55625 9.5 6.625V10.875C9.5 10.9438 9.55625 11 9.625 11Z",fill:"#F5222D"})]}),tg=[{label:"A1",color:"rgba(232,232,157,0.5)"},{label:"A2",color:"rgba(216,159,88,0.5)"},{label:"A3",color:"rgba(228,26,28,0.5)"},{label:"B1",color:"rgba(169,218,122,0.5)"},{label:"B2",color:"rgba(159,171,87,0.5)"},{label:"B3",color:"rgba(140,127,57,0.5)"},{label:"C1",color:"rgba(90,200,127,0.5)"},{label:"C2",color:"rgba(88,176,117,0.5)"},{label:"C3",color:"rgba(83,152,106,0.5)"}],bae=wr("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:["All next colors - undefined",_t(eg,{legendSteps:tg,changes:{A1:{color:void 0},A3:{color:void 0},C1:{color:void 0},C3:{color:void 0}}}),"No changes",_t(eg,{legendSteps:tg,changes:{}}),"All changed",_t(eg,{legendSteps:tg,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(171, 216, 237, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed",_t(eg,{legendSteps:tg,changes:{A1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:"rgba(83, 152, 106, 0.5)"}}}),"Half of cells changed, half comes incorrect",_t(eg,{legendSteps:tg,changes:{A1:{color:void 0},A3:{color:"rgba(12, 155, 237, 0.5)"},C1:{color:"rgba(173, 169, 200, 0.5)"},C3:{color:void 0}}})]}),wae="modulepreload",Sae=function(e,t){return new URL(e,t).href},kP={},Cae=function(t,n,i){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=Sae(l,i),l in kP)return;kP[l]=!0;const o=l.endsWith(".css"),x=o?'[rel="stylesheet"]':"";if(!!i)for(let M=s.length-1;M>=0;M--){const D=s[M];if(D.href===l&&(!o||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${x}`))return;const P=document.createElement("link");if(P.rel=o?"stylesheet":wae,o||(P.as="script",P.crossOrigin=""),P.href=l,document.head.appendChild(P),o)return new Promise((M,D)=>{P.addEventListener("load",M),P.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},Eae=e=>new Proxy({},{get:(t,n)=>{if(typeof n=="string")return jt.lazy(()=>e(n).then(i=>({default:i[n]})))}}),PP="bivariate-greetings-disabled",kae="_container_zzzsn_1",Pae="_closeButton_zzzsn_8",TP={container:kae,closeButton:Pae},{BivariateGreetings:Tae}=Eae(()=>Cae(()=>import("./BivariateGreetings-b1c8c0ef.js"),[],import.meta.url)),Iae=({className:e})=>{const[t,n]=jt.useState(!1);jt.useEffect(()=>{!localStorage.getItem(PP)&&!t&&n(!0)},[]);const i=()=>{n(!1),localStorage.setItem(PP,"true")};return t?wr("div",{className:aa(e,TP.container),children:[_t(jt.Suspense,{fallback:null,children:_t(Tae,{})}),_t("div",{onClick:i,className:TP.closeButton,children:_t(qH,{})})]}):null},Oae=()=>_t(Iae,{});var Mae=0;function Lae(e){var t=e.get,n=e.set,i=e.throttle,s=i===void 0?0:i;return function(l){var o="__persistIntervalId"+ ++Mae;return function(x){return function(S,P){var M=P.atom.id;P.tracks==null&&(P.state=t(l??M));var D=x(S,P);return n!=null&&S.schedule(function(){var z;s==0?n(l??M,D.state):((z=D.ctx[o])!=null?z:null)===null&&(D.ctx[o]=setTimeout(function(){D.ctx[o]=null,n(l??M,S.getCache(D.atom).state)},150))}),D}}}}var Rae={get:function(e){var t,n=(t=globalThis.localStorage)==null?void 0:t.getItem(e);return n?JSON.parse(n):void 0},set:function(e,t){var n;return(n=globalThis.localStorage)==null?void 0:n.setItem(e,JSON.stringify(t))},throttle:150};Lae(Rae);function Dae(e,t){if(Object.is(e,t))return!0;if(c2(e)&&c2(t)){var n=Object.keys(e),i=Object.keys(t);return n.length==i.length&&n.every(function(s){return Object.is(e[s],t[s])})}return!1}function GR(e){return e===void 0&&(e=Dae),function(t){return function(n,i){var s=t(n,i);return i.tracks!=null&&e(i.state,s.state)&&(s.state=i.state),s}}}class DA extends Error{constructor(n,i){super(n);sr(this,"problem");this.problem=i,Object.setPrototypeOf(this,DA.prototype)}}function QR(e){return e.problem?typeof e.problem=="object":!1}const WR="Abort error",IP=e=>e?typeof e=="string"?e===WR:QR(e)?e.problem.kind==="canceled":e instanceof DOMException?e.name==="AbortError":!1:!1;async function Fae(e,t){return new Promise((n,i)=>{if(e.signal.aborted)return Promise.reject(new DOMException("Aborted","AbortError"));const s=()=>{e.signal.removeEventListener("abort",s),i(new DOMException("Aborted","AbortError"))};e.signal.addEventListener("abort",s),t.then(n).catch(i).finally(()=>e.signal.removeEventListener("abort",s))})}function Bae(e){return"loading"in e||"error"in e}const zae="",Nae=e=>(...t)=>{e===zae&&console.log(...t)},e3={inheritState:!1,store:kR,auto:!0},KR=(e=>t=>{if(!e.has(t))return e.add(t),t;console.warn(`Atom with name ${t} already exist. Full page reload recommended`);const n=t+performance.now();return KR(n)})(new Set);function ZR(e,t,n,i={}){const s=Nae(n),l={...i,auto:i.auto??e3.auto,inheritState:i.inheritState??e3.inheritState,store:i.store??e3.store},o={request:S=>S,refetch:()=>null,cancel:()=>null,_done:(S,P)=>({params:S,data:P}),_error:(S,P)=>({params:S,error:P}),_loading:S=>({params:S})};return e&&(o.depsAtom=e),Mo(o,({onAction:S,schedule:P,create:M,onChange:D,get:z},U={loading:!1,data:null,error:null,lastParams:null,dirty:!1})=>{const q={...U};return S("request",K=>{q.dirty=!0,P(async(ee,V)=>{if(s("1. Request",K),V.abortController){s("2. Cancel flow"),V.abortController.abort(),delete V.abortController;let ne=!1;try{s("2.1. Cancel flow: await activeRequest"),await V.activeRequest}catch(pe){s("2.2. Cancel flow: activeRequest have error"),ne=IP(pe)}ne&&(s("2.3. Cancel flow: activeRequest was canceled"),s("2.4. Repeat request"),ee(M("request",K)));return}s("3. Set loading state"),ee(M("_loading",K));const X=new AbortController;try{V.abortController=X,V.activeRequest=Fae(X,t(K,X)),s("4. Wait result");const ne=await V.activeRequest;ne===void 0&&console.warn("resourceAtom: fetcherResult undefined"),delete V.activeRequest,s("5. Check that it was aborted:"),X.signal.throwIfAborted(),s("5.1.A. request was not aborted"),V.abortController===X&&(s("5.1.A.1. Done"),delete V.abortController,ee(M("_done",K,ne)),l.onSuccess&&l.onSuccess(ee,K,ne))}catch(ne){if(IP(ne))s("5.1.B. request was aborted"),s("5.1.B.1. Error"),ee(M("_error",K,WR));else if(V.abortController===X){delete V.abortController,s("5.1.C Not abort error"),console.error(`[${n}]:`,ne);const pe=eae(ne)?ne.message:typeof ne=="string"?ne:"Unknown";ee(M("_error",K,pe))}}})}),S("refetch",()=>{P((K,ee)=>{U.dirty&&!U.loading?K(M("request",q.lastParams)):console.error(`[${n}]:`,"Do not call refetch before request")})}),S("cancel",()=>{P(async(K,ee)=>{ee.abortController&&(ee.abortController.abort(),delete ee.abortController)})}),S("_loading",({params:K})=>{q.loading=!0,q.error=null,q.lastParams=K}),S("_error",({params:K,error:ee})=>{q.error=ee,q.lastParams=K,q.loading=!1}),S("_done",({data:K,params:ee})=>{q.data=K,q.error=null,q.loading=!1,q.lastParams=ee}),o.depsAtom?D("depsAtom",K=>{var ee;c2(K)?(l.inheritState&&(q.loading=K.loading||q.loading,q.error=K.error||q.error),Bae(K)?!K.loading&&!K.error&&K.dirty&&P(V=>V(M("request",K.data))):P(V=>V(M("request",K)))):K!==null?P(V=>V(M("request",K))):console.warn(`Resource atom with name ${n} skips running as its dependency state ${(ee=o==null?void 0:o.depsAtom)==null?void 0:ee.id} is null`)}):l.auto&&!q.dirty&&P(K=>K(M("request",null))),q},{id:KR(n),store:l.store,decorators:[GR()]})}const Oh={global:{},custom:{},overrides:{},merged:{}};function Uae(){var n,i,s,l;const e=globalThis.konturAppConfig??{},t={apiGateway:e.API_GATEWAY,reportsApi:e.REPORTS_API,bivariateTilesRelativeUrl:e.BIVARIATE_TILES_RELATIVE_URL,bivariateTilesServer:e.BIVARIATE_TILES_SERVER,bivariateTilesIndicatorsClass:e.BIVARIATE_TILES_INDICATORS_CLASS,refreshIntervalSec:e.REFRESH_INTERVAL_SEC,mapBaseStyle:e.MAP_BASE_STYLE,featuresByDefault:e.FEATURES_BY_DEFAULT,defaultFeed:e.DEFAULT_FEED,keycloakUrl:e.KEYCLOAK_URL,keycloakRealm:e.KEYCLOAK_REALM,keycloakClientId:e.KEYCLOAK_CLIENT_ID,yandexMetricaId:e.YANDEX_METRICA_ID,baseUrl:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_BASE_PATH,isDevBuild:!1,isProdBuild:!0,appVersion:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.PACKAGE_VERSION,autoFocus:{desktopPaddings:{top:((n=e.AUTOFOCUS_PADDINGS)==null?void 0:n[0])??0,right:((i=e.AUTOFOCUS_PADDINGS)==null?void 0:i[1])??0,bottom:((s=e.AUTOFOCUS_PADDINGS)==null?void 0:s[2])??0,left:((l=e.AUTOFOCUS_PADDINGS)==null?void 0:l[3])??0},maxZoom:e.AUTOFOCUS_ZOOM},intercom:{name:e.INTERCOM_DEFAULT_NAME,app_id:e.INTERCOM_APP_ID,custom_launcher_selector:e.INTERCOM_SELECTOR},osmEditors:e.OSM_EDITORS||[{id:"josm",title:"JOSM",url:"https://www.openstreetmap.org/edit?editor=remote#map="}],effectiveFeatures:{}};return Oh.global=t,t}function $ae(e){return e.features&&e.features.length>0?Object.fromEntries((e.features??[]).map(t=>[t.name,t.configuration||!0])):Object.fromEntries((e.featuresByDefault??[]).map(t=>[t,!0]))}function jae(){Uae();const e={defaultLayers:[],...Oh.global,...Oh.custom,...Oh.overrides};return e.effectiveFeatures=$ae(e),Object.assign(Oh.merged,e),e}jae();const sa=new Proxy(Oh.merged,{get(e,t){return ER&&console.warn("\x1B[1;35m appConfig\x1B[0m",t,Oh.merged[t]),Oh.merged[t]}});console.info(`%c Disaster Ninja ${{}.PACKAGE_VERSION} deployment:
  - Build Time: ${{}.BUILD_TIME}
  - Git Branch: ${{}.GIT_BRANCH}
  - Git Commit: #${{}.GIT_COMMIT_HASH}
  - Git Commit Time: ${{}.GIT_COMMIT_TIME}
  `,"color: #bada55");function C4(e){this.message=e}C4.prototype=new Error,C4.prototype.name="InvalidCharacterError";var OP=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new C4("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,s=0,l=0,o="";i=t.charAt(l++);~i&&(n=s%4?64*n+i:i,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};function Vae(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(OP(n).replace(/(.)/g,function(i,s){var l=s.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return OP(t)}}function m2(e){this.message=e}function Hae(e,t){if(typeof e!="string")throw new m2("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(Vae(e.split(".")[n]))}catch(i){throw new m2("Invalid token specified: "+i.message)}}m2.prototype=new Error,m2.prototype.name="InvalidTokenError";var E4={},qae={get exports(){return E4},set exports(e){E4=e}},g2={},Gae={get exports(){return g2},set exports(e){g2=e}},XR=function(t,n){return function(){for(var s=new Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];return t.apply(n,s)}},Qae=XR,ZE=Object.prototype.toString,XE=function(e){return function(t){var n=ZE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ud(e){return e=e.toLowerCase(),function(n){return XE(n)===e}}function YE(e){return Array.isArray(e)}function y2(e){return typeof e>"u"}function Wae(e){return e!==null&&!y2(e)&&e.constructor!==null&&!y2(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var YR=ud("ArrayBuffer");function Kae(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YR(e.buffer),t}function Zae(e){return typeof e=="string"}function Xae(e){return typeof e=="number"}function JR(e){return e!==null&&typeof e=="object"}function h_(e){if(XE(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var Yae=ud("Date"),Jae=ud("File"),ese=ud("Blob"),tse=ud("FileList");function JE(e){return ZE.call(e)==="[object Function]"}function nse(e){return JR(e)&&JE(e.pipe)}function rse(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||ZE.call(e)===t||JE(e.toString)&&e.toString()===t)}var ise=ud("URLSearchParams");function ose(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ase(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function e5(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),YE(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function k4(){var e={};function t(s,l){h_(e[l])&&h_(s)?e[l]=k4(e[l],s):h_(s)?e[l]=k4({},s):YE(s)?e[l]=s.slice():e[l]=s}for(var n=0,i=arguments.length;n<i;n++)e5(arguments[n],t);return e}function sse(e,t,n){return e5(t,function(s,l){n&&typeof s=="function"?e[l]=Qae(s,n):e[l]=s}),e}function lse(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function use(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function cse(e,t,n){var i,s,l,o={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],o[l]||(t[l]=e[l],o[l]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function fse(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return i!==-1&&i===n}function pse(e){if(!e)return null;var t=e.length;if(y2(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var hse=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),ws={isArray:YE,isArrayBuffer:YR,isBuffer:Wae,isFormData:rse,isArrayBufferView:Kae,isString:Zae,isNumber:Xae,isObject:JR,isPlainObject:h_,isUndefined:y2,isDate:Yae,isFile:Jae,isBlob:ese,isFunction:JE,isStream:nse,isURLSearchParams:ise,isStandardBrowserEnv:ase,forEach:e5,merge:k4,extend:sse,trim:ose,stripBOM:lse,inherits:use,toFlatObject:cse,kindOf:XE,kindOfTest:ud,endsWith:fse,toArray:pse,isTypedArray:hse,isFileList:tse},Jd=ws;function MP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var eD=function(t,n,i){if(!n)return t;var s;if(i)s=i(n);else if(Jd.isURLSearchParams(n))s=n.toString();else{var l=[];Jd.forEach(n,function(S,P){S===null||typeof S>"u"||(Jd.isArray(S)?P=P+"[]":S=[S],Jd.forEach(S,function(D){Jd.isDate(D)?D=D.toISOString():Jd.isObject(D)&&(D=JSON.stringify(D)),l.push(MP(P)+"="+MP(D))}))}),s=l.join("&")}if(s){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},Ase=ws;function Jx(){this.handlers=[]}Jx.prototype.use=function(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Jx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Jx.prototype.forEach=function(t){Ase.forEach(this.handlers,function(i){i!==null&&t(i)})};var dse=Jx,mse=ws,gse=function(t,n){mse.forEach(t,function(s,l){l!==n&&l.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[l])})},tD=ws;function V0(e,t,n,i,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}tD.inherits(V0,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var nD=V0.prototype,rD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){rD[e]={value:e}});Object.defineProperties(V0,rD);Object.defineProperty(nD,"isAxiosError",{value:!0});V0.from=function(e,t,n,i,s,l){var o=Object.create(nD);return tD.toFlatObject(e,o,function(S){return S!==Error.prototype}),V0.call(o,e.message,t,n,i,s),o.name=e.name,l&&Object.assign(o,l),o};var nm=V0,iD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cc=ws;function yse(e,t){t=t||new FormData;var n=[];function i(l){return l===null?"":Cc.isDate(l)?l.toISOString():Cc.isArrayBuffer(l)||Cc.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function s(l,o){if(Cc.isPlainObject(l)||Cc.isArray(l)){if(n.indexOf(l)!==-1)throw Error("Circular reference detected in "+o);n.push(l),Cc.forEach(l,function(S,P){if(!Cc.isUndefined(S)){var M=o?o+"."+P:P,D;if(S&&!o&&typeof S=="object"){if(Cc.endsWith(P,"{}"))S=JSON.stringify(S);else if(Cc.endsWith(P,"[]")&&(D=Cc.toArray(S))){D.forEach(function(z){!Cc.isUndefined(z)&&t.append(M,i(z))});return}}s(S,M)}}),n.pop()}else t.append(o,i(l))}return s(e),t}var oD=yse,t3,LP;function vse(){if(LP)return t3;LP=1;var e=nm;return t3=function(n,i,s){var l=s.config.validateStatus;!s.status||!l||l(s.status)?n(s):i(new e("Request failed with status code "+s.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},t3}var n3,RP;function _se(){if(RP)return n3;RP=1;var e=ws;return n3=e.isStandardBrowserEnv()?function(){return{write:function(i,s,l,o,x,S){var P=[];P.push(i+"="+encodeURIComponent(s)),e.isNumber(l)&&P.push("expires="+new Date(l).toGMTString()),e.isString(o)&&P.push("path="+o),e.isString(x)&&P.push("domain="+x),S===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),n3}var xse=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},bse=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},wse=xse,Sse=bse,aD=function(t,n){return t&&!wse(n)?Sse(t,n):n},r3,DP;function Cse(){if(DP)return r3;DP=1;var e=ws,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return r3=function(i){var s={},l,o,x;return i&&e.forEach(i.split(`
`),function(P){if(x=P.indexOf(":"),l=e.trim(P.substr(0,x)).toLowerCase(),o=e.trim(P.substr(x+1)),l){if(s[l]&&t.indexOf(l)>=0)return;l==="set-cookie"?s[l]=(s[l]?s[l]:[]).concat([o]):s[l]=s[l]?s[l]+", "+o:o}}),s},r3}var i3,FP;function Ese(){if(FP)return i3;FP=1;var e=ws;return i3=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function l(o){var x=o;return n&&(i.setAttribute("href",x),x=i.href),i.setAttribute("href",x),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=l(window.location.href),function(x){var S=e.isString(x)?l(x):x;return S.protocol===s.protocol&&S.host===s.host}}():function(){return function(){return!0}}(),i3}var o3,BP;function eb(){if(BP)return o3;BP=1;var e=nm,t=ws;function n(i){e.call(this,i??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),o3=n,o3}var a3,zP;function kse(){return zP||(zP=1,a3=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),a3}var s3,NP;function UP(){if(NP)return s3;NP=1;var e=ws,t=vse(),n=_se(),i=eD,s=aD,l=Cse(),o=Ese(),x=iD,S=nm,P=eb(),M=kse();return s3=function(z){return new Promise(function(q,K){var ee=z.data,V=z.headers,X=z.responseType,ne;function pe(){z.cancelToken&&z.cancelToken.unsubscribe(ne),z.signal&&z.signal.removeEventListener("abort",ne)}e.isFormData(ee)&&e.isStandardBrowserEnv()&&delete V["Content-Type"];var me=new XMLHttpRequest;if(z.auth){var oe=z.auth.username||"",we=z.auth.password?unescape(encodeURIComponent(z.auth.password)):"";V.Authorization="Basic "+btoa(oe+":"+we)}var Ce=s(z.baseURL,z.url);me.open(z.method.toUpperCase(),i(Ce,z.params,z.paramsSerializer),!0),me.timeout=z.timeout;function je(){if(me){var rt="getAllResponseHeaders"in me?l(me.getAllResponseHeaders()):null,At=!X||X==="text"||X==="json"?me.responseText:me.response,Ot={data:At,status:me.status,statusText:me.statusText,headers:rt,config:z,request:me};t(function(Jt){q(Jt),pe()},function(Jt){K(Jt),pe()},Ot),me=null}}if("onloadend"in me?me.onloadend=je:me.onreadystatechange=function(){!me||me.readyState!==4||me.status===0&&!(me.responseURL&&me.responseURL.indexOf("file:")===0)||setTimeout(je)},me.onabort=function(){me&&(K(new S("Request aborted",S.ECONNABORTED,z,me)),me=null)},me.onerror=function(){K(new S("Network Error",S.ERR_NETWORK,z,me,me)),me=null},me.ontimeout=function(){var At=z.timeout?"timeout of "+z.timeout+"ms exceeded":"timeout exceeded",Ot=z.transitional||x;z.timeoutErrorMessage&&(At=z.timeoutErrorMessage),K(new S(At,Ot.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,z,me)),me=null},e.isStandardBrowserEnv()){var tt=(z.withCredentials||o(Ce))&&z.xsrfCookieName?n.read(z.xsrfCookieName):void 0;tt&&(V[z.xsrfHeaderName]=tt)}"setRequestHeader"in me&&e.forEach(V,function(At,Ot){typeof ee>"u"&&Ot.toLowerCase()==="content-type"?delete V[Ot]:me.setRequestHeader(Ot,At)}),e.isUndefined(z.withCredentials)||(me.withCredentials=!!z.withCredentials),X&&X!=="json"&&(me.responseType=z.responseType),typeof z.onDownloadProgress=="function"&&me.addEventListener("progress",z.onDownloadProgress),typeof z.onUploadProgress=="function"&&me.upload&&me.upload.addEventListener("progress",z.onUploadProgress),(z.cancelToken||z.signal)&&(ne=function(rt){me&&(K(!rt||rt&&rt.type?new P:rt),me.abort(),me=null)},z.cancelToken&&z.cancelToken.subscribe(ne),z.signal&&(z.signal.aborted?ne():z.signal.addEventListener("abort",ne))),ee||(ee=null);var qe=M(Ce);if(qe&&["http","https","file"].indexOf(qe)===-1){K(new S("Unsupported protocol "+qe+":",S.ERR_BAD_REQUEST,z));return}me.send(ee)})},s3}var l3,$P;function Pse(){return $P||($P=1,l3=null),l3}var Ja=ws,jP=gse,VP=nm,Tse=iD,Ise=oD,Ose={"Content-Type":"application/x-www-form-urlencoded"};function HP(e,t){!Ja.isUndefined(e)&&Ja.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Mse(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=UP()),e}function Lse(e,t,n){if(Ja.isString(e))try{return(t||JSON.parse)(e),Ja.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}var tb={transitional:Tse,adapter:Mse(),transformRequest:[function(t,n){if(jP(n,"Accept"),jP(n,"Content-Type"),Ja.isFormData(t)||Ja.isArrayBuffer(t)||Ja.isBuffer(t)||Ja.isStream(t)||Ja.isFile(t)||Ja.isBlob(t))return t;if(Ja.isArrayBufferView(t))return t.buffer;if(Ja.isURLSearchParams(t))return HP(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Ja.isObject(t),s=n&&n["Content-Type"],l;if((l=Ja.isFileList(t))||i&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return Ise(l?{"files[]":t}:t,o&&new o)}else if(i||s==="application/json")return HP(n,"application/json"),Lse(t);return t}],transformResponse:[function(t){var n=this.transitional||tb.transitional,i=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,l=!i&&this.responseType==="json";if(l||s&&Ja.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?VP.from(o,VP.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pse()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ja.forEach(["delete","get","head"],function(t){tb.headers[t]={}});Ja.forEach(["post","put","patch"],function(t){tb.headers[t]=Ja.merge(Ose)});var t5=tb,Rse=ws,Dse=t5,Fse=function(t,n,i){var s=this||Dse;return Rse.forEach(i,function(o){t=o.call(s,t,n)}),t},u3,qP;function sD(){return qP||(qP=1,u3=function(t){return!!(t&&t.__CANCEL__)}),u3}var GP=ws,c3=Fse,Bse=sD(),zse=t5,Nse=eb();function f3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nse}var Use=function(t){f3(t),t.headers=t.headers||{},t.data=c3.call(t,t.data,t.headers,t.transformRequest),t.headers=GP.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),GP.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var n=t.adapter||zse.adapter;return n(t).then(function(s){return f3(t),s.data=c3.call(t,s.data,s.headers,t.transformResponse),s},function(s){return Bse(s)||(f3(t),s&&s.response&&(s.response.data=c3.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},Gl=ws,lD=function(t,n){n=n||{};var i={};function s(M,D){return Gl.isPlainObject(M)&&Gl.isPlainObject(D)?Gl.merge(M,D):Gl.isPlainObject(D)?Gl.merge({},D):Gl.isArray(D)?D.slice():D}function l(M){if(Gl.isUndefined(n[M])){if(!Gl.isUndefined(t[M]))return s(void 0,t[M])}else return s(t[M],n[M])}function o(M){if(!Gl.isUndefined(n[M]))return s(void 0,n[M])}function x(M){if(Gl.isUndefined(n[M])){if(!Gl.isUndefined(t[M]))return s(void 0,t[M])}else return s(void 0,n[M])}function S(M){if(M in n)return s(t[M],n[M]);if(M in t)return s(void 0,t[M])}var P={url:o,method:o,data:o,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S};return Gl.forEach(Object.keys(t).concat(Object.keys(n)),function(D){var z=P[D]||l,U=z(D);Gl.isUndefined(U)&&z!==S||(i[D]=U)}),i},p3,QP;function uD(){return QP||(QP=1,p3={version:"0.27.2"}),p3}var $se=uD().version,wh=nm,n5={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n5[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var WP={};n5.transitional=function(t,n,i){function s(l,o){return"[Axios v"+$se+"] Transitional option '"+l+"'"+o+(i?". "+i:"")}return function(l,o,x){if(t===!1)throw new wh(s(o," has been removed"+(n?" in "+n:"")),wh.ERR_DEPRECATED);return n&&!WP[o]&&(WP[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,x):!0}};function jse(e,t,n){if(typeof e!="object")throw new wh("options must be an object",wh.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var l=i[s],o=t[l];if(o){var x=e[l],S=x===void 0||o(x,l,e);if(S!==!0)throw new wh("option "+l+" must be "+S,wh.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wh("Unknown option "+l,wh.ERR_BAD_OPTION)}}var Vse={assertOptions:jse,validators:n5},cD=ws,Hse=eD,KP=dse,ZP=Use,nb=lD,qse=aD,fD=Vse,e0=fD.validators;function H0(e){this.defaults=e,this.interceptors={request:new KP,response:new KP}}H0.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=nb(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var i=n.transitional;i!==void 0&&fD.assertOptions(i,{silentJSONParsing:e0.transitional(e0.boolean),forcedJSONParsing:e0.transitional(e0.boolean),clarifyTimeoutError:e0.transitional(e0.boolean)},!1);var s=[],l=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(n)===!1||(l=l&&U.synchronous,s.unshift(U.fulfilled,U.rejected))});var o=[];this.interceptors.response.forEach(function(U){o.push(U.fulfilled,U.rejected)});var x;if(!l){var S=[ZP,void 0];for(Array.prototype.unshift.apply(S,s),S=S.concat(o),x=Promise.resolve(n);S.length;)x=x.then(S.shift(),S.shift());return x}for(var P=n;s.length;){var M=s.shift(),D=s.shift();try{P=M(P)}catch(z){D(z);break}}try{x=ZP(P)}catch(z){return Promise.reject(z)}for(;o.length;)x=x.then(o.shift(),o.shift());return x};H0.prototype.getUri=function(t){t=nb(this.defaults,t);var n=qse(t.baseURL,t.url);return Hse(n,t.params,t.paramsSerializer)};cD.forEach(["delete","get","head","options"],function(t){H0.prototype[t]=function(n,i){return this.request(nb(i||{},{method:t,url:n,data:(i||{}).data}))}});cD.forEach(["post","put","patch"],function(t){function n(i){return function(l,o,x){return this.request(nb(x||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}H0.prototype[t]=n(),H0.prototype[t+"Form"]=n(!0)});var Gse=H0,h3,XP;function Qse(){if(XP)return h3;XP=1;var e=eb();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var s=this;this.promise.then(function(l){if(s._listeners){var o,x=s._listeners.length;for(o=0;o<x;o++)s._listeners[o](l);s._listeners=null}}),this.promise.then=function(l){var o,x=new Promise(function(S){s.subscribe(S),o=S}).then(l);return x.cancel=function(){s.unsubscribe(o)},x},n(function(o){s.reason||(s.reason=new e(o),i(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(this._listeners){var s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}},t.source=function(){var i,s=new t(function(o){i=o});return{token:s,cancel:i}},h3=t,h3}var A3,YP;function Wse(){return YP||(YP=1,A3=function(t){return function(i){return t.apply(null,i)}}),A3}var d3,JP;function Kse(){if(JP)return d3;JP=1;var e=ws;return d3=function(n){return e.isObject(n)&&n.isAxiosError===!0},d3}var eT=ws,Zse=XR,A_=Gse,Xse=lD,Yse=t5;function pD(e){var t=new A_(e),n=Zse(A_.prototype.request,t);return eT.extend(n,A_.prototype,t),eT.extend(n,t),n.create=function(s){return pD(Xse(e,s))},n}var Ll=pD(Yse);Ll.Axios=A_;Ll.CanceledError=eb();Ll.CancelToken=Qse();Ll.isCancel=sD();Ll.VERSION=uD().version;Ll.toFormData=oD;Ll.AxiosError=nm;Ll.Cancel=Ll.CanceledError;Ll.all=function(t){return Promise.all(t)};Ll.spread=Wse();Ll.isAxiosError=Kse();Gae.exports=Ll;g2.default=Ll;(function(e){e.exports=g2})(qae);const P4=w2(E4),tT=e=>e instanceof Date?e.getTime():typeof e=="number"||e===null||e===void 0?e:Number(e),r5=(e,t,n)=>n>=e&&n<=t,nT=e=>!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function",Jse={Accept:"application/json","Content-Type":"application/json"},ele={timeout:0},tle=null,hD="CLIENT_ERROR",nle="SERVER_ERROR",rle="TIMEOUT_ERROR",ile="CONNECTION_ERROR",ole="NETWORK_ERROR",T4="UNKNOWN_ERROR",ale="CANCEL_ERROR",sle=["ERR_BAD_REQUEST"],lle=["ECONNABORTED"],ule=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],AD=e=>r5(200,299,e),cle=e=>r5(400,499,e),fle=e=>r5(500,599,e),ple=e=>e.message==="Network Error"?ole:P4.isCancel(e)?ale:e.code?sle.includes(e.code)?hD:lle.includes(e.code)?rle:ule.includes(e.code)?ile:T4:dD(e.response.status),dD=e=>e?AD(e)?tle:cle(e)?hD:fle(e)?nle:T4:T4,hle=e=>{const t={...Jse,...e.headers||{}};let n;if(e.axiosInstance)n=e.axiosInstance;else{const Ce={...e,headers:void 0},je={...ele,...Ce};n=P4.create(je)}const i=[],s=Ce=>{i.push(Ce)},l=[],o=[],x=[],S=[],P=Ce=>l.push(Ce),M=Ce=>o.push(Ce),D=Ce=>x.push(Ce),z=Ce=>S.push(Ce),U=(Ce,je)=>(t[Ce]=je,n),q=Ce=>(Object.keys(Ce).forEach(je=>U(je,Ce[je])),n),K=Ce=>(delete t[Ce],n),ee=Ce=>(n.defaults.baseURL=Ce,n),V=()=>n.defaults.baseURL,X=Ce=>(je,tt={},qe={})=>pe({...qe,url:je,params:tt,method:Ce}),ne=Ce=>(je,tt,qe={})=>pe({...qe,url:je,method:Ce,data:tt}),pe=async Ce=>{if(Ce.headers={...t,...Ce.headers},l.length>0&&l.forEach(qe=>qe(Ce)),o.length>0)for(let qe=0;qe<o.length;qe++){const rt=o[qe](Ce);nT(rt)?await rt:typeof rt=="function"&&await rt(Ce)}const je=tT(new Date),tt=async qe=>{const rt=await oe(je,qe);return me(rt)};return n.request(Ce).then(tt).catch(tt)},me=Ce=>(i.forEach(je=>{try{je(Ce)}catch{}}),Ce),oe=async(Ce,je)=>{const qe=tT(new Date)-Ce,rt=je instanceof Error||P4.isCancel(je),At=je,Ot=je,Vt=rt?Ot.response:At,Jt=Vt&&Vt.status||null,bn=rt?ple(je):dD(Jt),st=rt?Ot:null,Me=AD(Jt||0),Le=je.config||null,re=Vt&&Vt.headers||null,ge=Vt&&Vt.data||null,Mt={duration:qe,problem:bn,originalError:st,ok:Me,status:Jt||void 0,headers:re||void 0,config:Le,data:ge};if(x.length>0&&x.forEach(en=>en(Mt)),S.length>0)for(let en=0;en<S.length;en++){const vn=S[en](Mt);nT(vn)?await vn:typeof vn=="function"&&await vn(Mt)}return Mt};return{axiosInstance:n,monitors:i,addMonitor:s,requestTransforms:l,asyncRequestTransforms:o,responseTransforms:x,asyncResponseTransforms:S,addRequestTransform:P,addAsyncRequestTransform:M,addResponseTransform:D,addAsyncResponseTransform:z,setHeader:U,setHeaders:q,deleteHeader:K,headers:t,setBaseURL:ee,getBaseURL:V,any:pe,get:X("get"),delete:X("delete"),head:X("head"),post:ne("post"),put:ne("put"),patch:ne("patch"),link:X("link"),unlink:X("unlink")}},Ale="localhost:3000";function rT(e){const t=window.viteProxyConfig;if(!t||!Object.keys(t).find(i=>e.includes(i)))return e;try{return e.replace(new URL(e).host,Ale)}catch{return e}}const ng={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"};function dle(e){switch(e.problem){case"CONNECTION_ERROR":return{kind:"cannot-connect",temporary:!0};case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server",data:e.data};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(e.status){case 401:return{kind:"unauthorized",data:"Not authorized or session has expired."};case 403:return{kind:"forbidden"};case 404:return{kind:"not-found"};default:return{kind:"rejected",data:e.data}}case"CANCEL_ERROR":return{kind:"canceled"};default:return{kind:"unknown",temporary:!0}}}const m3="auth_token",xp=class{constructor({instanceId:t="default",notificationService:n,translationService:i,loginApiPath:s="",refreshTokenApiPath:l="",keycloakClientId:o="",unauthorizedCallback:x,disableAuth:S=!1,storage:P=globalThis.localStorage,...M}){sr(this,"instanceId");sr(this,"translationService");sr(this,"notificationService");sr(this,"unauthorizedCallback");sr(this,"loginApiPath");sr(this,"refreshTokenApiPath");sr(this,"apiSauceInstance");sr(this,"disableAuth");sr(this,"storage");sr(this,"token","");sr(this,"refreshToken","");sr(this,"tokenExpirationDate");sr(this,"checkTokenPromise");sr(this,"expiredTokenCallback");sr(this,"keycloakClientId");var D,z;this.instanceId=t,this.translationService=i,this.notificationService=n,this.loginApiPath=s,this.refreshTokenApiPath=l,this.keycloakClientId=o,this.disableAuth=S,this.storage=P,this.unauthorizedCallback=x,(z=(D=import.meta)==null?void 0:D.env)!=null&&z.DEV&&(M.baseURL=rT(M.baseURL??""),this.loginApiPath=rT(this.loginApiPath)),M.headers||(M.headers={}),M.headers["Content-Type"]||(M.headers["Content-Type"]="application/json"),M.headers.Accept||(M.headers.Accept="application/json"),this.apiSauceInstance=hle(M)}static getInstance(t="default"){if(xp.instances[t])return xp.instances[t];throw new Error("You have to initialize api client first!")}static init(t){const n=t.instanceId||"default";if(xp.instances[n])throw new Error(`Api client instance with Id: ${n} already initialized`);return xp.instances[n]=new xp(t),xp.instances[n]}setAuth(t,n){let i;try{i=Hae(t)}catch{return"Can't decode token!"}if(i&&i.exp){const s=new Date(i.exp*1e3);return s>new Date?(this.token=t,this.refreshToken=n,this.tokenExpirationDate=s,this.storage.setItem(m3,JSON.stringify({token:t,refreshToken:n})),i):"Wrong token expire time!"}return"Wrong data received!"}getLocalAuthToken(t){this.expiredTokenCallback=t;const n=this.storage.getItem(m3);if(n){const{token:i,refreshToken:s}=JSON.parse(n);if(i&&s){const l=this.setAuth(i,s);if(typeof l=="string")throw this.resetAuth(),new DA(this.translationService.t(l),{kind:"bad-data"});return{token:i,refreshToken:s,jwtData:l}}}}resetAuth(){this.token="",this.refreshToken="",this.tokenExpirationDate=void 0,this.storage.removeItem(m3)}async checkTokenIsExpired(){this.checkTokenPromise||(this.checkTokenPromise=new Promise(async n=>{if(this.tokenExpirationDate){const i=this.tokenExpirationDate.getTime()-new Date().getTime();if(i<0)return this.resetAuth(),this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1;const s=1e3*60*5;if(i<s){const l=await this.refreshAuthToken();return l&&typeof l!="string"?(n(!0),!0):(this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1)}return n(!0),!0}return this.expiredTokenCallback&&this.expiredTokenCallback(),n(!1),!1}));const t=await this.checkTokenPromise;return this.checkTokenPromise=void 0,t}async processResponse(t,n){if(t.ok)return t.data;this.unauthorizedCallback&&(t.status===401||t.status===403)&&this.unauthorizedCallback(this);const i=dle(t);let s="";throw n&&n.messages&&(typeof n.messages!="string"?t.status&&t.status in n.messages&&(s=n.messages[t.status]):s=n.messages),s||(s=xp.parseError(i)),i.kind==="canceled"?console.debug("Request was canceled"):(n===void 0||n.hideErrors!==!0)&&this.notificationService.error({title:this.translationService.t("error"),description:this.translationService.t(s)}),new DA(s,i)}static parseError(t){if(t&&"data"in t){const{data:n}=t;if(n!==null){if(Array.isArray(n))return n.map(i=>i.name&&i.message?`${i.name}: ${i.message}`:i).join("<br/>");if(n instanceof Object){if(n.hasOwnProperty("error"))return n.error;if(n.hasOwnProperty("errors")&&Array.isArray(n.errors))return n.errors.reduce((i,s)=>(s.hasOwnProperty("message")&&i.push(s.message),i),[]).join("<br/>")}return String(n)}return"Unknown Error"}switch(t.kind){case"timeout":return Nr.t("errors.timeout");case"cannot-connect":return Nr.t("errors.cannot_connect");case"forbidden":return Nr.t("errors.forbidden");case"not-found":return Nr.t("errors.not_found");case"unknown":return Nr.t("errors.unknown");default:return Nr.t("errors.server_error")}}async checkToken(t){if(!await this.checkTokenIsExpired()){const i={isAxiosError:!1,message:"TOKEN ERROR",name:"Token error",config:t};return{ok:!1,problem:"CLIENT_ERROR",status:401,originalError:{...i,toJSON:()=>i}}}return!1}async login(t,n){var l;const i=new URLSearchParams;i.append("username",t),i.append("password",n),i.append("client_id",this.keycloakClientId),i.append("grant_type","password");const s=await this.apiSauceInstance.post(this.loginApiPath,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s.ok?this.processAuthResponse(s):(l=s.data)==null?void 0:l.error_description}processAuthResponse(t){if(t.ok)if(t.data&&t.data.access_token){const n=this.setAuth(t.data.access_token,t.data.refresh_token);if(typeof n=="string")throw new DA(this.translationService.t(n),{kind:"bad-data"});return{token:t.data.access_token,refreshToken:t.data.refresh_token,jwtData:n}}else throw t.status===204?new DA(this.translationService.t("no_data_received"),{kind:"no-data"}):new DA(this.translationService.t("wrong_data_received"),{kind:"bad-data"})}async logout(){this.resetAuth()}async refreshAuthToken(){var i;const t=new URLSearchParams;t.append("client_id",this.keycloakClientId),t.append("refresh_token",this.refreshToken),t.append("grant_type","refresh_token");const n=await this.apiSauceInstance.post(this.refreshTokenApiPath,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return n.ok?this.processAuthResponse(n):(i=n.data)==null?void 0:i.error_description}async call(t,n,i,s=!this.disableAuth,l){if(l||(l={}),!this.disableAuth&&s&&this.token){const x=await this.checkToken(l);if(x)return await this.processResponse(x,l==null?void 0:l.errorsConfig);l.headers||(l.headers={}),l.headers.Authorization||(l.headers.Authorization=`Bearer ${this.token}`)}const o=await this.apiSauceInstance[t](n,i,l);return this.processResponse(o,l==null?void 0:l.errorsConfig)}async get(t,n,i=!this.disableAuth,s){return this.call(ng.GET,t,n,i,s)}async post(t,n,i=!this.disableAuth,s){return this.call(ng.POST,t,n,i,s)}async put(t,n,i=!this.disableAuth,s){return this.call(ng.PUT,t,n,i,s)}async patch(t,n,i=!this.disableAuth,s){return this.call(ng.PATCH,t,n,i,s)}async delete(t,n=!this.disableAuth,i){return this.call(ng.DELETE,t,void 0,n,i)}};let VA=xp;sr(VA,"instances",{});const fg=Mo({showNotification:(e,t,n)=>({type:e,message:t,lifetimeSec:n}),removeNotification:e=>e},({onAction:e,schedule:t,create:n},i=[])=>(e("showNotification",({type:s,message:l,lifetimeSec:o})=>{const x=rq(4),S=()=>fg.removeNotification.dispatch(x);i=[...i,{id:x,type:s,message:l,lifetimeSec:o,onClose:S}],t(P=>{setTimeout(S,o*1e3)})}),e("removeNotification",s=>i=i.filter(({id:l})=>l!==s)),[...i]),"[Shared state] currentNotificationAtom"),b0=class{constructor(){sr(this,"defaultLifetimeSec",10)}static getInstance(){if(b0.instance)return b0.instance;throw new Error("You have to initialize api client first!")}static init(){b0.instance=new b0}error(t,n){fg.showNotification.dispatch("error",t,n||this.defaultLifetimeSec)}warning(t,n){fg.showNotification.dispatch("warning",t,n||this.defaultLifetimeSec)}info(t,n){fg.showNotification.dispatch("info",t,n||this.defaultLifetimeSec)}success(t,n){fg.showNotification.dispatch("success",t,n||this.defaultLifetimeSec)}};let Pg=b0;sr(Pg,"instance");function mle(e){Array.isArray(e)||(e=[e]);const t=e.map(n=>n.subscribe(()=>null));return()=>t.forEach(n=>n())}const L0=tm(new Map,"mountedLayers"),mD=Mo({setMap:e=>e,resetMap:()=>null},({onAction:e,schedule:t},n=null)=>(e("setMap",i=>{n=i,t(s=>{s(L0.clear())})}),e("resetMap",()=>{n=null}),n),"[Shared state] currentMapAtom"),Tg=IR(new Set,"hiddenLayers"),gle=Mo({currentMapAtom:mD},({onChange:e,schedule:t})=>{e("currentMapAtom",(n,i)=>{i&&t(s=>{s([Tg.clear(),L0.clear()])})})},"autoClearAtom"),yle=["background","raster","hillshade","heatmap","fill","fill-extrusion","line","circle","symbol","custom"];class vle{constructor(){sr(this,"_baseMapFirstLayerIdx",null);sr(this,"_map",null);sr(this,"_layersSettings",null);sr(this,"_layersParentsIds",null);sr(this,"_unsubscribe",[]);sr(this,"_typesOrder",[...yle]);sr(this,"_awaitingTasks",new Set)}init(t,n,i){this._map=t,this._unsubscribe.push(i.subscribe(s=>this._layersSettings=s)),this._layersParentsIds=n,this._baseMapFirstLayerIdx=(t.getStyle().layers??[]).length-1,this._awaitingTasks.forEach(s=>{this._awaitingTasks.delete(s),s(t)})}destroy(){this._unsubscribe.forEach(t=>t())}getIdToMountOnTypesTop(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesTopSync.bind(this))}getIdToMountOnTypesBottom(t,n,i){this._asyncWrap(t,n,i,this._getIdToMountOnTypesBottomSync.bind(this))}_getIdToMountOnTypesTopSync(t,n,i){var M,D,z,U;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),o=(M=this._layersParentsIds)==null?void 0:M.get(i),x=(z=(D=this._layersSettings)==null?void 0:D.get(o||""))==null?void 0:z.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,P=l==null?void 0:l.find(q=>{if(S==="base")return q.category!=="base";if(S==="overlay")return q.category===void 0});if(S&&P)return P.layer.id;if(!P||!S){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(ee=>{var V;return(V=s.get(ee))==null?void 0:V.length});return q?(U=s.get(q))==null?void 0:U[0].layer.id:void 0}}_getIdToMountOnTypesBottomSync(t,n,i){var M,D,z,U;const s=this._getMountedOrderedLayers(t);if(!(s!=null&&s.size))return;const l=s.get(n),o=(M=this._layersParentsIds)==null?void 0:M.get(i),x=(z=(D=this._layersSettings)==null?void 0:D.get(o||""))==null?void 0:z.data;if(!x){console.warn("settings were not found for layer ",n,i);return}const S=x.category,P=(()=>{if(S==="base")return l==null?void 0:l[0];if(S==="overlay")return l==null?void 0:l.find(q=>q.category==="overlay"||q.category===void 0);if(S===void 0)return l==null?void 0:l.find(q=>q.category===void 0)})();if(P)return P.layer.id;if(!(l!=null&&l.length)||!P){const q=this._typesOrder.slice(this._typesOrder.indexOf(n)+1).find(ee=>{var V;return(V=s.get(ee))==null?void 0:V.length});return q?(U=s.get(q))==null?void 0:U[0].layer.id:void 0}}_getMountedOrderedLayers(t){if(this._baseMapFirstLayerIdx===null)return;const n=t.getStyle().layers??[];if(n.length===0)return;const i=n.slice(this._baseMapFirstLayerIdx+1);if(!i.length)return;const s=new Map;return i.forEach(l=>{var S,P,M,D;const o=(S=this._layersParentsIds)==null?void 0:S.get(l.id);if(!o)return console.warn("id was not found for",l.id,l);const x=s.get(l.type)||[];x.push({layer:l,category:(D=(M=(P=this._layersSettings)==null?void 0:P.get(o))==null?void 0:M.data)==null?void 0:D.category}),s.set(l.type,x)}),s}_asyncWrap(t,n,i,s){const l=this._map;l===null||this._baseMapFirstLayerIdx===null?this._awaitingTasks.add(o=>{i(s(o,t,n))}):i(s(l,t,n))}}const _le=new vle,g3=new Map;function iT(e,t=_le){function n(l,o){g3.set(l.id,o),t.getIdToMountOnTypesTop(l.type,l.id,x=>e.addLayer(l,x))}function i(l,o){g3.set(l.id,o),t.getIdToMountOnTypesBottom(l.type,l.id,x=>e.addLayer(l,x))}function s(l,o){g3.set(l.id,o),e.addLayer(l,void 0)}return{addAboveLayerWithSameType:n,addUnderLayerWithSameType:i,addAboveAllExistingLayers:s}}function xle(){mle([gle])}Pg.init();xle();const gD=Pg.getInstance();VA.init({notificationService:gD,baseURL:sa.apiGateway,loginApiPath:`${sa.keycloakUrl}/auth/realms/${sa.keycloakRealm}/protocol/openid-connect/token`,refreshTokenApiPath:`${sa.keycloakUrl}/auth/realms/${sa.keycloakRealm}/protocol/openid-connect/token`,keycloakClientId:sa.keycloakClientId,translationService:Nr,unauthorizedCallback(e){var t;e.logout(),(t=e.expiredTokenCallback)==null||t.call(e)}});const yD=VA.getInstance();VA.init({instanceId:"reports",notificationService:gD,baseURL:sa.reportsApi,disableAuth:!0,translationService:Nr});VA.getInstance("reports");/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ig(e,t,n,i){function s(l){return l instanceof n?l:new n(function(o){o(l)})}return new(n||(n=Promise))(function(l,o){function x(M){try{P(i.next(M))}catch(D){o(D)}}function S(M){try{P(i.throw(M))}catch(D){o(D)}}function P(M){M.done?l(M.value):s(M.value).then(x,S)}P((i=i.apply(e,t||[])).next())})}class qo{constructor(){this.mutex=Promise.resolve()}lock(){let t=()=>{};return this.mutex=this.mutex.then(()=>new Promise(t)),new Promise(n=>{t=n})}dispatch(t){return Ig(this,void 0,void 0,function*(){const n=yield this.lock();try{return yield Promise.resolve(t())}finally{n()}})}}var y3;function ble(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const I4=ble(),v3=(y3=I4.Buffer)!==null&&y3!==void 0?y3:null,wle=I4.TextEncoder?new I4.TextEncoder:null;function vD(e,t){return(e&15)+(e>>6|e>>3&8)<<4|(t&15)+(t>>6|t>>3&8)}function Sle(e,t){const n=t.length>>1;for(let i=0;i<n;i++){const s=i<<1;e[i]=vD(t.charCodeAt(s),t.charCodeAt(s+1))}}function Cle(e,t){if(e.length!==t.length*2)return!1;for(let n=0;n<t.length;n++){const i=n<<1;if(t[n]!==vD(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}const oT="a".charCodeAt(0)-10,aT="0".charCodeAt(0);function sT(e,t,n){let i=0;for(let s=0;s<n;s++){let l=t[s]>>>4;e[i++]=l>9?l+oT:l+aT,l=t[s]&15,e[i++]=l>9?l+oT:l+aT}return String.fromCharCode.apply(null,e)}const lT=v3!==null?e=>{if(typeof e=="string"){const t=v3.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(v3.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if(typeof e=="string")return wle.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},uT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pg=new Uint8Array(256);for(let e=0;e<uT.length;e++)pg[uT.charCodeAt(e)]=e;function Ele(e){let t=Math.floor(e.length*.75);const n=e.length;return e[n-1]==="="&&(t-=1,e[n-2]==="="&&(t-=1)),t}function kle(e){const t=Ele(e),n=e.length,i=new Uint8Array(t);let s=0;for(let l=0;l<n;l+=4){const o=pg[e.charCodeAt(l)],x=pg[e.charCodeAt(l+1)],S=pg[e.charCodeAt(l+2)],P=pg[e.charCodeAt(l+3)];i[s]=o<<2|x>>4,s+=1,i[s]=(x&15)<<4|S>>2,s+=1,i[s]=(S&3)<<6|P&63,s+=1}return i}const R1=16*1024,rg=4,Ple=new qo,_3=new Map;function Tle(e,t){return Ig(this,void 0,void 0,function*(){let n=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const l=(oe,we=0)=>{i.set(oe,we)},o=()=>i,x=()=>n.exports,S=oe=>{n.exports.Hash_SetMemorySize(oe);const we=n.exports.Hash_GetBuffer(),Ce=n.exports.memory.buffer;i=new Uint8Array(Ce,we,oe)},P=()=>new DataView(n.exports.memory.buffer).getUint32(n.exports.STATE_SIZE,!0),M=Ple.dispatch(()=>Ig(this,void 0,void 0,function*(){if(!_3.has(e.name)){const we=kle(e.data),Ce=WebAssembly.compile(we);_3.set(e.name,Ce)}const oe=yield _3.get(e.name);n=yield WebAssembly.instantiate(oe,{})})),D=()=>Ig(this,void 0,void 0,function*(){n||(yield M);const oe=n.exports.Hash_GetBuffer(),we=n.exports.memory.buffer;i=new Uint8Array(we,oe,R1)}),z=(oe=null)=>{s=!0,n.exports.Hash_Init(oe)},U=oe=>{let we=0;for(;we<oe.length;){const Ce=oe.subarray(we,we+R1);we+=Ce.length,i.set(Ce),n.exports.Hash_Update(Ce.length)}},q=oe=>{if(!s)throw new Error("update() called before init()");const we=lT(oe);U(we)},K=new Uint8Array(t*2),ee=(oe,we=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,n.exports.Hash_Final(we),oe==="binary"?i.slice(0,t):sT(K,i,t)},V=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const oe=n.exports.Hash_GetState(),we=P(),Ce=n.exports.memory.buffer,je=new Uint8Array(Ce,oe,we),tt=new Uint8Array(rg+we);return Sle(tt,e.hash),tt.set(je,rg),tt},X=oe=>{if(!(oe instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const we=n.exports.Hash_GetState(),Ce=P(),je=rg+Ce,tt=n.exports.memory.buffer;if(oe.length!==je)throw new Error(`Bad state length (expected ${je} bytes, got ${oe.length})`);if(!Cle(e.hash,oe.subarray(0,rg)))throw new Error("This state was written by an incompatible hash implementation");const qe=oe.subarray(rg);new Uint8Array(tt,we,Ce).set(qe),s=!0},ne=oe=>typeof oe=="string"?oe.length<R1/4:oe.byteLength<R1;let pe=ne;switch(e.name){case"argon2":case"scrypt":pe=()=>!0;break;case"blake2b":case"blake2s":pe=(oe,we)=>we<=512&&ne(oe);break;case"blake3":pe=(oe,we)=>we===0&&ne(oe);break;case"xxhash64":case"xxhash3":case"xxhash128":pe=()=>!1;break}const me=(oe,we=null,Ce=null)=>{if(!pe(oe,we))return z(we),q(oe),ee("hex",Ce);const je=lT(oe);return i.set(je),n.exports.Hash_Calculate(je.length,we,Ce),sT(K,i,t)};return yield D(),{getMemory:o,writeMemory:l,getExports:x,setMemorySize:S,init:z,update:q,digest:ee,save:V,load:X,calculate:me,hashLength:t}})}function Ile(e,t,n){return Ig(this,void 0,void 0,function*(){const i=yield e.lock(),s=yield Tle(t,n);return i(),s})}new qo;new qo;new qo;new qo;var Ole="crc32",Mle="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",Lle="749723dc",Rle={name:Ole,data:Mle,hash:Lle};const Dle=new qo;let D1=null;function Fle(e){if(D1===null)return Ile(Dle,Rle,4).then(t=>(D1=t,D1.calculate(e,3988292384)));try{const t=D1.calculate(e,3988292384);return Promise.resolve(t)}catch(t){return Promise.reject(t)}}new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;new qo;const Ble={username:"",email:"",fullName:"",language:"en",useMetricUnits:!0,subscribedToKonturUpdates:!1,bio:"",osmEditor:sa.osmEditors[0].id,defaultFeed:sa.defaultFeed,theme:"kontur"},x3={...Ble,id:null},zy=tm(new Map,"layersSettings");function zle(e,t){const n=new Blob([JSON.stringify(e)],{type:"json"}),i=document.createElement("a"),s=URL.createObjectURL(n);i.href=s,i.download=t,document.body.appendChild(i),i.click(),clearTimeout(setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)},0))}const HA=IR(new Set,"enabledLayers"),i5=tm(new Map,"layersLegends"),_D=tm(new Map,"layersMeta"),xD=tm(new Map,"layersSources"),bD=tm(new Map,"layersMenus");function o0(e){if(e&&typeof e=="object"){const t=Object.getOwnPropertyNames(e);for(const n of t){const i=e[n];o0(i)}return Object.freeze(e)}return e}const cT="bivariate-layer-",Nle="bivariate-source-",Ule={overlay:{name:Nr.t("categories.overlays"),openByDefault:!0,mutuallyExclusive:!1,order:1},base:{name:Nr.t("categories.basemap"),openByDefault:!1,mutuallyExclusive:!0,order:2}},$le={layersInSelectedArea:{name:Nr.t("groups.layers_in_selected_area"),openByDefault:!0,mutuallyExclusive:!1,order:0},user_layers:{name:Nr.t("groups.your_layers"),openByDefault:!0,mutuallyExclusive:!1,order:1},bivariate:{name:Nr.t("groups.kontur_analytics"),openByDefault:!0,mutuallyExclusive:!0,order:2},qa:{name:Nr.t("groups.qa"),openByDefault:!0,mutuallyExclusive:!1,order:3},osmbasedmap:{name:Nr.t("groups.osmbasedmap"),openByDefault:!1,mutuallyExclusive:!1,order:4},other:{name:Nr.t("groups.other"),openByDefault:!1,mutuallyExclusive:!1,order:999},elevation:{name:Nr.t("groups.elevation"),openByDefault:!0,mutuallyExclusive:!1},photo:{name:Nr.t("groups.photo"),openByDefault:!0,mutuallyExclusive:!1},map:{name:Nr.t("groups.map"),openByDefault:!0,mutuallyExclusive:!1}},jle=$le,Vle=new Proxy(jle,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),Hle=Mo({},({},e=Vle)=>e,"layersGroupsSettingsAtom"),qle=Ule,Gle=new Proxy(qle,{get(e,t,n){const i=Reflect.get(e,t,n);return i||{name:t,openByDefault:!0,mutuallyExclusive:!1,order:100}},set(e,t,n,i){return Reflect.set(e,t,n,i)}}),Qle=Mo({},({},e=Gle)=>e,"layersCategoriesSettingsAtom"),Wle=(()=>{let e=null;Hle.subscribe(s=>e=s);let t=null;Qle.subscribe(s=>t=s);let n=null;HA.subscribe(s=>n=s);let i=null;return zy.subscribe(s=>i=s),s=>{var M,D,z,U;if(!e||!t||!n||!i)return[];const l=(M=s.settings)==null?void 0:M.category,o=(D=s.settings)==null?void 0:D.group,x=l&&((z=t[l])==null?void 0:z.mutuallyExclusive),S=o&&((U=e[o])==null?void 0:U.mutuallyExclusive);if(!x&&!S)return[];const P=new Set;return n.forEach(q=>{var ee,V;if(s.id===q)return;const K=i.get(q);K&&(x?((ee=K.data)==null?void 0:ee.category)===l&&P.add(q):S&&((V=K.data)==null?void 0:V.group)===o&&P.add(q))}),Array.from(P).map(q=>HA.delete(q))}})(),Kle={enable:()=>null,disable:()=>null,hide:()=>null,show:()=>null,download:()=>null,destroy:()=>null},Zle=e=>(...t)=>console.error(`[Logical layer: ${e}]:`,...t);function Xle(e,t,n,i){let s=!1;const l=Mo({...Kle,layersSettingsAtom:zy,layersLegendsAtom:i5,layersMetaAtom:_D,layersSourcesAtom:xD,enabledLayersAtom:HA,mountedLayersAtom:L0,hiddenLayersAtom:Tg,layersMenusAtom:bD,_patchState:o=>o},({get:o,onAction:x,getUnlistedState:S,onInit:P,schedule:M,create:D},z={id:e,error:null,isEnabled:!1,isLoading:!1,isMounted:!1,isVisible:!0,isDownloadable:!1,settings:null,meta:null,legend:null,source:null,contextMenu:null,style:null})=>{var je,tt;const U=[],q=i||S(mD),K={isLoading:!1,data:null,error:null},ee=o("layersSettingsAtom").get(e)??K,V=o("layersMetaAtom").get(e)??K,X=o("layersLegendsAtom").get(e)??K,ne=o("layersSourcesAtom").get(e)??K,pe=o("layersMenusAtom").get(e)??null,me=Zle(z.id),oe={id:z.id,error:z.error,isLoading:[ee,V,X,ne].some(qe=>qe.isLoading),isEnabled:o("enabledLayersAtom").has(e),isMounted:o("mountedLayersAtom").has(e),isVisible:!o("hiddenLayersAtom").has(e),isDownloadable:((je=ne.data)==null?void 0:je.source.type)==="geojson",settings:o0(ee.data),meta:o0(V.data),legend:o0(X.data),source:o0(ne.data),contextMenu:o0(pe),style:((tt=ne.data)==null?void 0:tt.style)??null};P(()=>{try{t.willInit({map:q,state:{...oe}})}catch(qe){me(qe),oe.error=qe}}),x("enable",()=>{oe.isEnabled=!0,U.push(HA.set(e),...Wle(z))}),x("disable",()=>{oe.isEnabled=!1,U.push(HA.delete(e))}),x("hide",()=>{if(q)try{t.willHide({map:q,state:{...oe}}),oe.isVisible=!1,U.push(Tg.set(e))}catch(qe){me(qe),oe.error=qe}}),x("show",()=>{if(q)try{t.willUnhide({map:q,state:{...oe}}),oe.isVisible=!0,U.push(Tg.delete(e))}catch(qe){me(qe),oe.error=qe}}),x("download",()=>{var qe,rt;try{if(!z.isDownloadable)return;if(!((qe=z.source)!=null&&qe.source)){me("Download failed, source unavailable");return}z.source.source.type==="geojson"?zle(z.source.source.data,`${((rt=z.settings)==null?void 0:rt.name)||z.id||"Disaster Ninja map layer"}-${new Date().toISOString()}.json`):me("Only geojson layers can be downloaded")}catch(At){me(At),oe.error=At}});const we=!s&&oe.isEnabled!==oe.isMounted;if(!(z.isMounted!==oe.isMounted)&&we&&!oe.isLoading)try{oe.isMounted?q&&(t.willUnMount({map:q,state:{...oe}}),oe.isMounted=!1,U.push(L0.delete(e))):q&&(t.willMount({map:q,state:{...oe}}),oe.isMounted=!0,U.push(L0.set(e,l)))}catch(qe){me(qe),oe.error=qe}if(z.isMounted&&oe.isMounted){if(z.legend!==oe.legend&&q)try{t.willLegendUpdate({map:q,state:{...oe}})}catch(At){me(At),oe.error=At}if(z.source!==oe.source&&q)try{t.willSourceUpdate({map:q,state:{...oe}})}catch(At){me(At),oe.error=At}}return x("destroy",()=>{s=!0;try{t.willDestroy({map:q,state:{...oe}}),S(n).has(z.id)&&U.push(n.unregister(z.id,{notifyLayerAboutDestroy:!1}))}catch(qe){me(qe),oe.error=qe}}),x("_patchState",qe=>{Object.assign(oe,qe)}),U.length&&M(qe=>{qe(U),t.setErrorState(rt=>{me(rt),qe(D("_patchState",{error:rt.message}))})}),oe},{id:e,decorators:[GR()]});return l}const fT=new WeakMap,pT=new WeakMap,Yle=e=>{const t=Mo({register:n=>Array.isArray(n)?n:[n],unregister:(n,{notifyLayerAboutDestroy:i}={})=>({ids:Array.isArray(n)?n:[n],notifyLayerAboutDestroy:i}),_delete:n=>Array.isArray(n)?n:[n]},({onAction:n,create:i,schedule:s},l=new Map)=>(n("register",o=>{const x=new Map(l);o.forEach(({id:S,renderer:P,cleanUpActions:M,map:D})=>{const z=Xle(S,P,t,D);x.set(S,z),M&&fT.set(z,M),pT.set(z,z.subscribe(()=>null))}),l=x}),n("unregister",({ids:o,notifyLayerAboutDestroy:x})=>{o.forEach(S=>{const P=l.get(S);P?s(M=>{pT.get(P)();const z=[...fT.get(P)||[],L0.delete(S),Tg.delete(S),x&&P.destroy(),i("_delete",S)].filter(U=>Boolean(U));M(z)}):console.error(`Attempt unregister not existing layer with id: ${S}`)})}),n("_delete",o=>{const x=new Map(l);o.forEach(S=>{x.delete(S)}),l=x}),l),e);return t},a0=Yle("layersRegistryAtom"),O4=Mo({setUser:(e=x3)=>e},({onAction:e,schedule:t,getUnlistedState:n},i=x3)=>(e("setUser",s=>{s?i=s:i=x3;const l=Array.from(n(zy)).filter(([,S])=>{var P;return(P=S==null?void 0:S.data)==null?void 0:P.ownedByUser}).map(([S])=>S);if(!l.length)return;const o=Array.from(n(a0)).filter(([S])=>l.includes(S)).map(([S,P])=>P);if(!o.length)return;const x=o.map(S=>S.destroy());t(S=>{S(x)})}),i),"[Shared state] currentUserAtom"),Jle=Mo({open:()=>null,close:()=>null},({onAction:e},t={isOpen:!1})=>(e("open",()=>t={...t,isOpen:!0}),e("close",()=>t={...t,isOpen:!1}),t),"episodesPanelState"),wD=Mo({setFocusedGeometry:(e,t)=>({source:e,geometry:t}),_update:e=>e,reset:()=>null,currentUserAtom:O4,episodesPanelState:Jle},({onAction:e,schedule:t,create:n,getUnlistedState:i,onChange:s},l=null)=>(e("setFocusedGeometry",({source:o,geometry:x})=>{const S=i(O4);o&&x?t(async(P,M)=>{const D=await Fle(JSON.stringify({geometry:x,source:o,user:S.id}));if(!l||!M.hash||M.hash!==D){M.hash=D;const z={...x,hash:D};P(n("_update",{source:o,geometry:z}))}}):l=null}),e("reset",()=>{l=null}),e("_update",o=>{l=o}),s("currentUserAtom",()=>{var o;l&&((o=l.source)==null?void 0:o.type)!=="event"&&(l={...l})}),l),"[Shared state] focusedGeometryAtom"),eue=[["count","area_km2"],["building_count","area_km2"],["highway_length","area_km2"],["local_hours","area_km2"],["avgmax_ts","one"],["days_mintemp_above_25c_1c","one"],["population","area_km2"],["total_hours","area_km2"],["view_count","area_km2"]];function SD(e){const t=Array.isArray(e)?[]:{};for(const n in e){const i=e[n];i&&typeof i=="object"?t[n]=SD(i):t[n]=i}return t}const tue=window.structuredClone??SD;function CD(e){const t=tue(e);return"properties"in t&&(t.properties={}),"features"in t&&t.features.length&&(t.features=t.features.map(n=>CD(n))),t}function ED(e){return!e||!e.geometry||e.geometry.type==="FeatureCollection"&&!e.geometry.features.length}function nue(e){const t={importantLayers:eue};return e&&!ED(e)&&(t.geoJSON=CD(e==null?void 0:e.geometry)),t}function rue(e){if(e.hasOwnProperty("errors")&&Array.isArray(e.errors))return e.errors.reduce((t,n)=>(n.hasOwnProperty("message")&&t.push(n.message),t),[]).join("<br/>")}const iue=Ry({focusedGeometryAtom:wD},({onChange:e},t={focusedGeometry:null})=>(e("focusedGeometryAtom",n=>{t={focusedGeometry:n}}),t),"bivariateStatisticsDependencyAtom");let F1;const kD=ZR(iue,async({focusedGeometry:e},t)=>{if(!(e!=null&&e.geometry)&&F1)return F1;let n;try{const i=nue(e);n=await yD.post("/bivariate_matrix",i,!0,{signal:t.signal})}catch(i){if(QR(i)&&i.problem.kind==="canceled")return null;throw i}if(!n)throw new Error(Nr.t("no_data_received"));if(!(n!=null&&n.data)){const i=rue(n);throw new Error(i||Nr.t("no_data_received"))}return ED(e)&&!F1&&(F1=n.data),n.data},"bivariateStatisticsResource");var St=St||{};St.Geometry=function(){};St.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope),i=e.slope*n+e.intercept;return{x:n,y:i}};St.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))};St.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)};St.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope,i=t.y-n*t.x;return{slope:n,intercept:i}};St.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)};St.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t};St.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))};St.Hsluv=function(){};St.Hsluv.getBounds=function(e){for(var t=[],n=Math.pow(e+16,3)/1560896,i=n>St.Hsluv.epsilon?n:e/St.Hsluv.kappa,s=0;s<3;)for(var l=s++,o=St.Hsluv.m[l][0],x=St.Hsluv.m[l][1],S=St.Hsluv.m[l][2],P=0;P<2;){var M=P++,D=(284517*o-94839*S)*i,z=(838422*S+769860*x+731718*o)*e*i-769860*M*e,U=(632260*S-126452*x)*i+126452*M;t.push({slope:D/U,intercept:z/U})}return t};St.Hsluv.maxSafeChromaForL=function(e){for(var t=St.Hsluv.getBounds(e),n=1/0,i=0;i<t.length;){var s=t[i];++i;var l=St.Geometry.distanceLineFromOrigin(s);n=Math.min(n,l)}return n};St.Hsluv.maxChromaForLH=function(e,t){for(var n=t/360*Math.PI*2,i=St.Hsluv.getBounds(e),s=1/0,l=0;l<i.length;){var o=i[l];++l;var x=St.Geometry.lengthOfRayUntilIntersect(n,o);x>=0&&(s=Math.min(s,x))}return s};St.Hsluv.dotProduct=function(e,t){for(var n=0,i=0,s=e.length;i<s;){var l=i++;n+=e[l]*t[l]}return n};St.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055};St.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92};St.Hsluv.xyzToRgb=function(e){return[St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[0],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[1],e)),St.Hsluv.fromLinear(St.Hsluv.dotProduct(St.Hsluv.m[2],e))]};St.Hsluv.rgbToXyz=function(e){var t=[St.Hsluv.toLinear(e[0]),St.Hsluv.toLinear(e[1]),St.Hsluv.toLinear(e[2])];return[St.Hsluv.dotProduct(St.Hsluv.minv[0],t),St.Hsluv.dotProduct(St.Hsluv.minv[1],t),St.Hsluv.dotProduct(St.Hsluv.minv[2],t)]};St.Hsluv.yToL=function(e){return e<=St.Hsluv.epsilon?e/St.Hsluv.refY*St.Hsluv.kappa:116*Math.pow(e/St.Hsluv.refY,.3333333333333333)-16};St.Hsluv.lToY=function(e){return e<=8?St.Hsluv.refY*e/St.Hsluv.kappa:St.Hsluv.refY*Math.pow((e+16)/116,3)};St.Hsluv.xyzToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=t+15*n+3*i,l=4*t,o=9*n;s!=0?(l/=s,o/=s):(l=NaN,o=NaN);var x=St.Hsluv.yToL(n);if(x==0)return[0,0,0];var S=13*x*(l-St.Hsluv.refU),P=13*x*(o-St.Hsluv.refV);return[x,S,P]};St.Hsluv.luvToXyz=function(e){var t=e[0],n=e[1],i=e[2];if(t==0)return[0,0,0];var s=n/(13*t)+St.Hsluv.refU,l=i/(13*t)+St.Hsluv.refV,o=St.Hsluv.lToY(t),x=0-9*o*s/((s-4)*l-s*l),S=(9*o-15*l*o-l*x)/(3*l);return[x,o,S]};St.Hsluv.luvToLch=function(e){var t=e[0],n=e[1],i=e[2],s=Math.sqrt(n*n+i*i),l;if(s<1e-8)l=0;else{var o=Math.atan2(i,n);l=o*180/Math.PI,l<0&&(l=360+l)}return[t,s,l]};St.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],i=e[2],s=i/360*2*Math.PI,l=Math.cos(s)*n,o=Math.sin(s)*n;return[t,l,o]};St.Hsluv.hsluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxChromaForLH(i,t),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHsluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxChromaForLH(t,i),l=n/s*100;return[i,l,t]};St.Hsluv.hpluvToLch=function(e){var t=e[0],n=e[1],i=e[2];if(i>99.9999999)return[100,0,t];if(i<1e-8)return[0,0,t];var s=St.Hsluv.maxSafeChromaForL(i),l=s/100*n;return[i,l,t]};St.Hsluv.lchToHpluv=function(e){var t=e[0],n=e[1],i=e[2];if(t>99.9999999)return[i,0,100];if(t<1e-8)return[i,0,0];var s=St.Hsluv.maxSafeChromaForL(t),l=n/s*100;return[i,l,t]};St.Hsluv.rgbToHex=function(e){for(var t="#",n=0;n<3;){var i=n++,s=e[i],l=Math.round(s*255),o=l%16,x=(l-o)/16|0;t+=St.Hsluv.hexChars.charAt(x)+St.Hsluv.hexChars.charAt(o)}return t};St.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],n=0;n<3;){var i=n++,s=St.Hsluv.hexChars.indexOf(e.charAt(i*2+1)),l=St.Hsluv.hexChars.indexOf(e.charAt(i*2+2)),o=s*16+l;t.push(o/255)}return t};St.Hsluv.lchToRgb=function(e){return St.Hsluv.xyzToRgb(St.Hsluv.luvToXyz(St.Hsluv.lchToLuv(e)))};St.Hsluv.rgbToLch=function(e){return St.Hsluv.luvToLch(St.Hsluv.xyzToLuv(St.Hsluv.rgbToXyz(e)))};St.Hsluv.hsluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hsluvToLch(e))};St.Hsluv.rgbToHsluv=function(e){return St.Hsluv.lchToHsluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hpluvToRgb=function(e){return St.Hsluv.lchToRgb(St.Hsluv.hpluvToLch(e))};St.Hsluv.rgbToHpluv=function(e){return St.Hsluv.lchToHpluv(St.Hsluv.rgbToLch(e))};St.Hsluv.hsluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hsluvToRgb(e))};St.Hsluv.hpluvToHex=function(e){return St.Hsluv.rgbToHex(St.Hsluv.hpluvToRgb(e))};St.Hsluv.hexToHsluv=function(e){return St.Hsluv.rgbToHsluv(St.Hsluv.hexToRgb(e))};St.Hsluv.hexToHpluv=function(e){return St.Hsluv.rgbToHpluv(St.Hsluv.hexToRgb(e))};St.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];St.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];St.Hsluv.refY=1;St.Hsluv.refU=.19783000664283;St.Hsluv.refV=.46831999493879;St.Hsluv.kappa=903.2962962;St.Hsluv.epsilon=.0088564516;St.Hsluv.hexChars="0123456789abcdef";var oue={hsluvToRgb:St.Hsluv.hsluvToRgb,rgbToHsluv:St.Hsluv.rgbToHsluv,hpluvToRgb:St.Hsluv.hpluvToRgb,rgbToHpluv:St.Hsluv.rgbToHpluv,hsluvToHex:St.Hsluv.hsluvToHex,hexToHsluv:St.Hsluv.hexToHsluv,hpluvToHex:St.Hsluv.hpluvToHex,hexToHpluv:St.Hsluv.hexToHpluv,lchToHpluv:St.Hsluv.lchToHpluv,hpluvToLch:St.Hsluv.hpluvToLch,lchToHsluv:St.Hsluv.lchToHsluv,hsluvToLch:St.Hsluv.hsluvToLch,lchToLuv:St.Hsluv.lchToLuv,luvToLch:St.Hsluv.luvToLch,xyzToLuv:St.Hsluv.xyzToLuv,luvToXyz:St.Hsluv.luvToXyz,xyzToRgb:St.Hsluv.xyzToRgb,rgbToXyz:St.Hsluv.rgbToXyz,lchToRgb:St.Hsluv.lchToRgb,rgbToLch:St.Hsluv.rgbToLch},dp=oue;function v2(e){const t=/https?:/;t.test(e)?e=window.location.protocol+e.replace(t,""):e=`${sa.bivariateTilesServer??`${window.location.protocol}${window.location.host}${sa.baseUrl}`}${e}`,e=e.replace("{bbox}","{bbox-epsg-3857}").replace("{proj}","EPSG:3857").replace("{width}","256").replace("{height}","256").replace("{zoom}","{z}").replace("{-y}","{y}");const n=(e.match(/{switch:(.*?)}/)||["",""])[1].split(",")[0];return e=e.replace(/{switch:(.*?)}/,n),e}function aue(e,t){return e+(((t-e)%360+540)%360-180)*.5}function hT(e,t){return(e+t)/2}function ig(e,t){return[aue(e[0],t[0]),hT(e[1],t[1]),hT(e[2],t[2])]}function mp(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=parseInt(`0x${t.join("")}`,0);return`rgba(${[n>>16&255,n>>8&255,n&255].join(",")},0.5)`}throw new Error("Bad Hex")}function B1(e,t){const n=(Array.isArray(t[0])?[...t[0]]:[t[0]]).sort(),i=(Array.isArray(t[1])?[...t[1]]:[t[1]]).sort(),s=Array.from(new Set(n.concat(i))),l=e.combinations.find(({corner:o})=>{if(s.length!==o.length)return!1;for(let x=0;x<s.length;x+=1)if(s[x]!==o[x])return!1;return!0});return l!=null&&l.color?{color:l.color}:{color:e.fallback,isFallbackColor:!0}}function sue(e,t,n,i,s){var q,K;const{indicators:l,colors:o,axis:x}=s,S=x.find(ee=>ee.quotient[0]===e&&ee.quotient[1]===t),P=x.find(ee=>ee.quotient[0]===n&&ee.quotient[1]===i);if(!S||!P)return;const M=(q=l.find(ee=>ee.name===e))==null?void 0:q.direction,D=(K=l.find(ee=>ee.name===n))==null?void 0:K.direction;if(!M||!D)return;const z=uue(o,M,D),U=lue(S,P,z,s==null?void 0:s.meta);return[z,U]}const lue=(e,t,n,i)=>HR({id:`${e.quotient.join("&")}|${t.quotient.join("&")}`,x:e,y:t,colors:n,sourceLayer:"stats",source:{type:"vector",tiles:[`${v2(sa.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${sa.bivariateTilesIndicatorsClass}`],maxzoom:i.max_zoom,minzoom:0}}),uue=(e,t,n)=>{const i=B1(e,[t[0],n[0]]),s=B1(e,[t[1],n[0]]),l=B1(e,[t[0],n[1]]),o=B1(e,[t[1],n[1]]),x=dp.hexToHsluv(i.color),S=dp.hexToHsluv(s.color),P=dp.hexToHsluv(l.color),M=dp.hexToHsluv(o.color),D=ig(x,P),z=ig(x,S),U=ig(P,M),q=ig(S,M),K=ig(z,U);return[{id:"A1",color:mp(i.color),isFallbackColor:i.isFallbackColor},{id:"A2",color:mp(dp.hsluvToHex(D))},{id:"A3",color:mp(l.color),isFallbackColor:l.isFallbackColor},{id:"B1",color:mp(dp.hsluvToHex(z))},{id:"B2",color:mp(dp.hsluvToHex(K))},{id:"B3",color:mp(dp.hsluvToHex(U))},{id:"C1",color:mp(s.color),isFallbackColor:s.isFallbackColor},{id:"C2",color:mp(dp.hsluvToHex(q))},{id:"C3",color:mp(o.color),isFallbackColor:o.isFallbackColor}]};function cue(e){return HR({id:`${e.axis.x.quotient.join("&")}|${e.axis.y.quotient.join("&")}`,x:e.axis.x,y:e.axis.y,colors:[...e.steps].sort((t,n)=>t.label>n.label?1:-1).map(t=>({id:t.label,color:t.color})),sourceLayer:"stats"})}function fue(e,t,n,i,s,l,o){const x=o.axis.find(P=>P.quotient[0]===n&&P.quotient[1]===i),S=o.axis.find(P=>P.quotient[0]===s&&P.quotient[1]===l);if(!(!x||!S))return pue(e,x,S,t)}const pue=(e,t,n,i)=>({name:e,axis:{x:t,y:n},type:"bivariate",steps:i.map(({id:s,color:l,isFallbackColor:o})=>({label:s,color:l,isFallbackColor:o}))});function hue(e,t,n,i,s){var U,q,K,ee;const l=s.indicators.find(V=>V.name===e),o=s.indicators.find(V=>V.name===n),x=l==null?void 0:l.label,S=o==null?void 0:o.label,P=(U=s.indicators.find(V=>V.name===t))==null?void 0:U.label,M=(q=s.indicators.find(V=>V.name===i))==null?void 0:q.label;let D=[];return(K=l==null?void 0:l.copyrights)!=null&&K.length&&(D=D.concat(l.copyrights)),(ee=o==null?void 0:o.copyrights)!=null&&ee.length&&(D=D.concat(o.copyrights)),{description:`This map shows relation of ${x} (normalized by ${P}) to the base of ${S} (normalized by ${M}).`,copyrights:D,hints:{x:{label:x,direction:l==null?void 0:l.direction},y:{label:S,direction:o==null?void 0:o.direction}}}}function Aue(e,t,n,i){const s=e.findIndex(x=>{if(n<x.value)return!0}),l=w4(s),o=t.findIndex(x=>{if(i<x.value)return!0});return l+o}const due=e=>{const{correlationRates:t}=e,n=[],i=[];for(const s of t){const l=s.x.quotient,o=s.x.parent||l;let x=n.find(D=>D.parent===JSON.stringify(o));x?x.quotients.find(D=>JSON.stringify(D)===JSON.stringify(l))||x.quotients.push(l):(x={parent:JSON.stringify(o),quotients:[l],selectedQuotient:l},n.push(x));const S=s.y.quotient,P=s.y.parent||S;let M=i.find(D=>D.parent===JSON.stringify(P));M?M.quotients.find(D=>JSON.stringify(D)===JSON.stringify(S))||M.quotients.push(S):(M={parent:JSON.stringify(P),quotients:[S],selectedQuotient:S},i.push(M))}for(const s of n){const l=s.quotients.find(o=>JSON.stringify(o)===s.parent);l&&(s.selectedQuotient=l)}for(const s of i){const l=s.quotients.find(o=>JSON.stringify(o)===s.parent);l&&(s.selectedQuotient=l)}return{x:n,y:i}},z1=Mo({setNumerators:(e,t)=>({xGroups:e,yGroups:t}),bivariateStatisticsResourceAtom:kD},({get:e,onAction:t,onChange:n},i={xGroups:[],yGroups:[]})=>(n("bivariateStatisticsResourceAtom",({data:s,loading:l})=>{if(s&&!l){const o=s.polygonStatistic.bivariateStatistic,x=due(o);i={xGroups:x.x,yGroups:x.y}}}),t("setNumerators",s=>{i=s}),i),"bivariateNumerators"),mue=()=>({legend:[],source:[],meta:[],settings:[],menu:[]}),N1=([e,t])=>[e,{data:t,isLoading:!1,error:null}];function AT(e){const t=e.reduce((s,{id:l,...o})=>(Object.keys(o).forEach(x=>{s[x].push([l,o[x]])}),s),mue()),n=[],i=[];if(t.legend.length){const s=t.legend.map(N1);n.push(i5.change(l=>new Map([...l,...s])))}if(t.source.length){const s=t.source.map(N1);n.push(xD.change(l=>new Map([...l,...s])))}if(t.meta.length){const s=t.meta.map(N1);n.push(_D.change(l=>new Map([...l,...s])))}if(t.settings.length){const s=t.settings.map(N1);n.push(zy.change(l=>new Map([...l,...s])))}if(t.menu.length){const s=t.menu;n.push(bD.change(l=>new Map([...l,...s])))}return[n,i]}var zu=function(e){e=e||{};var t=typeof e<"u"?e:{},n={},i;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);var s="";function l(ae){return t.locateFile?t.locateFile(ae,s):s+ae}var o;document.currentScript&&(s=document.currentScript.src),s.indexOf("blob:")!==0?s=s.substr(0,s.lastIndexOf("/")+1):s="",o=function(Ve,lt,We){var A=new XMLHttpRequest;A.open("GET",Ve,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){lt(A.response);return}var Lt=ei(Ve);if(Lt){lt(Lt.buffer);return}We()},A.onerror=We,A.send(null)};var x=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);n=null,t.arguments&&t.arguments;var P=0,M=function(ae){P=ae},D=function(){return P},z=8;function U(ae,Ve,lt,We){switch(lt=lt||"i8",lt.charAt(lt.length-1)==="*"&&(lt="i32"),lt){case"i1":rt[ae>>0]=Ve;break;case"i8":rt[ae>>0]=Ve;break;case"i16":Ot[ae>>1]=Ve;break;case"i32":Vt[ae>>2]=Ve;break;case"i64":Ro=[Ve>>>0,(bi=Ve,+jn(bi)>=1?bi>0?(Go(+gi(bi/4294967296),4294967295)|0)>>>0:~~+mi((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Vt[ae>>2]=Ro[0],Vt[ae+4>>2]=Ro[1];break;case"float":Jt[ae>>2]=Ve;break;case"double":bn[ae>>3]=Ve;break;default:xe("invalid type for setValue: "+lt)}}function q(ae,Ve,lt){switch(Ve=Ve||"i8",Ve.charAt(Ve.length-1)==="*"&&(Ve="i32"),Ve){case"i1":return rt[ae>>0];case"i8":return rt[ae>>0];case"i16":return Ot[ae>>1];case"i32":return Vt[ae>>2];case"i64":return Vt[ae>>2];case"float":return Jt[ae>>2];case"double":return bn[ae>>3];default:xe("invalid type for getValue: "+Ve)}return null}var K=!1;function ee(ae,Ve){ae||xe("Assertion failed: "+Ve)}function V(ae){var Ve=t["_"+ae];return ee(Ve,"Cannot call unknown function "+ae+", make sure it is exported"),Ve}function X(ae,Ve,lt,We,A){var ye={string:function(Qt){var dr=0;if(Qt!=null&&Qt!==0){var Jn=(Qt.length<<2)+1;dr=Ur(Jn),Ce(Qt,dr,Jn)}return dr},array:function(Qt){var dr=Ur(Qt.length);return je(Qt,dr),dr}};function Lt(Qt){return Ve==="string"?oe(Qt):Ve==="boolean"?Boolean(Qt):Qt}var $t=V(ae),ct=[],It=0;if(We)for(var bt=0;bt<We.length;bt++){var hn=ye[lt[bt]];hn?(It===0&&(It=se()),ct[bt]=hn(We[bt])):ct[bt]=We[bt]}var fn=$t.apply(null,ct);return fn=Lt(fn),It!==0&&J(It),fn}function ne(ae,Ve,lt,We){lt=lt||[];var A=lt.every(function(Lt){return Lt==="number"}),ye=Ve!=="string";return ye&&A&&!We?V(ae):function(){return X(ae,Ve,lt,arguments)}}var pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function me(ae,Ve,lt){for(var We=Ve+lt,A=Ve;ae[A]&&!(A>=We);)++A;if(A-Ve>16&&ae.subarray&&pe)return pe.decode(ae.subarray(Ve,A));for(var ye="";Ve<A;){var Lt=ae[Ve++];if(!(Lt&128)){ye+=String.fromCharCode(Lt);continue}var $t=ae[Ve++]&63;if((Lt&224)==192){ye+=String.fromCharCode((Lt&31)<<6|$t);continue}var ct=ae[Ve++]&63;if((Lt&240)==224?Lt=(Lt&15)<<12|$t<<6|ct:Lt=(Lt&7)<<18|$t<<12|ct<<6|ae[Ve++]&63,Lt<65536)ye+=String.fromCharCode(Lt);else{var It=Lt-65536;ye+=String.fromCharCode(55296|It>>10,56320|It&1023)}}return ye}function oe(ae,Ve){return ae?me(At,ae,Ve):""}function we(ae,Ve,lt,We){if(!(We>0))return 0;for(var A=lt,ye=lt+We-1,Lt=0;Lt<ae.length;++Lt){var $t=ae.charCodeAt(Lt);if($t>=55296&&$t<=57343){var ct=ae.charCodeAt(++Lt);$t=65536+(($t&1023)<<10)|ct&1023}if($t<=127){if(lt>=ye)break;Ve[lt++]=$t}else if($t<=2047){if(lt+1>=ye)break;Ve[lt++]=192|$t>>6,Ve[lt++]=128|$t&63}else if($t<=65535){if(lt+2>=ye)break;Ve[lt++]=224|$t>>12,Ve[lt++]=128|$t>>6&63,Ve[lt++]=128|$t&63}else{if(lt+3>=ye)break;Ve[lt++]=240|$t>>18,Ve[lt++]=128|$t>>12&63,Ve[lt++]=128|$t>>6&63,Ve[lt++]=128|$t&63}}return Ve[lt]=0,lt-A}function Ce(ae,Ve,lt){return we(ae,At,Ve,lt)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function je(ae,Ve){rt.set(ae,Ve)}function tt(ae,Ve){return ae%Ve>0&&(ae+=Ve-ae%Ve),ae}var qe,rt,At,Ot,Vt,Jt,bn;function st(ae){qe=ae,t.HEAP8=rt=new Int8Array(ae),t.HEAP16=Ot=new Int16Array(ae),t.HEAP32=Vt=new Int32Array(ae),t.HEAPU8=At=new Uint8Array(ae),t.HEAPU16=new Uint16Array(ae),t.HEAPU32=new Uint32Array(ae),t.HEAPF32=Jt=new Float32Array(ae),t.HEAPF64=bn=new Float64Array(ae)}var Me=5266928,Le=24016,re=t.TOTAL_MEMORY||33554432;t.buffer?qe=t.buffer:qe=new ArrayBuffer(re),re=qe.byteLength,st(qe),Vt[Le>>2]=Me;function ge(ae){for(;ae.length>0;){var Ve=ae.shift();if(typeof Ve=="function"){Ve();continue}var lt=Ve.func;typeof lt=="number"?Ve.arg===void 0?t.dynCall_v(lt):t.dynCall_vi(lt,Ve.arg):lt(Ve.arg===void 0?null:Ve.arg)}}var Mt=[],en=[],vn=[],dn=[];function Cn(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Vr(t.preRun.shift());ge(Mt)}function $n(){ge(en)}function Fn(){ge(vn)}function Yr(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Fi(t.postRun.shift());ge(dn)}function Vr(ae){Mt.unshift(ae)}function Fi(ae){dn.unshift(ae)}var jn=Math.abs,mi=Math.ceil,gi=Math.floor,Go=Math.min,Bi=0,Wi=null;function Ss(ae){Bi++,t.monitorRunDependencies&&t.monitorRunDependencies(Bi)}function ro(ae){if(Bi--,t.monitorRunDependencies&&t.monitorRunDependencies(Bi),Bi==0&&Wi){var Ve=Wi;Wi=null,Ve()}}t.preloadedImages={},t.preloadedAudios={};var Kr=null,Lo="data:application/octet-stream;base64,";function io(ae){return String.prototype.startsWith?ae.startsWith(Lo):ae.indexOf(Lo)===0}var bi,Ro;Kr="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var la=24032;function vt(ae){return ae}function be(ae){var Ve=/\b__Z[\w\d_]+/g;return ae.replace(Ve,function(lt){var We=lt;return lt===We?lt:We+" ["+lt+"]"})}function Je(){var ae=new Error;if(!ae.stack){try{throw new Error(0)}catch(Ve){ae=Ve}if(!ae.stack)return"(no stack trace available)"}return ae.stack.toString()}function Ct(){var ae=Je();return t.extraStackTrace&&(ae+=`
`+t.extraStackTrace()),be(ae)}function ln(ae,Ve,lt,We){xe("Assertion failed: "+oe(ae)+", at: "+[Ve?oe(Ve):"unknown filename",lt,We?oe(We):"unknown function"])}function Gn(){return rt.length}function Mr(ae,Ve,lt){At.set(At.subarray(Ve,Ve+lt),ae)}function Mn(ae){return t.___errno_location&&(Vt[t.___errno_location()>>2]=ae),ae}function nr(ae){xe("OOM")}function Hr(ae){try{var Ve=new ArrayBuffer(ae);return Ve.byteLength!=ae?void 0:(new Int8Array(Ve).set(rt),Ei(Ve),st(Ve),1)}catch{}}function Jr(ae){var Ve=Gn(),lt=16777216,We=2147483648-lt;if(ae>We)return!1;for(var A=16777216,ye=Math.max(Ve,A);ye<ae;)ye<=536870912?ye=tt(2*ye,lt):ye=Math.min(tt((3*ye+2147483648)/4,lt),We);var Lt=Hr(ye);return!!Lt}var mr=typeof atob=="function"?atob:function(ae){var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lt="",We,A,ye,Lt,$t,ct,It,bt=0;ae=ae.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Lt=Ve.indexOf(ae.charAt(bt++)),$t=Ve.indexOf(ae.charAt(bt++)),ct=Ve.indexOf(ae.charAt(bt++)),It=Ve.indexOf(ae.charAt(bt++)),We=Lt<<2|$t>>4,A=($t&15)<<4|ct>>2,ye=(ct&3)<<6|It,lt=lt+String.fromCharCode(We),ct!==64&&(lt=lt+String.fromCharCode(A)),It!==64&&(lt=lt+String.fromCharCode(ye));while(bt<ae.length);return lt};function Co(ae){try{for(var Ve=mr(ae),lt=new Uint8Array(Ve.length),We=0;We<Ve.length;++We)lt[We]=Ve.charCodeAt(We);return lt}catch{throw new Error("Converting base64 string to bytes failed.")}}function ei(ae){if(io(ae))return Co(ae.slice(Lo.length))}var ua={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},La={a:xe,b:M,c:D,d:ln,e:Mn,f:Gn,g:Mr,h:Jr,i:nr,j:vt,k:be,l:Hr,m:Je,n:Ct,o:la,p:Le},Ht=function(ae,Ve,lt){var We=new ae.Int8Array(lt),A=new ae.Int32Array(lt);new ae.Uint8Array(lt),new ae.Float32Array(lt);var ye=new ae.Float64Array(lt),Lt=Ve.p|0,$t=ae.Math.floor,ct=ae.Math.abs,It=ae.Math.sqrt,bt=ae.Math.pow,hn=ae.Math.cos,fn=ae.Math.sin,Qt=ae.Math.tan,dr=ae.Math.acos,Jn=ae.Math.asin,Dr=ae.Math.atan,gr=ae.Math.atan2,lr=ae.Math.ceil,vr=ae.Math.imul,Ai=ae.Math.min,Sr=ae.Math.clz32,Xt=Ve.b,Qe=Ve.c,wn=Ve.d,al=Ve.e,zc=Ve.f,oo=Ve.g,Qo=Ve.h,Nc=Ve.i,Re=24048;function ao(h){return We=new Int8Array(h),A=new Int32Array(h),ye=new Float64Array(h),lt=h,!0}function as(h){h=h|0;var m=0;return m=Re,Re=Re+h|0,Re=Re+15&-16,m|0}function ca(){return Re|0}function si(h){h=h|0,Re=h}function fa(h,m){h=h|0,Re=h}function Eo(h){return h=h|0,(vr(h*3|0,h+1|0)|0)+1|0}function Wo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;Rf(h,m,v,_,0)|0&&(O=(vr(v*3|0,v+1|0)|0)+1|0,ji(_|0,0,O<<3|0)|0,k=Bo(O,4)|0,k&&(zi(h,m,v,_,k,O,0),Bn(k)))}function ss(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0;if(Rf(h,m,v,_,k)|0){if(O=(vr(v*3|0,v+1|0)|0)+1|0,ji(_|0,0,O<<3|0)|0,k|0){ji(k|0,0,O<<2|0)|0,zi(h,m,v,_,k,O,0);return}k=Bo(O,4)|0,k&&(zi(h,m,v,_,k,O,0),Bn(k))}}function Rf(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0;if(at=Re,Re=Re+16|0,Ze=at,O=_,A[O>>2]=h,A[O+4>>2]=m,O=(k|0)!=0,O&&(A[k>>2]=0),Ui(h,m)|0)return Ze=1,Re=at,Ze|0;A[Ze>>2]=0;e:do if((v|0)>=1)if(O)for(ie=0,ce=1,Fe=1,I=0,O=h;;){if(!(I|ie)){if(O=ki(O,m,4,Ze)|0,m=Qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,A[16+(ie<<2)>>2]|0,Ze)|0,m=Qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(h=_+(Fe<<3)|0,A[h>>2]=O,A[h+4>>2]=m,A[k+(Fe<<2)>>2]=ce,I=I+1|0,h=(I|0)==(ce|0),N=ie+1|0,Q=(N|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(Q&h&1)|0,(ce|0)>(v|0)){O=0;break}else ie=h?Q?0:N:ie,Fe=Fe+1|0,I=h?0:I}else for(ie=0,ce=1,Fe=1,I=0,O=h;;){if(!(I|ie)){if(O=ki(O,m,4,Ze)|0,m=Qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(Ui(O,m)|0){O=1;break e}}if(O=ki(O,m,A[16+(ie<<2)>>2]|0,Ze)|0,m=Qe()|0,(O|0)==0&(m|0)==0){O=2;break e}if(h=_+(Fe<<3)|0,A[h>>2]=O,A[h+4>>2]=m,I=I+1|0,h=(I|0)==(ce|0),N=ie+1|0,Q=(N|0)==6,Ui(O,m)|0){O=1;break e}if(ce=ce+(Q&h&1)|0,(ce|0)>(v|0)){O=0;break}else ie=h?Q?0:N:ie,Fe=Fe+1|0,I=h?0:I}else O=0;while(0);return Ze=O,Re=at,Ze|0}function zi(h,m,v,_,k,O,I){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0,I=I|0;var N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0;if(Fe=Re,Re=Re+16|0,ce=Fe,(h|0)==0&(m|0)==0){Re=Fe;return}if(N=Wt(h|0,m|0,O|0,((O|0)<0)<<31>>31|0)|0,Qe()|0,Q=_+(N<<3)|0,Ze=Q,at=A[Ze>>2]|0,Ze=A[Ze+4>>2]|0,ie=(at|0)==(h|0)&(Ze|0)==(m|0),!((at|0)==0&(Ze|0)==0|ie))do N=(N+1|0)%(O|0)|0,Q=_+(N<<3)|0,at=Q,Ze=A[at>>2]|0,at=A[at+4>>2]|0,ie=(Ze|0)==(h|0)&(at|0)==(m|0);while(!((Ze|0)==0&(at|0)==0|ie));if(N=k+(N<<2)|0,ie&&(A[N>>2]|0)<=(I|0)){Re=Fe;return}if(at=Q,A[at>>2]=h,A[at+4>>2]=m,A[N>>2]=I,(I|0)>=(v|0)){Re=Fe;return}at=I+1|0,A[ce>>2]=0,Ze=ki(h,m,2,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),A[ce>>2]=0,Ze=ki(h,m,3,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),A[ce>>2]=0,Ze=ki(h,m,1,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),A[ce>>2]=0,Ze=ki(h,m,5,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),A[ce>>2]=0,Ze=ki(h,m,4,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),A[ce>>2]=0,Ze=ki(h,m,6,ce)|0,zi(Ze,Qe()|0,v,_,k,O,at),Re=Fe}function ki(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0;if((A[_>>2]|0)>0){k=0;do v=$s(v)|0,k=k+1|0;while((k|0)<(A[_>>2]|0))}N=mt(h|0,m|0,45)|0,Qe()|0,Q=N&127,O=Si(h,m)|0,k=mt(h|0,m|0,52)|0,Qe()|0,k=k&15;e:do if(!k)I=6;else for(;;){if(Fe=(15-k|0)*3|0,Ze=mt(h|0,m|0,Fe|0)|0,Qe()|0,Ze=Ze&7,at=(Xo(k)|0)==0,k=k+-1|0,ce=Yt(7,0,Fe|0)|0,m=m&~(Qe()|0),Fe=Yt(A[(at?464:48)+(Ze*28|0)+(v<<2)>>2]|0,0,Fe|0)|0,ie=Qe()|0,v=A[(at?672:256)+(Ze*28|0)+(v<<2)>>2]|0,h=Fe|h&~ce,m=ie|m,!v){v=0;break e}if(!k){I=6;break}}while(0);(I|0)==6&&(at=A[880+(Q*28|0)+(v<<2)>>2]|0,Ze=Yt(at|0,0,45)|0,h=Ze|h,m=Qe()|0|m&-1040385,v=A[4304+(Q*28|0)+(v<<2)>>2]|0,(at&127|0)==127&&(at=Yt(A[880+(Q*28|0)+20>>2]|0,0,45)|0,m=Qe()|0|m&-1040385,v=A[4304+(Q*28|0)+20>>2]|0,h=ks(at|h,m)|0,m=Qe()|0,A[_>>2]=(A[_>>2]|0)+1)),I=mt(h|0,m|0,45)|0,Qe()|0,I=I&127;e:do if(ci(I)|0){t:do if((Si(h,m)|0)==1){if((Q|0)!=(I|0))if(Xu(I,A[7728+(Q*28|0)>>2]|0)|0){h=$a(h,m)|0,O=1,m=Qe()|0;break}else{h=ks(h,m)|0,O=1,m=Qe()|0;break}switch(O|0){case 5:{h=$a(h,m)|0,m=Qe()|0,A[_>>2]=(A[_>>2]|0)+5,O=0;break t}case 3:{h=ks(h,m)|0,m=Qe()|0,A[_>>2]=(A[_>>2]|0)+1,O=0;break t}default:return Ze=0,at=0,Xt(Ze|0),at|0}}else O=0;while(0);if((v|0)>0){k=0;do h=du(h,m)|0,m=Qe()|0,k=k+1|0;while((k|0)!=(v|0))}if((Q|0)!=(I|0)){if(!(Uc(I)|0)){if((O|0)!=0|(Si(h,m)|0)!=5)break;A[_>>2]=(A[_>>2]|0)+1;break}switch(N&127){case 8:case 118:break e}(Si(h,m)|0)!=3&&(A[_>>2]=(A[_>>2]|0)+1)}}else if((v|0)>0){k=0;do h=ks(h,m)|0,m=Qe()|0,k=k+1|0;while((k|0)!=(v|0))}while(0);return A[_>>2]=((A[_>>2]|0)+v|0)%6|0,Ze=m,at=h,Xt(Ze|0),at|0}function ls(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0;if(Fe=Re,Re=Re+16|0,ce=Fe,!v)return ce=_,A[ce>>2]=h,A[ce+4>>2]=m,ce=0,Re=Fe,ce|0;A[ce>>2]=0;e:do if(Ui(h,m)|0)h=1;else{if(O=(v|0)>0,O){k=0,ie=h;do{if(ie=ki(ie,m,4,ce)|0,m=Qe()|0,(ie|0)==0&(m|0)==0){h=2;break e}if(k=k+1|0,Ui(ie,m)|0){h=1;break e}}while((k|0)<(v|0));if(Q=_,A[Q>>2]=ie,A[Q+4>>2]=m,Q=v+-1|0,O){O=0,I=1,k=ie,h=m;do{if(k=ki(k,h,2,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(I<<3)|0,A[N>>2]=k,A[N+4>>2]=h,I=I+1|0,Ui(k,h)|0){h=1;break e}O=O+1|0}while((O|0)<(v|0));N=0,O=I;do{if(k=ki(k,h,3,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(I=_+(O<<3)|0,A[I>>2]=k,A[I+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}N=N+1|0}while((N|0)<(v|0));I=0;do{if(k=ki(k,h,1,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,5,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));I=0;do{if(k=ki(k,h,4,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,O=O+1|0,Ui(k,h)|0){h=1;break e}I=I+1|0}while((I|0)<(v|0));for(I=0;;){if(k=ki(k,h,6,ce)|0,h=Qe()|0,(k|0)==0&(h|0)==0){h=2;break e}if((I|0)!=(Q|0))if(N=_+(O<<3)|0,A[N>>2]=k,A[N+4>>2]=h,!(Ui(k,h)|0))O=O+1|0;else{h=1;break e}if(I=I+1|0,(I|0)>=(v|0)){I=ie,O=m;break}}}else I=ie,k=ie,O=m,h=m}else I=_,A[I>>2]=h,A[I+4>>2]=m,I=h,k=h,O=m,h=m;h=((I|0)!=(k|0)|(O|0)!=(h|0))&1}while(0);return ce=h,Re=Fe,ce|0}function wi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;if(O=Re,Re=Re+48|0,k=O+8|0,_=O,N=h,I=A[N+4>>2]|0,v=_,A[v>>2]=A[N>>2],A[v+4>>2]=I,Zi(_,k),k=Cs(k,m)|0,m=A[_>>2]|0,_=A[h+8>>2]|0,(_|0)<=0)return N=m,I=(k|0)<(N|0),N=I?N:k,N=N+12|0,Re=O,N|0;v=A[h+12>>2]|0,h=0;do m=(A[v+(h<<3)>>2]|0)+m|0,h=h+1|0;while((h|0)<(_|0));return N=(k|0)<(m|0),N=N?m:k,N=N+12|0,Re=O,N|0}function Ni(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;if(N=Re,Re=Re+48|0,_=N+8|0,k=N,!(Rl(h,m,v)|0)){Re=N;return}if(Q=h,O=A[Q+4>>2]|0,I=k,A[I>>2]=A[Q>>2],A[I+4>>2]=O,Zi(k,_),I=Cs(_,m)|0,m=A[k>>2]|0,O=A[h+8>>2]|0,(O|0)>0){k=A[h+12>>2]|0,_=0;do m=(A[k+(_<<3)>>2]|0)+m|0,_=_+1|0;while((_|0)!=(O|0))}if(m=(I|0)<(m|0)?m:I,(m|0)<=-12){Re=N;return}Q=m+11|0,ji(v|0,0,(((Q|0)>0?Q:0)<<3)+8|0)|0,Re=N}function Rl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,E=0,L=0,F=0,$=0,G=0;if(G=Re,Re=Re+112|0,E=G+80|0,Q=G+72|0,L=G,F=G+56|0,ie=h+8|0,$=Ti((A[ie>>2]<<5)+32|0)|0,$||wn(22848,22448,800,22456),ba(h,$),O=h,_=A[O+4>>2]|0,N=Q,A[N>>2]=A[O>>2],A[N+4>>2]=_,Zi(Q,E),N=Cs(E,m)|0,_=A[Q>>2]|0,O=A[ie>>2]|0,(O|0)>0){I=A[h+12>>2]|0,k=0;do _=(A[I+(k<<3)>>2]|0)+_|0,k=k+1|0;while((k|0)!=(O|0))}if(N=(N|0)<(_|0)?_:N,y=N+12|0,k=Bo(y,8)|0,ce=Bo(y,8)|0,A[E>>2]=0,p=h,f=A[p+4>>2]|0,_=Q,A[_>>2]=A[p>>2],A[_+4>>2]=f,_=Ku(Q,y,m,E,k,ce)|0,_|0)return Bn(k),Bn(ce),Bn($),$=_,Re=G,$|0;e:do if((A[ie>>2]|0)>0){for(O=h+12|0,_=0;I=Ku((A[O>>2]|0)+(_<<3)|0,y,m,E,k,ce)|0,_=_+1|0,!(I|0);)if((_|0)>=(A[ie>>2]|0))break e;return Bn(k),Bn(ce),Bn($),$=I,Re=G,$|0}while(0);(N|0)>-12&&ji(ce|0,0,((y|0)>1?y:1)<<3|0)|0;e:do if((A[E>>2]|0)>0){f=((y|0)<0)<<31>>31,Xe=k,_n=ce,xn=k,Kt=k,c=ce,p=k,_=k,Nt=k,cn=ce,gt=ce,Rt=ce,k=ce;t:for(;;){for(Et=A[E>>2]|0,at=0,wt=0,O=0;;){I=L,N=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(N|0));if(m=Xe+(at<<3)|0,Q=A[m>>2]|0,m=A[m+4>>2]|0,Rf(Q,m,1,L,0)|0){I=L,N=I+56|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(N|0));I=Bo(7,4)|0,I|0&&(zi(Q,m,1,L,I,7,0),Bn(I))}Ze=0;do{Fe=L+(Ze<<3)|0,ce=A[Fe>>2]|0,Fe=A[Fe+4>>2]|0;n:do if(!((ce|0)==0&(Fe|0)==0)){if(Q=Wt(ce|0,Fe|0,y|0,f|0)|0,Qe()|0,I=v+(Q<<3)|0,N=I,m=A[N>>2]|0,N=A[N+4>>2]|0,!((m|0)==0&(N|0)==0))for(ie=0;;){if((ie|0)>(y|0))break t;if((m|0)==(ce|0)&(N|0)==(Fe|0))break n;if(Q=(Q+1|0)%(y|0)|0,I=v+(Q<<3)|0,N=I,m=A[N>>2]|0,N=A[N+4>>2]|0,(m|0)==0&(N|0)==0)break;ie=ie+1|0}(ce|0)==0&(Fe|0)==0||(fs(ce,Fe,F),an(h,$,F)|0&&(ie=I,A[ie>>2]=ce,A[ie+4>>2]=Fe,ie=_n+(O<<3)|0,A[ie>>2]=ce,A[ie+4>>2]=Fe,O=O+1|0))}while(0);Ze=Ze+1|0}while(Ze>>>0<7);if(wt=wt+1|0,(wt|0)>=(Et|0))break;at=at+1|0}if((Et|0)>0&&ji(xn|0,0,Et<<3|0)|0,A[E>>2]=O,(O|0)>0)ce=k,Fe=Rt,Ze=p,at=gt,wt=cn,Et=_n,k=Nt,Rt=_,gt=Kt,cn=xn,Nt=ce,_=Fe,p=c,c=Ze,Kt=at,xn=wt,_n=Xe,Xe=Et;else break e}return Bn(Kt),Bn(c),Bn($),$=-1,Re=G,$|0}else _=ce;while(0);return Bn($),Bn(k),Bn(_),$=0,Re=G,$|0}function Ku(h,m,v,_,k,O){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0,O=O|0;var I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,E=0;if(f=Re,Re=Re+48|0,xn=f+32|0,Kt=f+16|0,c=f,I=A[h>>2]|0,(I|0)<=0)return p=0,Re=f,p|0;cn=h+4|0,gt=xn+8|0,Rt=Kt+8|0,Xe=c+8|0,_n=((m|0)<0)<<31>>31,Nt=0;e:for(;;){N=A[cn>>2]|0,wt=N+(Nt<<4)|0,A[xn>>2]=A[wt>>2],A[xn+4>>2]=A[wt+4>>2],A[xn+8>>2]=A[wt+8>>2],A[xn+12>>2]=A[wt+12>>2],(Nt|0)==(I+-1|0)?(A[Kt>>2]=A[N>>2],A[Kt+4>>2]=A[N+4>>2],A[Kt+8>>2]=A[N+8>>2],A[Kt+12>>2]=A[N+12>>2]):(wt=N+(Nt+1<<4)|0,A[Kt>>2]=A[wt>>2],A[Kt+4>>2]=A[wt+4>>2],A[Kt+8>>2]=A[wt+8>>2],A[Kt+12>>2]=A[wt+12>>2]),wt=Vc(xn,Kt,v)|0;t:do if((wt|0)>0){Et=+(wt|0),at=0;n:for(;;){E=+(wt-at|0),y=+(at|0),ye[c>>3]=+ye[xn>>3]*E/Et+ +ye[Kt>>3]*y/Et,ye[Xe>>3]=+ye[gt>>3]*E/Et+ +ye[Rt>>3]*y/Et,Fe=Up(c,v)|0,Ze=Qe()|0,N=Wt(Fe|0,Ze|0,m|0,_n|0)|0,Qe()|0,I=O+(N<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0;r:do if((ie|0)==0&(Q|0)==0)p=14;else for(ce=0;;){if((ce|0)>(m|0)){I=1;break r}if((ie|0)==(Fe|0)&(Q|0)==(Ze|0)){I=7;break r}if(N=(N+1|0)%(m|0)|0,I=O+(N<<3)|0,Q=I,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0){p=14;break}else ce=ce+1|0}while(0);switch((p|0)==14&&(p=0,(Fe|0)==0&(Ze|0)==0?I=7:(A[I>>2]=Fe,A[I+4>>2]=Ze,I=A[_>>2]|0,ce=k+(I<<3)|0,A[ce>>2]=Fe,A[ce+4>>2]=Ze,A[_>>2]=I+1,I=0)),I&7){case 7:case 0:break;default:break n}if(at=at+1|0,(wt|0)<=(at|0)){p=8;break t}}if(I|0){I=-1,p=20;break e}}else p=8;while(0);if((p|0)==8&&(p=0),Nt=Nt+1|0,I=A[h>>2]|0,(Nt|0)>=(I|0)){I=0,p=20;break}}return(p|0)==20?(Re=f,I|0):0}function Dp(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(ie=Re,Re=Re+176|0,Q=ie,(m|0)<1){mo(v,0,0),Re=ie;return}I=h,I=mt(A[I>>2]|0,A[I+4>>2]|0,52)|0,Qe()|0,mo(v,(m|0)>6?m:6,I&15),I=0;do{if(_=h+(I<<3)|0,Gs(A[_>>2]|0,A[_+4>>2]|0,Q),_=A[Q>>2]|0,(_|0)>0){N=0;do O=Q+8+(N<<4)|0,N=N+1|0,_=Q+8+(((N|0)%(_|0)|0)<<4)|0,k=hs(v,_,O)|0,k?tf(v,k)|0:nf(v,O,_)|0,_=A[Q>>2]|0;while((N|0)<(_|0))}I=I+1|0}while((I|0)!=(m|0));Re=ie}function Fp(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=Re,Re=Re+32|0,_=O,k=O+16|0,Dp(h,m,k),A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,h=$l(k)|0,!h){$i(v)|0,Va(k),Re=O;return}do{m=Ln(v)|0;do cr(m,h)|0,I=h+16|0,A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],A[_+12>>2]=A[I+12>>2],tf(k,h)|0,h=Vp(k,_)|0;while(h|0);h=$l(k)|0}while(h|0);$i(v)|0,Va(k),Re=O}function ci(h){return h=h|0,A[7728+(h*28|0)+16>>2]|0}function Uc(h){return h=h|0,(h|0)==4|(h|0)==117|0}function Df(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)>>2]|0}function Jh(h){return h=h|0,A[11152+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)+4>>2]|0}function Ff(h,m){h=h|0,m=m|0,h=7728+(h*28|0)|0,A[m>>2]=A[h>>2],A[m+4>>2]=A[h+4>>2],A[m+8>>2]=A[h+8>>2],A[m+12>>2]=A[h+12>>2]}function Zu(h,m){h=h|0,m=m|0;var v=0,_=0;if(m>>>0>20)return m=-1,m|0;do if((A[11152+(m*216|0)>>2]|0)!=(h|0))if((A[11152+(m*216|0)+8>>2]|0)!=(h|0))if((A[11152+(m*216|0)+16>>2]|0)!=(h|0))if((A[11152+(m*216|0)+24>>2]|0)!=(h|0))if((A[11152+(m*216|0)+32>>2]|0)!=(h|0))if((A[11152+(m*216|0)+40>>2]|0)!=(h|0))if((A[11152+(m*216|0)+48>>2]|0)!=(h|0))if((A[11152+(m*216|0)+56>>2]|0)!=(h|0))if((A[11152+(m*216|0)+64>>2]|0)!=(h|0))if((A[11152+(m*216|0)+72>>2]|0)!=(h|0))if((A[11152+(m*216|0)+80>>2]|0)!=(h|0))if((A[11152+(m*216|0)+88>>2]|0)!=(h|0))if((A[11152+(m*216|0)+96>>2]|0)!=(h|0))if((A[11152+(m*216|0)+104>>2]|0)!=(h|0))if((A[11152+(m*216|0)+112>>2]|0)!=(h|0))if((A[11152+(m*216|0)+120>>2]|0)!=(h|0))if((A[11152+(m*216|0)+128>>2]|0)!=(h|0))if((A[11152+(m*216|0)+136>>2]|0)==(h|0))h=2,v=1,_=2;else{if((A[11152+(m*216|0)+144>>2]|0)==(h|0)){h=0,v=2,_=0;break}if((A[11152+(m*216|0)+152>>2]|0)==(h|0)){h=0,v=2,_=1;break}if((A[11152+(m*216|0)+160>>2]|0)==(h|0)){h=0,v=2,_=2;break}if((A[11152+(m*216|0)+168>>2]|0)==(h|0)){h=1,v=2,_=0;break}if((A[11152+(m*216|0)+176>>2]|0)==(h|0)){h=1,v=2,_=1;break}if((A[11152+(m*216|0)+184>>2]|0)==(h|0)){h=1,v=2,_=2;break}if((A[11152+(m*216|0)+192>>2]|0)==(h|0)){h=2,v=2,_=0;break}if((A[11152+(m*216|0)+200>>2]|0)==(h|0)){h=2,v=2,_=1;break}if((A[11152+(m*216|0)+208>>2]|0)==(h|0)){h=2,v=2,_=2;break}else h=-1;return h|0}else h=2,v=1,_=1;else h=2,v=1,_=0;else h=1,v=1,_=2;else h=1,v=1,_=1;else h=1,v=1,_=0;else h=0,v=1,_=2;else h=0,v=1,_=1;else h=0,v=1,_=0;else h=2,v=0,_=2;else h=2,v=0,_=1;else h=2,v=0,_=0;else h=1,v=0,_=2;else h=1,v=0,_=1;else h=1,v=0,_=0;else h=0,v=0,_=2;else h=0,v=0,_=1;else h=0,v=0,_=0;while(0);return m=A[11152+(m*216|0)+(v*72|0)+(h*24|0)+(_<<3)+4>>2]|0,m|0}function Xu(h,m){return h=h|0,m=m|0,(A[7728+(h*28|0)+20>>2]|0)==(m|0)?(m=1,m|0):(m=(A[7728+(h*28|0)+24>>2]|0)==(m|0),m|0)}function Dl(h,m){return h=h|0,m=m|0,A[880+(h*28|0)+(m<<2)>>2]|0}function $c(h,m){return h=h|0,m=m|0,(A[880+(h*28|0)>>2]|0)==(m|0)?(m=0,m|0):(A[880+(h*28|0)+4>>2]|0)==(m|0)?(m=1,m|0):(A[880+(h*28|0)+8>>2]|0)==(m|0)?(m=2,m|0):(A[880+(h*28|0)+12>>2]|0)==(m|0)?(m=3,m|0):(A[880+(h*28|0)+16>>2]|0)==(m|0)?(m=4,m|0):(A[880+(h*28|0)+20>>2]|0)==(m|0)?(m=5,m|0):((A[880+(h*28|0)+24>>2]|0)==(m|0)?6:7)|0}function jc(){return 122}function Yu(h){h=h|0;var m=0,v=0,_=0;m=0;do Yt(m|0,0,45)|0,_=Qe()|0|134225919,v=h+(m<<3)|0,A[v>>2]=-1,A[v+4>>2]=_,m=m+1|0;while((m|0)!=122)}function Ko(h){return h=h|0,+ye[h+16>>3]<+ye[h+24>>3]|0}function sl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return v=+ye[m>>3],!(v>=+ye[h+8>>3])||!(v<=+ye[h>>3])?(m=0,m|0):(_=+ye[h+16>>3],v=+ye[h+24>>3],k=+ye[m+8>>3],m=k>=v,h=k<=_&1,_<v?m&&(h=1):m||(h=0),m=(h|0)!=0,m|0)}function Cs(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;I=Re,Re=Re+288|0,v=I+264|0,_=I+96|0,k=I,O=k,N=O+96|0;do A[O>>2]=0,O=O+4|0;while((O|0)<(N|0));return mu(m,k),O=k,N=A[O>>2]|0,O=A[O+4>>2]|0,fs(N,O,v),Gs(N,O,_),Q=+ec(v,_+8|0),ye[v>>3]=+ye[h>>3],O=v+8|0,ye[O>>3]=+ye[h+16>>3],ye[_>>3]=+ye[h+8>>3],N=_+8|0,ye[N>>3]=+ye[h+24>>3],ie=+ec(v,_),N=~~+lr(+(ie*ie/+To(+ +ct(+((+ye[O>>3]-+ye[N>>3])/(+ye[v>>3]-+ye[_>>3]))),3)/(Q*(Q*2.59807621135)*.8))),Re=I,(N|0?N:1)|0}function Vc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0;N=Re,Re=Re+288|0,_=N+264|0,k=N+96|0,O=N,I=O,Q=I+96|0;do A[I>>2]=0,I=I+4|0;while((I|0)<(Q|0));return mu(v,O),Q=O,I=A[Q>>2]|0,Q=A[Q+4>>2]|0,fs(I,Q,_),Gs(I,Q,k),ie=+ec(_,k+8|0),Q=~~+lr(+(+ec(h,m)/(ie*2))),Re=N,(Q|0?Q:1)|0}function ll(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0,A[h>>2]=m,A[h+4>>2]=v,A[h+8>>2]=_}function $r(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0;Fe=m+8|0,A[Fe>>2]=0,Q=+ye[h>>3],I=+ct(+Q),ie=+ye[h+8>>3],N=+ct(+ie)/.8660254037844386,I=I+N*.5,v=~~I,h=~~N,I=I-+(v|0),N=N-+(h|0);do if(I<.5)if(I<.3333333333333333)if(A[m>>2]=v,N<(I+1)*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}else if(Ze=1-I,h=(!(N<Ze)&1)+h|0,A[m+4>>2]=h,Ze<=N&N<I*2){v=v+1|0,A[m>>2]=v;break}else{A[m>>2]=v;break}else{if(!(I<.6666666666666666))if(v=v+1|0,A[m>>2]=v,N<I*.5){A[m+4>>2]=h;break}else{h=h+1|0,A[m+4>>2]=h;break}if(N<1-I){if(A[m+4>>2]=h,I*2+-1<N){A[m>>2]=v;break}}else h=h+1|0,A[m+4>>2]=h;v=v+1|0,A[m>>2]=v}while(0);do if(Q<0)if(h&1){ce=(h+1|0)/2|0,ce=Jo(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(ce>>>0)+4294967296*+(Qe()|0))*2+1)),A[m>>2]=v;break}else{ce=(h|0)/2|0,ce=Jo(v|0,((v|0)<0)<<31>>31|0,ce|0,((ce|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(ce>>>0)+4294967296*+(Qe()|0))*2),A[m>>2]=v;break}while(0);ce=m+4|0,ie<0&&(v=v-((h<<1|1|0)/2|0)|0,A[m>>2]=v,h=0-h|0,A[ce>>2]=h),_=h-v|0,(v|0)<0?(k=0-v|0,A[ce>>2]=_,A[Fe>>2]=k,A[m>>2]=0,h=_,v=0):k=0,(h|0)<0&&(v=v-h|0,A[m>>2]=v,k=k-h|0,A[Fe>>2]=k,A[ce>>2]=0,h=0),O=v-k|0,_=h-k|0,(k|0)<0&&(A[m>>2]=O,A[ce>>2]=_,A[Fe>>2]=0,h=_,v=O,k=0),_=(h|0)<(v|0)?h:v,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[m>>2]=v-_,A[ce>>2]=h-_,A[Fe>>2]=k-_)}function Qn(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,(m|0)<0&&(v=v-m|0,A[I>>2]=v,O=h+8|0,A[O>>2]=(A[O>>2]|0)-m,A[h>>2]=0,m=0),(v|0)<0?(m=m-v|0,A[h>>2]=m,O=h+8|0,k=(A[O>>2]|0)-v|0,A[O>>2]=k,A[I>>2]=0,v=0):(k=h+8|0,O=k,k=A[k>>2]|0),(k|0)<0&&(m=m-k|0,A[h>>2]=m,v=v-k|0,A[I>>2]=v,A[O>>2]=0,k=0),_=(v|0)<(m|0)?v:m,_=(k|0)<(_|0)?k:_,!((_|0)<=0)&&(A[h>>2]=m-_,A[I>>2]=v-_,A[O>>2]=k-_)}function Do(h,m){h=h|0,m=m|0;var v=0,_=0;_=A[h+8>>2]|0,v=+((A[h+4>>2]|0)-_|0),ye[m>>3]=+((A[h>>2]|0)-_|0)-v*.5,ye[m+8>>3]=v*.8660254037844386}function Tr(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[m>>2]|0)+(A[h>>2]|0),A[v+4>>2]=(A[m+4>>2]|0)+(A[h+4>>2]|0),A[v+8>>2]=(A[m+8>>2]|0)+(A[h+8>>2]|0)}function au(h,m,v){h=h|0,m=m|0,v=v|0,A[v>>2]=(A[h>>2]|0)-(A[m>>2]|0),A[v+4>>2]=(A[h+4>>2]|0)-(A[m+4>>2]|0),A[v+8>>2]=(A[h+8>>2]|0)-(A[m+8>>2]|0)}function Bf(h,m){h=h|0,m=m|0;var v=0,_=0;v=vr(A[h>>2]|0,m)|0,A[h>>2]=v,v=h+4|0,_=vr(A[v>>2]|0,m)|0,A[v>>2]=_,h=h+8|0,m=vr(A[h>>2]|0,m)|0,A[h>>2]=m}function Hc(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=A[h>>2]|0,N=(I|0)<0,_=(A[h+4>>2]|0)-(N?I:0)|0,O=(_|0)<0,k=(O?0-_|0:0)+((A[h+8>>2]|0)-(N?I:0))|0,v=(k|0)<0,h=v?0:k,m=(O?0:_)-(v?k:0)|0,k=(N?0:I)-(O?_:0)-(v?k:0)|0,v=(m|0)<(k|0)?m:k,v=(h|0)<(v|0)?h:v,_=(v|0)>0,h=h-(_?v:0)|0,m=m-(_?v:0)|0;e:do switch(k-(_?v:0)|0){case 0:switch(m|0){case 0:return N=h|0?(h|0)==1?1:7:0,N|0;case 1:return N=h|0?(h|0)==1?3:7:2,N|0;default:break e}case 1:switch(m|0){case 0:return N=h|0?(h|0)==1?5:7:4,N|0;case 1:{if(!h)h=6;else break e;return h|0}default:break e}}while(0);return N=7,N|0}function Bp(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,N=h+4|0,v=(A[N>>2]|0)-v|0,_=ha(+((m*3|0)-v|0)/7)|0,A[h>>2]=_,m=ha(+((v<<1)+m|0)/7)|0,A[N>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,A[N>>2]=v,A[I>>2]=O,A[h>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[N>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[N>>2]=m-_,A[I>>2]=v-_)}function su(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;I=h+8|0,v=A[I>>2]|0,m=(A[h>>2]|0)-v|0,N=h+4|0,v=(A[N>>2]|0)-v|0,_=ha(+((m<<1)+v|0)/7)|0,A[h>>2]=_,m=ha(+((v*3|0)-m|0)/7)|0,A[N>>2]=m,A[I>>2]=0,v=m-_|0,(_|0)<0?(O=0-_|0,A[N>>2]=v,A[I>>2]=O,A[h>>2]=0,m=v,_=0,v=O):v=0,(m|0)<0&&(_=_-m|0,A[h>>2]=_,v=v-m|0,A[I>>2]=v,A[N>>2]=0,m=0),O=_-v|0,k=m-v|0,(v|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,m=k,k=O,v=0):k=_,_=(m|0)<(k|0)?m:k,_=(v|0)<(_|0)?v:_,!((_|0)<=0)&&(A[h>>2]=k-_,A[N>>2]=m-_,A[I>>2]=v-_)}function lu(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,N=h+8|0,_=A[N>>2]|0,k=v+(m*3|0)|0,A[h>>2]=k,v=_+(v*3|0)|0,A[I>>2]=v,m=(_*3|0)+m|0,A[N>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[N>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function yi(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=(m*3|0)+k|0,k=v+(k*3|0)|0,A[h>>2]=k,A[I>>2]=_,m=(v*3|0)+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=_,A[N>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[N>>2]=m-v)}function uu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;(m+-1|0)>>>0>=6||(k=(A[15472+(m*12|0)>>2]|0)+(A[h>>2]|0)|0,A[h>>2]=k,N=h+4|0,_=(A[15472+(m*12|0)+4>>2]|0)+(A[N>>2]|0)|0,A[N>>2]=_,I=h+8|0,m=(A[15472+(m*12|0)+8>>2]|0)+(A[I>>2]|0)|0,A[I>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[N>>2]=v,A[I>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[I>>2]=m,A[N>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[N>>2]=k,A[I>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[N>>2]=k-v,A[I>>2]=m-v))}function Us(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=m+k|0,k=v+k|0,A[h>>2]=k,A[I>>2]=_,m=v+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function cu(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,_=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,k=_+m|0,A[h>>2]=k,_=v+_|0,A[I>>2]=_,m=v+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,_=0):(v=_,_=k),(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function $s(h){switch(h=h|0,h|0){case 1:{h=5;break}case 5:{h=4;break}case 4:{h=6;break}case 6:{h=2;break}case 2:{h=3;break}case 3:{h=1;break}}return h|0}function Pi(h){switch(h=h|0,h|0){case 1:{h=3;break}case 3:{h=2;break}case 2:{h=6;break}case 6:{h=4;break}case 4:{h=5;break}case 5:{h=1;break}}return h|0}function Fl(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;m=A[h>>2]|0,I=h+4|0,v=A[I>>2]|0,N=h+8|0,_=A[N>>2]|0,k=v+(m<<1)|0,A[h>>2]=k,v=_+(v<<1)|0,A[I>>2]=v,m=(_<<1)+m|0,A[N>>2]=m,_=v-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=_,A[N>>2]=m,A[h>>2]=0,v=_,_=0):_=k,(v|0)<0&&(_=_-v|0,A[h>>2]=_,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=_-m|0,k=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=k,A[N>>2]=0,_=O,m=0):k=v,v=(k|0)<(_|0)?k:_,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=_-v,A[I>>2]=k-v,A[N>>2]=m-v)}function qc(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=A[h>>2]|0,I=h+4|0,m=A[I>>2]|0,N=h+8|0,v=A[N>>2]|0,_=(m<<1)+k|0,k=v+(k<<1)|0,A[h>>2]=k,A[I>>2]=_,m=(v<<1)+m|0,A[N>>2]=m,v=_-k|0,(k|0)<0?(m=m-k|0,A[I>>2]=v,A[N>>2]=m,A[h>>2]=0,k=0):v=_,(v|0)<0&&(k=k-v|0,A[h>>2]=k,m=m-v|0,A[N>>2]=m,A[I>>2]=0,v=0),O=k-m|0,_=v-m|0,(m|0)<0?(A[h>>2]=O,A[I>>2]=_,A[N>>2]=0,k=O,m=0):_=v,v=(_|0)<(k|0)?_:k,v=(m|0)<(v|0)?m:v,!((v|0)<=0)&&(A[h>>2]=k-v,A[I>>2]=_-v,A[N>>2]=m-v)}function Ki(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;return I=(A[h>>2]|0)-(A[m>>2]|0)|0,N=(I|0)<0,_=(A[h+4>>2]|0)-(A[m+4>>2]|0)-(N?I:0)|0,O=(_|0)<0,k=(N?0-I|0:0)+(A[h+8>>2]|0)-(A[m+8>>2]|0)+(O?0-_|0:0)|0,h=(k|0)<0,m=h?0:k,v=(O?0:_)-(h?k:0)|0,k=(N?0:I)-(O?_:0)-(h?k:0)|0,h=(v|0)<(k|0)?v:k,h=(m|0)<(h|0)?m:h,_=(h|0)>0,m=m-(_?h:0)|0,v=v-(_?h:0)|0,h=k-(_?h:0)|0,h=(h|0)>-1?h:0-h|0,v=(v|0)>-1?v:0-v|0,m=(m|0)>-1?m:0-m|0,m=(v|0)>(m|0)?v:m,((h|0)>(m|0)?h:m)|0}function Gc(h,m){h=h|0,m=m|0;var v=0;v=A[h+8>>2]|0,A[m>>2]=(A[h>>2]|0)-v,A[m+4>>2]=(A[h+4>>2]|0)-v}function js(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;_=A[h>>2]|0,A[m>>2]=_,h=A[h+4>>2]|0,I=m+4|0,A[I>>2]=h,N=m+8|0,A[N>>2]=0,v=h-_|0,(_|0)<0?(h=0-_|0,A[I>>2]=v,A[N>>2]=h,A[m>>2]=0,_=0):(v=h,h=0),(v|0)<0&&(_=_-v|0,A[m>>2]=_,h=h-v|0,A[N>>2]=h,A[I>>2]=0,v=0),O=_-h|0,k=v-h|0,(h|0)<0?(A[m>>2]=O,A[I>>2]=k,A[N>>2]=0,v=k,k=O,h=0):k=_,_=(v|0)<(k|0)?v:k,_=(h|0)<(_|0)?h:_,!((_|0)<=0)&&(A[m>>2]=k-_,A[I>>2]=v-_,A[N>>2]=h-_)}function Es(h){h=h|0;var m=0,v=0,_=0,k=0;m=h+8|0,k=A[m>>2]|0,v=k-(A[h>>2]|0)|0,A[h>>2]=v,_=h+4|0,h=(A[_>>2]|0)-k|0,A[_>>2]=h,A[m>>2]=0-(h+v)}function co(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;v=A[h>>2]|0,m=0-v|0,A[h>>2]=m,I=h+8|0,A[I>>2]=0,N=h+4|0,_=A[N>>2]|0,k=_+v|0,(v|0)>0?(A[N>>2]=k,A[I>>2]=v,A[h>>2]=0,m=0,_=k):v=0,(_|0)<0?(O=m-_|0,A[h>>2]=O,v=v-_|0,A[I>>2]=v,A[N>>2]=0,k=O-v|0,m=0-v|0,(v|0)<0?(A[h>>2]=k,A[N>>2]=m,A[I>>2]=0,_=m,v=0):(_=0,k=O)):k=m,m=(_|0)<(k|0)?_:k,m=(v|0)<(m|0)?v:m,!((m|0)<=0)&&(A[h>>2]=k-m,A[N>>2]=_-m,A[I>>2]=v-m)}function Bl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,fo(h,m,v,k),$r(k,v+4|0),Re=_}function fo(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0;if(Q=Re,Re=Re+32|0,O=Q,ef(h,O),A[v>>2]=0,k=+Er(15888,O),I=+Er(15912,O),I<k&&(A[v>>2]=1,k=I),I=+Er(15936,O),I<k&&(A[v>>2]=2,k=I),I=+Er(15960,O),I<k&&(A[v>>2]=3,k=I),I=+Er(15984,O),I<k&&(A[v>>2]=4,k=I),I=+Er(16008,O),I<k&&(A[v>>2]=5,k=I),I=+Er(16032,O),I<k&&(A[v>>2]=6,k=I),I=+Er(16056,O),I<k&&(A[v>>2]=7,k=I),I=+Er(16080,O),I<k&&(A[v>>2]=8,k=I),I=+Er(16104,O),I<k&&(A[v>>2]=9,k=I),I=+Er(16128,O),I<k&&(A[v>>2]=10,k=I),I=+Er(16152,O),I<k&&(A[v>>2]=11,k=I),I=+Er(16176,O),I<k&&(A[v>>2]=12,k=I),I=+Er(16200,O),I<k&&(A[v>>2]=13,k=I),I=+Er(16224,O),I<k&&(A[v>>2]=14,k=I),I=+Er(16248,O),I<k&&(A[v>>2]=15,k=I),I=+Er(16272,O),I<k&&(A[v>>2]=16,k=I),I=+Er(16296,O),I<k&&(A[v>>2]=17,k=I),I=+Er(16320,O),I<k&&(A[v>>2]=18,k=I),I=+Er(16344,O),I<k&&(A[v>>2]=19,k=I),I=+dr(+(1-k*.5)),I<1e-16){A[_>>2]=0,A[_+4>>2]=0,A[_+8>>2]=0,A[_+12>>2]=0,Re=Q;return}if(v=A[v>>2]|0,k=+ye[16368+(v*24|0)>>3],k=+pu(k-+pu(+Hs(15568+(v<<4)|0,h))),Xo(m)|0?N=+pu(k+-.3334731722518321):N=k,k=+Qt(+I)/.381966011250105,(m|0)>0){O=0;do k=k*2.6457513110645907,O=O+1|0;while((O|0)!=(m|0))}I=+hn(+N)*k,ye[_>>3]=I,N=+fn(+N)*k,ye[_+8>>3]=N,Re=Q}function us(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;if(O=+sc(h),O<1e-16){m=15568+(m<<4)|0,A[k>>2]=A[m>>2],A[k+4>>2]=A[m+4>>2],A[k+8>>2]=A[m+8>>2],A[k+12>>2]=A[m+12>>2];return}if(I=+gr(+ +ye[h+8>>3],+ +ye[h>>3]),(v|0)>0){h=0;do O=O/2.6457513110645907,h=h+1|0;while((h|0)!=(v|0))}_?(O=O/3,v=(Xo(v)|0)==0,O=+Dr(+((v?O:O/2.6457513110645907)*.381966011250105))):(O=+Dr(+(O*.381966011250105)),Xo(v)|0&&(I=+pu(I+.3334731722518321))),qs(15568+(m<<4)|0,+pu(+ye[16368+(m*24|0)>>3]-I),O,k)}function ul(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,Do(h+4|0,k),us(k,A[h>>2]|0,m,0,v),Re=_}function Zo(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,E=0,L=0,F=0,$=0,G=0;if(F=Re,Re=Re+272|0,O=F+256|0,gt=F+240|0,y=F,E=F+224|0,L=F+208|0,Rt=F+176|0,Xe=F+160|0,_n=F+192|0,xn=F+144|0,Kt=F+128|0,c=F+112|0,p=F+96|0,f=F+80|0,A[O>>2]=m,A[gt>>2]=A[h>>2],A[gt+4>>2]=A[h+4>>2],A[gt+8>>2]=A[h+8>>2],A[gt+12>>2]=A[h+12>>2],fu(gt,O,y),A[k>>2]=0,gt=_+v+((_|0)==5&1)|0,(gt|0)<=(v|0)){Re=F;return}Q=A[O>>2]|0,ie=E+4|0,ce=Rt+4|0,Fe=v+5|0,Ze=16848+(Q<<2)|0,at=16928+(Q<<2)|0,wt=Kt+8|0,Et=c+8|0,Nt=p+8|0,cn=L+4|0,N=v;e:for(;;){I=y+(((N|0)%5|0)<<4)|0,A[L>>2]=A[I>>2],A[L+4>>2]=A[I+4>>2],A[L+8>>2]=A[I+8>>2],A[L+12>>2]=A[I+12>>2];do;while((Fr(L,Q,0,1)|0)==2);if((N|0)>(v|0)&(Xo(m)|0)!=0){if(A[Rt>>2]=A[L>>2],A[Rt+4>>2]=A[L+4>>2],A[Rt+8>>2]=A[L+8>>2],A[Rt+12>>2]=A[L+12>>2],Do(ie,Xe),_=A[Rt>>2]|0,O=A[17008+(_*80|0)+(A[E>>2]<<2)>>2]|0,A[Rt>>2]=A[18608+(_*80|0)+(O*20|0)>>2],I=A[18608+(_*80|0)+(O*20|0)+16>>2]|0,(I|0)>0){h=0;do Us(ce),h=h+1|0;while((h|0)<(I|0))}switch(I=18608+(_*80|0)+(O*20|0)+4|0,A[_n>>2]=A[I>>2],A[_n+4>>2]=A[I+4>>2],A[_n+8>>2]=A[I+8>>2],Bf(_n,(A[Ze>>2]|0)*3|0),Tr(ce,_n,ce),Qn(ce),Do(ce,xn),$=+(A[at>>2]|0),ye[Kt>>3]=$*3,ye[wt>>3]=0,G=$*-1.5,ye[c>>3]=G,ye[Et>>3]=$*2.598076211353316,ye[p>>3]=G,ye[Nt>>3]=$*-2.598076211353316,A[17008+((A[Rt>>2]|0)*80|0)+(A[L>>2]<<2)>>2]|0){case 1:{h=c,_=Kt;break}case 3:{h=p,_=c;break}case 2:{h=Kt,_=p;break}default:{h=12;break e}}Zs(Xe,xn,_,h,f),us(f,A[Rt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1}if((N|0)<(Fe|0)&&(Do(cn,Rt),us(Rt,A[L>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),A[E>>2]=A[L>>2],A[E+4>>2]=A[L+4>>2],A[E+8>>2]=A[L+8>>2],A[E+12>>2]=A[L+12>>2],N=N+1|0,(N|0)>=(gt|0)){h=3;break}}if((h|0)==3){Re=F;return}else(h|0)==12&&wn(22474,22521,581,22531)}function fu(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;Q=Re,Re=Re+128|0,_=Q+64|0,k=Q,O=_,I=20208,N=O+60|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));O=k,I=20272,N=O+60|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));N=(Xo(A[m>>2]|0)|0)==0,_=N?_:k,k=h+4|0,Fl(k),qc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,Tr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,Tr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,Tr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,Tr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],v=v+68|0,Tr(k,_+48|0,v),Qn(v),Re=Q}function Fr(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0;if(wt=Re,Re=Re+32|0,Ze=wt+12|0,N=wt,at=h+4|0,Fe=A[16928+(m<<2)>>2]|0,ce=(_|0)!=0,Fe=ce?Fe*3|0:Fe,k=A[at>>2]|0,ie=h+8|0,I=A[ie>>2]|0,ce){if(O=h+12|0,_=A[O>>2]|0,k=I+k+_|0,(k|0)==(Fe|0))return at=1,Re=wt,at|0;Q=O}else Q=h+12|0,_=A[Q>>2]|0,k=I+k+_|0;if((k|0)<=(Fe|0))return at=0,Re=wt,at|0;do if((_|0)>0){if(_=A[h>>2]|0,(I|0)>0){O=18608+(_*80|0)+60|0,_=h;break}_=18608+(_*80|0)+40|0,v?(ll(Ze,Fe,0,0),au(at,Ze,N),cu(N),Tr(N,Ze,at),O=_,_=h):(O=_,_=h)}else O=18608+((A[h>>2]|0)*80|0)+20|0,_=h;while(0);if(A[_>>2]=A[O>>2],k=O+16|0,(A[k>>2]|0)>0){_=0;do Us(at),_=_+1|0;while((_|0)<(A[k>>2]|0))}return h=O+4|0,A[Ze>>2]=A[h>>2],A[Ze+4>>2]=A[h+4>>2],A[Ze+8>>2]=A[h+8>>2],m=A[16848+(m<<2)>>2]|0,Bf(Ze,ce?m*3|0:m),Tr(at,Ze,at),Qn(at),ce?_=((A[ie>>2]|0)+(A[at>>2]|0)+(A[Q>>2]|0)|0)==(Fe|0)?1:2:_=2,at=_,Re=wt,at|0}function ti(h,m){h=h|0,m=m|0;var v=0;do v=Fr(h,m,0,1)|0;while((v|0)==2);return v|0}function Ua(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0;if(p=Re,Re=Re+240|0,O=p+224|0,_n=p+208|0,xn=p,Kt=p+192|0,c=p+176|0,Nt=p+160|0,cn=p+144|0,gt=p+128|0,Rt=p+112|0,Xe=p+96|0,A[O>>2]=m,A[_n>>2]=A[h>>2],A[_n+4>>2]=A[h+4>>2],A[_n+8>>2]=A[h+8>>2],A[_n+12>>2]=A[h+12>>2],Ju(_n,O,xn),A[k>>2]=0,Et=_+v+((_|0)==6&1)|0,(Et|0)<=(v|0)){Re=p;return}Q=A[O>>2]|0,ie=v+6|0,ce=16928+(Q<<2)|0,Fe=cn+8|0,Ze=gt+8|0,at=Rt+8|0,wt=Kt+4|0,I=0,N=v,_=-1;e:for(;;){if(O=(N|0)%6|0,h=xn+(O<<4)|0,A[Kt>>2]=A[h>>2],A[Kt+4>>2]=A[h+4>>2],A[Kt+8>>2]=A[h+8>>2],A[Kt+12>>2]=A[h+12>>2],h=I,I=Fr(Kt,Q,0,1)|0,(N|0)>(v|0)&(Xo(m)|0)!=0&&(h|0)!=1&&(A[Kt>>2]|0)!=(_|0)){switch(Do(xn+(((O+5|0)%6|0)<<4)+4|0,c),Do(xn+(O<<4)+4|0,Nt),f=+(A[ce>>2]|0),ye[cn>>3]=f*3,ye[Fe>>3]=0,y=f*-1.5,ye[gt>>3]=y,ye[Ze>>3]=f*2.598076211353316,ye[Rt>>3]=y,ye[at>>3]=f*-2.598076211353316,O=A[_n>>2]|0,A[17008+(O*80|0)+(((_|0)==(O|0)?A[Kt>>2]|0:_)<<2)>>2]|0){case 1:{h=gt,_=cn;break}case 3:{h=Rt,_=gt;break}case 2:{h=cn,_=Rt;break}default:{h=8;break e}}Zs(c,Nt,_,h,Xe),!(Ao(c,Xe)|0)&&!(Ao(Nt,Xe)|0)&&(us(Xe,A[_n>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1)}if((N|0)<(ie|0)&&(Do(wt,c),us(c,A[Kt>>2]|0,Q,1,k+8+(A[k>>2]<<4)|0),A[k>>2]=(A[k>>2]|0)+1),N=N+1|0,(N|0)>=(Et|0)){h=3;break}else _=A[Kt>>2]|0}if((h|0)==3){Re=p;return}else(h|0)==8&&wn(22557,22521,746,22602)}function Ju(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0;Q=Re,Re=Re+160|0,_=Q+80|0,k=Q,O=_,I=20336,N=O+72|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));O=k,I=20416,N=O+72|0;do A[O>>2]=A[I>>2],O=O+4|0,I=I+4|0;while((O|0)<(N|0));N=(Xo(A[m>>2]|0)|0)==0,_=N?_:k,k=h+4|0,Fl(k),qc(k),Xo(A[m>>2]|0)|0&&(yi(k),A[m>>2]=(A[m>>2]|0)+1),A[v>>2]=A[h>>2],m=v+4|0,Tr(k,_,m),Qn(m),A[v+16>>2]=A[h>>2],m=v+20|0,Tr(k,_+12|0,m),Qn(m),A[v+32>>2]=A[h>>2],m=v+36|0,Tr(k,_+24|0,m),Qn(m),A[v+48>>2]=A[h>>2],m=v+52|0,Tr(k,_+36|0,m),Qn(m),A[v+64>>2]=A[h>>2],m=v+68|0,Tr(k,_+48|0,m),Qn(m),A[v+80>>2]=A[h>>2],v=v+84|0,Tr(k,_+60|0,v),Qn(v),Re=Q}function pu(h){h=+h;var m=0;return m=h<0?h+6.283185307179586:h,+(h>=6.283185307179586?m+-6.283185307179586:m)}function Vs(h,m){return h=h|0,m=m|0,+ct(+(+ye[h>>3]-+ye[m>>3]))<17453292519943298e-27?(m=+ct(+(+ye[h+8>>3]-+ye[m+8>>3]))<17453292519943298e-27,m|0):(m=0,m|0)}function zp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2)}function ec(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475)}function cl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;return k=+ye[m>>3],_=+ye[h>>3],O=+fn(+((k-_)*.5)),v=+fn(+((+ye[m+8>>3]-+ye[h+8>>3])*.5)),v=O*O+v*(+hn(+k)*+hn(+_)*v),+(+gr(+ +It(+v),+ +It(+(1-v)))*2*6371.007180918475*1e3)}function Hs(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;return O=+ye[m>>3],_=+hn(+O),k=+ye[m+8>>3]-+ye[h+8>>3],I=_*+fn(+k),v=+ye[h>>3],+ +gr(+I,+(+fn(+O)*+hn(+v)-+hn(+k)*(_*+fn(+v))))}function qs(h,m,v,_){h=h|0,m=+m,v=+v,_=_|0;var k=0,O=0,I=0,N=0;if(v<1e-16){A[_>>2]=A[h>>2],A[_+4>>2]=A[h+4>>2],A[_+8>>2]=A[h+8>>2],A[_+12>>2]=A[h+12>>2];return}O=m<0?m+6.283185307179586:m,O=m>=6.283185307179586?O+-6.283185307179586:O;do if(O<1e-16)m=+ye[h>>3]+v,ye[_>>3]=m,k=_;else{if(k=+ct(+(O+-3.141592653589793))<1e-16,m=+ye[h>>3],k){m=m-v,ye[_>>3]=m,k=_;break}if(I=+hn(+v),v=+fn(+v),m=I*+fn(+m)+ +hn(+O)*(v*+hn(+m)),m=m>1?1:m,m=+Jn(+(m<-1?-1:m)),ye[_>>3]=m,+ct(+(m+-1.5707963267948966))<1e-16){ye[_>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ye[_>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(N=+hn(+m),O=v*+fn(+O)/N,v=+ye[h>>3],m=(I-+fn(+m)*+fn(+v))/+hn(+v)/N,I=O>1?1:O,m=m>1?1:m,m=+ye[h+8>>3]+ +gr(+(I<-1?-1:I),+(m<-1?-1:m)),m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m;return}while(0);if(+ct(+(m+-1.5707963267948966))<1e-16){ye[k>>3]=1.5707963267948966,ye[_+8>>3]=0;return}if(+ct(+(m+1.5707963267948966))<1e-16){ye[k>>3]=-1.5707963267948966,ye[_+8>>3]=0;return}if(m=+ye[h+8>>3],m>3.141592653589793)do m=m+-6.283185307179586;while(m>3.141592653589793);if(m<-3.141592653589793)do m=m+6.283185307179586;while(m<-3.141592653589793);ye[_+8>>3]=m}function zl(h){return h=h|0,+ +ye[20496+(h<<3)>>3]}function Np(h){return h=h|0,+ +ye[20624+(h<<3)>>3]}function Qc(h){return h=h|0,+ +ye[20752+(h<<3)>>3]}function fl(h){return h=h|0,+ +ye[20880+(h<<3)>>3]}function tc(h){h=h|0;var m=0;return m=21008+(h<<3)|0,h=A[m>>2]|0,Xt(A[m+4>>2]|0),h|0}function _a(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0;return Ze=+ye[m>>3],ce=+ye[h>>3],Q=+fn(+((Ze-ce)*.5)),O=+ye[m+8>>3],ie=+ye[h+8>>3],I=+fn(+((O-ie)*.5)),N=+hn(+ce),Fe=+hn(+Ze),I=Q*Q+I*(Fe*N*I),I=+gr(+ +It(+I),+ +It(+(1-I)))*2,Q=+ye[v>>3],Ze=+fn(+((Q-Ze)*.5)),_=+ye[v+8>>3],O=+fn(+((_-O)*.5)),k=+hn(+Q),O=Ze*Ze+O*(Fe*k*O),O=+gr(+ +It(+O),+ +It(+(1-O)))*2,Q=+fn(+((ce-Q)*.5)),_=+fn(+((ie-_)*.5)),_=Q*Q+_*(N*k*_),_=+gr(+ +It(+_),+ +It(+(1-_)))*2,k=(I+O+_)*.5,+(+Dr(+ +It(+(+Qt(+(k*.5))*+Qt(+((k-I)*.5))*+Qt(+((k-O)*.5))*+Qt(+((k-_)*.5)))))*4)}function Nl(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)<=0)return v=0,Re=O,+v;if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)==1)return Re=O,+v;h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0));return Re=O,+v}function Wc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475)}function nc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(O=Re,Re=Re+192|0,_=O+168|0,k=O,fs(h,m,_),Gs(h,m,k),m=A[k>>2]|0,(m|0)>0){if(v=+_a(k+8|0,k+8+(((m|0)!=1&1)<<4)|0,_)+0,(m|0)!=1){h=1;do I=h,h=h+1|0,v=v+ +_a(k+8+(I<<4)|0,k+8+(((h|0)%(m|0)|0)<<4)|0,_);while((h|0)<(m|0))}}else v=0;return Re=O,+(v*6371.007180918475*6371.007180918475*1e3*1e3)}function qr(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ni(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+_)*+hn(+Q)*N),v=v+ +gr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)<(m|0));return Re=I,+v}function Kc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ni(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+Q)*+hn(+_)*N),v=v+ +gr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475,Re=I,+ie}function zf(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(I=Re,Re=Re+176|0,O=I,ni(h,m,O),h=A[O>>2]|0,(h|0)<=1)return k=0,Re=I,+k;m=h+-1|0,h=0,v=0,_=+ye[O+8>>3],k=+ye[O+16>>3];do h=h+1|0,Q=_,_=+ye[O+8+(h<<4)>>3],ie=+fn(+((_-Q)*.5)),N=k,k=+ye[O+8+(h<<4)+8>>3],N=+fn(+((k-N)*.5)),N=ie*ie+N*(+hn(+Q)*+hn(+_)*N),v=v+ +gr(+ +It(+N),+ +It(+(1-N)))*2;while((h|0)!=(m|0));return ie=v*6371.007180918475*1e3,Re=I,+ie}function ko(h,m){return h=h|0,m=m|0,m=mt(h|0,m|0,52)|0,Qe()|0,m&15|0}function Zc(h,m){return h=h|0,m=m|0,m=mt(h|0,m|0,45)|0,Qe()|0,m&127|0}function hu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0;if(!(!0&(m&-16777216|0)==134217728)||(I=mt(h|0,m|0,45)|0,Qe()|0,I=I&127,I>>>0>121))return m=0,m|0;v=mt(h|0,m|0,52)|0,Qe()|0,v=v&15;do if(v|0){for(k=1,_=0;;){if(O=mt(h|0,m|0,(15-k|0)*3|0)|0,Qe()|0,O=O&7,(O|0)!=0&(_^1))if((O|0)==1&(ci(I)|0)!=0){N=0,_=13;break}else _=1;if((O|0)==7){N=0,_=13;break}if(k>>>0<v>>>0)k=k+1|0;else{_=9;break}}if((_|0)==9){if((v|0)==15)N=1;else break;return N|0}else if((_|0)==13)return N|0}while(0);for(;;){if(N=mt(h|0,m|0,(14-v|0)*3|0)|0,Qe()|0,!((N&7|0)==7&!0)){N=0,_=13;break}if(v>>>0<14)v=v+1|0;else{N=1,_=13;break}}return(_|0)==13?N|0:0}function pl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,(_|0)>=(v|0)){if((_|0)!=(v|0))if(v>>>0<=15){if(k=Yt(v|0,0,52)|0,h=k|h,m=Qe()|0|m&-15728641,(_|0)>(v|0))do k=Yt(7,0,(14-v|0)*3|0)|0,v=v+1|0,h=k|h,m=Qe()|0|m;while((v|0)<(_|0))}else m=0,h=0}else m=0,h=0;return Xt(m|0),h|0}function Nf(h,m,v){return h=h|0,m=m|0,v=v|0,h=mt(h|0,m|0,52)|0,Qe()|0,h=h&15,(v|0)<16&(h|0)<=(v|0)?(v=ho(7,v-h|0)|0,v|0):(v=0,v|0)}function po(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(I=mt(h|0,m|0,52)|0,Qe()|0,I=I&15,!!((v|0)<16&(I|0)<=(v|0))){if((I|0)==(v|0)){v=_,A[v>>2]=h,A[v+4>>2]=m;return}if(Q=ho(7,v-I|0)|0,ie=(Q|0)/7|0,N=mt(h|0,m|0,45)|0,Qe()|0,!(ci(N&127)|0))O=0;else{e:do if(!I)k=0;else for(O=1;;){if(k=mt(h|0,m|0,(15-O|0)*3|0)|0,Qe()|0,k=k&7,k|0)break e;if(O>>>0<I>>>0)O=O+1|0;else{k=0;break}}while(0);O=(k|0)==0}if(ce=Yt(I+1|0,0,52)|0,k=Qe()|0|m&-15728641,N=(14-I|0)*3|0,m=Yt(7,0,N|0)|0,m=(ce|h)&~m,I=k&~(Qe()|0),po(m,I,v,_),k=_+(ie<<3)|0,!O){ce=Yt(1,0,N|0)|0,po(ce|m,Qe()|0|I,v,k),ce=k+(ie<<3)|0,Q=Yt(2,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(3,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(4,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(5,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),Q=Yt(6,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce+(ie<<3)|0);return}O=k+(ie<<3)|0,(Q|0)>6&&(Q=k+8|0,ce=(O>>>0>Q>>>0?O:Q)+-1+(0-k)|0,ji(k|0,0,ce+8&-8|0)|0,k=Q+(ce>>>3<<3)|0),ce=Yt(2,0,N|0)|0,po(ce|m,Qe()|0|I,v,k),ce=k+(ie<<3)|0,Q=Yt(3,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(4,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),ce=ce+(ie<<3)|0,Q=Yt(5,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce),Q=Yt(6,0,N|0)|0,po(Q|m,Qe()|0|I,v,ce+(ie<<3)|0)}}function Ui(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=mt(h|0,m|0,45)|0,Qe()|0,!(ci(k&127)|0))return k=0,k|0;k=mt(h|0,m|0,52)|0,Qe()|0,k=k&15;e:do if(!k)v=0;else for(_=1;;){if(v=mt(h|0,m|0,(15-_|0)*3|0)|0,Qe()|0,v=v&7,v|0)break e;if(_>>>0<k>>>0)_=_+1|0;else{v=0;break}}while(0);return k=(v|0)==0&1,k|0}function Xc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,(v|0)<16&(_|0)<=(v|0)){if((_|0)!=(v|0)&&(k=Yt(v|0,0,52)|0,h=k|h,m=Qe()|0|m&-15728641,(_|0)<(v|0)))do k=Yt(7,0,(14-_|0)*3|0)|0,_=_+1|0,h=h&~k,m=m&~(Qe()|0);while((_|0)<(v|0))}else m=0,h=0;return Xt(m|0),h|0}function rc(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0;if(!v)return Kt=0,Kt|0;if(k=h,_=A[k>>2]|0,k=A[k+4>>2]|0,!0&(k&15728640|0)==0){if((v|0)<=0||(Kt=m,A[Kt>>2]=_,A[Kt+4>>2]=k,(v|0)==1))return Kt=0,Kt|0;_=1;do _n=h+(_<<3)|0,xn=A[_n+4>>2]|0,Kt=m+(_<<3)|0,A[Kt>>2]=A[_n>>2],A[Kt+4>>2]=xn,_=_+1|0;while((_|0)!=(v|0));return _=0,_|0}if(_n=v<<3,xn=Ti(_n)|0,!xn)return Kt=-3,Kt|0;if(zo(xn|0,h|0,_n|0)|0,Xe=Bo(v,8)|0,!Xe)return Bn(xn),Kt=-3,Kt|0;_=v;e:for(;;){I=xn,ce=A[I>>2]|0,I=A[I+4>>2]|0,gt=mt(ce|0,I|0,52)|0,Qe()|0,gt=gt&15,Rt=gt+-1|0,cn=(_|0)>0;t:do if(cn){if(Nt=((_|0)<0)<<31>>31,wt=Yt(Rt|0,0,52)|0,Et=Qe()|0,Rt>>>0>15)for(k=0,h=ce,v=I;;){if(!((h|0)==0&(v|0)==0)){if(O=mt(h|0,v|0,52)|0,Qe()|0,O=O&15,N=(O|0)<(Rt|0),O=(O|0)==(Rt|0),ie=N?0:O?h:0,h=N?0:O?v:0,v=Wt(ie|0,h|0,_|0,Nt|0)|0,Qe()|0,O=Xe+(v<<3)|0,N=O,Q=A[N>>2]|0,N=A[N+4>>2]|0,(Q|0)==0&(N|0)==0)v=ie;else for(wt=0,at=v,Ze=N,v=ie;;){if((wt|0)>(_|0)){Kt=41;break e}if((Q|0)==(v|0)&(Ze&-117440513|0)==(h|0)){ie=mt(Q|0,Ze|0,56)|0,Qe()|0,ie=ie&7,Fe=ie+1|0,Et=mt(Q|0,Ze|0,45)|0,Qe()|0;n:do if(!(ci(Et&127)|0))N=7;else{if(Q=mt(Q|0,Ze|0,52)|0,Qe()|0,Q=Q&15,!Q){N=6;break}for(N=1;;){if(Et=Yt(7,0,(15-N|0)*3|0)|0,!((Et&v|0)==0&((Qe()|0)&h|0)==0)){N=7;break n}if(N>>>0<Q>>>0)N=N+1|0;else{N=6;break}}}while(0);if((ie+2|0)>>>0>N>>>0){Kt=51;break e}Et=Yt(Fe|0,0,56)|0,h=Qe()|0|h&-117440513,N=O,A[N>>2]=0,A[N+4>>2]=0,N=at,v=Et|v}else N=(at+1|0)%(_|0)|0;if(O=Xe+(N<<3)|0,Ze=O,Q=A[Ze>>2]|0,Ze=A[Ze+4>>2]|0,(Q|0)==0&(Ze|0)==0)break;wt=wt+1|0,at=N}Et=O,A[Et>>2]=v,A[Et+4>>2]=h}if(k=k+1|0,(k|0)>=(_|0))break t;v=xn+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}for(k=0,h=ce,v=I;;){if(!((h|0)==0&(v|0)==0)){if(N=mt(h|0,v|0,52)|0,Qe()|0,N=N&15,(N|0)>=(Rt|0)){if((N|0)!=(Rt|0)&&(h=h|wt,v=v&-15728641|Et,N>>>0>=gt>>>0)){O=Rt;do at=Yt(7,0,(14-O|0)*3|0)|0,O=O+1|0,h=at|h,v=Qe()|0|v;while(O>>>0<N>>>0)}}else h=0,v=0;if(N=Wt(h|0,v|0,_|0,Nt|0)|0,Qe()|0,O=Xe+(N<<3)|0,Q=O,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,!((ie|0)==0&(Q|0)==0))for(at=0;;){if((at|0)>(_|0)){Kt=41;break e}if((ie|0)==(h|0)&(Q&-117440513|0)==(v|0)){Fe=mt(ie|0,Q|0,56)|0,Qe()|0,Fe=Fe&7,Ze=Fe+1|0,c=mt(ie|0,Q|0,45)|0,Qe()|0;n:do if(!(ci(c&127)|0))Q=7;else{if(ie=mt(ie|0,Q|0,52)|0,Qe()|0,ie=ie&15,!ie){Q=6;break}for(Q=1;;){if(c=Yt(7,0,(15-Q|0)*3|0)|0,!((c&h|0)==0&((Qe()|0)&v|0)==0)){Q=7;break n}if(Q>>>0<ie>>>0)Q=Q+1|0;else{Q=6;break}}}while(0);if((Fe+2|0)>>>0>Q>>>0){Kt=51;break e}c=Yt(Ze|0,0,56)|0,v=Qe()|0|v&-117440513,Ze=O,A[Ze>>2]=0,A[Ze+4>>2]=0,h=c|h}else N=(N+1|0)%(_|0)|0;if(O=Xe+(N<<3)|0,Q=O,ie=A[Q>>2]|0,Q=A[Q+4>>2]|0,(ie|0)==0&(Q|0)==0)break;at=at+1|0}c=O,A[c>>2]=h,A[c+4>>2]=v}if(k=k+1|0,(k|0)>=(_|0))break t;v=xn+(k<<3)|0,h=A[v>>2]|0,v=A[v+4>>2]|0}}while(0);if((_+5|0)>>>0<11){Kt=99;break}if(Et=Bo((_|0)/6|0,8)|0,!Et){Kt=58;break}t:do if(cn){at=0,Ze=0;do{if(N=Xe+(at<<3)|0,h=N,k=A[h>>2]|0,h=A[h+4>>2]|0,!((k|0)==0&(h|0)==0)){Q=mt(k|0,h|0,56)|0,Qe()|0,Q=Q&7,v=Q+1|0,ie=h&-117440513,c=mt(k|0,h|0,45)|0,Qe()|0;n:do if(ci(c&127)|0){if(Fe=mt(k|0,h|0,52)|0,Qe()|0,Fe=Fe&15,Fe|0)for(O=1;;){if(c=Yt(7,0,(15-O|0)*3|0)|0,!((k&c|0)==0&(ie&(Qe()|0)|0)==0))break n;if(O>>>0<Fe>>>0)O=O+1|0;else break}h=Yt(v|0,0,56)|0,k=h|k,h=Qe()|0|ie,v=N,A[v>>2]=k,A[v+4>>2]=h,v=Q+2|0}while(0);(v|0)==7&&(c=Et+(Ze<<3)|0,A[c>>2]=k,A[c+4>>2]=h&-117440513,Ze=Ze+1|0)}at=at+1|0}while((at|0)!=(_|0));if(cn){if(wt=((_|0)<0)<<31>>31,Fe=Yt(Rt|0,0,52)|0,at=Qe()|0,Rt>>>0>15)for(h=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){for(Q=mt(ce|0,I|0,52)|0,Qe()|0,Q=Q&15,O=(Q|0)<(Rt|0),Q=(Q|0)==(Rt|0),N=O?0:Q?ce:0,Q=O?0:Q?I:0,O=Wt(N|0,Q|0,_|0,wt|0)|0,Qe()|0,v=0;;){if((v|0)>(_|0)){Kt=98;break e}if(c=Xe+(O<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(N|0)){Kt=70;break}if(O=(O+1|0)%(_|0)|0,c=Xe+(O<<3)|0,(A[c>>2]|0)==(N|0)&&(A[c+4>>2]|0)==(Q|0))break;v=v+1|0}if((Kt|0)==70&&(Kt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=ce,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ze;break t}I=xn+(h<<3)|0,ce=A[I>>2]|0,I=A[I+4>>2]|0}for(h=0,k=0;;){do if(!((ce|0)==0&(I|0)==0)){if(Q=mt(ce|0,I|0,52)|0,Qe()|0,Q=Q&15,(Q|0)>=(Rt|0))if((Q|0)!=(Rt|0))if(v=ce|Fe,O=I&-15728641|at,Q>>>0<gt>>>0)Q=O;else{N=Rt;do c=Yt(7,0,(14-N|0)*3|0)|0,N=N+1|0,v=c|v,O=Qe()|0|O;while(N>>>0<Q>>>0);Q=O}else v=ce,Q=I;else v=0,Q=0;for(N=Wt(v|0,Q|0,_|0,wt|0)|0,Qe()|0,O=0;;){if((O|0)>(_|0)){Kt=98;break e}if(c=Xe+(N<<3)|0,ie=A[c+4>>2]|0,(ie&-117440513|0)==(Q|0)&&(A[c>>2]|0)==(v|0)){Kt=93;break}if(N=(N+1|0)%(_|0)|0,c=Xe+(N<<3)|0,(A[c>>2]|0)==(v|0)&&(A[c+4>>2]|0)==(Q|0))break;O=O+1|0}if((Kt|0)==93&&(Kt=0,!0&(ie&117440512|0)==100663296))break;c=m+(k<<3)|0,A[c>>2]=ce,A[c+4>>2]=I,k=k+1|0}while(0);if(h=h+1|0,(h|0)>=(_|0)){_=Ze;break t}I=xn+(h<<3)|0,ce=A[I>>2]|0,I=A[I+4>>2]|0}}else k=0,_=Ze}else k=0,_=0;while(0);if(ji(Xe|0,0,_n|0)|0,zo(xn|0,Et|0,_<<3|0)|0,Bn(Et),_)m=m+(k<<3)|0;else break}return(Kt|0)==41?(Bn(xn),Bn(Xe),c=-1,c|0):(Kt|0)==51?(Bn(xn),Bn(Xe),c=-2,c|0):(Kt|0)==58?(Bn(xn),Bn(Xe),c=-3,c|0):(Kt|0)==98?(Bn(Et),Bn(xn),Bn(Xe),c=-1,c|0):((Kt|0)==99&&zo(m|0,xn|0,_<<3|0)|0,Bn(xn),Bn(Xe),c=0,c|0)}function Au(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0;if((m|0)<=0)return k=0,k|0;if((k|0)>=16){for(O=0;;){if(ce=h+(O<<3)|0,!((A[ce>>2]|0)==0&(A[ce+4>>2]|0)==0)){O=14;break}if(O=O+1|0,(O|0)>=(m|0)){I=0,O=16;break}}if((O|0)==14)return((_|0)>0?-2:-1)|0;if((O|0)==16)return I|0}O=0,ce=0;e:for(;;){ie=h+(ce<<3)|0,N=ie,I=A[N>>2]|0,N=A[N+4>>2]|0;do if(!((I|0)==0&(N|0)==0)){if((O|0)>=(_|0)){I=-1,O=16;break e}if(Q=mt(I|0,N|0,52)|0,Qe()|0,Q=Q&15,(Q|0)>(k|0)){I=-2,O=16;break e}if((Q|0)==(k|0)){ie=v+(O<<3)|0,A[ie>>2]=I,A[ie+4>>2]=N,O=O+1|0;break}if(I=(ho(7,k-Q|0)|0)+O|0,(I|0)>(_|0)){I=-1,O=16;break e}po(A[ie>>2]|0,A[ie+4>>2]|0,k,v+(O<<3)|0),O=I}while(0);if(ce=ce+1|0,(ce|0)>=(m|0)){I=0,O=16;break}}return(O|0)==16?I|0:0}function hl(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if((m|0)<=0)return v=0,v|0;if((v|0)>=16){for(_=0;;){if(I=h+(_<<3)|0,!((A[I>>2]|0)==0&(A[I+4>>2]|0)==0)){_=-1,k=13;break}if(_=_+1|0,(_|0)>=(m|0)){_=0,k=13;break}}if((k|0)==13)return _|0}_=0,I=0;e:for(;;){k=h+(I<<3)|0,O=A[k>>2]|0,k=A[k+4>>2]|0;do if(!((O|0)==0&(k|0)==0)){if(k=mt(O|0,k|0,52)|0,Qe()|0,k=k&15,(k|0)>(v|0)){_=-1,k=13;break e}if((k|0)==(v|0)){_=_+1|0;break}else{_=(ho(7,v-k|0)|0)+_|0;break}}while(0);if(I=I+1|0,(I|0)>=(m|0)){k=13;break}}return(k|0)==13?_|0:0}function ic(h,m){return h=h|0,m=m|0,m=mt(h|0,m|0,52)|0,Qe()|0,m&1|0}function Si(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(k=mt(h|0,m|0,52)|0,Qe()|0,k=k&15,!k)return k=0,k|0;for(_=1;;){if(v=mt(h|0,m|0,(15-_|0)*3|0)|0,Qe()|0,v=v&7,v|0){_=5;break}if(_>>>0<k>>>0)_=_+1|0;else{v=0,_=5;break}}return(_|0)==5?v|0:0}function du(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Q=mt(h|0,m|0,52)|0,Qe()|0,Q=Q&15,!Q)return N=m,Q=h,Xt(N|0),Q|0;for(N=1,v=0;;){O=(15-N|0)*3|0,_=Yt(7,0,O|0)|0,k=Qe()|0,I=mt(h|0,m|0,O|0)|0,Qe()|0,O=Yt($s(I&7)|0,0,O|0)|0,I=Qe()|0,h=O|h&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=mt(h|0,m|0,(15-v|0)*3|0)|0,Qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(I=(15-v|0)*3|0,k=mt(h|0,m|0,I|0)|0,Qe()|0,O=Yt(7,0,I|0)|0,m=m&~(Qe()|0),I=Yt($s(k&7)|0,0,I|0)|0,h=h&~O|I,m=m|(Qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(N>>>0<Q>>>0)N=N+1|0;else break}return Xt(m|0),h|0}function ks(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,!_)return v=m,_=h,Xt(v|0),_|0;for(v=1;O=(15-v|0)*3|0,I=mt(h|0,m|0,O|0)|0,Qe()|0,k=Yt(7,0,O|0)|0,m=m&~(Qe()|0),O=Yt($s(I&7)|0,0,O|0)|0,h=O|h&~k,m=Qe()|0|m,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),h|0}function Ps(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Q=mt(h|0,m|0,52)|0,Qe()|0,Q=Q&15,!Q)return N=m,Q=h,Xt(N|0),Q|0;for(N=1,v=0;;){O=(15-N|0)*3|0,_=Yt(7,0,O|0)|0,k=Qe()|0,I=mt(h|0,m|0,O|0)|0,Qe()|0,O=Yt(Pi(I&7)|0,0,O|0)|0,I=Qe()|0,h=O|h&~_,m=I|m&~k;e:do if(!v)if((O&_|0)==0&(I&k|0)==0)v=0;else if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,!_)v=1;else{v=1;t:for(;;){switch(I=mt(h|0,m|0,(15-v|0)*3|0)|0,Qe()|0,I&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<_>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(k=(15-v|0)*3|0,O=Yt(7,0,k|0)|0,I=m&~(Qe()|0),m=mt(h|0,m|0,k|0)|0,Qe()|0,m=Yt(Pi(m&7)|0,0,k|0)|0,h=h&~O|m,m=I|(Qe()|0),v>>>0<_>>>0)v=v+1|0;else{v=1;break}}while(0);if(N>>>0<Q>>>0)N=N+1|0;else break}return Xt(m|0),h|0}function $a(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0;if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,!_)return v=m,_=h,Xt(v|0),_|0;for(v=1;I=(15-v|0)*3|0,O=Yt(7,0,I|0)|0,k=m&~(Qe()|0),m=mt(h|0,m|0,I|0)|0,Qe()|0,m=Yt(Pi(m&7)|0,0,I|0)|0,h=m|h&~O,m=Qe()|0|k,v>>>0<_>>>0;)v=v+1|0;return Xt(m|0),h|0}function oc(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(Q=Re,Re=Re+64|0,N=Q+40|0,_=Q+24|0,k=Q+12|0,O=Q,Yt(m|0,0,52)|0,v=Qe()|0|134225919,!m)return(A[h+4>>2]|0)>2||(A[h+8>>2]|0)>2||(A[h+12>>2]|0)>2?(I=0,N=0,Xt(I|0),Re=Q,N|0):(Yt(Df(h)|0,0,45)|0,I=Qe()|0|v,N=-1,Xt(I|0),Re=Q,N|0);if(A[N>>2]=A[h>>2],A[N+4>>2]=A[h+4>>2],A[N+8>>2]=A[h+8>>2],A[N+12>>2]=A[h+12>>2],I=N+4|0,(m|0)>0)for(h=-1;A[_>>2]=A[I>>2],A[_+4>>2]=A[I+4>>2],A[_+8>>2]=A[I+8>>2],m&1?(Bp(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],lu(k)):(su(I),A[k>>2]=A[I>>2],A[k+4>>2]=A[I+4>>2],A[k+8>>2]=A[I+8>>2],yi(k)),au(_,k,O),Qn(O),ce=(15-m|0)*3|0,ie=Yt(7,0,ce|0)|0,v=v&~(Qe()|0),ce=Yt(Hc(O)|0,0,ce|0)|0,h=ce|h&~ie,v=Qe()|0|v,(m|0)>1;)m=m+-1|0;else h=-1;e:do if((A[I>>2]|0)<=2&&(A[N+8>>2]|0)<=2&&(A[N+12>>2]|0)<=2){if(_=Df(N)|0,m=Yt(_|0,0,45)|0,m=m|h,h=Qe()|0|v&-1040385,O=Jh(N)|0,!(ci(_)|0)){if((O|0)<=0)break;for(k=0;;){if(_=mt(m|0,h|0,52)|0,Qe()|0,_=_&15,_)for(v=1;ce=(15-v|0)*3|0,N=mt(m|0,h|0,ce|0)|0,Qe()|0,ie=Yt(7,0,ce|0)|0,h=h&~(Qe()|0),ce=Yt($s(N&7)|0,0,ce|0)|0,m=m&~ie|ce,h=h|(Qe()|0),v>>>0<_>>>0;)v=v+1|0;if(k=k+1|0,(k|0)==(O|0))break e}}k=mt(m|0,h|0,52)|0,Qe()|0,k=k&15;t:do if(k){v=1;n:for(;;){switch(ce=mt(m|0,h|0,(15-v|0)*3|0)|0,Qe()|0,ce&7){case 1:break n;case 0:break;default:break t}if(v>>>0<k>>>0)v=v+1|0;else break t}if(Xu(_,A[N>>2]|0)|0)for(v=1;N=(15-v|0)*3|0,ie=Yt(7,0,N|0)|0,ce=h&~(Qe()|0),h=mt(m|0,h|0,N|0)|0,Qe()|0,h=Yt(Pi(h&7)|0,0,N|0)|0,m=m&~ie|h,h=ce|(Qe()|0),v>>>0<k>>>0;)v=v+1|0;else for(v=1;ce=(15-v|0)*3|0,N=mt(m|0,h|0,ce|0)|0,Qe()|0,ie=Yt(7,0,ce|0)|0,h=h&~(Qe()|0),ce=Yt($s(N&7)|0,0,ce|0)|0,m=m&~ie|ce,h=h|(Qe()|0),v>>>0<k>>>0;)v=v+1|0}while(0);if((O|0)>0){v=0;do m=du(m,h)|0,h=Qe()|0,v=v+1|0;while((v|0)!=(O|0))}}else m=0,h=0;while(0);return ie=h,ce=m,Xt(ie|0),Re=Q,ce|0}function Xo(h){return h=h|0,(h|0)%2|0|0}function Up(h,m){h=h|0,m=m|0;var v=0,_=0;return _=Re,Re=Re+16|0,v=_,m>>>0<=15&&(A[h+4>>2]&2146435072|0)!=2146435072&&(A[h+8+4>>2]&2146435072|0)!=2146435072?(Bl(h,m,v),m=oc(v,m)|0,h=Qe()|0):(h=0,m=0),Xt(h|0),Re=_,m|0}function cs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(k=v+4|0,O=mt(h|0,m|0,52)|0,Qe()|0,O=O&15,I=mt(h|0,m|0,45)|0,Qe()|0,_=(O|0)==0,ci(I&127)|0){if(_)return I=1,I|0;_=1}else{if(_)return I=0,I|0;!(A[k>>2]|0)&&!(A[v+8>>2]|0)?_=(A[v+12>>2]|0)!=0&1:_=1}for(v=1;v&1?lu(k):yi(k),I=mt(h|0,m|0,(15-v|0)*3|0)|0,Qe()|0,uu(k,I&7),v>>>0<O>>>0;)v=v+1|0;return _|0}function pa(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;ce=Re,Re=Re+16|0,Q=ce,ie=mt(h|0,m|0,45)|0,Qe()|0,ie=ie&127;e:do if(ci(ie)|0&&(O=mt(h|0,m|0,52)|0,Qe()|0,O=O&15,(O|0)!=0)){_=1;t:for(;;){switch(N=mt(h|0,m|0,(15-_|0)*3|0)|0,Qe()|0,N&7){case 5:break t;case 0:break;default:{_=m;break e}}if(_>>>0<O>>>0)_=_+1|0;else{_=m;break e}}for(k=1,_=m;m=(15-k|0)*3|0,I=Yt(7,0,m|0)|0,N=_&~(Qe()|0),_=mt(h|0,_|0,m|0)|0,Qe()|0,_=Yt(Pi(_&7)|0,0,m|0)|0,h=h&~I|_,_=N|(Qe()|0),k>>>0<O>>>0;)k=k+1|0}else _=m;while(0);if(N=7728+(ie*28|0)|0,A[v>>2]=A[N>>2],A[v+4>>2]=A[N+4>>2],A[v+8>>2]=A[N+8>>2],A[v+12>>2]=A[N+12>>2],!(cs(h,_,v)|0)){Re=ce;return}if(I=v+4|0,A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],O=mt(h|0,_|0,52)|0,Qe()|0,N=O&15,O&1?(yi(I),O=N+1|0):O=N,!(ci(ie)|0))_=0;else{e:do if(!N)_=0;else for(m=1;;){if(k=mt(h|0,_|0,(15-m|0)*3|0)|0,Qe()|0,k=k&7,k|0){_=k;break e}if(m>>>0<N>>>0)m=m+1|0;else{_=0;break}}while(0);_=(_|0)==4&1}if(!(Fr(v,O,_,0)|0))(O|0)!=(N|0)&&(A[I>>2]=A[Q>>2],A[I+4>>2]=A[Q+4>>2],A[I+8>>2]=A[Q+8>>2]);else{if(ci(ie)|0)do;while(Fr(v,O,0,0)|0);(O|0)!=(N|0)&&su(I)}Re=ce}function fs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;_=Re,Re=Re+16|0,k=_,pa(h,m,k),m=mt(h|0,m|0,52)|0,Qe()|0,ul(k,m&15,v),Re=_}function Gs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;I=Re,Re=Re+16|0,O=I,pa(h,m,O),_=mt(h|0,m|0,45)|0,Qe()|0,_=(ci(_&127)|0)==0,k=mt(h|0,m|0,52)|0,Qe()|0,k=k&15;e:do if(!_){if(k|0)for(_=1;;){if(N=Yt(7,0,(15-_|0)*3|0)|0,!((N&h|0)==0&((Qe()|0)&m|0)==0))break e;if(_>>>0<k>>>0)_=_+1|0;else break}Zo(O,k,0,5,v),Re=I;return}while(0);Ua(O,k,0,6,v),Re=I}function $p(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;if(_=mt(h|0,m|0,45)|0,Qe()|0,!(ci(_&127)|0))return _=2,_|0;if(_=mt(h|0,m|0,52)|0,Qe()|0,_=_&15,!_)return _=5,_|0;for(v=1;;){if(k=Yt(7,0,(15-v|0)*3|0)|0,!((k&h|0)==0&((Qe()|0)&m|0)==0)){v=2,h=6;break}if(v>>>0<_>>>0)v=v+1|0;else{v=5,h=6;break}}return(h|0)==6?v|0:0}function Uf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0;Fe=Re,Re=Re+128|0,ie=Fe+112|0,O=Fe+96|0,ce=Fe,k=mt(h|0,m|0,52)|0,Qe()|0,N=k&15,A[ie>>2]=N,I=mt(h|0,m|0,45)|0,Qe()|0,I=I&127;e:do if(ci(I)|0){if(N|0)for(_=1;;){if(Q=Yt(7,0,(15-_|0)*3|0)|0,!((Q&h|0)==0&((Qe()|0)&m|0)==0)){k=0;break e}if(_>>>0<N>>>0)_=_+1|0;else break}if(k&1)k=1;else{Q=Yt(N+1|0,0,52)|0,ce=Qe()|0|m&-15728641,ie=Yt(7,0,(14-N|0)*3|0)|0,Uf((Q|h)&~ie,ce&~(Qe()|0),v),Re=Fe;return}}else k=0;while(0);pa(h,m,O),k?(fu(O,ie,ce),Q=5):(Ju(O,ie,ce),Q=6);e:do if(ci(I)|0)if(!N)_=20;else for(_=1;;){if(I=Yt(7,0,(15-_|0)*3|0)|0,!((I&h|0)==0&((Qe()|0)&m|0)==0)){_=8;break e}if(_>>>0<N>>>0)_=_+1|0;else{_=20;break}}else _=8;while(0);if(ji(v|0,-1,_|0)|0,k){k=0;do{for(O=ce+(k<<4)|0,ti(O,A[ie>>2]|0)|0,O=A[O>>2]|0,_=0;I=v+(_<<2)|0,N=A[I>>2]|0,!((N|0)==-1|(N|0)==(O|0));)_=_+1|0;A[I>>2]=O,k=k+1|0}while((k|0)!=(Q|0))}else{k=0;do{for(O=ce+(k<<4)|0,Fr(O,A[ie>>2]|0,0,1)|0,O=A[O>>2]|0,_=0;I=v+(_<<2)|0,N=A[I>>2]|0,!((N|0)==-1|(N|0)==(O|0));)_=_+1|0;A[I>>2]=O,k=k+1|0}while((k|0)!=(Q|0))}Re=Fe}function Yc(){return 12}function mu(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(Yt(h|0,0,52)|0,N=Qe()|0|134225919,(h|0)<1){_=0,v=0;do ci(_)|0&&(Yt(_|0,0,45)|0,I=N|(Qe()|0),h=m+(v<<3)|0,A[h>>2]=-1,A[h+4>>2]=I,v=v+1|0),_=_+1|0;while((_|0)!=122);return}I=0,v=0;do{if(ci(I)|0){for(Yt(I|0,0,45)|0,_=1,k=-1,O=N|(Qe()|0);Q=Yt(7,0,(15-_|0)*3|0)|0,k=k&~Q,O=O&~(Qe()|0),(_|0)!=(h|0);)_=_+1|0;Q=m+(v<<3)|0,A[Q>>2]=k,A[Q+4>>2]=O,v=v+1|0}I=I+1|0}while((I|0)!=122)}function Qs(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0;if(N=Re,Re=Re+64|0,I=N,(h|0)==(v|0)&(m|0)==(_|0)|(!1|(m&2013265920|0)!=134217728|(!1|(_&2013265920|0)!=134217728))||(k=mt(h|0,m|0,52)|0,Qe()|0,k=k&15,O=mt(v|0,_|0,52)|0,Qe()|0,(k|0)!=(O&15|0)))return I=0,Re=N,I|0;if(O=k+-1|0,k>>>0>1&&(ie=pl(h,m,O)|0,Q=Qe()|0,O=pl(v,_,O)|0,(ie|0)==(O|0)&(Q|0)==(Qe()|0))&&(O=(k^15)*3|0,k=mt(h|0,m|0,O|0)|0,Qe()|0,k=k&7,O=mt(v|0,_|0,O|0)|0,Qe()|0,O=O&7,(k|0)==0|(O|0)==0||(A[21136+(k<<2)>>2]|0)==(O|0)||(A[21168+(k<<2)>>2]|0)==(O|0)))return ie=1,Re=N,ie|0;k=I,O=k+56|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(O|0));return Wo(h,m,1,I),ie=I,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0))&&(ie=I+8|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+16|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+24|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+32|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))&&(ie=I+40|0,!((A[ie>>2]|0)==(v|0)&&(A[ie+4>>2]|0)==(_|0)))?(k=I+48|0,k=((A[k>>2]|0)==(v|0)?(A[k+4>>2]|0)==(_|0):0)&1):k=1,ie=k,Re=N,ie|0}function it(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(ie=Re,Re=Re+16|0,I=ie,!(Qs(h,m,v,_)|0))return N=0,Q=0,Xt(N|0),Re=ie,Q|0;for(N=m&-2130706433,k=(Ui(h,m)|0)==0,k=k?1:2;A[I>>2]=0,ce=ki(h,m,k,I)|0,O=k+1|0,!((ce|0)==(v|0)&(Qe()|0)==(_|0));)if(O>>>0<7)k=O;else{k=0,h=0,Q=6;break}return(Q|0)==6?(Xt(k|0),Re=ie,h|0):(ce=Yt(k|0,0,56)|0,Q=N|(Qe()|0)|268435456,ce=h|ce,Xt(Q|0),Re=ie,ce|0)}function Tt(h,m){h=h|0,m=m|0;var v=0;return v=!0&(m&2013265920|0)==268435456,Xt((v?m&-2130706433|134217728:0)|0),(v?h:0)|0}function xt(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return _=Re,Re=Re+16|0,v=_,!0&(m&2013265920|0)==268435456?(k=mt(h|0,m|0,56)|0,Qe()|0,A[v>>2]=0,v=ki(h,m&-2130706433|134217728,k&7,v)|0,m=Qe()|0,Xt(m|0),Re=_,v|0):(m=0,v=0,Xt(m|0),Re=_,v|0)}function qt(h,m){h=h|0,m=m|0;var v=0;if(!(!0&(m&2013265920|0)==268435456))return v=0,v|0;switch(v=mt(h|0,m|0,56)|0,Qe()|0,v&7){case 0:case 7:return v=0,v|0}return v=m&-2130706433|134217728,!0&(m&117440512|0)==16777216&(Ui(h,v)|0)!=0?(v=0,v|0):(v=hu(h,v)|0,v|0)}function er(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;O=Re,Re=Re+16|0,_=O,I=!0&(m&2013265920|0)==268435456,k=m&-2130706433|134217728,N=v,A[N>>2]=I?h:0,A[N+4>>2]=I?k:0,I?(m=mt(h|0,m|0,56)|0,Qe()|0,A[_>>2]=0,h=ki(h,k,m&7,_)|0,m=Qe()|0):(h=0,m=0),N=v+8|0,A[N>>2]=h,A[N+4>>2]=m,Re=O}function Cr(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;k=(Ui(h,m)|0)==0,m=m&-2130706433,_=v,A[_>>2]=k?h:0,A[_+4>>2]=k?m|285212672:0,_=v+8|0,A[_>>2]=h,A[_+4>>2]=m|301989888,_=v+16|0,A[_>>2]=h,A[_+4>>2]=m|318767104,_=v+24|0,A[_>>2]=h,A[_+4>>2]=m|335544320,_=v+32|0,A[_>>2]=h,A[_+4>>2]=m|352321536,v=v+40|0,A[v>>2]=h,A[v+4>>2]=m|369098752}function ni(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0;if(I=Re,Re=Re+16|0,O=I,_=mt(h|0,m|0,56)|0,Qe()|0,N=!0&(m&2013265920|0)==268435456,k=N?h:0,h=N?m&-2130706433|134217728:0,m=jf(k,h,_&7)|0,(m|0)==-1){A[v>>2]=0,Re=I;return}pa(k,h,O),_=mt(k|0,h|0,52)|0,Qe()|0,_=_&15,Ui(k,h)|0?Zo(O,_,m,2,v):Ua(O,_,m,2,v),Re=I}function Ln(h){h=h|0;var m=0,v=0,_=0;return m=Bo(1,12)|0,m||wn(22691,22646,49,22704),v=h+4|0,_=A[v>>2]|0,_|0?(_=_+8|0,A[_>>2]=m,A[v>>2]=m,m|0):(A[h>>2]|0&&wn(22721,22646,61,22744),_=h,A[_>>2]=m,A[v>>2]=m,m|0)}function cr(h,m){h=h|0,m=m|0;var v=0,_=0;return _=Ti(24)|0,_||wn(22758,22646,78,22772),A[_>>2]=A[m>>2],A[_+4>>2]=A[m+4>>2],A[_+8>>2]=A[m+8>>2],A[_+12>>2]=A[m+12>>2],A[_+16>>2]=0,m=h+4|0,v=A[m>>2]|0,v|0?(A[v+16>>2]=_,A[m>>2]=_,_|0):(A[h>>2]|0&&wn(22787,22646,82,22772),A[h>>2]=_,A[m>>2]=_,_|0)}function Ul(h){h=h|0;var m=0,v=0,_=0,k=0;if(h)for(_=1;;){if(m=A[h>>2]|0,m|0)do{if(v=A[m>>2]|0,v|0)do k=v,v=A[v+16>>2]|0,Bn(k);while(v|0);k=m,m=A[m+8>>2]|0,Bn(k)}while(m|0);if(m=h,h=A[h+8>>2]|0,_||Bn(m),h)_=0;else break}}function $i(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0,c=0,p=0,f=0,y=0,E=0,L=0,F=0,$=0,G=0;if(k=h+8|0,A[k>>2]|0)return G=1,G|0;if(_=A[h>>2]|0,!_)return G=0,G|0;m=_,v=0;do v=v+1|0,m=A[m+8>>2]|0;while(m|0);if(v>>>0<2)return G=0,G|0;F=Ti(v<<2)|0,F||wn(22807,22646,317,22826),L=Ti(v<<5)|0,L||wn(22848,22646,321,22826),A[h>>2]=0,xn=h+4|0,A[xn>>2]=0,A[k>>2]=0,v=0,E=0,_n=0,Fe=0;e:for(;;){if(ce=A[_>>2]|0,ce){O=0,I=ce;do{if(Q=+ye[I+8>>3],m=I,I=A[I+16>>2]|0,ie=(I|0)==0,k=ie?ce:I,N=+ye[k+8>>3],+ct(+(Q-N))>3.141592653589793){G=14;break}O=O+(N-Q)*(+ye[m>>3]+ +ye[k>>3])}while(!ie);if((G|0)==14){G=0,O=0,m=ce;do Xe=+ye[m+8>>3],y=m+16|0,f=A[y>>2]|0,f=f|0?f:ce,Rt=+ye[f+8>>3],O=O+(+ye[m>>3]+ +ye[f>>3])*((Rt<0?Rt+6.283185307179586:Rt)-(Xe<0?Xe+6.283185307179586:Xe)),m=A[(m|0?y:_)>>2]|0;while(m|0)}O>0?(A[F+(E<<2)>>2]=_,E=E+1|0,k=_n,m=Fe):G=19}else G=19;if((G|0)==19){G=0;do if(v){if(m=v+8|0,A[m>>2]|0){G=21;break e}if(v=Bo(1,12)|0,!v){G=23;break e}A[m>>2]=v,k=v+4|0,I=v,m=Fe}else if(Fe){k=xn,I=Fe+8|0,m=_,v=h;break}else if(A[h>>2]|0){G=27;break e}else{k=xn,I=h,m=_,v=h;break}while(0);if(A[I>>2]=_,A[k>>2]=_,I=L+(_n<<5)|0,ie=A[_>>2]|0,ie){for(ce=L+(_n<<5)+8|0,ye[ce>>3]=17976931348623157e292,Fe=L+(_n<<5)+24|0,ye[Fe>>3]=17976931348623157e292,ye[I>>3]=-17976931348623157e292,Ze=L+(_n<<5)+16|0,ye[Ze>>3]=-17976931348623157e292,cn=17976931348623157e292,gt=-17976931348623157e292,k=0,at=ie,Q=17976931348623157e292,Et=17976931348623157e292,Nt=-17976931348623157e292,N=-17976931348623157e292;O=+ye[at>>3],Xe=+ye[at+8>>3],at=A[at+16>>2]|0,wt=(at|0)==0,Rt=+ye[(wt?ie:at)+8>>3],O<Q&&(ye[ce>>3]=O,Q=O),Xe<Et&&(ye[Fe>>3]=Xe,Et=Xe),O>Nt?ye[I>>3]=O:O=Nt,Xe>N&&(ye[Ze>>3]=Xe,N=Xe),cn=Xe>0&Xe<cn?Xe:cn,gt=Xe<0&Xe>gt?Xe:gt,k=k|+ct(+(Xe-Rt))>3.141592653589793,!wt;)Nt=O;k&&(ye[Ze>>3]=gt,ye[Fe>>3]=cn)}else A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,A[I+12>>2]=0,A[I+16>>2]=0,A[I+20>>2]=0,A[I+24>>2]=0,A[I+28>>2]=0;k=_n+1|0}if(y=_+8|0,_=A[y>>2]|0,A[y>>2]=0,_)_n=k,Fe=m;else{G=45;break}}if((G|0)==21)wn(22624,22646,35,22658);else if((G|0)==23)wn(22678,22646,37,22658);else if((G|0)==27)wn(22721,22646,61,22744);else if((G|0)==45){e:do if((E|0)>0){for(y=(k|0)==0,p=k<<2,f=(h|0)==0,c=0,m=0;;){if(Kt=A[F+(c<<2)>>2]|0,y)G=73;else{if(_n=Ti(p)|0,!_n){G=50;break}if(xn=Ti(p)|0,!xn){G=52;break}t:do if(f)v=0;else{for(k=0,v=0,I=h;_=L+(k<<5)|0,gu(A[I>>2]|0,_,A[Kt>>2]|0)|0?(A[_n+(v<<2)>>2]=I,A[xn+(v<<2)>>2]=_,wt=v+1|0):wt=v,I=A[I+8>>2]|0,I;)k=k+1|0,v=wt;if((wt|0)>0)if(_=A[_n>>2]|0,(wt|0)==1)v=_;else for(Ze=0,at=-1,v=_,Fe=_;;){for(ie=A[Fe>>2]|0,_=0,I=0;k=A[A[_n+(I<<2)>>2]>>2]|0,(k|0)==(ie|0)?ce=_:ce=_+((gu(k,A[xn+(I<<2)>>2]|0,A[ie>>2]|0)|0)&1)|0,I=I+1|0,(I|0)!=(wt|0);)_=ce;if(k=(ce|0)>(at|0),v=k?Fe:v,_=Ze+1|0,(_|0)==(wt|0))break t;Ze=_,at=k?ce:at,Fe=A[_n+(_<<2)>>2]|0}else v=0}while(0);if(Bn(_n),Bn(xn),v){if(k=v+4|0,_=A[k>>2]|0,_)v=_+8|0;else if(A[v>>2]|0){G=70;break}A[v>>2]=Kt,A[k>>2]=Kt}else G=73}if((G|0)==73){if(G=0,m=A[Kt>>2]|0,m|0)do xn=m,m=A[m+16>>2]|0,Bn(xn);while(m|0);Bn(Kt),m=2}if(c=c+1|0,(c|0)>=(E|0)){$=m;break e}}(G|0)==50?wn(22863,22646,249,22882):(G|0)==52?wn(22901,22646,252,22882):(G|0)==70&&wn(22721,22646,61,22744)}else $=0;while(0);return Bn(F),Bn(L),G=$,G|0}return 0}function gu(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0;if(!(sl(m,v)|0)||(m=Ko(m)|0,ie=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,h=A[h>>2]|0,!h))return h=0,h|0;if(m){m=0,v=h;e:for(;;){for(;I=+ye[v>>3],Q=+ye[v+8>>3],v=v+16|0,ce=A[v>>2]|0,ce=ce|0?ce:h,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(ie<O|ie>N);)if(v=A[v>>2]|0,!v){v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(ie-O)/(N-O)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}else{m=0,v=h;e:for(;;){for(;I=+ye[v>>3],Q=+ye[v+8>>3],v=v+16|0,ce=A[v>>2]|0,ce=ce|0?ce:h,O=+ye[ce>>3],k=+ye[ce+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(ie<O|ie>N);)if(v=A[v>>2]|0,!v){v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(ie-O)/(N-O)*(I-k)>_&&(m=m^1),v=A[v>>2]|0,!v){v=22;break}}if((v|0)==22)return m|0}return 0}function xa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0;if(gt=Re,Re=Re+32|0,cn=gt+16|0,Nt=gt,O=mt(h|0,m|0,52)|0,Qe()|0,O=O&15,at=mt(v|0,_|0,52)|0,Qe()|0,(O|0)!=(at&15|0))return cn=1,Re=gt,cn|0;if(ie=mt(h|0,m|0,45)|0,Qe()|0,ie=ie&127,ce=mt(v|0,_|0,45)|0,Qe()|0,ce=ce&127,at=(ie|0)!=(ce|0),at){if(N=$c(ie,ce)|0,(N|0)==7)return cn=2,Re=gt,cn|0;Q=$c(ce,ie)|0,(Q|0)==7?wn(22925,22949,151,22959):(wt=N,I=Q)}else wt=0,I=0;Fe=ci(ie)|0,Ze=ci(ce)|0,A[cn>>2]=0,A[cn+4>>2]=0,A[cn+8>>2]=0,A[cn+12>>2]=0;do if(wt){if(ce=A[4304+(ie*28|0)+(wt<<2)>>2]|0,N=(ce|0)>0,Ze)if(N){ie=0,Q=v,N=_;do Q=Ps(Q,N)|0,N=Qe()|0,I=Pi(I)|0,(I|0)==1&&(I=Pi(1)|0),ie=ie+1|0;while((ie|0)!=(ce|0));ce=I,ie=Q,Q=N}else ce=I,ie=v,Q=_;else if(N){ie=0,Q=v,N=_;do Q=$a(Q,N)|0,N=Qe()|0,I=Pi(I)|0,ie=ie+1|0;while((ie|0)!=(ce|0));ce=I,ie=Q,Q=N}else ce=I,ie=v,Q=_;if(cs(ie,Q,cn)|0,at||wn(22972,22949,181,22959),N=(Fe|0)!=0,I=(Ze|0)!=0,N&I&&wn(22999,22949,182,22959),N){if(I=Si(h,m)|0,We[22032+(I*7|0)+wt>>0]|0){O=3;break}Q=A[21200+(I*28|0)+(wt<<2)>>2]|0,ie=Q,Et=26}else if(I){if(I=Si(ie,Q)|0,We[22032+(I*7|0)+ce>>0]|0){O=4;break}ie=0,Q=A[21200+(ce*28|0)+(I<<2)>>2]|0,Et=26}else I=0;if((Et|0)==26)if((Q|0)<=-1&&wn(23030,22949,212,22959),(ie|0)<=-1&&wn(23053,22949,213,22959),(Q|0)>0){N=cn+4|0,I=0;do cu(N),I=I+1|0;while((I|0)!=(Q|0));I=ie}else I=ie;if(A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,uu(Nt,wt),O|0)for(;Xo(O)|0?lu(Nt):yi(Nt),(O|0)>1;)O=O+-1|0;if((I|0)>0){O=0;do cu(Nt),O=O+1|0;while((O|0)!=(I|0))}Et=cn+4|0,Tr(Et,Nt,Et),Qn(Et),Et=50}else if(cs(v,_,cn)|0,(Fe|0)!=0&(Ze|0)!=0)if((ce|0)!=(ie|0)&&wn(23077,22949,243,22959),I=Si(h,m)|0,O=Si(v,_)|0,We[22032+(I*7|0)+O>>0]|0)O=5;else if(I=A[21200+(I*28|0)+(O<<2)>>2]|0,(I|0)>0){N=cn+4|0,O=0;do cu(N),O=O+1|0;while((O|0)!=(I|0));Et=50}else Et=50;else Et=50;while(0);return(Et|0)==50&&(O=cn+4|0,A[k>>2]=A[O>>2],A[k+4>>2]=A[O+4>>2],A[k+8>>2]=A[O+8>>2],O=0),cn=O,Re=gt,cn|0}function ps(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0;if(wt=Re,Re=Re+48|0,I=wt+36|0,N=wt+24|0,Q=wt+12|0,ie=wt,O=mt(h|0,m|0,52)|0,Qe()|0,O=O&15,Ze=mt(h|0,m|0,45)|0,Qe()|0,Ze=Ze&127,ce=ci(Ze)|0,Yt(O|0,0,52)|0,Nt=Qe()|0|134225919,Et=_,A[Et>>2]=-1,A[Et+4>>2]=Nt,!O)return(A[v>>2]|0)>1||(A[v+4>>2]|0)>1||(A[v+8>>2]|0)>1||(k=Dl(Ze,Hc(v)|0)|0,(k|0)==127)?(Nt=1,Re=wt,Nt|0):(at=Yt(k|0,0,45)|0,Et=Qe()|0,Ze=_,Et=A[Ze+4>>2]&-1040385|Et,Nt=_,A[Nt>>2]=A[Ze>>2]|at,A[Nt+4>>2]=Et,Nt=0,Re=wt,Nt|0);for(A[I>>2]=A[v>>2],A[I+4>>2]=A[v+4>>2],A[I+8>>2]=A[v+8>>2];A[N>>2]=A[I>>2],A[N+4>>2]=A[I+4>>2],A[N+8>>2]=A[I+8>>2],Xo(O)|0?(Bp(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],lu(Q)):(su(I),A[Q>>2]=A[I>>2],A[Q+4>>2]=A[I+4>>2],A[Q+8>>2]=A[I+8>>2],yi(Q)),au(N,Q,ie),Qn(ie),Et=_,cn=A[Et>>2]|0,Et=A[Et+4>>2]|0,gt=(15-O|0)*3|0,v=Yt(7,0,gt|0)|0,Et=Et&~(Qe()|0),gt=Yt(Hc(ie)|0,0,gt|0)|0,Et=Qe()|0|Et,Nt=_,A[Nt>>2]=gt|cn&~v,A[Nt+4>>2]=Et,(O|0)>1;)O=O+-1|0;e:do if((A[I>>2]|0)<=1&&(A[I+4>>2]|0)<=1&&(A[I+8>>2]|0)<=1){O=Hc(I)|0,N=Dl(Ze,O)|0,(N|0)==127?ie=0:ie=ci(N)|0;t:do if(O){if(ce){if(I=21408+((Si(h,m)|0)*28|0)+(O<<2)|0,I=A[I>>2]|0,(I|0)>0){v=0;do O=$s(O)|0,v=v+1|0;while((v|0)!=(I|0))}if((O|0)==1){k=3;break e}v=Dl(Ze,O)|0,(v|0)==127&&wn(23104,22949,376,23134),ci(v)|0?wn(23147,22949,377,23134):(at=I,Fe=O,k=v)}else at=0,Fe=O,k=N;if(Q=A[4304+(Ze*28|0)+(Fe<<2)>>2]|0,(Q|0)<=-1&&wn(23178,22949,384,23134),!ie){if((at|0)<=-1&&wn(23030,22949,417,23134),at|0){I=_,O=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=ks(v,I)|0,I=Qe()|0,gt=_,A[gt>>2]=v,A[gt+4>>2]=I,O=O+1|0;while((O|0)<(at|0))}if((Q|0)<=0){O=54;break}for(I=_,O=0,v=A[I>>2]|0,I=A[I+4>>2]|0;;)if(v=ks(v,I)|0,I=Qe()|0,gt=_,A[gt>>2]=v,A[gt+4>>2]=I,O=O+1|0,(O|0)==(Q|0)){O=54;break t}}if(N=$c(k,Ze)|0,(N|0)==7&&wn(22925,22949,393,23134),O=_,v=A[O>>2]|0,O=A[O+4>>2]|0,(Q|0)>0){I=0;do v=ks(v,O)|0,O=Qe()|0,gt=_,A[gt>>2]=v,A[gt+4>>2]=O,I=I+1|0;while((I|0)!=(Q|0))}if(v=Si(v,O)|0,gt=Uc(k)|0,v=A[(gt?21824:21616)+(N*28|0)+(v<<2)>>2]|0,(v|0)<=-1&&wn(23030,22949,412,23134),!v)O=54;else{N=_,O=0,I=A[N>>2]|0,N=A[N+4>>2]|0;do I=du(I,N)|0,N=Qe()|0,gt=_,A[gt>>2]=I,A[gt+4>>2]=N,O=O+1|0;while((O|0)<(v|0));O=54}}else if((ce|0)!=0&(ie|0)!=0)if(gt=Si(h,m)|0,O=_,O=21408+(gt*28|0)+((Si(A[O>>2]|0,A[O+4>>2]|0)|0)<<2)|0,O=A[O>>2]|0,(O|0)<=-1&&wn(23201,22949,433,23134),!O)k=N,O=55;else{I=_,k=0,v=A[I>>2]|0,I=A[I+4>>2]|0;do v=ks(v,I)|0,I=Qe()|0,gt=_,A[gt>>2]=v,A[gt+4>>2]=I,k=k+1|0;while((k|0)<(O|0));k=N,O=54}else k=N,O=54;while(0);if((O|0)==54&&ie&&(O=55),(O|0)==55&&(gt=_,(Si(A[gt>>2]|0,A[gt+4>>2]|0)|0)==1)){k=4;break}gt=_,Nt=A[gt>>2]|0,gt=A[gt+4>>2]&-1040385,cn=Yt(k|0,0,45)|0,gt=gt|(Qe()|0),k=_,A[k>>2]=Nt|cn,A[k+4>>2]=gt,k=0}else k=2;while(0);return gt=k,Re=wt,gt|0}function Jc(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0;return I=Re,Re=Re+16|0,O=I,h=xa(h,m,v,_,O)|0,h||(Gc(O,k),h=0),Re=I,h|0}function Al(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return k=Re,Re=Re+16|0,O=k,js(v,O),_=ps(h,m,O,_)|0,Re=k,_|0}function jr(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,O)|0)?h=Ki(k,O)|0:h=-1,Re=I,h|0}function ac(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0,I=0;return I=Re,Re=Re+32|0,k=I+12|0,O=I,!(xa(h,m,h,m,k)|0)&&!(xa(h,m,v,_,O)|0)?h=Ki(k,O)|0:h=-1,Re=I,(h>>>31^1)+h|0}function Po(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0;if(_n=Re,Re=Re+48|0,O=_n+24|0,I=_n+12|0,Xe=_n,!(xa(h,m,h,m,O)|0)&&!(xa(h,m,v,_,I)|0)){if(Rt=Ki(O,I)|0,(Rt|0)<0)return Xe=Rt,Re=_n,Xe|0;for(A[O>>2]=0,A[O+4>>2]=0,A[O+8>>2]=0,A[I>>2]=0,A[I+4>>2]=0,A[I+8>>2]=0,xa(h,m,h,m,O)|0,xa(h,m,v,_,I)|0,Es(O),Es(I),Rt?(ce=A[O>>2]|0,at=+(Rt|0),Nt=O+4|0,Fe=A[Nt>>2]|0,cn=O+8|0,Ze=A[cn>>2]|0,gt=O,v=ce,_=Fe,O=Ze,wt=+((A[I>>2]|0)-ce|0)/at,Et=+((A[I+4>>2]|0)-Fe|0)/at,at=+((A[I+8>>2]|0)-Ze|0)/at):(_=O+4|0,Ze=O+8|0,Nt=_,cn=Ze,gt=O,v=A[O>>2]|0,_=A[_>>2]|0,O=A[Ze>>2]|0,wt=0,Et=0,at=0),A[Xe>>2]=v,Ze=Xe+4|0,A[Ze>>2]=_,Fe=Xe+8|0,A[Fe>>2]=O,ce=0;;){Q=+(ce|0),xn=wt*Q+ +(v|0),N=Et*Q+ +(A[Nt>>2]|0),Q=at*Q+ +(A[cn>>2]|0),_=~~+Ga(+xn),I=~~+Ga(+N),v=~~+Ga(+Q),xn=+ct(+(+(_|0)-xn)),N=+ct(+(+(I|0)-N)),Q=+ct(+(+(v|0)-Q));do if(xn>N&xn>Q)_=0-(I+v)|0,O=I;else if(ie=0-_|0,N>Q){O=ie-v|0;break}else{O=I,v=ie-I|0;break}while(0);if(A[Xe>>2]=_,A[Ze>>2]=O,A[Fe>>2]=v,co(Xe),ps(h,m,Xe,k+(ce<<3)|0)|0,(ce|0)==(Rt|0))break;ce=ce+1|0,v=A[gt>>2]|0}return Xe=0,Re=_n,Xe|0}return Xe=-1,Re=_n,Xe|0}function ho(h,m){h=h|0,m=m|0;var v=0;if(!m)return v=1,v|0;v=h,h=1;do h=vr(m&1|0?v:1,h)|0,m=m>>1,v=vr(v,v)|0;while(m|0);return h|0}function $f(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0;if(!(sl(m,v)|0)||(m=Ko(m)|0,Ze=+ye[v>>3],_=+ye[v+8>>3],_=m&_<0?_+6.283185307179586:_,Fe=A[h>>2]|0,(Fe|0)<=0))return Fe=0,Fe|0;if(ce=A[h+4>>2]|0,m){m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+ye[ce+(ie<<4)>>3],Q=+ye[ce+(ie<<4)+8>>3],h=(v+2|0)%(Fe|0)|0,O=+ye[ce+(h<<4)>>3],k=+ye[ce+(h<<4)+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(Ze<O|Ze>N);)if(v=ie+1|0,(v|0)<(Fe|0))h=ie,ie=v,v=h;else{v=22;break e}if(Q=k<0?k+6.283185307179586:k,I=I<0?I+6.283185307179586:I,_=I==_|Q==_?_+-2220446049250313e-31:_,Q=Q+(Ze-O)/(N-O)*(I-Q),(Q<0?Q+6.283185307179586:Q)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Fe|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}else{m=0,v=-1,h=0;e:for(;;){for(ie=h;I=+ye[ce+(ie<<4)>>3],Q=+ye[ce+(ie<<4)+8>>3],h=(v+2|0)%(Fe|0)|0,O=+ye[ce+(h<<4)>>3],k=+ye[ce+(h<<4)+8>>3],I>O?(N=I,I=Q):(N=O,O=I,I=k,k=Q),!!(Ze<O|Ze>N);)if(v=ie+1|0,(v|0)<(Fe|0))h=ie,ie=v,v=h;else{v=22;break e}if(_=I==_|k==_?_+-2220446049250313e-31:_,k+(Ze-O)/(N-O)*(I-k)>_&&(m=m^1),h=ie+1|0,(h|0)>=(Fe|0)){v=22;break}else v=ie}if((v|0)==22)return m|0}return 0}function Zi(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0;if(wt=A[h>>2]|0,!wt){A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;return}if(Et=m+8|0,ye[Et>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,cn=m+16|0,ye[cn>>3]=-17976931348623157e292,!((wt|0)<=0)){for(Ze=A[h+4>>2]|0,ie=17976931348623157e292,ce=-17976931348623157e292,Fe=0,h=-1,O=17976931348623157e292,I=17976931348623157e292,Q=-17976931348623157e292,_=-17976931348623157e292,at=0;v=+ye[Ze+(at<<4)>>3],N=+ye[Ze+(at<<4)+8>>3],h=h+2|0,k=+ye[Ze+(((h|0)==(wt|0)?0:h)<<4)+8>>3],v<O&&(ye[Et>>3]=v,O=v),N<I&&(ye[Nt>>3]=N,I=N),v>Q?ye[m>>3]=v:v=Q,N>_&&(ye[cn>>3]=N,_=N),ie=N>0&N<ie?N:ie,ce=N<0&N>ce?N:ce,Fe=Fe|+ct(+(N-k))>3.141592653589793,h=at+1|0,(h|0)!=(wt|0);)gt=at,Q=v,at=h,h=gt;Fe&&(ye[cn>>3]=ce,ye[Nt>>3]=ie)}}function ba(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0,xn=0,Kt=0;if(wt=A[h>>2]|0,wt){if(Et=m+8|0,ye[Et>>3]=17976931348623157e292,Nt=m+24|0,ye[Nt>>3]=17976931348623157e292,ye[m>>3]=-17976931348623157e292,cn=m+16|0,ye[cn>>3]=-17976931348623157e292,(wt|0)>0){for(k=A[h+4>>2]|0,Ze=17976931348623157e292,at=-17976931348623157e292,_=0,v=-1,Q=17976931348623157e292,ie=17976931348623157e292,Fe=-17976931348623157e292,I=-17976931348623157e292,gt=0;O=+ye[k+(gt<<4)>>3],ce=+ye[k+(gt<<4)+8>>3],xn=v+2|0,N=+ye[k+(((xn|0)==(wt|0)?0:xn)<<4)+8>>3],O<Q&&(ye[Et>>3]=O,Q=O),ce<ie&&(ye[Nt>>3]=ce,ie=ce),O>Fe?ye[m>>3]=O:O=Fe,ce>I&&(ye[cn>>3]=ce,I=ce),Ze=ce>0&ce<Ze?ce:Ze,at=ce<0&ce>at?ce:at,_=_|+ct(+(ce-N))>3.141592653589793,v=gt+1|0,(v|0)!=(wt|0);)xn=gt,Fe=O,gt=v,v=xn;_&&(ye[cn>>3]=at,ye[Nt>>3]=Ze)}}else A[m>>2]=0,A[m+4>>2]=0,A[m+8>>2]=0,A[m+12>>2]=0,A[m+16>>2]=0,A[m+20>>2]=0,A[m+24>>2]=0,A[m+28>>2]=0;if(xn=h+8|0,v=A[xn>>2]|0,!((v|0)<=0)){_n=h+12|0,Xe=0;do if(k=A[_n>>2]|0,_=Xe,Xe=Xe+1|0,Nt=m+(Xe<<5)|0,cn=A[k+(_<<3)>>2]|0,cn){if(gt=m+(Xe<<5)+8|0,ye[gt>>3]=17976931348623157e292,h=m+(Xe<<5)+24|0,ye[h>>3]=17976931348623157e292,ye[Nt>>3]=-17976931348623157e292,Rt=m+(Xe<<5)+16|0,ye[Rt>>3]=-17976931348623157e292,(cn|0)>0){for(wt=A[k+(_<<3)+4>>2]|0,Ze=17976931348623157e292,at=-17976931348623157e292,k=0,_=-1,Et=0,Q=17976931348623157e292,ie=17976931348623157e292,ce=-17976931348623157e292,I=-17976931348623157e292;O=+ye[wt+(Et<<4)>>3],Fe=+ye[wt+(Et<<4)+8>>3],_=_+2|0,N=+ye[wt+(((_|0)==(cn|0)?0:_)<<4)+8>>3],O<Q&&(ye[gt>>3]=O,Q=O),Fe<ie&&(ye[h>>3]=Fe,ie=Fe),O>ce?ye[Nt>>3]=O:O=ce,Fe>I&&(ye[Rt>>3]=Fe,I=Fe),Ze=Fe>0&Fe<Ze?Fe:Ze,at=Fe<0&Fe>at?Fe:at,k=k|+ct(+(Fe-N))>3.141592653589793,_=Et+1|0,(_|0)!=(cn|0);)Kt=Et,Et=_,ce=O,_=Kt;k&&(ye[Rt>>3]=at,ye[h>>3]=Ze)}}else A[Nt>>2]=0,A[Nt+4>>2]=0,A[Nt+8>>2]=0,A[Nt+12>>2]=0,A[Nt+16>>2]=0,A[Nt+20>>2]=0,A[Nt+24>>2]=0,A[Nt+28>>2]=0,v=A[xn>>2]|0;while((Xe|0)<(v|0))}}function an(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0;if(!($f(h,m,v)|0))return k=0,k|0;if(k=h+8|0,(A[k>>2]|0)<=0)return k=1,k|0;for(_=h+12|0,h=0;;){if(O=h,h=h+1|0,$f((A[_>>2]|0)+(O<<3)|0,m+(h<<5)|0,v)|0){h=0,_=6;break}if((h|0)>=(A[k>>2]|0)){h=1,_=6;break}}return(_|0)==6?h|0:0}function ja(){return 8}function Ws(){return 16}function Ks(){return 168}function Fo(){return 8}function yu(){return 16}function Yo(){return 12}function un(){return 8}function sc(h){h=h|0;var m=0,v=0;return v=+ye[h>>3],m=+ye[h+8>>3],+ +It(+(v*v+m*m))}function Zs(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0;ie=+ye[h>>3],Q=+ye[m>>3]-ie,N=+ye[h+8>>3],I=+ye[m+8>>3]-N,Fe=+ye[v>>3],O=+ye[_>>3]-Fe,Ze=+ye[v+8>>3],ce=+ye[_+8>>3]-Ze,O=(O*(N-Ze)-(ie-Fe)*ce)/(Q*ce-I*O),ye[k>>3]=ie+Q*O,ye[k+8>>3]=N+I*O}function Ao(h,m){return h=h|0,m=m|0,+ye[h>>3]!=+ye[m>>3]?(m=0,m|0):(m=+ye[h+8>>3]==+ye[m+8>>3],m|0)}function Er(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;return k=+ye[h>>3]-+ye[m>>3],_=+ye[h+8>>3]-+ye[m+8>>3],v=+ye[h+16>>3]-+ye[m+16>>3],+(k*k+_*_+v*v)}function ef(h,m){h=h|0,m=m|0;var v=0,_=0,k=0;v=+ye[h>>3],_=+hn(+v),v=+fn(+v),ye[m+16>>3]=v,v=+ye[h+8>>3],k=_*+hn(+v),ye[m>>3]=k,v=_*+fn(+v),ye[m+8>>3]=v}function jp(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0;if(ie=Re,Re=Re+32|0,k=ie+16|0,O=ie,pa(h,m,k),I=Zc(h,m)|0,Q=Si(h,m)|0,Ff(I,O),m=Zu(I,A[k>>2]|0)|0,!(ci(I)|0))return Q=m,Re=ie,Q|0;do switch(I|0){case 4:{h=0,v=14;break}case 14:{h=1,v=14;break}case 24:{h=2,v=14;break}case 38:{h=3,v=14;break}case 49:{h=4,v=14;break}case 58:{h=5,v=14;break}case 63:{h=6,v=14;break}case 72:{h=7,v=14;break}case 83:{h=8,v=14;break}case 97:{h=9,v=14;break}case 107:{h=10,v=14;break}case 117:{h=11,v=14;break}default:N=0,_=0}while(0);return(v|0)==14&&(N=A[22096+(h*24|0)+8>>2]|0,_=A[22096+(h*24|0)+16>>2]|0),h=A[k>>2]|0,(h|0)!=(A[O>>2]|0)&&(I=Uc(I)|0,h=A[k>>2]|0,I|(h|0)==(_|0)&&(m=(m+1|0)%6|0)),(Q|0)==3&(h|0)==(_|0)?(Q=(m+5|0)%6|0,Re=ie,Q|0):(Q|0)==5&(h|0)==(N|0)?(Q=(m+1|0)%6|0,Re=ie,Q|0):(Q=m,Re=ie,Q|0)}function jf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;return _=Ui(h,m)|0,(v+-1|0)>>>0>5||(k=(_|0)!=0,(v|0)==1&k)?(v=-1,v|0):(_=jp(h,m)|0,k?(v=(5-_+(A[22384+(v<<2)>>2]|0)|0)%5|0,v|0):(v=(6-_+(A[22416+(v<<2)>>2]|0)|0)%6|0,v|0))}function mo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0;(m|0)>0?(_=Bo(m,4)|0,A[h>>2]=_,_||wn(23230,23253,40,23267)):A[h>>2]=0,A[h+4>>2]=m,A[h+8>>2]=0,A[h+12>>2]=v}function Va(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0;k=h+4|0,O=h+12|0,I=h+8|0;e:for(;;){for(v=A[k>>2]|0,m=0;;){if((m|0)>=(v|0))break e;if(_=A[h>>2]|0,N=A[_+(m<<2)>>2]|0,!N)m=m+1|0;else break}m=_+(~~(+ct(+(+bt(10,+ +(15-(A[O>>2]|0)|0))*(+ye[N>>3]+ +ye[N+8>>3])))%+(v|0))>>>0<<2)|0,v=A[m>>2]|0;t:do if(v|0){if(_=N+32|0,(v|0)==(N|0))A[m>>2]=A[_>>2];else{if(v=v+32|0,m=A[v>>2]|0,!m)break;for(;(m|0)!=(N|0);)if(v=m+32|0,m=A[v>>2]|0,!m)break t;A[v>>2]=A[_>>2]}Bn(N),A[I>>2]=(A[I>>2]|0)+-1}while(0)}Bn(A[h>>2]|0)}function $l(h){h=h|0;var m=0,v=0,_=0;for(_=A[h+4>>2]|0,v=0;;){if((v|0)>=(_|0)){m=0,v=4;break}if(m=A[(A[h>>2]|0)+(v<<2)>>2]|0,!m)v=v+1|0;else{v=4;break}}return(v|0)==4?m|0:0}function tf(h,m){h=h|0,m=m|0;var v=0,_=0,k=0,O=0;if(v=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,v=(A[h>>2]|0)+(v<<2)|0,_=A[v>>2]|0,!_)return O=1,O|0;O=m+32|0;do if((_|0)!=(m|0)){if(v=A[_+32>>2]|0,!v)return O=1,O|0;for(k=v;;){if((k|0)==(m|0)){k=8;break}if(v=A[k+32>>2]|0,v)_=k,k=v;else{v=1,k=10;break}}if((k|0)==8){A[_+32>>2]=A[O>>2];break}else if((k|0)==10)return v|0}else A[v>>2]=A[O>>2];while(0);return Bn(m),O=h+8|0,A[O>>2]=(A[O>>2]|0)+-1,O=0,O|0}function nf(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;O=Ti(40)|0,O||wn(23283,23253,98,23296),A[O>>2]=A[m>>2],A[O+4>>2]=A[m+4>>2],A[O+8>>2]=A[m+8>>2],A[O+12>>2]=A[m+12>>2],k=O+16|0,A[k>>2]=A[v>>2],A[k+4>>2]=A[v+4>>2],A[k+8>>2]=A[v+8>>2],A[k+12>>2]=A[v+12>>2],A[O+32>>2]=0,k=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=(A[h>>2]|0)+(k<<2)|0,_=A[k>>2]|0;do if(!_)A[k>>2]=O;else{for(;!(Vs(_,m)|0&&Vs(_+16|0,v)|0);)if(k=A[_+32>>2]|0,_=k|0?k:_,!(A[_+32>>2]|0)){I=10;break}if((I|0)==10){A[_+32>>2]=O;break}return Bn(O),I=_,I|0}while(0);return I=h+8|0,A[I>>2]=(A[I>>2]|0)+1,I=O,I|0}function hs(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0;if(k=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,k=A[(A[h>>2]|0)+(k<<2)>>2]|0,!k)return v=0,v|0;if(!v){for(h=k;;){if(Vs(h,m)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}if((_|0)==10)return h|0}for(h=k;;){if(Vs(h,m)|0&&Vs(h+16|0,v)|0){_=10;break}if(h=A[h+32>>2]|0,!h){h=0,_=10;break}}return(_|0)==10?h|0:0}function Vp(h,m){h=h|0,m=m|0;var v=0;if(v=~~(+ct(+(+bt(10,+ +(15-(A[h+12>>2]|0)|0))*(+ye[m>>3]+ +ye[m+8>>3])))%+(A[h+4>>2]|0))>>>0,h=A[(A[h>>2]|0)+(v<<2)>>2]|0,!h)return v=0,v|0;for(;;){if(Vs(h,m)|0){m=5;break}if(h=A[h+32>>2]|0,!h){h=0,m=5;break}}return(m|0)==5?h|0:0}function rr(){return 23312}function Wn(h){return h=+h,+ +Hp(+h)}function ha(h){return h=+h,~~+Wn(h)|0}function Ti(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0,Et=0,Nt=0,cn=0,gt=0,Rt=0,Xe=0,_n=0;_n=Re,Re=Re+16|0,Ze=_n;do if(h>>>0<245){if(ie=h>>>0<11?16:h+11&-8,h=ie>>>3,Fe=A[5829]|0,v=Fe>>>h,v&3|0)return m=(v&1^1)+h|0,h=23356+(m<<1<<2)|0,v=h+8|0,_=A[v>>2]|0,k=_+8|0,O=A[k>>2]|0,(O|0)==(h|0)?A[5829]=Fe&~(1<<m):(A[O+12>>2]=h,A[v>>2]=O),Xe=m<<3,A[_+4>>2]=Xe|3,Xe=_+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1,Xe=k,Re=_n,Xe|0;if(ce=A[5831]|0,ie>>>0>ce>>>0){if(v|0)return m=2<<h,m=v<<h&(m|0-m),m=(m&0-m)+-1|0,N=m>>>12&16,m=m>>>N,v=m>>>5&8,m=m>>>v,O=m>>>2&4,m=m>>>O,h=m>>>1&2,m=m>>>h,_=m>>>1&1,_=(v|N|O|h|_)+(m>>>_)|0,m=23356+(_<<1<<2)|0,h=m+8|0,O=A[h>>2]|0,N=O+8|0,v=A[N>>2]|0,(v|0)==(m|0)?(h=Fe&~(1<<_),A[5829]=h):(A[v+12>>2]=m,A[h>>2]=v,h=Fe),Xe=_<<3,I=Xe-ie|0,A[O+4>>2]=ie|3,k=O+ie|0,A[k+4>>2]=I|1,A[O+Xe>>2]=I,ce|0&&(_=A[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=I,A[5834]=k,Xe=N,Re=_n,Xe|0;if(O=A[5830]|0,O){for(v=(O&0-O)+-1|0,k=v>>>12&16,v=v>>>k,_=v>>>5&8,v=v>>>_,I=v>>>2&4,v=v>>>I,N=v>>>1&2,v=v>>>N,Q=v>>>1&1,Q=A[23620+((_|k|I|N|Q)+(v>>>Q)<<2)>>2]|0,v=Q,N=Q,Q=(A[Q+4>>2]&-8)-ie|0;h=A[v+16>>2]|0,!(!h&&(h=A[v+20>>2]|0,!h));)I=(A[h+4>>2]&-8)-ie|0,k=I>>>0<Q>>>0,v=h,N=k?h:N,Q=k?I:Q;if(I=N+ie|0,I>>>0>N>>>0){k=A[N+24>>2]|0,m=A[N+12>>2]|0;do if((m|0)==(N|0)){if(h=N+20|0,m=A[h>>2]|0,!m&&(h=N+16|0,m=A[h>>2]|0,!m)){v=0;break}for(;;)if(_=m+20|0,v=A[_>>2]|0,v)m=v,h=_;else if(_=m+16|0,v=A[_>>2]|0,v)m=v,h=_;else break;A[h>>2]=0,v=m}else v=A[N+8>>2]|0,A[v+12>>2]=m,A[m+8>>2]=v,v=m;while(0);do if(k|0){if(m=A[N+28>>2]|0,h=23620+(m<<2)|0,(N|0)==(A[h>>2]|0)){if(A[h>>2]=v,!v){A[5830]=O&~(1<<m);break}}else if(Xe=k+16|0,A[((A[Xe>>2]|0)==(N|0)?Xe:k+20|0)>>2]=v,!v)break;A[v+24>>2]=k,m=A[N+16>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),m=A[N+20>>2]|0,m|0&&(A[v+20>>2]=m,A[m+24>>2]=v)}while(0);return Q>>>0<16?(Xe=Q+ie|0,A[N+4>>2]=Xe|3,Xe=N+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1):(A[N+4>>2]=ie|3,A[I+4>>2]=Q|1,A[I+Q>>2]=Q,ce|0&&(_=A[5834]|0,m=ce>>>3,v=23356+(m<<1<<2)|0,m=1<<m,m&Fe?(h=v+8|0,m=A[h>>2]|0):(A[5829]=m|Fe,m=v,h=v+8|0),A[h>>2]=_,A[m+12>>2]=_,A[_+8>>2]=m,A[_+12>>2]=v),A[5831]=Q,A[5834]=I),Xe=N+8|0,Re=_n,Xe|0}else Fe=ie}else Fe=ie}else Fe=ie}else if(h>>>0<=4294967231)if(h=h+11|0,ie=h&-8,_=A[5830]|0,_){k=0-ie|0,h=h>>>8,h?ie>>>0>16777215?Q=31:(Fe=(h+1048320|0)>>>16&8,Et=h<<Fe,N=(Et+520192|0)>>>16&4,Et=Et<<N,Q=(Et+245760|0)>>>16&2,Q=14-(N|Fe|Q)+(Et<<Q>>>15)|0,Q=ie>>>(Q+7|0)&1|Q<<1):Q=0,v=A[23620+(Q<<2)>>2]|0;e:do if(!v)v=0,h=0,Et=61;else for(h=0,N=ie<<((Q|0)==31?0:25-(Q>>>1)|0),O=0;;){if(I=(A[v+4>>2]&-8)-ie|0,I>>>0<k>>>0)if(I)h=v,k=I;else{h=v,k=0,Et=65;break e}if(Et=A[v+20>>2]|0,v=A[v+16+(N>>>31<<2)>>2]|0,O=(Et|0)==0|(Et|0)==(v|0)?O:Et,v)N=N<<1;else{v=O,Et=61;break}}while(0);if((Et|0)==61){if((v|0)==0&(h|0)==0){if(h=2<<Q,h=(h|0-h)&_,!h){Fe=ie;break}Fe=(h&0-h)+-1|0,I=Fe>>>12&16,Fe=Fe>>>I,O=Fe>>>5&8,Fe=Fe>>>O,N=Fe>>>2&4,Fe=Fe>>>N,Q=Fe>>>1&2,Fe=Fe>>>Q,v=Fe>>>1&1,h=0,v=A[23620+((O|I|N|Q|v)+(Fe>>>v)<<2)>>2]|0}v?Et=65:(N=h,I=k)}if((Et|0)==65)for(O=v;;)if(Fe=(A[O+4>>2]&-8)-ie|0,v=Fe>>>0<k>>>0,k=v?Fe:k,h=v?O:h,v=A[O+16>>2]|0,v||(v=A[O+20>>2]|0),v)O=v;else{N=h,I=k;break}if(N|0&&I>>>0<((A[5831]|0)-ie|0)>>>0&&(ce=N+ie|0,ce>>>0>N>>>0)){O=A[N+24>>2]|0,m=A[N+12>>2]|0;do if((m|0)==(N|0)){if(h=N+20|0,m=A[h>>2]|0,!m&&(h=N+16|0,m=A[h>>2]|0,!m)){m=0;break}for(;;)if(k=m+20|0,v=A[k>>2]|0,v)m=v,h=k;else if(k=m+16|0,v=A[k>>2]|0,v)m=v,h=k;else break;A[h>>2]=0}else Xe=A[N+8>>2]|0,A[Xe+12>>2]=m,A[m+8>>2]=Xe;while(0);do if(O){if(h=A[N+28>>2]|0,v=23620+(h<<2)|0,(N|0)==(A[v>>2]|0)){if(A[v>>2]=m,!m){_=_&~(1<<h),A[5830]=_;break}}else if(Xe=O+16|0,A[((A[Xe>>2]|0)==(N|0)?Xe:O+20|0)>>2]=m,!m)break;A[m+24>>2]=O,h=A[N+16>>2]|0,h|0&&(A[m+16>>2]=h,A[h+24>>2]=m),h=A[N+20>>2]|0,h&&(A[m+20>>2]=h,A[h+24>>2]=m)}while(0);e:do if(I>>>0<16)Xe=I+ie|0,A[N+4>>2]=Xe|3,Xe=N+Xe+4|0,A[Xe>>2]=A[Xe>>2]|1;else{if(A[N+4>>2]=ie|3,A[ce+4>>2]=I|1,A[ce+I>>2]=I,m=I>>>3,I>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=ce,A[m+12>>2]=ce,A[ce+8>>2]=m,A[ce+12>>2]=v;break}if(m=I>>>8,m?I>>>0>16777215?v=31:(Rt=(m+1048320|0)>>>16&8,Xe=m<<Rt,gt=(Xe+520192|0)>>>16&4,Xe=Xe<<gt,v=(Xe+245760|0)>>>16&2,v=14-(gt|Rt|v)+(Xe<<v>>>15)|0,v=I>>>(v+7|0)&1|v<<1):v=0,m=23620+(v<<2)|0,A[ce+28>>2]=v,h=ce+16|0,A[h+4>>2]=0,A[h>>2]=0,h=1<<v,!(_&h)){A[5830]=_|h,A[m>>2]=ce,A[ce+24>>2]=m,A[ce+12>>2]=ce,A[ce+8>>2]=ce;break}m=A[m>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(I|0)){for(_=I<<((v|0)==31?0:25-(v>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(I|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=ce,A[ce+24>>2]=m,A[ce+12>>2]=ce,A[ce+8>>2]=ce;break e}while(0);Rt=m+8|0,Xe=A[Rt>>2]|0,A[Xe+12>>2]=ce,A[Rt>>2]=ce,A[ce+8>>2]=Xe,A[ce+12>>2]=m,A[ce+24>>2]=0}while(0);return Xe=N+8|0,Re=_n,Xe|0}else Fe=ie}else Fe=ie;else Fe=-1;while(0);if(v=A[5831]|0,v>>>0>=Fe>>>0)return m=v-Fe|0,h=A[5834]|0,m>>>0>15?(Xe=h+Fe|0,A[5834]=Xe,A[5831]=m,A[Xe+4>>2]=m|1,A[h+v>>2]=m,A[h+4>>2]=Fe|3):(A[5831]=0,A[5834]=0,A[h+4>>2]=v|3,Xe=h+v+4|0,A[Xe>>2]=A[Xe>>2]|1),Xe=h+8|0,Re=_n,Xe|0;if(I=A[5832]|0,I>>>0>Fe>>>0)return gt=I-Fe|0,A[5832]=gt,Xe=A[5835]|0,Rt=Xe+Fe|0,A[5835]=Rt,A[Rt+4>>2]=gt|1,A[Xe+4>>2]=Fe|3,Xe=Xe+8|0,Re=_n,Xe|0;if(A[5947]|0?h=A[5949]|0:(A[5949]=4096,A[5948]=4096,A[5950]=-1,A[5951]=-1,A[5952]=0,A[5940]=0,A[5947]=Ze&-16^1431655768,h=4096),N=Fe+48|0,Q=Fe+47|0,O=h+Q|0,k=0-h|0,ie=O&k,ie>>>0<=Fe>>>0||(h=A[5939]|0,h|0&&(ce=A[5937]|0,Ze=ce+ie|0,Ze>>>0<=ce>>>0|Ze>>>0>h>>>0)))return Xe=0,Re=_n,Xe|0;e:do if(A[5940]&4)m=0,Et=143;else{v=A[5835]|0;t:do if(v){for(_=23764;Ze=A[_>>2]|0,!(Ze>>>0<=v>>>0&&(Ze+(A[_+4>>2]|0)|0)>>>0>v>>>0);)if(h=A[_+8>>2]|0,h)_=h;else{Et=128;break t}if(m=O-I&k,m>>>0<2147483647)if(h=ta(m|0)|0,(h|0)==((A[_>>2]|0)+(A[_+4>>2]|0)|0)){if((h|0)!=-1){I=m,O=h,Et=145;break e}}else _=h,Et=136;else m=0}else Et=128;while(0);do if((Et|0)==128)if(v=ta(0)|0,(v|0)!=-1&&(m=v,at=A[5948]|0,wt=at+-1|0,m=(wt&m|0?(wt+m&0-at)-m|0:0)+ie|0,at=A[5937]|0,wt=m+at|0,m>>>0>Fe>>>0&m>>>0<2147483647)){if(Ze=A[5939]|0,Ze|0&&wt>>>0<=at>>>0|wt>>>0>Ze>>>0){m=0;break}if(h=ta(m|0)|0,(h|0)==(v|0)){I=m,O=v,Et=145;break e}else _=h,Et=136}else m=0;while(0);do if((Et|0)==136){if(v=0-m|0,!(N>>>0>m>>>0&(m>>>0<2147483647&(_|0)!=-1)))if((_|0)==-1){m=0;break}else{I=m,O=_,Et=145;break e}if(h=A[5949]|0,h=Q-m+h&0-h,h>>>0>=2147483647){I=m,O=_,Et=145;break e}if((ta(h|0)|0)==-1){ta(v|0)|0,m=0;break}else{I=h+m|0,O=_,Et=145;break e}}while(0);A[5940]=A[5940]|4,Et=143}while(0);if((Et|0)==143&&ie>>>0<2147483647&&(gt=ta(ie|0)|0,wt=ta(0)|0,Nt=wt-gt|0,cn=Nt>>>0>(Fe+40|0)>>>0,!((gt|0)==-1|cn^1|gt>>>0<wt>>>0&((gt|0)!=-1&(wt|0)!=-1)^1))&&(I=cn?Nt:m,O=gt,Et=145),(Et|0)==145){m=(A[5937]|0)+I|0,A[5937]=m,m>>>0>(A[5938]|0)>>>0&&(A[5938]=m),Q=A[5835]|0;e:do if(Q){for(m=23764;;){if(h=A[m>>2]|0,v=A[m+4>>2]|0,(O|0)==(h+v|0)){Et=154;break}if(_=A[m+8>>2]|0,_)m=_;else break}if((Et|0)==154&&(Rt=m+4|0,(A[m+12>>2]&8|0)==0)&&O>>>0>Q>>>0&h>>>0<=Q>>>0){A[Rt>>2]=v+I,Xe=(A[5832]|0)+I|0,gt=Q+8|0,gt=gt&7|0?0-gt&7:0,Rt=Q+gt|0,gt=Xe-gt|0,A[5835]=Rt,A[5832]=gt,A[Rt+4>>2]=gt|1,A[Q+Xe+4>>2]=40,A[5836]=A[5951];break}for(O>>>0<(A[5833]|0)>>>0&&(A[5833]=O),v=O+I|0,m=23764;;){if((A[m>>2]|0)==(v|0)){Et=162;break}if(h=A[m+8>>2]|0,h)m=h;else break}if((Et|0)==162&&!(A[m+12>>2]&8|0)){A[m>>2]=O,ce=m+4|0,A[ce>>2]=(A[ce>>2]|0)+I,ce=O+8|0,ce=O+(ce&7|0?0-ce&7:0)|0,m=v+8|0,m=v+(m&7|0?0-m&7:0)|0,ie=ce+Fe|0,N=m-ce-Fe|0,A[ce+4>>2]=Fe|3;t:do if((Q|0)==(m|0))Xe=(A[5832]|0)+N|0,A[5832]=Xe,A[5835]=ie,A[ie+4>>2]=Xe|1;else{if((A[5834]|0)==(m|0)){Xe=(A[5831]|0)+N|0,A[5831]=Xe,A[5834]=ie,A[ie+4>>2]=Xe|1,A[ie+Xe>>2]=Xe;break}if(h=A[m+4>>2]|0,(h&3|0)==1){I=h&-8,_=h>>>3;n:do if(h>>>0<256)if(h=A[m+8>>2]|0,v=A[m+12>>2]|0,(v|0)==(h|0)){A[5829]=A[5829]&~(1<<_);break}else{A[h+12>>2]=v,A[v+8>>2]=h;break}else{O=A[m+24>>2]|0,h=A[m+12>>2]|0;do if((h|0)==(m|0)){if(v=m+16|0,_=v+4|0,h=A[_>>2]|0,h)v=_;else if(h=A[v>>2]|0,!h){h=0;break}for(;;)if(k=h+20|0,_=A[k>>2]|0,_)h=_,v=k;else if(k=h+16|0,_=A[k>>2]|0,_)h=_,v=k;else break;A[v>>2]=0}else Xe=A[m+8>>2]|0,A[Xe+12>>2]=h,A[h+8>>2]=Xe;while(0);if(!O)break;v=A[m+28>>2]|0,_=23620+(v<<2)|0;do if((A[_>>2]|0)!=(m|0)){if(Xe=O+16|0,A[((A[Xe>>2]|0)==(m|0)?Xe:O+20|0)>>2]=h,!h)break n}else{if(A[_>>2]=h,h|0)break;A[5830]=A[5830]&~(1<<v);break n}while(0);if(A[h+24>>2]=O,v=m+16|0,_=A[v>>2]|0,_|0&&(A[h+16>>2]=_,A[_+24>>2]=h),v=A[v+4>>2]|0,!v)break;A[h+20>>2]=v,A[v+24>>2]=h}while(0);m=m+I|0,k=I+N|0}else k=N;if(m=m+4|0,A[m>>2]=A[m>>2]&-2,A[ie+4>>2]=k|1,A[ie+k>>2]=k,m=k>>>3,k>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=ie,A[m+12>>2]=ie,A[ie+8>>2]=m,A[ie+12>>2]=v;break}m=k>>>8;do if(!m)_=0;else{if(k>>>0>16777215){_=31;break}Rt=(m+1048320|0)>>>16&8,Xe=m<<Rt,gt=(Xe+520192|0)>>>16&4,Xe=Xe<<gt,_=(Xe+245760|0)>>>16&2,_=14-(gt|Rt|_)+(Xe<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1}while(0);if(m=23620+(_<<2)|0,A[ie+28>>2]=_,h=ie+16|0,A[h+4>>2]=0,A[h>>2]=0,h=A[5830]|0,v=1<<_,!(h&v)){A[5830]=h|v,A[m>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break}m=A[m>>2]|0;n:do if((A[m+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(k|0)){m=h;break n}else _=_<<1,m=h;A[v>>2]=ie,A[ie+24>>2]=m,A[ie+12>>2]=ie,A[ie+8>>2]=ie;break t}while(0);Rt=m+8|0,Xe=A[Rt>>2]|0,A[Xe+12>>2]=ie,A[Rt>>2]=ie,A[ie+8>>2]=Xe,A[ie+12>>2]=m,A[ie+24>>2]=0}while(0);return Xe=ce+8|0,Re=_n,Xe|0}for(m=23764;h=A[m>>2]|0,!(h>>>0<=Q>>>0&&(Xe=h+(A[m+4>>2]|0)|0,Xe>>>0>Q>>>0));)m=A[m+8>>2]|0;k=Xe+-47|0,h=k+8|0,h=k+(h&7|0?0-h&7:0)|0,k=Q+16|0,h=h>>>0<k>>>0?Q:h,m=h+8|0,v=I+-40|0,gt=O+8|0,gt=gt&7|0?0-gt&7:0,Rt=O+gt|0,gt=v-gt|0,A[5835]=Rt,A[5832]=gt,A[Rt+4>>2]=gt|1,A[O+v+4>>2]=40,A[5836]=A[5951],v=h+4|0,A[v>>2]=27,A[m>>2]=A[5941],A[m+4>>2]=A[5942],A[m+8>>2]=A[5943],A[m+12>>2]=A[5944],A[5941]=O,A[5942]=I,A[5944]=0,A[5943]=m,m=h+24|0;do Rt=m,m=m+4|0,A[m>>2]=7;while((Rt+8|0)>>>0<Xe>>>0);if((h|0)!=(Q|0)){if(O=h-Q|0,A[v>>2]=A[v>>2]&-2,A[Q+4>>2]=O|1,A[h>>2]=O,m=O>>>3,O>>>0<256){v=23356+(m<<1<<2)|0,h=A[5829]|0,m=1<<m,h&m?(h=v+8|0,m=A[h>>2]|0):(A[5829]=h|m,m=v,h=v+8|0),A[h>>2]=Q,A[m+12>>2]=Q,A[Q+8>>2]=m,A[Q+12>>2]=v;break}if(m=O>>>8,m?O>>>0>16777215?_=31:(Rt=(m+1048320|0)>>>16&8,Xe=m<<Rt,gt=(Xe+520192|0)>>>16&4,Xe=Xe<<gt,_=(Xe+245760|0)>>>16&2,_=14-(gt|Rt|_)+(Xe<<_>>>15)|0,_=O>>>(_+7|0)&1|_<<1):_=0,v=23620+(_<<2)|0,A[Q+28>>2]=_,A[Q+20>>2]=0,A[k>>2]=0,m=A[5830]|0,h=1<<_,!(m&h)){A[5830]=m|h,A[v>>2]=Q,A[Q+24>>2]=v,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break}m=A[v>>2]|0;t:do if((A[m+4>>2]&-8|0)!=(O|0)){for(_=O<<((_|0)==31?0:25-(_>>>1)|0);v=m+16+(_>>>31<<2)|0,h=A[v>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(O|0)){m=h;break t}else _=_<<1,m=h;A[v>>2]=Q,A[Q+24>>2]=m,A[Q+12>>2]=Q,A[Q+8>>2]=Q;break e}while(0);Rt=m+8|0,Xe=A[Rt>>2]|0,A[Xe+12>>2]=Q,A[Rt>>2]=Q,A[Q+8>>2]=Xe,A[Q+12>>2]=m,A[Q+24>>2]=0}}else Xe=A[5833]|0,(Xe|0)==0|O>>>0<Xe>>>0&&(A[5833]=O),A[5941]=O,A[5942]=I,A[5944]=0,A[5838]=A[5947],A[5837]=-1,A[5842]=23356,A[5841]=23356,A[5844]=23364,A[5843]=23364,A[5846]=23372,A[5845]=23372,A[5848]=23380,A[5847]=23380,A[5850]=23388,A[5849]=23388,A[5852]=23396,A[5851]=23396,A[5854]=23404,A[5853]=23404,A[5856]=23412,A[5855]=23412,A[5858]=23420,A[5857]=23420,A[5860]=23428,A[5859]=23428,A[5862]=23436,A[5861]=23436,A[5864]=23444,A[5863]=23444,A[5866]=23452,A[5865]=23452,A[5868]=23460,A[5867]=23460,A[5870]=23468,A[5869]=23468,A[5872]=23476,A[5871]=23476,A[5874]=23484,A[5873]=23484,A[5876]=23492,A[5875]=23492,A[5878]=23500,A[5877]=23500,A[5880]=23508,A[5879]=23508,A[5882]=23516,A[5881]=23516,A[5884]=23524,A[5883]=23524,A[5886]=23532,A[5885]=23532,A[5888]=23540,A[5887]=23540,A[5890]=23548,A[5889]=23548,A[5892]=23556,A[5891]=23556,A[5894]=23564,A[5893]=23564,A[5896]=23572,A[5895]=23572,A[5898]=23580,A[5897]=23580,A[5900]=23588,A[5899]=23588,A[5902]=23596,A[5901]=23596,A[5904]=23604,A[5903]=23604,Xe=I+-40|0,gt=O+8|0,gt=gt&7|0?0-gt&7:0,Rt=O+gt|0,gt=Xe-gt|0,A[5835]=Rt,A[5832]=gt,A[Rt+4>>2]=gt|1,A[O+Xe+4>>2]=40,A[5836]=A[5951];while(0);if(m=A[5832]|0,m>>>0>Fe>>>0)return gt=m-Fe|0,A[5832]=gt,Xe=A[5835]|0,Rt=Xe+Fe|0,A[5835]=Rt,A[Rt+4>>2]=gt|1,A[Xe+4>>2]=Fe|3,Xe=Xe+8|0,Re=_n,Xe|0}return Xe=rr()|0,A[Xe>>2]=12,Xe=0,Re=_n,Xe|0}function Bn(h){h=h|0;var m=0,v=0,_=0,k=0,O=0,I=0,N=0,Q=0;if(!h)return;v=h+-8|0,k=A[5833]|0,h=A[h+-4>>2]|0,m=h&-8,Q=v+m|0;do if(h&1)N=v,I=v;else{if(_=A[v>>2]|0,!(h&3)||(I=v+(0-_)|0,O=_+m|0,I>>>0<k>>>0))return;if((A[5834]|0)==(I|0)){if(h=Q+4|0,m=A[h>>2]|0,(m&3|0)!=3){N=I,m=O;break}A[5831]=O,A[h>>2]=m&-2,A[I+4>>2]=O|1,A[I+O>>2]=O;return}if(v=_>>>3,_>>>0<256)if(h=A[I+8>>2]|0,m=A[I+12>>2]|0,(m|0)==(h|0)){A[5829]=A[5829]&~(1<<v),N=I,m=O;break}else{A[h+12>>2]=m,A[m+8>>2]=h,N=I,m=O;break}k=A[I+24>>2]|0,h=A[I+12>>2]|0;do if((h|0)==(I|0)){if(m=I+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){h=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0}else N=A[I+8>>2]|0,A[N+12>>2]=h,A[h+8>>2]=N;while(0);if(k){if(m=A[I+28>>2]|0,v=23620+(m<<2)|0,(A[v>>2]|0)==(I|0)){if(A[v>>2]=h,!h){A[5830]=A[5830]&~(1<<m),N=I,m=O;break}}else if(N=k+16|0,A[((A[N>>2]|0)==(I|0)?N:k+20|0)>>2]=h,!h){N=I,m=O;break}A[h+24>>2]=k,m=I+16|0,v=A[m>>2]|0,v|0&&(A[h+16>>2]=v,A[v+24>>2]=h),m=A[m+4>>2]|0,m?(A[h+20>>2]=m,A[m+24>>2]=h,N=I,m=O):(N=I,m=O)}else N=I,m=O}while(0);if(I>>>0>=Q>>>0||(h=Q+4|0,_=A[h>>2]|0,!(_&1)))return;if(_&2)A[h>>2]=_&-2,A[N+4>>2]=m|1,A[I+m>>2]=m,k=m;else{if((A[5835]|0)==(Q|0)){if(Q=(A[5832]|0)+m|0,A[5832]=Q,A[5835]=N,A[N+4>>2]=Q|1,(N|0)!=(A[5834]|0))return;A[5834]=0,A[5831]=0;return}if((A[5834]|0)==(Q|0)){Q=(A[5831]|0)+m|0,A[5831]=Q,A[5834]=I,A[N+4>>2]=Q|1,A[I+Q>>2]=Q;return}k=(_&-8)+m|0,v=_>>>3;do if(_>>>0<256)if(m=A[Q+8>>2]|0,h=A[Q+12>>2]|0,(h|0)==(m|0)){A[5829]=A[5829]&~(1<<v);break}else{A[m+12>>2]=h,A[h+8>>2]=m;break}else{O=A[Q+24>>2]|0,h=A[Q+12>>2]|0;do if((h|0)==(Q|0)){if(m=Q+16|0,v=m+4|0,h=A[v>>2]|0,h)m=v;else if(h=A[m>>2]|0,!h){v=0;break}for(;;)if(_=h+20|0,v=A[_>>2]|0,v)h=v,m=_;else if(_=h+16|0,v=A[_>>2]|0,v)h=v,m=_;else break;A[m>>2]=0,v=h}else v=A[Q+8>>2]|0,A[v+12>>2]=h,A[h+8>>2]=v,v=h;while(0);if(O|0){if(h=A[Q+28>>2]|0,m=23620+(h<<2)|0,(A[m>>2]|0)==(Q|0)){if(A[m>>2]=v,!v){A[5830]=A[5830]&~(1<<h);break}}else if(_=O+16|0,A[((A[_>>2]|0)==(Q|0)?_:O+20|0)>>2]=v,!v)break;A[v+24>>2]=O,h=Q+16|0,m=A[h>>2]|0,m|0&&(A[v+16>>2]=m,A[m+24>>2]=v),h=A[h+4>>2]|0,h|0&&(A[v+20>>2]=h,A[h+24>>2]=v)}}while(0);if(A[N+4>>2]=k|1,A[I+k>>2]=k,(N|0)==(A[5834]|0)){A[5831]=k;return}}if(h=k>>>3,k>>>0<256){v=23356+(h<<1<<2)|0,m=A[5829]|0,h=1<<h,m&h?(m=v+8|0,h=A[m>>2]|0):(A[5829]=m|h,h=v,m=v+8|0),A[m>>2]=N,A[h+12>>2]=N,A[N+8>>2]=h,A[N+12>>2]=v;return}h=k>>>8,h?k>>>0>16777215?_=31:(I=(h+1048320|0)>>>16&8,Q=h<<I,O=(Q+520192|0)>>>16&4,Q=Q<<O,_=(Q+245760|0)>>>16&2,_=14-(O|I|_)+(Q<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,h=23620+(_<<2)|0,A[N+28>>2]=_,A[N+20>>2]=0,A[N+16>>2]=0,m=A[5830]|0,v=1<<_;e:do if(!(m&v))A[5830]=m|v,A[h>>2]=N,A[N+24>>2]=h,A[N+12>>2]=N,A[N+8>>2]=N;else{h=A[h>>2]|0;t:do if((A[h+4>>2]&-8|0)!=(k|0)){for(_=k<<((_|0)==31?0:25-(_>>>1)|0);v=h+16+(_>>>31<<2)|0,m=A[v>>2]|0,!!m;)if((A[m+4>>2]&-8|0)==(k|0)){h=m;break t}else _=_<<1,h=m;A[v>>2]=N,A[N+24>>2]=h,A[N+12>>2]=N,A[N+8>>2]=N;break e}while(0);I=h+8|0,Q=A[I>>2]|0,A[Q+12>>2]=N,A[I>>2]=N,A[N+8>>2]=Q,A[N+12>>2]=h,A[N+24>>2]=0}while(0);if(Q=(A[5837]|0)+-1|0,A[5837]=Q,!(Q|0)){for(h=23772;h=A[h>>2]|0,h;)h=h+8|0;A[5837]=-1}}function Bo(h,m){h=h|0,m=m|0;var v=0;return h?(v=vr(m,h)|0,(m|h)>>>0>65535&&(v=((v>>>0)/(h>>>0)|0|0)==(m|0)?v:-1)):v=0,h=Ti(v)|0,!h||!(A[h+-4>>2]&3)||ji(h|0,0,v|0)|0,h|0}function Ha(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,v=h+v>>>0,Xt(m+_+(v>>>0<h>>>0|0)>>>0|0),v|0|0}function Jo(h,m,v,_){return h=h|0,m=m|0,v=v|0,_=_|0,_=m-_-(v>>>0>h>>>0|0)>>>0,Xt(_|0),h-v>>>0|0|0}function ea(h){return h=h|0,(h?31-(Sr(h^h-1)|0)|0:32)|0}function qa(h,m,v,_,k){h=h|0,m=m|0,v=v|0,_=_|0,k=k|0;var O=0,I=0,N=0,Q=0,ie=0,ce=0,Fe=0,Ze=0,at=0,wt=0;if(ce=h,Q=m,ie=Q,I=v,Ze=_,N=Ze,!ie)return O=(k|0)!=0,N?O?(A[k>>2]=h|0,A[k+4>>2]=m&0,Ze=0,k=0,Xt(Ze|0),k|0):(Ze=0,k=0,Xt(Ze|0),k|0):(O&&(A[k>>2]=(ce>>>0)%(I>>>0),A[k+4>>2]=0),Ze=0,k=(ce>>>0)/(I>>>0)>>>0,Xt(Ze|0),k|0);O=(N|0)==0;do if(I){if(!O){if(O=(Sr(N|0)|0)-(Sr(ie|0)|0)|0,O>>>0<=31){Fe=O+1|0,N=31-O|0,m=O-31>>31,I=Fe,h=ce>>>(Fe>>>0)&m|ie<<N,m=ie>>>(Fe>>>0)&m,O=0,N=ce<<N;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,Ze=0,k=0,Xt(Ze|0),k|0):(Ze=0,k=0,Xt(Ze|0),k|0)}if(O=I-1|0,O&I|0){N=(Sr(I|0)|0)+33-(Sr(ie|0)|0)|0,wt=64-N|0,Fe=32-N|0,Q=Fe>>31,at=N-32|0,m=at>>31,I=N,h=Fe-1>>31&ie>>>(at>>>0)|(ie<<Fe|ce>>>(N>>>0))&m,m=m&ie>>>(N>>>0),O=ce<<wt&Q,N=(ie<<wt|ce>>>(at>>>0))&Q|ce<<Fe&N-33>>31;break}return k|0&&(A[k>>2]=O&ce,A[k+4>>2]=0),(I|0)==1?(at=Q|m&0,wt=h|0|0,Xt(at|0),wt|0):(wt=ea(I|0)|0,at=ie>>>(wt>>>0)|0,wt=ie<<32-wt|ce>>>(wt>>>0)|0,Xt(at|0),wt|0)}else{if(O)return k|0&&(A[k>>2]=(ie>>>0)%(I>>>0),A[k+4>>2]=0),at=0,wt=(ie>>>0)/(I>>>0)>>>0,Xt(at|0),wt|0;if(!ce)return k|0&&(A[k>>2]=0,A[k+4>>2]=(ie>>>0)%(N>>>0)),at=0,wt=(ie>>>0)/(N>>>0)>>>0,Xt(at|0),wt|0;if(O=N-1|0,!(O&N))return k|0&&(A[k>>2]=h|0,A[k+4>>2]=O&ie|m&0),at=0,wt=ie>>>((ea(N|0)|0)>>>0),Xt(at|0),wt|0;if(O=(Sr(N|0)|0)-(Sr(ie|0)|0)|0,O>>>0<=30){m=O+1|0,N=31-O|0,I=m,h=ie<<N|ce>>>(m>>>0),m=ie>>>(m>>>0),O=0,N=ce<<N;break}return k?(A[k>>2]=h|0,A[k+4>>2]=Q|m&0,at=0,wt=0,Xt(at|0),wt|0):(at=0,wt=0,Xt(at|0),wt|0)}while(0);if(!I)ie=N,Q=0,N=0;else{Fe=v|0|0,ce=Ze|_&0,ie=Ha(Fe|0,ce|0,-1,-1)|0,v=Qe()|0,Q=N,N=0;do _=Q,Q=O>>>31|Q<<1,O=N|O<<1,_=h<<1|_>>>31|0,Ze=h>>>31|m<<1|0,Jo(ie|0,v|0,_|0,Ze|0)|0,wt=Qe()|0,at=wt>>31|((wt|0)<0?-1:0)<<1,N=at&1,h=Jo(_|0,Ze|0,at&Fe|0,(((wt|0)<0?-1:0)>>31|((wt|0)<0?-1:0)<<1)&ce|0)|0,m=Qe()|0,I=I-1|0;while(I|0);ie=Q,Q=0}return I=0,k|0&&(A[k>>2]=h,A[k+4>>2]=m),at=(O|0)>>>31|(ie|I)<<1|(I<<1|O>>>31)&0|Q,wt=(O<<1|0>>>31)&-2|N,Xt(at|0),wt|0}function Wt(h,m,v,_){h=h|0,m=m|0,v=v|0,_=_|0;var k=0,O=0;return O=Re,Re=Re+16|0,k=O|0,qa(h,m,v,_,k)|0,Re=O,Xt(A[k+4>>2]|0),A[k>>2]|0|0}function mt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Xt(m>>>v|0),h>>>v|(m&(1<<v)-1)<<32-v):(Xt(0),m>>>v-32|0)}function Yt(h,m,v){return h=h|0,m=m|0,v=v|0,(v|0)<32?(Xt(m<<v|(h&(1<<v)-1<<32-v)>>>32-v|0),h<<v):(Xt(h<<v-32|0),0)}function To(h,m){return h=+h,m=+m,h!=h?+m:m!=m?+h:+Ai(+h,+m)}function Ga(h){return h=+h,h>=0?+$t(h+.5):+lr(h-.5)}function zo(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0;if((v|0)>=8192)return oo(h|0,m|0,v|0)|0,h|0;if(O=h|0,k=h+v|0,(h&3)==(m&3)){for(;h&3;){if(!v)return O|0;We[h>>0]=We[m>>0]|0,h=h+1|0,m=m+1|0,v=v-1|0}for(v=k&-4|0,_=v-64|0;(h|0)<=(_|0);)A[h>>2]=A[m>>2],A[h+4>>2]=A[m+4>>2],A[h+8>>2]=A[m+8>>2],A[h+12>>2]=A[m+12>>2],A[h+16>>2]=A[m+16>>2],A[h+20>>2]=A[m+20>>2],A[h+24>>2]=A[m+24>>2],A[h+28>>2]=A[m+28>>2],A[h+32>>2]=A[m+32>>2],A[h+36>>2]=A[m+36>>2],A[h+40>>2]=A[m+40>>2],A[h+44>>2]=A[m+44>>2],A[h+48>>2]=A[m+48>>2],A[h+52>>2]=A[m+52>>2],A[h+56>>2]=A[m+56>>2],A[h+60>>2]=A[m+60>>2],h=h+64|0,m=m+64|0;for(;(h|0)<(v|0);)A[h>>2]=A[m>>2],h=h+4|0,m=m+4|0}else for(v=k-4|0;(h|0)<(v|0);)We[h>>0]=We[m>>0]|0,We[h+1>>0]=We[m+1>>0]|0,We[h+2>>0]=We[m+2>>0]|0,We[h+3>>0]=We[m+3>>0]|0,h=h+4|0,m=m+4|0;for(;(h|0)<(k|0);)We[h>>0]=We[m>>0]|0,h=h+1|0,m=m+1|0;return O|0}function ji(h,m,v){h=h|0,m=m|0,v=v|0;var _=0,k=0,O=0,I=0;if(O=h+v|0,m=m&255,(v|0)>=67){for(;h&3;)We[h>>0]=m,h=h+1|0;for(_=O&-4|0,I=m|m<<8|m<<16|m<<24,k=_-64|0;(h|0)<=(k|0);)A[h>>2]=I,A[h+4>>2]=I,A[h+8>>2]=I,A[h+12>>2]=I,A[h+16>>2]=I,A[h+20>>2]=I,A[h+24>>2]=I,A[h+28>>2]=I,A[h+32>>2]=I,A[h+36>>2]=I,A[h+40>>2]=I,A[h+44>>2]=I,A[h+48>>2]=I,A[h+52>>2]=I,A[h+56>>2]=I,A[h+60>>2]=I,h=h+64|0;for(;(h|0)<(_|0);)A[h>>2]=I,h=h+4|0}for(;(h|0)<(O|0);)We[h>>0]=m,h=h+1|0;return O-v|0}function Hp(h){return h=+h,h>=0?+$t(h+.5):+lr(h-.5)}function ta(h){h=h|0;var m=0,v=0,_=0;return _=zc()|0,v=A[Lt>>2]|0,m=v+h|0,(h|0)>0&(m|0)<(v|0)|(m|0)<0?(Nc(m|0)|0,al(12),-1):(m|0)>(_|0)&&!(Qo(m|0)|0)?(al(12),-1):(A[Lt>>2]=m,v|0)}return{___uremdi3:Wt,_bitshift64Lshr:mt,_bitshift64Shl:Yt,_calloc:Bo,_cellAreaKm2:Wc,_cellAreaM2:nc,_cellAreaRads2:Nl,_compact:rc,_destroyLinkedPolygon:Ul,_edgeLengthKm:Qc,_edgeLengthM:fl,_emscripten_replace_memory:ao,_exactEdgeLengthKm:Kc,_exactEdgeLengthM:zf,_exactEdgeLengthRads:qr,_experimentalH3ToLocalIj:Jc,_experimentalLocalIjToH3:Al,_free:Bn,_geoToH3:Up,_getDestinationH3IndexFromUnidirectionalEdge:xt,_getH3IndexesFromUnidirectionalEdge:er,_getH3UnidirectionalEdge:it,_getH3UnidirectionalEdgeBoundary:ni,_getH3UnidirectionalEdgesFromHexagon:Cr,_getOriginH3IndexFromUnidirectionalEdge:Tt,_getPentagonIndexes:mu,_getRes0Indexes:Yu,_h3Distance:jr,_h3GetBaseCell:Zc,_h3GetFaces:Uf,_h3GetResolution:ko,_h3IndexesAreNeighbors:Qs,_h3IsPentagon:Ui,_h3IsResClassIII:ic,_h3IsValid:hu,_h3Line:Po,_h3LineSize:ac,_h3SetToLinkedGeo:Fp,_h3ToCenterChild:Xc,_h3ToChildren:po,_h3ToGeo:fs,_h3ToGeoBoundary:Gs,_h3ToParent:pl,_h3UnidirectionalEdgeIsValid:qt,_hexAreaKm2:zl,_hexAreaM2:Np,_hexRing:ls,_i64Subtract:Jo,_kRing:Wo,_kRingDistances:ss,_llvm_minnum_f64:To,_llvm_round_f64:Ga,_malloc:Ti,_maxFaceCount:$p,_maxH3ToChildrenSize:Nf,_maxKringSize:Eo,_maxPolyfillSize:wi,_maxUncompactSize:hl,_memcpy:zo,_memset:ji,_numHexagons:tc,_pentagonIndexCount:Yc,_pointDistKm:ec,_pointDistM:cl,_pointDistRads:zp,_polyfill:Ni,_res0IndexCount:jc,_round:Hp,_sbrk:ta,_sizeOfCoordIJ:un,_sizeOfGeoBoundary:Ks,_sizeOfGeoCoord:Ws,_sizeOfGeoPolygon:yu,_sizeOfGeofence:Fo,_sizeOfH3Index:ja,_sizeOfLinkedGeoPolygon:Yo,_uncompact:Au,establishStackSpace:fa,stackAlloc:as,stackRestore:si,stackSave:ca}}(ua,La,qe);t.___uremdi3=Ht.___uremdi3,t._bitshift64Lshr=Ht._bitshift64Lshr,t._bitshift64Shl=Ht._bitshift64Shl,t._calloc=Ht._calloc,t._cellAreaKm2=Ht._cellAreaKm2,t._cellAreaM2=Ht._cellAreaM2,t._cellAreaRads2=Ht._cellAreaRads2,t._compact=Ht._compact,t._destroyLinkedPolygon=Ht._destroyLinkedPolygon,t._edgeLengthKm=Ht._edgeLengthKm,t._edgeLengthM=Ht._edgeLengthM;var Ei=t._emscripten_replace_memory=Ht._emscripten_replace_memory;t._exactEdgeLengthKm=Ht._exactEdgeLengthKm,t._exactEdgeLengthM=Ht._exactEdgeLengthM,t._exactEdgeLengthRads=Ht._exactEdgeLengthRads,t._experimentalH3ToLocalIj=Ht._experimentalH3ToLocalIj,t._experimentalLocalIjToH3=Ht._experimentalLocalIjToH3,t._free=Ht._free,t._geoToH3=Ht._geoToH3,t._getDestinationH3IndexFromUnidirectionalEdge=Ht._getDestinationH3IndexFromUnidirectionalEdge,t._getH3IndexesFromUnidirectionalEdge=Ht._getH3IndexesFromUnidirectionalEdge,t._getH3UnidirectionalEdge=Ht._getH3UnidirectionalEdge,t._getH3UnidirectionalEdgeBoundary=Ht._getH3UnidirectionalEdgeBoundary,t._getH3UnidirectionalEdgesFromHexagon=Ht._getH3UnidirectionalEdgesFromHexagon,t._getOriginH3IndexFromUnidirectionalEdge=Ht._getOriginH3IndexFromUnidirectionalEdge,t._getPentagonIndexes=Ht._getPentagonIndexes,t._getRes0Indexes=Ht._getRes0Indexes,t._h3Distance=Ht._h3Distance,t._h3GetBaseCell=Ht._h3GetBaseCell,t._h3GetFaces=Ht._h3GetFaces,t._h3GetResolution=Ht._h3GetResolution,t._h3IndexesAreNeighbors=Ht._h3IndexesAreNeighbors,t._h3IsPentagon=Ht._h3IsPentagon,t._h3IsResClassIII=Ht._h3IsResClassIII,t._h3IsValid=Ht._h3IsValid,t._h3Line=Ht._h3Line,t._h3LineSize=Ht._h3LineSize,t._h3SetToLinkedGeo=Ht._h3SetToLinkedGeo,t._h3ToCenterChild=Ht._h3ToCenterChild,t._h3ToChildren=Ht._h3ToChildren,t._h3ToGeo=Ht._h3ToGeo,t._h3ToGeoBoundary=Ht._h3ToGeoBoundary,t._h3ToParent=Ht._h3ToParent,t._h3UnidirectionalEdgeIsValid=Ht._h3UnidirectionalEdgeIsValid,t._hexAreaKm2=Ht._hexAreaKm2,t._hexAreaM2=Ht._hexAreaM2,t._hexRing=Ht._hexRing,t._i64Subtract=Ht._i64Subtract,t._kRing=Ht._kRing,t._kRingDistances=Ht._kRingDistances,t._llvm_minnum_f64=Ht._llvm_minnum_f64,t._llvm_round_f64=Ht._llvm_round_f64,t._malloc=Ht._malloc,t._maxFaceCount=Ht._maxFaceCount,t._maxH3ToChildrenSize=Ht._maxH3ToChildrenSize,t._maxKringSize=Ht._maxKringSize,t._maxPolyfillSize=Ht._maxPolyfillSize,t._maxUncompactSize=Ht._maxUncompactSize,t._memcpy=Ht._memcpy,t._memset=Ht._memset,t._numHexagons=Ht._numHexagons,t._pentagonIndexCount=Ht._pentagonIndexCount,t._pointDistKm=Ht._pointDistKm,t._pointDistM=Ht._pointDistM,t._pointDistRads=Ht._pointDistRads,t._polyfill=Ht._polyfill,t._res0IndexCount=Ht._res0IndexCount,t._round=Ht._round,t._sbrk=Ht._sbrk,t._sizeOfCoordIJ=Ht._sizeOfCoordIJ,t._sizeOfGeoBoundary=Ht._sizeOfGeoBoundary,t._sizeOfGeoCoord=Ht._sizeOfGeoCoord,t._sizeOfGeoPolygon=Ht._sizeOfGeoPolygon,t._sizeOfGeofence=Ht._sizeOfGeofence,t._sizeOfH3Index=Ht._sizeOfH3Index,t._sizeOfLinkedGeoPolygon=Ht._sizeOfLinkedGeoPolygon,t._uncompact=Ht._uncompact,t.establishStackSpace=Ht.establishStackSpace;var Ur=t.stackAlloc=Ht.stackAlloc,J=t.stackRestore=Ht.stackRestore,se=t.stackSave=Ht.stackSave;if(t.asm=Ht,t.cwrap=ne,t.setValue=U,t.getValue=q,t.getTempRet0=D,Kr){io(Kr)||(Kr=l(Kr));{Ss();var fe=function(ae){ae.byteLength&&(ae=new Uint8Array(ae)),At.set(ae,z),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,ro()},ve=function(){o(Kr,fe,function(){throw"could not load memory initializer "+Kr})},Ie=ei(Kr);if(Ie)fe(Ie.buffer);else if(t.memoryInitializerRequest){var Ue=function(){var ae=t.memoryInitializerRequest,Ve=ae.response;if(ae.status!==200&&ae.status!==0){var lt=ei(t.memoryInitializerRequestURL);if(lt)Ve=lt.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+ae.status+", retrying "+Kr),ve();return}}fe(Ve)};t.memoryInitializerRequest.response?setTimeout(Ue,0):t.memoryInitializerRequest.addEventListener("load",Ue)}else ve()}}var Ge;Wi=function ae(){Ge||Ne(),Ge||(Wi=ae)};function Ne(ae){if(Bi>0||(Cn(),Bi>0))return;function Ve(){Ge||(Ge=!0,!K&&($n(),Fn(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Yr()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Ve()},1)):Ve()}t.run=Ne;function xe(ae){throw t.onAbort&&t.onAbort(ae),ae+="",x(ae),S(ae),K=!0,"abort("+ae+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=xe,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ne(),e}(typeof zu=="object"?zu:{}),Yn="number",og=Yn,Ar=Yn,Rr=Yn,Cl=Yn,ui=Yn,gue=[["sizeOfH3Index",Yn],["sizeOfGeoCoord",Yn],["sizeOfGeoBoundary",Yn],["sizeOfGeoPolygon",Yn],["sizeOfGeofence",Yn],["sizeOfLinkedGeoPolygon",Yn],["sizeOfCoordIJ",Yn],["h3IsValid",og,[Ar,Rr]],["geoToH3",Ar,[Yn,Yn,Cl]],["h3ToGeo",null,[Ar,Rr,ui]],["h3ToGeoBoundary",null,[Ar,Rr,ui]],["maxKringSize",Yn,[Yn]],["kRing",null,[Ar,Rr,Yn,ui]],["kRingDistances",null,[Ar,Rr,Yn,ui,ui]],["hexRing",null,[Ar,Rr,Yn,ui]],["maxPolyfillSize",Yn,[ui,Cl]],["polyfill",null,[ui,Cl,ui]],["h3SetToLinkedGeo",null,[ui,Yn,ui]],["destroyLinkedPolygon",null,[ui]],["compact",Yn,[ui,ui,Yn]],["uncompact",Yn,[ui,Yn,ui,Yn,Cl]],["maxUncompactSize",Yn,[ui,Yn,Cl]],["h3IsPentagon",og,[Ar,Rr]],["h3IsResClassIII",og,[Ar,Rr]],["h3GetBaseCell",Yn,[Ar,Rr]],["h3GetResolution",Yn,[Ar,Rr]],["maxFaceCount",Yn,[Ar,Rr]],["h3GetFaces",null,[Ar,Rr,ui]],["h3ToParent",Ar,[Ar,Rr,Cl]],["h3ToChildren",null,[Ar,Rr,Cl,ui]],["h3ToCenterChild",Ar,[Ar,Rr,Cl]],["maxH3ToChildrenSize",Yn,[Ar,Rr,Cl]],["h3IndexesAreNeighbors",og,[Ar,Rr,Ar,Rr]],["getH3UnidirectionalEdge",Ar,[Ar,Rr,Ar,Rr]],["getOriginH3IndexFromUnidirectionalEdge",Ar,[Ar,Rr]],["getDestinationH3IndexFromUnidirectionalEdge",Ar,[Ar,Rr]],["h3UnidirectionalEdgeIsValid",og,[Ar,Rr]],["getH3IndexesFromUnidirectionalEdge",null,[Ar,Rr,ui]],["getH3UnidirectionalEdgesFromHexagon",null,[Ar,Rr,ui]],["getH3UnidirectionalEdgeBoundary",null,[Ar,Rr,ui]],["h3Distance",Yn,[Ar,Rr,Ar,Rr]],["h3Line",Yn,[Ar,Rr,Ar,Rr,ui]],["h3LineSize",Yn,[Ar,Rr,Ar,Rr]],["experimentalH3ToLocalIj",Yn,[Ar,Rr,Ar,Rr,ui]],["experimentalLocalIjToH3",Yn,[Ar,Rr,ui,ui]],["hexAreaM2",Yn,[Cl]],["hexAreaKm2",Yn,[Cl]],["edgeLengthM",Yn,[Cl]],["edgeLengthKm",Yn,[Cl]],["pointDistM",Yn,[ui,ui]],["pointDistKm",Yn,[ui,ui]],["pointDistRads",Yn,[ui,ui]],["cellAreaM2",Yn,[Ar,Rr]],["cellAreaKm2",Yn,[Ar,Rr]],["cellAreaRads2",Yn,[Ar,Rr]],["exactEdgeLengthM",Yn,[Ar,Rr]],["exactEdgeLengthKm",Yn,[Ar,Rr]],["exactEdgeLengthRads",Yn,[Ar,Rr]],["numHexagons",Yn,[Cl]],["getRes0Indexes",null,[ui]],["res0IndexCount",Yn],["getPentagonIndexes",null,[Yn,ui]],["pentagonIndexCount",Yn]],Lf={};gue.forEach(function(t){Lf[t[0]]=zu.cwrap.apply(zu,t)});var v0=16,hy=8;Lf.sizeOfH3Index();var yue=Lf.sizeOfGeoCoord(),vue=Lf.sizeOfGeoBoundary();Lf.sizeOfGeoPolygon();Lf.sizeOfGeofence();Lf.sizeOfLinkedGeoPolygon();Lf.sizeOfCoordIJ();var _ue=/[^0-9a-fA-F]/;function xue(e){if(Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if(typeof e!="string"||_ue.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),v0),n=parseInt(e.substring(e.length-8),v0);return[n,t]}function dT(e){if(e>=0)return e.toString(v0);e=e&2147483647;var t=PD(8,e.toString(v0)),n=(parseInt(t[0],v0)+8).toString(v0);return t=n+t.substring(1),t}function bue(e,t){return dT(t)+PD(8,dT(e))}function PD(e,t){for(var n=e-t.length,i="",s=0;s<n;s++)i+="0";return i=i+t,i}function wue(e){var t=zu.getTempRet0();return[e,t]}function Sue(e){var t=wue(e),n=t[0],i=t[1];return i?bue(n,i):null}function _2(e){return Oue(zu.getValue(e,"double"))}function Cue(e){return[_2(e),_2(e+hy)]}function Eue(e){return[_2(e+hy),_2(e)]}function kue(e,t,n){for(var i=zu.getValue(e,"i32"),s=e+hy,l=[],o=t?Eue:Cue,x=0;x<i*2;x+=2)l.push(o(s+hy*x));return n&&l.push(l[0]),l}function Pue(e,t,n){var i=zu._malloc(yue);zu.HEAPF64.set([e,t].map(Iue),i/hy);var s=Sue(Lf.geoToH3(i,n));return zu._free(i),s}function Tue(e,t){var n=zu._malloc(vue),i=xue(e),s=i[0],l=i[1];Lf.h3ToGeoBoundary(s,l,n);var o=kue(n,t,t);return zu._free(n),o}function Iue(e){return e*Math.PI/180}function Oue(e){return e*180/Math.PI}var x2={},Mue={get exports(){return x2},set exports(e){x2=e}};(function(e,t){(function(n,i){e.exports=i()})(Ru,function(){var n,i,s;function l(o,x){if(!n)n=x;else if(!i)i=x;else{var S="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",P={};n(P),s=x(P),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return l(["exports"],function(o){function x(r,a){return r(a={exports:{}},a.exports),a.exports}var S=P;function P(r,a,u,g){this.cx=3*r,this.bx=3*(u-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(g-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=g,this.p2x=u,this.p2y=g}P.prototype.sampleCurveX=function(r){return((this.ax*r+this.bx)*r+this.cx)*r},P.prototype.sampleCurveY=function(r){return((this.ay*r+this.by)*r+this.cy)*r},P.prototype.sampleCurveDerivativeX=function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},P.prototype.solveCurveX=function(r,a){var u,g,b,C,T;for(a===void 0&&(a=1e-6),b=r,T=0;T<8;T++){if(C=this.sampleCurveX(b)-r,Math.abs(C)<a)return b;var B=this.sampleCurveDerivativeX(b);if(Math.abs(B)<1e-6)break;b-=C/B}if((b=r)<(u=0))return u;if(b>(g=1))return g;for(;u<g;){if(C=this.sampleCurveX(b),Math.abs(C-r)<a)return b;r>C?u=b:g=b,b=.5*(g-u)+u}return b},P.prototype.solve=function(r,a){return this.sampleCurveY(this.solveCurveX(r,a))};var M=D;function D(r,a){this.x=r,this.y=a}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,a){return this.clone()._rotateAround(r,a)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var a=r.x-this.x,u=r.y-this.y;return a*a+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,a){return Math.atan2(this.x*a-this.y*r,this.x*r+this.y*a)},_matMult:function(r){var a=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=a,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var a=Math.cos(r),u=Math.sin(r),g=u*this.x+a*this.y;return this.x=a*this.x-u*this.y,this.y=g,this},_rotateAround:function(r,a){var u=Math.cos(r),g=Math.sin(r),b=a.y+g*(this.x-a.x)+u*(this.y-a.y);return this.x=a.x+u*(this.x-a.x)-g*(this.y-a.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},D.convert=function(r){return r instanceof D?r:Array.isArray(r)?new D(r[0],r[1]):r};var z=typeof self<"u"?self:{},U=Math.pow(2,53)-1;function q(r,a,u,g){var b=new S(r,a,u,g);return function(C){return b.solve(C)}}var K=q(.25,.1,.25,1);function ee(r,a,u){return Math.min(u,Math.max(a,r))}function V(r,a,u){var g=u-a,b=((r-a)%g+g)%g+a;return b===a?u:b}function X(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var g=0,b=a;g<b.length;g+=1){var C=b[g];for(var T in C)r[T]=C[T]}return r}var ne=1;function pe(){return ne++}function me(){return function r(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function oe(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function we(r,a){r.forEach(function(u){a[u]&&(a[u]=a[u].bind(a))})}function Ce(r,a){return r.indexOf(a,r.length-a.length)!==-1}function je(r,a,u){var g={};for(var b in r)g[b]=a.call(u||this,r[b],b,r);return g}function tt(r,a,u){var g={};for(var b in r)a.call(u||this,r[b],b,r)&&(g[b]=r[b]);return g}function qe(r){return Array.isArray(r)?r.map(qe):typeof r=="object"&&r?je(r,qe):r}var rt={};function At(r){rt[r]||(typeof console<"u"&&console.warn(r),rt[r]=!0)}function Ot(r,a,u){return(u.y-r.y)*(a.x-r.x)>(a.y-r.y)*(u.x-r.x)}function Vt(r){for(var a=0,u=0,g=r.length,b=g-1,C=void 0,T=void 0;u<g;b=u++)a+=((T=r[b]).x-(C=r[u]).x)*(C.y+T.y);return a}function Jt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bn(r){var a={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,b,C,T){var B=C||T;return a[b]=!B||B.toLowerCase(),""}),a["max-age"]){var u=parseInt(a["max-age"],10);isNaN(u)?delete a["max-age"]:a["max-age"]=u}return a}var st=null;function Me(r){if(st==null){var a=r.navigator?r.navigator.userAgent:null;st=!!r.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return st}function Le(r){try{var a=z[r];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}var re,ge,Mt,en,vn=z.performance&&z.performance.now?z.performance.now.bind(z.performance):Date.now.bind(Date),dn=z.requestAnimationFrame||z.mozRequestAnimationFrame||z.webkitRequestAnimationFrame||z.msRequestAnimationFrame,Cn=z.cancelAnimationFrame||z.mozCancelAnimationFrame||z.webkitCancelAnimationFrame||z.msCancelAnimationFrame,$n={now:vn,frame:function(r){var a=dn(r);return{cancel:function(){return Cn(a)}}},getImageData:function(r,a){a===void 0&&(a=0);var u=z.document.createElement("canvas"),g=u.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return u.width=r.width,u.height=r.height,g.drawImage(r,0,0,r.width,r.height),g.getImageData(-a,-a,r.width+2*a,r.height+2*a)},resolveURL:function(r){return re||(re=z.document.createElement("a")),re.href=r,re.href},hardwareConcurrency:z.navigator&&z.navigator.hardwareConcurrency||4,get devicePixelRatio(){return z.devicePixelRatio},get prefersReducedMotion(){return!!z.matchMedia&&(ge==null&&(ge=z.matchMedia("(prefers-reduced-motion: reduce)")),ge.matches)}},Fn={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Yr={supported:!1,testSupport:function(r){!Vr&&en&&(Fi?jn(r):Mt=r)}},Vr=!1,Fi=!1;function jn(r){var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,en),r.isContextLost())return;Yr.supported=!0}catch{}r.deleteTexture(a),Vr=!0}z.document&&((en=z.document.createElement("img")).onload=function(){Mt&&jn(Mt),Mt=null,Fi=!0},en.onerror=function(){Vr=!0,Mt=null},en.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var mi="01",gi=function(r,a){this._transformRequestFn=r,this._customAccessToken=a,this._createSkuToken()};function Go(r){return r.indexOf("mapbox:")===0}gi.prototype._createSkuToken=function(){var r=function(){for(var a="",u=0;u<10;u++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",mi,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt},gi.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},gi.prototype.transformRequest=function(r,a){return this._transformRequestFn&&this._transformRequestFn(r,a)||{url:r}},gi.prototype.normalizeStyleURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeGlyphsURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeSourceURL=function(r,a){if(!Go(r))return r;var u=ro(r);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||a)},gi.prototype.normalizeSpriteURL=function(r,a,u,g){var b=ro(r);return Go(r)?(b.path="/styles/v1"+b.path+"/sprite"+a+u,this._makeAPIURL(b,this._customAccessToken||g)):(b.path+=""+a+u,Kr(b))},gi.prototype.normalizeTileURL=function(r,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Go(r))return r;var u=ro(r);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,($n.devicePixelRatio>=2||a===512?"@2x":"")+(Yr.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var g=this._customAccessToken||function(b){for(var C=0,T=b;C<T.length;C+=1){var B=T[C].match(/^access_token=(.*)$/);if(B)return B[1]}return null}(u.params)||Fn.ACCESS_TOKEN;return Fn.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,g)},gi.prototype.canonicalizeTileURL=function(r,a){var u=ro(r);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return r;var g="mapbox://tiles/";g+=u.path.replace("/v4/","");var b=u.params;return a&&(b=b.filter(function(C){return!C.match(/^access_token=/)})),b.length&&(g+="?"+b.join("&")),g},gi.prototype.canonicalizeTileset=function(r,a){for(var u=!!a&&Go(a),g=[],b=0,C=r.tiles||[];b<C.length;b+=1){var T=C[b];Wi(T)?g.push(this.canonicalizeTileURL(T,u)):g.push(T)}return g},gi.prototype._makeAPIURL=function(r,a){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=ro(Fn.API_URL);if(r.protocol=g.protocol,r.authority=g.authority,r.protocol==="http"){var b=r.params.indexOf("secure");b>=0&&r.params.splice(b,1)}if(g.path!=="/"&&(r.path=""+g.path+r.path),!Fn.REQUIRE_ACCESS_TOKEN)return Kr(r);if(!(a=a||Fn.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if(a[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return r.params=r.params.filter(function(C){return C.indexOf("access_token")===-1}),r.params.push("access_token="+a),Kr(r)},gi.prototype.setTransformRequest=function(r){this._transformRequestFn=r};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wi(r){return Bi.test(r)}var Ss=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ro(r){var a=r.match(Ss);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function Kr(r){var a=r.params.length?"?"+r.params.join("&"):"";return r.protocol+"://"+r.authority+r.path+a}function Lo(r){if(!r)return null;var a=r.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(z.atob(a[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var io=function(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};io.prototype.getStorageKey=function(r){var a,u=Lo(Fn.ACCESS_TOKEN);return a=u&&u.u?z.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(g,b){return String.fromCharCode(Number("0x"+b))})):Fn.ACCESS_TOKEN||"",r?"mapbox.eventData."+r+":"+a:"mapbox.eventData:"+a},io.prototype.fetchEventData=function(){var r=Le("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{var g=z.localStorage.getItem(a);g&&(this.eventData=JSON.parse(g));var b=z.localStorage.getItem(u);b&&(this.anonId=b)}catch{At("Unable to read from LocalStorage")}},io.prototype.saveEventData=function(){var r=Le("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{z.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&z.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{At("Unable to write to LocalStorage")}},io.prototype.processRequests=function(r){},io.prototype.postEvent=function(r,a,u,g){var b=this;if(Fn.EVENTS_URL){var C=ro(Fn.EVENTS_URL);C.params.push("access_token="+(g||Fn.ACCESS_TOKEN||""));var T={event:this.type,created:new Date(r).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.15.3",skuId:mi,userId:this.anonId},B=a?X(T,a):T,j={url:Kr(C),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=J(j,function(W){b.pendingRequest=null,u(W),b.saveEventData(),b.processRequests(g)})}},io.prototype.queueRequest=function(r,a){this.queue.push(r),this.processRequests(a)};var bi,Ro,la=function(r){function a(){r.call(this,"map.load"),this.success={},this.skuToken=""}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.postMapLoadEvent=function(u,g,b,C){this.skuToken=b,(Fn.EVENTS_URL&&C||Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(T){return Go(T)||Wi(T)}))&&this.queueRequest({id:g,timestamp:Date.now()},C)},a.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var b=this.queue.shift(),C=b.id,T=b.timestamp;C&&this.success[C]||(this.anonId||this.fetchEventData(),oe(this.anonId)||(this.anonId=me()),this.postEvent(T,{skuToken:this.skuToken},function(B){B||C&&(g.success[C]=!0)},u))}},a}(io),vt=new(function(r){function a(u){r.call(this,"appUserTurnstile"),this._customAccessToken=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.postTurnstileEvent=function(u,g){Fn.EVENTS_URL&&Fn.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(b){return Go(b)||Wi(b)})&&this.queueRequest(Date.now(),g)},a.prototype.processRequests=function(u){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Lo(Fn.ACCESS_TOKEN),C=b?b.u:Fn.ACCESS_TOKEN,T=C!==this.eventData.tokenU;oe(this.anonId)||(this.anonId=me(),T=!0);var B=this.queue.shift();if(this.eventData.lastSuccess){var j=new Date(this.eventData.lastSuccess),W=new Date(B),Z=(B-this.eventData.lastSuccess)/864e5;T=T||Z>=1||Z<-1||j.getDate()!==W.getDate()}else T=!0;if(!T)return this.processRequests();this.postEvent(B,{"enabled.telemetry":!1},function(Y){Y||(g.eventData.lastSuccess=B,g.eventData.tokenU=C)},u)}},a}(io)),be=vt.postTurnstileEvent.bind(vt),Je=new la,Ct=Je.postMapLoadEvent.bind(Je),ln=500,Gn=50;function Mr(){z.caches&&!bi&&(bi=z.caches.open("mapbox-tiles"))}function Mn(r){var a=r.indexOf("?");return a<0?r:r.slice(0,a)}var nr,Hr=1/0;function Jr(){return nr==null&&(nr=z.OffscreenCanvas&&new z.OffscreenCanvas(1,1).getContext("2d")&&typeof z.createImageBitmap=="function"),nr}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var Co=function(r){function a(u,g,b){g===401&&Wi(b)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),r.call(this,u),this.status=g,this.url=b,this.name=this.constructor.name,this.message=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},a}(Error),ei=Jt()?function(){return self.worker&&self.worker.referrer}:function(){return(z.location.protocol==="blob:"?z.parent:z).location.href};function ua(r,a){var u,g=new z.AbortController,b=new z.Request(r.url,{method:r.method||"GET",body:r.body,credentials:r.credentials,headers:r.headers,referrer:ei(),signal:g.signal}),C=!1,T=!1,B=(u=b.url).indexOf("sku=")>0&&Wi(u);r.type==="json"&&b.headers.set("Accept","application/json");var j=function(Z,Y,ue){if(!T){if(Z&&Z.message!=="SecurityError"&&At(Z),Y&&ue)return W(Y);var he=Date.now();z.fetch(b).then(function(Ee){if(Ee.ok){var ke=B?Ee.clone():null;return W(Ee,ke,he)}return a(new Co(Ee.statusText,Ee.status,r.url))}).catch(function(Ee){Ee.code!==20&&a(new Error(Ee.message))})}},W=function(Z,Y,ue){(r.type==="arrayBuffer"?Z.arrayBuffer():r.type==="json"?Z.json():Z.text()).then(function(he){T||(Y&&ue&&function(Ee,ke,He){if(Mr(),bi){var De={status:ke.status,statusText:ke.statusText,headers:new z.Headers};ke.headers.forEach(function(ot,ft){return De.headers.set(ft,ot)});var nt=bn(ke.headers.get("Cache-Control")||"");nt["no-store"]||(nt["max-age"]&&De.headers.set("Expires",new Date(He+1e3*nt["max-age"]).toUTCString()),new Date(De.headers.get("Expires")).getTime()-He<42e4||function(ot,ft){if(Ro===void 0)try{new Response(new ReadableStream),Ro=!0}catch{Ro=!1}Ro?ft(ot.body):ot.blob().then(ft)}(ke,function(ot){var ft=new z.Response(ot,De);Mr(),bi&&bi.then(function(pt){return pt.put(Mn(Ee.url),ft)}).catch(function(pt){return At(pt.message)})}))}}(b,Y,ue),C=!0,a(null,he,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(function(he){T||a(new Error(he.message))})};return B?function(Z,Y){if(Mr(),!bi)return Y(null);var ue=Mn(Z.url);bi.then(function(he){he.match(ue).then(function(Ee){var ke=function(He){if(!He)return!1;var De=new Date(He.headers.get("Expires")||0),nt=bn(He.headers.get("Cache-Control")||"");return De>Date.now()&&!nt["no-cache"]}(Ee);he.delete(ue),ke&&he.put(ue,Ee.clone()),Y(null,Ee,ke)}).catch(Y)}).catch(Y)}(b,j):j(null,null),{cancel:function(){T=!0,C||g.abort()}}}var La,Ht,Ei=function(r,a){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){if(Jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,a);if(!Jt()){var u=r.url.substring(0,r.url.indexOf("://"));return(Fn.REGISTERED_PROTOCOLS[u]||ua)(r,a)}}if(!(/^file:/.test(g=r.url)||/^file:/.test(ei())&&!/^\w+:/.test(g))){if(z.fetch&&z.Request&&z.AbortController&&z.Request.prototype.hasOwnProperty("signal"))return ua(r,a);if(Jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,a,void 0,!0)}var g;return function(b,C){var T=new z.XMLHttpRequest;for(var B in T.open(b.method||"GET",b.url,!0),b.type==="arrayBuffer"&&(T.responseType="arraybuffer"),b.headers)T.setRequestHeader(B,b.headers[B]);return b.type==="json"&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials=b.credentials==="include",T.onerror=function(){C(new Error(T.statusText))},T.onload=function(){if((T.status>=200&&T.status<300||T.status===0)&&T.response!==null){var j=T.response;if(b.type==="json")try{j=JSON.parse(T.response)}catch(W){return C(W)}C(null,j,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else C(new Co(T.statusText,T.status,b.url))},T.send(b.body),{cancel:function(){return T.abort()}}}(r,a)},Ur=function(r,a){return Ei(X(r,{type:"arrayBuffer"}),a)},J=function(r,a){return Ei(X(r,{method:"POST"}),a)},se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";La=[],Ht=0;var fe=function(r,a){if(Yr.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Ht>=Fn.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:r,callback:a,cancelled:!1,cancel:function(){this.cancelled=!0}};return La.push(u),u}Ht++;var g=!1,b=function(){if(!g)for(g=!0,Ht--;La.length&&Ht<Fn.MAX_PARALLEL_IMAGE_REQUESTS;){var T=La.shift();T.cancelled||(T.cancel=fe(T.requestParameters,T.callback).cancel)}},C=Ur(r,function(T,B,j,W){b(),T?a(T):B&&(Jr()?function(Z,Y){var ue=new z.Blob([new Uint8Array(Z)],{type:"image/png"});z.createImageBitmap(ue).then(function(he){Y(null,he)}).catch(function(he){Y(new Error("Could not load image because of "+he.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(B,a):function(Z,Y,ue,he){var Ee=new z.Image,ke=z.URL;Ee.onload=function(){Y(null,Ee),ke.revokeObjectURL(Ee.src),Ee.onload=null,z.requestAnimationFrame(function(){Ee.src=se})},Ee.onerror=function(){return Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var He=new z.Blob([new Uint8Array(Z)],{type:"image/png"});Ee.cacheControl=ue,Ee.expires=he,Ee.src=Z.byteLength?ke.createObjectURL(He):se}(B,a,j,W))});return{cancel:function(){C.cancel(),b()}}};function ve(r,a,u){u[r]&&u[r].indexOf(a)!==-1||(u[r]=u[r]||[],u[r].push(a))}function Ie(r,a,u){if(u&&u[r]){var g=u[r].indexOf(a);g!==-1&&u[r].splice(g,1)}}var Ue=function(r,a){a===void 0&&(a={}),X(this,a),this.type=r},Ge=function(r){function a(u,g){g===void 0&&(g={}),r.call(this,"error",X({error:u},g))}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(Ue),Ne=function(){};Ne.prototype.on=function(r,a){return this._listeners=this._listeners||{},ve(r,a,this._listeners),this},Ne.prototype.off=function(r,a){return Ie(r,a,this._listeners),Ie(r,a,this._oneTimeListeners),this},Ne.prototype.once=function(r,a){return this._oneTimeListeners=this._oneTimeListeners||{},ve(r,a,this._oneTimeListeners),this},Ne.prototype.fire=function(r,a){typeof r=="string"&&(r=new Ue(r,a||{}));var u=r.type;if(this.listens(u)){r.target=this;for(var g=0,b=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];g<b.length;g+=1)b[g].call(this,r);for(var C=0,T=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];C<T.length;C+=1){var B=T[C];Ie(u,B,this._oneTimeListeners),B.call(this,r)}var j=this._eventedParent;j&&(X(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),j.fire(r))}else r instanceof Ge&&console.error(r.error);return this},Ne.prototype.listens=function(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)},Ne.prototype.setEventedParent=function(r,a){return this._eventedParent=r,this._eventedParentData=a,this};var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ae=function(r,a,u,g){this.message=(r?r+": ":"")+u,g&&(this.identifier=g),a!=null&&a.__line__&&(this.line=a.__line__)};function Ve(r){var a=r.value;return a?[new ae(r.key,a,"constants have been deprecated as of v8")]:[]}function lt(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var g=0,b=a;g<b.length;g+=1){var C=b[g];for(var T in C)r[T]=C[T]}return r}function We(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function A(r){if(Array.isArray(r))return r.map(A);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){var a={};for(var u in r)a[u]=A(r[u]);return a}return We(r)}var ye=function(r){function a(u,g){r.call(this,g),this.message=g,this.key=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(Error),Lt=function(r,a){a===void 0&&(a=[]),this.parent=r,this.bindings={};for(var u=0,g=a;u<g.length;u+=1){var b=g[u];this.bindings[b[0]]=b[1]}};Lt.prototype.concat=function(r){return new Lt(this,r)},Lt.prototype.get=function(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(r+" not found in scope.")},Lt.prototype.has=function(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)};var $t={kind:"null"},ct={kind:"number"},It={kind:"string"},bt={kind:"boolean"},hn={kind:"color"},fn={kind:"object"},Qt={kind:"value"},dr={kind:"collator"},Jn={kind:"formatted"},Dr={kind:"resolvedImage"};function gr(r,a){return{kind:"array",itemType:r,N:a}}function lr(r){if(r.kind==="array"){var a=lr(r.itemType);return typeof r.N=="number"?"array<"+a+", "+r.N+">":r.itemType.kind==="value"?"array":"array<"+a+">"}return r.kind}var vr=[$t,ct,It,bt,hn,Jn,fn,gr(Qt),Dr];function Ai(r,a){if(a.kind==="error")return null;if(r.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Ai(r.itemType,a.itemType))&&(typeof r.N!="number"||r.N===a.N))return null}else{if(r.kind===a.kind)return null;if(r.kind==="value"){for(var u=0,g=vr;u<g.length;u+=1)if(!Ai(g[u],a))return null}}return"Expected "+lr(r)+" but found "+lr(a)+" instead."}function Sr(r,a){return a.some(function(u){return u.kind===r.kind})}function Xt(r,a){return a.some(function(u){return u==="null"?r===null:u==="array"?Array.isArray(r):u==="object"?r&&!Array.isArray(r)&&typeof r=="object":u===typeof r})}var Qe=x(function(r,a){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(B){return(B=Math.round(B))<0?0:B>255?255:B}function b(B){return g(B[B.length-1]==="%"?parseFloat(B)/100*255:parseInt(B))}function C(B){return(j=B[B.length-1]==="%"?parseFloat(B)/100:parseFloat(B))<0?0:j>1?1:j;var j}function T(B,j,W){return W<0?W+=1:W>1&&(W-=1),6*W<1?B+(j-B)*W*6:2*W<1?j:3*W<2?B+(j-B)*(2/3-W)*6:B}try{a.parseCSSColor=function(B){var j,W=B.replace(/ /g,"").toLowerCase();if(W in u)return u[W].slice();if(W[0]==="#")return W.length===4?(j=parseInt(W.substr(1),16))>=0&&j<=4095?[(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1]:null:W.length===7&&(j=parseInt(W.substr(1),16))>=0&&j<=16777215?[(16711680&j)>>16,(65280&j)>>8,255&j,1]:null;var Z=W.indexOf("("),Y=W.indexOf(")");if(Z!==-1&&Y+1===W.length){var ue=W.substr(0,Z),he=W.substr(Z+1,Y-(Z+1)).split(","),Ee=1;switch(ue){case"rgba":if(he.length!==4)return null;Ee=C(he.pop());case"rgb":return he.length!==3?null:[b(he[0]),b(he[1]),b(he[2]),Ee];case"hsla":if(he.length!==4)return null;Ee=C(he.pop());case"hsl":if(he.length!==3)return null;var ke=(parseFloat(he[0])%360+360)%360/360,He=C(he[1]),De=C(he[2]),nt=De<=.5?De*(He+1):De+He-De*He,ot=2*De-nt;return[g(255*T(ot,nt,ke+1/3)),g(255*T(ot,nt,ke)),g(255*T(ot,nt,ke-1/3)),Ee];default:return null}}return null}}catch{}}).parseCSSColor,wn=function(r,a,u,g){g===void 0&&(g=1),this.r=r,this.g=a,this.b=u,this.a=g};wn.parse=function(r){if(r){if(r instanceof wn)return r;if(typeof r=="string"){var a=Qe(r);if(a)return new wn(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3])}}},wn.prototype.toString=function(){var r=this.toArray(),a=r[1],u=r[2],g=r[3];return"rgba("+Math.round(r[0])+","+Math.round(a)+","+Math.round(u)+","+g+")"},wn.prototype.toArray=function(){var r=this.a;return r===0?[0,0,0,0]:[255*this.r/r,255*this.g/r,255*this.b/r,r]},wn.black=new wn(0,0,0,1),wn.white=new wn(1,1,1,1),wn.transparent=new wn(0,0,0,0),wn.red=new wn(1,0,0,1);var al=function(r,a,u){this.sensitivity=r?a?"variant":"case":a?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};al.prototype.compare=function(r,a){return this.collator.compare(r,a)},al.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var zc=function(r,a,u,g,b){this.text=r,this.image=a,this.scale=u,this.fontStack=g,this.textColor=b},oo=function(r){this.sections=r};oo.fromString=function(r){return new oo([new zc(r,null,null,null,null)])},oo.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(r){return r.text.length!==0||r.image&&r.image.name.length!==0})},oo.factory=function(r){return r instanceof oo?r:oo.fromString(r)},oo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(r){return r.text}).join("")},oo.prototype.serialize=function(){for(var r=["format"],a=0,u=this.sections;a<u.length;a+=1){var g=u[a];if(g.image)r.push(["image",g.image.name]);else{r.push(g.text);var b={};g.fontStack&&(b["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(b["font-scale"]=g.scale),g.textColor&&(b["text-color"]=["rgba"].concat(g.textColor.toArray())),r.push(b)}}return r};var Qo=function(r){this.name=r.name,this.available=r.available};function Nc(r,a,u,g){return typeof r=="number"&&r>=0&&r<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof u=="number"&&u>=0&&u<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[r,a,u,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[r,a,u,g]:[r,a,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Re(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof wn||r instanceof al||r instanceof oo||r instanceof Qo)return!0;if(Array.isArray(r)){for(var a=0,u=r;a<u.length;a+=1)if(!Re(u[a]))return!1;return!0}if(typeof r=="object"){for(var g in r)if(!Re(r[g]))return!1;return!0}return!1}function ao(r){if(r===null)return $t;if(typeof r=="string")return It;if(typeof r=="boolean")return bt;if(typeof r=="number")return ct;if(r instanceof wn)return hn;if(r instanceof al)return dr;if(r instanceof oo)return Jn;if(r instanceof Qo)return Dr;if(Array.isArray(r)){for(var a,u=r.length,g=0,b=r;g<b.length;g+=1){var C=ao(b[g]);if(a){if(a===C)continue;a=Qt;break}a=C}return gr(a||Qt,u)}return fn}function as(r){var a=typeof r;return r===null?"":a==="string"||a==="number"||a==="boolean"?String(r):r instanceof wn||r instanceof oo||r instanceof Qo?r.toString():JSON.stringify(r)}Qo.prototype.toString=function(){return this.name},Qo.fromString=function(r){return r?new Qo({name:r,available:!1}):null},Qo.prototype.serialize=function(){return["image",this.name]};var ca=function(r,a){this.type=r,this.value=a};ca.parse=function(r,a){if(r.length!==2)return a.error("'literal' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(!Re(r[1]))return a.error("invalid value");var u=r[1],g=ao(u),b=a.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new ca(g,u)},ca.prototype.evaluate=function(){return this.value},ca.prototype.eachChild=function(){},ca.prototype.outputDefined=function(){return!0},ca.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof wn?["rgba"].concat(this.value.toArray()):this.value instanceof oo?this.value.serialize():this.value};var si=function(r){this.name="ExpressionEvaluationError",this.message=r};si.prototype.toJSON=function(){return this.message};var fa={string:It,number:ct,boolean:bt,object:fn},Eo=function(r,a){this.type=r,this.args=a};Eo.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u,g=1,b=r[0];if(b==="array"){var C,T;if(r.length>2){var B=r[1];if(typeof B!="string"||!(B in fa)||B==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);C=fa[B],g++}else C=Qt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return a.error('The length argument to "array" must be a positive integer literal',2);T=r[2],g++}u=gr(C,T)}else u=fa[b];for(var j=[];g<r.length;g++){var W=a.parse(r[g],g,Qt);if(!W)return null;j.push(W)}return new Eo(u,j)},Eo.prototype.evaluate=function(r){for(var a=0;a<this.args.length;a++){var u=this.args[a].evaluate(r);if(!Ai(this.type,ao(u)))return u;if(a===this.args.length-1)throw new si("Expected value to be of type "+lr(this.type)+", but found "+lr(ao(u))+" instead.")}return null},Eo.prototype.eachChild=function(r){this.args.forEach(r)},Eo.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},Eo.prototype.serialize=function(){var r=this.type,a=[r.kind];if(r.kind==="array"){var u=r.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){a.push(u.kind);var g=r.N;(typeof g=="number"||this.args.length>1)&&a.push(g)}}return a.concat(this.args.map(function(b){return b.serialize()}))};var Wo=function(r){this.type=Jn,this.sections=r};Wo.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u=r[1];if(!Array.isArray(u)&&typeof u=="object")return a.error("First argument must be an image or text section.");for(var g=[],b=!1,C=1;C<=r.length-1;++C){var T=r[C];if(b&&typeof T=="object"&&!Array.isArray(T)){b=!1;var B=null;if(T["font-scale"]&&!(B=a.parse(T["font-scale"],1,ct)))return null;var j=null;if(T["text-font"]&&!(j=a.parse(T["text-font"],1,gr(It))))return null;var W=null;if(T["text-color"]&&!(W=a.parse(T["text-color"],1,hn)))return null;var Z=g[g.length-1];Z.scale=B,Z.font=j,Z.textColor=W}else{var Y=a.parse(r[C],1,Qt);if(!Y)return null;var ue=Y.type.kind;if(ue!=="string"&&ue!=="value"&&ue!=="null"&&ue!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:Y,scale:null,font:null,textColor:null})}}return new Wo(g)},Wo.prototype.evaluate=function(r){return new oo(this.sections.map(function(a){var u=a.content.evaluate(r);return ao(u)===Dr?new zc("",u,null,null,null):new zc(as(u),null,a.scale?a.scale.evaluate(r):null,a.font?a.font.evaluate(r).join(","):null,a.textColor?a.textColor.evaluate(r):null)}))},Wo.prototype.eachChild=function(r){for(var a=0,u=this.sections;a<u.length;a+=1){var g=u[a];r(g.content),g.scale&&r(g.scale),g.font&&r(g.font),g.textColor&&r(g.textColor)}},Wo.prototype.outputDefined=function(){return!1},Wo.prototype.serialize=function(){for(var r=["format"],a=0,u=this.sections;a<u.length;a+=1){var g=u[a];r.push(g.content.serialize());var b={};g.scale&&(b["font-scale"]=g.scale.serialize()),g.font&&(b["text-font"]=g.font.serialize()),g.textColor&&(b["text-color"]=g.textColor.serialize()),r.push(b)}return r};var ss=function(r){this.type=Dr,this.input=r};ss.parse=function(r,a){if(r.length!==2)return a.error("Expected two arguments.");var u=a.parse(r[1],1,It);return u?new ss(u):a.error("No image name provided.")},ss.prototype.evaluate=function(r){var a=this.input.evaluate(r),u=Qo.fromString(a);return u&&r.availableImages&&(u.available=r.availableImages.indexOf(a)>-1),u},ss.prototype.eachChild=function(r){r(this.input)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){return["image",this.input.serialize()]};var Rf={"to-boolean":bt,"to-color":hn,"to-number":ct,"to-string":It},zi=function(r,a){this.type=r,this.args=a};zi.parse=function(r,a){if(r.length<2)return a.error("Expected at least one argument.");var u=r[0];if((u==="to-boolean"||u==="to-string")&&r.length!==2)return a.error("Expected one argument.");for(var g=Rf[u],b=[],C=1;C<r.length;C++){var T=a.parse(r[C],C,Qt);if(!T)return null;b.push(T)}return new zi(g,b)},zi.prototype.evaluate=function(r){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(r));if(this.type.kind==="color"){for(var a,u,g=0,b=this.args;g<b.length;g+=1){if(u=null,(a=b[g].evaluate(r))instanceof wn)return a;if(typeof a=="string"){var C=r.parseColor(a);if(C)return C}else if(Array.isArray(a)&&!(u=a.length<3||a.length>4?"Invalid rbga value "+JSON.stringify(a)+": expected an array containing either three or four numeric values.":Nc(a[0],a[1],a[2],a[3])))return new wn(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new si(u||"Could not parse color from value '"+(typeof a=="string"?a:String(JSON.stringify(a)))+"'")}if(this.type.kind==="number"){for(var T=null,B=0,j=this.args;B<j.length;B+=1){if((T=j[B].evaluate(r))===null)return 0;var W=Number(T);if(!isNaN(W))return W}throw new si("Could not convert "+JSON.stringify(T)+" to number.")}return this.type.kind==="formatted"?oo.fromString(as(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?Qo.fromString(as(this.args[0].evaluate(r))):as(this.args[0].evaluate(r))},zi.prototype.eachChild=function(r){this.args.forEach(r)},zi.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},zi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Wo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ss(this.args[0]).serialize();var r=["to-"+this.type.kind];return this.eachChild(function(a){r.push(a.serialize())}),r};var ki=["Unknown","Point","LineString","Polygon"],ls=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ls.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ls.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ki[this.feature.type]:this.feature.type:null},ls.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ls.prototype.canonicalID=function(){return this.canonical},ls.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ls.prototype.parseColor=function(r){var a=this._parseColorCache[r];return a||(a=this._parseColorCache[r]=wn.parse(r)),a};var wi=function(r,a,u,g){this.name=r,this.type=a,this._evaluate=u,this.args=g};wi.prototype.evaluate=function(r){return this._evaluate(r,this.args)},wi.prototype.eachChild=function(r){this.args.forEach(r)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(r){return r.serialize()}))},wi.parse=function(r,a){var u,g=r[0],b=wi.definitions[g];if(!b)return a.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var C=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,B=T.filter(function(En){var on=En[0];return!Array.isArray(on)||on.length===r.length-1}),j=null,W=0,Z=B;W<Z.length;W+=1){var Y=Z[W],ue=Y[0],he=Y[1];j=new $r(a.registry,a.path,null,a.scope);for(var Ee=[],ke=!1,He=1;He<r.length;He++){var De=r[He],nt=Array.isArray(ue)?ue[He-1]:ue.type,ot=j.parse(De,1+Ee.length,nt);if(!ot){ke=!0;break}Ee.push(ot)}if(!ke)if(Array.isArray(ue)&&ue.length!==Ee.length)j.error("Expected "+ue.length+" arguments, but found "+Ee.length+" instead.");else{for(var ft=0;ft<Ee.length;ft++){var pt=Array.isArray(ue)?ue[ft]:ue.type,kt=Ee[ft];j.concat(ft+1).checkSubtype(pt,kt.type)}if(j.errors.length===0)return new wi(g,C,he,Ee)}}if(B.length===1)(u=a.errors).push.apply(u,j.errors);else{for(var Ut=(B.length?B:T).map(function(En){var on;return on=En[0],Array.isArray(on)?"("+on.map(lr).join(", ")+")":"("+lr(on.type)+"...)"}).join(" | "),Zt=[],gn=1;gn<r.length;gn++){var nn=a.parse(r[gn],1+Zt.length);if(!nn)return null;Zt.push(lr(nn.type))}a.error("Expected arguments of type "+Ut+", but found ("+Zt.join(", ")+") instead.")}return null},wi.register=function(r,a){for(var u in wi.definitions=a,a)r[u]=wi};var Ni=function(r,a,u){this.type=dr,this.locale=u,this.caseSensitive=r,this.diacriticSensitive=a};function Rl(r,a){r[0]=Math.min(r[0],a[0]),r[1]=Math.min(r[1],a[1]),r[2]=Math.max(r[2],a[0]),r[3]=Math.max(r[3],a[1])}function Ku(r,a){return!(r[0]<=a[0]||r[2]>=a[2]||r[1]<=a[1]||r[3]>=a[3])}function Dp(r,a){var u=(180+r[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,b=Math.pow(2,a.z);return[Math.round(u*b*8192),Math.round(g*b*8192)]}function Fp(r,a,u){return a[1]>r[1]!=u[1]>r[1]&&r[0]<(u[0]-a[0])*(r[1]-a[1])/(u[1]-a[1])+a[0]}function ci(r,a){for(var u,g,b,C,T,B,j,W=!1,Z=0,Y=a.length;Z<Y;Z++)for(var ue=a[Z],he=0,Ee=ue.length;he<Ee-1;he++){if((C=(u=r)[0]-(g=ue[he])[0])*(j=u[1]-(b=ue[he+1])[1])-(B=u[0]-b[0])*(T=u[1]-g[1])==0&&C*B<=0&&T*j<=0)return!1;Fp(r,ue[he],ue[he+1])&&(W=!W)}return W}function Uc(r,a){for(var u=0;u<a.length;u++)if(ci(r,a[u]))return!0;return!1}function Df(r,a,u,g){var b=g[0]-u[0],C=g[1]-u[1],T=(r[0]-u[0])*C-b*(r[1]-u[1]),B=(a[0]-u[0])*C-b*(a[1]-u[1]);return T>0&&B<0||T<0&&B>0}function Jh(r,a,u){for(var g=0,b=u;g<b.length;g+=1)for(var C=b[g],T=0;T<C.length-1;++T)if((Y=[(Z=C[T+1])[0]-(W=C[T])[0],Z[1]-W[1]])[0]*(ue=[(j=a)[0]-(B=r)[0],j[1]-B[1]])[1]-Y[1]*ue[0]!=0&&Df(B,j,W,Z)&&Df(W,Z,B,j))return!0;var B,j,W,Z,Y,ue;return!1}function Ff(r,a){for(var u=0;u<r.length;++u)if(!ci(r[u],a))return!1;for(var g=0;g<r.length-1;++g)if(Jh(r[g],r[g+1],a))return!1;return!0}function Zu(r,a){for(var u=0;u<a.length;u++)if(Ff(r,a[u]))return!0;return!1}function Xu(r,a,u){for(var g=[],b=0;b<r.length;b++){for(var C=[],T=0;T<r[b].length;T++){var B=Dp(r[b][T],u);Rl(a,B),C.push(B)}g.push(C)}return g}function Dl(r,a,u){for(var g=[],b=0;b<r.length;b++){var C=Xu(r[b],a,u);g.push(C)}return g}function $c(r,a,u,g){if(r[0]<u[0]||r[0]>u[2]){var b=.5*g,C=r[0]-u[0]>b?-g:u[0]-r[0]>b?g:0;C===0&&(C=r[0]-u[2]>b?-g:u[2]-r[0]>b?g:0),r[0]+=C}Rl(a,r)}function jc(r,a,u,g){for(var b=8192*Math.pow(2,g.z),C=[8192*g.x,8192*g.y],T=[],B=0,j=r;B<j.length;B+=1)for(var W=0,Z=j[B];W<Z.length;W+=1){var Y=Z[W],ue=[Y.x+C[0],Y.y+C[1]];$c(ue,a,u,b),T.push(ue)}return T}function Yu(r,a,u,g){for(var b,C=8192*Math.pow(2,g.z),T=[8192*g.x,8192*g.y],B=[],j=0,W=r;j<W.length;j+=1){for(var Z=[],Y=0,ue=W[j];Y<ue.length;Y+=1){var he=ue[Y],Ee=[he.x+T[0],he.y+T[1]];Rl(a,Ee),Z.push(Ee)}B.push(Z)}if(a[2]-a[0]<=C/2){(b=a)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var ke=0,He=B;ke<He.length;ke+=1)for(var De=0,nt=He[ke];De<nt.length;De+=1)$c(nt[De],a,u,C)}return B}Ni.parse=function(r,a){if(r.length!==2)return a.error("Expected one argument.");var u=r[1];if(typeof u!="object"||Array.isArray(u))return a.error("Collator options argument must be an object.");var g=a.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,bt);if(!g)return null;var b=a.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,bt);if(!b)return null;var C=null;return u.locale&&!(C=a.parse(u.locale,1,It))?null:new Ni(g,b,C)},Ni.prototype.evaluate=function(r){return new al(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)},Ni.prototype.eachChild=function(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]};var Ko=function(r,a){this.type=bt,this.geojson=r,this.geometries=a};function sl(r){if(r instanceof wi&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ko)return!1;var a=!0;return r.eachChild(function(u){a&&!sl(u)&&(a=!1)}),a}function Cs(r){if(r instanceof wi&&r.name==="feature-state")return!1;var a=!0;return r.eachChild(function(u){a&&!Cs(u)&&(a=!1)}),a}function Vc(r,a){if(r instanceof wi&&a.indexOf(r.name)>=0)return!1;var u=!0;return r.eachChild(function(g){u&&!Vc(g,a)&&(u=!1)}),u}Ko.parse=function(r,a){if(r.length!==2)return a.error("'within' expression requires exactly one argument, but found "+(r.length-1)+" instead.");if(Re(r[1])){var u=r[1];if(u.type==="FeatureCollection")for(var g=0;g<u.features.length;++g){var b=u.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Ko(u,u.features[g].geometry)}else if(u.type==="Feature"){var C=u.geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new Ko(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Ko(u,u)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ko.prototype.evaluate=function(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(a,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=a.canonicalID();if(u.type==="Polygon"){var T=Xu(u.coordinates,b,C),B=jc(a.geometry(),g,b,C);if(!Ku(g,b))return!1;for(var j=0,W=B;j<W.length;j+=1)if(!ci(W[j],T))return!1}if(u.type==="MultiPolygon"){var Z=Dl(u.coordinates,b,C),Y=jc(a.geometry(),g,b,C);if(!Ku(g,b))return!1;for(var ue=0,he=Y;ue<he.length;ue+=1)if(!Uc(he[ue],Z))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(a,u){var g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=a.canonicalID();if(u.type==="Polygon"){var T=Xu(u.coordinates,b,C),B=Yu(a.geometry(),g,b,C);if(!Ku(g,b))return!1;for(var j=0,W=B;j<W.length;j+=1)if(!Ff(W[j],T))return!1}if(u.type==="MultiPolygon"){var Z=Dl(u.coordinates,b,C),Y=Yu(a.geometry(),g,b,C);if(!Ku(g,b))return!1;for(var ue=0,he=Y;ue<he.length;ue+=1)if(!Zu(he[ue],Z))return!1}return!0}(r,this.geometries)}return!1},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return["within",this.geojson]};var ll=function(r,a){this.type=a.type,this.name=r,this.boundExpression=a};ll.parse=function(r,a){if(r.length!==2||typeof r[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");var u=r[1];return a.scope.has(u)?new ll(u,a.scope.get(u)):a.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},ll.prototype.evaluate=function(r){return this.boundExpression.evaluate(r)},ll.prototype.eachChild=function(){},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["var",this.name]};var $r=function(r,a,u,g,b){a===void 0&&(a=[]),g===void 0&&(g=new Lt),b===void 0&&(b=[]),this.registry=r,this.path=a,this.key=a.map(function(C){return"["+C+"]"}).join(""),this.scope=g,this.errors=b,this.expectedType=u};function Qn(r,a){for(var u,g=r.length-1,b=0,C=g,T=0;b<=C;)if((u=r[T=Math.floor((b+C)/2)])<=a){if(T===g||a<r[T+1])return T;b=T+1}else{if(!(u>a))throw new si("Input is not a number.");C=T-1}return 0}$r.prototype.parse=function(r,a,u,g,b){return b===void 0&&(b={}),a?this.concat(a,u,g)._parse(r,b):this._parse(r,b)},$r.prototype._parse=function(r,a){function u(W,Z,Y){return Y==="assert"?new Eo(Z,[W]):Y==="coerce"?new zi(Z,[W]):W}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=r[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[g];if(b){var C=b.parse(r,this);if(!C)return null;if(this.expectedType){var T=this.expectedType,B=C.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||B.kind!=="value")if(T.kind!=="color"&&T.kind!=="formatted"&&T.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string"){if(this.checkSubtype(T,B))return null}else C=u(C,T,a.typeAnnotation||"coerce");else C=u(C,T,a.typeAnnotation||"assert")}if(!(C instanceof ca)&&C.type.kind!=="resolvedImage"&&function W(Z){if(Z instanceof ll)return W(Z.boundExpression);if(Z instanceof wi&&Z.name==="error"||Z instanceof Ni||Z instanceof Ko)return!1;var Y=Z instanceof zi||Z instanceof Eo,ue=!0;return Z.eachChild(function(he){ue=Y?ue&&W(he):ue&&he instanceof ca}),!!ue&&sl(Z)&&Vc(Z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(C)){var j=new ls;try{C=new ca(C.type,C.evaluate(j))}catch(W){return this.error(W.message),null}}return C}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof r+" instead.")},$r.prototype.concat=function(r,a,u){var g=typeof r=="number"?this.path.concat(r):this.path,b=u?this.scope.concat(u):this.scope;return new $r(this.registry,g,a||null,b,this.errors)},$r.prototype.error=function(r){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];var g=""+this.key+a.map(function(b){return"["+b+"]"}).join("");this.errors.push(new ye(g,r))},$r.prototype.checkSubtype=function(r,a){var u=Ai(r,a);return u&&this.error(u),u};var Do=function(r,a,u){this.type=r,this.input=a,this.labels=[],this.outputs=[];for(var g=0,b=u;g<b.length;g+=1){var C=b[g],T=C[1];this.labels.push(C[0]),this.outputs.push(T)}};function Tr(r,a,u){return r*(1-u)+a*u}Do.parse=function(r,a){if(r.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return a.error("Expected an even number of arguments.");var u=a.parse(r[1],1,ct);if(!u)return null;var g=[],b=null;a.expectedType&&a.expectedType.kind!=="value"&&(b=a.expectedType);for(var C=1;C<r.length;C+=2){var T=C===1?-1/0:r[C],B=r[C+1],j=C,W=C+1;if(typeof T!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(g.length&&g[g.length-1][0]>=T)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);var Z=a.parse(B,W,b);if(!Z)return null;b=b||Z.type,g.push([T,Z])}return new Do(b,u,g)},Do.prototype.evaluate=function(r){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=a[0])return u[0].evaluate(r);var b=a.length;return g>=a[b-1]?u[b-1].evaluate(r):u[Qn(a,g)].evaluate(r)},Do.prototype.eachChild=function(r){r(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)r(u[a])},Do.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Do.prototype.serialize=function(){for(var r=["step",this.input.serialize()],a=0;a<this.labels.length;a++)a>0&&r.push(this.labels[a]),r.push(this.outputs[a].serialize());return r};var au=Object.freeze({__proto__:null,number:Tr,color:function(r,a,u){return new wn(Tr(r.r,a.r,u),Tr(r.g,a.g,u),Tr(r.b,a.b,u),Tr(r.a,a.a,u))},array:function(r,a,u){return r.map(function(g,b){return Tr(g,a[b],u)})}}),Bf=6/29*3*(6/29),Hc=Math.PI/180,Bp=180/Math.PI;function su(r){return r>.008856451679035631?Math.pow(r,1/3):r/Bf+4/29}function lu(r){return r>6/29?r*r*r:Bf*(r-4/29)}function yi(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function uu(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Us(r){var a=uu(r.r),u=uu(r.g),g=uu(r.b),b=su((.4124564*a+.3575761*u+.1804375*g)/.95047),C=su((.2126729*a+.7151522*u+.072175*g)/1);return{l:116*C-16,a:500*(b-C),b:200*(C-su((.0193339*a+.119192*u+.9503041*g)/1.08883)),alpha:r.a}}function cu(r){var a=(r.l+16)/116,u=isNaN(r.a)?a:a+r.a/500,g=isNaN(r.b)?a:a-r.b/200;return a=1*lu(a),u=.95047*lu(u),g=1.08883*lu(g),new wn(yi(3.2404542*u-1.5371385*a-.4985314*g),yi(-.969266*u+1.8760108*a+.041556*g),yi(.0556434*u-.2040259*a+1.0572252*g),r.alpha)}function $s(r,a,u){var g=a-r;return r+u*(g>180||g<-180?g-360*Math.round(g/360):g)}var Pi={forward:Us,reverse:cu,interpolate:function(r,a,u){return{l:Tr(r.l,a.l,u),a:Tr(r.a,a.a,u),b:Tr(r.b,a.b,u),alpha:Tr(r.alpha,a.alpha,u)}}},Fl={forward:function(r){var a=Us(r),u=a.l,g=a.a,b=a.b,C=Math.atan2(b,g)*Bp;return{h:C<0?C+360:C,c:Math.sqrt(g*g+b*b),l:u,alpha:r.a}},reverse:function(r){var a=r.h*Hc,u=r.c;return cu({l:r.l,a:Math.cos(a)*u,b:Math.sin(a)*u,alpha:r.alpha})},interpolate:function(r,a,u){return{h:$s(r.h,a.h,u),c:Tr(r.c,a.c,u),l:Tr(r.l,a.l,u),alpha:Tr(r.alpha,a.alpha,u)}}},qc=Object.freeze({__proto__:null,lab:Pi,hcl:Fl}),Ki=function(r,a,u,g,b){this.type=r,this.operator=a,this.interpolation=u,this.input=g,this.labels=[],this.outputs=[];for(var C=0,T=b;C<T.length;C+=1){var B=T[C],j=B[1];this.labels.push(B[0]),this.outputs.push(j)}};function Gc(r,a,u,g){var b=g-u,C=r-u;return b===0?0:a===1?C/b:(Math.pow(a,C)-1)/(Math.pow(a,b)-1)}Ki.interpolationFactor=function(r,a,u,g){var b=0;if(r.name==="exponential")b=Gc(a,r.base,u,g);else if(r.name==="linear")b=Gc(a,1,u,g);else if(r.name==="cubic-bezier"){var C=r.controlPoints;b=new S(C[0],C[1],C[2],C[3]).solve(Gc(a,1,u,g))}return b},Ki.parse=function(r,a){var u=r[0],g=r[1],b=r[2],C=r.slice(3);if(!Array.isArray(g)||g.length===0)return a.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var T=g[1];if(typeof T!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:T}}else{if(g[0]!=="cubic-bezier")return a.error("Unknown interpolation type "+String(g[0]),1,0);var B=g.slice(1);if(B.length!==4||B.some(function(He){return typeof He!="number"||He<0||He>1}))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:B}}if(r.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if((r.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(!(b=a.parse(b,2,ct)))return null;var j=[],W=null;u==="interpolate-hcl"||u==="interpolate-lab"?W=hn:a.expectedType&&a.expectedType.kind!=="value"&&(W=a.expectedType);for(var Z=0;Z<C.length;Z+=2){var Y=C[Z],ue=C[Z+1],he=Z+3,Ee=Z+4;if(typeof Y!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',he);if(j.length&&j[j.length-1][0]>=Y)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',he);var ke=a.parse(ue,Ee,W);if(!ke)return null;W=W||ke.type,j.push([Y,ke])}return W.kind==="number"||W.kind==="color"||W.kind==="array"&&W.itemType.kind==="number"&&typeof W.N=="number"?new Ki(W,u,g,b,j):a.error("Type "+lr(W)+" is not interpolatable.")},Ki.prototype.evaluate=function(r){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(r);var g=this.input.evaluate(r);if(g<=a[0])return u[0].evaluate(r);var b=a.length;if(g>=a[b-1])return u[b-1].evaluate(r);var C=Qn(a,g),T=Ki.interpolationFactor(this.interpolation,g,a[C],a[C+1]),B=u[C].evaluate(r),j=u[C+1].evaluate(r);return this.operator==="interpolate"?au[this.type.kind.toLowerCase()](B,j,T):this.operator==="interpolate-hcl"?Fl.reverse(Fl.interpolate(Fl.forward(B),Fl.forward(j),T)):Pi.reverse(Pi.interpolate(Pi.forward(B),Pi.forward(j),T))},Ki.prototype.eachChild=function(r){r(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)r(u[a])},Ki.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})},Ki.prototype.serialize=function(){var r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var a=[this.operator,r,this.input.serialize()],u=0;u<this.labels.length;u++)a.push(this.labels[u],this.outputs[u].serialize());return a};var js=function(r,a){this.type=r,this.args=a};js.parse=function(r,a){if(r.length<2)return a.error("Expectected at least one argument.");var u=null,g=a.expectedType;g&&g.kind!=="value"&&(u=g);for(var b=[],C=0,T=r.slice(1);C<T.length;C+=1){var B=a.parse(T[C],1+b.length,u,void 0,{typeAnnotation:"omit"});if(!B)return null;u=u||B.type,b.push(B)}var j=g&&b.some(function(W){return Ai(g,W.type)});return new js(j?Qt:u,b)},js.prototype.evaluate=function(r){for(var a,u=null,g=0,b=0,C=this.args;b<C.length&&(g++,(u=C[b].evaluate(r))&&u instanceof Qo&&!u.available&&(a||(a=u.name),u=null,g===this.args.length&&(u=a)),u===null);b+=1);return u},js.prototype.eachChild=function(r){this.args.forEach(r)},js.prototype.outputDefined=function(){return this.args.every(function(r){return r.outputDefined()})},js.prototype.serialize=function(){var r=["coalesce"];return this.eachChild(function(a){r.push(a.serialize())}),r};var Es=function(r,a){this.type=a.type,this.bindings=[].concat(r),this.result=a};Es.prototype.evaluate=function(r){return this.result.evaluate(r)},Es.prototype.eachChild=function(r){for(var a=0,u=this.bindings;a<u.length;a+=1)r(u[a][1]);r(this.result)},Es.parse=function(r,a){if(r.length<4)return a.error("Expected at least 3 arguments, but found "+(r.length-1)+" instead.");for(var u=[],g=1;g<r.length-1;g+=2){var b=r[g];if(typeof b!="string")return a.error("Expected string, but found "+typeof b+" instead.",g);if(/[^a-zA-Z0-9_]/.test(b))return a.error("Variable names must contain only alphanumeric characters or '_'.",g);var C=a.parse(r[g+1],g+1);if(!C)return null;u.push([b,C])}var T=a.parse(r[r.length-1],r.length-1,a.expectedType,u);return T?new Es(u,T):null},Es.prototype.outputDefined=function(){return this.result.outputDefined()},Es.prototype.serialize=function(){for(var r=["let"],a=0,u=this.bindings;a<u.length;a+=1){var g=u[a];r.push(g[0],g[1].serialize())}return r.push(this.result.serialize()),r};var co=function(r,a,u){this.type=r,this.index=a,this.input=u};co.parse=function(r,a){if(r.length!==3)return a.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,ct),g=a.parse(r[2],2,gr(a.expectedType||Qt));return u&&g?new co(g.type.itemType,u,g):null},co.prototype.evaluate=function(r){var a=this.index.evaluate(r),u=this.input.evaluate(r);if(a<0)throw new si("Array index out of bounds: "+a+" < 0.");if(a>=u.length)throw new si("Array index out of bounds: "+a+" > "+(u.length-1)+".");if(a!==Math.floor(a))throw new si("Array index must be an integer, but found "+a+" instead.");return u[a]},co.prototype.eachChild=function(r){r(this.index),r(this.input)},co.prototype.outputDefined=function(){return!1},co.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Bl=function(r,a){this.type=bt,this.needle=r,this.haystack=a};Bl.parse=function(r,a){if(r.length!==3)return a.error("Expected 2 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,Qt);return u&&g?Sr(u.type,[bt,It,ct,$t,Qt])?new Bl(u,g):a.error("Expected first argument to be of type boolean, string, number or null, but found "+lr(u.type)+" instead"):null},Bl.prototype.evaluate=function(r){var a=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!u)return!1;if(!Xt(a,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+lr(ao(a))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+lr(ao(u))+" instead.");return u.indexOf(a)>=0},Bl.prototype.eachChild=function(r){r(this.needle),r(this.haystack)},Bl.prototype.outputDefined=function(){return!0},Bl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fo=function(r,a,u){this.type=ct,this.needle=r,this.haystack=a,this.fromIndex=u};fo.parse=function(r,a){if(r.length<=2||r.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,Qt);if(!u||!g)return null;if(!Sr(u.type,[bt,It,ct,$t,Qt]))return a.error("Expected first argument to be of type boolean, string, number or null, but found "+lr(u.type)+" instead");if(r.length===4){var b=a.parse(r[3],3,ct);return b?new fo(u,g,b):null}return new fo(u,g)},fo.prototype.evaluate=function(r){var a=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!Xt(a,["boolean","string","number","null"]))throw new si("Expected first argument to be of type boolean, string, number or null, but found "+lr(ao(a))+" instead.");if(!Xt(u,["string","array"]))throw new si("Expected second argument to be of type array or string, but found "+lr(ao(u))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(r);return u.indexOf(a,g)}return u.indexOf(a)},fo.prototype.eachChild=function(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var us=function(r,a,u,g,b,C){this.inputType=r,this.type=a,this.input=u,this.cases=g,this.outputs=b,this.otherwise=C};us.parse=function(r,a){if(r.length<5)return a.error("Expected at least 4 arguments, but found only "+(r.length-1)+".");if(r.length%2!=1)return a.error("Expected an even number of arguments.");var u,g;a.expectedType&&a.expectedType.kind!=="value"&&(g=a.expectedType);for(var b={},C=[],T=2;T<r.length-1;T+=2){var B=r[T],j=r[T+1];Array.isArray(B)||(B=[B]);var W=a.concat(T);if(B.length===0)return W.error("Expected at least one branch label.");for(var Z=0,Y=B;Z<Y.length;Z+=1){var ue=Y[Z];if(typeof ue!="number"&&typeof ue!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ue=="number"&&Math.abs(ue)>Number.MAX_SAFE_INTEGER)return W.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof ue=="number"&&Math.floor(ue)!==ue)return W.error("Numeric branch labels must be integer values.");if(u){if(W.checkSubtype(u,ao(ue)))return null}else u=ao(ue);if(b[String(ue)]!==void 0)return W.error("Branch labels must be unique.");b[String(ue)]=C.length}var he=a.parse(j,T,g);if(!he)return null;g=g||he.type,C.push(he)}var Ee=a.parse(r[1],1,Qt);if(!Ee)return null;var ke=a.parse(r[r.length-1],r.length-1,g);return ke?Ee.type.kind!=="value"&&a.concat(1).checkSubtype(u,Ee.type)?null:new us(u,g,Ee,b,C,ke):null},us.prototype.evaluate=function(r){var a=this.input.evaluate(r);return(ao(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(r)},us.prototype.eachChild=function(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)},us.prototype.outputDefined=function(){return this.outputs.every(function(r){return r.outputDefined()})&&this.otherwise.outputDefined()},us.prototype.serialize=function(){for(var r=this,a=["match",this.input.serialize()],u=[],g={},b=0,C=Object.keys(this.cases).sort();b<C.length;b+=1){var T=C[b];(Y=g[this.cases[T]])===void 0?(g[this.cases[T]]=u.length,u.push([this.cases[T],[T]])):u[Y][1].push(T)}for(var B=function(he){return r.inputType.kind==="number"?Number(he):he},j=0,W=u;j<W.length;j+=1){var Z=W[j],Y=Z[0],ue=Z[1];a.push(ue.length===1?B(ue[0]):ue.map(B)),a.push(this.outputs[outputIndex$1].serialize())}return a.push(this.otherwise.serialize()),a};var ul=function(r,a,u){this.type=r,this.branches=a,this.otherwise=u};ul.parse=function(r,a){if(r.length<4)return a.error("Expected at least 3 arguments, but found only "+(r.length-1)+".");if(r.length%2!=0)return a.error("Expected an odd number of arguments.");var u;a.expectedType&&a.expectedType.kind!=="value"&&(u=a.expectedType);for(var g=[],b=1;b<r.length-1;b+=2){var C=a.parse(r[b],b,bt);if(!C)return null;var T=a.parse(r[b+1],b+1,u);if(!T)return null;g.push([C,T]),u=u||T.type}var B=a.parse(r[r.length-1],r.length-1,u);return B?new ul(u,g,B):null},ul.prototype.evaluate=function(r){for(var a=0,u=this.branches;a<u.length;a+=1){var g=u[a],b=g[1];if(g[0].evaluate(r))return b.evaluate(r)}return this.otherwise.evaluate(r)},ul.prototype.eachChild=function(r){for(var a=0,u=this.branches;a<u.length;a+=1){var g=u[a],b=g[1];r(g[0]),r(b)}r(this.otherwise)},ul.prototype.outputDefined=function(){return this.branches.every(function(r){return r[1].outputDefined()})&&this.otherwise.outputDefined()},ul.prototype.serialize=function(){var r=["case"];return this.eachChild(function(a){r.push(a.serialize())}),r};var Zo=function(r,a,u,g){this.type=r,this.input=a,this.beginIndex=u,this.endIndex=g};function fu(r,a){return r==="=="||r==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function Fr(r,a,u,g){return g.compare(a,u)===0}function ti(r,a,u){var g=r!=="=="&&r!=="!=";return function(){function b(C,T,B){this.type=bt,this.lhs=C,this.rhs=T,this.collator=B,this.hasUntypedArgument=C.type.kind==="value"||T.type.kind==="value"}return b.parse=function(C,T){if(C.length!==3&&C.length!==4)return T.error("Expected two or three arguments.");var B=C[0],j=T.parse(C[1],1,Qt);if(!j)return null;if(!fu(B,j.type))return T.concat(1).error('"'+B+`" comparisons are not supported for type '`+lr(j.type)+"'.");var W=T.parse(C[2],2,Qt);if(!W)return null;if(!fu(B,W.type))return T.concat(2).error('"'+B+`" comparisons are not supported for type '`+lr(W.type)+"'.");if(j.type.kind!==W.type.kind&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot compare types '"+lr(j.type)+"' and '"+lr(W.type)+"'.");g&&(j.type.kind==="value"&&W.type.kind!=="value"?j=new Eo(W.type,[j]):j.type.kind!=="value"&&W.type.kind==="value"&&(W=new Eo(j.type,[W])));var Z=null;if(C.length===4){if(j.type.kind!=="string"&&W.type.kind!=="string"&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(!(Z=T.parse(C[3],3,dr)))return null}return new b(j,W,Z)},b.prototype.evaluate=function(C){var T=this.lhs.evaluate(C),B=this.rhs.evaluate(C);if(g&&this.hasUntypedArgument){var j=ao(T),W=ao(B);if(j.kind!==W.kind||j.kind!=="string"&&j.kind!=="number")throw new si('Expected arguments for "'+r+'" to be (string, string) or (number, number), but found ('+j.kind+", "+W.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var Z=ao(T),Y=ao(B);if(Z.kind!=="string"||Y.kind!=="string")return a(C,T,B)}return this.collator?u(C,T,B,this.collator.evaluate(C)):a(C,T,B)},b.prototype.eachChild=function(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var C=[r];return this.eachChild(function(T){C.push(T.serialize())}),C},b}()}Zo.parse=function(r,a){if(r.length<=2||r.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1,Qt),g=a.parse(r[2],2,ct);if(!u||!g)return null;if(!Sr(u.type,[gr(Qt),It,Qt]))return a.error("Expected first argument to be of type array or string, but found "+lr(u.type)+" instead");if(r.length===4){var b=a.parse(r[3],3,ct);return b?new Zo(u.type,u,g,b):null}return new Zo(u.type,u,g)},Zo.prototype.evaluate=function(r){var a=this.input.evaluate(r),u=this.beginIndex.evaluate(r);if(!Xt(a,["string","array"]))throw new si("Expected first argument to be of type array or string, but found "+lr(ao(a))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(r);return a.slice(u,g)}return a.slice(u)},Zo.prototype.eachChild=function(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ua=ti("==",function(r,a,u){return a===u},Fr),Ju=ti("!=",function(r,a,u){return a!==u},function(r,a,u,g){return!Fr(0,a,u,g)}),pu=ti("<",function(r,a,u){return a<u},function(r,a,u,g){return g.compare(a,u)<0}),Vs=ti(">",function(r,a,u){return a>u},function(r,a,u,g){return g.compare(a,u)>0}),zp=ti("<=",function(r,a,u){return a<=u},function(r,a,u,g){return g.compare(a,u)<=0}),ec=ti(">=",function(r,a,u){return a>=u},function(r,a,u,g){return g.compare(a,u)>=0}),cl=function(r,a,u,g,b){this.type=It,this.number=r,this.locale=a,this.currency=u,this.minFractionDigits=g,this.maxFractionDigits=b};cl.parse=function(r,a){if(r.length!==3)return a.error("Expected two arguments.");var u=a.parse(r[1],1,ct);if(!u)return null;var g=r[2];if(typeof g!="object"||Array.isArray(g))return a.error("NumberFormat options argument must be an object.");var b=null;if(g.locale&&!(b=a.parse(g.locale,1,It)))return null;var C=null;if(g.currency&&!(C=a.parse(g.currency,1,It)))return null;var T=null;if(g["min-fraction-digits"]&&!(T=a.parse(g["min-fraction-digits"],1,ct)))return null;var B=null;return g["max-fraction-digits"]&&!(B=a.parse(g["max-fraction-digits"],1,ct))?null:new cl(u,b,C,T,B)},cl.prototype.evaluate=function(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))},cl.prototype.eachChild=function(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)},cl.prototype.outputDefined=function(){return!1},cl.prototype.serialize=function(){var r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]};var Hs=function(r){this.type=ct,this.input=r};Hs.parse=function(r,a){if(r.length!==2)return a.error("Expected 1 argument, but found "+(r.length-1)+" instead.");var u=a.parse(r[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?a.error("Expected argument of type string or array, but found "+lr(u.type)+" instead."):new Hs(u):null},Hs.prototype.evaluate=function(r){var a=this.input.evaluate(r);if(typeof a=="string"||Array.isArray(a))return a.length;throw new si("Expected value to be of type string or array, but found "+lr(ao(a))+" instead.")},Hs.prototype.eachChild=function(r){r(this.input)},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){var r=["length"];return this.eachChild(function(a){r.push(a.serialize())}),r};var qs={"==":Ua,"!=":Ju,">":Vs,"<":pu,">=":ec,"<=":zp,array:Eo,at:co,boolean:Eo,case:ul,coalesce:js,collator:Ni,format:Wo,image:ss,in:Bl,"index-of":fo,interpolate:Ki,"interpolate-hcl":Ki,"interpolate-lab":Ki,length:Hs,let:Es,literal:ca,match:us,number:Eo,"number-format":cl,object:Eo,slice:Zo,step:Do,string:Eo,"to-boolean":zi,"to-color":zi,"to-number":zi,"to-string":zi,var:ll,within:Ko};function zl(r,a){var u=a[0],g=a[1],b=a[2],C=a[3];u=u.evaluate(r),g=g.evaluate(r),b=b.evaluate(r);var T=C?C.evaluate(r):1,B=Nc(u,g,b,T);if(B)throw new si(B);return new wn(u/255*T,g/255*T,b/255*T,T)}function Np(r,a){return r in a}function Qc(r,a){var u=a[r];return u===void 0?null:u}function fl(r){return{type:r}}function tc(r){return{result:"success",value:r}}function _a(r){return{result:"error",value:r}}function Nl(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Wc(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function nc(r){return!!r.expression&&r.expression.interpolated}function qr(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Kc(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function zf(r){return r}function ko(r,a,u){return r!==void 0?r:a!==void 0?a:u!==void 0?u:void 0}function Zc(r,a,u,g,b){return ko(typeof u===b?g[u]:void 0,r.default,a.default)}function hu(r,a,u){if(qr(u)!=="number")return ko(r.default,a.default);var g=r.stops.length;if(g===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[g-1][0])return r.stops[g-1][1];var b=Qn(r.stops.map(function(C){return C[0]}),u);return r.stops[b][1]}function pl(r,a,u){var g=r.base!==void 0?r.base:1;if(qr(u)!=="number")return ko(r.default,a.default);var b=r.stops.length;if(b===1||u<=r.stops[0][0])return r.stops[0][1];if(u>=r.stops[b-1][0])return r.stops[b-1][1];var C=Qn(r.stops.map(function(Y){return Y[0]}),u),T=function(Y,ue,he,Ee){var ke=Ee-he,He=Y-he;return ke===0?0:ue===1?He/ke:(Math.pow(ue,He)-1)/(Math.pow(ue,ke)-1)}(u,g,r.stops[C][0],r.stops[C+1][0]),B=r.stops[C][1],j=r.stops[C+1][1],W=au[a.type]||zf;if(r.colorSpace&&r.colorSpace!=="rgb"){var Z=qc[r.colorSpace];W=function(Y,ue){return Z.reverse(Z.interpolate(Z.forward(Y),Z.forward(ue),T))}}return typeof B.evaluate=="function"?{evaluate:function(){for(var Y=[],ue=arguments.length;ue--;)Y[ue]=arguments[ue];var he=B.evaluate.apply(void 0,Y),Ee=j.evaluate.apply(void 0,Y);if(he!==void 0&&Ee!==void 0)return W(he,Ee,T)}}:W(B,j,T)}function Nf(r,a,u){return a.type==="color"?u=wn.parse(u):a.type==="formatted"?u=oo.fromString(u.toString()):a.type==="resolvedImage"?u=Qo.fromString(u.toString()):qr(u)===a.type||a.type==="enum"&&a.values[u]||(u=void 0),ko(u,r.default,a.default)}wi.register(qs,{error:[{kind:"error"},[It],function(r,a){throw new si(a[0].evaluate(r))}],typeof:[It,[Qt],function(r,a){return lr(ao(a[0].evaluate(r)))}],"to-rgba":[gr(ct,4),[hn],function(r,a){return a[0].evaluate(r).toArray()}],rgb:[hn,[ct,ct,ct],zl],rgba:[hn,[ct,ct,ct,ct],zl],has:{type:bt,overloads:[[[It],function(r,a){return Np(a[0].evaluate(r),r.properties())}],[[It,fn],function(r,a){var u=a[1];return Np(a[0].evaluate(r),u.evaluate(r))}]]},get:{type:Qt,overloads:[[[It],function(r,a){return Qc(a[0].evaluate(r),r.properties())}],[[It,fn],function(r,a){var u=a[1];return Qc(a[0].evaluate(r),u.evaluate(r))}]]},"feature-state":[Qt,[It],function(r,a){return Qc(a[0].evaluate(r),r.featureState||{})}],properties:[fn,[],function(r){return r.properties()}],"geometry-type":[It,[],function(r){return r.geometryType()}],id:[Qt,[],function(r){return r.id()}],zoom:[ct,[],function(r){return r.globals.zoom}],"heatmap-density":[ct,[],function(r){return r.globals.heatmapDensity||0}],"line-progress":[ct,[],function(r){return r.globals.lineProgress||0}],accumulated:[Qt,[],function(r){return r.globals.accumulated===void 0?null:r.globals.accumulated}],"+":[ct,fl(ct),function(r,a){for(var u=0,g=0,b=a;g<b.length;g+=1)u+=b[g].evaluate(r);return u}],"*":[ct,fl(ct),function(r,a){for(var u=1,g=0,b=a;g<b.length;g+=1)u*=b[g].evaluate(r);return u}],"-":{type:ct,overloads:[[[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)-u.evaluate(r)}],[[ct],function(r,a){return-a[0].evaluate(r)}]]},"/":[ct,[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)/u.evaluate(r)}],"%":[ct,[ct,ct],function(r,a){var u=a[1];return a[0].evaluate(r)%u.evaluate(r)}],ln2:[ct,[],function(){return Math.LN2}],pi:[ct,[],function(){return Math.PI}],e:[ct,[],function(){return Math.E}],"^":[ct,[ct,ct],function(r,a){var u=a[1];return Math.pow(a[0].evaluate(r),u.evaluate(r))}],sqrt:[ct,[ct],function(r,a){return Math.sqrt(a[0].evaluate(r))}],log10:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))/Math.LN10}],ln:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))}],log2:[ct,[ct],function(r,a){return Math.log(a[0].evaluate(r))/Math.LN2}],sin:[ct,[ct],function(r,a){return Math.sin(a[0].evaluate(r))}],cos:[ct,[ct],function(r,a){return Math.cos(a[0].evaluate(r))}],tan:[ct,[ct],function(r,a){return Math.tan(a[0].evaluate(r))}],asin:[ct,[ct],function(r,a){return Math.asin(a[0].evaluate(r))}],acos:[ct,[ct],function(r,a){return Math.acos(a[0].evaluate(r))}],atan:[ct,[ct],function(r,a){return Math.atan(a[0].evaluate(r))}],min:[ct,fl(ct),function(r,a){return Math.min.apply(Math,a.map(function(u){return u.evaluate(r)}))}],max:[ct,fl(ct),function(r,a){return Math.max.apply(Math,a.map(function(u){return u.evaluate(r)}))}],abs:[ct,[ct],function(r,a){return Math.abs(a[0].evaluate(r))}],round:[ct,[ct],function(r,a){var u=a[0].evaluate(r);return u<0?-Math.round(-u):Math.round(u)}],floor:[ct,[ct],function(r,a){return Math.floor(a[0].evaluate(r))}],ceil:[ct,[ct],function(r,a){return Math.ceil(a[0].evaluate(r))}],"filter-==":[bt,[It,Qt],function(r,a){var u=a[0],g=a[1];return r.properties()[u.value]===g.value}],"filter-id-==":[bt,[Qt],function(r,a){var u=a[0];return r.id()===u.value}],"filter-type-==":[bt,[It],function(r,a){var u=a[0];return r.geometryType()===u.value}],"filter-<":[bt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b<C}],"filter-id-<":[bt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<b}],"filter->":[bt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b>C}],"filter-id->":[bt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>b}],"filter-<=":[bt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b<=C}],"filter-id-<=":[bt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g<=b}],"filter->=":[bt,[It,Qt],function(r,a){var u=a[0],g=a[1],b=r.properties()[u.value],C=g.value;return typeof b==typeof C&&b>=C}],"filter-id->=":[bt,[Qt],function(r,a){var u=a[0],g=r.id(),b=u.value;return typeof g==typeof b&&g>=b}],"filter-has":[bt,[Qt],function(r,a){return a[0].value in r.properties()}],"filter-has-id":[bt,[],function(r){return r.id()!==null&&r.id()!==void 0}],"filter-type-in":[bt,[gr(It)],function(r,a){return a[0].value.indexOf(r.geometryType())>=0}],"filter-id-in":[bt,[gr(Qt)],function(r,a){return a[0].value.indexOf(r.id())>=0}],"filter-in-small":[bt,[It,gr(Qt)],function(r,a){var u=a[0];return a[1].value.indexOf(r.properties()[u.value])>=0}],"filter-in-large":[bt,[It,gr(Qt)],function(r,a){var u=a[0],g=a[1];return function(b,C,T,B){for(;T<=B;){var j=T+B>>1;if(C[j]===b)return!0;C[j]>b?B=j-1:T=j+1}return!1}(r.properties()[u.value],g.value,0,g.value.length-1)}],all:{type:bt,overloads:[[[bt,bt],function(r,a){var u=a[1];return a[0].evaluate(r)&&u.evaluate(r)}],[fl(bt),function(r,a){for(var u=0,g=a;u<g.length;u+=1)if(!g[u].evaluate(r))return!1;return!0}]]},any:{type:bt,overloads:[[[bt,bt],function(r,a){var u=a[1];return a[0].evaluate(r)||u.evaluate(r)}],[fl(bt),function(r,a){for(var u=0,g=a;u<g.length;u+=1)if(g[u].evaluate(r))return!0;return!1}]]},"!":[bt,[bt],function(r,a){return!a[0].evaluate(r)}],"is-supported-script":[bt,[It],function(r,a){var u=r.globals&&r.globals.isSupportedScript;return!u||u(a[0].evaluate(r))}],upcase:[It,[It],function(r,a){return a[0].evaluate(r).toUpperCase()}],downcase:[It,[It],function(r,a){return a[0].evaluate(r).toLowerCase()}],concat:[It,fl(Qt),function(r,a){return a.map(function(u){return as(u.evaluate(r))}).join("")}],"resolved-locale":[It,[dr],function(r,a){return a[0].evaluate(r).resolvedLocale()}]});var po=function(r,a){this.expression=r,this._warningHistory={},this._evaluator=new ls,this._defaultValue=a?function(u){return u.type==="color"&&Kc(u.default)?new wn(0,0,0,0):u.type==="color"?wn.parse(u.default)||null:u.default===void 0?null:u.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null};function Ui(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in qs}function Xc(r,a){var u=new $r(qs,[],a?function(b){var C={color:hn,string:It,number:ct,enum:It,boolean:bt,formatted:Jn,resolvedImage:Dr};return b.type==="array"?gr(C[b.value]||Qt,b.length):C[b.type]}(a):void 0),g=u.parse(r,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?tc(new po(g,a)):_a(u.errors)}po.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,C){return this._evaluator.globals=r,this._evaluator.feature=a,this._evaluator.featureState=u,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this.expression.evaluate(this._evaluator)},po.prototype.evaluate=function(r,a,u,g,b,C){this._evaluator.globals=r,this._evaluator.feature=a||null,this._evaluator.featureState=u||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null;try{var T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new si("Expected value to be one of "+Object.keys(this._enumValues).map(function(B){return JSON.stringify(B)}).join(", ")+", but found "+JSON.stringify(T)+" instead.");return T}catch(B){return this._warningHistory[B.message]||(this._warningHistory[B.message]=!0,typeof console<"u"&&console.warn(B.message)),this._defaultValue}};var rc=function(r,a){this.kind=r,this._styleExpression=a,this.isStateDependent=r!=="constant"&&!Cs(a.expression)};rc.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(r,a,u,g,b,C)},rc.prototype.evaluate=function(r,a,u,g,b,C){return this._styleExpression.evaluate(r,a,u,g,b,C)};var Au=function(r,a,u,g){this.kind=r,this.zoomStops=u,this._styleExpression=a,this.isStateDependent=r!=="camera"&&!Cs(a.expression),this.interpolationType=g};function hl(r,a){if((r=Xc(r,a)).result==="error")return r;var u=r.value.expression,g=sl(u);if(!g&&!Nl(a))return _a([new ye("","data expressions not supported")]);var b=Vc(u,["zoom"]);if(!b&&!Wc(a))return _a([new ye("","zoom expressions not supported")]);var C=function T(B){var j=null;if(B instanceof Es)j=T(B.result);else if(B instanceof js)for(var W=0,Z=B.args;W<Z.length&&!(j=T(Z[W]));W+=1);else(B instanceof Do||B instanceof Ki)&&B.input instanceof wi&&B.input.name==="zoom"&&(j=B);return j instanceof ye||B.eachChild(function(Y){var ue=T(Y);ue instanceof ye?j=ue:!j&&ue?j=new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):j&&ue&&j!==ue&&(j=new ye("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),j}(u);return C||b?C instanceof ye?_a([C]):C instanceof Ki&&!nc(a)?_a([new ye("",'"interpolate" expressions cannot be used with this property')]):tc(C?new Au(g?"camera":"composite",r.value,C.labels,C instanceof Ki?C.interpolation:void 0):new rc(g?"constant":"source",r.value)):_a([new ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Au.prototype.evaluateWithoutErrorHandling=function(r,a,u,g,b,C){return this._styleExpression.evaluateWithoutErrorHandling(r,a,u,g,b,C)},Au.prototype.evaluate=function(r,a,u,g,b,C){return this._styleExpression.evaluate(r,a,u,g,b,C)},Au.prototype.interpolationFactor=function(r,a,u){return this.interpolationType?Ki.interpolationFactor(this.interpolationType,r,a,u):0};var ic=function(r,a){this._parameters=r,this._specification=a,lt(this,function u(g,b){var C,T,B,j=b.type==="color",W=g.stops&&typeof g.stops[0][0]=="object",Z=W||!(W||g.property!==void 0),Y=g.type||(nc(b)?"exponential":"interval");if(j&&((g=lt({},g)).stops&&(g.stops=g.stops.map(function(nn){return[nn[0],wn.parse(nn[1])]})),g.default=wn.parse(g.default?g.default:b.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!qc[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(Y==="exponential")C=pl;else if(Y==="interval")C=hu;else if(Y==="categorical"){C=Zc,T=Object.create(null);for(var ue=0,he=g.stops;ue<he.length;ue+=1){var Ee=he[ue];T[Ee[0]]=Ee[1]}B=typeof g.stops[0][0]}else{if(Y!=="identity")throw new Error('Unknown function type "'+Y+'"');C=Nf}if(W){for(var ke={},He=[],De=0;De<g.stops.length;De++){var nt=g.stops[De],ot=nt[0].zoom;ke[ot]===void 0&&(ke[ot]={zoom:ot,type:g.type,property:g.property,default:g.default,stops:[]},He.push(ot)),ke[ot].stops.push([nt[0].value,nt[1]])}for(var ft=[],pt=0,kt=He;pt<kt.length;pt+=1){var Ut=kt[pt];ft.push([ke[Ut].zoom,u(ke[Ut],b)])}var Zt={name:"linear"};return{kind:"composite",interpolationType:Zt,interpolationFactor:Ki.interpolationFactor.bind(void 0,Zt),zoomStops:ft.map(function(nn){return nn[0]}),evaluate:function(nn,En){var on=nn.zoom;return pl({stops:ft,base:g.base},b,on).evaluate(on,En)}}}if(Z){var gn=Y==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:gn,interpolationFactor:Ki.interpolationFactor.bind(void 0,gn),zoomStops:g.stops.map(function(nn){return nn[0]}),evaluate:function(nn){return C(g,b,nn.zoom,T,B)}}}return{kind:"source",evaluate:function(nn,En){var on=En&&En.properties?En.properties[g.property]:void 0;return on===void 0?ko(g.default,b.default):C(g,b,on,T,B)}}}(this._parameters,this._specification))};function Si(r){var a=r.key,u=r.value,g=r.valueSpec||{},b=r.objectElementValidators||{},C=r.style,T=r.styleSpec,B=[],j=qr(u);if(j!=="object")return[new ae(a,u,"object expected, "+j+" found")];for(var W in u){var Z=W.split(".")[0],Y=g[Z]||g["*"],ue=void 0;if(b[Z])ue=b[Z];else if(g[Z])ue=cr;else if(b["*"])ue=b["*"];else{if(!g["*"]){B.push(new ae(a,u[W],'unknown property "'+W+'"'));continue}ue=cr}B=B.concat(ue({key:(a&&a+".")+W,value:u[W],valueSpec:Y,style:C,styleSpec:T,object:u,objectKey:W},u))}for(var he in g)b[he]||g[he].required&&g[he].default===void 0&&u[he]===void 0&&B.push(new ae(a,u,'missing required property "'+he+'"'));return B}function du(r){var a=r.value,u=r.valueSpec,g=r.style,b=r.styleSpec,C=r.key,T=r.arrayElementValidator||cr;if(qr(a)!=="array")return[new ae(C,a,"array expected, "+qr(a)+" found")];if(u.length&&a.length!==u.length)return[new ae(C,a,"array length "+u.length+" expected, length "+a.length+" found")];if(u["min-length"]&&a.length<u["min-length"])return[new ae(C,a,"array length at least "+u["min-length"]+" expected, length "+a.length+" found")];var B={type:u.value,values:u.values};b.$version<7&&(B.function=u.function),qr(u.value)==="object"&&(B=u.value);for(var j=[],W=0;W<a.length;W++)j=j.concat(T({array:a,arrayIndex:W,value:a[W],valueSpec:B,style:g,styleSpec:b,key:C+"["+W+"]"}));return j}function ks(r){var a=r.key,u=r.value,g=r.valueSpec,b=qr(u);return b==="number"&&u!=u&&(b="NaN"),b!=="number"?[new ae(a,u,"number expected, "+b+" found")]:"minimum"in g&&u<g.minimum?[new ae(a,u,u+" is less than the minimum value "+g.minimum)]:"maximum"in g&&u>g.maximum?[new ae(a,u,u+" is greater than the maximum value "+g.maximum)]:[]}function Ps(r){var a,u,g,b=r.valueSpec,C=We(r.value.type),T={},B=C!=="categorical"&&r.value.property===void 0,j=!B,W=qr(r.value.stops)==="array"&&qr(r.value.stops[0])==="array"&&qr(r.value.stops[0][0])==="object",Z=Si({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(he){if(C==="identity")return[new ae(he.key,he.value,'identity function may not have a "stops" property')];var Ee=[],ke=he.value;return Ee=Ee.concat(du({key:he.key,value:ke,valueSpec:he.valueSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:Y})),qr(ke)==="array"&&ke.length===0&&Ee.push(new ae(he.key,ke,"array must have at least one stop")),Ee},default:function(he){return cr({key:he.key,value:he.value,valueSpec:b,style:he.style,styleSpec:he.styleSpec})}}});return C==="identity"&&B&&Z.push(new ae(r.key,r.value,'missing required property "property"')),C==="identity"||r.value.stops||Z.push(new ae(r.key,r.value,'missing required property "stops"')),C==="exponential"&&r.valueSpec.expression&&!nc(r.valueSpec)&&Z.push(new ae(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(j&&!Nl(r.valueSpec)?Z.push(new ae(r.key,r.value,"property functions not supported")):B&&!Wc(r.valueSpec)&&Z.push(new ae(r.key,r.value,"zoom functions not supported"))),C!=="categorical"&&!W||r.value.property!==void 0||Z.push(new ae(r.key,r.value,'"property" property is required')),Z;function Y(he){var Ee=[],ke=he.value,He=he.key;if(qr(ke)!=="array")return[new ae(He,ke,"array expected, "+qr(ke)+" found")];if(ke.length!==2)return[new ae(He,ke,"array length 2 expected, length "+ke.length+" found")];if(W){if(qr(ke[0])!=="object")return[new ae(He,ke,"object expected, "+qr(ke[0])+" found")];if(ke[0].zoom===void 0)return[new ae(He,ke,"object stop key must have zoom")];if(ke[0].value===void 0)return[new ae(He,ke,"object stop key must have value")];if(g&&g>We(ke[0].zoom))return[new ae(He,ke[0].zoom,"stop zoom values must appear in ascending order")];We(ke[0].zoom)!==g&&(g=We(ke[0].zoom),u=void 0,T={}),Ee=Ee.concat(Si({key:He+"[0]",value:ke[0],valueSpec:{zoom:{}},style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:ks,value:ue}}))}else Ee=Ee.concat(ue({key:He+"[0]",value:ke[0],valueSpec:{},style:he.style,styleSpec:he.styleSpec},ke));return Ui(A(ke[1]))?Ee.concat([new ae(He+"[1]",ke[1],"expressions are not allowed in function stops.")]):Ee.concat(cr({key:He+"[1]",value:ke[1],valueSpec:b,style:he.style,styleSpec:he.styleSpec}))}function ue(he,Ee){var ke=qr(he.value),He=We(he.value),De=he.value!==null?he.value:Ee;if(a){if(ke!==a)return[new ae(he.key,De,ke+" stop domain type must match previous stop domain type "+a)]}else a=ke;if(ke!=="number"&&ke!=="string"&&ke!=="boolean")return[new ae(he.key,De,"stop domain value must be a number, string, or boolean")];if(ke!=="number"&&C!=="categorical"){var nt="number expected, "+ke+" found";return Nl(b)&&C===void 0&&(nt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ae(he.key,De,nt)]}return C!=="categorical"||ke!=="number"||isFinite(He)&&Math.floor(He)===He?C!=="categorical"&&ke==="number"&&u!==void 0&&He<u?[new ae(he.key,De,"stop domain values must appear in ascending order")]:(u=He,C==="categorical"&&He in T?[new ae(he.key,De,"stop domain values must be unique")]:(T[He]=!0,[])):[new ae(he.key,De,"integer expected, found "+He)]}}function $a(r){var a=(r.expressionContext==="property"?hl:Xc)(A(r.value),r.valueSpec);if(a.result==="error")return a.value.map(function(g){return new ae(""+r.key+g.key,r.value,g.message)});var u=a.value.expression||a.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!u.outputDefined())return[new ae(r.key,r.value,'Invalid data expression for "'+r.propertyKey+'". Output values must be contained as literals within the expression.')];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Cs(u))return[new ae(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!Cs(u))return[new ae(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!Vc(u,["zoom","feature-state"]))return[new ae(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!sl(u))return[new ae(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function oc(r){var a=r.key,u=r.value,g=r.valueSpec,b=[];return Array.isArray(g.values)?g.values.indexOf(We(u))===-1&&b.push(new ae(a,u,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(u)+" found")):Object.keys(g.values).indexOf(We(u))===-1&&b.push(new ae(a,u,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(u)+" found")),b}function Xo(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(var a=0,u=r.slice(1);a<u.length;a+=1){var g=u[a];if(!Xo(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ic.deserialize=function(r){return new ic(r._parameters,r._specification)},ic.serialize=function(r){return{_parameters:r._parameters,_specification:r._specification}};var Up={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cs(r){if(r==null)return{filter:function(){return!0},needGeometry:!1};Xo(r)||(r=fs(r));var a=Xc(r,Up);if(a.result==="error")throw new Error(a.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,g,b){return a.value.evaluate(u,g,{},b)},needGeometry:function u(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var b=1;b<g.length;b++)if(u(g[b]))return!0;return!1}(r)}}function pa(r,a){return r<a?-1:r>a?1:0}function fs(r){if(!r)return!0;var a,u=r[0];return r.length<=1?u!=="any":u==="=="?Gs(r[1],r[2],"=="):u==="!="?Yc(Gs(r[1],r[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Gs(r[1],r[2],u):u==="any"?(a=r.slice(1),["any"].concat(a.map(fs))):u==="all"?["all"].concat(r.slice(1).map(fs)):u==="none"?["all"].concat(r.slice(1).map(fs).map(Yc)):u==="in"?$p(r[1],r.slice(2)):u==="!in"?Yc($p(r[1],r.slice(2))):u==="has"?Uf(r[1]):u==="!has"?Yc(Uf(r[1])):u!=="within"||r}function Gs(r,a,u){switch(r){case"$type":return["filter-type-"+u,a];case"$id":return["filter-id-"+u,a];default:return["filter-"+u,r,a]}}function $p(r,a){if(a.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(function(u){return typeof u!=typeof a[0]})?["filter-in-large",r,["literal",a.sort(pa)]]:["filter-in-small",r,["literal",a]]}}function Uf(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Yc(r){return["!",r]}function mu(r){return Xo(A(r.value))?$a(lt({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function a(u){var g=u.value,b=u.key;if(qr(g)!=="array")return[new ae(b,g,"array expected, "+qr(g)+" found")];var C,T=u.styleSpec,B=[];if(g.length<1)return[new ae(b,g,"filter array must have at least 1 element")];switch(B=B.concat(oc({key:b+"[0]",value:g[0],valueSpec:T.filter_operator,style:u.style,styleSpec:u.styleSpec})),We(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&We(g[1])==="$type"&&B.push(new ae(b,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&B.push(new ae(b,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(C=qr(g[1]))!=="string"&&B.push(new ae(b+"[1]",g[1],"string expected, "+C+" found"));for(var j=2;j<g.length;j++)C=qr(g[j]),We(g[1])==="$type"?B=B.concat(oc({key:b+"["+j+"]",value:g[j],valueSpec:T.geometry_type,style:u.style,styleSpec:u.styleSpec})):C!=="string"&&C!=="number"&&C!=="boolean"&&B.push(new ae(b+"["+j+"]",g[j],"string, number, or boolean expected, "+C+" found"));break;case"any":case"all":case"none":for(var W=1;W<g.length;W++)B=B.concat(a({key:b+"["+W+"]",value:g[W],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":C=qr(g[1]),g.length!==2?B.push(new ae(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="string"&&B.push(new ae(b+"[1]",g[1],"string expected, "+C+" found"));break;case"within":C=qr(g[1]),g.length!==2?B.push(new ae(b,g,'filter array for "'+g[0]+'" operator must have 2 elements')):C!=="object"&&B.push(new ae(b+"[1]",g[1],"object expected, "+C+" found"))}return B}(r)}function Qs(r,a){var u=r.key,g=r.style,b=r.styleSpec,C=r.value,T=r.objectKey,B=b[a+"_"+r.layerType];if(!B)return[];var j=T.match(/^(.*)-transition$/);if(a==="paint"&&j&&B[j[1]]&&B[j[1]].transition)return cr({key:u,value:C,valueSpec:b.transition,style:g,styleSpec:b});var W,Z=r.valueSpec||B[T];if(!Z)return[new ae(u,C,'unknown property "'+T+'"')];if(qr(C)==="string"&&Nl(Z)&&!Z.tokens&&(W=/^{([^}]+)}$/.exec(C)))return[new ae(u,C,'"'+T+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(W[1])+" }`.")];var Y=[];return r.layerType==="symbol"&&(T==="text-field"&&g&&!g.glyphs&&Y.push(new ae(u,C,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Kc(A(C))&&We(C.type)==="identity"&&Y.push(new ae(u,C,'"text-font" does not support identity functions'))),Y.concat(cr({key:r.key,value:C,valueSpec:Z,style:g,styleSpec:b,expressionContext:"property",propertyType:a,propertyKey:T}))}function it(r){return Qs(r,"paint")}function Tt(r){return Qs(r,"layout")}function xt(r){var a=[],u=r.value,g=r.key,b=r.style,C=r.styleSpec;u.type||u.ref||a.push(new ae(g,u,'either "type" or "ref" is required'));var T,B=We(u.type),j=We(u.ref);if(u.id)for(var W=We(u.id),Z=0;Z<r.arrayIndex;Z++){var Y=b.layers[Z];We(Y.id)===W&&a.push(new ae(g,u.id,'duplicate layer id "'+u.id+'", previously used at line '+Y.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(Ee){Ee in u&&a.push(new ae(g,u[Ee],'"'+Ee+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ee){We(Ee.id)===j&&(T=Ee)}),T?T.ref?a.push(new ae(g,u.ref,"ref cannot reference another ref layer")):B=We(T.type):a.push(new ae(g,u.ref,'ref layer "'+j+'" not found'));else if(B!=="background")if(u.source){var ue=b.sources&&b.sources[u.source],he=ue&&We(ue.type);ue?he==="vector"&&B==="raster"?a.push(new ae(g,u.source,'layer "'+u.id+'" requires a raster source')):he==="raster"&&B!=="raster"?a.push(new ae(g,u.source,'layer "'+u.id+'" requires a vector source')):he!=="vector"||u["source-layer"]?he==="raster-dem"&&B!=="hillshade"?a.push(new ae(g,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):B!=="line"||!u.paint||!u.paint["line-gradient"]||he==="geojson"&&ue.lineMetrics||a.push(new ae(g,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):a.push(new ae(g,u,'layer "'+u.id+'" must specify a "source-layer"')):a.push(new ae(g,u.source,'source "'+u.source+'" not found'))}else a.push(new ae(g,u,'missing required property "source"'));return a=a.concat(Si({key:g,value:u,valueSpec:C.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return cr({key:g+".type",value:u.type,valueSpec:C.layer.type,style:r.style,styleSpec:r.styleSpec,object:u,objectKey:"type"})},filter:mu,layout:function(Ee){return Si({layer:u,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return Tt(lt({layerType:B},ke))}}})},paint:function(Ee){return Si({layer:u,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(ke){return it(lt({layerType:B},ke))}}})}}}))}function qt(r){var a=r.value,u=r.key,g=qr(a);return g!=="string"?[new ae(u,a,"string expected, "+g+" found")]:[]}var er={promoteId:function(r){var a=r.key,u=r.value;if(qr(u)==="string")return qt({key:a,value:u});var g=[];for(var b in u)g.push.apply(g,qt({key:a+"."+b,value:u[b]}));return g}};function Cr(r){var a=r.value,u=r.key,g=r.styleSpec,b=r.style;if(!a.type)return[new ae(u,a,'"type" is required')];var C,T=We(a.type);switch(T){case"vector":case"raster":case"raster-dem":return Si({key:u,value:a,valueSpec:g["source_"+T.replace("-","_")],style:r.style,styleSpec:g,objectElementValidators:er});case"geojson":if(C=Si({key:u,value:a,valueSpec:g.source_geojson,style:b,styleSpec:g,objectElementValidators:er}),a.cluster)for(var B in a.clusterProperties){var j=a.clusterProperties[B],W=j[0],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;C.push.apply(C,$a({key:u+"."+B+".map",value:j[1],expressionContext:"cluster-map"})),C.push.apply(C,$a({key:u+"."+B+".reduce",value:Z,expressionContext:"cluster-reduce"}))}return C;case"video":return Si({key:u,value:a,valueSpec:g.source_video,style:b,styleSpec:g});case"image":return Si({key:u,value:a,valueSpec:g.source_image,style:b,styleSpec:g});case"canvas":return[new ae(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oc({key:u+".type",value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:g})}}function ni(r){var a=r.value,u=r.styleSpec,g=u.light,b=r.style,C=[],T=qr(a);if(a===void 0)return C;if(T!=="object")return C.concat([new ae("light",a,"object expected, "+T+" found")]);for(var B in a){var j=B.match(/^(.*)-transition$/);C=C.concat(j&&g[j[1]]&&g[j[1]].transition?cr({key:B,value:a[B],valueSpec:u.transition,style:b,styleSpec:u}):g[B]?cr({key:B,value:a[B],valueSpec:g[B],style:b,styleSpec:u}):[new ae(B,a[B],'unknown property "'+B+'"')])}return C}var Ln={"*":function(){return[]},array:du,boolean:function(r){var a=r.value,u=r.key,g=qr(a);return g!=="boolean"?[new ae(u,a,"boolean expected, "+g+" found")]:[]},number:ks,color:function(r){var a=r.key,u=r.value,g=qr(u);return g!=="string"?[new ae(a,u,"color expected, "+g+" found")]:Qe(u)===null?[new ae(a,u,'color expected, "'+u+'" found')]:[]},constants:Ve,enum:oc,filter:mu,function:Ps,layer:xt,object:Si,source:Cr,light:ni,string:qt,formatted:function(r){return qt(r).length===0?[]:$a(r)},resolvedImage:function(r){return qt(r).length===0?[]:$a(r)}};function cr(r){var a=r.value,u=r.valueSpec,g=r.styleSpec;return u.expression&&Kc(We(a))?Ps(r):u.expression&&Ui(A(a))?$a(r):u.type&&Ln[u.type]?Ln[u.type](r):Si(lt({},r,{valueSpec:u.type?g[u.type]:u}))}function Ul(r){var a=r.value,u=r.key,g=qt(r);return g.length||(a.indexOf("{fontstack}")===-1&&g.push(new ae(u,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&g.push(new ae(u,a,'"glyphs" url must include a "{range}" token'))),g}function $i(r,a){a===void 0&&(a=xe);var u=[];return u=u.concat(cr({key:"",value:r,valueSpec:a.$root,styleSpec:a,style:r,objectElementValidators:{glyphs:Ul,"*":function(){return[]}}})),r.constants&&(u=u.concat(Ve({key:"constants",value:r.constants,style:r,styleSpec:a}))),gu(u)}function gu(r){return[].concat(r).sort(function(a,u){return a.line-u.line})}function xa(r){return function(){for(var a=[],u=arguments.length;u--;)a[u]=arguments[u];return gu(r.apply(this,a))}}$i.source=xa(Cr),$i.light=xa(ni),$i.layer=xa(xt),$i.filter=xa(mu),$i.paintProperty=xa(it),$i.layoutProperty=xa(Tt);var ps=$i,Jc=ps.light,Al=ps.paintProperty,jr=ps.layoutProperty;function ac(r,a){var u=!1;if(a&&a.length)for(var g=0,b=a;g<b.length;g+=1)r.fire(new Ge(new Error(b[g].message))),u=!0;return u}var Po=ho;function ho(r,a,u){var g=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var b=new Int32Array(this.arrayBuffer);r=b[0],this.d=(a=b[1])+2*(u=b[2]);for(var C=0;C<this.d*this.d;C++){var T=b[3+C],B=b[3+C+1];g.push(T===B?null:b.subarray(T,B))}var j=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],j),this.bboxes=b.subarray(j),this.insert=this._insertReadonly}else{this.d=a+2*u;for(var W=0;W<this.d*this.d;W++)g.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=r,this.padding=u,this.scale=a/r,this.uid=0;var Z=u/a*r;this.min=-Z,this.max=r+Z}ho.prototype.insert=function(r,a,u,g,b){this._forEachCell(a,u,g,b,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(g),this.bboxes.push(b)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(r,a,u,g,b,C){this.cells[b].push(C)},ho.prototype.query=function(r,a,u,g,b){var C=this.min,T=this.max;if(r<=C&&a<=C&&T<=u&&T<=g&&!b)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(r,a,u,g,this._queryCell,B,{},b),B},ho.prototype._queryCell=function(r,a,u,g,b,C,T,B){var j=this.cells[b];if(j!==null)for(var W=this.keys,Z=this.bboxes,Y=0;Y<j.length;Y++){var ue=j[Y];if(T[ue]===void 0){var he=4*ue;(B?B(Z[he+0],Z[he+1],Z[he+2],Z[he+3]):r<=Z[he+2]&&a<=Z[he+3]&&u>=Z[he+0]&&g>=Z[he+1])?(T[ue]=!0,C.push(W[ue])):T[ue]=!1}}},ho.prototype._forEachCell=function(r,a,u,g,b,C,T,B){for(var j=this._convertToCellCoord(r),W=this._convertToCellCoord(a),Z=this._convertToCellCoord(u),Y=this._convertToCellCoord(g),ue=j;ue<=Z;ue++)for(var he=W;he<=Y;he++){var Ee=this.d*he+ue;if((!B||B(this._convertFromCellCoord(ue),this._convertFromCellCoord(he),this._convertFromCellCoord(ue+1),this._convertFromCellCoord(he+1)))&&b.call(this,r,a,u,g,Ee,C,T,B))return}},ho.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,a=3+this.cells.length+1+1,u=0,g=0;g<this.cells.length;g++)u+=this.cells[g].length;var b=new Int32Array(a+u+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var C=a,T=0;T<r.length;T++){var B=r[T];b[3+T]=C,b.set(B,C),C+=B.length}return b[3+r.length]=C,b.set(this.keys,C),b[3+r.length+1]=C+=this.keys.length,b.set(this.bboxes,C),C+=this.bboxes.length,b.buffer};var $f=z.ImageData,Zi=z.ImageBitmap,ba={};function an(r,a,u){u===void 0&&(u={}),Object.defineProperty(a,"_classRegistryKey",{value:r,writeable:!1}),ba[r]={klass:a,omit:u.omit||[],shallow:u.shallow||[]}}for(var ja in an("Object",Object),Po.serialize=function(r,a){var u=r.toArrayBuffer();return a&&a.push(u),{buffer:u}},Po.deserialize=function(r){return new Po(r.buffer)},an("Grid",Po),an("Color",wn),an("Error",Error),an("ResolvedImage",Qo),an("StylePropertyFunction",ic),an("StyleExpression",po,{omit:["_evaluator"]}),an("ZoomDependentExpression",Au),an("ZoomConstantExpression",rc),an("CompoundExpression",wi,{omit:["_evaluate"]}),qs)qs[ja]._classRegistryKey||an("Expression_"+ja,qs[ja]);function Ws(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Ks(r){return Zi&&r instanceof Zi}function Fo(r,a){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Ws(r)||Ks(r))return a&&a.push(r),r;if(ArrayBuffer.isView(r)){var u=r;return a&&a.push(u.buffer),u}if(r instanceof $f)return a&&a.push(r.data.buffer),r;if(Array.isArray(r)){for(var g=[],b=0,C=r;b<C.length;b+=1)g.push(Fo(C[b],a));return g}if(typeof r=="object"){var T=r.constructor,B=T._classRegistryKey;if(!B)throw new Error("can't serialize object of unregistered class");var j=T.serialize?T.serialize(r,a):{};if(!T.serialize){for(var W in r)if(r.hasOwnProperty(W)&&!(ba[B].omit.indexOf(W)>=0)){var Z=r[W];j[W]=ba[B].shallow.indexOf(W)>=0?Z:Fo(Z,a)}r instanceof Error&&(j.message=r.message)}if(j.$name)throw new Error("$name property is reserved for worker serialization logic.");return B!=="Object"&&(j.$name=B),j}throw new Error("can't serialize object of type "+typeof r)}function yu(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Ws(r)||Ks(r)||ArrayBuffer.isView(r)||r instanceof $f)return r;if(Array.isArray(r))return r.map(yu);if(typeof r=="object"){var a=r.$name||"Object",u=ba[a].klass;if(!u)throw new Error("can't deserialize unregistered class "+a);if(u.deserialize)return u.deserialize(r);for(var g=Object.create(u.prototype),b=0,C=Object.keys(r);b<C.length;b+=1){var T=C[b];if(T!=="$name"){var B=r[T];g[T]=ba[a].shallow.indexOf(T)>=0?B:yu(B)}}return g}throw new Error("can't deserialize object of type "+typeof r)}var Yo=function(){this.first=!0};Yo.prototype.update=function(r,a){var u=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=a),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=u,!0))};var un={"Latin-1 Supplement":function(r){return r>=128&&r<=255},Arabic:function(r){return r>=1536&&r<=1791},"Arabic Supplement":function(r){return r>=1872&&r<=1919},"Arabic Extended-A":function(r){return r>=2208&&r<=2303},"Hangul Jamo":function(r){return r>=4352&&r<=4607},"Unified Canadian Aboriginal Syllabics":function(r){return r>=5120&&r<=5759},Khmer:function(r){return r>=6016&&r<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(r){return r>=6320&&r<=6399},"General Punctuation":function(r){return r>=8192&&r<=8303},"Letterlike Symbols":function(r){return r>=8448&&r<=8527},"Number Forms":function(r){return r>=8528&&r<=8591},"Miscellaneous Technical":function(r){return r>=8960&&r<=9215},"Control Pictures":function(r){return r>=9216&&r<=9279},"Optical Character Recognition":function(r){return r>=9280&&r<=9311},"Enclosed Alphanumerics":function(r){return r>=9312&&r<=9471},"Geometric Shapes":function(r){return r>=9632&&r<=9727},"Miscellaneous Symbols":function(r){return r>=9728&&r<=9983},"Miscellaneous Symbols and Arrows":function(r){return r>=11008&&r<=11263},"CJK Radicals Supplement":function(r){return r>=11904&&r<=12031},"Kangxi Radicals":function(r){return r>=12032&&r<=12255},"Ideographic Description Characters":function(r){return r>=12272&&r<=12287},"CJK Symbols and Punctuation":function(r){return r>=12288&&r<=12351},Hiragana:function(r){return r>=12352&&r<=12447},Katakana:function(r){return r>=12448&&r<=12543},Bopomofo:function(r){return r>=12544&&r<=12591},"Hangul Compatibility Jamo":function(r){return r>=12592&&r<=12687},Kanbun:function(r){return r>=12688&&r<=12703},"Bopomofo Extended":function(r){return r>=12704&&r<=12735},"CJK Strokes":function(r){return r>=12736&&r<=12783},"Katakana Phonetic Extensions":function(r){return r>=12784&&r<=12799},"Enclosed CJK Letters and Months":function(r){return r>=12800&&r<=13055},"CJK Compatibility":function(r){return r>=13056&&r<=13311},"CJK Unified Ideographs Extension A":function(r){return r>=13312&&r<=19903},"Yijing Hexagram Symbols":function(r){return r>=19904&&r<=19967},"CJK Unified Ideographs":function(r){return r>=19968&&r<=40959},"Yi Syllables":function(r){return r>=40960&&r<=42127},"Yi Radicals":function(r){return r>=42128&&r<=42191},"Hangul Jamo Extended-A":function(r){return r>=43360&&r<=43391},"Hangul Syllables":function(r){return r>=44032&&r<=55215},"Hangul Jamo Extended-B":function(r){return r>=55216&&r<=55295},"Private Use Area":function(r){return r>=57344&&r<=63743},"CJK Compatibility Ideographs":function(r){return r>=63744&&r<=64255},"Arabic Presentation Forms-A":function(r){return r>=64336&&r<=65023},"Vertical Forms":function(r){return r>=65040&&r<=65055},"CJK Compatibility Forms":function(r){return r>=65072&&r<=65103},"Small Form Variants":function(r){return r>=65104&&r<=65135},"Arabic Presentation Forms-B":function(r){return r>=65136&&r<=65279},"Halfwidth and Fullwidth Forms":function(r){return r>=65280&&r<=65519}};function sc(r){for(var a=0,u=r;a<u.length;a+=1)if(Zs(u[a].charCodeAt(0)))return!0;return!1}function Zs(r){return!(r!==746&&r!==747&&(r<4352||!(un["Bopomofo Extended"](r)||un.Bopomofo(r)||un["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||un["CJK Compatibility Ideographs"](r)||un["CJK Compatibility"](r)||un["CJK Radicals Supplement"](r)||un["CJK Strokes"](r)||!(!un["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||un["CJK Unified Ideographs Extension A"](r)||un["CJK Unified Ideographs"](r)||un["Enclosed CJK Letters and Months"](r)||un["Hangul Compatibility Jamo"](r)||un["Hangul Jamo Extended-A"](r)||un["Hangul Jamo Extended-B"](r)||un["Hangul Jamo"](r)||un["Hangul Syllables"](r)||un.Hiragana(r)||un["Ideographic Description Characters"](r)||un.Kanbun(r)||un["Kangxi Radicals"](r)||un["Katakana Phonetic Extensions"](r)||un.Katakana(r)&&r!==12540||!(!un["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!un["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||un["Unified Canadian Aboriginal Syllabics"](r)||un["Unified Canadian Aboriginal Syllabics Extended"](r)||un["Vertical Forms"](r)||un["Yijing Hexagram Symbols"](r)||un["Yi Syllables"](r)||un["Yi Radicals"](r))))}function Ao(r){return!(Zs(r)||function(a){return!!(un["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||un["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||un["Letterlike Symbols"](a)||un["Number Forms"](a)||un["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||un["Control Pictures"](a)&&a!==9251||un["Optical Character Recognition"](a)||un["Enclosed Alphanumerics"](a)||un["Geometric Shapes"](a)||un["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||un["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||un["CJK Symbols and Punctuation"](a)||un.Katakana(a)||un["Private Use Area"](a)||un["CJK Compatibility Forms"](a)||un["Small Form Variants"](a)||un["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(r))}function Er(r){return r>=1424&&r<=2303||un["Arabic Presentation Forms-A"](r)||un["Arabic Presentation Forms-B"](r)}function ef(r,a){return!(!a&&Er(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||un.Khmer(r))}function jp(r){for(var a=0,u=r;a<u.length;a+=1)if(Er(u[a].charCodeAt(0)))return!0;return!1}var jf=null,mo="unavailable",Va=null,$l=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(mo="error"),jf&&jf(r)};function tf(){nf.fire(new Ue("pluginStateChange",{pluginStatus:mo,pluginURL:Va}))}var nf=new Ne,hs=function(){return mo},Vp=function(){if(mo!=="deferred"||!Va)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");mo="loading",tf(),Va&&Ur({url:Va},function(r){r?$l(r):(mo="loaded",tf())})},rr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return mo==="loaded"||rr.applyArabicShaping!=null},isLoading:function(){return mo==="loading"},setState:function(r){mo=r.pluginStatus,Va=r.pluginURL},isParsed:function(){return rr.applyArabicShaping!=null&&rr.processBidirectionalText!=null&&rr.processStyledBidirectionalText!=null},getPluginURL:function(){return Va}},Wn=function(r,a){this.zoom=r,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Yo,this.transition={})};Wn.prototype.isSupportedScript=function(r){return function(a,u){for(var g=0,b=a;g<b.length;g+=1)if(!ef(b[g].charCodeAt(0),u))return!1;return!0}(r,rr.isLoaded())},Wn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wn.prototype.getCrossfadeParameters=function(){var r=this.zoom,a=r-Math.floor(r),u=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*a}};var ha=function(r,a){this.property=r,this.value=a,this.expression=function(u,g){if(Kc(u))return new ic(u,g);if(Ui(u)){var b=hl(u,g);if(b.result==="error")throw new Error(b.value.map(function(T){return T.key+": "+T.message}).join(", "));return b.value}var C=u;return typeof u=="string"&&g.type==="color"&&(C=wn.parse(u)),{kind:"constant",evaluate:function(){return C}}}(a===void 0?r.specification.default:a,r.specification)};ha.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ha.prototype.possiblyEvaluate=function(r,a,u){return this.property.possiblyEvaluate(this,r,a,u)};var Ti=function(r){this.property=r,this.value=new ha(r,void 0)};Ti.prototype.transitioned=function(r,a){return new Bo(this.property,this.value,a,X({},r.transition,this.transition),r.now)},Ti.prototype.untransitioned=function(){return new Bo(this.property,this.value,null,{},0)};var Bn=function(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)};Bn.prototype.getValue=function(r){return qe(this._values[r].value.value)},Bn.prototype.setValue=function(r,a){this._values.hasOwnProperty(r)||(this._values[r]=new Ti(this._values[r].property)),this._values[r].value=new ha(this._values[r].property,a===null?void 0:qe(a))},Bn.prototype.getTransition=function(r){return qe(this._values[r].transition)},Bn.prototype.setTransition=function(r,a){this._values.hasOwnProperty(r)||(this._values[r]=new Ti(this._values[r].property)),this._values[r].transition=qe(a)||void 0},Bn.prototype.serialize=function(){for(var r={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a],b=this.getValue(g);b!==void 0&&(r[g]=b);var C=this.getTransition(g);C!==void 0&&(r[g+"-transition"]=C)}return r},Bn.prototype.transitioned=function(r,a){for(var u=new Ha(this._properties),g=0,b=Object.keys(this._values);g<b.length;g+=1){var C=b[g];u._values[C]=this._values[C].transitioned(r,a._values[C])}return u},Bn.prototype.untransitioned=function(){for(var r=new Ha(this._properties),a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a];r._values[g]=this._values[g].untransitioned()}return r};var Bo=function(r,a,u,g,b){this.property=r,this.value=a,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,r.specification.transition&&(g.delay||g.duration)&&(this.prior=u)};Bo.prototype.possiblyEvaluate=function(r,a,u){var g=r.now||0,b=this.value.possiblyEvaluate(r,a,u),C=this.prior;if(C){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return C.possiblyEvaluate(r,a,u);var T=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(r,a,u),b,function(B){if(B<=0)return 0;if(B>=1)return 1;var j=B*B,W=j*B;return 4*(B<.5?W:3*(B-j)+W-.75)}(T))}return b};var Ha=function(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)};Ha.prototype.possiblyEvaluate=function(r,a,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(r,a,u)}return g},Ha.prototype.hasTransition=function(){for(var r=0,a=Object.keys(this._values);r<a.length;r+=1)if(this._values[a[r]].prior)return!0;return!1};var Jo=function(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)};Jo.prototype.getValue=function(r){return qe(this._values[r].value)},Jo.prototype.setValue=function(r,a){this._values[r]=new ha(this._values[r].property,a===null?void 0:qe(a))},Jo.prototype.serialize=function(){for(var r={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var g=u[a],b=this.getValue(g);b!==void 0&&(r[g]=b)}return r},Jo.prototype.possiblyEvaluate=function(r,a,u){for(var g=new qa(this._properties),b=0,C=Object.keys(this._values);b<C.length;b+=1){var T=C[b];g._values[T]=this._values[T].possiblyEvaluate(r,a,u)}return g};var ea=function(r,a,u){this.property=r,this.value=a,this.parameters=u};ea.prototype.isConstant=function(){return this.value.kind==="constant"},ea.prototype.constantOr=function(r){return this.value.kind==="constant"?this.value.value:r},ea.prototype.evaluate=function(r,a,u,g){return this.property.evaluate(this.value,this.parameters,r,a,u,g)};var qa=function(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)};qa.prototype.get=function(r){return this._values[r]};var Wt=function(r){this.specification=r};Wt.prototype.possiblyEvaluate=function(r,a){return r.expression.evaluate(a)},Wt.prototype.interpolate=function(r,a,u){var g=au[this.specification.type];return g?g(r,a,u):r};var mt=function(r,a){this.specification=r,this.overrides=a};mt.prototype.possiblyEvaluate=function(r,a,u,g){return new ea(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(a,null,{},u,g)}:r.expression,a)},mt.prototype.interpolate=function(r,a,u){if(r.value.kind!=="constant"||a.value.kind!=="constant")return r;if(r.value.value===void 0||a.value.value===void 0)return new ea(this,{kind:"constant",value:void 0},r.parameters);var g=au[this.specification.type];return g?new ea(this,{kind:"constant",value:g(r.value.value,a.value.value,u)},r.parameters):r},mt.prototype.evaluate=function(r,a,u,g,b,C){return r.kind==="constant"?r.value:r.evaluate(a,u,g,b,C)};var Yt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,g,b,C){if(u.value===void 0)return new ea(this,{kind:"constant",value:void 0},g);if(u.expression.kind==="constant"){var T=u.expression.evaluate(g,null,{},b,C),B=u.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,j=this._calculate(B,B,B,g);return new ea(this,{kind:"constant",value:j},g)}if(u.expression.kind==="camera"){var W=this._calculate(u.expression.evaluate({zoom:g.zoom-1}),u.expression.evaluate({zoom:g.zoom}),u.expression.evaluate({zoom:g.zoom+1}),g);return new ea(this,{kind:"constant",value:W},g)}return new ea(this,u.expression,g)},a.prototype.evaluate=function(u,g,b,C,T,B){if(u.kind==="source"){var j=u.evaluate(g,b,C,T,B);return this._calculate(j,j,j,g)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(g.zoom)-1},b,C),u.evaluate({zoom:Math.floor(g.zoom)},b,C),u.evaluate({zoom:Math.floor(g.zoom)+1},b,C),g):u.value},a.prototype._calculate=function(u,g,b,C){return C.zoom>C.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:b,to:g}},a.prototype.interpolate=function(u){return u},a}(mt),To=function(r){this.specification=r};To.prototype.possiblyEvaluate=function(r,a,u,g){if(r.value!==void 0){if(r.expression.kind==="constant"){var b=r.expression.evaluate(a,null,{},u,g);return this._calculate(b,b,b,a)}return this._calculate(r.expression.evaluate(new Wn(Math.floor(a.zoom-1),a)),r.expression.evaluate(new Wn(Math.floor(a.zoom),a)),r.expression.evaluate(new Wn(Math.floor(a.zoom+1),a)),a)}},To.prototype._calculate=function(r,a,u,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:r,to:a}:{from:u,to:a}},To.prototype.interpolate=function(r){return r};var Ga=function(r){this.specification=r};Ga.prototype.possiblyEvaluate=function(r,a,u,g){return!!r.expression.evaluate(a,null,{},u,g)},Ga.prototype.interpolate=function(){return!1};var zo=function(r){for(var a in this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],r){var u=r[a];u.specification.overridable&&this.overridableProperties.push(a);var g=this.defaultPropertyValues[a]=new ha(u,void 0),b=this.defaultTransitionablePropertyValues[a]=new Ti(u);this.defaultTransitioningPropertyValues[a]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=g.possiblyEvaluate({})}};an("DataDrivenProperty",mt),an("DataConstantProperty",Wt),an("CrossFadedDataDrivenProperty",Yt),an("CrossFadedProperty",To),an("ColorRampProperty",Ga);var ji=function(r){function a(u,g){if(r.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},u.type!=="custom"&&(this.metadata=(u=u).metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),g.layout&&(this._unevaluatedLayout=new Jo(g.layout)),g.paint)){for(var b in this._transitionablePaint=new Bn(g.paint),u.paint)this.setPaintProperty(b,u.paint[b],{validate:!1});for(var C in u.layout)this.setLayoutProperty(C,u.layout[C],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qa(g.paint)}}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},a.prototype.getLayoutProperty=function(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)},a.prototype.setLayoutProperty=function(u,g,b){b===void 0&&(b={}),g!=null&&this._validate(jr,"layers."+this.id+".layout."+u,u,g,b)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,g):this.visibility=g)},a.prototype.getPaintProperty=function(u){return Ce(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},a.prototype.setPaintProperty=function(u,g,b){if(b===void 0&&(b={}),g!=null&&this._validate(Al,"layers."+this.id+".paint."+u,u,g,b))return!1;if(Ce(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),g||void 0),!1;var C=this._transitionablePaint._values[u],T=C.property.specification["property-type"]==="cross-faded-data-driven",B=C.value.isDataDriven(),j=C.value;this._transitionablePaint.setValue(u,g),this._handleSpecialPaintPropertyUpdate(u);var W=this._transitionablePaint._values[u].value;return W.isDataDriven()||B||T||this._handleOverridablePaintPropertyUpdate(u,j,W)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){},a.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!1},a.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"},a.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},a.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},a.prototype.recalculate=function(u,g){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,g)},a.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),tt(u,function(g,b){return!(g===void 0||b==="layout"&&!Object.keys(g).length||b==="paint"&&!Object.keys(g).length)})},a.prototype._validate=function(u,g,b,C,T){return T===void 0&&(T={}),(!T||T.validate!==!1)&&ac(this,u.call(ps,{key:g,layerType:this.type,objectKey:b,value:C,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))},a.prototype.is3D=function(){return!1},a.prototype.isTileClipped=function(){return!1},a.prototype.hasOffscreenPass=function(){return!1},a.prototype.resize=function(){},a.prototype.isStateDependent=function(){for(var u in this.paint._values){var g=this.paint.get(u);if(g instanceof ea&&Nl(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},a}(Ne),Hp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ta=function(r,a){this._structArray=r,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},h=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function m(r,a){a===void 0&&(a=1);var u=0,g=0;return{members:r.map(function(b){var C=Hp[b.type].BYTES_PER_ELEMENT,T=u=v(u,Math.max(a,C)),B=b.components||1;return g=Math.max(g,C),u+=C*B,{name:b.name,type:b.type,components:B,offset:T}}),size:v(u,Math.max(g,a)),alignment:a}}function v(r,a){return Math.ceil(r/a)*a}h.serialize=function(r,a){return r._trim(),a&&(r.isTransferred=!0,a.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}},h.deserialize=function(r){var a=Object.create(this.prototype);return a.arrayBuffer=r.arrayBuffer,a.length=r.length,a.capacity=r.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a},h.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},h.prototype.clear=function(){this.length=0},h.prototype.resize=function(r){this.reserve(r),this.length=r},h.prototype.reserve=function(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}},h.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var C=2*u;return this.int16[C+0]=g,this.int16[C+1]=b,u},a}(h);_.prototype.bytesPerElement=4,an("StructArrayLayout2i4",_);var k=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},a.prototype.emplace=function(u,g,b,C,T){var B=4*u;return this.int16[B+0]=g,this.int16[B+1]=b,this.int16[B+2]=C,this.int16[B+3]=T,u},a}(h);k.prototype.bytesPerElement=8,an("StructArrayLayout4i8",k);var O=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},a.prototype.emplace=function(u,g,b,C,T,B,j){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=C,this.int16[W+3]=T,this.int16[W+4]=B,this.int16[W+5]=j,u},a}(h);O.prototype.bytesPerElement=12,an("StructArrayLayout2i4i12",O);var I=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},a.prototype.emplace=function(u,g,b,C,T,B,j){var W=4*u,Z=8*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.uint8[Z+4]=C,this.uint8[Z+5]=T,this.uint8[Z+6]=B,this.uint8[Z+7]=j,u},a}(h);I.prototype.bytesPerElement=8,an("StructArrayLayout2i4ub8",I);var N=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var C=2*u;return this.float32[C+0]=g,this.float32[C+1]=b,u},a}(h);N.prototype.bytesPerElement=8,an("StructArrayLayout2f8",N);var Q=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y){var ue=this.length;return this.resize(ue+1),this.emplace(ue,u,g,b,C,T,B,j,W,Z,Y)},a.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue){var he=10*u;return this.uint16[he+0]=g,this.uint16[he+1]=b,this.uint16[he+2]=C,this.uint16[he+3]=T,this.uint16[he+4]=B,this.uint16[he+5]=j,this.uint16[he+6]=W,this.uint16[he+7]=Z,this.uint16[he+8]=Y,this.uint16[he+9]=ue,u},a}(h);Q.prototype.bytesPerElement=20,an("StructArrayLayout10ui20",Q);var ie=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,u,g,b,C,T,B,j,W,Z,Y,ue,he)},a.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee){var ke=12*u;return this.int16[ke+0]=g,this.int16[ke+1]=b,this.int16[ke+2]=C,this.int16[ke+3]=T,this.uint16[ke+4]=B,this.uint16[ke+5]=j,this.uint16[ke+6]=W,this.uint16[ke+7]=Z,this.int16[ke+8]=Y,this.int16[ke+9]=ue,this.int16[ke+10]=he,this.int16[ke+11]=Ee,u},a}(h);ie.prototype.bytesPerElement=24,an("StructArrayLayout4i4ui4i24",ie);var ce=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},a.prototype.emplace=function(u,g,b,C){var T=3*u;return this.float32[T+0]=g,this.float32[T+1]=b,this.float32[T+2]=C,u},a}(h);ce.prototype.bytesPerElement=12,an("StructArrayLayout3f12",ce);var Fe=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.uint32[1*u+0]=g,u},a}(h);Fe.prototype.bytesPerElement=4,an("StructArrayLayout1ul4",Fe);var Ze=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z){var Y=this.length;return this.resize(Y+1),this.emplace(Y,u,g,b,C,T,B,j,W,Z)},a.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y){var ue=10*u,he=5*u;return this.int16[ue+0]=g,this.int16[ue+1]=b,this.int16[ue+2]=C,this.int16[ue+3]=T,this.int16[ue+4]=B,this.int16[ue+5]=j,this.uint32[he+3]=W,this.uint16[ue+8]=Z,this.uint16[ue+9]=Y,u},a}(h);Ze.prototype.bytesPerElement=20,an("StructArrayLayout6i1ul2ui20",Ze);var at=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B){var j=this.length;return this.resize(j+1),this.emplace(j,u,g,b,C,T,B)},a.prototype.emplace=function(u,g,b,C,T,B,j){var W=6*u;return this.int16[W+0]=g,this.int16[W+1]=b,this.int16[W+2]=C,this.int16[W+3]=T,this.int16[W+4]=B,this.int16[W+5]=j,u},a}(h);at.prototype.bytesPerElement=12,an("StructArrayLayout2i2i2i12",at);var wt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T){var B=this.length;return this.resize(B+1),this.emplace(B,u,g,b,C,T)},a.prototype.emplace=function(u,g,b,C,T,B){var j=4*u,W=8*u;return this.float32[j+0]=g,this.float32[j+1]=b,this.float32[j+2]=C,this.int16[W+6]=T,this.int16[W+7]=B,u},a}(h);wt.prototype.bytesPerElement=16,an("StructArrayLayout2f1f2i16",wt);var Et=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},a.prototype.emplace=function(u,g,b,C,T){var B=12*u,j=3*u;return this.uint8[B+0]=g,this.uint8[B+1]=b,this.float32[j+1]=C,this.float32[j+2]=T,u},a}(h);Et.prototype.bytesPerElement=12,an("StructArrayLayout2ub2f12",Et);var Nt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},a.prototype.emplace=function(u,g,b,C){var T=3*u;return this.uint16[T+0]=g,this.uint16[T+1]=b,this.uint16[T+2]=C,u},a}(h);Nt.prototype.bytesPerElement=6,an("StructArrayLayout3ui6",Nt);var cn=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt){var ot=this.length;return this.resize(ot+1),this.emplace(ot,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt)},a.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt,ot){var ft=24*u,pt=12*u,kt=48*u;return this.int16[ft+0]=g,this.int16[ft+1]=b,this.uint16[ft+2]=C,this.uint16[ft+3]=T,this.uint32[pt+2]=B,this.uint32[pt+3]=j,this.uint32[pt+4]=W,this.uint16[ft+10]=Z,this.uint16[ft+11]=Y,this.uint16[ft+12]=ue,this.float32[pt+7]=he,this.float32[pt+8]=Ee,this.uint8[kt+36]=ke,this.uint8[kt+37]=He,this.uint8[kt+38]=De,this.uint32[pt+10]=nt,this.int16[ft+22]=ot,u},a}(h);cn.prototype.bytesPerElement=48,an("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",cn);var gt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt,ot,ft,pt,kt,Ut,Zt,gn,nn,En,on,Zn){var On=this.length;return this.resize(On+1),this.emplace(On,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt,ot,ft,pt,kt,Ut,Zt,gn,nn,En,on,Zn)},a.prototype.emplace=function(u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke,He,De,nt,ot,ft,pt,kt,Ut,Zt,gn,nn,En,on,Zn,On){var yn=34*u,ir=17*u;return this.int16[yn+0]=g,this.int16[yn+1]=b,this.int16[yn+2]=C,this.int16[yn+3]=T,this.int16[yn+4]=B,this.int16[yn+5]=j,this.int16[yn+6]=W,this.int16[yn+7]=Z,this.uint16[yn+8]=Y,this.uint16[yn+9]=ue,this.uint16[yn+10]=he,this.uint16[yn+11]=Ee,this.uint16[yn+12]=ke,this.uint16[yn+13]=He,this.uint16[yn+14]=De,this.uint16[yn+15]=nt,this.uint16[yn+16]=ot,this.uint16[yn+17]=ft,this.uint16[yn+18]=pt,this.uint16[yn+19]=kt,this.uint16[yn+20]=Ut,this.uint16[yn+21]=Zt,this.uint16[yn+22]=gn,this.uint32[ir+12]=nn,this.float32[ir+13]=En,this.float32[ir+14]=on,this.float32[ir+15]=Zn,this.float32[ir+16]=On,u},a}(h);gt.prototype.bytesPerElement=68,an("StructArrayLayout8i15ui1ul4f68",gt);var Rt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.float32[1*u+0]=g,u},a}(h);Rt.prototype.bytesPerElement=4,an("StructArrayLayout1f4",Rt);var Xe=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},a.prototype.emplace=function(u,g,b,C){var T=3*u;return this.int16[T+0]=g,this.int16[T+1]=b,this.int16[T+2]=C,u},a}(h);Xe.prototype.bytesPerElement=6,an("StructArrayLayout3i6",Xe);var _n=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b){var C=this.length;return this.resize(C+1),this.emplace(C,u,g,b)},a.prototype.emplace=function(u,g,b,C){var T=4*u;return this.uint32[2*u+0]=g,this.uint16[T+2]=b,this.uint16[T+3]=C,u},a}(h);_n.prototype.bytesPerElement=8,an("StructArrayLayout1ul2ui8",_n);var xn=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g){var b=this.length;return this.resize(b+1),this.emplace(b,u,g)},a.prototype.emplace=function(u,g,b){var C=2*u;return this.uint16[C+0]=g,this.uint16[C+1]=b,u},a}(h);xn.prototype.bytesPerElement=4,an("StructArrayLayout2ui4",xn);var Kt=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)},a.prototype.emplace=function(u,g){return this.uint16[1*u+0]=g,u},a}(h);Kt.prototype.bytesPerElement=2,an("StructArrayLayout1ui2",Kt);var c=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,g,b,C){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,b,C)},a.prototype.emplace=function(u,g,b,C,T){var B=4*u;return this.float32[B+0]=g,this.float32[B+1]=b,this.float32[B+2]=C,this.float32[B+3]=T,u},a}(h);c.prototype.bytesPerElement=16,an("StructArrayLayout4f16",c);var p=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new M(this.anchorPointX,this.anchorPointY)},Object.defineProperties(a.prototype,u),a}(ta);p.prototype.size=20;var f=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new p(this,u)},a}(Ze);an("CollisionBoxArray",f);var y=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(a.prototype,u),a}(ta);y.prototype.size=48;var E=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new y(this,u)},a}(cn);an("PlacedSymbolArray",E);var L=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(a.prototype,u),a}(ta);L.prototype.size=68;var F=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new L(this,u)},a}(gt);an("SymbolInstanceArray",F);var $=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getoffsetX=function(u){return this.float32[1*u+0]},a}(Rt);an("GlyphOffsetArray",$);var G=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.getx=function(u){return this.int16[3*u+0]},a.prototype.gety=function(u){return this.int16[3*u+1]},a.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},a}(Xe);an("SymbolLineVertexArray",G);var te=function(r){function a(){r.apply(this,arguments)}r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(a.prototype,u),a}(ta);te.prototype.size=8;var Ae=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.get=function(u){return new te(this,u)},a}(_n);an("FeatureIndexArray",Ae);var _e=m([{name:"a_pos",components:2,type:"Int16"}],4).members,de=function(r){r===void 0&&(r=[]),this.segments=r};function Oe(r,a){return 256*(r=ee(Math.floor(r),0,255))+ee(Math.floor(a),0,255)}de.prototype.prepareSegment=function(r,a,u,g){var b=this.segments[this.segments.length-1];return r>de.MAX_VERTEX_ARRAY_LENGTH&&At("Max vertices per segment is "+de.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+r),(!b||b.vertexLength+r>de.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:a.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b},de.prototype.get=function(){return this.segments},de.prototype.destroy=function(){for(var r=0,a=this.segments;r<a.length;r+=1){var u=a[r];for(var g in u.vaos)u.vaos[g].destroy()}},de.simpleSegment=function(r,a,u,g){return new de([{vertexOffset:r,primitiveOffset:a,vertexLength:u,primitiveLength:g,vaos:{},sortKey:0}])},de.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,an("SegmentVector",de);var Te=m([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ze=x(function(r){r.exports=function(a,u){var g,b,C,T,B,j,W,Z;for(b=a.length-(g=3&a.length),C=u,B=3432918353,j=461845907,Z=0;Z<b;)W=255&a.charCodeAt(Z)|(255&a.charCodeAt(++Z))<<8|(255&a.charCodeAt(++Z))<<16|(255&a.charCodeAt(++Z))<<24,++Z,C=27492+(65535&(T=5*(65535&(C=(C^=W=(65535&(W=(W=(65535&W)*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*j+(((W>>>16)*j&65535)<<16)&4294967295)<<13|C>>>19))+((5*(C>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(W=0,g){case 3:W^=(255&a.charCodeAt(Z+2))<<16;case 2:W^=(255&a.charCodeAt(Z+1))<<8;case 1:C^=W=(65535&(W=(W=(65535&(W^=255&a.charCodeAt(Z)))*B+(((W>>>16)*B&65535)<<16)&4294967295)<<15|W>>>17))*j+(((W>>>16)*j&65535)<<16)&4294967295}return C^=a.length,C=2246822507*(65535&(C^=C>>>16))+((2246822507*(C>>>16)&65535)<<16)&4294967295,C=3266489909*(65535&(C^=C>>>13))+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^=C>>>16)>>>0}}),Pe=x(function(r){r.exports=function(a,u){for(var g,b=a.length,C=u^b,T=0;b>=4;)g=1540483477*(65535&(g=255&a.charCodeAt(T)|(255&a.charCodeAt(++T))<<8|(255&a.charCodeAt(++T))<<16|(255&a.charCodeAt(++T))<<24))+((1540483477*(g>>>16)&65535)<<16),C=1540483477*(65535&C)+((1540483477*(C>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),b-=4,++T;switch(b){case 3:C^=(255&a.charCodeAt(T+2))<<16;case 2:C^=(255&a.charCodeAt(T+1))<<8;case 1:C=1540483477*(65535&(C^=255&a.charCodeAt(T)))+((1540483477*(C>>>16)&65535)<<16)}return C=1540483477*(65535&(C^=C>>>13))+((1540483477*(C>>>16)&65535)<<16),(C^=C>>>15)>>>0}}),Be=ze,Ke=Pe;Be.murmur3=ze,Be.murmur2=Ke;var et=function(){this.ids=[],this.positions=[],this.indexed=!1};et.prototype.add=function(r,a,u,g){this.ids.push(ht(r)),this.positions.push(a,u,g)},et.prototype.getPositions=function(r){for(var a=ht(r),u=0,g=this.ids.length-1;u<g;){var b=u+g>>1;this.ids[b]>=a?g=b:u=b+1}for(var C=[];this.ids[u]===a;)C.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return C},et.serialize=function(r,a){var u=new Float64Array(r.ids),g=new Uint32Array(r.positions);return function b(C,T,B,j){for(;B<j;){for(var W=C[B+j>>1],Z=B-1,Y=j+1;;){do Z++;while(C[Z]<W);do Y--;while(C[Y]>W);if(Z>=Y)break;yt(C,Z,Y),yt(T,3*Z,3*Y),yt(T,3*Z+1,3*Y+1),yt(T,3*Z+2,3*Y+2)}Y-B<j-Y?(b(C,T,B,Y),B=Y+1):(b(C,T,Y+1,j),j=Y)}}(u,g,0,u.length-1),a&&a.push(u.buffer,g.buffer),{ids:u,positions:g}},et.deserialize=function(r){var a=new et;return a.ids=r.ids,a.positions=r.positions,a.indexed=!0,a};var dt=Math.pow(2,53)-1;function ht(r){var a=+r;return!isNaN(a)&&a<=dt?a:Be(String(r))}function yt(r,a,u){var g=r[a];r[a]=r[u],r[u]=g}an("FeaturePositionMap",et);var Pt=function(r,a){this.gl=r.gl,this.location=a},zt=function(r){function a(u,g){r.call(this,u,g),this.current=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},a}(Pt),Ft=function(r){function a(u,g){r.call(this,u,g),this.current=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},a}(Pt),tn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},a}(Pt),mn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},a}(Pt),Tn=function(r){function a(u,g){r.call(this,u,g),this.current=[0,0,0,0]}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},a}(Pt),kn=function(r){function a(u,g){r.call(this,u,g),this.current=wn.transparent}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},a}(Pt),_r=new Float32Array(16),pn=function(r){function a(u,g){r.call(this,u,g),this.current=_r}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var g=1;g<16;g++)if(u[g]!==this.current[g]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},a}(Pt);function Rn(r){return[Oe(255*r.r,255*r.g),Oe(255*r.b,255*r.a)]}var tr=function(r,a,u){this.value=r,this.uniformNames=a.map(function(g){return"u_"+g}),this.type=u};tr.prototype.setUniform=function(r,a,u){r.set(u.constantOr(this.value))},tr.prototype.getBinding=function(r,a,u){return this.type==="color"?new kn(r,a):new Ft(r,a)};var Vn=function(r,a){this.uniformNames=a.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(r,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=r.tlbr},Vn.prototype.setUniform=function(r,a,u,g){var b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&r.set(b)},Vn.prototype.getBinding=function(r,a,u){return u.substr(0,9)==="u_pattern"?new Tn(r,a):new Ft(r,a)};var zn=function(r,a,u,g){this.expression=r,this.type=u,this.maxValue=0,this.paintVertexAttributes=a.map(function(b){return{name:"a_"+b,type:"Float32",components:u==="color"?2:1,offset:0}}),this.paintVertexArray=new g};zn.prototype.populatePaintArray=function(r,a,u,g,b){var C=this.paintVertexArray.length,T=this.expression.evaluate(new Wn(0),a,{},g,[],b);this.paintVertexArray.resize(r),this._setPaintValue(C,r,T)},zn.prototype.updatePaintArray=function(r,a,u,g){var b=this.expression.evaluate({zoom:0},u,g);this._setPaintValue(r,a,b)},zn.prototype._setPaintValue=function(r,a,u){if(this.type==="color")for(var g=Rn(u),b=r;b<a;b++)this.paintVertexArray.emplace(b,g[0],g[1]);else{for(var C=r;C<a;C++)this.paintVertexArray.emplace(C,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},zn.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},zn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Un=function(r,a,u,g,b,C){this.expression=r,this.uniformNames=a.map(function(T){return"u_"+T+"_t"}),this.type=u,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=a.map(function(T){return{name:"a_"+T,type:"Float32",components:u==="color"?4:2,offset:0}}),this.paintVertexArray=new C};Un.prototype.populatePaintArray=function(r,a,u,g,b){var C=this.expression.evaluate(new Wn(this.zoom),a,{},g,[],b),T=this.expression.evaluate(new Wn(this.zoom+1),a,{},g,[],b),B=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(B,r,C,T)},Un.prototype.updatePaintArray=function(r,a,u,g){var b=this.expression.evaluate({zoom:this.zoom},u,g),C=this.expression.evaluate({zoom:this.zoom+1},u,g);this._setPaintValue(r,a,b,C)},Un.prototype._setPaintValue=function(r,a,u,g){if(this.type==="color")for(var b=Rn(u),C=Rn(g),T=r;T<a;T++)this.paintVertexArray.emplace(T,b[0],b[1],C[0],C[1]);else{for(var B=r;B<a;B++)this.paintVertexArray.emplace(B,u,g);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(g))}},Un.prototype.upload=function(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Un.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Un.prototype.setUniform=function(r,a){var u=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,g=ee(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);r.set(g)},Un.prototype.getBinding=function(r,a,u){return new Ft(r,a)};var Dn=function(r,a,u,g,b,C){this.expression=r,this.type=a,this.useIntegerZoom=u,this.zoom=g,this.layerId=C,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};Dn.prototype.populatePaintArray=function(r,a,u){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(g,r,a.patterns&&a.patterns[this.layerId],u)},Dn.prototype.updatePaintArray=function(r,a,u,g,b){this._setPaintValues(r,a,u.patterns&&u.patterns[this.layerId],b)},Dn.prototype._setPaintValues=function(r,a,u,g){if(g&&u){var b=g[u.min],C=g[u.mid],T=g[u.max];if(b&&C&&T)for(var B=r;B<a;B++)this.zoomInPaintVertexArray.emplace(B,C.tl[0],C.tl[1],C.br[0],C.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],C.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,C.tl[0],C.tl[1],C.br[0],C.br[1],T.tl[0],T.tl[1],T.br[0],T.br[1],C.pixelRatio,T.pixelRatio)}},Dn.prototype.upload=function(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Te.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Te.members,this.expression.isStateDependent))},Dn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var An=function(r,a,u){this.binders={},this._buffers=[];var g=[];for(var b in r.paint._values)if(u(b)){var C=r.paint.get(b);if(C instanceof ea&&Nl(C.property.specification)){var T=Vi(b,r.type),B=C.value,j=C.property.specification.type,W=C.property.useIntegerZoom,Z=C.property.specification["property-type"],Y=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[b]=Y?new Vn(B.value,T):new tr(B.value,T,j),g.push("/u_"+b);else if(B.kind==="source"||Y){var ue=Ii(b,j,"source");this.binders[b]=Y?new Dn(B,j,W,a,ue,r.id):new zn(B,T,j,ue),g.push("/a_"+b)}else{var he=Ii(b,j,"composite");this.binders[b]=new Un(B,T,j,W,a,he),g.push("/z_"+b)}}}this.cacheKey=g.sort().join("")};An.prototype.getMaxValue=function(r){var a=this.binders[r];return a instanceof zn||a instanceof Un?a.maxValue:0},An.prototype.populatePaintArrays=function(r,a,u,g,b){for(var C in this.binders){var T=this.binders[C];(T instanceof zn||T instanceof Un||T instanceof Dn)&&T.populatePaintArray(r,a,u,g,b)}},An.prototype.setConstantPatternPositions=function(r,a){for(var u in this.binders){var g=this.binders[u];g instanceof Vn&&g.setConstantPatternPositions(r,a)}},An.prototype.updatePaintArrays=function(r,a,u,g,b){var C=!1;for(var T in r)for(var B=0,j=a.getPositions(T);B<j.length;B+=1){var W=j[B],Z=u.feature(W.index);for(var Y in this.binders){var ue=this.binders[Y];if((ue instanceof zn||ue instanceof Un||ue instanceof Dn)&&ue.expression.isStateDependent===!0){var he=g.paint.get(Y);ue.expression=he.value,ue.updatePaintArray(W.start,W.end,Z,r[T],b),C=!0}}}return C},An.prototype.defines=function(){var r=[];for(var a in this.binders){var u=this.binders[a];(u instanceof tr||u instanceof Vn)&&r.push.apply(r,u.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return r},An.prototype.getBinderAttributes=function(){var r=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof zn||u instanceof Un)for(var g=0;g<u.paintVertexAttributes.length;g++)r.push(u.paintVertexAttributes[g].name);else if(u instanceof Dn)for(var b=0;b<Te.members.length;b++)r.push(Te.members[b].name)}return r},An.prototype.getBinderUniforms=function(){var r=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof tr||u instanceof Vn||u instanceof Un)for(var g=0,b=u.uniformNames;g<b.length;g+=1)r.push(b[g])}return r},An.prototype.getPaintVertexBuffers=function(){return this._buffers},An.prototype.getUniforms=function(r,a){var u=[];for(var g in this.binders){var b=this.binders[g];if(b instanceof tr||b instanceof Vn||b instanceof Un)for(var C=0,T=b.uniformNames;C<T.length;C+=1){var B=T[C];if(a[B]){var j=b.getBinding(r,a[B],B);u.push({name:B,property:g,binding:j})}}}return u},An.prototype.setUniforms=function(r,a,u,g){for(var b=0,C=a;b<C.length;b+=1){var T=C[b],B=T.name,j=T.property;this.binders[j].setUniform(T.binding,g,u.get(j),B)}},An.prototype.updatePaintBuffers=function(r){for(var a in this._buffers=[],this.binders){var u=this.binders[a];if(r&&u instanceof Dn){var g=r.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(u instanceof zn||u instanceof Un)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},An.prototype.upload=function(r){for(var a in this.binders){var u=this.binders[a];(u instanceof zn||u instanceof Un||u instanceof Dn)&&u.upload(r)}this.updatePaintBuffers()},An.prototype.destroy=function(){for(var r in this.binders){var a=this.binders[r];(a instanceof zn||a instanceof Un||a instanceof Dn)&&a.destroy()}};var Gr=function(r,a,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var g=0,b=r;g<b.length;g+=1){var C=b[g];this.programConfigurations[C.id]=new An(C,a,u)}this.needsUpload=!1,this._featureMap=new et,this._bufferOffset=0};function Vi(r,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(a+"-","").replace(/-/g,"_")]}function Ii(r,a,u){var g={color:{source:N,composite:c},number:{source:Rt,composite:N}},b=function(C){return{"line-pattern":{source:Q,composite:Q},"fill-pattern":{source:Q,composite:Q},"fill-extrusion-pattern":{source:Q,composite:Q}}[C]}(r);return b&&b[u]||g[a][u]}Gr.prototype.populatePaintArrays=function(r,a,u,g,b,C){for(var T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(r,a,g,b,C);a.id!==void 0&&this._featureMap.add(a.id,u,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0},Gr.prototype.updatePaintArrays=function(r,a,u,g){for(var b=0,C=u;b<C.length;b+=1){var T=C[b];this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(r,this._featureMap,a,T,g)||this.needsUpload}},Gr.prototype.get=function(r){return this.programConfigurations[r]},Gr.prototype.upload=function(r){if(this.needsUpload){for(var a in this.programConfigurations)this.programConfigurations[a].upload(r);this.needsUpload=!1}},Gr.prototype.destroy=function(){for(var r in this.programConfigurations)this.programConfigurations[r].destroy()},an("ConstantBinder",tr),an("CrossFadedConstantBinder",Vn),an("SourceExpressionBinder",zn),an("CrossFadedCompositeBinder",Dn),an("CompositeExpressionBinder",Un),an("ProgramConfiguration",An,{omit:["_buffers"]}),an("ProgramConfigurationSet",Gr);var so=Math.pow(2,14)-1,Xi=-so-1;function fi(r){for(var a=8192/r.extent,u=r.loadGeometry(),g=0;g<u.length;g++)for(var b=u[g],C=0;C<b.length;C++){var T=b[C],B=Math.round(T.x*a),j=Math.round(T.y*a);T.x=ee(B,Xi,so),T.y=ee(j,Xi,so),(B<T.x||B>T.x+1||j<T.y||j>T.y+1)&&At("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function na(r,a){return{type:r.type,id:r.id,properties:r.properties,geometry:a?fi(r):[]}}function Hi(r,a,u,g,b){r.emplaceBack(2*a+(g+1)/2,2*u+(b+1)/2)}var ra=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Nt,this.segments=new de,this.programConfigurations=new Gr(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function wa(r,a){for(var u=0;u<r.length;u++)if(Qa(a,r[u]))return!0;for(var g=0;g<a.length;g++)if(Qa(r,a[g]))return!0;return!!vu(r,a)}function dl(r,a,u){return!!Qa(r,a)||!!_u(a,r,u)}function As(r,a){if(r.length===1)return rf(a,r[0]);for(var u=0;u<a.length;u++)for(var g=a[u],b=0;b<g.length;b++)if(Qa(r,g[b]))return!0;for(var C=0;C<r.length;C++)if(rf(a,r[C]))return!0;for(var T=0;T<a.length;T++)if(vu(r,a[T]))return!0;return!1}function Vf(r,a,u){if(r.length>1){if(vu(r,a))return!0;for(var g=0;g<a.length;g++)if(_u(a[g],r,u))return!0}for(var b=0;b<r.length;b++)if(_u(r[b],a,u))return!0;return!1}function vu(r,a){if(r.length===0||a.length===0)return!1;for(var u=0;u<r.length-1;u++)for(var g=r[u],b=r[u+1],C=0;C<a.length-1;C++)if(ml(g,b,a[C],a[C+1]))return!0;return!1}function ml(r,a,u,g){return Ot(r,u,g)!==Ot(a,u,g)&&Ot(r,a,u)!==Ot(r,a,g)}function _u(r,a,u){var g=u*u;if(a.length===1)return r.distSqr(a[0])<g;for(var b=1;b<a.length;b++)if(Hf(r,a[b-1],a[b])<g)return!0;return!1}function Hf(r,a,u){var g=a.distSqr(u);if(g===0)return r.distSqr(a);var b=((r.x-a.x)*(u.x-a.x)+(r.y-a.y)*(u.y-a.y))/g;return r.distSqr(b<0?a:b>1?u:u.sub(a)._mult(b)._add(a))}function rf(r,a){for(var u,g,b,C=!1,T=0;T<r.length;T++)for(var B=0,j=(u=r[T]).length-1;B<u.length;j=B++)(g=u[B]).y>a.y!=(b=u[j]).y>a.y&&a.x<(b.x-g.x)*(a.y-g.y)/(b.y-g.y)+g.x&&(C=!C);return C}function Qa(r,a){for(var u=!1,g=0,b=r.length-1;g<r.length;b=g++){var C=r[g],T=r[b];C.y>a.y!=T.y>a.y&&a.x<(T.x-C.x)*(a.y-C.y)/(T.y-C.y)+C.x&&(u=!u)}return u}function of(r,a,u){var g=u[0],b=u[2];if(r.x<g.x&&a.x<g.x||r.x>b.x&&a.x>b.x||r.y<g.y&&a.y<g.y||r.y>b.y&&a.y>b.y)return!1;var C=Ot(r,a,u[0]);return C!==Ot(r,a,u[1])||C!==Ot(r,a,u[2])||C!==Ot(r,a,u[3])}function go(r,a,u){var g=a.paint.get(r).value;return g.kind==="constant"?g.value:u.programConfigurations.get(a.id).getMaxValue(r)}function Xs(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Ts(r,a,u,g,b){if(!a[0]&&!a[1])return r;var C=M.convert(a)._mult(b);u==="viewport"&&C._rotate(-g);for(var T=[],B=0;B<r.length;B++)T.push(r[B].sub(C));return T}ra.prototype.populate=function(r,a,u){var g=this.layers[0],b=[],C=null,T=!1;g.type==="circle"&&(T=!(C=g.layout.get("circle-sort-key")).isConstant());for(var B=0,j=r;B<j.length;B+=1){var W=j[B],Z=W.feature,Y=W.id,ue=W.index,he=W.sourceLayerIndex,Ee=this.layers[0]._featureFilter.needGeometry,ke=na(Z,Ee);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),ke,u)){var He=T?C.evaluate(ke,{},u):void 0,De={id:Y,properties:Z.properties,type:Z.type,sourceLayerIndex:he,index:ue,geometry:Ee?ke.geometry:fi(Z),patterns:{},sortKey:He};b.push(De)}}T&&b.sort(function(gn,nn){return gn.sortKey-nn.sortKey});for(var nt=0,ot=b;nt<ot.length;nt+=1){var ft=ot[nt],pt=ft.geometry,kt=ft.index,Ut=ft.sourceLayerIndex,Zt=r[kt].feature;this.addFeature(ft,pt,kt,u),a.featureIndex.insert(Zt,pt,kt,Ut,this.index)}},ra.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},ra.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ra.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ra.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,_e),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},ra.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ra.prototype.addFeature=function(r,a,u,g){for(var b=0,C=a;b<C.length;b+=1)for(var T=0,B=C[b];T<B.length;T+=1){var j=B[T],W=j.x,Z=j.y;if(!(W<0||W>=8192||Z<0||Z>=8192)){var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),ue=Y.vertexLength;Hi(this.layoutVertexArray,W,Z,-1,-1),Hi(this.layoutVertexArray,W,Z,1,-1),Hi(this.layoutVertexArray,W,Z,1,1),Hi(this.layoutVertexArray,W,Z,-1,1),this.indexArray.emplaceBack(ue,ue+1,ue+2),this.indexArray.emplaceBack(ue,ue+3,ue+2),Y.vertexLength+=4,Y.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,{},g)},an("CircleBucket",ra,{omit:["layers"]});var lc=new zo({"circle-sort-key":new mt(xe.layout_circle["circle-sort-key"])}),Yi={paint:new zo({"circle-radius":new mt(xe.paint_circle["circle-radius"]),"circle-color":new mt(xe.paint_circle["circle-color"]),"circle-blur":new mt(xe.paint_circle["circle-blur"]),"circle-opacity":new mt(xe.paint_circle["circle-opacity"]),"circle-translate":new Wt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Wt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Wt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Wt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new mt(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new mt(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new mt(xe.paint_circle["circle-stroke-opacity"])}),layout:lc},qi=typeof Float32Array<"u"?Float32Array:Array;function Aa(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function uc(r,a,u){var g=a[0],b=a[1],C=a[2],T=a[3],B=a[4],j=a[5],W=a[6],Z=a[7],Y=a[8],ue=a[9],he=a[10],Ee=a[11],ke=a[12],He=a[13],De=a[14],nt=a[15],ot=u[0],ft=u[1],pt=u[2],kt=u[3];return r[0]=ot*g+ft*B+pt*Y+kt*ke,r[1]=ot*b+ft*j+pt*ue+kt*He,r[2]=ot*C+ft*W+pt*he+kt*De,r[3]=ot*T+ft*Z+pt*Ee+kt*nt,r[4]=(ot=u[4])*g+(ft=u[5])*B+(pt=u[6])*Y+(kt=u[7])*ke,r[5]=ot*b+ft*j+pt*ue+kt*He,r[6]=ot*C+ft*W+pt*he+kt*De,r[7]=ot*T+ft*Z+pt*Ee+kt*nt,r[8]=(ot=u[8])*g+(ft=u[9])*B+(pt=u[10])*Y+(kt=u[11])*ke,r[9]=ot*b+ft*j+pt*ue+kt*He,r[10]=ot*C+ft*W+pt*he+kt*De,r[11]=ot*T+ft*Z+pt*Ee+kt*nt,r[12]=(ot=u[12])*g+(ft=u[13])*B+(pt=u[14])*Y+(kt=u[15])*ke,r[13]=ot*b+ft*j+pt*ue+kt*He,r[14]=ot*C+ft*W+pt*he+kt*De,r[15]=ot*T+ft*Z+pt*Ee+kt*nt,r}Math.hypot||(Math.hypot=function(){for(var r=arguments,a=0,u=arguments.length;u--;)a+=r[u]*r[u];return Math.sqrt(a)});var qp,eA=uc;function qf(r,a,u){var g=a[0],b=a[1],C=a[2],T=a[3];return r[0]=u[0]*g+u[4]*b+u[8]*C+u[12]*T,r[1]=u[1]*g+u[5]*b+u[9]*C+u[13]*T,r[2]=u[2]*g+u[6]*b+u[10]*C+u[14]*T,r[3]=u[3]*g+u[7]*b+u[11]*C+u[15]*T,r}qp=new qi(3),qi!=Float32Array&&(qp[0]=0,qp[1]=0,qp[2]=0),function(){var r=new qi(4);qi!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0)}();var Gf=(function(){var r=new qi(2);qi!=Float32Array&&(r[0]=0,r[1]=0)}(),function(r){function a(u){r.call(this,u,Yi)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new ra(u)},a.prototype.queryRadius=function(u){var g=u;return go("circle-radius",this,g)+go("circle-stroke-width",this,g)+Xs(this.paint.get("circle-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j,W){for(var Z=Ts(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,j),Y=this.paint.get("circle-radius").evaluate(g,b)+this.paint.get("circle-stroke-width").evaluate(g,b),ue=this.paint.get("circle-pitch-alignment")==="map",he=ue?Z:function(Ut,Zt){return Ut.map(function(gn){return tA(gn,Zt)})}(Z,W),Ee=ue?Y*j:Y,ke=0,He=C;ke<He.length;ke+=1)for(var De=0,nt=He[ke];De<nt.length;De+=1){var ot=nt[De],ft=ue?ot:tA(ot,W),pt=Ee,kt=qf([],[ot.x,ot.y,0,1],W);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pt*=kt[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pt*=B.cameraToCenterDistance/kt[3]),dl(he,ft,pt))return!0}return!1},a}(ji));function tA(r,a){var u=qf([],[r.x,r.y,0,1],a);return new M(u[0]/u[3],u[1]/u[3])}var xu=function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(ra);function Qf(r,a,u,g){var b=a.width,C=a.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==b*C*u)throw new RangeError("mismatched image size")}else g=new Uint8Array(b*C*u);return r.width=b,r.height=C,r.data=g,r}function rm(r,a,u){var g=a.width,b=a.height;if(g!==r.width||b!==r.height){var C=Qf({},{width:g,height:b},u);cd(r,C,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,g),height:Math.min(r.height,b)},u),r.width=g,r.height=b,r.data=C.data}}function cd(r,a,u,g,b,C){if(b.width===0||b.height===0)return a;if(b.width>r.width||b.height>r.height||u.x>r.width-b.width||u.y>r.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>a.width||b.height>a.height||g.x>a.width-b.width||g.y>a.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var T=r.data,B=a.data,j=0;j<b.height;j++)for(var W=((u.y+j)*r.width+u.x)*C,Z=((g.y+j)*a.width+g.x)*C,Y=0;Y<b.width*C;Y++)B[Z+Y]=T[W+Y];return a}an("HeatmapBucket",xu,{omit:["layers"]});var Wf=function(r,a){Qf(this,r,1,a)};Wf.prototype.resize=function(r){rm(this,r,1)},Wf.prototype.clone=function(){return new Wf({width:this.width,height:this.height},new Uint8Array(this.data))},Wf.copy=function(r,a,u,g,b){cd(r,a,u,g,b,1)};var Ra=function(r,a){Qf(this,r,4,a)};Ra.prototype.resize=function(r){rm(this,r,4)},Ra.prototype.replace=function(r,a){a?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r},Ra.prototype.clone=function(){return new Ra({width:this.width,height:this.height},new Uint8Array(this.data))},Ra.copy=function(r,a,u,g,b){cd(r,a,u,g,b,4)},an("AlphaImage",Wf),an("RGBAImage",Ra);var rb={paint:new zo({"heatmap-radius":new mt(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new mt(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Wt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ga(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Wt(xe.paint_heatmap["heatmap-opacity"])})};function fd(r){var a={},u=r.resolution||256,g=r.clips?r.clips.length:1,b=r.image||new Ra({width:u,height:g}),C=function(Ee,ke,He){a[r.evaluationKey]=He;var De=r.expression.evaluate(a);b.data[Ee+ke+0]=Math.floor(255*De.r/De.a),b.data[Ee+ke+1]=Math.floor(255*De.g/De.a),b.data[Ee+ke+2]=Math.floor(255*De.b/De.a),b.data[Ee+ke+3]=Math.floor(255*De.a)};if(r.clips)for(var T=0,B=0;T<g;++T,B+=4*u)for(var j=0,W=0;j<u;j++,W+=4){var Z=j/(u-1),Y=r.clips[T];C(B,W,Y.start*(1-Z)+Y.end*Z)}else for(var ue=0,he=0;ue<u;ue++,he+=4)C(0,he,ue/(u-1));return b}var Ny=function(r){function a(u){r.call(this,u,rb),this._updateColorRamp()}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new xu(u)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="heatmap-color"&&this._updateColorRamp()},a.prototype._updateColorRamp=function(){this.colorRamp=fd({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},a.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},a}(ji),im={paint:new zo({"hillshade-illumination-direction":new Wt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Wt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Wt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Wt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Wt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Wt(xe.paint_hillshade["hillshade-accent-color"])})},ib=function(r){function a(u){r.call(this,u,im)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},a}(ji),om=m([{name:"a_pos",components:2,type:"Int16"}],4).members,kr=pd,ob=pd;function pd(r,a,u){u=u||2;var g,b,C,T,B,j,W,Z=a&&a.length,Y=Z?a[0]*u:r.length,ue=Gp(r,0,Y,u,!0),he=[];if(!ue||ue.next===ue.prev)return he;if(Z&&(ue=function(ke,He,De,nt){var ot,ft,pt,kt=[];for(ot=0,ft=He.length;ot<ft;ot++)(pt=Gp(ke,He[ot]*nt,ot<ft-1?He[ot+1]*nt:ke.length,nt,!1))===pt.next&&(pt.steiner=!0),kt.push(af(pt));for(kt.sort(am),ot=0;ot<kt.length;ot++)Uy(kt[ot],De),De=cc(De,De.next);return De}(r,a,ue,u)),r.length>80*u){g=C=r[0],b=T=r[1];for(var Ee=u;Ee<Y;Ee+=u)(B=r[Ee])<g&&(g=B),(j=r[Ee+1])<b&&(b=j),B>C&&(C=B),j>T&&(T=j);W=(W=Math.max(C-g,T-b))!==0?1/W:0}return nA(ue,he,u,g,b,W),he}function Gp(r,a,u,g,b){var C,T;if(b===md(r,a,u,g)>0)for(C=a;C<u;C+=g)T=Vy(C,r[C],r[C+1],T);else for(C=u-g;C>=a;C-=g)T=Vy(C,r[C],r[C+1],T);return T&&rA(T,T.next)&&(yl(T),T=T.next),T}function cc(r,a){if(!r)return r;a||(a=r);var u,g=r;do if(u=!1,g.steiner||!rA(g,g.next)&&Gi(g.prev,g,g.next)!==0)g=g.next;else{if(yl(g),(g=a=g.prev)===g.next)break;u=!0}while(u||g!==a);return a}function nA(r,a,u,g,b,C,T){if(r){!T&&C&&function(Z,Y,ue,he){var Ee=Z;do Ee.z===null&&(Ee.z=ds(Ee.x,Ee.y,Y,ue,he)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next;while(Ee!==Z);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(ke){var He,De,nt,ot,ft,pt,kt,Ut,Zt=1;do{for(De=ke,ke=null,ft=null,pt=0;De;){for(pt++,nt=De,kt=0,He=0;He<Zt&&(kt++,nt=nt.nextZ);He++);for(Ut=Zt;kt>0||Ut>0&&nt;)kt!==0&&(Ut===0||!nt||De.z<=nt.z)?(ot=De,De=De.nextZ,kt--):(ot=nt,nt=nt.nextZ,Ut--),ft?ft.nextZ=ot:ke=ot,ot.prevZ=ft,ft=ot;De=nt}ft.nextZ=null,Zt*=2}while(pt>1)}(Ee)}(r,g,b,C);for(var B,j,W=r;r.prev!==r.next;)if(B=r.prev,j=r.next,C?gl(r,g,b,C):ab(r))a.push(B.i/u),a.push(r.i/u),a.push(j.i/u),yl(r),r=j.next,W=j.next;else if((r=j)===W){T?T===1?nA(r=sb(cc(r),a,u),a,u,g,b,C,2):T===2&&hd(r,a,u,g,b,C):nA(cc(r),a,u,g,b,C,1);break}}}function ab(r){var a=r.prev,u=r,g=r.next;if(Gi(a,u,g)>=0)return!1;for(var b=r.next.next;b!==r.prev;){if(sf(a.x,a.y,u.x,u.y,g.x,g.y,b.x,b.y)&&Gi(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function gl(r,a,u,g){var b=r.prev,C=r,T=r.next;if(Gi(b,C,T)>=0)return!1;for(var B=b.x>C.x?b.x>T.x?b.x:T.x:C.x>T.x?C.x:T.x,j=b.y>C.y?b.y>T.y?b.y:T.y:C.y>T.y?C.y:T.y,W=ds(b.x<C.x?b.x<T.x?b.x:T.x:C.x<T.x?C.x:T.x,b.y<C.y?b.y<T.y?b.y:T.y:C.y<T.y?C.y:T.y,a,u,g),Z=ds(B,j,a,u,g),Y=r.prevZ,ue=r.nextZ;Y&&Y.z>=W&&ue&&ue.z<=Z;){if(Y!==r.prev&&Y!==r.next&&sf(b.x,b.y,C.x,C.y,T.x,T.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ue!==r.prev&&ue!==r.next&&sf(b.x,b.y,C.x,C.y,T.x,T.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;Y&&Y.z>=W;){if(Y!==r.prev&&Y!==r.next&&sf(b.x,b.y,C.x,C.y,T.x,T.y,Y.x,Y.y)&&Gi(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ue&&ue.z<=Z;){if(ue!==r.prev&&ue!==r.next&&sf(b.x,b.y,C.x,C.y,T.x,T.y,ue.x,ue.y)&&Gi(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function sb(r,a,u){var g=r;do{var b=g.prev,C=g.next.next;!rA(b,C)&&Ad(b,g,g.next,C)&&Kf(b,C)&&Kf(C,b)&&(a.push(b.i/u),a.push(g.i/u),a.push(C.i/u),yl(g),yl(g.next),g=r=C),g=g.next}while(g!==r);return cc(g)}function hd(r,a,u,g,b,C){var T=r;do{for(var B=T.next.next;B!==T.prev;){if(T.i!==B.i&&jy(T,B)){var j=fc(T,B);return T=cc(T,T.next),j=cc(j,j.next),nA(T,a,u,g,b,C),void nA(j,a,u,g,b,C)}B=B.next}T=T.next}while(T!==r)}function am(r,a){return r.x-a.x}function Uy(r,a){if(a=function(g,b){var C,T=b,B=g.x,j=g.y,W=-1/0;do{if(j<=T.y&&j>=T.next.y&&T.next.y!==T.y){var Z=T.x+(j-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Z<=B&&Z>W){if(W=Z,Z===B){if(j===T.y)return T;if(j===T.next.y)return T.next}C=T.x<T.next.x?T:T.next}}T=T.next}while(T!==b);if(!C)return null;if(B===W)return C;var Y,ue=C,he=C.x,Ee=C.y,ke=1/0;T=C;do B>=T.x&&T.x>=he&&B!==T.x&&sf(j<Ee?B:W,j,he,Ee,j<Ee?W:B,j,T.x,T.y)&&(Y=Math.abs(j-T.y)/(B-T.x),Kf(T,g)&&(Y<ke||Y===ke&&(T.x>C.x||T.x===C.x&&$y(C,T)))&&(C=T,ke=Y)),T=T.next;while(T!==ue);return C}(r,a)){var u=fc(a,r);cc(a,a.next),cc(u,u.next)}}function $y(r,a){return Gi(r.prev,r,a.prev)<0&&Gi(a.next,r,r.next)<0}function ds(r,a,u,g,b){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-u)*b)|r<<8))|r<<4))|r<<2))|r<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-g)*b)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function af(r){var a=r,u=r;do(a.x<u.x||a.x===u.x&&a.y<u.y)&&(u=a),a=a.next;while(a!==r);return u}function sf(r,a,u,g,b,C,T,B){return(b-T)*(a-B)-(r-T)*(C-B)>=0&&(r-T)*(g-B)-(u-T)*(a-B)>=0&&(u-T)*(C-B)-(b-T)*(g-B)>=0}function jy(r,a){return r.next.i!==a.i&&r.prev.i!==a.i&&!function(u,g){var b=u;do{if(b.i!==u.i&&b.next.i!==u.i&&b.i!==g.i&&b.next.i!==g.i&&Ad(b,b.next,u,g))return!0;b=b.next}while(b!==u);return!1}(r,a)&&(Kf(r,a)&&Kf(a,r)&&function(u,g){var b=u,C=!1,T=(u.x+g.x)/2,B=(u.y+g.y)/2;do b.y>B!=b.next.y>B&&b.next.y!==b.y&&T<(b.next.x-b.x)*(B-b.y)/(b.next.y-b.y)+b.x&&(C=!C),b=b.next;while(b!==u);return C}(r,a)&&(Gi(r.prev,r,a.prev)||Gi(r,a.prev,a))||rA(r,a)&&Gi(r.prev,r,r.next)>0&&Gi(a.prev,a,a.next)>0)}function Gi(r,a,u){return(a.y-r.y)*(u.x-a.x)-(a.x-r.x)*(u.y-a.y)}function rA(r,a){return r.x===a.x&&r.y===a.y}function Ad(r,a,u,g){var b=Qp(Gi(r,a,u)),C=Qp(Gi(r,a,g)),T=Qp(Gi(u,g,r)),B=Qp(Gi(u,g,a));return b!==C&&T!==B||!(b!==0||!iA(r,u,a))||!(C!==0||!iA(r,g,a))||!(T!==0||!iA(u,r,g))||!(B!==0||!iA(u,a,g))}function iA(r,a,u){return a.x<=Math.max(r.x,u.x)&&a.x>=Math.min(r.x,u.x)&&a.y<=Math.max(r.y,u.y)&&a.y>=Math.min(r.y,u.y)}function Qp(r){return r>0?1:r<0?-1:0}function Kf(r,a){return Gi(r.prev,r,r.next)<0?Gi(r,a,r.next)>=0&&Gi(r,r.prev,a)>=0:Gi(r,a,r.prev)<0||Gi(r,r.next,a)<0}function fc(r,a){var u=new dd(r.i,r.x,r.y),g=new dd(a.i,a.x,a.y),b=r.next,C=a.prev;return r.next=a,a.prev=r,u.next=b,b.prev=u,g.next=u,u.prev=g,C.next=g,g.prev=C,g}function Vy(r,a,u,g){var b=new dd(r,a,u);return g?(b.next=g.next,b.prev=g,g.next.prev=b,g.next=b):(b.prev=b,b.next=b),b}function yl(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function dd(r,a,u){this.i=r,this.x=a,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function md(r,a,u,g){for(var b=0,C=a,T=u-g;C<u;C+=g)b+=(r[T]-r[C])*(r[C+1]+r[T+1]),T=C;return b}function sm(r,a,u,g,b){(function C(T,B,j,W,Z){for(;W>j;){if(W-j>600){var Y=W-j+1,ue=B-j+1,he=Math.log(Y),Ee=.5*Math.exp(2*he/3),ke=.5*Math.sqrt(he*Ee*(Y-Ee)/Y)*(ue-Y/2<0?-1:1);C(T,B,Math.max(j,Math.floor(B-ue*Ee/Y+ke)),Math.min(W,Math.floor(B+(Y-ue)*Ee/Y+ke)),Z)}var He=T[B],De=j,nt=W;for(oA(T,j,B),Z(T[W],He)>0&&oA(T,j,W);De<nt;){for(oA(T,De,nt),De++,nt--;Z(T[De],He)<0;)De++;for(;Z(T[nt],He)>0;)nt--}Z(T[j],He)===0?oA(T,j,nt):oA(T,++nt,W),nt<=B&&(j=nt+1),B<=nt&&(W=nt-1)}})(r,a,u||0,g||r.length-1,b||lb)}function oA(r,a,u){var g=r[a];r[a]=r[u],r[u]=g}function lb(r,a){return r<a?-1:r>a?1:0}function lm(r,a){var u=r.length;if(u<=1)return[r];for(var g,b,C=[],T=0;T<u;T++){var B=Vt(r[T]);B!==0&&(r[T].area=Math.abs(B),b===void 0&&(b=B<0),b===B<0?(g&&C.push(g),g=[r[T]]):g.push(r[T]))}if(g&&C.push(g),a>1)for(var j=0;j<C.length;j++)C[j].length<=a||(sm(C[j],a,1,C[j].length-1,Hy),C[j]=C[j].slice(0,a));return C}function Hy(r,a){return a.area-r.area}function gd(r,a,u){for(var g=u.patternDependencies,b=!1,C=0,T=a;C<T.length;C+=1){var B=T[C].paint.get(r+"-pattern");B.isConstant()||(b=!0);var j=B.constantOr(null);j&&(b=!0,g[j.to]=!0,g[j.from]=!0)}return b}function um(r,a,u,g,b){for(var C=b.patternDependencies,T=0,B=a;T<B.length;T+=1){var j=B[T],W=j.paint.get(r+"-pattern").value;if(W.kind!=="constant"){var Z=W.evaluate({zoom:g-1},u,{},b.availableImages),Y=W.evaluate({zoom:g},u,{},b.availableImages),ue=W.evaluate({zoom:g+1},u,{},b.availableImages);Y=Y&&Y.name?Y.name:Y,ue=ue&&ue.name?ue.name:ue,C[Z=Z&&Z.name?Z.name:Z]=!0,C[Y]=!0,C[ue]=!0,u.patterns[j.id]={min:Z,mid:Y,max:ue}}}return u}pd.deviation=function(r,a,u,g){var b=a&&a.length,C=Math.abs(md(r,0,b?a[0]*u:r.length,u));if(b)for(var T=0,B=a.length;T<B;T++)C-=Math.abs(md(r,a[T]*u,T<B-1?a[T+1]*u:r.length,u));var j=0;for(T=0;T<g.length;T+=3){var W=g[T]*u,Z=g[T+1]*u,Y=g[T+2]*u;j+=Math.abs((r[W]-r[Y])*(r[Z+1]-r[W+1])-(r[W]-r[Z])*(r[Y+1]-r[W+1]))}return C===0&&j===0?0:Math.abs((j-C)/C)},pd.flatten=function(r){for(var a=r[0][0].length,u={vertices:[],holes:[],dimensions:a},g=0,b=0;b<r.length;b++){for(var C=0;C<r[b].length;C++)for(var T=0;T<a;T++)u.vertices.push(r[b][C][T]);b>0&&u.holes.push(g+=r[b-1].length)}return u},kr.default=ob;var vl=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Nt,this.indexArray2=new xn,this.programConfigurations=new Gr(r.layers,r.zoom),this.segments=new de,this.segments2=new de,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};vl.prototype.populate=function(r,a,u){this.hasPattern=gd("fill",this.layers,a);for(var g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),C=[],T=0,B=r;T<B.length;T+=1){var j=B[T],W=j.feature,Z=j.id,Y=j.index,ue=j.sourceLayerIndex,he=this.layers[0]._featureFilter.needGeometry,Ee=na(W,he);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ee,u)){var ke=b?g.evaluate(Ee,{},u,a.availableImages):void 0,He={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:he?Ee.geometry:fi(W),patterns:{},sortKey:ke};C.push(He)}}b&&C.sort(function(Zt,gn){return Zt.sortKey-gn.sortKey});for(var De=0,nt=C;De<nt.length;De+=1){var ot=nt[De],ft=ot.geometry,pt=ot.index,kt=ot.sourceLayerIndex;if(this.hasPattern){var Ut=um("fill",this.layers,ot,this.zoom,a);this.patternFeatures.push(Ut)}else this.addFeature(ot,ft,pt,u,{});a.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},vl.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},vl.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,a,u)}},vl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vl.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,om),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},vl.prototype.addFeature=function(r,a,u,g,b){for(var C=0,T=lm(a,500);C<T.length;C+=1){for(var B=T[C],j=0,W=0,Z=B;W<Z.length;W+=1)j+=Z[W].length;for(var Y=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),ue=Y.vertexLength,he=[],Ee=[],ke=0,He=B;ke<He.length;ke+=1){var De=He[ke];if(De.length!==0){De!==B[0]&&Ee.push(he.length/2);var nt=this.segments2.prepareSegment(De.length,this.layoutVertexArray,this.indexArray2),ot=nt.vertexLength;this.layoutVertexArray.emplaceBack(De[0].x,De[0].y),this.indexArray2.emplaceBack(ot+De.length-1,ot),he.push(De[0].x),he.push(De[0].y);for(var ft=1;ft<De.length;ft++)this.layoutVertexArray.emplaceBack(De[ft].x,De[ft].y),this.indexArray2.emplaceBack(ot+ft-1,ot+ft),he.push(De[ft].x),he.push(De[ft].y);nt.vertexLength+=De.length,nt.primitiveLength+=De.length}}for(var pt=kr(he,Ee),kt=0;kt<pt.length;kt+=3)this.indexArray.emplaceBack(ue+pt[kt],ue+pt[kt+1],ue+pt[kt+2]);Y.vertexLength+=j,Y.primitiveLength+=pt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},an("FillBucket",vl,{omit:["layers","patternFeatures"]});var qy=new zo({"fill-sort-key":new mt(xe.layout_fill["fill-sort-key"])}),Is={paint:new zo({"fill-antialias":new Wt(xe.paint_fill["fill-antialias"]),"fill-opacity":new mt(xe.paint_fill["fill-opacity"]),"fill-color":new mt(xe.paint_fill["fill-color"]),"fill-outline-color":new mt(xe.paint_fill["fill-outline-color"]),"fill-translate":new Wt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Wt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yt(xe.paint_fill["fill-pattern"])}),layout:qy},bu=function(r){function a(u){r.call(this,u,Is)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g);var b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},a.prototype.createBucket=function(u){return new vl(u)},a.prototype.queryRadius=function(){return Xs(this.paint.get("fill-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j){return As(Ts(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,j),C)},a.prototype.isTileClipped=function(){return!0},a}(ji),ub=m([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Gy=pc;function pc(r,a,u,g,b){this.properties={},this.extent=u,this.type=0,this._pbf=r,this._geometry=-1,this._keys=g,this._values=b,r.readFields(Wp,this,a)}function Wp(r,a,u){r==1?a.id=u.readVarint():r==2?function(g,b){for(var C=g.readVarint()+g.pos;g.pos<C;){var T=b._keys[g.readVarint()],B=b._values[g.readVarint()];b.properties[T]=B}}(u,a):r==3?a.type=u.readVarint():r==4&&(a._geometry=u.pos)}function Qy(r){for(var a,u,g=0,b=0,C=r.length,T=C-1;b<C;T=b++)g+=((u=r[T]).x-(a=r[b]).x)*(a.y+u.y);return g}pc.types=["Unknown","Point","LineString","Polygon"],pc.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var a,u=r.readVarint()+r.pos,g=1,b=0,C=0,T=0,B=[];r.pos<u;){if(b<=0){var j=r.readVarint();g=7&j,b=j>>3}if(b--,g===1||g===2)C+=r.readSVarint(),T+=r.readSVarint(),g===1&&(a&&B.push(a),a=[]),a.push(new M(C,T));else{if(g!==7)throw new Error("unknown command "+g);a&&a.push(a[0].clone())}}return a&&B.push(a),B},pc.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var a=r.readVarint()+r.pos,u=1,g=0,b=0,C=0,T=1/0,B=-1/0,j=1/0,W=-1/0;r.pos<a;){if(g<=0){var Z=r.readVarint();u=7&Z,g=Z>>3}if(g--,u===1||u===2)(b+=r.readSVarint())<T&&(T=b),b>B&&(B=b),(C+=r.readSVarint())<j&&(j=C),C>W&&(W=C);else if(u!==7)throw new Error("unknown command "+u)}return[T,j,B,W]},pc.prototype.toGeoJSON=function(r,a,u){var g,b,C=this.extent*Math.pow(2,u),T=this.extent*r,B=this.extent*a,j=this.loadGeometry(),W=pc.types[this.type];function Z(he){for(var Ee=0;Ee<he.length;Ee++){var ke=he[Ee];he[Ee]=[360*(ke.x+T)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(ke.y+B)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(g=0;g<j.length;g++)Y[g]=j[g][0];Z(j=Y);break;case 2:for(g=0;g<j.length;g++)Z(j[g]);break;case 3:for(j=function(he){var Ee=he.length;if(Ee<=1)return[he];for(var ke,He,De=[],nt=0;nt<Ee;nt++){var ot=Qy(he[nt]);ot!==0&&(He===void 0&&(He=ot<0),He===ot<0?(ke&&De.push(ke),ke=[he[nt]]):ke.push(he[nt]))}return ke&&De.push(ke),De}(j),g=0;g<j.length;g++)for(b=0;b<j[g].length;b++)Z(j[g][b])}j.length===1?j=j[0]:W="Multi"+W;var ue={type:"Feature",geometry:{type:W,coordinates:j},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var cm=Wy;function Wy(r,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(Ky,this,a),this.length=this._features.length}function Ky(r,a,u){r===15?a.version=u.readVarint():r===1?a.name=u.readString():r===5?a.extent=u.readVarint():r===2?a._features.push(u.pos):r===3?a._keys.push(u.readString()):r===4&&a._values.push(function(g){for(var b=null,C=g.readVarint()+g.pos;g.pos<C;){var T=g.readVarint()>>3;b=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}return b}(u))}function Kp(r,a,u){if(r===3){var g=new cm(u,u.readVarint()+u.pos);g.length&&(a[g.name]=g)}}Wy.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var a=this._pbf.readVarint()+this._pbf.pos;return new Gy(this._pbf,a,this.extent,this._keys,this._values)};var wu={VectorTile:function(r,a){this.layers=r.readFields(Kp,{},a)},VectorTileFeature:Gy,VectorTileLayer:cm},cb=wu.VectorTileFeature.types,yd=Math.pow(2,13);function Zp(r,a,u,g,b,C,T,B){r.emplaceBack(a,u,2*Math.floor(g*yd)+T,b*yd*2,C*yd*2,Math.round(B))}var Os=function(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new O,this.indexArray=new Nt,this.programConfigurations=new Gr(r.layers,r.zoom),this.segments=new de,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Zy(r,a){return r.x===a.x&&(r.x<0||r.x>8192)||r.y===a.y&&(r.y<0||r.y>8192)}Os.prototype.populate=function(r,a,u){this.features=[],this.hasPattern=gd("fill-extrusion",this.layers,a);for(var g=0,b=r;g<b.length;g+=1){var C=b[g],T=C.feature,B=C.id,j=C.index,W=C.sourceLayerIndex,Z=this.layers[0]._featureFilter.needGeometry,Y=na(T,Z);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Y,u)){var ue={id:B,sourceLayerIndex:W,index:j,geometry:Z?Y.geometry:fi(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push(um("fill-extrusion",this.layers,ue,this.zoom,a)):this.addFeature(ue,ue.geometry,j,u,{}),a.featureIndex.insert(T,ue.geometry,j,W,this.index,!0)}}},Os.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.features;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,a,u)}},Os.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},Os.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Os.prototype.upload=function(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,ub),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Os.prototype.addFeature=function(r,a,u,g,b){for(var C=0,T=lm(a,500);C<T.length;C+=1){for(var B=T[C],j=0,W=0,Z=B;W<Z.length;W+=1)j+=Z[W].length;for(var Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ue=0,he=B;ue<he.length;ue+=1){var Ee=he[ue];if(Ee.length!==0&&!((ir=Ee).every(function(Hn){return Hn.x<0})||ir.every(function(Hn){return Hn.x>8192})||ir.every(function(Hn){return Hn.y<0})||ir.every(function(Hn){return Hn.y>8192})))for(var ke=0,He=0;He<Ee.length;He++){var De=Ee[He];if(He>=1){var nt=Ee[He-1];if(!Zy(De,nt)){Y.vertexLength+4>de.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var ot=De.sub(nt)._perp()._unit(),ft=nt.dist(De);ke+ft>32768&&(ke=0),Zp(this.layoutVertexArray,De.x,De.y,ot.x,ot.y,0,0,ke),Zp(this.layoutVertexArray,De.x,De.y,ot.x,ot.y,0,1,ke),Zp(this.layoutVertexArray,nt.x,nt.y,ot.x,ot.y,0,0,ke+=ft),Zp(this.layoutVertexArray,nt.x,nt.y,ot.x,ot.y,0,1,ke);var pt=Y.vertexLength;this.indexArray.emplaceBack(pt,pt+2,pt+1),this.indexArray.emplaceBack(pt+1,pt+2,pt+3),Y.vertexLength+=4,Y.primitiveLength+=2}}}}if(Y.vertexLength+j>de.MAX_VERTEX_ARRAY_LENGTH&&(Y=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),cb[r.type]==="Polygon"){for(var kt=[],Ut=[],Zt=Y.vertexLength,gn=0,nn=B;gn<nn.length;gn+=1){var En=nn[gn];if(En.length!==0){En!==B[0]&&Ut.push(kt.length/2);for(var on=0;on<En.length;on++){var Zn=En[on];Zp(this.layoutVertexArray,Zn.x,Zn.y,0,0,1,1,0),kt.push(Zn.x),kt.push(Zn.y)}}}for(var On=kr(kt,Ut),yn=0;yn<On.length;yn+=3)this.indexArray.emplaceBack(Zt+On[yn],Zt+On[yn+2],Zt+On[yn+1]);Y.primitiveLength+=On.length/3,Y.vertexLength+=j}}var ir;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},an("FillExtrusionBucket",Os,{omit:["layers","features"]});var vd={paint:new zo({"fill-extrusion-opacity":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new mt(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yt(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new mt(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new mt(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Wt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},fm=function(r){function a(u){r.call(this,u,vd)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.createBucket=function(u){return new Os(u)},a.prototype.queryRadius=function(){return Xs(this.paint.get("fill-extrusion-translate"))},a.prototype.is3D=function(){return!0},a.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j,W){var Z=Ts(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,j),Y=this.paint.get("fill-extrusion-height").evaluate(g,b),ue=this.paint.get("fill-extrusion-base").evaluate(g,b),he=function(ke,He,De,nt){for(var ot=[],ft=0,pt=ke;ft<pt.length;ft+=1){var kt=pt[ft],Ut=[kt.x,kt.y,0,1];qf(Ut,Ut,He),ot.push(new M(Ut[0]/Ut[3],Ut[1]/Ut[3]))}return ot}(Z,W),Ee=function(ke,He,De,nt){for(var ot=[],ft=[],pt=nt[8]*He,kt=nt[9]*He,Ut=nt[10]*He,Zt=nt[11]*He,gn=nt[8]*De,nn=nt[9]*De,En=nt[10]*De,on=nt[11]*De,Zn=0,On=ke;Zn<On.length;Zn+=1){for(var yn=[],ir=[],Hn=0,xr=On[Zn];Hn<xr.length;Hn+=1){var Pn=xr[Hn],Lr=Pn.x,li=Pn.y,_i=nt[0]*Lr+nt[4]*li+nt[12],Oi=nt[1]*Lr+nt[5]*li+nt[13],xi=nt[2]*Lr+nt[6]*li+nt[14],Ci=nt[3]*Lr+nt[7]*li+nt[15],_o=xi+Ut,Io=Ci+Zt,Ea=_i+gn,Uo=Oi+nn,ka=xi+En,Ji=Ci+on,$o=new M((_i+pt)/Io,(Oi+kt)/Io);$o.z=_o/Io,yn.push($o);var fr=new M(Ea/Ji,Uo/Ji);fr.z=ka/Ji,ir.push(fr)}ot.push(yn),ft.push(ir)}return[ot,ft]}(C,ue,Y,W);return function(ke,He,De){var nt=1/0;As(De,He)&&(nt=Xy(De,He[0]));for(var ot=0;ot<He.length;ot++)for(var ft=He[ot],pt=ke[ot],kt=0;kt<ft.length-1;kt++){var Ut=ft[kt],Zt=[Ut,ft[kt+1],pt[kt+1],pt[kt],Ut];wa(De,Zt)&&(nt=Math.min(nt,Xy(De,Zt)))}return nt!==1/0&&nt}(Ee[0],Ee[1],he)},a}(ji);function lf(r,a){return r.x*a.x+r.y*a.y}function Xy(r,a){if(r.length===1){for(var u,g=0,b=a[g++];!u||b.equals(u);)if(!(u=a[g++]))return 1/0;for(;g<a.length;g++){var C=a[g],T=r[0],B=u.sub(b),j=C.sub(b),W=T.sub(b),Z=lf(B,B),Y=lf(B,j),ue=lf(j,j),he=lf(W,B),Ee=lf(W,j),ke=Z*ue-Y*Y,He=(ue*he-Y*Ee)/ke,De=(Z*Ee-Y*he)/ke,nt=b.z*(1-He-De)+u.z*He+C.z*De;if(isFinite(nt))return nt}return 1/0}for(var ot=1/0,ft=0,pt=a;ft<pt.length;ft+=1)ot=Math.min(ot,pt[ft].z);return ot}var Yy=m([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,_d=m([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Jy=wu.VectorTileFeature.types,pm=Math.cos(Math.PI/180*37.5),ev=Math.pow(2,14)/.5,Sa=function(r){var a=this;this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){a.gradients[u.id]={}}),this.layoutVertexArray=new I,this.layoutVertexArray2=new N,this.indexArray=new Nt,this.programConfigurations=new Gr(r.layers,r.zoom),this.segments=new de,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};Sa.prototype.populate=function(r,a,u){this.hasPattern=gd("line",this.layers,a);for(var g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),C=[],T=0,B=r;T<B.length;T+=1){var j=B[T],W=j.feature,Z=j.id,Y=j.index,ue=j.sourceLayerIndex,he=this.layers[0]._featureFilter.needGeometry,Ee=na(W,he);if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Ee,u)){var ke=b?g.evaluate(Ee,{},u):void 0,He={id:Z,properties:W.properties,type:W.type,sourceLayerIndex:ue,index:Y,geometry:he?Ee.geometry:fi(W),patterns:{},sortKey:ke};C.push(He)}}b&&C.sort(function(Zt,gn){return Zt.sortKey-gn.sortKey});for(var De=0,nt=C;De<nt.length;De+=1){var ot=nt[De],ft=ot.geometry,pt=ot.index,kt=ot.sourceLayerIndex;if(this.hasPattern){var Ut=um("line",this.layers,ot,this.zoom,a);this.patternFeatures.push(Ut)}else this.addFeature(ot,ft,pt,u,{});a.featureIndex.insert(r[pt].feature,ft,pt,kt,this.index)}},Sa.prototype.update=function(r,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,a,this.stateDependentLayers,u)},Sa.prototype.addFeatures=function(r,a,u){for(var g=0,b=this.patternFeatures;g<b.length;g+=1){var C=b[g];this.addFeature(C,C.geometry,C.index,a,u)}},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,_d)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Yy),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.lineFeatureClips=function(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}},Sa.prototype.addFeature=function(r,a,u,g,b){var C=this.layers[0].layout,T=C.get("line-join").evaluate(r,{}),B=C.get("line-cap"),j=C.get("line-miter-limit"),W=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(var Z=0,Y=a;Z<Y.length;Z+=1)this.addLine(Y[Z],r,T,B,j,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,b,g)},Sa.prototype.addLine=function(r,a,u,g,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var T=0;T<r.length-1;T++)this.totalDistance+=r[T].dist(r[T+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var B=Jy[a.type]==="Polygon",j=r.length;j>=2&&r[j-1].equals(r[j-2]);)j--;for(var W=0;W<j-1&&r[W].equals(r[W+1]);)W++;if(!(j<(B?3:2))){u==="bevel"&&(b=1.05);var Z,Y=this.overscaling<=16?122880/(512*this.overscaling):0,ue=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray),he=void 0,Ee=void 0,ke=void 0,He=void 0;this.e1=this.e2=-1,B&&(He=r[W].sub(Z=r[j-2])._unit()._perp());for(var De=W;De<j;De++)if(!(Ee=De===j-1?B?r[W+1]:void 0:r[De+1])||!r[De].equals(Ee)){He&&(ke=He),Z&&(he=Z),Z=r[De],He=Ee?Ee.sub(Z)._unit()._perp():ke;var nt=(ke=ke||He).add(He);nt.x===0&&nt.y===0||nt._unit();var ot=ke.x*He.x+ke.y*He.y,ft=nt.x*He.x+nt.y*He.y,pt=ft!==0?1/ft:1/0,kt=2*Math.sqrt(2-2*ft),Ut=ft<pm&&he&&Ee,Zt=ke.x*He.y-ke.y*He.x>0;if(Ut&&De>W){var gn=Z.dist(he);if(gn>2*Y){var nn=Z.sub(Z.sub(he)._mult(Y/gn)._round());this.updateDistance(he,nn),this.addCurrentVertex(nn,ke,0,0,ue),he=nn}}var En=he&&Ee,on=En?u:B?"butt":g;if(En&&on==="round"&&(pt<C?on="miter":pt<=2&&(on="fakeround")),on==="miter"&&pt>b&&(on="bevel"),on==="bevel"&&(pt>2&&(on="flipbevel"),pt<b&&(on="miter")),he&&this.updateDistance(he,Z),on==="miter")nt._mult(pt),this.addCurrentVertex(Z,nt,0,0,ue);else if(on==="flipbevel"){if(pt>100)nt=He.mult(-1);else{var Zn=pt*ke.add(He).mag()/ke.sub(He).mag();nt._perp()._mult(Zn*(Zt?-1:1))}this.addCurrentVertex(Z,nt,0,0,ue),this.addCurrentVertex(Z,nt.mult(-1),0,0,ue)}else if(on==="bevel"||on==="fakeround"){var On=-Math.sqrt(pt*pt-1),yn=Zt?On:0,ir=Zt?0:On;if(he&&this.addCurrentVertex(Z,ke,yn,ir,ue),on==="fakeround")for(var Hn=Math.round(180*kt/Math.PI/20),xr=1;xr<Hn;xr++){var Pn=xr/Hn;if(Pn!==.5){var Lr=Pn-.5;Pn+=Pn*Lr*(Pn-1)*((1.0904+ot*(ot*(3.55645-1.43519*ot)-3.2452))*Lr*Lr+(.848013+ot*(.215638*ot-1.06021)))}var li=He.sub(ke)._mult(Pn)._add(ke)._unit()._mult(Zt?-1:1);this.addHalfVertex(Z,li.x,li.y,!1,Zt,0,ue)}Ee&&this.addCurrentVertex(Z,He,-yn,-ir,ue)}else if(on==="butt")this.addCurrentVertex(Z,nt,0,0,ue);else if(on==="square"){var _i=he?1:-1;this.addCurrentVertex(Z,nt,_i,_i,ue)}else on==="round"&&(he&&(this.addCurrentVertex(Z,ke,0,0,ue),this.addCurrentVertex(Z,ke,1,1,ue,!0)),Ee&&(this.addCurrentVertex(Z,He,-1,-1,ue,!0),this.addCurrentVertex(Z,He,0,0,ue)));if(Ut&&De<j-1){var Oi=Z.dist(Ee);if(Oi>2*Y){var xi=Z.add(Ee.sub(Z)._mult(Y/Oi)._round());this.updateDistance(Z,xi),this.addCurrentVertex(xi,He,0,0,ue),Z=xi}}}}},Sa.prototype.addCurrentVertex=function(r,a,u,g,b,C){C===void 0&&(C=!1);var T=a.y*g-a.x,B=-a.y-a.x*g;this.addHalfVertex(r,a.x+a.y*u,a.y-a.x*u,C,!1,u,b),this.addHalfVertex(r,T,B,C,!0,-g,b),this.distance>ev/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(r,a,u,g,b,C))},Sa.prototype.addHalfVertex=function(r,a,u,g,b,C,T){var B=.5*(this.lineClips?this.scaledDistance*(ev-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r.x<<1)+(g?1:0),(r.y<<1)+(b?1:0),Math.round(63*a)+128,Math.round(63*u)+128,1+(C===0?0:C<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var j=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,j),T.primitiveLength++),b?this.e2=j:this.e1=j},Sa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Sa.prototype.updateDistance=function(r,a){this.distance+=r.dist(a),this.updateScaledDistance()},an("LineBucket",Sa,{omit:["layers","patternFeatures"]});var hc=new zo({"line-cap":new Wt(xe.layout_line["line-cap"]),"line-join":new mt(xe.layout_line["line-join"]),"line-miter-limit":new Wt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Wt(xe.layout_line["line-round-limit"]),"line-sort-key":new mt(xe.layout_line["line-sort-key"])}),hm={paint:new zo({"line-opacity":new mt(xe.paint_line["line-opacity"]),"line-color":new mt(xe.paint_line["line-color"]),"line-translate":new Wt(xe.paint_line["line-translate"]),"line-translate-anchor":new Wt(xe.paint_line["line-translate-anchor"]),"line-width":new mt(xe.paint_line["line-width"]),"line-gap-width":new mt(xe.paint_line["line-gap-width"]),"line-offset":new mt(xe.paint_line["line-offset"]),"line-blur":new mt(xe.paint_line["line-blur"]),"line-dasharray":new To(xe.paint_line["line-dasharray"]),"line-pattern":new Yt(xe.paint_line["line-pattern"]),"line-gradient":new Ga(xe.paint_line["line-gradient"])}),layout:hc},Am=new(function(r){function a(){r.apply(this,arguments)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,g){return g=new Wn(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),r.prototype.possiblyEvaluate.call(this,u,g)},a.prototype.evaluate=function(u,g,b,C){return g=X({},g,{zoom:Math.floor(g.zoom)}),r.prototype.evaluate.call(this,u,g,b,C)},a}(mt))(hm.paint.properties["line-width"].specification);Am.useIntegerZoom=!0;var fb=function(r){function a(u){r.call(this,u,hm),this.gradientVersion=0}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Do,this.gradientVersion=(this.gradientVersion+1)%U)},a.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},a.prototype.recalculate=function(u,g){r.prototype.recalculate.call(this,u,g),this.paint._values["line-floorwidth"]=Am.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},a.prototype.createBucket=function(u){return new Sa(u)},a.prototype.queryRadius=function(u){var g=u,b=dm(go("line-width",this,g),go("line-gap-width",this,g)),C=go("line-offset",this,g);return b/2+Math.abs(C)+Xs(this.paint.get("line-translate"))},a.prototype.queryIntersectsFeature=function(u,g,b,C,T,B,j){var W=Ts(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,j),Z=j/2*dm(this.paint.get("line-width").evaluate(g,b),this.paint.get("line-gap-width").evaluate(g,b)),Y=this.paint.get("line-offset").evaluate(g,b);return Y&&(C=function(ue,he){for(var Ee=[],ke=new M(0,0),He=0;He<ue.length;He++){for(var De=ue[He],nt=[],ot=0;ot<De.length;ot++){var ft=De[ot],pt=De[ot+1],kt=ot===0?ke:ft.sub(De[ot-1])._unit()._perp(),Ut=ot===De.length-1?ke:pt.sub(ft)._unit()._perp(),Zt=kt._add(Ut)._unit();Zt._mult(1/(Zt.x*Ut.x+Zt.y*Ut.y)),nt.push(Zt._mult(he)._add(ft))}Ee.push(nt)}return Ee}(C,Y*j)),function(ue,he,Ee){for(var ke=0;ke<he.length;ke++){var He=he[ke];if(ue.length>=3){for(var De=0;De<He.length;De++)if(Qa(ue,He[De]))return!0}if(Vf(ue,He,Ee))return!0}return!1}(W,C,Z)},a.prototype.isTileClipped=function(){return!0},a}(ji);function dm(r,a){return a>0?a+2*r:r}var pb=m([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),hb=m([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ac=(m([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),m([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),xd=(m([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),m([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),mm=m([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function gm(r,a,u){return r.sections.forEach(function(g){g.text=function(b,C,T){var B=C.layout.get("text-transform").evaluate(T,{});return B==="uppercase"?b=b.toLocaleUpperCase():B==="lowercase"&&(b=b.toLocaleLowerCase()),rr.applyArabicShaping&&(b=rr.applyArabicShaping(b)),b}(g.text,a,u)}),r}m([{name:"triangle",components:3,type:"Uint16"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),m([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),m([{type:"Float32",name:"offsetX"}]),m([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var uf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Zf=function(r,a,u,g,b){var C,T,B=8*b-g-1,j=(1<<B)-1,W=j>>1,Z=-7,Y=u?b-1:0,ue=u?-1:1,he=r[a+Y];for(Y+=ue,C=he&(1<<-Z)-1,he>>=-Z,Z+=B;Z>0;C=256*C+r[a+Y],Y+=ue,Z-=8);for(T=C&(1<<-Z)-1,C>>=-Z,Z+=g;Z>0;T=256*T+r[a+Y],Y+=ue,Z-=8);if(C===0)C=1-W;else{if(C===j)return T?NaN:1/0*(he?-1:1);T+=Math.pow(2,g),C-=W}return(he?-1:1)*T*Math.pow(2,C-g)},Kn=function(r,a,u,g,b,C){var T,B,j,W=8*C-b-1,Z=(1<<W)-1,Y=Z>>1,ue=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,he=g?0:C-1,Ee=g?1:-1,ke=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(B=isNaN(a)?1:0,T=Z):(T=Math.floor(Math.log(a)/Math.LN2),a*(j=Math.pow(2,-T))<1&&(T--,j*=2),(a+=T+Y>=1?ue/j:ue*Math.pow(2,1-Y))*j>=2&&(T++,j/=2),T+Y>=Z?(B=0,T=Z):T+Y>=1?(B=(a*j-1)*Math.pow(2,b),T+=Y):(B=a*Math.pow(2,Y-1)*Math.pow(2,b),T=0));b>=8;r[u+he]=255&B,he+=Ee,B/=256,b-=8);for(T=T<<b|B,W+=b;W>0;r[u+he]=255&T,he+=Ee,T/=256,W-=8);r[u+he-Ee]|=128*ke},Xf=ri;function ri(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}ri.Varint=0,ri.Fixed64=1,ri.Bytes=2,ri.Fixed32=5;var cf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function dc(r){return r.type===ri.Bytes?r.readVarint()+r.pos:r.pos+1}function ff(r,a,u){return u?4294967296*a+(r>>>0):4294967296*(a>>>0)+(r>>>0)}function ym(r,a,u){var g=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));u.realloc(g);for(var b=u.pos-1;b>=r;b--)u.buf[b+g]=u.buf[b]}function Wa(r,a){for(var u=0;u<r.length;u++)a.writeVarint(r[u])}function Ab(r,a){for(var u=0;u<r.length;u++)a.writeSVarint(r[u])}function db(r,a){for(var u=0;u<r.length;u++)a.writeFloat(r[u])}function tv(r,a){for(var u=0;u<r.length;u++)a.writeDouble(r[u])}function mb(r,a){for(var u=0;u<r.length;u++)a.writeBoolean(r[u])}function nv(r,a){for(var u=0;u<r.length;u++)a.writeFixed32(r[u])}function gb(r,a){for(var u=0;u<r.length;u++)a.writeSFixed32(r[u])}function yb(r,a){for(var u=0;u<r.length;u++)a.writeFixed64(r[u])}function vb(r,a){for(var u=0;u<r.length;u++)a.writeSFixed64(r[u])}function _l(r,a){return(r[a]|r[a+1]<<8|r[a+2]<<16)+16777216*r[a+3]}function ia(r,a,u){r[u]=a,r[u+1]=a>>>8,r[u+2]=a>>>16,r[u+3]=a>>>24}function bd(r,a){return(r[a]|r[a+1]<<8|r[a+2]<<16)+(r[a+3]<<24)}function _b(r,a,u){r===1&&u.readMessage(vm,a)}function vm(r,a,u){if(r===3){var g=u.readMessage(xb,{}),b=g.width,C=g.height,T=g.left,B=g.top,j=g.advance;a.push({id:g.id,bitmap:new Wf({width:b+6,height:C+6},g.bitmap),metrics:{width:b,height:C,left:T,top:B,advance:j}})}}function xb(r,a,u){r===1?a.id=u.readVarint():r===2?a.bitmap=u.readBytes():r===3?a.width=u.readVarint():r===4?a.height=u.readVarint():r===5?a.left=u.readSVarint():r===6?a.top=u.readSVarint():r===7&&(a.advance=u.readVarint())}function rv(r){for(var a=0,u=0,g=0,b=r;g<b.length;g+=1){var C=b[g];a+=C.w*C.h,u=Math.max(u,C.w)}r.sort(function(ke,He){return He.h-ke.h});for(var T=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),u),h:1/0}],B=0,j=0,W=0,Z=r;W<Z.length;W+=1)for(var Y=Z[W],ue=T.length-1;ue>=0;ue--){var he=T[ue];if(!(Y.w>he.w||Y.h>he.h)){if(Y.x=he.x,Y.y=he.y,j=Math.max(j,Y.y+Y.h),B=Math.max(B,Y.x+Y.w),Y.w===he.w&&Y.h===he.h){var Ee=T.pop();ue<T.length&&(T[ue]=Ee)}else Y.h===he.h?(he.x+=Y.w,he.w-=Y.w):Y.w===he.w?(he.y+=Y.h,he.h-=Y.h):(T.push({x:he.x+Y.w,y:he.y,w:he.w-Y.w,h:Y.h}),he.y+=Y.h,he.h-=Y.h);break}}return{w:B,h:j,fill:a/(B*j)||0}}ri.prototype={destroy:function(){this.buf=null},readFields:function(r,a,u){for(u=u||this.length;this.pos<u;){var g=this.readVarint(),b=g>>3,C=this.pos;this.type=7&g,r(b,a,this),this.pos===C&&this.skip(g)}return a},readMessage:function(r,a){return this.readFields(r,a,this.readVarint()+this.pos)},readFixed32:function(){var r=_l(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=bd(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=_l(this.buf,this.pos)+4294967296*_l(this.buf,this.pos+4);return this.pos+=8,r},readSFixed64:function(){var r=_l(this.buf,this.pos)+4294967296*bd(this.buf,this.pos+4);return this.pos+=8,r},readFloat:function(){var r=Zf(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Zf(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var a,u,g=this.buf;return a=127&(u=g[this.pos++]),u<128?a:(a|=(127&(u=g[this.pos++]))<<7,u<128?a:(a|=(127&(u=g[this.pos++]))<<14,u<128?a:(a|=(127&(u=g[this.pos++]))<<21,u<128?a:function(b,C,T){var B,j,W=T.buf;if(B=(112&(j=W[T.pos++]))>>4,j<128||(B|=(127&(j=W[T.pos++]))<<3,j<128)||(B|=(127&(j=W[T.pos++]))<<10,j<128)||(B|=(127&(j=W[T.pos++]))<<17,j<128)||(B|=(127&(j=W[T.pos++]))<<24,j<128)||(B|=(1&(j=W[T.pos++]))<<31,j<128))return ff(b,B,C);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(u=g[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,a=this.pos;return this.pos=r,r-a>=12&&cf?function(u,g,b){return cf.decode(u.subarray(g,b))}(this.buf,a,r):function(u,g,b){for(var C="",T=g;T<b;){var B,j,W,Z=u[T],Y=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(T+ue>b)break;ue===1?Z<128&&(Y=Z):ue===2?(192&(B=u[T+1]))==128&&(Y=(31&Z)<<6|63&B)<=127&&(Y=null):ue===3?(j=u[T+2],(192&(B=u[T+1]))==128&&(192&j)==128&&((Y=(15&Z)<<12|(63&B)<<6|63&j)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):ue===4&&(j=u[T+2],W=u[T+3],(192&(B=u[T+1]))==128&&(192&j)==128&&(192&W)==128&&((Y=(15&Z)<<18|(63&B)<<12|(63&j)<<6|63&W)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,ue=1):Y>65535&&(Y-=65536,C+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),C+=String.fromCharCode(Y),T+=ue}return C}(this.buf,a,r)},readBytes:function(){var r=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,r);return this.pos=r,a},readPackedVarint:function(r,a){if(this.type!==ri.Bytes)return r.push(this.readVarint(a));var u=dc(this);for(r=r||[];this.pos<u;)r.push(this.readVarint(a));return r},readPackedSVarint:function(r){if(this.type!==ri.Bytes)return r.push(this.readSVarint());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==ri.Bytes)return r.push(this.readBoolean());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==ri.Bytes)return r.push(this.readFloat());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==ri.Bytes)return r.push(this.readDouble());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==ri.Bytes)return r.push(this.readFixed32());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==ri.Bytes)return r.push(this.readSFixed32());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==ri.Bytes)return r.push(this.readFixed64());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==ri.Bytes)return r.push(this.readSFixed64());var a=dc(this);for(r=r||[];this.pos<a;)r.push(this.readSFixed64());return r},skip:function(r){var a=7&r;if(a===ri.Varint)for(;this.buf[this.pos++]>127;);else if(a===ri.Bytes)this.pos=this.readVarint()+this.pos;else if(a===ri.Fixed32)this.pos+=4;else{if(a!==ri.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(r,a){this.writeVarint(r<<3|a)},realloc:function(r){for(var a=this.length||16;a<this.pos+r;)a*=2;if(a!==this.length){var u=new Uint8Array(a);u.set(this.buf),this.buf=u,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),ia(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),ia(this.buf,-1&r,this.pos),ia(this.buf,Math.floor(r*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(a,u){var g,b;if(a>=0?(g=a%4294967296|0,b=a/4294967296|0):(b=~(-a/4294967296),4294967295^(g=~(-a%4294967296))?g=g+1|0:(g=0,b=b+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(C,T,B){B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,C>>>=7,B.buf[B.pos++]=127&C|128,B.buf[B.pos]=127&(C>>>=7)}(g,0,u),function(C,T){var B=(7&C)<<4;T.buf[T.pos++]|=B|((C>>>=3)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C)))))}(b,u)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var a=this.pos;this.pos=function(g,b,C){for(var T,B,j=0;j<b.length;j++){if((T=b.charCodeAt(j))>55295&&T<57344){if(!B){T>56319||j+1===b.length?(g[C++]=239,g[C++]=191,g[C++]=189):B=T;continue}if(T<56320){g[C++]=239,g[C++]=191,g[C++]=189,B=T;continue}T=B-55296<<10|T-56320|65536,B=null}else B&&(g[C++]=239,g[C++]=191,g[C++]=189,B=null);T<128?g[C++]=T:(T<2048?g[C++]=T>>6|192:(T<65536?g[C++]=T>>12|224:(g[C++]=T>>18|240,g[C++]=T>>12&63|128),g[C++]=T>>6&63|128),g[C++]=63&T|128)}return C}(this.buf,r,this.pos);var u=this.pos-a;u>=128&&ym(a,u,this),this.pos=a-1,this.writeVarint(u),this.pos+=u},writeFloat:function(r){this.realloc(4),Kn(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Kn(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var a=r.length;this.writeVarint(a),this.realloc(a);for(var u=0;u<a;u++)this.buf[this.pos++]=r[u]},writeRawMessage:function(r,a){this.pos++;var u=this.pos;r(a,this);var g=this.pos-u;g>=128&&ym(u,g,this),this.pos=u-1,this.writeVarint(g),this.pos+=g},writeMessage:function(r,a,u){this.writeTag(r,ri.Bytes),this.writeRawMessage(a,u)},writePackedVarint:function(r,a){a.length&&this.writeMessage(r,Wa,a)},writePackedSVarint:function(r,a){a.length&&this.writeMessage(r,Ab,a)},writePackedBoolean:function(r,a){a.length&&this.writeMessage(r,mb,a)},writePackedFloat:function(r,a){a.length&&this.writeMessage(r,db,a)},writePackedDouble:function(r,a){a.length&&this.writeMessage(r,tv,a)},writePackedFixed32:function(r,a){a.length&&this.writeMessage(r,nv,a)},writePackedSFixed32:function(r,a){a.length&&this.writeMessage(r,gb,a)},writePackedFixed64:function(r,a){a.length&&this.writeMessage(r,yb,a)},writePackedSFixed64:function(r,a){a.length&&this.writeMessage(r,vb,a)},writeBytesField:function(r,a){this.writeTag(r,ri.Bytes),this.writeBytes(a)},writeFixed32Field:function(r,a){this.writeTag(r,ri.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(r,a){this.writeTag(r,ri.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(r,a){this.writeTag(r,ri.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(r,a){this.writeTag(r,ri.Fixed64),this.writeSFixed64(a)},writeVarintField:function(r,a){this.writeTag(r,ri.Varint),this.writeVarint(a)},writeSVarintField:function(r,a){this.writeTag(r,ri.Varint),this.writeSVarint(a)},writeStringField:function(r,a){this.writeTag(r,ri.Bytes),this.writeString(a)},writeFloatField:function(r,a){this.writeTag(r,ri.Fixed32),this.writeFloat(a)},writeDoubleField:function(r,a){this.writeTag(r,ri.Fixed64),this.writeDouble(a)},writeBooleanField:function(r,a){this.writeVarintField(r,Boolean(a))}};var pf=function(r,a){var u=a.pixelRatio,g=a.version,b=a.stretchX,C=a.stretchY,T=a.content;this.paddedRect=r,this.pixelRatio=u,this.stretchX=b,this.stretchY=C,this.content=T,this.version=g},Xp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Xp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Xp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Xp.tlbr.get=function(){return this.tl.concat(this.br)},Xp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(pf.prototype,Xp);var Yp=function(r,a){var u={},g={};this.haveRenderCallbacks=[];var b=[];this.addImages(r,u,b),this.addImages(a,g,b);var C=rv(b),T=new Ra({width:C.w||1,height:C.h||1});for(var B in r){var j=r[B],W=u[B].paddedRect;Ra.copy(j.data,T,{x:0,y:0},{x:W.x+1,y:W.y+1},j.data)}for(var Z in a){var Y=a[Z],ue=g[Z].paddedRect,he=ue.x+1,Ee=ue.y+1,ke=Y.data.width,He=Y.data.height;Ra.copy(Y.data,T,{x:0,y:0},{x:he,y:Ee},Y.data),Ra.copy(Y.data,T,{x:0,y:He-1},{x:he,y:Ee-1},{width:ke,height:1}),Ra.copy(Y.data,T,{x:0,y:0},{x:he,y:Ee+He},{width:ke,height:1}),Ra.copy(Y.data,T,{x:ke-1,y:0},{x:he-1,y:Ee},{width:1,height:He}),Ra.copy(Y.data,T,{x:0,y:0},{x:he+ke,y:Ee},{width:1,height:He})}this.image=T,this.iconPositions=u,this.patternPositions=g};Yp.prototype.addImages=function(r,a,u){for(var g in r){var b=r[g],C={x:0,y:0,w:b.data.width+2,h:b.data.height+2};u.push(C),a[g]=new pf(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},Yp.prototype.patchUpdatedImages=function(r,a){for(var u in r.dispatchRenderCallbacks(this.haveRenderCallbacks),r.updatedImages)this.patchUpdatedImage(this.iconPositions[u],r.getImage(u),a),this.patchUpdatedImage(this.patternPositions[u],r.getImage(u),a)},Yp.prototype.patchUpdatedImage=function(r,a,u){if(r&&a&&r.version!==a.version){r.version=a.version;var g=r.tl;u.update(a.data,void 0,{x:g[0],y:g[1]})}},an("ImagePosition",pf),an("ImageAtlas",Yp);var Ms={horizontal:1,vertical:2,horizontalOnly:3},Jp=function(){this.scale=1,this.fontStack="",this.imageName=null};Jp.forText=function(r,a){var u=new Jp;return u.scale=r||1,u.fontStack=a,u},Jp.forImage=function(r){var a=new Jp;return a.imageName=r,a};var Ca=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function wd(r,a,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke){var He,De=Ca.fromFeature(r,b);Y===Ms.vertical&&De.verticalizePunctuation();var nt=rr.processBidirectionalText,ot=rr.processStyledBidirectionalText;if(nt&&De.sections.length===1){He=[];for(var ft=0,pt=nt(De.toString(),sA(De,W,C,a,g,he,Ee));ft<pt.length;ft+=1){var kt=pt[ft],Ut=new Ca;Ut.text=kt,Ut.sections=De.sections;for(var Zt=0;Zt<kt.length;Zt++)Ut.sectionIndex.push(0);He.push(Ut)}}else if(ot){He=[];for(var gn=0,nn=ot(De.text,De.sectionIndex,sA(De,W,C,a,g,he,Ee));gn<nn.length;gn+=1){var En=nn[gn],on=new Ca;on.text=En[0],on.sectionIndex=En[1],on.sections=De.sections,He.push(on)}}else He=function(yn,ir){for(var Hn=[],xr=yn.text,Pn=0,Lr=0,li=ir;Lr<li.length;Lr+=1){var _i=li[Lr];Hn.push(yn.substring(Pn,_i)),Pn=_i}return Pn<xr.length&&Hn.push(yn.substring(Pn,xr.length)),Hn}(De,sA(De,W,C,a,g,he,Ee));var Zn=[],On={positionedLines:Zn,text:De.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return function(yn,ir,Hn,xr,Pn,Lr,li,_i,Oi,xi,Ci,_o){for(var Io=0,Ea=-17,Uo=0,ka=0,Ji=_i==="right"?1:_i==="left"?0:.5,$o=0,fr=0,ii=Pn;fr<ii.length;fr+=1){var Qr=ii[fr];Qr.trim();var Pr=Qr.getMaxScale(),Da=24*(Pr-1),da={positionedGlyphs:[],lineOffset:0};yn.positionedLines[$o]=da;var Ir=da.positionedGlyphs,lo=0;if(Qr.length()){for(var ma=0;ma<Qr.length();ma++){var pr=Qr.getSection(ma),Xn=Qr.getSectionIndex(ma),Ls=Qr.getCharCode(ma),xo=0,hr=null,Cu=null,ga=null,oh=24,op=!(Oi===Ms.horizontal||!Ci&&!Zs(Ls)||Ci&&(aA[Ls]||(pi=Ls,un.Arabic(pi)||un["Arabic Supplement"](pi)||un["Arabic Extended-A"](pi)||un["Arabic Presentation Forms-A"](pi)||un["Arabic Presentation Forms-B"](pi))));if(pr.imageName){var ah=xr[pr.imageName];if(!ah)continue;ga=pr.imageName,yn.iconsInText=yn.iconsInText||!0,Cu=ah.paddedRect;var gc=ah.displaySize;pr.scale=24*pr.scale/_o,xo=Da+(24-gc[1]*pr.scale),oh=(hr={width:gc[0],height:gc[1],left:1,top:-3,advance:op?gc[1]:gc[0]}).advance;var sh=op?gc[0]*pr.scale-24*Pr:gc[1]*pr.scale-24*Pr;sh>0&&sh>lo&&(lo=sh)}else{var lh=Hn[pr.fontStack],uh=lh&&lh[Ls];if(uh&&uh.rect)Cu=uh.rect,hr=uh.metrics;else{var Ys=ir[pr.fontStack],AA=Ys&&Ys[Ls];if(!AA)continue;hr=AA.metrics}xo=24*(Pr-pr.scale)}op?(yn.verticalizable=!0,Ir.push({glyph:Ls,imageName:ga,x:Io,y:Ea+xo,vertical:op,scale:pr.scale,fontStack:pr.fontStack,sectionIndex:Xn,metrics:hr,rect:Cu}),Io+=oh*pr.scale+xi):(Ir.push({glyph:Ls,imageName:ga,x:Io,y:Ea+xo,vertical:op,scale:pr.scale,fontStack:pr.fontStack,sectionIndex:Xn,metrics:hr,rect:Cu}),Io+=hr.advance*pr.scale+xi)}Ir.length!==0&&(Uo=Math.max(Io-xi,Uo),av(Ir,0,Ir.length-1,Ji,lo)),Io=0;var ap=Lr*Pr+lo;da.lineOffset=Math.max(lo,Da),Ea+=ap,ka=Math.max(ap,ka),++$o}else Ea+=Lr,++$o}var pi,Qi=Ea- -17,sp=Cd(li),df=sp.horizontalAlign,ch=sp.verticalAlign;(function(Md,Ld,dA,mA,gA,yc,lp,yA,vA){var vc,Za=(Ld-dA)*gA;vc=yc!==lp?-yA*mA- -17:(-mA*vA+.5)*lp;for(var jl=0,_A=Md;jl<_A.length;jl+=1)for(var up=0,xA=_A[jl].positionedGlyphs;up<xA.length;up+=1){var fh=xA[up];fh.x+=Za,fh.y+=vc}})(yn.positionedLines,Ji,df,ch,Uo,ka,Lr,Qi,Pn.length),yn.top+=-ch*Qi,yn.bottom=yn.top+Qi,yn.left+=-df*Uo,yn.right=yn.left+Uo}(On,a,u,g,He,T,B,j,Y,W,ue,ke),!function(yn){for(var ir=0,Hn=yn;ir<Hn.length;ir+=1)if(Hn[ir].positionedGlyphs.length!==0)return!1;return!0}(Zn)&&On}Ca.fromFeature=function(r,a){for(var u=new Ca,g=0;g<r.sections.length;g++){var b=r.sections[g];b.image?u.addImageSection(b):u.addTextSection(b,a)}return u},Ca.prototype.length=function(){return this.text.length},Ca.prototype.getSection=function(r){return this.sections[this.sectionIndex[r]]},Ca.prototype.getSectionIndex=function(r){return this.sectionIndex[r]},Ca.prototype.getCharCode=function(r){return this.text.charCodeAt(r)},Ca.prototype.verticalizePunctuation=function(){this.text=function(r){for(var a="",u=0;u<r.length;u++){var g=r.charCodeAt(u+1)||null,b=r.charCodeAt(u-1)||null;a+=g&&Ao(g)&&!uf[r[u+1]]||b&&Ao(b)&&!uf[r[u-1]]||!uf[r[u]]?r[u]:uf[r[u]]}return a}(this.text)},Ca.prototype.trim=function(){for(var r=0,a=0;a<this.text.length&&aA[this.text.charCodeAt(a)];a++)r++;for(var u=this.text.length,g=this.text.length-1;g>=0&&g>=r&&aA[this.text.charCodeAt(g)];g--)u--;this.text=this.text.substring(r,u),this.sectionIndex=this.sectionIndex.slice(r,u)},Ca.prototype.substring=function(r,a){var u=new Ca;return u.text=this.text.substring(r,a),u.sectionIndex=this.sectionIndex.slice(r,a),u.sections=this.sections,u},Ca.prototype.toString=function(){return this.text},Ca.prototype.getMaxScale=function(){var r=this;return this.sectionIndex.reduce(function(a,u){return Math.max(a,r.sections[u].scale)},0)},Ca.prototype.addTextSection=function(r,a){this.text+=r.text,this.sections.push(Jp.forText(r.scale,r.fontStack||a));for(var u=this.sections.length-1,g=0;g<r.text.length;++g)this.sectionIndex.push(u)},Ca.prototype.addImageSection=function(r){var a=r.image?r.image.name:"";if(a.length!==0){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Jp.forImage(a)),this.sectionIndex.push(this.sections.length-1)):At("Reached maximum number of images 6401")}else At("Can't add FormattedSection with an empty image.")},Ca.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var aA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ka={};function iv(r,a,u,g,b,C){if(a.imageName){var T=g[a.imageName];return T?T.displaySize[0]*a.scale*24/C+b:0}var B=u[a.fontStack],j=B&&B[r];return j?j.metrics.advance*a.scale+b:0}function Sd(r,a,u,g){var b=Math.pow(r-a,2);return g?r<a?b/2:2*b:b+Math.abs(u)*u}function ov(r,a,u){var g=0;return r===10&&(g-=1e4),u&&(g+=150),r!==40&&r!==65288||(g+=50),a!==41&&a!==65289||(g+=50),g}function eh(r,a,u,g,b,C){for(var T=null,B=Sd(a,u,b,C),j=0,W=g;j<W.length;j+=1){var Z=W[j],Y=Sd(a-Z.x,u,b,C)+Z.badness;Y<=B&&(T=Z,B=Y)}return{index:r,x:a,priorBreak:T,badness:B}}function sA(r,a,u,g,b,C,T){if(C!=="point")return[];if(!r)return[];for(var B,j=[],W=function(He,De,nt,ot,ft,pt){for(var kt=0,Ut=0;Ut<He.length();Ut++){var Zt=He.getSection(Ut);kt+=iv(He.getCharCode(Ut),Zt,ot,ft,De,pt)}return kt/Math.max(1,Math.ceil(kt/nt))}(r,a,u,g,b,T),Z=r.text.indexOf("​")>=0,Y=0,ue=0;ue<r.length();ue++){var he=r.getSection(ue),Ee=r.getCharCode(ue);if(aA[Ee]||(Y+=iv(Ee,he,g,b,a,T)),ue<r.length()-1){var ke=!((B=Ee)<11904||!(un["Bopomofo Extended"](B)||un.Bopomofo(B)||un["CJK Compatibility Forms"](B)||un["CJK Compatibility Ideographs"](B)||un["CJK Compatibility"](B)||un["CJK Radicals Supplement"](B)||un["CJK Strokes"](B)||un["CJK Symbols and Punctuation"](B)||un["CJK Unified Ideographs Extension A"](B)||un["CJK Unified Ideographs"](B)||un["Enclosed CJK Letters and Months"](B)||un["Halfwidth and Fullwidth Forms"](B)||un.Hiragana(B)||un["Ideographic Description Characters"](B)||un["Kangxi Radicals"](B)||un["Katakana Phonetic Extensions"](B)||un.Katakana(B)||un["Vertical Forms"](B)||un["Yi Radicals"](B)||un["Yi Syllables"](B)));(Ka[Ee]||ke||he.imageName)&&j.push(eh(ue+1,Y,W,j,ov(Ee,r.getCharCode(ue+1),ke&&Z),!1))}}return function He(De){return De?He(De.priorBreak).concat(De.index):[]}(eh(r.length(),Y,W,j,0,!0))}function Cd(r){var a=.5,u=.5;switch(r){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:a,verticalAlign:u}}function av(r,a,u,g,b){if(g||b)for(var C=r[u],T=(r[u].x+C.metrics.advance*C.scale)*g,B=a;B<=u;B++)r[B].x-=T,r[B].y+=b}function lA(r,a,u,g,b,C){var T,B=r.image;if(B.content){var j=B.content,W=B.pixelRatio||1;T=[j[0]/W,j[1]/W,B.displaySize[0]-j[2]/W,B.displaySize[1]-j[3]/W]}var Z,Y,ue,he,Ee=a.left*C,ke=a.right*C;u==="width"||u==="both"?(he=b[0]+Ee-g[3],Y=b[0]+ke+g[1]):Y=(he=b[0]+(Ee+ke-B.displaySize[0])/2)+B.displaySize[0];var He=a.top*C,De=a.bottom*C;return u==="height"||u==="both"?(Z=b[1]+He-g[0],ue=b[1]+De+g[2]):ue=(Z=b[1]+(He+De-B.displaySize[1])/2)+B.displaySize[1],{image:B,top:Z,right:Y,bottom:ue,left:he,collisionPadding:T}}Ka[10]=!0,Ka[32]=!0,Ka[38]=!0,Ka[40]=!0,Ka[41]=!0,Ka[43]=!0,Ka[45]=!0,Ka[47]=!0,Ka[173]=!0,Ka[183]=!0,Ka[8203]=!0,Ka[8208]=!0,Ka[8211]=!0,Ka[8231]=!0;var Yf=function(r){function a(u,g,b,C){r.call(this,u,g),this.angle=b,C!==void 0&&(this.segment=C)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.clone=function(){return new a(this.x,this.y,this.angle,this.segment)},a}(M);function xl(r,a){var u=a.expression;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Wn(r+1))};if(u.kind==="source")return{kind:"source"};for(var g=u.zoomStops,b=u.interpolationType,C=0;C<g.length&&g[C]<=r;)C++;for(var T=C=Math.max(0,C-1);T<g.length&&g[T]<r+1;)T++;T=Math.min(g.length-1,T);var B=g[C],j=g[T];return u.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:j,interpolationType:b}:{kind:"camera",minZoom:B,maxZoom:j,minSize:u.evaluate(new Wn(B)),maxSize:u.evaluate(new Wn(j)),interpolationType:b}}function hf(r,a,u){var g=a.uSize,b=u.lowerSize;return r.kind==="source"?b/128:r.kind==="composite"?Tr(b/128,u.upperSize/128,a.uSizeT):g}function sv(r,a){var u=0,g=0;if(r.kind==="constant")g=r.layoutSize;else if(r.kind!=="source"){var b=r.interpolationType,C=b?ee(Ki.interpolationFactor(b,a,r.minZoom,r.maxZoom),0,1):0;r.kind==="camera"?g=Tr(r.minSize,r.maxSize,C):u=C}return{uSizeT:u,uSize:g}}an("Anchor",Yf);var lv=Object.freeze({__proto__:null,getSizeData:xl,evaluateSizeForFeature:hf,evaluateSizeForZoom:sv,SIZE_PACK_FACTOR:128});function uv(r,a,u,g,b){if(a.segment===void 0)return!0;for(var C=a,T=a.segment+1,B=0;B>-u/2;){if(--T<0)return!1;B-=r[T].dist(C),C=r[T]}B+=r[T].dist(r[T+1]),T++;for(var j=[],W=0;B<u/2;){var Z=r[T],Y=r[T+1];if(!Y)return!1;var ue=r[T-1].angleTo(Z)-Z.angleTo(Y);for(ue=Math.abs((ue+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:B,angleDelta:ue}),W+=ue;B-j[0].distance>g;)W-=j.shift().angleDelta;if(W>b)return!1;T++,B+=Z.dist(Y)}return!0}function cv(r){for(var a=0,u=0;u<r.length-1;u++)a+=r[u].dist(r[u+1]);return a}function fv(r,a,u){return r?.6*a*u:0}function pv(r,a){return Math.max(r?r.right-r.left:0,a?a.right-a.left:0)}function bb(r,a,u,g,b,C){for(var T=fv(u,b,C),B=pv(u,g)*C,j=0,W=cv(r)/2,Z=0;Z<r.length-1;Z++){var Y=r[Z],ue=r[Z+1],he=Y.dist(ue);if(j+he>W){var Ee=(W-j)/he,ke=Tr(Y.x,ue.x,Ee),He=Tr(Y.y,ue.y,Ee),De=new Yf(ke,He,ue.angleTo(Y),Z);return De._round(),!T||uv(r,De,B,T,a)?De:void 0}j+=he}}function wb(r,a,u,g,b,C,T,B,j){var W=fv(g,C,T),Z=pv(g,b),Y=Z*T,ue=r[0].x===0||r[0].x===j||r[0].y===0||r[0].y===j;return a-Y<a/4&&(a=Y+a/4),function he(Ee,ke,He,De,nt,ot,ft,pt,kt){for(var Ut=ot/2,Zt=cv(Ee),gn=0,nn=ke-He,En=[],on=0;on<Ee.length-1;on++){for(var Zn=Ee[on],On=Ee[on+1],yn=Zn.dist(On),ir=On.angleTo(Zn);nn+He<gn+yn;){var Hn=((nn+=He)-gn)/yn,xr=Tr(Zn.x,On.x,Hn),Pn=Tr(Zn.y,On.y,Hn);if(xr>=0&&xr<kt&&Pn>=0&&Pn<kt&&nn-Ut>=0&&nn+Ut<=Zt){var Lr=new Yf(xr,Pn,ir,on);Lr._round(),De&&!uv(Ee,Lr,ot,De,nt)||En.push(Lr)}}gn+=yn}return pt||En.length||ft||(En=he(Ee,gn/2,He,De,nt,ot,ft,!0,kt)),En}(r,ue?a/2*B%a:(Z/2+2*C)*T*B%a,a,W,u,Y,ue,!1,j)}function hv(r,a,u,g,b){for(var C=[],T=0;T<r.length;T++)for(var B=r[T],j=void 0,W=0;W<B.length-1;W++){var Z=B[W],Y=B[W+1];Z.x<a&&Y.x<a||(Z.x<a?Z=new M(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x<a&&(Y=new M(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y<u&&Y.y<u||(Z.y<u?Z=new M(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round():Y.y<u&&(Y=new M(Z.x+(u-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),u)._round()),Z.x>=g&&Y.x>=g||(Z.x>=g?Z=new M(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x>=g&&(Y=new M(g,Z.y+(g-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y>=b&&Y.y>=b||(Z.y>=b?Z=new M(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round():Y.y>=b&&(Y=new M(Z.x+(b-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),b)._round()),j&&Z.equals(j[j.length-1])||C.push(j=[Z]),j.push(Y)))))}return C}function Av(r,a,u,g){var b=[],C=r.image,T=C.pixelRatio,B=C.paddedRect.w-2,j=C.paddedRect.h-2,W=r.right-r.left,Z=r.bottom-r.top,Y=C.stretchX||[[0,B]],ue=C.stretchY||[[0,j]],he=function(xr,Pn){return xr+Pn[1]-Pn[0]},Ee=Y.reduce(he,0),ke=ue.reduce(he,0),He=B-Ee,De=j-ke,nt=0,ot=Ee,ft=0,pt=ke,kt=0,Ut=He,Zt=0,gn=De;if(C.content&&g){var nn=C.content;nt=Ed(Y,0,nn[0]),ft=Ed(ue,0,nn[1]),ot=Ed(Y,nn[0],nn[2]),pt=Ed(ue,nn[1],nn[3]),kt=nn[0]-nt,Zt=nn[1]-ft,Ut=nn[2]-nn[0]-ot,gn=nn[3]-nn[1]-pt}var En=function(xr,Pn,Lr,li){var _i=kd(xr.stretch-nt,ot,W,r.left),Oi=uA(xr.fixed-kt,Ut,xr.stretch,Ee),xi=kd(Pn.stretch-ft,pt,Z,r.top),Ci=uA(Pn.fixed-Zt,gn,Pn.stretch,ke),_o=kd(Lr.stretch-nt,ot,W,r.left),Io=uA(Lr.fixed-kt,Ut,Lr.stretch,Ee),Ea=kd(li.stretch-ft,pt,Z,r.top),Uo=uA(li.fixed-Zt,gn,li.stretch,ke),ka=new M(_i,xi),Ji=new M(_o,xi),$o=new M(_o,Ea),fr=new M(_i,Ea),ii=new M(Oi/T,Ci/T),Qr=new M(Io/T,Uo/T),Pr=a*Math.PI/180;if(Pr){var Da=Math.sin(Pr),da=Math.cos(Pr),Ir=[da,-Da,Da,da];ka._matMult(Ir),Ji._matMult(Ir),fr._matMult(Ir),$o._matMult(Ir)}var lo=xr.stretch+xr.fixed,ma=Pn.stretch+Pn.fixed;return{tl:ka,tr:Ji,bl:fr,br:$o,tex:{x:C.paddedRect.x+1+lo,y:C.paddedRect.y+1+ma,w:Lr.stretch+Lr.fixed-lo,h:li.stretch+li.fixed-ma},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ii,pixelOffsetBR:Qr,minFontScaleX:Ut/T/W,minFontScaleY:gn/T/Z,isSDF:u}};if(g&&(C.stretchX||C.stretchY))for(var on=dv(Y,He,Ee),Zn=dv(ue,De,ke),On=0;On<on.length-1;On++)for(var yn=on[On],ir=on[On+1],Hn=0;Hn<Zn.length-1;Hn++)b.push(En(yn,Zn[Hn],ir,Zn[Hn+1]));else b.push(En({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:j+1}));return b}function Ed(r,a,u){for(var g=0,b=0,C=r;b<C.length;b+=1){var T=C[b];g+=Math.max(a,Math.min(u,T[1]))-Math.max(a,Math.min(u,T[0]))}return g}function dv(r,a,u){for(var g=[{fixed:-1,stretch:0}],b=0,C=r;b<C.length;b+=1){var T=C[b],B=T[0],j=T[1],W=g[g.length-1];g.push({fixed:B-W.stretch,stretch:W.stretch}),g.push({fixed:B-W.stretch,stretch:W.stretch+(j-B)})}return g.push({fixed:a+1,stretch:u}),g}function kd(r,a,u,g){return r/a*u+g}function uA(r,a,u,g){return r-a*u/g}var cA=function(r,a,u,g,b,C,T,B,j,W){if(this.boxStartIndex=r.length,j){var Z=C.top,Y=C.bottom,ue=C.collisionPadding;ue&&(Z-=ue[1],Y+=ue[3]);var he=Y-Z;he>0&&(he=Math.max(10,he),this.circleDiameter=he)}else{var Ee=C.top*T-B,ke=C.bottom*T+B,He=C.left*T-B,De=C.right*T+B,nt=C.collisionPadding;if(nt&&(He-=nt[0]*T,Ee-=nt[1]*T,De+=nt[2]*T,ke+=nt[3]*T),W){var ot=new M(He,Ee),ft=new M(De,Ee),pt=new M(He,ke),kt=new M(De,ke),Ut=W*Math.PI/180;ot._rotate(Ut),ft._rotate(Ut),pt._rotate(Ut),kt._rotate(Ut),He=Math.min(ot.x,ft.x,pt.x,kt.x),De=Math.max(ot.x,ft.x,pt.x,kt.x),Ee=Math.min(ot.y,ft.y,pt.y,kt.y),ke=Math.max(ot.y,ft.y,pt.y,kt.y)}r.emplaceBack(a.x,a.y,He,Ee,De,ke,u,g,b)}this.boxEndIndex=r.length},Jf=function(r,a){if(r===void 0&&(r=[]),a===void 0&&(a=Sb),this.data=r,this.length=this.data.length,this.compare=a,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function Sb(r,a){return r<a?-1:r>a?1:0}function Cb(r,a,u){a===void 0&&(a=1),u===void 0&&(u=!1);for(var g=1/0,b=1/0,C=-1/0,T=-1/0,B=r[0],j=0;j<B.length;j++){var W=B[j];(!j||W.x<g)&&(g=W.x),(!j||W.y<b)&&(b=W.y),(!j||W.x>C)&&(C=W.x),(!j||W.y>T)&&(T=W.y)}var Z=Math.min(C-g,T-b),Y=Z/2,ue=new Jf([],Eb);if(Z===0)return new M(g,b);for(var he=g;he<C;he+=Z)for(var Ee=b;Ee<T;Ee+=Z)ue.push(new ep(he+Y,Ee+Y,Y,r));for(var ke=function(nt){for(var ot=0,ft=0,pt=0,kt=nt[0],Ut=0,Zt=kt.length,gn=Zt-1;Ut<Zt;gn=Ut++){var nn=kt[Ut],En=kt[gn],on=nn.x*En.y-En.x*nn.y;ft+=(nn.x+En.x)*on,pt+=(nn.y+En.y)*on,ot+=3*on}return new ep(ft/ot,pt/ot,0,nt)}(r),He=ue.length;ue.length;){var De=ue.pop();(De.d>ke.d||!ke.d)&&(ke=De,u&&console.log("found best %d after %d probes",Math.round(1e4*De.d)/1e4,He)),De.max-ke.d<=a||(ue.push(new ep(De.p.x-(Y=De.h/2),De.p.y-Y,Y,r)),ue.push(new ep(De.p.x+Y,De.p.y-Y,Y,r)),ue.push(new ep(De.p.x-Y,De.p.y+Y,Y,r)),ue.push(new ep(De.p.x+Y,De.p.y+Y,Y,r)),He+=4)}return u&&(console.log("num probes: "+He),console.log("best distance: "+ke.d)),ke.p}function Eb(r,a){return a.max-r.max}function ep(r,a,u,g){this.p=new M(r,a),this.h=u,this.d=function(b,C){for(var T=!1,B=1/0,j=0;j<C.length;j++)for(var W=C[j],Z=0,Y=W.length,ue=Y-1;Z<Y;ue=Z++){var he=W[Z],Ee=W[ue];he.y>b.y!=Ee.y>b.y&&b.x<(Ee.x-he.x)*(b.y-he.y)/(Ee.y-he.y)+he.x&&(T=!T),B=Math.min(B,Hf(b,he,Ee))}return(T?1:-1)*Math.sqrt(B)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Jf.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},Jf.prototype.pop=function(){if(this.length!==0){var r=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),r}},Jf.prototype.peek=function(){return this.data[0]},Jf.prototype._up=function(r){for(var a=this.data,u=this.compare,g=a[r];r>0;){var b=r-1>>1,C=a[b];if(u(g,C)>=0)break;a[r]=C,r=b}a[r]=g},Jf.prototype._down=function(r){for(var a=this.data,u=this.compare,g=this.length>>1,b=a[r];r<g;){var C=1+(r<<1),T=a[C],B=C+1;if(B<this.length&&u(a[B],T)<0&&(C=B,T=a[B]),u(T,b)>=0)break;a[r]=T,r=C}a[r]=b};var _m=Number.POSITIVE_INFINITY;function mv(r,a){return a[1]!==_m?function(u,g,b){var C=0,T=0;switch(g=Math.abs(g),b=Math.abs(b),u){case"top-right":case"top-left":case"top":T=b-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-b}switch(u){case"top-right":case"bottom-right":case"right":C=-g;break;case"top-left":case"bottom-left":case"left":C=g}return[C,T]}(r,a[0],a[1]):function(u,g){var b=0,C=0;g<0&&(g=0);var T=g/Math.sqrt(2);switch(u){case"top-right":case"top-left":C=T-7;break;case"bottom-right":case"bottom-left":C=7-T;break;case"bottom":C=7-g;break;case"top":C=g-7}switch(u){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=g;break;case"right":b=-g}return[b,C]}(r,a[0])}function xm(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gv(r,a,u,g,b,C,T,B,j,W,Z,Y,ue,he,Ee){var ke=function(ft,pt,kt,Ut,Zt,gn,nn,En){for(var on=Ut.layout.get("text-rotate").evaluate(gn,{})*Math.PI/180,Zn=[],On=0,yn=pt.positionedLines;On<yn.length;On+=1)for(var ir=yn[On],Hn=0,xr=ir.positionedGlyphs;Hn<xr.length;Hn+=1){var Pn=xr[Hn];if(Pn.rect){var Lr=Pn.rect||{},li=4,_i=!0,Oi=1,xi=0,Ci=(Zt||En)&&Pn.vertical,_o=Pn.metrics.advance*Pn.scale/2;if(En&&pt.verticalizable&&(xi=ir.lineOffset/2-(Pn.imageName?-(24-Pn.metrics.width*Pn.scale)/2:24*(Pn.scale-1))),Pn.imageName){var Io=nn[Pn.imageName];_i=Io.sdf,li=1/(Oi=Io.pixelRatio)}var Ea=Zt?[Pn.x+_o,Pn.y]:[0,0],Uo=Zt?[0,0]:[Pn.x+_o+kt[0],Pn.y+kt[1]-xi],ka=[0,0];Ci&&(ka=Uo,Uo=[0,0]);var Ji=(Pn.metrics.left-li)*Pn.scale-_o+Uo[0],$o=(-Pn.metrics.top-li)*Pn.scale+Uo[1],fr=Ji+Lr.w*Pn.scale/Oi,ii=$o+Lr.h*Pn.scale/Oi,Qr=new M(Ji,$o),Pr=new M(fr,$o),Da=new M(Ji,ii),da=new M(fr,ii);if(Ci){var Ir=new M(-_o,_o- -17),lo=-Math.PI/2,ma=12-_o,pr=new M(22-ma,-(Pn.imageName?ma:0)),Xn=new(Function.prototype.bind.apply(M,[null].concat(ka)));Qr._rotateAround(lo,Ir)._add(pr)._add(Xn),Pr._rotateAround(lo,Ir)._add(pr)._add(Xn),Da._rotateAround(lo,Ir)._add(pr)._add(Xn),da._rotateAround(lo,Ir)._add(pr)._add(Xn)}if(on){var Ls=Math.sin(on),xo=Math.cos(on),hr=[xo,-Ls,Ls,xo];Qr._matMult(hr),Pr._matMult(hr),Da._matMult(hr),da._matMult(hr)}var Cu=new M(0,0),ga=new M(0,0);Zn.push({tl:Qr,tr:Pr,bl:Da,br:da,tex:Lr,writingMode:pt.writingMode,glyphOffset:Ea,sectionIndex:Pn.sectionIndex,isSDF:_i,pixelOffsetTL:Cu,pixelOffsetBR:ga,minFontScaleX:0,minFontScaleY:0})}}return Zn}(0,u,B,b,C,T,g,r.allowVerticalPlacement),He=r.textSizeData,De=null;He.kind==="source"?(De=[128*b.layout.get("text-size").evaluate(T,{})])[0]>32640&&At(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):He.kind==="composite"&&((De=[128*he.compositeTextSizes[0].evaluate(T,{},Ee),128*he.compositeTextSizes[1].evaluate(T,{},Ee)])[0]>32640||De[1]>32640)&&At(r.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),r.addSymbols(r.text,ke,De,B,C,T,W,a,j.lineStartIndex,j.lineLength,ue,Ee);for(var nt=0,ot=Z;nt<ot.length;nt+=1)Y[ot[nt]]=r.text.placedSymbolArray.length-1;return 4*ke.length}function yv(r){for(var a in r)return r[a];return null}function kb(r,a,u,g){var b=r.compareText;if(a in b){for(var C=b[a],T=C.length-1;T>=0;T--)if(g.dist(C[T])<u)return!0}else b[a]=[];return b[a].push(g),!1}var bl=wu.VectorTileFeature.types,Pb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Pd(r,a,u,g,b,C,T,B,j,W,Z,Y,ue){var he=B?Math.min(32640,Math.round(B[0])):0,Ee=B?Math.min(32640,Math.round(B[1])):0;r.emplaceBack(a,u,Math.round(32*g),Math.round(32*b),C,T,(he<<1)+(j?1:0),Ee,16*W,16*Z,256*Y,256*ue)}function bm(r,a,u){r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u),r.emplaceBack(a.x,a.y,u)}function vv(r){for(var a=0,u=r.sections;a<u.length;a+=1)if(jp(u[a].text))return!0;return!1}var th=function(r){this.layoutVertexArray=new ie,this.indexArray=new Nt,this.programConfigurations=r,this.segments=new de,this.dynamicLayoutVertexArray=new ce,this.opacityVertexArray=new Fe,this.placedSymbolArray=new E};th.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},th.prototype.upload=function(r,a,u,g){this.isEmpty()||(u&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,pb.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,hb.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,Pb,!0),this.opacityVertexBuffer.itemSize=1),(u||g)&&this.programConfigurations.upload(r))},th.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},an("SymbolBuffers",th);var fA=function(r,a,u){this.layoutVertexArray=new r,this.layoutAttributes=a,this.indexArray=new u,this.segments=new de,this.collisionVertexArray=new Et};fA.prototype.upload=function(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,Ac.members,!0)},fA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},an("CollisionBuffers",fA);var Zr=function(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(function(C){return C.id}),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Aa([]),this.placementViewportMatrix=Aa([]);var a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xl(this.zoom,a["text-size"]),this.iconSizeData=xl(this.zoom,a["icon-size"]);var u=this.layers[0].layout,g=u.get("symbol-sort-key"),b=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(function(C){return Ms[C]})),this.stateDependentLayerIds=this.layers.filter(function(C){return C.isStateDependent()}).map(function(C){return C.id}),this.sourceID=r.sourceID};Zr.prototype.createArrays=function(){this.text=new th(new Gr(this.layers,this.zoom,function(r){return/^text/.test(r)})),this.icon=new th(new Gr(this.layers,this.zoom,function(r){return/^icon/.test(r)})),this.glyphOffsetArray=new $,this.lineVertexArray=new G,this.symbolInstances=new F},Zr.prototype.calculateGlyphDependencies=function(r,a,u,g,b){for(var C=0;C<r.length;C++)if(a[r.charCodeAt(C)]=!0,(u||g)&&b){var T=uf[r.charAt(C)];T&&(a[T.charCodeAt(0)]=!0)}},Zr.prototype.populate=function(r,a,u){var g=this.layers[0],b=g.layout,C=b.get("text-font"),T=b.get("text-field"),B=b.get("icon-image"),j=(T.value.kind!=="constant"||T.value.value instanceof oo&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),W=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=b.get("symbol-sort-key");if(this.features=[],j||W){for(var Y=a.iconDependencies,ue=a.glyphDependencies,he=a.availableImages,Ee=new Wn(this.zoom),ke=0,He=r;ke<He.length;ke+=1){var De=He[ke],nt=De.feature,ot=De.id,ft=De.index,pt=De.sourceLayerIndex,kt=g._featureFilter.needGeometry,Ut=na(nt,kt);if(g._featureFilter.filter(Ee,Ut,u)){kt||(Ut.geometry=fi(nt));var Zt=void 0;if(j){var gn=g.getValueAndResolveTokens("text-field",Ut,u,he),nn=oo.factory(gn);vv(nn)&&(this.hasRTLText=!0),(!this.hasRTLText||hs()==="unavailable"||this.hasRTLText&&rr.isParsed())&&(Zt=gm(nn,g,Ut))}var En=void 0;if(W){var on=g.getValueAndResolveTokens("icon-image",Ut,u,he);En=on instanceof Qo?on:Qo.fromString(on)}if(Zt||En){var Zn=this.sortFeaturesByKey?Z.evaluate(Ut,{},u):void 0;if(this.features.push({id:ot,text:Zt,icon:En,index:ft,sourceLayerIndex:pt,geometry:Ut.geometry,properties:nt.properties,type:bl[nt.type],sortKey:Zn}),En&&(Y[En.name]=!0),Zt){var On=C.evaluate(Ut,{},u).join(","),yn=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ms.vertical)>=0;for(var ir=0,Hn=Zt.sections;ir<Hn.length;ir+=1){var xr=Hn[ir];if(xr.image)Y[xr.image.name]=!0;else{var Pn=sc(Zt.toString()),Lr=xr.fontStack||On,li=ue[Lr]=ue[Lr]||{};this.calculateGlyphDependencies(xr.text,li,yn,this.allowVerticalPlacement,Pn)}}}}}}b.get("symbol-placement")==="line"&&(this.features=function(_i){var Oi={},xi={},Ci=[],_o=0;function Io(Ir){Ci.push(_i[Ir]),_o++}function Ea(Ir,lo,ma){var pr=xi[Ir];return delete xi[Ir],xi[lo]=pr,Ci[pr].geometry[0].pop(),Ci[pr].geometry[0]=Ci[pr].geometry[0].concat(ma[0]),pr}function Uo(Ir,lo,ma){var pr=Oi[lo];return delete Oi[lo],Oi[Ir]=pr,Ci[pr].geometry[0].shift(),Ci[pr].geometry[0]=ma[0].concat(Ci[pr].geometry[0]),pr}function ka(Ir,lo,ma){var pr=ma?lo[0][lo[0].length-1]:lo[0][0];return Ir+":"+pr.x+":"+pr.y}for(var Ji=0;Ji<_i.length;Ji++){var $o=_i[Ji],fr=$o.geometry,ii=$o.text?$o.text.toString():null;if(ii){var Qr=ka(ii,fr),Pr=ka(ii,fr,!0);if(Qr in xi&&Pr in Oi&&xi[Qr]!==Oi[Pr]){var Da=Uo(Qr,Pr,fr),da=Ea(Qr,Pr,Ci[Da].geometry);delete Oi[Qr],delete xi[Pr],xi[ka(ii,Ci[da].geometry,!0)]=da,Ci[Da].geometry=null}else Qr in xi?Ea(Qr,Pr,fr):Pr in Oi?Uo(Qr,Pr,fr):(Io(Ji),Oi[Qr]=_o-1,xi[Pr]=_o-1)}else Io(Ji)}return Ci.filter(function(Ir){return Ir.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,Oi){return _i.sortKey-Oi.sortKey})}},Zr.prototype.update=function(r,a,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,a,this.layers,u),this.icon.programConfigurations.updatePaintArrays(r,a,this.layers,u))},Zr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Zr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Zr.prototype.upload=function(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Zr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Zr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Zr.prototype.addToLineVertexArray=function(r,a){var u=this.lineVertexArray.length;if(r.segment!==void 0){for(var g=r.dist(a[r.segment+1]),b=r.dist(a[r.segment]),C={},T=r.segment+1;T<a.length;T++)C[T]={x:a[T].x,y:a[T].y,tileUnitDistanceFromAnchor:g},T<a.length-1&&(g+=a[T+1].dist(a[T]));for(var B=r.segment||0;B>=0;B--)C[B]={x:a[B].x,y:a[B].y,tileUnitDistanceFromAnchor:b},B>0&&(b+=a[B-1].dist(a[B]));for(var j=0;j<a.length;j++){var W=C[j];this.lineVertexArray.emplaceBack(W.x,W.y,W.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},Zr.prototype.addSymbols=function(r,a,u,g,b,C,T,B,j,W,Z,Y){for(var ue=r.indexArray,he=r.layoutVertexArray,Ee=r.segments.prepareSegment(4*a.length,he,ue,this.canOverlap?C.sortKey:void 0),ke=this.glyphOffsetArray.length,He=Ee.vertexLength,De=this.allowVerticalPlacement&&T===Ms.vertical?Math.PI/2:0,nt=C.text&&C.text.sections,ot=0;ot<a.length;ot++){var ft=a[ot],pt=ft.tl,kt=ft.tr,Ut=ft.bl,Zt=ft.br,gn=ft.tex,nn=ft.pixelOffsetTL,En=ft.pixelOffsetBR,on=ft.minFontScaleX,Zn=ft.minFontScaleY,On=ft.glyphOffset,yn=ft.isSDF,ir=ft.sectionIndex,Hn=Ee.vertexLength,xr=On[1];Pd(he,B.x,B.y,pt.x,xr+pt.y,gn.x,gn.y,u,yn,nn.x,nn.y,on,Zn),Pd(he,B.x,B.y,kt.x,xr+kt.y,gn.x+gn.w,gn.y,u,yn,En.x,nn.y,on,Zn),Pd(he,B.x,B.y,Ut.x,xr+Ut.y,gn.x,gn.y+gn.h,u,yn,nn.x,En.y,on,Zn),Pd(he,B.x,B.y,Zt.x,xr+Zt.y,gn.x+gn.w,gn.y+gn.h,u,yn,En.x,En.y,on,Zn),bm(r.dynamicLayoutVertexArray,B,De),ue.emplaceBack(Hn,Hn+1,Hn+2),ue.emplaceBack(Hn+1,Hn+2,Hn+3),Ee.vertexLength+=4,Ee.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(On[0]),ot!==a.length-1&&ir===a[ot+1].sectionIndex||r.programConfigurations.populatePaintArrays(he.length,C,C.index,{},Y,nt&&nt[ir])}r.placedSymbolArray.emplaceBack(B.x,B.y,ke,this.glyphOffsetArray.length-ke,He,j,W,B.segment,u?u[0]:0,u?u[1]:0,g[0],g[1],T,0,!1,0,Z)},Zr.prototype._addCollisionDebugVertex=function(r,a,u,g,b,C){return a.emplaceBack(0,0),r.emplaceBack(u.x,u.y,g,b,Math.round(C.x),Math.round(C.y))},Zr.prototype.addCollisionDebugVertices=function(r,a,u,g,b,C,T){var B=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),j=B.vertexLength,W=b.layoutVertexArray,Z=b.collisionVertexArray,Y=T.anchorX,ue=T.anchorY;this._addCollisionDebugVertex(W,Z,C,Y,ue,new M(r,a)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new M(u,a)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new M(u,g)),this._addCollisionDebugVertex(W,Z,C,Y,ue,new M(r,g)),B.vertexLength+=4;var he=b.indexArray;he.emplaceBack(j,j+1),he.emplaceBack(j+1,j+2),he.emplaceBack(j+2,j+3),he.emplaceBack(j+3,j),B.primitiveLength+=4},Zr.prototype.addDebugCollisionBoxes=function(r,a,u,g){for(var b=r;b<a;b++){var C=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(C.x1,C.y1,C.x2,C.y2,g?this.textCollisionBox:this.iconCollisionBox,C.anchorPoint,u)}},Zr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new fA(at,xd.members,xn),this.iconCollisionBox=new fA(at,xd.members,xn);for(var r=0;r<this.symbolInstances.length;r++){var a=this.symbolInstances.get(r);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}},Zr.prototype._deserializeCollisionBoxesForSymbol=function(r,a,u,g,b,C,T,B,j){for(var W={},Z=a;Z<u;Z++){var Y=r.get(Z);W.textBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},W.textFeatureIndex=Y.featureIndex;break}for(var ue=g;ue<b;ue++){var he=r.get(ue);W.verticalTextBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},W.verticalTextFeatureIndex=he.featureIndex;break}for(var Ee=C;Ee<T;Ee++){var ke=r.get(Ee);W.iconBox={x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,anchorPointX:ke.anchorPointX,anchorPointY:ke.anchorPointY},W.iconFeatureIndex=ke.featureIndex;break}for(var He=B;He<j;He++){var De=r.get(He);W.verticalIconBox={x1:De.x1,y1:De.y1,x2:De.x2,y2:De.y2,anchorPointX:De.anchorPointX,anchorPointY:De.anchorPointY},W.verticalIconFeatureIndex=De.featureIndex;break}return W},Zr.prototype.deserializeCollisionBoxes=function(r){this.collisionArrays=[];for(var a=0;a<this.symbolInstances.length;a++){var u=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},Zr.prototype.hasTextData=function(){return this.text.segments.get().length>0},Zr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Zr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Zr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Zr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Zr.prototype.addIndicesForPlacedSymbol=function(r,a){for(var u=r.placedSymbolArray.get(a),g=u.vertexStartIndex+4*u.numGlyphs,b=u.vertexStartIndex;b<g;b+=4)r.indexArray.emplaceBack(b,b+1,b+2),r.indexArray.emplaceBack(b+1,b+2,b+3)},Zr.prototype.getSortedSymbolIndexes=function(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var a=Math.sin(r),u=Math.cos(r),g=[],b=[],C=[],T=0;T<this.symbolInstances.length;++T){C.push(T);var B=this.symbolInstances.get(T);g.push(0|Math.round(a*B.anchorX+u*B.anchorY)),b.push(B.featureIndex)}return C.sort(function(j,W){return g[j]-g[W]||b[W]-b[j]}),C},Zr.prototype.addToSortKeyRanges=function(r,a){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===a?u.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:r,symbolInstanceEnd:r+1})},Zr.prototype.sortFeatures=function(r){var a=this;if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,g=this.symbolInstanceIndexes;u<g.length;u+=1){var b=this.symbolInstances.get(g[u]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(C,T,B){C>=0&&B.indexOf(C)===T&&a.addIndicesForPlacedSymbol(a.text,C)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},an("SymbolBucket",Zr,{omit:["layers","collisionBoxArray","features","compareText"]}),Zr.MAX_GLYPHS=65535,Zr.addDynamicAttributes=bm;var Tb=new zo({"symbol-placement":new Wt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Wt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Wt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new mt(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Wt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Wt(xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Wt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Wt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Wt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new mt(xe.layout_symbol["icon-size"]),"icon-text-fit":new Wt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Wt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new mt(xe.layout_symbol["icon-image"]),"icon-rotate":new mt(xe.layout_symbol["icon-rotate"]),"icon-padding":new Wt(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Wt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new mt(xe.layout_symbol["icon-offset"]),"icon-anchor":new mt(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Wt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Wt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Wt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new mt(xe.layout_symbol["text-field"]),"text-font":new mt(xe.layout_symbol["text-font"]),"text-size":new mt(xe.layout_symbol["text-size"]),"text-max-width":new mt(xe.layout_symbol["text-max-width"]),"text-line-height":new Wt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new mt(xe.layout_symbol["text-letter-spacing"]),"text-justify":new mt(xe.layout_symbol["text-justify"]),"text-radial-offset":new mt(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Wt(xe.layout_symbol["text-variable-anchor"]),"text-anchor":new mt(xe.layout_symbol["text-anchor"]),"text-max-angle":new Wt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Wt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new mt(xe.layout_symbol["text-rotate"]),"text-padding":new Wt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Wt(xe.layout_symbol["text-keep-upright"]),"text-transform":new mt(xe.layout_symbol["text-transform"]),"text-offset":new mt(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Wt(xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Wt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Wt(xe.layout_symbol["text-optional"])}),pA={paint:new zo({"icon-opacity":new mt(xe.paint_symbol["icon-opacity"]),"icon-color":new mt(xe.paint_symbol["icon-color"]),"icon-halo-color":new mt(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new mt(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new mt(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Wt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Wt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new mt(xe.paint_symbol["text-opacity"]),"text-color":new mt(xe.paint_symbol["text-color"],{runtimeType:hn,getOverride:function(r){return r.textColor},hasOverride:function(r){return!!r.textColor}}),"text-halo-color":new mt(xe.paint_symbol["text-halo-color"]),"text-halo-width":new mt(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new mt(xe.paint_symbol["text-halo-blur"]),"text-translate":new Wt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Wt(xe.paint_symbol["text-translate-anchor"])}),layout:Tb},nh=function(r){this.type=r.property.overrides?r.property.overrides.runtimeType:$t,this.defaultValue=r};nh.prototype.evaluate=function(r){if(r.formattedSection){var a=this.defaultValue.property.overrides;if(a&&a.hasOverride(r.formattedSection))return a.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default},nh.prototype.eachChild=function(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)},nh.prototype.outputDefined=function(){return!1},nh.prototype.serialize=function(){return null},an("FormatSectionOverride",nh,{omit:["defaultValue"]});var Ib=function(r){function a(u){r.call(this,u,pA)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.recalculate=function(u,g){if(r.prototype.recalculate.call(this,u,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var b=this.layout.get("text-writing-mode");if(b){for(var C=[],T=0,B=b;T<B.length;T+=1){var j=B[T];C.indexOf(j)<0&&C.push(j)}this.layout._values["text-writing-mode"]=C}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},a.prototype.getValueAndResolveTokens=function(u,g,b,C){var T=this.layout.get(u).evaluate(g,{},b,C),B=this._unevaluatedLayout._values[u];return B.isDataDriven()||Ui(B.value)||!T?T:function(j,W){return W.replace(/{([^{}]+)}/g,function(Z,Y){return Y in j?String(j[Y]):""})}(g.properties,T)},a.prototype.createBucket=function(u){return new Zr(u)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype._setPaintOverrides=function(){for(var u=0,g=pA.paint.overridableProperties;u<g.length;u+=1){var b=g[u];if(a.hasPaintOverride(this.layout,b)){var C,T=this.paint.get(b),B=new nh(T),j=new po(B,T.property.specification);C=T.value.kind==="constant"||T.value.kind==="source"?new rc("source",j):new Au("composite",j,T.value.zoomStops,T.value._interpolationType),this.paint._values[b]=new ea(T.property,C,T.parameters)}}},a.prototype._handleOverridablePaintPropertyUpdate=function(u,g,b){return!(!this.layout||g.isDataDriven()||b.isDataDriven())&&a.hasPaintOverride(this.layout,u)},a.hasPaintOverride=function(u,g){var b=u.get("text-field"),C=pA.paint.properties[g],T=!1,B=function(Z){for(var Y=0,ue=Z;Y<ue.length;Y+=1)if(C.overrides&&C.overrides.hasOverride(ue[Y]))return void(T=!0)};if(b.value.kind==="constant"&&b.value.value instanceof oo)B(b.value.value.sections);else if(b.value.kind==="source"){var j=function(Z){T||(Z instanceof ca&&ao(Z.value)===Jn?B(Z.value.sections):Z instanceof Wo?B(Z.sections):Z.eachChild(j))},W=b.value;W._styleExpression&&j(W._styleExpression.expression)}return T},a}(ji),Ob={paint:new zo({"background-color":new Wt(xe.paint_background["background-color"]),"background-pattern":new To(xe.paint_background["background-pattern"]),"background-opacity":new Wt(xe.paint_background["background-opacity"])})},Mb=function(r){function a(u){r.call(this,u,Ob)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(ji),Lb={paint:new zo({"raster-opacity":new Wt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Wt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Wt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Wt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Wt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Wt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Wt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Wt(xe.paint_raster["raster-fade-duration"])})},Rb=function(r){function a(u){r.call(this,u,Lb)}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a}(ji),Db=function(r){function a(u){r.call(this,u,{}),this.implementation=u}return r&&(a.__proto__=r),(a.prototype=Object.create(r&&r.prototype)).constructor=a,a.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},a.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},a.prototype.recalculate=function(){},a.prototype.updateTransitions=function(){},a.prototype.hasTransition=function(){},a.prototype.serialize=function(){},a.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},a.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},a}(ji),Fb={circle:Gf,heatmap:Ny,hillshade:ib,fill:bu,"fill-extrusion":fm,line:fb,symbol:Ib,background:Mb,raster:Rb},_v=z.HTMLImageElement,xv=z.HTMLCanvasElement,bv=z.HTMLVideoElement,wv=z.ImageData,Td=z.ImageBitmap,tp=function(r,a,u,g){this.context=r,this.format=u,this.texture=r.gl.createTexture(),this.update(a,g)};tp.prototype.update=function(r,a,u){var g=r.width,b=r.height,C=!(this.size&&this.size[0]===g&&this.size[1]===b||u),T=this.context,B=T.gl;if(this.useMipmap=Boolean(a&&a.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!a||a.premultiply!==!1)),C)this.size=[g,b],r instanceof _v||r instanceof xv||r instanceof bv||r instanceof wv||Td&&r instanceof Td?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,r):B.texImage2D(B.TEXTURE_2D,0,this.format,g,b,0,this.format,B.UNSIGNED_BYTE,r.data);else{var j=u||{x:0,y:0},W=j.x,Z=j.y;r instanceof _v||r instanceof xv||r instanceof bv||r instanceof wv||Td&&r instanceof Td?B.texSubImage2D(B.TEXTURE_2D,0,W,Z,B.RGBA,B.UNSIGNED_BYTE,r):B.texSubImage2D(B.TEXTURE_2D,0,W,Z,g,b,B.RGBA,B.UNSIGNED_BYTE,r.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)},tp.prototype.bind=function(r,a,u){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),u!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=g.LINEAR),r!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,r),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,u||r),this.filter=r),a!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,a),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,a),this.wrap=a)},tp.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},tp.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var wm=function(r){var a=this;this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){a._triggered=!1,a._callback()})};wm.prototype.trigger=function(){var r=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){r._triggered=!1,r._callback()},0))},wm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var rh=function(r,a,u){this.target=r,this.parent=a,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},we(["receive","process"],this),this.invoker=new wm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Jt()?r:z};function Sv(r,a,u){var g=2*Math.PI*6378137/256/Math.pow(2,u);return[r*g-2*Math.PI*6378137/2,a*g-2*Math.PI*6378137/2]}rh.prototype.send=function(r,a,u,g,b){var C=this;b===void 0&&(b=!1);var T=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[T]=u);var B=Me(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!u,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:Fo(a,B)},B),{cancel:function(){u&&delete C.callbacks[T],C.target.postMessage({id:T,type:"<cancel>",targetMapId:g,sourceMapId:C.mapId})}}},rh.prototype.receive=function(r){var a=r.data,u=a.id;if(u&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[u];var g=this.cancelCallbacks[u];delete this.cancelCallbacks[u],g&&g()}else Jt()||a.mustQueue?(this.tasks[u]=a,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,a)},rh.prototype.process=function(){if(this.taskQueue.length){var r=this.taskQueue.shift(),a=this.tasks[r];delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(r,a)}},rh.prototype.processTask=function(r,a){var u=this;if(a.type==="<response>"){var g=this.callbacks[r];delete this.callbacks[r],g&&(a.error?g(yu(a.error)):g(null,yu(a.data)))}else{var b=!1,C=Me(this.globalScope)?void 0:[],T=a.hasCallback?function(Z,Y){b=!0,delete u.cancelCallbacks[r],u.target.postMessage({id:r,type:"<response>",sourceMapId:u.mapId,error:Z?Fo(Z):null,data:Fo(Y,C)},C)}:function(Z){b=!0},B=null,j=yu(a.data);if(this.parent[a.type])B=this.parent[a.type](a.sourceMapId,j,T);else if(this.parent.getWorkerSource){var W=a.type.split(".");B=this.parent.getWorkerSource(a.sourceMapId,W[0],j.source)[W[1]](j,T)}else T(new Error("Could not find function "+a.type));!b&&B&&B.cancel&&(this.cancelCallbacks[r]=B.cancel)}},rh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var yo=function(r,a){r&&(a?this.setSouthWest(r).setNorthEast(a):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))};yo.prototype.setNorthEast=function(r){return this._ne=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.setSouthWest=function(r){return this._sw=r instanceof vi?new vi(r.lng,r.lat):vi.convert(r),this},yo.prototype.extend=function(r){var a,u,g=this._sw,b=this._ne;if(r instanceof vi)a=r,u=r;else{if(!(r instanceof yo))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(yo.convert(r)):this.extend(vi.convert(r)):this;if(u=r._ne,!(a=r._sw)||!u)return this}return g||b?(g.lng=Math.min(a.lng,g.lng),g.lat=Math.min(a.lat,g.lat),b.lng=Math.max(u.lng,b.lng),b.lat=Math.max(u.lat,b.lat)):(this._sw=new vi(a.lng,a.lat),this._ne=new vi(u.lng,u.lat)),this},yo.prototype.getCenter=function(){return new vi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},yo.prototype.getSouthWest=function(){return this._sw},yo.prototype.getNorthEast=function(){return this._ne},yo.prototype.getNorthWest=function(){return new vi(this.getWest(),this.getNorth())},yo.prototype.getSouthEast=function(){return new vi(this.getEast(),this.getSouth())},yo.prototype.getWest=function(){return this._sw.lng},yo.prototype.getSouth=function(){return this._sw.lat},yo.prototype.getEast=function(){return this._ne.lng},yo.prototype.getNorth=function(){return this._ne.lat},yo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},yo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},yo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},yo.prototype.contains=function(r){var a=vi.convert(r),u=a.lng,g=a.lat,b=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&b},yo.convert=function(r){return!r||r instanceof yo?r:new yo(r)};var vi=function(r,a){if(isNaN(r)||isNaN(a))throw new Error("Invalid LngLat object: ("+r+", "+a+")");if(this.lng=+r,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vi.prototype.wrap=function(){return new vi(V(this.lng,-180,180),this.lat)},vi.prototype.toArray=function(){return[this.lng,this.lat]},vi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vi.prototype.distanceTo=function(r){var a=Math.PI/180,u=this.lat*a,g=r.lat*a,b=Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos((r.lng-this.lng)*a);return 63710088e-1*Math.acos(Math.min(b,1))},vi.prototype.toBounds=function(r){r===void 0&&(r=0);var a=360*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return new yo(new vi(this.lng-u,this.lat-a),new vi(this.lng+u,this.lat+a))},vi.convert=function(r){if(r instanceof vi)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new vi(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new vi(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Cv=2*Math.PI*63710088e-1;function Id(r){return Cv*Math.cos(r*Math.PI/180)}function Sm(r){return(180+r)/360}function Ev(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function kv(r,a){return r/Id(a)}function Cm(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}var np=function(r,a,u){u===void 0&&(u=0),this.x=+r,this.y=+a,this.z=+u};np.fromLngLat=function(r,a){a===void 0&&(a=0);var u=vi.convert(r);return new np(Sm(u.lng),Ev(u.lat),kv(a,u.lat))},np.prototype.toLngLat=function(){return new vi(360*this.x-180,Cm(this.y))},np.prototype.toAltitude=function(){return this.z*Id(Cm(this.y))},np.prototype.meterInMercatorCoordinateUnits=function(){return 1/Cv*(r=Cm(this.y),1/Math.cos(r*Math.PI/180));var r};var rp=function(r,a,u){this.z=r,this.x=a,this.y=u,this.key=hA(0,r,r,a,u)};rp.prototype.equals=function(r){return this.z===r.z&&this.x===r.x&&this.y===r.y},rp.prototype.url=function(r,a){var u,g,b,C,T,B=(g=this.y,b=this.z,C=Sv(256*(u=this.x),256*(g=Math.pow(2,b)-g-1),b),T=Sv(256*(u+1),256*(g+1),b),C[0]+","+C[1]+","+T[0]+","+T[1]),j=function(W,Z,Y){for(var ue,he="",Ee=W;Ee>0;Ee--)he+=(Z&(ue=1<<Ee-1)?1:0)+(Y&ue?2:0);return he}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",j).replace("{bbox-epsg-3857}",B)},rp.prototype.getTilePoint=function(r){var a=Math.pow(2,this.z);return new M(8192*(r.x*a-this.x),8192*(r.y*a-this.y))},rp.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Pv=function(r,a){this.wrap=r,this.canonical=a,this.key=hA(r,a.z,a.z,a.x,a.y)},vo=function(r,a,u,g,b){this.overscaledZ=r,this.wrap=a,this.canonical=new rp(u,+g,+b),this.key=hA(a,r,u,g,b)};function hA(r,a,u,g,b){(r*=2)<0&&(r=-1*r-1);var C=1<<u;return(C*C*r+C*b+g).toString(36)+u.toString(36)+a.toString(36)}vo.prototype.equals=function(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)},vo.prototype.scaledTo=function(r){var a=this.canonical.z-r;return r>this.canonical.z?new vo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vo(r,this.wrap,r,this.canonical.x>>a,this.canonical.y>>a)},vo.prototype.calculateScaledKey=function(r,a){var u=this.canonical.z-r;return r>this.canonical.z?hA(this.wrap*+a,r,this.canonical.z,this.canonical.x,this.canonical.y):hA(this.wrap*+a,r,r,this.canonical.x>>u,this.canonical.y>>u)},vo.prototype.isChildOf=function(r){if(r.wrap!==this.wrap)return!1;var a=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>a&&r.canonical.y===this.canonical.y>>a},vo.prototype.children=function(r){if(this.overscaledZ>=r)return[new vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var a=this.canonical.z+1,u=2*this.canonical.x,g=2*this.canonical.y;return[new vo(a,this.wrap,a,u,g),new vo(a,this.wrap,a,u+1,g),new vo(a,this.wrap,a,u,g+1),new vo(a,this.wrap,a,u+1,g+1)]},vo.prototype.isLessThan=function(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))},vo.prototype.wrapped=function(){return new vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.unwrapTo=function(r){return new vo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vo.prototype.toUnwrapped=function(){return new Pv(this.wrap,this.canonical)},vo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vo.prototype.getTilePoint=function(r){return this.canonical.getTilePoint(new np(r.x-this.wrap,r.y))},an("CanonicalTileID",rp),an("OverscaledTileID",vo,{omit:["posMatrix"]});var Su=function(r,a,u){if(this.uid=r,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return At('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=a.height;var g=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=u||"mapbox";for(var b=0;b<g;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(g,b)]=this.data[this._idx(g-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,g)]=this.data[this._idx(b,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};Su.prototype.get=function(r,a){var u=new Uint8Array(this.data.buffer),g=4*this._idx(r,a);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(u[g],u[g+1],u[g+2])},Su.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Su.prototype._idx=function(r,a){if(r<-1||r>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(r+1)},Su.prototype._unpackMapbox=function(r,a,u){return(256*r*256+256*a+u)/10-1e4},Su.prototype._unpackTerrarium=function(r,a,u){return 256*r+a+u/256-32768},Su.prototype.getPixels=function(){return new Ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Su.prototype.backfillBorder=function(r,a,u){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");var g=a*this.dim,b=a*this.dim+this.dim,C=u*this.dim,T=u*this.dim+this.dim;switch(a){case-1:g=b-1;break;case 1:b=g+1}switch(u){case-1:C=T-1;break;case 1:T=C+1}for(var B=-a*this.dim,j=-u*this.dim,W=C;W<T;W++)for(var Z=g;Z<b;Z++)this.data[this._idx(Z,W)]=r.data[this._idx(Z+B,W+j)]},an("DEMData",Su);var Od=function(r){this._stringToNumber={},this._numberToString=[];for(var a=0;a<r.length;a++){var u=r[a];this._stringToNumber[u]=a,this._numberToString[a]=u}};Od.prototype.encode=function(r){return this._stringToNumber[r]},Od.prototype.decode=function(r){return this._numberToString[r]};var ip=function(r,a,u,g,b){this.type="Feature",this._vectorTileFeature=r,r._z=a,r._x=u,r._y=g,this.properties=r.properties,this.id=b},Em={geometry:{configurable:!0}};Em.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Em.geometry.set=function(r){this._geometry=r},ip.prototype.toJSON=function(){var r={geometry:this.geometry};for(var a in this)a!=="_geometry"&&a!=="_vectorTileFeature"&&(r[a]=this[a]);return r},Object.defineProperties(ip.prototype,Em);var ih=function(){this.state={},this.stateChanges={},this.deletedStates={}};ih.prototype.updateState=function(r,a,u){var g=String(a);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][g]=this.stateChanges[r][g]||{},X(this.stateChanges[r][g],u),this.deletedStates[r]===null)for(var b in this.deletedStates[r]={},this.state[r])b!==g&&(this.deletedStates[r][b]=null);else if(this.deletedStates[r]&&this.deletedStates[r][g]===null)for(var C in this.deletedStates[r][g]={},this.state[r][g])u[C]||(this.deletedStates[r][g][C]=null);else for(var T in u)this.deletedStates[r]&&this.deletedStates[r][g]&&this.deletedStates[r][g][T]===null&&delete this.deletedStates[r][g][T]},ih.prototype.removeFeatureState=function(r,a,u){if(this.deletedStates[r]!==null){var g=String(a);if(this.deletedStates[r]=this.deletedStates[r]||{},u&&a!==void 0)this.deletedStates[r][g]!==null&&(this.deletedStates[r][g]=this.deletedStates[r][g]||{},this.deletedStates[r][g][u]=null);else if(a!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][g])for(u in this.deletedStates[r][g]={},this.stateChanges[r][g])this.deletedStates[r][g][u]=null;else this.deletedStates[r][g]=null;else this.deletedStates[r]=null}},ih.prototype.getState=function(r,a){var u=String(a),g=X({},(this.state[r]||{})[u],(this.stateChanges[r]||{})[u]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){var b=this.deletedStates[r][a];if(b===null)return{};for(var C in b)delete g[C]}return g},ih.prototype.initializeTileState=function(r,a){r.setFeatureState(this.state,a)},ih.prototype.coalesceChanges=function(r,a){var u={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var b={};for(var C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),X(this.state[g][C],this.stateChanges[g][C]),b[C]=this.state[g][C];u[g]=b}for(var T in this.deletedStates){this.state[T]=this.state[T]||{};var B={};if(this.deletedStates[T]===null)for(var j in this.state[T])B[j]={},this.state[T][j]={};else for(var W in this.deletedStates[T]){if(this.deletedStates[T][W]===null)this.state[T][W]={};else for(var Z=0,Y=Object.keys(this.deletedStates[T][W]);Z<Y.length;Z+=1)delete this.state[T][W][Y[Z]];B[W]=this.state[T][W]}u[T]=u[T]||{},X(u[T],B)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(var ue in r)r[ue].setFeatureState(u,a)};var mc=function(r,a){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Po(8192,16,0),this.grid3D=new Po(8192,16,0),this.featureIndexArray=new Ae,this.promoteId=a};function Tv(r,a,u,g,b){return je(r,function(C,T){var B=a instanceof qa?a.get(T):null;return B&&B.evaluate?B.evaluate(u,g,b):B})}function Iv(r){for(var a=1/0,u=1/0,g=-1/0,b=-1/0,C=0,T=r;C<T.length;C+=1){var B=T[C];a=Math.min(a,B.x),u=Math.min(u,B.y),g=Math.max(g,B.x),b=Math.max(b,B.y)}return{minX:a,minY:u,maxX:g,maxY:b}}function Bb(r,a){return a-r}mc.prototype.insert=function(r,a,u,g,b,C){var T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,g,b);for(var B=C?this.grid3D:this.grid,j=0;j<a.length;j++){for(var W=a[j],Z=[1/0,1/0,-1/0,-1/0],Y=0;Y<W.length;Y++){var ue=W[Y];Z[0]=Math.min(Z[0],ue.x),Z[1]=Math.min(Z[1],ue.y),Z[2]=Math.max(Z[2],ue.x),Z[3]=Math.max(Z[3],ue.y)}Z[0]<8192&&Z[1]<8192&&Z[2]>=0&&Z[3]>=0&&B.insert(T,Z[0],Z[1],Z[2],Z[3])}},mc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new wu.VectorTile(new Xf(this.rawTileData)).layers,this.sourceLayerCoder=new Od(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},mc.prototype.query=function(r,a,u,g){var b=this;this.loadVTLayers();for(var C=r.params||{},T=8192/r.tileSize/r.scale,B=cs(C.filter),j=r.queryGeometry,W=r.queryPadding*T,Z=Iv(j),Y=this.grid.query(Z.minX-W,Z.minY-W,Z.maxX+W,Z.maxY+W),ue=Iv(r.cameraQueryGeometry),he=this.grid3D.query(ue.minX-W,ue.minY-W,ue.maxX+W,ue.maxY+W,function(ft,pt,kt,Ut){return function(Zt,gn,nn,En,on){for(var Zn=0,On=Zt;Zn<On.length;Zn+=1){var yn=On[Zn];if(gn<=yn.x&&nn<=yn.y&&En>=yn.x&&on>=yn.y)return!0}var ir=[new M(gn,nn),new M(gn,on),new M(En,on),new M(En,nn)];if(Zt.length>2){for(var Hn=0,xr=ir;Hn<xr.length;Hn+=1)if(Qa(Zt,xr[Hn]))return!0}for(var Pn=0;Pn<Zt.length-1;Pn++)if(of(Zt[Pn],Zt[Pn+1],ir))return!0;return!1}(r.cameraQueryGeometry,ft-W,pt-W,kt+W,Ut+W)}),Ee=0,ke=he;Ee<ke.length;Ee+=1)Y.push(ke[Ee]);Y.sort(Bb);for(var He,De={},nt=function(ft){var pt=Y[ft];if(pt!==He){He=pt;var kt=b.featureIndexArray.get(pt),Ut=null;b.loadMatchingFeature(De,kt.bucketIndex,kt.sourceLayerIndex,kt.featureIndex,B,C.layers,C.availableImages,a,u,g,function(Zt,gn,nn){return Ut||(Ut=fi(Zt)),gn.queryIntersectsFeature(j,Zt,nn,Ut,b.z,r.transform,T,r.pixelPosMatrix)})}},ot=0;ot<Y.length;ot++)nt(ot);return De},mc.prototype.loadMatchingFeature=function(r,a,u,g,b,C,T,B,j,W,Z){var Y=this.bucketLayerIDs[a];if(!C||function(Zt,gn){for(var nn=0;nn<Zt.length;nn++)if(gn.indexOf(Zt[nn])>=0)return!0;return!1}(C,Y)){var ue=this.sourceLayerCoder.decode(u),he=this.vtLayers[ue].feature(g);if(b.needGeometry){var Ee=na(he,!0);if(!b.filter(new Wn(this.tileID.overscaledZ),Ee,this.tileID.canonical))return}else if(!b.filter(new Wn(this.tileID.overscaledZ),he))return;for(var ke=this.getId(he,ue),He=0;He<Y.length;He++){var De=Y[He];if(!(C&&C.indexOf(De)<0)){var nt=B[De];if(nt){var ot={};ke!==void 0&&W&&(ot=W.getState(nt.sourceLayer||"_geojsonTileLayer",ke));var ft=X({},j[De]);ft.paint=Tv(ft.paint,nt.paint,he,ot,T),ft.layout=Tv(ft.layout,nt.layout,he,ot,T);var pt=!Z||Z(he,nt,ot);if(pt){var kt=new ip(he,this.z,this.x,this.y,ke);kt.layer=ft;var Ut=r[De];Ut===void 0&&(Ut=r[De]=[]),Ut.push({featureIndex:g,feature:kt,intersectionZ:pt})}}}}}},mc.prototype.lookupSymbolFeatures=function(r,a,u,g,b,C,T,B){var j={};this.loadVTLayers();for(var W=cs(b),Z=0,Y=r;Z<Y.length;Z+=1)this.loadMatchingFeature(j,u,g,Y[Z],W,C,T,B,a);return j},mc.prototype.hasLayer=function(r){for(var a=0,u=this.bucketLayerIDs;a<u.length;a+=1)for(var g=0,b=u[a];g<b.length;g+=1)if(r===b[g])return!0;return!1},mc.prototype.getId=function(r,a){var u=r.id;return this.promoteId&&typeof(u=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[a]])=="boolean"&&(u=Number(u)),u},an("FeatureIndex",mc,{omit:["rawTileData","sourceLayerCoder"]});var No=function(r,a){this.tileID=r,this.uid=pe(),this.uses=0,this.tileSize=a,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(r){var a=r+this.timeAdded;a<$n.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(r,a,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){for(var g in r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(W,Z){var Y={};if(!Z)return Y;for(var ue=function(){var ke=Ee[he],He=ke.layerIds.map(function(ot){return Z.getLayer(ot)}).filter(Boolean);if(He.length!==0){ke.layers=He,ke.stateDependentLayerIds&&(ke.stateDependentLayers=ke.stateDependentLayerIds.map(function(ot){return He.filter(function(ft){return ft.id===ot})[0]}));for(var De=0,nt=He;De<nt.length;De+=1)Y[nt[De].id]=ke}},he=0,Ee=W;he<Ee.length;he+=1)ue();return Y}(r.buckets,a.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[g];if(b instanceof Zr){if(this.hasSymbolBuckets=!0,!u)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var C in this.buckets){var T=this.buckets[C];if(T instanceof Zr&&T.hasRTLText){this.hasRTLText=!0,rr.isLoading()||rr.isLoaded()||hs()!=="deferred"||Vp();break}}for(var B in this.queryPadding=0,this.buckets){var j=this.buckets[B];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(B).queryRadius(j))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new f},No.prototype.unloadVectorData=function(){for(var r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(r){return this.buckets[r.id]},No.prototype.upload=function(r){for(var a in this.buckets){var u=this.buckets[a];u.uploadPending()&&u.upload(r)}var g=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new tp(r,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new tp(r,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(r,a,u,g,b,C,T,B,j,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:C,tileSize:this.tileSize,pixelPosMatrix:W,transform:B,params:T,queryPadding:this.queryPadding*j},r,a,u):{}},No.prototype.querySourceFeatures=function(r,a){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var g=u.loadVTLayers(),b=a?a.sourceLayer:"",C=g._geojsonTileLayer||g[b];if(C)for(var T=cs(a&&a.filter),B=this.tileID.canonical,j=B.z,W=B.x,Z=B.y,Y={z:j,x:W,y:Z},ue=0;ue<C.length;ue++){var he=C.feature(ue);if(T.needGeometry){var Ee=na(he,!0);if(!T.filter(new Wn(this.tileID.overscaledZ),Ee,this.tileID.canonical))continue}else if(!T.filter(new Wn(this.tileID.overscaledZ),he))continue;var ke=u.getId(he,b),He=new ip(he,j,W,Z,ke);He.tile=Y,r.push(He)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(r){var a=this.expirationTime;if(r.cacheControl){var u=bn(r.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){var g=Date.now(),b=!1;if(this.expirationTime>g)b=!1;else if(a)if(this.expirationTime<a)b=!0;else{var C=this.expirationTime-a;C?this.expirationTime=g+Math.max(C,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(r,a){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(r).length!==0){var u=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(a.style.hasLayer(g)){var b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",T=u[C],B=r[C];if(T&&B&&Object.keys(B).length!==0){b.update(B,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});var j=a&&a.style&&a.style.getLayer(g);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(b)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$n.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(r){this.symbolFadeHoldUntil=$n.now()+r},No.prototype.setDependencies=function(r,a){for(var u={},g=0,b=a;g<b.length;g+=1)u[b[g]]=!0;this.dependencies[r]=u},No.prototype.hasDependency=function(r,a){for(var u=0,g=r;u<g.length;u+=1){var b=this.dependencies[g[u]];if(b){for(var C=0,T=a;C<T.length;C+=1)if(b[T[C]])return!0}}return!1};var Af=z.performance,Ov=function(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},Af.mark(this._marks.start)};Ov.prototype.finish=function(){Af.mark(this._marks.end);var r=Af.getEntriesByName(this._marks.measure);return r.length===0&&(Af.measure(this._marks.measure,this._marks.start,this._marks.end),r=Af.getEntriesByName(this._marks.measure),Af.clearMarks(this._marks.start),Af.clearMarks(this._marks.end),Af.clearMeasures(this._marks.measure)),r},o.Actor=rh,o.AlphaImage=Wf,o.CanonicalTileID=rp,o.CollisionBoxArray=f,o.Color=wn,o.DEMData=Su,o.DataConstantProperty=Wt,o.DictionaryCoder=Od,o.EXTENT=8192,o.ErrorEvent=Ge,o.EvaluationParameters=Wn,o.Event=Ue,o.Evented=Ne,o.FeatureIndex=mc,o.FillBucket=vl,o.FillExtrusionBucket=Os,o.ImageAtlas=Yp,o.ImagePosition=pf,o.LineBucket=Sa,o.LngLat=vi,o.LngLatBounds=yo,o.MercatorCoordinate=np,o.ONE_EM=24,o.OverscaledTileID=vo,o.Point=M,o.Point$1=M,o.Properties=zo,o.Protobuf=Xf,o.RGBAImage=Ra,o.RequestManager=gi,o.RequestPerformance=Ov,o.ResourceType=mr,o.SegmentVector=de,o.SourceFeatureState=ih,o.StructArrayLayout1ui2=Kt,o.StructArrayLayout2f1f2i16=wt,o.StructArrayLayout2i4=_,o.StructArrayLayout3ui6=Nt,o.StructArrayLayout4i8=k,o.SymbolBucket=Zr,o.Texture=tp,o.Tile=No,o.Transitionable=Bn,o.Uniform1f=Ft,o.Uniform1i=zt,o.Uniform2f=tn,o.Uniform3f=mn,o.Uniform4f=Tn,o.UniformColor=kn,o.UniformMatrix4f=pn,o.UnwrappedTileID=Pv,o.ValidationError=ae,o.WritingMode=Ms,o.ZoomHistory=Yo,o.add=function(r,a,u){return r[0]=a[0]+u[0],r[1]=a[1]+u[1],r[2]=a[2]+u[2],r},o.addDynamicAttributes=bm,o.asyncAll=function(r,a,u){if(!r.length)return u(null,[]);var g=r.length,b=new Array(r.length),C=null;r.forEach(function(T,B){a(T,function(j,W){j&&(C=j),b[B]=W,--g==0&&u(C,b)})})},o.bezier=q,o.bindAll=we,o.browser=$n,o.cacheEntryPossiblyAdded=function(r){++Hr>Gn&&(r.getActor().send("enforceCacheSizeLimit",ln),Hr=0)},o.clamp=ee,o.clearTileCache=function(r){var a=z.caches.delete("mapbox-tiles");r&&a.catch(r).then(function(){return r()})},o.clipLine=hv,o.clone=function(r){var a=new qi(16);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a},o.clone$1=qe,o.clone$2=function(r){var a=new qi(3);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a},o.collisionCircleLayout=mm,o.config=Fn,o.create=function(){var r=new qi(16);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},o.create$1=function(){var r=new qi(9);return qi!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r},o.create$2=function(){var r=new qi(4);return qi!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r},o.createCommonjsModule=x,o.createExpression=Xc,o.createLayout=m,o.createStyleLayer=function(r){return r.type==="custom"?new Db(r):new Fb[r.type](r)},o.cross=function(r,a,u){var g=a[0],b=a[1],C=a[2],T=u[0],B=u[1],j=u[2];return r[0]=b*j-C*B,r[1]=C*T-g*j,r[2]=g*B-b*T,r},o.deepEqual=function r(a,u){if(Array.isArray(a)){if(!Array.isArray(u)||a.length!==u.length)return!1;for(var g=0;g<a.length;g++)if(!r(a[g],u[g]))return!1;return!0}if(typeof a=="object"&&a!==null&&u!==null){if(typeof u!="object"||Object.keys(a).length!==Object.keys(u).length)return!1;for(var b in a)if(!r(a[b],u[b]))return!1;return!0}return a===u},o.dot=function(r,a){return r[0]*a[0]+r[1]*a[1]+r[2]*a[2]},o.dot$1=function(r,a){return r[0]*a[0]+r[1]*a[1]+r[2]*a[2]+r[3]*a[3]},o.ease=K,o.emitValidationErrors=ac,o.endsWith=Ce,o.enforceCacheSizeLimit=function(r){Mr(),bi&&bi.then(function(a){a.keys().then(function(u){for(var g=0;g<u.length-r;g++)a.delete(u[g])})})},o.evaluateSizeForFeature=hf,o.evaluateSizeForZoom=sv,o.evaluateVariableOffset=mv,o.evented=nf,o.extend=X,o.featureFilter=cs,o.filterObject=tt,o.fromRotation=function(r,a){var u=Math.sin(a),g=Math.cos(a);return r[0]=g,r[1]=u,r[2]=0,r[3]=-u,r[4]=g,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},o.getAnchorAlignment=Cd,o.getAnchorJustification=xm,o.getArrayBuffer=Ur,o.getImage=fe,o.getJSON=function(r,a){return Ei(X(r,{type:"json"}),a)},o.getRTLTextPluginStatus=hs,o.getReferrer=ei,o.getVideo=function(r,a){var u,g,b=z.document.createElement("video");b.muted=!0,b.onloadstart=function(){a(null,b)};for(var C=0;C<r.length;C++){var T=z.document.createElement("source");u=r[C],g=void 0,(g=z.document.createElement("a")).href=u,(g.protocol!==z.document.location.protocol||g.host!==z.document.location.host)&&(b.crossOrigin="Anonymous"),T.src=r[C],b.appendChild(T)}return{cancel:function(){}}},o.identity=Aa,o.invert=function(r,a){var u=a[0],g=a[1],b=a[2],C=a[3],T=a[4],B=a[5],j=a[6],W=a[7],Z=a[8],Y=a[9],ue=a[10],he=a[11],Ee=a[12],ke=a[13],He=a[14],De=a[15],nt=u*B-g*T,ot=u*j-b*T,ft=u*W-C*T,pt=g*j-b*B,kt=g*W-C*B,Ut=b*W-C*j,Zt=Z*ke-Y*Ee,gn=Z*He-ue*Ee,nn=Z*De-he*Ee,En=Y*He-ue*ke,on=Y*De-he*ke,Zn=ue*De-he*He,On=nt*Zn-ot*on+ft*En+pt*nn-kt*gn+Ut*Zt;return On?(r[0]=(B*Zn-j*on+W*En)*(On=1/On),r[1]=(b*on-g*Zn-C*En)*On,r[2]=(ke*Ut-He*kt+De*pt)*On,r[3]=(ue*kt-Y*Ut-he*pt)*On,r[4]=(j*nn-T*Zn-W*gn)*On,r[5]=(u*Zn-b*nn+C*gn)*On,r[6]=(He*ft-Ee*Ut-De*ot)*On,r[7]=(Z*Ut-ue*ft+he*ot)*On,r[8]=(T*on-B*nn+W*Zt)*On,r[9]=(g*nn-u*on-C*Zt)*On,r[10]=(Ee*kt-ke*ft+De*nt)*On,r[11]=(Y*ft-Z*kt-he*nt)*On,r[12]=(B*gn-T*En-j*Zt)*On,r[13]=(u*En-g*gn+b*Zt)*On,r[14]=(ke*ot-Ee*pt-He*nt)*On,r[15]=(Z*pt-Y*ot+ue*nt)*On,r):null},o.isChar=un,o.isMapboxURL=Go,o.keysDifference=function(r,a){var u=[];for(var g in r)g in a||u.push(g);return u},o.makeRequest=Ei,o.mapObject=je,o.mercatorXfromLng=Sm,o.mercatorYfromLat=Ev,o.mercatorZfromAltitude=kv,o.mul=eA,o.multiply=uc,o.mvt=wu,o.nextPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},o.normalize=function(r,a){var u=a[0],g=a[1],b=a[2],C=u*u+g*g+b*b;return C>0&&(C=1/Math.sqrt(C)),r[0]=a[0]*C,r[1]=a[1]*C,r[2]=a[2]*C,r},o.number=Tr,o.offscreenCanvasSupported=Jr,o.ortho=function(r,a,u,g,b,C,T){var B=1/(a-u),j=1/(g-b),W=1/(C-T);return r[0]=-2*B,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*j,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*W,r[11]=0,r[12]=(a+u)*B,r[13]=(b+g)*j,r[14]=(T+C)*W,r[15]=1,r},o.parseGlyphPBF=function(r){return new Xf(r).readFields(_b,[])},o.pbf=Xf,o.performSymbolLayout=function(r,a,u,g,b,C,T){r.createArrays(),r.tilePixelRatio=8192/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;var B=r.layers[0].layout,j=r.layers[0]._unevaluatedLayout._values,W={};if(r.textSizeData.kind==="composite"){var Z=r.textSizeData,Y=Z.maxZoom;W.compositeTextSizes=[j["text-size"].possiblyEvaluate(new Wn(Z.minZoom),T),j["text-size"].possiblyEvaluate(new Wn(Y),T)]}if(r.iconSizeData.kind==="composite"){var ue=r.iconSizeData,he=ue.maxZoom;W.compositeIconSizes=[j["icon-size"].possiblyEvaluate(new Wn(ue.minZoom),T),j["icon-size"].possiblyEvaluate(new Wn(he),T)]}W.layoutTextSize=j["text-size"].possiblyEvaluate(new Wn(r.zoom+1),T),W.layoutIconSize=j["icon-size"].possiblyEvaluate(new Wn(r.zoom+1),T),W.textMaxSize=j["text-size"].possiblyEvaluate(new Wn(18));for(var Ee=24*B.get("text-line-height"),ke=B.get("text-rotation-alignment")==="map"&&B.get("symbol-placement")!=="point",He=B.get("text-keep-upright"),De=B.get("text-size"),nt=function(){var pt=ft[ot],kt=B.get("text-font").evaluate(pt,{},T).join(","),Ut=De.evaluate(pt,{},T),Zt=W.layoutTextSize.evaluate(pt,{},T),gn=W.layoutIconSize.evaluate(pt,{},T),nn={horizontal:{},vertical:void 0},En=pt.text,on=[0,0];if(En){var Zn=En.toString(),On=24*B.get("text-letter-spacing").evaluate(pt,{},T),yn=function(fr){for(var ii=0,Qr=fr;ii<Qr.length;ii+=1)if(Pr=Qr[ii].charCodeAt(0),un.Arabic(Pr)||un["Arabic Supplement"](Pr)||un["Arabic Extended-A"](Pr)||un["Arabic Presentation Forms-A"](Pr)||un["Arabic Presentation Forms-B"](Pr))return!1;var Pr;return!0}(Zn)?On:0,ir=B.get("text-anchor").evaluate(pt,{},T),Hn=B.get("text-variable-anchor");if(!Hn){var xr=B.get("text-radial-offset").evaluate(pt,{},T);on=xr?mv(ir,[24*xr,_m]):B.get("text-offset").evaluate(pt,{},T).map(function(fr){return 24*fr})}var Pn=ke?"center":B.get("text-justify").evaluate(pt,{},T),Lr=B.get("symbol-placement"),li=Lr==="point"?24*B.get("text-max-width").evaluate(pt,{},T):0,_i=function(){r.allowVerticalPlacement&&sc(Zn)&&(nn.vertical=wd(En,a,u,b,kt,li,Ee,ir,"left",yn,on,Ms.vertical,!0,Lr,Zt,Ut))};if(!ke&&Hn){for(var Oi=Pn==="auto"?Hn.map(function(fr){return xm(fr)}):[Pn],xi=!1,Ci=0;Ci<Oi.length;Ci++){var _o=Oi[Ci];if(!nn.horizontal[_o])if(xi)nn.horizontal[_o]=nn.horizontal[0];else{var Io=wd(En,a,u,b,kt,li,Ee,"center",_o,yn,on,Ms.horizontal,!1,Lr,Zt,Ut);Io&&(nn.horizontal[_o]=Io,xi=Io.positionedLines.length===1)}}_i()}else{Pn==="auto"&&(Pn=xm(ir));var Ea=wd(En,a,u,b,kt,li,Ee,ir,Pn,yn,on,Ms.horizontal,!1,Lr,Zt,Ut);Ea&&(nn.horizontal[Pn]=Ea),_i(),sc(Zn)&&ke&&He&&(nn.vertical=wd(En,a,u,b,kt,li,Ee,ir,Pn,yn,on,Ms.vertical,!1,Lr,Zt,Ut))}}var Uo=void 0,ka=!1;if(pt.icon&&pt.icon.name){var Ji=g[pt.icon.name];Ji&&(Uo=function(fr,ii,Qr){var Pr=Cd(Qr),Da=ii[0]-fr.displaySize[0]*Pr.horizontalAlign,da=ii[1]-fr.displaySize[1]*Pr.verticalAlign;return{image:fr,top:da,bottom:da+fr.displaySize[1],left:Da,right:Da+fr.displaySize[0]}}(b[pt.icon.name],B.get("icon-offset").evaluate(pt,{},T),B.get("icon-anchor").evaluate(pt,{},T)),ka=Ji.sdf,r.sdfIcons===void 0?r.sdfIcons=Ji.sdf:r.sdfIcons!==Ji.sdf&&At("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ji.pixelRatio!==r.pixelRatio||B.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}var $o=yv(nn.horizontal)||nn.vertical;r.iconsInText=!!$o&&$o.iconsInText,($o||Uo)&&function(fr,ii,Qr,Pr,Da,da,Ir,lo,ma,pr,Xn){var Ls=da.textMaxSize.evaluate(ii,{});Ls===void 0&&(Ls=Ir);var xo,hr=fr.layers[0].layout,Cu=hr.get("icon-offset").evaluate(ii,{},Xn),ga=yv(Qr.horizontal),oh=Ir/24,op=fr.tilePixelRatio*oh,ah=fr.tilePixelRatio*Ls/24,gc=fr.tilePixelRatio*lo,sh=fr.tilePixelRatio*hr.get("symbol-spacing"),lh=hr.get("text-padding")*fr.tilePixelRatio,uh=hr.get("icon-padding")*fr.tilePixelRatio,Ys=hr.get("text-max-angle")/180*Math.PI,AA=hr.get("text-rotation-alignment")==="map"&&hr.get("symbol-placement")!=="point",ap=hr.get("icon-rotation-alignment")==="map"&&hr.get("symbol-placement")!=="point",pi=hr.get("symbol-placement"),Qi=sh/2,sp=hr.get("icon-text-fit");Pr&&sp!=="none"&&(fr.allowVerticalPlacement&&Qr.vertical&&(xo=lA(Pr,Qr.vertical,sp,hr.get("icon-text-fit-padding"),Cu,oh)),ga&&(Pr=lA(Pr,ga,sp,hr.get("icon-text-fit-padding"),Cu,oh)));var df=function(wl,ph){ph.x<0||ph.x>=8192||ph.y<0||ph.y>=8192||function(eo,Or,zb,_c,hh,Mv,Dd,Eu,Fd,bA,Bd,zd,Tm,Lv,wA,Rv,Dv,Fv,Nd,Bv,Xa,Ud,zv,ku,Pa){var ms,cp,Ah,dh,fp,mh=eo.addToLineVertexArray(Or,zb),Nv=0,Uv=0,Im=0,$v=0,Om=-1,Mm=-1,Pu={},Lm=Be(""),Rm=0,Dm=0;if(Eu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Rm=(ms=Eu.layout.get("text-offset").evaluate(Xa,{},ku).map(function(EA){return 24*EA}))[0],Dm=ms[1]):(Rm=24*Eu.layout.get("text-radial-offset").evaluate(Xa,{},ku),Dm=_m),eo.allowVerticalPlacement&&_c.vertical){var jv=Eu.layout.get("text-rotate").evaluate(Xa,{},ku)+90;dh=new cA(Fd,Or,bA,Bd,zd,_c.vertical,Tm,Lv,wA,jv),Dd&&(fp=new cA(Fd,Or,bA,Bd,zd,Dd,Dv,Fv,wA,jv))}if(hh){var Fm=Eu.layout.get("icon-rotate").evaluate(Xa,{}),pp=Eu.layout.get("icon-text-fit")!=="none",Vv=Av(hh,Fm,zv,pp),Bm=Dd?Av(Dd,Fm,zv,pp):void 0;Ah=new cA(Fd,Or,bA,Bd,zd,hh,Dv,Fv,!1,Fm),Nv=4*Vv.length;var Hv=eo.iconSizeData,SA=null;Hv.kind==="source"?(SA=[128*Eu.layout.get("icon-size").evaluate(Xa,{})])[0]>32640&&At(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Hv.kind==="composite"&&((SA=[128*Ud.compositeIconSizes[0].evaluate(Xa,{},ku),128*Ud.compositeIconSizes[1].evaluate(Xa,{},ku)])[0]>32640||SA[1]>32640)&&At(eo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),eo.addSymbols(eo.icon,Vv,SA,Bv,Nd,Xa,!1,Or,mh.lineStartIndex,mh.lineLength,-1,ku),Om=eo.icon.placedSymbolArray.length-1,Bm&&(Uv=4*Bm.length,eo.addSymbols(eo.icon,Bm,SA,Bv,Nd,Xa,Ms.vertical,Or,mh.lineStartIndex,mh.lineLength,-1,ku),Mm=eo.icon.placedSymbolArray.length-1)}for(var qv in _c.horizontal){var CA=_c.horizontal[qv];if(!cp){Lm=Be(CA.text);var Gv=Eu.layout.get("text-rotate").evaluate(Xa,{},ku);cp=new cA(Fd,Or,bA,Bd,zd,CA,Tm,Lv,wA,Gv)}var Qv=CA.positionedLines.length===1;if(Im+=gv(eo,Or,CA,Mv,Eu,wA,Xa,Rv,mh,_c.vertical?Ms.horizontal:Ms.horizontalOnly,Qv?Object.keys(_c.horizontal):[qv],Pu,Om,Ud,ku),Qv)break}_c.vertical&&($v+=gv(eo,Or,_c.vertical,Mv,Eu,wA,Xa,Rv,mh,Ms.vertical,["vertical"],Pu,Mm,Ud,ku));var Nb=cp?cp.boxStartIndex:eo.collisionBoxArray.length,Ub=cp?cp.boxEndIndex:eo.collisionBoxArray.length,$b=dh?dh.boxStartIndex:eo.collisionBoxArray.length,jb=dh?dh.boxEndIndex:eo.collisionBoxArray.length,Vb=Ah?Ah.boxStartIndex:eo.collisionBoxArray.length,Hb=Ah?Ah.boxEndIndex:eo.collisionBoxArray.length,qb=fp?fp.boxStartIndex:eo.collisionBoxArray.length,Gb=fp?fp.boxEndIndex:eo.collisionBoxArray.length,Tu=-1,$d=function(EA,Kv){return EA&&EA.circleDiameter?Math.max(EA.circleDiameter,Kv):Kv};Tu=$d(cp,Tu),Tu=$d(dh,Tu),Tu=$d(Ah,Tu);var Wv=(Tu=$d(fp,Tu))>-1?1:0;Wv&&(Tu*=Pa/24),eo.glyphOffsetArray.length>=Zr.MAX_GLYPHS&&At("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xa.sortKey!==void 0&&eo.addToSortKeyRanges(eo.symbolInstances.length,Xa.sortKey),eo.symbolInstances.emplaceBack(Or.x,Or.y,Pu.right>=0?Pu.right:-1,Pu.center>=0?Pu.center:-1,Pu.left>=0?Pu.left:-1,Pu.vertical||-1,Om,Mm,Lm,Nb,Ub,$b,jb,Vb,Hb,qb,Gb,bA,Im,$v,Nv,Uv,Wv,0,Tm,Rm,Dm,Tu)}(fr,ph,wl,Qr,Pr,Da,xo,fr.layers[0],fr.collisionBoxArray,ii.index,ii.sourceLayerIndex,fr.index,op,lh,AA,ma,gc,uh,ap,Cu,ii,da,pr,Xn,Ir)};if(pi==="line")for(var ch=0,Md=hv(ii.geometry,0,0,8192,8192);ch<Md.length;ch+=1)for(var Ld=Md[ch],dA=0,mA=wb(Ld,sh,Ys,Qr.vertical||ga,Pr,24,ah,fr.overscaling,8192);dA<mA.length;dA+=1){var gA=mA[dA];ga&&kb(fr,ga.text,Qi,gA)||df(Ld,gA)}else if(pi==="line-center")for(var yc=0,lp=ii.geometry;yc<lp.length;yc+=1){var yA=lp[yc];if(yA.length>1){var vA=bb(yA,Ys,Qr.vertical||ga,Pr,24,ah);vA&&df(yA,vA)}}else if(ii.type==="Polygon")for(var vc=0,Za=lm(ii.geometry,0);vc<Za.length;vc+=1){var jl=Za[vc],_A=Cb(jl,16);df(jl[0],new Yf(_A.x,_A.y,0))}else if(ii.type==="LineString")for(var up=0,xA=ii.geometry;up<xA.length;up+=1){var fh=xA[up];df(fh,new Yf(fh[0].x,fh[0].y,0))}else if(ii.type==="Point")for(var km=0,Pm=ii.geometry;km<Pm.length;km+=1)for(var Vl=0,br=Pm[km];Vl<br.length;Vl+=1){var Rd=br[Vl];df([Rd],new Yf(Rd.x,Rd.y,0))}}(r,pt,nn,Uo,g,W,Zt,gn,on,ka,T)},ot=0,ft=r.features;ot<ft.length;ot+=1)nt();C&&r.generateCollisionDebugBuffers()},o.perspective=function(r,a,u,g,b){var C,T=1/Math.tan(a/2);return r[0]=T/u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,b!=null&&b!==1/0?(r[10]=(b+g)*(C=1/(g-b)),r[14]=2*b*g*C):(r[10]=-1,r[14]=-2*g),r},o.pick=function(r,a){for(var u={},g=0;g<a.length;g++){var b=a[g];b in r&&(u[b]=r[b])}return u},o.plugin=rr,o.polygonIntersectsPolygon=wa,o.postMapLoadEvent=Ct,o.postTurnstileEvent=be,o.potpack=rv,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=an,o.registerForPluginStateChange=function(r){return r({pluginStatus:mo,pluginURL:Va}),nf.on("pluginStateChange",r),r},o.renderColorRamp=fd,o.rotate=function(r,a,u){var g=a[0],b=a[1],C=a[2],T=a[3],B=Math.sin(u),j=Math.cos(u);return r[0]=g*j+C*B,r[1]=b*j+T*B,r[2]=g*-B+C*j,r[3]=b*-B+T*j,r},o.rotateX=function(r,a,u){var g=Math.sin(u),b=Math.cos(u),C=a[4],T=a[5],B=a[6],j=a[7],W=a[8],Z=a[9],Y=a[10],ue=a[11];return a!==r&&(r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15]),r[4]=C*b+W*g,r[5]=T*b+Z*g,r[6]=B*b+Y*g,r[7]=j*b+ue*g,r[8]=W*b-C*g,r[9]=Z*b-T*g,r[10]=Y*b-B*g,r[11]=ue*b-j*g,r},o.rotateZ=function(r,a,u){var g=Math.sin(u),b=Math.cos(u),C=a[0],T=a[1],B=a[2],j=a[3],W=a[4],Z=a[5],Y=a[6],ue=a[7];return a!==r&&(r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15]),r[0]=C*b+W*g,r[1]=T*b+Z*g,r[2]=B*b+Y*g,r[3]=j*b+ue*g,r[4]=W*b-C*g,r[5]=Z*b-T*g,r[6]=Y*b-B*g,r[7]=ue*b-j*g,r},o.scale=function(r,a,u){var g=u[0],b=u[1],C=u[2];return r[0]=a[0]*g,r[1]=a[1]*g,r[2]=a[2]*g,r[3]=a[3]*g,r[4]=a[4]*b,r[5]=a[5]*b,r[6]=a[6]*b,r[7]=a[7]*b,r[8]=a[8]*C,r[9]=a[9]*C,r[10]=a[10]*C,r[11]=a[11]*C,r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r},o.scale$1=function(r,a,u){return r[0]=a[0]*u,r[1]=a[1]*u,r[2]=a[2]*u,r[3]=a[3]*u,r},o.scale$2=function(r,a,u){return r[0]=a[0]*u,r[1]=a[1]*u,r[2]=a[2]*u,r},o.setCacheLimits=function(r,a){ln=r,Gn=a},o.setRTLTextPlugin=function(r,a,u){if(u===void 0&&(u=!1),mo==="deferred"||mo==="loading"||mo==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Va=$n.resolveURL(r),mo="deferred",jf=a,tf(),u||Vp()},o.sphericalToCartesian=function(r){var a=r[0],u=r[1],g=r[2];return u+=90,u*=Math.PI/180,g*=Math.PI/180,{x:a*Math.cos(u)*Math.sin(g),y:a*Math.sin(u)*Math.sin(g),z:a*Math.cos(g)}},o.sqrLen=function(r){var a=r[0],u=r[1];return a*a+u*u},o.styleSpec=xe,o.sub=function(r,a,u){return r[0]=a[0]-u[0],r[1]=a[1]-u[1],r[2]=a[2]-u[2],r},o.symbolSize=lv,o.transformMat3=function(r,a,u){var g=a[0],b=a[1],C=a[2];return r[0]=g*u[0]+b*u[3]+C*u[6],r[1]=g*u[1]+b*u[4]+C*u[7],r[2]=g*u[2]+b*u[5]+C*u[8],r},o.transformMat4=qf,o.translate=function(r,a,u){var g,b,C,T,B,j,W,Z,Y,ue,he,Ee,ke=u[0],He=u[1],De=u[2];return a===r?(r[12]=a[0]*ke+a[4]*He+a[8]*De+a[12],r[13]=a[1]*ke+a[5]*He+a[9]*De+a[13],r[14]=a[2]*ke+a[6]*He+a[10]*De+a[14],r[15]=a[3]*ke+a[7]*He+a[11]*De+a[15]):(b=a[1],C=a[2],T=a[3],B=a[4],j=a[5],W=a[6],Z=a[7],Y=a[8],ue=a[9],he=a[10],Ee=a[11],r[0]=g=a[0],r[1]=b,r[2]=C,r[3]=T,r[4]=B,r[5]=j,r[6]=W,r[7]=Z,r[8]=Y,r[9]=ue,r[10]=he,r[11]=Ee,r[12]=g*ke+B*He+Y*De+a[12],r[13]=b*ke+j*He+ue*De+a[13],r[14]=C*ke+W*He+he*De+a[14],r[15]=T*ke+Z*He+Ee*De+a[15]),r},o.triggerPluginCompletionEvent=$l,o.uniqueId=pe,o.validateCustomStyleLayer=function(r){var a=[],u=r.id;return u===void 0&&a.push({message:"layers."+u+': missing required property "id"'}),r.render===void 0&&a.push({message:"layers."+u+': missing required method "render"'}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&a.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),a},o.validateLight=Jc,o.validateStyle=ps,o.values=function(r){var a=[];for(var u in r)a.push(r[u]);return a},o.vectorTile=wu,o.version="1.15.3",o.warnOnce=At,o.webpSupported=Yr,o.window=z,o.wrap=V}),l(["./shared"],function(o){function x(J){var se=typeof J;if(se==="number"||se==="boolean"||se==="string"||J==null)return JSON.stringify(J);if(Array.isArray(J)){for(var fe="[",ve=0,Ie=J;ve<Ie.length;ve+=1)fe+=x(Ie[ve])+",";return fe+"]"}for(var Ue=Object.keys(J).sort(),Ge="{",Ne=0;Ne<Ue.length;Ne++)Ge+=JSON.stringify(Ue[Ne])+":"+x(J[Ue[Ne]])+",";return Ge+"}"}function S(J){for(var se="",fe=0,ve=o.refProperties;fe<ve.length;fe+=1)se+="/"+x(J[ve[fe]]);return se}var P=function(J){this.keyCache={},J&&this.replace(J)};P.prototype.replace=function(J){this._layerConfigs={},this._layers={},this.update(J,[])},P.prototype.update=function(J,se){for(var fe=this,ve=0,Ie=J;ve<Ie.length;ve+=1){var Ue=Ie[ve];this._layerConfigs[Ue.id]=Ue;var Ge=this._layers[Ue.id]=o.createStyleLayer(Ue);Ge._featureFilter=o.featureFilter(Ge.filter),this.keyCache[Ue.id]&&delete this.keyCache[Ue.id]}for(var Ne=0,xe=se;Ne<xe.length;Ne+=1){var ae=xe[Ne];delete this.keyCache[ae],delete this._layerConfigs[ae],delete this._layers[ae]}this.familiesBySource={};for(var Ve=0,lt=function(It,bt){for(var hn={},fn=0;fn<It.length;fn++){var Qt=bt&&bt[It[fn].id]||S(It[fn]);bt&&(bt[It[fn].id]=Qt);var dr=hn[Qt];dr||(dr=hn[Qt]=[]),dr.push(It[fn])}var Jn=[];for(var Dr in hn)Jn.push(hn[Dr]);return Jn}(o.values(this._layerConfigs),this.keyCache);Ve<lt.length;Ve+=1){var We=lt[Ve].map(function(It){return fe._layers[It.id]}),A=We[0];if(A.visibility!=="none"){var ye=A.source||"",Lt=this.familiesBySource[ye];Lt||(Lt=this.familiesBySource[ye]={});var $t=A.sourceLayer||"_geojsonTileLayer",ct=Lt[$t];ct||(ct=Lt[$t]=[]),ct.push(We)}}};var M=function(J){var se={},fe=[];for(var ve in J){var Ie=J[ve],Ue=se[ve]={};for(var Ge in Ie){var Ne=Ie[+Ge];if(Ne&&Ne.bitmap.width!==0&&Ne.bitmap.height!==0){var xe={x:0,y:0,w:Ne.bitmap.width+2,h:Ne.bitmap.height+2};fe.push(xe),Ue[Ge]={rect:xe,metrics:Ne.metrics}}}}var ae=o.potpack(fe),Ve=new o.AlphaImage({width:ae.w||1,height:ae.h||1});for(var lt in J){var We=J[lt];for(var A in We){var ye=We[+A];if(ye&&ye.bitmap.width!==0&&ye.bitmap.height!==0){var Lt=se[lt][A].rect;o.AlphaImage.copy(ye.bitmap,Ve,{x:0,y:0},{x:Lt.x+1,y:Lt.y+1},ye.bitmap)}}}this.image=Ve,this.positions=se};o.register("GlyphAtlas",M);var D=function(J){this.tileID=new o.OverscaledTileID(J.tileID.overscaledZ,J.tileID.wrap,J.tileID.canonical.z,J.tileID.canonical.x,J.tileID.canonical.y),this.uid=J.uid,this.zoom=J.zoom,this.pixelRatio=J.pixelRatio,this.tileSize=J.tileSize,this.source=J.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=J.showCollisionBoxes,this.collectResourceTiming=!!J.collectResourceTiming,this.returnDependencies=!!J.returnDependencies,this.promoteId=J.promoteId};function z(J,se,fe){for(var ve=new o.EvaluationParameters(se),Ie=0,Ue=J;Ie<Ue.length;Ie+=1)Ue[Ie].recalculate(ve,fe)}function U(J,se){var fe=o.getArrayBuffer(J.request,function(ve,Ie,Ue,Ge){ve?se(ve):Ie&&se(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(Ie)),rawData:Ie,cacheControl:Ue,expires:Ge})});return function(){fe.cancel(),se()}}D.prototype.parse=function(J,se,fe,ve,Ie){var Ue=this;this.status="parsing",this.data=J,this.collisionBoxArray=new o.CollisionBoxArray;var Ge=new o.DictionaryCoder(Object.keys(J.layers).sort()),Ne=new o.FeatureIndex(this.tileID,this.promoteId);Ne.bucketLayerIDs=[];var xe,ae,Ve,lt,We={},A={featureIndex:Ne,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:fe},ye=se.familiesBySource[this.source];for(var Lt in ye){var $t=J.layers[Lt];if($t){$t.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+Lt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var ct=Ge.encode(Lt),It=[],bt=0;bt<$t.length;bt++){var hn=$t.feature(bt),fn=Ne.getId(hn,Lt);It.push({feature:hn,id:fn,index:bt,sourceLayerIndex:ct})}for(var Qt=0,dr=ye[Lt];Qt<dr.length;Qt+=1){var Jn=dr[Qt],Dr=Jn[0];Dr.minzoom&&this.zoom<Math.floor(Dr.minzoom)||Dr.maxzoom&&this.zoom>=Dr.maxzoom||Dr.visibility!=="none"&&(z(Jn,this.zoom,fe),(We[Dr.id]=Dr.createBucket({index:Ne.bucketLayerIDs.length,layers:Jn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ct,sourceID:this.source})).populate(It,A,this.tileID.canonical),Ne.bucketLayerIDs.push(Jn.map(function(Sr){return Sr.id})))}}}var gr=o.mapObject(A.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(gr).length?ve.send("getGlyphs",{uid:this.uid,stacks:gr},function(Sr,Xt){xe||(xe=Sr,ae=Xt,Ai.call(Ue))}):ae={};var lr=Object.keys(A.iconDependencies);lr.length?ve.send("getImages",{icons:lr,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,Xt){xe||(xe=Sr,Ve=Xt,Ai.call(Ue))}):Ve={};var vr=Object.keys(A.patternDependencies);function Ai(){if(xe)return Ie(xe);if(ae&&Ve&&lt){var Sr=new M(ae),Xt=new o.ImageAtlas(Ve,lt);for(var Qe in We){var wn=We[Qe];wn instanceof o.SymbolBucket?(z(wn.layers,this.zoom,fe),o.performSymbolLayout(wn,ae,Sr.positions,Ve,Xt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):wn.hasPattern&&(wn instanceof o.LineBucket||wn instanceof o.FillBucket||wn instanceof o.FillExtrusionBucket)&&(z(wn.layers,this.zoom,fe),wn.addFeatures(A,this.tileID.canonical,Xt.patternPositions))}this.status="done",Ie(null,{buckets:o.values(We).filter(function(al){return!al.isEmpty()}),featureIndex:Ne,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:Xt,glyphMap:this.returnDependencies?ae:null,iconMap:this.returnDependencies?Ve:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}vr.length?ve.send("getImages",{icons:vr,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,Xt){xe||(xe=Sr,lt=Xt,Ai.call(Ue))}):lt={},Ai.call(this)};var q=function(J,se,fe,ve){this.actor=J,this.layerIndex=se,this.availableImages=fe,this.loadVectorData=ve||U,this.loading={},this.loaded={}};q.prototype.loadTile=function(J,se){var fe=this,ve=J.uid;this.loading||(this.loading={});var Ie=!!(J&&J.request&&J.request.collectResourceTiming)&&new o.RequestPerformance(J.request),Ue=this.loading[ve]=new D(J);Ue.abort=this.loadVectorData(J,function(Ge,Ne){if(delete fe.loading[ve],Ge||!Ne)return Ue.status="done",fe.loaded[ve]=Ue,se(Ge);var xe=Ne.rawData,ae={};Ne.expires&&(ae.expires=Ne.expires),Ne.cacheControl&&(ae.cacheControl=Ne.cacheControl);var Ve={};if(Ie){var lt=Ie.finish();lt&&(Ve.resourceTiming=JSON.parse(JSON.stringify(lt)))}Ue.vectorTile=Ne.vectorTile,Ue.parse(Ne.vectorTile,fe.layerIndex,fe.availableImages,fe.actor,function(We,A){if(We||!A)return se(We);se(null,o.extend({rawTileData:xe.slice(0)},A,ae,Ve))}),fe.loaded=fe.loaded||{},fe.loaded[ve]=Ue})},q.prototype.reloadTile=function(J,se){var fe=this,ve=this.loaded,Ie=J.uid,Ue=this;if(ve&&ve[Ie]){var Ge=ve[Ie];Ge.showCollisionBoxes=J.showCollisionBoxes;var Ne=function(xe,ae){var Ve=Ge.reloadCallback;Ve&&(delete Ge.reloadCallback,Ge.parse(Ge.vectorTile,Ue.layerIndex,fe.availableImages,Ue.actor,Ve)),se(xe,ae)};Ge.status==="parsing"?Ge.reloadCallback=Ne:Ge.status==="done"&&(Ge.vectorTile?Ge.parse(Ge.vectorTile,this.layerIndex,this.availableImages,this.actor,Ne):Ne())}},q.prototype.abortTile=function(J,se){var fe=this.loading,ve=J.uid;fe&&fe[ve]&&fe[ve].abort&&(fe[ve].abort(),delete fe[ve]),se()},q.prototype.removeTile=function(J,se){var fe=this.loaded,ve=J.uid;fe&&fe[ve]&&delete fe[ve],se()};var K=o.window.ImageBitmap,ee=function(){this.loaded={}};function V(J,se){if(J.length!==0){X(J[0],se);for(var fe=1;fe<J.length;fe++)X(J[fe],!se)}}function X(J,se){for(var fe=0,ve=0,Ie=J.length,Ue=Ie-1;ve<Ie;Ue=ve++)fe+=(J[ve][0]-J[Ue][0])*(J[Ue][1]+J[ve][1]);fe>=0!=!!se&&J.reverse()}ee.prototype.loadTile=function(J,se){var fe=J.uid,ve=J.encoding,Ie=J.rawImageData,Ue=K&&Ie instanceof K?this.getImageData(Ie):Ie,Ge=new o.DEMData(fe,Ue,ve);this.loaded=this.loaded||{},this.loaded[fe]=Ge,se(null,Ge)},ee.prototype.getImageData=function(J){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(J.width,J.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=J.width,this.offscreenCanvas.height=J.height,this.offscreenCanvasContext.drawImage(J,0,0,J.width,J.height);var se=this.offscreenCanvasContext.getImageData(-1,-1,J.width+2,J.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:se.width,height:se.height},se.data)},ee.prototype.removeTile=function(J){var se=this.loaded,fe=J.uid;se&&se[fe]&&delete se[fe]};var ne=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,pe=function(J){this._feature=J,this.extent=o.EXTENT,this.type=J.type,this.properties=J.tags,"id"in J&&!isNaN(J.id)&&(this.id=parseInt(J.id,10))};pe.prototype.loadGeometry=function(){if(this._feature.type===1){for(var J=[],se=0,fe=this._feature.geometry;se<fe.length;se+=1){var ve=fe[se];J.push([new o.Point$1(ve[0],ve[1])])}return J}for(var Ie=[],Ue=0,Ge=this._feature.geometry;Ue<Ge.length;Ue+=1){for(var Ne=[],xe=0,ae=Ge[Ue];xe<ae.length;xe+=1){var Ve=ae[xe];Ne.push(new o.Point$1(Ve[0],Ve[1]))}Ie.push(Ne)}return Ie},pe.prototype.toGeoJSON=function(J,se,fe){return ne.call(this,J,se,fe)};var me=function(J){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=J.length,this._features=J};me.prototype.feature=function(J){return new pe(this._features[J])};var oe=o.vectorTile.VectorTileFeature,we=Ce;function Ce(J,se){this.options=se||{},this.features=J,this.length=J.length}function je(J,se){this.id=typeof J.id=="number"?J.id:void 0,this.type=J.type,this.rawGeometry=J.type===1?[J.geometry]:J.geometry,this.properties=J.tags,this.extent=se||4096}Ce.prototype.feature=function(J){return new je(this.features[J],this.options.extent)},je.prototype.loadGeometry=function(){var J=this.rawGeometry;this.geometry=[];for(var se=0;se<J.length;se++){for(var fe=J[se],ve=[],Ie=0;Ie<fe.length;Ie++)ve.push(new o.Point$1(fe[Ie][0],fe[Ie][1]));this.geometry.push(ve)}return this.geometry},je.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var J=this.geometry,se=1/0,fe=-1/0,ve=1/0,Ie=-1/0,Ue=0;Ue<J.length;Ue++)for(var Ge=J[Ue],Ne=0;Ne<Ge.length;Ne++){var xe=Ge[Ne];se=Math.min(se,xe.x),fe=Math.max(fe,xe.x),ve=Math.min(ve,xe.y),Ie=Math.max(Ie,xe.y)}return[se,ve,fe,Ie]},je.prototype.toGeoJSON=oe.prototype.toGeoJSON;var tt=rt,qe=we;function rt(J){var se=new o.pbf;return function(fe,ve){for(var Ie in fe.layers)ve.writeMessage(3,At,fe.layers[Ie])}(J,se),se.finish()}function At(J,se){var fe;se.writeVarintField(15,J.version||1),se.writeStringField(1,J.name||""),se.writeVarintField(5,J.extent||4096);var ve={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<J.length;fe++)ve.feature=J.feature(fe),se.writeMessage(2,Ot,ve);var Ie=ve.keys;for(fe=0;fe<Ie.length;fe++)se.writeStringField(3,Ie[fe]);var Ue=ve.values;for(fe=0;fe<Ue.length;fe++)se.writeMessage(4,Me,Ue[fe])}function Ot(J,se){var fe=J.feature;fe.id!==void 0&&se.writeVarintField(1,fe.id),se.writeMessage(2,Vt,J),se.writeVarintField(3,fe.type),se.writeMessage(4,st,fe)}function Vt(J,se){var fe=J.feature,ve=J.keys,Ie=J.values,Ue=J.keycache,Ge=J.valuecache;for(var Ne in fe.properties){var xe=Ue[Ne];xe===void 0&&(ve.push(Ne),Ue[Ne]=xe=ve.length-1),se.writeVarint(xe);var ae=fe.properties[Ne],Ve=typeof ae;Ve!=="string"&&Ve!=="boolean"&&Ve!=="number"&&(ae=JSON.stringify(ae));var lt=Ve+":"+ae,We=Ge[lt];We===void 0&&(Ie.push(ae),Ge[lt]=We=Ie.length-1),se.writeVarint(We)}}function Jt(J,se){return(se<<3)+(7&J)}function bn(J){return J<<1^J>>31}function st(J,se){for(var fe=J.loadGeometry(),ve=J.type,Ie=0,Ue=0,Ge=fe.length,Ne=0;Ne<Ge;Ne++){var xe=fe[Ne],ae=1;ve===1&&(ae=xe.length),se.writeVarint(Jt(1,ae));for(var Ve=ve===3?xe.length-1:xe.length,lt=0;lt<Ve;lt++){lt===1&&ve!==1&&se.writeVarint(Jt(2,Ve-1));var We=xe[lt].x-Ie,A=xe[lt].y-Ue;se.writeVarint(bn(We)),se.writeVarint(bn(A)),Ie+=We,Ue+=A}ve===3&&se.writeVarint(Jt(7,1))}}function Me(J,se){var fe=typeof J;fe==="string"?se.writeStringField(1,J):fe==="boolean"?se.writeBooleanField(7,J):fe==="number"&&(J%1!=0?se.writeDoubleField(3,J):J<0?se.writeSVarintField(6,J):se.writeVarintField(5,J))}function Le(J,se,fe,ve){re(J,fe,ve),re(se,2*fe,2*ve),re(se,2*fe+1,2*ve+1)}function re(J,se,fe){var ve=J[se];J[se]=J[fe],J[fe]=ve}function ge(J,se,fe,ve){var Ie=J-fe,Ue=se-ve;return Ie*Ie+Ue*Ue}tt.fromVectorTileJs=rt,tt.fromGeojsonVt=function(J,se){se=se||{};var fe={};for(var ve in J)fe[ve]=new we(J[ve].features,se),fe[ve].name=ve,fe[ve].version=se.version,fe[ve].extent=se.extent;return rt({layers:fe})},tt.GeoJSONWrapper=qe;var Mt=function(J){return J[0]},en=function(J){return J[1]},vn=function(J,se,fe,ve,Ie){se===void 0&&(se=Mt),fe===void 0&&(fe=en),ve===void 0&&(ve=64),Ie===void 0&&(Ie=Float64Array),this.nodeSize=ve,this.points=J;for(var Ue=J.length<65536?Uint16Array:Uint32Array,Ge=this.ids=new Ue(J.length),Ne=this.coords=new Ie(2*J.length),xe=0;xe<J.length;xe++)Ge[xe]=xe,Ne[2*xe]=se(J[xe]),Ne[2*xe+1]=fe(J[xe]);(function ae(Ve,lt,We,A,ye,Lt){if(!(ye-A<=We)){var $t=A+ye>>1;(function ct(It,bt,hn,fn,Qt,dr){for(;Qt>fn;){if(Qt-fn>600){var Jn=Qt-fn+1,Dr=hn-fn+1,gr=Math.log(Jn),lr=.5*Math.exp(2*gr/3),vr=.5*Math.sqrt(gr*lr*(Jn-lr)/Jn)*(Dr-Jn/2<0?-1:1);ct(It,bt,hn,Math.max(fn,Math.floor(hn-Dr*lr/Jn+vr)),Math.min(Qt,Math.floor(hn+(Jn-Dr)*lr/Jn+vr)),dr)}var Ai=bt[2*hn+dr],Sr=fn,Xt=Qt;for(Le(It,bt,fn,hn),bt[2*Qt+dr]>Ai&&Le(It,bt,fn,Qt);Sr<Xt;){for(Le(It,bt,Sr,Xt),Sr++,Xt--;bt[2*Sr+dr]<Ai;)Sr++;for(;bt[2*Xt+dr]>Ai;)Xt--}bt[2*fn+dr]===Ai?Le(It,bt,fn,Xt):Le(It,bt,++Xt,Qt),Xt<=hn&&(fn=Xt+1),hn<=Xt&&(Qt=Xt-1)}})(Ve,lt,$t,A,ye,Lt%2),ae(Ve,lt,We,A,$t-1,Lt+1),ae(Ve,lt,We,$t+1,ye,Lt+1)}})(Ge,Ne,ve,0,Ge.length-1,0)};vn.prototype.range=function(J,se,fe,ve){return function(Ie,Ue,Ge,Ne,xe,ae,Ve){for(var lt,We,A=[0,Ie.length-1,0],ye=[];A.length;){var Lt=A.pop(),$t=A.pop(),ct=A.pop();if($t-ct<=Ve)for(var It=ct;It<=$t;It++)We=Ue[2*It+1],(lt=Ue[2*It])>=Ge&&lt<=xe&&We>=Ne&&We<=ae&&ye.push(Ie[It]);else{var bt=Math.floor((ct+$t)/2);We=Ue[2*bt+1],(lt=Ue[2*bt])>=Ge&&lt<=xe&&We>=Ne&&We<=ae&&ye.push(Ie[bt]);var hn=(Lt+1)%2;(Lt===0?Ge<=lt:Ne<=We)&&(A.push(ct),A.push(bt-1),A.push(hn)),(Lt===0?xe>=lt:ae>=We)&&(A.push(bt+1),A.push($t),A.push(hn))}}return ye}(this.ids,this.coords,J,se,fe,ve,this.nodeSize)},vn.prototype.within=function(J,se,fe){return function(ve,Ie,Ue,Ge,Ne,xe){for(var ae=[0,ve.length-1,0],Ve=[],lt=Ne*Ne;ae.length;){var We=ae.pop(),A=ae.pop(),ye=ae.pop();if(A-ye<=xe)for(var Lt=ye;Lt<=A;Lt++)ge(Ie[2*Lt],Ie[2*Lt+1],Ue,Ge)<=lt&&Ve.push(ve[Lt]);else{var $t=Math.floor((ye+A)/2),ct=Ie[2*$t],It=Ie[2*$t+1];ge(ct,It,Ue,Ge)<=lt&&Ve.push(ve[$t]);var bt=(We+1)%2;(We===0?Ue-Ne<=ct:Ge-Ne<=It)&&(ae.push(ye),ae.push($t-1),ae.push(bt)),(We===0?Ue+Ne>=ct:Ge+Ne>=It)&&(ae.push($t+1),ae.push(A),ae.push(bt))}}return Ve}(this.ids,this.coords,J,se,fe,this.nodeSize)};var dn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(J){return J}},Cn=function(J){this.options=mi(Object.create(dn),J),this.trees=new Array(this.options.maxZoom+1)};function $n(J,se,fe,ve,Ie){return{x:J,y:se,zoom:1/0,id:fe,parentId:-1,numPoints:ve,properties:Ie}}function Fn(J,se){var fe=J.geometry.coordinates,ve=fe[1];return{x:Fi(fe[0]),y:jn(ve),zoom:1/0,index:se,parentId:-1}}function Yr(J){return{type:"Feature",id:J.id,properties:Vr(J),geometry:{type:"Point",coordinates:[(ve=J.x,360*(ve-.5)),(se=J.y,fe=(180-360*se)*Math.PI/180,360*Math.atan(Math.exp(fe))/Math.PI-90)]}};var se,fe,ve}function Vr(J){var se=J.numPoints,fe=se>=1e4?Math.round(se/1e3)+"k":se>=1e3?Math.round(se/100)/10+"k":se;return mi(mi({},J.properties),{cluster:!0,cluster_id:J.id,point_count:se,point_count_abbreviated:fe})}function Fi(J){return J/360+.5}function jn(J){var se=Math.sin(J*Math.PI/180),fe=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return fe<0?0:fe>1?1:fe}function mi(J,se){for(var fe in se)J[fe]=se[fe];return J}function gi(J){return J.x}function Go(J){return J.y}function Bi(J,se,fe,ve,Ie,Ue){var Ge=Ie-fe,Ne=Ue-ve;if(Ge!==0||Ne!==0){var xe=((J-fe)*Ge+(se-ve)*Ne)/(Ge*Ge+Ne*Ne);xe>1?(fe=Ie,ve=Ue):xe>0&&(fe+=Ge*xe,ve+=Ne*xe)}return(Ge=J-fe)*Ge+(Ne=se-ve)*Ne}function Wi(J,se,fe,ve){var Ie={id:J===void 0?null:J,type:se,geometry:fe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ue){var Ge=Ue.geometry,Ne=Ue.type;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")Ss(Ue,Ge);else if(Ne==="Polygon"||Ne==="MultiLineString")for(var xe=0;xe<Ge.length;xe++)Ss(Ue,Ge[xe]);else if(Ne==="MultiPolygon")for(xe=0;xe<Ge.length;xe++)for(var ae=0;ae<Ge[xe].length;ae++)Ss(Ue,Ge[xe][ae])}(Ie),Ie}function Ss(J,se){for(var fe=0;fe<se.length;fe+=3)J.minX=Math.min(J.minX,se[fe]),J.minY=Math.min(J.minY,se[fe+1]),J.maxX=Math.max(J.maxX,se[fe]),J.maxY=Math.max(J.maxY,se[fe+1])}function ro(J,se,fe,ve){if(se.geometry){var Ie=se.geometry.coordinates,Ue=se.geometry.type,Ge=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),Ne=[],xe=se.id;if(fe.promoteId?xe=se.properties[fe.promoteId]:fe.generateId&&(xe=ve||0),Ue==="Point")Kr(Ie,Ne);else if(Ue==="MultiPoint")for(var ae=0;ae<Ie.length;ae++)Kr(Ie[ae],Ne);else if(Ue==="LineString")Lo(Ie,Ne,Ge,!1);else if(Ue==="MultiLineString"){if(fe.lineMetrics){for(ae=0;ae<Ie.length;ae++)Lo(Ie[ae],Ne=[],Ge,!1),J.push(Wi(xe,"LineString",Ne,se.properties));return}io(Ie,Ne,Ge,!1)}else if(Ue==="Polygon")io(Ie,Ne,Ge,!0);else{if(Ue!=="MultiPolygon"){if(Ue==="GeometryCollection"){for(ae=0;ae<se.geometry.geometries.length;ae++)ro(J,{id:xe,geometry:se.geometry.geometries[ae],properties:se.properties},fe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ae=0;ae<Ie.length;ae++){var Ve=[];io(Ie[ae],Ve,Ge,!0),Ne.push(Ve)}}J.push(Wi(xe,Ue,Ne,se.properties))}}function Kr(J,se){se.push(bi(J[0])),se.push(Ro(J[1])),se.push(0)}function Lo(J,se,fe,ve){for(var Ie,Ue,Ge=0,Ne=0;Ne<J.length;Ne++){var xe=bi(J[Ne][0]),ae=Ro(J[Ne][1]);se.push(xe),se.push(ae),se.push(0),Ne>0&&(Ge+=ve?(Ie*ae-xe*Ue)/2:Math.sqrt(Math.pow(xe-Ie,2)+Math.pow(ae-Ue,2))),Ie=xe,Ue=ae}var Ve=se.length-3;se[2]=1,function lt(We,A,ye,Lt){for(var $t,ct=Lt,It=ye-A>>1,bt=ye-A,hn=We[A],fn=We[A+1],Qt=We[ye],dr=We[ye+1],Jn=A+3;Jn<ye;Jn+=3){var Dr=Bi(We[Jn],We[Jn+1],hn,fn,Qt,dr);if(Dr>ct)$t=Jn,ct=Dr;else if(Dr===ct){var gr=Math.abs(Jn-It);gr<bt&&($t=Jn,bt=gr)}}ct>Lt&&($t-A>3&&lt(We,A,$t,Lt),We[$t+2]=ct,ye-$t>3&&lt(We,$t,ye,Lt))}(se,0,Ve,fe),se[Ve+2]=1,se.size=Math.abs(Ge),se.start=0,se.end=se.size}function io(J,se,fe,ve){for(var Ie=0;Ie<J.length;Ie++){var Ue=[];Lo(J[Ie],Ue,fe,ve),se.push(Ue)}}function bi(J){return J/360+.5}function Ro(J){var se=Math.sin(J*Math.PI/180),fe=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return fe<0?0:fe>1?1:fe}function la(J,se,fe,ve,Ie,Ue,Ge,Ne){if(ve/=se,Ue>=(fe/=se)&&Ge<ve)return J;if(Ge<fe||Ue>=ve)return null;for(var xe=[],ae=0;ae<J.length;ae++){var Ve=J[ae],lt=Ve.geometry,We=Ve.type,A=Ie===0?Ve.minX:Ve.minY,ye=Ie===0?Ve.maxX:Ve.maxY;if(A>=fe&&ye<ve)xe.push(Ve);else if(!(ye<fe||A>=ve)){var Lt=[];if(We==="Point"||We==="MultiPoint")vt(lt,Lt,fe,ve,Ie);else if(We==="LineString")be(lt,Lt,fe,ve,Ie,!1,Ne.lineMetrics);else if(We==="MultiLineString")Ct(lt,Lt,fe,ve,Ie,!1);else if(We==="Polygon")Ct(lt,Lt,fe,ve,Ie,!0);else if(We==="MultiPolygon")for(var $t=0;$t<lt.length;$t++){var ct=[];Ct(lt[$t],ct,fe,ve,Ie,!0),ct.length&&Lt.push(ct)}if(Lt.length){if(Ne.lineMetrics&&We==="LineString"){for($t=0;$t<Lt.length;$t++)xe.push(Wi(Ve.id,We,Lt[$t],Ve.tags));continue}We!=="LineString"&&We!=="MultiLineString"||(Lt.length===1?(We="LineString",Lt=Lt[0]):We="MultiLineString"),We!=="Point"&&We!=="MultiPoint"||(We=Lt.length===3?"Point":"MultiPoint"),xe.push(Wi(Ve.id,We,Lt,Ve.tags))}}}return xe.length?xe:null}function vt(J,se,fe,ve,Ie){for(var Ue=0;Ue<J.length;Ue+=3){var Ge=J[Ue+Ie];Ge>=fe&&Ge<=ve&&(se.push(J[Ue]),se.push(J[Ue+1]),se.push(J[Ue+2]))}}function be(J,se,fe,ve,Ie,Ue,Ge){for(var Ne,xe,ae=Je(J),Ve=Ie===0?Gn:Mr,lt=J.start,We=0;We<J.length-3;We+=3){var A=J[We],ye=J[We+1],Lt=J[We+2],$t=J[We+3],ct=J[We+4],It=Ie===0?A:ye,bt=Ie===0?$t:ct,hn=!1;Ge&&(Ne=Math.sqrt(Math.pow(A-$t,2)+Math.pow(ye-ct,2))),It<fe?bt>fe&&(xe=Ve(ae,A,ye,$t,ct,fe),Ge&&(ae.start=lt+Ne*xe)):It>ve?bt<ve&&(xe=Ve(ae,A,ye,$t,ct,ve),Ge&&(ae.start=lt+Ne*xe)):ln(ae,A,ye,Lt),bt<fe&&It>=fe&&(xe=Ve(ae,A,ye,$t,ct,fe),hn=!0),bt>ve&&It<=ve&&(xe=Ve(ae,A,ye,$t,ct,ve),hn=!0),!Ue&&hn&&(Ge&&(ae.end=lt+Ne*xe),se.push(ae),ae=Je(J)),Ge&&(lt+=Ne)}var fn=J.length-3;A=J[fn],ye=J[fn+1],Lt=J[fn+2],(It=Ie===0?A:ye)>=fe&&It<=ve&&ln(ae,A,ye,Lt),fn=ae.length-3,Ue&&fn>=3&&(ae[fn]!==ae[0]||ae[fn+1]!==ae[1])&&ln(ae,ae[0],ae[1],ae[2]),ae.length&&se.push(ae)}function Je(J){var se=[];return se.size=J.size,se.start=J.start,se.end=J.end,se}function Ct(J,se,fe,ve,Ie,Ue){for(var Ge=0;Ge<J.length;Ge++)be(J[Ge],se,fe,ve,Ie,Ue,!1)}function ln(J,se,fe,ve){J.push(se),J.push(fe),J.push(ve)}function Gn(J,se,fe,ve,Ie,Ue){var Ge=(Ue-se)/(ve-se);return J.push(Ue),J.push(fe+(Ie-fe)*Ge),J.push(1),Ge}function Mr(J,se,fe,ve,Ie,Ue){var Ge=(Ue-fe)/(Ie-fe);return J.push(se+(ve-se)*Ge),J.push(Ue),J.push(1),Ge}function Mn(J,se){for(var fe=[],ve=0;ve<J.length;ve++){var Ie,Ue=J[ve],Ge=Ue.type;if(Ge==="Point"||Ge==="MultiPoint"||Ge==="LineString")Ie=nr(Ue.geometry,se);else if(Ge==="MultiLineString"||Ge==="Polygon"){Ie=[];for(var Ne=0;Ne<Ue.geometry.length;Ne++)Ie.push(nr(Ue.geometry[Ne],se))}else if(Ge==="MultiPolygon")for(Ie=[],Ne=0;Ne<Ue.geometry.length;Ne++){for(var xe=[],ae=0;ae<Ue.geometry[Ne].length;ae++)xe.push(nr(Ue.geometry[Ne][ae],se));Ie.push(xe)}fe.push(Wi(Ue.id,Ge,Ie,Ue.tags))}return fe}function nr(J,se){var fe=[];fe.size=J.size,J.start!==void 0&&(fe.start=J.start,fe.end=J.end);for(var ve=0;ve<J.length;ve+=3)fe.push(J[ve]+se,J[ve+1],J[ve+2]);return fe}function Hr(J,se){if(J.transformed)return J;var fe,ve,Ie,Ue=1<<J.z,Ge=J.x,Ne=J.y;for(fe=0;fe<J.features.length;fe++){var xe=J.features[fe],ae=xe.geometry,Ve=xe.type;if(xe.geometry=[],Ve===1)for(ve=0;ve<ae.length;ve+=2)xe.geometry.push(Jr(ae[ve],ae[ve+1],se,Ue,Ge,Ne));else for(ve=0;ve<ae.length;ve++){var lt=[];for(Ie=0;Ie<ae[ve].length;Ie+=2)lt.push(Jr(ae[ve][Ie],ae[ve][Ie+1],se,Ue,Ge,Ne));xe.geometry.push(lt)}}return J.transformed=!0,J}function Jr(J,se,fe,ve,Ie,Ue){return[Math.round(fe*(J*ve-Ie)),Math.round(fe*(se*ve-Ue))]}function mr(J,se,fe,ve,Ie){for(var Ue=se===Ie.maxZoom?0:Ie.tolerance/((1<<se)*Ie.extent),Ge={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:ve,z:se,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ne=0;Ne<J.length;Ne++){Ge.numFeatures++,Co(Ge,J[Ne],Ue,Ie);var xe=J[Ne].minX,ae=J[Ne].minY,Ve=J[Ne].maxX,lt=J[Ne].maxY;xe<Ge.minX&&(Ge.minX=xe),ae<Ge.minY&&(Ge.minY=ae),Ve>Ge.maxX&&(Ge.maxX=Ve),lt>Ge.maxY&&(Ge.maxY=lt)}return Ge}function Co(J,se,fe,ve){var Ie=se.geometry,Ue=se.type,Ge=[];if(Ue==="Point"||Ue==="MultiPoint")for(var Ne=0;Ne<Ie.length;Ne+=3)Ge.push(Ie[Ne]),Ge.push(Ie[Ne+1]),J.numPoints++,J.numSimplified++;else if(Ue==="LineString")ei(Ge,Ie,J,fe,!1,!1);else if(Ue==="MultiLineString"||Ue==="Polygon")for(Ne=0;Ne<Ie.length;Ne++)ei(Ge,Ie[Ne],J,fe,Ue==="Polygon",Ne===0);else if(Ue==="MultiPolygon")for(var xe=0;xe<Ie.length;xe++){var ae=Ie[xe];for(Ne=0;Ne<ae.length;Ne++)ei(Ge,ae[Ne],J,fe,!0,Ne===0)}if(Ge.length){var Ve=se.tags||null;if(Ue==="LineString"&&ve.lineMetrics){for(var lt in Ve={},se.tags)Ve[lt]=se.tags[lt];Ve.mapbox_clip_start=Ie.start/Ie.size,Ve.mapbox_clip_end=Ie.end/Ie.size}var We={geometry:Ge,type:Ue==="Polygon"||Ue==="MultiPolygon"?3:Ue==="LineString"||Ue==="MultiLineString"?2:1,tags:Ve};se.id!==null&&(We.id=se.id),J.features.push(We)}}function ei(J,se,fe,ve,Ie,Ue){var Ge=ve*ve;if(ve>0&&se.size<(Ie?Ge:ve))fe.numPoints+=se.length/3;else{for(var Ne=[],xe=0;xe<se.length;xe+=3)(ve===0||se[xe+2]>Ge)&&(fe.numSimplified++,Ne.push(se[xe]),Ne.push(se[xe+1])),fe.numPoints++;Ie&&function(ae,Ve){for(var lt=0,We=0,A=ae.length,ye=A-2;We<A;ye=We,We+=2)lt+=(ae[We]-ae[ye])*(ae[We+1]+ae[ye+1]);if(lt>0===Ve)for(We=0,A=ae.length;We<A/2;We+=2){var Lt=ae[We],$t=ae[We+1];ae[We]=ae[A-2-We],ae[We+1]=ae[A-1-We],ae[A-2-We]=Lt,ae[A-1-We]=$t}}(Ne,Ue),J.push(Ne)}}function ua(J,se){var fe=(se=this.options=function(Ie,Ue){for(var Ge in Ue)Ie[Ge]=Ue[Ge];return Ie}(Object.create(this.options),se)).debug;if(fe&&console.time("preprocess data"),se.maxZoom<0||se.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(se.promoteId&&se.generateId)throw new Error("promoteId and generateId cannot be used together.");var ve=function(Ie,Ue){var Ge=[];if(Ie.type==="FeatureCollection")for(var Ne=0;Ne<Ie.features.length;Ne++)ro(Ge,Ie.features[Ne],Ue,Ne);else ro(Ge,Ie.type==="Feature"?Ie:{geometry:Ie},Ue);return Ge}(J,se);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",se.indexMaxZoom,se.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ve=function(Ie,Ue){var Ge=Ue.buffer/Ue.extent,Ne=Ie,xe=la(Ie,1,-1-Ge,Ge,0,-1,2,Ue),ae=la(Ie,1,1-Ge,2+Ge,0,-1,2,Ue);return(xe||ae)&&(Ne=la(Ie,1,-Ge,1+Ge,0,-1,2,Ue)||[],xe&&(Ne=Mn(xe,1).concat(Ne)),ae&&(Ne=Ne.concat(Mn(ae,-1)))),Ne}(ve,se)).length&&this.splitTile(ve,0,0,0),fe&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function La(J,se,fe){return 32*((1<<J)*fe+se)+J}function Ht(J,se){var fe=J.tileID.canonical;if(!this._geoJSONIndex)return se(null,null);var ve=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!ve)return se(null,null);var Ie=new me(ve.features),Ue=tt(Ie);Ue.byteOffset===0&&Ue.byteLength===Ue.buffer.byteLength||(Ue=new Uint8Array(Ue)),se(null,{vectorTile:Ie,rawData:Ue.buffer})}Cn.prototype.load=function(J){var se=this.options,fe=se.log,ve=se.minZoom,Ie=se.maxZoom,Ue=se.nodeSize;fe&&console.time("total time");var Ge="prepare "+J.length+" points";fe&&console.time(Ge),this.points=J;for(var Ne=[],xe=0;xe<J.length;xe++)J[xe].geometry&&Ne.push(Fn(J[xe],xe));this.trees[Ie+1]=new vn(Ne,gi,Go,Ue,Float32Array),fe&&console.timeEnd(Ge);for(var ae=Ie;ae>=ve;ae--){var Ve=+Date.now();Ne=this._cluster(Ne,ae),this.trees[ae]=new vn(Ne,gi,Go,Ue,Float32Array),fe&&console.log("z%d: %d clusters in %dms",ae,Ne.length,+Date.now()-Ve)}return fe&&console.timeEnd("total time"),this},Cn.prototype.getClusters=function(J,se){var fe=((J[0]+180)%360+360)%360-180,ve=Math.max(-90,Math.min(90,J[1])),Ie=J[2]===180?180:((J[2]+180)%360+360)%360-180,Ue=Math.max(-90,Math.min(90,J[3]));if(J[2]-J[0]>=360)fe=-180,Ie=180;else if(fe>Ie){var Ge=this.getClusters([fe,ve,180,Ue],se),Ne=this.getClusters([-180,ve,Ie,Ue],se);return Ge.concat(Ne)}for(var xe=this.trees[this._limitZoom(se)],ae=[],Ve=0,lt=xe.range(Fi(fe),jn(Ue),Fi(Ie),jn(ve));Ve<lt.length;Ve+=1){var We=xe.points[lt[Ve]];ae.push(We.numPoints?Yr(We):this.points[We.index])}return ae},Cn.prototype.getChildren=function(J){var se=this._getOriginId(J),fe=this._getOriginZoom(J),ve="No cluster with the specified id.",Ie=this.trees[fe];if(!Ie)throw new Error(ve);var Ue=Ie.points[se];if(!Ue)throw new Error(ve);for(var Ge=this.options.radius/(this.options.extent*Math.pow(2,fe-1)),Ne=[],xe=0,ae=Ie.within(Ue.x,Ue.y,Ge);xe<ae.length;xe+=1){var Ve=Ie.points[ae[xe]];Ve.parentId===J&&Ne.push(Ve.numPoints?Yr(Ve):this.points[Ve.index])}if(Ne.length===0)throw new Error(ve);return Ne},Cn.prototype.getLeaves=function(J,se,fe){var ve=[];return this._appendLeaves(ve,J,se=se||10,fe=fe||0,0),ve},Cn.prototype.getTile=function(J,se,fe){var ve=this.trees[this._limitZoom(J)],Ie=Math.pow(2,J),Ue=this.options,Ge=Ue.radius/Ue.extent,Ne=(fe-Ge)/Ie,xe=(fe+1+Ge)/Ie,ae={features:[]};return this._addTileFeatures(ve.range((se-Ge)/Ie,Ne,(se+1+Ge)/Ie,xe),ve.points,se,fe,Ie,ae),se===0&&this._addTileFeatures(ve.range(1-Ge/Ie,Ne,1,xe),ve.points,Ie,fe,Ie,ae),se===Ie-1&&this._addTileFeatures(ve.range(0,Ne,Ge/Ie,xe),ve.points,-1,fe,Ie,ae),ae.features.length?ae:null},Cn.prototype.getClusterExpansionZoom=function(J){for(var se=this._getOriginZoom(J)-1;se<=this.options.maxZoom;){var fe=this.getChildren(J);if(se++,fe.length!==1)break;J=fe[0].properties.cluster_id}return se},Cn.prototype._appendLeaves=function(J,se,fe,ve,Ie){for(var Ue=0,Ge=this.getChildren(se);Ue<Ge.length;Ue+=1){var Ne=Ge[Ue],xe=Ne.properties;if(xe&&xe.cluster?Ie+xe.point_count<=ve?Ie+=xe.point_count:Ie=this._appendLeaves(J,xe.cluster_id,fe,ve,Ie):Ie<ve?Ie++:J.push(Ne),J.length===fe)break}return Ie},Cn.prototype._addTileFeatures=function(J,se,fe,ve,Ie,Ue){for(var Ge=0,Ne=J;Ge<Ne.length;Ge+=1){var xe=se[Ne[Ge]],ae=xe.numPoints,Ve={type:1,geometry:[[Math.round(this.options.extent*(xe.x*Ie-fe)),Math.round(this.options.extent*(xe.y*Ie-ve))]],tags:ae?Vr(xe):this.points[xe.index].properties},lt=void 0;ae?lt=xe.id:this.options.generateId?lt=xe.index:this.points[xe.index].id&&(lt=this.points[xe.index].id),lt!==void 0&&(Ve.id=lt),Ue.features.push(Ve)}},Cn.prototype._limitZoom=function(J){return Math.max(this.options.minZoom,Math.min(+J,this.options.maxZoom+1))},Cn.prototype._cluster=function(J,se){for(var fe=[],ve=this.options,Ie=ve.reduce,Ue=ve.minPoints,Ge=ve.radius/(ve.extent*Math.pow(2,se)),Ne=0;Ne<J.length;Ne++){var xe=J[Ne];if(!(xe.zoom<=se)){xe.zoom=se;for(var ae=this.trees[se+1],Ve=ae.within(xe.x,xe.y,Ge),lt=xe.numPoints||1,We=lt,A=0,ye=Ve;A<ye.length;A+=1){var Lt=ae.points[ye[A]];Lt.zoom>se&&(We+=Lt.numPoints||1)}if(We>=Ue){for(var $t=xe.x*lt,ct=xe.y*lt,It=Ie&&lt>1?this._map(xe,!0):null,bt=(Ne<<5)+(se+1)+this.points.length,hn=0,fn=Ve;hn<fn.length;hn+=1){var Qt=ae.points[fn[hn]];if(!(Qt.zoom<=se)){Qt.zoom=se;var dr=Qt.numPoints||1;$t+=Qt.x*dr,ct+=Qt.y*dr,Qt.parentId=bt,Ie&&(It||(It=this._map(xe,!0)),Ie(It,this._map(Qt)))}}xe.parentId=bt,fe.push($n($t/We,ct/We,bt,We,It))}else if(fe.push(xe),We>1)for(var Jn=0,Dr=Ve;Jn<Dr.length;Jn+=1){var gr=ae.points[Dr[Jn]];gr.zoom<=se||(gr.zoom=se,fe.push(gr))}}}return fe},Cn.prototype._getOriginId=function(J){return J-this.points.length>>5},Cn.prototype._getOriginZoom=function(J){return(J-this.points.length)%32},Cn.prototype._map=function(J,se){if(J.numPoints)return se?mi({},J.properties):J.properties;var fe=this.points[J.index].properties,ve=this.options.map(fe);return se&&ve===fe?mi({},ve):ve},ua.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ua.prototype.splitTile=function(J,se,fe,ve,Ie,Ue,Ge){for(var Ne=[J,se,fe,ve],xe=this.options,ae=xe.debug;Ne.length;){ve=Ne.pop(),fe=Ne.pop(),se=Ne.pop(),J=Ne.pop();var Ve=1<<se,lt=La(se,fe,ve),We=this.tiles[lt];if(!We&&(ae>1&&console.time("creation"),We=this.tiles[lt]=mr(J,se,fe,ve,xe),this.tileCoords.push({z:se,x:fe,y:ve}),ae)){ae>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",se,fe,ve,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var A="z"+se;this.stats[A]=(this.stats[A]||0)+1,this.total++}if(We.source=J,Ie){if(se===xe.maxZoom||se===Ie)continue;var ye=1<<Ie-se;if(fe!==Math.floor(Ue/ye)||ve!==Math.floor(Ge/ye))continue}else if(se===xe.indexMaxZoom||We.numPoints<=xe.indexMaxPoints)continue;if(We.source=null,J.length!==0){ae>1&&console.time("clipping");var Lt,$t,ct,It,bt,hn,fn=.5*xe.buffer/xe.extent,Qt=.5-fn,dr=.5+fn,Jn=1+fn;Lt=$t=ct=It=null,bt=la(J,Ve,fe-fn,fe+dr,0,We.minX,We.maxX,xe),hn=la(J,Ve,fe+Qt,fe+Jn,0,We.minX,We.maxX,xe),J=null,bt&&(Lt=la(bt,Ve,ve-fn,ve+dr,1,We.minY,We.maxY,xe),$t=la(bt,Ve,ve+Qt,ve+Jn,1,We.minY,We.maxY,xe),bt=null),hn&&(ct=la(hn,Ve,ve-fn,ve+dr,1,We.minY,We.maxY,xe),It=la(hn,Ve,ve+Qt,ve+Jn,1,We.minY,We.maxY,xe),hn=null),ae>1&&console.timeEnd("clipping"),Ne.push(Lt||[],se+1,2*fe,2*ve),Ne.push($t||[],se+1,2*fe,2*ve+1),Ne.push(ct||[],se+1,2*fe+1,2*ve),Ne.push(It||[],se+1,2*fe+1,2*ve+1)}}},ua.prototype.getTile=function(J,se,fe){var ve=this.options,Ie=ve.extent,Ue=ve.debug;if(J<0||J>24)return null;var Ge=1<<J,Ne=La(J,se=(se%Ge+Ge)%Ge,fe);if(this.tiles[Ne])return Hr(this.tiles[Ne],Ie);Ue>1&&console.log("drilling down to z%d-%d-%d",J,se,fe);for(var xe,ae=J,Ve=se,lt=fe;!xe&&ae>0;)ae--,Ve=Math.floor(Ve/2),lt=Math.floor(lt/2),xe=this.tiles[La(ae,Ve,lt)];return xe&&xe.source?(Ue>1&&console.log("found parent tile z%d-%d-%d",ae,Ve,lt),Ue>1&&console.time("drilling down"),this.splitTile(xe.source,ae,Ve,lt,J,se,fe),Ue>1&&console.timeEnd("drilling down"),this.tiles[Ne]?Hr(this.tiles[Ne],Ie):null):null};var Ei=function(J){function se(fe,ve,Ie,Ue){J.call(this,fe,ve,Ie,Ht),Ue&&(this.loadGeoJSON=Ue)}return J&&(se.__proto__=J),(se.prototype=Object.create(J&&J.prototype)).constructor=se,se.prototype.loadData=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ve,this._pendingLoadDataParams=fe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},se.prototype._loadData=function(){var fe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ve=this._pendingCallback,Ie=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ue=!!(Ie&&Ie.request&&Ie.request.collectResourceTiming)&&new o.RequestPerformance(Ie.request);this.loadGeoJSON(Ie,function(Ge,Ne){if(Ge||!Ne)return ve(Ge);if(typeof Ne!="object")return ve(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."));(function We(A,ye){var Lt,$t=A&&A.type;if($t==="FeatureCollection")for(Lt=0;Lt<A.features.length;Lt++)We(A.features[Lt],ye);else if($t==="GeometryCollection")for(Lt=0;Lt<A.geometries.length;Lt++)We(A.geometries[Lt],ye);else if($t==="Feature")We(A.geometry,ye);else if($t==="Polygon")V(A.coordinates,ye);else if($t==="MultiPolygon")for(Lt=0;Lt<A.coordinates.length;Lt++)V(A.coordinates[Lt],ye);return A})(Ne,!0);try{if(Ie.filter){var xe=o.createExpression(Ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function(We){return We.key+": "+We.message}).join(", "));var ae=Ne.features.filter(function(We){return xe.value.evaluate({zoom:0},We)});Ne={type:"FeatureCollection",features:ae}}fe._geoJSONIndex=Ie.cluster?new Cn(function(We){var A=We.superclusterOptions,ye=We.clusterProperties;if(!ye||!A)return A;for(var Lt={},$t={},ct={accumulated:null,zoom:0},It={properties:null},bt=Object.keys(ye),hn=0,fn=bt;hn<fn.length;hn+=1){var Qt=fn[hn],dr=ye[Qt],Jn=dr[0],Dr=o.createExpression(dr[1]),gr=o.createExpression(typeof Jn=="string"?[Jn,["accumulated"],["get",Qt]]:Jn);Lt[Qt]=Dr.value,$t[Qt]=gr.value}return A.map=function(lr){It.properties=lr;for(var vr={},Ai=0,Sr=bt;Ai<Sr.length;Ai+=1){var Xt=Sr[Ai];vr[Xt]=Lt[Xt].evaluate(ct,It)}return vr},A.reduce=function(lr,vr){It.properties=vr;for(var Ai=0,Sr=bt;Ai<Sr.length;Ai+=1){var Xt=Sr[Ai];ct.accumulated=lr[Xt],lr[Xt]=$t[Xt].evaluate(ct,It)}},A}(Ie)).load(Ne.features):function(We,A){return new ua(We,A)}(Ne,Ie.geojsonVtOptions)}catch(We){return ve(We)}fe.loaded={};var Ve={};if(Ue){var lt=Ue.finish();lt&&(Ve.resourceTiming={},Ve.resourceTiming[Ie.source]=JSON.parse(JSON.stringify(lt)))}ve(null,Ve)})}},se.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},se.prototype.reloadTile=function(fe,ve){var Ie=this.loaded;return Ie&&Ie[fe.uid]?J.prototype.reloadTile.call(this,fe,ve):this.loadTile(fe,ve)},se.prototype.loadGeoJSON=function(fe,ve){if(fe.request)o.getJSON(fe.request,ve);else{if(typeof fe.data!="string")return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."));try{return ve(null,JSON.parse(fe.data))}catch{return ve(new Error("Input data given to '"+fe.source+"' is not a valid GeoJSON object."))}}},se.prototype.removeSource=function(fe,ve){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ve()},se.prototype.getClusterExpansionZoom=function(fe,ve){try{ve(null,this._geoJSONIndex.getClusterExpansionZoom(fe.clusterId))}catch(Ie){ve(Ie)}},se.prototype.getClusterChildren=function(fe,ve){try{ve(null,this._geoJSONIndex.getChildren(fe.clusterId))}catch(Ie){ve(Ie)}},se.prototype.getClusterLeaves=function(fe,ve){try{ve(null,this._geoJSONIndex.getLeaves(fe.clusterId,fe.limit,fe.offset))}catch(Ie){ve(Ie)}},se}(q),Ur=function(J){var se=this;this.self=J,this.actor=new o.Actor(J,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:q,geojson:Ei},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(fe,ve){if(se.workerSourceTypes[fe])throw new Error('Worker source with name "'+fe+'" already registered.');se.workerSourceTypes[fe]=ve},this.self.registerRTLTextPlugin=function(fe){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=fe.applyArabicShaping,o.plugin.processBidirectionalText=fe.processBidirectionalText,o.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}};return Ur.prototype.setReferrer=function(J,se){this.referrer=se},Ur.prototype.setImages=function(J,se,fe){for(var ve in this.availableImages[J]=se,this.workerSources[J]){var Ie=this.workerSources[J][ve];for(var Ue in Ie)Ie[Ue].availableImages=se}fe()},Ur.prototype.setLayers=function(J,se,fe){this.getLayerIndex(J).replace(se),fe()},Ur.prototype.updateLayers=function(J,se,fe){this.getLayerIndex(J).update(se.layers,se.removedIds),fe()},Ur.prototype.loadTile=function(J,se,fe){this.getWorkerSource(J,se.type,se.source).loadTile(se,fe)},Ur.prototype.loadDEMTile=function(J,se,fe){this.getDEMWorkerSource(J,se.source).loadTile(se,fe)},Ur.prototype.reloadTile=function(J,se,fe){this.getWorkerSource(J,se.type,se.source).reloadTile(se,fe)},Ur.prototype.abortTile=function(J,se,fe){this.getWorkerSource(J,se.type,se.source).abortTile(se,fe)},Ur.prototype.removeTile=function(J,se,fe){this.getWorkerSource(J,se.type,se.source).removeTile(se,fe)},Ur.prototype.removeDEMTile=function(J,se){this.getDEMWorkerSource(J,se.source).removeTile(se)},Ur.prototype.removeSource=function(J,se,fe){if(this.workerSources[J]&&this.workerSources[J][se.type]&&this.workerSources[J][se.type][se.source]){var ve=this.workerSources[J][se.type][se.source];delete this.workerSources[J][se.type][se.source],ve.removeSource!==void 0?ve.removeSource(se,fe):fe()}},Ur.prototype.loadWorkerSource=function(J,se,fe){try{this.self.importScripts(se.url),fe()}catch(ve){fe(ve.toString())}},Ur.prototype.syncRTLPluginState=function(J,se,fe){try{o.plugin.setState(se);var ve=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&ve!=null){this.self.importScripts(ve);var Ie=o.plugin.isParsed();fe(Ie?void 0:new Error("RTL Text Plugin failed to import scripts from "+ve),Ie)}}catch(Ue){fe(Ue.toString())}},Ur.prototype.getAvailableImages=function(J){var se=this.availableImages[J];return se||(se=[]),se},Ur.prototype.getLayerIndex=function(J){var se=this.layerIndexes[J];return se||(se=this.layerIndexes[J]=new P),se},Ur.prototype.getWorkerSource=function(J,se,fe){var ve=this;return this.workerSources[J]||(this.workerSources[J]={}),this.workerSources[J][se]||(this.workerSources[J][se]={}),this.workerSources[J][se][fe]||(this.workerSources[J][se][fe]=new this.workerSourceTypes[se]({send:function(Ie,Ue,Ge){ve.actor.send(Ie,Ue,Ge,J)}},this.getLayerIndex(J),this.getAvailableImages(J))),this.workerSources[J][se][fe]},Ur.prototype.getDEMWorkerSource=function(J,se){return this.demWorkerSources[J]||(this.demWorkerSources[J]={}),this.demWorkerSources[J][se]||(this.demWorkerSources[J][se]=new ee),this.demWorkerSources[J][se]},Ur.prototype.enforceCacheSizeLimit=function(J,se){o.enforceCacheSizeLimit(se)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Ur(self)),Ur}),l(["./shared"],function(o){var x=o.createCommonjsModule(function(c){function p(E){return!f(E)}function f(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var F,$,G=new Blob([""],{type:"text/javascript"}),te=URL.createObjectURL(G);try{$=new Worker(te),F=!0}catch{F=!1}return $&&$.terminate(),URL.revokeObjectURL(te),F}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var F=document.createElement("canvas");F.width=F.height=1;var $=F.getContext("2d");if(!$)return!1;var G=$.getImageData(0,0,1,1);return G&&G.width===F.width}()?(y[L=E&&E.failIfMajorPerformanceCaveat]===void 0&&(y[L]=function(F){var $=function(te){var Ae=document.createElement("canvas"),_e=Object.create(p.webGLContextAttributes);return _e.failIfMajorPerformanceCaveat=te,Ae.probablySupportsContext?Ae.probablySupportsContext("webgl",_e)||Ae.probablySupportsContext("experimental-webgl",_e):Ae.supportsContext?Ae.supportsContext("webgl",_e)||Ae.supportsContext("experimental-webgl",_e):Ae.getContext("webgl",_e)||Ae.getContext("experimental-webgl",_e)}(F);if(!$)return!1;var G=$.createShader($.VERTEX_SHADER);return!(!G||$.isContextLost())&&($.shaderSource(G,"void main() {}"),$.compileShader(G),$.getShaderParameter(G,$.COMPILE_STATUS)===!0)}(L)),y[L]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var L}c.exports?c.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=f);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),S={create:function(c,p,f){var y=o.window.document.createElement(c);return p!==void 0&&(y.className=p),f&&f.appendChild(y),y},createNS:function(c,p){return o.window.document.createElementNS(c,p)}},P=o.window.document&&o.window.document.documentElement.style;function M(c){if(!P)return c[0];for(var p=0;p<c.length;p++)if(c[p]in P)return c[p];return c[0]}var D,z=M(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);S.disableDrag=function(){P&&z&&(D=P[z],P[z]="none")},S.enableDrag=function(){P&&z&&(P[z]=D)};var U=M(["transform","WebkitTransform"]);S.setTransform=function(c,p){c.style[U]=p};var q=!1;try{var K=Object.defineProperty({},"passive",{get:function(){q=!0}});o.window.addEventListener("test",K,K),o.window.removeEventListener("test",K,K)}catch{q=!1}S.addEventListener=function(c,p,f,y){y===void 0&&(y={}),c.addEventListener(p,f,"passive"in y&&q?y:y.capture)},S.removeEventListener=function(c,p,f,y){y===void 0&&(y={}),c.removeEventListener(p,f,"passive"in y&&q?y:y.capture)};var ee=function(c){c.preventDefault(),c.stopPropagation(),o.window.removeEventListener("click",ee,!0)};function V(c){var p=c.userImage;return!!(p&&p.render&&p.render())&&(c.data.replace(new Uint8Array(p.data.buffer)),!0)}S.suppressClick=function(){o.window.addEventListener("click",ee,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",ee,!0)},0)},S.mousePos=function(c,p){var f=c.getBoundingClientRect();return new o.Point(p.clientX-f.left-c.clientLeft,p.clientY-f.top-c.clientTop)},S.touchPos=function(c,p){for(var f=c.getBoundingClientRect(),y=[],E=0;E<p.length;E++)y.push(new o.Point(p[E].clientX-f.left-c.clientLeft,p[E].clientY-f.top-c.clientTop));return y},S.mouseButton=function(c){return o.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},S.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var X=function(c){function p(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(f){if(this.loaded!==f&&(this.loaded=f,f)){for(var y=0,E=this.requestors;y<E.length;y+=1){var L=E[y];this._notify(L.ids,L.callback)}this.requestors=[]}},p.prototype.getImage=function(f){return this.images[f]},p.prototype.addImage=function(f,y){this._validate(f,y)&&(this.images[f]=y)},p.prototype._validate=function(f,y){var E=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "stretchY" value'))),E=!1),this._validateContent(y.content,y)||(this.fire(new o.ErrorEvent(new Error('Image "'+f+'" has invalid "content" value'))),E=!1),E},p.prototype._validateStretch=function(f,y){if(!f)return!0;for(var E=0,L=0,F=f;L<F.length;L+=1){var $=F[L];if($[0]<E||$[1]<$[0]||y<$[1])return!1;E=$[1]}return!0},p.prototype._validateContent=function(f,y){return!(f&&(f.length!==4||f[0]<0||y.data.width<f[0]||f[1]<0||y.data.height<f[1]||f[2]<0||y.data.width<f[2]||f[3]<0||y.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))},p.prototype.updateImage=function(f,y){y.version=this.images[f].version+1,this.images[f]=y,this.updatedImages[f]=!0},p.prototype.removeImage=function(f){var y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(f,y){var E=!0;if(!this.isLoaded())for(var L=0,F=f;L<F.length;L+=1)this.images[F[L]]||(E=!1);this.isLoaded()||E?this._notify(f,y):this.requestors.push({ids:f,callback:y})},p.prototype._notify=function(f,y){for(var E={},L=0,F=f;L<F.length;L+=1){var $=F[L];this.images[$]||this.fire(new o.Event("styleimagemissing",{id:$}));var G=this.images[$];G?E[$]={data:G.data.clone(),pixelRatio:G.pixelRatio,sdf:G.sdf,version:G.version,stretchX:G.stretchX,stretchY:G.stretchY,content:G.content,hasRenderCallback:Boolean(G.userImage&&G.userImage.render)}:o.warnOnce('Image "'+$+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,E)},p.prototype.getPixelSize=function(){var f=this.atlasImage;return{width:f.width,height:f.height}},p.prototype.getPattern=function(f){var y=this.patterns[f],E=this.getImage(f);if(!E)return null;if(y&&y.position.version===E.version)return y.position;if(y)y.position.version=E.version;else{var L={w:E.data.width+2,h:E.data.height+2,x:0,y:0},F=new o.ImagePosition(L,E);this.patterns[f]={bin:L,position:F}}return this._updatePatternAtlas(),this.patterns[f].position},p.prototype.bind=function(f){var y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var f=[];for(var y in this.patterns)f.push(this.patterns[y].bin);var E=o.potpack(f),L=E.w,F=E.h,$=this.atlasImage;for(var G in $.resize({width:L||1,height:F||1}),this.patterns){var te=this.patterns[G].bin,Ae=te.x+1,_e=te.y+1,de=this.images[G].data,Oe=de.width,Te=de.height;o.RGBAImage.copy(de,$,{x:0,y:0},{x:Ae,y:_e},{width:Oe,height:Te}),o.RGBAImage.copy(de,$,{x:0,y:Te-1},{x:Ae,y:_e-1},{width:Oe,height:1}),o.RGBAImage.copy(de,$,{x:0,y:0},{x:Ae,y:_e+Te},{width:Oe,height:1}),o.RGBAImage.copy(de,$,{x:Oe-1,y:0},{x:Ae-1,y:_e},{width:1,height:Te}),o.RGBAImage.copy(de,$,{x:0,y:0},{x:Ae+Oe,y:_e},{width:1,height:Te})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(f){for(var y=0,E=f;y<E.length;y+=1){var L=E[y];if(!this.callbackDispatchedThisFrame[L]){this.callbackDispatchedThisFrame[L]=!0;var F=this.images[L];V(F)&&this.updateImage(L,F)}}},p}(o.Evented),ne=oe,pe=oe,me=1e20;function oe(c,p,f,y,E,L){this.fontSize=c||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=E||"sans-serif",this.fontWeight=L||"normal",this.radius=f||8;var F=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=F,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.d=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Int16Array(F),this.middle=Math.round(F/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function we(c,p,f,y,E,L,F){for(var $=0;$<p;$++){for(var G=0;G<f;G++)y[G]=c[G*p+$];for(Ce(y,E,L,F,f),G=0;G<f;G++)c[G*p+$]=E[G]}for(G=0;G<f;G++){for($=0;$<p;$++)y[$]=c[G*p+$];for(Ce(y,E,L,F,p),$=0;$<p;$++)c[G*p+$]=Math.sqrt(E[$])}}function Ce(c,p,f,y,E){f[0]=0,y[0]=-me,y[1]=+me;for(var L=1,F=0;L<E;L++){for(var $=(c[L]+L*L-(c[f[F]]+f[F]*f[F]))/(2*L-2*f[F]);$<=y[F];)F--,$=(c[L]+L*L-(c[f[F]]+f[F]*f[F]))/(2*L-2*f[F]);f[++F]=L,y[F]=$,y[F+1]=+me}for(L=0,F=0;L<E;L++){for(;y[F+1]<L;)F++;p[L]=(L-f[F])*(L-f[F])+c[f[F]]}}oe.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),f=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var E=p.data[4*y+3]/255;this.gridOuter[y]=E===1?0:E===0?me:Math.pow(Math.max(0,.5-E),2),this.gridInner[y]=E===1?me:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(we(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),we(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)f[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return f},ne.default=pe;var je=function(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}};je.prototype.setURL=function(c){this.url=c},je.prototype.getGlyphs=function(c,p){var f=this,y=[];for(var E in c)for(var L=0,F=c[E];L<F.length;L+=1)y.push({stack:E,id:F[L]});o.asyncAll(y,function($,G){var te=$.stack,Ae=$.id,_e=f.entries[te];_e||(_e=f.entries[te]={glyphs:{},requests:{},ranges:{}});var de=_e.glyphs[Ae];if(de===void 0){if(de=f._tinySDF(_e,te,Ae))return _e.glyphs[Ae]=de,void G(null,{stack:te,id:Ae,glyph:de});var Oe=Math.floor(Ae/256);if(256*Oe>65535)G(new Error("glyphs > 65535 not supported"));else if(_e.ranges[Oe])G(null,{stack:te,id:Ae,glyph:de});else{var Te=_e.requests[Oe];Te||(Te=_e.requests[Oe]=[],je.loadGlyphRange(te,Oe,f.url,f.requestManager,function(ze,Pe){if(Pe){for(var Be in Pe)f._doesCharSupportLocalGlyph(+Be)||(_e.glyphs[+Be]=Pe[+Be]);_e.ranges[Oe]=!0}for(var Ke=0,et=Te;Ke<et.length;Ke+=1)(0,et[Ke])(ze,Pe);delete _e.requests[Oe]})),Te.push(function(ze,Pe){ze?G(ze):Pe&&G(null,{stack:te,id:Ae,glyph:Pe[Ae]||null})})}}else G(null,{stack:te,id:Ae,glyph:de})},function($,G){if($)p($);else if(G){for(var te={},Ae=0,_e=G;Ae<_e.length;Ae+=1){var de=_e[Ae],Oe=de.stack,Te=de.id,ze=de.glyph;(te[Oe]||(te[Oe]={}))[Te]=ze&&{id:ze.id,bitmap:ze.bitmap.clone(),metrics:ze.metrics}}p(null,te)}})},je.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](c)||o.isChar["Hangul Syllables"](c)||o.isChar.Hiragana(c)||o.isChar.Katakana(c))},je.prototype._tinySDF=function(c,p,f){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(f)){var E=c.tinySDF;if(!E){var L="400";/bold/i.test(p)?L="900":/medium/i.test(p)?L="500":/light/i.test(p)&&(L="200"),E=c.tinySDF=new je.TinySDF(24,3,8,.25,y,L)}return{id:f,bitmap:new o.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(f))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},je.loadGlyphRange=function(c,p,f,y,E){var L=256*p,F=L+255,$=y.transformRequest(y.normalizeGlyphsURL(f).replace("{fontstack}",c).replace("{range}",L+"-"+F),o.ResourceType.Glyphs);o.getArrayBuffer($,function(G,te){if(G)E(G);else if(te){for(var Ae={},_e=0,de=o.parseGlyphPBF(te);_e<de.length;_e+=1){var Oe=de[_e];Ae[Oe.id]=Oe}E(null,Ae)}})},je.TinySDF=ne;var tt=function(){this.specification=o.styleSpec.light.position};tt.prototype.possiblyEvaluate=function(c,p){return o.sphericalToCartesian(c.expression.evaluate(p))},tt.prototype.interpolate=function(c,p,f){return{x:o.number(c.x,p.x,f),y:o.number(c.y,p.y,f),z:o.number(c.z,p.z,f)}};var qe=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new tt,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),rt=function(c){function p(f){c.call(this),this._transitionable=new o.Transitionable(qe),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(f,y){if(y===void 0&&(y={}),!this._validate(o.validateLight,f,y))for(var E in f){var L=f[E];o.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),L):this._transitionable.setValue(E,L)}},p.prototype.updateTransitions=function(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(f){this.properties=this._transitioning.possiblyEvaluate(f)},p.prototype._validate=function(f,y,E){return(!E||E.validate!==!1)&&o.emitValidationErrors(this,f.call(o.validateStyle,o.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},p}(o.Evented),At=function(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};At.prototype.getDash=function(c,p){var f=c.join(",")+String(p);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(c,p)),this.dashEntry[f]},At.prototype.getDashRanges=function(c,p,f){var y=[],E=c.length%2==1?-c[c.length-1]*f:0,L=c[0]*f,F=!0;y.push({left:E,right:L,isDash:F,zeroLength:c[0]===0});for(var $=c[0],G=1;G<c.length;G++){var te=c[G];y.push({left:E=$*f,right:L=($+=te)*f,isDash:F=!F,zeroLength:te===0})}return y},At.prototype.addRoundDash=function(c,p,f){for(var y=p/2,E=-f;E<=f;E++)for(var L=this.width*(this.nextRow+f+E),F=0,$=c[F],G=0;G<this.width;G++){G/$.right>1&&($=c[++F]);var te=Math.abs(G-$.left),Ae=Math.abs(G-$.right),_e=Math.min(te,Ae),de=void 0,Oe=E/f*(y+1);if($.isDash){var Te=y-Math.abs(Oe);de=Math.sqrt(_e*_e+Te*Te)}else de=y-Math.sqrt(_e*_e+Oe*Oe);this.data[L+G]=Math.max(0,Math.min(255,de+128))}},At.prototype.addRegularDash=function(c){for(var p=c.length-1;p>=0;--p){var f=c[p],y=c[p+1];f.zeroLength?c.splice(p,1):y&&y.isDash===f.isDash&&(y.left=f.left,c.splice(p,1))}var E=c[0],L=c[c.length-1];E.isDash===L.isDash&&(E.left=L.left-this.width,L.right=E.right+this.width);for(var F=this.width*this.nextRow,$=0,G=c[$],te=0;te<this.width;te++){te/G.right>1&&(G=c[++$]);var Ae=Math.abs(te-G.left),_e=Math.abs(te-G.right),de=Math.min(Ae,_e);this.data[F+te]=Math.max(0,Math.min(255,(G.isDash?de:-de)+128))}},At.prototype.addDash=function(c,p){var f=p?7:0,y=2*f+1;if(this.nextRow+y>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var E=0,L=0;L<c.length;L++)E+=c[L];if(E!==0){var F=this.width/E,$=this.getDashRanges(c,this.width,F);p?this.addRoundDash($,F,f):this.addRegularDash($)}var G={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:E};return this.nextRow+=y,this.dirty=!0,G},At.prototype.bind=function(c){var p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var Ot=function c(p,f){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var y=this.workerPool.acquire(this.id),E=0;E<y.length;E++){var L=new c.Actor(y[E],f,this.id);L.name="Worker "+E,this.actors.push(L)}};function Vt(c,p,f){var y=function(E,L){if(E)return f(E);if(L){var F=o.pick(o.extend(L,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);L.vector_layers&&(F.vectorLayers=L.vector_layers,F.vectorLayerIds=F.vectorLayers.map(function($){return $.id})),F.tiles=p.canonicalizeTileset(F,c.url),f(null,F)}};return c.url?o.getJSON(p.transformRequest(p.normalizeSourceURL(c.url),o.ResourceType.Source),y):o.browser.frame(function(){return y(null,c)})}Ot.prototype.broadcast=function(c,p,f){o.asyncAll(this.actors,function(y,E){y.send(c,p,E)},f=f||function(){})},Ot.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ot.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},Ot.Actor=o.Actor;var Jt=function(c,p,f){this.bounds=o.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=f||24};Jt.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},Jt.prototype.contains=function(c){var p=Math.pow(2,c.z),f=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*p),L=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=f&&c.x<E&&c.y>=y&&c.y<L};var bn=function(c){function p(f,y,E,L){if(c.call(this),this.id=f,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(y,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(L)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new o.ErrorEvent(y)):E&&(o.extend(f,E),E.bounds&&(f.tileBounds=new Jt(E.bounds,f.minzoom,f.maxzoom)),o.postTurnstileEvent(E.tiles,f.map._requestManager._customAccessToken),o.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken,f.map._requestManager._customAccessToken),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setSourceProperty=function(f){this._tileJSONRequest&&this._tileJSONRequest.cancel(),f(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(f){var y=this;return this.setSourceProperty(function(){y._options.tiles=f}),this},p.prototype.setUrl=function(f){var y=this;return this.setSourceProperty(function(){y.url=f,y._options.url=f}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return o.extend({},this._options)},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),L={request:this.map._requestManager.transformRequest(E,o.ResourceType.Tile),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function F($,G){return delete f.request,f.aborted?y(null):$&&$.status!==404?y($):(G&&G.resourceTiming&&(f.resourceTiming=G.resourceTiming),this.map._refreshExpiredTiles&&G&&f.setExpiryData(G),f.loadVectorData(G,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}L.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired"?f.state==="loading"?f.reloadCallback=y:f.request=f.actor.send("reloadTile",L,F.bind(this)):(f.actor=this.dispatcher.getActor(),f.request=f.actor.send("loadTile",L,F.bind(this)))},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(o.Evented),st=function(c){function p(f,y,E,L){c.call(this),this.id=f,this.dispatcher=E,this.setEventedParent(L),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},y),o.extend(this,o.pick(y,["url","scheme","tileSize"]))}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(y,E){f._tileJSONRequest=null,f._loaded=!0,y?f.fire(new o.ErrorEvent(y)):E&&(o.extend(f,E),E.bounds&&(f.tileBounds=new Jt(E.bounds,f.minzoom,f.maxzoom)),o.postTurnstileEvent(E.tiles),o.postMapLoadEvent(E.tiles,f.map._getMapId(),f.map._requestManager._skuToken),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),f.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return o.extend({},this._options)},p.prototype.hasTile=function(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)},p.prototype.loadTile=function(f,y){var E=this,L=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);f.request=o.getImage(this.map._requestManager.transformRequest(L,o.ResourceType.Tile),function(F,$){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(F)f.state="errored",y(F);else if($){E.map._refreshExpiredTiles&&f.setExpiryData($),delete $.cacheControl,delete $.expires;var G=E.map.painter.context,te=G.gl;f.texture=E.map.painter.getTileTexture($.width),f.texture?f.texture.update($,{useMipmap:!0}):(f.texture=new o.Texture(G,$,te.RGBA,{useMipmap:!0}),f.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST),G.extTextureFilterAnisotropic&&te.texParameterf(te.TEXTURE_2D,G.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,G.extTextureFilterAnisotropicMax)),f.state="loaded",o.cacheEntryPossiblyAdded(E.dispatcher),y(null)}})},p.prototype.abortTile=function(f,y){f.request&&(f.request.cancel(),delete f.request),y()},p.prototype.unloadTile=function(f,y){f.texture&&this.map.painter.saveTileTexture(f.texture),y()},p.prototype.hasTransition=function(){return!1},p}(o.Evented),Me=function(c){function p(f,y,E,L){c.call(this,f,y,E,L),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(f,y){var E=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function L(F,$){F&&(f.state="errored",y(F)),$&&(f.dem=$,f.needsHillshadePrepare=!0,f.state="loaded",y(null))}f.request=o.getImage(this.map._requestManager.transformRequest(E,o.ResourceType.Tile),function(F,$){if(delete f.request,f.aborted)f.state="unloaded",y(null);else if(F)f.state="errored",y(F);else if($){this.map._refreshExpiredTiles&&f.setExpiryData($),delete $.cacheControl,delete $.expires;var G=o.window.ImageBitmap&&$ instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?$:o.browser.getImageData($,1),te={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:G,encoding:this.encoding};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",te,L.bind(this)))}}.bind(this)),f.neighboringTiles=this._getNeighboringTiles(f.tileID)},p.prototype._getNeighboringTiles=function(f){var y=f.canonical,E=Math.pow(2,y.z),L=(y.x-1+E)%E,F=y.x===0?f.wrap-1:f.wrap,$=(y.x+1+E)%E,G=y.x+1===E?f.wrap+1:f.wrap,te={};return te[new o.OverscaledTileID(f.overscaledZ,F,y.z,L,y.y).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,$,y.y).key]={backfilled:!1},y.y>0&&(te[new o.OverscaledTileID(f.overscaledZ,F,y.z,L,y.y-1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,$,y.y-1).key]={backfilled:!1}),y.y+1<E&&(te[new o.OverscaledTileID(f.overscaledZ,F,y.z,L,y.y+1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},te[new o.OverscaledTileID(f.overscaledZ,G,y.z,$,y.y+1).key]={backfilled:!1}),te},p.prototype.unloadTile=function(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&f.actor.send("removeDEMTile",{uid:f.uid,source:this.id})},p}(st),Le=function(c){function p(f,y,E,L){c.call(this),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(L),this._data=y.data,this._options=o.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var F=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*F,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*F,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:o.EXTENT,radius:(y.clusterRadius||50)*F,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)f.fire(new o.ErrorEvent(y));else{var E={dataType:"source",sourceDataType:"metadata"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(E.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new o.Event("data",E))}})},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setData=function(f){var y=this;return this._data=f,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)y.fire(new o.ErrorEvent(E));else{var L={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(L.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new o.Event("data",L))}}),this},p.prototype.getClusterExpansionZoom=function(f,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},y),this},p.prototype.getClusterChildren=function(f,y){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},y),this},p.prototype.getClusterLeaves=function(f,y,E,L){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:y,offset:E},L),this},p.prototype._updateWorkerData=function(f){var y=this;this._loaded=!1;var E=o.extend({},this.workerOptions),L=this._data;typeof L=="string"?(E.request=this.map._requestManager.transformRequest(o.browser.resolveURL(L),o.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(L),this.actor.send(this.type+".loadData",E,function(F,$){y._removed||$&&$.abandoned||(y._loaded=!0,$&&$.resourceTiming&&$.resourceTiming[y.id]&&(y._resourceTiming=$.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:E.source},null),f(F))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(f,y){var E=this,L=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(L,{type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(F,$){return delete f.request,f.unloadVectorData(),f.aborted?y(null):F?y(F):(f.loadVectorData($,E.map.painter,L==="reloadTile"),y(null))})},p.prototype.abortTile=function(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0},p.prototype.unloadTile=function(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(o.Evented),re=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ge=function(c){function p(f,y,E,L){c.call(this),this.id=f,this.dispatcher=E,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(L),this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(f,y){var E=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(L,F){E._loaded=!0,L?E.fire(new o.ErrorEvent(L)):F&&(E.image=F,f&&(E.coordinates=f),y&&y(),E._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(f){var y=this;return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(f){this.map=f,this.load()},p.prototype.setCoordinates=function(f){var y=this;this.coordinates=f;var E=f.map(o.MercatorCoordinate.fromLngLat);this.tileID=function(F){for(var $=1/0,G=1/0,te=-1/0,Ae=-1/0,_e=0,de=F;_e<de.length;_e+=1){var Oe=de[_e];$=Math.min($,Oe.x),G=Math.min(G,Oe.y),te=Math.max(te,Oe.x),Ae=Math.max(Ae,Oe.y)}var Te=Math.max(te-$,Ae-G),ze=Math.max(0,Math.floor(-Math.log(Te)/Math.LN2)),Pe=Math.pow(2,ze);return new o.CanonicalTileID(ze,Math.floor(($+te)/2*Pe),Math.floor((G+Ae)/2*Pe))}(E),this.minzoom=this.maxzoom=this.tileID.z;var L=E.map(function(F){return y.tileID.getTilePoint(F)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(L[0].x,L[0].y,0,0),this._boundsArray.emplaceBack(L[1].x,L[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(L[3].x,L[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(L[2].x,L[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[E];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.loadTile=function(f,y){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},y(null)):(f.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(o.Evented),Mt=function(c){function p(f,y,E,L){c.call(this,f,y,E,L),this.roundZoom=!0,this.type="video",this.options=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){var f=this;this._loaded=!1;var y=this.options;this.urls=[];for(var E=0,L=y.urls;E<L.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(L[E],o.ResourceType.Source).url);o.getVideo(this.urls,function(F,$){f._loaded=!0,F?f.fire(new o.ErrorEvent(F)):$&&(f.video=$,f.video.loop=!0,f.video.addEventListener("playing",function(){f.map.triggerRepaint()}),f.map&&f.video.play(),f._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(f){if(this.video){var y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=f}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var f=this.map.painter.context,y=f.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[E];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(ge),en=function(c){function p(f,y,E,L){c.call(this,f,y,E,L),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(F){return!Array.isArray(F)||F.length!==2||F.some(function($){return typeof $!="number"})})||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+f,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,E=y.gl;for(var L in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(y,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var F=this.tiles[L];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var f=0,y=[this.canvas.width,this.canvas.height];f<y.length;f+=1){var E=y[f];if(isNaN(E)||E<=0)return!0}return!1},p}(ge),vn={vector:bn,raster:st,"raster-dem":Me,geojson:Le,video:Mt,image:ge,canvas:en};function dn(c,p){var f=o.identity([]);return o.translate(f,f,[1,1,0]),o.scale(f,f,[.5*c.width,.5*c.height,1]),o.multiply(f,f,c.calculatePosMatrix(p.toUnwrapped()))}function Cn(c,p,f,y,E,L){var F=function(ze,Pe,Be){if(ze)for(var Ke=0,et=ze;Ke<et.length;Ke+=1){var dt=Pe[et[Ke]];if(dt&&dt.source===Be&&dt.type==="fill-extrusion")return!0}else for(var ht in Pe){var yt=Pe[ht];if(yt.source===Be&&yt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,p,c.id),$=L.maxPitchScaleFactor(),G=c.tilesIn(y,$,F);G.sort($n);for(var te=[],Ae=0,_e=G;Ae<_e.length;Ae+=1){var de=_e[Ae];te.push({wrappedTileID:de.tileID.wrapped().key,queryResults:de.tile.queryRenderedFeatures(p,f,c._state,de.queryGeometry,de.cameraQueryGeometry,de.scale,E,L,$,dn(c.transform,de.tileID))})}var Oe=function(ze){for(var Pe={},Be={},Ke=0,et=ze;Ke<et.length;Ke+=1){var dt=et[Ke],ht=dt.queryResults,yt=dt.wrappedTileID,Pt=Be[yt]=Be[yt]||{};for(var zt in ht)for(var Ft=ht[zt],tn=Pt[zt]=Pt[zt]||{},mn=Pe[zt]=Pe[zt]||[],Tn=0,kn=Ft;Tn<kn.length;Tn+=1){var _r=kn[Tn];tn[_r.featureIndex]||(tn[_r.featureIndex]=!0,mn.push(_r))}}return Pe}(te);for(var Te in Oe)Oe[Te].forEach(function(ze){var Pe=ze.feature,Be=c.getFeatureState(Pe.layer["source-layer"],Pe.id);Pe.source=Pe.layer.source,Pe.layer["source-layer"]&&(Pe.sourceLayer=Pe.layer["source-layer"]),Pe.state=Be});return Oe}function $n(c,p){var f=c.tileID,y=p.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}var Fn=function(c,p){this.max=c,this.onRemove=p,this.reset()};Fn.prototype.reset=function(){for(var c in this.data)for(var p=0,f=this.data[c];p<f.length;p+=1){var y=f[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},Fn.prototype.add=function(c,p,f){var y=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var L={value:p,timeout:void 0};if(f!==void 0&&(L.timeout=setTimeout(function(){y.remove(c,L)},f)),this.data[E].push(L),this.order.push(E),this.order.length>this.max){var F=this._getAndRemoveByKey(this.order[0]);F&&this.onRemove(F)}return this},Fn.prototype.has=function(c){return c.wrapped().key in this.data},Fn.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},Fn.prototype._getAndRemoveByKey=function(c){var p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value},Fn.prototype.getByKey=function(c){var p=this.data[c];return p?p[0].value:null},Fn.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},Fn.prototype.remove=function(c,p){if(!this.has(c))return this;var f=c.wrapped().key,y=p===void 0?0:this.data[f].indexOf(p),E=this.data[f][y];return this.data[f].splice(y,1),E.timeout&&clearTimeout(E.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(E.value),this.order.splice(this.order.indexOf(f),1),this},Fn.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},Fn.prototype.filter=function(c){var p=[];for(var f in this.data)for(var y=0,E=this.data[f];y<E.length;y+=1){var L=E[y];c(L.value)||p.push(L)}for(var F=0,$=p;F<$.length;F+=1){var G=$[F];this.remove(G.value.tileID,G)}};var Yr=function(c,p,f){this.context=c;var y=c.gl;this.buffer=y.createBuffer(),this.dynamicDraw=Boolean(f),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Yr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Yr.prototype.updateData=function(c){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Yr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Vr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Fi=function(c,p,f,y){this.length=p.length,this.attributes=f,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Fi.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Fi.prototype.updateData=function(c){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)},Fi.prototype.enableAttributes=function(c,p){for(var f=0;f<this.attributes.length;f++){var y=p.attributes[this.attributes[f].name];y!==void 0&&c.enableVertexAttribArray(y)}},Fi.prototype.setVertexAttribPointers=function(c,p,f){for(var y=0;y<this.attributes.length;y++){var E=this.attributes[y],L=p.attributes[E.name];L!==void 0&&c.vertexAttribPointer(L,E.components,c[Vr[E.type]],!1,this.itemSize,E.offset+this.itemSize*(f||0))}},Fi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var jn=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};jn.prototype.get=function(){return this.current},jn.prototype.set=function(c){},jn.prototype.getDefault=function(){return this.default},jn.prototype.setDefault=function(){this.set(this.default)};var mi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return o.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jn),gi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)},p}(jn),Go=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)},p}(jn),Bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jn),Wi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)},p}(jn),Ss=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)},p}(jn),ro=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(f){var y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)},p}(jn),Kr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)},p}(jn),Lo=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}},p}(jn),io=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jn),bi=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}},p}(jn),Ro=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)},p}(jn),la=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}},p}(jn),vt=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[f.ONE,f.ZERO]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)},p}(jn),be=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return o.Color.transparent},p.prototype.set=function(f){var y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)},p}(jn),Je=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)},p}(jn),Ct=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}},p}(jn),ln=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)},p}(jn),Gn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)},p}(jn),Mr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)},p}(jn),Mn=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)},p}(jn),nr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){var f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]},p.prototype.set=function(f){var y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)},p}(jn),Hr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}},p}(jn),Jr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(jn),mr=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}},p}(jn),Co=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}},p}(jn),ei=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1},p}(jn),ua=function(c){function p(f){c.call(this,f),this.vao=f.extVertexArrayObject}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)},p}(jn),La=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}},p}(jn),Ht=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}},p}(jn),Ei=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(f){if(f!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}},p}(jn),Ur=function(c){function p(f,y){c.call(this,f),this.context=f,this.parent=y}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}(jn),J=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}},p}(Ur),se=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.set=function(f){if(f!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}},p}(Ur),fe=function(c,p,f,y){this.context=c,this.width=p,this.height=f;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new J(c,E),y&&(this.depthAttachment=new se(c,E))};fe.prototype.destroy=function(){var c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){var f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}c.deleteFramebuffer(this.framebuffer)};var ve=function(c,p,f){this.func=c,this.mask=p,this.range=f};ve.ReadOnly=!1,ve.ReadWrite=!0,ve.disabled=new ve(519,ve.ReadOnly,[0,1]);var Ie=function(c,p,f,y,E,L){this.test=c,this.ref=p,this.mask=f,this.fail=y,this.depthFail=E,this.pass=L};Ie.disabled=new Ie({func:519,mask:0},0,0,7680,7680,7680);var Ue=function(c,p,f){this.blendFunction=c,this.blendColor=p,this.mask=f};Ue.disabled=new Ue(Ue.Replace=[1,0],o.Color.transparent,[!1,!1,!1,!1]),Ue.unblended=new Ue(Ue.Replace,o.Color.transparent,[!0,!0,!0,!0]),Ue.alphaBlended=new Ue([1,771],o.Color.transparent,[!0,!0,!0,!0]);var Ge=function(c,p,f){this.enable=c,this.mode=p,this.frontFace=f};Ge.disabled=new Ge(!1,1029,2305),Ge.backCCW=new Ge(!0,1029,2305);var Ne=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mi(this),this.clearDepth=new gi(this),this.clearStencil=new Go(this),this.colorMask=new Bi(this),this.depthMask=new Wi(this),this.stencilMask=new Ss(this),this.stencilFunc=new ro(this),this.stencilOp=new Kr(this),this.stencilTest=new Lo(this),this.depthRange=new io(this),this.depthTest=new bi(this),this.depthFunc=new Ro(this),this.blend=new la(this),this.blendFunc=new vt(this),this.blendColor=new be(this),this.blendEquation=new Je(this),this.cullFace=new Ct(this),this.cullFaceSide=new ln(this),this.frontFace=new Gn(this),this.program=new Mr(this),this.activeTexture=new Mn(this),this.viewport=new nr(this),this.bindFramebuffer=new Hr(this),this.bindRenderbuffer=new Jr(this),this.bindTexture=new mr(this),this.bindVertexBuffer=new Co(this),this.bindElementBuffer=new ei(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ua(this),this.pixelStoreUnpack=new La(this),this.pixelStoreUnpackPremultiplyAlpha=new Ht(this),this.pixelStoreUnpackFlipY=new Ei(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};Ne.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ne.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ne.prototype.createIndexBuffer=function(c,p){return new Yr(this,c,p)},Ne.prototype.createVertexBuffer=function(c,p,f){return new Fi(this,c,p,f)},Ne.prototype.createRenderbuffer=function(c,p,f){var y=this.gl,E=y.createRenderbuffer();return this.bindRenderbuffer.set(E),y.renderbufferStorage(y.RENDERBUFFER,c,p,f),this.bindRenderbuffer.set(null),E},Ne.prototype.createFramebuffer=function(c,p,f){return new fe(this,c,p,f)},Ne.prototype.clear=function(c){var p=c.color,f=c.depth,y=this.gl,E=0;p&&(E|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(E|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y.clear(E)},Ne.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},Ne.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},Ne.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},Ne.prototype.setColorMode=function(c){o.deepEqual(c.blendFunction,Ue.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},Ne.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(c){function p(f,y,E){var L=this;c.call(this),this.id=f,this.dispatcher=E,this.on("data",function(F){F.dataType==="source"&&F.sourceDataType==="metadata"&&(L._sourceLoaded=!0),L._sourceLoaded&&!L._paused&&F.dataType==="source"&&F.sourceDataType==="content"&&(L.reload(),L.transform&&L.update(L.transform))}),this.on("error",function(){L._sourceErrored=!0}),this._source=function(F,$,G,te){var Ae=new vn[$.type](F,$,G,te);if(Ae.id!==F)throw new Error("Expected Source id to be "+F+" instead of "+Ae.id);return o.bindAll(["load","abort","unload","serialize","prepare"],Ae),Ae}(f,y,E,this),this._tiles={},this._cache=new Fn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(f)},p.prototype.onRemove=function(f){this._source&&this._source.onRemove&&this._source.onRemove(f)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var f in this._tiles){var y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(f,y){return this._source.loadTile(f,y)},p.prototype._unloadTile=function(f){if(this._source.unloadTile)return this._source.unloadTile(f,function(){})},p.prototype._abortTile=function(f){if(this._source.abortTile)return this._source.abortTile(f,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(f){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[y];E.upload(f),E.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return o.values(this._tiles).map(function(f){return f.tileID}).sort(ae).map(function(f){return f.key})},p.prototype.getRenderableIds=function(f){var y=this,E=[];for(var L in this._tiles)this._isIdRenderable(L,f)&&E.push(this._tiles[L]);return f?E.sort(function(F,$){var G=F.tileID,te=$.tileID,Ae=new o.Point(G.canonical.x,G.canonical.y)._rotate(y.transform.angle),_e=new o.Point(te.canonical.x,te.canonical.y)._rotate(y.transform.angle);return G.overscaledZ-te.overscaledZ||_e.y-Ae.y||_e.x-Ae.x}).map(function(F){return F.tileID.key}):E.map(function(F){return F.tileID}).sort(ae).map(function(F){return F.key})},p.prototype.hasRenderableParent=function(f){var y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var f in this._cache.reset(),this._tiles)this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")},p.prototype._reloadTile=function(f,y){var E=this._tiles[f];E&&(E.state!=="loading"&&(E.state=y),this._loadTile(E,this._tileLoaded.bind(this,E,f,y)))},p.prototype._tileLoaded=function(f,y,E,L){if(L)return f.state="errored",void(L.status!==404?this._source.fire(new o.ErrorEvent(L,{tile:f})):this.update(this.transform));f.timeAdded=o.browser.now(),E==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:f,coord:f.tileID}))},p.prototype._backfillDEM=function(f){for(var y=this.getRenderableIds(),E=0;E<y.length;E++){var L=y[E];if(f.neighboringTiles&&f.neighboringTiles[L]){var F=this.getTileByID(L);$(f,F),$(F,f)}}function $(G,te){G.needsHillshadePrepare=!0;var Ae=te.tileID.canonical.x-G.tileID.canonical.x,_e=te.tileID.canonical.y-G.tileID.canonical.y,de=Math.pow(2,G.tileID.canonical.z),Oe=te.tileID.key;Ae===0&&_e===0||Math.abs(_e)>1||(Math.abs(Ae)>1&&(Math.abs(Ae+de)===1?Ae+=de:Math.abs(Ae-de)===1&&(Ae-=de)),te.dem&&G.dem&&(G.dem.backfillBorder(te.dem,Ae,_e),G.neighboringTiles&&G.neighboringTiles[Oe]&&(G.neighboringTiles[Oe].backfilled=!0)))}},p.prototype.getTile=function(f){return this.getTileByID(f.key)},p.prototype.getTileByID=function(f){return this._tiles[f]},p.prototype._retainLoadedChildren=function(f,y,E,L){for(var F in this._tiles){var $=this._tiles[F];if(!(L[F]||!$.hasData()||$.tileID.overscaledZ<=y||$.tileID.overscaledZ>E)){for(var G=$.tileID;$&&$.tileID.overscaledZ>y+1;){var te=$.tileID.scaledTo($.tileID.overscaledZ-1);($=this._tiles[te.key])&&$.hasData()&&(G=te)}for(var Ae=G;Ae.overscaledZ>y;)if(f[(Ae=Ae.scaledTo(Ae.overscaledZ-1)).key]){L[G.key]=G;break}}}},p.prototype.findLoadedParent=function(f,y){if(f.key in this._loadedParentTiles){var E=this._loadedParentTiles[f.key];return E&&E.tileID.overscaledZ>=y?E:null}for(var L=f.overscaledZ-1;L>=y;L--){var F=f.scaledTo(L),$=this._getLoadedTile(F);if($)return $}},p.prototype._getLoadedTile=function(f){var y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)},p.prototype.updateCacheSize=function(f){var y=Math.ceil(f.width/this._source.tileSize)+1,E=Math.ceil(f.height/this._source.tileSize)+1,L=Math.floor(y*E*5),F=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,L):L;this._cache.setMaxSize(F)},p.prototype.handleWrapJump=function(f){var y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){var E={};for(var L in this._tiles){var F=this._tiles[L];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+y),E[F.tileID.key]=F}for(var $ in this._tiles=E,this._timers)clearTimeout(this._timers[$]),delete this._timers[$];for(var G in this._tiles)this._setTileReloadTimer(G,this._tiles[G])}},p.prototype.update=function(f){var y=this;if(this.transform=f,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Pt){return new o.OverscaledTileID(Pt.canonical.z,Pt.wrap,Pt.canonical.z,Pt.canonical.x,Pt.canonical.y)}):(E=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(Pt){return y._source.hasTile(Pt)}))):E=[];var L=f.coveringZoomLevel(this._source),F=Math.max(L-p.maxOverzooming,this._source.minzoom),$=Math.max(L+p.maxUnderzooming,this._source.minzoom),G=this._updateRetainedTiles(E,L);if(Ve(this._source.type)){for(var te={},Ae={},_e=0,de=Object.keys(G);_e<de.length;_e+=1){var Oe=de[_e],Te=G[Oe],ze=this._tiles[Oe];if(ze&&!(ze.fadeEndTime&&ze.fadeEndTime<=o.browser.now())){var Pe=this.findLoadedParent(Te,F);Pe&&(this._addTile(Pe.tileID),te[Pe.tileID.key]=Pe.tileID),Ae[Oe]=Te}}for(var Be in this._retainLoadedChildren(Ae,L,$,G),te)G[Be]||(this._coveredTiles[Be]=!0,G[Be]=te[Be])}for(var Ke in G)this._tiles[Ke].clearFadeHold();for(var et=0,dt=o.keysDifference(this._tiles,G);et<dt.length;et+=1){var ht=dt[et],yt=this._tiles[ht];yt.hasSymbolBuckets&&!yt.holdingForFade()?yt.setHoldDuration(this.map._fadeDuration):yt.hasSymbolBuckets&&!yt.symbolFadeFinished()||this._removeTile(ht)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)},p.prototype._updateRetainedTiles=function(f,y){for(var E={},L={},F=Math.max(y-p.maxOverzooming,this._source.minzoom),$=Math.max(y+p.maxUnderzooming,this._source.minzoom),G={},te=0,Ae=f;te<Ae.length;te+=1){var _e=Ae[te],de=this._addTile(_e);E[_e.key]=_e,de.hasData()||y<this._source.maxzoom&&(G[_e.key]=_e)}this._retainLoadedChildren(G,y,$,E);for(var Oe=0,Te=f;Oe<Te.length;Oe+=1){var ze=Te[Oe],Pe=this._tiles[ze.key];if(!Pe.hasData()){if(y+1>this._source.maxzoom){var Be=ze.children(this._source.maxzoom)[0],Ke=this.getTile(Be);if(Ke&&Ke.hasData()){E[Be.key]=Be;continue}}else{var et=ze.children(this._source.maxzoom);if(E[et[0].key]&&E[et[1].key]&&E[et[2].key]&&E[et[3].key])continue}for(var dt=Pe.wasRequested(),ht=ze.overscaledZ-1;ht>=F;--ht){var yt=ze.scaledTo(ht);if(L[yt.key]||(L[yt.key]=!0,!(Pe=this.getTile(yt))&&dt&&(Pe=this._addTile(yt)),Pe&&(E[yt.key]=yt,dt=Pe.wasRequested(),Pe.hasData())))break}}}return E},p.prototype._updateLoadedParentTileCache=function(){for(var f in this._loadedParentTiles={},this._tiles){for(var y=[],E=void 0,L=this._tiles[f].tileID;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){E=this._loadedParentTiles[L.key];break}y.push(L.key);var F=L.scaledTo(L.overscaledZ-1);if(E=this._getLoadedTile(F))break;L=F}for(var $=0,G=y;$<G.length;$+=1)this._loadedParentTiles[G[$]]=E}},p.prototype._addTile=function(f){var y=this._tiles[f.key];if(y)return y;(y=this._cache.getAndRemove(f))&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));var E=Boolean(y);return E||(y=new o.Tile(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,f.key,y.state))),y?(y.uses++,this._tiles[f.key]=y,E||this._source.fire(new o.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(f,y){var E=this;f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);var L=y.getExpiryTimeout();L&&(this._timers[f]=setTimeout(function(){E._reloadTile(f,"expired"),delete E._timers[f]},L))},p.prototype._removeTile=function(f){var y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var f in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(f);this._cache.reset()},p.prototype.tilesIn=function(f,y,E){var L=this,F=[],$=this.transform;if(!$)return F;for(var G=E?$.getCameraQueryGeometry(f):f,te=f.map(function(ht){return $.pointCoordinate(ht)}),Ae=G.map(function(ht){return $.pointCoordinate(ht)}),_e=this.getIds(),de=1/0,Oe=1/0,Te=-1/0,ze=-1/0,Pe=0,Be=Ae;Pe<Be.length;Pe+=1){var Ke=Be[Pe];de=Math.min(de,Ke.x),Oe=Math.min(Oe,Ke.y),Te=Math.max(Te,Ke.x),ze=Math.max(ze,Ke.y)}for(var et=function(ht){var yt=L._tiles[_e[ht]];if(!yt.holdingForFade()){var Pt=yt.tileID,zt=Math.pow(2,$.zoom-yt.tileID.overscaledZ),Ft=y*yt.queryPadding*o.EXTENT/yt.tileSize/zt,tn=[Pt.getTilePoint(new o.MercatorCoordinate(de,Oe)),Pt.getTilePoint(new o.MercatorCoordinate(Te,ze))];if(tn[0].x-Ft<o.EXTENT&&tn[0].y-Ft<o.EXTENT&&tn[1].x+Ft>=0&&tn[1].y+Ft>=0){var mn=te.map(function(kn){return Pt.getTilePoint(kn)}),Tn=Ae.map(function(kn){return Pt.getTilePoint(kn)});F.push({tile:yt,tileID:Pt,queryGeometry:mn,cameraQueryGeometry:Tn,scale:zt})}}},dt=0;dt<_e.length;dt++)et(dt);return F},p.prototype.getVisibleCoordinates=function(f){for(var y=this,E=this.getRenderableIds(f).map(function(G){return y._tiles[G].tileID}),L=0,F=E;L<F.length;L+=1){var $=F[L];$.posMatrix=this.transform.calculatePosMatrix($.toUnwrapped())}return E},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ve(this._source.type))for(var f in this._tiles){var y=this._tiles[f];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=o.browser.now())return!0}return!1},p.prototype.setFeatureState=function(f,y,E){this._state.updateState(f=f||"_geojsonTileLayer",y,E)},p.prototype.removeFeatureState=function(f,y,E){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,E)},p.prototype.getFeatureState=function(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(f,y,E){var L=this._tiles[f];L&&L.setDependencies(y,E)},p.prototype.reloadTilesForDependencies=function(f,y){for(var E in this._tiles)this._tiles[E].hasDependency(f,y)&&this._reloadTile(E,"reloading");this._cache.filter(function(L){return!L.hasDependency(f,y)})},p}(o.Evented);function ae(c,p){var f=Math.abs(2*c.wrap)-+(c.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return c.overscaledZ-p.overscaledZ||y-f||p.canonical.y-c.canonical.y||p.canonical.x-c.canonical.x}function Ve(c){return c==="raster"||c==="image"||c==="video"}function lt(){return new o.window.Worker(Kt.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var We="mapboxgl_preloaded_worker_pool",A=function(){this.active={}};A.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<A.workerCount;)this.workers.push(new lt);return this.active[c]=!0,this.workers.slice()},A.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},A.prototype.isPreloaded=function(){return!!this.active[We]},A.prototype.numActive=function(){return Object.keys(this.active).length};var ye,Lt=Math.floor(o.browser.hardwareConcurrency/2);function $t(){return ye||(ye=new A),ye}function ct(c,p){var f={};for(var y in c)y!=="ref"&&(f[y]=c[y]);return o.refProperties.forEach(function(E){E in p&&(f[E]=p[E])}),f}function It(c){c=c.slice();for(var p=Object.create(null),f=0;f<c.length;f++)p[c[f].id]=c[f];for(var y=0;y<c.length;y++)"ref"in c[y]&&(c[y]=ct(c[y],p[c[y].ref]));return c}A.workerCount=Math.max(Math.min(Lt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hn(c,p,f){f.push({command:bt.addSource,args:[c,p[c]]})}function fn(c,p,f){p.push({command:bt.removeSource,args:[c]}),f[c]=!0}function Qt(c,p,f,y){fn(c,f,y),hn(c,p,f)}function dr(c,p,f){var y;for(y in c[f])if(c[f].hasOwnProperty(y)&&y!=="data"&&!o.deepEqual(c[f][y],p[f][y]))return!1;for(y in p[f])if(p[f].hasOwnProperty(y)&&y!=="data"&&!o.deepEqual(c[f][y],p[f][y]))return!1;return!0}function Jn(c,p,f,y,E,L){var F;for(F in p=p||{},c=c||{})c.hasOwnProperty(F)&&(o.deepEqual(c[F],p[F])||f.push({command:L,args:[y,F,p[F],E]}));for(F in p)p.hasOwnProperty(F)&&!c.hasOwnProperty(F)&&(o.deepEqual(c[F],p[F])||f.push({command:L,args:[y,F,p[F],E]}))}function Dr(c){return c.id}function gr(c,p){return c[p.id]=p,c}var lr=function(c,p){this.reset(c,p)};lr.prototype.reset=function(c,p){this.points=c||[],this._distances=[0];for(var f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},lr.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=o.clamp(c,0,1);for(var p=1,f=this._distances[p],y=c*this.paddedLength+this.padding;f<y&&p<this._distances.length;)f=this._distances[++p];var E=p-1,L=this._distances[E],F=f-L,$=F>0?(y-L)/F:0;return this.points[E].mult(1-$).add(this.points[p].mult($))};var vr=function(c,p,f){var y=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/f),this.yCellCount=Math.ceil(p/f);for(var L=0;L<this.xCellCount*this.yCellCount;L++)y.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function Ai(c,p,f,y,E){var L=o.create();return p?(o.scale(L,L,[1/E,1/E,1]),f||o.rotateZ(L,L,y.angle)):o.multiply(L,y.labelPlaneMatrix,c),L}function Sr(c,p,f,y,E){if(p){var L=o.clone(c);return o.scale(L,L,[E,E,1]),f||o.rotateZ(L,L,-y.angle),L}return y.glCoordMatrix}function Xt(c,p){var f=[c.x,c.y,0,1];ca(f,f,p);var y=f[3];return{point:new o.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function Qe(c,p){return .5+c/p*.5}function wn(c,p){var f=c[0]/c[3],y=c[1]/c[3];return f>=-p[0]&&f<=p[0]&&y>=-p[1]&&y<=p[1]}function al(c,p,f,y,E,L,F,$){var G=y?c.textSizeData:c.iconSizeData,te=o.evaluateSizeForZoom(G,f.transform.zoom),Ae=[256/f.width*2+1,256/f.height*2+1],_e=y?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;_e.clear();for(var de=c.lineVertexArray,Oe=y?c.text.placedSymbolArray:c.icon.placedSymbolArray,Te=f.transform.width/f.transform.height,ze=!1,Pe=0;Pe<Oe.length;Pe++){var Be=Oe.get(Pe);if(Be.hidden||Be.writingMode===o.WritingMode.vertical&&!ze)as(Be.numGlyphs,_e);else{ze=!1;var Ke=[Be.anchorX,Be.anchorY,0,1];if(o.transformMat4(Ke,Ke,p),wn(Ke,Ae)){var et=Qe(f.transform.cameraToCenterDistance,Ke[3]),dt=o.evaluateSizeForFeature(G,te,Be),ht=F?dt/et:dt*et,yt=new o.Point(Be.anchorX,Be.anchorY),Pt=Xt(yt,E).point,zt={},Ft=Qo(Be,ht,!1,$,p,E,L,c.glyphOffsetArray,de,_e,Pt,yt,zt,Te);ze=Ft.useVertical,(Ft.notEnoughRoom||ze||Ft.needsFlipping&&Qo(Be,ht,!0,$,p,E,L,c.glyphOffsetArray,de,_e,Pt,yt,zt,Te).notEnoughRoom)&&as(Be.numGlyphs,_e)}else as(Be.numGlyphs,_e)}}y?c.text.dynamicLayoutVertexBuffer.updateData(_e):c.icon.dynamicLayoutVertexBuffer.updateData(_e)}function zc(c,p,f,y,E,L,F,$,G,te,Ae){var _e=$.glyphStartIndex+$.numGlyphs,de=$.lineStartIndex,Oe=$.lineStartIndex+$.lineLength,Te=p.getoffsetX($.glyphStartIndex),ze=p.getoffsetX(_e-1),Pe=Re(c*Te,f,y,E,L,F,$.segment,de,Oe,G,te,Ae);if(!Pe)return null;var Be=Re(c*ze,f,y,E,L,F,$.segment,de,Oe,G,te,Ae);return Be?{first:Pe,last:Be}:null}function oo(c,p,f,y){return c===o.WritingMode.horizontal&&Math.abs(f.y-p.y)>Math.abs(f.x-p.x)*y?{useVertical:!0}:(c===o.WritingMode.vertical?p.y<f.y:p.x>f.x)?{needsFlipping:!0}:null}function Qo(c,p,f,y,E,L,F,$,G,te,Ae,_e,de,Oe){var Te,ze=p/24,Pe=c.lineOffsetX*ze,Be=c.lineOffsetY*ze;if(c.numGlyphs>1){var Ke=c.glyphStartIndex+c.numGlyphs,et=c.lineStartIndex,dt=c.lineStartIndex+c.lineLength,ht=zc(ze,$,Pe,Be,f,Ae,_e,c,G,L,de);if(!ht)return{notEnoughRoom:!0};var yt=Xt(ht.first.point,F).point,Pt=Xt(ht.last.point,F).point;if(y&&!f){var zt=oo(c.writingMode,yt,Pt,Oe);if(zt)return zt}Te=[ht.first];for(var Ft=c.glyphStartIndex+1;Ft<Ke-1;Ft++)Te.push(Re(ze*$.getoffsetX(Ft),Pe,Be,f,Ae,_e,c.segment,et,dt,G,L,de));Te.push(ht.last)}else{if(y&&!f){var tn=Xt(_e,E).point,mn=c.lineStartIndex+c.segment+1,Tn=new o.Point(G.getx(mn),G.gety(mn)),kn=Xt(Tn,E),_r=kn.signedDistanceFromCamera>0?kn.point:Nc(_e,Tn,tn,1,E),pn=oo(c.writingMode,tn,_r,Oe);if(pn)return pn}var Rn=Re(ze*$.getoffsetX(c.glyphStartIndex),Pe,Be,f,Ae,_e,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,G,L,de);if(!Rn)return{notEnoughRoom:!0};Te=[Rn]}for(var tr=0,Vn=Te;tr<Vn.length;tr+=1){var zn=Vn[tr];o.addDynamicAttributes(te,zn.point,zn.angle)}return{}}function Nc(c,p,f,y,E){var L=Xt(c.add(c.sub(p)._unit()),E).point,F=f.sub(L);return f.add(F._mult(y/F.mag()))}function Re(c,p,f,y,E,L,F,$,G,te,Ae,_e){var de=y?c-p:c+p,Oe=de>0?1:-1,Te=0;y&&(Oe*=-1,Te=Math.PI),Oe<0&&(Te+=Math.PI);for(var ze=Oe>0?$+F:$+F+1,Pe=E,Be=E,Ke=0,et=0,dt=Math.abs(de),ht=[];Ke+et<=dt;){if((ze+=Oe)<$||ze>=G)return null;if(Be=Pe,ht.push(Pe),(Pe=_e[ze])===void 0){var yt=new o.Point(te.getx(ze),te.gety(ze)),Pt=Xt(yt,Ae);if(Pt.signedDistanceFromCamera>0)Pe=_e[ze]=Pt.point;else{var zt=ze-Oe;Pe=Nc(Ke===0?L:new o.Point(te.getx(zt),te.gety(zt)),yt,Be,dt-Ke+1,Ae)}}Ke+=et,et=Be.dist(Pe)}var Ft=(dt-Ke)/et,tn=Pe.sub(Be),mn=tn.mult(Ft)._add(Be);mn._add(tn._unit()._perp()._mult(f*Oe));var Tn=Te+Math.atan2(Pe.y-Be.y,Pe.x-Be.x);return ht.push(mn),{point:mn,angle:Tn,path:ht}}vr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},vr.prototype.insert=function(c,p,f,y,E){this._forEachCell(p,f,y,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(E)},vr.prototype.insertCircle=function(c,p,f,y){this._forEachCell(p-y,f-y,p+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(f),this.circles.push(y)},vr.prototype._insertBoxCell=function(c,p,f,y,E,L){this.boxCells[E].push(L)},vr.prototype._insertCircleCell=function(c,p,f,y,E,L){this.circleCells[E].push(L)},vr.prototype._query=function(c,p,f,y,E,L){if(f<0||c>this.width||y<0||p>this.height)return!E&&[];var F=[];if(c<=0&&p<=0&&this.width<=f&&this.height<=y){if(E)return!0;for(var $=0;$<this.boxKeys.length;$++)F.push({key:this.boxKeys[$],x1:this.bboxes[4*$],y1:this.bboxes[4*$+1],x2:this.bboxes[4*$+2],y2:this.bboxes[4*$+3]});for(var G=0;G<this.circleKeys.length;G++){var te=this.circles[3*G],Ae=this.circles[3*G+1],_e=this.circles[3*G+2];F.push({key:this.circleKeys[G],x1:te-_e,y1:Ae-_e,x2:te+_e,y2:Ae+_e})}return L?F.filter(L):F}return this._forEachCell(c,p,f,y,this._queryCell,F,{hitTest:E,seenUids:{box:{},circle:{}}},L),E?F.length>0:F},vr.prototype._queryCircle=function(c,p,f,y,E){var L=c-f,F=c+f,$=p-f,G=p+f;if(F<0||L>this.width||G<0||$>this.height)return!y&&[];var te=[];return this._forEachCell(L,$,F,G,this._queryCellCircle,te,{hitTest:y,circle:{x:c,y:p,radius:f},seenUids:{box:{},circle:{}}},E),y?te.length>0:te},vr.prototype.query=function(c,p,f,y,E){return this._query(c,p,f,y,!1,E)},vr.prototype.hitTest=function(c,p,f,y,E){return this._query(c,p,f,y,!0,E)},vr.prototype.hitTestCircle=function(c,p,f,y){return this._queryCircle(c,p,f,!0,y)},vr.prototype._queryCell=function(c,p,f,y,E,L,F,$){var G=F.seenUids,te=this.boxCells[E];if(te!==null)for(var Ae=this.bboxes,_e=0,de=te;_e<de.length;_e+=1){var Oe=de[_e];if(!G.box[Oe]){G.box[Oe]=!0;var Te=4*Oe;if(c<=Ae[Te+2]&&p<=Ae[Te+3]&&f>=Ae[Te+0]&&y>=Ae[Te+1]&&(!$||$(this.boxKeys[Oe]))){if(F.hitTest)return L.push(!0),!0;L.push({key:this.boxKeys[Oe],x1:Ae[Te],y1:Ae[Te+1],x2:Ae[Te+2],y2:Ae[Te+3]})}}}var ze=this.circleCells[E];if(ze!==null)for(var Pe=this.circles,Be=0,Ke=ze;Be<Ke.length;Be+=1){var et=Ke[Be];if(!G.circle[et]){G.circle[et]=!0;var dt=3*et;if(this._circleAndRectCollide(Pe[dt],Pe[dt+1],Pe[dt+2],c,p,f,y)&&(!$||$(this.circleKeys[et]))){if(F.hitTest)return L.push(!0),!0;var ht=Pe[dt],yt=Pe[dt+1],Pt=Pe[dt+2];L.push({key:this.circleKeys[et],x1:ht-Pt,y1:yt-Pt,x2:ht+Pt,y2:yt+Pt})}}}},vr.prototype._queryCellCircle=function(c,p,f,y,E,L,F,$){var G=F.circle,te=F.seenUids,Ae=this.boxCells[E];if(Ae!==null)for(var _e=this.bboxes,de=0,Oe=Ae;de<Oe.length;de+=1){var Te=Oe[de];if(!te.box[Te]){te.box[Te]=!0;var ze=4*Te;if(this._circleAndRectCollide(G.x,G.y,G.radius,_e[ze+0],_e[ze+1],_e[ze+2],_e[ze+3])&&(!$||$(this.boxKeys[Te])))return L.push(!0),!0}}var Pe=this.circleCells[E];if(Pe!==null)for(var Be=this.circles,Ke=0,et=Pe;Ke<et.length;Ke+=1){var dt=et[Ke];if(!te.circle[dt]){te.circle[dt]=!0;var ht=3*dt;if(this._circlesCollide(Be[ht],Be[ht+1],Be[ht+2],G.x,G.y,G.radius)&&(!$||$(this.circleKeys[dt])))return L.push(!0),!0}}},vr.prototype._forEachCell=function(c,p,f,y,E,L,F,$){for(var G=this._convertToXCellCoord(c),te=this._convertToYCellCoord(p),Ae=this._convertToXCellCoord(f),_e=this._convertToYCellCoord(y),de=G;de<=Ae;de++)for(var Oe=te;Oe<=_e;Oe++)if(E.call(this,c,p,f,y,this.xCellCount*Oe+de,L,F,$))return},vr.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},vr.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},vr.prototype._circlesCollide=function(c,p,f,y,E,L){var F=y-c,$=E-p,G=f+L;return G*G>F*F+$*$},vr.prototype._circleAndRectCollide=function(c,p,f,y,E,L,F){var $=(L-y)/2,G=Math.abs(c-(y+$));if(G>$+f)return!1;var te=(F-E)/2,Ae=Math.abs(p-(E+te));if(Ae>te+f)return!1;if(G<=$||Ae<=te)return!0;var _e=G-$,de=Ae-te;return _e*_e+de*de<=f*f};var ao=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function as(c,p){for(var f=0;f<c;f++){var y=p.length;p.resize(y+4),p.float32.set(ao,3*y)}}function ca(c,p,f){var y=p[0],E=p[1];return c[0]=f[0]*y+f[4]*E+f[12],c[1]=f[1]*y+f[5]*E+f[13],c[3]=f[3]*y+f[7]*E+f[15],c}var si=function(c,p,f){p===void 0&&(p=new vr(c.width+200,c.height+200,25)),f===void 0&&(f=new vr(c.width+200,c.height+200,25)),this.transform=c,this.grid=p,this.ignoredGrid=f,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function fa(c,p,f){return p*(o.EXTENT/(c.tileSize*Math.pow(2,f-c.tileID.overscaledZ)))}si.prototype.placeCollisionBox=function(c,p,f,y,E){var L=this.projectAndGetPerspectiveRatio(y,c.anchorPointX,c.anchorPointY),F=f*L.perspectiveRatio,$=c.x1*F+L.point.x,G=c.y1*F+L.point.y,te=c.x2*F+L.point.x,Ae=c.y2*F+L.point.y;return!this.isInsideGrid($,G,te,Ae)||!p&&this.grid.hitTest($,G,te,Ae,E)?{box:[],offscreen:!1}:{box:[$,G,te,Ae],offscreen:this.isOffscreen($,G,te,Ae)}},si.prototype.placeCollisionCircles=function(c,p,f,y,E,L,F,$,G,te,Ae,_e,de){var Oe=[],Te=new o.Point(p.anchorX,p.anchorY),ze=Xt(Te,L),Pe=Qe(this.transform.cameraToCenterDistance,ze.signedDistanceFromCamera),Be=(te?E/Pe:E*Pe)/o.ONE_EM,Ke=Xt(Te,F).point,et=zc(Be,y,p.lineOffsetX*Be,p.lineOffsetY*Be,!1,Ke,Te,p,f,F,{}),dt=!1,ht=!1,yt=!0;if(et){for(var Pt=.5*_e*Pe+de,zt=new o.Point(-100,-100),Ft=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),tn=new lr,mn=et.first,Tn=et.last,kn=[],_r=mn.path.length-1;_r>=1;_r--)kn.push(mn.path[_r]);for(var pn=1;pn<Tn.path.length;pn++)kn.push(Tn.path[pn]);var Rn=2.5*Pt;if($){var tr=kn.map(function(As){return Xt(As,$)});kn=tr.some(function(As){return As.signedDistanceFromCamera<=0})?[]:tr.map(function(As){return As.point})}var Vn=[];if(kn.length>0){for(var zn=kn[0].clone(),Un=kn[0].clone(),Dn=1;Dn<kn.length;Dn++)zn.x=Math.min(zn.x,kn[Dn].x),zn.y=Math.min(zn.y,kn[Dn].y),Un.x=Math.max(Un.x,kn[Dn].x),Un.y=Math.max(Un.y,kn[Dn].y);Vn=zn.x>=zt.x&&Un.x<=Ft.x&&zn.y>=zt.y&&Un.y<=Ft.y?[kn]:Un.x<zt.x||zn.x>Ft.x||Un.y<zt.y||zn.y>Ft.y?[]:o.clipLine([kn],zt.x,zt.y,Ft.x,Ft.y)}for(var An=0,Gr=Vn;An<Gr.length;An+=1){var Vi;tn.reset(Gr[An],.25*Pt),Vi=tn.length<=.5*Pt?1:Math.ceil(tn.paddedLength/Rn)+1;for(var Ii=0;Ii<Vi;Ii++){var so=Ii/Math.max(Vi-1,1),Xi=tn.lerp(so),fi=Xi.x+100,na=Xi.y+100;Oe.push(fi,na,Pt,0);var Hi=fi-Pt,ra=na-Pt,wa=fi+Pt,dl=na+Pt;if(yt=yt&&this.isOffscreen(Hi,ra,wa,dl),ht=ht||this.isInsideGrid(Hi,ra,wa,dl),!c&&this.grid.hitTestCircle(fi,na,Pt,Ae)&&(dt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:dt}}}}return{circles:!G&&dt||!ht?[]:Oe,offscreen:yt,collisionDetected:dt}},si.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],f=1/0,y=1/0,E=-1/0,L=-1/0,F=0,$=c;F<$.length;F+=1){var G=$[F],te=new o.Point(G.x+100,G.y+100);f=Math.min(f,te.x),y=Math.min(y,te.y),E=Math.max(E,te.x),L=Math.max(L,te.y),p.push(te)}for(var Ae={},_e={},de=0,Oe=this.grid.query(f,y,E,L).concat(this.ignoredGrid.query(f,y,E,L));de<Oe.length;de+=1){var Te=Oe[de],ze=Te.key;if(Ae[ze.bucketInstanceId]===void 0&&(Ae[ze.bucketInstanceId]={}),!Ae[ze.bucketInstanceId][ze.featureIndex]){var Pe=[new o.Point(Te.x1,Te.y1),new o.Point(Te.x2,Te.y1),new o.Point(Te.x2,Te.y2),new o.Point(Te.x1,Te.y2)];o.polygonIntersectsPolygon(p,Pe)&&(Ae[ze.bucketInstanceId][ze.featureIndex]=!0,_e[ze.bucketInstanceId]===void 0&&(_e[ze.bucketInstanceId]=[]),_e[ze.bucketInstanceId].push(ze.featureIndex))}}return _e},si.prototype.insertCollisionBox=function(c,p,f,y,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:E},c[0],c[1],c[2],c[3])},si.prototype.insertCollisionCircles=function(c,p,f,y,E){for(var L=p?this.ignoredGrid:this.grid,F={bucketInstanceId:f,featureIndex:y,collisionGroupID:E},$=0;$<c.length;$+=4)L.insertCircle(F,c[$],c[$+1],c[$+2])},si.prototype.projectAndGetPerspectiveRatio=function(c,p,f){var y=[p,f,0,1];return ca(y,y,c),{point:new o.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},si.prototype.isOffscreen=function(c,p,f,y){return f<100||c>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},si.prototype.isInsideGrid=function(c,p,f,y){return f>=0&&c<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},si.prototype.getViewportMatrix=function(){var c=o.identity([]);return o.translate(c,c,[-100,-100,0]),c};var Eo=function(c,p,f,y){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):y&&f?1:0,this.placed=f};Eo.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Wo=function(c,p,f,y,E){this.text=new Eo(c?c.text:null,p,f,E),this.icon=new Eo(c?c.icon:null,p,y,E)};Wo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ss=function(c,p,f){this.text=c,this.icon=p,this.skipFade=f},Rf=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},zi=function(c,p,f,y,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=E},ki=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function ls(c,p,f,y,E){var L=o.getAnchorAlignment(c),F=-(L.horizontalAlign-.5)*p,$=-(L.verticalAlign-.5)*f,G=o.evaluateVariableOffset(c,y);return new o.Point(F+G[0]*E,$+G[1]*E)}function wi(c,p,f,y,E,L){var F=c.x1,$=c.x2,G=c.y1,te=c.y2,Ae=c.anchorPointX,_e=c.anchorPointY,de=new o.Point(p,f);return y&&de._rotate(E?L:-L),{x1:F+de.x,y1:G+de.y,x2:$+de.x,y2:te+de.y,anchorPointX:Ae,anchorPointY:_e}}ki.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:function(f){return f.collisionGroupID===p}}}return this.collisionGroups[c]};var Ni=function(c,p,f,y){this.transform=c.clone(),this.collisionIndex=new si(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ki(f),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Rl(c,p,f,y,E){c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0),c.emplaceBack(p?1:0,f?1:0,y||0,E||0)}Ni.prototype.getBucketParts=function(c,p,f,y){var E=f.getBucket(p),L=f.latestFeatureIndex;if(E&&L&&p.id===E.layerIds[0]){var F=f.collisionBoxArray,$=E.layers[0].layout,G=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),te=f.tileSize/o.EXTENT,Ae=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),_e=$.get("text-pitch-alignment")==="map",de=$.get("text-rotation-alignment")==="map",Oe=fa(f,1,this.transform.zoom),Te=Ai(Ae,_e,de,this.transform,Oe),ze=null;if(_e){var Pe=Sr(Ae,_e,de,this.transform,Oe);ze=o.multiply([],this.transform.labelPlaneMatrix,Pe)}this.retainedQueryData[E.bucketInstanceId]=new zi(E.bucketInstanceId,L,E.sourceLayerIndex,E.index,f.tileID);var Be={bucket:E,layout:$,posMatrix:Ae,textLabelPlaneMatrix:Te,labelToScreenMatrix:ze,scale:G,textPixelRatio:te,holdingForFade:f.holdingForFade(),collisionBoxArray:F,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(y)for(var Ke=0,et=E.sortKeyRanges;Ke<et.length;Ke+=1){var dt=et[Ke];c.push({sortKey:dt.sortKey,symbolInstanceStart:dt.symbolInstanceStart,symbolInstanceEnd:dt.symbolInstanceEnd,parameters:Be})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Be})}},Ni.prototype.attemptAnchorPlacement=function(c,p,f,y,E,L,F,$,G,te,Ae,_e,de,Oe,Te){var ze,Pe=[_e.textOffset0,_e.textOffset1],Be=ls(c,f,y,Pe,E),Ke=this.collisionIndex.placeCollisionBox(wi(p,Be.x,Be.y,L,F,this.transform.angle),Ae,$,G,te.predicate);if(!Te||this.collisionIndex.placeCollisionBox(wi(Te,Be.x,Be.y,L,F,this.transform.angle),Ae,$,G,te.predicate).box.length!==0)return Ke.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID]&&this.prevPlacement.placements[_e.crossTileID].text&&(ze=this.prevPlacement.variableOffsets[_e.crossTileID].anchor),this.variableOffsets[_e.crossTileID]={textOffset:Pe,width:f,height:y,anchor:c,textBoxScale:E,prevAnchor:ze},this.markUsedJustification(de,c,_e,Oe),de.allowVerticalPlacement&&(this.markUsedOrientation(de,Oe,_e),this.placedOrientations[_e.crossTileID]=Oe),{shift:Be,placedGlyphBoxes:Ke}):void 0},Ni.prototype.placeLayerBucketPart=function(c,p,f){var y=this,E=c.parameters,L=E.bucket,F=E.layout,$=E.posMatrix,G=E.textLabelPlaneMatrix,te=E.labelToScreenMatrix,Ae=E.textPixelRatio,_e=E.holdingForFade,de=E.collisionBoxArray,Oe=E.partiallyEvaluatedTextSize,Te=E.collisionGroup,ze=F.get("text-optional"),Pe=F.get("icon-optional"),Be=F.get("text-allow-overlap"),Ke=F.get("icon-allow-overlap"),et=F.get("text-rotation-alignment")==="map",dt=F.get("text-pitch-alignment")==="map",ht=F.get("icon-text-fit")!=="none",yt=F.get("symbol-z-order")==="viewport-y",Pt=Be&&(Ke||!L.hasIconData()||Pe),zt=Ke&&(Be||!L.hasTextData()||ze);!L.collisionArrays&&de&&L.deserializeCollisionBoxes(de);var Ft=function(pn,Rn){if(!p[pn.crossTileID])if(_e)y.placements[pn.crossTileID]=new ss(!1,!1,!1);else{var tr,Vn=!1,zn=!1,Un=!0,Dn=null,An={box:null,offscreen:null},Gr={box:null,offscreen:null},Vi=null,Ii=null,so=0,Xi=0,fi=0;Rn.textFeatureIndex?so=Rn.textFeatureIndex:pn.useRuntimeCollisionCircles&&(so=pn.featureIndex),Rn.verticalTextFeatureIndex&&(Xi=Rn.verticalTextFeatureIndex);var na=Rn.textBox;if(na){var Hi=function(Yi){var qi=o.WritingMode.horizontal;if(L.allowVerticalPlacement&&!Yi&&y.prevPlacement){var Aa=y.prevPlacement.placedOrientations[pn.crossTileID];Aa&&(y.placedOrientations[pn.crossTileID]=Aa,y.markUsedOrientation(L,qi=Aa,pn))}return qi},ra=function(Yi,qi){if(L.allowVerticalPlacement&&pn.numVerticalGlyphVertices>0&&Rn.verticalTextBox)for(var Aa=0,uc=L.writingModes;Aa<uc.length&&(uc[Aa]===o.WritingMode.vertical?(An=qi(),Gr=An):An=Yi(),!(An&&An.box&&An.box.length));Aa+=1);else An=Yi()};if(F.get("text-variable-anchor")){var wa=F.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[pn.crossTileID]){var dl=y.prevPlacement.variableOffsets[pn.crossTileID];wa.indexOf(dl.anchor)>0&&(wa=wa.filter(function(Yi){return Yi!==dl.anchor})).unshift(dl.anchor)}var As=function(Yi,qi,Aa){for(var uc=Yi.x2-Yi.x1,qp=Yi.y2-Yi.y1,eA=pn.textBoxScale,qf=ht&&!Ke?qi:null,Gf={box:[],offscreen:!1},tA=Be?2*wa.length:wa.length,xu=0;xu<tA;++xu){var Qf=y.attemptAnchorPlacement(wa[xu%wa.length],Yi,uc,qp,eA,et,dt,Ae,$,Te,xu>=wa.length,pn,L,Aa,qf);if(Qf&&(Gf=Qf.placedGlyphBoxes)&&Gf.box&&Gf.box.length){Vn=!0,Dn=Qf.shift;break}}return Gf};ra(function(){return As(na,Rn.iconBox,o.WritingMode.horizontal)},function(){var Yi=Rn.verticalTextBox;return L.allowVerticalPlacement&&!(An&&An.box&&An.box.length)&&pn.numVerticalGlyphVertices>0&&Yi?As(Yi,Rn.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),An&&(Vn=An.box,Un=An.offscreen);var Vf=Hi(An&&An.box);if(!Vn&&y.prevPlacement){var vu=y.prevPlacement.variableOffsets[pn.crossTileID];vu&&(y.variableOffsets[pn.crossTileID]=vu,y.markUsedJustification(L,vu.anchor,pn,Vf))}}else{var ml=function(Yi,qi){var Aa=y.collisionIndex.placeCollisionBox(Yi,Be,Ae,$,Te.predicate);return Aa&&Aa.box&&Aa.box.length&&(y.markUsedOrientation(L,qi,pn),y.placedOrientations[pn.crossTileID]=qi),Aa};ra(function(){return ml(na,o.WritingMode.horizontal)},function(){var Yi=Rn.verticalTextBox;return L.allowVerticalPlacement&&pn.numVerticalGlyphVertices>0&&Yi?ml(Yi,o.WritingMode.vertical):{box:null,offscreen:null}}),Hi(An&&An.box&&An.box.length)}}if(Vn=(tr=An)&&tr.box&&tr.box.length>0,Un=tr&&tr.offscreen,pn.useRuntimeCollisionCircles){var _u=L.text.placedSymbolArray.get(pn.centerJustifiedTextSymbolIndex),Hf=o.evaluateSizeForFeature(L.textSizeData,Oe,_u),rf=F.get("text-padding");Vi=y.collisionIndex.placeCollisionCircles(Be,_u,L.lineVertexArray,L.glyphOffsetArray,Hf,$,G,te,f,dt,Te.predicate,pn.collisionCircleDiameter,rf),Vn=Be||Vi.circles.length>0&&!Vi.collisionDetected,Un=Un&&Vi.offscreen}if(Rn.iconFeatureIndex&&(fi=Rn.iconFeatureIndex),Rn.iconBox){var Qa=function(Yi){var qi=ht&&Dn?wi(Yi,Dn.x,Dn.y,et,dt,y.transform.angle):Yi;return y.collisionIndex.placeCollisionBox(qi,Ke,Ae,$,Te.predicate)};zn=Gr&&Gr.box&&Gr.box.length&&Rn.verticalIconBox?(Ii=Qa(Rn.verticalIconBox)).box.length>0:(Ii=Qa(Rn.iconBox)).box.length>0,Un=Un&&Ii.offscreen}var of=ze||pn.numHorizontalGlyphVertices===0&&pn.numVerticalGlyphVertices===0,go=Pe||pn.numIconVertices===0;if(of||go?go?of||(zn=zn&&Vn):Vn=zn&&Vn:zn=Vn=zn&&Vn,Vn&&tr&&tr.box&&y.collisionIndex.insertCollisionBox(tr.box,F.get("text-ignore-placement"),L.bucketInstanceId,Gr&&Gr.box&&Xi?Xi:so,Te.ID),zn&&Ii&&y.collisionIndex.insertCollisionBox(Ii.box,F.get("icon-ignore-placement"),L.bucketInstanceId,fi,Te.ID),Vi&&(Vn&&y.collisionIndex.insertCollisionCircles(Vi.circles,F.get("text-ignore-placement"),L.bucketInstanceId,so,Te.ID),f)){var Xs=L.bucketInstanceId,Ts=y.collisionCircleArrays[Xs];Ts===void 0&&(Ts=y.collisionCircleArrays[Xs]=new Rf);for(var lc=0;lc<Vi.circles.length;lc+=4)Ts.circles.push(Vi.circles[lc+0]),Ts.circles.push(Vi.circles[lc+1]),Ts.circles.push(Vi.circles[lc+2]),Ts.circles.push(Vi.collisionDetected?1:0)}y.placements[pn.crossTileID]=new ss(Vn||Pt,zn||zt,Un||L.justReloaded),p[pn.crossTileID]=!0}};if(yt)for(var tn=L.getSortedSymbolIndexes(this.transform.angle),mn=tn.length-1;mn>=0;--mn){var Tn=tn[mn];Ft(L.symbolInstances.get(Tn),L.collisionArrays[Tn])}else for(var kn=c.symbolInstanceStart;kn<c.symbolInstanceEnd;kn++)Ft(L.symbolInstances.get(kn),L.collisionArrays[kn]);if(f&&L.bucketInstanceId in this.collisionCircleArrays){var _r=this.collisionCircleArrays[L.bucketInstanceId];o.invert(_r.invProjMatrix,$),_r.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1},Ni.prototype.markUsedJustification=function(c,p,f,y){var E;E=y===o.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[o.getAnchorJustification(p)];for(var L=0,F=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];L<F.length;L+=1){var $=F[L];$>=0&&(c.text.placedSymbolArray.get($).crossTileID=E>=0&&$!==E?0:f.crossTileID)}},Ni.prototype.markUsedOrientation=function(c,p,f){for(var y=p===o.WritingMode.horizontal||p===o.WritingMode.horizontalOnly?p:0,E=p===o.WritingMode.vertical?p:0,L=0,F=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];L<F.length;L+=1)c.text.placedSymbolArray.get(F[L]).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=E)},Ni.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,f=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},L=p?p.variableOffsets:{},F=p?p.placedOrientations:{};for(var $ in this.placements){var G=this.placements[$],te=E[$];te?(this.opacities[$]=new Wo(te,y,G.text,G.icon),f=f||G.text!==te.text.placed||G.icon!==te.icon.placed):(this.opacities[$]=new Wo(null,y,G.text,G.icon,G.skipFade),f=f||G.text||G.icon)}for(var Ae in E){var _e=E[Ae];if(!this.opacities[Ae]){var de=new Wo(_e,y,!1,!1);de.isHidden()||(this.opacities[Ae]=de,f=f||_e.text.placed||_e.icon.placed)}}for(var Oe in L)this.variableOffsets[Oe]||!this.opacities[Oe]||this.opacities[Oe].isHidden()||(this.variableOffsets[Oe]=L[Oe]);for(var Te in F)this.placedOrientations[Te]||!this.opacities[Te]||this.opacities[Te].isHidden()||(this.placedOrientations[Te]=F[Te]);f?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)},Ni.prototype.updateLayerOpacities=function(c,p){for(var f={},y=0,E=p;y<E.length;y+=1){var L=E[y],F=L.getBucket(c);F&&L.latestFeatureIndex&&c.id===F.layerIds[0]&&this.updateBucketOpacities(F,f,L.collisionBoxArray)}},Ni.prototype.updateBucketOpacities=function(c,p,f){var y=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,L=new Wo(null,0,!1,!1,!0),F=E.get("text-allow-overlap"),$=E.get("icon-allow-overlap"),G=E.get("text-variable-anchor"),te=E.get("text-rotation-alignment")==="map",Ae=E.get("text-pitch-alignment")==="map",_e=E.get("icon-text-fit")!=="none",de=new Wo(null,0,F&&($||!c.hasIconData()||E.get("icon-optional")),$&&(F||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&f&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(f);for(var Oe=function(Be,Ke,et){for(var dt=0;dt<Ke/4;dt++)Be.opacityVertexArray.emplaceBack(et)},Te=function(Be){var Ke=c.symbolInstances.get(Be),et=Ke.numHorizontalGlyphVertices,dt=Ke.numVerticalGlyphVertices,ht=Ke.crossTileID,yt=y.opacities[ht];p[ht]?yt=L:yt||(y.opacities[ht]=yt=de),p[ht]=!0;var Pt=Ke.numIconVertices>0,zt=y.placedOrientations[Ke.crossTileID],Ft=zt===o.WritingMode.vertical,tn=zt===o.WritingMode.horizontal||zt===o.WritingMode.horizontalOnly;if(et>0||dt>0){var mn=Ff(yt.text);Oe(c.text,et,Ft?Zu:mn),Oe(c.text,dt,tn?Zu:mn);var Tn=yt.text.isHidden();[Ke.rightJustifiedTextSymbolIndex,Ke.centerJustifiedTextSymbolIndex,Ke.leftJustifiedTextSymbolIndex].forEach(function(An){An>=0&&(c.text.placedSymbolArray.get(An).hidden=Tn||Ft?1:0)}),Ke.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Ke.verticalPlacedTextSymbolIndex).hidden=Tn||tn?1:0);var kn=y.variableOffsets[Ke.crossTileID];kn&&y.markUsedJustification(c,kn.anchor,Ke,zt);var _r=y.placedOrientations[Ke.crossTileID];_r&&(y.markUsedJustification(c,"left",Ke,_r),y.markUsedOrientation(c,_r,Ke))}if(Pt){var pn=Ff(yt.icon),Rn=!(_e&&Ke.verticalPlacedIconSymbolIndex&&Ft);Ke.placedIconSymbolIndex>=0&&(Oe(c.icon,Ke.numIconVertices,Rn?pn:Zu),c.icon.placedSymbolArray.get(Ke.placedIconSymbolIndex).hidden=yt.icon.isHidden()),Ke.verticalPlacedIconSymbolIndex>=0&&(Oe(c.icon,Ke.numVerticalIconVertices,Rn?Zu:pn),c.icon.placedSymbolArray.get(Ke.verticalPlacedIconSymbolIndex).hidden=yt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var tr=c.collisionArrays[Be];if(tr){var Vn=new o.Point(0,0);if(tr.textBox||tr.verticalTextBox){var zn=!0;if(G){var Un=y.variableOffsets[ht];Un?(Vn=ls(Un.anchor,Un.width,Un.height,Un.textOffset,Un.textBoxScale),te&&Vn._rotate(Ae?y.transform.angle:-y.transform.angle)):zn=!1}tr.textBox&&Rl(c.textCollisionBox.collisionVertexArray,yt.text.placed,!zn||Ft,Vn.x,Vn.y),tr.verticalTextBox&&Rl(c.textCollisionBox.collisionVertexArray,yt.text.placed,!zn||tn,Vn.x,Vn.y)}var Dn=Boolean(!tn&&tr.verticalIconBox);tr.iconBox&&Rl(c.iconCollisionBox.collisionVertexArray,yt.icon.placed,Dn,_e?Vn.x:0,_e?Vn.y:0),tr.verticalIconBox&&Rl(c.iconCollisionBox.collisionVertexArray,yt.icon.placed,!Dn,_e?Vn.x:0,_e?Vn.y:0)}}},ze=0;ze<c.symbolInstances.length;ze++)Te(ze);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var Pe=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Pe.invProjMatrix,c.placementViewportMatrix=Pe.viewportMatrix,c.collisionCircleArray=Pe.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},Ni.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ni.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},Ni.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},Ni.prototype.stillRecent=function(c,p){var f=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*f>c},Ni.prototype.setStale=function(){this.stale=!0};var Ku=Math.pow(2,25),Dp=Math.pow(2,24),Fp=Math.pow(2,17),ci=Math.pow(2,16),Uc=Math.pow(2,9),Df=Math.pow(2,8),Jh=Math.pow(2,1);function Ff(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var p=c.placed?1:0,f=Math.floor(127*c.opacity);return f*Ku+p*Dp+f*Fp+p*ci+f*Uc+p*Df+f*Jh+p}var Zu=0,Xu=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Xu.prototype.continuePlacement=function(c,p,f,y,E){for(var L=this._bucketParts;this._currentTileIndex<c.length;)if(p.getBucketParts(L,y,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort(function(F,$){return F.sortKey-$.sortKey}));this._currentPartIndex<L.length;)if(p.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,E())return!0;return!1};var Dl=function(c,p,f,y,E,L,F){this.placement=new Ni(c,E,L,F),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1};Dl.prototype.isDone=function(){return this._done},Dl.prototype.continuePlacement=function(c,p,f){for(var y=this,E=o.browser.now(),L=function(){var G=o.browser.now()-E;return!y._forceFullPlacement&&G>2};this._currentPlacementIndex>=0;){var F=p[c[this._currentPlacementIndex]],$=this.placement.collisionIndex.transform.zoom;if(F.type==="symbol"&&(!F.minzoom||F.minzoom<=$)&&(!F.maxzoom||F.maxzoom>$)){if(this._inProgressLayer||(this._inProgressLayer=new Xu(F)),this._inProgressLayer.continuePlacement(f[F.source],this.placement,this._showCollisionBoxes,F,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Dl.prototype.commit=function(c){return this.placement.commit(c),this.placement};var $c=512/o.EXTENT/2,jc=function(c,p,f){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(var y=0;y<p.length;y++){var E=p.get(y),L=E.key;this.indexedSymbolInstances[L]||(this.indexedSymbolInstances[L]=[]),this.indexedSymbolInstances[L].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};jc.prototype.getScaledCoordinates=function(c,p){var f=$c/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*o.EXTENT+c.anchorX)*f),y:Math.floor((p.canonical.y*o.EXTENT+c.anchorY)*f)}},jc.prototype.findMatches=function(c,p,f){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),E=0;E<c.length;E++){var L=c.get(E);if(!L.crossTileID){var F=this.indexedSymbolInstances[L.key];if(F)for(var $=this.getScaledCoordinates(L,p),G=0,te=F;G<te.length;G+=1){var Ae=te[G];if(Math.abs(Ae.coord.x-$.x)<=y&&Math.abs(Ae.coord.y-$.y)<=y&&!f[Ae.crossTileID]){f[Ae.crossTileID]=!0,L.crossTileID=Ae.crossTileID;break}}}}};var Yu=function(){this.maxCrossTileID=0};Yu.prototype.generate=function(){return++this.maxCrossTileID};var Ko=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ko.prototype.handleWrapJump=function(c){var p=Math.round((c-this.lng)/360);if(p!==0)for(var f in this.indexes){var y=this.indexes[f],E={};for(var L in y){var F=y[L];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+p),E[F.tileID.key]=F}this.indexes[f]=E}this.lng=c},Ko.prototype.addBucket=function(c,p,f){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var L in this.indexes){var F=this.indexes[L];if(Number(L)>c.overscaledZ)for(var $ in F){var G=F[$];G.tileID.isChildOf(c)&&G.findMatches(p.symbolInstances,c,E)}else{var te=F[c.scaledTo(Number(L)).key];te&&te.findMatches(p.symbolInstances,c,E)}}for(var Ae=0;Ae<p.symbolInstances.length;Ae++){var _e=p.symbolInstances.get(Ae);_e.crossTileID||(_e.crossTileID=f.generate(),E[_e.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new jc(c,p.symbolInstances,p.bucketInstanceId),!0},Ko.prototype.removeBucketCrossTileIDs=function(c,p){for(var f in p.indexedSymbolInstances)for(var y=0,E=p.indexedSymbolInstances[f];y<E.length;y+=1)delete this.usedCrossTileIDs[c][E[y].crossTileID]},Ko.prototype.removeStaleBuckets=function(c){var p=!1;for(var f in this.indexes){var y=this.indexes[f];for(var E in y)c[y[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[E]),delete y[E],p=!0)}return p};var sl=function(){this.layerIndexes={},this.crossTileIDs=new Yu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sl.prototype.addLayer=function(c,p,f){var y=this.layerIndexes[c.id];y===void 0&&(y=this.layerIndexes[c.id]=new Ko);var E=!1,L={};y.handleWrapJump(f);for(var F=0,$=p;F<$.length;F+=1){var G=$[F],te=G.getBucket(c);te&&c.id===te.layerIds[0]&&(te.bucketInstanceId||(te.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(G.tileID,te,this.crossTileIDs)&&(E=!0),L[te.bucketInstanceId]=!0)}return y.removeStaleBuckets(L)&&(E=!0),E},sl.prototype.pruneUnusedLayers=function(c){var p={};for(var f in c.forEach(function(y){p[y]=!0}),this.layerIndexes)p[f]||delete this.layerIndexes[f]};var Cs=function(c,p){return o.emitValidationErrors(c,p&&p.filter(function(f){return f.identifier!=="source.canvas"}))},Vc=o.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ll=o.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),$r=function(){var c={},p=o.styleSpec.$version;for(var f in o.styleSpec.$root){var y,E=o.styleSpec.$root[f];E.required&&(y=f==="version"?p:E.type==="array"?[]:{})!=null&&(c[f]=y)}return c}(),Qn=function(c){function p(f,y){var E=this;y===void 0&&(y={}),c.call(this),this.map=f,this.dispatcher=new Ot($t(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new je(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new At(256,512),this.crossTileSymbolIndex=new sl,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var L=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(F){L.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:F.pluginStatus,pluginURL:F.pluginURL},function($,G){if(o.triggerPluginCompletionEvent($),G&&G.every(function(Ae){return Ae}))for(var te in L.sourceCaches)L.sourceCaches[te].reload()})}),this.on("data",function(F){if(F.dataType==="source"&&F.sourceDataType==="metadata"){var $=E.sourceCaches[F.sourceId];if($){var G=$.getSource();if(G&&G.vectorLayerIds)for(var te in E._layers){var Ae=E._layers[te];Ae.source===G.id&&E._validateLayer(Ae)}}}})}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.loadURL=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var L=typeof y.validate=="boolean"?y.validate:!o.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,y.accessToken);var F=this.map._requestManager.transformRequest(f,o.ResourceType.Style);this._request=o.getJSON(F,function($,G){E._request=null,$?E.fire(new o.ErrorEvent($)):G&&E._load(G,L)})},p.prototype.loadJSON=function(f,y){var E=this;y===void 0&&(y={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){E._request=null,E._load(f,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load($r,!1)},p.prototype._load=function(f,y){if(!y||!Cs(this,o.validateStyle(f))){for(var E in this._loaded=!0,this.stylesheet=f,f.sources)this.addSource(E,f.sources[E],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs);var L=It(this.stylesheet.layers);this._order=L.map(function(te){return te.id}),this._layers={},this._serializedLayers={};for(var F=0,$=L;F<$.length;F+=1){var G=$[F];(G=o.createStyleLayer(G)).setEventedParent(this,{layer:{id:G.id}}),this._layers[G.id]=G,this._serializedLayers[G.id]=G.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new rt(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},p.prototype._loadSprite=function(f){var y=this;this._spriteRequest=function(E,L,F){var $,G,te,Ae=o.browser.devicePixelRatio>1?"@2x":"",_e=o.getJSON(L.transformRequest(L.normalizeSpriteURL(E,Ae,".json"),o.ResourceType.SpriteJSON),function(Te,ze){_e=null,te||(te=Te,$=ze,Oe())}),de=o.getImage(L.transformRequest(L.normalizeSpriteURL(E,Ae,".png"),o.ResourceType.SpriteImage),function(Te,ze){de=null,te||(te=Te,G=ze,Oe())});function Oe(){if(te)F(te);else if($&&G){var Te=o.browser.getImageData(G),ze={};for(var Pe in $){var Be=$[Pe],Ke=Be.width,et=Be.height,dt=Be.x,ht=Be.y,yt=Be.sdf,Pt=Be.pixelRatio,zt=Be.stretchX,Ft=Be.stretchY,tn=Be.content,mn=new o.RGBAImage({width:Ke,height:et});o.RGBAImage.copy(Te,mn,{x:dt,y:ht},{x:0,y:0},{width:Ke,height:et}),ze[Pe]={data:mn,pixelRatio:Pt,sdf:yt,stretchX:zt,stretchY:Ft,content:tn}}F(null,ze)}}return{cancel:function(){_e&&(_e.cancel(),_e=null),de&&(de.cancel(),de=null)}}}(f,this.map._requestManager,function(E,L){if(y._spriteRequest=null,E)y.fire(new o.ErrorEvent(E));else if(L)for(var F in L)y.imageManager.addImage(F,L[F]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new o.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(f){var y=this.sourceCaches[f.source];if(y){var E=f.sourceLayer;if(E){var L=y.getSource();(L.type==="geojson"||L.vectorLayerIds&&L.vectorLayerIds.indexOf(E)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+L.id+'" as specified by style layer "'+f.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(f){for(var y=[],E=0,L=f;E<L.length;E+=1){var F=this._layers[L[E]];F.type!=="custom"&&y.push(F.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(f){if(this._loaded){var y=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);for(var F in(E.length||L.length)&&this._updateWorkerLayers(E,L),this._updatedSources){var $=this._updatedSources[F];$==="reload"?this._reloadSource(F):$==="clear"&&this._clearSource(F)}for(var G in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[G].updateTransitions(f);this.light.updateTransitions(f),this._resetUpdates()}var te={};for(var Ae in this.sourceCaches){var _e=this.sourceCaches[Ae];te[Ae]=_e.used,_e.used=!1}for(var de=0,Oe=this._order;de<Oe.length;de+=1){var Te=this._layers[Oe[de]];Te.recalculate(f,this._availableImages),!Te.isHidden(f.zoom)&&Te.source&&(this.sourceCaches[Te.source].used=!0)}for(var ze in te){var Pe=this.sourceCaches[ze];te[ze]!==Pe.used&&Pe.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ze}))}this.light.recalculate(f),this.z=f.zoom,y&&this.fire(new o.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var f=Object.keys(this._changedImages);if(f.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}},p.prototype._updateWorkerLayers=function(f,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(f){var y=this;if(this._checkLoaded(),Cs(this,o.validateStyle(f)))return!1;(f=o.clone$1(f)).layers=It(f.layers);var E=function(F,$){if(!F)return[{command:bt.setStyle,args:[$]}];var G=[];try{if(!o.deepEqual(F.version,$.version))return[{command:bt.setStyle,args:[$]}];o.deepEqual(F.center,$.center)||G.push({command:bt.setCenter,args:[$.center]}),o.deepEqual(F.zoom,$.zoom)||G.push({command:bt.setZoom,args:[$.zoom]}),o.deepEqual(F.bearing,$.bearing)||G.push({command:bt.setBearing,args:[$.bearing]}),o.deepEqual(F.pitch,$.pitch)||G.push({command:bt.setPitch,args:[$.pitch]}),o.deepEqual(F.sprite,$.sprite)||G.push({command:bt.setSprite,args:[$.sprite]}),o.deepEqual(F.glyphs,$.glyphs)||G.push({command:bt.setGlyphs,args:[$.glyphs]}),o.deepEqual(F.transition,$.transition)||G.push({command:bt.setTransition,args:[$.transition]}),o.deepEqual(F.light,$.light)||G.push({command:bt.setLight,args:[$.light]});var te={},Ae=[];(function(de,Oe,Te,ze){var Pe;for(Pe in Oe=Oe||{},de=de||{})de.hasOwnProperty(Pe)&&(Oe.hasOwnProperty(Pe)||fn(Pe,Te,ze));for(Pe in Oe)Oe.hasOwnProperty(Pe)&&(de.hasOwnProperty(Pe)?o.deepEqual(de[Pe],Oe[Pe])||(de[Pe].type==="geojson"&&Oe[Pe].type==="geojson"&&dr(de,Oe,Pe)?Te.push({command:bt.setGeoJSONSourceData,args:[Pe,Oe[Pe].data]}):Qt(Pe,Oe,Te,ze)):hn(Pe,Oe,Te))})(F.sources,$.sources,Ae,te);var _e=[];F.layers&&F.layers.forEach(function(de){te[de.source]?G.push({command:bt.removeLayer,args:[de.id]}):_e.push(de)}),G=G.concat(Ae),function(de,Oe,Te){Oe=Oe||[];var ze,Pe,Be,Ke,et,dt,ht,yt=(de=de||[]).map(Dr),Pt=Oe.map(Dr),zt=de.reduce(gr,{}),Ft=Oe.reduce(gr,{}),tn=yt.slice(),mn=Object.create(null);for(ze=0,Pe=0;ze<yt.length;ze++)Ft.hasOwnProperty(Be=yt[ze])?Pe++:(Te.push({command:bt.removeLayer,args:[Be]}),tn.splice(tn.indexOf(Be,Pe),1));for(ze=0,Pe=0;ze<Pt.length;ze++)tn[tn.length-1-ze]!==(Be=Pt[Pt.length-1-ze])&&(zt.hasOwnProperty(Be)?(Te.push({command:bt.removeLayer,args:[Be]}),tn.splice(tn.lastIndexOf(Be,tn.length-Pe),1)):Pe++,Te.push({command:bt.addLayer,args:[Ft[Be],dt=tn[tn.length-ze]]}),tn.splice(tn.length-ze,0,Be),mn[Be]=!0);for(ze=0;ze<Pt.length;ze++)if(Ke=zt[Be=Pt[ze]],et=Ft[Be],!mn[Be]&&!o.deepEqual(Ke,et))if(o.deepEqual(Ke.source,et.source)&&o.deepEqual(Ke["source-layer"],et["source-layer"])&&o.deepEqual(Ke.type,et.type)){for(ht in Jn(Ke.layout,et.layout,Te,Be,null,bt.setLayoutProperty),Jn(Ke.paint,et.paint,Te,Be,null,bt.setPaintProperty),o.deepEqual(Ke.filter,et.filter)||Te.push({command:bt.setFilter,args:[Be,et.filter]}),o.deepEqual(Ke.minzoom,et.minzoom)&&o.deepEqual(Ke.maxzoom,et.maxzoom)||Te.push({command:bt.setLayerZoomRange,args:[Be,et.minzoom,et.maxzoom]}),Ke)Ke.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(Ke[ht],et[ht],Te,Be,ht.slice(6),bt.setPaintProperty):o.deepEqual(Ke[ht],et[ht])||Te.push({command:bt.setLayerProperty,args:[Be,ht,et[ht]]}));for(ht in et)et.hasOwnProperty(ht)&&!Ke.hasOwnProperty(ht)&&ht!=="layout"&&ht!=="paint"&&ht!=="filter"&&ht!=="metadata"&&ht!=="minzoom"&&ht!=="maxzoom"&&(ht.indexOf("paint.")===0?Jn(Ke[ht],et[ht],Te,Be,ht.slice(6),bt.setPaintProperty):o.deepEqual(Ke[ht],et[ht])||Te.push({command:bt.setLayerProperty,args:[Be,ht,et[ht]]}))}else Te.push({command:bt.removeLayer,args:[Be]}),dt=tn[tn.lastIndexOf(Be)+1],Te.push({command:bt.addLayer,args:[et,dt]})}(_e,$.layers,G)}catch(de){console.warn("Unable to compute style diff:",de),G=[{command:bt.setStyle,args:[$]}]}return G}(this.serialize(),f).filter(function(F){return!(F.command in ll)});if(E.length===0)return!1;var L=E.filter(function(F){return!(F.command in Vc)});if(L.length>0)throw new Error("Unimplemented: "+L.map(function(F){return F.command}).join(", ")+".");return E.forEach(function(F){F.command!=="setTransition"&&y[F.command].apply(y,F.args)}),this.stylesheet=f,!0},p.prototype.addImage=function(f,y){if(this.getImage(f))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,y),this._afterImageUpdated(f)},p.prototype.updateImage=function(f,y){this.imageManager.updateImage(f,y)},p.prototype.getImage=function(f){return this.imageManager.getImage(f)},p.prototype.removeImage=function(f){if(!this.getImage(f))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)},p.prototype._afterImageUpdated=function(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(f,y,E){var L=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(o.validateStyle.source,"sources."+f,y,null,E))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var F=this.sourceCaches[f]=new xe(f,y,this.dispatcher);F.style=this,F.setEventedParent(this,function(){return{isSourceLoaded:L.loaded(),source:F.serialize(),sourceId:f}}),F.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===f)return this.fire(new o.ErrorEvent(new Error('Source "'+f+'" cannot be removed while layer "'+y+'" is using it.')));var E=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],E.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(f,y){this._checkLoaded(),this.sourceCaches[f].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()},p.prototype.addLayer=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var L=f.id;if(this.getLayer(L))this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" already exists on this map')));else{var F;if(f.type==="custom"){if(Cs(this,o.validateCustomStyleLayer(f)))return;F=o.createStyleLayer(f)}else{if(typeof f.source=="object"&&(this.addSource(L,f.source),f=o.clone$1(f),f=o.extend(f,{source:L})),this._validate(o.validateStyle.layer,"layers."+L,f,{arrayIndex:-1},E))return;F=o.createStyleLayer(f),this._validateLayer(F),F.setEventedParent(this,{layer:{id:L}}),this._serializedLayers[F.id]=F.serialize()}var $=y?this._order.indexOf(y):this._order.length;if(y&&$===-1)this.fire(new o.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice($,0,L),this._layerOrderChanged=!0,this._layers[L]=F,this._removedLayers[L]&&F.source&&F.type!=="custom"){var G=this._removedLayers[L];delete this._removedLayers[L],G.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",this.sourceCaches[F.source].pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map)}}},p.prototype.moveLayer=function(f,y){if(this._checkLoaded(),this._changed=!0,this._layers[f]){if(f!==y){var E=this._order.indexOf(f);this._order.splice(E,1);var L=y?this._order.indexOf(y):this._order.length;y&&L===-1?this.fire(new o.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(L,0,f),this._layerOrderChanged=!0)}}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(f){this._checkLoaded();var y=this._layers[f];if(y){y.setEventedParent(null);var E=this._order.indexOf(f);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(f){return this._layers[f]},p.prototype.hasLayer=function(f){return f in this._layers},p.prototype.setLayerZoomRange=function(f,y,E){this._checkLoaded();var L=this.getLayer(f);L?L.minzoom===y&&L.maxzoom===E||(y!=null&&(L.minzoom=y),E!=null&&(L.maxzoom=E),this._updateLayer(L)):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(f,y,E){E===void 0&&(E={}),this._checkLoaded();var L=this.getLayer(f);if(L){if(!o.deepEqual(L.filter,y))return y==null?(L.filter=void 0,void this._updateLayer(L)):void(this._validate(o.validateStyle.filter,"layers."+L.id+".filter",y,null,E)||(L.filter=o.clone$1(y),this._updateLayer(L)))}else this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(f){return o.clone$1(this.getLayer(f).filter)},p.prototype.setLayoutProperty=function(f,y,E,L){L===void 0&&(L={}),this._checkLoaded();var F=this.getLayer(f);F?o.deepEqual(F.getLayoutProperty(y),E)||(F.setLayoutProperty(y,E,L),this._updateLayer(F)):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(f,y){var E=this.getLayer(f);if(E)return E.getLayoutProperty(y);this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(f,y,E,L){L===void 0&&(L={}),this._checkLoaded();var F=this.getLayer(f);F?o.deepEqual(F.getPaintProperty(y),E)||(F.setPaintProperty(y,E,L)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+f+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(f,y){return this.getLayer(f).getPaintProperty(y)},p.prototype.setFeatureState=function(f,y){this._checkLoaded();var E=f.source,L=f.sourceLayer,F=this.sourceCaches[E];if(F!==void 0){var $=F.getSource().type;$==="geojson"&&L?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):$!=="vector"||L?(f.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),F.setFeatureState(L,f.id,y)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(f,y){this._checkLoaded();var E=f.source,L=this.sourceCaches[E];if(L!==void 0){var F=L.getSource().type,$=F==="vector"?f.sourceLayer:void 0;F!=="vector"||$?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):L.removeFeatureState($,f.id,y):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(f){this._checkLoaded();var y=f.source,E=f.sourceLayer,L=this.sourceCaches[y];if(L!==void 0){if(L.getSource().type!=="vector"||E)return f.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),L.getFeatureState(E,f.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(f){return f.serialize()}),layers:this._serializeLayers(this._order)},function(f){return f!==void 0})},p.prototype._updateLayer=function(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(f){for(var y=this,E=function(zt){return y._layers[zt].type==="fill-extrusion"},L={},F=[],$=this._order.length-1;$>=0;$--){var G=this._order[$];if(E(G)){L[G]=$;for(var te=0,Ae=f;te<Ae.length;te+=1){var _e=Ae[te][G];if(_e)for(var de=0,Oe=_e;de<Oe.length;de+=1)F.push(Oe[de])}}}F.sort(function(zt,Ft){return Ft.intersectionZ-zt.intersectionZ});for(var Te=[],ze=this._order.length-1;ze>=0;ze--){var Pe=this._order[ze];if(E(Pe))for(var Be=F.length-1;Be>=0;Be--){var Ke=F[Be].feature;if(L[Ke.layer.id]<ze)break;Te.push(Ke),F.pop()}else for(var et=0,dt=f;et<dt.length;et+=1){var ht=dt[et][Pe];if(ht)for(var yt=0,Pt=ht;yt<Pt.length;yt+=1)Te.push(Pt[yt].feature)}}return Te},p.prototype.queryRenderedFeatures=function(f,y,E){y&&y.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var L={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var F=0,$=y.layers;F<$.length;F+=1){var G=$[F],te=this._layers[G];if(!te)return this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be queried for features."))),[];L[te.source]=!0}}var Ae=[];for(var _e in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!L[_e]||Ae.push(Cn(this.sourceCaches[_e],this._layers,this._serializedLayers,f,y,E));return this.placement&&Ae.push(function(de,Oe,Te,ze,Pe,Be,Ke){for(var et={},dt=Be.queryRenderedSymbols(ze),ht=[],yt=0,Pt=Object.keys(dt).map(Number);yt<Pt.length;yt+=1)ht.push(Ke[Pt[yt]]);ht.sort($n);for(var zt=function(){var kn=tn[Ft],_r=kn.featureIndex.lookupSymbolFeatures(dt[kn.bucketInstanceId],Oe,kn.bucketIndex,kn.sourceLayerIndex,Pe.filter,Pe.layers,Pe.availableImages,de);for(var pn in _r){var Rn=et[pn]=et[pn]||[],tr=_r[pn];tr.sort(function(Un,Dn){var An=kn.featureSortOrder;if(An){var Gr=An.indexOf(Un.featureIndex);return An.indexOf(Dn.featureIndex)-Gr}return Dn.featureIndex-Un.featureIndex});for(var Vn=0,zn=tr;Vn<zn.length;Vn+=1)Rn.push(zn[Vn])}},Ft=0,tn=ht;Ft<tn.length;Ft+=1)zt();var mn=function(kn){et[kn].forEach(function(_r){var pn=_r.feature,Rn=Te[de[kn].source].getFeatureState(pn.layer["source-layer"],pn.id);pn.source=pn.layer.source,pn.layer["source-layer"]&&(pn.sourceLayer=pn.layer["source-layer"]),pn.state=Rn})};for(var Tn in et)mn(Tn);return et}(this._layers,this._serializedLayers,this.sourceCaches,f,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ae)},p.prototype.querySourceFeatures=function(f,y){y&&y.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var E=this.sourceCaches[f];return E?function(L,F){for(var $=L.getRenderableIds().map(function(Oe){return L.getTileByID(Oe)}),G=[],te={},Ae=0;Ae<$.length;Ae++){var _e=$[Ae],de=_e.tileID.canonical.key;te[de]||(te[de]=!0,_e.querySourceFeatures(G,F))}return G}(E,y):[]},p.prototype.addSourceType=function(f,y,E){return p.getSourceType(f)?E(new Error('A source type called "'+f+'" already exists.')):(p.setSourceType(f,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:y.workerSourceURL},E):E(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(f,y){y===void 0&&(y={}),this._checkLoaded();var E=this.light.getLight(),L=!1;for(var F in f)if(!o.deepEqual(f[F],E[F])){L=!0;break}if(L){var $={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions($)}},p.prototype._validate=function(f,y,E,L,F){return F===void 0&&(F={}),(!F||F.validate!==!1)&&Cs(this,f.call(o.validateStyle,o.extend({key:y,style:this.serialize(),value:E,styleSpec:o.styleSpec},L)))},p.prototype._remove=function(){for(var f in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[f].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(f){this.sourceCaches[f].clearTiles()},p.prototype._reloadSource=function(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()},p.prototype._updateSources=function(f){for(var y in this.sourceCaches)this.sourceCaches[y].update(f)},p.prototype._generateCollisionBoxes=function(){for(var f in this.sourceCaches)this._reloadSource(f)},p.prototype._updatePlacement=function(f,y,E,L,F){F===void 0&&(F=!1);for(var $=!1,G=!1,te={},Ae=0,_e=this._order;Ae<_e.length;Ae+=1){var de=this._layers[_e[Ae]];if(de.type==="symbol"){if(!te[de.source]){var Oe=this.sourceCaches[de.source];te[de.source]=Oe.getRenderableIds(!0).map(function(Ke){return Oe.getTileByID(Ke)}).sort(function(Ke,et){return et.tileID.overscaledZ-Ke.tileID.overscaledZ||(Ke.tileID.isLessThan(et.tileID)?-1:1)})}var Te=this.crossTileSymbolIndex.addLayer(de,te[de.source],f.center.lng);$=$||Te}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((F=F||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),f.zoom))&&(this.pauseablePlacement=new Dl(f,this._order,F,y,E,L,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),G=!0),$&&this.pauseablePlacement.placement.setStale()),G||$)for(var ze=0,Pe=this._order;ze<Pe.length;ze+=1){var Be=this._layers[Pe[ze]];Be.type==="symbol"&&this.placement.updateLayerOpacities(Be,te[Be.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()},p.prototype.getImages=function(f,y,E){this.imageManager.getImages(y.icons,E),this._updateTilesForChangedImages();var L=this.sourceCaches[y.source];L&&L.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(f,y,E){this.glyphManager.getGlyphs(y.stacks,E)},p.prototype.getResource=function(f,y,E){return o.makeRequest(y,E)},p}(o.Evented);Qn.getSourceType=function(c){return vn[c]},Qn.setSourceType=function(c,p){vn[c]=p},Qn.registerForPluginStateChange=o.registerForPluginStateChange;var Do=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),Tr=Fr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),au=Fr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Bf=Fr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Hc=Fr(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Bp=Fr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),su=Fr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),lu=Fr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),yi=Fr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),uu=Fr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Us=Fr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),cu=Fr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),$s=Fr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Pi=Fr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Fl=Fr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),qc=Fr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Ki=Fr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Gc=Fr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),js=Fr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Es=Fr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),co=Fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Bl=Fr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),fo=Fr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),us=Fr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ul=Fr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Zo=Fr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),fu=Fr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Fr(c,p){var f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=L?L.concat(E):E,$={};return{fragmentSource:c=c.replace(f,function(G,te,Ae,_e,de){return $[de]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
varying `+Ae+" "+_e+" "+de+`;
#else
uniform `+Ae+" "+_e+" u_"+de+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+_e+" "+de+" = u_"+de+`;
#endif
`}),vertexSource:p=p.replace(f,function(G,te,Ae,_e,de){var Oe=_e==="float"?"vec2":"vec4",Te=de.match(/color/)?"color":Oe;return $[de]?te==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+Ae+" "+Oe+" a_"+de+`;
varying `+Ae+" "+_e+" "+de+`;
#else
uniform `+Ae+" "+_e+" u_"+de+`;
#endif
`:Te==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = a_"+de+`;
#else
    `+Ae+" "+_e+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+de+" = unpack_mix_"+Te+"(a_"+de+", u_"+de+`_t);
#else
    `+Ae+" "+_e+" "+de+" = u_"+de+`;
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_`+de+`
uniform lowp float u_`+de+`_t;
attribute `+Ae+" "+Oe+" a_"+de+`;
#else
uniform `+Ae+" "+_e+" u_"+de+`;
#endif
`:Te==="vec4"?`
#ifndef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+_e+" "+de+" = a_"+de+`;
#else
    `+Ae+" "+_e+" "+de+" = u_"+de+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+de+`
    `+Ae+" "+_e+" "+de+" = unpack_mix_"+Te+"(a_"+de+", u_"+de+`_t);
#else
    `+Ae+" "+_e+" "+de+" = u_"+de+`;
#endif
`}),staticAttributes:y,staticUniforms:F}}var ti=Object.freeze({__proto__:null,prelude:Tr,background:au,backgroundPattern:Bf,circle:Hc,clippingMask:Bp,heatmap:su,heatmapTexture:lu,collisionBox:yi,collisionCircle:uu,debug:Us,fill:cu,fillOutline:$s,fillOutlinePattern:Pi,fillPattern:Fl,fillExtrusion:qc,fillExtrusionPattern:Ki,hillshadePrepare:Gc,hillshade:js,line:Es,lineGradient:co,linePattern:Bl,lineSDF:fo,raster:us,symbolIcon:ul,symbolSDF:Zo,symbolTextAndIcon:fu}),Ua=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ju(c){for(var p=[],f=0;f<c.length;f++)if(c[f]!==null){var y=c[f].split(" ");p.push(y.pop())}return p}Ua.prototype.bind=function(c,p,f,y,E,L,F,$){this.context=c;for(var G=this.boundPaintVertexBuffers.length!==y.length,te=0;!G&&te<y.length;te++)this.boundPaintVertexBuffers[te]!==y[te]&&(G=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===f&&!G&&this.boundIndexBuffer===E&&this.boundVertexOffset===L&&this.boundDynamicVertexBuffer===F&&this.boundDynamicVertexBuffer2===$?(c.bindVertexArrayOES.set(this.vao),F&&F.bind(),E&&E.dynamicDraw&&E.bind(),$&&$.bind()):this.freshBind(p,f,y,E,L,F,$)},Ua.prototype.freshBind=function(c,p,f,y,E,L,F){var $,G=c.numAttributes,te=this.context,Ae=te.gl;if(te.extVertexArrayObject)this.vao&&this.destroy(),this.vao=te.extVertexArrayObject.createVertexArrayOES(),te.bindVertexArrayOES.set(this.vao),$=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=F;else{$=te.currentNumAttributes||0;for(var _e=G;_e<$;_e++)Ae.disableVertexAttribArray(_e)}p.enableAttributes(Ae,c);for(var de=0,Oe=f;de<Oe.length;de+=1)Oe[de].enableAttributes(Ae,c);L&&L.enableAttributes(Ae,c),F&&F.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,E);for(var Te=0,ze=f;Te<ze.length;Te+=1){var Pe=ze[Te];Pe.bind(),Pe.setVertexAttribPointers(Ae,c,E)}L&&(L.bind(),L.setVertexAttribPointers(Ae,c,E)),y&&y.bind(),F&&(F.bind(),F.setVertexAttribPointers(Ae,c,E)),te.currentNumAttributes=G},Ua.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var pu=function(c,p,f,y,E,L){var F=c.gl;this.program=F.createProgram();for(var $=Ju(f.staticAttributes),G=y?y.getBinderAttributes():[],te=$.concat(G),Ae=f.staticUniforms?Ju(f.staticUniforms):[],_e=y?y.getBinderUniforms():[],de=[],Oe=0,Te=Ae.concat(_e);Oe<Te.length;Oe+=1){var ze=Te[Oe];de.indexOf(ze)<0&&de.push(ze)}var Pe=y?y.defines():[];L&&Pe.push("#define OVERDRAW_INSPECTOR;");var Be=Pe.concat(Tr.fragmentSource,f.fragmentSource).join(`
`),Ke=Pe.concat(Tr.vertexSource,f.vertexSource).join(`
`),et=F.createShader(F.FRAGMENT_SHADER);if(F.isContextLost())this.failedToCreate=!0;else{F.shaderSource(et,Be),F.compileShader(et),F.attachShader(this.program,et);var dt=F.createShader(F.VERTEX_SHADER);if(F.isContextLost())this.failedToCreate=!0;else{F.shaderSource(dt,Ke),F.compileShader(dt),F.attachShader(this.program,dt),this.attributes={};var ht={};this.numAttributes=te.length;for(var yt=0;yt<this.numAttributes;yt++)te[yt]&&(F.bindAttribLocation(this.program,yt,te[yt]),this.attributes[te[yt]]=yt);F.linkProgram(this.program),F.deleteShader(dt),F.deleteShader(et);for(var Pt=0;Pt<de.length;Pt++){var zt=de[Pt];if(zt&&!ht[zt]){var Ft=F.getUniformLocation(this.program,zt);Ft&&(ht[zt]=Ft)}}this.fixedUniforms=E(c,ht),this.binderUniforms=y?y.getUniforms(c,ht):[]}}};function Vs(c,p,f){var y=1/fa(f,1,p.transform.tileZoom),E=Math.pow(2,f.tileID.overscaledZ),L=f.tileSize*Math.pow(2,p.transform.tileZoom)/E,F=L*(f.tileID.canonical.x+f.tileID.wrap*E),$=L*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[F>>16,$>>16],u_pixel_coord_lower:[65535&F,65535&$]}}pu.prototype.draw=function(c,p,f,y,E,L,F,$,G,te,Ae,_e,de,Oe,Te,ze){var Pe,Be=c.gl;if(!this.failedToCreate){for(var Ke in c.program.set(this.program),c.setDepthMode(f),c.setStencilMode(y),c.setColorMode(E),c.setCullFace(L),this.fixedUniforms)this.fixedUniforms[Ke].set(F[Ke]);Oe&&Oe.setUniforms(c,this.binderUniforms,_e,{zoom:de});for(var et=(Pe={},Pe[Be.LINES]=2,Pe[Be.TRIANGLES]=3,Pe[Be.LINE_STRIP]=1,Pe)[p],dt=0,ht=Ae.get();dt<ht.length;dt+=1){var yt=ht[dt],Pt=yt.vaos||(yt.vaos={});(Pt[$]||(Pt[$]=new Ua)).bind(c,this,G,Oe?Oe.getPaintVertexBuffers():[],te,yt.vertexOffset,Te,ze),Be.drawElements(p,yt.primitiveLength*et,Be.UNSIGNED_SHORT,yt.primitiveOffset*et*2)}}};var zp=function(c,p,f,y){var E=p.style.light,L=E.properties.get("position"),F=[L.x,L.y,L.z],$=o.create$1();E.properties.get("anchor")==="viewport"&&o.fromRotation($,-p.transform.angle),o.transformMat3(F,F,$);var G=E.properties.get("color");return{u_matrix:c,u_lightpos:F,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+f,u_opacity:y}},ec=function(c,p,f,y,E,L,F){return o.extend(zp(c,p,f,y),Vs(L,p,F),{u_height_factor:-Math.pow(2,E.overscaledZ)/F.tileSize/8})},cl=function(c){return{u_matrix:c}},Hs=function(c,p,f,y){return o.extend(cl(c),Vs(f,p,y))},qs=function(c,p){return{u_matrix:c,u_world:p}},zl=function(c,p,f,y,E){return o.extend(Hs(c,p,f,y),{u_world:E})},Np=function(c,p,f,y){var E,L,F=c.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var $=fa(f,1,F.zoom);E=!0,L=[$,$]}else E=!1,L=F.pixelsToGLUnits;return{u_camera_to_center_distance:F.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(p.posMatrix,f,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:L}},Qc=function(c,p,f){var y=fa(f,1,p.zoom),E=Math.pow(2,p.zoom-f.tileID.overscaledZ),L=f.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*E),p.pixelsToGLUnits[1]/(y*E)],u_overscale_factor:L}},fl=function(c,p,f){return{u_matrix:c,u_inv_matrix:p,u_camera_to_center_distance:f.cameraToCenterDistance,u_viewport_size:[f.width,f.height]}},tc=function(c,p,f){return f===void 0&&(f=1),{u_matrix:c,u_color:p,u_overlay:0,u_overlay_scale:f}},_a=function(c){return{u_matrix:c}},Nl=function(c,p,f,y){return{u_matrix:c,u_extrude_scale:fa(p,1,f),u_intensity:y}},Wc=function(c,p,f){var y=c.transform;return{u_matrix:ko(c,p,f),u_ratio:1/fa(p,1,y.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},nc=function(c,p,f,y){return o.extend(Wc(c,p,f),{u_image:0,u_image_height:y})},qr=function(c,p,f,y){var E=c.transform,L=zf(p,E);return{u_matrix:ko(c,p,f),u_texsize:p.imageAtlasTexture.size,u_ratio:1/fa(p,1,E.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[L,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},Kc=function(c,p,f,y,E){var L=c.lineAtlas,F=zf(p,c.transform),$=f.layout.get("line-cap")==="round",G=L.getDash(y.from,$),te=L.getDash(y.to,$),Ae=G.width*E.fromScale,_e=te.width*E.toScale;return o.extend(Wc(c,p,f),{u_patternscale_a:[F/Ae,-G.height/2],u_patternscale_b:[F/_e,-te.height/2],u_sdfgamma:L.width/(256*Math.min(Ae,_e)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:G.y,u_tex_y_b:te.y,u_mix:E.t})};function zf(c,p){return 1/fa(c,1,p.tileZoom)}function ko(c,p,f){return c.translatePosMatrix(p.tileID.posMatrix,p,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}var Zc=function(c,p,f,y,E){return{u_matrix:c,u_tl_parent:p,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(F=E.paint.get("raster-saturation"),F>0?1-1/(1.001-F):-F),u_contrast_factor:(L=E.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:hu(E.paint.get("raster-hue-rotate"))};var L,F};function hu(c){c*=Math.PI/180;var p=Math.sin(c),f=Math.cos(c);return[(2*f+1)/3,(-Math.sqrt(3)*p-f+1)/3,(Math.sqrt(3)*p-f+1)/3]}var pl,Nf=function(c,p,f,y,E,L,F,$,G,te){var Ae=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:F,u_coord_matrix:$,u_is_text:+G,u_pitch_with_map:+y,u_texsize:te,u_texture:0}},po=function(c,p,f,y,E,L,F,$,G,te,Ae){var _e=E.transform;return o.extend(Nf(c,p,f,y,E,L,F,$,G,te),{u_gamma_scale:y?Math.cos(_e._pitch)*_e.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+Ae})},Ui=function(c,p,f,y,E,L,F,$,G,te){return o.extend(po(c,p,f,y,E,L,F,$,!0,G,!0),{u_texsize_icon:te,u_texture_icon:1})},Xc=function(c,p,f){return{u_matrix:c,u_opacity:p,u_color:f}},rc=function(c,p,f,y,E,L){return o.extend(function(F,$,G,te){var Ae=G.imageManager.getPattern(F.from.toString()),_e=G.imageManager.getPattern(F.to.toString()),de=G.imageManager.getPixelSize(),Oe=de.width,Te=de.height,ze=Math.pow(2,te.tileID.overscaledZ),Pe=te.tileSize*Math.pow(2,G.transform.tileZoom)/ze,Be=Pe*(te.tileID.canonical.x+te.tileID.wrap*ze),Ke=Pe*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[Oe,Te],u_mix:$.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/fa(te,1,G.transform.tileZoom),u_pixel_coord_upper:[Be>>16,Ke>>16],u_pixel_coord_lower:[65535&Be,65535&Ke]}}(y,L,f,E),{u_matrix:c,u_opacity:p})},Au={fillExtrusion:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_lightpos:new o.Uniform3f(c,p.u_lightpos),u_lightintensity:new o.Uniform1f(c,p.u_lightintensity),u_lightcolor:new o.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new o.Uniform1f(c,p.u_vertical_gradient),u_opacity:new o.Uniform1f(c,p.u_opacity)}},fillExtrusionPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_lightpos:new o.Uniform3f(c,p.u_lightpos),u_lightintensity:new o.Uniform1f(c,p.u_lightintensity),u_lightcolor:new o.Uniform3f(c,p.u_lightcolor),u_vertical_gradient:new o.Uniform1f(c,p.u_vertical_gradient),u_height_factor:new o.Uniform1f(c,p.u_height_factor),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade),u_opacity:new o.Uniform1f(c,p.u_opacity)}},fill:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},fillPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},fillOutline:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world)}},fillOutlinePattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world),u_image:new o.Uniform1i(c,p.u_image),u_texsize:new o.Uniform2f(c,p.u_texsize),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},circle:function(c,p){return{u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(c,p.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(c,p.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},collisionBox:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(c,p.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(c,p.u_extrude_scale),u_overscale_factor:new o.Uniform1f(c,p.u_overscale_factor)}},collisionCircle:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_inv_matrix:new o.UniformMatrix4f(c,p.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(c,p.u_viewport_size)}},debug:function(c,p){return{u_color:new o.UniformColor(c,p.u_color),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_overlay:new o.Uniform1i(c,p.u_overlay),u_overlay_scale:new o.Uniform1f(c,p.u_overlay_scale)}},clippingMask:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},heatmap:function(c,p){return{u_extrude_scale:new o.Uniform1f(c,p.u_extrude_scale),u_intensity:new o.Uniform1f(c,p.u_intensity),u_matrix:new o.UniformMatrix4f(c,p.u_matrix)}},heatmapTexture:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_world:new o.Uniform2f(c,p.u_world),u_image:new o.Uniform1i(c,p.u_image),u_color_ramp:new o.Uniform1i(c,p.u_color_ramp),u_opacity:new o.Uniform1f(c,p.u_opacity)}},hillshade:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_latrange:new o.Uniform2f(c,p.u_latrange),u_light:new o.Uniform2f(c,p.u_light),u_shadow:new o.UniformColor(c,p.u_shadow),u_highlight:new o.UniformColor(c,p.u_highlight),u_accent:new o.UniformColor(c,p.u_accent)}},hillshadePrepare:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_image:new o.Uniform1i(c,p.u_image),u_dimension:new o.Uniform2f(c,p.u_dimension),u_zoom:new o.Uniform1f(c,p.u_zoom),u_unpack:new o.Uniform4f(c,p.u_unpack)}},line:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels)}},lineGradient:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_image:new o.Uniform1i(c,p.u_image),u_image_height:new o.Uniform1f(c,p.u_image_height)}},linePattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_texsize:new o.Uniform2f(c,p.u_texsize),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_image:new o.Uniform1i(c,p.u_image),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_scale:new o.Uniform3f(c,p.u_scale),u_fade:new o.Uniform1f(c,p.u_fade)}},lineSDF:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_ratio:new o.Uniform1f(c,p.u_ratio),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(c,p.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(c,p.u_patternscale_a),u_patternscale_b:new o.Uniform2f(c,p.u_patternscale_b),u_sdfgamma:new o.Uniform1f(c,p.u_sdfgamma),u_image:new o.Uniform1i(c,p.u_image),u_tex_y_a:new o.Uniform1f(c,p.u_tex_y_a),u_tex_y_b:new o.Uniform1f(c,p.u_tex_y_b),u_mix:new o.Uniform1f(c,p.u_mix)}},raster:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_tl_parent:new o.Uniform2f(c,p.u_tl_parent),u_scale_parent:new o.Uniform1f(c,p.u_scale_parent),u_buffer_scale:new o.Uniform1f(c,p.u_buffer_scale),u_fade_t:new o.Uniform1f(c,p.u_fade_t),u_opacity:new o.Uniform1f(c,p.u_opacity),u_image0:new o.Uniform1i(c,p.u_image0),u_image1:new o.Uniform1i(c,p.u_image1),u_brightness_low:new o.Uniform1f(c,p.u_brightness_low),u_brightness_high:new o.Uniform1f(c,p.u_brightness_high),u_saturation_factor:new o.Uniform1f(c,p.u_saturation_factor),u_contrast_factor:new o.Uniform1f(c,p.u_contrast_factor),u_spin_weights:new o.Uniform3f(c,p.u_spin_weights)}},symbolIcon:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texture:new o.Uniform1i(c,p.u_texture)}},symbolSDF:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texture:new o.Uniform1i(c,p.u_texture),u_gamma_scale:new o.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(c,p.u_is_halo)}},symbolTextAndIcon:function(c,p){return{u_is_size_zoom_constant:new o.Uniform1i(c,p.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(c,p.u_is_size_feature_constant),u_size_t:new o.Uniform1f(c,p.u_size_t),u_size:new o.Uniform1f(c,p.u_size),u_camera_to_center_distance:new o.Uniform1f(c,p.u_camera_to_center_distance),u_pitch:new o.Uniform1f(c,p.u_pitch),u_rotate_symbol:new o.Uniform1i(c,p.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(c,p.u_aspect_ratio),u_fade_change:new o.Uniform1f(c,p.u_fade_change),u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(c,p.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(c,p.u_coord_matrix),u_is_text:new o.Uniform1i(c,p.u_is_text),u_pitch_with_map:new o.Uniform1i(c,p.u_pitch_with_map),u_texsize:new o.Uniform2f(c,p.u_texsize),u_texsize_icon:new o.Uniform2f(c,p.u_texsize_icon),u_texture:new o.Uniform1i(c,p.u_texture),u_texture_icon:new o.Uniform1i(c,p.u_texture_icon),u_gamma_scale:new o.Uniform1f(c,p.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(c,p.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(c,p.u_is_halo)}},background:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_opacity:new o.Uniform1f(c,p.u_opacity),u_color:new o.UniformColor(c,p.u_color)}},backgroundPattern:function(c,p){return{u_matrix:new o.UniformMatrix4f(c,p.u_matrix),u_opacity:new o.Uniform1f(c,p.u_opacity),u_image:new o.Uniform1i(c,p.u_image),u_pattern_tl_a:new o.Uniform2f(c,p.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(c,p.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(c,p.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(c,p.u_pattern_br_b),u_texsize:new o.Uniform2f(c,p.u_texsize),u_mix:new o.Uniform1f(c,p.u_mix),u_pattern_size_a:new o.Uniform2f(c,p.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(c,p.u_pattern_size_b),u_scale_a:new o.Uniform1f(c,p.u_scale_a),u_scale_b:new o.Uniform1f(c,p.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(c,p.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(c,p.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(c,p.u_tile_units_to_pixels)}}};function hl(c,p,f,y,E,L,F){for(var $=c.context,G=$.gl,te=c.useProgram("collisionBox"),Ae=[],_e=0,de=0,Oe=0;Oe<y.length;Oe++){var Te=y[Oe],ze=p.getTile(Te),Pe=ze.getBucket(f);if(Pe){var Be=Te.posMatrix;E[0]===0&&E[1]===0||(Be=c.translatePosMatrix(Te.posMatrix,ze,E,L));var Ke=F?Pe.textCollisionBox:Pe.iconCollisionBox,et=Pe.collisionCircleArray;if(et.length>0){var dt=o.create(),ht=Be;o.mul(dt,Pe.placementInvProjMatrix,c.transform.glCoordMatrix),o.mul(dt,dt,Pe.placementViewportMatrix),Ae.push({circleArray:et,circleOffset:de,transform:ht,invTransform:dt}),de=_e+=et.length/4}Ke&&te.draw($,G.LINES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),Ge.disabled,Qc(Be,c.transform,ze),f.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,null,c.transform.zoom,null,null,Ke.collisionVertexBuffer)}}if(F&&Ae.length){var yt=c.useProgram("collisionCircle"),Pt=new o.StructArrayLayout2f1f2i16;Pt.resize(4*_e),Pt._trim();for(var zt=0,Ft=0,tn=Ae;Ft<tn.length;Ft+=1)for(var mn=tn[Ft],Tn=0;Tn<mn.circleArray.length/4;Tn++){var kn=4*Tn,_r=mn.circleArray[kn+0],pn=mn.circleArray[kn+1],Rn=mn.circleArray[kn+2],tr=mn.circleArray[kn+3];Pt.emplace(zt++,_r,pn,Rn,tr,0),Pt.emplace(zt++,_r,pn,Rn,tr,1),Pt.emplace(zt++,_r,pn,Rn,tr,2),Pt.emplace(zt++,_r,pn,Rn,tr,3)}(!pl||pl.length<2*_e)&&(pl=function(Vi){var Ii=2*Vi,so=new o.StructArrayLayout3ui6;so.resize(Ii),so._trim();for(var Xi=0;Xi<Ii;Xi++){var fi=6*Xi;so.uint16[fi+0]=4*Xi+0,so.uint16[fi+1]=4*Xi+1,so.uint16[fi+2]=4*Xi+2,so.uint16[fi+3]=4*Xi+2,so.uint16[fi+4]=4*Xi+3,so.uint16[fi+5]=4*Xi+0}return so}(_e));for(var Vn=$.createIndexBuffer(pl,!0),zn=$.createVertexBuffer(Pt,o.collisionCircleLayout.members,!0),Un=0,Dn=Ae;Un<Dn.length;Un+=1){var An=Dn[Un],Gr=fl(An.transform,An.invTransform,c.transform);yt.draw($,G.TRIANGLES,ve.disabled,Ie.disabled,c.colorModeForRenderPass(),Ge.disabled,Gr,f.id,zn,Vn,o.SegmentVector.simpleSegment(0,2*An.circleOffset,An.circleArray.length,An.circleArray.length/2),null,c.transform.zoom,null,null,null)}zn.destroy(),Vn.destroy()}}var ic=o.identity(new Float32Array(16));function Si(c,p,f,y,E,L){var F=o.getAnchorAlignment(c),$=-(F.horizontalAlign-.5)*p,G=-(F.verticalAlign-.5)*f,te=o.evaluateVariableOffset(c,y);return new o.Point(($/E+te[0])*L,(G/E+te[1])*L)}function du(c,p,f,y,E,L,F,$,G,te,Ae){var _e=c.text.placedSymbolArray,de=c.text.dynamicLayoutVertexArray,Oe=c.icon.dynamicLayoutVertexArray,Te={};de.clear();for(var ze=0;ze<_e.length;ze++){var Pe=_e.get(ze),Be=Pe.hidden||!Pe.crossTileID||c.allowVerticalPlacement&&!Pe.placedOrientation?null:y[Pe.crossTileID];if(Be){var Ke=new o.Point(Pe.anchorX,Pe.anchorY),et=Xt(Ke,f?$:F),dt=Qe(L.cameraToCenterDistance,et.signedDistanceFromCamera),ht=E.evaluateSizeForFeature(c.textSizeData,te,Pe)*dt/o.ONE_EM;f&&(ht*=c.tilePixelRatio/G);for(var yt=Si(Be.anchor,Be.width,Be.height,Be.textOffset,Be.textBoxScale,ht),Pt=f?Xt(Ke.add(yt),F).point:et.point.add(p?yt.rotate(-L.angle):yt),zt=c.allowVerticalPlacement&&Pe.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Ft=0;Ft<Pe.numGlyphs;Ft++)o.addDynamicAttributes(de,Pt,zt);Ae&&Pe.associatedIconIndex>=0&&(Te[Pe.associatedIconIndex]={shiftedAnchor:Pt,angle:zt})}else as(Pe.numGlyphs,de)}if(Ae){Oe.clear();for(var tn=c.icon.placedSymbolArray,mn=0;mn<tn.length;mn++){var Tn=tn.get(mn);if(Tn.hidden)as(Tn.numGlyphs,Oe);else{var kn=Te[mn];if(kn)for(var _r=0;_r<Tn.numGlyphs;_r++)o.addDynamicAttributes(Oe,kn.shiftedAnchor,kn.angle);else as(Tn.numGlyphs,Oe)}}c.icon.dynamicLayoutVertexBuffer.updateData(Oe)}c.text.dynamicLayoutVertexBuffer.updateData(de)}function ks(c,p,f){return f.iconsInText&&p?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function Ps(c,p,f,y,E,L,F,$,G,te,Ae,_e){for(var de=c.context,Oe=de.gl,Te=c.transform,ze=$==="map",Pe=G==="map",Be=ze&&f.layout.get("symbol-placement")!=="point",Ke=ze&&!Pe&&!Be,et=!f.layout.get("symbol-sort-key").isConstant(),dt=!1,ht=c.depthModeForSublayer(0,ve.ReadOnly),yt=f.layout.get("text-variable-anchor"),Pt=[],zt=0,Ft=y;zt<Ft.length;zt+=1){var tn=Ft[zt],mn=p.getTile(tn),Tn=mn.getBucket(f);if(Tn){var kn=E?Tn.text:Tn.icon;if(kn&&kn.segments.get().length){var _r=kn.programConfigurations.get(f.id),pn=E||Tn.sdfIcons,Rn=E?Tn.textSizeData:Tn.iconSizeData,tr=Pe||Te.pitch!==0,Vn=c.useProgram(ks(pn,E,Tn),_r),zn=o.evaluateSizeForZoom(Rn,Te.zoom),Un=void 0,Dn=[0,0],An=void 0,Gr=void 0,Vi=null,Ii=void 0;if(E)An=mn.glyphAtlasTexture,Gr=Oe.LINEAR,Un=mn.glyphAtlasTexture.size,Tn.iconsInText&&(Dn=mn.imageAtlasTexture.size,Vi=mn.imageAtlasTexture,Ii=tr||c.options.rotating||c.options.zooming||Rn.kind==="composite"||Rn.kind==="camera"?Oe.LINEAR:Oe.NEAREST);else{var so=f.layout.get("icon-size").constantOr(0)!==1||Tn.iconsNeedLinear;An=mn.imageAtlasTexture,Gr=pn||c.options.rotating||c.options.zooming||so||tr?Oe.LINEAR:Oe.NEAREST,Un=mn.imageAtlasTexture.size}var Xi=fa(mn,1,c.transform.zoom),fi=Ai(tn.posMatrix,Pe,ze,c.transform,Xi),na=Sr(tn.posMatrix,Pe,ze,c.transform,Xi),Hi=yt&&Tn.hasTextData(),ra=f.layout.get("icon-text-fit")!=="none"&&Hi&&Tn.hasIconData();Be&&al(Tn,tn.posMatrix,c,E,fi,na,Pe,te);var wa=c.translatePosMatrix(tn.posMatrix,mn,L,F),dl=Be||E&&yt||ra?ic:fi,As=c.translatePosMatrix(na,mn,L,F,!0),Vf=pn&&f.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,vu={program:Vn,buffers:kn,uniformValues:pn?Tn.iconsInText?Ui(Rn.kind,zn,Ke,Pe,c,wa,dl,As,Un,Dn):po(Rn.kind,zn,Ke,Pe,c,wa,dl,As,E,Un,!0):Nf(Rn.kind,zn,Ke,Pe,c,wa,dl,As,E,Un),atlasTexture:An,atlasTextureIcon:Vi,atlasInterpolation:Gr,atlasInterpolationIcon:Ii,isSDF:pn,hasHalo:Vf};if(et&&Tn.canOverlap){dt=!0;for(var ml=0,_u=kn.segments.get();ml<_u.length;ml+=1){var Hf=_u[ml];Pt.push({segments:new o.SegmentVector([Hf]),sortKey:Hf.sortKey,state:vu})}}else Pt.push({segments:kn.segments,sortKey:0,state:vu})}}}dt&&Pt.sort(function(Ts,lc){return Ts.sortKey-lc.sortKey});for(var rf=0,Qa=Pt;rf<Qa.length;rf+=1){var of=Qa[rf],go=of.state;if(de.activeTexture.set(Oe.TEXTURE0),go.atlasTexture.bind(go.atlasInterpolation,Oe.CLAMP_TO_EDGE),go.atlasTextureIcon&&(de.activeTexture.set(Oe.TEXTURE1),go.atlasTextureIcon&&go.atlasTextureIcon.bind(go.atlasInterpolationIcon,Oe.CLAMP_TO_EDGE)),go.isSDF){var Xs=go.uniformValues;go.hasHalo&&(Xs.u_is_halo=1,$a(go.buffers,of.segments,f,c,go.program,ht,Ae,_e,Xs)),Xs.u_is_halo=0}$a(go.buffers,of.segments,f,c,go.program,ht,Ae,_e,go.uniformValues)}}function $a(c,p,f,y,E,L,F,$,G){var te=y.context;E.draw(te,te.gl.TRIANGLES,L,F,$,Ge.disabled,G,f.id,c.layoutVertexBuffer,c.indexBuffer,p,f.paint,y.transform.zoom,c.programConfigurations.get(f.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function oc(c,p,f,y,E,L,F){var $,G,te,Ae,_e,de=c.context.gl,Oe=f.paint.get("fill-pattern"),Te=Oe&&Oe.constantOr(1),ze=f.getCrossfadeParameters();F?(G=Te&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",$=de.LINES):(G=Te?"fillPattern":"fill",$=de.TRIANGLES);for(var Pe=0,Be=y;Pe<Be.length;Pe+=1){var Ke=Be[Pe],et=p.getTile(Ke);if(!Te||et.patternsLoaded()){var dt=et.getBucket(f);if(dt){var ht=dt.programConfigurations.get(f.id),yt=c.useProgram(G,ht);Te&&(c.context.activeTexture.set(de.TEXTURE0),et.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),ht.updatePaintBuffers(ze));var Pt=Oe.constantOr(null);if(Pt&&et.imageAtlas){var zt=et.imageAtlas,Ft=zt.patternPositions[Pt.to.toString()],tn=zt.patternPositions[Pt.from.toString()];Ft&&tn&&ht.setConstantPatternPositions(Ft,tn)}var mn=c.translatePosMatrix(Ke.posMatrix,et,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(F){Ae=dt.indexBuffer2,_e=dt.segments2;var Tn=[de.drawingBufferWidth,de.drawingBufferHeight];te=G==="fillOutlinePattern"&&Te?zl(mn,c,ze,et,Tn):qs(mn,Tn)}else Ae=dt.indexBuffer,_e=dt.segments,te=Te?Hs(mn,c,ze,et):cl(mn);yt.draw(c.context,$,E,c.stencilModeForClipping(Ke),L,Ge.disabled,te,f.id,dt.layoutVertexBuffer,Ae,_e,f.paint,c.transform.zoom,ht)}}}}function Xo(c,p,f,y,E,L,F){for(var $=c.context,G=$.gl,te=f.paint.get("fill-extrusion-pattern"),Ae=te.constantOr(1),_e=f.getCrossfadeParameters(),de=f.paint.get("fill-extrusion-opacity"),Oe=0,Te=y;Oe<Te.length;Oe+=1){var ze=Te[Oe],Pe=p.getTile(ze),Be=Pe.getBucket(f);if(Be){var Ke=Be.programConfigurations.get(f.id),et=c.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",Ke);Ae&&(c.context.activeTexture.set(G.TEXTURE0),Pe.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Ke.updatePaintBuffers(_e));var dt=te.constantOr(null);if(dt&&Pe.imageAtlas){var ht=Pe.imageAtlas,yt=ht.patternPositions[dt.to.toString()],Pt=ht.patternPositions[dt.from.toString()];yt&&Pt&&Ke.setConstantPatternPositions(yt,Pt)}var zt=c.translatePosMatrix(ze.posMatrix,Pe,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Ft=f.paint.get("fill-extrusion-vertical-gradient"),tn=Ae?ec(zt,c,Ft,de,ze,_e,Pe):zp(zt,c,Ft,de);et.draw($,$.gl.TRIANGLES,E,L,F,Ge.backCCW,tn,f.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,f.paint,c.transform.zoom,Ke)}}}function Up(c,p,f,y,E,L){var F=c.context,$=F.gl,G=p.fbo;if(G){var te=c.useProgram("hillshade");F.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,G.colorAttachment.get());var Ae=function(_e,de,Oe){var Te=Oe.paint.get("hillshade-shadow-color"),ze=Oe.paint.get("hillshade-highlight-color"),Pe=Oe.paint.get("hillshade-accent-color"),Be=Oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Be-=_e.transform.angle);var Ke,et,dt,ht=!_e.options.moving;return{u_matrix:_e.transform.calculatePosMatrix(de.tileID.toUnwrapped(),ht),u_image:0,u_latrange:(Ke=de.tileID,et=Math.pow(2,Ke.canonical.z),dt=Ke.canonical.y,[new o.MercatorCoordinate(0,dt/et).toLngLat().lat,new o.MercatorCoordinate(0,(dt+1)/et).toLngLat().lat]),u_light:[Oe.paint.get("hillshade-exaggeration"),Be],u_shadow:Te,u_highlight:ze,u_accent:Pe}}(c,p,f);te.draw(F,$.TRIANGLES,y,E,L,Ge.disabled,Ae,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function cs(c,p,f,y,E,L){var F=c.context,$=F.gl,G=p.dem;if(G&&G.data){var te=G.dim,Ae=G.stride,_e=G.getPixels();if(F.activeTexture.set($.TEXTURE1),F.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||c.getTileTexture(Ae),p.demTexture){var de=p.demTexture;de.update(_e,{premultiply:!1}),de.bind($.NEAREST,$.CLAMP_TO_EDGE)}else p.demTexture=new o.Texture(F,_e,$.RGBA,{premultiply:!1}),p.demTexture.bind($.NEAREST,$.CLAMP_TO_EDGE);F.activeTexture.set($.TEXTURE0);var Oe=p.fbo;if(!Oe){var Te=new o.Texture(F,{width:te,height:te,data:null},$.RGBA);Te.bind($.LINEAR,$.CLAMP_TO_EDGE),(Oe=p.fbo=F.createFramebuffer(te,te,!0)).colorAttachment.set(Te.texture)}F.bindFramebuffer.set(Oe.framebuffer),F.viewport.set([0,0,te,te]),c.useProgram("hillshadePrepare").draw(F,$.TRIANGLES,y,E,L,Ge.disabled,function(ze,Pe){var Be=Pe.stride,Ke=o.create();return o.ortho(Ke,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(Ke,Ke,[0,-o.EXTENT,0]),{u_matrix:Ke,u_image:1,u_dimension:[Be,Be],u_zoom:ze.overscaledZ,u_unpack:Pe.getUnpackVector()}}(p.tileID,G),f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function pa(c,p,f,y,E){var L=y.paint.get("raster-fade-duration");if(L>0){var F=o.browser.now(),$=(F-c.timeAdded)/L,G=p?(F-p.timeAdded)/L:-1,te=f.getSource(),Ae=E.coveringZoomLevel({tileSize:te.tileSize,roundZoom:te.roundZoom}),_e=!p||Math.abs(p.tileID.overscaledZ-Ae)>Math.abs(c.tileID.overscaledZ-Ae),de=_e&&c.refreshedUponExpiration?1:o.clamp(_e?$:1-G,0,1);return c.refreshedUponExpiration&&$>=1&&(c.refreshedUponExpiration=!1),p?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}var fs=new o.Color(1,0,0,1),Gs=new o.Color(0,1,0,1),$p=new o.Color(0,0,1,1),Uf=new o.Color(1,0,1,1),Yc=new o.Color(0,1,1,1);function mu(c,p,f,y){it(c,0,p+f/2,c.transform.width,f,y)}function Qs(c,p,f,y){it(c,p-f/2,0,f,c.transform.height,y)}function it(c,p,f,y,E,L){var F=c.context,$=F.gl;$.enable($.SCISSOR_TEST),$.scissor(p*o.browser.devicePixelRatio,f*o.browser.devicePixelRatio,y*o.browser.devicePixelRatio,E*o.browser.devicePixelRatio),F.clear({color:L}),$.disable($.SCISSOR_TEST)}function Tt(c,p,f){var y=c.context,E=y.gl,L=f.posMatrix,F=c.useProgram("debug"),$=ve.disabled,G=Ie.disabled,te=c.colorModeForRenderPass();y.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),F.draw(y,E.LINE_STRIP,$,G,te,Ge.disabled,tc(L,o.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var Ae=p.getTileByID(f.key).latestRawTileData,_e=Math.floor((Ae&&Ae.byteLength||0)/1024),de=p.getTile(f).tileSize,Oe=512/Math.min(de,512)*(f.overscaledZ/c.transform.zoom)*.5,Te=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Te+=" => "+f.overscaledZ),function(ze,Pe){ze.initDebugOverlayCanvas();var Be=ze.debugOverlayCanvas,Ke=ze.context.gl,et=ze.debugOverlayCanvas.getContext("2d");et.clearRect(0,0,Be.width,Be.height),et.shadowColor="white",et.shadowBlur=2,et.lineWidth=1.5,et.strokeStyle="white",et.textBaseline="top",et.font="bold 36px Open Sans, sans-serif",et.fillText(Pe,5,5),et.strokeText(Pe,5,5),ze.debugOverlayTexture.update(Be),ze.debugOverlayTexture.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE)}(c,Te+" "+_e+"kb"),F.draw(y,E.TRIANGLES,$,G,Ue.alphaBlended,Ge.disabled,tc(L,o.Color.transparent,Oe),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var xt={symbol:function(c,p,f,y,E){if(c.renderPass==="translucent"){var L=Ie.disabled,F=c.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function($,G,te,Ae,_e,de,Oe){for(var Te=G.transform,ze=_e==="map",Pe=de==="map",Be=0,Ke=$;Be<Ke.length;Be+=1){var et=Ke[Be],dt=Ae.getTile(et),ht=dt.getBucket(te);if(ht&&ht.text&&ht.text.segments.get().length){var yt=o.evaluateSizeForZoom(ht.textSizeData,Te.zoom),Pt=fa(dt,1,G.transform.zoom),zt=Ai(et.posMatrix,Pe,ze,G.transform,Pt),Ft=te.layout.get("icon-text-fit")!=="none"&&ht.hasIconData();if(yt){var tn=Math.pow(2,Te.zoom-dt.tileID.overscaledZ);du(ht,ze,Pe,Oe,o.symbolSize,Te,zt,et.posMatrix,tn,yt,Ft)}}}}(y,c,f,p,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),E),f.paint.get("icon-opacity").constantOr(1)!==0&&Ps(c,p,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),L,F),f.paint.get("text-opacity").constantOr(1)!==0&&Ps(c,p,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),L,F),p.map.showCollisionBoxes&&(hl(c,p,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),hl(c,p,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))}},circle:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("circle-opacity"),L=f.paint.get("circle-stroke-width"),F=f.paint.get("circle-stroke-opacity"),$=!f.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)!==0||L.constantOr(1)!==0&&F.constantOr(1)!==0){for(var G=c.context,te=G.gl,Ae=c.depthModeForSublayer(0,ve.ReadOnly),_e=Ie.disabled,de=c.colorModeForRenderPass(),Oe=[],Te=0;Te<y.length;Te++){var ze=y[Te],Pe=p.getTile(ze),Be=Pe.getBucket(f);if(Be){var Ke=Be.programConfigurations.get(f.id),et={programConfiguration:Ke,program:c.useProgram("circle",Ke),layoutVertexBuffer:Be.layoutVertexBuffer,indexBuffer:Be.indexBuffer,uniformValues:Np(c,ze,Pe,f)};if($)for(var dt=0,ht=Be.segments.get();dt<ht.length;dt+=1){var yt=ht[dt];Oe.push({segments:new o.SegmentVector([yt]),sortKey:yt.sortKey,state:et})}else Oe.push({segments:Be.segments,sortKey:0,state:et})}}$&&Oe.sort(function(mn,Tn){return mn.sortKey-Tn.sortKey});for(var Pt=0,zt=Oe;Pt<zt.length;Pt+=1){var Ft=zt[Pt],tn=Ft.state;tn.program.draw(G,te.TRIANGLES,Ae,_e,de,Ge.disabled,tn.uniformValues,f.id,tn.layoutVertexBuffer,tn.indexBuffer,Ft.segments,f.paint,c.transform.zoom,tn.programConfiguration)}}}},heatmap:function(c,p,f,y){if(f.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,L=E.gl,F=Ie.disabled,$=new Ue([L.ONE,L.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(Oe,Te,ze){var Pe=Oe.gl;Oe.activeTexture.set(Pe.TEXTURE1),Oe.viewport.set([0,0,Te.width/4,Te.height/4]);var Be=ze.heatmapFbo;if(Be)Pe.bindTexture(Pe.TEXTURE_2D,Be.colorAttachment.get()),Oe.bindFramebuffer.set(Be.framebuffer);else{var Ke=Pe.createTexture();Pe.bindTexture(Pe.TEXTURE_2D,Ke),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,Pe.LINEAR),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,Pe.LINEAR),Be=ze.heatmapFbo=Oe.createFramebuffer(Te.width/4,Te.height/4,!1),function(et,dt,ht,yt){var Pt=et.gl;Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,dt.width/4,dt.height/4,0,Pt.RGBA,et.extRenderToTextureHalfFloat?et.extTextureHalfFloat.HALF_FLOAT_OES:Pt.UNSIGNED_BYTE,null),yt.colorAttachment.set(ht)}(Oe,Te,Ke,Be)}})(E,c,f),E.clear({color:o.Color.transparent});for(var G=0;G<y.length;G++){var te=y[G];if(!p.hasRenderableParent(te)){var Ae=p.getTile(te),_e=Ae.getBucket(f);if(_e){var de=_e.programConfigurations.get(f.id);c.useProgram("heatmap",de).draw(E,L.TRIANGLES,ve.disabled,F,$,Ge.disabled,Nl(te.posMatrix,Ae,c.transform.zoom,f.paint.get("heatmap-intensity")),f.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,f.paint,c.transform.zoom,de)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Oe,Te){var ze=Oe.context,Pe=ze.gl,Be=Te.heatmapFbo;if(Be){ze.activeTexture.set(Pe.TEXTURE0),Pe.bindTexture(Pe.TEXTURE_2D,Be.colorAttachment.get()),ze.activeTexture.set(Pe.TEXTURE1);var Ke=Te.colorRampTexture;Ke||(Ke=Te.colorRampTexture=new o.Texture(ze,Te.colorRamp,Pe.RGBA)),Ke.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),Oe.useProgram("heatmapTexture").draw(ze,Pe.TRIANGLES,ve.disabled,Ie.disabled,Oe.colorModeForRenderPass(),Ge.disabled,function(et,dt,ht,yt){var Pt=o.create();o.ortho(Pt,0,et.width,et.height,0,0,1);var zt=et.context.gl;return{u_matrix:Pt,u_world:[zt.drawingBufferWidth,zt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:dt.paint.get("heatmap-opacity")}}(Oe,Te),Te.id,Oe.viewportBuffer,Oe.quadTriangleIndexBuffer,Oe.viewportSegments,Te.paint,Oe.transform.zoom)}}(c,f))},line:function(c,p,f,y){if(c.renderPass==="translucent"){var E=f.paint.get("line-opacity"),L=f.paint.get("line-width");if(E.constantOr(1)!==0&&L.constantOr(1)!==0)for(var F=c.depthModeForSublayer(0,ve.ReadOnly),$=c.colorModeForRenderPass(),G=f.paint.get("line-dasharray"),te=f.paint.get("line-pattern"),Ae=te.constantOr(1),_e=f.paint.get("line-gradient"),de=f.getCrossfadeParameters(),Oe=Ae?"linePattern":G?"lineSDF":_e?"lineGradient":"line",Te=c.context,ze=Te.gl,Pe=!0,Be=0,Ke=y;Be<Ke.length;Be+=1){var et=Ke[Be],dt=p.getTile(et);if(!Ae||dt.patternsLoaded()){var ht=dt.getBucket(f);if(ht){var yt=ht.programConfigurations.get(f.id),Pt=c.context.program.get(),zt=c.useProgram(Oe,yt),Ft=Pe||zt.program!==Pt,tn=te.constantOr(null);if(tn&&dt.imageAtlas){var mn=dt.imageAtlas,Tn=mn.patternPositions[tn.to.toString()],kn=mn.patternPositions[tn.from.toString()];Tn&&kn&&yt.setConstantPatternPositions(Tn,kn)}var _r=Ae?qr(c,dt,f,de):G?Kc(c,dt,f,G,de):_e?nc(c,dt,f,ht.lineClipsArray.length):Wc(c,dt,f);if(Ae)Te.activeTexture.set(ze.TEXTURE0),dt.imageAtlasTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE),yt.updatePaintBuffers(de);else if(G&&(Ft||c.lineAtlas.dirty))Te.activeTexture.set(ze.TEXTURE0),c.lineAtlas.bind(Te);else if(_e){var pn=ht.gradients[f.id],Rn=pn.texture;if(f.gradientVersion!==pn.version){var tr=256;if(f.stepInterpolant){var Vn=p.getSource().maxzoom,zn=et.canonical.z===Vn?Math.ceil(1<<c.transform.maxZoom-et.canonical.z):1;tr=o.clamp(o.nextPowerOfTwo(ht.maxLineLength/o.EXTENT*1024*zn),256,Te.maxTextureSize)}pn.gradient=o.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:tr,image:pn.gradient||void 0,clips:ht.lineClipsArray}),pn.texture?pn.texture.update(pn.gradient):pn.texture=new o.Texture(Te,pn.gradient,ze.RGBA),pn.version=f.gradientVersion,Rn=pn.texture}Te.activeTexture.set(ze.TEXTURE0),Rn.bind(f.stepInterpolant?ze.NEAREST:ze.LINEAR,ze.CLAMP_TO_EDGE)}zt.draw(Te,ze.TRIANGLES,F,c.stencilModeForClipping(et),$,Ge.disabled,_r,f.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,f.paint,c.transform.zoom,yt,ht.layoutVertexBuffer2),Pe=!1}}}}},fill:function(c,p,f,y){var E=f.paint.get("fill-color"),L=f.paint.get("fill-opacity");if(L.constantOr(1)!==0){var F=c.colorModeForRenderPass(),$=f.paint.get("fill-pattern"),G=c.opaquePassEnabledForLayer()&&!$.constantOr(1)&&E.constantOr(o.Color.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===G){var te=c.depthModeForSublayer(1,c.renderPass==="opaque"?ve.ReadWrite:ve.ReadOnly);oc(c,p,f,y,te,F,!1)}if(c.renderPass==="translucent"&&f.paint.get("fill-antialias")){var Ae=c.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,ve.ReadOnly);oc(c,p,f,y,Ae,F,!0)}}},"fill-extrusion":function(c,p,f,y){var E=f.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var L=new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D);if(E!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Xo(c,p,f,y,L,Ie.disabled,Ue.disabled),Xo(c,p,f,y,L,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var F=c.colorModeForRenderPass();Xo(c,p,f,y,L,Ie.disabled,F)}}},hillshade:function(c,p,f,y){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,L=c.depthModeForSublayer(0,ve.ReadOnly),F=c.colorModeForRenderPass(),$=c.renderPass==="translucent"?c.stencilConfigForOverlap(y):[{},y],G=$[0],te=0,Ae=$[1];te<Ae.length;te+=1){var _e=Ae[te],de=p.getTile(_e);de.needsHillshadePrepare&&c.renderPass==="offscreen"?cs(c,de,f,L,Ie.disabled,F):c.renderPass==="translucent"&&Up(c,de,f,L,G[_e.overscaledZ],F)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,p,f,y){if(c.renderPass==="translucent"&&f.paint.get("raster-opacity")!==0&&y.length)for(var E=c.context,L=E.gl,F=p.getSource(),$=c.useProgram("raster"),G=c.colorModeForRenderPass(),te=F instanceof ge?[{},y]:c.stencilConfigForOverlap(y),Ae=te[0],_e=te[1],de=_e[_e.length-1].overscaledZ,Oe=!c.options.moving,Te=0,ze=_e;Te<ze.length;Te+=1){var Pe=ze[Te],Be=c.depthModeForSublayer(Pe.overscaledZ-de,f.paint.get("raster-opacity")===1?ve.ReadWrite:ve.ReadOnly,L.LESS),Ke=p.getTile(Pe),et=c.transform.calculatePosMatrix(Pe.toUnwrapped(),Oe);Ke.registerFadeDuration(f.paint.get("raster-fade-duration"));var dt=p.findLoadedParent(Pe,0),ht=pa(Ke,dt,p,f,c.transform),yt=void 0,Pt=void 0,zt=f.paint.get("raster-resampling")==="nearest"?L.NEAREST:L.LINEAR;E.activeTexture.set(L.TEXTURE0),Ke.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(L.TEXTURE1),dt?(dt.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),yt=Math.pow(2,dt.tileID.overscaledZ-Ke.tileID.overscaledZ),Pt=[Ke.tileID.canonical.x*yt%1,Ke.tileID.canonical.y*yt%1]):Ke.texture.bind(zt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);var Ft=Zc(et,Pt||[0,0],yt||1,ht,f);F instanceof ge?$.draw(E,L.TRIANGLES,Be,Ie.disabled,G,Ge.disabled,Ft,f.id,F.boundsBuffer,c.quadTriangleIndexBuffer,F.boundsSegments):$.draw(E,L.TRIANGLES,Be,Ae[Pe.overscaledZ],G,Ge.disabled,Ft,f.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,p,f){var y=f.paint.get("background-color"),E=f.paint.get("background-opacity");if(E!==0){var L=c.context,F=L.gl,$=c.transform,G=$.tileSize,te=f.paint.get("background-pattern");if(!c.isPatternMissing(te)){var Ae=!te&&y.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===Ae){var _e=Ie.disabled,de=c.depthModeForSublayer(0,Ae==="opaque"?ve.ReadWrite:ve.ReadOnly),Oe=c.colorModeForRenderPass(),Te=c.useProgram(te?"backgroundPattern":"background"),ze=$.coveringTiles({tileSize:G});te&&(L.activeTexture.set(F.TEXTURE0),c.imageManager.bind(c.context));for(var Pe=f.getCrossfadeParameters(),Be=0,Ke=ze;Be<Ke.length;Be+=1){var et=Ke[Be],dt=c.transform.calculatePosMatrix(et.toUnwrapped()),ht=te?rc(dt,E,c,te,{tileID:et,tileSize:G},Pe):Xc(dt,E,y);Te.draw(L,F.TRIANGLES,de,_e,Oe,Ge.disabled,ht,f.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,p,f){for(var y=0;y<f.length;y++)Tt(c,p,f[y])},custom:function(c,p,f){var y=c.context,E=f.implementation;if(c.renderPass==="offscreen"){var L=E.prerender;L&&(c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),L.call(E,y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),y.setColorMode(c.colorModeForRenderPass()),y.setStencilMode(Ie.disabled);var F=E.renderingMode==="3d"?new ve(c.context.gl.LEQUAL,ve.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ve.ReadOnly);y.setDepthMode(F),E.render(y.gl,c.transform.customLayerMatrix()),y.setDirty(),c.setBaseState(),y.bindFramebuffer.set(null)}}},qt=function(c,p){this.context=new Ne(c),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sl,this.gpuTimers={}};qt.prototype.resize=function(c,p){if(this.width=c*o.browser.devicePixelRatio,this.height=p*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var f=0,y=this.style._order;f<y.length;f+=1)this.style._layers[y[f]].resize()},qt.prototype.setup=function(){var c=this.context,p=new o.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(o.EXTENT,0),p.emplaceBack(0,o.EXTENT),p.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Do.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var f=new o.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(o.EXTENT,0),f.emplaceBack(0,o.EXTENT),f.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=c.createVertexBuffer(f,Do.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var y=new o.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(o.EXTENT,0,o.EXTENT,0),y.emplaceBack(0,o.EXTENT,0,o.EXTENT),y.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(y,re.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var E=new o.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Do.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var L=new o.StructArrayLayout1ui2;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(L);var F=new o.StructArrayLayout3ui6;F.emplaceBack(0,1,2),F.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(F),this.emptyTexture=new o.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var $=this.context.gl;this.stencilClearMode=new Ie({func:$.ALWAYS,mask:0},0,255,$.ZERO,$.ZERO,$.ZERO)},qt.prototype.clearStencil=function(){var c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var f=o.create();o.ortho(f,0,this.width,this.height,0,0,1),o.scale(f,f,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,ve.disabled,this.stencilClearMode,Ue.disabled,Ge.disabled,_a(f),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},qt.prototype._renderTileClippingMasks=function(c,p){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&p&&p.length){this.currentStencilSource=c.source;var f=this.context,y=f.gl;this.nextStencilID+p.length>256&&this.clearStencil(),f.setColorMode(Ue.disabled),f.setDepthMode(ve.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var L=0,F=p;L<F.length;L+=1){var $=F[L],G=this._tileClippingMaskIDs[$.key]=this.nextStencilID++;E.draw(f,y.TRIANGLES,ve.disabled,new Ie({func:y.ALWAYS,mask:0},G,255,y.KEEP,y.KEEP,y.REPLACE),Ue.disabled,Ge.disabled,_a($.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},qt.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,p=this.context.gl;return new Ie({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)},qt.prototype.stencilModeForClipping=function(c){var p=this.context.gl;return new Ie({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)},qt.prototype.stencilConfigForOverlap=function(c){var p,f=this.context.gl,y=c.sort(function(G,te){return te.overscaledZ-G.overscaledZ}),E=y[y.length-1].overscaledZ,L=y[0].overscaledZ-E+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();for(var F={},$=0;$<L;$++)F[$+E]=new Ie({func:f.GEQUAL,mask:255},$+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=L,[F,y]}return[(p={},p[E]=Ie.disabled,p),y]},qt.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new Ue([c.CONSTANT_COLOR,c.ONE],new o.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ue.unblended:Ue.alphaBlended},qt.prototype.depthModeForSublayer=function(c,p,f){if(!this.opaquePassEnabledForLayer())return ve.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ve(f||this.context.gl.LEQUAL,p,[y,y])},qt.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},qt.prototype.render=function(c,p){var f=this;this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var y=this.style._order,E=this.style.sourceCaches;for(var L in E){var F=E[L];F.used&&F.prepare(this.context)}var $,G,te={},Ae={},_e={};for(var de in E){var Oe=E[de];te[de]=Oe.getVisibleCoordinates(),Ae[de]=te[de].slice().reverse(),_e[de]=Oe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Te=0;Te<y.length;Te++)if(this.style._layers[y[Te]].is3D()){this.opaquePassCutoff=Te;break}this.renderPass="offscreen";for(var ze=0,Pe=y;ze<Pe.length;ze+=1){var Be=this.style._layers[Pe[ze]];if(Be.hasOffscreenPass()&&!Be.isHidden(this.transform.zoom)){var Ke=Ae[Be.source];(Be.type==="custom"||Ke.length)&&this.renderLayer(this,E[Be.source],Be,Ke)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var et=this.style._layers[y[this.currentLayer]],dt=E[et.source],ht=te[et.source];this._renderTileClippingMasks(et,ht),this.renderLayer(this,dt,et,ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var yt=this.style._layers[y[this.currentLayer]],Pt=E[yt.source],zt=(yt.type==="symbol"?_e:Ae)[yt.source];this._renderTileClippingMasks(yt,te[yt.source]),this.renderLayer(this,Pt,yt,zt)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(Ft){Ft.source&&!Ft.isHidden(f.transform.zoom)&&(Ft.source!==(G&&G.id)&&(G=f.style.sourceCaches[Ft.source]),(!$||$.getSource().maxzoom<G.getSource().maxzoom)&&($=G))}),$&&xt.debug(this,$,$.getVisibleCoordinates())),this.options.showPadding&&function(Ft){var tn=Ft.transform.padding;mu(Ft,Ft.transform.height-(tn.top||0),3,fs),mu(Ft,tn.bottom||0,3,Gs),Qs(Ft,tn.left||0,3,$p),Qs(Ft,Ft.transform.width-(tn.right||0),3,Uf);var mn=Ft.transform.centerPoint;(function(Tn,kn,_r,pn){it(Tn,kn-1,_r-10,2,20,pn),it(Tn,kn-10,_r-1,20,2,pn)})(Ft,mn.x,Ft.transform.height-mn.y,Yc)}(this),this.context.setDefault()},qt.prototype.renderLayer=function(c,p,f,y){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||y.length)&&(this.id=f.id,this.gpuTimingStart(f),xt[f.type](c,p,f,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},qt.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var p=this.context.extTimerQuery,f=this.gpuTimers[c.id];f||(f=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),f.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,f.query)}},qt.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},qt.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},qt.prototype.queryGpuTimers=function(c){var p={};for(var f in c){var y=c[f],E=this.context.extTimerQuery,L=E.getQueryObjectEXT(y.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(y.query),p[f]=L}return p},qt.prototype.translatePosMatrix=function(c,p,f,y,E){if(!f[0]&&!f[1])return c;var L=E?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(L){var F=Math.sin(L),$=Math.cos(L);f=[f[0]*$-f[1]*F,f[0]*F+f[1]*$]}var G=[E?f[0]:fa(p,f[0],this.transform.zoom),E?f[1]:fa(p,f[1],this.transform.zoom),0],te=new Float32Array(16);return o.translate(te,c,G),te},qt.prototype.saveTileTexture=function(c){var p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]},qt.prototype.getTileTexture=function(c){var p=this._tileTextures[c];return p&&p.length>0?p.pop():null},qt.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var p=this.imageManager.getPattern(c.from.toString()),f=this.imageManager.getPattern(c.to.toString());return!p||!f},qt.prototype.useProgram=function(c,p){this.cache=this.cache||{};var f=""+c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[f]||(this.cache[f]=new pu(this.context,c,ti[c],p,Au[c],this._showOverdrawInspector)),this.cache[f]},qt.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},qt.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},qt.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},qt.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var er=function(c,p){this.points=c,this.planes=p};er.fromInvProjectionMatrix=function(c,p,f){var y=Math.pow(2,f),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(F){return o.transformMat4([],F,c)}).map(function(F){return o.scale$1([],F,1/F[3]/p*y)}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(F){var $=o.sub([],E[F[0]],E[F[1]]),G=o.sub([],E[F[2]],E[F[1]]),te=o.normalize([],o.cross([],$,G)),Ae=-o.dot(te,E[F[1]]);return te.concat(Ae)});return new er(E,L)};var Cr=function(c,p){this.min=c,this.max=p,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};Cr.prototype.quadrant=function(c){for(var p=[c%2==0,c<2],f=o.clone$2(this.min),y=o.clone$2(this.max),E=0;E<p.length;E++)f[E]=p[E]?this.min[E]:this.center[E],y[E]=p[E]?this.center[E]:this.max[E];return y[2]=this.max[2],new Cr(f,y)},Cr.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},Cr.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},Cr.prototype.intersects=function(c){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],f=!0,y=0;y<c.planes.length;y++){for(var E=c.planes[y],L=0,F=0;F<p.length;F++)L+=o.dot$1(E,p[F])>=0;if(L===0)return 0;L!==p.length&&(f=!1)}if(f)return 2;for(var $=0;$<3;$++){for(var G=Number.MAX_VALUE,te=-Number.MAX_VALUE,Ae=0;Ae<c.points.length;Ae++){var _e=c.points[Ae][$]-this.min[$];G=Math.min(G,_e),te=Math.max(te,_e)}if(te<0||G>this.max[$]-this.min[$])return 0}return 1};var ni=function(c,p,f,y){if(c===void 0&&(c=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),isNaN(c)||c<0||isNaN(p)||p<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=f,this.right=y};ni.prototype.interpolate=function(c,p,f){return p.top!=null&&c.top!=null&&(this.top=o.number(c.top,p.top,f)),p.bottom!=null&&c.bottom!=null&&(this.bottom=o.number(c.bottom,p.bottom,f)),p.left!=null&&c.left!=null&&(this.left=o.number(c.left,p.left,f)),p.right!=null&&c.right!=null&&(this.right=o.number(c.right,p.right,f)),this},ni.prototype.getCenter=function(c,p){var f=o.clamp((this.left+c-this.right)/2,0,c),y=o.clamp((this.top+p-this.bottom)/2,0,p);return new o.Point(f,y)},ni.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},ni.prototype.clone=function(){return new ni(this.top,this.bottom,this.left,this.right)},ni.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ln=function(c,p,f,y,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ni,this._posMatrixCache={},this._alignedPosMatrixCache={}},cr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ln.prototype.clone=function(){var c=new Ln(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},cr.minZoom.get=function(){return this._minZoom},cr.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},cr.maxZoom.get=function(){return this._maxZoom},cr.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},cr.minPitch.get=function(){return this._minPitch},cr.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},cr.maxPitch.get=function(){return this._maxPitch},cr.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},cr.renderWorldCopies.get=function(){return this._renderWorldCopies},cr.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},cr.worldSize.get=function(){return this.tileSize*this.scale},cr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},cr.size.get=function(){return new o.Point(this.width,this.height)},cr.bearing.get=function(){return-this.angle/Math.PI*180},cr.bearing.set=function(c){var p=-o.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},cr.pitch.get=function(){return this._pitch/Math.PI*180},cr.pitch.set=function(c){var p=o.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},cr.fov.get=function(){return this._fov/Math.PI*180},cr.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},cr.zoom.get=function(){return this._zoom},cr.zoom.set=function(c){var p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},cr.center.get=function(){return this._center},cr.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},cr.padding.get=function(){return this._edgeInsets.toJSON()},cr.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},cr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ln.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Ln.prototype.interpolatePadding=function(c,p,f){this._unmodified=!1,this._edgeInsets.interpolate(c,p,f),this._constrain(),this._calcMatrices()},Ln.prototype.coveringZoomLevel=function(c){var p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)},Ln.prototype.getVisibleUnwrappedCoordinates=function(c){var p=[new o.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var f=this.pointCoordinate(new o.Point(0,0)),y=this.pointCoordinate(new o.Point(this.width,0)),E=this.pointCoordinate(new o.Point(this.width,this.height)),L=this.pointCoordinate(new o.Point(0,this.height)),F=Math.floor(Math.min(f.x,y.x,E.x,L.x)),$=Math.floor(Math.max(f.x,y.x,E.x,L.x)),G=F-1;G<=$+1;G++)G!==0&&p.push(new o.UnwrappedTileID(G,c));return p},Ln.prototype.coveringTiles=function(c){var p=this.coveringZoomLevel(c),f=p;if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);var y=o.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,p),L=[E*y.x,E*y.y,0],F=er.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),$=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&($=p);var G=function(Ft){return{aabb:new Cr([Ft*E,0,0],[(Ft+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Ft,fullyVisible:!1}},te=[],Ae=[],_e=p,de=c.reparseOverscaled?f:p;if(this._renderWorldCopies)for(var Oe=1;Oe<=3;Oe++)te.push(G(-Oe)),te.push(G(Oe));for(te.push(G(0));te.length>0;){var Te=te.pop(),ze=Te.x,Pe=Te.y,Be=Te.fullyVisible;if(!Be){var Ke=Te.aabb.intersects(F);if(Ke===0)continue;Be=Ke===2}var et=Te.aabb.distanceX(L),dt=Te.aabb.distanceY(L),ht=Math.max(Math.abs(et),Math.abs(dt));if(Te.zoom===_e||ht>3+(1<<_e-Te.zoom)-2&&Te.zoom>=$)Ae.push({tileID:new o.OverscaledTileID(Te.zoom===_e?de:Te.zoom,Te.wrap,Te.zoom,ze,Pe),distanceSq:o.sqrLen([L[0]-.5-ze,L[1]-.5-Pe])});else for(var yt=0;yt<4;yt++){var Pt=(ze<<1)+yt%2,zt=(Pe<<1)+(yt>>1);te.push({aabb:Te.aabb.quadrant(yt),zoom:Te.zoom+1,x:Pt,y:zt,wrap:Te.wrap,fullyVisible:Be})}}return Ae.sort(function(Ft,tn){return Ft.distanceSq-tn.distanceSq}).map(function(Ft){return Ft.tileID})},Ln.prototype.resize=function(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()},cr.unmodified.get=function(){return this._unmodified},Ln.prototype.zoomScale=function(c){return Math.pow(2,c)},Ln.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Ln.prototype.project=function(c){var p=o.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(c.lng)*this.worldSize,o.mercatorYfromLat(p)*this.worldSize)},Ln.prototype.unproject=function(c){return new o.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},cr.point.get=function(){return this.project(this.center)},Ln.prototype.setLocationAtPoint=function(c,p){var f=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),L=new o.MercatorCoordinate(E.x-(f.x-y.x),E.y-(f.y-y.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())},Ln.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Ln.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Ln.prototype.locationCoordinate=function(c){return o.MercatorCoordinate.fromLngLat(c)},Ln.prototype.coordinateLocation=function(c){return c.toLngLat()},Ln.prototype.pointCoordinate=function(c){var p=[c.x,c.y,0,1],f=[c.x,c.y,1,1];o.transformMat4(p,p,this.pixelMatrixInverse),o.transformMat4(f,f,this.pixelMatrixInverse);var y=p[3],E=f[3],L=p[1]/y,F=f[1]/E,$=p[2]/y,G=f[2]/E,te=$===G?0:(0-$)/(G-$);return new o.MercatorCoordinate(o.number(p[0]/y,f[0]/E,te)/this.worldSize,o.number(L,F,te)/this.worldSize)},Ln.prototype.coordinatePoint=function(c){var p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return o.transformMat4(p,p,this.pixelMatrix),new o.Point(p[0]/p[3],p[1]/p[3])},Ln.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},Ln.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ln.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ln.prototype.calculatePosMatrix=function(c,p){p===void 0&&(p=!1);var f=c.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];var E=c.canonical,L=this.worldSize/this.zoomScale(E.z),F=E.x+Math.pow(2,E.z)*c.wrap,$=o.identity(new Float64Array(16));return o.translate($,$,[F*L,E.y*L,0]),o.scale($,$,[L/o.EXTENT,L/o.EXTENT,1]),o.multiply($,p?this.alignedProjMatrix:this.projMatrix,$),y[f]=new Float32Array($),y[f]},Ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ln.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,p,f,y,E=-90,L=90,F=-180,$=180,G=this.size,te=this._unmodified;if(this.latRange){var Ae=this.latRange;E=o.mercatorYfromLat(Ae[1])*this.worldSize,c=(L=o.mercatorYfromLat(Ae[0])*this.worldSize)-E<G.y?G.y/(L-E):0}if(this.lngRange){var _e=this.lngRange;F=o.mercatorXfromLng(_e[0])*this.worldSize,p=($=o.mercatorXfromLng(_e[1])*this.worldSize)-F<G.x?G.x/($-F):0}var de=this.point,Oe=Math.max(p||0,c||0);if(Oe)return this.center=this.unproject(new o.Point(p?($+F)/2:de.x,c?(L+E)/2:de.y)),this.zoom+=this.scaleZoom(Oe),this._unmodified=te,void(this._constraining=!1);if(this.latRange){var Te=de.y,ze=G.y/2;Te-ze<E&&(y=E+ze),Te+ze>L&&(y=L-ze)}if(this.lngRange){var Pe=de.x,Be=G.x/2;Pe-Be<F&&(f=F+Be),Pe+Be>$&&(f=$-Be)}f===void 0&&y===void 0||(this.center=this.unproject(new o.Point(f!==void 0?f:de.x,y!==void 0?y:de.y))),this._unmodified=te,this._constraining=!1}},Ln.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,f=this._fov*(.5+c.y/this.height),y=Math.sin(f)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-p-f,.01,Math.PI-.01)),E=this.point,L=E.x,F=E.y,$=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),G=this.height/50,te=new Float64Array(16);o.perspective(te,this._fov,this.width/this.height,G,$),te[8]=2*-c.x/this.width,te[9]=2*c.y/this.height,o.scale(te,te,[1,-1,1]),o.translate(te,te,[0,0,-this.cameraToCenterDistance]),o.rotateX(te,te,this._pitch),o.rotateZ(te,te,this.angle),o.translate(te,te,[-L,-F,0]),this.mercatorMatrix=o.scale([],te,[this.worldSize,this.worldSize,this.worldSize]),o.scale(te,te,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=te,this.invProjMatrix=o.invert([],this.projMatrix);var Ae=this.width%2/2,_e=this.height%2/2,de=Math.cos(this.angle),Oe=Math.sin(this.angle),Te=L-Math.round(L)+de*Ae+Oe*_e,ze=F-Math.round(F)+de*_e+Oe*Ae,Pe=new Float64Array(te);if(o.translate(Pe,Pe,[Te>.5?Te-1:Te,ze>.5?ze-1:ze,0]),this.alignedProjMatrix=Pe,te=o.create(),o.scale(te,te,[this.width/2,-this.height/2,1]),o.translate(te,te,[1,-1,0]),this.labelPlaneMatrix=te,te=o.create(),o.scale(te,te,[1,-1,1]),o.translate(te,te,[-1,-1,0]),o.scale(te,te,[2/this.width,2/this.height,1]),this.glCoordMatrix=te,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(te=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=te,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new o.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return o.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ln.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,c))},Ln.prototype.getCameraQueryGeometry=function(c){var p=this.getCameraPoint();if(c.length===1)return[c[0],p];for(var f=p.x,y=p.y,E=p.x,L=p.y,F=0,$=c;F<$.length;F+=1){var G=$[F];f=Math.min(f,G.x),y=Math.min(y,G.y),E=Math.max(E,G.x),L=Math.max(L,G.y)}return[new o.Point(f,y),new o.Point(E,y),new o.Point(E,L),new o.Point(f,L),new o.Point(f,y)]},Object.defineProperties(Ln.prototype,cr);var Ul=function(c){var p,f,y,E;this._hashName=c&&encodeURIComponent(c),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),f=!1,y=null,E=function(){y=null,f&&(p(),y=setTimeout(E,300),f=!1)},function(){return f=!0,y||E(),y})};Ul.prototype.addTo=function(c){return this._map=c,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ul.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ul.prototype.getHashString=function(c){var p=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,y),L=Math.round(p.lng*E)/E,F=Math.round(p.lat*E)/E,$=this._map.getBearing(),G=this._map.getPitch(),te="";if(te+=c?"/"+L+"/"+F+"/"+f:f+"/"+F+"/"+L,($||G)&&(te+="/"+Math.round(10*$)/10),G&&(te+="/"+Math.round(G)),this._hashName){var Ae=this._hashName,_e=!1,de=o.window.location.hash.slice(1).split("&").map(function(Oe){var Te=Oe.split("=")[0];return Te===Ae?(_e=!0,Te+"="+te):Oe}).filter(function(Oe){return Oe});return _e||de.push(Ae+"="+te),"#"+de.join("&")}return"#"+te},Ul.prototype._getCurrentHash=function(){var c,p=this,f=o.window.location.hash.replace("#","");return this._hashName?(f.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(c=y)}),(c&&c[1]||"").split("/")):f.split("/")},Ul.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(f){return isNaN(f)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:p,pitch:+(c[4]||0)}),!0}return!1},Ul.prototype._updateHashUnthrottled=function(){var c=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,c)}catch{}};var $i={linearity:.3,easing:o.bezier(0,0,.3,1)},gu=o.extend({deceleration:2500,maxSpeed:1400},$i),xa=o.extend({deceleration:20,maxSpeed:1400},$i),ps=o.extend({deceleration:1e3,maxSpeed:360},$i),Jc=o.extend({deceleration:1e3,maxSpeed:90},$i),Al=function(c){this._map=c,this.clear()};function jr(c,p){(!c.duration||c.duration<p.duration)&&(c.duration=p.duration,c.easing=p.easing)}function ac(c,p,f){var y=f.maxSpeed,E=f.linearity,L=f.deceleration,F=o.clamp(c*E/(p/1e3),-y,y),$=Math.abs(F)/(L*E);return{easing:f.easing,duration:1e3*$,amount:F*($/2)}}Al.prototype.clear=function(){this._inertiaBuffer=[]},Al.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:c})},Al.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,p=o.browser.now();c.length>0&&p-c[0].time>160;)c.shift()},Al.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},f=0,y=this._inertiaBuffer;f<y.length;f+=1){var E=y[f].settings;p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround)}var L=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,F={};if(p.pan.mag()){var $=ac(p.pan.mag(),L,o.extend({},gu,c||{}));F.offset=p.pan.mult($.amount/p.pan.mag()),F.center=this._map.transform.center,jr(F,$)}if(p.zoom){var G=ac(p.zoom,L,xa);F.zoom=this._map.transform.zoom+G.amount,jr(F,G)}if(p.bearing){var te=ac(p.bearing,L,ps);F.bearing=this._map.transform.bearing+o.clamp(te.amount,-179,179),jr(F,te)}if(p.pitch){var Ae=ac(p.pitch,L,Jc);F.pitch=this._map.transform.pitch+Ae.amount,jr(F,Ae)}if(F.zoom||F.bearing){var _e=p.pinchAround===void 0?p.around:p.pinchAround;F.around=_e?this._map.unproject(_e):this._map.getCenter()}return this.clear(),o.extend(F,{noMoveStart:!0})}};var Po=function(c){function p(y,E,L,F){F===void 0&&(F={});var $=S.mousePos(E.getCanvasContainer(),L),G=E.unproject($);c.call(this,y,o.extend({point:$,lngLat:G,originalEvent:L},F)),this._defaultPrevented=!1,this.target=E}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),ho=function(c){function p(y,E,L){var F=y==="touchend"?L.changedTouches:L.touches,$=S.touchPos(E.getCanvasContainer(),F),G=$.map(function(_e){return E.unproject(_e)}),te=$.reduce(function(_e,de,Oe,Te){return _e.add(de.div(Te.length))},new o.Point(0,0)),Ae=E.unproject(te);c.call(this,y,{points:$,point:te,lngLats:G,lngLat:Ae,originalEvent:L}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),$f=function(c){function p(y,E,L){c.call(this,y,{originalEvent:L}),this._defaultPrevented=!1}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},f.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,f),p}(o.Event),Zi=function(c,p){this._map=c,this._clickTolerance=p.clickTolerance};Zi.prototype.reset=function(){delete this._mousedownPos},Zi.prototype.wheel=function(c){return this._firePreventable(new $f(c.type,this._map,c))},Zi.prototype.mousedown=function(c,p){return this._mousedownPos=p,this._firePreventable(new Po(c.type,this._map,c))},Zi.prototype.mouseup=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.click=function(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.dblclick=function(c){return this._firePreventable(new Po(c.type,this._map,c))},Zi.prototype.mouseover=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.mouseout=function(c){this._map.fire(new Po(c.type,this._map,c))},Zi.prototype.touchstart=function(c){return this._firePreventable(new ho(c.type,this._map,c))},Zi.prototype.touchmove=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchend=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype.touchcancel=function(c){this._map.fire(new ho(c.type,this._map,c))},Zi.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Zi.prototype.isEnabled=function(){return!0},Zi.prototype.isActive=function(){return!1},Zi.prototype.enable=function(){},Zi.prototype.disable=function(){};var ba=function(c){this._map=c};ba.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ba.prototype.mousemove=function(c){this._map.fire(new Po(c.type,this._map,c))},ba.prototype.mousedown=function(){this._delayContextMenu=!0},ba.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ba.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Po(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},ba.prototype.isEnabled=function(){return!0},ba.prototype.isActive=function(){return!1},ba.prototype.enable=function(){},ba.prototype.disable=function(){};var an=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1};function ja(c,p){for(var f={},y=0;y<c.length;y++)f[c[y].identifier]=p[y];return f}an.prototype.isEnabled=function(){return!!this._enabled},an.prototype.isActive=function(){return!!this._active},an.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},an.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},an.prototype.mousedown=function(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(S.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},an.prototype.mousemoveWindow=function(c,p){if(this._active){var f=p;if(!(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=f,this._box||(this._box=S.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(y.x,f.x),L=Math.max(y.x,f.x),F=Math.min(y.y,f.y),$=Math.max(y.y,f.y);S.setTransform(this._box,"translate("+E+"px,"+F+"px)"),this._box.style.width=L-E+"px",this._box.style.height=$-F+"px"}}},an.prototype.mouseupWindow=function(c,p){var f=this;if(this._active&&c.button===0){var y=this._startPos,E=p;if(this.reset(),S.suppressClick(),y.x!==E.x||y.y!==E.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(L){return L.fitScreenCoordinates(y,E,f._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},an.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},an.prototype.reset=function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},an.prototype._fireEvent=function(c,p){return this._map.fire(new o.Event(c,{originalEvent:p}))};var Ws=function(c){this.reset(),this.numTouches=c.numTouches};Ws.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ws.prototype.touchstart=function(c,p,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){for(var E=new o.Point(0,0),L=0,F=y;L<F.length;L+=1)E._add(F[L]);return E.div(y.length)}(p),this.touches=ja(f,p)))},Ws.prototype.touchmove=function(c,p,f){if(!this.aborted&&this.centroid){var y=ja(f,p);for(var E in this.touches){var L=y[E];(!L||L.dist(this.touches[E])>30)&&(this.aborted=!0)}}},Ws.prototype.touchend=function(c,p,f){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Ks=function(c){this.singleTap=new Ws(c),this.numTaps=c.numTaps,this.reset()};Ks.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ks.prototype.touchstart=function(c,p,f){this.singleTap.touchstart(c,p,f)},Ks.prototype.touchmove=function(c,p,f){this.singleTap.touchmove(c,p,f)},Ks.prototype.touchend=function(c,p,f){var y=this.singleTap.touchend(c,p,f);if(y){var E=c.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(y)<30;if(E&&L||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var Fo=function(){this._zoomIn=new Ks({numTouches:1,numTaps:2}),this._zoomOut=new Ks({numTouches:2,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fo.prototype.touchstart=function(c,p,f){this._zoomIn.touchstart(c,p,f),this._zoomOut.touchstart(c,p,f)},Fo.prototype.touchmove=function(c,p,f){this._zoomIn.touchmove(c,p,f),this._zoomOut.touchmove(c,p,f)},Fo.prototype.touchend=function(c,p,f){var y=this,E=this._zoomIn.touchend(c,p,f),L=this._zoomOut.touchend(c,p,f);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(F){return F.easeTo({duration:300,zoom:F.getZoom()+1,around:F.unproject(E)},{originalEvent:c})}}):L?(this._active=!0,c.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(F){return F.easeTo({duration:300,zoom:F.getZoom()-1,around:F.unproject(L)},{originalEvent:c})}}):void 0},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var yu={0:1,2:2},Yo=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Yo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Yo.prototype._correctButton=function(c,p){return!1},Yo.prototype._move=function(c,p){return{}},Yo.prototype.mousedown=function(c,p){if(!this._lastPoint){var f=S.mouseButton(c);this._correctButton(c,f)&&(this._lastPoint=p,this._eventButton=f)}},Yo.prototype.mousemoveWindow=function(c,p){var f=this._lastPoint;if(f){if(c.preventDefault(),function(y,E){var L=yu[E];return y.buttons===void 0||(y.buttons&L)!==L}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(f,p)}},Yo.prototype.mouseupWindow=function(c){this._lastPoint&&S.mouseButton(c)===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())},Yo.prototype.enable=function(){this._enabled=!0},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var un=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.mousedown=function(f,y){c.prototype.mousedown.call(this,f,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(f,y){return y===0&&!f.ctrlKey},p.prototype._move=function(f,y){return{around:y,panDelta:y.sub(f)}},p}(Yo),sc=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=.8*(y.x-f.x);if(E)return this._active=!0,{bearingDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Zs=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype._correctButton=function(f,y){return y===0&&f.ctrlKey||y===2},p.prototype._move=function(f,y){var E=-.5*(y.y-f.y);if(E)return this._active=!0,{pitchDelta:E}},p.prototype.contextmenu=function(f){f.preventDefault()},p}(Yo),Ao=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};Ao.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},Ao.prototype.touchstart=function(c,p,f){return this._calculateTransform(c,p,f)},Ao.prototype.touchmove=function(c,p,f){if(this._active&&!(f.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,f)},Ao.prototype.touchend=function(c,p,f){this._calculateTransform(c,p,f),this._active&&f.length<this._minTouches&&this.reset()},Ao.prototype.touchcancel=function(){this.reset()},Ao.prototype._calculateTransform=function(c,p,f){f.length>0&&(this._active=!0);var y=ja(f,p),E=new o.Point(0,0),L=new o.Point(0,0),F=0;for(var $ in y){var G=y[$],te=this._touches[$];te&&(E._add(G),L._add(G.sub(te)),F++,y[$]=G)}if(this._touches=y,!(F<this._minTouches)&&L.mag()){var Ae=L.div(F);if(this._sum._add(Ae),!(this._sum.mag()<this._clickTolerance))return{around:E.div(F),panDelta:Ae}}},Ao.prototype.enable=function(){this._enabled=!0},Ao.prototype.disable=function(){this._enabled=!1,this.reset()},Ao.prototype.isEnabled=function(){return this._enabled},Ao.prototype.isActive=function(){return this._active};var Er=function(){this.reset()};function ef(c,p,f){for(var y=0;y<c.length;y++)if(c[y].identifier===f)return p[y]}function jp(c,p){return Math.log(c/p)/Math.LN2}Er.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Er.prototype._start=function(c){},Er.prototype._move=function(c,p,f){return{}},Er.prototype.touchstart=function(c,p,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([p[0],p[1]]))},Er.prototype.touchmove=function(c,p,f){if(this._firstTwoTouches){c.preventDefault();var y=this._firstTwoTouches,E=y[1],L=ef(f,p,y[0]),F=ef(f,p,E);if(L&&F){var $=this._aroundCenter?null:L.add(F).div(2);return this._move([L,F],$,c)}}},Er.prototype.touchend=function(c,p,f){if(this._firstTwoTouches){var y=this._firstTwoTouches,E=y[1],L=ef(f,p,y[0]),F=ef(f,p,E);L&&F||(this._active&&S.suppressClick(),this.reset())}},Er.prototype.touchcancel=function(){this.reset()},Er.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},Er.prototype.disable=function(){this._enabled=!1,this.reset()},Er.prototype.isEnabled=function(){return this._enabled},Er.prototype.isActive=function(){return this._active};var jf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(f){this._startDistance=this._distance=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(jp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jp(this._distance,E),pinchAround:y}},p}(Er);function mo(c,p){return 180*c.angleWith(p)/Math.PI}var Va=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])},p.prototype._move=function(f,y){var E=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:mo(this._vector,E),pinchAround:y}},p.prototype._isBelowThreshold=function(f){this._minDiameter=Math.min(this._minDiameter,f.mag());var y=25/(Math.PI*this._minDiameter)*360,E=mo(f,this._startVector);return Math.abs(E)<y},p}(Er);function $l(c){return Math.abs(c.y)>Math.abs(c.x)}var tf=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(f){this._lastPoints=f,$l(f[0].sub(f[1]))&&(this._valid=!1)},p.prototype._move=function(f,y,E){var L=f[0].sub(this._lastPoints[0]),F=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(L,F,E.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(L.y+F.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(f,y,E){if(this._valid!==void 0)return this._valid;var L=f.mag()>=2,F=y.mag()>=2;if(L||F){if(!L||!F)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var $=f.y>0==y.y>0;return $l(f)&&$l(y)&&$}},p}(Er),nf={panStep:100,bearingStep:15,pitchStep:10},hs=function(){var c=nf;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function Vp(c){return c*(2-c)}hs.prototype.reset=function(){this._active=!1},hs.prototype.keydown=function(c){var p=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var f=0,y=0,E=0,L=0,F=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),L=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),L=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),F=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),F=1);break;default:return}return this._rotationDisabled&&(y=0,E=0),{cameraAnimation:function($){var G=$.getZoom();$.easeTo({duration:300,easeId:"keyboardHandler",easing:Vp,zoom:f?Math.round(G)+f*(c.shiftKey?2:1):G,bearing:$.getBearing()+y*p._bearingStep,pitch:$.getPitch()+E*p._pitchStep,offset:[-L*p._panStep,-F*p._panStep],center:$.getCenter()},{originalEvent:c})}}}},hs.prototype.enable=function(){this._enabled=!0},hs.prototype.disable=function(){this._enabled=!1,this.reset()},hs.prototype.isEnabled=function(){return this._enabled},hs.prototype.isActive=function(){return this._active},hs.prototype.disableRotation=function(){this._rotationDisabled=!0},hs.prototype.enableRotation=function(){this._rotationDisabled=!1};var rr=function(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,o.bindAll(["_onTimeout"],this)};rr.prototype.setZoomRate=function(c){this._defaultZoomRate=c},rr.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},rr.prototype.isEnabled=function(){return!!this._enabled},rr.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},rr.prototype.isZooming=function(){return!!this._zooming},rr.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},rr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},rr.prototype.wheel=function(c){if(this.isEnabled()){var p=c.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,f=o.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}},rr.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},rr.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=S.mousePos(this._el,c);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},rr.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var f=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*f)));this._delta<0&&y!==0&&(y=1/y);var E=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(E*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var L,F=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,$=this._startZoom,G=this._easing,te=!1;if(this._type==="wheel"&&$&&G){var Ae=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),_e=G(Ae);L=o.number($,F,_e),Ae<1?this._frameId||(this._frameId=!0):te=!0}else L=F,te=!0;return this._active=!0,te&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!te,zoomDelta:L-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},rr.prototype._smoothOutEasing=function(c){var p=o.ease;if(this._prevEase){var f=this._prevEase,y=(o.browser.now()-f.start)/f.duration,E=f.easing(y+.01)-f.easing(y),L=.27/Math.sqrt(E*E+1e-4)*.01,F=Math.sqrt(.0729-L*L);p=o.bezier(L,F,.25,1)}return this._prevEase={start:o.browser.now(),duration:c,easing:p},p},rr.prototype.reset=function(){this._active=!1};var Wn=function(c,p){this._clickZoom=c,this._tapZoom=p};Wn.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Wn.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Wn.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Wn.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ha=function(){this.reset()};ha.prototype.reset=function(){this._active=!1},ha.prototype.dblclick=function(c,p){return c.preventDefault(),{cameraAnimation:function(f){f.easeTo({duration:300,zoom:f.getZoom()+(c.shiftKey?-1:1),around:f.unproject(p)},{originalEvent:c})}}},ha.prototype.enable=function(){this._enabled=!0},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};var Ti=function(){this._tap=new Ks({numTouches:1,numTaps:1}),this.reset()};Ti.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ti.prototype.touchstart=function(c,p,f){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=p[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(c,p,f))},Ti.prototype.touchmove=function(c,p,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;var y=p[0],E=y.y-this._swipePoint.y;return this._swipePoint=y,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,f)},Ti.prototype.touchend=function(c,p,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(c,p,f)&&(this._tapTime=c.timeStamp)},Ti.prototype.touchcancel=function(){this.reset()},Ti.prototype.enable=function(){this._enabled=!0},Ti.prototype.disable=function(){this._enabled=!1,this.reset()},Ti.prototype.isEnabled=function(){return this._enabled},Ti.prototype.isActive=function(){return this._active};var Bn=function(c,p,f){this._el=c,this._mousePan=p,this._touchPan=f};Bn.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")},Bn.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Bn.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function(c,p,f){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=f};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ha=function(c,p,f,y){this._el=c,this._touchZoom=p,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ha.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")},Ha.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ha.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ha.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ha.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Jo=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ea=function(c){function p(){c.apply(this,arguments)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p}(o.Event);function qa(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Wt=function(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Al(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),o.bindAll(["handleEvent","handleWindowEvent"],this);var f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[o.window,"blur",void 0]];for(var y=0,E=this._listeners;y<E.length;y+=1){var L=E[y],F=L[0];S.addEventListener(F,L[1],F===o.window.document?this.handleWindowEvent:this.handleEvent,L[2])}};Wt.prototype.destroy=function(){for(var c=0,p=this._listeners;c<p.length;c+=1){var f=p[c],y=f[0];S.removeEventListener(y,f[1],y===o.window.document?this.handleWindowEvent:this.handleEvent,f[2])}},Wt.prototype._addDefaultHandlers=function(c){var p=this._map,f=p.getCanvasContainer();this._add("mapEvent",new Zi(p,c));var y=p.boxZoom=new an(p,c);this._add("boxZoom",y);var E=new Fo,L=new ha;p.doubleClickZoom=new Wn(L,E),this._add("tapZoom",E),this._add("clickZoom",L);var F=new Ti;this._add("tapDragZoom",F);var $=p.touchPitch=new tf;this._add("touchPitch",$);var G=new sc(c),te=new Zs(c);p.dragRotate=new Bo(c,G,te),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",te,["mouseRotate"]);var Ae=new un(c),_e=new Ao(c);p.dragPan=new Bn(f,Ae,_e),this._add("mousePan",Ae),this._add("touchPan",_e,["touchZoom","touchRotate"]);var de=new Va,Oe=new jf;p.touchZoomRotate=new Ha(f,Oe,de,F),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",Oe,["touchPan","touchRotate"]);var Te=p.scrollZoom=new rr(p,this);this._add("scrollZoom",Te,["mousePan"]);var ze=p.keyboard=new hs;this._add("keyboard",ze),this._add("blockableMapEvent",new ba(p));for(var Pe=0,Be=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Pe<Be.length;Pe+=1){var Ke=Be[Pe];c.interactive&&c[Ke]&&p[Ke].enable(c[Ke])}},Wt.prototype._add=function(c,p,f){this._handlers.push({handlerName:c,handler:p,allowed:f}),this._handlersById[c]=p},Wt.prototype.stop=function(c){if(!this._updatingCamera){for(var p=0,f=this._handlers;p<f.length;p+=1)f[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Wt.prototype.isActive=function(){for(var c=0,p=this._handlers;c<p.length;c+=1)if(p[c].handler.isActive())return!0;return!1},Wt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Wt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Wt.prototype.isMoving=function(){return Boolean(Jo(this._eventsInProgress))||this.isZooming()},Wt.prototype._blockedByActive=function(c,p,f){for(var y in c)if(y!==f&&(!p||p.indexOf(y)<0))return!0;return!1},Wt.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Wt.prototype._getMapTouches=function(c){for(var p=[],f=0,y=c;f<y.length;f+=1){var E=y[f];this._el.contains(E.target)&&p.push(E)}return p},Wt.prototype.handleEvent=function(c,p){if(c.type!=="blur"){this._updatingCamera=!0;for(var f=c.type==="renderFrame"?void 0:c,y={needsRenderFrame:!1},E={},L={},F=c.touches?this._getMapTouches(c.touches):void 0,$=F?S.touchPos(this._el,F):S.mousePos(this._el,c),G=0,te=this._handlers;G<te.length;G+=1){var Ae=te[G],_e=Ae.handlerName,de=Ae.handler,Oe=Ae.allowed;if(de.isEnabled()){var Te=void 0;this._blockedByActive(L,Oe,_e)?de.reset():de[p||c.type]&&(Te=de[p||c.type](c,$,F),this.mergeHandlerResult(y,E,Te,_e,f),Te&&Te.needsRenderFrame&&this._triggerRenderFrame()),(Te||de.isActive())&&(L[_e]=de)}}var ze={};for(var Pe in this._previousActiveHandlers)L[Pe]||(ze[Pe]=f);this._previousActiveHandlers=L,(Object.keys(ze).length||qa(y))&&(this._changes.push([y,E,ze]),this._triggerRenderFrame()),(Object.keys(L).length||qa(y))&&this._map._stop(!0),this._updatingCamera=!1;var Be=y.cameraAnimation;Be&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Be(this._map))}else this.stop(!0)},Wt.prototype.mergeHandlerResult=function(c,p,f,y,E){if(f){o.extend(c,f);var L={handlerName:y,originalEvent:f.originalEvent||E};f.zoomDelta!==void 0&&(p.zoom=L),f.panDelta!==void 0&&(p.drag=L),f.pitchDelta!==void 0&&(p.pitch=L),f.bearingDelta!==void 0&&(p.rotate=L)}},Wt.prototype._applyChanges=function(){for(var c={},p={},f={},y=0,E=this._changes;y<E.length;y+=1){var L=E[y],F=L[0],$=L[1],G=L[2];F.panDelta&&(c.panDelta=(c.panDelta||new o.Point(0,0))._add(F.panDelta)),F.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+F.zoomDelta),F.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+F.bearingDelta),F.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+F.pitchDelta),F.around!==void 0&&(c.around=F.around),F.pinchAround!==void 0&&(c.pinchAround=F.pinchAround),F.noInertia&&(c.noInertia=F.noInertia),o.extend(p,$),o.extend(f,G)}this._updateMapTransform(c,p,f),this._changes=[]},Wt.prototype._updateMapTransform=function(c,p,f){var y=this._map,E=y.transform;if(!qa(c))return this._fireEvents(p,f,!0);var L=c.panDelta,F=c.zoomDelta,$=c.bearingDelta,G=c.pitchDelta,te=c.around,Ae=c.pinchAround;Ae!==void 0&&(te=Ae),y._stop(!0),te=te||y.transform.centerPoint;var _e=E.pointLocation(L?te.sub(L):te);$&&(E.bearing+=$),G&&(E.pitch+=G),F&&(E.zoom+=F),E.setLocationAtPoint(_e,te),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,f,!0)},Wt.prototype._fireEvents=function(c,p,f){var y=this,E=Jo(this._eventsInProgress),L=Jo(c),F={};for(var $ in c)this._eventsInProgress[$]||(F[$+"start"]=c[$].originalEvent),this._eventsInProgress[$]=c[$];for(var G in!E&&L&&this._fireEvent("movestart",L.originalEvent),F)this._fireEvent(G,F[G]);for(var te in L&&this._fireEvent("move",L.originalEvent),c)this._fireEvent(te,c[te].originalEvent);var Ae,_e={};for(var de in this._eventsInProgress){var Oe=this._eventsInProgress[de],Te=Oe.handlerName,ze=Oe.originalEvent;this._handlersById[Te].isActive()||(delete this._eventsInProgress[de],_e[de+"end"]=Ae=p[Te]||ze)}for(var Pe in _e)this._fireEvent(Pe,_e[Pe]);var Be=Jo(this._eventsInProgress);if(f&&(E||L)&&!Be){this._updatingCamera=!0;var Ke=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),et=function(dt){return dt!==0&&-y._bearingSnap<dt&&dt<y._bearingSnap};Ke?(et(Ke.bearing||this._map.getBearing())&&(Ke.bearing=0),this._map.easeTo(Ke,{originalEvent:Ae})):(this._map.fire(new o.Event("moveend",{originalEvent:Ae})),et(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Wt.prototype._fireEvent=function(c,p){this._map.fire(new o.Event(c,p?{originalEvent:p}:{}))},Wt.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete c._frameId,c.handleEvent(new ea("renderFrame",{timeStamp:p})),c._applyChanges()})},Wt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var mt=function(c){function p(f,y){c.call(this),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=y.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(f,y){return this.jumpTo({center:f},y)},p.prototype.panBy=function(f,y,E){return f=o.Point.convert(f).mult(-1),this.panTo(this.transform.center,o.extend({offset:f},y),E)},p.prototype.panTo=function(f,y,E){return this.easeTo(o.extend({center:f},y),E)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(f,y){return this.jumpTo({zoom:f},y),this},p.prototype.zoomTo=function(f,y,E){return this.easeTo(o.extend({zoom:f},y),E)},p.prototype.zoomIn=function(f,y){return this.zoomTo(this.getZoom()+1,f,y),this},p.prototype.zoomOut=function(f,y){return this.zoomTo(this.getZoom()-1,f,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(f,y){return this.jumpTo({bearing:f},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(f,y){return this.jumpTo({padding:f},y),this},p.prototype.rotateTo=function(f,y,E){return this.easeTo(o.extend({bearing:f},y),E)},p.prototype.resetNorth=function(f,y){return this.rotateTo(0,o.extend({duration:1e3},f),y),this},p.prototype.resetNorthPitch=function(f,y){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},f),y),this},p.prototype.snapToNorth=function(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(f,y){return this.jumpTo({pitch:f},y),this},p.prototype.cameraForBounds=function(f,y){f=o.LngLatBounds.convert(f);var E=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),E,y)},p.prototype._cameraForBoxAndBearing=function(f,y,E,L){var F={top:0,bottom:0,right:0,left:0};if(typeof(L=o.extend({padding:F,offset:[0,0],maxZoom:this.transform.maxZoom},L)).padding=="number"){var $=L.padding;L.padding={top:$,bottom:$,right:$,left:$}}L.padding=o.extend(F,L.padding);var G=this.transform,te=G.padding,Ae=G.project(o.LngLat.convert(f)),_e=G.project(o.LngLat.convert(y)),de=Ae.rotate(-E*Math.PI/180),Oe=_e.rotate(-E*Math.PI/180),Te=new o.Point(Math.max(de.x,Oe.x),Math.max(de.y,Oe.y)),ze=new o.Point(Math.min(de.x,Oe.x),Math.min(de.y,Oe.y)),Pe=Te.sub(ze),Be=(G.width-(te.left+te.right+L.padding.left+L.padding.right))/Pe.x,Ke=(G.height-(te.top+te.bottom+L.padding.top+L.padding.bottom))/Pe.y;if(!(Ke<0||Be<0)){var et=Math.min(G.scaleZoom(G.scale*Math.min(Be,Ke)),L.maxZoom),dt=typeof L.offset.x=="number"?new o.Point(L.offset.x,L.offset.y):o.Point.convert(L.offset),ht=new o.Point((L.padding.left-L.padding.right)/2,(L.padding.top-L.padding.bottom)/2).rotate(E*Math.PI/180),yt=dt.add(ht).mult(G.scale/G.zoomScale(et));return{center:G.unproject(Ae.add(_e).div(2).sub(yt)),zoom:et,bearing:E}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(f,y,E){return this._fitInternal(this.cameraForBounds(f,y),y,E)},p.prototype.fitScreenCoordinates=function(f,y,E,L,F){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(f)),this.transform.pointLocation(o.Point.convert(y)),E,L),L,F)},p.prototype._fitInternal=function(f,y,E){return f?(delete(y=o.extend(f,y)).padding,y.linear?this.easeTo(y,E):this.flyTo(y,E)):this},p.prototype.jumpTo=function(f,y){this.stop();var E=this.transform,L=!1,F=!1,$=!1;return"zoom"in f&&E.zoom!==+f.zoom&&(L=!0,E.zoom=+f.zoom),f.center!==void 0&&(E.center=o.LngLat.convert(f.center)),"bearing"in f&&E.bearing!==+f.bearing&&(F=!0,E.bearing=+f.bearing),"pitch"in f&&E.pitch!==+f.pitch&&($=!0,E.pitch=+f.pitch),f.padding==null||E.isPaddingEqual(f.padding)||(E.padding=f.padding),this.fire(new o.Event("movestart",y)).fire(new o.Event("move",y)),L&&this.fire(new o.Event("zoomstart",y)).fire(new o.Event("zoom",y)).fire(new o.Event("zoomend",y)),F&&this.fire(new o.Event("rotatestart",y)).fire(new o.Event("rotate",y)).fire(new o.Event("rotateend",y)),$&&this.fire(new o.Event("pitchstart",y)).fire(new o.Event("pitch",y)).fire(new o.Event("pitchend",y)),this.fire(new o.Event("moveend",y))},p.prototype.easeTo=function(f,y){var E=this;this._stop(!1,f.easeId),((f=o.extend({offset:[0,0],duration:500,easing:o.ease},f)).animate===!1||!f.essential&&o.browser.prefersReducedMotion)&&(f.duration=0);var L=this.transform,F=this.getZoom(),$=this.getBearing(),G=this.getPitch(),te=this.getPadding(),Ae="zoom"in f?+f.zoom:F,_e="bearing"in f?this._normalizeBearing(f.bearing,$):$,de="pitch"in f?+f.pitch:G,Oe="padding"in f?f.padding:L.padding,Te=o.Point.convert(f.offset),ze=L.centerPoint.add(Te),Pe=L.pointLocation(ze),Be=o.LngLat.convert(f.center||Pe);this._normalizeCenter(Be);var Ke,et,dt=L.project(Pe),ht=L.project(Be).sub(dt),yt=L.zoomScale(Ae-F);f.around&&(Ke=o.LngLat.convert(f.around),et=L.locationPoint(Ke));var Pt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ae!==F,this._rotating=this._rotating||$!==_e,this._pitching=this._pitching||de!==G,this._padding=!L.isPaddingEqual(Oe),this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,Pt),this._ease(function(zt){if(E._zooming&&(L.zoom=o.number(F,Ae,zt)),E._rotating&&(L.bearing=o.number($,_e,zt)),E._pitching&&(L.pitch=o.number(G,de,zt)),E._padding&&(L.interpolatePadding(te,Oe,zt),ze=L.centerPoint.add(Te)),Ke)L.setLocationAtPoint(Ke,et);else{var Ft=L.zoomScale(L.zoom-F),tn=Ae>F?Math.min(2,yt):Math.max(.5,yt),mn=Math.pow(tn,1-zt),Tn=L.unproject(dt.add(ht.mult(zt*mn)).mult(Ft));L.setLocationAtPoint(L.renderWorldCopies?Tn.wrap():Tn,ze)}E._fireMoveEvents(y)},function(zt){E._afterEase(y,zt)},f),this},p.prototype._prepareEase=function(f,y,E){E===void 0&&(E={}),this._moving=!0,y||E.moving||this.fire(new o.Event("movestart",f)),this._zooming&&!E.zooming&&this.fire(new o.Event("zoomstart",f)),this._rotating&&!E.rotating&&this.fire(new o.Event("rotatestart",f)),this._pitching&&!E.pitching&&this.fire(new o.Event("pitchstart",f))},p.prototype._fireMoveEvents=function(f){this.fire(new o.Event("move",f)),this._zooming&&this.fire(new o.Event("zoom",f)),this._rotating&&this.fire(new o.Event("rotate",f)),this._pitching&&this.fire(new o.Event("pitch",f))},p.prototype._afterEase=function(f,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var E=this._zooming,L=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new o.Event("zoomend",f)),L&&this.fire(new o.Event("rotateend",f)),F&&this.fire(new o.Event("pitchend",f)),this.fire(new o.Event("moveend",f))}},p.prototype.flyTo=function(f,y){var E=this;if(!f.essential&&o.browser.prefersReducedMotion){var L=o.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(L,y)}this.stop(),f=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},f);var F=this.transform,$=this.getZoom(),G=this.getBearing(),te=this.getPitch(),Ae=this.getPadding(),_e="zoom"in f?o.clamp(+f.zoom,F.minZoom,F.maxZoom):$,de="bearing"in f?this._normalizeBearing(f.bearing,G):G,Oe="pitch"in f?+f.pitch:te,Te="padding"in f?f.padding:F.padding,ze=F.zoomScale(_e-$),Pe=o.Point.convert(f.offset),Be=F.centerPoint.add(Pe),Ke=F.pointLocation(Be),et=o.LngLat.convert(f.center||Ke);this._normalizeCenter(et);var dt=F.project(Ke),ht=F.project(et).sub(dt),yt=f.curve,Pt=Math.max(F.width,F.height),zt=Pt/ze,Ft=ht.mag();if("minZoom"in f){var tn=o.clamp(Math.min(f.minZoom,$,_e),F.minZoom,F.maxZoom),mn=Pt/F.zoomScale(tn-$);yt=Math.sqrt(mn/Ft*2)}var Tn=yt*yt;function kn(Dn){var An=(zt*zt-Pt*Pt+(Dn?-1:1)*Tn*Tn*Ft*Ft)/(2*(Dn?zt:Pt)*Tn*Ft);return Math.log(Math.sqrt(An*An+1)-An)}function _r(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function pn(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}var Rn=kn(0),tr=function(Dn){return pn(Rn)/pn(Rn+yt*Dn)},Vn=function(Dn){return Pt*((pn(Rn)*(_r(An=Rn+yt*Dn)/pn(An))-_r(Rn))/Tn)/Ft;var An},zn=(kn(1)-Rn)/yt;if(Math.abs(Ft)<1e-6||!isFinite(zn)){if(Math.abs(Pt-zt)<1e-6)return this.easeTo(f,y);var Un=zt<Pt?-1:1;zn=Math.abs(Math.log(zt/Pt))/yt,Vn=function(){return 0},tr=function(Dn){return Math.exp(Un*yt*Dn)}}return f.duration="duration"in f?+f.duration:1e3*zn/("screenSpeed"in f?+f.screenSpeed/yt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=G!==de,this._pitching=Oe!==te,this._padding=!F.isPaddingEqual(Te),this._prepareEase(y,!1),this._ease(function(Dn){var An=Dn*zn,Gr=1/tr(An);F.zoom=Dn===1?_e:$+F.scaleZoom(Gr),E._rotating&&(F.bearing=o.number(G,de,Dn)),E._pitching&&(F.pitch=o.number(te,Oe,Dn)),E._padding&&(F.interpolatePadding(Ae,Te,Dn),Be=F.centerPoint.add(Pe));var Vi=Dn===1?et:F.unproject(dt.add(ht.mult(Vn(An))).mult(Gr));F.setLocationAtPoint(F.renderWorldCopies?Vi.wrap():Vi,Be),E._fireMoveEvents(y)},function(){return E._afterEase(y)},f),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(f,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,y)}if(!f){var L=this.handlers;L&&L.stop(!1)}return this},p.prototype._ease=function(f,y,E){E.animate===!1||E.duration===0?(f(1),y()):(this._easeStart=o.browser.now(),this._easeOptions=E,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var f=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(f,y){f=o.wrap(f,-180,180);var E=Math.abs(f-y);return Math.abs(f-360-y)<E&&(f-=360),Math.abs(f+360-y)<E&&(f+=360),f},p.prototype._normalizeCenter=function(f){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var E=f.lng-y.center.lng;f.lng+=E>180?-360:E<-180?360:0}},p}(o.Evented),Yt=function(c){c===void 0&&(c={}),this.options=c,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Yt.prototype.getDefaultPosition=function(){return"bottom-right"},Yt.prototype.onAdd=function(c){var p=this.options&&this.options.compact;return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.type="button",this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("maplibregl-compact","mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Yt.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Yt.prototype._setElementTitle=function(c,p){var f=this._map._getUIString("AttributionControl."+p);c.title=f,c.setAttribute("aria-label",f)},Yt.prototype._toggleAttribution=function(){this._container.classList.contains("maplibregl-compact-show")||this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Yt.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(c){var f=p.reduce(function(y,E,L){return E.value&&(y+=E.key+"="+E.value+(L<p.length-1?"&":"")),y},"?");c.href=o.config.FEEDBACK_URL+"/"+f+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Yt.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Yt.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function($){return typeof $!="string"?"":$})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var f=this._map.style.sourceCaches;for(var y in f){var E=f[y];if(E.used){var L=E.getSource();L.attribution&&c.indexOf(L.attribution)<0&&c.push(L.attribution)}}c.sort(function($,G){return $.length-G.length});var F=(c=c.filter(function($,G){for(var te=G+1;te<c.length;te++)if(c[te].indexOf($)>=0)return!1;return!0})).join(" | ");F!==this._attribHTML&&(this._attribHTML=F,c.length?(this._innerContainer.innerHTML=F,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._editLink=null)}},Yt.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("maplibregl-compact","mapboxgl-compact"):this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show")};var To=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};To.prototype.onAdd=function(c){this._map=c,this._container=S.create("div","maplibregl-ctrl mapboxgl-ctrl");var p=S.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},To.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},To.prototype.getDefaultPosition=function(){return"bottom-left"},To.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},To.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var p in c)if(c[p].getSource().mapbox_logo)return!0;return!1}},To.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(c){var p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p},Ga.prototype.remove=function(c){for(var p=this._currentlyRunning,f=0,y=p?this._queue.concat(p):this._queue;f<y.length;f+=1){var E=y[f];if(E.id===c)return void(E.cancelled=!0)}},Ga.prototype.run=function(c){c===void 0&&(c=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var f=0,y=p;f<y.length;f+=1){var E=y[f];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var zo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ji=o.window.HTMLImageElement,Hp=o.window.HTMLElement,ta=o.window.ImageBitmap,h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m=function(c){function p(y){var E=this;if((y=o.extend({},h,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var L=new Ln(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(c.call(this,L,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},zo,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new o.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=o.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof Hp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Wt(this,y),this._hash=y.hash&&new Ul(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,o.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Yt({customAttribution:y.customAttribution})),this.addControl(new To,y.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(F){E._update(F.dataType==="style"),E.fire(new o.Event(F.dataType+"data",F))}),this.on("dataloading",function(F){E.fire(new o.Event(F.dataType+"dataloading",F))})}c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p;var f={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,E){if(E===void 0&&(E=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var L=y.onAdd(this);this._controls.push(y);var F=this._controlPositions[E];return E.indexOf("bottom")!==-1?F.insertBefore(L,F.firstChild):F.appendChild(L),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(y);return E>-1&&this._controls.splice(E,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var E=this._containerDimensions(),L=E[0],F=E[1];this._resizeCanvas(L,F),this.transform.resize(L,F),this.painter.resize(L,F);var $=!this._moving;return $&&(this.stop(),this.fire(new o.Event("movestart",y)).fire(new o.Event("move",y))),this.fire(new o.Event("resize",y)),$&&this.fire(new o.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(o.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(o.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(o.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,E,L){var F,$=this;if(y==="mouseenter"||y==="mouseover"){var G=!1;return{layer:E,listener:L,delegates:{mousemove:function(Ae){var _e=$.getLayer(E)?$.queryRenderedFeatures(Ae.point,{layers:[E]}):[];_e.length?G||(G=!0,L.call($,new Po(y,$,Ae.originalEvent,{features:_e}))):G=!1},mouseout:function(){G=!1}}}}if(y==="mouseleave"||y==="mouseout"){var te=!1;return{layer:E,listener:L,delegates:{mousemove:function(Ae){($.getLayer(E)?$.queryRenderedFeatures(Ae.point,{layers:[E]}):[]).length?te=!0:te&&(te=!1,L.call($,new Po(y,$,Ae.originalEvent)))},mouseout:function(Ae){te&&(te=!1,L.call($,new Po(y,$,Ae.originalEvent)))}}}}return{layer:E,listener:L,delegates:(F={},F[y]=function(Ae){var _e=$.getLayer(E)?$.queryRenderedFeatures(Ae.point,{layers:[E]}):[];_e.length&&(Ae.features=_e,L.call($,Ae),delete Ae.features)},F)}},p.prototype.on=function(y,E,L){if(L===void 0)return c.prototype.on.call(this,y,E);var F=this._createDelegatedListener(y,E,L);for(var $ in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(F),F.delegates)this.on($,F.delegates[$]);return this},p.prototype.once=function(y,E,L){if(L===void 0)return c.prototype.once.call(this,y,E);var F=this._createDelegatedListener(y,E,L);for(var $ in F.delegates)this.once($,F.delegates[$]);return this},p.prototype.off=function(y,E,L){var F=this;return L===void 0?c.prototype.off.call(this,y,E):(this._delegatedListeners&&this._delegatedListeners[y]&&function($){for(var G=$[y],te=0;te<G.length;te++){var Ae=G[te];if(Ae.layer===E&&Ae.listener===L){for(var _e in Ae.delegates)F.off(_e,Ae.delegates[_e]);return G.splice(te,1),F}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,E){if(!this.style)return[];var L;if(E!==void 0||y===void 0||y instanceof o.Point||Array.isArray(y)||(E=y,y=void 0),E=E||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||typeof y[0]=="number")L=[o.Point.convert(y)];else{var F=o.Point.convert(y[0]),$=o.Point.convert(y[1]);L=[F,new o.Point($.x,F.y),$,new o.Point(F.x,$.y),F]}return this.style.queryRenderedFeatures(L,E,this.transform)},p.prototype.querySourceFeatures=function(y,E){return this.style.querySourceFeatures(y,E)},p.prototype.setStyle=function(y,E){return(E=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(y,E))},p.prototype.setTransformRequest=function(y){return this._requestManager.setTransformRequest(y),this},p.prototype._getUIString=function(y){var E=this._locale[y];if(E==null)throw new Error("Missing UI string '"+y+"'");return E},p.prototype._updateStyle=function(y,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new Qn(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Qn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,E){var L=this;if(typeof y=="string"){var F=this._requestManager.normalizeStyleURL(y),$=this._requestManager.transformRequest(F,o.ResourceType.Style);o.getJSON($,function(G,te){G?L.fire(new o.ErrorEvent(G)):te&&L._updateDiff(te,E)})}else typeof y=="object"&&this._updateDiff(y,E)},p.prototype._updateDiff=function(y,E){try{this.style.setState(y)&&this._update(!0)}catch(L){o.warnOnce("Unable to perform style diff: "+(L.message||L.error||L)+".  Rebuilding the style from scratch."),this._updateStyle(y,E)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,E){return this._lazyInitEmptyStyle(),this.style.addSource(y,E),this._update(!0)},p.prototype.isSourceLoaded=function(y){var E=this.style&&this.style.sourceCaches[y];if(E!==void 0)return E.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var E in y){var L=y[E]._tiles;for(var F in L){var $=L[F];if($.state!=="loaded"&&$.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,E,L){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,E,L)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,E,L){L===void 0&&(L={});var F=L.pixelRatio;F===void 0&&(F=1);var $=L.sdf;$===void 0&&($=!1);var G=L.stretchX,te=L.stretchY,Ae=L.content;if(this._lazyInitEmptyStyle(),E instanceof ji||ta&&E instanceof ta){var _e=o.browser.getImageData(E);this.style.addImage(y,{data:new o.RGBAImage({width:_e.width,height:_e.height},_e.data),pixelRatio:F,stretchX:G,stretchY:te,content:Ae,sdf:$,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var de=E;this.style.addImage(y,{data:new o.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:F,stretchX:G,stretchY:te,content:Ae,sdf:$,version:0,userImage:de}),de.onAdd&&de.onAdd(this,y)}},p.prototype.updateImage=function(y,E){var L=this.style.getImage(y);if(!L)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var F=E instanceof ji||ta&&E instanceof ta?o.browser.getImageData(E):E,$=F.width,G=F.height,te=F.data;return $===void 0||G===void 0?this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):$!==L.data.width||G!==L.data.height?this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(L.data.replace(te,!(E instanceof ji||ta&&E instanceof ta)),void this.style.updateImage(y,L))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,E){o.getImage(this._requestManager.transformRequest(y,o.ResourceType.Image),E)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,E){return this._lazyInitEmptyStyle(),this.style.addLayer(y,E),this._update(!0)},p.prototype.moveLayer=function(y,E){return this.style.moveLayer(y,E),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,E,L){return this.style.setLayerZoomRange(y,E,L),this._update(!0)},p.prototype.setFilter=function(y,E,L){return L===void 0&&(L={}),this.style.setFilter(y,E,L),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,E,L,F){return F===void 0&&(F={}),this.style.setPaintProperty(y,E,L,F),this._update(!0)},p.prototype.getPaintProperty=function(y,E){return this.style.getPaintProperty(y,E)},p.prototype.setLayoutProperty=function(y,E,L,F){return F===void 0&&(F={}),this.style.setLayoutProperty(y,E,L,F),this._update(!0)},p.prototype.getLayoutProperty=function(y,E){return this.style.getLayoutProperty(y,E)},p.prototype.setLight=function(y,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(y,E),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,E){return this.style.setFeatureState(y,E),this._update()},p.prototype.removeFeatureState=function(y,E){return this.style.removeFeatureState(y,E),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,E=0;return this._container&&(y=this._container.clientWidth||400,E=this._container.clientHeight||300),[y,E]},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("maplibregl-map","mapboxgl-map");var E=this._canvasContainer=S.create("div","maplibregl-canvas-container mapboxgl-canvas-container",y);this._interactive&&E.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var L=this._containerDimensions();this._resizeCanvas(L[0],L[1]);var F=this._controlContainer=S.create("div","maplibregl-control-container mapboxgl-control-container",y),$=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(G){$[G]=S.create("div","maplibregl-ctrl-"+G+" mapboxgl-ctrl-"+G,F)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,E){var L=o.browser.devicePixelRatio||1;this._canvas.width=L*y,this._canvas.height=L*E,this._canvas.style.width=y+"px",this._canvas.style.height=E+"px"},p.prototype._setupPainter=function(){var y=o.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);E?(this.painter=new qt(E,this.transform),o.webpSupported.testSupport(E)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var E,L=this,F=0,$=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=$.createQueryEXT(),$.beginQueryEXT($.TIME_ELAPSED_EXT,E),F=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var G=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var te=this.transform.zoom,Ae=o.browser.now();this.style.zoomHistory.update(te,Ae);var _e=new o.EvaluationParameters(te,{now:Ae,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),de=_e.crossFadingFactor();de===1&&de===this._crossFadingFactor||(G=!0,this._crossFadingFactor=de),this.style.update(_e)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||G)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Oe=o.browser.now()-F;$.endQueryEXT($.TIME_ELAPSED_EXT,E),setTimeout(function(){var Pe=$.getQueryObjectEXT(E,$.QUERY_RESULT_EXT)/1e6;$.deleteQueryEXT(E),L.fire(new o.Event("gpu-timing-frame",{cpuTime:Oe,gpuTime:Pe}))},50)}if(this.listens("gpu-timing-layer")){var Te=this.painter.collectGpuTimers();setTimeout(function(){var Pe=L.painter.queryGpuTimers(Te);L.fire(new o.Event("gpu-timing-layer",{layerTimes:Pe}))},50)}var ze=this._sourcesDirty||this._styleDirty||this._placementDirty;return ze||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),!this._loaded||this._fullyLoaded||ze||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,E=this._controls;y<E.length;y+=1)E[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var L=this.painter.context.gl.getExtension("WEBGL_lose_context");L&&L.loseContext(),v(this._canvasContainer),v(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(E){y._frame=null,y._render(E)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},f.showPadding.get=function(){return!!this._showPadding},f.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,E){o.setCacheLimits(y,E)},f.version.get=function(){return o.version},Object.defineProperties(p.prototype,f),p}(mt);function v(c){c.parentNode&&c.parentNode.removeChild(c)}var _={showCompass:!0,showZoom:!0,visualizePitch:!1},k=function(c){var p=this;this.options=o.extend({},_,c),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(f){return f.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(f){return p._map.zoomIn({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(f){return p._map.zoomOut({},{originalEvent:f})}),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(f){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:f}):p._map.resetNorth({},{originalEvent:f})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};k.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),p=c===this._map.getMaxZoom(),f=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},k.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},k.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new O(this._map,this._compass,this.options.visualizePitch)),this._container},k.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},k.prototype._createButton=function(c,p){var f=S.create("button",c,this._container);return f.type="button",f.addEventListener("click",p),f},k.prototype._setButtonTitle=function(c,p){var f=this._map._getUIString("NavigationControl."+p);c.title=f,c.setAttribute("aria-label",f)};var O=function(c,p,f){f===void 0&&(f=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new sc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,f&&(this.mousePitch=new Zs({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(p,"mousedown",this.mousedown),S.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(p,"touchmove",this.touchmove),S.addEventListener(p,"touchend",this.touchend),S.addEventListener(p,"touchcancel",this.reset)};function I(c,p,f){if(c=new o.LngLat(c.lng,c.lat),p){var y=new o.LngLat(c.lng-360,c.lat),E=new o.LngLat(c.lng+360,c.lat),L=f.locationPoint(c).distSqr(p);f.locationPoint(y).distSqr(p)<L?c=y:f.locationPoint(E).distSqr(p)<L&&(c=E)}for(;Math.abs(c.lng-f.center.lng)>180;){var F=f.locationPoint(c);if(F.x>=0&&F.y>=0&&F.x<=f.width&&F.y<=f.height)break;c.lng>f.center.lng?c.lng-=360:c.lng+=360}return c}O.prototype.down=function(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),S.disableDrag()},O.prototype.move=function(c,p){var f=this.map,y=this.mouseRotate.mousemoveWindow(c,p);if(y&&y.bearingDelta&&f.setBearing(f.getBearing()+y.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,p);E&&E.pitchDelta&&f.setPitch(f.getPitch()+E.pitchDelta)}},O.prototype.off=function(){var c=this.element;S.removeEventListener(c,"mousedown",this.mousedown),S.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(c,"touchmove",this.touchmove),S.removeEventListener(c,"touchend",this.touchend),S.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},O.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(o.window,"mousemove",this.mousemove),S.removeEventListener(o.window,"mouseup",this.mouseup)},O.prototype.mousedown=function(c){this.down(o.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),S.mousePos(this.element,c)),S.addEventListener(o.window,"mousemove",this.mousemove),S.addEventListener(o.window,"mouseup",this.mouseup)},O.prototype.mousemove=function(c){this.move(c,S.mousePos(this.element,c))},O.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},O.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},O.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},O.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},O.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var N={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Q(c,p,f){var y=c.classList;for(var E in N)y.remove("maplibregl-"+f+"-anchor-"+E,"mapboxgl-"+f+"-anchor-"+E);y.add("maplibregl-"+f+"-anchor-"+p,"mapboxgl-"+f+"-anchor-"+p)}var ie,ce=function(c){function p(f,y){if(c.call(this),(f instanceof o.window.HTMLElement||y)&&(f=o.extend({element:f},y)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=o.Point.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var E=S.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var L=S.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");var F=S.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill-rule","nonzero");var $=S.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"transform","translate(3.0, 29.0)"),$.setAttributeNS(null,"fill","#000000");for(var G=0,te=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];G<te.length;G+=1){var Ae=te[G],_e=S.createNS("http://www.w3.org/2000/svg","ellipse");_e.setAttributeNS(null,"opacity","0.04"),_e.setAttributeNS(null,"cx","10.5"),_e.setAttributeNS(null,"cy","5.80029008"),_e.setAttributeNS(null,"rx",Ae.rx),_e.setAttributeNS(null,"ry",Ae.ry),$.appendChild(_e)}var de=S.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"fill",this._color);var Oe=S.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),de.appendChild(Oe);var Te=S.createNS("http://www.w3.org/2000/svg","g");Te.setAttributeNS(null,"opacity","0.25"),Te.setAttributeNS(null,"fill","#000000");var ze=S.createNS("http://www.w3.org/2000/svg","path");ze.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Te.appendChild(ze);var Pe=S.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Pe.setAttributeNS(null,"fill","#FFFFFF");var Be=S.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Ke=S.createNS("http://www.w3.org/2000/svg","circle");Ke.setAttributeNS(null,"fill","#000000"),Ke.setAttributeNS(null,"opacity","0.25"),Ke.setAttributeNS(null,"cx","5.5"),Ke.setAttributeNS(null,"cy","5.5"),Ke.setAttributeNS(null,"r","5.4999962");var et=S.createNS("http://www.w3.org/2000/svg","circle");et.setAttributeNS(null,"fill","#FFFFFF"),et.setAttributeNS(null,"cx","5.5"),et.setAttributeNS(null,"cy","5.5"),et.setAttributeNS(null,"r","5.4999962"),Be.appendChild(Ke),Be.appendChild(et),F.appendChild($),F.appendChild(de),F.appendChild(Te),F.appendChild(Pe),F.appendChild(Be),E.appendChild(F),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=o.Point.convert(f&&f.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",function(dt){dt.preventDefault()}),this._element.addEventListener("mousedown",function(dt){dt.preventDefault()}),Q(this._element,this._anchor,"marker"),this._popup=null}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=o.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(f){var y=f.code,E=f.charCode||f.keyCode;y!=="Space"&&y!=="Enter"&&E!==32&&E!==13||this.togglePopup()},p.prototype._onMapClick=function(f){var y=f.originalEvent.target,E=this._element;this._popup&&(y===E||E.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this},p.prototype._update=function(f){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),f&&f.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,N[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(f){return this._offset=o.Point.convert(f),this._update(),this},p.prototype._onMove=function(f){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(f){return this._rotation=f||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(f){return this._rotationAlignment=f||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(o.Evented),Fe={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ze=0,at=!1,wt=function(c){function p(f){c.call(this),this.options=o.extend({},Fe,f),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.onAdd=function(f){var y;return this._map=f,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,ie!==void 0?y(ie):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(E){y(ie=E.state!=="denied")}):y(ie=!!o.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ze=0,at=!1},p.prototype._isOutOfMapMaxBounds=function(f){var y=this._map.getMaxBounds(),E=f.coords;return y&&(E.longitude<y.getWest()||E.longitude>y.getEast()||E.latitude<y.getSouth()||E.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",f)),this._finish()}},p.prototype._updateCamera=function(f){var y=new o.LngLat(f.coords.longitude,f.coords.latitude),E=f.coords.accuracy,L=this._map.getBearing(),F=o.extend({bearing:L},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(E),F,{geolocateSource:!0})},p.prototype._updateMarker=function(f){if(f){var y=new o.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var f=this._map._container.clientHeight/2,y=this._map.unproject([0,f]),E=this._map.unproject([1,f]),L=y.distanceTo(E),F=Math.ceil(2*this._accuracy/L);this._circleElement.style.width=F+"px",this._circleElement.style.height=F+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&at)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",f)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(f){var y=this;if(this._container.addEventListener("contextmenu",function(F){return F.preventDefault()}),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",f===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var L=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ce(this._dotElement),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ce({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(F){F.geolocateSource||y._watchState!=="ACTIVE_LOCK"||F.originalEvent&&F.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),y.fire(new o.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ze--,at=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var f;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ze>1?(f={maximumAge:6e5,timeout:0},at=!0):(f=this.options.positionOptions,at=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,f)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(o.Evented),Et={maxWidth:100,unit:"metric"},Nt=function(c){this.options=o.extend({},Et,c),o.bindAll(["_onMove","setUnit"],this)};function cn(c,p,f){var y=f&&f.maxWidth||100,E=c._container.clientHeight/2,L=c.unproject([0,E]),F=c.unproject([y,E]),$=L.distanceTo(F);if(f&&f.unit==="imperial"){var G=3.2808*$;G>5280?gt(p,y,G/5280,c._getUIString("ScaleControl.Miles")):gt(p,y,G,c._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?gt(p,y,$/1852,c._getUIString("ScaleControl.NauticalMiles")):$>=1e3?gt(p,y,$/1e3,c._getUIString("ScaleControl.Kilometers")):gt(p,y,$,c._getUIString("ScaleControl.Meters"))}function gt(c,p,f,y){var E,L,F,$=(E=f,(L=Math.pow(10,(""+Math.floor(E)).length-1))*(F=(F=E/L)>=10?10:F>=5?5:F>=3?3:F>=2?2:F>=1?1:function(G){var te=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*te)/te}(F)));c.style.width=p*($/f)+"px",c.innerHTML=$+"&nbsp;"+y}Nt.prototype.getDefaultPosition=function(){return"bottom-left"},Nt.prototype._onMove=function(){cn(this._map,this._container,this.options)},Nt.prototype.onAdd=function(c){return this._map=c,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Nt.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Nt.prototype.setUnit=function(c){this.options.unit=c,cn(this._map,this._container,this.options)};var Rt=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof o.window.HTMLElement?this._container=c.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Rt.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Rt.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Rt.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Rt.prototype._setupUI=function(){var c=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Rt.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Rt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Rt.prototype._isFullscreen=function(){return this._fullscreen},Rt.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Rt.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Xe={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_n=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),xn=function(c){function p(f){c.call(this),this.options=o.extend(Object.create(Xe),f),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(p.__proto__=c),(p.prototype=Object.create(c&&c.prototype)).constructor=p,p.prototype.addTo=function(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(f){return this._lngLat=o.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(f){return this.setDOMContent(o.window.document.createTextNode(f))},p.prototype.setHTML=function(f){var y,E=o.window.document.createDocumentFragment(),L=o.window.document.createElement("body");for(L.innerHTML=f;y=L.firstChild;)E.appendChild(y);return this.setDOMContent(E)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(f){return this.options.maxWidth=f,this._update(),this},p.prototype.setDOMContent=function(f){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(f),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(f){this._container&&this._container.classList.add(f)},p.prototype.removeClassName=function(f){this._container&&this._container.classList.remove(f)},p.prototype.setOffset=function(f){return this.options.offset=f,this._update(),this},p.prototype.toggleClassName=function(f){if(this._container)return this._container.classList.toggle(f)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(f){this._update(f.point)},p.prototype._onMouseMove=function(f){this._update(f.point)},p.prototype._onDrag=function(f){this._update(f.point)},p.prototype._update=function(f){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=S.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_e){return y._container.classList.add(_e)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=I(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||f)){var E=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat),L=this.options.anchor,F=function _e(de){if(de){if(typeof de=="number"){var Oe=Math.round(Math.sqrt(.5*Math.pow(de,2)));return{center:new o.Point(0,0),top:new o.Point(0,de),"top-left":new o.Point(Oe,Oe),"top-right":new o.Point(-Oe,Oe),bottom:new o.Point(0,-de),"bottom-left":new o.Point(Oe,-Oe),"bottom-right":new o.Point(-Oe,-Oe),left:new o.Point(de,0),right:new o.Point(-de,0)}}if(de instanceof o.Point||Array.isArray(de)){var Te=o.Point.convert(de);return{center:Te,top:Te,"top-left":Te,"top-right":Te,bottom:Te,"bottom-left":Te,"bottom-right":Te,left:Te,right:Te}}return{center:o.Point.convert(de.center||[0,0]),top:o.Point.convert(de.top||[0,0]),"top-left":o.Point.convert(de["top-left"]||[0,0]),"top-right":o.Point.convert(de["top-right"]||[0,0]),bottom:o.Point.convert(de.bottom||[0,0]),"bottom-left":o.Point.convert(de["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(de["bottom-right"]||[0,0]),left:o.Point.convert(de.left||[0,0]),right:o.Point.convert(de.right||[0,0])}}return _e(new o.Point(0,0))}(this.options.offset);if(!L){var $,G=this._container.offsetWidth,te=this._container.offsetHeight;$=E.y+F.bottom.y<te?["top"]:E.y>this._map.transform.height-te?["bottom"]:[],E.x<G/2?$.push("left"):E.x>this._map.transform.width-G/2&&$.push("right"),L=$.length===0?"bottom":$.join("-")}var Ae=E.add(F[L]).round();S.setTransform(this._container,N[L]+" translate("+Ae.x+"px,"+Ae.y+"px)"),Q(this._container,L,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var f=this._container.querySelector(_n);f&&f.focus()}},p.prototype._onClose=function(){this.remove()},p}(o.Evented),Kt={version:o.version,supported:x,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:m,NavigationControl:k,GeolocateControl:wt,AttributionControl:Yt,ScaleControl:Nt,FullscreenControl:Rt,Popup:xn,Marker:ce,Style:Qn,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function(){$t().acquire(We)},clearPrewarmedResources:function(){var c=ye;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(We),ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(c){o.config.ACCESS_TOKEN=c},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(c){o.config.API_URL=c},get workerCount(){return A.workerCount},set workerCount(c){A.workerCount=c},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){o.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){o.clearTileCache(c)},workerUrl:"",addProtocol:function(c,p){o.config.REGISTERED_PROTOCOLS[c]=p},removeProtocol:function(c){delete o.config.REGISTERED_PROTOCOLS[c]}};return Kt}),s})})(Mue);class Lue{constructor(){sr(this,"errorSetter",t=>{console.warn("Hook for renderer errors not installed. You must add it in logical layer by setErrorState method")});sr(this,"onError",t=>{t instanceof Error?this.errorSetter(t):typeof t=="string"?this.errorSetter(new Error(t)):this.errorSetter(new Error("unknown"))})}setErrorState(t){this.errorSetter=t}setupExtension(t){}willInit(t){}willMount(t){}willUnMount(t){}willHide(t){}willUnhide(t){}willLegendUpdate(t){}willSourceUpdate(t){}willDestroy(t){}}const Rue=(e,t)=>new Promise((n,i)=>{try{e.on(t,n)}catch(s){i(s)}});function mT(e){if(!e._loaded)return Rue(e,"load")}const Due={click:[],mousemove:[]};function U1(e,t,n=50){return gT.addMapListener.dispatch(e,t,n),()=>{gT.removeMapListener.dispatch(e,t)}}const gT=Mo({addMapListener:(e,t,n)=>({eventType:e,listener:t,priority:n}),removeMapListener:(e,t)=>({eventType:e,listener:t})},({onAction:e},t=Due)=>(e("addMapListener",({eventType:n,listener:i,priority:s})=>{const l=[...t[n]];if(!l.length)l.push({listener:i,priority:s});else for(let o=0;o<l.length;o++){const x=l[o];if(s<x.priority){l.splice(o,0,{listener:i,priority:s});break}else if(x.priority===s){l.splice(o+1,0,{listener:i,priority:s});break}else if(l[o+1]){if(s>x.priority&&s<l[o+1].priority){l.splice(o+1,0,{listener:i,priority:s});break}}else{l.push({listener:i,priority:s});break}}t={...t,[n]:l}}),e("removeMapListener",({eventType:n,listener:i})=>t[n]=t[n].filter(s=>s.listener!==i)),t),"[Shared state] mapListenersAtom"),Fue="_tootipRoot_i3o78_1",Bue="_hexagon_i3o78_5",zue="_labels_i3o78_28",Nue="_column_i3o78_34",Uue="_bivariateHexagonPopupContentRoot_i3o78_45",LA={tootipRoot:Fue,hexagon:Bue,labels:zue,column:Nue,bivariateHexagonPopupContentRoot:Uue},yT=LA.bivariateHexagonPopupContentRoot,$ue=e=>g4(e)?A2:Uoe(e)?d2:jR,jue=e=>y4(e)?A2:$oe(e)?d2:jR,Vue=({hexagonColor:e,axis:t,cellIndex:n,cellLabel:i,values:s})=>wr("div",{className:LA.tootipRoot,children:[_t("div",{className:LA.hexagon,children:_t("div",{style:{background:e},children:i})}),wr("div",{className:LA.labels,children:[wr("div",{className:LA.column,children:[_t("span",{children:t.x.label||CP(t.x.quotients)}),_t("span",{children:t.y.label||CP(t.y.quotients)})]}),s&&wr("div",{className:LA.column,children:[_t("span",{children:s.x}),_t("span",{children:s.y})]}),wr("div",{className:LA.column,children:[_t("span",{children:$ue(n)}),_t("span",{children:jue(n)})]})]})]});Mo({set:e=>e,reset:()=>null},({onAction:e},t=null)=>(e("set",n=>t={id:n}),e("reset",()=>t=null),t),"[Shared state] currentEpisodeAtom");const Hue=Mo({setCurrentEventId:e=>e,focusedGeometryAtom:wD},({onAction:e,onChange:t},n=null)=>(t("focusedGeometryAtom",i=>{const s=i==null?void 0:i.source;s&&s.type!=="event"&&s.type!=="episode"&&(n={id:null})}),e("setCurrentEventId",i=>n={id:i}),n),"[Shared state] currentEventAtom"),que=PR(!1,"scheduledAutoSelect");PR(!1,"scheduledAutoFocus");const Gue=ZR(null,async(e,t)=>yD.get("/events/user_feeds",void 0,!0,{signal:t.signal}),"eventFeedsResource"),vT=[Wue(sa.defaultFeed)],Que=Mo({eventFeedsResourceAtom:Gue},({get:e},t=vT)=>{const{data:n,error:i,loading:s}=e("eventFeedsResourceAtom");return!s&&!i?n?(console.assert(n.map(l=>l.feed).includes(sa.defaultFeed),"default feed not included in response"),n):[...vT]:t},"[Shared state] eventFeeds");function Wue(e){return(!e||e!=="kontur-public")&&console.warn("WARNING! Default feed provided via config is incorrect or absent"),{feed:"kontur-public",name:Nr.t("configs.Kontur_public_feed"),description:Nr.t("configs.Kontur_public_feed_description"),default:!0}}Mo({setCurrentFeed:e=>e,setFeedForExistingEvent:e=>e,resetCurrentFeed:()=>null,eventFeedsAtom:Que},({onAction:e,onChange:t,schedule:n,getUnlistedState:i},s={id:sa.defaultFeed})=>(e("setCurrentFeed",l=>{(s==null?void 0:s.id)!==l&&(s={id:l})}),e("resetCurrentFeed",()=>{s&&(s=null)}),t("eventFeedsAtom",l=>{if(l&&l.length){const o=Kue(l,s==null?void 0:s.id);o!==void 0&&o!==(s==null?void 0:s.id)&&(s={id:o},i(Hue)!==null&&n(S=>S(que.setTrue())))}}),s),"[Shared state] currentEventFeedAtom");function Kue(e,t){if(!t)return sa.defaultFeed;const n=e==null?void 0:e.find(i=>i.feed===t);return n?n.feed:sa.defaultFeed}Mo({setCurrentMapPosition:e=>e},({onAction:e,schedule:t},n=null)=>(e("setCurrentMapPosition",({lat:i,lng:s,zoom:l})=>{n===null&&(n={lat:i,lng:s,zoom:l}),(n.lat!==i||n.lng!==s||n.zoom!==l)&&(n={lat:i,lng:s,zoom:l})}),n),"[Shared state] currentMapPositionAtom");Mo({addControl:e=>e,removeControl:e=>e,toggleActiveState:e=>e,enable:e=>e,disable:e=>e,reset:()=>null,currentUserAtom:O4},({onAction:e,onChange:t,schedule:n,create:i},s={})=>(t("currentUserAtom",(l,o)=>{o!==void 0&&n(x=>{x(i("reset"))})}),e("addControl",l=>{s={...s,[l.id]:l}}),e("removeControl",l=>{delete s[l],s={...s}}),e("enable",l=>{var M;const o=s[l];(M=o.onChange)==null||M.call(o,!0);const x={...s[l],active:!0},S={...s,[l]:x},P=[];Object.entries(S).forEach(([D,z])=>{if(z.id!==l&&z.exclusiveGroup===o.exclusiveGroup&&z.active){const U=i("disable",z.id);P.push(U)}}),P.length&&n(D=>{D(P)}),s=S}),e("disable",l=>{var S;const o=s[l];(S=o==null?void 0:o.onChange)==null||S.call(o,!1);const x={...s[l],active:!1};s={...s,[l]:x}}),e("toggleActiveState",l=>{if(!s[l])return console.error(`[toolbarControlsAtom] Cannot toggle state for ${l} because it doesn't exist`);const x=i(s[l].active?"disable":"enable",l);n(S=>S(x))}),e("reset",()=>{Object.entries(s).forEach(([l,o])=>{var x;o.active&&((x=o.onChange)==null||x.call(o,!1))}),s={}}),s),"[Shared state] toolbarControlsAtom");const Zue=sX,Xue=Mo({set:(e={...sa.effectiveFeatures})=>e},({onAction:e},t={})=>{if(e("set",n=>{n?t=n:t={...sa.effectiveFeatures}}),{}.VITE_FEATURES_CONFIG)try{const n=JSON.parse({}.VITE_FEATURES_CONFIG);n&&(t={...t,...n})}catch(n){console.error("Local features override error",n)}return t},"[Shared state] featureFlagsAtom"),Yue="rgba(90, 200, 127, 0.5)",Jue="rgba(228, 26, 28, 0.5)",ece=["bad","good"],tce=["good","bad"];class nce{constructor(){sr(this,"add",(t,n)=>["+",t,n]);sr(this,"sub",(t,n)=>["-",t,n]);sr(this,"mult",(t,n)=>["*",t,n]);sr(this,"div",(t,n)=>["/",t,n]);sr(this,"log",t=>["ln",t]);sr(this,"sqrt",t=>["sqrt",t])}}class rce{constructor(){sr(this,"add",(t,n)=>t+n);sr(this,"sub",(t,n)=>t-n);sr(this,"mult",(t,n)=>t*n);sr(this,"div",(t,n)=>t/n);sr(this,"log",t=>Math.log(t));sr(this,"sqrt",t=>Math.sqrt(t))}}const _T=(e,t)=>e.length===t.length&&e.every((n,i)=>n===t[i]);class TD{constructor(t){sr(this,"math");this.math=t}rate({num:t,den:n}){return this.math.div(t,n)}normalize({x:t,min:n,max:i}){return this.math.div(this.math.sub(t,n),this.math.sub(i,n))}transform({x:t,min:n,max:i,transformation:s}){switch(s){case"no":return{tX:t,tMin:n,tMax:i};case"square_root":return{tX:this.math.sqrt(t),tMin:this.math.sqrt(n),tMax:this.math.sqrt(i)};case"natural_logarithm":return{tX:this.math.log(this.math.add(t,1)),tMin:this.math.log(this.math.add(n,1)),tMax:this.math.log(this.math.add(i,1))}}}invert(t){return this.math.sub(1,t)}scale(t,n){return this.math.mult(t,n)}}const ice=new TD(new nce),oce=new TD(new rce),ID=(e,t)=>({axis:n,range:i,coefficient:s,sentiment:l,transformationFunction:o,normalization:x})=>{const[S,P]=n,[M,D]=i,z=_T(l,tce);z||console.assert(_T(l,ece),"Not inverted equals default");const U=t({num:S,den:P}),q=e.rate(U),{tX:K,tMin:ee,tMax:V}=e.transform({x:q,min:M,max:D,transformation:o}),X=x==="max-min"?e.normalize({x:K,min:ee,max:V}):K,ne=z?e.invert(X):X;return e.scale(ne,s)},xT=ID(ice,e=>({num:["get",e.num],den:["get",e.den]}));function ace(e){return VR(...e.map(({axis:t})=>v4(["/",NA(t[0]),NA(t[1])],0)))}function sce(e){return e.length===1?xT(e.at(0)):["/",["+",...e.map(xT)],S4(e,"coefficient")]}function lce({colorsConfig:e,mcdaResult:t,absoluteMin:n,absoluteMax:i}){const{good:s=Yue,bad:l=Jue}=e.parameters;return{"fill-color":["let","mcdaResult",["to-number",t,-9999],["case",["all",[">=",["var","mcdaResult"],n],["<=",["var","mcdaResult"],i]],["interpolate-hcl",["linear"],["var","mcdaResult"],0,l,1,s],"transparent"]],"fill-opacity":1,"fill-antialias":!1}}function uce({colorsConfig:e,mcdaResult:t,absoluteMax:n,absoluteMin:i}){return Object.entries(e.parameters).reduce((s,[l,o])=>(s[l]=Array.isArray(o)?["let","mcdaResult",["to-number",t,-9999],"absoluteMax",["to-number",n,-9999],"absoluteMin",["to-number",i,-9999],...o]:o,s),{})}function cce(e){switch(e.colorsConfig.type){case"sentiments":return lce(e);case"mapLibreExpression":return uce(e)}}function fce(e){const[t=0,n=1]=e.layers.reduce((l,o)=>{const x=o.normalization==="no"?o.range:[0,1];return l.length===0?x:(l[0]=Math.min(l[0],x[0]),l[1]=Math.min(l[1],x[1]),l)},[]),i=sce(e.layers);return{id:e.id,type:"fill",layout:{},filter:ace(e.layers),paint:cce({colorsConfig:e.colors,mcdaResult:i,absoluteMin:t,absoluteMax:n}),source:{type:"vector",tiles:[`${v2(sa.bivariateTilesRelativeUrl)}{z}/{x}/{y}.mvt?indicatorsClass=${sa.bivariateTilesIndicatorsClass}`],maxzoom:8,minzoom:0},"source-layer":"stats"}}const pce={mcda:e=>new Array(fce(e))},hce="_result_1vl4a_1",Ace="_tableBody_1vl4a_6",bT={result:hce,tableBody:Ace},dce=({layers:e,normalized:t,resultMCDA:n})=>wr("table",{children:[_t("thead",{children:wr("tr",{children:[_t("th",{children:"Layer"}),_t("th",{children:"Range"}),_t("th",{children:"Coefficient"}),_t("th",{children:"Value"}),_t("th",{children:"Normalized Value"})]})}),wr("tbody",{className:bT.tableBody,children:[e.map(({axis:i,range:s,coefficient:l})=>{const[o,x]=s,[S,P]=i;return wr("tr",{children:[wr("td",{children:[S," / ",P]}),wr("td",{children:[o," - ",x]}),_t("td",{children:l}),_t("td",{children:t[`${S}-${P}`].val.toFixed(2)}),_t("td",{children:t[`${S}-${P}`].norm.toFixed(2)})]},`${S}-${P}`)}),_t("tr",{children:_t("td",{colSpan:5,children:wr("b",{className:bT.result,children:["Result: ",n.toFixed(2)]})})})]})]});function mce(e,t){const n=ID(oce,({num:i,den:s})=>{var l,o;return{num:(l=e.properties)==null?void 0:l[i],den:(o=e.properties)==null?void 0:o[s]}});return t.reduce((i,s)=>{var S,P;const[l,o]=s.axis,x=((S=e.properties)==null?void 0:S[l])/((P=e.properties)==null?void 0:P[o]);return i[`${l}-${o}`]={val:x,norm:n(s)},i},{})}function gce(e,t){const n=S4(Object.values(t),"norm"),i=S4(e,"coefficient");return n/i}function yce(e,t){const n=mce(e,t),i=gce(t,n),s=document.createElement("div");return PC(s).render(dce({layers:t,normalized:n,resultMCDA:i})),s}const vce=8,wT="rgba(5, 22, 38, 0.4)",ST="rgb(5, 22, 38)",b3="hex-selected-layer",yf="hex-selected-source",vf="hex-hover-source",w3="hex-hover-layer",$1=e=>e.a===0&&e.r===0&&e.g===0&&e.b===0,_ce=(e,t=!0)=>`rgba(${e.r*255*2},${e.g*255*2},${e.b*255*2}${t?","+e.a:""})`,j1=(e,t)=>{const n=Pue(e.lat,e.lng,Math.min(t,vce)),i=Tue(n,!0);return xce(i),{type:"Polygon",coordinates:[i]}};function xce(e){let t=!1;for(let n=0;n<e.length;n++)if(Math.abs(e[0][0]-e[(n+1)%e.length][0])>180){t=!0;break}t&&e.forEach(bce)}function bce(e){const t=e[0];e[0]=t<0?t+360:t}const CT=(e,t,n)=>{const i=e[t],s=e[n];if(i==null||s==null)return"0.00";if(s!==0)return(i/s).toFixed(2)};class wce extends Lue{constructor({id:n,layersOrderManager:i}){super();sr(this,"id");sr(this,"_layerId");sr(this,"_sourceId");sr(this,"_removeClickListener",null);sr(this,"_removeMouseMoveListener",null);sr(this,"_layersOrderManager");sr(this,"_popup");sr(this,"onMapZoom",n=>{this.cleanPopupWithDeps(n.target)});this.id=n,this._layersOrderManager=i,this._sourceId=Nle+this.id}_generateLayerFromLegend(n){if(n.type==="bivariate")return cue(n);throw new Error(`Unexpected legend type '${n.type}'`)}_setTileScheme(n,i){n.includes("{-y}")&&(i.scheme="tms")}async mountBivariateLayer(n,i,s){const l={type:"vector",tiles:i.source.urls.map(o=>v2(o)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};if(this._setTileScheme(i.source.urls[0],l),await mT(n),n.getSource(this._sourceId)===void 0&&n.addSource(this._sourceId,l),s){const o=this._generateLayerFromLegend(s),x=`${cT+this.id}`;if(n.getLayer(x))return;const S={...o,id:x,source:this._sourceId};iT(n,this._layersOrderManager).addAboveLayerWithSameType(S,this.id),this._layerId=S.id}else throw new Error(`[GenericLayer ${this.id}] Vector layers must have legend`)}addBivariatePopup(n,i){const s=S=>{var je;const P=S.target.queryRenderedFeatures(S.point).filter(tt=>tt.source.includes(this._sourceId));if(!P.length||!i||!P[0].geometry)return!0;const M=P[0],D=j1(S.lngLat,n.getZoom()),z=(je=M.layer.paint)==null?void 0:je["fill-color"];if(!z||$1(z)||!M.properties)return!0;const U=Xue.getState()[Zue.BIVARIATE_MANAGER],[q,K]=i.axis.x.quotient,[ee,V]=i.axis.y.quotient,X=CT(M.properties,q,K),ne=CT(M.properties,ee,V);if(!X||!ne)return!0;const pe=_ce(z),me=Joe(i.steps,"label"),oe=Aue(i.axis.x.steps,i.axis.y.steps,Number(X),Number(ne)),we=me.findIndex(tt=>tt.label===oe),Ce=document.createElement("div");return PC(Ce).render(_t(Vue,{cellLabel:me[we].label,cellIndex:we,axis:i.axis,values:U?{x:X,y:ne}:void 0,hexagonColor:pe})),this.cleanPopup(),this._popup=new x2.Popup({closeOnClick:!0,className:yT,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(Ce).addTo(n),this._popup.once("close",()=>{this.cleanSelection(n)}),this.cleanHover(n),n.getSource(yf)?n.getSource(yf).setData({type:"Feature",geometry:D,properties:{}}):(n.addSource(yf,{type:"geojson",data:{type:"Feature",geometry:D,properties:{}}}),n.addLayer({id:b3,type:"line",source:yf,layout:{},paint:{"line-color":ST,"line-width":1}})),!0},o=SP(S=>{var U,q;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!((U=P[0])!=null&&U.source.includes(this._sourceId)))return;const M=P[0],D=j1(S.lngLat,n.getZoom()),z=(q=M.layer.paint)==null?void 0:q["fill-color"];!z||$1(z)||(n.getSource(vf)?n.getSource(vf).setData({type:"Feature",geometry:D,properties:{}}):(n.addSource(vf,{type:"geojson",data:{type:"Feature",geometry:D,properties:{}}}),n.addLayer({id:w3,type:"line",source:vf,layout:{},paint:{"line-color":wT,"line-width":1}})))},100);n.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null);const x=S=>(o(S),!0);this._removeMouseMoveListener=U1("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=U1("click",s,60)}async mountMCDALayer(n,i,s){const l={type:"vector",tiles:i.source.urls.map(P=>v2(P)),minzoom:i.minZoom||0,maxzoom:i.maxZoom||22};this._setTileScheme(i.source.urls[0],l),await mT(n),n.getSource(this._sourceId)===void 0&&n.addSource(this._sourceId,l);const o=pce.mcda(s.config)[0],x=`${cT+this.id}`;if(n.getLayer(x))return;const S={...o,id:x,source:this._sourceId};iT(n,this._layersOrderManager).addAboveLayerWithSameType(S,this.id),this._layerId=x}addMCDAPopup(n,i){const s=S=>{var q;const P=S.target.queryRenderedFeatures(S.point).filter(K=>K.source.includes(this._sourceId));if(!P.length||!P[0].geometry)return!0;const[M]=P,D=(q=M.layer.paint)==null?void 0:q["fill-color"];if(!D||$1(D)||!M.properties)return!0;const z=yce(M,i.config.layers);this.cleanPopup(),this._popup=new x2.Popup({closeOnClick:!0,className:yT,maxWidth:"none",focusAfterOpen:!1,offset:15}).setLngLat(S.lngLat).setDOMContent(z).addTo(n),this._popup.once("close",()=>{this.cleanSelection(n)}),this.cleanHover(n);const U=j1(S.lngLat,n.getZoom());return n.getSource(yf)?n.getSource(yf).setData({type:"Feature",geometry:U,properties:{}}):(n.addSource(yf,{type:"geojson",data:{type:"Feature",geometry:U,properties:{}}}),n.addLayer({id:b3,type:"line",source:yf,layout:{},paint:{"line-color":ST,"line-width":1}})),!0},o=SP(S=>{var U,q;const P=S.target.queryRenderedFeatures(S.point);if(!P.length||!P[0].geometry||!((U=P[0])!=null&&U.source.includes(this._sourceId)))return!0;const M=P[0],D=j1(S.lngLat,n.getZoom()),z=(q=M.layer.paint)==null?void 0:q["fill-color"];!z||$1(z)||(n.getSource(vf)?n.getSource(vf).setData({type:"Feature",geometry:D,properties:{}}):(n.addSource(vf,{type:"geojson",data:{type:"Feature",geometry:D,properties:{}}}),n.addLayer({id:w3,type:"line",source:vf,layout:{},paint:{"line-color":wT,"line-width":1}})))},100);n.on("zoom",this.onMapZoom),this._removeMouseMoveListener&&(this._removeMouseMoveListener(),this._removeMouseMoveListener=null);const x=S=>(o(S),!0);this._removeMouseMoveListener=U1("mousemove",x,60),this._removeClickListener&&(this._removeClickListener(),this._removeClickListener=null),this._removeClickListener=U1("click",s,60)}_updateMap(n,i,s,l,o){i!=null&&((o==null?void 0:o.type)==="mcda"?(this.mountMCDALayer(n,i,o),this.addMCDAPopup(n,o)):(this.mountBivariateLayer(n,i,s),this.addBivariatePopup(n,s)),l||this.willHide({map:n}))}cleanPopup(){this._popup&&(this._popup.remove(),this._popup=null)}cleanHover(n){n.getSource(vf)&&(n.removeLayer(w3),n.removeSource(vf))}cleanSelection(n){n.getSource(yf)&&(n.removeLayer(b3),n.removeSource(yf))}cleanPopupWithDeps(n){this.cleanPopup(),this.cleanHover(n),this.cleanSelection(n)}willSourceUpdate({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible,i.style)}willMount({map:n,state:i}){i.source&&this._updateMap(n,i.source,i.legend,i.isVisible,i.style)}willUnMount({map:n}){var i,s;this._layerId&&n.getLayer(this._layerId)?(n.removeLayer(this._layerId),this._layerId=void 0):console.warn(`Can't remove layer with ID: ${this._layerId}. Layer does't exist in map`),this.cleanPopupWithDeps(n),n.off("zoom",this.onMapZoom),n.getSource(this._sourceId)?n.removeSource(this._sourceId):console.warn(`Can't remove source with ID: ${this._sourceId}. Source does't exist in map`),(i=this._removeClickListener)==null||i.call(this),(s=this._removeMouseMoveListener)==null||s.call(this)}willHide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?(n.setLayoutProperty(this._layerId,"visibility","none"),this.cleanPopupWithDeps(n)):console.warn(`Can't hide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willUnhide({map:n}){this._layerId===void 0||n===null||(n.getLayer(this._layerId)!==void 0?n.setLayoutProperty(this._layerId,"visibility","visible"):console.warn(`Cannot unhide layer with ID: ${this._layerId}. Layer doesn't exist on the map`))}willDestroy({map:n}){this._layerId===void 0||n===null||n.getLayer(this._layerId)!==void 0&&this.willUnMount({map:n})}}const S3=(e,t,n)=>{const i=e?e.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.xNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.xDenominator)):-1,s=t?t.findIndex(l=>l.selectedQuotient[0]===(n==null?void 0:n.yNumerator)&&l.selectedQuotient[1]===(n==null?void 0:n.yDenominator)):-1;return{x:i,y:s}},ET=(e,t,n)=>{const i=[...e];let s;const l=i.findIndex(({quotients:o})=>(s=o.find(x=>x[0]===t&&x[1]===n),s));return s&&(i[l]={...i[l],selectedQuotient:s}),i},Sce={xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null,selectCellCallback:null},C3=(e,t,n,i)=>({xNumerator:e,xDenominator:t,yNumerator:n,yDenominator:i}),Cce=Mo({enabledLayersAtom:HA,layersLegendsAtom:i5,calculateSelectedCell:()=>null,resetSelection:()=>null,setSelectCellCallback:e=>e,runPreselection:()=>null,setMatrixSelection:C3,presetMatrixSelection:e=>e,enableBivariateLayer:e=>e,disableBivariateLayer:()=>null},({onAction:e,schedule:t,getUnlistedState:n,create:i,onChange:s},l=Sce)=>{e("calculateSelectedCell",()=>{const{xGroups:x,yGroups:S}=n(z1),P=S3(x,S,C3(l.xNumerator,l.xDenominator,l.yNumerator,l.yDenominator)),M=l.selectedCell;(!M||P.x!==M.x||P.y!==M.y)&&(l={...l,selectedCell:P})}),e("setSelectCellCallback",x=>{l={...l,selectCellCallback:x}});const o=()=>{const x=n(HA),S=n(a0);return[...x].map(M=>{var D;return(D=S.get(M))==null?void 0:D.getState()}).find(M=>{var D;return M&&M.isEnabled&&((D=M.legend)==null?void 0:D.type)==="bivariate"})};return e("resetSelection",()=>{l={...l,xNumerator:null,xDenominator:null,yNumerator:null,yDenominator:null,selectedCell:null},t(x=>{var S;(S=l==null?void 0:l.selectCellCallback)==null||S.call(l,-1,-1)})}),e("runPreselection",()=>{const x=o();if(!x||!(x!=null&&x.legend)){t(P=>{P(i("resetSelection"))});return}const S=x.legend.axis;if(S){const P=C3(S.x.quotient[0]||null,S.x.quotient[1]||null,S.y.quotient[0]||null,S.y.quotient[1]||null),{xGroups:M,yGroups:D}=n(z1),z=S3(M,D,P);if(z.x>=0&&z.y>=0){t(ee=>{var V;ee(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,z.x,z.y)});return}let U=M,q=D;z.x===-1&&(U=ET(M,S.x.quotient[0],S.x.quotient[1])),z.y===-1&&(q=ET(D,S.y.quotient[0],S.y.quotient[1]));const K=S3(U,q,P);t(ee=>{var V;K.x>=0&&K.y>=0?(ee(z1.setNumerators(U,q)),ee(i("presetMatrixSelection",P)),(V=l==null?void 0:l.selectCellCallback)==null||V.call(l,K.x,K.y)):ee(i("resetSelection"))})}}),e("presetMatrixSelection",x=>{l={...l,...x},t(S=>{S(i("calculateSelectedCell"))})}),e("setMatrixSelection",x=>{l={...l,...x},t(V=>{V(i("calculateSelectedCell"))});const{xNumerator:S,xDenominator:P,yNumerator:M,yDenominator:D}=x;if(S===null||M===null)return;const{xGroups:z,yGroups:U}=n(z1),q=n(kD).data;if(q===null)return;const K=q.polygonStatistic.bivariateStatistic;if(!z||!U||!z.length||!U.length||!P||!D)return;const ee=sue(S,P,M,D,K);if(ee){const[V,X]=ee,ne=fue("Bivariate Layer",V,S,P,M,D,K);if(ne){const pe=X,me=pe.source,oe=pe.id,we=hue(S,P,M,D,K),Ce=me?{id:oe,maxZoom:me.maxzoom,minZoom:me.minzoom,source:{type:me.type,urls:me.tiles,tileSize:512,apiKey:""}}:void 0,[je,tt]=AT([{id:oe,legend:ne,meta:we,source:Ce}]);n(zy).has(oe)||je.push(...AT([{id:oe,settings:{id:oe,name:"Bivariate Layer",category:"overlay",group:"bivariate",ownedByUser:!0}}]).flat()),n(a0).has(oe)||je.push(i("disableBivariateLayer"),a0.register({id:oe,renderer:new wce({id:oe}),cleanUpActions:tt}),i("enableBivariateLayer",oe)),je.length&&t((At,Ot={})=>{At(je),Ot.bivariateLayerAtomId=oe})}}}),e("enableBivariateLayer",x=>{const S=n(a0);for(const[P,M]of Array.from(S))if(P===x){t(D=>{D(M.enable())});break}}),e("disableBivariateLayer",()=>{const x=n(a0);t((S,P={})=>{if(P.bivariateLayerAtomId){const M=x.get(P.bivariateLayerAtomId);M&&S(M.destroy())}})}),l},"bivariateMatrixSelection"),Ece=jt.createContext(null),b2=37,kce=.7,OD=b2/Math.sqrt(2),MD=b2/Math.sqrt(2);function Pce(e,t,n=0){return jt.useMemo(()=>({display:"inline-grid","--cell-size":n===0?"initial":`${n}px`,gridTemplateRows:`repeat(${t}, ${n===0?"auto":n+"px"})`,gridTemplateColumns:`repeat(${e}, ${n===0?"auto":n+"px"})`}),[e,t,n])}function Tce(e,t){const n=[];for(let i=0;i<e;i++){n[i]=[];for(let s=0;s<t;s++)n[i][s]={gridColumn:`${i} / ${i+1}`,gridRow:`${s} / ${s+1}`}}return n}function Ice(e,t){return jt.useMemo(()=>{if(!e||!e.length||!t||!t.length)return 0;let i=V1(e[0].label);for(let l=1;l<e.length;l++){const o=V1(e[l].label),x=l*MD;o>i+x&&(i=o-x)}let s=V1(t[0].label);for(let l=1;l<t.length;l++){const o=V1(t[l].label),x=l*OD;o>s+x&&(s=o-x)}return i>s?i:s},[e,t])}const Oce=document.createElement("canvas"),LD=Oce.getContext("2d")||{};LD.font="normal 13px Roboto";const Mce=30,Lce=90;function V1(e){return LD.measureText(e).width+Mce+Lce}function kT(e,t,n){return t?{height:`${e+n*MD}px`}:{width:`${e+n*OD}px`}}const Rce="_hoveredCell_kt59d_1",Dce="_valueCell_kt59d_5",Fce="_rotatedCell_kt59d_19",Bce="_valueFill_kt59d_28",zce="_disabled_kt59d_39",Nce="_selectedCol_kt59d_43",Uce="_first_kt59d_48",$ce="_last_kt59d_52",jce="_selectedRow_kt59d_56",gp={hoveredCell:Rce,valueCell:Dce,rotatedCell:Fce,valueFill:Bce,disabled:zce,selectedCol:Nce,first:Uce,last:$ce,selectedRow:jce},RD=jt.forwardRef(({value:e,x:t,y:n,className:i,onMouseOver:s,onMouseOut:l,onClick:o,disabled:x=!1,style:S,firstRow:P,firstCol:M,lastRow:D,lastCol:z},U)=>{const q=jt.useRef(null);let K=!1,ee=!1,V=!1;const X=aa(gp.valueCell,i,x&&gp.disabled);function ne(){return`${X} ${aa({[gp.hoveredCell]:K,[gp.selectedCol]:V,[gp.selectedRow]:ee,[gp.first]:P&&V||M&&ee,[gp.last]:D&&V||z&&ee})}`}return jt.useImperativeHandle(U,()=>({setHovered:()=>{q.current&&(K=!0,q.current.className=ne())},resetHovered:()=>{q.current&&(K=!1,q.current.className=ne())},setSelectedCol:()=>{q.current&&(V=!0,q.current.className=ne())},resetSelectedCol:()=>{q.current&&(V=!1,q.current.className=ne())},setSelectedRow:()=>{q.current&&(ee=!0,q.current.className=ne())},resetSelectedRow:()=>{q.current&&(ee=!1,q.current.className=ne())}})),_t("div",{ref:q,className:X,style:S,onMouseOver:()=>{s(t,n)},onClick:pe=>{o(t,n,pe)},onMouseOut:l,children:!x&&e!==void 0?wr(fx,{children:[Math.abs(e)>=.1&&_t("div",{className:gp.valueFill,style:{transform:`scale(${Math.abs(e)})`}}),_t("span",{className:gp.rotatedCell,children:e==null?void 0:e.toFixed(3)})]}):null})});RD.displayName="BivariateMatrixCell";const Vce="_legendSlot_i0ppr_6",Hce="_matrixContainer_i0ppr_14",qce="_rotatedMatrix_i0ppr_21",PT={legendSlot:Vce,matrixContainer:Hce,rotatedMatrix:qce},Gce="_horConnector_zzmmn_1",Qce="_vertConnector_zzmmn_7",Wce="_connectorBody_zzmmn_13",Kce="_hovered_zzmmn_28",Zce="_selected_zzmmn_33",t0={horConnector:Gce,vertConnector:Qce,connectorBody:Wce,hovered:Kce,selected:Zce},M4=jt.forwardRef(({type:e,style:t},n)=>{const i=jt.useRef(null);let s=!1,l=!1;const o=t0.connectorBody;function x(){return`${o} ${aa({[t0.hovered]:s,[t0.selected]:l})}`}return jt.useImperativeHandle(n,()=>({setHovered:()=>{i.current&&(s=!0,i.current.className=x())},resetHovered:()=>{i.current&&(s=!1,i.current.className=x())},setSelectedCol:()=>{e==="vertical"&&i.current&&(l=!0,i.current.className=x())},resetSelectedCol:()=>{e==="vertical"&&i.current&&(l=!1,i.current.className=x())},setSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!0,i.current.className=x())},resetSelectedRow:()=>{e==="horizontal"&&i.current&&(l=!1,i.current.className=x())}})),_t("div",{className:e==="horizontal"?t0.horConnector:t0.vertConnector,style:t,children:_t("div",{className:t0.connectorBody,ref:i})})});M4.displayName="BivariateMatrixCellConnector";const Xce="_denominatorIcon_2n0u5_1",Yce={denominatorIcon:Xce},Jce=()=>wr("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[wr("g",{clipPath:"url(#clip0_4777_147920)",children:[_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59226 5.6715C4.57385 5.68982 4.55581 5.70848 4.53814 5.72748C4.27818 6.00698 4.09843 6.3591 4.03058 6.74363C4.30836 6.45062 4.50699 6.08183 4.59226 5.6715ZM10.3266 5.66248C10.4117 6.0808 10.6146 6.45633 10.8991 6.75295C10.8325 6.3648 10.6519 6.00926 10.3899 5.7275C10.3693 5.70537 10.3482 5.68368 10.3266 5.66248ZM10.927 7.12889C10.2881 7.58142 9.93487 8.39557 10.1356 9.23105L10.3024 9.92533L10.8712 7.55816C10.9059 7.41385 10.924 7.27018 10.927 7.12889ZM10.8167 12.0655L11.135 13.3906C11.2431 13.8401 11.6451 14.157 12.1074 14.157H12.8928C13.3551 14.157 13.7571 13.8401 13.8651 13.3906L14.8646 9.23105C15.0886 8.29843 14.6225 7.39238 13.8391 6.98624C14.3731 6.58123 14.718 5.93987 14.718 5.21796C14.718 3.99301 13.725 3 12.5001 3C12.1224 3 11.7669 3.09436 11.4556 3.26079C11.4174 3.85333 11.25 4.41104 10.9816 4.90556C11.0898 5.00751 11.1903 5.11726 11.2822 5.23375C11.2821 5.22849 11.2821 5.22323 11.2821 5.21796C11.2821 4.5453 11.8274 4 12.5001 4C13.1727 4 13.718 4.5453 13.718 5.21796C13.718 5.89062 13.1727 6.43592 12.5001 6.43592C12.2381 6.43592 11.9954 6.35321 11.7968 6.21249C11.9482 6.7042 11.975 7.24459 11.8435 7.79175C11.9191 7.77351 11.9983 7.7638 12.0803 7.7638H12.9199C13.5667 7.7638 14.0433 8.36854 13.8922 8.99743L12.8928 13.157L12.1074 13.157L11.3309 9.92533L10.8167 12.0655ZM4.10776 12.0505L3.78577 13.3906C3.67777 13.8401 3.27574 14.157 2.81344 14.157H2.02803C1.56574 14.157 1.16371 13.8401 1.0557 13.3906L0.0562696 9.23105C-0.167809 8.29845 0.298349 7.39241 1.08167 6.98626C0.547652 6.58125 0.202745 5.93988 0.202745 5.21796C0.202745 3.99301 1.19576 3 2.42071 3C2.80138 3 3.15965 3.0959 3.47268 3.26486C3.5114 3.85587 3.67872 4.41215 3.94647 4.90553C3.83535 5.01024 3.73236 5.12317 3.63841 5.24319C3.63858 5.2348 3.63867 5.22639 3.63867 5.21796C3.63867 4.5453 3.09337 4 2.42071 4C1.74804 4 1.20274 4.5453 1.20274 5.21796C1.20274 5.89062 1.74804 6.43592 2.42071 6.43592C2.68679 6.43592 2.93294 6.3506 3.1333 6.20582C2.98006 6.69932 2.95243 7.24213 3.0845 7.79178L3.08494 7.79363C3.00708 7.77418 2.92528 7.7638 2.84055 7.7638H2.00092C1.35413 7.7638 0.877492 8.36854 1.0286 8.99742L2.02803 13.157L2.81344 13.157L3.59353 9.91034L4.10776 12.0505ZM4.62199 9.91034L4.78521 9.23105C4.98518 8.39877 4.63543 7.58765 4.00112 7.13409C4.00445 7.2737 4.02258 7.41562 4.05683 7.55816L4.62199 9.91034Z",fill:"black"}),_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46348 3C9.46348 4.10457 8.56805 5 7.46348 5C6.35891 5 5.46348 4.10457 5.46348 3C5.46348 1.89543 6.35891 1 7.46348 1C8.56805 1 9.46348 1.89543 9.46348 3ZM9.52339 5.18101C10.1023 4.63409 10.4635 3.85923 10.4635 3C10.4635 1.34315 9.12033 0 7.46348 0C5.80662 0 4.46348 1.34315 4.46348 3C4.46348 3.85922 4.8247 4.63408 5.40356 5.181C4.4317 5.4836 3.80296 6.50391 4.05627 7.55816L5.68205 14.3245C5.79005 14.774 6.19208 15.0909 6.65437 15.0909H8.27254C8.73483 15.0909 9.13686 14.774 9.24487 14.3245L10.8706 7.55816C11.1239 6.50392 10.4952 5.48363 9.52339 5.18101ZM6.00092 6.09091H8.92599C9.57278 6.09091 10.0494 6.69564 9.89832 7.32453L8.27254 14.0909H6.65437L5.0286 7.32453C4.87749 6.69564 5.35414 6.09091 6.00092 6.09091Z",fill:"black"})]}),_t("defs",{children:_t("clipPath",{id:"clip0_4777_147920",children:_t("rect",{width:"24",height:"24",fill:"white"})})})]}),efe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{d:"M14.6012 12.1833C15.0887 12.6708 15.0887 13.4833 14.6012 13.9708L13.7346 14.8375C13.6262 14.9458 13.5179 15 13.3554 15C13.2471 15 13.0846 14.9458 12.9762 14.8375C12.7596 14.6208 12.7596 14.2958 12.9762 14.1333L13.4637 13.6458H3.33874C2.20124 13.6458 1.33457 12.725 1.33457 11.5875V1.4625L0.847072 1.95C0.630406 2.16667 0.305406 2.16667 0.142906 1.95C-0.0195943 1.73333 -0.073761 1.40833 0.142906 1.24583L1.00957 0.379167C1.49707 -0.108333 2.30957 -0.108333 2.79707 0.379167L3.66374 1.24583C3.88041 1.4625 3.88041 1.7875 3.66374 1.95C3.55541 2.05833 3.39291 2.05833 3.28457 2.05833C3.17624 2.05833 3.01374 2.00417 2.90541 1.89583L2.36374 1.35417V11.5875C2.36374 12.1292 2.79707 12.6167 3.39291 12.6167H13.5721L13.0304 12.075C12.8137 11.8583 12.8137 11.5333 13.0304 11.3708C13.2471 11.1542 13.5721 11.1542 13.7346 11.3708L14.6012 12.1833ZM13.4637 0H6.85541C6.58457 0 6.36791 0.216667 6.36791 0.4875C6.36791 0.758333 6.58457 0.975 6.85541 0.975H13.4096C13.6804 0.975 13.8971 1.19167 13.8971 1.4625V8.125C13.8971 8.39583 14.1137 8.6125 14.3846 8.6125C14.6554 8.6125 14.8721 8.39583 14.8721 8.125V1.51667C14.9804 0.704167 14.2762 0 13.4637 0ZM8.45541 9.72083C8.72624 9.72083 8.94291 9.50417 8.94291 9.23333V6.95833C8.94291 6.2 8.29291 5.55 7.53457 5.55C7.20957 5.55 6.88457 5.65833 6.66791 5.875C6.45124 5.65833 6.12624 5.55 5.80124 5.55C5.58457 5.55 5.42207 5.60417 5.25957 5.65833C5.15124 5.55 5.04291 5.49583 4.88041 5.49583C4.60957 5.49583 4.39291 5.7125 4.39291 5.98333V9.17917C4.39291 9.45 4.60957 9.66667 4.88041 9.66667C5.15124 9.66667 5.36791 9.45 5.36791 9.17917V6.95833C5.36791 6.74167 5.53041 6.57917 5.74707 6.57917C5.96374 6.57917 6.12624 6.74167 6.12624 6.95833V9.23333C6.12624 9.50417 6.34291 9.72083 6.61374 9.72083C6.88457 9.72083 7.10124 9.50417 7.10124 9.23333V6.95833C7.10124 6.74167 7.26374 6.57917 7.48041 6.57917C7.69707 6.57917 7.85957 6.74167 7.85957 6.95833V9.23333C7.91374 9.50417 8.18457 9.72083 8.45541 9.72083ZM10.7304 3.7625C10.0804 3.7625 9.53874 4.30417 9.53874 4.95417C9.53874 5.225 9.75541 5.44167 10.0262 5.44167C10.2971 5.44167 10.5137 5.225 10.5137 4.95417C10.5137 4.84583 10.5679 4.79167 10.6762 4.79167C10.7304 4.79167 10.8387 4.84583 10.8387 4.95417C10.8387 5.00833 10.7304 5.225 10.2429 5.76667C9.9179 6.09167 9.64707 6.3625 9.64707 6.3625C9.48457 6.525 9.4304 6.74167 9.53874 6.90417C9.59291 7.12083 9.80957 7.22917 10.0262 7.22917H11.3804C11.6512 7.22917 11.8679 7.0125 11.8679 6.74167C11.8679 6.47083 11.6512 6.25417 11.3804 6.25417H11.2721C11.7054 5.7125 11.9221 5.33333 11.9221 5.00833C11.9221 4.25 11.3804 3.7625 10.7304 3.7625Z",fill:"black"})}),tfe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5938 15C14.112 15 14.5312 14.5807 14.5312 14.0625V7.5C14.5312 6.9818 14.112 6.5625 13.5938 6.5625H12.6562V0.9375C12.6562 0.419297 12.237 0 11.7188 0H5.15625C4.63805 0 4.21875 0.419297 4.21875 0.9375V2.8125H1.40625C0.888047 2.8125 0.46875 3.2318 0.46875 3.75V14.0625C0.46875 14.5807 0.888047 15 1.40625 15H13.5938ZM1.40625 3.75H4.21875V5.5H3.5C3.22386 5.5 3 5.72386 3 6C3 6.27614 3.22386 6.5 3.5 6.5H4.21875V8H3.5C3.22386 8 3 8.22386 3 8.5C3 8.77614 3.22386 9 3.5 9H4.21875V10.5H3.5C3.22386 10.5 3 10.7239 3 11C3 11.2761 3.22386 11.5 3.5 11.5H4.21875V14.0625H1.40625V3.75ZM5.15625 0.9375H11.7188V14.0625H8.90625V11.25H7.96875V14.0625H5.15625V0.9375ZM12.6562 7.5H13.5938V14.0625H12.6562V7.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5ZM6 7.5C6 7.22386 6.22386 7 6.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H6.5C6.22386 8 6 7.77614 6 7.5ZM6.5 5C6.22386 5 6 5.22386 6 5.5C6 5.77614 6.22386 6 6.5 6H10.5C10.7761 6 11 5.77614 11 5.5C11 5.22386 10.7761 5 10.5 5H6.5Z",fill:"black"})}),nfe=()=>_t("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4949 0.505013C14.7683 0.77838 14.7683 1.2216 14.4949 1.49496L1.49493 14.495C1.22156 14.7683 0.778343 14.7683 0.504977 14.495C0.23161 14.2216 0.23161 13.7784 0.504977 13.505L13.505 0.505013C13.7783 0.231646 14.2216 0.231646 14.4949 0.505013ZM14.495 6.50503C14.7683 6.77839 14.7683 7.22161 14.495 7.49497L7.49497 14.495C7.22161 14.7683 6.77839 14.7683 6.50503 14.495C6.23166 14.2216 6.23166 13.7784 6.50503 13.505L13.505 6.50503C13.7784 6.23166 14.2216 6.23166 14.495 6.50503ZM8.49498 1.49497C8.76834 1.22161 8.76834 0.778392 8.49498 0.505025C8.22161 0.231658 7.77839 0.231658 7.50503 0.505025L0.505025 7.50503C0.231658 7.77839 0.231658 8.22161 0.505025 8.49498C0.778392 8.76834 1.22161 8.76834 1.49497 8.49498L8.49498 1.49497ZM3.49497 0.505025C3.76834 0.778392 3.76834 1.22161 3.49497 1.49497L1.49497 3.49497C1.22161 3.76834 0.778392 3.76834 0.505025 3.49497C0.231658 3.22161 0.231658 2.77839 0.505025 2.50503L2.50503 0.505025C2.77839 0.231658 3.22161 0.231658 3.49497 0.505025ZM14.495 12.495C14.7684 12.2216 14.7684 11.7784 14.495 11.505C14.2217 11.2317 13.7784 11.2317 13.5051 11.505L11.5051 13.505C11.2317 13.7784 11.2317 14.2216 11.5051 14.495C11.7784 14.7683 12.2217 14.7683 12.495 14.495L14.495 12.495Z",fill:"black"})}),rfe=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.60002 4C8.60002 3.75732 8.45384 3.53854 8.22963 3.44567C8.00543 3.3528 7.74736 3.40413 7.57576 3.57573L5.57576 5.57573C5.34145 5.81005 5.34145 6.18995 5.57576 6.42426C5.81007 6.65857 6.18997 6.65857 6.42429 6.42426L7.40002 5.44852V10.4H6.50002C6.16865 10.4 5.90002 10.6686 5.90002 11C5.90002 11.3314 6.16865 11.6 6.50002 11.6H9.50002C9.8314 11.6 10.1 11.3314 10.1 11C10.1 10.6686 9.8314 10.4 9.50002 10.4H8.60002V4Z",fill:"black"})}),ife=()=>_t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",children:_t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31257 14.9513C2.38285 14.9835 2.45927 15.0001 2.53658 15C2.66433 14.9997 2.78777 14.9537 2.88462 14.8704C2.98148 14.7871 3.04538 14.672 3.0648 14.5457L5.20765 0.617136C5.22508 0.478692 5.1878 0.338912 5.10375 0.227531C5.0197 0.116151 4.89551 0.0419601 4.75759 0.0207426C4.61968 -0.00047491 4.47893 0.0329551 4.36529 0.113921C4.25164 0.194887 4.17407 0.316999 4.14908 0.454279L2.00622 14.3828C1.99447 14.4593 1.9994 14.5373 2.02067 14.6116C2.04193 14.686 2.07903 14.7548 2.12942 14.8134C2.17981 14.8721 2.24229 14.9191 2.31257 14.9513ZM12.9007 14.8704C12.9975 14.9537 13.121 14.9997 13.2487 15C13.326 15.0001 13.4025 14.9835 13.4727 14.9513C13.543 14.9191 13.6055 14.8721 13.6559 14.8134C13.7063 14.7548 13.7434 14.686 13.7646 14.6116C13.7859 14.5373 13.7908 14.4593 13.7791 14.3828L11.6362 0.454279C11.6112 0.316999 11.5337 0.194887 11.42 0.113921C11.3064 0.0329551 11.1656 -0.00047491 11.0277 0.0207426C10.8898 0.0419601 10.7656 0.116151 10.6816 0.227531C10.5975 0.338912 10.5602 0.478692 10.5777 0.617136L12.7205 14.5457C12.7399 14.672 12.8038 14.7871 12.9007 14.8704ZM8.5 10.5C8.5 10.2239 8.27614 10 8 10C7.72386 10 7.5 10.2239 7.5 10.5V14.5C7.5 14.7761 7.72386 15 8 15C8.27614 15 8.5 14.7761 8.5 14.5V10.5ZM8 4C8.27614 4 8.5 4.22386 8.5 4.5V7.5C8.5 7.77614 8.27614 8 8 8C7.72386 8 7.5 7.77614 7.5 7.5V4.5C7.5 4.22386 7.72386 4 8 4ZM8.5 1C8.5 0.723858 8.27614 0.5 8 0.5C7.72386 0.5 7.5 0.723858 7.5 1V2C7.5 2.27614 7.72386 2.5 8 2.5C8.27614 2.5 8.5 2.27614 8.5 2V1Z",fill:"black"})}),ofe={population:_t(Jce,{}),area_km2:_t(efe,{}),total_building_count:_t(tfe,{}),populated_area_km2:_t(nfe,{}),one:_t(rfe,{})},afe={population:Nr.t("bivariate.matrix.icon.population"),area_km2:Nr.t("bivariate.matrix.icon.area_km2"),total_building_count:Nr.t("bivariate.matrix.icon.total_building_count"),populated_area_km2:Nr.t("bivariate.matrix.icon.populated_area_km2"),one:Nr.t("bivariate.matrix.icon.one")},DD=({iconId:e})=>{const t=ofe[e]||_t(ife,{}),n=afe[e]||Nr.t("bivariate.matrix.icon.roads");return _t(Yx,{tooltipText:n,children:({showTooltip:i,hideTooltip:s})=>_t("span",{className:Yce.denominatorIcon,onPointerOver:i,onPointerLeave:s,children:t})})},sfe=e=>{let t=e;const n=new Set,i=s=>{t=s,n.forEach(l=>l())};return()=>{const[s,l]=jt.useState(t);return jt.useEffect(()=>{const o=()=>{l(t)};return n.add(o),o(),()=>{n.delete(o)}},[]),[s,i]}},lfe=sfe({headingId:""}),ufe="_denominators_1m5c6_1",cfe="_row_1m5c6_5",ffe="_column_1m5c6_9",pfe="_denominatorSelector_1m5c6_13",hfe="_disabled_1m5c6_25",Afe="_denominatorsContainer_1m5c6_43",dfe="_quotientItem_1m5c6_79",mfe="_selected_1m5c6_85",_0={denominators:ufe,row:cfe,column:ffe,denominatorSelector:pfe,disabled:hfe,denominatorsContainer:Afe,quotientItem:dfe,selected:mfe},gfe=({numeratorId:e,denominatorId:t,numeratorLabel:n,quality:i,onSelectQuotient:s,isSelected:l=!1})=>{const o=x=>{x.stopPropagation(),s(e,t)};return wr("div",{className:aa(_0.quotientItem,l&&_0.selected),onClick:o,children:[_t(DD,{iconId:t}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:i??"&nbsp;"}),_t("div",{className:"quotientLabel",children:n})]})},yfe=100/70,vfe=5,FD=jt.memo(({id:e,quotients:t,selectedQuotient:n,onSelectQuotient:i,type:s,children:l})=>{const[o,x]=lfe(),S=U=>{if(U.stopPropagation(),o.headingId===e)x({headingId:"",width:0});else{const q=U.currentTarget.getBoundingClientRect(),K=U.currentTarget.parentElement.parentElement.getBoundingClientRect(),ee=Math.ceil((q.left-K.left)*yfe+vfe);x({headingId:e,width:ee})}},P=jt.useCallback((U,q)=>{x({headingId:""}),i(U,q)},[x,i]),[M,D]=jt.useMemo(()=>{const U=t.findIndex(({id:q})=>q[0]===n.id[0]&&q[1]===n.id[1]);return U>=0?[t[U],t.filter((q,K)=>K!==U)]:[null,t]},[t,n.id]),z=({id:U,label:q,quality:K},ee)=>_t(gfe,{onSelectQuotient:P,quality:K,numeratorId:U[0],denominatorId:U[1],numeratorLabel:q,isSelected:ee},JSON.stringify(U));return wr("div",{className:aa({[_0.denominators]:!0,[_0.row]:s==="horizontal",[_0.column]:s==="vertical"}),children:[_t("div",{onClick:S,children:l}),o.headingId===e&&wr("div",{className:_0.denominatorsContainer,style:s==="horizontal"?{left:-o.width,right:0}:{top:-o.width,bottom:0},children:[M&&z(M,!0),D.map(U=>z(U,!1))]})]})});FD.displayName="QuotientSelector";const _fe="_axisRecord_1dbhd_8",xfe="_container_1dbhd_13",bfe="_column_1dbhd_34",wfe="_row_1dbhd_43",Sfe="_selected_1dbhd_110",Cfe="_corner_1dbhd_142",Efe="_hovered_1dbhd_146",kfe="_verticalText_1dbhd_173",Pfe="_quotientsCountLabel_1dbhd_185",yp={axisRecord:_fe,container:xfe,column:bfe,row:wfe,selected:Sfe,corner:Cfe,hovered:Efe,verticalText:kfe,quotientsCountLabel:Pfe},Tfe=(e,t)=>({gridColumn:e?`${t+3} / ${t+4}`:"1",gridRow:e?"1":`${t+3} / ${t+4}`}),L4=jt.forwardRef(({index:e,type:t,className:n,selectedIndex:i=-1,headerCell:s,id:l,onCellHover:o,onCellClick:x,onSelectQuotient:S,baseDimension:P,calculateHeadingsStyle:M},D)=>{const z=()=>{o(e)},U=()=>{o(null)},q=Ce=>{const je=Ce.target;je.tagName==="svg"||je.tagName==="path"||je.className&&je.className.indexOf&&je.className.indexOf("denominator")!==-1||x(e,Ce)},K=jt.useCallback((Ce,je)=>{S(e,Ce,je)},[S,e]),ee=s.quotients.length>1?wr("div",{className:yp.quotientsCountLabel,children:["+",s.quotients.length-1," layers",_t(KH,{})]}):null,V=jt.useRef(null);let X=!1,ne=!1;const pe=t==="horizontal",me=t==="vertical",oe=aa({[n||""]:n,[yp.axisRecord]:!0,[yp.column]:me,[yp.row]:pe,[yp.verticalText]:me,horizontal:pe,vertical:me});function we(){return`${oe} ${aa({[yp.hovered]:X,[yp.selected]:ne})}`}return jt.useImperativeHandle(D,()=>({setHovered:()=>{V.current&&(X=!0,V.current.className=we())},resetHovered:()=>{V.current&&(X=!1,V.current.className=we())},setSelectedCol:()=>{me&&V.current&&(ne=!0,V.current.className=we())},resetSelectedCol:()=>{me&&V.current&&(ne=!1,V.current.className=we())},setSelectedRow:()=>{pe&&V.current&&(ne=!0,V.current.className=we())},resetSelectedRow:()=>{pe&&V.current&&(ne=!1,V.current.className=we())}})),_t("div",{ref:V,onMouseEnter:z,onMouseOut:U,onClick:q,style:Tfe(t==="vertical",e),className:oe,children:wr("div",{style:M(P,me,e),className:yp.container,children:[_t("div",{className:yp.corner}),_t(DD,{iconId:s.selectedQuotient.id[1]}),sessionStorage.getItem("BIVARIATE_QA_MOD")&&_t("div",{className:"qualityLabel",children:s.quality?s.quality:"&nbsp;"}),s.label,ee&&_t(FD,{id:`quotient_${l}`,onSelectQuotient:K,selectedQuotient:s.selectedQuotient,quotients:s.quotients,type:t,children:ee})]})})});L4.displayName="BivariateMatrixHeadingEntry";const Ife="_axisCaptionRoot_1yhrg_1",Ofe="_axisCaptionAnchor_1yhrg_6",Mfe="_axisCaptionBody_1yhrg_10",Lfe="_tooltipHover_1yhrg_24",Rfe="_axisCaptionText_1yhrg_33",Dfe="_popupContent_1yhrg_47",x0={axisCaptionRoot:Ife,axisCaptionAnchor:Ofe,axisCaptionBody:Mfe,tooltipHover:Lfe,axisCaptionText:Rfe,popupContent:Dfe},Ffe=wr("div",{className:x0.axisCaptionText,children:[_t("p",{children:Nr.t("bivariate.matrix.caption.tooltip.p1")}),wr("ul",{children:[_t("li",{children:Nr.t("bivariate.matrix.caption.tooltip.li1")}),_t("li",{children:Nr.t("bivariate.matrix.caption.tooltip.li2")})]}),_t("br",{}),_t("b",{children:Nr.t("bivariate.matrix.caption.tooltip.b")}),_t("p",{children:Nr.t("bivariate.matrix.caption.tooltip.p2")}),_t("p",{children:Nr.t("bivariate.matrix.caption.tooltip.p3")})]}),Bfe={popupContent:x0.popupContent},zfe=({baseDimension:e=0})=>{const t=jt.useRef(null);return jt.useLayoutEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({block:"center"})},[]),_t("div",{className:x0.axisCaptionRoot,ref:t,children:_t("div",{className:x0.axisCaptionAnchor,style:{left:-e},children:_t(Yx,{hoverBehavior:!1,tooltipId:"axis_caption",tooltipText:Ffe,popupClasses:Bfe,children:({showTooltip:n})=>wr("div",{className:x0.axisCaptionBody,children:[_t(TT,{position:"left"}),_t("br",{}),wr("div",{className:x0.tooltipHover,onClick:n,children:[_t("span",{children:Nr.t("bivariate.matrix.caption.base_axis")}),_t(XH,{}),_t("span",{children:Nr.t("bivariate.matrix.caption.annex_axis")})]}),_t("br",{}),_t(TT,{position:"right"})]})})})})},TT=({position:e="left"})=>wr("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"22",viewBox:"0 0 6 22",fill:"none",transform:e==="left"?"rotate(90)":"rotate(-90)",children:[_t("path",{d:"M3 1V20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),_t("path",{d:"M1 18L3 21.5L5 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),H1=3,q1=3,Nfe=15,BD=({matrix:e,xHeadings:t,yHeadings:n,onSelectCell:i,selectedCell:s,cellSize:l=0,onSelectQuotient:o})=>{const x=jt.useRef(null),S=jt.useContext(Ece),P=[],M=[];let D=-1,z=-1;const U=jt.useRef((s==null?void 0:s.x)??-1),q=jt.useRef((s==null?void 0:s.y)??-1),K=r4(Cce.setSelectCellCallback),ee=(st,Me,Le)=>{Me>=0&&(P[Me]||(P[Me]=[]),P[Me].push(st)),Le>=0&&(M[Le]||(M[Le]=[]),M[Le].push(st))},V=(st,Me)=>{if(D!==st&&(D=st,D!==-1)){const Le=M[D];Le&&Le.forEach(re=>{re==null||re.setHovered()})}if(z!==Me&&(z=Me,z!==-1)){const Le=P[z];Le&&Le.forEach(re=>{re==null||re.setHovered()})}},X=()=>{if(D!==-1){const st=M[D];st&&st.forEach(Me=>{Me==null||Me.resetHovered()}),D=-1}if(z!==-1){const st=P[z];st&&st.forEach(Me=>{Me==null||Me.resetHovered()}),z=-1}},ne=st=>{X(),st&&V(st,z)},pe=st=>{X(),st&&V(D,st)},me=()=>{if(U.current!==-1){const st=M[U.current];st&&st.forEach(Me=>{Me==null||Me.resetSelectedCol()}),U.current=-1}if(q.current!==-1){const st=P[q.current];st&&st.forEach(Me=>{Me==null||Me.resetSelectedRow()}),q.current=-1}},oe=(st,Me,Le)=>{me(),Ce(st,Me),i(st,Me,Le)},we=(st,Me)=>{me(),Ce(st,Me)},Ce=(st,Me)=>{if(st!==-1&&U.current!==st){U.current=st;const Le=M[U.current];Le&&Le.forEach(re=>{re==null||re.setSelectedCol()})}if(Me!==-1&&q.current!==Me){q.current=Me;const Le=P[q.current];Le&&Le.forEach(re=>{re==null||re.setSelectedRow()})}},je=(st,Me)=>{oe(st,q.current,Me)},tt=(st,Me)=>{oe(U.current,st,Me)},qe=jt.useCallback((st,Me,Le,re)=>{o(!1,st,Me,Le,re)},[o]),rt=jt.useCallback((st,Me,Le,re)=>{o(!0,st,Me,Le,re)},[o]),At=Ice(t,n),Ot=Math.sqrt(Math.pow(t.length*b2,2)+Math.pow(n.length*b2,2))*kce+Nfe;jt.useEffect(()=>{S==null||S.onMatrixPositionRecalculated(At,Ot),x.current&&(x.current.style.visibility="visible")},[At]);const Vt=Pce(t.length+1,n.length+1,l),Jt=jt.useMemo(()=>({width:Ot,height:Ot}),[Ot]),bn=jt.useMemo(()=>Tce(t.length+H1,n.length+q1),[t,n]);return jt.useEffect(()=>{K(we.bind(void 0)),s&&(s.x!==-1||s.y!==-1)&&we(s.x,s.y)},[e]),_t("div",{ref:x,className:PT.matrixContainer,style:Jt,children:wr("div",{style:Vt,className:PT.rotatedMatrix,children:[e.map((st,Me)=>_t(M4,{type:"horizontal",style:bn[-1+H1][Me+q1],ref:Le=>ee(Le,Me,-1)},`${Me}_row_connector`)),e[0].map((st,Me)=>_t(M4,{type:"vertical",style:bn[Me+H1][-1+q1],ref:Le=>ee(Le,-1,Me)},`${Me}_col_connector`)),e.map((st,Me)=>st.map((Le,re)=>_t(RD,{x:re,y:Me,onClick:oe,onMouseOver:V,onMouseOut:X,style:bn[re+H1][Me+q1],ref:ge=>ee(ge,Me,re),value:Le===null?void 0:Le,disabled:Le===null,firstRow:Me===0,firstCol:re===0,lastRow:Me===e.length-1,lastCol:re===st.length-1},`matrix_cell_${re}_${Me}`))),[...n].reverse().map((st,Me)=>_t(L4,{id:`hor_${n.length-1-Me}`,index:n.length-1-Me,type:"horizontal",selectedIndex:s==null?void 0:s.y,headerCell:st,onCellHover:pe,onCellClick:tt,onSelectQuotient:rt,baseDimension:At,calculateHeadingsStyle:kT,ref:Le=>ee(Le,n.length-1-Me,-1)},`hor_${n.length-1-Me}`)),_t(zfe,{baseDimension:At}),t.map((st,Me)=>_t(L4,{id:`vert_${Me}`,index:Me,type:"vertical",selectedIndex:s==null?void 0:s.x,headerCell:st,onCellHover:ne,onCellClick:je,onSelectQuotient:qe,baseDimension:At,calculateHeadingsStyle:kT,ref:Le=>ee(Le,-1,Me)},`vert_${Me}`))]})})};BD.displayName="BivariateMatrixControl";const Ufe=jt.memo(BD,(e,t)=>e.matrix===t.matrix),Iu={xGroups:[{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["local_hours","area_km2"]',quotients:[["count","populated_area_km2"],["population_prev","populated_area_km2"],["gdp","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["osm_users","area_km2"],["total_hours","populated_area_km2"],["covid19_confirmed","populated_area_km2"],["covid19_confirmed","area_km2"],["osm_users","populated_area_km2"],["local_hours","area_km2"],["local_hours","populated_area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["count","total_building_count"]',quotients:[["count","total_building_count"]],selectedQuotient:["count","total_building_count"]},{parent:'["highway_length","population"]',quotients:[["forest","population"],["highway_length","population"]],selectedQuotient:["highway_length","population"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],yGroups:[{parent:'["local_hours","area_km2"]',quotients:[["population","populated_area_km2"],["total_building_count","populated_area_km2"],["count","populated_area_km2"],["population_prev","populated_area_km2"],["total_building_count","area_km2"],["gdp","populated_area_km2"],["mandays_maxtemp_over_32c_1c","populated_area_km2"],["population_prev","area_km2"],["gdp","area_km2"],["building_count","populated_area_km2"],["mandays_maxtemp_over_32c_1c","area_km2"],["total_hours","populated_area_km2"],["osm_users","area_km2"],["covid19_confirmed","populated_area_km2"],["osm_users","populated_area_km2"],["covid19_confirmed","area_km2"],["local_hours","populated_area_km2"],["local_hours","area_km2"]],selectedQuotient:["local_hours","area_km2"]},{parent:'["population","area_km2"]',quotients:[["population","area_km2"]],selectedQuotient:["population","area_km2"]},{parent:'["count","area_km2"]',quotients:[["count","area_km2"]],selectedQuotient:["count","area_km2"]},{parent:'["building_count","area_km2"]',quotients:[["building_count","area_km2"]],selectedQuotient:["building_count","area_km2"]},{parent:'["total_hours","area_km2"]',quotients:[["total_hours","area_km2"]],selectedQuotient:["total_hours","area_km2"]},{parent:'["highway_length","area_km2"]',quotients:[["total_road_length","area_km2"],["highway_length","area_km2"]],selectedQuotient:["highway_length","area_km2"]},{parent:'["view_count","area_km2"]',quotients:[["view_count","populated_area_km2"],["view_count_bf2402","populated_area_km2"],["view_count","area_km2"],["view_count_bf2402","area_km2"]],selectedQuotient:["view_count","area_km2"]},{parent:'["highway_length","populated_area_km2"]',quotients:[["highway_length","populated_area_km2"]],selectedQuotient:["highway_length","populated_area_km2"]},{parent:'["total_road_length","populated_area_km2"]',quotients:[["total_road_length","populated_area_km2"]],selectedQuotient:["total_road_length","populated_area_km2"]},{parent:'["man_distance_to_hospital","area_km2"]',quotients:[["man_distance_to_hospital","area_km2"]],selectedQuotient:["man_distance_to_hospital","area_km2"]},{parent:'["unknown_forest","total_building_count"]',quotients:[["total_road_length","total_building_count"],["unknown_forest","total_building_count"]],selectedQuotient:["unknown_forest","total_building_count"]},{parent:'["forest","total_building_count"]',quotients:[["highway_length","total_building_count"],["forest","total_building_count"]],selectedQuotient:["forest","total_building_count"]},{parent:'["populated_area_km2","area_km2"]',quotients:[["populated_area_km2","area_km2"]],selectedQuotient:["populated_area_km2","area_km2"]},{parent:'["count","population"]',quotients:[["populated_area_km2","population"],["count","population"]],selectedQuotient:["count","population"]},{parent:'["populated_area_km2","total_building_count"]',quotients:[["populated_area_km2","total_building_count"]],selectedQuotient:["populated_area_km2","total_building_count"]},{parent:'["man_distance_to_hospital","populated_area_km2"]',quotients:[["man_distance_to_hospital","populated_area_km2"]],selectedQuotient:["man_distance_to_hospital","populated_area_km2"]},{parent:'["man_distance_to_fire_brigade","area_km2"]',quotients:[["man_distance_to_fire_brigade","area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","area_km2"]},{parent:'["osm_users","population"]',quotients:[["osm_users","population"]],selectedQuotient:["osm_users","population"]},{parent:'["unknown_forest","population"]',quotients:[["total_road_length","population"],["unknown_forest","population"]],selectedQuotient:["unknown_forest","population"]},{parent:'["forest","population"]',quotients:[["highway_length","population"],["forest","population"]],selectedQuotient:["forest","population"]},{parent:'["avg_elevation","one"]',quotients:[["avg_elevation","one"]],selectedQuotient:["avg_elevation","one"]},{parent:'["man_distance_to_fire_brigade","populated_area_km2"]',quotients:[["man_distance_to_fire_brigade","populated_area_km2"]],selectedQuotient:["man_distance_to_fire_brigade","populated_area_km2"]}],matrix:[[.6330778143702572,null,.5428354424212366,.8125028273732107,.41794744630059005,.49075709882519214,.26266841211785613,.17540431775688137,.2817357956135096,-.08277918866628682,-.07354014808858399,.19952042019781102,.2900699030570146,-.09959194444606909,-.05653224901990311,-.08121946780800145,-.06293349539553206,.210717984018573],[.7671266114613431,.4624540160877126,.7461271344307278,.6236796022803118,.4651837775930101,.6983788201180583,.3282268564011803,.23940172696613696,.6102526069773476,-.06854993994184201,-.06300652330464818,.5425853155901724,.5357120339754239,-.12569275885753226,-.05722122475056985,-.044124976285712575,-.07252302728830883,.46170009422253117],[null,.6330778143702572,.9448400352897224,.8088667700993942,.5478619819586914,.7272525499712613,.39403434829318645,.27693369264722456,.4212553882513244,-.09219840214177631,-.08214624778695,.3334796387999488,.3381396079397914,-.11599438338517783,-.0603311321070773,null,-.0709735871498622,.24799941442360907],[.9448400352897224,.5428354424212366,null,.676324490987385,.495437368648744,.6083458288157841,.3469868158515808,.2430950316469889,.4310608323815133,-.09512147612349764,-.08309756332167413,.3452068134908724,.33210650851954204,-.1245886065474142,-.059708735955503585,-.14339940649431673,-.07375589630648925,.24325119232100342],[.8088667700993942,.8125028273732107,.676324490987385,null,.5189347708683577,.6884534708417488,.33187782018548295,.2219184858913333,.35395740401150805,-.09412791983951108,-.0863908043684727,.26082399416277346,.349163057602413,-.0749918701328735,-.06355840786694379,-.06179508212619175,-.06748437844937322,.25841056419208985],[.5478619819586914,.41794744630059005,.495437368648744,.5189347708683577,null,.38324804690465736,null,.414339823397522,.3069414868687711,-.10644082342648567,-.10931575987231072,.2754560009958487,.2569523390521722,-.11051731563471724,-.08226769814606767,.000604231582566239,null,.20899371630213479],[.7272525499712613,.49075709882519214,.6083458288157841,.6884534708417488,.38324804690465736,null,.30947144087595235,.22699474527609945,.2830320630422097,-.04226615774405834,-.037742340113614686,.23762065170375052,.23266705566189747,-.05154149468310855,-.02870286844834339,-.031190214624625075,-.03390072345440923,.18581115270615528],[.39403434829318645,.26266841211785613,.3469868158515808,.33187782018548295,null,.30947144087595235,null,.9304780288243525,.13914319427120514,.3291875622555688,.3720654440390036,.1934927693146689,.10623582254983449,.0007285286560751833,.19378449287322094,.32680720759696696,null,.16809925893975913],[.27693369264722456,.17540431775688137,.2430950316469889,.2219184858913333,.414339823397522,.22699474527609945,.9304780288243525,null,.09020847847993732,.42400942691094484,.5064709774524677,.1712970613845418,.06714970974071707,.01180306783229655,.2255650150706005,.3599655140069753,.30252787549965515,.15970052255248204],[.4212553882513244,.2817357956135096,.4310608323815133,.35395740401150805,.3069414868687711,.2830320630422097,.13914319427120514,.09020847847993732,null,-.06649666693010343,-.06343156740380441,null,.6841527486069171,-.13779469419376966,-.0635847915251171,-.026485710953304663,-.08026301675299034,.6178257434320957],[-.09219840214177631,-.08277918866628682,-.09512147612349764,-.09412791983951108,-.10644082342648567,-.04226615774405834,.3291875622555688,.42400942691094484,-.06649666693010343,null,.7678796845524921,.012760506344240884,-.054701981754940544,.1344540319549378,null,.5631324180563558,.3071029030398512,.04014411156301263],[-.08214624778695,-.07354014808858399,-.08309756332167413,-.0863908043684727,-.10931575987231072,-.037742340113614686,.3720654440390036,.5064709774524677,-.06343156740380441,.7678796845524921,null,.014062866759102748,-.05210682697853124,.11091668928613378,.2990964999949313,.5385399665532266,.22651079092994508,.04521239572328026],[.33092297487284617,.306348164358225,.3238400065207823,.3693496848744186,.38871869483912574,.1581862969025989,-.3471496502086163,-.43374811025089965,.33796301073828167,-.3268410473725932,-.3386739643520862,.055679399245274847,.3020796910928048,-.04623557252911246,-.19287576889960628,-.23886314058329716,-.1732637367181755,.02241746611798094],[null,-.05985205635299918,-.07346388019658537,-.04156216899598115,-.06836488141749311,-.03935680545094748,.12058512533492027,.13212728757237097,-.11270465651638581,.15970627541493335,.13401194122424062,-.12384718246215928,-.10414752849189488,.7574388860132296,.48388350772788513,null,.6315662616124519,-.11571785360027256],[-.2290337466539601,-.1757661352019487,-.24760184223062584,-.18278999260309406,-.1710761141838468,-.09542438099888385,-.059267030345385996,-.013539781630611262,-.09643066932644401,.43854582251146346,.3609544353566733,-.07178405902927397,-.06341025046618942,.22096261180630974,.10541941385096928,.5599627595822098,.1278673522191922,-.032944279661146915],[.3334796387999488,.19952042019781102,.3452068134908724,.26082399416277346,.2754560009958487,.23762065170375052,.1934927693146689,.1712970613845418,null,.012760506344240884,.014062866759102748,null,.6310066640401927,-.1500265206387344,-.06689746899862688,.01986212506899432,-.08550943488376969,.676555546708353],[.3381396079397914,.2900699030570146,.33210650851954204,.349163057602413,.2569523390521722,.23266705566189747,.10623582254983449,.06714970974071707,.6841527486069171,-.054701981754940544,-.05210682697853124,.6310066640401927,null,-.12258332045801432,-.0567307219837807,-.022320716664225384,-.07178249009741255,null],[-.11599438338517783,-.09959194444606909,-.1245886065474142,-.0749918701328735,-.11051731563471724,-.05154149468310855,.0007285286560751833,.01180306783229655,-.13779469419376966,.1344540319549378,.11091668928613378,-.1500265206387344,-.12258332045801432,null,.4348018015155649,.1802672705079899,.5785565720280881,-.1349910962529299],[-.0603311321070773,-.05653224901990311,-.059708735955503585,-.06355840786694379,-.08226769814606767,-.02870286844834339,.19378449287322094,.2255650150706005,-.0635847915251171,null,.2990964999949313,-.06689746899862688,-.0567307219837807,.4348018015155649,null,.16176932292012,.7133807791437314,-.05999313994718329],[-.06778027180778882,-.06094700100554602,-.06749293269532497,-.07015551687145612,-.09380332086205506,-.03214432503025587,.20746554020517102,.2523547017592986,-.07210328538123267,.4203440217106889,null,-.0750002557187531,-.06409549706414985,.49720071299727603,.8986894662282207,.19577005850577103,.7147205376873481,-.06663105366067186],[-.1314723477716716,-.10888331650996384,-.12016811312503141,-.14500851581063834,-.14651760866997154,-.0894267074095959,-.10021629943072725,-.02053796018986287,-.08959271152178999,.07728964320941438,.11382059101409457,-.055901670004619375,-.07981810377749747,.12046075802517535,.07334344740483416,-.020568856117619418,.12080907584004444,-.040957057721220644],[.24799941442360907,.210717984018573,.24325119232100342,.25841056419208985,.20899371630213479,.18581115270615528,.16809925893975913,.15970052255248204,.6178257434320957,.04014411156301263,.04521239572328026,.676555546708353,null,-.1349910962529299,-.05999313994718329,.035960163104143954,-.07699941382657573,null]],indicators:[{name:"mhr_index",label:"Multi-hazard risk PDC GRVA",copyrights:["© 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"mhe_index",label:"Multi-hazard exposure PDC GRVA",copyrights:["© 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"coping_capacity_index",label:"Coping Capacity PDC GRVA",copyrights:["© 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"resilience_index",label:"Resilience PDC GRVA",copyrights:["© 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["important","bad"],["good"]]},{name:"vulnerability_index",label:"Vulnerability PDC GRVA",copyrights:["© 2022 Pacific Disaster Center. https://www.pdc.org/privacy-policy/"],direction:[["unimportant"],["important","bad"]]},{name:"count",label:"OSM Objects",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"count_6_months",label:"OSM Objects (last 6 months)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"view_count",label:"OSM Map Views",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]},{name:"avgmax_ts",label:"OSM Last Edit Date (avg)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"max_ts",label:"OSM Last Edit Date (max)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good"]]},{name:"min_ts",label:"OSM First Edit Date (min)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["neutral"]]},{name:"osm_users",label:"OSM Mappers Edited Here",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count",label:"OSM Buildings",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"building_count_6_months",label:"OSM Buildings (last 6 months)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length",label:"OSM Road Length",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"highway_length_6_months",label:"OSM Road Length (last 6 months)",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"local_hours",label:"OSM Mapping Hours by Local Mappers",copyrights:["© Kontur https://kontur.io/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"total_hours",label:"OSM Mapping Hours by All Mappers",copyrights:["© Kontur https://kontur.io/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"pop_disability_total",label:"Population with a disability",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"forest",label:"Forest Landcover Area",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_not_well_eng_speak",label:"Population with a difficulty speaking English",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["good"],["important","bad"]]},{name:"evergreen_needle_leaved_forest",label:"Evergreen Needle-leaved Forest Landcover Area",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_under_5_total",label:"Population under age of 5",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"shrubs",label:"Shrubland Area",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"pop_over_65_total",label:"Population over age of 65",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant"],["important"]]},{name:"herbage",label:"Herbaceous Landcover Area",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"poverty_families_total",label:"Families living below poverty line",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["unimportant, good"],["important"]]},{name:"unknown_forest",label:"Unknown Forest Type Landcover Area",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050"],direction:[["unimportant"],["important"]]},{name:"volcanos_count",label:"Number of volcanos",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"covid19_vaccines",label:"COVID19 Vaccine Acceptance",copyrights:["© Data from Delphi COVIDcast, covidcast.cmu.edu"],direction:[["bad"],["neutral"]]},{name:"covid19_confirmed",label:"COVID19 Confirmed Cases",copyrights:["© Data from JHU CSSE COVID-19 Dataset"],direction:[["good"],["bad"]]},{name:"avg_slope",label:"Average slope",copyrights:["© Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_elevation",label:"Average elevation",copyrights:["© Data from General Bathymatric Chart of the Oceans, www.gebco.net"],direction:[["good","unimportant"],["bad","important"]]},{name:"gdp",label:"Gross Domestic Product",copyrights:["© Kontur https://kontur.io/","© 2019 The World Bank Group, CC-BY 4.0","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, Myroslava Lesiv, Nandin-Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","@ OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad"],["good"]]},{name:"population_prev",label:"Population (previous version)",copyrights:["© Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"wildfires",label:"Wildfire Days Per Year",copyrights:["© NRT VIIRS 375 m Active Fire product VJ114IMGTDL_NRT. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/VIIRS/VJ114IMGT_NRT.002","NRT VIIRS 375 m Active Fire product VNP14IMGT. Available on-line [https://earthdata.nasa.gov/firms]. doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14DL. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14DL.NRT.006","MODIS Collection 6 NRT Hotspot / Active Fire Detections MCD14ML. Available on-line [https://earthdata.nasa.gov/firms]. doi: 10.5067/FIRMS/MODIS/MCD14ML"],direction:[["good","unimportant"],["bad","important"]]},{name:"avg_ndvi",label:"Average NDVI, JUN 2019",copyrights:["© Data from Sentinel-2 L2A 120m Mosaic, CC-BY 4.0, https://forum.sentinel-hub.com/c/aws-sentinel"],direction:[["bad"],["good"]]},{name:"industrial_area",label:"OSM industrial area",copyrights:["© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"pop_without_car",label:"Population without a car",copyrights:["© United States Census Bureau. 2019 5-Year American Community Survey (ACS). https://www.census.gov/en.html"],direction:[["neutral"],["important"]]},{name:"area_km2",label:"Area",copyrights:["Concept of areas © Brahmagupta, René Descartes"],direction:[["neutral"],["neutral"]]},{name:"days_maxtemp_over_32c_1c",label:"Days above 32C, recent scenario",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxtemp_over_32c_2c",label:"Days above 32C, potential scenario (2C)",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_1c",label:"Nights above 25C, recent scenario",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_mintemp_above_25c_2c",label:"Nights above 25C, potential scenario(2C)",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_1c",label:"Days above 32C wet-bulb, recent scenario",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"days_maxwetbulb_over_32c_2c",label:"Days above 32C wet-bulb, potential scenario(2C)",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"mandays_maxtemp_over_32c_1c",label:"Man-days above 32C, recent scenario",copyrights:["© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/, CC BY 4.0"],direction:[["good"],["bad"]]},{name:"man_distance_to_fire_brigade",label:"Man-distance to fire brigade",copyrights:["© Kontur https://kontur.io/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"man_distance_to_hospital",label:"Man-distance to hospitals",copyrights:["© Kontur https://kontur.io/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["good"],["bad"]]},{name:"total_road_length",label:"Total Roads length",copyrights:["©2019 Facebook, Inc. and its affiliates https://github.com/facebookmicrosites/Open-Mapping-At-Facebook/blob/main/LICENSE.md","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"foursquare_places_count",label:"Foursquare Japan places count",copyrights:["©Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"foursquare_visits_count",label:"Foursquare Japan visits count",copyrights:["©Foursquare Labs Inc","Sample data"],direction:[["unimportant"],["important"]]},{name:"one",label:"1",copyrights:["Numbers © Muḥammad ibn Mūsā al-Khwārizmī"],direction:[["neutral"],["neutral"]]},{name:"populated_area_km2",label:"Populated area",copyrights:["© Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"population",label:"Population",copyrights:["© Kontur https://kontur.io/","Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/","Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"total_building_count",label:"Total Buildings Estimate",copyrights:["© Kontur https://kontur.io/","Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050","Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping","Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL).","NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["unimportant"],["important"]]},{name:"view_count_bf2402",label:"OSM Map Views 30 days before 24.02.2022",copyrights:["© Kontur","© OpenStreetMap contributors https://www.openstreetmap.org/copyright"],direction:[["bad","unimportant"],["good","important"]]}]},$fe="_axisMatrix_caw7e_1",jfe={axisMatrix:$fe},Vfe=(e,t)=>{var n,i;return{label:((n=t.find(s=>s.name===e.selectedQuotient[0]))==null?void 0:n.label)||"",selectedQuotient:{id:e.selectedQuotient,label:(i=t.find(s=>s.name===e.selectedQuotient[1]))==null?void 0:i.label},quality:"1",quotients:e.quotients.map(s=>{var l;return{id:s,label:(l=t.find(o=>o.name===s[0]))==null?void 0:l.label,quality:"1"}})}};function Hfe(){const e=jt.useMemo(()=>{if(!Iu.indicators||!Iu.xGroups||!Iu.xGroups.length||!Iu.yGroups||!Iu.yGroups.length)return null;const l=o=>Vfe(o,Iu==null?void 0:Iu.indicators);return{x:Iu.xGroups.map(l),y:Iu.yGroups.map(l)}},[Iu]),[t,n]=jt.useState(null),i=jt.useCallback((l,o,x)=>{console.log("onSelectCellHandler",l,o,x),n({x:l,y:o})},[]),s=jt.useCallback((l,o,x,S)=>{console.log("onSelectQuotient",l,o,x,S)},[]);return _t("div",{className:jfe.axisMatrix,children:wr(LL,{children:[_t(Ufe,{matrix:Iu.matrix,xHeadings:e==null?void 0:e.x,yHeadings:e==null?void 0:e.y,onSelectCell:i,selectedCell:t,onSelectQuotient:s}),_t(RR,{})]})})}const zD=document.createElement("template");zD.innerHTML=`
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg {
  z-index: 99;
  position: fixed;
  border: 0px;
  top: 0px;
}
</style>
<svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;class qfe extends HTMLElement{constructor(){super(),this.right="0",this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(this.ownerDocument.importNode(zD.content,!0)),this.update()}static get observedAttributes(){return["style","z-index","target","height","width","href","color","fill","position","top","left","right","bottom","transform"]}setAttr(t,n){const i=this.shadow.querySelector("svg");/(href)/.test(t.toLocaleLowerCase())?i.lastElementChild.setAttribute("xlink:href",n):/(color|fill)/.test(t.toLocaleLowerCase())?i.firstElementChild.style[t]=n:/(z-index|position|top|left|right|bottom|transform)/.test(t.toLocaleLowerCase())?i.style[t]=n:i.setAttribute(t,n)}update(){[...this.getAttributeNames(),"right"].forEach(t=>{const n=this.getAttribute(t)||this[t]||"";this.setAttr(t,n)})}attributeChangedCallback(t,n,i){n!==i&&this.setAttr(t,i)}}customElements.define("github-corners",qfe);var Gfe=["size","fixed","bottom","zIndex","className","style","bgColor","color","position"];function Qfe(e){var{size:t=80,fixed:n=!1,bottom:i,zIndex:s,style:l,bgColor:o="#151513",color:x="#fff",position:S="right"}=e,P=sd(e,Gfe),M=S==="left"?{left:0,right:"initial",transform:"scale(-1, 1)"}:{right:0,left:"initial",transform:"scale(1, 1)"};return i?(M.bottom=0,M.top="initial",M.transform=S==="left"?"scale(-1, -1)":"scale(1, -1)"):(M.bottom="initial",M.top=0),_t("github-corners",bs({target:"__blank",width:t,height:t,href:e.href,position:n?"fixed":"absolute","z-index":s,style:l,fill:o,color:x},M,P))}const Wfe=({children:e})=>wr(fx,{children:[e,_t(Qfe,{size:40,href:"https://github.com/konturio/disaster-ninja-fe"})]}),Kfe=e=>e.raw[0],Zfe=Kfe`
  .cosmos-ui-kit-decorator {
    padding: 1em;
    display: flex;
    gap: 2em;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    box-sizing: border-box;
    background-color: #fff;
    --transp-clr: #f5f5f5;
    background-image: linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      ),
      linear-gradient(
        45deg,
        var(--transp-clr) 25%,
        transparent 25%,
        transparent 75%,
        var(--transp-clr) 75%
      );
    background-size: 24px 24px;
    background-position: 0 0, 12px 12px;
  }
`;function Xfe({children:e}){return wr(fx,{children:[_t("style",{dangerouslySetInnerHTML:{__html:Zfe}}),_t("div",{className:"cosmos-ui-kit-decorator",children:e})]})}const Yfe={port:5e3},Jfe={"src/components/BivariateLegend/BivariateLegend.fixture.tsx":{module:{default:Aae}},"src/features/bivariate_color_manager/components/MiniLegend/MiniLegend.fixture.tsx":{module:{default:bae}},"src/features/bivariate_manager/fixtures/BivariateGreetings.fixture.tsx":{module:{default:Oae}},"src/features/bivariate_manager/fixtures/BivariateMatrixControl.fixture.tsx":{module:{default:Hfe}}},epe={"cosmos.decorator.tsx":Wfe,"src/cosmos.decorator.tsx":Xfe};E3.mountDomRenderer({rendererConfig:Yfe,decorators:epe,fixtures:Jfe});console.log("Disaster Ninja",FH);export{_t as a,wr as j,jt as r};
